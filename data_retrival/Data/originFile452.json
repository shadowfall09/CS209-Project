{"items":[{"tags":["java","selenium","tosca"],"owner":{"account_id":15995811,"reputation":21,"user_id":11543759,"display_name":"whoisdani"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":899,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1683437724,"creation_date":1559051221,"question_id":56343691,"body_markdown":"I am trying to run an existing Selenium Script within Tosca. But there seems to be an issue and none of the existing articles really help me. \r\n\r\n\r\nI used the standard tbox modules &quot;Start Selenium Server&quot; and &quot;Run Selenium Scripts&quot;. In those modules I changed the path to the .jar file which I created with maven. I have written the testcases with junit 4 and used chrome webdriver to execute them. When I execute them in IntelliJ they work perfectly fine but as soon as I try to import them Tosca fails to execute. \r\nThe code looks like this:\r\n\r\n\r\n\r\n\r\n    public class F {\r\n\r\n    private WebDriver driver;\r\n    private JavascriptExecutor js;\r\n    private WebDriverWait wait;\r\n\r\n\r\n    @Before\r\n    public void init(){\r\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;P:/Documents/seflx/chromedriver.exe&quot;);\r\n        driver = new ChromeDriver();\r\n        driver.manage().timeouts().implicitlyWait(30, TimeUnit.SECONDS);\r\n        js = (JavascriptExecutor) driver;\r\n        wait = new WebDriverWait(driver, 30);\r\n        driver.manage().window().maximize();\r\n        driver.get(&quot;url&quot;);\r\n    }\r\n\r\n    @Test\r\n    public void searchSubmission() {\r\n        driver.switchTo().defaultContent();\r\n        driver.switchTo().frame(&quot;workflow_frame_1&quot;);\r\n        WebElement initScreen = driver.findElement(By.className(&quot;loading-screen&quot;));\r\n        WebElement loadingScreen = driver.findElement(By.xpath(&quot;/html&quot;));\r\n    }\r\n\r\nAs you can see in the code, I have no main class, is this the problem? Because I read in the Tosca documentary that junit is supported. \r\n\r\nWhat I expect is that within tosca the selenium jar file is executed. The current outcome I get is this: \r\n   \r\n     Selenium Server started successfully\r\n     Run Selenium Scripts: startIndex cannot be larger than length of string.\r\n     Parameter name: startIndex\r\n\r\n```\r\nSystem.ArgumentOutOfRangeException: startIndex cannot be larger than length of string.\r\nParameter name: startIndex\r\n   at System.String.Substring(Int32 startIndex, Int32 length)\r\n   at Tricentis.Automation.SpecialExecutionTasks.SeleniumExecution.ExecuteSeleniumTestsSpecialExecutionTask.AnalyzeJunitTestResult(String resultMessage, String outputHtml, String projectPathToLog)\r\n   at Tricentis.Automation.SpecialExecutionTasks.SeleniumExecution.ExecuteSeleniumTestsSpecialExecutionTask.Execute(ISpecialExecutionTaskTestAction testAction)\r\n   at Tricentis.Automation.SpecialExecutionTasks.SeleniumExecution.ExecuteSeleniumTestsSpecialExecutionTask.ExecuteTask(ISpecialExecutionTaskTestAction testAction)\r\n   at ᜈ.ᜀ()\r\n   at ᜈ.ᜁ()\r\n   at Tricentis.Automation.Execution.ItemExecutor`1.Execute()\r\n```\r\n[screenshot of tosca output][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/eprX9.png\r\n","title":"Execute Selenium Script with Tosca","body":"<p>I am trying to run an existing Selenium Script within Tosca. But there seems to be an issue and none of the existing articles really help me. </p>\n\n<p>I used the standard tbox modules \"Start Selenium Server\" and \"Run Selenium Scripts\". In those modules I changed the path to the .jar file which I created with maven. I have written the testcases with junit 4 and used chrome webdriver to execute them. When I execute them in IntelliJ they work perfectly fine but as soon as I try to import them Tosca fails to execute. \nThe code looks like this:</p>\n\n<pre><code>public class F {\n\nprivate WebDriver driver;\nprivate JavascriptExecutor js;\nprivate WebDriverWait wait;\n\n\n@Before\npublic void init(){\n    System.setProperty(\"webdriver.chrome.driver\", \"P:/Documents/seflx/chromedriver.exe\");\n    driver = new ChromeDriver();\n    driver.manage().timeouts().implicitlyWait(30, TimeUnit.SECONDS);\n    js = (JavascriptExecutor) driver;\n    wait = new WebDriverWait(driver, 30);\n    driver.manage().window().maximize();\n    driver.get(\"url\");\n}\n\n@Test\npublic void searchSubmission() {\n    driver.switchTo().defaultContent();\n    driver.switchTo().frame(\"workflow_frame_1\");\n    WebElement initScreen = driver.findElement(By.className(\"loading-screen\"));\n    WebElement loadingScreen = driver.findElement(By.xpath(\"/html\"));\n}\n</code></pre>\n\n<p>As you can see in the code, I have no main class, is this the problem? Because I read in the Tosca documentary that junit is supported. </p>\n\n<p>What I expect is that within tosca the selenium jar file is executed. The current outcome I get is this: </p>\n\n<pre><code> Selenium Server started successfully\n Run Selenium Scripts: startIndex cannot be larger than length of string.\n Parameter name: startIndex\n</code></pre>\n\n<pre><code>System.ArgumentOutOfRangeException: startIndex cannot be larger than length of string.\nParameter name: startIndex\n   at System.String.Substring(Int32 startIndex, Int32 length)\n   at Tricentis.Automation.SpecialExecutionTasks.SeleniumExecution.ExecuteSeleniumTestsSpecialExecutionTask.AnalyzeJunitTestResult(String resultMessage, String outputHtml, String projectPathToLog)\n   at Tricentis.Automation.SpecialExecutionTasks.SeleniumExecution.ExecuteSeleniumTestsSpecialExecutionTask.Execute(ISpecialExecutionTaskTestAction testAction)\n   at Tricentis.Automation.SpecialExecutionTasks.SeleniumExecution.ExecuteSeleniumTestsSpecialExecutionTask.ExecuteTask(ISpecialExecutionTaskTestAction testAction)\n   at ᜈ.ᜀ()\n   at ᜈ.ᜁ()\n   at Tricentis.Automation.Execution.ItemExecutor`1.Execute()\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/eprX9.png\" rel=\"nofollow noreferrer\">screenshot of tosca output</a></p>\n"},{"tags":["java","oop","collections"],"comments":[{"owner":{"account_id":27505,"reputation":32693,"user_id":72673,"accept_rate":72,"display_name":"Maurice Perry"},"score":1,"creation_date":1271409634,"post_id":2651819,"comment_id":2667918,"body_markdown":"event Set&lt;Map.Entry&lt;K,V&gt;&gt; actually","body":"event Set&lt;Map.Entry&lt;K,V&gt;&gt; actually"},{"owner":{"account_id":109541,"reputation":4321,"user_id":290182,"accept_rate":92,"display_name":"beldaz"},"score":4,"creation_date":1368217261,"post_id":2651819,"comment_id":23666736,"body_markdown":"It just doesn&#39;t. It&#39;s based on an opinion (as described in the Design FAQ), rather than being a logical conclusion. For an alternative approach look at the design of containers in the C++ STL (http://www.sgi.com/tech/stl/table_of_contents.html) which is based upon Stepanov&#39;s thorough and brilliant analysis.","body":"It just doesn&#39;t. It&#39;s based on an opinion (as described in the Design FAQ), rather than being a logical conclusion. For an alternative approach look at the design of containers in the C++ STL (<a href=\"http://www.sgi.com/tech/stl/table_of_contents.html\" rel=\"nofollow noreferrer\">sgi.com/tech/stl/table_of_contents.html</a>) which is based upon Stepanov&#39;s thorough and brilliant analysis."},{"owner":{"account_id":13677323,"reputation":3369,"user_id":9868445,"display_name":"aderchox"},"score":0,"creation_date":1618323526,"post_id":2651819,"comment_id":118563601,"body_markdown":"The OP has changed their question, I&#39;m not sure if it&#39;s permitted in the SO rules. For the impatient, there&#39;s a succinct answer to the latter question (why it can&#39;t inherit from `Set&lt;Map.Entry&lt;K,V&gt;&gt;`) in the @einpoklum&#39;s answer. But for the initial question (as in the title), I&#39;ve not found any good answers here yet, except the `by design` quoted from the FAQ.","body":"The OP has changed their question, I&#39;m not sure if it&#39;s permitted in the SO rules. For the impatient, there&#39;s a succinct answer to the latter question (why it can&#39;t inherit from <code>Set&lt;Map.Entry&lt;K,V&gt;&gt;</code>) in the @einpoklum&#39;s answer. But for the initial question (as in the title), I&#39;ve not found any good answers here yet, except the <code>by design</code> quoted from the FAQ."}],"answers":[{"tags":[],"owner":{"account_id":9867,"reputation":618181,"user_id":18393,"accept_rate":82,"display_name":"cletus"},"down_vote_count":1,"up_vote_count":142,"is_accepted":true,"score":141,"last_activity_date":1625882266,"creation_date":1271409618,"answer_id":2651833,"question_id":2651819,"body_markdown":"From the [Java Collections API Design FAQ][1]:\r\n\r\n&gt; ### Why doesn&#39;t Map extend Collection?\r\n&gt; \r\n&gt; This was by design. We feel that\r\n&gt; mappings are not collections and\r\n&gt; collections are not mappings. Thus, it\r\n&gt; makes little sense for Map to extend\r\n&gt; the Collection interface (or vice\r\n&gt; versa).\r\n&gt; \r\n&gt; If a Map is a Collection, what are the\r\n&gt; elements? The only reasonable answer\r\n&gt; is &quot;Key-value pairs&quot;, but this\r\n&gt; provides a very limited (and not\r\n&gt; particularly useful) Map abstraction.\r\n&gt; You can&#39;t ask what value a given key\r\n&gt; maps to, nor can you delete the entry\r\n&gt; for a given key without knowing what\r\n&gt; value it maps to.\r\n&gt; \r\n&gt; Collection could be made to extend\r\n&gt; Map, but this raises the question:\r\n&gt; what are the keys? There&#39;s no really\r\n&gt; satisfactory answer, and forcing one\r\n&gt; leads to an unnatural interface.\r\n&gt; \r\n&gt; Maps can be viewed as Collections (of\r\n&gt; keys, values, or pairs), and this fact\r\n&gt; is reflected in the three &quot;Collection\r\n&gt; view operations&quot; on Maps (keySet,\r\n&gt; entrySet, and values). While it is, in\r\n&gt; principle, possible to view a List as\r\n&gt; a Map mapping indices to elements,\r\n&gt; this has the nasty property that\r\n&gt; deleting an element from the List\r\n&gt; changes the Key associated with every\r\n&gt; element before the deleted element.\r\n&gt; That&#39;s why we don&#39;t have a map view\r\n&gt; operation on Lists.\r\n\r\n**Update:** I think the quote answers most of the questions. It&#39;s worth stressing the part about a collection of entries not being a particularly useful abstraction. For example:\r\n\r\n    Set&lt;Map.Entry&lt;String,String&gt;&gt;\r\n\r\nwould allow:\r\n\r\n    set.add(entry(&quot;hello&quot;, &quot;world&quot;));\r\n    set.add(entry(&quot;hello&quot;, &quot;world 2&quot;));\r\n\r\n(assuming an `entry()` method that creates a `Map.Entry` instance)\r\n\r\n`Map`s require unique keys so this would violate this. Or if you impose unique keys on a `Set` of entries, it&#39;s not really a `Set` in the general sense. It&#39;s a `Set` with further restrictions.\r\n\r\nArguably you could say the `equals()`/`hashCode()` relationship for `Map.Entry` was purely on the key but even that has issues. More importantly, does it really add any value? You may find this abstraction breaks down once you start looking at the corner cases.\r\n\r\nIt&#39;s worth noting that the `HashSet` is actually implemented as a `HashMap`, not the other way around. This is purely an implementation detail but is interesting nonetheless.\r\n\r\nThe main reason for `entrySet()` to exist is to simplify traversal so you don&#39;t have to traverse the keys and then do a lookup of the key. Don&#39;t take it as prima facie evidence that a `Map` should be a `Set` of entries (imho).\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/technotes/guides/collections/designfaq.html#a14\r\n\r\n","title":"Why doesn&#39;t Java Map extend Collection?","body":"<p>From the <a href=\"http://docs.oracle.com/javase/8/docs/technotes/guides/collections/designfaq.html#a14\" rel=\"noreferrer\">Java Collections API Design FAQ</a>:</p>\n<blockquote>\n<h3>Why doesn't Map extend Collection?</h3>\n<p>This was by design. We feel that\nmappings are not collections and\ncollections are not mappings. Thus, it\nmakes little sense for Map to extend\nthe Collection interface (or vice\nversa).</p>\n<p>If a Map is a Collection, what are the\nelements? The only reasonable answer\nis &quot;Key-value pairs&quot;, but this\nprovides a very limited (and not\nparticularly useful) Map abstraction.\nYou can't ask what value a given key\nmaps to, nor can you delete the entry\nfor a given key without knowing what\nvalue it maps to.</p>\n<p>Collection could be made to extend\nMap, but this raises the question:\nwhat are the keys? There's no really\nsatisfactory answer, and forcing one\nleads to an unnatural interface.</p>\n<p>Maps can be viewed as Collections (of\nkeys, values, or pairs), and this fact\nis reflected in the three &quot;Collection\nview operations&quot; on Maps (keySet,\nentrySet, and values). While it is, in\nprinciple, possible to view a List as\na Map mapping indices to elements,\nthis has the nasty property that\ndeleting an element from the List\nchanges the Key associated with every\nelement before the deleted element.\nThat's why we don't have a map view\noperation on Lists.</p>\n</blockquote>\n<p><strong>Update:</strong> I think the quote answers most of the questions. It's worth stressing the part about a collection of entries not being a particularly useful abstraction. For example:</p>\n<pre><code>Set&lt;Map.Entry&lt;String,String&gt;&gt;\n</code></pre>\n<p>would allow:</p>\n<pre><code>set.add(entry(&quot;hello&quot;, &quot;world&quot;));\nset.add(entry(&quot;hello&quot;, &quot;world 2&quot;));\n</code></pre>\n<p>(assuming an <code>entry()</code> method that creates a <code>Map.Entry</code> instance)</p>\n<p><code>Map</code>s require unique keys so this would violate this. Or if you impose unique keys on a <code>Set</code> of entries, it's not really a <code>Set</code> in the general sense. It's a <code>Set</code> with further restrictions.</p>\n<p>Arguably you could say the <code>equals()</code>/<code>hashCode()</code> relationship for <code>Map.Entry</code> was purely on the key but even that has issues. More importantly, does it really add any value? You may find this abstraction breaks down once you start looking at the corner cases.</p>\n<p>It's worth noting that the <code>HashSet</code> is actually implemented as a <code>HashMap</code>, not the other way around. This is purely an implementation detail but is interesting nonetheless.</p>\n<p>The main reason for <code>entrySet()</code> to exist is to simplify traversal so you don't have to traverse the keys and then do a lookup of the key. Don't take it as prima facie evidence that a <code>Map</code> should be a <code>Set</code> of entries (imho).</p>\n"},{"tags":[],"owner":{"account_id":10987,"reputation":50685,"user_id":21005,"accept_rate":78,"display_name":"Mnementh"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1271412166,"creation_date":1271412166,"answer_id":2652043,"question_id":2651819,"body_markdown":"The answer of cletus is good, but I want to add a semantic approach. To combine both makes no sense, think of the case you add a key-value-pair via the collection interface and the key already exists. The Map-interface allows only one value associated with the key. But if you automatically remove the existing entry with the same key, the collection has after the add the same size as before - very unexpected for a collection.","title":"Why doesn&#39;t Java Map extend Collection?","body":"<p>The answer of cletus is good, but I want to add a semantic approach. To combine both makes no sense, think of the case you add a key-value-pair via the collection interface and the key already exists. The Map-interface allows only one value associated with the key. But if you automatically remove the existing entry with the same key, the collection has after the add the same size as before - very unexpected for a collection.</p>\n"},{"tags":[],"owner":{"account_id":83889,"reputation":26612,"user_id":234901,"accept_rate":97,"display_name":"Enno Shioji"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1271413424,"creation_date":1271412673,"answer_id":2652078,"question_id":2651819,"body_markdown":"&gt; Exactly, `interface Map&lt;K,V&gt; extends\r\n&gt; Set&lt;Map.Entry&lt;K,V&gt;&gt;` would be great!\r\n\r\nActually, if it were `implements Map&lt;K,V&gt;, Set&lt;Map.Entry&lt;K,V&gt;&gt;`, then I tend to agree.. It seems even natural. But that doesn&#39;t work very well, right? Let&#39;s say we have `HashMap implements Map&lt;K,V&gt;, Set&lt;Map.Entry&lt;K,V&gt;`, `LinkedHashMap implements Map&lt;K,V&gt;, Set&lt;Map.Entry&lt;K,V&gt;` etc... that is all good, but if you had `entrySet()`, nobody will forget to implement that method, and you can be sure that you can get entrySet for any Map, whereas you aren&#39;t if you are hoping that the implementor has implemented both interfaces...\r\n\r\nThe reason I don&#39;t want to have `interface Map&lt;K,V&gt; extends Set&lt;Map.Entry&lt;K,V&gt;&gt;` is simply, because there will be more methods. And after all, they are different things, right? Also very practically, if I hit `map.` in IDE, I don&#39;t want to see `.remove(Object obj)`, and `.remove(Map.Entry&lt;K,V&gt; entry)` because I can&#39;t do `hit ctrl+space, r, return` and be done with it.   \r\n\r\n","title":"Why doesn&#39;t Java Map extend Collection?","body":"<blockquote>\n  <p>Exactly, <code>interface Map&lt;K,V&gt; extends\n  Set&lt;Map.Entry&lt;K,V&gt;&gt;</code> would be great!</p>\n</blockquote>\n\n<p>Actually, if it were <code>implements Map&lt;K,V&gt;, Set&lt;Map.Entry&lt;K,V&gt;&gt;</code>, then I tend to agree.. It seems even natural. But that doesn't work very well, right? Let's say we have <code>HashMap implements Map&lt;K,V&gt;, Set&lt;Map.Entry&lt;K,V&gt;</code>, <code>LinkedHashMap implements Map&lt;K,V&gt;, Set&lt;Map.Entry&lt;K,V&gt;</code> etc... that is all good, but if you had <code>entrySet()</code>, nobody will forget to implement that method, and you can be sure that you can get entrySet for any Map, whereas you aren't if you are hoping that the implementor has implemented both interfaces...</p>\n\n<p>The reason I don't want to have <code>interface Map&lt;K,V&gt; extends Set&lt;Map.Entry&lt;K,V&gt;&gt;</code> is simply, because there will be more methods. And after all, they are different things, right? Also very practically, if I hit <code>map.</code> in IDE, I don't want to see <code>.remove(Object obj)</code>, and <code>.remove(Map.Entry&lt;K,V&gt; entry)</code> because I can't do <code>hit ctrl+space, r, return</code> and be done with it.   </p>\n"},{"tags":[],"owner":{"account_id":76005,"reputation":38195,"user_id":217862,"accept_rate":64,"display_name":"ewernli"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1354747824,"creation_date":1271412683,"answer_id":2652083,"question_id":2651819,"body_markdown":"I guess the *why* is subjective.\r\n\r\nIn C#, I think `Dictionary` extends or at least implements a collection:\r\n\r\n    public class Dictionary&lt;TKey, TValue&gt; : IDictionary&lt;TKey, TValue&gt;, \r\n    \tICollection&lt;KeyValuePair&lt;TKey, TValue&gt;&gt;, IEnumerable&lt;KeyValuePair&lt;TKey, TValue&gt;&gt;, \r\n    \tIDictionary, ICollection, IEnumerable, ISerializable, IDeserializationCallback\r\n\r\nIn Pharo Smalltak as well: \r\n\r\n    Collection subclass: #Set\r\n    Set subclass: #Dictionary\r\n\r\nBut there is an asymmetry with some methods. For instance, `collect:` will takes association (the equivalent of an entry), while `do:` take the values. They provide another method `keysAndValuesDo:` to iterate the dictionary by entry. `Add:` takes an association, but `remove:` has been &quot;suppressed&quot;:\r\n\r\n    remove: anObject\r\n    self shouldNotImplement \r\n\r\nSo it&#39;s definitively doable, but leads to some other issues regarding the class hierarchy. \r\n\r\nWhat is better is subjective.\r\n","title":"Why doesn&#39;t Java Map extend Collection?","body":"<p>I guess the <em>why</em> is subjective.</p>\n\n<p>In C#, I think <code>Dictionary</code> extends or at least implements a collection:</p>\n\n<pre><code>public class Dictionary&lt;TKey, TValue&gt; : IDictionary&lt;TKey, TValue&gt;, \n    ICollection&lt;KeyValuePair&lt;TKey, TValue&gt;&gt;, IEnumerable&lt;KeyValuePair&lt;TKey, TValue&gt;&gt;, \n    IDictionary, ICollection, IEnumerable, ISerializable, IDeserializationCallback\n</code></pre>\n\n<p>In Pharo Smalltak as well: </p>\n\n<pre><code>Collection subclass: #Set\nSet subclass: #Dictionary\n</code></pre>\n\n<p>But there is an asymmetry with some methods. For instance, <code>collect:</code> will takes association (the equivalent of an entry), while <code>do:</code> take the values. They provide another method <code>keysAndValuesDo:</code> to iterate the dictionary by entry. <code>Add:</code> takes an association, but <code>remove:</code> has been \"suppressed\":</p>\n\n<pre><code>remove: anObject\nself shouldNotImplement \n</code></pre>\n\n<p>So it's definitively doable, but leads to some other issues regarding the class hierarchy. </p>\n\n<p>What is better is subjective.</p>\n"},{"tags":[],"owner":{"account_id":60200,"reputation":479675,"user_id":179910,"display_name":"Jerry Coffin"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1271447466,"creation_date":1271447466,"answer_id":2655737,"question_id":2651819,"body_markdown":"While you&#39;ve gotten a number of answers that cover your question fairly directly, I think it might be useful to step back a bit, and look at the question a bit more generally. That is, not to look specifically at how the Java library happens to be written, and look at why it&#39;s written that way.\r\n\r\nThe problem here is that inheritance only models *one* type of commonality. If you pick out two things that both seem &quot;collection-like&quot;, you can probably pick out a 8 or 10 things they have in common. If you pick out a different pair of &quot;collection-like&quot; things, they&#39;ll also 8 or 10 things in common -- but they won&#39;t be the *same* 8 or 10 things as the first pair.\r\n\r\nIf you look at a dozen or so different &quot;collection-like&quot; things, virtually every one of them will probably have something like 8 or 10 characteristics in common with at least one other one -- but if you look at what&#39;s shared across *every* one of them, you&#39;re left with practically nothing. \r\n\r\nThis is a situation that inheritance (especially single inheritance) just doesn&#39;t model well. There&#39;s no clean dividing line between which of those are really collections and which aren&#39;t -- but if you want to define a meaningful Collection class, you&#39;re stuck with leaving some of them out. If you leave only a few of them out, your Collection class will only be able to provide quite a sparse interface. If you leave more out, you&#39;ll be able to give it a richer interface.\r\n\r\nSome also take the option of basically saying: &quot;this type of collection supports operation X, but you&#39;re not allowed to use it, by deriving from a base class that defines X, but attempting to use the derived class&#39; X fails (e.g., by throwing an exception).\r\n\r\nThat still leaves one problem: almost regardless of which you leave out and which you put in, you&#39;re going to have to draw a hard line between what classes are in and what are out. No matter where you draw that line, you&#39;re going to be left with a clear, rather artificial, division between some things that are *quite* similar.","title":"Why doesn&#39;t Java Map extend Collection?","body":"<p>While you've gotten a number of answers that cover your question fairly directly, I think it might be useful to step back a bit, and look at the question a bit more generally. That is, not to look specifically at how the Java library happens to be written, and look at why it's written that way.</p>\n\n<p>The problem here is that inheritance only models <em>one</em> type of commonality. If you pick out two things that both seem \"collection-like\", you can probably pick out a 8 or 10 things they have in common. If you pick out a different pair of \"collection-like\" things, they'll also 8 or 10 things in common -- but they won't be the <em>same</em> 8 or 10 things as the first pair.</p>\n\n<p>If you look at a dozen or so different \"collection-like\" things, virtually every one of them will probably have something like 8 or 10 characteristics in common with at least one other one -- but if you look at what's shared across <em>every</em> one of them, you're left with practically nothing. </p>\n\n<p>This is a situation that inheritance (especially single inheritance) just doesn't model well. There's no clean dividing line between which of those are really collections and which aren't -- but if you want to define a meaningful Collection class, you're stuck with leaving some of them out. If you leave only a few of them out, your Collection class will only be able to provide quite a sparse interface. If you leave more out, you'll be able to give it a richer interface.</p>\n\n<p>Some also take the option of basically saying: \"this type of collection supports operation X, but you're not allowed to use it, by deriving from a base class that defines X, but attempting to use the derived class' X fails (e.g., by throwing an exception).</p>\n\n<p>That still leaves one problem: almost regardless of which you leave out and which you put in, you're going to have to draw a hard line between what classes are in and what are out. No matter where you draw that line, you're going to be left with a clear, rather artificial, division between some things that are <em>quite</em> similar.</p>\n"},{"tags":[],"owner":{"account_id":162781,"reputation":9602,"user_id":384464,"display_name":"xagyg"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1278509758,"creation_date":1278509758,"answer_id":3195202,"question_id":2651819,"body_markdown":"Java collections are broken. There is a missing interface, that of Relation. Hence, Map extends Relation extends Set. Relations (also called multi-maps) have unique name-value pairs. Maps (aka &quot;Functions&quot;), have unique names (or keys) which of course map to values. Sequences extend Maps (where each key is an integer &gt; 0). Bags (or multi-sets) extend Maps (where each key is an element and each value is the number of times the element appears in the bag).\r\n\r\n \r\n\r\nThis structure would allow intersection, union etc. of a range of &quot;collections&quot;. Hence, the hierarchy should be:\r\n\r\n \r\n\r\n                                    Set\r\n\r\n                                     |\r\n\r\n                                  Relation\r\n\r\n                                     |\r\n\r\n                                    Map\r\n\r\n                                    / \\\r\n\r\n                                 Bag Sequence\r\n\r\n \r\n\r\nSun/Oracle/Java ppl - please get it right next time. Thanks.\r\n","title":"Why doesn&#39;t Java Map extend Collection?","body":"<p>Java collections are broken. There is a missing interface, that of Relation. Hence, Map extends Relation extends Set. Relations (also called multi-maps) have unique name-value pairs. Maps (aka \"Functions\"), have unique names (or keys) which of course map to values. Sequences extend Maps (where each key is an integer > 0). Bags (or multi-sets) extend Maps (where each key is an element and each value is the number of times the element appears in the bag).</p>\n\n<p>This structure would allow intersection, union etc. of a range of \"collections\". Hence, the hierarchy should be:</p>\n\n<pre><code>                                Set\n\n                                 |\n\n                              Relation\n\n                                 |\n\n                                Map\n\n                                / \\\n\n                             Bag Sequence\n</code></pre>\n\n<p>Sun/Oracle/Java ppl - please get it right next time. Thanks.</p>\n"},{"tags":[],"owner":{"account_id":514136,"reputation":120958,"user_id":1593077,"accept_rate":49,"display_name":"einpoklum"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1424544738,"creation_date":1424544388,"answer_id":28649822,"question_id":2651819,"body_markdown":"`Map&lt;K,V&gt;` should not extend `Set&lt;Map.Entry&lt;K,V&gt;&gt;` since:\r\n\r\n- You **can&#39;t** add different `Map.Entry`s with the same key to the same `Map`, but\r\n- You **can** add different `Map.Entry`s with the same key to the same `Set&lt;Map.Entry&gt;`.","title":"Why doesn&#39;t Java Map extend Collection?","body":"<p><code>Map&lt;K,V&gt;</code> should not extend <code>Set&lt;Map.Entry&lt;K,V&gt;&gt;</code> since:</p>\n\n<ul>\n<li>You <strong>can't</strong> add different <code>Map.Entry</code>s with the same key to the same <code>Map</code>, but</li>\n<li>You <strong>can</strong> add different <code>Map.Entry</code>s with the same key to the same <code>Set&lt;Map.Entry&gt;</code>.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":4897356,"reputation":85,"user_id":3946503,"display_name":"Mayur Ingle"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1475615196,"creation_date":1475596649,"answer_id":39856863,"question_id":2651819,"body_markdown":"If you look at the respective data structure you can easily guess why `Map` is not a part of `Collection`. Each `Collection` stores a single value where as a `Map` stores key-value pair. So methods in `Collection` interface are incompatible for `Map` interface. For example in `Collection` we have `add(Object o)`. What would be such implementation in `Map`. It doesn&#39;t make sense to have such a method in `Map`. Instead we have a `put(key,value)` method in `Map`.\r\n\r\nSame argument goes for `addAll()`, `remove()`, and `removeAll()` methods. So the main reason is the difference in the way data is stored in `Map` and `Collection`.\r\nAlso if you recall `Collection` interface implemented `Iterable` interface i.e. any interface with `.iterator()` method should return an iterator which must allow us to iterate over the values stored in the `Collection`. Now what would such method return for a `Map`? Key iterator or a Value iterator? This does not make sense either.\r\n\r\nThere are ways in which we can iterate over keys and values stores in a `Map` and that is how it is a part of `Collection` framework.","title":"Why doesn&#39;t Java Map extend Collection?","body":"<p>If you look at the respective data structure you can easily guess why <code>Map</code> is not a part of <code>Collection</code>. Each <code>Collection</code> stores a single value where as a <code>Map</code> stores key-value pair. So methods in <code>Collection</code> interface are incompatible for <code>Map</code> interface. For example in <code>Collection</code> we have <code>add(Object o)</code>. What would be such implementation in <code>Map</code>. It doesn't make sense to have such a method in <code>Map</code>. Instead we have a <code>put(key,value)</code> method in <code>Map</code>.</p>\n\n<p>Same argument goes for <code>addAll()</code>, <code>remove()</code>, and <code>removeAll()</code> methods. So the main reason is the difference in the way data is stored in <code>Map</code> and <code>Collection</code>.\nAlso if you recall <code>Collection</code> interface implemented <code>Iterable</code> interface i.e. any interface with <code>.iterator()</code> method should return an iterator which must allow us to iterate over the values stored in the <code>Collection</code>. Now what would such method return for a <code>Map</code>? Key iterator or a Value iterator? This does not make sense either.</p>\n\n<p>There are ways in which we can iterate over keys and values stores in a <code>Map</code> and that is how it is a part of <code>Collection</code> framework.</p>\n"},{"tags":[],"owner":{"account_id":4527930,"reputation":1089,"user_id":3679238,"accept_rate":0,"display_name":"Trinadh Koya"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1545107154,"creation_date":1490354299,"answer_id":42998166,"question_id":2651819,"body_markdown":"Straight and simple.\r\nCollection is an interface which is expecting only one Object, whereas Map requires Two.\r\n\r\n    Collection(Object o);\r\n    Map&lt;Object,Object&gt;","title":"Why doesn&#39;t Java Map extend Collection?","body":"<p>Straight and simple.\nCollection is an interface which is expecting only one Object, whereas Map requires Two.</p>\n\n<pre><code>Collection(Object o);\nMap&lt;Object,Object&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26151279,"reputation":1,"user_id":19839199,"display_name":"Amit Jha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683437336,"creation_date":1683437336,"answer_id":76192324,"question_id":2651819,"body_markdown":" 1. The Map interface in Java follows key/value pair structure whereas the Collection interface is collection of objects which are stored in structure with a specified mechanism.\r\n 2. The main reason map doesn&#39;t extend Collection interface is that ```add(E e)``` method of collection interface doesn&#39;t support key-value pair like map interface&#39;s ```put(k,v)``` method.\r\n 3. It might not extend Collection interface but still an integral part of Java Collection framework","title":"Why doesn&#39;t Java Map extend Collection?","body":"<ol>\n<li>The Map interface in Java follows key/value pair structure whereas the Collection interface is collection of objects which are stored in structure with a specified mechanism.</li>\n<li>The main reason map doesn't extend Collection interface is that <code>add(E e)</code> method of collection interface doesn't support key-value pair like map interface's <code>put(k,v)</code> method.</li>\n<li>It might not extend Collection interface but still an integral part of Java Collection framework</li>\n</ol>\n"}],"owner":{"account_id":102991,"reputation":378282,"user_id":276101,"accept_rate":67,"display_name":"polygenelubricants"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49194,"favorite_count":0,"down_vote_count":0,"up_vote_count":163,"accepted_answer_id":2651833,"answer_count":10,"score":163,"last_activity_date":1683437336,"creation_date":1271409441,"question_id":2651819,"body_markdown":"I was surprised by the fact that `Map&lt;?,?&gt;` is not a `Collection&lt;?&gt;`.\r\n\r\nI thought it&#39;d make a LOT of sense if it was declared as such:\r\n\r\n    public interface Map&lt;K,V&gt; extends Collection&lt;Map.Entry&lt;K,V&gt;&gt;\r\n\r\nAfter all, a `Map&lt;K,V&gt;` is a collection of [`Map.Entry&lt;K,V&gt;`](http://java.sun.com/javase/6/docs/api/java/util/Map.Entry.html), isn&#39;t it?\r\n\r\nSo is there a good reason why it&#39;s not implemented as such?\r\n\r\n---\r\n\r\nThanks to Cletus for a most authoritative answer, but I&#39;m still wondering why, if you can already view a `Map&lt;K,V&gt;` as `Set&lt;Map.Entries&lt;K,V&gt;&gt;` (via `entrySet()`), it doesn&#39;t just extend that interface instead.\r\n\r\n&gt; If a `Map` is a `Collection`, what are the elements? The only reasonable answer is &quot;Key-value pairs&quot;\r\n\r\nExactly, `interface Map&lt;K,V&gt; extends Set&lt;Map.Entry&lt;K,V&gt;&gt;` would be great!\r\n\r\n&gt; but this provides a very limited (and not particularly useful) `Map` abstraction.\r\n\r\nBut if that&#39;s the case then why is `entrySet` specified by the interface? It must be useful somehow (and I think it&#39;s easy to argue for that position!).\r\n\r\n&gt; You can&#39;t ask what value a given key maps to, nor can you delete the entry for a given key without knowing what value it maps to.\r\n\r\nI&#39;m not saying that that&#39;s all there is to it to `Map`! It can and _should_ keep all the other methods (except `entrySet`, which is redundant now)!","title":"Why doesn&#39;t Java Map extend Collection?","body":"<p>I was surprised by the fact that <code>Map&lt;?,?&gt;</code> is not a <code>Collection&lt;?&gt;</code>.</p>\n\n<p>I thought it'd make a LOT of sense if it was declared as such:</p>\n\n<pre><code>public interface Map&lt;K,V&gt; extends Collection&lt;Map.Entry&lt;K,V&gt;&gt;\n</code></pre>\n\n<p>After all, a <code>Map&lt;K,V&gt;</code> is a collection of <a href=\"http://java.sun.com/javase/6/docs/api/java/util/Map.Entry.html\" rel=\"noreferrer\"><code>Map.Entry&lt;K,V&gt;</code></a>, isn't it?</p>\n\n<p>So is there a good reason why it's not implemented as such?</p>\n\n<hr>\n\n<p>Thanks to Cletus for a most authoritative answer, but I'm still wondering why, if you can already view a <code>Map&lt;K,V&gt;</code> as <code>Set&lt;Map.Entries&lt;K,V&gt;&gt;</code> (via <code>entrySet()</code>), it doesn't just extend that interface instead.</p>\n\n<blockquote>\n  <p>If a <code>Map</code> is a <code>Collection</code>, what are the elements? The only reasonable answer is \"Key-value pairs\"</p>\n</blockquote>\n\n<p>Exactly, <code>interface Map&lt;K,V&gt; extends Set&lt;Map.Entry&lt;K,V&gt;&gt;</code> would be great!</p>\n\n<blockquote>\n  <p>but this provides a very limited (and not particularly useful) <code>Map</code> abstraction.</p>\n</blockquote>\n\n<p>But if that's the case then why is <code>entrySet</code> specified by the interface? It must be useful somehow (and I think it's easy to argue for that position!).</p>\n\n<blockquote>\n  <p>You can't ask what value a given key maps to, nor can you delete the entry for a given key without knowing what value it maps to.</p>\n</blockquote>\n\n<p>I'm not saying that that's all there is to it to <code>Map</code>! It can and <em>should</em> keep all the other methods (except <code>entrySet</code>, which is redundant now)!</p>\n"},{"tags":["java","scala","generics","types"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1683179365,"post_id":76169924,"comment_id":134327266,"body_markdown":"Don&#39;t know about scala, but Java does not have this. Perhaps this is an [XY problem](https://xyproblem.info/). What problem are you trying to solve exactly?","body":"Don&#39;t know about scala, but Java does not have this. Perhaps this is an <a href=\"https://xyproblem.info/\" rel=\"nofollow noreferrer\">XY problem</a>. What problem are you trying to solve exactly?"},{"owner":{"account_id":334110,"reputation":592,"user_id":660339,"accept_rate":40,"display_name":"Ivan Perez"},"score":0,"creation_date":1683179666,"post_id":76169924,"comment_id":134327303,"body_markdown":"I&#39;m literally just trying to build what I have there. I want to be able to &quot;wrap&quot; all members of a class in an argument generic (or type constructor) so that I can decide the behavior when I instantiate it. For example, an `A&lt;Vector&gt;` would contain a vector of strings, an `A&lt;HashMap&gt;` would contain a hash map of strings, and so on.\n\nIf I have two private members (e.g., a `String` and an `Integer`), and I wrap both with `T&lt;&gt;`, then `A&lt;HashMap&gt;` would have both a `HashMap&lt;String&gt;` and a `HashMap&lt;Integer&gt;`, and so on.","body":"I&#39;m literally just trying to build what I have there. I want to be able to &quot;wrap&quot; all members of a class in an argument generic (or type constructor) so that I can decide the behavior when I instantiate it. For example, an <code>A&lt;Vector&gt;</code> would contain a vector of strings, an <code>A&lt;HashMap&gt;</code> would contain a hash map of strings, and so on.  If I have two private members (e.g., a <code>String</code> and an <code>Integer</code>), and I wrap both with <code>T&lt;&gt;</code>, then <code>A&lt;HashMap&gt;</code> would have both a <code>HashMap&lt;String&gt;</code> and a <code>HashMap&lt;Integer&gt;</code>, and so on."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":2,"creation_date":1683181732,"post_id":76169924,"comment_id":134327650,"body_markdown":"Have a look at this for Scala https://www.baeldung.com/scala/higher-kinded-types","body":"Have a look at this for Scala <a href=\"https://www.baeldung.com/scala/higher-kinded-types\" rel=\"nofollow noreferrer\">baeldung.com/scala/higher-kinded-types</a>"}],"answers":[{"tags":[],"owner":{"account_id":3908845,"reputation":11548,"user_id":3314107,"accept_rate":80,"display_name":"stefanobaghino"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1683184122,"creation_date":1683184122,"answer_id":76170441,"question_id":76169924,"body_markdown":"I don&#39;t know about Java (but [this question][1] is probably relevant for you), but you can do this in Scala\r\n\r\n```\r\nfinal case class A[T[_], B](a: T[B])\r\n```\r\n\r\nAnd then you can instantiate classes like so, relying on type inference:\r\n\r\n```\r\nval a1 = A(List(&quot;hello&quot;, &quot;world&quot;))\r\nval a2 = A(Some(42))\r\n```\r\n\r\nYou can play around with this code [here on Scastie][2].\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/7451658/can-i-use-nested-generics-aka-higher-kinded-types-in-java\r\n  [2]: https://scastie.scala-lang.org/756EE9fNTnKIw67qxQmRYw","title":"Passing arguments to generic parameter in class in Java","body":"<p>I don't know about Java (but <a href=\"https://stackoverflow.com/questions/7451658/can-i-use-nested-generics-aka-higher-kinded-types-in-java\">this question</a> is probably relevant for you), but you can do this in Scala</p>\n<pre><code>final case class A[T[_], B](a: T[B])\n</code></pre>\n<p>And then you can instantiate classes like so, relying on type inference:</p>\n<pre><code>val a1 = A(List(&quot;hello&quot;, &quot;world&quot;))\nval a2 = A(Some(42))\n</code></pre>\n<p>You can play around with this code <a href=\"https://scastie.scala-lang.org/756EE9fNTnKIw67qxQmRYw\" rel=\"nofollow noreferrer\">here on Scastie</a>.</p>\n"},{"tags":[],"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683257229,"creation_date":1683257229,"answer_id":76178653,"question_id":76169924,"body_markdown":"This is called a [higher-kinded type](https://www.baeldung.com/scala/higher-kinded-types). Here&#39;s an example in Scala of exactly what you want ([Scastie](https://scastie.scala-lang.org/TimMoore/YdiBBTCMQo2tS6Ii5ovOcQ/6)):\r\n\r\n```scala\r\nimport scala.collection.mutable.HashMap\r\ntrait A[T[_]] {\r\n  def aString: T[String]\r\n}\r\n\r\nclass AVector extends A[Vector] {\r\n  def aString: Vector[String] = Vector(&quot;Hello, world!&quot;)\r\n}\r\n\r\ntype StringKeyedHashMap[T] = HashMap[String, T]\r\nclass AHashMap[T] extends A[StringKeyedHashMap] {\r\n  def aString: HashMap[String, String] = HashMap(\r\n    &quot;Hello, world!&quot; -&gt; &quot;Goodbye, world!&quot;\r\n  )\r\n}\r\n\r\n\r\nprintln((new AVector).aString)  // Vector(Hello, world!)\r\nprintln((new AHashMap).aString) // HashMap(Hello, world! -&gt; Goodbye, world!)\r\n```\r\n\r\nNote that in the `HashMap` example, it isn&#39;t possible to use `extends A[HashMap]`, because `HashMap` requires two type parameters, and `A[T[_]]` only accepts types that take a single parameter. To work around this, a [type alias](https://www.baeldung.com/scala/type-declaration) is declared that takes one type parameter for the map values, and hardcodes the key type as `String`.","title":"Passing arguments to generic parameter in class in Java","body":"<p>This is called a <a href=\"https://www.baeldung.com/scala/higher-kinded-types\" rel=\"nofollow noreferrer\">higher-kinded type</a>. Here's an example in Scala of exactly what you want (<a href=\"https://scastie.scala-lang.org/TimMoore/YdiBBTCMQo2tS6Ii5ovOcQ/6\" rel=\"nofollow noreferrer\">Scastie</a>):</p>\n<pre class=\"lang-scala prettyprint-override\"><code>import scala.collection.mutable.HashMap\ntrait A[T[_]] {\n  def aString: T[String]\n}\n\nclass AVector extends A[Vector] {\n  def aString: Vector[String] = Vector(&quot;Hello, world!&quot;)\n}\n\ntype StringKeyedHashMap[T] = HashMap[String, T]\nclass AHashMap[T] extends A[StringKeyedHashMap] {\n  def aString: HashMap[String, String] = HashMap(\n    &quot;Hello, world!&quot; -&gt; &quot;Goodbye, world!&quot;\n  )\n}\n\n\nprintln((new AVector).aString)  // Vector(Hello, world!)\nprintln((new AHashMap).aString) // HashMap(Hello, world! -&gt; Goodbye, world!)\n</code></pre>\n<p>Note that in the <code>HashMap</code> example, it isn't possible to use <code>extends A[HashMap]</code>, because <code>HashMap</code> requires two type parameters, and <code>A[T[_]]</code> only accepts types that take a single parameter. To work around this, a <a href=\"https://www.baeldung.com/scala/type-declaration\" rel=\"nofollow noreferrer\">type alias</a> is declared that takes one type parameter for the map values, and hardcodes the key type as <code>String</code>.</p>\n"}],"owner":{"account_id":334110,"reputation":592,"user_id":660339,"accept_rate":40,"display_name":"Ivan Perez"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1683435613,"creation_date":1683179134,"question_id":76169924,"body_markdown":"I&#39;m trying to figure out a mechanism to implement something like the following in Java. Essentially, I&#39;d like to use the argument to a generic class as a generic class:\r\n\r\n```java\r\nclass A&lt;T&gt; {\r\n  T&lt;String&gt; aString;\r\n}\r\n```\r\n\r\nIs this, or something equivalent, where I can pass arguments to the type constructor received as arguments, possible at all in Java? Is it possible to indicate that `T` has type `* -&gt; *` or that it is some sort of type constructor? If not, how about a different language?","title":"Passing arguments to generic parameter in class in Java","body":"<p>I'm trying to figure out a mechanism to implement something like the following in Java. Essentially, I'd like to use the argument to a generic class as a generic class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class A&lt;T&gt; {\n  T&lt;String&gt; aString;\n}\n</code></pre>\n<p>Is this, or something equivalent, where I can pass arguments to the type constructor received as arguments, possible at all in Java? Is it possible to indicate that <code>T</code> has type <code>* -&gt; *</code> or that it is some sort of type constructor? If not, how about a different language?</p>\n"},{"tags":["java","functional-programming"],"comments":[{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":1,"creation_date":1585086746,"post_id":60839769,"comment_id":107641597,"body_markdown":"*&quot;Why does it print only one from enum types&quot;* Because the return value is a ***single*** enum value, i.e. the value of the first non-SUCCESS value detected. Your `and(...)` implementation specifically doesn&#39;t call the next validator when a non-SUCCESS value is detected. Given both of the above, why would you expect *multiple* validation codes?","body":"<i>&quot;Why does it print only one from enum types&quot;</i> Because the return value is a <b><i>single</i></b> enum value, i.e. the value of the first non-SUCCESS value detected. Your <code>and(...)</code> implementation specifically doesn&#39;t call the next validator when a non-SUCCESS value is detected. Given both of the above, why would you expect <i>multiple</i> validation codes?"},{"owner":{"account_id":14080654,"reputation":63,"user_id":10171787,"display_name":"Arthuoff"},"score":0,"creation_date":1585087719,"post_id":60839769,"comment_id":107641932,"body_markdown":"Okay, I get your point, but I need to know exactly how many and what type of errors I&#39;m getting.It&#39;s a bigger project and I&#39;m doing this part and only out of curiosity I&#39;m asking for this specific.I&#39;m implementing something that resembles this, so it would be nice to know where I&#39;m wrong.","body":"Okay, I get your point, but I need to know exactly how many and what type of errors I&#39;m getting.It&#39;s a bigger project and I&#39;m doing this part and only out of curiosity I&#39;m asking for this specific.I&#39;m implementing something that resembles this, so it would be nice to know where I&#39;m wrong."}],"answers":[{"tags":[],"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1585089017,"creation_date":1585089017,"answer_id":60840332,"question_id":60839769,"body_markdown":"If you want a validator to be able to return multiple *distinct* result codes (enums), then you need to change the return type to `Set&lt;ValidationResult&gt;`, or more specifically an [`EnumSet`][1].\r\n\r\nE.g. something like this:\r\n\r\n```\r\ninterface CustomerRegistrationValidator\r\n\textends Function&lt;Customer, EnumSet&lt;ValidationResult&gt;&gt; {\r\n\r\n\tstatic final EnumSet&lt;ValidationResult&gt; SUCCESS_ONLY = EnumSet.of(ValidationResult.SUCCESS);\r\n\r\n\tstatic CustomerRegistrationValidator isEmailValid() {\r\n\t\treturn customer -&gt; customer.getEmail().contains(&quot;@&quot;) ? \r\n\t\t\t\t\tSUCCESS_ONLY : EnumSet.of(ValidationResult.EMAIL_NOT_VALID);\r\n\t}\r\n\r\n\tstatic CustomerRegistrationValidator isPhoneNumberValid() {\r\n\t\treturn customer -&gt; customer.getPhoneNumber().startsWith(&quot;+0&quot;) ?  \r\n\t\t\t\t\tSUCCESS_ONLY : EnumSet.of(ValidationResult.PHONE_NUMBER_NOT_VALID);\r\n\t}\r\n\r\n\tstatic CustomerRegistrationValidator isAnAdult() {\r\n\t\treturn customer -&gt; Period.between(customer.getDob(), LocalDate.now()).getYears() &gt; 16 ?  \r\n\t\t\t\t\tSUCCESS_ONLY : EnumSet.of(ValidationResult.IS_NOT_AN_ADULT);\r\n\t}\r\n\r\n\tdefault CustomerRegistrationValidator and(CustomerRegistrationValidator other) {\r\n\t\treturn customer -&gt; {\r\n\t\t\tEnumSet&lt;ValidationResult&gt; thisResult = this.apply(customer);\r\n\t\t\tEnumSet&lt;ValidationResult&gt; otherResult = other.apply(customer);\r\n\t\t\tif (thisResult.equals(SUCCESS_ONLY))\r\n\t\t\t\treturn otherResult;\r\n\t\t\tif (otherResult.equals(SUCCESS_ONLY))\r\n\t\t\t\treturn thisResult;\r\n\t\t\tEnumSet&lt;ValidationResult&gt; combinedResult = EnumSet.copyOf(thisResult);\r\n\t\t\tcombinedResult.addAll(otherResult);\r\n\t\t\treturn combinedResult;\r\n\t\t};\r\n\t}\r\n\r\n}\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/EnumSet.html","title":"Combinator pattern","body":"<p>If you want a validator to be able to return multiple <em>distinct</em> result codes (enums), then you need to change the return type to <code>Set&lt;ValidationResult&gt;</code>, or more specifically an <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/EnumSet.html\" rel=\"nofollow noreferrer\"><code>EnumSet</code></a>.</p>\n\n<p>E.g. something like this:</p>\n\n<pre><code>interface CustomerRegistrationValidator\n    extends Function&lt;Customer, EnumSet&lt;ValidationResult&gt;&gt; {\n\n    static final EnumSet&lt;ValidationResult&gt; SUCCESS_ONLY = EnumSet.of(ValidationResult.SUCCESS);\n\n    static CustomerRegistrationValidator isEmailValid() {\n        return customer -&gt; customer.getEmail().contains(\"@\") ? \n                    SUCCESS_ONLY : EnumSet.of(ValidationResult.EMAIL_NOT_VALID);\n    }\n\n    static CustomerRegistrationValidator isPhoneNumberValid() {\n        return customer -&gt; customer.getPhoneNumber().startsWith(\"+0\") ?  \n                    SUCCESS_ONLY : EnumSet.of(ValidationResult.PHONE_NUMBER_NOT_VALID);\n    }\n\n    static CustomerRegistrationValidator isAnAdult() {\n        return customer -&gt; Period.between(customer.getDob(), LocalDate.now()).getYears() &gt; 16 ?  \n                    SUCCESS_ONLY : EnumSet.of(ValidationResult.IS_NOT_AN_ADULT);\n    }\n\n    default CustomerRegistrationValidator and(CustomerRegistrationValidator other) {\n        return customer -&gt; {\n            EnumSet&lt;ValidationResult&gt; thisResult = this.apply(customer);\n            EnumSet&lt;ValidationResult&gt; otherResult = other.apply(customer);\n            if (thisResult.equals(SUCCESS_ONLY))\n                return otherResult;\n            if (otherResult.equals(SUCCESS_ONLY))\n                return thisResult;\n            EnumSet&lt;ValidationResult&gt; combinedResult = EnumSet.copyOf(thisResult);\n            combinedResult.addAll(otherResult);\n            return combinedResult;\n        };\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22430023,"reputation":1,"user_id":16636010,"display_name":"Maulik Davra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683433800,"creation_date":1683349128,"answer_id":76187214,"question_id":60839769,"body_markdown":"\r\n\r\nIn this modified code, the `CustomerRegistrationValidator` interface now returns a `List&lt;CustomerRegistrationValidator.ValidationResult&gt;` instead of a single `ValidationResult`. Each validator method creates an empty list of errors and adds the relevant error to the list if the validation fails.\r\n        \r\nThe and method has been updated to accumulate errors from both the current validator and the other validator. It creates a new list of errors, applies the current validator (this), and adds any errors to the list. Then it applies the other validator and adds any errors from that validator as well.\r\n        \r\nNow, when you apply the validators to a customer, you will get a list of errors instead of a single error. You can then handle the errors accordingly, such as printing them or performing any other necessary actions.\r\n          \r\n    \r\n    import java.time.LocalDate;\r\n    import java.time.Period;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import java.util.function.Function;\r\n    \r\n    public interface CustomerRegistrationValidator extends Function&lt;Customer, List&lt;CustomerRegistrationValidator.ValidationResult&gt;&gt; {\r\n    \r\n        static CustomerRegistrationValidator isEmailValid() {\r\n            return customer -&gt; {\r\n                List&lt;CustomerRegistrationValidator.ValidationResult&gt; errors = new ArrayList&lt;&gt;();\r\n                if (!customer.getEmail().contains(&quot;@&quot;)) {\r\n                    errors.add(CustomerRegistrationValidator.ValidationResult.EMAIL_NOT_VALID);\r\n                }\r\n                return errors;\r\n            };\r\n        }\r\n    \r\n        static CustomerRegistrationValidator isPhoneNumberValid() {\r\n            return customer -&gt; {\r\n                List&lt;CustomerRegistrationValidator.ValidationResult&gt; errors = new ArrayList&lt;&gt;();\r\n                if (!customer.getPhoneNumber().startsWith(&quot;+0&quot;)) {\r\n                    errors.add(CustomerRegistrationValidator.ValidationResult.PHONE_NUMBER_NOT_VALID);\r\n                }\r\n                return errors;\r\n            };\r\n        }\r\n    \r\n        static CustomerRegistrationValidator isAnAdult() {\r\n            return customer -&gt; {\r\n                List&lt;CustomerRegistrationValidator.ValidationResult&gt; errors = new ArrayList&lt;&gt;();\r\n                if (Period.between(customer.getDob(), LocalDate.now()).getYears() &lt;= 16) {\r\n                    errors.add(CustomerRegistrationValidator.ValidationResult.IS_NOT_AN_ADULT);\r\n                }\r\n                return errors;\r\n            };\r\n        }\r\n    \r\n        default CustomerRegistrationValidator and(CustomerRegistrationValidator other) {\r\n            return customer -&gt; {\r\n                List&lt;CustomerRegistrationValidator.ValidationResult&gt; errors = new ArrayList&lt;&gt;();\r\n                errors.addAll(this.apply(customer));\r\n                errors.addAll(other.apply(customer));\r\n                return errors;\r\n            };\r\n        }\r\n    \r\n        enum ValidationResult {\r\n            SUCCESS,\r\n            PHONE_NUMBER_NOT_VALID,\r\n            EMAIL_NOT_VALID,\r\n            IS_NOT_AN_ADULT\r\n        }\r\n    }\r\n\r\n\r\n\r\n    Customer customer = new Customer(&quot;Alice&quot;, &quot;alicegmail.com&quot;, &quot;089877878&quot;, LocalDate.of(2000, 1, 1));\r\n\r\n    List&lt;CustomerRegistrationValidator.ValidationResult&gt; errors = CustomerRegistrationValidator.isEmailValid()\r\n            .and(CustomerRegistrationValidator.isPhoneNumberValid())\r\n            .and(CustomerRegistrationValidator.isAnAdult())\r\n            .apply(customer);\r\n    \r\n    if (!errors.isEmpty()) {\r\n        for (CustomerRegistrationValidator.ValidationResult error : errors) {\r\n            System.out.println(error);\r\n        }\r\n        // Handle the errors accordingly\r\n    } else {\r\n        // Registration is successful\r\n    }\r\n\r\n\r\n","title":"Combinator pattern","body":"<p>In this modified code, the <code>CustomerRegistrationValidator</code> interface now returns a <code>List&lt;CustomerRegistrationValidator.ValidationResult&gt;</code> instead of a single <code>ValidationResult</code>. Each validator method creates an empty list of errors and adds the relevant error to the list if the validation fails.</p>\n<p>The and method has been updated to accumulate errors from both the current validator and the other validator. It creates a new list of errors, applies the current validator (this), and adds any errors to the list. Then it applies the other validator and adds any errors from that validator as well.</p>\n<p>Now, when you apply the validators to a customer, you will get a list of errors instead of a single error. You can then handle the errors accordingly, such as printing them or performing any other necessary actions.</p>\n<pre><code>import java.time.LocalDate;\nimport java.time.Period;\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.function.Function;\n\npublic interface CustomerRegistrationValidator extends Function&lt;Customer, List&lt;CustomerRegistrationValidator.ValidationResult&gt;&gt; {\n\n    static CustomerRegistrationValidator isEmailValid() {\n        return customer -&gt; {\n            List&lt;CustomerRegistrationValidator.ValidationResult&gt; errors = new ArrayList&lt;&gt;();\n            if (!customer.getEmail().contains(&quot;@&quot;)) {\n                errors.add(CustomerRegistrationValidator.ValidationResult.EMAIL_NOT_VALID);\n            }\n            return errors;\n        };\n    }\n\n    static CustomerRegistrationValidator isPhoneNumberValid() {\n        return customer -&gt; {\n            List&lt;CustomerRegistrationValidator.ValidationResult&gt; errors = new ArrayList&lt;&gt;();\n            if (!customer.getPhoneNumber().startsWith(&quot;+0&quot;)) {\n                errors.add(CustomerRegistrationValidator.ValidationResult.PHONE_NUMBER_NOT_VALID);\n            }\n            return errors;\n        };\n    }\n\n    static CustomerRegistrationValidator isAnAdult() {\n        return customer -&gt; {\n            List&lt;CustomerRegistrationValidator.ValidationResult&gt; errors = new ArrayList&lt;&gt;();\n            if (Period.between(customer.getDob(), LocalDate.now()).getYears() &lt;= 16) {\n                errors.add(CustomerRegistrationValidator.ValidationResult.IS_NOT_AN_ADULT);\n            }\n            return errors;\n        };\n    }\n\n    default CustomerRegistrationValidator and(CustomerRegistrationValidator other) {\n        return customer -&gt; {\n            List&lt;CustomerRegistrationValidator.ValidationResult&gt; errors = new ArrayList&lt;&gt;();\n            errors.addAll(this.apply(customer));\n            errors.addAll(other.apply(customer));\n            return errors;\n        };\n    }\n\n    enum ValidationResult {\n        SUCCESS,\n        PHONE_NUMBER_NOT_VALID,\n        EMAIL_NOT_VALID,\n        IS_NOT_AN_ADULT\n    }\n}\n\n\n\nCustomer customer = new Customer(&quot;Alice&quot;, &quot;alicegmail.com&quot;, &quot;089877878&quot;, LocalDate.of(2000, 1, 1));\n\nList&lt;CustomerRegistrationValidator.ValidationResult&gt; errors = CustomerRegistrationValidator.isEmailValid()\n        .and(CustomerRegistrationValidator.isPhoneNumberValid())\n        .and(CustomerRegistrationValidator.isAnAdult())\n        .apply(customer);\n\nif (!errors.isEmpty()) {\n    for (CustomerRegistrationValidator.ValidationResult error : errors) {\n        System.out.println(error);\n    }\n    // Handle the errors accordingly\n} else {\n    // Registration is successful\n}\n</code></pre>\n"}],"owner":{"account_id":14080654,"reputation":63,"user_id":10171787,"display_name":"Arthuoff"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2410,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":60840332,"answer_count":2,"score":0,"last_activity_date":1683433800,"creation_date":1585086006,"question_id":60839769,"body_markdown":"I&#39;m having a little issue with the result I&#39;m getting with &#39;Combinator&#39; pattern.\r\n\r\n    public interface CustomerRegistrationValidator \r\n    \textends Function&lt;Customer, ValidationResult&gt; {\r\n    \r\n    \tstatic CustomerRegistrationValidator isEmailValid() {\r\n    \t\treturn customer -&gt; customer.getEmail().contains(&quot;@&quot;) ? \r\n    \t\t\t\t\tValidationResult.SUCCESS : ValidationResult.EMAIL_NOT_VALID;\r\n    \t}\r\n    \t\r\n    \tstatic CustomerRegistrationValidator isPhoneNumberValid() {\r\n    \t\treturn customer -&gt; customer.getPhoneNumber().startsWith(&quot;+0&quot;) ?  \r\n    \t\t\t\t\tValidationResult.SUCCESS : ValidationResult.PHONE_NUMBER_NOT_VALID;\r\n    \t}\r\n    \t\r\n    \tstatic CustomerRegistrationValidator isAnAdult() {\r\n    \t\treturn customer -&gt; Period.between(customer.getDob(), LocalDate.now()).getYears() &gt; 16 ?  \r\n    \t\t\t\t\tValidationResult.SUCCESS : ValidationResult.IS_NOT_AN_ADULT;\r\n    \t}\r\n    \t\r\n    \tdefault CustomerRegistrationValidator and (CustomerRegistrationValidator other) {\r\n    \t\treturn customer -&gt; {\r\n    \t\t\tValidationResult result = this.apply(customer);\r\n    \t\t\t\r\n    \t\t\treturn result.equals(ValidationResult.SUCCESS) ? other.apply(customer) : result;\r\n    \t\t};\r\n    \t}\r\n    \t\r\n    \tenum ValidationResult {\r\n    \t\tSUCCESS,\r\n    \t\tPHONE_NUMBER_NOT_VALID,\r\n    \t\tEMAIL_NOT_VALID,\r\n    \t\tIS_NOT_AN_ADULT\r\n    \t}\r\n    \t\r\n    }\r\n\r\n\r\n----------\r\n\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n        \r\n        \t\tCustomer customer = new Customer(\r\n        \t\t\t\t&quot;Alice&quot;, \r\n        \t\t\t\t&quot;alicegmail.com&quot;, \r\n        \t\t\t\t&quot;089877878&quot;, \r\n        \t\t\t\tLocalDate.of(2000, 1, 1)\r\n        \t\t);\r\n\r\n                ValidationResult result = CustomerRegistrationValidator.isEmailValid()\r\n        \t\t\t.and(CustomerRegistrationValidator.isPhoneNumberValid())\r\n        \t\t\t.and(CustomerRegistrationValidator.isAnAdult())\r\n        \t\t\t.apply(customer);\r\n        \t\t\r\n        \t\tSystem.out.println(result);\r\n        \t\t\r\n        \t\tif (result != ValidationResult.SUCCESS) {\r\n        \t\t\tthrow new IllegalStateException(result.name());\r\n        \t\t}   \t\t\r\n        }\r\n    }\r\n\r\n Let&#39;s say if there are two errors from those methods(isAnAdult, isEmailValid).Why does it print only one from enum types, in my case &#39;EMAIL_NOT_VALID&#39; with exception instead of two and by the second one I mean &#39;IS_NOT_AN_ADULT&#39; ?\r\n","title":"Combinator pattern","body":"<p>I'm having a little issue with the result I'm getting with 'Combinator' pattern.</p>\n\n<pre><code>public interface CustomerRegistrationValidator \n    extends Function&lt;Customer, ValidationResult&gt; {\n\n    static CustomerRegistrationValidator isEmailValid() {\n        return customer -&gt; customer.getEmail().contains(\"@\") ? \n                    ValidationResult.SUCCESS : ValidationResult.EMAIL_NOT_VALID;\n    }\n\n    static CustomerRegistrationValidator isPhoneNumberValid() {\n        return customer -&gt; customer.getPhoneNumber().startsWith(\"+0\") ?  \n                    ValidationResult.SUCCESS : ValidationResult.PHONE_NUMBER_NOT_VALID;\n    }\n\n    static CustomerRegistrationValidator isAnAdult() {\n        return customer -&gt; Period.between(customer.getDob(), LocalDate.now()).getYears() &gt; 16 ?  \n                    ValidationResult.SUCCESS : ValidationResult.IS_NOT_AN_ADULT;\n    }\n\n    default CustomerRegistrationValidator and (CustomerRegistrationValidator other) {\n        return customer -&gt; {\n            ValidationResult result = this.apply(customer);\n\n            return result.equals(ValidationResult.SUCCESS) ? other.apply(customer) : result;\n        };\n    }\n\n    enum ValidationResult {\n        SUCCESS,\n        PHONE_NUMBER_NOT_VALID,\n        EMAIL_NOT_VALID,\n        IS_NOT_AN_ADULT\n    }\n\n}\n</code></pre>\n\n<hr>\n\n<pre><code>public class Main {\n    public static void main(String[] args) {\n\n            Customer customer = new Customer(\n                    \"Alice\", \n                    \"alicegmail.com\", \n                    \"089877878\", \n                    LocalDate.of(2000, 1, 1)\n            );\n\n            ValidationResult result = CustomerRegistrationValidator.isEmailValid()\n                .and(CustomerRegistrationValidator.isPhoneNumberValid())\n                .and(CustomerRegistrationValidator.isAnAdult())\n                .apply(customer);\n\n            System.out.println(result);\n\n            if (result != ValidationResult.SUCCESS) {\n                throw new IllegalStateException(result.name());\n            }           \n    }\n}\n</code></pre>\n\n<p>Let's say if there are two errors from those methods(isAnAdult, isEmailValid).Why does it print only one from enum types, in my case 'EMAIL_NOT_VALID' with exception instead of two and by the second one I mean 'IS_NOT_AN_ADULT' ?</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1683432063,"post_id":76191749,"comment_id":134364740,"body_markdown":"your setup looks wrong: the instantiated controller != the loaded ui - remove the contoller attribute in the fxml and set the loader&#39;s controller property manually (before loading)","body":"your setup looks wrong: the instantiated controller != the loaded ui - remove the contoller attribute in the fxml and set the loader&#39;s controller property manually (before loading)"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":2,"creation_date":1683432210,"post_id":76191749,"comment_id":134364750,"body_markdown":"note: debugging questions require a [mcve] - mind the __M__!","body":"note: debugging questions require a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> - mind the <b>M</b>!"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1683432768,"post_id":76191749,"comment_id":134364783,"body_markdown":"the commented line is the right track - just give _this_ as parameter","body":"the commented line is the right track - just give <i>this</i> as parameter"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1683546410,"post_id":76191749,"comment_id":134378352,"body_markdown":"This setup just looks completely wrong. Your `OptionsMenu` looks like a controller class for an FXML file (because it has `@FXML` annotations), but it&#39;s a subclass of `Pane`, and implements `EventHandler`, and is implemented as a singleton. None of those make any sense for a controller. You&#39;re also trying to access `@FXML`-annotated fields in the constructor, which won&#39;t work as they cannot possibly be initialized at that point. Your FXML file, on the other hand, declares the `Application` subclass as its controller class, which also makes no sense.","body":"This setup just looks completely wrong. Your <code>OptionsMenu</code> looks like a controller class for an FXML file (because it has <code>@FXML</code> annotations), but it&#39;s a subclass of <code>Pane</code>, and implements <code>EventHandler</code>, and is implemented as a singleton. None of those make any sense for a controller. You&#39;re also trying to access <code>@FXML</code>-annotated fields in the constructor, which won&#39;t work as they cannot possibly be initialized at that point. Your FXML file, on the other hand, declares the <code>Application</code> subclass as its controller class, which also makes no sense."}],"owner":{"account_id":19069058,"reputation":41,"user_id":13923628,"display_name":"Lenard Decarpicorn"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683431212,"creation_date":1683419191,"question_id":76191749,"body_markdown":"I&#39;ve been trying to create an instance of my OptionsMenu() scene when clicking on a button in my MainMenu() scene, but all my FXML components in the scene are showing up as null and I&#39;m unsure why. I&#39;ve checked the FXML controller, the fx::id of my components, the @FXML headers, and so far, nothing has worked. If anyone could give me some guidance, it would be greatly appreciated.\r\n\r\nHere is my OptionsMenu() class I&#39;m trying to load:\r\n\r\n```   \r\npackage ui_gui;\r\n\r\nimport controllers.Chess;\r\nimport controllers.Main;\r\nimport enums.GameColor;\r\nimport javafx.beans.value.ObservableValue;\r\nimport javafx.fxml.FXML;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.geometry.Insets;\r\nimport javafx.scene.Node;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.CheckBox;\r\nimport javafx.scene.control.TextField;\r\nimport javafx.scene.layout.*;\r\nimport javafx.event.ActionEvent;\r\nimport javafx.event.EventHandler;\r\nimport javafx.scene.control.Button;\r\nimport javafx.scene.paint.Color;\r\nimport javafx.stage.Stage;\r\n\r\nimport javafx.beans.value.ChangeListener;\r\nimport model.GameStateEditor;\r\nimport model.Options;\r\n\r\nimport java.io.IOException;\r\n\r\npublic class OptionsMenu extends Pane implements EventHandler&lt;ActionEvent&gt; {\r\n\r\n    /**The root of the layout**/\r\n    private Pane root;\r\n\r\n    /**the Scene on to which the root is situated**/\r\n    private Scene scene;\r\n\r\n    public enum  Screen {SCREEN3, SCREEN4};\r\n\r\n    /**A button on the layout**/\r\n    @FXML\r\n    Button blackSquareButton;\r\n\r\n    @FXML\r\n    Button whiteSquareButton;\r\n\r\n    @FXML\r\n    CheckBox undosEnabledCheckbox;\r\n\r\n    @FXML\r\n    CheckBox unlimitedUndosCheckbox;\r\n\r\n    @FXML\r\n    CheckBox showMovesCheckbox;\r\n\r\n    @FXML\r\n    Button saveButton;\r\n\r\n    @FXML\r\n    TextField undoTextField;\r\n\r\n    @FXML\r\n    Button exitButton;\r\n\r\n    ScreenChangeHandler screenChanger;\r\n\r\n    public static Chess game;\r\n\r\n    public static OptionsMenu instance;\r\n\r\n    /**Set the handler for sreen changes**/\r\n    public void setScreenChangeHandler(ScreenChangeHandler sch){\r\n        this.screenChanger = sch;\r\n    }//end\r\n\r\n    /**\r\n     * Create a singleton instance of a ColorChooser\r\n     * @return The instance of this ColorChooser\r\n     */\r\n    public static OptionsMenu getInstance(Chess game){\r\n        if (instance == null){\r\n            instance = new OptionsMenu(game);\r\n        }\r\n        return instance;\r\n    }//end getInstance\r\n\r\n    @FXML\r\n    public void initialize() {\r\n        blackSquareButton.setOnAction(this::handle);\r\n        System.out.println(blackSquareButton.getId());\r\n        whiteSquareButton.setOnAction(this::handle);\r\n        saveButton.setOnAction(this::handle);\r\n        exitButton.setOnAction(this::handle);\r\n    }\r\n\r\n    public OptionsMenu(Chess chessGame) {\r\n        super();\r\n        FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;options-view.fxml&quot;));\r\n        //loader.setController(new Main());\r\n        try {\r\n            root = loader.load();\r\n\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n        this.game = chessGame;\r\n\r\n        Options options = game.getOptions();\r\n\r\n        int[] blkColors = options.getBlackSquareColor();\r\n\r\n        // Setting the initial color of the blackSquareButton (to black)\r\n        Color black = Color.rgb(blkColors[0], blkColors[1], blkColors[2]);\r\n        // Recolor OptionMenu&#39;s button with the value chosen in our color picker\r\n        BackgroundFill blackFill = new BackgroundFill(black, CornerRadii.EMPTY, Insets.EMPTY);\r\n        Background backGround = new Background(blackFill);\r\n        blackSquareButton.setBackground(backGround);\r\n\r\n        int[] whtColors = options.getWhiteSquareColor();\r\n\r\n        // Setting the initial color of the whiteSquareButton (to white)\r\n        Color white = Color.rgb(whtColors[0], whtColors[1], whtColors[2]);\r\n        // Recolor OptionMenu&#39;s button with the value chosen in our color picker\r\n        BackgroundFill whiteFill = new BackgroundFill(white, CornerRadii.EMPTY, Insets.EMPTY);\r\n        Background whiteGround = new Background(whiteFill);\r\n        whiteSquareButton.setBackground(whiteGround);\r\n\r\n        undosEnabledCheckbox.setSelected(options.getUndosEnabled());\r\n        showMovesCheckbox.setSelected(options.getShowMoves());\r\n\r\n        if(undosEnabledCheckbox.isSelected()){\r\n\r\n            if(options.getUnlimitedUndos() == true){\r\n                unlimitedUndosCheckbox.setSelected(true);\r\n                undoTextField.setDisable(true);\r\n            }else{// If we don&#39;t have unlimited undos in our settings\r\n                if(options.getUndoMax() != 999){ // 999 represents having unlimited undos\r\n                    // Set the &quot;undos&quot; text field to the maximum amount of undos in Options()\r\n                    undoTextField.setText(String.valueOf(options.getUndoMax()));\r\n                }\r\n            }\r\n        }\r\n\r\n\r\n        // Create a ChangeListener that listens for changes in the selected property of the checkbox\r\n        ChangeListener&lt;Boolean&gt; listener1 = new ChangeListener&lt;Boolean&gt;() {\r\n            public void changed(ObservableValue&lt;? extends Boolean&gt; observable, Boolean oldValue, Boolean newValue) {\r\n                if (newValue) {\r\n                    undoTextField.setDisable(false); // Enable if the checkbox is selected\r\n                    unlimitedUndosCheckbox.setDisable(false);\r\n\r\n                } else {\r\n                    unlimitedUndosCheckbox.setDisable(true);\r\n                    unlimitedUndosCheckbox.setSelected(false);\r\n                    undoTextField.clear();\r\n                    if(undoTextField.isDisabled() == false){\r\n                        undoTextField.setDisable(true);\r\n                    }\r\n                }\r\n            }\r\n        };\r\n\r\n        // Add the ChangeListener to the checkbox&#39;s selected property\r\n        undosEnabledCheckbox.selectedProperty().addListener(listener1);\r\n\r\n        ChangeListener&lt;Boolean&gt; listener2 = new ChangeListener&lt;Boolean&gt;() {\r\n            public void changed(ObservableValue&lt;? extends Boolean&gt; observable, Boolean oldValue, Boolean newValue) {\r\n                if (newValue) {\r\n                    undoTextField.setDisable(true); // If checked, disable text field\r\n                    undoTextField.clear();\r\n                } else {\r\n                    undoTextField.setDisable(false);\r\n                }\r\n            }\r\n        };\r\n\r\n        unlimitedUndosCheckbox.selectedProperty().addListener(listener2);\r\n\r\n\r\n    }\r\n\r\n\r\n\r\n    /**Get the root of the layout in order for another class to display it**/\r\n    public Pane getRoot() {\r\n        return root;\r\n    }\r\n\r\n    /**\r\n     * Handles an action event generated by a component in our scene\r\n     * @param actionEvent the event which occurred\r\n     */\r\n    @Override\r\n    public void handle(ActionEvent actionEvent) {\r\n\r\n        if (actionEvent.getSource() == blackSquareButton) {\r\n            openColorChooser(blackSquareButton);\r\n        }else if(actionEvent.getSource() == whiteSquareButton) {\r\n            openColorChooser(whiteSquareButton);\r\n        }else if(actionEvent.getSource() == saveButton){\r\n            saveSettings();\r\n        }else if(actionEvent.getSource() == exitButton){\r\n            //exitSettings();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Saves the Options Menu Screen&#39;s settings to the Chess games Options()\r\n     */\r\n    public void saveSettings(){\r\n        // Getting the game&#39;s options\r\n        Options options = game.getOptions();\r\n        GameStateEditor stateEditor = game.getStateEditor();\r\n\r\n        // That means we can undo in this game. If the player doesn&#39;t select\r\n        // anything else, we&#39;ll assume they&#39;ll undo once at a time\r\n        if(undosEnabledCheckbox.isSelected()){\r\n            options.setUndosEnabled(true);\r\n\r\n            // If the player wants unlimited undos\r\n            if(unlimitedUndosCheckbox.isSelected()){\r\n                options.setUnlimitedUndos(true);\r\n\r\n            // If the &quot;Max Undos&quot; text field has numbers in it\r\n            }else if(0 &lt; undoTextField.getText().length() &amp;&amp; undoTextField.getText().length() &lt; 3){\r\n                int allowed_undos = Integer.parseInt(undoTextField.getText().trim());\r\n                options.setUndoMax(allowed_undos);\r\n                stateEditor.setMaxUndos(options.getUndoMax());\r\n            }\r\n        }else{// If the &quot;Undos Enabled&quot; is not selected\r\n            options.setUndosEnabled(false);\r\n        }\r\n\r\n        if(showMovesCheckbox.isSelected()){\r\n            options.setShowMoves(true);\r\n        }else{ // If the show moves checkbox isn&#39;t checked\r\n            options.setShowMoves(true);\r\n        }\r\n\r\n        int[] blkColors = getButtonColorInt(blackSquareButton);\r\n        int[] whtColors = getButtonColorInt(whiteSquareButton);\r\n\r\n        // Setting the options black and white square colors\r\n        options.setBlackSquareColor(blkColors[0], blkColors[1], blkColors[2]);\r\n        options.setWhiteSquareColor(whtColors[0], whtColors[1], whtColors[2]);\r\n    }\r\n\r\n    /**\r\n     * Opens a ColorChooser triggered by a button click\r\n     * @param button - The button that opened ColorChooser\r\n     */\r\n    public void openColorChooser(Button button){\r\n        screenChanger.switchScreen(ScreenFactory.Screen.SCREEN4);\r\n\r\n        /**\r\n        ColorChooser ch = null;\r\n        ch = ColorChooser.getInstance();\r\n        ch.setColor(getButtonColor(button));\r\n\r\n        //TODO: For task 3 a another method here would be good.\r\n\r\n        root = ch;\r\n\r\n        //Change the screen\r\n        if(screenChanger == null)\r\n            scene = new Scene(root,400,600);\r\n        else\r\n            scene.setRoot(root);\r\n\r\n        ch.setPreviousScene(((Node)button).getScene());\r\n        ch.setPreviousButton(button);\r\n\r\n        Stage stage = (Stage) ((Node)button).getScene().getWindow();\r\n        stage.setScene(scene);\r\n        stage.show();\r\n        //runOnce = false;\r\n         */\r\n\r\n    }\r\n\r\n    /**\r\n     * Returns the Color of a button in the form of a list of integers representing\r\n     * RBG values.\r\n     * @param button - The button whose color we&#39;re getting\r\n     * @return A button&#39;s color as a list of integers\r\n     */\r\n    public int[] getButtonColorInt(Button button){\r\n        Color color = (Color) button.getBackground().getFills().get(0).getFill();\r\n        int[] buttonColors =  {(int)(color.getRed()), (int)(color.getGreen()), (int)(color.getBlue())};\r\n        return buttonColors;\r\n    }\r\n\r\n    /**\r\n     * Returns the Color of a button in the form of a Hexadecimal string.\r\n     * @param button - The button whose color we&#39;re getting\r\n     * @return A button&#39;s color as a Hexadecimal string\r\n     */\r\n    public String getButtonColor(Button button){\r\n        Color color = (Color) button.getBackground().getFills().get(0).getFill();\r\n        String hex = String.format(&quot;%02X%02X%02X&quot;, (int)(color.getRed()*255),\r\n                (int)(color.getGreen()*255), (int)(color.getBlue()*255));\r\n        return hex;\r\n    }\r\n\r\n}\r\n```  \r\n\r\nHere&#39;s my FXML file:\r\n\r\n``` \r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;?import javafx.geometry.Insets?&gt;\r\n&lt;?import javafx.scene.control.Button?&gt;\r\n&lt;?import javafx.scene.control.CheckBox?&gt;\r\n&lt;?import javafx.scene.control.Label?&gt;\r\n&lt;?import javafx.scene.control.TextField?&gt;\r\n&lt;?import javafx.scene.layout.AnchorPane?&gt;\r\n&lt;?import javafx.scene.layout.HBox?&gt;\r\n&lt;?import javafx.scene.layout.VBox?&gt;\r\n&lt;?import javafx.scene.text.Font?&gt;\r\n\r\n&lt;AnchorPane minWidth=&quot;400.0&quot; prefHeight=&quot;400.0&quot; prefWidth=&quot;400.0&quot; xmlns=&quot;http://javafx.com/javafx/19&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;controllers.Main&quot;&gt;\r\n   &lt;children&gt;\r\n      &lt;Label alignment=&quot;TOP_LEFT&quot; layoutX=&quot;150.0&quot; layoutY=&quot;20.0&quot; prefHeight=&quot;40.0&quot; prefWidth=&quot;95.0&quot; text=&quot;Settings&quot;&gt;\r\n         &lt;font&gt;\r\n            &lt;Font size=&quot;27.0&quot; /&gt;\r\n         &lt;/font&gt;\r\n      &lt;/Label&gt;\r\n      &lt;Label layoutX=&quot;39.0&quot; layoutY=&quot;76.0&quot; maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;40.0&quot; prefWidth=&quot;80.0&quot; text=&quot;Colors:&quot;&gt;\r\n         &lt;font&gt;\r\n            &lt;Font size=&quot;20.0&quot; /&gt;\r\n         &lt;/font&gt;\r\n      &lt;/Label&gt;\r\n      &lt;HBox alignment=&quot;CENTER_LEFT&quot; layoutX=&quot;40.0&quot; layoutY=&quot;159.0&quot; maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;29.0&quot; prefWidth=&quot;157.0&quot;&gt;\r\n         &lt;children&gt;\r\n            &lt;Label contentDisplay=&quot;BOTTOM&quot; prefHeight=&quot;22.0&quot; prefWidth=&quot;110.0&quot; text=&quot;Black Squares&quot;&gt;\r\n               &lt;font&gt;\r\n                  &lt;Font size=&quot;17.0&quot; /&gt;\r\n               &lt;/font&gt;\r\n            &lt;/Label&gt;\r\n            &lt;Button fx:id=&quot;blackSquareButton&quot; mnemonicParsing=&quot;false&quot; prefHeight=&quot;28.0&quot; prefWidth=&quot;29.0&quot; text=&quot;  &quot; textAlignment=&quot;CENTER&quot;&gt;\r\n               &lt;font&gt;\r\n                  &lt;Font size=&quot;2.0&quot; /&gt;\r\n               &lt;/font&gt;\r\n               &lt;HBox.margin&gt;\r\n                  &lt;Insets left=&quot;7.0&quot; /&gt;\r\n               &lt;/HBox.margin&gt;\r\n            &lt;/Button&gt;\r\n         &lt;/children&gt;\r\n      &lt;/HBox&gt;\r\n      &lt;VBox layoutX=&quot;40.0&quot; layoutY=&quot;207.0&quot;&gt;\r\n         &lt;children&gt;\r\n            &lt;Label prefHeight=&quot;26.0&quot; prefWidth=&quot;89.0&quot; text=&quot;Undo:&quot;&gt;\r\n               &lt;font&gt;\r\n                  &lt;Font size=&quot;20.0&quot; /&gt;\r\n               &lt;/font&gt;\r\n            &lt;/Label&gt;\r\n         &lt;/children&gt;\r\n      &lt;/VBox&gt;\r\n      &lt;VBox layoutX=&quot;226.0&quot; layoutY=&quot;131.0&quot;&gt;\r\n         &lt;children&gt;\r\n            &lt;CheckBox fx:id=&quot;showMovesCheckbox&quot; mnemonicParsing=&quot;false&quot; prefHeight=&quot;33.0&quot; prefWidth=&quot;134.0&quot; text=&quot;Show moves&quot;&gt;\r\n               &lt;font&gt;\r\n                  &lt;Font size=&quot;17.0&quot; /&gt;\r\n               &lt;/font&gt;\r\n            &lt;/CheckBox&gt;\r\n         &lt;/children&gt;\r\n      &lt;/VBox&gt;\r\n      &lt;VBox alignment=&quot;CENTER&quot; layoutX=&quot;237.0&quot; layoutY=&quot;298.0&quot; prefHeight=&quot;48.0&quot; prefWidth=&quot;123.0&quot; spacing=&quot;8.0&quot;&gt;\r\n         &lt;children&gt;\r\n            &lt;Button fx:id=&quot;saveButton&quot; mnemonicParsing=&quot;false&quot; text=&quot;Save&quot;&gt;\r\n               &lt;font&gt;\r\n                  &lt;Font size=&quot;17.0&quot; /&gt;\r\n               &lt;/font&gt;\r\n            &lt;/Button&gt;\r\n            &lt;Button fx:id=&quot;exitButton&quot; mnemonicParsing=&quot;false&quot; text=&quot;Exit&quot;&gt;\r\n               &lt;font&gt;\r\n                  &lt;Font size=&quot;17.0&quot; /&gt;\r\n               &lt;/font&gt;\r\n            &lt;/Button&gt;\r\n         &lt;/children&gt;\r\n      &lt;/VBox&gt;\r\n      &lt;VBox alignment=&quot;CENTER_LEFT&quot; layoutX=&quot;40.0&quot; layoutY=&quot;245.0&quot; prefHeight=&quot;56.0&quot; prefWidth=&quot;157.0&quot; spacing=&quot;5.0&quot;&gt;\r\n         &lt;children&gt;\r\n            &lt;CheckBox fx:id=&quot;undosEnabledCheckbox&quot; mnemonicParsing=&quot;false&quot; text=&quot;Enabled&quot;&gt;\r\n               &lt;font&gt;\r\n                  &lt;Font size=&quot;17.0&quot; /&gt;\r\n               &lt;/font&gt;\r\n               &lt;VBox.margin&gt;\r\n                  &lt;Insets bottom=&quot;4.0&quot; /&gt;\r\n               &lt;/VBox.margin&gt;\r\n            &lt;/CheckBox&gt;\r\n            &lt;CheckBox fx:id=&quot;unlimitedUndosCheckbox&quot; mnemonicParsing=&quot;false&quot; prefHeight=&quot;24.0&quot; prefWidth=&quot;165.0&quot; text=&quot;Unlimited Undos&quot;&gt;\r\n               &lt;font&gt;\r\n                  &lt;Font size=&quot;17.0&quot; /&gt;\r\n               &lt;/font&gt;\r\n            &lt;/CheckBox&gt;\r\n         &lt;/children&gt;\r\n         &lt;opaqueInsets&gt;\r\n            &lt;Insets /&gt;\r\n         &lt;/opaqueInsets&gt;\r\n      &lt;/VBox&gt;\r\n      &lt;HBox layoutX=&quot;42.0&quot; layoutY=&quot;335.0&quot; prefHeight=&quot;22.0&quot; prefWidth=&quot;134.0&quot;&gt;\r\n         &lt;children&gt;\r\n            &lt;Label prefHeight=&quot;22.0&quot; prefWidth=&quot;110.0&quot; text=&quot;Max Undos&quot;&gt;\r\n               &lt;font&gt;\r\n                  &lt;Font size=&quot;17.0&quot; /&gt;\r\n               &lt;/font&gt;\r\n            &lt;/Label&gt;\r\n            &lt;TextField fx:id=&quot;undoTextField&quot; prefHeight=&quot;22.0&quot; prefWidth=&quot;66.0&quot;&gt;\r\n               &lt;font&gt;\r\n                  &lt;Font size=&quot;17.0&quot; /&gt;\r\n               &lt;/font&gt;\r\n               &lt;padding&gt;\r\n                  &lt;Insets left=&quot;8.0&quot; /&gt;\r\n               &lt;/padding&gt;\r\n               &lt;HBox.margin&gt;\r\n                  &lt;Insets left=&quot;5.0&quot; /&gt;\r\n               &lt;/HBox.margin&gt;\r\n            &lt;/TextField&gt;\r\n         &lt;/children&gt;\r\n      &lt;/HBox&gt;\r\n      &lt;HBox alignment=&quot;CENTER_LEFT&quot; layoutX=&quot;39.0&quot; layoutY=&quot;116.0&quot; prefHeight=&quot;29.0&quot; prefWidth=&quot;151.0&quot;&gt;\r\n         &lt;children&gt;\r\n            &lt;Label prefHeight=&quot;23.0&quot; prefWidth=&quot;108.0&quot; text=&quot;White Squares&quot;&gt;\r\n               &lt;font&gt;\r\n                  &lt;Font size=&quot;17.0&quot; /&gt;\r\n               &lt;/font&gt;\r\n            &lt;/Label&gt;\r\n            &lt;Button fx:id=&quot;whiteSquareButton&quot; mnemonicParsing=&quot;false&quot; prefHeight=&quot;26.0&quot; prefWidth=&quot;29.0&quot; text=&quot;  &quot;&gt;\r\n               &lt;font&gt;\r\n                  &lt;Font size=&quot;12.0&quot; /&gt;\r\n               &lt;/font&gt;\r\n               &lt;HBox.margin&gt;\r\n                  &lt;Insets left=&quot;9.0&quot; /&gt;\r\n               &lt;/HBox.margin&gt;\r\n            &lt;/Button&gt;\r\n         &lt;/children&gt;\r\n      &lt;/HBox&gt;\r\n   &lt;/children&gt;\r\n&lt;/AnchorPane&gt;\r\n \r\n```  \r\n\r\nHere&#39;s my controller class:\r\n\r\n``` \r\npackage controllers;\r\n\r\nimport interfaces.guiIF;\r\nimport javafx.application.Application;\r\nimport javafx.scene.Scene;\r\nimport javafx.stage.Stage;\r\nimport ui_gui.MainMenu;\r\nimport ui_gui.ScreenFactory;\r\n\r\n/**\r\n * A class to start the chess application\r\n */\r\npublic class Main extends Application {\r\n\r\n\r\n\r\n    /**\r\n     * Creates a driver and calls runGame.\r\n     */\r\n\r\n    private static Chess game;\r\n    public static void main(String[] args) {\r\n        // guiIF GUI = MainMenu.getMenu();\r\n        game = Chess.getInstanceOfGame();\r\n        Driver driver = new Driver(game);\r\n        driver.runGame();\r\n        launch(args);\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param primaryStage the primary stage for this application, onto which\r\n     * the application scene can be set.\r\n     * Applications may create other stages, if needed, but they will not be\r\n     * primary stages.\r\n     */\r\n\r\n    @Override\r\n    public void start(Stage primaryStage){\r\n        try{\r\n            MainMenu mainScreen = new MainMenu(game);\r\n            Scene scene = new Scene(mainScreen.getRoot(), 1000, 600);\r\n            ScreenFactory.getInstance(scene);\r\n\r\n            scene.getStylesheets().add(getClass().getResource(&quot;application.css&quot;).toExternalForm());\r\n            primaryStage.setScene(scene);\r\n            primaryStage.setResizable(false);\r\n            primaryStage.show();\r\n\r\n\r\n        }\r\n        catch(Exception e){\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n\r\n}\r\n``` \r\n\r\nAnd here&#39;s the error I&#39;m getting when trying to load the scene: \r\n\r\n``` \r\nException in thread &quot;JavaFX Application Thread&quot; java.lang.NullPointerException: Cannot invoke &quot;javafx.scene.control.Button.setBackground(javafx.scene.layout.Background)&quot; because &quot;this.blackSquareButton&quot; is null\r\n\tat ui_gui.OptionsMenu.&lt;init&gt;(OptionsMenu.java:114)\r\n\tat ui_gui.OptionsMenu.getInstance(OptionsMenu.java:79)\r\n\tat ui_gui.ScreenFactory.setScreen(ScreenFactory.java:106)\r\n\tat ui_gui.ScreenFactory.switchScreen(ScreenFactory.java:165)\r\n\tat ui_gui.MainMenu$1.handle(MainMenu.java:245)\r\n\tat ui_gui.MainMenu$1.handle(MainMenu.java:213)\r\n\tat javafx.base/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)\r\n\tat javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)\r\n\tat javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)\r\n\tat javafx.base/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\r\n\tat javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\r\n\tat javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\r\n\tat javafx.base/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)\r\n\tat javafx.base/javafx.event.Event.fireEvent(Event.java:198)\r\n\tat javafx.graphics/javafx.scene.Node.fireEvent(Node.java:8944)\r\n\tat javafx.controls/javafx.scene.control.Button.fire(Button.java:203)\r\n\tat javafx.controls/com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:207)\r\n\tat javafx.controls/com.sun.javafx.scene.control.inputmap.InputMap.handle(InputMap.java:274)\r\n\tat javafx.base/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:247)\r\n\tat javafx.base/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)\r\n\tat javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)\r\n\tat javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)\r\n\tat javafx.base/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\r\n\tat javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\r\n\tat javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\r\n\tat javafx.base/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)\r\n\tat javafx.base/javafx.event.Event.fireEvent(Event.java:198)\r\n\tat javafx.graphics/javafx.scene.Scene$MouseHandler.process(Scene.java:3980)\r\n\tat javafx.graphics/javafx.scene.Scene.processMouseEvent(Scene.java:1890)\r\n\tat javafx.graphics/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2704)\r\n\tat javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)\r\n\tat javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n\tat javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)\r\n\tat javafx.graphics/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)\r\n\tat javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)\r\n\tat javafx.graphics/com.sun.glass.ui.View.handleMouseEvent(View.java:551)\r\n\tat javafx.graphics/com.sun.glass.ui.View.notifyMouse(View.java:937)\r\n\tat javafx.graphics/com.sun.glass.ui.mac.MacView.notifyMouse(MacView.java:127)\r\n``` ","title":"Why are my all FXML components null when trying to load JavaFX class?","body":"<p>I've been trying to create an instance of my OptionsMenu() scene when clicking on a button in my MainMenu() scene, but all my FXML components in the scene are showing up as null and I'm unsure why. I've checked the FXML controller, the fx::id of my components, the @FXML headers, and so far, nothing has worked. If anyone could give me some guidance, it would be greatly appreciated.</p>\n<p>Here is my OptionsMenu() class I'm trying to load:</p>\n<pre><code>package ui_gui;\n\nimport controllers.Chess;\nimport controllers.Main;\nimport enums.GameColor;\nimport javafx.beans.value.ObservableValue;\nimport javafx.fxml.FXML;\nimport javafx.fxml.FXMLLoader;\nimport javafx.geometry.Insets;\nimport javafx.scene.Node;\nimport javafx.scene.Scene;\nimport javafx.scene.control.CheckBox;\nimport javafx.scene.control.TextField;\nimport javafx.scene.layout.*;\nimport javafx.event.ActionEvent;\nimport javafx.event.EventHandler;\nimport javafx.scene.control.Button;\nimport javafx.scene.paint.Color;\nimport javafx.stage.Stage;\n\nimport javafx.beans.value.ChangeListener;\nimport model.GameStateEditor;\nimport model.Options;\n\nimport java.io.IOException;\n\npublic class OptionsMenu extends Pane implements EventHandler&lt;ActionEvent&gt; {\n\n    /**The root of the layout**/\n    private Pane root;\n\n    /**the Scene on to which the root is situated**/\n    private Scene scene;\n\n    public enum  Screen {SCREEN3, SCREEN4};\n\n    /**A button on the layout**/\n    @FXML\n    Button blackSquareButton;\n\n    @FXML\n    Button whiteSquareButton;\n\n    @FXML\n    CheckBox undosEnabledCheckbox;\n\n    @FXML\n    CheckBox unlimitedUndosCheckbox;\n\n    @FXML\n    CheckBox showMovesCheckbox;\n\n    @FXML\n    Button saveButton;\n\n    @FXML\n    TextField undoTextField;\n\n    @FXML\n    Button exitButton;\n\n    ScreenChangeHandler screenChanger;\n\n    public static Chess game;\n\n    public static OptionsMenu instance;\n\n    /**Set the handler for sreen changes**/\n    public void setScreenChangeHandler(ScreenChangeHandler sch){\n        this.screenChanger = sch;\n    }//end\n\n    /**\n     * Create a singleton instance of a ColorChooser\n     * @return The instance of this ColorChooser\n     */\n    public static OptionsMenu getInstance(Chess game){\n        if (instance == null){\n            instance = new OptionsMenu(game);\n        }\n        return instance;\n    }//end getInstance\n\n    @FXML\n    public void initialize() {\n        blackSquareButton.setOnAction(this::handle);\n        System.out.println(blackSquareButton.getId());\n        whiteSquareButton.setOnAction(this::handle);\n        saveButton.setOnAction(this::handle);\n        exitButton.setOnAction(this::handle);\n    }\n\n    public OptionsMenu(Chess chessGame) {\n        super();\n        FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;options-view.fxml&quot;));\n        //loader.setController(new Main());\n        try {\n            root = loader.load();\n\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n        this.game = chessGame;\n\n        Options options = game.getOptions();\n\n        int[] blkColors = options.getBlackSquareColor();\n\n        // Setting the initial color of the blackSquareButton (to black)\n        Color black = Color.rgb(blkColors[0], blkColors[1], blkColors[2]);\n        // Recolor OptionMenu's button with the value chosen in our color picker\n        BackgroundFill blackFill = new BackgroundFill(black, CornerRadii.EMPTY, Insets.EMPTY);\n        Background backGround = new Background(blackFill);\n        blackSquareButton.setBackground(backGround);\n\n        int[] whtColors = options.getWhiteSquareColor();\n\n        // Setting the initial color of the whiteSquareButton (to white)\n        Color white = Color.rgb(whtColors[0], whtColors[1], whtColors[2]);\n        // Recolor OptionMenu's button with the value chosen in our color picker\n        BackgroundFill whiteFill = new BackgroundFill(white, CornerRadii.EMPTY, Insets.EMPTY);\n        Background whiteGround = new Background(whiteFill);\n        whiteSquareButton.setBackground(whiteGround);\n\n        undosEnabledCheckbox.setSelected(options.getUndosEnabled());\n        showMovesCheckbox.setSelected(options.getShowMoves());\n\n        if(undosEnabledCheckbox.isSelected()){\n\n            if(options.getUnlimitedUndos() == true){\n                unlimitedUndosCheckbox.setSelected(true);\n                undoTextField.setDisable(true);\n            }else{// If we don't have unlimited undos in our settings\n                if(options.getUndoMax() != 999){ // 999 represents having unlimited undos\n                    // Set the &quot;undos&quot; text field to the maximum amount of undos in Options()\n                    undoTextField.setText(String.valueOf(options.getUndoMax()));\n                }\n            }\n        }\n\n\n        // Create a ChangeListener that listens for changes in the selected property of the checkbox\n        ChangeListener&lt;Boolean&gt; listener1 = new ChangeListener&lt;Boolean&gt;() {\n            public void changed(ObservableValue&lt;? extends Boolean&gt; observable, Boolean oldValue, Boolean newValue) {\n                if (newValue) {\n                    undoTextField.setDisable(false); // Enable if the checkbox is selected\n                    unlimitedUndosCheckbox.setDisable(false);\n\n                } else {\n                    unlimitedUndosCheckbox.setDisable(true);\n                    unlimitedUndosCheckbox.setSelected(false);\n                    undoTextField.clear();\n                    if(undoTextField.isDisabled() == false){\n                        undoTextField.setDisable(true);\n                    }\n                }\n            }\n        };\n\n        // Add the ChangeListener to the checkbox's selected property\n        undosEnabledCheckbox.selectedProperty().addListener(listener1);\n\n        ChangeListener&lt;Boolean&gt; listener2 = new ChangeListener&lt;Boolean&gt;() {\n            public void changed(ObservableValue&lt;? extends Boolean&gt; observable, Boolean oldValue, Boolean newValue) {\n                if (newValue) {\n                    undoTextField.setDisable(true); // If checked, disable text field\n                    undoTextField.clear();\n                } else {\n                    undoTextField.setDisable(false);\n                }\n            }\n        };\n\n        unlimitedUndosCheckbox.selectedProperty().addListener(listener2);\n\n\n    }\n\n\n\n    /**Get the root of the layout in order for another class to display it**/\n    public Pane getRoot() {\n        return root;\n    }\n\n    /**\n     * Handles an action event generated by a component in our scene\n     * @param actionEvent the event which occurred\n     */\n    @Override\n    public void handle(ActionEvent actionEvent) {\n\n        if (actionEvent.getSource() == blackSquareButton) {\n            openColorChooser(blackSquareButton);\n        }else if(actionEvent.getSource() == whiteSquareButton) {\n            openColorChooser(whiteSquareButton);\n        }else if(actionEvent.getSource() == saveButton){\n            saveSettings();\n        }else if(actionEvent.getSource() == exitButton){\n            //exitSettings();\n        }\n    }\n\n    /**\n     * Saves the Options Menu Screen's settings to the Chess games Options()\n     */\n    public void saveSettings(){\n        // Getting the game's options\n        Options options = game.getOptions();\n        GameStateEditor stateEditor = game.getStateEditor();\n\n        // That means we can undo in this game. If the player doesn't select\n        // anything else, we'll assume they'll undo once at a time\n        if(undosEnabledCheckbox.isSelected()){\n            options.setUndosEnabled(true);\n\n            // If the player wants unlimited undos\n            if(unlimitedUndosCheckbox.isSelected()){\n                options.setUnlimitedUndos(true);\n\n            // If the &quot;Max Undos&quot; text field has numbers in it\n            }else if(0 &lt; undoTextField.getText().length() &amp;&amp; undoTextField.getText().length() &lt; 3){\n                int allowed_undos = Integer.parseInt(undoTextField.getText().trim());\n                options.setUndoMax(allowed_undos);\n                stateEditor.setMaxUndos(options.getUndoMax());\n            }\n        }else{// If the &quot;Undos Enabled&quot; is not selected\n            options.setUndosEnabled(false);\n        }\n\n        if(showMovesCheckbox.isSelected()){\n            options.setShowMoves(true);\n        }else{ // If the show moves checkbox isn't checked\n            options.setShowMoves(true);\n        }\n\n        int[] blkColors = getButtonColorInt(blackSquareButton);\n        int[] whtColors = getButtonColorInt(whiteSquareButton);\n\n        // Setting the options black and white square colors\n        options.setBlackSquareColor(blkColors[0], blkColors[1], blkColors[2]);\n        options.setWhiteSquareColor(whtColors[0], whtColors[1], whtColors[2]);\n    }\n\n    /**\n     * Opens a ColorChooser triggered by a button click\n     * @param button - The button that opened ColorChooser\n     */\n    public void openColorChooser(Button button){\n        screenChanger.switchScreen(ScreenFactory.Screen.SCREEN4);\n\n        /**\n        ColorChooser ch = null;\n        ch = ColorChooser.getInstance();\n        ch.setColor(getButtonColor(button));\n\n        //TODO: For task 3 a another method here would be good.\n\n        root = ch;\n\n        //Change the screen\n        if(screenChanger == null)\n            scene = new Scene(root,400,600);\n        else\n            scene.setRoot(root);\n\n        ch.setPreviousScene(((Node)button).getScene());\n        ch.setPreviousButton(button);\n\n        Stage stage = (Stage) ((Node)button).getScene().getWindow();\n        stage.setScene(scene);\n        stage.show();\n        //runOnce = false;\n         */\n\n    }\n\n    /**\n     * Returns the Color of a button in the form of a list of integers representing\n     * RBG values.\n     * @param button - The button whose color we're getting\n     * @return A button's color as a list of integers\n     */\n    public int[] getButtonColorInt(Button button){\n        Color color = (Color) button.getBackground().getFills().get(0).getFill();\n        int[] buttonColors =  {(int)(color.getRed()), (int)(color.getGreen()), (int)(color.getBlue())};\n        return buttonColors;\n    }\n\n    /**\n     * Returns the Color of a button in the form of a Hexadecimal string.\n     * @param button - The button whose color we're getting\n     * @return A button's color as a Hexadecimal string\n     */\n    public String getButtonColor(Button button){\n        Color color = (Color) button.getBackground().getFills().get(0).getFill();\n        String hex = String.format(&quot;%02X%02X%02X&quot;, (int)(color.getRed()*255),\n                (int)(color.getGreen()*255), (int)(color.getBlue()*255));\n        return hex;\n    }\n\n}\n</code></pre>\n<p>Here's my FXML file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.geometry.Insets?&gt;\n&lt;?import javafx.scene.control.Button?&gt;\n&lt;?import javafx.scene.control.CheckBox?&gt;\n&lt;?import javafx.scene.control.Label?&gt;\n&lt;?import javafx.scene.control.TextField?&gt;\n&lt;?import javafx.scene.layout.AnchorPane?&gt;\n&lt;?import javafx.scene.layout.HBox?&gt;\n&lt;?import javafx.scene.layout.VBox?&gt;\n&lt;?import javafx.scene.text.Font?&gt;\n\n&lt;AnchorPane minWidth=&quot;400.0&quot; prefHeight=&quot;400.0&quot; prefWidth=&quot;400.0&quot; xmlns=&quot;http://javafx.com/javafx/19&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;controllers.Main&quot;&gt;\n   &lt;children&gt;\n      &lt;Label alignment=&quot;TOP_LEFT&quot; layoutX=&quot;150.0&quot; layoutY=&quot;20.0&quot; prefHeight=&quot;40.0&quot; prefWidth=&quot;95.0&quot; text=&quot;Settings&quot;&gt;\n         &lt;font&gt;\n            &lt;Font size=&quot;27.0&quot; /&gt;\n         &lt;/font&gt;\n      &lt;/Label&gt;\n      &lt;Label layoutX=&quot;39.0&quot; layoutY=&quot;76.0&quot; maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;40.0&quot; prefWidth=&quot;80.0&quot; text=&quot;Colors:&quot;&gt;\n         &lt;font&gt;\n            &lt;Font size=&quot;20.0&quot; /&gt;\n         &lt;/font&gt;\n      &lt;/Label&gt;\n      &lt;HBox alignment=&quot;CENTER_LEFT&quot; layoutX=&quot;40.0&quot; layoutY=&quot;159.0&quot; maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;29.0&quot; prefWidth=&quot;157.0&quot;&gt;\n         &lt;children&gt;\n            &lt;Label contentDisplay=&quot;BOTTOM&quot; prefHeight=&quot;22.0&quot; prefWidth=&quot;110.0&quot; text=&quot;Black Squares&quot;&gt;\n               &lt;font&gt;\n                  &lt;Font size=&quot;17.0&quot; /&gt;\n               &lt;/font&gt;\n            &lt;/Label&gt;\n            &lt;Button fx:id=&quot;blackSquareButton&quot; mnemonicParsing=&quot;false&quot; prefHeight=&quot;28.0&quot; prefWidth=&quot;29.0&quot; text=&quot;  &quot; textAlignment=&quot;CENTER&quot;&gt;\n               &lt;font&gt;\n                  &lt;Font size=&quot;2.0&quot; /&gt;\n               &lt;/font&gt;\n               &lt;HBox.margin&gt;\n                  &lt;Insets left=&quot;7.0&quot; /&gt;\n               &lt;/HBox.margin&gt;\n            &lt;/Button&gt;\n         &lt;/children&gt;\n      &lt;/HBox&gt;\n      &lt;VBox layoutX=&quot;40.0&quot; layoutY=&quot;207.0&quot;&gt;\n         &lt;children&gt;\n            &lt;Label prefHeight=&quot;26.0&quot; prefWidth=&quot;89.0&quot; text=&quot;Undo:&quot;&gt;\n               &lt;font&gt;\n                  &lt;Font size=&quot;20.0&quot; /&gt;\n               &lt;/font&gt;\n            &lt;/Label&gt;\n         &lt;/children&gt;\n      &lt;/VBox&gt;\n      &lt;VBox layoutX=&quot;226.0&quot; layoutY=&quot;131.0&quot;&gt;\n         &lt;children&gt;\n            &lt;CheckBox fx:id=&quot;showMovesCheckbox&quot; mnemonicParsing=&quot;false&quot; prefHeight=&quot;33.0&quot; prefWidth=&quot;134.0&quot; text=&quot;Show moves&quot;&gt;\n               &lt;font&gt;\n                  &lt;Font size=&quot;17.0&quot; /&gt;\n               &lt;/font&gt;\n            &lt;/CheckBox&gt;\n         &lt;/children&gt;\n      &lt;/VBox&gt;\n      &lt;VBox alignment=&quot;CENTER&quot; layoutX=&quot;237.0&quot; layoutY=&quot;298.0&quot; prefHeight=&quot;48.0&quot; prefWidth=&quot;123.0&quot; spacing=&quot;8.0&quot;&gt;\n         &lt;children&gt;\n            &lt;Button fx:id=&quot;saveButton&quot; mnemonicParsing=&quot;false&quot; text=&quot;Save&quot;&gt;\n               &lt;font&gt;\n                  &lt;Font size=&quot;17.0&quot; /&gt;\n               &lt;/font&gt;\n            &lt;/Button&gt;\n            &lt;Button fx:id=&quot;exitButton&quot; mnemonicParsing=&quot;false&quot; text=&quot;Exit&quot;&gt;\n               &lt;font&gt;\n                  &lt;Font size=&quot;17.0&quot; /&gt;\n               &lt;/font&gt;\n            &lt;/Button&gt;\n         &lt;/children&gt;\n      &lt;/VBox&gt;\n      &lt;VBox alignment=&quot;CENTER_LEFT&quot; layoutX=&quot;40.0&quot; layoutY=&quot;245.0&quot; prefHeight=&quot;56.0&quot; prefWidth=&quot;157.0&quot; spacing=&quot;5.0&quot;&gt;\n         &lt;children&gt;\n            &lt;CheckBox fx:id=&quot;undosEnabledCheckbox&quot; mnemonicParsing=&quot;false&quot; text=&quot;Enabled&quot;&gt;\n               &lt;font&gt;\n                  &lt;Font size=&quot;17.0&quot; /&gt;\n               &lt;/font&gt;\n               &lt;VBox.margin&gt;\n                  &lt;Insets bottom=&quot;4.0&quot; /&gt;\n               &lt;/VBox.margin&gt;\n            &lt;/CheckBox&gt;\n            &lt;CheckBox fx:id=&quot;unlimitedUndosCheckbox&quot; mnemonicParsing=&quot;false&quot; prefHeight=&quot;24.0&quot; prefWidth=&quot;165.0&quot; text=&quot;Unlimited Undos&quot;&gt;\n               &lt;font&gt;\n                  &lt;Font size=&quot;17.0&quot; /&gt;\n               &lt;/font&gt;\n            &lt;/CheckBox&gt;\n         &lt;/children&gt;\n         &lt;opaqueInsets&gt;\n            &lt;Insets /&gt;\n         &lt;/opaqueInsets&gt;\n      &lt;/VBox&gt;\n      &lt;HBox layoutX=&quot;42.0&quot; layoutY=&quot;335.0&quot; prefHeight=&quot;22.0&quot; prefWidth=&quot;134.0&quot;&gt;\n         &lt;children&gt;\n            &lt;Label prefHeight=&quot;22.0&quot; prefWidth=&quot;110.0&quot; text=&quot;Max Undos&quot;&gt;\n               &lt;font&gt;\n                  &lt;Font size=&quot;17.0&quot; /&gt;\n               &lt;/font&gt;\n            &lt;/Label&gt;\n            &lt;TextField fx:id=&quot;undoTextField&quot; prefHeight=&quot;22.0&quot; prefWidth=&quot;66.0&quot;&gt;\n               &lt;font&gt;\n                  &lt;Font size=&quot;17.0&quot; /&gt;\n               &lt;/font&gt;\n               &lt;padding&gt;\n                  &lt;Insets left=&quot;8.0&quot; /&gt;\n               &lt;/padding&gt;\n               &lt;HBox.margin&gt;\n                  &lt;Insets left=&quot;5.0&quot; /&gt;\n               &lt;/HBox.margin&gt;\n            &lt;/TextField&gt;\n         &lt;/children&gt;\n      &lt;/HBox&gt;\n      &lt;HBox alignment=&quot;CENTER_LEFT&quot; layoutX=&quot;39.0&quot; layoutY=&quot;116.0&quot; prefHeight=&quot;29.0&quot; prefWidth=&quot;151.0&quot;&gt;\n         &lt;children&gt;\n            &lt;Label prefHeight=&quot;23.0&quot; prefWidth=&quot;108.0&quot; text=&quot;White Squares&quot;&gt;\n               &lt;font&gt;\n                  &lt;Font size=&quot;17.0&quot; /&gt;\n               &lt;/font&gt;\n            &lt;/Label&gt;\n            &lt;Button fx:id=&quot;whiteSquareButton&quot; mnemonicParsing=&quot;false&quot; prefHeight=&quot;26.0&quot; prefWidth=&quot;29.0&quot; text=&quot;  &quot;&gt;\n               &lt;font&gt;\n                  &lt;Font size=&quot;12.0&quot; /&gt;\n               &lt;/font&gt;\n               &lt;HBox.margin&gt;\n                  &lt;Insets left=&quot;9.0&quot; /&gt;\n               &lt;/HBox.margin&gt;\n            &lt;/Button&gt;\n         &lt;/children&gt;\n      &lt;/HBox&gt;\n   &lt;/children&gt;\n&lt;/AnchorPane&gt;\n \n</code></pre>\n<p>Here's my controller class:</p>\n<pre><code>package controllers;\n\nimport interfaces.guiIF;\nimport javafx.application.Application;\nimport javafx.scene.Scene;\nimport javafx.stage.Stage;\nimport ui_gui.MainMenu;\nimport ui_gui.ScreenFactory;\n\n/**\n * A class to start the chess application\n */\npublic class Main extends Application {\n\n\n\n    /**\n     * Creates a driver and calls runGame.\n     */\n\n    private static Chess game;\n    public static void main(String[] args) {\n        // guiIF GUI = MainMenu.getMenu();\n        game = Chess.getInstanceOfGame();\n        Driver driver = new Driver(game);\n        driver.runGame();\n        launch(args);\n    }\n\n    /**\n     *\n     * @param primaryStage the primary stage for this application, onto which\n     * the application scene can be set.\n     * Applications may create other stages, if needed, but they will not be\n     * primary stages.\n     */\n\n    @Override\n    public void start(Stage primaryStage){\n        try{\n            MainMenu mainScreen = new MainMenu(game);\n            Scene scene = new Scene(mainScreen.getRoot(), 1000, 600);\n            ScreenFactory.getInstance(scene);\n\n            scene.getStylesheets().add(getClass().getResource(&quot;application.css&quot;).toExternalForm());\n            primaryStage.setScene(scene);\n            primaryStage.setResizable(false);\n            primaryStage.show();\n\n\n        }\n        catch(Exception e){\n            e.printStackTrace();\n        }\n    }\n\n\n}\n</code></pre>\n<p>And here's the error I'm getting when trying to load the scene:</p>\n<pre><code>Exception in thread &quot;JavaFX Application Thread&quot; java.lang.NullPointerException: Cannot invoke &quot;javafx.scene.control.Button.setBackground(javafx.scene.layout.Background)&quot; because &quot;this.blackSquareButton&quot; is null\n    at ui_gui.OptionsMenu.&lt;init&gt;(OptionsMenu.java:114)\n    at ui_gui.OptionsMenu.getInstance(OptionsMenu.java:79)\n    at ui_gui.ScreenFactory.setScreen(ScreenFactory.java:106)\n    at ui_gui.ScreenFactory.switchScreen(ScreenFactory.java:165)\n    at ui_gui.MainMenu$1.handle(MainMenu.java:245)\n    at ui_gui.MainMenu$1.handle(MainMenu.java:213)\n    at javafx.base/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)\n    at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)\n    at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)\n    at javafx.base/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\n    at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\n    at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\n    at javafx.base/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)\n    at javafx.base/javafx.event.Event.fireEvent(Event.java:198)\n    at javafx.graphics/javafx.scene.Node.fireEvent(Node.java:8944)\n    at javafx.controls/javafx.scene.control.Button.fire(Button.java:203)\n    at javafx.controls/com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:207)\n    at javafx.controls/com.sun.javafx.scene.control.inputmap.InputMap.handle(InputMap.java:274)\n    at javafx.base/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:247)\n    at javafx.base/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)\n    at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)\n    at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)\n    at javafx.base/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\n    at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\n    at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\n    at javafx.base/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)\n    at javafx.base/javafx.event.Event.fireEvent(Event.java:198)\n    at javafx.graphics/javafx.scene.Scene$MouseHandler.process(Scene.java:3980)\n    at javafx.graphics/javafx.scene.Scene.processMouseEvent(Scene.java:1890)\n    at javafx.graphics/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2704)\n    at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)\n    at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n    at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)\n    at javafx.graphics/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)\n    at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)\n    at javafx.graphics/com.sun.glass.ui.View.handleMouseEvent(View.java:551)\n    at javafx.graphics/com.sun.glass.ui.View.notifyMouse(View.java:937)\n    at javafx.graphics/com.sun.glass.ui.mac.MacView.notifyMouse(MacView.java:127)\n</code></pre>\n"},{"tags":["java","itext","itext7","html-to-pdf"],"answers":[{"tags":[],"owner":{"account_id":6482662,"reputation":677,"user_id":5019199,"display_name":"e.g78"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1563883631,"creation_date":1563883025,"answer_id":57163731,"question_id":57163609,"body_markdown":"`com/itextpdf/kernel/counter/event/IMetaInfo` is not present in version `7.0.4`\r\nTry upgrading to itext `7.1.7`","title":"java.lang.NoClassDefFoundError: com/itextpdf/kernel/counter/event/IMetaInfo","body":"<p><code>com/itextpdf/kernel/counter/event/IMetaInfo</code> is not present in version <code>7.0.4</code>\nTry upgrading to itext <code>7.1.7</code></p>\n"},{"tags":[],"owner":{"account_id":16593981,"reputation":15,"user_id":11991372,"display_name":"lukdymek"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1672319168,"creation_date":1672311899,"answer_id":74950303,"question_id":57163609,"body_markdown":"Yesterday I had simillar problem. It appears that some dependencies  did not load properly even that no errors were thrown. I had to restart IDE (Eclipse in my case) and that sorted out the problem. ","title":"java.lang.NoClassDefFoundError: com/itextpdf/kernel/counter/event/IMetaInfo","body":"<p>Yesterday I had simillar problem. It appears that some dependencies  did not load properly even that no errors were thrown. I had to restart IDE (Eclipse in my case) and that sorted out the problem.</p>\n"},{"tags":[],"owner":{"account_id":3205334,"reputation":51,"user_id":2706465,"display_name":"Nandom Gusen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683430825,"creation_date":1683430825,"answer_id":76192092,"question_id":57163609,"body_markdown":"With html2pdf, this error `java.lang.NoClassDefFoundError: com/itextpdf/kernel/counter/event/IMetaInfo` is resolved by upgrading your IText 7 Kernel to 7.2.5 as shown below\r\n\r\n     &lt;dependency&gt;\r\n         &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\r\n         &lt;artifactId&gt;kernel&lt;/artifactId&gt;\r\n         &lt;version&gt;7.2.5&lt;/version&gt;\r\n     &lt;/dependency&gt;","title":"java.lang.NoClassDefFoundError: com/itextpdf/kernel/counter/event/IMetaInfo","body":"<p>With html2pdf, this error <code>java.lang.NoClassDefFoundError: com/itextpdf/kernel/counter/event/IMetaInfo</code> is resolved by upgrading your IText 7 Kernel to 7.2.5 as shown below</p>\n<pre><code> &lt;dependency&gt;\n     &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\n     &lt;artifactId&gt;kernel&lt;/artifactId&gt;\n     &lt;version&gt;7.2.5&lt;/version&gt;\n &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":13399610,"reputation":430,"user_id":10229308,"display_name":"Nick"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6457,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":57163731,"answer_count":3,"score":3,"last_activity_date":1683430825,"creation_date":1563882636,"question_id":57163609,"body_markdown":"I&#39;m new to Java, I&#39;m working on generating pdf from html. Therefore, I&#39;m using the iText7, I can generate a normal pdf file through PdfWriter and Document but I can&#39;t do it using html2pdf.\r\n\r\nHere is my Pom.xml\r\n\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n      xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n      &lt;groupId&gt;springexample&lt;/groupId&gt;\r\n      &lt;artifactId&gt;PDFGenerator&lt;/artifactId&gt;\r\n      &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n      &lt;packaging&gt;jar&lt;/packaging&gt;\r\n    \r\n      &lt;name&gt;bean&lt;/name&gt;\r\n      &lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n    \r\n      &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n      &lt;/properties&gt;\r\n    \r\n      &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;junit&lt;/groupId&gt;\r\n          &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n          &lt;version&gt;3.8.1&lt;/version&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n        &lt;!-- https://mvnrepository.com/artifact/com.itextpdf/itext7-core --&gt;\r\n    \t&lt;dependency&gt;\r\n    \t    &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\r\n    \t    &lt;artifactId&gt;itext7-core&lt;/artifactId&gt;\r\n    \t    &lt;version&gt;7.0.4&lt;/version&gt;\r\n    \t    &lt;type&gt;pom&lt;/type&gt;\r\n    \t&lt;/dependency&gt;\r\n    \r\n        &lt;!-- https://mvnrepository.com/artifact/com.itextpdf/itext7-core --&gt;\r\n    \t&lt;dependency&gt;\r\n            &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\r\n            &lt;artifactId&gt;kernel&lt;/artifactId&gt;\r\n            &lt;version&gt;7.0.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\r\n            &lt;artifactId&gt;io&lt;/artifactId&gt;\r\n            &lt;version&gt;7.0.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\r\n            &lt;artifactId&gt;layout&lt;/artifactId&gt;\r\n            &lt;version&gt;7.0.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\r\n            &lt;artifactId&gt;forms&lt;/artifactId&gt;\r\n            &lt;version&gt;7.0.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\r\n            &lt;artifactId&gt;pdfa&lt;/artifactId&gt;\r\n            &lt;version&gt;7.0.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\r\n            &lt;artifactId&gt;pdftest&lt;/artifactId&gt;\r\n            &lt;version&gt;7.0.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/com.itextpdf/html2pdf --&gt;\r\n    \t&lt;dependency&gt;\r\n    \t    &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\r\n    \t    &lt;artifactId&gt;html2pdf&lt;/artifactId&gt;\r\n    \t    &lt;version&gt;2.1.4&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t\r\n    \t&lt;!-- https://mvnrepository.com/artifact/org.slf4j/slf4j-log4j12 --&gt;\r\n    \t&lt;dependency&gt;\r\n    \t    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n    \t    &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\r\n    \t    &lt;version&gt;1.7.26&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    &lt;/project&gt;\r\n\r\nand here is my code java:\r\n\r\n    import java.io.FileOutputStream;\r\n    import java.io.IOException;\r\n    import java.nio.file.Paths;\r\n    \r\n    import com.itextpdf.html2pdf.HtmlConverter;\r\n        \r\n    public class HtmlToPdf {\r\n        \t\r\n    /** The HTML-string that we are going to convert to PDF. */\r\n    public static final String HTML = &quot;&lt;h1&gt;Test&lt;/h1&gt;&lt;p&gt;Hello World&lt;/p&gt;&quot;;\r\n    /** The target folder for the result. */\r\n    public static final String TARGET = &quot;target/&quot;;\r\n    /** The path to the resulting PDF file. */\r\n    public static final String DEST = String.format(&quot;%stest-01.pdf&quot;, TARGET);\r\n        \t\r\n        \tpublic static void main(String[] args) throws IOException { \r\n        \r\n        \t\tHtmlConverter.convertToPdf(HTML, new FileOutputStream(DEST));\r\n        \r\n        \t\tSystem.out.println(&quot;Done&quot;);\r\n            }\r\n        }\r\n\r\nThe error is on the line: \r\n\r\n    HtmlConverter.convertToPdf(HTML, new FileOutputStream(DEST));\r\n\r\n-------\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: com/itextpdf/kernel/counter/event/IMetaInfo\r\n    \tat springexample.bean.HtmlToPdf.main(HtmlToPdf.java:18)\r\n    Caused by: java.lang.ClassNotFoundException: com.itextpdf.kernel.counter.event.IMetaInfo\r\n    \tat java.net.URLClassLoader.findClass(Unknown Source)\r\n    \tat java.lang.ClassLoader.loadClass(Unknown Source)\r\n    \tat sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source)\r\n    \tat java.lang.ClassLoader.loadClass(Unknown Source)\r\n\r\nI read other issues related to \r\n\r\n&gt; java.lang.NoClassDefFoundError\r\n\r\nthey said that I need to add the io and slf4j dependencies, however the error remains.\r\nThanks in advance.","title":"java.lang.NoClassDefFoundError: com/itextpdf/kernel/counter/event/IMetaInfo","body":"<p>I'm new to Java, I'm working on generating pdf from html. Therefore, I'm using the iText7, I can generate a normal pdf file through PdfWriter and Document but I can't do it using html2pdf.</p>\n\n<p>Here is my Pom.xml</p>\n\n<pre><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n  xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;groupId&gt;springexample&lt;/groupId&gt;\n  &lt;artifactId&gt;PDFGenerator&lt;/artifactId&gt;\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n  &lt;packaging&gt;jar&lt;/packaging&gt;\n\n  &lt;name&gt;bean&lt;/name&gt;\n  &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n\n  &lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n  &lt;/properties&gt;\n\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;junit&lt;/groupId&gt;\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\n      &lt;version&gt;3.8.1&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/com.itextpdf/itext7-core --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\n        &lt;artifactId&gt;itext7-core&lt;/artifactId&gt;\n        &lt;version&gt;7.0.4&lt;/version&gt;\n        &lt;type&gt;pom&lt;/type&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/com.itextpdf/itext7-core --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\n        &lt;artifactId&gt;kernel&lt;/artifactId&gt;\n        &lt;version&gt;7.0.4&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\n        &lt;artifactId&gt;io&lt;/artifactId&gt;\n        &lt;version&gt;7.0.4&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\n        &lt;artifactId&gt;layout&lt;/artifactId&gt;\n        &lt;version&gt;7.0.4&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\n        &lt;artifactId&gt;forms&lt;/artifactId&gt;\n        &lt;version&gt;7.0.4&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\n        &lt;artifactId&gt;pdfa&lt;/artifactId&gt;\n        &lt;version&gt;7.0.4&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\n        &lt;artifactId&gt;pdftest&lt;/artifactId&gt;\n        &lt;version&gt;7.0.4&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/com.itextpdf/html2pdf --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\n        &lt;artifactId&gt;html2pdf&lt;/artifactId&gt;\n        &lt;version&gt;2.1.4&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/org.slf4j/slf4j-log4j12 --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\n        &lt;version&gt;1.7.26&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p>and here is my code java:</p>\n\n<pre><code>import java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.nio.file.Paths;\n\nimport com.itextpdf.html2pdf.HtmlConverter;\n\npublic class HtmlToPdf {\n\n/** The HTML-string that we are going to convert to PDF. */\npublic static final String HTML = \"&lt;h1&gt;Test&lt;/h1&gt;&lt;p&gt;Hello World&lt;/p&gt;\";\n/** The target folder for the result. */\npublic static final String TARGET = \"target/\";\n/** The path to the resulting PDF file. */\npublic static final String DEST = String.format(\"%stest-01.pdf\", TARGET);\n\n        public static void main(String[] args) throws IOException { \n\n            HtmlConverter.convertToPdf(HTML, new FileOutputStream(DEST));\n\n            System.out.println(\"Done\");\n        }\n    }\n</code></pre>\n\n<p>The error is on the line: </p>\n\n<pre><code>HtmlConverter.convertToPdf(HTML, new FileOutputStream(DEST));\n</code></pre>\n\n<hr>\n\n<pre><code>Exception in thread \"main\" java.lang.NoClassDefFoundError: com/itextpdf/kernel/counter/event/IMetaInfo\n    at springexample.bean.HtmlToPdf.main(HtmlToPdf.java:18)\nCaused by: java.lang.ClassNotFoundException: com.itextpdf.kernel.counter.event.IMetaInfo\n    at java.net.URLClassLoader.findClass(Unknown Source)\n    at java.lang.ClassLoader.loadClass(Unknown Source)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source)\n    at java.lang.ClassLoader.loadClass(Unknown Source)\n</code></pre>\n\n<p>I read other issues related to </p>\n\n<blockquote>\n  <p>java.lang.NoClassDefFoundError</p>\n</blockquote>\n\n<p>they said that I need to add the io and slf4j dependencies, however the error remains.\nThanks in advance.</p>\n"},{"tags":["java","mongodb","spring-boot"],"comments":[{"owner":{"account_id":1490931,"reputation":410,"user_id":1398030,"display_name":"Madhawa Gunasekara"},"score":0,"creation_date":1683424531,"post_id":76191897,"comment_id":134364362,"body_markdown":"If we can&#39;t include the review as a field for the Book collection, then what is the relationship or link of the review with the book to identify the review is linked with book ?","body":"If we can&#39;t include the review as a field for the Book collection, then what is the relationship or link of the review with the book to identify the review is linked with book ?"},{"owner":{"account_id":27002111,"reputation":23,"user_id":20563243,"display_name":"alwaysneedhelp1901"},"score":1,"creation_date":1683424650,"post_id":76191897,"comment_id":134364370,"body_markdown":"@MadhawaGunasekara the review has a reference to the book&#39;s id","body":"@MadhawaGunasekara the review has a reference to the book&#39;s id"}],"answers":[{"tags":[],"owner":{"account_id":1490931,"reputation":410,"user_id":1398030,"display_name":"Madhawa Gunasekara"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683428910,"creation_date":1683428910,"answer_id":76192030,"question_id":76191897,"body_markdown":"I think you could try the below-suggested approach.\r\n\r\nSince you can&#39;t modify the db schema you need to first get the bookId related to bookName from Books.\r\n\r\nThen we could fetch Reviews based on this bookId from db separately.\r\n\r\n **Review Repository**\r\n\r\n    @Query(&quot;custom query here&quot;)     \r\n    public List&lt;Reviews&gt; findAllByBookId(String bookId); \r\n\r\n **Book Repository**\r\n\r\n    @Query(&quot;custom query here&quot;)     \r\n    public Book findByBookName(String name); \r\n\r\n**Controller**\r\n\r\n    @PostMapping(&quot;/reviews/searchbybook&quot;)\r\n    public List&lt;Reviews&gt; locationReviews(@RequestBody Books book){\r\n\r\n            Book fetchedBook = bookRepository.findByBookName(book.getName()).get(); // Fetch Book related to input bookName\r\n            List&lt;Reviews&gt; results= reviewRepository.findAllByBookId(fetchedBook.getId()); //Now fetch list of reviews by using available bookId reference\r\n            return results;\r\n        }\r\n\r\n","title":"How can I query a referenced object for a Spring Boot Application?","body":"<p>I think you could try the below-suggested approach.</p>\n<p>Since you can't modify the db schema you need to first get the bookId related to bookName from Books.</p>\n<p>Then we could fetch Reviews based on this bookId from db separately.</p>\n<p><strong>Review Repository</strong></p>\n<pre><code>@Query(&quot;custom query here&quot;)     \npublic List&lt;Reviews&gt; findAllByBookId(String bookId); \n</code></pre>\n<p><strong>Book Repository</strong></p>\n<pre><code>@Query(&quot;custom query here&quot;)     \npublic Book findByBookName(String name); \n</code></pre>\n<p><strong>Controller</strong></p>\n<pre><code>@PostMapping(&quot;/reviews/searchbybook&quot;)\npublic List&lt;Reviews&gt; locationReviews(@RequestBody Books book){\n\n        Book fetchedBook = bookRepository.findByBookName(book.getName()).get(); // Fetch Book related to input bookName\n        List&lt;Reviews&gt; results= reviewRepository.findAllByBookId(fetchedBook.getId()); //Now fetch list of reviews by using available bookId reference\n        return results;\n    }\n</code></pre>\n"}],"owner":{"account_id":27002111,"reputation":23,"user_id":20563243,"display_name":"alwaysneedhelp1901"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1683428910,"creation_date":1683424111,"question_id":76191897,"body_markdown":"I am creating a Spring Boot Application and I am using MongoDB with it. I have 2 collections. One called review, the other called book. In a review, there is a reference to the book. What I am trying to do is to write a method that would allow me to search a book name, and get all the reviews on it.\r\n\r\nThe challenge is to not change the database structure. So, I cannot just make review a field for the book collection.\r\n\r\nI tried the following: \r\n\r\nRepository:\r\n``` \r\npublic List&lt;Reviews&gt; findByBooksNameContainsIgnoreCase (String name); \r\n```\r\nController:\r\n```\r\n@PostMapping(&quot;/reviews/searchbybook&quot;)\r\npublic List&lt;Reviews&gt; locationReviews(@RequestBody Books book){\r\n\t\tList&lt;Reviews&gt; results= commentRepository.findByBooksNameContainsIgnoreCase(book.getName());\r\n\t\treturn results;\r\n\t}\r\n```\r\n\r\ngetName() [function in the class declaration of Books as part of Model]:\r\n```\r\nprivate String name;\r\n\r\npublic String getName() {\r\n\t\treturn name;\r\n\t}\r\n```\r\n\r\nExample of a Reviews Document:\r\n```\r\n{\r\n      _id: ObjectId(&#39;645762e828u3927h393u9293&#39;),\r\n      reviewer: &quot;someone&quot;,\r\n      review: &quot;Awesome Book!&quot;,\r\n      book: DBRef(&#39;books&#39;, &#39;645762e828u3927h393u9292)\r\n}\r\n\r\n```\r\n\r\n\r\nThank you in advance!!","title":"How can I query a referenced object for a Spring Boot Application?","body":"<p>I am creating a Spring Boot Application and I am using MongoDB with it. I have 2 collections. One called review, the other called book. In a review, there is a reference to the book. What I am trying to do is to write a method that would allow me to search a book name, and get all the reviews on it.</p>\n<p>The challenge is to not change the database structure. So, I cannot just make review a field for the book collection.</p>\n<p>I tried the following:</p>\n<p>Repository:</p>\n<pre><code>public List&lt;Reviews&gt; findByBooksNameContainsIgnoreCase (String name); \n</code></pre>\n<p>Controller:</p>\n<pre><code>@PostMapping(&quot;/reviews/searchbybook&quot;)\npublic List&lt;Reviews&gt; locationReviews(@RequestBody Books book){\n        List&lt;Reviews&gt; results= commentRepository.findByBooksNameContainsIgnoreCase(book.getName());\n        return results;\n    }\n</code></pre>\n<p>getName() [function in the class declaration of Books as part of Model]:</p>\n<pre><code>private String name;\n\npublic String getName() {\n        return name;\n    }\n</code></pre>\n<p>Example of a Reviews Document:</p>\n<pre><code>{\n      _id: ObjectId('645762e828u3927h393u9293'),\n      reviewer: &quot;someone&quot;,\n      review: &quot;Awesome Book!&quot;,\n      book: DBRef('books', '645762e828u3927h393u9292)\n}\n\n</code></pre>\n<p>Thank you in advance!!</p>\n"},{"tags":["java","xml","jaxb"],"answers":[{"tags":[],"owner":{"account_id":900534,"reputation":890,"user_id":936793,"accept_rate":78,"display_name":"Clark"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1399655880,"creation_date":1399655880,"answer_id":23570497,"question_id":23550197,"body_markdown":"Turns out my question was answered by the first comment on the [blog](http://blog.bdoughan.com/2011/04/xmlanyelement-and-non-dom-properties.html) post this example is taken from.  The code of BioHandler.createUnmarshaller() should be:\r\n\r\n    public StreamResult createUnmarshaller(ValidationEventHandler errorHandler) {\r\n    \txmlWriter.getBuffer().setLength(0);\r\n        return new StreamResult(xmlWriter);\r\n    }\r\n\r\n","title":"DomHandler to capture text for multiple records","body":"<p>Turns out my question was answered by the first comment on the <a href=\"http://blog.bdoughan.com/2011/04/xmlanyelement-and-non-dom-properties.html\" rel=\"nofollow\">blog</a> post this example is taken from.  The code of BioHandler.createUnmarshaller() should be:</p>\n\n<pre><code>public StreamResult createUnmarshaller(ValidationEventHandler errorHandler) {\n    xmlWriter.getBuffer().setLength(0);\n    return new StreamResult(xmlWriter);\n}\n</code></pre>\n"}],"owner":{"account_id":900534,"reputation":890,"user_id":936793,"accept_rate":78,"display_name":"Clark"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1037,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":23570497,"answer_count":1,"score":2,"last_activity_date":1683428664,"creation_date":1399575087,"question_id":23550197,"body_markdown":"I am attempting to use @XmlAnyElement with DomHandler to capture the unparsed text within a particular field like &lt;bio&gt; in [this](http://blog.bdoughan.com/2011/04/xmlanyelement-and-non-dom-properties.html) example from Blaise Doughan.  But when I attempt to parse multiple customers the contents of bio fields from all previous &lt;customer&gt; records continue to be sent to my DomHandler!  \r\n\r\nHere is the example document I am trying to parse:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;customers&gt;\r\n       &lt;customer&gt;\r\n         &lt;name&gt;Jane Doe&lt;/name&gt;\r\n         &lt;bio&gt;\r\n           &lt;html&gt;Jane&#39;s bio&lt;/html&gt;\r\n         &lt;/bio&gt;\r\n       &lt;/customer&gt;\r\n       &lt;customer&gt;\r\n         &lt;name&gt;John Doe&lt;/name&gt;\r\n         &lt;bio&gt;\r\n           &lt;html&gt;John&#39;s bio&lt;/html&gt;\r\n         &lt;/bio&gt;\r\n       &lt;/customer&gt;\r\n    &lt;/customers&gt;\r\n\r\nBut the output is:\r\n\r\n     Name:  Jane Doe \r\n     Bio:   &lt;html&gt;Jane&#39;s bio&lt;/html&gt;\r\n     Name:  John Doe \r\n     Bio:   &lt;html&gt;Jane&#39;s bio&lt;/html&gt;\r\n\r\n\r\n**BioHandler** (unchanged from [previous example](http://blog.bdoughan.com/2011/04/xmlanyelement-and-non-dom-properties.html))\r\n\r\n    package blog.domhandler;\r\n     \r\n    import java.io.StringReader;\r\n    import java.io.StringWriter;\r\n     \r\n    import javax.xml.bind.ValidationEventHandler;\r\n    import javax.xml.bind.annotation.DomHandler;\r\n    import javax.xml.transform.Source;\r\n    import javax.xml.transform.stream.StreamResult;\r\n    import javax.xml.transform.stream.StreamSource;\r\n     \r\n    public class BioHandler implements DomHandler&lt;String, StreamResult&gt; {\r\n     \r\n        private static final String BIO_START_TAG = &quot;&lt;bio&gt;&quot;;\r\n        private static final String BIO_END_TAG = &quot;&lt;/bio&gt;&quot;;\r\n     \r\n        private StringWriter xmlWriter = new StringWriter();\r\n     \r\n        public StreamResult createUnmarshaller(ValidationEventHandler errorHandler) {\r\n            return new StreamResult(xmlWriter);\r\n        }\r\n     \r\n        public String getElement(StreamResult rt) {\r\n            String xml = rt.getWriter().toString();\r\n            int beginIndex = xml.indexOf(BIO_START_TAG) + BIO_START_TAG.length();\r\n            int endIndex = xml.indexOf(BIO_END_TAG);\r\n            return xml.substring(beginIndex, endIndex);\r\n        }\r\n     \r\n        public Source marshal(String n, ValidationEventHandler errorHandler) {\r\n            try {\r\n                String xml = BIO_START_TAG + n.trim() + BIO_END_TAG;\r\n                StringReader xmlReader = new StringReader(xml);\r\n                return new StreamSource(xmlReader);\r\n            } catch(Exception e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        }\r\n     \r\n    }\r\n\r\n\r\n**Customer** (unchanged from [previous example](http://blog.bdoughan.com/2011/04/xmlanyelement-and-non-dom-properties.html))\r\n\r\n    package blog.domhandler;\r\n     \r\n    import javax.xml.bind.annotation.XmlAnyElement;\r\n    import javax.xml.bind.annotation.XmlRootElement;\r\n    import javax.xml.bind.annotation.XmlType;\r\n     \r\n    @XmlRootElement\r\n    @XmlType(propOrder={&quot;name&quot;, &quot;bio&quot;})\r\n    public class Customer {\r\n     \r\n        private String name;\r\n        private String bio;\r\n     \r\n        public String getName() {\r\n            return name;\r\n        }\r\n     \r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n     \r\n        @XmlAnyElement(BioHandler.class)\r\n        public String getBio() {\r\n            return bio;\r\n        }\r\n     \r\n        public void setBio(String bio) {\r\n            this.bio = bio;\r\n        }\r\n     \r\n    }\r\n\r\n\r\n**Customers**\r\n\r\n    package blog.domhandler;\r\n     \r\n    import java.util.List;\r\n    \r\n    import javax.xml.bind.annotation.XmlAnyElement;\r\n    import javax.xml.bind.annotation.XmlRootElement;\r\n    import javax.xml.bind.annotation.XmlType;\r\n     \r\n    @XmlRootElement\r\n    public class Customers {\r\n     \r\n        private List&lt;Customer&gt; customers;\r\n     \r\n        public List&lt;Customer&gt; getCustomer() {\r\n            return customers;\r\n        }\r\n     \r\n        public void setCustomer(List&lt;Customer&gt; c) {\r\n            this.customers = c;\r\n        }\r\n      \r\n    }\r\n\r\n\r\n**Demo** (driver)\r\n\r\n    package blog.domhandler;\r\n     \r\n    import java.io.File;\r\n     \r\n    import javax.xml.bind.JAXBContext;\r\n    import javax.xml.bind.Marshaller;\r\n    import javax.xml.bind.Unmarshaller;\r\n     \r\n    public class Demo {\r\n     \r\n        public static void main(String[] args) throws Exception {\r\n            JAXBContext jc = JAXBContext.newInstance(Customers.class);\r\n     \r\n            Unmarshaller unmarshaller = jc.createUnmarshaller();\r\n            Customers customers = (Customers) unmarshaller.unmarshal(new File(&quot;src/blog/domhandler/input.xml&quot;));\r\n     \r\n            for( Customer customer: customers.getCustomer() ) {\r\n            \r\n            System.out.println(&quot;Name:  &quot; + customer.getName());\r\n            System.out.println(&quot;Bio:   &quot; + customer.getBio());\r\n            \r\n            }\r\n    \r\n        }\r\n    }\r\n\r\n\r\nWhen I place a breakpoint in BioHandler.getElement(), I see that the first time its called String xml takes the value\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;bio&gt;&lt;html&gt;Jane&#39;s bio&lt;/html&gt;\r\n        &lt;/bio&gt;\r\n\r\nwhile the second time it is called String xml takes the value\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;bio&gt;&lt;html&gt;Jane&#39;s bio&lt;/html&gt;\r\n        &lt;/bio&gt;&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;bio&gt;&lt;html&gt;John&#39;s bio&lt;/html&gt;\r\n        &lt;/bio&gt;\r\n\r\nIs there some way to indicate to the parser that this content should be discarded after each call to BioHandler.getElement()?","title":"DomHandler to capture text for multiple records","body":"<p>I am attempting to use @XmlAnyElement with DomHandler to capture the unparsed text within a particular field like  in <a href=\"http://blog.bdoughan.com/2011/04/xmlanyelement-and-non-dom-properties.html\" rel=\"nofollow\">this</a> example from Blaise Doughan.  But when I attempt to parse multiple customers the contents of bio fields from all previous  records continue to be sent to my DomHandler!  </p>\n\n<p>Here is the example document I am trying to parse:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;customers&gt;\n   &lt;customer&gt;\n     &lt;name&gt;Jane Doe&lt;/name&gt;\n     &lt;bio&gt;\n       &lt;html&gt;Jane's bio&lt;/html&gt;\n     &lt;/bio&gt;\n   &lt;/customer&gt;\n   &lt;customer&gt;\n     &lt;name&gt;John Doe&lt;/name&gt;\n     &lt;bio&gt;\n       &lt;html&gt;John's bio&lt;/html&gt;\n     &lt;/bio&gt;\n   &lt;/customer&gt;\n&lt;/customers&gt;\n</code></pre>\n\n<p>But the output is:</p>\n\n<pre><code> Name:  Jane Doe \n Bio:   &lt;html&gt;Jane's bio&lt;/html&gt;\n Name:  John Doe \n Bio:   &lt;html&gt;Jane's bio&lt;/html&gt;\n</code></pre>\n\n<p><strong>BioHandler</strong> (unchanged from <a href=\"http://blog.bdoughan.com/2011/04/xmlanyelement-and-non-dom-properties.html\" rel=\"nofollow\">previous example</a>)</p>\n\n<pre><code>package blog.domhandler;\n\nimport java.io.StringReader;\nimport java.io.StringWriter;\n\nimport javax.xml.bind.ValidationEventHandler;\nimport javax.xml.bind.annotation.DomHandler;\nimport javax.xml.transform.Source;\nimport javax.xml.transform.stream.StreamResult;\nimport javax.xml.transform.stream.StreamSource;\n\npublic class BioHandler implements DomHandler&lt;String, StreamResult&gt; {\n\n    private static final String BIO_START_TAG = \"&lt;bio&gt;\";\n    private static final String BIO_END_TAG = \"&lt;/bio&gt;\";\n\n    private StringWriter xmlWriter = new StringWriter();\n\n    public StreamResult createUnmarshaller(ValidationEventHandler errorHandler) {\n        return new StreamResult(xmlWriter);\n    }\n\n    public String getElement(StreamResult rt) {\n        String xml = rt.getWriter().toString();\n        int beginIndex = xml.indexOf(BIO_START_TAG) + BIO_START_TAG.length();\n        int endIndex = xml.indexOf(BIO_END_TAG);\n        return xml.substring(beginIndex, endIndex);\n    }\n\n    public Source marshal(String n, ValidationEventHandler errorHandler) {\n        try {\n            String xml = BIO_START_TAG + n.trim() + BIO_END_TAG;\n            StringReader xmlReader = new StringReader(xml);\n            return new StreamSource(xmlReader);\n        } catch(Exception e) {\n            throw new RuntimeException(e);\n        }\n    }\n\n}\n</code></pre>\n\n<p><strong>Customer</strong> (unchanged from <a href=\"http://blog.bdoughan.com/2011/04/xmlanyelement-and-non-dom-properties.html\" rel=\"nofollow\">previous example</a>)</p>\n\n<pre><code>package blog.domhandler;\n\nimport javax.xml.bind.annotation.XmlAnyElement;\nimport javax.xml.bind.annotation.XmlRootElement;\nimport javax.xml.bind.annotation.XmlType;\n\n@XmlRootElement\n@XmlType(propOrder={\"name\", \"bio\"})\npublic class Customer {\n\n    private String name;\n    private String bio;\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    @XmlAnyElement(BioHandler.class)\n    public String getBio() {\n        return bio;\n    }\n\n    public void setBio(String bio) {\n        this.bio = bio;\n    }\n\n}\n</code></pre>\n\n<p><strong>Customers</strong></p>\n\n<pre><code>package blog.domhandler;\n\nimport java.util.List;\n\nimport javax.xml.bind.annotation.XmlAnyElement;\nimport javax.xml.bind.annotation.XmlRootElement;\nimport javax.xml.bind.annotation.XmlType;\n\n@XmlRootElement\npublic class Customers {\n\n    private List&lt;Customer&gt; customers;\n\n    public List&lt;Customer&gt; getCustomer() {\n        return customers;\n    }\n\n    public void setCustomer(List&lt;Customer&gt; c) {\n        this.customers = c;\n    }\n\n}\n</code></pre>\n\n<p><strong>Demo</strong> (driver)</p>\n\n<pre><code>package blog.domhandler;\n\nimport java.io.File;\n\nimport javax.xml.bind.JAXBContext;\nimport javax.xml.bind.Marshaller;\nimport javax.xml.bind.Unmarshaller;\n\npublic class Demo {\n\n    public static void main(String[] args) throws Exception {\n        JAXBContext jc = JAXBContext.newInstance(Customers.class);\n\n        Unmarshaller unmarshaller = jc.createUnmarshaller();\n        Customers customers = (Customers) unmarshaller.unmarshal(new File(\"src/blog/domhandler/input.xml\"));\n\n        for( Customer customer: customers.getCustomer() ) {\n\n        System.out.println(\"Name:  \" + customer.getName());\n        System.out.println(\"Bio:   \" + customer.getBio());\n\n        }\n\n    }\n}\n</code></pre>\n\n<p>When I place a breakpoint in BioHandler.getElement(), I see that the first time its called String xml takes the value</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;&lt;bio&gt;&lt;html&gt;Jane's bio&lt;/html&gt;\n    &lt;/bio&gt;\n</code></pre>\n\n<p>while the second time it is called String xml takes the value</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;&lt;bio&gt;&lt;html&gt;Jane's bio&lt;/html&gt;\n    &lt;/bio&gt;&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;&lt;bio&gt;&lt;html&gt;John's bio&lt;/html&gt;\n    &lt;/bio&gt;\n</code></pre>\n\n<p>Is there some way to indicate to the parser that this content should be discarded after each call to BioHandler.getElement()?</p>\n"},{"tags":["java","spring","hibernate","ehcache","jcache"],"comments":[{"owner":{"account_id":28530552,"reputation":23,"user_id":21838029,"display_name":"RemasteredDruid"},"score":0,"creation_date":1683424399,"post_id":76190958,"comment_id":134364358,"body_markdown":"In depth investigation reveals that when Hibernate does not find a cache for a certain name, the default caches it builds are specified at `org.hibernate.cache.jcache.internal.JCacheRegionFactory#getOrCreateCache -&gt; createCache` which in turn makes use of an empty `javax.cache.configuration.MutableConfiguration`. The default constructor of this class specifies `Object.class` as the value type for the cache. This is not ideal, but in absence of better answers to my question, I will resort to sticking with my approach and using Object as a value class for the cache map. It looks wrong, however.","body":"In depth investigation reveals that when Hibernate does not find a cache for a certain name, the default caches it builds are specified at <code>org.hibernate.cache.jcache.internal.JCacheRegionFactory#getO&zwnj;&#8203;rCreateCache -&gt; createCache</code> which in turn makes use of an empty <code>javax.cache.configuration.MutableConfiguration</code>. The default constructor of this class specifies <code>Object.class</code> as the value type for the cache. This is not ideal, but in absence of better answers to my question, I will resort to sticking with my approach and using Object as a value class for the cache map. It looks wrong, however."},{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1683424602,"post_id":76190958,"comment_id":134364369,"body_markdown":"replace `.newCacheConfigurationBuilder(CacheKeyImplementation.class, AbstractReadWriteAccess.Item.class)` with `.newCacheConfigurationBuilder(Object.class, Object.class)`","body":"replace <code>.newCacheConfigurationBuilder(CacheKeyImplementation.class, AbstractReadWriteAccess.Item.class)</code> with <code>.newCacheConfigurationBuilder(Object.class, Object.class)</code>"},{"owner":{"account_id":28530552,"reputation":23,"user_id":21838029,"display_name":"RemasteredDruid"},"score":0,"creation_date":1683425729,"post_id":76190958,"comment_id":134364423,"body_markdown":"@AndreyB.Panfilov yes, I was getting to that same conclusion, see my comment above. But is this really the way? More than for it to &quot;just work&quot;, I would like to use the proper way. This feels like a hack.","body":"@AndreyB.Panfilov yes, I was getting to that same conclusion, see my comment above. But is this really the way? More than for it to &quot;just work&quot;, I would like to use the proper way. This feels like a hack."},{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1683428124,"post_id":76190958,"comment_id":134364533,"body_markdown":"no, that is not a hack, that is how L2-cache is implemented in NBH, it does not assume the cache must be type-safe.","body":"no, that is not a hack, that is how L2-cache is implemented in NBH, it does not assume the cache must be type-safe."}],"answers":[{"tags":[],"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1683428040,"creation_date":1683428040,"answer_id":76192005,"question_id":76190958,"body_markdown":"For cache keys `Hibernate` may potentially use three different implementations (please check `org.hibernate.cache.spi.CacheKeysFactory` interface and it&#39;s `createCollectionKey`, `createEntityKey` and `createNaturalIdKey` methods), moreover, `Hibernate`, allows to override default `CacheKeysFactory`  via `hibernate.cache.keys_factory` setting, so, technically you have no chance to guess what cache key implementation will be used for particular cache region, moreover cache regions may contain different data, so, `Object.class` is a valid definition of cache key implementation.\r\n\r\nIn case of cache values implementations may also differ:\r\n- for natural id cache `Hibernate` stores entity identifiers there\r\n- for other caches that can be either `Map` or `StandardCacheEntryImpl` or implementation of `org.hibernate.cache.spi.support.AbstractReadWriteAccess.Lockable`\r\n\r\nso, for cache values `Object.class` is the only valid definition as well.","title":"How to programmatically configure L2 Hibernate caches with ECache?","body":"<p>For cache keys <code>Hibernate</code> may potentially use three different implementations (please check <code>org.hibernate.cache.spi.CacheKeysFactory</code> interface and it's <code>createCollectionKey</code>, <code>createEntityKey</code> and <code>createNaturalIdKey</code> methods), moreover, <code>Hibernate</code>, allows to override default <code>CacheKeysFactory</code>  via <code>hibernate.cache.keys_factory</code> setting, so, technically you have no chance to guess what cache key implementation will be used for particular cache region, moreover cache regions may contain different data, so, <code>Object.class</code> is a valid definition of cache key implementation.</p>\n<p>In case of cache values implementations may also differ:</p>\n<ul>\n<li>for natural id cache <code>Hibernate</code> stores entity identifiers there</li>\n<li>for other caches that can be either <code>Map</code> or <code>StandardCacheEntryImpl</code> or implementation of <code>org.hibernate.cache.spi.support.AbstractReadWriteAccess.Lockable</code></li>\n</ul>\n<p>so, for cache values <code>Object.class</code> is the only valid definition as well.</p>\n"}],"owner":{"account_id":28530552,"reputation":23,"user_id":21838029,"display_name":"RemasteredDruid"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":450,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76192005,"answer_count":1,"score":2,"last_activity_date":1683428040,"creation_date":1683404487,"question_id":76190958,"body_markdown":"I&#39;m trying to configure L2+QueryCache for Hibernate 6.1.7 in my Spring 6 app running Ehcache 3.10.x\r\n\r\nIn my app, Spring-level caches with method-level `@Cacheable`, `@CachePut`, `@CacheEvict`, etc. work fine. I create the caches and they work as expected.\r\n\r\nL2 cache also works correctly, but only if **I don&#39;t create any L2 caches** and let Spring create the **default ones** (`missing_cache_strategy: create`). This is presentig heap-related problems in production because the default cache settings in Ehcache are allowing infinite heap usage.\r\n\r\nHow do I create L2 caches with my own configs, **from code**? I want to avoid the `xml` Ehcache config at this time, and Ehcache seems to be moving away from it anyway.\r\n\r\nThis is how I configure Spring-level caches, and it works:\r\n\r\n```java\r\n    @Configuration\r\n    @EnableCaching\r\n    public class MyCacheConfig {\r\n      @Bean\r\n      public CacheManager ehCacheManager() {\r\n          CacheManager cacheManager = Caching.getCachingProvider().getCacheManager();\r\n\r\n         //Create a Spring-level cache\r\n         var config = CacheConfigurationBuilder\r\n                .newCacheConfigurationBuilder(SomeMethodArg.class, SomeMethodReturnType.class)\r\n                .withExpiry(ExpiryPolicyBuilder.timeToIdleExpiration(Duration.ofMinutes(30))\r\n                .build();\r\n          cacheManager.createCache(&quot;my_spr_cache&quot;, Eh107Configuration.fromEhcacheCacheConfiguration(config));\r\n\r\n          return cacheManager;\r\n      }\r\n    }\r\n```\r\nFollowing the Ehcache docs and other sources, I was able to create L2 caches in a similar manner by adding another cache to the bean above:\r\n\r\n```java\r\n//Create a L2 cache\r\nvar config = CacheConfigurationBuilder\r\n                .newCacheConfigurationBuilder(CacheKeyImplementation.class, AbstractReadWriteAccess.Item.class)\r\n                .withExpiry(ExpiryPolicyBuilder.timeToIdleExpiration(Duration.ofMinutes(30))\r\n                .build();\r\n        \r\n//L2 cache name should be the fully qualified name of the Entity\r\ncacheManager.createCache(&quot;com.mydomain.model.MyClass&quot;, Eh107Configuration.fromEhcacheCacheConfiguration(config));\r\n```\r\nAnd of course, the MyClass Entity is annotated with:\r\n```java\r\n@jakarta.persistence.Cacheable\r\n@org.hibernate.annotations.Cache(usage = CacheConcurrencyStrategy.READ_WRITE) //Note that some other classes instead use NONSTRICT_READ_WRITE \r\n```\r\nNow the cache I made is correctly created at runtime and Ehcache doesn&#39;t build a default one. I can confirm this from the startup logs - manually created caches are logged significantly earlier on.\r\n\r\nNow the issue: this method **is unreliable**. Firstly, it seems that changing the `ConcurrencyStrategy` breaks the cache creation code, for example, switching to `NONSTRICT_READ_WRITE` on the entity will cause Exceptions: \r\n```java\r\nException in thread &quot;(3/16)&quot; java.lang.ClassCastException: Invalid value type, \r\nexpected:  org.hibernate.cache.spi.support.AbstractReadWriteAccess$Item \r\nbut was :  org.hibernate.cache.spi.entry.StandardCacheEntryImpl\r\n```\r\nThe first attempt I made was obviously following the exception literally and changing the value class to `StandardCacheEntryImpl`. This just causes even more erratic behavior, with the cache behaving fine at low usage but failing when consistent load is applied:\r\n```java\r\nCaused by: java.lang.ClassCastException: Invalid value type, \r\nexpected : org.hibernate.cache.spi.support.AbstractReadWriteAccess$Item \r\nbut was : org.hibernate.cache.spi.support.AbstractReadWriteAccess$SoftLockImpl\r\n```\r\nIf I switch those two classes back and forth, I get the same exception but reversed.\r\n\r\nThis leads me to believe that I&#39;m using the **wrong approach** entirely. I can&#39;t find any **modern** and **updated** question on this, could someone kindly **point me in the right direction**?\r\n\r\n----\r\n\r\nIf it can be useful, this is the relevant config in my `application.yml`:\r\n\r\n\r\n```yml\r\n# [More settings here...]\r\n  jpa:\r\n    # [More settings here...]\r\n    properties:\r\n      jakarta:\r\n        persistence:\r\n          sharedCache:\r\n            #required - enable selective caching mode - only entities with @Cacheable annotation will use L2 cache.\r\n            mode: ENABLE_SELECTIVE\r\n      hibernate:\r\n        cache:\r\n          use_second_level_cache: true\r\n          use_query_cache: true\r\n          region:\r\n            factory_class: org.hibernate.cache.jcache.JCacheRegionFactory\r\n        jakarta:\r\n          cache:\r\n            missing_cache_strategy: create\r\n```\r\n\r\n\r\n","title":"How to programmatically configure L2 Hibernate caches with ECache?","body":"<p>I'm trying to configure L2+QueryCache for Hibernate 6.1.7 in my Spring 6 app running Ehcache 3.10.x</p>\n<p>In my app, Spring-level caches with method-level <code>@Cacheable</code>, <code>@CachePut</code>, <code>@CacheEvict</code>, etc. work fine. I create the caches and they work as expected.</p>\n<p>L2 cache also works correctly, but only if <strong>I don't create any L2 caches</strong> and let Spring create the <strong>default ones</strong> (<code>missing_cache_strategy: create</code>). This is presentig heap-related problems in production because the default cache settings in Ehcache are allowing infinite heap usage.</p>\n<p>How do I create L2 caches with my own configs, <strong>from code</strong>? I want to avoid the <code>xml</code> Ehcache config at this time, and Ehcache seems to be moving away from it anyway.</p>\n<p>This is how I configure Spring-level caches, and it works:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Configuration\n    @EnableCaching\n    public class MyCacheConfig {\n      @Bean\n      public CacheManager ehCacheManager() {\n          CacheManager cacheManager = Caching.getCachingProvider().getCacheManager();\n\n         //Create a Spring-level cache\n         var config = CacheConfigurationBuilder\n                .newCacheConfigurationBuilder(SomeMethodArg.class, SomeMethodReturnType.class)\n                .withExpiry(ExpiryPolicyBuilder.timeToIdleExpiration(Duration.ofMinutes(30))\n                .build();\n          cacheManager.createCache(&quot;my_spr_cache&quot;, Eh107Configuration.fromEhcacheCacheConfiguration(config));\n\n          return cacheManager;\n      }\n    }\n</code></pre>\n<p>Following the Ehcache docs and other sources, I was able to create L2 caches in a similar manner by adding another cache to the bean above:</p>\n<pre class=\"lang-java prettyprint-override\"><code>//Create a L2 cache\nvar config = CacheConfigurationBuilder\n                .newCacheConfigurationBuilder(CacheKeyImplementation.class, AbstractReadWriteAccess.Item.class)\n                .withExpiry(ExpiryPolicyBuilder.timeToIdleExpiration(Duration.ofMinutes(30))\n                .build();\n        \n//L2 cache name should be the fully qualified name of the Entity\ncacheManager.createCache(&quot;com.mydomain.model.MyClass&quot;, Eh107Configuration.fromEhcacheCacheConfiguration(config));\n</code></pre>\n<p>And of course, the MyClass Entity is annotated with:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@jakarta.persistence.Cacheable\n@org.hibernate.annotations.Cache(usage = CacheConcurrencyStrategy.READ_WRITE) //Note that some other classes instead use NONSTRICT_READ_WRITE \n</code></pre>\n<p>Now the cache I made is correctly created at runtime and Ehcache doesn't build a default one. I can confirm this from the startup logs - manually created caches are logged significantly earlier on.</p>\n<p>Now the issue: this method <strong>is unreliable</strong>. Firstly, it seems that changing the <code>ConcurrencyStrategy</code> breaks the cache creation code, for example, switching to <code>NONSTRICT_READ_WRITE</code> on the entity will cause Exceptions:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Exception in thread &quot;(3/16)&quot; java.lang.ClassCastException: Invalid value type, \nexpected:  org.hibernate.cache.spi.support.AbstractReadWriteAccess$Item \nbut was :  org.hibernate.cache.spi.entry.StandardCacheEntryImpl\n</code></pre>\n<p>The first attempt I made was obviously following the exception literally and changing the value class to <code>StandardCacheEntryImpl</code>. This just causes even more erratic behavior, with the cache behaving fine at low usage but failing when consistent load is applied:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Caused by: java.lang.ClassCastException: Invalid value type, \nexpected : org.hibernate.cache.spi.support.AbstractReadWriteAccess$Item \nbut was : org.hibernate.cache.spi.support.AbstractReadWriteAccess$SoftLockImpl\n</code></pre>\n<p>If I switch those two classes back and forth, I get the same exception but reversed.</p>\n<p>This leads me to believe that I'm using the <strong>wrong approach</strong> entirely. I can't find any <strong>modern</strong> and <strong>updated</strong> question on this, could someone kindly <strong>point me in the right direction</strong>?</p>\n<hr />\n<p>If it can be useful, this is the relevant config in my <code>application.yml</code>:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code># [More settings here...]\n  jpa:\n    # [More settings here...]\n    properties:\n      jakarta:\n        persistence:\n          sharedCache:\n            #required - enable selective caching mode - only entities with @Cacheable annotation will use L2 cache.\n            mode: ENABLE_SELECTIVE\n      hibernate:\n        cache:\n          use_second_level_cache: true\n          use_query_cache: true\n          region:\n            factory_class: org.hibernate.cache.jcache.JCacheRegionFactory\n        jakarta:\n          cache:\n            missing_cache_strategy: create\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-mvc","spring-retry"],"answers":[{"tags":[],"owner":{"account_id":3473020,"reputation":135,"user_id":2906912,"display_name":"Codified"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683423495,"creation_date":1683423495,"answer_id":76191877,"question_id":76191245,"body_markdown":"Please check this \r\nhttps://shankulk.com/auto-retries-in-rest-api-clients-using-spring-retry-c78cacb0cc29\r\n\r\nHere you can specify your customized statuses \r\n\r\nYour main focus should be on below function and implement it accordingly (Here it is based on http status - But you can make it based on you rown status which is part of response JSON)\r\n\r\n    private RetryPolicy getRetryPolicyForStatus(HttpStatus httpStatus) {\r\n        switch (httpStatus) {\r\n            case BAD_GATEWAY:\r\n            case SERVICE_UNAVAILABLE:\r\n            case INTERNAL_SERVER_ERROR:\r\n            case GATEWAY_TIMEOUT:\r\n                return simpleRetryPolicy;\r\n            default:\r\n                return neverRetryPolicy;\r\n        }\r\n\r\nHope you find this helpful .\r\n\r\n","title":"How to retry rest-endpoint with spring-retry based on response object rather than the status code?","body":"<p>Please check this\n<a href=\"https://shankulk.com/auto-retries-in-rest-api-clients-using-spring-retry-c78cacb0cc29\" rel=\"nofollow noreferrer\">https://shankulk.com/auto-retries-in-rest-api-clients-using-spring-retry-c78cacb0cc29</a></p>\n<p>Here you can specify your customized statuses</p>\n<p>Your main focus should be on below function and implement it accordingly (Here it is based on http status - But you can make it based on you rown status which is part of response JSON)</p>\n<pre><code>private RetryPolicy getRetryPolicyForStatus(HttpStatus httpStatus) {\n    switch (httpStatus) {\n        case BAD_GATEWAY:\n        case SERVICE_UNAVAILABLE:\n        case INTERNAL_SERVER_ERROR:\n        case GATEWAY_TIMEOUT:\n            return simpleRetryPolicy;\n        default:\n            return neverRetryPolicy;\n    }\n</code></pre>\n<p>Hope you find this helpful .</p>\n"}],"owner":{"account_id":1573876,"reputation":545,"user_id":1460910,"accept_rate":64,"display_name":"Pranaya Behera"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":747,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683423495,"creation_date":1683408754,"question_id":76191245,"body_markdown":"In the spring-boot application, I am calling a rest endpoint which results in 200 success status code and the response object is something like this:\r\n\r\n```\r\n{\r\n   &quot;id&quot; : &quot;some-uuid&quot;,\r\n   &quot;status&quot; : &quot;success&quot;\r\n}\r\n```\r\nPossbile values for the ```status``` object are ```creating, queued, running, failed, skipped, killed, success```\r\n\r\nI want to retry the rest-endpoint request when the ```status``` object is either ```queued``` or ```creating``` or ```running```.\r\nFor all other e.g. ```success```, ```failed```, ```skipped``` I want the retry to stop and get the result.\r\n\r\nI am implementing it with spring-retry.\r\n\r\nThe api call:\r\n\r\n```\r\nprivate String makeApiCall(String jobId) {\r\n    RestTemplate restTemplate = new RestTemplate();\r\n    HttpHeaders httpHeaders = new HttpHeaders();\r\n    List&lt;MediaType&gt; acceptType = new ArrayList&lt;&gt;();\r\n    acceptType.add(MediaType.APPLICATION_JSON);\r\n    httpHeaders.setAccept(acceptType);\r\n    httpHeaders.setContentType(MediaType.APPLICATION_JSON);\r\n    ResponseEntity&lt;String&gt; response = restTemplate.exchange(apiEndpoint, HttpMethod.GET, requestEntity, String.class, params);\r\n    ObjectMapper objectMapper = new ObjectMapper();\r\n    JobStatus jobStatus = null;\r\n    try {\r\n      jobStatus = objectMapper.readValue(response.getBody(), JobStatus.class);\r\n    } catch (JsonProcessingException e) {\r\n      throw new RuntimeException(e);\r\n    }\r\n    return jobStatus.getStatus();\r\n}\r\n```\r\nThe RetryTemp\r\n```\r\n public ResponseEntity&lt;String&gt; jobStatusCheck(String jobId) throws JsonProcessingException {\r\n    RetryTemplate retry = new RetryTemplate();\r\n    FixedBackOffPolicy backOffPolicy = new FixedBackOffPolicy();\r\n    backOffPolicy.setBackOffPeriod(10000);\r\n    retry.setRetryPolicy(new JobStatusRetryPolicy());\r\n    retry.setBackOffPolicy(backOffPolicy);\r\n    try {\r\n      String result = (String) retry.execute(context -&gt; {\r\n        // No Idea on how to handle such conditions.\r\n        String s = makeApiCall(jobId);\r\n        if (s.equalsIgnoreCase(&quot;success&quot;)) {\r\n          return s;\r\n        }\r\n        return null;\r\n      });\r\n      return ResponseEntity.ok().body(result);\r\n    } catch (Exception e) {\r\n      throw new RuntimeException(&quot;Error occurred during retry&quot;, e);\r\n    }\r\n}\r\n```\r\nThe retry policy :\r\n\r\n```\r\npublic class JobStatusRetryPolicy extends ExceptionClassifierRetryPolicy {\r\n  public JobStatusRetryPolicy() {\r\n    final SimpleRetryPolicy simpleRetryPolicy = new SimpleRetryPolicy();\r\n    simpleRetryPolicy.setMaxAttempts(3);\r\n\r\n    this.setExceptionClassifier( new Classifier&lt;Throwable, RetryPolicy&gt;()\r\n    {\r\n      @Override\r\n      public RetryPolicy classify( Throwable classifiable )\r\n      {\r\n        // Retry only when FailureJobStatusException was thrown\r\n        if ( classifiable instanceof FailureJobStatusException)\r\n        {\r\n          return simpleRetryPolicy;\r\n        }\r\n\r\n        // Do not retry for other exceptions\r\n        return new NeverRetryPolicy();\r\n      }\r\n    } );\r\n  }\r\n}\r\n```\r\nThe exception:\r\n```\r\npublic class FailureJobStatusException extends Throwable {\r\n}\r\n```","title":"How to retry rest-endpoint with spring-retry based on response object rather than the status code?","body":"<p>In the spring-boot application, I am calling a rest endpoint which results in 200 success status code and the response object is something like this:</p>\n<pre><code>{\n   &quot;id&quot; : &quot;some-uuid&quot;,\n   &quot;status&quot; : &quot;success&quot;\n}\n</code></pre>\n<p>Possbile values for the <code>status</code> object are <code>creating, queued, running, failed, skipped, killed, success</code></p>\n<p>I want to retry the rest-endpoint request when the <code>status</code> object is either <code>queued</code> or <code>creating</code> or <code>running</code>.\nFor all other e.g. <code>success</code>, <code>failed</code>, <code>skipped</code> I want the retry to stop and get the result.</p>\n<p>I am implementing it with spring-retry.</p>\n<p>The api call:</p>\n<pre><code>private String makeApiCall(String jobId) {\n    RestTemplate restTemplate = new RestTemplate();\n    HttpHeaders httpHeaders = new HttpHeaders();\n    List&lt;MediaType&gt; acceptType = new ArrayList&lt;&gt;();\n    acceptType.add(MediaType.APPLICATION_JSON);\n    httpHeaders.setAccept(acceptType);\n    httpHeaders.setContentType(MediaType.APPLICATION_JSON);\n    ResponseEntity&lt;String&gt; response = restTemplate.exchange(apiEndpoint, HttpMethod.GET, requestEntity, String.class, params);\n    ObjectMapper objectMapper = new ObjectMapper();\n    JobStatus jobStatus = null;\n    try {\n      jobStatus = objectMapper.readValue(response.getBody(), JobStatus.class);\n    } catch (JsonProcessingException e) {\n      throw new RuntimeException(e);\n    }\n    return jobStatus.getStatus();\n}\n</code></pre>\n<p>The RetryTemp</p>\n<pre><code> public ResponseEntity&lt;String&gt; jobStatusCheck(String jobId) throws JsonProcessingException {\n    RetryTemplate retry = new RetryTemplate();\n    FixedBackOffPolicy backOffPolicy = new FixedBackOffPolicy();\n    backOffPolicy.setBackOffPeriod(10000);\n    retry.setRetryPolicy(new JobStatusRetryPolicy());\n    retry.setBackOffPolicy(backOffPolicy);\n    try {\n      String result = (String) retry.execute(context -&gt; {\n        // No Idea on how to handle such conditions.\n        String s = makeApiCall(jobId);\n        if (s.equalsIgnoreCase(&quot;success&quot;)) {\n          return s;\n        }\n        return null;\n      });\n      return ResponseEntity.ok().body(result);\n    } catch (Exception e) {\n      throw new RuntimeException(&quot;Error occurred during retry&quot;, e);\n    }\n}\n</code></pre>\n<p>The retry policy :</p>\n<pre><code>public class JobStatusRetryPolicy extends ExceptionClassifierRetryPolicy {\n  public JobStatusRetryPolicy() {\n    final SimpleRetryPolicy simpleRetryPolicy = new SimpleRetryPolicy();\n    simpleRetryPolicy.setMaxAttempts(3);\n\n    this.setExceptionClassifier( new Classifier&lt;Throwable, RetryPolicy&gt;()\n    {\n      @Override\n      public RetryPolicy classify( Throwable classifiable )\n      {\n        // Retry only when FailureJobStatusException was thrown\n        if ( classifiable instanceof FailureJobStatusException)\n        {\n          return simpleRetryPolicy;\n        }\n\n        // Do not retry for other exceptions\n        return new NeverRetryPolicy();\n      }\n    } );\n  }\n}\n</code></pre>\n<p>The exception:</p>\n<pre><code>public class FailureJobStatusException extends Throwable {\n}\n</code></pre>\n"},{"tags":["java","spring-boot","spring-mvc","spring-data-jpa"],"comments":[{"owner":{"account_id":21866301,"reputation":3729,"user_id":16217248,"display_name":"user16217248"},"score":0,"creation_date":1683422690,"post_id":76191845,"comment_id":134364261,"body_markdown":"Welcome to Stack Overflow! Please paste the code itself in the question as text instead of using an image. Cheers!","body":"Welcome to Stack Overflow! Please paste the code itself in the question as text instead of using an image. Cheers!"},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1683424039,"post_id":76191845,"comment_id":134364339,"body_markdown":"Please read how to ask in Stackoverflow: https://stackoverflow.com/help/how-to-ask. Your question lacks a minimal reproducible example and you should explain better the problem, what you are trying to do and how your code work, including any libraries used.","body":"Please read how to ask in Stackoverflow: <a href=\"https://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a>. Your question lacks a minimal reproducible example and you should explain better the problem, what you are trying to do and how your code work, including any libraries used."}],"owner":{"account_id":28420774,"reputation":11,"user_id":21742872,"display_name":"yuchen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1683423374,"creation_date":1683422548,"question_id":76191845,"body_markdown":"        ValidationUtils.validate(input,\r\n                ValidatorField.of(&quot;data&quot;, Rule.required()))\r\n        ;\r\n        ValidationUtils.validateArray(input.get(&quot;data&quot;),\r\n                ValidatorField.of(&quot;projectId&quot;, Rule.required(), Rule.number(Rule.NumberType.Long)),\r\n                ValidatorField.of(&quot;parentId&quot;, Rule.number(Rule.NumberType.Long)),\r\n                ValidatorField.of(&quot;milestoneId&quot;),\r\n                ValidatorField.of(&quot;title&quot;, Rule.required()),\r\n                ValidatorField.of(&quot;content&quot;),\r\n                ValidatorField.of(&quot;timeStart&quot;, Rule.required(), Rule.number(Rule.NumberType.Long)),\r\n                ValidatorField.of(&quot;timeEnd&quot;, Rule.required(), Rule.number(Rule.NumberType.Long)),\r\n                ValidatorField.of(&quot;duration&quot;, Rule.required()),\r\n                ValidatorField.of(&quot;progress&quot;, Rule.number(Rule.NumberType.Long)),\r\n                ValidatorField.of(&quot;organizationIds&quot;),\r\n                ValidatorField.of(&quot;projectRelation&quot;)\r\n        );\r\n        var allData = new HashMap&lt;&gt;();\r\n        input.get(&quot;data&quot;).forEach(param -&gt;{\r\n            allData.put(param.get(&quot;key&quot;).asText(),param);\r\n        });\r\n        allData.forEach((key, value) -&gt; {\r\n            System.out.println(key);\r\n            System.out.println(value);\r\n        });\r\n\r\nI tried using the HashMap in the image above to form a key-value pair. The result was a key for a value, but my database field only had a parentId","title":"When importing an xml file, how to use parentId to map the hierarchy of key values in the xml file","body":"<pre><code>    ValidationUtils.validate(input,\n            ValidatorField.of(&quot;data&quot;, Rule.required()))\n    ;\n    ValidationUtils.validateArray(input.get(&quot;data&quot;),\n            ValidatorField.of(&quot;projectId&quot;, Rule.required(), Rule.number(Rule.NumberType.Long)),\n            ValidatorField.of(&quot;parentId&quot;, Rule.number(Rule.NumberType.Long)),\n            ValidatorField.of(&quot;milestoneId&quot;),\n            ValidatorField.of(&quot;title&quot;, Rule.required()),\n            ValidatorField.of(&quot;content&quot;),\n            ValidatorField.of(&quot;timeStart&quot;, Rule.required(), Rule.number(Rule.NumberType.Long)),\n            ValidatorField.of(&quot;timeEnd&quot;, Rule.required(), Rule.number(Rule.NumberType.Long)),\n            ValidatorField.of(&quot;duration&quot;, Rule.required()),\n            ValidatorField.of(&quot;progress&quot;, Rule.number(Rule.NumberType.Long)),\n            ValidatorField.of(&quot;organizationIds&quot;),\n            ValidatorField.of(&quot;projectRelation&quot;)\n    );\n    var allData = new HashMap&lt;&gt;();\n    input.get(&quot;data&quot;).forEach(param -&gt;{\n        allData.put(param.get(&quot;key&quot;).asText(),param);\n    });\n    allData.forEach((key, value) -&gt; {\n        System.out.println(key);\n        System.out.println(value);\n    });\n</code></pre>\n<p>I tried using the HashMap in the image above to form a key-value pair. The result was a key for a value, but my database field only had a parentId</p>\n"},{"tags":["java","assertj"],"owner":{"account_id":21429973,"reputation":21,"user_id":15786601,"display_name":"Daniel McEnnis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683423343,"creation_date":1683423343,"question_id":76191872,"body_markdown":"AssertJ has options for finding JPanel, JFrame, and suite of other standard Swing components, but I am wanting to test a custom Prefuse Display window derived directly from the JComponent class. What method on the main FrameFixture object should I use and what parameters should I use? \r\n\r\nMy best guess was:\r\n\r\n\r\n```\r\nwindow.panel(new GenericTypeMatcher&lt;JComponent&gt;(RadialDisplayWork.class) {\r\n            @Override\r\n            protected boolean isMatching(JComponent panel) {\r\n                return &quot;RadialDisplayWork&quot;.equals(panel.getClass().getSimpleName());\r\n            }\r\n        });\r\n````\r\n\r\nit isn&#39;t found and throws an exception as it should as WorkWindow is not a panel. ","title":"Looking for a custom swing JComponent object inside a standard Swing app using AssertJ FrameFixture","body":"<p>AssertJ has options for finding JPanel, JFrame, and suite of other standard Swing components, but I am wanting to test a custom Prefuse Display window derived directly from the JComponent class. What method on the main FrameFixture object should I use and what parameters should I use?</p>\n<p>My best guess was:</p>\n<pre><code>window.panel(new GenericTypeMatcher&lt;JComponent&gt;(RadialDisplayWork.class) {\n            @Override\n            protected boolean isMatching(JComponent panel) {\n                return &quot;RadialDisplayWork&quot;.equals(panel.getClass().getSimpleName());\n            }\n        });\n</code></pre>\n<p>it isn't found and throws an exception as it should as WorkWindow is not a panel.</p>\n"},{"tags":["java","apache-kafka","kafka-consumer-api"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1693143688,"post_id":76191692,"comment_id":135718372,"body_markdown":"You should use @KafkaListener annotation for this, not manually define a consumer instance","body":"You should use @KafkaListener annotation for this, not manually define a consumer instance"}],"answers":[{"tags":[],"owner":{"account_id":28499565,"reputation":41,"user_id":21810958,"display_name":"qalokoz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683422671,"creation_date":1683422671,"answer_id":76191850,"question_id":76191692,"body_markdown":"I think you are trying to create new instance of KC in your function but that bean is already registered in Spring configuration class KafkaConsumerClientConfig. Solution: try to re use the existing KC instance as a bean in config class instead of new one. Inject it in a class where you want to use it. Here is a hint **KafkaConsumer&lt;String, String&gt; consumer = kafkaConsumer** instead of initiating a new one. \r\n\r\n","title":"Kafka Consumer InstanceAlreadyExistsException","body":"<p>I think you are trying to create new instance of KC in your function but that bean is already registered in Spring configuration class KafkaConsumerClientConfig. Solution: try to re use the existing KC instance as a bean in config class instead of new one. Inject it in a class where you want to use it. Here is a hint <strong>KafkaConsumer&lt;String, String&gt; consumer = kafkaConsumer</strong> instead of initiating a new one.</p>\n"}],"owner":{"account_id":541301,"reputation":849,"user_id":909792,"accept_rate":69,"display_name":"Kiran"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":164,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683422671,"creation_date":1683417808,"question_id":76191692,"body_markdown":"I am trying to create a kafka consumer which subscribe to a topic and poll regular interval.  Below @Bean creates kafkaconsumer which is used in @postconstruct by executor service.    In other use case I need to read the latest offset or replay from specific offset, while i try to create a new kafka cosumer it is throwing ```javax.management.InstanceAlreadyExistsException: kafka.consumer``` \r\n\r\nIs there any to use the existing kafkaConsumer bean to get the latest offset or replay some of the offset.\r\n\r\n```\r\n@Configuration\r\n@Slf4j\r\n@EnableConfigurationProperties(KafkaProperties.class)\r\npublic class KafkaConsumerClientConfig {\r\n    @Bean\r\n    public KafkaConsumer&lt;String, String&gt; kafkaClientConfig() {\r\n    KafkaConsumer&lt;String, String&gt; kafkaConsumer = new KafkaConsumer&lt;&gt;(MetadataServiceUtil.getConsumerProperties(kafkaProperties));\r\n    log.info(&quot;Kafka Consumer created successfully with SecurityProtocol={}&quot;, kafkaProperties.getSecurityProtocol());\r\n    kafkaConsumer.subscribe(List.of(kafkaProperties.getTopicName()));\r\n    return kafkaConsumer;\r\n    }\r\n}\r\n```\r\nKafka client code to create kafka consumer\r\n```\r\n@Component\r\n@Slf4j\r\n@Data\r\npublic class PipelineKafkaClient {\r\n\r\n    @Autowired\r\n    private KafkaConsumer kafkaConsumer;\r\n  \r\n    @Autowired\r\n    private KafkaProperties kafkaProperties;\r\n\r\n    @PostConstruct\r\n    void startup() {\r\n        log.info(&quot;*******Starting event listener********&quot;);\r\n        executorService = Executors.newSingleThreadExecutor();\r\n        executorService.submit(new EventConsumer(kafkaConsumer));\r\n        // In the EventConsumer i have the code as below\r\n        /*  while(true) {\r\n         *   ConsumerRecords&lt;String, String&gt; records = kafkaConsumer.poll(Duration.ofMillis(500));\r\n         *   processBatch(records);\r\n         *   kafkaConsumer.commitSync();\r\n         * }\r\n         */\r\n\r\n    }\r\n\r\n    public void replayFromSpecificOffset(long offsetToReadFrom, long offsetReadTo) {\r\n        log.info(&quot;Replaying messages&quot;);\r\n        Properties properties = MetadataServiceUtil.getConsumerProperties(kafkaProperties);\r\n        KafkaConsumer&lt;String, String&gt; consumer = new KafkaConsumer&lt;&gt;(properties);\r\n        // CODE to read from specific offset    \r\n    }\r\n\r\n}@Component\r\n@Slf4j\r\n@Data\r\npublic class PipelineKafkaClient {\r\n\r\n    @Autowired\r\n    private KafkaConsumer kafkaConsumer;\r\n  \r\n    @Autowired\r\n    private KafkaProperties kafkaProperties;\r\n\r\n    @PostConstruct\r\n    void startup() {\r\n        log.info(&quot;*******Starting event listener********&quot;);\r\n        executorService = Executors.newSingleThreadExecutor();\r\n        executorService.submit(new EventConsumer(kafkaConsumer));\r\n        // In the EventConsumer i have the code as below\r\n        /*  while(true) {\r\n         *   ConsumerRecords&lt;String, String&gt; records = kafkaConsumer.poll(Duration.ofMillis(500));\r\n         *   processBatch(records);\r\n         *   kafkaConsumer.commitSync();\r\n         * }\r\n         */\r\n\r\n    }\r\n\r\n    public void replayFromSpecificOffset(long offsetToReadFrom, long offsetReadTo) {\r\n        log.info(&quot;Replaying messages&quot;);\r\n        Properties properties = MetadataServiceUtil.getConsumerProperties(kafkaProperties);\r\n        KafkaConsumer&lt;String, String&gt; consumer = new KafkaConsumer&lt;&gt;(properties);\r\n        // CODE to read from specific offset    \r\n    }\r\n\r\n}\r\n```","title":"Kafka Consumer InstanceAlreadyExistsException","body":"<p>I am trying to create a kafka consumer which subscribe to a topic and poll regular interval.  Below @Bean creates kafkaconsumer which is used in @postconstruct by executor service.    In other use case I need to read the latest offset or replay from specific offset, while i try to create a new kafka cosumer it is throwing <code>javax.management.InstanceAlreadyExistsException: kafka.consumer</code></p>\n<p>Is there any to use the existing kafkaConsumer bean to get the latest offset or replay some of the offset.</p>\n<pre><code>@Configuration\n@Slf4j\n@EnableConfigurationProperties(KafkaProperties.class)\npublic class KafkaConsumerClientConfig {\n    @Bean\n    public KafkaConsumer&lt;String, String&gt; kafkaClientConfig() {\n    KafkaConsumer&lt;String, String&gt; kafkaConsumer = new KafkaConsumer&lt;&gt;(MetadataServiceUtil.getConsumerProperties(kafkaProperties));\n    log.info(&quot;Kafka Consumer created successfully with SecurityProtocol={}&quot;, kafkaProperties.getSecurityProtocol());\n    kafkaConsumer.subscribe(List.of(kafkaProperties.getTopicName()));\n    return kafkaConsumer;\n    }\n}\n</code></pre>\n<p>Kafka client code to create kafka consumer</p>\n<pre><code>@Component\n@Slf4j\n@Data\npublic class PipelineKafkaClient {\n\n    @Autowired\n    private KafkaConsumer kafkaConsumer;\n  \n    @Autowired\n    private KafkaProperties kafkaProperties;\n\n    @PostConstruct\n    void startup() {\n        log.info(&quot;*******Starting event listener********&quot;);\n        executorService = Executors.newSingleThreadExecutor();\n        executorService.submit(new EventConsumer(kafkaConsumer));\n        // In the EventConsumer i have the code as below\n        /*  while(true) {\n         *   ConsumerRecords&lt;String, String&gt; records = kafkaConsumer.poll(Duration.ofMillis(500));\n         *   processBatch(records);\n         *   kafkaConsumer.commitSync();\n         * }\n         */\n\n    }\n\n    public void replayFromSpecificOffset(long offsetToReadFrom, long offsetReadTo) {\n        log.info(&quot;Replaying messages&quot;);\n        Properties properties = MetadataServiceUtil.getConsumerProperties(kafkaProperties);\n        KafkaConsumer&lt;String, String&gt; consumer = new KafkaConsumer&lt;&gt;(properties);\n        // CODE to read from specific offset    \n    }\n\n}@Component\n@Slf4j\n@Data\npublic class PipelineKafkaClient {\n\n    @Autowired\n    private KafkaConsumer kafkaConsumer;\n  \n    @Autowired\n    private KafkaProperties kafkaProperties;\n\n    @PostConstruct\n    void startup() {\n        log.info(&quot;*******Starting event listener********&quot;);\n        executorService = Executors.newSingleThreadExecutor();\n        executorService.submit(new EventConsumer(kafkaConsumer));\n        // In the EventConsumer i have the code as below\n        /*  while(true) {\n         *   ConsumerRecords&lt;String, String&gt; records = kafkaConsumer.poll(Duration.ofMillis(500));\n         *   processBatch(records);\n         *   kafkaConsumer.commitSync();\n         * }\n         */\n\n    }\n\n    public void replayFromSpecificOffset(long offsetToReadFrom, long offsetReadTo) {\n        log.info(&quot;Replaying messages&quot;);\n        Properties properties = MetadataServiceUtil.getConsumerProperties(kafkaProperties);\n        KafkaConsumer&lt;String, String&gt; consumer = new KafkaConsumer&lt;&gt;(properties);\n        // CODE to read from specific offset    \n    }\n\n}\n</code></pre>\n"},{"tags":["java","jmx","activemq-artemis"],"comments":[{"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1689179192,"post_id":76188315,"comment_id":135177882,"body_markdown":"Any feedback here?","body":"Any feedback here?"}],"answers":[{"tags":[],"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683394029,"creation_date":1683394029,"answer_id":76190221,"question_id":76188315,"body_markdown":"You don&#39;t actually connect &quot;by role.&quot; You connect with a username and a password. \r\n\r\nRoles are how users are organized *on the broker*. You can have one or more users in a given role and then permissions are granted to that role as a whole. This makes it easier to organize users and configure security.\r\n\r\nKeep in mind that the security configuration for messaging users (e.g. those using JMS) is separate from management users (e.g. those using JMX). The former is done via `security-settings` in `broker.xml` and the latter is done via `authorisation` in `management.xml`.\r\n\r\nIn your case, you can supply credentials for the JMX connection like so:\r\n```java\r\n         HashMap env = new HashMap();\r\n         String[] creds = {&quot;myUser&quot;, &quot;myPassword&quot;};\r\n         env.put(JMXConnector.CREDENTIALS, creds);\r\n\r\n         JMXConnector connector = JMXConnectorFactory.connect(new JMXServiceURL(BuildGet.JMX_URL), env);\r\n```\r\nIt&#39;s important to note that your `connectBroker` method is **leaking** a JMS connection every time it is invoked. This is because you create a JMS connection, but you don&#39;t close it or return it from the method. I recommend removing the JMS connection from that method entirely as it servers no real purpose.","title":"How to connect by role in ActiveMQ Artemis via JMX?","body":"<p>You don't actually connect &quot;by role.&quot; You connect with a username and a password.</p>\n<p>Roles are how users are organized <em>on the broker</em>. You can have one or more users in a given role and then permissions are granted to that role as a whole. This makes it easier to organize users and configure security.</p>\n<p>Keep in mind that the security configuration for messaging users (e.g. those using JMS) is separate from management users (e.g. those using JMX). The former is done via <code>security-settings</code> in <code>broker.xml</code> and the latter is done via <code>authorisation</code> in <code>management.xml</code>.</p>\n<p>In your case, you can supply credentials for the JMX connection like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>         HashMap env = new HashMap();\n         String[] creds = {&quot;myUser&quot;, &quot;myPassword&quot;};\n         env.put(JMXConnector.CREDENTIALS, creds);\n\n         JMXConnector connector = JMXConnectorFactory.connect(new JMXServiceURL(BuildGet.JMX_URL), env);\n</code></pre>\n<p>It's important to note that your <code>connectBroker</code> method is <strong>leaking</strong> a JMS connection every time it is invoked. This is because you create a JMS connection, but you don't close it or return it from the method. I recommend removing the JMS connection from that method entirely as it servers no real purpose.</p>\n"}],"owner":{"account_id":25716131,"reputation":3,"user_id":19473884,"display_name":"Дмитрий Слизовский"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683422456,"creation_date":1683367764,"question_id":76188315,"body_markdown":"I have a Java application using JavaFX. I don&#39;t understand how to connect by role. So that each role has its own rights to proofread, etc. I know how to add a role to ActiveMQ, but my application seems to connect to the main role without choosing.\r\n\r\nHere is what the connection frame looks like:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n```java\r\npublic static MBeanServerConnection connectBroker(String brokerUrl) {\r\n\r\n    QueueConnection connection = null;\r\n    try {\r\n        QueueConnectionFactory cf = new ActiveMQQueueConnectionFactory(brokerUrl);\r\n        connection = cf.createQueueConnection();\r\n        connection.start();\r\n        JMXConnector connector = JMXConnectorFactory.connect(new JMXServiceURL(BuildGet.JMX_URL));\r\n\r\n        return connector.getMBeanServerConnection();\r\n    } catch (JMSException | IOException e) {\r\n        throw new RuntimeException(e);\r\n    }\r\n}\r\n```\r\nHow to connect by roles?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9lOSu.png","title":"How to connect by role in ActiveMQ Artemis via JMX?","body":"<p>I have a Java application using JavaFX. I don't understand how to connect by role. So that each role has its own rights to proofread, etc. I know how to add a role to ActiveMQ, but my application seems to connect to the main role without choosing.</p>\n<p>Here is what the connection frame looks like:\n<a href=\"https://i.stack.imgur.com/9lOSu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9lOSu.png\" alt=\"enter image description here\" /></a></p>\n<pre class=\"lang-java prettyprint-override\"><code>public static MBeanServerConnection connectBroker(String brokerUrl) {\n\n    QueueConnection connection = null;\n    try {\n        QueueConnectionFactory cf = new ActiveMQQueueConnectionFactory(brokerUrl);\n        connection = cf.createQueueConnection();\n        connection.start();\n        JMXConnector connector = JMXConnectorFactory.connect(new JMXServiceURL(BuildGet.JMX_URL));\n\n        return connector.getMBeanServerConnection();\n    } catch (JMSException | IOException e) {\n        throw new RuntimeException(e);\n    }\n}\n</code></pre>\n<p>How to connect by roles?</p>\n"},{"tags":["java","html","web-scraping","jsoup"],"answers":[{"tags":[],"owner":{"account_id":1327194,"reputation":1809,"user_id":1271785,"accept_rate":67,"display_name":"pfurbacher"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683420895,"creation_date":1683420509,"answer_id":76191797,"question_id":76188233,"body_markdown":"Here&#39;s a solution which presents two ways to filter `li` nodes such that you capture only those which have a `span` as one of its children nodes. (Change the line `.filter(TopicAndDescriptionParser::isValidNode1)` to `.filter(TopicAndDescriptionParser::isValidNode2)` to demonstrate that they yield the same result.) \r\n\r\nYou didn&#39;t clarify how you wanted to collect the related data from each `li`, so I made up the record `TopicAndDescription` to encapsulate it. \r\n\r\n```\r\nimport java.util.List;\r\nimport java.util.Optional;\r\nimport java.util.stream.Collectors;\r\n\r\nimport org.jsoup.Jsoup;\r\nimport org.jsoup.nodes.Element;\r\nimport org.jsoup.nodes.Node;\r\nimport org.jsoup.select.Elements;\r\n\r\npublic class TopicAndDescriptionParser {\r\n\r\n    record TopicAndDescription(String topic, String description) {\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        String snippet = &quot;&quot;&quot;\r\n            &lt;ul&gt;\r\n                 &lt;li&gt;&lt;/li&gt;\r\n                 &lt;li&gt;&lt;/li&gt;\r\n                 &lt;li&gt;&lt;/li&gt;\r\n                 &lt;li&gt;&lt;/li&gt;\r\n                 &lt;li&gt;\r\n                      &lt;a&gt;&lt;span&gt;VALUE0&lt;/span&gt;&lt;/a&gt;\r\n                       -\r\n                 &lt;/li&gt;\r\n                 &lt;li&gt;\r\n                      &lt;a&gt;&lt;span&gt;VALUE1&lt;/span&gt;&lt;/a&gt;\r\n                       -\r\n                      &lt;span&gt;&lt;/span&gt;\r\n                  &lt;/li&gt;\r\n                  &lt;li&gt;\r\n                      &lt;a&gt;&lt;span&gt;VALUE2&lt;/span&gt;&lt;/a&gt;\r\n                       -\r\n                      &lt;span&gt;VALUE3&lt;/span&gt;\r\n                  &lt;/li&gt;\r\n                  &lt;li&gt;\r\n                      &lt;a&gt;&lt;span&gt;VALUE4&lt;/span&gt;&lt;/a&gt;\r\n                       /\r\n                      &lt;a&gt;&lt;span&gt;VALUE5&lt;/span&gt;&lt;/a&gt;\r\n                       -\r\n                      &lt;span&gt;VALUE6&lt;/span&gt;\r\n                    &lt;/li&gt;\r\n             &lt;/ul&gt;&quot;&quot;&quot;;\r\n\r\n        final Elements elements = Jsoup.parse(snippet).select(&quot;ul&gt;li&quot;);\r\n        final List&lt;TopicAndDescription&gt; list = elements.stream()\r\n            .filter(TopicAndDescriptionParser::isValidNode2)\r\n            .map(TopicAndDescriptionParser::getTopicAndDescription)\r\n            .collect(Collectors.toList());\r\n        System.out.println(list);\r\n    }\r\n\r\n    private static boolean isValidNode1(Element elem) {\r\n        /*\r\n         * Node names from your snippet will be: \r\n         *      #text, a, #text, span, #text\r\n         * or\r\n         *      #text, a, #text, a, #text, span, #text\r\n         *\r\n         * So, check that the *next to last* node name is &quot;span&quot;\r\n         * \r\n         * Potential drawback: it assumes the index of the &quot;span&quot; node. Any\r\n         * unexpected variation in the HTML may cause it to yield wrong results.\r\n         */\r\n        List&lt;Node&gt; childNodes = elem.childNodes();\r\n        int size = childNodes.size();\r\n        return size &gt; 2 \r\n            &amp;&amp; &quot;span&quot;.equals(((Element) childNodes.get(size - 2)).tagName())\r\n            &amp;&amp; !((Element) childNodes.get(size - 2)).text().isEmpty();\r\n    }\r\n\r\n    private static boolean isValidNode2(Element element) {\r\n        /*\r\n         * Is there a span node in the child nodes?\r\n         * \r\n         * Pro: no indexing; con: using a stream might be consider heavy weight.\r\n         */\r\n        Optional&lt;Node&gt; spanNode = element.childNodes().stream()\r\n            .filter(node -&gt; &quot;span&quot;.equals(node.nodeName()))\r\n            .findFirst();\r\n        \r\n        return spanNode.isPresent() &amp;&amp; !((Element)spanNode.get()).text().isEmpty();\r\n    }\r\n\r\n    private static TopicAndDescription getTopicAndDescription(Element element) {\r\n        String topic = element.select(&quot;a:first-child&quot;).text();\r\n        Elements spans = element.select(&quot;span&quot;);\r\n        String description = spans.get(spans.size() - 1).text();\r\n        return new TopicAndDescription(topic, description);\r\n    }\r\n\r\n}\r\n```\r\n\r\nOutput is \r\n```\r\n[TopicAndDescription[topic=VALUE2, description=VALUE3], TopicAndDescription[topic=VALUE4, description=VALUE6]]\r\n```\r\n\r\n","title":"How to handle a missing value while parsing an html via jsoup?","body":"<p>Here's a solution which presents two ways to filter <code>li</code> nodes such that you capture only those which have a <code>span</code> as one of its children nodes. (Change the line <code>.filter(TopicAndDescriptionParser::isValidNode1)</code> to <code>.filter(TopicAndDescriptionParser::isValidNode2)</code> to demonstrate that they yield the same result.)</p>\n<p>You didn't clarify how you wanted to collect the related data from each <code>li</code>, so I made up the record <code>TopicAndDescription</code> to encapsulate it.</p>\n<pre><code>import java.util.List;\nimport java.util.Optional;\nimport java.util.stream.Collectors;\n\nimport org.jsoup.Jsoup;\nimport org.jsoup.nodes.Element;\nimport org.jsoup.nodes.Node;\nimport org.jsoup.select.Elements;\n\npublic class TopicAndDescriptionParser {\n\n    record TopicAndDescription(String topic, String description) {\n    }\n\n    public static void main(String[] args) {\n        String snippet = &quot;&quot;&quot;\n            &lt;ul&gt;\n                 &lt;li&gt;&lt;/li&gt;\n                 &lt;li&gt;&lt;/li&gt;\n                 &lt;li&gt;&lt;/li&gt;\n                 &lt;li&gt;&lt;/li&gt;\n                 &lt;li&gt;\n                      &lt;a&gt;&lt;span&gt;VALUE0&lt;/span&gt;&lt;/a&gt;\n                       -\n                 &lt;/li&gt;\n                 &lt;li&gt;\n                      &lt;a&gt;&lt;span&gt;VALUE1&lt;/span&gt;&lt;/a&gt;\n                       -\n                      &lt;span&gt;&lt;/span&gt;\n                  &lt;/li&gt;\n                  &lt;li&gt;\n                      &lt;a&gt;&lt;span&gt;VALUE2&lt;/span&gt;&lt;/a&gt;\n                       -\n                      &lt;span&gt;VALUE3&lt;/span&gt;\n                  &lt;/li&gt;\n                  &lt;li&gt;\n                      &lt;a&gt;&lt;span&gt;VALUE4&lt;/span&gt;&lt;/a&gt;\n                       /\n                      &lt;a&gt;&lt;span&gt;VALUE5&lt;/span&gt;&lt;/a&gt;\n                       -\n                      &lt;span&gt;VALUE6&lt;/span&gt;\n                    &lt;/li&gt;\n             &lt;/ul&gt;&quot;&quot;&quot;;\n\n        final Elements elements = Jsoup.parse(snippet).select(&quot;ul&gt;li&quot;);\n        final List&lt;TopicAndDescription&gt; list = elements.stream()\n            .filter(TopicAndDescriptionParser::isValidNode2)\n            .map(TopicAndDescriptionParser::getTopicAndDescription)\n            .collect(Collectors.toList());\n        System.out.println(list);\n    }\n\n    private static boolean isValidNode1(Element elem) {\n        /*\n         * Node names from your snippet will be: \n         *      #text, a, #text, span, #text\n         * or\n         *      #text, a, #text, a, #text, span, #text\n         *\n         * So, check that the *next to last* node name is &quot;span&quot;\n         * \n         * Potential drawback: it assumes the index of the &quot;span&quot; node. Any\n         * unexpected variation in the HTML may cause it to yield wrong results.\n         */\n        List&lt;Node&gt; childNodes = elem.childNodes();\n        int size = childNodes.size();\n        return size &gt; 2 \n            &amp;&amp; &quot;span&quot;.equals(((Element) childNodes.get(size - 2)).tagName())\n            &amp;&amp; !((Element) childNodes.get(size - 2)).text().isEmpty();\n    }\n\n    private static boolean isValidNode2(Element element) {\n        /*\n         * Is there a span node in the child nodes?\n         * \n         * Pro: no indexing; con: using a stream might be consider heavy weight.\n         */\n        Optional&lt;Node&gt; spanNode = element.childNodes().stream()\n            .filter(node -&gt; &quot;span&quot;.equals(node.nodeName()))\n            .findFirst();\n        \n        return spanNode.isPresent() &amp;&amp; !((Element)spanNode.get()).text().isEmpty();\n    }\n\n    private static TopicAndDescription getTopicAndDescription(Element element) {\n        String topic = element.select(&quot;a:first-child&quot;).text();\n        Elements spans = element.select(&quot;span&quot;);\n        String description = spans.get(spans.size() - 1).text();\n        return new TopicAndDescription(topic, description);\n    }\n\n}\n</code></pre>\n<p>Output is</p>\n<pre><code>[TopicAndDescription[topic=VALUE2, description=VALUE3], TopicAndDescription[topic=VALUE4, description=VALUE6]]\n</code></pre>\n"}],"owner":{"account_id":28525895,"reputation":1,"user_id":21833976,"display_name":"uterkaxx"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683420895,"creation_date":1683366715,"question_id":76188233,"body_markdown":"I have a programm that should scrape urls and get all the values of elements. Elements look like this:\r\n\r\n`VALUE1 - VALUE3`\r\n\r\nor it can look like this:\r\n\r\n`VALUE1/VALUE2 - VALUE3`\r\n\r\nThe HTML file looks this way:\r\n\r\n     `&lt;ul&gt;\r\n     &lt;li&gt;&lt;/li&gt;\r\n     &lt;li&gt;&lt;/li&gt;\r\n     &lt;li&gt;&lt;/li&gt;\r\n     &lt;li&gt;&lt;/li&gt;\r\n     &lt;li&gt;&lt;/li&gt;\r\n     &lt;li&gt;\r\n          &lt;a&gt;&lt;span&gt;VALUE1&lt;/span&gt;&lt;/a&gt;\r\n           -\r\n          &lt;span&gt;VALUE3&lt;/span&gt;\r\n                &lt;/li&gt;\r\n\r\n\r\n     &lt;/ul&gt;`\r\n\r\nOr it can look this way: \r\n\r\n     `&lt;ul&gt;\r\n          &lt;li&gt;&lt;/li&gt;\r\n          &lt;li&gt;&lt;/li&gt;\r\n          &lt;li&gt;&lt;/li&gt;\r\n          &lt;li&gt;&lt;/li&gt;\r\n          &lt;li&gt;&lt;/li&gt;\r\n          &lt;li&gt;\r\n          &lt;a&gt;&lt;span&gt;VALUE1&lt;/span&gt;&lt;/a&gt;\r\n           /\r\n          &lt;a&gt;&lt;span&gt;VALUE2&lt;/span&gt;&lt;/a&gt;\r\n           -\r\n          &lt;span&gt;VALUE3&lt;/span&gt;\r\n                &lt;/li&gt;\r\n\r\n\r\n     &lt;/ul&gt;`\r\n\r\nI need to get the first and third value, so I firstly scrape all of the VALUE1 and put it into an ArrayList, then I do the same with VALUE3. But here&#39;s the problem: VALUE3 is not always there! Sometimes the VALUE3 span tag can just not be present on the website. \r\n\r\nSo when I put my VALUE1 and VALUE3 from 2 lists to one, the first can be larger, which may cause an IndexOutOfBoundsException. I thought maybe I could just put something in my second list if VALUE3 is missing? Which way can I do that? I use the following code to scrape:\r\n\r\n                        for (Element row : parse.select(&quot;ul&gt;li&gt;a&gt;span&quot;)){ //to scrape the first one\r\n                            String ing = row.getAllElements().text();\r\n                            ingDebug1.add(ing);\r\n                            debug = i;\r\n                        }\r\n\r\n                        for (Element row :parse.select(&quot;ul&gt;li&gt;span&quot;)){ //to scrape the third one\r\n                            String ing = row.getAllElements().text();\r\n                            debug = i;\r\n                        }\r\n\r\n                        for (int k = 0; k&lt;ingDebug1.size(); k++){ // to put them together\r\n                            ingShowUp.add(ingDebug1.get(k));\r\n                            ingShowUp.add(ingDebug2.get(k));\r\n                        }","title":"How to handle a missing value while parsing an html via jsoup?","body":"<p>I have a programm that should scrape urls and get all the values of elements. Elements look like this:</p>\n<p><code>VALUE1 - VALUE3</code></p>\n<p>or it can look like this:</p>\n<p><code>VALUE1/VALUE2 - VALUE3</code></p>\n<p>The HTML file looks this way:</p>\n<pre><code> `&lt;ul&gt;\n &lt;li&gt;&lt;/li&gt;\n &lt;li&gt;&lt;/li&gt;\n &lt;li&gt;&lt;/li&gt;\n &lt;li&gt;&lt;/li&gt;\n &lt;li&gt;&lt;/li&gt;\n &lt;li&gt;\n      &lt;a&gt;&lt;span&gt;VALUE1&lt;/span&gt;&lt;/a&gt;\n       -\n      &lt;span&gt;VALUE3&lt;/span&gt;\n            &lt;/li&gt;\n\n\n &lt;/ul&gt;`\n</code></pre>\n<p>Or it can look this way:</p>\n<pre><code> `&lt;ul&gt;\n      &lt;li&gt;&lt;/li&gt;\n      &lt;li&gt;&lt;/li&gt;\n      &lt;li&gt;&lt;/li&gt;\n      &lt;li&gt;&lt;/li&gt;\n      &lt;li&gt;&lt;/li&gt;\n      &lt;li&gt;\n      &lt;a&gt;&lt;span&gt;VALUE1&lt;/span&gt;&lt;/a&gt;\n       /\n      &lt;a&gt;&lt;span&gt;VALUE2&lt;/span&gt;&lt;/a&gt;\n       -\n      &lt;span&gt;VALUE3&lt;/span&gt;\n            &lt;/li&gt;\n\n\n &lt;/ul&gt;`\n</code></pre>\n<p>I need to get the first and third value, so I firstly scrape all of the VALUE1 and put it into an ArrayList, then I do the same with VALUE3. But here's the problem: VALUE3 is not always there! Sometimes the VALUE3 span tag can just not be present on the website.</p>\n<p>So when I put my VALUE1 and VALUE3 from 2 lists to one, the first can be larger, which may cause an IndexOutOfBoundsException. I thought maybe I could just put something in my second list if VALUE3 is missing? Which way can I do that? I use the following code to scrape:</p>\n<pre><code>                    for (Element row : parse.select(&quot;ul&gt;li&gt;a&gt;span&quot;)){ //to scrape the first one\n                        String ing = row.getAllElements().text();\n                        ingDebug1.add(ing);\n                        debug = i;\n                    }\n\n                    for (Element row :parse.select(&quot;ul&gt;li&gt;span&quot;)){ //to scrape the third one\n                        String ing = row.getAllElements().text();\n                        debug = i;\n                    }\n\n                    for (int k = 0; k&lt;ingDebug1.size(); k++){ // to put them together\n                        ingShowUp.add(ingDebug1.get(k));\n                        ingShowUp.add(ingDebug2.get(k));\n                    }\n</code></pre>\n"},{"tags":["java","gradle"],"answers":[{"tags":[],"owner":{"account_id":18507938,"reputation":57,"user_id":13483843,"display_name":"Hunter"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646861352,"creation_date":1618452050,"answer_id":67101233,"question_id":66543244,"body_markdown":"I met the same problem and I had to change the Gradle version for this:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/s4xre.png\r\n\r\n\r\nyou can find available versions here: &lt;https://services.gradle.org/distributions/&gt;","title":"Cause: zip END header not found","body":"<p>I met the same problem and I had to change the Gradle version for this:</p>\n<p><a href=\"https://i.stack.imgur.com/s4xre.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/s4xre.png\" alt=\"enter image description here\" /></a></p>\n<p>you can find available versions here: <a href=\"https://services.gradle.org/distributions/\" rel=\"nofollow noreferrer\">https://services.gradle.org/distributions/</a></p>\n"},{"tags":[],"owner":{"account_id":19368054,"reputation":61,"user_id":14161879,"display_name":"Lenny"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681591432,"creation_date":1681591432,"answer_id":76024667,"question_id":66543244,"body_markdown":"That means thats something is wrong with your gradle version. You can simply go to: https://services.gradle.org/distributions/ and choose the actual version. Make sure it is the bin version for example:\r\n\r\n\r\n&gt; https://services.gradle.org/distributions/gradle-8.1-bin.zip\r\n\r\nThen make sure to change the gradle-wrapper.properties\r\n\r\nIn my case this worked out.","title":"Cause: zip END header not found","body":"<p>That means thats something is wrong with your gradle version. You can simply go to: <a href=\"https://services.gradle.org/distributions/\" rel=\"nofollow noreferrer\">https://services.gradle.org/distributions/</a> and choose the actual version. Make sure it is the bin version for example:</p>\n<blockquote>\n<p><a href=\"https://services.gradle.org/distributions/gradle-8.1-bin.zip\" rel=\"nofollow noreferrer\">https://services.gradle.org/distributions/gradle-8.1-bin.zip</a></p>\n</blockquote>\n<p>Then make sure to change the gradle-wrapper.properties</p>\n<p>In my case this worked out.</p>\n"}],"owner":{"account_id":12004122,"reputation":11,"user_id":8782958,"display_name":"G&#246;khan Duran"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18170,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1683420424,"creation_date":1615278340,"question_id":66543244,"body_markdown":"I get an error while reimport gradle project. *Cause: zip END header not found*. How can i fix it?\r\nI tried to delete all files under .gradle folders but it doesn&#39;t work.\r\n\r\n    Exception in thread &quot;main&quot; java.util.zip.ZipException: error in opening zip file\r\n            at java.util.zip.ZipFile.open(Native Method)\r\n            at java.util.zip.ZipFile.&lt;init&gt;(ZipFile.java:225)\r\n            at java.util.zip.ZipFile.&lt;init&gt;(ZipFile.java:155)\r\n            at java.util.zip.ZipFile.&lt;init&gt;(ZipFile.java:169)\r\n            at org.gradle.wrapper.Install.unzip(Install.java:219)\r\n            at org.gradle.wrapper.Install.access$600(Install.java:27)\r\n            at org.gradle.wrapper.Install$1.call(Install.java:75)\r\n            at org.gradle.wrapper.Install$1.call(Install.java:48)\r\n            at org.gradle.wrapper.ExclusiveFileAccessManager.access(ExclusiveFileAccessManager.java:69)\r\n            at org.gradle.wrapper.Install.createDist(Install.java:48)\r\n            at org.gradle.wrapper.WrapperExecutor.execute(WrapperExecutor.java:107)\r\n            at org.gradle.wrapper.GradleWrapperMain.main(GradleWrapperMain.java:63)\r\n\r\n","title":"Cause: zip END header not found","body":"<p>I get an error while reimport gradle project. <em>Cause: zip END header not found</em>. How can i fix it?\nI tried to delete all files under .gradle folders but it doesn't work.</p>\n<pre><code>Exception in thread &quot;main&quot; java.util.zip.ZipException: error in opening zip file\n        at java.util.zip.ZipFile.open(Native Method)\n        at java.util.zip.ZipFile.&lt;init&gt;(ZipFile.java:225)\n        at java.util.zip.ZipFile.&lt;init&gt;(ZipFile.java:155)\n        at java.util.zip.ZipFile.&lt;init&gt;(ZipFile.java:169)\n        at org.gradle.wrapper.Install.unzip(Install.java:219)\n        at org.gradle.wrapper.Install.access$600(Install.java:27)\n        at org.gradle.wrapper.Install$1.call(Install.java:75)\n        at org.gradle.wrapper.Install$1.call(Install.java:48)\n        at org.gradle.wrapper.ExclusiveFileAccessManager.access(ExclusiveFileAccessManager.java:69)\n        at org.gradle.wrapper.Install.createDist(Install.java:48)\n        at org.gradle.wrapper.WrapperExecutor.execute(WrapperExecutor.java:107)\n        at org.gradle.wrapper.GradleWrapperMain.main(GradleWrapperMain.java:63)\n</code></pre>\n"},{"tags":["java","arrays","string"],"comments":[{"owner":{"account_id":3207438,"reputation":19204,"user_id":2708210,"accept_rate":62,"display_name":"Rahul Singh"},"score":0,"creation_date":1496734260,"post_id":44383773,"comment_id":75767773,"body_markdown":"The way you have tried works fine i suppose sorry i didnt see that @ first","body":"The way you have tried works fine i suppose sorry i didnt see that @ first"},{"owner":{"account_id":7206572,"reputation":1345,"user_id":5501996,"accept_rate":88,"display_name":"yoges nsamy"},"score":1,"creation_date":1496734468,"post_id":44383773,"comment_id":75767894,"body_markdown":"May I know why my question is downvoted please?","body":"May I know why my question is downvoted please?"},{"owner":{"account_id":10432364,"reputation":1044,"user_id":7691803,"accept_rate":79,"display_name":"Bharat"},"score":0,"creation_date":1496734745,"post_id":44383773,"comment_id":75768059,"body_markdown":"lol I became your senior with 2 downvotes. I should&#39;t have answered","body":"lol I became your senior with 2 downvotes. I should&#39;t have answered"},{"owner":{"account_id":7206572,"reputation":1345,"user_id":5501996,"accept_rate":88,"display_name":"yoges nsamy"},"score":0,"creation_date":1496734818,"post_id":44383773,"comment_id":75768114,"body_markdown":"I get nervous every time I post something here. The fear of losing points is so real! LOL","body":"I get nervous every time I post something here. The fear of losing points is so real! LOL"}],"answers":[{"tags":[],"owner":{"account_id":10369579,"reputation":313,"user_id":7647640,"display_name":"Andriy Rymar"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1496734658,"creation_date":1496734658,"answer_id":44384032,"question_id":44383773,"body_markdown":"It is all about output formatting. You may use [this examples][1] and become familiar with all possible approaches.\r\n\r\nYour code can be improved in next two ways :\r\n\r\n1) Use `\\t` instead of Empty Space (`\\t` is a tabulation)\r\n\r\n2) Create a constant with output format like this `private static final String output = &quot;%d &quot;` and use it in output line like this : `String.format(output, number)` where `number` is your number that should be printed. \r\n\r\n\r\n  [1]: https://dzone.com/articles/java-string-format-examples","title":"Java: Printing trailing spaces","body":"<p>It is all about output formatting. You may use <a href=\"https://dzone.com/articles/java-string-format-examples\" rel=\"nofollow noreferrer\">this examples</a> and become familiar with all possible approaches.</p>\n\n<p>Your code can be improved in next two ways :</p>\n\n<p>1) Use <code>\\t</code> instead of Empty Space (<code>\\t</code> is a tabulation)</p>\n\n<p>2) Create a constant with output format like this <code>private static final String output = \"%d \"</code> and use it in output line like this : <code>String.format(output, number)</code> where <code>number</code> is your number that should be printed. </p>\n"},{"tags":[],"owner":{"account_id":37812,"reputation":25853,"user_id":108207,"accept_rate":96,"display_name":"Niklas Rosencrantz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1496734976,"creation_date":1496734976,"answer_id":44384119,"question_id":44383773,"body_markdown":"First reverse the array and then print it with a for loop. \r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class Main {\r\n    \r\n        public static void main(String[] args) {\r\n            Scanner in = new Scanner(System.in);\r\n            int n = in.nextInt();\r\n            int arr[] = new int[n];\r\n            for(int arr_i=0; arr_i &lt; n; arr_i++)\r\n            {\r\n                arr[arr_i] = in.nextInt();\r\n            }\r\n            for(int i = 0; i &lt; arr.length / 2; i++)\r\n            {\r\n                int temp = arr[i];\r\n                arr[i] = arr[arr.length - i - 1];\r\n                arr[arr.length - i - 1] = temp;\r\n            }    \r\n            for(int i = 0; i &lt; arr.length; i++)\r\n            {\r\n                System.out.print(arr[i]+&quot; &quot;);\r\n            }\r\n        }\r\n    }","title":"Java: Printing trailing spaces","body":"<p>First reverse the array and then print it with a for loop. </p>\n\n<pre><code>import java.util.Scanner;\n\npublic class Main {\n\n    public static void main(String[] args) {\n        Scanner in = new Scanner(System.in);\n        int n = in.nextInt();\n        int arr[] = new int[n];\n        for(int arr_i=0; arr_i &lt; n; arr_i++)\n        {\n            arr[arr_i] = in.nextInt();\n        }\n        for(int i = 0; i &lt; arr.length / 2; i++)\n        {\n            int temp = arr[i];\n            arr[i] = arr[arr.length - i - 1];\n            arr[arr.length - i - 1] = temp;\n        }    \n        for(int i = 0; i &lt; arr.length; i++)\n        {\n            System.out.print(arr[i]+\" \");\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6433222,"reputation":1497,"user_id":4985572,"accept_rate":75,"display_name":"Igoranze"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1496741508,"creation_date":1496741508,"answer_id":44386320,"question_id":44383773,"body_markdown":"The easy way to reverse a string is using the `StringBuilder` class:\r\n\r\nOne option is to remove the spaces at the end of the string eg. remove last char\r\n\r\n    package stackoverflow.main;\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class Main {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tScanner in = new Scanner(System.in);\r\n    \t\tint n = in.nextInt();\r\n    \t\t\r\n    \t\tStringBuilder sb = new StringBuilder();\r\n    \t\t\r\n    \t\tfor(int arr_i = 0; arr_i &lt; n; arr_i++){\r\n    \t\t\tsb.append(in.nextInt());\r\n    \t\t\tsb.append(&quot; &quot;);\r\n    \t\t}\r\n    \t\t\r\n    \t\tsb.deleteCharAt(sb.length() - 1);\r\n    \t\t\r\n    \t\tString normal = sb.toString();\r\n    \t\tString reversed = sb.reverse().toString();\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;normal: &quot; + normal);\r\n    \t\tSystem.out.println(&quot;reversed: &quot; + reversed);\r\n    \t}\r\n    }\r\n\r\nAnother option is to check whether you are at the last `arr_i` of your loop.\r\nIf so, then don&#39;t add a space\r\n\r\n    package stackoverflow.main;\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class Main {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tScanner in = new Scanner(System.in);\r\n    \t\tint n = in.nextInt();\r\n    \t\t\r\n    \t\tStringBuilder sb = new StringBuilder();\r\n    \t\t\r\n    \t\tfor(int arr_i = 0; arr_i &lt; n; arr_i++){\r\n    \t\t\tsb.append(in.nextInt());\r\n                if (arr_i != 3\r\n    \t\t\t    sb.append(&quot; &quot;);\r\n    \t\t}\r\n    \t\t    \t\t\r\n    \t\tString normal = sb.toString();\r\n    \t\tString reversed = sb.reverse().toString();\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;normal: &quot; + normal);\r\n    \t\tSystem.out.println(&quot;reversed: &quot; + reversed);\r\n    \t}\r\n    }\r\n\r\n","title":"Java: Printing trailing spaces","body":"<p>The easy way to reverse a string is using the <code>StringBuilder</code> class:</p>\n\n<p>One option is to remove the spaces at the end of the string eg. remove last char</p>\n\n<pre><code>package stackoverflow.main;\n\nimport java.util.Scanner;\n\npublic class Main {\n\n    public static void main(String[] args) {\n        Scanner in = new Scanner(System.in);\n        int n = in.nextInt();\n\n        StringBuilder sb = new StringBuilder();\n\n        for(int arr_i = 0; arr_i &lt; n; arr_i++){\n            sb.append(in.nextInt());\n            sb.append(\" \");\n        }\n\n        sb.deleteCharAt(sb.length() - 1);\n\n        String normal = sb.toString();\n        String reversed = sb.reverse().toString();\n\n        System.out.println(\"normal: \" + normal);\n        System.out.println(\"reversed: \" + reversed);\n    }\n}\n</code></pre>\n\n<p>Another option is to check whether you are at the last <code>arr_i</code> of your loop.\nIf so, then don't add a space</p>\n\n<pre><code>package stackoverflow.main;\n\nimport java.util.Scanner;\n\npublic class Main {\n\n    public static void main(String[] args) {\n        Scanner in = new Scanner(System.in);\n        int n = in.nextInt();\n\n        StringBuilder sb = new StringBuilder();\n\n        for(int arr_i = 0; arr_i &lt; n; arr_i++){\n            sb.append(in.nextInt());\n            if (arr_i != 3\n                sb.append(\" \");\n        }\n\n        String normal = sb.toString();\n        String reversed = sb.reverse().toString();\n\n        System.out.println(\"normal: \" + normal);\n        System.out.println(\"reversed: \" + reversed);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1092764,"reputation":143,"user_id":1087029,"display_name":"AlejandroHernandez.Inc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683420365,"creation_date":1683419880,"answer_id":76191772,"question_id":44383773,"body_markdown":"The same as what you did, only to consider the last element shall be printed out of the &#39;for&#39; loop.\r\n(*a quick and easy solution*)\r\n\r\nBy this way, you reduce the time with the validation of each iteration and you do know that the last element is the one without the &#39;space&#39;.\r\n\r\nI wish to be useful for the software development community.\r\n\r\n    public static void main(String[] args) {\r\n        Scanner in = new Scanner(System.in);\r\n        int n = in.nextInt();\r\n        int arr[] = new int[n];\r\n        for(int arr_i=0; arr_i &lt; n; arr_i++){\r\n            arr[arr_i] = in.nextInt();\r\n        }\r\n        for(int reverse_i=n-1; reverse_i&gt;0; reverse_i--){\r\n            System.out.print(arr[reverse_i]+&quot; &quot;);\r\n        }\r\n        System.out.print(arr[0]);\r\n     }\r\n\r\n","title":"Java: Printing trailing spaces","body":"<p>The same as what you did, only to consider the last element shall be printed out of the 'for' loop.\n(<em>a quick and easy solution</em>)</p>\n<p>By this way, you reduce the time with the validation of each iteration and you do know that the last element is the one without the 'space'.</p>\n<p>I wish to be useful for the software development community.</p>\n<pre><code>public static void main(String[] args) {\n    Scanner in = new Scanner(System.in);\n    int n = in.nextInt();\n    int arr[] = new int[n];\n    for(int arr_i=0; arr_i &lt; n; arr_i++){\n        arr[arr_i] = in.nextInt();\n    }\n    for(int reverse_i=n-1; reverse_i&gt;0; reverse_i--){\n        System.out.print(arr[reverse_i]+&quot; &quot;);\n    }\n    System.out.print(arr[0]);\n }\n</code></pre>\n"}],"owner":{"account_id":7206572,"reputation":1345,"user_id":5501996,"accept_rate":88,"display_name":"yoges nsamy"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":968,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"accepted_answer_id":44386320,"answer_count":4,"score":1,"last_activity_date":1683420365,"creation_date":1496733918,"question_id":44383773,"body_markdown":"I&#39;m a beginner in Java and working on a code that first requires user to enter total number of integers and next the integers themselves. Example input is:\r\n    \r\n    4\r\n    1 4 3 2\r\n\r\nThe code will need to reverse the second input to the following: \r\n\r\n    2 3 4 1\r\n\r\nMy solution is as follow:\r\n\r\n    public static void main(String[] args) {\r\n        Scanner in = new Scanner(System.in);\r\n        int n = in.nextInt();\r\n        int arr[] = new int[n];\r\n        for(int arr_i=0; arr_i &lt; n; arr_i++){\r\n            arr[arr_i] = in.nextInt();\r\n        }\r\n        for(int reverse_i=n-1; reverse_i&gt;=0; reverse_i--){\r\n            System.out.print(arr[reverse_i]);\r\n                if(reverse_i != 0){System.out.print(&quot; &quot;);}\r\n        }\r\n    }\r\n\r\nMy question is related to the code to add a blank space &quot; &quot; in between the printed numbers. I wonder what other way I can use to get this done? Any suggestion is appreciated, thank you.","title":"Java: Printing trailing spaces","body":"<p>I'm a beginner in Java and working on a code that first requires user to enter total number of integers and next the integers themselves. Example input is:</p>\n\n<pre><code>4\n1 4 3 2\n</code></pre>\n\n<p>The code will need to reverse the second input to the following: </p>\n\n<pre><code>2 3 4 1\n</code></pre>\n\n<p>My solution is as follow:</p>\n\n<pre><code>public static void main(String[] args) {\n    Scanner in = new Scanner(System.in);\n    int n = in.nextInt();\n    int arr[] = new int[n];\n    for(int arr_i=0; arr_i &lt; n; arr_i++){\n        arr[arr_i] = in.nextInt();\n    }\n    for(int reverse_i=n-1; reverse_i&gt;=0; reverse_i--){\n        System.out.print(arr[reverse_i]);\n            if(reverse_i != 0){System.out.print(\" \");}\n    }\n}\n</code></pre>\n\n<p>My question is related to the code to add a blank space \" \" in between the printed numbers. I wonder what other way I can use to get this done? Any suggestion is appreciated, thank you.</p>\n"},{"tags":["java","reactive-programming","reactor","reactive-streams"],"comments":[{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1626276622,"post_id":68379116,"comment_id":120851095,"body_markdown":"RX calls it &quot;cold&quot; observables","body":"RX calls it &quot;cold&quot; observables"},{"owner":{"account_id":8023174,"reputation":9194,"user_id":6051176,"display_name":"Martin Tarj&#225;nyi"},"score":0,"creation_date":1626295603,"post_id":68379116,"comment_id":120858113,"body_markdown":"Does this answer your question? [Difference between Mono/Flux.fromCallable and Mono.defer](https://stackoverflow.com/questions/60077499/difference-between-mono-flux-fromcallable-and-mono-defer)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/60077499/difference-between-mono-flux-fromcallable-and-mono-defer\">Difference between Mono/Flux.fromCallable and Mono.defer</a>"}],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1626276487,"creation_date":1626276487,"answer_id":68380951,"question_id":68379116,"body_markdown":"`Mono.fromCallable()` is for regular deferred service call. The `Mono.defer()` produces a `Mono` and it does that only when you *subscribe*. So, you may decide to create this or that `Mono` not during composition phase, but exactly on the target subscribe.","title":"What is the real world case for Mono.defer()?","body":"<p><code>Mono.fromCallable()</code> is for regular deferred service call. The <code>Mono.defer()</code> produces a <code>Mono</code> and it does that only when you <em>subscribe</em>. So, you may decide to create this or that <code>Mono</code> not during composition phase, but exactly on the target subscribe.</p>\n"},{"tags":[],"owner":{"account_id":9808985,"reputation":93,"user_id":7267818,"accept_rate":57,"display_name":"0x52"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683418726,"creation_date":1636931766,"answer_id":69967964,"question_id":68379116,"body_markdown":"**`@a.khakh`**\r\n\r\nA very simple use case that helped me was to execute blocking code in another thread, that is, to process that blocking call so that the main-thread would not block me.\r\n\r\nI saw the need to use defer to subscribe in another thread, in this case in a Scheduler provided by project reactor and programmed by Simon Basle.\r\n\r\n * [source using Mono.defer](https://github.com/rucko24/poc-sync-asyn/blob/main/src/main/java/com/simulation/syncvsasync/views/helloworld/SyncVsAsync.java#L97)\r\n\r\nIf you do a combination of `defer` plus `subscribeOn` and a `Schedulers.boundedElastic` you will make your code non-blocking or rather it will not **block** your application, removing contention in Reactor&#39;s default Scheduler at that time, perhaps Schedulers.parallel\r\n\r\n----\r\n\r\nThe following image shows that the third component of a Combo, internally uses a defer plus a Scheduler, so as not to block the application.\r\n\r\n![](https://rubn0x52.com/assets/img/reactiveFrecuencyMono.gif)\r\n\r\n\r\n- ignore the method called `ui.access()` it is part of the vaadin framework.\r\n\r\n```java\r\nMono.defer(() -&gt; this.reactiveRandomNumbers.monoFrecuency(event.getValue().getSize()))\r\n                        .doOnEach(signal -&gt; log.info(&quot;Thread name doOnNext(): {}&quot;, Thread.currentThread().getName()))\r\n                        .subscribeOn(Schedulers.boundedElastic())\r\n                        .subscribe(subscribeMap -&gt; {\r\n                            ui.access(() -&gt; {\r\n                                log.info(&quot;Thread name subscribe(): {}&quot;, Thread.currentThread().getName());\r\n                                this.execute(event.getValue().getSize(), e -&gt; subscribeMap);\r\n                            });\r\n                        });\r\n```\r\n\r\n","title":"What is the real world case for Mono.defer()?","body":"<p><strong><code>@a.khakh</code></strong></p>\n<p>A very simple use case that helped me was to execute blocking code in another thread, that is, to process that blocking call so that the main-thread would not block me.</p>\n<p>I saw the need to use defer to subscribe in another thread, in this case in a Scheduler provided by project reactor and programmed by Simon Basle.</p>\n<ul>\n<li><a href=\"https://github.com/rucko24/poc-sync-asyn/blob/main/src/main/java/com/simulation/syncvsasync/views/helloworld/SyncVsAsync.java#L97\" rel=\"nofollow noreferrer\">source using Mono.defer</a></li>\n</ul>\n<p>If you do a combination of <code>defer</code> plus <code>subscribeOn</code> and a <code>Schedulers.boundedElastic</code> you will make your code non-blocking or rather it will not <strong>block</strong> your application, removing contention in Reactor's default Scheduler at that time, perhaps Schedulers.parallel</p>\n<hr />\n<p>The following image shows that the third component of a Combo, internally uses a defer plus a Scheduler, so as not to block the application.</p>\n<p><img src=\"https://rubn0x52.com/assets/img/reactiveFrecuencyMono.gif\" alt=\"\" /></p>\n<ul>\n<li>ignore the method called <code>ui.access()</code> it is part of the vaadin framework.</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>Mono.defer(() -&gt; this.reactiveRandomNumbers.monoFrecuency(event.getValue().getSize()))\n                        .doOnEach(signal -&gt; log.info(&quot;Thread name doOnNext(): {}&quot;, Thread.currentThread().getName()))\n                        .subscribeOn(Schedulers.boundedElastic())\n                        .subscribe(subscribeMap -&gt; {\n                            ui.access(() -&gt; {\n                                log.info(&quot;Thread name subscribe(): {}&quot;, Thread.currentThread().getName());\n                                this.execute(event.getValue().getSize(), e -&gt; subscribeMap);\n                            });\n                        });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7023642,"reputation":131,"user_id":5381942,"display_name":"Andrey Novikov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637699125,"creation_date":1637699125,"answer_id":70087362,"question_id":68379116,"body_markdown":"Sometimes you need to calculate something synchronous lazily.\r\n\r\nFor instance, we have an asynchronous service\r\n\r\n```\r\npublic interface SomeService {\r\n\r\n    Mono&lt;User&gt; getUserByName(String name);\r\n\r\n    Mono&lt;CreateUserResult&gt; createUser(User user);\r\n\r\n}\r\n```\r\n\r\nand an endpoint, which looks up for the user in this service and creates if the one was not found. BUT before the creation some heavy calculations must be performed in sync in special thread pool. So\r\n\r\n```\r\nsomeService.getUserByName(name)\r\n                .switchIfEmpty(Mono.defer(() -&gt; {\r\n                    var someHeavyCalculatedData = localHeavyService.doSomethingNecessary(name);\r\n                    return someService.createUser(new User(name, someHeavyCalculatedData));\r\n                }).subscribeOn(specialScheduler));\r\n```\r\n\r\nSure, you can say that we can use `Mono.fromCallable` instead and do it like\r\n\r\n```\r\nsomeService.getUserByName(name)\r\n                .switchIfEmpty(Mono.fromCallable(() -&gt; localHeavyService.doSomethingNecessary(name))\r\n                        .subscribeOn(specialScheduler)\r\n                        .flatMap(someHeavyCalculatedData -&gt; someService.createUser(new User(name, someHeavyCalculatedData)))\r\n                );\r\n```\r\n\r\nBut each method call in reactive chain causes creation of a huge amount of objects in memory. Well for one single call you, probably won&#39;t notice anything, but with higher load frequent allocating memory, then releasing it by GC would cause your app being slow.","title":"What is the real world case for Mono.defer()?","body":"<p>Sometimes you need to calculate something synchronous lazily.</p>\n<p>For instance, we have an asynchronous service</p>\n<pre><code>public interface SomeService {\n\n    Mono&lt;User&gt; getUserByName(String name);\n\n    Mono&lt;CreateUserResult&gt; createUser(User user);\n\n}\n</code></pre>\n<p>and an endpoint, which looks up for the user in this service and creates if the one was not found. BUT before the creation some heavy calculations must be performed in sync in special thread pool. So</p>\n<pre><code>someService.getUserByName(name)\n                .switchIfEmpty(Mono.defer(() -&gt; {\n                    var someHeavyCalculatedData = localHeavyService.doSomethingNecessary(name);\n                    return someService.createUser(new User(name, someHeavyCalculatedData));\n                }).subscribeOn(specialScheduler));\n</code></pre>\n<p>Sure, you can say that we can use <code>Mono.fromCallable</code> instead and do it like</p>\n<pre><code>someService.getUserByName(name)\n                .switchIfEmpty(Mono.fromCallable(() -&gt; localHeavyService.doSomethingNecessary(name))\n                        .subscribeOn(specialScheduler)\n                        .flatMap(someHeavyCalculatedData -&gt; someService.createUser(new User(name, someHeavyCalculatedData)))\n                );\n</code></pre>\n<p>But each method call in reactive chain causes creation of a huge amount of objects in memory. Well for one single call you, probably won't notice anything, but with higher load frequent allocating memory, then releasing it by GC would cause your app being slow.</p>\n"}],"owner":{"account_id":3048687,"reputation":125,"user_id":2583744,"display_name":"a.khakh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1633,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1683418726,"creation_date":1626269634,"question_id":68379116,"body_markdown":"I know what `Mono.defer()` does do, but when should I use it? I know that one of the use cases is to defer some blocking side effects in functions that return `Mono`, but that&#39;s generally a bad practice (putting side effects in functions that return `Mono` or `Flux`). And when I want to wrap some blocking code within the `Mono` there&#39;s `Mono.fromCallable()`. So what is the best case to use `Mono.defer()`? ","title":"What is the real world case for Mono.defer()?","body":"<p>I know what <code>Mono.defer()</code> does do, but when should I use it? I know that one of the use cases is to defer some blocking side effects in functions that return <code>Mono</code>, but that's generally a bad practice (putting side effects in functions that return <code>Mono</code> or <code>Flux</code>). And when I want to wrap some blocking code within the <code>Mono</code> there's <code>Mono.fromCallable()</code>. So what is the best case to use <code>Mono.defer()</code>?</p>\n"},{"tags":["java","spring-boot","spring-security","cors","tomcat10"],"comments":[{"owner":{"account_id":2021661,"reputation":61998,"user_id":2541573,"accept_rate":100,"display_name":"jub0bs"},"score":0,"creation_date":1683115121,"post_id":76162420,"comment_id":134316249,"body_markdown":"Nothing in the code that you&#39;ve posted explain an error with such a message. Either you&#39;re not telling us everything, or the message is inaccurate.","body":"Nothing in the code that you&#39;ve posted explain an error with such a message. Either you&#39;re not telling us everything, or the message is inaccurate."},{"owner":{"account_id":15197950,"reputation":19,"user_id":10966761,"display_name":"z3fq0n"},"score":0,"creation_date":1683123672,"post_id":76162420,"comment_id":134318623,"body_markdown":"These are the only things I would think are related to the error I&#39;m getting. Could you give me some guidance on extra information that&#39;s needed for my message to be more complete? Quite new to all this, sorry!","body":"These are the only things I would think are related to the error I&#39;m getting. Could you give me some guidance on extra information that&#39;s needed for my message to be more complete? Quite new to all this, sorry!"},{"owner":{"account_id":2021661,"reputation":61998,"user_id":2541573,"accept_rate":100,"display_name":"jub0bs"},"score":2,"creation_date":1683129092,"post_id":76162420,"comment_id":134320037,"body_markdown":"There must be a call to `allowedOrigins(&quot;*&quot;)` somewhere. Find it and you&#39;ll be one step closer to fixing your CORS issue.","body":"There must be a call to <code>allowedOrigins(&quot;*&quot;)</code> somewhere. Find it and you&#39;ll be one step closer to fixing your CORS issue."}],"answers":[{"tags":[],"owner":{"account_id":1119443,"reputation":6044,"user_id":1108098,"accept_rate":73,"display_name":"jordiburgos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683417671,"creation_date":1683417671,"answer_id":76191683,"question_id":76162420,"body_markdown":"I had the same issue as I didn&#39;t configure the CORS properly. This is my configuration:\r\n\r\n    @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n\r\n        http\r\n            .csrf().disable()\r\n            .cors(c -&gt; c.configurationSource(request -&gt; {\r\n                CorsConfiguration cors = new CorsConfiguration();\r\n                cors.setAllowedOrigins(List.of(&quot;*&quot;));\r\n                cors.setAllowedMethods(List.of(&quot;GET&quot;,&quot;POST&quot;, &quot;PUT&quot;, &quot;DELETE&quot;, &quot;OPTIONS&quot;));\r\n                cors.setAllowedHeaders(List.of(&quot;*&quot;));\r\n                cors.setExposedHeaders(List.of(HttpHeaders.AUTHORIZATION, HttpHeaders.CONTENT_TYPE));\r\n                return cors;\r\n            }))\r\n            .authorizeHttpRequests()\r\n            ...\r\n\r\nThis will allow any origin to be served. Also for any method.\r\n","title":"Why do I get a Spring Boot (Java) error Access-Control-Allow-Origin can&#39;t be *, while it&#39;s sending the right header?","body":"<p>I had the same issue as I didn't configure the CORS properly. This is my configuration:</p>\n<pre><code>@Bean\npublic SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n\n    http\n        .csrf().disable()\n        .cors(c -&gt; c.configurationSource(request -&gt; {\n            CorsConfiguration cors = new CorsConfiguration();\n            cors.setAllowedOrigins(List.of(&quot;*&quot;));\n            cors.setAllowedMethods(List.of(&quot;GET&quot;,&quot;POST&quot;, &quot;PUT&quot;, &quot;DELETE&quot;, &quot;OPTIONS&quot;));\n            cors.setAllowedHeaders(List.of(&quot;*&quot;));\n            cors.setExposedHeaders(List.of(HttpHeaders.AUTHORIZATION, HttpHeaders.CONTENT_TYPE));\n            return cors;\n        }))\n        .authorizeHttpRequests()\n        ...\n</code></pre>\n<p>This will allow any origin to be served. Also for any method.</p>\n"}],"owner":{"account_id":15197950,"reputation":19,"user_id":10966761,"display_name":"z3fq0n"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":397,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1683417671,"creation_date":1683106826,"question_id":76162420,"body_markdown":"I have a simple web app containing a Angular front-end and a Spring Boot API using Spring security JWT authentication (version 3.0.5) deployed in Tomcat 10. The Web server and APP/DB server are separate. I will censor out the domain for privacy reasons, and will replace it with example.com.\r\n\r\nI have Cors configured like this:\r\n\r\n```\r\nCorsConfigurationSource corsConfigurationSource() {\r\n        CorsConfiguration configuration = new CorsConfiguration();\r\n        configuration.setAllowedOrigins(Collections.singletonList(&quot;http://goods.example.com&quot;));\r\n        configuration.setAllowedMethods(Arrays.asList(&quot;GET&quot;,&quot;POST&quot;, &quot;PUT&quot;, &quot;OPTIONS&quot;));\r\n        configuration.setAllowCredentials(true);\r\n        configuration.setAllowedHeaders(Arrays.asList(&quot;Origin&quot;, &quot;Access-Control-Allow-Origin&quot;, &quot;Content-Type&quot;,\r\n                &quot;Accept&quot;, &quot;Jwt-Token&quot;, &quot;Authorization&quot;, &quot;X-Requested-With&quot;,\r\n                &quot;Access-Control-Request-Method&quot;, &quot;Access-Control-Request-Headers&quot;));\r\n        configuration.setExposedHeaders(Arrays.asList(&quot;Origin&quot;, &quot;Content-Type&quot;, &quot;Accept&quot;, &quot;Jwt-Token&quot;, &quot;Authorization&quot;,\r\n                &quot;Access-Control-Allow-Origin&quot;, &quot;Access-Control-Allow-Origin&quot;, &quot;Access-Control-Allow-Credentials&quot;, &quot;Filename&quot;));\r\n        configuration.setMaxAge(3600L);\r\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\r\n        source.registerCorsConfiguration(&quot;/**&quot;, configuration);\r\n        return source;\r\n    }\r\n```\r\n\r\nMy Spring Security config is the following:\r\n\r\n\r\n```\r\n@Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity httpSecurity) throws Exception {\r\n        httpSecurity\r\n                .cors()\r\n                .configurationSource(corsConfigurationSource())\r\n                .and()\r\n                .csrf()\r\n                .disable()\r\n//                .requiresChannel()\r\n//                .anyRequest()\r\n//                .requiresSecure()\r\n//                .and()\r\n                .authorizeHttpRequests( authCustomizer -&gt; authCustomizer\r\n                        .requestMatchers(HttpMethod.POST, &quot;/api/v1/auth/authenticate&quot;).permitAll()\r\n                        .requestMatchers(HttpMethod.GET, &quot;/api/v1/test&quot;).permitAll()\r\n                )\r\n                .authorizeHttpRequests()\r\n                .anyRequest()\r\n                .authenticated()\r\n                .and()\r\n                .sessionManagement()\r\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n                .and()\r\n                .authenticationProvider(authenticationProvider)\r\n                .addFilterBefore(jwtAuthFilter, UsernamePasswordAuthenticationFilter.class)\r\n                .headers()\r\n                .xssProtection()\r\n                .and()\r\n                .contentSecurityPolicy(&quot;default-src &#39;self&#39; data: blob:;&quot;);\r\n\r\n        return httpSecurity.build();\r\n    }\r\n```\r\n\r\nAs you can see I&#39;m running the app on http for now.\r\n\r\nWhen I call my authentication endpoint with valid credentials it shows the the following headers:\r\n\r\n\r\n```http\r\nHTTP/1.1 403 \r\nVary: Origin\r\nVary: Access-Control-Request-Method\r\nVary: Access-Control-Request-Headers\r\nAccess-Control-Allow-Origin: http://goods.example.com\r\nAccess-Control-Expose-Headers: Origin, Content-Type, Accept, Jwt-Token, Authorization, Access-Control-Allow-Origin, Access-Control-Allow-Origin, Access-Control-Allow-Credentials, Filename\r\nAccess-Control-Allow-Credentials: true\r\nX-Content-Type-Options: nosniff\r\nX-XSS-Protection: 0\r\nCache-Control: no-cache, no-store, max-age=0, must-revalidate\r\nPragma: no-cache\r\nExpires: 0\r\nX-Frame-Options: DENY\r\nContent-Type: application/json\r\nTransfer-Encoding: chunked\r\nDate: Wed, 03 May 2023 09:11:19 GMT\r\nKeep-Alive: timeout=20\r\nConnection: keep-alive\r\n```\r\n\r\nNow here is the problem. In my logs I get the following error: `c.o.g.exception.DefaultExceptionHandler  : java.lang.IllegalArgumentException: When allowCredentials is true, allowedOrigins cannot contain the special value &quot;*&quot; since that cannot be set on the &quot;Access-Control-Allow-Origin&quot; response header. To allow credentials to a set of origins, list them explicitly or consider using &quot;allowedOriginPatterns&quot; instead.`\r\n\r\nIn my view I am listing the allowed origins explicitly in my cors configuration, but for some reason it is not working...\r\n\r\n\r\nWhat I tried:\r\n - I tried changing the Collections.singletonList() to Arrays.asList()\r\n - Removing XSS and CSP\r\n - Changing the Class annotation Order to: `@Order(Ordered.HIGHEST_PRECEDENCE)`\r\n - Check whether there&#39;s any cors rules active in Tomcat (I can&#39;t find any)\r\n - Use setAllowedOriginPatterns OR addAllowedOriginPattern instead of setAllowOrigins \r\n - Add the @Bean annotation to my CorsConfigurationSource\r\n\r\nThese were the fixes I found in other threads/could think of on my own.\r\n\r\nJust to specify, I do not get an error in the browser, just in Java/Tomcat. Probably because spring boot does give the correct header back...\r\n\r\nThank you for your help!","title":"Why do I get a Spring Boot (Java) error Access-Control-Allow-Origin can&#39;t be *, while it&#39;s sending the right header?","body":"<p>I have a simple web app containing a Angular front-end and a Spring Boot API using Spring security JWT authentication (version 3.0.5) deployed in Tomcat 10. The Web server and APP/DB server are separate. I will censor out the domain for privacy reasons, and will replace it with example.com.</p>\n<p>I have Cors configured like this:</p>\n<pre><code>CorsConfigurationSource corsConfigurationSource() {\n        CorsConfiguration configuration = new CorsConfiguration();\n        configuration.setAllowedOrigins(Collections.singletonList(&quot;http://goods.example.com&quot;));\n        configuration.setAllowedMethods(Arrays.asList(&quot;GET&quot;,&quot;POST&quot;, &quot;PUT&quot;, &quot;OPTIONS&quot;));\n        configuration.setAllowCredentials(true);\n        configuration.setAllowedHeaders(Arrays.asList(&quot;Origin&quot;, &quot;Access-Control-Allow-Origin&quot;, &quot;Content-Type&quot;,\n                &quot;Accept&quot;, &quot;Jwt-Token&quot;, &quot;Authorization&quot;, &quot;X-Requested-With&quot;,\n                &quot;Access-Control-Request-Method&quot;, &quot;Access-Control-Request-Headers&quot;));\n        configuration.setExposedHeaders(Arrays.asList(&quot;Origin&quot;, &quot;Content-Type&quot;, &quot;Accept&quot;, &quot;Jwt-Token&quot;, &quot;Authorization&quot;,\n                &quot;Access-Control-Allow-Origin&quot;, &quot;Access-Control-Allow-Origin&quot;, &quot;Access-Control-Allow-Credentials&quot;, &quot;Filename&quot;));\n        configuration.setMaxAge(3600L);\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\n        source.registerCorsConfiguration(&quot;/**&quot;, configuration);\n        return source;\n    }\n</code></pre>\n<p>My Spring Security config is the following:</p>\n<pre><code>@Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity httpSecurity) throws Exception {\n        httpSecurity\n                .cors()\n                .configurationSource(corsConfigurationSource())\n                .and()\n                .csrf()\n                .disable()\n//                .requiresChannel()\n//                .anyRequest()\n//                .requiresSecure()\n//                .and()\n                .authorizeHttpRequests( authCustomizer -&gt; authCustomizer\n                        .requestMatchers(HttpMethod.POST, &quot;/api/v1/auth/authenticate&quot;).permitAll()\n                        .requestMatchers(HttpMethod.GET, &quot;/api/v1/test&quot;).permitAll()\n                )\n                .authorizeHttpRequests()\n                .anyRequest()\n                .authenticated()\n                .and()\n                .sessionManagement()\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n                .and()\n                .authenticationProvider(authenticationProvider)\n                .addFilterBefore(jwtAuthFilter, UsernamePasswordAuthenticationFilter.class)\n                .headers()\n                .xssProtection()\n                .and()\n                .contentSecurityPolicy(&quot;default-src 'self' data: blob:;&quot;);\n\n        return httpSecurity.build();\n    }\n</code></pre>\n<p>As you can see I'm running the app on http for now.</p>\n<p>When I call my authentication endpoint with valid credentials it shows the the following headers:</p>\n<pre class=\"lang-http prettyprint-override\"><code>HTTP/1.1 403 \nVary: Origin\nVary: Access-Control-Request-Method\nVary: Access-Control-Request-Headers\nAccess-Control-Allow-Origin: http://goods.example.com\nAccess-Control-Expose-Headers: Origin, Content-Type, Accept, Jwt-Token, Authorization, Access-Control-Allow-Origin, Access-Control-Allow-Origin, Access-Control-Allow-Credentials, Filename\nAccess-Control-Allow-Credentials: true\nX-Content-Type-Options: nosniff\nX-XSS-Protection: 0\nCache-Control: no-cache, no-store, max-age=0, must-revalidate\nPragma: no-cache\nExpires: 0\nX-Frame-Options: DENY\nContent-Type: application/json\nTransfer-Encoding: chunked\nDate: Wed, 03 May 2023 09:11:19 GMT\nKeep-Alive: timeout=20\nConnection: keep-alive\n</code></pre>\n<p>Now here is the problem. In my logs I get the following error: <code>c.o.g.exception.DefaultExceptionHandler  : java.lang.IllegalArgumentException: When allowCredentials is true, allowedOrigins cannot contain the special value &quot;*&quot; since that cannot be set on the &quot;Access-Control-Allow-Origin&quot; response header. To allow credentials to a set of origins, list them explicitly or consider using &quot;allowedOriginPatterns&quot; instead.</code></p>\n<p>In my view I am listing the allowed origins explicitly in my cors configuration, but for some reason it is not working...</p>\n<p>What I tried:</p>\n<ul>\n<li>I tried changing the Collections.singletonList() to Arrays.asList()</li>\n<li>Removing XSS and CSP</li>\n<li>Changing the Class annotation Order to: <code>@Order(Ordered.HIGHEST_PRECEDENCE)</code></li>\n<li>Check whether there's any cors rules active in Tomcat (I can't find any)</li>\n<li>Use setAllowedOriginPatterns OR addAllowedOriginPattern instead of setAllowOrigins</li>\n<li>Add the @Bean annotation to my CorsConfigurationSource</li>\n</ul>\n<p>These were the fixes I found in other threads/could think of on my own.</p>\n<p>Just to specify, I do not get an error in the browser, just in Java/Tomcat. Probably because spring boot does give the correct header back...</p>\n<p>Thank you for your help!</p>\n"},{"tags":["java","android","kotlin","mpandroidchart"],"comments":[{"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"score":0,"creation_date":1683327096,"post_id":76183110,"comment_id":134355440,"body_markdown":"What is it that you feel is missing from your current chart? The thickness of the horizontal lines? The lack of gridlines? The gradient coloring of the lines? Please update the question to be more specific about what you want.","body":"What is it that you feel is missing from your current chart? The thickness of the horizontal lines? The lack of gridlines? The gradient coloring of the lines? Please update the question to be more specific about what you want."},{"owner":{"account_id":17640707,"reputation":21,"user_id":12803038,"display_name":"Mike"},"score":0,"creation_date":1683417374,"post_id":76183110,"comment_id":134363923,"body_markdown":"@TylerV, thanks for the comment. I&#39;ve updated the question. I hope it&#39;s clear enough","body":"@TylerV, thanks for the comment. I&#39;ve updated the question. I hope it&#39;s clear enough"}],"owner":{"account_id":17640707,"reputation":21,"user_id":12803038,"display_name":"Mike"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683417282,"creation_date":1683295877,"question_id":76183110,"body_markdown":"I want to achieve this kind of chart using MPAndroidChart. In particular. \r\n\r\n[![enter image description here](https://i.stack.imgur.com/ooYsV.jpg)](https://i.stack.imgur.com/ooYsV.jpg)\r\n\r\nI have done all the necessary setup and particularly customized the chart to use the stepped mode below\r\n\r\n```\r\nVal set1 = LineDataSet(values, &quot;DataSet 1&quot;);\r\nset1.setMode(LineDataSet.Mode.STEPPED);\r\n```\r\n\r\nThis is what I&#39;ve been able to achieve so far. In particular, I want to implement the thickness of the horizontal lines and also the gradient coloring of the lines.\r\n\r\nI&#39;ll appreciate any recommendation to achieve the desired template I attached.\r\n\r\n[![enter image description here](https://i.stack.imgur.com/6xsHI.png)](https://i.stack.imgur.com/6xsHI.png)","title":"Making a custom step graph with mpandroidchart","body":"<p>I want to achieve this kind of chart using MPAndroidChart. In particular.</p>\n<p><a href=\"https://i.stack.imgur.com/ooYsV.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ooYsV.jpg\" alt=\"enter image description here\" /></a></p>\n<p>I have done all the necessary setup and particularly customized the chart to use the stepped mode below</p>\n<pre><code>Val set1 = LineDataSet(values, &quot;DataSet 1&quot;);\nset1.setMode(LineDataSet.Mode.STEPPED);\n</code></pre>\n<p>This is what I've been able to achieve so far. In particular, I want to implement the thickness of the horizontal lines and also the gradient coloring of the lines.</p>\n<p>I'll appreciate any recommendation to achieve the desired template I attached.</p>\n<p><a href=\"https://i.stack.imgur.com/6xsHI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6xsHI.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android","android-studio","admob","interstitial"],"owner":{"account_id":28531839,"reputation":1,"user_id":21839115,"display_name":"You Loulou"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683415611,"creation_date":1683415611,"question_id":76191608,"body_markdown":"I call the finish() function in Activity which uses the InterstitialAd announcements but the garbage collector does not recover the activity because call back from InterstitialAd is currently using the activity.\r\nI have a memory leak on all the Activities that call loading InterstitialAd.load with InterstitialAdLoadCallback\r\n\r\n\r\nhow can I use InterstitialAd with InterstitialAdLoadCallback and avoid memory leaks?","title":"after loading InterstitialAd.load with InterstitialAdLoadCallback I have a memory leak","body":"<p>I call the finish() function in Activity which uses the InterstitialAd announcements but the garbage collector does not recover the activity because call back from InterstitialAd is currently using the activity.\nI have a memory leak on all the Activities that call loading InterstitialAd.load with InterstitialAdLoadCallback</p>\n<p>how can I use InterstitialAd with InterstitialAdLoadCallback and avoid memory leaks?</p>\n"},{"tags":["java","spring-boot","asynchronous","completable-future"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":1,"creation_date":1683407409,"post_id":76191049,"comment_id":134362986,"body_markdown":"hi &amp; welcome! i tried (not) to reproduce...(works like charm!) now see: (your exception message+) `Thread.sleep(1000000000);` that&#39;s *a lot of* (1 bill.) milliseconds! ... =&gt; 1 mill. seconds =&gt; ...it&#39;s about `11,5740741` days! (that&#39;s no good &quot;testing time frame&quot;!:)","body":"hi &amp; welcome! i tried (not) to reproduce...(works like charm!) now see: (your exception message+) <code>Thread.sleep(1000000000);</code> that&#39;s <i>a lot of</i> (1 bill.) milliseconds! ... =&gt; 1 mill. seconds =&gt; ...it&#39;s about <code>11,5740741</code> days! (that&#39;s no good &quot;testing time frame&quot;!:)"}],"answers":[{"tags":[],"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683415256,"creation_date":1683411959,"answer_id":76191442,"question_id":76191049,"body_markdown":"`Thread.sleep(1000000000);` seems too much for a (build) test ... That refers to ~ 12 (solar) days!\r\n\r\n### This works\r\n\r\n- [starter](https://start.spring.io/#!type=maven-project&amp;language=java&amp;platformVersion=3.0.6&amp;packaging=jar&amp;jvmVersion=17&amp;groupId=com.example&amp;artifactId=demo&amp;name=demo&amp;description=Demo%20project%20for%20Spring%20Boot&amp;packageName=com.example.demo&amp;dependencies=web,lombok,devtools)\r\n\r\n- &quot;App&quot;:\r\n  ```lang-java\r\n  package com.example.demo;\r\n\r\n  import java.util.UUID;\r\n  import java.util.concurrent.CompletableFuture;\r\n  import java.util.concurrent.TimeUnit;\r\n\r\n  import org.springframework.beans.factory.annotation.Autowired;\r\n  import org.springframework.beans.factory.annotation.Value;\r\n  import org.springframework.boot.SpringApplication;\r\n  import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n  import org.springframework.scheduling.annotation.Async;\r\n  import org.springframework.scheduling.annotation.EnableAsync;\r\n  import org.springframework.stereotype.Controller;\r\n  import org.springframework.stereotype.Service;\r\n  import org.springframework.web.bind.annotation.GetMapping;\r\n  import org.springframework.web.bind.annotation.RequestParam;\r\n  import org.springframework.web.bind.annotation.ResponseBody;\r\n\r\n  import lombok.extern.slf4j.Slf4j;\r\n\r\n  @EnableAsync\r\n  @SpringBootApplication\r\n  public class DemoApplication {\r\n\r\n    public static void main(String[] args) {\r\n      SpringApplication.run(DemoApplication.class, args);\r\n    }\r\n\r\n    @Slf4j\r\n    @Service\r\n    static class MyAsyService {\r\n      @Value(&quot;${simulation.sleep.seconds:10}&quot;)\r\n      private Long simSeconds;\r\n\r\n      @Async\r\n      CompletableFuture&lt;String&gt; doSomething(String req) throws InterruptedException {\r\n        log.info(&quot;in service...&quot;);\r\n        TimeUnit.SECONDS.sleep(simSeconds);\r\n        log.info(&quot;...leaving service&quot;);\r\n        return CompletableFuture.completedFuture(req + &quot;_&quot; + UUID.randomUUID());\r\n      }\r\n    }\r\n\r\n    @Slf4j\r\n    @Controller\r\n    static class MyController {\r\n      @Autowired\r\n      MyAsyService service;\r\n\r\n      @GetMapping(&quot;/hello&quot;)\r\n      @ResponseBody\r\n      CompletableFuture&lt;String&gt; hello(@RequestParam(required = false, defaultValue = &quot;anonymous&quot;) String req)\r\n          throws InterruptedException {\r\n        log.info(&quot;in controller...&quot;);\r\n        CompletableFuture&lt;String&gt; result = service.doSomething(req);\r\n        log.info(&quot;...controller done!&quot;);\r\n        return result;\r\n      }\r\n    }\r\n  }\r\n  ```\r\n- in browser:\r\n  [![browser screenshot][1]][1]\r\n- in server logs:\r\n  ```lang-text\r\n  ... o.s.web.servlet.DispatcherServlet    : Completed initialization in 1 ms\r\n  ... DemoApplication$MyController : in controller.... &lt;= req#1\r\n  ... DemoApplication$MyController : ....controller done!\r\n  ... DemoApplication$MyAsyService : in service....\r\n  ... DemoApplication$MyAsyService : ....leaving service\r\n  ... DemoApplication$MyController : in controller.... &lt;= req#2\r\n  ... DemoApplication$MyController : ....controller done!\r\n  ... DemoApplication$MyAsyService : in service....\r\n  ... DemoApplication$MyAsyService : ....leaving service\r\n  ... DemoApplication$MyController : in controller.... &lt;= req#3\r\n  ... DemoApplication$MyController : ....controller done!\r\n  ... DemoApplication$MyAsyService : in service....\r\n  ... DemoApplication$MyAsyService : ....leaving service\r\n  ```\r\n- (automatic, mock mvc) test (hardest part;):\r\n  ```\r\n  package com.example.demo;\r\n\r\n  import static org.hamcrest.core.StringStartsWith.startsWith;\r\n  import static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.*;\r\n  import static org.springframework.test.web.servlet.result.MockMvcResultMatchers.content;\r\n  import static org.springframework.test.web.servlet.result.MockMvcResultMatchers.request;\r\n  import static org.springframework.test.web.servlet.result.MockMvcResultMatchers.status;\r\n\r\n  import java.util.UUID;\r\n\r\n  import org.junit.jupiter.api.Test;\r\n  import org.springframework.beans.factory.annotation.Autowired;\r\n  import org.springframework.beans.factory.annotation.Value;\r\n  import org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTest;\r\n  import org.springframework.mock.web.MockHttpServletRequest;\r\n  import org.springframework.test.web.servlet.MockMvc;\r\n  import org.springframework.test.web.servlet.MvcResult;\r\n  import org.springframework.test.web.servlet.RequestBuilder;\r\n\r\n  @WebMvcTest\r\n  class DemoApplicationTests {\r\n\r\n    @Autowired\r\n    MockMvc mockMvc;\r\n\t@Value(&quot;${simulation.sleep.seconds}&quot;) // -&gt; src/test/resources/application.properties\r\n\tLong simSeconds;\r\n\r\n    @Test\r\n    void testController() throws Exception {\r\n      String uid = UUID.randomUUID().toString();\r\n      MvcResult mvcResult = mockMvc.perform(get(&quot;/hello?req={v}&quot;, uid)) //1.\r\n          .andExpect(request().asyncStarted()) // 2.\r\n          .andReturn(); // 3.\r\n\r\n      mockMvc.perform(asyncDispatch(mvcResult/*, (simSeconds + 1) * 1000*/)) // 4!*\r\n          .andExpectAll( // ...\r\n              status().isOk(),\r\n              content().string(startsWith(uid)));\r\n    }\r\n    // 4*: when we take/simulate more than ~10 seconds, we have to &amp; can re-implement/enrich:\r\n    static RequestBuilder asyncDispatch(MvcResult mvcResult, long timeToWait) {\r\n\r\n\t\t// copied/adopted from MockMvcRequestBuilders#asyncDispatch\r\n\t\tmvcResult.getAsyncResult(timeToWait);\r\n\r\n\t\treturn servletContext -&gt; {\r\n\t\t\tMockHttpServletRequest request = mvcResult.getRequest();\r\n\t\t\trequest.setDispatcherType(DispatcherType.ASYNC);\r\n\t\t\trequest.setAsyncStarted(false);\r\n\t\t\treturn request;\r\n\t\t};\r\n\t}\r\n  }\r\n  ```   \r\n### Thx To\r\n- https://sadique.io/blog/2015/11/24/testing-async-responses-using-mockmvc/\r\n- https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/test/web/servlet/request/MockMvcRequestBuilders.html#asyncDispatch(org.springframework.test.web.servlet.MvcResult)\r\n\r\n\r\n----------\r\nChanging service to:\r\n```\r\nCompletableFuture.supplyAsync(() -&gt;{\r\n  try { //...\r\n```\r\n..has no significant effect.\r\n\r\n  [1]: https://i.stack.imgur.com/2wGFE.png","title":"Controller waiting even after using async and completable future","body":"<p><code>Thread.sleep(1000000000);</code> seems too much for a (build) test ... That refers to ~ 12 (solar) days!</p>\n<h3>This works</h3>\n<ul>\n<li><p><a href=\"https://start.spring.io/#!type=maven-project&amp;language=java&amp;platformVersion=3.0.6&amp;packaging=jar&amp;jvmVersion=17&amp;groupId=com.example&amp;artifactId=demo&amp;name=demo&amp;description=Demo%20project%20for%20Spring%20Boot&amp;packageName=com.example.demo&amp;dependencies=web,lombok,devtools\" rel=\"nofollow noreferrer\">starter</a></p>\n</li>\n<li><p>&quot;App&quot;:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.demo;\n\nimport java.util.UUID;\nimport java.util.concurrent.CompletableFuture;\nimport java.util.concurrent.TimeUnit;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.scheduling.annotation.Async;\nimport org.springframework.scheduling.annotation.EnableAsync;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.stereotype.Service;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RequestParam;\nimport org.springframework.web.bind.annotation.ResponseBody;\n\nimport lombok.extern.slf4j.Slf4j;\n\n@EnableAsync\n@SpringBootApplication\npublic class DemoApplication {\n\n  public static void main(String[] args) {\n    SpringApplication.run(DemoApplication.class, args);\n  }\n\n  @Slf4j\n  @Service\n  static class MyAsyService {\n    @Value(&quot;${simulation.sleep.seconds:10}&quot;)\n    private Long simSeconds;\n\n    @Async\n    CompletableFuture&lt;String&gt; doSomething(String req) throws InterruptedException {\n      log.info(&quot;in service...&quot;);\n      TimeUnit.SECONDS.sleep(simSeconds);\n      log.info(&quot;...leaving service&quot;);\n      return CompletableFuture.completedFuture(req + &quot;_&quot; + UUID.randomUUID());\n    }\n  }\n\n  @Slf4j\n  @Controller\n  static class MyController {\n    @Autowired\n    MyAsyService service;\n\n    @GetMapping(&quot;/hello&quot;)\n    @ResponseBody\n    CompletableFuture&lt;String&gt; hello(@RequestParam(required = false, defaultValue = &quot;anonymous&quot;) String req)\n        throws InterruptedException {\n      log.info(&quot;in controller...&quot;);\n      CompletableFuture&lt;String&gt; result = service.doSomething(req);\n      log.info(&quot;...controller done!&quot;);\n      return result;\n    }\n  }\n}\n</code></pre>\n</li>\n<li><p>in browser:\n<a href=\"https://i.stack.imgur.com/2wGFE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2wGFE.png\" alt=\"browser screenshot\" /></a></p>\n</li>\n<li><p>in server logs:</p>\n<pre class=\"lang-text prettyprint-override\"><code>... o.s.web.servlet.DispatcherServlet    : Completed initialization in 1 ms\n... DemoApplication$MyController : in controller.... &lt;= req#1\n... DemoApplication$MyController : ....controller done!\n... DemoApplication$MyAsyService : in service....\n... DemoApplication$MyAsyService : ....leaving service\n... DemoApplication$MyController : in controller.... &lt;= req#2\n... DemoApplication$MyController : ....controller done!\n... DemoApplication$MyAsyService : in service....\n... DemoApplication$MyAsyService : ....leaving service\n... DemoApplication$MyController : in controller.... &lt;= req#3\n... DemoApplication$MyController : ....controller done!\n... DemoApplication$MyAsyService : in service....\n... DemoApplication$MyAsyService : ....leaving service\n</code></pre>\n</li>\n<li><p>(automatic, mock mvc) test (hardest part;):</p>\n<pre><code>package com.example.demo;\n\nimport static org.hamcrest.core.StringStartsWith.startsWith;\nimport static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.*;\nimport static org.springframework.test.web.servlet.result.MockMvcResultMatchers.content;\nimport static org.springframework.test.web.servlet.result.MockMvcResultMatchers.request;\nimport static org.springframework.test.web.servlet.result.MockMvcResultMatchers.status;\n\nimport java.util.UUID;\n\nimport org.junit.jupiter.api.Test;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTest;\nimport org.springframework.mock.web.MockHttpServletRequest;\nimport org.springframework.test.web.servlet.MockMvc;\nimport org.springframework.test.web.servlet.MvcResult;\nimport org.springframework.test.web.servlet.RequestBuilder;\n\n@WebMvcTest\nclass DemoApplicationTests {\n\n  @Autowired\n  MockMvc mockMvc;\n  @Value(&quot;${simulation.sleep.seconds}&quot;) // -&gt; src/test/resources/application.properties\n  Long simSeconds;\n\n  @Test\n  void testController() throws Exception {\n    String uid = UUID.randomUUID().toString();\n    MvcResult mvcResult = mockMvc.perform(get(&quot;/hello?req={v}&quot;, uid)) //1.\n        .andExpect(request().asyncStarted()) // 2.\n        .andReturn(); // 3.\n\n    mockMvc.perform(asyncDispatch(mvcResult/*, (simSeconds + 1) * 1000*/)) // 4!*\n        .andExpectAll( // ...\n            status().isOk(),\n            content().string(startsWith(uid)));\n  }\n  // 4*: when we take/simulate more than ~10 seconds, we have to &amp; can re-implement/enrich:\n  static RequestBuilder asyncDispatch(MvcResult mvcResult, long timeToWait) {\n\n      // copied/adopted from MockMvcRequestBuilders#asyncDispatch\n      mvcResult.getAsyncResult(timeToWait);\n\n      return servletContext -&gt; {\n          MockHttpServletRequest request = mvcResult.getRequest();\n          request.setDispatcherType(DispatcherType.ASYNC);\n          request.setAsyncStarted(false);\n          return request;\n      };\n  }\n}\n</code></pre>\n</li>\n</ul>\n<h3>Thx To</h3>\n<ul>\n<li><a href=\"https://sadique.io/blog/2015/11/24/testing-async-responses-using-mockmvc/\" rel=\"nofollow noreferrer\">https://sadique.io/blog/2015/11/24/testing-async-responses-using-mockmvc/</a></li>\n<li><a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/test/web/servlet/request/MockMvcRequestBuilders.html#asyncDispatch(org.springframework.test.web.servlet.MvcResult)\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/test/web/servlet/request/MockMvcRequestBuilders.html#asyncDispatch(org.springframework.test.web.servlet.MvcResult)</a></li>\n</ul>\n<hr />\n<p>Changing service to:</p>\n<pre><code>CompletableFuture.supplyAsync(() -&gt;{\n  try { //...\n</code></pre>\n<p>..has no significant effect.</p>\n"}],"owner":{"account_id":28512191,"reputation":21,"user_id":21822041,"display_name":"Deepak Mathur"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":399,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1683415256,"creation_date":1683405821,"question_id":76191049,"body_markdown":"I am developing a Spring Boot application where I want to make my controller asynchronous using CompletableFuture and the @Async annotation. To test the implementation, I intentionally added a Thread.sleep() call in the service method. However, even with these asynchronous approaches, the controller is still waiting for some time before executing. I have verified that my controller and service are running on different threads, as evidenced by their distinct thread IDs. I am unsure why this is happening, and I would appreciate any insights or suggestions on how to resolve this issue.\r\n\r\ncode is given below:\r\n```\r\n//controller\r\n  @PostMapping\r\n    public CompletableFuture&lt;User&gt; createUser(@RequestBody User user) {\r\n        System.out.println(Thread.currentThread().getId()+&quot;-----------------------------------&quot;+System.currentTimeMillis()+&quot;----------&quot;+&quot;inside controller&quot;);\r\n        return userService.createUser(user);\r\n    }\r\n```\r\n\r\n// service\r\n\r\n```\r\n   @Override\r\n    @Async(&quot;asyncExecutor&quot;)\r\n    public CompletableFuture&lt;User&gt; createUser(User user) {\r\n        System.out.println(Thread.currentThread().getId()+&quot;-----------------------------------&quot;+System.currentTimeMillis()+&quot;-------------inside services&quot;);\r\n        return CompletableFuture.supplyAsync(() -&gt;{\r\n            try {\r\n                Thread.sleep(1000000000);\r\n            } catch (InterruptedException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n            System.out.println(Thread.currentThread().getId());\r\n           return userRepository.save(user);\r\n        });\r\n    }\r\n\r\n```\r\n\r\nIt would be helpful to provide some code examples or specific details about your implementation in order to give a clearer understanding of the problem.\r\n\r\n//output\r\n```\r\n21-----------------------------------1683404458540----------inside controller\r\n34-----------------------------------1683404458543-------------inside services\r\n2023-05-07 01:51:28.812  WARN 36119 --- [nio-8080-exec-2] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.context.request.async.AsyncRequestTimeoutException]\r\n\r\n```","title":"Controller waiting even after using async and completable future","body":"<p>I am developing a Spring Boot application where I want to make my controller asynchronous using CompletableFuture and the @Async annotation. To test the implementation, I intentionally added a Thread.sleep() call in the service method. However, even with these asynchronous approaches, the controller is still waiting for some time before executing. I have verified that my controller and service are running on different threads, as evidenced by their distinct thread IDs. I am unsure why this is happening, and I would appreciate any insights or suggestions on how to resolve this issue.</p>\n<p>code is given below:</p>\n<pre><code>//controller\n  @PostMapping\n    public CompletableFuture&lt;User&gt; createUser(@RequestBody User user) {\n        System.out.println(Thread.currentThread().getId()+&quot;-----------------------------------&quot;+System.currentTimeMillis()+&quot;----------&quot;+&quot;inside controller&quot;);\n        return userService.createUser(user);\n    }\n</code></pre>\n<p>// service</p>\n<pre><code>   @Override\n    @Async(&quot;asyncExecutor&quot;)\n    public CompletableFuture&lt;User&gt; createUser(User user) {\n        System.out.println(Thread.currentThread().getId()+&quot;-----------------------------------&quot;+System.currentTimeMillis()+&quot;-------------inside services&quot;);\n        return CompletableFuture.supplyAsync(() -&gt;{\n            try {\n                Thread.sleep(1000000000);\n            } catch (InterruptedException e) {\n                throw new RuntimeException(e);\n            }\n            System.out.println(Thread.currentThread().getId());\n           return userRepository.save(user);\n        });\n    }\n\n</code></pre>\n<p>It would be helpful to provide some code examples or specific details about your implementation in order to give a clearer understanding of the problem.</p>\n<p>//output</p>\n<pre><code>21-----------------------------------1683404458540----------inside controller\n34-----------------------------------1683404458543-------------inside services\n2023-05-07 01:51:28.812  WARN 36119 --- [nio-8080-exec-2] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.context.request.async.AsyncRequestTimeoutException]\n\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1675610727,"post_id":75351717,"comment_id":132962150,"body_markdown":"`In my app I need access to permission READ_EXTERNAL_STORAGE` Not if your app runs on a device with Android 13+.","body":"<code>In my app I need access to permission READ_EXTERNAL_STORAGE</code> Not if your app runs on a device with Android 13+."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1675610789,"post_id":75351717,"comment_id":132962168,"body_markdown":"And READ_MEDIA_IMAGES you will need only for Android 13+ devices.","body":"And READ_MEDIA_IMAGES you will need only for Android 13+ devices."},{"owner":{"account_id":10528158,"reputation":334,"user_id":7758485,"display_name":"DiLDoST"},"score":0,"creation_date":1675724029,"post_id":75351717,"comment_id":132987079,"body_markdown":"Android 11+ needs MANAGE_STORAGE permission instead. And try to use WRITE_EXTERNAL_STORAGE. Coz&#39; it has both read and write. No one would just READ something without need of WRITING","body":"Android 11+ needs MANAGE_STORAGE permission instead. And try to use WRITE_EXTERNAL_STORAGE. Coz&#39; it has both read and write. No one would just READ something without need of WRITING"}],"answers":[{"tags":[],"owner":{"account_id":25877819,"reputation":1,"user_id":19607465,"display_name":"Executrix Apps"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683413818,"creation_date":1683413818,"answer_id":76191530,"question_id":75351717,"body_markdown":"    private ActivityResultLauncher&lt;String&gt; requestPermissionLauncher =\r\n            registerForActivityResult(new ActivityResultContracts.RequestPermission(),\r\n                    isGranted-&gt;{\r\n                if (isGranted){\r\n                    is_audio_Storage_permitted = true;\r\n                }else{\r\n                    is_media_Storage_permitted = false;\r\n                    sendToDialog();\r\n                }\r\n\r\n    });\r\n     public void sendToDialog(){\r\n        AlertDialog builder = new AlertDialog.Builder(MainActivity.this)\r\n                .setTitle(&quot;Alert for Permission&quot;)\r\n                .setMessage(&quot;Go to setting&quot;)\r\n                .setPositiveButton(&quot;Settings&quot;, new DialogInterface.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(DialogInterface dialog, int which) {\r\n                        Intent mIntent = new Intent();\r\n                        mIntent.setAction(Settings.ACTION_APPLICATION_DETAILS_SETTINGS);\r\n                        Uri uri = Uri.fromParts(&quot;package&quot;, getPackageName(), null);\r\n                        rIntent.setData(uri);\r\n                        startActivity(rIntent);\r\n                        dialog.dismiss();\r\n                    }\r\n                }).setNegativeButton(&quot;Exit&quot;, new DialogInterface.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(DialogInterface dialog, int which) {\r\n                        dialog.dismiss();\r\n                        finish();\r\n                    }\r\n                }).show();\r\n    }","title":"Android permission dialog not showing","body":"<pre><code>private ActivityResultLauncher&lt;String&gt; requestPermissionLauncher =\n        registerForActivityResult(new ActivityResultContracts.RequestPermission(),\n                isGranted-&gt;{\n            if (isGranted){\n                is_audio_Storage_permitted = true;\n            }else{\n                is_media_Storage_permitted = false;\n                sendToDialog();\n            }\n\n});\n public void sendToDialog(){\n    AlertDialog builder = new AlertDialog.Builder(MainActivity.this)\n            .setTitle(&quot;Alert for Permission&quot;)\n            .setMessage(&quot;Go to setting&quot;)\n            .setPositiveButton(&quot;Settings&quot;, new DialogInterface.OnClickListener() {\n                @Override\n                public void onClick(DialogInterface dialog, int which) {\n                    Intent mIntent = new Intent();\n                    mIntent.setAction(Settings.ACTION_APPLICATION_DETAILS_SETTINGS);\n                    Uri uri = Uri.fromParts(&quot;package&quot;, getPackageName(), null);\n                    rIntent.setData(uri);\n                    startActivity(rIntent);\n                    dialog.dismiss();\n                }\n            }).setNegativeButton(&quot;Exit&quot;, new DialogInterface.OnClickListener() {\n                @Override\n                public void onClick(DialogInterface dialog, int which) {\n                    dialog.dismiss();\n                    finish();\n                }\n            }).show();\n}\n</code></pre>\n"}],"owner":{"account_id":20248890,"reputation":21,"user_id":14850587,"display_name":"f_for_myself"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":311,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1683413818,"creation_date":1675594555,"question_id":75351717,"body_markdown":"In my app I need access to permission READ_EXTERNAL_STORAGE\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;/&gt;\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\r\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:preserveLegacyExternalStorage=&quot;true&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/Theme.NoteApp&quot;\r\n        tools:targetApi=&quot;31&quot;&gt;\r\n        &lt;activity\r\n            android:name=&quot;.activities.CreateNoteActivity&quot;\r\n            android:screenOrientation=&quot;portrait&quot;\r\n            android:windowSoftInputMode=&quot;stateHidden&quot;\r\n            android:exported=&quot;false&quot;&gt;\r\n            &lt;meta-data\r\n                android:name=&quot;android.app.lib_name&quot;\r\n                android:value=&quot;&quot; /&gt;\r\n        &lt;/activity&gt;\r\n        &lt;activity\r\n            android:name=&quot;.activities.MainActivity&quot;\r\n            android:screenOrientation=&quot;portrait&quot;\r\n            android:windowSoftInputMode=&quot;stateHidden&quot;\r\n            android:exported=&quot;true&quot;\r\n            android:label=&quot;@string/app_name&quot;\r\n            android:theme=&quot;@style/Theme.NoteApp.NoActionBar&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n\r\n            &lt;meta-data\r\n                android:name=&quot;android.app.lib_name&quot;\r\n                android:value=&quot;&quot; /&gt;\r\n        &lt;/activity&gt;\r\n    &lt;/application&gt;\r\n\r\n&lt;/manifest&gt;\r\n```\r\n\r\nIn my code I check If I already have permissions, and if NOT:\r\n\r\n```\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_create_note);\r\n\r\n        ImageView imageBack = findViewById(R.id.imageBack);\r\n        imageBack.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                onBackPressed();\r\n            }\r\n        });\r\n\r\n        inputNoteTitle = findViewById(R.id.inputNoteTitle);\r\n        inputNoteText = findViewById(R.id.inputNote);\r\n        textDateTime = findViewById(R.id.textDateTime);\r\n        imageNote = findViewById(R.id.imageNote);\r\n\r\n        textDateTime.setText(\r\n                new SimpleDateFormat(&quot;EEEE, dd MMMM yyyy HH:mm a&quot;, Locale.getDefault())\r\n                        .format(new Date())\r\n        );\r\n\r\n        ImageView imageSave = findViewById(R.id.imageSave);\r\n        imageSave.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                saveNote();\r\n            }\r\n        });\r\n\r\n        ImageView imageAddImage = findViewById(R.id.imageAddImage);\r\n        imageAddImage.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                int requestPermission = ContextCompat.checkSelfPermission(\r\n                        getApplicationContext(), Manifest.permission.READ_EXTERNAL_STORAGE\r\n                );\r\n                if (requestPermission != PackageManager.PERMISSION_GRANTED){\r\n                    ActivityCompat.requestPermissions(\r\n                            CreateNoteActivity.this,\r\n                            new String[] {Manifest.permission.READ_EXTERNAL_STORAGE},\r\n                            REQUEST_CODE_STORAGE_PERMISSION\r\n                    );\r\n                }\r\n                else {\r\n                    selectImage();\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n @Override\r\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n        if (requestCode == REQUEST_CODE_STORAGE_PERMISSION &amp;&amp; grantResults.length &gt; 0){\r\n            Log.d(&quot;DEBUG&quot;, &quot;&quot; + grantResults[0]);\r\n            if (grantResults[0] == PackageManager.PERMISSION_GRANTED){\r\n                selectImage();\r\n            }\r\n            else {\r\n                Toast.makeText(this, &quot;Permission Denied!&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        }\r\n    }\r\n```\r\n\r\nBut the permissions dialog never shows, let alone is onRequestPermissionsResult() called.\r\n\r\nI don&#39;t know why the dialog doesn&#39;t show when i use READ_EXTERNAL_STORAGE but it work with READ_MEDIA_IMAGES.","title":"Android permission dialog not showing","body":"<p>In my app I need access to permission READ_EXTERNAL_STORAGE</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;/&gt;\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:preserveLegacyExternalStorage=&quot;true&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/Theme.NoteApp&quot;\n        tools:targetApi=&quot;31&quot;&gt;\n        &lt;activity\n            android:name=&quot;.activities.CreateNoteActivity&quot;\n            android:screenOrientation=&quot;portrait&quot;\n            android:windowSoftInputMode=&quot;stateHidden&quot;\n            android:exported=&quot;false&quot;&gt;\n            &lt;meta-data\n                android:name=&quot;android.app.lib_name&quot;\n                android:value=&quot;&quot; /&gt;\n        &lt;/activity&gt;\n        &lt;activity\n            android:name=&quot;.activities.MainActivity&quot;\n            android:screenOrientation=&quot;portrait&quot;\n            android:windowSoftInputMode=&quot;stateHidden&quot;\n            android:exported=&quot;true&quot;\n            android:label=&quot;@string/app_name&quot;\n            android:theme=&quot;@style/Theme.NoteApp.NoActionBar&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n\n            &lt;meta-data\n                android:name=&quot;android.app.lib_name&quot;\n                android:value=&quot;&quot; /&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n<p>In my code I check If I already have permissions, and if NOT:</p>\n<pre><code>    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_create_note);\n\n        ImageView imageBack = findViewById(R.id.imageBack);\n        imageBack.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                onBackPressed();\n            }\n        });\n\n        inputNoteTitle = findViewById(R.id.inputNoteTitle);\n        inputNoteText = findViewById(R.id.inputNote);\n        textDateTime = findViewById(R.id.textDateTime);\n        imageNote = findViewById(R.id.imageNote);\n\n        textDateTime.setText(\n                new SimpleDateFormat(&quot;EEEE, dd MMMM yyyy HH:mm a&quot;, Locale.getDefault())\n                        .format(new Date())\n        );\n\n        ImageView imageSave = findViewById(R.id.imageSave);\n        imageSave.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                saveNote();\n            }\n        });\n\n        ImageView imageAddImage = findViewById(R.id.imageAddImage);\n        imageAddImage.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                int requestPermission = ContextCompat.checkSelfPermission(\n                        getApplicationContext(), Manifest.permission.READ_EXTERNAL_STORAGE\n                );\n                if (requestPermission != PackageManager.PERMISSION_GRANTED){\n                    ActivityCompat.requestPermissions(\n                            CreateNoteActivity.this,\n                            new String[] {Manifest.permission.READ_EXTERNAL_STORAGE},\n                            REQUEST_CODE_STORAGE_PERMISSION\n                    );\n                }\n                else {\n                    selectImage();\n                }\n            }\n        });\n    }\n\n @Override\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n        if (requestCode == REQUEST_CODE_STORAGE_PERMISSION &amp;&amp; grantResults.length &gt; 0){\n            Log.d(&quot;DEBUG&quot;, &quot;&quot; + grantResults[0]);\n            if (grantResults[0] == PackageManager.PERMISSION_GRANTED){\n                selectImage();\n            }\n            else {\n                Toast.makeText(this, &quot;Permission Denied!&quot;, Toast.LENGTH_SHORT).show();\n            }\n        }\n    }\n</code></pre>\n<p>But the permissions dialog never shows, let alone is onRequestPermissionsResult() called.</p>\n<p>I don't know why the dialog doesn't show when i use READ_EXTERNAL_STORAGE but it work with READ_MEDIA_IMAGES.</p>\n"},{"tags":["java","pem","apache-httpclient-4.x"],"comments":[{"owner":{"account_id":26023,"reputation":1592,"user_id":67417,"accept_rate":88,"display_name":"Dave C"},"score":0,"creation_date":1289413570,"post_id":4146624,"comment_id":4474789,"body_markdown":"Or, is there another format file (besides PEM) that would make this easier to implement?","body":"Or, is there another format file (besides PEM) that would make this easier to implement?"}],"answers":[{"tags":[],"owner":{"account_id":238657,"reputation":7626,"user_id":507697,"accept_rate":75,"display_name":"Dirk-Willem van Gulik"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1447338467,"creation_date":1291216024,"answer_id":4325718,"question_id":4146624,"body_markdown":"Easiest may well be to use the .p12 format (though the others work fine too - just be careful with extra lines outside the base64 blocks) and add something like:\r\n\r\n    // systems I trust\r\n    System.setProperty(&quot;javax.net.ssl.trustStore&quot;, &quot;foo&quot;);\r\n    System.setProperty(&quot;javax.net.ssl.trustStorePassword&quot;, &quot;changeit&quot;);\r\n\r\n    // my credentials\r\n    System.setProperty(&quot;javax.net.ssl.keyStoreType&quot;, &quot;PKCS12&quot;);\r\n    System.setProperty(&quot;javax.net.ssl.keyStore&quot;, &quot;cert.p12&quot;);\r\n    System.setProperty(&quot;javax.net.ssl.keyStorePassword&quot;, &quot;changeit&quot;);\r\n\r\nOr alternatively - use things like\r\n\r\n        KeyStore ks = KeyStore.getInstance( &quot;pkcs12&quot; );\r\n        ks.load( new FileInputStream( ....), &quot;mypassword&quot;.toCharArray() );\r\n\r\n        KeyStore jks = KeyStore.getInstance( &quot;JKS&quot; );\r\n        ks.load(...\r\n\r\nto create above on the fly instead. And rather than rely on the system property - use somethng like:\r\n\r\n        KeyManagerFactory kmf = KeyManagerFactory.getInstance(&quot;SunX509&quot;);\r\n        kmf.init(aboveKeyStore, &quot;changeme&quot;.toCharArray());\r\n        sslContext = SSLContext.getInstance(&quot;SSLv3&quot;);\r\n        sslContext.init(kmf.getKeyManagers(), null, null);\r\n\r\nwhich keeps it separate from keystore.\r\n\r\nDW.","title":"Apache HttpClient and PEM certificate files","body":"<p>Easiest may well be to use the .p12 format (though the others work fine too - just be careful with extra lines outside the base64 blocks) and add something like:</p>\n\n<pre><code>// systems I trust\nSystem.setProperty(\"javax.net.ssl.trustStore\", \"foo\");\nSystem.setProperty(\"javax.net.ssl.trustStorePassword\", \"changeit\");\n\n// my credentials\nSystem.setProperty(\"javax.net.ssl.keyStoreType\", \"PKCS12\");\nSystem.setProperty(\"javax.net.ssl.keyStore\", \"cert.p12\");\nSystem.setProperty(\"javax.net.ssl.keyStorePassword\", \"changeit\");\n</code></pre>\n\n<p>Or alternatively - use things like</p>\n\n<pre><code>    KeyStore ks = KeyStore.getInstance( \"pkcs12\" );\n    ks.load( new FileInputStream( ....), \"mypassword\".toCharArray() );\n\n    KeyStore jks = KeyStore.getInstance( \"JKS\" );\n    ks.load(...\n</code></pre>\n\n<p>to create above on the fly instead. And rather than rely on the system property - use somethng like:</p>\n\n<pre><code>    KeyManagerFactory kmf = KeyManagerFactory.getInstance(\"SunX509\");\n    kmf.init(aboveKeyStore, \"changeme\".toCharArray());\n    sslContext = SSLContext.getInstance(\"SSLv3\");\n    sslContext.init(kmf.getKeyManagers(), null, null);\n</code></pre>\n\n<p>which keeps it separate from keystore.</p>\n\n<p>DW.</p>\n"},{"tags":[],"owner":{"account_id":279546,"reputation":700,"user_id":574776,"display_name":"shreyas"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1408046456,"creation_date":1408046456,"answer_id":25316628,"question_id":4146624,"body_markdown":"You can create a `KeyStore` from `.pem` files like so: \r\n\r\n    private KeyStore getTrustStore(final InputStream pathToPemFile) throws IOException, KeyStoreException,\r\n            NoSuchAlgorithmException, CertificateException {\r\n        final KeyStore ks = KeyStore.getInstance(KeyStore.getDefaultType());\r\n        ks.load(null);\r\n\r\n        // load all certs\r\n        for (Certificate cert : CertificateFactory.getInstance(&quot;X509&quot;)\r\n                .generateCertificates(pathToPemFile)) {\r\n            final X509Certificate crt = (X509Certificate) cert;\r\n\r\n            try {\r\n                final String alias = crt.getSubjectX500Principal().getName();\r\n                ks.setCertificateEntry(alias, crt);\r\n                LOG.info(&quot;Added alias &quot; + alias + &quot; to TrustStore&quot;);\r\n            } catch (KeyStoreException exp) {\r\n                LOG.error(exp.getMessage());\r\n            }\r\n        }\r\n\r\n        return ks;\r\n    }","title":"Apache HttpClient and PEM certificate files","body":"<p>You can create a <code>KeyStore</code> from <code>.pem</code> files like so: </p>\n\n<pre><code>private KeyStore getTrustStore(final InputStream pathToPemFile) throws IOException, KeyStoreException,\n        NoSuchAlgorithmException, CertificateException {\n    final KeyStore ks = KeyStore.getInstance(KeyStore.getDefaultType());\n    ks.load(null);\n\n    // load all certs\n    for (Certificate cert : CertificateFactory.getInstance(\"X509\")\n            .generateCertificates(pathToPemFile)) {\n        final X509Certificate crt = (X509Certificate) cert;\n\n        try {\n            final String alias = crt.getSubjectX500Principal().getName();\n            ks.setCertificateEntry(alias, crt);\n            LOG.info(\"Added alias \" + alias + \" to TrustStore\");\n        } catch (KeyStoreException exp) {\n            LOG.error(exp.getMessage());\n        }\n    }\n\n    return ks;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9107988,"reputation":3190,"user_id":6777695,"display_name":"Hakan54"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683413618,"creation_date":1683413618,"answer_id":76191525,"question_id":4146624,"body_markdown":"Although there is an accepted answer already, I would like to provide an alternative as it does not provide an actual solution for using pem files directly. It just mentions that the easiest way is to just convert it to a p12 file and use that instead. It is possible to use pem files directly.\r\n\r\nI have provided a similar same answer here: https://stackoverflow.com/questions/42675033/how-to-build-a-sslsocketfactory-from-pem-certificate-and-key-without-converting/66297869#66297869\r\n\r\nA code example would be:\r\n```java\r\nimport nl.altindag.ssl.SSLFactory;\r\nimport nl.altindag.ssl.util.PemUtils;\r\nimport org.apache.http.HttpEntity;\r\nimport org.apache.http.HttpResponse;\r\nimport org.apache.http.client.HttpClient;\r\nimport org.apache.http.client.methods.HttpGet;\r\nimport org.apache.http.impl.client.HttpClients;\r\n\r\nimport javax.net.ssl.X509ExtendedKeyManager;\r\nimport javax.net.ssl.X509ExtendedTrustManager;\r\nimport java.io.IOException;\r\nimport java.nio.file.Paths;\r\n\r\npublic class App {\r\n\r\n    public static void main(String[] args) throws IOException {\r\n        X509ExtendedKeyManager keyManager = PemUtils.loadIdentityMaterial(Paths.get(&quot;/path/to/your/certificate.pem&quot;), Paths.get(&quot;/path/to/your/private-key.pem&quot;));\r\n        X509ExtendedTrustManager trustManager = PemUtils.loadTrustMaterial(Paths.get(&quot;/path/to/your/some-trusted-certificate.pem&quot;));\r\n\r\n        SSLFactory sslFactory = SSLFactory.builder()\r\n                .withIdentityMaterial(keyManager)\r\n                .withTrustMaterial(trustManager)\r\n                .build();\r\n\r\n        HttpClient httpclient = HttpClients.custom()\r\n                .setSSLContext(sslFactory.getSslContext())\r\n                .build();\r\n\r\n        HttpGet httpget = new HttpGet(&quot;https://my.secure.site.com/url&quot;);\r\n\r\n        HttpResponse response = httpclient.execute(httpget);\r\n        System.out.println(response.getStatusLine().getStatusCode());\r\n        HttpEntity entity = response.getEntity();\r\n    }\r\n}\r\n```\r\n\r\nI need to admit that the solution is based on a library which I have build myself, [GitHub - SSLContext Kickstart][1].\r\n\r\n\r\n  [1]: https://github.com/Hakky54/sslcontext-kickstart","title":"Apache HttpClient and PEM certificate files","body":"<p>Although there is an accepted answer already, I would like to provide an alternative as it does not provide an actual solution for using pem files directly. It just mentions that the easiest way is to just convert it to a p12 file and use that instead. It is possible to use pem files directly.</p>\n<p>I have provided a similar same answer here: <a href=\"https://stackoverflow.com/questions/42675033/how-to-build-a-sslsocketfactory-from-pem-certificate-and-key-without-converting/66297869#66297869\">How to build a SSLSocketFactory from PEM certificate and key without converting to keystore?</a></p>\n<p>A code example would be:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import nl.altindag.ssl.SSLFactory;\nimport nl.altindag.ssl.util.PemUtils;\nimport org.apache.http.HttpEntity;\nimport org.apache.http.HttpResponse;\nimport org.apache.http.client.HttpClient;\nimport org.apache.http.client.methods.HttpGet;\nimport org.apache.http.impl.client.HttpClients;\n\nimport javax.net.ssl.X509ExtendedKeyManager;\nimport javax.net.ssl.X509ExtendedTrustManager;\nimport java.io.IOException;\nimport java.nio.file.Paths;\n\npublic class App {\n\n    public static void main(String[] args) throws IOException {\n        X509ExtendedKeyManager keyManager = PemUtils.loadIdentityMaterial(Paths.get(&quot;/path/to/your/certificate.pem&quot;), Paths.get(&quot;/path/to/your/private-key.pem&quot;));\n        X509ExtendedTrustManager trustManager = PemUtils.loadTrustMaterial(Paths.get(&quot;/path/to/your/some-trusted-certificate.pem&quot;));\n\n        SSLFactory sslFactory = SSLFactory.builder()\n                .withIdentityMaterial(keyManager)\n                .withTrustMaterial(trustManager)\n                .build();\n\n        HttpClient httpclient = HttpClients.custom()\n                .setSSLContext(sslFactory.getSslContext())\n                .build();\n\n        HttpGet httpget = new HttpGet(&quot;https://my.secure.site.com/url&quot;);\n\n        HttpResponse response = httpclient.execute(httpget);\n        System.out.println(response.getStatusLine().getStatusCode());\n        HttpEntity entity = response.getEntity();\n    }\n}\n</code></pre>\n<p>I need to admit that the solution is based on a library which I have build myself, <a href=\"https://github.com/Hakky54/sslcontext-kickstart\" rel=\"nofollow noreferrer\">GitHub - SSLContext Kickstart</a>.</p>\n"}],"owner":{"account_id":26023,"reputation":1592,"user_id":67417,"accept_rate":88,"display_name":"Dave C"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10235,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":4325718,"answer_count":3,"score":7,"last_activity_date":1683413618,"creation_date":1289406417,"question_id":4146624,"body_markdown":"I&#39;d like to programmatically access a site that requires Client certificates, which I have in PEM files.  In this application I don&#39;t want to add them to my keystore, use keytool, or openssl if I can avoid doing so. I need to deal with them directly in code.\r\n\r\n        HttpClient httpclient = new DefaultHttpClient();\r\n        HttpGet httpget = new HttpGet(&quot;https://my.secure.site.com/url&quot;);\r\n        \r\n        // TODO: Specify ca.pem and client.pem here?\r\n\r\n        HttpResponse response = httpclient.execute(httpget);\r\n        HttpEntity entity = response.getEntity();\r\n\r\n        if (entity != null) {\r\n            entity.consumeContent();\r\n        }\r\n\r\n        httpclient.getConnectionManager().shutdown();\r\n\r\nHow would I &#39;send&#39; the certificate with the request?","title":"Apache HttpClient and PEM certificate files","body":"<p>I'd like to programmatically access a site that requires Client certificates, which I have in PEM files.  In this application I don't want to add them to my keystore, use keytool, or openssl if I can avoid doing so. I need to deal with them directly in code.</p>\n\n<pre><code>    HttpClient httpclient = new DefaultHttpClient();\n    HttpGet httpget = new HttpGet(\"https://my.secure.site.com/url\");\n\n    // TODO: Specify ca.pem and client.pem here?\n\n    HttpResponse response = httpclient.execute(httpget);\n    HttpEntity entity = response.getEntity();\n\n    if (entity != null) {\n        entity.consumeContent();\n    }\n\n    httpclient.getConnectionManager().shutdown();\n</code></pre>\n\n<p>How would I 'send' the certificate with the request?</p>\n"},{"tags":["java","macos","maven","terminal","jdwp"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1683225288,"post_id":76175818,"comment_id":134338118,"body_markdown":"Where is this: `Cannot load this JVM TI agent twice` comming from? Manually configuration?","body":"Where is this: <code>Cannot load this JVM TI agent twice</code> comming from? Manually configuration?"},{"owner":{"account_id":5330022,"reputation":173,"user_id":4250855,"display_name":"Gengis Khan"},"score":0,"creation_date":1683225796,"post_id":76175818,"comment_id":134338226,"body_markdown":"Probably when I run maven commands, it&#39;s trying to load it in the background. This is what my $MAVEN_OPTS looks like ```% echo $MAVEN_OPTS\n-Xmx4g -Xms2g -server -d64 -XX:MaxPermSize=384m -XX:ReservedCodeCacheSize=64m -XX:-UseConcMarkSweepGC -Dfile.encoding=UTF-8 -agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=5005 -Djava.net.preferIPv4Stack=true -Dfile.encoding=UTF-8 -Djava.awt.headless=true```","body":"Probably when I run maven commands, it&#39;s trying to load it in the background. This is what my $MAVEN_OPTS looks like <code>% echo $MAVEN_OPTS -Xmx4g -Xms2g -server -d64 -XX:MaxPermSize=384m -XX:ReservedCodeCacheSize=64m -XX:-UseConcMarkSweepGC -Dfile.encoding=UTF-8 -agentlib:jdwp=transport=dt_socket,server=y,suspend=n,addres&zwnj;&#8203;s=5005 -Djava.net.preferIPv4Stack=true -Dfile.encoding=UTF-8 -Djava.awt.headless=true</code>"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1683366660,"post_id":76175818,"comment_id":134358363,"body_markdown":"Why is jdwp configuration set etc... remove all that stuff just try first without any configuration... and the agent? Why is it needed? really need 4 GiB for build? Which version of JDK do you use? -server option would only be neccesary if you are on a 32 bit OS? Remove that as well MaxPermSize etc. is not needed...","body":"Why is jdwp configuration set etc... remove all that stuff just try first without any configuration... and the agent? Why is it needed? really need 4 GiB for build? Which version of JDK do you use? -server option would only be neccesary if you are on a 32 bit OS? Remove that as well MaxPermSize etc. is not needed..."}],"answers":[{"tags":[],"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683412033,"creation_date":1683412033,"answer_id":76191445,"question_id":76175818,"body_markdown":"The Maven you installed using Homebrew is using a newer version of Java than you expect.  This newer version does not support the JVM flags you pass in through the MAVEN_OPTS variable, and therefore refuses to start.\r\n\r\nTo fix it, unset MAVEN_OPTS (or set it to the empty value) and then run Maven.\r\n\r\nThat said, it looks like you have been provided with a set of options for setting up the JVM to have specific characteristics AND running Maven in debug mode so you can attach a debugger.   I would suggest forgetting the first kind until you  prove you have a need for them, and either use Maven in a debug configuration in your IDE or run the `mvnDebug` script (next to the `mvn` script) from the command line for launching Maven so you can attach a debugger.  Note that in my experience you only need this to troubleshoot an Maven error.","title":"Multiple maven version from different sources","body":"<p>The Maven you installed using Homebrew is using a newer version of Java than you expect.  This newer version does not support the JVM flags you pass in through the MAVEN_OPTS variable, and therefore refuses to start.</p>\n<p>To fix it, unset MAVEN_OPTS (or set it to the empty value) and then run Maven.</p>\n<p>That said, it looks like you have been provided with a set of options for setting up the JVM to have specific characteristics AND running Maven in debug mode so you can attach a debugger.   I would suggest forgetting the first kind until you  prove you have a need for them, and either use Maven in a debug configuration in your IDE or run the <code>mvnDebug</code> script (next to the <code>mvn</code> script) from the command line for launching Maven so you can attach a debugger.  Note that in my experience you only need this to troubleshoot an Maven error.</p>\n"}],"owner":{"account_id":5330022,"reputation":173,"user_id":4250855,"display_name":"Gengis Khan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":161,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1683412033,"creation_date":1683220840,"question_id":76175818,"body_markdown":"I have 2 different versions of maven installed on my MacBook. One is through a company tooling.\r\n```\r\n% mvn -v\r\nJava HotSpot(TM) 64-Bit Server VM warning: ignoring option MaxPermSize=384m; support was removed in 8.0\r\nColorizing...\r\nListening for transport dt_socket at address: 5005\r\nApache Maven 3.1.1 (0728685237757ffbf44136acec0402957f723d9a; 2013-09-17 08:22:22-0700)\r\nMaven home: /Users/abc/.bootstrap/packages/maven3.1.1/apache-maven-3.1.1\r\nJava version: 1.8.0_181, vendor: Oracle Corporation\r\nJava home: /Library/Java/JavaVirtualMachines/jdk1.8.0_181.jdk/Contents/Home/jre\r\nDefault locale: en_US, platform encoding: UTF-8\r\nOS name: &quot;mac os x&quot;, version: &quot;10.16&quot;, arch: &quot;x86_64&quot;, family: &quot;mac&quot;\r\n```\r\n\r\nOne of my projects needs maven version &gt;3.2.5 and I have a newer version through brew\r\n```\r\n% brew list maven\r\n/opt/homebrew/Cellar/maven/3.9.1/bin/mvn\r\n/opt/homebrew/Cellar/maven/3.9.1/bin/mvnDebug\r\n/opt/homebrew/Cellar/maven/3.9.1/bin/mvnyjp\r\n/opt/homebrew/Cellar/maven/3.9.1/libexec/bin/ (4 files)\r\n/opt/homebrew/Cellar/maven/3.9.1/libexec/boot/ (2 files)\r\n/opt/homebrew/Cellar/maven/3.9.1/libexec/conf/ (3 files)\r\n/opt/homebrew/Cellar/maven/3.9.1/libexec/lib/ (75 files)\r\n```\r\n\r\nIf I try to use this directly, I get the following error:\r\n```\r\n% /opt/homebrew/Cellar/maven/3.9.1/bin/mvn -v\r\nJava HotSpot(TM) 64-Bit Server VM warning: ignoring option MaxPermSize=384m; support was removed in 8.0\r\nJava HotSpot(TM) 64-Bit Server VM warning: ignoring option MaxPermSize=384m; support was removed in 8.0\r\nERROR: Cannot load this JVM TI agent twice, check your java command line for duplicate jdwp options.\r\nError occurred during initialization of VM\r\nagent library failed to init: jdwp\r\n```\r\n\r\nHow do I fix it? How do I switch to the new version when building my old project? Maybe I can delete the 3.1.1 version? How would I do that? Please help. Thanks!","title":"Multiple maven version from different sources","body":"<p>I have 2 different versions of maven installed on my MacBook. One is through a company tooling.</p>\n<pre><code>% mvn -v\nJava HotSpot(TM) 64-Bit Server VM warning: ignoring option MaxPermSize=384m; support was removed in 8.0\nColorizing...\nListening for transport dt_socket at address: 5005\nApache Maven 3.1.1 (0728685237757ffbf44136acec0402957f723d9a; 2013-09-17 08:22:22-0700)\nMaven home: /Users/abc/.bootstrap/packages/maven3.1.1/apache-maven-3.1.1\nJava version: 1.8.0_181, vendor: Oracle Corporation\nJava home: /Library/Java/JavaVirtualMachines/jdk1.8.0_181.jdk/Contents/Home/jre\nDefault locale: en_US, platform encoding: UTF-8\nOS name: &quot;mac os x&quot;, version: &quot;10.16&quot;, arch: &quot;x86_64&quot;, family: &quot;mac&quot;\n</code></pre>\n<p>One of my projects needs maven version &gt;3.2.5 and I have a newer version through brew</p>\n<pre><code>% brew list maven\n/opt/homebrew/Cellar/maven/3.9.1/bin/mvn\n/opt/homebrew/Cellar/maven/3.9.1/bin/mvnDebug\n/opt/homebrew/Cellar/maven/3.9.1/bin/mvnyjp\n/opt/homebrew/Cellar/maven/3.9.1/libexec/bin/ (4 files)\n/opt/homebrew/Cellar/maven/3.9.1/libexec/boot/ (2 files)\n/opt/homebrew/Cellar/maven/3.9.1/libexec/conf/ (3 files)\n/opt/homebrew/Cellar/maven/3.9.1/libexec/lib/ (75 files)\n</code></pre>\n<p>If I try to use this directly, I get the following error:</p>\n<pre><code>% /opt/homebrew/Cellar/maven/3.9.1/bin/mvn -v\nJava HotSpot(TM) 64-Bit Server VM warning: ignoring option MaxPermSize=384m; support was removed in 8.0\nJava HotSpot(TM) 64-Bit Server VM warning: ignoring option MaxPermSize=384m; support was removed in 8.0\nERROR: Cannot load this JVM TI agent twice, check your java command line for duplicate jdwp options.\nError occurred during initialization of VM\nagent library failed to init: jdwp\n</code></pre>\n<p>How do I fix it? How do I switch to the new version when building my old project? Maybe I can delete the 3.1.1 version? How would I do that? Please help. Thanks!</p>\n"},{"tags":["java","audio","mp3","inputstream","jaudiotagger"],"answers":[{"tags":[],"owner":{"account_id":14975766,"reputation":21,"user_id":21489436,"display_name":"Finn Andre Worm"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1683410155,"creation_date":1683410155,"answer_id":76191338,"question_id":76191069,"body_markdown":"The problem was fixed by increasing the maven depdendency from 2.2.5 to version 3.0.1:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;net.jthink&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jaudiotagger&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.1&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"AudioFileIO leaves inputstream opened after giving log warn &quot;No space to find another frame&quot;","body":"<p>The problem was fixed by increasing the maven depdendency from 2.2.5 to version 3.0.1:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;net.jthink&lt;/groupId&gt;\n    &lt;artifactId&gt;jaudiotagger&lt;/artifactId&gt;\n    &lt;version&gt;3.0.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":14975766,"reputation":21,"user_id":21489436,"display_name":"Finn Andre Worm"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76191338,"answer_count":1,"score":0,"last_activity_date":1683410155,"creation_date":1683406167,"question_id":76191069,"body_markdown":"I am attempting to read a files audio length in Java using the following code:\r\n\r\n`return AudioFileIO.read(new File(audio)).getAudioHeader().getTrackLength() * 1000;`\r\n\r\nThis works and gives me (roughly) the length of the audio file, but leaves an inputstream open, meaning that later on I cant delete the files, atleast not during runtime.\r\nThis is problematic because Im using temporary files here and the directory needs to be cleared.\r\n\r\nThis is the output I get in my console:\r\n    \r\n    Mai 06, 2023 10:30:13 PM org.jaudiotagger.tag.id3.AbstractID3v2Frame readIdentifier\r\n    WARNING: tmp0.mp3:No space to find another frame:\r\n    Mai 06, 2023 10:30:13 PM org.jaudiotagger.tag.id3.ID3v24Tag readFrames\r\n    WARNING: tmp0.mp3:Invalid Frame:tmp0.mp3:No space to find another frame\r\n    Mai 06, 2023 10:30:13 PM org.jaudiotagger.audio.mp3.MP3File readV2Tag\r\n    SEVERE: Could not invoke DirectBuffer method - illegal access`\r\n\r\n\r\nThis is the files metadata, according to (https://www.checkfiletype.com):\r\n\r\n\r\n    File Size\t36 kB\r\n    File Type\tMP3\r\n    File Type Extension\tmp3\r\n    MIME Type\taudio/mpeg\r\n    ID3 Size\t45\r\n    MPEG Audio Version\t2\r\n    Audio Layer\t3\r\n    Audio Bitrate\t128 kbps\r\n    Sample Rate\t24000\r\n    Channel Mode\tSingle Channel\r\n    MS Stereo\tOff\r\n    Intensity Stereo\tOff\r\n    Copyright Flag\tFalse\r\n    Original Media\tTrue\r\n    Emphasis\tNone\r\n    Encoder Settings\tLavf58.76.100\r\n    Duration\t2.30 s (approx)\r\n\r\nI cant entirely seem to understand what the problem is thats making it throw that warning. Is the metadata faulty? If so, what can I do to fix it? Im getting the .mp3 through an API.\r\nIs there a different class I could use? The AudioSystem/AudioInputStream classes didnt work either and threw an error, saying the file type is unsupported.\r\n\r\nThanks in advance!","title":"AudioFileIO leaves inputstream opened after giving log warn &quot;No space to find another frame&quot;","body":"<p>I am attempting to read a files audio length in Java using the following code:</p>\n<p><code>return AudioFileIO.read(new File(audio)).getAudioHeader().getTrackLength() * 1000;</code></p>\n<p>This works and gives me (roughly) the length of the audio file, but leaves an inputstream open, meaning that later on I cant delete the files, atleast not during runtime.\nThis is problematic because Im using temporary files here and the directory needs to be cleared.</p>\n<p>This is the output I get in my console:</p>\n<pre><code>Mai 06, 2023 10:30:13 PM org.jaudiotagger.tag.id3.AbstractID3v2Frame readIdentifier\nWARNING: tmp0.mp3:No space to find another frame:\nMai 06, 2023 10:30:13 PM org.jaudiotagger.tag.id3.ID3v24Tag readFrames\nWARNING: tmp0.mp3:Invalid Frame:tmp0.mp3:No space to find another frame\nMai 06, 2023 10:30:13 PM org.jaudiotagger.audio.mp3.MP3File readV2Tag\nSEVERE: Could not invoke DirectBuffer method - illegal access`\n</code></pre>\n<p>This is the files metadata, according to (<a href=\"https://www.checkfiletype.com\" rel=\"nofollow noreferrer\">https://www.checkfiletype.com</a>):</p>\n<pre><code>File Size   36 kB\nFile Type   MP3\nFile Type Extension mp3\nMIME Type   audio/mpeg\nID3 Size    45\nMPEG Audio Version  2\nAudio Layer 3\nAudio Bitrate   128 kbps\nSample Rate 24000\nChannel Mode    Single Channel\nMS Stereo   Off\nIntensity Stereo    Off\nCopyright Flag  False\nOriginal Media  True\nEmphasis    None\nEncoder Settings    Lavf58.76.100\nDuration    2.30 s (approx)\n</code></pre>\n<p>I cant entirely seem to understand what the problem is thats making it throw that warning. Is the metadata faulty? If so, what can I do to fix it? Im getting the .mp3 through an API.\nIs there a different class I could use? The AudioSystem/AudioInputStream classes didnt work either and threw an error, saying the file type is unsupported.</p>\n<p>Thanks in advance!</p>\n"},{"tags":["java","spring","postgresql","thymeleaf","ioutils"],"comments":[{"owner":{"account_id":86753,"reputation":9285,"user_id":241022,"accept_rate":100,"display_name":"Simon"},"score":1,"creation_date":1683403548,"post_id":76190618,"comment_id":134362511,"body_markdown":"I&#39;m not quite sure what the surronding context of your snippet looks like, so the following is just a wild guess and might not solve your problem: at first glance, to me using `*{}` does not seem necessary. `*{}` is used to access fields of the object set in `th:object` in the parent element. Maybe try `${&#39;data:image/jpeg;base64,&#39;+encodedImage}`","body":"I&#39;m not quite sure what the surronding context of your snippet looks like, so the following is just a wild guess and might not solve your problem: at first glance, to me using <code>*{}</code> does not seem necessary. <code>*{}</code> is used to access fields of the object set in <code>th:object</code> in the parent element. Maybe try <code>${&#39;data:image&#47;jpeg;base64,&#39;+encodedImage}</code>"}],"answers":[{"tags":[],"owner":{"account_id":5152799,"reputation":19367,"user_id":4126893,"display_name":"Metroids"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1683408916,"creation_date":1683408916,"answer_id":76191259,"question_id":76190618,"body_markdown":"You can&#39;t nest expressions like you are doing -- `*{ ... ${ ... } ... }` is not valid Thymeleaf syntax.  See the Thymeleaf documentation on [appending texts][1].  In most cases, literal substitutions I think are most expressive.\r\n\r\n    &lt;img th:src=&quot;|data:image/jpeg;base64,${encodedImage}|&quot; alt=&quot;Profile Picture&quot;&gt;\r\n\r\nOr if you prefer regular String concatenation.\r\n\r\n    &lt;img th:src=&quot;&#39;data:image/jpeg;base64,&#39;+ ${encodedImage}&quot; alt=&quot;Profile Picture&quot;&gt;\r\n    \r\n    or\r\n    \r\n    &lt;img th:src=&quot;${&#39;data:image/jpeg;base64,&#39;+ encodedImage}&quot; alt=&quot;Profile Picture&quot;&gt;\r\n\r\n\r\n  [1]: https://www.thymeleaf.org/doc/tutorials/3.1/usingthymeleaf.html#appending-texts","title":"Getting exceptions while trying to display encoded images with Thymeleaf (Java, Spring Boot)","body":"<p>You can't nest expressions like you are doing -- <code>*{ ... ${ ... } ... }</code> is not valid Thymeleaf syntax.  See the Thymeleaf documentation on <a href=\"https://www.thymeleaf.org/doc/tutorials/3.1/usingthymeleaf.html#appending-texts\" rel=\"nofollow noreferrer\">appending texts</a>.  In most cases, literal substitutions I think are most expressive.</p>\n<pre><code>&lt;img th:src=&quot;|data:image/jpeg;base64,${encodedImage}|&quot; alt=&quot;Profile Picture&quot;&gt;\n</code></pre>\n<p>Or if you prefer regular String concatenation.</p>\n<pre><code>&lt;img th:src=&quot;'data:image/jpeg;base64,'+ ${encodedImage}&quot; alt=&quot;Profile Picture&quot;&gt;\n\nor\n\n&lt;img th:src=&quot;${'data:image/jpeg;base64,'+ encodedImage}&quot; alt=&quot;Profile Picture&quot;&gt;\n</code></pre>\n"}],"owner":{"account_id":25196975,"reputation":29,"user_id":19036367,"display_name":"no way"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76191259,"answer_count":1,"score":1,"last_activity_date":1683408916,"creation_date":1683399701,"question_id":76190618,"body_markdown":"So, i have a form that allows user to upload an image, which will be encoded with IOUtils.toByteArray and persisted to a database as a bytea. In a controller method i get this byte array and encode it to string:\r\n\r\n    @GetMapping(&quot;/{user_id}&quot;)\r\n    public String view(@PathVariable(&quot;user_id&quot;) Long user_id, Model model) {\r\n        User user = userService.getById(user_id);\r\n        model.addAttribute(&quot;user&quot;, user);\r\n        byte[] profilePictureBytes = user.getProfilePicture();\r\n\r\n        if (profilePictureBytes != null) {\r\n            String encodedImage = Base64.getEncoder().encodeToString(profilePictureBytes);\r\n            model.addAttribute(&quot;encodedImage&quot;, encodedImage);\r\n        }\r\n        return &quot;user-page&quot;;\r\n    }\r\n\r\nOn a user-page html file i try to decode it like this:\r\n\r\n    &lt;img th:src=&quot;*{&#39;data:image/jpeg;base64,&#39;+ ${encodedImage}}&quot; alt=&quot;Profile Picture&quot;&gt;\r\n\r\nbut it keeps throwing the same 2 exceptions:\r\n\r\n    org.thymeleaf.exceptions.TemplateProcessingException: Exception evaluating SpringEL expression: &quot;&#39;data:image/jpeg;base64,&#39;+ ${encodedImage}&quot; (template: &quot;user-page&quot; - line 27, col 6\r\n\r\n    org.springframework.expression.spel.SpelParseException: EL1041E: After parsing a valid expression, there is still more data in the expression: &#39;lcurly({)&#39;\r\n\r\nWhile debugging, the &quot;encodedImage&quot; variable prints out a correct string, so the problem must be within my Thymeleaf syntax.\r\n\r\nWould be really grateful if someone could give me a hand with this one.","title":"Getting exceptions while trying to display encoded images with Thymeleaf (Java, Spring Boot)","body":"<p>So, i have a form that allows user to upload an image, which will be encoded with IOUtils.toByteArray and persisted to a database as a bytea. In a controller method i get this byte array and encode it to string:</p>\n<pre><code>@GetMapping(&quot;/{user_id}&quot;)\npublic String view(@PathVariable(&quot;user_id&quot;) Long user_id, Model model) {\n    User user = userService.getById(user_id);\n    model.addAttribute(&quot;user&quot;, user);\n    byte[] profilePictureBytes = user.getProfilePicture();\n\n    if (profilePictureBytes != null) {\n        String encodedImage = Base64.getEncoder().encodeToString(profilePictureBytes);\n        model.addAttribute(&quot;encodedImage&quot;, encodedImage);\n    }\n    return &quot;user-page&quot;;\n}\n</code></pre>\n<p>On a user-page html file i try to decode it like this:</p>\n<pre><code>&lt;img th:src=&quot;*{'data:image/jpeg;base64,'+ ${encodedImage}}&quot; alt=&quot;Profile Picture&quot;&gt;\n</code></pre>\n<p>but it keeps throwing the same 2 exceptions:</p>\n<pre><code>org.thymeleaf.exceptions.TemplateProcessingException: Exception evaluating SpringEL expression: &quot;'data:image/jpeg;base64,'+ ${encodedImage}&quot; (template: &quot;user-page&quot; - line 27, col 6\n\norg.springframework.expression.spel.SpelParseException: EL1041E: After parsing a valid expression, there is still more data in the expression: 'lcurly({)'\n</code></pre>\n<p>While debugging, the &quot;encodedImage&quot; variable prints out a correct string, so the problem must be within my Thymeleaf syntax.</p>\n<p>Would be really grateful if someone could give me a hand with this one.</p>\n"},{"tags":["java","exception","types","constructor","constructor-overloading"],"answers":[{"tags":[],"owner":{"account_id":13947240,"reputation":131,"user_id":10071696,"display_name":"H.Syd"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1683407205,"creation_date":1683407205,"answer_id":76191147,"question_id":76191080,"body_markdown":"You need to put an &quot;f&quot; behind a float and an &quot;l&quot; behind a long, so that java knows what type constructor you actually want. It does not know, whether 2.33 is supposed to be a double or a float. Therefore you need to specify it in this case.\r\n\r\nThis is correct:\r\n\r\n    Test ob = new Test(1l, 2, 4.14); //fixed //Line5\r\n    Test ob1 = new Test(1, 2.33f, 4.14); //fixed //Line6","title":"Constructor parameter with int and long or double and float throwing error","body":"<p>You need to put an &quot;f&quot; behind a float and an &quot;l&quot; behind a long, so that java knows what type constructor you actually want. It does not know, whether 2.33 is supposed to be a double or a float. Therefore you need to specify it in this case.</p>\n<p>This is correct:</p>\n<pre><code>Test ob = new Test(1l, 2, 4.14); //fixed //Line5\nTest ob1 = new Test(1, 2.33f, 4.14); //fixed //Line6\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23428052,"reputation":6895,"user_id":17487348,"display_name":"Mushroomator"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683407641,"creation_date":1683407641,"answer_id":76191164,"question_id":76191080,"body_markdown":"Numbers without any postfix are assumed to be integers. If it&#39;s a decimal number the compiler assumes it&#39;s a `double` so what you tell the compiler is you want to call the constructor `Test(int, int, double)` which does not exist. \r\n\r\nNow if you were to have only one constructor e.g. `Test(long, f, double)` the compiler would automatically do the type casts for you. However, since you have many constructors, multiple conversions are possible and the compiler does not know which one to pick, hence the error message.\r\n\r\nYou now have to tell it which data types your numbers actually are.\r\n\r\nUse `L` as postfix to denote a long, use `F` to denote a float and `D` to denote `double`. \r\n\r\nSo e.g. you could call:\r\n- `new Test(1L, 2, 4.14)` or\r\n- `new Test(1, 2F, 4.14)` or\r\n- `new Test(1, 2D, 4.14F)`\r\n- ...\r\n\r\n&gt; Have a look at the [Docs for Primitive data types](https://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html).","title":"Constructor parameter with int and long or double and float throwing error","body":"<p>Numbers without any postfix are assumed to be integers. If it's a decimal number the compiler assumes it's a <code>double</code> so what you tell the compiler is you want to call the constructor <code>Test(int, int, double)</code> which does not exist.</p>\n<p>Now if you were to have only one constructor e.g. <code>Test(long, f, double)</code> the compiler would automatically do the type casts for you. However, since you have many constructors, multiple conversions are possible and the compiler does not know which one to pick, hence the error message.</p>\n<p>You now have to tell it which data types your numbers actually are.</p>\n<p>Use <code>L</code> as postfix to denote a long, use <code>F</code> to denote a float and <code>D</code> to denote <code>double</code>.</p>\n<p>So e.g. you could call:</p>\n<ul>\n<li><code>new Test(1L, 2, 4.14)</code> or</li>\n<li><code>new Test(1, 2F, 4.14)</code> or</li>\n<li><code>new Test(1, 2D, 4.14F)</code></li>\n<li>...</li>\n</ul>\n<blockquote>\n<p>Have a look at the <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html\" rel=\"nofollow noreferrer\">Docs for Primitive data types</a>.</p>\n</blockquote>\n"}],"owner":{"account_id":12920207,"reputation":21,"user_id":9342976,"display_name":"user9342976"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76191147,"answer_count":2,"score":1,"last_activity_date":1683407867,"creation_date":1683406316,"question_id":76191080,"body_markdown":"I am trying to implement constructor overloading by using int and long together and double and float together. I am passing two int values from main method and want to check which constructor gets called A(int, long) or A(long, int). I am passing two double values from main method and want to check which construcotr gets called A(double, float) or A(float, double).\r\n\r\nIn Line5, I am passing values to the constructors in Line1 and Line2 and in Line6, I am passing values to the constructors in Line3 and Line4. While compiling and executing this code, constructor is ambiguous is showing for Line5 and constructor is undefined is showing for Line6.\r\n\r\n***CODE:***\r\n```\r\nimport java.util.*;\r\n\r\npublic class Test {\r\n    \r\n    public Test(long i, int f, double d) { //Line1\r\n        System.out.println(&quot;L i d&quot;);\r\n    }\r\n    \r\n    public Test(int i, long d, double f) { //Line2 \r\n        System.out.println(&quot;i L f&quot;);\r\n    }\r\n    \r\n    public Test(int i, float f, double d) { //Line3\r\n        System.out.println(&quot;i f d&quot;);\r\n    }\r\n    \r\n    public Test(int i, double d, float f) { //Line4\r\n        System.out.println(&quot;i d f&quot;);\r\n    }\r\n    \r\n    public static void main(String[] args) {\r\n        Test ob = new Test(1, 2, 4.14); //showing compilation error //Line5\r\n        Test ob1 = new Test(1, 2.33, 4.14); //showing compilation error //Line6\r\n    }\r\n}\r\n```\r\n**OUTPUT:**\r\n```\r\nException in thread &quot;main&quot; java.lang.Error: Unresolved compilation problems: \r\n    The constructor Test(long, int, double) is ambiguous\r\n    The constructor Test(int, double, double) is undefined\r\n```\r\n\r\nPlease tell me:\r\n1. Is there any name that represents this problem\r\n2. What is the solution to this problem","title":"Constructor parameter with int and long or double and float throwing error","body":"<p>I am trying to implement constructor overloading by using int and long together and double and float together. I am passing two int values from main method and want to check which constructor gets called A(int, long) or A(long, int). I am passing two double values from main method and want to check which construcotr gets called A(double, float) or A(float, double).</p>\n<p>In Line5, I am passing values to the constructors in Line1 and Line2 and in Line6, I am passing values to the constructors in Line3 and Line4. While compiling and executing this code, constructor is ambiguous is showing for Line5 and constructor is undefined is showing for Line6.</p>\n<p><em><strong>CODE:</strong></em></p>\n<pre><code>import java.util.*;\n\npublic class Test {\n    \n    public Test(long i, int f, double d) { //Line1\n        System.out.println(&quot;L i d&quot;);\n    }\n    \n    public Test(int i, long d, double f) { //Line2 \n        System.out.println(&quot;i L f&quot;);\n    }\n    \n    public Test(int i, float f, double d) { //Line3\n        System.out.println(&quot;i f d&quot;);\n    }\n    \n    public Test(int i, double d, float f) { //Line4\n        System.out.println(&quot;i d f&quot;);\n    }\n    \n    public static void main(String[] args) {\n        Test ob = new Test(1, 2, 4.14); //showing compilation error //Line5\n        Test ob1 = new Test(1, 2.33, 4.14); //showing compilation error //Line6\n    }\n}\n</code></pre>\n<p><strong>OUTPUT:</strong></p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.Error: Unresolved compilation problems: \n    The constructor Test(long, int, double) is ambiguous\n    The constructor Test(int, double, double) is undefined\n</code></pre>\n<p>Please tell me:</p>\n<ol>\n<li>Is there any name that represents this problem</li>\n<li>What is the solution to this problem</li>\n</ol>\n"},{"tags":["java","android","android-studio","android-studio-3.0"],"comments":[{"owner":{"account_id":10587710,"reputation":2772,"user_id":7799462,"display_name":"Halil Ozel"},"score":0,"creation_date":1683402526,"post_id":76190790,"comment_id":134362376,"body_markdown":"You should share your xml files.","body":"You should share your xml files."},{"owner":{"account_id":28530456,"reputation":5,"user_id":21837947,"display_name":"ItzBaturalp Plays"},"score":0,"creation_date":1683403266,"post_id":76190790,"comment_id":134362464,"body_markdown":"Alright Ill edit it with the xml files","body":"Alright Ill edit it with the xml files"},{"owner":{"account_id":10587710,"reputation":2772,"user_id":7799462,"display_name":"Halil Ozel"},"score":0,"creation_date":1683403771,"post_id":76190790,"comment_id":134362539,"body_markdown":"Where are your xml files? You didn&#39;t add this question.","body":"Where are your xml files? You didn&#39;t add this question."},{"owner":{"account_id":28530456,"reputation":5,"user_id":21837947,"display_name":"ItzBaturalp Plays"},"score":0,"creation_date":1683404454,"post_id":76190790,"comment_id":134362635,"body_markdown":"Ill edit rn Im new to stackoverflow so trying to learn how to use it","body":"Ill edit rn Im new to stackoverflow so trying to learn how to use it"},{"owner":{"account_id":10587710,"reputation":2772,"user_id":7799462,"display_name":"Halil Ozel"},"score":0,"creation_date":1683404575,"post_id":76190790,"comment_id":134362654,"body_markdown":"I added my answer you can check this solution.","body":"I added my answer you can check this solution."}],"answers":[{"tags":[],"owner":{"account_id":10587710,"reputation":2772,"user_id":7799462,"display_name":"Halil Ozel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1683407154,"creation_date":1683404214,"answer_id":76190943,"question_id":76190790,"body_markdown":"For activities to work correctly, you must remember to add them.\r\n\r\nYou should add `OyunBitti` in `AndroidManifest.xml`.\r\n\r\nLike this:\r\n\r\n```xml\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\r\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/Theme.AppCompat.Light.NoActionBar.FullScreen&quot;\r\n        tools:targetApi=&quot;31&quot;&gt;\r\n        &lt;activity\r\n            android:name=&quot;.OyunBitti&quot;\r\n            android:exported=&quot;false&quot; /&gt;\r\n        &lt;activity\r\n            android:name=&quot;.OyunBasladi&quot;\r\n            android:exported=&quot;false&quot; /&gt;\r\n        &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n    &lt;/application&gt;\r\n\r\n&lt;/manifest&gt;\r\n```","title":"How do I solve &quot;Could not execute method for android :onClick","body":"<p>For activities to work correctly, you must remember to add them.</p>\n<p>You should add <code>OyunBitti</code> in <code>AndroidManifest.xml</code>.</p>\n<p>Like this:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\n\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/Theme.AppCompat.Light.NoActionBar.FullScreen&quot;\n        tools:targetApi=&quot;31&quot;&gt;\n        &lt;activity\n            android:name=&quot;.OyunBitti&quot;\n            android:exported=&quot;false&quot; /&gt;\n        &lt;activity\n            android:name=&quot;.OyunBasladi&quot;\n            android:exported=&quot;false&quot; /&gt;\n        &lt;activity\n            android:name=&quot;.MainActivity&quot;\n            android:exported=&quot;true&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n"}],"owner":{"account_id":28530456,"reputation":5,"user_id":21837947,"display_name":"ItzBaturalp Plays"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":258,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76190943,"answer_count":1,"score":0,"last_activity_date":1683407154,"creation_date":1683402155,"question_id":76190790,"body_markdown":"I&#39;m trying to do an geography quiz app but I keep getting this problem.\r\n\r\nThis is the error I&#39;m getting from the logcat. The first page opens but the moment I click start it closes the app.\r\n\r\n&gt; FATAL EXCEPTION: main                                                 \r\n&gt; Process: com.example.hangilkebu, PID: 29267                           \r\n&gt; java.lang.IllegalStateException: Could not execute method for\r\n&gt; android:onClick                                                       \r\n&gt; \tat\r\n&gt; androidx.appcompat.app.AppCompatViewInflater$DeclaredOnClickListener.onClick(AppCompatViewInflater.java:473)\r\n&gt; \tat android.view.View.performClick(View.java:8160)                    \r\n&gt; \tat android.view.View.performClickInternal(View.java:8137)            \r\n&gt; \tat android.view.View.access$3700(View.java:888)                      \r\n&gt; \tat android.view.View$PerformClick.run(View.java:30236)               \r\n&gt; \tat android.os.Handler.handleCallback(Handler.java:938)               \r\n&gt; \tat android.os.Handler.dispatchMessage(Handler.java:99)               \r\n&gt; \tat android.os.Looper.loop(Looper.java:246)                           \r\n&gt; \tat android.app.ActivityThread.main(ActivityThread.java:8595)         \r\n&gt; \tat java.lang.reflect.Method.invoke(Native Method)                    \r\n&gt; \tat\r\n&gt; com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:602)\r\n&gt; \tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1130)     \r\n&gt; Caused by: java.lang.reflect.InvocationTargetException                \r\n&gt; \tat java.lang.reflect.Method.invoke(Native Method)                    \r\n&gt; \tat\r\n&gt; androidx.appcompat.app.AppCompatViewInflater$DeclaredOnClickListener.onClick(AppCompatViewInflater.java:468)\r\n&gt; \tat android.view.View.performClick(View.java:8160)&#160;                   \r\n&gt; \tat android.view.View.performClickInternal(View.java:8137)&#160;           \r\n&gt; \tat android.view.View.access$3700(View.java:888)&#160;                     \r\n&gt; \tat android.view.View$PerformClick.run(View.java:30236)&#160;              \r\n&gt; \tat android.os.Handler.handleCallback(Handler.java:938)&#160;              \r\n&gt; \tat android.os.Handler.dispatchMessage(Handler.java:99)&#160;              \r\n&gt; \tat android.os.Looper.loop(Looper.java:246)&#160;                          \r\n&gt; \tat android.app.ActivityThread.main(ActivityThread.java:8595)&#160;        \r\n&gt; \tat java.lang.reflect.Method.invoke(Native Method)&#160;                   \r\n&gt; \tat\r\n&gt; com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:602)&#160;\r\n&gt; \tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1130)&#160;    \r\n&gt; Caused by: android.content.ActivityNotFoundException: Unable to find\r\n&gt; explicit activity class\r\n&gt; {com.example.hangilkebu/com.example.hangilkebu.OyunBasladi}; have you\r\n&gt; declared this activity in your AndroidManifest.xml?                   \r\n&gt; \tat\r\n&gt; android.app.Instrumentation.checkStartActivityResult(Instrumentation.java:2078)\r\n&gt; \tat\r\n&gt; android.app.Instrumentation.execStartActivity(Instrumentation.java:1727)\r\n&gt; \tat android.app.Activity.startActivityForResult(Activity.java:5377)   \r\n&gt; \tat\r\n&gt; androidx.activity.ComponentActivity.startActivityForResult(ComponentActivity.java:728)\r\n&gt; \tat android.app.Activity.startActivityForResult(Activity.java:5335)   \r\n&gt; \tat\r\n&gt; androidx.activity.ComponentActivity.startActivityForResult(ComponentActivity.java:709)\r\n&gt; \tat android.app.Activity.startActivity(Activity.java:5721)            \r\n&gt; \tat android.app.Activity.startActivity(Activity.java:5674)            \r\n&gt; \tat\r\n&gt; com.example.hangilkebu.MainActivity.startGame(MainActivity.java:21)   \r\n&gt; \tat java.lang.reflect.Method.invoke(Native Method)&#160;                   \r\n&gt; \tat\r\n&gt; androidx.appcompat.app.AppCompatViewInflater$DeclaredOnClickListener.onClick(AppCompatViewInflater.java:468)&#160;\r\n&gt; \tat android.view.View.performClick(View.java:8160)&#160;                   \r\n&gt; \tat android.view.View.performClickInternal(View.java:8137)&#160;           \r\n&gt; \tat android.view.View.access$3700(View.java:888)&#160;                     \r\n&gt; \tat android.view.View$PerformClick.run(View.java:30236)&#160;              \r\n&gt; \tat android.os.Handler.handleCallback(Handler.java:938)&#160;              \r\n&gt; \tat android.os.Handler.dispatchMessage(Handler.java:99)&#160;              \r\n&gt; \tat android.os.Looper.loop(Looper.java:246)&#160;                          \r\n&gt; \tat android.app.ActivityThread.main(ActivityThread.java:8595)&#160;        \r\n&gt; \tat java.lang.reflect.Method.invoke(Native Method)&#160;                   \r\n&gt; \tat\r\n&gt; com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:602)&#160;\r\n&gt; \tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1130)\r\n\r\n# Main Activity\r\n\r\nThis page starts when you start the app. I think the mistake mighg be here?\r\n\r\n```java\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\n\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n    }\r\n\r\n    public void startGame (View view){\r\n        Intent intent = new Intent(MainActivity.this, OyunBasladi.class);\r\n        startActivity(intent);\r\n        finish();\r\n    }\r\n}\r\n```\r\n\r\n# Start Game\r\n\r\nThis is the part where it crashes. I click play in the first page and it&#39;s supposed to take me here. Maybe this part has the flaw.\r\n\r\n```java\r\nimport android.content.Intent;\r\nimport android.graphics.Color;\r\nimport android.os.Bundle;\r\nimport android.os.CountDownTimer;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.ImageView;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.annotation.Nullable;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.Collections;\r\nimport java.util.HashMap;\r\n\r\npublic class OyunBasladi extends AppCompatActivity {\r\n    TextView tvTimer;\r\n    TextView tvResult;\r\n    ImageView ivShowImage;\r\n    HashMap&lt;String, Integer&gt; map = new HashMap&lt;&gt;();\r\n    ArrayList&lt;String&gt; techList = new ArrayList&lt;&gt;();\r\n    int index;\r\n    Button btn1, btn2, btn3, btn4;\r\n    TextView tvPoints;\r\n    int points;\r\n    CountDownTimer countDownTimer;\r\n    long millisUntilFinished;\r\n\r\n    @Override\r\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_soru1);\r\n        tvTimer = findViewById(R.id.tvTimer);\r\n        tvResult = findViewById(R.id.tvResult);\r\n        ivShowImage = findViewById(R.id.ivShowImage);\r\n        btn1 = findViewById(R.id.btn1);\r\n        btn2 = findViewById(R.id.btn2);\r\n        btn3 = findViewById(R.id.btn3);\r\n        btn4 = findViewById(R.id.btn4);\r\n        tvPoints = findViewById(R.id.tvPoints);\r\n\r\n        index = 0;\r\n\r\n        techList.add(&quot;&#199;in&quot;);\r\n        techList.add(&quot;T&#252;rkiye&quot;);\r\n        techList.add(&quot;Rusya&quot;);\r\n        techList.add(&quot;D.Kongo Cumhuriyeti&quot;);\r\n        techList.add(&quot;Mısır&quot;);\r\n        techList.add(&quot;Kazakistan&quot;);\r\n        techList.add(&quot;St. Lucia&quot;);\r\n        techList.add(&quot;Trinidad ve Tobago&quot;);\r\n        techList.add(&quot;İsvi&#231;re&quot;);\r\n        techList.add(&quot;L&#252;ksemburg&quot;);\r\n        techList.add(&quot;Tonga&quot;);\r\n        techList.add(&quot;Filipinler&quot;);\r\n        techList.add(&quot;Guyana&quot;);\r\n        techList.add(&quot;Guatemala&quot;);\r\n        techList.add(&quot;ABD&quot;);\r\n        techList.add(&quot;Kanada&quot;);\r\n        techList.add(&quot;Peru&quot;);\r\n        techList.add(&quot;Burundi&quot;);\r\n\r\n        map.put(techList.get(0), R.drawable.cin);\r\n        map.put(techList.get(1), R.drawable.turkiye);\r\n        map.put(techList.get(2), R.drawable.rusya);\r\n        map.put(techList.get(3), R.drawable.dkongocumhuriyeti);\r\n        map.put(techList.get(4), R.drawable.misir);\r\n        map.put(techList.get(5), R.drawable.kazakistan);\r\n        map.put(techList.get(6), R.drawable.stlucia);\r\n        map.put(techList.get(7), R.drawable.trinidadvetobago);\r\n        map.put(techList.get(8), R.drawable.isvicre);\r\n        map.put(techList.get(9), R.drawable.luksemburg);\r\n        map.put(techList.get(10), R.drawable.tonga);\r\n        map.put(techList.get(11), R.drawable.filipinler);\r\n        map.put(techList.get(12), R.drawable.guyana);\r\n        map.put(techList.get(13), R.drawable.guatemala);\r\n        map.put(techList.get(14), R.drawable.abd);\r\n        map.put(techList.get(15), R.drawable.kanada);\r\n        map.put(techList.get(16), R.drawable.peru);\r\n        map.put(techList.get(17), R.drawable.burundi);\r\n\r\n        Collections.shuffle(techList);\r\n\r\n        millisUntilFinished = 10000;\r\n\r\n        points = 0;\r\n\r\n        startGame();\r\n    }\r\n\r\n    private void startGame() {\r\n\r\n        millisUntilFinished = 10000;\r\n\r\n        tvTimer.setText(&quot;&quot; + (millisUntilFinished / 1000) + &quot;s&quot;);\r\n        tvPoints.setText(points + &quot; / &quot; + techList.size());\r\n\r\n        generateQuestions(index);\r\n\r\n        countDownTimer = new CountDownTimer(millisUntilFinished, 1000) {\r\n            @Override\r\n            public void onTick(long millisUntilFinished) {\r\n                tvTimer.setText(&quot;&quot; + (millisUntilFinished / 1000) + &quot;s&quot;);\r\n            }\r\n\r\n            @Override\r\n            public void onFinish() {\r\n                index++;\r\n                if (index &gt; techList.size() - 1){\r\n                    ivShowImage.setVisibility(View.GONE);\r\n                    btn1.setVisibility(View.GONE);\r\n                    btn2.setVisibility(View.GONE);\r\n                    btn3.setVisibility(View.GONE);\r\n                    btn4.setVisibility(View.GONE);\r\n                    Intent intent = new Intent(OyunBasladi.this, OyunBitti.class);\r\n                    intent.putExtra(&quot;points&quot;, points);\r\n                    startActivity(intent);\r\n                    finish();\r\n                }\r\n                else {\r\n                    countDownTimer = null;\r\n                    startGame();\r\n                }\r\n            }\r\n        }.start();\r\n    }\r\n\r\n    private void generateQuestions(int index) {\r\n        ArrayList&lt;String&gt; techListTemp = (ArrayList&lt;String&gt;) techList.clone();\r\n        String correctAnswer = techList.get(index);\r\n        techListTemp.remove(correctAnswer);\r\n        Collections.shuffle(techListTemp);\r\n        ArrayList&lt;String&gt; newList = new ArrayList&lt;&gt;();\r\n        newList.add(techListTemp.get(0));\r\n        newList.add(techListTemp.get(1));\r\n        newList.add(techListTemp.get(2));\r\n        newList.add(correctAnswer);\r\n        Collections.shuffle(newList);\r\n        btn1.setText(newList.get(0));\r\n        btn2.setText(newList.get(1));\r\n        btn3.setText(newList.get(2));\r\n        btn4.setText(newList.get(3));\r\n        ivShowImage.setImageResource(map.get(techList.get(index)));\r\n    }\r\n\r\n    public void nextQuestion(View view) {\r\n        btn1.setBackgroundColor(Color.parseColor(&quot;#2196f3&quot;));\r\n        btn2.setBackgroundColor(Color.parseColor(&quot;#2196f3&quot;));\r\n        btn3.setBackgroundColor(Color.parseColor(&quot;#2196f3&quot;));\r\n        btn4.setBackgroundColor(Color.parseColor(&quot;#2196f3&quot;));\r\n        btn1.setEnabled(true);\r\n        btn2.setEnabled(true);\r\n        btn3.setEnabled(true);\r\n        btn4.setEnabled(true);\r\n        countDownTimer.cancel();\r\n        index++;\r\n        if (index &gt; techList.size() - 1){\r\n            ivShowImage.setVisibility(View.GONE);\r\n            btn1.setVisibility(View.GONE);\r\n            btn2.setVisibility(View.GONE);\r\n            btn3.setVisibility(View.GONE);\r\n            btn4.setVisibility(View.GONE);\r\n            Intent intent = new Intent(OyunBasladi.this, OyunBitti.class);\r\n            intent.putExtra(&quot;points&quot;, points);\r\n            startActivity(intent);\r\n            finish();\r\n        }\r\n        else\r\n        {\r\n            countDownTimer = null;\r\n            startGame();\r\n        }\r\n    }\r\n\r\n    public void answerSelected(View view) {\r\n        view.setBackgroundColor(Color.parseColor(&quot;#17243e&quot;));\r\n        btn1.setEnabled(false);\r\n        btn2.setEnabled(false);\r\n        btn3.setEnabled(false);\r\n        btn4.setEnabled(false);\r\n        countDownTimer.cancel();\r\n        String answer = ((Button) view).getText().toString().trim();\r\n        String correctAnswer = techList.get(index);\r\n        if(answer.equals(correctAnswer)){\r\n            points++;\r\n            tvPoints.setText(points + &quot; / &quot; + techList.size());\r\n            tvResult.setText(&quot;Doğru&quot;);\r\n        }\r\n        else\r\n        {\r\n            tvResult.setText(&quot;Yanlış&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n# Finish Game\r\n\r\nCodes for the game where after you answered all the questions it will take you here. I think this has the least chance of the mistake but Im still putting it here.\r\n\r\n```java\r\nimport android.content.Intent;\r\nimport android.content.SharedPreferences;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.annotation.Nullable;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\npublic class OyunBitti extends AppCompatActivity {\r\n\r\n    TextView tvPoints, tvPersonalBest;\r\n    SharedPreferences sharedPreferences;\r\n    @Override\r\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_oyun_bitti);\r\n        int points = getIntent().getExtras().getInt(&quot;points&quot;);\r\n        tvPoints = findViewById(R.id.tvPoints);\r\n        tvPersonalBest = findViewById(R.id.tvPersonalBest);\r\n        tvPoints.setText(&quot;&quot; + points);\r\n        sharedPreferences = getSharedPreferences(&quot;pref&quot;, 0);\r\n        int pointsSP = sharedPreferences.getInt(&quot;pointsSP&quot;, 0);\r\n        SharedPreferences.Editor editor = sharedPreferences.edit();\r\n        if(points &gt; pointsSP){\r\n            pointsSP = points;\r\n            editor.putInt(&quot;pointsSP&quot;, pointsSP);\r\n            editor.commit();\r\n        }\r\n        // Set tvPersonalBest with the value of pointsSP\r\n        tvPersonalBest.setText(&quot;&quot; + pointsSP);\r\n    }\r\n\r\n    public void restart(View view) {\r\n        Intent intent = new Intent(OyunBitti.this, OyunBasladi.class);\r\n        startActivity(intent);\r\n        finish();\r\n    }\r\n\r\n    public void exit(View view) {\r\n        finish();\r\n    }\r\n}\r\n```\r\n# Manifest XML \r\n\r\n```xml\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\r\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/Theme.AppCompat.Light.NoActionBar.FullScreen&quot;\r\n        tools:targetApi=&quot;31&quot;&gt;\r\n        &lt;activity\r\n            android:name=&quot;.OyunBasladi&quot;\r\n            android:exported=&quot;false&quot; /&gt;\r\n        &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n    &lt;/application&gt;\r\n\r\n&lt;/manifest&gt;\r\n```\r\n\r\n# Main Activity XML\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    android:orientation=&quot;vertical&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:background=&quot;#e8f4f8&quot;\r\n    android:gravity=&quot;center&quot;\r\n    android:padding=&quot;16dp&quot;&gt;\r\n\r\n    &lt;LinearLayout\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:orientation=&quot;horizontal&quot;&gt;\r\n        &lt;ImageButton\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:background=&quot;@drawable/yenidenoyna&quot;\r\n            android:onClick=&quot;restart&quot; /&gt;\r\n\r\n        &lt;View\r\n            android:layout_width=&quot;0dp&quot;\r\n            android:layout_height=&quot;0dp&quot;\r\n            android:layout_weight=&quot;1&quot; /&gt;\r\n        &lt;ImageButton\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:background=&quot;@drawable/cik&quot;\r\n            android:onClick=&quot;exit&quot; /&gt;\r\n    &lt;/LinearLayout&gt;\r\n\r\n    &lt;View\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;0dp&quot;\r\n        android:layout_weight=&quot;1&quot; /&gt;\r\n\r\n    &lt;LinearLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:gravity=&quot;center&quot;\r\n        android:orientation=&quot;vertical&quot;&gt;\r\n        &lt;LinearLayout\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:gravity=&quot;center&quot;\r\n            android:orientation=&quot;horizontal&quot;&gt;\r\n            &lt;TextView\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_weight=&quot;1&quot;\r\n                android:text=&quot;Puan: &quot;\r\n                android:textColor=&quot;#0b80a7&quot;\r\n                android:textSize=&quot;30sp&quot; /&gt;\r\n            &lt;TextView\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:id=&quot;@+id/tvPoints&quot;\r\n                android:layout_weight=&quot;1&quot;\r\n                android:textColor=&quot;@android:color/holo_green_light&quot;\r\n                android:textSize=&quot;60sp&quot; /&gt;\r\n        &lt;/LinearLayout&gt;\r\n        &lt;LinearLayout\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:gravity=&quot;center&quot;\r\n            android:orientation=&quot;horizontal&quot;&gt;\r\n            &lt;TextView\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_weight=&quot;1&quot;\r\n                android:text=&quot;En iyi puan: &quot;\r\n                android:textColor=&quot;#0b80a7&quot;\r\n                android:textSize=&quot;30sp&quot; /&gt;\r\n            &lt;TextView\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:id=&quot;@+id/tvPersonalBest&quot;\r\n                android:layout_weight=&quot;1&quot;\r\n                android:textColor=&quot;#ff6000&quot;\r\n                android:textSize=&quot;30sp&quot; /&gt;\r\n        &lt;/LinearLayout&gt;\r\n    &lt;/LinearLayout&gt;\r\n\r\n\r\n    &lt;ImageView\r\n        android:layout_width=&quot;234dp&quot;\r\n        android:layout_height=&quot;129dp&quot;\r\n        android:layout_marginTop=&quot;5dp&quot;\r\n        app:srcCompat=&quot;@drawable/oyunbitti&quot; /&gt;\r\n\r\n    &lt;View\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;0dp&quot;\r\n        android:layout_marginBottom=&quot;64dp&quot;\r\n        android:layout_weight=&quot;1&quot; /&gt;\r\n\r\n&lt;/LinearLayout&gt;\r\n```","title":"How do I solve &quot;Could not execute method for android :onClick","body":"<p>I'm trying to do an geography quiz app but I keep getting this problem.</p>\n<p>This is the error I'm getting from the logcat. The first page opens but the moment I click start it closes the app.</p>\n<blockquote>\n<p>FATAL EXCEPTION: main<br />\nProcess: com.example.hangilkebu, PID: 29267<br />\njava.lang.IllegalStateException: Could not execute method for\nandroid:onClick<br />\nat\nandroidx.appcompat.app.AppCompatViewInflater$DeclaredOnClickListener.onClick(AppCompatViewInflater.java:473)\nat android.view.View.performClick(View.java:8160)<br />\nat android.view.View.performClickInternal(View.java:8137)<br />\nat android.view.View.access$3700(View.java:888)<br />\nat android.view.View$PerformClick.run(View.java:30236)<br />\nat android.os.Handler.handleCallback(Handler.java:938)<br />\nat android.os.Handler.dispatchMessage(Handler.java:99)<br />\nat android.os.Looper.loop(Looper.java:246)<br />\nat android.app.ActivityThread.main(ActivityThread.java:8595)<br />\nat java.lang.reflect.Method.invoke(Native Method)<br />\nat\ncom.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:602)\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1130)<br />\nCaused by: java.lang.reflect.InvocationTargetException<br />\nat java.lang.reflect.Method.invoke(Native Method)<br />\nat\nandroidx.appcompat.app.AppCompatViewInflater$DeclaredOnClickListener.onClick(AppCompatViewInflater.java:468)\nat android.view.View.performClick(View.java:8160) <br />\nat android.view.View.performClickInternal(View.java:8137) <br />\nat android.view.View.access$3700(View.java:888) <br />\nat android.view.View$PerformClick.run(View.java:30236) <br />\nat android.os.Handler.handleCallback(Handler.java:938) <br />\nat android.os.Handler.dispatchMessage(Handler.java:99) <br />\nat android.os.Looper.loop(Looper.java:246) <br />\nat android.app.ActivityThread.main(ActivityThread.java:8595) <br />\nat java.lang.reflect.Method.invoke(Native Method) <br />\nat\ncom.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:602) \nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1130) <br />\nCaused by: android.content.ActivityNotFoundException: Unable to find\nexplicit activity class\n{com.example.hangilkebu/com.example.hangilkebu.OyunBasladi}; have you\ndeclared this activity in your AndroidManifest.xml?<br />\nat\nandroid.app.Instrumentation.checkStartActivityResult(Instrumentation.java:2078)\nat\nandroid.app.Instrumentation.execStartActivity(Instrumentation.java:1727)\nat android.app.Activity.startActivityForResult(Activity.java:5377)<br />\nat\nandroidx.activity.ComponentActivity.startActivityForResult(ComponentActivity.java:728)\nat android.app.Activity.startActivityForResult(Activity.java:5335)<br />\nat\nandroidx.activity.ComponentActivity.startActivityForResult(ComponentActivity.java:709)\nat android.app.Activity.startActivity(Activity.java:5721)<br />\nat android.app.Activity.startActivity(Activity.java:5674)<br />\nat\ncom.example.hangilkebu.MainActivity.startGame(MainActivity.java:21)<br />\nat java.lang.reflect.Method.invoke(Native Method) <br />\nat\nandroidx.appcompat.app.AppCompatViewInflater$DeclaredOnClickListener.onClick(AppCompatViewInflater.java:468) \nat android.view.View.performClick(View.java:8160) <br />\nat android.view.View.performClickInternal(View.java:8137) <br />\nat android.view.View.access$3700(View.java:888) <br />\nat android.view.View$PerformClick.run(View.java:30236) <br />\nat android.os.Handler.handleCallback(Handler.java:938) <br />\nat android.os.Handler.dispatchMessage(Handler.java:99) <br />\nat android.os.Looper.loop(Looper.java:246) <br />\nat android.app.ActivityThread.main(ActivityThread.java:8595) <br />\nat java.lang.reflect.Method.invoke(Native Method) <br />\nat\ncom.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:602) \nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1130)</p>\n</blockquote>\n<h1>Main Activity</h1>\n<p>This page starts when you start the app. I think the mistake mighg be here?</p>\n<pre class=\"lang-java prettyprint-override\"><code>import androidx.appcompat.app.AppCompatActivity;\n\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.view.View;\n\n\npublic class MainActivity extends AppCompatActivity {\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n    }\n\n    public void startGame (View view){\n        Intent intent = new Intent(MainActivity.this, OyunBasladi.class);\n        startActivity(intent);\n        finish();\n    }\n}\n</code></pre>\n<h1>Start Game</h1>\n<p>This is the part where it crashes. I click play in the first page and it's supposed to take me here. Maybe this part has the flaw.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import android.content.Intent;\nimport android.graphics.Color;\nimport android.os.Bundle;\nimport android.os.CountDownTimer;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.ImageView;\nimport android.widget.TextView;\n\nimport androidx.annotation.Nullable;\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.HashMap;\n\npublic class OyunBasladi extends AppCompatActivity {\n    TextView tvTimer;\n    TextView tvResult;\n    ImageView ivShowImage;\n    HashMap&lt;String, Integer&gt; map = new HashMap&lt;&gt;();\n    ArrayList&lt;String&gt; techList = new ArrayList&lt;&gt;();\n    int index;\n    Button btn1, btn2, btn3, btn4;\n    TextView tvPoints;\n    int points;\n    CountDownTimer countDownTimer;\n    long millisUntilFinished;\n\n    @Override\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_soru1);\n        tvTimer = findViewById(R.id.tvTimer);\n        tvResult = findViewById(R.id.tvResult);\n        ivShowImage = findViewById(R.id.ivShowImage);\n        btn1 = findViewById(R.id.btn1);\n        btn2 = findViewById(R.id.btn2);\n        btn3 = findViewById(R.id.btn3);\n        btn4 = findViewById(R.id.btn4);\n        tvPoints = findViewById(R.id.tvPoints);\n\n        index = 0;\n\n        techList.add(&quot;Çin&quot;);\n        techList.add(&quot;Türkiye&quot;);\n        techList.add(&quot;Rusya&quot;);\n        techList.add(&quot;D.Kongo Cumhuriyeti&quot;);\n        techList.add(&quot;Mısır&quot;);\n        techList.add(&quot;Kazakistan&quot;);\n        techList.add(&quot;St. Lucia&quot;);\n        techList.add(&quot;Trinidad ve Tobago&quot;);\n        techList.add(&quot;İsviçre&quot;);\n        techList.add(&quot;Lüksemburg&quot;);\n        techList.add(&quot;Tonga&quot;);\n        techList.add(&quot;Filipinler&quot;);\n        techList.add(&quot;Guyana&quot;);\n        techList.add(&quot;Guatemala&quot;);\n        techList.add(&quot;ABD&quot;);\n        techList.add(&quot;Kanada&quot;);\n        techList.add(&quot;Peru&quot;);\n        techList.add(&quot;Burundi&quot;);\n\n        map.put(techList.get(0), R.drawable.cin);\n        map.put(techList.get(1), R.drawable.turkiye);\n        map.put(techList.get(2), R.drawable.rusya);\n        map.put(techList.get(3), R.drawable.dkongocumhuriyeti);\n        map.put(techList.get(4), R.drawable.misir);\n        map.put(techList.get(5), R.drawable.kazakistan);\n        map.put(techList.get(6), R.drawable.stlucia);\n        map.put(techList.get(7), R.drawable.trinidadvetobago);\n        map.put(techList.get(8), R.drawable.isvicre);\n        map.put(techList.get(9), R.drawable.luksemburg);\n        map.put(techList.get(10), R.drawable.tonga);\n        map.put(techList.get(11), R.drawable.filipinler);\n        map.put(techList.get(12), R.drawable.guyana);\n        map.put(techList.get(13), R.drawable.guatemala);\n        map.put(techList.get(14), R.drawable.abd);\n        map.put(techList.get(15), R.drawable.kanada);\n        map.put(techList.get(16), R.drawable.peru);\n        map.put(techList.get(17), R.drawable.burundi);\n\n        Collections.shuffle(techList);\n\n        millisUntilFinished = 10000;\n\n        points = 0;\n\n        startGame();\n    }\n\n    private void startGame() {\n\n        millisUntilFinished = 10000;\n\n        tvTimer.setText(&quot;&quot; + (millisUntilFinished / 1000) + &quot;s&quot;);\n        tvPoints.setText(points + &quot; / &quot; + techList.size());\n\n        generateQuestions(index);\n\n        countDownTimer = new CountDownTimer(millisUntilFinished, 1000) {\n            @Override\n            public void onTick(long millisUntilFinished) {\n                tvTimer.setText(&quot;&quot; + (millisUntilFinished / 1000) + &quot;s&quot;);\n            }\n\n            @Override\n            public void onFinish() {\n                index++;\n                if (index &gt; techList.size() - 1){\n                    ivShowImage.setVisibility(View.GONE);\n                    btn1.setVisibility(View.GONE);\n                    btn2.setVisibility(View.GONE);\n                    btn3.setVisibility(View.GONE);\n                    btn4.setVisibility(View.GONE);\n                    Intent intent = new Intent(OyunBasladi.this, OyunBitti.class);\n                    intent.putExtra(&quot;points&quot;, points);\n                    startActivity(intent);\n                    finish();\n                }\n                else {\n                    countDownTimer = null;\n                    startGame();\n                }\n            }\n        }.start();\n    }\n\n    private void generateQuestions(int index) {\n        ArrayList&lt;String&gt; techListTemp = (ArrayList&lt;String&gt;) techList.clone();\n        String correctAnswer = techList.get(index);\n        techListTemp.remove(correctAnswer);\n        Collections.shuffle(techListTemp);\n        ArrayList&lt;String&gt; newList = new ArrayList&lt;&gt;();\n        newList.add(techListTemp.get(0));\n        newList.add(techListTemp.get(1));\n        newList.add(techListTemp.get(2));\n        newList.add(correctAnswer);\n        Collections.shuffle(newList);\n        btn1.setText(newList.get(0));\n        btn2.setText(newList.get(1));\n        btn3.setText(newList.get(2));\n        btn4.setText(newList.get(3));\n        ivShowImage.setImageResource(map.get(techList.get(index)));\n    }\n\n    public void nextQuestion(View view) {\n        btn1.setBackgroundColor(Color.parseColor(&quot;#2196f3&quot;));\n        btn2.setBackgroundColor(Color.parseColor(&quot;#2196f3&quot;));\n        btn3.setBackgroundColor(Color.parseColor(&quot;#2196f3&quot;));\n        btn4.setBackgroundColor(Color.parseColor(&quot;#2196f3&quot;));\n        btn1.setEnabled(true);\n        btn2.setEnabled(true);\n        btn3.setEnabled(true);\n        btn4.setEnabled(true);\n        countDownTimer.cancel();\n        index++;\n        if (index &gt; techList.size() - 1){\n            ivShowImage.setVisibility(View.GONE);\n            btn1.setVisibility(View.GONE);\n            btn2.setVisibility(View.GONE);\n            btn3.setVisibility(View.GONE);\n            btn4.setVisibility(View.GONE);\n            Intent intent = new Intent(OyunBasladi.this, OyunBitti.class);\n            intent.putExtra(&quot;points&quot;, points);\n            startActivity(intent);\n            finish();\n        }\n        else\n        {\n            countDownTimer = null;\n            startGame();\n        }\n    }\n\n    public void answerSelected(View view) {\n        view.setBackgroundColor(Color.parseColor(&quot;#17243e&quot;));\n        btn1.setEnabled(false);\n        btn2.setEnabled(false);\n        btn3.setEnabled(false);\n        btn4.setEnabled(false);\n        countDownTimer.cancel();\n        String answer = ((Button) view).getText().toString().trim();\n        String correctAnswer = techList.get(index);\n        if(answer.equals(correctAnswer)){\n            points++;\n            tvPoints.setText(points + &quot; / &quot; + techList.size());\n            tvResult.setText(&quot;Doğru&quot;);\n        }\n        else\n        {\n            tvResult.setText(&quot;Yanlış&quot;);\n        }\n    }\n}\n</code></pre>\n<h1>Finish Game</h1>\n<p>Codes for the game where after you answered all the questions it will take you here. I think this has the least chance of the mistake but Im still putting it here.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import android.content.Intent;\nimport android.content.SharedPreferences;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.TextView;\n\nimport androidx.annotation.Nullable;\nimport androidx.appcompat.app.AppCompatActivity;\n\npublic class OyunBitti extends AppCompatActivity {\n\n    TextView tvPoints, tvPersonalBest;\n    SharedPreferences sharedPreferences;\n    @Override\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_oyun_bitti);\n        int points = getIntent().getExtras().getInt(&quot;points&quot;);\n        tvPoints = findViewById(R.id.tvPoints);\n        tvPersonalBest = findViewById(R.id.tvPersonalBest);\n        tvPoints.setText(&quot;&quot; + points);\n        sharedPreferences = getSharedPreferences(&quot;pref&quot;, 0);\n        int pointsSP = sharedPreferences.getInt(&quot;pointsSP&quot;, 0);\n        SharedPreferences.Editor editor = sharedPreferences.edit();\n        if(points &gt; pointsSP){\n            pointsSP = points;\n            editor.putInt(&quot;pointsSP&quot;, pointsSP);\n            editor.commit();\n        }\n        // Set tvPersonalBest with the value of pointsSP\n        tvPersonalBest.setText(&quot;&quot; + pointsSP);\n    }\n\n    public void restart(View view) {\n        Intent intent = new Intent(OyunBitti.this, OyunBasladi.class);\n        startActivity(intent);\n        finish();\n    }\n\n    public void exit(View view) {\n        finish();\n    }\n}\n</code></pre>\n<h1>Manifest XML</h1>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\n\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/Theme.AppCompat.Light.NoActionBar.FullScreen&quot;\n        tools:targetApi=&quot;31&quot;&gt;\n        &lt;activity\n            android:name=&quot;.OyunBasladi&quot;\n            android:exported=&quot;false&quot; /&gt;\n        &lt;activity\n            android:name=&quot;.MainActivity&quot;\n            android:exported=&quot;true&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n<h1>Main Activity XML</h1>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    android:orientation=&quot;vertical&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:background=&quot;#e8f4f8&quot;\n    android:gravity=&quot;center&quot;\n    android:padding=&quot;16dp&quot;&gt;\n\n    &lt;LinearLayout\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:orientation=&quot;horizontal&quot;&gt;\n        &lt;ImageButton\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:background=&quot;@drawable/yenidenoyna&quot;\n            android:onClick=&quot;restart&quot; /&gt;\n\n        &lt;View\n            android:layout_width=&quot;0dp&quot;\n            android:layout_height=&quot;0dp&quot;\n            android:layout_weight=&quot;1&quot; /&gt;\n        &lt;ImageButton\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:background=&quot;@drawable/cik&quot;\n            android:onClick=&quot;exit&quot; /&gt;\n    &lt;/LinearLayout&gt;\n\n    &lt;View\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;0dp&quot;\n        android:layout_weight=&quot;1&quot; /&gt;\n\n    &lt;LinearLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:gravity=&quot;center&quot;\n        android:orientation=&quot;vertical&quot;&gt;\n        &lt;LinearLayout\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:gravity=&quot;center&quot;\n            android:orientation=&quot;horizontal&quot;&gt;\n            &lt;TextView\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_weight=&quot;1&quot;\n                android:text=&quot;Puan: &quot;\n                android:textColor=&quot;#0b80a7&quot;\n                android:textSize=&quot;30sp&quot; /&gt;\n            &lt;TextView\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:id=&quot;@+id/tvPoints&quot;\n                android:layout_weight=&quot;1&quot;\n                android:textColor=&quot;@android:color/holo_green_light&quot;\n                android:textSize=&quot;60sp&quot; /&gt;\n        &lt;/LinearLayout&gt;\n        &lt;LinearLayout\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:gravity=&quot;center&quot;\n            android:orientation=&quot;horizontal&quot;&gt;\n            &lt;TextView\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_weight=&quot;1&quot;\n                android:text=&quot;En iyi puan: &quot;\n                android:textColor=&quot;#0b80a7&quot;\n                android:textSize=&quot;30sp&quot; /&gt;\n            &lt;TextView\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:id=&quot;@+id/tvPersonalBest&quot;\n                android:layout_weight=&quot;1&quot;\n                android:textColor=&quot;#ff6000&quot;\n                android:textSize=&quot;30sp&quot; /&gt;\n        &lt;/LinearLayout&gt;\n    &lt;/LinearLayout&gt;\n\n\n    &lt;ImageView\n        android:layout_width=&quot;234dp&quot;\n        android:layout_height=&quot;129dp&quot;\n        android:layout_marginTop=&quot;5dp&quot;\n        app:srcCompat=&quot;@drawable/oyunbitti&quot; /&gt;\n\n    &lt;View\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;0dp&quot;\n        android:layout_marginBottom=&quot;64dp&quot;\n        android:layout_weight=&quot;1&quot; /&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n"},{"tags":["java","json","spring-boot"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1683388401,"post_id":76189773,"comment_id":134360699,"body_markdown":"The field `emplyee_id` is annotated with `@JsonIgnore`.","body":"The field <code>emplyee_id</code> is annotated with <code>@JsonIgnore</code>."},{"owner":{"account_id":28344587,"reputation":1,"user_id":21676994,"display_name":"RodrigoCorreia"},"score":0,"creation_date":1683407234,"post_id":76189773,"comment_id":134362971,"body_markdown":"Thanks for answering. The field already has the @JsonIgnore annotation.","body":"Thanks for answering. The field already has the @JsonIgnore annotation."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1683410693,"post_id":76189773,"comment_id":134363320,"body_markdown":"Yes. And this is the problem.","body":"Yes. And this is the problem."},{"owner":{"account_id":28344587,"reputation":1,"user_id":21676994,"display_name":"RodrigoCorreia"},"score":0,"creation_date":1683427524,"post_id":76189773,"comment_id":134364507,"body_markdown":"Made the change and just received this error: JSON parse error: Cannot construct instance of &#39;com.rodrigo.departmenthub.entities.Employee&#39; (although at least one Creator exists): no int/Int-argument constructor/factory method to deserialize from Number value (1)]. I need to perform a deserialization. If I haven&#39;t learned how to do it yet, could you show me how I can learn?","body":"Made the change and just received this error: JSON parse error: Cannot construct instance of &#39;com.rodrigo.departmenthub.entities.Employee&#39; (although at least one Creator exists): no int/Int-argument constructor/factory method to deserialize from Number value (1)]. I need to perform a deserialization. If I haven&#39;t learned how to do it yet, could you show me how I can learn?"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1683441807,"post_id":76189773,"comment_id":134365331,"body_markdown":"On the on ehand (request), we have a list of numbers. On the other hand (`Department` class), we have a list of objects.This cannot work. If we want to create a `Department` and attach pre-existing `Employee`, we need to do some logic. One possibility would be to create a separate DTO class for the request, construct the `Department`-entity based from this DTO, load the employees by their id and add them to the `Department`-entity, and then persist the `Department`.","body":"On the on ehand (request), we have a list of numbers. On the other hand (<code>Department</code> class), we have a list of objects.This cannot work. If we want to create a <code>Department</code> and attach pre-existing <code>Employee</code>, we need to do some logic. One possibility would be to create a separate DTO class for the request, construct the <code>Department</code>-entity based from this DTO, load the employees by their id and add them to the <code>Department</code>-entity, and then persist the <code>Department</code>."}],"owner":{"account_id":28344587,"reputation":1,"user_id":21676994,"display_name":"RodrigoCorreia"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":145,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683406916,"creation_date":1683387900,"question_id":76189773,"body_markdown":"I&#39;m getting the following error &quot;Field &#39;employee_id&#39; doesn&#39;t have a default value&quot; when trying to make a Post request in the Department class.\r\n\r\n\r\nDepartment:\r\n```\r\n@Entity\r\n@Table(name = &quot;department_&quot;)\r\n@Getter\r\n@Setter\r\n@EqualsAndHashCode(onlyExplicitlyIncluded = true)\r\n@NoArgsConstructor\r\npublic class Department implements Serializable {\r\n\r\n    @EqualsAndHashCode.Include\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n    private String name;\r\n\r\n    @JsonIgnore\r\n    @OneToMany(mappedBy = &quot;department&quot;)\r\n    private List&lt;Employee&gt; employee_id;\r\n}\r\n```\r\n\r\nEmployee:\r\n```\r\n@EqualsAndHashCode(onlyExplicitlyIncluded = true)\r\n@NoArgsConstructor\r\n@Setter\r\n@Getter\r\n@Entity\r\n@Table(name = &quot;employee_&quot;)\r\npublic class Employee implements Serializable {\r\n    @EqualsAndHashCode.Include\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    private String name;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;department_id&quot;)\r\n    private Department department = new Department();\r\n\r\n}\r\n```\r\n\r\nEmployee Controller\r\n```\r\n\r\n@AllArgsConstructor\r\n@RestController\r\n@RequestMapping(value = &quot;/api/employees&quot;)\r\npublic class EmployeeController {\r\n    private final DepartmentRepository depRepository;\r\n    private final EmployeeRepository empRepository;\r\n    private final EmployeeService empService;\r\n    @GetMapping\r\n    public ResponseEntity&lt;List&lt;Employee&gt;&gt; findAll(){\r\n        return ResponseEntity.ok(empService.findAll());\r\n    }\r\n    @GetMapping(value = &quot;/{id}&quot;)\r\n    public ResponseEntity&lt;Optional&lt;Employee&gt;&gt; findById(@PathVariable Long id){\r\n        return ResponseEntity.ok(empService.findById(id));\r\n    }\r\n    @PostMapping\r\n    public ResponseEntity&lt;Employee&gt; insert(@RequestBody Employee emp){\r\n        return new ResponseEntity&lt;&gt;(empService.save(emp), HttpStatus.CREATED);\r\n    }\r\n```\r\n\r\nDepartment Controller\r\n```\r\n\r\n@RestController\r\n@RequestMapping(value = &quot;/api/departments&quot;)\r\n@AllArgsConstructor\r\npublic class DepartmentController {\r\n\r\n    private DepartmentService depService;\r\n    @GetMapping\r\n    public ResponseEntity&lt;List&lt;Department&gt;&gt; findAll(){\r\n        return ResponseEntity.ok(depService.findAll());\r\n    }\r\n\r\n    @GetMapping(value = &quot;/{id}&quot;)\r\n    public ResponseEntity&lt;Optional&lt;Department&gt;&gt; findById(@PathVariable Long id){\r\n        return ResponseEntity.ok(depService.findById(id));\r\n    }\r\n\r\n    @PostMapping\r\n    public ResponseEntity&lt;Department&gt; insert(@RequestBody Department dep){\r\n        return new ResponseEntity&lt;&gt;(depService.save(dep), HttpStatus.CREATED);\r\n    }\r\n\r\n    @PutMapping(value = &quot;/{id}&quot;)\r\n    public ResponseEntity&lt;Department&gt; update(@RequestBody Department dep, @PathVariable Long id){\r\n        dep.setId(id);\r\n        return ResponseEntity.ok(depService.save(dep));\r\n    }\r\n\r\n    @DeleteMapping(value = &quot;/{id}&quot;)\r\n    public ResponseEntity&lt;Void&gt; delete(@PathVariable Long id){\r\n        depService.delete(id);\r\n        return ResponseEntity.noContent().build();\r\n    }\r\n}\r\n```\r\n\r\nRequest:\r\n```\r\n\r\n{\r\n    &quot;name&quot;: &quot;Test&quot;,\r\n    &quot;employee_id&quot;: [1]\r\n}\r\n```\r\n\r\nError:\r\n\r\n```\r\nHibernate: insert into department_ (name) values (?)\r\n2023-05-05T20:07:56.769-03:00  WARN 8512 --- [nio-8080-exec-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 1364, SQLState: HY000\r\n2023-05-05T20:07:56.770-03:00 ERROR 8512 --- [nio-8080-exec-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : Field &#39;employee_id&#39; doesn&#39;t have a default value\r\n2023-05-05T20:07:56.771-03:00 ERROR 8512 --- [nio-8080-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.orm.jpa.JpaSystemException: could not execute statement] with root cause\r\n\r\njava.sql.SQLException: Field &#39;employee_id&#39; doesn&#39;t have a default value\r\n\tat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130) ~[mysql-connector-j-8.0.33.jar:8.0.33]\r\n\tat com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-j-8.0.33.jar:8.0.33]\r\n\tat com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916) ~[mysql-connector-j-8.0.33.jar:8.0.33]\r\n\tat com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1061) ~[mysql-connector-j-8.0.33.jar:8.0.33]\r\n\tat com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1009) ~[mysql-connector-j-8.0.33.jar:8.0.33]\r\n\tat com.mysql.cj.jdbc.ClientPreparedStatement.executeLargeUpdate(ClientPreparedStatement.java:1320) ~[mysql-connector-j-8.0.33.jar:8.0.33]\r\n\tat com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdate(ClientPreparedStatement.java:994) ~[mysql-connector-j-8.0.33.jar:8.0.33]\r\n\tat com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61) ~[HikariCP-5.0.1.jar:na]\r\n\tat com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java) ~[HikariCP-5.0.1.jar:na]\r\n\tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.dialect.identity.GetGeneratedKeysDelegate.executeAndExtract(GetGeneratedKeysDelegate.java:57) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.id.insert.AbstractReturningDelegate.performInsert(AbstractReturningDelegate.java:42) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3342) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3980) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:80) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:653) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:283) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:264) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:322) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:340) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:286) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:192) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:122) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:184) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:129) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:53) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:737) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.internal.SessionImpl.persist(SessionImpl.java:721) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:360) ~[spring-orm-6.0.8.jar:6.0.8]\r\n\tat jdk.proxy2/jdk.proxy2.$Proxy114.persist(Unknown Source) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311) ~[spring-orm-6.0.8.jar:6.0.8]\r\n\tat jdk.proxy2/jdk.proxy2.$Proxy114.persist(Unknown Source) ~[na:na]\r\n\tat org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:610) ~[spring-data-jpa-3.0.5.jar:3.0.5]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:288) ~[spring-data-commons-3.0.5.jar:3.0.5]\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:136) ~[spring-data-commons-3.0.5.jar:3.0.5]\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:120) ~[spring-data-commons-3.0.5.jar:3.0.5]\r\n\tat org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:516) ~[spring-data-commons-3.0.5.jar:3.0.5]\r\n\tat org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285) ~[spring-data-commons-3.0.5.jar:3.0.5]\r\n\tat org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:628) ~[spring-data-commons-3.0.5.jar:3.0.5]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.8.jar:6.0.8]\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:168) ~[spring-data-commons-3.0.5.jar:3.0.5]\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143) ~[spring-data-commons-3.0.5.jar:3.0.5]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.8.jar:6.0.8]\r\n\tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:77) ~[spring-data-commons-3.0.5.jar:3.0.5]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.8.jar:6.0.8]\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-6.0.8.jar:6.0.8]\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391) ~[spring-tx-6.0.8.jar:6.0.8]\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.0.8.jar:6.0.8]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.8.jar:6.0.8]\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-6.0.8.jar:6.0.8]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.8.jar:6.0.8]\r\n\tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:163) ~[spring-data-jpa-3.0.5.jar:3.0.5]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.8.jar:6.0.8]\r\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-6.0.8.jar:6.0.8]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.8.jar:6.0.8]\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.0.8.jar:6.0.8]\r\n\tat jdk.proxy2/jdk.proxy2.$Proxy118.save(Unknown Source) ~[na:na]\r\n\tat com.rodrigo.departmenthub.services.DepartmentService.save(DepartmentService.java:24) ~[classes/:na]\r\n\tat com.rodrigo.departmenthub.controllers.DepartmentController.insert(DepartmentController.java:31) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207) ~[spring-web-6.0.8.jar:6.0.8]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152) ~[spring-web-6.0.8.jar:6.0.8]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.0.8.jar:6.0.8]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884) ~[spring-webmvc-6.0.8.jar:6.0.8]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-6.0.8.jar:6.0.8]\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.0.8.jar:6.0.8]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081) ~[spring-webmvc-6.0.8.jar:6.0.8]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974) ~[spring-webmvc-6.0.8.jar:6.0.8]\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6.0.8.jar:6.0.8]\r\n\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.0.8.jar:6.0.8]\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.8.jar:6.0]\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.0.8.jar:6.0.8]\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.8.jar:6.0]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.8.jar:6.0.8]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.8.jar:6.0.8]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.8.jar:6.0.8]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.8.jar:6.0.8]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.8.jar:6.0.8]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.8.jar:6.0.8]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:166) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\n```\r\nDoes anyone have any tips on how I can solve it and if you can explain it to me too so I can learn, I appreciate it.","title":"Field &#39;employee_id&#39; doesn&#39;t have a default value","body":"<p>I'm getting the following error &quot;Field 'employee_id' doesn't have a default value&quot; when trying to make a Post request in the Department class.</p>\n<p>Department:</p>\n<pre><code>@Entity\n@Table(name = &quot;department_&quot;)\n@Getter\n@Setter\n@EqualsAndHashCode(onlyExplicitlyIncluded = true)\n@NoArgsConstructor\npublic class Department implements Serializable {\n\n    @EqualsAndHashCode.Include\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    private String name;\n\n    @JsonIgnore\n    @OneToMany(mappedBy = &quot;department&quot;)\n    private List&lt;Employee&gt; employee_id;\n}\n</code></pre>\n<p>Employee:</p>\n<pre><code>@EqualsAndHashCode(onlyExplicitlyIncluded = true)\n@NoArgsConstructor\n@Setter\n@Getter\n@Entity\n@Table(name = &quot;employee_&quot;)\npublic class Employee implements Serializable {\n    @EqualsAndHashCode.Include\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    private String name;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;department_id&quot;)\n    private Department department = new Department();\n\n}\n</code></pre>\n<p>Employee Controller</p>\n<pre><code>\n@AllArgsConstructor\n@RestController\n@RequestMapping(value = &quot;/api/employees&quot;)\npublic class EmployeeController {\n    private final DepartmentRepository depRepository;\n    private final EmployeeRepository empRepository;\n    private final EmployeeService empService;\n    @GetMapping\n    public ResponseEntity&lt;List&lt;Employee&gt;&gt; findAll(){\n        return ResponseEntity.ok(empService.findAll());\n    }\n    @GetMapping(value = &quot;/{id}&quot;)\n    public ResponseEntity&lt;Optional&lt;Employee&gt;&gt; findById(@PathVariable Long id){\n        return ResponseEntity.ok(empService.findById(id));\n    }\n    @PostMapping\n    public ResponseEntity&lt;Employee&gt; insert(@RequestBody Employee emp){\n        return new ResponseEntity&lt;&gt;(empService.save(emp), HttpStatus.CREATED);\n    }\n</code></pre>\n<p>Department Controller</p>\n<pre><code>\n@RestController\n@RequestMapping(value = &quot;/api/departments&quot;)\n@AllArgsConstructor\npublic class DepartmentController {\n\n    private DepartmentService depService;\n    @GetMapping\n    public ResponseEntity&lt;List&lt;Department&gt;&gt; findAll(){\n        return ResponseEntity.ok(depService.findAll());\n    }\n\n    @GetMapping(value = &quot;/{id}&quot;)\n    public ResponseEntity&lt;Optional&lt;Department&gt;&gt; findById(@PathVariable Long id){\n        return ResponseEntity.ok(depService.findById(id));\n    }\n\n    @PostMapping\n    public ResponseEntity&lt;Department&gt; insert(@RequestBody Department dep){\n        return new ResponseEntity&lt;&gt;(depService.save(dep), HttpStatus.CREATED);\n    }\n\n    @PutMapping(value = &quot;/{id}&quot;)\n    public ResponseEntity&lt;Department&gt; update(@RequestBody Department dep, @PathVariable Long id){\n        dep.setId(id);\n        return ResponseEntity.ok(depService.save(dep));\n    }\n\n    @DeleteMapping(value = &quot;/{id}&quot;)\n    public ResponseEntity&lt;Void&gt; delete(@PathVariable Long id){\n        depService.delete(id);\n        return ResponseEntity.noContent().build();\n    }\n}\n</code></pre>\n<p>Request:</p>\n<pre><code>\n{\n    &quot;name&quot;: &quot;Test&quot;,\n    &quot;employee_id&quot;: [1]\n}\n</code></pre>\n<p>Error:</p>\n<pre><code>Hibernate: insert into department_ (name) values (?)\n2023-05-05T20:07:56.769-03:00  WARN 8512 --- [nio-8080-exec-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 1364, SQLState: HY000\n2023-05-05T20:07:56.770-03:00 ERROR 8512 --- [nio-8080-exec-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : Field 'employee_id' doesn't have a default value\n2023-05-05T20:07:56.771-03:00 ERROR 8512 --- [nio-8080-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.orm.jpa.JpaSystemException: could not execute statement] with root cause\n\njava.sql.SQLException: Field 'employee_id' doesn't have a default value\n    at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130) ~[mysql-connector-j-8.0.33.jar:8.0.33]\n    at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-j-8.0.33.jar:8.0.33]\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916) ~[mysql-connector-j-8.0.33.jar:8.0.33]\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1061) ~[mysql-connector-j-8.0.33.jar:8.0.33]\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1009) ~[mysql-connector-j-8.0.33.jar:8.0.33]\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeLargeUpdate(ClientPreparedStatement.java:1320) ~[mysql-connector-j-8.0.33.jar:8.0.33]\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdate(ClientPreparedStatement.java:994) ~[mysql-connector-j-8.0.33.jar:8.0.33]\n    at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61) ~[HikariCP-5.0.1.jar:na]\n    at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java) ~[HikariCP-5.0.1.jar:na]\n    at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.dialect.identity.GetGeneratedKeysDelegate.executeAndExtract(GetGeneratedKeysDelegate.java:57) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.id.insert.AbstractReturningDelegate.performInsert(AbstractReturningDelegate.java:42) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3342) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3980) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:80) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:653) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:283) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:264) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:322) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:340) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:286) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:192) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:122) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:184) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:129) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:53) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:737) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:721) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:360) ~[spring-orm-6.0.8.jar:6.0.8]\n    at jdk.proxy2/jdk.proxy2.$Proxy114.persist(Unknown Source) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311) ~[spring-orm-6.0.8.jar:6.0.8]\n    at jdk.proxy2/jdk.proxy2.$Proxy114.persist(Unknown Source) ~[na:na]\n    at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:610) ~[spring-data-jpa-3.0.5.jar:3.0.5]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:288) ~[spring-data-commons-3.0.5.jar:3.0.5]\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:136) ~[spring-data-commons-3.0.5.jar:3.0.5]\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:120) ~[spring-data-commons-3.0.5.jar:3.0.5]\n    at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:516) ~[spring-data-commons-3.0.5.jar:3.0.5]\n    at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285) ~[spring-data-commons-3.0.5.jar:3.0.5]\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:628) ~[spring-data-commons-3.0.5.jar:3.0.5]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.8.jar:6.0.8]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:168) ~[spring-data-commons-3.0.5.jar:3.0.5]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143) ~[spring-data-commons-3.0.5.jar:3.0.5]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.8.jar:6.0.8]\n    at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:77) ~[spring-data-commons-3.0.5.jar:3.0.5]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.8.jar:6.0.8]\n    at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-6.0.8.jar:6.0.8]\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391) ~[spring-tx-6.0.8.jar:6.0.8]\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.0.8.jar:6.0.8]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.8.jar:6.0.8]\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-6.0.8.jar:6.0.8]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.8.jar:6.0.8]\n    at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:163) ~[spring-data-jpa-3.0.5.jar:3.0.5]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.8.jar:6.0.8]\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-6.0.8.jar:6.0.8]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.8.jar:6.0.8]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.0.8.jar:6.0.8]\n    at jdk.proxy2/jdk.proxy2.$Proxy118.save(Unknown Source) ~[na:na]\n    at com.rodrigo.departmenthub.services.DepartmentService.save(DepartmentService.java:24) ~[classes/:na]\n    at com.rodrigo.departmenthub.controllers.DepartmentController.insert(DepartmentController.java:31) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207) ~[spring-web-6.0.8.jar:6.0.8]\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152) ~[spring-web-6.0.8.jar:6.0.8]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.0.8.jar:6.0.8]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884) ~[spring-webmvc-6.0.8.jar:6.0.8]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-6.0.8.jar:6.0.8]\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.0.8.jar:6.0.8]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081) ~[spring-webmvc-6.0.8.jar:6.0.8]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974) ~[spring-webmvc-6.0.8.jar:6.0.8]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6.0.8.jar:6.0.8]\n    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.0.8.jar:6.0.8]\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.8.jar:6.0]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.0.8.jar:6.0.8]\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.8.jar:6.0]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.8.jar:6.0.8]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.8.jar:6.0.8]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.8.jar:6.0.8]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.8.jar:6.0.8]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.8.jar:6.0.8]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.8.jar:6.0.8]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:166) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\n</code></pre>\n<p>Does anyone have any tips on how I can solve it and if you can explain it to me too so I can learn, I appreciate it.</p>\n"},{"tags":["java","android","android-jetpack","android-jetpack-compose"],"comments":[{"owner":{"account_id":11726648,"reputation":19533,"user_id":8583692,"display_name":"Mahozad"},"score":5,"creation_date":1669697093,"post_id":66433437,"comment_id":131695579,"body_markdown":"Rumor has it that when someone learns Kotlin, they will not look back to write code in Java again (unless they have to)...","body":"Rumor has it that when someone learns Kotlin, they will not look back to write code in Java again (unless they have to)..."}],"answers":[{"tags":[],"owner":{"account_id":72095,"reputation":18817,"user_id":208273,"display_name":"Ryan M"},"down_vote_count":1,"up_vote_count":77,"is_accepted":true,"score":76,"last_activity_date":1614661586,"creation_date":1614661586,"answer_id":66433621,"question_id":66433437,"body_markdown":"No, you can&#39;t write Jetpack Compose components in Java, and there are no future plans to allow this (source: I work on Compose).   Note that this is not the same thing as using components created in Compose from a Java app, which [is possible][1].\r\n\r\nJetpack Compose makes heavy use of Kotlin features such as coroutines, and `@Composable` methods require transformations that are done by a Kotlin compiler plugin.  There is no way to get access to these from Java.\r\n\r\n\r\n  [1]: https://developer.android.com/jetpack/compose/interop","title":"Can I write Jetpack Compose components in Java?","body":"<p>No, you can't write Jetpack Compose components in Java, and there are no future plans to allow this (source: I work on Compose).   Note that this is not the same thing as using components created in Compose from a Java app, which <a href=\"https://developer.android.com/jetpack/compose/interop\" rel=\"noreferrer\">is possible</a>.</p>\n<p>Jetpack Compose makes heavy use of Kotlin features such as coroutines, and <code>@Composable</code> methods require transformations that are done by a Kotlin compiler plugin.  There is no way to get access to these from Java.</p>\n"}],"owner":{"account_id":8025744,"reputation":615,"user_id":6571004,"accept_rate":17,"display_name":"Roker"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20153,"favorite_count":0,"down_vote_count":0,"up_vote_count":46,"accepted_answer_id":66433621,"answer_count":1,"score":46,"last_activity_date":1683406896,"creation_date":1614659912,"question_id":66433437,"body_markdown":"Is it possible to write Jetpack Compose components in Java? All of the documentation seems to only give examples in Kotlin.  If not, is there any future plan to allow components to be implemented in Java?","title":"Can I write Jetpack Compose components in Java?","body":"<p>Is it possible to write Jetpack Compose components in Java? All of the documentation seems to only give examples in Kotlin.  If not, is there any future plan to allow components to be implemented in Java?</p>\n"},{"tags":["java","mongodb","spring-boot","average"],"answers":[{"tags":[],"owner":{"account_id":3473020,"reputation":135,"user_id":2906912,"display_name":"Codified"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1683405925,"creation_date":1683405925,"answer_id":76191055,"question_id":76190468,"body_markdown":"You shouldn&#39;t be dividing by total number of ratings (numRatimgs) [this is what causing issue for you]\r\n\r\n    double avgRating = totalRating / numRatings;\r\n\r\nInstead you should divide it by actual number of occurrences of that particular movie until that time. \r\nMay be you can have a pojo called MoviRating where you can have properties inside it like - totalReviews,totalRating and averageRating\r\nIn your map you can have data as &lt;String, MovieRating&gt;\r\nAnd keep updating the data in pojo. \r\nHope this helps you. ","title":"Discrepancy in Calculating Average Ratings from Java Spring boot Rest api","body":"<p>You shouldn't be dividing by total number of ratings (numRatimgs) [this is what causing issue for you]</p>\n<pre><code>double avgRating = totalRating / numRatings;\n</code></pre>\n<p>Instead you should divide it by actual number of occurrences of that particular movie until that time.\nMay be you can have a pojo called MoviRating where you can have properties inside it like - totalReviews,totalRating and averageRating\nIn your map you can have data as &lt;String, MovieRating&gt;\nAnd keep updating the data in pojo.\nHope this helps you.</p>\n"}],"owner":{"account_id":22937722,"reputation":25,"user_id":17070934,"display_name":"ABAB"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76191055,"answer_count":1,"score":0,"last_activity_date":1683405925,"creation_date":1683397414,"question_id":76190468,"body_markdown":"I am working on a project where I need to calculate the average ratings from MongoDB data using Java. However, I&#39;m facing an issue where the calculated average does not match the expected result. I have reviewed the code and the data, but I&#39;m unable to identify the cause of the discrepancy.\r\nThe average rating I obtained from the calculation is 1.309375 However, based on the provided values, I expected the average rating to be  3.325 if I haven&#39;t forgotten how to average the results. \r\n\r\nthis is the document in mongodb review summary\r\n[![enter image description here][1]][1]\r\n\r\nHere is the code I&#39;m using:\r\n\r\n```\r\n public Page&lt;Movie&gt; allMovies(Pageable pageable) throws Exception {\r\n        Page&lt;Movie&gt; movies = movieRepository.findAll(pageable);\r\n        List&lt;ReviewSummary&gt; reviewSummaries = reviewSummaryRepository.findAll();\r\n        int numRatings = reviewSummaries.size(); // Moved this line outside the loop\r\n        Map&lt;String, Double&gt; avgRatings = new HashMap&lt;&gt;();\r\n\r\n        for (ReviewSummary reviewSummary : reviewSummaries) {\r\n            String imdbId = reviewSummary.getMovieImdbId();\r\n            double rating = reviewSummary.getRating();\r\n\r\n            if (!avgRatings.containsKey(imdbId)) {\r\n                avgRatings.put(imdbId, rating);\r\n            } else {\r\n                double totalRating = avgRatings.get(imdbId) + rating;\r\n                double avgRating = totalRating / numRatings; // Changed reviewSummaries.size() to numRatings\r\n\r\n                avgRatings.put(imdbId, avgRating);\r\n            }\r\n        }\r\n\r\n        for (Movie movie : movies) {\r\n            String imdbId = movie.getImdbId();\r\n            if (avgRatings.containsKey(imdbId)) {\r\n                double avgRating = avgRatings.get(imdbId);\r\n                movie.setAvgRating(avgRating);\r\n            } else {\r\n                movie.setAvgRating(0.0);\r\n            }\r\n        }\r\n\r\n        return movies;\r\n\r\n    }\r\n\r\n```\r\n\r\nthis is what i get in my postman get request for a movie\r\n\r\n```\r\n&quot;imdbId&quot;: &quot;tt8760708&quot;,\r\n            &quot;title&quot;: &quot;M3GAN&quot;,\r\n            &quot;releaseDate&quot;: &quot;2023-01-06&quot;,\r\n            &quot;trailerLink&quot;: &quot;https://www.youtube.com/watch?v=BRb4U99OU80&quot;,\r\n            &quot;poster&quot;: &quot;https://image.tmdb.org/t/p/w500/xBl5AGw7HXZcv1nNXPlzGgO4Cfo.jpg&quot;,\r\n            &quot;genres&quot;: [\r\n                &quot;Science Fiction&quot;,\r\n                &quot;Horror&quot;,\r\n                &quot;Comedy&quot;\r\n            ],\r\n            &quot;backdrops&quot;: [\r\n                &quot;https://image.tmdb.org/t/p/original/5kAGbi9MFAobQTVfK4kWPnIfnP0.jpg&quot;,\r\n                &quot;https://image.tmdb.org/t/p/original/dlxzUj7z1MqEcFiwvvrj0bvBKDY.jpg&quot;,\r\n                &quot;https://image.tmdb.org/t/p/original/q2fY4kMXKoGv4CQf310MCxpXlRI.jpg&quot;,\r\n                &quot;https://image.tmdb.org/t/p/original/pTxwFdsdDWzpCRYuk1QbggdaOlL.jpg&quot;,\r\n                &quot;https://image.tmdb.org/t/p/original/1zuz2RgFoOjulkjjNHHFc3WiHGB.jpg&quot;,\r\n                &quot;https://image.tmdb.org/t/p/original/7HqxI1IXMloT9VTSuDC8ikaj810.jpg&quot;,\r\n                &quot;https://image.tmdb.org/t/p/original/vpK2rp3J5LiC01HoNM0j9DEHQ1T.jpg&quot;,\r\n                &quot;https://image.tmdb.org/t/p/original/cNHXdmr4amP6EPCMa0dqD8rwzDV.jpg&quot;,\r\n                &quot;https://image.tmdb.org/t/p/original/txQLFd6rfQrskQhFENkS1jElptt.jpg&quot;,\r\n                &quot;https://image.tmdb.org/t/p/original/dC4tj1ONdlZ2TWv4XD2SA1KUnJN.jpg&quot;\r\n            ],\r\n            &quot;reviewIds&quot;: [\r\n                {\r\n                    &quot;id&quot;: {\r\n                        &quot;timestamp&quot;: 1683393168,\r\n                        &quot;date&quot;: &quot;2023-05-06T17:12:48.000+00:00&quot;\r\n                    },\r\n                    &quot;userEmail&quot;: &quot;arnold@gmail.com&quot;,\r\n                    &quot;movieImdbId&quot;: &quot;tt8760708&quot;,\r\n                    &quot;rating&quot;: {\r\n                        &quot;id&quot;: {\r\n                            &quot;timestamp&quot;: 1683393168,\r\n                            &quot;date&quot;: &quot;2023-05-06T17:12:48.000+00:00&quot;\r\n                        },\r\n                        &quot;userEmail&quot;: &quot;arnold@gmail.com&quot;,\r\n                        &quot;movieImdbId&quot;: &quot;tt8760708&quot;,\r\n                        &quot;value&quot;: 3.5\r\n                    },\r\n                    &quot;body&quot;: &quot;Seem a bit meh &quot;\r\n                },\r\n                {\r\n                    &quot;id&quot;: {\r\n                        &quot;timestamp&quot;: 1683393413,\r\n                        &quot;date&quot;: &quot;2023-05-06T17:16:53.000+00:00&quot;\r\n                    },\r\n                    &quot;userEmail&quot;: &quot;john@gmail.com&quot;,\r\n                    &quot;movieImdbId&quot;: &quot;tt8760708&quot;,\r\n                    &quot;rating&quot;: {\r\n                        &quot;id&quot;: {\r\n                            &quot;timestamp&quot;: 1683393413,\r\n                            &quot;date&quot;: &quot;2023-05-06T17:16:53.000+00:00&quot;\r\n                        },\r\n                        &quot;userEmail&quot;: &quot;john@gmail.com&quot;,\r\n                        &quot;movieImdbId&quot;: &quot;tt8760708&quot;,\r\n                        &quot;value&quot;: 3.5\r\n                    },\r\n                    &quot;body&quot;: &quot;Seem a bit meh &quot;\r\n                },\r\n                {\r\n                    &quot;id&quot;: {\r\n                        &quot;timestamp&quot;: 1683393446,\r\n                        &quot;date&quot;: &quot;2023-05-06T17:17:26.000+00:00&quot;\r\n                    },\r\n                    &quot;userEmail&quot;: &quot;jim@gmail.com&quot;,\r\n                    &quot;movieImdbId&quot;: &quot;tt8760708&quot;,\r\n                    &quot;rating&quot;: {\r\n                        &quot;id&quot;: {\r\n                            &quot;timestamp&quot;: 1683393446,\r\n                            &quot;date&quot;: &quot;2023-05-06T17:17:26.000+00:00&quot;\r\n                        },\r\n                        &quot;userEmail&quot;: &quot;jim@gmail.com&quot;,\r\n                        &quot;movieImdbId&quot;: &quot;tt8760708&quot;,\r\n                        &quot;value&quot;: 2.0\r\n                    },\r\n                    &quot;body&quot;: &quot;good enough &quot;\r\n                },\r\n                {\r\n                    &quot;id&quot;: {\r\n                        &quot;timestamp&quot;: 1683393489,\r\n                        &quot;date&quot;: &quot;2023-05-06T17:18:09.000+00:00&quot;\r\n                    },\r\n                    &quot;userEmail&quot;: &quot;will@gmail.com&quot;,\r\n                    &quot;movieImdbId&quot;: &quot;tt8760708&quot;,\r\n                    &quot;rating&quot;: {\r\n                        &quot;id&quot;: {\r\n                            &quot;timestamp&quot;: 1683393489,\r\n                            &quot;date&quot;: &quot;2023-05-06T17:18:09.000+00:00&quot;\r\n                        },\r\n                        &quot;userEmail&quot;: &quot;will@gmail.com&quot;,\r\n                        &quot;movieImdbId&quot;: &quot;tt8760708&quot;,\r\n                        &quot;value&quot;: 4.3\r\n                    },\r\n                    &quot;body&quot;: &quot;very good&quot;\r\n                }\r\n            ],\r\n            &quot;ratings&quot;: [\r\n                {\r\n                    &quot;id&quot;: {\r\n                        &quot;timestamp&quot;: 1683393168,\r\n                        &quot;date&quot;: &quot;2023-05-06T17:12:48.000+00:00&quot;\r\n                    },\r\n                    &quot;userEmail&quot;: &quot;arnold@gmail.com&quot;,\r\n                    &quot;movieImdbId&quot;: &quot;tt8760708&quot;,\r\n                    &quot;value&quot;: 3.5\r\n                },\r\n                {\r\n                    &quot;id&quot;: {\r\n                        &quot;timestamp&quot;: 1683393413,\r\n                        &quot;date&quot;: &quot;2023-05-06T17:16:53.000+00:00&quot;\r\n                    },\r\n                    &quot;userEmail&quot;: &quot;john@gmail.com&quot;,\r\n                    &quot;movieImdbId&quot;: &quot;tt8760708&quot;,\r\n                    &quot;value&quot;: 3.5\r\n                },\r\n                {\r\n                    &quot;id&quot;: {\r\n                        &quot;timestamp&quot;: 1683393446,\r\n                        &quot;date&quot;: &quot;2023-05-06T17:17:26.000+00:00&quot;\r\n                    },\r\n                    &quot;userEmail&quot;: &quot;jim@gmail.com&quot;,\r\n                    &quot;movieImdbId&quot;: &quot;tt8760708&quot;,\r\n                    &quot;value&quot;: 2.0\r\n                },\r\n                {\r\n                    &quot;id&quot;: {\r\n                        &quot;timestamp&quot;: 1683393489,\r\n                        &quot;date&quot;: &quot;2023-05-06T17:18:09.000+00:00&quot;\r\n                    },\r\n                    &quot;userEmail&quot;: &quot;will@gmail.com&quot;,\r\n                    &quot;movieImdbId&quot;: &quot;tt8760708&quot;,\r\n                    &quot;value&quot;: 4.3\r\n                }\r\n            ],\r\n ----&gt; here is the issue     &quot;avgRating&quot;: 1.309375,\r\n            &quot;predictedRating&quot;: 0.0,\r\n            &quot;similarity&quot;: 0.0\r\n\r\n\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/xD2nI.png","title":"Discrepancy in Calculating Average Ratings from Java Spring boot Rest api","body":"<p>I am working on a project where I need to calculate the average ratings from MongoDB data using Java. However, I'm facing an issue where the calculated average does not match the expected result. I have reviewed the code and the data, but I'm unable to identify the cause of the discrepancy.\nThe average rating I obtained from the calculation is 1.309375 However, based on the provided values, I expected the average rating to be  3.325 if I haven't forgotten how to average the results.</p>\n<p>this is the document in mongodb review summary\n<a href=\"https://i.stack.imgur.com/xD2nI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xD2nI.png\" alt=\"enter image description here\" /></a></p>\n<p>Here is the code I'm using:</p>\n<pre><code> public Page&lt;Movie&gt; allMovies(Pageable pageable) throws Exception {\n        Page&lt;Movie&gt; movies = movieRepository.findAll(pageable);\n        List&lt;ReviewSummary&gt; reviewSummaries = reviewSummaryRepository.findAll();\n        int numRatings = reviewSummaries.size(); // Moved this line outside the loop\n        Map&lt;String, Double&gt; avgRatings = new HashMap&lt;&gt;();\n\n        for (ReviewSummary reviewSummary : reviewSummaries) {\n            String imdbId = reviewSummary.getMovieImdbId();\n            double rating = reviewSummary.getRating();\n\n            if (!avgRatings.containsKey(imdbId)) {\n                avgRatings.put(imdbId, rating);\n            } else {\n                double totalRating = avgRatings.get(imdbId) + rating;\n                double avgRating = totalRating / numRatings; // Changed reviewSummaries.size() to numRatings\n\n                avgRatings.put(imdbId, avgRating);\n            }\n        }\n\n        for (Movie movie : movies) {\n            String imdbId = movie.getImdbId();\n            if (avgRatings.containsKey(imdbId)) {\n                double avgRating = avgRatings.get(imdbId);\n                movie.setAvgRating(avgRating);\n            } else {\n                movie.setAvgRating(0.0);\n            }\n        }\n\n        return movies;\n\n    }\n\n</code></pre>\n<p>this is what i get in my postman get request for a movie</p>\n<pre><code>&quot;imdbId&quot;: &quot;tt8760708&quot;,\n            &quot;title&quot;: &quot;M3GAN&quot;,\n            &quot;releaseDate&quot;: &quot;2023-01-06&quot;,\n            &quot;trailerLink&quot;: &quot;https://www.youtube.com/watch?v=BRb4U99OU80&quot;,\n            &quot;poster&quot;: &quot;https://image.tmdb.org/t/p/w500/xBl5AGw7HXZcv1nNXPlzGgO4Cfo.jpg&quot;,\n            &quot;genres&quot;: [\n                &quot;Science Fiction&quot;,\n                &quot;Horror&quot;,\n                &quot;Comedy&quot;\n            ],\n            &quot;backdrops&quot;: [\n                &quot;https://image.tmdb.org/t/p/original/5kAGbi9MFAobQTVfK4kWPnIfnP0.jpg&quot;,\n                &quot;https://image.tmdb.org/t/p/original/dlxzUj7z1MqEcFiwvvrj0bvBKDY.jpg&quot;,\n                &quot;https://image.tmdb.org/t/p/original/q2fY4kMXKoGv4CQf310MCxpXlRI.jpg&quot;,\n                &quot;https://image.tmdb.org/t/p/original/pTxwFdsdDWzpCRYuk1QbggdaOlL.jpg&quot;,\n                &quot;https://image.tmdb.org/t/p/original/1zuz2RgFoOjulkjjNHHFc3WiHGB.jpg&quot;,\n                &quot;https://image.tmdb.org/t/p/original/7HqxI1IXMloT9VTSuDC8ikaj810.jpg&quot;,\n                &quot;https://image.tmdb.org/t/p/original/vpK2rp3J5LiC01HoNM0j9DEHQ1T.jpg&quot;,\n                &quot;https://image.tmdb.org/t/p/original/cNHXdmr4amP6EPCMa0dqD8rwzDV.jpg&quot;,\n                &quot;https://image.tmdb.org/t/p/original/txQLFd6rfQrskQhFENkS1jElptt.jpg&quot;,\n                &quot;https://image.tmdb.org/t/p/original/dC4tj1ONdlZ2TWv4XD2SA1KUnJN.jpg&quot;\n            ],\n            &quot;reviewIds&quot;: [\n                {\n                    &quot;id&quot;: {\n                        &quot;timestamp&quot;: 1683393168,\n                        &quot;date&quot;: &quot;2023-05-06T17:12:48.000+00:00&quot;\n                    },\n                    &quot;userEmail&quot;: &quot;arnold@gmail.com&quot;,\n                    &quot;movieImdbId&quot;: &quot;tt8760708&quot;,\n                    &quot;rating&quot;: {\n                        &quot;id&quot;: {\n                            &quot;timestamp&quot;: 1683393168,\n                            &quot;date&quot;: &quot;2023-05-06T17:12:48.000+00:00&quot;\n                        },\n                        &quot;userEmail&quot;: &quot;arnold@gmail.com&quot;,\n                        &quot;movieImdbId&quot;: &quot;tt8760708&quot;,\n                        &quot;value&quot;: 3.5\n                    },\n                    &quot;body&quot;: &quot;Seem a bit meh &quot;\n                },\n                {\n                    &quot;id&quot;: {\n                        &quot;timestamp&quot;: 1683393413,\n                        &quot;date&quot;: &quot;2023-05-06T17:16:53.000+00:00&quot;\n                    },\n                    &quot;userEmail&quot;: &quot;john@gmail.com&quot;,\n                    &quot;movieImdbId&quot;: &quot;tt8760708&quot;,\n                    &quot;rating&quot;: {\n                        &quot;id&quot;: {\n                            &quot;timestamp&quot;: 1683393413,\n                            &quot;date&quot;: &quot;2023-05-06T17:16:53.000+00:00&quot;\n                        },\n                        &quot;userEmail&quot;: &quot;john@gmail.com&quot;,\n                        &quot;movieImdbId&quot;: &quot;tt8760708&quot;,\n                        &quot;value&quot;: 3.5\n                    },\n                    &quot;body&quot;: &quot;Seem a bit meh &quot;\n                },\n                {\n                    &quot;id&quot;: {\n                        &quot;timestamp&quot;: 1683393446,\n                        &quot;date&quot;: &quot;2023-05-06T17:17:26.000+00:00&quot;\n                    },\n                    &quot;userEmail&quot;: &quot;jim@gmail.com&quot;,\n                    &quot;movieImdbId&quot;: &quot;tt8760708&quot;,\n                    &quot;rating&quot;: {\n                        &quot;id&quot;: {\n                            &quot;timestamp&quot;: 1683393446,\n                            &quot;date&quot;: &quot;2023-05-06T17:17:26.000+00:00&quot;\n                        },\n                        &quot;userEmail&quot;: &quot;jim@gmail.com&quot;,\n                        &quot;movieImdbId&quot;: &quot;tt8760708&quot;,\n                        &quot;value&quot;: 2.0\n                    },\n                    &quot;body&quot;: &quot;good enough &quot;\n                },\n                {\n                    &quot;id&quot;: {\n                        &quot;timestamp&quot;: 1683393489,\n                        &quot;date&quot;: &quot;2023-05-06T17:18:09.000+00:00&quot;\n                    },\n                    &quot;userEmail&quot;: &quot;will@gmail.com&quot;,\n                    &quot;movieImdbId&quot;: &quot;tt8760708&quot;,\n                    &quot;rating&quot;: {\n                        &quot;id&quot;: {\n                            &quot;timestamp&quot;: 1683393489,\n                            &quot;date&quot;: &quot;2023-05-06T17:18:09.000+00:00&quot;\n                        },\n                        &quot;userEmail&quot;: &quot;will@gmail.com&quot;,\n                        &quot;movieImdbId&quot;: &quot;tt8760708&quot;,\n                        &quot;value&quot;: 4.3\n                    },\n                    &quot;body&quot;: &quot;very good&quot;\n                }\n            ],\n            &quot;ratings&quot;: [\n                {\n                    &quot;id&quot;: {\n                        &quot;timestamp&quot;: 1683393168,\n                        &quot;date&quot;: &quot;2023-05-06T17:12:48.000+00:00&quot;\n                    },\n                    &quot;userEmail&quot;: &quot;arnold@gmail.com&quot;,\n                    &quot;movieImdbId&quot;: &quot;tt8760708&quot;,\n                    &quot;value&quot;: 3.5\n                },\n                {\n                    &quot;id&quot;: {\n                        &quot;timestamp&quot;: 1683393413,\n                        &quot;date&quot;: &quot;2023-05-06T17:16:53.000+00:00&quot;\n                    },\n                    &quot;userEmail&quot;: &quot;john@gmail.com&quot;,\n                    &quot;movieImdbId&quot;: &quot;tt8760708&quot;,\n                    &quot;value&quot;: 3.5\n                },\n                {\n                    &quot;id&quot;: {\n                        &quot;timestamp&quot;: 1683393446,\n                        &quot;date&quot;: &quot;2023-05-06T17:17:26.000+00:00&quot;\n                    },\n                    &quot;userEmail&quot;: &quot;jim@gmail.com&quot;,\n                    &quot;movieImdbId&quot;: &quot;tt8760708&quot;,\n                    &quot;value&quot;: 2.0\n                },\n                {\n                    &quot;id&quot;: {\n                        &quot;timestamp&quot;: 1683393489,\n                        &quot;date&quot;: &quot;2023-05-06T17:18:09.000+00:00&quot;\n                    },\n                    &quot;userEmail&quot;: &quot;will@gmail.com&quot;,\n                    &quot;movieImdbId&quot;: &quot;tt8760708&quot;,\n                    &quot;value&quot;: 4.3\n                }\n            ],\n ----&gt; here is the issue     &quot;avgRating&quot;: 1.309375,\n            &quot;predictedRating&quot;: 0.0,\n            &quot;similarity&quot;: 0.0\n\n\n</code></pre>\n"},{"tags":["java","spring-boot","spring-data-jpa","spring-data"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1683401449,"post_id":76190688,"comment_id":134362245,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":306540,"reputation":1801,"user_id":2695990,"display_name":"fascynacja"},"score":0,"creation_date":1683402553,"post_id":76190688,"comment_id":134362383,"body_markdown":"com.microsoft.sqlserver.jdbc.SQLServerException: Foreign key &#39;FKmsdbtbsin4to948knbnc44on8&#39; has implicit reference to object &#39;DT_DropGroup&#39; which does not have a primary key defined on it.","body":"com.microsoft.sqlserver.jdbc.SQLServerException: Foreign key &#39;FKmsdbtbsin4to948knbnc44on8&#39; has implicit reference to object &#39;DT_DropGroup&#39; which does not have a primary key defined on it."},{"owner":{"account_id":24554671,"reputation":3,"user_id":18463424,"display_name":"Артур Захаров"},"score":0,"creation_date":1683407807,"post_id":76190688,"comment_id":134363025,"body_markdown":"I was given a table in which there are no keys, can I do it without adding keys?","body":"I was given a table in which there are no keys, can I do it without adding keys?"}],"owner":{"account_id":24554671,"reputation":3,"user_id":18463424,"display_name":"Артур Захаров"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683405337,"creation_date":1683400740,"question_id":76190688,"body_markdown":"I have a request SQL and can&#39;t implement in Java spring`\r\n\r\n\r\n```\r\n SELECT DISTINCT\r\n    mo.MName AS &#39;Boss&#39;,\r\n        tdg.DName AS &#39;Name group&#39;,\r\n        it.IName AS &#39;Name item&#39;,\r\n        tpis.mDesc AS &#39;Item &#39;,\r\n        CASE\r\n        WHEN evo.mObjID IS NULL THEN &#39;Not event item&#39;\r\n        ELSE &#39;Event item&#39;\r\n        END AS &#39;Event&#39;\r\n        FROM\r\n        DT_Monster AS mo\r\n        INNER JOIN DT_MonsterDrop AS md ON mo.MID = md.MID\r\n        INNER JOIN DT_DropGroup AS dg ON md.DGroup = dg.DGroup\r\n        INNER JOIN TP_DropGroup AS tdg ON md.DGroup = tdg.DGroup\r\n        INNER JOIN DT_DropItem AS di ON dg.DDrop = di.DDrop\r\n        INNER JOIN TP_ItemStatus AS tpis ON di.DStatus = tpis.mStatus\r\n        INNER JOIN DT_Item AS it ON di.DItem = it.IID\r\n        LEFT JOIN TblEventObj AS evo ON it.IID = evo.mObjID\r\n        WHERE\r\n        mo.MID = 84\r\n        and di.DIsEvent = 0\r\n```\r\n\r\n\r\n```\r\n@Table(name = &quot;DT_Monster&quot;)\r\npublic class Monster {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;MID&quot;, nullable = false)\r\n    private int MID;\r\n\r\n    @Column(name = &quot;MName&quot;, columnDefinition = &quot;varchar&quot;, length = 40)\r\n    private String MName;\r\n\r\n    @Column(name = &quot;mLevel&quot;)\r\n    private int mLevel;\r\n\r\n    @Column(name = &quot;MClass&quot;)\r\n    private int MClass;\r\n\r\n    @Column(name = &quot;MExp&quot;)\r\n    private int MExp;\r\n\r\n    @Column(name = &quot;MHIT&quot;, columnDefinition = &quot;smallint&quot;)\r\n    private short MHIT;\r\n\r\n    @Column(name = &quot;MMinD&quot;, columnDefinition = &quot;smallint&quot;)\r\n    private short MMinD;\r\n\r\n    @Column(name = &quot;MMaxD&quot;, columnDefinition = &quot;smallint&quot;)\r\n    private short MMaxD;\r\n\r\n    @Column(name = &quot;MAttackRateOrg&quot;, columnDefinition = &quot;smallint&quot;)\r\n    private short MAttackRateOrg;\r\n\r\n    @Column(name = &quot;MMoveRateOrg&quot;, columnDefinition = &quot;smallint&quot;)\r\n    private short MMoveRateOrg;\r\n\r\n    @Column(name = &quot;MAttackRateNew&quot;, columnDefinition = &quot;smallint&quot;)\r\n    private short MAttackRateNew;\r\n\r\n    @Column(name = &quot;MMoveRateNew&quot;, columnDefinition = &quot;smallint&quot;)\r\n    private short MMoveRateNew;\r\n\r\n    @Column(name = &quot;MHP&quot;, columnDefinition = &quot;smallint&quot;)\r\n    private short MHP;\r\n\r\n    @Column(name = &quot;MMP&quot;, columnDefinition = &quot;smallint&quot;)\r\n    private short MMP;\r\n\r\n    @Column(name = &quot;MMoveRange&quot;, columnDefinition = &quot;smallint&quot;, nullable = false)\r\n    private short MMoveRange;\r\n\r\n    @Column(name = &quot;MGbjType&quot;, columnDefinition = &quot;smallint&quot;, nullable = false)\r\n    private short MGbjType;\r\n\r\n    @Column(name = &quot;MRaceType&quot;, columnDefinition = &quot;smallint&quot;)\r\n    private short MRaceType;\r\n\r\n    @Column(name = &quot;MAiType&quot;, columnDefinition = &quot;smallint&quot;, nullable = false)\r\n    private short MAiType;\r\n\r\n    @Column(name = &quot;MCastingDelay&quot;, columnDefinition = &quot;smallint&quot;, nullable = false)\r\n    private short MCastingDelay;\r\n\r\n    @Column(name = &quot;MChaotic&quot;, columnDefinition = &quot;smallint&quot;, nullable = false)\r\n    private short MChaotic;\r\n\r\n    @Column(name = &quot;MSameRace1&quot;, nullable = false)\r\n    private int MSameRace1;\r\n\r\n    @Column(name = &quot;MSameRace2&quot;, nullable = false)\r\n    private int MSameRace2;\r\n\r\n    @Column(name = &quot;MSameRace3&quot;, nullable = false)\r\n    private int MSameRace3;\r\n\r\n    @Column(name = &quot;MSameRace4&quot;, nullable = false)\r\n    private int MSameRace4;\r\n\r\n    @Column(name = &quot;mSightRange&quot;, nullable = false)\r\n    private int mSightRange;\r\n\r\n    @Column(name = &quot;mAttackRange&quot;, nullable = false)\r\n    private int mAttackRange;\r\n\r\n    @Column(name = &quot;mSkillRange&quot;, nullable = false)\r\n    private int mSkillRange;\r\n\r\n    @Column(name = &quot;mBodySize&quot;, nullable = false)\r\n    private int mBodySize;\r\n\r\n    @Column(name = &quot;mDetectTransF&quot;, nullable = false, columnDefinition = &quot;smallint&quot;)\r\n    private short mDetectTransF;\r\n\r\n    @Column(name = &quot;mDetectTransP&quot;, nullable = false, columnDefinition = &quot;smallint&quot;)\r\n    private short mDetectTransP;\r\n\r\n    @Column(name = &quot;mDetectChao&quot;, nullable = false, columnDefinition = &quot;smallint&quot;)\r\n    private short mDetectChao;\r\n\r\n    @Column(name = &quot;mAiEx&quot;)\r\n    private int mAiEx;\r\n\r\n    @Column(name = &quot;mScale&quot;, nullable = false, columnDefinition = &quot;float&quot;, length = 53)\r\n    private double mScale;\r\n\r\n    @Column(name = &quot;mIsResistTransF&quot;, nullable = false, columnDefinition = &quot;bit&quot;)\r\n    private boolean mIsResistTransF;\r\n\r\n    @Column(name = &quot;mIsEvent&quot;, nullable = false, columnDefinition = &quot;bit&quot;)\r\n    private boolean mIsEvent;\r\n\r\n    @Column(name = &quot;mIsTest&quot;, nullable = false, columnDefinition = &quot;bit&quot;)\r\n    private boolean mIsTest;\r\n\r\n    @Column(name = &quot;mHPNew&quot;, nullable = false, columnDefinition = &quot;smallint&quot;)\r\n    private short mHPNew;\r\n\r\n    @Column(name = &quot;mMPNew&quot;, nullable = false, columnDefinition = &quot;smallint&quot;)\r\n    private short mMPNew;\r\n\r\n    @Column(name = &quot;mBuyMerchanID&quot;, nullable = false)\r\n    private int mBuyMerchanID;\r\n\r\n    @Column(name = &quot;mSellMerchanID&quot;, nullable = false)\r\n    private int mSellMerchanID;\r\n\r\n    @Column(name = &quot;mChargeMerchanID&quot;, nullable = false)\r\n    private int mChargeMerchanID;\r\n\r\n    @Column(name = &quot;mTransformWeight&quot;, nullable = false, columnDefinition = &quot;smallint&quot;)\r\n    private short mTransformWeight;\r\n\r\n    @Column(name = &quot;mNationOp&quot;, nullable = false, columnDefinition = &quot;bigint&quot;)\r\n    private long mNationOp;\r\n\r\n    @Column(name = &quot;mHPRegen&quot;, nullable = false, columnDefinition = &quot;smallint&quot;)\r\n    private short mHPRegen;\r\n\r\n    @Column(name = &quot;mMPRegen&quot;, nullable = false, columnDefinition = &quot;smallint&quot;)\r\n    private short mMPRegen;\r\n\r\n    @Column(name = &quot;IContentsLv&quot;, nullable = false, columnDefinition = &quot;tinyint&quot;)\r\n    private byte IContentsLv;\r\n\r\n    @Column(name = &quot;mIsEventTest&quot;, nullable = false, columnDefinition = &quot;bit&quot;)\r\n    private boolean mIsEventTest;\r\n\r\n    @Column(name = &quot;mIsShowHp&quot;, nullable = false, columnDefinition = &quot;bit&quot;)\r\n    private boolean mIsShowHp;\r\n\r\n    @Column(name = &quot;mSupportType&quot;, nullable = false, columnDefinition = &quot;timyint&quot;)\r\n    private byte mSupportType;\r\n\r\n    @Column(name = &quot;mVolitionOfHonor&quot;, nullable = false, columnDefinition = &quot;smallint&quot;)\r\n    private short mVolitionOfHonor;\r\n\r\n    @Column(name = &quot;mWMapIconType&quot;, nullable = false, columnDefinition = &quot;smallint&quot;)\r\n    private short mWMapIconType;\r\n\r\n    @Column(name = &quot;mIsAmpliableTermOfValidity&quot;, nullable = false, columnDefinition = &quot;bit&quot;)\r\n    private boolean mIsAmpliableTermOfValidity;\r\n\r\n    @Column(name = &quot;mAttackType&quot;, nullable = false, columnDefinition = &quot;tinyint&quot;)\r\n    private byte mAttackType;\r\n\r\n    @Column(name = &quot;mTransType&quot;, nullable = false, columnDefinition = &quot;tinyint&quot;)\r\n    private byte mTransType;\r\n\r\n    @Column(name = &quot;mDPV&quot;, nullable = false, columnDefinition = &quot;smallint&quot;)\r\n    private short mDPV;\r\n\r\n    @Column(name = &quot;mMPV&quot;, nullable = false, columnDefinition = &quot;smallint&quot;)\r\n    private short mMPV;\r\n\r\n    @Column(name = &quot;mRPV&quot;, nullable = false, columnDefinition = &quot;smallint&quot;)\r\n    private short mRPV;\r\n\r\n    @Column(name = &quot;mDDV&quot;, nullable = false, columnDefinition = &quot;smallint&quot;)\r\n    private short mDDV;\r\n\r\n    @Column(name = &quot;mMDV&quot;, nullable = false, columnDefinition = &quot;smallint&quot;)\r\n    private short mMDV;\r\n\r\n    @Column(name = &quot;mRDV&quot;, nullable = false, columnDefinition = &quot;smallint&quot;)\r\n    private short mRDV;\r\n\r\n    @Column(name = &quot;mSubDDWhenCritical&quot;, nullable = false, columnDefinition = &quot;smallint&quot;)\r\n    private short mSubDDWhenCritical;\r\n\r\n    @Column(name = &quot;mEnemySubCriticalHit&quot;, nullable = false, columnDefinition = &quot;smallint&quot;)\r\n    private short mEnemySubCriticalHit;\r\n\r\n    @Column(name = &quot;mEventQuest&quot;, nullable = false, columnDefinition = &quot;tinyint&quot;)\r\n    private byte mEventQuest;\r\n\r\n    @Column(name = &quot;mEScale&quot;, nullable = false, columnDefinition = &quot;float&quot;, length = 53)\r\n    private double mEScale;\r\n\r\n\r\n    @OneToMany(mappedBy = &quot;monster&quot;, cascade = CascadeType.ALL)\r\n    private List&lt;MonsterDrop&gt; monsterDrops = new ArrayList&lt;&gt;();\r\n\r\n    public Monster() {}\r\n\r\n}\r\n\r\n```\r\n\r\n\r\n```\r\n@Table(name = &quot;DT_MonsterDrop&quot;)\r\npublic class MonsterDrop {\r\n\r\n    @Id\r\n    private int MID;\r\n\r\n    @Column(name = &quot;DGroup&quot;)\r\n    private int DGroup;\r\n\r\n    @Column(name = &quot;DPercent&quot;, columnDefinition = &quot;tinyint&quot;)\r\n    private byte DPercent;\r\n\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;MID&quot;, insertable=false, updatable=false)\r\n    private Monster monster;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;DGroup&quot;, insertable=false, updatable=false)\r\n    private DropGroup dropGroup;\r\n\r\n    public MonsterDrop(){}\r\n\r\n\r\n}\r\n```\r\n\r\n\r\n```\r\n@Table(name = &quot;DT_DropGroup&quot;)\r\npublic class DropGroup {\r\n\r\n    @Id\r\n    @Column(name = &quot;DGroup&quot;)\r\n    private int DGroup;\r\n\r\n    @Column(name = &quot;DDrop&quot;)\r\n    private int DDrop;\r\n\r\n    @Column(name = &quot;DPercent&quot;, columnDefinition = &quot;real&quot;)\r\n    private float DPercent;\r\n\r\n\r\n    @OneToMany(mappedBy = &quot;dropGroup&quot;, cascade = CascadeType.ALL)\r\n    private List&lt;MonsterDrop&gt; monsterDrops = new ArrayList&lt;&gt;();\r\n\r\n    public DropGroup() {}\r\n\r\n\r\n}\r\n```\r\n\r\n&gt; CODE ERROR org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;alter table DT_MonsterDrop add constraint FKmsdbtbsin4to948knbnc44on8 foreign key (DGroup) references DT_DropGroup&quot; via JDBC Statement\r\n\r\nProblem in \r\n\r\n\r\n```\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;MID&quot;, insertable=false, updatable=false)\r\n    private Monster monster;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;DGroup&quot;, insertable=false, updatable=false)\r\n    private DropGroup dropGroup;\r\n```\r\n\r\nif you remove the @JoinColumn the problem is not\r\n\r\nsimilar problem in\r\n@JoinColumn(name = &quot;MID&quot;, insertable=false, updatable=false)\r\nand\r\n@JoinColumn(name = &quot;DGroup&quot;, insertable=false, updatable=false)","title":"how to make a relationship between tables in Java Spring","body":"<p>I have a request SQL and can't implement in Java spring`</p>\n<pre><code> SELECT DISTINCT\n    mo.MName AS 'Boss',\n        tdg.DName AS 'Name group',\n        it.IName AS 'Name item',\n        tpis.mDesc AS 'Item ',\n        CASE\n        WHEN evo.mObjID IS NULL THEN 'Not event item'\n        ELSE 'Event item'\n        END AS 'Event'\n        FROM\n        DT_Monster AS mo\n        INNER JOIN DT_MonsterDrop AS md ON mo.MID = md.MID\n        INNER JOIN DT_DropGroup AS dg ON md.DGroup = dg.DGroup\n        INNER JOIN TP_DropGroup AS tdg ON md.DGroup = tdg.DGroup\n        INNER JOIN DT_DropItem AS di ON dg.DDrop = di.DDrop\n        INNER JOIN TP_ItemStatus AS tpis ON di.DStatus = tpis.mStatus\n        INNER JOIN DT_Item AS it ON di.DItem = it.IID\n        LEFT JOIN TblEventObj AS evo ON it.IID = evo.mObjID\n        WHERE\n        mo.MID = 84\n        and di.DIsEvent = 0\n</code></pre>\n<pre><code>@Table(name = &quot;DT_Monster&quot;)\npublic class Monster {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;MID&quot;, nullable = false)\n    private int MID;\n\n    @Column(name = &quot;MName&quot;, columnDefinition = &quot;varchar&quot;, length = 40)\n    private String MName;\n\n    @Column(name = &quot;mLevel&quot;)\n    private int mLevel;\n\n    @Column(name = &quot;MClass&quot;)\n    private int MClass;\n\n    @Column(name = &quot;MExp&quot;)\n    private int MExp;\n\n    @Column(name = &quot;MHIT&quot;, columnDefinition = &quot;smallint&quot;)\n    private short MHIT;\n\n    @Column(name = &quot;MMinD&quot;, columnDefinition = &quot;smallint&quot;)\n    private short MMinD;\n\n    @Column(name = &quot;MMaxD&quot;, columnDefinition = &quot;smallint&quot;)\n    private short MMaxD;\n\n    @Column(name = &quot;MAttackRateOrg&quot;, columnDefinition = &quot;smallint&quot;)\n    private short MAttackRateOrg;\n\n    @Column(name = &quot;MMoveRateOrg&quot;, columnDefinition = &quot;smallint&quot;)\n    private short MMoveRateOrg;\n\n    @Column(name = &quot;MAttackRateNew&quot;, columnDefinition = &quot;smallint&quot;)\n    private short MAttackRateNew;\n\n    @Column(name = &quot;MMoveRateNew&quot;, columnDefinition = &quot;smallint&quot;)\n    private short MMoveRateNew;\n\n    @Column(name = &quot;MHP&quot;, columnDefinition = &quot;smallint&quot;)\n    private short MHP;\n\n    @Column(name = &quot;MMP&quot;, columnDefinition = &quot;smallint&quot;)\n    private short MMP;\n\n    @Column(name = &quot;MMoveRange&quot;, columnDefinition = &quot;smallint&quot;, nullable = false)\n    private short MMoveRange;\n\n    @Column(name = &quot;MGbjType&quot;, columnDefinition = &quot;smallint&quot;, nullable = false)\n    private short MGbjType;\n\n    @Column(name = &quot;MRaceType&quot;, columnDefinition = &quot;smallint&quot;)\n    private short MRaceType;\n\n    @Column(name = &quot;MAiType&quot;, columnDefinition = &quot;smallint&quot;, nullable = false)\n    private short MAiType;\n\n    @Column(name = &quot;MCastingDelay&quot;, columnDefinition = &quot;smallint&quot;, nullable = false)\n    private short MCastingDelay;\n\n    @Column(name = &quot;MChaotic&quot;, columnDefinition = &quot;smallint&quot;, nullable = false)\n    private short MChaotic;\n\n    @Column(name = &quot;MSameRace1&quot;, nullable = false)\n    private int MSameRace1;\n\n    @Column(name = &quot;MSameRace2&quot;, nullable = false)\n    private int MSameRace2;\n\n    @Column(name = &quot;MSameRace3&quot;, nullable = false)\n    private int MSameRace3;\n\n    @Column(name = &quot;MSameRace4&quot;, nullable = false)\n    private int MSameRace4;\n\n    @Column(name = &quot;mSightRange&quot;, nullable = false)\n    private int mSightRange;\n\n    @Column(name = &quot;mAttackRange&quot;, nullable = false)\n    private int mAttackRange;\n\n    @Column(name = &quot;mSkillRange&quot;, nullable = false)\n    private int mSkillRange;\n\n    @Column(name = &quot;mBodySize&quot;, nullable = false)\n    private int mBodySize;\n\n    @Column(name = &quot;mDetectTransF&quot;, nullable = false, columnDefinition = &quot;smallint&quot;)\n    private short mDetectTransF;\n\n    @Column(name = &quot;mDetectTransP&quot;, nullable = false, columnDefinition = &quot;smallint&quot;)\n    private short mDetectTransP;\n\n    @Column(name = &quot;mDetectChao&quot;, nullable = false, columnDefinition = &quot;smallint&quot;)\n    private short mDetectChao;\n\n    @Column(name = &quot;mAiEx&quot;)\n    private int mAiEx;\n\n    @Column(name = &quot;mScale&quot;, nullable = false, columnDefinition = &quot;float&quot;, length = 53)\n    private double mScale;\n\n    @Column(name = &quot;mIsResistTransF&quot;, nullable = false, columnDefinition = &quot;bit&quot;)\n    private boolean mIsResistTransF;\n\n    @Column(name = &quot;mIsEvent&quot;, nullable = false, columnDefinition = &quot;bit&quot;)\n    private boolean mIsEvent;\n\n    @Column(name = &quot;mIsTest&quot;, nullable = false, columnDefinition = &quot;bit&quot;)\n    private boolean mIsTest;\n\n    @Column(name = &quot;mHPNew&quot;, nullable = false, columnDefinition = &quot;smallint&quot;)\n    private short mHPNew;\n\n    @Column(name = &quot;mMPNew&quot;, nullable = false, columnDefinition = &quot;smallint&quot;)\n    private short mMPNew;\n\n    @Column(name = &quot;mBuyMerchanID&quot;, nullable = false)\n    private int mBuyMerchanID;\n\n    @Column(name = &quot;mSellMerchanID&quot;, nullable = false)\n    private int mSellMerchanID;\n\n    @Column(name = &quot;mChargeMerchanID&quot;, nullable = false)\n    private int mChargeMerchanID;\n\n    @Column(name = &quot;mTransformWeight&quot;, nullable = false, columnDefinition = &quot;smallint&quot;)\n    private short mTransformWeight;\n\n    @Column(name = &quot;mNationOp&quot;, nullable = false, columnDefinition = &quot;bigint&quot;)\n    private long mNationOp;\n\n    @Column(name = &quot;mHPRegen&quot;, nullable = false, columnDefinition = &quot;smallint&quot;)\n    private short mHPRegen;\n\n    @Column(name = &quot;mMPRegen&quot;, nullable = false, columnDefinition = &quot;smallint&quot;)\n    private short mMPRegen;\n\n    @Column(name = &quot;IContentsLv&quot;, nullable = false, columnDefinition = &quot;tinyint&quot;)\n    private byte IContentsLv;\n\n    @Column(name = &quot;mIsEventTest&quot;, nullable = false, columnDefinition = &quot;bit&quot;)\n    private boolean mIsEventTest;\n\n    @Column(name = &quot;mIsShowHp&quot;, nullable = false, columnDefinition = &quot;bit&quot;)\n    private boolean mIsShowHp;\n\n    @Column(name = &quot;mSupportType&quot;, nullable = false, columnDefinition = &quot;timyint&quot;)\n    private byte mSupportType;\n\n    @Column(name = &quot;mVolitionOfHonor&quot;, nullable = false, columnDefinition = &quot;smallint&quot;)\n    private short mVolitionOfHonor;\n\n    @Column(name = &quot;mWMapIconType&quot;, nullable = false, columnDefinition = &quot;smallint&quot;)\n    private short mWMapIconType;\n\n    @Column(name = &quot;mIsAmpliableTermOfValidity&quot;, nullable = false, columnDefinition = &quot;bit&quot;)\n    private boolean mIsAmpliableTermOfValidity;\n\n    @Column(name = &quot;mAttackType&quot;, nullable = false, columnDefinition = &quot;tinyint&quot;)\n    private byte mAttackType;\n\n    @Column(name = &quot;mTransType&quot;, nullable = false, columnDefinition = &quot;tinyint&quot;)\n    private byte mTransType;\n\n    @Column(name = &quot;mDPV&quot;, nullable = false, columnDefinition = &quot;smallint&quot;)\n    private short mDPV;\n\n    @Column(name = &quot;mMPV&quot;, nullable = false, columnDefinition = &quot;smallint&quot;)\n    private short mMPV;\n\n    @Column(name = &quot;mRPV&quot;, nullable = false, columnDefinition = &quot;smallint&quot;)\n    private short mRPV;\n\n    @Column(name = &quot;mDDV&quot;, nullable = false, columnDefinition = &quot;smallint&quot;)\n    private short mDDV;\n\n    @Column(name = &quot;mMDV&quot;, nullable = false, columnDefinition = &quot;smallint&quot;)\n    private short mMDV;\n\n    @Column(name = &quot;mRDV&quot;, nullable = false, columnDefinition = &quot;smallint&quot;)\n    private short mRDV;\n\n    @Column(name = &quot;mSubDDWhenCritical&quot;, nullable = false, columnDefinition = &quot;smallint&quot;)\n    private short mSubDDWhenCritical;\n\n    @Column(name = &quot;mEnemySubCriticalHit&quot;, nullable = false, columnDefinition = &quot;smallint&quot;)\n    private short mEnemySubCriticalHit;\n\n    @Column(name = &quot;mEventQuest&quot;, nullable = false, columnDefinition = &quot;tinyint&quot;)\n    private byte mEventQuest;\n\n    @Column(name = &quot;mEScale&quot;, nullable = false, columnDefinition = &quot;float&quot;, length = 53)\n    private double mEScale;\n\n\n    @OneToMany(mappedBy = &quot;monster&quot;, cascade = CascadeType.ALL)\n    private List&lt;MonsterDrop&gt; monsterDrops = new ArrayList&lt;&gt;();\n\n    public Monster() {}\n\n}\n\n</code></pre>\n<pre><code>@Table(name = &quot;DT_MonsterDrop&quot;)\npublic class MonsterDrop {\n\n    @Id\n    private int MID;\n\n    @Column(name = &quot;DGroup&quot;)\n    private int DGroup;\n\n    @Column(name = &quot;DPercent&quot;, columnDefinition = &quot;tinyint&quot;)\n    private byte DPercent;\n\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;MID&quot;, insertable=false, updatable=false)\n    private Monster monster;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;DGroup&quot;, insertable=false, updatable=false)\n    private DropGroup dropGroup;\n\n    public MonsterDrop(){}\n\n\n}\n</code></pre>\n<pre><code>@Table(name = &quot;DT_DropGroup&quot;)\npublic class DropGroup {\n\n    @Id\n    @Column(name = &quot;DGroup&quot;)\n    private int DGroup;\n\n    @Column(name = &quot;DDrop&quot;)\n    private int DDrop;\n\n    @Column(name = &quot;DPercent&quot;, columnDefinition = &quot;real&quot;)\n    private float DPercent;\n\n\n    @OneToMany(mappedBy = &quot;dropGroup&quot;, cascade = CascadeType.ALL)\n    private List&lt;MonsterDrop&gt; monsterDrops = new ArrayList&lt;&gt;();\n\n    public DropGroup() {}\n\n\n}\n</code></pre>\n<blockquote>\n<p>CODE ERROR org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;alter table DT_MonsterDrop add constraint FKmsdbtbsin4to948knbnc44on8 foreign key (DGroup) references DT_DropGroup&quot; via JDBC Statement</p>\n</blockquote>\n<p>Problem in</p>\n<pre><code>    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;MID&quot;, insertable=false, updatable=false)\n    private Monster monster;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;DGroup&quot;, insertable=false, updatable=false)\n    private DropGroup dropGroup;\n</code></pre>\n<p>if you remove the @JoinColumn the problem is not</p>\n<p>similar problem in\n@JoinColumn(name = &quot;MID&quot;, insertable=false, updatable=false)\nand\n@JoinColumn(name = &quot;DGroup&quot;, insertable=false, updatable=false)</p>\n"},{"tags":["java","spring","spring-context"],"comments":[{"owner":{"account_id":8733951,"reputation":368,"user_id":6533159,"display_name":"Daniele Repici"},"score":0,"creation_date":1683039412,"post_id":59248408,"comment_id":134303623,"body_markdown":"I wish this had a relevant answer. I just came across the same issue and I&#39;m baffled.","body":"I wish this had a relevant answer. I just came across the same issue and I&#39;m baffled."}],"answers":[{"tags":[],"owner":{"account_id":9847991,"reputation":56906,"user_id":7294900,"accept_rate":94,"display_name":"Ori Marko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1575893172,"creation_date":1575893172,"answer_id":59248599,"question_id":59248408,"body_markdown":"It states in [java docs][1] to use [ImportResource][2] for importing classes which aren&#39;t `@Configuration`\r\n&gt;If XML or other non-@Configuration bean definition resources need to be imported, use the @ImportResource annotation instead.\r\n\r\n[1]:https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/annotation/Import.html\r\n\r\n[2]:https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/annotation/ImportResource.html","title":"@Import registers non-@Component beans","body":"<p>It states in <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/annotation/Import.html\" rel=\"nofollow noreferrer\">java docs</a> to use <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/annotation/ImportResource.html\" rel=\"nofollow noreferrer\">ImportResource</a> for importing classes which aren't <code>@Configuration</code></p>\n\n<blockquote>\n  <p>If XML or other non-@Configuration bean definition resources need to be imported, use the @ImportResource annotation instead.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":21083132,"reputation":3230,"user_id":15496965,"display_name":"Henning"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1683376009,"creation_date":1683376009,"answer_id":76188884,"question_id":59248408,"body_markdown":"## Summary\r\n\r\nThe `@Import` annotation is designed to turn the referenced classes into bean definitions. If a &quot;regular&quot; component is imported with `@Import`, there is usually no reason to annotate it with `@Component` as this annotation does not prescribe any kind of behavior for the resulting bean. `@Component` does **not** primarily mark classes as Spring beans but as classes to be picked up by classpath scanning.\r\n\r\nUsually, the imported classes are configuration classes that are annotated with `@Configuration`. And the configuration classes will also be included in the final application context as beans. The word &quot;regular&quot; in this context is meant to refer to beans (or components) that are **not** also configuration classes or other kinds of beans that add themselves other bean definitions to the application context. The word &quot;regular&quot; here could also be replaced with e.g. &quot;normal&quot; or &quot;plain-vanilla&quot;.\r\n\r\nIn fact, configuration classes that are imported with `@Import` also don&#39;t need to be annotated with `@Configuration`. But in this case, there is a functional difference as the beans from the `@Bean` annotated factory methods will be produced in &quot;bean lite&quot; mode if the annotation `@Configuration` is missing.\r\n\r\n## Details\r\n\r\nThe annotation `@Component` does not describe any kind of behavior of the beans that are instances of the annotated class. It is really just a marker for classes. If classpath scanning is used to configure the application context, then any class annotated with `@Component` will be turned into a bean definition that will yield a bean that is an instance of the annotated class.\r\n\r\nThis is also stated in the javadoc of the annotation:\r\n\r\n&gt; Indicates that an annotated class is a &quot;component&quot;. Such classes are considered as candidates for auto-detection when using annotation-based configuration and classpath scanning.\r\n\r\nToday, annotation-based configuration and classpath scanning are the dominant way today to configure Spring application contexts. This wasn&#39;t true in the past, which also saw e.g. a lot of XML configuration. In fact, the Spring framework is older than Java 5, which was the first Java that introduced annotations to the language.\r\n\r\nIf annotation-based configuration is used but **not** classpath scanning, the annotation `@Import` allows to create references from central configuration classes to other configuration classes or in particular &quot;regular&quot; component classes. This is also how the reference documentation talks about this feature:\r\n\r\n&gt; As of Spring Framework 4.2, `@Import` also supports references to regular component classes, analogous to the `AnnotationConfigApplicationContext.register` method. This is particularly useful if you want to avoid component scanning, by using a few configuration classes as entry points to explicitly define all your components.\r\n\r\nSo if classpath scanning is not used, then there is basically no point in marking classes with `@Component` as it does not prescribe any behavior. This is not only true for &quot;regular&quot; beans that are imported with `@Import` but also for beans that come from `&lt;bean&gt;` elements in an XML configuration or functionally registered beans.\r\n\r\nBefore Spring 4.2 the annotation `@Import` could only import non-regular beans like e.g. `@Configuration` classes. This was because `@Import` can be thought of as the equivalent of the `&lt;import&gt;` element in XML configuration, which is used to include e.g. other XML files that then again contain `&lt;bean&gt;` elements.\r\n\r\nThe word &quot;regular&quot; in this context refers to classes that I would normally annotate with `@Component` if classpath scanning were used. The word is only used here to differentiate such classes from &quot;non-regular&quot; components like `@Configuration` classes, ImportSelector and ImportBeanDefinitionRegistrar implementations.","title":"@Import registers non-@Component beans","body":"<h2>Summary</h2>\n<p>The <code>@Import</code> annotation is designed to turn the referenced classes into bean definitions. If a &quot;regular&quot; component is imported with <code>@Import</code>, there is usually no reason to annotate it with <code>@Component</code> as this annotation does not prescribe any kind of behavior for the resulting bean. <code>@Component</code> does <strong>not</strong> primarily mark classes as Spring beans but as classes to be picked up by classpath scanning.</p>\n<p>Usually, the imported classes are configuration classes that are annotated with <code>@Configuration</code>. And the configuration classes will also be included in the final application context as beans. The word &quot;regular&quot; in this context is meant to refer to beans (or components) that are <strong>not</strong> also configuration classes or other kinds of beans that add themselves other bean definitions to the application context. The word &quot;regular&quot; here could also be replaced with e.g. &quot;normal&quot; or &quot;plain-vanilla&quot;.</p>\n<p>In fact, configuration classes that are imported with <code>@Import</code> also don't need to be annotated with <code>@Configuration</code>. But in this case, there is a functional difference as the beans from the <code>@Bean</code> annotated factory methods will be produced in &quot;bean lite&quot; mode if the annotation <code>@Configuration</code> is missing.</p>\n<h2>Details</h2>\n<p>The annotation <code>@Component</code> does not describe any kind of behavior of the beans that are instances of the annotated class. It is really just a marker for classes. If classpath scanning is used to configure the application context, then any class annotated with <code>@Component</code> will be turned into a bean definition that will yield a bean that is an instance of the annotated class.</p>\n<p>This is also stated in the javadoc of the annotation:</p>\n<blockquote>\n<p>Indicates that an annotated class is a &quot;component&quot;. Such classes are considered as candidates for auto-detection when using annotation-based configuration and classpath scanning.</p>\n</blockquote>\n<p>Today, annotation-based configuration and classpath scanning are the dominant way today to configure Spring application contexts. This wasn't true in the past, which also saw e.g. a lot of XML configuration. In fact, the Spring framework is older than Java 5, which was the first Java that introduced annotations to the language.</p>\n<p>If annotation-based configuration is used but <strong>not</strong> classpath scanning, the annotation <code>@Import</code> allows to create references from central configuration classes to other configuration classes or in particular &quot;regular&quot; component classes. This is also how the reference documentation talks about this feature:</p>\n<blockquote>\n<p>As of Spring Framework 4.2, <code>@Import</code> also supports references to regular component classes, analogous to the <code>AnnotationConfigApplicationContext.register</code> method. This is particularly useful if you want to avoid component scanning, by using a few configuration classes as entry points to explicitly define all your components.</p>\n</blockquote>\n<p>So if classpath scanning is not used, then there is basically no point in marking classes with <code>@Component</code> as it does not prescribe any behavior. This is not only true for &quot;regular&quot; beans that are imported with <code>@Import</code> but also for beans that come from <code>&lt;bean&gt;</code> elements in an XML configuration or functionally registered beans.</p>\n<p>Before Spring 4.2 the annotation <code>@Import</code> could only import non-regular beans like e.g. <code>@Configuration</code> classes. This was because <code>@Import</code> can be thought of as the equivalent of the <code>&lt;import&gt;</code> element in XML configuration, which is used to include e.g. other XML files that then again contain <code>&lt;bean&gt;</code> elements.</p>\n<p>The word &quot;regular&quot; in this context refers to classes that I would normally annotate with <code>@Component</code> if classpath scanning were used. The word is only used here to differentiate such classes from &quot;non-regular&quot; components like <code>@Configuration</code> classes, ImportSelector and ImportBeanDefinitionRegistrar implementations.</p>\n"},{"tags":[],"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683404141,"creation_date":1683391013,"answer_id":76190015,"question_id":59248408,"body_markdown":"While this maybe &quot;works&quot;:\r\n```\r\n@Configuration\r\n@Import({MyBean.class})\r\nclass MyConfig {\r\n    @Bean\r\n    Object object(MyBean myBean) { // this works\r\n        return new Object();\r\n    }\r\n}\r\n\r\nclass MyBean {} // no annotation here\r\n```\r\n\r\nThis (bean) won&#39;t (unless spring can &quot;resolve arguments&quot;):\r\n```lang-java\r\npackage io.external;\r\n//no spring annotations\r\npublic class MyBean {\r\n    public MyBean(String gotcha) { // ! ...\r\n      // just a demo\r\n    }\r\n} \r\n```\r\nThe context will fail to start with:\r\n```lang-text\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nParameter 0 of constructor in io.external.MyBean required a bean of type &#39;java.lang.String&#39; that could not be found.\r\n\r\n\r\nAction:\r\n\r\nConsider defining a bean of type &#39;java.lang.String&#39; in your configuration.\r\n```\r\n\r\n----------\r\n\r\n\r\nBy &quot;regular component classes&quot; spring documentation *must* refer to classes *annotated*:\r\n - `@Component`\r\n - `@Repository` (`@NoRepositoryBean`!;)\r\n - `@Service`\r\n - even `@Configuration` (, @SpringBootApplication, @TestConfiguration(?), ...) &lt;- most typical and documented for `@Import`\r\n - and their descendants/inheritors ...\r\n\r\n... as described by [beans-stereotype-annotations](https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-stereotype-annotations).\r\n\r\n----------\r\n\r\nOn the other hand, when we try without `@Import({MyBean.class})`, it also fails, due to:\r\n```lang-text\r\nParameter 0 of method object in com.example.... required a bean of type &#39;io.external.MyBean&#39; that could not be found.\r\n```\r\n\r\n\r\n----------\r\n\r\n\r\nThis, above observations and further tests (with spring non-/resolvable constructors) make me conclude, that:\r\n- `@Import(MyBean.class)` (on a &quot;non component class&quot;) behaves in the same kind as `@Bean MyBean myBean(...) { return new MyBean(...)}`.\r\n- Whereas the instantiation of `MyBean` is implemented by [`SimpleInstantiationStrategy`][1] ... (currently) so:\r\n  - When `MyBean` has a (i.e. no args) &quot;default constructor&quot;, this will be used.\r\n  - Otherwise, when there is:\r\n    - No unique constructor, resolution/instantiation fails with `No default constructor found`.\r\n    - A unique (non default) constructor, spring will try to resolve (auto-wire) constructor arguments ... with two possible outcomes (success or not).\r\n\r\n\r\n----------\r\n\r\n\r\nPlease experiment with different constructor combinations (&amp; order):\r\n```lang-java\r\npackage io.external;\r\n\r\npublic class MyBean {\r\n    //public MyBean(String gotcha) {\r\n    //    System.err.println(&quot;a&quot;);\r\n    //}\r\n\r\n    public MyBean(org.springframework.core.env.Environment fIoc) {\r\n        System.err.println(&quot;b&quot;);\r\n    }\r\n\r\n    //public MyBean() { // &lt;- this will pass!\r\n    //    System.err.println(&quot;c&quot;);\r\n    //}\r\n}\r\n```\r\n\r\n\r\n----------\r\n\r\n\r\nFor details and current documentation, please refer to:\r\n- https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-factory-class\r\n- https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-factory-properties-detailed\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-framework/blob/main/spring-beans/src/main/java/org/springframework/beans/factory/support/SimpleInstantiationStrategy.java","title":"@Import registers non-@Component beans","body":"<p>While this maybe &quot;works&quot;:</p>\n<pre><code>@Configuration\n@Import({MyBean.class})\nclass MyConfig {\n    @Bean\n    Object object(MyBean myBean) { // this works\n        return new Object();\n    }\n}\n\nclass MyBean {} // no annotation here\n</code></pre>\n<p>This (bean) won't (unless spring can &quot;resolve arguments&quot;):</p>\n<pre class=\"lang-java prettyprint-override\"><code>package io.external;\n//no spring annotations\npublic class MyBean {\n    public MyBean(String gotcha) { // ! ...\n      // just a demo\n    }\n} \n</code></pre>\n<p>The context will fail to start with:</p>\n<pre class=\"lang-text prettyprint-override\"><code>APPLICATION FAILED TO START\n***************************\n\nDescription:\n\nParameter 0 of constructor in io.external.MyBean required a bean of type 'java.lang.String' that could not be found.\n\n\nAction:\n\nConsider defining a bean of type 'java.lang.String' in your configuration.\n</code></pre>\n<hr />\n<p>By &quot;regular component classes&quot; spring documentation <em>must</em> refer to classes <em>annotated</em>:</p>\n<ul>\n<li><code>@Component</code></li>\n<li><code>@Repository</code> (<code>@NoRepositoryBean</code>!;)</li>\n<li><code>@Service</code></li>\n<li>even <code>@Configuration</code> (, @SpringBootApplication, @TestConfiguration(?), ...) &lt;- most typical and documented for <code>@Import</code></li>\n<li>and their descendants/inheritors ...</li>\n</ul>\n<p>... as described by <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-stereotype-annotations\" rel=\"nofollow noreferrer\">beans-stereotype-annotations</a>.</p>\n<hr />\n<p>On the other hand, when we try without <code>@Import({MyBean.class})</code>, it also fails, due to:</p>\n<pre class=\"lang-text prettyprint-override\"><code>Parameter 0 of method object in com.example.... required a bean of type 'io.external.MyBean' that could not be found.\n</code></pre>\n<hr />\n<p>This, above observations and further tests (with spring non-/resolvable constructors) make me conclude, that:</p>\n<ul>\n<li><code>@Import(MyBean.class)</code> (on a &quot;non component class&quot;) behaves in the same kind as <code>@Bean MyBean myBean(...) { return new MyBean(...)}</code>.</li>\n<li>Whereas the instantiation of <code>MyBean</code> is implemented by <a href=\"https://github.com/spring-projects/spring-framework/blob/main/spring-beans/src/main/java/org/springframework/beans/factory/support/SimpleInstantiationStrategy.java\" rel=\"nofollow noreferrer\"><code>SimpleInstantiationStrategy</code></a> ... (currently) so:\n<ul>\n<li>When <code>MyBean</code> has a (i.e. no args) &quot;default constructor&quot;, this will be used.</li>\n<li>Otherwise, when there is:\n<ul>\n<li>No unique constructor, resolution/instantiation fails with <code>No default constructor found</code>.</li>\n<li>A unique (non default) constructor, spring will try to resolve (auto-wire) constructor arguments ... with two possible outcomes (success or not).</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<hr />\n<p>Please experiment with different constructor combinations (&amp; order):</p>\n<pre class=\"lang-java prettyprint-override\"><code>package io.external;\n\npublic class MyBean {\n    //public MyBean(String gotcha) {\n    //    System.err.println(&quot;a&quot;);\n    //}\n\n    public MyBean(org.springframework.core.env.Environment fIoc) {\n        System.err.println(&quot;b&quot;);\n    }\n\n    //public MyBean() { // &lt;- this will pass!\n    //    System.err.println(&quot;c&quot;);\n    //}\n}\n</code></pre>\n<hr />\n<p>For details and current documentation, please refer to:</p>\n<ul>\n<li><a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-factory-class\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-factory-class</a></li>\n<li><a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-factory-properties-detailed\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-factory-properties-detailed</a></li>\n</ul>\n"}],"owner":{"account_id":2519922,"reputation":10415,"user_id":2190498,"accept_rate":30,"display_name":"ttulka"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":325,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1683404141,"creation_date":1575892514,"question_id":59248408,"body_markdown":"I have noticed that even classes not annotated with `@Component` are registered into the Spring context when they are declared in the `@Import` annotation. \r\n\r\n    @Configuration\r\n    @Import({MyBean.class})\r\n    class MyConfig {\r\n        @Bean\r\n        Object object(MyBean myBean) { // this works\r\n            return new Object();\r\n        }\r\n    }\r\n\r\n    class MyBean {} // no annotation here\r\n    \r\n\r\nThis behavior is not very clear from the `@Import` documentation. \r\n\r\nIs this wanted? Is it documented somewhere? Are there any differences between importing a non-`@component` and a `@Component` class? \r\n\r\nThe [documentation][1] says:\r\n\r\n&gt; Allows for importing @Configuration classes, ImportSelector and ImportBeanDefinitionRegistrar implementations, as well as regular component classes\r\n\r\nWhat is a &quot;regular component class&quot;? Any class or a class annotated with `@Component`?\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/annotation/Import.html","title":"@Import registers non-@Component beans","body":"<p>I have noticed that even classes not annotated with <code>@Component</code> are registered into the Spring context when they are declared in the <code>@Import</code> annotation. </p>\n\n<pre><code>@Configuration\n@Import({MyBean.class})\nclass MyConfig {\n    @Bean\n    Object object(MyBean myBean) { // this works\n        return new Object();\n    }\n}\n\nclass MyBean {} // no annotation here\n</code></pre>\n\n<p>This behavior is not very clear from the <code>@Import</code> documentation. </p>\n\n<p>Is this wanted? Is it documented somewhere? Are there any differences between importing a non-<code>@component</code> and a <code>@Component</code> class? </p>\n\n<p>The <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/annotation/Import.html\" rel=\"nofollow noreferrer\">documentation</a> says:</p>\n\n<blockquote>\n  <p>Allows for importing @Configuration classes, ImportSelector and ImportBeanDefinitionRegistrar implementations, as well as regular component classes</p>\n</blockquote>\n\n<p>What is a \"regular component class\"? Any class or a class annotated with <code>@Component</code>?</p>\n"},{"tags":["java","spring-boot","visual-studio-code","autocomplete","application.properties"],"comments":[{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":0,"creation_date":1669010396,"post_id":74497526,"comment_id":131536566,"body_markdown":"What kind of smart tips are you thinking of? Does it exist in other IDEs?","body":"What kind of smart tips are you thinking of? Does it exist in other IDEs?"}],"answers":[{"tags":[],"owner":{"account_id":34671,"reputation":8309,"user_id":98044,"accept_rate":95,"display_name":"Vini"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668845603,"creation_date":1668845603,"answer_id":74498450,"question_id":74497526,"body_markdown":"Do you have the necessary plugins/extension installed in your VS Code. \r\n\r\nTry installing [Spring Boot Tools](https://marketplace.visualstudio.com/items?itemName=Pivotal.vscode-spring-boot) and try again.\r\n\r\n","title":"why autocomplition is not working for application.properties file in vs code for spring boot project?","body":"<p>Do you have the necessary plugins/extension installed in your VS Code.</p>\n<p>Try installing <a href=\"https://marketplace.visualstudio.com/items?itemName=Pivotal.vscode-spring-boot\" rel=\"nofollow noreferrer\">Spring Boot Tools</a> and try again.</p>\n"},{"tags":[],"owner":{"account_id":28402386,"reputation":1,"user_id":21727001,"display_name":"Nishanth S"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682352265,"creation_date":1682352265,"answer_id":76093872,"question_id":74497526,"body_markdown":"&#160; &#160;**vs code =&gt; settings =&gt;** Editor:&#160;Quick Suggestions\r\n\r\n    &quot;editor.quickSuggestions&quot;: {\r\n    &#160; &#160; &#160; &#160; &quot;other&quot;: &quot;on&quot;,\r\n    &#160; &#160; &#160; &#160; &quot;comments&quot;: &quot;on&quot;,\r\n    &#160; &#160; &#160; &#160; &quot;strings&quot;: &quot;on&quot;\r\n    &#160; &#160; }\r\n\r\n","title":"why autocomplition is not working for application.properties file in vs code for spring boot project?","body":"<p>   <strong>vs code =&gt; settings =&gt;</strong> Editor: Quick Suggestions</p>\n<pre><code>&quot;editor.quickSuggestions&quot;: {\n        &quot;other&quot;: &quot;on&quot;,\n        &quot;comments&quot;: &quot;on&quot;,\n        &quot;strings&quot;: &quot;on&quot;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21513809,"reputation":1,"user_id":15856045,"display_name":"Chaitanya Sahu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683402677,"creation_date":1683402677,"answer_id":76190833,"question_id":74497526,"body_markdown":"I faced the same problem but autocompletion was working when I installed the &quot;Spring Boot Extension Pack&quot; extension.\r\nLet me know if it works for you.","title":"why autocomplition is not working for application.properties file in vs code for spring boot project?","body":"<p>I faced the same problem but autocompletion was working when I installed the &quot;Spring Boot Extension Pack&quot; extension.\nLet me know if it works for you.</p>\n"}],"owner":{"account_id":22342446,"reputation":1,"user_id":16562046,"display_name":"user16562046"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1380,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1683402677,"creation_date":1668831591,"question_id":74497526,"body_markdown":"I have created a Spring Boot project in Visual Studio Code. My issue is that autocompletion is not working in my `application.settings` file, it works fine in other parts of project. Any help will be appreciated.\r\n\r\n[Screenshot here](https://i.stack.imgur.com/RDOa4.png)\r\n\r\n","title":"why autocomplition is not working for application.properties file in vs code for spring boot project?","body":"<p>I have created a Spring Boot project in Visual Studio Code. My issue is that autocompletion is not working in my <code>application.settings</code> file, it works fine in other parts of project. Any help will be appreciated.</p>\n<p><a href=\"https://i.stack.imgur.com/RDOa4.png\" rel=\"nofollow noreferrer\">Screenshot here</a></p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":11653484,"reputation":12724,"user_id":8534008,"display_name":"GBlodgett"},"score":0,"creation_date":1525267698,"post_id":50135269,"comment_id":87289651,"body_markdown":"Does your program have anything to do with BeanShell?","body":"Does your program have anything to do with BeanShell?"},{"owner":{"account_id":3299651,"reputation":577,"user_id":2776114,"accept_rate":100,"display_name":"Brijesh Soni"},"score":0,"creation_date":1525337352,"post_id":50135269,"comment_id":87319176,"body_markdown":"No. Nothing is there related to BeanShell","body":"No. Nothing is there related to BeanShell"}],"answers":[{"tags":[],"owner":{"account_id":264830,"reputation":70811,"user_id":551406,"accept_rate":95,"display_name":"Michael Berry"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1525270013,"creation_date":1525270013,"answer_id":50136651,"question_id":50135269,"body_markdown":" &gt; But sometimes it automatically adds one line as below.\r\n\r\nYou probably have a stray `This` (note the capital T there) in your program which isn&#39;t linked to a type so causes a compilation error - you may have meant to write the Java keyword `this` (lower case t) instead.\r\n\r\nHowever, Eclipse doesn&#39;t know that, as far as it&#39;s concerned `This` is just another type that you may want to import. So it&#39;ll search for available imports and insert the relevant one it finds, which happens to be `bsh.This` in this case.\r\n\r\nYou should almost certainly just remove this, and fix any incorrect references to `This` (with a capital `T`) in your class.","title":"import bsh.This; statement in Eclipse","body":"<blockquote>\n  <p>But sometimes it automatically adds one line as below.</p>\n</blockquote>\n\n<p>You probably have a stray <code>This</code> (note the capital T there) in your program which isn't linked to a type so causes a compilation error - you may have meant to write the Java keyword <code>this</code> (lower case t) instead.</p>\n\n<p>However, Eclipse doesn't know that, as far as it's concerned <code>This</code> is just another type that you may want to import. So it'll search for available imports and insert the relevant one it finds, which happens to be <code>bsh.This</code> in this case.</p>\n\n<p>You should almost certainly just remove this, and fix any incorrect references to <code>This</code> (with a capital <code>T</code>) in your class.</p>\n"},{"tags":[],"owner":{"account_id":3299651,"reputation":577,"user_id":2776114,"accept_rate":100,"display_name":"Brijesh Soni"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1683402578,"creation_date":1527596553,"answer_id":50584323,"question_id":50135269,"body_markdown":"I found the reason for `import bsh.This;` after &lt;kbd&gt;Ctrl&lt;/kbd&gt; + &lt;kbd&gt;Shift&lt;/kbd&gt; + &lt;kbd&gt;O&lt;/kbd&gt;.\r\n\r\nPlease see the following code and its documentation:\r\n\r\n    /**\r\n    * @author Brijesh\r\n    * @param param1\r\n    * @param param2\r\n    * @see **This** method is used for some purpose\r\n    */\r\n    public void someLogicHere(Object param1, Object param2) {\r\n\r\n    }\r\n\r\nAs you can see, there is one keyword **This** in see section.\r\nEclipse is trying to import this from classpath.\r\n\r\n\r\n","title":"import bsh.This; statement in Eclipse","body":"<p>I found the reason for <code>import bsh.This;</code> after <kbd>Ctrl</kbd> + <kbd>Shift</kbd> + <kbd>O</kbd>.</p>\n<p>Please see the following code and its documentation:</p>\n<pre><code>/**\n* @author Brijesh\n* @param param1\n* @param param2\n* @see **This** method is used for some purpose\n*/\npublic void someLogicHere(Object param1, Object param2) {\n\n}\n</code></pre>\n<p>As you can see, there is one keyword <strong>This</strong> in see section.\nEclipse is trying to import this from classpath.</p>\n"}],"owner":{"account_id":3299651,"reputation":577,"user_id":2776114,"accept_rate":100,"display_name":"Brijesh Soni"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":435,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":50584323,"answer_count":2,"score":1,"last_activity_date":1683402578,"creation_date":1525265941,"question_id":50135269,"body_markdown":"In Eclipse, when I did with my coding part, I used to press &lt;kbd&gt;Ctrl&lt;/kbd&gt; + &lt;kbd&gt;Shift&lt;/kbd&gt; + &lt;kbd&gt;O&lt;/kbd&gt; to remove unused import statements.\r\n\r\nThis works fine. But sometimes it automatically adds one line as below.\r\n\r\n    import bsh.This;\r\n\r\nAnd this line did not recognize as compile error in Eclipse.\r\n\r\nEclipse version: Luna Service Release 2 (4.4.2)\r\n\r\nJDK version: 8\r\n\r\nIs there a solution for this problem?\r\n","title":"import bsh.This; statement in Eclipse","body":"<p>In Eclipse, when I did with my coding part, I used to press <kbd>Ctrl</kbd> + <kbd>Shift</kbd> + <kbd>O</kbd> to remove unused import statements.</p>\n<p>This works fine. But sometimes it automatically adds one line as below.</p>\n<pre><code>import bsh.This;\n</code></pre>\n<p>And this line did not recognize as compile error in Eclipse.</p>\n<p>Eclipse version: Luna Service Release 2 (4.4.2)</p>\n<p>JDK version: 8</p>\n<p>Is there a solution for this problem?</p>\n"},{"tags":["java","unit-testing","junit","mocking","mockito"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1644420635,"post_id":71052308,"comment_id":125602985,"body_markdown":"I would suggest that if you aren&#39;t able to communicate expected usage of the class with other people on the same project - whether that&#39;s via Javadocs, email, team meetings, documentation or whatever - then the problem is more of a communication one than a technical one.","body":"I would suggest that if you aren&#39;t able to communicate expected usage of the class with other people on the same project - whether that&#39;s via Javadocs, email, team meetings, documentation or whatever - then the problem is more of a communication one than a technical one."},{"owner":{"account_id":15718721,"reputation":988,"user_id":11342225,"display_name":"alea"},"score":0,"creation_date":1644429011,"post_id":71052308,"comment_id":125606558,"body_markdown":"@JonSkeet The problem is that I would like to prevent it programmatily. Javadoc can be ignored and is not always read, emails or documentations can be forgotten.  A easier way in my opinion would be when trying to execute the test. I see that a Javadoc hint in the `SpecialClass` would be good, but better would be an automatic way of letting other programmers know that they used the mocking of this class wrong.","body":"@JonSkeet The problem is that I would like to prevent it programmatily. Javadoc can be ignored and is not always read, emails or documentations can be forgotten.  A easier way in my opinion would be when trying to execute the test. I see that a Javadoc hint in the <code>SpecialClass</code> would be good, but better would be an automatic way of letting other programmers know that they used the mocking of this class wrong."},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1644429502,"post_id":71052308,"comment_id":125606764,"body_markdown":"My point is that if you can&#39;t trust your team-mates to pay attention to team conventions etc, there are bigger problems. Heck, you could always have a run-once-a-day job that searches for `mockStatic(SpecialClass.class)` in the codebase if you want to have *some* automated protection...","body":"My point is that if you can&#39;t trust your team-mates to pay attention to team conventions etc, there are bigger problems. Heck, you could always have a run-once-a-day job that searches for <code>mockStatic(SpecialClass.class)</code> in the codebase if you want to have <i>some</i> automated protection..."}],"answers":[{"tags":[],"owner":{"account_id":15718721,"reputation":988,"user_id":11342225,"display_name":"alea"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1683402501,"creation_date":1645120461,"answer_id":71163115,"question_id":71052308,"body_markdown":"If you have control over the class, you can use the annotation `@DoNotMock` ([official javadoc][1]). It can be placed over an class to prevent the mocking of the class.\r\n\r\nThat means that the class can look like this. \r\n\r\n    @DoNotMock(reason = &quot;Use a real instance instead&quot;)\r\n    class SpecialClass {\r\n        // ...\r\n    }\r\n\r\nIf you try to mock this class, you will get an error and the `reason` you have provided will be given to you. \r\n\r\nYou will need to have control over the class, since you need to place the annoation over it.\r\n\r\n----\r\n\r\nThe following is a less suboptimal solution, which should be only considered when you do not have control over the class.\r\n\r\nI used a junit test to read all my files and trying to detect all mocks.\r\nPlease note that my test is working in a very special assumption that all of my test classes are in the same directory. This will hoever not be given in every project. In this case you will need to find [the files recursivly][1].\r\n\r\n\r\n    class NoStaticMockTest {\r\n    \r\n        @Test\r\n        void testNoMocks() throws IOException {\r\n            // Base dir of my tests\r\n            File testDir = new File(&quot;src/test/java&quot;);\r\n            // reading all Files in the test directory excluding this file\r\n            for (File file : testDir.listFiles(pathname -&gt; !pathname.getAbsolutePath().endsWith(&quot;NoStaticMockTest.java&quot;) &amp;&amp; pathname.isFile())) {\r\n                try (FileInputStream fis = new FileInputStream(file)) {\r\n                    // Reading the contennt and trying to find MockedStatic&lt;SpecialClass&gt;\r\n                    String content = IOUtils.toString(fis);\r\n                    if (content.contains(&quot;MockedStatic&lt;SpecialClass&gt;&quot;)) {\r\n                        Assertions.fail(file.getAbsolutePath() + &quot; used MockedStatic&lt;SpecialClass&gt; which is not allowed&quot;);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/2056221/recursively-list-files-in-java","title":"Prevent special class from static mocking","body":"<p>If you have control over the class, you can use the annotation <code>@DoNotMock</code> (<a href=\"https://stackoverflow.com/questions/2056221/recursively-list-files-in-java\">official javadoc</a>). It can be placed over an class to prevent the mocking of the class.</p>\n<p>That means that the class can look like this.</p>\n<pre><code>@DoNotMock(reason = &quot;Use a real instance instead&quot;)\nclass SpecialClass {\n    // ...\n}\n</code></pre>\n<p>If you try to mock this class, you will get an error and the <code>reason</code> you have provided will be given to you.</p>\n<p>You will need to have control over the class, since you need to place the annoation over it.</p>\n<hr />\n<p>The following is a less suboptimal solution, which should be only considered when you do not have control over the class.</p>\n<p>I used a junit test to read all my files and trying to detect all mocks.\nPlease note that my test is working in a very special assumption that all of my test classes are in the same directory. This will hoever not be given in every project. In this case you will need to find <a href=\"https://stackoverflow.com/questions/2056221/recursively-list-files-in-java\">the files recursivly</a>.</p>\n<pre><code>class NoStaticMockTest {\n\n    @Test\n    void testNoMocks() throws IOException {\n        // Base dir of my tests\n        File testDir = new File(&quot;src/test/java&quot;);\n        // reading all Files in the test directory excluding this file\n        for (File file : testDir.listFiles(pathname -&gt; !pathname.getAbsolutePath().endsWith(&quot;NoStaticMockTest.java&quot;) &amp;&amp; pathname.isFile())) {\n            try (FileInputStream fis = new FileInputStream(file)) {\n                // Reading the contennt and trying to find MockedStatic&lt;SpecialClass&gt;\n                String content = IOUtils.toString(fis);\n                if (content.contains(&quot;MockedStatic&lt;SpecialClass&gt;&quot;)) {\n                    Assertions.fail(file.getAbsolutePath() + &quot; used MockedStatic&lt;SpecialClass&gt; which is not allowed&quot;);\n                }\n            }\n        }\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":15718721,"reputation":988,"user_id":11342225,"display_name":"alea"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":387,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71163115,"answer_count":1,"score":0,"last_activity_date":1683402501,"creation_date":1644420384,"question_id":71052308,"body_markdown":"I have a class named `SpecialClass`. This class has the method `doSomething` in it. This class is in this particular manner special, that I do not want to mock this class at all via `MockedStatic`. It is very easy for me to remeber that I don&#39;t want to mock this class, but there are other people programming at the same project and they should know to not mock this class but I can not relate on it.\r\n\r\nGiven this special test:\r\n\r\n    @Test\r\n    void testSomething(){\r\n        try(MockedStatic&lt;SpecialClass&gt; mock = Mockito.mockStatic(SpecialClass.class)){\r\n\r\n            mock.when(SpecialClass::doSomething).thenReturn(0);\r\n\r\n             System.out.println(SpecialClass.doSomething());\r\n        }\r\n    }\r\n\r\nI dont want to let this test execute at all. But it will execute, because Mockito does not know about my SpecialClass and not to mock it. There could be also various other locations where SpecialClass could be mocked.\r\n\r\nSome classes can not be mocked because of Mockito decides so. Given this mock of `java.lang.System`:\r\n\r\n    @Test\r\n    void testFail(){\r\n        try(MockedStatic&lt;System&gt; sys = Mockito.mockStatic(System.class)){\r\n            // some code\r\n        }\r\n    }\r\n\r\nI get the exception `org.mockito.exceptions.base.MockitoException: It is not possible to mock static methods of java.lang.System to avoid interfering with class loading what leads to infinite loops`, which is ok.\r\n\r\nMy question is: Can I somehow have some global project settings (or some annoations) to mark my class `SpecialClass` to be not used in Mockitos `MockedStatic`? I would be also ok if I can also not mock this class in a normal way.\r\n\r\nI tried to find some information regarding restricting mocks, but i was unable to find some.\r\n\r\nMy mockito version of mockito-core and mockito-inline is 4.3.1","title":"Prevent special class from static mocking","body":"<p>I have a class named <code>SpecialClass</code>. This class has the method <code>doSomething</code> in it. This class is in this particular manner special, that I do not want to mock this class at all via <code>MockedStatic</code>. It is very easy for me to remeber that I don't want to mock this class, but there are other people programming at the same project and they should know to not mock this class but I can not relate on it.</p>\n<p>Given this special test:</p>\n<pre><code>@Test\nvoid testSomething(){\n    try(MockedStatic&lt;SpecialClass&gt; mock = Mockito.mockStatic(SpecialClass.class)){\n\n        mock.when(SpecialClass::doSomething).thenReturn(0);\n\n         System.out.println(SpecialClass.doSomething());\n    }\n}\n</code></pre>\n<p>I dont want to let this test execute at all. But it will execute, because Mockito does not know about my SpecialClass and not to mock it. There could be also various other locations where SpecialClass could be mocked.</p>\n<p>Some classes can not be mocked because of Mockito decides so. Given this mock of <code>java.lang.System</code>:</p>\n<pre><code>@Test\nvoid testFail(){\n    try(MockedStatic&lt;System&gt; sys = Mockito.mockStatic(System.class)){\n        // some code\n    }\n}\n</code></pre>\n<p>I get the exception <code>org.mockito.exceptions.base.MockitoException: It is not possible to mock static methods of java.lang.System to avoid interfering with class loading what leads to infinite loops</code>, which is ok.</p>\n<p>My question is: Can I somehow have some global project settings (or some annoations) to mark my class <code>SpecialClass</code> to be not used in Mockitos <code>MockedStatic</code>? I would be also ok if I can also not mock this class in a normal way.</p>\n<p>I tried to find some information regarding restricting mocks, but i was unable to find some.</p>\n<p>My mockito version of mockito-core and mockito-inline is 4.3.1</p>\n"},{"tags":["java","android","kotlin","mvvm","android-viewmodel"],"answers":[{"tags":[],"owner":{"account_id":7365669,"reputation":5074,"user_id":5607457,"accept_rate":48,"display_name":"Greelings"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1683401940,"creation_date":1683401940,"answer_id":76190775,"question_id":76172845,"body_markdown":"I solved this problem by casting the Activity of the custom View to ViewModelStoreOwner and getting a ViewModel from ViewModelProvider created with this Activity :\r\n\r\n    private val mainViewModel by lazy {\r\n        ViewModelProvider(context as ViewModelStoreOwner).get&lt;MainViewModel&gt;()\r\n    }","title":"How can I retrieve a ViewModel associated with an Activity from a custom view?","body":"<p>I solved this problem by casting the Activity of the custom View to ViewModelStoreOwner and getting a ViewModel from ViewModelProvider created with this Activity :</p>\n<pre><code>private val mainViewModel by lazy {\n    ViewModelProvider(context as ViewModelStoreOwner).get&lt;MainViewModel&gt;()\n}\n</code></pre>\n"}],"owner":{"account_id":7365669,"reputation":5074,"user_id":5607457,"accept_rate":48,"display_name":"Greelings"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76190775,"answer_count":1,"score":0,"last_activity_date":1683401940,"creation_date":1683200962,"question_id":76172845,"body_markdown":"I can manage to retrieve a ViewModel associated with a Fragment but not with an Activity.\r\n\r\n**This works :**\r\n\r\n-Fragment- \r\n\r\n    private val mainViewModel: MainViewModel by viewModels()\r\n\r\n-Custom View-\r\n\r\n    private val mainViewModel by lazy {\r\n        ViewModelProvider(findViewTreeViewModelStoreOwner()!!).get&lt;MainViewModel&gt;()\r\n    }\r\n\r\n**But not that :**\r\n\r\n-Fragment- \r\n\r\n    private val mainViewModel: MainViewModel by activityViewModels()\r\n\r\n-Custom View-\r\n\r\n    private val mainViewModel by lazy {\r\n        ViewModelProvider(findViewTreeViewModelStoreOwner()!!).get&lt;MainViewModel&gt;()\r\n    }","title":"How can I retrieve a ViewModel associated with an Activity from a custom view?","body":"<p>I can manage to retrieve a ViewModel associated with a Fragment but not with an Activity.</p>\n<p><strong>This works :</strong></p>\n<p>-Fragment-</p>\n<pre><code>private val mainViewModel: MainViewModel by viewModels()\n</code></pre>\n<p>-Custom View-</p>\n<pre><code>private val mainViewModel by lazy {\n    ViewModelProvider(findViewTreeViewModelStoreOwner()!!).get&lt;MainViewModel&gt;()\n}\n</code></pre>\n<p><strong>But not that :</strong></p>\n<p>-Fragment-</p>\n<pre><code>private val mainViewModel: MainViewModel by activityViewModels()\n</code></pre>\n<p>-Custom View-</p>\n<pre><code>private val mainViewModel by lazy {\n    ViewModelProvider(findViewTreeViewModelStoreOwner()!!).get&lt;MainViewModel&gt;()\n}\n</code></pre>\n"},{"tags":["java","installation","jar","libraries","jfreechart"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":2,"creation_date":1683401970,"post_id":76190738,"comment_id":134362302,"body_markdown":"I’d recommend not managing dependencies by hand. If you **must** make more work for yourself consider getting the artifacts from the Maven repo, but you’ll need to get its transitive dependencies as well. It’s more work than necessary but you do you &#128077;&#127995;","body":"I’d recommend not managing dependencies by hand. If you <b>must</b> make more work for yourself consider getting the artifacts from the Maven repo, but you’ll need to get its transitive dependencies as well. It’s more work than necessary but you do you 👍🏻"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":2,"creation_date":1683408764,"post_id":76190738,"comment_id":134363130,"body_markdown":"You downloaded source code. If you need a jar library, you will need to build it with Maven or alternatively, if you want to use JFreeChart in a Maven project, add the dependency to your pom. You can see it [here](https://mvnrepository.com/artifact/org.jfree/jfreechart/1.5.4)","body":"You downloaded source code. If you need a jar library, you will need to build it with Maven or alternatively, if you want to use JFreeChart in a Maven project, add the dependency to your pom. You can see it <a href=\"https://mvnrepository.com/artifact/org.jfree/jfreechart/1.5.4\" rel=\"nofollow noreferrer\">here</a>"},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":1,"creation_date":1683411038,"post_id":76190738,"comment_id":134363362,"body_markdown":"Download from the [tag:maven] repository or build from source using [tag:maven]; possible duplicate of [_Create jfreechart-1.5.3 JAR from source code_](https://stackoverflow.com/a/69653678/230513).","body":"Download from the <a href=\"https://stackoverflow.com/questions/tagged/maven\">maven</a> repository or build from source using <a href=\"https://stackoverflow.com/questions/tagged/maven\">maven</a>; possible duplicate of <a href=\"https://stackoverflow.com/a/69653678/230513\"><i>Create jfreechart-1.5.3 JAR from source code</i></a>."},{"owner":{"account_id":27746873,"reputation":31,"user_id":21182183,"display_name":"EduHG"},"score":1,"creation_date":1683425292,"post_id":76190738,"comment_id":134364402,"body_markdown":"Thank you, building it from source worked &#128077;&#127995;","body":"Thank you, building it from source worked 👍🏻"}],"owner":{"account_id":27746873,"reputation":31,"user_id":21182183,"display_name":"EduHG"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1683454467,"answer_count":0,"score":1,"last_activity_date":1683401437,"creation_date":1683401437,"question_id":76190738,"body_markdown":"Hi I&#39;m having trouble adding the JFreeChart library. After I download it from https://github.com/jfree/jfreechart/releases/tag/v1.5.4 and decompress it, I can&#39;t find the .jar file.\r\n[![enter image description here][1]][1]\r\n\r\nHowever, even in the lib library folder there&#39;s a JavaScript file but I don&#39;t know if there&#39;s a way to add the library with these files, what am I missing?\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/aL5bQ.png\r\n  [2]: https://i.stack.imgur.com/qMi4I.png","title":"JavaFreeChart add Library - .jar not found","body":"<p>Hi I'm having trouble adding the JFreeChart library. After I download it from <a href=\"https://github.com/jfree/jfreechart/releases/tag/v1.5.4\" rel=\"nofollow noreferrer\">https://github.com/jfree/jfreechart/releases/tag/v1.5.4</a> and decompress it, I can't find the .jar file.\n<a href=\"https://i.stack.imgur.com/aL5bQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aL5bQ.png\" alt=\"enter image description here\" /></a></p>\n<p>However, even in the lib library folder there's a JavaScript file but I don't know if there's a way to add the library with these files, what am I missing?</p>\n<p><a href=\"https://i.stack.imgur.com/qMi4I.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qMi4I.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android","http","kotlin","httpurlconnection"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1619193971,"post_id":67232218,"comment_id":118840126,"body_markdown":"`At the same time, I need to send a string to the server every X seconds to update the data. ` That makes no sense as http protocol is not like that.","body":"<code>At the same time, I need to send a string to the server every X seconds to update the data. </code> That makes no sense as http protocol is not like that."}],"answers":[{"tags":[],"owner":{"account_id":17726924,"reputation":21,"user_id":14372205,"display_name":"Дмитрий Санковский"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1683400896,"creation_date":1619600896,"answer_id":67297167,"question_id":67232218,"body_markdown":"So i found the solution. `HttpUrlConnection` can&#39;t read and write data in the same time. To do this, you need to use a `Socket`. First you need to create a `Socket` and connect to the host:\r\n\r\n    InetAddress address = InetAddress.getByName(new URL(&quot;{your_url/your_mount_point}&quot;).getHost());\r\n    Socket socket = new Socket(address, PORT_NUMBER);\r\n    System.out.println(socket.isConnected());\r\n\r\nIf you connected successfully, then in the console you will see `true`.\r\n\r\nNow you have to open two streams to communicate with the server: `InputStream` and `OutputStream`:\r\n\r\n    PrintWriter output = new PrintWriter(socket.getOutputStream(), true);\r\n    BufferedInputStream input = new BufferedInputStream(socket.getInputStream());\r\n\r\nNow you can send GET, POST and others requests. To do this, we will use a `PrintWriter`: \r\n\r\n    String requestMessage = &quot;GET /{your_mount_point} HTTP/1.1\\r\\n&quot;;\r\n    output.println(requestMessage);\r\nWe use message `GET /{path} {protocol (HTTP/1.1 for example)}`. At the end of each line you must use CRLF `\\r\\n`. Then you can add the necessary headers according to the scheme: \r\n\r\n    output.println(&quot;{header name}: {header value}\\r\\n&quot;);\r\n\r\n    output.println(&quot;Connection: Keep-Alive&quot;);\r\n    output.println(&quot;Accept-Encoding: identity&quot;);\r\n\r\nAfter that, you can read data from the server. In my case, this is an endless stream of messages, so I will use the following option:\r\n\r\n    byte[] buffer = new byte[128];\r\n    int readBuffer = input.read(buffer);\r\n    while (readBuffer &gt; 0) {\r\n       System.out.println(Arrays.toString(buffer));\r\n       readBuffer = input.read(buffer);\r\n    }\r\n\r\nIf during data reading you need to change the header, you can send the string to the server again:\r\n\r\n    output.println(&quot;Connection: close&quot;);\r\n\r\nFull method looks like this:\r\n\r\n    void createSocket() {\r\n            try {\r\n                InetAddress address = InetAddress.getByName(new URL(&quot;your_url/your_mount_point&quot;).getHost());\r\n                Socket socket = new Socket(address, PORT_NUMBER);\r\n                System.out.println(socket.isConnected());\r\n    \r\n                PrintWriter output = new PrintWriter(socket.getOutputStream(), true);\r\n    \r\n                BufferedInputStream input = new BufferedInputStream(socket.getInputStream());\r\n    \r\n                String requestMessage = &quot;GET /{your_mount_point} HTTP/1.1\\r\\n&quot;;\r\n                output.println(requestMessage);\r\n                output.println(&quot;Ntrip-Version: Ntrip/2.0\\r\\n&quot;);\r\n                output.println(&quot;Connection: Keep-Alive&quot;);\r\n                output.println(&quot;Accept-Encoding: identity&quot;);\r\n                output.println(&quot;\\r\\n&quot;);\r\n    \r\n                byte[] buffer = new byte[128];\r\n    \r\n                int readBuffer = input.read(buffer);\r\n                while (readBuffer &gt; 0) {\r\n                    System.out.println(Arrays.toString(buffer));\r\n                    readBuffer = input.read(buffer);\r\n                }\r\n            } catch (MalformedURLException e) {\r\n                e.printStackTrace();\r\n            } catch (UnknownHostException e) {\r\n                e.printStackTrace();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }","title":"Reading and Writing from Server in loop in the same time on Android","body":"<p>So i found the solution. <code>HttpUrlConnection</code> can't read and write data in the same time. To do this, you need to use a <code>Socket</code>. First you need to create a <code>Socket</code> and connect to the host:</p>\n<pre><code>InetAddress address = InetAddress.getByName(new URL(&quot;{your_url/your_mount_point}&quot;).getHost());\nSocket socket = new Socket(address, PORT_NUMBER);\nSystem.out.println(socket.isConnected());\n</code></pre>\n<p>If you connected successfully, then in the console you will see <code>true</code>.</p>\n<p>Now you have to open two streams to communicate with the server: <code>InputStream</code> and <code>OutputStream</code>:</p>\n<pre><code>PrintWriter output = new PrintWriter(socket.getOutputStream(), true);\nBufferedInputStream input = new BufferedInputStream(socket.getInputStream());\n</code></pre>\n<p>Now you can send GET, POST and others requests. To do this, we will use a <code>PrintWriter</code>:</p>\n<pre><code>String requestMessage = &quot;GET /{your_mount_point} HTTP/1.1\\r\\n&quot;;\noutput.println(requestMessage);\n</code></pre>\n<p>We use message <code>GET /{path} {protocol (HTTP/1.1 for example)}</code>. At the end of each line you must use CRLF <code>\\r\\n</code>. Then you can add the necessary headers according to the scheme:</p>\n<pre><code>output.println(&quot;{header name}: {header value}\\r\\n&quot;);\n\noutput.println(&quot;Connection: Keep-Alive&quot;);\noutput.println(&quot;Accept-Encoding: identity&quot;);\n</code></pre>\n<p>After that, you can read data from the server. In my case, this is an endless stream of messages, so I will use the following option:</p>\n<pre><code>byte[] buffer = new byte[128];\nint readBuffer = input.read(buffer);\nwhile (readBuffer &gt; 0) {\n   System.out.println(Arrays.toString(buffer));\n   readBuffer = input.read(buffer);\n}\n</code></pre>\n<p>If during data reading you need to change the header, you can send the string to the server again:</p>\n<pre><code>output.println(&quot;Connection: close&quot;);\n</code></pre>\n<p>Full method looks like this:</p>\n<pre><code>void createSocket() {\n        try {\n            InetAddress address = InetAddress.getByName(new URL(&quot;your_url/your_mount_point&quot;).getHost());\n            Socket socket = new Socket(address, PORT_NUMBER);\n            System.out.println(socket.isConnected());\n\n            PrintWriter output = new PrintWriter(socket.getOutputStream(), true);\n\n            BufferedInputStream input = new BufferedInputStream(socket.getInputStream());\n\n            String requestMessage = &quot;GET /{your_mount_point} HTTP/1.1\\r\\n&quot;;\n            output.println(requestMessage);\n            output.println(&quot;Ntrip-Version: Ntrip/2.0\\r\\n&quot;);\n            output.println(&quot;Connection: Keep-Alive&quot;);\n            output.println(&quot;Accept-Encoding: identity&quot;);\n            output.println(&quot;\\r\\n&quot;);\n\n            byte[] buffer = new byte[128];\n\n            int readBuffer = input.read(buffer);\n            while (readBuffer &gt; 0) {\n                System.out.println(Arrays.toString(buffer));\n                readBuffer = input.read(buffer);\n            }\n        } catch (MalformedURLException e) {\n            e.printStackTrace();\n        } catch (UnknownHostException e) {\n            e.printStackTrace();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":17726924,"reputation":21,"user_id":14372205,"display_name":"Дмитрий Санковский"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":293,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":67297167,"answer_count":1,"score":1,"last_activity_date":1683400896,"creation_date":1619189643,"question_id":67232218,"body_markdown":"I need to create a connection to the server and read messages from the server for some time. At the same time, I need to send a string to the server every X seconds to update the data. I am using `HttpUrlConnection` and the following code:\r\n\r\nNTRIPClient.kt\r\n\r\n    class NTRIPClient {\r\n\r\n    private val bufferSize = ByteArray(64)\r\n    private val crlf = &quot;\\r\\n&quot;\r\n\r\n    private var inputStream: BufferedInputStream? = null\r\n\r\n    fun startConnection(gga: String, usbService: UsbService) {\r\n        con = url.openConnection() as HttpURLConnection?\r\n        con?.doOutput = true\r\n        con?.setChunkedStreamingMode(0)\r\n        con?.setRequestProperty(&quot;Ntrip-GGA&quot;, gga)\r\n        con?.setRequestProperty(&quot;Connection&quot;, &quot;Keep-Alive&quot;)\r\n        con?.setRequestProperty(&quot;Accept-Encoding&quot;, &quot;identity&quot;)\r\n\r\n        try {\r\n            inputStream = BufferedInputStream(con!!.inputStream)\r\n            var readBuffer = inputStream!!.read(bufferSize)\r\n            while (readBuffer &gt; 0) {\r\n                usbService.write(bufferSize)\r\n                readBuffer = inputStream!!.read(bufferSize)\r\n            }\r\n        } catch (e: IOException) {\r\n            e.printStackTrace()\r\n        } finally {\r\n            con?.disconnect()\r\n        }\r\n    }\r\n\r\n    fun updateGGA(gga: String) {\r\n        try {\r\n            val outputStream = OutputStreamWriter(con!!.outputStream)  //this line create error\r\n            outputStream.write(gga + crlf)\r\n            outputStream.close()\r\n        } catch (e: IOException) {\r\n            e.printStackTrace()\r\n        }\r\n    }\r\n\r\nCall NTRIPClient in ViewModel.kt\r\n\r\n    fun createNtripConnection(usbService: UsbService){\r\n            ntripScope.launch {\r\n                awaitAll(\r\n                    async {\r\n                        Log.d(TAG, &quot;createNtripConnection: START&quot;)\r\n                        ntripClient.startConnection(currentGGA, usbService)\r\n                    },\r\n                    async {\r\n                        delay(5000)\r\n                        ntripClient.updateGGA(currentGGA)\r\n                    }\r\n                )\r\n            }\r\n        }\r\n\r\nWhen I run the method `createNtripConnection` everything works fine, but when it comes time to execute the method `updateGGA` I get the following error:\r\n\r\n    W/System.err: java.io.IOException: unexpected end of stream on com.android.okhttp.Address@5170b14c\r\n            at com.android.okhttp.internal.http.Http1xStream.readResponse(Http1xStream.java:203)\r\n            at com.android.okhttp.internal.http.Http1xStream.readResponseHeaders(Http1xStream.java:129)\r\n            at com.android.okhttp.internal.http.HttpEngine.readNetworkResponse(HttpEngine.java:750)\r\n            at com.android.okhttp.internal.http.HttpEngine.readResponse(HttpEngine.java:622)\r\n            at com.android.okhttp.internal.huc.HttpURLConnectionImpl.execute(HttpURLConnectionImpl.java:475)\r\n            at com.android.okhttp.internal.huc.HttpURLConnectionImpl.getResponse(HttpURLConnectionImpl.java:411)\r\n            at com.android.okhttp.internal.huc.HttpURLConnectionImpl.getInputStream(HttpURLConnectionImpl.java:248)\r\n            at com.hq.advian.newtwork.NTRIPClient.startConnection(NTRIPClient.kt:43)\r\n            at com.hq.advian.viewmodel.ArViewModel$createNtripConnection$1$1.invokeSuspend(ArViewModel.kt:207)\r\n            at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)\r\n            at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:106)\r\n            at kotlinx.coroutines.scheduling.CoroutineScheduler.runSafely(CoroutineScheduler.kt:571)\r\n            at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.executeTask(CoroutineScheduler.kt:750)\r\n            at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.runWorker(CoroutineScheduler.kt:678)\r\n    W/System.err:     at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.run(CoroutineScheduler.kt:665)\r\n        Caused by: java.io.EOFException: \\n not found: size=0 content=...\r\n            at com.android.okhttp.okio.RealBufferedSource.readUtf8LineStrict(RealBufferedSource.java:202)\r\n            at com.android.okhttp.internal.http.Http1xStream.readResponse(Http1xStream.java:188)\r\n        \t... 14 more\r\n\r\nIf in the `updateGGA` at the very beginning I try to close the `inputStream`, on this line I get `java.lang.NullPointerException`. Can you help with this? Or there are other tools to solve this problem?","title":"Reading and Writing from Server in loop in the same time on Android","body":"<p>I need to create a connection to the server and read messages from the server for some time. At the same time, I need to send a string to the server every X seconds to update the data. I am using <code>HttpUrlConnection</code> and the following code:</p>\n<p>NTRIPClient.kt</p>\n<pre><code>class NTRIPClient {\n\nprivate val bufferSize = ByteArray(64)\nprivate val crlf = &quot;\\r\\n&quot;\n\nprivate var inputStream: BufferedInputStream? = null\n\nfun startConnection(gga: String, usbService: UsbService) {\n    con = url.openConnection() as HttpURLConnection?\n    con?.doOutput = true\n    con?.setChunkedStreamingMode(0)\n    con?.setRequestProperty(&quot;Ntrip-GGA&quot;, gga)\n    con?.setRequestProperty(&quot;Connection&quot;, &quot;Keep-Alive&quot;)\n    con?.setRequestProperty(&quot;Accept-Encoding&quot;, &quot;identity&quot;)\n\n    try {\n        inputStream = BufferedInputStream(con!!.inputStream)\n        var readBuffer = inputStream!!.read(bufferSize)\n        while (readBuffer &gt; 0) {\n            usbService.write(bufferSize)\n            readBuffer = inputStream!!.read(bufferSize)\n        }\n    } catch (e: IOException) {\n        e.printStackTrace()\n    } finally {\n        con?.disconnect()\n    }\n}\n\nfun updateGGA(gga: String) {\n    try {\n        val outputStream = OutputStreamWriter(con!!.outputStream)  //this line create error\n        outputStream.write(gga + crlf)\n        outputStream.close()\n    } catch (e: IOException) {\n        e.printStackTrace()\n    }\n}\n</code></pre>\n<p>Call NTRIPClient in ViewModel.kt</p>\n<pre><code>fun createNtripConnection(usbService: UsbService){\n        ntripScope.launch {\n            awaitAll(\n                async {\n                    Log.d(TAG, &quot;createNtripConnection: START&quot;)\n                    ntripClient.startConnection(currentGGA, usbService)\n                },\n                async {\n                    delay(5000)\n                    ntripClient.updateGGA(currentGGA)\n                }\n            )\n        }\n    }\n</code></pre>\n<p>When I run the method <code>createNtripConnection</code> everything works fine, but when it comes time to execute the method <code>updateGGA</code> I get the following error:</p>\n<pre><code>W/System.err: java.io.IOException: unexpected end of stream on com.android.okhttp.Address@5170b14c\n        at com.android.okhttp.internal.http.Http1xStream.readResponse(Http1xStream.java:203)\n        at com.android.okhttp.internal.http.Http1xStream.readResponseHeaders(Http1xStream.java:129)\n        at com.android.okhttp.internal.http.HttpEngine.readNetworkResponse(HttpEngine.java:750)\n        at com.android.okhttp.internal.http.HttpEngine.readResponse(HttpEngine.java:622)\n        at com.android.okhttp.internal.huc.HttpURLConnectionImpl.execute(HttpURLConnectionImpl.java:475)\n        at com.android.okhttp.internal.huc.HttpURLConnectionImpl.getResponse(HttpURLConnectionImpl.java:411)\n        at com.android.okhttp.internal.huc.HttpURLConnectionImpl.getInputStream(HttpURLConnectionImpl.java:248)\n        at com.hq.advian.newtwork.NTRIPClient.startConnection(NTRIPClient.kt:43)\n        at com.hq.advian.viewmodel.ArViewModel$createNtripConnection$1$1.invokeSuspend(ArViewModel.kt:207)\n        at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)\n        at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:106)\n        at kotlinx.coroutines.scheduling.CoroutineScheduler.runSafely(CoroutineScheduler.kt:571)\n        at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.executeTask(CoroutineScheduler.kt:750)\n        at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.runWorker(CoroutineScheduler.kt:678)\nW/System.err:     at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.run(CoroutineScheduler.kt:665)\n    Caused by: java.io.EOFException: \\n not found: size=0 content=...\n        at com.android.okhttp.okio.RealBufferedSource.readUtf8LineStrict(RealBufferedSource.java:202)\n        at com.android.okhttp.internal.http.Http1xStream.readResponse(Http1xStream.java:188)\n        ... 14 more\n</code></pre>\n<p>If in the <code>updateGGA</code> at the very beginning I try to close the <code>inputStream</code>, on this line I get <code>java.lang.NullPointerException</code>. Can you help with this? Or there are other tools to solve this problem?</p>\n"},{"tags":["java","mongodb"],"owner":{"account_id":20530075,"reputation":67,"user_id":15067565,"display_name":"Knife worm"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683400186,"creation_date":1683398788,"question_id":76190563,"body_markdown":"I am trying to currently connect to my mongodb database in java with uuidRepresentation enabled. When trying to do this i receive this error  \r\n```\r\nCaused by: com.mongodb.MongoSecurityException: Exception authenticating MongoCredential{mechanism=SCRAM-SHA-256, userName=&#39;admin&#39;, source=&#39;authDb&#39;, password=&lt;hidden&gt;, mechanismProperties=&lt;hidden&gt;}\r\nCaused by: com.mongodb.MongoCommandException: Command failed with error 17 (ProtocolError): &#39;Attempt to switch database target during SASL authentication.&#39; on server 185.209.223.136:2002. The full response is {&quot;ok&quot;: 0.0, &quot;errmsg&quot;: &quot;Attempt to switch database target during SASL authentication.&quot;, &quot;code&quot;: 17, &quot;codeName&quot;: &quot;ProtocolError&quot;}\r\n```\r\n\r\nHere is how I am connecting to my mongo database\r\n```\r\n        MongoClient mongoClient = new MongoClient(&quot;mongodb://admin:&lt;nopasswordforyou&gt;@185.209.223.136:2002/authDb?uuidRepresentation=javaLegacy&quot;);\r\n\r\n        MongoDatabase database = mongoClient.getDatabase(&quot;test&quot;);\r\n        MongoCollection&lt;Document&gt; collection = database.getCollection(&quot;bans&quot;);\r\n```","title":"MongoDB uuidRepresentation Java issue","body":"<p>I am trying to currently connect to my mongodb database in java with uuidRepresentation enabled. When trying to do this i receive this error</p>\n<pre><code>Caused by: com.mongodb.MongoSecurityException: Exception authenticating MongoCredential{mechanism=SCRAM-SHA-256, userName='admin', source='authDb', password=&lt;hidden&gt;, mechanismProperties=&lt;hidden&gt;}\nCaused by: com.mongodb.MongoCommandException: Command failed with error 17 (ProtocolError): 'Attempt to switch database target during SASL authentication.' on server 185.209.223.136:2002. The full response is {&quot;ok&quot;: 0.0, &quot;errmsg&quot;: &quot;Attempt to switch database target during SASL authentication.&quot;, &quot;code&quot;: 17, &quot;codeName&quot;: &quot;ProtocolError&quot;}\n</code></pre>\n<p>Here is how I am connecting to my mongo database</p>\n<pre><code>        MongoClient mongoClient = new MongoClient(&quot;mongodb://admin:&lt;nopasswordforyou&gt;@185.209.223.136:2002/authDb?uuidRepresentation=javaLegacy&quot;);\n\n        MongoDatabase database = mongoClient.getDatabase(&quot;test&quot;);\n        MongoCollection&lt;Document&gt; collection = database.getCollection(&quot;bans&quot;);\n</code></pre>\n"},{"tags":["java","hibernate","jax-rs"],"comments":[{"owner":{"account_id":3449881,"reputation":3520,"user_id":2889760,"display_name":"Gavin King"},"score":0,"creation_date":1683408937,"post_id":76190621,"comment_id":134363145,"body_markdown":"I mean, you&#39;re catching and throwing away the `NullPointerException`, so we can&#39;t see the stack trace, and can&#39;t tell which line of code throws the NPE. That makes the question impossible to answer.","body":"I mean, you&#39;re catching and throwing away the <code>NullPointerException</code>, so we can&#39;t see the stack trace, and can&#39;t tell which line of code throws the NPE. That makes the question impossible to answer."}],"owner":{"account_id":18959823,"reputation":507,"user_id":13835615,"display_name":"jasonmzx"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683400170,"creation_date":1683399778,"question_id":76190621,"body_markdown":"I&#39;m having an issue when I call /search endpoint, The try block always throws a null pointer exception, and &quot;not found&quot; is the response.\r\n\r\n**/search endpoint**\r\n```java\r\nimport java.util.List;\r\n\r\nimport org.ezcampus.search.hibernate.entity.ClassType;\r\nimport org.ezcampus.search.hibernate.entity.Term;\r\nimport org.ezcampus.search.hibernate.entity.Word;\r\nimport org.ezcampus.search.hibernate.entity.WordDAO;\r\nimport org.ezcampus.search.hibernate.util.SessionUtil;\r\nimport org.hibernate.Session;\r\n\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\n\r\n\r\n@Path(&quot;/search&quot;)\r\npublic class Search {\r\n    \r\n    private final ObjectMapper jsonMap = new ObjectMapper();\r\n        \r\n    @GET\r\n    @Produces(MediaType.APPLICATION_JSON)\r\n    public Response getRequestBody(\r\n            @QueryParam(&quot;search_term&quot;) String searchTerm,\r\n            @QueryParam(&quot;page&quot;) int page,\r\n            @QueryParam(&quot;results_per_page&quot;) int resultsPerPage\r\n    ) \r\n    {\r\n       try {\r\n    \t   return Response.status(Response.Status.OK).entity(\r\n    \t\t\t   WordDAO.getWord(&quot;12345&quot;)\r\n    \t\t\t   ).build();\r\n       } catch (NullPointerException e) {\r\n           return Response.status(Response.Status.NOT_FOUND).entity(\r\n                   &quot;not found&quot;\r\n           ).build();  \r\n       }              \r\n    } \r\n}\r\n```\r\n\r\nIt&#39;s quite weird since when I call `WordDAO.getWord(&quot;12345&quot;)` In A random App.java file with main method, I get a string response. This function runs and returns fine...\r\n\r\nBut when I&#39;m calling the endpoint, it always throws some NullPointerException and ends up responding with the catch block -&gt; `not_found`\r\n\r\n```java\r\nimport org.ezcampus.search.hibernate.util.SessionUtil;\r\nimport org.hibernate.Session;\r\n\r\npublic class WordDAO {\r\n\r\n\tpublic static String getWord(String input) {\r\n\t\t\r\n\t\ttry (Session session = SessionUtil.getSessionFactory().openSession()) {\r\n\t\t\t\r\n\t\t\tWord existingWord = session.createQuery(&quot;FROM Word WHERE word = :entry&quot;, Word.class)\r\n\t\t\t\t\t.setParameter(&quot;entry&quot;, input).uniqueResult();\r\n\t\t\t\r\n\t\t\treturn existingWord.toString();\r\n\t\t}\r\n\t\t\r\n\t}\r\n\t\r\n}\r\n\r\n```\r\n\r\nSession Factory:\r\n\r\n```java\r\n\r\nimport org.hibernate.SessionFactory;\r\nimport org.hibernate.boot.Metadata;\r\nimport org.hibernate.boot.MetadataSources;\r\nimport org.hibernate.boot.registry.StandardServiceRegistry;\r\nimport org.hibernate.boot.registry.StandardServiceRegistryBuilder;\r\nimport org.tinylog.Logger;\r\n\r\npublic class SessionUtil\r\n{\r\n\tprivate static StandardServiceRegistry registry;\r\n\tprivate static SessionFactory sessionFactory;\r\n\r\n\tpublic static SessionFactory getSessionFactory()\r\n\t{\r\n\t\tif (sessionFactory == null)\r\n\t\t{\r\n\t\t\ttry\r\n\t\t\t{\r\n\t\t\t\t// Create registry\r\n\t\t\t\tregistry = new StandardServiceRegistryBuilder().configure().build();\r\n\r\n\t\t\t\t// Create MetadataSources\r\n\t\t\t\tMetadataSources sources = new MetadataSources(registry);\r\n\r\n\t\t\t\t// Create Metadata\r\n\t\t\t\tMetadata metadata = sources.getMetadataBuilder().build();\r\n\r\n\t\t\t\t// Create SessionFactory\r\n\t\t\t\tsessionFactory = metadata.getSessionFactoryBuilder().build();\r\n\r\n\t\t\t}\r\n\t\t\tcatch (Exception e)\r\n\t\t\t{\r\n\t\t\t\tLogger.error(e);\r\n\r\n\t\t\t\tif (registry != null)\r\n\t\t\t\t{\r\n\t\t\t\t\tStandardServiceRegistryBuilder.destroy(registry);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn sessionFactory;\r\n\t}\r\n\r\n\tpublic static void shutdown()\r\n\t{\r\n\t\tif (registry != null)\r\n\t\t{\r\n\t\t\tStandardServiceRegistryBuilder.destroy(registry);\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\nMain Application Program (Using Jax-RS Jersey)\r\n\r\n```java\r\n@ApplicationPath(&quot;/&quot;)\r\npublic class Program extends ResourceConfig {\r\n\r\n    public Program() {\r\n        GlobalSettings.IS_DEBUG = true;\r\n\r\n        ResourceLoader.loadTinyLogConfig();\r\n\r\n        Logger.info(&quot;{} starting...&quot;, GlobalSettings.BRAND_LONG);\r\n        Logger.info(&quot;Running as debug: {}&quot;, GlobalSettings.IS_DEBUG);\r\n\r\n        // Set the package where the resources are located\r\n        packages(&quot;org.github.xyz.rest&quot;);\r\n\r\n\r\n    }\r\n}\r\n```\r\n\r\nWhat could be causing this issue? \r\n\r\nUpdate: MVN Dependencies\r\n\r\n```\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/mysql/mysql-connector-java --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;8.0.33&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.postgresql/postgresql --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;42.5.4&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.tinylog&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;tinylog-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.6.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.tinylog&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;tinylog-impl&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.6.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;jakarta.enterprise&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jakarta.enterprise.cdi-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.0.0&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;jakarta.ws.rs&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jakarta.ws.rs-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.0.0&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;jakarta.servlet&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jakarta.servlet-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.0.0&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${junit.version}&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${junit.version}&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n                \r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.hibernate.orm&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;6.2.2.Final&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n                \r\n               &lt;!-- https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-databind --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.14.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n                \r\n        &lt;!-- Adding jersey --&gt;\r\n        &lt;dependency&gt;\r\n    &lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jersey-server&lt;/artifactId&gt;\r\n    &lt;version&gt;3.0.3&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n                \r\n\t&lt;/dependencies&gt;\r\n```","title":"Jax-RS &amp; Hibernate Endpoint isn&#39;t properly able to make queries with Hibernate","body":"<p>I'm having an issue when I call /search endpoint, The try block always throws a null pointer exception, and &quot;not found&quot; is the response.</p>\n<p><strong>/search endpoint</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.List;\n\nimport org.ezcampus.search.hibernate.entity.ClassType;\nimport org.ezcampus.search.hibernate.entity.Term;\nimport org.ezcampus.search.hibernate.entity.Word;\nimport org.ezcampus.search.hibernate.entity.WordDAO;\nimport org.ezcampus.search.hibernate.util.SessionUtil;\nimport org.hibernate.Session;\n\nimport com.fasterxml.jackson.databind.ObjectMapper;\n\n\n@Path(&quot;/search&quot;)\npublic class Search {\n    \n    private final ObjectMapper jsonMap = new ObjectMapper();\n        \n    @GET\n    @Produces(MediaType.APPLICATION_JSON)\n    public Response getRequestBody(\n            @QueryParam(&quot;search_term&quot;) String searchTerm,\n            @QueryParam(&quot;page&quot;) int page,\n            @QueryParam(&quot;results_per_page&quot;) int resultsPerPage\n    ) \n    {\n       try {\n           return Response.status(Response.Status.OK).entity(\n                   WordDAO.getWord(&quot;12345&quot;)\n                   ).build();\n       } catch (NullPointerException e) {\n           return Response.status(Response.Status.NOT_FOUND).entity(\n                   &quot;not found&quot;\n           ).build();  \n       }              \n    } \n}\n</code></pre>\n<p>It's quite weird since when I call <code>WordDAO.getWord(&quot;12345&quot;)</code> In A random App.java file with main method, I get a string response. This function runs and returns fine...</p>\n<p>But when I'm calling the endpoint, it always throws some NullPointerException and ends up responding with the catch block -&gt; <code>not_found</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.ezcampus.search.hibernate.util.SessionUtil;\nimport org.hibernate.Session;\n\npublic class WordDAO {\n\n    public static String getWord(String input) {\n        \n        try (Session session = SessionUtil.getSessionFactory().openSession()) {\n            \n            Word existingWord = session.createQuery(&quot;FROM Word WHERE word = :entry&quot;, Word.class)\n                    .setParameter(&quot;entry&quot;, input).uniqueResult();\n            \n            return existingWord.toString();\n        }\n        \n    }\n    \n}\n\n</code></pre>\n<p>Session Factory:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nimport org.hibernate.SessionFactory;\nimport org.hibernate.boot.Metadata;\nimport org.hibernate.boot.MetadataSources;\nimport org.hibernate.boot.registry.StandardServiceRegistry;\nimport org.hibernate.boot.registry.StandardServiceRegistryBuilder;\nimport org.tinylog.Logger;\n\npublic class SessionUtil\n{\n    private static StandardServiceRegistry registry;\n    private static SessionFactory sessionFactory;\n\n    public static SessionFactory getSessionFactory()\n    {\n        if (sessionFactory == null)\n        {\n            try\n            {\n                // Create registry\n                registry = new StandardServiceRegistryBuilder().configure().build();\n\n                // Create MetadataSources\n                MetadataSources sources = new MetadataSources(registry);\n\n                // Create Metadata\n                Metadata metadata = sources.getMetadataBuilder().build();\n\n                // Create SessionFactory\n                sessionFactory = metadata.getSessionFactoryBuilder().build();\n\n            }\n            catch (Exception e)\n            {\n                Logger.error(e);\n\n                if (registry != null)\n                {\n                    StandardServiceRegistryBuilder.destroy(registry);\n                }\n            }\n        }\n        return sessionFactory;\n    }\n\n    public static void shutdown()\n    {\n        if (registry != null)\n        {\n            StandardServiceRegistryBuilder.destroy(registry);\n        }\n    }\n}\n</code></pre>\n<p>Main Application Program (Using Jax-RS Jersey)</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ApplicationPath(&quot;/&quot;)\npublic class Program extends ResourceConfig {\n\n    public Program() {\n        GlobalSettings.IS_DEBUG = true;\n\n        ResourceLoader.loadTinyLogConfig();\n\n        Logger.info(&quot;{} starting...&quot;, GlobalSettings.BRAND_LONG);\n        Logger.info(&quot;Running as debug: {}&quot;, GlobalSettings.IS_DEBUG);\n\n        // Set the package where the resources are located\n        packages(&quot;org.github.xyz.rest&quot;);\n\n\n    }\n}\n</code></pre>\n<p>What could be causing this issue?</p>\n<p>Update: MVN Dependencies</p>\n<pre><code>    &lt;dependencies&gt;\n        &lt;!-- https://mvnrepository.com/artifact/mysql/mysql-connector-java --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;version&gt;8.0.33&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/org.postgresql/postgresql --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;version&gt;42.5.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.tinylog&lt;/groupId&gt;\n            &lt;artifactId&gt;tinylog-api&lt;/artifactId&gt;\n            &lt;version&gt;2.6.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.tinylog&lt;/groupId&gt;\n            &lt;artifactId&gt;tinylog-impl&lt;/artifactId&gt;\n            &lt;version&gt;2.6.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.enterprise&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.enterprise.cdi-api&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.ws.rs&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.ws.rs-api&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.servlet-api&lt;/artifactId&gt;\n            &lt;version&gt;5.0.0&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n            &lt;version&gt;${junit.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n            &lt;version&gt;${junit.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n                \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate.orm&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n            &lt;version&gt;6.2.2.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n                \n               &lt;!-- https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-databind --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n            &lt;version&gt;2.14.1&lt;/version&gt;\n        &lt;/dependency&gt;\n                \n        &lt;!-- Adding jersey --&gt;\n        &lt;dependency&gt;\n    &lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;\n    &lt;artifactId&gt;jersey-server&lt;/artifactId&gt;\n    &lt;version&gt;3.0.3&lt;/version&gt;\n        &lt;/dependency&gt;\n                \n    &lt;/dependencies&gt;\n</code></pre>\n"},{"tags":["java","spring","log4j"],"answers":[{"tags":[],"owner":{"account_id":30898,"reputation":8917,"user_id":84538,"accept_rate":100,"display_name":"jon hanson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1683399863,"creation_date":1683274945,"answer_id":76180188,"question_id":76179902,"body_markdown":"According to the Javadocs, Log4j filters return one of 3 values after checking the log message:\r\n\r\n&gt; If the value DENY is returned, then the log event is dropped immediately without consulting with the remaining filters.\r\n&gt; If the value NEUTRAL is returned, then the next filter in the chain is consulted. If there are no more filters in the chain, then the log event is logged. Thus, in the presence of no filters, the default behaviour is to log all logging events.\r\n&gt; If the value ACCEPT is returned, then the log event is logged without consulting the remaining filters. \r\n\r\nMeanwhile, the `StringMatchFilter` Javadocs have this to say:\r\n\r\n&gt; The filter admits two options StringToMatch and AcceptOnMatch. If there is a match between the value of the StringToMatch option and the message of the LoggingEvent, then the decide(LoggingEvent) method returns Filter.ACCEPT if the AcceptOnMatch option value is true, if it is false then Filter.DENY is returned. If there is no match, Filter.NEUTRAL is returned. \r\n\r\nLog4j will check each filter in turn. If a filter returns NEUTRAL, then it moves onto the next filter. If a filter returns either DENY or ACCEPT then then no further filters are checked and the log message is either discarded or accepted and logged. If the last filter returns NEUTRAL then the message is accepted.\r\n\r\nSo the problem is that when the message doesn&#39;t match your filter string, the StringMatchFilter returns NEUTRAL. Since there are no more filters the log message is accepted and written out. To change this behaviour you need to add a `DenyAllFilter` filter as the second filter:\r\n\r\n    log4j.appender.priceImportFile.filter.2=org.apache.log4j.varia.DenyAllFilter\r\n","title":"Log4j StringMatchFilter properties configuration","body":"<p>According to the Javadocs, Log4j filters return one of 3 values after checking the log message:</p>\n<blockquote>\n<p>If the value DENY is returned, then the log event is dropped immediately without consulting with the remaining filters.\nIf the value NEUTRAL is returned, then the next filter in the chain is consulted. If there are no more filters in the chain, then the log event is logged. Thus, in the presence of no filters, the default behaviour is to log all logging events.\nIf the value ACCEPT is returned, then the log event is logged without consulting the remaining filters.</p>\n</blockquote>\n<p>Meanwhile, the <code>StringMatchFilter</code> Javadocs have this to say:</p>\n<blockquote>\n<p>The filter admits two options StringToMatch and AcceptOnMatch. If there is a match between the value of the StringToMatch option and the message of the LoggingEvent, then the decide(LoggingEvent) method returns Filter.ACCEPT if the AcceptOnMatch option value is true, if it is false then Filter.DENY is returned. If there is no match, Filter.NEUTRAL is returned.</p>\n</blockquote>\n<p>Log4j will check each filter in turn. If a filter returns NEUTRAL, then it moves onto the next filter. If a filter returns either DENY or ACCEPT then then no further filters are checked and the log message is either discarded or accepted and logged. If the last filter returns NEUTRAL then the message is accepted.</p>\n<p>So the problem is that when the message doesn't match your filter string, the StringMatchFilter returns NEUTRAL. Since there are no more filters the log message is accepted and written out. To change this behaviour you need to add a <code>DenyAllFilter</code> filter as the second filter:</p>\n<pre><code>log4j.appender.priceImportFile.filter.2=org.apache.log4j.varia.DenyAllFilter\n</code></pre>\n"}],"owner":{"account_id":28514122,"reputation":3,"user_id":21823699,"display_name":"Kremor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76180188,"answer_count":1,"score":0,"last_activity_date":1683399863,"creation_date":1683272744,"question_id":76179902,"body_markdown":"I&#39;m having problem with configuring log4j.properties when filtering with StringMatchFilter.\r\n\r\nI&#39;m trying to separate specific logs to new file using StringMatchFilter but haven&#39;t got anything written in that new file. My app is using Spring 4.1.7. with slf4j 1.7.12. and log4j 1.2.17. and is having following configuration in my log4j.properties file:\r\n\r\n\r\n\t\t\r\n```\r\nlog4j.rootLogger=ALL, file, priceImportFile, DB, console\r\n\r\n# file\r\nlog4j.appender.file=org.apache.log4j.DailyRollingFileAppender\r\nlog4j.appender.file.layout=org.apache.log4j.PatternLayout\r\nlog4j.appender.file.layout.ConversionPattern=%d{HH:mm:ss,SSS} %-5p {%t} [%C] %m%n\r\nlog4j.appender.file.File=${catalina.home}/logs/file.log\r\nlog4j.appender.file.DatePattern=&#39;-&#39;yyyy-MM-dd&#39;.log&#39;\r\n\r\n# importFile\r\nlog4j.appender.priceImportFile=org.apache.log4j.DailyRollingFileAppender\r\nlog4j.appender.priceImportFile.layout=org.apache.log4j.PatternLayout\r\nlog4j.appender.priceImportFile.layout.ConversionPattern=%d{HH:mm:ss,SSS} %-5p {%t} [%C] %m%n\r\nlog4j.appender.priceImportFile.File=${catalina.home}/logs/import-file.log\r\nlog4j.appender.priceImportFile.DatePattern=&#39;-&#39;yyyy-MM-dd&#39;.log&#39;\r\nlog4j.appender.priceImportFile.filter.1=org.apache.log4j.varia.StringMatchFilter\r\nlog4j.appender.priceImportFile.filter.1.StringToMatch=row is duplicated\r\nlog4j.appender.priceImportFile.filter.1.AcceptOnMatch=true\r\n\r\n# Setting threshold for specific packages\r\nlog4j.logger.org.springframework=DEBUG\r\nlog4j.logger.org.springframework.web.servlet.view.ContentNegotiatingViewResolver=TRACE\r\nlog4j.logger.org.apache=WARN\r\nlog4j.logger.com.mchange=WARN\r\nlog4j.logger.org.hibernate=INFO\r\nlog4j.logger.com.product=ALL\r\nlog4j.logger.com.product.service.www_admin.http=WARN\r\n```\r\nWould appreciate your help.\r\n","title":"Log4j StringMatchFilter properties configuration","body":"<p>I'm having problem with configuring log4j.properties when filtering with StringMatchFilter.</p>\n<p>I'm trying to separate specific logs to new file using StringMatchFilter but haven't got anything written in that new file. My app is using Spring 4.1.7. with slf4j 1.7.12. and log4j 1.2.17. and is having following configuration in my log4j.properties file:</p>\n<pre><code>log4j.rootLogger=ALL, file, priceImportFile, DB, console\n\n# file\nlog4j.appender.file=org.apache.log4j.DailyRollingFileAppender\nlog4j.appender.file.layout=org.apache.log4j.PatternLayout\nlog4j.appender.file.layout.ConversionPattern=%d{HH:mm:ss,SSS} %-5p {%t} [%C] %m%n\nlog4j.appender.file.File=${catalina.home}/logs/file.log\nlog4j.appender.file.DatePattern='-'yyyy-MM-dd'.log'\n\n# importFile\nlog4j.appender.priceImportFile=org.apache.log4j.DailyRollingFileAppender\nlog4j.appender.priceImportFile.layout=org.apache.log4j.PatternLayout\nlog4j.appender.priceImportFile.layout.ConversionPattern=%d{HH:mm:ss,SSS} %-5p {%t} [%C] %m%n\nlog4j.appender.priceImportFile.File=${catalina.home}/logs/import-file.log\nlog4j.appender.priceImportFile.DatePattern='-'yyyy-MM-dd'.log'\nlog4j.appender.priceImportFile.filter.1=org.apache.log4j.varia.StringMatchFilter\nlog4j.appender.priceImportFile.filter.1.StringToMatch=row is duplicated\nlog4j.appender.priceImportFile.filter.1.AcceptOnMatch=true\n\n# Setting threshold for specific packages\nlog4j.logger.org.springframework=DEBUG\nlog4j.logger.org.springframework.web.servlet.view.ContentNegotiatingViewResolver=TRACE\nlog4j.logger.org.apache=WARN\nlog4j.logger.com.mchange=WARN\nlog4j.logger.org.hibernate=INFO\nlog4j.logger.com.product=ALL\nlog4j.logger.com.product.service.www_admin.http=WARN\n</code></pre>\n<p>Would appreciate your help.</p>\n"},{"tags":["java","spring","spring-boot","spring-security","java-17"],"owner":{"account_id":16961791,"reputation":11,"user_id":12268756,"display_name":"JimJ"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":233,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1683399554,"creation_date":1683362477,"question_id":76187946,"body_markdown":"I have a Spring Boot (3.0.5) application - with 3 sets of APIs:\r\n\r\n1. `/api/**` - called by a client UI application - uses JWT based authentication\r\n2. `/integration/**` - called by another application - these must be protected with client auth.\r\n3. The rest - publicly accessible.\r\n\r\nI am setting `server.ssl.client-auth` to `want` - as I don&#39;t need all my endpoints to follow the X502 authentication.\r\n\r\nI made it working following a few posts here with similar questions and came up with a security configuration as below. It&#39;s working as expected, but as you can see I have to do a lot of custom checks. Is there a better way to achieve this?\r\n\r\nThis configuration sets `/api/**` to use JWT validation, and the rest is open for public access.\r\n\r\n```java\r\n@Bean\r\npublic SecurityFilterChain configureSecurityFilters(HttpSecurity http) throws Exception {\r\n    http\r\n        .authorizeHttpRequests(a -&gt; a\r\n            .requestMatchers(new AntPathRequestMatcher(&quot;/api/**&quot;)).authenticated()\r\n            .anyRequest().permitAll()\r\n        )\r\n\t\t.csrf().disable()\r\n        .addFilterBefore(jwtValidationFilter, UsernamePasswordAuthenticationFilter.class);\r\n    return http.build();\r\n}\r\n```\r\n\r\nThis is my second configuration, for custom validation of `/integration/**` API calls.\r\n\r\n```java\r\n@Bean\r\n@Order(1)\r\npublic SecurityFilterChain x502Config(HttpSecurity http, HttpServletRequest request) throws Exception {\r\n\r\n    http\r\n        .securityMatcher(&quot;/integration/**&quot;)\r\n        .csrf().disable()\r\n        .addFilterBefore(customX509AuthenticationFilter, UsernamePasswordAuthenticationFilter.class)\r\n        .authorizeHttpRequests()\r\n            .anyRequest().permitAll();\r\n    return http.build();\r\n}\r\n```\r\n\r\nAnd this is the custom filter - that validates if a client cert validation occurred and the context has a valid X509 certificate:\r\n\r\n```java\r\nimport jakarta.servlet.FilterChain;\r\nimport jakarta.servlet.ServletException;\r\nimport jakarta.servlet.http.HttpServletRequest;\r\nimport jakarta.servlet.http.HttpServletResponse;\r\nimport org.apache.commons.lang3.StringUtils;\r\nimport org.springframework.beans.factory.annotation.Value;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\r\nimport org.springframework.security.core.Authentication;\r\nimport org.springframework.security.core.context.SecurityContextHolder;\r\nimport org.springframework.security.web.util.matcher.AntPathRequestMatcher;\r\nimport org.springframework.security.web.util.matcher.NegatedRequestMatcher;\r\nimport org.springframework.security.web.util.matcher.RequestMatcher;\r\nimport org.springframework.stereotype.Component;\r\nimport org.springframework.web.filter.OncePerRequestFilter;\r\n\r\nimport java.io.IOException;\r\nimport java.security.Principal;\r\nimport java.security.cert.X509Certificate;\r\nimport java.util.Arrays;\r\n\r\n@Component \r\npublic class CustomX509AuthenticationFilter extends OncePerRequestFilter {\r\n\t\r\n\t@Value(&quot;${server.ssl.client-auth}&quot;) \r\n\tprivate String mutualTLSConfig;\r\n\r\n\t@Override \r\n\tprotected void doFilterInternal(HttpServletRequest request,\r\n\t\t\tHttpServletResponse response, FilterChain filterChain)\r\n\t\t\tthrows ServletException, IOException {\r\n\t\tX509Certificate[] clientCertificates = (X509Certificate[]) request.getAttribute(\r\n\t\t\t\t&quot;jakarta.servlet.request.X509Certificate&quot;);\r\n\t\tif (isMutualTLSEnabled() &amp;&amp; (clientCertificates == null\r\n\t\t\t\t|| clientCertificates.length == 0)) {\r\n\t\t\tresponse.sendError(HttpStatus.UNAUTHORIZED.value(), HttpStatus.UNAUTHORIZED.name());\r\n\t\t\treturn;\r\n\t\t} else if (isMutualTLSEnabled()) {\r\n\t\t\tX509Certificate clientCertificate = clientCertificates[0];\r\n\t\t\tString username = extractUsernameFromCertificate(clientCertificate);\r\n\t\t\tAuthentication authentication = new UsernamePasswordAuthenticationToken(username, &quot;&quot;,\r\n\t\t\t\t\tArrays.asList());\r\n\t\t\tSecurityContextHolder.getContext().setAuthentication(authentication);\r\n\t\t}\r\n\t\tfilterChain.doFilter(request, response);\r\n\t}\r\n\r\n\tprivate String extractUsernameFromCertificate(X509Certificate certificate) {\r\n\t\tPrincipal principal = certificate.getSubjectDN();\r\n\t\tString name = principal.getName();\r\n\t\tint startIndex = name.indexOf(&quot;CN=&quot;) + 3;\r\n\t\tint endIndex = name.indexOf(&quot;,&quot;, startIndex);\r\n\t\tif (endIndex == -1) {\r\n\t\t\tendIndex = name.length();\r\n\t\t}\r\n\t\treturn name.substring(startIndex, endIndex);\r\n\t}\r\n\r\n        // Ignore this validation if &quot;none&quot; is set (dev purposes)\r\n        // &quot;need&quot; will never be used in this application (because if used, client-auth will be applied to all requests)\r\n\tprivate boolean isMutualTLSEnabled() {\r\n\t\treturn StringUtils.isNotEmpty(mutualTLSConfig) &amp;&amp; mutualTLSConfig.equalsIgnoreCase(&quot;want&quot;);\r\n\t}\r\n\r\n        // I had to add this, otherwise all requests goes through this - which means the &quot;securityMatcher&quot; configuration is not applied properly.\r\n \r\n\t@Override protected boolean shouldNotFilter(HttpServletRequest request) {\r\n\t\tRequestMatcher matcher = new NegatedRequestMatcher(new AntPathRequestMatcher(&quot;/integration/**&quot;));\r\n\t\treturn matcher.matches(request);\r\n\t}\r\n}\r\n```\r\n\r\nI also have second filter for validating the JWT (`jwtValidationFilter`) for the `/api/**` endpoints.\r\n\r\n```java\r\n@Override\r\nprotected void doFilterInternal(HttpServletRequest req, HttpServletResponse res,\r\n    FilterChain chain) throws IOException, ServletException {\r\n\r\n    final String requstUri = req.getRequestURI();\r\n    final String jwtAuthToken = getCookieValue(req, AUTH_TOKEN_COOKIE_NAME);\r\n    // Validates the token and set the authentication in SecurityContextHolder\r\n\t....\r\n\t....\r\n    UsernamePasswordAuthenticationToken authentication = getAuthentication(jwtToken, res);\r\n\t\t\tSecurityContextHolder.getContext().setAuthentication(authentication);\r\n    chain.doFilter(req, res);\r\n}\r\n```\r\n\r\nThis configuration works as expected, but I have a feeling that my security configuration is not perfect.\r\n\r\nUsing JDK 17, Spring Boot 3.0.5.","title":"How to guard some endpoints with mTLs and some with JWT","body":"<p>I have a Spring Boot (3.0.5) application - with 3 sets of APIs:</p>\n<ol>\n<li><code>/api/**</code> - called by a client UI application - uses JWT based authentication</li>\n<li><code>/integration/**</code> - called by another application - these must be protected with client auth.</li>\n<li>The rest - publicly accessible.</li>\n</ol>\n<p>I am setting <code>server.ssl.client-auth</code> to <code>want</code> - as I don't need all my endpoints to follow the X502 authentication.</p>\n<p>I made it working following a few posts here with similar questions and came up with a security configuration as below. It's working as expected, but as you can see I have to do a lot of custom checks. Is there a better way to achieve this?</p>\n<p>This configuration sets <code>/api/**</code> to use JWT validation, and the rest is open for public access.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic SecurityFilterChain configureSecurityFilters(HttpSecurity http) throws Exception {\n    http\n        .authorizeHttpRequests(a -&gt; a\n            .requestMatchers(new AntPathRequestMatcher(&quot;/api/**&quot;)).authenticated()\n            .anyRequest().permitAll()\n        )\n        .csrf().disable()\n        .addFilterBefore(jwtValidationFilter, UsernamePasswordAuthenticationFilter.class);\n    return http.build();\n}\n</code></pre>\n<p>This is my second configuration, for custom validation of <code>/integration/**</code> API calls.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\n@Order(1)\npublic SecurityFilterChain x502Config(HttpSecurity http, HttpServletRequest request) throws Exception {\n\n    http\n        .securityMatcher(&quot;/integration/**&quot;)\n        .csrf().disable()\n        .addFilterBefore(customX509AuthenticationFilter, UsernamePasswordAuthenticationFilter.class)\n        .authorizeHttpRequests()\n            .anyRequest().permitAll();\n    return http.build();\n}\n</code></pre>\n<p>And this is the custom filter - that validates if a client cert validation occurred and the context has a valid X509 certificate:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import jakarta.servlet.FilterChain;\nimport jakarta.servlet.ServletException;\nimport jakarta.servlet.http.HttpServletRequest;\nimport jakarta.servlet.http.HttpServletResponse;\nimport org.apache.commons.lang3.StringUtils;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\nimport org.springframework.security.core.Authentication;\nimport org.springframework.security.core.context.SecurityContextHolder;\nimport org.springframework.security.web.util.matcher.AntPathRequestMatcher;\nimport org.springframework.security.web.util.matcher.NegatedRequestMatcher;\nimport org.springframework.security.web.util.matcher.RequestMatcher;\nimport org.springframework.stereotype.Component;\nimport org.springframework.web.filter.OncePerRequestFilter;\n\nimport java.io.IOException;\nimport java.security.Principal;\nimport java.security.cert.X509Certificate;\nimport java.util.Arrays;\n\n@Component \npublic class CustomX509AuthenticationFilter extends OncePerRequestFilter {\n    \n    @Value(&quot;${server.ssl.client-auth}&quot;) \n    private String mutualTLSConfig;\n\n    @Override \n    protected void doFilterInternal(HttpServletRequest request,\n            HttpServletResponse response, FilterChain filterChain)\n            throws ServletException, IOException {\n        X509Certificate[] clientCertificates = (X509Certificate[]) request.getAttribute(\n                &quot;jakarta.servlet.request.X509Certificate&quot;);\n        if (isMutualTLSEnabled() &amp;&amp; (clientCertificates == null\n                || clientCertificates.length == 0)) {\n            response.sendError(HttpStatus.UNAUTHORIZED.value(), HttpStatus.UNAUTHORIZED.name());\n            return;\n        } else if (isMutualTLSEnabled()) {\n            X509Certificate clientCertificate = clientCertificates[0];\n            String username = extractUsernameFromCertificate(clientCertificate);\n            Authentication authentication = new UsernamePasswordAuthenticationToken(username, &quot;&quot;,\n                    Arrays.asList());\n            SecurityContextHolder.getContext().setAuthentication(authentication);\n        }\n        filterChain.doFilter(request, response);\n    }\n\n    private String extractUsernameFromCertificate(X509Certificate certificate) {\n        Principal principal = certificate.getSubjectDN();\n        String name = principal.getName();\n        int startIndex = name.indexOf(&quot;CN=&quot;) + 3;\n        int endIndex = name.indexOf(&quot;,&quot;, startIndex);\n        if (endIndex == -1) {\n            endIndex = name.length();\n        }\n        return name.substring(startIndex, endIndex);\n    }\n\n        // Ignore this validation if &quot;none&quot; is set (dev purposes)\n        // &quot;need&quot; will never be used in this application (because if used, client-auth will be applied to all requests)\n    private boolean isMutualTLSEnabled() {\n        return StringUtils.isNotEmpty(mutualTLSConfig) &amp;&amp; mutualTLSConfig.equalsIgnoreCase(&quot;want&quot;);\n    }\n\n        // I had to add this, otherwise all requests goes through this - which means the &quot;securityMatcher&quot; configuration is not applied properly.\n \n    @Override protected boolean shouldNotFilter(HttpServletRequest request) {\n        RequestMatcher matcher = new NegatedRequestMatcher(new AntPathRequestMatcher(&quot;/integration/**&quot;));\n        return matcher.matches(request);\n    }\n}\n</code></pre>\n<p>I also have second filter for validating the JWT (<code>jwtValidationFilter</code>) for the <code>/api/**</code> endpoints.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\nprotected void doFilterInternal(HttpServletRequest req, HttpServletResponse res,\n    FilterChain chain) throws IOException, ServletException {\n\n    final String requstUri = req.getRequestURI();\n    final String jwtAuthToken = getCookieValue(req, AUTH_TOKEN_COOKIE_NAME);\n    // Validates the token and set the authentication in SecurityContextHolder\n    ....\n    ....\n    UsernamePasswordAuthenticationToken authentication = getAuthentication(jwtToken, res);\n            SecurityContextHolder.getContext().setAuthentication(authentication);\n    chain.doFilter(req, res);\n}\n</code></pre>\n<p>This configuration works as expected, but I have a feeling that my security configuration is not perfect.</p>\n<p>Using JDK 17, Spring Boot 3.0.5.</p>\n"},{"tags":["java","groovy"],"answers":[{"tags":[],"owner":{"account_id":9094295,"reputation":1988,"user_id":6768769,"accept_rate":40,"display_name":"Dileep Patel"},"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1512544473,"creation_date":1512544473,"answer_id":47668824,"question_id":47668747,"body_markdown":"Increment a value when if condition is true\r\n\r\n like as\r\n\r\n    int testCount=0;\r\n     if (env.logs.contains(&#39;test&#39;)) {\r\n      testCount++;\r\n     }\r\n\r\nand check condtion\r\n\r\n   if testCount&gt;0 then write somethinng what you want.\r\n   ","title":"Groovy: Check if text contains a string more than one time","body":"<p>Increment a value when if condition is true</p>\n\n<p>like as</p>\n\n<pre><code>int testCount=0;\n if (env.logs.contains('test')) {\n  testCount++;\n }\n</code></pre>\n\n<p>and check condtion</p>\n\n<p>if testCount>0 then write somethinng what you want.</p>\n"},{"tags":[],"owner":{"account_id":2679531,"reputation":2832,"user_id":2315162,"accept_rate":81,"display_name":"sinclair"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1512545665,"creation_date":1512545191,"answer_id":47668989,"question_id":47668747,"body_markdown":"The `contains()` method simply does this:\r\n\r\n    public boolean contains(CharSequence s) {\r\n        return indexOf(s.toString()) &gt; -1;\r\n    }\r\n\r\nTherefore you can do this to check if the value appears more than once:\r\n\r\n    int index = env.logs.indexOf(&quot;test&quot;);\r\n    if ((index &gt; -1) &amp;&amp; (env.logs.indexOf(&quot;test&quot;, index + 1) &gt; -1) ) {\r\n            // do something here\r\n    }","title":"Groovy: Check if text contains a string more than one time","body":"<p>The <code>contains()</code> method simply does this:</p>\n\n<pre><code>public boolean contains(CharSequence s) {\n    return indexOf(s.toString()) &gt; -1;\n}\n</code></pre>\n\n<p>Therefore you can do this to check if the value appears more than once:</p>\n\n<pre><code>int index = env.logs.indexOf(\"test\");\nif ((index &gt; -1) &amp;&amp; (env.logs.indexOf(\"test\", index + 1) &gt; -1) ) {\n        // do something here\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8317224,"reputation":2936,"user_id":6250067,"display_name":"Evgeny Smirnov"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1512546879,"creation_date":1512546879,"answer_id":47669372,"question_id":47668747,"body_markdown":"Using matcher:\r\n\r\n    def match = (env.logs =~ /test/)\r\n    assert match.size() &gt; 1","title":"Groovy: Check if text contains a string more than one time","body":"<p>Using matcher:</p>\n\n<pre><code>def match = (env.logs =~ /test/)\nassert match.size() &gt; 1\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3793708,"reputation":7679,"user_id":3149528,"accept_rate":50,"display_name":"Slawomir Jaranowski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683399535,"creation_date":1683399535,"answer_id":76190604,"question_id":47668747,"body_markdown":"Simply try:\r\n\r\n\r\n```groovy\r\nif (env.logs.count(&#39;test&#39;) &gt; 2) {\r\n...\r\n}\r\n```","title":"Groovy: Check if text contains a string more than one time","body":"<p>Simply try:</p>\n<pre><code>if (env.logs.count('test') &gt; 2) {\n...\n}\n</code></pre>\n"}],"owner":{"account_id":8062719,"reputation":14158,"user_id":6077803,"accept_rate":62,"display_name":"DenCowboy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43887,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":47668989,"answer_count":4,"score":3,"last_activity_date":1683399535,"creation_date":1512544218,"question_id":47668747,"body_markdown":"I want to check if the word `&quot;test&quot;` appears more than 1 time in the logs.\r\nThe following code just checks if the word `&#39;test&#39;` appears more than 0 times in the string. (it just checks if the logs contain the word).\r\n\r\n     if (env.logs.contains(&#39;test&#39;)) {\r\n          xxx\r\n    }\r\n\r\nWhat do I have to change to let this part of code check for more than one appearances of the word `test`?","title":"Groovy: Check if text contains a string more than one time","body":"<p>I want to check if the word <code>\"test\"</code> appears more than 1 time in the logs.\nThe following code just checks if the word <code>'test'</code> appears more than 0 times in the string. (it just checks if the logs contain the word).</p>\n\n<pre><code> if (env.logs.contains('test')) {\n      xxx\n}\n</code></pre>\n\n<p>What do I have to change to let this part of code check for more than one appearances of the word <code>test</code>?</p>\n"},{"tags":["java","spring","spring-boot","spring-security"],"comments":[{"owner":{"account_id":14226667,"reputation":523,"user_id":10277150,"display_name":"gurkan"},"score":0,"creation_date":1682522105,"post_id":76112331,"comment_id":134230131,"body_markdown":"Did you try use `ADMIN` instead of `ROLE_ADMIN`","body":"Did you try use <code>ADMIN</code> instead of <code>ROLE_ADMIN</code>"},{"owner":{"account_id":22937722,"reputation":25,"user_id":17070934,"display_name":"ABAB"},"score":0,"creation_date":1682522303,"post_id":76112331,"comment_id":134230188,"body_markdown":"I don&#39;t think that matters. it is all based on the roles I manually added to  my MongoDB. It is used retrieved from the database {\n  &quot;_id&quot;: {\n    &quot;$oid&quot;: &quot;6449278b7b0bcb5a0c8288c3&quot;\n  },\n  &quot;userName&quot;: &quot;Arnold Schwarzenegger&quot;,\n  &quot;email&quot;: &quot;arnold@gmail.com&quot;,\n  &quot;password&quot;: &quot;$2a$10$BYCGuOqfrogGRMESsNp7leH225A2vSmPzP3UoEPMMdBd8EV4uRB9S&quot;,\n  &quot;roles&quot;: [\n    &quot;ROLE_SUPER_MANAGER&quot;,\n    &quot;ROLE_ADMIN&quot;,\n    &quot;ROLE_USER&quot;\n  ],\n  &quot;_class&quot;: &quot;dev.barahow.movies.model.AppUser&quot;\n}","body":"I don&#39;t think that matters. it is all based on the roles I manually added to  my MongoDB. It is used retrieved from the database {   &quot;_id&quot;: {     &quot;$oid&quot;: &quot;6449278b7b0bcb5a0c8288c3&quot;   },   &quot;userName&quot;: &quot;Arnold Schwarzenegger&quot;,   &quot;email&quot;: &quot;arnold@gmail.com&quot;,   &quot;password&quot;: &quot;$2a$10$BYCGuOqfrogGRMESsNp7leH225A2vSmPzP3UoEPMMdBd8EV4uRB9&zwnj;&#8203;S&quot;,   &quot;roles&quot;: [     &quot;ROLE_SUPER_MANAGER&quot;,     &quot;ROLE_ADMIN&quot;,     &quot;ROLE_USER&quot;   ],   &quot;_class&quot;: &quot;dev.barahow.movies.model.AppUser&quot; }"},{"owner":{"account_id":3430916,"reputation":3799,"user_id":3059385,"accept_rate":40,"display_name":"Christopher Schneider"},"score":0,"creation_date":1682522402,"post_id":76112331,"comment_id":134230222,"body_markdown":"Turn on Spring security debug logging. That will give you information on why a user is denied access. `-Dlogging.level.org.springframework.security=DEBUG`","body":"Turn on Spring security debug logging. That will give you information on why a user is denied access. <code>-Dlogging.level.org.springframework.security=DEBUG</code>"},{"owner":{"account_id":14226667,"reputation":523,"user_id":10277150,"display_name":"gurkan"},"score":0,"creation_date":1682522449,"post_id":76112331,"comment_id":134230231,"body_markdown":"Spring security adds &quot;ROLE&quot; prefix automatically. Please delete &quot;ROLE&quot; from them that are in DB and then try to use without prefix. https://stackoverflow.com/questions/33205236/spring-security-added-prefix-role-to-all-roles-name","body":"Spring security adds &quot;ROLE&quot; prefix automatically. Please delete &quot;ROLE&quot; from them that are in DB and then try to use without prefix. <a href=\"https://stackoverflow.com/questions/33205236/spring-security-added-prefix-role-to-all-roles-name\" title=\"spring security added prefix role to all roles name\">stackoverflow.com/questions/33205236/&hellip;</a>"},{"owner":{"account_id":22937722,"reputation":25,"user_id":17070934,"display_name":"ABAB"},"score":0,"creation_date":1682523644,"post_id":76112331,"comment_id":134230604,"body_markdown":"Unfortunately, deleting the role prefix didn&#39;t solve the issue. .","body":"Unfortunately, deleting the role prefix didn&#39;t solve the issue. ."},{"owner":{"account_id":8761405,"reputation":1504,"user_id":6551263,"display_name":"Chetan Ahirrao"},"score":2,"creation_date":1682524191,"post_id":76112331,"comment_id":134230780,"body_markdown":"Copy and paste your token in https://jwt.io As I can see from there, your token doesn&#39;t have any roles information in it. roles array is empty","body":"Copy and paste your token in <a href=\"https://jwt.io\" rel=\"nofollow noreferrer\">jwt.io</a> As I can see from there, your token doesn&#39;t have any roles information in it. roles array is empty"},{"owner":{"account_id":22937722,"reputation":25,"user_id":17070934,"display_name":"ABAB"},"score":0,"creation_date":1682524398,"post_id":76112331,"comment_id":134230845,"body_markdown":"You are right, no clue why it is showing empty when I have roles information in my MongoDB","body":"You are right, no clue why it is showing empty when I have roles information in my MongoDB"},{"owner":{"account_id":8761405,"reputation":1504,"user_id":6551263,"display_name":"Chetan Ahirrao"},"score":0,"creation_date":1682525014,"post_id":76112331,"comment_id":134231004,"body_markdown":"Debug your code where you are fetching that info from MongoDB","body":"Debug your code where you are fetching that info from MongoDB"},{"owner":{"account_id":2064278,"reputation":13128,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1682537428,"post_id":76112331,"comment_id":134233623,"body_markdown":"is there any specific reason to why you are not using the built in JWT functionality that already comes with the spring security framework? the whole point with using a security framework is to avoid needing to write a bunch of custom code","body":"is there any specific reason to why you are not using the built in JWT functionality that already comes with the spring security framework? the whole point with using a security framework is to avoid needing to write a bunch of custom code"},{"owner":{"account_id":22937722,"reputation":25,"user_id":17070934,"display_name":"ABAB"},"score":0,"creation_date":1682539980,"post_id":76112331,"comment_id":134234073,"body_markdown":"Just for learning purposes. I&#39;m trying to implement multi-factor authentication and I have no clue how to do it with the built-in JWT functionality in java spring without creating a custom filter.","body":"Just for learning purposes. I&#39;m trying to implement multi-factor authentication and I have no clue how to do it with the built-in JWT functionality in java spring without creating a custom filter."}],"answers":[{"tags":[],"owner":{"account_id":22937722,"reputation":25,"user_id":17070934,"display_name":"ABAB"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1683398001,"creation_date":1683398001,"answer_id":76190504,"question_id":76112331,"body_markdown":"**Solved**\r\n\r\n```\r\n@Document(collection = &quot;app_users&quot;)\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class AppUser {\r\n\r\n    @Id\r\n    private ObjectId id;\r\n    @NotBlank(message = &quot;Name is mandatory&quot;)\r\n    private String userName;\r\n    @NotBlank(message = &quot;Email is mandatory&quot;)\r\n    @Email(message = &quot;Email should be valid&quot;)\r\n    private String email;\r\n    @NotBlank(message = &quot;Password is mandatory&quot;)\r\n    private String password;\r\n\r\n   // @JsonSerialize(using = ToStringSerializer.class)\r\n    @DBRef\r\n    private List&lt;UserRole&gt; roles = new ArrayList&lt;&gt;();\r\n\r\n\r\n\r\n```\r\n\r\nAs someone pointed out my roles were not visible in my access token which made it difficult to authenticate a user. To solve the issue I added @DBRef above userRole \r\ninstead of @DBReference. The issue was The @DBRef annotation indicates that the roles field is referencing another document in a separate collection, rather than embedding the UserRole objects within the document itself. \r\n","title":"Spring Security not authorizing requests based on user roles","body":"<p><strong>Solved</strong></p>\n<pre><code>@Document(collection = &quot;app_users&quot;)\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\npublic class AppUser {\n\n    @Id\n    private ObjectId id;\n    @NotBlank(message = &quot;Name is mandatory&quot;)\n    private String userName;\n    @NotBlank(message = &quot;Email is mandatory&quot;)\n    @Email(message = &quot;Email should be valid&quot;)\n    private String email;\n    @NotBlank(message = &quot;Password is mandatory&quot;)\n    private String password;\n\n   // @JsonSerialize(using = ToStringSerializer.class)\n    @DBRef\n    private List&lt;UserRole&gt; roles = new ArrayList&lt;&gt;();\n\n\n\n</code></pre>\n<p>As someone pointed out my roles were not visible in my access token which made it difficult to authenticate a user. To solve the issue I added @DBRef above userRole\ninstead of @DBReference. The issue was The @DBRef annotation indicates that the roles field is referencing another document in a separate collection, rather than embedding the UserRole objects within the document itself.</p>\n"}],"owner":{"account_id":22937722,"reputation":25,"user_id":17070934,"display_name":"ABAB"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":582,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76190504,"answer_count":1,"score":1,"last_activity_date":1683398001,"creation_date":1682521594,"question_id":76112331,"body_markdown":"I&#39;m building a RESTful API using Spring Boot and Spring Security. I have configured the security filters in my WebSecurityConfigurerAdapter to permit access to certain endpoints based on the user roles. However, when I test my endpoints with different users, I&#39;m finding that requests are not being authorized correctly.\r\n\r\nHere&#39;s the code for my security filter chain:\r\n\r\n```\r\n\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        AbstractAuthenticationProcessingFilter filter = new CustomAuthenticationFilter(authenticationManager());\r\n       filter.setFilterProcessesUrl(&quot;/api/v1/login&quot;);\r\n\r\n        http.csrf().disable();\r\n        http.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\r\n        http.authorizeHttpRequests().requestMatchers(&quot;/api/v1/login/**&quot;,&quot;/api/token/refresh/**&quot;).permitAll();\r\n        http.authorizeHttpRequests().requestMatchers(GET, &quot;/api/v1/user/**&quot;).permitAll();\r\n        http.authorizeHttpRequests().requestMatchers(GET, &quot;/api/v1/movies/**&quot;,&quot;/api/v1/reviews&quot;).hasAnyAuthority(&quot;ROLE_USER&quot;);\r\n        http.authorizeHttpRequests().requestMatchers(GET, &quot;/api/v1/movies/**&quot;,&quot;/api/v1/reviews&quot;,&quot;/api/v1/user&quot;).hasAnyAuthority(&quot;ROLE_ADMIN&quot;);\r\n        http.authorizeHttpRequests().requestMatchers(POST,&quot;api/v1/movies/**&quot;,&quot;/api/v1/reviews/**&quot;,&quot;api/v1/user/**&quot;).hasAuthority(&quot;ROLE_ADMIN&quot;);\r\n        http.authorizeHttpRequests().requestMatchers(PUT,&quot;api/v1/movies/**&quot;,&quot;/api/v1/reviews/**&quot;,&quot;api/v1/user/**&quot;).hasAuthority(&quot;ROLE_ADMIN&quot;);\r\n        http.authorizeHttpRequests().requestMatchers(DELETE,&quot;api/v1/movies/**&quot;,&quot;/api/v1/reviews/**&quot;,&quot;api/v1/user/**&quot;).hasAuthority(&quot;ROLE_SUPER_ADMIN&quot;);\r\n        http.authorizeHttpRequests().anyRequest().authenticated();\r\n        http.addFilter(filter);\r\n        http.addFilterBefore(new CustomAuthorizationFilter(), UsernamePasswordAuthenticationFilter.class);\r\n\r\n        return http.build();\r\n\r\n    }\r\n\r\n```\r\nHere is the authorization filter class\r\n\r\n```\r\n\r\n    @Override\r\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\r\n        if (request.getServletPath().equals(&quot;/api/v1/login&quot;)|| request.getServletPath().equals(&quot;/api/v1/token/refresh&quot;)) {\r\n            filterChain.doFilter(request,response);\r\n\r\n\r\n        }else {\r\n            String authorizationHeader= request.getHeader(AUTHORIZATION);\r\n            log.info(&quot;Authorization header {}&quot;,authorizationHeader);\r\n            String secretKey = System.getenv(&quot;MY_APP_SECRET_KEY&quot;);\r\n            if (authorizationHeader != null &amp;&amp; authorizationHeader.startsWith(&quot;Bearer &quot;)) {\r\n                try {\r\n                    String token = authorizationHeader.substring(&quot;Bearer &quot;.length());\r\n                    Algorithm algorithm = Algorithm.HMAC256(secretKey.getBytes());\r\n                    JWTVerifier verifier = JWT.require(algorithm).build();\r\n                    DecodedJWT decodedJWT = verifier.verify(token);\r\n\r\n                    String username = decodedJWT.getSubject();\r\n                    String[] roles = decodedJWT.getClaim(&quot;roles&quot;).asArray(String.class);\r\n                    Collection&lt;SimpleGrantedAuthority&gt; authorityCollections = new ArrayList&lt;&gt;();\r\n                    stream(roles).forEach(role-&gt; {\r\n                        authorityCollections.add(new SimpleGrantedAuthority(role));\r\n\r\n                    });\r\n\r\n                    UsernamePasswordAuthenticationToken authenticationToken = new\r\n                            UsernamePasswordAuthenticationToken(username,null\r\n                            ,authorityCollections);\r\n\r\n                    SecurityContextHolder.getContext()\r\n                            .setAuthentication(authenticationToken);\r\n\r\n\r\n                    filterChain.doFilter(request,response);\r\n\r\n\r\n\r\n                }catch (JWTVerificationException ex) {\r\n                    log.info(&quot;lets get an exception already&quot;);\r\n                    log.info(&quot;Error logging in: {}&quot;, ex.getMessage());\r\n                    response.setHeader(&quot;error&quot;, ex.getMessage());\r\n                    response.setStatus(HttpServletResponse.SC_FORBIDDEN);\r\n                    //response.sendError(HttpServletResponse.SC_FORBIDDEN);\r\n                    Map&lt;String, String&gt; error = new HashMap&lt;&gt;();\r\n                    error.put(&quot;error_message&quot;, ex.getMessage());\r\n                    response.setContentType(APPLICATION_JSON_VALUE);\r\n                    new ObjectMapper().writeValue(response.getOutputStream(), error);\r\n                }\r\n\r\n            } else {\r\n                log.info(&quot;Authorization header: {}&quot;, authorizationHeader);\r\n                log.info(&quot;start do filter&quot;);\r\n                filterChain.doFilter(request,response);\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n\r\nWhen I make requests to endpoints that should only be accessible to users with certain roles, I&#39;m receiving a 403 Forbidden response. I have confirmed that the users I&#39;m testing with have the correct roles assigned to them in my database.\r\n\r\n\r\n\r\n**Edit**\r\n\r\nWhen I turned on the security debug logging this is what i got \r\n\r\n```\r\n2023-04-26T17:36:44.776+02:00  INFO 4348 --- [nio-8080-exec-3] d.b.m.filter.CustomAuthorizationFilter   : Authorization header Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhcm5vbGRAZ21haWwuY29tIiwiZXhwIjoxNjgyNTI0Mjc0LCJpc3MiOiIvYXBpL3YxL2xvZ2luIiwicm9sZXMiOltdfQ._11bP_6XwvOX1upcRM8WhvXf6KdQQSMrlW3405VgjBM\r\n2023-04-26T17:36:44.847+02:00 DEBUG 4348 --- [nio-8080-exec-3] o.s.s.w.access.AccessDeniedHandlerImpl   : Responding with 403 status code\r\n2023-04-26T17:36:44.852+02:00 DEBUG 4348 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /error\r\n2023-04-26T17:36:44.860+02:00 DEBUG 4348 --- [nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext\r\n2023-04-26T17:36:44.861+02:00 DEBUG 4348 --- [nio-8080-exec-3] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access\r\n\r\n```\r\n    \r\n\r\n\r\n\r\n","title":"Spring Security not authorizing requests based on user roles","body":"<p>I'm building a RESTful API using Spring Boot and Spring Security. I have configured the security filters in my WebSecurityConfigurerAdapter to permit access to certain endpoints based on the user roles. However, when I test my endpoints with different users, I'm finding that requests are not being authorized correctly.</p>\n<p>Here's the code for my security filter chain:</p>\n<pre><code>\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        AbstractAuthenticationProcessingFilter filter = new CustomAuthenticationFilter(authenticationManager());\n       filter.setFilterProcessesUrl(&quot;/api/v1/login&quot;);\n\n        http.csrf().disable();\n        http.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\n        http.authorizeHttpRequests().requestMatchers(&quot;/api/v1/login/**&quot;,&quot;/api/token/refresh/**&quot;).permitAll();\n        http.authorizeHttpRequests().requestMatchers(GET, &quot;/api/v1/user/**&quot;).permitAll();\n        http.authorizeHttpRequests().requestMatchers(GET, &quot;/api/v1/movies/**&quot;,&quot;/api/v1/reviews&quot;).hasAnyAuthority(&quot;ROLE_USER&quot;);\n        http.authorizeHttpRequests().requestMatchers(GET, &quot;/api/v1/movies/**&quot;,&quot;/api/v1/reviews&quot;,&quot;/api/v1/user&quot;).hasAnyAuthority(&quot;ROLE_ADMIN&quot;);\n        http.authorizeHttpRequests().requestMatchers(POST,&quot;api/v1/movies/**&quot;,&quot;/api/v1/reviews/**&quot;,&quot;api/v1/user/**&quot;).hasAuthority(&quot;ROLE_ADMIN&quot;);\n        http.authorizeHttpRequests().requestMatchers(PUT,&quot;api/v1/movies/**&quot;,&quot;/api/v1/reviews/**&quot;,&quot;api/v1/user/**&quot;).hasAuthority(&quot;ROLE_ADMIN&quot;);\n        http.authorizeHttpRequests().requestMatchers(DELETE,&quot;api/v1/movies/**&quot;,&quot;/api/v1/reviews/**&quot;,&quot;api/v1/user/**&quot;).hasAuthority(&quot;ROLE_SUPER_ADMIN&quot;);\n        http.authorizeHttpRequests().anyRequest().authenticated();\n        http.addFilter(filter);\n        http.addFilterBefore(new CustomAuthorizationFilter(), UsernamePasswordAuthenticationFilter.class);\n\n        return http.build();\n\n    }\n\n</code></pre>\n<p>Here is the authorization filter class</p>\n<pre><code>\n    @Override\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\n        if (request.getServletPath().equals(&quot;/api/v1/login&quot;)|| request.getServletPath().equals(&quot;/api/v1/token/refresh&quot;)) {\n            filterChain.doFilter(request,response);\n\n\n        }else {\n            String authorizationHeader= request.getHeader(AUTHORIZATION);\n            log.info(&quot;Authorization header {}&quot;,authorizationHeader);\n            String secretKey = System.getenv(&quot;MY_APP_SECRET_KEY&quot;);\n            if (authorizationHeader != null &amp;&amp; authorizationHeader.startsWith(&quot;Bearer &quot;)) {\n                try {\n                    String token = authorizationHeader.substring(&quot;Bearer &quot;.length());\n                    Algorithm algorithm = Algorithm.HMAC256(secretKey.getBytes());\n                    JWTVerifier verifier = JWT.require(algorithm).build();\n                    DecodedJWT decodedJWT = verifier.verify(token);\n\n                    String username = decodedJWT.getSubject();\n                    String[] roles = decodedJWT.getClaim(&quot;roles&quot;).asArray(String.class);\n                    Collection&lt;SimpleGrantedAuthority&gt; authorityCollections = new ArrayList&lt;&gt;();\n                    stream(roles).forEach(role-&gt; {\n                        authorityCollections.add(new SimpleGrantedAuthority(role));\n\n                    });\n\n                    UsernamePasswordAuthenticationToken authenticationToken = new\n                            UsernamePasswordAuthenticationToken(username,null\n                            ,authorityCollections);\n\n                    SecurityContextHolder.getContext()\n                            .setAuthentication(authenticationToken);\n\n\n                    filterChain.doFilter(request,response);\n\n\n\n                }catch (JWTVerificationException ex) {\n                    log.info(&quot;lets get an exception already&quot;);\n                    log.info(&quot;Error logging in: {}&quot;, ex.getMessage());\n                    response.setHeader(&quot;error&quot;, ex.getMessage());\n                    response.setStatus(HttpServletResponse.SC_FORBIDDEN);\n                    //response.sendError(HttpServletResponse.SC_FORBIDDEN);\n                    Map&lt;String, String&gt; error = new HashMap&lt;&gt;();\n                    error.put(&quot;error_message&quot;, ex.getMessage());\n                    response.setContentType(APPLICATION_JSON_VALUE);\n                    new ObjectMapper().writeValue(response.getOutputStream(), error);\n                }\n\n            } else {\n                log.info(&quot;Authorization header: {}&quot;, authorizationHeader);\n                log.info(&quot;start do filter&quot;);\n                filterChain.doFilter(request,response);\n            }\n        }\n    }\n}\n\n</code></pre>\n<p>When I make requests to endpoints that should only be accessible to users with certain roles, I'm receiving a 403 Forbidden response. I have confirmed that the users I'm testing with have the correct roles assigned to them in my database.</p>\n<p><strong>Edit</strong></p>\n<p>When I turned on the security debug logging this is what i got</p>\n<pre><code>2023-04-26T17:36:44.776+02:00  INFO 4348 --- [nio-8080-exec-3] d.b.m.filter.CustomAuthorizationFilter   : Authorization header Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhcm5vbGRAZ21haWwuY29tIiwiZXhwIjoxNjgyNTI0Mjc0LCJpc3MiOiIvYXBpL3YxL2xvZ2luIiwicm9sZXMiOltdfQ._11bP_6XwvOX1upcRM8WhvXf6KdQQSMrlW3405VgjBM\n2023-04-26T17:36:44.847+02:00 DEBUG 4348 --- [nio-8080-exec-3] o.s.s.w.access.AccessDeniedHandlerImpl   : Responding with 403 status code\n2023-04-26T17:36:44.852+02:00 DEBUG 4348 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /error\n2023-04-26T17:36:44.860+02:00 DEBUG 4348 --- [nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext\n2023-04-26T17:36:44.861+02:00 DEBUG 4348 --- [nio-8080-exec-3] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access\n\n</code></pre>\n"},{"tags":["java","intellij-idea","indentation","code-formatting","auto-indent"],"comments":[{"owner":{"account_id":44195,"reputation":269033,"user_id":129570,"accept_rate":79,"display_name":"Oliver Charlesworth"},"score":2,"creation_date":1376123167,"post_id":18159995,"comment_id":26602464,"body_markdown":"I&#39;m a recent IntelliJ convert, and I was wondering the same thing...","body":"I&#39;m a recent IntelliJ convert, and I was wondering the same thing..."},{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1376125750,"post_id":18159995,"comment_id":26603017,"body_markdown":"I don&#39;t have an informed answer about IntelliJ, but Eclipse has a preference page with per-language formatting rules. Can you find such a page in the IntelliJ preferences?","body":"I don&#39;t have an informed answer about IntelliJ, but Eclipse has a preference page with per-language formatting rules. Can you find such a page in the IntelliJ preferences?"}],"answers":[{"tags":[],"owner":{"account_id":153238,"reputation":9738,"user_id":368354,"accept_rate":93,"display_name":"Lennart"},"down_vote_count":0,"up_vote_count":45,"is_accepted":true,"score":45,"last_activity_date":1376126164,"creation_date":1376126164,"answer_id":18160449,"question_id":18159995,"body_markdown":"You can adjust the formatting in Project Settings -&gt; Code Style -&gt; Java -&gt; Wrapping and Braces. The option you are looking for should be either &quot;Method call arguments&quot; or &quot;Binary Expressions&quot;","title":"How do you fix intellij strange string indentation?","body":"<p>You can adjust the formatting in Project Settings -> Code Style -> Java -> Wrapping and Braces. The option you are looking for should be either \"Method call arguments\" or \"Binary Expressions\"</p>\n"}],"owner":{"account_id":30778,"reputation":19742,"user_id":84118,"accept_rate":79,"display_name":"Jay"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4846,"favorite_count":0,"down_vote_count":4,"up_vote_count":38,"accepted_answer_id":18160449,"answer_count":1,"score":34,"last_activity_date":1683397983,"creation_date":1376122267,"question_id":18159995,"body_markdown":"Intellij keeps on formatting my strings like this, its annoying...\r\n\r\nHow do I fix it so the lines all line up?\r\n\r\n\tPreparedStatement p = s.prepare(\r\n\t\t\t&quot;select distinct resource, uid, role &quot; +\r\n\t\t\t\t\t&quot;from role &quot; +\r\n\t\t\t\t\t&quot;where person_uuid=? &quot; +\r\n\t\t\t\t\t&quot;order by role, resource, uid&quot;);\r\nI.E.:\r\n\r\n\tPreparedStatement p = s.prepare(\r\n\t\t\t&quot;select distinct resource, uid, role &quot; +\r\n\t\t\t&quot;from role &quot; +\r\n\t\t\t&quot;where person_uuid=? &quot; +\r\n\t\t\t&quot;order by role, resource, uid&quot;);\r\n","title":"How do you fix intellij strange string indentation?","body":"<p>Intellij keeps on formatting my strings like this, its annoying...</p>\n<p>How do I fix it so the lines all line up?</p>\n<pre><code>PreparedStatement p = s.prepare(\n        &quot;select distinct resource, uid, role &quot; +\n                &quot;from role &quot; +\n                &quot;where person_uuid=? &quot; +\n                &quot;order by role, resource, uid&quot;);\n</code></pre>\n<p>I.E.:</p>\n<pre><code>PreparedStatement p = s.prepare(\n        &quot;select distinct resource, uid, role &quot; +\n        &quot;from role &quot; +\n        &quot;where person_uuid=? &quot; +\n        &quot;order by role, resource, uid&quot;);\n</code></pre>\n"},{"tags":["java","jar"],"answers":[{"tags":[],"owner":{"account_id":47523,"reputation":89783,"user_id":140816,"accept_rate":90,"display_name":"Jo&#227;o Silva"},"down_vote_count":1,"up_vote_count":137,"is_accepted":true,"score":136,"last_activity_date":1395141717,"creation_date":1294171569,"answer_id":4597892,"question_id":4597866,"body_markdown":"In order to create a .jar file, you need to use `jar` instead of `java`:\r\n\r\n    jar cf myJar.jar myClass.class\r\n\r\nAdditionally, if you want to make it executable, you need to indicate an *entry point* (i.e., a class with `public static void main(String[] args)`) for your application. This is usually accomplished by creating a [manifest][1] file that contains the `Main-Class` header (e.g., `Main-Class: myClass`). \r\n\r\nHowever, as Mark Peters pointed out, with JDK 6, you can use the `e` option to define the entry point:\r\n\r\n    jar cfe myJar.jar myClass myClass.class \r\n\r\nFinally, you can execute it:\r\n\r\n    java -jar myJar.jar\r\n\r\n### See also\r\n\r\n* [Creating a JAR File](http://download.oracle.com/javase/tutorial/deployment/jar/build.html)\r\n* [Setting an Application&#39;s Entry Point with the JAR Tool](http://download.oracle.com/javase/tutorial/deployment/jar/appman.html)\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/tutorial/deployment/jar/manifestindex.html","title":"Java creating .jar file","body":"<p>In order to create a .jar file, you need to use <code>jar</code> instead of <code>java</code>:</p>\n\n<pre><code>jar cf myJar.jar myClass.class\n</code></pre>\n\n<p>Additionally, if you want to make it executable, you need to indicate an <em>entry point</em> (i.e., a class with <code>public static void main(String[] args)</code>) for your application. This is usually accomplished by creating a <a href=\"http://download.oracle.com/javase/tutorial/deployment/jar/manifestindex.html\" rel=\"noreferrer\">manifest</a> file that contains the <code>Main-Class</code> header (e.g., <code>Main-Class: myClass</code>). </p>\n\n<p>However, as Mark Peters pointed out, with JDK 6, you can use the <code>e</code> option to define the entry point:</p>\n\n<pre><code>jar cfe myJar.jar myClass myClass.class \n</code></pre>\n\n<p>Finally, you can execute it:</p>\n\n<pre><code>java -jar myJar.jar\n</code></pre>\n\n<h3>See also</h3>\n\n<ul>\n<li><a href=\"http://download.oracle.com/javase/tutorial/deployment/jar/build.html\" rel=\"noreferrer\">Creating a JAR File</a></li>\n<li><a href=\"http://download.oracle.com/javase/tutorial/deployment/jar/appman.html\" rel=\"noreferrer\">Setting an Application's Entry Point with the JAR Tool</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":44277,"reputation":330,"user_id":129868,"display_name":"Sean"},"down_vote_count":1,"up_vote_count":19,"is_accepted":false,"score":18,"last_activity_date":1294171789,"creation_date":1294171789,"answer_id":4597925,"question_id":4597866,"body_markdown":"Sine you&#39;ve mentioned you&#39;re using Eclipse... Eclipse can create the JARs for you, so long as you&#39;ve run each class that has a main once.  Right-click the project and click Export, then select &quot;Runnable JAR file&quot; under the Java folder.  Select the class name in the launch configuration, choose a place to save the jar, and make a decision how to handle libraries if necessary.  Click finish, wipe hands on pants.","title":"Java creating .jar file","body":"<p>Sine you've mentioned you're using Eclipse... Eclipse can create the JARs for you, so long as you've run each class that has a main once.  Right-click the project and click Export, then select \"Runnable JAR file\" under the Java folder.  Select the class name in the launch configuration, choose a place to save the jar, and make a decision how to handle libraries if necessary.  Click finish, wipe hands on pants.</p>\n"},{"tags":[],"owner":{"account_id":3215396,"reputation":3613,"user_id":2714269,"accept_rate":60,"display_name":"Jay Shah"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1501690138,"creation_date":1384023344,"answer_id":19881760,"question_id":4597866,"body_markdown":"way 1 :\r\n\r\nLet we have java file test.java which contains main class testa\r\nnow first we compile our java file simply as javac test.java\r\nwe create file manifest.txt in same directory and we write Main-Class: mainclassname . e.g : \r\n\r\n      Main-Class: testa\r\nthen we create jar file by this command : \r\n        \r\n      jar cvfm anyname.jar manifest.txt testa.class\r\nthen we run jar file by this command : java -jar anyname.jar\r\n\r\nway 2 :\r\n\r\nLet we have one package named one and every class are inside it.\r\nthen we create jar file by this command : \r\n\r\n      jar cf anyname.jar one\r\nthen we open manifest.txt inside directory META-INF in anyname.jar file and write \r\n\r\n      Main-Class: one.mainclassname \r\nin third line., then we run jar file by this command : \r\n\r\n      java -jar anyname.jar\r\n\r\n\r\n\r\nto make jar file having more than one class file : jar cf anyname.jar one.class two.class three.class......","title":"Java creating .jar file","body":"<p>way 1 :</p>\n\n<p>Let we have java file test.java which contains main class testa\nnow first we compile our java file simply as javac test.java\nwe create file manifest.txt in same directory and we write Main-Class: mainclassname . e.g : </p>\n\n<pre><code>  Main-Class: testa\n</code></pre>\n\n<p>then we create jar file by this command : </p>\n\n<pre><code>  jar cvfm anyname.jar manifest.txt testa.class\n</code></pre>\n\n<p>then we run jar file by this command : java -jar anyname.jar</p>\n\n<p>way 2 :</p>\n\n<p>Let we have one package named one and every class are inside it.\nthen we create jar file by this command : </p>\n\n<pre><code>  jar cf anyname.jar one\n</code></pre>\n\n<p>then we open manifest.txt inside directory META-INF in anyname.jar file and write </p>\n\n<pre><code>  Main-Class: one.mainclassname \n</code></pre>\n\n<p>in third line., then we run jar file by this command : </p>\n\n<pre><code>  java -jar anyname.jar\n</code></pre>\n\n<p>to make jar file having more than one class file : jar cf anyname.jar one.class two.class three.class......</p>\n"},{"tags":[],"owner":{"account_id":3724243,"reputation":19,"user_id":3098473,"display_name":"Arpan Biswas"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1386920919,"creation_date":1386920919,"answer_id":20561538,"question_id":4597866,"body_markdown":"Put all the 6 classes to 6 different projects. Then create jar files of all the 6 projects. In this manner you will get 6 executable jar files.","title":"Java creating .jar file","body":"<p>Put all the 6 classes to 6 different projects. Then create jar files of all the 6 projects. In this manner you will get 6 executable jar files.</p>\n"},{"tags":[],"owner":{"account_id":1164345,"reputation":22755,"user_id":1143274,"accept_rate":56,"display_name":"Evgeni Sergeev"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1439259995,"creation_date":1439259995,"answer_id":31932225,"question_id":4597866,"body_markdown":"Often you need to put more into the manifest than what you get with the `-e` switch, and in that case, the syntax is:\r\n\r\n    jar -cvfm myJar.jar myManifest.txt myApp.class\r\n\r\nWhich reads: &quot;create verbose jarFilename manifestFilename&quot;, followed by the files you want to include.\r\n\r\nNote that the name of the manifest file you supply can be anything, as `jar` will automatically rename it and put it into the right place within the jar file.\r\n\r\n","title":"Java creating .jar file","body":"<p>Often you need to put more into the manifest than what you get with the <code>-e</code> switch, and in that case, the syntax is:</p>\n\n<pre><code>jar -cvfm myJar.jar myManifest.txt myApp.class\n</code></pre>\n\n<p>Which reads: \"create verbose jarFilename manifestFilename\", followed by the files you want to include.</p>\n\n<p>Note that the name of the manifest file you supply can be anything, as <code>jar</code> will automatically rename it and put it into the right place within the jar file.</p>\n"},{"tags":[],"owner":{"account_id":19257070,"reputation":45,"user_id":14073726,"display_name":"Hackerman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683396460,"creation_date":1683396460,"answer_id":76190396,"question_id":4597866,"body_markdown":"If you don&#39;t want to manually deal with the Manifest file you can use the &quot;e&quot; option. This explicitly defines the entry point in your application. \r\n\r\n\r\n    jar vcfe anyname.jar EntryPoint EntryPoint.class &lt;files to include&gt;\r\n\r\nIn my case it looked like this\r\n\r\n\r\n    jar vcfe people.jar Peer Peer.class ClientThread.class transport/*\r\n\r\nAs a result, I was able to run my program with \r\n\r\n    java -jar people.jar ","title":"Java creating .jar file","body":"<p>If you don't want to manually deal with the Manifest file you can use the &quot;e&quot; option. This explicitly defines the entry point in your application.</p>\n<pre><code>jar vcfe anyname.jar EntryPoint EntryPoint.class &lt;files to include&gt;\n</code></pre>\n<p>In my case it looked like this</p>\n<pre><code>jar vcfe people.jar Peer Peer.class ClientThread.class transport/*\n</code></pre>\n<p>As a result, I was able to run my program with</p>\n<pre><code>java -jar people.jar \n</code></pre>\n"}],"owner":{"account_id":192671,"reputation":909,"user_id":433947,"accept_rate":100,"display_name":"user433947"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":280759,"favorite_count":0,"down_vote_count":1,"up_vote_count":86,"accepted_answer_id":4597892,"answer_count":6,"score":85,"last_activity_date":1683396460,"creation_date":1294171443,"question_id":4597866,"body_markdown":"I&#39;m learning Java and I have a problem. I created 6 different classes, each has it&#39;s own `main()` method. I want to create executable `.jar` for each class, that is 6 executable `.jar` files.\r\n\r\nSo far I tried \r\n\r\n    java -jar cf myJar.jar myClass.class\r\n\r\nand I get *&#39;Unable to access jarfile cf&#39;*. I&#39;m doing something wrong but I don&#39;t know what. I&#39;m also using Eclipse IDE if that means something.","title":"Java creating .jar file","body":"<p>I'm learning Java and I have a problem. I created 6 different classes, each has it's own <code>main()</code> method. I want to create executable <code>.jar</code> for each class, that is 6 executable <code>.jar</code> files.</p>\n\n<p>So far I tried </p>\n\n<pre><code>java -jar cf myJar.jar myClass.class\n</code></pre>\n\n<p>and I get <em>'Unable to access jarfile cf'</em>. I'm doing something wrong but I don't know what. I'm also using Eclipse IDE if that means something.</p>\n"},{"tags":["java","apache-kafka","kafka-consumer-api","spring-kafka"],"comments":[{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":2,"creation_date":1683315816,"post_id":76184829,"comment_id":134353851,"body_markdown":"Please share the code where you are consuming messages.","body":"Please share the code where you are consuming messages."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1683323177,"post_id":76184829,"comment_id":134354967,"body_markdown":"It&#39;s not possible to transfer data from the producer to any consumer on the order of 1-2 milliseconds.","body":"It&#39;s not possible to transfer data from the producer to any consumer on the order of 1-2 milliseconds."},{"owner":{"account_id":28195229,"reputation":29,"user_id":21549985,"display_name":"Barun"},"score":0,"creation_date":1683337430,"post_id":76184829,"comment_id":134356173,"body_markdown":"What can be the minimum lag?As the requirement is to process each message within 100ms","body":"What can be the minimum lag?As the requirement is to process each message within 100ms"},{"owner":{"account_id":28195229,"reputation":29,"user_id":21549985,"display_name":"Barun"},"score":0,"creation_date":1683346522,"post_id":76184829,"comment_id":134356707,"body_markdown":"@Mar-Z Have attached the code for consumer class consuming the messages","body":"@Mar-Z Have attached the code for consumer class consuming the messages"},{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1683357311,"post_id":76184829,"comment_id":134357470,"body_markdown":"Code should be pasted as formatted text. Not a picture. I can see one problem already. Will post the answer after code available as text.","body":"Code should be pasted as formatted text. Not a picture. I can see one problem already. Will post the answer after code available as text."},{"owner":{"account_id":28195229,"reputation":29,"user_id":21549985,"display_name":"Barun"},"score":0,"creation_date":1683375927,"post_id":76184829,"comment_id":134359174,"body_markdown":"@Mar-Z Added the code as text.","body":"@Mar-Z Added the code as text."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1683376481,"post_id":76184829,"comment_id":134359233,"body_markdown":"Lag isn&#39;t counted in time in Kafka, only offsets. Regardless, `new Gosn()` doesn&#39;t compile, does it? In any case, Kafka and Spring include Jackson... You should not use Gson or create a brand new parser _for every Kafka message_","body":"Lag isn&#39;t counted in time in Kafka, only offsets. Regardless, <code>new Gosn()</code> doesn&#39;t compile, does it? In any case, Kafka and Spring include Jackson... You should not use Gson or create a brand new parser <i>for every Kafka message</i>"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1683376639,"post_id":76184829,"comment_id":134359257,"body_markdown":"Docs on using Json https://docs.spring.io/spring-kafka/reference/html/#json-serde","body":"Docs on using Json <a href=\"https://docs.spring.io/spring-kafka/reference/html/#json-serde\" rel=\"nofollow noreferrer\">docs.spring.io/spring-kafka/reference/html/#json-serde</a>"},{"owner":{"account_id":28195229,"reputation":29,"user_id":21549985,"display_name":"Barun"},"score":0,"creation_date":1683381308,"post_id":76184829,"comment_id":134359835,"body_markdown":"@OneCricketeer that was a typo ,corrected the spell error.I am using splunk log to see the time when producer sends the message and the time message gets consumed I.e. it comes to the above method which I have added.That shows a lag of 500ms 1second or sometimes even more","body":"@OneCricketeer that was a typo ,corrected the spell error.I am using splunk log to see the time when producer sends the message and the time message gets consumed I.e. it comes to the above method which I have added.That shows a lag of 500ms 1second or sometimes even more"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1683473023,"post_id":76184829,"comment_id":134368894,"body_markdown":"As the answer below says, you shouldn&#39;t construct Gson parser. It&#39;s not needed with Spring. Also `currenttimemillis` doesn&#39;t compile either. Please show your actual code as-is, and not images of it. Also loggers should be written like `LOGGER.info(&quot;text {}&quot; data);` not `(&quot;text &quot; + data)` as concatenation will always pre-compute a string before passed into the log function","body":"As the answer below says, you shouldn&#39;t construct Gson parser. It&#39;s not needed with Spring. Also <code>currenttimemillis</code> doesn&#39;t compile either. Please show your actual code as-is, and not images of it. Also loggers should be written like <code>LOGGER.info(&quot;text {}&quot; data);</code> not <code>(&quot;text &quot; + data)</code> as concatenation will always pre-compute a string before passed into the log function"},{"owner":{"account_id":28195229,"reputation":29,"user_id":21549985,"display_name":"Barun"},"score":0,"creation_date":1683480648,"post_id":76184829,"comment_id":134369965,"body_markdown":"@OneCricketeer those are typo error .I cannot copy the code from my machine to here as it is official.So i manually wrote it.One simple question if I post a message to kafka topic how much time in milliseconds it takes to reach the consumer method defined above?For me it takes 200ms or more..This is the lag I want to minimize.Any idea how can I tune that so that it reaches my consumer method at less than 10 milliseconds.","body":"@OneCricketeer those are typo error .I cannot copy the code from my machine to here as it is official.So i manually wrote it.One simple question if I post a message to kafka topic how much time in milliseconds it takes to reach the consumer method defined above?For me it takes 200ms or more..This is the lag I want to minimize.Any idea how can I tune that so that it reaches my consumer method at less than 10 milliseconds."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1683485606,"post_id":76184829,"comment_id":134370673,"body_markdown":"1) Did you change what I suggested yet, or not? Changing your json library and logger will help with speed 2) Kafka isn&#39;t a good use case for that. Producer flushes are blocking calls. The broker is still required to write batches to disk before consumer can see data... That&#39;s not going to happen in less than 10ms... Use point-to-point protocols like gRPC if you need fast transfers of binary data, or brokers like ZeroMQ","body":"1) Did you change what I suggested yet, or not? Changing your json library and logger will help with speed 2) Kafka isn&#39;t a good use case for that. Producer flushes are blocking calls. The broker is still required to write batches to disk before consumer can see data... That&#39;s not going to happen in less than 10ms... Use point-to-point protocols like gRPC if you need fast transfers of binary data, or brokers like ZeroMQ"},{"owner":{"account_id":28195229,"reputation":29,"user_id":21549985,"display_name":"Barun"},"score":0,"creation_date":1683518398,"post_id":76184829,"comment_id":134373656,"body_markdown":"@OneCricketeer Thanks for the input.Ya I did change as told .speed of processing has increased.But the only problem was lag which I highlighted which you told is not possible in kafka.","body":"@OneCricketeer Thanks for the input.Ya I did change as told .speed of processing has increased.But the only problem was lag which I highlighted which you told is not possible in kafka."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1683555654,"post_id":76184829,"comment_id":134380533,"body_markdown":"There are other OS, network and hardware changes you can do, like run Kafka on XFS formatted drives, increase network buffers, make sure you&#39;re running latest versions of server and clients, don&#39;t overload your requests with plaintext formats like JSON (instead of binary like Avro or Protobuf) or encryption/externalized authentication, use Java 17, increase server heap space, etc... https://docs.confluent.io/platform/current/kafka/deployment.html","body":"There are other OS, network and hardware changes you can do, like run Kafka on XFS formatted drives, increase network buffers, make sure you&#39;re running latest versions of server and clients, don&#39;t overload your requests with plaintext formats like JSON (instead of binary like Avro or Protobuf) or encryption/externalized authentication, use Java 17, increase server heap space, etc... <a href=\"https://docs.confluent.io/platform/current/kafka/deployment.html\" rel=\"nofollow noreferrer\">docs.confluent.io/platform/current/kafka/deployment.html</a>"}],"answers":[{"tags":[],"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683395728,"creation_date":1683395728,"answer_id":76190343,"question_id":76184829,"body_markdown":"With your current settings Kafka consumer runs synchronously and reads messages one by one in a single thread. This could be fine if the listener method would run fast enough to be ready to pickup the next message at time. It is definitely not the case with the code provided. This is the main cause of the gap you see in the logs. The processing of each message just takes to long.\r\n\r\nThe cardinal sinn is to construct a new class inside of the handler method. It should be done only once. Preferably as a singleton for the whole application. Spring can help here with a configuration bean and dependency injection.\r\n\r\nI&#39;m not aware of classes RequesterFactory (RequestFactory?). Maybe they also take some time? And the JSON deserialization of the payload. And yet another place where an instance of an event handler will be produced dynamically in every call.\r\n\r\nTry to refactor the code and check the results. If you need to be even faster then you can optimize the concurrency of the consumers. Now you have only one per partition.","title":"Kafka Consumer taking long time to consume messages","body":"<p>With your current settings Kafka consumer runs synchronously and reads messages one by one in a single thread. This could be fine if the listener method would run fast enough to be ready to pickup the next message at time. It is definitely not the case with the code provided. This is the main cause of the gap you see in the logs. The processing of each message just takes to long.</p>\n<p>The cardinal sinn is to construct a new class inside of the handler method. It should be done only once. Preferably as a singleton for the whole application. Spring can help here with a configuration bean and dependency injection.</p>\n<p>I'm not aware of classes RequesterFactory (RequestFactory?). Maybe they also take some time? And the JSON deserialization of the payload. And yet another place where an instance of an event handler will be produced dynamically in every call.</p>\n<p>Try to refactor the code and check the results. If you need to be even faster then you can optimize the concurrency of the consumers. Now you have only one per partition.</p>\n"}],"owner":{"account_id":28195229,"reputation":29,"user_id":21549985,"display_name":"Barun"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":857,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":1,"score":0,"last_activity_date":1683395728,"creation_date":1683309519,"question_id":76184829,"body_markdown":"I am using **Spring Kafka** to post message. When I am posting 100 messages to the kafka topic I can see that it is picked up by Kafka consumer with a delay of at least 1 second or even 4 to 5 seconds in some cases. The topic which I am using has 6 partitions and I have kept the concurrency of consumer to 6.\r\n\r\nI have used the default properties value for the Kafka consumer. Any idea what may be wrong or which property I can tweak to minimize the lag to 1 to 2 milliseconds? I tried posting 100, 500, 1000, 5000 messages but the lag is still there.\r\n\r\nConsumer properties:\r\n- request timeout ms 30 seconds\r\n- heartbeat interval ms 3 seconds\r\n- max poll interval ms 5 minutes\r\n- max poll records 200\r\n- session timeout ms 45 seconds\r\n\r\nConsumer class\r\n\r\n[![][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/oeJ8c.jpg\r\n\r\nHere is my consumer method:\r\n\r\n    @KafkaListener(groupid = AlertsKafkaConfig.GROUP_ID_JSON, topics = TopicNameConstants.Webhook_doc_process_topic_name, containerFacotry = KafkaTopicConstans.WEBHOOK_PROCESS_TOPIC_CONF)\r\n    Public void receiveProcessPricessingMessage(@Payload String kafkajsonstring, @Header(KafkaHeaders RECEIVED_TIMESTAMP) String timestamp, @Header(KafkaHeaders.OFFSET) String offset) throws JsonProcessingException {\r\n\r\n        try {\r\n            long startime = System.currenttimemillis();\r\n            RequestFactory.appendKafkaId(offset);\r\n            long endtime = System.currenttimemillis();\r\n            Gson gson = new Gson();\r\n            WebhookProcessingCommand eventprocessingcommand = gson.fromJson(kafkajsonstring, WebhookProcessingCommand.class);\r\n\r\n            BaseAbstractEventHandler eventprocessinghandler = eventhandlerfactory.getEventhandlerInstance(EventHandler.WEBHOOK_JSON_EVENT_HANDLER.getHandlerName());\r\n            eventprocessinghandler.processEvent(eventprocessingcommand);\r\n\r\n        } catch (Exception e) {\r\n            LOGGER.error(ExceptionUtils.fullStackTrace(e));\r\n\r\n        }\r\n    }","title":"Kafka Consumer taking long time to consume messages","body":"<p>I am using <strong>Spring Kafka</strong> to post message. When I am posting 100 messages to the kafka topic I can see that it is picked up by Kafka consumer with a delay of at least 1 second or even 4 to 5 seconds in some cases. The topic which I am using has 6 partitions and I have kept the concurrency of consumer to 6.</p>\n<p>I have used the default properties value for the Kafka consumer. Any idea what may be wrong or which property I can tweak to minimize the lag to 1 to 2 milliseconds? I tried posting 100, 500, 1000, 5000 messages but the lag is still there.</p>\n<p>Consumer properties:</p>\n<ul>\n<li>request timeout ms 30 seconds</li>\n<li>heartbeat interval ms 3 seconds</li>\n<li>max poll interval ms 5 minutes</li>\n<li>max poll records 200</li>\n<li>session timeout ms 45 seconds</li>\n</ul>\n<p>Consumer class</p>\n<p><a href=\"https://i.stack.imgur.com/oeJ8c.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oeJ8c.jpg\" alt=\"\" /></a></p>\n<p>Here is my consumer method:</p>\n<pre><code>@KafkaListener(groupid = AlertsKafkaConfig.GROUP_ID_JSON, topics = TopicNameConstants.Webhook_doc_process_topic_name, containerFacotry = KafkaTopicConstans.WEBHOOK_PROCESS_TOPIC_CONF)\nPublic void receiveProcessPricessingMessage(@Payload String kafkajsonstring, @Header(KafkaHeaders RECEIVED_TIMESTAMP) String timestamp, @Header(KafkaHeaders.OFFSET) String offset) throws JsonProcessingException {\n\n    try {\n        long startime = System.currenttimemillis();\n        RequestFactory.appendKafkaId(offset);\n        long endtime = System.currenttimemillis();\n        Gson gson = new Gson();\n        WebhookProcessingCommand eventprocessingcommand = gson.fromJson(kafkajsonstring, WebhookProcessingCommand.class);\n\n        BaseAbstractEventHandler eventprocessinghandler = eventhandlerfactory.getEventhandlerInstance(EventHandler.WEBHOOK_JSON_EVENT_HANDLER.getHandlerName());\n        eventprocessinghandler.processEvent(eventprocessingcommand);\n\n    } catch (Exception e) {\n        LOGGER.error(ExceptionUtils.fullStackTrace(e));\n\n    }\n}\n</code></pre>\n"},{"tags":["java","maven","maven-2","pom.xml","maven-plugin"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1681994534,"post_id":76063836,"comment_id":134148065,"body_markdown":"*I am currently attempting to create a compressed zip folder named &quot;wso2mi.zip&quot;* Wouldn&#39;t that be a somewhat misleading name for a *folder*?","body":"<i>I am currently attempting to create a compressed zip folder named &quot;wso2mi.zip&quot;</i> Wouldn&#39;t that be a somewhat misleading name for a <i>folder</i>?"},{"owner":{"account_id":219754,"reputation":12930,"user_id":476828,"accept_rate":51,"display_name":"Subodh Joshi"},"score":0,"creation_date":1681998842,"post_id":76063836,"comment_id":134149280,"body_markdown":"Do you mean ,i cant make ZIP folder name `wso2mi.zip`.","body":"Do you mean ,i cant make ZIP folder name <code>wso2mi.zip</code>."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1682007508,"post_id":76063836,"comment_id":134151674,"body_markdown":"Sorry, I&#39;m not familiar with this plugin. Have looked at the docs but confess to being confused","body":"Sorry, I&#39;m not familiar with this plugin. Have looked at the docs but confess to being confused"}],"answers":[{"tags":[],"owner":{"account_id":219754,"reputation":12930,"user_id":476828,"accept_rate":51,"display_name":"Subodh Joshi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1683394458,"creation_date":1683394458,"answer_id":76190248,"question_id":76063836,"body_markdown":"Solve this issue with maven assembly plugin .\r\nCreated a folder **assembly** inside the project and under assembly folder created a zip.xml file with the following contents.\r\n\r\n    &lt;assembly xmlns=&quot;http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.2&quot;\r\n              xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n              xsi:schemaLocation=&quot;http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.2 http://maven.apache.org/xsd/assembly-1.1.2.xsd&quot;&gt;\r\n        &lt;id&gt;zip&lt;/id&gt;\r\n        &lt;includeBaseDirectory&gt;false&lt;/includeBaseDirectory&gt;\r\n    \r\n        &lt;formats&gt;\r\n            &lt;format&gt;zip&lt;/format&gt;\r\n        &lt;/formats&gt;\r\n        &lt;fileSets&gt;\r\n            &lt;fileSet&gt;\r\n                &lt;directory&gt;${project.basedir}/wso2mi&lt;/directory&gt;\r\n                   &lt;includes&gt;\r\n                         &lt;include&gt;**/*&lt;/include&gt;\r\n                   &lt;/includes&gt;\r\n            &lt;/fileSet&gt;\r\n        &lt;/fileSets&gt;\r\n    &lt;/assembly&gt;\r\n\r\nin pom.xml file added a plugin \r\n \r\n\r\n&lt;plugin&gt;\r\n\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\r\n            &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n\r\n            &lt;executions&gt;\r\n\r\n                &lt;execution&gt;\r\n\r\n                    &lt;phase&gt;package&lt;/phase&gt;\r\n\r\n                    &lt;goals&gt;\r\n\r\n                        &lt;goal&gt;single&lt;/goal&gt;\r\n\r\n                    &lt;/goals&gt;\r\n\r\n                    &lt;configuration&gt;\r\n\r\n\t\t\t\t\t                &lt;includeBaseDirectory&gt;false&lt;/includeBaseDirectory&gt;\r\n\r\n                        &lt;appendAssemblyId&gt;false&lt;/appendAssemblyId&gt;\r\n\r\n                        &lt;descriptors&gt;\r\n\r\n                            &lt;descriptor&gt;${project.basedir}/assembly/zip.xml&lt;/descriptor&gt;\r\n\r\n                        &lt;/descriptors&gt;\r\n\r\n                        &lt;outputDirectory&gt;${project.build.directory}/resources&lt;/outputDirectory&gt;\r\n\r\n              \t    \t&lt;destFileName&gt;${wso2esbname}-${wso2esbversion}.${wso2esbext}&lt;/destFileName&gt;\r\n\r\n                    &lt;/configuration&gt;\r\n\r\n                &lt;/execution&gt;\r\n\r\n            &lt;/executions&gt;\r\n\r\n        &lt;/plugin&gt;\r\n\r\n\r\n","title":"How can I use the Maven Assembly Plugin to create a ZIP archive that includes a specific folder and all of its files?","body":"<p>Solve this issue with maven assembly plugin .\nCreated a folder <strong>assembly</strong> inside the project and under assembly folder created a zip.xml file with the following contents.</p>\n<pre><code>&lt;assembly xmlns=&quot;http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.2&quot;\n          xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n          xsi:schemaLocation=&quot;http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.2 http://maven.apache.org/xsd/assembly-1.1.2.xsd&quot;&gt;\n    &lt;id&gt;zip&lt;/id&gt;\n    &lt;includeBaseDirectory&gt;false&lt;/includeBaseDirectory&gt;\n\n    &lt;formats&gt;\n        &lt;format&gt;zip&lt;/format&gt;\n    &lt;/formats&gt;\n    &lt;fileSets&gt;\n        &lt;fileSet&gt;\n            &lt;directory&gt;${project.basedir}/wso2mi&lt;/directory&gt;\n               &lt;includes&gt;\n                     &lt;include&gt;**/*&lt;/include&gt;\n               &lt;/includes&gt;\n        &lt;/fileSet&gt;\n    &lt;/fileSets&gt;\n&lt;/assembly&gt;\n</code></pre>\n<p>in pom.xml file added a plugin</p>\n\n<pre><code>        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n\n        &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n\n        &lt;executions&gt;\n\n            &lt;execution&gt;\n\n                &lt;phase&gt;package&lt;/phase&gt;\n\n                &lt;goals&gt;\n\n                    &lt;goal&gt;single&lt;/goal&gt;\n\n                &lt;/goals&gt;\n\n                &lt;configuration&gt;\n\n                                &lt;includeBaseDirectory&gt;false&lt;/includeBaseDirectory&gt;\n\n                    &lt;appendAssemblyId&gt;false&lt;/appendAssemblyId&gt;\n\n                    &lt;descriptors&gt;\n\n                        &lt;descriptor&gt;${project.basedir}/assembly/zip.xml&lt;/descriptor&gt;\n\n                    &lt;/descriptors&gt;\n\n                    &lt;outputDirectory&gt;${project.build.directory}/resources&lt;/outputDirectory&gt;\n\n                    &lt;destFileName&gt;${wso2esbname}-${wso2esbversion}.${wso2esbext}&lt;/destFileName&gt;\n\n                &lt;/configuration&gt;\n\n            &lt;/execution&gt;\n\n        &lt;/executions&gt;\n\n    &lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":219754,"reputation":12930,"user_id":476828,"accept_rate":51,"display_name":"Subodh Joshi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":200,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76190248,"answer_count":1,"score":1,"last_activity_date":1683394458,"creation_date":1681992166,"question_id":76063836,"body_markdown":"I have a project with structure like this \r\n[![enter image description here][1]][1]\r\n\r\n\r\nI am currently attempting to create a compressed zip folder named &quot;wso2mi.zip&quot; and my goal is to include all files and directories that are contained within the &quot;wso2mi&quot; folder. For this purpose, I have utilized the following code in pom.xml file\r\n\r\n      &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.3.0&lt;/version&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;id&gt;create-zip&lt;/id&gt;\r\n                            &lt;phase&gt;package&lt;/phase&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;single&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                            &lt;configuration&gt;\r\n                                &lt;descriptorRefs&gt;\r\n                                    &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n                                &lt;/descriptorRefs&gt;\r\n                               \r\n                                &lt;appendAssemblyId&gt;false&lt;/appendAssemblyId&gt;\r\n                                &lt;finalName&gt;wso2mi&lt;/finalName&gt;\r\n                                &lt;includeBaseDirectory&gt;false&lt;/includeBaseDirectory&gt;\r\n                                &lt;formats&gt;\r\n                                    &lt;format&gt;zip&lt;/format&gt;\r\n                                &lt;/formats&gt;\r\n                                &lt;fileSets&gt;\r\n    \t\t\t\t\t\t\t\t&lt;fileSet&gt;\r\n    \t\t\t\t\t\t\t\t&lt;directory&gt;${project.basedir}/wso2mi&lt;/directory&gt;\r\n    \t\t\t\t\t\t\t\t&lt;outputDirectory&gt;/&lt;/outputDirectory&gt;\r\n    \t\t\t\t\t\t\t\t\t&lt;includes&gt;\r\n    \t\t\t\t\t\t\t\t\t&lt;include&gt;**/*&lt;/include&gt;\r\n    \t\t\t\t\t\t\t\t\t&lt;/includes&gt;\r\n    \t\t\t\t\t\t\t\t&lt;/fileSet&gt;\r\n    \t\t\t\t\t\t\t\t&lt;/fileSets&gt;\r\n    \r\n                            &lt;/configuration&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n\r\nAlthough I am attempting to create a zip folder named wso2mi.zip and include everything within the wso2mi folder by utilizing the code snippet mentioned above, the resulting zip folder does not contain anything apart from a few Maven files. Could you please clarify what is incorrect with the provided code?\r\n\r\n  [1]: https://i.stack.imgur.com/g0VVY.png","title":"How can I use the Maven Assembly Plugin to create a ZIP archive that includes a specific folder and all of its files?","body":"<p>I have a project with structure like this\n<a href=\"https://i.stack.imgur.com/g0VVY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/g0VVY.png\" alt=\"enter image description here\" /></a></p>\n<p>I am currently attempting to create a compressed zip folder named &quot;wso2mi.zip&quot; and my goal is to include all files and directories that are contained within the &quot;wso2mi&quot; folder. For this purpose, I have utilized the following code in pom.xml file</p>\n<pre><code>  &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.3.0&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;create-zip&lt;/id&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;single&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;descriptorRefs&gt;\n                                &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n                            &lt;/descriptorRefs&gt;\n                           \n                            &lt;appendAssemblyId&gt;false&lt;/appendAssemblyId&gt;\n                            &lt;finalName&gt;wso2mi&lt;/finalName&gt;\n                            &lt;includeBaseDirectory&gt;false&lt;/includeBaseDirectory&gt;\n                            &lt;formats&gt;\n                                &lt;format&gt;zip&lt;/format&gt;\n                            &lt;/formats&gt;\n                            &lt;fileSets&gt;\n                                &lt;fileSet&gt;\n                                &lt;directory&gt;${project.basedir}/wso2mi&lt;/directory&gt;\n                                &lt;outputDirectory&gt;/&lt;/outputDirectory&gt;\n                                    &lt;includes&gt;\n                                    &lt;include&gt;**/*&lt;/include&gt;\n                                    &lt;/includes&gt;\n                                &lt;/fileSet&gt;\n                                &lt;/fileSets&gt;\n\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n</code></pre>\n<p>Although I am attempting to create a zip folder named wso2mi.zip and include everything within the wso2mi folder by utilizing the code snippet mentioned above, the resulting zip folder does not contain anything apart from a few Maven files. Could you please clarify what is incorrect with the provided code?</p>\n"},{"tags":["java","spring-cloud","amazon-sqs"],"answers":[{"tags":[],"owner":{"account_id":26326307,"reputation":1,"user_id":19987571,"display_name":"SzymonM"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663657899,"creation_date":1663084754,"answer_id":73706022,"question_id":71349293,"body_markdown":"Make sure you enabled &quot;Raw message delivery&quot; in SNS subscription. \r\nhttp://docs.aws.amazon.com/sns/latest/dg/large-payload-raw-message.html\r\n\r\n&gt; In addition to sending large payloads, with Amazon SNS you can now\r\n&gt; enable raw message delivery for messages delivered to either Amazon\r\n&gt; SQS endpoints or HTTP/S endpoints. This eliminates the need for the\r\n&gt; endpoints to process JSON formatting, which is created for the Amazon\r\n&gt; SNS metadata when raw message delivery is not selected. For example\r\n&gt; when enabling raw message delivery for an Amazon SQS endpoint, the\r\n&gt; Amazon SNS metadata is not included and the published message is\r\n&gt; delivered to the subscribed Amazon SQS endpoint as is.","title":"Spring Cloud SQS listener receives empty POJO","body":"<p>Make sure you enabled &quot;Raw message delivery&quot; in SNS subscription.\n<a href=\"http://docs.aws.amazon.com/sns/latest/dg/large-payload-raw-message.html\" rel=\"nofollow noreferrer\">http://docs.aws.amazon.com/sns/latest/dg/large-payload-raw-message.html</a></p>\n<blockquote>\n<p>In addition to sending large payloads, with Amazon SNS you can now\nenable raw message delivery for messages delivered to either Amazon\nSQS endpoints or HTTP/S endpoints. This eliminates the need for the\nendpoints to process JSON formatting, which is created for the Amazon\nSNS metadata when raw message delivery is not selected. For example\nwhen enabling raw message delivery for an Amazon SQS endpoint, the\nAmazon SNS metadata is not included and the published message is\ndelivered to the subscribed Amazon SQS endpoint as is.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":4238691,"reputation":61,"user_id":3469197,"display_name":"user3469197"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683393908,"creation_date":1683393908,"answer_id":76190208,"question_id":71349293,"body_markdown":"After debugging for many many hours i realised this was the problem - Enabling raw message delivery using the AWS Management Console\r\n","title":"Spring Cloud SQS listener receives empty POJO","body":"<p>After debugging for many many hours i realised this was the problem - Enabling raw message delivery using the AWS Management Console</p>\n"}],"owner":{"account_id":1262758,"reputation":51,"user_id":1220654,"display_name":"KPACHblu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":698,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1683393908,"creation_date":1646386299,"question_id":71349293,"body_markdown":"I use Spring Cloud: **spring-cloud-aws-messaging** to implement SNS + SQS.\r\nI have SQS listener:\r\n \r\n\r\n     @Transactional\r\n      @SqsListener(value = &quot;${sqs.queue.name}&quot;, deletionPolicy = SqsMessageDeletionPolicy.ON_SUCCESS)\r\n      public void processMessage(UserEvent userEvent) {\r\n        try {\r\n          System.out.println(userEvent);\r\n        } catch (Exception e) {\r\n          LOG.error(e);\r\n        }\r\n      }\r\n\r\nwith configuration \r\n\r\n \r\n\r\n     @Bean\r\n      public QueueMessagingTemplate queueMessagingTemplate(AmazonSQSAsync amazonSQSAsync) {\r\n        return new QueueMessagingTemplate(amazonSQSAsync);\r\n      }\r\n    \r\n      @Bean\r\n      public QueueMessageHandlerFactory queueMessageHandlerFactory(\r\n          final ObjectMapper mapper, final AmazonSQSAsync amazonSQSAsync){\r\n    \r\n        final QueueMessageHandlerFactory queueHandlerFactory =\r\n            new QueueMessageHandlerFactory();\r\n        queueHandlerFactory.setAmazonSqs(amazonSQSAsync);\r\n        queueHandlerFactory.setArgumentResolvers(Collections.singletonList(\r\n            new PayloadMethodArgumentResolver(jackson2MessageConverter(mapper))\r\n        ));\r\n        return queueHandlerFactory;\r\n      }\r\n    \r\n      private MessageConverter jackson2MessageConverter(final ObjectMapper mapper){\r\n        MappingJackson2MessageConverter converter = new MappingJackson2MessageConverter();\r\n        converter.setObjectMapper(mapper);\r\n        return converter;\r\n      }\r\n\r\nUserEvent is a POJO with setters/getters and default constructor.\r\nThe issue is that SQS listener receives empty object.\r\nI suspect that **QueueMessageHandlerFactory** has wrong configuration.\r\nIf I change SQS listener argument to String I receive message:\r\n\r\n    {\r\n    &quot;UnsubscribeURL&quot; : &quot;https://sns.us-west-2.amazonaws.com/?Action=Unsubscribe&amp;SubscriptionArn=arn:aws:sns:us-west-2:111111111111:topic-name:6ea68f67-306c-4385-858b-laskdjfsd123&quot;,\r\n    &quot;SigningCertURL&quot; : &quot;https://sns.us-west-2.amazonaws.com/SimpleNotificationService-1ff5318643ec183fbaddaa2a969abadf.pem&quot;,\r\n    &quot;Signature&quot; : &quot;Ikjay6NCGmwhyNothdvNVWNps1OMOcBuCGT+trYqVzdSLX79cCBgZeX5ZynTlC+ewsRYFH2bVW521pK88j+Z3/uDxGBrMkd6SZ/GBF1Rnl5pB4UG4aZXLP3uxE0MDX+lUPX2aCu6ta/ii3gI7vxtqKoUzqTt8aNHVMT5GG9xjLg2yIxW97MKRLbSHug5NXetlSwYdNuwq/P85Eur6BkufpLg5aummfAwfpR9ZaNdFEqjBl0nYj96q46w6UKFHaZDEgeit1TMBYjCKM3VzuyMSOPQ==&quot;,\r\n    &quot;SignatureVersion&quot; : &quot;1&quot;,\r\n    &quot;Timestamp&quot; : &quot;2022-03-03T14:44:49.000Z&quot;,\r\n    &quot;Message&quot; : &quot;{\\&quot;id\\&quot;:\\&quot;1\\&quot;,\\&quot;name\\&quot;:\\&quot;Alex\\&quot;}&quot;,\r\n    &quot;TopicArn&quot; : &quot;arn:aws:sns:us-west-2:111111111111:topic-name&quot;,\r\n    &quot;MessageId&quot; : &quot;c765b712-d774-558a-a070-ed8801d5e34r&quot;,\r\n    &quot;Type&quot; : &quot;Notification&quot;\r\n    }\r\n\r\nPlease let me know what I do wrong.","title":"Spring Cloud SQS listener receives empty POJO","body":"<p>I use Spring Cloud: <strong>spring-cloud-aws-messaging</strong> to implement SNS + SQS.\nI have SQS listener:</p>\n<pre><code> @Transactional\n  @SqsListener(value = &quot;${sqs.queue.name}&quot;, deletionPolicy = SqsMessageDeletionPolicy.ON_SUCCESS)\n  public void processMessage(UserEvent userEvent) {\n    try {\n      System.out.println(userEvent);\n    } catch (Exception e) {\n      LOG.error(e);\n    }\n  }\n</code></pre>\n<p>with configuration</p>\n<pre><code> @Bean\n  public QueueMessagingTemplate queueMessagingTemplate(AmazonSQSAsync amazonSQSAsync) {\n    return new QueueMessagingTemplate(amazonSQSAsync);\n  }\n\n  @Bean\n  public QueueMessageHandlerFactory queueMessageHandlerFactory(\n      final ObjectMapper mapper, final AmazonSQSAsync amazonSQSAsync){\n\n    final QueueMessageHandlerFactory queueHandlerFactory =\n        new QueueMessageHandlerFactory();\n    queueHandlerFactory.setAmazonSqs(amazonSQSAsync);\n    queueHandlerFactory.setArgumentResolvers(Collections.singletonList(\n        new PayloadMethodArgumentResolver(jackson2MessageConverter(mapper))\n    ));\n    return queueHandlerFactory;\n  }\n\n  private MessageConverter jackson2MessageConverter(final ObjectMapper mapper){\n    MappingJackson2MessageConverter converter = new MappingJackson2MessageConverter();\n    converter.setObjectMapper(mapper);\n    return converter;\n  }\n</code></pre>\n<p>UserEvent is a POJO with setters/getters and default constructor.\nThe issue is that SQS listener receives empty object.\nI suspect that <strong>QueueMessageHandlerFactory</strong> has wrong configuration.\nIf I change SQS listener argument to String I receive message:</p>\n<pre><code>{\n&quot;UnsubscribeURL&quot; : &quot;https://sns.us-west-2.amazonaws.com/?Action=Unsubscribe&amp;SubscriptionArn=arn:aws:sns:us-west-2:111111111111:topic-name:6ea68f67-306c-4385-858b-laskdjfsd123&quot;,\n&quot;SigningCertURL&quot; : &quot;https://sns.us-west-2.amazonaws.com/SimpleNotificationService-1ff5318643ec183fbaddaa2a969abadf.pem&quot;,\n&quot;Signature&quot; : &quot;Ikjay6NCGmwhyNothdvNVWNps1OMOcBuCGT+trYqVzdSLX79cCBgZeX5ZynTlC+ewsRYFH2bVW521pK88j+Z3/uDxGBrMkd6SZ/GBF1Rnl5pB4UG4aZXLP3uxE0MDX+lUPX2aCu6ta/ii3gI7vxtqKoUzqTt8aNHVMT5GG9xjLg2yIxW97MKRLbSHug5NXetlSwYdNuwq/P85Eur6BkufpLg5aummfAwfpR9ZaNdFEqjBl0nYj96q46w6UKFHaZDEgeit1TMBYjCKM3VzuyMSOPQ==&quot;,\n&quot;SignatureVersion&quot; : &quot;1&quot;,\n&quot;Timestamp&quot; : &quot;2022-03-03T14:44:49.000Z&quot;,\n&quot;Message&quot; : &quot;{\\&quot;id\\&quot;:\\&quot;1\\&quot;,\\&quot;name\\&quot;:\\&quot;Alex\\&quot;}&quot;,\n&quot;TopicArn&quot; : &quot;arn:aws:sns:us-west-2:111111111111:topic-name&quot;,\n&quot;MessageId&quot; : &quot;c765b712-d774-558a-a070-ed8801d5e34r&quot;,\n&quot;Type&quot; : &quot;Notification&quot;\n}\n</code></pre>\n<p>Please let me know what I do wrong.</p>\n"},{"tags":["java","rest","com.sun.net.httpserver"],"owner":{"account_id":15675263,"reputation":3,"user_id":11310665,"display_name":"jay"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683392424,"creation_date":1683342365,"question_id":76186933,"body_markdown":"I am using the com.sun.net.httpserver.HttpServer to expose a REST API in a kubernates microservice. Till now it was with wildcard binding. I need to remove the wildcard binding to bind this to its local IP\r\n\r\nI am using the com.sun.net.httpserver.HttpServer to expose a REST API in a kubernates microservice. Till now i had been using\r\n\r\n    httpServer = JdkHttpServerFactory.createHttpServer(&quot;http://localhost:&quot; + port + &quot;/&quot;&quot;, resourceConfig, false); \r\n    httpServer.start();\r\n\r\nWith this the port would be having a wildcard binding through which anyone can connect. \r\n\r\nI have a requirement now to remove the wildcard binding from this port and have modified my code to below\r\n\r\n    InetAddress localHost = InetAddress.getLoopbackAddress();\r\n    InetSocketAddress sockAddr = new InetSocketAddress(localHost, port);\r\n    httpServer = com.sun.net.httpserver.HttpServer.create();\r\n    httpServer.bind(sockAddr,5);\r\n    httpServer.start();\r\n\r\nWith the above code, I see that the wildcard binding has got removed ([::ffff:127.0.0.1]:&lt;portno&gt;) but the API is not accessible from within the pod or outside.\r\n\r\nEdit( Tried this code as well)\r\n\r\n    InetSocketAddress sockAddr = new InetSocketAddress(localHost, port);\r\n    httpServer = com.sun.net.httpserver.HttpServer.create();\r\n    httpServer.bind(sockAddr,5);\r\n    httpServer.start();\r\nWith the above code netstat shows * binding but Error 404 is not seen. Instead the curl command never comes out. \r\n\r\nCan someone please point out the mistake here?","title":"How to configure com.sun.net.httpserver to remove wildcard binding?","body":"<p>I am using the com.sun.net.httpserver.HttpServer to expose a REST API in a kubernates microservice. Till now it was with wildcard binding. I need to remove the wildcard binding to bind this to its local IP</p>\n<p>I am using the com.sun.net.httpserver.HttpServer to expose a REST API in a kubernates microservice. Till now i had been using</p>\n<pre><code>httpServer = JdkHttpServerFactory.createHttpServer(&quot;http://localhost:&quot; + port + &quot;/&quot;&quot;, resourceConfig, false); \nhttpServer.start();\n</code></pre>\n<p>With this the port would be having a wildcard binding through which anyone can connect.</p>\n<p>I have a requirement now to remove the wildcard binding from this port and have modified my code to below</p>\n<pre><code>InetAddress localHost = InetAddress.getLoopbackAddress();\nInetSocketAddress sockAddr = new InetSocketAddress(localHost, port);\nhttpServer = com.sun.net.httpserver.HttpServer.create();\nhttpServer.bind(sockAddr,5);\nhttpServer.start();\n</code></pre>\n<p>With the above code, I see that the wildcard binding has got removed ([::ffff:127.0.0.1]:) but the API is not accessible from within the pod or outside.</p>\n<p>Edit( Tried this code as well)</p>\n<pre><code>InetSocketAddress sockAddr = new InetSocketAddress(localHost, port);\nhttpServer = com.sun.net.httpserver.HttpServer.create();\nhttpServer.bind(sockAddr,5);\nhttpServer.start();\n</code></pre>\n<p>With the above code netstat shows * binding but Error 404 is not seen. Instead the curl command never comes out.</p>\n<p>Can someone please point out the mistake here?</p>\n"},{"tags":["java","event-handling","awt","mouseevent","mouselistener"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1683393884,"post_id":76190105,"comment_id":134361405,"body_markdown":"Think about what you’re clicking on.  You’re clicking inside the Frame, but the actual object you’re clicking on is a Label or Panel, not the Frame itself.","body":"Think about what you’re clicking on.  You’re clicking inside the Frame, but the actual object you’re clicking on is a Label or Panel, not the Frame itself."},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1683401306,"post_id":76190105,"comment_id":134362229,"body_markdown":"So would he have to register his MouseAdapter to each and every component (Label, Panel, ...), or would it suffice to register it to fr.getContentPane()? What&#39;s the solution?","body":"So would he have to register his MouseAdapter to each and every component (Label, Panel, ...), or would it suffice to register it to fr.getContentPane()? What&#39;s the solution?"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1683459190,"post_id":76190105,"comment_id":134367111,"body_markdown":"@Queeg Yes, it is necessary to register a MouseListener on each clickable component.  (This is not true in JavaFX, where each node has a mouseTransparent property.)","body":"@Queeg Yes, it is necessary to register a MouseListener on each clickable component.  (This is not true in JavaFX, where each node has a mouseTransparent property.)"},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1683482982,"post_id":76190105,"comment_id":134370309,"body_markdown":"Could fr.getGlassPane() help? After all that&#39;s what it is for, isn&#39;t it? https://docs.oracle.com/javase/tutorial/uiswing/components/rootpane.html","body":"Could fr.getGlassPane() help? After all that&#39;s what it is for, isn&#39;t it? <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/rootpane.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/uiswing/components/&hellip;</a>"},{"owner":{"account_id":28529441,"reputation":1,"user_id":21837063,"display_name":"Swasti"},"score":0,"creation_date":1683483739,"post_id":76190105,"comment_id":134370402,"body_markdown":"I tried adding mouse listener to Panel and now it works! But I don&#39;t understand. How is the keyListener working with Frame but mouseListener doesn&#39;t?","body":"I tried adding mouse listener to Panel and now it works! But I don&#39;t understand. How is the keyListener working with Frame but mouseListener doesn&#39;t?"},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1683484116,"post_id":76190105,"comment_id":134370450,"body_markdown":"The mouse usually applies to whichever screen coordinate the pointer is at. The keyboard does not have this screen coordinate, but it has a focus. This one can only be assigned to &#39;focusable&#39; components. Thus it has to behave differently than the mouse. See also https://docs.oracle.com/javase/tutorial/uiswing/misc/focus.html","body":"The mouse usually applies to whichever screen coordinate the pointer is at. The keyboard does not have this screen coordinate, but it has a focus. This one can only be assigned to &#39;focusable&#39; components. Thus it has to behave differently than the mouse. See also <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/misc/focus.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/uiswing/misc/focus.html</a>"}],"owner":{"account_id":28529441,"reputation":1,"user_id":21837063,"display_name":"Swasti"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683392403,"creation_date":1683392403,"question_id":76190105,"body_markdown":"MouseListener is not triggered when I am clicking. I first tried it without any labels and panel. It worked just fine as I could see the mouse coodinates and key pressed on my console. Here is the code for it:\r\n\r\n\r\n```\r\n//Write a program to handle key and mouse event\r\n\r\nimport java.applet.*;\r\nimport java.awt.*;\r\nimport java.awt.event.*;\r\n\r\npublic class HandleEvent{\r\n\tpublic static void main(String args[]){\r\n\t\tFrame fr = new Frame(&quot;HandleEvent&quot;);\r\n\t\tfr.setSize(500,500);\r\n\t\tfr.setVisible(true);\r\n\t\t\r\n\t\tfr.addMouseListener(new MouseAdapter(){\r\n\t\t\tpublic void mouseClicked(MouseEvent e){\r\n\t\t\t\tSystem.out.println(&quot;(&quot; + e.getX() + &quot;, &quot; + e.getY() + &quot;)&quot;);\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\tfr.addKeyListener(new KeyAdapter() {\r\n\t\t\tpublic void keyPressed(KeyEvent e){\r\n\t\t\t\tSystem.out.println(&quot;Key Pressed: &quot; + e.getKeyChar());\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n}\r\n```\r\n\r\nNow I am trying to update the labels whenever I click or press key. The keyPressed() function works but my mouseClicked() is not being triggered when I click. Here is the code:\r\n\r\n\r\n```\r\n//Write a program to handle key and mouse event\r\n\r\nimport java.applet.*;\r\nimport java.awt.*;\r\nimport java.awt.event.*;\r\n\r\npublic class HandleEvent{\r\n    public static void main(String args[]){\r\n        Frame fr = new Frame(&quot;HandleEvent&quot;);\r\n        \r\n        Panel pan = new Panel(new FlowLayout());\r\n        \r\n        Label lb1 = new Label(&quot;Mouse coordinates: (x, y)&quot;, Label.CENTER);\r\n        Label lb2 = new Label(&quot;Key Pressed: *Press any key*&quot;, Label.CENTER);\r\n        \r\n        pan.add(lb1);\r\n        pan.add(lb2);\r\n        \r\n        fr.add(pan);\r\n        fr.setSize(500,500);\r\n        fr.setVisible(true);\r\n        \r\n        fr.addMouseListener(new MouseAdapter() {\r\n            public void mouseClicked(MouseEvent e){\r\n                lb1.setText(&quot;Mouse coordinates: (&quot; + e.getX() + &quot;, &quot; + e.getY() + &quot;)&quot;);\r\n                System.out.println(&quot;Mouse clicked!&quot;);\r\n                lb1.repaint();\r\n            }\r\n        });\r\n        \r\n        fr.addKeyListener(new KeyAdapter() {\r\n            public void keyPressed(KeyEvent e){\r\n                lb2.setText(&quot;Key Pressed: &quot; + e.getKeyChar());\r\n            }\r\n        });\r\n    }\r\n}\r\n```\r\n\r\n\r\nI tried fr.setFocusable(true), fr.requestFocus(), fr.setEnabled(true) but it didn&#39;t work. I even tried other mouse events but it still didn&#39;t work.\r\n","title":"MouseListener is not triggered when I am clicking","body":"<p>MouseListener is not triggered when I am clicking. I first tried it without any labels and panel. It worked just fine as I could see the mouse coodinates and key pressed on my console. Here is the code for it:</p>\n<pre><code>//Write a program to handle key and mouse event\n\nimport java.applet.*;\nimport java.awt.*;\nimport java.awt.event.*;\n\npublic class HandleEvent{\n    public static void main(String args[]){\n        Frame fr = new Frame(&quot;HandleEvent&quot;);\n        fr.setSize(500,500);\n        fr.setVisible(true);\n        \n        fr.addMouseListener(new MouseAdapter(){\n            public void mouseClicked(MouseEvent e){\n                System.out.println(&quot;(&quot; + e.getX() + &quot;, &quot; + e.getY() + &quot;)&quot;);\n            }\n        });\n        \n        fr.addKeyListener(new KeyAdapter() {\n            public void keyPressed(KeyEvent e){\n                System.out.println(&quot;Key Pressed: &quot; + e.getKeyChar());\n            }\n        });\n    }\n}\n</code></pre>\n<p>Now I am trying to update the labels whenever I click or press key. The keyPressed() function works but my mouseClicked() is not being triggered when I click. Here is the code:</p>\n<pre><code>//Write a program to handle key and mouse event\n\nimport java.applet.*;\nimport java.awt.*;\nimport java.awt.event.*;\n\npublic class HandleEvent{\n    public static void main(String args[]){\n        Frame fr = new Frame(&quot;HandleEvent&quot;);\n        \n        Panel pan = new Panel(new FlowLayout());\n        \n        Label lb1 = new Label(&quot;Mouse coordinates: (x, y)&quot;, Label.CENTER);\n        Label lb2 = new Label(&quot;Key Pressed: *Press any key*&quot;, Label.CENTER);\n        \n        pan.add(lb1);\n        pan.add(lb2);\n        \n        fr.add(pan);\n        fr.setSize(500,500);\n        fr.setVisible(true);\n        \n        fr.addMouseListener(new MouseAdapter() {\n            public void mouseClicked(MouseEvent e){\n                lb1.setText(&quot;Mouse coordinates: (&quot; + e.getX() + &quot;, &quot; + e.getY() + &quot;)&quot;);\n                System.out.println(&quot;Mouse clicked!&quot;);\n                lb1.repaint();\n            }\n        });\n        \n        fr.addKeyListener(new KeyAdapter() {\n            public void keyPressed(KeyEvent e){\n                lb2.setText(&quot;Key Pressed: &quot; + e.getKeyChar());\n            }\n        });\n    }\n}\n</code></pre>\n<p>I tried fr.setFocusable(true), fr.requestFocus(), fr.setEnabled(true) but it didn't work. I even tried other mouse events but it still didn't work.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2714969,"reputation":5858,"user_id":2342558,"accept_rate":67,"display_name":"user2342558"},"score":1,"creation_date":1683299058,"post_id":76183477,"comment_id":134350356,"body_markdown":"Does this answer your question? [java String.format: numbers with localization](https://stackoverflow.com/questions/13763700/java-string-format-numbers-with-localization)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/13763700/java-string-format-numbers-with-localization\">java String.format: numbers with localization</a>"},{"owner":{"account_id":11049975,"reputation":33,"user_id":8114775,"display_name":"Tushar"},"score":1,"creation_date":1683304851,"post_id":76183477,"comment_id":134351743,"body_markdown":"@user2342558, the reason this is not good for this problem is that the link is for formatting numbers. What I need is parsing them. Say I pass a string of &quot;1.234,56&quot; and I want this to get converted to English number (i.e 1234.56) for calculation part. But to convert first we need to check whether this is a valid European number or not. After checking we can convert it.","body":"@user2342558, the reason this is not good for this problem is that the link is for formatting numbers. What I need is parsing them. Say I pass a string of &quot;1.234,56&quot; and I want this to get converted to English number (i.e 1234.56) for calculation part. But to convert first we need to check whether this is a valid European number or not. After checking we can convert it."},{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1683310609,"post_id":76183477,"comment_id":134352861,"body_markdown":"If you are parsing user input you should be as forgiving as possible with regards to format, being strict only in what is semantically meaningful: the decimal indicator.  Everything else can be ignored.  So just remove spaces, NBSPs and punctuation that is ***not*** the decimal point.","body":"If you are parsing user input you should be as forgiving as possible with regards to format, being strict only in what is semantically meaningful: the decimal indicator.  Everything else can be ignored.  So just remove spaces, NBSPs and punctuation that is <b><i>not</i></b> the decimal point."}],"answers":[{"tags":[],"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683391681,"creation_date":1683305002,"answer_id":76184355,"question_id":76183477,"body_markdown":"Recent versions of Java expect Portuguese decimal numbers to use:\r\n\r\n  - one non-breaking space (NBSP) for each thousands separator\r\n  - a comma for the decimal separator.\r\n\r\nNote that a non-breaking space is _not_ the same as a standard keyboard space. In Windows, I can type a NBSP using `alt+0160` (hold down the `ALT` key and type `0160`).\r\n\r\nOne approach is to parse each string to a number, and then format the result back to a string:\r\n\r\n```java\r\nString langTag = &quot;pt-PT&quot;; // Portuguese-Portugal\r\nNumberFormat nf_ptPT = DecimalFormat.getInstance(Locale.forLanguageTag(langTag));\r\n\r\n//String input = &quot;1 234,56&quot;; // regular keyboard characters\r\nString input = &quot;1&#160;234,56&quot;; // space is a non-breaking space (alt-0160)\r\n\r\nNumber number = nf_ptPT.parse(input);\r\nString output = nf_ptPT.format(number);\r\nSystem.out.println(input + &quot; : &quot; + (output.equals(input) ? &quot;valid&quot; : &quot;invalid&quot;)\r\n         + &quot; for locale &quot; + langTag);\r\n```\r\n\r\nIf the &quot;before&quot; and &quot;after&quot; strings match, you have a valid format for the given locale. (If you get a `ParseException`, then obviously that is also a failure.)\r\n\r\nFor my version of Java (v 19) the commented out test case fails: `1 234,56` with a regular keyboard space. The other case passes (using a NBSP).\r\n\r\nA validation method might look like this:\r\n\r\n```java\r\nprivate boolean isValidLocalNumber(String numberString, NumberFormat nf) {\r\n    if (numberString == null) {\r\n        return false;\r\n    }\r\n    Number number;\r\n    try {\r\n        number = nf.parse(numberString);\r\n    } catch (ParseException ex) {\r\n        return false;\r\n    }\r\n    return nf.format(number).equals(numberString);\r\n}\r\n```\r\n\r\n---\r\n\r\nIt&#39;s not sufficient to _only_ parse the string. Trying to parse this:\r\n\r\n    &quot;1.234,56&quot;\r\n\r\n...using the parser results in a numeric value `1`. Everything from the `.` onwards is discarded. Formatting this `1` back to a string allows us to see that the values are different.\r\n\r\n---\r\n\r\nIf you receive data for Portuguese numbers with those other formats you mentioned in your question, such as:\r\n\r\n  - two spaces for the thousands separator\r\n  - a period (full stop) for the thousands separator\r\n  - spaces instead of NBSPs (depending on your Java version)\r\n\r\n...then those are invalid Portuguese formats, as far as Java is concerned.\r\n\r\nYou would have to decide for yourself if you need to handle those as special cases, or require strict correctness, from Java&#39;s point of view.\r\n\r\nYou may need to define some custom formats and try those if the standard locale format fails. I think this could get very messy...\r\n\r\nThis example is actually for a currency format - not just a decimal number - but it shows what I mean:\r\n\r\n```java\r\nNumber rawNumber = 120798700;  \r\nNumberFormat nf = NumberFormat.getCurrencyInstance();  \r\nDecimalFormatSymbols dfs = new DecimalFormatSymbols();  \r\ndfs.setCurrencySymbol(&quot;€&quot;);  \r\ndfs.setGroupingSeparator(&#39;.&#39;);  \r\ndfs.setMonetaryDecimalSeparator(&#39;,&#39;);  \r\n((DecimalFormat) nf).setDecimalFormatSymbols(dfs);  \r\nSystem.out.println(nf.format(rawNumber.floatValue() / 100))\r\n```\r\n\r\nThis prints:\r\n\r\n    €1.207.987,00\r\n\r\n\r\n\r\n---\r\n\r\nIn my sample code I have used:\r\n\r\n    String langTag = &quot;pt-PT&quot;;\r\n\r\nThis is a BCP 47 language tag, just as a convenient way to set the locale. More information is [here](https://www.w3.org/International/articles/language-tags/).\r\n\r\nIt&#39;s not the only way to set a locale.\r\n\r\n---\r\n\r\n**Update**\r\n\r\nIt&#39;s worth adding that trying to use Java to validate decimals-as-strings gets more complicated when you consider that different European (and worldwide) locales have quite a variety of different [CLDR](https://cldr.unicode.org/) rules. \r\n\r\nLooking only at the thousands separator:\r\n\r\n  - Portuguese (Portugal): non-breaking space (U+00A0)\r\n  - English (United Kingdom): comma (U+002C)\r\n  - French (France): narrow non-breaking space (U+202F)\r\n  - German (Germany): full stop (U+002E)\r\n  - French (Switzerland): narrow non-breaking space (U+202F)\r\n  - German (Switzerland): right single quotation mark (U+2019)\r\n\r\nThat last one (Swiss German) looks like this:\r\n\r\n    1’234.56","title":"How to validate European Number in Java?","body":"<p>Recent versions of Java expect Portuguese decimal numbers to use:</p>\n<ul>\n<li>one non-breaking space (NBSP) for each thousands separator</li>\n<li>a comma for the decimal separator.</li>\n</ul>\n<p>Note that a non-breaking space is <em>not</em> the same as a standard keyboard space. In Windows, I can type a NBSP using <code>alt+0160</code> (hold down the <code>ALT</code> key and type <code>0160</code>).</p>\n<p>One approach is to parse each string to a number, and then format the result back to a string:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String langTag = &quot;pt-PT&quot;; // Portuguese-Portugal\nNumberFormat nf_ptPT = DecimalFormat.getInstance(Locale.forLanguageTag(langTag));\n\n//String input = &quot;1 234,56&quot;; // regular keyboard characters\nString input = &quot;1 234,56&quot;; // space is a non-breaking space (alt-0160)\n\nNumber number = nf_ptPT.parse(input);\nString output = nf_ptPT.format(number);\nSystem.out.println(input + &quot; : &quot; + (output.equals(input) ? &quot;valid&quot; : &quot;invalid&quot;)\n         + &quot; for locale &quot; + langTag);\n</code></pre>\n<p>If the &quot;before&quot; and &quot;after&quot; strings match, you have a valid format for the given locale. (If you get a <code>ParseException</code>, then obviously that is also a failure.)</p>\n<p>For my version of Java (v 19) the commented out test case fails: <code>1 234,56</code> with a regular keyboard space. The other case passes (using a NBSP).</p>\n<p>A validation method might look like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private boolean isValidLocalNumber(String numberString, NumberFormat nf) {\n    if (numberString == null) {\n        return false;\n    }\n    Number number;\n    try {\n        number = nf.parse(numberString);\n    } catch (ParseException ex) {\n        return false;\n    }\n    return nf.format(number).equals(numberString);\n}\n</code></pre>\n<hr />\n<p>It's not sufficient to <em>only</em> parse the string. Trying to parse this:</p>\n<pre><code>&quot;1.234,56&quot;\n</code></pre>\n<p>...using the parser results in a numeric value <code>1</code>. Everything from the <code>.</code> onwards is discarded. Formatting this <code>1</code> back to a string allows us to see that the values are different.</p>\n<hr />\n<p>If you receive data for Portuguese numbers with those other formats you mentioned in your question, such as:</p>\n<ul>\n<li>two spaces for the thousands separator</li>\n<li>a period (full stop) for the thousands separator</li>\n<li>spaces instead of NBSPs (depending on your Java version)</li>\n</ul>\n<p>...then those are invalid Portuguese formats, as far as Java is concerned.</p>\n<p>You would have to decide for yourself if you need to handle those as special cases, or require strict correctness, from Java's point of view.</p>\n<p>You may need to define some custom formats and try those if the standard locale format fails. I think this could get very messy...</p>\n<p>This example is actually for a currency format - not just a decimal number - but it shows what I mean:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Number rawNumber = 120798700;  \nNumberFormat nf = NumberFormat.getCurrencyInstance();  \nDecimalFormatSymbols dfs = new DecimalFormatSymbols();  \ndfs.setCurrencySymbol(&quot;€&quot;);  \ndfs.setGroupingSeparator('.');  \ndfs.setMonetaryDecimalSeparator(',');  \n((DecimalFormat) nf).setDecimalFormatSymbols(dfs);  \nSystem.out.println(nf.format(rawNumber.floatValue() / 100))\n</code></pre>\n<p>This prints:</p>\n<pre><code>€1.207.987,00\n</code></pre>\n<hr />\n<p>In my sample code I have used:</p>\n<pre><code>String langTag = &quot;pt-PT&quot;;\n</code></pre>\n<p>This is a BCP 47 language tag, just as a convenient way to set the locale. More information is <a href=\"https://www.w3.org/International/articles/language-tags/\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>It's not the only way to set a locale.</p>\n<hr />\n<p><strong>Update</strong></p>\n<p>It's worth adding that trying to use Java to validate decimals-as-strings gets more complicated when you consider that different European (and worldwide) locales have quite a variety of different <a href=\"https://cldr.unicode.org/\" rel=\"nofollow noreferrer\">CLDR</a> rules.</p>\n<p>Looking only at the thousands separator:</p>\n<ul>\n<li>Portuguese (Portugal): non-breaking space (U+00A0)</li>\n<li>English (United Kingdom): comma (U+002C)</li>\n<li>French (France): narrow non-breaking space (U+202F)</li>\n<li>German (Germany): full stop (U+002E)</li>\n<li>French (Switzerland): narrow non-breaking space (U+202F)</li>\n<li>German (Switzerland): right single quotation mark (U+2019)</li>\n</ul>\n<p>That last one (Swiss German) looks like this:</p>\n<pre><code>1’234.56\n</code></pre>\n"}],"owner":{"account_id":11049975,"reputation":33,"user_id":8114775,"display_name":"Tushar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683391681,"creation_date":1683298329,"question_id":76183477,"body_markdown":"For e.g:\r\nthese are valid European numbers (Portuguese numbers)\r\n```1.234,56```\r\n```1 234,56``` (Single Space), \r\n```1.234.567,89```, \r\n```1 234 567,89``` (Single Space), \r\n```1  234,56``` (double space could be replaced by single space...people usually write in double space)\r\n\r\nInvalid European numbers (Portuguese numbers)\r\n```1,234.56```, \r\n```1.234 56``` (Single space but used as decimal seperator), \r\n```1,234,567.89```, \r\n```1  234.56``` (Double space instead of single space).\r\n\r\nCan you tell me how to solve this problem? I have been using some pattern matching but it&#39;s not effective. And is there any third-party library for this? This is my code:\r\n```\r\nimport java.math.BigDecimal;\r\nimport java.text.DecimalFormat;\r\nimport java.text.DecimalFormatSymbols;\r\nimport java.text.ParseException;\r\nimport java.util.Locale;\r\nimport java.util.Objects;\r\n\r\npublic class ValidateEuropeanNumber {\r\n\r\n    /**\r\n     * Checks if the input string represents a valid European number format.\r\n     *\r\n     * Preconditions:\r\n     *  - The input string must not be null.\r\n     *\r\n     * Postconditions:\r\n     *  - Returns true if the input string represents a valid European number format.\r\n     *  - Returns false if the input string does not represent a valid European number format.\r\n     *\r\n     * @param input The string to check for a valid European number format.\r\n     * @return true if the input string represents a valid European number format, false otherwise.\r\n     * @throws NullPointerException if the input string is null.\r\n     */\r\n    public static boolean isValidEuropeanNumber(String input) {\r\n        Objects.requireNonNull(input, &quot;The input string must not be null.&quot;);\r\n\r\n        // Remove leading and trailing spaces\r\n        input = input.trim();\r\n\r\n        // Replace multiple spaces with a single space\r\n        input = input.replaceAll(&quot;\\\\s{2,}&quot;, &quot; &quot;);\r\n\r\n        DecimalFormatSymbols symbols = new DecimalFormatSymbols(Locale.GERMAN);\r\n        DecimalFormat format = new DecimalFormat(&quot;#,##0.###&quot;, symbols);\r\n        format.setParseBigDecimal(true);\r\n\r\n        try {\r\n            BigDecimal number = (BigDecimal) format.parse(input);\r\n\r\n            // Check if there are any periods in the input\r\n            if (input.contains(&quot;.&quot;)) {\r\n                DecimalFormatSymbols periodSymbols = new DecimalFormatSymbols(Locale.UK);\r\n                DecimalFormat periodFormat = new DecimalFormat(&quot;#,##0.###&quot;, periodSymbols);\r\n                periodFormat.setParseBigDecimal(true);\r\n\r\n                BigDecimal periodNumber = (BigDecimal) periodFormat.parse(input);\r\n            }\r\n\r\n            return true;\r\n        } catch (ParseException e) {\r\n            return false;\r\n        }\r\n    }\r\n}\r\n```","title":"How to validate European Number in Java?","body":"<p>For e.g:\nthese are valid European numbers (Portuguese numbers)\n<code>1.234,56</code>\n<code>1 234,56</code> (Single Space),\n<code>1.234.567,89</code>,\n<code>1 234 567,89</code> (Single Space),\n<code>1  234,56</code> (double space could be replaced by single space...people usually write in double space)</p>\n<p>Invalid European numbers (Portuguese numbers)\n<code>1,234.56</code>,\n<code>1.234 56</code> (Single space but used as decimal seperator),\n<code>1,234,567.89</code>,\n<code>1  234.56</code> (Double space instead of single space).</p>\n<p>Can you tell me how to solve this problem? I have been using some pattern matching but it's not effective. And is there any third-party library for this? This is my code:</p>\n<pre><code>import java.math.BigDecimal;\nimport java.text.DecimalFormat;\nimport java.text.DecimalFormatSymbols;\nimport java.text.ParseException;\nimport java.util.Locale;\nimport java.util.Objects;\n\npublic class ValidateEuropeanNumber {\n\n    /**\n     * Checks if the input string represents a valid European number format.\n     *\n     * Preconditions:\n     *  - The input string must not be null.\n     *\n     * Postconditions:\n     *  - Returns true if the input string represents a valid European number format.\n     *  - Returns false if the input string does not represent a valid European number format.\n     *\n     * @param input The string to check for a valid European number format.\n     * @return true if the input string represents a valid European number format, false otherwise.\n     * @throws NullPointerException if the input string is null.\n     */\n    public static boolean isValidEuropeanNumber(String input) {\n        Objects.requireNonNull(input, &quot;The input string must not be null.&quot;);\n\n        // Remove leading and trailing spaces\n        input = input.trim();\n\n        // Replace multiple spaces with a single space\n        input = input.replaceAll(&quot;\\\\s{2,}&quot;, &quot; &quot;);\n\n        DecimalFormatSymbols symbols = new DecimalFormatSymbols(Locale.GERMAN);\n        DecimalFormat format = new DecimalFormat(&quot;#,##0.###&quot;, symbols);\n        format.setParseBigDecimal(true);\n\n        try {\n            BigDecimal number = (BigDecimal) format.parse(input);\n\n            // Check if there are any periods in the input\n            if (input.contains(&quot;.&quot;)) {\n                DecimalFormatSymbols periodSymbols = new DecimalFormatSymbols(Locale.UK);\n                DecimalFormat periodFormat = new DecimalFormat(&quot;#,##0.###&quot;, periodSymbols);\n                periodFormat.setParseBigDecimal(true);\n\n                BigDecimal periodNumber = (BigDecimal) periodFormat.parse(input);\n            }\n\n            return true;\n        } catch (ParseException e) {\n            return false;\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","stringtemplate","stringtemplate-4"],"answers":[{"tags":[],"owner":{"account_id":20477499,"reputation":11,"user_id":15026469,"display_name":"Heiko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1612702457,"creation_date":1612702457,"answer_id":66088171,"question_id":66053762,"body_markdown":"Not sure if I understand your question correctly, but can&#39;t just move the comma in the if?\r\n```\r\n&lt;if(A)&gt;\\&quot;A\\&quot;:\\&quot;&lt;A&gt;\\&quot;, &lt;endif&gt;&lt;if(B)&gt;\\&quot;B\\&quot;:\\&quot;&lt;B&gt;\\&quot;, &lt;endif&gt;&lt;if(C)&gt;\\&quot;C\\&quot;:\\&quot;&lt;C&gt;\\&quot;&lt;endif&gt;\r\n```","title":"Comma between optional statements","body":"<p>Not sure if I understand your question correctly, but can't just move the comma in the if?</p>\n<pre><code>&lt;if(A)&gt;\\&quot;A\\&quot;:\\&quot;&lt;A&gt;\\&quot;, &lt;endif&gt;&lt;if(B)&gt;\\&quot;B\\&quot;:\\&quot;&lt;B&gt;\\&quot;, &lt;endif&gt;&lt;if(C)&gt;\\&quot;C\\&quot;:\\&quot;&lt;C&gt;\\&quot;&lt;endif&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28377969,"reputation":1,"user_id":21837069,"display_name":"swaroop"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683391588,"creation_date":1683391588,"answer_id":76190054,"question_id":66053762,"body_markdown":"This template will do the trick\r\n\r\n```\r\n&lt;if(A)&gt; do A &lt;endif&gt;\r\n&lt;if(B)&gt;&lt;if(A),&lt;endif&gt; do B &lt;endif&gt;\r\n&lt;if(C)&gt;&lt;if(A||B),&lt;endif&gt; do C &lt;endif&gt;\r\n```","title":"Comma between optional statements","body":"<p>This template will do the trick</p>\n<pre><code>&lt;if(A)&gt; do A &lt;endif&gt;\n&lt;if(B)&gt;&lt;if(A),&lt;endif&gt; do B &lt;endif&gt;\n&lt;if(C)&gt;&lt;if(A||B),&lt;endif&gt; do C &lt;endif&gt;\n</code></pre>\n"}],"owner":{"account_id":987560,"reputation":277,"user_id":1005711,"accept_rate":86,"display_name":"Shahab78"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":130,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1683391588,"creation_date":1612472597,"question_id":66053762,"body_markdown":"I am trying to generate code with stringtemplate4, and I have a line like this:\r\n\r\n    &quot;&lt;if(A)&gt;\\&quot;A\\&quot;:\\&quot;&lt;A&gt;\\&quot;&lt;endif&gt;, &lt;if(B)&gt;\\&quot;B\\&quot;:\\&quot;&lt;B&gt;\\&quot;&lt;endif&gt;, &lt;if(C)&gt;\\&quot;C\\&quot;:\\&quot;&lt;C&gt;\\&quot;&lt;endif&gt;&quot;\r\n\r\nso A, B and C are optional parameters that if they are not set, I don&#39;t want the whole statement to be in the output string. That part is working fine but the comma after the statement is my problem, I don&#39;t want the comma to be there as well. I can have the comma inside the string (like \\&quot;&lt;A&gt;,\\&quot; but then I might end up with an extra comma at the end. I think one way is to do it like a list but I don&#39;t know how to define that. this is not working:\r\n\r\n    &quot;&lt;[{&lt;if(A)&gt;\\&quot;A\\&quot;:\\&quot;&lt;A&gt;\\&quot;&lt;endif&gt;,&lt;if(B)&gt;\\&quot;B\\&quot;:\\&quot;&lt;B&gt;\\&quot;&lt;endif&gt;}]; separator=\\&quot;,\\&quot;&gt;&quot;\r\n\r\nAny ideas? thanks. \r\n","title":"Comma between optional statements","body":"<p>I am trying to generate code with stringtemplate4, and I have a line like this:</p>\n<pre><code>&quot;&lt;if(A)&gt;\\&quot;A\\&quot;:\\&quot;&lt;A&gt;\\&quot;&lt;endif&gt;, &lt;if(B)&gt;\\&quot;B\\&quot;:\\&quot;&lt;B&gt;\\&quot;&lt;endif&gt;, &lt;if(C)&gt;\\&quot;C\\&quot;:\\&quot;&lt;C&gt;\\&quot;&lt;endif&gt;&quot;\n</code></pre>\n<p>so A, B and C are optional parameters that if they are not set, I don't want the whole statement to be in the output string. That part is working fine but the comma after the statement is my problem, I don't want the comma to be there as well. I can have the comma inside the string (like &quot;,&quot; but then I might end up with an extra comma at the end. I think one way is to do it like a list but I don't know how to define that. this is not working:</p>\n<pre><code>&quot;&lt;[{&lt;if(A)&gt;\\&quot;A\\&quot;:\\&quot;&lt;A&gt;\\&quot;&lt;endif&gt;,&lt;if(B)&gt;\\&quot;B\\&quot;:\\&quot;&lt;B&gt;\\&quot;&lt;endif&gt;}]; separator=\\&quot;,\\&quot;&gt;&quot;\n</code></pre>\n<p>Any ideas? thanks.</p>\n"},{"tags":["java","rest","groovy","automated-tests","webtau"],"answers":[{"tags":[],"owner":{"account_id":22244,"reputation":58413,"user_id":54684,"accept_rate":57,"display_name":"Mykola Golubyev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1654793013,"creation_date":1654792710,"answer_id":72563843,"question_id":72563842,"body_markdown":"If you are using [Groovy standalone runner](https://testingisdocumenting.org/webtau/groovy-standalone-runner/introduction) you can base url via command line \r\n```\r\nwebtau --url=http://localhost:8080\r\n``` \r\nor have a groovy config file `webtau.cfg.groovy`\r\n```\r\nurl = &quot;http://localhost:8080\r\n```\r\n\r\nIn case of Java `src/test/resources/webtau.properties` file\r\n```\r\nurl = http://localhost:8080\r\n```\r\nor pass it via system property for test execution \r\n```\r\n-Durl=&quot;http://localhost:8080&quot;\r\n```\r\n\r\nfor both Java and Groovy you can also provide base url via environment variable \r\n```\r\nWEBTAU_URL=http://localhost:8080\r\n```","title":"How do I specify base url for REST API tests with WebTau","body":"<p>If you are using <a href=\"https://testingisdocumenting.org/webtau/groovy-standalone-runner/introduction\" rel=\"nofollow noreferrer\">Groovy standalone runner</a> you can base url via command line</p>\n<pre><code>webtau --url=http://localhost:8080\n</code></pre>\n<p>or have a groovy config file <code>webtau.cfg.groovy</code></p>\n<pre><code>url = &quot;http://localhost:8080\n</code></pre>\n<p>In case of Java <code>src/test/resources/webtau.properties</code> file</p>\n<pre><code>url = http://localhost:8080\n</code></pre>\n<p>or pass it via system property for test execution</p>\n<pre><code>-Durl=&quot;http://localhost:8080&quot;\n</code></pre>\n<p>for both Java and Groovy you can also provide base url via environment variable</p>\n<pre><code>WEBTAU_URL=http://localhost:8080\n</code></pre>\n"}],"owner":{"account_id":22244,"reputation":58413,"user_id":54684,"accept_rate":57,"display_name":"Mykola Golubyev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":178,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72563843,"answer_count":1,"score":0,"last_activity_date":1683391364,"creation_date":1654792710,"question_id":72563842,"body_markdown":"In [WebTau documentation](https://testingisdocumenting.org/webtau/HTTP/CRUD) on how to test CRUD, examples are using relative urls\r\n```\r\ndef customerPayload = [firstName: &quot;FN&quot;, lastName: &quot;LN&quot;]\r\n\r\ndef id = http.post(&quot;/customers&quot;, customerPayload) {\r\n    return id\r\n}\r\n\r\nhttp.get(&quot;/customers/${id}&quot;) {\r\n    body.should == customerPayload\r\n}\r\n```\r\n\r\nHow do I set base url to use?","title":"How do I specify base url for REST API tests with WebTau","body":"<p>In <a href=\"https://testingisdocumenting.org/webtau/HTTP/CRUD\" rel=\"nofollow noreferrer\">WebTau documentation</a> on how to test CRUD, examples are using relative urls</p>\n<pre><code>def customerPayload = [firstName: &quot;FN&quot;, lastName: &quot;LN&quot;]\n\ndef id = http.post(&quot;/customers&quot;, customerPayload) {\n    return id\n}\n\nhttp.get(&quot;/customers/${id}&quot;) {\n    body.should == customerPayload\n}\n</code></pre>\n<p>How do I set base url to use?</p>\n"},{"tags":["java","kml","google-earth","simple-framework","kmz"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1680179011,"post_id":75887764,"comment_id":133856151,"body_markdown":"That&#39;s &#39;gone dark&#39; because it&#39;s not clear how that CDATA came out in the first place","body":"That&#39;s &#39;gone dark&#39; because it&#39;s not clear how that CDATA came out in the first place"},{"owner":{"account_id":17730432,"reputation":107,"user_id":12873175,"display_name":"adrian"},"score":0,"creation_date":1680182427,"post_id":75887764,"comment_id":133857208,"body_markdown":"while debugin i can see that the Document kml has the placemark and inside I can see the description well formated like this:\n\n&lt;![CDATA[&lt;div&gt;&lt;table border=&#39;1&#39; width=&#39;300&#39;&gt;&lt;tr&gt;&lt;td&gt;MAL707&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/div&gt;]]&gt;\nbut it&#39;s the serializer who outputs that wrong","body":"while debugin i can see that the Document kml has the placemark and inside I can see the description well formated like this:  &lt;![CDATA[&lt;div&gt;&lt;table border=&#39;1&#39; width=&#39;300&#39;&gt;&lt;tr&gt;&lt;td&gt;MAL707&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/div&gt;]]&gt; but it&#39;s the serializer who outputs that wrong"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1680183100,"post_id":75887764,"comment_id":133857428,"body_markdown":"I don&#39;t know this API but have a look at [this](https://simple.sourceforge.net/download/stream/doc/javadoc/org/simpleframework/xml/Element.html#data())","body":"I don&#39;t know this API but have a look at <a href=\"https://simple.sourceforge.net/download/stream/doc/javadoc/org/simpleframework/xml/Element.html#data()\" rel=\"nofollow noreferrer\">this</a>"}],"owner":{"account_id":17730432,"reputation":107,"user_id":12873175,"display_name":"adrian"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683391286,"creation_date":1680176324,"question_id":75887764,"body_markdown":"I have a program that gets a csv and conver it into a kmz that can be opened in Google Earth\r\n\r\nThe problem is that one of the inputs is the Description that has a table inside\r\n\r\nSo I have this:\r\n\r\n    @Element(name = &quot;Description&quot;)\r\n    private String description;\r\n\r\nAnd I create the html structure and add the element\r\n\r\n    String htmlTable = &quot;&lt;table border=&amp;apos;1&amp;apos; width=&amp;apos;300&amp;apos;&gt;&lt;tr&gt;&lt;td&gt;&quot; + \r\n    contenidoProcesado[1] + &quot;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&quot;;\r\n    String description = &quot;&lt;![CDATA[&lt;div&gt;&quot; + htmlTable + &quot;&lt;/div&gt;]]&gt;&quot;;\r\n    placemark.setDescription(description);\r\n\r\nLater I use a Serializer with a list of all my entries in the csv as placemarks and create this kmz with a kml inside with all the data.\r\n\r\n    try {\r\n    \t\tSerializer serializer = new Persister();\t\t\t\r\n    \t\tDocument kml = new Document(placemarks);\t\t\t\t\t\t\t\t\r\n    \t\t\t\t\r\n    \t\ttry {\r\n    \t\t    // Read in the KML file\r\n    \t\t    File kmlFile = new File(filePath.substring(0, filePath.lastIndexOf(&quot;.&quot;)) + &quot;.kml&quot; );\r\n    \t\t    String kmlFileName = kmlFile.getName();\t\t\t\t  \r\n    \t\t    FileInputStream fis = new FileInputStream(kmlFile);\r\n    \t\t    byte[] kmlBytes = new byte[(int) kmlFile.length()];\r\n    \t\t    fis.read(kmlBytes);\r\n    \t\t    fis.close();    \t\t    \r\n    \r\n    \t\t    // Create the KMZ file\r\n    \t\t    File kmzFile = new File(filePath.substring(0, filePath.lastIndexOf(&quot;.&quot;)) + &quot;.kmz&quot; );\r\n    \t\t    FileOutputStream fos = new FileOutputStream(kmzFile);\r\n    \t\t    ZipOutputStream zos = new ZipOutputStream(fos);\r\n    \r\n    \t\t    // Add the KML file to the KMZ archive\r\n    \t\t    ZipEntry kmlEntry = new ZipEntry(kmlFileName);\r\n    \t\t    zos.putNextEntry(kmlEntry);\r\n    \t\t    zos.write((&quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot;?&gt;&quot; + &quot;\\n&quot;).getBytes());\r\n    \t\t\tzos.write((&quot;&lt;kml xmlns=\\&quot;http://www.opengis.net/kml/2.2\\&quot;&gt;&quot; + &quot;\\n&quot;).getBytes());\r\n    \t\t    serializer.write(kml, zos); // write KML data directly to the KMZ file\r\n    \t\t    zos.write(&quot;&lt;/kml&gt;&quot;.getBytes()); // add closing &lt;/kml&gt; tag to the KMZ file\r\n    \t\t\t\t        \t\t\t\t    \r\n    \t\t\tzos.closeEntry();\r\n\r\nI can Open the mz generated in Google Earth but the description is not appearing and if I open the kml it&#39;s like this:\r\n\r\n    &lt;Description&gt;&amp;lt;div&amp;gt;&amp;lt;table border=&amp;amp;apos;1&amp;amp;apos; width=&amp;amp;apos;300&amp;amp;apos;&amp;gt;&amp;lt;tr&amp;gt;&amp;lt;td&amp;gt;LAM450520&amp;lt;/td&amp;gt;&amp;lt;/tr&amp;gt;&amp;lt;/table&amp;gt;&amp;lt;/div&amp;gt;&lt;/Description&gt;\r\n\r\nIt does not have an html structure because it converted the &quot;&quot;, &lt; and &gt; into special quotes so Google Earth cannot display this description.\r\n\r\nCould you guide me a little to finally have the structure unaltered, so I can read it from Google Earth please?","title":"SimpleXML in Java add CDATA String to KMZ","body":"<p>I have a program that gets a csv and conver it into a kmz that can be opened in Google Earth</p>\n<p>The problem is that one of the inputs is the Description that has a table inside</p>\n<p>So I have this:</p>\n<pre><code>@Element(name = &quot;Description&quot;)\nprivate String description;\n</code></pre>\n<p>And I create the html structure and add the element</p>\n<pre><code>String htmlTable = &quot;&lt;table border=&amp;apos;1&amp;apos; width=&amp;apos;300&amp;apos;&gt;&lt;tr&gt;&lt;td&gt;&quot; + \ncontenidoProcesado[1] + &quot;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&quot;;\nString description = &quot;&lt;![CDATA[&lt;div&gt;&quot; + htmlTable + &quot;&lt;/div&gt;]]&gt;&quot;;\nplacemark.setDescription(description);\n</code></pre>\n<p>Later I use a Serializer with a list of all my entries in the csv as placemarks and create this kmz with a kml inside with all the data.</p>\n<pre><code>try {\n        Serializer serializer = new Persister();            \n        Document kml = new Document(placemarks);                                \n                \n        try {\n            // Read in the KML file\n            File kmlFile = new File(filePath.substring(0, filePath.lastIndexOf(&quot;.&quot;)) + &quot;.kml&quot; );\n            String kmlFileName = kmlFile.getName();               \n            FileInputStream fis = new FileInputStream(kmlFile);\n            byte[] kmlBytes = new byte[(int) kmlFile.length()];\n            fis.read(kmlBytes);\n            fis.close();                \n\n            // Create the KMZ file\n            File kmzFile = new File(filePath.substring(0, filePath.lastIndexOf(&quot;.&quot;)) + &quot;.kmz&quot; );\n            FileOutputStream fos = new FileOutputStream(kmzFile);\n            ZipOutputStream zos = new ZipOutputStream(fos);\n\n            // Add the KML file to the KMZ archive\n            ZipEntry kmlEntry = new ZipEntry(kmlFileName);\n            zos.putNextEntry(kmlEntry);\n            zos.write((&quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot;?&gt;&quot; + &quot;\\n&quot;).getBytes());\n            zos.write((&quot;&lt;kml xmlns=\\&quot;http://www.opengis.net/kml/2.2\\&quot;&gt;&quot; + &quot;\\n&quot;).getBytes());\n            serializer.write(kml, zos); // write KML data directly to the KMZ file\n            zos.write(&quot;&lt;/kml&gt;&quot;.getBytes()); // add closing &lt;/kml&gt; tag to the KMZ file\n                                            \n            zos.closeEntry();\n</code></pre>\n<p>I can Open the mz generated in Google Earth but the description is not appearing and if I open the kml it's like this:</p>\n<pre><code>&lt;Description&gt;&amp;lt;div&amp;gt;&amp;lt;table border=&amp;amp;apos;1&amp;amp;apos; width=&amp;amp;apos;300&amp;amp;apos;&amp;gt;&amp;lt;tr&amp;gt;&amp;lt;td&amp;gt;LAM450520&amp;lt;/td&amp;gt;&amp;lt;/tr&amp;gt;&amp;lt;/table&amp;gt;&amp;lt;/div&amp;gt;&lt;/Description&gt;\n</code></pre>\n<p>It does not have an html structure because it converted the &quot;&quot;, &lt; and &gt; into special quotes so Google Earth cannot display this description.</p>\n<p>Could you guide me a little to finally have the structure unaltered, so I can read it from Google Earth please?</p>\n"},{"tags":["java","vaadin","vaadin7"],"comments":[{"owner":{"account_id":4430906,"reputation":3990,"user_id":3608089,"display_name":"ollitietavainen"},"score":0,"creation_date":1683282638,"post_id":76175804,"comment_id":134346393,"body_markdown":"You should use https so that third parties can&#39;t view the network traffick.","body":"You should use https so that third parties can&#39;t view the network traffick."}],"answers":[{"tags":[],"owner":{"account_id":2759852,"reputation":7920,"user_id":2376954,"display_name":"Leif &#197;strand"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683391260,"creation_date":1683225603,"answer_id":76176412,"question_id":76175804,"body_markdown":"The built-in `Password` component always uses the value as it has been set. Normally this is totally safe, as all communication between server and client are in encrypted SSL pipe.\r\n\r\nYou can simply not set the password as a field value if you don&#39;t want it to be a field value. (i.e. do not call setValue method)\r\n\r\nHowever if this is still problem for you, there is [one way version of the PasswordField][1] available in the Vaadin&#39;s Directory.\r\n\r\n\r\n  [1]: https://vaadin.com/directory/component/onewaypasswordfield-add-on","title":"How to not display password inside v-uiId and rpc vaadin 7","body":"<p>The built-in <code>Password</code> component always uses the value as it has been set. Normally this is totally safe, as all communication between server and client are in encrypted SSL pipe.</p>\n<p>You can simply not set the password as a field value if you don't want it to be a field value. (i.e. do not call setValue method)</p>\n<p>However if this is still problem for you, there is <a href=\"https://vaadin.com/directory/component/onewaypasswordfield-add-on\" rel=\"nofollow noreferrer\">one way version of the PasswordField</a> available in the Vaadin's Directory.</p>\n"}],"owner":{"account_id":28508124,"reputation":1,"user_id":21818482,"display_name":"Lucas Coelho"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683391260,"creation_date":1683220760,"question_id":76175804,"body_markdown":"How do I not display the password inside the v-uiId in rpc, using vaadin 7.7.14.\r\n\r\nMy password field looks like this:\r\n\r\n\r\n```\r\nPasswordField senha = new PasswordField(&quot;Senha&quot;);\r\n```\r\nAnd how is it inside the v-uiId rpc:\r\n\r\n`[\r\n  [\r\n    &quot;126&quot;,\r\n    &quot;v&quot;,\r\n    &quot;v&quot;,\r\n    [\r\n      &quot;text&quot;,\r\n      [\r\n        &quot;s&quot;,\r\n        &quot;lucascoelho&quot;\r\n      ]\r\n    ]\r\n  ],\r\n  [\r\n    &quot;126&quot;,\r\n    &quot;v&quot;,\r\n    &quot;v&quot;,\r\n    [\r\n      &quot;c&quot;,\r\n      [\r\n        &quot;i&quot;,\r\n        11\r\n      ]\r\n    ]\r\n  ],\r\n  [\r\n    &quot;127&quot;,\r\n    &quot;v&quot;,\r\n    &quot;v&quot;,\r\n    [\r\n      &quot;text&quot;,\r\n      [\r\n        &quot;s&quot;,\r\n        &quot;senha.123&quot;\r\n      ]\r\n    ]\r\n  ],\r\n  [\r\n    &quot;127&quot;,\r\n    &quot;v&quot;,\r\n    &quot;v&quot;,\r\n    [\r\n      &quot;c&quot;,\r\n      [\r\n        &quot;i&quot;,\r\n        9\r\n      ]\r\n    ]\r\n  ],\r\n  [\r\n    &quot;127&quot;,\r\n    &quot;v&quot;,\r\n    &quot;v&quot;,\r\n    [\r\n      &quot;blur&quot;,\r\n      [\r\n        &quot;s&quot;,\r\n        &quot;&quot;\r\n      ]\r\n    ]\r\n  ]\r\n]`\r\n\r\n\r\nPassword obfuscated or removed from rpc.\r\n\r\n\r\nmy user is &quot;lucascoelho&quot; and password is &quot;password.123&quot;\r\n","title":"How to not display password inside v-uiId and rpc vaadin 7","body":"<p>How do I not display the password inside the v-uiId in rpc, using vaadin 7.7.14.</p>\n<p>My password field looks like this:</p>\n<pre><code>PasswordField senha = new PasswordField(&quot;Senha&quot;);\n</code></pre>\n<p>And how is it inside the v-uiId rpc:</p>\n<p><code>[ [ &quot;126&quot;, &quot;v&quot;, &quot;v&quot;, [ &quot;text&quot;, [ &quot;s&quot;, &quot;lucascoelho&quot; ] ] ], [ &quot;126&quot;, &quot;v&quot;, &quot;v&quot;, [ &quot;c&quot;, [ &quot;i&quot;, 11 ] ] ], [ &quot;127&quot;, &quot;v&quot;, &quot;v&quot;, [ &quot;text&quot;, [ &quot;s&quot;, &quot;senha.123&quot; ] ] ], [ &quot;127&quot;, &quot;v&quot;, &quot;v&quot;, [ &quot;c&quot;, [ &quot;i&quot;, 9 ] ] ], [ &quot;127&quot;, &quot;v&quot;, &quot;v&quot;, [ &quot;blur&quot;, [ &quot;s&quot;, &quot;&quot; ] ] ] ]</code></p>\n<p>Password obfuscated or removed from rpc.</p>\n<p>my user is &quot;lucascoelho&quot; and password is &quot;password.123&quot;</p>\n"},{"tags":["java","android","bundle"],"comments":[{"owner":{"account_id":7495697,"reputation":1501,"user_id":5696047,"display_name":"jayesh gurudayalani"},"score":0,"creation_date":1683380242,"post_id":76189156,"comment_id":134359712,"body_markdown":"why don&#39;t you just pass ```ArrayList&lt;String&gt;``` and that list will store file path instead of file object .","body":"why don&#39;t you just pass <code>ArrayList&lt;String&gt;</code> and that list will store file path instead of file object ."},{"owner":{"account_id":27229251,"reputation":23,"user_id":20757245,"display_name":"nnn"},"score":0,"creation_date":1683381575,"post_id":76189156,"comment_id":134359859,"body_markdown":"All further work is already done with the File class, and if I create a file using its path every time, does it make sense to save data in a bundle??","body":"All further work is already done with the File class, and if I create a file using its path every time, does it make sense to save data in a bundle??"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1683393570,"post_id":76189156,"comment_id":134361360,"body_markdown":"Nobody told you to creata files every time. Not even one time.","body":"Nobody told you to creata files every time. Not even one time."},{"owner":{"account_id":27229251,"reputation":23,"user_id":20757245,"display_name":"nnn"},"score":0,"creation_date":1683396837,"post_id":76189156,"comment_id":134361749,"body_markdown":"But all the next code is working with File class... Maybe I just don&#39;t understand some concepts","body":"But all the next code is working with File class... Maybe I just don&#39;t understand some concepts"}],"answers":[{"tags":[],"owner":{"account_id":27229251,"reputation":23,"user_id":20757245,"display_name":"nnn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683391181,"creation_date":1683391181,"answer_id":76190024,"question_id":76189156,"body_markdown":"I resolved this problem by creating the custom class that extended File class","title":"How to put ArrayList&lt;File&gt; in bundle?","body":"<p>I resolved this problem by creating the custom class that extended File class</p>\n"}],"owner":{"account_id":27229251,"reputation":23,"user_id":20757245,"display_name":"nnn"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1683391181,"creation_date":1683379739,"question_id":76189156,"body_markdown":"I have an application to store all the files that are on the user&#39;s device. I want to upload them to the app once, and then restore them from the bundle. But I do not know how to put in the bundle ArrayList&lt;File&gt;, since the File class does not implement the Parcelable interface","title":"How to put ArrayList&lt;File&gt; in bundle?","body":"<p>I have an application to store all the files that are on the user's device. I want to upload them to the app once, and then restore them from the bundle. But I do not know how to put in the bundle ArrayList, since the File class does not implement the Parcelable interface</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":1346868,"reputation":2157,"user_id":1287439,"accept_rate":84,"display_name":"sunjinbo"},"score":0,"creation_date":1683354285,"post_id":76187109,"comment_id":134357219,"body_markdown":"I just only want to use Java API, not Android API.","body":"I just only want to use Java API, not Android API."},{"owner":{"account_id":111736,"reputation":11811,"user_id":295004,"display_name":"Morrison Chang"},"score":0,"creation_date":1683357045,"post_id":76187109,"comment_id":134357444,"body_markdown":"You should clarify how you are communicating with the Android device and where is the JDK running either on a PC or on a Android device.","body":"You should clarify how you are communicating with the Android device and where is the JDK running either on a PC or on a Android device."},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1683379956,"post_id":76187109,"comment_id":134359669,"body_markdown":"If you don&#39;t want to use reflection to access Android API if present you can sill try to get some details using `System.getProperty(&quot;http.agent&quot;)`. It returns something like `Dalvik/2.1.0 (Linux; U; Android 12; Pixel 3a Build/SP2A.220505.008)`.","body":"If you don&#39;t want to use reflection to access Android API if present you can sill try to get some details using <code>System.getProperty(&quot;http.agent&quot;)</code>. It returns something like <code>Dalvik&#47;2.1.0 (Linux; U; Android 12; Pixel 3a Build&#47;SP2A.220505.008)</code>."}],"answers":[{"tags":[],"owner":{"account_id":25889789,"reputation":36,"user_id":19617377,"display_name":"Owner - DSF"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1683389852,"creation_date":1683389852,"answer_id":76189926,"question_id":76187109,"body_markdown":"&gt;  is there have JDK API support to get that?\r\n\r\nWell, in a word, no... You&#39;re trying to communicate with an Android device. When talk about pure Java SDK. It has certain methods to communicate with the OS with the help of JVM. But even Android is a Linux kernel based OS, you can&#39;t do it directly. IT&#39;s because pure Java SDK doesn&#39;t come with tools to contact an Android VM. To do that you need Android SDK. \r\n\r\nOf course you can get some information in the way of @Robert But it&#39;ll not be recommended by Google. It&#39;ll create unsecure situations (Not the given example by @Robert). Perhaps your app may be flagged as insecure and maybe removed, if you tried to use pure SDK somehow. So it&#39;s not recommended at all.\r\n\r\nIf your problem is that you want to create a jar library that can communicate with both PC and Android, they there&#39;s a proper way of doing it. You can use Kotlin Multiplatform Library (Can be created using IntelliJ Idea). Or you just can create KVVM project in Android Studio. Or you may check whether the device is an Android or a PC in the jar library code, and they do separate actions. You can use Android SDK codes if the device is an Android and can use pure Java SDK if it&#39;s a PC. \r\n\r\n(I&#39;m just guessing what you need) And what did you mean by, \r\n\r\n&gt; I&#39;m developing a pure java SDK\r\n\r\nFor android if you use Android SDK you can use these methods\r\n\r\n    System.getProperty(&quot;os.version&quot;) //To get OS and Version\r\n    android.os.Build.VERSION.INCREMENTAL //To get OS Version\r\n    android.os.Build.VERSION.SDK_INT // To Get API Level\r\n    android.os.Build.DEVICE //To get Device\r\n    android.os.Build.MODEL //To get Device Model\r\n    android.os.Build.PRODUCT //To get Device Product.\r\n\r\nBut I highly recommend if you&#39;re developing a library or something for both platforms. Kotlin Multiplatform Library (No need to use Kotlin, you can use Java) have `android`, `native`, `jvm` and `common` source directories, so you can share common codes with your `jvm` library and android library.\r\n\r\nI reccomend you researching more for library (in your words SDK) development. ","title":"How to get device model from JDK api?","body":"<blockquote>\n<p>is there have JDK API support to get that?</p>\n</blockquote>\n<p>Well, in a word, no... You're trying to communicate with an Android device. When talk about pure Java SDK. It has certain methods to communicate with the OS with the help of JVM. But even Android is a Linux kernel based OS, you can't do it directly. IT's because pure Java SDK doesn't come with tools to contact an Android VM. To do that you need Android SDK.</p>\n<p>Of course you can get some information in the way of @Robert But it'll not be recommended by Google. It'll create unsecure situations (Not the given example by @Robert). Perhaps your app may be flagged as insecure and maybe removed, if you tried to use pure SDK somehow. So it's not recommended at all.</p>\n<p>If your problem is that you want to create a jar library that can communicate with both PC and Android, they there's a proper way of doing it. You can use Kotlin Multiplatform Library (Can be created using IntelliJ Idea). Or you just can create KVVM project in Android Studio. Or you may check whether the device is an Android or a PC in the jar library code, and they do separate actions. You can use Android SDK codes if the device is an Android and can use pure Java SDK if it's a PC.</p>\n<p>(I'm just guessing what you need) And what did you mean by,</p>\n<blockquote>\n<p>I'm developing a pure java SDK</p>\n</blockquote>\n<p>For android if you use Android SDK you can use these methods</p>\n<pre><code>System.getProperty(&quot;os.version&quot;) //To get OS and Version\nandroid.os.Build.VERSION.INCREMENTAL //To get OS Version\nandroid.os.Build.VERSION.SDK_INT // To Get API Level\nandroid.os.Build.DEVICE //To get Device\nandroid.os.Build.MODEL //To get Device Model\nandroid.os.Build.PRODUCT //To get Device Product.\n</code></pre>\n<p>But I highly recommend if you're developing a library or something for both platforms. Kotlin Multiplatform Library (No need to use Kotlin, you can use Java) have <code>android</code>, <code>native</code>, <code>jvm</code> and <code>common</code> source directories, so you can share common codes with your <code>jvm</code> library and android library.</p>\n<p>I reccomend you researching more for library (in your words SDK) development.</p>\n"}],"owner":{"account_id":1346868,"reputation":2157,"user_id":1287439,"accept_rate":84,"display_name":"sunjinbo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1683487101,"accepted_answer_id":76189926,"answer_count":1,"score":0,"last_activity_date":1683389852,"creation_date":1683346671,"question_id":76187109,"body_markdown":"I&#39;m developing a pure java SDK based on JDK 8, and its jar will integrate to Android App or Windows program, but for some reasons, I want to get which manufacturer or brand the SDK running on, is there have JDK API support to get that?","title":"How to get device model from JDK api?","body":"<p>I'm developing a pure java SDK based on JDK 8, and its jar will integrate to Android App or Windows program, but for some reasons, I want to get which manufacturer or brand the SDK running on, is there have JDK API support to get that?</p>\n"},{"tags":["java","infinite-loop","aspectj","pointcut"],"answers":[{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683389434,"creation_date":1683375529,"answer_id":76188848,"question_id":76163362,"body_markdown":"Actually, I am answering because your question presents a nice puzzle, not because I think that your use case is particularly relevant. Probably, it is rather a design flaw. I think, you should not try to call a method from an advice which is targeted by the same advice.\r\n\r\nBoth your variant `!cflow(within(MyAspect))` and something like `!adviceexecution()` would, as you have noticed, preclude internal method calls from being captured.\r\n\r\nThe workaround is an [`if()` pointcut](https://www.eclipse.org/aspectj/doc/next/adk15notebook/ataspectj-pcadvice.html#d0e3697) and keeping state in a static, thread-local, boolean field, which is ugly and potentially slow. But if it works for you, you can do that.\r\n\r\n```java\r\npackage de.scrum_master.app;\r\n\r\npublic class MyClass {\r\n  public static void main(String[] args) {\r\n    MyClass myClass = new MyClass();\r\n    myClass.hello();\r\n    myClass.world();\r\n    myClass.helloWorld();\r\n  }\r\n\r\n  public String hello() {\r\n    return &quot;Hello&quot;;\r\n  }\r\n\r\n  public String world() {\r\n    return &quot;world&quot;;\r\n  }\r\n\r\n  public String helloWorld() {\r\n    return hello() + &quot; &quot; + world() + &quot;!&quot;;\r\n  }\r\n}\r\n```\r\n\r\n```java\r\npackage de.scrum_master.aspect;\r\n\r\nimport org.aspectj.lang.ProceedingJoinPoint;\r\nimport org.aspectj.lang.annotation.Around;\r\nimport org.aspectj.lang.annotation.Aspect;\r\nimport org.aspectj.lang.annotation.Pointcut;\r\n\r\nimport de.scrum_master.app.MyClass;\r\n\r\n@Aspect\r\npublic class MyAspect {\r\n  public static ThreadLocal&lt;Boolean&gt; calledFromAdvice = ThreadLocal.withInitial(() -&gt; false);\r\n\r\n  @Pointcut(&quot;execution(!static * de.scrum_master.app.MyClass.*(..)) &amp;&amp; if()&quot;)\r\n  public static boolean captureMyClassMethods() {\r\n    return !calledFromAdvice.get();\r\n  }\r\n\r\n  @Around(&quot;captureMyClassMethods() &amp;&amp; target(myClass)&quot;)\r\n  public Object aroundMyClassMethods(ProceedingJoinPoint jp, MyClass myClass) throws Throwable {\r\n    System.out.println(jp);\r\n    try {\r\n      calledFromAdvice.set(true);\r\n      myClass.helloWorld();\r\n    } finally {\r\n      calledFromAdvice.set(false);\r\n    }\r\n    String result = (String) jp.proceed();\r\n    System.out.println(&quot;  &quot; + result);\r\n    return result;\r\n  }\r\n}\r\n```\r\n\r\nThe `!static` qualifier avoids the static `main` method from beiong intercepted. There, the target object would be `null`, causing a null pointer exception when trying to call amethod upon it.\r\n\r\nPlease also note how I am binding the target object to an advice parameter, which is more elegant than calling `jp.getTraget()` and casting it.\r\n\r\nLast but not least, the `try-finally` makes sure to always reset the flag, even if there is an exception while calling `hello`.\r\n\r\nThe console log looks like this:\r\n\r\n```none\r\nexecution(String de.scrum_master.app.MyClass.hello())\r\n  Hello\r\nexecution(String de.scrum_master.app.MyClass.world())\r\n  world\r\nexecution(String de.scrum_master.app.MyClass.helloWorld())\r\nexecution(String de.scrum_master.app.MyClass.hello())\r\n  Hello\r\nexecution(String de.scrum_master.app.MyClass.world())\r\n  world\r\n  Hello world!\r\n```\r\n\r\nAs you can see, in this case the inner method calls inside `helloWorld` are both captured correctly, but there is no stack overflow exception due to calling `hello` from the aspect","title":"Call adviced method from around advice and avoiding infinite loop without using cflow","body":"<p>Actually, I am answering because your question presents a nice puzzle, not because I think that your use case is particularly relevant. Probably, it is rather a design flaw. I think, you should not try to call a method from an advice which is targeted by the same advice.</p>\n<p>Both your variant <code>!cflow(within(MyAspect))</code> and something like <code>!adviceexecution()</code> would, as you have noticed, preclude internal method calls from being captured.</p>\n<p>The workaround is an <a href=\"https://www.eclipse.org/aspectj/doc/next/adk15notebook/ataspectj-pcadvice.html#d0e3697\" rel=\"nofollow noreferrer\"><code>if()</code> pointcut</a> and keeping state in a static, thread-local, boolean field, which is ugly and potentially slow. But if it works for you, you can do that.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.app;\n\npublic class MyClass {\n  public static void main(String[] args) {\n    MyClass myClass = new MyClass();\n    myClass.hello();\n    myClass.world();\n    myClass.helloWorld();\n  }\n\n  public String hello() {\n    return &quot;Hello&quot;;\n  }\n\n  public String world() {\n    return &quot;world&quot;;\n  }\n\n  public String helloWorld() {\n    return hello() + &quot; &quot; + world() + &quot;!&quot;;\n  }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.aspect;\n\nimport org.aspectj.lang.ProceedingJoinPoint;\nimport org.aspectj.lang.annotation.Around;\nimport org.aspectj.lang.annotation.Aspect;\nimport org.aspectj.lang.annotation.Pointcut;\n\nimport de.scrum_master.app.MyClass;\n\n@Aspect\npublic class MyAspect {\n  public static ThreadLocal&lt;Boolean&gt; calledFromAdvice = ThreadLocal.withInitial(() -&gt; false);\n\n  @Pointcut(&quot;execution(!static * de.scrum_master.app.MyClass.*(..)) &amp;&amp; if()&quot;)\n  public static boolean captureMyClassMethods() {\n    return !calledFromAdvice.get();\n  }\n\n  @Around(&quot;captureMyClassMethods() &amp;&amp; target(myClass)&quot;)\n  public Object aroundMyClassMethods(ProceedingJoinPoint jp, MyClass myClass) throws Throwable {\n    System.out.println(jp);\n    try {\n      calledFromAdvice.set(true);\n      myClass.helloWorld();\n    } finally {\n      calledFromAdvice.set(false);\n    }\n    String result = (String) jp.proceed();\n    System.out.println(&quot;  &quot; + result);\n    return result;\n  }\n}\n</code></pre>\n<p>The <code>!static</code> qualifier avoids the static <code>main</code> method from beiong intercepted. There, the target object would be <code>null</code>, causing a null pointer exception when trying to call amethod upon it.</p>\n<p>Please also note how I am binding the target object to an advice parameter, which is more elegant than calling <code>jp.getTraget()</code> and casting it.</p>\n<p>Last but not least, the <code>try-finally</code> makes sure to always reset the flag, even if there is an exception while calling <code>hello</code>.</p>\n<p>The console log looks like this:</p>\n<pre class=\"lang-none prettyprint-override\"><code>execution(String de.scrum_master.app.MyClass.hello())\n  Hello\nexecution(String de.scrum_master.app.MyClass.world())\n  world\nexecution(String de.scrum_master.app.MyClass.helloWorld())\nexecution(String de.scrum_master.app.MyClass.hello())\n  Hello\nexecution(String de.scrum_master.app.MyClass.world())\n  world\n  Hello world!\n</code></pre>\n<p>As you can see, in this case the inner method calls inside <code>helloWorld</code> are both captured correctly, but there is no stack overflow exception due to calling <code>hello</code> from the aspect</p>\n"}],"owner":{"account_id":10336372,"reputation":129,"user_id":7624350,"accept_rate":100,"display_name":"komal Thawani"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683389434,"creation_date":1683113831,"question_id":76163362,"body_markdown":"I want to capture all method executions in com.ABC.MyClass using AspectJ\r\n\r\n     package com.ABC\r\n     \r\n     public class MyClass{\r\n           \r\n            public methodA(){\r\n            }\r\n\r\n            public methodB(){\r\n              methodA();\r\n            }\r\n     }\r\n\r\nBelow is the Aspect :\r\n\r\n    @Aspect\r\n    public class MyAspect{\r\n      @Pointcut(&quot;execution(* com.ABC.MyClass.*(..))&quot;)\r\n      public void captureMyClassMethods(){\r\n      }\r\n      \r\n      @Around(&quot;captureMyClassMethods()&quot;)\r\n      public Object aroundMyClassMethods(ProceedingJoinPoint jp) throws Throwable{\r\n        MyClass object = (MyClass)jp.getTarget();\r\n\r\n        object.methodA();      //This causes infinite loop\r\n\r\n        Object o = jp.proceed();\r\n        System.out.println(&quot;Some data from o&quot;);\r\n        return o;\r\n      }\r\n    }\r\n\r\nAs mentioned in comments in around advice, while calling methodA() from advice is causing infinite loop. \r\n\r\nAs mentioned in another stackoverflow answer &lt;https://stackoverflow.com/questions/26641283/aspectj-how-to-call-advised-method-from-within-same-advice-without-triggering&gt;  if I change the pointcut expression below then I would miss capturing execution of methodA() when it is called from methodB() because it will be in aspects control flow.\r\n\r\n    @Pointcut(&quot;execution(* com.ABC.MyClass.*(..)) &amp;&amp; !cflow(within(MyAspect))&quot;)\r\n\r\nAnother way I can think of is using before and after advices instead of around advice. But I want to know if there is a way to handle this with around advice?\r\n\r\n","title":"Call adviced method from around advice and avoiding infinite loop without using cflow","body":"<p>I want to capture all method executions in com.ABC.MyClass using AspectJ</p>\n<pre><code> package com.ABC\n \n public class MyClass{\n       \n        public methodA(){\n        }\n\n        public methodB(){\n          methodA();\n        }\n }\n</code></pre>\n<p>Below is the Aspect :</p>\n<pre><code>@Aspect\npublic class MyAspect{\n  @Pointcut(&quot;execution(* com.ABC.MyClass.*(..))&quot;)\n  public void captureMyClassMethods(){\n  }\n  \n  @Around(&quot;captureMyClassMethods()&quot;)\n  public Object aroundMyClassMethods(ProceedingJoinPoint jp) throws Throwable{\n    MyClass object = (MyClass)jp.getTarget();\n\n    object.methodA();      //This causes infinite loop\n\n    Object o = jp.proceed();\n    System.out.println(&quot;Some data from o&quot;);\n    return o;\n  }\n}\n</code></pre>\n<p>As mentioned in comments in around advice, while calling methodA() from advice is causing infinite loop.</p>\n<p>As mentioned in another stackoverflow answer <a href=\"https://stackoverflow.com/questions/26641283/aspectj-how-to-call-advised-method-from-within-same-advice-without-triggering\">Aspectj - how to call advised method from within same advice, without triggering an infinite loop</a>  if I change the pointcut expression below then I would miss capturing execution of methodA() when it is called from methodB() because it will be in aspects control flow.</p>\n<pre><code>@Pointcut(&quot;execution(* com.ABC.MyClass.*(..)) &amp;&amp; !cflow(within(MyAspect))&quot;)\n</code></pre>\n<p>Another way I can think of is using before and after advices instead of around advice. But I want to know if there is a way to handle this with around advice?</p>\n"},{"tags":["java","spring","spring-mvc","soap"],"answers":[{"tags":[],"owner":{"account_id":6916783,"reputation":1196,"user_id":5310721,"accept_rate":81,"display_name":"Alvaro Pedraza"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1683389134,"creation_date":1683389134,"answer_id":76189881,"question_id":76183208,"body_markdown":"Finally, after checking the javax.xml.bind documentation, I got to the solution. You can use `SOAPEnvelope` object to create a `Name` and add it as attribute, like this:\r\n```\r\n    @Override\r\n    public void doWithMessage(WebServiceMessage webServiceMessage) throws IOException, TransformerException {\r\n        String securityToken = tokenGenerator.getToken();\r\n\r\n        try {\r\n            SaajSoapMessage saajSoapMessage = (SaajSoapMessage) webServiceMessage;\r\n            SOAPMessage soapMessage = saajSoapMessage.getSaajMessage();\r\n            SOAPPart soapPart = soapMessage.getSOAPPart();\r\n            SOAPEnvelope soapEnvelope = soapPart.getEnvelope();\r\n            SOAPHeader soapHeader = soapEnvelope.getHeader();\r\n\r\n            Name headerElementName = soapEnvelope.createName(&quot;Security&quot;, &quot;wsse&quot;,\r\n                    &quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd&quot;);\r\n\r\n            SOAPHeaderElement soapHeaderElement = soapHeader.addHeaderElement(headerElementName);\r\n            SOAPElement securityTokenSoapElement = soapHeaderElement.addChildElement(&quot;BinarySecurityToken&quot;, &quot;wsse&quot;);\r\n            securityTokenSoapElement.addNamespaceDeclaration(&quot;wsst&quot;, &quot;http://www.ibm.com/websphere/appserver/tokentype/5.0.2&quot;);\r\n\r\n            // Create ValueType name...\r\n            Name valueTypeName = soapEnvelope.createName(&quot;ValueType&quot;);\r\n            // ... and add it as attribute\r\n            securityTokenSoapElement.addAttribute(valueTypeName, &quot;wsst:LTPA&quot;);\r\n\r\n            securityTokenSoapElement.addTextNode(securityToken);\r\n\r\n            soapMessage.saveChanges();\r\n        } catch (SOAPException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n\r\n    }\r\n```\r\n\r\nJust for reference, the documentation I checked was:\r\n\r\n - [Jakarta SOAP Javadoc - Package javax.xml.soap](https://javadoc.io/doc/jakarta.xml.soap/jakarta.xml.soap-api/1.4.2/javax/xml/soap/package-summary.html)\r\n - [Jakarta SOAP Javadoc - Class SOAPElement](https://javadoc.io/static/jakarta.xml.soap/jakarta.xml.soap-api/1.4.2/javax/xml/soap/SOAPElement.html)\r\n - [Jakarta SOAP Javadoc - Class Name](https://javadoc.io/static/jakarta.xml.soap/jakarta.xml.soap-api/1.4.2/javax/xml/soap/Name.html)\r\n\r\nHope this can help someone. Best regards","title":"Spring WS add ValueType attribute in SOAP request header","body":"<p>Finally, after checking the javax.xml.bind documentation, I got to the solution. You can use <code>SOAPEnvelope</code> object to create a <code>Name</code> and add it as attribute, like this:</p>\n<pre><code>    @Override\n    public void doWithMessage(WebServiceMessage webServiceMessage) throws IOException, TransformerException {\n        String securityToken = tokenGenerator.getToken();\n\n        try {\n            SaajSoapMessage saajSoapMessage = (SaajSoapMessage) webServiceMessage;\n            SOAPMessage soapMessage = saajSoapMessage.getSaajMessage();\n            SOAPPart soapPart = soapMessage.getSOAPPart();\n            SOAPEnvelope soapEnvelope = soapPart.getEnvelope();\n            SOAPHeader soapHeader = soapEnvelope.getHeader();\n\n            Name headerElementName = soapEnvelope.createName(&quot;Security&quot;, &quot;wsse&quot;,\n                    &quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd&quot;);\n\n            SOAPHeaderElement soapHeaderElement = soapHeader.addHeaderElement(headerElementName);\n            SOAPElement securityTokenSoapElement = soapHeaderElement.addChildElement(&quot;BinarySecurityToken&quot;, &quot;wsse&quot;);\n            securityTokenSoapElement.addNamespaceDeclaration(&quot;wsst&quot;, &quot;http://www.ibm.com/websphere/appserver/tokentype/5.0.2&quot;);\n\n            // Create ValueType name...\n            Name valueTypeName = soapEnvelope.createName(&quot;ValueType&quot;);\n            // ... and add it as attribute\n            securityTokenSoapElement.addAttribute(valueTypeName, &quot;wsst:LTPA&quot;);\n\n            securityTokenSoapElement.addTextNode(securityToken);\n\n            soapMessage.saveChanges();\n        } catch (SOAPException e) {\n            throw new RuntimeException(e);\n        }\n\n    }\n</code></pre>\n<p>Just for reference, the documentation I checked was:</p>\n<ul>\n<li><a href=\"https://javadoc.io/doc/jakarta.xml.soap/jakarta.xml.soap-api/1.4.2/javax/xml/soap/package-summary.html\" rel=\"nofollow noreferrer\">Jakarta SOAP Javadoc - Package javax.xml.soap</a></li>\n<li><a href=\"https://javadoc.io/static/jakarta.xml.soap/jakarta.xml.soap-api/1.4.2/javax/xml/soap/SOAPElement.html\" rel=\"nofollow noreferrer\">Jakarta SOAP Javadoc - Class SOAPElement</a></li>\n<li><a href=\"https://javadoc.io/static/jakarta.xml.soap/jakarta.xml.soap-api/1.4.2/javax/xml/soap/Name.html\" rel=\"nofollow noreferrer\">Jakarta SOAP Javadoc - Class Name</a></li>\n</ul>\n<p>Hope this can help someone. Best regards</p>\n"}],"owner":{"account_id":6916783,"reputation":1196,"user_id":5310721,"accept_rate":81,"display_name":"Alvaro Pedraza"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76189881,"answer_count":1,"score":0,"last_activity_date":1683389134,"creation_date":1683296545,"question_id":76183208,"body_markdown":"I&#39;m working in a SOAP client application using Spring Web and I need to invoke a external service which requires authentication with Binary Security Token. I have a working example from the service provider team which is like this:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;soapenv:Envelope xmlns:soapenv=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&gt;\r\n   &lt;soapenv:Header&gt;\r\n      &lt;wsse:Security xmlns:wsse=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd&quot;&gt;\r\n         &lt;wsse:BinarySecurityToken xmlns:wsst=&quot;http://www.ibm.com/websphere/appserver/tokentype/5.0.2&quot; ValueType=&quot;wsst:LTPA&quot;&gt;generated_token&lt;/wsse:BinarySecurityToken&gt;\r\n      &lt;/wsse:Security&gt;\r\n   &lt;/soapenv:Header&gt;\r\n   &lt;soapenv:Body&gt;\r\n      ...\r\n   &lt;/soapenv:Body&gt;\r\n&lt;/soapenv:Envelope&gt;\r\n```\r\n\r\nTaking [this post](https://www.devglan.com/spring-mvc/custom-header-in-spring-soap-request) as guide I wrote this callback:\r\n```\r\n@Component\r\npublic class CrmBinarySecurityTokenHeaderCallback implements WebServiceMessageCallback {\r\n\r\n    @Autowired\r\n    private TokenGenerator tokenGenerator;\r\n\r\n    @Override\r\n    public void doWithMessage(WebServiceMessage webServiceMessage) throws IOException, TransformerException {\r\n        String securityToken = tokenGenerator.getToken();\r\n\r\n        try {\r\n            SaajSoapMessage saajSoapMessage = (SaajSoapMessage) webServiceMessage;\r\n            SOAPMessage soapMessage = saajSoapMessage.getSaajMessage();\r\n            SOAPPart soapPart = soapMessage.getSOAPPart();\r\n            SOAPEnvelope soapEnvelope = soapPart.getEnvelope();\r\n            SOAPHeader soapHeader = soapEnvelope.getHeader();\r\n\r\n            Name headerElementName = soapEnvelope.createName(&quot;Security&quot;, &quot;wsse&quot;,\r\n                    &quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd&quot;);\r\n\r\n            SOAPHeaderElement soapHeaderElement = soapHeader.addHeaderElement(headerElementName);\r\n            SOAPElement securityTokenSoapElement = soapHeaderElement.addChildElement(&quot;BinarySecurityToken&quot;, &quot;wsse&quot;);\r\n            securityTokenSoapElement.addNamespaceDeclaration(&quot;wsst&quot;, &quot;http://www.ibm.com/websphere/appserver/tokentype/5.0.2&quot;);\r\n\r\n            QName valueType = securityTokenSoapElement.createQName(&quot;ValueType&quot;, &quot;wsst&quot;);\r\n            securityTokenSoapElement.addAttribute(valueType, &quot;LTPA&quot;);\r\n\r\n            securityTokenSoapElement.addTextNode(securityToken);\r\n\r\n            soapMessage.saveChanges();\r\n        } catch (SOAPException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n\r\n    }\r\n}\r\n```\r\n\r\nand I&#39;m getting as a result this XML:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;SOAP-ENV:Envelope xmlns:SOAP-ENV=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&gt;\r\n   &lt;SOAP-ENV:Header&gt;\r\n      &lt;wsse:Security xmlns:wsse=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd&quot;&gt;\r\n         &lt;wsse:BinarySecurityToken xmlns:wsst=&quot;http://www.ibm.com/websphere/appserver/tokentype/5.0.2&quot;&gt;\r\n             generated_token\r\n         &lt;/wsse:BinarySecurityToken&gt;\r\n      &lt;/wsse:Security&gt;\r\n   &lt;/SOAP-ENV:Header&gt;\r\n   &lt;SOAP-ENV:Body&gt;\r\n      ...\r\n&lt;/SOAP-ENV:Envelope&gt;\r\n```\r\n\r\nYou can see it&#39;s almost the same except for `ValueType=&quot;wsst:LTPA&quot;` in `&lt;wsse:BinarySecurityToken&gt;` element. I&#39;ve been trying with some methods in `SOAPElement` API like `#addAttribute()` but wasn&#39;t able to add this `ValueType` attribute.\r\n\r\nAny help and/or clue on how to achieve this, is highly appreciated. Thanks in advance for your answers/comments.","title":"Spring WS add ValueType attribute in SOAP request header","body":"<p>I'm working in a SOAP client application using Spring Web and I need to invoke a external service which requires authentication with Binary Security Token. I have a working example from the service provider team which is like this:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;soapenv:Envelope xmlns:soapenv=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&gt;\n   &lt;soapenv:Header&gt;\n      &lt;wsse:Security xmlns:wsse=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd&quot;&gt;\n         &lt;wsse:BinarySecurityToken xmlns:wsst=&quot;http://www.ibm.com/websphere/appserver/tokentype/5.0.2&quot; ValueType=&quot;wsst:LTPA&quot;&gt;generated_token&lt;/wsse:BinarySecurityToken&gt;\n      &lt;/wsse:Security&gt;\n   &lt;/soapenv:Header&gt;\n   &lt;soapenv:Body&gt;\n      ...\n   &lt;/soapenv:Body&gt;\n&lt;/soapenv:Envelope&gt;\n</code></pre>\n<p>Taking <a href=\"https://www.devglan.com/spring-mvc/custom-header-in-spring-soap-request\" rel=\"nofollow noreferrer\">this post</a> as guide I wrote this callback:</p>\n<pre><code>@Component\npublic class CrmBinarySecurityTokenHeaderCallback implements WebServiceMessageCallback {\n\n    @Autowired\n    private TokenGenerator tokenGenerator;\n\n    @Override\n    public void doWithMessage(WebServiceMessage webServiceMessage) throws IOException, TransformerException {\n        String securityToken = tokenGenerator.getToken();\n\n        try {\n            SaajSoapMessage saajSoapMessage = (SaajSoapMessage) webServiceMessage;\n            SOAPMessage soapMessage = saajSoapMessage.getSaajMessage();\n            SOAPPart soapPart = soapMessage.getSOAPPart();\n            SOAPEnvelope soapEnvelope = soapPart.getEnvelope();\n            SOAPHeader soapHeader = soapEnvelope.getHeader();\n\n            Name headerElementName = soapEnvelope.createName(&quot;Security&quot;, &quot;wsse&quot;,\n                    &quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd&quot;);\n\n            SOAPHeaderElement soapHeaderElement = soapHeader.addHeaderElement(headerElementName);\n            SOAPElement securityTokenSoapElement = soapHeaderElement.addChildElement(&quot;BinarySecurityToken&quot;, &quot;wsse&quot;);\n            securityTokenSoapElement.addNamespaceDeclaration(&quot;wsst&quot;, &quot;http://www.ibm.com/websphere/appserver/tokentype/5.0.2&quot;);\n\n            QName valueType = securityTokenSoapElement.createQName(&quot;ValueType&quot;, &quot;wsst&quot;);\n            securityTokenSoapElement.addAttribute(valueType, &quot;LTPA&quot;);\n\n            securityTokenSoapElement.addTextNode(securityToken);\n\n            soapMessage.saveChanges();\n        } catch (SOAPException e) {\n            throw new RuntimeException(e);\n        }\n\n    }\n}\n</code></pre>\n<p>and I'm getting as a result this XML:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;SOAP-ENV:Envelope xmlns:SOAP-ENV=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&gt;\n   &lt;SOAP-ENV:Header&gt;\n      &lt;wsse:Security xmlns:wsse=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd&quot;&gt;\n         &lt;wsse:BinarySecurityToken xmlns:wsst=&quot;http://www.ibm.com/websphere/appserver/tokentype/5.0.2&quot;&gt;\n             generated_token\n         &lt;/wsse:BinarySecurityToken&gt;\n      &lt;/wsse:Security&gt;\n   &lt;/SOAP-ENV:Header&gt;\n   &lt;SOAP-ENV:Body&gt;\n      ...\n&lt;/SOAP-ENV:Envelope&gt;\n</code></pre>\n<p>You can see it's almost the same except for <code>ValueType=&quot;wsst:LTPA&quot;</code> in <code>&lt;wsse:BinarySecurityToken&gt;</code> element. I've been trying with some methods in <code>SOAPElement</code> API like <code>#addAttribute()</code> but wasn't able to add this <code>ValueType</code> attribute.</p>\n<p>Any help and/or clue on how to achieve this, is highly appreciated. Thanks in advance for your answers/comments.</p>\n"},{"tags":["java","web-services","soap","jax-ws","attachment"],"comments":[{"owner":{"account_id":8263344,"reputation":2713,"user_id":6213883,"accept_rate":69,"display_name":"It&#233;ration 122442"},"score":1,"creation_date":1683102960,"post_id":76152156,"comment_id":134313567,"body_markdown":"What is the problem ?","body":"What is the problem ?"}],"owner":{"account_id":21210283,"reputation":1,"user_id":15599048,"display_name":"hachi__man"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683388763,"creation_date":1683008007,"question_id":76152156,"body_markdown":"I am starting with Soap and I have to send a soap response with few details along with a pdf file attachment.\r\n\r\n**AllDetails.java**\r\n\r\n    public class AllDetails implements Serializable{\r\n    \r\n    \t/**\r\n    \t * \r\n    \t */\r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \tString name,address;\r\n    \t\r\n    \tpublic String getName() {\r\n    \t\treturn name;\r\n    \t}\r\n    \tpublic void setName(String name) {\r\n    \t\tthis.name = name;\r\n    \t}\r\n    \tpublic String getAddress() {\r\n    \t\treturn address;\r\n    \t}\r\n    \tpublic void setAddress(String address) {\r\n    \t\tthis.address = address;\r\n    \t}\r\n    \r\n    }\r\n\r\n**GetDetails.java**\r\n\r\n        public interface GetDetails {\r\n    \r\n    \tpublic AllDetails getDetails(String name, String address);\r\n    }\r\n\r\n**GetDetailsImp**\r\n\r\n    public class GetDetailsImp implements GetDetails {\r\n    \r\n    \t@Override\r\n    \tpublic AllDetails getDetails(String name, String address) {\r\n    \t\tAllDetails obj = new AllDetails();\r\n    \t\tobj.setName(&quot;siddhesh&quot;);\r\n    \t\tobj.setAddress(&quot;badlapur&quot;);\r\n    \t\t\r\n    \t\t\r\n    \t\ttry {\r\n    \t\t\tMessageFactory factory = MessageFactory.newInstance();\r\n    \t\t\tSOAPMessage message = factory.createMessage();\r\n    \t\t\t\r\n    \t\t\tDataSource dataSource = new FileDataSource(&quot;D:\\\\test\\\\random.pdf&quot;);\r\n    \t\t\t\r\n    \t\t\tAttachmentPart attachmentPart = message.createAttachmentPart(dataSource , &quot;content-type&quot;);\r\n    \t\t\tmessage.addAttachmentPart(attachmentPart);\r\n    \t\t\tmessage.saveChanges();\r\n    \t\t} catch (SOAPException e) {\r\n    \t\t\t// TODO Auto-generated catch block\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t\t\r\n    \t\treturn obj;\r\n    \t}\r\n    }\r\n\r\n\r\nI have created sample we service but along with Details object I also want to send attachment which is a pdf file \r\n\r\n**XML Response**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/E5qKt.png","title":"Sending Attachment in Soap using Jax-ws","body":"<p>I am starting with Soap and I have to send a soap response with few details along with a pdf file attachment.</p>\n<p><strong>AllDetails.java</strong></p>\n<pre><code>public class AllDetails implements Serializable{\n\n    /**\n     * \n     */\n    private static final long serialVersionUID = 1L;\n    String name,address;\n    \n    public String getName() {\n        return name;\n    }\n    public void setName(String name) {\n        this.name = name;\n    }\n    public String getAddress() {\n        return address;\n    }\n    public void setAddress(String address) {\n        this.address = address;\n    }\n\n}\n</code></pre>\n<p><strong>GetDetails.java</strong></p>\n<pre><code>    public interface GetDetails {\n\n    public AllDetails getDetails(String name, String address);\n}\n</code></pre>\n<p><strong>GetDetailsImp</strong></p>\n<pre><code>public class GetDetailsImp implements GetDetails {\n\n    @Override\n    public AllDetails getDetails(String name, String address) {\n        AllDetails obj = new AllDetails();\n        obj.setName(&quot;siddhesh&quot;);\n        obj.setAddress(&quot;badlapur&quot;);\n        \n        \n        try {\n            MessageFactory factory = MessageFactory.newInstance();\n            SOAPMessage message = factory.createMessage();\n            \n            DataSource dataSource = new FileDataSource(&quot;D:\\\\test\\\\random.pdf&quot;);\n            \n            AttachmentPart attachmentPart = message.createAttachmentPart(dataSource , &quot;content-type&quot;);\n            message.addAttachmentPart(attachmentPart);\n            message.saveChanges();\n        } catch (SOAPException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n        \n        return obj;\n    }\n}\n</code></pre>\n<p>I have created sample we service but along with Details object I also want to send attachment which is a pdf file</p>\n<p><strong>XML Response</strong></p>\n<p><a href=\"https://i.stack.imgur.com/E5qKt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/E5qKt.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","jquery","ajax","spring-boot","rest"],"comments":[{"owner":{"account_id":3023214,"reputation":20362,"user_id":2563754,"display_name":"Seelenvirtuose"},"score":1,"creation_date":1683289091,"post_id":76181953,"comment_id":134347702,"body_markdown":"For what purpose are you doing `var addressList = {&quot;&quot;,&quot;&quot;}` prior to sending the request?","body":"For what purpose are you doing <code>var addressList = {&quot;&quot;,&quot;&quot;}</code> prior to sending the request?"},{"owner":{"account_id":2669818,"reputation":715,"user_id":2307460,"accept_rate":60,"display_name":"Yogesh"},"score":0,"creation_date":1683289492,"post_id":76181953,"comment_id":134347795,"body_markdown":"in my actual code it is not there ..here it added by mistake... corrected questions already @Seelenvirtuose","body":"in my actual code it is not there ..here it added by mistake... corrected questions already @Seelenvirtuose"},{"owner":{"account_id":10024548,"reputation":729,"user_id":7413086,"display_name":"kushal Baldev"},"score":1,"creation_date":1683382232,"post_id":76181953,"comment_id":134359934,"body_markdown":"@Yogesh as I can see you are appending all the things in form data while sending through ajax , So at controller side use MultipartFormDataInput it will capture all your properties and you need to parse them according to your needs.","body":"@Yogesh as I can see you are appending all the things in form data while sending through ajax , So at controller side use MultipartFormDataInput it will capture all your properties and you need to parse them according to your needs."}],"answers":[{"tags":[],"owner":{"account_id":10024548,"reputation":729,"user_id":7413086,"display_name":"kushal Baldev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683386080,"creation_date":1683386080,"answer_id":76189641,"question_id":76181953,"body_markdown":"I can see you are sending all the data using formData you can use MultipartFormDataInput to receive all parameters. Below is the example\r\n\r\n    @Post\r\n    @Path(&quot;/someurl&quot;)\r\n    @Consumes(&quot;multipart/form-data&quot;)\r\n    @Produces(&quot;text/plain;charset=UTF-8&quot;)\r\n    public String someUrl(MultipartFormDataInput form) \r\n    {\r\n      try {\r\n        List&lt;InputPart&gt; l = form.getFormDataMap().get(&quot;topics&quot;);\r\n        String topic1 = l.get(0).getBodyAsString();\r\n        String topic2 = l.get(1).getBodyAsString();\r\n        String topic3 = l.get(2).getBodyAsString();\r\n        // do something with the topics ...\r\n      } catch (IOException e) {\r\n        e.printStackTrace();\r\n      }\r\n      return &quot;something went wrong&quot;;\r\n    }\r\n\r\nyou can also refer these link for more examples\r\n\r\nhttps://www.tabnine.com/code/java/classes/org.jboss.resteasy.plugins.providers.multipart.MultipartFormDataInput\r\n\r\nhttps://mkyong.com/webservices/jax-rs/file-upload-example-in-resteasy/","title":"Pass List of custom object with image from AJax to REST API spring boot","body":"<p>I can see you are sending all the data using formData you can use MultipartFormDataInput to receive all parameters. Below is the example</p>\n<pre><code>@Post\n@Path(&quot;/someurl&quot;)\n@Consumes(&quot;multipart/form-data&quot;)\n@Produces(&quot;text/plain;charset=UTF-8&quot;)\npublic String someUrl(MultipartFormDataInput form) \n{\n  try {\n    List&lt;InputPart&gt; l = form.getFormDataMap().get(&quot;topics&quot;);\n    String topic1 = l.get(0).getBodyAsString();\n    String topic2 = l.get(1).getBodyAsString();\n    String topic3 = l.get(2).getBodyAsString();\n    // do something with the topics ...\n  } catch (IOException e) {\n    e.printStackTrace();\n  }\n  return &quot;something went wrong&quot;;\n}\n</code></pre>\n<p>you can also refer these link for more examples</p>\n<p><a href=\"https://www.tabnine.com/code/java/classes/org.jboss.resteasy.plugins.providers.multipart.MultipartFormDataInput\" rel=\"nofollow noreferrer\">https://www.tabnine.com/code/java/classes/org.jboss.resteasy.plugins.providers.multipart.MultipartFormDataInput</a></p>\n<p><a href=\"https://mkyong.com/webservices/jax-rs/file-upload-example-in-resteasy/\" rel=\"nofollow noreferrer\">https://mkyong.com/webservices/jax-rs/file-upload-example-in-resteasy/</a></p>\n"}],"owner":{"account_id":2669818,"reputation":715,"user_id":2307460,"accept_rate":60,"display_name":"Yogesh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":102,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1683386080,"creation_date":1683287925,"question_id":76181953,"body_markdown":"Facing issue with Ajax call while passing List of custom object with Image to REST API in sprint boot.\r\nBelow is my sample code.\r\n\r\nController\r\n\r\n\r\n    @PostMapping(value = { &quot;/test/saveUser&quot; }, consumes = { &quot;multipart/form-data&quot; })\r\n    \t@ResponseBody\r\n    \tpublic String saveMission(final UserDTO userDTO,\r\n    \t\t\t@RequestParam(value = &quot;imgFile&quot;, required = false) MultipartFile file) throws \r\n        Exception {\r\n           // service to call save method\r\n        }\r\n\r\nDTO\r\n\r\n    public class UserDTO{\r\n    \r\n        private String id;\r\n        private String name;\r\n        private byte[] thumbNailImage;\r\n        private List&lt;AddressDTO&gt; addressList;\r\n    }\r\n    \r\n    public class AddressDTO{\r\n    \r\n        private String id;\r\n        private String city;\r\n        private String area;\r\n        private String pincode;\r\n    }\r\n\r\nJs code using Ajax\r\n\r\n    let addressList = [];\r\n    \r\n    let addressDTO1 = {&quot;city&quot;: &quot;city1&quot;,&quot;area&quot;: &quot;area1&quot;,&quot;pincode&quot;:&quot;pincode1&quot;};\r\n    let addressDTO2 = {&quot;city&quot;: &quot;city2&quot;,&quot;area&quot;: &quot;area2&quot;,&quot;pincode&quot;:&quot;pincode2&quot;};\r\n    addressList.push(addressDTO1);\r\n    addressList.push(addressDTO2);\r\n    \t\t\t\t\t\t\r\n    var form = $(&#39;#userDetail&#39;)[0];\r\n    \r\n    // Create an FormData object \r\n    var data = new FormData(form);\r\n    data.append(&quot;name&quot;, &quot;testUSer&quot;);\r\n    data.append(&quot;addressList&quot;, addressList);\r\n    data.append(&quot;imgFile&quot;, File);\r\n    \r\n    $.ajax({\r\n    \turl: &quot;/test/saveUser&quot;,\r\n    \tdata: data,\r\n    \tenctype: &quot;multipart/form-data&quot;,\r\n    \tprocessData: false,\r\n    \tcontentType: false,\r\n    \ttype: &quot;POST&quot;,\r\n    \tsuccess: function(response) {\r\n    \t\r\n    \t},\r\n    \terror : function(){\r\n    \t}\r\n    });\r\n    \r\n\r\nWhen I receive ajax request at controller level, I always getting list as an empty.\r\n","title":"Pass List of custom object with image from AJax to REST API spring boot","body":"<p>Facing issue with Ajax call while passing List of custom object with Image to REST API in sprint boot.\nBelow is my sample code.</p>\n<p>Controller</p>\n<pre><code>@PostMapping(value = { &quot;/test/saveUser&quot; }, consumes = { &quot;multipart/form-data&quot; })\n    @ResponseBody\n    public String saveMission(final UserDTO userDTO,\n            @RequestParam(value = &quot;imgFile&quot;, required = false) MultipartFile file) throws \n    Exception {\n       // service to call save method\n    }\n</code></pre>\n<p>DTO</p>\n<pre><code>public class UserDTO{\n\n    private String id;\n    private String name;\n    private byte[] thumbNailImage;\n    private List&lt;AddressDTO&gt; addressList;\n}\n\npublic class AddressDTO{\n\n    private String id;\n    private String city;\n    private String area;\n    private String pincode;\n}\n</code></pre>\n<p>Js code using Ajax</p>\n<pre><code>let addressList = [];\n\nlet addressDTO1 = {&quot;city&quot;: &quot;city1&quot;,&quot;area&quot;: &quot;area1&quot;,&quot;pincode&quot;:&quot;pincode1&quot;};\nlet addressDTO2 = {&quot;city&quot;: &quot;city2&quot;,&quot;area&quot;: &quot;area2&quot;,&quot;pincode&quot;:&quot;pincode2&quot;};\naddressList.push(addressDTO1);\naddressList.push(addressDTO2);\n                        \nvar form = $('#userDetail')[0];\n\n// Create an FormData object \nvar data = new FormData(form);\ndata.append(&quot;name&quot;, &quot;testUSer&quot;);\ndata.append(&quot;addressList&quot;, addressList);\ndata.append(&quot;imgFile&quot;, File);\n\n$.ajax({\n    url: &quot;/test/saveUser&quot;,\n    data: data,\n    enctype: &quot;multipart/form-data&quot;,\n    processData: false,\n    contentType: false,\n    type: &quot;POST&quot;,\n    success: function(response) {\n    \n    },\n    error : function(){\n    }\n});\n</code></pre>\n<p>When I receive ajax request at controller level, I always getting list as an empty.</p>\n"},{"tags":["java","minecraft","spigot"],"answers":[{"tags":[],"owner":{"account_id":14222647,"reputation":86,"user_id":16790983,"display_name":"NoahBlaaa15"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1683385300,"creation_date":1683385300,"answer_id":76189576,"question_id":76189519,"body_markdown":"Your code is never reaching the statement where it is connecting to the Database.\r\n\r\nThe first two if-Statements are blocking it, as one of them definitely gets executed, as they are the opposite of each other.\r\n\r\nTo fix this, you would need to change the &quot;else if&quot; in front of the &quot;player.isBanned()&quot; to a normal if, so it gets separated from the other cases.","title":"Cancelling an event spigot 1.19","body":"<p>Your code is never reaching the statement where it is connecting to the Database.</p>\n<p>The first two if-Statements are blocking it, as one of them definitely gets executed, as they are the opposite of each other.</p>\n<p>To fix this, you would need to change the &quot;else if&quot; in front of the &quot;player.isBanned()&quot; to a normal if, so it gets separated from the other cases.</p>\n"}],"owner":{"account_id":20530075,"reputation":67,"user_id":15067565,"display_name":"Knife worm"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":135,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76189576,"answer_count":1,"score":0,"last_activity_date":1683385300,"creation_date":1683384548,"question_id":76189519,"body_markdown":"I have written an event called JoinEvent that when an player joins the minecraft server it called. The event checks to see if the player is banned. If it is then it checks my mongodb database for the name to get the staff member and the reason then its meant to kick the member with my custom message but it fails to do so.  \r\nJoinEvent:\r\n```\r\npackage xyz.foresthosting.testplugin.events;\r\n\r\nimport com.mongodb.MongoClient;\r\nimport com.mongodb.client.MongoCollection;\r\nimport com.mongodb.client.MongoCursor;\r\nimport com.mongodb.client.MongoDatabase;\r\nimport org.bson.Document;\r\nimport xyz.foresthosting.testplugin.TestPlugin;\r\nimport org.bukkit.ChatColor;\r\nimport org.bukkit.entity.Player;\r\nimport org.bukkit.event.EventHandler;\r\nimport org.bukkit.event.Listener;\r\nimport org.bukkit.event.player.PlayerJoinEvent;\r\n\r\nimport javax.print.Doc;\r\n\r\npublic class PlayerJoin implements Listener\r\n{\r\n    private final TestPlugin plugin;\r\n    public PlayerJoin(TestPlugin plugin)\r\n    {\r\n        this.plugin = plugin;\r\n    }\r\n\r\n    @EventHandler\r\n    public void onPlayerJoin(PlayerJoinEvent event)\r\n    {\r\n        Player player = event.getPlayer();\r\n        if(!player.hasPlayedBefore()) {\r\n            event.setJoinMessage(ChatColor.GREEN + &quot;Welcome to the server &quot; + player.getName() + &quot;! We hope you enjoy your stay.&quot;);\r\n        } else if(player.hasPlayedBefore()) {\r\n            event.setJoinMessage(ChatColor.GREEN + &quot;Welcome back to the server &quot; + player.getName() + &quot;!&quot;);\r\n        } else if(player.isBanned()) {\r\n            MongoClient mongoClient = new MongoClient(&quot;mongodb://admin:&lt;nopasswordforyou&gt;@185.209.223.136:2002&quot;);\r\n            MongoDatabase database = mongoClient.getDatabase(&quot;test&quot;);\r\n            MongoCollection&lt;Document&gt; collection = database.getCollection(&quot;bans&quot;);\r\n            Document query = new Document(&quot;name&quot;, event.getPlayer());\r\n\r\n            MongoCursor&lt;Document&gt; cursor = collection.find(query).projection(new Document(&quot;staff&quot;, 1).append(&quot;reason&quot;, 1)).iterator();\r\n            while(cursor.hasNext()) {\r\n                Document document = cursor.next();\r\n                String staff = document.getString(&quot;staff&quot;);\r\n                String reason = document.getString(&quot;reason&quot;);\r\n                player.kickPlayer(ChatColor.RED + &quot;You have been banned from this server!\\nReason: &quot; + reason + &quot;\\nStaff: &quot; + staff);\r\n            }\r\n        }\r\n    }\r\n}\r\n```","title":"Cancelling an event spigot 1.19","body":"<p>I have written an event called JoinEvent that when an player joins the minecraft server it called. The event checks to see if the player is banned. If it is then it checks my mongodb database for the name to get the staff member and the reason then its meant to kick the member with my custom message but it fails to do so.<br />\nJoinEvent:</p>\n<pre><code>package xyz.foresthosting.testplugin.events;\n\nimport com.mongodb.MongoClient;\nimport com.mongodb.client.MongoCollection;\nimport com.mongodb.client.MongoCursor;\nimport com.mongodb.client.MongoDatabase;\nimport org.bson.Document;\nimport xyz.foresthosting.testplugin.TestPlugin;\nimport org.bukkit.ChatColor;\nimport org.bukkit.entity.Player;\nimport org.bukkit.event.EventHandler;\nimport org.bukkit.event.Listener;\nimport org.bukkit.event.player.PlayerJoinEvent;\n\nimport javax.print.Doc;\n\npublic class PlayerJoin implements Listener\n{\n    private final TestPlugin plugin;\n    public PlayerJoin(TestPlugin plugin)\n    {\n        this.plugin = plugin;\n    }\n\n    @EventHandler\n    public void onPlayerJoin(PlayerJoinEvent event)\n    {\n        Player player = event.getPlayer();\n        if(!player.hasPlayedBefore()) {\n            event.setJoinMessage(ChatColor.GREEN + &quot;Welcome to the server &quot; + player.getName() + &quot;! We hope you enjoy your stay.&quot;);\n        } else if(player.hasPlayedBefore()) {\n            event.setJoinMessage(ChatColor.GREEN + &quot;Welcome back to the server &quot; + player.getName() + &quot;!&quot;);\n        } else if(player.isBanned()) {\n            MongoClient mongoClient = new MongoClient(&quot;mongodb://admin:&lt;nopasswordforyou&gt;@185.209.223.136:2002&quot;);\n            MongoDatabase database = mongoClient.getDatabase(&quot;test&quot;);\n            MongoCollection&lt;Document&gt; collection = database.getCollection(&quot;bans&quot;);\n            Document query = new Document(&quot;name&quot;, event.getPlayer());\n\n            MongoCursor&lt;Document&gt; cursor = collection.find(query).projection(new Document(&quot;staff&quot;, 1).append(&quot;reason&quot;, 1)).iterator();\n            while(cursor.hasNext()) {\n                Document document = cursor.next();\n                String staff = document.getString(&quot;staff&quot;);\n                String reason = document.getString(&quot;reason&quot;);\n                player.kickPlayer(ChatColor.RED + &quot;You have been banned from this server!\\nReason: &quot; + reason + &quot;\\nStaff: &quot; + staff);\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","load","classloader","disk"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":4,"creation_date":1442560419,"post_id":32645934,"comment_id":53139483,"body_markdown":"The `.java` file needs to be compiled to a `.class` file first...","body":"The <code>.java</code> file needs to be compiled to a <code>.class</code> file first..."},{"owner":{"account_id":1616070,"reputation":1326,"user_id":1493718,"accept_rate":80,"display_name":"lxx"},"score":0,"creation_date":1442560517,"post_id":32645934,"comment_id":53139529,"body_markdown":"what are you expecting it to do? and what error does it give ? where do you define or give it className ?","body":"what are you expecting it to do? and what error does it give ? where do you define or give it className ?"},{"owner":{"account_id":219754,"reputation":12930,"user_id":476828,"accept_rate":51,"display_name":"Subodh Joshi"},"score":0,"creation_date":1442560622,"post_id":32645934,"comment_id":53139581,"body_markdown":"possible duplicate of [Java example with ClassLoader](http://stackoverflow.com/questions/9691855/java-example-with-classloader)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/9691855/java-example-with-classloader\">Java example with ClassLoader</a>"}],"answers":[{"tags":[],"owner":{"account_id":52616,"reputation":1042915,"user_id":157247,"accept_rate":91,"display_name":"T.J. Crowder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1442560541,"creation_date":1442560541,"answer_id":32646009,"question_id":32645934,"body_markdown":"You can load classes via `loadClass`, but not source code files. `.java` files contain *source code*. With Java, as with many (but not all) other languages, you must &quot;compile&quot; the source code into a machine-readable form&amp;nbsp;&amp;mdash; in the case of Java, a `.class` file (which may or may not then be bundled into a `.jar`). You compile Java code with the `javac` tool (or the features of your IDE).\r\n\r\nFor instance, if you have a class called `Foo` defined in a file called `Foo.java`, then:\r\n\r\n    javac Foo.java\r\n\r\n...will create `Foo.class`, which can then be loaded.\r\n\r\nYou may find [this &quot;Getting Started&quot;: The &quot;Hello World&quot; application tutorial from Oracle](https://docs.oracle.com/javase/tutorial/getStarted/cupojava/index.html) useful. It goes through the steps of getting the tools set up on your computer, writing a source file, compiling it into a class file, and running it.","title":"JAVA - get class from file.java located on disk","body":"<p>You can load classes via <code>loadClass</code>, but not source code files. <code>.java</code> files contain <em>source code</em>. With Java, as with many (but not all) other languages, you must \"compile\" the source code into a machine-readable form&nbsp;&mdash; in the case of Java, a <code>.class</code> file (which may or may not then be bundled into a <code>.jar</code>). You compile Java code with the <code>javac</code> tool (or the features of your IDE).</p>\n\n<p>For instance, if you have a class called <code>Foo</code> defined in a file called <code>Foo.java</code>, then:</p>\n\n<pre><code>javac Foo.java\n</code></pre>\n\n<p>...will create <code>Foo.class</code>, which can then be loaded.</p>\n\n<p>You may find <a href=\"https://docs.oracle.com/javase/tutorial/getStarted/cupojava/index.html\" rel=\"nofollow\">this \"Getting Started\": The \"Hello World\" application tutorial from Oracle</a> useful. It goes through the steps of getting the tools set up on your computer, writing a source file, compiling it into a class file, and running it.</p>\n"}],"owner":{"account_id":6899827,"reputation":3,"user_id":5299812,"display_name":"giani92"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1683,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":32646009,"answer_count":1,"score":0,"last_activity_date":1683383487,"creation_date":1442560270,"question_id":32645934,"body_markdown":"I want to load class definitions or fields from file.java located on disk.\r\nI tried URLClassLoader:\r\n```java\r\nURL url = file.toURL();\r\nURL[] urls = new URL[]{url};\r\nClassLoader cl = new URLClassLoader(urls);\r\nClass c = new Object().getClass();\r\ntry {\r\n    c = cl.loadClass(className);\r\n} catch (ClassNotFoundException e1) {\r\n    System.err.println(&quot;not found class: &quot; + className);\r\n}\r\n```\r\nBut it doesn&#39;t work. ","title":"JAVA - get class from file.java located on disk","body":"<p>I want to load class definitions or fields from file.java located on disk.\nI tried URLClassLoader:</p>\n<pre class=\"lang-java prettyprint-override\"><code>URL url = file.toURL();\nURL[] urls = new URL[]{url};\nClassLoader cl = new URLClassLoader(urls);\nClass c = new Object().getClass();\ntry {\n    c = cl.loadClass(className);\n} catch (ClassNotFoundException e1) {\n    System.err.println(&quot;not found class: &quot; + className);\n}\n</code></pre>\n<p>But it doesn't work.</p>\n"},{"tags":["java","apache-poi"],"answers":[{"tags":[],"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1683383472,"creation_date":1641476132,"answer_id":70607928,"question_id":70604410,"body_markdown":"There is nothing about shapes in `apache poi`&#39;s `XWPF` except charts up to now. But there is `com.microsoft.schemas.vml` which is able creating VML graphics for Microsoft Office files. Those graphics also are supported by Microsoft Word.\r\n\r\nCreating the graphic itself is not as complicated as it is drawn from an VML path. So only knowledge about [VML](https://en.wikipedia.org/wiki/Vector_Markup_Language) is needed. But inserting the graphic into the Word document will need usage of the low level `org.openxmlformats.schemas.wordprocessingml.x2006.main.*` and `com.microsoft.schemas.vml.*` classes and needs knowledge about the internal XML structure of a `*.docx` file.\r\n\r\nI hope you can get the principle from the following complete example:\r\n\r\n    import java.io.FileOutputStream;\r\n    \r\n    import org.apache.poi.xwpf.usermodel.*;\r\n    \r\n    import org.openxmlformats.schemas.wordprocessingml.x2006.main.CTPicture;\r\n    import org.openxmlformats.schemas.wordprocessingml.x2006.main.CTR;\r\n    \r\n    import com.microsoft.schemas.vml.CTGroup;\r\n    import com.microsoft.schemas.vml.CTShape;\r\n    \r\n    import org.w3c.dom.Node;\r\n    \r\n    public class CreateWordPathShape {\r\n    \r\n     public static void main(String[] args) throws Exception {\r\n    \r\n      String boxWidth = &quot;100pt&quot;;\r\n      String boxHeight = &quot;100pt&quot;;\r\n      String posLeft = &quot;150pt&quot;;\r\n      String posTop = &quot;0pt&quot;;\r\n    \r\n      XWPFDocument doc= new XWPFDocument();\r\n    \r\n      XWPFParagraph paragraph = doc.createParagraph();\r\n      XWPFRun run=paragraph.createRun();  \r\n      run.setText(&quot;The Body text: &quot;);\r\n    \r\n      CTGroup ctGroup = CTGroup.Factory.newInstance();\r\n    \r\n      CTShape ctShape = ctGroup.addNewShape();\r\n      ctShape.setCoordsize(&quot;21600,21600&quot;);\r\n      ctShape.setPath2(&quot;m21600,0 l0,0 l0,21600 l21600,21600 e&quot;);\r\n      //path: from 0,0 (top left) move to 21600,0 (top right), line to 0,0 (top left), line to 0,21600 (bottom left), line to 21600,21600 (bottom right), end\r\n    \r\n      ctShape.setStyle(&quot;position:absolute&quot;\r\n       +&quot;;top:&quot; + posTop\r\n       +&quot;;left:&quot; + posLeft\r\n       +&quot;;width:&quot; + boxWidth\r\n       +&quot;;height:&quot; + boxHeight\r\n      );\r\n    \r\n      Node ctGroupNode = ctGroup.getDomNode(); \r\n      CTPicture ctPicture = CTPicture.Factory.parse(ctGroupNode);\r\n      run=paragraph.createRun();  \r\n      CTR cTR = run.getCTR();\r\n      cTR.addNewPict();\r\n      cTR.setPictArray(0, ctPicture);\r\n    \r\n      paragraph = doc.createParagraph();\r\n    \r\n      FileOutputStream out = new FileOutputStream(&quot;CreateWordPathShape.docx&quot;);\r\n      doc.write(out);\r\n      out.close();\r\n    \r\n     }\r\n    }\r\n\r\nThis code needs the full jar of all of the schemas as mentioned in [Apache POI FAQ](https://poi.apache.org/help/faq.html#faq-N10025).\r\n\r\nHere is an example for a method to put a VML line shape into a `XWPFDocument`:\r\n\r\n     private static void createLineShape(XWPFParagraph paragraph, String coordsize, String vmlPath, String strokecolor, String style) throws Exception {\r\n      XWPFRun run = paragraph.createRun(); \r\n      com.microsoft.schemas.vml.CTGroup ctGroup = com.microsoft.schemas.vml.CTGroup.Factory.newInstance();\r\n      com.microsoft.schemas.vml.CTShape ctShape = ctGroup.addNewShape();\r\n      ctShape.setCoordsize(coordsize);\r\n      ctShape.setPath2(vmlPath);\r\n      ctShape.setStrokecolor(strokecolor);\r\n      ctShape.setStyle(style);\r\n      org.w3c.dom.Node ctGroupNode = ctGroup.getDomNode(); \r\n      CTPicture ctPicture = CTPicture.Factory.parse(ctGroupNode);\r\n      CTR cTR = run.getCTR();\r\n      cTR.addNewPict();\r\n      cTR.setPictArray(0, ctPicture);  \r\n     }\r\n\r\n\r\nIt can get called like so:\r\n\r\n    ...\r\n    XWPFParagraph paragraph = ...\r\n    ...\r\n    createLineShape(paragraph, &quot;21600,21600&quot;, &quot;m21600,0 l0,0 l0,21600 l21600,21600 e&quot;, &quot;#FF0000&quot;, &quot;position:absolute;left:0;width:100pt;height:100pt&quot;);\r\n    ...\r\n\r\n\r\n\r\n","title":"Apache POI XWPF : How create a group of line?","body":"<p>There is nothing about shapes in <code>apache poi</code>'s <code>XWPF</code> except charts up to now. But there is <code>com.microsoft.schemas.vml</code> which is able creating VML graphics for Microsoft Office files. Those graphics also are supported by Microsoft Word.</p>\n<p>Creating the graphic itself is not as complicated as it is drawn from an VML path. So only knowledge about <a href=\"https://en.wikipedia.org/wiki/Vector_Markup_Language\" rel=\"nofollow noreferrer\">VML</a> is needed. But inserting the graphic into the Word document will need usage of the low level <code>org.openxmlformats.schemas.wordprocessingml.x2006.main.*</code> and <code>com.microsoft.schemas.vml.*</code> classes and needs knowledge about the internal XML structure of a <code>*.docx</code> file.</p>\n<p>I hope you can get the principle from the following complete example:</p>\n<pre><code>import java.io.FileOutputStream;\n\nimport org.apache.poi.xwpf.usermodel.*;\n\nimport org.openxmlformats.schemas.wordprocessingml.x2006.main.CTPicture;\nimport org.openxmlformats.schemas.wordprocessingml.x2006.main.CTR;\n\nimport com.microsoft.schemas.vml.CTGroup;\nimport com.microsoft.schemas.vml.CTShape;\n\nimport org.w3c.dom.Node;\n\npublic class CreateWordPathShape {\n\n public static void main(String[] args) throws Exception {\n\n  String boxWidth = &quot;100pt&quot;;\n  String boxHeight = &quot;100pt&quot;;\n  String posLeft = &quot;150pt&quot;;\n  String posTop = &quot;0pt&quot;;\n\n  XWPFDocument doc= new XWPFDocument();\n\n  XWPFParagraph paragraph = doc.createParagraph();\n  XWPFRun run=paragraph.createRun();  \n  run.setText(&quot;The Body text: &quot;);\n\n  CTGroup ctGroup = CTGroup.Factory.newInstance();\n\n  CTShape ctShape = ctGroup.addNewShape();\n  ctShape.setCoordsize(&quot;21600,21600&quot;);\n  ctShape.setPath2(&quot;m21600,0 l0,0 l0,21600 l21600,21600 e&quot;);\n  //path: from 0,0 (top left) move to 21600,0 (top right), line to 0,0 (top left), line to 0,21600 (bottom left), line to 21600,21600 (bottom right), end\n\n  ctShape.setStyle(&quot;position:absolute&quot;\n   +&quot;;top:&quot; + posTop\n   +&quot;;left:&quot; + posLeft\n   +&quot;;width:&quot; + boxWidth\n   +&quot;;height:&quot; + boxHeight\n  );\n\n  Node ctGroupNode = ctGroup.getDomNode(); \n  CTPicture ctPicture = CTPicture.Factory.parse(ctGroupNode);\n  run=paragraph.createRun();  \n  CTR cTR = run.getCTR();\n  cTR.addNewPict();\n  cTR.setPictArray(0, ctPicture);\n\n  paragraph = doc.createParagraph();\n\n  FileOutputStream out = new FileOutputStream(&quot;CreateWordPathShape.docx&quot;);\n  doc.write(out);\n  out.close();\n\n }\n}\n</code></pre>\n<p>This code needs the full jar of all of the schemas as mentioned in <a href=\"https://poi.apache.org/help/faq.html#faq-N10025\" rel=\"nofollow noreferrer\">Apache POI FAQ</a>.</p>\n<p>Here is an example for a method to put a VML line shape into a <code>XWPFDocument</code>:</p>\n<pre><code> private static void createLineShape(XWPFParagraph paragraph, String coordsize, String vmlPath, String strokecolor, String style) throws Exception {\n  XWPFRun run = paragraph.createRun(); \n  com.microsoft.schemas.vml.CTGroup ctGroup = com.microsoft.schemas.vml.CTGroup.Factory.newInstance();\n  com.microsoft.schemas.vml.CTShape ctShape = ctGroup.addNewShape();\n  ctShape.setCoordsize(coordsize);\n  ctShape.setPath2(vmlPath);\n  ctShape.setStrokecolor(strokecolor);\n  ctShape.setStyle(style);\n  org.w3c.dom.Node ctGroupNode = ctGroup.getDomNode(); \n  CTPicture ctPicture = CTPicture.Factory.parse(ctGroupNode);\n  CTR cTR = run.getCTR();\n  cTR.addNewPict();\n  cTR.setPictArray(0, ctPicture);  \n }\n</code></pre>\n<p>It can get called like so:</p>\n<pre><code>...\nXWPFParagraph paragraph = ...\n...\ncreateLineShape(paragraph, &quot;21600,21600&quot;, &quot;m21600,0 l0,0 l0,21600 l21600,21600 e&quot;, &quot;#FF0000&quot;, &quot;position:absolute;left:0;width:100pt;height:100pt&quot;);\n...\n</code></pre>\n"}],"owner":{"account_id":23826111,"reputation":3,"user_id":17833131,"display_name":"NaMaL"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":383,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70607928,"answer_count":1,"score":0,"last_activity_date":1683383472,"creation_date":1641458055,"question_id":70604410,"body_markdown":"I&#39;m new on Poi. I try make a group shape composite with drawing line.\r\nOn LibreOffice doc I can make but with Poi seem be more difficult.\r\n\r\nthe exemple :\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/mY1XW.jpg","title":"Apache POI XWPF : How create a group of line?","body":"<p>I'm new on Poi. I try make a group shape composite with drawing line.\nOn LibreOffice doc I can make but with Poi seem be more difficult.</p>\n<p>the exemple :</p>\n<p><img src=\"https://i.stack.imgur.com/mY1XW.jpg\" alt=\"enter image description here\" /></p>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1683383193,"post_id":76189395,"comment_id":134360072,"body_markdown":"According to [this issue (`github.com`)](https://github.com/google/gson/issues/1507#issuecomment-1327903023), it looks like the support for [JSR 310 (`jcp.org`)](https://jcp.org/en/jsr/detail?id=310) is missing. The issue discussion contains a possible fix.","body":"According to <a href=\"https://github.com/google/gson/issues/1507#issuecomment-1327903023\" rel=\"nofollow noreferrer\">this issue (<code>github.com</code>)</a>, it looks like the support for <a href=\"https://jcp.org/en/jsr/detail?id=310\" rel=\"nofollow noreferrer\">JSR 310 (<code>jcp.org</code>)</a> is missing. The issue discussion contains a possible fix."},{"owner":{"account_id":26141260,"reputation":31,"user_id":19830604,"display_name":"KarlKorr"},"score":0,"creation_date":1683385380,"post_id":76189395,"comment_id":134360345,"body_markdown":"@Turing85 i cant get it to work and i would prefer solving this issue with gson instead of using another method just for this situation.","body":"@Turing85 i cant get it to work and i would prefer solving this issue with gson instead of using another method just for this situation."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1683388772,"post_id":76189395,"comment_id":134360770,"body_markdown":"By the way… To record a moment, a specific point on the timeline, use `Instant`, not the `Local…` classes. You need the context of an offset or time zone to determine a moment.","body":"By the way… To record a moment, a specific point on the timeline, use <code>Instant</code>, not the <code>Local…</code> classes. You need the context of an offset or time zone to determine a moment."}],"owner":{"account_id":26141260,"reputation":31,"user_id":19830604,"display_name":"KarlKorr"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1683388936,"answer_count":0,"score":1,"last_activity_date":1683383192,"creation_date":1683382874,"question_id":76189395,"body_markdown":"I&#39;m developing a program using Springboot for the Backend, JavaFX for the Frontend. I use Unirest to use the API REST. Everything&#39;s been working fine for now, but i&#39;m encountering a problem that i don&#39;t know how to solve.\r\nI have a class called &#39;Avviso&#39;, (which translates to &#39;notice&#39;), and it has some fields like sender (string), body(string) and a LocalDate and LocalTime, to store the information of &#39;when was the notices sent&#39;.\r\n\r\nWhen i do this call:\r\n``` HttpResponse&lt;JsonNode&gt; apiResponse = Unirest.get(&quot;http://localhost:8080/api/v1/avviso/getAvvisi&quot;).asJson();\r\n            Type avvisoListType = new TypeToken&lt;ArrayList&lt;Avviso&gt;&gt;(){}.getType();\r\n\r\n            ArrayList&lt;Avviso&gt; avvisi = new Gson().fromJson(apiResponse.getBody().toString(), avvisoListType);\r\n\r\n            return avvisi; \r\n```\r\n\r\n\r\n\r\nIt gives me this error.\r\n\r\n``` C:\\Users\\karlo\\.jdks\\openjdk-19.0.1\\bin\\java.exe &quot;-javaagent:D:\\IntelliJ IDEA Community Edition 2022.2.3\\lib\\idea_rt.jar=58877:D:\\IntelliJ IDEA Community Edition 2022.2.3\\bin&quot; -Dfile.encoding=UTF-8 -Dsun.stdout.encoding=UTF-8 -Dsun.stderr.encoding=UTF-8 -classpath C:\\Users\\karlo\\.m2\\repository\\org\\glassfish\\javax.json\\1.1.4\\javax.json-1.1.4.jar;C:\\Users\\karlo\\.m2\\repository\\javax\\xml\\bind\\jaxb-api\\2.3.1\\jaxb-api-2.3.1.jar;C:\\Users\\karlo\\.m2\\repository\\javax\\activation\\javax.activation-api\\1.2.0\\javax.activation-api-1.2.0.jar;C:\\Users\\karlo\\.m2\\repository\\org\\apache\\httpcomponents\\httpasyncclient\\4.0.2\\httpasyncclient-4.0.2.jar;C:\\Users\\karlo\\.m2\\repository\\org\\apache\\httpcomponents\\httpcore-nio\\4.3.2\\httpcore-nio-4.3.2.jar;C:\\Users\\karlo\\.m2\\repository\\org\\apache\\httpcomponents\\httpmime\\4.3.6\\httpmime-4.3.6.jar;C:\\Users\\karlo\\.m2\\repository\\org\\json\\json\\20140107\\json-20140107.jar;C:\\Users\\karlo\\.m2\\repository\\org\\apache\\httpcomponents\\httpclient\\4.5.14\\httpclient-4.5.14.jar;C:\\Users\\karlo\\.m2\\repository\\org\\apache\\httpcomponents\\httpcore\\4.4.16\\httpcore-4.4.16.jar;C:\\Users\\karlo\\.m2\\repository\\commons-logging\\commons-logging\\1.2\\commons-logging-1.2.jar;C:\\Users\\karlo\\.m2\\repository\\commons-codec\\commons-codec\\1.11\\commons-codec-1.11.jar;C:\\Users\\karlo\\.m2\\repository\\org\\openjfx\\javafx-controls\\19\\javafx-controls-19.jar;C:\\Users\\karlo\\.m2\\repository\\org\\openjfx\\javafx-graphics\\19\\javafx-graphics-19.jar;C:\\Users\\karlo\\.m2\\repository\\org\\openjfx\\javafx-base\\19\\javafx-base-19.jar;C:\\Users\\karlo\\.m2\\repository\\org\\openjfx\\javafx-fxml\\19\\javafx-fxml-19.jar;C:\\Users\\karlo\\.m2\\repository\\software\\amazon\\awssdk\\aws-json-protocol\\2.17.291\\aws-json-protocol-2.17.291.jar;C:\\Users\\karlo\\.m2\\repository\\software\\amazon\\awssdk\\json-utils\\2.17.291\\json-utils-2.17.291.jar;C:\\Users\\karlo\\.m2\\repository\\software\\amazon\\awssdk\\protocol-core\\2.17.291\\protocol-core-2.17.291.jar;C:\\Users\\karlo\\.m2\\repository\\software\\amazon\\awssdk\\sdk-core\\2.17.291\\sdk-core-2.17.291.jar;C:\\Users\\karlo\\.m2\\repository\\org\\slf4j\\slf4j-api\\1.7.30\\slf4j-api-1.7.30.jar;C:\\Users\\karlo\\.m2\\repository\\org\\reactivestreams\\reactive-streams\\1.0.3\\reactive-streams-1.0.3.jar;C:\\Users\\karlo\\.m2\\repository\\software\\amazon\\awssdk\\http-client-spi\\2.17.291\\http-client-spi-2.17.291.jar;C:\\Users\\karlo\\.m2\\repository\\software\\amazon\\awssdk\\annotations\\2.17.291\\annotations-2.17.291.jar;C:\\Users\\karlo\\.m2\\repository\\software\\amazon\\awssdk\\utils\\2.17.291\\utils-2.17.291.jar;C:\\Users\\karlo\\.m2\\repository\\software\\amazon\\awssdk\\metrics-spi\\2.17.291\\metrics-spi-2.17.291.jar;C:\\Users\\karlo\\.m2\\repository\\software\\amazon\\awssdk\\apache-client\\2.17.291\\apache-client-2.17.291.jar;C:\\Users\\karlo\\.m2\\repository\\software\\amazon\\awssdk\\netty-nio-client\\2.17.291\\netty-nio-client-2.17.291.jar;C:\\Users\\karlo\\.m2\\repository\\io\\netty\\netty-codec-http\\4.1.77.Final\\netty-codec-http-4.1.77.Final.jar;C:\\Users\\karlo\\.m2\\repository\\io\\netty\\netty-codec-http2\\4.1.77.Final\\netty-codec-http2-4.1.77.Final.jar;C:\\Users\\karlo\\.m2\\repository\\io\\netty\\netty-codec\\4.1.77.Final\\netty-codec-4.1.77.Final.jar;C:\\Users\\karlo\\.m2\\repository\\io\\netty\\netty-transport\\4.1.77.Final\\netty-transport-4.1.77.Final.jar;C:\\Users\\karlo\\.m2\\repository\\io\\netty\\netty-resolver\\4.1.77.Final\\netty-resolver-4.1.77.Final.jar;C:\\Users\\karlo\\.m2\\repository\\io\\netty\\netty-common\\4.1.77.Final\\netty-common-4.1.77.Final.jar;C:\\Users\\karlo\\.m2\\repository\\io\\netty\\netty-buffer\\4.1.77.Final\\netty-buffer-4.1.77.Final.jar;C:\\Users\\karlo\\.m2\\repository\\io\\netty\\netty-handler\\4.1.77.Final\\netty-handler-4.1.77.Final.jar;C:\\Users\\karlo\\.m2\\repository\\io\\netty\\netty-transport-classes-epoll\\4.1.77.Final\\netty-transport-classes-epoll-4.1.77.Final.jar;C:\\Users\\karlo\\.m2\\repository\\io\\netty\\netty-transport-native-unix-common\\4.1.77.Final\\netty-transport-native-unix-common-4.1.77.Final.jar;C:\\Users\\karlo\\.m2\\repository\\software\\amazon\\awssdk\\profiles\\2.17.39\\profiles-2.17.39.jar;C:\\Users\\karlo\\.m2\\repository\\software\\amazon\\eventstream\\eventstream\\1.0.1\\eventstream-1.0.1.jar;C:\\Users\\karlo\\.m2\\repository\\de\\jensd\\fontawesomefx-fontawesome\\4.7.0-9.1.2\\fontawesomefx-fontawesome-4.7.0-9.1.2.jar;C:\\Users\\karlo\\.m2\\repository\\de\\jensd\\fontawesomefx-commons\\9.1.2\\fontawesomefx-commons-9.1.2.jar -p &quot;C:\\Users\\karlo\\.m2\\repository\\org\\openjfx\\javafx-fxml\\19\\javafx-fxml-19-win.jar;C:\\Users\\karlo\\.m2\\repository\\org\\kordamp\\ikonli\\ikonli-core\\12.3.1\\ikonli-core-12.3.1.jar;C:\\Users\\karlo\\.m2\\repository\\software\\amazon\\awssdk\\aws-core\\2.17.39\\aws-core-2.17.39.jar;C:\\Users\\karlo\\.m2\\repository\\com\\google\\code\\gson\\gson\\2.10.1\\gson-2.10.1.jar;C:\\Users\\karlo\\Downloads\\Nuovo FrontEnd\\lib\\gson-2.10.1.jar;C:\\Users\\karlo\\.m2\\repository\\software\\amazon\\awssdk\\auth\\2.17.291\\auth-2.17.291.jar;C:\\Users\\karlo\\.m2\\repository\\com\\fasterxml\\jackson\\core\\jackson-core\\2.14.1\\jackson-core-2.14.1.jar;C:\\Users\\karlo\\.m2\\repository\\software\\amazon\\awssdk\\third-party-jackson-core\\2.17.291\\third-party-jackson-core-2.17.291.jar;C:\\Users\\karlo\\.m2\\repository\\org\\openjfx\\javafx-controls\\19\\javafx-controls-19-win.jar;C:\\Users\\karlo\\.m2\\repository\\org\\kordamp\\ikonli\\ikonli-material-pack\\12.3.1\\ikonli-material-pack-12.3.1.jar;C:\\Users\\karlo\\.m2\\repository\\org\\kordamp\\ikonli\\ikonli-devicons-pack\\12.3.1\\ikonli-devicons-pack-12.3.1.jar;C:\\Users\\karlo\\.m2\\repository\\org\\kordamp\\ikonli\\ikonli-materialdesign-pack\\12.3.1\\ikonli-materialdesign-pack-12.3.1.jar;C:\\Users\\karlo\\.m2\\repository\\software\\amazon\\awssdk\\cognitoidentityprovider\\2.17.291\\cognitoidentityprovider-2.17.291.jar;C:\\Users\\karlo\\.m2\\repository\\com\\fasterxml\\jackson\\core\\jackson-annotations\\2.14.1\\jackson-annotations-2.14.1.jar;C:\\Users\\karlo\\.m2\\repository\\org\\openjfx\\javafx-graphics\\19\\javafx-graphics-19-win.jar;C:\\Users\\karlo\\.m2\\repository\\software\\amazon\\awssdk\\regions\\2.17.291\\regions-2.17.291.jar;C:\\Users\\karlo\\Downloads\\Nuovo FrontEnd\\Ratatouille23_Desktop-Nuovo_MVC_Pi-_Logico\\target\\classes;C:\\Users\\karlo\\.m2\\repository\\com\\mashape\\unirest\\unirest-java\\1.4.8\\unirest-java-1.4.8.jar;C:\\Users\\karlo\\.m2\\repository\\org\\kordamp\\ikonli\\ikonli-javafx\\12.3.1\\ikonli-javafx-12.3.1.jar;C:\\Users\\karlo\\.m2\\repository\\com\\fasterxml\\jackson\\core\\jackson-databind\\2.14.1\\jackson-databind-2.14.1.jar;C:\\Users\\karlo\\.m2\\repository\\org\\openjfx\\javafx-base\\19\\javafx-base-19-win.jar&quot; -m com.example.ratatouille23/com.example.ratatouille23.Main\r\nException in Application start method\r\njava.lang.reflect.InvocationTargetException\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:119)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:578)\r\n\tat javafx.graphics@19/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:465)\r\n\tat javafx.graphics@19/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:364)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:578)\r\n\tat java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1081)\r\nCaused by: java.lang.RuntimeException: Exception in Application start method\r\n\tat javafx.graphics@19/com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:901)\r\n\tat javafx.graphics@19/com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:196)\r\n\tat java.base/java.lang.Thread.run(Thread.java:1589)\r\nCaused by: javafx.fxml.LoadException: \r\n/C:/Users/karlo/Downloads/Nuovo%20FrontEnd/Ratatouille23_Desktop-Nuovo_MVC_Pi-_Logico/target/classes/homepage-admin.fxml\r\n\r\n\tat javafx.fxml@19/javafx.fxml.FXMLLoader.constructLoadException(FXMLLoader.java:2707)\r\n\tat javafx.fxml@19/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2677)\r\n\tat javafx.fxml@19/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2548)\r\n\tat javafx.fxml@19/javafx.fxml.FXMLLoader.load(FXMLLoader.java:2516)\r\n\tat com.example.ratatouille23/com.example.ratatouille23.Main.start(Main.java:19)\r\n\tat javafx.graphics@19/com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$9(LauncherImpl.java:847)\r\n\tat javafx.graphics@19/com.sun.javafx.application.PlatformImpl.lambda$runAndWait$12(PlatformImpl.java:484)\r\n\tat javafx.graphics@19/com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:457)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n\tat javafx.graphics@19/com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:456)\r\n\tat javafx.graphics@19/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:96)\r\n\tat javafx.graphics@19/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\r\n\tat javafx.graphics@19/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)\r\n\t... 1 more\r\nCaused by: java.lang.reflect.InvocationTargetException\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:119)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:578)\r\n\tat com.sun.javafx.reflect.Trampoline.invoke(MethodUtil.java:77)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:578)\r\n\tat javafx.base@19/com.sun.javafx.reflect.MethodUtil.invoke(MethodUtil.java:275)\r\n\tat javafx.fxml@19/com.sun.javafx.fxml.MethodHelper.invoke(MethodHelper.java:84)\r\n\tat javafx.fxml@19/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2673)\r\n\t... 12 more\r\nCaused by: java.lang.RuntimeException: javafx.fxml.LoadException: \r\n/C:/Users/karlo/Downloads/Nuovo%20FrontEnd/Ratatouille23_Desktop-Nuovo_MVC_Pi-_Logico/target/classes/gestisci-avvisi.fxml\r\n\r\n\tat com.example.ratatouille23/com.example.ratatouille23.HomepageController.loadGestisciAvvisi(HomepageController.java:36)\r\n\tat com.example.ratatouille23/com.example.ratatouille23.HomepageController.&lt;init&gt;(HomepageController.java:23)\r\n\tat com.example.ratatouille23/com.example.ratatouille23.Controller.Supervisore.HomepageSupervisoreController.&lt;init&gt;(HomepageSupervisoreController.java:24)\r\n\tat com.example.ratatouille23/com.example.ratatouille23.Controller.Amministratore.HomepageAdminController.&lt;init&gt;(HomepageAdminController.java:28)\r\n\tat com.example.ratatouille23/com.example.ratatouille23.View.Admin.HomepageAdminView.initialize(HomepageAdminView.java:44)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n\t... 19 more\r\nCaused by: javafx.fxml.LoadException: \r\n/C:/Users/karlo/Downloads/Nuovo%20FrontEnd/Ratatouille23_Desktop-Nuovo_MVC_Pi-_Logico/target/classes/gestisci-avvisi.fxml\r\n\r\n\tat javafx.fxml@19/javafx.fxml.FXMLLoader.constructLoadException(FXMLLoader.java:2707)\r\n\tat javafx.fxml@19/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2677)\r\n\tat javafx.fxml@19/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2548)\r\n\tat javafx.fxml@19/javafx.fxml.FXMLLoader.load(FXMLLoader.java:2516)\r\n\tat com.example.ratatouille23/com.example.ratatouille23.HomepageController.loadGestisciAvvisi(HomepageController.java:32)\r\n\t... 24 more\r\nCaused by: java.lang.reflect.InvocationTargetException\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:119)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:578)\r\n\tat com.sun.javafx.reflect.Trampoline.invoke(MethodUtil.java:77)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:578)\r\n\tat javafx.base@19/com.sun.javafx.reflect.MethodUtil.invoke(MethodUtil.java:275)\r\n\tat javafx.fxml@19/com.sun.javafx.fxml.MethodHelper.invoke(MethodHelper.java:84)\r\n\tat javafx.fxml@19/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2673)\r\n\t... 27 more\r\nCaused by: com.google.gson.JsonIOException: Failed making field &#39;java.time.LocalDate#year&#39; accessible; either increase its visibility or write a custom TypeAdapter for its declaring type.\r\n\tat com.google.gson@2.10.1/com.google.gson.internal.reflect.ReflectionHelper.makeAccessible(ReflectionHelper.java:38)\r\n\tat com.google.gson@2.10.1/com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getBoundFields(ReflectiveTypeAdapterFactory.java:286)\r\n\tat com.google.gson@2.10.1/com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.create(ReflectiveTypeAdapterFactory.java:130)\r\n\tat com.google.gson@2.10.1/com.google.gson.Gson.getAdapter(Gson.java:556)\r\n\tat com.google.gson@2.10.1/com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.createBoundField(ReflectiveTypeAdapterFactory.java:160)\r\n\tat com.google.gson@2.10.1/com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getBoundFields(ReflectiveTypeAdapterFactory.java:294)\r\n\tat com.google.gson@2.10.1/com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.create(ReflectiveTypeAdapterFactory.java:130)\r\n\tat com.google.gson@2.10.1/com.google.gson.Gson.getAdapter(Gson.java:556)\r\n\tat com.google.gson@2.10.1/com.google.gson.internal.bind.CollectionTypeAdapterFactory.create(CollectionTypeAdapterFactory.java:53)\r\n\tat com.google.gson@2.10.1/com.google.gson.Gson.getAdapter(Gson.java:556)\r\n\tat com.google.gson@2.10.1/com.google.gson.Gson.fromJson(Gson.java:1226)\r\n\tat com.google.gson@2.10.1/com.google.gson.Gson.fromJson(Gson.java:1137)\r\n\tat com.google.gson@2.10.1/com.google.gson.Gson.fromJson(Gson.java:1047)\r\n\tat com.google.gson@2.10.1/com.google.gson.Gson.fromJson(Gson.java:1014)\r\n\tat com.example.ratatouille23/com.example.ratatouille23.Model.DAO.DAOImplUnirest.AvvisoDAOImplUnirest.getAvvisi(AvvisoDAOImplUnirest.java:28)\r\n\tat com.example.ratatouille23/com.example.ratatouille23.Controller.GestisciAvvisiController.ottieniAvviso(GestisciAvvisiController.java:36)\r\n\tat com.example.ratatouille23/com.example.ratatouille23.View.GestisciAvvisiView.popolaAvvisiAccordion(GestisciAvvisiView.java:40)\r\n\tat com.example.ratatouille23/com.example.ratatouille23.View.GestisciAvvisiView.initialize(GestisciAvvisiView.java:35)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n\t... 34 more\r\nCaused by: java.lang.reflect.InaccessibleObjectException: Unable to make field private final int java.time.LocalDate.year accessible: module java.base does not &quot;opens java.time&quot; to module com.google.gson\r\n\tat java.base/java.lang.reflect.AccessibleObject.throwInaccessibleObjectException(AccessibleObject.java:387)\r\n\tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:363)\r\n\tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:311)\r\n\tat java.base/java.lang.reflect.Field.checkCanSetAccessible(Field.java:180)\r\n\tat java.base/java.lang.reflect.Field.setAccessible(Field.java:174)\r\n\tat com.google.gson@2.10.1/com.google.gson.internal.reflect.ReflectionHelper.makeAccessible(ReflectionHelper.java:35)\r\n\t... 52 more\r\nException running application com.example.ratatouille23.Main\r\n\r\nProcess finished with exit code 1\r\n\r\n ``` \r\nAfter this, i have tried to open java.time to com.google.gson in module-info.java (and obviously, i required java.base before), but when i addedd this, i obtaint the following error:\r\n\r\n``` \r\nError occurred during initialization of boot layer\r\njava.lang.module.FindException: Error reading module: &lt;mymodule&gt;\r\nCaused by: java.lang.module.InvalidModuleDescriptorException: Package java.base not found in module\r\n\r\nProcess finished with exit code 1\r\n ```\r\n\r\nI&#39;m using the latest version of com.google.code.gson, the 2.10.1. ","title":"Unable to make field private final int java.time.LocalDate.year accessible","body":"<p>I'm developing a program using Springboot for the Backend, JavaFX for the Frontend. I use Unirest to use the API REST. Everything's been working fine for now, but i'm encountering a problem that i don't know how to solve.\nI have a class called 'Avviso', (which translates to 'notice'), and it has some fields like sender (string), body(string) and a LocalDate and LocalTime, to store the information of 'when was the notices sent'.</p>\n<p>When i do this call:</p>\n<pre><code>            Type avvisoListType = new TypeToken&lt;ArrayList&lt;Avviso&gt;&gt;(){}.getType();\n\n            ArrayList&lt;Avviso&gt; avvisi = new Gson().fromJson(apiResponse.getBody().toString(), avvisoListType);\n\n            return avvisi; \n</code></pre>\n<p>It gives me this error.</p>\n<pre><code>Exception in Application start method\njava.lang.reflect.InvocationTargetException\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:119)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578)\n    at javafx.graphics@19/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:465)\n    at javafx.graphics@19/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:364)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578)\n    at java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1081)\nCaused by: java.lang.RuntimeException: Exception in Application start method\n    at javafx.graphics@19/com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:901)\n    at javafx.graphics@19/com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:196)\n    at java.base/java.lang.Thread.run(Thread.java:1589)\nCaused by: javafx.fxml.LoadException: \n/C:/Users/karlo/Downloads/Nuovo%20FrontEnd/Ratatouille23_Desktop-Nuovo_MVC_Pi-_Logico/target/classes/homepage-admin.fxml\n\n    at javafx.fxml@19/javafx.fxml.FXMLLoader.constructLoadException(FXMLLoader.java:2707)\n    at javafx.fxml@19/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2677)\n    at javafx.fxml@19/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2548)\n    at javafx.fxml@19/javafx.fxml.FXMLLoader.load(FXMLLoader.java:2516)\n    at com.example.ratatouille23/com.example.ratatouille23.Main.start(Main.java:19)\n    at javafx.graphics@19/com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$9(LauncherImpl.java:847)\n    at javafx.graphics@19/com.sun.javafx.application.PlatformImpl.lambda$runAndWait$12(PlatformImpl.java:484)\n    at javafx.graphics@19/com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:457)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n    at javafx.graphics@19/com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:456)\n    at javafx.graphics@19/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:96)\n    at javafx.graphics@19/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\n    at javafx.graphics@19/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)\n    ... 1 more\nCaused by: java.lang.reflect.InvocationTargetException\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:119)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578)\n    at com.sun.javafx.reflect.Trampoline.invoke(MethodUtil.java:77)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578)\n    at javafx.base@19/com.sun.javafx.reflect.MethodUtil.invoke(MethodUtil.java:275)\n    at javafx.fxml@19/com.sun.javafx.fxml.MethodHelper.invoke(MethodHelper.java:84)\n    at javafx.fxml@19/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2673)\n    ... 12 more\nCaused by: java.lang.RuntimeException: javafx.fxml.LoadException: \n/C:/Users/karlo/Downloads/Nuovo%20FrontEnd/Ratatouille23_Desktop-Nuovo_MVC_Pi-_Logico/target/classes/gestisci-avvisi.fxml\n\n    at com.example.ratatouille23/com.example.ratatouille23.HomepageController.loadGestisciAvvisi(HomepageController.java:36)\n    at com.example.ratatouille23/com.example.ratatouille23.HomepageController.&lt;init&gt;(HomepageController.java:23)\n    at com.example.ratatouille23/com.example.ratatouille23.Controller.Supervisore.HomepageSupervisoreController.&lt;init&gt;(HomepageSupervisoreController.java:24)\n    at com.example.ratatouille23/com.example.ratatouille23.Controller.Amministratore.HomepageAdminController.&lt;init&gt;(HomepageAdminController.java:28)\n    at com.example.ratatouille23/com.example.ratatouille23.View.Admin.HomepageAdminView.initialize(HomepageAdminView.java:44)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n    ... 19 more\nCaused by: javafx.fxml.LoadException: \n/C:/Users/karlo/Downloads/Nuovo%20FrontEnd/Ratatouille23_Desktop-Nuovo_MVC_Pi-_Logico/target/classes/gestisci-avvisi.fxml\n\n    at javafx.fxml@19/javafx.fxml.FXMLLoader.constructLoadException(FXMLLoader.java:2707)\n    at javafx.fxml@19/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2677)\n    at javafx.fxml@19/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2548)\n    at javafx.fxml@19/javafx.fxml.FXMLLoader.load(FXMLLoader.java:2516)\n    at com.example.ratatouille23/com.example.ratatouille23.HomepageController.loadGestisciAvvisi(HomepageController.java:32)\n    ... 24 more\nCaused by: java.lang.reflect.InvocationTargetException\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:119)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578)\n    at com.sun.javafx.reflect.Trampoline.invoke(MethodUtil.java:77)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578)\n    at javafx.base@19/com.sun.javafx.reflect.MethodUtil.invoke(MethodUtil.java:275)\n    at javafx.fxml@19/com.sun.javafx.fxml.MethodHelper.invoke(MethodHelper.java:84)\n    at javafx.fxml@19/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2673)\n    ... 27 more\nCaused by: com.google.gson.JsonIOException: Failed making field 'java.time.LocalDate#year' accessible; either increase its visibility or write a custom TypeAdapter for its declaring type.\n    at com.google.gson@2.10.1/com.google.gson.internal.reflect.ReflectionHelper.makeAccessible(ReflectionHelper.java:38)\n    at com.google.gson@2.10.1/com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getBoundFields(ReflectiveTypeAdapterFactory.java:286)\n    at com.google.gson@2.10.1/com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.create(ReflectiveTypeAdapterFactory.java:130)\n    at com.google.gson@2.10.1/com.google.gson.Gson.getAdapter(Gson.java:556)\n    at com.google.gson@2.10.1/com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.createBoundField(ReflectiveTypeAdapterFactory.java:160)\n    at com.google.gson@2.10.1/com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getBoundFields(ReflectiveTypeAdapterFactory.java:294)\n    at com.google.gson@2.10.1/com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.create(ReflectiveTypeAdapterFactory.java:130)\n    at com.google.gson@2.10.1/com.google.gson.Gson.getAdapter(Gson.java:556)\n    at com.google.gson@2.10.1/com.google.gson.internal.bind.CollectionTypeAdapterFactory.create(CollectionTypeAdapterFactory.java:53)\n    at com.google.gson@2.10.1/com.google.gson.Gson.getAdapter(Gson.java:556)\n    at com.google.gson@2.10.1/com.google.gson.Gson.fromJson(Gson.java:1226)\n    at com.google.gson@2.10.1/com.google.gson.Gson.fromJson(Gson.java:1137)\n    at com.google.gson@2.10.1/com.google.gson.Gson.fromJson(Gson.java:1047)\n    at com.google.gson@2.10.1/com.google.gson.Gson.fromJson(Gson.java:1014)\n    at com.example.ratatouille23/com.example.ratatouille23.Model.DAO.DAOImplUnirest.AvvisoDAOImplUnirest.getAvvisi(AvvisoDAOImplUnirest.java:28)\n    at com.example.ratatouille23/com.example.ratatouille23.Controller.GestisciAvvisiController.ottieniAvviso(GestisciAvvisiController.java:36)\n    at com.example.ratatouille23/com.example.ratatouille23.View.GestisciAvvisiView.popolaAvvisiAccordion(GestisciAvvisiView.java:40)\n    at com.example.ratatouille23/com.example.ratatouille23.View.GestisciAvvisiView.initialize(GestisciAvvisiView.java:35)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n    ... 34 more\nCaused by: java.lang.reflect.InaccessibleObjectException: Unable to make field private final int java.time.LocalDate.year accessible: module java.base does not &quot;opens java.time&quot; to module com.google.gson\n    at java.base/java.lang.reflect.AccessibleObject.throwInaccessibleObjectException(AccessibleObject.java:387)\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:363)\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:311)\n    at java.base/java.lang.reflect.Field.checkCanSetAccessible(Field.java:180)\n    at java.base/java.lang.reflect.Field.setAccessible(Field.java:174)\n    at com.google.gson@2.10.1/com.google.gson.internal.reflect.ReflectionHelper.makeAccessible(ReflectionHelper.java:35)\n    ... 52 more\nException running application com.example.ratatouille23.Main\n\nProcess finished with exit code 1\n\n</code></pre>\n<p>After this, i have tried to open java.time to com.google.gson in module-info.java (and obviously, i required java.base before), but when i addedd this, i obtaint the following error:</p>\n<pre><code>Error occurred during initialization of boot layer\njava.lang.module.FindException: Error reading module: &lt;mymodule&gt;\nCaused by: java.lang.module.InvalidModuleDescriptorException: Package java.base not found in module\n\nProcess finished with exit code 1\n</code></pre>\n<p>I'm using the latest version of com.google.code.gson, the 2.10.1.</p>\n"},{"tags":["java","android","service","call","incallservice"],"owner":{"account_id":11220533,"reputation":469,"user_id":8231841,"accept_rate":62,"display_name":"Saify"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":418,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1683383113,"creation_date":1683379627,"question_id":76189149,"body_markdown":"I am using **InCallService** for making calls in my app. Its working fine for incoming and outgoing calls. **onCallAdded()** is called when I receive or make a call.\r\n\r\n**CallService:**\r\n\r\n    public class CallService extends InCallService {\r\n    \r\n        Context context;\r\n        InCallService inCallService;\r\n        String number;\r\n        int callType;\r\n    \r\n        @RequiresApi(api = Build.VERSION_CODES.Q)\r\n        @Override\r\n        public void onCallAdded(Call call) {\r\n            super.onCallAdded(call);\r\n    \r\n            context = this;\r\n            inCallService = this;\r\n    \r\n            number = Objects.requireNonNull(call.getDetails().getHandle()).getSchemeSpecificPart();\r\n            callType = call.getDetails().getCallDirection();\r\n        }\r\n    \r\n        @Override\r\n        public void onCallRemoved(Call call) {\r\n            super.onCallRemoved(call);\r\n        }\r\n    }\r\n\r\n**Manifest.xml**\r\n\r\n    &lt;service\r\n                android:name=&quot;.services.CallService&quot;\r\n                android:enabled=&quot;true&quot;\r\n                android:exported=&quot;true&quot;\r\n                android:permission=&quot;android.permission.BIND_INCALL_SERVICE&quot;&gt;\r\n                &lt;meta-data\r\n                    android:name=&quot;android.telecom.IN_CALL_SERVICE_UI&quot;\r\n                    android:value=&quot;true&quot; /&gt;\r\n    \r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.telecom.InCallService&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/service&gt;\r\n\r\nThe problem is that I am unable to detect an incoming call when app is already making a call and the call is in ringing state and not connected yet. onCallAdded() is not called in this case. Maybe there is a method in InCallService that detects this scenario. How can I detect call in this scenario. Need Help.\r\n","title":"Detect incoming call when call is in ringing state InCallService android","body":"<p>I am using <strong>InCallService</strong> for making calls in my app. Its working fine for incoming and outgoing calls. <strong>onCallAdded()</strong> is called when I receive or make a call.</p>\n<p><strong>CallService:</strong></p>\n<pre><code>public class CallService extends InCallService {\n\n    Context context;\n    InCallService inCallService;\n    String number;\n    int callType;\n\n    @RequiresApi(api = Build.VERSION_CODES.Q)\n    @Override\n    public void onCallAdded(Call call) {\n        super.onCallAdded(call);\n\n        context = this;\n        inCallService = this;\n\n        number = Objects.requireNonNull(call.getDetails().getHandle()).getSchemeSpecificPart();\n        callType = call.getDetails().getCallDirection();\n    }\n\n    @Override\n    public void onCallRemoved(Call call) {\n        super.onCallRemoved(call);\n    }\n}\n</code></pre>\n<p><strong>Manifest.xml</strong></p>\n<pre><code>&lt;service\n            android:name=&quot;.services.CallService&quot;\n            android:enabled=&quot;true&quot;\n            android:exported=&quot;true&quot;\n            android:permission=&quot;android.permission.BIND_INCALL_SERVICE&quot;&gt;\n            &lt;meta-data\n                android:name=&quot;android.telecom.IN_CALL_SERVICE_UI&quot;\n                android:value=&quot;true&quot; /&gt;\n\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.telecom.InCallService&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/service&gt;\n</code></pre>\n<p>The problem is that I am unable to detect an incoming call when app is already making a call and the call is in ringing state and not connected yet. onCallAdded() is not called in this case. Maybe there is a method in InCallService that detects this scenario. How can I detect call in this scenario. Need Help.</p>\n"},{"tags":["java","generics","reflection","lambda","java-8"],"comments":[{"owner":{"account_id":2347441,"reputation":67540,"user_id":2057294,"accept_rate":63,"display_name":"skiwi"},"score":1,"creation_date":1392890293,"post_id":21887358,"comment_id":33172319,"body_markdown":"Just a minor comment: `public MapFunction&lt;String, Integer&gt; parseLambda = (String str) -&gt; { return Integer.valueOf(str); }` can be written as `public MapFunction&lt;String, Integer&gt; parseLambda = str -&gt; Integer.valueOf(str);`.","body":"Just a minor comment: <code>public MapFunction&lt;String, Integer&gt; parseLambda = (String str) -&gt; { return Integer.valueOf(str); }</code> can be written as <code>public MapFunction&lt;String, Integer&gt; parseLambda = str -&gt; Integer.valueOf(str);</code>."},{"owner":{"account_id":100259,"reputation":2880,"user_id":270349,"accept_rate":62,"display_name":"aalku"},"score":0,"creation_date":1393006767,"post_id":21887358,"comment_id":33239824,"body_markdown":"I don&#39;t think it is possible. It seems Project Lambda authors tried to  prevent reflection for some reason as stack trace gives no info about method names, and even method references don&#39;t give method name by reflection.","body":"I don&#39;t think it is possible. It seems Project Lambda authors tried to  prevent reflection for some reason as stack trace gives no info about method names, and even method references don&#39;t give method name by reflection."},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1418139712,"post_id":21887358,"comment_id":43214446,"body_markdown":"@skiwi: I&#39;ve not yet written any Java 8 code but my understanding is that `public MapFunction&lt;String, Integer&gt; parseLambda = Integer::valueOf;` would be effectively equivalent.","body":"@skiwi: I&#39;ve not yet written any Java 8 code but my understanding is that <code>public MapFunction&lt;String, Integer&gt; parseLambda = Integer::valueOf;</code> would be effectively equivalent."},{"owner":{"account_id":2347441,"reputation":67540,"user_id":2057294,"accept_rate":63,"display_name":"skiwi"},"score":1,"creation_date":1418139766,"post_id":21887358,"comment_id":43214478,"body_markdown":"@JoachimSauer That&#39;s correct","body":"@JoachimSauer That&#39;s correct"}],"answers":[{"tags":[],"owner":{"account_id":246020,"reputation":356,"user_id":519891,"display_name":"MrPotes"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1393867042,"creation_date":1393867042,"answer_id":22153029,"question_id":21887358,"body_markdown":"Parameterized type information is only available at runtime for elements of code that are bound - that is, specifically compiled into a type. Lambdas do the same thing, but as your Lambda is de-sugared to a method rather than to a type, there is no type to capture that information.\r\n\r\nConsider the following:\r\n\r\n    import java.util.Arrays;\r\n    import java.util.function.Function;\r\n    \r\n    public class Erasure {\r\n    \r\n        static class RetainedFunction implements Function&lt;Integer,String&gt; {\r\n            public String apply(Integer t) {\r\n                return String.valueOf(t);\r\n            }\r\n        }\r\n    \r\n        public static void main(String[] args) throws Exception {\r\n            Function&lt;Integer,String&gt; f0 = new RetainedFunction();\r\n            Function&lt;Integer,String&gt; f1 = new Function&lt;Integer,String&gt;() {\r\n                public String apply(Integer t) {\r\n                    return String.valueOf(t);\r\n                }\r\n            };\r\n            Function&lt;Integer,String&gt; f2 = String::valueOf;\r\n            Function&lt;Integer,String&gt; f3 = i -&gt; String.valueOf(i);\r\n\t\t\r\n            for (Function&lt;Integer,String&gt; f : Arrays.asList(f0, f1, f2, f3)) {\r\n                try {\r\n                    System.out.println(f.getClass().getMethod(&quot;apply&quot;, Integer.class).toString());\r\n                } catch (NoSuchMethodException e) {\r\n                    System.out.println(f.getClass().getMethod(&quot;apply&quot;, Object.class).toString());\r\n                }\r\n                System.out.println(Arrays.toString(f.getClass().getGenericInterfaces()));\r\n            }\r\n        }\r\n    }\r\n\r\n`f0` and `f1` both retain their generic type information, as you&#39;d expect. But as they&#39;re unbound methods that have been erased to `Function&lt;Object,Object&gt;`, `f2` and `f3` do not.","title":"Reflection type inference on Java 8 Lambdas","body":"<p>Parameterized type information is only available at runtime for elements of code that are bound - that is, specifically compiled into a type. Lambdas do the same thing, but as your Lambda is de-sugared to a method rather than to a type, there is no type to capture that information.</p>\n\n<p>Consider the following:</p>\n\n<pre><code>import java.util.Arrays;\nimport java.util.function.Function;\n\npublic class Erasure {\n\n    static class RetainedFunction implements Function&lt;Integer,String&gt; {\n        public String apply(Integer t) {\n            return String.valueOf(t);\n        }\n    }\n\n    public static void main(String[] args) throws Exception {\n        Function&lt;Integer,String&gt; f0 = new RetainedFunction();\n        Function&lt;Integer,String&gt; f1 = new Function&lt;Integer,String&gt;() {\n            public String apply(Integer t) {\n                return String.valueOf(t);\n            }\n        };\n        Function&lt;Integer,String&gt; f2 = String::valueOf;\n        Function&lt;Integer,String&gt; f3 = i -&gt; String.valueOf(i);\n\n        for (Function&lt;Integer,String&gt; f : Arrays.asList(f0, f1, f2, f3)) {\n            try {\n                System.out.println(f.getClass().getMethod(\"apply\", Integer.class).toString());\n            } catch (NoSuchMethodException e) {\n                System.out.println(f.getClass().getMethod(\"apply\", Object.class).toString());\n            }\n            System.out.println(Arrays.toString(f.getClass().getGenericInterfaces()));\n        }\n    }\n}\n</code></pre>\n\n<p><code>f0</code> and <code>f1</code> both retain their generic type information, as you'd expect. But as they're unbound methods that have been erased to <code>Function&lt;Object,Object&gt;</code>, <code>f2</code> and <code>f3</code> do not.</p>\n"},{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1600088368,"creation_date":1394562105,"answer_id":22333357,"question_id":21887358,"body_markdown":"The exact decision how to map lambda code to interface implementations is left to the actual runtime environment. In principle, all lambdas implementing the same raw interface could share a single runtime class just like [`MethodHandleProxies`](http://docs.oracle.com/javase/7/docs/api/java/lang/invoke/MethodHandleProxies.html#asInterfaceInstance(java.lang.Class,%20java.lang.invoke.MethodHandle)) does. Using different classes for specific lambdas is an *optimization* performed by the actual `LambdaMetafactory` implementation but not a feature intended to aid debugging or Reflection.\r\n\r\nSo even if you find more detailed information in the actual runtime class of a lambda interface implementation it will be an artifact of the currently used runtime environment which might not be available in different implementation or even other versions of your current environment.\r\n\r\nIf the lambda is `Serializable` you can use the fact that the [serialized form](https://docs.oracle.com/javase/8/docs/api/java/lang/invoke/SerializedLambda.html) contains the [method signature](https://docs.oracle.com/javase/8/docs/api/java/lang/invoke/SerializedLambda.html#getInstantiatedMethodType--) of the instantiated interface type to puzzle the actual type variable values together.\r\n","title":"Reflection type inference on Java 8 Lambdas","body":"<p>The exact decision how to map lambda code to interface implementations is left to the actual runtime environment. In principle, all lambdas implementing the same raw interface could share a single runtime class just like <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/invoke/MethodHandleProxies.html#asInterfaceInstance(java.lang.Class,%20java.lang.invoke.MethodHandle)\" rel=\"nofollow noreferrer\"><code>MethodHandleProxies</code></a> does. Using different classes for specific lambdas is an <em>optimization</em> performed by the actual <code>LambdaMetafactory</code> implementation but not a feature intended to aid debugging or Reflection.</p>\n<p>So even if you find more detailed information in the actual runtime class of a lambda interface implementation it will be an artifact of the currently used runtime environment which might not be available in different implementation or even other versions of your current environment.</p>\n<p>If the lambda is <code>Serializable</code> you can use the fact that the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/invoke/SerializedLambda.html\" rel=\"nofollow noreferrer\">serialized form</a> contains the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/invoke/SerializedLambda.html#getInstantiatedMethodType--\" rel=\"nofollow noreferrer\">method signature</a> of the instantiated interface type to puzzle the actual type variable values together.</p>\n"},{"tags":[],"owner":{"account_id":981326,"reputation":1874,"user_id":1000974,"accept_rate":100,"display_name":"Daniel Worthington-Bodart"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1418139293,"creation_date":1409607582,"answer_id":25613179,"question_id":21887358,"body_markdown":"This is currently possible to solve but only in a pretty hackie way, but let me first explain a few things:\r\n\r\nWhen you write a lambda, the compiler inserts a dynamic invoke instruction pointing to the [LambdaMetafactory][1] and a private static synthetic method with the body of the lambda. The synthetic method and the method handle in the constant pool both contain the generic type (if the lambda uses the type or is explicit as in your examples). \r\n\r\nNow at runtime the `LambdaMetaFactory` is called and a class is generated using ASM that implements the functional interface and the body of the method then calls the private static method with any arguments passed. It is then injected into the original class using `Unsafe.defineAnonymousClass` (see [John Rose post][2]) so it can access the private members etc.\r\n\r\nUnfortunately the generated Class does not store the generic signatures (it could) so you can&#39;t use the usual reflection methods that allow you to get around erasure\r\n\r\nFor a normal Class you could inspect the bytecode using `Class.getResource(ClassName + &quot;.class&quot;)` but for anonymous classes defined using `Unsafe` you are out of luck. However you can make the `LambdaMetaFactory` dump them out with the JVM argument:\r\n\r\n    java -Djdk.internal.lambda.dumpProxyClasses=/some/folder\r\n\r\nBy looking at the dumped class file (using `javap -p -s -v`), one can see that it does indeed call the static method. But the problem remains how to get the bytecode from within Java itself. \r\n\r\n**This unfortunately is where it gets hackie:**\r\n\r\nUsing reflection we can call `Class.getConstantPool` and then access the MethodRefInfo to get the type descriptors. We can then use ASM to parse this and return the argument types. Putting it all together:\r\n\r\n    Method getConstantPool = Class.class.getDeclaredMethod(&quot;getConstantPool&quot;);\r\n    getConstantPool.setAccessible(true);\r\n    ConstantPool constantPool = (ConstantPool) getConstantPool.invoke(lambda.getClass());\r\n    String[] methodRefInfo = constantPool.getMemberRefInfoAt(constantPool.size() - 2);\r\n    \r\n    int argumentIndex = 0;\r\n    String argumentType = jdk.internal.org.objectweb.asm.Type.getArgumentTypes(methodRef[2])[argumentIndex].getClassName();\r\n    Class&lt;?&gt; type = (Class&lt;?&gt;) Class.forName(argumentType);\r\n\r\n**Updated with jonathan&#39;s suggestion**\r\n\r\nNow ideally the classes generated by `LambdaMetaFactory` should store the generic type signatures (I might see if I can submit a patch to the OpenJDK) but currently this is the best we can do. The code above has the following problems:\r\n\r\n - It uses undocumented methods and classes\r\n - It is extremely vulnerable to code changes in the JDK\r\n - It doesn&#39;t preserve the generic types, so if you pass List&amp;lt;String&amp;gt; into a lambda it will come out as List\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/lang/invoke/LambdaMetafactory.html\r\n  [2]: https://blogs.oracle.com/jrose/entry/anonymous_classes_in_the_vm","title":"Reflection type inference on Java 8 Lambdas","body":"<p>This is currently possible to solve but only in a pretty hackie way, but let me first explain a few things:</p>\n\n<p>When you write a lambda, the compiler inserts a dynamic invoke instruction pointing to the <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/invoke/LambdaMetafactory.html\">LambdaMetafactory</a> and a private static synthetic method with the body of the lambda. The synthetic method and the method handle in the constant pool both contain the generic type (if the lambda uses the type or is explicit as in your examples). </p>\n\n<p>Now at runtime the <code>LambdaMetaFactory</code> is called and a class is generated using ASM that implements the functional interface and the body of the method then calls the private static method with any arguments passed. It is then injected into the original class using <code>Unsafe.defineAnonymousClass</code> (see <a href=\"https://blogs.oracle.com/jrose/entry/anonymous_classes_in_the_vm\">John Rose post</a>) so it can access the private members etc.</p>\n\n<p>Unfortunately the generated Class does not store the generic signatures (it could) so you can't use the usual reflection methods that allow you to get around erasure</p>\n\n<p>For a normal Class you could inspect the bytecode using <code>Class.getResource(ClassName + \".class\")</code> but for anonymous classes defined using <code>Unsafe</code> you are out of luck. However you can make the <code>LambdaMetaFactory</code> dump them out with the JVM argument:</p>\n\n<pre><code>java -Djdk.internal.lambda.dumpProxyClasses=/some/folder\n</code></pre>\n\n<p>By looking at the dumped class file (using <code>javap -p -s -v</code>), one can see that it does indeed call the static method. But the problem remains how to get the bytecode from within Java itself. </p>\n\n<p><strong>This unfortunately is where it gets hackie:</strong></p>\n\n<p>Using reflection we can call <code>Class.getConstantPool</code> and then access the MethodRefInfo to get the type descriptors. We can then use ASM to parse this and return the argument types. Putting it all together:</p>\n\n<pre><code>Method getConstantPool = Class.class.getDeclaredMethod(\"getConstantPool\");\ngetConstantPool.setAccessible(true);\nConstantPool constantPool = (ConstantPool) getConstantPool.invoke(lambda.getClass());\nString[] methodRefInfo = constantPool.getMemberRefInfoAt(constantPool.size() - 2);\n\nint argumentIndex = 0;\nString argumentType = jdk.internal.org.objectweb.asm.Type.getArgumentTypes(methodRef[2])[argumentIndex].getClassName();\nClass&lt;?&gt; type = (Class&lt;?&gt;) Class.forName(argumentType);\n</code></pre>\n\n<p><strong>Updated with jonathan's suggestion</strong></p>\n\n<p>Now ideally the classes generated by <code>LambdaMetaFactory</code> should store the generic type signatures (I might see if I can submit a patch to the OpenJDK) but currently this is the best we can do. The code above has the following problems:</p>\n\n<ul>\n<li>It uses undocumented methods and classes</li>\n<li>It is extremely vulnerable to code changes in the JDK</li>\n<li>It doesn't preserve the generic types, so if you pass List&lt;String&gt; into a lambda it will come out as List</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":4020692,"reputation":2311,"user_id":3311158,"display_name":"Stephan Ewen"},"down_vote_count":1,"up_vote_count":10,"is_accepted":true,"score":9,"last_activity_date":1410199270,"creation_date":1409667805,"answer_id":25625761,"question_id":21887358,"body_markdown":"I have found a way of doing it for serializable lambdas. All my lambdas are serializable, to that works.\r\n\r\nThanks, Holger, for pointing me to the `SerializedLambda`.\r\n\r\nThe generic parameters are captured in the lambda&#39;s synthetic static method and can be retrieved from there. Finding the static method that implements the lambda is possible with the information from the `SerializedLambda`\r\n\r\nThe steps are as follows:\r\n\r\n1. Get the SerializedLambda via the write replacement method that is auto-generated for all serializable lambdas\r\n2. Find the class that contains the lambda implementation (as a synthetic static method)\r\n3. Get the `java.lang.reflect.Method` for the synthetic static method\r\n4. Get generic types from that `Method`\r\n\r\n----\r\n\r\n**UPDATE:** Apparently, this does not work with all compilers. I have tried it with the compiler of Eclipse Luna (works) and the Oracle javac (does not work).\r\n\r\n----\r\n\r\n    // sample how to use\r\n    public static interface SomeFunction&lt;I, O&gt; extends java.io.Serializable {\r\n\t\t\r\n\t\tList&lt;O&gt; applyTheFunction(Set&lt;I&gt; value);\r\n\t}\r\n\r\n    public static void main(String[] args) throws Exception {\r\n\t\t\r\n\t\tSomeFunction&lt;Double, Long&gt; lambda = (set) -&gt; Collections.singletonList(set.iterator().next().longValue());\r\n\t\t\t\t\r\n\t\tSerializedLambda sl = getSerializedLambda(lambda);\t\t\r\n\t\tMethod m = getLambdaMethod(sl);\r\n\t\t\r\n\t\tSystem.out.println(m);\r\n\t\tSystem.out.println(m.getGenericReturnType());\r\n\t\tfor (Type t : m.getGenericParameterTypes()) {\r\n\t\t\tSystem.out.println(t);\r\n\t\t}\r\n\r\n        // prints the following\r\n        // (the method) private static java.util.List test.ClassWithLambdas.lambda$0(java.util.Set)\r\n        // (the return type, including *Long* as the generic list type) java.util.List&lt;java.lang.Long&gt;\r\n        // (the parameter, including *Double* as the generic set type) java.util.Set&lt;java.lang.Double&gt;\r\n\r\n----\r\n    // getting the SerializedLambda\r\n    public static SerializedLambda getSerializedLambda(Object function) {\r\n\t\tif (function == null || !(function instanceof java.io.Serializable)) {\r\n\t\t\tthrow new IllegalArgumentException();\r\n\t\t}\r\n\t\t\r\n\t\tfor (Class&lt;?&gt; clazz = function.getClass(); clazz != null; clazz = clazz.getSuperclass()) {\r\n\t        try {\r\n\t            Method replaceMethod = clazz.getDeclaredMethod(&quot;writeReplace&quot;);\r\n\t            replaceMethod.setAccessible(true);\r\n\t            Object serializedForm = replaceMethod.invoke(function);\r\n\r\n\t            if (serializedForm instanceof SerializedLambda) {\r\n\t                return (SerializedLambda) serializedForm;\r\n\t            }\r\n\t        }\r\n\t        catch (NoSuchMethodError e) {\r\n\t            // fall through the loop and try the next class\r\n\t        }\r\n\t        catch (Throwable t) {\r\n\t            throw new RuntimeException(&quot;Error while extracting serialized lambda&quot;, t);\r\n\t        }\r\n\t    }\r\n\t\t\r\n\t\tthrow new Exception(&quot;writeReplace method not found&quot;);\r\n\t}\r\n\r\n----\r\n\r\n    // getting the synthetic static lambda method\r\n    public static Method getLambdaMethod(SerializedLambda lambda) throws Exception {\r\n\t\tString implClassName = lambda.getImplClass().replace(&#39;/&#39;, &#39;.&#39;);\r\n\t\tClass&lt;?&gt; implClass = Class.forName(implClassName);\r\n\t\t\r\n\t\tString lambdaName = lambda.getImplMethodName();\r\n\t\t\r\n\t\tfor (Method m : implClass.getDeclaredMethods()) {\r\n\t\t\tif (m.getName().equals(lambdaName)) {\r\n\t\t\t\treturn m;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tthrow new Exception(&quot;Lambda Method not found&quot;);\r\n\t}\r\n","title":"Reflection type inference on Java 8 Lambdas","body":"<p>I have found a way of doing it for serializable lambdas. All my lambdas are serializable, to that works.</p>\n\n<p>Thanks, Holger, for pointing me to the <code>SerializedLambda</code>.</p>\n\n<p>The generic parameters are captured in the lambda's synthetic static method and can be retrieved from there. Finding the static method that implements the lambda is possible with the information from the <code>SerializedLambda</code></p>\n\n<p>The steps are as follows:</p>\n\n<ol>\n<li>Get the SerializedLambda via the write replacement method that is auto-generated for all serializable lambdas</li>\n<li>Find the class that contains the lambda implementation (as a synthetic static method)</li>\n<li>Get the <code>java.lang.reflect.Method</code> for the synthetic static method</li>\n<li>Get generic types from that <code>Method</code></li>\n</ol>\n\n<hr>\n\n<p><strong>UPDATE:</strong> Apparently, this does not work with all compilers. I have tried it with the compiler of Eclipse Luna (works) and the Oracle javac (does not work).</p>\n\n<hr>\n\n<pre><code>// sample how to use\npublic static interface SomeFunction&lt;I, O&gt; extends java.io.Serializable {\n\n    List&lt;O&gt; applyTheFunction(Set&lt;I&gt; value);\n}\n\npublic static void main(String[] args) throws Exception {\n\n    SomeFunction&lt;Double, Long&gt; lambda = (set) -&gt; Collections.singletonList(set.iterator().next().longValue());\n\n    SerializedLambda sl = getSerializedLambda(lambda);      \n    Method m = getLambdaMethod(sl);\n\n    System.out.println(m);\n    System.out.println(m.getGenericReturnType());\n    for (Type t : m.getGenericParameterTypes()) {\n        System.out.println(t);\n    }\n\n    // prints the following\n    // (the method) private static java.util.List test.ClassWithLambdas.lambda$0(java.util.Set)\n    // (the return type, including *Long* as the generic list type) java.util.List&lt;java.lang.Long&gt;\n    // (the parameter, including *Double* as the generic set type) java.util.Set&lt;java.lang.Double&gt;\n</code></pre>\n\n<hr>\n\n<pre><code>// getting the SerializedLambda\npublic static SerializedLambda getSerializedLambda(Object function) {\n    if (function == null || !(function instanceof java.io.Serializable)) {\n        throw new IllegalArgumentException();\n    }\n\n    for (Class&lt;?&gt; clazz = function.getClass(); clazz != null; clazz = clazz.getSuperclass()) {\n        try {\n            Method replaceMethod = clazz.getDeclaredMethod(\"writeReplace\");\n            replaceMethod.setAccessible(true);\n            Object serializedForm = replaceMethod.invoke(function);\n\n            if (serializedForm instanceof SerializedLambda) {\n                return (SerializedLambda) serializedForm;\n            }\n        }\n        catch (NoSuchMethodError e) {\n            // fall through the loop and try the next class\n        }\n        catch (Throwable t) {\n            throw new RuntimeException(\"Error while extracting serialized lambda\", t);\n        }\n    }\n\n    throw new Exception(\"writeReplace method not found\");\n}\n</code></pre>\n\n<hr>\n\n<pre><code>// getting the synthetic static lambda method\npublic static Method getLambdaMethod(SerializedLambda lambda) throws Exception {\n    String implClassName = lambda.getImplClass().replace('/', '.');\n    Class&lt;?&gt; implClass = Class.forName(implClassName);\n\n    String lambdaName = lambda.getImplMethodName();\n\n    for (Method m : implClass.getDeclaredMethods()) {\n        if (m.getName().equals(lambdaName)) {\n            return m;\n        }\n    }\n\n    throw new Exception(\"Lambda Method not found\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":225930,"reputation":5037,"user_id":486688,"accept_rate":67,"display_name":"Jonathan"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1418925066,"creation_date":1418062727,"answer_id":27364333,"question_id":21887358,"body_markdown":"I recently added support for resolving lambda type arguments to [TypeTools](https://github.com/jhalterman/typetools). Ex:\r\n\r\n    MapFunction&lt;String, Integer&gt; fn = str -&gt; Integer.valueOf(str);\r\n    Class&lt;?&gt;[] typeArgs = TypeResolver.resolveRawArguments(MapFunction.class, fn.getClass());\r\n\r\nThe resolved type args are as expected:\r\n\r\n    assert typeArgs[0] == String.class;\r\n    assert typeArgs[1] == Integer.class;\r\n\r\nTo handle a passed lambda:\r\n\r\n    public void call(Callable&lt;?&gt; c) {\r\n      // Assumes c is a lambda\r\n      Class&lt;?&gt; callableType = TypeResolver.resolveRawArguments(Callable.class, c.getClass());\r\n    }\r\n\r\nNote: The underlying implementation uses the ConstantPool approach outlined by @danielbodart which is known to work on Oracle JDK and OpenJDK (and possibly others).","title":"Reflection type inference on Java 8 Lambdas","body":"<p>I recently added support for resolving lambda type arguments to <a href=\"https://github.com/jhalterman/typetools\">TypeTools</a>. Ex:</p>\n\n<pre><code>MapFunction&lt;String, Integer&gt; fn = str -&gt; Integer.valueOf(str);\nClass&lt;?&gt;[] typeArgs = TypeResolver.resolveRawArguments(MapFunction.class, fn.getClass());\n</code></pre>\n\n<p>The resolved type args are as expected:</p>\n\n<pre><code>assert typeArgs[0] == String.class;\nassert typeArgs[1] == Integer.class;\n</code></pre>\n\n<p>To handle a passed lambda:</p>\n\n<pre><code>public void call(Callable&lt;?&gt; c) {\n  // Assumes c is a lambda\n  Class&lt;?&gt; callableType = TypeResolver.resolveRawArguments(Callable.class, c.getClass());\n}\n</code></pre>\n\n<p>Note: The underlying implementation uses the ConstantPool approach outlined by @danielbodart which is known to work on Oracle JDK and OpenJDK (and possibly others).</p>\n"},{"tags":[],"owner":{"account_id":3540424,"reputation":1,"user_id":2957689,"display_name":"user2957689"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1683382739,"creation_date":1683271239,"answer_id":76179709,"question_id":21887358,"body_markdown":"There is a way to do this if the method reference references an method on an interface. Create a dynamic proxy that implements the interface, and invoke the method on the proxy. The proxy&#39;s invocation handler can then introspect on the Method object that is passed in.\r\n\r\nFor example:\r\n\r\n```java\r\nFunction&lt;MyInterface, String&gt; fn = MyInterface::toString;\r\n\r\nClass&lt;MyInterface&gt; type = MyInterface.class;\r\nString[] name = new String[1];\r\nfn.apply(type.cast(Proxy.newProxyInstance(type.getClassLoader(), new Class&lt;?&gt;[] {type}, (p, m, a) -&gt; {\r\n  name[0] = m.getName();\r\n  return null;\r\n)));\r\n\r\nSystem.out.println(name[0]); // will print out &quot;toString&quot;\r\n```","title":"Reflection type inference on Java 8 Lambdas","body":"<p>There is a way to do this if the method reference references an method on an interface. Create a dynamic proxy that implements the interface, and invoke the method on the proxy. The proxy's invocation handler can then introspect on the Method object that is passed in.</p>\n<p>For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Function&lt;MyInterface, String&gt; fn = MyInterface::toString;\n\nClass&lt;MyInterface&gt; type = MyInterface.class;\nString[] name = new String[1];\nfn.apply(type.cast(Proxy.newProxyInstance(type.getClassLoader(), new Class&lt;?&gt;[] {type}, (p, m, a) -&gt; {\n  name[0] = m.getName();\n  return null;\n)));\n\nSystem.out.println(name[0]); // will print out &quot;toString&quot;\n</code></pre>\n"}],"owner":{"account_id":4020692,"reputation":2311,"user_id":3311158,"display_name":"Stephan Ewen"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20141,"favorite_count":0,"down_vote_count":0,"up_vote_count":55,"accepted_answer_id":25625761,"answer_count":6,"score":55,"last_activity_date":1683382739,"creation_date":1392829495,"question_id":21887358,"body_markdown":"I was experimenting with the new Lambdas in Java 8, and I am looking for a way to use reflection on the lambda classes to get the return type of a lambda function. I am especially interested in cases where the lambda implements a generic superinterface. In the code example below, `MapFunction&lt;F, T&gt;` is the generic superinterface, and I am looking for a way to find out what type binds to the generic parameter `T`.\r\n\r\nWhile Java throws away a lot of generic type information after the compiler, subclasses (and anonymous subclasses) of generic superclasses and generic superinterfaces did preserve that type information. Via reflection, these types were accessible. In the example below *(case 1)*, reflection tells my that the `MyMapper` implementation of `MapFunction` binds `java.lang.Integer` to the generic type parameter `T`.\r\n\r\nEven for subclasses that are themselves generic, there are certain means to find out what binds to a generic parameter, if some others are known. Consider *case 2* in the example below, the `IdentityMapper` where both `F` and `T` bind to the same type. When we know that, we know the type `F` if we know the parameter type `T` (which in my case we do).\r\n\r\nThe question is now, how can I realize something similar for the Java 8 lambdas? Since they are actually not regular subclasses of the generic superinterface, the above described method does not work.\r\nSpecifically, can I figure out that the `parseLambda` binds `java.lang.Integer` to `T`, and the `identityLambda` binds the same to `F` and `T`?\r\n\r\nPS: In theory it should possible to decompile the lambda code and then use an embedded compiler (like the JDT) and tap into its type inference. I hope that there is a simpler way to do this ;-)\r\n\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n\t/**\r\n\t * The superinterface.\r\n\t */\r\n\tpublic interface MapFunction&lt;F, T&gt; {\r\n\t\t\r\n\t\tT map(F value);\r\n\t}\r\n\r\n\t/**\r\n\t * Case 1: A non-generic subclass.\r\n\t */\r\n\tpublic class MyMapper implements MapFunction&lt;String, Integer&gt; {\r\n\r\n\t\tpublic Integer map(String value) {\r\n\t\t\treturn Integer.valueOf(value);\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * A generic subclass\r\n\t */\r\n\tpublic class IdentityMapper&lt;E&gt; implements MapFunction&lt;E, E&gt; {\r\n\r\n\t\tpublic E map(E value) {\r\n\t\t\treturn value;\r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\n\t/**\r\n\t * Instantiation through lambda\r\n\t */\r\n\r\n\tpublic MapFunction&lt;String, Integer&gt; parseLambda = (String str) -&gt; { return Integer.valueOf(str); }\r\n\r\n\tpublic MapFunction&lt;E, E&gt; identityLambda = (value) -&gt; { return value; }\r\n\t\r\n\t\r\n\tpublic static void main(String[] args)\r\n\t{\r\n\t\t// case 1\r\n\t\tgetReturnType(MyMapper.class);    // -&gt; returns java.lang.Integer\r\n\t\t\r\n\t\t// case 2\r\n\t\tgetReturnTypeRelativeToParameter(IdentityMapper.class, String.class);    // -&gt; returns java.lang.String\r\n\t}\r\n\t\r\n\tprivate static Class&lt;?&gt; getReturnType(Class&lt;?&gt; implementingClass)\r\n\t{\r\n\t\tType superType = implementingClass.getGenericInterfaces()[0];\r\n\t\t\r\n\t\tif (superType instanceof ParameterizedType) {\r\n\t\t\tParameterizedType parameterizedType = (ParameterizedType) superType;\r\n\t\t\treturn (Class&lt;?&gt;) parameterizedType.getActualTypeArguments()[1];\r\n\t\t}\r\n\t\telse return null;\r\n\t}\r\n\t\r\n\tprivate static Class&lt;?&gt; getReturnTypeRelativeToParameter(Class&lt;?&gt; implementingClass, Class&lt;?&gt; parameterType)\r\n\t{\r\n\t\tType superType = implementingClass.getGenericInterfaces()[0];\r\n\t\t\r\n\t\tif (superType instanceof ParameterizedType) {\r\n\t\t\tParameterizedType parameterizedType = (ParameterizedType) superType;\r\n\t\t\tTypeVariable&lt;?&gt; inputType = (TypeVariable&lt;?&gt;) parameterizedType.getActualTypeArguments()[0];\r\n\t\t\tTypeVariable&lt;?&gt; returnType = (TypeVariable&lt;?&gt;) parameterizedType.getActualTypeArguments()[1];\r\n\t\t\t\r\n\t\t\tif (inputType.getName().equals(returnType.getName())) {\r\n\t\t\t\treturn parameterType;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\t// some logic that figures out composed return types\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\treturn null;\r\n\t}","title":"Reflection type inference on Java 8 Lambdas","body":"<p>I was experimenting with the new Lambdas in Java 8, and I am looking for a way to use reflection on the lambda classes to get the return type of a lambda function. I am especially interested in cases where the lambda implements a generic superinterface. In the code example below, <code>MapFunction&lt;F, T&gt;</code> is the generic superinterface, and I am looking for a way to find out what type binds to the generic parameter <code>T</code>.</p>\n\n<p>While Java throws away a lot of generic type information after the compiler, subclasses (and anonymous subclasses) of generic superclasses and generic superinterfaces did preserve that type information. Via reflection, these types were accessible. In the example below <em>(case 1)</em>, reflection tells my that the <code>MyMapper</code> implementation of <code>MapFunction</code> binds <code>java.lang.Integer</code> to the generic type parameter <code>T</code>.</p>\n\n<p>Even for subclasses that are themselves generic, there are certain means to find out what binds to a generic parameter, if some others are known. Consider <em>case 2</em> in the example below, the <code>IdentityMapper</code> where both <code>F</code> and <code>T</code> bind to the same type. When we know that, we know the type <code>F</code> if we know the parameter type <code>T</code> (which in my case we do).</p>\n\n<p>The question is now, how can I realize something similar for the Java 8 lambdas? Since they are actually not regular subclasses of the generic superinterface, the above described method does not work.\nSpecifically, can I figure out that the <code>parseLambda</code> binds <code>java.lang.Integer</code> to <code>T</code>, and the <code>identityLambda</code> binds the same to <code>F</code> and <code>T</code>?</p>\n\n<p>PS: In theory it should possible to decompile the lambda code and then use an embedded compiler (like the JDT) and tap into its type inference. I hope that there is a simpler way to do this ;-)</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * The superinterface.\n */\npublic interface MapFunction&lt;F, T&gt; {\n\n    T map(F value);\n}\n\n/**\n * Case 1: A non-generic subclass.\n */\npublic class MyMapper implements MapFunction&lt;String, Integer&gt; {\n\n    public Integer map(String value) {\n        return Integer.valueOf(value);\n    }\n}\n\n/**\n * A generic subclass\n */\npublic class IdentityMapper&lt;E&gt; implements MapFunction&lt;E, E&gt; {\n\n    public E map(E value) {\n        return value;\n    }\n\n}\n\n/**\n * Instantiation through lambda\n */\n\npublic MapFunction&lt;String, Integer&gt; parseLambda = (String str) -&gt; { return Integer.valueOf(str); }\n\npublic MapFunction&lt;E, E&gt; identityLambda = (value) -&gt; { return value; }\n\n\npublic static void main(String[] args)\n{\n    // case 1\n    getReturnType(MyMapper.class);    // -&gt; returns java.lang.Integer\n\n    // case 2\n    getReturnTypeRelativeToParameter(IdentityMapper.class, String.class);    // -&gt; returns java.lang.String\n}\n\nprivate static Class&lt;?&gt; getReturnType(Class&lt;?&gt; implementingClass)\n{\n    Type superType = implementingClass.getGenericInterfaces()[0];\n\n    if (superType instanceof ParameterizedType) {\n        ParameterizedType parameterizedType = (ParameterizedType) superType;\n        return (Class&lt;?&gt;) parameterizedType.getActualTypeArguments()[1];\n    }\n    else return null;\n}\n\nprivate static Class&lt;?&gt; getReturnTypeRelativeToParameter(Class&lt;?&gt; implementingClass, Class&lt;?&gt; parameterType)\n{\n    Type superType = implementingClass.getGenericInterfaces()[0];\n\n    if (superType instanceof ParameterizedType) {\n        ParameterizedType parameterizedType = (ParameterizedType) superType;\n        TypeVariable&lt;?&gt; inputType = (TypeVariable&lt;?&gt;) parameterizedType.getActualTypeArguments()[0];\n        TypeVariable&lt;?&gt; returnType = (TypeVariable&lt;?&gt;) parameterizedType.getActualTypeArguments()[1];\n\n        if (inputType.getName().equals(returnType.getName())) {\n            return parameterType;\n        }\n        else {\n            // some logic that figures out composed return types\n        }\n    }\n\n    return null;\n}\n</code></pre>\n"},{"tags":["java","file","ide","git-bash"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1683375295,"post_id":76188828,"comment_id":134359113,"body_markdown":"&quot;I tried to rename them back to manual but it didn&#39;t work.&quot; - &quot;didn&#39;t work&quot; is never enough information. What exactly happened when you tried?","body":"&quot;I tried to rename them back to manual but it didn&#39;t work.&quot; - &quot;didn&#39;t work&quot; is never enough information. What exactly happened when you tried?"},{"owner":{"account_id":26684801,"reputation":1,"user_id":20491892,"display_name":"mina"},"score":0,"creation_date":1683375675,"post_id":76188828,"comment_id":134359152,"body_markdown":"Yeah i add information about problem","body":"Yeah i add information about problem"},{"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"score":1,"creation_date":1683376395,"post_id":76188828,"comment_id":134359224,"body_markdown":"The second picture is not java source code; it looks like the content of an actual class file. If that&#39;s the only instance of that particular .class file, then your java source is gone forever.","body":"The second picture is not java source code; it looks like the content of an actual class file. If that&#39;s the only instance of that particular .class file, then your java source is gone forever."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1683376878,"post_id":76188828,"comment_id":134359295,"body_markdown":"can&#39;t you restore the files from Git? If that image is the content of such a file, you did not just rename the `.java` files... in the image we see the result of compilation, a typical generated `.class` file - how exactly did you &quot;*renamed all the classes*&quot;?","body":"can&#39;t you restore the files from Git? If that image is the content of such a file, you did not just rename the <code>.java</code> files... in the image we see the result of compilation, a typical generated <code>.class</code> file - how exactly did you &quot;<i>renamed all the classes</i>&quot;?"},{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1683542087,"post_id":76188828,"comment_id":134377430,"body_markdown":"You might be able to use the Eclipse &quot;Restore from Local History...&quot; option, or  maybe &quot;Replace With &gt; Local History...&quot;","body":"You might be able to use the Eclipse &quot;Restore from Local History...&quot; option, or  maybe &quot;Replace With &gt; Local History...&quot;"}],"answers":[{"tags":[],"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1683376604,"creation_date":1683376604,"answer_id":76188926,"question_id":76188828,"body_markdown":"Based on the information available it seems that you didn&#39;t rename the files, you actually compiled them to .class files. If you lost your source code you can try to recover it by using a Java Decompiler, which does the reverse that the Java compiler. From .class files it can try to create the equivalent source Java. Note that a decompiler does an approximate work and sometime it can not reconstruct the original, or may loose some details. Formatting and comments are always lost when decompiling.","title":"How to revert the file extension of all classes from .class to .java?","body":"<p>Based on the information available it seems that you didn't rename the files, you actually compiled them to .class files. If you lost your source code you can try to recover it by using a Java Decompiler, which does the reverse that the Java compiler. From .class files it can try to create the equivalent source Java. Note that a decompiler does an approximate work and sometime it can not reconstruct the original, or may loose some details. Formatting and comments are always lost when decompiling.</p>\n"}],"owner":{"account_id":26684801,"reputation":1,"user_id":20491892,"display_name":"mina"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683381565,"creation_date":1683375212,"question_id":76188828,"body_markdown":" I am working on a Java carsharing console application using Eclipse IDE and GitBash. While working with GitBash, I accidentally renamed all the classes in my project from having a .java extension to having a .class extension. Now, when I try to open the classes in Eclipse, they are not recognized as Java classes and cannot be compiled. Is there a way to revert the file extension of all the classes back to .java in my project?\r\nI tried to rename them back to manual but it didn&#39;t work.\r\n[files](https://i.stack.imgur.com/N5Y3Q.png)\r\n\r\nI tried to rename them back to manual but it didn&#39;t work.\r\n[when expanding the class and when expanding the java, nothing has changed] [![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/HTZqK.png","title":"How to revert the file extension of all classes from .class to .java?","body":"<p>I am working on a Java carsharing console application using Eclipse IDE and GitBash. While working with GitBash, I accidentally renamed all the classes in my project from having a .java extension to having a .class extension. Now, when I try to open the classes in Eclipse, they are not recognized as Java classes and cannot be compiled. Is there a way to revert the file extension of all the classes back to .java in my project?\nI tried to rename them back to manual but it didn't work.\n<a href=\"https://i.stack.imgur.com/N5Y3Q.png\" rel=\"nofollow noreferrer\">files</a></p>\n<p>I tried to rename them back to manual but it didn't work.\n[when expanding the class and when expanding the java, nothing has changed] <a href=\"https://i.stack.imgur.com/HTZqK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HTZqK.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","stream"],"comments":[{"owner":{"account_id":1327194,"reputation":1809,"user_id":1271785,"accept_rate":67,"display_name":"pfurbacher"},"score":0,"creation_date":1677634579,"post_id":75597703,"comment_id":133375878,"body_markdown":"It&#39;s not clear where `Average | avr1 | ... | F` is supposed to go. Perhaps you could show the expected output for 2 students, with header, etc. Also, you could rewrite the averaging code as `double averageMark = taskResults.values().stream().collect(Collectors.averagingDouble(Integer::doubleValue));`","body":"It&#39;s not clear where <code>Average | avr1 | ... | F</code> is supposed to go. Perhaps you could show the expected output for 2 students, with header, etc. Also, you could rewrite the averaging code as <code>double averageMark = taskResults.values().stream().collect(Collectors.averagingDo&zwnj;&#8203;uble(Integer::double&zwnj;&#8203;Value));</code>"},{"owner":{"account_id":27903791,"reputation":3,"user_id":21307467,"display_name":"Ksenia"},"score":0,"creation_date":1677657202,"post_id":75597703,"comment_id":133378994,"body_markdown":"I added an example with the required output","body":"I added an example with the required output"},{"owner":{"account_id":1327194,"reputation":1809,"user_id":1271785,"accept_rate":67,"display_name":"pfurbacher"},"score":0,"creation_date":1677781067,"post_id":75597703,"comment_id":133409947,"body_markdown":"Are you prevented from mapping `courseResult` items to a String (a single line in the body of the table), and sorting by student name prior to calling the collector? As it is now, you are hamstrung by the fact that your data is not really prepared for easy collecting.","body":"Are you prevented from mapping <code>courseResult</code> items to a String (a single line in the body of the table), and sorting by student name prior to calling the collector? As it is now, you are hamstrung by the fact that your data is not really prepared for easy collecting."}],"answers":[{"tags":[],"owner":{"account_id":17717155,"reputation":527,"user_id":12863192,"display_name":"Ishan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682414012,"creation_date":1682414012,"answer_id":76099479,"question_id":75597703,"body_markdown":"@Ksenia, In the &#39;Finisher&#39; function, instead of this\r\n\r\n```\r\n        // Finisher: Return the final formatted table string\r\n        StringBuilder::toString);\r\n```\r\nyou can have any kind of logic implemented...\r\n```\r\n        // Finisher: Return the final formatted table string\r\n        sb -&gt; {\r\n            StringBuilder headerRow = new StringBuilder();\r\n            // Build the header in headerRow with proper column widths using keys and task names\r\n            // E.g. Student........|Phalaxing |Shieldwalling |Tercioing |Wedging |Total |Mark |\r\n            sb.insert(0, headerRow); // This inserts the header at the first position in the string builder\r\n            // You may prepare the average row also similarly, and append at the end\r\n            StringBuilder avgRow = new StringBuilder();\r\n            // Build average row here\r\n            sb.append(avgRow);\r\n            return sb.toString();\r\n        });\r\n```\r\n\r\nAlso, since you have to format the strings properly, you have to first find the max length of all the columns.  So, you may have to traverse through the CourseResult twice. Once to get the max length out of all the names and task names to determine the lengths.\r\nThis should be done before `Collector.of()` is called.\r\nSo, in the `Combiner` and `Finisher`, those lengths are available already.","title":"How return a collector that forms a special printable String in Java?","body":"<p>@Ksenia, In the 'Finisher' function, instead of this</p>\n<pre><code>        // Finisher: Return the final formatted table string\n        StringBuilder::toString);\n</code></pre>\n<p>you can have any kind of logic implemented...</p>\n<pre><code>        // Finisher: Return the final formatted table string\n        sb -&gt; {\n            StringBuilder headerRow = new StringBuilder();\n            // Build the header in headerRow with proper column widths using keys and task names\n            // E.g. Student........|Phalaxing |Shieldwalling |Tercioing |Wedging |Total |Mark |\n            sb.insert(0, headerRow); // This inserts the header at the first position in the string builder\n            // You may prepare the average row also similarly, and append at the end\n            StringBuilder avgRow = new StringBuilder();\n            // Build average row here\n            sb.append(avgRow);\n            return sb.toString();\n        });\n</code></pre>\n<p>Also, since you have to format the strings properly, you have to first find the max length of all the columns.  So, you may have to traverse through the CourseResult twice. Once to get the max length out of all the names and task names to determine the lengths.\nThis should be done before <code>Collector.of()</code> is called.\nSo, in the <code>Combiner</code> and <code>Finisher</code>, those lengths are available already.</p>\n"}],"owner":{"account_id":27903791,"reputation":3,"user_id":21307467,"display_name":"Ksenia"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":149,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683381100,"creation_date":1677621472,"question_id":75597703,"body_markdown":"I need to implement this method: \r\npublic Collector&lt;CourseResult, ?, String&gt; printableStringCollector() {\r\nwhich return  a collector that forms a special printable String as described below.\r\n\r\nIt is multiline String containing a formatted table of all results and total values and marks.\r\nA format of your table should meet the following requirements:\r\n\r\nHeaders are required.\\\r\nColumn width depends on values lenghts.\\\r\nRows are sorted by students&#39; last names.\\\r\nColumns are sorted by the names of tasks.\\\r\nDouble values displayed with 2 digits after the decimal point.\\\r\nValues of the column &quot;Marl&quot; are defined by average total score.\\\r\nPay attention to alignment of different columns.\r\n\r\n\r\nSo far I write this code: \r\n```\r\npublic Collector&lt;CourseResult, ?, String&gt; printableStringCollector() {\r\n    return Collector.of(\r\n\r\n        StringBuilder::new,\r\n        (sb, courseResult) -&gt; {\r\n            Person person = courseResult.getPerson();\r\n            Map&lt;String, Integer&gt; taskResults = courseResult.getTaskResults();\r\n\r\n            List&lt;String&gt; taskNames = taskResults.keySet().stream().sorted().collect(Collectors.toList());\r\n\r\n            // Calculate the total score and average mark\r\n            int totalScore = taskResults.values().stream().reduce(0, Integer::sum);\r\n            double averageMark = (double) totalScore / taskResults.size();\r\n            // Append the formatted row to the StringBuilder\r\n            sb.append(String.format(&quot;%-16s&quot;, person.getLastName() + &quot; &quot; + person.getFirstName()));\r\n            for (String taskName : taskNames) {\r\n                sb.append(String.format(&quot;|%-12s&quot;, taskResults.getOrDefault(taskName, 0)));\r\n            }\r\n            sb.append(String.format(&quot;|%-10.2f|%-5s|\\n&quot;, averageMark, calculateMark(averageMark)));\r\n        },\r\n\r\n        // Combiner: Combine two StringBuilders by concatenating their contents\r\n        (sb1, sb2) -&gt; sb1.append(sb2.toString()),\r\n\r\n        // Finisher: Return the final formatted table string\r\n        StringBuilder::toString);\r\n}\r\n\r\nprivate String calculateMark(double avg) {\r\n    return avg &gt; 90 ? &quot;A&quot; \r\n        : avg &gt;= 83 ? &quot;B&quot; \r\n            : avg &gt;= 75 ? &quot;C&quot; \r\n                : avg &gt;= 68 ? &quot;D&quot; \r\n                    : avg &gt;= 60 ? &quot;E&quot; \r\n                        : &quot;F&quot;;\r\n}\r\n```\r\nHow can I add a header with String &quot;Student&quot; and taskName:     \r\nExample:\r\n\r\n          Student........|Phalaxing |Shieldwalling |Tercioing |Wedging |Total |Mark |\r\n          Eco Betty......|0 ........|83............|89........|59......|57.75 |F ...|\r\n          Lodbrok Johnny |61 .......|92............|67........|0.......|55.00 |F....|\r\n          Paige Umberto..|75....... |94............|0.........|52......|55.25 |F....|\r\n          Average........|45.55.... |89.67.........|52.00.....|37.00...|56.00 |F....|\r\n   \r\n  \r\n","title":"How return a collector that forms a special printable String in Java?","body":"<p>I need to implement this method:\npublic Collector&lt;CourseResult, ?, String&gt; printableStringCollector() {\nwhich return  a collector that forms a special printable String as described below.</p>\n<p>It is multiline String containing a formatted table of all results and total values and marks.\nA format of your table should meet the following requirements:</p>\n<p>Headers are required.<br />\nColumn width depends on values lenghts.<br />\nRows are sorted by students' last names.<br />\nColumns are sorted by the names of tasks.<br />\nDouble values displayed with 2 digits after the decimal point.<br />\nValues of the column &quot;Marl&quot; are defined by average total score.<br />\nPay attention to alignment of different columns.</p>\n<p>So far I write this code:</p>\n<pre><code>public Collector&lt;CourseResult, ?, String&gt; printableStringCollector() {\n    return Collector.of(\n\n        StringBuilder::new,\n        (sb, courseResult) -&gt; {\n            Person person = courseResult.getPerson();\n            Map&lt;String, Integer&gt; taskResults = courseResult.getTaskResults();\n\n            List&lt;String&gt; taskNames = taskResults.keySet().stream().sorted().collect(Collectors.toList());\n\n            // Calculate the total score and average mark\n            int totalScore = taskResults.values().stream().reduce(0, Integer::sum);\n            double averageMark = (double) totalScore / taskResults.size();\n            // Append the formatted row to the StringBuilder\n            sb.append(String.format(&quot;%-16s&quot;, person.getLastName() + &quot; &quot; + person.getFirstName()));\n            for (String taskName : taskNames) {\n                sb.append(String.format(&quot;|%-12s&quot;, taskResults.getOrDefault(taskName, 0)));\n            }\n            sb.append(String.format(&quot;|%-10.2f|%-5s|\\n&quot;, averageMark, calculateMark(averageMark)));\n        },\n\n        // Combiner: Combine two StringBuilders by concatenating their contents\n        (sb1, sb2) -&gt; sb1.append(sb2.toString()),\n\n        // Finisher: Return the final formatted table string\n        StringBuilder::toString);\n}\n\nprivate String calculateMark(double avg) {\n    return avg &gt; 90 ? &quot;A&quot; \n        : avg &gt;= 83 ? &quot;B&quot; \n            : avg &gt;= 75 ? &quot;C&quot; \n                : avg &gt;= 68 ? &quot;D&quot; \n                    : avg &gt;= 60 ? &quot;E&quot; \n                        : &quot;F&quot;;\n}\n</code></pre>\n<p>How can I add a header with String &quot;Student&quot; and taskName:<br />\nExample:</p>\n<pre><code>      Student........|Phalaxing |Shieldwalling |Tercioing |Wedging |Total |Mark |\n      Eco Betty......|0 ........|83............|89........|59......|57.75 |F ...|\n      Lodbrok Johnny |61 .......|92............|67........|0.......|55.00 |F....|\n      Paige Umberto..|75....... |94............|0.........|52......|55.25 |F....|\n      Average........|45.55.... |89.67.........|52.00.....|37.00...|56.00 |F....|\n</code></pre>\n"},{"tags":["java","arrays","object"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1683379046,"post_id":76188996,"comment_id":134359547,"body_markdown":"Please define what is a confident way. Also what kind of efficiency are trying to achieve?","body":"Please define what is a confident way. Also what kind of efficiency are trying to achieve?"}],"answers":[{"tags":[],"owner":{"account_id":14617723,"reputation":38,"user_id":10557366,"display_name":"Antti Juustila"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1683380798,"creation_date":1683380798,"answer_id":76189224,"question_id":76188996,"body_markdown":"Use Arrays.sort with your custom Comparator sitting by rectangle’s height. ","title":"Sort array of objects with representetive of numbers","body":"<p>Use Arrays.sort with your custom Comparator sitting by rectangle’s height.</p>\n"}],"owner":{"account_id":25297143,"reputation":13,"user_id":19122088,"display_name":"TRoUkI"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76189224,"answer_count":1,"score":1,"last_activity_date":1683380798,"creation_date":1683377544,"question_id":76188996,"body_markdown":"I try to find most confident way for a simple question.\r\nI have an array of rectangles with random height, i want to sort them for height using different sorting algorithm.\r\n\r\n I find out two option: \r\n- create another array of numbers that representate height\r\n- just use height and sort rectangles dirrectly\r\n\r\nAnd now i don`t know witch one is more efficient and confident for understanding, and where is moment where i should choose one or another.\r\n\r\nThanks a lot)","title":"Sort array of objects with representetive of numbers","body":"<p>I try to find most confident way for a simple question.\nI have an array of rectangles with random height, i want to sort them for height using different sorting algorithm.</p>\n<p>I find out two option:</p>\n<ul>\n<li>create another array of numbers that representate height</li>\n<li>just use height and sort rectangles dirrectly</li>\n</ul>\n<p>And now i don`t know witch one is more efficient and confident for understanding, and where is moment where i should choose one or another.</p>\n<p>Thanks a lot)</p>\n"},{"tags":["java","flutter","android-studio","kotlin"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1683378993,"post_id":76189062,"comment_id":134359543,"body_markdown":"What is the question?","body":"What is the question?"},{"owner":{"account_id":28304412,"reputation":11,"user_id":21642635,"display_name":"Syed Wajahat Ali Shah"},"score":0,"creation_date":1683380084,"post_id":76189062,"comment_id":134359685,"body_markdown":"@aled How can I effectively resolve the cause of a warning message in my code or application? Despite my efforts, I have been unable to determine the specific source of the warning.","body":"@aled How can I effectively resolve the cause of a warning message in my code or application? Despite my efforts, I have been unable to determine the specific source of the warning."},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1683380523,"post_id":76189062,"comment_id":134359742,"body_markdown":"The warning is very generic. It gives you instructions to get the specific details. No one can tell what is the issue without details. Have you followed the instructions? Once you do if you can&#39;t resolve the issue, then post a question.","body":"The warning is very generic. It gives you instructions to get the specific details. No one can tell what is the issue without details. Have you followed the instructions? Once you do if you can&#39;t resolve the issue, then post a question."}],"owner":{"account_id":28304412,"reputation":11,"user_id":21642635,"display_name":"Syed Wajahat Ali Shah"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":156,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1683380210,"creation_date":1683378416,"question_id":76189062,"body_markdown":"```\r\nwarning: unknown enum constant Mode.LOCAL   \r\nreason: class file for com.facebook.infer.annotation.Nullsafe$Mode not found \r\n1 warning \r\nNote: Some input files use or override a deprecated API. \r\nNote: Recompile with -Xlint:deprecation for details. \r\nNote: /Users/s/.pub-cache/hosted/pub.dev/firebase_messaging-14.2.5/android/src/main/java/io/flutter/plugins/firebase/messaging/FlutterFirebaseMessagingPlugin.java uses unchecked or unsafe operations. \r\nNote: Recompile with -Xlint:unchecked for details. \r\nNote: Some input files use or override a deprecated API. \r\nNote: Recompile with -Xlint:deprecation for details. \r\nNote: Some input files use unchecked or unsafe operations. \r\nNote: Recompile with -Xlint:unchecked for details. \r\nNote: /Users/s/.pub-cache/hosted/pub.dev/flutter_native_image-0.0.6+1/android/src/main/java/com/example/flutternativeimage/FlutterNativeImagePlugin.java uses or overrides a deprecated API. \r\nNote: Recompile with -Xlint:deprecation for details. \r\nNote: Some input files use or override a deprecated API. \r\nNote: Recompile with -Xlint:deprecation for details. \r\nNote: Some input files use unchecked or unsafe operations. \r\nNote: Recompile with -Xlint:unchecked for details. \r\nNote: /Users/s/.pub-cache/hosted/pub.dev/location-4.4.0/android/src/main/java/com/lyokone/location/FlutterLocation.java uses or overrides a deprecated API. \r\nNote: Recompile with -Xlint:deprecation for details. \r\nNote: Some input files use or override a deprecated API. \r\nNote: Recompile with -Xlint:deprecation for details. \r\nNote: Some input files use or override a deprecated API. \r\nNote: Recompile with -Xlint:deprecation for details.\r\n```\r\n\r\nI&#39;ve a flutter project and above are the warning logs I&#39;m getting every time when I click run or type `flutter run` command.\r\n\r\nPlease help me to effectively resolve the cause of a warning. Despite my efforts, I have been unable to determine the specific source of the warning.","title":"warning: unknown enum constant Mode.LOCAL","body":"<pre><code>warning: unknown enum constant Mode.LOCAL   \nreason: class file for com.facebook.infer.annotation.Nullsafe$Mode not found \n1 warning \nNote: Some input files use or override a deprecated API. \nNote: Recompile with -Xlint:deprecation for details. \nNote: /Users/s/.pub-cache/hosted/pub.dev/firebase_messaging-14.2.5/android/src/main/java/io/flutter/plugins/firebase/messaging/FlutterFirebaseMessagingPlugin.java uses unchecked or unsafe operations. \nNote: Recompile with -Xlint:unchecked for details. \nNote: Some input files use or override a deprecated API. \nNote: Recompile with -Xlint:deprecation for details. \nNote: Some input files use unchecked or unsafe operations. \nNote: Recompile with -Xlint:unchecked for details. \nNote: /Users/s/.pub-cache/hosted/pub.dev/flutter_native_image-0.0.6+1/android/src/main/java/com/example/flutternativeimage/FlutterNativeImagePlugin.java uses or overrides a deprecated API. \nNote: Recompile with -Xlint:deprecation for details. \nNote: Some input files use or override a deprecated API. \nNote: Recompile with -Xlint:deprecation for details. \nNote: Some input files use unchecked or unsafe operations. \nNote: Recompile with -Xlint:unchecked for details. \nNote: /Users/s/.pub-cache/hosted/pub.dev/location-4.4.0/android/src/main/java/com/lyokone/location/FlutterLocation.java uses or overrides a deprecated API. \nNote: Recompile with -Xlint:deprecation for details. \nNote: Some input files use or override a deprecated API. \nNote: Recompile with -Xlint:deprecation for details. \nNote: Some input files use or override a deprecated API. \nNote: Recompile with -Xlint:deprecation for details.\n</code></pre>\n<p>I've a flutter project and above are the warning logs I'm getting every time when I click run or type <code>flutter run</code> command.</p>\n<p>Please help me to effectively resolve the cause of a warning. Despite my efforts, I have been unable to determine the specific source of the warning.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":5,"creation_date":1683344953,"post_id":76187020,"comment_id":134356618,"body_markdown":"Your code is incorrectly formatted making it very hard to read. Please fix the format.","body":"Your code is incorrectly formatted making it very hard to read. Please fix the format."}],"answers":[{"tags":[],"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1683344915,"creation_date":1683344915,"answer_id":76187048,"question_id":76187020,"body_markdown":"`new Car(&quot;2014&quot;, &quot;SEDAN&quot;, &quot;BLACK&quot;)`\r\n\r\nThe first parameter of the constructor is expected to be an integer but you are passing a string to it. Use an integer.","title":"Getting error: incompatible types: String cannot be converted to int","body":"<p><code>new Car(&quot;2014&quot;, &quot;SEDAN&quot;, &quot;BLACK&quot;)</code></p>\n<p>The first parameter of the constructor is expected to be an integer but you are passing a string to it. Use an integer.</p>\n"}],"owner":{"account_id":28523448,"reputation":1,"user_id":21831804,"display_name":"R R"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1683363305,"answer_count":1,"score":-2,"last_activity_date":1683378041,"creation_date":1683344156,"question_id":76187020,"body_markdown":"it&#39;s cause an error, have no idea how to fix this /Car.java:17: error: incompatible types: String cannot be converted to int\r\n\r\n    public class Car { \r\n        private int year;\r\n        private String model;  \r\n        private String color;\r\n    \r\n    Car(int yr, String m, String c){\r\n        year = yr;\r\n        model = m;\r\n        color = c; \r\n    }\r\n    \r\n    public void display() {\r\n        System.out.println(year + &quot;, &quot; + model + &quot;, &quot; + color);\r\n    } \r\n    private class Cardemo { \r\n        public static void main(String[] args) {\r\n            Car car1 = new Car(&quot;2014&quot;, &quot;SEDAN&quot;, &quot;BLACK&quot;);\r\n            }\r\n    }\r\n    \r\n    private class Color { \r\n        enum Colors { \r\n            RED, BLUE, YELLOW, GREEN, BLACK, WHITE\r\n        };\r\n    }\r\n    \r\n    private class Model {\r\n        enum Models {\r\n            SEDAN, SUV, CONVERTIBLE, HATCHBACK\r\n        };\r\n     }\r\n    }\r\n\r\nThe result I wanted is &quot;2014, SEDAN, BLACK&quot; but it says string cannot be converted into int","title":"Getting error: incompatible types: String cannot be converted to int","body":"<p>it's cause an error, have no idea how to fix this /Car.java:17: error: incompatible types: String cannot be converted to int</p>\n<pre><code>public class Car { \n    private int year;\n    private String model;  \n    private String color;\n\nCar(int yr, String m, String c){\n    year = yr;\n    model = m;\n    color = c; \n}\n\npublic void display() {\n    System.out.println(year + &quot;, &quot; + model + &quot;, &quot; + color);\n} \nprivate class Cardemo { \n    public static void main(String[] args) {\n        Car car1 = new Car(&quot;2014&quot;, &quot;SEDAN&quot;, &quot;BLACK&quot;);\n        }\n}\n\nprivate class Color { \n    enum Colors { \n        RED, BLUE, YELLOW, GREEN, BLACK, WHITE\n    };\n}\n\nprivate class Model {\n    enum Models {\n        SEDAN, SUV, CONVERTIBLE, HATCHBACK\n    };\n }\n}\n</code></pre>\n<p>The result I wanted is &quot;2014, SEDAN, BLACK&quot; but it says string cannot be converted into int</p>\n"},{"tags":["java","android","arraylist","android-recyclerview"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1683376764,"post_id":76188890,"comment_id":134359283,"body_markdown":"console output is text. Don&#39;t use screenshots for text in Stackoverflow","body":"console output is text. Don&#39;t use screenshots for text in Stackoverflow"},{"owner":{"account_id":7495697,"reputation":1501,"user_id":5696047,"display_name":"jayesh gurudayalani"},"score":0,"creation_date":1683377239,"post_id":76188890,"comment_id":134359342,"body_markdown":"Can you add code of ```myUser``` class ?","body":"Can you add code of <code>myUser</code> class ?"},{"owner":{"account_id":23452960,"reputation":25,"user_id":17508877,"display_name":"GMac06"},"score":0,"creation_date":1683377383,"post_id":76188890,"comment_id":134359355,"body_markdown":"My apologies @aled I&#39;ve changed that now/","body":"My apologies @aled I&#39;ve changed that now/"},{"owner":{"account_id":23452960,"reputation":25,"user_id":17508877,"display_name":"GMac06"},"score":0,"creation_date":1683377403,"post_id":76188890,"comment_id":134359357,"body_markdown":"Of course, added that now @jayeshgurudayalani","body":"Of course, added that now @jayeshgurudayalani"}],"answers":[{"tags":[],"owner":{"account_id":7495697,"reputation":1501,"user_id":5696047,"display_name":"jayesh gurudayalani"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1683377458,"creation_date":1683377458,"answer_id":76188992,"question_id":76188890,"body_markdown":"As per your code of ```myUser``` class , It is clearly visible that issue is with static as you have declared each variable static . I don&#39;t know why you did it as you have getter and setter methods and that is the suggested way to do it . So just remove static keyword from variables as it is making single copy in memory and updating each object variable value .","title":"RecyclerView only displaying last item from ArrayList, showing same amount of times as there are items in the list","body":"<p>As per your code of <code>myUser</code> class , It is clearly visible that issue is with static as you have declared each variable static . I don't know why you did it as you have getter and setter methods and that is the suggested way to do it . So just remove static keyword from variables as it is making single copy in memory and updating each object variable value .</p>\n"}],"owner":{"account_id":23452960,"reputation":25,"user_id":17508877,"display_name":"GMac06"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76188992,"answer_count":1,"score":1,"last_activity_date":1683377458,"creation_date":1683376102,"question_id":76188890,"body_markdown":"I don&#39;t really understand what is going wrong, I have been trying to figure it out for quite some time. I would usually avoid making a post about it but I can&#39;t seem to find any relating problem on Google, no matter what I search. I cannot find even one person that has experienced this problem.\r\n\r\nWhen I first made the RecyclerView and adapter, they worked fine (implementing each object manually like shown below). I didn&#39;t really change anything but when I tried to change to program it to return an ArrayList (from SQLite database) and pass that ArrayList into the adapter, it stopped working. So going back to manually creating objects and the ArrayList, it still does not work?\r\n\r\nAny help would be much, much appreciated :)  \r\n\r\n**My RecyclerView adapter:**\r\n```\r\npublic class RecyclerViewAdapter extends RecyclerView.Adapter&lt;RecyclerViewAdapter.MyViewHolder&gt;{\r\n\r\n    Context context;\r\n    ArrayList&lt;myUser&gt; listings;\r\n\r\n    public RecyclerViewAdapter(Context context, ArrayList&lt;myUser&gt; arrayList) {\r\n        this.context = context;\r\n        this.listings = arrayList;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        LayoutInflater inflater = LayoutInflater.from(context);\r\n        View view = inflater.inflate(R.layout.recyclerview_row, parent, false);\r\n        return new MyViewHolder(view);\r\n    }\r\n\r\n\r\n    /**\r\n     * This basically controls the customisation of each item in the RecyclerView\r\n     * @param holder The ViewHolder which should be updated to represent the contents of the\r\n     *        item at the given position in the data set.\r\n     * @param position The position of the item within the adapter&#39;s data set.\r\n     */\r\n    @Override\r\n    public void onBindViewHolder(@NonNull MyViewHolder holder, int position) {\r\n        System.out.println(position);\r\n        myUser item = listings.get(position);\r\n\r\n        holder.teamName.setText(item.getUsername());\r\n        System.out.println(item.getUsername());\r\n        //holder.teamLevel.setText(item.getTeamLevel());\r\n        //holder.requiredRole.setText(item.getRoleRequired());\r\n    }\r\n\r\n    /**\r\n     * This gets the length of your dataset to determine how many items will be in the RecyclerView\r\n     * So the length of the ArrayList in this case.\r\n     * @return\r\n     */\r\n    @Override\r\n    public int getItemCount() {\r\n        return listings.size();\r\n    }\r\n\r\n\r\n    public class MyViewHolder extends RecyclerView.ViewHolder {\r\n\r\n        TextView teamName, teamLevel, requiredRole;\r\n        Button btnApply;\r\n\r\n        public MyViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n            teamName = itemView.findViewById(R.id.tvTeamName);\r\n            teamLevel = itemView.findViewById(R.id.tvTeamLevel);\r\n            requiredRole = itemView.findViewById(R.id.tvRoleRequired);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n**myUser class:**\r\n```\r\npublic class myUser {\r\n\r\n    private static int id;\r\n    private static String username;\r\n    private static String nationality;\r\n    private static String role;\r\n    private static boolean teamStatus;\r\n    private static int teamID;\r\n    private static String teamName;\r\n\r\n    public myUser(int id, String username, @Nullable String nationality, @Nullable String role, @Nullable int teamID, @Nullable String teamName) {\r\n        this.id = id;\r\n        this.username = username;\r\n        this.nationality = nationality;\r\n        this.role = role;\r\n        this.teamID = teamID;\r\n        this.teamName = teamName;\r\n    }\r\n\r\n    public int getId() {\r\n        return id;\r\n    }\r\n    public void setId(int id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public static String getUsername() {\r\n        return username;\r\n    }\r\n    public void setUsername(String username) {\r\n        this.username = username;\r\n    }\r\n\r\n    public static String getNationality() {\r\n        return nationality;\r\n    }\r\n    public void setNationality(String nationality) {\r\n        this.nationality = nationality;\r\n    }\r\n\r\n    public static String getRole() {\r\n        return role;\r\n    }\r\n    public void setRole(String role) {\r\n        this.role = role;\r\n    }\r\n\r\n    public boolean isTeamStatus() {\r\n        return teamStatus;\r\n    }\r\n    public void setTeamStatus(boolean teamStatus) {\r\n        this.teamStatus = teamStatus;\r\n    }\r\n\r\n    public static int getTeamID() { return teamID; }\r\n    public static void setTeamID(int teamID) { myUser.teamID = teamID; }\r\n\r\n    public static String getTeamName() { return teamName; }\r\n    public static void setTeamName(String teamName) { myUser.teamName = teamName; }\r\n}\r\n```\r\n\r\n**The activity code:**\r\n```\r\nmyUser user1 = new myUser(12, &quot;Sid&quot;, null, null, -1, null);\r\nmyUser user2 = new myUser(13, &quot;George&quot;, null, null, -1, null);\r\nmyUser user3 = new myUser(14, &quot;Hello&quot;, null, null, -1, null);\r\n\r\nArrayList&lt;myUser&gt; newArray = new ArrayList&lt;&gt;();\r\nnewArray.add(user1);\r\nnewArray.add(user2);\r\nnewArray.add(user3);\r\n\r\n/* Recycler View */\r\nRecyclerView rv = findViewById(R.id.recyclerView_teamFind);\r\nrv.setLayoutManager(new LinearLayoutManager(this, LinearLayoutManager.VERTICAL, false));\r\n\r\nRecyclerViewAdapter adapter = new RecyclerViewAdapter(this, newArray);\r\nrv.setAdapter(adapter);\r\n```\r\n\r\n**The console output** (from System.out.println statements within onBindViewHolder):\r\n```\r\nI/System.out: 0\r\nI/System.out: Hello\r\nI/System.out: 1\r\nI/System.out: Hello\r\nI/System.out: 2\r\nI/System.out: Hello\r\n```\r\n\r\n**And the final result:**\r\n\r\n[![The final result of the code][1]][1]\r\n\r\nI just have absolutely no clue what is wrong, it was working. Now it isn&#39;t.\r\n\r\n  [1]: https://i.stack.imgur.com/b13nq.png","title":"RecyclerView only displaying last item from ArrayList, showing same amount of times as there are items in the list","body":"<p>I don't really understand what is going wrong, I have been trying to figure it out for quite some time. I would usually avoid making a post about it but I can't seem to find any relating problem on Google, no matter what I search. I cannot find even one person that has experienced this problem.</p>\n<p>When I first made the RecyclerView and adapter, they worked fine (implementing each object manually like shown below). I didn't really change anything but when I tried to change to program it to return an ArrayList (from SQLite database) and pass that ArrayList into the adapter, it stopped working. So going back to manually creating objects and the ArrayList, it still does not work?</p>\n<p>Any help would be much, much appreciated :)</p>\n<p><strong>My RecyclerView adapter:</strong></p>\n<pre><code>public class RecyclerViewAdapter extends RecyclerView.Adapter&lt;RecyclerViewAdapter.MyViewHolder&gt;{\n\n    Context context;\n    ArrayList&lt;myUser&gt; listings;\n\n    public RecyclerViewAdapter(Context context, ArrayList&lt;myUser&gt; arrayList) {\n        this.context = context;\n        this.listings = arrayList;\n    }\n\n    @NonNull\n    @Override\n    public MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        LayoutInflater inflater = LayoutInflater.from(context);\n        View view = inflater.inflate(R.layout.recyclerview_row, parent, false);\n        return new MyViewHolder(view);\n    }\n\n\n    /**\n     * This basically controls the customisation of each item in the RecyclerView\n     * @param holder The ViewHolder which should be updated to represent the contents of the\n     *        item at the given position in the data set.\n     * @param position The position of the item within the adapter's data set.\n     */\n    @Override\n    public void onBindViewHolder(@NonNull MyViewHolder holder, int position) {\n        System.out.println(position);\n        myUser item = listings.get(position);\n\n        holder.teamName.setText(item.getUsername());\n        System.out.println(item.getUsername());\n        //holder.teamLevel.setText(item.getTeamLevel());\n        //holder.requiredRole.setText(item.getRoleRequired());\n    }\n\n    /**\n     * This gets the length of your dataset to determine how many items will be in the RecyclerView\n     * So the length of the ArrayList in this case.\n     * @return\n     */\n    @Override\n    public int getItemCount() {\n        return listings.size();\n    }\n\n\n    public class MyViewHolder extends RecyclerView.ViewHolder {\n\n        TextView teamName, teamLevel, requiredRole;\n        Button btnApply;\n\n        public MyViewHolder(@NonNull View itemView) {\n            super(itemView);\n            teamName = itemView.findViewById(R.id.tvTeamName);\n            teamLevel = itemView.findViewById(R.id.tvTeamLevel);\n            requiredRole = itemView.findViewById(R.id.tvRoleRequired);\n        }\n    }\n}\n</code></pre>\n<p><strong>myUser class:</strong></p>\n<pre><code>public class myUser {\n\n    private static int id;\n    private static String username;\n    private static String nationality;\n    private static String role;\n    private static boolean teamStatus;\n    private static int teamID;\n    private static String teamName;\n\n    public myUser(int id, String username, @Nullable String nationality, @Nullable String role, @Nullable int teamID, @Nullable String teamName) {\n        this.id = id;\n        this.username = username;\n        this.nationality = nationality;\n        this.role = role;\n        this.teamID = teamID;\n        this.teamName = teamName;\n    }\n\n    public int getId() {\n        return id;\n    }\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public static String getUsername() {\n        return username;\n    }\n    public void setUsername(String username) {\n        this.username = username;\n    }\n\n    public static String getNationality() {\n        return nationality;\n    }\n    public void setNationality(String nationality) {\n        this.nationality = nationality;\n    }\n\n    public static String getRole() {\n        return role;\n    }\n    public void setRole(String role) {\n        this.role = role;\n    }\n\n    public boolean isTeamStatus() {\n        return teamStatus;\n    }\n    public void setTeamStatus(boolean teamStatus) {\n        this.teamStatus = teamStatus;\n    }\n\n    public static int getTeamID() { return teamID; }\n    public static void setTeamID(int teamID) { myUser.teamID = teamID; }\n\n    public static String getTeamName() { return teamName; }\n    public static void setTeamName(String teamName) { myUser.teamName = teamName; }\n}\n</code></pre>\n<p><strong>The activity code:</strong></p>\n<pre><code>myUser user1 = new myUser(12, &quot;Sid&quot;, null, null, -1, null);\nmyUser user2 = new myUser(13, &quot;George&quot;, null, null, -1, null);\nmyUser user3 = new myUser(14, &quot;Hello&quot;, null, null, -1, null);\n\nArrayList&lt;myUser&gt; newArray = new ArrayList&lt;&gt;();\nnewArray.add(user1);\nnewArray.add(user2);\nnewArray.add(user3);\n\n/* Recycler View */\nRecyclerView rv = findViewById(R.id.recyclerView_teamFind);\nrv.setLayoutManager(new LinearLayoutManager(this, LinearLayoutManager.VERTICAL, false));\n\nRecyclerViewAdapter adapter = new RecyclerViewAdapter(this, newArray);\nrv.setAdapter(adapter);\n</code></pre>\n<p><strong>The console output</strong> (from System.out.println statements within onBindViewHolder):</p>\n<pre><code>I/System.out: 0\nI/System.out: Hello\nI/System.out: 1\nI/System.out: Hello\nI/System.out: 2\nI/System.out: Hello\n</code></pre>\n<p><strong>And the final result:</strong></p>\n<p><a href=\"https://i.stack.imgur.com/b13nq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/b13nq.png\" alt=\"The final result of the code\" /></a></p>\n<p>I just have absolutely no clue what is wrong, it was working. Now it isn't.</p>\n"},{"tags":["java","android","android-layout","android-studio","cpu-usage"],"comments":[{"owner":{"account_id":14201596,"reputation":321,"user_id":10259367,"display_name":"Aksh"},"score":0,"creation_date":1537902304,"post_id":52505141,"comment_id":91950782,"body_markdown":"I suggest this doc https://developer.android.com/guide/topics/renderscript/compute","body":"I suggest this doc <a href=\"https://developer.android.com/guide/topics/renderscript/compute\" rel=\"nofollow noreferrer\">developer.android.com/guide/topics/renderscript/compute</a>"}],"answers":[{"tags":[],"owner":{"account_id":13697838,"reputation":1053,"user_id":9883943,"display_name":"Sinan Ceylan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1537920876,"creation_date":1537920876,"answer_id":52508220,"question_id":52505141,"body_markdown":"This is the ObjectAnimator version of your animation. Could you please try this? Hope it helps.\r\n\r\n        @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        //findViewById(R.id.img_pointer1_id).startAnimation(AnimationUtils.loadAnimation(getApplicationContext(), R.anim.bounce));\r\n\r\n        ObjectAnimator animator = ObjectAnimator.ofFloat(findViewById(R.id.img_pointer1_id), &quot;translationY&quot;, 0, -50, 0);\r\n        animator.setInterpolator(new BounceInterpolator());\r\n        animator.setDuration(800);\r\n        animator.setRepeatCount(ValueAnimator.INFINITE);\r\n        animator.setRepeatMode(ValueAnimator.REVERSE);\r\n        animator.start();\r\n    }","title":"Android Animation High CPU Usage","body":"<p>This is the ObjectAnimator version of your animation. Could you please try this? Hope it helps.</p>\n\n<pre><code>    @Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    //findViewById(R.id.img_pointer1_id).startAnimation(AnimationUtils.loadAnimation(getApplicationContext(), R.anim.bounce));\n\n    ObjectAnimator animator = ObjectAnimator.ofFloat(findViewById(R.id.img_pointer1_id), \"translationY\", 0, -50, 0);\n    animator.setInterpolator(new BounceInterpolator());\n    animator.setDuration(800);\n    animator.setRepeatCount(ValueAnimator.INFINITE);\n    animator.setRepeatMode(ValueAnimator.REVERSE);\n    animator.start();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25390928,"reputation":201,"user_id":19201926,"display_name":"Andrei Naumets"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683377457,"creation_date":1683377457,"answer_id":76188991,"question_id":52505141,"body_markdown":"I found this and it helped me.\r\n\r\n    view.setLayerType(View.LAYER_TYPE_HARDWARE, null)\r\n    ObjectAnimator.ofFloat(view, &quot;rotationY&quot;, 180f).start()\r\n\r\nI read it [there][1].\r\n\r\n\r\n  [1]: https://developer.android.com/topic/performance/hardware-accel","title":"Android Animation High CPU Usage","body":"<p>I found this and it helped me.</p>\n<pre><code>view.setLayerType(View.LAYER_TYPE_HARDWARE, null)\nObjectAnimator.ofFloat(view, &quot;rotationY&quot;, 180f).start()\n</code></pre>\n<p>I read it <a href=\"https://developer.android.com/topic/performance/hardware-accel\" rel=\"nofollow noreferrer\">there</a>.</p>\n"}],"owner":{"account_id":14418020,"reputation":1,"user_id":10414912,"display_name":"Tiziano Silvi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":762,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1683377457,"creation_date":1537902160,"question_id":52505141,"body_markdown":"I&#39;m trying to create a simple android animation. \r\nA bouncing google map marker.\r\nI have already implemented a simple code for doing that, but when i run it on API 28 it&#39;s almost fine. When i run the code in every other API version, on multiple emulator and even on my phone, the CPU Usage looks extrimly high, from 35% to 80-90% during all the running time. All my main Activity looks slower.\r\n\r\nI&#39;m using a Constraint layout, i don&#39;t know if that can be of any helpful\r\n\r\nThat&#39;s my bounce.xml:\r\n\r\n    &lt;set xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:interpolator=&quot;@android:anim/bounce_interpolator&quot;&gt;\r\n        &lt;translate\r\n            android:duration=&quot;800&quot;\r\n            android:toYDelta=&quot;-50&quot;\r\n            android:repeatCount=&quot;infinite&quot;\r\n            android:repeatMode= &quot;reverse&quot;\r\n         /&gt;\r\n    &lt;/set&gt;\r\n\r\nThat&#39;s my simple main activity:\r\n\r\n    import android.support.v7.app.AppCompatActivity;\r\n    import android.os.Bundle;\r\n    import android.view.animation.AnimationUtils;\r\n    \r\n    public class Home extends AppCompatActivity\r\n    {\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState)\r\n        {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_home);\r\n            \r\n            findViewById(R.id.img_pointer1_id).startAnimation(AnimationUtils.loadAnimation(getApplicationContext(), R.anim.bounce));\r\n        }\r\n    }\r\n\r\nAny suggestion about how to fix this / any alternative solution?\r\n","title":"Android Animation High CPU Usage","body":"<p>I'm trying to create a simple android animation. \nA bouncing google map marker.\nI have already implemented a simple code for doing that, but when i run it on API 28 it's almost fine. When i run the code in every other API version, on multiple emulator and even on my phone, the CPU Usage looks extrimly high, from 35% to 80-90% during all the running time. All my main Activity looks slower.</p>\n\n<p>I'm using a Constraint layout, i don't know if that can be of any helpful</p>\n\n<p>That's my bounce.xml:</p>\n\n<pre><code>&lt;set xmlns:android=\"http://schemas.android.com/apk/res/android\"\nandroid:interpolator=\"@android:anim/bounce_interpolator\"&gt;\n    &lt;translate\n        android:duration=\"800\"\n        android:toYDelta=\"-50\"\n        android:repeatCount=\"infinite\"\n        android:repeatMode= \"reverse\"\n     /&gt;\n&lt;/set&gt;\n</code></pre>\n\n<p>That's my simple main activity:</p>\n\n<pre><code>import android.support.v7.app.AppCompatActivity;\nimport android.os.Bundle;\nimport android.view.animation.AnimationUtils;\n\npublic class Home extends AppCompatActivity\n{\n    @Override\n    protected void onCreate(Bundle savedInstanceState)\n    {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_home);\n\n        findViewById(R.id.img_pointer1_id).startAnimation(AnimationUtils.loadAnimation(getApplicationContext(), R.anim.bounce));\n    }\n}\n</code></pre>\n\n<p>Any suggestion about how to fix this / any alternative solution?</p>\n"},{"tags":["java","jco"],"comments":[{"owner":{"account_id":76469,"reputation":18423,"user_id":218890,"accept_rate":64,"display_name":"vwegert"},"score":0,"creation_date":1436388341,"post_id":31302649,"comment_id":50596684,"body_markdown":"Please do not create a second question unnecessarily - this is clearly a follow-up of your first (incomplete) question.","body":"Please do not create a second question unnecessarily - this is clearly a follow-up of your first (incomplete) question."},{"owner":{"account_id":76469,"reputation":18423,"user_id":218890,"accept_rate":64,"display_name":"vwegert"},"score":0,"creation_date":1436388512,"post_id":31302649,"comment_id":50596775,"body_markdown":"Also, please at least add a link when [cross-posting the same question on other sites](http://scn.sap.com/thread/3768139)","body":"Also, please at least add a link when <a href=\"http://scn.sap.com/thread/3768139\" rel=\"nofollow noreferrer\">cross-posting the same question on other sites</a>"}],"owner":{"account_id":6551768,"reputation":101,"user_id":5065934,"accept_rate":50,"display_name":"Carlos DaSilva"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1345,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1655643840,"answer_count":0,"score":0,"last_activity_date":1683377387,"creation_date":1436385988,"question_id":31302649,"body_markdown":"I&#39;ve been trying to connect a java program to SAP using JCo Java connectors (latest version 3.0.13). \r\n\r\nI was having trouble and I was told that the problem was that I was trying to connect directly and I need to connect via saprouter.\r\n\r\nThere&#39;s a connection property called saprouter where I need to place the SAP router string.\r\n\r\nI&#39;ve only found the way to specify such string for JCo (version 2.xx) and it is:\r\n```\r\n/H/&lt;saprouter&gt;/H/&lt;hostname&gt;\r\n```\r\n\r\nIs this the same for JCo in its latest version? If so, the specification of connection properties will be done well like this?\r\n\r\n        Properties connectProperties = new Properties();\r\n        connectProperties.setProperty(DestinationDataProvider.JCO_ASHOST, &quot;xx.xx.x.xx&quot;);\r\n        connectProperties.setProperty(DestinationDataProvider.JCO_SYSNR,  &quot;00&quot;);\r\n        connectProperties.setProperty(DestinationDataProvider.JCO_CLIENT, &quot;020&quot;);\r\n        connectProperties.setProperty(DestinationDataProvider.JCO_USER,   &quot;xxxxx&quot;);\r\n        connectProperties.setProperty(DestinationDataProvider.JCO_PASSWD, &quot;xxxxxx&quot;);\r\n        connectProperties.setProperty(DestinationDataProvider.JCO_LANG,   &quot;en&quot;);\r\n        connectProperties.setProperty(DestinationDataProvider.JCO_SAPROUTER,   &quot;/H/&lt;saprouter&gt;/H/&lt;hostname&gt;&quot;);","title":"Connect to SAP system using JCo through a SAPRouter","body":"<p>I've been trying to connect a java program to SAP using JCo Java connectors (latest version 3.0.13).</p>\n<p>I was having trouble and I was told that the problem was that I was trying to connect directly and I need to connect via saprouter.</p>\n<p>There's a connection property called saprouter where I need to place the SAP router string.</p>\n<p>I've only found the way to specify such string for JCo (version 2.xx) and it is:</p>\n<pre><code>/H/&lt;saprouter&gt;/H/&lt;hostname&gt;\n</code></pre>\n<p>Is this the same for JCo in its latest version? If so, the specification of connection properties will be done well like this?</p>\n<pre><code>    Properties connectProperties = new Properties();\n    connectProperties.setProperty(DestinationDataProvider.JCO_ASHOST, &quot;xx.xx.x.xx&quot;);\n    connectProperties.setProperty(DestinationDataProvider.JCO_SYSNR,  &quot;00&quot;);\n    connectProperties.setProperty(DestinationDataProvider.JCO_CLIENT, &quot;020&quot;);\n    connectProperties.setProperty(DestinationDataProvider.JCO_USER,   &quot;xxxxx&quot;);\n    connectProperties.setProperty(DestinationDataProvider.JCO_PASSWD, &quot;xxxxxx&quot;);\n    connectProperties.setProperty(DestinationDataProvider.JCO_LANG,   &quot;en&quot;);\n    connectProperties.setProperty(DestinationDataProvider.JCO_SAPROUTER,   &quot;/H/&lt;saprouter&gt;/H/&lt;hostname&gt;&quot;);\n</code></pre>\n"},{"tags":["java","jco"],"owner":{"account_id":6551768,"reputation":101,"user_id":5065934,"accept_rate":50,"display_name":"Carlos DaSilva"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":817,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1683377282,"creation_date":1436882804,"question_id":31409021,"body_markdown":"In older versions of JCo (2.xx), the connections were handled directly: the developer needed to create the connection and then close it. It was intuitive.\r\n\r\nWith the newer versions there&#39;s no closing connection method, just `getDestination` methods.\r\n\r\nI was wondering: how and when is an established connection closed?\r\n\r\nSCN: [http://scn.sap.com/thread/3770683][1]\r\n\r\n\r\n  [1]: http://scn.sap.com/thread/3770683","title":"How and when is a JCo connection closed in version 3.xx?","body":"<p>In older versions of JCo (2.xx), the connections were handled directly: the developer needed to create the connection and then close it. It was intuitive.</p>\n<p>With the newer versions there's no closing connection method, just <code>getDestination</code> methods.</p>\n<p>I was wondering: how and when is an established connection closed?</p>\n<p>SCN: <a href=\"http://scn.sap.com/thread/3770683\" rel=\"nofollow noreferrer\">http://scn.sap.com/thread/3770683</a></p>\n"},{"tags":["java","ssl","certificate","certificate-store"],"comments":[{"owner":{"account_id":9609,"reputation":92294,"user_id":17833,"display_name":"Anya Shenanigans"},"score":2,"creation_date":1450803296,"post_id":34420646,"comment_id":56582904,"body_markdown":"You should run with `-Djavax.net.debug=all`, and actually see what the reported `trustStore is` (it&#39;s in the first 10 lines of the debug output) as to what it is using.","body":"You should run with <code>-Djavax.net.debug=all</code>, and actually see what the reported <code>trustStore is</code> (it&#39;s in the first 10 lines of the debug output) as to what it is using."},{"owner":{"account_id":997513,"reputation":12945,"user_id":3893496,"accept_rate":54,"display_name":"arcy"},"score":0,"creation_date":1450803660,"post_id":34420646,"comment_id":56583112,"body_markdown":"Thanks! that confirms what I thought they were. Would still like to know why the one without the vendor certificate works and the one with the vendor certificate does not work.","body":"Thanks! that confirms what I thought they were. Would still like to know why the one without the vendor certificate works and the one with the vendor certificate does not work."},{"owner":{"account_id":9609,"reputation":92294,"user_id":17833,"display_name":"Anya Shenanigans"},"score":0,"creation_date":1450803967,"post_id":34420646,"comment_id":56583285,"body_markdown":"I&#39;ve no useful approaches here - generally I&#39;d verify the vendor chain outside of Java and then check each element of the chain in the two Java trust stores; apart from that, no real ideas.","body":"I&#39;ve no useful approaches here - generally I&#39;d verify the vendor chain outside of Java and then check each element of the chain in the two Java trust stores; apart from that, no real ideas."},{"owner":{"account_id":997513,"reputation":12945,"user_id":3893496,"accept_rate":54,"display_name":"arcy"},"score":0,"creation_date":1450804699,"post_id":34420646,"comment_id":56583671,"body_markdown":"@Petesh If you will please put your suggestion into an answer, I will accept it -- it answered the original question and led me to the overall answer. I dumped the output of both commands and compared them, and found a mention of a &#39;trusted certificate&#39; in one that isn&#39;t in the other. I haven&#39;t worked out the details yet, but this looks like it. And what I originally asked was how to find out which cacert store was being used, which you did answer (and I should have thought of).","body":"@Petesh If you will please put your suggestion into an answer, I will accept it -- it answered the original question and led me to the overall answer. I dumped the output of both commands and compared them, and found a mention of a &#39;trusted certificate&#39; in one that isn&#39;t in the other. I haven&#39;t worked out the details yet, but this looks like it. And what I originally asked was how to find out which cacert store was being used, which you did answer (and I should have thought of)."}],"answers":[{"tags":[],"owner":{"account_id":9609,"reputation":92294,"user_id":17833,"display_name":"Anya Shenanigans"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1683377088,"creation_date":1450806303,"answer_id":34421609,"question_id":34420646,"body_markdown":"To determine the trust store that&#39;s being used, without having to resort to tools like `strace` (linux) and `process explorer` (windows), you can pass the debug flag `-Djavax.net.debug=trustmanager` to the java command line, which dumps all the ssl related debug information (I mentioned `all` in the original comment, but that adds even more noise to the output):\r\n\r\n    java -Djavax.net.debug=trustmanager -jar vendorCmd.jar user1 password2 environment3\r\n\r\nIn the first few lines of the debug output, will be a line:\r\n\r\n    trustStore is: &lt;path to&gt;cacerts\r\n\r\nthis indicates the trust store that&#39;s being used.\r\n\r\nAdding the `ssl` option (`trustmanager,ssl`) , it also dumps all the trusted certs that are being added to the list of certs that are considered trusted by the JVM. This can be used to verify that the certs you think are in the trust store are actually in the trust store - in this case you should be able to see the vendor&#39;s certs in the list.\r\n\r\nA full list of [the debug options for javax.net.debug][1] are detailed in the JSSE reference guide. You can use `=help` to get a relatively short usage message for the flags\r\n\r\nSample code &amp; test run:\r\n\r\n    import java.net.URL;\r\n    import java.io.BufferedInputStream;\r\n    \r\n    public class pull_url {\r\n        public static void main(String args[]) throws Exception {\r\n            for (String arg : args) {\r\n                downloadUsingUrl(arg);\r\n            }\r\n        }\r\n    \r\n        public static void downloadUsingUrl(String stringurl) throws Exception {\r\n            URL url = new URL(stringurl);\r\n            BufferedInputStream bis = new BufferedInputStream(url.openStream());\r\n            bis.close();\r\n        }\r\n    }\r\n\r\nOutput from a run:\r\n\r\n    $ java -Djavax.net.debug=trustmanager pull_url https://google.com/\r\n    javax.net.ssl|DEBUG|10|main|2023-05-06 13:40:20.584 IST|TrustStoreManager.java:162|Inaccessible trust store: /Users/anysh/Library/Java/JavaVirtualMachines/jdk-19.0.1.jdk/Contents/Home/lib/security/jssecacerts\r\n    javax.net.ssl|DEBUG|10|main|2023-05-06 13:40:20.595 IST|TrustStoreManager.java:113|trustStore is: /Users/anysh/Library/Java/JavaVirtualMachines/jdk-19.0.1.jdk/Contents/Home/lib/security/cacerts\r\n    trustStore type is: pkcs12\r\n    trustStore provider is:\r\n    the last modified time is: Wed Sep 14 17:16:16 IST 2022\r\n    javax.net.ssl|DEBUG|10|main|2023-05-06 13:40:20.595 IST|TrustStoreManager.java:334|Reload the trust store\r\n    javax.net.ssl|DEBUG|10|main|2023-05-06 13:40:20.620 IST|TrustStoreManager.java:342|Reload trust certs\r\n    javax.net.ssl|DEBUG|10|main|2023-05-06 13:40:20.620 IST|TrustStoreManager.java:347|Reloaded 89 trust certs\r\n\r\nIn this case, the second line indicates the cacerts file that&#39;s being used.\r\n\r\n   [1]: http://docs.oracle.com/javase/6/docs/technotes/guides/security/jsse/JSSERefGuide.html#Debug","title":"which cacert is in use?","body":"<p>To determine the trust store that's being used, without having to resort to tools like <code>strace</code> (linux) and <code>process explorer</code> (windows), you can pass the debug flag <code>-Djavax.net.debug=trustmanager</code> to the java command line, which dumps all the ssl related debug information (I mentioned <code>all</code> in the original comment, but that adds even more noise to the output):</p>\n<pre><code>java -Djavax.net.debug=trustmanager -jar vendorCmd.jar user1 password2 environment3\n</code></pre>\n<p>In the first few lines of the debug output, will be a line:</p>\n<pre><code>trustStore is: &lt;path to&gt;cacerts\n</code></pre>\n<p>this indicates the trust store that's being used.</p>\n<p>Adding the <code>ssl</code> option (<code>trustmanager,ssl</code>) , it also dumps all the trusted certs that are being added to the list of certs that are considered trusted by the JVM. This can be used to verify that the certs you think are in the trust store are actually in the trust store - in this case you should be able to see the vendor's certs in the list.</p>\n<p>A full list of <a href=\"http://docs.oracle.com/javase/6/docs/technotes/guides/security/jsse/JSSERefGuide.html#Debug\" rel=\"nofollow noreferrer\">the debug options for javax.net.debug</a> are detailed in the JSSE reference guide. You can use <code>=help</code> to get a relatively short usage message for the flags</p>\n<p>Sample code &amp; test run:</p>\n<pre><code>import java.net.URL;\nimport java.io.BufferedInputStream;\n\npublic class pull_url {\n    public static void main(String args[]) throws Exception {\n        for (String arg : args) {\n            downloadUsingUrl(arg);\n        }\n    }\n\n    public static void downloadUsingUrl(String stringurl) throws Exception {\n        URL url = new URL(stringurl);\n        BufferedInputStream bis = new BufferedInputStream(url.openStream());\n        bis.close();\n    }\n}\n</code></pre>\n<p>Output from a run:</p>\n<pre><code>$ java -Djavax.net.debug=trustmanager pull_url https://google.com/\njavax.net.ssl|DEBUG|10|main|2023-05-06 13:40:20.584 IST|TrustStoreManager.java:162|Inaccessible trust store: /Users/anysh/Library/Java/JavaVirtualMachines/jdk-19.0.1.jdk/Contents/Home/lib/security/jssecacerts\njavax.net.ssl|DEBUG|10|main|2023-05-06 13:40:20.595 IST|TrustStoreManager.java:113|trustStore is: /Users/anysh/Library/Java/JavaVirtualMachines/jdk-19.0.1.jdk/Contents/Home/lib/security/cacerts\ntrustStore type is: pkcs12\ntrustStore provider is:\nthe last modified time is: Wed Sep 14 17:16:16 IST 2022\njavax.net.ssl|DEBUG|10|main|2023-05-06 13:40:20.595 IST|TrustStoreManager.java:334|Reload the trust store\njavax.net.ssl|DEBUG|10|main|2023-05-06 13:40:20.620 IST|TrustStoreManager.java:342|Reload trust certs\njavax.net.ssl|DEBUG|10|main|2023-05-06 13:40:20.620 IST|TrustStoreManager.java:347|Reloaded 89 trust certs\n</code></pre>\n<p>In this case, the second line indicates the cacerts file that's being used.</p>\n"},{"tags":[],"owner":{"account_id":7223704,"reputation":59,"user_id":5513161,"display_name":"Lewis B"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1677406316,"creation_date":1677406316,"answer_id":75571282,"question_id":34420646,"body_markdown":"Thanks a lot for Anya Shenanigans response.\r\nJust to tell, that in my case, I had to use the \r\n\r\n    -Djavax.net.debug=all\r\nnot the ssl option (I dont know exactly why).\r\nWith that option, as Anya says, the console will show:\r\n\r\n    javax.net.ssl|DEBUG|01|main|2023-02-26 11:06:43.622 CET|TrustStoreManager.java:112|trustStore is: \r\n\r\nAdd the option when runing java command. If using IntelliJIdea , go to Run/Debug Configuration of your app, click Modify Option (it will be hidden per default) and add it &quot;VM option&quot;","title":"which cacert is in use?","body":"<p>Thanks a lot for Anya Shenanigans response.\nJust to tell, that in my case, I had to use the</p>\n<pre><code>-Djavax.net.debug=all\n</code></pre>\n<p>not the ssl option (I dont know exactly why).\nWith that option, as Anya says, the console will show:</p>\n<pre><code>javax.net.ssl|DEBUG|01|main|2023-02-26 11:06:43.622 CET|TrustStoreManager.java:112|trustStore is: \n</code></pre>\n<p>Add the option when runing java command. If using IntelliJIdea , go to Run/Debug Configuration of your app, click Modify Option (it will be hidden per default) and add it &quot;VM option&quot;</p>\n"}],"owner":{"account_id":997513,"reputation":12945,"user_id":3893496,"accept_rate":54,"display_name":"arcy"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12282,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":34421609,"answer_count":2,"score":8,"last_activity_date":1683377088,"creation_date":1450802800,"question_id":34420646,"body_markdown":"I have an example command-line java application from a vendor; it depends on SSL authentication. I have the vendor&#39;s certificate(s), I can see them in my java 7 cacerts file (windows, c:\\program files\\java\\jdk1.7.0_07\\jre\\lib\\security\\cacerts).  If I open the java 8 cacerts file, they are not there (c:\\program files\\java\\jre1.8.0_66\\lib\\security\\cacerts)\r\n\r\nIf I set a path so that java 8 is first, the program works. If I change the path so that java 7 is first, the program fails with a certification error:\r\n\r\n    C:\\project\\tryCerts\\Demo2&gt;path=c:\\program files\\java\\jdk1.7.0_07\\bin;c:\\program files\\java\\jre1.8.0_66\\bin\r\n\r\n\r\n    C:\\project\\tryCerts\\Demo2&gt;java -jar vendorCmd.jar user1 password2 environment3\r\n    Dec 22, 2015 11:11:35 AM [com.sun.xml.ws.policy.jaxws.PolicyConfigParser]  parse\r\n    INFO: WSP5018: Loaded WSIT configuration from file: jar:file:/C:/project/tryCerts/Demo2/vendorCmd/dist/vendorCmd.jar!/META-INF/wsit-client.xml.\r\n    Unable to log in: com.sun.xml.ws.client.ClientTransportException: HTTP transport error: javax.net.ssl.SSLHandshakeException: sun.security.validator.Va\r\n    lidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to re\r\n    quested target\r\n    \r\n    C:\\project\\tryCerts\\Demo2&gt;path=c:\\program files\\java\\jre1.8.0_66\\bin;c:\\program files\\java\\jdk1.7.0_07\\bin\r\n    \r\n    C:\\project\\tryCerts\\Demo2&gt;java -jar vendorCmd.jar acc03\\acc03_ws_user accwbS3rv!ceS acc03_p_production\r\n    Dec 22, 2015 11:21:34 AM [com.sun.xml.ws.policy.jaxws.PolicyConfigParser]  parse\r\n    INFO: WSP5018: Loaded WSIT configuration from file: jar:file:/C:/project/tryCerts/Demo2/vendorCmd/dist/vendorCmd.jar!/META-INF/wsit-client.xml.\r\n    logged in\r\n    Dec 22, 2015 11:21:35 AM [com.sun.xml.ws.policy.jaxws.PolicyConfigParser]  parse\r\n    INFO: WSP5018: Loaded WSIT configuration from file: jar:file:/C:/project/tryCerts/Demo2/vendorCmd/dist/vendorCmd.jar!/META-INF/wsit-client.xml.\r\n    Signed Info:org.jcp.xml.dsig.internal.dom.DOMSignedInfo@3f071328\r\n    AccountNumber: 279105/ Firstname: null/ LastName: null\r\n    AccountNumber: 1005118/ Firstname: null/ LastName: COMPANY1\r\n    AccountNumber: 2102765/ Firstname: null/ LastName: COMPANY2\r\n    AccountNumber: 2101373/ Firstname: null/ LastName: COMPANY3\r\n    AccountNumber: 2119664/ Firstname: null/ LastName: COMPANY4\r\n    AccountNumber: 2119668/ Firstname: null/ LastName: ET CETERA\r\n    \r\n    C:\\project\\tryCerts\\Demo2&gt;dir/s cacerts\r\n     Volume in drive C is OS\r\n     Volume Serial Number is 9896-211D\r\n    File Not Found\r\n    \r\n    C:\\project\\tryCerts\\Demo2&gt;\r\n\r\nThis is exactly opposite from what I was expecting -- it is the cacerts file in the java 7 folders that has the vendor certificate chain, and java 8 that does not have it. Yet running the program on Java 7 fails with a certification error, and running it with 8 succeeds. \r\n\r\nCan anyone tell me what I should look for to explain this?\r\n","title":"which cacert is in use?","body":"<p>I have an example command-line java application from a vendor; it depends on SSL authentication. I have the vendor's certificate(s), I can see them in my java 7 cacerts file (windows, c:\\program files\\java\\jdk1.7.0_07\\jre\\lib\\security\\cacerts).  If I open the java 8 cacerts file, they are not there (c:\\program files\\java\\jre1.8.0_66\\lib\\security\\cacerts)</p>\n\n<p>If I set a path so that java 8 is first, the program works. If I change the path so that java 7 is first, the program fails with a certification error:</p>\n\n<pre><code>C:\\project\\tryCerts\\Demo2&gt;path=c:\\program files\\java\\jdk1.7.0_07\\bin;c:\\program files\\java\\jre1.8.0_66\\bin\n\n\nC:\\project\\tryCerts\\Demo2&gt;java -jar vendorCmd.jar user1 password2 environment3\nDec 22, 2015 11:11:35 AM [com.sun.xml.ws.policy.jaxws.PolicyConfigParser]  parse\nINFO: WSP5018: Loaded WSIT configuration from file: jar:file:/C:/project/tryCerts/Demo2/vendorCmd/dist/vendorCmd.jar!/META-INF/wsit-client.xml.\nUnable to log in: com.sun.xml.ws.client.ClientTransportException: HTTP transport error: javax.net.ssl.SSLHandshakeException: sun.security.validator.Va\nlidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to re\nquested target\n\nC:\\project\\tryCerts\\Demo2&gt;path=c:\\program files\\java\\jre1.8.0_66\\bin;c:\\program files\\java\\jdk1.7.0_07\\bin\n\nC:\\project\\tryCerts\\Demo2&gt;java -jar vendorCmd.jar acc03\\acc03_ws_user accwbS3rv!ceS acc03_p_production\nDec 22, 2015 11:21:34 AM [com.sun.xml.ws.policy.jaxws.PolicyConfigParser]  parse\nINFO: WSP5018: Loaded WSIT configuration from file: jar:file:/C:/project/tryCerts/Demo2/vendorCmd/dist/vendorCmd.jar!/META-INF/wsit-client.xml.\nlogged in\nDec 22, 2015 11:21:35 AM [com.sun.xml.ws.policy.jaxws.PolicyConfigParser]  parse\nINFO: WSP5018: Loaded WSIT configuration from file: jar:file:/C:/project/tryCerts/Demo2/vendorCmd/dist/vendorCmd.jar!/META-INF/wsit-client.xml.\nSigned Info:org.jcp.xml.dsig.internal.dom.DOMSignedInfo@3f071328\nAccountNumber: 279105/ Firstname: null/ LastName: null\nAccountNumber: 1005118/ Firstname: null/ LastName: COMPANY1\nAccountNumber: 2102765/ Firstname: null/ LastName: COMPANY2\nAccountNumber: 2101373/ Firstname: null/ LastName: COMPANY3\nAccountNumber: 2119664/ Firstname: null/ LastName: COMPANY4\nAccountNumber: 2119668/ Firstname: null/ LastName: ET CETERA\n\nC:\\project\\tryCerts\\Demo2&gt;dir/s cacerts\n Volume in drive C is OS\n Volume Serial Number is 9896-211D\nFile Not Found\n\nC:\\project\\tryCerts\\Demo2&gt;\n</code></pre>\n\n<p>This is exactly opposite from what I was expecting -- it is the cacerts file in the java 7 folders that has the vendor certificate chain, and java 8 that does not have it. Yet running the program on Java 7 fails with a certification error, and running it with 8 succeeds. </p>\n\n<p>Can anyone tell me what I should look for to explain this?</p>\n"},{"tags":["java","double","long-integer"],"comments":[{"owner":{"account_id":169662,"reputation":2670,"user_id":395863,"accept_rate":89,"display_name":"Raveline"},"score":1,"creation_date":1313679054,"post_id":7109388,"comment_id":8515829,"body_markdown":"Why don&#39;t you use DecimalFormat ?","body":"Why don&#39;t you use DecimalFormat ?"},{"owner":{"account_id":33655,"reputation":26403,"user_id":94363,"accept_rate":74,"display_name":"rds"},"score":0,"creation_date":1382363125,"post_id":7109388,"comment_id":28918099,"body_markdown":"possible duplicate of [How to nicely format floating types to String?](http://stackoverflow.com/questions/703396/how-to-nicely-format-floating-types-to-string)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/703396/how-to-nicely-format-floating-types-to-string\">How to nicely format floating types to String?</a>"},{"owner":{"account_id":1772743,"reputation":1124,"user_id":1617210,"accept_rate":50,"display_name":"zfj3ub94rf576hc4eegm"},"score":0,"creation_date":1488145551,"post_id":7109388,"comment_id":72089653,"body_markdown":"@EJP Math.floor() also returns a double, so .0 will remain.","body":"@EJP Math.floor() also returns a double, so .0 will remain."}],"answers":[{"tags":[],"owner":{"account_id":373975,"reputation":24834,"user_id":723920,"accept_rate":60,"display_name":"Kal"},"down_vote_count":1,"up_vote_count":28,"is_accepted":true,"score":27,"last_activity_date":1488151994,"creation_date":1313679178,"answer_id":7109460,"question_id":7109388,"body_markdown":"Use [DecimalFormat][1]\r\n\r\n    double answer = 5.0;\r\n    DecimalFormat df = new DecimalFormat(&quot;###.#&quot;);\r\n    System.out.println(df.format(answer));\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/text/DecimalFormat.html","title":"Removing the .0 from a double","body":"<p>Use <a href=\"https://docs.oracle.com/javase/7/docs/api/java/text/DecimalFormat.html\" rel=\"noreferrer\">DecimalFormat</a></p>\n\n<pre><code>double answer = 5.0;\nDecimalFormat df = new DecimalFormat(\"###.#\");\nSystem.out.println(df.format(answer));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9510,"reputation":17659,"user_id":17614,"accept_rate":62,"display_name":"GBa"},"down_vote_count":6,"up_vote_count":3,"is_accepted":false,"score":-3,"last_activity_date":1313679222,"creation_date":1313679222,"answer_id":7109478,"question_id":7109388,"body_markdown":"Look at \r\nhttp://download.oracle.com/javase/6/docs/api/java/text/DecimalFormat.html\r\n\r\nyou would want just DecimalFormat(&quot;0.0&quot;)","title":"Removing the .0 from a double","body":"<p>Look at \n<a href=\"http://download.oracle.com/javase/6/docs/api/java/text/DecimalFormat.html\" rel=\"nofollow\">http://download.oracle.com/javase/6/docs/api/java/text/DecimalFormat.html</a></p>\n\n<p>you would want just DecimalFormat(\"0.0\")</p>\n"},{"tags":[],"owner":{"account_id":44204,"reputation":9823,"user_id":129599,"accept_rate":100,"display_name":"Ophidian"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1313679509,"creation_date":1313679509,"answer_id":7109561,"question_id":7109388,"body_markdown":"The DecimalFormat suggestions are the easiest way to handle this.  If they aren&#39;t sufficient, here&#39;s another idea.\r\n\r\nIf you&#39;re starting to hit the maximum values that can be represented by primitives in Java, then you may need to move to [BigInteger][1] and [BigDecimal][2].\r\n\r\nTry playing around with the `BigDecimal.toBigInteger()` method coupled with the `toString()` methods on BigDecimal and BigInteger.\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/math/BigInteger.html\r\n  [2]: http://download.oracle.com/javase/6/docs/api/java/math/BigDecimal.html","title":"Removing the .0 from a double","body":"<p>The DecimalFormat suggestions are the easiest way to handle this.  If they aren't sufficient, here's another idea.</p>\n\n<p>If you're starting to hit the maximum values that can be represented by primitives in Java, then you may need to move to <a href=\"http://download.oracle.com/javase/6/docs/api/java/math/BigInteger.html\" rel=\"nofollow\">BigInteger</a> and <a href=\"http://download.oracle.com/javase/6/docs/api/java/math/BigDecimal.html\" rel=\"nofollow\">BigDecimal</a>.</p>\n\n<p>Try playing around with the <code>BigDecimal.toBigInteger()</code> method coupled with the <code>toString()</code> methods on BigDecimal and BigInteger.</p>\n"},{"tags":[],"owner":{"account_id":5714780,"reputation":5395,"user_id":4515438,"accept_rate":0,"display_name":"Vahe Gharibyan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1472375835,"creation_date":1472373986,"answer_id":39189478,"question_id":7109388,"body_markdown":"**It&#39;s not good solution**\r\nif you use new DecimalFormat(&quot;0.#&quot;) you are missing data, for example \r\nPI = 3.14, but after parse you ae geting 3.1\r\n\r\nAnother solution to use eval%1 ?  (int)d : d \r\nthis time couse max integer limit , again missing data\r\n\r\nmy solution is working, but it&#39;s not good idea \r\n\r\n\r\n    res = removeLastChars(eval,&quot;.0&quot;);\r\n    \r\n    private String removeLastChars(double eval, String text){\r\n\r\n        String res = String.valueOf(eval);\r\n        int length = text.length();\r\n\r\n        if (res.length() &gt; length){\r\n            res = res.substring((res.length() - length), res.length()).equals(text)\r\n                    ? res.substring(0, (res.length() - length)) : res;\r\n        }\r\n\r\n        return res;\r\n    }","title":"Removing the .0 from a double","body":"<p><strong>It's not good solution</strong>\nif you use new DecimalFormat(\"0.#\") you are missing data, for example \nPI = 3.14, but after parse you ae geting 3.1</p>\n\n<p>Another solution to use eval%1 ?  (int)d : d \nthis time couse max integer limit , again missing data</p>\n\n<p>my solution is working, but it's not good idea </p>\n\n<pre><code>res = removeLastChars(eval,\".0\");\n\nprivate String removeLastChars(double eval, String text){\n\n    String res = String.valueOf(eval);\n    int length = text.length();\n\n    if (res.length() &gt; length){\n        res = res.substring((res.length() - length), res.length()).equals(text)\n                ? res.substring(0, (res.length() - length)) : res;\n    }\n\n    return res;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1211515,"reputation":949,"user_id":1179948,"accept_rate":100,"display_name":"Igor Bljahhin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683376986,"creation_date":1683376986,"answer_id":76188956,"question_id":7109388,"body_markdown":"Using Apache commons-lang:\r\n\r\n    StringUtils.removeEnd(String.valueOf(100d), &quot;.0&quot;)\r\n\r\ngives you &quot;100&quot; instead of &quot;100.0&quot;:\r\n\r\n    import org.apache.commons.lang3.StringUtils;\r\n    \r\n    System.out.println(String.valueOf(100d)); // output is &quot;100.0&quot;\r\n    System.out.println(StringUtils.removeEnd(String.valueOf(100d), &quot;.0&quot;)); // output is &quot;100&quot;","title":"Removing the .0 from a double","body":"<p>Using Apache commons-lang:</p>\n<pre><code>StringUtils.removeEnd(String.valueOf(100d), &quot;.0&quot;)\n</code></pre>\n<p>gives you &quot;100&quot; instead of &quot;100.0&quot;:</p>\n<pre><code>import org.apache.commons.lang3.StringUtils;\n\nSystem.out.println(String.valueOf(100d)); // output is &quot;100.0&quot;\nSystem.out.println(StringUtils.removeEnd(String.valueOf(100d), &quot;.0&quot;)); // output is &quot;100&quot;\n</code></pre>\n"}],"owner":{"account_id":369996,"reputation":315,"user_id":717673,"accept_rate":83,"display_name":"Josh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31805,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":7109460,"answer_count":5,"score":7,"last_activity_date":1683376986,"creation_date":1313678917,"question_id":7109388,"body_markdown":"I am trying to display numbers in a string dynamically, so if the number has decimal&#39;s display them but if not don&quot;t show the .0\r\n\r\nexample: display 5.5 as 5.5 and 5.0 as 5\r\n\r\nThis is what I have so far: (answer is a double) \r\n\r\n    double temp = answer;\r\n    long temp2 = (long) temp;\r\n    if (temp == temp2) {\r\n    output = String.valueOf(temp2);\r\n    System.out.println(output);\r\n\r\nthis work&#39;s fine up to about 1e18 then will error out because of the maximum size of a Long.\r\nSo how would I achieve this on bigger numbers like 5.43e86","title":"Removing the .0 from a double","body":"<p>I am trying to display numbers in a string dynamically, so if the number has decimal's display them but if not don\"t show the .0</p>\n\n<p>example: display 5.5 as 5.5 and 5.0 as 5</p>\n\n<p>This is what I have so far: (answer is a double) </p>\n\n<pre><code>double temp = answer;\nlong temp2 = (long) temp;\nif (temp == temp2) {\noutput = String.valueOf(temp2);\nSystem.out.println(output);\n</code></pre>\n\n<p>this work's fine up to about 1e18 then will error out because of the maximum size of a Long.\nSo how would I achieve this on bigger numbers like 5.43e86</p>\n"},{"tags":["java","jco"],"comments":[{"owner":{"account_id":1588557,"reputation":4497,"user_id":1472389,"accept_rate":88,"display_name":"Damien Overeem"},"score":3,"creation_date":1441196586,"post_id":32352985,"comment_id":52578997,"body_markdown":"I believe your question can very well be answer by taking the time to grab any form of documentation..","body":"I believe your question can very well be answer by taking the time to grab any form of documentation.."}],"answers":[{"tags":[],"owner":{"account_id":1626304,"reputation":169369,"user_id":1501794,"accept_rate":72,"display_name":"Rahul Tripathi"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1441196873,"creation_date":1441196873,"answer_id":32353162,"question_id":32352985,"body_markdown":"Straight from the [manual][1]:\r\n\r\n&gt; Call this method to get an instance of a destination, on which you\r\n&gt; need to execute a function module.\r\n\r\n\r\n  [1]: https://help.hana.ondemand.com/javadoc/com/sap/conn/jco/JCoDestinationManager.html","title":"What is JCoDestinationManager.getDestination for?","body":"<p>Straight from the <a href=\"https://help.hana.ondemand.com/javadoc/com/sap/conn/jco/JCoDestinationManager.html\" rel=\"nofollow\">manual</a>:</p>\n\n<blockquote>\n  <p>Call this method to get an instance of a destination, on which you\n  need to execute a function module.</p>\n</blockquote>\n"}],"owner":{"account_id":5266012,"reputation":29,"user_id":4205971,"display_name":"Saggy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1384,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1683376764,"creation_date":1441196425,"question_id":32352985,"body_markdown":"What is `JCoDestinationManager.getDestination` for?\r\n\r\n    private JCoDestination getConnection(String connectionPropertyFileName)\r\n\t{\r\n\t\tif (log.isInfoEnabled())\r\n\t\t{\r\n\t\t\tlog.info(&quot;Inside SAPJavaDefaultAdapter/getConnection()&quot;);\r\n\t\t}\r\n\r\n\t\ttry\r\n\t\t{\r\n\t\t\treturn JCoDestinationManager.getDestination(connectionPropertyFileName);\r\n\t\t}\r\n\t\tcatch (JCoException e)\r\n\t\t{\r\n\t\t\te.printStackTrace();\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}","title":"What is JCoDestinationManager.getDestination for?","body":"<p>What is <code>JCoDestinationManager.getDestination</code> for?</p>\n<pre><code>private JCoDestination getConnection(String connectionPropertyFileName)\n{\n    if (log.isInfoEnabled())\n    {\n        log.info(&quot;Inside SAPJavaDefaultAdapter/getConnection()&quot;);\n    }\n\n    try\n    {\n        return JCoDestinationManager.getDestination(connectionPropertyFileName);\n    }\n    catch (JCoException e)\n    {\n        e.printStackTrace();\n        return null;\n    }\n}\n</code></pre>\n"},{"tags":["java","jco","idoc"],"answers":[{"tags":[],"owner":{"account_id":542551,"reputation":10395,"user_id":911419,"accept_rate":79,"display_name":"Suncatcher"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1451148818,"creation_date":1451148818,"answer_id":34473332,"question_id":34219869,"body_markdown":"It is important to know for what purpose you need this ID. &lt;br&gt;[TID](http://help.sap.com/saphelp_46c/helpdata/en/52/16ac10543311d1891c0000e8322f96/content.htm?frameset=/en/52/16abf6543311d1891c0000e8322f96/frameset.htm&amp;current_toc=/en/19/3cf334c20ccc52e10000009b38f83b/plain.htm&amp;node_id=89) is used for checking consistency of communication with external system. Yes, it is globally unique, but in general transactional RFC (tRFC) it is used to prevent multiple execution in case of errors, not in case of successful calls. So it is generated not for every IDoc.&lt;br&gt;\r\nAnother unique ID is `DOCNUM` (IDoc number). It is SAP internal identifier that every created IDoc has. It can be found in `EDIDS` table along with TID and can be selected from there by TID. &lt;br&gt;Another way to get DOCNUM is launch FM `INBOUND_IDOCS_FOR_TID`.","title":"Is there any id that can be used for different idocs other than tid?","body":"<p>It is important to know for what purpose you need this ID. <br><a href=\"http://help.sap.com/saphelp_46c/helpdata/en/52/16ac10543311d1891c0000e8322f96/content.htm?frameset=/en/52/16abf6543311d1891c0000e8322f96/frameset.htm&amp;current_toc=/en/19/3cf334c20ccc52e10000009b38f83b/plain.htm&amp;node_id=89\" rel=\"nofollow\">TID</a> is used for checking consistency of communication with external system. Yes, it is globally unique, but in general transactional RFC (tRFC) it is used to prevent multiple execution in case of errors, not in case of successful calls. So it is generated not for every IDoc.<br>\nAnother unique ID is <code>DOCNUM</code> (IDoc number). It is SAP internal identifier that every created IDoc has. It can be found in <code>EDIDS</code> table along with TID and can be selected from there by TID. <br>Another way to get DOCNUM is launch FM <code>INBOUND_IDOCS_FOR_TID</code>.</p>\n"}],"owner":{"account_id":5665423,"reputation":29,"user_id":4481713,"accept_rate":0,"display_name":"shefali"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":145,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683376658,"creation_date":1449825400,"question_id":34219869,"body_markdown":"Is there any id that can be used for different IDocs other than Transaction ID (tid)?\r\n\r\nI am using `JCoServerTIDHandler` to get the tid.\r\n\r\nDo we have any other such unique ID or other related field that helps the purpose?","title":"Is there any id that can be used for different idocs other than tid?","body":"<p>Is there any id that can be used for different IDocs other than Transaction ID (tid)?</p>\n<p>I am using <code>JCoServerTIDHandler</code> to get the tid.</p>\n<p>Do we have any other such unique ID or other related field that helps the purpose?</p>\n"},{"tags":["java","exception","bapi","jco"],"answers":[{"tags":[],"owner":{"account_id":542551,"reputation":10395,"user_id":911419,"accept_rate":79,"display_name":"Suncatcher"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1453368380,"creation_date":1453284644,"answer_id":34897092,"question_id":34879550,"body_markdown":"Basic understanding of JCo exceptions can be achieved with [this description][1].\r\nAnd [SAP documentation][2] states this style of exception handling:\r\n\r\n    JCoDestination destination = JCoDestinationManager.getDestination(&quot;&lt;destination&gt;&quot;);\r\n    \r\n    try\r\n    {\r\n        JCoContext.begin(destination);\r\n        function1.execute(destination);\r\n        function2.execute(destination);\r\n        functionBapiTransactionCommit.execute(destination);\r\n    }\r\n    catch (AbapException ex)\r\n    {\r\n        ...\r\n    }\r\n    catch (JCoException ex)\r\n    {\r\n        ...\r\n    }\r\n    catch (Exception ex)\r\n    {\r\n        ...\r\n    }\r\n    finally\r\n    {\r\n        JCoContext.end(destination);\r\n    }\r\n\r\n\r\n  [1]: https://help.sap.com/saphelp_nwpi711/helpdata/en/48/5f97cb65c907dce10000000a42189d/content.htm?frameset=/en/48/634503d4e9501ae10000000a42189b/frameset.htm&amp;current_toc=/en/b4/3f9e64bff38c4f9a19635f57eb4248/plain.htm&amp;node_id=515\r\n  [2]: https://help.hana.ondemand.com/javadoc/com/sap/conn/jco/JCoContext.html","title":"When using SAP JCo (v3.0), how do I handle an exception during JCoContext.end()?","body":"<p>Basic understanding of JCo exceptions can be achieved with <a href=\"https://help.sap.com/saphelp_nwpi711/helpdata/en/48/5f97cb65c907dce10000000a42189d/content.htm?frameset=/en/48/634503d4e9501ae10000000a42189b/frameset.htm&amp;current_toc=/en/b4/3f9e64bff38c4f9a19635f57eb4248/plain.htm&amp;node_id=515\" rel=\"nofollow\">this description</a>.\nAnd <a href=\"https://help.hana.ondemand.com/javadoc/com/sap/conn/jco/JCoContext.html\" rel=\"nofollow\">SAP documentation</a> states this style of exception handling:</p>\n\n<pre><code>JCoDestination destination = JCoDestinationManager.getDestination(\"&lt;destination&gt;\");\n\ntry\n{\n    JCoContext.begin(destination);\n    function1.execute(destination);\n    function2.execute(destination);\n    functionBapiTransactionCommit.execute(destination);\n}\ncatch (AbapException ex)\n{\n    ...\n}\ncatch (JCoException ex)\n{\n    ...\n}\ncatch (Exception ex)\n{\n    ...\n}\nfinally\n{\n    JCoContext.end(destination);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3675552,"reputation":1193,"user_id":3061739,"display_name":"g8torPaul"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1453398811,"creation_date":1453398811,"answer_id":34930889,"question_id":34879550,"body_markdown":"The question was answered by an SAP employee on the SCN forums. I cross-posted the issue there. Here is the link:\r\n\r\n[SAP Forum Question: SAP JCo: How to handle an Exception thrown by JCoContext.end()][1]\r\n\r\nAs a summary, the JCoContext.end() method should only raise an Exception if the &quot;destination&quot; parameter that is passed in is NULL or there is a bug in the SAP JCO. So, you must ensure that the &quot;destination&quot; is non-null. If you encounter another issue, submit a support ticket to SAP. \r\n\r\nOver and out.\r\n\r\n-Paul\r\n\r\n\r\n  [1]: http://scn.sap.com/thread/3852179","title":"When using SAP JCo (v3.0), how do I handle an exception during JCoContext.end()?","body":"<p>The question was answered by an SAP employee on the SCN forums. I cross-posted the issue there. Here is the link:</p>\n\n<p><a href=\"http://scn.sap.com/thread/3852179\" rel=\"nofollow\">SAP Forum Question: SAP JCo: How to handle an Exception thrown by JCoContext.end()</a></p>\n\n<p>As a summary, the JCoContext.end() method should only raise an Exception if the \"destination\" parameter that is passed in is NULL or there is a bug in the SAP JCO. So, you must ensure that the \"destination\" is non-null. If you encounter another issue, submit a support ticket to SAP. </p>\n\n<p>Over and out.</p>\n\n<p>-Paul</p>\n"}],"owner":{"account_id":3675552,"reputation":1193,"user_id":3061739,"display_name":"g8torPaul"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1297,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":34930889,"answer_count":2,"score":1,"last_activity_date":1683376524,"creation_date":1453214159,"question_id":34879550,"body_markdown":"All, \r\n\r\nWe have currently developed a Java client application that communicates with SAP via the JCo v3.0 API. During a stateful call, where multiple BAPI functions are invoked, we use the `JCoContext` class to establish a stateful session. We call `JCoContext.begin()` before the JCoFunctions are executed and `JCoContext.end()` in a `finally` block after all functions are complete. \r\n\r\nThe problem arises on `JCoContext.end()`. It could potentially raise a `JCoException`. The documentation is not very clear on why an exception may occur or how to handle it. In testing, I have been able to observe an exception when a NULL destination is passed to the `JCoContext.end()` method. While this can occur, it most definitely will not occur in our production code. So the question remains, are there any other reasons why an exception would be raised?\r\n\r\nAlso, I have observed strange behavior if the `JCoContext.end()` method is not invoked. In those cases, I have seen subsequent BAPI calls not complete successfully. This indicates to me that if the `end()` method does not complete successfully, it could leave the JCo in a bad state. So, how should we handle an exception that occurs here. What recourse do I have as a developer? It appears that the only guarantee I have is to shut the program down. \r\n\r\nLet me know if you have any ideas, thanks, \r\n\r\nPaul Manning","title":"When using SAP JCo (v3.0), how do I handle an exception during JCoContext.end()?","body":"<p>All,</p>\n<p>We have currently developed a Java client application that communicates with SAP via the JCo v3.0 API. During a stateful call, where multiple BAPI functions are invoked, we use the <code>JCoContext</code> class to establish a stateful session. We call <code>JCoContext.begin()</code> before the JCoFunctions are executed and <code>JCoContext.end()</code> in a <code>finally</code> block after all functions are complete.</p>\n<p>The problem arises on <code>JCoContext.end()</code>. It could potentially raise a <code>JCoException</code>. The documentation is not very clear on why an exception may occur or how to handle it. In testing, I have been able to observe an exception when a NULL destination is passed to the <code>JCoContext.end()</code> method. While this can occur, it most definitely will not occur in our production code. So the question remains, are there any other reasons why an exception would be raised?</p>\n<p>Also, I have observed strange behavior if the <code>JCoContext.end()</code> method is not invoked. In those cases, I have seen subsequent BAPI calls not complete successfully. This indicates to me that if the <code>end()</code> method does not complete successfully, it could leave the JCo in a bad state. So, how should we handle an exception that occurs here. What recourse do I have as a developer? It appears that the only guarantee I have is to shut the program down.</p>\n<p>Let me know if you have any ideas, thanks,</p>\n<p>Paul Manning</p>\n"},{"tags":["java","apache-kafka","kafka-consumer-api"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1683376226,"post_id":76188278,"comment_id":134359205,"body_markdown":"That command will only work for an existing group with stored offsets","body":"That command will only work for an existing group with stored offsets"}],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1683376315,"creation_date":1683376315,"answer_id":76188904,"question_id":76188278,"body_markdown":"You don&#39;t need to use that command. In your consumer code, you could use `offsetsForTime` and `seek` function of consumer instance to go to the timestamp you want ","title":"How should I properly create a new consumer group and reset the offset from all topics in kakfa CLI?","body":"<p>You don't need to use that command. In your consumer code, you could use <code>offsetsForTime</code> and <code>seek</code> function of consumer instance to go to the timestamp you want</p>\n"}],"owner":{"account_id":23822186,"reputation":13,"user_id":17829722,"display_name":"ewainchoi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76188904,"answer_count":1,"score":0,"last_activity_date":1683376315,"creation_date":1683367278,"question_id":76188278,"body_markdown":"I have 1000+ topics in my kakfa, each topic contains 14 days of data, about 1.2 billion messages.\r\n\r\nI created a new consumer group: groupA, and executed the command to reset the offset.\r\n\r\n```\r\nsh kafka-consumer-groups.sh --reset-offsets --execute --to-datetime &quot;2023-05-03T00:00:00.000&quot; --group groupA --bootstrap-server kfk-data- 001:9092,kfk-data-002:9092,kfk-data-003:9092 --all-topics\r\n```\r\n\r\nBut it didn&#39;t work as I expected, I tried to use groupA pull data in Java, and it still consumes the starting data for each topics.\r\n\r\nHow should I properly create the group and reset the offset from all topics?\r\n\r\n","title":"How should I properly create a new consumer group and reset the offset from all topics in kakfa CLI?","body":"<p>I have 1000+ topics in my kakfa, each topic contains 14 days of data, about 1.2 billion messages.</p>\n<p>I created a new consumer group: groupA, and executed the command to reset the offset.</p>\n<pre><code>sh kafka-consumer-groups.sh --reset-offsets --execute --to-datetime &quot;2023-05-03T00:00:00.000&quot; --group groupA --bootstrap-server kfk-data- 001:9092,kfk-data-002:9092,kfk-data-003:9092 --all-topics\n</code></pre>\n<p>But it didn't work as I expected, I tried to use groupA pull data in Java, and it still consumes the starting data for each topics.</p>\n<p>How should I properly create the group and reset the offset from all topics?</p>\n"},{"tags":["java","swing","button"],"comments":[{"owner":{"account_id":9059972,"reputation":3080,"user_id":6746785,"display_name":"gthanop"},"score":0,"creation_date":1683375386,"post_id":76188830,"comment_id":134359126,"body_markdown":"Seems like you are using Swing. You can tag your question with Swing tag in order to attract corresponding attention. Please also provide a [mre].","body":"Seems like you are using Swing. You can tag your question with Swing tag in order to attract corresponding attention. Please also provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1683377813,"post_id":76188830,"comment_id":134359397,"body_markdown":"do some research, apply what you learned, when stuck come back with a [mcve] demonstrating what&#39;s not working as expected. That said: __do not__ add components as data, instead implement a custom renderer/editor showing a button (and go through the usual steps to make it clickable, you&#39;ll find examples when doing research :)","body":"do some research, apply what you learned, when stuck come back with a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> demonstrating what&#39;s not working as expected. That said: <b>do not</b> add components as data, instead implement a custom renderer/editor showing a button (and go through the usual steps to make it clickable, you&#39;ll find examples when doing research :)"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1683381224,"post_id":76188830,"comment_id":134359826,"body_markdown":"Check out [Table Button Column](https://tips4java.wordpress.com/2009/07/12/table-button-column/) for one approach.","body":"Check out <a href=\"https://tips4java.wordpress.com/2009/07/12/table-button-column/\" rel=\"nofollow noreferrer\">Table Button Column</a> for one approach."},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1683382203,"post_id":76188830,"comment_id":134359930,"body_markdown":"Using `JButtons` in a `JTable` is not a user-friendly design.  It&#39;s too easy to left-click the wrong button when the `JButtons` are that close to each other.  A better design is to allow the user to select a `JTable` row by left-clicking on the row and left-clicking on the one `JButton` below the `JTable`.","body":"Using <code>JButtons</code> in a <code>JTable</code> is not a user-friendly design.  It&#39;s too easy to left-click the wrong button when the <code>JButtons</code> are that close to each other.  A better design is to allow the user to select a <code>JTable</code> row by left-clicking on the row and left-clicking on the one <code>JButton</code> below the <code>JTable</code>."}],"owner":{"account_id":23451552,"reputation":9,"user_id":17507633,"display_name":"2307lucas"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1683375973,"creation_date":1683375219,"question_id":76188830,"body_markdown":"Alright so I am working on a project where I have made an application in java that should represent a loan system which connects to a user database and product database. I have a homepage where the user can select a category and when that button is pressed it displays what is inside that category in the database. Then I want to add a button out from each item that it displays but no matter what I do it will not show. Hope you can help. \r\n\r\nI am still pretty new to Java, my first project in this language.  \r\n\r\n\r\n```\r\npublic class ProductTable {\r\n\r\n    //Building table for display of products on storage\r\n    public static DefaultTableModel buildTableModel(ResultSet rs) throws SQLException {\r\n\r\n        ResultSetMetaData metaData = rs.getMetaData();\r\n\r\n        // names of columns\r\n        Vector&lt;String&gt; columnNames = new Vector&lt;String&gt;();\r\n        int columnCount = metaData.getColumnCount();\r\n        for (int column = 1; column &lt;= columnCount; column++) {\r\n            columnNames.add(metaData.getColumnName(column));\r\n        }\r\n\r\n        // add button column\r\n        columnNames.add(&quot;Loan&quot;);\r\n\r\n        // data of the table\r\n        Vector&lt;Vector&lt;Object&gt;&gt; data = new Vector&lt;Vector&lt;Object&gt;&gt;();\r\n        while (rs.next()) {\r\n            Vector&lt;Object&gt; row = new Vector&lt;Object&gt;();\r\n            for (int columnIndex = 1; columnIndex &lt;= columnCount; columnIndex++) {\r\n                row.add(rs.getObject(columnIndex));\r\n            }\r\n\r\n            // add button to row\r\n            JButton button = new JButton(&quot;Register&quot;);\r\n\r\n\r\n\r\n            button.addActionListener(new ActionListener() {\r\n                @Override\r\n                public void actionPerformed(ActionEvent e) {\r\n                    // handle button click\r\n                }\r\n            });\r\n            row.add(button);\r\n\r\n            data.add(row);\r\n        }\r\n\r\n        return new DefaultTableModel(data, columnNames);\r\n    }\r\n}\r\n```\r\n\r\nThis is the image of how it looks when it am running it:\r\n[![enter image description here][1]][1]\r\n\r\nI am pretty stuck because I have tried many things. But no matter if I add a panel to the homepage or my table model it will not display. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/245aq.png","title":"Displaying button on table from database","body":"<p>Alright so I am working on a project where I have made an application in java that should represent a loan system which connects to a user database and product database. I have a homepage where the user can select a category and when that button is pressed it displays what is inside that category in the database. Then I want to add a button out from each item that it displays but no matter what I do it will not show. Hope you can help.</p>\n<p>I am still pretty new to Java, my first project in this language.</p>\n<pre><code>public class ProductTable {\n\n    //Building table for display of products on storage\n    public static DefaultTableModel buildTableModel(ResultSet rs) throws SQLException {\n\n        ResultSetMetaData metaData = rs.getMetaData();\n\n        // names of columns\n        Vector&lt;String&gt; columnNames = new Vector&lt;String&gt;();\n        int columnCount = metaData.getColumnCount();\n        for (int column = 1; column &lt;= columnCount; column++) {\n            columnNames.add(metaData.getColumnName(column));\n        }\n\n        // add button column\n        columnNames.add(&quot;Loan&quot;);\n\n        // data of the table\n        Vector&lt;Vector&lt;Object&gt;&gt; data = new Vector&lt;Vector&lt;Object&gt;&gt;();\n        while (rs.next()) {\n            Vector&lt;Object&gt; row = new Vector&lt;Object&gt;();\n            for (int columnIndex = 1; columnIndex &lt;= columnCount; columnIndex++) {\n                row.add(rs.getObject(columnIndex));\n            }\n\n            // add button to row\n            JButton button = new JButton(&quot;Register&quot;);\n\n\n\n            button.addActionListener(new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    // handle button click\n                }\n            });\n            row.add(button);\n\n            data.add(row);\n        }\n\n        return new DefaultTableModel(data, columnNames);\n    }\n}\n</code></pre>\n<p>This is the image of how it looks when it am running it:\n<a href=\"https://i.stack.imgur.com/245aq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/245aq.png\" alt=\"enter image description here\" /></a></p>\n<p>I am pretty stuck because I have tried many things. But no matter if I add a panel to the homepage or my table model it will not display.</p>\n"},{"tags":["java","swagger","openapi"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1683376395,"post_id":76188747,"comment_id":134359223,"body_markdown":"&quot;little extra as possible&quot; : tried &quot;the defaults&quot; (omitting any openapi annotations)!?","body":"&quot;little extra as possible&quot; : tried &quot;the defaults&quot; (omitting any openapi annotations)!?"},{"owner":{"account_id":17654983,"reputation":115,"user_id":12814777,"display_name":"dataman"},"score":1,"creation_date":1683395138,"post_id":76188747,"comment_id":134361558,"body_markdown":"@xerx593 yeah that seems to be the best solution actually","body":"@xerx593 yeah that seems to be the best solution actually"},{"owner":{"account_id":17654983,"reputation":115,"user_id":12814777,"display_name":"dataman"},"score":0,"creation_date":1683494712,"post_id":76188747,"comment_id":134371796,"body_markdown":"@xerx593 if you can copy your comment into an answer, I can accept it","body":"@xerx593 if you can copy your comment into an answer, I can accept it"}],"owner":{"account_id":17654983,"reputation":115,"user_id":12814777,"display_name":"dataman"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":336,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1683375830,"creation_date":1683374429,"question_id":76188747,"body_markdown":"In migrating from Springboot 2 to Springboot 3, we of course have to change our swagger annotations from Swagger 2 to OpenAPI. \r\nIn our controller classes, we have a ton of endpoint methods that start out decorated with just one line like this:\r\n\r\n    @ApiOperation(value = &quot;Create Employee&quot;, response = EmployeeResponse.class)\r\n\r\nBut with the new open API spec, the closest syntax I could find to replace that is \r\n\r\n    @Operation( summary = &quot;create Employee&quot;, \r\n       responses = { \r\n            @ApiResponse(responseCode = &quot;200&quot;, description = &quot;Success&quot;, \r\n                content = @Content(mediaType = MediaType.APPLICATION_JSON_VALUE, \r\n                schema = @Schema(implementation = EmployeeResponse.class)))\r\n        }\t\r\n\r\nIsn&#39;t there a more concise way to provide the equivalent response class without all the extra repeated boilerplate noise?\r\n\r\nHopefully some way to just specify the class name like before with as little extra as possible. After all, if that extra boilerplate code wasn&#39;t necessary before, it shouldn&#39;t be necessary now\r\n\r\n","title":"Is there more concise way to specify OpenAPI @Operation response class?","body":"<p>In migrating from Springboot 2 to Springboot 3, we of course have to change our swagger annotations from Swagger 2 to OpenAPI.\nIn our controller classes, we have a ton of endpoint methods that start out decorated with just one line like this:</p>\n<pre><code>@ApiOperation(value = &quot;Create Employee&quot;, response = EmployeeResponse.class)\n</code></pre>\n<p>But with the new open API spec, the closest syntax I could find to replace that is</p>\n<pre><code>@Operation( summary = &quot;create Employee&quot;, \n   responses = { \n        @ApiResponse(responseCode = &quot;200&quot;, description = &quot;Success&quot;, \n            content = @Content(mediaType = MediaType.APPLICATION_JSON_VALUE, \n            schema = @Schema(implementation = EmployeeResponse.class)))\n    }   \n</code></pre>\n<p>Isn't there a more concise way to provide the equivalent response class without all the extra repeated boilerplate noise?</p>\n<p>Hopefully some way to just specify the class name like before with as little extra as possible. After all, if that extra boilerplate code wasn't necessary before, it shouldn't be necessary now</p>\n"},{"tags":["java","android","xml","android-layout","android-fragments"],"answers":[{"tags":[],"owner":{"account_id":19682683,"reputation":11,"user_id":14409434,"display_name":"DrApps"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683375170,"creation_date":1683375170,"answer_id":76188823,"question_id":76188394,"body_markdown":"It is because your startDestination in **mobile_navigation.xml** file is **HomeFragment**\r\n\r\nChange your startDestination to **LoginFragment** and then navigate to the **HomeFragment** when the user is logged in. \r\n\r\nYou can read more about android navigation from here - https://developer.android.com/guide/navigation/navigation-getting-started","title":"Display Login Screen When User Is Not Logged In Android","body":"<p>It is because your startDestination in <strong>mobile_navigation.xml</strong> file is <strong>HomeFragment</strong></p>\n<p>Change your startDestination to <strong>LoginFragment</strong> and then navigate to the <strong>HomeFragment</strong> when the user is logged in.</p>\n<p>You can read more about android navigation from here - <a href=\"https://developer.android.com/guide/navigation/navigation-getting-started\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/navigation/navigation-getting-started</a></p>\n"}],"owner":{"account_id":23934400,"reputation":27,"user_id":17928367,"display_name":"Zagro"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683375170,"creation_date":1683368931,"question_id":76188394,"body_markdown":"I want to show the user a login screen when opening the app but I don&#39;t know how to display it. It currently just displays my home screen and I want it to display my login screen instead.\r\nI would appreciate every answer.\r\n\r\nHere is my code:\r\n\r\nactivity_main.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:id=&quot;@+id/container&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:background=&quot;@color/gray_background&quot;&gt;\r\n\r\n    &lt;androidx.appcompat.widget.Toolbar\r\n        android:id=&quot;@+id/toolbar&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:background=&quot;@color/indigo_600&quot;\r\n        android:theme=&quot;@style/ThemeOverlay.AppCompat.Dark.ActionBar&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:title=&quot;@string/username&quot;\r\n        app:titleTextColor=&quot;@color/black&quot;&gt;\r\n\r\n        &lt;ImageView\r\n            android:id=&quot;@+id/userIconToolbar&quot;\r\n            android:layout_width=&quot;40dp&quot;\r\n            android:layout_height=&quot;40dp&quot;\r\n            android:layout_gravity=&quot;end&quot;\r\n            android:layout_marginEnd=&quot;10dp&quot;\r\n            android:backgroundTint=&quot;#000000&quot;\r\n            android:clickable=&quot;true&quot;\r\n            android:src=&quot;@drawable/user_pb_default&quot; /&gt;\r\n    &lt;/androidx.appcompat.widget.Toolbar&gt;\r\n\r\n    &lt;fragment\r\n        android:id=&quot;@+id/nav_host_fragment_activity_main&quot;\r\n        android:name=&quot;androidx.navigation.fragment.NavHostFragment&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;0dp&quot;\r\n        app:defaultNavHost=&quot;true&quot;\r\n        app:layout_constraintBottom_toTopOf=&quot;@id/nav_view&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@id/toolbar&quot;\r\n        app:layout_constraintVertical_bias=&quot;1.0&quot;\r\n        app:navGraph=&quot;@navigation/mobile_navigation&quot; /&gt;\r\n\r\n    &lt;com.google.android.material.bottomnavigation.BottomNavigationView\r\n        android:id=&quot;@+id/nav_view&quot;\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:background=&quot;@color/gray_highlight&quot;\r\n        app:itemIconTint=&quot;@drawable/bottom_nav_item_color&quot;\r\n        app:itemTextColor=&quot;@drawable/bottom_nav_item_color&quot;\r\n        app:labelVisibilityMode=&quot;labeled&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n        app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n        app:menu=&quot;@menu/bottom_nav_menu&quot; /&gt;\r\n\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\n\r\nfragment_login.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:id=&quot;@+id/login_fragment&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    tools:context=&quot;.ui.login.LoginFragment&quot;&gt;\r\n\r\n    &lt;TextView\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;ShitChat&quot;\r\n        android:textAlignment=&quot;center&quot;\r\n        android:textSize=&quot;40sp&quot;\r\n        android:textStyle=&quot;bold&quot;\r\n        app:layout_constraintBottom_toTopOf=&quot;@+id/login_credentials&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n    &lt;LinearLayout\r\n        android:id=&quot;@+id/login_credentials&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:gravity=&quot;center&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\r\n\r\n        &lt;LinearLayout\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginBottom=&quot;30dp&quot;\r\n            android:gravity=&quot;center&quot;\r\n            android:orientation=&quot;vertical&quot;&gt;\r\n\r\n            &lt;TextView\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:text=&quot;Username&quot;\r\n                android:textSize=&quot;20sp&quot;\r\n                android:textStyle=&quot;bold&quot; /&gt;\r\n\r\n            &lt;EditText\r\n                android:id=&quot;@+id/login_username&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:background=&quot;@drawable/layout_recent_message_bg&quot;\r\n                android:ems=&quot;10&quot;\r\n                android:textSize=&quot;25sp&quot; /&gt;\r\n        &lt;/LinearLayout&gt;\r\n\r\n        &lt;LinearLayout\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:gravity=&quot;center&quot;\r\n            android:orientation=&quot;vertical&quot;&gt;\r\n\r\n            &lt;TextView\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:text=&quot;Password&quot;\r\n                android:textSize=&quot;20sp&quot;\r\n                android:textStyle=&quot;bold&quot; /&gt;\r\n\r\n            &lt;EditText\r\n                android:id=&quot;@+id/login_password&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:background=&quot;@drawable/layout_recent_message_bg&quot;\r\n                android:ems=&quot;10&quot;\r\n                android:textSize=&quot;25sp&quot; /&gt;\r\n        &lt;/LinearLayout&gt;\r\n    &lt;/LinearLayout&gt;\r\n\r\n    &lt;Button\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;60dp&quot;\r\n        android:backgroundTint=&quot;@color/indigo_400&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@id/login_credentials&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        android:layout_marginStart=&quot;50dp&quot;\r\n        android:layout_marginEnd=&quot;50dp&quot;\r\n        android:text=&quot;LOGIN&quot;/&gt;\r\n\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\n\r\nfragment_home.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;ScrollView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.ui.home.HomeFragment&quot;&gt;\r\n\r\n    &lt;LinearLayout\r\n        android:id=&quot;@+id/home_view&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/home_recent_direct_text&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;Recent Direct Messages&quot;\r\n            android:textSize=&quot;20sp&quot;\r\n            android:layout_marginTop=&quot;10dp&quot;\r\n            android:layout_marginBottom=&quot;10dp&quot;\r\n            android:paddingStart=&quot;10dp&quot;\r\n            android:textColor=&quot;#D4D4D4&quot;\r\n            android:textStyle=&quot;bold&quot;/&gt;\r\n\r\n        &lt;androidx.recyclerview.widget.RecyclerView\r\n            android:id=&quot;@+id/recent_recycler_direct&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:nestedScrollingEnabled=&quot;false&quot;/&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/home_recent_groups_text&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;Recent Group Messages&quot;\r\n            android:textSize=&quot;20sp&quot;\r\n            android:layout_marginTop=&quot;20dp&quot;\r\n            android:layout_marginBottom=&quot;10dp&quot;\r\n            android:paddingStart=&quot;10dp&quot;\r\n            android:textColor=&quot;#D4D4D4&quot;\r\n            android:textStyle=&quot;bold&quot;/&gt;\r\n\r\n        &lt;androidx.recyclerview.widget.RecyclerView\r\n            android:id=&quot;@+id/recent_recycler_groups&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:nestedScrollingEnabled=&quot;false&quot;/&gt;\r\n\r\n    &lt;/LinearLayout&gt;\r\n\r\n&lt;/ScrollView&gt;\r\n```\r\n\r\nMainActivity.java\r\n```\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    private ActivityMainBinding binding;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n\r\n        binding = ActivityMainBinding.inflate(getLayoutInflater());\r\n        setContentView(binding.getRoot());\r\n\r\n        Toolbar toolbar = findViewById(R.id.toolbar);\r\n        setSupportActionBar(toolbar);\r\n        toolbarUserIconClick();\r\n\r\n        BottomNavigationView navView = findViewById(R.id.nav_view);\r\n\r\n        AppBarConfiguration appBarConfiguration = new AppBarConfiguration.Builder(R.id.navigation_home, R.id.navigation_direct, R.id.navigation_groups, R.id.navigation_settings).build();\r\n        NavController navController = Navigation.findNavController(this, R.id.nav_host_fragment_activity_main);\r\n        NavigationUI.setupWithNavController(binding.navView, navController);\r\n\r\n        if (!isUserLoggedIn())\r\n        {\r\n            toolbar.setVisibility(View.GONE);\r\n            navView.setVisibility(View.GONE);\r\n        }\r\n\r\n    }\r\n\r\n    private boolean isUserLoggedIn()\r\n    {\r\n        return false;\r\n    }\r\n\r\n    public void toolbarUserIconClick()\r\n    {\r\n        ImageView imageView = (ImageView) findViewById(R.id.userIconToolbar);\r\n        imageView.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                //Link To Profile Settings Here\r\n                Toast.makeText(getBaseContext(), &quot;Hello World&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n    }\r\n}\r\n```","title":"Display Login Screen When User Is Not Logged In Android","body":"<p>I want to show the user a login screen when opening the app but I don't know how to display it. It currently just displays my home screen and I want it to display my login screen instead.\nI would appreciate every answer.</p>\n<p>Here is my code:</p>\n<p>activity_main.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:id=&quot;@+id/container&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:background=&quot;@color/gray_background&quot;&gt;\n\n    &lt;androidx.appcompat.widget.Toolbar\n        android:id=&quot;@+id/toolbar&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:background=&quot;@color/indigo_600&quot;\n        android:theme=&quot;@style/ThemeOverlay.AppCompat.Dark.ActionBar&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:title=&quot;@string/username&quot;\n        app:titleTextColor=&quot;@color/black&quot;&gt;\n\n        &lt;ImageView\n            android:id=&quot;@+id/userIconToolbar&quot;\n            android:layout_width=&quot;40dp&quot;\n            android:layout_height=&quot;40dp&quot;\n            android:layout_gravity=&quot;end&quot;\n            android:layout_marginEnd=&quot;10dp&quot;\n            android:backgroundTint=&quot;#000000&quot;\n            android:clickable=&quot;true&quot;\n            android:src=&quot;@drawable/user_pb_default&quot; /&gt;\n    &lt;/androidx.appcompat.widget.Toolbar&gt;\n\n    &lt;fragment\n        android:id=&quot;@+id/nav_host_fragment_activity_main&quot;\n        android:name=&quot;androidx.navigation.fragment.NavHostFragment&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;0dp&quot;\n        app:defaultNavHost=&quot;true&quot;\n        app:layout_constraintBottom_toTopOf=&quot;@id/nav_view&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@id/toolbar&quot;\n        app:layout_constraintVertical_bias=&quot;1.0&quot;\n        app:navGraph=&quot;@navigation/mobile_navigation&quot; /&gt;\n\n    &lt;com.google.android.material.bottomnavigation.BottomNavigationView\n        android:id=&quot;@+id/nav_view&quot;\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:background=&quot;@color/gray_highlight&quot;\n        app:itemIconTint=&quot;@drawable/bottom_nav_item_color&quot;\n        app:itemTextColor=&quot;@drawable/bottom_nav_item_color&quot;\n        app:labelVisibilityMode=&quot;labeled&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\n        app:layout_constraintRight_toRightOf=&quot;parent&quot;\n        app:menu=&quot;@menu/bottom_nav_menu&quot; /&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>fragment_login.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:id=&quot;@+id/login_fragment&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    tools:context=&quot;.ui.login.LoginFragment&quot;&gt;\n\n    &lt;TextView\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;ShitChat&quot;\n        android:textAlignment=&quot;center&quot;\n        android:textSize=&quot;40sp&quot;\n        android:textStyle=&quot;bold&quot;\n        app:layout_constraintBottom_toTopOf=&quot;@+id/login_credentials&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n    &lt;LinearLayout\n        android:id=&quot;@+id/login_credentials&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:gravity=&quot;center&quot;\n        android:orientation=&quot;vertical&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\n\n        &lt;LinearLayout\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_marginBottom=&quot;30dp&quot;\n            android:gravity=&quot;center&quot;\n            android:orientation=&quot;vertical&quot;&gt;\n\n            &lt;TextView\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:text=&quot;Username&quot;\n                android:textSize=&quot;20sp&quot;\n                android:textStyle=&quot;bold&quot; /&gt;\n\n            &lt;EditText\n                android:id=&quot;@+id/login_username&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:background=&quot;@drawable/layout_recent_message_bg&quot;\n                android:ems=&quot;10&quot;\n                android:textSize=&quot;25sp&quot; /&gt;\n        &lt;/LinearLayout&gt;\n\n        &lt;LinearLayout\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:gravity=&quot;center&quot;\n            android:orientation=&quot;vertical&quot;&gt;\n\n            &lt;TextView\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:text=&quot;Password&quot;\n                android:textSize=&quot;20sp&quot;\n                android:textStyle=&quot;bold&quot; /&gt;\n\n            &lt;EditText\n                android:id=&quot;@+id/login_password&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:background=&quot;@drawable/layout_recent_message_bg&quot;\n                android:ems=&quot;10&quot;\n                android:textSize=&quot;25sp&quot; /&gt;\n        &lt;/LinearLayout&gt;\n    &lt;/LinearLayout&gt;\n\n    &lt;Button\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;60dp&quot;\n        android:backgroundTint=&quot;@color/indigo_400&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@id/login_credentials&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        android:layout_marginStart=&quot;50dp&quot;\n        android:layout_marginEnd=&quot;50dp&quot;\n        android:text=&quot;LOGIN&quot;/&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>fragment_home.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;ScrollView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.ui.home.HomeFragment&quot;&gt;\n\n    &lt;LinearLayout\n        android:id=&quot;@+id/home_view&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:orientation=&quot;vertical&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/home_recent_direct_text&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:text=&quot;Recent Direct Messages&quot;\n            android:textSize=&quot;20sp&quot;\n            android:layout_marginTop=&quot;10dp&quot;\n            android:layout_marginBottom=&quot;10dp&quot;\n            android:paddingStart=&quot;10dp&quot;\n            android:textColor=&quot;#D4D4D4&quot;\n            android:textStyle=&quot;bold&quot;/&gt;\n\n        &lt;androidx.recyclerview.widget.RecyclerView\n            android:id=&quot;@+id/recent_recycler_direct&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:nestedScrollingEnabled=&quot;false&quot;/&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/home_recent_groups_text&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:text=&quot;Recent Group Messages&quot;\n            android:textSize=&quot;20sp&quot;\n            android:layout_marginTop=&quot;20dp&quot;\n            android:layout_marginBottom=&quot;10dp&quot;\n            android:paddingStart=&quot;10dp&quot;\n            android:textColor=&quot;#D4D4D4&quot;\n            android:textStyle=&quot;bold&quot;/&gt;\n\n        &lt;androidx.recyclerview.widget.RecyclerView\n            android:id=&quot;@+id/recent_recycler_groups&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:nestedScrollingEnabled=&quot;false&quot;/&gt;\n\n    &lt;/LinearLayout&gt;\n\n&lt;/ScrollView&gt;\n</code></pre>\n<p>MainActivity.java</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    private ActivityMainBinding binding;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n        binding = ActivityMainBinding.inflate(getLayoutInflater());\n        setContentView(binding.getRoot());\n\n        Toolbar toolbar = findViewById(R.id.toolbar);\n        setSupportActionBar(toolbar);\n        toolbarUserIconClick();\n\n        BottomNavigationView navView = findViewById(R.id.nav_view);\n\n        AppBarConfiguration appBarConfiguration = new AppBarConfiguration.Builder(R.id.navigation_home, R.id.navigation_direct, R.id.navigation_groups, R.id.navigation_settings).build();\n        NavController navController = Navigation.findNavController(this, R.id.nav_host_fragment_activity_main);\n        NavigationUI.setupWithNavController(binding.navView, navController);\n\n        if (!isUserLoggedIn())\n        {\n            toolbar.setVisibility(View.GONE);\n            navView.setVisibility(View.GONE);\n        }\n\n    }\n\n    private boolean isUserLoggedIn()\n    {\n        return false;\n    }\n\n    public void toolbarUserIconClick()\n    {\n        ImageView imageView = (ImageView) findViewById(R.id.userIconToolbar);\n        imageView.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                //Link To Profile Settings Here\n                Toast.makeText(getBaseContext(), &quot;Hello World&quot;, Toast.LENGTH_SHORT).show();\n            }\n        });\n    }\n}\n</code></pre>\n"},{"tags":["java","steam"],"answers":[{"tags":[],"owner":{"account_id":16833892,"reputation":120,"user_id":12171116,"display_name":"Broccoli_Salad"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1683358285,"creation_date":1683358285,"answer_id":76187662,"question_id":76187552,"body_markdown":"You can make default supplier that returns `0` if the group is empty.\r\n\r\n\r\n```java\r\nList&lt;Person&gt; users = Arrays.asList(\r\n    new Person(18, &quot;张三&quot;, &quot;123&quot;, 1),\r\n    new Person(19, &quot;李四&quot;, &quot;124&quot;, 0),\r\n    new Person(20, &quot;王五&quot;, &quot;125&quot;, 1),\r\n    new Person(24, &quot;孙八&quot;, &quot;128&quot;, 0),\r\n    new Person(27, &quot;周九&quot;, &quot;129&quot;, 1)\r\n); \r\n\r\n// Create a default Map with all possible age groups and a count of zero for each age group\r\nSupplier&lt;Map&lt;String, Long&gt;&gt; defaultMapSupplier = () -&gt; Stream.of(&quot;18-20&quot;, &quot;21-23&quot;, &quot;24-26&quot;, &quot;else&quot;)\r\n        .collect(Collectors.toMap(ageGroup -&gt; ageGroup, ageGroup -&gt; 0L));\r\n\r\nMap&lt;String, Long&gt; ageCountMap = users.stream()\r\n    .collect(Collectors.groupingBy(\r\n            u -&gt; {\r\n                int age = u.getAge();\r\n                if (age &gt;= 18 &amp;&amp; age &lt;= 20) { return &quot;18-20&quot;; }\r\n                else if (age &gt;= 21 &amp;&amp; age &lt;= 23) { return &quot;21-23&quot;; }\r\n                else if (age &gt;= 24 &amp;&amp; age &lt;= 26) { return &quot;24-26&quot;; }\r\n                else { return &quot;else&quot;; }\r\n            },\r\n            defaultMapSupplier,\r\n            Collectors.counting()\r\n    ));\r\n```","title":"This java steam does not return the correct value","body":"<p>You can make default supplier that returns <code>0</code> if the group is empty.</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Person&gt; users = Arrays.asList(\n    new Person(18, &quot;张三&quot;, &quot;123&quot;, 1),\n    new Person(19, &quot;李四&quot;, &quot;124&quot;, 0),\n    new Person(20, &quot;王五&quot;, &quot;125&quot;, 1),\n    new Person(24, &quot;孙八&quot;, &quot;128&quot;, 0),\n    new Person(27, &quot;周九&quot;, &quot;129&quot;, 1)\n); \n\n// Create a default Map with all possible age groups and a count of zero for each age group\nSupplier&lt;Map&lt;String, Long&gt;&gt; defaultMapSupplier = () -&gt; Stream.of(&quot;18-20&quot;, &quot;21-23&quot;, &quot;24-26&quot;, &quot;else&quot;)\n        .collect(Collectors.toMap(ageGroup -&gt; ageGroup, ageGroup -&gt; 0L));\n\nMap&lt;String, Long&gt; ageCountMap = users.stream()\n    .collect(Collectors.groupingBy(\n            u -&gt; {\n                int age = u.getAge();\n                if (age &gt;= 18 &amp;&amp; age &lt;= 20) { return &quot;18-20&quot;; }\n                else if (age &gt;= 21 &amp;&amp; age &lt;= 23) { return &quot;21-23&quot;; }\n                else if (age &gt;= 24 &amp;&amp; age &lt;= 26) { return &quot;24-26&quot;; }\n                else { return &quot;else&quot;; }\n            },\n            defaultMapSupplier,\n            Collectors.counting()\n    ));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9097895,"reputation":843,"user_id":6771202,"display_name":"Sachintha Hewawasam"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1683360513,"creation_date":1683360513,"answer_id":76187812,"question_id":76187552,"body_markdown":"You can initialize the HashMap with the desired age groups and their counts set to zero.\r\n\r\n        Map&lt;String, Long&gt; group2 = new HashMap&lt;&gt;();\r\n        group2.put(&quot;18-20&quot;, 0L);\r\n        group2.put(&quot;21-23&quot;, 0L);\r\n        group2.put(&quot;24-26&quot;, 0L);\r\n        group2.put(&quot;else&quot;, 0L);\r\n\r\n        // Update the age group counts using the users list\r\n        Map&lt;String, Long&gt; ageGroupCounts = users.stream()\r\n            .collect(Collectors.groupingBy(u -&gt; {\r\n                int age = u.getAge();\r\n                if (age &gt;= 18 &amp;&amp; age &lt;= 20) {\r\n                    return &quot;18-20&quot;;\r\n                } else if (age &gt;= 21 &amp;&amp; age &lt;= 23) {\r\n                    return &quot;21-23&quot;;\r\n                } else if (age &gt;= 24 &amp;&amp; age &lt;= 26) {\r\n                    return &quot;24-26&quot;;\r\n                } else {\r\n                    return &quot;else&quot;;\r\n                }\r\n            }, Collectors.counting()));\r\n\r\n        // Merge the initialized HashMap with the age group counts from the users list\r\n        group2.forEach((key, value) -&gt; ageGroupCounts.merge(key, value, Long::sum));\r\n\r\n","title":"This java steam does not return the correct value","body":"<p>You can initialize the HashMap with the desired age groups and their counts set to zero.</p>\n<pre><code>    Map&lt;String, Long&gt; group2 = new HashMap&lt;&gt;();\n    group2.put(&quot;18-20&quot;, 0L);\n    group2.put(&quot;21-23&quot;, 0L);\n    group2.put(&quot;24-26&quot;, 0L);\n    group2.put(&quot;else&quot;, 0L);\n\n    // Update the age group counts using the users list\n    Map&lt;String, Long&gt; ageGroupCounts = users.stream()\n        .collect(Collectors.groupingBy(u -&gt; {\n            int age = u.getAge();\n            if (age &gt;= 18 &amp;&amp; age &lt;= 20) {\n                return &quot;18-20&quot;;\n            } else if (age &gt;= 21 &amp;&amp; age &lt;= 23) {\n                return &quot;21-23&quot;;\n            } else if (age &gt;= 24 &amp;&amp; age &lt;= 26) {\n                return &quot;24-26&quot;;\n            } else {\n                return &quot;else&quot;;\n            }\n        }, Collectors.counting()));\n\n    // Merge the initialized HashMap with the age group counts from the users list\n    group2.forEach((key, value) -&gt; ageGroupCounts.merge(key, value, Long::sum));\n</code></pre>\n"}],"owner":{"account_id":20501187,"reputation":45,"user_id":15045091,"display_name":"johnson"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":76187812,"answer_count":2,"score":3,"last_activity_date":1683374590,"creation_date":1683356518,"question_id":76187552,"body_markdown":"I want to return the age group, or zero if there is no age, but the hashMap key simply does not show the age 21-23 when there is no age\r\n\r\n```java\r\nList&lt;Person&gt; users = Arrays.asList(\r\n    new Person(18, &quot;张三&quot;, &quot;123&quot;, 1),\r\n    new Person(19, &quot;李四&quot;, &quot;124&quot;, 0),\r\n    new Person(20, &quot;王五&quot;, &quot;125&quot;, 1),\r\n    new Person(24, &quot;孙八&quot;, &quot;128&quot;, 0),\r\n    new Person(27, &quot;周九&quot;, &quot;129&quot;, 1)\r\n); \r\nMap&lt;String, Long&gt; group2 = users.stream()\r\n    .collect(Collectors.groupingBy(u -&gt; {\r\n            int age = u.getAge();\r\n            if (age &gt;= 18 &amp;&amp; age &lt;= 20) { \r\n                return &quot;18-20&quot;; \r\n            } else if (age &gt;= 21 &amp;&amp; age &lt;= 23) { \r\n                return &quot;21-23&quot;; \r\n            } else if (age &gt;= 24 &amp;&amp; age &lt;= 26) {\r\n                return &quot;24-26&quot;; \r\n            } else {\r\n                 return &quot;else&quot;; \r\n            }\r\n        }), Collectors.counting());\r\n```","title":"This java steam does not return the correct value","body":"<p>I want to return the age group, or zero if there is no age, but the hashMap key simply does not show the age 21-23 when there is no age</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Person&gt; users = Arrays.asList(\n    new Person(18, &quot;张三&quot;, &quot;123&quot;, 1),\n    new Person(19, &quot;李四&quot;, &quot;124&quot;, 0),\n    new Person(20, &quot;王五&quot;, &quot;125&quot;, 1),\n    new Person(24, &quot;孙八&quot;, &quot;128&quot;, 0),\n    new Person(27, &quot;周九&quot;, &quot;129&quot;, 1)\n); \nMap&lt;String, Long&gt; group2 = users.stream()\n    .collect(Collectors.groupingBy(u -&gt; {\n            int age = u.getAge();\n            if (age &gt;= 18 &amp;&amp; age &lt;= 20) { \n                return &quot;18-20&quot;; \n            } else if (age &gt;= 21 &amp;&amp; age &lt;= 23) { \n                return &quot;21-23&quot;; \n            } else if (age &gt;= 24 &amp;&amp; age &lt;= 26) {\n                return &quot;24-26&quot;; \n            } else {\n                 return &quot;else&quot;; \n            }\n        }), Collectors.counting());\n</code></pre>\n"},{"tags":["java","arrays","loops","if-statement","primes"],"comments":[{"owner":{"account_id":16447745,"reputation":7487,"user_id":11882002,"display_name":"username"},"score":2,"creation_date":1593196919,"post_id":62600993,"comment_id":110705660,"body_markdown":"What seems to be the problem? Could you edit your question with more details about how your code doesn&#39;t work?","body":"What seems to be the problem? Could you edit your question with more details about how your code doesn&#39;t work?"},{"owner":{"account_id":16447745,"reputation":7487,"user_id":11882002,"display_name":"username"},"score":0,"creation_date":1593197219,"post_id":62600993,"comment_id":110705771,"body_markdown":"By the way, I would suggest putting the `if (isPrime)` part inside the second for loop (the outer one). Caching prime numbers also wouldn&#39;t hurt","body":"By the way, I would suggest putting the <code>if (isPrime)</code> part inside the second for loop (the outer one). Caching prime numbers also wouldn&#39;t hurt"},{"owner":{"account_id":9725613,"reputation":53334,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"score":1,"creation_date":1593197225,"post_id":62600993,"comment_id":110705777,"body_markdown":"You input multiple numbers but you have one isPrime value only","body":"You input multiple numbers but you have one isPrime value only"},{"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"score":0,"creation_date":1593197418,"post_id":62600993,"comment_id":110705859,"body_markdown":"There&#39;s a problem in this line `System.out.println(&quot;The Prime Numbers : &quot; +numbers[i]);` -- `i` is out of scope here","body":"There&#39;s a problem in this line <code>System.out.println(&quot;The Prime Numbers : &quot; +numbers[i]);</code> -- <code>i</code> is out of scope here"},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":2,"creation_date":1593197975,"post_id":62600993,"comment_id":110706063,"body_markdown":"Please read [mcve] and enhance your question","body":"Please read <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> and enhance your question"}],"answers":[{"tags":[],"owner":{"account_id":18328405,"reputation":59,"user_id":13347532,"display_name":"Kmarlon Pereira"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1593197668,"creation_date":1593197326,"answer_id":62601096,"question_id":62600993,"body_markdown":"You need to check isPrime in outer loop \r\n\r\n       for(int i=0;i&lt;n;i++) {  // This loops for every number\r\n           //inner both loops for check the number is prime\r\n            boolean isPrime =true;\r\n            for(int j=2;j*j&lt;numbers[i];j++) {\r\n                if(numbers[i]%j ==0) {\r\n                    isPrime =false ;\r\n                    break;  \r\n                }\r\n            }\r\n            if(isPrime) {\r\n               System.out.println(&quot;The Prime Numbers : &quot; +numbers[i]);\r\n            }\r\n        }\r\n        ","title":"To print prime numbers from the array in JAVA","body":"<p>You need to check isPrime in outer loop</p>\n<pre><code>   for(int i=0;i&lt;n;i++) {  // This loops for every number\n       //inner both loops for check the number is prime\n        boolean isPrime =true;\n        for(int j=2;j*j&lt;numbers[i];j++) {\n            if(numbers[i]%j ==0) {\n                isPrime =false ;\n                break;  \n            }\n        }\n        if(isPrime) {\n           System.out.println(&quot;The Prime Numbers : &quot; +numbers[i]);\n        }\n    }\n    \n</code></pre>\n"},{"tags":[],"owner":{"account_id":18660819,"reputation":5608,"user_id":13602076,"display_name":"Abhishek Bhagate"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1593197890,"creation_date":1593197483,"answer_id":62601136,"question_id":62600993,"body_markdown":"You should put the `isPrime()` inside the outer loop as below - \r\n\r\n    System.out.println(&quot;The Prime Numbers : &quot;);\r\n    for(int i=0;i&lt;n;i++) {\r\n        isPrime =true;  // setting it to true before checking for every numbers\r\n        for(int j=2;j*j&lt;numbers[i];j++) {\r\n            if(numbers[i]%j ==0) {\r\n                isPrime =false ;  // will become false only when not an prime\r\n                break;  \r\n            }\r\n        }\r\n        // isPrime will remain true if numbers[i] is a prime number. So print the prime number\r\n        if(isPrime) {\r\n            System.out.println(numbers[i]+&quot; &quot;);\r\n        }\r\n    }\r\n\r\nYou code had few errors - \r\n\r\n    if(isPrime) {\r\n        System.out.println(&quot;The Prime Numbers : &quot; +numbers[i]);\r\n    }\r\n\r\nFirstly, the above piece of code wouldn&#39;t work, since the scope of `i` is limited only to the `for()` loop. Even if `i` was declared outside the for loop, the number that would have been printed would always have been last number (if a prime existed in the user inputted number). That is not we want.\r\n\r\nSo, print the numbers whenever you verify that a number is not prime. After you complete every inner loop, check the boolean `isPrime` and if it is true, we know that the number we are currently checking(`numbers[i]`) is surely a prime. So print the number there itself.\r\n\r\nHope this helps !\r\n","title":"To print prime numbers from the array in JAVA","body":"<p>You should put the <code>isPrime()</code> inside the outer loop as below -</p>\n<pre><code>System.out.println(&quot;The Prime Numbers : &quot;);\nfor(int i=0;i&lt;n;i++) {\n    isPrime =true;  // setting it to true before checking for every numbers\n    for(int j=2;j*j&lt;numbers[i];j++) {\n        if(numbers[i]%j ==0) {\n            isPrime =false ;  // will become false only when not an prime\n            break;  \n        }\n    }\n    // isPrime will remain true if numbers[i] is a prime number. So print the prime number\n    if(isPrime) {\n        System.out.println(numbers[i]+&quot; &quot;);\n    }\n}\n</code></pre>\n<p>You code had few errors -</p>\n<pre><code>if(isPrime) {\n    System.out.println(&quot;The Prime Numbers : &quot; +numbers[i]);\n}\n</code></pre>\n<p>Firstly, the above piece of code wouldn't work, since the scope of <code>i</code> is limited only to the <code>for()</code> loop. Even if <code>i</code> was declared outside the for loop, the number that would have been printed would always have been last number (if a prime existed in the user inputted number). That is not we want.</p>\n<p>So, print the numbers whenever you verify that a number is not prime. After you complete every inner loop, check the boolean <code>isPrime</code> and if it is true, we know that the number we are currently checking(<code>numbers[i]</code>) is surely a prime. So print the number there itself.</p>\n<p>Hope this helps !</p>\n"},{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683374257,"creation_date":1593197921,"answer_id":62601225,"question_id":62600993,"body_markdown":"The following code snippet fixes all the issues mentioned in the comments and checks only the odd numbers in the loop for primality:\r\n```java\r\nfor (int num : numbers) {\r\n    isPrime = num % 2 != 0 || num == 2;\r\n    for (int j = 3; isPrime &amp;&amp; j * j &lt;= num; j += 2) {\r\n        if (num % j == 0) {\r\n           isPrime = false;\r\n        }\r\n    }\r\n    if (isPrime &amp;&amp; num &gt; 1) {\r\n        System.out.println(&quot;The Prime Number : &quot; + num);\r\n    }\r\n}\r\n```\r\n\r\nYou should also take into account that 0 and 1 are NOT primes.\r\n\r\n----\r\nMore optimized way of primality check is described in [this answer](https://stackoverflow.com/a/70473552/13279831) to a similar question: [Basic Java - Finding if a number is a prime number using while loop](https://stackoverflow.com/questions/70466662/).","title":"To print prime numbers from the array in JAVA","body":"<p>The following code snippet fixes all the issues mentioned in the comments and checks only the odd numbers in the loop for primality:</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (int num : numbers) {\n    isPrime = num % 2 != 0 || num == 2;\n    for (int j = 3; isPrime &amp;&amp; j * j &lt;= num; j += 2) {\n        if (num % j == 0) {\n           isPrime = false;\n        }\n    }\n    if (isPrime &amp;&amp; num &gt; 1) {\n        System.out.println(&quot;The Prime Number : &quot; + num);\n    }\n}\n</code></pre>\n<p>You should also take into account that 0 and 1 are NOT primes.</p>\n<hr />\n<p>More optimized way of primality check is described in <a href=\"https://stackoverflow.com/a/70473552/13279831\">this answer</a> to a similar question: <a href=\"https://stackoverflow.com/questions/70466662/\">Basic Java - Finding if a number is a prime number using while loop</a>.</p>\n"}],"owner":{"account_id":16577311,"reputation":47,"user_id":11978800,"display_name":"Naveen Kamath"},"comment_count":5,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2477,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"closed_date":1593210182,"answer_count":3,"score":2,"last_activity_date":1683374363,"creation_date":1593196805,"question_id":62600993,"body_markdown":"I want to create a program that will ask the user to input 5 integers using array and determine all the prime numbers entered. But I have difficulty with it. What seems to be the problem? I use JCreator for this.\r\n\r\n    package arrays;\r\n\r\n    import java.util.Scanner;\r\n\r\n    public class Examples {\r\n\r\n        public static void main(String[] args) {\r\n        \tScanner sc = new Scanner(System.in)\t;\r\n        \tSystem.out.println(&quot;Total numbers : &quot;);\r\n        \tint n = sc.nextInt();\r\n        \tboolean isPrime =true;\r\n        \tint result =0;\r\n        \tSystem.out.println(&quot;Enter the Numbers : &quot;);\r\n        \tint [] numbers = new int[n];\r\n        \t\r\n        \tfor(int i=0;i&lt;n;i++) {\r\n        \t\tnumbers[i]=sc.nextInt();\r\n        \t}\r\n        \tfor(int i=0;i&lt;n;i++) {\r\n        \t\tfor(int j=2;j*j&lt;numbers[i];j++) {\r\n        \t\t\tif(numbers[i]%j ==0) {\r\n        \t\t\t\tisPrime =false ;\r\n        \t\t\t\tbreak;\t\r\n        \t\t\t}\r\n        \t\t}\r\n        \t}\r\n        \tif(isPrime) {\r\n        \t\tSystem.out.println(&quot;The Prime Numbers : &quot; +numbers[i]);\r\n        \t}\r\n        }\r\n\t\r\n    }\r\n\r\n\t\r\n\r\n   \r\n\r\n","title":"To print prime numbers from the array in JAVA","body":"<p>I want to create a program that will ask the user to input 5 integers using array and determine all the prime numbers entered. But I have difficulty with it. What seems to be the problem? I use JCreator for this.</p>\n<pre><code>package arrays;\n\nimport java.util.Scanner;\n\npublic class Examples {\n\n    public static void main(String[] args) {\n        Scanner sc = new Scanner(System.in) ;\n        System.out.println(&quot;Total numbers : &quot;);\n        int n = sc.nextInt();\n        boolean isPrime =true;\n        int result =0;\n        System.out.println(&quot;Enter the Numbers : &quot;);\n        int [] numbers = new int[n];\n        \n        for(int i=0;i&lt;n;i++) {\n            numbers[i]=sc.nextInt();\n        }\n        for(int i=0;i&lt;n;i++) {\n            for(int j=2;j*j&lt;numbers[i];j++) {\n                if(numbers[i]%j ==0) {\n                    isPrime =false ;\n                    break;  \n                }\n            }\n        }\n        if(isPrime) {\n            System.out.println(&quot;The Prime Numbers : &quot; +numbers[i]);\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":["java","apache-poi","executable-jar"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1683373334,"post_id":76188567,"comment_id":134358942,"body_markdown":"You can’t reference ‘src’ in your code, it won’t exist once the project is compiled and packaged. You also can’t write to the jar file - or at least not as you’re expecting it to work. The file should be externalised","body":"You can’t reference ‘src’ in your code, it won’t exist once the project is compiled and packaged. You also can’t write to the jar file - or at least not as you’re expecting it to work. The file should be externalised"},{"owner":{"account_id":11221551,"reputation":1,"user_id":17273659,"display_name":"Aryaman Velampalli"},"score":0,"creation_date":1683373545,"post_id":76188567,"comment_id":134358956,"body_markdown":"oh ok, thanks for pointing that out. How can I externalise the file? Let&#39;s assume I send this jar to someone, would I also need to send the excel sheet along with it?","body":"oh ok, thanks for pointing that out. How can I externalise the file? Let&#39;s assume I send this jar to someone, would I also need to send the excel sheet along with it?"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1683378547,"post_id":76188567,"comment_id":134359485,"body_markdown":"Well, it would depend, but you can read the file from the Jar, maybe save it to a temp file, and the allow the user to save the final file to a chosen location. Alternatively, you could use a installer and save these kind of files to a “commonly known location”","body":"Well, it would depend, but you can read the file from the Jar, maybe save it to a temp file, and the allow the user to save the final file to a chosen location. Alternatively, you could use a installer and save these kind of files to a “commonly known location”"}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683374101,"creation_date":1683374101,"answer_id":76188720,"question_id":76188567,"body_markdown":"Whilst some OSes (*cough* windows *cough*) are, or at least used to be, fundamentally unsafely designed, __in general__ the notion that an app can write to its own data files is a very bad idea, and thus non-broken OSes don&#39;t let you. Even windows which tended to go with the deployment model of &#39;you have e.g. `C:\\Program Files\\MyApp` and myapp stores user data and its config file (that is editable in the app itself) in there&#39;, is now moving away from this, with a &#39;My Documents&#39; folder where docs and settings go instead of the app&#39;s own &#39;program files&#39; folder.\r\n\r\nThe conclusion is that &#39;can I write to my own jar&#39; is a definitely NO. On some OSes you might be able to, but writing your app such that &#39;I need to modify my own jar or I do not work&#39; means your app only works on unsafe OSes / now-safe OSes but only if you use the unsafe legacy deployment model.\r\n\r\nSo what&#39;s the real solution?\r\n\r\n__Templating__.\r\n\r\nWhen the user wants an excel sheet and edit it in place, the flow goes like this:\r\n\r\n* User indicates they want to do this. Possibly, &#39;start your app for the first time&#39; is enough of an indication. Possibly they click some button someplace.\r\n* You read in an excel sheet as you do now - using `.getResource`. Which you didn&#39;t quite use correctly, it&#39;s `MyClass.class.getResource`, not `getClass().getResource` (the latter breaks if you ever subclass, the former wouldn&#39;t).\r\n* You then save it __not to your jar file but to the documents folder__. Unfortunately finding the right place is somewhat tricky, in that you&#39;ll end up having to write some platform-dependent code (if user is on windows, save here. If on mac, save there, and so on). But the basic gist is:\r\n\r\n* Use `System.getProperty(&quot;user.home&quot;)` to find the user&#39;s home dir. Save there, or possibly be &#39;nice&#39; and save in a subdir. For example on mac you optimally would do:\r\n\r\n```\r\nPath p = Paths.get(System.getProperty(&quot;user.home&quot;), &quot;Documents&quot;);\r\n```\r\n\r\nand save there. That &quot;Documents&quot; thing is more specific.\r\n\r\n* Alternatively, pop open a save dialog and let the user choose where to save it.\r\n\r\nThe &#39;template&#39; XLS in your jar file _never changes_. (It can&#39;t; its in a file your process cannot write to, or at least should not write to).\r\n Hence the name &#39;template&#39;.","title":"Writing to an excel sheet in a JAR file","body":"<p>Whilst some OSes (<em>cough</em> windows <em>cough</em>) are, or at least used to be, fundamentally unsafely designed, <strong>in general</strong> the notion that an app can write to its own data files is a very bad idea, and thus non-broken OSes don't let you. Even windows which tended to go with the deployment model of 'you have e.g. <code>C:\\Program Files\\MyApp</code> and myapp stores user data and its config file (that is editable in the app itself) in there', is now moving away from this, with a 'My Documents' folder where docs and settings go instead of the app's own 'program files' folder.</p>\n<p>The conclusion is that 'can I write to my own jar' is a definitely NO. On some OSes you might be able to, but writing your app such that 'I need to modify my own jar or I do not work' means your app only works on unsafe OSes / now-safe OSes but only if you use the unsafe legacy deployment model.</p>\n<p>So what's the real solution?</p>\n<p><strong>Templating</strong>.</p>\n<p>When the user wants an excel sheet and edit it in place, the flow goes like this:</p>\n<ul>\n<li><p>User indicates they want to do this. Possibly, 'start your app for the first time' is enough of an indication. Possibly they click some button someplace.</p>\n</li>\n<li><p>You read in an excel sheet as you do now - using <code>.getResource</code>. Which you didn't quite use correctly, it's <code>MyClass.class.getResource</code>, not <code>getClass().getResource</code> (the latter breaks if you ever subclass, the former wouldn't).</p>\n</li>\n<li><p>You then save it <strong>not to your jar file but to the documents folder</strong>. Unfortunately finding the right place is somewhat tricky, in that you'll end up having to write some platform-dependent code (if user is on windows, save here. If on mac, save there, and so on). But the basic gist is:</p>\n</li>\n<li><p>Use <code>System.getProperty(&quot;user.home&quot;)</code> to find the user's home dir. Save there, or possibly be 'nice' and save in a subdir. For example on mac you optimally would do:</p>\n</li>\n</ul>\n<pre><code>Path p = Paths.get(System.getProperty(&quot;user.home&quot;), &quot;Documents&quot;);\n</code></pre>\n<p>and save there. That &quot;Documents&quot; thing is more specific.</p>\n<ul>\n<li>Alternatively, pop open a save dialog and let the user choose where to save it.</li>\n</ul>\n<p>The 'template' XLS in your jar file <em>never changes</em>. (It can't; its in a file your process cannot write to, or at least should not write to).\nHence the name 'template'.</p>\n"}],"owner":{"account_id":11221551,"reputation":1,"user_id":17273659,"display_name":"Aryaman Velampalli"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":222,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683374101,"creation_date":1683371790,"question_id":76188567,"body_markdown":"I made a Java project in netbeans that uses data from an excel sheet. There is functionality in my project that allows the user to read and write to the excel sheet. I have used the Apache POI library to do this. The program works well in Netbeans IDE 17 but when I try to do the same in a JAR file, I cannot write to the excel sheet.\r\n\r\nthis is what my code initially looked like: \r\n```\r\nif(addordel.equals(&quot;add&quot;)){\r\n            File file = new File(&quot;./src/Pick4list.xlsx&quot;);\r\n            Workbook workbook;\r\n            try {\r\n                workbook = new XSSFWorkbook(new FileInputStream(file));\r\n                Sheet sheet = workbook.getSheetAt(0);\r\n                int rowNum = -1;\r\n                for (Row row : sheet) {\r\n                    if (row.getCell(0).getStringCellValue().equals(datenum)) {\r\n                        rowNum = row.getRowNum();\r\n                        break;\r\n                    }\r\n                }\r\n                if (rowNum &gt;= 0) {\r\n                    for (int i = 1; i &lt; 10000; i++) {\r\n                        Cell cell = sheet.getRow(rowNum).getCell(i);\r\n                        if (cell == null || cell.getCellType() == CellType.BLANK) {\r\n                            if (i - 1 &lt; dateslist.size()) {\r\n                                String dateStr = dateslist.get(i - 1);\r\n                                cell = sheet.getRow(rowNum).createCell(i);\r\n                                cell.setCellValue(dateStr);\r\n                            } else {\r\n                                break;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                FileOutputStream out = new FileOutputStream(file);\r\n                workbook.write(out);\r\n                out.close();\r\n                workbook.close();\r\n            } catch (FileNotFoundException ex) {\r\n                Logger.getLogger(Pick4gen.class.getName()).log(Level.SEVERE, null, ex);\r\n            } catch (IOException ex) {\r\n                Logger.getLogger(Pick4gen.class.getName()).log(Level.SEVERE, null, ex);\r\n            }\r\n        }\r\n```\r\n\r\nI&#39;ve read answers from stackoverflow and changed my code to the following:\r\n\r\n```\r\nif(addordel.equals(&quot;add&quot;)){\r\n            InputStream file = getClass().getResourceAsStream(&quot;/data/Pick4list.xlsx&quot;);\r\n            Workbook workbook;\r\n            try {\r\n                workbook = new XSSFWorkbook(file);\r\n                Sheet sheet = workbook.getSheetAt(0);\r\n                int rowNum = -1;\r\n                for (Row row : sheet) {\r\n                    if (row.getCell(0).getStringCellValue().equals(datenum)) {\r\n                        rowNum = row.getRowNum();\r\n                        break;\r\n                    }\r\n                }\r\n                if (rowNum &gt;= 0) {\r\n                    for (int i = 1; i &lt; 10000; i++) {\r\n                        Cell cell = sheet.getRow(rowNum).getCell(i);\r\n                        if (cell == null || cell.getCellType() == CellType.BLANK) {\r\n                            if (i - 1 &lt; dateslist.size()) {\r\n                                String dateStr = dateslist.get(i - 1);\r\n                                cell = sheet.getRow(rowNum).createCell(i);\r\n                                cell.setCellValue(dateStr);\r\n                            } else {\r\n                                break;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                FileOutputStream out = new FileOutputStream(file);\r\n                workbook.write(out);\r\n                out.close();\r\n                workbook.close();\r\n            } catch (FileNotFoundException ex) {\r\n                Logger.getLogger(Pick4gen.class.getName()).log(Level.SEVERE, null, ex);\r\n            } catch (IOException ex) {\r\n                Logger.getLogger(Pick4gen.class.getName()).log(Level.SEVERE, null, ex);\r\n            }\r\n        }\r\n```\r\nI&#39;ve build the project after this. Opened the jar file using WinRAR, created a folder called &quot;data&quot; and placed my Excel sheet there. This seems to be working since I have another snippet of code that simply reads data from the excel and stores the data in a HashMap (I could print the data from the HashMap so I understood that the program could read the excel sheet). I need help as to how I can change the code so that I can write to the excel sheet in the JAR.\r\n\r\nI want to create this program in such a way that no matter on which computer I run the JAR file, I want to be able to read from the excel sheet and also be able to make changes to it (the changes must be saved). Please guide me.\r\n","title":"Writing to an excel sheet in a JAR file","body":"<p>I made a Java project in netbeans that uses data from an excel sheet. There is functionality in my project that allows the user to read and write to the excel sheet. I have used the Apache POI library to do this. The program works well in Netbeans IDE 17 but when I try to do the same in a JAR file, I cannot write to the excel sheet.</p>\n<p>this is what my code initially looked like:</p>\n<pre><code>if(addordel.equals(&quot;add&quot;)){\n            File file = new File(&quot;./src/Pick4list.xlsx&quot;);\n            Workbook workbook;\n            try {\n                workbook = new XSSFWorkbook(new FileInputStream(file));\n                Sheet sheet = workbook.getSheetAt(0);\n                int rowNum = -1;\n                for (Row row : sheet) {\n                    if (row.getCell(0).getStringCellValue().equals(datenum)) {\n                        rowNum = row.getRowNum();\n                        break;\n                    }\n                }\n                if (rowNum &gt;= 0) {\n                    for (int i = 1; i &lt; 10000; i++) {\n                        Cell cell = sheet.getRow(rowNum).getCell(i);\n                        if (cell == null || cell.getCellType() == CellType.BLANK) {\n                            if (i - 1 &lt; dateslist.size()) {\n                                String dateStr = dateslist.get(i - 1);\n                                cell = sheet.getRow(rowNum).createCell(i);\n                                cell.setCellValue(dateStr);\n                            } else {\n                                break;\n                            }\n                        }\n                    }\n                }\n                FileOutputStream out = new FileOutputStream(file);\n                workbook.write(out);\n                out.close();\n                workbook.close();\n            } catch (FileNotFoundException ex) {\n                Logger.getLogger(Pick4gen.class.getName()).log(Level.SEVERE, null, ex);\n            } catch (IOException ex) {\n                Logger.getLogger(Pick4gen.class.getName()).log(Level.SEVERE, null, ex);\n            }\n        }\n</code></pre>\n<p>I've read answers from stackoverflow and changed my code to the following:</p>\n<pre><code>if(addordel.equals(&quot;add&quot;)){\n            InputStream file = getClass().getResourceAsStream(&quot;/data/Pick4list.xlsx&quot;);\n            Workbook workbook;\n            try {\n                workbook = new XSSFWorkbook(file);\n                Sheet sheet = workbook.getSheetAt(0);\n                int rowNum = -1;\n                for (Row row : sheet) {\n                    if (row.getCell(0).getStringCellValue().equals(datenum)) {\n                        rowNum = row.getRowNum();\n                        break;\n                    }\n                }\n                if (rowNum &gt;= 0) {\n                    for (int i = 1; i &lt; 10000; i++) {\n                        Cell cell = sheet.getRow(rowNum).getCell(i);\n                        if (cell == null || cell.getCellType() == CellType.BLANK) {\n                            if (i - 1 &lt; dateslist.size()) {\n                                String dateStr = dateslist.get(i - 1);\n                                cell = sheet.getRow(rowNum).createCell(i);\n                                cell.setCellValue(dateStr);\n                            } else {\n                                break;\n                            }\n                        }\n                    }\n                }\n                FileOutputStream out = new FileOutputStream(file);\n                workbook.write(out);\n                out.close();\n                workbook.close();\n            } catch (FileNotFoundException ex) {\n                Logger.getLogger(Pick4gen.class.getName()).log(Level.SEVERE, null, ex);\n            } catch (IOException ex) {\n                Logger.getLogger(Pick4gen.class.getName()).log(Level.SEVERE, null, ex);\n            }\n        }\n</code></pre>\n<p>I've build the project after this. Opened the jar file using WinRAR, created a folder called &quot;data&quot; and placed my Excel sheet there. This seems to be working since I have another snippet of code that simply reads data from the excel and stores the data in a HashMap (I could print the data from the HashMap so I understood that the program could read the excel sheet). I need help as to how I can change the code so that I can write to the excel sheet in the JAR.</p>\n<p>I want to create this program in such a way that no matter on which computer I run the JAR file, I want to be able to read from the excel sheet and also be able to make changes to it (the changes must be saved). Please guide me.</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683373774,"creation_date":1683373774,"answer_id":76188707,"question_id":76187165,"body_markdown":"A connect timeout error happens when the server doesn&#39;t respond to the connection request in the time set. It depends on the connectivity to the other side. Your code only defines slthe time to wait. Check the network and the server.","title":"java.net.SocketTimeoutException: failed to connect to (port 443) from /2409:(port 32948) after 6999ms","body":"<p>A connect timeout error happens when the server doesn't respond to the connection request in the time set. It depends on the connectivity to the other side. Your code only defines slthe time to wait. Check the network and the server.</p>\n"}],"owner":{"account_id":16376116,"reputation":578,"user_id":11828164,"display_name":"Ganesan J"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":217,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683373774,"creation_date":1683348108,"question_id":76187165,"body_markdown":"        HttpConnectionParams.setConnectionTimeout(httpParameters,\r\n            timeoutConnection);\r\n        int timeoutSocket = 7000;\r\n        HttpConnectionParams\r\n            .setSoTimeout(httpParameters, timeoutSocket);\r\n\r\n        HostnameVerifier hostnameVerifier = org.apache.http.conn.ssl.SSLSocketFactory.ALLOW_ALL_HOSTNAME_VERIFIER;\r\n\r\n        SchemeRegistry registry = new SchemeRegistry();\r\n        SSLSocketFactory socketFactory = SSLSocketFactory.getSocketFactory();\r\n        socketFactory.setHostnameVerifier((X509HostnameVerifier) hostnameVerifier);\r\n        registry.register(new Scheme(&quot;http&quot;, PlainSocketFactory.getSocketFactory(), 80));\r\n        registry.register(new Scheme(&quot;https&quot;, socketFactory, 443));\r\n        SingleClientConnManager mgr = new SingleClientConnManager(httpParameters, registry);\r\n        DefaultHttpClient httpclient = new DefaultHttpClient(mgr, httpParameters);\r\n\r\n        HttpsURLConnection.setDefaultHostnameVerifier(hostnameVerifier);\r\n\r\n        HttpPost httppost = new HttpPost(url);\r\n\r\n\r\n&gt; It show error socket timeout error.But the same code working fine for last 5 years","title":"java.net.SocketTimeoutException: failed to connect to (port 443) from /2409:(port 32948) after 6999ms","body":"<pre><code>    HttpConnectionParams.setConnectionTimeout(httpParameters,\n        timeoutConnection);\n    int timeoutSocket = 7000;\n    HttpConnectionParams\n        .setSoTimeout(httpParameters, timeoutSocket);\n\n    HostnameVerifier hostnameVerifier = org.apache.http.conn.ssl.SSLSocketFactory.ALLOW_ALL_HOSTNAME_VERIFIER;\n\n    SchemeRegistry registry = new SchemeRegistry();\n    SSLSocketFactory socketFactory = SSLSocketFactory.getSocketFactory();\n    socketFactory.setHostnameVerifier((X509HostnameVerifier) hostnameVerifier);\n    registry.register(new Scheme(&quot;http&quot;, PlainSocketFactory.getSocketFactory(), 80));\n    registry.register(new Scheme(&quot;https&quot;, socketFactory, 443));\n    SingleClientConnManager mgr = new SingleClientConnManager(httpParameters, registry);\n    DefaultHttpClient httpclient = new DefaultHttpClient(mgr, httpParameters);\n\n    HttpsURLConnection.setDefaultHostnameVerifier(hostnameVerifier);\n\n    HttpPost httppost = new HttpPost(url);\n</code></pre>\n<blockquote>\n<p>It show error socket timeout error.But the same code working fine for last 5 years</p>\n</blockquote>\n"},{"tags":["java","spring-boot","file","jar","classpath"],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1683373506,"creation_date":1683343223,"answer_id":76186975,"question_id":76186936,"body_markdown":"Your `getTestDataVO` code doesn&#39;t care how it gets its data, as long as it gets it.\r\n\r\nHence, the correct parameter type of `getTestDataVO` __is not `String`__. Instead it should be `byte[]`, or `InputStream`, or possibly both.\r\n\r\nAlso note that what you&#39;re doing so far is wrong (it&#39;s `MyClass.class.getResource`, not `getClass().getClassLoader()...`. The `getClassLoader()` part is pointless typing and breaks in rare circumstances. `getClass()` breaks when subclassing. Hence why that&#39;s the only correct way for this kind of task).\r\n\r\n\r\nLet&#39;s say you make that inputstream. Then you can do:\r\n\r\n```\r\nprivate TestDataVO getTestDataVO(InputStream is) {\r\n   try {\r\n     testData = ymlMapper.readValue(is, TestDataVO.class);\r\n   } finally {\r\n     is.close();\r\n   }\r\n}\r\n\r\n// and to call:\r\n  getTestDataVO(MyClass.class.getResourceAsStream(&quot;test.yaml&quot;));\r\n```\r\n\r\nOr possibly even by using just `getResource`:\r\n\r\n```\r\nprivate TestDataVO getTestDataVO(URL resource) {\r\n   try (var is = resource.openStream()) {\r\n     testData = ymlMapper.readValue(is, TestDataVO.class);\r\n   }\r\n}\r\n\r\n// and to call:\r\n  getTestDataVO(MyClass.class.getResource(&quot;test.yaml&quot;));\r\n```\r\n\r\nIn both of those the crucial aspect is that __A__ ends up using _its_ loader to find this resource, and then passes the found resource to B, instead of asking B to find it which is tricky as it&#39;s part of A&#39;s classpath, not B&#39;s.\r\n\r\n----\r\n\r\nEDIT:\r\n\r\nA second idea, but I _strongly_ recommend against this:\r\n\r\n```\r\nprivate TestDataVO getTestDataVO(Class&lt;?&gt; context, String resource) {\r\n   try (var is = context.getResourceAsStream(resource)) {\r\n     testData = ymlMapper.readValue(is, TestDataVO.class);\r\n   }\r\n}\r\n\r\n// to call:\r\n\r\nclass Example {\r\n  void foo() {\r\n    testDataTool.getTestDataVO(Example.class, &quot;/my/resource.txt&quot;);\r\n  }\r\n}\r\n```\r\n\r\nThis is the closest equivalent of &#39;I just want callers to pass in a string&#39;. You can do that.. if you _also_ pass along the class to use as &#39;context&#39; - use _this class&#39;s loader architecture to load this resource_. There is no way to get, not even from a stack trace, the `java.lang.Class` instance representing &#39;the class whose code called me&#39; in case that&#39;s where you&#39;re thinking is heading.\r\n","title":"Read File from resources folder when code is in external jar","body":"<p>Your <code>getTestDataVO</code> code doesn't care how it gets its data, as long as it gets it.</p>\n<p>Hence, the correct parameter type of <code>getTestDataVO</code> <strong>is not <code>String</code></strong>. Instead it should be <code>byte[]</code>, or <code>InputStream</code>, or possibly both.</p>\n<p>Also note that what you're doing so far is wrong (it's <code>MyClass.class.getResource</code>, not <code>getClass().getClassLoader()...</code>. The <code>getClassLoader()</code> part is pointless typing and breaks in rare circumstances. <code>getClass()</code> breaks when subclassing. Hence why that's the only correct way for this kind of task).</p>\n<p>Let's say you make that inputstream. Then you can do:</p>\n<pre><code>private TestDataVO getTestDataVO(InputStream is) {\n   try {\n     testData = ymlMapper.readValue(is, TestDataVO.class);\n   } finally {\n     is.close();\n   }\n}\n\n// and to call:\n  getTestDataVO(MyClass.class.getResourceAsStream(&quot;test.yaml&quot;));\n</code></pre>\n<p>Or possibly even by using just <code>getResource</code>:</p>\n<pre><code>private TestDataVO getTestDataVO(URL resource) {\n   try (var is = resource.openStream()) {\n     testData = ymlMapper.readValue(is, TestDataVO.class);\n   }\n}\n\n// and to call:\n  getTestDataVO(MyClass.class.getResource(&quot;test.yaml&quot;));\n</code></pre>\n<p>In both of those the crucial aspect is that <strong>A</strong> ends up using <em>its</em> loader to find this resource, and then passes the found resource to B, instead of asking B to find it which is tricky as it's part of A's classpath, not B's.</p>\n<hr />\n<p>EDIT:</p>\n<p>A second idea, but I <em>strongly</em> recommend against this:</p>\n<pre><code>private TestDataVO getTestDataVO(Class&lt;?&gt; context, String resource) {\n   try (var is = context.getResourceAsStream(resource)) {\n     testData = ymlMapper.readValue(is, TestDataVO.class);\n   }\n}\n\n// to call:\n\nclass Example {\n  void foo() {\n    testDataTool.getTestDataVO(Example.class, &quot;/my/resource.txt&quot;);\n  }\n}\n</code></pre>\n<p>This is the closest equivalent of 'I just want callers to pass in a string'. You can do that.. if you <em>also</em> pass along the class to use as 'context' - use <em>this class's loader architecture to load this resource</em>. There is no way to get, not even from a stack trace, the <code>java.lang.Class</code> instance representing 'the class whose code called me' in case that's where you're thinking is heading.</p>\n"}],"owner":{"account_id":12259853,"reputation":53,"user_id":8947900,"display_name":"Shubham Anand"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":345,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76186975,"answer_count":1,"score":0,"last_activity_date":1683373506,"creation_date":1683342452,"question_id":76186936,"body_markdown":"I am working on creating a library(it will be a jar file). I have a running application &quot;A&quot; which has a dependency on this lib I am creating- &quot;B.jar&quot;.\r\nInside src/resources folder of A, we have a file eg.&quot;test.yaml&quot;. \r\nB has some code which is to be called from A and the file path passed as string alongwith. Code in B should be able to read the file content and do further processing..\r\n\r\n\r\nHere is my code in lib &quot;B&quot; \r\n\r\n    private TestDataVO getTestDataVO(String testFileName) {\r\n    \r\n    \t\tInputStream is = this.getClass().getClassLoader().getResourceAsStream(this.testFileName);\r\n    \t\t\t\ttestData = ymlMapper.readValue(is, TestDataVO.class);\r\n    \r\n    \t\t\t\r\n    \t\treturn testData;\r\n    \t}\r\n\r\nThe caller code in &quot;A&quot;:\r\n\r\n`getTestDataVO(&quot;test.yaml&quot;)`\r\n\r\nThe problem with my code is the this.getClass.getClassLoader() gives classpath of &quot;B&quot; rather than &quot;A&quot; and thus not able to read test.yaml which is on &quot;A&quot; &#39;s classpath. How can I can modify getTestDataVO to read the file from &quot;A&quot;&#39;s classpath. Sending absolute path is not an option. I &#39;ll be happy to clarify any further.\r\n\r\nPS.- I have tried searching for other answers, all of which point to resource file present in jar and reading from calling application. I am trying the other way around-file in calling application, to be read from jar&#39;s context.","title":"Read File from resources folder when code is in external jar","body":"<p>I am working on creating a library(it will be a jar file). I have a running application &quot;A&quot; which has a dependency on this lib I am creating- &quot;B.jar&quot;.\nInside src/resources folder of A, we have a file eg.&quot;test.yaml&quot;.\nB has some code which is to be called from A and the file path passed as string alongwith. Code in B should be able to read the file content and do further processing..</p>\n<p>Here is my code in lib &quot;B&quot;</p>\n<pre><code>private TestDataVO getTestDataVO(String testFileName) {\n\n        InputStream is = this.getClass().getClassLoader().getResourceAsStream(this.testFileName);\n                testData = ymlMapper.readValue(is, TestDataVO.class);\n\n            \n        return testData;\n    }\n</code></pre>\n<p>The caller code in &quot;A&quot;:</p>\n<p><code>getTestDataVO(&quot;test.yaml&quot;)</code></p>\n<p>The problem with my code is the this.getClass.getClassLoader() gives classpath of &quot;B&quot; rather than &quot;A&quot; and thus not able to read test.yaml which is on &quot;A&quot; 's classpath. How can I can modify getTestDataVO to read the file from &quot;A&quot;'s classpath. Sending absolute path is not an option. I 'll be happy to clarify any further.</p>\n<p>PS.- I have tried searching for other answers, all of which point to resource file present in jar and reading from calling application. I am trying the other way around-file in calling application, to be read from jar's context.</p>\n"},{"tags":["java","image","file","exception","applet"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1376750506,"post_id":18287253,"comment_id":26833097,"body_markdown":"Small side note: String.valueOf is not needed when building strings.  This will compile without error: `&quot;../animation/MonkeyAnimX&quot; + i + &quot;.jpeg&quot;`","body":"Small side note: String.valueOf is not needed when building strings.  This will compile without error: <code>&quot;..&#47;animation&#47;MonkeyAnimX&quot; + i + &quot;.jpeg&quot;</code>"},{"owner":{"account_id":3061801,"reputation":438,"user_id":2594281,"display_name":"G.Srinivas Kishan"},"score":0,"creation_date":1376754599,"post_id":18287253,"comment_id":26834106,"body_markdown":"It is a java security feature that applets cannot access the files on the hard drive.","body":"It is a java security feature that applets cannot access the files on the hard drive."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1376780084,"post_id":18287253,"comment_id":26840296,"body_markdown":"If you open the page via localhost or off the net and the relative paths are correct, it should work.  Java security in regard to applets launched off the *local **disks*** has become so strict that it is not representative of what a sand-boxed applet can do on (when coming from) the net or a local server.  BTW - Why code an applet?  If it is due to spec. by teacher, please refer them to [Why CS teachers should stop teaching Java applets](http://programmers.blogoverflow.com/2013/05/why-cs-teachers-should-stop-teaching-java-applets/).","body":"If you open the page via localhost or off the net and the relative paths are correct, it should work.  Java security in regard to applets launched off the <i>local <b>disks</i></b> has become so strict that it is not representative of what a sand-boxed applet can do on (when coming from) the net or a local server.  BTW - Why code an applet?  If it is due to spec. by teacher, please refer them to <a href=\"http://programmers.blogoverflow.com/2013/05/why-cs-teachers-should-stop-teaching-java-applets/\" rel=\"nofollow noreferrer\">Why CS teachers should stop teaching Java applets</a>."}],"answers":[{"tags":[],"owner":{"account_id":2678195,"reputation":68091,"user_id":2314073,"accept_rate":56,"display_name":"Juned Ahsan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1376732132,"creation_date":1376732132,"answer_id":18287285,"question_id":18287253,"body_markdown":"The problem is not with the file permission but it is due to the security restrictions of applet.  Here is what you need to override the default security policy file used by the SecurityManager.\r\n\r\n1) Create a text file (eg. applet.policy)\r\n\r\n2) Grant all permissions to the applet\r\n\r\n \r\n\r\n     grant {\r\n       permission java.security.AllPermission;\r\n      };\r\n\r\n3) Run the applet with\r\n\r\n    -J-Djava.security.policy=applet.policy\r\n\r\nRead more about applet security here: **[What Applets Can and Cannot Do][1]**\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/deployment/applet/security.html","title":"How to get rid of this java.io.EOFException?","body":"<p>The problem is not with the file permission but it is due to the security restrictions of applet.  Here is what you need to override the default security policy file used by the SecurityManager.</p>\n\n<p>1) Create a text file (eg. applet.policy)</p>\n\n<p>2) Grant all permissions to the applet</p>\n\n<pre><code> grant {\n   permission java.security.AllPermission;\n  };\n</code></pre>\n\n<p>3) Run the applet with</p>\n\n<pre><code>-J-Djava.security.policy=applet.policy\n</code></pre>\n\n<p>Read more about applet security here: <strong><a href=\"http://docs.oracle.com/javase/tutorial/deployment/applet/security.html\" rel=\"nofollow\">What Applets Can and Cannot Do</a></strong></p>\n"},{"tags":[],"owner":{"account_id":1138392,"reputation":9603,"user_id":1122959,"accept_rate":100,"display_name":"rocketboy"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1376732715,"creation_date":1376732362,"answer_id":18287320,"question_id":18287253,"body_markdown":"By default, Applets are not allowed access to filesystem. This is a major security risk as you are exposing your filesystem to external web. You can read more [here][1].\r\n\r\n\r\n  [1]: http://www.coderanch.com/how-to/java/HowCanAnAppletReadFilesOnTheLocalFileSystem","title":"How to get rid of this java.io.EOFException?","body":"<p>By default, Applets are not allowed access to filesystem. This is a major security risk as you are exposing your filesystem to external web. You can read more <a href=\"http://www.coderanch.com/how-to/java/HowCanAnAppletReadFilesOnTheLocalFileSystem\" rel=\"nofollow\">here</a>.</p>\n"}],"owner":{"account_id":3186056,"reputation":37,"user_id":2691642,"accept_rate":0,"display_name":"ChaosNe0"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":409,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1683372499,"creation_date":1376731903,"question_id":18287253,"body_markdown":"I would like to know what&#39;s wrong about this code from my java applet:\r\n\r\n    for (int i = 0; i &lt; 12; i++)\r\n\t\t{\r\n\t\t\ttry {\r\n\t\t\t\tJOptionPane.showMessageDialog(null, &quot;CodeBase: &quot; + getCodeBase());\r\n\t\t\t\tJOptionPane.showMessageDialog(null, &quot;Earl: &quot; + new URL(getCodeBase(), &quot;../animation/MonkeyAnimX&quot; + String.valueOf(i) + &quot;.jpeg&quot;));\r\n\t\t\t\tpreparedartwork[i] = getImage(new URL(getCodeBase(), &quot;../animation/MonkeyAnimX&quot; + String.valueOf(i) + &quot;.jpeg&quot;));\r\n\t\t\t} catch (MalformedURLException ex) {\r\n            \tex.printStackTrace();\r\n\t\t\t}\r\n\t\t}\r\nWhen the exception is thrown it says:\r\n\r\n    java.security.AccessControlException: access denied (java.io.FilePermission /var/www/animation/MonkeyAnimX0.jpeg read)\r\n    at java.security.AccessControlContext.checkPermission(AccessControlContext.java:399)\r\n    at java.security.AccessController.checkPermission(AccessController.java:558)\r\n    at java.lang.SecurityManager.checkPermission(SecurityManager.java:549)\r\n    at java.lang.SecurityManager.checkRead(SecurityManager.java:888)\r\n    at sun.awt.image.URLImageSource.&lt;init&gt;(URLImageSource.java:55)\r\n    at sun.applet.AppletImageRef.reconstitute(AppletImageRef.java:51)\r\n    at sun.misc.Ref.get(Ref.java:64)\r\n    at sun.applet.AppletViewer.getCachedImage(AppletViewer.java:395)\r\n    at sun.applet.AppletViewer.getImage(AppletViewer.java:390)\r\n    at java.applet.Applet.getImage(Applet.java:259)\r\n    at MonkeysTyping.init(MonkeysTyping.java:213)\r\n    at sun.applet.AppletPanel.run(AppletPanel.java:437)\r\n    at java.lang.Thread.run(Thread.java:679)\r\n\r\nTo be sure that this exception can&#39;t be thrown because of missing rights I changed it so that everybody and -thing has all rights to operate with these files. (-&gt; cmod 777) I got this code from a tutorial so what&#39;s wrong?","title":"How to get rid of this java.io.EOFException?","body":"<p>I would like to know what's wrong about this code from my java applet:</p>\n<pre><code>for (int i = 0; i &lt; 12; i++)\n    {\n        try {\n            JOptionPane.showMessageDialog(null, &quot;CodeBase: &quot; + getCodeBase());\n            JOptionPane.showMessageDialog(null, &quot;Earl: &quot; + new URL(getCodeBase(), &quot;../animation/MonkeyAnimX&quot; + String.valueOf(i) + &quot;.jpeg&quot;));\n            preparedartwork[i] = getImage(new URL(getCodeBase(), &quot;../animation/MonkeyAnimX&quot; + String.valueOf(i) + &quot;.jpeg&quot;));\n        } catch (MalformedURLException ex) {\n            ex.printStackTrace();\n        }\n    }\n</code></pre>\n<p>When the exception is thrown it says:</p>\n<pre><code>java.security.AccessControlException: access denied (java.io.FilePermission /var/www/animation/MonkeyAnimX0.jpeg read)\nat java.security.AccessControlContext.checkPermission(AccessControlContext.java:399)\nat java.security.AccessController.checkPermission(AccessController.java:558)\nat java.lang.SecurityManager.checkPermission(SecurityManager.java:549)\nat java.lang.SecurityManager.checkRead(SecurityManager.java:888)\nat sun.awt.image.URLImageSource.&lt;init&gt;(URLImageSource.java:55)\nat sun.applet.AppletImageRef.reconstitute(AppletImageRef.java:51)\nat sun.misc.Ref.get(Ref.java:64)\nat sun.applet.AppletViewer.getCachedImage(AppletViewer.java:395)\nat sun.applet.AppletViewer.getImage(AppletViewer.java:390)\nat java.applet.Applet.getImage(Applet.java:259)\nat MonkeysTyping.init(MonkeysTyping.java:213)\nat sun.applet.AppletPanel.run(AppletPanel.java:437)\nat java.lang.Thread.run(Thread.java:679)\n</code></pre>\n<p>To be sure that this exception can't be thrown because of missing rights I changed it so that everybody and -thing has all rights to operate with these files. (-&gt; cmod 777) I got this code from a tutorial so what's wrong?</p>\n"},{"tags":["java","inheritance","static","field","final"],"comments":[{"owner":{"account_id":5263098,"reputation":4148,"user_id":4204026,"accept_rate":90,"display_name":"Drew Kennedy"},"score":0,"creation_date":1463233980,"post_id":37227442,"comment_id":61984828,"body_markdown":"Sounds like you need an interface.","body":"Sounds like you need an interface."},{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":1,"creation_date":1463234412,"post_id":37227442,"comment_id":61984972,"body_markdown":"Your situation is unclear. The code you have given will not compile (because you have not given a value to `FOO` in `A`). Furthermore it&#39;s not clear what abstract class and what subclasses you are talking about because neither classes in your code is abstract, nor is it a subclass of anything but `Object`. Can you give a code example that actually shows the situation you are facing? And what getter you are talking about that you want to avoid?","body":"Your situation is unclear. The code you have given will not compile (because you have not given a value to <code>FOO</code> in <code>A</code>). Furthermore it&#39;s not clear what abstract class and what subclasses you are talking about because neither classes in your code is abstract, nor is it a subclass of anything but <code>Object</code>. Can you give a code example that actually shows the situation you are facing? And what getter you are talking about that you want to avoid?"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":3,"creation_date":1463234599,"post_id":37227442,"comment_id":61985040,"body_markdown":"Your question may in fact be an [XY Problem](http://mywiki.wooledge.org/XyProblem) where you ask &quot;how do I fix this code problem&quot; when the best solution is to use a different approach entirely. Consider telling us the overall problem that you&#39;re trying to solve rather than how you&#39;re currently trying to solve it, since again, your approach is likely wrong.","body":"Your question may in fact be an <a href=\"http://mywiki.wooledge.org/XyProblem\" rel=\"nofollow noreferrer\">XY Problem</a> where you ask &quot;how do I fix this code problem&quot; when the best solution is to use a different approach entirely. Consider telling us the overall problem that you&#39;re trying to solve rather than how you&#39;re currently trying to solve it, since again, your approach is likely wrong."},{"owner":{"account_id":3186056,"reputation":37,"user_id":2691642,"accept_rate":0,"display_name":"ChaosNe0"},"score":0,"creation_date":1463241035,"post_id":37227442,"comment_id":61987144,"body_markdown":"I concretised what I wrote after I read your justified criticism.","body":"I concretised what I wrote after I read your justified criticism."},{"owner":{"account_id":21180,"reputation":9893,"user_id":51292,"accept_rate":59,"display_name":"Ray Tayek"},"score":1,"creation_date":1463251450,"post_id":37227442,"comment_id":61990879,"body_markdown":"why does the field have to be static?","body":"why does the field have to be static?"},{"owner":{"account_id":3186056,"reputation":37,"user_id":2691642,"accept_rate":0,"display_name":"ChaosNe0"},"score":0,"creation_date":1463652516,"post_id":37227442,"comment_id":62159636,"body_markdown":"The user may create his/her own classes but I restrict them to inherit from `Component`. As there shall be instances of these custom classes and I don&#39;t want redundance, I want to make this value static.\nAlso: The next option would be to make an abstract Field (which is not possible afaik) and the option after that would be to make the field just a normal one.","body":"The user may create his/her own classes but I restrict them to inherit from <code>Component</code>. As there shall be instances of these custom classes and I don&#39;t want redundance, I want to make this value static. Also: The next option would be to make an abstract Field (which is not possible afaik) and the option after that would be to make the field just a normal one."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":0,"creation_date":1464982190,"post_id":37227442,"comment_id":62726751,"body_markdown":"“I don’t want to use `foo`, but `bar` instead. How can I make `bar` behave like `foo`?”","body":"“I don’t want to use <code>foo</code>, but <code>bar</code> instead. How can I make <code>bar</code> behave like <code>foo</code>?”"}],"answers":[{"tags":[],"owner":{"account_id":3028916,"reputation":35508,"user_id":2568341,"accept_rate":57,"display_name":"krokodilko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1463240794,"creation_date":1463239949,"answer_id":37228528,"question_id":37227442,"body_markdown":"I really don&#39;t know how to force a Java comiler to check this at compile time,&lt;br&gt;\r\nbut it can be done at runtime, using Reflection API:\r\n\r\n    public class MyClassA {\r\n    \t\r\n    \tstatic final Integer foo = 123;\r\n    \t\r\n    \tpublic MyClassA(){\r\n    \t\ttry {\r\n    \t\t\tField f = this.getClass().getDeclaredField(&quot;foo&quot;);\r\n    \t\t\tint fooModifiers = f.getModifiers() ;\r\n    \t\t\tif( fooModifiers != ( Modifier.FINAL | Modifier.STATIC ))\r\n    \t\t\t{\r\n    \t\t\t\tthrow new RuntimeException(&quot;Each subclass of MyClassA must declare a field: static final Integer foo = value&quot;);\r\n    \t\t\t}\r\n    \t\t} catch ( SecurityException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t} catch ( NoSuchFieldException e ){\r\n    \t\t\tthrow new RuntimeException(&quot;Each subclass of MyClassA must declare a field: static final Integer foo = value&quot;, e);\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tpublic static void main(String ... x){\r\n    \t\tMyClassA m = new MyClassA();\r\n    \t}\r\n    }\r\n\r\n----------\r\nAnd now an object of a subclass of MyClassA cannot be instatiated without first declaring a field in this subclass: `final static Integer foo`:\r\n\r\n    public class MyClassB extends MyClassA{\r\n    \t\r\n    \tpublic static void main(String ... x){\r\n    \t\tMyClassB m = new MyClassB();\r\n    \t\tSystem.out.println(&quot;I am main&quot;);\r\n    \t}\r\n    \t\r\n    \t// final Integer foo = 444;\r\n        // final private Integer foo = 444;\r\n    \tstatic Integer foo = 555;\r\n    \t// static final Integer foo =333;\r\n    }","title":"Java force static field inheritance","body":"<p>I really don't know how to force a Java comiler to check this at compile time,<br>\nbut it can be done at runtime, using Reflection API:</p>\n\n<pre><code>public class MyClassA {\n\n    static final Integer foo = 123;\n\n    public MyClassA(){\n        try {\n            Field f = this.getClass().getDeclaredField(\"foo\");\n            int fooModifiers = f.getModifiers() ;\n            if( fooModifiers != ( Modifier.FINAL | Modifier.STATIC ))\n            {\n                throw new RuntimeException(\"Each subclass of MyClassA must declare a field: static final Integer foo = value\");\n            }\n        } catch ( SecurityException e) {\n            e.printStackTrace();\n        } catch ( NoSuchFieldException e ){\n            throw new RuntimeException(\"Each subclass of MyClassA must declare a field: static final Integer foo = value\", e);\n        }\n    }\n\n    public static void main(String ... x){\n        MyClassA m = new MyClassA();\n    }\n}\n</code></pre>\n\n<hr>\n\n<p>And now an object of a subclass of MyClassA cannot be instatiated without first declaring a field in this subclass: <code>final static Integer foo</code>:</p>\n\n<pre><code>public class MyClassB extends MyClassA{\n\n    public static void main(String ... x){\n        MyClassB m = new MyClassB();\n        System.out.println(\"I am main\");\n    }\n\n    // final Integer foo = 444;\n    // final private Integer foo = 444;\n    static Integer foo = 555;\n    // static final Integer foo =333;\n}\n</code></pre>\n"}],"owner":{"account_id":3186056,"reputation":37,"user_id":2691642,"accept_rate":0,"display_name":"ChaosNe0"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":598,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1683372485,"creation_date":1463233684,"question_id":37227442,"body_markdown":"I have already searched for quite an amount of time to get a solution to this but none of them were comfortable enough to be acceptable.\r\n\r\nLet&#39;s say we have an abstract class and all its subclasses shall provide a static and final field.\r\n\r\n    abstract class A {\r\n        static final Field FOO;\r\n    }\r\n\r\n    class B extends A {\r\n        static final Field FOO = new Field(&quot;foo&quot;);\r\n    }\r\n\r\nIt&#39;s like this: There shall be instances of B and I don&#39;t want them to have a getter which means I would have to make an abstract method but there I have the same problem again.\r\n\r\nGetter:\r\n\r\n    abstract class A {\r\n        static final Field FOO;\r\n        public Field getFOO() { return A.FOO; }\r\n            // This method is not that great as I need it to be static.\r\n            // Also, as it refers to class A, but if I want to let B inherit this method it won&#39;t refer to B.FOO.\r\n        public static Field getFOO() { return FOO; }\r\n            // This method is not inherited due to being static.\r\n            // Because it is not inherited, it can&#39;t be what I want.\r\n    }\r\n\r\nWhat can I do to force the subclasses having a static final field with a specific name (and a set value) I have access to when adressing class A?\r\n\r\nIn fact, all I want is to do the following:\r\n\r\nI have an abstract class that is called `Component`. I want to make a program that gets other classes from plugins. These classes shall inherit some fields and methods from `Component`. They shall also be forced to have a static ID. The question is now: How do I force classes (that are provided by plugins) to have such a field?","title":"Java force static field inheritance","body":"<p>I have already searched for quite an amount of time to get a solution to this but none of them were comfortable enough to be acceptable.</p>\n<p>Let's say we have an abstract class and all its subclasses shall provide a static and final field.</p>\n<pre><code>abstract class A {\n    static final Field FOO;\n}\n\nclass B extends A {\n    static final Field FOO = new Field(&quot;foo&quot;);\n}\n</code></pre>\n<p>It's like this: There shall be instances of B and I don't want them to have a getter which means I would have to make an abstract method but there I have the same problem again.</p>\n<p>Getter:</p>\n<pre><code>abstract class A {\n    static final Field FOO;\n    public Field getFOO() { return A.FOO; }\n        // This method is not that great as I need it to be static.\n        // Also, as it refers to class A, but if I want to let B inherit this method it won't refer to B.FOO.\n    public static Field getFOO() { return FOO; }\n        // This method is not inherited due to being static.\n        // Because it is not inherited, it can't be what I want.\n}\n</code></pre>\n<p>What can I do to force the subclasses having a static final field with a specific name (and a set value) I have access to when adressing class A?</p>\n<p>In fact, all I want is to do the following:</p>\n<p>I have an abstract class that is called <code>Component</code>. I want to make a program that gets other classes from plugins. These classes shall inherit some fields and methods from <code>Component</code>. They shall also be forced to have a static ID. The question is now: How do I force classes (that are provided by plugins) to have such a field?</p>\n"},{"tags":["java","mysql","servlets"],"comments":[{"owner":{"account_id":14707994,"reputation":162,"user_id":10622099,"display_name":"DaniyalVaghar"},"score":0,"creation_date":1683373030,"post_id":76188577,"comment_id":134358916,"body_markdown":"you can use : https://stackoverflow.com/questions/18830815/hibernate-doesnt-create-foreign-key-constraints-for-manytoone","body":"you can use : <a href=\"https://stackoverflow.com/questions/18830815/hibernate-doesnt-create-foreign-key-constraints-for-manytoone\" title=\"hibernate doesnt create foreign key constraints for manytoone\">stackoverflow.com/questions/18830815/&hellip;</a>"},{"owner":{"account_id":22249270,"reputation":45,"user_id":16482462,"display_name":"FalAn"},"score":0,"creation_date":1683383892,"post_id":76188577,"comment_id":134360177,"body_markdown":"@DaniyalVaghar thank you sir, that&#39;s because i have to use a different Dialect, i change it and now it work","body":"@DaniyalVaghar thank you sir, that&#39;s because i have to use a different Dialect, i change it and now it work"}],"owner":{"account_id":22249270,"reputation":45,"user_id":16482462,"display_name":"FalAn"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683371906,"creation_date":1683371906,"question_id":76188577,"body_markdown":"i&#39;m having a small problem while using java Servlet Hibernate to generate DB + tables + relationships when starting the project, the sql statement that hibernate generate is fine as i can see, i can see the new DB has been created, and also new tables too, but sadly not the relationships:\r\n\r\nHere is the sql statement from hibernate:\r\n\r\nHibernate: \r\n    \r\n        drop table if exists account\r\n    May 06, 2023 5:50:30 PM org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl getIsolatedConnection\r\n    INFO: HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@431299a2] for (non-JTA) DDL execution was not in auto-commit mode; the Connection &#39;local transaction&#39; will be committed and the Connection will be set into auto-commit mode.\r\n    Hibernate: \r\n        \r\n        drop table if exists accountRole\r\n    Hibernate: \r\n        \r\n        drop table if exists category\r\n    Hibernate: \r\n        \r\n        drop table if exists invoice\r\n    Hibernate: \r\n        \r\n        drop table if exists invoice_detail\r\n    Hibernate: \r\n        \r\n        drop table if exists product\r\n    Hibernate: \r\n        \r\n        drop table if exists role\r\n    Hibernate: \r\n        \r\n        create table account (\r\n           id integer not null auto_increment,\r\n            birthday date not null,\r\n            full_name varchar(250) not null,\r\n            gender varchar(20) not null,\r\n            password varchar(250) not null,\r\n            username varchar(250) not null,\r\n            primary key (id)\r\n        ) engine=MyISAM\r\n    May 06, 2023 5:50:30 PM org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl getIsolatedConnection\r\n    INFO: HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@b614e1b] for (non-JTA) DDL execution was not in auto-commit mode; the Connection &#39;local transaction&#39; will be committed and the Connection will be set into auto-commit mode.\r\n    Hibernate: \r\n        \r\n        create table accountRole (\r\n           id integer not null auto_increment,\r\n            account_id integer not null,\r\n            role_id integer not null,\r\n            primary key (id)\r\n        ) engine=MyISAM\r\n    Hibernate: \r\n        \r\n        create table category (\r\n           id integer not null auto_increment,\r\n            name varchar(250) not null,\r\n            primary key (id)\r\n        ) engine=MyISAM\r\n    Hibernate: \r\n        \r\n        create table invoice (\r\n           id integer not null auto_increment,\r\n            created date not null,\r\n            name varchar(250) not null,\r\n            payment varchar(250) not null,\r\n            status varchar(250) not null,\r\n            account_id integer not null,\r\n            primary key (id)\r\n        ) engine=MyISAM\r\n    Hibernate: \r\n        \r\n        create table invoice_detail (\r\n           id integer not null auto_increment,\r\n            price double precision not null,\r\n            quantity integer not null,\r\n            invoice_id integer not null,\r\n            product_id integer not null,\r\n            primary key (id)\r\n        ) engine=MyISAM\r\n    Hibernate: \r\n        \r\n        create table product (\r\n           id integer not null auto_increment,\r\n            created date not null,\r\n            description varchar(250) not null,\r\n            name varchar(250) not null,\r\n            price double precision not null,\r\n            quantity integer not null,\r\n            status bit not null,\r\n            category_id integer not null,\r\n            primary key (id)\r\n        ) engine=MyISAM\r\n    Hibernate: \r\n        \r\n        create table role (\r\n           id integer not null auto_increment,\r\n            name varchar(250) not null,\r\n            primary key (id)\r\n        ) engine=MyISAM\r\n    Hibernate: \r\n        \r\n        alter table accountRole \r\n           add constraint FKfcklc8o9ie1hkk7s8572wysjq \r\n           foreign key (account_id) \r\n           references account (id)\r\n    Hibernate: \r\n        \r\n        alter table accountRole \r\n           add constraint FKlwdxmf96o4h5iurtam42t7xcn \r\n           foreign key (role_id) \r\n           references role (id)\r\n    Hibernate: \r\n        \r\n        alter table invoice \r\n           add constraint FKoevv8h8t2qgym9s0cn7oh069b \r\n           foreign key (account_id) \r\n           references account (id)\r\n    Hibernate: \r\n        \r\n        alter table invoice_detail \r\n           add constraint FKit1rbx4thcr6gx6bm3gxub3y4 \r\n           foreign key (invoice_id) \r\n           references invoice (id)\r\n    Hibernate: \r\n        \r\n        alter table invoice_detail \r\n           add constraint FKbe6c21nke5fy4m3vw00f23qsf \r\n           foreign key (product_id) \r\n           references product (id)\r\n    Hibernate: \r\n        \r\n        alter table product \r\n           add constraint FK1mtsbur82frn64de7balymq9s \r\n           foreign key (category_id) \r\n           references category (id)\r\n    May 06, 2023 5:50:31 PM org.hibernate.tool.schema.internal.SchemaCreatorImpl applyImportSources\r\n    INFO: HHH000476: Executing import script &#39;org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@2233c799&#39;\r\n    May 06, 2023 5:50:31 PM org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator initiateService\r\n    INFO: HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\r\n\r\nAs you can see, hibernate has successfully create foreign key constraints, but when i check PhpMyAdmin, i don&#39;t see any relationship:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nHere is my entities code:\r\n\r\nAccount:\r\n    \r\n        @Entity\r\n        @Table(name = &quot;account&quot;)\r\n        public class Account implements java.io.Serializable {\r\n        \r\n        \t@Id\r\n        \t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        \t@Column(name = &quot;id&quot;, unique = true, nullable = false, length = 11)\r\n        \tprivate Integer id;\r\n        \r\n        \t@Column(name = &quot;username&quot;, nullable = false, length = 250)\r\n        \tprivate String username;\r\n        \r\n        \t@Column(name = &quot;password&quot;, nullable = false, length = 250)\r\n        \tprivate String password;\r\n        \r\n        \t@Column(name = &quot;full_name&quot;, nullable = false, length = 250)\r\n        \tprivate String fullName;\r\n        \r\n        \t@Temporal(TemporalType.DATE)\r\n        \t@Column(name = &quot;birthday&quot;, nullable = false, length = 10)\r\n        \tprivate Date birthday;\r\n        \r\n        \t@Column(name = &quot;gender&quot;, nullable = false, length = 20)\r\n        \tprivate String gender;\r\n        \r\n        \t@OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;account&quot;)\r\n        \tprivate Set&lt;AccountRole&gt; accountRoles = new HashSet&lt;AccountRole&gt;(0);\r\n        \r\n        \t@OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;account&quot;)\r\n        \tprivate Set&lt;Invoice&gt; invoices = new HashSet&lt;Invoice&gt;(0);\r\n        \r\n        \tpublic Account() {\r\n        \t}\r\n        \r\n        \tpublic Account(String username, String password, String fullName, Date birthday, String gender) {\r\n        \t\tthis.username = username;\r\n        \t\tthis.password = password;\r\n        \t\tthis.fullName = fullName;\r\n        \t\tthis.birthday = birthday;\r\n        \t\tthis.gender = gender;\r\n        \t}\r\n        \r\n        \tpublic Account(Integer id, String username, String password, String fullName, Date birthday, String gender,\r\n        \t\t\tSet&lt;AccountRole&gt; accountRoles, Set&lt;Invoice&gt; invoices) {\r\n        \t\tthis.id = id;\r\n        \t\tthis.username = username;\r\n        \t\tthis.password = password;\r\n        \t\tthis.fullName = fullName;\r\n        \t\tthis.birthday = birthday;\r\n        \t\tthis.gender = gender;\r\n        \t\tthis.accountRoles = accountRoles;\r\n        \t\tthis.invoices = invoices;\r\n        \t}\r\n        \r\n        \tpublic Integer getId() {\r\n        \t\treturn this.id;\r\n        \t}\r\n        \r\n        \tpublic void setId(Integer id) {\r\n        \t\tthis.id = id;\r\n        \t}\r\n        \r\n        \tpublic String getUsername() {\r\n        \t\treturn this.username;\r\n        \t}\r\n        \r\n        \tpublic void setUsername(String username) {\r\n        \t\tthis.username = username;\r\n        \t}\r\n        \r\n        \tpublic String getPassword() {\r\n        \t\treturn this.password;\r\n        \t}\r\n        \r\n        \tpublic void setPassword(String password) {\r\n        \t\tthis.password = password;\r\n        \t}\r\n        \r\n        \tpublic String getFullName() {\r\n        \t\treturn this.fullName;\r\n        \t}\r\n        \r\n        \tpublic void setFullName(String fullName) {\r\n        \t\tthis.fullName = fullName;\r\n        \t}\r\n        \r\n        \tpublic Date getBirthday() {\r\n        \t\treturn this.birthday;\r\n        \t}\r\n        \r\n        \tpublic void setBirthday(Date birthday) {\r\n        \t\tthis.birthday = birthday;\r\n        \t}\r\n        \r\n        \tpublic String getGender() {\r\n        \t\treturn this.gender;\r\n        \t}\r\n        \r\n        \tpublic void setGender(String gender) {\r\n        \t\tthis.gender = gender;\r\n        \t}\r\n        \r\n        \tpublic Set&lt;AccountRole&gt; getAccountRoles() {\r\n        \t\treturn accountRoles;\r\n        \t}\r\n        \r\n        \tpublic void setAccountRoles(Set&lt;AccountRole&gt; accountRoles) {\r\n        \t\tthis.accountRoles = accountRoles;\r\n        \t}\r\n        \r\n        \tpublic Set&lt;Invoice&gt; getInvoices() {\r\n        \t\treturn this.invoices;\r\n        \t}\r\n        \r\n        \tpublic void setInvoices(Set&lt;Invoice&gt; invoices) {\r\n        \t\tthis.invoices = invoices;\r\n        \t}\r\n        \r\n        } \r\n\r\n  \r\n\r\n\r\n\r\nAccountRole:\r\n    \r\n    @Entity\r\n    @Table(name = &quot;accountRole&quot;)\r\n    public class AccountRole implements java.io.Serializable {\r\n    \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    \t@Column(name = &quot;id&quot;, unique = true, nullable = false, length = 11)\r\n    \tpublic Integer id;\r\n    \t\r\n    \t@ManyToOne(fetch = FetchType.LAZY)\r\n    \t@JoinColumn(name = &quot;account_id&quot;, nullable = false)\r\n    \tpublic Account account;\r\n    \t\r\n    \t@ManyToOne(fetch = FetchType.LAZY)\r\n    \t@JoinColumn(name = &quot;role_id&quot;, nullable = false)\r\n    \tpublic Role role;\r\n    \r\n    \tpublic AccountRole(Integer id, Account account, Role role) {\r\n    \t\tthis.id = id;\r\n    \t\tthis.account = account;\r\n    \t\tthis.role = role;\r\n    \t}\r\n    \r\n    \tpublic Integer getId() {\r\n    \t\treturn id;\r\n    \t}\r\n    \r\n    \tpublic void setId(Integer id) {\r\n    \t\tthis.id = id;\r\n    \t}\r\n    \r\n    \tpublic Account getAccount() {\r\n    \t\treturn account;\r\n    \t}\r\n    \r\n    \tpublic void setAccount(Account account) {\r\n    \t\tthis.account = account;\r\n    \t}\r\n    \r\n    \tpublic Role getRole() {\r\n    \t\treturn role;\r\n    \t}\r\n    \r\n    \tpublic void setRole(Role role) {\r\n    \t\tthis.role = role;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic String toString() {\r\n    \t\treturn &quot;AccountRole [id=&quot; + id + &quot;, account=&quot; + account + &quot;, role=&quot; + role + &quot;]&quot;;\r\n    \t}\r\n    \r\n    }\r\n\r\nCategory:\r\n\r\n    @Entity\r\n    @Table(name = &quot;category&quot;)\r\n    public class Category implements java.io.Serializable {\r\n    \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    \t@Column(name = &quot;id&quot;, unique = true, nullable = false, length = 11)\r\n    \tprivate Integer id;\r\n    \t\r\n    \t@Column(name = &quot;name&quot;, nullable = false, length = 250)\r\n    \tprivate String name;\r\n    \t\r\n    \t@OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;category&quot;)\r\n    \tprivate Set&lt;Product&gt; products = new HashSet&lt;Product&gt;(0);\r\n    \r\n    \tpublic Category() {\r\n    \t}\r\n    \r\n    \tpublic Category(String name) {\r\n    \t\tthis.name = name;\r\n    \t}\r\n    \r\n    \tpublic Category(String name, Set&lt;Product&gt; products) {\r\n    \t\tthis.name = name;\r\n    \t\tthis.products = products;\r\n    \t}\r\n    \r\n    \r\n    \tpublic Integer getId() {\r\n    \t\treturn this.id;\r\n    \t}\r\n    \r\n    \tpublic void setId(Integer id) {\r\n    \t\tthis.id = id;\r\n    \t}\r\n    \r\n    \r\n    \tpublic String getName() {\r\n    \t\treturn this.name;\r\n    \t}\r\n    \r\n    \tpublic void setName(String name) {\r\n    \t\tthis.name = name;\r\n    \t}\r\n    \r\n    \r\n    \tpublic Set&lt;Product&gt; getProducts() {\r\n    \t\treturn this.products;\r\n    \t}\r\n    \r\n    \tpublic void setProducts(Set&lt;Product&gt; products) {\r\n    \t\tthis.products = products;\r\n    \t}\r\n    \r\n    }\r\n\r\nInvoice:\r\n\r\n    @Entity\r\n    @Table(name = &quot;invoice&quot;)\r\n    public class Invoice implements java.io.Serializable {\r\n    \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    \t@Column(name = &quot;id&quot;, unique = true, nullable = false, length = 11)\r\n    \tprivate Integer id;\r\n    \r\n    \t@ManyToOne(fetch = FetchType.LAZY)\r\n    \t@JoinColumn(name = &quot;account_id&quot;, nullable = false)\r\n    \tprivate Account account;\r\n    \r\n    \t@Column(name = &quot;name&quot;, nullable = false, length = 250)\r\n    \tprivate String name;\r\n    \r\n    \t@Column(name = &quot;payment&quot;, nullable = false, length = 250)\r\n    \tprivate String payment;\r\n    \r\n    \t@Column(name = &quot;status&quot;, nullable = false, length = 250)\r\n    \tprivate String status;\r\n    \r\n    \t@Temporal(TemporalType.DATE)\r\n    \t@Column(name = &quot;created&quot;, nullable = false, length = 10)\r\n    \tprivate Date created;\r\n    \r\n    \t@OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;invoice&quot;)\r\n    \tprivate Set&lt;InvoiceDetail&gt; invoiceDetails = new HashSet&lt;InvoiceDetail&gt;(0);\r\n    \r\n    \tpublic Invoice() {\r\n    \t}\r\n    \r\n    \tpublic Invoice(Account account, String name, String payment, String status, Date created) {\r\n    \t\tthis.account = account;\r\n    \t\tthis.name = name;\r\n    \t\tthis.payment = payment;\r\n    \t\tthis.status = status;\r\n    \t\tthis.created = created;\r\n    \t}\r\n    \r\n    \tpublic Invoice(Account account, String name, String payment, String status, Date created,\r\n    \t\t\tSet&lt;InvoiceDetail&gt; invoiceDetails) {\r\n    \t\tthis.account = account;\r\n    \t\tthis.name = name;\r\n    \t\tthis.payment = payment;\r\n    \t\tthis.status = status;\r\n    \t\tthis.created = created;\r\n    \t\tthis.invoiceDetails = invoiceDetails;\r\n    \t}\r\n    \r\n    \tpublic Integer getId() {\r\n    \t\treturn this.id;\r\n    \t}\r\n    \r\n    \tpublic void setId(Integer id) {\r\n    \t\tthis.id = id;\r\n    \t}\r\n    \r\n    \tpublic Account getAccount() {\r\n    \t\treturn this.account;\r\n    \t}\r\n    \r\n    \tpublic void setAccount(Account account) {\r\n    \t\tthis.account = account;\r\n    \t}\r\n    \r\n    \tpublic String getName() {\r\n    \t\treturn this.name;\r\n    \t}\r\n    \r\n    \tpublic void setName(String name) {\r\n    \t\tthis.name = name;\r\n    \t}\r\n    \r\n    \tpublic String getPayment() {\r\n    \t\treturn this.payment;\r\n    \t}\r\n    \r\n    \tpublic void setPayment(String payment) {\r\n    \t\tthis.payment = payment;\r\n    \t}\r\n    \r\n    \tpublic String getStatus() {\r\n    \t\treturn this.status;\r\n    \t}\r\n    \r\n    \tpublic void setStatus(String status) {\r\n    \t\tthis.status = status;\r\n    \t}\r\n    \r\n    \tpublic Date getCreated() {\r\n    \t\treturn this.created;\r\n    \t}\r\n    \r\n    \tpublic void setCreated(Date created) {\r\n    \t\tthis.created = created;\r\n    \t}\r\n    \r\n    \tpublic Set&lt;InvoiceDetail&gt; getInvoiceDetails() {\r\n    \t\treturn this.invoiceDetails;\r\n    \t}\r\n    \r\n    \tpublic void setInvoiceDetails(Set&lt;InvoiceDetail&gt; invoiceDetails) {\r\n    \t\tthis.invoiceDetails = invoiceDetails;\r\n    \t}\r\n    \r\n    }\r\n\r\nInvoiceDetail:\r\n\r\n    @Entity\r\n    @Table(name = &quot;invoice_detail&quot;)\r\n    public class InvoiceDetail implements java.io.Serializable {\r\n    \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    \t@Column(name = &quot;id&quot;, unique = true, nullable = false, length = 11)\r\n    \tprivate Integer id;\r\n    \t\r\n    \t@ManyToOne(fetch = FetchType.LAZY)\r\n    \t@JoinColumn(name = &quot;invoice_id&quot;, nullable = false)\r\n    \tprivate Invoice invoice;\r\n    \t\r\n    \t@ManyToOne(fetch = FetchType.LAZY)\r\n    \t@JoinColumn(name = &quot;product_id&quot;, nullable = false)\r\n    \tprivate Product product;\r\n    \t\r\n    \t@Column(name = &quot;price&quot;, nullable = false, precision = 22, scale = 0)\r\n    \tprivate double price;\r\n    \t\r\n    \t@Column(name = &quot;quantity&quot;, nullable = false)\r\n    \tprivate int quantity;\r\n    \r\n    \tpublic InvoiceDetail() {\r\n    \t}\r\n    \r\n    \tpublic InvoiceDetail(Integer id, Invoice invoice, Product product, double price, int quantity) {\r\n    \t\tthis.id = id;\r\n    \t\tthis.invoice = invoice;\r\n    \t\tthis.product = product;\r\n    \t\tthis.price = price;\r\n    \t\tthis.quantity = quantity;\r\n    \t}\r\n    \r\n    \tpublic Integer getId() {\r\n    \t\treturn this.id;\r\n    \t}\r\n    \r\n    \tpublic void setId(Integer id) {\r\n    \t\tthis.id = id;\r\n    \t}\r\n    \r\n    \r\n    \tpublic Invoice getInvoice() {\r\n    \t\treturn this.invoice;\r\n    \t}\r\n    \r\n    \tpublic void setInvoice(Invoice invoice) {\r\n    \t\tthis.invoice = invoice;\r\n    \t}\r\n    \r\n    \r\n    \tpublic Product getProduct() {\r\n    \t\treturn this.product;\r\n    \t}\r\n    \r\n    \tpublic void setProduct(Product product) {\r\n    \t\tthis.product = product;\r\n    \t}\r\n    \r\n    \r\n    \tpublic double getPrice() {\r\n    \t\treturn this.price;\r\n    \t}\r\n    \r\n    \tpublic void setPrice(double price) {\r\n    \t\tthis.price = price;\r\n    \t}\r\n    \r\n    \r\n    \tpublic int getQuantity() {\r\n    \t\treturn this.quantity;\r\n    \t}\r\n    \r\n    \tpublic void setQuantity(int quantity) {\r\n    \t\tthis.quantity = quantity;\r\n    \t}\r\n    \r\n    }\r\n\r\nProduct:\r\n\r\n    @Entity\r\n    @Table(name = &quot;product&quot;)\r\n    public class Product implements java.io.Serializable {\r\n    \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    \t@Column(name = &quot;id&quot;, unique = true, nullable = false, length = 11)\r\n    \tprivate Integer id;\r\n    \r\n    \t@ManyToOne(fetch = FetchType.LAZY)\r\n    \t@JoinColumn(name = &quot;category_id&quot;, nullable = false)\r\n    \tprivate Category category;\r\n    \r\n    \t@Column(name = &quot;name&quot;, nullable = false, length = 250)\r\n    \tprivate String name;\r\n    \r\n    \t@Column(name = &quot;price&quot;, nullable = false, precision = 22, scale = 0)\r\n    \tprivate double price;\r\n    \r\n    \t@Column(name = &quot;quantity&quot;, nullable = false)\r\n    \tprivate int quantity;\r\n    \r\n    \t@Column(name = &quot;status&quot;, nullable = false)\r\n    \tprivate boolean status;\r\n    \r\n    \t@Temporal(TemporalType.DATE)\r\n    \t@Column(name = &quot;created&quot;, nullable = false, length = 10)\r\n    \tprivate Date created;\r\n    \r\n    \t@Column(name = &quot;description&quot;, nullable = false, length = 250)\r\n    \tprivate String description;\r\n    \r\n    \t@OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;product&quot;)\r\n    \tprivate Set&lt;InvoiceDetail&gt; invoiceDetails = new HashSet&lt;InvoiceDetail&gt;(0);\r\n    \r\n    \tpublic Product() {\r\n    \t}\r\n    \r\n    \tpublic Product(Category category, String name, double price, int quantity, boolean status, Date created,\r\n    \t\t\tString description) {\r\n    \t\tthis.category = category;\r\n    \t\tthis.name = name;\r\n    \t\tthis.price = price;\r\n    \t\tthis.quantity = quantity;\r\n    \t\tthis.status = status;\r\n    \t\tthis.created = created;\r\n    \t\tthis.description = description;\r\n    \t}\r\n    \r\n    \tpublic Product(Category category, String name, double price, int quantity, boolean status, Date created,\r\n    \t\t\tString description, Set&lt;InvoiceDetail&gt; invoiceDetails) {\r\n    \t\tthis.category = category;\r\n    \t\tthis.name = name;\r\n    \t\tthis.price = price;\r\n    \t\tthis.quantity = quantity;\r\n    \t\tthis.status = status;\r\n    \t\tthis.created = created;\r\n    \t\tthis.description = description;\r\n    \t\tthis.invoiceDetails = invoiceDetails;\r\n    \t}\r\n    \r\n    \tpublic Integer getId() {\r\n    \t\treturn this.id;\r\n    \t}\r\n    \r\n    \tpublic void setId(Integer id) {\r\n    \t\tthis.id = id;\r\n    \t}\r\n    \r\n    \tpublic Category getCategory() {\r\n    \t\treturn this.category;\r\n    \t}\r\n    \r\n    \tpublic void setCategory(Category category) {\r\n    \t\tthis.category = category;\r\n    \t}\r\n    \r\n    \tpublic String getName() {\r\n    \t\treturn this.name;\r\n    \t}\r\n    \r\n    \tpublic void setName(String name) {\r\n    \t\tthis.name = name;\r\n    \t}\r\n    \r\n    \tpublic double getPrice() {\r\n    \t\treturn this.price;\r\n    \t}\r\n    \r\n    \tpublic void setPrice(double price) {\r\n    \t\tthis.price = price;\r\n    \t}\r\n    \r\n    \tpublic int getQuantity() {\r\n    \t\treturn this.quantity;\r\n    \t}\r\n    \r\n    \tpublic void setQuantity(int quantity) {\r\n    \t\tthis.quantity = quantity;\r\n    \t}\r\n    \r\n    \tpublic boolean isStatus() {\r\n    \t\treturn this.status;\r\n    \t}\r\n    \r\n    \tpublic void setStatus(boolean status) {\r\n    \t\tthis.status = status;\r\n    \t}\r\n    \r\n    \tpublic Date getCreated() {\r\n    \t\treturn this.created;\r\n    \t}\r\n    \r\n    \tpublic void setCreated(Date created) {\r\n    \t\tthis.created = created;\r\n    \t}\r\n    \r\n    \tpublic String getDescription() {\r\n    \t\treturn this.description;\r\n    \t}\r\n    \r\n    \tpublic void setDescription(String description) {\r\n    \t\tthis.description = description;\r\n    \t}\r\n    \r\n    \tpublic Set&lt;InvoiceDetail&gt; getInvoiceDetails() {\r\n    \t\treturn this.invoiceDetails;\r\n    \t}\r\n    \r\n    \tpublic void setInvoiceDetails(Set&lt;InvoiceDetail&gt; invoiceDetails) {\r\n    \t\tthis.invoiceDetails = invoiceDetails;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic String toString() {\r\n    \t\tSimpleDateFormat simpleDateFormat = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;);\r\n    \t\treturn &quot;Product [id=&quot; + id + &quot;, category=&quot; + category + &quot;, name=&quot; + name + &quot;, price=&quot; + price + &quot;, quantity=&quot;\r\n    \t\t\t\t+ quantity + &quot;, status=&quot; + status + &quot;, created=&quot; + simpleDateFormat.format(created) + &quot;, description=&quot;\r\n    \t\t\t\t+ description + &quot;]&quot;;\r\n    \t}\r\n    \r\n    }\r\n\r\nRole: \r\n\r\n    @Entity\r\n    @Table(name = &quot;role&quot;)\r\n    public class Role implements java.io.Serializable {\r\n    \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    \t@Column(name = &quot;id&quot;, unique = true, nullable = false, length = 11)\r\n    \tprivate Integer id;\r\n    \r\n    \t@Column(name = &quot;name&quot;, nullable = false, length = 250)\r\n    \tprivate String name;\r\n    \r\n    \t@OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;role&quot;)\r\n    \tprivate Set&lt;AccountRole&gt; accountRoles = new HashSet&lt;AccountRole&gt;(0);\r\n    \r\n    \tpublic Role() {\r\n    \t}\r\n    \r\n    \tpublic Role(String name) {\r\n    \t\tthis.name = name;\r\n    \t}\r\n    \r\n    \tpublic Role(Integer id, String name, Set&lt;AccountRole&gt; accountRoles) {\r\n    \t\tsuper();\r\n    \t\tthis.id = id;\r\n    \t\tthis.name = name;\r\n    \t\tthis.accountRoles = accountRoles;\r\n    \t}\r\n    \r\n    \tpublic Integer getId() {\r\n    \t\treturn this.id;\r\n    \t}\r\n    \r\n    \tpublic void setId(Integer id) {\r\n    \t\tthis.id = id;\r\n    \t}\r\n    \r\n    \tpublic String getName() {\r\n    \t\treturn this.name;\r\n    \t}\r\n    \r\n    \tpublic void setName(String name) {\r\n    \t\tthis.name = name;\r\n    \t}\r\n    \r\n    \tpublic Set&lt;AccountRole&gt; getAccountRoles() {\r\n    \t\treturn accountRoles;\r\n    \t}\r\n    \r\n    \tpublic void setAccountRoles(Set&lt;AccountRole&gt; accountRoles) {\r\n    \t\tthis.accountRoles = accountRoles;\r\n    \t}\r\n    \r\n    }\r\n\r\nMy hibernate config:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;!DOCTYPE hibernate-configuration PUBLIC &quot;-//Hibernate/Hibernate Configuration DTD 3.0//EN&quot;\r\n                                             &quot;http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&gt;\r\n    &lt;hibernate-configuration&gt;\r\n    \t&lt;session-factory&gt;\r\n    \t\t&lt;property name=&quot;hibernate.connection.driver_class&quot;&gt;com.mysql.jdbc.Driver&lt;/property&gt;\r\n    \t\t&lt;property name=&quot;hibernate.connection.url&quot;&gt;jdbc:mysql://localhost:3306/test&lt;/property&gt;\r\n    \t\t&lt;property name=&quot;hibernate.connection.username&quot;&gt;root&lt;/property&gt;\r\n    \t\t&lt;property name=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.MySQL5Dialect&lt;/property&gt;\r\n    \t\t&lt;property name=&quot;hibernate.hbm2ddl.auto&quot;&gt;create&lt;/property&gt;\r\n    \t\t&lt;property name=&quot;hibernate.enable_lazy_load_no_trans&quot;&gt;true&lt;/property&gt;\r\n    \t\t&lt;property name=&quot;hibernate.show_sql&quot;&gt;true&lt;/property&gt;\r\n    \t\t&lt;property name=&quot;hibernate.format_sql&quot;&gt;true&lt;/property&gt;\r\n    \r\n    \t\t&lt;mapping class=&quot;com.test.entities.Account&quot; /&gt;\r\n    \t\t&lt;mapping class=&quot;com.test.entities.Invoice&quot; /&gt;\r\n    \t\t&lt;mapping class=&quot;com.test.entities.InvoiceDetail&quot; /&gt;\r\n    \t\t&lt;mapping class=&quot;com.test.entities.Product&quot; /&gt;\r\n    \t\t&lt;mapping class=&quot;com.test.entities.Role&quot; /&gt;\r\n    \t\t&lt;mapping class=&quot;com.test.entities.Category&quot; /&gt;\r\n    \t\t&lt;mapping class=&quot;com.test.entities.AccountRole&quot; /&gt;\r\n    \r\n    \t&lt;/session-factory&gt;\r\n    &lt;/hibernate-configuration&gt;\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/EMPCw.png\r\n","title":"Java servlet hibernate, can not join column on project run, even the set foreign key contraints is fired","body":"<p>i'm having a small problem while using java Servlet Hibernate to generate DB + tables + relationships when starting the project, the sql statement that hibernate generate is fine as i can see, i can see the new DB has been created, and also new tables too, but sadly not the relationships:</p>\n<p>Here is the sql statement from hibernate:</p>\n<p>Hibernate:</p>\n<pre><code>    drop table if exists account\nMay 06, 2023 5:50:30 PM org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl getIsolatedConnection\nINFO: HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@431299a2] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.\nHibernate: \n    \n    drop table if exists accountRole\nHibernate: \n    \n    drop table if exists category\nHibernate: \n    \n    drop table if exists invoice\nHibernate: \n    \n    drop table if exists invoice_detail\nHibernate: \n    \n    drop table if exists product\nHibernate: \n    \n    drop table if exists role\nHibernate: \n    \n    create table account (\n       id integer not null auto_increment,\n        birthday date not null,\n        full_name varchar(250) not null,\n        gender varchar(20) not null,\n        password varchar(250) not null,\n        username varchar(250) not null,\n        primary key (id)\n    ) engine=MyISAM\nMay 06, 2023 5:50:30 PM org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl getIsolatedConnection\nINFO: HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@b614e1b] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.\nHibernate: \n    \n    create table accountRole (\n       id integer not null auto_increment,\n        account_id integer not null,\n        role_id integer not null,\n        primary key (id)\n    ) engine=MyISAM\nHibernate: \n    \n    create table category (\n       id integer not null auto_increment,\n        name varchar(250) not null,\n        primary key (id)\n    ) engine=MyISAM\nHibernate: \n    \n    create table invoice (\n       id integer not null auto_increment,\n        created date not null,\n        name varchar(250) not null,\n        payment varchar(250) not null,\n        status varchar(250) not null,\n        account_id integer not null,\n        primary key (id)\n    ) engine=MyISAM\nHibernate: \n    \n    create table invoice_detail (\n       id integer not null auto_increment,\n        price double precision not null,\n        quantity integer not null,\n        invoice_id integer not null,\n        product_id integer not null,\n        primary key (id)\n    ) engine=MyISAM\nHibernate: \n    \n    create table product (\n       id integer not null auto_increment,\n        created date not null,\n        description varchar(250) not null,\n        name varchar(250) not null,\n        price double precision not null,\n        quantity integer not null,\n        status bit not null,\n        category_id integer not null,\n        primary key (id)\n    ) engine=MyISAM\nHibernate: \n    \n    create table role (\n       id integer not null auto_increment,\n        name varchar(250) not null,\n        primary key (id)\n    ) engine=MyISAM\nHibernate: \n    \n    alter table accountRole \n       add constraint FKfcklc8o9ie1hkk7s8572wysjq \n       foreign key (account_id) \n       references account (id)\nHibernate: \n    \n    alter table accountRole \n       add constraint FKlwdxmf96o4h5iurtam42t7xcn \n       foreign key (role_id) \n       references role (id)\nHibernate: \n    \n    alter table invoice \n       add constraint FKoevv8h8t2qgym9s0cn7oh069b \n       foreign key (account_id) \n       references account (id)\nHibernate: \n    \n    alter table invoice_detail \n       add constraint FKit1rbx4thcr6gx6bm3gxub3y4 \n       foreign key (invoice_id) \n       references invoice (id)\nHibernate: \n    \n    alter table invoice_detail \n       add constraint FKbe6c21nke5fy4m3vw00f23qsf \n       foreign key (product_id) \n       references product (id)\nHibernate: \n    \n    alter table product \n       add constraint FK1mtsbur82frn64de7balymq9s \n       foreign key (category_id) \n       references category (id)\nMay 06, 2023 5:50:31 PM org.hibernate.tool.schema.internal.SchemaCreatorImpl applyImportSources\nINFO: HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@2233c799'\nMay 06, 2023 5:50:31 PM org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator initiateService\nINFO: HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\n</code></pre>\n<p>As you can see, hibernate has successfully create foreign key constraints, but when i check PhpMyAdmin, i don't see any relationship:</p>\n<p><a href=\"https://i.stack.imgur.com/EMPCw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EMPCw.png\" alt=\"enter image description here\" /></a></p>\n<p>Here is my entities code:</p>\n<p>Account:</p>\n<pre><code>    @Entity\n    @Table(name = &quot;account&quot;)\n    public class Account implements java.io.Serializable {\n    \n        @Id\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\n        @Column(name = &quot;id&quot;, unique = true, nullable = false, length = 11)\n        private Integer id;\n    \n        @Column(name = &quot;username&quot;, nullable = false, length = 250)\n        private String username;\n    \n        @Column(name = &quot;password&quot;, nullable = false, length = 250)\n        private String password;\n    \n        @Column(name = &quot;full_name&quot;, nullable = false, length = 250)\n        private String fullName;\n    \n        @Temporal(TemporalType.DATE)\n        @Column(name = &quot;birthday&quot;, nullable = false, length = 10)\n        private Date birthday;\n    \n        @Column(name = &quot;gender&quot;, nullable = false, length = 20)\n        private String gender;\n    \n        @OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;account&quot;)\n        private Set&lt;AccountRole&gt; accountRoles = new HashSet&lt;AccountRole&gt;(0);\n    \n        @OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;account&quot;)\n        private Set&lt;Invoice&gt; invoices = new HashSet&lt;Invoice&gt;(0);\n    \n        public Account() {\n        }\n    \n        public Account(String username, String password, String fullName, Date birthday, String gender) {\n            this.username = username;\n            this.password = password;\n            this.fullName = fullName;\n            this.birthday = birthday;\n            this.gender = gender;\n        }\n    \n        public Account(Integer id, String username, String password, String fullName, Date birthday, String gender,\n                Set&lt;AccountRole&gt; accountRoles, Set&lt;Invoice&gt; invoices) {\n            this.id = id;\n            this.username = username;\n            this.password = password;\n            this.fullName = fullName;\n            this.birthday = birthday;\n            this.gender = gender;\n            this.accountRoles = accountRoles;\n            this.invoices = invoices;\n        }\n    \n        public Integer getId() {\n            return this.id;\n        }\n    \n        public void setId(Integer id) {\n            this.id = id;\n        }\n    \n        public String getUsername() {\n            return this.username;\n        }\n    \n        public void setUsername(String username) {\n            this.username = username;\n        }\n    \n        public String getPassword() {\n            return this.password;\n        }\n    \n        public void setPassword(String password) {\n            this.password = password;\n        }\n    \n        public String getFullName() {\n            return this.fullName;\n        }\n    \n        public void setFullName(String fullName) {\n            this.fullName = fullName;\n        }\n    \n        public Date getBirthday() {\n            return this.birthday;\n        }\n    \n        public void setBirthday(Date birthday) {\n            this.birthday = birthday;\n        }\n    \n        public String getGender() {\n            return this.gender;\n        }\n    \n        public void setGender(String gender) {\n            this.gender = gender;\n        }\n    \n        public Set&lt;AccountRole&gt; getAccountRoles() {\n            return accountRoles;\n        }\n    \n        public void setAccountRoles(Set&lt;AccountRole&gt; accountRoles) {\n            this.accountRoles = accountRoles;\n        }\n    \n        public Set&lt;Invoice&gt; getInvoices() {\n            return this.invoices;\n        }\n    \n        public void setInvoices(Set&lt;Invoice&gt; invoices) {\n            this.invoices = invoices;\n        }\n    \n    } \n</code></pre>\n<p>AccountRole:</p>\n<pre><code>@Entity\n@Table(name = &quot;accountRole&quot;)\npublic class AccountRole implements java.io.Serializable {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;, unique = true, nullable = false, length = 11)\n    public Integer id;\n    \n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;account_id&quot;, nullable = false)\n    public Account account;\n    \n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;role_id&quot;, nullable = false)\n    public Role role;\n\n    public AccountRole(Integer id, Account account, Role role) {\n        this.id = id;\n        this.account = account;\n        this.role = role;\n    }\n\n    public Integer getId() {\n        return id;\n    }\n\n    public void setId(Integer id) {\n        this.id = id;\n    }\n\n    public Account getAccount() {\n        return account;\n    }\n\n    public void setAccount(Account account) {\n        this.account = account;\n    }\n\n    public Role getRole() {\n        return role;\n    }\n\n    public void setRole(Role role) {\n        this.role = role;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;AccountRole [id=&quot; + id + &quot;, account=&quot; + account + &quot;, role=&quot; + role + &quot;]&quot;;\n    }\n\n}\n</code></pre>\n<p>Category:</p>\n<pre><code>@Entity\n@Table(name = &quot;category&quot;)\npublic class Category implements java.io.Serializable {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;, unique = true, nullable = false, length = 11)\n    private Integer id;\n    \n    @Column(name = &quot;name&quot;, nullable = false, length = 250)\n    private String name;\n    \n    @OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;category&quot;)\n    private Set&lt;Product&gt; products = new HashSet&lt;Product&gt;(0);\n\n    public Category() {\n    }\n\n    public Category(String name) {\n        this.name = name;\n    }\n\n    public Category(String name, Set&lt;Product&gt; products) {\n        this.name = name;\n        this.products = products;\n    }\n\n\n    public Integer getId() {\n        return this.id;\n    }\n\n    public void setId(Integer id) {\n        this.id = id;\n    }\n\n\n    public String getName() {\n        return this.name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n\n    public Set&lt;Product&gt; getProducts() {\n        return this.products;\n    }\n\n    public void setProducts(Set&lt;Product&gt; products) {\n        this.products = products;\n    }\n\n}\n</code></pre>\n<p>Invoice:</p>\n<pre><code>@Entity\n@Table(name = &quot;invoice&quot;)\npublic class Invoice implements java.io.Serializable {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;, unique = true, nullable = false, length = 11)\n    private Integer id;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;account_id&quot;, nullable = false)\n    private Account account;\n\n    @Column(name = &quot;name&quot;, nullable = false, length = 250)\n    private String name;\n\n    @Column(name = &quot;payment&quot;, nullable = false, length = 250)\n    private String payment;\n\n    @Column(name = &quot;status&quot;, nullable = false, length = 250)\n    private String status;\n\n    @Temporal(TemporalType.DATE)\n    @Column(name = &quot;created&quot;, nullable = false, length = 10)\n    private Date created;\n\n    @OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;invoice&quot;)\n    private Set&lt;InvoiceDetail&gt; invoiceDetails = new HashSet&lt;InvoiceDetail&gt;(0);\n\n    public Invoice() {\n    }\n\n    public Invoice(Account account, String name, String payment, String status, Date created) {\n        this.account = account;\n        this.name = name;\n        this.payment = payment;\n        this.status = status;\n        this.created = created;\n    }\n\n    public Invoice(Account account, String name, String payment, String status, Date created,\n            Set&lt;InvoiceDetail&gt; invoiceDetails) {\n        this.account = account;\n        this.name = name;\n        this.payment = payment;\n        this.status = status;\n        this.created = created;\n        this.invoiceDetails = invoiceDetails;\n    }\n\n    public Integer getId() {\n        return this.id;\n    }\n\n    public void setId(Integer id) {\n        this.id = id;\n    }\n\n    public Account getAccount() {\n        return this.account;\n    }\n\n    public void setAccount(Account account) {\n        this.account = account;\n    }\n\n    public String getName() {\n        return this.name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getPayment() {\n        return this.payment;\n    }\n\n    public void setPayment(String payment) {\n        this.payment = payment;\n    }\n\n    public String getStatus() {\n        return this.status;\n    }\n\n    public void setStatus(String status) {\n        this.status = status;\n    }\n\n    public Date getCreated() {\n        return this.created;\n    }\n\n    public void setCreated(Date created) {\n        this.created = created;\n    }\n\n    public Set&lt;InvoiceDetail&gt; getInvoiceDetails() {\n        return this.invoiceDetails;\n    }\n\n    public void setInvoiceDetails(Set&lt;InvoiceDetail&gt; invoiceDetails) {\n        this.invoiceDetails = invoiceDetails;\n    }\n\n}\n</code></pre>\n<p>InvoiceDetail:</p>\n<pre><code>@Entity\n@Table(name = &quot;invoice_detail&quot;)\npublic class InvoiceDetail implements java.io.Serializable {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;, unique = true, nullable = false, length = 11)\n    private Integer id;\n    \n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;invoice_id&quot;, nullable = false)\n    private Invoice invoice;\n    \n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;product_id&quot;, nullable = false)\n    private Product product;\n    \n    @Column(name = &quot;price&quot;, nullable = false, precision = 22, scale = 0)\n    private double price;\n    \n    @Column(name = &quot;quantity&quot;, nullable = false)\n    private int quantity;\n\n    public InvoiceDetail() {\n    }\n\n    public InvoiceDetail(Integer id, Invoice invoice, Product product, double price, int quantity) {\n        this.id = id;\n        this.invoice = invoice;\n        this.product = product;\n        this.price = price;\n        this.quantity = quantity;\n    }\n\n    public Integer getId() {\n        return this.id;\n    }\n\n    public void setId(Integer id) {\n        this.id = id;\n    }\n\n\n    public Invoice getInvoice() {\n        return this.invoice;\n    }\n\n    public void setInvoice(Invoice invoice) {\n        this.invoice = invoice;\n    }\n\n\n    public Product getProduct() {\n        return this.product;\n    }\n\n    public void setProduct(Product product) {\n        this.product = product;\n    }\n\n\n    public double getPrice() {\n        return this.price;\n    }\n\n    public void setPrice(double price) {\n        this.price = price;\n    }\n\n\n    public int getQuantity() {\n        return this.quantity;\n    }\n\n    public void setQuantity(int quantity) {\n        this.quantity = quantity;\n    }\n\n}\n</code></pre>\n<p>Product:</p>\n<pre><code>@Entity\n@Table(name = &quot;product&quot;)\npublic class Product implements java.io.Serializable {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;, unique = true, nullable = false, length = 11)\n    private Integer id;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;category_id&quot;, nullable = false)\n    private Category category;\n\n    @Column(name = &quot;name&quot;, nullable = false, length = 250)\n    private String name;\n\n    @Column(name = &quot;price&quot;, nullable = false, precision = 22, scale = 0)\n    private double price;\n\n    @Column(name = &quot;quantity&quot;, nullable = false)\n    private int quantity;\n\n    @Column(name = &quot;status&quot;, nullable = false)\n    private boolean status;\n\n    @Temporal(TemporalType.DATE)\n    @Column(name = &quot;created&quot;, nullable = false, length = 10)\n    private Date created;\n\n    @Column(name = &quot;description&quot;, nullable = false, length = 250)\n    private String description;\n\n    @OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;product&quot;)\n    private Set&lt;InvoiceDetail&gt; invoiceDetails = new HashSet&lt;InvoiceDetail&gt;(0);\n\n    public Product() {\n    }\n\n    public Product(Category category, String name, double price, int quantity, boolean status, Date created,\n            String description) {\n        this.category = category;\n        this.name = name;\n        this.price = price;\n        this.quantity = quantity;\n        this.status = status;\n        this.created = created;\n        this.description = description;\n    }\n\n    public Product(Category category, String name, double price, int quantity, boolean status, Date created,\n            String description, Set&lt;InvoiceDetail&gt; invoiceDetails) {\n        this.category = category;\n        this.name = name;\n        this.price = price;\n        this.quantity = quantity;\n        this.status = status;\n        this.created = created;\n        this.description = description;\n        this.invoiceDetails = invoiceDetails;\n    }\n\n    public Integer getId() {\n        return this.id;\n    }\n\n    public void setId(Integer id) {\n        this.id = id;\n    }\n\n    public Category getCategory() {\n        return this.category;\n    }\n\n    public void setCategory(Category category) {\n        this.category = category;\n    }\n\n    public String getName() {\n        return this.name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public double getPrice() {\n        return this.price;\n    }\n\n    public void setPrice(double price) {\n        this.price = price;\n    }\n\n    public int getQuantity() {\n        return this.quantity;\n    }\n\n    public void setQuantity(int quantity) {\n        this.quantity = quantity;\n    }\n\n    public boolean isStatus() {\n        return this.status;\n    }\n\n    public void setStatus(boolean status) {\n        this.status = status;\n    }\n\n    public Date getCreated() {\n        return this.created;\n    }\n\n    public void setCreated(Date created) {\n        this.created = created;\n    }\n\n    public String getDescription() {\n        return this.description;\n    }\n\n    public void setDescription(String description) {\n        this.description = description;\n    }\n\n    public Set&lt;InvoiceDetail&gt; getInvoiceDetails() {\n        return this.invoiceDetails;\n    }\n\n    public void setInvoiceDetails(Set&lt;InvoiceDetail&gt; invoiceDetails) {\n        this.invoiceDetails = invoiceDetails;\n    }\n\n    @Override\n    public String toString() {\n        SimpleDateFormat simpleDateFormat = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;);\n        return &quot;Product [id=&quot; + id + &quot;, category=&quot; + category + &quot;, name=&quot; + name + &quot;, price=&quot; + price + &quot;, quantity=&quot;\n                + quantity + &quot;, status=&quot; + status + &quot;, created=&quot; + simpleDateFormat.format(created) + &quot;, description=&quot;\n                + description + &quot;]&quot;;\n    }\n\n}\n</code></pre>\n<p>Role:</p>\n<pre><code>@Entity\n@Table(name = &quot;role&quot;)\npublic class Role implements java.io.Serializable {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;, unique = true, nullable = false, length = 11)\n    private Integer id;\n\n    @Column(name = &quot;name&quot;, nullable = false, length = 250)\n    private String name;\n\n    @OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;role&quot;)\n    private Set&lt;AccountRole&gt; accountRoles = new HashSet&lt;AccountRole&gt;(0);\n\n    public Role() {\n    }\n\n    public Role(String name) {\n        this.name = name;\n    }\n\n    public Role(Integer id, String name, Set&lt;AccountRole&gt; accountRoles) {\n        super();\n        this.id = id;\n        this.name = name;\n        this.accountRoles = accountRoles;\n    }\n\n    public Integer getId() {\n        return this.id;\n    }\n\n    public void setId(Integer id) {\n        this.id = id;\n    }\n\n    public String getName() {\n        return this.name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public Set&lt;AccountRole&gt; getAccountRoles() {\n        return accountRoles;\n    }\n\n    public void setAccountRoles(Set&lt;AccountRole&gt; accountRoles) {\n        this.accountRoles = accountRoles;\n    }\n\n}\n</code></pre>\n<p>My hibernate config:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!DOCTYPE hibernate-configuration PUBLIC &quot;-//Hibernate/Hibernate Configuration DTD 3.0//EN&quot;\n                                         &quot;http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&gt;\n&lt;hibernate-configuration&gt;\n    &lt;session-factory&gt;\n        &lt;property name=&quot;hibernate.connection.driver_class&quot;&gt;com.mysql.jdbc.Driver&lt;/property&gt;\n        &lt;property name=&quot;hibernate.connection.url&quot;&gt;jdbc:mysql://localhost:3306/test&lt;/property&gt;\n        &lt;property name=&quot;hibernate.connection.username&quot;&gt;root&lt;/property&gt;\n        &lt;property name=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.MySQL5Dialect&lt;/property&gt;\n        &lt;property name=&quot;hibernate.hbm2ddl.auto&quot;&gt;create&lt;/property&gt;\n        &lt;property name=&quot;hibernate.enable_lazy_load_no_trans&quot;&gt;true&lt;/property&gt;\n        &lt;property name=&quot;hibernate.show_sql&quot;&gt;true&lt;/property&gt;\n        &lt;property name=&quot;hibernate.format_sql&quot;&gt;true&lt;/property&gt;\n\n        &lt;mapping class=&quot;com.test.entities.Account&quot; /&gt;\n        &lt;mapping class=&quot;com.test.entities.Invoice&quot; /&gt;\n        &lt;mapping class=&quot;com.test.entities.InvoiceDetail&quot; /&gt;\n        &lt;mapping class=&quot;com.test.entities.Product&quot; /&gt;\n        &lt;mapping class=&quot;com.test.entities.Role&quot; /&gt;\n        &lt;mapping class=&quot;com.test.entities.Category&quot; /&gt;\n        &lt;mapping class=&quot;com.test.entities.AccountRole&quot; /&gt;\n\n    &lt;/session-factory&gt;\n&lt;/hibernate-configuration&gt;\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"owner":{"account_id":14226667,"reputation":523,"user_id":10277150,"display_name":"gurkan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683371602,"creation_date":1683371602,"question_id":76188557,"body_markdown":"I have `common` and `product-service`. `common` has `@RestControllerAdvice RestExceptionHandler`. When I add `common` to pom.xml of `product-service` RestExceptionHandler is not working. \r\n\r\n```\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.gucardev&lt;/groupId&gt;\r\n      &lt;artifactId&gt;common&lt;/artifactId&gt;\r\n      &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n```\r\n\r\nIf I add only &quot;common&quot; to product-service using `@ComponentScan({&quot;com.gucardev.common&quot;})` now ExceptionHandler works but product-service endpoints are not found. However if I add itself and common like:\r\n\r\n```@ComponentScan({&quot;com.gucardev.productservice&quot;, &quot;com.gucardev.common&quot;})```\r\n\r\nnow it works.\r\n\r\nWhy should I add itself of package to `@ComponentScan` in `product-service`?\r\n\r\nfor more info about my `common` package build config:\r\n\r\n```\r\n\r\n  &lt;build&gt;\r\n    &lt;plugins&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n        &lt;configuration&gt;\r\n          &lt;excludes&gt;\r\n            &lt;exclude&gt;\r\n              &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n              &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;/exclude&gt;\r\n          &lt;/excludes&gt;\r\n        &lt;/configuration&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;id&gt;repackage&lt;/id&gt;\r\n            &lt;configuration&gt;\r\n              &lt;classifier&gt;exec&lt;/classifier&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n      &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n  &lt;/build&gt;\r\n```","title":"spring boot import another spring boot project as dependency using component scan","body":"<p>I have <code>common</code> and <code>product-service</code>. <code>common</code> has <code>@RestControllerAdvice RestExceptionHandler</code>. When I add <code>common</code> to pom.xml of <code>product-service</code> RestExceptionHandler is not working.</p>\n<pre><code>    &lt;dependency&gt;\n      &lt;groupId&gt;com.gucardev&lt;/groupId&gt;\n      &lt;artifactId&gt;common&lt;/artifactId&gt;\n      &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>If I add only &quot;common&quot; to product-service using <code>@ComponentScan({&quot;com.gucardev.common&quot;})</code> now ExceptionHandler works but product-service endpoints are not found. However if I add itself and common like:</p>\n<p><code>@ComponentScan({&quot;com.gucardev.productservice&quot;, &quot;com.gucardev.common&quot;})</code></p>\n<p>now it works.</p>\n<p>Why should I add itself of package to <code>@ComponentScan</code> in <code>product-service</code>?</p>\n<p>for more info about my <code>common</code> package build config:</p>\n<pre><code>\n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;configuration&gt;\n          &lt;excludes&gt;\n            &lt;exclude&gt;\n              &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n              &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;/exclude&gt;\n          &lt;/excludes&gt;\n        &lt;/configuration&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;id&gt;repackage&lt;/id&gt;\n            &lt;configuration&gt;\n              &lt;classifier&gt;exec&lt;/classifier&gt;\n            &lt;/configuration&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n</code></pre>\n"},{"tags":["java","priority-queue","min-heap"],"comments":[{"owner":{"account_id":2734060,"reputation":263872,"user_id":2357112,"accept_rate":26,"display_name":"user2357112"},"score":1,"creation_date":1683351882,"post_id":76187325,"comment_id":134357056,"body_markdown":"A PriorityQueue is not a sorted list. Elements are not expected to be in order.","body":"A PriorityQueue is not a sorted list. Elements are not expected to be in order."},{"owner":{"account_id":8324803,"reputation":53,"user_id":6255191,"display_name":"Sivaram Kappaganthu"},"score":0,"creation_date":1683353038,"post_id":76187325,"comment_id":134357124,"body_markdown":"Thank you for quick reply. I have a follow up question. Even if i am creating a Queue with a comparator, still not a sorted list. If so, then can you please tell me the purpose of giving the comparator to the Queue?","body":"Thank you for quick reply. I have a follow up question. Even if i am creating a Queue with a comparator, still not a sorted list. If so, then can you please tell me the purpose of giving the comparator to the Queue?"},{"owner":{"account_id":8324803,"reputation":53,"user_id":6255191,"display_name":"Sivaram Kappaganthu"},"score":0,"creation_date":1683353939,"post_id":76187325,"comment_id":134357191,"body_markdown":"ohh i think i am missing the basic point. PriorityQueue make sure that Smallest Element is maintained at the top of the Queue[in the case of Minheap with above comparator] and need not be the entire list sorted.","body":"ohh i think i am missing the basic point. PriorityQueue make sure that Smallest Element is maintained at the top of the Queue[in the case of Minheap with above comparator] and need not be the entire list sorted."}],"owner":{"account_id":8324803,"reputation":53,"user_id":6255191,"display_name":"Sivaram Kappaganthu"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1683381122,"answer_count":0,"score":0,"last_activity_date":1683371542,"creation_date":1683351649,"question_id":76187325,"body_markdown":"I have the below code written to add a collection of Integers to the Priority Queue. I am getting confused on the out put\r\n\r\n    public static void main(String[] args) {\r\n        int[] pipes = {4, 3, 2, 6 };\r\n        PriorityQueue&lt;Integer&gt; minHeap = new PriorityQueue&lt;&gt;(new Comparator&lt;Integer&gt;() {\r\n            @Override\r\n            public int compare(Integer o1, Integer o2) {\r\n                return o1-o2;\r\n            }\r\n        });\r\n        minHeap.addAll(IntStream.of(pipes).boxed().collect(Collectors.toList()));\r\n        System.out.println(minHeap);\r\n    }\r\n\r\nI expect the output as  `[2, 3, 4, 6]` but it is printed as `[2, 4, 3, 6]`. Could someone please explain why 3 is not printed before 4?? Am i doing something wrong with addAll method??","title":"Want to understand why PriorityQueue.addAll method is not considering comparator","body":"<p>I have the below code written to add a collection of Integers to the Priority Queue. I am getting confused on the out put</p>\n<pre><code>public static void main(String[] args) {\n    int[] pipes = {4, 3, 2, 6 };\n    PriorityQueue&lt;Integer&gt; minHeap = new PriorityQueue&lt;&gt;(new Comparator&lt;Integer&gt;() {\n        @Override\n        public int compare(Integer o1, Integer o2) {\n            return o1-o2;\n        }\n    });\n    minHeap.addAll(IntStream.of(pipes).boxed().collect(Collectors.toList()));\n    System.out.println(minHeap);\n}\n</code></pre>\n<p>I expect the output as  <code>[2, 3, 4, 6]</code> but it is printed as <code>[2, 4, 3, 6]</code>. Could someone please explain why 3 is not printed before 4?? Am i doing something wrong with addAll method??</p>\n"},{"tags":["java","google-app-engine"],"owner":{"account_id":6467423,"reputation":121,"user_id":5008813,"accept_rate":86,"display_name":"Tim Cobra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683370595,"creation_date":1683370595,"question_id":76188485,"body_markdown":"I have migrated my legacy Google appengine from Java 8 to 11, and am having problems getting the local devserver to run using the maven command:\r\n\r\n    mvn appengine:run\r\n\r\nI have updated all the dependencies in my pom.xml file to the latest. I get the following java error:\r\n\r\n    [INFO] GCLOUD: java.lang.NoClassDefFoundError: jakarta/servlet/Filter\r\n    [INFO] GCLOUD:  at java.base/java.lang.ClassLoader.defineClass1(Native Method)\r\n    [INFO] GCLOUD:  at java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1016)\r\n    [INFO] GCLOUD:  at java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:174)\r\n    [INFO] GCLOUD:  at java.base/java.net.URLClassLoader.defineClass(URLClassLoader.java:555)\r\n    [INFO] GCLOUD:  at java.base/java.net.URLClassLoader$1.run(URLClassLoader.java:458)\r\n    [INFO] GCLOUD:  at java.base/java.net.URLClassLoader$1.run(URLClassLoader.java:452)\r\n    [INFO] GCLOUD:  at java.base/java.security.AccessController.doPrivileged(Native Method)\r\n    [INFO] GCLOUD:  at java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:451)\r\n    [INFO] GCLOUD:  at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:588)\r\n    [INFO] GCLOUD:  at com.google.appengine.tools.development.IsolatedAppClassLoader.loadClass(IsolatedAppClassLoader.java:215)\r\n    [INFO] GCLOUD:  at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\r\n    [INFO] GCLOUD:  at org.eclipse.jetty.util.Loader.loadClass(Loader.java:64)\r\n    [INFO] GCLOUD:  at org.eclipse.jetty.servlet.BaseHolder.doStart(BaseHolder.java:89)\r\n    [INFO] GCLOUD:  at org.eclipse.jetty.servlet.ServletHolder.doStart(ServletHolder.java:369)\r\n    [INFO] GCLOUD:  at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:73)\r\n    [INFO] GCLOUD:  at org.eclipse.jetty.servlet.ServletHandler.lambda$initialize$0(ServletHandler.java:749)\r\n    [INFO] GCLOUD:  at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)\r\n    [INFO] GCLOUD:  at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:485)\r\n    [INFO] GCLOUD:  at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)\r\n    [INFO] GCLOUD:  at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)\r\n    [INFO] GCLOUD:  at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)\r\n    [INFO] GCLOUD:  at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:658)\r\n    [INFO] GCLOUD:  at org.eclipse.jetty.servlet.ServletHandler.initialize(ServletHandler.java:774)\r\n    [INFO] GCLOUD:  at org.eclipse.jetty.servlet.ServletContextHandler.startContext(ServletContextHandler.java:379)\r\n    [INFO] GCLOUD:  at org.eclipse.jetty.webapp.WebAppContext.startWebapp(WebAppContext.java:1449)\r\n    [INFO] GCLOUD:  at org.eclipse.jetty.webapp.WebAppContext.startContext(WebAppContext.java:1414)\r\n    [INFO] GCLOUD:  at org.eclipse.jetty.server.handler.ContextHandler.doStart(ContextHandler.java:916)\r\n    [INFO] GCLOUD:  at org.eclipse.jetty.servlet.ServletContextHandler.doStart(ServletContextHandler.java:288)\r\n    [INFO] GCLOUD:  at org.eclipse.jetty.webapp.WebAppContext.doStart(WebAppContext.java:524)\r\n    [INFO] GCLOUD:  at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:73)\r\n    [INFO] GCLOUD:  at org.eclipse.jetty.util.component.ContainerLifeCycle.start(ContainerLifeCycle.java:169)\r\n    [INFO] GCLOUD:  at org.eclipse.jetty.util.component.ContainerLifeCycle.doStart(ContainerLifeCycle.java:110)\r\n    [INFO] GCLOUD:  at org.eclipse.jetty.server.handler.AbstractHandler.doStart(AbstractHandler.java:97)\r\n    [INFO] GCLOUD:  at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:73)\r\n    [INFO] GCLOUD:  at org.eclipse.jetty.util.component.ContainerLifeCycle.start(ContainerLifeCycle.java:169)\r\n    [INFO] GCLOUD:  at org.eclipse.jetty.server.Server.start(Server.java:423)\r\n    [INFO] GCLOUD:  at org.eclipse.jetty.util.component.ContainerLifeCycle.doStart(ContainerLifeCycle.java:110)\r\n    [INFO] GCLOUD:  at org.eclipse.jetty.server.handler.AbstractHandler.doStart(AbstractHandler.java:97)\r\n    [INFO] GCLOUD:  at org.eclipse.jetty.server.Server.doStart(Server.java:387)\r\n    [INFO] GCLOUD:  at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:73)\r\n    [INFO] GCLOUD:  at com.google.appengine.tools.development.jetty9.JettyContainerService.startContainer(JettyContainerService.java:366)\r\n    [INFO] GCLOUD:  at com.google.appengine.tools.development.AbstractContainerService.startup(AbstractContainerService.java:293)\r\n    [INFO] GCLOUD:  at com.google.appengine.tools.development.AutomaticInstanceHolder.startUp(AutomaticInstanceHolder.java:42)\r\n    [INFO] GCLOUD:  at com.google.appengine.tools.development.AbstractModule.startup(AbstractModule.java:102)\r\n    [INFO] GCLOUD:  at com.google.appengine.tools.development.Modules.startup(Modules.java:118)\r\n    [INFO] GCLOUD:  at com.google.appengine.tools.development.DevAppServerImpl.doStart(DevAppServerImpl.java:284)\r\n    [INFO] GCLOUD:  at com.google.appengine.tools.development.DevAppServerImpl.access$000(DevAppServerImpl.java:57)\r\n    [INFO] GCLOUD:  at com.google.appengine.tools.development.DevAppServerImpl$1.run(DevAppServerImpl.java:233)\r\n    [INFO] GCLOUD:  at com.google.appengine.tools.development.DevAppServerImpl$1.run(DevAppServerImpl.java:231)\r\n    [INFO] GCLOUD:  at java.base/java.security.AccessController.doPrivileged(Native Method)\r\n    [INFO] GCLOUD:  at com.google.appengine.tools.development.DevAppServerImpl.start(DevAppServerImpl.java:231)\r\n    [INFO] GCLOUD:  at com.google.appengine.tools.development.DevAppServerMain$StartAction.apply(DevAppServerMain.java:405)\r\n    [INFO] GCLOUD:  at com.google.appengine.tools.util.Parser$ParseResult.applyArgs(Parser.java:58)\r\n    [INFO] GCLOUD:  at com.google.appengine.tools.development.DevAppServerMain.run(DevAppServerMain.java:258)\r\n    [INFO] GCLOUD:  at com.google.appengine.tools.development.DevAppServerMain.main(DevAppServerMain.java:249)\r\n    [INFO] GCLOUD: Caused by:\r\n    [INFO] GCLOUD: java.lang.ClassNotFoundException: jakarta.servlet.Filter\r\n    [INFO] GCLOUD:  at java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:476)\r\n\r\npom.xml file:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;packaging&gt;war&lt;/packaging&gt;\r\n        &lt;version&gt;1.0&lt;/version&gt;\r\n    \r\n        &lt;groupId&gt;com.house.cards&lt;/groupId&gt;\r\n        &lt;artifactId&gt;cardgamesserver&lt;/artifactId&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;appengine.app.version&gt;1&lt;/appengine.app.version&gt;\r\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;/properties&gt;\r\n    \r\n        &lt;prerequisites&gt;\r\n            &lt;maven&gt;3.6.1&lt;/maven&gt;\r\n        &lt;/prerequisites&gt;\r\n    \r\n    &lt;dependencies&gt;\r\n    \t&lt;!-- API, java.xml.bind module --&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;4.0.0&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;4.0.2&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.3.0&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;jaxb-core&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;4.0.2&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;4.0.2&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;javax.ws.rs&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;javax.ws.rs-api&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.1.1&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;com.google.appengine&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;appengine-api-1.0-sdk&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.0.14&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.glassfish.jersey.containers&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;jersey-container-servlet-core&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;3.1.1&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;jersey-media-moxy&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;3.1.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;com.googlecode.objectify&lt;/groupId&gt;\r\n            &lt;artifactId&gt;objectify&lt;/artifactId&gt;\r\n            &lt;version&gt;5.1.5&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\t\r\n    &lt;/dependencies&gt;\r\n    \r\n        &lt;build&gt;\r\n            &lt;outputDirectory&gt;${project.build.directory}/${project.build.finalName}/WEB-INF/classes&lt;/outputDirectory&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;versions-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;2.1&lt;/version&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;phase&gt;compile&lt;/phase&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;display-dependency-updates&lt;/goal&gt;\r\n                                &lt;goal&gt;display-plugin-updates&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;version&gt;3.2&lt;/version&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;source&gt;11&lt;/source&gt;\r\n                        &lt;target&gt;11&lt;/target&gt;\r\n    \t\t\t\t\t&lt;encoding&gt;UTF-8&lt;/encoding&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;2.6&lt;/version&gt;\r\n                &lt;/plugin&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;com.google.cloud.tools&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;appengine-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;2.4.4&lt;/version&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;projectId&gt;cardgamesserver&lt;/projectId&gt;\r\n    \t\t\t\t\t&lt;version&gt;1&lt;/version&gt;\r\n    \t\t\t\t\t&lt;cloudSdkVersion&gt;429.0.0&lt;/cloudSdkVersion&gt;\r\n    \t\t\t\t\t&lt;gcloudMode&gt;beta&lt;/gcloudMode&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\nAny help on what I&#39;m missing to get the localhost server to run would be really helpful. \r\nThanks\r\nTim\r\n\r\n","title":"appengine:run for java 11","body":"<p>I have migrated my legacy Google appengine from Java 8 to 11, and am having problems getting the local devserver to run using the maven command:</p>\n<pre><code>mvn appengine:run\n</code></pre>\n<p>I have updated all the dependencies in my pom.xml file to the latest. I get the following java error:</p>\n<pre><code>[INFO] GCLOUD: java.lang.NoClassDefFoundError: jakarta/servlet/Filter\n[INFO] GCLOUD:  at java.base/java.lang.ClassLoader.defineClass1(Native Method)\n[INFO] GCLOUD:  at java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1016)\n[INFO] GCLOUD:  at java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:174)\n[INFO] GCLOUD:  at java.base/java.net.URLClassLoader.defineClass(URLClassLoader.java:555)\n[INFO] GCLOUD:  at java.base/java.net.URLClassLoader$1.run(URLClassLoader.java:458)\n[INFO] GCLOUD:  at java.base/java.net.URLClassLoader$1.run(URLClassLoader.java:452)\n[INFO] GCLOUD:  at java.base/java.security.AccessController.doPrivileged(Native Method)\n[INFO] GCLOUD:  at java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:451)\n[INFO] GCLOUD:  at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:588)\n[INFO] GCLOUD:  at com.google.appengine.tools.development.IsolatedAppClassLoader.loadClass(IsolatedAppClassLoader.java:215)\n[INFO] GCLOUD:  at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\n[INFO] GCLOUD:  at org.eclipse.jetty.util.Loader.loadClass(Loader.java:64)\n[INFO] GCLOUD:  at org.eclipse.jetty.servlet.BaseHolder.doStart(BaseHolder.java:89)\n[INFO] GCLOUD:  at org.eclipse.jetty.servlet.ServletHolder.doStart(ServletHolder.java:369)\n[INFO] GCLOUD:  at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:73)\n[INFO] GCLOUD:  at org.eclipse.jetty.servlet.ServletHandler.lambda$initialize$0(ServletHandler.java:749)\n[INFO] GCLOUD:  at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)\n[INFO] GCLOUD:  at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:485)\n[INFO] GCLOUD:  at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)\n[INFO] GCLOUD:  at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)\n[INFO] GCLOUD:  at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)\n[INFO] GCLOUD:  at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:658)\n[INFO] GCLOUD:  at org.eclipse.jetty.servlet.ServletHandler.initialize(ServletHandler.java:774)\n[INFO] GCLOUD:  at org.eclipse.jetty.servlet.ServletContextHandler.startContext(ServletContextHandler.java:379)\n[INFO] GCLOUD:  at org.eclipse.jetty.webapp.WebAppContext.startWebapp(WebAppContext.java:1449)\n[INFO] GCLOUD:  at org.eclipse.jetty.webapp.WebAppContext.startContext(WebAppContext.java:1414)\n[INFO] GCLOUD:  at org.eclipse.jetty.server.handler.ContextHandler.doStart(ContextHandler.java:916)\n[INFO] GCLOUD:  at org.eclipse.jetty.servlet.ServletContextHandler.doStart(ServletContextHandler.java:288)\n[INFO] GCLOUD:  at org.eclipse.jetty.webapp.WebAppContext.doStart(WebAppContext.java:524)\n[INFO] GCLOUD:  at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:73)\n[INFO] GCLOUD:  at org.eclipse.jetty.util.component.ContainerLifeCycle.start(ContainerLifeCycle.java:169)\n[INFO] GCLOUD:  at org.eclipse.jetty.util.component.ContainerLifeCycle.doStart(ContainerLifeCycle.java:110)\n[INFO] GCLOUD:  at org.eclipse.jetty.server.handler.AbstractHandler.doStart(AbstractHandler.java:97)\n[INFO] GCLOUD:  at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:73)\n[INFO] GCLOUD:  at org.eclipse.jetty.util.component.ContainerLifeCycle.start(ContainerLifeCycle.java:169)\n[INFO] GCLOUD:  at org.eclipse.jetty.server.Server.start(Server.java:423)\n[INFO] GCLOUD:  at org.eclipse.jetty.util.component.ContainerLifeCycle.doStart(ContainerLifeCycle.java:110)\n[INFO] GCLOUD:  at org.eclipse.jetty.server.handler.AbstractHandler.doStart(AbstractHandler.java:97)\n[INFO] GCLOUD:  at org.eclipse.jetty.server.Server.doStart(Server.java:387)\n[INFO] GCLOUD:  at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:73)\n[INFO] GCLOUD:  at com.google.appengine.tools.development.jetty9.JettyContainerService.startContainer(JettyContainerService.java:366)\n[INFO] GCLOUD:  at com.google.appengine.tools.development.AbstractContainerService.startup(AbstractContainerService.java:293)\n[INFO] GCLOUD:  at com.google.appengine.tools.development.AutomaticInstanceHolder.startUp(AutomaticInstanceHolder.java:42)\n[INFO] GCLOUD:  at com.google.appengine.tools.development.AbstractModule.startup(AbstractModule.java:102)\n[INFO] GCLOUD:  at com.google.appengine.tools.development.Modules.startup(Modules.java:118)\n[INFO] GCLOUD:  at com.google.appengine.tools.development.DevAppServerImpl.doStart(DevAppServerImpl.java:284)\n[INFO] GCLOUD:  at com.google.appengine.tools.development.DevAppServerImpl.access$000(DevAppServerImpl.java:57)\n[INFO] GCLOUD:  at com.google.appengine.tools.development.DevAppServerImpl$1.run(DevAppServerImpl.java:233)\n[INFO] GCLOUD:  at com.google.appengine.tools.development.DevAppServerImpl$1.run(DevAppServerImpl.java:231)\n[INFO] GCLOUD:  at java.base/java.security.AccessController.doPrivileged(Native Method)\n[INFO] GCLOUD:  at com.google.appengine.tools.development.DevAppServerImpl.start(DevAppServerImpl.java:231)\n[INFO] GCLOUD:  at com.google.appengine.tools.development.DevAppServerMain$StartAction.apply(DevAppServerMain.java:405)\n[INFO] GCLOUD:  at com.google.appengine.tools.util.Parser$ParseResult.applyArgs(Parser.java:58)\n[INFO] GCLOUD:  at com.google.appengine.tools.development.DevAppServerMain.run(DevAppServerMain.java:258)\n[INFO] GCLOUD:  at com.google.appengine.tools.development.DevAppServerMain.main(DevAppServerMain.java:249)\n[INFO] GCLOUD: Caused by:\n[INFO] GCLOUD: java.lang.ClassNotFoundException: jakarta.servlet.Filter\n[INFO] GCLOUD:  at java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:476)\n</code></pre>\n<p>pom.xml file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;version&gt;1.0&lt;/version&gt;\n\n    &lt;groupId&gt;com.house.cards&lt;/groupId&gt;\n    &lt;artifactId&gt;cardgamesserver&lt;/artifactId&gt;\n\n    &lt;properties&gt;\n        &lt;appengine.app.version&gt;1&lt;/appengine.app.version&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n\n    &lt;prerequisites&gt;\n        &lt;maven&gt;3.6.1&lt;/maven&gt;\n    &lt;/prerequisites&gt;\n\n&lt;dependencies&gt;\n    &lt;!-- API, java.xml.bind module --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\n        &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\n        &lt;version&gt;4.0.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\n        &lt;version&gt;4.0.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n        &lt;version&gt;2.3.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxb-core&lt;/artifactId&gt;\n        &lt;version&gt;4.0.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\n        &lt;version&gt;4.0.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.ws.rs&lt;/groupId&gt;\n        &lt;artifactId&gt;javax.ws.rs-api&lt;/artifactId&gt;\n        &lt;version&gt;2.1.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.appengine&lt;/groupId&gt;\n        &lt;artifactId&gt;appengine-api-1.0-sdk&lt;/artifactId&gt;\n        &lt;version&gt;2.0.14&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.glassfish.jersey.containers&lt;/groupId&gt;\n        &lt;artifactId&gt;jersey-container-servlet-core&lt;/artifactId&gt;\n        &lt;version&gt;3.1.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\n        &lt;artifactId&gt;jersey-media-moxy&lt;/artifactId&gt;\n        &lt;version&gt;3.1.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.googlecode.objectify&lt;/groupId&gt;\n        &lt;artifactId&gt;objectify&lt;/artifactId&gt;\n        &lt;version&gt;5.1.5&lt;/version&gt;\n    &lt;/dependency&gt;   \n&lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;outputDirectory&gt;${project.build.directory}/${project.build.finalName}/WEB-INF/classes&lt;/outputDirectory&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n                &lt;artifactId&gt;versions-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.1&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;compile&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;display-dependency-updates&lt;/goal&gt;\n                            &lt;goal&gt;display-plugin-updates&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;version&gt;3.2&lt;/version&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;11&lt;/source&gt;\n                    &lt;target&gt;11&lt;/target&gt;\n                    &lt;encoding&gt;UTF-8&lt;/encoding&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.6&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;com.google.cloud.tools&lt;/groupId&gt;\n                &lt;artifactId&gt;appengine-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.4.4&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;projectId&gt;cardgamesserver&lt;/projectId&gt;\n                    &lt;version&gt;1&lt;/version&gt;\n                    &lt;cloudSdkVersion&gt;429.0.0&lt;/cloudSdkVersion&gt;\n                    &lt;gcloudMode&gt;beta&lt;/gcloudMode&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>Any help on what I'm missing to get the localhost server to run would be really helpful.\nThanks\nTim</p>\n"},{"tags":["java","android","c++","oboe"],"comments":[{"owner":{"account_id":437295,"reputation":18265,"user_id":824903,"accept_rate":87,"display_name":"donturner"},"score":0,"creation_date":1611252427,"post_id":65803739,"comment_id":116398033,"body_markdown":"In your C code what is the type of `sessionId`?","body":"In your C code what is the type of <code>sessionId</code>?"},{"owner":{"account_id":437295,"reputation":18265,"user_id":824903,"accept_rate":87,"display_name":"donturner"},"score":0,"creation_date":1611252927,"post_id":65803739,"comment_id":116398253,"body_markdown":"Also, what happens if you create your recording stream in C++ with `recordingBuilder.setSessionId(SessionId::Allocate)`, then call `recordStream-&gt;getSessionId`, then pass that to `AudioEchoCanceller.create`? This should allocate a session Id in C++ rather than in Java/Kt","body":"Also, what happens if you create your recording stream in C++ with <code>recordingBuilder.setSessionId(SessionId::Allocate)</code>, then call <code>recordStream-&gt;getSessionId</code>, then pass that to <code>AudioEchoCanceller.create</code>? This should allocate a session Id in C++ rather than in Java/Kt"},{"owner":{"account_id":10586686,"reputation":353,"user_id":7798783,"display_name":"Muhammad Faizan"},"score":0,"creation_date":1611297529,"post_id":65803739,"comment_id":116410548,"body_markdown":"Yes, I have checked the sessionID that i created and passed from JAVA to C++ worked alright. I have checked this by logging recordStream-&gt;getSessionId and it was same as the JAVA. I have figured out the issue and will post the answer for anybody got stuck","body":"Yes, I have checked the sessionID that i created and passed from JAVA to C++ worked alright. I have checked this by logging recordStream-&gt;getSessionId and it was same as the JAVA. I have figured out the issue and will post the answer for anybody got stuck"}],"answers":[{"tags":[],"owner":{"account_id":10586686,"reputation":353,"user_id":7798783,"display_name":"Muhammad Faizan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1611297776,"creation_date":1611297776,"answer_id":65840455,"question_id":65803739,"body_markdown":"I have resolved the issue of: Why my AcousticEchoCanceler.create(sessionId) returned null even though it was available.\r\n\r\nHere is the code\r\n\r\n      val audioManager: AudioManager = context.getSystemService(Context.AUDIO_SERVICE) as AudioManager\r\n      val sessionId = audioManager.generateAudioSessionId()\r\n      //This is the line that enables AEC, when MODE is set\r\n      audioManager.mode = AudioManager.MODE_IN_COMMUNICATION \r\n\r\nWhen mode is explicitly set to MODE_IN_COMMUNICATION then AcousticEchoCancelation start working. From here you can enable or disable it.\r\n\r\n    val isAecAvailable = AcousticEchoCanceler.isAvailable()\r\n    val acousticEchoCanceler = AcousticEchoCanceler.create(sessionId)\r\n    acousticEchoCanceler.enabled = true //THIS ENABLED THE AEC\r\n    \r\n    if (acousticEchoCanceler != null)\r\n        Log.e(TAG, &quot;AEC STATUS:  ${acousticEchoCanceler.enabled}&quot;)\r\n    else\r\n    Log.e(TAG, &quot;AEC  IS NULL&quot;)\r\n\r\nCurrently, I am using Oboe version: 1.5 stable","title":"Why Java AudioEffect not working with Oboe?","body":"<p>I have resolved the issue of: Why my AcousticEchoCanceler.create(sessionId) returned null even though it was available.</p>\n<p>Here is the code</p>\n<pre><code>  val audioManager: AudioManager = context.getSystemService(Context.AUDIO_SERVICE) as AudioManager\n  val sessionId = audioManager.generateAudioSessionId()\n  //This is the line that enables AEC, when MODE is set\n  audioManager.mode = AudioManager.MODE_IN_COMMUNICATION \n</code></pre>\n<p>When mode is explicitly set to MODE_IN_COMMUNICATION then AcousticEchoCancelation start working. From here you can enable or disable it.</p>\n<pre><code>val isAecAvailable = AcousticEchoCanceler.isAvailable()\nval acousticEchoCanceler = AcousticEchoCanceler.create(sessionId)\nacousticEchoCanceler.enabled = true //THIS ENABLED THE AEC\n\nif (acousticEchoCanceler != null)\n    Log.e(TAG, &quot;AEC STATUS:  ${acousticEchoCanceler.enabled}&quot;)\nelse\nLog.e(TAG, &quot;AEC  IS NULL&quot;)\n</code></pre>\n<p>Currently, I am using Oboe version: 1.5 stable</p>\n"}],"owner":{"account_id":10586686,"reputation":353,"user_id":7798783,"display_name":"Muhammad Faizan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":259,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1683370336,"creation_date":1611121700,"question_id":65803739,"body_markdown":"**Android version:** 10  \r\n**Android device:** OnePlus 6\r\n\r\nI have tried to apply Java `AudioEffect` using `sessionID` from `AudioManager` getting help from this [LINK][1] but I always get `NullPointerException` when using `AcousticEchoCanceler.create(sessionId)` but when I pass the `sessionId` of Java `AudioRecord getAudioSessionId()` it works.\r\n\r\nMy Code is:\r\n\r\n    val audioManager: AudioManager = context.getSystemService(Context.AUDIO_SERVICE) as AudioManager\r\n    val sessionId = audioManager.generateAudioSessionId()\r\n\r\nC code is\r\n\r\n    recordingBuilder.setSessionId(static_cast&lt;oboe::SessionId&gt;(sessionId));\r\n    oboe::Result recordStreamResult = recordingBuilder.openStream(&amp;recordStream);\r\n\r\nI have tried this code on **OnePlus 6** and **Motorola One Macro**.\r\n\r\n\r\n  [1]: https://github.com/google/oboe/blob/master/docs/notes/effects.md","title":"Why Java AudioEffect not working with Oboe?","body":"<p><strong>Android version:</strong> 10<br />\n<strong>Android device:</strong> OnePlus 6</p>\n<p>I have tried to apply Java <code>AudioEffect</code> using <code>sessionID</code> from <code>AudioManager</code> getting help from this <a href=\"https://github.com/google/oboe/blob/master/docs/notes/effects.md\" rel=\"nofollow noreferrer\">LINK</a> but I always get <code>NullPointerException</code> when using <code>AcousticEchoCanceler.create(sessionId)</code> but when I pass the <code>sessionId</code> of Java <code>AudioRecord getAudioSessionId()</code> it works.</p>\n<p>My Code is:</p>\n<pre><code>val audioManager: AudioManager = context.getSystemService(Context.AUDIO_SERVICE) as AudioManager\nval sessionId = audioManager.generateAudioSessionId()\n</code></pre>\n<p>C code is</p>\n<pre><code>recordingBuilder.setSessionId(static_cast&lt;oboe::SessionId&gt;(sessionId));\noboe::Result recordStreamResult = recordingBuilder.openStream(&amp;recordStream);\n</code></pre>\n<p>I have tried this code on <strong>OnePlus 6</strong> and <strong>Motorola One Macro</strong>.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9540,"page":452,"page_size":100}
