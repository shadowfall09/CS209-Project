{"items":[{"tags":["java","spring-data","spring-data-jpa"],"comments":[{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1477990256,"post_id":40356565,"comment_id":67966722,"body_markdown":"When you ask about an error, always post the exact and complete error message and stack trace. When asking about something that doesn&#39;t work, always tell what you expect to happen, and what happens instead.","body":"When you ask about an error, always post the exact and complete error message and stack trace. When asking about something that doesn&#39;t work, always tell what you expect to happen, and what happens instead."},{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1477990924,"post_id":40356565,"comment_id":67967031,"body_markdown":"If empty list is returned, and you passed `&quot;match%&quot;` as argument to the method, then it simply means that no user has a name starting by &#39;match&#39;.","body":"If empty list is returned, and you passed <code>&quot;match%&quot;</code> as argument to the method, then it simply means that no user has a name starting by &#39;match&#39;."},{"owner":{"account_id":7798354,"reputation":6929,"user_id":5898696,"accept_rate":89,"display_name":"J-Alex"},"score":0,"creation_date":1477991401,"post_id":40356565,"comment_id":67967276,"body_markdown":"No, I implemented case insensitive service like this, and it works fine, the problem is with second  LOWER() - ... LIKE LOWER(?1)","body":"No, I implemented case insensitive service like this, and it works fine, the problem is with second  LOWER() - ... LIKE LOWER(?1)"},{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1477992219,"post_id":40356565,"comment_id":67967690,"body_markdown":"What did you pass as argument to the method, and what does the table contain?","body":"What did you pass as argument to the method, and what does the table contain?"}],"answers":[{"tags":[],"owner":{"account_id":3600965,"reputation":609,"user_id":3004282,"display_name":"EFOE"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1477990420,"creation_date":1477990420,"answer_id":40356753,"question_id":40356565,"body_markdown":"have you try this syntax:\r\n \r\n   @Query(&quot;SELECT U.name FROM User U WHERE LOWER(U.name) LIKE LOWER(?1)%&quot;)\r\nand the just give the name or the beginning of the name","title":"Spring Data CrudRepository @Query With LIKE and IgnoreCase","body":"<p>have you try this syntax:</p>\n\n<p>@Query(\"SELECT U.name FROM User U WHERE LOWER(U.name) LIKE LOWER(?1)%\")\nand the just give the name or the beginning of the name</p>\n"},{"tags":[],"owner":{"account_id":3719338,"reputation":12130,"user_id":3094731,"accept_rate":56,"display_name":"Abdullah Khan"},"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1477991030,"creation_date":1477991030,"answer_id":40356896,"question_id":40356565,"body_markdown":"Try this\r\n\r\n    @Query(&quot;SELECT U.name FROM User U WHERE LOWER(U.name) LIKE LOWER(concat(?1, &#39;%&#39;))&quot;)\r\n    List&lt;String&gt; findByName(String matchPhrase);\r\n\r\n","title":"Spring Data CrudRepository @Query With LIKE and IgnoreCase","body":"<p>Try this</p>\n\n<pre><code>@Query(\"SELECT U.name FROM User U WHERE LOWER(U.name) LIKE LOWER(concat(?1, '%'))\")\nList&lt;String&gt; findByName(String matchPhrase);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3410182,"reputation":12151,"user_id":2860319,"accept_rate":75,"display_name":"The Gilbert Arenas Dagger"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1559905894,"creation_date":1559905894,"answer_id":56493224,"question_id":40356565,"body_markdown":"If you need the format `like %name%` (instead of `like name%`) you can expand the accepted answer as follows:\r\n\r\n    @Query(&quot;SELECT U.name FROM User U WHERE LOWER(U.name) LIKE LOWER(concat(&#39;%&#39;, concat(?1, &#39;%&#39;)))&quot;)\r\n    List&lt;String&gt; findByName(String matchPhrase);","title":"Spring Data CrudRepository @Query With LIKE and IgnoreCase","body":"<p>If you need the format <code>like %name%</code> (instead of <code>like name%</code>) you can expand the accepted answer as follows:</p>\n\n<pre><code>@Query(\"SELECT U.name FROM User U WHERE LOWER(U.name) LIKE LOWER(concat('%', concat(?1, '%')))\")\nList&lt;String&gt; findByName(String matchPhrase);\n</code></pre>\n"}],"owner":{"account_id":7798354,"reputation":6929,"user_id":5898696,"accept_rate":89,"display_name":"J-Alex"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17454,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":40356896,"answer_count":3,"score":6,"last_activity_date":1698242721,"creation_date":1477989558,"question_id":40356565,"body_markdown":"I need to retrieve some Entity fields from CrudRepository:\r\n\r\n    public class User {\r\n        private String name;\r\n\r\n        // getters and setters\r\n    }\r\n\r\n    public interface UserRepository extends CrudRepository&lt;User, Long&gt; { \r\n         \r\n       @Query(&quot;SELECT U.name FROM User U WHERE LOWER(U.name) LIKE LOWER(?1)&quot;)\r\n       List&lt;String&gt; findByName(String matchPhrase);\r\n    }\r\n\r\nBasically, I want to get equivalent of SQL query:\r\n\r\n    SELECT u.name FROM user u WHERE LOWER(u.name) LIKE LOWER(&#39;match%&#39;)\r\n\r\nThe problem is that @Query doesn&#39;t works (empty list returned), hibernate generates log:\r\n\r\n&gt; Hibernate: select user0_.name as col_0_0_ from user user0_ where lower(user0_.name) like lower(?)\r\n\r\nI actually didn&#39;t get how to specify a parameter bound with appended %.\r\n\r\n    // also fails at compile-time\r\n    @Query(&quot;SELECT U.name FROM User U WHERE LOWER(U.name) LIKE LOWER(?1%)&quot;)\r\n\r\n&gt; org.hibernate.hql.internal.ast.QuerySyntaxException: unexpected token: null near line ...\r\n\r\nThis works fine but returns whole Entity, what may produce long response because I need retrieve only specific fields:\r\n\r\n    List&lt;User&gt; findByNameStartingWithIgnoreCase(String match);","title":"Spring Data CrudRepository @Query With LIKE and IgnoreCase","body":"<p>I need to retrieve some Entity fields from CrudRepository:</p>\n\n<pre><code>public class User {\n    private String name;\n\n    // getters and setters\n}\n\npublic interface UserRepository extends CrudRepository&lt;User, Long&gt; { \n\n   @Query(\"SELECT U.name FROM User U WHERE LOWER(U.name) LIKE LOWER(?1)\")\n   List&lt;String&gt; findByName(String matchPhrase);\n}\n</code></pre>\n\n<p>Basically, I want to get equivalent of SQL query:</p>\n\n<pre><code>SELECT u.name FROM user u WHERE LOWER(u.name) LIKE LOWER('match%')\n</code></pre>\n\n<p>The problem is that @Query doesn't works (empty list returned), hibernate generates log:</p>\n\n<blockquote>\n  <p>Hibernate: select user0_.name as col_0_0_ from user user0_ where lower(user0_.name) like lower(?)</p>\n</blockquote>\n\n<p>I actually didn't get how to specify a parameter bound with appended %.</p>\n\n<pre><code>// also fails at compile-time\n@Query(\"SELECT U.name FROM User U WHERE LOWER(U.name) LIKE LOWER(?1%)\")\n</code></pre>\n\n<blockquote>\n  <p>org.hibernate.hql.internal.ast.QuerySyntaxException: unexpected token: null near line ...</p>\n</blockquote>\n\n<p>This works fine but returns whole Entity, what may produce long response because I need retrieve only specific fields:</p>\n\n<pre><code>List&lt;User&gt; findByNameStartingWithIgnoreCase(String match);\n</code></pre>\n"},{"tags":["java","gradle","pmd"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1698234572,"post_id":77358831,"comment_id":136378735,"body_markdown":"Start by sharing your Gradle build file and version.","body":"Start by sharing your Gradle build file and version."},{"owner":{"account_id":143734,"reputation":751,"user_id":352290,"accept_rate":100,"display_name":"user352290"},"score":0,"creation_date":1698235990,"post_id":77358831,"comment_id":136379039,"body_markdown":"@aled addd as part of description, don&#39;t have anything else","body":"@aled addd as part of description, don&#39;t have anything else"},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1698237270,"post_id":77358831,"comment_id":136379310,"body_markdown":"That&#39;s the entire gradle.build file? The warnings are related to dependencies. Doesn&#39;t your project has any? No pmd configurations either?","body":"That&#39;s the entire gradle.build file? The warnings are related to dependencies. Doesn&#39;t your project has any? No pmd configurations either?"},{"owner":{"account_id":143734,"reputation":751,"user_id":352290,"accept_rate":100,"display_name":"user352290"},"score":0,"creation_date":1698242668,"post_id":77358831,"comment_id":136380543,"body_markdown":"@aled added pmdMain","body":"@aled added pmdMain"},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1698245690,"post_id":77358831,"comment_id":136381331,"body_markdown":"You mean there is no `mainPmdAuxClasspathCopy` or `mainPmdAuxClasspathCopy2` anywhere in your gradle.build nor any other file?","body":"You mean there is no <code>mainPmdAuxClasspathCopy</code> or <code>mainPmdAuxClasspathCopy2</code> anywhere in your gradle.build nor any other file?"},{"owner":{"account_id":143734,"reputation":751,"user_id":352290,"accept_rate":100,"display_name":"user352290"},"score":0,"creation_date":1698248230,"post_id":77358831,"comment_id":136381862,"body_markdown":"No, nothing like this is defined","body":"No, nothing like this is defined"}],"owner":{"account_id":143734,"reputation":751,"user_id":352290,"accept_rate":100,"display_name":"user352290"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698242648,"creation_date":1698231216,"question_id":77358831,"body_markdown":"    gradle version = 8.2.1\r\n    \r\n    plugins {\r\n         id &#39;pmd&#39;\r\n    }\r\n    \r\n    pmdMain {\r\n        enabled = gradle.startParameter.taskNames.contains(&#39;pmdMain&#39;)\r\n    }\r\n\r\nInclusion of plugin &#39;pmd&#39; throws the following warnings while running `./gradlew dependencyUpdates`. How do we get rid of these deprecations\r\n\r\n    The mainPmdAuxClasspathCopy configuration has been deprecated for dependency declaration. This will fail with an error in Gradle 9.0. Please use another configuration instead. Consult the upgrading guide for further information: https://docs.gradle.org/8.2.1/userguide/upgrading_version_5.html#dependencies_should_no_longer_be_declared_using_the_compile_and_runtime_configurations\r\n    The mainPmdAuxClasspathCopy2 configuration has been deprecated for dependency declaration. This will fail with an error in Gradle 9.0. Please use another configuration instead. Consult the upgrading guide for further information: https://docs.gradle.org/8.2.1/userguide/upgrading_version_5.html#dependencies_should_no_longer_be_declared_using_the_compile_and_runtime_configurations","title":"mainPmdAuxClasspathCopy configuration has been deprecated for dependency declaration","body":"<pre><code>gradle version = 8.2.1\n\nplugins {\n     id 'pmd'\n}\n\npmdMain {\n    enabled = gradle.startParameter.taskNames.contains('pmdMain')\n}\n</code></pre>\n<p>Inclusion of plugin 'pmd' throws the following warnings while running <code>./gradlew dependencyUpdates</code>. How do we get rid of these deprecations</p>\n<pre><code>The mainPmdAuxClasspathCopy configuration has been deprecated for dependency declaration. This will fail with an error in Gradle 9.0. Please use another configuration instead. Consult the upgrading guide for further information: https://docs.gradle.org/8.2.1/userguide/upgrading_version_5.html#dependencies_should_no_longer_be_declared_using_the_compile_and_runtime_configurations\nThe mainPmdAuxClasspathCopy2 configuration has been deprecated for dependency declaration. This will fail with an error in Gradle 9.0. Please use another configuration instead. Consult the upgrading guide for further information: https://docs.gradle.org/8.2.1/userguide/upgrading_version_5.html#dependencies_should_no_longer_be_declared_using_the_compile_and_runtime_configurations\n</code></pre>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":2264130,"reputation":38897,"user_id":1993366,"accept_rate":86,"display_name":"vikingsteve"},"score":1,"creation_date":1482318770,"post_id":41261431,"comment_id":69723312,"body_markdown":"Would you consider the master - worker pattern where threads are re-used? Perhaps a distrubuted version like Map Reduce or Hazelcast?","body":"Would you consider the master - worker pattern where threads are re-used? Perhaps a distrubuted version like Map Reduce or Hazelcast?"},{"owner":{"account_id":219747,"reputation":2950,"user_id":476817,"accept_rate":85,"display_name":"DagR"},"score":0,"creation_date":1482325538,"post_id":41261431,"comment_id":69727541,"body_markdown":"I&#39;m thinking of a single web server being able to process 100 000 simultaneous clients and keeping one (lightweight) thread per request and making synchronous calls to external systems for each client.","body":"I&#39;m thinking of a single web server being able to process 100 000 simultaneous clients and keeping one (lightweight) thread per request and making synchronous calls to external systems for each client."},{"owner":{"account_id":2264130,"reputation":38897,"user_id":1993366,"accept_rate":86,"display_name":"vikingsteve"},"score":0,"creation_date":1482325924,"post_id":41261431,"comment_id":69727798,"body_markdown":"Shouldn&#39;t you allow the web server to handle that? In any case 100 000 simultaneous clients sounds like a lot so you&#39;ll be using some form of clustering anyways","body":"Shouldn&#39;t you allow the web server to handle that? In any case 100 000 simultaneous clients sounds like a lot so you&#39;ll be using some form of clustering anyways"},{"owner":{"account_id":1000314,"reputation":12261,"user_id":1015327,"display_name":"JimmyB"},"score":0,"creation_date":1482335804,"post_id":41261431,"comment_id":69734577,"body_markdown":"Related: http://stackoverflow.com/questions/20030120/java-default-stack-size","body":"Related: <a href=\"http://stackoverflow.com/questions/20030120/java-default-stack-size\" title=\"java default stack size\">stackoverflow.com/questions/20030120/java-default-stack-size</a>"}],"answers":[{"tags":[],"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1482433528,"creation_date":1482319966,"answer_id":41261842,"question_id":41261431,"body_markdown":"I am not aware of any &quot;lightweight&quot; solutions that would be on their way into the Java community process. See the [jep][1] entries ... no word about anything like that there. There was a request for [coroutines][2] years back; but that thing looks pretty much &quot;dead&quot;.\r\n\r\nI think the closest that you can get **today** would be more something like what the [akka][3] framework provides to you; as those Akka actors all run with a &quot;&quot;lightweight thread&quot; of activity so to speak.  \r\n\r\n\r\n  [1]: http://openjdk.java.net/jeps/0\r\n  [2]: https://bugs.openjdk.java.net/browse/JDK-8029988\r\n  [3]: http://akka.io/","title":"Lightweight threads in Java?","body":"<p>I am not aware of any \"lightweight\" solutions that would be on their way into the Java community process. See the <a href=\"http://openjdk.java.net/jeps/0\" rel=\"nofollow noreferrer\">jep</a> entries ... no word about anything like that there. There was a request for <a href=\"https://bugs.openjdk.java.net/browse/JDK-8029988\" rel=\"nofollow noreferrer\">coroutines</a> years back; but that thing looks pretty much \"dead\".</p>\n\n<p>I think the closest that you can get <strong>today</strong> would be more something like what the <a href=\"http://akka.io/\" rel=\"nofollow noreferrer\">akka</a> framework provides to you; as those Akka actors all run with a \"\"lightweight thread\" of activity so to speak.  </p>\n"},{"tags":[],"owner":{"account_id":219747,"reputation":2950,"user_id":476817,"accept_rate":85,"display_name":"DagR"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1545299925,"creation_date":1521644619,"answer_id":49409813,"question_id":41261431,"body_markdown":"There is a proposal for lightweight threads (&quot;fibers&quot;) on the JVM called Project Loom: http://cr.openjdk.java.net/~rpressler/loom/Loom-Proposal.html\r\n\r\nIt&#39;s in its early stages, nothing released yet, but still something to keep an eye on.\r\n","title":"Lightweight threads in Java?","body":"<p>There is a proposal for lightweight threads (\"fibers\") on the JVM called Project Loom: <a href=\"http://cr.openjdk.java.net/~rpressler/loom/Loom-Proposal.html\" rel=\"noreferrer\">http://cr.openjdk.java.net/~rpressler/loom/Loom-Proposal.html</a></p>\n\n<p>It's in its early stages, nothing released yet, but still something to keep an eye on.</p>\n"},{"tags":[],"owner":{"account_id":33808,"reputation":43273,"user_id":94977,"accept_rate":69,"display_name":"Jason Orendorff"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1698242402,"creation_date":1698242402,"answer_id":77360188,"question_id":41261431,"body_markdown":"**Virtual threads** were finalized in JDK 21. They are described in [JEP 444](https://openjdk.org/jeps/444), which says:\r\n\r\n&gt; Virtual threads are lightweight threads that dramatically reduce the effort of writing, maintaining, and observing high-throughput concurrent applications.\r\n\r\nThe model is a lot like Erlang&#39;s lightweight processes:\r\n\r\n - Virtual threads are lightweight, quick to create and start.\r\n - Their stacks are heap-allocated, start out small, and grow dynamically.\r\n - A single process can have tens of thousands of them.\r\n - There&#39;s a userspace scheduler that assigns OS threads to execute virtual threads.\r\n - If you write code that appears to do a blocking `write` to a socket, on a virtual thread that code will actually do an asynchronous write, then yield, freeing the underlying OS thread to work on something else. The virtual thread won&#39;t be scheduled again until the write finishes.\r\n\r\nThere are also some differences from Erlang:\r\n - `java.lang.Thread`&#39;s public constructors still create platform threads, which run directly on new native OS threads.\r\n - Java doesn&#39;t create a tiny, independent GC heap for each virtual thread. On the one hand, this rules out some neat GC performance tricks Erlang has; but for Java, it means virtual threads can access and modify shared data by going through locks, as Java programmers naturally expect.\r\n - Java doesn&#39;t have Erlang&#39;s message-passing primitives (mailboxes and PIDs). It has its own primitives for inter-thread communication.\r\n - Virtual threads in Java don&#39;t have Erlang-style error handling. Java doesn&#39;t have Erlang&#39;s process links, monitors, and [supervisors](https://www.erlang.org/doc/man/supervisor.html). Instead, Java programs manage virtual threads using `java.lang.Thread` and executors, just like OS threads.","title":"Lightweight threads in Java?","body":"<p><strong>Virtual threads</strong> were finalized in JDK 21. They are described in <a href=\"https://openjdk.org/jeps/444\" rel=\"nofollow noreferrer\">JEP 444</a>, which says:</p>\n<blockquote>\n<p>Virtual threads are lightweight threads that dramatically reduce the effort of writing, maintaining, and observing high-throughput concurrent applications.</p>\n</blockquote>\n<p>The model is a lot like Erlang's lightweight processes:</p>\n<ul>\n<li>Virtual threads are lightweight, quick to create and start.</li>\n<li>Their stacks are heap-allocated, start out small, and grow dynamically.</li>\n<li>A single process can have tens of thousands of them.</li>\n<li>There's a userspace scheduler that assigns OS threads to execute virtual threads.</li>\n<li>If you write code that appears to do a blocking <code>write</code> to a socket, on a virtual thread that code will actually do an asynchronous write, then yield, freeing the underlying OS thread to work on something else. The virtual thread won't be scheduled again until the write finishes.</li>\n</ul>\n<p>There are also some differences from Erlang:</p>\n<ul>\n<li><code>java.lang.Thread</code>'s public constructors still create platform threads, which run directly on new native OS threads.</li>\n<li>Java doesn't create a tiny, independent GC heap for each virtual thread. On the one hand, this rules out some neat GC performance tricks Erlang has; but for Java, it means virtual threads can access and modify shared data by going through locks, as Java programmers naturally expect.</li>\n<li>Java doesn't have Erlang's message-passing primitives (mailboxes and PIDs). It has its own primitives for inter-thread communication.</li>\n<li>Virtual threads in Java don't have Erlang-style error handling. Java doesn't have Erlang's process links, monitors, and <a href=\"https://www.erlang.org/doc/man/supervisor.html\" rel=\"nofollow noreferrer\">supervisors</a>. Instead, Java programs manage virtual threads using <code>java.lang.Thread</code> and executors, just like OS threads.</li>\n</ul>\n"}],"owner":{"account_id":219747,"reputation":2950,"user_id":476817,"accept_rate":85,"display_name":"DagR"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7529,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"accepted_answer_id":77360188,"answer_count":3,"score":21,"last_activity_date":1698242402,"creation_date":1482318658,"question_id":41261431,"body_markdown":"Is there any JSR or other serious initiative to create lightweight threads in Java? Something similar to Golang&#39;s goroutines or Erlang processes.\r\n\r\nJava threads are known for their heavy weight. Something like 512-1024 kb per thread is used so this limits the maximum number of threads. Context switching between java threads also takes a &quot;long&quot; time.\r\n\r\nI&#39;ve heard of Quasar &quot;fibers&quot; (http://docs.paralleluniverse.co/quasar/) which are lightweight threads implemented as a lib. They seem a bit tricky to use though and haven&#39;t caught a lot of interest.\r\n\r\nIdeally lightweight threads should be built into the core of the JVM.","title":"Lightweight threads in Java?","body":"<p>Is there any JSR or other serious initiative to create lightweight threads in Java? Something similar to Golang's goroutines or Erlang processes.</p>\n\n<p>Java threads are known for their heavy weight. Something like 512-1024 kb per thread is used so this limits the maximum number of threads. Context switching between java threads also takes a \"long\" time.</p>\n\n<p>I've heard of Quasar \"fibers\" (<a href=\"http://docs.paralleluniverse.co/quasar/\" rel=\"noreferrer\">http://docs.paralleluniverse.co/quasar/</a>) which are lightweight threads implemented as a lib. They seem a bit tricky to use though and haven't caught a lot of interest.</p>\n\n<p>Ideally lightweight threads should be built into the core of the JVM.</p>\n"},{"tags":["java","spring","set","multi-tenant"],"comments":[{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":0,"creation_date":1698164535,"post_id":77353614,"comment_id":136369385,"body_markdown":"Are there implementations for `equals()` and `hashCode()`, to properly identify a `ConfigurationWrapper`?","body":"Are there implementations for <code>equals()</code> and <code>hashCode()</code>, to properly identify a <code>ConfigurationWrapper</code>?"},{"owner":{"account_id":5534873,"reputation":18486,"user_id":4393565,"accept_rate":67,"display_name":"P.J.Meisch"},"score":0,"creation_date":1698166174,"post_id":77353614,"comment_id":136369672,"body_markdown":"all the `ConfigurationWrapper` objects you create contain the same `Configuration` object. With `Configuration config = configuration;` you just create another reference to `this.configuraton` and in the following lines set the username, password etc. into this instance.","body":"all the <code>ConfigurationWrapper</code> objects you create contain the same <code>Configuration</code> object. With <code>Configuration config = configuration;</code> you just create another reference to <code>this.configuraton</code> and in the following lines set the username, password etc. into this instance."},{"owner":{"account_id":3179240,"reputation":19,"user_id":2686382,"display_name":"Omar Hossam"},"score":0,"creation_date":1698189204,"post_id":77353614,"comment_id":136373099,"body_markdown":"@AndrewS Yes for sure. I chose only for both functions the attributes of the Wrapper that really differentiate it from the other instances. I&#39;ve added to my questions the code for the ConfigurationWrapper class","body":"@AndrewS Yes for sure. I chose only for both functions the attributes of the Wrapper that really differentiate it from the other instances. I&#39;ve added to my questions the code for the ConfigurationWrapper class"},{"owner":{"account_id":3179240,"reputation":19,"user_id":2686382,"display_name":"Omar Hossam"},"score":0,"creation_date":1698189781,"post_id":77353614,"comment_id":136373151,"body_markdown":"@P.J.Meisch Yes that&#39;s right, it was actually a try to make sure that using the same Configuration instance in different Wrappers doesn&#39;t cause any copying issues. But initially I&#39;m using the original Configuration instance for all Wrappers creation","body":"@P.J.Meisch Yes that&#39;s right, it was actually a try to make sure that using the same Configuration instance in different Wrappers doesn&#39;t cause any copying issues. But initially I&#39;m using the original Configuration instance for all Wrappers creation"}],"answers":[{"tags":[],"owner":{"account_id":3179240,"reputation":19,"user_id":2686382,"display_name":"Omar Hossam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1698242210,"creation_date":1698242210,"answer_id":77360161,"question_id":77353614,"body_markdown":"Problem solved!\r\n\r\nFor the first issue, I was using a single `Configuration` object to create all `ConfigurationWrapper` objects. This was causing all `ConfigurationWrapper` objects to have the same `Configuration` reference. To fix this issue, I had to create a new `Configuration` object for each `ConfigurationWrapper`.\r\n\r\nFor the second issue, the issue with unsubscribing tenants was related to the way I was comparing and removing them. When I remove a `ConfigurationWrapper` from the set, I had to also update the iterator or use an iterator specifically designed for this purpose. I fixed it by using `Iterator` instead of `For` each.","title":"java - Why contents of Set are changed unintentionally in the background","body":"<p>Problem solved!</p>\n<p>For the first issue, I was using a single <code>Configuration</code> object to create all <code>ConfigurationWrapper</code> objects. This was causing all <code>ConfigurationWrapper</code> objects to have the same <code>Configuration</code> reference. To fix this issue, I had to create a new <code>Configuration</code> object for each <code>ConfigurationWrapper</code>.</p>\n<p>For the second issue, the issue with unsubscribing tenants was related to the way I was comparing and removing them. When I remove a <code>ConfigurationWrapper</code> from the set, I had to also update the iterator or use an iterator specifically designed for this purpose. I fixed it by using <code>Iterator</code> instead of <code>For</code> each.</p>\n"}],"owner":{"account_id":3179240,"reputation":19,"user_id":2686382,"display_name":"Omar Hossam"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":77360161,"answer_count":1,"score":-1,"last_activity_date":1698242210,"creation_date":1698162655,"question_id":77353614,"body_markdown":"In a spring boot microservice, I&#39;m having a Set of Wrapper Objects in my service class. This set represents subscribers, where the wrapper object includes all configurations needed by the subscriber&#39;s daos and http client, and this set is regularly synced to check for new subscribers or tenants that unsubscribed. 2 issues at least I could spot at the moment:\r\n- Whenever adding new subscribers, logging one of the Wrapper Objects&#39; parameters shows them all the same value, although other parameters of object are correct, and also functionality based on faulty printed parameter is also working well. The logging is only for debugging reasons, but for every function applied on the tenant (Wrapper Object) and logging the tenantId, the same tenantId is always logged. TenantId is a part of the Configuration parameter of the Wrapper that becomes similar for all objects in the Set, unlike other parameters in the wrapper object.\r\n- Whenever a tenant unsubscribes and removing the tenants related instance in the set, on next sync, the set is seen to still contain the tenant and goes to removing again.\r\n\r\nThe issues seem very simple, but I have no idea where could the issue be, and if they actually are related and may cause more issues.\r\n\r\n\r\n```\r\n@Service\r\npublic class Service {\r\n\r\n\tprivate final Configuration configuration;\r\n\tprivate final ApplicationDao appDao;\r\n\t\r\n\tprivate static final HashSet&lt;ConfigurationWrapper&gt; configurations = new HashSet&lt;ConfigurationWrapper&gt;();\r\n\r\n\t@Autowired\r\n\tpublic Service(Configuration configuration, ApplicationDao appDao) {\r\n\t\tthis.configuration = configuration;\r\n\t\tthis.appDao = appDao;\r\n\t\t\r\n\t\ttry {this.scheduledSubscriptionsSync();\r\n\t\t} catch (IOException | HttpClientException e) {}\r\n\t}\r\n\r\n\t@Scheduled(cron = &quot;0 0 0/1 * * ?&quot;)\r\n\tprivate void scheduledSubscriptionsSync() throws IOException, HttpClientException {\r\n\t\tList&lt;User&gt; subs = appDao.getAllSubscriptions();\r\n\t\taddNewSubs(subs);\r\n\t\tremoveSubs(subs);\r\n\t}\r\n\r\n\tprivate void addNewSubs(List&lt;User&gt; subs) {\r\n\t\tfor (User sub : subs) {\r\n\t\t\tConfiguration config = configuration;\r\n\t\t\tconfig.setUserName(sub.getName());\r\n\t\t\tconfig.setPassword(sub.getPassword());\r\n\t\t\tconfig.setTenantid(sub.getTenant());\r\n\t\t\tConfigurationWrapper newSubConfig = new ConfigurationWrapper(config, sub);\r\n\t\t\tboolean isNewSubConfigAdded = configurations.add(newSubConfig);\r\n\t\t\tif (isNewSubConfigAdded) { \r\n\t\t\t\tLOGGER.info(&quot;New subscription found: {}&quot;, sub.toString());\r\n\t\t\t\tint counter = 0;\r\n\t\t\t\tfor (ConfigurationWrapper configuration : Service.configurations) {\r\n\t\t\t\t\tLOGGER.debug(&quot;!DEBUG! BOOTSTRAPSERVICE - PRINTING HASHSET AFTER ADD: &quot; + configuration.toString() + &quot;, POSITION: &quot; + counter);\r\n\t\t\t\t\tcounter++;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tprivate void removeSubs(List&lt;User&gt; subs) {\r\n\t\tfor (ConfigurationWrapper configuration : Service.configurations) {\r\n\t\t\tif (!subs.contains(configuration.getSubscription())) {\r\n\t\t\t\tconfigurations.remove(configuration);\r\n\t\t\t\tLOGGER.info(&quot;Subscription removed: {}&quot;, configuration.getSubscription().toString());\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static HashSet&lt;ConfigurationWrapper&gt; getConfigurations() {\r\n\t\treturn configurations;\r\n\t}\r\n}\r\n```\r\n\r\n\r\nI tried changing the data structure of the set, between arrayLists and HashSets, and also making the Set static to avoid expired copies of the set, but still the issues remain.\r\n\r\n\r\n```\r\npublic class ConfigurationWrapper {\r\n\t\r\n\tprivate Configuration configuration;\r\n\tprivate final HttpClient httpClient;\r\n\tprivate final Daos daos;\r\n\tprivate final Timestamps timestamps;\r\n\tprivate final User subscription;\r\n\r\n\tpublic ConfigurationWrapper(Configuration configuration, User subscription) {\r\n\t\tthis.configuration = configuration;\r\n\t\tthis.httpClient = new HttpClient(configuration, CredentialsProviderFactory.getConfigCredentials(configuration));\r\n\t\tthis.daos = new Daos(configuration, this.httpClient);\r\n\t\tthis.timestamps = new Timestamps();\r\n\t\tthis.subscription = subscription;\r\n\t}\r\n\r\n\tpublic Configuration getConfiguration() {\r\n\t\treturn configuration;\r\n\t}\r\n\r\n\tpublic HttpClient getHttpClient() {\r\n\t\treturn httpClient;\r\n\t}\r\n\r\n\tpublic Daos getDaos() {\r\n\t\treturn daos;\r\n\t}\r\n\r\n\tpublic Timestamps getTimestamps() {\r\n\t\treturn timestamps;\r\n\t}\r\n\r\n\tpublic User getSubscription() {\r\n\t\treturn subscription;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic String toString() {\r\n\t\treturn &quot;ConfigurationWrapper [configuration=&quot;\r\n\t\t\t\t+ configuration + &quot;, subscription=&quot; + subscription + &quot;]&quot;;\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic int hashCode() {\r\n\t\treturn Objects.hash(configuration, subscription);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic boolean equals(Object obj) {\r\n\t\tif (this == obj)\r\n\t\t\treturn true;\r\n\t\tif (obj == null)\r\n\t\t\treturn false;\r\n\t\tif (getClass() != obj.getClass())\r\n\t\t\treturn false;\r\n\t\tConfigurationWrapper other = (ConfigurationWrapper) obj;\r\n\t\treturn Objects.equals(configuration, other.configuration)\r\n\t\t\t\t&amp;&amp; Objects.equals(subscription, other.subscription);\r\n\t}\r\n}\r\n```","title":"java - Why contents of Set are changed unintentionally in the background","body":"<p>In a spring boot microservice, I'm having a Set of Wrapper Objects in my service class. This set represents subscribers, where the wrapper object includes all configurations needed by the subscriber's daos and http client, and this set is regularly synced to check for new subscribers or tenants that unsubscribed. 2 issues at least I could spot at the moment:</p>\n<ul>\n<li>Whenever adding new subscribers, logging one of the Wrapper Objects' parameters shows them all the same value, although other parameters of object are correct, and also functionality based on faulty printed parameter is also working well. The logging is only for debugging reasons, but for every function applied on the tenant (Wrapper Object) and logging the tenantId, the same tenantId is always logged. TenantId is a part of the Configuration parameter of the Wrapper that becomes similar for all objects in the Set, unlike other parameters in the wrapper object.</li>\n<li>Whenever a tenant unsubscribes and removing the tenants related instance in the set, on next sync, the set is seen to still contain the tenant and goes to removing again.</li>\n</ul>\n<p>The issues seem very simple, but I have no idea where could the issue be, and if they actually are related and may cause more issues.</p>\n<pre><code>@Service\npublic class Service {\n\n    private final Configuration configuration;\n    private final ApplicationDao appDao;\n    \n    private static final HashSet&lt;ConfigurationWrapper&gt; configurations = new HashSet&lt;ConfigurationWrapper&gt;();\n\n    @Autowired\n    public Service(Configuration configuration, ApplicationDao appDao) {\n        this.configuration = configuration;\n        this.appDao = appDao;\n        \n        try {this.scheduledSubscriptionsSync();\n        } catch (IOException | HttpClientException e) {}\n    }\n\n    @Scheduled(cron = &quot;0 0 0/1 * * ?&quot;)\n    private void scheduledSubscriptionsSync() throws IOException, HttpClientException {\n        List&lt;User&gt; subs = appDao.getAllSubscriptions();\n        addNewSubs(subs);\n        removeSubs(subs);\n    }\n\n    private void addNewSubs(List&lt;User&gt; subs) {\n        for (User sub : subs) {\n            Configuration config = configuration;\n            config.setUserName(sub.getName());\n            config.setPassword(sub.getPassword());\n            config.setTenantid(sub.getTenant());\n            ConfigurationWrapper newSubConfig = new ConfigurationWrapper(config, sub);\n            boolean isNewSubConfigAdded = configurations.add(newSubConfig);\n            if (isNewSubConfigAdded) { \n                LOGGER.info(&quot;New subscription found: {}&quot;, sub.toString());\n                int counter = 0;\n                for (ConfigurationWrapper configuration : Service.configurations) {\n                    LOGGER.debug(&quot;!DEBUG! BOOTSTRAPSERVICE - PRINTING HASHSET AFTER ADD: &quot; + configuration.toString() + &quot;, POSITION: &quot; + counter);\n                    counter++;\n                }\n            }\n        }\n    }\n    \n    private void removeSubs(List&lt;User&gt; subs) {\n        for (ConfigurationWrapper configuration : Service.configurations) {\n            if (!subs.contains(configuration.getSubscription())) {\n                configurations.remove(configuration);\n                LOGGER.info(&quot;Subscription removed: {}&quot;, configuration.getSubscription().toString());\n            }\n        }\n    }\n\n    public static HashSet&lt;ConfigurationWrapper&gt; getConfigurations() {\n        return configurations;\n    }\n}\n</code></pre>\n<p>I tried changing the data structure of the set, between arrayLists and HashSets, and also making the Set static to avoid expired copies of the set, but still the issues remain.</p>\n<pre><code>public class ConfigurationWrapper {\n    \n    private Configuration configuration;\n    private final HttpClient httpClient;\n    private final Daos daos;\n    private final Timestamps timestamps;\n    private final User subscription;\n\n    public ConfigurationWrapper(Configuration configuration, User subscription) {\n        this.configuration = configuration;\n        this.httpClient = new HttpClient(configuration, CredentialsProviderFactory.getConfigCredentials(configuration));\n        this.daos = new Daos(configuration, this.httpClient);\n        this.timestamps = new Timestamps();\n        this.subscription = subscription;\n    }\n\n    public Configuration getConfiguration() {\n        return configuration;\n    }\n\n    public HttpClient getHttpClient() {\n        return httpClient;\n    }\n\n    public Daos getDaos() {\n        return daos;\n    }\n\n    public Timestamps getTimestamps() {\n        return timestamps;\n    }\n\n    public User getSubscription() {\n        return subscription;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;ConfigurationWrapper [configuration=&quot;\n                + configuration + &quot;, subscription=&quot; + subscription + &quot;]&quot;;\n    }\n    \n    @Override\n    public int hashCode() {\n        return Objects.hash(configuration, subscription);\n    }\n\n    @Override\n    public boolean equals(Object obj) {\n        if (this == obj)\n            return true;\n        if (obj == null)\n            return false;\n        if (getClass() != obj.getClass())\n            return false;\n        ConfigurationWrapper other = (ConfigurationWrapper) obj;\n        return Objects.equals(configuration, other.configuration)\n                &amp;&amp; Objects.equals(subscription, other.subscription);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-mvc","kendo-ui","kendo-grid"],"comments":[{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1698242816,"post_id":77360151,"comment_id":136380585,"body_markdown":"It is not readable format of the post. Edit it and clarify your problem, add code necessary to reproduce it.","body":"It is not readable format of the post. Edit it and clarify your problem, add code necessary to reproduce it."}],"owner":{"account_id":29751608,"reputation":1,"user_id":22801395,"display_name":"ahmad"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698242120,"creation_date":1698242120,"question_id":77360151,"body_markdown":"\r\n```\r\n$(&quot;#grid&quot;).kendoGrid({\r\n                        dataSource: {\r\n                           \r\n                    transport: {\r\n                         read: {\r\n                             url: function(options) \r\n                             {   return &quot;${pageContext.request.contextPath}/charts&quot;;\r\n                                         },\r\n                            \r\n                            dataType: &quot;json&quot;,\r\n                            type: &quot;GET&quot;\r\n                        }\r\n                        },\r\n                            \r\n                            schema:{\r\n                                model: {\r\n                                    fields: {\r\n                                        id: { type: &quot;number&quot; },\r\n                                        fullName : { type: &quot;string&quot; },\r\n                                        address: { type: &quot;string&quot; },\r\n                                        email : { type: &quot;string&quot; },\r\n                                        password: { type: &quot;string&quot; },\r\n                                        designation: { type: &quot;string&quot; },\r\n                                        salary: { type: &quot;number&quot; }\r\n                                    }\r\n                                }\r\n                            },\r\n\r\n                            aggregate: [ { field: &quot;fullName&quot;, aggregate: &quot;count&quot; },\r\n                                \r\n                                          { field: &quot;salary&quot;, aggregate: &quot;sum&quot; }\r\n                                          ]\r\n                             \r\n                       ,pageSize: 8 },\r\n                        sortable: true,\r\n                        scrollable: false,\r\n                       pageSize: 5,\r\n                       pageSizes: true,\r\n                        hieght:20,\r\n                         pageable: {\r\n                \r\n           pageSizes: [4, 6,10,&quot;all&quot;],\r\n           buttonCount: 5\r\n                },\r\n     columns: [\r\n                   { field: &quot;id&quot;, title: &quot;ID&quot;, width: 180  },\r\n                   { field: &quot;fullName&quot;, title: &quot;Name&quot;,width:300,\r\n                    template: &quot;&lt;div style=color:red&gt;#=fullName#&lt;/div&gt;&quot; ,footerTemplate: &quot;Total Count: #=count#&quot;  },\r\n                     { field: &quot;address&quot;, title: &quot;Address&quot;,width:300 },\r\n                      { field: &quot;email&quot;, title: &quot;Email&quot;,width:200},\r\n                      { field: &quot;password&quot;, title: &quot;Password&quot; ,width:200},\r\n                            { field: &quot;designation&quot;, title: &quot;Designation&quot; ,width:300},\r\n                            { field: &quot;salary&quot;, title: &quot;Salary&quot; ,width:200,footerTemplate: &quot;Total Sum: #=sum#&quot;},\r\n                            { width:200,\r\n                              template: &quot;&lt;a class=&#39;k-button&#39; href=&#39;/Home/Index&#39;&gt;Redirect&lt;/a&gt;&quot;   }\r\n                            \r\n                        ]\r\n                    });\r\n```\r\n\r\n\r\n i want to set these data set in json formate return by my java mvc controller..\r\ni am try to bind json data set retuned by mvc controller and show these data set in Kendo ui grid but the data is not set in grid and empty grid is shown here is my code...\r\n","title":"Data binding problem return by java mvc controller using api read","body":"<pre><code>$(&quot;#grid&quot;).kendoGrid({\n                        dataSource: {\n                           \n                    transport: {\n                         read: {\n                             url: function(options) \n                             {   return &quot;${pageContext.request.contextPath}/charts&quot;;\n                                         },\n                            \n                            dataType: &quot;json&quot;,\n                            type: &quot;GET&quot;\n                        }\n                        },\n                            \n                            schema:{\n                                model: {\n                                    fields: {\n                                        id: { type: &quot;number&quot; },\n                                        fullName : { type: &quot;string&quot; },\n                                        address: { type: &quot;string&quot; },\n                                        email : { type: &quot;string&quot; },\n                                        password: { type: &quot;string&quot; },\n                                        designation: { type: &quot;string&quot; },\n                                        salary: { type: &quot;number&quot; }\n                                    }\n                                }\n                            },\n\n                            aggregate: [ { field: &quot;fullName&quot;, aggregate: &quot;count&quot; },\n                                \n                                          { field: &quot;salary&quot;, aggregate: &quot;sum&quot; }\n                                          ]\n                             \n                       ,pageSize: 8 },\n                        sortable: true,\n                        scrollable: false,\n                       pageSize: 5,\n                       pageSizes: true,\n                        hieght:20,\n                         pageable: {\n                \n           pageSizes: [4, 6,10,&quot;all&quot;],\n           buttonCount: 5\n                },\n     columns: [\n                   { field: &quot;id&quot;, title: &quot;ID&quot;, width: 180  },\n                   { field: &quot;fullName&quot;, title: &quot;Name&quot;,width:300,\n                    template: &quot;&lt;div style=color:red&gt;#=fullName#&lt;/div&gt;&quot; ,footerTemplate: &quot;Total Count: #=count#&quot;  },\n                     { field: &quot;address&quot;, title: &quot;Address&quot;,width:300 },\n                      { field: &quot;email&quot;, title: &quot;Email&quot;,width:200},\n                      { field: &quot;password&quot;, title: &quot;Password&quot; ,width:200},\n                            { field: &quot;designation&quot;, title: &quot;Designation&quot; ,width:300},\n                            { field: &quot;salary&quot;, title: &quot;Salary&quot; ,width:200,footerTemplate: &quot;Total Sum: #=sum#&quot;},\n                            { width:200,\n                              template: &quot;&lt;a class='k-button' href='/Home/Index'&gt;Redirect&lt;/a&gt;&quot;   }\n                            \n                        ]\n                    });\n</code></pre>\n<p>i want to set these data set in json formate return by my java mvc controller..\ni am try to bind json data set retuned by mvc controller and show these data set in Kendo ui grid but the data is not set in grid and empty grid is shown here is my code...</p>\n"},{"tags":["java","maven","maven-2","pom.xml"],"comments":[{"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1662656377,"post_id":2681759,"comment_id":130062118,"body_markdown":"that is the reason I hate maven, when things get complicated - I want gradle. with variant aware functionality, in gradle this is not complicated.","body":"that is the reason I hate maven, when things get complicated - I want gradle. with variant aware functionality, in gradle this is not complicated."}],"answers":[{"tags":[],"owner":{"account_id":26957,"reputation":564351,"user_id":70604,"display_name":"Pascal Thivent"},"down_vote_count":1,"up_vote_count":59,"is_accepted":true,"score":58,"last_activity_date":1523518959,"creation_date":1271863726,"answer_id":2684291,"question_id":2681759,"body_markdown":"Some ideas:\r\n\r\n1. Maybe you could simply not inherit from the parent in that case (and declare a dependency on `base` with the exclusion). Not handy if you have lot of stuff in the parent pom.\r\n\r\n1. Another thing to test would be to declare the `mail` artifact with the version required by `ALL-DEPS` under the `dependencyManagement` in the parent pom to force the convergence (although I&#39;m not sure this will solve the scoping problem).\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;dependencyManagement&gt;\r\n      &lt;dependencies&gt;\r\n        &lt;dependency&gt;    \r\n          &lt;groupId&gt;javax.mail&lt;/groupId&gt;\r\n          &lt;artifactId&gt;mail&lt;/artifactId&gt;\r\n          &lt;version&gt;???&lt;/version&gt;&lt;!-- put the &quot;right&quot; version here --&gt;\r\n        &lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n\r\n1. Or you could exclude the `mail` dependency from log4j if you&#39;re not using the features relying on it (and this is what I would do):\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;log4j&lt;/groupId&gt;\r\n      &lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n      &lt;version&gt;1.2.15&lt;/version&gt;\r\n      &lt;scope&gt;provided&lt;/scope&gt;\r\n      &lt;exclusions&gt;\r\n        &lt;exclusion&gt;\r\n          &lt;groupId&gt;javax.mail&lt;/groupId&gt;\r\n          &lt;artifactId&gt;mail&lt;/artifactId&gt;\r\n        &lt;/exclusion&gt;\r\n        &lt;exclusion&gt;\r\n          &lt;groupId&gt;javax.jms&lt;/groupId&gt;\r\n          &lt;artifactId&gt;jms&lt;/artifactId&gt;\r\n        &lt;/exclusion&gt;\r\n        &lt;exclusion&gt;\r\n          &lt;groupId&gt;com.sun.jdmk&lt;/groupId&gt;\r\n          &lt;artifactId&gt;jmxtools&lt;/artifactId&gt;\r\n        &lt;/exclusion&gt;\r\n        &lt;exclusion&gt;\r\n          &lt;groupId&gt;com.sun.jmx&lt;/groupId&gt;\r\n          &lt;artifactId&gt;jmxri&lt;/artifactId&gt;\r\n        &lt;/exclusion&gt;\r\n      &lt;/exclusions&gt;\r\n    &lt;/dependency&gt;\r\n\r\n1. Or you could revert to the version 1.2.14 of log4j instead of the heretic 1.2.15 version (why didn&#39;t they mark the above dependencies as *optional*?!).","title":"Is there anyway to exclude artifacts inherited from a parent POM?","body":"<p>Some ideas:</p>\n\n<ol>\n<li><p>Maybe you could simply not inherit from the parent in that case (and declare a dependency on <code>base</code> with the exclusion). Not handy if you have lot of stuff in the parent pom.</p></li>\n<li><p>Another thing to test would be to declare the <code>mail</code> artifact with the version required by <code>ALL-DEPS</code> under the <code>dependencyManagement</code> in the parent pom to force the convergence (although I'm not sure this will solve the scoping problem).</p></li>\n</ol>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependencyManagement&gt;\n  &lt;dependencies&gt;\n    &lt;dependency&gt;    \n      &lt;groupId&gt;javax.mail&lt;/groupId&gt;\n      &lt;artifactId&gt;mail&lt;/artifactId&gt;\n      &lt;version&gt;???&lt;/version&gt;&lt;!-- put the \"right\" version here --&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n</code></pre>\n\n<ol>\n<li>Or you could exclude the <code>mail</code> dependency from log4j if you're not using the features relying on it (and this is what I would do):</li>\n</ol>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n  &lt;groupId&gt;log4j&lt;/groupId&gt;\n  &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n  &lt;version&gt;1.2.15&lt;/version&gt;\n  &lt;scope&gt;provided&lt;/scope&gt;\n  &lt;exclusions&gt;\n    &lt;exclusion&gt;\n      &lt;groupId&gt;javax.mail&lt;/groupId&gt;\n      &lt;artifactId&gt;mail&lt;/artifactId&gt;\n    &lt;/exclusion&gt;\n    &lt;exclusion&gt;\n      &lt;groupId&gt;javax.jms&lt;/groupId&gt;\n      &lt;artifactId&gt;jms&lt;/artifactId&gt;\n    &lt;/exclusion&gt;\n    &lt;exclusion&gt;\n      &lt;groupId&gt;com.sun.jdmk&lt;/groupId&gt;\n      &lt;artifactId&gt;jmxtools&lt;/artifactId&gt;\n    &lt;/exclusion&gt;\n    &lt;exclusion&gt;\n      &lt;groupId&gt;com.sun.jmx&lt;/groupId&gt;\n      &lt;artifactId&gt;jmxri&lt;/artifactId&gt;\n    &lt;/exclusion&gt;\n  &lt;/exclusions&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<ol>\n<li>Or you could revert to the version 1.2.14 of log4j instead of the heretic 1.2.15 version (why didn't they mark the above dependencies as <em>optional</em>?!).</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":88889,"reputation":179,"user_id":245615,"display_name":"porterhouse91"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1523519071,"creation_date":1271883091,"answer_id":2686464,"question_id":2681759,"body_markdown":"Have you tried explicitly declaring the version of mail.jar you want?  Maven&#39;s dependency resolution should use this for dependency resolution over all other versions.\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;project&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n      &lt;groupId&gt;test&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jruby&lt;/artifactId&gt;\r\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n        &lt;parent&gt;\r\n            &lt;artifactId&gt;base&lt;/artifactId&gt;\r\n            &lt;groupId&gt;es.uniovi.innova&lt;/groupId&gt;\r\n            &lt;version&gt;1.0.0&lt;/version&gt;\r\n        &lt;/parent&gt;\r\n        &lt;dependencies&gt;          \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;javax.mail&lt;/groupId&gt;\r\n                &lt;artifactId&gt;mail&lt;/artifactId&gt;\r\n                &lt;version&gt;VERSION-#&lt;/version&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;/dependency&gt; \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.liferay.portal&lt;/groupId&gt;\r\n                &lt;artifactId&gt;ALL-DEPS&lt;/artifactId&gt;\r\n                &lt;version&gt;1.0&lt;/version&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/project&gt;\r\n\r\n","title":"Is there anyway to exclude artifacts inherited from a parent POM?","body":"<p>Have you tried explicitly declaring the version of mail.jar you want?  Maven's dependency resolution should use this for dependency resolution over all other versions.</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;project&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;test&lt;/groupId&gt;\n  &lt;artifactId&gt;jruby&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;parent&gt;\n        &lt;artifactId&gt;base&lt;/artifactId&gt;\n        &lt;groupId&gt;es.uniovi.innova&lt;/groupId&gt;\n        &lt;version&gt;1.0.0&lt;/version&gt;\n    &lt;/parent&gt;\n    &lt;dependencies&gt;          \n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.mail&lt;/groupId&gt;\n            &lt;artifactId&gt;mail&lt;/artifactId&gt;\n            &lt;version&gt;VERSION-#&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt; \n        &lt;dependency&gt;\n            &lt;groupId&gt;com.liferay.portal&lt;/groupId&gt;\n            &lt;artifactId&gt;ALL-DEPS&lt;/artifactId&gt;\n            &lt;version&gt;1.0&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1259218,"reputation":2475,"user_id":1218010,"display_name":"Ajax"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1557852499,"creation_date":1351540885,"answer_id":13128748,"question_id":2681759,"body_markdown":"Best bet is to make the dependencies you don&#39;t always want to inherit intransitive.\r\n\r\nYou can do this by marking them in the parent pom with scope provided.\r\n\r\nIf you still want the parent to manage versions of these deps, you can use the `&lt;dependencyManagement&gt;` tag to setup the versions you want without explicitly inheriting them, or passing that inheritance along to children.","title":"Is there anyway to exclude artifacts inherited from a parent POM?","body":"<p>Best bet is to make the dependencies you don't always want to inherit intransitive.</p>\n\n<p>You can do this by marking them in the parent pom with scope provided.</p>\n\n<p>If you still want the parent to manage versions of these deps, you can use the <code>&lt;dependencyManagement&gt;</code> tag to setup the versions you want without explicitly inheriting them, or passing that inheritance along to children.</p>\n"},{"tags":[],"owner":{"account_id":106263,"reputation":3151,"user_id":283136,"accept_rate":38,"display_name":"timomeinen"},"down_vote_count":0,"up_vote_count":42,"is_accepted":false,"score":42,"last_activity_date":1523519052,"creation_date":1384264706,"answer_id":19931136,"question_id":2681759,"body_markdown":"You can group your dependencies within a different project with packaging `pom` as described by Sonatypes [Best Practices][1]:\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;project&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;artifactId&gt;base-dependencies&lt;/artifactId&gt;\r\n        &lt;groupId&gt;es.uniovi.innova&lt;/groupId&gt;\r\n        &lt;version&gt;1.0.0&lt;/version&gt;\r\n        &lt;packaging&gt;pom&lt;/packaging&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;javax.mail&lt;/groupId&gt;\r\n                &lt;artifactId&gt;mail&lt;/artifactId&gt;\r\n                &lt;version&gt;1.4&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/project&gt;\r\n\r\nand reference them from your parent-pom (watch the dependency `&lt;type&gt;pom&lt;/type&gt;`):\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;project&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;artifactId&gt;base&lt;/artifactId&gt;\r\n        &lt;groupId&gt;es.uniovi.innova&lt;/groupId&gt;\r\n        &lt;version&gt;1.0.0&lt;/version&gt;\r\n        &lt;packaging&gt;pom&lt;/packaging&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;artifactId&gt;base-dependencies&lt;/artifactId&gt;\r\n                &lt;groupId&gt;es.uniovi.innova&lt;/groupId&gt;\r\n                &lt;version&gt;1.0.0&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/project&gt;\r\n\r\nYour child-project inherits this parent-pom as before. But now, the mail dependency can be excluded in the child-project within the `dependencyManagement` block:\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;project&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;groupId&gt;test&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jruby&lt;/artifactId&gt;\r\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n        &lt;parent&gt;\r\n            &lt;artifactId&gt;base&lt;/artifactId&gt;\r\n            &lt;groupId&gt;es.uniovi.innova&lt;/groupId&gt;\r\n            &lt;version&gt;1.0.0&lt;/version&gt;\r\n        &lt;/parent&gt;\r\n\r\n        &lt;dependencyManagement&gt;\r\n            &lt;dependencies&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;artifactId&gt;base-dependencies&lt;/artifactId&gt;\r\n                    &lt;groupId&gt;es.uniovi.innova&lt;/groupId&gt;\r\n                    &lt;version&gt;1.0.0&lt;/version&gt;\r\n                    &lt;exclusions&gt;\r\n                        &lt;exclusion&gt;\r\n                            &lt;groupId&gt;javax.mail&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;mail&lt;/artifactId&gt;\r\n                        &lt;/exclusion&gt;\r\n                    &lt;/exclusions&gt;\r\n                &lt;/dependency&gt;\r\n            &lt;/dependencies&gt;\r\n        &lt;/dependencyManagement&gt;\r\n    &lt;/project&gt;\r\n\r\n  [1]: http://books.sonatype.com/mvnref-book/reference/pom-relationships-sect-pom-best-practice.html","title":"Is there anyway to exclude artifacts inherited from a parent POM?","body":"<p>You can group your dependencies within a different project with packaging <code>pom</code> as described by Sonatypes <a href=\"http://books.sonatype.com/mvnref-book/reference/pom-relationships-sect-pom-best-practice.html\" rel=\"noreferrer\">Best Practices</a>:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;project&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;artifactId&gt;base-dependencies&lt;/artifactId&gt;\n    &lt;groupId&gt;es.uniovi.innova&lt;/groupId&gt;\n    &lt;version&gt;1.0.0&lt;/version&gt;\n    &lt;packaging&gt;pom&lt;/packaging&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.mail&lt;/groupId&gt;\n            &lt;artifactId&gt;mail&lt;/artifactId&gt;\n            &lt;version&gt;1.4&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p>and reference them from your parent-pom (watch the dependency <code>&lt;type&gt;pom&lt;/type&gt;</code>):</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;project&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;artifactId&gt;base&lt;/artifactId&gt;\n    &lt;groupId&gt;es.uniovi.innova&lt;/groupId&gt;\n    &lt;version&gt;1.0.0&lt;/version&gt;\n    &lt;packaging&gt;pom&lt;/packaging&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;artifactId&gt;base-dependencies&lt;/artifactId&gt;\n            &lt;groupId&gt;es.uniovi.innova&lt;/groupId&gt;\n            &lt;version&gt;1.0.0&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p>Your child-project inherits this parent-pom as before. But now, the mail dependency can be excluded in the child-project within the <code>dependencyManagement</code> block:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;project&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;test&lt;/groupId&gt;\n    &lt;artifactId&gt;jruby&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;parent&gt;\n        &lt;artifactId&gt;base&lt;/artifactId&gt;\n        &lt;groupId&gt;es.uniovi.innova&lt;/groupId&gt;\n        &lt;version&gt;1.0.0&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;artifactId&gt;base-dependencies&lt;/artifactId&gt;\n                &lt;groupId&gt;es.uniovi.innova&lt;/groupId&gt;\n                &lt;version&gt;1.0.0&lt;/version&gt;\n                &lt;exclusions&gt;\n                    &lt;exclusion&gt;\n                        &lt;groupId&gt;javax.mail&lt;/groupId&gt;\n                        &lt;artifactId&gt;mail&lt;/artifactId&gt;\n                    &lt;/exclusion&gt;\n                &lt;/exclusions&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8589624,"reputation":27,"user_id":6434599,"display_name":"bastienb1991"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1523519011,"creation_date":1465293713,"answer_id":37676239,"question_id":2681759,"body_markdown":"When you call a package but do not want some of its dependencies you can do a thing like this (in this case I did not want the old log4j to be added because I needed to use the newer one):\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;package&lt;/groupId&gt;\r\n      &lt;artifactId&gt;package-pk&lt;/artifactId&gt;\r\n      &lt;version&gt;${package-pk.version}&lt;/version&gt;\r\n    \r\n      &lt;exclusions&gt;\r\n        &lt;exclusion&gt;\r\n          &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n          &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n        &lt;/exclusion&gt;\r\n        &lt;exclusion&gt;\r\n          &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n          &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n        &lt;/exclusion&gt;\r\n      &lt;/exclusions&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    &lt;!-- LOG4J --&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n      &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n      &lt;version&gt;2.5&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n      &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n      &lt;version&gt;2.5&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\nThis works for me... but I am pretty new to java/maven so it is maybe not optimum.","title":"Is there anyway to exclude artifacts inherited from a parent POM?","body":"<p>When you call a package but do not want some of its dependencies you can do a thing like this (in this case I did not want the old log4j to be added because I needed to use the newer one):</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n  &lt;groupId&gt;package&lt;/groupId&gt;\n  &lt;artifactId&gt;package-pk&lt;/artifactId&gt;\n  &lt;version&gt;${package-pk.version}&lt;/version&gt;\n\n  &lt;exclusions&gt;\n    &lt;exclusion&gt;\n      &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n      &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n    &lt;/exclusion&gt;\n    &lt;exclusion&gt;\n      &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n      &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n    &lt;/exclusion&gt;\n  &lt;/exclusions&gt;\n&lt;/dependency&gt;\n\n&lt;!-- LOG4J --&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n  &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n  &lt;version&gt;2.5&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n  &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n  &lt;version&gt;2.5&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>This works for me... but I am pretty new to java/maven so it is maybe not optimum.</p>\n"},{"tags":[],"owner":{"account_id":367746,"reputation":24129,"user_id":714112,"accept_rate":80,"display_name":"Sridhar Sarnobat"},"down_vote_count":6,"up_vote_count":25,"is_accepted":false,"score":19,"last_activity_date":1567640978,"creation_date":1513893662,"answer_id":47933295,"question_id":2681759,"body_markdown":"# Don&#39;t use a parent pom\r\n\r\nThis might sound extreme, but the same way &quot;inheritance hell&quot; is a reason some people turn their backs on Object Oriented Programming (or [prefer composition over inheritance][1]), remove the problematic `&lt;parent&gt;` block and [copy and paste][2] whatever `&lt;dependencies&gt;` you need (if your team gives you this liberty).\r\n\r\nThe assumption that splitting of poms into a parent and child for &quot;reuse&quot; and &quot;avoidance of redunancy&quot; should be ignored and you should serve your immediate needs first (the cure is worst than the disease). Besides, redundancy has its advantages - namely independence of external changes (i.e stability).\r\n\r\nThis is easier than it sounds if you generate the effective pom (eclipse provides it but you can generate it from the command line with `mvn help:effective`).\r\n\r\n### Example\r\n\r\nI want to use `logback` as my slf4j binding, but my parent pom includes the `log4j` dependency. I don&#39;t want to go and have to push the other children&#39;s dependence on log4j down into their own `pom.xml` files so that mine is unobstructed.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Composition_over_inheritance\r\n  [2]: https://en.wikipedia.org/wiki/Copy_and_paste_programming","title":"Is there anyway to exclude artifacts inherited from a parent POM?","body":"<h1>Don't use a parent pom</h1>\n\n<p>This might sound extreme, but the same way \"inheritance hell\" is a reason some people turn their backs on Object Oriented Programming (or <a href=\"https://en.wikipedia.org/wiki/Composition_over_inheritance\" rel=\"noreferrer\">prefer composition over inheritance</a>), remove the problematic <code>&lt;parent&gt;</code> block and <a href=\"https://en.wikipedia.org/wiki/Copy_and_paste_programming\" rel=\"noreferrer\">copy and paste</a> whatever <code>&lt;dependencies&gt;</code> you need (if your team gives you this liberty).</p>\n\n<p>The assumption that splitting of poms into a parent and child for \"reuse\" and \"avoidance of redunancy\" should be ignored and you should serve your immediate needs first (the cure is worst than the disease). Besides, redundancy has its advantages - namely independence of external changes (i.e stability).</p>\n\n<p>This is easier than it sounds if you generate the effective pom (eclipse provides it but you can generate it from the command line with <code>mvn help:effective</code>).</p>\n\n<h3>Example</h3>\n\n<p>I want to use <code>logback</code> as my slf4j binding, but my parent pom includes the <code>log4j</code> dependency. I don't want to go and have to push the other children's dependence on log4j down into their own <code>pom.xml</code> files so that mine is unobstructed.</p>\n"},{"tags":[],"owner":{"account_id":465094,"reputation":4280,"user_id":868975,"accept_rate":71,"display_name":"Bax"},"down_vote_count":2,"up_vote_count":14,"is_accepted":false,"score":12,"last_activity_date":1652970098,"creation_date":1515099871,"answer_id":48103554,"question_id":2681759,"body_markdown":"Redefine the dependency (in the child pom) with `scope` system pointing to an empty jar :\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;dependency.coming&lt;/groupId&gt;\r\n        &lt;artifactId&gt;from.parent&lt;/artifactId&gt;\r\n        &lt;version&gt;0&lt;/version&gt;\r\n        &lt;scope&gt;system&lt;/scope&gt;\r\n        &lt;systemPath&gt;${project.basedir}/empty.jar&lt;/systemPath&gt;\r\n    &lt;/dependency&gt;\r\nThe jar can contain just a single empty file :\r\n\r\n    touch empty.txt\r\n    jar cvf empty.jar empty.txt","title":"Is there anyway to exclude artifacts inherited from a parent POM?","body":"<p>Redefine the dependency (in the child pom) with <code>scope</code> system pointing to an empty jar :</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;dependency.coming&lt;/groupId&gt;\n    &lt;artifactId&gt;from.parent&lt;/artifactId&gt;\n    &lt;version&gt;0&lt;/version&gt;\n    &lt;scope&gt;system&lt;/scope&gt;\n    &lt;systemPath&gt;${project.basedir}/empty.jar&lt;/systemPath&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>The jar can contain just a single empty file :</p>\n<pre><code>touch empty.txt\njar cvf empty.jar empty.txt\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2063259,"reputation":12395,"user_id":1839360,"display_name":"Yan Khonski"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1556888160,"creation_date":1556888160,"answer_id":55970293,"question_id":2681759,"body_markdown":"I really needed to do this dirty thing... Here is how\r\n\r\nI redefined those dependencies with scope `test`. Scope `provided` did not work for me. \r\n\r\nWe use spring Boot plugin to build fat jar. We have module **common** which defines common libraries, for example Springfox swagger-2. My **super-service** needs to have parent **common** (it does not want to do so, but company rules force!)\r\n\r\nSo my parent or commons has pom.\r\n\r\n\t&lt;dependencyManagement&gt;\r\n\t\r\n\t    &lt;!- I do not need Springfox in one child but in others -&gt;\r\n\t\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n                &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\r\n                &lt;version&gt;${swagger.version}&lt;/version&gt;\r\n                &lt;exclusions&gt;\r\n                    &lt;exclusion&gt;\r\n                        &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n                    &lt;/exclusion&gt;\r\n                &lt;/exclusions&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n                &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\r\n                &lt;version&gt;${swagger.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n                &lt;artifactId&gt;springfox-bean-validators&lt;/artifactId&gt;\r\n                &lt;version&gt;${swagger.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n\r\n           &lt;!- All services need them -&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;junit&lt;/groupId&gt;\r\n                &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n                &lt;version&gt;${junit.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n                &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n                &lt;version&gt;${apache.poi.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n\r\nAnd my **super-service** pom.\r\n\r\n\t&lt;name&gt;super-service&lt;/name&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;com.company&lt;/groupId&gt;\r\n        &lt;artifactId&gt;common&lt;/artifactId&gt;\r\n        &lt;version&gt;1&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;dependencies&gt;\r\n\r\n\t\t&lt;!- I don&#39;t need them -&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n            &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n            &lt;artifactId&gt;springfox-bean-validators&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n            &lt;artifactId&gt;springfox-core&lt;/artifactId&gt;\r\n            &lt;version&gt;2.8.0&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!- Required dependencies -&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\t\t &lt;dependency&gt;\r\n            &lt;groupId&gt;junit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n            &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\nThis is size of the final fat artifact\r\n\r\n\t82.3 MB (86,351,753 bytes) - redefined dependency with scope test\r\n\t86.1 MB (90,335,466 bytes) - redefined dependency with scope provided\r\n\t86.1 MB (90,335,489 bytes) - without exclusion\r\n\r\nAlso this answer is worth mentioning - I wanted to do so, but I am lazy...\r\nhttps://stackoverflow.com/a/48103554/4587961","title":"Is there anyway to exclude artifacts inherited from a parent POM?","body":"<p>I really needed to do this dirty thing... Here is how</p>\n\n<p>I redefined those dependencies with scope <code>test</code>. Scope <code>provided</code> did not work for me. </p>\n\n<p>We use spring Boot plugin to build fat jar. We have module <strong>common</strong> which defines common libraries, for example Springfox swagger-2. My <strong>super-service</strong> needs to have parent <strong>common</strong> (it does not want to do so, but company rules force!)</p>\n\n<p>So my parent or commons has pom.</p>\n\n<pre><code>&lt;dependencyManagement&gt;\n\n    &lt;!- I do not need Springfox in one child but in others -&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\n            &lt;version&gt;${swagger.version}&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n                    &lt;artifactId&gt;guava&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\n            &lt;version&gt;${swagger.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-bean-validators&lt;/artifactId&gt;\n            &lt;version&gt;${swagger.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n       &lt;!- All services need them -&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;${junit.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n            &lt;version&gt;${apache.poi.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n</code></pre>\n\n<p>And my <strong>super-service</strong> pom.</p>\n\n<pre><code>&lt;name&gt;super-service&lt;/name&gt;\n&lt;parent&gt;\n    &lt;groupId&gt;com.company&lt;/groupId&gt;\n    &lt;artifactId&gt;common&lt;/artifactId&gt;\n    &lt;version&gt;1&lt;/version&gt;\n&lt;/parent&gt;\n\n&lt;dependencies&gt;\n\n    &lt;!- I don't need them -&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n        &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n        &lt;artifactId&gt;springfox-bean-validators&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n        &lt;artifactId&gt;springfox-core&lt;/artifactId&gt;\n        &lt;version&gt;2.8.0&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;!- Required dependencies -&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n     &lt;dependency&gt;\n        &lt;groupId&gt;junit&lt;/groupId&gt;\n        &lt;artifactId&gt;junit&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n        &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n\n<p>This is size of the final fat artifact</p>\n\n<pre><code>82.3 MB (86,351,753 bytes) - redefined dependency with scope test\n86.1 MB (90,335,466 bytes) - redefined dependency with scope provided\n86.1 MB (90,335,489 bytes) - without exclusion\n</code></pre>\n\n<p>Also this answer is worth mentioning - I wanted to do so, but I am lazy...\n<a href=\"https://stackoverflow.com/a/48103554/4587961\">https://stackoverflow.com/a/48103554/4587961</a></p>\n"},{"tags":[],"owner":{"account_id":2274474,"reputation":119,"user_id":6536262,"display_name":"Viki Jain"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1575641564,"creation_date":1575641564,"answer_id":59214817,"question_id":2681759,"body_markdown":"We can add the parent pom as a dependency with type pom and make exclusion on that. Because anyhow parent pom is downloaded. This worked for me\r\n\r\n \r\n```\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;com.abc.boot&lt;/groupId&gt;\r\n  &lt;artifactId&gt;abc-boot-starter-parent&lt;/artifactId&gt;\r\n  &lt;version&gt;2.1.5.RELEASE&lt;/version&gt;\r\n  &lt;type&gt;pom&lt;/type&gt;\r\n  &lt;exclusions&gt;\r\n    &lt;exclusion&gt;\r\n      &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n      &lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n    &lt;/exclusion&gt;\r\n  &lt;/exclusions&gt;   \r\n&lt;/dependency&gt;\r\n```","title":"Is there anyway to exclude artifacts inherited from a parent POM?","body":"<p>We can add the parent pom as a dependency with type pom and make exclusion on that. Because anyhow parent pom is downloaded. This worked for me</p>\n\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;com.abc.boot&lt;/groupId&gt;\n  &lt;artifactId&gt;abc-boot-starter-parent&lt;/artifactId&gt;\n  &lt;version&gt;2.1.5.RELEASE&lt;/version&gt;\n  &lt;type&gt;pom&lt;/type&gt;\n  &lt;exclusions&gt;\n    &lt;exclusion&gt;\n      &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n      &lt;artifactId&gt;gson&lt;/artifactId&gt;\n    &lt;/exclusion&gt;\n  &lt;/exclusions&gt;   \n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20687796,"reputation":51,"user_id":15189845,"display_name":"fritzthecat"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1613038973,"creation_date":1613038973,"answer_id":66152824,"question_id":2681759,"body_markdown":"Repeat the parent&#39;s dependency in child pom.xml and insert the exclusion there:\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;exclusions&gt;\r\n\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t&lt;groupId&gt;com.vaadin.external.google&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;android-json&lt;/artifactId&gt;\r\n\t\t\t&lt;/exclusion&gt;\r\n\t\t&lt;/exclusions&gt;\r\n\t&lt;/dependency&gt;\r\n\r\n","title":"Is there anyway to exclude artifacts inherited from a parent POM?","body":"<p>Repeat the parent's dependency in child pom.xml and insert the exclusion there:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n    &lt;exclusions&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;com.vaadin.external.google&lt;/groupId&gt;\n            &lt;artifactId&gt;android-json&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n    &lt;/exclusions&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23154670,"reputation":159,"user_id":17256101,"display_name":"Amir Shaikh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639745651,"creation_date":1639745651,"answer_id":70393506,"question_id":2681759,"body_markdown":"**Disable Child Artifact inherited from Parent** \r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t&lt;exclusions&gt;                                               \r\n    \t\t&lt;exclusion&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;         \r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt; \r\n    \t\t&lt;/exclusion&gt;\r\n    \t&lt;/exclusions&gt;\r\n    &lt;/dependency&gt;\r\n\r\n**Remove Specific Artifact from Parent**\r\n\r\n        &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t&lt;exclusions&gt;                                  \r\n    \t\t&lt;exclusion&gt;                                 \t\r\n    \t\t&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt; \t\t\r\n    \t\t&lt;artifactId&gt;log4j-to-slf4j&lt;/artifactId&gt;     \t\t\r\n    \t\t&lt;/exclusion&gt;\r\n    \t\t&lt;exclusion&gt;                                     \r\n    \t\t\t&lt;groupId&gt;ch.qos.logback&lt;/groupId&gt; \t\t\t\t\r\n    \t\t\t&lt;artifactId&gt;logback-classic&lt;/artifactId&gt;     \r\n    \t\t&lt;/exclusion&gt;\r\n    \t&lt;/exclusions&gt;\r\n    &lt;/dependency&gt;","title":"Is there anyway to exclude artifacts inherited from a parent POM?","body":"<p><strong>Disable Child Artifact inherited from Parent</strong></p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;exclusions&gt;                                               \n        &lt;exclusion&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;         \n            &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt; \n        &lt;/exclusion&gt;\n    &lt;/exclusions&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p><strong>Remove Specific Artifact from Parent</strong></p>\n<pre><code>    &lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;exclusions&gt;                                  \n        &lt;exclusion&gt;                                     \n        &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;         \n        &lt;artifactId&gt;log4j-to-slf4j&lt;/artifactId&gt;             \n        &lt;/exclusion&gt;\n        &lt;exclusion&gt;                                     \n            &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;               \n            &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;     \n        &lt;/exclusion&gt;\n    &lt;/exclusions&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8439378,"reputation":41,"user_id":6332468,"display_name":"Jeff McClure"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698241962,"creation_date":1698241962,"answer_id":77360128,"question_id":2681759,"body_markdown":"Within the &amp;lt;dependencyManagement&amp;gt; make the jar scope=provided\r\n \r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;group-to-exclude&lt;/groupId&gt;\r\n                &lt;artifactId&gt;artifact-to-exclude&lt;/artifactId&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n...\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;","title":"Is there anyway to exclude artifacts inherited from a parent POM?","body":"<p>Within the &lt;dependencyManagement&gt; make the jar scope=provided</p>\n<pre><code>&lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;group-to-exclude&lt;/groupId&gt;\n            &lt;artifactId&gt;artifact-to-exclude&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>...\n\n</p>\n"}],"owner":{"account_id":124810,"reputation":2059,"user_id":320151,"display_name":"Miguel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":232685,"favorite_count":0,"down_vote_count":0,"up_vote_count":166,"accepted_answer_id":2684291,"answer_count":12,"score":166,"last_activity_date":1698241962,"creation_date":1271842837,"question_id":2681759,"body_markdown":"Artifacts from dependencies can be excluded by declaring an `&lt;exclusions&gt;` element inside a `&lt;dependency&gt;` But in this case it&#39;s needed to exclude an artifact inherited from a parent project. An excerpt of the POM under discussion follows:\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;project&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n      &lt;groupId&gt;test&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jruby&lt;/artifactId&gt;\r\n      &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n      &lt;parent&gt;\r\n          &lt;artifactId&gt;base&lt;/artifactId&gt;\r\n          &lt;groupId&gt;es.uniovi.innova&lt;/groupId&gt;\r\n          &lt;version&gt;1.0.0&lt;/version&gt;\r\n      &lt;/parent&gt;\r\n    \r\n      &lt;dependencies&gt;      \r\n          &lt;dependency&gt;\r\n              &lt;groupId&gt;com.liferay.portal&lt;/groupId&gt;\r\n              &lt;artifactId&gt;ALL-DEPS&lt;/artifactId&gt;\r\n              &lt;version&gt;1.0&lt;/version&gt;\r\n              &lt;scope&gt;provided&lt;/scope&gt;\r\n              &lt;type&gt;pom&lt;/type&gt;\r\n          &lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n    &lt;/project&gt;\r\n\r\n`base` artifact, depends on  `javax.mail:mail-1.4.jar`, and `ALL-DEPS` depends on another version of the same library. Due to the fact that `mail.jar` from `ALL-DEPS` exist on the execution environment, although not exported, collides with the `mail.jar` that exists on the parent, which is scoped as `compile`.\r\n\r\nA solution could be to rid off mail.jar from the parent POM, but most of the projects that inherit base, need it (as is a transtive dependency for log4j). So What I would like to do is to simply **exclude parent&#39;s library from the child project**, as it could be done if `base` was a dependency and not the parent pom:\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    ...\r\n        &lt;dependency&gt;\r\n            &lt;artifactId&gt;base&lt;/artifactId&gt;\r\n            &lt;groupId&gt;es.uniovi.innova&lt;/groupId&gt;\r\n            &lt;version&gt;1.0.0&lt;/version&gt;\r\n            &lt;type&gt;pom&lt;type&gt;\r\n            &lt;exclusions&gt;\r\n              &lt;exclusion&gt;\r\n                 &lt;groupId&gt;javax.mail&lt;/groupId&gt;\r\n                 &lt;artifactId&gt;mail&lt;/artifactId&gt;\r\n              &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n    ...\r\n","title":"Is there anyway to exclude artifacts inherited from a parent POM?","body":"<p>Artifacts from dependencies can be excluded by declaring an <code>&lt;exclusions&gt;</code> element inside a <code>&lt;dependency&gt;</code> But in this case it's needed to exclude an artifact inherited from a parent project. An excerpt of the POM under discussion follows:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;project&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;test&lt;/groupId&gt;\n  &lt;artifactId&gt;jruby&lt;/artifactId&gt;\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n  &lt;parent&gt;\n      &lt;artifactId&gt;base&lt;/artifactId&gt;\n      &lt;groupId&gt;es.uniovi.innova&lt;/groupId&gt;\n      &lt;version&gt;1.0.0&lt;/version&gt;\n  &lt;/parent&gt;\n\n  &lt;dependencies&gt;      \n      &lt;dependency&gt;\n          &lt;groupId&gt;com.liferay.portal&lt;/groupId&gt;\n          &lt;artifactId&gt;ALL-DEPS&lt;/artifactId&gt;\n          &lt;version&gt;1.0&lt;/version&gt;\n          &lt;scope&gt;provided&lt;/scope&gt;\n          &lt;type&gt;pom&lt;/type&gt;\n      &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<p><code>base</code> artifact, depends on  <code>javax.mail:mail-1.4.jar</code>, and <code>ALL-DEPS</code> depends on another version of the same library. Due to the fact that <code>mail.jar</code> from <code>ALL-DEPS</code> exist on the execution environment, although not exported, collides with the <code>mail.jar</code> that exists on the parent, which is scoped as <code>compile</code>.</p>\n<p>A solution could be to rid off mail.jar from the parent POM, but most of the projects that inherit base, need it (as is a transtive dependency for log4j). So What I would like to do is to simply <strong>exclude parent's library from the child project</strong>, as it could be done if <code>base</code> was a dependency and not the parent pom:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>...\n    &lt;dependency&gt;\n        &lt;artifactId&gt;base&lt;/artifactId&gt;\n        &lt;groupId&gt;es.uniovi.innova&lt;/groupId&gt;\n        &lt;version&gt;1.0.0&lt;/version&gt;\n        &lt;type&gt;pom&lt;type&gt;\n        &lt;exclusions&gt;\n          &lt;exclusion&gt;\n             &lt;groupId&gt;javax.mail&lt;/groupId&gt;\n             &lt;artifactId&gt;mail&lt;/artifactId&gt;\n          &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n...\n</code></pre>\n"},{"tags":["java","android","frida"],"answers":[{"tags":[],"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698241890,"creation_date":1698241890,"answer_id":77360115,"question_id":77358829,"body_markdown":"By calling `rdev.attach(&quot;com.che168.autotradercloud&quot;)` you attach Frida to the existing instance of the app.\r\n\r\nIf you then hook functions the hook will only be executed if the app executes this function after you have attached with Frida. If the app just calls it once at app start-up then attaching to the app is too late as the call was already executed. \r\n\r\nThe only way to hook function calls that are called by the app at start-up is to spawn the app in suspended state, attach to it, load your hook script and then resume it (let it run).\r\n\r\n```\r\npid = rdev.spawn(&quot;com.che168.autotradercloud&quot;)\r\nsession = rdev.attach(pid)\r\n\r\n...\r\nscript = session.create_script(scr)\r\nscript.on(&quot;message&quot;, on_message)\r\nscript.load()\r\n\r\nrdev.resume(pid) # make the app run\r\n\r\n```","title":"frida:no response after hook","body":"<p>By calling <code>rdev.attach(&quot;com.che168.autotradercloud&quot;)</code> you attach Frida to the existing instance of the app.</p>\n<p>If you then hook functions the hook will only be executed if the app executes this function after you have attached with Frida. If the app just calls it once at app start-up then attaching to the app is too late as the call was already executed.</p>\n<p>The only way to hook function calls that are called by the app at start-up is to spawn the app in suspended state, attach to it, load your hook script and then resume it (let it run).</p>\n<pre><code>pid = rdev.spawn(&quot;com.che168.autotradercloud&quot;)\nsession = rdev.attach(pid)\n\n...\nscript = session.create_script(scr)\nscript.on(&quot;message&quot;, on_message)\nscript.load()\n\nrdev.resume(pid) # make the app run\n\n</code></pre>\n"}],"owner":{"account_id":29749691,"reputation":13,"user_id":22799879,"display_name":"guidingg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1698241890,"creation_date":1698231199,"question_id":77358829,"body_markdown":"I hook a function with no error, but it has no output, I can be sure that the app runs this function\r\n\r\n```\r\nimport frida\r\nimport sys\r\n\r\nrdev = frida.get_remote_device()\r\n\r\nsession = rdev.attach(&quot;com.che168.autotradercloud&quot;)  # &quot;com.che168.autotradercloud&quot; 1990\r\n\r\nscr = &quot;&quot;&quot;\r\nJava.perform(function () {\r\n    // package.class\r\n    var SPUtils = Java.use(&quot;com.che168.autotradercloud.util.SPUtils&quot;);\r\n    var SharedPreferencesUtil = Java.use(&quot;com.che168.atclibrary.utils.SharedPreferencesUtil&quot;);\r\n\r\n    // This hook runs successfully\r\n\r\n    SPUtils.saveDeviceId.implementation = function(str){\r\n        console.log(&quot;set device_id&quot;,str);\r\n        this.saveDeviceId(str);\r\n    }\r\n    \r\n    // This hook function is in the same class as the above one, and it should have been executed, but nothing happened,no `console.log...`\r\n\r\n    SPUtils.getDeviceId.implementation = function(){\r\n        var res = this.getDeviceId();\r\n        console.log(&quot;get id&quot;,res);\r\n        return res;\r\n    }\r\n});\r\n&quot;&quot;&quot;\r\n\r\nscript = session.create_script(scr)\r\n\r\ndef on_message(message, data):\r\n    print(message, data)\r\n\r\nscript.on(&quot;message&quot;, on_message)\r\n\r\nscript.load()\r\nsys.stdin.read()\r\n\r\n```\r\nThe source code decompiled with jadx is as follows (in part)\r\n```\r\n// getSpUtil() is SharedPreferencesUtil\r\npublic static void saveDeviceId(String str) {\r\n       getSpUtil().saveString(KEY_DEVICE_ID, str);\r\n}\r\n\r\npublic static String getDeviceId() {\r\n       return getSpUtil().getString(KEY_DEVICE_ID, &quot;&quot;);\r\n}\r\n\r\n```\r\nThe frida-version is 16.0.1 and py version is 3.7.9","title":"frida:no response after hook","body":"<p>I hook a function with no error, but it has no output, I can be sure that the app runs this function</p>\n<pre><code>import frida\nimport sys\n\nrdev = frida.get_remote_device()\n\nsession = rdev.attach(&quot;com.che168.autotradercloud&quot;)  # &quot;com.che168.autotradercloud&quot; 1990\n\nscr = &quot;&quot;&quot;\nJava.perform(function () {\n    // package.class\n    var SPUtils = Java.use(&quot;com.che168.autotradercloud.util.SPUtils&quot;);\n    var SharedPreferencesUtil = Java.use(&quot;com.che168.atclibrary.utils.SharedPreferencesUtil&quot;);\n\n    // This hook runs successfully\n\n    SPUtils.saveDeviceId.implementation = function(str){\n        console.log(&quot;set device_id&quot;,str);\n        this.saveDeviceId(str);\n    }\n    \n    // This hook function is in the same class as the above one, and it should have been executed, but nothing happened,no `console.log...`\n\n    SPUtils.getDeviceId.implementation = function(){\n        var res = this.getDeviceId();\n        console.log(&quot;get id&quot;,res);\n        return res;\n    }\n});\n&quot;&quot;&quot;\n\nscript = session.create_script(scr)\n\ndef on_message(message, data):\n    print(message, data)\n\nscript.on(&quot;message&quot;, on_message)\n\nscript.load()\nsys.stdin.read()\n\n</code></pre>\n<p>The source code decompiled with jadx is as follows (in part)</p>\n<pre><code>// getSpUtil() is SharedPreferencesUtil\npublic static void saveDeviceId(String str) {\n       getSpUtil().saveString(KEY_DEVICE_ID, str);\n}\n\npublic static String getDeviceId() {\n       return getSpUtil().getString(KEY_DEVICE_ID, &quot;&quot;);\n}\n\n</code></pre>\n<p>The frida-version is 16.0.1 and py version is 3.7.9</p>\n"},{"tags":["java","spring","validation"],"comments":[{"owner":{"account_id":10814530,"reputation":4195,"user_id":7954021,"display_name":"Renis1235"},"score":0,"creation_date":1624537581,"post_id":68115598,"comment_id":120389690,"body_markdown":"Try adding `@Validated` at the `ItemController`","body":"Try adding <code>@Validated</code> at the <code>ItemController</code>"}],"answers":[{"tags":[],"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1624539339,"creation_date":1624538047,"answer_id":68115864,"question_id":68115598,"body_markdown":"Try:\r\n\r\n    import javax.validation.Valid;\r\n\r\nhttps://docs.oracle.com/javaee/7/api/javax/validation/Valid.html\r\n\r\nInstead of:\r\n\r\n    import jakarta.validation.Valid;\r\n\r\n(an ambiguous import!;)\r\n\r\n----------\r\n\r\n\r\nUseful read: https://www.google.com/search?q=spring+valild\r\n(`@javax.validation.Valid` vs. [`@org.springframework.validation.annotation.Validated`][1])\r\n\r\n\r\n----------\r\n\r\n\r\nFurther read:\r\n\r\n [JSR 303][2]\r\n\r\n\r\n----------\r\n\r\n`jakarta.validation.Valid` : ??? (https://stackoverflow.com/q/65868776/592355, https://www.google.com/search?q=jakarta.validation.Valid (looks obsolete !???)) **Check your class path/dependency tree!**\r\n\r\n\r\n----------\r\n\r\n\r\nActually I found no/few samples, where the import statements is explicitly mentioned, but it is [&quot;clear&quot; that spring supports JSR 303 ][3](i.e. `javax.validation.*` and *rather not* `jakarta.validation.*`..)\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/index.html?org/springframework/validation/annotation/Validated.html\r\n  [2]: https://beanvalidation.org/1.0/spec/\r\n  [3]: https://www.google.com/search?q=spring%20jsr%20303","title":"Spring valid annotation not working in controller","body":"<p>Try:</p>\n<pre><code>import javax.validation.Valid;\n</code></pre>\n<p><a href=\"https://docs.oracle.com/javaee/7/api/javax/validation/Valid.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javaee/7/api/javax/validation/Valid.html</a></p>\n<p>Instead of:</p>\n<pre><code>import jakarta.validation.Valid;\n</code></pre>\n<p>(an ambiguous import!;)</p>\n<hr />\n<p>Useful read: <a href=\"https://www.google.com/search?q=spring+valild\" rel=\"nofollow noreferrer\">https://www.google.com/search?q=spring+valild</a>\n(<code>@javax.validation.Valid</code> vs. <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/index.html?org/springframework/validation/annotation/Validated.html\" rel=\"nofollow noreferrer\"><code>@org.springframework.validation.annotation.Validated</code></a>)</p>\n<hr />\n<p>Further read:</p>\n<p><a href=\"https://beanvalidation.org/1.0/spec/\" rel=\"nofollow noreferrer\">JSR 303</a></p>\n<hr />\n<p><code>jakarta.validation.Valid</code> : ??? (<a href=\"https://stackoverflow.com/q/65868776/592355\">SpringBoot with Jakarta Validation Api not validating with @Valid Annotation</a>, <a href=\"https://www.google.com/search?q=jakarta.validation.Valid\" rel=\"nofollow noreferrer\">https://www.google.com/search?q=jakarta.validation.Valid</a> (looks obsolete !???)) <strong>Check your class path/dependency tree!</strong></p>\n<hr />\n<p>Actually I found no/few samples, where the import statements is explicitly mentioned, but it is <a href=\"https://www.google.com/search?q=spring%20jsr%20303\" rel=\"nofollow noreferrer\">&quot;clear&quot; that spring supports JSR 303 </a>(i.e. <code>javax.validation.*</code> and <em>rather not</em> <code>jakarta.validation.*</code>..)</p>\n"},{"tags":[],"owner":{"account_id":16718791,"reputation":53,"user_id":12084235,"display_name":"Tomek Orchowski"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1624558442,"creation_date":1624558442,"answer_id":68120831,"question_id":68115598,"body_markdown":"Problem has been solved!\r\n\r\nI change hibernate dependency in pom.xml\r\nfrom\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n            &lt;version&gt;7.0.1.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```\r\nto\r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\r\n    &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n    &lt;version&gt;6.1.5.Final&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n","title":"Spring valid annotation not working in controller","body":"<p>Problem has been solved!</p>\n<p>I change hibernate dependency in pom.xml\nfrom</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n            &lt;version&gt;7.0.1.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>to</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n    &lt;version&gt;6.1.5.Final&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22445773,"reputation":151,"user_id":16649714,"display_name":"cheladon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698241470,"creation_date":1698241470,"answer_id":77360060,"question_id":68115598,"body_markdown":"Change:\r\n\r\n    @Valid -&gt; @Validated\r\n    import org.springframework.validation.annotation.Validated;\r\n\r\nI didn&#39;t go into details, but it worked in my case.","title":"Spring valid annotation not working in controller","body":"<p>Change:</p>\n<pre><code>@Valid -&gt; @Validated\nimport org.springframework.validation.annotation.Validated;\n</code></pre>\n<p>I didn't go into details, but it worked in my case.</p>\n"}],"owner":{"account_id":16718791,"reputation":53,"user_id":12084235,"display_name":"Tomek Orchowski"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3203,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":68115864,"answer_count":3,"score":2,"last_activity_date":1698241470,"creation_date":1624536948,"question_id":68115598,"body_markdown":"I have a problem: my post form working fine and the controller related to the post method does receive objects from HTML post form but `@Valid` annotation does nothing.\r\nIn `BindingResult` object there is no error even though it should be there \r\n\r\nThe problem is in : `itemAddControllerPost()`\r\n\r\n```\r\npackage orchowski.tomasz.ecommercedemo.controller.item;\r\n\r\nimport lombok.RequiredArgsConstructor;\r\nimport lombok.extern.slf4j.Slf4j;\r\nimport orchowski.tomasz.ecommercedemo.command.ItemCommand;\r\nimport orchowski.tomasz.ecommercedemo.converter.ItemCommandToItem;\r\nimport orchowski.tomasz.ecommercedemo.converter.ItemToItemCommand;\r\nimport orchowski.tomasz.ecommercedemo.domain.Item;\r\nimport orchowski.tomasz.ecommercedemo.security.permision.PermissionStoreItemCreate;\r\nimport orchowski.tomasz.ecommercedemo.security.permision.PermissionStoreItemRead;\r\nimport orchowski.tomasz.ecommercedemo.services.ItemService;\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.ui.Model;\r\nimport org.springframework.validation.BindingResult;\r\nimport jakarta.validation.Valid;\r\nimport org.springframework.web.bind.annotation.*;\r\nimport javax.servlet.http.HttpServletRequest;\r\nimport org.springframework.web.bind.annotation.*;\r\nimport java.security.Principal;\r\nimport java.util.List;\r\nimport java.util.Optional;\r\n\r\n@Slf4j\r\n@Controller\r\n@RequestMapping(&quot;/item&quot;)\r\n@RequiredArgsConstructor\r\npublic class ItemController {\r\n\r\n    private final ItemService itemService;\r\n    private final ItemCommandToItem commandToItem;\r\n    private final ItemToItemCommand itemToCommand;\r\n\r\n    @PermissionStoreItemCreate\r\n    @GetMapping(&quot;/create&quot;)\r\n    public String itemAddController(Model model) {\r\n        model.addAttribute(&quot;item&quot;, new ItemCommand());\r\n        return &quot;item/itemform&quot;;\r\n    }\r\n\r\n    @PermissionStoreItemCreate\r\n    @PostMapping(&quot;/create/new&quot;)\r\n    public String itemAddControllerPost(@ModelAttribute(&quot;item&quot;) @Valid ItemCommand itemCommand, BindingResult bindingResult) {\r\n        log.debug(&quot;Posting new item object&quot;);\r\n        if (bindingResult.hasErrors()) {\r\n                bindingResult.getAllErrors().forEach(objectError -&gt; log.error(objectError.toString()));\r\n            log.debug(&quot;Binding error&quot;);\r\n            return &quot;redirect:/item/create&quot;;\r\n        }\r\n        Item save = itemService.save(commandToItem.convert(itemCommand));\r\n        log.debug(&quot;New item object persisted to db \\n &quot; + save.toString());\r\n        return &quot;redirect:/item/&quot; + save.getId() + &quot;/show&quot;;\r\n    }\r\n\r\n    @PermissionStoreItemRead\r\n    @GetMapping(&quot;/show&quot;)\r\n    public String itemRead(Model model, HttpServletRequest request, @RequestParam(defaultValue = &quot;0&quot;) Integer pageNo,\r\n                           @RequestParam(defaultValue = &quot;10&quot;) Integer pageSize) {\r\n        ///item/show?pageNo=2&amp;pageSize=20\r\n\r\n        if (pageNo &lt; 0 || pageSize &lt;= 0) {\r\n            return &quot;redirect:/item/show?pageNo=0&quot;;\r\n        }\r\n        model.addAttribute(&quot;pageNumber&quot;, pageNo);\r\n        model.addAttribute(&quot;pageSize&quot;, pageSize);\r\n\r\n        List&lt;Item&gt; itemList = itemService.findAll(pageNo, pageSize);\r\n        if (itemList.size() == 0) {\r\n            return &quot;redirect:/item/show?pageNo=&quot; + (pageNo - 1);\r\n        }\r\n        model.addAttribute(&quot;items&quot;, itemList);\r\n        System.out.println(itemList);\r\n        return &quot;item/show&quot;;\r\n    }\r\n\r\n    @GetMapping(&quot;/{id}/show&quot;)\r\n    @PermissionStoreItemRead\r\n    public String showItem(Model model,@PathVariable Long id) {\r\n        Optional&lt;Item&gt; byId = itemService.findById(id);\r\n        model.addAttribute(&quot;item&quot;, byId.orElseThrow(() -&gt; new RuntimeException(&quot;Item id &quot; + id + &quot; not found&quot;)));\r\n        return &quot;item/showProduct&quot;;\r\n    }\r\n}\r\n\r\n```\r\n\r\nmy command object\r\n```\r\npackage orchowski.tomasz.ecommercedemo.command;\r\n\r\n\r\nimport lombok.*;\r\nimport javax.validation.constraints.*;\r\n\r\n\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Builder\r\npublic class ItemCommand {\r\n\r\n    private Long id;\r\n\r\n    @Size(min = 20, max = 1000,message = &quot;Description must contains at least 20 characters and less than 1000&quot;)\r\n    @NotBlank\r\n    private String description;\r\n\r\n    @Min(value = 0, message = &quot;Price have to be greater than 0&quot;)\r\n    @NotNull\r\n    private Double price;\r\n\r\n    @Min(value = 0, message = &quot;Stock have to be at least 0&quot;)\r\n    @NotNull\r\n    private Integer stock;\r\n\r\n}\r\n\r\n```\r\n\r\nhtml form\r\n```\r\n\r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;\r\n          xmlns:sec=&quot;http://www.thymeleaf.org/extras/spring-security&quot;&gt;\r\n    &lt;head&gt;\r\n        &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n        &lt;title&gt;store&lt;/title&gt;\r\n        &lt;link th:rel=&quot;stylesheet&quot; th:href=&quot;@{/webjars/bootstrap/5.0.1/css/bootstrap.min.css}&quot;&gt;\r\n        &lt;link th:rel=&quot;stylesheet&quot; th:href=&quot;@{/css/default.css}&quot;&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n    \r\n    &lt;div class=&quot;container&quot;&gt;\r\n        &lt;div class=&quot;row&quot;&gt;\r\n            &lt;div class=&quot;col-sm-12&quot;&gt;\r\n                &lt;nav th:replace=&quot;fragments/navbar :: nav&quot;&gt;&lt;/nav&gt;\r\n            &lt;/div&gt;\r\n        &lt;/div&gt;\r\n    \r\n        &lt;form th:object=&quot;${item}&quot; th:action=&quot;@{/item/create/new}&quot; method=&quot;post&quot;&gt;\r\n            &lt;div class=&quot;row&quot;&gt;\r\n                &lt;div class=&quot;mb-3&quot;&gt;\r\n                    &lt;!--description            --&gt;\r\n                    &lt;label for=&quot;description&quot; class=&quot;form-label&quot;&gt;Description of product&lt;/label&gt;\r\n                    &lt;textarea class=&quot;form-control&quot; id=&quot;description&quot; name=&quot;description&quot;&gt;&lt;/textarea&gt;\r\n                &lt;/div&gt;\r\n            &lt;/div&gt;\r\n            &lt;div class=&quot;row&quot;&gt;\r\n                &lt;div class=&quot;col-sm-3&quot;&gt;\r\n                    &lt;!--price            --&gt;\r\n                    &lt;label for=&quot;price&quot;&gt;Price of product&lt;/label&gt;\r\n                    &lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;price&quot; name=&quot;price&quot;&gt;\r\n                &lt;/div&gt;\r\n                &lt;div class=&quot;col-sm-3&quot;&gt;\r\n                    &lt;!--stock            --&gt;\r\n                    &lt;label for=&quot;stock&quot;&gt;Stock item&lt;/label&gt;\r\n                    &lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;stock&quot; name=&quot;stock&quot;&gt;\r\n                &lt;/div&gt;\r\n            &lt;/div&gt;\r\n            &lt;div class=&quot;row&quot;&gt;\r\n                &lt;button type=&quot;submit&quot; class=&quot;btn btn-primary&quot;&gt;Submit&lt;/button&gt;\r\n            &lt;/div&gt;\r\n        &lt;/form&gt;\r\n    \r\n    &lt;/div&gt;\r\n    \r\n    \r\n    &lt;script th:src=&quot;@{/webjars/jquery/3.0.0/jquery.min.js}&quot;&gt;&lt;/script&gt;\r\n    &lt;script th:src=&quot;@{/webjars/popper.js/2.9.2/umd/popper.js}&quot;&gt;&lt;/script&gt;\r\n    &lt;script th:src=&quot;@{/webjars/bootstrap/5.0.1/js/bootstrap.js}&quot;&gt;&lt;/script&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\n```\r\n\r\nTo check the code on GitHub [please click here][1]\r\n\r\n\r\n  [1]: https://github.com/bloowper/ecommerceTestDemo/blob/main/src/main/java/orchowski/tomasz/ecommercedemo/controller/item/ItemController.java","title":"Spring valid annotation not working in controller","body":"<p>I have a problem: my post form working fine and the controller related to the post method does receive objects from HTML post form but <code>@Valid</code> annotation does nothing.\nIn <code>BindingResult</code> object there is no error even though it should be there</p>\n<p>The problem is in : <code>itemAddControllerPost()</code></p>\n<pre><code>package orchowski.tomasz.ecommercedemo.controller.item;\n\nimport lombok.RequiredArgsConstructor;\nimport lombok.extern.slf4j.Slf4j;\nimport orchowski.tomasz.ecommercedemo.command.ItemCommand;\nimport orchowski.tomasz.ecommercedemo.converter.ItemCommandToItem;\nimport orchowski.tomasz.ecommercedemo.converter.ItemToItemCommand;\nimport orchowski.tomasz.ecommercedemo.domain.Item;\nimport orchowski.tomasz.ecommercedemo.security.permision.PermissionStoreItemCreate;\nimport orchowski.tomasz.ecommercedemo.security.permision.PermissionStoreItemRead;\nimport orchowski.tomasz.ecommercedemo.services.ItemService;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.Model;\nimport org.springframework.validation.BindingResult;\nimport jakarta.validation.Valid;\nimport org.springframework.web.bind.annotation.*;\nimport javax.servlet.http.HttpServletRequest;\nimport org.springframework.web.bind.annotation.*;\nimport java.security.Principal;\nimport java.util.List;\nimport java.util.Optional;\n\n@Slf4j\n@Controller\n@RequestMapping(&quot;/item&quot;)\n@RequiredArgsConstructor\npublic class ItemController {\n\n    private final ItemService itemService;\n    private final ItemCommandToItem commandToItem;\n    private final ItemToItemCommand itemToCommand;\n\n    @PermissionStoreItemCreate\n    @GetMapping(&quot;/create&quot;)\n    public String itemAddController(Model model) {\n        model.addAttribute(&quot;item&quot;, new ItemCommand());\n        return &quot;item/itemform&quot;;\n    }\n\n    @PermissionStoreItemCreate\n    @PostMapping(&quot;/create/new&quot;)\n    public String itemAddControllerPost(@ModelAttribute(&quot;item&quot;) @Valid ItemCommand itemCommand, BindingResult bindingResult) {\n        log.debug(&quot;Posting new item object&quot;);\n        if (bindingResult.hasErrors()) {\n                bindingResult.getAllErrors().forEach(objectError -&gt; log.error(objectError.toString()));\n            log.debug(&quot;Binding error&quot;);\n            return &quot;redirect:/item/create&quot;;\n        }\n        Item save = itemService.save(commandToItem.convert(itemCommand));\n        log.debug(&quot;New item object persisted to db \\n &quot; + save.toString());\n        return &quot;redirect:/item/&quot; + save.getId() + &quot;/show&quot;;\n    }\n\n    @PermissionStoreItemRead\n    @GetMapping(&quot;/show&quot;)\n    public String itemRead(Model model, HttpServletRequest request, @RequestParam(defaultValue = &quot;0&quot;) Integer pageNo,\n                           @RequestParam(defaultValue = &quot;10&quot;) Integer pageSize) {\n        ///item/show?pageNo=2&amp;pageSize=20\n\n        if (pageNo &lt; 0 || pageSize &lt;= 0) {\n            return &quot;redirect:/item/show?pageNo=0&quot;;\n        }\n        model.addAttribute(&quot;pageNumber&quot;, pageNo);\n        model.addAttribute(&quot;pageSize&quot;, pageSize);\n\n        List&lt;Item&gt; itemList = itemService.findAll(pageNo, pageSize);\n        if (itemList.size() == 0) {\n            return &quot;redirect:/item/show?pageNo=&quot; + (pageNo - 1);\n        }\n        model.addAttribute(&quot;items&quot;, itemList);\n        System.out.println(itemList);\n        return &quot;item/show&quot;;\n    }\n\n    @GetMapping(&quot;/{id}/show&quot;)\n    @PermissionStoreItemRead\n    public String showItem(Model model,@PathVariable Long id) {\n        Optional&lt;Item&gt; byId = itemService.findById(id);\n        model.addAttribute(&quot;item&quot;, byId.orElseThrow(() -&gt; new RuntimeException(&quot;Item id &quot; + id + &quot; not found&quot;)));\n        return &quot;item/showProduct&quot;;\n    }\n}\n\n</code></pre>\n<p>my command object</p>\n<pre><code>package orchowski.tomasz.ecommercedemo.command;\n\n\nimport lombok.*;\nimport javax.validation.constraints.*;\n\n\n@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\n@Builder\npublic class ItemCommand {\n\n    private Long id;\n\n    @Size(min = 20, max = 1000,message = &quot;Description must contains at least 20 characters and less than 1000&quot;)\n    @NotBlank\n    private String description;\n\n    @Min(value = 0, message = &quot;Price have to be greater than 0&quot;)\n    @NotNull\n    private Double price;\n\n    @Min(value = 0, message = &quot;Stock have to be at least 0&quot;)\n    @NotNull\n    private Integer stock;\n\n}\n\n</code></pre>\n<p>html form</p>\n<pre><code>\n    &lt;!DOCTYPE html&gt;\n    &lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;\n          xmlns:sec=&quot;http://www.thymeleaf.org/extras/spring-security&quot;&gt;\n    &lt;head&gt;\n        &lt;meta charset=&quot;UTF-8&quot;&gt;\n        &lt;title&gt;store&lt;/title&gt;\n        &lt;link th:rel=&quot;stylesheet&quot; th:href=&quot;@{/webjars/bootstrap/5.0.1/css/bootstrap.min.css}&quot;&gt;\n        &lt;link th:rel=&quot;stylesheet&quot; th:href=&quot;@{/css/default.css}&quot;&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n    \n    &lt;div class=&quot;container&quot;&gt;\n        &lt;div class=&quot;row&quot;&gt;\n            &lt;div class=&quot;col-sm-12&quot;&gt;\n                &lt;nav th:replace=&quot;fragments/navbar :: nav&quot;&gt;&lt;/nav&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n    \n        &lt;form th:object=&quot;${item}&quot; th:action=&quot;@{/item/create/new}&quot; method=&quot;post&quot;&gt;\n            &lt;div class=&quot;row&quot;&gt;\n                &lt;div class=&quot;mb-3&quot;&gt;\n                    &lt;!--description            --&gt;\n                    &lt;label for=&quot;description&quot; class=&quot;form-label&quot;&gt;Description of product&lt;/label&gt;\n                    &lt;textarea class=&quot;form-control&quot; id=&quot;description&quot; name=&quot;description&quot;&gt;&lt;/textarea&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n            &lt;div class=&quot;row&quot;&gt;\n                &lt;div class=&quot;col-sm-3&quot;&gt;\n                    &lt;!--price            --&gt;\n                    &lt;label for=&quot;price&quot;&gt;Price of product&lt;/label&gt;\n                    &lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;price&quot; name=&quot;price&quot;&gt;\n                &lt;/div&gt;\n                &lt;div class=&quot;col-sm-3&quot;&gt;\n                    &lt;!--stock            --&gt;\n                    &lt;label for=&quot;stock&quot;&gt;Stock item&lt;/label&gt;\n                    &lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;stock&quot; name=&quot;stock&quot;&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n            &lt;div class=&quot;row&quot;&gt;\n                &lt;button type=&quot;submit&quot; class=&quot;btn btn-primary&quot;&gt;Submit&lt;/button&gt;\n            &lt;/div&gt;\n        &lt;/form&gt;\n    \n    &lt;/div&gt;\n    \n    \n    &lt;script th:src=&quot;@{/webjars/jquery/3.0.0/jquery.min.js}&quot;&gt;&lt;/script&gt;\n    &lt;script th:src=&quot;@{/webjars/popper.js/2.9.2/umd/popper.js}&quot;&gt;&lt;/script&gt;\n    &lt;script th:src=&quot;@{/webjars/bootstrap/5.0.1/js/bootstrap.js}&quot;&gt;&lt;/script&gt;\n    &lt;/body&gt;\n    &lt;/html&gt;\n\n</code></pre>\n<p>To check the code on GitHub <a href=\"https://github.com/bloowper/ecommerceTestDemo/blob/main/src/main/java/orchowski/tomasz/ecommercedemo/controller/item/ItemController.java\" rel=\"nofollow noreferrer\">please click here</a></p>\n"},{"tags":["java","android","firebaseui"],"comments":[{"owner":{"account_id":14722107,"reputation":5143,"user_id":10632369,"display_name":"tomerpacific"},"score":0,"creation_date":1698222944,"post_id":77357425,"comment_id":136376483,"body_markdown":"Since firebase import is not resolved, can you share your build.gradle file? You might be missing an import there.","body":"Since firebase import is not resolved, can you share your build.gradle file? You might be missing an import there."},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":1,"creation_date":1698223107,"post_id":77357425,"comment_id":136376521,"body_markdown":"Please edit your question and add the information tomerpacific asked for, and please also respond using @.","body":"Please edit your question and add the information tomerpacific asked for, and please also respond using @."},{"owner":{"account_id":2453953,"reputation":1876,"user_id":2139586,"accept_rate":69,"display_name":"jack_the_beast"},"score":0,"creation_date":1698239252,"post_id":77357425,"comment_id":136379738,"body_markdown":"please include some relevant code","body":"please include some relevant code"}],"owner":{"account_id":29748870,"reputation":1,"user_id":22799232,"display_name":"krakenmanexodia"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698241320,"creation_date":1698219147,"question_id":77357425,"body_markdown":"[Firebase Recycler Adapter Error](https://i.stack.imgur.com/cxmCW.png)\r\n\r\nhi, so im trying out to create a crud app with firebase as my database. i encountered these errors:\r\n\r\nThere is no default constructor available in &#39;androidx.recyclerview.widget.RecyclerView.ViewHolder&#39;\r\nCannot resolve symbol &#39;FirebaseRecyclerAdapter&#39;\r\nCannot resolve symbol &#39;firebase&#39;\r\n\r\ni already linked my firebase using the tools in android studio and it says it was a success. i currently have no clue as to what i should do to overcome this error. i just started with android studio today to make my own project.\r\n\r\nso i am expecting that the main adapter class will load and that the firebaserecyler adapter will connect. idk how it isn&#39;t connected when i simply followed through every step of the tutorial twice.","title":"Android Studio Firebase Recycler Adapter using Java","body":"<p><a href=\"https://i.stack.imgur.com/cxmCW.png\" rel=\"nofollow noreferrer\">Firebase Recycler Adapter Error</a></p>\n<p>hi, so im trying out to create a crud app with firebase as my database. i encountered these errors:</p>\n<p>There is no default constructor available in 'androidx.recyclerview.widget.RecyclerView.ViewHolder'\nCannot resolve symbol 'FirebaseRecyclerAdapter'\nCannot resolve symbol 'firebase'</p>\n<p>i already linked my firebase using the tools in android studio and it says it was a success. i currently have no clue as to what i should do to overcome this error. i just started with android studio today to make my own project.</p>\n<p>so i am expecting that the main adapter class will load and that the firebaserecyler adapter will connect. idk how it isn't connected when i simply followed through every step of the tutorial twice.</p>\n"},{"tags":["java","postgresql","hibernate","quarkus","quarkus-panache"],"answers":[{"tags":[],"owner":{"account_id":8884226,"reputation":514,"user_id":6633045,"display_name":"phuongnq1995"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1698221281,"creation_date":1698141769,"answer_id":77351146,"question_id":77350744,"body_markdown":"I think hibernate doesn&#39;t support string [doc](https://docs.jboss.org/hibernate/orm/6.0/userguide/html_single/Hibernate_User_Guide.html#basic-mapping-json) as the standard mapping, try\r\n```\r\npublic class OfferEntity extends PanacheEntityBase {\r\n\r\n    @JdbcTypeCode(SqlTypes.JSON)\r\n    private Map&lt;String, String&gt; items;\r\n}\r\n```\r\nOr create your own POJO class\r\n```\r\npublic class Items implements Serializable {\r\n    private String name;\r\n    private int age;\r\n    private String city;\r\n    //setters &amp; getters\r\n}\r\n```\r\n\r\n```\r\npublic class OfferEntity extends PanacheEntityBase {\r\n\r\n    @JdbcTypeCode(SqlTypes.JSON)\r\n    @Column(name = &quot;items&quot;, columnDefinition = &quot;jsonb&quot;, insertable = false, updatable = false)\r\n    private Items items;\r\n}\r\n```\r\nRefer to this [doc](https://thorben-janssen.com/persist-postgresqls-jsonb-data-type-hibernate/#using-hibernate-6s-standard-json-mapping)\r\n\r\nUPDATED:\r\n\r\nFor hibernate-reactive using `io.vertx.core.json.JsonObject` refer to this [post](https://stackoverflow.com/questions/73471277/using-the-postgresql-jsonb-type-with-hibernate-reactive)","title":"Storing JSON data as JSONB in PostgreSQL with Quarkus Panache is stored as escaped string","body":"<p>I think hibernate doesn't support string <a href=\"https://docs.jboss.org/hibernate/orm/6.0/userguide/html_single/Hibernate_User_Guide.html#basic-mapping-json\" rel=\"nofollow noreferrer\">doc</a> as the standard mapping, try</p>\n<pre><code>public class OfferEntity extends PanacheEntityBase {\n\n    @JdbcTypeCode(SqlTypes.JSON)\n    private Map&lt;String, String&gt; items;\n}\n</code></pre>\n<p>Or create your own POJO class</p>\n<pre><code>public class Items implements Serializable {\n    private String name;\n    private int age;\n    private String city;\n    //setters &amp; getters\n}\n</code></pre>\n<pre><code>public class OfferEntity extends PanacheEntityBase {\n\n    @JdbcTypeCode(SqlTypes.JSON)\n    @Column(name = &quot;items&quot;, columnDefinition = &quot;jsonb&quot;, insertable = false, updatable = false)\n    private Items items;\n}\n</code></pre>\n<p>Refer to this <a href=\"https://thorben-janssen.com/persist-postgresqls-jsonb-data-type-hibernate/#using-hibernate-6s-standard-json-mapping\" rel=\"nofollow noreferrer\">doc</a></p>\n<p>UPDATED:</p>\n<p>For hibernate-reactive using <code>io.vertx.core.json.JsonObject</code> refer to this <a href=\"https://stackoverflow.com/questions/73471277/using-the-postgresql-jsonb-type-with-hibernate-reactive\">post</a></p>\n"},{"tags":[],"owner":{"account_id":29733827,"reputation":3,"user_id":22787830,"display_name":"Juan Antonio Jim&#233;nez Torres"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698211707,"creation_date":1698141972,"answer_id":77351176,"question_id":77350744,"body_markdown":"I think this should work if the type was `JSONObject` instead of `String`","title":"Storing JSON data as JSONB in PostgreSQL with Quarkus Panache is stored as escaped string","body":"<p>I think this should work if the type was <code>JSONObject</code> instead of <code>String</code></p>\n"},{"tags":[],"owner":{"account_id":29733827,"reputation":3,"user_id":22787830,"display_name":"Juan Antonio Jim&#233;nez Torres"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698162718,"creation_date":1698162718,"answer_id":77353622,"question_id":77350744,"body_markdown":"You could try\r\n```\r\n@Convert(converter = ItemsConverter.class)\r\nprivate JSONObject items;\r\n```\r\n\r\nbeing\r\n```\r\n@Converter\r\npublic class ItemConverter implements AttributeConverter&lt;JSONObject, String&gt; {\r\n    @Override\r\n    public String convertToDatabaseColumn(JSONObject data) {\r\n        return data.toString();\r\n    }\r\n\r\n    @Override\r\n    public JSONObject convertToEntityAttribute(String inputString) {\r\n        JSONParser parser = new JSONParser();\r\n        JSONObject r = new JSONObject();\r\n        try {\r\n            r = (JSONObject) parser.parse(inputString);\r\n        } catch (ParseException e) {\r\n            \r\n        }\r\n        return r;\r\n    }\r\n}\r\n```","title":"Storing JSON data as JSONB in PostgreSQL with Quarkus Panache is stored as escaped string","body":"<p>You could try</p>\n<pre><code>@Convert(converter = ItemsConverter.class)\nprivate JSONObject items;\n</code></pre>\n<p>being</p>\n<pre><code>@Converter\npublic class ItemConverter implements AttributeConverter&lt;JSONObject, String&gt; {\n    @Override\n    public String convertToDatabaseColumn(JSONObject data) {\n        return data.toString();\n    }\n\n    @Override\n    public JSONObject convertToEntityAttribute(String inputString) {\n        JSONParser parser = new JSONParser();\n        JSONObject r = new JSONObject();\n        try {\n            r = (JSONObject) parser.parse(inputString);\n        } catch (ParseException e) {\n            \n        }\n        return r;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":15016723,"reputation":834,"user_id":10839527,"display_name":"Theodosis "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":224,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77351146,"answer_count":3,"score":1,"last_activity_date":1698241156,"creation_date":1698137922,"question_id":77350744,"body_markdown":"I&#39;m working on a project that uses Quarkus with Panache and PostgreSQL, and I&#39;m trying to store JSON data as JSONB in the database. However, when I insert JSON data into the database, it gets escaped, and I&#39;d like to store it without escaping in order to be able to query the JSON from the postgress.\r\n\r\nHere&#39;s my code for inserting the JSON data:\r\n\r\n```java\r\nJsonObject jsonObject = Json.createObjectBuilder()\r\n        .add(&quot;name&quot;, &quot;John&quot;)\r\n        .add(&quot;age&quot;, 30)\r\n        .add(&quot;city&quot;, &quot;New York&quot;)\r\n        .build();\r\nString jsonString = jsonObject.toString(); // Convert JsonObject to JSON String\r\nreturn update(&quot;update OfferEntity o set o.items = ?1&quot;,  jsonString).onItem().transform(ignored -&gt; offer);\r\n\r\n\r\n```\r\n\r\nHowever, in the PostgreSQL database, the inserted field looks like this:\r\n\r\n```json\r\n&quot;{\\&quot;name\\&quot;:\\&quot;John\\&quot;,\\&quot;age\\&quot;:30,\\&quot;city\\&quot;:\\&quot;New York\\&quot;}&quot;\r\n```\r\nI want it to be stored as:\r\n```json\r\n{&quot;name&quot;:&quot;John&quot;,&quot;age&quot;:30,&quot;city&quot;:&quot;New York&quot;}\r\n```\r\n\r\nThis is my entity class for OfferEntity:\r\n\r\n```java\r\n\r\n@Entity\r\n@Table(name = &quot;offering&quot;)\r\n@Cacheable\r\n@WithSession\r\npublic class OfferEntity extends PanacheEntityBase {\r\n\r\n    @JdbcTypeCode(SqlTypes.JSON)\r\n    @Column(name = &quot;items&quot;, columnDefinition = &quot;jsonb&quot;, insertable = false, updatable = false)\r\n    private String items;\r\n\r\n    public String getItems() {\r\n        return items;\r\n    }\r\n\r\n    public void setItems(String items) {\r\n        this.items = items;\r\n    }\r\n}\r\n```\r\n\r\n\r\nI&#39;m using the latest Panache dependencies. How can I modify my code or configuration to store the JSON data as JSONB in PostgreSQL without escaping it? Please note that the framework can read the values from the database even if they are stored escaped but i also want to search them with query where this is not possible because the JSON is broken with all those escapes \r\n\r\n\r\n**UPDATE**\r\n\r\nI have also tried the following cases but the result is the same i get the values inside the database as \r\n```json\r\n&quot;{\\&quot;name\\&quot;:\\&quot;John\\&quot;,\\&quot;age\\&quot;:30,\\&quot;city\\&quot;:\\&quot;New York\\&quot;}&quot;\r\n```\r\n\r\nFirst i tried this \r\n\r\n```java\r\npublic class Item implements Serializable {\r\n    private String name;\r\n    private int age;\r\n    private String city;//with getters setters\r\n}\r\n\r\n```\r\nand OfferEntity class looked like this\r\n\r\n```java\r\n\r\n    @JdbcTypeCode(SqlTypes.JSON)\r\n    @Column(name = &quot;items&quot;, columnDefinition = &quot;jsonb&quot;, insertable = false, updatable = false)\r\n    private Item items;\r\n\r\n    public Item getItems() {\r\n        return items;\r\n    }\r\n\r\n    public void setItems(Item items) {\r\n        this.items = items;\r\n    }\r\n```\r\nand I tried also make Items a map \r\n\r\n```java\r\n\r\n    @JdbcTypeCode(SqlTypes.JSON)\r\n    @Column(name = &quot;items&quot;, columnDefinition = &quot;jsonb&quot;, insertable = false, updatable = false)\r\n    private Map&lt;String, String&gt; items;\r\n\r\n    public Map&lt;String, String&gt; getItems() {\r\n        return items;\r\n    }\r\n\r\n    public void setItems(Map&lt;String, String&gt; items) {\r\n        this.items = items;\r\n    }\r\n```\r\nIs this a hibernate bug? The version I use for hibernate is the 6.2.7 final ","title":"Storing JSON data as JSONB in PostgreSQL with Quarkus Panache is stored as escaped string","body":"<p>I'm working on a project that uses Quarkus with Panache and PostgreSQL, and I'm trying to store JSON data as JSONB in the database. However, when I insert JSON data into the database, it gets escaped, and I'd like to store it without escaping in order to be able to query the JSON from the postgress.</p>\n<p>Here's my code for inserting the JSON data:</p>\n<pre class=\"lang-java prettyprint-override\"><code>JsonObject jsonObject = Json.createObjectBuilder()\n        .add(&quot;name&quot;, &quot;John&quot;)\n        .add(&quot;age&quot;, 30)\n        .add(&quot;city&quot;, &quot;New York&quot;)\n        .build();\nString jsonString = jsonObject.toString(); // Convert JsonObject to JSON String\nreturn update(&quot;update OfferEntity o set o.items = ?1&quot;,  jsonString).onItem().transform(ignored -&gt; offer);\n\n\n</code></pre>\n<p>However, in the PostgreSQL database, the inserted field looks like this:</p>\n<pre class=\"lang-json prettyprint-override\"><code>&quot;{\\&quot;name\\&quot;:\\&quot;John\\&quot;,\\&quot;age\\&quot;:30,\\&quot;city\\&quot;:\\&quot;New York\\&quot;}&quot;\n</code></pre>\n<p>I want it to be stored as:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{&quot;name&quot;:&quot;John&quot;,&quot;age&quot;:30,&quot;city&quot;:&quot;New York&quot;}\n</code></pre>\n<p>This is my entity class for OfferEntity:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n@Entity\n@Table(name = &quot;offering&quot;)\n@Cacheable\n@WithSession\npublic class OfferEntity extends PanacheEntityBase {\n\n    @JdbcTypeCode(SqlTypes.JSON)\n    @Column(name = &quot;items&quot;, columnDefinition = &quot;jsonb&quot;, insertable = false, updatable = false)\n    private String items;\n\n    public String getItems() {\n        return items;\n    }\n\n    public void setItems(String items) {\n        this.items = items;\n    }\n}\n</code></pre>\n<p>I'm using the latest Panache dependencies. How can I modify my code or configuration to store the JSON data as JSONB in PostgreSQL without escaping it? Please note that the framework can read the values from the database even if they are stored escaped but i also want to search them with query where this is not possible because the JSON is broken with all those escapes</p>\n<p><strong>UPDATE</strong></p>\n<p>I have also tried the following cases but the result is the same i get the values inside the database as</p>\n<pre class=\"lang-json prettyprint-override\"><code>&quot;{\\&quot;name\\&quot;:\\&quot;John\\&quot;,\\&quot;age\\&quot;:30,\\&quot;city\\&quot;:\\&quot;New York\\&quot;}&quot;\n</code></pre>\n<p>First i tried this</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Item implements Serializable {\n    private String name;\n    private int age;\n    private String city;//with getters setters\n}\n\n</code></pre>\n<p>and OfferEntity class looked like this</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n    @JdbcTypeCode(SqlTypes.JSON)\n    @Column(name = &quot;items&quot;, columnDefinition = &quot;jsonb&quot;, insertable = false, updatable = false)\n    private Item items;\n\n    public Item getItems() {\n        return items;\n    }\n\n    public void setItems(Item items) {\n        this.items = items;\n    }\n</code></pre>\n<p>and I tried also make Items a map</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n    @JdbcTypeCode(SqlTypes.JSON)\n    @Column(name = &quot;items&quot;, columnDefinition = &quot;jsonb&quot;, insertable = false, updatable = false)\n    private Map&lt;String, String&gt; items;\n\n    public Map&lt;String, String&gt; getItems() {\n        return items;\n    }\n\n    public void setItems(Map&lt;String, String&gt; items) {\n        this.items = items;\n    }\n</code></pre>\n<p>Is this a hibernate bug? The version I use for hibernate is the 6.2.7 final</p>\n"},{"tags":["java","pdfbox"],"comments":[{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1581499634,"post_id":60182185,"comment_id":106451234,"body_markdown":"You need to know the unicode for that tick mark in that font (I don&#39;t see that there is one). Then call showText for that one. (Did you manage to output ANY text at all, e.g. from the Helvetica font?)","body":"You need to know the unicode for that tick mark in that font (I don&#39;t see that there is one). Then call showText for that one. (Did you manage to output ANY text at all, e.g. from the Helvetica font?)"},{"owner":{"account_id":17572263,"reputation":31,"user_id":12747799,"display_name":"Gaurav Mishra"},"score":0,"creation_date":1581572914,"post_id":60182185,"comment_id":106481802,"body_markdown":"contentStream.setFont(PDType1Font.ZAPF_DINGBATS, 8)                                 Unicode is, I got the silution &quot;\\u2714&quot;","body":"contentStream.setFont(PDType1Font.ZAPF_DINGBATS, 8)                                 Unicode is, I got the silution &quot;\\u2714&quot;"},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1581583779,"post_id":60182185,"comment_id":106486238,"body_markdown":"Great! It is what I guessed, that font has a lot of these symbols. Please answer the question yourself. (This is OK) I will upvote it.","body":"Great! It is what I guessed, that font has a lot of these symbols. Please answer the question yourself. (This is OK) I will upvote it."}],"answers":[{"tags":[],"owner":{"account_id":19977073,"reputation":1,"user_id":14641092,"display_name":"Shashwat SIngh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698241116,"creation_date":1698241116,"answer_id":77360006,"question_id":60182185,"body_markdown":"You can use Font as ZAPF_DINGBATS\r\n\r\n     private fun fillTextData(parameterMetadata: ParameterMetadata, contentStream: PDPageContentStream) {\r\n    val coordinate = parameterMetadata.selectedCoordinate!!\r\n    var originalFontSize = 10.0F\r\n    val availableWidth = coordinate.width\r\n    val availableHeight = coordinate.height\r\n\r\n    val pdfTypeFont = Standard14Fonts.FontName.ZAPF_DINGBATS // This font support tick mark\r\n   \r\n    contentStream.beginText()\r\n    contentStream.setFont(PDType1Font(pdfTypeFont), originalFontSize)\r\n    contentStream.showText(&quot;\\u2713&quot;)\r\n    contentStream.endText()\r\n  }","title":"How I can put &quot;tick mark&quot; symbol in PDFBOX?","body":"<p>You can use Font as ZAPF_DINGBATS</p>\n<pre><code> private fun fillTextData(parameterMetadata: ParameterMetadata, contentStream: PDPageContentStream) {\nval coordinate = parameterMetadata.selectedCoordinate!!\nvar originalFontSize = 10.0F\nval availableWidth = coordinate.width\nval availableHeight = coordinate.height\n\nval pdfTypeFont = Standard14Fonts.FontName.ZAPF_DINGBATS // This font support tick mark\n\ncontentStream.beginText()\ncontentStream.setFont(PDType1Font(pdfTypeFont), originalFontSize)\ncontentStream.showText(&quot;\\u2713&quot;)\ncontentStream.endText()\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":17572263,"reputation":31,"user_id":12747799,"display_name":"Gaurav Mishra"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":610,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1698241116,"creation_date":1581488104,"question_id":60182185,"body_markdown":"I have to place a &quot;tick mark&quot; in a PDF.\r\n\r\nI am trying to use\r\n\r\ncontentStream.setFont(PDType1Font.SYMBOL, 10);\r\n\r\nHowever, I can&#39;t figure out how to proceed further?","title":"How I can put &quot;tick mark&quot; symbol in PDFBOX?","body":"<p>I have to place a \"tick mark\" in a PDF.</p>\n\n<p>I am trying to use</p>\n\n<p>contentStream.setFont(PDType1Font.SYMBOL, 10);</p>\n\n<p>However, I can't figure out how to proceed further?</p>\n"},{"tags":["java","selenium-webdriver","clipboard"],"comments":[{"owner":{"account_id":1093238,"reputation":92,"user_id":1087388,"display_name":"Sujay"},"score":0,"creation_date":1698234206,"post_id":77358986,"comment_id":136378664,"body_markdown":"You can try with link [link](https://stackoverflow.com/questions/43550974/how-to-access-clipboard-data-using-java-in-windows) \n\nRead the data from clipboard then  you can massage it whatsoever.","body":"You can try with link <a href=\"https://stackoverflow.com/questions/43550974/how-to-access-clipboard-data-using-java-in-windows\">link</a>   Read the data from clipboard then  you can massage it whatsoever."}],"owner":{"account_id":29732491,"reputation":1,"user_id":22786731,"display_name":"KaydenBreak"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698240284,"creation_date":1698232757,"question_id":77358986,"body_markdown":"In selenium java\r\n\r\n[![enter image description here](https://i.stack.imgur.com/2kdjg.png)](https://i.stack.imgur.com/2kdjg.png)\r\n\r\nIt is possible to paste clipboard line Apt 2242-6 directly?\r\n\r\nIf yes, Can you please guide or give me a sample code how to do it, Thanks\r\n\r\nexample\r\n\r\n\r\n```\r\nWebElement inputElement = driver.findElement(By.cssSelector(&quot;#input-235&quot;));\r\ninputElement.clear(); // Clear the input box\r\n\r\n(paste clipboard line 3 or line 2)\r\n```\r\n\r\n\r\nTHanks in advance --","title":"It is possible to paste clipboard line 2-6 directly?","body":"<p>In selenium java</p>\n<p><a href=\"https://i.stack.imgur.com/2kdjg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2kdjg.png\" alt=\"enter image description here\" /></a></p>\n<p>It is possible to paste clipboard line Apt 2242-6 directly?</p>\n<p>If yes, Can you please guide or give me a sample code how to do it, Thanks</p>\n<p>example</p>\n<pre><code>WebElement inputElement = driver.findElement(By.cssSelector(&quot;#input-235&quot;));\ninputElement.clear(); // Clear the input box\n\n(paste clipboard line 3 or line 2)\n</code></pre>\n<p>THanks in advance --</p>\n"},{"tags":["java","mongodb","quarkus","quarkus-panache"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1698301101,"post_id":77359892,"comment_id":136388224,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1698766310,"post_id":77359892,"comment_id":136445525,"body_markdown":"https://stackoverflow.com/questions/68363787/mongodb-best-practice-insert-null-fields\n\nIt is the way it is supposed to work.","body":"<a href=\"https://stackoverflow.com/questions/68363787/mongodb-best-practice-insert-null-fields\" title=\"mongodb best practice insert null fields\">stackoverflow.com/questions/68363787/&hellip;</a>  It is the way it is supposed to work."}],"owner":{"account_id":19923752,"reputation":3,"user_id":14598969,"display_name":"Debapratim Shyam"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698240244,"creation_date":1698240244,"question_id":77359892,"body_markdown":"I am using quarkus-mongodb-panache to insert a document into MongoDB, where certain fields are null. But when I perform persist with Panache Repository the null fields are not visible in MongoDB.\r\n\r\nI had the same issue with Spring, but in Spring Data Mongo there is an annotation `@Field` which helps us write values to mongoDB even if they are null.\r\n\r\nIs there anything similar to this in Quarkus? and if not can someone guide me how to achieve this with the mongodb java sync driver.\r\n\r\nI expect the null fields to be visible in MongoDB with quarkus panache.","title":"Quarkus mongodb panache - Null fields not visible in MongoDB","body":"<p>I am using quarkus-mongodb-panache to insert a document into MongoDB, where certain fields are null. But when I perform persist with Panache Repository the null fields are not visible in MongoDB.</p>\n<p>I had the same issue with Spring, but in Spring Data Mongo there is an annotation <code>@Field</code> which helps us write values to mongoDB even if they are null.</p>\n<p>Is there anything similar to this in Quarkus? and if not can someone guide me how to achieve this with the mongodb java sync driver.</p>\n<p>I expect the null fields to be visible in MongoDB with quarkus panache.</p>\n"},{"tags":["java","spring","spring-data-jpa"],"comments":[{"owner":{"account_id":8517137,"reputation":835,"user_id":6385232,"display_name":"geanakuch"},"score":1,"creation_date":1623152012,"post_id":67886056,"comment_id":119990629,"body_markdown":"I think you can just autowire the repository, can&#39;t you?","body":"I think you can just autowire the repository, can&#39;t you?"},{"owner":{"account_id":16359843,"reputation":191,"user_id":11815816,"display_name":"Ilja Tarasovs"},"score":0,"creation_date":1623152469,"post_id":67886056,"comment_id":119990771,"body_markdown":"also thinking about this. Or maybe there is other solution?","body":"also thinking about this. Or maybe there is other solution?"},{"owner":{"account_id":1428135,"reputation":5246,"user_id":1351167,"accept_rate":75,"display_name":"jAC"},"score":1,"creation_date":1623152502,"post_id":67886056,"comment_id":119990782,"body_markdown":"@IljaTarasovs This is the one and only correct way. Why would you need another solution?","body":"@IljaTarasovs This is the one and only correct way. Why would you need another solution?"},{"owner":{"account_id":16359843,"reputation":191,"user_id":11815816,"display_name":"Ilja Tarasovs"},"score":0,"creation_date":1623153483,"post_id":67886056,"comment_id":119991151,"body_markdown":"yes, agree with all of you. Will use `@Autowired`","body":"yes, agree with all of you. Will use <code>@Autowired</code>"}],"answers":[{"tags":[],"owner":{"account_id":9122040,"reputation":1213,"user_id":6787187,"accept_rate":71,"display_name":"Alpit Anand"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1674653457,"creation_date":1623152145,"answer_id":67886159,"question_id":67886056,"body_markdown":"Just use @Autowire, spring will take care of bean creation if you had given @Repository on JPA interface.","title":"How to create bean for spring data jpa repository?","body":"<p>Just use @Autowire, spring will take care of bean creation if you had given @Repository on JPA interface.</p>\n"},{"tags":[],"owner":{"account_id":5297319,"reputation":1138,"user_id":4228138,"display_name":"Mateusz Korwel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1630575442,"creation_date":1630575442,"answer_id":69027739,"question_id":67886056,"body_markdown":"If you look at the `@Repository` you noticed that this annotation is a stereotype of `@Component`. So when you use annotation `@Repository` this class will be treat as a bean (of course, if you enable jpa repositories).\r\n\r\n```\r\n@Target({ElementType.TYPE})\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Documented\r\n@Component\r\npublic @interface Repository {\r\n   ...\r\n}\r\n```\r\n\r\n\r\nSo if you want inject you repository into your bean, you can do like this:\r\n```\r\n @Bean \r\n MyServiceInterface getMyService(MyRepository myRepository) {\r\n  return new MyServiceImpl(myRepository); \r\n }\r\n```","title":"How to create bean for spring data jpa repository?","body":"<p>If you look at the <code>@Repository</code> you noticed that this annotation is a stereotype of <code>@Component</code>. So when you use annotation <code>@Repository</code> this class will be treat as a bean (of course, if you enable jpa repositories).</p>\n<pre><code>@Target({ElementType.TYPE})\n@Retention(RetentionPolicy.RUNTIME)\n@Documented\n@Component\npublic @interface Repository {\n   ...\n}\n</code></pre>\n<p>So if you want inject you repository into your bean, you can do like this:</p>\n<pre><code> @Bean \n MyServiceInterface getMyService(MyRepository myRepository) {\n  return new MyServiceImpl(myRepository); \n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4401188,"reputation":4398,"user_id":3586851,"accept_rate":50,"display_name":"Heri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698240208,"creation_date":1698240208,"answer_id":77359887,"question_id":67886056,"body_markdown":"Spring-boot 3.0.6\r\n\r\nThree conditions must be met (regardeless if its for tests or for the main code):\r\n\r\n1. The repository must have the @Repository annotation\r\n2. The class that uses the autowired member or constructor param must be a spring bean\r\n3. JpaRepositories must be enabled (annotate &quot;@EnableJpaRepositories(basePackages = &quot;com.example.app&quot;)&quot; somewhere in your configuration class)\r\n\r\nIt&#39;s not needed to have an extra &quot;Bean declaration&quot; for your repository interface. The @Repository and the @EnableJpaRepositories annotations are enough. \r\n","title":"How to create bean for spring data jpa repository?","body":"<p>Spring-boot 3.0.6</p>\n<p>Three conditions must be met (regardeless if its for tests or for the main code):</p>\n<ol>\n<li>The repository must have the @Repository annotation</li>\n<li>The class that uses the autowired member or constructor param must be a spring bean</li>\n<li>JpaRepositories must be enabled (annotate &quot;@EnableJpaRepositories(basePackages = &quot;com.example.app&quot;)&quot; somewhere in your configuration class)</li>\n</ol>\n<p>It's not needed to have an extra &quot;Bean declaration&quot; for your repository interface. The @Repository and the @EnableJpaRepositories annotations are enough.</p>\n"}],"owner":{"account_id":16359843,"reputation":191,"user_id":11815816,"display_name":"Ilja Tarasovs"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6705,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":67886159,"answer_count":3,"score":3,"last_activity_date":1698240208,"creation_date":1623151524,"question_id":67886056,"body_markdown":"```java\r\n@Repository\r\npublic interface MyRepository extends CrudRepository&lt;Custom, Long&gt; {}\r\n```\r\n```java\r\n@Service\r\n@RequiredArgsConstructor\r\npublic class MyServiceImpl implements MyServiceInterface {\r\n \r\n private final MyRepository repository;\r\n}\r\n```\r\nI use test configuration with instructions for bean construction for testing.  \r\nHow to create `@Bean` for `MyRepository interface`?\r\n```java\r\n@TestConfiguration\r\n@EnableJpaRepositories(basePackages = &quot;com.example.app&quot;)\r\npublic class TestBeans {\r\n\r\n @Bean \r\n MyServiceInterface getMyService() {\r\n  return new MyServiceImpl(getMyRepository()); \r\n }\r\n\r\n @Bean \r\n MyRepository getMyRepository() {\r\n  return null; // what should be here?\r\n }\r\n}\r\n```\r\n","title":"How to create bean for spring data jpa repository?","body":"<pre class=\"lang-java prettyprint-override\"><code>@Repository\npublic interface MyRepository extends CrudRepository&lt;Custom, Long&gt; {}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\n@RequiredArgsConstructor\npublic class MyServiceImpl implements MyServiceInterface {\n \n private final MyRepository repository;\n}\n</code></pre>\n<p>I use test configuration with instructions for bean construction for testing.<br />\nHow to create <code>@Bean</code> for <code>MyRepository interface</code>?</p>\n<pre class=\"lang-java prettyprint-override\"><code>@TestConfiguration\n@EnableJpaRepositories(basePackages = &quot;com.example.app&quot;)\npublic class TestBeans {\n\n @Bean \n MyServiceInterface getMyService() {\n  return new MyServiceImpl(getMyRepository()); \n }\n\n @Bean \n MyRepository getMyRepository() {\n  return null; // what should be here?\n }\n}\n</code></pre>\n"},{"tags":["java","json","date","jackson","lombok"],"comments":[{"owner":{"account_id":10777133,"reputation":7282,"user_id":7928721,"display_name":"samabcde"},"score":0,"creation_date":1698245872,"post_id":77359851,"comment_id":136381384,"body_markdown":"Not able to reproduce, could you try construct a `PSRequest` and run something like `System.out.println(new ObjectMapper().writeValueAsString(psRequest));`","body":"Not able to reproduce, could you try construct a <code>PSRequest</code> and run something like <code>System.out.println(new ObjectMapper().writeValueAsString(psRequest));</code>"},{"owner":{"account_id":8884226,"reputation":514,"user_id":6633045,"display_name":"phuongnq1995"},"score":0,"creation_date":1698307048,"post_id":77359851,"comment_id":136389294,"body_markdown":"Can you add jackson-version &amp; all configurations that you&#39;re using?","body":"Can you add jackson-version &amp; all configurations that you&#39;re using?"},{"owner":{"account_id":7682828,"reputation":504,"user_id":5821591,"accept_rate":40,"display_name":"Hitesh Kumar"},"score":0,"creation_date":1698318209,"post_id":77359851,"comment_id":136391521,"body_markdown":"we are using lombok 1.18 and jackson 2.13 with spring boot 2.7","body":"we are using lombok 1.18 and jackson 2.13 with spring boot 2.7"},{"owner":{"account_id":7682828,"reputation":504,"user_id":5821591,"accept_rate":40,"display_name":"Hitesh Kumar"},"score":0,"creation_date":1698327755,"post_id":77359851,"comment_id":136393553,"body_markdown":"e = (org.springframework.web.client.RestClientException) org.springframework.web.client.RestClientException: No HttpMessageConverter for com.abc.PSRequest and content type &quot;application/json&quot;","body":"e = (org.springframework.web.client.RestClientException) org.springframework.web.client.RestClientException: No HttpMessageConverter for com.abc.PSRequest and content type &quot;application/json&quot;"},{"owner":{"account_id":7682828,"reputation":504,"user_id":5821591,"accept_rate":40,"display_name":"Hitesh Kumar"},"score":0,"creation_date":1698327824,"post_id":77359851,"comment_id":136393574,"body_markdown":"I debug and found above comment error I am getting while doing restTemplate.exchange","body":"I debug and found above comment error I am getting while doing restTemplate.exchange"}],"owner":{"account_id":7682828,"reputation":504,"user_id":5821591,"accept_rate":40,"display_name":"Hitesh Kumar"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698240026,"creation_date":1698240026,"question_id":77359851,"body_markdown":"I am trying to ignore some fields to be a part of REST template call.\r\nI am using lombok @Data and trying @JsonIgnore but I see JsonIgnored field in the request body.\r\n\r\ncode sample:\r\n\r\n    @Data\r\n    @NoArgsConstructor\r\n    class PSRequest{\r\n    \r\n    //other variables\r\n    \r\n    @JsonIgnore\r\n    java.util.Date dt;\r\n    \r\n    \r\n    }\r\n\r\nI searched and tried below solutions but no luck. Please guide me further using java 8.\r\n\r\n&gt; @Getter(onMethod = @__(@JsonIgnore))  \r\n\r\n&gt; @Getter(onMethod_ = @JsonIgnore)\r\n\r\n&gt; @JsonProperty(access = JsonProperty.Access.WRITE_ONLY)\r\n\r\n&gt; @JsonIgnoreProperties({&quot;dt&quot;}) at class level","title":"jsonIgnore annotation is not working with Data annotation in lombok","body":"<p>I am trying to ignore some fields to be a part of REST template call.\nI am using lombok @Data and trying @JsonIgnore but I see JsonIgnored field in the request body.</p>\n<p>code sample:</p>\n<pre><code>@Data\n@NoArgsConstructor\nclass PSRequest{\n\n//other variables\n\n@JsonIgnore\njava.util.Date dt;\n\n\n}\n</code></pre>\n<p>I searched and tried below solutions but no luck. Please guide me further using java 8.</p>\n<blockquote>\n<p>@Getter(onMethod = @__(@JsonIgnore))</p>\n</blockquote>\n<blockquote>\n<p>@Getter(onMethod_ = @JsonIgnore)</p>\n</blockquote>\n<blockquote>\n<p>@JsonProperty(access = JsonProperty.Access.WRITE_ONLY)</p>\n</blockquote>\n<blockquote>\n<p>@JsonIgnoreProperties({&quot;dt&quot;}) at class level</p>\n</blockquote>\n"},{"tags":["java","jhipster"],"owner":{"account_id":6717092,"reputation":767,"user_id":5178586,"accept_rate":22,"display_name":"JAVA_CAT"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698239933,"creation_date":1698238236,"question_id":77359634,"body_markdown":"I am trying to generate code using Jhipster. Below is my JDL and it contains entity to generate JPA entity and also DTO. DTO is generated based on the given entity. Here is my problem. I need some extra fields in DTO but those are not required in generated entity class.\r\n\r\n **Basically I can achieve this in two way** \r\n1) Edit generated DTO class and add required attributes \r\n\r\n2) Extend the generated DTO and add required new attributes. \r\n\r\nDo we have any other way to achieve this ? like using some annotation I can say this attribute needed only in DTO and it is not required in Entity. Editing generated code is not allowed in the project so cannot use that approach.\r\n\r\n    @service(serviceImpl)\r\n    @dto(mapstruct)\r\n    entity EmployeeMaster(empl_mst){\r\n     empNumber Long required\r\n     empName String required\r\n     age Integer required\r\n     gender String required\r\n     effectiveFromDate LocalDate required\r\n     effectiveToDate LocalDate required\r\n     department String required\r\n    }\r\n\r\n","title":"JHipster - DTO and Entity generation","body":"<p>I am trying to generate code using Jhipster. Below is my JDL and it contains entity to generate JPA entity and also DTO. DTO is generated based on the given entity. Here is my problem. I need some extra fields in DTO but those are not required in generated entity class.</p>\n<p><strong>Basically I can achieve this in two way</strong></p>\n<ol>\n<li><p>Edit generated DTO class and add required attributes</p>\n</li>\n<li><p>Extend the generated DTO and add required new attributes.</p>\n</li>\n</ol>\n<p>Do we have any other way to achieve this ? like using some annotation I can say this attribute needed only in DTO and it is not required in Entity. Editing generated code is not allowed in the project so cannot use that approach.</p>\n<pre><code>@service(serviceImpl)\n@dto(mapstruct)\nentity EmployeeMaster(empl_mst){\n empNumber Long required\n empName String required\n age Integer required\n gender String required\n effectiveFromDate LocalDate required\n effectiveToDate LocalDate required\n department String required\n}\n</code></pre>\n"},{"tags":["java","logging"],"comments":[{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":2,"creation_date":1325846589,"post_id":8756564,"comment_id":10911228,"body_markdown":"Up to you, but you should go for the `final` versions","body":"Up to you, but you should go for the <code>final</code> versions"},{"owner":{"account_id":4804,"reputation":268579,"user_id":7412,"accept_rate":96,"display_name":"dogbane"},"score":0,"creation_date":1325846619,"post_id":8756564,"comment_id":10911242,"body_markdown":"possible duplicate of [Should a &quot;static final Logger&quot; be declared in UPPER-CASE?](http://stackoverflow.com/questions/1417190/should-a-static-final-logger-be-declared-in-upper-case)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/1417190/should-a-static-final-logger-be-declared-in-upper-case\">Should a &quot;static final Logger&quot; be declared in UPPER-CASE?</a>"}],"answers":[{"tags":[],"owner":{"account_id":1060181,"reputation":1400,"user_id":1061977,"accept_rate":65,"display_name":"Abhishek bhutra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1325846603,"creation_date":1325846603,"answer_id":8756600,"question_id":8756564,"body_markdown":"First one is best.I prefer logger to be `final` and `static`....\r\n","title":"Which is the best way to declare logger variable in java","body":"<p>First one is best.I prefer logger to be <code>final</code> and <code>static</code>....</p>\n"},{"tags":[],"owner":{"account_id":296495,"reputation":17580,"user_id":601493,"accept_rate":73,"display_name":"Jan Zyka"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1325846628,"creation_date":1325846628,"answer_id":8756604,"question_id":8756564,"body_markdown":"I would go with the first option but it is matter of personal choice I guess.","title":"Which is the best way to declare logger variable in java","body":"<p>I would go with the first option but it is matter of personal choice I guess.</p>\n"},{"tags":[],"owner":{"account_id":81920,"reputation":15634,"user_id":230717,"accept_rate":95,"display_name":"Stan Kurilin"},"down_vote_count":3,"up_vote_count":9,"is_accepted":true,"score":6,"last_activity_date":1400712623,"creation_date":1325846654,"answer_id":8756610,"question_id":8756564,"body_markdown":"I vote for **3**\r\n\r\n     private static final Logger LOGGER = Logger.getLogger(ServiceImpl.class);\r\n\r\nIt&#39;s `final` since you don&#39;t change it and it&#39;s in uppercase since it&#39;s a constant.\r\n\r\n\r\n","title":"Which is the best way to declare logger variable in java","body":"<p>I vote for <strong>3</strong></p>\n\n<pre><code> private static final Logger LOGGER = Logger.getLogger(ServiceImpl.class);\n</code></pre>\n\n<p>It's <code>final</code> since you don't change it and it's in uppercase since it's a constant.</p>\n"},{"tags":[],"owner":{"account_id":66010,"reputation":22927,"user_id":193906,"display_name":"Sanjay T. Sharma"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1325846659,"creation_date":1325846659,"answer_id":8756612,"question_id":8756564,"body_markdown":"All upper-case variable names are IMO out because you really aren&#39;t declaring/defining a constant but a static variable. Uppercase names are more suitable for &quot;constants&quot;. That said, I&#39;d personally go with the first approach.\r\n\r\n    private static final Logger logger = Logger.getLogger(ServiceImpl.class);","title":"Which is the best way to declare logger variable in java","body":"<p>All upper-case variable names are IMO out because you really aren't declaring/defining a constant but a static variable. Uppercase names are more suitable for \"constants\". That said, I'd personally go with the first approach.</p>\n\n<pre><code>private static final Logger logger = Logger.getLogger(ServiceImpl.class);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":279016,"reputation":11954,"user_id":573927,"accept_rate":89,"display_name":"James John McGuire &#39;Jahmic&#39;"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1325846814,"creation_date":1325846814,"answer_id":8756645,"question_id":8756564,"body_markdown":"In my understanding of the java style guide, &#39;logger&#39; is best.  &#39;LOGGER&#39; would be for a defined constant.\r\n\r\nFurthermore, using &#39;final&#39;, should make it a bit faster.  \r\n\r\nThus #1.\r\n","title":"Which is the best way to declare logger variable in java","body":"<p>In my understanding of the java style guide, 'logger' is best.  'LOGGER' would be for a defined constant.</p>\n\n<p>Furthermore, using 'final', should make it a bit faster.  </p>\n\n<p>Thus #1.</p>\n"},{"tags":[],"owner":{"account_id":903562,"reputation":15094,"user_id":939023,"accept_rate":90,"display_name":"Shivan Dragon"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1325847079,"creation_date":1325847079,"answer_id":8756696,"question_id":8756564,"body_markdown":"I personally think `private static final Logger LOGGER= Logger.getLogger(ServiceImpl.class);` is the best way to go for semantic and performance reasons:\r\n\r\n- your Log belongs to the class not to various instances of it, for this reason you should make it static\r\n- it should be private because it&#39;s used internally by the class, it&#39;s not part of it&#39;s public API\r\n- making it final two makes sense, first of because this states that the refference will not change (which is the case here) and second because final intance variables (especially static ones) can be better optimised for speed by the compiler and the JIT (more details &lt;a href=&quot;http://www.ibm.com/developerworks/ibm/library/i-tuning/?open&quot;&gt; here&lt;/a&gt;)\r\n- naming it all upper-case is really just a nice convention, that&#39;s how static variables are declared in Java, it&#39;s not really a must but it makes the code more readable\r\n","title":"Which is the best way to declare logger variable in java","body":"<p>I personally think <code>private static final Logger LOGGER= Logger.getLogger(ServiceImpl.class);</code> is the best way to go for semantic and performance reasons:</p>\n\n<ul>\n<li>your Log belongs to the class not to various instances of it, for this reason you should make it static</li>\n<li>it should be private because it's used internally by the class, it's not part of it's public API</li>\n<li>making it final two makes sense, first of because this states that the refference will not change (which is the case here) and second because final intance variables (especially static ones) can be better optimised for speed by the compiler and the JIT (more details <a href=\"http://www.ibm.com/developerworks/ibm/library/i-tuning/?open\" rel=\"nofollow\"> here</a>)</li>\n<li>naming it all upper-case is really just a nice convention, that's how static variables are declared in Java, it's not really a must but it makes the code more readable</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":63162,"reputation":102381,"user_id":187141,"accept_rate":82,"display_name":"yegor256"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1400915421,"creation_date":1349418915,"answer_id":12740813,"question_id":8756564,"body_markdown":"I would recommend not to use such a variable in every class, but instead delegate this work to a static utility wrapper around slf4j, from [jcabi-log](http://www.jcabi.com/jcabi-log/):\r\n\r\n    Logger.debug(this, &quot;some variable = %s&quot;, value);\r\n\r\nCheck this post as well: http://www.yegor256.com/2014/05/23/avoid-java-static-logger.html","title":"Which is the best way to declare logger variable in java","body":"<p>I would recommend not to use such a variable in every class, but instead delegate this work to a static utility wrapper around slf4j, from <a href=\"http://www.jcabi.com/jcabi-log/\" rel=\"nofollow\">jcabi-log</a>:</p>\n\n<pre><code>Logger.debug(this, \"some variable = %s\", value);\n</code></pre>\n\n<p>Check this post as well: <a href=\"http://www.yegor256.com/2014/05/23/avoid-java-static-logger.html\" rel=\"nofollow\">http://www.yegor256.com/2014/05/23/avoid-java-static-logger.html</a></p>\n"},{"tags":[],"owner":{"account_id":4476278,"reputation":677,"user_id":3641329,"accept_rate":50,"display_name":"iKing"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1400674405,"creation_date":1400672667,"answer_id":23782239,"question_id":8756564,"body_markdown":"It is good programming practice to share a single logger object between all of the instances of a particular class and to use the same logger for the duration of the program, so we use `static` and `final` for loggers.\r\n\r\nIt is not recommended to use multiple loggers (poor logging practice) rather than logging levels.\r\n\r\nI think that\r\n\r\n    private static final Logger logger = Logger.getLogger(ServiceImpl.class);\r\n\r\nis the better option.","title":"Which is the best way to declare logger variable in java","body":"<p>It is good programming practice to share a single logger object between all of the instances of a particular class and to use the same logger for the duration of the program, so we use <code>static</code> and <code>final</code> for loggers.</p>\n\n<p>It is not recommended to use multiple loggers (poor logging practice) rather than logging levels.</p>\n\n<p>I think that</p>\n\n<pre><code>private static final Logger logger = Logger.getLogger(ServiceImpl.class);\n</code></pre>\n\n<p>is the better option.</p>\n"},{"tags":[],"owner":{"account_id":299854,"reputation":29886,"user_id":606679,"accept_rate":25,"display_name":"ddekany"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1506979717,"creation_date":1506979717,"answer_id":46533983,"question_id":8756564,"body_markdown":"Nobody here uses `LOG` or `log`? I have found it to be nicer in practice. (Surely I&#39;m not the first one to work on a place where that&#39;s the standard, because `@Log4j` in Lombok generates a `log` field as well. Of course it&#39;s also static final. And BTW, that&#39;s the best way to declare that field... add a `@Log4j` annotation. Done.)","title":"Which is the best way to declare logger variable in java","body":"<p>Nobody here uses <code>LOG</code> or <code>log</code>? I have found it to be nicer in practice. (Surely I'm not the first one to work on a place where that's the standard, because <code>@Log4j</code> in Lombok generates a <code>log</code> field as well. Of course it's also static final. And BTW, that's the best way to declare that field... add a <code>@Log4j</code> annotation. Done.)</p>\n"},{"tags":[],"owner":{"account_id":14282929,"reputation":333,"user_id":10317086,"display_name":"EnGoPy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1573049735,"creation_date":1573049735,"answer_id":58732131,"question_id":8756564,"body_markdown":"`private static final Logger LOGGER = Logger.getLogger(NameClass.class.getName());`\r\n\r\nWhere logger is a final, settled variable should be defined in UPPER CASE.\r\nWhile getLogger()  static method need String as an argument, name of class should also invoke .getName() of class.","title":"Which is the best way to declare logger variable in java","body":"<p><code>private static final Logger LOGGER = Logger.getLogger(NameClass.class.getName());</code></p>\n\n<p>Where logger is a final, settled variable should be defined in UPPER CASE.\nWhile getLogger()  static method need String as an argument, name of class should also invoke .getName() of class.</p>\n"},{"tags":[],"owner":{"account_id":8516778,"reputation":99,"user_id":6384951,"display_name":"Pratik Patil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640867250,"creation_date":1640867250,"answer_id":70531673,"question_id":8756564,"body_markdown":"@Slf4j annotation can help with this.\r\n\r\n    import lombok.extern.slf4j.Slf4j;\r\n    @Slf4j\r\n    public class CustomClassName {\r\n     void customMethod(){\r\n      log.info(&quot;Shorthand logger annotation example&quot;);\r\n     }\r\n    }","title":"Which is the best way to declare logger variable in java","body":"<p>@Slf4j annotation can help with this.</p>\n<pre><code>import lombok.extern.slf4j.Slf4j;\n@Slf4j\npublic class CustomClassName {\n void customMethod(){\n  log.info(&quot;Shorthand logger annotation example&quot;);\n }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9134977,"reputation":121,"user_id":6794989,"display_name":"Ramji"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698239897,"creation_date":1698239897,"answer_id":77359830,"question_id":8756564,"body_markdown":"For ease of use, I prefer using `slf4j` and would like to use as below.\r\n\r\n\r\n```\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\n\r\nprivate static final Logger LOGGER = LoggerFactory.getLogger(ServiceImpl.class);\r\n```","title":"Which is the best way to declare logger variable in java","body":"<p>For ease of use, I prefer using <code>slf4j</code> and would like to use as below.</p>\n<pre><code>import org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\nprivate static final Logger LOGGER = LoggerFactory.getLogger(ServiceImpl.class);\n</code></pre>\n"}],"owner":{"account_id":399893,"reputation":3303,"user_id":765551,"accept_rate":65,"display_name":"Raje"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19160,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":8756610,"answer_count":12,"score":14,"last_activity_date":1698239897,"creation_date":1325846441,"question_id":8756564,"body_markdown":"I just wantd to know which is the best way declare logger variable in java.\r\nFollowing are some declaration.\r\n\r\n\r\n    1&gt; private static final Logger logger = Logger.getLogger(ServiceImpl.class);\r\n\r\n    2&gt; private static Logger logger = Logger.getLogger(ServiceImpl.class);\r\n\r\n    3&gt; private static final Logger LOGGER= Logger.getLogger(ServiceImpl.class);\r\n\r\n    4&gt; private static Logger LOGGER= Logger.getLogger(ServiceImpl.class);\r\n\r\nP.S I really appreciate if  anybody knows  another best alternative ways to declare looger variable.\r\n\t","title":"Which is the best way to declare logger variable in java","body":"<p>I just wantd to know which is the best way declare logger variable in java.\nFollowing are some declaration.</p>\n\n<pre><code>1&gt; private static final Logger logger = Logger.getLogger(ServiceImpl.class);\n\n2&gt; private static Logger logger = Logger.getLogger(ServiceImpl.class);\n\n3&gt; private static final Logger LOGGER= Logger.getLogger(ServiceImpl.class);\n\n4&gt; private static Logger LOGGER= Logger.getLogger(ServiceImpl.class);\n</code></pre>\n\n<p>P.S I really appreciate if  anybody knows  another best alternative ways to declare looger variable.</p>\n"},{"tags":["java","datetime","timezone","datetime-format","zoneid"],"comments":[{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1698231567,"post_id":77358793,"comment_id":136378125,"body_markdown":"What&#39;s the expected output? Is it something like `6:58:51  `?","body":"What&#39;s the expected output? Is it something like <code>6:58:51  </code>?"},{"owner":{"account_id":12272696,"reputation":23,"user_id":10418191,"display_name":"Barry Tone"},"score":0,"creation_date":1698232149,"post_id":77358793,"comment_id":136378235,"body_markdown":"I&#39;m not sure what the translation would be for that, but I expected it to be translated when I passed the locale in","body":"I&#39;m not sure what the translation would be for that, but I expected it to be translated when I passed the locale in"},{"owner":{"account_id":12272696,"reputation":23,"user_id":10418191,"display_name":"Barry Tone"},"score":0,"creation_date":1698232796,"post_id":77358793,"comment_id":136378360,"body_markdown":"@deHaar is this zone id component not translatable? also, I think `` is simplified so it&#39;s not correct for zh_TW","body":"@deHaar is this zone id component not translatable? also, I think <code></code> is simplified so it&#39;s not correct for zh_TW"},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1698232890,"post_id":77358793,"comment_id":136378378,"body_markdown":"I don&#39;t think that is to be expectedThe translation I got is the result of `ZoneId.of(&quot;Asia/Shanghai&quot;).getDisplayName(TextStyle.FULL_STANDALONE, Locale.CHINESE);`","body":"I don&#39;t think that is to be expectedThe translation I got is the result of <code>ZoneId.of(&quot;Asia&#47;Shanghai&quot;).getDisplayName(TextStyle.FULL_STA&zwnj;&#8203;NDALONE, Locale.CHINESE);</code>"},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1698233074,"post_id":77358793,"comment_id":136378420,"body_markdown":"@deHaar There is no country in `Locale.CHINESE`. If you use `new Locale(&quot;zh&quot;, &quot;tw&quot;)`, it does produce traditional chinese.","body":"@deHaar There is no country in <code>Locale.CHINESE</code>. If you use <code>new Locale(&quot;zh&quot;, &quot;tw&quot;)</code>, it does produce traditional chinese."},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1698233486,"post_id":77358793,"comment_id":136378497,"body_markdown":"Good point @Sweeper, thanks! I&#39;d prefer `Locale.of(&quot;zh&quot;, &quot;tw&quot;)` over the deprecated constructor, but not using `Locale.CHINESE` in that statement does indeed produce a different output, though I just can&#39;t tell if it&#39;s Simplified Chinese, Traditional Chinese or Chinese at all","body":"Good point @Sweeper, thanks! I&#39;d prefer <code>Locale.of(&quot;zh&quot;, &quot;tw&quot;)</code> over the deprecated constructor, but not using <code>Locale.CHINESE</code> in that statement does indeed produce a different output, though I just can&#39;t tell if it&#39;s Simplified Chinese, Traditional Chinese or Chinese at all"},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1698233536,"post_id":77358793,"comment_id":136378514,"body_markdown":"@BarryTone do you want this as zone id: ``?","body":"@BarryTone do you want this as zone id: <code></code>?"},{"owner":{"account_id":12272696,"reputation":23,"user_id":10418191,"display_name":"Barry Tone"},"score":0,"creation_date":1698233894,"post_id":77358793,"comment_id":136378593,"body_markdown":"@deHaar I believe that&#39;s still simplified, but this actually might help. Do you know where I can find the list of the FULL_STANDALONE timezones?","body":"@deHaar I believe that&#39;s still simplified, but this actually might help. Do you know where I can find the list of the FULL_STANDALONE timezones?"},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1698234080,"post_id":77358793,"comment_id":136378637,"body_markdown":"@BarryTone It&#39;s all in the [CLDR](https://github.com/unicode-org/cldr). That is sorted by locale though, which you might find rather inconvenient.","body":"@BarryTone It&#39;s all in the <a href=\"https://github.com/unicode-org/cldr\" rel=\"nofollow noreferrer\">CLDR</a>. That is sorted by locale though, which you might find rather inconvenient."},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1698234165,"post_id":77358793,"comment_id":136378656,"body_markdown":"Well, that one was actually produced by formatting some time with a `DateTimeFormatter.ofPattern(&quot;h:mm:ss a zzzz&quot;, Locale.of(&quot;zh&quot;, &quot;tw&quot;));`. You can try it with Asia/Bahrain, too, but use a `Locale.of(&quot;ar&quot;, &quot;bh&quot;)` or something similar","body":"Well, that one was actually produced by formatting some time with a <code>DateTimeFormatter.ofPattern(&quot;h:mm:ss a zzzz&quot;, Locale.of(&quot;zh&quot;, &quot;tw&quot;));</code>. You can try it with Asia/Bahrain, too, but use a <code>Locale.of(&quot;ar&quot;, &quot;bh&quot;)</code> or something similar"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1698349448,"post_id":77358793,"comment_id":136397795,"body_markdown":"Are you quite sure you users want *Asia* and *Shanghai* translated? `Asia/Shanghai` is a technical ID and was never meant for end users. While I dont know Taiwanese users, I think that most users prefer *China Standard Time* or **.","body":"Are you quite sure you users want <i>Asia</i> and <i>Shanghai</i> translated? <code>Asia&#47;Shanghai</code> is a technical ID and was never meant for end users. While I dont know Taiwanese users, I think that most users prefer <i>China Standard Time</i> or <i></i>."}],"answers":[{"tags":[],"owner":{"account_id":18757669,"reputation":21,"user_id":13677274,"display_name":"Gestankbratwurst"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1698232889,"creation_date":1698232889,"answer_id":77358998,"question_id":77358793,"body_markdown":"Your problem here is that &quot;V&quot; resolves the **timezone-id**, which is not meant to be translated as simple text. Try using the **timezone-name**, defined by a lower case `z`. This can be translated using a present Locale.","title":"How to use locale for Java ZoneId?","body":"<p>Your problem here is that &quot;V&quot; resolves the <strong>timezone-id</strong>, which is not meant to be translated as simple text. Try using the <strong>timezone-name</strong>, defined by a lower case <code>z</code>. This can be translated using a present Locale.</p>\n"},{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1698239588,"creation_date":1698238555,"answer_id":77359673,"question_id":77358793,"body_markdown":"&gt; my output needs to be Region/(City or Country)\r\n\r\nThe two parts in time zone IDs like `Asia/Shanghai` are not supposed to be translated separately.\r\n\r\nYou *can* however, get an &quot;exemplar city&quot; for a timezone. This is one of the many things that [CLDR][1] records. I am not aware of a standard Java API for getting the exemplar city, but you can use the [CLDR engine][2] library ([Maven][3]).\r\n\r\nSuppose I want to find an exemplar city of `Asia/Shanghai` localised for `ar-BH`.\r\n\r\n```\r\nvar cldr = CLDR.get(&quot;ar-BH&quot;);\r\nSystem.out.println(cldr.Schema.TimeZones.exemplarCity.get(cldr.General.bundle(), &quot;Asia/Shanghai&quot;));\r\n```\r\n\r\nOutput: \r\n\r\n     \r\n\r\nIf you also want the localised name of the continent (&quot;Asia&quot; in `Asia/Shanghai`), you can use `getRegionDisplayName`.\r\n\r\n    System.out.println(cldr.General.getRegionDisplayName(&quot;142&quot;, DisplayNameOptions.build()));\r\n\r\nNote that I passed &quot;142&quot;, which is apparently the [UN M49][4] ID for Asia. See the list of the available IDs [here][5]. There is only a small number of options for the part before the `/` in IANA zone names. It shouldn&#39;t be too difficult to maintain a mapping from &quot;Asia&quot; to &quot;142&quot;, &quot;Europe&quot; to &quot;150&quot;, etc.\r\n\r\n\r\n  [1]: https://cldr.unicode.org/index\r\n  [2]: https://github.com/Squarespace/cldr-engine-java\r\n  [3]: https://mvnrepository.com/artifact/com.squarespace.cldr-engine/cldr-engine/1.2.3\r\n  [4]: https://en.wikipedia.org/wiki/UN_M49\r\n  [5]: https://phensley.github.io/cldr-engine/docs/en/api-regionidtype","title":"How to use locale for Java ZoneId?","body":"<blockquote>\n<p>my output needs to be Region/(City or Country)</p>\n</blockquote>\n<p>The two parts in time zone IDs like <code>Asia/Shanghai</code> are not supposed to be translated separately.</p>\n<p>You <em>can</em> however, get an &quot;exemplar city&quot; for a timezone. This is one of the many things that <a href=\"https://cldr.unicode.org/index\" rel=\"nofollow noreferrer\">CLDR</a> records. I am not aware of a standard Java API for getting the exemplar city, but you can use the <a href=\"https://github.com/Squarespace/cldr-engine-java\" rel=\"nofollow noreferrer\">CLDR engine</a> library (<a href=\"https://mvnrepository.com/artifact/com.squarespace.cldr-engine/cldr-engine/1.2.3\" rel=\"nofollow noreferrer\">Maven</a>).</p>\n<p>Suppose I want to find an exemplar city of <code>Asia/Shanghai</code> localised for <code>ar-BH</code>.</p>\n<pre><code>var cldr = CLDR.get(&quot;ar-BH&quot;);\nSystem.out.println(cldr.Schema.TimeZones.exemplarCity.get(cldr.General.bundle(), &quot;Asia/Shanghai&quot;));\n</code></pre>\n<p>Output:</p>\n<pre><code> \n</code></pre>\n<p>If you also want the localised name of the continent (&quot;Asia&quot; in <code>Asia/Shanghai</code>), you can use <code>getRegionDisplayName</code>.</p>\n<pre><code>System.out.println(cldr.General.getRegionDisplayName(&quot;142&quot;, DisplayNameOptions.build()));\n</code></pre>\n<p>Note that I passed &quot;142&quot;, which is apparently the <a href=\"https://en.wikipedia.org/wiki/UN_M49\" rel=\"nofollow noreferrer\">UN M49</a> ID for Asia. See the list of the available IDs <a href=\"https://phensley.github.io/cldr-engine/docs/en/api-regionidtype\" rel=\"nofollow noreferrer\">here</a>. There is only a small number of options for the part before the <code>/</code> in IANA zone names. It shouldn't be too difficult to maintain a mapping from &quot;Asia&quot; to &quot;142&quot;, &quot;Europe&quot; to &quot;150&quot;, etc.</p>\n"}],"owner":{"account_id":12272696,"reputation":23,"user_id":10418191,"display_name":"Barry Tone"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":77359673,"answer_count":2,"score":2,"last_activity_date":1698239588,"creation_date":1698230872,"question_id":77358793,"body_markdown":"Having an issue when translating my date to other languages. The way its displayed right now is\r\n`h:mm:ss a VV`. My issue is if I swap my locale to zh_TW, it displays as `11:59 Asia/Shanghai`.\r\n\r\nI&#39;d like to have the `Asia/Shanghai` part to be translated to the correct Locale as well. How would I do this?\r\n\r\nI have tried using `DateTimeFormatter.ofPattern(&quot;h:mm:ss a VV&quot;, locale)` but the zone id (VV) part only shows in English.","title":"How to use locale for Java ZoneId?","body":"<p>Having an issue when translating my date to other languages. The way its displayed right now is\n<code>h:mm:ss a VV</code>. My issue is if I swap my locale to zh_TW, it displays as <code>11:59 Asia/Shanghai</code>.</p>\n<p>I'd like to have the <code>Asia/Shanghai</code> part to be translated to the correct Locale as well. How would I do this?</p>\n<p>I have tried using <code>DateTimeFormatter.ofPattern(&quot;h:mm:ss a VV&quot;, locale)</code> but the zone id (VV) part only shows in English.</p>\n"},{"tags":["java","android","react-native","auth0"],"comments":[{"owner":{"account_id":59249,"reputation":5933,"user_id":177303,"accept_rate":80,"display_name":"Vamsi"},"score":0,"creation_date":1698311926,"post_id":77359788,"comment_id":136390255,"body_markdown":"How about on native android ui? I believe it&#39;s not related to react. Can you explain your question","body":"How about on native android ui? I believe it&#39;s not related to react. Can you explain your question"}],"owner":{"account_id":11778189,"reputation":5288,"user_id":8618818,"accept_rate":78,"display_name":"Onyx"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698239470,"creation_date":1698239470,"question_id":77359788,"body_markdown":"I can&#39;t get the Auth0 to work on React Native Android, even though it&#39;s working just fine on iOS. When I call `authorize()` the first time, the universal login starts inside a browser. Once I input my credentials and click &quot;Login&quot;, nothing happens. At that point I&#39;d expect to be redirected back inside my Android app.\r\n\r\nThen if I call `authorize()` again, it looks like the Auth0 login URL is being opened in-app instead of in a browser. I confirmed it by checking the currently active applications and not seeing my Chrome active.\r\n\r\nIs there an Android setting that might be messing with Auth0 somehow?","title":"Is there an Android setting which might be causing the Auth0 universal login to open in-app instead of in the browser?","body":"<p>I can't get the Auth0 to work on React Native Android, even though it's working just fine on iOS. When I call <code>authorize()</code> the first time, the universal login starts inside a browser. Once I input my credentials and click &quot;Login&quot;, nothing happens. At that point I'd expect to be redirected back inside my Android app.</p>\n<p>Then if I call <code>authorize()</code> again, it looks like the Auth0 login URL is being opened in-app instead of in a browser. I confirmed it by checking the currently active applications and not seeing my Chrome active.</p>\n<p>Is there an Android setting that might be messing with Auth0 somehow?</p>\n"},{"tags":["java","swing","jtable","jcheckbox"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":2,"creation_date":1698243274,"post_id":77359359,"comment_id":136380695,"body_markdown":"Not exactly sure what you are attempting to do but you do NOT need to create a custom renderer or editor to use a check box in a JTable. And you should definitely not add an ItemListener to the renderer. Instead you should override the `getColumnClass()` method of the table to return `Boolean.class` and the table will choose the appropriate renderer/editor for that column. Read the section from the Swing tutorial on [How to Use Tables](https://docs.oracle.com/javase/tutorial/uiswing/components/table.html) for more information and working examples.","body":"Not exactly sure what you are attempting to do but you do NOT need to create a custom renderer or editor to use a check box in a JTable. And you should definitely not add an ItemListener to the renderer. Instead you should override the <code>getColumnClass()</code> method of the table to return <code>Boolean.class</code> and the table will choose the appropriate renderer/editor for that column. Read the section from the Swing tutorial on <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/table.html\" rel=\"nofollow noreferrer\">How to Use Tables</a> for more information and working examples."}],"owner":{"account_id":10706674,"reputation":1,"user_id":16459541,"display_name":"Kim Proco"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698239184,"creation_date":1698235912,"question_id":77359359,"body_markdown":"External data must change depending on whether the checkbox in the table is selected. However, when checking multiple checkboxes simultaneously, multiple events occur in one checkbox.\r\n\r\n[enter image description here][1]\r\n\r\nex) After enabling checkbox 1, enable checkbox 2 -\\&gt; A total of 3 events occur.  \r\nconsole result : \r\n\r\n```\r\nCheckbox selected : true\r\nCheckbox selected : false\r\nCheckbox selected : true\r\n```\r\n\r\nI don&#39;t know why this happens.\r\n\r\nCode for test:\r\n\r\n```\r\nimport java.awt.BorderLayout;\r\nimport java.awt.Color;\r\n\r\n - List item\r\n\r\nimport java.awt.Component;\r\nimport java.awt.event.ItemEvent;\r\nimport java.awt.event.ItemListener;\r\n\r\nimport javax.swing.DefaultCellEditor;\r\nimport javax.swing.JCheckBox;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JLabel;\r\nimport javax.swing.JPanel;\r\nimport javax.swing.JScrollPane;\r\nimport javax.swing.JTable;\r\nimport javax.swing.table.DefaultTableCellRenderer;\r\nimport javax.swing.table.DefaultTableModel;\r\n\r\npublic class TableTest extends JFrame {\r\n\tprivate final Object[] colNames = { &quot;ChkBox&quot;, &quot;Name&quot;, &quot;Age&quot;, &quot;Sex&quot; };\r\n\tprivate Object[][] datas = { { false, &quot;Jamse&quot;, &quot;20&quot;, &quot;Male&quot; }, { false, &quot;Ben&quot;, &quot;18&quot;, &quot;Female&quot; } };\r\n\r\n\tpublic TableTest() {\r\n\t\tsuper(&quot;JTable Tester&quot;);\r\n\t\tsetDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\r\n\t\tJPanel panel = new JPanel(new BorderLayout());\r\n\r\n\t\tDefaultTableModel dtm = new DefaultTableModel(datas, colNames);\r\n\t\tJTable table = new JTable(dtm);\r\n\r\n\t\ttable.getColumn(&quot;ChkBox&quot;).setCellRenderer(dcr);\r\n\r\n\t\tJCheckBox box = new JCheckBox();\r\n\t\tbox.setHorizontalAlignment(JLabel.CENTER);\r\n\t\tbox.addItemListener(new ItemListener() {\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void itemStateChanged(ItemEvent e) {\r\n\t\t\t\tSystem.out.println(&quot;Checkbox selected : &quot; + box.isSelected());\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\ttable.getColumn(&quot;ChkBox&quot;).setCellEditor(new DefaultCellEditor(box));\r\n\r\n\t\tJScrollPane pane = new JScrollPane(table);\r\n\t\tpanel.add(pane);\r\n\t\tsetContentPane(panel);\r\n\t\tpack();\r\n\t\tsetVisible(true);\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tnew TableTest();\r\n\t}\r\n\r\n\tDefaultTableCellRenderer dcr = new DefaultTableCellRenderer() {\r\n\t\tpublic Component getTableCellRendererComponent(JTable table, Object value, boolean isSelected, boolean hasFocus, int row, int column) {\r\n\t\t\tJCheckBox box = new JCheckBox();\r\n\t\t\tbox.setBackground(Color.white);\r\n\t\t\tbox.setSelected(((Boolean) value).booleanValue());\r\n\t\t\tbox.setHorizontalAlignment(JLabel.CENTER);\r\n\t\t\treturn box;\r\n\t\t}\r\n\t}\r\n\r\n}\r\n```\r\n\r\nI tried moving the location of the ItemListener inside the CellRenender, but the result was the same.\r\n\r\n\r\n\r\n```\r\nDefaultTableCellRenderer dcr = new DefaultTableCellRenderer() {\r\n\tpublic Component getTableCellRendererComponent(JTable table, Object value, boolean isSelected, boolean hasFocus, int row, int column) {\r\n\t\tJCheckBox box = new JCheckBox();\r\n\t\tbox.setBackground(Color.white);\r\n\t\tbox.setSelected(((Boolean) value).booleanValue());\r\n\t\tbox.setHorizontalAlignment(JLabel.CENTER);\r\n\r\n\t\tbox.addItemListener(new ItemListener() {\r\n\t\t\t@Override\r\n\t\t\tpublic void itemStateChanged(ItemEvent e) {\r\n\t\t\t\tSystem.out.println(&quot;Checkbox selected : &quot; + box.isSelected());\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\treturn box;\r\n\t}\r\n};\r\n```\r\n\r\nSomeone said that the setSelected method was the problem, so I commented out the setSelected method in DefaultTableCellRenderer, but the problem was still there, except that the checkbox was not displayed properly.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/h1z4k.png","title":"JCheckbox in JTable occure itemlistener event twice on click","body":"<p>External data must change depending on whether the checkbox in the table is selected. However, when checking multiple checkboxes simultaneously, multiple events occur in one checkbox.</p>\n<p><a href=\"https://i.stack.imgur.com/h1z4k.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>ex) After enabling checkbox 1, enable checkbox 2 -&gt; A total of 3 events occur.<br />\nconsole result :</p>\n<pre><code>Checkbox selected : true\nCheckbox selected : false\nCheckbox selected : true\n</code></pre>\n<p>I don't know why this happens.</p>\n<p>Code for test:</p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Color;\n\n - List item\n\nimport java.awt.Component;\nimport java.awt.event.ItemEvent;\nimport java.awt.event.ItemListener;\n\nimport javax.swing.DefaultCellEditor;\nimport javax.swing.JCheckBox;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.JScrollPane;\nimport javax.swing.JTable;\nimport javax.swing.table.DefaultTableCellRenderer;\nimport javax.swing.table.DefaultTableModel;\n\npublic class TableTest extends JFrame {\n    private final Object[] colNames = { &quot;ChkBox&quot;, &quot;Name&quot;, &quot;Age&quot;, &quot;Sex&quot; };\n    private Object[][] datas = { { false, &quot;Jamse&quot;, &quot;20&quot;, &quot;Male&quot; }, { false, &quot;Ben&quot;, &quot;18&quot;, &quot;Female&quot; } };\n\n    public TableTest() {\n        super(&quot;JTable Tester&quot;);\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n        JPanel panel = new JPanel(new BorderLayout());\n\n        DefaultTableModel dtm = new DefaultTableModel(datas, colNames);\n        JTable table = new JTable(dtm);\n\n        table.getColumn(&quot;ChkBox&quot;).setCellRenderer(dcr);\n\n        JCheckBox box = new JCheckBox();\n        box.setHorizontalAlignment(JLabel.CENTER);\n        box.addItemListener(new ItemListener() {\n\n            @Override\n            public void itemStateChanged(ItemEvent e) {\n                System.out.println(&quot;Checkbox selected : &quot; + box.isSelected());\n            }\n        });\n\n        table.getColumn(&quot;ChkBox&quot;).setCellEditor(new DefaultCellEditor(box));\n\n        JScrollPane pane = new JScrollPane(table);\n        panel.add(pane);\n        setContentPane(panel);\n        pack();\n        setVisible(true);\n    }\n\n    public static void main(String[] args) {\n        new TableTest();\n    }\n\n    DefaultTableCellRenderer dcr = new DefaultTableCellRenderer() {\n        public Component getTableCellRendererComponent(JTable table, Object value, boolean isSelected, boolean hasFocus, int row, int column) {\n            JCheckBox box = new JCheckBox();\n            box.setBackground(Color.white);\n            box.setSelected(((Boolean) value).booleanValue());\n            box.setHorizontalAlignment(JLabel.CENTER);\n            return box;\n        }\n    }\n\n}\n</code></pre>\n<p>I tried moving the location of the ItemListener inside the CellRenender, but the result was the same.</p>\n<pre><code>DefaultTableCellRenderer dcr = new DefaultTableCellRenderer() {\n    public Component getTableCellRendererComponent(JTable table, Object value, boolean isSelected, boolean hasFocus, int row, int column) {\n        JCheckBox box = new JCheckBox();\n        box.setBackground(Color.white);\n        box.setSelected(((Boolean) value).booleanValue());\n        box.setHorizontalAlignment(JLabel.CENTER);\n\n        box.addItemListener(new ItemListener() {\n            @Override\n            public void itemStateChanged(ItemEvent e) {\n                System.out.println(&quot;Checkbox selected : &quot; + box.isSelected());\n            }\n        });\n\n        return box;\n    }\n};\n</code></pre>\n<p>Someone said that the setSelected method was the problem, so I commented out the setSelected method in DefaultTableCellRenderer, but the problem was still there, except that the checkbox was not displayed properly.</p>\n"},{"tags":["java","eclipse","debugging","localhost"],"comments":[{"owner":{"account_id":137237,"reputation":13989,"user_id":341291,"accept_rate":76,"display_name":"Axel"},"score":0,"creation_date":1395216960,"post_id":22499763,"comment_id":34231207,"body_markdown":"Are you trying to use the remote debugger? Don&#39;t do that if you don&#39;t have to. How do you start your program for debugging?","body":"Are you trying to use the remote debugger? Don&#39;t do that if you don&#39;t have to. How do you start your program for debugging?"},{"owner":{"account_id":1028612,"reputation":1675,"user_id":1037363,"accept_rate":20,"display_name":"Prasobh.Kollattu"},"score":1,"creation_date":1395217165,"post_id":22499763,"comment_id":34231311,"body_markdown":"Could you please post the error trace.Which server you are using ?.Ideally the project source added to the server for debugging and the skip debugging option should not be enabled.","body":"Could you please post the error trace.Which server you are using ?.Ideally the project source added to the server for debugging and the skip debugging option should not be enabled."},{"owner":{"account_id":4194923,"reputation":41,"user_id":3436553,"display_name":"user3436553"},"score":0,"creation_date":1395217545,"post_id":22499763,"comment_id":34231491,"body_markdown":"Well, I just click on the debug button (F11). I never configured anything for the debugging.","body":"Well, I just click on the debug button (F11). I never configured anything for the debugging."},{"owner":{"account_id":4194923,"reputation":41,"user_id":3436553,"display_name":"user3436553"},"score":0,"creation_date":1395218352,"post_id":22499763,"comment_id":34231924,"body_markdown":"I&#39;m kinda new to eclipse. I just downloaded it and began learning java programming. I just set a breakpoint and click on the debug button. After I click on the resume, it shows the error I mentioned in the debug window and doesn&#39;t let me resume again or see the values of the variables. The resume button etc become grey and can&#39;t be clicked anymore. I never configured it to use the so-called remote debugger. I just click on the debug button.","body":"I&#39;m kinda new to eclipse. I just downloaded it and began learning java programming. I just set a breakpoint and click on the debug button. After I click on the resume, it shows the error I mentioned in the debug window and doesn&#39;t let me resume again or see the values of the variables. The resume button etc become grey and can&#39;t be clicked anymore. I never configured it to use the so-called remote debugger. I just click on the debug button."}],"owner":{"account_id":4194923,"reputation":41,"user_id":3436553,"display_name":"user3436553"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1541,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1698239174,"creation_date":1395216668,"question_id":22499763,"body_markdown":"Whenever I set a breakpoint in eclipse (java), and resume it, it gives an error in the debug window:\r\n\r\n    &lt;disconnected&gt; MyProgram at localhost:20878\r\n\r\nThe number after &quot;localhost&quot; is random and changes each time I debug. This is really preventing me from making my projects.\r\nI searched the web a lot and couldn&#39;t find an answer for my problem.\r\n","title":"Port of localhost keeps changing during Eclipse debugging","body":"<p>Whenever I set a breakpoint in eclipse (java), and resume it, it gives an error in the debug window:</p>\n<pre><code>&lt;disconnected&gt; MyProgram at localhost:20878\n</code></pre>\n<p>The number after &quot;localhost&quot; is random and changes each time I debug. This is really preventing me from making my projects.\nI searched the web a lot and couldn't find an answer for my problem.</p>\n"},{"tags":["java","spring","hibernate","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":7673258,"reputation":1688,"user_id":6200354,"display_name":"atish.s"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698239062,"creation_date":1698239062,"answer_id":77359744,"question_id":77358108,"body_markdown":"I presume you want to get the posts made by a user (given a user id). Hence the statement\r\n\r\n&gt; 2. I know I can use a method findAllByUser(User user), but I&#39;m interested\r\n&gt; in getting an entity by id\r\n\r\nI suggest you remove the method `getUserId()` from `Post`. \r\n\r\n`List&lt;Post&gt; findAllByUserId(Long id);` will still work despite not having the method `getUserId()` in `Post`.\r\n\r\nYou can also rename it to `List&lt;Post&gt; findAllByUser_Id(Long id);` as well, to highlight that the `Id` is from the entity `User`.\r\n\r\nFor more info on how spring does it, best to refer to the [spring data jpa&#39;s documentation][1]. \r\n\r\n\r\n  [1]: https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.query-methods.query-property-expressions","title":"Spring JPA derived queries when entity has getter for associated entity id","body":"<p>I presume you want to get the posts made by a user (given a user id). Hence the statement</p>\n<blockquote>\n<ol start=\"2\">\n<li>I know I can use a method findAllByUser(User user), but I'm interested\nin getting an entity by id</li>\n</ol>\n</blockquote>\n<p>I suggest you remove the method <code>getUserId()</code> from <code>Post</code>.</p>\n<p><code>List&lt;Post&gt; findAllByUserId(Long id);</code> will still work despite not having the method <code>getUserId()</code> in <code>Post</code>.</p>\n<p>You can also rename it to <code>List&lt;Post&gt; findAllByUser_Id(Long id);</code> as well, to highlight that the <code>Id</code> is from the entity <code>User</code>.</p>\n<p>For more info on how spring does it, best to refer to the <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.query-methods.query-property-expressions\" rel=\"nofollow noreferrer\">spring data jpa's documentation</a>.</p>\n"}],"owner":{"account_id":28518496,"reputation":11,"user_id":21827545,"display_name":"Nofer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1698239062,"creation_date":1698224898,"question_id":77358108,"body_markdown":"I have two entities\r\n\r\n```\r\n@Entity\r\npublic class Post{\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    public Long id;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;user_id&quot;)\r\n    private User user;\r\n}\r\n\r\n\r\n@Entity\r\npublic class User{\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    public Long id;\r\n\r\n    @OneToMany(mappedBy = &quot;user&quot;, cascade = CascadeType.ALL, fetch = FetchType.LAZY)\r\n    private List&lt;Post&gt; posts= new ArrayList&lt;&gt;();\r\n}\r\n```\r\n\r\nthere is also a repository\r\n\r\n\r\n```\r\n@Repository\r\npublic interface PostRepository extends JpaRepository&lt;Post, Long&gt; {\r\n  List&lt;Post&gt; findAllByUserId(Long id);\r\n}\r\n```\r\n\r\nit all works. But when I need to get the id Post.user.id and I add a method to the class Post\r\n\r\n```\r\npublic Long getUserId(){\r\n        return user== null ? null : user.getId();\r\n    }\r\n```\r\nthen the method findAllByUserId stops working (IllegalArgumentException: Unable to locate Attribute  with the the given name UserId).\r\nIs there a way to overcome this error? Or is there a more convenient method to get the ID of a related entity?\r\n\r\n\r\n\r\n1) I tried putting an annotation @Transient on the method getUserId, it didn&#39;t help\r\n2) I know I can use a method findAllByUser(User user), but I&#39;m interested in getting an entity by id\r\n3) I know I can use @Query but that would be too verbose\r\n4) the only way I found is to rename the method, for example call it _getUserId, but maybe there is another way?","title":"Spring JPA derived queries when entity has getter for associated entity id","body":"<p>I have two entities</p>\n<pre><code>@Entity\npublic class Post{\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    public Long id;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;user_id&quot;)\n    private User user;\n}\n\n\n@Entity\npublic class User{\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    public Long id;\n\n    @OneToMany(mappedBy = &quot;user&quot;, cascade = CascadeType.ALL, fetch = FetchType.LAZY)\n    private List&lt;Post&gt; posts= new ArrayList&lt;&gt;();\n}\n</code></pre>\n<p>there is also a repository</p>\n<pre><code>@Repository\npublic interface PostRepository extends JpaRepository&lt;Post, Long&gt; {\n  List&lt;Post&gt; findAllByUserId(Long id);\n}\n</code></pre>\n<p>it all works. But when I need to get the id Post.user.id and I add a method to the class Post</p>\n<pre><code>public Long getUserId(){\n        return user== null ? null : user.getId();\n    }\n</code></pre>\n<p>then the method findAllByUserId stops working (IllegalArgumentException: Unable to locate Attribute  with the the given name UserId).\nIs there a way to overcome this error? Or is there a more convenient method to get the ID of a related entity?</p>\n<ol>\n<li>I tried putting an annotation @Transient on the method getUserId, it didn't help</li>\n<li>I know I can use a method findAllByUser(User user), but I'm interested in getting an entity by id</li>\n<li>I know I can use @Query but that would be too verbose</li>\n<li>the only way I found is to rename the method, for example call it _getUserId, but maybe there is another way?</li>\n</ol>\n"},{"tags":["java","android","android-webview"],"comments":[{"owner":{"account_id":13680618,"reputation":514,"user_id":9871059,"display_name":"Blind Kai"},"score":0,"creation_date":1565385917,"post_id":57436954,"comment_id":101352043,"body_markdown":"I just tried to run your code and it works fine. The only problem that I know was about HTTP/HTTPS but in my case both worked properly. Maybe you would be able to get solution here: [link](https://stackoverflow.com/a/26977516/9871059)","body":"I just tried to run your code and it works fine. The only problem that I know was about HTTP/HTTPS but in my case both worked properly. Maybe you would be able to get solution here: <a href=\"https://stackoverflow.com/a/26977516/9871059\">link</a>"},{"owner":{"account_id":16395581,"reputation":39,"user_id":11843229,"display_name":"personX"},"score":0,"creation_date":1565386114,"post_id":57436954,"comment_id":101352102,"body_markdown":"Did www.google.com actually show up or did an empty screen show?","body":"Did www.google.com actually show up or did an empty screen show?"},{"owner":{"account_id":13680618,"reputation":514,"user_id":9871059,"display_name":"Blind Kai"},"score":0,"creation_date":1565386158,"post_id":57436954,"comment_id":101352117,"body_markdown":"for me it works even without URL changes. I had problems with SSL certificate previously in other page.","body":"for me it works even without URL changes. I had problems with SSL certificate previously in other page."},{"owner":{"account_id":16395581,"reputation":39,"user_id":11843229,"display_name":"personX"},"score":0,"creation_date":1565386816,"post_id":57436954,"comment_id":101352300,"body_markdown":"which ssl certificate? what does that mean? how can i fix it in my code?","body":"which ssl certificate? what does that mean? how can i fix it in my code?"},{"owner":{"account_id":13680618,"reputation":514,"user_id":9871059,"display_name":"Blind Kai"},"score":0,"creation_date":1565387169,"post_id":57436954,"comment_id":101352395,"body_markdown":"You could check the link in previous comment. It solves most number of problems with that. Otherwise I don&#39;t know how to help.","body":"You could check the link in previous comment. It solves most number of problems with that. Otherwise I don&#39;t know how to help."},{"owner":{"account_id":16395581,"reputation":39,"user_id":11843229,"display_name":"personX"},"score":0,"creation_date":1565387211,"post_id":57436954,"comment_id":101352407,"body_markdown":"I can see the url when I run it in terminal but the url is not actually showing up on an android screen. Just a blank screen.","body":"I can see the url when I run it in terminal but the url is not actually showing up on an android screen. Just a blank screen."},{"owner":{"account_id":16395581,"reputation":39,"user_id":11843229,"display_name":"personX"},"score":0,"creation_date":1565388982,"post_id":57436954,"comment_id":101352778,"body_markdown":"I fixed it. I had to have my webview in relative layout. Thanks though.","body":"I fixed it. I had to have my webview in relative layout. Thanks though."}],"answers":[{"tags":[],"owner":{"account_id":2428017,"reputation":79,"user_id":2119557,"display_name":"User23"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1565389159,"creation_date":1565389159,"answer_id":57437723,"question_id":57436954,"body_markdown":"I too tried your Code. it is working fine and good.There may be a chances of issue in fragmentManager. Did you checked the view is visible or not","title":"Android webview not loading url?","body":"<p>I too tried your Code. it is working fine and good.There may be a chances of issue in fragmentManager. Did you checked the view is visible or not</p>\n"}],"owner":{"account_id":16395581,"reputation":39,"user_id":11843229,"display_name":"personX"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":258,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1698239029,"creation_date":1565383710,"question_id":57436954,"body_markdown":"I have a webview set up but when I click on the item, an empty fragment shows up where the actual web item is supposed to be. I have tried loading my urls on mobile browser and they work fine. I have an internet permission in android manifest. \r\n\r\nweb view layout file\r\n``` \r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.activities.HomeActivity&quot;&gt;\r\n\r\n    &lt;WebView\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:id=&quot;@+id/webView&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n        app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\n\r\nwebview fragment\r\n```\r\npublic class WebViewDetailsFragment extends Fragment {\r\n\r\n    private WebView detailsWebView;\r\n    private String articleSource;\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        // Inflate the layout for this fragment\r\n        return inflater.inflate(R.layout.fragment_web_view_details, container, false);\r\n    }\r\n\r\n    @Override\r\n    public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\r\n        detailsWebView = view.findViewById(R.id.webView);\r\n        detailsWebView.getSettings().setLoadsImagesAutomatically(true);\r\n        detailsWebView.getSettings().setJavaScriptEnabled(true);\r\n        detailsWebView.getSettings().setUseWideViewPort(true);\r\n        detailsWebView.getSettings().setLoadWithOverviewMode(true);\r\n        detailsWebView.setScrollBarStyle(View.SCROLLBARS_INSIDE_OVERLAY);\r\n        // Configure the client to use when opening URLs\r\n        detailsWebView.setWebViewClient(new WebViewClient());\r\n        setItems();\r\n        detailsWebView.loadUrl(articleSource);\r\n\r\n\r\n    }\r\n\r\n    private void setItems(){\r\n        NewsArticle newsArticle = NewsFragment.news.get(NewsAdapter.pos);\r\n        articleSource = &quot;https://www.google.com&quot;;\r\n    }\r\n}\r\n```","title":"Android webview not loading url?","body":"<p>I have a webview set up but when I click on the item, an empty fragment shows up where the actual web item is supposed to be. I have tried loading my urls on mobile browser and they work fine. I have an internet permission in android manifest. </p>\n\n<p>web view layout file</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    tools:context=\".activities.HomeActivity\"&gt;\n\n    &lt;WebView\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:id=\"@+id/webView\"\n        app:layout_constraintBottom_toBottomOf=\"parent\"\n        app:layout_constraintLeft_toLeftOf=\"parent\"\n        app:layout_constraintRight_toRightOf=\"parent\"\n        app:layout_constraintTop_toTopOf=\"parent\" /&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n\n<p>webview fragment</p>\n\n<pre><code>public class WebViewDetailsFragment extends Fragment {\n\n    private WebView detailsWebView;\n    private String articleSource;\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        // Inflate the layout for this fragment\n        return inflater.inflate(R.layout.fragment_web_view_details, container, false);\n    }\n\n    @Override\n    public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\n        detailsWebView = view.findViewById(R.id.webView);\n        detailsWebView.getSettings().setLoadsImagesAutomatically(true);\n        detailsWebView.getSettings().setJavaScriptEnabled(true);\n        detailsWebView.getSettings().setUseWideViewPort(true);\n        detailsWebView.getSettings().setLoadWithOverviewMode(true);\n        detailsWebView.setScrollBarStyle(View.SCROLLBARS_INSIDE_OVERLAY);\n        // Configure the client to use when opening URLs\n        detailsWebView.setWebViewClient(new WebViewClient());\n        setItems();\n        detailsWebView.loadUrl(articleSource);\n\n\n    }\n\n    private void setItems(){\n        NewsArticle newsArticle = NewsFragment.news.get(NewsAdapter.pos);\n        articleSource = \"https://www.google.com\";\n    }\n}\n</code></pre>\n"},{"tags":["java","githooks","pre-commit-hook","pre-commit","spotbugs"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1697023325,"post_id":77272312,"comment_id":136226604,"body_markdown":"This is a copy of [your old question](https://stackoverflow.com/q/77259533/8681) but it&#39;s much better written this time. Good!","body":"This is a copy of <a href=\"https://stackoverflow.com/q/77259533/8681\">your old question</a> but it&#39;s much better written this time. Good!"},{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1697023488,"post_id":77272312,"comment_id":136226655,"body_markdown":"Can you try running Spotbugs using your build system (probably Gradle)? Then you can simply check the process exit code to determine success.","body":"Can you try running Spotbugs using your build system (probably Gradle)? Then you can simply check the process exit code to determine success."},{"owner":{"account_id":7682828,"reputation":504,"user_id":5821591,"accept_rate":40,"display_name":"Hitesh Kumar"},"score":0,"creation_date":1697028153,"post_id":77272312,"comment_id":136227572,"body_markdown":"Thanks @Jorn, I tried from build and it is showing errors but need to do it on commit as per the requirement.","body":"Thanks @Jorn, I tried from build and it is showing errors but need to do it on commit as per the requirement."},{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1697028204,"post_id":77272312,"comment_id":136227583,"body_markdown":"Yes. My suggestion was to run the Gradle task *from inside the commit hook script*.","body":"Yes. My suggestion was to run the Gradle task <i>from inside the commit hook script</i>."},{"owner":{"account_id":7682828,"reputation":504,"user_id":5821591,"accept_rate":40,"display_name":"Hitesh Kumar"},"score":0,"creation_date":1697028636,"post_id":77272312,"comment_id":136227673,"body_markdown":"yes, I will try it Thanks. running above single command is simple. Any idea why I am getting that error.","body":"yes, I will try it Thanks. running above single command is simple. Any idea why I am getting that error."},{"owner":{"account_id":7682828,"reputation":504,"user_id":5821591,"accept_rate":40,"display_name":"Hitesh Kumar"},"score":0,"creation_date":1697029445,"post_id":77272312,"comment_id":136227850,"body_markdown":"if I run same command using cmd it is working and generating the report","body":"if I run same command using cmd it is working and generating the report"},{"owner":{"account_id":39208,"reputation":251220,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1697030695,"post_id":77272312,"comment_id":136228157,"body_markdown":"`.jar` files cannot be executed directly. You need to run a jar file with `java -jar path/to/jar`. The error &quot;line 1: PK\\003\\004&quot; shows that you are trying to run the jar as executable or script and this won&#39;t work. Note that you don&#39;t need `bash` to run the script, `sh` will do just fine. Additionally, you should quote parameters when expanding!","body":"<code>.jar</code> files cannot be executed directly. You need to run a jar file with <code>java -jar path&#47;to&#47;jar</code>. The error &quot;line 1: PK\\003\\004&quot; shows that you are trying to run the jar as executable or script and this won&#39;t work. Note that you don&#39;t need <code>bash</code> to run the script, <code>sh</code> will do just fine. Additionally, you should quote parameters when expanding!"},{"owner":{"account_id":7682828,"reputation":504,"user_id":5821591,"accept_rate":40,"display_name":"Hitesh Kumar"},"score":0,"creation_date":1697031223,"post_id":77272312,"comment_id":136228276,"body_markdown":"Thanks @knittl, when I tried java -jar, it got stuck. bash script is the ask and we are using windows.","body":"Thanks @knittl, when I tried java -jar, it got stuck. bash script is the ask and we are using windows."},{"owner":{"account_id":39208,"reputation":251220,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1697031776,"post_id":77272312,"comment_id":136228398,"body_markdown":"What does &quot;bash script is the ask&quot; mean? Windows doesn&#39;t really matter, since your script is defined to be interpreted by `/bin/bash` (but it doesn&#39;t use any bash features, so `/bin/sh` should suffice). What does &quot;stuck&quot; mean? Can you execute the jar manually? If so, the same command should work in a script","body":"What does &quot;bash script is the ask&quot; mean? Windows doesn&#39;t really matter, since your script is defined to be interpreted by <code>&#47;bin&#47;bash</code> (but it doesn&#39;t use any bash features, so <code>&#47;bin&#47;sh</code> should suffice). What does &quot;stuck&quot; mean? Can you execute the jar manually? If so, the same command should work in a script"},{"owner":{"account_id":7682828,"reputation":504,"user_id":5821591,"accept_rate":40,"display_name":"Hitesh Kumar"},"score":0,"creation_date":1697032784,"post_id":77272312,"comment_id":136228652,"body_markdown":"Ok got it, I changed to sh and Yes, able to execute it manually from cmd without using java -jar and it is working. Same is falling while committing the code. with above error. Thank you","body":"Ok got it, I changed to sh and Yes, able to execute it manually from cmd without using java -jar and it is working. Same is falling while committing the code. with above error. Thank you"},{"owner":{"account_id":7682828,"reputation":504,"user_id":5821591,"accept_rate":40,"display_name":"Hitesh Kumar"},"score":0,"creation_date":1697032935,"post_id":77272312,"comment_id":136228686,"body_markdown":"when I tried with java -jar nothing is happing and I have to close the git bash terminal, it hang","body":"when I tried with java -jar nothing is happing and I have to close the git bash terminal, it hang"}],"answers":[{"tags":[],"owner":{"account_id":7682828,"reputation":504,"user_id":5821591,"accept_rate":40,"display_name":"Hitesh Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698238853,"creation_date":1698238853,"answer_id":77359713,"question_id":77272312,"body_markdown":"#Run SpotBugs\r\n\r\n    **java -jar** $SPOTBUGS_PATH -textui -effort:max -xml=outReport.xml $PROJECT_PATH\r\n\r\nWe have to use java -jar to execute the spotbug jar file.\r\n\r\n@knittl you are correct we have to use java -jar, it was taking time because first time it is generating around 31 MB file.\r\n\r\nTo reduce the file use below, it reduced to 200 kb.\r\n\r\n&gt; -nested:false\r\n\r\nThe entire working script:\r\n\r\n    #!/bin/sh\r\n    \r\n    # Define the location of your project&#39;s source code\r\n    PROJECT_PATH=/project/location\r\n    \r\n    # Define the location of the SpotBugs executable\r\n    SPOTBUGS_PATH=/spotbug/path\r\n    \r\n    #current Date\r\n    NOW=$(date +&quot;%m%d%Y%H%M%S&quot;)\r\n    \r\n    echo &quot;SPOTBUGS_PATH: $SPOTBUGS_PATH&quot;\r\n    echo &quot;PROJECT_PATH: $PROJECT_PATH&quot;\r\n    echo &quot;Current_Date: $NOW&quot;\r\n    \r\n    #Run SpotBugs\r\n    java -jar $SPOTBUGS_PATH -textui -effort:max -xml=bugReport_$NOW.xml -nested:false $PROJECT_PATH\r\n    \r\n    \r\n    # Check if SpotBugs found any issues\r\n    if [ $? -eq 0 ]; then\r\n    \r\n      echo &quot;No SpotBugs issues found.&quot;\r\n    \r\n      exit 0\r\n    \r\n    else\r\n    \r\n      echo &quot;Found issues&quot;\r\n    \r\n      exit 1\r\n    \r\n    fi\r\n\r\n\r\n","title":"pre commit script for code review using spotbug","body":"<p>#Run SpotBugs</p>\n<pre><code>**java -jar** $SPOTBUGS_PATH -textui -effort:max -xml=outReport.xml $PROJECT_PATH\n</code></pre>\n<p>We have to use java -jar to execute the spotbug jar file.</p>\n<p>@knittl you are correct we have to use java -jar, it was taking time because first time it is generating around 31 MB file.</p>\n<p>To reduce the file use below, it reduced to 200 kb.</p>\n<blockquote>\n<p>-nested:false</p>\n</blockquote>\n<p>The entire working script:</p>\n<pre><code>#!/bin/sh\n\n# Define the location of your project's source code\nPROJECT_PATH=/project/location\n\n# Define the location of the SpotBugs executable\nSPOTBUGS_PATH=/spotbug/path\n\n#current Date\nNOW=$(date +&quot;%m%d%Y%H%M%S&quot;)\n\necho &quot;SPOTBUGS_PATH: $SPOTBUGS_PATH&quot;\necho &quot;PROJECT_PATH: $PROJECT_PATH&quot;\necho &quot;Current_Date: $NOW&quot;\n\n#Run SpotBugs\njava -jar $SPOTBUGS_PATH -textui -effort:max -xml=bugReport_$NOW.xml -nested:false $PROJECT_PATH\n\n\n# Check if SpotBugs found any issues\nif [ $? -eq 0 ]; then\n\n  echo &quot;No SpotBugs issues found.&quot;\n\n  exit 0\n\nelse\n\n  echo &quot;Found issues&quot;\n\n  exit 1\n\nfi\n</code></pre>\n"}],"owner":{"account_id":7682828,"reputation":504,"user_id":5821591,"accept_rate":40,"display_name":"Hitesh Kumar"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1698238853,"creation_date":1697021148,"question_id":77272312,"body_markdown":"I am trying to write a script for a code review using a pre-commit hook. I am looking for a script that will run on every commit and perform the code review using SpotBugs or a similar tool. I have already tried the SpotBugs command-line `spotbugs-4.7.3\\lib\\spotbugs.jar`. My project is in Java 8, and I am using Windows. Thanks.\r\n\r\npre-commit script for code review using spotBug:\r\n\r\n    #!/bin/bash\r\n    # Run SpotBugs on Java files to check for issues before committing.\r\n    # SpotBugs executable location\r\n    SPOTBUGS_PATH=/spotbug/path\r\n    \r\n    # your project&#39;s source code location\r\n    PROJECT_PATH=/your/project\r\n        \r\n    echo &quot;SPOTBUGS_PATH: $SPOTBUGS_PATH&quot;\r\n    echo &quot;PROJECT_PATH: $PROJECT_PATH&quot;\r\n    \r\n    #Run SpotBugs\r\n    $SPOTBUGS_PATH -textui -effort:max -xml=outReport.xml $PROJECT_PATH\r\n    \r\n    \r\n    # Check for any issues\r\n    if [ $? -eq 0 ]; then\r\n    \r\n      echo &quot;No bugs found.&quot;\r\n    \r\n      exit 0\r\n    \r\n    else\r\n    \r\n      echo &quot;Bugs found . Commit aborted.&quot;\r\n    \r\n      exit 1\r\n    \r\n    fi\r\n\r\nAfter running this I am getting an empty file. if I tried manually it is showing around 600 bugs. looking for correct script which will review and generate outfile.\r\n\r\nError while committing the files:\r\n\r\n    /spotbugs.jar: line 1: $&#39;PK\\003\\004&#39;: command not found\r\n    /spotbugs.jar: line 2: $&#39;\\b\\bA\\002&#39;: command not found\r\n    /spotbugs.jar: line 3: syntax error near unexpected token `)&#39;\r\n    /spotbugs.jar: line 3: `AMETA-INF/MANIFEST.MFmR0|+};!D&amp;||A\txg3#~ICUYIY)A\tP*;\\+%+yn,^|*u2t:P0 18b7KQ7Y` z)EH*_oB,b]m:Xfh3=2Vkc-:Awg&#39;Y^28[zk@hqZI{1+=}n@ece]\\g1&amp;;+I96,&#39;KVPmsOcb&amp;?ajf\t?1,ewXY)A~0m@Y\tgj|W/):y{}##O,*N[5eQPK&#39;\r\n    SpotBugs found issues. Commit aborted.","title":"pre commit script for code review using spotbug","body":"<p>I am trying to write a script for a code review using a pre-commit hook. I am looking for a script that will run on every commit and perform the code review using SpotBugs or a similar tool. I have already tried the SpotBugs command-line <code>spotbugs-4.7.3\\lib\\spotbugs.jar</code>. My project is in Java 8, and I am using Windows. Thanks.</p>\n<p>pre-commit script for code review using spotBug:</p>\n<pre><code>#!/bin/bash\n# Run SpotBugs on Java files to check for issues before committing.\n# SpotBugs executable location\nSPOTBUGS_PATH=/spotbug/path\n\n# your project's source code location\nPROJECT_PATH=/your/project\n    \necho &quot;SPOTBUGS_PATH: $SPOTBUGS_PATH&quot;\necho &quot;PROJECT_PATH: $PROJECT_PATH&quot;\n\n#Run SpotBugs\n$SPOTBUGS_PATH -textui -effort:max -xml=outReport.xml $PROJECT_PATH\n\n\n# Check for any issues\nif [ $? -eq 0 ]; then\n\n  echo &quot;No bugs found.&quot;\n\n  exit 0\n\nelse\n\n  echo &quot;Bugs found . Commit aborted.&quot;\n\n  exit 1\n\nfi\n</code></pre>\n<p>After running this I am getting an empty file. if I tried manually it is showing around 600 bugs. looking for correct script which will review and generate outfile.</p>\n<p>Error while committing the files:</p>\n<pre><code>/spotbugs.jar: line 1: $'PK\\003\\004': command not found\n/spotbugs.jar: line 2: $'\\b\\bA\\002': command not found\n/spotbugs.jar: line 3: syntax error near unexpected token `)'\n/spotbugs.jar: line 3: `AMETA-INF/MANIFEST.MFmR0|+};!D&amp;||A  xg3#~ICUYIY)A    P*;\\+%+yn,^|*u2t:P0 18b7KQ7Y` z)EH*_oB,b]m:Xfh3=2Vkc-:Awg'Y^28[zk@hqZI{1+=}n@ece]\\g1&amp;;+I96,'KVPmsOcb&amp;?ajf    ?1,ewXY)A~0m@Y  gj|W/):y{}##O,*N[5eQPK'\nSpotBugs found issues. Commit aborted.\n</code></pre>\n"},{"tags":["java","web-services"],"owner":{"account_id":20769216,"reputation":1,"user_id":22801026,"display_name":"Charan Kodela"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698238426,"creation_date":1698238426,"question_id":77359649,"body_markdown":"I am a novice in programming. Currently we have a service that will be triggered only with the click of a button that generates a Id. but my team wants to create a webservice to run it as a webservice. How do i create a shadow service from the same one.\r\n\r\nDon&#39;t know how to do it.","title":"How do i create a web service from on Demand Service?","body":"<p>I am a novice in programming. Currently we have a service that will be triggered only with the click of a button that generates a Id. but my team wants to create a webservice to run it as a webservice. How do i create a shadow service from the same one.</p>\n<p>Don't know how to do it.</p>\n"},{"tags":["java","rsa","x509certificate","x509","signing"],"comments":[{"owner":{"account_id":5669864,"reputation":412,"user_id":4484851,"display_name":"Sam"},"score":0,"creation_date":1436298209,"post_id":31275509,"comment_id":50549620,"body_markdown":"Thanks for replying,Yes I added the code in question itself. Its failing when unmarshal happening only for client signed xml.But if I use any unsigned xml file with same certificate,do sign and validate it is giving above error.","body":"Thanks for replying,Yes I added the code in question itself. Its failing when unmarshal happening only for client signed xml.But if I use any unsigned xml file with same certificate,do sign and validate it is giving above error."},{"owner":{"account_id":886454,"reputation":1935,"user_id":925792,"accept_rate":68,"display_name":"Pat B"},"score":0,"creation_date":1436298645,"post_id":31275509,"comment_id":50549877,"body_markdown":"look [here][1]\r\n\r\n\r\n  [1]: http://stackoverflow.com/questions/10594000/when-i-try-to-convert-a-string-with-certificate-exception-is-raised\r\nI think it will solve your problem.","body":"look [here][1]        [1]: <a href=\"http://stackoverflow.com/questions/10594000/when-i-try-to-convert-a-string-with-certificate-exception-is-raised\" title=\"when i try to convert a string with certificate exception is raised\">stackoverflow.com/questions/10594000/&hellip;</a>  I think it will solve your problem."},{"owner":{"account_id":5669864,"reputation":412,"user_id":4484851,"display_name":"Sam"},"score":0,"creation_date":1436299049,"post_id":31275509,"comment_id":50550115,"body_markdown":"1.Thanks for replying but it&#39;s related with SSL connection which I doesnt need,2.This is earlier comment edit &quot;But if I use any unsigned xml file with same certificate,do sign and validate it is working.&quot; typo issue.","body":"1.Thanks for replying but it&#39;s related with SSL connection which I doesnt need,2.This is earlier comment edit &quot;But if I use any unsigned xml file with same certificate,do sign and validate it is working.&quot; typo issue."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1583886955,"post_id":31275509,"comment_id":107262059,"body_markdown":"The certificate is empty in the XML. What&#39;s does the XML look like? How was it created?","body":"The certificate is empty in the XML. What&#39;s does the XML look like? How was it created?"}],"answers":[{"tags":[],"owner":{"account_id":5669864,"reputation":412,"user_id":4484851,"display_name":"Sam"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1437405281,"creation_date":1437404889,"answer_id":31520011,"question_id":31275509,"body_markdown":"After going through so many blogs nothing helped as such. Finally we confirmed the way client is doing his encryption and used the same jars used for our verification. I am not sure if this is correct answer or not but may help somebody who is trying hard to resolve this issue. \r\nIt may give you some clue if not able to resolve above error after going through many sites.\r\nSo try to use same jars which used for client encryption and get the compatible private key for your public key and add to pk12 file. Convert pk12 to jks which you can use for encryption and verification too which resolved our issue.\r\nSome process too\r\n\r\n    #**Create PKCS12 keystore from private key and public certificate.**\r\n    openssl pkcs12 -export -name myservercert -in selfsigned.crt -inkey server.key -out keystore.p12\r\n    #**Convert PKCS12 keystore into a JKS keystore**\r\n    keytool -importkeystore -destkeystore mykeystore.jks -srckeystore keystore.p12 -srcstoretype pkcs12 -alias myservercer\r\n\r\nGood luck guys.","title":"Could not parse certificate: java.io.IOException: Empty input X509Certificate","body":"<p>After going through so many blogs nothing helped as such. Finally we confirmed the way client is doing his encryption and used the same jars used for our verification. I am not sure if this is correct answer or not but may help somebody who is trying hard to resolve this issue. \nIt may give you some clue if not able to resolve above error after going through many sites.\nSo try to use same jars which used for client encryption and get the compatible private key for your public key and add to pk12 file. Convert pk12 to jks which you can use for encryption and verification too which resolved our issue.\nSome process too</p>\n\n<pre><code>#**Create PKCS12 keystore from private key and public certificate.**\nopenssl pkcs12 -export -name myservercert -in selfsigned.crt -inkey server.key -out keystore.p12\n#**Convert PKCS12 keystore into a JKS keystore**\nkeytool -importkeystore -destkeystore mykeystore.jks -srckeystore keystore.p12 -srcstoretype pkcs12 -alias myservercer\n</code></pre>\n\n<p>Good luck guys.</p>\n"},{"tags":[],"owner":{"account_id":1853395,"reputation":477,"user_id":1679446,"display_name":"israelC"},"down_vote_count":0,"up_vote_count":32,"is_accepted":false,"score":32,"last_activity_date":1462948571,"creation_date":1462948571,"answer_id":37154775,"question_id":31275509,"body_markdown":"It&#39;s been a while since this post but I came here looking for this issue. In my case, the key was that the certificate was in a Base64-String.getBytes[] instead of a DECODED-Base64-String.getBytes[].\r\n\r\nHope it helps someone :)","title":"Could not parse certificate: java.io.IOException: Empty input X509Certificate","body":"<p>It's been a while since this post but I came here looking for this issue. In my case, the key was that the certificate was in a Base64-String.getBytes[] instead of a DECODED-Base64-String.getBytes[].</p>\n\n<p>Hope it helps someone :)</p>\n"},{"tags":[],"owner":{"account_id":13150033,"reputation":1514,"user_id":9498942,"display_name":"Filip Hanik VMware"},"down_vote_count":4,"up_vote_count":7,"is_accepted":false,"score":3,"last_activity_date":1576776225,"creation_date":1576776225,"answer_id":59414318,"question_id":31275509,"body_markdown":"Error can be as simple as not having the **BEGIN** and **END** tags in your certificate set. \r\n\r\n\r\n    -----BEGIN CERTIFICATE-----\r\n    your cert data here\r\n    -----END CERTIFICATE-----","title":"Could not parse certificate: java.io.IOException: Empty input X509Certificate","body":"<p>Error can be as simple as not having the <strong>BEGIN</strong> and <strong>END</strong> tags in your certificate set. </p>\n\n<pre><code>-----BEGIN CERTIFICATE-----\nyour cert data here\n-----END CERTIFICATE-----\n</code></pre>\n"},{"tags":[],"owner":{"account_id":356125,"reputation":481,"user_id":695455,"accept_rate":50,"display_name":"Martin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698238196,"creation_date":1698238196,"answer_id":77359624,"question_id":31275509,"body_markdown":"The error occurs when the content of the certificate is not correct.\r\nReference:\r\n[enter link description here][1]\r\n\r\n\r\n  [1]: https://support.okta.com/help/s/question/0D54z0000747vWjCAI/received-error-error-please-review-the-form-to-correct-the-following-errors-there-was-an-error-reading-the-certificate-file-could-not-parse-certificate-javaioioexception-empty-input-when-uploading-new-saml-cert?language=en_US","title":"Could not parse certificate: java.io.IOException: Empty input X509Certificate","body":"<p>The error occurs when the content of the certificate is not correct.\nReference:\n<a href=\"https://support.okta.com/help/s/question/0D54z0000747vWjCAI/received-error-error-please-review-the-form-to-correct-the-following-errors-there-was-an-error-reading-the-certificate-file-could-not-parse-certificate-javaioioexception-empty-input-when-uploading-new-saml-cert?language=en_US\" rel=\"nofollow noreferrer\">enter link description here</a></p>\n"}],"owner":{"account_id":5669864,"reputation":412,"user_id":4484851,"display_name":"Sam"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50492,"favorite_count":0,"down_vote_count":0,"up_vote_count":22,"answer_count":4,"score":22,"last_activity_date":1698238196,"creation_date":1436290211,"question_id":31275509,"body_markdown":"I am getting the error given below when parsing the signature. Anybody has idea why the error is showing?\r\n\r\nNote that: \r\n\r\n   1. Using the same certificate I signed my own XML and verified which is working fine. That mean there is no issue with certificate.\r\n\r\n   2. Client provided signed document not able to validate.\r\n\r\nErrors:\r\n\r\n    Exception in thread &quot;main&quot; javax.xml.crypto.MarshalException: Cannot create X509Certificate\r\n\tat org.jcp.xml.dsig.internal.dom.DOMX509Data.unmarshalX509Certificate(DOMX509Data.java:225)\r\n\tat org.jcp.xml.dsig.internal.dom.DOMX509Data.&lt;init&gt;(DOMX509Data.java:116)\r\n\tat org.jcp.xml.dsig.internal.dom.DOMKeyInfo.&lt;init&gt;(DOMKeyInfo.java:116)\r\n\tat org.jcp.xml.dsig.internal.dom.DOMXMLSignature.&lt;init&gt;(DOMXMLSignature.java:150)\r\n\tat org.jcp.xml.dsig.internal.dom.DOMXMLSignatureFactory.unmarshal(DOMXMLSignatureFactory.java:173)\r\n\tat org.jcp.xml.dsig.internal.dom.DOMXMLSignatureFactory.unmarshalXMLSignature(DOMXMLSignatureFactory.java:137)\r\n\tat com.signing.ValidateSignedXML.main(ValidateSignedXML.java:126)\r\n    Caused by: java.security.cert.CertificateException: Could not parse certificate: java.io.IOException: Empty input\r\n\tat sun.security.provider.X509Factory.engineGenerateCertificate(X509Factory.java:104)\r\n\tat java.security.cert.CertificateFactory.generateCertificate(CertificateFactory.java:339)\r\n\tat org.jcp.xml.dsig.internal.dom.DOMX509Data.unmarshalX509Certificate(DOMX509Data.java:223)\r\n\t... 6 more\r\n    Caused by: java.io.IOException: Empty input\r\n\tat sun.security.provider.X509Factory.engineGenerateCertificate(X509Factory.java:101)\r\n\r\n\r\n**Adding the code here for reference** \r\n\r\n    package com.signing;\r\n    \r\n    import java.io.FileInputStream;\r\n    import java.security.KeyStore;\r\n    import java.security.cert.X509Certificate;\r\n    import java.util.Iterator;\r\n    \r\n    import javax.xml.crypto.dsig.Reference;\r\n    import javax.xml.crypto.dsig.XMLSignature;\r\n    import javax.xml.crypto.dsig.XMLSignatureFactory;\r\n    import javax.xml.crypto.dsig.dom.DOMValidateContext;\r\n    import javax.xml.parsers.DocumentBuilderFactory;\r\n    \r\n    import org.w3c.dom.Document;\r\n    import org.w3c.dom.Node;\r\n    import org.w3c.dom.NodeList;\r\n    \r\n    public class ValidateSignedXML {\r\n    \r\n    \t/**\r\n    \t * @param args\r\n    \t * @throws Exception \r\n    \t */\r\n    /**\r\n    \t * @param args\r\n    \t * @throws Exception \r\n    \t */\r\n    \tpublic static void main(String[] args) throws Exception {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\t\r\n    \t\t// Load the KeyStore and get the signing key and certificate.\r\n    \t\tKeyStore ks = KeyStore.getInstance(KeyStore.getDefaultType());\r\n    \t\tks.load(new FileInputStream(&quot;C:\\\\Program Files\\\\Java\\\\jre1.8.0_31\\\\bin\\\\newstore8.jks&quot;), &quot;changeit7&quot;.toCharArray());\r\n    \t\r\n    \t\t\t\r\n    \t\tKeyStore.PrivateKeyEntry keyEntry =\r\n    \t\t    (KeyStore.PrivateKeyEntry) ks.getEntry\r\n    \t\t        (&quot;newkey8&quot;, new KeyStore.PasswordProtection(&quot;changeit7&quot;.toCharArray()));\r\n    \t\tX509Certificate cert = (X509Certificate) keyEntry.getCertificate();\r\n    \t\tXMLSignatureFactory fac = XMLSignatureFactory.getInstance(&quot;DOM&quot;);\r\n    \r\n    \t\t\r\n    \t\t//Load the signed document.\r\n    \t\tDocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();\r\n    \t\tdbf.setNamespaceAware(true);\r\n    \t\tDocument doc = dbf.newDocumentBuilder().parse\r\n    \t\t    (new FileInputStream(&quot;C:\\\\src\\\\com\\\\signing\\\\signed.xml&quot;));\r\n    \t\r\n    \r\n    \t\t// Find Signature element.\r\n    \t\tNodeList nl =\r\n    \t\t    doc.getElementsByTagNameNS(XMLSignature.XMLNS, &quot;Signature&quot;);\r\n    \t\tif (nl.getLength() == 0) {\r\n    \t\t    throw new Exception(&quot;Cannot find Signature element&quot;);\r\n    \t\t}else{\r\n    \t\t\t/*System.out.println(&quot;---- Start of Print Tag ----\\n&quot;);\r\n    \t\t\tfor(int k=0;k&lt;nl.getLength();k++){\r\n    \t             printTags((Node)nl.item(k));\r\n    \t         }\r\n    \t\t\tSystem.out.println(&quot;---- End of Print Tag ----\\n&quot;);*/\r\n    \t\t}\r\n    \r\n    \t\t// Create a DOMValidateContext and specify a KeySelector\r\n    \t\t// and document context.\r\n    \t\tDOMValidateContext valContext = new DOMValidateContext\r\n    \t\t    (new X509KeySelector(), nl.item(0));\r\n    \r\n    \t\t// Unmarshal the XMLSignature.\r\n    \t\tXMLSignature signatures = fac.unmarshalXMLSignature(valContext);\r\n    \r\n    \t\t// Validate the XMLSignature.\r\n    \t\tboolean coreValidity = signatures.validate(valContext);\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;Signature Validate :&quot;+coreValidity);\r\n    \t\t\r\n    \t\t// Check core validation status.\r\n\t\t\tif (coreValidity == false) {\r\n\t\t\t\tString validateError;\r\n\t\t\t\tvalidateError = &quot;Signature core validation status:false&quot;;\r\n\t\t\t\tboolean sv = signatures.getSignatureValue().validate(valContext);\r\n\t\t\t\tvalidateError = validateError + &quot; | Signature validation status:&quot; + sv;\r\n\t\t\t\tif (sv == false || true) {\r\n\t\t\t\t\tvalidateError = validateError + &quot; | References: &quot;;\r\n\t\t\t\t\t// Check the validation status of each Reference.\r\n\t\t\t\t\tIterator g = signatures.getSignedInfo().getReferences().iterator();\r\n\t\t\t\t\tfor (int j = 0; g.hasNext(); j++) {\r\n    \r\n\t\t\t\t\t\tReference r = (Reference) g.next();\r\n\t\t\t\t\t\tboolean refValid = r.validate(valContext);\r\n\t\t\t\t\t\tvalidateError = validateError + &quot;{ref[&quot; + r.getURI() + &quot;] validity status: &quot; + refValid + &quot;}&quot;;\r\n\t\t\t\t\t}\r\n    \t\t\t}\r\n    \t\t\tthrow new Exception(validateError);\r\n\t\t\t} else {\r\n\t\t\t\tSystem.out.println(&quot;Signature passed core validation&quot;);\r\n    \t\t}\r\n    \r\n    \t}\r\n    \t\r\n    }\r\n\r\n","title":"Could not parse certificate: java.io.IOException: Empty input X509Certificate","body":"<p>I am getting the error given below when parsing the signature. Anybody has idea why the error is showing?</p>\n\n<p>Note that: </p>\n\n<ol>\n<li><p>Using the same certificate I signed my own XML and verified which is working fine. That mean there is no issue with certificate.</p></li>\n<li><p>Client provided signed document not able to validate.</p></li>\n</ol>\n\n<p>Errors:</p>\n\n<pre><code>Exception in thread \"main\" javax.xml.crypto.MarshalException: Cannot create X509Certificate\nat org.jcp.xml.dsig.internal.dom.DOMX509Data.unmarshalX509Certificate(DOMX509Data.java:225)\nat org.jcp.xml.dsig.internal.dom.DOMX509Data.&lt;init&gt;(DOMX509Data.java:116)\nat org.jcp.xml.dsig.internal.dom.DOMKeyInfo.&lt;init&gt;(DOMKeyInfo.java:116)\nat org.jcp.xml.dsig.internal.dom.DOMXMLSignature.&lt;init&gt;(DOMXMLSignature.java:150)\nat org.jcp.xml.dsig.internal.dom.DOMXMLSignatureFactory.unmarshal(DOMXMLSignatureFactory.java:173)\nat org.jcp.xml.dsig.internal.dom.DOMXMLSignatureFactory.unmarshalXMLSignature(DOMXMLSignatureFactory.java:137)\nat com.signing.ValidateSignedXML.main(ValidateSignedXML.java:126)\nCaused by: java.security.cert.CertificateException: Could not parse certificate: java.io.IOException: Empty input\nat sun.security.provider.X509Factory.engineGenerateCertificate(X509Factory.java:104)\nat java.security.cert.CertificateFactory.generateCertificate(CertificateFactory.java:339)\nat org.jcp.xml.dsig.internal.dom.DOMX509Data.unmarshalX509Certificate(DOMX509Data.java:223)\n... 6 more\nCaused by: java.io.IOException: Empty input\nat sun.security.provider.X509Factory.engineGenerateCertificate(X509Factory.java:101)\n</code></pre>\n\n<p><strong>Adding the code here for reference</strong> </p>\n\n<pre><code>package com.signing;\n\nimport java.io.FileInputStream;\nimport java.security.KeyStore;\nimport java.security.cert.X509Certificate;\nimport java.util.Iterator;\n\nimport javax.xml.crypto.dsig.Reference;\nimport javax.xml.crypto.dsig.XMLSignature;\nimport javax.xml.crypto.dsig.XMLSignatureFactory;\nimport javax.xml.crypto.dsig.dom.DOMValidateContext;\nimport javax.xml.parsers.DocumentBuilderFactory;\n\nimport org.w3c.dom.Document;\nimport org.w3c.dom.Node;\nimport org.w3c.dom.NodeList;\n\npublic class ValidateSignedXML {\n\n    /**\n     * @param args\n     * @throws Exception \n     */\n/**\n     * @param args\n     * @throws Exception \n     */\n    public static void main(String[] args) throws Exception {\n        // TODO Auto-generated method stub\n\n        // Load the KeyStore and get the signing key and certificate.\n        KeyStore ks = KeyStore.getInstance(KeyStore.getDefaultType());\n        ks.load(new FileInputStream(\"C:\\\\Program Files\\\\Java\\\\jre1.8.0_31\\\\bin\\\\newstore8.jks\"), \"changeit7\".toCharArray());\n\n\n        KeyStore.PrivateKeyEntry keyEntry =\n            (KeyStore.PrivateKeyEntry) ks.getEntry\n                (\"newkey8\", new KeyStore.PasswordProtection(\"changeit7\".toCharArray()));\n        X509Certificate cert = (X509Certificate) keyEntry.getCertificate();\n        XMLSignatureFactory fac = XMLSignatureFactory.getInstance(\"DOM\");\n\n\n        //Load the signed document.\n        DocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();\n        dbf.setNamespaceAware(true);\n        Document doc = dbf.newDocumentBuilder().parse\n            (new FileInputStream(\"C:\\\\src\\\\com\\\\signing\\\\signed.xml\"));\n\n\n        // Find Signature element.\n        NodeList nl =\n            doc.getElementsByTagNameNS(XMLSignature.XMLNS, \"Signature\");\n        if (nl.getLength() == 0) {\n            throw new Exception(\"Cannot find Signature element\");\n        }else{\n            /*System.out.println(\"---- Start of Print Tag ----\\n\");\n            for(int k=0;k&lt;nl.getLength();k++){\n                 printTags((Node)nl.item(k));\n             }\n            System.out.println(\"---- End of Print Tag ----\\n\");*/\n        }\n\n        // Create a DOMValidateContext and specify a KeySelector\n        // and document context.\n        DOMValidateContext valContext = new DOMValidateContext\n            (new X509KeySelector(), nl.item(0));\n\n        // Unmarshal the XMLSignature.\n        XMLSignature signatures = fac.unmarshalXMLSignature(valContext);\n\n        // Validate the XMLSignature.\n        boolean coreValidity = signatures.validate(valContext);\n\n        System.out.println(\"Signature Validate :\"+coreValidity);\n\n        // Check core validation status.\n        if (coreValidity == false) {\n            String validateError;\n            validateError = \"Signature core validation status:false\";\n            boolean sv = signatures.getSignatureValue().validate(valContext);\n            validateError = validateError + \" | Signature validation status:\" + sv;\n            if (sv == false || true) {\n                validateError = validateError + \" | References: \";\n                // Check the validation status of each Reference.\n                Iterator g = signatures.getSignedInfo().getReferences().iterator();\n                for (int j = 0; g.hasNext(); j++) {\n\n                    Reference r = (Reference) g.next();\n                    boolean refValid = r.validate(valContext);\n                    validateError = validateError + \"{ref[\" + r.getURI() + \"] validity status: \" + refValid + \"}\";\n                }\n            }\n            throw new Exception(validateError);\n        } else {\n            System.out.println(\"Signature passed core validation\");\n        }\n\n    }\n\n}\n</code></pre>\n"},{"tags":["java","excel","apache-poi","apache-poi-4"],"comments":[{"owner":{"account_id":29745286,"reputation":11,"user_id":22796525,"display_name":"Clovis Carvalho"},"score":0,"creation_date":1698174987,"post_id":77354712,"comment_id":136371181,"body_markdown":"@pj-fanning help","body":"@pj-fanning help"},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":1,"creation_date":1698213593,"post_id":77354712,"comment_id":136375001,"body_markdown":"Don&#39;t mix jars of different Apache POI versions (poi-ooxml 5.2.2 poi-scratchpad 5.2.4). See [FAQ](https://poi.apache.org/help/faq.html) -&gt; 19. Can I mix POI jars from different versions?.","body":"Don&#39;t mix jars of different Apache POI versions (poi-ooxml 5.2.2 poi-scratchpad 5.2.4). See <a href=\"https://poi.apache.org/help/faq.html\" rel=\"nofollow noreferrer\">FAQ</a> -&gt; 19. Can I mix POI jars from different versions?."},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1698213599,"post_id":77354712,"comment_id":136375004,"body_markdown":"But the exception tells that `CTWorkbook` has no member `Factory`. Have you compiled your code against poi-ooxml-lite 5.2.2? Or are you using pre compiled code which was compiled against ooxml-schemas? There it was `public static final class Factory` but now it is `final class Factory` only. Thus `CTWorkbook.Factory` of poi-ooxml-lite 5.2.2 ist different from `CTWorkbook.Factory` of ooxml-schemas. Try re-compiling your code against 5.2.2-version jars.","body":"But the exception tells that <code>CTWorkbook</code> has no member <code>Factory</code>. Have you compiled your code against poi-ooxml-lite 5.2.2? Or are you using pre compiled code which was compiled against ooxml-schemas? There it was <code>public static final class Factory</code> but now it is <code>final class Factory</code> only. Thus <code>CTWorkbook.Factory</code> of poi-ooxml-lite 5.2.2 ist different from <code>CTWorkbook.Factory</code> of ooxml-schemas. Try re-compiling your code against 5.2.2-version jars."},{"owner":{"account_id":29745286,"reputation":11,"user_id":22796525,"display_name":"Clovis Carvalho"},"score":0,"creation_date":1698236347,"post_id":77354712,"comment_id":136379110,"body_markdown":"@AxelRichter \nIt was my mistake, I&#39;m all using the same version 5.2.2 and xmlbeans 5.0.3","body":"@AxelRichter  It was my mistake, I&#39;m all using the same version 5.2.2 and xmlbeans 5.0.3"}],"owner":{"account_id":29745286,"reputation":11,"user_id":22796525,"display_name":"Clovis Carvalho"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1698237695,"creation_date":1698173696,"question_id":77354712,"body_markdown":"I&#39;m trying to create a service that receives an array of data and creates an xlsx spreadsheet that will then be returned as base64.\r\nHowever, I can&#39;t get the libs to work... I tried other versions and the errors were different.\r\n\r\nJava 8,\r\nweblogic 12,\r\nintellijIDEA\r\n\r\n[![Dependency][1]][1]\r\n\r\n\r\nwhen the exception is thrown?\r\n\r\nAfter invoking the service from the resource during instantiation new XSSFWorkbook();\r\n\r\n`Workbook workbook = new XSSFWorkbook();`\r\n\r\nException;\r\n```\r\norg.glassfish.jersey.server.ContainerException: java.lang.NoSuchFieldError: Factory\r\n\tat org.glassfish.jersey.servlet.internal.ResponseWriter.rethrow(ResponseWriter.java:278)\r\n\tat org.glassfish.jersey.servlet.internal.ResponseWriter.failure(ResponseWriter.java:260)\r\n\tat org.glassfish.jersey.server.ServerRuntime$Responder.process(ServerRuntime.java:509)\r\n\tat org.glassfish.jersey.server.ServerRuntime$2.run(ServerRuntime.java:334)\r\n\tat org.glassfish.jersey.internal.Errors$1.call(Errors.java:271)\r\n\tTruncated. see log file for complete stacktrace\r\nCaused By: java.lang.NoSuchFieldError: Factory\r\n\tat org.apache.poi.xssf.usermodel.XSSFWorkbook.onWorkbookCreate(XSSFWorkbook.java:475)\r\n\tat org.apache.poi.xssf.usermodel.XSSFWorkbook.&lt;init&gt;(XSSFWorkbook.java:232)\r\n\tat org.apache.poi.xssf.usermodel.XSSFWorkbook.&lt;init&gt;(XSSFWorkbook.java:226)\r\n\tat org.apache.poi.xssf.usermodel.XSSFWorkbook.&lt;init&gt;(XSSFWorkbook.java:214)\r\n```\r\n\r\n\r\n\r\nBeing able to help solve my problem and with the knowledge gained help other colleagues.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/C35Tf.png","title":"Apache-poi ooxml Exception org.glassfish.jersey.server.ContainerException: java.lang.NoSuchFieldError: Factory","body":"<p>I'm trying to create a service that receives an array of data and creates an xlsx spreadsheet that will then be returned as base64.\nHowever, I can't get the libs to work... I tried other versions and the errors were different.</p>\n<p>Java 8,\nweblogic 12,\nintellijIDEA</p>\n<p><a href=\"https://i.stack.imgur.com/C35Tf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/C35Tf.png\" alt=\"Dependency\" /></a></p>\n<p>when the exception is thrown?</p>\n<p>After invoking the service from the resource during instantiation new XSSFWorkbook();</p>\n<p><code>Workbook workbook = new XSSFWorkbook();</code></p>\n<p>Exception;</p>\n<pre><code>org.glassfish.jersey.server.ContainerException: java.lang.NoSuchFieldError: Factory\n    at org.glassfish.jersey.servlet.internal.ResponseWriter.rethrow(ResponseWriter.java:278)\n    at org.glassfish.jersey.servlet.internal.ResponseWriter.failure(ResponseWriter.java:260)\n    at org.glassfish.jersey.server.ServerRuntime$Responder.process(ServerRuntime.java:509)\n    at org.glassfish.jersey.server.ServerRuntime$2.run(ServerRuntime.java:334)\n    at org.glassfish.jersey.internal.Errors$1.call(Errors.java:271)\n    Truncated. see log file for complete stacktrace\nCaused By: java.lang.NoSuchFieldError: Factory\n    at org.apache.poi.xssf.usermodel.XSSFWorkbook.onWorkbookCreate(XSSFWorkbook.java:475)\n    at org.apache.poi.xssf.usermodel.XSSFWorkbook.&lt;init&gt;(XSSFWorkbook.java:232)\n    at org.apache.poi.xssf.usermodel.XSSFWorkbook.&lt;init&gt;(XSSFWorkbook.java:226)\n    at org.apache.poi.xssf.usermodel.XSSFWorkbook.&lt;init&gt;(XSSFWorkbook.java:214)\n</code></pre>\n<p>Being able to help solve my problem and with the knowledge gained help other colleagues.</p>\n"},{"tags":["java","mongodb","spring-data","mongotemplate"],"comments":[{"owner":{"account_id":8884226,"reputation":514,"user_id":6633045,"display_name":"phuongnq1995"},"score":0,"creation_date":1698245004,"post_id":77359536,"comment_id":136381151,"body_markdown":"https://stackoverflow.com/questions/41530270/auditing-with-spring-data-mongodb. Is it what are u looking for?","body":"<a href=\"https://stackoverflow.com/questions/41530270/auditing-with-spring-data-mongodb\" title=\"auditing with spring data mongodb\">stackoverflow.com/questions/41530270/&hellip;</a>. Is it what are u looking for?"}],"owner":{"account_id":1635471,"reputation":166,"user_id":1509097,"display_name":"ranban282"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698237353,"creation_date":1698237353,"question_id":77359536,"body_markdown":"I have a Java class \r\n\r\n        @Document(collection = &quot;vehicleCluster&quot;)\r\n        public class VehicleCluster {\r\n            private long imei;\r\n            private int clusterId;\r\n            private Instant insertTime;\r\n            private List&lt;Double&gt; lats;\r\n            private List&lt;Double&gt; longs;\r\n            private List&lt;Double&gt; odos;\r\n    }\r\n\r\nI wish to save the current time as &quot;insertTime&quot; when I save a document.I can, of course, set the value explicitly before inserting, but am unable to find a straightforward way to do this automatically using MongoTemplate. \r\n\r\nIs there a simple annotation I can use get this done? ","title":"Adding default value for instant in Mongodb using MongoTemplate","body":"<p>I have a Java class</p>\n<pre><code>    @Document(collection = &quot;vehicleCluster&quot;)\n    public class VehicleCluster {\n        private long imei;\n        private int clusterId;\n        private Instant insertTime;\n        private List&lt;Double&gt; lats;\n        private List&lt;Double&gt; longs;\n        private List&lt;Double&gt; odos;\n}\n</code></pre>\n<p>I wish to save the current time as &quot;insertTime&quot; when I save a document.I can, of course, set the value explicitly before inserting, but am unable to find a straightforward way to do this automatically using MongoTemplate.</p>\n<p>Is there a simple annotation I can use get this done?</p>\n"},{"tags":["java","android-studio","android-recyclerview"],"answers":[{"tags":[],"owner":{"account_id":18593139,"reputation":104,"user_id":13549882,"display_name":"Mathan Kumar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1590670145,"creation_date":1590670145,"answer_id":62065119,"question_id":62038054,"body_markdown":"Am solved this by using itext library\r\n```\r\nimplementation &#39;com.itextpdf:itextpdf:5.0.6&#39;\r\n```\r\nThen call with RecylerView\r\n\r\n```\r\npublic void generatePDF(RecyclerView view) {\r\n\r\n\r\n        RecyclerView.Adapter adapter = view.getAdapter();\r\n        int sie2=adapter.getItemCount();\r\n        if (sie2 == 0) {\r\n            Toast.makeText(this,&quot;No Transactions&quot;,Toast.LENGTH_LONG).show();\r\n        }else{\r\n        Bitmap bigBitmap = null;\r\n        if (adapter != null) {\r\n            int size = adapter.getItemCount();\r\n            int height = 0;\r\n            Paint paint = new Paint();\r\n            int iHeight = 0;\r\n            final int maxMemory = (int) (Runtime.getRuntime().maxMemory() / 1024);\r\n\r\n            // Use 1/8th of the available memory for this memory cache.\r\n            final int cacheSize = maxMemory / 8;\r\n            LruCache&lt;String, Bitmap&gt; bitmaCache = new LruCache&lt;&gt;(cacheSize);\r\n            for (int i = 0; i &lt; size; i++) {\r\n                RecyclerView.ViewHolder holder = adapter.createViewHolder(view, adapter.getItemViewType(i));\r\n                adapter.onBindViewHolder(holder, i);\r\n                holder.itemView.measure(View.MeasureSpec.makeMeasureSpec(view.getWidth(), View.MeasureSpec.EXACTLY),\r\n                        View.MeasureSpec.makeMeasureSpec(0, View.MeasureSpec.UNSPECIFIED));\r\n                holder.itemView.layout(0, 0, holder.itemView.getMeasuredWidth(), holder.itemView.getMeasuredHeight());\r\n                holder.itemView.setDrawingCacheEnabled(true);\r\n                holder.itemView.buildDrawingCache();\r\n                Bitmap drawingCache = holder.itemView.getDrawingCache();\r\n                if (drawingCache != null) {\r\n\r\n                    bitmaCache.put(String.valueOf(i), drawingCache);\r\n                }\r\n\r\n                height += holder.itemView.getMeasuredHeight();\r\n            }\r\n\r\n            bigBitmap = Bitmap.createBitmap(view.getMeasuredWidth(), height, Bitmap.Config.ARGB_8888);\r\n            Canvas bigCanvas = new Canvas(bigBitmap);\r\n            bigCanvas.drawColor(Color.WHITE);\r\n\r\n            Document document=new Document();\r\n\r\n            final File file = new File(Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOCUMENTS), &quot;MAT&quot;+System.currentTimeMillis()+&quot;.pdf&quot;);\r\n            try {\r\n                PdfWriter.getInstance(document, new FileOutputStream(file));\r\n            } catch (DocumentException | FileNotFoundException e) {\r\n                e.printStackTrace();\r\n            }\r\n\r\n            for (int i = 0; i &lt; size; i++) {\r\n\r\n                try {\r\n                    //Adding the content to the document\r\n                    Bitmap bmp = bitmaCache.get(String.valueOf(i));\r\n                    ByteArrayOutputStream stream = new ByteArrayOutputStream();\r\n                    bmp.compress(Bitmap.CompressFormat.PNG, 100, stream);\r\n                    com.itextpdf.text.Image image= com.itextpdf.text.Image.getInstance(stream.toByteArray());\r\n                    //Image image = Image.getInstance(stream.toByteArray());\r\n                    float scaler = ((document.getPageSize().getWidth() - document.leftMargin()\r\n                            - document.rightMargin() - 50) / image.getWidth()) * 100; // 0 means you have no indentation. If you have any, change it.\r\n                    image.scalePercent(scaler);\r\n                    image.setAlignment(com.itextpdf.text.Image.ALIGN_CENTER | com.itextpdf.text.Image.ALIGN_TOP);\r\n                    if (!document.isOpen()) {\r\n                        document.open();\r\n                    }\r\n                    document.add(image);\r\n\r\n                } catch (Exception ex) {\r\n                    Log.e(&quot;TAG-ORDER PRINT ERROR&quot;, ex.getMessage());\r\n                }\r\n            }\r\n\r\n            if (document.isOpen()) {\r\n                document.close();\r\n            }\r\n            // Set on UI Thread\r\n            runOnUiThread(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n\r\n                    android.app.AlertDialog.Builder builder = new android.app.AlertDialog.Builder(MainActivityAdminMain.this);\r\n                    builder.setTitle(&quot;Success&quot;)\r\n                            .setMessage(&quot;PDF File Generated Successfully.&quot;)\r\n                            .setIcon(android.R.drawable.ic_dialog_alert)\r\n                            .setPositiveButton(&quot;Open&quot;, new DialogInterface.OnClickListener() {\r\n                                public void onClick(DialogInterface dialog, int whichButton) {\r\n                                //    dialog.dismiss();\r\n                                    Intent target = new Intent(Intent.ACTION_VIEW);\r\n                                    target.setDataAndType(Uri.fromFile(file), &quot;application/pdf&quot;);\r\n                                    target.setFlags(Intent.FLAG_ACTIVITY_NO_HISTORY);\r\n\r\n                                    Intent intent56 = Intent.createChooser(target, &quot;Open File&quot;);\r\n                                    try {\r\n                                        startActivity(intent56);\r\n                                    } catch (ActivityNotFoundException e) {\r\n                                        Toast.makeText(MainActivityAdminMain.this,&quot;No PDF Viewer Installed.&quot;,Toast.LENGTH_LONG).show();\r\n\r\n                                    }\r\n                                }\r\n\r\n                            }).show();\r\n                }\r\n            });\r\n\r\n        }}\r\n\r\n    }\r\n```\r\n\r\n100% working.. This helps to anyone needs ","title":"RecylerView to pdf","body":"<p>Am solved this by using itext library</p>\n\n<pre><code>implementation 'com.itextpdf:itextpdf:5.0.6'\n</code></pre>\n\n<p>Then call with RecylerView</p>\n\n<pre><code>public void generatePDF(RecyclerView view) {\n\n\n        RecyclerView.Adapter adapter = view.getAdapter();\n        int sie2=adapter.getItemCount();\n        if (sie2 == 0) {\n            Toast.makeText(this,\"No Transactions\",Toast.LENGTH_LONG).show();\n        }else{\n        Bitmap bigBitmap = null;\n        if (adapter != null) {\n            int size = adapter.getItemCount();\n            int height = 0;\n            Paint paint = new Paint();\n            int iHeight = 0;\n            final int maxMemory = (int) (Runtime.getRuntime().maxMemory() / 1024);\n\n            // Use 1/8th of the available memory for this memory cache.\n            final int cacheSize = maxMemory / 8;\n            LruCache&lt;String, Bitmap&gt; bitmaCache = new LruCache&lt;&gt;(cacheSize);\n            for (int i = 0; i &lt; size; i++) {\n                RecyclerView.ViewHolder holder = adapter.createViewHolder(view, adapter.getItemViewType(i));\n                adapter.onBindViewHolder(holder, i);\n                holder.itemView.measure(View.MeasureSpec.makeMeasureSpec(view.getWidth(), View.MeasureSpec.EXACTLY),\n                        View.MeasureSpec.makeMeasureSpec(0, View.MeasureSpec.UNSPECIFIED));\n                holder.itemView.layout(0, 0, holder.itemView.getMeasuredWidth(), holder.itemView.getMeasuredHeight());\n                holder.itemView.setDrawingCacheEnabled(true);\n                holder.itemView.buildDrawingCache();\n                Bitmap drawingCache = holder.itemView.getDrawingCache();\n                if (drawingCache != null) {\n\n                    bitmaCache.put(String.valueOf(i), drawingCache);\n                }\n\n                height += holder.itemView.getMeasuredHeight();\n            }\n\n            bigBitmap = Bitmap.createBitmap(view.getMeasuredWidth(), height, Bitmap.Config.ARGB_8888);\n            Canvas bigCanvas = new Canvas(bigBitmap);\n            bigCanvas.drawColor(Color.WHITE);\n\n            Document document=new Document();\n\n            final File file = new File(Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOCUMENTS), \"MAT\"+System.currentTimeMillis()+\".pdf\");\n            try {\n                PdfWriter.getInstance(document, new FileOutputStream(file));\n            } catch (DocumentException | FileNotFoundException e) {\n                e.printStackTrace();\n            }\n\n            for (int i = 0; i &lt; size; i++) {\n\n                try {\n                    //Adding the content to the document\n                    Bitmap bmp = bitmaCache.get(String.valueOf(i));\n                    ByteArrayOutputStream stream = new ByteArrayOutputStream();\n                    bmp.compress(Bitmap.CompressFormat.PNG, 100, stream);\n                    com.itextpdf.text.Image image= com.itextpdf.text.Image.getInstance(stream.toByteArray());\n                    //Image image = Image.getInstance(stream.toByteArray());\n                    float scaler = ((document.getPageSize().getWidth() - document.leftMargin()\n                            - document.rightMargin() - 50) / image.getWidth()) * 100; // 0 means you have no indentation. If you have any, change it.\n                    image.scalePercent(scaler);\n                    image.setAlignment(com.itextpdf.text.Image.ALIGN_CENTER | com.itextpdf.text.Image.ALIGN_TOP);\n                    if (!document.isOpen()) {\n                        document.open();\n                    }\n                    document.add(image);\n\n                } catch (Exception ex) {\n                    Log.e(\"TAG-ORDER PRINT ERROR\", ex.getMessage());\n                }\n            }\n\n            if (document.isOpen()) {\n                document.close();\n            }\n            // Set on UI Thread\n            runOnUiThread(new Runnable() {\n                @Override\n                public void run() {\n\n                    android.app.AlertDialog.Builder builder = new android.app.AlertDialog.Builder(MainActivityAdminMain.this);\n                    builder.setTitle(\"Success\")\n                            .setMessage(\"PDF File Generated Successfully.\")\n                            .setIcon(android.R.drawable.ic_dialog_alert)\n                            .setPositiveButton(\"Open\", new DialogInterface.OnClickListener() {\n                                public void onClick(DialogInterface dialog, int whichButton) {\n                                //    dialog.dismiss();\n                                    Intent target = new Intent(Intent.ACTION_VIEW);\n                                    target.setDataAndType(Uri.fromFile(file), \"application/pdf\");\n                                    target.setFlags(Intent.FLAG_ACTIVITY_NO_HISTORY);\n\n                                    Intent intent56 = Intent.createChooser(target, \"Open File\");\n                                    try {\n                                        startActivity(intent56);\n                                    } catch (ActivityNotFoundException e) {\n                                        Toast.makeText(MainActivityAdminMain.this,\"No PDF Viewer Installed.\",Toast.LENGTH_LONG).show();\n\n                                    }\n                                }\n\n                            }).show();\n                }\n            });\n\n        }}\n\n    }\n</code></pre>\n\n<p>100% working.. This helps to anyone needs </p>\n"}],"owner":{"account_id":18593139,"reputation":104,"user_id":13549882,"display_name":"Mathan Kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":200,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":62065119,"answer_count":1,"score":0,"last_activity_date":1698237006,"creation_date":1590566043,"question_id":62038054,"body_markdown":"Hello am new to Android studio\r\nI have made recylerview for transaction details . I need to create pdf for this recylerview items. \r\nExample: I have 24 cardviews in recylerview so need to create pdf with each page 4 cardviews only . So totally I need to get pdf as 6 pages .\r\nHow to do that . Thanks in advance.\r\n[This is sample image of my view][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/G0FSZ.png \r\nAm passing below code\r\n\r\n```\r\nrecyclerView.measure(View.MeasureSpec.makeMeasureSpec(recyclerView.getWidth(),View.MeasureSpec.EXACTLY),View.MeasureSpec.makeMeasureSpec(0,View.MeasureSpec.UNSPECIFIED));\r\n               Bitmap bm=Bitmap.createBitmap(recyclerView.getWidth(),recyclerView.getMeasuredHeight(),Bitmap.Config.ARGB_8888);\r\n\r\n        \r\n\r\n   \r\n     String mpath2=&quot;/mnt/sdcard/mathanpaymentpdf&quot;;\r\n            \r\n\r\n     File imageFile = new File(mpath2);\r\n     PDFHelper pdfHelper = new PDFHelper(imageFile,this);\r\n               pdfHelper.saveImageToPDF(recyclerView,bm,&quot;mathan&quot;+System.currentTimeMillis());\r\n\r\n\r\n    public class PDFHelper {\r\n\r\n    private File mFolder;\r\n    private File mFile;\r\n    private Context mContext;\r\n\r\n    public PDFHelper(File folder, Context context) {\r\n\r\n        this.mContext = context;\r\n        this.mFolder = folder;\r\n\r\n        if(!mFolder.exists())\r\n            mFolder.mkdirs();\r\n    }\r\n\r\n    public void saveImageToPDF(View title, Bitmap bitmap, String filename) {\r\n\r\n        mFile = new File(mFolder, filename + &quot;.pdf&quot;);\r\n        if (!mFile.exists()) {\r\n            int height = title.getHeight() + bitmap.getHeight();\r\n            PdfDocument document = new PdfDocument();\r\n            PdfDocument.PageInfo pageInfo = new PdfDocument.PageInfo.Builder(bitmap.getWidth(), height, 1).create();\r\n            PdfDocument.Page page = document.startPage(pageInfo);\r\n            Canvas canvas = page.getCanvas();\r\n            title.draw(canvas);\r\n\r\n            canvas.drawBitmap(bitmap, null, new Rect(0, title.getHeight(), bitmap.getWidth(),bitmap.getHeight()), null);\r\n\r\n            document.finishPage(page);\r\n\r\n            try {\r\n                mFile.createNewFile();\r\n                OutputStream out = new FileOutputStream(mFile);\r\n                document.writeTo(out);\r\n                document.close();\r\n                out.close();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n\r\n    }\r\n    }\r\n```\r\n\r\nThis am tried am getting pdf on a single page only \r\nJust I need to split into multiple pages.\r\n\r\n**Note: I need code in java, not in kotlin**","title":"RecylerView to pdf","body":"<p>Hello am new to Android studio\nI have made recylerview for transaction details . I need to create pdf for this recylerview items. \nExample: I have 24 cardviews in recylerview so need to create pdf with each page 4 cardviews only . So totally I need to get pdf as 6 pages .\nHow to do that . Thanks in advance.\n<a href=\"https://i.stack.imgur.com/G0FSZ.png\" rel=\"nofollow noreferrer\">This is sample image of my view</a></p>\n\n<p>Am passing below code</p>\n\n<pre><code>recyclerView.measure(View.MeasureSpec.makeMeasureSpec(recyclerView.getWidth(),View.MeasureSpec.EXACTLY),View.MeasureSpec.makeMeasureSpec(0,View.MeasureSpec.UNSPECIFIED));\n               Bitmap bm=Bitmap.createBitmap(recyclerView.getWidth(),recyclerView.getMeasuredHeight(),Bitmap.Config.ARGB_8888);\n\n\n\n\n     String mpath2=\"/mnt/sdcard/mathanpaymentpdf\";\n\n\n     File imageFile = new File(mpath2);\n     PDFHelper pdfHelper = new PDFHelper(imageFile,this);\n               pdfHelper.saveImageToPDF(recyclerView,bm,\"mathan\"+System.currentTimeMillis());\n\n\n    public class PDFHelper {\n\n    private File mFolder;\n    private File mFile;\n    private Context mContext;\n\n    public PDFHelper(File folder, Context context) {\n\n        this.mContext = context;\n        this.mFolder = folder;\n\n        if(!mFolder.exists())\n            mFolder.mkdirs();\n    }\n\n    public void saveImageToPDF(View title, Bitmap bitmap, String filename) {\n\n        mFile = new File(mFolder, filename + \".pdf\");\n        if (!mFile.exists()) {\n            int height = title.getHeight() + bitmap.getHeight();\n            PdfDocument document = new PdfDocument();\n            PdfDocument.PageInfo pageInfo = new PdfDocument.PageInfo.Builder(bitmap.getWidth(), height, 1).create();\n            PdfDocument.Page page = document.startPage(pageInfo);\n            Canvas canvas = page.getCanvas();\n            title.draw(canvas);\n\n            canvas.drawBitmap(bitmap, null, new Rect(0, title.getHeight(), bitmap.getWidth(),bitmap.getHeight()), null);\n\n            document.finishPage(page);\n\n            try {\n                mFile.createNewFile();\n                OutputStream out = new FileOutputStream(mFile);\n                document.writeTo(out);\n                document.close();\n                out.close();\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        }\n\n    }\n    }\n</code></pre>\n\n<p>This am tried am getting pdf on a single page only \nJust I need to split into multiple pages.</p>\n\n<p><strong>Note: I need code in java, not in kotlin</strong></p>\n"},{"tags":["java","spring-boot","asynchronous","java.util.concurrent","completable-future"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1698225007,"post_id":77356843,"comment_id":136376899,"body_markdown":"So when you say it is working fine you mean it does exactly what it would do without the `@Async` annotation?","body":"So when you say it is working fine you mean it does exactly what it would do without the <code>@Async</code> annotation?"},{"owner":{"account_id":25610091,"reputation":3,"user_id":19383664,"display_name":"mysteryFruit"},"score":0,"creation_date":1698236341,"post_id":77356843,"comment_id":136379107,"body_markdown":"@Holger Yes. As per my understanding, the response time should be the max time of all the response times of each call. But that doesn&#39;t seem to be the case here","body":"@Holger Yes. As per my understanding, the response time should be the max time of all the response times of each call. But that doesn&#39;t seem to be the case here"},{"owner":{"account_id":18636208,"reputation":359,"user_id":13583054,"display_name":"Juliano Negri"},"score":0,"creation_date":1698236737,"post_id":77356843,"comment_id":136379202,"body_markdown":"Try changing @Async mechanism to Worker threads using CompletableFuture.supplyAsync().","body":"Try changing @Async mechanism to Worker threads using CompletableFuture.supplyAsync()."}],"answers":[{"tags":[],"owner":{"account_id":18636208,"reputation":359,"user_id":13583054,"display_name":"Juliano Negri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698236878,"creation_date":1698236878,"answer_id":77359472,"question_id":77356843,"body_markdown":"It seems that you are actually blocking on service.getResponse(interval.getLeft(), interval.getRight()). Therefore, you are not making concurrent calls to the endpoint.\r\n\r\nTry changing @Async mechanism to Worker threads using CompletableFuture.supplyAsync()\r\n\r\n    public CompletableFuture&lt;String&gt; fetchDataFromEndPoint(Pair&lt;String,String&gt; interval){\r\n        CompletableFuture&lt;String&gt; futureResponse =\r\n                CompletableFuture.supplyAsync(() -&gt; service.getResponse(interval.getLeft(), interval.getRight())); \r\n\r\n        return futureResponse;\r\n    }","title":"What&#39;s wrong with my function for making async calls to an endpoint and collecting responses?","body":"<p>It seems that you are actually blocking on service.getResponse(interval.getLeft(), interval.getRight()). Therefore, you are not making concurrent calls to the endpoint.</p>\n<p>Try changing @Async mechanism to Worker threads using CompletableFuture.supplyAsync()</p>\n<pre><code>public CompletableFuture&lt;String&gt; fetchDataFromEndPoint(Pair&lt;String,String&gt; interval){\n    CompletableFuture&lt;String&gt; futureResponse =\n            CompletableFuture.supplyAsync(() -&gt; service.getResponse(interval.getLeft(), interval.getRight())); \n\n    return futureResponse;\n}\n</code></pre>\n"}],"owner":{"account_id":25610091,"reputation":3,"user_id":19383664,"display_name":"mysteryFruit"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1698236878,"creation_date":1698212219,"question_id":77356843,"body_markdown":"I have a use-case where I need to hit an endpoint to fetch some data. The endpoint takes start-date-time and end-date-time as params and has a limitation that the duration between them can only be &lt;= 24hrs. So if I want to fetch data for a duration of more than 24hrs, I need to make individual api calls passing the divided intervals as params.\r\n\r\nI have come-up with below code using @Async annotation and it is fetching the data as required. But I am suspecting this is not executing/making the calls concurrently as the response time is increasing hugely as the no. of intervals increase.\r\n\r\n    public List&lt;Response&gt; makeAsyncCalls(Collection&lt;Pair&lt;LocalDateTime, LocalDateTime&gt;&gt; intervals) {\r\n\r\n        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss&quot;);\r\n        List&lt;CompletableFuture&lt;Response&gt;&gt; responses = new ArrayList&lt;&gt;();\r\n        intervals.stream()\r\n            .map((Pair&lt;LocalDateTime, LocalDateTime&gt; interval) -&gt; Pair.of(interval.getLeft().format(formatter),\r\n                interval.getRight().format(formatter))).forEach(timeInterval -&gt; {\r\n                try {\r\n                    responses.add(\r\n                        fetchDataFromEndPoint(timeInterval));\r\n                } catch (Exception e) {\r\n                    //throw some custom exception here\r\n                }\r\n            });\r\n        CompletableFuture&lt;Void&gt; completedFuture = CompletableFuture.allOf(responses.toArray(new CompletableFuture[0]));\r\n        if (completedFuture.isCompletedExceptionally()) {\r\n            //throw exception\r\n        }\r\n        return responses.stream().map(CompletableFuture::join).collect(toList());\r\n    }\r\n\r\n    @Async\r\n    public CompletableFuture&lt;Response&gt; fetchDataFromEndPoint(Pair&lt;String, String&gt; interval)\r\n                throws Exception {\r\n                //Here service class has the webTarget that makes the call to the endpoint.\r\n                Response response = service.getResponse(interval.getLeft(), interval.getRight());\r\n                return CompletableFuture.completedFuture(response);\r\n            }\r\n\r\n\r\nApprox response times:\r\n\r\n| Interval size | Response time |\r\n| -------- | -------------- |\r\n| 1        | 7~9 seconds    |\r\n| 3        | 22~23 seconds  |\r\n| 5        | ~30 seconds    |\r\n\r\n                 \r\n                 \r\n","title":"What&#39;s wrong with my function for making async calls to an endpoint and collecting responses?","body":"<p>I have a use-case where I need to hit an endpoint to fetch some data. The endpoint takes start-date-time and end-date-time as params and has a limitation that the duration between them can only be &lt;= 24hrs. So if I want to fetch data for a duration of more than 24hrs, I need to make individual api calls passing the divided intervals as params.</p>\n<p>I have come-up with below code using @Async annotation and it is fetching the data as required. But I am suspecting this is not executing/making the calls concurrently as the response time is increasing hugely as the no. of intervals increase.</p>\n<pre><code>public List&lt;Response&gt; makeAsyncCalls(Collection&lt;Pair&lt;LocalDateTime, LocalDateTime&gt;&gt; intervals) {\n\n    DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd'T'HH:mm:ss&quot;);\n    List&lt;CompletableFuture&lt;Response&gt;&gt; responses = new ArrayList&lt;&gt;();\n    intervals.stream()\n        .map((Pair&lt;LocalDateTime, LocalDateTime&gt; interval) -&gt; Pair.of(interval.getLeft().format(formatter),\n            interval.getRight().format(formatter))).forEach(timeInterval -&gt; {\n            try {\n                responses.add(\n                    fetchDataFromEndPoint(timeInterval));\n            } catch (Exception e) {\n                //throw some custom exception here\n            }\n        });\n    CompletableFuture&lt;Void&gt; completedFuture = CompletableFuture.allOf(responses.toArray(new CompletableFuture[0]));\n    if (completedFuture.isCompletedExceptionally()) {\n        //throw exception\n    }\n    return responses.stream().map(CompletableFuture::join).collect(toList());\n}\n\n@Async\npublic CompletableFuture&lt;Response&gt; fetchDataFromEndPoint(Pair&lt;String, String&gt; interval)\n            throws Exception {\n            //Here service class has the webTarget that makes the call to the endpoint.\n            Response response = service.getResponse(interval.getLeft(), interval.getRight());\n            return CompletableFuture.completedFuture(response);\n        }\n</code></pre>\n<p>Approx response times:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Interval size</th>\n<th>Response time</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1</td>\n<td>7~9 seconds</td>\n</tr>\n<tr>\n<td>3</td>\n<td>22~23 seconds</td>\n</tr>\n<tr>\n<td>5</td>\n<td>~30 seconds</td>\n</tr>\n</tbody>\n</table>\n</div>"},{"tags":["java","hibernate","ddl"],"answers":[{"tags":[],"owner":{"account_id":468677,"reputation":7486,"user_id":874814,"display_name":"Babl"},"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1422267424,"creation_date":1422175263,"answer_id":28134682,"question_id":28107554,"body_markdown":"I don&#39;t think you need any documentation, the java docs are self explaining. \r\nIf I understand you correctly you need a way to set a default value for a field. If yes please see the following code snippet.\r\n\r\n    @Entity\r\n    @Table(name = &quot;my_entity&quot;)\r\n    public class SomeEntity extends BaseEntity {\r\n\r\n\tpublic static final class MyValueGenerator implements\r\n\t\t\tValueGenerator&lt;String&gt; {\r\n\t\t@Override\r\n\t\tpublic String generateValue(Session session, Object owner) {\r\n\t\t\treturn &quot;This is my default name&quot;;\r\n\t\t}\r\n\t}\r\n\r\n\t@Basic\r\n\t@Column(name = &quot;name&quot;, insertable = true, updatable = true, nullable = false, length = 255)\r\n    // This will add a DDL default\r\n    @ColumnDefault(&quot;&#39;This is my default name&#39;&quot;)\r\n    // This will add a runtime default.\r\n\t@GeneratorType(type = MyValueGenerator.class)\r\n\tprivate String name;\r\n\r\n\t// getters and setters\r\n\r\n    }\r\n","title":"Define default column value with annotations in Hibernate","body":"<p>I don't think you need any documentation, the java docs are self explaining. \nIf I understand you correctly you need a way to set a default value for a field. If yes please see the following code snippet.</p>\n\n<pre><code>@Entity\n@Table(name = \"my_entity\")\npublic class SomeEntity extends BaseEntity {\n\npublic static final class MyValueGenerator implements\n        ValueGenerator&lt;String&gt; {\n    @Override\n    public String generateValue(Session session, Object owner) {\n        return \"This is my default name\";\n    }\n}\n\n@Basic\n@Column(name = \"name\", insertable = true, updatable = true, nullable = false, length = 255)\n// This will add a DDL default\n@ColumnDefault(\"'This is my default name'\")\n// This will add a runtime default.\n@GeneratorType(type = MyValueGenerator.class)\nprivate String name;\n\n// getters and setters\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1636378,"reputation":3853,"user_id":1509738,"accept_rate":75,"display_name":"ArunDhwaj IIITH"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1698236619,"creation_date":1470916563,"answer_id":38895699,"question_id":28107554,"body_markdown":"Following code is working for me.\r\n\r\n    @ColumnDefault(&quot;&#39;0.0&#39;&quot;)\r\n    @Column(name = &quot;avgRating&quot;)\r\n    private float avgRating;\r\n\r\n","title":"Define default column value with annotations in Hibernate","body":"<p>Following code is working for me.</p>\n<pre><code>@ColumnDefault(&quot;'0.0'&quot;)\n@Column(name = &quot;avgRating&quot;)\nprivate float avgRating;\n</code></pre>\n"}],"owner":{"account_id":2876792,"reputation":1939,"user_id":2468620,"accept_rate":56,"display_name":"Jardo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28449,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":28134682,"answer_count":2,"score":10,"last_activity_date":1698236619,"creation_date":1422008103,"question_id":28107554,"body_markdown":"I know there are plenty of these questions here on SO and also on the net, but all the answers suggest using `columnDefinition` which is database specific and hence not applicable for me because the system I&#39;m working on needs to run on different databases.\r\n\r\nI found this [hibernate issue][1] where someone requested this feature for annotations. The issue has been closed saying that [another issue][2] will cover that functionality. The second issue apparently added annotation `@Generated` and also some others, but I couldn&#39;t find any documentation on how to define the default column value with those new annotations.\r\n\r\nSo my question is: Does anyone know how can I define a default column value with annotations (and NOT using `columnDefinition`)? \r\n\r\n**Edit:** to further clarify my problem: When I add a new not null column, I need Hibernate to update the existing schema (add the new column to the respective table). But since the column is non null, the database cannot create the column without specifying the default value (if there are already some rows in the table). So I need to instruct Hibernate to issue the following DDL statement: `ALTER TABLE my_table ADD COLUMN new_column VARCHAR(3) DEFAULT &#39;def&#39;`, but it has to be independent of the used database. \r\n\r\n  [1]: https://hibernate.atlassian.net/browse/HHH-4341\r\n  [2]: https://hibernate.atlassian.net/browse/HHH-2907","title":"Define default column value with annotations in Hibernate","body":"<p>I know there are plenty of these questions here on SO and also on the net, but all the answers suggest using <code>columnDefinition</code> which is database specific and hence not applicable for me because the system I'm working on needs to run on different databases.</p>\n\n<p>I found this <a href=\"https://hibernate.atlassian.net/browse/HHH-4341\" rel=\"noreferrer\">hibernate issue</a> where someone requested this feature for annotations. The issue has been closed saying that <a href=\"https://hibernate.atlassian.net/browse/HHH-2907\" rel=\"noreferrer\">another issue</a> will cover that functionality. The second issue apparently added annotation <code>@Generated</code> and also some others, but I couldn't find any documentation on how to define the default column value with those new annotations.</p>\n\n<p>So my question is: Does anyone know how can I define a default column value with annotations (and NOT using <code>columnDefinition</code>)? </p>\n\n<p><strong>Edit:</strong> to further clarify my problem: When I add a new not null column, I need Hibernate to update the existing schema (add the new column to the respective table). But since the column is non null, the database cannot create the column without specifying the default value (if there are already some rows in the table). So I need to instruct Hibernate to issue the following DDL statement: <code>ALTER TABLE my_table ADD COLUMN new_column VARCHAR(3) DEFAULT 'def'</code>, but it has to be independent of the used database. </p>\n"},{"tags":["java","spring","spring-boot","model-view-controller","spring-data-jpa"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1698271442,"post_id":77356394,"comment_id":136385790,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":29742470,"reputation":1,"user_id":22794435,"display_name":"Arjun S Kudiyirickal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698236438,"creation_date":1698233185,"answer_id":77359039,"question_id":77356394,"body_markdown":"Try adding getter and setter methods for the query params defined in the Question.class file and also verify whether the names are same as the column names.\r\n\r\nHope it helps.","title":"I was trying to display my data in JSON format when I run the Springboot application. But gives me an error something like this [{},{},{},{},{},{}]","body":"<p>Try adding getter and setter methods for the query params defined in the Question.class file and also verify whether the names are same as the column names.</p>\n<p>Hope it helps.</p>\n"}],"owner":{"account_id":29747390,"reputation":1,"user_id":22798090,"display_name":"vuruputuri praneeth"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1698236438,"creation_date":1698203102,"question_id":77356394,"body_markdown":"So, the problem was that I was trying to display my content in JSON format by connecting my Spring application and Postgres SQL, After trying multiple times I was unable to figure out what was wrong with my application such that it couldn&#39;t display the data.\r\nCan anyone help me with this?[[[[[[enter image description here](https://i.stack.imgur.com/TyQzo.png)](https://i.stack.imgur.com/xeexk.png)](https://i.stack.imgur.com/h0gmY.png)](https://i.stack.imgur.com/ZxMuN.png)](https://i.stack.imgur.com/7NJ0b.png)](https://i.stack.imgur.com/146kv.png)\r\n\r\nI tried to resolve the error but seems like im getting error like this[enter image description here](https://i.stack.imgur.com/OmZvz.png)","title":"I was trying to display my data in JSON format when I run the Springboot application. But gives me an error something like this [{},{},{},{},{},{}]","body":"<p>So, the problem was that I was trying to display my content in JSON format by connecting my Spring application and Postgres SQL, After trying multiple times I was unable to figure out what was wrong with my application such that it couldn't display the data.\nCan anyone help me with this?[[[[[<a href=\"https://i.stack.imgur.com/TyQzo.png\" rel=\"nofollow noreferrer\">enter image description here</a>](<a href=\"https://i.stack.imgur.com/xeexk.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/xeexk.png</a>)](<a href=\"https://i.stack.imgur.com/h0gmY.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/h0gmY.png</a>)](<a href=\"https://i.stack.imgur.com/ZxMuN.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/ZxMuN.png</a>)](<a href=\"https://i.stack.imgur.com/7NJ0b.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/7NJ0b.png</a>)](<a href=\"https://i.stack.imgur.com/146kv.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/146kv.png</a>)</p>\n<p>I tried to resolve the error but seems like im getting error like this<a href=\"https://i.stack.imgur.com/OmZvz.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","completable-future"],"answers":[{"tags":[],"owner":{"account_id":8235,"reputation":87010,"user_id":14731,"accept_rate":89,"display_name":"Gili"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1523252906,"creation_date":1523088819,"answer_id":49705336,"question_id":49705335,"body_markdown":"Given the `Completions` utility class (provided below) users can throw checked exceptions seamlessly:\r\n\r\n    public CompletionStage&lt;String&gt; readLine()\r\n    {\r\n      return Completions.supplyAsync(() -&gt;\r\n      {\r\n        try (BufferedReader br = new BufferedReader(new FileReader(&quot;test.txt&quot;)))\r\n        {\r\n          return br.readLine();\r\n        }\r\n      });\r\n    }\r\n\r\nAny exceptions thrown by the lambda (checked or not) will be wrapped in a `CompletionException`, which is consistent with `CompletableFuture`&#39;s behavior for unchecked exceptions.\r\n\r\nThings get a bit uglier for intermediate steps like `thenApply()` but it&#39;s not the end of the world:\r\n\r\n    public CompletionStage&lt;String&gt; transformLine()\r\n    {\r\n      return readLine().thenApply(line -&gt;\r\n        Completions.wrapExceptions(() -&gt;\r\n        {\r\n          if (line.contains(&quot;%&quot;))\r\n            throw new IOException(&quot;Lines may not contain &#39;%&#39;: &quot; + line);\r\n          return &quot;transformed: &quot; + line;\r\n        }));\r\n    }\r\n\r\nHere some methods from the `Completions` utility class. You can wrap other `CompletableFuture` methods this way.\r\n\r\n    /**\r\n     * Helper functions for {@code CompletionStage}.\r\n     *\r\n     * @author Gili Tzabari\r\n     */\r\n    public final class Completions\r\n    {\r\n    \t/**\r\n    \t * Returns a {@code CompletionStage} that is completed with the value or exception of the {@code CompletionStage}\r\n    \t * returned by {@code callable} using the supplied {@code executor}. If {@code callable} throws an exception the\r\n    \t * returned {@code CompletionStage} is completed with it.\r\n    \t *\r\n    \t * @param &lt;T&gt;      the type of value returned by {@code callable}\r\n    \t * @param callable returns a value\r\n    \t * @param executor the executor that will run {@code callable}\r\n    \t * @return the value returned by {@code callable}\r\n    \t */\r\n    \tpublic static &lt;T&gt; CompletionStage&lt;T&gt; supplyAsync(Callable&lt;T&gt; callable, Executor executor)\r\n    \t{\r\n    \t\treturn CompletableFuture.supplyAsync(() -&gt; wrapExceptions(callable), executor);\r\n    \t}\r\n    \r\n\t\t/**\r\n\t\t * Wraps or replaces exceptions thrown by an operation with {@code CompletionException}.\r\n\t\t * &lt;p&gt;\r\n\t\t * If the exception is designed to wrap other exceptions, such as {@code ExecutionException}, its underlying cause is wrapped; otherwise the\r\n\t\t * top-level exception is wrapped.\r\n\t\t *\r\n\t\t * @param &lt;T&gt;      the type of value returned by the callable\r\n\t\t * @param callable an operation that returns a value\r\n\t\t * @return the value returned by the callable\r\n\t\t * @throws CompletionException if the callable throws any exceptions\r\n\t\t */\r\n\t\tpublic static &lt;T&gt; T wrapExceptions(Callable&lt;T&gt; callable)\r\n\t\t{\r\n\t\t\ttry\r\n\t\t\t{\r\n\t\t\t\treturn callable.call();\r\n\t\t\t}\r\n\t\t\tcatch (CompletionException e)\r\n\t\t\t{\r\n\t\t\t\t// Avoid wrapping\r\n\t\t\t\tthrow e;\r\n\t\t\t}\r\n\t\t\tcatch (ExecutionException e)\r\n\t\t\t{\r\n\t\t\t\tthrow new CompletionException(e.getCause());\r\n\t\t\t}\r\n\t\t\tcatch (Throwable e)\r\n\t\t\t{\r\n\t\t\t\tthrow new CompletionException(e);\r\n\t\t\t}\r\n\t\t}\r\n    \r\n    \t/**\r\n    \t * Returns a {@code CompletionStage} that is completed with the value or exception of the {@code CompletionStage}\r\n    \t * returned by {@code callable} using the default executor. If {@code callable} throws an exception the returned\r\n    \t * {@code CompletionStage} is completed with it.\r\n    \t *\r\n    \t * @param &lt;T&gt;      the type of value returned by the {@code callable}\r\n    \t * @param callable returns a value\r\n    \t * @return the value returned by {@code callable}\r\n    \t */\r\n    \tpublic static &lt;T&gt; CompletionStage&lt;T&gt; supplyAsync(Callable&lt;T&gt; callable)\r\n    \t{\r\n    \t\treturn CompletableFuture.supplyAsync(() -&gt; wrapExceptions(callable));\r\n    \t}\r\n\r\n        /**\r\n         * Prevent construction.\r\n         */\r\n        private Completions()\r\n        {}\r\n    }\r\n","title":"Throwing checked exceptions with CompletableFuture","body":"<p>Given the <code>Completions</code> utility class (provided below) users can throw checked exceptions seamlessly:</p>\n\n<pre><code>public CompletionStage&lt;String&gt; readLine()\n{\n  return Completions.supplyAsync(() -&gt;\n  {\n    try (BufferedReader br = new BufferedReader(new FileReader(\"test.txt\")))\n    {\n      return br.readLine();\n    }\n  });\n}\n</code></pre>\n\n<p>Any exceptions thrown by the lambda (checked or not) will be wrapped in a <code>CompletionException</code>, which is consistent with <code>CompletableFuture</code>'s behavior for unchecked exceptions.</p>\n\n<p>Things get a bit uglier for intermediate steps like <code>thenApply()</code> but it's not the end of the world:</p>\n\n<pre><code>public CompletionStage&lt;String&gt; transformLine()\n{\n  return readLine().thenApply(line -&gt;\n    Completions.wrapExceptions(() -&gt;\n    {\n      if (line.contains(\"%\"))\n        throw new IOException(\"Lines may not contain '%': \" + line);\n      return \"transformed: \" + line;\n    }));\n}\n</code></pre>\n\n<p>Here some methods from the <code>Completions</code> utility class. You can wrap other <code>CompletableFuture</code> methods this way.</p>\n\n<pre><code>/**\n * Helper functions for {@code CompletionStage}.\n *\n * @author Gili Tzabari\n */\npublic final class Completions\n{\n    /**\n     * Returns a {@code CompletionStage} that is completed with the value or exception of the {@code CompletionStage}\n     * returned by {@code callable} using the supplied {@code executor}. If {@code callable} throws an exception the\n     * returned {@code CompletionStage} is completed with it.\n     *\n     * @param &lt;T&gt;      the type of value returned by {@code callable}\n     * @param callable returns a value\n     * @param executor the executor that will run {@code callable}\n     * @return the value returned by {@code callable}\n     */\n    public static &lt;T&gt; CompletionStage&lt;T&gt; supplyAsync(Callable&lt;T&gt; callable, Executor executor)\n    {\n        return CompletableFuture.supplyAsync(() -&gt; wrapExceptions(callable), executor);\n    }\n\n    /**\n     * Wraps or replaces exceptions thrown by an operation with {@code CompletionException}.\n     * &lt;p&gt;\n     * If the exception is designed to wrap other exceptions, such as {@code ExecutionException}, its underlying cause is wrapped; otherwise the\n     * top-level exception is wrapped.\n     *\n     * @param &lt;T&gt;      the type of value returned by the callable\n     * @param callable an operation that returns a value\n     * @return the value returned by the callable\n     * @throws CompletionException if the callable throws any exceptions\n     */\n    public static &lt;T&gt; T wrapExceptions(Callable&lt;T&gt; callable)\n    {\n        try\n        {\n            return callable.call();\n        }\n        catch (CompletionException e)\n        {\n            // Avoid wrapping\n            throw e;\n        }\n        catch (ExecutionException e)\n        {\n            throw new CompletionException(e.getCause());\n        }\n        catch (Throwable e)\n        {\n            throw new CompletionException(e);\n        }\n    }\n\n    /**\n     * Returns a {@code CompletionStage} that is completed with the value or exception of the {@code CompletionStage}\n     * returned by {@code callable} using the default executor. If {@code callable} throws an exception the returned\n     * {@code CompletionStage} is completed with it.\n     *\n     * @param &lt;T&gt;      the type of value returned by the {@code callable}\n     * @param callable returns a value\n     * @return the value returned by {@code callable}\n     */\n    public static &lt;T&gt; CompletionStage&lt;T&gt; supplyAsync(Callable&lt;T&gt; callable)\n    {\n        return CompletableFuture.supplyAsync(() -&gt; wrapExceptions(callable));\n    }\n\n    /**\n     * Prevent construction.\n     */\n    private Completions()\n    {}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8621303,"reputation":1202,"user_id":6456129,"display_name":"Yessy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698235555,"creation_date":1698216586,"answer_id":77357165,"question_id":49705335,"body_markdown":"1. declare helper class \r\n````\r\npublic class CompletableFutureHelper {\r\n\r\n    public static &lt;T&gt; CompletableFuture&lt;T&gt; supplyAsync(Callable&lt;T&gt; callable) {\r\n        return supplyAsync(callable, ForkJoinPool.commonPool());\r\n    }\r\n\r\n    public static &lt;T&gt; CompletableFuture&lt;T&gt; supplyAsync(Callable&lt;T&gt; callable, Executor executor) {\r\n        final CompletableFuture&lt;T&gt; completableFuture = new CompletableFuture&lt;&gt;();\r\n        executor.execute(() -&gt; {\r\n            try {\r\n                completableFuture.complete(callable.call());\r\n            } catch (Throwable e) {\r\n                completableFuture.completeExceptionally(e);\r\n            }\r\n        });\r\n        return completableFuture;\r\n    }\r\n\r\n    public static CompletableFuture&lt;?&gt; runAsync(RunnableExceptionable runnableException) {\r\n        return runAsync(runnableException, ForkJoinPool.commonPool());\r\n    }\r\n\r\n    public static CompletableFuture&lt;?&gt; runAsync(RunnableExceptionable runnableException, Executor executor) {\r\n        return supplyAsync(() -&gt; {\r\n            runnableException.run();\r\n            return null;\r\n        }, executor);\r\n    }\r\n\r\n    public interface RunnableExceptionable {\r\n        void run() throws Exception;\r\n    }\r\n}\r\n````\r\n\r\n\r\n\r\n2. use it like\r\n````\r\n        try {\r\n            CompletableFutureHelper.runAsync(() -&gt; Thread.sleep(1000)).get();\r\n        } catch (ExecutionException | InterruptedException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        try {\r\n            Log.d(TAG, &quot;readFileContent=&quot; + Arrays.toString(CompletableFutureHelper.supplyAsync(() -&gt; Files.readAllBytes(new File(&quot;/data/1.txt&quot;).toPath())).get()));\r\n        } catch (ExecutionException | InterruptedException e) {\r\n            e.printStackTrace();\r\n        }\r\n````\r\n","title":"Throwing checked exceptions with CompletableFuture","body":"<ol>\n<li>declare helper class</li>\n</ol>\n<pre><code>public class CompletableFutureHelper {\n\n    public static &lt;T&gt; CompletableFuture&lt;T&gt; supplyAsync(Callable&lt;T&gt; callable) {\n        return supplyAsync(callable, ForkJoinPool.commonPool());\n    }\n\n    public static &lt;T&gt; CompletableFuture&lt;T&gt; supplyAsync(Callable&lt;T&gt; callable, Executor executor) {\n        final CompletableFuture&lt;T&gt; completableFuture = new CompletableFuture&lt;&gt;();\n        executor.execute(() -&gt; {\n            try {\n                completableFuture.complete(callable.call());\n            } catch (Throwable e) {\n                completableFuture.completeExceptionally(e);\n            }\n        });\n        return completableFuture;\n    }\n\n    public static CompletableFuture&lt;?&gt; runAsync(RunnableExceptionable runnableException) {\n        return runAsync(runnableException, ForkJoinPool.commonPool());\n    }\n\n    public static CompletableFuture&lt;?&gt; runAsync(RunnableExceptionable runnableException, Executor executor) {\n        return supplyAsync(() -&gt; {\n            runnableException.run();\n            return null;\n        }, executor);\n    }\n\n    public interface RunnableExceptionable {\n        void run() throws Exception;\n    }\n}\n</code></pre>\n<ol start=\"2\">\n<li>use it like</li>\n</ol>\n<pre><code>        try {\n            CompletableFutureHelper.runAsync(() -&gt; Thread.sleep(1000)).get();\n        } catch (ExecutionException | InterruptedException e) {\n            e.printStackTrace();\n        }\n\n        try {\n            Log.d(TAG, &quot;readFileContent=&quot; + Arrays.toString(CompletableFutureHelper.supplyAsync(() -&gt; Files.readAllBytes(new File(&quot;/data/1.txt&quot;).toPath())).get()));\n        } catch (ExecutionException | InterruptedException e) {\n            e.printStackTrace();\n        }\n</code></pre>\n"}],"owner":{"account_id":8235,"reputation":87010,"user_id":14731,"accept_rate":89,"display_name":"Gili"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4903,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":49705336,"answer_count":2,"score":5,"last_activity_date":1698235555,"creation_date":1523088819,"question_id":49705335,"body_markdown":"Stackoverflow contains multiple questions about mixing checked exceptions with `CompletableFuture`.\r\n\r\nHere are a few examples:\r\n\r\n* https://stackoverflow.com/q/39340239/14731\r\n* https://stackoverflow.com/q/28959849/14731\r\n* https://stackoverflow.com/q/23184964/14731\r\n\r\nWhile some of answers hint at the use of `CompletableFuture.completeExceptionally()` their approach results in user code that is difficult to read.\r\n\r\nI will use this space to provide an alternate solution that results in improved readability.\r\n\r\n**Please note that this question is specific to CompletableFuture.** This allows us to provide solutions that do not extend to lambda expressions more generally.","title":"Throwing checked exceptions with CompletableFuture","body":"<p>Stackoverflow contains multiple questions about mixing checked exceptions with <code>CompletableFuture</code>.</p>\n\n<p>Here are a few examples:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/q/39340239/14731\">Checked exception with CompletableFuture</a></li>\n<li><a href=\"https://stackoverflow.com/q/28959849/14731\">Java 8 Supplier Exception handling</a></li>\n<li><a href=\"https://stackoverflow.com/q/23184964/14731\">JDK8 CompletableFuture.supplyAsync how to deal with interruptedException</a></li>\n</ul>\n\n<p>While some of answers hint at the use of <code>CompletableFuture.completeExceptionally()</code> their approach results in user code that is difficult to read.</p>\n\n<p>I will use this space to provide an alternate solution that results in improved readability.</p>\n\n<p><strong>Please note that this question is specific to CompletableFuture.</strong> This allows us to provide solutions that do not extend to lambda expressions more generally.</p>\n"},{"tags":["java","unit-testing","junit","mocking","mockito"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":11,"creation_date":1428849831,"post_id":29590621,"comment_id":47328354,"body_markdown":"Do you call `MockitoAnnotations.initMocks(this)`? (Should probably be in @Before method) Or, do you have any other @Rule which you expect to initialize your mocks? (It isn&#39;t automagic)","body":"Do you call <code>MockitoAnnotations.initMocks(this)</code>? (Should probably be in @Before method) Or, do you have any other @Rule which you expect to initialize your mocks? (It isn&#39;t automagic)"},{"owner":{"account_id":2094057,"reputation":506074,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":1,"creation_date":1428850092,"post_id":29590621,"comment_id":47328426,"body_markdown":"You need to instantiate the `routingClientMock` e.g. `routingClientMock = Mockito.mock(RoutingObjHtttpClient.class);`","body":"You need to instantiate the <code>routingClientMock</code> e.g. <code>routingClientMock = Mockito.mock(RoutingObjHtttpClient.class);</code>"},{"owner":{"account_id":5493520,"reputation":9833,"user_id":4365460,"accept_rate":90,"display_name":"Roland Weisleder"},"score":0,"creation_date":1428850300,"post_id":29590621,"comment_id":47328491,"body_markdown":"You could also use `@RunWith(MockitoJUnitRunner.class)` at your class","body":"You could also use <code>@RunWith(MockitoJUnitRunner.class)</code> at your class"},{"owner":{"account_id":1065081,"reputation":14102,"user_id":1065869,"accept_rate":57,"display_name":"Elad Benda2"},"score":0,"creation_date":1428850333,"post_id":29590621,"comment_id":47328499,"body_markdown":"please write as an answer and I&#39;ll mark it","body":"please write as an answer and I&#39;ll mark it"},{"owner":{"account_id":16752149,"reputation":2993,"user_id":12109043,"display_name":"zr0gravity7"},"score":0,"creation_date":1671472091,"post_id":29590621,"comment_id":132101911,"body_markdown":"In my case (not the case for this question), I was trying to mock a dependency for another Mock for the UUT (i.e. two layers of mocks). This does not work trivially, and so the second layer mock was null.","body":"In my case (not the case for this question), I was trying to mock a dependency for another Mock for the UUT (i.e. two layers of mocks). This does not work trivially, and so the second layer mock was null."}],"answers":[{"tags":[],"owner":{"account_id":4978655,"reputation":91,"user_id":4004299,"display_name":"enoder"},"down_vote_count":3,"up_vote_count":7,"is_accepted":false,"score":4,"last_activity_date":1428850818,"creation_date":1428850818,"answer_id":29590855,"question_id":29590621,"body_markdown":"\r\n 1. You should use `@RunWith(SpringJUnit4ClassRunner.class)` at your class\r\n 2. You have to call `MockitoAnnotations.initMocks(this);` in @Before method\r\n","title":"mock instance is null after @Mock annotation","body":"<ol>\n<li>You should use <code>@RunWith(SpringJUnit4ClassRunner.class)</code> at your class</li>\n<li>You have to call <code>MockitoAnnotations.initMocks(this);</code> in @Before method</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":5493520,"reputation":9833,"user_id":4365460,"accept_rate":90,"display_name":"Roland Weisleder"},"down_vote_count":1,"up_vote_count":141,"is_accepted":true,"score":140,"last_activity_date":1428867558,"creation_date":1428867558,"answer_id":29593798,"question_id":29590621,"body_markdown":"When you want to use the `@Mock` annotation you should use the `MockitoJUnitRunner`\r\n\r\n    @RunWith(MockitoJUnitRunner.class)\r\n    public class MockitoTest {\r\n        \r\n        @Mock\r\n        private IRoutingObjHttpClient routingClientMock;\r\n        \r\n        @Test\r\n        public void testSendRoutingRequest() throws Exception {\r\n            // ...\r\n        }\r\n    \r\n    }\r\n\r\n\r\nSee also [this tutorial](http://www.vogella.com/tutorials/Mockito/article.html#mockito_usage).","title":"mock instance is null after @Mock annotation","body":"<p>When you want to use the <code>@Mock</code> annotation you should use the <code>MockitoJUnitRunner</code></p>\n\n<pre><code>@RunWith(MockitoJUnitRunner.class)\npublic class MockitoTest {\n\n    @Mock\n    private IRoutingObjHttpClient routingClientMock;\n\n    @Test\n    public void testSendRoutingRequest() throws Exception {\n        // ...\n    }\n\n}\n</code></pre>\n\n<p>See also <a href=\"http://www.vogella.com/tutorials/Mockito/article.html#mockito_usage\" rel=\"noreferrer\">this tutorial</a>.</p>\n"},{"tags":[],"owner":{"account_id":268368,"reputation":24162,"user_id":557091,"display_name":"Stefan Birkner"},"down_vote_count":1,"up_vote_count":74,"is_accepted":false,"score":73,"last_activity_date":1570481563,"creation_date":1428909619,"answer_id":29599822,"question_id":29590621,"body_markdown":"You have three options for activating the `@Mock` annotation: MockitoRule, MockitoJUnitRunner, MockitoAnnotations.initMocks(this). IMHO using the `MockitoRule` is the best one, because it lets you still choose another runner like e.g. `Parameterized`.\r\n\r\n##Use the [MockitoRule](http://site.mockito.org/mockito/docs/current/org/mockito/junit/MockitoRule.html)\r\n\r\n    public class MockitoTest {\r\n\r\n      @Mock\r\n      private IRoutingObjHttpClient routingClientMock;\r\n\r\n      @Rule\r\n      public MockitoRule rule = MockitoJUnit.rule();\r\n\r\n      @Test\r\n      public void testSendRoutingRequest() throws Exception {\r\n        // ...\r\n      }\r\n    }\r\n\r\n\r\n##Use the [MockitoJUnitRunner](http://site.mockito.org/mockito/docs/current/org/mockito/runners/MockitoJUnitRunner.html)\r\n\r\n    @RunWith(MockitoJUnitRunner.class)\r\n    public class MockitoTest {\r\n\r\n      @Mock\r\n      private IRoutingObjHttpClient routingClientMock;\r\n\r\n      @Test\r\n      public void testSendRoutingRequest() throws Exception {\r\n        // ...\r\n      }\r\n    }\r\n\r\n##Call [MockitoAnnotations.initMocks(this)](http://site.mockito.org/mockito/docs/current/org/mockito/MockitoAnnotations.html) explicitly. \r\nThis can be done in qn `@Before` method, in your own runner or in an own rule.\r\n\r\n    public class MockitoTest {\r\n\r\n      @Mock\r\n      private IRoutingObjHttpClient routingClientMock;\r\n\r\n      @Before\r\n      public void createMocks() {\r\n        MockitoAnnotations.initMocks(this);\r\n      }\r\n\r\n      @Test\r\n      public void testSendRoutingRequest() throws Exception {\r\n        // ...\r\n      }\r\n    }","title":"mock instance is null after @Mock annotation","body":"<p>You have three options for activating the <code>@Mock</code> annotation: MockitoRule, MockitoJUnitRunner, MockitoAnnotations.initMocks(this). IMHO using the <code>MockitoRule</code> is the best one, because it lets you still choose another runner like e.g. <code>Parameterized</code>.</p>\n\n<h2>Use the <a href=\"http://site.mockito.org/mockito/docs/current/org/mockito/junit/MockitoRule.html\" rel=\"noreferrer\">MockitoRule</a></h2>\n\n<pre><code>public class MockitoTest {\n\n  @Mock\n  private IRoutingObjHttpClient routingClientMock;\n\n  @Rule\n  public MockitoRule rule = MockitoJUnit.rule();\n\n  @Test\n  public void testSendRoutingRequest() throws Exception {\n    // ...\n  }\n}\n</code></pre>\n\n<h2>Use the <a href=\"http://site.mockito.org/mockito/docs/current/org/mockito/runners/MockitoJUnitRunner.html\" rel=\"noreferrer\">MockitoJUnitRunner</a></h2>\n\n<pre><code>@RunWith(MockitoJUnitRunner.class)\npublic class MockitoTest {\n\n  @Mock\n  private IRoutingObjHttpClient routingClientMock;\n\n  @Test\n  public void testSendRoutingRequest() throws Exception {\n    // ...\n  }\n}\n</code></pre>\n\n<h2>Call <a href=\"http://site.mockito.org/mockito/docs/current/org/mockito/MockitoAnnotations.html\" rel=\"noreferrer\">MockitoAnnotations.initMocks(this)</a> explicitly.</h2>\n\n<p>This can be done in qn <code>@Before</code> method, in your own runner or in an own rule.</p>\n\n<pre><code>public class MockitoTest {\n\n  @Mock\n  private IRoutingObjHttpClient routingClientMock;\n\n  @Before\n  public void createMocks() {\n    MockitoAnnotations.initMocks(this);\n  }\n\n  @Test\n  public void testSendRoutingRequest() throws Exception {\n    // ...\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6563761,"reputation":123,"user_id":5074067,"accept_rate":29,"display_name":"sam"},"down_vote_count":4,"up_vote_count":0,"is_accepted":false,"score":-4,"last_activity_date":1474105573,"creation_date":1474034195,"answer_id":39533319,"question_id":29590621,"body_markdown":"If you are also using PowerMock then \r\n\r\n    @RunWith(MockitoJUnitRunner.class)\r\n\r\ncan be replaced with\r\n\r\n    @RunWith(PowerMockRunner.class)\r\n\r\nThis will activate your `@Mocks` and enable the PowerMock functionality.","title":"mock instance is null after @Mock annotation","body":"<p>If you are also using PowerMock then </p>\n\n<pre><code>@RunWith(MockitoJUnitRunner.class)\n</code></pre>\n\n<p>can be replaced with</p>\n\n<pre><code>@RunWith(PowerMockRunner.class)\n</code></pre>\n\n<p>This will activate your <code>@Mocks</code> and enable the PowerMock functionality.</p>\n"},{"tags":[],"owner":{"account_id":1013937,"reputation":10560,"user_id":1025935,"accept_rate":96,"display_name":"UmAnusorn"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1522661853,"creation_date":1504765535,"answer_id":46089250,"question_id":29590621,"body_markdown":"Try to to check if the method that you are calling is a **final** method or not.\r\n\r\nMockito cannot mock the final method. https://github.com/mockito/mockito/wiki/FAQ","title":"mock instance is null after @Mock annotation","body":"<p>Try to to check if the method that you are calling is a <strong>final</strong> method or not.</p>\n\n<p>Mockito cannot mock the final method. <a href=\"https://github.com/mockito/mockito/wiki/FAQ\" rel=\"nofollow noreferrer\">https://github.com/mockito/mockito/wiki/FAQ</a></p>\n"},{"tags":[],"owner":{"account_id":4510827,"reputation":1268,"user_id":3667003,"accept_rate":100,"display_name":"Oliver"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1505937077,"creation_date":1505937077,"answer_id":46330703,"question_id":29590621,"body_markdown":"It can also be an import problem, so make sure you have the appropriate imported package.\r\n\r\nFor example, the &quot;org.easymock&quot; package also does have an annotation called @Mock, which of course, won&#39;t work with Mockito specific setup.","title":"mock instance is null after @Mock annotation","body":"<p>It can also be an import problem, so make sure you have the appropriate imported package.</p>\n\n<p>For example, the \"org.easymock\" package also does have an annotation called @Mock, which of course, won't work with Mockito specific setup.</p>\n"},{"tags":[],"owner":{"account_id":5183632,"reputation":1527,"user_id":4148568,"display_name":"Rammgarot"},"down_vote_count":0,"up_vote_count":37,"is_accepted":false,"score":37,"last_activity_date":1549378512,"creation_date":1549378512,"answer_id":54537141,"question_id":29590621,"body_markdown":"If you use `junit.jupiter` with `@ExtendWith(MockitoExtension.class)` for test class but **mocks are null**, ensure that `@Test` annotation is imported from\r\n\r\n    import org.junit.jupiter.api.Test;\r\n\r\ninstead of `org.junit.Test;`","title":"mock instance is null after @Mock annotation","body":"<p>If you use <code>junit.jupiter</code> with <code>@ExtendWith(MockitoExtension.class)</code> for test class but <strong>mocks are null</strong>, ensure that <code>@Test</code> annotation is imported from</p>\n\n<pre><code>import org.junit.jupiter.api.Test;\n</code></pre>\n\n<p>instead of <code>org.junit.Test;</code></p>\n"},{"tags":[],"owner":{"account_id":5759605,"reputation":1137,"user_id":4546428,"display_name":"Gjera"},"down_vote_count":0,"up_vote_count":83,"is_accepted":false,"score":83,"last_activity_date":1554911454,"creation_date":1554911454,"answer_id":55616702,"question_id":29590621,"body_markdown":"Same problem can occur if you are using Junit5 since there is no more &#39;@RunWith&#39; annotation.\r\n\r\nIn this case you should annotate your class with:\r\n\r\n    @ExtendWith(MockitoExtension.class)\r\n    public class MyTestClass {\r\n    ...\r\n\r\nYou should also import into your dependency (Maven - pom.xml):\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n        &lt;artifactId&gt;mockito-junit-jupiter&lt;/artifactId&gt;\r\n        &lt;version&gt;${mockito.version}&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n","title":"mock instance is null after @Mock annotation","body":"<p>Same problem can occur if you are using Junit5 since there is no more '@RunWith' annotation.</p>\n\n<p>In this case you should annotate your class with:</p>\n\n<pre><code>@ExtendWith(MockitoExtension.class)\npublic class MyTestClass {\n...\n</code></pre>\n\n<p>You should also import into your dependency (Maven - pom.xml):</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n    &lt;artifactId&gt;mockito-junit-jupiter&lt;/artifactId&gt;\n    &lt;version&gt;${mockito.version}&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3424234,"reputation":3742,"user_id":2870572,"accept_rate":48,"display_name":"Ganesh Satpute"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1590937547,"creation_date":1590937547,"answer_id":62118139,"question_id":29590621,"body_markdown":"For me, even after adding `@RunWith(MockitoJUnitRunner.class)` it was not working.  \r\nTurned out, I had made the silly mistake of importing `@Test` from \r\n```java \r\nimport org.junit.jupiter.api.Test;\r\n```\r\n\r\ninstead of \r\n```\r\nimport org.junit.Test;\r\n```\r\n\r\nAfter correcting it, it worked!","title":"mock instance is null after @Mock annotation","body":"<p>For me, even after adding <code>@RunWith(MockitoJUnitRunner.class)</code> it was not working.<br>\nTurned out, I had made the silly mistake of importing <code>@Test</code> from </p>\n\n<pre class=\"lang-java prettyprint-override\"><code>import org.junit.jupiter.api.Test;\n</code></pre>\n\n<p>instead of </p>\n\n<pre><code>import org.junit.Test;\n</code></pre>\n\n<p>After correcting it, it worked!</p>\n"},{"tags":[],"owner":{"account_id":1303548,"reputation":57,"user_id":1252995,"accept_rate":50,"display_name":"Suhas Karanth"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1596031404,"creation_date":1596031404,"answer_id":63155448,"question_id":29590621,"body_markdown":"For me adding the annotation to the class:\r\n\r\n    @RunWith(MockitoJUnitRunner.class)\r\n\r\nand modifying the version of Mockito solved this issue.\r\n\r\n    &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.23.4&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t&lt;/dependency&gt;","title":"mock instance is null after @Mock annotation","body":"<p>For me adding the annotation to the class:</p>\n<pre><code>@RunWith(MockitoJUnitRunner.class)\n</code></pre>\n<p>and modifying the version of Mockito solved this issue.</p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n        &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\n        &lt;version&gt;2.23.4&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16800381,"reputation":311,"user_id":12145773,"display_name":"amanatee"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1603755150,"creation_date":1603755150,"answer_id":64546405,"question_id":29590621,"body_markdown":"What solved this issue for me (combination of answers above and my own additions):\r\n\r\n* `MockitoAnnotations.initMocks(this);` in the `@Before` method\r\n* Test class must be public\r\n* Test methods must be public\r\n* `import org.junit.Test;` instead of `import org.junit.jupiter.api.Test;`\r\n\r\nWhen doing command + N --&gt; `Test...` in Intellij it generates (as a default at least) some boilerplate that did not work in my case. ","title":"mock instance is null after @Mock annotation","body":"<p>What solved this issue for me (combination of answers above and my own additions):</p>\n<ul>\n<li><code>MockitoAnnotations.initMocks(this);</code> in the <code>@Before</code> method</li>\n<li>Test class must be public</li>\n<li>Test methods must be public</li>\n<li><code>import org.junit.Test;</code> instead of <code>import org.junit.jupiter.api.Test;</code></li>\n</ul>\n<p>When doing command + N --&gt; <code>Test...</code> in Intellij it generates (as a default at least) some boilerplate that did not work in my case.</p>\n"},{"tags":[],"owner":{"account_id":13908,"reputation":7947,"user_id":28190,"accept_rate":67,"display_name":"Dan Gravell"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1604934150,"creation_date":1604934150,"answer_id":64754100,"question_id":29590621,"body_markdown":"I had the same issue, but I found updating my tests (which were originally written for JUnit 3 and used the legacy `setUp()` and `tearDown()` methods) to JUnit 4 and modern annotated fixture methods worked.\r\n\r\nAdditionally, if you&#39;re using the Rule:\r\n\r\n\t@Rule public MockitoRule rule = MockitoJUnit.rule();\r\n\r\nMake sure the rule is also on a public class or you will receive the message:\r\n\r\n```\r\nHow did getFields return a field we couldn&#39;t access?\r\n```","title":"mock instance is null after @Mock annotation","body":"<p>I had the same issue, but I found updating my tests (which were originally written for JUnit 3 and used the legacy <code>setUp()</code> and <code>tearDown()</code> methods) to JUnit 4 and modern annotated fixture methods worked.</p>\n<p>Additionally, if you're using the Rule:</p>\n<pre><code>@Rule public MockitoRule rule = MockitoJUnit.rule();\n</code></pre>\n<p>Make sure the rule is also on a public class or you will receive the message:</p>\n<pre><code>How did getFields return a field we couldn't access?\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10386004,"reputation":29,"user_id":7659080,"display_name":"Kushagra Pande"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1611017098,"creation_date":1611011427,"answer_id":65783344,"question_id":29590621,"body_markdown":"For me it worked when I added :\r\n    \r\n1) At class level: \r\n```\r\n@RunWith(MockitoJUnitRunner.class).\r\n```\r\n2) Inside class: \r\n```\r\n@Before\r\n      public void createMocks() {\r\n        MockitoAnnotations.initMocks(this);\r\n      }\r\n```","title":"mock instance is null after @Mock annotation","body":"<p>For me it worked when I added :</p>\n<ol>\n<li>At class level:</li>\n</ol>\n<pre><code>@RunWith(MockitoJUnitRunner.class).\n</code></pre>\n<ol start=\"2\">\n<li>Inside class:</li>\n</ol>\n<pre><code>@Before\n      public void createMocks() {\n        MockitoAnnotations.initMocks(this);\n      }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9147882,"reputation":79,"user_id":6803378,"display_name":"Adarsh"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1619915972,"creation_date":1619915972,"answer_id":67352045,"question_id":29590621,"body_markdown":"Add **@ExtendWith(MockitoExtension.class)** annotation  to the test class and it should work given You are using Junit 5+ version.\r\nIf you are using older version of Junit use **@RunWith(MockitoJUnitRunner.class)** annotation.","title":"mock instance is null after @Mock annotation","body":"<p>Add <strong>@ExtendWith(MockitoExtension.class)</strong> annotation  to the test class and it should work given You are using Junit 5+ version.\nIf you are using older version of Junit use <strong>@RunWith(MockitoJUnitRunner.class)</strong> annotation.</p>\n"},{"tags":[],"owner":{"account_id":21200667,"reputation":121,"user_id":15591391,"display_name":"grandmaximum"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1622625616,"creation_date":1622625616,"answer_id":67802341,"question_id":29590621,"body_markdown":"I had the problem that I declared @Mock MyClass myClass and then tried to mock a behaviour inside my @BeforeAll annotated method:\r\n\r\n    @Mock\r\n    private MyClass myClass;\r\n    \r\n    ...\r\n    \r\n    @BeforeAll\r\n    public void init()\r\n    {\r\n        ...\r\n        Mockito.when(myClass.something()).thenReturn(&quot;Not found&quot;)\r\n        ...\r\n    }\r\n\r\nApparently init() was executed before the mock initialization of myClass, so myClass == null inside init().\r\n\r\nThe solution was to change the annotation from @BeforeAll to @BeforeEach. \r\n","title":"mock instance is null after @Mock annotation","body":"<p>I had the problem that I declared @Mock MyClass myClass and then tried to mock a behaviour inside my @BeforeAll annotated method:</p>\n<pre><code>@Mock\nprivate MyClass myClass;\n\n...\n\n@BeforeAll\npublic void init()\n{\n    ...\n    Mockito.when(myClass.something()).thenReturn(&quot;Not found&quot;)\n    ...\n}\n</code></pre>\n<p>Apparently init() was executed before the mock initialization of myClass, so myClass == null inside init().</p>\n<p>The solution was to change the annotation from @BeforeAll to @BeforeEach.</p>\n"},{"tags":[],"owner":{"account_id":12623503,"reputation":13,"user_id":9178140,"display_name":"Aditya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642691355,"creation_date":1642691355,"answer_id":70788639,"question_id":29590621,"body_markdown":"Found this solution in comments that worked for me. Do this for all the mocks you are creating.\r\n\r\n*You need to instantiate the routingClientMock e.g.* \r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    routingClientMock = Mockito.mock(RoutingObjHtttpClient.class);\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"mock instance is null after @Mock annotation","body":"<p>Found this solution in comments that worked for me. Do this for all the mocks you are creating.</p>\n<p><em>You need to instantiate the routingClientMock e.g.</em></p>\n<pre class=\"lang-java prettyprint-override\"><code>routingClientMock = Mockito.mock(RoutingObjHtttpClient.class);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8667660,"reputation":35,"user_id":6487536,"display_name":"Divyanshu Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658145890,"creation_date":1658145747,"answer_id":73022015,"question_id":29590621,"body_markdown":"My issue was that I was trying to mock an object which was final in my service. Just needed to remove final and it worked.","title":"mock instance is null after @Mock annotation","body":"<p>My issue was that I was trying to mock an object which was final in my service. Just needed to remove final and it worked.</p>\n"},{"tags":[],"owner":{"account_id":3124728,"reputation":1564,"user_id":2643815,"display_name":"Smart Coder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659670054,"creation_date":1659670054,"answer_id":73244346,"question_id":29590621,"body_markdown":"Junit 5 with InjectMocks. Based on above suggestion https://stackoverflow.com/a/55616702/2643815\r\n\r\n   \r\n\r\n     @ExtendWith(MockitoExtension.class)\r\n    public class MyClientTest {\r\n    @Mock\r\n        Environment environment;\r\n        @Mock\r\n        ClassCreator classCreator;\r\n    \r\n        @InjectMocks\r\n        MyClient myClient;\r\n    \r\n    \r\n        @Test\r\n        public void mytest() {\r\n                myClient = new MyClient(environment, classCreator);\r\n    \t\t\t\r\n    \t\t\t}\r\n    \t\t\t}","title":"mock instance is null after @Mock annotation","body":"<p>Junit 5 with InjectMocks. Based on above suggestion <a href=\"https://stackoverflow.com/a/55616702/2643815\">https://stackoverflow.com/a/55616702/2643815</a></p>\n<pre><code> @ExtendWith(MockitoExtension.class)\npublic class MyClientTest {\n@Mock\n    Environment environment;\n    @Mock\n    ClassCreator classCreator;\n\n    @InjectMocks\n    MyClient myClient;\n\n\n    @Test\n    public void mytest() {\n            myClient = new MyClient(environment, classCreator);\n            \n            }\n            }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3878329,"reputation":605,"user_id":3211648,"accept_rate":76,"display_name":"F0cus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681732620,"creation_date":1681732620,"answer_id":76034915,"question_id":29590621,"body_markdown":" our application uses `JUNIT5` , same issue occured.\r\n I replaced `@Mock` with `@InjectMocks` - then issue was resolved","title":"mock instance is null after @Mock annotation","body":"<p>our application uses <code>JUNIT5</code> , same issue occured.\nI replaced <code>@Mock</code> with <code>@InjectMocks</code> - then issue was resolved</p>\n"},{"tags":[],"owner":{"account_id":18374865,"reputation":1,"user_id":14046495,"display_name":"Valkyrie006"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698235187,"creation_date":1698235158,"answer_id":77359274,"question_id":29590621,"body_markdown":"**My Code**\r\n\r\n1. It had JUnit version -&gt;\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n    &lt;artifactId&gt;junit-jupiter-params&lt;/artifactId&gt;\r\n    &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;version&gt;5.0.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n2. Was running on java 8\r\n\r\n**Solution**\r\n\r\nChange `@Test` to import from -\r\n```\r\nimport org.junit.jupiter.api.Test;\r\n```\r\ninstead of -\r\n```\r\nimport org.junit.Test;\r\n```","title":"mock instance is null after @Mock annotation","body":"<p><strong>My Code</strong></p>\n<ol>\n<li>It had JUnit version -&gt;</li>\n</ol>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n    &lt;artifactId&gt;junit-jupiter-params&lt;/artifactId&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n    &lt;version&gt;5.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<ol start=\"2\">\n<li>Was running on java 8</li>\n</ol>\n<p><strong>Solution</strong></p>\n<p>Change <code>@Test</code> to import from -</p>\n<pre><code>import org.junit.jupiter.api.Test;\n</code></pre>\n<p>instead of -</p>\n<pre><code>import org.junit.Test;\n</code></pre>\n"}],"owner":{"account_id":1065081,"reputation":14102,"user_id":1065869,"accept_rate":57,"display_name":"Elad Benda2"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":173307,"favorite_count":0,"down_vote_count":0,"up_vote_count":135,"accepted_answer_id":29593798,"answer_count":20,"score":135,"last_activity_date":1698235187,"creation_date":1428849476,"question_id":29590621,"body_markdown":"I try to run this test:\r\n\r\n        @Mock IRoutingObjHttpClient routingClientMock;\r\n        @Mock IRoutingResponseRepository routingResponseRepositoryMock;\r\n    \r\n    \r\n        @Test\r\n        public void testSendRoutingRequest() throws Exception {\r\n            CompleteRoutingResponse completeRoutingResponse = new CompleteRoutingResponse();\r\n            completeRoutingResponse.regression_latencyMillis = 500L;\r\n    \r\n            Mockito.when(routingClientMock.sendRoutingRequest(any(RoutingRequest.class))).thenReturn(completeRoutingResponse);\r\n    \r\n            RoutingObjHttpClientWithReRun routingObjHttpClientWithReRun = new RoutingObjHttpClientWithReRun\r\n                    (routingClientMock, routingResponseRepositoryMock);\r\n    \r\n    ...\r\n        }\r\n\r\nbut I get NullPointerException for:\r\n\r\n`Mockito.when(routingClientMock.`\r\n\r\nwhat am i missing?","title":"mock instance is null after @Mock annotation","body":"<p>I try to run this test:</p>\n\n<pre><code>    @Mock IRoutingObjHttpClient routingClientMock;\n    @Mock IRoutingResponseRepository routingResponseRepositoryMock;\n\n\n    @Test\n    public void testSendRoutingRequest() throws Exception {\n        CompleteRoutingResponse completeRoutingResponse = new CompleteRoutingResponse();\n        completeRoutingResponse.regression_latencyMillis = 500L;\n\n        Mockito.when(routingClientMock.sendRoutingRequest(any(RoutingRequest.class))).thenReturn(completeRoutingResponse);\n\n        RoutingObjHttpClientWithReRun routingObjHttpClientWithReRun = new RoutingObjHttpClientWithReRun\n                (routingClientMock, routingResponseRepositoryMock);\n\n...\n    }\n</code></pre>\n\n<p>but I get NullPointerException for:</p>\n\n<p><code>Mockito.when(routingClientMock.</code></p>\n\n<p>what am i missing?</p>\n"},{"tags":["java","spring-boot","authentication","oauth","keycloak"],"owner":{"account_id":28931398,"reputation":1,"user_id":22160029,"display_name":"Mohit Gevaria"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698235046,"creation_date":1698235046,"question_id":77359260,"body_markdown":"I have configured two securityFilterChains and in one of them when I use these security matchers, the Keycloak Login which redirects you to it&#39;s login page does not trigger. Without these security matchers it works fine. Here is the implementation for same.\r\n\r\n```\r\n                 httpSecurity\r\n                 .securityMatcher(antMatcher(&quot;/nirnai/ui/**&quot;))\r\n                .headers(httpSecurityHeadersConfigurer -&gt;                         .requestMatchers(PathRequest.toStaticResources().atCommonLocations()).permitAll()\r\n                        .requestMatchers(&quot;/swagger-ui.html&quot;, &quot;/swagger-ui/**&quot;, &quot;/api-docs/**&quot;).permitAll()\r\n                        .anyRequest().authenticated())\r\n                .oauth2Login(e -&gt; e.successHandler(new Oauth2SuccessRedirectionHandler()).userInfoEndpoint(userInfoEndpointConfig -&gt; userInfoEndpointConfig.userAuthoritiesMapper(userAuthoritiesMapperForKeycloak())))\r\n\r\n```\r\n\r\n\r\nExpected code should trigger Keycloak login page when any of the URL matches.","title":"Spring security 6 with keycloak","body":"<p>I have configured two securityFilterChains and in one of them when I use these security matchers, the Keycloak Login which redirects you to it's login page does not trigger. Without these security matchers it works fine. Here is the implementation for same.</p>\n<pre><code>                 httpSecurity\n                 .securityMatcher(antMatcher(&quot;/nirnai/ui/**&quot;))\n                .headers(httpSecurityHeadersConfigurer -&gt;                         .requestMatchers(PathRequest.toStaticResources().atCommonLocations()).permitAll()\n                        .requestMatchers(&quot;/swagger-ui.html&quot;, &quot;/swagger-ui/**&quot;, &quot;/api-docs/**&quot;).permitAll()\n                        .anyRequest().authenticated())\n                .oauth2Login(e -&gt; e.successHandler(new Oauth2SuccessRedirectionHandler()).userInfoEndpoint(userInfoEndpointConfig -&gt; userInfoEndpointConfig.userAuthoritiesMapper(userAuthoritiesMapperForKeycloak())))\n\n</code></pre>\n<p>Expected code should trigger Keycloak login page when any of the URL matches.</p>\n"},{"tags":["java","apache-flink"],"owner":{"account_id":29750166,"reputation":1,"user_id":22800254,"display_name":"Bzelga"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698234738,"creation_date":1698234738,"question_id":77359219,"body_markdown":"I&#39;m trying to connect to PostgreSQL via Apache Flink, but I don&#39;t get data from the table, neither those that are already in the table, nor new ones.\r\n\r\n\r\nTried 2 options:\r\n1) At first I tried it this way, based on [this](https://ververica.github.io/flink-cdc-connectors/master/content/connectors/postgres-cdc.html) example:\r\n\r\n```\r\nSourceFunction&lt;String&gt; postgresSourceBuilder = new PostgreSQLSource.Builder&lt;String&gt;()\r\n        .hostname(&quot;ip&quot;)\r\n        .port(5432)\r\n        .database(&quot;database&quot;)\r\n        .tableList(&quot;table&quot;)\r\n        .username(&quot;user&quot;)\r\n        .password(&quot;password&quot;)\r\n        .deserializer(new JsonDebeziumDeserializationSchema())\r\n        .build();\r\n \r\nStreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment();\r\nenv.addSource(postgresSourceBuilder).print().setParallelism(1);\r\nenv.execute();\r\n```\r\n\r\nJudging by the dashboard in pgAdmin 4, Debezium establishes a connection to the database, but, at the same time, records from the table are not displayed in the logs, neither those that existed nor new ones.\r\n\r\nWhat am I doing wrong in this case, maybe &quot;print()&quot; should not output records?\r\n\r\n2) I tried to make the following query via Linq SQL:\r\n\r\n\r\n```\r\nCREATE TABLE MyTest (\r\n  id INT,\r\n  FIRST NUMERIC(6),\r\n  LAST NUMERIC(6),\r\n  PRIMARY KEY (id) NOT ENFORCED\r\n) WITH (\r\n   &#39;connector&#39; = &#39;jdbc&#39;,\r\n   &#39;url&#39; = &#39;jdbc:postgresql://ip/database&#39;,\r\n   &#39;table-name&#39; = &#39;table&#39;,\r\n   &#39;username&#39;=&#39;user&#39;,\r\n   &#39;password&#39;=&#39;password&#39;\r\n);\r\n \r\nSELECT * FROM MyTest;\r\n```\r\nAfter that, existing records are displayed from the table, but new ones are not.\r\n\r\nHow to use this method in a Java application, maybe to execute a query through the &quot;ExecuteSQL()&quot; method? How to make the data read repeatedly?","title":"How to connect to PostgreSQL in Apache flink?","body":"<p>I'm trying to connect to PostgreSQL via Apache Flink, but I don't get data from the table, neither those that are already in the table, nor new ones.</p>\n<p>Tried 2 options:</p>\n<ol>\n<li>At first I tried it this way, based on <a href=\"https://ververica.github.io/flink-cdc-connectors/master/content/connectors/postgres-cdc.html\" rel=\"nofollow noreferrer\">this</a> example:</li>\n</ol>\n<pre><code>SourceFunction&lt;String&gt; postgresSourceBuilder = new PostgreSQLSource.Builder&lt;String&gt;()\n        .hostname(&quot;ip&quot;)\n        .port(5432)\n        .database(&quot;database&quot;)\n        .tableList(&quot;table&quot;)\n        .username(&quot;user&quot;)\n        .password(&quot;password&quot;)\n        .deserializer(new JsonDebeziumDeserializationSchema())\n        .build();\n \nStreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment();\nenv.addSource(postgresSourceBuilder).print().setParallelism(1);\nenv.execute();\n</code></pre>\n<p>Judging by the dashboard in pgAdmin 4, Debezium establishes a connection to the database, but, at the same time, records from the table are not displayed in the logs, neither those that existed nor new ones.</p>\n<p>What am I doing wrong in this case, maybe &quot;print()&quot; should not output records?</p>\n<ol start=\"2\">\n<li>I tried to make the following query via Linq SQL:</li>\n</ol>\n<pre><code>CREATE TABLE MyTest (\n  id INT,\n  FIRST NUMERIC(6),\n  LAST NUMERIC(6),\n  PRIMARY KEY (id) NOT ENFORCED\n) WITH (\n   'connector' = 'jdbc',\n   'url' = 'jdbc:postgresql://ip/database',\n   'table-name' = 'table',\n   'username'='user',\n   'password'='password'\n);\n \nSELECT * FROM MyTest;\n</code></pre>\n<p>After that, existing records are displayed from the table, but new ones are not.</p>\n<p>How to use this method in a Java application, maybe to execute a query through the &quot;ExecuteSQL()&quot; method? How to make the data read repeatedly?</p>\n"},{"tags":["javascript","java","graalvm","polyglot"],"answers":[{"tags":[],"owner":{"account_id":3674304,"reputation":927,"user_id":3060725,"accept_rate":67,"display_name":"BoriS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1602228018,"creation_date":1602228018,"answer_id":64275573,"question_id":64163189,"body_markdown":"As the javadoc for ProxyObject [1] says &quot;Interface to be implemented to mimic guest language objects that contain members.&quot;. This means that if you want the Java object to be used in JavaScript as if it was native to JavaScript it needs to be a ProxyObject.\r\n\r\nOn the other hand, as the website docs [2] show, Java objects passed into JavaScript can still be used as Java objects (i.e. they don&#39;t mimic JS objects by default). This means you can access fields, invoke methods, etc.\r\nThe website docs show an example:\r\n\r\n    public static class MyClass {\r\n        public int               id    = 42;\r\n        public String            text  = &quot;42&quot;;\r\n        public int[]             arr   = new int[]{1, 42, 3};\r\n        public Callable&lt;Integer&gt; ret42 = () -&gt; 42;\r\n    }\r\n    \r\n    public static void main(String[] args) {\r\n        try (Context context = Context.newBuilder()\r\n                                   .allowAllAccess(true)\r\n                               .build()) {\r\n            context.getBindings(&quot;js&quot;).putMember(&quot;javaObj&quot;, new MyClass());\r\n            boolean valid = context.eval(&quot;js&quot;,\r\n                   &quot;    javaObj.id         == 42&quot;          +\r\n                   &quot; &amp;&amp; javaObj.text       == &#39;42&#39;&quot;        +\r\n                   &quot; &amp;&amp; javaObj.arr[1]     == 42&quot;          +\r\n                   &quot; &amp;&amp; javaObj.ret42()    == 42&quot;)\r\n               .asBoolean();\r\n            assert valid == true;\r\n        }\r\n    }\r\n\r\n[1] https://www.graalvm.org/truffle/javadoc/org/graalvm/polyglot/proxy/ProxyObject.html\r\n\r\n[2] https://www.graalvm.org/reference-manual/embed-languages/","title":"GraalVM - Exposing Java complex objects to JavaScript","body":"<p>As the javadoc for ProxyObject [1] says &quot;Interface to be implemented to mimic guest language objects that contain members.&quot;. This means that if you want the Java object to be used in JavaScript as if it was native to JavaScript it needs to be a ProxyObject.</p>\n<p>On the other hand, as the website docs [2] show, Java objects passed into JavaScript can still be used as Java objects (i.e. they don't mimic JS objects by default). This means you can access fields, invoke methods, etc.\nThe website docs show an example:</p>\n<pre><code>public static class MyClass {\n    public int               id    = 42;\n    public String            text  = &quot;42&quot;;\n    public int[]             arr   = new int[]{1, 42, 3};\n    public Callable&lt;Integer&gt; ret42 = () -&gt; 42;\n}\n\npublic static void main(String[] args) {\n    try (Context context = Context.newBuilder()\n                               .allowAllAccess(true)\n                           .build()) {\n        context.getBindings(&quot;js&quot;).putMember(&quot;javaObj&quot;, new MyClass());\n        boolean valid = context.eval(&quot;js&quot;,\n               &quot;    javaObj.id         == 42&quot;          +\n               &quot; &amp;&amp; javaObj.text       == '42'&quot;        +\n               &quot; &amp;&amp; javaObj.arr[1]     == 42&quot;          +\n               &quot; &amp;&amp; javaObj.ret42()    == 42&quot;)\n           .asBoolean();\n        assert valid == true;\n    }\n}\n</code></pre>\n<p>[1] <a href=\"https://www.graalvm.org/truffle/javadoc/org/graalvm/polyglot/proxy/ProxyObject.html\" rel=\"nofollow noreferrer\">https://www.graalvm.org/truffle/javadoc/org/graalvm/polyglot/proxy/ProxyObject.html</a></p>\n<p>[2] <a href=\"https://www.graalvm.org/reference-manual/embed-languages/\" rel=\"nofollow noreferrer\">https://www.graalvm.org/reference-manual/embed-languages/</a></p>\n"},{"tags":[],"owner":{"account_id":1551039,"reputation":826,"user_id":1443418,"accept_rate":83,"display_name":"Jiehong"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698234731,"creation_date":1698234731,"answer_id":77359217,"question_id":64163189,"body_markdown":"Got the same issue.\r\n\r\nOne way I&#39;ve fixed it is to convert the java object into json, and then prepending that to the source: this way, the data is completely parsed into javascript.\r\n\r\nFor example, with jackson:\r\n\r\n```java\r\nfinal String data = this.objectMapper.writeValueAsString(complexObject);\r\nfinal String preScript = &quot;const x = &quot; + data + &quot;;\\n&quot;;\r\nvar result = context.eval(Source.newBuilder(&quot;js&quot;, preScript + script, &quot;src.js&quot;).build());\r\n```\r\n\r\nThis can correctly evaluate things like `x.myMap.key.length`, etc.\r\n\r\nI&#39;ve chosen this solution, because ppening the java access it too risky on my side.","title":"GraalVM - Exposing Java complex objects to JavaScript","body":"<p>Got the same issue.</p>\n<p>One way I've fixed it is to convert the java object into json, and then prepending that to the source: this way, the data is completely parsed into javascript.</p>\n<p>For example, with jackson:</p>\n<pre class=\"lang-java prettyprint-override\"><code>final String data = this.objectMapper.writeValueAsString(complexObject);\nfinal String preScript = &quot;const x = &quot; + data + &quot;;\\n&quot;;\nvar result = context.eval(Source.newBuilder(&quot;js&quot;, preScript + script, &quot;src.js&quot;).build());\n</code></pre>\n<p>This can correctly evaluate things like <code>x.myMap.key.length</code>, etc.</p>\n<p>I've chosen this solution, because ppening the java access it too risky on my side.</p>\n"}],"owner":{"account_id":6461806,"reputation":156,"user_id":5005314,"display_name":"The_Outsider"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1238,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1698234731,"creation_date":1601586356,"question_id":64163189,"body_markdown":"Using GraalVM, to expose Java objects to JavaScript, I am using `ProxyObject` to wrap them. For this purpose, I am using `ProxyObject.fromMap` method like the following:\r\n\r\n```\r\nProxyObject exposedObject = ProxyObject.fromMap(objectMapper.convertValue(javaObject, Map.class));\r\n```\r\n\r\nHere, the `javaObject` is of `Object` class and can be arbitrarily complex. This method works for immediate members of `javaObject`, but not when the members are complex objects themselves. For example, if one of the members of `javaObject` happens to be a `Map`, like:\r\n\r\n```\r\n        final Map&lt;String, Object&gt; source = new HashMap&lt;&gt;();\r\n        source.put(&quot;id&quot;, &quot;1234567890&quot;);\r\n        final Map&lt;String, Object&gt; sourceComponent = ImmutableMap.of(&quot;key&quot;, &quot;value&quot;);\r\n        source.put(&quot;complex&quot;, sourceComponent);\r\n\r\n        // assuming the source is any object   \r\n        ProxyObject exposedObject = ProxyObject.fromMap(objectMapper.convertValue(source, Map.class));\r\n\r\n        // or knowing that source is in fact a map\r\n        ProxyObject exposedObject = ProxyObject.fromMap(source);\r\n```\r\n\r\nthis is what happens when the `exposedObject` is accessed in JavaScript:\r\n\r\n```\r\nexposedObject; // returns {complex: JavaObject[com.google.common.collect.SingletonImmutableBiMap], id: &quot;1234567890&quot;}\r\n\r\nexposedObject.id; // returns 01234567890\r\n\r\nexposedObject.complex; // returns {key=value}\r\n\r\nexposedObject.complex.key; // returns undefined\r\n```\r\n\r\nSo my question is how we can fully expose an arbitrarily complex and deep java object to javascript. Do we have to go through all members recursively and wrap them into `ProxyObject`s? Or is there a supported out-of-the-box method of achieving this?\r\n\r\nAlso, please let me know if my approach needs to change.\r\n","title":"GraalVM - Exposing Java complex objects to JavaScript","body":"<p>Using GraalVM, to expose Java objects to JavaScript, I am using <code>ProxyObject</code> to wrap them. For this purpose, I am using <code>ProxyObject.fromMap</code> method like the following:</p>\n<pre><code>ProxyObject exposedObject = ProxyObject.fromMap(objectMapper.convertValue(javaObject, Map.class));\n</code></pre>\n<p>Here, the <code>javaObject</code> is of <code>Object</code> class and can be arbitrarily complex. This method works for immediate members of <code>javaObject</code>, but not when the members are complex objects themselves. For example, if one of the members of <code>javaObject</code> happens to be a <code>Map</code>, like:</p>\n<pre><code>        final Map&lt;String, Object&gt; source = new HashMap&lt;&gt;();\n        source.put(&quot;id&quot;, &quot;1234567890&quot;);\n        final Map&lt;String, Object&gt; sourceComponent = ImmutableMap.of(&quot;key&quot;, &quot;value&quot;);\n        source.put(&quot;complex&quot;, sourceComponent);\n\n        // assuming the source is any object   \n        ProxyObject exposedObject = ProxyObject.fromMap(objectMapper.convertValue(source, Map.class));\n\n        // or knowing that source is in fact a map\n        ProxyObject exposedObject = ProxyObject.fromMap(source);\n</code></pre>\n<p>this is what happens when the <code>exposedObject</code> is accessed in JavaScript:</p>\n<pre><code>exposedObject; // returns {complex: JavaObject[com.google.common.collect.SingletonImmutableBiMap], id: &quot;1234567890&quot;}\n\nexposedObject.id; // returns 01234567890\n\nexposedObject.complex; // returns {key=value}\n\nexposedObject.complex.key; // returns undefined\n</code></pre>\n<p>So my question is how we can fully expose an arbitrarily complex and deep java object to javascript. Do we have to go through all members recursively and wrap them into <code>ProxyObject</code>s? Or is there a supported out-of-the-box method of achieving this?</p>\n<p>Also, please let me know if my approach needs to change.</p>\n"},{"tags":["java","google-bigquery"],"answers":[{"tags":[],"owner":{"account_id":3424517,"reputation":1119,"user_id":2870704,"accept_rate":100,"display_name":"Grigoriev Nick"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698233316,"creation_date":1698233316,"answer_id":77359053,"question_id":74570179,"body_markdown":"Will JobStatistics.SessionInfo work for you?\r\n```\r\n bq.create(\r\n        JobInfo.of(QueryJobConfiguration\r\n        .newBuilder(&quot;your query&quot;)\r\n        .setCreateSession(true)\r\n        .build()))\r\n      .getStatistics[com.google.cloud.bigquery.JobStatistics.QueryStatistics]\r\n      .getSessionInfo\r\n      .getSessionId\r\n```","title":"How to use session in BigQuery java client","body":"<p>Will JobStatistics.SessionInfo work for you?</p>\n<pre><code> bq.create(\n        JobInfo.of(QueryJobConfiguration\n        .newBuilder(&quot;your query&quot;)\n        .setCreateSession(true)\n        .build()))\n      .getStatistics[com.google.cloud.bigquery.JobStatistics.QueryStatistics]\n      .getSessionInfo\n      .getSessionId\n</code></pre>\n"}],"owner":{"account_id":2981248,"reputation":1121,"user_id":2531159,"display_name":"swist"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":140,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1698233316,"creation_date":1669365950,"question_id":74570179,"body_markdown":"I want to create and then use temporary tables in multiple queries using java client. For that I need to use sessions. \r\n\r\nI can create the temp table with:\r\n```\r\nBigQuery bigQuery = ....\r\nQueryJobConfiguration.Builder b = QueryJobConfiguration.newBuilder(&quot;CREATE TEMP TABLE _SESSION.tmp_01 AS SELECT .....&quot;)\r\nbigQuery.query(b.setCreateSession(true).build())\r\n```\r\n\r\nProblem is, how can I reuse the session in a next query?\r\n```\r\nb = QueryJobConfiguration.newBuilder(&quot;SELECT DISTINCT * FROM _SESSION.tmp_01&quot;);\r\nbigQuery.query(b.build()); //ERROR: cannot find tmp_01 table.\r\n```\r\n\r\n\r\n\r\n","title":"How to use session in BigQuery java client","body":"<p>I want to create and then use temporary tables in multiple queries using java client. For that I need to use sessions.</p>\n<p>I can create the temp table with:</p>\n<pre><code>BigQuery bigQuery = ....\nQueryJobConfiguration.Builder b = QueryJobConfiguration.newBuilder(&quot;CREATE TEMP TABLE _SESSION.tmp_01 AS SELECT .....&quot;)\nbigQuery.query(b.setCreateSession(true).build())\n</code></pre>\n<p>Problem is, how can I reuse the session in a next query?</p>\n<pre><code>b = QueryJobConfiguration.newBuilder(&quot;SELECT DISTINCT * FROM _SESSION.tmp_01&quot;);\nbigQuery.query(b.build()); //ERROR: cannot find tmp_01 table.\n</code></pre>\n"},{"tags":["java","docker","kubernetes","memory"],"comments":[{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1624996151,"post_id":68184721,"comment_id":120508306,"body_markdown":"Look inside with visualvm","body":"Look inside with visualvm"},{"owner":{"account_id":3074217,"reputation":99,"user_id":2604045,"display_name":"vinayhudli"},"score":0,"creation_date":1625070115,"post_id":68184721,"comment_id":120531688,"body_markdown":"@Thorbj&#248;rnRavnAndersen visualvm mostly gives data about heap, metaspace etc. , things that we already know from NMT stats. Is there anything I&#39;m missing here or any particular section I should be looking at ?","body":"@Thorbj&#248;rnRavnAndersen visualvm mostly gives data about heap, metaspace etc. , things that we already know from NMT stats. Is there anything I&#39;m missing here or any particular section I should be looking at ?"},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1625070300,"post_id":68184721,"comment_id":120531754,"body_markdown":"It gives you actual numbers on how the JVM looks at the world.    This might be different from what is expected so you may have a spike outgrowing the pod faster than the OOM can trigger.","body":"It gives you actual numbers on how the JVM looks at the world.    This might be different from what is expected so you may have a spike outgrowing the pod faster than the OOM can trigger."},{"owner":{"account_id":3074217,"reputation":99,"user_id":2604045,"display_name":"vinayhudli"},"score":0,"creation_date":1625074666,"post_id":68184721,"comment_id":120533471,"body_markdown":"@Thorbj&#248;rnRavnAndersen  Xmx is 300m and container max is 700m . Even if there is sudden spike in heap usage the total memory consumed by docker container should never reach close to 700 m right ?","body":"@Thorbj&#248;rnRavnAndersen  Xmx is 300m and container max is 700m . Even if there is sudden spike in heap usage the total memory consumed by docker container should never reach close to 700 m right ?"},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1625083077,"post_id":68184721,"comment_id":120536458,"body_markdown":"Measure.  See what actually happens - your assumptions may be subtly incorrect.","body":"Measure.  See what actually happens - your assumptions may be subtly incorrect."},{"owner":{"account_id":3074217,"reputation":99,"user_id":2604045,"display_name":"vinayhudli"},"score":0,"creation_date":1625166203,"post_id":68184721,"comment_id":120562456,"body_markdown":"@Thorbj&#248;rnRavnAndersen : I tracked one of the pods that&#39;s been running for 8 hrs, but the requests have started coming in only in the past 4 hrs or so. I&#39;m attaching the visualvm screenshot and memory consumption of container as a whole. I still don&#39;t see what is causing this surge.","body":"@Thorbj&#248;rnRavnAndersen : I tracked one of the pods that&#39;s been running for 8 hrs, but the requests have started coming in only in the past 4 hrs or so. I&#39;m attaching the visualvm screenshot and memory consumption of container as a whole. I still don&#39;t see what is causing this surge."},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1625170742,"post_id":68184721,"comment_id":120563888,"body_markdown":"Slowly growing heap even with garbage collections _could_ indicate a small memory leak. I would suggest monitoring a load test.","body":"Slowly growing heap even with garbage collections <i>could</i> indicate a small memory leak. I would suggest monitoring a load test."},{"owner":{"account_id":10298913,"reputation":2491,"user_id":7598188,"accept_rate":43,"display_name":"Manish Bansal"},"score":0,"creation_date":1683213146,"post_id":68184721,"comment_id":134335277,"body_markdown":"@vinayhudli did you find the root cause? i am facing the exact same issue. my pod request and limits are 4/6 gb. my total committed native memory reduced from 841mb to 700mb. but my pod memory increased from 900mb to 4GB over time.","body":"@vinayhudli did you find the root cause? i am facing the exact same issue. my pod request and limits are 4/6 gb. my total committed native memory reduced from 841mb to 700mb. but my pod memory increased from 900mb to 4GB over time."},{"owner":{"account_id":25967173,"reputation":61,"user_id":19682964,"display_name":"Carl Hyslop"},"score":0,"creation_date":1697953414,"post_id":68184721,"comment_id":136342639,"body_markdown":"Not directly relevant to your question, but relevant to your workload: https://home.robusta.dev/blog/stop-using-cpu-limits","body":"Not directly relevant to your question, but relevant to your workload: <a href=\"https://home.robusta.dev/blog/stop-using-cpu-limits\" rel=\"nofollow noreferrer\">home.robusta.dev/blog/stop-using-cpu-limits</a>"}],"answers":[{"tags":[],"owner":{"account_id":25967173,"reputation":61,"user_id":19682964,"display_name":"Carl Hyslop"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697976433,"creation_date":1697965732,"answer_id":77339319,"question_id":68184721,"body_markdown":"We had exactly the same problem with Java on GKE, in our case a Spring Boot server running in an Alpine Linux container.  The problem is not in your Java code, it&#39;s in the Java VM itself: on Linux, it cannot handle extremely multi-threaded applications which allocate and then deallocate a lot of memory.  Thankfully there&#39;s a solution: jemalloc.  Assuming you&#39;re using Alpine, simply add the following to your Dockerfile:\r\n\r\n    RUN apk --no-cache add jemalloc\r\n    ENV LD_PRELOAD=/usr/lib/libjemalloc.so.2\r\n\r\nProblem solved.  It took our Spring Boot containers down from 3.5GB to 2.6GB.\r\n\r\nIf the above is difficult for some reason, try setting MALLOC_ARENA_MAX=4 (or 2).","title":"Kubernetes Pod memory keeps on increasing and shoots way beyond Java application consumption","body":"<p>We had exactly the same problem with Java on GKE, in our case a Spring Boot server running in an Alpine Linux container.  The problem is not in your Java code, it's in the Java VM itself: on Linux, it cannot handle extremely multi-threaded applications which allocate and then deallocate a lot of memory.  Thankfully there's a solution: jemalloc.  Assuming you're using Alpine, simply add the following to your Dockerfile:</p>\n<pre><code>RUN apk --no-cache add jemalloc\nENV LD_PRELOAD=/usr/lib/libjemalloc.so.2\n</code></pre>\n<p>Problem solved.  It took our Spring Boot containers down from 3.5GB to 2.6GB.</p>\n<p>If the above is difficult for some reason, try setting MALLOC_ARENA_MAX=4 (or 2).</p>\n"}],"owner":{"account_id":3074217,"reputation":99,"user_id":2604045,"display_name":"vinayhudli"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2073,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1698232973,"creation_date":1624995601,"question_id":68184721,"body_markdown":"**Current Setup:**\r\n\r\n 1.  Java application running as Kubernetes workload on Google Kubernetes engine\r\n 2. JVM args : &quot;-XX:+UseContainerSupport&quot;, &quot;-XX:NativeMemoryTracking=detail&quot;, &quot;-XX:+HeapDumpOnOutOfMemoryError&quot;, &quot;-XX:HeapDumpPath=/dumps/oom.bin&quot;, &quot;-Xmx300m&quot;, &quot;-Xms300m&quot;\r\n 3. Docker memory set using deployment.yml\r\n\r\n    limits:\r\n         cpu: 350m\r\n         memory: 700Mi\r\n       requests:\r\n         cpu: 200m\r\n         memory: 128Mi\r\n\r\n 4. Native memory committed is below 550m when the pod is very near to hitting the max container limit. This leads me to believe that there is something apart from native memory causing this issue\r\n\r\n   \r\n\r\n     Total: reserved=1788920KB, committed=546092KB\r\n        -                 Java Heap (reserved=307200KB, committed=307200KB)\r\n                                    (mmap: reserved=307200KB, committed=307200KB) \r\n         \r\n        -                     Class (reserved=1116111KB, committed=75431KB)\r\n                                    (classes #12048)\r\n                                    (malloc=1999KB #25934) \r\n                                    (mmap: reserved=1114112KB, committed=73432KB) \r\n         \r\n        -                    Thread (reserved=46444KB, committed=46444KB)\r\n                                    (thread #46)\r\n                                    (stack: reserved=46240KB, committed=46240KB)\r\n                                    (malloc=153KB #270) \r\n                                    (arena=51KB #88)\r\n         \r\n        -                      Code (reserved=259362KB, committed=57214KB)\r\n                                    (malloc=9762KB #14451) \r\n                                    (mmap: reserved=249600KB, committed=47452KB) \r\n         \r\n        -                        GC (reserved=1034KB, committed=1034KB)\r\n                                    (malloc=26KB #180) \r\n                                    (mmap: reserved=1008KB, committed=1008KB) \r\n         \r\n        -                  Compiler (reserved=321KB, committed=321KB)\r\n                                    (malloc=189KB #982) \r\n                                    (arena=133KB #5)\r\n         \r\n        -                  Internal (reserved=39461KB, committed=39461KB)\r\n                                    (malloc=39429KB #16005) \r\n                                    (mmap: reserved=32KB, committed=32KB) \r\n         \r\n        -                    Symbol (reserved=15588KB, committed=15588KB)\r\n                                    (malloc=13214KB #128579) \r\n                                    (arena=2374KB #1)\r\n         \r\n        -    Native Memory Tracking (reserved=3220KB, committed=3220KB)\r\n                                    (malloc=249KB #3553) \r\n                                    (tracking overhead=2971KB)\r\n         \r\n        -               Arena Chunk (reserved=178KB, committed=178KB)\r\n                                    (malloc=178KB)\r\n\r\n \r\n\r\n 5. Have also checked memory consumption of java process using ps (550m) and htop (res 604m)\r\n\r\n\r\n**Issue**\r\n\r\nThe pod has single container and that container has only this java application running with above mentioned configs. This java application essentially downloads images in parallel using threads with some validations like image size, dimension etc. The pod memory consumption keeps increasing until it almost hits that limit and the application restarts. I have read through many different posts and articles and I can&#39;t figure out what is causing this memory to keep going up.\r\n\r\nEdit 1: Docker image is based off openjdk:8-jdk-slim\r\nEdit2: Some screenshots of monitoring\r\n[![total container memory usage][1]][1]\r\n[![memory snapshot of application in visualvm][2]][2]\r\n[![heap usage of application in visualvm][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/HHwSM.png\r\n  [2]: https://i.stack.imgur.com/haSAN.png\r\n  [3]: https://i.stack.imgur.com/My67Y.png","title":"Kubernetes Pod memory keeps on increasing and shoots way beyond Java application consumption","body":"<p><strong>Current Setup:</strong></p>\n<ol>\n<li><p>Java application running as Kubernetes workload on Google Kubernetes engine</p>\n</li>\n<li><p>JVM args : &quot;-XX:+UseContainerSupport&quot;, &quot;-XX:NativeMemoryTracking=detail&quot;, &quot;-XX:+HeapDumpOnOutOfMemoryError&quot;, &quot;-XX:HeapDumpPath=/dumps/oom.bin&quot;, &quot;-Xmx300m&quot;, &quot;-Xms300m&quot;</p>\n</li>\n<li><p>Docker memory set using deployment.yml</p>\n<p>limits:\ncpu: 350m\nmemory: 700Mi\nrequests:\ncpu: 200m\nmemory: 128Mi</p>\n</li>\n<li><p>Native memory committed is below 550m when the pod is very near to hitting the max container limit. This leads me to believe that there is something apart from native memory causing this issue</p>\n<p>Total: reserved=1788920KB, committed=546092KB\n-                 Java Heap (reserved=307200KB, committed=307200KB)\n(mmap: reserved=307200KB, committed=307200KB)</p>\n<pre><code>-                     Class (reserved=1116111KB, committed=75431KB)\n                            (classes #12048)\n                            (malloc=1999KB #25934) \n                            (mmap: reserved=1114112KB, committed=73432KB) \n\n-                    Thread (reserved=46444KB, committed=46444KB)\n                            (thread #46)\n                            (stack: reserved=46240KB, committed=46240KB)\n                            (malloc=153KB #270) \n                            (arena=51KB #88)\n\n-                      Code (reserved=259362KB, committed=57214KB)\n                            (malloc=9762KB #14451) \n                            (mmap: reserved=249600KB, committed=47452KB) \n\n-                        GC (reserved=1034KB, committed=1034KB)\n                            (malloc=26KB #180) \n                            (mmap: reserved=1008KB, committed=1008KB) \n\n-                  Compiler (reserved=321KB, committed=321KB)\n                            (malloc=189KB #982) \n                            (arena=133KB #5)\n\n-                  Internal (reserved=39461KB, committed=39461KB)\n                            (malloc=39429KB #16005) \n                            (mmap: reserved=32KB, committed=32KB) \n\n-                    Symbol (reserved=15588KB, committed=15588KB)\n                            (malloc=13214KB #128579) \n                            (arena=2374KB #1)\n\n-    Native Memory Tracking (reserved=3220KB, committed=3220KB)\n                            (malloc=249KB #3553) \n                            (tracking overhead=2971KB)\n\n-               Arena Chunk (reserved=178KB, committed=178KB)\n                            (malloc=178KB)\n</code></pre>\n</li>\n<li><p>Have also checked memory consumption of java process using ps (550m) and htop (res 604m)</p>\n</li>\n</ol>\n<p><strong>Issue</strong></p>\n<p>The pod has single container and that container has only this java application running with above mentioned configs. This java application essentially downloads images in parallel using threads with some validations like image size, dimension etc. The pod memory consumption keeps increasing until it almost hits that limit and the application restarts. I have read through many different posts and articles and I can't figure out what is causing this memory to keep going up.</p>\n<p>Edit 1: Docker image is based off openjdk:8-jdk-slim\nEdit2: Some screenshots of monitoring\n<a href=\"https://i.stack.imgur.com/HHwSM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HHwSM.png\" alt=\"total container memory usage\" /></a>\n<a href=\"https://i.stack.imgur.com/haSAN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/haSAN.png\" alt=\"memory snapshot of application in visualvm\" /></a>\n<a href=\"https://i.stack.imgur.com/My67Y.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/My67Y.png\" alt=\"heap usage of application in visualvm\" /></a></p>\n"},{"tags":["java","spring","jvm"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1698230134,"post_id":77358643,"comment_id":136377869,"body_markdown":"When you get an `InvocationTargetException`, there is an exception thrown by the invoked target, which you should inspect. Besides that, this class loader is broken. Instead of trying to find the class with the specified name, it mindlessly tries to read the class definition from the one `InputStream`. This might be the wrong class for the current request, further, an input stream can only be read once. This method should use the definition only when the class name matches. Or, just invoke `defineClass` in the first place, without overriding and calling `findClass`.","body":"When you get an <code>InvocationTargetException</code>, there is an exception thrown by the invoked target, which you should inspect. Besides that, this class loader is broken. Instead of trying to find the class with the specified name, it mindlessly tries to read the class definition from the one <code>InputStream</code>. This might be the wrong class for the current request, further, an input stream can only be read once. This method should use the definition only when the class name matches. Or, just invoke <code>defineClass</code> in the first place, without overriding and calling <code>findClass</code>."},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1698233000,"post_id":77358643,"comment_id":136378404,"body_markdown":"And you might also want to redirect to the parent `ClassLoader` in case another class is loaded with your `ClassLoader`","body":"And you might also want to redirect to the parent <code>ClassLoader</code> in case another class is loaded with your <code>ClassLoader</code>"},{"owner":{"account_id":29264403,"reputation":3,"user_id":22420511,"display_name":"Sinclair"},"score":0,"creation_date":1698239236,"post_id":77358643,"comment_id":136379732,"body_markdown":"@Holger Thanks for your replies, your ideas are correct, the codes have some deficiencies like you mentioned, I will refine it.","body":"@Holger Thanks for your replies, your ideas are correct, the codes have some deficiencies like you mentioned, I will refine it."},{"owner":{"account_id":29264403,"reputation":3,"user_id":22420511,"display_name":"Sinclair"},"score":0,"creation_date":1698239250,"post_id":77358643,"comment_id":136379737,"body_markdown":"@dan1st indeed, i need do that.","body":"@dan1st indeed, i need do that."}],"answers":[{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1698232916,"creation_date":1698232916,"answer_id":77359006,"question_id":77358643,"body_markdown":"When a class loader defines a class, the JVM will use this defining class loader for resolving all symbolic references. You might not have noticed so far, as the inherited `loadClass` implementation will only delegate to `findClass` if the standard delegation failed.\r\n\r\nSince you do not specify a parent loader, the system class loader will be used as delegation target, which might work in your local environment but fail in the cloud environment. You should pass the defining class loader of your own code as target.\r\n\r\nSo, a correct `findClass` method would only return the specific class when the requested class name matches. But the better approach is not to override `findClass` at all, leave all resolving to the default, but implement a method doing the intended operation in the first place, to define a particular class:\r\n\r\n```java\r\nclass ClassFileClassLoader extends ClassLoader {\r\n    ClassFileClassLoader() {\r\n        super(ClassFileClassLoader.class.getClassLoader());\r\n    }\r\n\r\n    Class&lt;?&gt; defineClass(String name, InputStream source) throws IOException {\r\n        byte[] definition;\r\n        try(InputStream toReadAndClose = source) {\r\n            byte[] buff = new byte[1024 * 4];\r\n            int len;\r\n            ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n            while((len = toReadAndClose.read(buff)) != -1) {\r\n                baos.write(buff, 0, len);\r\n            }\r\n            definition = baos.toByteArray();\r\n        }\r\n        return super.defineClass(name, definition, 0, definition.length);\r\n    }\r\n}\r\n```\r\nYou may have to add `public` modifiers if the class does not reside in the same package as the using code but Id keep the visibility at minimum.\r\n\r\nThen, you may use it like\r\n\r\n```java\r\nClassFileClassLoader classLoader = new ClassFileClassLoader();\r\nString className = classFile.getOriginalFilename().split(&quot;\\\\.&quot;)[0];\r\nClass&lt;?&gt; clazz = classLoader.defineClass(\r\n        packagePath + &quot;.&quot; + className, classFile.getInputStream());\r\nMethod[] methods = clazz.getMethods();\r\nfor (Method m : methods) {\r\n    if (m.getName().equals(methodName)) {\r\n        Object o = clazz.getConstructor().newInstance();\r\n        m.invoke(o, args);\r\n        return;\r\n    }\r\n}\r\n```\r\n\r\nNote that calling `newInstance()` directly on a `Class` is discouraged (and deprecated with Java&#160;9 and newer). The instance should be created by calling `newInstance()` on a `Constructor` as demonstrated above.\r\n\r\nFurther, the reading code has been improved to use [try-with-resources](https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html).","title":"Why does this ClassLoader be used twice?","body":"<p>When a class loader defines a class, the JVM will use this defining class loader for resolving all symbolic references. You might not have noticed so far, as the inherited <code>loadClass</code> implementation will only delegate to <code>findClass</code> if the standard delegation failed.</p>\n<p>Since you do not specify a parent loader, the system class loader will be used as delegation target, which might work in your local environment but fail in the cloud environment. You should pass the defining class loader of your own code as target.</p>\n<p>So, a correct <code>findClass</code> method would only return the specific class when the requested class name matches. But the better approach is not to override <code>findClass</code> at all, leave all resolving to the default, but implement a method doing the intended operation in the first place, to define a particular class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class ClassFileClassLoader extends ClassLoader {\n    ClassFileClassLoader() {\n        super(ClassFileClassLoader.class.getClassLoader());\n    }\n\n    Class&lt;?&gt; defineClass(String name, InputStream source) throws IOException {\n        byte[] definition;\n        try(InputStream toReadAndClose = source) {\n            byte[] buff = new byte[1024 * 4];\n            int len;\n            ByteArrayOutputStream baos = new ByteArrayOutputStream();\n            while((len = toReadAndClose.read(buff)) != -1) {\n                baos.write(buff, 0, len);\n            }\n            definition = baos.toByteArray();\n        }\n        return super.defineClass(name, definition, 0, definition.length);\n    }\n}\n</code></pre>\n<p>You may have to add <code>public</code> modifiers if the class does not reside in the same package as the using code but Id keep the visibility at minimum.</p>\n<p>Then, you may use it like</p>\n<pre class=\"lang-java prettyprint-override\"><code>ClassFileClassLoader classLoader = new ClassFileClassLoader();\nString className = classFile.getOriginalFilename().split(&quot;\\\\.&quot;)[0];\nClass&lt;?&gt; clazz = classLoader.defineClass(\n        packagePath + &quot;.&quot; + className, classFile.getInputStream());\nMethod[] methods = clazz.getMethods();\nfor (Method m : methods) {\n    if (m.getName().equals(methodName)) {\n        Object o = clazz.getConstructor().newInstance();\n        m.invoke(o, args);\n        return;\n    }\n}\n</code></pre>\n<p>Note that calling <code>newInstance()</code> directly on a <code>Class</code> is discouraged (and deprecated with Java9 and newer). The instance should be created by calling <code>newInstance()</code> on a <code>Constructor</code> as demonstrated above.</p>\n<p>Further, the reading code has been improved to use <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"nofollow noreferrer\">try-with-resources</a>.</p>\n"}],"owner":{"account_id":29264403,"reputation":3,"user_id":22420511,"display_name":"Sinclair"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77359006,"answer_count":1,"score":0,"last_activity_date":1698232916,"creation_date":1698229228,"question_id":77358643,"body_markdown":"### Background\r\nI want to execute an function that has not been loaded in JVM in a running program. \r\n\r\nMy program is running on cloud, and I want to dynamically execute an function without redeploying the application.\r\n\r\nMy mean is writing a customized ClassLoader receiving Class file from my exposed interface, the customized classloader is here:\r\n\r\n```\r\n@Slf4j\r\npublic class ClassFileClassLoader extends ClassLoader {\r\n    private final InputStream classFileInputStream;\r\n\r\n    public ClassFileClassLoader(InputStream classFileInputStream) {\r\n        this.classFileInputStream = classFileInputStream;\r\n    }\r\n\r\n    @Override\r\n    public Class&lt;?&gt; findClass(String name) throws ClassNotFoundException {\r\n        log.info(&quot;Class [{}] is going to be loaded.&quot;, name);\r\n        //check if this class has been loaded by super ClassLoader\r\n        Class&lt;?&gt; clazz = super.findLoadedClass(name);\r\n        if (clazz == null) {\r\n            byte[] classData = getClassData(); \r\n            if (classData == null) {\r\n                throw new ClassNotFoundException();\r\n            }\r\n            clazz = defineClass(name, classData, 0, classData.length); \r\n        }\r\n        return clazz;\r\n    }\r\n\r\n    private byte[] getClassData() {\r\n        try {\r\n            byte[] buff = new byte[1024 * 4];\r\n            int len;\r\n            ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n            while ((len = classFileInputStream.read(buff)) != -1) {\r\n                baos.write(buff, 0, len);\r\n            }\r\n            return baos.toByteArray();\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        } finally {\r\n            if (classFileInputStream != null) {\r\n                try {\r\n                    classFileInputStream.close();\r\n                } catch(IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n}\r\n```\r\n\r\nAnd then I make a task class with a function:\r\n\r\n```\r\npublic class AnyTask {\r\n    public void afterSaleGoodsOfZD(String acc) {\r\n        AfterSalesDao afterSalesDao = (AfterSalesDao) SpringContextUtil.getBean(&quot;afterSalesDao&quot;);\r\n        // ... some business logic\r\n\r\n    }\r\n}\r\n```\r\nAnd my exposed interface like this:\r\n\r\n```\r\n@PostMapping(&quot;/dynamicLoading&quot;)\r\n    public void dynamicLoading(@RequestParam(&quot;class&quot;) MultipartFile classFile, @RequestParam String packagePath,\r\n                               @RequestParam String methodName, @RequestParam Object[] args)\r\n            throws IOException, ClassNotFoundException, InstantiationException, IllegalAccessException, InvocationTargetException {\r\n        ClassFileClassLoader classLoader = new ClassFileClassLoader(classFile.getInputStream());\r\n        String className = classFile.getOriginalFilename().split(&quot;\\\\.&quot;)[0];\r\n        Class&lt;?&gt; clazz = classLoader.findClass(packagePath + &quot;.&quot; + className);\r\n        Method[] methods = clazz.getMethods();\r\n        for (Method m : methods) {\r\n            if (m.getName().equals(methodName)) {\r\n                Object o = clazz.newInstance();\r\n                m.invoke(o, args);\r\n                return;\r\n            }\r\n        }\r\n    }\r\n```\r\n\r\nJVM version: 1.8.0_392 (arm64) &quot;Amazon&quot; - &quot;Amazon Corretto 8&quot;\r\n\r\n### Process\r\n1. Compile the task class AnyTask with javac on local machine.\r\n2. Use the compiled class to invoke the exposed interface\r\n\r\n```\r\ncurl --location &#39;http://xxxx/api/task/dynamicLoading&#39; \\\r\n--form &#39;class=@&quot;/xx/xx/xx/AnyTask.class&quot;&#39; \\\r\n--form &#39;packagePath=&quot;com.wosai.it.oms.task&quot;&#39; \\\r\n--form &#39;methodName=&quot;afterSaleGoodsOfZD&quot;&#39; \\\r\n--form &#39;args=&quot;acc&quot;\r\n```\r\n\r\n### Question \r\nThe process is totally normal on my local machine, but when it comes to cloud, the problem appears. It will throw an exception &quot;java.lang.reflect.InvocationTargetException&quot;\r\n\r\nWith my log `log.info(&quot;Class [{}] is going to be loaded.&quot;, name);` in ClassFileClassLoader I found that this log was invoked twice:\r\n1. Class [com.wosai.it.oms.task.AnyTask] is going to be load.\r\n2. Class [com.wosai.it.oms.util.SpringContextUtil] is going to be load.\r\nAnd it occurred an exception when invoked the second, of course, that must be an exception, because my customized classloader cannot load SpringContextUtil!\r\n\r\nBut on my local machine, there is only one log printed: \r\n1. Class [com.wosai.it.oms.task.AnyTask] is going to be load.\r\nSo, it&#39;s running normally.\r\n\r\nI want to know why the same code has different performance in local and cloud?\r\nAs my expected, it should be executed normally like local.","title":"Why does this ClassLoader be used twice?","body":"<h3>Background</h3>\n<p>I want to execute an function that has not been loaded in JVM in a running program.</p>\n<p>My program is running on cloud, and I want to dynamically execute an function without redeploying the application.</p>\n<p>My mean is writing a customized ClassLoader receiving Class file from my exposed interface, the customized classloader is here:</p>\n<pre><code>@Slf4j\npublic class ClassFileClassLoader extends ClassLoader {\n    private final InputStream classFileInputStream;\n\n    public ClassFileClassLoader(InputStream classFileInputStream) {\n        this.classFileInputStream = classFileInputStream;\n    }\n\n    @Override\n    public Class&lt;?&gt; findClass(String name) throws ClassNotFoundException {\n        log.info(&quot;Class [{}] is going to be loaded.&quot;, name);\n        //check if this class has been loaded by super ClassLoader\n        Class&lt;?&gt; clazz = super.findLoadedClass(name);\n        if (clazz == null) {\n            byte[] classData = getClassData(); \n            if (classData == null) {\n                throw new ClassNotFoundException();\n            }\n            clazz = defineClass(name, classData, 0, classData.length); \n        }\n        return clazz;\n    }\n\n    private byte[] getClassData() {\n        try {\n            byte[] buff = new byte[1024 * 4];\n            int len;\n            ByteArrayOutputStream baos = new ByteArrayOutputStream();\n            while ((len = classFileInputStream.read(buff)) != -1) {\n                baos.write(buff, 0, len);\n            }\n            return baos.toByteArray();\n        } catch (Exception e) {\n            e.printStackTrace();\n        } finally {\n            if (classFileInputStream != null) {\n                try {\n                    classFileInputStream.close();\n                } catch(IOException e) {\n                    e.printStackTrace();\n                }\n            }\n        }\n        return null;\n    }\n}\n</code></pre>\n<p>And then I make a task class with a function:</p>\n<pre><code>public class AnyTask {\n    public void afterSaleGoodsOfZD(String acc) {\n        AfterSalesDao afterSalesDao = (AfterSalesDao) SpringContextUtil.getBean(&quot;afterSalesDao&quot;);\n        // ... some business logic\n\n    }\n}\n</code></pre>\n<p>And my exposed interface like this:</p>\n<pre><code>@PostMapping(&quot;/dynamicLoading&quot;)\n    public void dynamicLoading(@RequestParam(&quot;class&quot;) MultipartFile classFile, @RequestParam String packagePath,\n                               @RequestParam String methodName, @RequestParam Object[] args)\n            throws IOException, ClassNotFoundException, InstantiationException, IllegalAccessException, InvocationTargetException {\n        ClassFileClassLoader classLoader = new ClassFileClassLoader(classFile.getInputStream());\n        String className = classFile.getOriginalFilename().split(&quot;\\\\.&quot;)[0];\n        Class&lt;?&gt; clazz = classLoader.findClass(packagePath + &quot;.&quot; + className);\n        Method[] methods = clazz.getMethods();\n        for (Method m : methods) {\n            if (m.getName().equals(methodName)) {\n                Object o = clazz.newInstance();\n                m.invoke(o, args);\n                return;\n            }\n        }\n    }\n</code></pre>\n<p>JVM version: 1.8.0_392 (arm64) &quot;Amazon&quot; - &quot;Amazon Corretto 8&quot;</p>\n<h3>Process</h3>\n<ol>\n<li>Compile the task class AnyTask with javac on local machine.</li>\n<li>Use the compiled class to invoke the exposed interface</li>\n</ol>\n<pre><code>curl --location 'http://xxxx/api/task/dynamicLoading' \\\n--form 'class=@&quot;/xx/xx/xx/AnyTask.class&quot;' \\\n--form 'packagePath=&quot;com.wosai.it.oms.task&quot;' \\\n--form 'methodName=&quot;afterSaleGoodsOfZD&quot;' \\\n--form 'args=&quot;acc&quot;\n</code></pre>\n<h3>Question</h3>\n<p>The process is totally normal on my local machine, but when it comes to cloud, the problem appears. It will throw an exception &quot;java.lang.reflect.InvocationTargetException&quot;</p>\n<p>With my log <code>log.info(&quot;Class [{}] is going to be loaded.&quot;, name);</code> in ClassFileClassLoader I found that this log was invoked twice:</p>\n<ol>\n<li>Class [com.wosai.it.oms.task.AnyTask] is going to be load.</li>\n<li>Class [com.wosai.it.oms.util.SpringContextUtil] is going to be load.\nAnd it occurred an exception when invoked the second, of course, that must be an exception, because my customized classloader cannot load SpringContextUtil!</li>\n</ol>\n<p>But on my local machine, there is only one log printed:</p>\n<ol>\n<li>Class [com.wosai.it.oms.task.AnyTask] is going to be load.\nSo, it's running normally.</li>\n</ol>\n<p>I want to know why the same code has different performance in local and cloud?\nAs my expected, it should be executed normally like local.</p>\n"},{"tags":["java","amazon-web-services","spring-boot","amazon-s3","command-line-interface"],"answers":[{"tags":[],"owner":{"account_id":8754628,"reputation":582,"user_id":6546584,"display_name":"desoss"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698232362,"creation_date":1689244123,"answer_id":76678360,"question_id":76678222,"body_markdown":"From my experience, the error `&quot;java.lang.NoSuchFieldError: INSTANCE&quot;` is raised when there are some problems with the dependencies.\r\n\r\nCan you check that you don&#39;t have duplicated dependencies?\r\n\r\nHence, I suggest you to not focus too much now on the bean configuration but start google for `&quot;java.lang.NoSuchFieldError: INSTANCE&quot;`.","title":"Error in creating AmazonS3 Bean after installing AWS CLI in Spring Application","body":"<p>From my experience, the error <code>&quot;java.lang.NoSuchFieldError: INSTANCE&quot;</code> is raised when there are some problems with the dependencies.</p>\n<p>Can you check that you don't have duplicated dependencies?</p>\n<p>Hence, I suggest you to not focus too much now on the bean configuration but start google for <code>&quot;java.lang.NoSuchFieldError: INSTANCE&quot;</code>.</p>\n"},{"tags":[],"owner":{"account_id":29009044,"reputation":1,"user_id":22220921,"display_name":"Maxim Borodin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689252715,"creation_date":1689252715,"answer_id":76679585,"question_id":76678222,"body_markdown":"`com.googlecode.jsontoken` has `org.apache.httpcomponents:httpcore:jar:4.4.15`\r\nAnd  `aws-java-sdk-s3` has `org.apache.httpcomponents:httpclient:jar:4.5.13`\r\n","title":"Error in creating AmazonS3 Bean after installing AWS CLI in Spring Application","body":"<p><code>com.googlecode.jsontoken</code> has <code>org.apache.httpcomponents:httpcore:jar:4.4.15</code>\nAnd  <code>aws-java-sdk-s3</code> has <code>org.apache.httpcomponents:httpclient:jar:4.5.13</code></p>\n"}],"owner":{"account_id":29009044,"reputation":1,"user_id":22220921,"display_name":"Maxim Borodin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":164,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1698232362,"creation_date":1689242950,"question_id":76678222,"body_markdown":"I try to use AmazonS3 in my application using Spring Boot, Java, AWS SDK S3\r\nI get credentials from application.properties and all work fine\r\nHere my configuration file for creating AmazonS3 Bean\r\n\r\n```\r\n@Configuration\r\npublic class StorageConfiguration {\r\n\r\n    @Value(&quot;${cloud.aws.credentials.access-key}&quot;)\r\n    private String accessKey;\r\n    @Value(&quot;${cloud.aws.credentials.secret-key}&quot;)\r\n    private String accessSecret;\r\n    @Value(&quot;${cloud.aws.region.static}&quot;)\r\n    private String region;\r\n\r\n    @Bean\r\n    public AmazonS3 s3Client() {\r\n        AWSCredentials credentials = new BasicAWSCredentials(accessKey, accessSecret);\r\n        return AmazonS3ClientBuilder.standard()\r\n                .withCredentials(new AWSStaticCredentialsProvider(credentials))\r\n                .withRegion(region).build();\r\n    }\r\n\r\n}\r\n```\r\nThen I install AWS CLI on my computer and always get next exception\r\n\r\n```\r\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;s3Client&#39; defined in class path resource [com/cinemalab/aws/service/fileService/configurations/StorageConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.amazonaws.services.s3.AmazonS3]: Factory method &#39;s3Client&#39; threw exception; nested exception is java.lang.NoSuchFieldError: INSTANCE\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658) ~[spring-beans-5.3.20.jar:5.3.20]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:486) ~[spring-beans-5.3.20.jar:5.3.20]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.20.jar:5.3.20]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.20.jar:5.3.20]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.20.jar:5.3.20]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.20.jar:5.3.20]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.20.jar:5.3.20]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.20.jar:5.3.20]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.20.jar:5.3.20]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.20.jar:5.3.20]\r\n\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.20.jar:5.3.20]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389) ~[spring-beans-5.3.20.jar:5.3.20]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309) ~[spring-beans-5.3.20.jar:5.3.20]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:656) ~[spring-beans-5.3.20.jar:5.3.20]\r\n\t... 34 common frames omitted\r\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.amazonaws.services.s3.AmazonS3]: Factory method &#39;s3Client&#39; threw exception; nested exception is java.lang.NoSuchFieldError: INSTANCE\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.3.20.jar:5.3.20]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653) ~[spring-beans-5.3.20.jar:5.3.20]\r\n\t... 47 common frames omitted\r\nCaused by: java.lang.NoSuchFieldError: INSTANCE\r\n\tat org.apache.http.impl.io.DefaultHttpRequestWriterFactory.&lt;init&gt;(DefaultHttpRequestWriterFactory.java:53) ~[httpcore-4.4.15.jar:4.4.15]\r\n\tat org.apache.http.impl.io.DefaultHttpRequestWriterFactory.&lt;init&gt;(DefaultHttpRequestWriterFactory.java:57) ~[httpcore-4.4.15.jar:4.4.15]\r\n\tat org.apache.http.impl.io.DefaultHttpRequestWriterFactory.&lt;clinit&gt;(DefaultHttpRequestWriterFactory.java:47) ~[httpcore-4.4.15.jar:4.4.15]\r\n\tat org.apache.http.impl.conn.ManagedHttpClientConnectionFactory.&lt;init&gt;(ManagedHttpClientConnectionFactory.java:83) ~[httpclient-4.5.13.jar:4.5.13]\r\n\tat org.apache.http.impl.conn.ManagedHttpClientConnectionFactory.&lt;init&gt;(ManagedHttpClientConnectionFactory.java:96) ~[httpclient-4.5.13.jar:4.5.13]\r\n\tat org.apache.http.impl.conn.ManagedHttpClientConnectionFactory.&lt;init&gt;(ManagedHttpClientConnectionFactory.java:105) ~[httpclient-4.5.13.jar:4.5.13]\r\n\tat org.apache.http.impl.conn.ManagedHttpClientConnectionFactory.&lt;clinit&gt;(ManagedHttpClientConnectionFactory.java:63) ~[httpclient-4.5.13.jar:4.5.13]\r\n\tat org.apache.http.impl.conn.PoolingHttpClientConnectionManager$InternalConnectionFactory.&lt;init&gt;(PoolingHttpClientConnectionManager.java:620) ~[httpclient-4.5.13.jar:4.5.13]\r\n\tat org.apache.http.impl.conn.PoolingHttpClientConnectionManager.&lt;init&gt;(PoolingHttpClientConnectionManager.java:181) ~[httpclient-4.5.13.jar:4.5.13]\r\n\tat org.apache.http.impl.conn.PoolingHttpClientConnectionManager.&lt;init&gt;(PoolingHttpClientConnectionManager.java:165) ~[httpclient-4.5.13.jar:4.5.13]\r\n\tat com.amazonaws.http.apache.client.impl.ApacheConnectionManagerFactory.create(ApacheConnectionManagerFactory.java:74) ~[aws-java-sdk-core-1.12.504.jar:na]\r\n\tat com.amazonaws.http.apache.client.impl.ApacheConnectionManagerFactory.create(ApacheConnectionManagerFactory.java:59) ~[aws-java-sdk-core-1.12.504.jar:na]\r\n\tat com.amazonaws.http.apache.client.impl.ApacheHttpClientFactory.create(ApacheHttpClientFactory.java:50) ~[aws-java-sdk-core-1.12.504.jar:na]\r\n\tat com.amazonaws.http.apache.client.impl.ApacheHttpClientFactory.create(ApacheHttpClientFactory.java:38) ~[aws-java-sdk-core-1.12.504.jar:na]\r\n\tat com.amazonaws.http.AmazonHttpClient.&lt;init&gt;(AmazonHttpClient.java:347) ~[aws-java-sdk-core-1.12.504.jar:na]\r\n\tat com.amazonaws.http.AmazonHttpClient.&lt;init&gt;(AmazonHttpClient.java:331) ~[aws-java-sdk-core-1.12.504.jar:na]\r\n\tat com.amazonaws.AmazonWebServiceClient.&lt;init&gt;(AmazonWebServiceClient.java:239) ~[aws-java-sdk-core-1.12.504.jar:na]\r\n\tat com.amazonaws.AmazonWebServiceClient.&lt;init&gt;(AmazonWebServiceClient.java:225) ~[aws-java-sdk-core-1.12.504.jar:na]\r\n\tat com.amazonaws.services.s3.AmazonS3Client.&lt;init&gt;(AmazonS3Client.java:724) ~[aws-java-sdk-s3-1.12.504.jar:na]\r\n\tat com.amazonaws.services.s3.AmazonS3Builder$1.apply(AmazonS3Builder.java:35) ~[aws-java-sdk-s3-1.12.504.jar:na]\r\n\tat com.amazonaws.services.s3.AmazonS3Builder$1.apply(AmazonS3Builder.java:32) ~[aws-java-sdk-s3-1.12.504.jar:na]\r\n\tat com.amazonaws.services.s3.AmazonS3ClientBuilder.build(AmazonS3ClientBuilder.java:64) ~[aws-java-sdk-s3-1.12.504.jar:na]\r\n\tat com.amazonaws.services.s3.AmazonS3ClientBuilder.build(AmazonS3ClientBuilder.java:28) ~[aws-java-sdk-s3-1.12.504.jar:na]\r\n\tat com.amazonaws.client.builder.AwsSyncClientBuilder.build(AwsSyncClientBuilder.java:46) ~[aws-java-sdk-core-1.12.504.jar:na]\r\n\tat com.cinemalab.aws.service.fileService.configurations.StorageConfiguration.s3Client(StorageConfiguration.java:27) ~[classes/:na]\r\n\tat com.cinemalab.aws.service.fileService.configurations.StorageConfiguration$$EnhancerBySpringCGLIB$$e0fa3205.CGLIB$s3Client$0(&lt;generated&gt;) ~[classes/:na]\r\n\tat com.cinemalab.aws.service.fileService.configurations.StorageConfiguration$$EnhancerBySpringCGLIB$$e0fa3205$$FastClassBySpringCGLIB$$f8149035.invoke(&lt;generated&gt;) ~[classes/:na]\r\n\tat org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:244) ~[spring-core-5.3.20.jar:5.3.20]\r\n\tat org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331) ~[spring-context-5.3.20.jar:5.3.20]\r\n\tat com.cinemalab.aws.service.fileService.configurations.StorageConfiguration$$EnhancerBySpringCGLIB$$e0fa3205.s3Client(&lt;generated&gt;) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.3.20.jar:5.3.20]\r\n\t... 48 common frames omitted\r\n\r\n\r\nProcess finished with exit code 1\r\n\r\n```\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- https://mvnrepository.com/artifact/com.amazonaws/aws-java-sdk-s3 --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n            &lt;artifactId&gt;aws-java-sdk-s3&lt;/artifactId&gt;\r\n            &lt;version&gt;1.12.504&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n    &lt;/dependencies&gt;\r\n\r\n\r\nI tried to configure AWS CLI via aws configure\r\nI tried to delete AWS CLI\r\nI tried different credential for creating Bean\r\n","title":"Error in creating AmazonS3 Bean after installing AWS CLI in Spring Application","body":"<p>I try to use AmazonS3 in my application using Spring Boot, Java, AWS SDK S3\nI get credentials from application.properties and all work fine\nHere my configuration file for creating AmazonS3 Bean</p>\n<pre><code>@Configuration\npublic class StorageConfiguration {\n\n    @Value(&quot;${cloud.aws.credentials.access-key}&quot;)\n    private String accessKey;\n    @Value(&quot;${cloud.aws.credentials.secret-key}&quot;)\n    private String accessSecret;\n    @Value(&quot;${cloud.aws.region.static}&quot;)\n    private String region;\n\n    @Bean\n    public AmazonS3 s3Client() {\n        AWSCredentials credentials = new BasicAWSCredentials(accessKey, accessSecret);\n        return AmazonS3ClientBuilder.standard()\n                .withCredentials(new AWSStaticCredentialsProvider(credentials))\n                .withRegion(region).build();\n    }\n\n}\n</code></pre>\n<p>Then I install AWS CLI on my computer and always get next exception</p>\n<pre><code>Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 's3Client' defined in class path resource [com/cinemalab/aws/service/fileService/configurations/StorageConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.amazonaws.services.s3.AmazonS3]: Factory method 's3Client' threw exception; nested exception is java.lang.NoSuchFieldError: INSTANCE\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:486) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:656) ~[spring-beans-5.3.20.jar:5.3.20]\n    ... 34 common frames omitted\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.amazonaws.services.s3.AmazonS3]: Factory method 's3Client' threw exception; nested exception is java.lang.NoSuchFieldError: INSTANCE\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653) ~[spring-beans-5.3.20.jar:5.3.20]\n    ... 47 common frames omitted\nCaused by: java.lang.NoSuchFieldError: INSTANCE\n    at org.apache.http.impl.io.DefaultHttpRequestWriterFactory.&lt;init&gt;(DefaultHttpRequestWriterFactory.java:53) ~[httpcore-4.4.15.jar:4.4.15]\n    at org.apache.http.impl.io.DefaultHttpRequestWriterFactory.&lt;init&gt;(DefaultHttpRequestWriterFactory.java:57) ~[httpcore-4.4.15.jar:4.4.15]\n    at org.apache.http.impl.io.DefaultHttpRequestWriterFactory.&lt;clinit&gt;(DefaultHttpRequestWriterFactory.java:47) ~[httpcore-4.4.15.jar:4.4.15]\n    at org.apache.http.impl.conn.ManagedHttpClientConnectionFactory.&lt;init&gt;(ManagedHttpClientConnectionFactory.java:83) ~[httpclient-4.5.13.jar:4.5.13]\n    at org.apache.http.impl.conn.ManagedHttpClientConnectionFactory.&lt;init&gt;(ManagedHttpClientConnectionFactory.java:96) ~[httpclient-4.5.13.jar:4.5.13]\n    at org.apache.http.impl.conn.ManagedHttpClientConnectionFactory.&lt;init&gt;(ManagedHttpClientConnectionFactory.java:105) ~[httpclient-4.5.13.jar:4.5.13]\n    at org.apache.http.impl.conn.ManagedHttpClientConnectionFactory.&lt;clinit&gt;(ManagedHttpClientConnectionFactory.java:63) ~[httpclient-4.5.13.jar:4.5.13]\n    at org.apache.http.impl.conn.PoolingHttpClientConnectionManager$InternalConnectionFactory.&lt;init&gt;(PoolingHttpClientConnectionManager.java:620) ~[httpclient-4.5.13.jar:4.5.13]\n    at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.&lt;init&gt;(PoolingHttpClientConnectionManager.java:181) ~[httpclient-4.5.13.jar:4.5.13]\n    at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.&lt;init&gt;(PoolingHttpClientConnectionManager.java:165) ~[httpclient-4.5.13.jar:4.5.13]\n    at com.amazonaws.http.apache.client.impl.ApacheConnectionManagerFactory.create(ApacheConnectionManagerFactory.java:74) ~[aws-java-sdk-core-1.12.504.jar:na]\n    at com.amazonaws.http.apache.client.impl.ApacheConnectionManagerFactory.create(ApacheConnectionManagerFactory.java:59) ~[aws-java-sdk-core-1.12.504.jar:na]\n    at com.amazonaws.http.apache.client.impl.ApacheHttpClientFactory.create(ApacheHttpClientFactory.java:50) ~[aws-java-sdk-core-1.12.504.jar:na]\n    at com.amazonaws.http.apache.client.impl.ApacheHttpClientFactory.create(ApacheHttpClientFactory.java:38) ~[aws-java-sdk-core-1.12.504.jar:na]\n    at com.amazonaws.http.AmazonHttpClient.&lt;init&gt;(AmazonHttpClient.java:347) ~[aws-java-sdk-core-1.12.504.jar:na]\n    at com.amazonaws.http.AmazonHttpClient.&lt;init&gt;(AmazonHttpClient.java:331) ~[aws-java-sdk-core-1.12.504.jar:na]\n    at com.amazonaws.AmazonWebServiceClient.&lt;init&gt;(AmazonWebServiceClient.java:239) ~[aws-java-sdk-core-1.12.504.jar:na]\n    at com.amazonaws.AmazonWebServiceClient.&lt;init&gt;(AmazonWebServiceClient.java:225) ~[aws-java-sdk-core-1.12.504.jar:na]\n    at com.amazonaws.services.s3.AmazonS3Client.&lt;init&gt;(AmazonS3Client.java:724) ~[aws-java-sdk-s3-1.12.504.jar:na]\n    at com.amazonaws.services.s3.AmazonS3Builder$1.apply(AmazonS3Builder.java:35) ~[aws-java-sdk-s3-1.12.504.jar:na]\n    at com.amazonaws.services.s3.AmazonS3Builder$1.apply(AmazonS3Builder.java:32) ~[aws-java-sdk-s3-1.12.504.jar:na]\n    at com.amazonaws.services.s3.AmazonS3ClientBuilder.build(AmazonS3ClientBuilder.java:64) ~[aws-java-sdk-s3-1.12.504.jar:na]\n    at com.amazonaws.services.s3.AmazonS3ClientBuilder.build(AmazonS3ClientBuilder.java:28) ~[aws-java-sdk-s3-1.12.504.jar:na]\n    at com.amazonaws.client.builder.AwsSyncClientBuilder.build(AwsSyncClientBuilder.java:46) ~[aws-java-sdk-core-1.12.504.jar:na]\n    at com.cinemalab.aws.service.fileService.configurations.StorageConfiguration.s3Client(StorageConfiguration.java:27) ~[classes/:na]\n    at com.cinemalab.aws.service.fileService.configurations.StorageConfiguration$$EnhancerBySpringCGLIB$$e0fa3205.CGLIB$s3Client$0(&lt;generated&gt;) ~[classes/:na]\n    at com.cinemalab.aws.service.fileService.configurations.StorageConfiguration$$EnhancerBySpringCGLIB$$e0fa3205$$FastClassBySpringCGLIB$$f8149035.invoke(&lt;generated&gt;) ~[classes/:na]\n    at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:244) ~[spring-core-5.3.20.jar:5.3.20]\n    at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331) ~[spring-context-5.3.20.jar:5.3.20]\n    at com.cinemalab.aws.service.fileService.configurations.StorageConfiguration$$EnhancerBySpringCGLIB$$e0fa3205.s3Client(&lt;generated&gt;) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.3.20.jar:5.3.20]\n    ... 48 common frames omitted\n\n\nProcess finished with exit code 1\n\n</code></pre>\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/com.amazonaws/aws-java-sdk-s3 --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n        &lt;artifactId&gt;aws-java-sdk-s3&lt;/artifactId&gt;\n        &lt;version&gt;1.12.504&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n        &lt;version&gt;3.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n&lt;/dependencies&gt;\n</code></pre>\n<p>I tried to configure AWS CLI via aws configure\nI tried to delete AWS CLI\nI tried different credential for creating Bean</p>\n"},{"tags":["java","android-studio","ionic-framework","widget"],"owner":{"account_id":29748162,"reputation":43,"user_id":22798670,"display_name":"Mikber"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1698231554,"creation_date":1698212660,"question_id":77356882,"body_markdown":"I have an Ionic project. In this ionic project, I want to create widgets for Android and iOS. I create a QR code as soon as I log in to the application. I am trying to set this file as a widget image using Android Studio. But decodeStream always comes back null and the widget image also comes up empty. What could be the problem?\r\n\r\nMy example code:\r\n\r\n\r\n\r\n\r\n```\r\nfinal File file = new File(&quot;/storage/emulated/0/Android/data/com.xxx.yyy/files/zzz.png&quot;);\r\n        //Log.d(Environment.getExternalStorageDirectory().exists())\r\n      Log.d(&quot;STATE&quot;, &quot;updateAppWidgettttttttttttttttt: &quot;+file.exists());\r\n      Log.d(&quot;STATE&quot;, &quot;sdasdasdasdasd: &quot;+file.length());\r\n\r\n        // Construct the RemoteViews object\r\n        RemoteViews views = new RemoteViews(context.getPackageName(), R.layout.xy);\r\n      AtomicFile atomicFile =  new AtomicFile(file);\r\n      FileOutputStream fos = null;\r\n      try {\r\n        Bitmap bitmap = BitmapFactory.decodeFile(file.getAbsolutePath());\r\n        fos = atomicFile.startWrite();\r\n        Log.d(&quot;showmethebitmap&quot;, bitmap.toString());\r\n        OutputStream oos = new BufferedOutputStream(fos);\r\n        bitmap.compress(Bitmap.CompressFormat.JPEG,0,oos);\r\n        oos.flush();\r\n        atomicFile.finishWrite(fos);\r\n\r\n\r\n        File location = new File(Environment.getExternalStorageDirectory().getAbsolutePath()+ &quot;/Android/data/com.xxx.yyy/files/&quot;);\r\n        File dest = new File(location, &quot;zzz&quot; + &quot;.png&quot;);\r\n        FileInputStream fis;\r\n        fis = new FileInputStream(dest);\r\n        Bitmap img = BitmapFactory.decodeStream(fis); //bitmap alwasy null\r\n        views.setImageViewBitmap(R.id.imageView, img);\r\n\r\n        appWidgetManager.updateAppWidget(appWidgetId, views);\r\n\r\n      } catch (IOException e) {\r\n        atomicFile.failWrite(fos);\r\n        Log.d(&quot;TAG&quot;, &quot;updateAppWidget: &quot;+e);\r\n      }\r\n```","title":"decodeStream is always null in Android Studio","body":"<p>I have an Ionic project. In this ionic project, I want to create widgets for Android and iOS. I create a QR code as soon as I log in to the application. I am trying to set this file as a widget image using Android Studio. But decodeStream always comes back null and the widget image also comes up empty. What could be the problem?</p>\n<p>My example code:</p>\n<pre><code>final File file = new File(&quot;/storage/emulated/0/Android/data/com.xxx.yyy/files/zzz.png&quot;);\n        //Log.d(Environment.getExternalStorageDirectory().exists())\n      Log.d(&quot;STATE&quot;, &quot;updateAppWidgettttttttttttttttt: &quot;+file.exists());\n      Log.d(&quot;STATE&quot;, &quot;sdasdasdasdasd: &quot;+file.length());\n\n        // Construct the RemoteViews object\n        RemoteViews views = new RemoteViews(context.getPackageName(), R.layout.xy);\n      AtomicFile atomicFile =  new AtomicFile(file);\n      FileOutputStream fos = null;\n      try {\n        Bitmap bitmap = BitmapFactory.decodeFile(file.getAbsolutePath());\n        fos = atomicFile.startWrite();\n        Log.d(&quot;showmethebitmap&quot;, bitmap.toString());\n        OutputStream oos = new BufferedOutputStream(fos);\n        bitmap.compress(Bitmap.CompressFormat.JPEG,0,oos);\n        oos.flush();\n        atomicFile.finishWrite(fos);\n\n\n        File location = new File(Environment.getExternalStorageDirectory().getAbsolutePath()+ &quot;/Android/data/com.xxx.yyy/files/&quot;);\n        File dest = new File(location, &quot;zzz&quot; + &quot;.png&quot;);\n        FileInputStream fis;\n        fis = new FileInputStream(dest);\n        Bitmap img = BitmapFactory.decodeStream(fis); //bitmap alwasy null\n        views.setImageViewBitmap(R.id.imageView, img);\n\n        appWidgetManager.updateAppWidget(appWidgetId, views);\n\n      } catch (IOException e) {\n        atomicFile.failWrite(fos);\n        Log.d(&quot;TAG&quot;, &quot;updateAppWidget: &quot;+e);\n      }\n</code></pre>\n"},{"tags":["java","spring-boot","websocket"],"owner":{"account_id":16258491,"reputation":159,"user_id":11740548,"display_name":"Mattmmmmm"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698231433,"creation_date":1698231433,"question_id":77358855,"body_markdown":"I am using WebSocket to design a notification system, and for testing purposes, I uses ```simpMessagingTemplate``` in one of the controller to see if the ws message could be sent correctly. However, only the http response of that controller was sent, the ws message never showed up. After some testing, I found that once I made the controller return nothing(```Result&lt;List&lt;ImgVo&gt;&gt;``` to ```void```), the ws message could be sent correctly, and I am very confused about this behavior. As far as I know, WebSocket connection is different from the Http connection, and when my frontend starts loading, it would establish a connection with backend WebSocket, and that connection would be alive as long as both applications are alive. And when a Http request reaches that controller, a http connection is established, and the controller would first send the ws message via the existing WebSocket connection created earlier, then it would send the http response via the http connection made in that controller, so there shouldn&#39;t be any conflict, but this is the result I got. Please explain to me if I am wrong, thanks.\r\n\r\n\r\n   \r\n\r\n \r\n\r\n```\r\n//This only returns Http Response, no WebSocket message is received in the frontend\r\n@GetMapping(&quot;/index_imgs&quot;)\r\n        public Result&lt;List&lt;ImgVo&gt;&gt; listIndexImgs(){\r\n            List&lt;ImgVo&gt; indexImgVos = indexImgService.listIndexImgs();\r\n            simpMessagingTemplate.convertAndSend(&quot;/topic&quot;, &quot;test msg&quot;);\r\n            return Result.success(indexImgVos);\r\n        }\r\n\r\n//Changing return type to void makes the WebSocket Message sent correctly. Why???\r\n@GetMapping(&quot;/index_imgs&quot;)\r\n        public void listIndexImgs(){\r\n            List&lt;ImgVo&gt; indexImgVos = indexImgService.listIndexImgs();\r\n            simpMessagingTemplate.convertAndSend(&quot;/topic&quot;, &quot;test msg&quot;);\r\n        }\r\n```\r\n\r\nMy WebSocket config:\r\n```\r\n@Configuration\r\n@EnableWebSocketMessageBroker\r\npublic class WebSocketConfig implements WebSocketMessageBrokerConfigurer {\r\n    @Override\r\n    public void configureMessageBroker(MessageBrokerRegistry registry) {\r\n        registry.enableSimpleBroker(&quot;/topic&quot;);\r\n        registry.setApplicationDestinationPrefixes(&quot;/app&quot;);\r\n    }\r\n\r\n    @Override\r\n    public void registerStompEndpoints(StompEndpointRegistry registry) {\r\n        registry.addEndpoint(&quot;/ws-endpoint&quot;).setAllowedOriginPatterns(&quot;*&quot;);\r\n        registry.addEndpoint(&quot;/ws-endpoint&quot;).setAllowedOriginPatterns(&quot;*&quot;).withSockJS();\r\n    }\r\n}\r\n```\r\n\r\nFrontend:\r\n```\r\nconst client = new StompJs.Client({\r\n    brokerURL: &#39;ws://localhost:8080/ws-endpoint&#39;,\r\n    onConnect: () =&gt; {\r\n      client.subscribe(&#39;/topic&#39;, message =&gt;\r\n        console.log(`Received: ${message.body}`)\r\n      );\r\n    },\r\n  });\r\n```\r\n","title":"I tried to send both Http response and WebSocket message in the same controller, and only one of them can be sent correctly","body":"<p>I am using WebSocket to design a notification system, and for testing purposes, I uses <code>simpMessagingTemplate</code> in one of the controller to see if the ws message could be sent correctly. However, only the http response of that controller was sent, the ws message never showed up. After some testing, I found that once I made the controller return nothing(<code>Result&lt;List&lt;ImgVo&gt;&gt;</code> to <code>void</code>), the ws message could be sent correctly, and I am very confused about this behavior. As far as I know, WebSocket connection is different from the Http connection, and when my frontend starts loading, it would establish a connection with backend WebSocket, and that connection would be alive as long as both applications are alive. And when a Http request reaches that controller, a http connection is established, and the controller would first send the ws message via the existing WebSocket connection created earlier, then it would send the http response via the http connection made in that controller, so there shouldn't be any conflict, but this is the result I got. Please explain to me if I am wrong, thanks.</p>\n<pre><code>//This only returns Http Response, no WebSocket message is received in the frontend\n@GetMapping(&quot;/index_imgs&quot;)\n        public Result&lt;List&lt;ImgVo&gt;&gt; listIndexImgs(){\n            List&lt;ImgVo&gt; indexImgVos = indexImgService.listIndexImgs();\n            simpMessagingTemplate.convertAndSend(&quot;/topic&quot;, &quot;test msg&quot;);\n            return Result.success(indexImgVos);\n        }\n\n//Changing return type to void makes the WebSocket Message sent correctly. Why???\n@GetMapping(&quot;/index_imgs&quot;)\n        public void listIndexImgs(){\n            List&lt;ImgVo&gt; indexImgVos = indexImgService.listIndexImgs();\n            simpMessagingTemplate.convertAndSend(&quot;/topic&quot;, &quot;test msg&quot;);\n        }\n</code></pre>\n<p>My WebSocket config:</p>\n<pre><code>@Configuration\n@EnableWebSocketMessageBroker\npublic class WebSocketConfig implements WebSocketMessageBrokerConfigurer {\n    @Override\n    public void configureMessageBroker(MessageBrokerRegistry registry) {\n        registry.enableSimpleBroker(&quot;/topic&quot;);\n        registry.setApplicationDestinationPrefixes(&quot;/app&quot;);\n    }\n\n    @Override\n    public void registerStompEndpoints(StompEndpointRegistry registry) {\n        registry.addEndpoint(&quot;/ws-endpoint&quot;).setAllowedOriginPatterns(&quot;*&quot;);\n        registry.addEndpoint(&quot;/ws-endpoint&quot;).setAllowedOriginPatterns(&quot;*&quot;).withSockJS();\n    }\n}\n</code></pre>\n<p>Frontend:</p>\n<pre><code>const client = new StompJs.Client({\n    brokerURL: 'ws://localhost:8080/ws-endpoint',\n    onConnect: () =&gt; {\n      client.subscribe('/topic', message =&gt;\n        console.log(`Received: ${message.body}`)\n      );\n    },\n  });\n</code></pre>\n"},{"tags":["java","postgresql","spring-boot","hibernate","hikaricp"],"answers":[{"tags":[],"owner":{"account_id":18757669,"reputation":21,"user_id":13677274,"display_name":"Gestankbratwurst"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1698230713,"creation_date":1698230713,"answer_id":77358781,"question_id":77358405,"body_markdown":"When using a **connection pool**, make sure to always close your connection and request a new one for every query. Holding a connection can cause the pool to close it after its idle timeout. \r\n\r\nIn Hikari you are not given an actual connection but a proxy implementation, where the underlying resources are managed internally by Hikari, so reusing this connection is bound to cause problems.\r\n\r\nIf this problem is caused by a library that badly manages connections, then a fallback solution would be to configure Hikari to allow underlying connections to be in an idle state indefinitely. This, however, is suboptimal.","title":"Spring Boot Hikar - Multi Datasource java.sql.SQLException: Connection is closed","body":"<p>When using a <strong>connection pool</strong>, make sure to always close your connection and request a new one for every query. Holding a connection can cause the pool to close it after its idle timeout.</p>\n<p>In Hikari you are not given an actual connection but a proxy implementation, where the underlying resources are managed internally by Hikari, so reusing this connection is bound to cause problems.</p>\n<p>If this problem is caused by a library that badly manages connections, then a fallback solution would be to configure Hikari to allow underlying connections to be in an idle state indefinitely. This, however, is suboptimal.</p>\n"}],"owner":{"account_id":9088500,"reputation":436,"user_id":6765460,"display_name":"Forece85"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1698269166,"answer_count":1,"score":-1,"last_activity_date":1698230713,"creation_date":1698227450,"question_id":77358405,"body_markdown":"Application is running fine for few hours and started facing below exception:\r\n\r\n&gt; &quot;java.sql.SQLException: Connection is closed at\r\n&gt; com.zaxxer.hikari.pool.ProxyConnection$ClosedConnection.lambda$getClosedConnection$0(ProxyConnection.java:515)\r\n&gt; at com.sun.proxy.$Proxy171.prepareStatement(Unknown Source) at\r\n&gt; com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:337)\r\n&gt; at\r\n&gt; com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)\r\n&gt; at\r\n&gt; org.hibernate.engine.jdbc.internal.StatementPreparerImpl$5.doPrepare(StatementPreparerImpl.java:149)\r\n&gt; at\r\n&gt; org.hibernate.engine.jdbc.internal.StatementPreparerImpl$StatementPreparationTemplate.prepareStatement(StatementPreparerImpl.java:176)\r\n&gt; at\r\n&gt; org.hibernate.engine.jdbc.internal.StatementPreparerImpl.prepareQueryStatement(StatementPreparerImpl.java:151)\r\n&gt; at org.hibernate.loader.Loader.prepareQueryStatement(Loader.java:2104)\r\n&gt; at org.hibernate.loader.Loader.executeQueryStatement(Loader.java:2034)\r\n&gt; at org.hibernate.loader.Loader.executeQueryStatement(Loader.java:2012)\r\n&gt; at org.hibernate.loader.Loader.doQuery(Loader.java:953) at\r\n&gt; org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:354)\r\n&gt; at org.hibernate.loader.Loader.doList(Loader.java:2838) at\r\n&gt; org.hibernate.loader.Loader.doList(Loader.java:2820) at\r\n&gt; org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2652) at\r\n&gt; org.hibernate.loader.Loader.list(Loader.java:2647) at\r\n&gt; org.hibernate.loader.custom.CustomLoader.list(CustomLoader.java:338)\r\n&gt; at\r\n&gt; org.hibernate.internal.SessionImpl.listCustomQuery(SessionImpl.java:2131)\r\n&gt; at\r\n&gt; org.hibernate.internal.AbstractSharedSessionContract.list(AbstractSharedSessionContract.java:1163)\r\n&gt; at\r\n&gt; org.hibernate.query.internal.NativeQueryImpl.doList(NativeQueryImpl.java:173)\r\n&gt; at\r\n&gt; org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1533)\r\n&gt; at org.hibernate.query.Query.getResultList(Query.java:165)\r\n\r\n----------\r\nCode for calling query:\r\n\r\n    @Autowired\r\n    private final EntityManager entityManager;\r\n    \r\n    void someMethod() {\r\n    var q = entityManager.createNativeQuery(query);\r\n    var rs = q.getResultList(); // exception at this line in stack trace\r\n    // other code\r\n    }\r\n\r\nWe recently added multiple data sources following this [blog][1]. Any chance it&#39;s causing an issue? Unable to prove some point though. Any help is highly appreciated.\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-boot-configure-multiple-datasources","title":"Spring Boot Hikar - Multi Datasource java.sql.SQLException: Connection is closed","body":"<p>Application is running fine for few hours and started facing below exception:</p>\n<blockquote>\n<p>&quot;java.sql.SQLException: Connection is closed at\ncom.zaxxer.hikari.pool.ProxyConnection$ClosedConnection.lambda$getClosedConnection$0(ProxyConnection.java:515)\nat com.sun.proxy.$Proxy171.prepareStatement(Unknown Source) at\ncom.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:337)\nat\ncom.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)\nat\norg.hibernate.engine.jdbc.internal.StatementPreparerImpl$5.doPrepare(StatementPreparerImpl.java:149)\nat\norg.hibernate.engine.jdbc.internal.StatementPreparerImpl$StatementPreparationTemplate.prepareStatement(StatementPreparerImpl.java:176)\nat\norg.hibernate.engine.jdbc.internal.StatementPreparerImpl.prepareQueryStatement(StatementPreparerImpl.java:151)\nat org.hibernate.loader.Loader.prepareQueryStatement(Loader.java:2104)\nat org.hibernate.loader.Loader.executeQueryStatement(Loader.java:2034)\nat org.hibernate.loader.Loader.executeQueryStatement(Loader.java:2012)\nat org.hibernate.loader.Loader.doQuery(Loader.java:953) at\norg.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:354)\nat org.hibernate.loader.Loader.doList(Loader.java:2838) at\norg.hibernate.loader.Loader.doList(Loader.java:2820) at\norg.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2652) at\norg.hibernate.loader.Loader.list(Loader.java:2647) at\norg.hibernate.loader.custom.CustomLoader.list(CustomLoader.java:338)\nat\norg.hibernate.internal.SessionImpl.listCustomQuery(SessionImpl.java:2131)\nat\norg.hibernate.internal.AbstractSharedSessionContract.list(AbstractSharedSessionContract.java:1163)\nat\norg.hibernate.query.internal.NativeQueryImpl.doList(NativeQueryImpl.java:173)\nat\norg.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1533)\nat org.hibernate.query.Query.getResultList(Query.java:165)</p>\n</blockquote>\n<hr />\n<p>Code for calling query:</p>\n<pre><code>@Autowired\nprivate final EntityManager entityManager;\n\nvoid someMethod() {\nvar q = entityManager.createNativeQuery(query);\nvar rs = q.getResultList(); // exception at this line in stack trace\n// other code\n}\n</code></pre>\n<p>We recently added multiple data sources following this <a href=\"https://www.baeldung.com/spring-boot-configure-multiple-datasources\" rel=\"nofollow noreferrer\">blog</a>. Any chance it's causing an issue? Unable to prove some point though. Any help is highly appreciated.</p>\n"},{"tags":["java","database","jpa","pagination","criteria"],"owner":{"account_id":15689318,"reputation":21,"user_id":11320951,"display_name":"maria_so"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698230522,"creation_date":1698230522,"question_id":77358764,"body_markdown":"This is related to this question: https://stackoverflow.com/questions/5349264/total-row-count-for-pagination-using-jpa-criteria-api.\r\n\r\nI do not want to do two separate queries, one for select the count then one to get the paginated results. \r\nIs there a way to do that?","title":"Is it possible to get the size of the result list and implement pagination only by doing one single call to the db?","body":"<p>This is related to this question: <a href=\"https://stackoverflow.com/questions/5349264/total-row-count-for-pagination-using-jpa-criteria-api\">Total row count for pagination using JPA Criteria API</a>.</p>\n<p>I do not want to do two separate queries, one for select the count then one to get the paginated results.\nIs there a way to do that?</p>\n"},{"tags":["java","spring","maven","spring-boot-maven-plugin"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1616570128,"post_id":66774407,"comment_id":118040345,"body_markdown":"Only applu the `spring-boot-maven-plugin` to projects that should be runnable jars, else don&#39;t apply it.","body":"Only applu the <code>spring-boot-maven-plugin</code> to projects that should be runnable jars, else don&#39;t apply it."},{"owner":{"account_id":223484,"reputation":61166,"user_id":482717,"accept_rate":66,"display_name":"Paul Verest"},"score":0,"creation_date":1616573153,"post_id":66774407,"comment_id":118041559,"body_markdown":"So it is. That is why calling plugin goal must be in long form like org.springframework.boot:spring-boot-maven-plugin:2.4.4:build-image because on root (parent) level no spring-boot is defined, so maven would tell than &quot;spring-boot&quot; is unknown. Common modules does not depend on spring.","body":"So it is. That is why calling plugin goal must be in long form like org.springframework.boot:spring-boot-maven-plugin:2.4.4:buil&zwnj;&#8203;d-image because on root (parent) level no spring-boot is defined, so maven would tell than &quot;spring-boot&quot; is unknown. Common modules does not depend on spring."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1616575331,"post_id":66774407,"comment_id":118042350,"body_markdown":"If you have defined the spring boot plugin in the parent project it will be applied to all modules using that parent.","body":"If you have defined the spring boot plugin in the parent project it will be applied to all modules using that parent."},{"owner":{"account_id":223484,"reputation":61166,"user_id":482717,"accept_rate":66,"display_name":"Paul Verest"},"score":0,"creation_date":1616582751,"post_id":66774407,"comment_id":118045664,"body_markdown":"I put (plugin goal must be in long form like `org.springframework.boot:spring-boot-maven-plugin:2.4.4:build-image` because on root (parent) level no spring-boot plugin is defined). into Question so it is clear, that parent is without spring-boot plugin","body":"I put (plugin goal must be in long form like <code>org.springframework.boot:spring-boot-maven-plugin:2.4.4:buil&zwnj;&#8203;d-image</code> because on root (parent) level no spring-boot plugin is defined). into Question so it is clear, that parent is without spring-boot plugin"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1616583567,"post_id":66774407,"comment_id":118046045,"body_markdown":"If the plugin is defined in the projects it will be applied as well, if not the plugin won&#39;t be applied.","body":"If the plugin is defined in the projects it will be applied as well, if not the plugin won&#39;t be applied."}],"answers":[{"tags":[],"owner":{"account_id":223484,"reputation":61166,"user_id":482717,"accept_rate":66,"display_name":"Paul Verest"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1616657814,"creation_date":1616657246,"answer_id":66794899,"question_id":66774407,"body_markdown":"It seems impossible to do in one command,\r\nso have to \r\n\r\n```\r\nmvn clean install\r\nmvn --projects A spring-boot:build-image\r\nmvn --projects B spring-boot:build-image\r\nmvn --projects D spring-boot:build-image\r\n```\r\n\r\n","title":"build all Spring Boot apps docker(OCI) images with Spring Boot Maven Plugin in one multi-module project","body":"<p>It seems impossible to do in one command,\nso have to</p>\n<pre><code>mvn clean install\nmvn --projects A spring-boot:build-image\nmvn --projects B spring-boot:build-image\nmvn --projects D spring-boot:build-image\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5100302,"reputation":1750,"user_id":4090111,"accept_rate":80,"display_name":"Ulrich Schuster"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1698229576,"creation_date":1698229576,"answer_id":77358682,"question_id":66774407,"body_markdown":"Here is a workaround:\r\n- Declare the spring-boot plugin in the dependency management section of your parent pom\r\n- Explicitly skip the plugin execution in your common submodules:\r\n```\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;skip&gt;true&lt;/skip&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n```\r\n- Execute the plugin for your submodule: `mvn --projects A,B,D --also-make clean install spring-boot:build-image`","title":"build all Spring Boot apps docker(OCI) images with Spring Boot Maven Plugin in one multi-module project","body":"<p>Here is a workaround:</p>\n<ul>\n<li>Declare the spring-boot plugin in the dependency management section of your parent pom</li>\n<li>Explicitly skip the plugin execution in your common submodules:</li>\n</ul>\n<pre><code>            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;skip&gt;true&lt;/skip&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n</code></pre>\n<ul>\n<li>Execute the plugin for your submodule: <code>mvn --projects A,B,D --also-make clean install spring-boot:build-image</code></li>\n</ul>\n"}],"owner":{"account_id":223484,"reputation":61166,"user_id":482717,"accept_rate":66,"display_name":"Paul Verest"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1328,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1698229576,"creation_date":1616557048,"question_id":66774407,"body_markdown":"I have maven multi module project, where most modules are Spring Boot application,\r\nand some `common` modules that are shared between Spring apps.\r\n\r\n```xml\r\n     &lt;modules&gt;\r\n        &lt;module&gt;A&lt;/module&gt;\r\n        &lt;module&gt;B&lt;/module&gt;\r\n        &lt;module&gt;common&lt;/module&gt;\r\n        &lt;module&gt;D&lt;/module&gt;\r\n    &lt;/modules&gt;\r\n```\r\n\r\nNow when I want to build docker(OCI) images for Spring apps with `spring-boot:build-image`, like\r\n\r\n\r\n    mvn --projects A,B,D --also-make clean install org.springframework.boot:spring-boot-maven-plugin:2.4.4:build-image\r\n\r\nmaven still runs `build-image` goal for every `common` modules, that is overkill:\r\nthose `common` modules should be built and consumed as jars.\r\n\r\n(plugin goal must be in long form like `org.springframework.boot:spring-boot-maven-plugin:2.4.4:build-image` because on root (parent) level no spring-boot plugin is defined).\r\n\r\n**How to build all Spring Boot apps from the project in one `mvn` line, not one by one?**\r\n\r\n---\r\n\r\nOf course every Spring Boot app module has spring-boot-maven-plugin plugin defined and configured as described on https://docs.spring.io/spring-boot/docs/current/maven-plugin/reference/htmlsingle/#using-import\r\n&gt; 3.2. Using Spring Boot without the Parent POM\r\n\r\n```xml\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;repackage&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n```\r\n\r\n","title":"build all Spring Boot apps docker(OCI) images with Spring Boot Maven Plugin in one multi-module project","body":"<p>I have maven multi module project, where most modules are Spring Boot application,\nand some <code>common</code> modules that are shared between Spring apps.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>     &lt;modules&gt;\n        &lt;module&gt;A&lt;/module&gt;\n        &lt;module&gt;B&lt;/module&gt;\n        &lt;module&gt;common&lt;/module&gt;\n        &lt;module&gt;D&lt;/module&gt;\n    &lt;/modules&gt;\n</code></pre>\n<p>Now when I want to build docker(OCI) images for Spring apps with <code>spring-boot:build-image</code>, like</p>\n<pre><code>mvn --projects A,B,D --also-make clean install org.springframework.boot:spring-boot-maven-plugin:2.4.4:build-image\n</code></pre>\n<p>maven still runs <code>build-image</code> goal for every <code>common</code> modules, that is overkill:\nthose <code>common</code> modules should be built and consumed as jars.</p>\n<p>(plugin goal must be in long form like <code>org.springframework.boot:spring-boot-maven-plugin:2.4.4:build-image</code> because on root (parent) level no spring-boot plugin is defined).</p>\n<p><strong>How to build all Spring Boot apps from the project in one <code>mvn</code> line, not one by one?</strong></p>\n<hr />\n<p>Of course every Spring Boot app module has spring-boot-maven-plugin plugin defined and configured as described on <a href=\"https://docs.spring.io/spring-boot/docs/current/maven-plugin/reference/htmlsingle/#using-import\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/current/maven-plugin/reference/htmlsingle/#using-import</a></p>\n<blockquote>\n<p>3.2. Using Spring Boot without the Parent POM</p>\n</blockquote>\n<pre class=\"lang-xml prettyprint-override\"><code>            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;repackage&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"score":0,"creation_date":1698226515,"post_id":77358275,"comment_id":136377206,"body_markdown":"How is `pageableResponse` (the variable, not the class) defined?","body":"How is <code>pageableResponse</code> (the variable, not the class) defined?"},{"owner":{"account_id":143734,"reputation":751,"user_id":352290,"accept_rate":100,"display_name":"user352290"},"score":0,"creation_date":1698227154,"post_id":77358275,"comment_id":136377330,"body_markdown":"@S&#246;ren updated description","body":"@S&#246;ren updated description"}],"answers":[{"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698229171,"creation_date":1698229171,"answer_id":77358636,"question_id":77358275,"body_markdown":"&gt; How to get rid of unchecked cast warning while accessing results\r\n\r\nWell, don&#39;t do an unchecked cast, of course.\r\n\r\nIt helps to understand what an unchecked cast is: it&#39;s a cast that exists in the source code, but cannot exist in the bytecode, because the type isn&#39;t available to check against.\r\n\r\nA checked cast is something like `Foo foo = (Foo) something;`: there, the compiler can insert a `checkcast` instruction to ensure that `something` is an instance of `Foo` (or `null`), and it will fail if it&#39;s not. It can do this because (I assume) `Foo.class` exists, that is, `Foo` is a _reifiable type_.\r\n\r\nIn particular here, the JVM can&#39;t check that something is a `List&lt;Foo&gt;` because there&#39;s no such thing as a `List&lt;Foo&gt;` at runtime: everything is just a `List`. So, you can check that something is a `List`, but you can&#39;t know if it&#39;s a `List&lt;Something&gt;`, because there is no `List&lt;Something&gt;.class`.\r\n\r\nYou can&#39;t even do it by checking that all of the elements are instances of `Something` (or `null`): that doesn&#39;t actually tell you if it&#39;s a `List&lt;Something&gt;`; you can only know whether it&#39;s a `List&lt;? super Something&gt;`; and you can only know _that_ if it&#39;s non-empty.\r\n\r\nIf you proceed with the unchecked cast, what the compiler is saying is that it can&#39;t guarantee that that the things in the `List` are of the right type. It allows you to proceed, but it&#39;s now at your own risk.\r\n\r\nWhat you can do is to copy the things into a new list, where _you_ are specifying that it&#39;s a `List&lt;Foo&gt;`, and check that everything in the results is of the right type when you do that copy:\r\n\r\n```\r\nList&lt;Foo&gt; foo = pageableResponse.getResults().stream().map(Foo.class::cast).collect(Collectors.toList());\r\n```\r\n\r\nThis will throw a `ClassCastException` if anything in the list is not a `Foo` (or `null`).\r\n\r\nThis has the downside of creating a copy of the list. Assuming you&#39;re doing something like iterating the list, an alternative avoiding the copy would be to perform a cast before you use each element:\r\n\r\n```\r\nfor (Object result : pageableResponse.getResults()) {\r\n  Foo foo = (Foo) result;  // Will fail if not a Foo.\r\n\r\n  // ...\r\n}\r\n```\r\n\r\nThe downside of this is that you have to consider the failure atomicity (i.e. how do you deal with a non-`Foo` after you have processed one or more `Foo`s - do you need to &quot;undo&quot; the prior processing etc).","title":"How to get rid of unchecked cast warning from results","body":"<blockquote>\n<p>How to get rid of unchecked cast warning while accessing results</p>\n</blockquote>\n<p>Well, don't do an unchecked cast, of course.</p>\n<p>It helps to understand what an unchecked cast is: it's a cast that exists in the source code, but cannot exist in the bytecode, because the type isn't available to check against.</p>\n<p>A checked cast is something like <code>Foo foo = (Foo) something;</code>: there, the compiler can insert a <code>checkcast</code> instruction to ensure that <code>something</code> is an instance of <code>Foo</code> (or <code>null</code>), and it will fail if it's not. It can do this because (I assume) <code>Foo.class</code> exists, that is, <code>Foo</code> is a <em>reifiable type</em>.</p>\n<p>In particular here, the JVM can't check that something is a <code>List&lt;Foo&gt;</code> because there's no such thing as a <code>List&lt;Foo&gt;</code> at runtime: everything is just a <code>List</code>. So, you can check that something is a <code>List</code>, but you can't know if it's a <code>List&lt;Something&gt;</code>, because there is no <code>List&lt;Something&gt;.class</code>.</p>\n<p>You can't even do it by checking that all of the elements are instances of <code>Something</code> (or <code>null</code>): that doesn't actually tell you if it's a <code>List&lt;Something&gt;</code>; you can only know whether it's a <code>List&lt;? super Something&gt;</code>; and you can only know <em>that</em> if it's non-empty.</p>\n<p>If you proceed with the unchecked cast, what the compiler is saying is that it can't guarantee that that the things in the <code>List</code> are of the right type. It allows you to proceed, but it's now at your own risk.</p>\n<p>What you can do is to copy the things into a new list, where <em>you</em> are specifying that it's a <code>List&lt;Foo&gt;</code>, and check that everything in the results is of the right type when you do that copy:</p>\n<pre><code>List&lt;Foo&gt; foo = pageableResponse.getResults().stream().map(Foo.class::cast).collect(Collectors.toList());\n</code></pre>\n<p>This will throw a <code>ClassCastException</code> if anything in the list is not a <code>Foo</code> (or <code>null</code>).</p>\n<p>This has the downside of creating a copy of the list. Assuming you're doing something like iterating the list, an alternative avoiding the copy would be to perform a cast before you use each element:</p>\n<pre><code>for (Object result : pageableResponse.getResults()) {\n  Foo foo = (Foo) result;  // Will fail if not a Foo.\n\n  // ...\n}\n</code></pre>\n<p>The downside of this is that you have to consider the failure atomicity (i.e. how do you deal with a non-<code>Foo</code> after you have processed one or more <code>Foo</code>s - do you need to &quot;undo&quot; the prior processing etc).</p>\n"}],"owner":{"account_id":143734,"reputation":751,"user_id":352290,"accept_rate":100,"display_name":"user352290"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1698229171,"creation_date":1698226243,"question_id":77358275,"body_markdown":"How to get rid of unchecked cast warning while accessing results\r\n\r\n    PageableResponse pageableResponse = fooService.findByFromId(fId, pageable);\r\n\r\n     warning: [unchecked] unchecked cast\r\n            List&lt;Foo&gt; foos = (List&lt;Foo&gt;) pageableResponse.getResults();\r\n\r\nclass definition\r\n\r\n    public class PageableResponse&lt;T&gt; {\r\n        private T results;\r\n    }","title":"How to get rid of unchecked cast warning from results","body":"<p>How to get rid of unchecked cast warning while accessing results</p>\n<pre><code>PageableResponse pageableResponse = fooService.findByFromId(fId, pageable);\n\n warning: [unchecked] unchecked cast\n        List&lt;Foo&gt; foos = (List&lt;Foo&gt;) pageableResponse.getResults();\n</code></pre>\n<p>class definition</p>\n<pre><code>public class PageableResponse&lt;T&gt; {\n    private T results;\n}\n</code></pre>\n"},{"tags":["java","web-applications","calendar","outlook","google-calendar-api"],"comments":[{"owner":{"account_id":6297031,"reputation":1280,"user_id":4892907,"accept_rate":100,"display_name":"xxxvodnikxxx"},"score":0,"creation_date":1517569642,"post_id":18694607,"comment_id":84159022,"body_markdown":"If you dont want a special program for that, google calendar can be subscribed / exported - not sure/ via ical URL. Calendar from outlook can be also share via context menu, but I am not sure how to import into google cal","body":"If you dont want a special program for that, google calendar can be subscribed / exported - not sure/ via ical URL. Calendar from outlook can be also share via context menu, but I am not sure how to import into google cal"}],"answers":[{"tags":[],"owner":{"account_id":99437,"reputation":427,"user_id":268600,"display_name":"Albert Iordache"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1378717320,"creation_date":1378717320,"answer_id":18694811,"question_id":18694607,"body_markdown":"Google Calendar seems to be the best choice, as you can use the [Google Calendar API][1]. For an example written in Java, look [here][2]. Just make sure to note the [GCal API usage limits][5].\r\n\r\nOutlook doesn&#39;t seem to have some sort of an API, but maybe you can make use of or modify something like the [Jpst][3] or [java-libpst][4].\r\n\r\n  [1]: https://developers.google.com/google-apps/calendar/\r\n  [2]: https://developers.google.com/google-apps/calendar/v3/reference/events/insert#examples\r\n  [3]: http://www.independentsoft.de/jpst/\r\n  [4]: https://github.com/rjohnsondev/java-libpst\r\n  [5]: https://developers.google.com/google-apps/calendar/pricing","title":"How to add events to Outlook Calendar or Google Calendar programmatically?","body":"<p>Google Calendar seems to be the best choice, as you can use the <a href=\"https://developers.google.com/google-apps/calendar/\" rel=\"noreferrer\">Google Calendar API</a>. For an example written in Java, look <a href=\"https://developers.google.com/google-apps/calendar/v3/reference/events/insert#examples\" rel=\"noreferrer\">here</a>. Just make sure to note the <a href=\"https://developers.google.com/google-apps/calendar/pricing\" rel=\"noreferrer\">GCal API usage limits</a>.</p>\n\n<p>Outlook doesn't seem to have some sort of an API, but maybe you can make use of or modify something like the <a href=\"http://www.independentsoft.de/jpst/\" rel=\"noreferrer\">Jpst</a> or <a href=\"https://github.com/rjohnsondev/java-libpst\" rel=\"noreferrer\">java-libpst</a>.</p>\n"},{"tags":[],"owner":{"account_id":241731,"reputation":8846,"user_id":512728,"accept_rate":80,"display_name":"Jan Doggen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1612621629,"creation_date":1378718602,"answer_id":18695161,"question_id":18694607,"body_markdown":"Albert already answered for Google. For Outlook you use either [OLE automation][1] or [Microsoft Graph][2].&lt;sup&gt;*&lt;/sup&gt;\r\n\r\nNote that the second option is only for Outlook accounts talking to Exchange Server. If you access other mail backends through Outlook you can&#39;t use Graph, only use OLE.\r\n\r\n&lt;sup&gt;* Update feb 2021: The SOAP based Exchange Web Services still work, but if you start something new use the REST based Graph API&lt;/sup&gt;\r\n\r\n[1]:http://support.microsoft.com/kb/170262\r\n[2]:https://learn.microsoft.com/en-us/exchange/client-developer/exchange-server-development\r\n","title":"How to add events to Outlook Calendar or Google Calendar programmatically?","body":"<p>Albert already answered for Google. For Outlook you use either <a href=\"http://support.microsoft.com/kb/170262\" rel=\"nofollow noreferrer\">OLE automation</a> or <a href=\"https://learn.microsoft.com/en-us/exchange/client-developer/exchange-server-development\" rel=\"nofollow noreferrer\">Microsoft Graph</a>.<sup>*</sup></p>\n<p>Note that the second option is only for Outlook accounts talking to Exchange Server. If you access other mail backends through Outlook you can't use Graph, only use OLE.</p>\n<p><sup>* Update feb 2021: The SOAP based Exchange Web Services still work, but if you start something new use the REST based Graph API</sup></p>\n"},{"tags":[],"owner":{"account_id":3375652,"reputation":1,"user_id":2845623,"display_name":"tachect"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1380875547,"creation_date":1380875547,"answer_id":19176715,"question_id":18694607,"body_markdown":"You can also use the GCal RESTful API directly. The Java classes actually just wrap the REST calls.  \r\nAnd if you created events in Google Calendar you can subscribe to your Google Calendar from Outlook and have your events imported in Outlook too (although you have to use WebDAV for this)","title":"How to add events to Outlook Calendar or Google Calendar programmatically?","body":"<p>You can also use the GCal RESTful API directly. The Java classes actually just wrap the REST calls.<br>\nAnd if you created events in Google Calendar you can subscribe to your Google Calendar from Outlook and have your events imported in Outlook too (although you have to use WebDAV for this)</p>\n"},{"tags":[],"owner":{"account_id":5425548,"reputation":6027,"user_id":4317945,"accept_rate":70,"display_name":"Gabe"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1698228900,"creation_date":1457485820,"answer_id":35881148,"question_id":18694607,"body_markdown":"You can now use [Outlook Calendar REST API][1] and send requests from your java code.\r\n\r\nFor the auth flow see [this getting started documentation][2].\r\n\r\nEg. POST to [https://outlook.office.com/api/v2.0/me/calendars/{calendar_id}/events][3] a JSON content like:\r\n\r\n    {\r\n      &quot;Subject&quot;: &quot;Discuss the Calendar REST API&quot;,\r\n      &quot;Body&quot;: {\r\n        &quot;ContentType&quot;: &quot;HTML&quot;,\r\n        &quot;Content&quot;: &quot;I think it will meet our requirements!&quot;\r\n      },\r\n      &quot;Start&quot;: {\r\n          &quot;DateTime&quot;: &quot;2014-02-02T18:00:00&quot;,\r\n          &quot;TimeZone&quot;: &quot;Pacific Standard Time&quot;\r\n      },\r\n      &quot;End&quot;: {\r\n          &quot;DateTime&quot;: &quot;2014-02-02T19:00:00&quot;,\r\n          &quot;TimeZone&quot;: &quot;Pacific Standard Time&quot;\r\n      },\r\n      &quot;Attendees&quot;: [\r\n        {\r\n          &quot;EmailAddress&quot;: {\r\n            &quot;Address&quot;: &quot;janets@a830edad9050849NDA1.onmicrosoft.com&quot;,\r\n            &quot;Name&quot;: &quot;Janet Schorr&quot;\r\n          },\r\n          &quot;Type&quot;: &quot;Required&quot;\r\n        }\r\n      ]\r\n    }\r\n\r\n\r\n  [1]: https://msdn.microsoft.com/en-us/office/office365/api/calendar-rest-operations#Createevents\r\n  [2]: https://learn.microsoft.com/en-us/outlook/rest/get-started\r\n  [3]: http://fake.com","title":"How to add events to Outlook Calendar or Google Calendar programmatically?","body":"<p>You can now use <a href=\"https://msdn.microsoft.com/en-us/office/office365/api/calendar-rest-operations#Createevents\" rel=\"nofollow noreferrer\">Outlook Calendar REST API</a> and send requests from your java code.</p>\n<p>For the auth flow see <a href=\"https://learn.microsoft.com/en-us/outlook/rest/get-started\" rel=\"nofollow noreferrer\">this getting started documentation</a>.</p>\n<p>Eg. POST to <a href=\"http://fake.com\" rel=\"nofollow noreferrer\">https://outlook.office.com/api/v2.0/me/calendars/{calendar_id}/events</a> a JSON content like:</p>\n<pre><code>{\n  &quot;Subject&quot;: &quot;Discuss the Calendar REST API&quot;,\n  &quot;Body&quot;: {\n    &quot;ContentType&quot;: &quot;HTML&quot;,\n    &quot;Content&quot;: &quot;I think it will meet our requirements!&quot;\n  },\n  &quot;Start&quot;: {\n      &quot;DateTime&quot;: &quot;2014-02-02T18:00:00&quot;,\n      &quot;TimeZone&quot;: &quot;Pacific Standard Time&quot;\n  },\n  &quot;End&quot;: {\n      &quot;DateTime&quot;: &quot;2014-02-02T19:00:00&quot;,\n      &quot;TimeZone&quot;: &quot;Pacific Standard Time&quot;\n  },\n  &quot;Attendees&quot;: [\n    {\n      &quot;EmailAddress&quot;: {\n        &quot;Address&quot;: &quot;janets@a830edad9050849NDA1.onmicrosoft.com&quot;,\n        &quot;Name&quot;: &quot;Janet Schorr&quot;\n      },\n      &quot;Type&quot;: &quot;Required&quot;\n    }\n  ]\n}\n</code></pre>\n"}],"owner":{"account_id":2258311,"reputation":1709,"user_id":1988983,"accept_rate":85,"display_name":"Noah Martin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15960,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":4,"score":6,"last_activity_date":1698228900,"creation_date":1378716619,"question_id":18694607,"body_markdown":"I have a Java Web application from which the user can add events with date, subject and description (like tasks). I want to send these events to the user&#39;s outlook calendar programmatically. Can anyone help me how to achieve this?\r\n\r\nPS: If it can be done through Google Calendar tell me how to do that as I am not stuck with outlook :)","title":"How to add events to Outlook Calendar or Google Calendar programmatically?","body":"<p>I have a Java Web application from which the user can add events with date, subject and description (like tasks). I want to send these events to the user's outlook calendar programmatically. Can anyone help me how to achieve this?</p>\n\n<p>PS: If it can be done through Google Calendar tell me how to do that as I am not stuck with outlook :)</p>\n"},{"tags":["java","string","unicode","character"],"comments":[{"owner":{"display_name":"anon"},"score":1,"creation_date":1366912353,"post_id":5585919,"comment_id":23200309,"body_markdown":"Remove the first backslash, so that instead of escaping the backslash it escapes the Unicode sequence. Using &quot;\\\\&quot; tells Java that you want to print out &quot;\\&quot;, not use it as past of an escape sequence for Unicode characters. If you remove the first one then it will instead escape the Unicode sequence and not the second backslash. At least, it will to the best of my knowledge.","body":"Remove the first backslash, so that instead of escaping the backslash it escapes the Unicode sequence. Using &quot;\\\\&quot; tells Java that you want to print out &quot;\\&quot;, not use it as past of an escape sequence for Unicode characters. If you remove the first one then it will instead escape the Unicode sequence and not the second backslash. At least, it will to the best of my knowledge."},{"owner":{"account_id":3203466,"reputation":18087,"user_id":2705055,"accept_rate":20,"display_name":"Martin Rosenau"},"score":0,"creation_date":1631886659,"post_id":5585919,"comment_id":122352176,"body_markdown":"You can simply convert `int` to `char` the following way: `char ch = (char)c;`. You may create a string like this: `String symbol = &quot;&quot; + (char)c;`. When adding a character to an existing string, this type of conversion should be the easiest way. Example: `String text = &quot;You typed the following character: &quot; + (char)c;`","body":"You can simply convert <code>int</code> to <code>char</code> the following way: <code>char ch = (char)c;</code>. You may create a string like this: <code>String symbol = &quot;&quot; + (char)c;</code>. When adding a character to an existing string, this type of conversion should be the easiest way. Example: <code>String text = &quot;You typed the following character: &quot; + (char)c;</code>"}],"answers":[{"tags":[],"owner":{"account_id":48192,"reputation":10791,"user_id":143069,"display_name":"ILMTitan"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1698228576,"creation_date":1302202183,"answer_id":5586025,"question_id":5585919,"body_markdown":"Remember that `char` is an integer type, and thus can be given an integer value, as well as a char constant.\r\n\r\n    char c = 0x2202;//aka 8706 in decimal. \\u codepoints are in hex.\r\n    String s = String.valueOf(c);","title":"Creating Unicode character from its number","body":"<p>Remember that <code>char</code> is an integer type, and thus can be given an integer value, as well as a char constant.</p>\n<pre><code>char c = 0x2202;//aka 8706 in decimal. \\u codepoints are in hex.\nString s = String.valueOf(c);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":149087,"reputation":18896,"user_id":361319,"accept_rate":62,"display_name":"dty"},"down_vote_count":9,"up_vote_count":91,"is_accepted":true,"score":82,"last_activity_date":1302211835,"creation_date":1302202249,"answer_id":5586041,"question_id":5585919,"body_markdown":"Just cast your `int` to a `char`. You can convert that to a `String` using `Character.toString()`:\r\n\r\n    String s = Character.toString((char)c);\r\n\r\nEDIT:\r\n\r\nJust remember that the escape sequences in Java source code (the `\\u` bits) are in HEX, so if you&#39;re trying to reproduce an escape sequence, you&#39;ll need something like `int c = 0x2202`.","title":"Creating Unicode character from its number","body":"<p>Just cast your <code>int</code> to a <code>char</code>. You can convert that to a <code>String</code> using <code>Character.toString()</code>:</p>\n\n<pre><code>String s = Character.toString((char)c);\n</code></pre>\n\n<p>EDIT:</p>\n\n<p>Just remember that the escape sequences in Java source code (the <code>\\u</code> bits) are in HEX, so if you're trying to reproduce an escape sequence, you'll need something like <code>int c = 0x2202</code>.</p>\n"},{"tags":[],"owner":{"account_id":4926,"reputation":8646,"user_id":7648,"accept_rate":80,"display_name":"Paul Reiners"},"down_vote_count":5,"up_vote_count":7,"is_accepted":false,"score":2,"last_activity_date":1430834968,"creation_date":1302203506,"answer_id":5586307,"question_id":5585919,"body_markdown":"This is how you do it:\r\n\r\n    int cc = 0x2202;\r\n    char ccc = (char) Integer.parseInt(String.valueOf(cc), 16);\r\n    final String text = String.valueOf(ccc);\r\n\r\n[This solution][1] is by Arne Vajh&#248;j.\r\n\r\n\r\n  [1]: http://www.velocityreviews.com/forums/t683028-problem-printing-unicode-in-java.html","title":"Creating Unicode character from its number","body":"<p>This is how you do it:</p>\n\n<pre><code>int cc = 0x2202;\nchar ccc = (char) Integer.parseInt(String.valueOf(cc), 16);\nfinal String text = String.valueOf(ccc);\n</code></pre>\n\n<p><a href=\"http://www.velocityreviews.com/forums/t683028-problem-printing-unicode-in-java.html\" rel=\"nofollow\">This solution</a> is by Arne Vajhj.</p>\n"},{"tags":[],"owner":{"account_id":246,"reputation":107903,"user_id":304,"accept_rate":40,"display_name":"McDowell"},"down_vote_count":0,"up_vote_count":134,"is_accepted":false,"score":134,"last_activity_date":1416882677,"creation_date":1302281788,"answer_id":5598346,"question_id":5585919,"body_markdown":"If you want to get a UTF-16 encoded code unit as a `char`, you can parse the integer and cast to it as others have suggested.\r\n\r\nIf you want to support all code points, use [`Character.toChars(int)`][1]. This will handle cases where code points cannot fit in a single `char` value.\r\n\r\nDoc says:\r\n\r\n&gt;Converts the specified character (Unicode code point) to its UTF-16 representation stored in a char array. If the specified code point is a BMP (Basic Multilingual Plane or Plane 0) value, the resulting char array has the same value as codePoint. If the specified code point is a supplementary code point, the resulting char array has the corresponding surrogate pair.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/lang/Character.html#toChars-int-","title":"Creating Unicode character from its number","body":"<p>If you want to get a UTF-16 encoded code unit as a <code>char</code>, you can parse the integer and cast to it as others have suggested.</p>\n\n<p>If you want to support all code points, use <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/Character.html#toChars-int-\" rel=\"noreferrer\"><code>Character.toChars(int)</code></a>. This will handle cases where code points cannot fit in a single <code>char</code> value.</p>\n\n<p>Doc says:</p>\n\n<blockquote>\n  <p>Converts the specified character (Unicode code point) to its UTF-16 representation stored in a char array. If the specified code point is a BMP (Basic Multilingual Plane or Plane 0) value, the resulting char array has the same value as codePoint. If the specified code point is a supplementary code point, the resulting char array has the corresponding surrogate pair.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":151394,"reputation":52351,"user_id":365237,"accept_rate":96,"display_name":"eis"},"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1625912596,"creation_date":1366107967,"answer_id":16034658,"question_id":5585919,"body_markdown":"The other answers here either only support unicode up to U+FFFF (the answers dealing with just one instance of char) or don&#39;t tell how to get to the actual symbol (the answers stopping at Character.toChars() or using incorrect method after that), so adding my answer here, too.\r\n\r\nTo support supplementary code points also, this is what needs to be done:\r\n\r\n    // this character:\r\n    // http://www.isthisthingon.org/unicode/index.php?page=1F&amp;subpage=4&amp;glyph=1F495\r\n    // using code points here, not U+n notation\r\n    // for equivalence with U+n, below would be 0xnnnn\r\n    int codePoint = 128149;\r\n    // converting to char[] pair\r\n    char[] charPair = Character.toChars(codePoint);\r\n    // and to String, containing the character we want\r\n    String symbol = new String(charPair);\r\n\r\n    // we now have str with the desired character as the first item\r\n    // confirm that we indeed have character with code point 128149\r\n    System.out.println(&quot;First code point: &quot; + symbol.codePointAt(0));\r\n\r\nI also did a quick test as to which conversion methods work and which don&#39;t\r\n\r\n    int codePoint = 128149;\r\n    char[] charPair = Character.toChars(codePoint);\r\n\r\n    System.out.println(new String(charPair, 0, 2).codePointAt(0)); // 128149, worked\r\n    System.out.println(charPair.toString().codePointAt(0));        // 91, didn&#39;t work\r\n    System.out.println(new String(charPair).codePointAt(0));       // 128149, worked\r\n    System.out.println(String.valueOf(codePoint).codePointAt(0));  // 49, didn&#39;t work\r\n    System.out.println(new String(new int[] {codePoint}, 0, 1).codePointAt(0));\r\n                                                                   // 128149, worked\r\n\r\n--\r\n\r\nNote: as @Axel mentioned in the comments, with java 11 there is [Character.toString(int codePoint)](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Character.html#toString(int)) which would arguably be best suited for the job.","title":"Creating Unicode character from its number","body":"<p>The other answers here either only support unicode up to U+FFFF (the answers dealing with just one instance of char) or don't tell how to get to the actual symbol (the answers stopping at Character.toChars() or using incorrect method after that), so adding my answer here, too.</p>\n<p>To support supplementary code points also, this is what needs to be done:</p>\n<pre><code>// this character:\n// http://www.isthisthingon.org/unicode/index.php?page=1F&amp;subpage=4&amp;glyph=1F495\n// using code points here, not U+n notation\n// for equivalence with U+n, below would be 0xnnnn\nint codePoint = 128149;\n// converting to char[] pair\nchar[] charPair = Character.toChars(codePoint);\n// and to String, containing the character we want\nString symbol = new String(charPair);\n\n// we now have str with the desired character as the first item\n// confirm that we indeed have character with code point 128149\nSystem.out.println(&quot;First code point: &quot; + symbol.codePointAt(0));\n</code></pre>\n<p>I also did a quick test as to which conversion methods work and which don't</p>\n<pre><code>int codePoint = 128149;\nchar[] charPair = Character.toChars(codePoint);\n\nSystem.out.println(new String(charPair, 0, 2).codePointAt(0)); // 128149, worked\nSystem.out.println(charPair.toString().codePointAt(0));        // 91, didn't work\nSystem.out.println(new String(charPair).codePointAt(0));       // 128149, worked\nSystem.out.println(String.valueOf(codePoint).codePointAt(0));  // 49, didn't work\nSystem.out.println(new String(new int[] {codePoint}, 0, 1).codePointAt(0));\n                                                               // 128149, worked\n</code></pre>\n<p>--</p>\n<p>Note: as @Axel mentioned in the comments, with java 11 there is <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Character.html#toString(int)\" rel=\"nofollow noreferrer\">Character.toString(int codePoint)</a> which would arguably be best suited for the job.</p>\n"},{"tags":[],"owner":{"account_id":2905164,"reputation":135,"user_id":2490756,"display_name":"Suman Kr. Nath"},"down_vote_count":7,"up_vote_count":0,"is_accepted":false,"score":-7,"last_activity_date":1434900211,"creation_date":1375619003,"answer_id":18042885,"question_id":5585919,"body_markdown":"(ANSWER IS IN DOT NET 4.5 and in java, there must be a similar approach exist)\r\n\r\nI am from West Bengal in INDIA. \r\nAs I understand your problem is ...\r\nYou want to produce similar to &#39;  &#39; (It is a letter in Bengali language) \r\nwhich has Unicode HEX : `0X0985`.\r\n\r\nNow if you know this value in respect of your language then how will you produce that language specific Unicode symbol right ?\r\n\r\nIn Dot Net it is as simple as this :\r\n\r\n    int c = 0X0985;\r\n    string x = Char.ConvertFromUtf32(c);\r\n\r\nNow x is your answer.\r\nBut this is HEX by HEX convert and sentence to sentence conversion is a work for researchers :P\r\n","title":"Creating Unicode character from its number","body":"<p>(ANSWER IS IN DOT NET 4.5 and in java, there must be a similar approach exist)</p>\n\n<p>I am from West Bengal in INDIA. \nAs I understand your problem is ...\nYou want to produce similar to '  ' (It is a letter in Bengali language) \nwhich has Unicode HEX : <code>0X0985</code>.</p>\n\n<p>Now if you know this value in respect of your language then how will you produce that language specific Unicode symbol right ?</p>\n\n<p>In Dot Net it is as simple as this :</p>\n\n<pre><code>int c = 0X0985;\nstring x = Char.ConvertFromUtf32(c);\n</code></pre>\n\n<p>Now x is your answer.\nBut this is HEX by HEX convert and sentence to sentence conversion is a work for researchers :P</p>\n"},{"tags":[],"owner":{"account_id":3567306,"reputation":91,"user_id":2978501,"display_name":"MeraNaamJoker"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1385546997,"creation_date":1385546997,"answer_id":20239460,"question_id":5585919,"body_markdown":"This one worked fine for me.\r\n\r\n      String cc2 = &quot;2202&quot;;\r\n      String text2 = String.valueOf(Character.toChars(Integer.parseInt(cc2, 16)));\r\n\r\nNow text2 will have .","title":"Creating Unicode character from its number","body":"<p>This one worked fine for me.</p>\n\n<pre><code>  String cc2 = \"2202\";\n  String text2 = String.valueOf(Character.toChars(Integer.parseInt(cc2, 16)));\n</code></pre>\n\n<p>Now text2 will have .</p>\n"},{"tags":[],"owner":{"account_id":2534969,"reputation":565,"user_id":3632455,"accept_rate":30,"display_name":"hariprasad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1401291245,"creation_date":1401291245,"answer_id":23915978,"question_id":5585919,"body_markdown":"Unfortunatelly, to remove one backlash as mentioned in first comment (newbiedoodle) don&#39;t lead to good result. Most (if not all) IDE issues syntax error. The reason is in this, that Java Escaped Unicode format expects syntax &quot;\\uXXXX&quot;, where XXXX are 4 hexadecimal digits, which are mandatory. Attempts to fold this string from pieces fails. Of course, &quot;\\\\u&quot; is not the same as &quot;\\\\\\\\u&quot;. The first syntax means escaped &#39;u&#39;, second means escaped backlash (which is backlash) followed by &#39;u&#39;. It is strange, that on the Apache pages is presented utility, which doing exactly this behavior. But in reality, it is [Escape mimic utility][1]. Apache has some its own utilities (i didn&#39;t testet them), which do this work for you. May be, it is still not that, what you want to have. [Apache Escape Unicode utilities][2] But this utility [1] have good approach to the solution. With combination described above (MeraNaamJoker). My solution is create this Escaped mimic string and then convert it back to unicode (to avoid real Escaped Unicode restriction). I used it for copying text, so it is possible, that in uencode method will be better to use &#39;\\\\\\\\u&#39; except &#39;\\\\\\\\\\\\\\\\u&#39;. Try it.\r\n\r\n      /**\r\n       * Converts character to the mimic unicode format i.e. &#39;\\\\u0020&#39;.\r\n       * \r\n       * This format is the Java source code format.\r\n       * \r\n       *   CharUtils.unicodeEscaped(&#39; &#39;) = &quot;\\\\u0020&quot;\r\n       *   CharUtils.unicodeEscaped(&#39;A&#39;) = &quot;\\\\u0041&quot;\r\n       * \r\n       * @param ch  the character to convert\r\n       * @return is in the mimic of escaped unicode string, \r\n       */\r\n      public static String unicodeEscaped(char ch) {\r\n        String returnStr;\r\n        //String uniTemplate = &quot;\\u0000&quot;;\r\n        final static String charEsc = &quot;\\\\u&quot;;\r\n        \r\n        if (ch &lt; 0x10) {\r\n          returnStr = &quot;000&quot; + Integer.toHexString(ch);\r\n        }\r\n        else if (ch &lt; 0x100) {\r\n          returnStr = &quot;00&quot; + Integer.toHexString(ch);\r\n        }\r\n        else if (ch &lt; 0x1000) {\r\n          returnStr = &quot;0&quot; + Integer.toHexString(ch);\r\n        }\r\n        else\r\n          returnStr = &quot;&quot; + Integer.toHexString(ch);\r\n        \r\n        return charEsc + returnStr;\r\n      }\r\n\r\n      /**\r\n       * Converts the string from UTF8 to mimic unicode format i.e. &#39;\\\\u0020&#39;.\r\n       * notice: i cannot use real unicode format, because this is immediately translated\r\n       * to the character in time of compiling and editor (i.e. netbeans) checking it\r\n       * instead reaal unicode format i.e. &#39;\\u0020&#39; i using mimic unicode format &#39;\\\\u0020&#39;\r\n       * as a string, but it doesn&#39;t gives the same results, of course\r\n       * \r\n       * This format is the Java source code format.\r\n       * \r\n       *   CharUtils.unicodeEscaped(&#39; &#39;) = &quot;\\\\u0020&quot;\r\n       *   CharUtils.unicodeEscaped(&#39;A&#39;) = &quot;\\\\u0041&quot;\r\n       * \r\n       * @param String - nationalString in the UTF8 string to convert\r\n       * @return is the string in JAVA unicode mimic escaped\r\n       */\r\n      public String encodeStr(String nationalString) throws UnsupportedEncodingException {\r\n        String convertedString = &quot;&quot;;\r\n    \r\n        for (int i = 0; i &lt; nationalString.length(); i++) {\r\n          Character chs = nationalString.charAt(i);\r\n          convertedString += unicodeEscaped(chs);\r\n        }\r\n        return convertedString;\r\n      }\r\n\r\n      /**\r\n       * Converts the string from mimic unicode format i.e. &#39;\\\\u0020&#39; back to UTF8.\r\n       * \r\n       * This format is the Java source code format.\r\n       * \r\n       *   CharUtils.unicodeEscaped(&#39; &#39;) = &quot;\\\\u0020&quot;\r\n       *   CharUtils.unicodeEscaped(&#39;A&#39;) = &quot;\\\\u0041&quot;\r\n       * \r\n       * @param String - nationalString in the JAVA unicode mimic escaped\r\n       * @return is the string in UTF8 string\r\n       */\r\n      public String uencodeStr(String escapedString) throws UnsupportedEncodingException {\r\n        String convertedString = &quot;&quot;;\r\n    \r\n        String[] arrStr = escapedString.split(&quot;\\\\\\\\u&quot;);\r\n        String str, istr;\r\n        for (int i = 1; i &lt; arrStr.length; i++) {\r\n          str = arrStr[i];\r\n          if (!str.isEmpty()) {\r\n            Integer iI = Integer.parseInt(str, 16);\r\n            char[] chaCha = Character.toChars(iI);\r\n            convertedString += String.valueOf(chaCha);\r\n          }\r\n        }\r\n        return convertedString;\r\n      }\r\n\r\n  [1]: http://www.java2s.com/Tutorial/Java/0120__Development/Convertsthestringtotheunicodeformat.htm\r\n  [2]: https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringEscapeUtils.html\r\n","title":"Creating Unicode character from its number","body":"<p>Unfortunatelly, to remove one backlash as mentioned in first comment (newbiedoodle) don't lead to good result. Most (if not all) IDE issues syntax error. The reason is in this, that Java Escaped Unicode format expects syntax \"\\uXXXX\", where XXXX are 4 hexadecimal digits, which are mandatory. Attempts to fold this string from pieces fails. Of course, \"\\u\" is not the same as \"\\\\u\". The first syntax means escaped 'u', second means escaped backlash (which is backlash) followed by 'u'. It is strange, that on the Apache pages is presented utility, which doing exactly this behavior. But in reality, it is <a href=\"http://www.java2s.com/Tutorial/Java/0120__Development/Convertsthestringtotheunicodeformat.htm\" rel=\"nofollow\">Escape mimic utility</a>. Apache has some its own utilities (i didn't testet them), which do this work for you. May be, it is still not that, what you want to have. <a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringEscapeUtils.html\" rel=\"nofollow\">Apache Escape Unicode utilities</a> But this utility <a href=\"http://www.java2s.com/Tutorial/Java/0120__Development/Convertsthestringtotheunicodeformat.htm\" rel=\"nofollow\">1</a> have good approach to the solution. With combination described above (MeraNaamJoker). My solution is create this Escaped mimic string and then convert it back to unicode (to avoid real Escaped Unicode restriction). I used it for copying text, so it is possible, that in uencode method will be better to use '\\\\u' except '\\\\\\\\u'. Try it.</p>\n\n<pre><code>  /**\n   * Converts character to the mimic unicode format i.e. '\\\\u0020'.\n   * \n   * This format is the Java source code format.\n   * \n   *   CharUtils.unicodeEscaped(' ') = \"\\\\u0020\"\n   *   CharUtils.unicodeEscaped('A') = \"\\\\u0041\"\n   * \n   * @param ch  the character to convert\n   * @return is in the mimic of escaped unicode string, \n   */\n  public static String unicodeEscaped(char ch) {\n    String returnStr;\n    //String uniTemplate = \"\\u0000\";\n    final static String charEsc = \"\\\\u\";\n\n    if (ch &lt; 0x10) {\n      returnStr = \"000\" + Integer.toHexString(ch);\n    }\n    else if (ch &lt; 0x100) {\n      returnStr = \"00\" + Integer.toHexString(ch);\n    }\n    else if (ch &lt; 0x1000) {\n      returnStr = \"0\" + Integer.toHexString(ch);\n    }\n    else\n      returnStr = \"\" + Integer.toHexString(ch);\n\n    return charEsc + returnStr;\n  }\n\n  /**\n   * Converts the string from UTF8 to mimic unicode format i.e. '\\\\u0020'.\n   * notice: i cannot use real unicode format, because this is immediately translated\n   * to the character in time of compiling and editor (i.e. netbeans) checking it\n   * instead reaal unicode format i.e. '\\u0020' i using mimic unicode format '\\\\u0020'\n   * as a string, but it doesn't gives the same results, of course\n   * \n   * This format is the Java source code format.\n   * \n   *   CharUtils.unicodeEscaped(' ') = \"\\\\u0020\"\n   *   CharUtils.unicodeEscaped('A') = \"\\\\u0041\"\n   * \n   * @param String - nationalString in the UTF8 string to convert\n   * @return is the string in JAVA unicode mimic escaped\n   */\n  public String encodeStr(String nationalString) throws UnsupportedEncodingException {\n    String convertedString = \"\";\n\n    for (int i = 0; i &lt; nationalString.length(); i++) {\n      Character chs = nationalString.charAt(i);\n      convertedString += unicodeEscaped(chs);\n    }\n    return convertedString;\n  }\n\n  /**\n   * Converts the string from mimic unicode format i.e. '\\\\u0020' back to UTF8.\n   * \n   * This format is the Java source code format.\n   * \n   *   CharUtils.unicodeEscaped(' ') = \"\\\\u0020\"\n   *   CharUtils.unicodeEscaped('A') = \"\\\\u0041\"\n   * \n   * @param String - nationalString in the JAVA unicode mimic escaped\n   * @return is the string in UTF8 string\n   */\n  public String uencodeStr(String escapedString) throws UnsupportedEncodingException {\n    String convertedString = \"\";\n\n    String[] arrStr = escapedString.split(\"\\\\\\\\u\");\n    String str, istr;\n    for (int i = 1; i &lt; arrStr.length; i++) {\n      str = arrStr[i];\n      if (!str.isEmpty()) {\n        Integer iI = Integer.parseInt(str, 16);\n        char[] chaCha = Character.toChars(iI);\n        convertedString += String.valueOf(chaCha);\n      }\n    }\n    return convertedString;\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3338445,"reputation":520,"user_id":4081237,"display_name":"user96265"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1433885916,"creation_date":1433885916,"answer_id":30743301,"question_id":5585919,"body_markdown":"The code below will write the 4 unicode chars (represented by decimals) for the word &quot;be&quot; in Japanese.  Yes, the verb &quot;be&quot; in Japanese has 4 chars!\r\nThe value of characters is in decimal and it has been read into an array of String[] -- using split for instance.  If you have Octal or Hex, [parseInt][1] take a radix as well.\r\n\r\n    // pseudo code\r\n    // 1. init the String[] containing the 4 unicodes in decima :: intsInStrs \r\n    // 2. allocate the proper number of character pairs :: c2s\r\n    // 3. Using Integer.parseInt (... with radix or not) get the right int value\r\n    // 4. place it in the correct location of in the array of character pairs\r\n    // 5. convert c2s[] to String\r\n    // 6. print \r\n\r\n    String[] intsInStrs = {&quot;12354&quot;, &quot;12426&quot;, &quot;12414&quot;, &quot;12377&quot;}; // 1.\r\n    char [] c2s = new char [intsInStrs.length * 2];  // 2.  two chars per unicode\r\n    \r\n    int ii = 0;\r\n    for (String intString : intsInStrs) {\r\n        // 3. NB ii*2 because the 16 bit value of Unicode is written in 2 chars\r\n\t    Character.toChars(Integer.parseInt(intsInStrs[ii]), c2s, ii * 2 ); // 3 + 4\r\n\t    ++ii; // advance to the next char\r\n    }\r\n\r\n    String symbols = new String(c2s);  // 5.\r\n    System.out.println(&quot;\\nLooooonger code point: &quot; + symbols); // 6.\r\n    // I tested it in Eclipse and Java 7 and it works.  Enjoy\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/lang/Integer.html#parseInt(java.lang.String,%20int)","title":"Creating Unicode character from its number","body":"<p>The code below will write the 4 unicode chars (represented by decimals) for the word \"be\" in Japanese.  Yes, the verb \"be\" in Japanese has 4 chars!\nThe value of characters is in decimal and it has been read into an array of String[] -- using split for instance.  If you have Octal or Hex, <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Integer.html#parseInt(java.lang.String,%20int)\" rel=\"nofollow\">parseInt</a> take a radix as well.</p>\n\n<pre><code>// pseudo code\n// 1. init the String[] containing the 4 unicodes in decima :: intsInStrs \n// 2. allocate the proper number of character pairs :: c2s\n// 3. Using Integer.parseInt (... with radix or not) get the right int value\n// 4. place it in the correct location of in the array of character pairs\n// 5. convert c2s[] to String\n// 6. print \n\nString[] intsInStrs = {\"12354\", \"12426\", \"12414\", \"12377\"}; // 1.\nchar [] c2s = new char [intsInStrs.length * 2];  // 2.  two chars per unicode\n\nint ii = 0;\nfor (String intString : intsInStrs) {\n    // 3. NB ii*2 because the 16 bit value of Unicode is written in 2 chars\n    Character.toChars(Integer.parseInt(intsInStrs[ii]), c2s, ii * 2 ); // 3 + 4\n    ++ii; // advance to the next char\n}\n\nString symbols = new String(c2s);  // 5.\nSystem.out.println(\"\\nLooooonger code point: \" + symbols); // 6.\n// I tested it in Eclipse and Java 7 and it works.  Enjoy\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4829520,"reputation":64,"user_id":3898032,"display_name":"dave110022"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1476934485,"creation_date":1476934485,"answer_id":40145005,"question_id":5585919,"body_markdown":"char c=(char)0x2202;\r\nString s=&quot;&quot;+c;","title":"Creating Unicode character from its number","body":"<p>char c=(char)0x2202;\nString s=\"\"+c;</p>\n"},{"tags":[],"owner":{"account_id":9537198,"reputation":11,"user_id":7086966,"display_name":"fjiang_ca"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1477760722,"creation_date":1477682599,"answer_id":40311926,"question_id":5585919,"body_markdown":"Here is a block to print out unicode chars between `\\u00c0` to `\\u00ff`:\r\n\r\n    char[] ca = {&#39;\\u00c0&#39;};\r\n    for (int i = 0; i &lt; 4; i++) {\r\n        for (int j = 0; j &lt; 16; j++) {\r\n            String sc = new String(ca);\r\n            System.out.print(sc + &quot; &quot;);\r\n            ca[0]++;\r\n        }\r\n        System.out.println();\r\n    }","title":"Creating Unicode character from its number","body":"<p>Here is a block to print out unicode chars between <code>\\u00c0</code> to <code>\\u00ff</code>:</p>\n\n<pre><code>char[] ca = {'\\u00c0'};\nfor (int i = 0; i &lt; 4; i++) {\n    for (int j = 0; j &lt; 16; j++) {\n        String sc = new String(ca);\n        System.out.print(sc + \" \");\n        ca[0]++;\n    }\n    System.out.println();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11398152,"reputation":61,"user_id":8355849,"display_name":"Kapil K. Kushwah"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1500876367,"creation_date":1500876367,"answer_id":45273638,"question_id":5585919,"body_markdown":"    \r\n    String st=&quot;2202&quot;;\r\n    int cp=Integer.parseInt(st,16);// it convert st into hex number.\r\n    char c[]=Character.toChars(cp);\r\n    System.out.println(c);// its display the character corresponding to &#39;\\u2202&#39;.\r\n\r\n\r\n","title":"Creating Unicode character from its number","body":"<pre><code>String st=\"2202\";\nint cp=Integer.parseInt(st,16);// it convert st into hex number.\nchar c[]=Character.toChars(cp);\nSystem.out.println(c);// its display the character corresponding to '\\u2202'.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1560904226,"creation_date":1537928294,"answer_id":52509030,"question_id":5585919,"body_markdown":"Although this is an old question, there is a very easy way to do this in Java 11 which was released today: you can use [a new overload of Character.toString()][1]:\r\n\r\n    public static String toString(int codePoint)\r\n\r\n    Returns a String object representing the specified character (Unicode code point). The result is a string of length 1 or 2, consisting solely of the specified codePoint.\r\n\r\n    Parameters:\r\n    codePoint - the codePoint to be converted\r\n\r\n    Returns:\r\n    the string representation of the specified codePoint\r\n\r\n    Throws:\r\n    IllegalArgumentException - if the specified codePoint is not a valid Unicode code point.\r\n\r\n    Since:\r\n    11\r\n\r\nSince this method supports any Unicode code point, the length of the returned String is not necessarily 1.\r\n\r\nThe code needed for the example given in the question is simply:\r\n\r\n        int codePoint = &#39;\\u2202&#39;;\r\n        String s = Character.toString(codePoint); // &lt;&lt;&lt; Requires JDK 11 !!!\r\n        System.out.println(s); // Prints \r\n\r\nThis approach offers several advantages:\r\n\r\n- It works for any Unicode code point rather than just those that can be handled using a `char`. \r\n- It&#39;s concise, and it&#39;s easy to understand what the code is doing.\r\n- It returns the value as a string rather than a `char[]`, which is often what you want. [The answer posted by McDowell][2] is appropriate if you want the code point returned as `char[]`.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Character.html#toString(int)\r\n  [2]: https://stackoverflow.com/a/5598346/2985643","title":"Creating Unicode character from its number","body":"<p>Although this is an old question, there is a very easy way to do this in Java 11 which was released today: you can use <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Character.html#toString(int)\" rel=\"nofollow noreferrer\">a new overload of Character.toString()</a>:</p>\n\n<pre><code>public static String toString(int codePoint)\n\nReturns a String object representing the specified character (Unicode code point). The result is a string of length 1 or 2, consisting solely of the specified codePoint.\n\nParameters:\ncodePoint - the codePoint to be converted\n\nReturns:\nthe string representation of the specified codePoint\n\nThrows:\nIllegalArgumentException - if the specified codePoint is not a valid Unicode code point.\n\nSince:\n11\n</code></pre>\n\n<p>Since this method supports any Unicode code point, the length of the returned String is not necessarily 1.</p>\n\n<p>The code needed for the example given in the question is simply:</p>\n\n<pre><code>    int codePoint = '\\u2202';\n    String s = Character.toString(codePoint); // &lt;&lt;&lt; Requires JDK 11 !!!\n    System.out.println(s); // Prints \n</code></pre>\n\n<p>This approach offers several advantages:</p>\n\n<ul>\n<li>It works for any Unicode code point rather than just those that can be handled using a <code>char</code>. </li>\n<li>It's concise, and it's easy to understand what the code is doing.</li>\n<li>It returns the value as a string rather than a <code>char[]</code>, which is often what you want. <a href=\"https://stackoverflow.com/a/5598346/2985643\">The answer posted by McDowell</a> is appropriate if you want the code point returned as <code>char[]</code>.</li>\n</ul>\n"}],"owner":{"account_id":4926,"reputation":8646,"user_id":7648,"accept_rate":80,"display_name":"Paul Reiners"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":330387,"favorite_count":0,"down_vote_count":1,"up_vote_count":131,"accepted_answer_id":5586041,"answer_count":13,"score":130,"last_activity_date":1698228576,"creation_date":1302201645,"question_id":5585919,"body_markdown":"I want to display a Unicode character in Java.  If I do this, it works just fine:\r\n\t\t\r\n`String symbol = &quot;\\u2202&quot;;`\r\n\r\nsymbol is equal to &quot;&quot;.  That&#39;s what I want.\r\n\r\nThe problem is that I know the Unicode number and need to create the Unicode symbol from that.  I tried (to me) the obvious thing:\r\n\r\n    int c = 2202;\r\n    String symbol =  &quot;\\\\u&quot; + c;\r\n\r\nHowever, in this case, symbol is equal to &quot;\\u2202&quot;.  That&#39;s not what I want.\r\n\r\nHow can I construct the symbol if I know its Unicode number (but only at run-time---I can&#39;t hard-code it in like the first example)?\r\n","title":"Creating Unicode character from its number","body":"<p>I want to display a Unicode character in Java.  If I do this, it works just fine:</p>\n\n<p><code>String symbol = \"\\u2202\";</code></p>\n\n<p>symbol is equal to \"\".  That's what I want.</p>\n\n<p>The problem is that I know the Unicode number and need to create the Unicode symbol from that.  I tried (to me) the obvious thing:</p>\n\n<pre><code>int c = 2202;\nString symbol =  \"\\\\u\" + c;\n</code></pre>\n\n<p>However, in this case, symbol is equal to \"\\u2202\".  That's not what I want.</p>\n\n<p>How can I construct the symbol if I know its Unicode number (but only at run-time---I can't hard-code it in like the first example)?</p>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":11683,"reputation":1438161,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1698225391,"post_id":77358154,"comment_id":136376978,"body_markdown":"I&#39;d have to check the spec to be sure, but I *assume* it&#39;s equivalent to calling `strictEquals((Object) &quot;abc&quot;, (Object) 5)`.","body":"I&#39;d have to check the spec to be sure, but I <i>assume</i> it&#39;s equivalent to calling <code>strictEquals((Object) &quot;abc&quot;, (Object) 5)</code>."},{"owner":{"account_id":11683,"reputation":1438161,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":2,"creation_date":1698225411,"post_id":77358154,"comment_id":136376985,"body_markdown":"(Your method doesn&#39;t say the arguments have to be of the same type - it says that both arguments have to be convertible to `T`.)","body":"(Your method doesn&#39;t say the arguments have to be of the same type - it says that both arguments have to be convertible to <code>T</code>.)"},{"owner":{"account_id":62540,"reputation":417,"user_id":185764,"accept_rate":90,"display_name":"fwonce"},"score":0,"creation_date":1698226006,"post_id":77358154,"comment_id":136377106,"body_markdown":"You need to declare T&#39;s upper bound or it&#39;s just recognized as `Object`","body":"You need to declare T&#39;s upper bound or it&#39;s just recognized as <code>Object</code>"},{"owner":{"account_id":31622,"reputation":120341,"user_id":86989,"display_name":"newacct"},"score":0,"creation_date":1700465549,"post_id":77358154,"comment_id":136653329,"body_markdown":"&quot;type-safe wrapper around Objects.equals&quot; There is nothing type-unsafe about `Object.equals()`","body":"&quot;type-safe wrapper around Objects.equals&quot; There is nothing type-unsafe about <code>Object.equals()</code>"}],"answers":[{"tags":[],"owner":{"account_id":204515,"reputation":11679,"user_id":452775,"accept_rate":63,"display_name":"Lii"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1698228502,"creation_date":1698225474,"answer_id":77358181,"question_id":77358154,"body_markdown":"```\r\n// Why does this not produce a compiler error?\r\nSystem.out.println(strictEquals(&quot;abc&quot;, 5));  \r\n```\r\n\r\nWhen the type parameter `T` of `strictEquals` gets inferred by the compiler it tries to find a type that makes the types check out. The result is that it infers a common super-type of `Integer` and `String`, which turns out to be `Object`. (It might also be `Comparable` or `Serializable` or something like that.)\r\n\r\nSince both arguments are subtypes to `Object` the method type-checks fine.\r\n\r\nOne way to make the compiler detect a type error is to provide an explicit type argument to `strictEquals`:\r\n\r\n```\r\n// Error: not applicable for the arguments (String, Integer)\r\nSystem.out.println(Main.&lt;String&gt;strictEquals(&quot;abc&quot;, 5));\r\n```\r\n\r\n------\r\n\r\nYou can force the user to provide a type by adding a class object parameter:\r\n\r\n```\r\nSystem.out.println(Main.strictEquals(String.class, &quot;abc&quot;, 5));\r\n\r\npublic static &lt;T&gt; boolean strictEquals(Class&lt;T&gt; compareAsType, T a, T b) {\r\n    Objects.requireNonNull(compareAsType);\r\n    return Objects.equals(a, b);\r\n}\r\n```\r\n\r\n------\r\n\r\nAnother work-around might be rely on the fact that types are invariant in their type arguments. For example, only compare boxes of values, like this:\r\n\r\n```\r\nBox&lt;String&gt; b1 = new Box&lt;&gt;(&quot;abc&quot;);\r\nBox&lt;Integer&gt; b2 = new Box&lt;&gt;(5);\r\n// Error: not applicable for the arguments (Box&lt;String&gt;, Box&lt;Integer&gt;)\r\nSystem.out.println(Main.strictEqualsBoxed(b1, b2));\r\n\r\npublic static &lt;T&gt; boolean strictEqualsBoxed(Box&lt;T&gt; a, Box&lt;T&gt; b) {\r\n    return Objects.equals(a, b);\r\n}\r\n\r\nclass Box&lt;T&gt; {\r\n    T value;\r\n    public Box(T value) {\r\n        this.value = value;\r\n    }\r\n}\r\n```\r\n\r\nBut it&#39;s still easy to circumvent:\r\n\r\n```\r\n// No error\r\nSystem.out.println(Main.strictEqualsBoxed(new Box&lt;&gt;(&quot;abc&quot;), new Box&lt;&gt;(5)));\r\n```\r\n\r\nMaybe their is some other kind of arcane genetics wizardry to make a better solution...? I don&#39;t think so, but I will now embark on a quest to find out! :) ","title":"Why does this type-safe wrapper around Objects.equals not fail when called with different argument types?","body":"<pre><code>// Why does this not produce a compiler error?\nSystem.out.println(strictEquals(&quot;abc&quot;, 5));  \n</code></pre>\n<p>When the type parameter <code>T</code> of <code>strictEquals</code> gets inferred by the compiler it tries to find a type that makes the types check out. The result is that it infers a common super-type of <code>Integer</code> and <code>String</code>, which turns out to be <code>Object</code>. (It might also be <code>Comparable</code> or <code>Serializable</code> or something like that.)</p>\n<p>Since both arguments are subtypes to <code>Object</code> the method type-checks fine.</p>\n<p>One way to make the compiler detect a type error is to provide an explicit type argument to <code>strictEquals</code>:</p>\n<pre><code>// Error: not applicable for the arguments (String, Integer)\nSystem.out.println(Main.&lt;String&gt;strictEquals(&quot;abc&quot;, 5));\n</code></pre>\n<hr />\n<p>You can force the user to provide a type by adding a class object parameter:</p>\n<pre><code>System.out.println(Main.strictEquals(String.class, &quot;abc&quot;, 5));\n\npublic static &lt;T&gt; boolean strictEquals(Class&lt;T&gt; compareAsType, T a, T b) {\n    Objects.requireNonNull(compareAsType);\n    return Objects.equals(a, b);\n}\n</code></pre>\n<hr />\n<p>Another work-around might be rely on the fact that types are invariant in their type arguments. For example, only compare boxes of values, like this:</p>\n<pre><code>Box&lt;String&gt; b1 = new Box&lt;&gt;(&quot;abc&quot;);\nBox&lt;Integer&gt; b2 = new Box&lt;&gt;(5);\n// Error: not applicable for the arguments (Box&lt;String&gt;, Box&lt;Integer&gt;)\nSystem.out.println(Main.strictEqualsBoxed(b1, b2));\n\npublic static &lt;T&gt; boolean strictEqualsBoxed(Box&lt;T&gt; a, Box&lt;T&gt; b) {\n    return Objects.equals(a, b);\n}\n\nclass Box&lt;T&gt; {\n    T value;\n    public Box(T value) {\n        this.value = value;\n    }\n}\n</code></pre>\n<p>But it's still easy to circumvent:</p>\n<pre><code>// No error\nSystem.out.println(Main.strictEqualsBoxed(new Box&lt;&gt;(&quot;abc&quot;), new Box&lt;&gt;(5)));\n</code></pre>\n<p>Maybe their is some other kind of arcane genetics wizardry to make a better solution...? I don't think so, but I will now embark on a quest to find out! :)</p>\n"},{"tags":[],"owner":{"account_id":3467340,"reputation":2336,"user_id":2902555,"display_name":"Alex Walker"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698225794,"creation_date":1698225486,"answer_id":77358182,"question_id":77358154,"body_markdown":"Java will resolve `T` to the most generic base type that both parameters inherit from, in this case `Object`.\r\n\r\nI don&#39;t believe there is any way to use generics for the problem you&#39;re trying to solve. Generics are [erased at runtime](https://stackoverflow.com/questions/339699/java-generics-type-erasure-when-and-what-happens). Note that it&#39;s very common for overridden implementations of `equals` to check (at runtime, not compile-time) that the two compared values have the same type.\r\n\r\nYour best alternative would be to create many implementations of `strictEquals` that take in parameters of the same primitive type, for example:\r\n```java\r\npublic static boolean strictEquals(int a, int b) {\r\n    return a == b;\r\n}\r\n\r\npublic static boolean strictEquals(String a, String b) {\r\n    return Objects.equals(a, b);\r\n}\r\n```","title":"Why does this type-safe wrapper around Objects.equals not fail when called with different argument types?","body":"<p>Java will resolve <code>T</code> to the most generic base type that both parameters inherit from, in this case <code>Object</code>.</p>\n<p>I don't believe there is any way to use generics for the problem you're trying to solve. Generics are <a href=\"https://stackoverflow.com/questions/339699/java-generics-type-erasure-when-and-what-happens\">erased at runtime</a>. Note that it's very common for overridden implementations of <code>equals</code> to check (at runtime, not compile-time) that the two compared values have the same type.</p>\n<p>Your best alternative would be to create many implementations of <code>strictEquals</code> that take in parameters of the same primitive type, for example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static boolean strictEquals(int a, int b) {\n    return a == b;\n}\n\npublic static boolean strictEquals(String a, String b) {\n    return Objects.equals(a, b);\n}\n</code></pre>\n"}],"owner":{"account_id":4882335,"reputation":659,"user_id":10489834,"display_name":"Stefan Pfeifer"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":77358181,"answer_count":2,"score":2,"last_activity_date":1698228502,"creation_date":1698225207,"question_id":77358154,"body_markdown":"I wanted to implement a helper function that behaves like `Objects.equals(a, b)`, except that it can only be called with two objects of the same type. So my idea was to create a generic wrapper `&lt;T&gt; strictEquals(T a, T b)` where each argument has the same type `T`.\r\n\r\nMy implementation looks like shown below, but to my surprise the function can still be called with different argument types without getting a compiler error. Is this a misunderstanding of how Java generics work?\r\n\r\n    import java.util.Objects;\r\n\r\n    public class Main {\r\n        public static &lt;T&gt; boolean strictEquals(T a, T b) {\r\n            return Objects.equals(a, b);\r\n        }\r\n\r\n        public static void main(String[] args) throws Exception {\r\n            System.out.println(strictEquals(&quot;abc&quot;, 5));  // Why does this not produce a compiler error?\r\n        }\r\n    }","title":"Why does this type-safe wrapper around Objects.equals not fail when called with different argument types?","body":"<p>I wanted to implement a helper function that behaves like <code>Objects.equals(a, b)</code>, except that it can only be called with two objects of the same type. So my idea was to create a generic wrapper <code>&lt;T&gt; strictEquals(T a, T b)</code> where each argument has the same type <code>T</code>.</p>\n<p>My implementation looks like shown below, but to my surprise the function can still be called with different argument types without getting a compiler error. Is this a misunderstanding of how Java generics work?</p>\n<pre><code>import java.util.Objects;\n\npublic class Main {\n    public static &lt;T&gt; boolean strictEquals(T a, T b) {\n        return Objects.equals(a, b);\n    }\n\n    public static void main(String[] args) throws Exception {\n        System.out.println(strictEquals(&quot;abc&quot;, 5));  // Why does this not produce a compiler error?\n    }\n}\n</code></pre>\n"},{"tags":["java","intellij-idea","intellij-plugin"],"comments":[{"owner":{"account_id":17693330,"reputation":3781,"user_id":12844632,"display_name":"Egor Klepikov"},"score":0,"creation_date":1698667502,"post_id":77358417,"comment_id":136430216,"body_markdown":"Please contact JetBrains development team directly as described at https://plugins.jetbrains.com/docs/intellij/getting-help.html to address this query","body":"Please contact JetBrains development team directly as described at <a href=\"https://plugins.jetbrains.com/docs/intellij/getting-help.html\" rel=\"nofollow noreferrer\">plugins.jetbrains.com/docs/intellij/getting-help.html</a> to address this query"}],"owner":{"account_id":13837757,"reputation":1,"user_id":9988877,"display_name":"Minecraftschurli"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698228198,"creation_date":1698227528,"question_id":77358417,"body_markdown":"I am creating an IntelliJ plugin and use IntelliJ&#39;s UI designer for my popups, but I would like to use some components from the IntelliJ platform, some of which are created with the UI designer, but I can&#39;t add them to the palette because the `.form` files are not included in the dependency. Is there some other dependency I can add that includes those `.form` files or some other solution to this?\r\n\r\nI tried importing the components into the palette and it works for some because they extend classes like JPanel, but others that are UI designer forms don&#39;t because it can&#39;t determine them as such because it is looking for the not included `.form` file.","title":"How do I use intellij platform ui components in plugin with the ui designer?","body":"<p>I am creating an IntelliJ plugin and use IntelliJ's UI designer for my popups, but I would like to use some components from the IntelliJ platform, some of which are created with the UI designer, but I can't add them to the palette because the <code>.form</code> files are not included in the dependency. Is there some other dependency I can add that includes those <code>.form</code> files or some other solution to this?</p>\n<p>I tried importing the components into the palette and it works for some because they extend classes like JPanel, but others that are UI designer forms don't because it can't determine them as such because it is looking for the not included <code>.form</code> file.</p>\n"},{"tags":["java","spring","hibernate"],"comments":[{"owner":{"account_id":350117,"reputation":8653,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"score":0,"creation_date":1698229055,"post_id":77358497,"comment_id":136377667,"body_markdown":"Why are you using `org.joda.time.LocalDate` instead of `java.time.LocalDate`?  See https://stackoverflow.com/q/29750221/685806","body":"Why are you using <code>org.joda.time.LocalDate</code> instead of <code>java.time.LocalDate</code>?  See <a href=\"https://stackoverflow.com/q/29750221/685806\">stackoverflow.com/q/29750221/685806</a>"},{"owner":{"account_id":23171414,"reputation":195,"user_id":17270610,"display_name":"dynamo"},"score":0,"creation_date":1698229300,"post_id":77358497,"comment_id":136377713,"body_markdown":"working on a tech stack upgrade for this application. Theres 1000s of occurrences of org.joda.time.LocalDate so was hoping i could just leave it be.","body":"working on a tech stack upgrade for this application. Theres 1000s of occurrences of org.joda.time.LocalDate so was hoping i could just leave it be."},{"owner":{"account_id":23171414,"reputation":195,"user_id":17270610,"display_name":"dynamo"},"score":0,"creation_date":1698232130,"post_id":77358497,"comment_id":136378230,"body_markdown":"yeah had a look through the codebase and it could be done but its a massive effort - hoping for another solution","body":"yeah had a look through the codebase and it could be done but its a massive effort - hoping for another solution"},{"owner":{"account_id":23171414,"reputation":195,"user_id":17270610,"display_name":"dynamo"},"score":0,"creation_date":1698233553,"post_id":77358497,"comment_id":136378519,"body_markdown":"agreed but due to time constraints, it isnt the first on the list - also lol wish it was as simple as that - i did that and theres still hundreds of methods that would need updated.","body":"agreed but due to time constraints, it isnt the first on the list - also lol wish it was as simple as that - i did that and theres still hundreds of methods that would need updated."}],"owner":{"account_id":23171414,"reputation":195,"user_id":17270610,"display_name":"dynamo"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1698228138,"creation_date":1698228138,"question_id":77358497,"body_markdown":"My query executes but when returning results, it seems to have an issue with then converting the DATE to LOCALDATE.\r\n\r\nthis is the only place in my application i have an issue with LocalDate - it works with other queries?\r\n\r\nhibernate version: 5.4.33.FINAL\r\n\r\n```\r\njava.lang.ClassCastException: class java.util.Date cannot be cast to class org.joda.time.LocalDate (java.util.Date is in module java.base of loader &#39;bootstrap&#39;; org.joda.time.LocalDate is in unnamed module of loader org.apache.catalina.loader.ParallelWebappClassLoader @46b2dcc5)\r\n```\r\nThis is the column details in my table \r\n```\r\nDATE_EFFECTIVE\tDATE\r\n```\r\nThis is my mapping file - it is the dateEffective column which is causing issues.\r\n```\r\n    &lt;class table=&quot;DATA_POINT&quot; \r\n        name=&quot;com.application.data.domain.datapoint.AbstractDataPoint&quot; \r\n        proxy=&quot;com.application.data.domain.datapoint.DataPoint&quot;\r\n        abstract=&quot;true&quot;\r\n    &gt;\r\n        &lt;id name=&quot;id&quot; type=&quot;java.lang.Long&quot;&gt;\r\n            &lt;column name=&quot;ID&quot; precision=&quot;20&quot; scale=&quot;0&quot; not-null=&quot;true&quot; /&gt;\r\n            &lt;generator class=&quot;sequence&quot;&gt;\r\n                &lt;param name=&quot;sequence&quot;&gt;DATA_POINT_ID_SEQ&lt;/param&gt;\r\n            &lt;/generator&gt;\r\n        &lt;/id&gt;\r\n        &lt;discriminator column=&quot;DATA_POINT_TYPE&quot; type=&quot;string&quot; /&gt;\r\n        &lt;property name=&quot;name&quot; type=&quot;string&quot;&gt;\r\n            &lt;column name=&quot;NAME&quot; length=&quot;64&quot; not-null=&quot;true&quot; /&gt;\r\n        &lt;/property&gt;\r\n        &lt;property name=&quot;product&quot; type=&quot;Product&quot;&gt;\r\n            &lt;column name=&quot;PRODUCT&quot; length=&quot;16&quot; not-null=&quot;false&quot; /&gt;\r\n        &lt;/property&gt;\r\n        &lt;property name=&quot;description&quot; type=&quot;string&quot;&gt;\r\n            &lt;column name=&quot;DESCRIPTION&quot; length=&quot;128&quot; not-null=&quot;true&quot; /&gt;\r\n        &lt;/property&gt;\r\n        &lt;many-to-one name=&quot;networkObject&quot; class=&quot;com.amor.ngc.application.network.domain.AbstractNgcNetworkObject&quot;&gt;\r\n            &lt;column name=&quot;NETWORK_OBJECT_ID&quot; not-null=&quot;false&quot;/&gt;\r\n        &lt;/many-to-one&gt;\r\n        &lt;property name=&quot;dateEffective&quot; type=&quot;LocalDate&quot;&gt;\r\n            &lt;column name=&quot;DATE_EFFECTIVE&quot; length=&quot;7&quot; not-null=&quot;true&quot; /&gt;\r\n        &lt;/property&gt;\r\n ```\r\n\r\nI have the relevant getters and setters \r\n``` \r\n\tpublic LocalDate getDateEffective() {\r\n\t\treturn dateEffective;\r\n\t}\r\n\r\n\tpublic void setDateEffective(LocalDate dateEffective) {\r\n\t\tthis.dateEffective = dateEffective;\r\n\t}\r\n ```\r\n\r\nhere is the full stacktrace\r\n```\r\nAn error occurred during execution of handler: com.web.mvc.composition.ViewMonthlyGasDeliveryCompositionController#display(WebRequest, ViewMonthlyGasDeliveryCompositionSearchCriteria)\r\njava.lang.ClassCastException: class java.util.Date cannot be cast to class org.joda.time.LocalDate (java.util.Date is in module java.base of loader &#39;bootstrap&#39;; org.joda.time.LocalDate is in unnamed module of loader org.apache.catalina.loader.ParallelWebappClassLoader @46b2dcc5)\r\n\tat com.application.core.dao.hibernate.usertype.JodaLocalDateUserType.nullSafeSet(JodaLocalDateUserType.java:81)\r\n\tat org.hibernate.type.CustomType.nullSafeSet(CustomType.java:170)\r\n\tat org.hibernate.param.NamedParameterSpecification.bind(NamedParameterSpecification.java:53)\r\n\tat org.hibernate.loader.hql.QueryLoader.bindParameterValues(QueryLoader.java:648)\r\n\tat org.hibernate.loader.Loader.bindPreparedStatement(Loader.java:2125)\r\n\tat org.hibernate.loader.Loader.prepareQueryStatement(Loader.java:2102)\r\n\tat org.hibernate.loader.Loader.executeQueryStatement(Loader.java:2034)\r\n\tat org.hibernate.loader.Loader.executeQueryStatement(Loader.java:2012)\r\n\tat org.hibernate.loader.Loader.doQuery(Loader.java:948)\r\n\tat org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:349)\r\n\tat org.hibernate.loader.Loader.doList(Loader.java:2843)\r\n\tat org.hibernate.loader.Loader.doList(Loader.java:2825)\r\n\tat org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2657)\r\n\tat org.hibernate.loader.Loader.list(Loader.java:2652)\r\n\tat org.hibernate.loader.hql.QueryLoader.list(QueryLoader.java:506)\r\n\tat org.hibernate.hql.internal.ast.QueryTranslatorImpl.list(QueryTranslatorImpl.java:400)\r\n\tat org.hibernate.engine.query.spi.HQLQueryPlan.performList(HQLQueryPlan.java:219)\r\n\tat org.hibernate.internal.SessionImpl.list(SessionImpl.java:1414)\r\n\tat org.hibernate.query.internal.AbstractProducedQuery.doList(AbstractProducedQuery.java:1636)\r\n\tat org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1604)\r\n\tat org.hibernate.query.internal.AbstractProducedQuery.uniqueResult(AbstractProducedQuery.java:1646)\r\n\tat com.application.data.dao.hibernate.AbstractDataPointHibernateDao.findEffectiveByNetworkObjectAndNameAndProduct(AbstractDataPointHibernateDao.java:86)\r\n\tat com.application.data.dao.hibernate.VolumeDataPointHibernateDao.findEffectiveByNetworkObjectAndNameAndProduct(VolumeDataPointHibernateDao.java:30)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212)\r\n\tat com.sun.proxy.$Proxy118.findEffectiveByNetworkObjectAndNameAndProduct(Unknown Source)\r\n\tat com.application.data.domain.datapoint.DataPointManagerImpl.getVolumeDataPoint(DataPointManagerImpl.java:54)\r\n\tat com.application.network.domain.AbstractNetworkObject.getVolumeDataPoint(AbstractNetworkObject.java:51)\r\n\tat com.application.network.domain.AbstractMeteredPoint.createMonthlyGasData(AbstractMeteredPoint.java:413)\r\n\tat com.application.composition.domain.CompositionDataRootImpl.getDeliveryPointTotalGasData(CompositionDataRootImpl.java:415)\r\n\tat com.service.composition.CompositionServiceImpl.getMonthlyTotalCommingledGasData_aroundBody68(CompositionServiceImpl.java:1263)\r\n\tat com.service.composition.CompositionServiceImpl$AjcClosure69.run(CompositionServiceImpl.java:1)\r\n\tat org.springframework.transaction.aspectj.AbstractTransactionAspect.ajc$around$org_springframework_transaction_aspectj_AbstractTransactionAspect$1$2a73e96cproceed(AbstractTransactionAspect.aj:67)\r\n\tat org.springframework.transaction.aspectj.AbstractTransactionAspect$AbstractTransactionAspect$1.proceedWithInvocation(AbstractTransactionAspect.aj:73)\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:367)\r\n\tat org.springframework.transaction.aspectj.AbstractTransactionAspect.ajc$around$org_springframework_transaction_aspectj_AbstractTransactionAspect$1$2a73e96c(AbstractTransactionAspect.aj:71)\r\n\tat com.service.composition.CompositionServiceImpl.getMonthlyTotalCommingledGasData(CompositionServiceImpl.java:1252)\r\n\tat com.web.mvc.composition.ViewMonthlyGasDeliveryCompositionController.display(ViewMonthlyGasDeliveryCompositionController.java:122)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:105)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:878)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:792)\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1043)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:529)\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:623)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)\r\n\tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:126)\r\n\tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:90)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:118)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:158)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:200)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:92)\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:77)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:152)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)\r\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)\r\n\tat org.springframework.orm.hibernate5.support.OpenSessionInViewFilter.doFilterInternal(OpenSessionInViewFilter.java:156)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\r\n\tat org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:673)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tat java.base/java.lang.Thread.run(Thread.java:829)\r\n```\r\n\r\nthis is my query - i convert the localDate to a Date so it is accepted \r\n```\r\n\tpublic DataPoint findEffectiveByNetworkObjectAndNameAndProduct(NetworkObject&lt;Long&gt; networkObject, String dataPointName, Product product, LocalDate gasDay) {\r\n\t\tQuery query = getSession().createQuery(findDataPointApplicableOnDateByNameQuery)\r\n\t\t\t    .setParameter(&quot;name&quot;, dataPointName)\r\n\t\t\t    .setParameter(&quot;gasDay&quot;, convertToDate(gasDay))\r\n\t\t\t    .setParameter(&quot;product&quot;, product)\r\n\t\t\t\t.setParameter(&quot;networkObject&quot;, networkObject); \r\n\t\t\r\n\t\treturn (DataPoint) query.uniqueResult();\r\n\t}\r\n```\r\n","title":"Hibernate 5 - can not cast Date to LocalDate","body":"<p>My query executes but when returning results, it seems to have an issue with then converting the DATE to LOCALDATE.</p>\n<p>this is the only place in my application i have an issue with LocalDate - it works with other queries?</p>\n<p>hibernate version: 5.4.33.FINAL</p>\n<pre><code>java.lang.ClassCastException: class java.util.Date cannot be cast to class org.joda.time.LocalDate (java.util.Date is in module java.base of loader 'bootstrap'; org.joda.time.LocalDate is in unnamed module of loader org.apache.catalina.loader.ParallelWebappClassLoader @46b2dcc5)\n</code></pre>\n<p>This is the column details in my table</p>\n<pre><code>DATE_EFFECTIVE  DATE\n</code></pre>\n<p>This is my mapping file - it is the dateEffective column which is causing issues.</p>\n<pre><code>    &lt;class table=&quot;DATA_POINT&quot; \n        name=&quot;com.application.data.domain.datapoint.AbstractDataPoint&quot; \n        proxy=&quot;com.application.data.domain.datapoint.DataPoint&quot;\n        abstract=&quot;true&quot;\n    &gt;\n        &lt;id name=&quot;id&quot; type=&quot;java.lang.Long&quot;&gt;\n            &lt;column name=&quot;ID&quot; precision=&quot;20&quot; scale=&quot;0&quot; not-null=&quot;true&quot; /&gt;\n            &lt;generator class=&quot;sequence&quot;&gt;\n                &lt;param name=&quot;sequence&quot;&gt;DATA_POINT_ID_SEQ&lt;/param&gt;\n            &lt;/generator&gt;\n        &lt;/id&gt;\n        &lt;discriminator column=&quot;DATA_POINT_TYPE&quot; type=&quot;string&quot; /&gt;\n        &lt;property name=&quot;name&quot; type=&quot;string&quot;&gt;\n            &lt;column name=&quot;NAME&quot; length=&quot;64&quot; not-null=&quot;true&quot; /&gt;\n        &lt;/property&gt;\n        &lt;property name=&quot;product&quot; type=&quot;Product&quot;&gt;\n            &lt;column name=&quot;PRODUCT&quot; length=&quot;16&quot; not-null=&quot;false&quot; /&gt;\n        &lt;/property&gt;\n        &lt;property name=&quot;description&quot; type=&quot;string&quot;&gt;\n            &lt;column name=&quot;DESCRIPTION&quot; length=&quot;128&quot; not-null=&quot;true&quot; /&gt;\n        &lt;/property&gt;\n        &lt;many-to-one name=&quot;networkObject&quot; class=&quot;com.amor.ngc.application.network.domain.AbstractNgcNetworkObject&quot;&gt;\n            &lt;column name=&quot;NETWORK_OBJECT_ID&quot; not-null=&quot;false&quot;/&gt;\n        &lt;/many-to-one&gt;\n        &lt;property name=&quot;dateEffective&quot; type=&quot;LocalDate&quot;&gt;\n            &lt;column name=&quot;DATE_EFFECTIVE&quot; length=&quot;7&quot; not-null=&quot;true&quot; /&gt;\n        &lt;/property&gt;\n</code></pre>\n<p>I have the relevant getters and setters</p>\n<pre><code>    public LocalDate getDateEffective() {\n        return dateEffective;\n    }\n\n    public void setDateEffective(LocalDate dateEffective) {\n        this.dateEffective = dateEffective;\n    }\n</code></pre>\n<p>here is the full stacktrace</p>\n<pre><code>An error occurred during execution of handler: com.web.mvc.composition.ViewMonthlyGasDeliveryCompositionController#display(WebRequest, ViewMonthlyGasDeliveryCompositionSearchCriteria)\njava.lang.ClassCastException: class java.util.Date cannot be cast to class org.joda.time.LocalDate (java.util.Date is in module java.base of loader 'bootstrap'; org.joda.time.LocalDate is in unnamed module of loader org.apache.catalina.loader.ParallelWebappClassLoader @46b2dcc5)\n    at com.application.core.dao.hibernate.usertype.JodaLocalDateUserType.nullSafeSet(JodaLocalDateUserType.java:81)\n    at org.hibernate.type.CustomType.nullSafeSet(CustomType.java:170)\n    at org.hibernate.param.NamedParameterSpecification.bind(NamedParameterSpecification.java:53)\n    at org.hibernate.loader.hql.QueryLoader.bindParameterValues(QueryLoader.java:648)\n    at org.hibernate.loader.Loader.bindPreparedStatement(Loader.java:2125)\n    at org.hibernate.loader.Loader.prepareQueryStatement(Loader.java:2102)\n    at org.hibernate.loader.Loader.executeQueryStatement(Loader.java:2034)\n    at org.hibernate.loader.Loader.executeQueryStatement(Loader.java:2012)\n    at org.hibernate.loader.Loader.doQuery(Loader.java:948)\n    at org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:349)\n    at org.hibernate.loader.Loader.doList(Loader.java:2843)\n    at org.hibernate.loader.Loader.doList(Loader.java:2825)\n    at org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2657)\n    at org.hibernate.loader.Loader.list(Loader.java:2652)\n    at org.hibernate.loader.hql.QueryLoader.list(QueryLoader.java:506)\n    at org.hibernate.hql.internal.ast.QueryTranslatorImpl.list(QueryTranslatorImpl.java:400)\n    at org.hibernate.engine.query.spi.HQLQueryPlan.performList(HQLQueryPlan.java:219)\n    at org.hibernate.internal.SessionImpl.list(SessionImpl.java:1414)\n    at org.hibernate.query.internal.AbstractProducedQuery.doList(AbstractProducedQuery.java:1636)\n    at org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1604)\n    at org.hibernate.query.internal.AbstractProducedQuery.uniqueResult(AbstractProducedQuery.java:1646)\n    at com.application.data.dao.hibernate.AbstractDataPointHibernateDao.findEffectiveByNetworkObjectAndNameAndProduct(AbstractDataPointHibernateDao.java:86)\n    at com.application.data.dao.hibernate.VolumeDataPointHibernateDao.findEffectiveByNetworkObjectAndNameAndProduct(VolumeDataPointHibernateDao.java:30)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212)\n    at com.sun.proxy.$Proxy118.findEffectiveByNetworkObjectAndNameAndProduct(Unknown Source)\n    at com.application.data.domain.datapoint.DataPointManagerImpl.getVolumeDataPoint(DataPointManagerImpl.java:54)\n    at com.application.network.domain.AbstractNetworkObject.getVolumeDataPoint(AbstractNetworkObject.java:51)\n    at com.application.network.domain.AbstractMeteredPoint.createMonthlyGasData(AbstractMeteredPoint.java:413)\n    at com.application.composition.domain.CompositionDataRootImpl.getDeliveryPointTotalGasData(CompositionDataRootImpl.java:415)\n    at com.service.composition.CompositionServiceImpl.getMonthlyTotalCommingledGasData_aroundBody68(CompositionServiceImpl.java:1263)\n    at com.service.composition.CompositionServiceImpl$AjcClosure69.run(CompositionServiceImpl.java:1)\n    at org.springframework.transaction.aspectj.AbstractTransactionAspect.ajc$around$org_springframework_transaction_aspectj_AbstractTransactionAspect$1$2a73e96cproceed(AbstractTransactionAspect.aj:67)\n    at org.springframework.transaction.aspectj.AbstractTransactionAspect$AbstractTransactionAspect$1.proceedWithInvocation(AbstractTransactionAspect.aj:73)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:367)\n    at org.springframework.transaction.aspectj.AbstractTransactionAspect.ajc$around$org_springframework_transaction_aspectj_AbstractTransactionAspect$1$2a73e96c(AbstractTransactionAspect.aj:71)\n    at com.service.composition.CompositionServiceImpl.getMonthlyTotalCommingledGasData(CompositionServiceImpl.java:1252)\n    at com.web.mvc.composition.ViewMonthlyGasDeliveryCompositionController.display(ViewMonthlyGasDeliveryCompositionController.java:122)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:105)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:878)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:792)\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1043)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:529)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:126)\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:90)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:118)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:158)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:200)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:92)\n    at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:77)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:152)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)\n    at org.springframework.orm.hibernate5.support.OpenSessionInViewFilter.doFilterInternal(OpenSessionInViewFilter.java:156)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\n    at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:673)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.base/java.lang.Thread.run(Thread.java:829)\n</code></pre>\n<p>this is my query - i convert the localDate to a Date so it is accepted</p>\n<pre><code>    public DataPoint findEffectiveByNetworkObjectAndNameAndProduct(NetworkObject&lt;Long&gt; networkObject, String dataPointName, Product product, LocalDate gasDay) {\n        Query query = getSession().createQuery(findDataPointApplicableOnDateByNameQuery)\n                .setParameter(&quot;name&quot;, dataPointName)\n                .setParameter(&quot;gasDay&quot;, convertToDate(gasDay))\n                .setParameter(&quot;product&quot;, product)\n                .setParameter(&quot;networkObject&quot;, networkObject); \n        \n        return (DataPoint) query.uniqueResult();\n    }\n</code></pre>\n"},{"tags":["java","apache-commons","email-validation","tld","rfc822"],"answers":[{"tags":[],"owner":{"account_id":2821287,"reputation":682,"user_id":2424993,"accept_rate":100,"display_name":"Piotr"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1698227380,"creation_date":1698227380,"answer_id":77358398,"question_id":71661283,"body_markdown":"I would say this is intended. You can adjust validation to your by providing parameters you&#39;ve mentioned.\r\n\r\nAccording to https://www.icann.org/en/announcements/details/new-gtld-dotless-domain-names-prohibited-30-8-2013-en dotless domains are prohibited.\r\n\r\nAnd as a word of explanation for parameters:\r\n* `allowLocal` - will allow local domains e.g `mail@somenotexistingtld`\r\n* `allowTld` - will allow top level domains e.g `mail@com`\r\n\r\n To have truly accurate RFC822 validation you need set both to `true`. But in real life scenario I would say that in most of the cases they will be omitted or set to `false`.","title":"Why is a TLD as domain accepted under RFC 822/Apache-commons validations?","body":"<p>I would say this is intended. You can adjust validation to your by providing parameters you've mentioned.</p>\n<p>According to <a href=\"https://www.icann.org/en/announcements/details/new-gtld-dotless-domain-names-prohibited-30-8-2013-en\" rel=\"nofollow noreferrer\">https://www.icann.org/en/announcements/details/new-gtld-dotless-domain-names-prohibited-30-8-2013-en</a> dotless domains are prohibited.</p>\n<p>And as a word of explanation for parameters:</p>\n<ul>\n<li><code>allowLocal</code> - will allow local domains e.g <code>mail@somenotexistingtld</code></li>\n<li><code>allowTld</code> - will allow top level domains e.g <code>mail@com</code></li>\n</ul>\n<p>To have truly accurate RFC822 validation you need set both to <code>true</code>. But in real life scenario I would say that in most of the cases they will be omitted or set to <code>false</code>.</p>\n"}],"owner":{"account_id":4756794,"reputation":3150,"user_id":3845362,"accept_rate":62,"display_name":"Edito"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":348,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1698227380,"creation_date":1648553677,"question_id":71661283,"body_markdown":"According to the Apache docs, their email validation respects the [RFC 822 specification][1].\r\n\r\n&gt;EmailValidator provides email address validation according to RFC 822 standards.\r\n[source][2]\r\n\r\nHowever when running some tests locally I found that some TLD&#39;s are accepted as a domain.\r\n```\r\ntest@test      //invalid\r\ntest@test.com  //valid\r\ntest@com       //valid\r\ntest@comm      //invalid\r\ntest@amsterdam //valid\r\ntest@brussels  //valid\r\n```\r\nI thought I read somewhere in the RFC that `&lt;local&gt;@&lt;domain&gt;` is a valid e-mail address but highly discouraged to use (..and thus should be considered invalid?). So I get that `test@test` will not be valid, however `test@amsterdam` is, because `.amsterdam` is a valid gTLD.\r\n\r\nNot sure if this is a bug or if this is intended. From their implementation and documentation it is unclear what should be valid, and if it is 100% comform the RFC 822 specification.\r\n\r\n---\r\n```java\r\nclass Test {\r\n    EmailValidator validator = EmailValidator.getInstance(false, true);\r\n\r\n    @ParameterizedTest\r\n    @ValueSource(strings = {\r\n            &quot;test@test&quot;,\r\n            &quot;test@test.com&quot;,\r\n            &quot;test@com&quot;,\r\n            &quot;test@comm&quot;,\r\n            &quot;test@amsterdam&quot;,\r\n            &quot;test@brussels&quot;\r\n    })\r\n    void emails(String email) {\r\n        System.out.printf(&quot;%-20s valid? %s%n&quot;, email, validator.isValid(email));\r\n    }\r\n}\r\n```\r\nWhat I also don&#39;t seem to get is what the parameters `allowLocal` and `allowTld` in the [`EmailValidator`][3] constructor do\r\n\r\n\r\n  [1]: https://datatracker.ietf.org/doc/html/rfc822\r\n  [2]: https://EmailValidator%20provides%20email%20address%20validation%20according%20to%20RFC%20822%20standards.\r\n  [3]: https://commons.apache.org/proper/commons-validator/apidocs/org/apache/commons/validator/routines/EmailValidator.html#EmailValidator-boolean-boolean-","title":"Why is a TLD as domain accepted under RFC 822/Apache-commons validations?","body":"<p>According to the Apache docs, their email validation respects the <a href=\"https://datatracker.ietf.org/doc/html/rfc822\" rel=\"nofollow noreferrer\">RFC 822 specification</a>.</p>\n<blockquote>\n<p>EmailValidator provides email address validation according to RFC 822 standards.\n<a href=\"https://EmailValidator%20provides%20email%20address%20validation%20according%20to%20RFC%20822%20standards.\" rel=\"nofollow noreferrer\">source</a></p>\n</blockquote>\n<p>However when running some tests locally I found that some TLD's are accepted as a domain.</p>\n<pre><code>test@test      //invalid\ntest@test.com  //valid\ntest@com       //valid\ntest@comm      //invalid\ntest@amsterdam //valid\ntest@brussels  //valid\n</code></pre>\n<p>I thought I read somewhere in the RFC that <code>&lt;local&gt;@&lt;domain&gt;</code> is a valid e-mail address but highly discouraged to use (..and thus should be considered invalid?). So I get that <code>test@test</code> will not be valid, however <code>test@amsterdam</code> is, because <code>.amsterdam</code> is a valid gTLD.</p>\n<p>Not sure if this is a bug or if this is intended. From their implementation and documentation it is unclear what should be valid, and if it is 100% comform the RFC 822 specification.</p>\n<hr />\n<pre class=\"lang-java prettyprint-override\"><code>class Test {\n    EmailValidator validator = EmailValidator.getInstance(false, true);\n\n    @ParameterizedTest\n    @ValueSource(strings = {\n            &quot;test@test&quot;,\n            &quot;test@test.com&quot;,\n            &quot;test@com&quot;,\n            &quot;test@comm&quot;,\n            &quot;test@amsterdam&quot;,\n            &quot;test@brussels&quot;\n    })\n    void emails(String email) {\n        System.out.printf(&quot;%-20s valid? %s%n&quot;, email, validator.isValid(email));\n    }\n}\n</code></pre>\n<p>What I also don't seem to get is what the parameters <code>allowLocal</code> and <code>allowTld</code> in the <a href=\"https://commons.apache.org/proper/commons-validator/apidocs/org/apache/commons/validator/routines/EmailValidator.html#EmailValidator-boolean-boolean-\" rel=\"nofollow noreferrer\"><code>EmailValidator</code></a> constructor do</p>\n"},{"tags":["java","spring","spring-boot","maven","intellij-idea"],"comments":[{"owner":{"account_id":236964,"reputation":1214,"user_id":504807,"accept_rate":79,"display_name":"yoni"},"score":1,"creation_date":1631883016,"post_id":69223556,"comment_id":122350411,"body_markdown":"What do you mean by `while running localhost:8080` (did you try to reach `/sum`)? Please provide all log prints as well","body":"What do you mean by <code>while running localhost:8080</code> (did you try to reach <code>&#47;sum</code>)? Please provide all log prints as well"}],"answers":[{"tags":[],"owner":{"account_id":2487219,"reputation":3759,"user_id":2165447,"display_name":"eltabo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1631883072,"creation_date":1631883072,"answer_id":69223755,"question_id":69223556,"body_markdown":"It seems your controller only have a mapping for &quot;/sum&quot; path. Try querying *localhost:8080/sum*.","title":"Getting error &quot;Whitelabel Error Page&quot; while running localhost:8080","body":"<p>It seems your controller only have a mapping for &quot;/sum&quot; path. Try querying <em>localhost:8080/sum</em>.</p>\n"},{"tags":[],"owner":{"account_id":8545324,"reputation":108,"user_id":6404058,"display_name":"Ankit Dhar"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1631883494,"creation_date":1631883494,"answer_id":69223843,"question_id":69223556,"body_markdown":"The Whitelabel page is a spring error handling method and it tries to hint to you that you do have a mapping for /error.\r\nNow coming to the issue you need to write  @RequestMapping(&quot;/&quot;) above your get mapping in the controller so that the spring knows the base URI.\r\nIt&#39;s an entry point for the spring application for the browser.\r\n\r\nNow you have written /sum get URI and in the browser, you are trying for http://localhost:8080\r\nSo for the above Uri to work you need to provide @RequestMapping(&quot;/&quot;)\r\n\r\nor you can use http://localhost:8080/sum with you current code.","title":"Getting error &quot;Whitelabel Error Page&quot; while running localhost:8080","body":"<p>The Whitelabel page is a spring error handling method and it tries to hint to you that you do have a mapping for /error.\nNow coming to the issue you need to write  @RequestMapping(&quot;/&quot;) above your get mapping in the controller so that the spring knows the base URI.\nIt's an entry point for the spring application for the browser.</p>\n<p>Now you have written /sum get URI and in the browser, you are trying for http://localhost:8080\nSo for the above Uri to work you need to provide @RequestMapping(&quot;/&quot;)</p>\n<p>or you can use http://localhost:8080/sum with you current code.</p>\n"},{"tags":[],"owner":{"account_id":3732901,"reputation":491,"user_id":3913894,"display_name":"khwilo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698227011,"creation_date":1698226520,"answer_id":77358300,"question_id":69223556,"body_markdown":"I came across this problem after creating a simple Maven Spring Boot project. Running the command `mvn clean install` solved my issue. Note that ***I had the live reload dependency on the project***. I removed the dependency.","title":"Getting error &quot;Whitelabel Error Page&quot; while running localhost:8080","body":"<p>I came across this problem after creating a simple Maven Spring Boot project. Running the command <code>mvn clean install</code> solved my issue. Note that <em><strong>I had the live reload dependency on the project</strong></em>. I removed the dependency.</p>\n"}],"owner":{"account_id":17834783,"reputation":33,"user_id":12954023,"display_name":"Golu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9422,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69223843,"answer_count":3,"score":0,"last_activity_date":1698227011,"creation_date":1631882229,"question_id":69223556,"body_markdown":"I started learning Spring Framework and get this kind of error while running localhost:8080\r\n\r\n&gt; Whitelabel Error Page\r\nThis application has no explicit mapping for /error, so you are seeing this as a fallback.\r\n\r\n**Controller.java**\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    package com.springFramework.helloGame.controller;\r\n\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n\r\n    @RestController\r\n    public class Controller {\r\n\r\n        @GetMapping(&quot;/sum&quot;)\r\n        public long displaySum(){\r\n            return 100;\r\n        }\r\n\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n**HelloGameApplication.java**\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    package com.springFramework.helloGame;\r\n\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.context.ConfigurableApplicationContext;\r\n    import org.springframework.context.annotation.ComponentScan;\r\n\r\n    @SpringBootApplication\r\n    public class HelloGameApplication {\r\n\r\n        public static void main(String[] args) {\r\n            ConfigurableApplicationContext context =\r\n                    SpringApplication.run(HelloGameApplication.class, args);\r\n        }\r\n\r\n    }\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n**pom.xml**\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;parent&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n            &lt;version&gt;2.5.4&lt;/version&gt;\r\n            &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n        &lt;/parent&gt;\r\n        &lt;groupId&gt;com.springFramework&lt;/groupId&gt;\r\n        &lt;artifactId&gt;helloGame&lt;/artifactId&gt;\r\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n        &lt;name&gt;helloGame&lt;/name&gt;\r\n        &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n        &lt;properties&gt;\r\n            &lt;java.version&gt;11&lt;/java.version&gt;\r\n        &lt;/properties&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n\r\n        &lt;/dependencies&gt;\r\n\r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n\r\n    &lt;/project&gt;\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n[![project structure][1]][1]\r\n\r\nmy project structure looks fine, but don&#39;t know why I got error!\r\nPlease help me!\r\n\r\n  [1]: https://i.stack.imgur.com/UXTaE.png","title":"Getting error &quot;Whitelabel Error Page&quot; while running localhost:8080","body":"<p>I started learning Spring Framework and get this kind of error while running localhost:8080</p>\n<blockquote>\n<p>Whitelabel Error Page\nThis application has no explicit mapping for /error, so you are seeing this as a fallback.</p>\n</blockquote>\n<p><strong>Controller.java</strong></p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>package com.springFramework.helloGame.controller;\n\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\npublic class Controller {\n\n    @GetMapping(\"/sum\")\n    public long displaySum(){\n        return 100;\n    }\n\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p><strong>HelloGameApplication.java</strong></p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>package com.springFramework.helloGame;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.context.ConfigurableApplicationContext;\nimport org.springframework.context.annotation.ComponentScan;\n\n@SpringBootApplication\npublic class HelloGameApplication {\n\n    public static void main(String[] args) {\n        ConfigurableApplicationContext context =\n                SpringApplication.run(HelloGameApplication.class, args);\n    }\n\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p><strong>pom.xml</strong></p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.5.4&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.springFramework&lt;/groupId&gt;\n    &lt;artifactId&gt;helloGame&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;helloGame&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p><a href=\"https://i.stack.imgur.com/UXTaE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UXTaE.png\" alt=\"project structure\" /></a></p>\n<p>my project structure looks fine, but don't know why I got error!\nPlease help me!</p>\n"},{"tags":["java","junit","mockito","executorservice","powermock"],"owner":{"account_id":13048766,"reputation":23,"user_id":15110414,"display_name":"Techi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698226878,"creation_date":1698225634,"question_id":77358202,"body_markdown":"I have made my function async with executor service but while executing test cases are not executing the executor service method.\r\n\r\nThe update code similar to:\r\n\r\n    void method1(Status status) {\r\n\r\n        executorService.submit(() -&gt; {\r\n            try () {\r\n                method2();\r\n            } catch (Exception exception) {\r\n\r\n                throw new CustomException(exception.getMessage(), exception);\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n\r\n\r\nwhile debuging the exixting testcase i found that the executorService.submit was skipped. I tried to mock the submit method but not working. \r\n\r\n    @Test(expected = CustomException.class)\r\n    public void testSatuse() throws Exception {\r\n        Status mocktatus = getStatusMock(&quot;XXX&quot;, &quot;XXXX&quot;);\r\n        PowerMockito.doNothing().when(httpResponse).close();\r\n        CustomException exception = PowerMockito.mock(CustomException.class);\r\n        PowerMockito.when(httpClient.execute(Mockito.any())).thenReturn(httpResponse);\r\n        Future&lt;String&gt; futureMock = Mockito.mock(Future.class);\r\n        PowerMockito.when(executorServiceMock.submit(Mockito.any(Runnable.class)))\r\n                .thenAnswer(invocation -&gt; {\r\n                    Callable&lt;String&gt; task = invocation.getArgument(0);\r\n                    return futureMock;\r\n                });\r\n        PowerMockito.when(httpResponse.getStatusLine()).thenThrow(exception);\r\n        myClassName.method1(mockStatus);\r\n     }\r\n\r\nIf i change the @Test(expected = CustomException.class) to @Test(expected = Exception.class) it will work but I can not do that. What should be the best practice to solve this so that the method2() is invoked.\r\n\r\n","title":"mock an executor service with power mock","body":"<p>I have made my function async with executor service but while executing test cases are not executing the executor service method.</p>\n<p>The update code similar to:</p>\n<pre><code>void method1(Status status) {\n\n    executorService.submit(() -&gt; {\n        try () {\n            method2();\n        } catch (Exception exception) {\n\n            throw new CustomException(exception.getMessage(), exception);\n        }\n    });\n\n}\n</code></pre>\n<p>while debuging the exixting testcase i found that the executorService.submit was skipped. I tried to mock the submit method but not working.</p>\n<pre><code>@Test(expected = CustomException.class)\npublic void testSatuse() throws Exception {\n    Status mocktatus = getStatusMock(&quot;XXX&quot;, &quot;XXXX&quot;);\n    PowerMockito.doNothing().when(httpResponse).close();\n    CustomException exception = PowerMockito.mock(CustomException.class);\n    PowerMockito.when(httpClient.execute(Mockito.any())).thenReturn(httpResponse);\n    Future&lt;String&gt; futureMock = Mockito.mock(Future.class);\n    PowerMockito.when(executorServiceMock.submit(Mockito.any(Runnable.class)))\n            .thenAnswer(invocation -&gt; {\n                Callable&lt;String&gt; task = invocation.getArgument(0);\n                return futureMock;\n            });\n    PowerMockito.when(httpResponse.getStatusLine()).thenThrow(exception);\n    myClassName.method1(mockStatus);\n }\n</code></pre>\n<p>If i change the @Test(expected = CustomException.class) to @Test(expected = Exception.class) it will work but I can not do that. What should be the best practice to solve this so that the method2() is invoked.</p>\n"},{"tags":["java","maven","ibm-mq"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1506602880,"post_id":46469531,"comment_id":79893982,"body_markdown":"You use maven to build your Project, so add the library as depenedency to your pom","body":"You use maven to build your Project, so add the library as depenedency to your pom"},{"owner":{"display_name":"user8595948"},"score":0,"creation_date":1506603060,"post_id":46469531,"comment_id":79894116,"body_markdown":"The dependency throws &quot;Missing artifact com.ibm:com.ibm.mq:jar:5.3.07&quot; Mr. Jens ! I have tried that too.","body":"The dependency throws &quot;Missing artifact com.ibm:com.ibm.mq:jar:5.3.07&quot; Mr. Jens ! I have tried that too."},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1506603325,"post_id":46469531,"comment_id":79894344,"body_markdown":"This library is not in the central maven repository. If you do not have your own repository, you have to add it whith scope system","body":"This library is not in the central maven repository. If you do not have your own repository, you have to add it whith scope system"},{"owner":{"account_id":9804285,"reputation":10345,"user_id":7264620,"display_name":"JoshMc"},"score":1,"creation_date":1506612022,"post_id":46469531,"comment_id":79900578,"body_markdown":"Note that MQ 5.3 has been out of support since September 28 2007.  5.3 CSD 7 was released in 2004, you are running client jar files from 13 years ago that went out of support 10 years ago.  I would recommend you go with the MQ v9 Java-Redistributable client, everything you need is includes in com.ibm.mq.allclient.jar.  See anser to &quot;[IBM MQ Java Error :: java.lang.ClassNotFoundException: com.ibm.mq.internal.MQCommonServices](https://stackoverflow.com/questions/43843293/ibm-mq-java-error-java-lang-classnotfoundexception-com-ibm-mq-internal-mqcom/43853920#43853920)&quot; for links.","body":"Note that MQ 5.3 has been out of support since September 28 2007.  5.3 CSD 7 was released in 2004, you are running client jar files from 13 years ago that went out of support 10 years ago.  I would recommend you go with the MQ v9 Java-Redistributable client, everything you need is includes in com.ibm.mq.allclient.jar.  See anser to &quot;<a href=\"https://stackoverflow.com/questions/43843293/ibm-mq-java-error-java-lang-classnotfoundexception-com-ibm-mq-internal-mqcom/43853920#43853920\">IBM MQ Java Error :: java.lang.ClassNotFoundException: com.ibm.mq.internal.MQCommonServices</a>&quot; for links."},{"owner":{"account_id":9804285,"reputation":10345,"user_id":7264620,"display_name":"JoshMc"},"score":0,"creation_date":1506612116,"post_id":46469531,"comment_id":79900639,"body_markdown":"Another question/answer related to MQ and Maven: [What Is The Convention For Hosting IBM MQ In Maven Repos?](https://stackoverflow.com/questions/45266094/what-is-the-convention-for-hosting-ibm-mq-in-maven-repos/45338151#45338151)","body":"Another question/answer related to MQ and Maven: <a href=\"https://stackoverflow.com/questions/45266094/what-is-the-convention-for-hosting-ibm-mq-in-maven-repos/45338151#45338151\">What Is The Convention For Hosting IBM MQ In Maven Repos?</a>"}],"answers":[{"tags":[],"owner":{"account_id":2162777,"reputation":4478,"user_id":4536811,"display_name":"Mickael"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1506604292,"creation_date":1506602975,"answer_id":46469607,"question_id":46469531,"body_markdown":"**Why do you use Eclipse Java Build Path if you have Maven ?**\r\n\r\nInstead, you should add this dependency into your `pom.xml` :\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/com.ibm/com.ibm.mq --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.ibm&lt;/groupId&gt;\r\n        &lt;artifactId&gt;com.ibm.mq&lt;/artifactId&gt;\r\n        &lt;version&gt;5.3.07&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nEDIT\r\n----\r\n\r\n**It seems that this dependency refer to a non-existing JAR.**\r\nI suggest you to refer to the following question :\r\n\r\n - [Missing artifact com.ibm:com.ibm.mqjms:jar: 5.3.07\r\n][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/32742383/missing-artifact-com-ibmcom-ibm-mqjmsjar-5-3-07","title":"&quot;package com.ibm.mq does not exist&quot; error","body":"<p><strong>Why do you use Eclipse Java Build Path if you have Maven ?</strong></p>\n\n<p>Instead, you should add this dependency into your <code>pom.xml</code> :</p>\n\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/com.ibm/com.ibm.mq --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.ibm&lt;/groupId&gt;\n    &lt;artifactId&gt;com.ibm.mq&lt;/artifactId&gt;\n    &lt;version&gt;5.3.07&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<h2>EDIT</h2>\n\n<p><strong>It seems that this dependency refer to a non-existing JAR.</strong>\nI suggest you to refer to the following question :</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/32742383/missing-artifact-com-ibmcom-ibm-mqjmsjar-5-3-07\">Missing artifact com.ibm:com.ibm.mqjms:jar: 5.3.07\n</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":4128823,"reputation":129,"user_id":3387221,"display_name":"muraguri2005"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698226314,"creation_date":1698226314,"answer_id":77358281,"question_id":46469531,"body_markdown":"You can use this dependency (https://mvnrepository.com/artifact/com.ibm.mq/com.ibm.mq.allclient/9.3.4.0) instead.","title":"&quot;package com.ibm.mq does not exist&quot; error","body":"<p>You can use this dependency (<a href=\"https://mvnrepository.com/artifact/com.ibm.mq/com.ibm.mq.allclient/9.3.4.0\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/com.ibm.mq/com.ibm.mq.allclient/9.3.4.0</a>) instead.</p>\n"}],"owner":{"display_name":"user8595948"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":5174,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1698226314,"creation_date":1506602741,"question_id":46469531,"body_markdown":"I am using an IBM MQ based jar to browse my queue for specific messages. On building this project through Maven, I come accross this issue **package com.ibm.mq does not exist**.\r\n\r\nI have added this jar in *build path* and in the *lib* folder too.\r\n\r\nThe controller class where I have coded this logic doesn&#39;t show any compilation errors due to the *com.ibm.mq* import. But I face this error while building throught maven !\r\n\r\nShould something be done?\r\n\r\nPlease help.\r\n\r\n**MQController**:\r\n\r\n    package main.java.controller;\r\n    \r\n    import java.io.*;\r\n    import java.util.Properties;\r\n    import java.util.Calendar;\r\n    import com.ibm.mq.*;\r\n    \r\n    public class MQController {\r\n    \r\n       private static String    myQmgr  = &quot;QSOA&quot;;\r\n       private static String    myQueue = &quot;MQ.EVENTS.POLICY.DUMMY&quot;;\r\n    \r\n       public MQController() {\r\n          myQmgr  = System.getProperty(&quot;qm&quot;);\r\n          myQueue = System.getProperty(&quot;q&quot;);\r\n          try {\r\n             Properties props = new Properties(System.getProperties());\r\n             props.load(new BufferedInputStream(new FileInputStream(&quot;MQController.properties&quot;)));\r\n             System.setProperties(props);\r\n          } catch (Exception e) {\r\n             System.out.println(&quot;Error getting MQController.properties: &quot; + e.getMessage());\r\n             System.err.println(e);\r\n          }\r\n     \r\n          /*if (myQmgr  == null)       {myQmgr  = System.getProperty(&quot;qm&quot;);}\r\n          if (myQueue == null)       {myQueue = System.getProperty(&quot;q&quot;);}*/\r\n    \r\n       }\r\n    \r\n       public MQController(String[] args) {\r\n    \r\n          this(); /* call the default constructor */\r\n    \r\n          for( int i=0; i&lt;args.length; i++ ) {\r\n              String arg = args[i].toLowerCase();\r\n    \r\n                if( arg.equals(&quot;-qm&quot;) ) {\r\n                    if ( i+1&lt;args.length ) {\r\n                       myQmgr = args[++i];\r\n                    } else {\r\n                       System.out.println(&quot;didn&#39;t specify qmgr, exiting&quot;);\r\n                       return;\r\n                    }\r\n    \r\n                } else if( arg.equals(&quot;-q&quot;) ) {\r\n                    if ( i+1&lt;args.length ) {\r\n                       myQueue = args[++i];\r\n                    } else {\r\n                       System.out.println(&quot;didn&#39;t specify queue, exiting&quot;);\r\n                       return;\r\n                    }\r\n    \r\n                } else {\r\n                  System.out.println( &quot;Unknown argument: &quot; + arg );\r\n                }\r\n          }\r\n    \r\n       }\r\n    \r\n       public void myBrowser() {\r\n          MQQueueManager qMgr        = null;\r\n          MQQueue        browseQueue = null;\r\n          int j = 0; /* used as a message counter */\r\n          \r\n          System.out.println(&quot;\\n MQController.java - starts here&quot;);\r\n          System.out.println(&quot;**************************&quot;);\r\n          MQException.log = null; /* don&#39;t print out any exceptions */\r\n          try {\r\n             qMgr = new MQQueueManager(myQmgr);\r\n    \r\n             int openOptions = MQC.MQOO_BROWSE;\r\n             browseQueue = qMgr.accessQueue(myQueue, openOptions, null, null, null);\r\n             System.out.println(&quot;\\n OPEN - &#39;&quot; + myQueue + &quot;&#39;\\n\\n&quot;);\r\n             MQGetMessageOptions gmo = new MQGetMessageOptions(); \r\n             gmo.options = gmo.options + MQC.MQGMO_BROWSE_NEXT;\r\n             MQMessage myMessage = new MQMessage();\r\n             while (true) {\r\n                myMessage.clearMessage();\r\n                myMessage.correlationId = MQC.MQCI_NONE;\r\n                myMessage.messageId     = MQC.MQMI_NONE;\r\n                browseQueue.get(myMessage, gmo);\r\n                j = j + 1;\r\n                System.out.println(&quot; GET of message number &quot; + j);\r\n                System.out.println(&quot;****Message descriptor****\\n&quot;);\r\n                System.out.println(&quot;  StrucId  : &#39;MD  &#39;&quot;    \r\n                                 + &quot;  Version : &quot; + myMessage.getVersion()); \r\n                System.out.println(&quot;  Report   : &quot; + myMessage.report\r\n                                 + &quot;  MsgType : &quot; + myMessage.messageType);\r\n                System.out.println(&quot;  Expiry   : &quot; + myMessage.expiry\r\n                                 + &quot;  Feedback : &quot; + myMessage.feedback);\r\n                System.out.println(&quot;  Encoding : &quot; + myMessage.encoding \r\n                                 + &quot;  CodedCharSetId : &quot; + myMessage.characterSet);\r\n                System.out.println(&quot;  Format : &#39;&quot; + myMessage.format + &quot;&#39;&quot;);\r\n                System.out.println(&quot;  Priority : &quot; + myMessage.priority \r\n                                 + &quot;  Persistence : &quot; + myMessage.persistence);\r\n                System.out.print(&quot;  MsgId : &quot;);\r\n                System.out.print(&quot;  CorrelId : &quot;);\r\n                System.out.println(&quot;  BackoutCount : &quot; + myMessage.backoutCount);\r\n                System.out.println(&quot;  ReplyToQ     : &#39;&quot; \r\n                                 + myMessage.replyToQueueName + &quot;&#39;&quot;);\r\n                System.out.println(&quot;  ReplyToQMgr  : &#39;&quot; \r\n                                 + myMessage.replyToQueueManagerName + &quot;&#39;&quot;);\r\n    \r\n                System.out.println(&quot;  ** Identity Context&quot;);\r\n                System.out.println(&quot;  UserIdentifier : &#39;&quot; + myMessage.userId + &quot;&#39;&quot;);\r\n                System.out.println(&quot;  Accounting Token :&quot;);\r\n                System.out.print(&quot;   &quot;);\r\n                System.out.println(&quot;  ApplIdentityData : &#39;&quot; \r\n                                    + myMessage.applicationIdData + &quot;&#39;&quot;);\r\n            \r\n                System.out.println(&quot;  ** Origin Context&quot;);\r\n                System.out.println(&quot;  PutApplType    : &#39;&quot; \r\n                                   + myMessage.putApplicationType + &quot;&#39;&quot;);\r\n                System.out.println(&quot;  PutApplName    : &#39;&quot; \r\n                                   + myMessage.putApplicationName + &quot;&#39;&quot;);\r\n    \r\n                System.out.print(&quot;  PutDate  : &#39;&quot;);\r\n                System.out.print(myMessage.putDateTime.get(Calendar.YEAR));\r\n                int myMonth = myMessage.putDateTime.get(Calendar.MONTH) + 1;\r\n                if (myMonth &lt; 10) {System.out.print(&quot;0&quot;);}\r\n                System.out.print(myMonth);\r\n    \r\n                int myDay = myMessage.putDateTime.get(Calendar.DAY_OF_MONTH);\r\n                if (myDay &lt; 10) {System.out.print(&quot;0&quot;);}\r\n                System.out.print(myDay);\r\n                System.out.print(&quot;&#39;    &quot;);\r\n    \r\n                System.out.print(&quot;PutTime  : &#39;&quot;);\r\n                int myHour = myMessage.putDateTime.get(Calendar.HOUR_OF_DAY);\r\n                if (myHour &lt; 10) { System.out.print(&quot;0&quot;); }\r\n                System.out.print(myHour);\r\n    \r\n                int myMinute = myMessage.putDateTime.get(Calendar.MINUTE);\r\n                if (myMinute &lt; 10) { System.out.print(&quot;0&quot;); }\r\n                System.out.print(myMinute);\r\n    \r\n                int mySecond = myMessage.putDateTime.get(Calendar.SECOND);\r\n                if (mySecond &lt; 10) { System.out.print(&quot;0&quot;); }\r\n                System.out.print(mySecond);\r\n    \r\n                int myMsec = myMessage.putDateTime.get(Calendar.MILLISECOND);\r\n                myMsec = myMsec/10;\r\n                if (myMsec &lt; 10) { System.out.print(&quot;0&quot;); }\r\n                System.out.print(myMsec); \r\n                System.out.println(&quot;&#39;&quot;);\r\n    \r\n                System.out.println(&quot;  ApplOriginData : &#39;&quot; \r\n                                   + myMessage.applicationOriginData + &quot;&#39;&quot;);\r\n                System.out.println();\r\n                System.out.print(&quot;  GroupId : &quot;);\r\n                System.out.println(&quot;  MsgSeqNumber   : &#39;&quot; \r\n                                   + myMessage.messageSequenceNumber + &quot;&#39;&quot;);\r\n                System.out.println(&quot;  Offset         : &#39;&quot; + myMessage.offset + &quot;&#39;&quot;);\r\n                System.out.println(&quot;  MsgFlags       : &#39;&quot; \r\n                                   + myMessage.messageFlags + &quot;&#39;&quot;);\r\n                System.out.println(&quot;  OriginalLength : &#39;&quot; \r\n                                   + myMessage.originalLength + &quot;&#39;&quot;);\r\n                System.out.println();\r\n    \r\n                System.out.println(&quot;****   Message     ****&quot;);\r\n                System.out.println();\r\n                System.out.println(&quot; length - &quot; + myMessage.getMessageLength() \r\n                                 + &quot; bytes\\n&quot;);\r\n                System.out.println();\r\n                System.out.println();\r\n    \r\n             }\r\n    \r\n          } catch (MQException ex) {\r\n             if (ex.reasonCode == MQException.MQRC_NO_MSG_AVAILABLE) {\r\n                System.out.println(&quot; No more messages&quot;);\r\n             } else {\r\n                System.out.println(&quot;MQ error: Completion code &quot; +\r\n                          ex.completionCode + &quot; Reason code &quot; + ex.reasonCode);\r\n             }\r\n          } catch (java.io.IOException ex) {\r\n             System.out.println(&quot;An IO error occurred: &quot; + ex);\r\n          }\r\n            \r\n          try {\r\n             browseQueue.close();\r\n             System.out.println(&quot; CLOSE of queue&quot;);\r\n             qMgr.disconnect();\r\n             System.out.println(&quot; DISCONNECT from queue manager&quot;);\r\n          } catch (MQException ex) {\r\n             System.out.println(&quot;MQ error: Completion code &quot; +\r\n                          ex.completionCode + &quot; Reason code &quot; + ex.reasonCode);\r\n          }\r\n    \r\n          System.out.println(&quot;**************************&quot;);\r\n          System.out.println(&quot;MQController.java finished&quot;);\r\n    \r\n       } \r\n    \r\n        public static void main( String[] args )     {\r\n           MQController app = new MQController(args);\r\n           \r\n           if (     (myQmgr==null)  \r\n                 || (myQueue==null) ) {\r\n              System.out.println(&quot;Usage:&quot;);\r\n              System.out.println(&quot;java MQController -qm ... -q ...&quot;);\r\n              System.out.println(&quot;where -qm is the queue manager name&quot;);\r\n              System.out.println(&quot;      -q  is the queue name&quot;);\r\n           } else {\r\n              app.myBrowser();\r\n           }\r\n        }\r\n    \r\n       \r\n    }\r\n\r\n**Screenshot**:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/C4o8i.png","title":"&quot;package com.ibm.mq does not exist&quot; error","body":"<p>I am using an IBM MQ based jar to browse my queue for specific messages. On building this project through Maven, I come accross this issue <strong>package com.ibm.mq does not exist</strong>.</p>\n\n<p>I have added this jar in <em>build path</em> and in the <em>lib</em> folder too.</p>\n\n<p>The controller class where I have coded this logic doesn't show any compilation errors due to the <em>com.ibm.mq</em> import. But I face this error while building throught maven !</p>\n\n<p>Should something be done?</p>\n\n<p>Please help.</p>\n\n<p><strong>MQController</strong>:</p>\n\n<pre><code>package main.java.controller;\n\nimport java.io.*;\nimport java.util.Properties;\nimport java.util.Calendar;\nimport com.ibm.mq.*;\n\npublic class MQController {\n\n   private static String    myQmgr  = \"QSOA\";\n   private static String    myQueue = \"MQ.EVENTS.POLICY.DUMMY\";\n\n   public MQController() {\n      myQmgr  = System.getProperty(\"qm\");\n      myQueue = System.getProperty(\"q\");\n      try {\n         Properties props = new Properties(System.getProperties());\n         props.load(new BufferedInputStream(new FileInputStream(\"MQController.properties\")));\n         System.setProperties(props);\n      } catch (Exception e) {\n         System.out.println(\"Error getting MQController.properties: \" + e.getMessage());\n         System.err.println(e);\n      }\n\n      /*if (myQmgr  == null)       {myQmgr  = System.getProperty(\"qm\");}\n      if (myQueue == null)       {myQueue = System.getProperty(\"q\");}*/\n\n   }\n\n   public MQController(String[] args) {\n\n      this(); /* call the default constructor */\n\n      for( int i=0; i&lt;args.length; i++ ) {\n          String arg = args[i].toLowerCase();\n\n            if( arg.equals(\"-qm\") ) {\n                if ( i+1&lt;args.length ) {\n                   myQmgr = args[++i];\n                } else {\n                   System.out.println(\"didn't specify qmgr, exiting\");\n                   return;\n                }\n\n            } else if( arg.equals(\"-q\") ) {\n                if ( i+1&lt;args.length ) {\n                   myQueue = args[++i];\n                } else {\n                   System.out.println(\"didn't specify queue, exiting\");\n                   return;\n                }\n\n            } else {\n              System.out.println( \"Unknown argument: \" + arg );\n            }\n      }\n\n   }\n\n   public void myBrowser() {\n      MQQueueManager qMgr        = null;\n      MQQueue        browseQueue = null;\n      int j = 0; /* used as a message counter */\n\n      System.out.println(\"\\n MQController.java - starts here\");\n      System.out.println(\"**************************\");\n      MQException.log = null; /* don't print out any exceptions */\n      try {\n         qMgr = new MQQueueManager(myQmgr);\n\n         int openOptions = MQC.MQOO_BROWSE;\n         browseQueue = qMgr.accessQueue(myQueue, openOptions, null, null, null);\n         System.out.println(\"\\n OPEN - '\" + myQueue + \"'\\n\\n\");\n         MQGetMessageOptions gmo = new MQGetMessageOptions(); \n         gmo.options = gmo.options + MQC.MQGMO_BROWSE_NEXT;\n         MQMessage myMessage = new MQMessage();\n         while (true) {\n            myMessage.clearMessage();\n            myMessage.correlationId = MQC.MQCI_NONE;\n            myMessage.messageId     = MQC.MQMI_NONE;\n            browseQueue.get(myMessage, gmo);\n            j = j + 1;\n            System.out.println(\" GET of message number \" + j);\n            System.out.println(\"****Message descriptor****\\n\");\n            System.out.println(\"  StrucId  : 'MD  '\"    \n                             + \"  Version : \" + myMessage.getVersion()); \n            System.out.println(\"  Report   : \" + myMessage.report\n                             + \"  MsgType : \" + myMessage.messageType);\n            System.out.println(\"  Expiry   : \" + myMessage.expiry\n                             + \"  Feedback : \" + myMessage.feedback);\n            System.out.println(\"  Encoding : \" + myMessage.encoding \n                             + \"  CodedCharSetId : \" + myMessage.characterSet);\n            System.out.println(\"  Format : '\" + myMessage.format + \"'\");\n            System.out.println(\"  Priority : \" + myMessage.priority \n                             + \"  Persistence : \" + myMessage.persistence);\n            System.out.print(\"  MsgId : \");\n            System.out.print(\"  CorrelId : \");\n            System.out.println(\"  BackoutCount : \" + myMessage.backoutCount);\n            System.out.println(\"  ReplyToQ     : '\" \n                             + myMessage.replyToQueueName + \"'\");\n            System.out.println(\"  ReplyToQMgr  : '\" \n                             + myMessage.replyToQueueManagerName + \"'\");\n\n            System.out.println(\"  ** Identity Context\");\n            System.out.println(\"  UserIdentifier : '\" + myMessage.userId + \"'\");\n            System.out.println(\"  Accounting Token :\");\n            System.out.print(\"   \");\n            System.out.println(\"  ApplIdentityData : '\" \n                                + myMessage.applicationIdData + \"'\");\n\n            System.out.println(\"  ** Origin Context\");\n            System.out.println(\"  PutApplType    : '\" \n                               + myMessage.putApplicationType + \"'\");\n            System.out.println(\"  PutApplName    : '\" \n                               + myMessage.putApplicationName + \"'\");\n\n            System.out.print(\"  PutDate  : '\");\n            System.out.print(myMessage.putDateTime.get(Calendar.YEAR));\n            int myMonth = myMessage.putDateTime.get(Calendar.MONTH) + 1;\n            if (myMonth &lt; 10) {System.out.print(\"0\");}\n            System.out.print(myMonth);\n\n            int myDay = myMessage.putDateTime.get(Calendar.DAY_OF_MONTH);\n            if (myDay &lt; 10) {System.out.print(\"0\");}\n            System.out.print(myDay);\n            System.out.print(\"'    \");\n\n            System.out.print(\"PutTime  : '\");\n            int myHour = myMessage.putDateTime.get(Calendar.HOUR_OF_DAY);\n            if (myHour &lt; 10) { System.out.print(\"0\"); }\n            System.out.print(myHour);\n\n            int myMinute = myMessage.putDateTime.get(Calendar.MINUTE);\n            if (myMinute &lt; 10) { System.out.print(\"0\"); }\n            System.out.print(myMinute);\n\n            int mySecond = myMessage.putDateTime.get(Calendar.SECOND);\n            if (mySecond &lt; 10) { System.out.print(\"0\"); }\n            System.out.print(mySecond);\n\n            int myMsec = myMessage.putDateTime.get(Calendar.MILLISECOND);\n            myMsec = myMsec/10;\n            if (myMsec &lt; 10) { System.out.print(\"0\"); }\n            System.out.print(myMsec); \n            System.out.println(\"'\");\n\n            System.out.println(\"  ApplOriginData : '\" \n                               + myMessage.applicationOriginData + \"'\");\n            System.out.println();\n            System.out.print(\"  GroupId : \");\n            System.out.println(\"  MsgSeqNumber   : '\" \n                               + myMessage.messageSequenceNumber + \"'\");\n            System.out.println(\"  Offset         : '\" + myMessage.offset + \"'\");\n            System.out.println(\"  MsgFlags       : '\" \n                               + myMessage.messageFlags + \"'\");\n            System.out.println(\"  OriginalLength : '\" \n                               + myMessage.originalLength + \"'\");\n            System.out.println();\n\n            System.out.println(\"****   Message     ****\");\n            System.out.println();\n            System.out.println(\" length - \" + myMessage.getMessageLength() \n                             + \" bytes\\n\");\n            System.out.println();\n            System.out.println();\n\n         }\n\n      } catch (MQException ex) {\n         if (ex.reasonCode == MQException.MQRC_NO_MSG_AVAILABLE) {\n            System.out.println(\" No more messages\");\n         } else {\n            System.out.println(\"MQ error: Completion code \" +\n                      ex.completionCode + \" Reason code \" + ex.reasonCode);\n         }\n      } catch (java.io.IOException ex) {\n         System.out.println(\"An IO error occurred: \" + ex);\n      }\n\n      try {\n         browseQueue.close();\n         System.out.println(\" CLOSE of queue\");\n         qMgr.disconnect();\n         System.out.println(\" DISCONNECT from queue manager\");\n      } catch (MQException ex) {\n         System.out.println(\"MQ error: Completion code \" +\n                      ex.completionCode + \" Reason code \" + ex.reasonCode);\n      }\n\n      System.out.println(\"**************************\");\n      System.out.println(\"MQController.java finished\");\n\n   } \n\n    public static void main( String[] args )     {\n       MQController app = new MQController(args);\n\n       if (     (myQmgr==null)  \n             || (myQueue==null) ) {\n          System.out.println(\"Usage:\");\n          System.out.println(\"java MQController -qm ... -q ...\");\n          System.out.println(\"where -qm is the queue manager name\");\n          System.out.println(\"      -q  is the queue name\");\n       } else {\n          app.myBrowser();\n       }\n    }\n\n\n}\n</code></pre>\n\n<p><strong>Screenshot</strong>:\n<a href=\"https://i.stack.imgur.com/C4o8i.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/C4o8i.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java","android","security","ssl","android-sdk-2.3"],"comments":[{"owner":{"account_id":1537914,"reputation":5365,"user_id":1433372,"accept_rate":50,"display_name":"userM1433372"},"score":0,"creation_date":1407166975,"post_id":25122287,"comment_id":39100256,"body_markdown":"Can you provide the stacktrace?","body":"Can you provide the stacktrace?"},{"owner":{"account_id":301110,"reputation":98844,"user_id":608639,"accept_rate":64,"display_name":"jww"},"score":0,"creation_date":1407205399,"post_id":25122287,"comment_id":39114973,"body_markdown":"What&#39;s the URL to the server?","body":"What&#39;s the URL to the server?"},{"owner":{"account_id":301110,"reputation":98844,"user_id":608639,"accept_rate":64,"display_name":"jww"},"score":0,"creation_date":1407205697,"post_id":25122287,"comment_id":39115029,"body_markdown":"Also, you can get a free [StartCom](http://www.startssl.com/) Class 1 server cert that&#39;s trusted by most desktop and mobile browsers. It includes iOS 2.0 and Ansdroid 2.2. See [StartSSL Comparison Chart](https://www.startssl.com/?app=40) and [List of browser versions with StartCom certs](https://forum.startcom.org/viewtopic.php?f=15&amp;t=1802). If you need a wildcard, then you will have to purchase it though.","body":"Also, you can get a free <a href=\"http://www.startssl.com/\" rel=\"nofollow noreferrer\">StartCom</a> Class 1 server cert that&#39;s trusted by most desktop and mobile browsers. It includes iOS 2.0 and Ansdroid 2.2. See <a href=\"https://www.startssl.com/?app=40\" rel=\"nofollow noreferrer\">StartSSL Comparison Chart</a> and <a href=\"https://forum.startcom.org/viewtopic.php?f=15&amp;t=1802\" rel=\"nofollow noreferrer\">List of browser versions with StartCom certs</a>. If you need a wildcard, then you will have to purchase it though."},{"owner":{"account_id":2649077,"reputation":298,"user_id":2291217,"accept_rate":80,"display_name":"joseph"},"score":0,"creation_date":1407229820,"post_id":25122287,"comment_id":39123424,"body_markdown":"@jww sorry, I don&#39;t want to identify myself and/or my company, so I don&#39;t feel confortable showing it. But can you tell me what was the idea?\nI already bought a goDaddy certificate, so there would be no point in buying another one.","body":"@jww sorry, I don&#39;t want to identify myself and/or my company, so I don&#39;t feel confortable showing it. But can you tell me what was the idea? I already bought a goDaddy certificate, so there would be no point in buying another one."},{"owner":{"account_id":301110,"reputation":98844,"user_id":608639,"accept_rate":64,"display_name":"jww"},"score":0,"creation_date":1407251743,"post_id":25122287,"comment_id":39136905,"body_markdown":"@j01101101 - [Startcom](https://www.startcom.org/) and [CAcert](http://www.cacert.org/) Class 1 certificates are free. I want to see the output of `openssl s_client -connect &lt;server&gt;:&lt;port&gt;` to ensure you are sending a valid chain.","body":"@j01101101 - <a href=\"https://www.startcom.org/\" rel=\"nofollow noreferrer\">Startcom</a> and <a href=\"http://www.cacert.org/\" rel=\"nofollow noreferrer\">CAcert</a> Class 1 certificates are free. I want to see the output of <code>openssl s_client -connect &lt;server&gt;:&lt;port&gt;</code> to ensure you are sending a valid chain."},{"owner":{"account_id":71611,"reputation":26366,"user_id":6998684,"display_name":"IgorGanapolsky"},"score":0,"creation_date":1451495294,"post_id":25122287,"comment_id":56809316,"body_markdown":"What version of TLS is your server running?  TLS v1.0 is considered outdated now...","body":"What version of TLS is your server running?  TLS v1.0 is considered outdated now..."}],"answers":[{"tags":[],"owner":{"account_id":1537914,"reputation":5365,"user_id":1433372,"accept_rate":50,"display_name":"userM1433372"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1407168265,"creation_date":1407168265,"answer_id":25122897,"question_id":25122287,"body_markdown":"It looks like the issuer of your certificate is not in the trust store of the 2.3 devices.\r\n\r\nTake a look at the root and intermediate ca&#39;s of your GoDaddy certificate and check whether the certificates are present on your 2.3 device. \r\n\r\nSee http://www.andreabaccega.com/blog/2010/09/23/android-root-certification-authorities-list/ for obtaining a list of 2.3 certificates.\r\n\r\nWhen only the root CA is available make sure that your webserver also serves the intermediate certificates upon request.\r\n","title":"java.security.cert.CertPathValidatorException: Trust anchor for certification path not found. Android 2.3","body":"<p>It looks like the issuer of your certificate is not in the trust store of the 2.3 devices.</p>\n\n<p>Take a look at the root and intermediate ca's of your GoDaddy certificate and check whether the certificates are present on your 2.3 device. </p>\n\n<p>See <a href=\"http://www.andreabaccega.com/blog/2010/09/23/android-root-certification-authorities-list/\" rel=\"nofollow\">http://www.andreabaccega.com/blog/2010/09/23/android-root-certification-authorities-list/</a> for obtaining a list of 2.3 certificates.</p>\n\n<p>When only the root CA is available make sure that your webserver also serves the intermediate certificates upon request.</p>\n"},{"tags":[],"owner":{"account_id":3531083,"reputation":6261,"user_id":2950618,"accept_rate":43,"display_name":"Josh"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1529926181,"creation_date":1451495127,"answer_id":34533863,"question_id":25122287,"body_markdown":"I went through LOTS of places in SO and the web to solve this thing. \r\nThis is the code that worked for me (Android 21):\r\n\r\n    ByteArrayInputStream derInputStream = new ByteArrayInputStream(app.certificateString.getBytes());\r\n    CertificateFactory certificateFactory = CertificateFactory.getInstance(&quot;X.509&quot;,&quot;BC&quot;);\r\n    X509Certificate cert = (X509Certificate) certificateFactory.generateCertificate(derInputStream);\r\n    String alias = &quot;alias&quot;;//cert.getSubjectX500Principal().getName();\r\n    \r\n    KeyStore trustStore = KeyStore.getInstance(KeyStore.getDefaultType());\r\n    trustStore.load(null);\r\n    trustStore.setCertificateEntry(alias, cert);\r\n    KeyManagerFactory kmf = KeyManagerFactory.getInstance(&quot;X509&quot;);\r\n    kmf.init(trustStore, null);\r\n    KeyManager[] keyManagers = kmf.getKeyManagers();\r\n    \r\n    TrustManagerFactory tmf = TrustManagerFactory.getInstance(&quot;X509&quot;);\r\n    tmf.init(trustStore);\r\n    TrustManager[] trustManagers = tmf.getTrustManagers();\r\n    \r\n    SSLContext sslContext = SSLContext.getInstance(&quot;TLS&quot;);\r\n    sslContext.init(keyManagers, trustManagers, null);\r\n    URL url = new URL(someURL);\r\n    conn = (HttpsURLConnection) url.openConnection();\r\n    conn.setSSLSocketFactory(sslContext.getSocketFactory());\r\n\r\n`app.certificateString` is a String that contains the Certificate, for example:\r\n\r\n    static public String certificateString=\r\n        &quot;-----BEGIN CERTIFICATE-----\\n&quot; +\r\n        &quot;MIIGQTCCBSmgAwIBAgIHBcg1dAivUzANBgkqhkiG9w0BAQsFADCBjDELMAkGA1UE&quot; +\r\n        &quot;BhMCSUwxFjAUBgNVBAoTDVN0YXJ0Q29tIEx0ZC4xKzApBgNVBAsTIlNlY3VyZSBE&quot; +\r\n        ... a bunch of characters...\r\n        &quot;5126sfeEJMRV4Fl2E5W1gDHoOd6V==\\n&quot; +\r\n        &quot;-----END CERTIFICATE-----&quot;;\r\n\r\nI have tested that you can put any characters in the certificate string, if it is self signed, as long as you keep the exact structure above.\r\nI obtained the certificate string with my laptop&#39;s Terminal command line. I you need to know more details, let me know.","title":"java.security.cert.CertPathValidatorException: Trust anchor for certification path not found. Android 2.3","body":"<p>I went through LOTS of places in SO and the web to solve this thing. \nThis is the code that worked for me (Android 21):</p>\n\n<pre><code>ByteArrayInputStream derInputStream = new ByteArrayInputStream(app.certificateString.getBytes());\nCertificateFactory certificateFactory = CertificateFactory.getInstance(\"X.509\",\"BC\");\nX509Certificate cert = (X509Certificate) certificateFactory.generateCertificate(derInputStream);\nString alias = \"alias\";//cert.getSubjectX500Principal().getName();\n\nKeyStore trustStore = KeyStore.getInstance(KeyStore.getDefaultType());\ntrustStore.load(null);\ntrustStore.setCertificateEntry(alias, cert);\nKeyManagerFactory kmf = KeyManagerFactory.getInstance(\"X509\");\nkmf.init(trustStore, null);\nKeyManager[] keyManagers = kmf.getKeyManagers();\n\nTrustManagerFactory tmf = TrustManagerFactory.getInstance(\"X509\");\ntmf.init(trustStore);\nTrustManager[] trustManagers = tmf.getTrustManagers();\n\nSSLContext sslContext = SSLContext.getInstance(\"TLS\");\nsslContext.init(keyManagers, trustManagers, null);\nURL url = new URL(someURL);\nconn = (HttpsURLConnection) url.openConnection();\nconn.setSSLSocketFactory(sslContext.getSocketFactory());\n</code></pre>\n\n<p><code>app.certificateString</code> is a String that contains the Certificate, for example:</p>\n\n<pre><code>static public String certificateString=\n    \"-----BEGIN CERTIFICATE-----\\n\" +\n    \"MIIGQTCCBSmgAwIBAgIHBcg1dAivUzANBgkqhkiG9w0BAQsFADCBjDELMAkGA1UE\" +\n    \"BhMCSUwxFjAUBgNVBAoTDVN0YXJ0Q29tIEx0ZC4xKzApBgNVBAsTIlNlY3VyZSBE\" +\n    ... a bunch of characters...\n    \"5126sfeEJMRV4Fl2E5W1gDHoOd6V==\\n\" +\n    \"-----END CERTIFICATE-----\";\n</code></pre>\n\n<p>I have tested that you can put any characters in the certificate string, if it is self signed, as long as you keep the exact structure above.\nI obtained the certificate string with my laptop's Terminal command line. I you need to know more details, let me know.</p>\n"},{"tags":[],"owner":{"account_id":9596368,"reputation":295,"user_id":7125370,"accept_rate":50,"display_name":"Newbie009"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1506591507,"creation_date":1506591507,"answer_id":46465836,"question_id":25122287,"body_markdown":"In case someone need the answer, I finally found the answer after 2 days of google. Basically we need to use custom TrustManager to trusts the CAs in our KeyStore, this is because in Android 2.3.x, the keystore is not being properly used. Credit to https://github.com/delgurth for the CustomTrustManager. \r\n\r\nPlease refer: https://github.com/ikust/hello-pinnedcerts/issues/2\r\n\r\n**KeyPinStore.java**\r\n\r\n    import java.io.BufferedInputStream;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.security.KeyManagementException;\r\n    import java.security.KeyStore;\r\n    import java.security.KeyStoreException;\r\n    import java.security.NoSuchAlgorithmException;\r\n    import java.security.cert.Certificate;\r\n    import java.security.cert.CertificateException;\r\n    import java.security.cert.CertificateFactory;\r\n    import java.security.cert.X509Certificate;\r\n    \r\n    import javax.net.ssl.SSLContext;\r\n    import javax.net.ssl.TrustManager;\r\n    public class KeyPinStore {\r\n        private static final String[] certificates = {&quot;certificate1.crt&quot;, &quot;certificate2.crt&quot;, &quot;certificate3.crt&quot;, &quot;certificate4.crt&quot;};\r\n        private static KeyPinStore instance = null;\r\n        private SSLContext sslContext = SSLContext.getInstance(&quot;TLS&quot;);\r\n    \r\n        public static synchronized KeyPinStore getInstance() throws CertificateException, IOException, KeyStoreException, NoSuchAlgorithmException, KeyManagementException {\r\n            if (instance == null) {\r\n                instance = new KeyPinStore();\r\n            }\r\n            return instance;\r\n        }\r\n    \r\n        private KeyPinStore() throws CertificateException, IOException, KeyStoreException, NoSuchAlgorithmException, KeyManagementException {\r\n            String keyStoreType = KeyStore.getDefaultType();\r\n            KeyStore keyStore = KeyStore.getInstance(keyStoreType);\r\n            keyStore.load(null, null);\r\n            for (int i = 0; i &lt; certificates.length; i++) {\r\n                CertificateFactory cf = CertificateFactory.getInstance(&quot;X.509&quot;);\r\n                InputStream caInput = new BufferedInputStream(Application.context.getAssets().open(&quot;certificate/&quot; + certificates[i]));\r\n                Certificate ca;\r\n                try {\r\n                    ca = cf.generateCertificate(caInput);\r\n                    System.out.println(&quot;ca=&quot; + ((X509Certificate) ca).getSubjectDN());\r\n                } finally {\r\n                    caInput.close();\r\n                }\r\n    \r\n                // Create a KeyStore containing our trusted CAs\r\n                keyStore.setCertificateEntry(&quot;ca&quot; + i, ca);\r\n            }\r\n    \r\n            // Use custom trust manager to trusts the CAs in our KeyStore\r\n            TrustManager[] trustManagers = {new CustomTrustManager(keyStore)};\r\n    \r\n            // Create an SSLContext that uses our TrustManager\r\n            // SSLContext context = SSLContext.getInstance(&quot;TLS&quot;);\r\n            sslContext.init(null, trustManagers, null);\r\n        }\r\n    \r\n        public SSLContext getContext() {\r\n            return sslContext;\r\n        }\r\n    }\r\n\r\n\r\n**CustomTrustManager.java**\r\n\r\n    import java.security.KeyStore;\r\n    import java.security.KeyStoreException;\r\n    import java.security.NoSuchAlgorithmException;\r\n    import java.security.Principal;\r\n    import java.security.cert.CertificateException;\r\n    import java.security.cert.X509Certificate;\r\n    import java.util.Arrays;\r\n    import java.util.List;\r\n    \r\n    import javax.net.ssl.TrustManager;\r\n    import javax.net.ssl.TrustManagerFactory;\r\n    import javax.net.ssl.X509TrustManager;\r\n    \r\n    /**\r\n     * A custom X509TrustManager implementation that trusts a specified server certificate in addition\r\n     * to those that are in the system TrustStore.\r\n     * Also handles an out-of-order certificate chain, as is often produced by Apache&#39;s mod_ssl\r\n     */\r\n    public class CustomTrustManager implements X509TrustManager {\r\n    \r\n      private final TrustManager[] originalTrustManagers;\r\n      private final KeyStore trustStore;\r\n    \r\n      /**\r\n       * @param trustStore A KeyStore containing the server certificate that should be trusted\r\n       * @throws NoSuchAlgorithmException\r\n       * @throws KeyStoreException\r\n       */\r\n      public CustomTrustManager(KeyStore trustStore) throws NoSuchAlgorithmException, KeyStoreException {\r\n        this.trustStore = trustStore;\r\n    \r\n        final TrustManagerFactory originalTrustManagerFactory = TrustManagerFactory.getInstance(&quot;X509&quot;);\r\n        originalTrustManagerFactory.init(trustStore);\r\n    \r\n        originalTrustManagers = originalTrustManagerFactory.getTrustManagers();\r\n      }\r\n    \r\n      /**\r\n       * No-op. Never invoked by client, only used in server-side implementations\r\n       * @return\r\n       */\r\n      public X509Certificate[] getAcceptedIssuers() {\r\n        return new X509Certificate[0];\r\n      }\r\n    \r\n      /**\r\n       * No-op. Never invoked by client, only used in server-side implementations\r\n       * @return\r\n       */\r\n      public void checkClientTrusted(X509Certificate[] chain, String authType) throws java.security.cert.CertificateException {\r\n      }\r\n    \r\n    \r\n      /**\r\n       * Given the partial or complete certificate chain provided by the peer,\r\n       * build a certificate path to a trusted root and return if it can be validated and is trusted\r\n       * for client SSL authentication based on the authentication type. The authentication type is\r\n       * determined by the actual certificate used. For instance, if RSAPublicKey is used, the authType should be &quot;RSA&quot;.\r\n       * Checking is case-sensitive.\r\n       * Defers to the default trust manager first, checks the cert supplied in the ctor if that fails.\r\n       * @param chain the server&#39;s certificate chain\r\n       * @param authType the authentication type based on the client certificate\r\n       * @throws java.security.cert.CertificateException\r\n       */\r\n      public void checkServerTrusted(X509Certificate[] chain, String authType) throws java.security.cert.CertificateException {\r\n        try {\r\n          for (TrustManager originalTrustManager : originalTrustManagers) {\r\n            ((X509TrustManager) originalTrustManager).checkServerTrusted(chain, authType);\r\n          }\r\n        } catch(CertificateException originalException) {\r\n          try {\r\n            // Ordering issue?\r\n            X509Certificate[] reorderedChain = reorderCertificateChain(chain);\r\n            if (! Arrays.equals(chain, reorderedChain)) {\r\n              checkServerTrusted(reorderedChain, authType);\r\n              return;\r\n            }\r\n            for (int i = 0; i &lt; chain.length; i++) {\r\n              if (validateCert(reorderedChain[i])) {\r\n                return;\r\n              }\r\n            }\r\n            throw originalException;\r\n          } catch(Exception ex) {\r\n            ex.printStackTrace();\r\n            throw originalException;\r\n          }\r\n        }\r\n    \r\n      }\r\n    \r\n      /**\r\n       * Checks if we have added the certificate in the trustStore, if that&#39;s the case we trust the certificate\r\n       * @param x509Certificate the certificate to check\r\n       * @return true if we know the certificate, false otherwise\r\n       * @throws KeyStoreException on problems accessing the key store\r\n       */\r\n      private boolean validateCert(final X509Certificate x509Certificate) throws KeyStoreException {\r\n        return trustStore.getCertificateAlias(x509Certificate) != null;\r\n      }\r\n    \r\n      /**\r\n       * Puts the certificate chain in the proper order, to deal with out-of-order\r\n       * certificate chains as are sometimes produced by Apache&#39;s mod_ssl\r\n       * @param chain the certificate chain, possibly with bad ordering\r\n       * @return the re-ordered certificate chain\r\n       */\r\n      private X509Certificate[] reorderCertificateChain(X509Certificate[] chain) {\r\n    \r\n        X509Certificate[] reorderedChain = new X509Certificate[chain.length];\r\n        List&lt;X509Certificate&gt; certificates = Arrays.asList(chain);\r\n    \r\n        int position = chain.length - 1;\r\n        X509Certificate rootCert = findRootCert(certificates);\r\n        reorderedChain[position] = rootCert;\r\n    \r\n        X509Certificate cert = rootCert;\r\n        while((cert = findSignedCert(cert, certificates)) != null &amp;&amp; position &gt; 0) {\r\n          reorderedChain[--position] = cert;\r\n        }\r\n    \r\n        return reorderedChain;\r\n      }\r\n    \r\n      /**\r\n       * A helper method for certificate re-ordering.\r\n       * Finds the root certificate in a possibly out-of-order certificate chain.\r\n       * @param certificates the certificate change, possibly out-of-order\r\n       * @return the root certificate, if any, that was found in the list of certificates\r\n       */\r\n      private X509Certificate findRootCert(List&lt;X509Certificate&gt; certificates) {\r\n        X509Certificate rootCert = null;\r\n    \r\n        for(X509Certificate cert : certificates) {\r\n          X509Certificate signer = findSigner(cert, certificates);\r\n          if(signer == null || signer.equals(cert)) { // no signer present, or self-signed\r\n            rootCert = cert;\r\n            break;\r\n          }\r\n        }\r\n    \r\n        return rootCert;\r\n      }\r\n    \r\n      /**\r\n       * A helper method for certificate re-ordering.\r\n       * Finds the first certificate in the list of certificates that is signed by the sigingCert.\r\n       */\r\n      private X509Certificate findSignedCert(X509Certificate signingCert, List&lt;X509Certificate&gt; certificates) {\r\n        X509Certificate signed = null;\r\n    \r\n        for(X509Certificate cert : certificates) {\r\n          Principal signingCertSubjectDN = signingCert.getSubjectDN();\r\n          Principal certIssuerDN = cert.getIssuerDN();\r\n          if(certIssuerDN.equals(signingCertSubjectDN) &amp;&amp; !cert.equals(signingCert)) {\r\n            signed = cert;\r\n            break;\r\n          }\r\n        }\r\n    \r\n        return signed;\r\n      }\r\n    \r\n      /**\r\n       * A helper method for certificate re-ordering.\r\n       * Finds the certificate in the list of certificates that signed the signedCert.\r\n       */\r\n      private X509Certificate findSigner(X509Certificate signedCert, List&lt;X509Certificate&gt; certificates) {\r\n        X509Certificate signer = null;\r\n    \r\n        for(X509Certificate cert : certificates) {\r\n          Principal certSubjectDN = cert.getSubjectDN();\r\n          Principal issuerDN = signedCert.getIssuerDN();\r\n          if(certSubjectDN.equals(issuerDN)) {\r\n            signer = cert;\r\n            break;\r\n          }\r\n        }\r\n    \r\n        return signer;\r\n      }\r\n    }\r\n\r\n\r\nTo use it, just get the SSLSocketFactory and apply it, eg:\r\n\r\n**with HttpsURLConnection**\r\n\r\n    KeyPinStore keystore = KeyPinStore.getInstance();\r\n    SSLSocketFactory sslSF = keystore.getContext().getSocketFactory();\r\n    URL url = new URL(&quot;https://certs.cac.washington.edu/CAtest/&quot;);\r\n    HttpsURLConnection urlConnection = (HttpsURLConnection)url.openConnection();\r\n    urlConnection.setSSLSocketFactory(sslSF);\r\n    InputStream in = urlConnection.getInputStream();\r\n    copyInputStreamToOutputStream(in, System.out);\r\n\r\n**with Volley**\r\n\r\n    KeyPinStore keystore = KeyPinStore.getInstance();\r\n    SSLSocketFactory sslSF = keystore.getContext().getSocketFactory();\r\n    RequestQueue mRequestQueue = Volley.newRequestQueue(context, new HurlStack(null, sslSF));\r\n\r\n","title":"java.security.cert.CertPathValidatorException: Trust anchor for certification path not found. Android 2.3","body":"<p>In case someone need the answer, I finally found the answer after 2 days of google. Basically we need to use custom TrustManager to trusts the CAs in our KeyStore, this is because in Android 2.3.x, the keystore is not being properly used. Credit to <a href=\"https://github.com/delgurth\" rel=\"nofollow noreferrer\">https://github.com/delgurth</a> for the CustomTrustManager. </p>\n\n<p>Please refer: <a href=\"https://github.com/ikust/hello-pinnedcerts/issues/2\" rel=\"nofollow noreferrer\">https://github.com/ikust/hello-pinnedcerts/issues/2</a></p>\n\n<p><strong>KeyPinStore.java</strong></p>\n\n<pre><code>import java.io.BufferedInputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.security.KeyManagementException;\nimport java.security.KeyStore;\nimport java.security.KeyStoreException;\nimport java.security.NoSuchAlgorithmException;\nimport java.security.cert.Certificate;\nimport java.security.cert.CertificateException;\nimport java.security.cert.CertificateFactory;\nimport java.security.cert.X509Certificate;\n\nimport javax.net.ssl.SSLContext;\nimport javax.net.ssl.TrustManager;\npublic class KeyPinStore {\n    private static final String[] certificates = {\"certificate1.crt\", \"certificate2.crt\", \"certificate3.crt\", \"certificate4.crt\"};\n    private static KeyPinStore instance = null;\n    private SSLContext sslContext = SSLContext.getInstance(\"TLS\");\n\n    public static synchronized KeyPinStore getInstance() throws CertificateException, IOException, KeyStoreException, NoSuchAlgorithmException, KeyManagementException {\n        if (instance == null) {\n            instance = new KeyPinStore();\n        }\n        return instance;\n    }\n\n    private KeyPinStore() throws CertificateException, IOException, KeyStoreException, NoSuchAlgorithmException, KeyManagementException {\n        String keyStoreType = KeyStore.getDefaultType();\n        KeyStore keyStore = KeyStore.getInstance(keyStoreType);\n        keyStore.load(null, null);\n        for (int i = 0; i &lt; certificates.length; i++) {\n            CertificateFactory cf = CertificateFactory.getInstance(\"X.509\");\n            InputStream caInput = new BufferedInputStream(Application.context.getAssets().open(\"certificate/\" + certificates[i]));\n            Certificate ca;\n            try {\n                ca = cf.generateCertificate(caInput);\n                System.out.println(\"ca=\" + ((X509Certificate) ca).getSubjectDN());\n            } finally {\n                caInput.close();\n            }\n\n            // Create a KeyStore containing our trusted CAs\n            keyStore.setCertificateEntry(\"ca\" + i, ca);\n        }\n\n        // Use custom trust manager to trusts the CAs in our KeyStore\n        TrustManager[] trustManagers = {new CustomTrustManager(keyStore)};\n\n        // Create an SSLContext that uses our TrustManager\n        // SSLContext context = SSLContext.getInstance(\"TLS\");\n        sslContext.init(null, trustManagers, null);\n    }\n\n    public SSLContext getContext() {\n        return sslContext;\n    }\n}\n</code></pre>\n\n<p><strong>CustomTrustManager.java</strong></p>\n\n<pre><code>import java.security.KeyStore;\nimport java.security.KeyStoreException;\nimport java.security.NoSuchAlgorithmException;\nimport java.security.Principal;\nimport java.security.cert.CertificateException;\nimport java.security.cert.X509Certificate;\nimport java.util.Arrays;\nimport java.util.List;\n\nimport javax.net.ssl.TrustManager;\nimport javax.net.ssl.TrustManagerFactory;\nimport javax.net.ssl.X509TrustManager;\n\n/**\n * A custom X509TrustManager implementation that trusts a specified server certificate in addition\n * to those that are in the system TrustStore.\n * Also handles an out-of-order certificate chain, as is often produced by Apache's mod_ssl\n */\npublic class CustomTrustManager implements X509TrustManager {\n\n  private final TrustManager[] originalTrustManagers;\n  private final KeyStore trustStore;\n\n  /**\n   * @param trustStore A KeyStore containing the server certificate that should be trusted\n   * @throws NoSuchAlgorithmException\n   * @throws KeyStoreException\n   */\n  public CustomTrustManager(KeyStore trustStore) throws NoSuchAlgorithmException, KeyStoreException {\n    this.trustStore = trustStore;\n\n    final TrustManagerFactory originalTrustManagerFactory = TrustManagerFactory.getInstance(\"X509\");\n    originalTrustManagerFactory.init(trustStore);\n\n    originalTrustManagers = originalTrustManagerFactory.getTrustManagers();\n  }\n\n  /**\n   * No-op. Never invoked by client, only used in server-side implementations\n   * @return\n   */\n  public X509Certificate[] getAcceptedIssuers() {\n    return new X509Certificate[0];\n  }\n\n  /**\n   * No-op. Never invoked by client, only used in server-side implementations\n   * @return\n   */\n  public void checkClientTrusted(X509Certificate[] chain, String authType) throws java.security.cert.CertificateException {\n  }\n\n\n  /**\n   * Given the partial or complete certificate chain provided by the peer,\n   * build a certificate path to a trusted root and return if it can be validated and is trusted\n   * for client SSL authentication based on the authentication type. The authentication type is\n   * determined by the actual certificate used. For instance, if RSAPublicKey is used, the authType should be \"RSA\".\n   * Checking is case-sensitive.\n   * Defers to the default trust manager first, checks the cert supplied in the ctor if that fails.\n   * @param chain the server's certificate chain\n   * @param authType the authentication type based on the client certificate\n   * @throws java.security.cert.CertificateException\n   */\n  public void checkServerTrusted(X509Certificate[] chain, String authType) throws java.security.cert.CertificateException {\n    try {\n      for (TrustManager originalTrustManager : originalTrustManagers) {\n        ((X509TrustManager) originalTrustManager).checkServerTrusted(chain, authType);\n      }\n    } catch(CertificateException originalException) {\n      try {\n        // Ordering issue?\n        X509Certificate[] reorderedChain = reorderCertificateChain(chain);\n        if (! Arrays.equals(chain, reorderedChain)) {\n          checkServerTrusted(reorderedChain, authType);\n          return;\n        }\n        for (int i = 0; i &lt; chain.length; i++) {\n          if (validateCert(reorderedChain[i])) {\n            return;\n          }\n        }\n        throw originalException;\n      } catch(Exception ex) {\n        ex.printStackTrace();\n        throw originalException;\n      }\n    }\n\n  }\n\n  /**\n   * Checks if we have added the certificate in the trustStore, if that's the case we trust the certificate\n   * @param x509Certificate the certificate to check\n   * @return true if we know the certificate, false otherwise\n   * @throws KeyStoreException on problems accessing the key store\n   */\n  private boolean validateCert(final X509Certificate x509Certificate) throws KeyStoreException {\n    return trustStore.getCertificateAlias(x509Certificate) != null;\n  }\n\n  /**\n   * Puts the certificate chain in the proper order, to deal with out-of-order\n   * certificate chains as are sometimes produced by Apache's mod_ssl\n   * @param chain the certificate chain, possibly with bad ordering\n   * @return the re-ordered certificate chain\n   */\n  private X509Certificate[] reorderCertificateChain(X509Certificate[] chain) {\n\n    X509Certificate[] reorderedChain = new X509Certificate[chain.length];\n    List&lt;X509Certificate&gt; certificates = Arrays.asList(chain);\n\n    int position = chain.length - 1;\n    X509Certificate rootCert = findRootCert(certificates);\n    reorderedChain[position] = rootCert;\n\n    X509Certificate cert = rootCert;\n    while((cert = findSignedCert(cert, certificates)) != null &amp;&amp; position &gt; 0) {\n      reorderedChain[--position] = cert;\n    }\n\n    return reorderedChain;\n  }\n\n  /**\n   * A helper method for certificate re-ordering.\n   * Finds the root certificate in a possibly out-of-order certificate chain.\n   * @param certificates the certificate change, possibly out-of-order\n   * @return the root certificate, if any, that was found in the list of certificates\n   */\n  private X509Certificate findRootCert(List&lt;X509Certificate&gt; certificates) {\n    X509Certificate rootCert = null;\n\n    for(X509Certificate cert : certificates) {\n      X509Certificate signer = findSigner(cert, certificates);\n      if(signer == null || signer.equals(cert)) { // no signer present, or self-signed\n        rootCert = cert;\n        break;\n      }\n    }\n\n    return rootCert;\n  }\n\n  /**\n   * A helper method for certificate re-ordering.\n   * Finds the first certificate in the list of certificates that is signed by the sigingCert.\n   */\n  private X509Certificate findSignedCert(X509Certificate signingCert, List&lt;X509Certificate&gt; certificates) {\n    X509Certificate signed = null;\n\n    for(X509Certificate cert : certificates) {\n      Principal signingCertSubjectDN = signingCert.getSubjectDN();\n      Principal certIssuerDN = cert.getIssuerDN();\n      if(certIssuerDN.equals(signingCertSubjectDN) &amp;&amp; !cert.equals(signingCert)) {\n        signed = cert;\n        break;\n      }\n    }\n\n    return signed;\n  }\n\n  /**\n   * A helper method for certificate re-ordering.\n   * Finds the certificate in the list of certificates that signed the signedCert.\n   */\n  private X509Certificate findSigner(X509Certificate signedCert, List&lt;X509Certificate&gt; certificates) {\n    X509Certificate signer = null;\n\n    for(X509Certificate cert : certificates) {\n      Principal certSubjectDN = cert.getSubjectDN();\n      Principal issuerDN = signedCert.getIssuerDN();\n      if(certSubjectDN.equals(issuerDN)) {\n        signer = cert;\n        break;\n      }\n    }\n\n    return signer;\n  }\n}\n</code></pre>\n\n<p>To use it, just get the SSLSocketFactory and apply it, eg:</p>\n\n<p><strong>with HttpsURLConnection</strong></p>\n\n<pre><code>KeyPinStore keystore = KeyPinStore.getInstance();\nSSLSocketFactory sslSF = keystore.getContext().getSocketFactory();\nURL url = new URL(\"https://certs.cac.washington.edu/CAtest/\");\nHttpsURLConnection urlConnection = (HttpsURLConnection)url.openConnection();\nurlConnection.setSSLSocketFactory(sslSF);\nInputStream in = urlConnection.getInputStream();\ncopyInputStreamToOutputStream(in, System.out);\n</code></pre>\n\n<p><strong>with Volley</strong></p>\n\n<pre><code>KeyPinStore keystore = KeyPinStore.getInstance();\nSSLSocketFactory sslSF = keystore.getContext().getSocketFactory();\nRequestQueue mRequestQueue = Volley.newRequestQueue(context, new HurlStack(null, sslSF));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9296355,"reputation":281,"user_id":6903138,"display_name":"Arun Prajapati"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1576822425,"creation_date":1576822425,"answer_id":59420625,"question_id":25122287,"body_markdown":"If you are Using AndroidNetworking / Rx2AndroidNetworking Library, This Solution is work for me after waste 4 Hr.\r\n\r\n     AndroidNetworking.initialize(getApplicationContext(), myUnsafeHttpClient());\r\n\r\n    private static OkHttpClient myUnsafeHttpClient() {\r\n\r\n        try {\r\n\r\n            // Create a trust manager that does not validate certificate chains\r\n            final TrustManager[] trustAllCerts = new TrustManager[]{\r\n\r\n                    new X509TrustManager() {\r\n\r\n                        @Override\r\n                        public void checkClientTrusted(java.security.cert.X509Certificate[] chain, String authType) {\r\n                        }\r\n\r\n                        @Override\r\n                        public void checkServerTrusted(java.security.cert.X509Certificate[] chain, String authType) {\r\n                        }\r\n\r\n                        @Override\r\n                        public java.security.cert.X509Certificate[] getAcceptedIssuers() {\r\n                            return new java.security.cert.X509Certificate[]{};\r\n                        }\r\n                    }\r\n            };\r\n\r\n            //Using TLS 1_2 &amp; 1_1 for HTTP/2 Server requests\r\n            // Note : The following is suitable for my Server. Please change accordingly\r\n            ConnectionSpec spec = new ConnectionSpec.Builder(ConnectionSpec.COMPATIBLE_TLS)\r\n                    .tlsVersions(TlsVersion.TLS_1_2, TlsVersion.TLS_1_1, TlsVersion.TLS_1_0)\r\n                    .cipherSuites(\r\n                            CipherSuite.TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA,\r\n                            CipherSuite.TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384,\r\n                            CipherSuite.TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,\r\n                            CipherSuite.TLS_DHE_RSA_WITH_AES_256_GCM_SHA384,\r\n                            CipherSuite.TLS_DHE_RSA_WITH_AES_256_CBC_SHA,\r\n                            CipherSuite.TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384,\r\n                            CipherSuite.TLS_DHE_RSA_WITH_AES_128_GCM_SHA256,\r\n                            CipherSuite.TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256,\r\n                            CipherSuite.TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305_SHA256,\r\n                            CipherSuite.TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA,\r\n                            CipherSuite.TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA)\r\n                    .build();\r\n\r\n            // Install the all-trusting trust manager\r\n            final SSLContext sslContext = SSLContext.getInstance(&quot;SSL&quot;);\r\n            sslContext.init(null, trustAllCerts, new java.security.SecureRandom());\r\n            // Create an ssl socket factory with our all-trusting manager\r\n            final SSLSocketFactory sslSocketFactory = sslContext.getSocketFactory();\r\n\r\n            OkHttpClient.Builder builder = new OkHttpClient.Builder();\r\n            builder.sslSocketFactory(sslSocketFactory);\r\n            builder.connectionSpecs(Collections.singletonList(spec));\r\n            builder.hostnameVerifier((hostname, session) -&gt; true);\r\n            return builder.build();\r\n        } catch (Exception e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }","title":"java.security.cert.CertPathValidatorException: Trust anchor for certification path not found. Android 2.3","body":"<p>If you are Using AndroidNetworking / Rx2AndroidNetworking Library, This Solution is work for me after waste 4 Hr.</p>\n\n<pre><code> AndroidNetworking.initialize(getApplicationContext(), myUnsafeHttpClient());\n\nprivate static OkHttpClient myUnsafeHttpClient() {\n\n    try {\n\n        // Create a trust manager that does not validate certificate chains\n        final TrustManager[] trustAllCerts = new TrustManager[]{\n\n                new X509TrustManager() {\n\n                    @Override\n                    public void checkClientTrusted(java.security.cert.X509Certificate[] chain, String authType) {\n                    }\n\n                    @Override\n                    public void checkServerTrusted(java.security.cert.X509Certificate[] chain, String authType) {\n                    }\n\n                    @Override\n                    public java.security.cert.X509Certificate[] getAcceptedIssuers() {\n                        return new java.security.cert.X509Certificate[]{};\n                    }\n                }\n        };\n\n        //Using TLS 1_2 &amp; 1_1 for HTTP/2 Server requests\n        // Note : The following is suitable for my Server. Please change accordingly\n        ConnectionSpec spec = new ConnectionSpec.Builder(ConnectionSpec.COMPATIBLE_TLS)\n                .tlsVersions(TlsVersion.TLS_1_2, TlsVersion.TLS_1_1, TlsVersion.TLS_1_0)\n                .cipherSuites(\n                        CipherSuite.TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA,\n                        CipherSuite.TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384,\n                        CipherSuite.TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,\n                        CipherSuite.TLS_DHE_RSA_WITH_AES_256_GCM_SHA384,\n                        CipherSuite.TLS_DHE_RSA_WITH_AES_256_CBC_SHA,\n                        CipherSuite.TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384,\n                        CipherSuite.TLS_DHE_RSA_WITH_AES_128_GCM_SHA256,\n                        CipherSuite.TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256,\n                        CipherSuite.TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305_SHA256,\n                        CipherSuite.TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA,\n                        CipherSuite.TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA)\n                .build();\n\n        // Install the all-trusting trust manager\n        final SSLContext sslContext = SSLContext.getInstance(\"SSL\");\n        sslContext.init(null, trustAllCerts, new java.security.SecureRandom());\n        // Create an ssl socket factory with our all-trusting manager\n        final SSLSocketFactory sslSocketFactory = sslContext.getSocketFactory();\n\n        OkHttpClient.Builder builder = new OkHttpClient.Builder();\n        builder.sslSocketFactory(sslSocketFactory);\n        builder.connectionSpecs(Collections.singletonList(spec));\n        builder.hostnameVerifier((hostname, session) -&gt; true);\n        return builder.build();\n    } catch (Exception e) {\n        throw new RuntimeException(e);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6587655,"reputation":109,"user_id":5089962,"display_name":"Lakhan patidar"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1604503007,"creation_date":1604503007,"answer_id":64682790,"question_id":25122287,"body_markdown":"If above all answers not work and you get any kind of issue in publish app when using android 30 as compile and target sdk version.\r\nPlease download your ssl .cert file from server.\r\nand just put it in raw folder.\r\ncreate network_security_config in XML folder.\r\nuse line in menifest inside application tag\r\n\r\nandroid:networkSecurityConfig=&quot;@xml/network_security_config&quot;\r\n\r\nand use below mention code in network_security_config file.\r\n\r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;network-security-config&gt;\r\n    &lt;domain-config&gt;\r\n        &lt;domain includeSubdomains=&quot;true&quot;&gt;your server domain&lt;/domain&gt;\r\n        &lt;trust-anchors&gt;\r\n            &lt;certificates src=&quot;@raw/your server cerificate file name&quot;/&gt;\r\n        &lt;/trust-anchors&gt;\r\n    &lt;/domain-config&gt;\r\n    &lt;/network-security-config&gt;\r\n\r\n","title":"java.security.cert.CertPathValidatorException: Trust anchor for certification path not found. Android 2.3","body":"<p>If above all answers not work and you get any kind of issue in publish app when using android 30 as compile and target sdk version.\nPlease download your ssl .cert file from server.\nand just put it in raw folder.\ncreate network_security_config in XML folder.\nuse line in menifest inside application tag</p>\n<p>android:networkSecurityConfig=&quot;@xml/network_security_config&quot;</p>\n<p>and use below mention code in network_security_config file.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;network-security-config&gt;\n&lt;domain-config&gt;\n    &lt;domain includeSubdomains=&quot;true&quot;&gt;your server domain&lt;/domain&gt;\n    &lt;trust-anchors&gt;\n        &lt;certificates src=&quot;@raw/your server cerificate file name&quot;/&gt;\n    &lt;/trust-anchors&gt;\n&lt;/domain-config&gt;\n&lt;/network-security-config&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11698169,"reputation":1,"user_id":8564208,"display_name":"Abdul Asif"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1605215014,"creation_date":1605202278,"answer_id":64808845,"question_id":25122287,"body_markdown":"Run this command to verify code.keystore has system certificate:\r\n```bash\r\nkeytool -list -stotetype JKS -keystore config\\code.keystore\r\n```\r\n","title":"java.security.cert.CertPathValidatorException: Trust anchor for certification path not found. Android 2.3","body":"<p>Run this command to verify code.keystore has system certificate:</p>\n<pre class=\"lang-sh prettyprint-override\"><code>keytool -list -stotetype JKS -keystore config\\code.keystore\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3814553,"reputation":722,"user_id":3164227,"display_name":"shubomb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698225421,"creation_date":1698225421,"answer_id":77358176,"question_id":25122287,"body_markdown":"I downloaded certificate from website and put on res/raw folder[![enter image description here][1]][1]\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/D3bnw.png\r\n  [2]: https://i.stack.imgur.com/UR11U.png\r\n\r\nAnd added this on network config file.\r\n\r\n\r\n&gt; &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;network-security-config&gt;\r\n\r\n    &lt;base-config cleartextTrafficPermitted=&quot;true&quot;&gt;\r\n        &lt;trust-anchors&gt;\r\n\r\n            &lt;certificates src=&quot;system&quot;&gt;&lt;/certificates&gt;\r\n            &lt;certificates src=&quot;user&quot;&gt;&lt;/certificates&gt;\r\n\r\n        &lt;/trust-anchors&gt;\r\n    &lt;/base-config&gt;\r\n\r\n\r\n    &lt;domain-config cleartextTrafficPermitted=&quot;true&quot;&gt;\r\n        &lt;domain includeSubdomains=&quot;true&quot;&gt;enci.it&lt;/domain&gt;\r\n        &lt;domain includeSubdomains=&quot;true&quot;&gt;sport.enci.it&lt;/domain&gt;\r\n        &lt;trust-anchors&gt;\r\n            &lt;certificates src=&quot;@raw/enci&quot;/&gt;\r\n        &lt;/trust-anchors&gt;\r\n    &lt;/domain-config&gt;\r\n\r\n\r\n&lt;/network-security-config&gt;","title":"java.security.cert.CertPathValidatorException: Trust anchor for certification path not found. Android 2.3","body":"<p>I downloaded certificate from website and put on res/raw folder<a href=\"https://i.stack.imgur.com/D3bnw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/D3bnw.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/UR11U.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UR11U.png\" alt=\"enter image description here\" /></a></p>\n<p>And added this on network config file.</p>\n<blockquote>\n\n</blockquote>\n\n<pre><code>&lt;base-config cleartextTrafficPermitted=&quot;true&quot;&gt;\n    &lt;trust-anchors&gt;\n\n        &lt;certificates src=&quot;system&quot;&gt;&lt;/certificates&gt;\n        &lt;certificates src=&quot;user&quot;&gt;&lt;/certificates&gt;\n\n    &lt;/trust-anchors&gt;\n&lt;/base-config&gt;\n\n\n&lt;domain-config cleartextTrafficPermitted=&quot;true&quot;&gt;\n    &lt;domain includeSubdomains=&quot;true&quot;&gt;enci.it&lt;/domain&gt;\n    &lt;domain includeSubdomains=&quot;true&quot;&gt;sport.enci.it&lt;/domain&gt;\n    &lt;trust-anchors&gt;\n        &lt;certificates src=&quot;@raw/enci&quot;/&gt;\n    &lt;/trust-anchors&gt;\n&lt;/domain-config&gt;\n</code></pre>\n\n"}],"owner":{"account_id":2649077,"reputation":298,"user_id":2291217,"accept_rate":80,"display_name":"joseph"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92746,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":25122897,"answer_count":7,"score":13,"last_activity_date":1698225421,"creation_date":1407166194,"question_id":25122287,"body_markdown":"In my server (production server), I have a goDaddy ssl certificate. \r\nI have both iOS and Android apps connecting with the server, iOS connecting with no problems, android with versions 4.* everything is good, but with devices with 2.3.* I always get a SSLHandshakeException.\r\n\r\nI did exactly like on Android Developers page (https://developer.android.com/training/articles/security-ssl.html).\r\n\r\nI already saw similar threads here in Stack Overflow ([here][1]) but none is helping.\r\n\r\nThen I saw [this][2] thread talking about Extended Key Usage, but when debugging I get the following information:\r\n\r\n    [2]: OID: 2.5.29.37, Critical: false\r\n    Extended Key Usage: [ &quot;1.3.6.1.5.5.7.3.1&quot;, &quot;1.3.6.1.5.5.7.3.2&quot; ]\r\n\r\nSo I guess the certificate is not &quot;forcing&quot; Extended Key Usage.\r\n\r\nAlso on [this][3] thread there are some other possible causes such as date/time being completely wrong, which are all not existent.\r\n\r\nTaking that into consideration, I now don&#39;t know where the problem might be.\r\n\r\nAny suggestions?\r\n\r\n**EDIT:**\r\nStackTrace below:\r\n\r\n    08-04 16:54:30.139: W/System.err(4832): Caused by: java.security.cert.CertificateException: java.security.cert.CertPathValidatorException: Trust anchor for certification path not found.\r\n    08-04 16:54:30.149: W/System.err(4832): \tat org.apache.harmony.xnet.provider.jsse.TrustManagerImpl.checkServerTrusted(TrustManagerImpl.java:161)\r\n    08-04 16:54:30.149: W/System.err(4832): \tat org.apache.harmony.xnet.provider.jsse.OpenSSLSocketImpl.verifyCertificateChain(OpenSSLSocketImpl.java:664)\r\n    08-04 16:54:30.149: W/System.err(4832): \tat org.apache.harmony.xnet.provider.jsse.NativeCrypto.SSL_do_handshake(Native Method)\r\n    08-04 16:54:30.159: W/System.err(4832): \tat org.apache.harmony.xnet.provider.jsse.OpenSSLSocketImpl.startHandshake(OpenSSLSocketImpl.java:474)\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/21306336/android-2-3-x-javax-net-ssl-sslhandshakeexception-java-security-cert-certpathva\r\n  [2]: https://code.google.com/p/android/issues/detail?id=22171\r\n  [3]: https://stackoverflow.com/questions/9574870/no-peer-certificate-error-in-android-2-3-but-not-in-4","title":"java.security.cert.CertPathValidatorException: Trust anchor for certification path not found. Android 2.3","body":"<p>In my server (production server), I have a goDaddy ssl certificate.\nI have both iOS and Android apps connecting with the server, iOS connecting with no problems, android with versions 4.* everything is good, but with devices with 2.3.* I always get a SSLHandshakeException.</p>\n<p>I did exactly like on Android Developers page (<a href=\"https://developer.android.com/training/articles/security-ssl.html\" rel=\"nofollow noreferrer\">https://developer.android.com/training/articles/security-ssl.html</a>).</p>\n<p>I already saw similar threads here in Stack Overflow (<a href=\"https://stackoverflow.com/questions/21306336/android-2-3-x-javax-net-ssl-sslhandshakeexception-java-security-cert-certpathva\">here</a>) but none is helping.</p>\n<p>Then I saw <a href=\"https://code.google.com/p/android/issues/detail?id=22171\" rel=\"nofollow noreferrer\">this</a> thread talking about Extended Key Usage, but when debugging I get the following information:</p>\n<pre><code>[2]: OID: 2.5.29.37, Critical: false\nExtended Key Usage: [ &quot;1.3.6.1.5.5.7.3.1&quot;, &quot;1.3.6.1.5.5.7.3.2&quot; ]\n</code></pre>\n<p>So I guess the certificate is not &quot;forcing&quot; Extended Key Usage.</p>\n<p>Also on <a href=\"https://stackoverflow.com/questions/9574870/no-peer-certificate-error-in-android-2-3-but-not-in-4\">this</a> thread there are some other possible causes such as date/time being completely wrong, which are all not existent.</p>\n<p>Taking that into consideration, I now don't know where the problem might be.</p>\n<p>Any suggestions?</p>\n<p><strong>EDIT:</strong>\nStackTrace below:</p>\n<pre><code>08-04 16:54:30.139: W/System.err(4832): Caused by: java.security.cert.CertificateException: java.security.cert.CertPathValidatorException: Trust anchor for certification path not found.\n08-04 16:54:30.149: W/System.err(4832):     at org.apache.harmony.xnet.provider.jsse.TrustManagerImpl.checkServerTrusted(TrustManagerImpl.java:161)\n08-04 16:54:30.149: W/System.err(4832):     at org.apache.harmony.xnet.provider.jsse.OpenSSLSocketImpl.verifyCertificateChain(OpenSSLSocketImpl.java:664)\n08-04 16:54:30.149: W/System.err(4832):     at org.apache.harmony.xnet.provider.jsse.NativeCrypto.SSL_do_handshake(Native Method)\n08-04 16:54:30.159: W/System.err(4832):     at org.apache.harmony.xnet.provider.jsse.OpenSSLSocketImpl.startHandshake(OpenSSLSocketImpl.java:474)\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":9443335,"reputation":15252,"user_id":7023245,"accept_rate":25,"display_name":"Timothy Truckle"},"score":2,"creation_date":1477045834,"post_id":40174180,"comment_id":67615875,"body_markdown":"As for my understanding all classes found get loaded in the order they appear in the classpath. But since the API does not specify this it is uncertain. and even if it is true it may change with later Java versions.","body":"As for my understanding all classes found get loaded in the order they appear in the classpath. But since the API does not specify this it is uncertain. and even if it is true it may change with later Java versions."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1477049302,"post_id":40174180,"comment_id":67618024,"body_markdown":"It depends on the order in which the service loader definition files for the interface appear on the CLASSPATH.","body":"It depends on the order in which the service loader definition files for the interface appear on the CLASSPATH."}],"answers":[{"tags":[],"owner":{"account_id":143638,"reputation":2719,"user_id":352109,"accept_rate":81,"display_name":"Riccardo Cossu"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1477046288,"creation_date":1477046288,"answer_id":40174474,"question_id":40174180,"body_markdown":"It depends on java version, application server type and version, probably even file system settings and who knows what else.\r\nI think it&#39;s enough to say that there is no guarantee about the order, and it&#39;s something you should never rely on.","title":"ServiceLoader load - duplicate class which loads first?","body":"<p>It depends on java version, application server type and version, probably even file system settings and who knows what else.\nI think it's enough to say that there is no guarantee about the order, and it's something you should never rely on.</p>\n"},{"tags":[],"owner":{"account_id":22484035,"reputation":11,"user_id":16682714,"display_name":"Javier Gavil&#225;n M&#233;rida"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1698225260,"creation_date":1698225173,"answer_id":77358151,"question_id":40174180,"body_markdown":"For javadoc of ServiceLoader#load(Class):\r\n&gt; Creates a new service loader for the given service type, using the current thread&#39;s context class loader.\r\nAn invocation of this convenience method of the form\r\n ServiceLoader.load(service)\r\nis equivalent to\r\n ServiceLoader.load(service, Thread.currentThread().getContextClassLoader())\r\n\r\nFor Javadoc of ServiceLoader#load(Class, ClassLoader):\r\n\r\n&gt; Ordering: The service loader will first locate any service providers in modules defined to the class loader, then its parent class loader, its parent parent, and so on to the bootstrap class loader. If a class loader has modules in a module layer then all providers in that module layer are located (irrespective of their class loader) before the providers in the parent class loader are located. The ordering of modules in same class loader, or the ordering of modules in a module layer, is not defined.","title":"ServiceLoader load - duplicate class which loads first?","body":"<p>For javadoc of ServiceLoader#load(Class):</p>\n<blockquote>\n<p>Creates a new service loader for the given service type, using the current thread's context class loader.\nAn invocation of this convenience method of the form\nServiceLoader.load(service)\nis equivalent to\nServiceLoader.load(service, Thread.currentThread().getContextClassLoader())</p>\n</blockquote>\n<p>For Javadoc of ServiceLoader#load(Class, ClassLoader):</p>\n<blockquote>\n<p>Ordering: The service loader will first locate any service providers in modules defined to the class loader, then its parent class loader, its parent parent, and so on to the bootstrap class loader. If a class loader has modules in a module layer then all providers in that module layer are located (irrespective of their class loader) before the providers in the parent class loader are located. The ordering of modules in same class loader, or the ordering of modules in a module layer, is not defined.</p>\n</blockquote>\n"}],"owner":{"account_id":3913702,"reputation":1679,"user_id":3238215,"accept_rate":51,"display_name":"IanWatson"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":916,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1698225260,"creation_date":1477045521,"question_id":40174180,"body_markdown":"When using ServiceLoader.load(X.class) and there are 2 jar files which contain definitions for X.class which one will get deployed?\r\n\r\nThe issue I&#39;m seeing is that this appears to be intermittent in terms of class load order. \r\n\r\nThis is a issue as the definitions are slightly different.\r\n\r\nIdeally this would only appear once on the class path and avoid all problems but in the intermediate time I&#39;m trying to understand whats loads first.\r\n\r\n","title":"ServiceLoader load - duplicate class which loads first?","body":"<p>When using ServiceLoader.load(X.class) and there are 2 jar files which contain definitions for X.class which one will get deployed?</p>\n\n<p>The issue I'm seeing is that this appears to be intermittent in terms of class load order. </p>\n\n<p>This is a issue as the definitions are slightly different.</p>\n\n<p>Ideally this would only appear once on the class path and avoid all problems but in the intermediate time I'm trying to understand whats loads first.</p>\n"},{"tags":["java","spring","spring-boot","timer","cron"],"comments":[{"owner":{"account_id":9494766,"reputation":147,"user_id":7058262,"display_name":"prasannajoshi"},"score":0,"creation_date":1697725038,"post_id":77324456,"comment_id":136318156,"body_markdown":"@Scheduled(initialDelay = 5 * 60 * 1000, cron = &quot;0 0 5 1/1 * ? * &quot;) though I am not sure if it will work as initialDelay and cron wont run together as there is possibility of cron running exactly when your server starts so in that case how spring will decide to wait or run cron ? so try to use fixed delay or fixed rate or just use cron.","body":"@Scheduled(initialDelay = 5 * 60 * 1000, cron = &quot;0 0 5 1/1 * ? * &quot;) though I am not sure if it will work as initialDelay and cron wont run together as there is possibility of cron running exactly when your server starts so in that case how spring will decide to wait or run cron ? so try to use fixed delay or fixed rate or just use cron."},{"owner":{"account_id":22839416,"reputation":77,"user_id":16986695,"display_name":"Harish Mahi"},"score":0,"creation_date":1697730185,"post_id":77324456,"comment_id":136319324,"body_markdown":"@prasannajoshi but bro as per my requirement how to achieve them, even i kept separate schedule methods for cron and fixedDelay and it is also stoping the tomcat","body":"@prasannajoshi but bro as per my requirement how to achieve them, even i kept separate schedule methods for cron and fixedDelay and it is also stoping the tomcat"},{"owner":{"account_id":9494766,"reputation":147,"user_id":7058262,"display_name":"prasannajoshi"},"score":0,"creation_date":1697731166,"post_id":77324456,"comment_id":136319510,"body_markdown":"any error ? can you remove fixed delay all together and try this  (cron = &quot;0 0 5 1/1 * ? * &quot;) only","body":"any error ? can you remove fixed delay all together and try this  (cron = &quot;0 0 5 1/1 * ? * &quot;) only"},{"owner":{"account_id":22839416,"reputation":77,"user_id":16986695,"display_name":"Harish Mahi"},"score":0,"creation_date":1697731495,"post_id":77324456,"comment_id":136319592,"body_markdown":"if i remove initial delay it is working fine bro, but need to call a method after 5 mins for that i used initial delay","body":"if i remove initial delay it is working fine bro, but need to call a method after 5 mins for that i used initial delay"},{"owner":{"account_id":9494766,"reputation":147,"user_id":7058262,"display_name":"prasannajoshi"},"score":1,"creation_date":1697795628,"post_id":77324456,"comment_id":136327537,"body_markdown":"do u need every time or only once that initial delay ? if its only once then do Thread.sleep(for 5 min )","body":"do u need every time or only once that initial delay ? if its only once then do Thread.sleep(for 5 min )"}],"answers":[{"tags":[],"owner":{"account_id":7718592,"reputation":119,"user_id":5845487,"display_name":"Hassan Golshani"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1698225239,"creation_date":1698225239,"answer_id":77358157,"question_id":77324456,"body_markdown":"Use this example:\r\n\r\n    @Component\r\n    public class SimpleScheduler {\r\n    \r\n        @EventListener(ApplicationReadyEvent.class)\r\n        public void run() throws InterruptedException {\r\n            Thread.sleep(5 * 60 * 1000);\r\n            process();\r\n        }\r\n    \r\n        @Scheduled(cron = &quot;0 0 17 * * ?&quot;)\r\n        public void cron() {\r\n            process();\r\n        }\r\n    \r\n        private void process() {\r\n            System.out.println(&quot;RUN&quot;);\r\n        }\r\n    }\r\n\r\nConsider to add @EnableScheduling to your application runner class.\r\n\r\n","title":"how to use intialDelay and cron job in schedule annotation","body":"<p>Use this example:</p>\n<pre><code>@Component\npublic class SimpleScheduler {\n\n    @EventListener(ApplicationReadyEvent.class)\n    public void run() throws InterruptedException {\n        Thread.sleep(5 * 60 * 1000);\n        process();\n    }\n\n    @Scheduled(cron = &quot;0 0 17 * * ?&quot;)\n    public void cron() {\n        process();\n    }\n\n    private void process() {\n        System.out.println(&quot;RUN&quot;);\n    }\n}\n</code></pre>\n<p>Consider to add @EnableScheduling to your application runner class.</p>\n"}],"owner":{"account_id":22839416,"reputation":77,"user_id":16986695,"display_name":"Harish Mahi"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77358157,"answer_count":1,"score":0,"last_activity_date":1698225239,"creation_date":1697724045,"question_id":77324456,"body_markdown":"I want to create a time in Spring Boot which should start first at after 5 mins from java start (initialDelay) and from next time it should run at 5 AM of everyday\r\n\r\nI am trying to use below code, but Tomcat stopped and Java is not starting.\r\n\r\n    @Service\r\n    public class ServiceHandler {\r\n       @Scheduled(initialDelay = 5 * 60 * 100, cron = &quot;0 0 5 * * *&quot;)\r\n        public void SomeTimer() {\r\n        //some code\r\n        }\r\n    }\r\n\r\nMain Spring Boot class:\r\n\r\n    @EnableScheduling\r\n    public class AppMain {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(AppMain.class, args);\r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"how to use intialDelay and cron job in schedule annotation","body":"<p>I want to create a time in Spring Boot which should start first at after 5 mins from java start (initialDelay) and from next time it should run at 5 AM of everyday</p>\n<p>I am trying to use below code, but Tomcat stopped and Java is not starting.</p>\n<pre><code>@Service\npublic class ServiceHandler {\n   @Scheduled(initialDelay = 5 * 60 * 100, cron = &quot;0 0 5 * * *&quot;)\n    public void SomeTimer() {\n    //some code\n    }\n}\n</code></pre>\n<p>Main Spring Boot class:</p>\n<pre><code>@EnableScheduling\npublic class AppMain {\n\n    public static void main(String[] args) {\n        SpringApplication.run(AppMain.class, args);\n    }\n\n}\n</code></pre>\n"},{"tags":["java","unsatisfiedlinkerror","vaticle-typedb"],"answers":[{"tags":[],"owner":{"account_id":3467340,"reputation":2336,"user_id":2902555,"display_name":"Alex Walker"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1698225229,"creation_date":1645623634,"answer_id":71237977,"question_id":71237976,"body_markdown":"# TypeDB v2.19 or above\r\n\r\nAs of TypeDB 2.19.0, TypeDB supports native Mac and Linux `arm` architectures. Simply install a native Java runtime to run TypeDB.\r\n\r\n# Old versions of TypeDB\r\n\r\n&gt;  Prior to TypeDB 2.19.0, there were no distributions available for `aarch64` (ARM). As of Jul 6, 2023, the [best solution](https://stackoverflow.com/a/76627424/2902555) is to [upgrade](https://github.com/vaticle/typedb/releases) to TypeDB 2.19.0 or above. If doing so through Homebrew, ensure you are using an ARM64 installation of `brew` (i.e. the default).\r\n\r\nIf the running JDK targets `aarch64` (ARM), the architecture used by an M1 Mac, then an `UnsatisfiedLinkError` is thrown at startup. There is no native ARM build of TypeDB &lt;v2.19, so in order for older versions of TypeDB to run correctly on an M1 MacBook you need to ensure that a JDK that targets `x64` architecture is installed. \r\n\r\nFor example, to install Eclipse Temurin (based upon OpenJDK):\r\n\r\n1. Visit https://adoptium.net/en-GB/temurin/releases/?version=11 to browse Temurin releases\r\n2. Select the `.pkg` distribution of `JDK 11` with operating system `MacOS` and architecture `x64`\r\n3. Download and install the Java binary displayed in the list below\r\n4. Verify that Java was installed correctly by running `java --version`; the output should match the downloaded JDK version\r\n\r\n_Please note that this method relies on MacOS&#39;s [Rosetta translation](https://developer.apple.com/documentation/apple-silicon/about-the-rosetta-translation-environment), which will inflict a performance overhead._","title":"UnsatisfiedLinkError when running TypeDB on an M1 MacBook","body":"<h1>TypeDB v2.19 or above</h1>\n<p>As of TypeDB 2.19.0, TypeDB supports native Mac and Linux <code>arm</code> architectures. Simply install a native Java runtime to run TypeDB.</p>\n<h1>Old versions of TypeDB</h1>\n<blockquote>\n<p> Prior to TypeDB 2.19.0, there were no distributions available for <code>aarch64</code> (ARM). As of Jul 6, 2023, the <a href=\"https://stackoverflow.com/a/76627424/2902555\">best solution</a> is to <a href=\"https://github.com/vaticle/typedb/releases\" rel=\"nofollow noreferrer\">upgrade</a> to TypeDB 2.19.0 or above. If doing so through Homebrew, ensure you are using an ARM64 installation of <code>brew</code> (i.e. the default).</p>\n</blockquote>\n<p>If the running JDK targets <code>aarch64</code> (ARM), the architecture used by an M1 Mac, then an <code>UnsatisfiedLinkError</code> is thrown at startup. There is no native ARM build of TypeDB &lt;v2.19, so in order for older versions of TypeDB to run correctly on an M1 MacBook you need to ensure that a JDK that targets <code>x64</code> architecture is installed.</p>\n<p>For example, to install Eclipse Temurin (based upon OpenJDK):</p>\n<ol>\n<li>Visit <a href=\"https://adoptium.net/en-GB/temurin/releases/?version=11\" rel=\"nofollow noreferrer\">https://adoptium.net/en-GB/temurin/releases/?version=11</a> to browse Temurin releases</li>\n<li>Select the <code>.pkg</code> distribution of <code>JDK 11</code> with operating system <code>MacOS</code> and architecture <code>x64</code></li>\n<li>Download and install the Java binary displayed in the list below</li>\n<li>Verify that Java was installed correctly by running <code>java --version</code>; the output should match the downloaded JDK version</li>\n</ol>\n<p><em>Please note that this method relies on MacOS's <a href=\"https://developer.apple.com/documentation/apple-silicon/about-the-rosetta-translation-environment\" rel=\"nofollow noreferrer\">Rosetta translation</a>, which will inflict a performance overhead.</em></p>\n"},{"tags":[],"owner":{"account_id":16664661,"reputation":41,"user_id":12043706,"display_name":"yang zhang"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1650764610,"creation_date":1650764610,"answer_id":71984883,"question_id":71237976,"body_markdown":"My computer is MacBookAir M1. And I encountered this problem too. \r\n\r\nI tried Java 17 and Java 8, and both were filed. Finally, when I **switch to Java 11, the error disappeared.** Hope this helps. ","title":"UnsatisfiedLinkError when running TypeDB on an M1 MacBook","body":"<p>My computer is MacBookAir M1. And I encountered this problem too.</p>\n<p>I tried Java 17 and Java 8, and both were filed. Finally, when I <strong>switch to Java 11, the error disappeared.</strong> Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":2470034,"reputation":400,"user_id":2152153,"accept_rate":75,"display_name":"flyingsilverfin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1688635942,"creation_date":1688635942,"answer_id":76627424,"question_id":71237976,"body_markdown":"As of the TypeDB 2.19.0 release, the `mac` and `linux` distributions support both `x86_64`/`amd64` and `arm64`/`aarch64` architectures natively. \r\n\r\nThese versions are faster than using emulation to run the x86_64 distributions on Macs in particular. \r\n\r\nInstallation is now as simple as installing a Java runtime that is applicable to your native OS+architecture, and then installing TypeDB for your OS via the apt/brew distribution channels or from the Github releases page: https://github.com/vaticle/typedb/releases","title":"UnsatisfiedLinkError when running TypeDB on an M1 MacBook","body":"<p>As of the TypeDB 2.19.0 release, the <code>mac</code> and <code>linux</code> distributions support both <code>x86_64</code>/<code>amd64</code> and <code>arm64</code>/<code>aarch64</code> architectures natively.</p>\n<p>These versions are faster than using emulation to run the x86_64 distributions on Macs in particular.</p>\n<p>Installation is now as simple as installing a Java runtime that is applicable to your native OS+architecture, and then installing TypeDB for your OS via the apt/brew distribution channels or from the Github releases page: <a href=\"https://github.com/vaticle/typedb/releases\" rel=\"nofollow noreferrer\">https://github.com/vaticle/typedb/releases</a></p>\n"}],"owner":{"account_id":3467340,"reputation":2336,"user_id":2902555,"display_name":"Alex Walker"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10750,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":76627424,"answer_count":3,"score":4,"last_activity_date":1698225229,"creation_date":1645623634,"question_id":71237976,"body_markdown":"I tried running TypeDB on my M1 MacBook using `./typedb server`, but it results in the following error:\r\n```\r\nException in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: Can&#39;t load library: /var/folders/5v/95_mbj013y93vsmc8xps0stm0000gp/T/librocksdbjni8182124459810412816.jnilib\r\n    at java.base/java.lang.ClassLoader.loadLibrary(ClassLoader.java:2393)\r\n    at java.base/java.lang.Runtime.load0(Runtime.java:755)\r\n    at java.base/java.lang.System.load(System.java:1953)\r\n```\r\nThis error looks like it might occur when running a Java program with an incompatible JDK. What can I do to resolve it?\r\n\r\n(_Disclaimer - TypeDB maintainer here._)","title":"UnsatisfiedLinkError when running TypeDB on an M1 MacBook","body":"<p>I tried running TypeDB on my M1 MacBook using <code>./typedb server</code>, but it results in the following error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: Can't load library: /var/folders/5v/95_mbj013y93vsmc8xps0stm0000gp/T/librocksdbjni8182124459810412816.jnilib\n    at java.base/java.lang.ClassLoader.loadLibrary(ClassLoader.java:2393)\n    at java.base/java.lang.Runtime.load0(Runtime.java:755)\n    at java.base/java.lang.System.load(System.java:1953)\n</code></pre>\n<p>This error looks like it might occur when running a Java program with an incompatible JDK. What can I do to resolve it?</p>\n<p>(<em>Disclaimer - TypeDB maintainer here.</em>)</p>\n"},{"tags":["java","itext"],"answers":[{"tags":[],"owner":{"account_id":2674923,"reputation":9479,"user_id":2311528,"accept_rate":59,"display_name":"Lonzak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1698225212,"creation_date":1698168603,"answer_id":77354219,"question_id":77331404,"body_markdown":"You need to familiarize yourself with the PDF Standard. A good starting point would be chapter 12.5.6.5 &quot;Link annotations&quot;.\r\nWhat you are trying to do is to put the whole file behind the link (by base64 encoding it). This would be a nice security hole if that would work.\r\n\r\nYou could add links (link annotations see ch. 12.5.6.5 table 176). Use the &#39;A&#39; key which is an action dictionary. There you could add links to internal locations (like pages) or external locations like URLs. You could link to the files directly and this will then open the web browser and do whatever the web browser does (show the image, download the file ...)\r\n\r\nThere is the &#39;GoToE&#39; action which references an embedded file (see the PDF spec/pdfbox documentation on how to add attachments) however from my understanding only PDF files are allowed: \r\n\r\n&gt; &quot;allows jumping to or from a PDF file that is embedded in another PDF\r\n&gt; file&quot;\r\n\r\nBut you want to link to other file types as well so that will not work.(Others may correct me if I am wrong here). \r\nSo you either add web links or your add your files as attachments - those are the options I currently see...","title":"Clickable link in pdf to open up different file types in iText 5","body":"<p>You need to familiarize yourself with the PDF Standard. A good starting point would be chapter 12.5.6.5 &quot;Link annotations&quot;.\nWhat you are trying to do is to put the whole file behind the link (by base64 encoding it). This would be a nice security hole if that would work.</p>\n<p>You could add links (link annotations see ch. 12.5.6.5 table 176). Use the 'A' key which is an action dictionary. There you could add links to internal locations (like pages) or external locations like URLs. You could link to the files directly and this will then open the web browser and do whatever the web browser does (show the image, download the file ...)</p>\n<p>There is the 'GoToE' action which references an embedded file (see the PDF spec/pdfbox documentation on how to add attachments) however from my understanding only PDF files are allowed:</p>\n<blockquote>\n<p>&quot;allows jumping to or from a PDF file that is embedded in another PDF\nfile&quot;</p>\n</blockquote>\n<p>But you want to link to other file types as well so that will not work.(Others may correct me if I am wrong here).\nSo you either add web links or your add your files as attachments - those are the options I currently see...</p>\n"}],"owner":{"account_id":21624971,"reputation":3,"user_id":15949420,"display_name":"Always_Beginner"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77354219,"answer_count":1,"score":0,"last_activity_date":1698225212,"creation_date":1697809278,"question_id":77331404,"body_markdown":"I tried to make a clickable link in iText 5 for pdf managing using java, So that once the link in the pdf is clicked, it will open up the expected file-type which can be an image, pdf, .csv etc. \r\n\r\n&gt; Note that the clickable link is not a url/any remote file, it expects to open up the file itself like data.pdf/data.csv/data.jpeg.\r\n\r\nI have also added below code for the same: \r\n\r\n\r\n```\r\nString testData = &quot;data:@file/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAAAeFBMVEX///8AAAC7u7u+vr7MzMyVlZX09PT4+Pjr6+vZ2dn39/fx8fHg4OCampqJiYno6OhHR0dBQUG1tbVkZGRzc3OioqIvLy9fX1/S0tJVVVXExMSPj48dHR0iIiJPT08NDQ2srKx8fHw3NzcVFRUpKSmDg4NtbW06OjpymPDEAAAGCUlEQVR4nO2c6XqqMBCGS7UiBYuKoOKGtrb3f4entqfMBLAQIAt9vvevRGYgzJrk4QEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAlOBOwyAIwqlrWhAlbLL3Y/Lq3Dglx/dsY1qgXnGXa6fMevlX3uVmVaHeN6u/8CbT7V39bmxT0wJ2JPhdvy8dA9NCduGlVr8bL6bFbI13aaSg4ySeaVHbsWyo343MtLBt2Eko6Dg70+LKc66ajfNodT5H87eK31amBZal5AOT6zjMfw3Tc+kbHZiKRSO62pTil1IgcDUhaFvign7TyqumBR1jzVJ2YCwIPr/vC7y5cOVYo4ydmAhi/24lBYt7mmiSsCsRl7ou7hzxi9da5OvMI5e5Puj0+OUjDfJ1xn2TUlBU8W0IKeNM2nRwwzQAe+qeSNys4RjmXE7PCmXrBybte+NB0ZBeInuFzW2/T4P2CmXrhXG7t8HevO1u/53MotS413yc5RE4szOZ1MCMbI3dDoMm6atcBObTo7F7mlKYKTvZaHrbne5vW78JevtbJZL1hH/IvybZNIEcxpvNGUaYi7mQHrvIx4b1FxuDppp8lfecj7W5mUE2f6l1rD4or5BvuKT52JkCyfqCnIX8TNsMwl1QEVG+E0GJsM2dmr+v4d+fpWRp5EtKVHSzOQmmhlomPXYY3oK+pbP0WCrx29wvpajtIj2WmlE2R23PSS5mdTPmPvRwEqvLbbQy6FFyJFXK7S7tkzGNJEdSQdHmoI07NclpOqWBNqcWn+xzQZ+kxj3l42wvmF7pXcgYDNZytL3ZzRpJMuEl6/vb7A2/IH8h4dcCGiTvSHXD+qPNazVUo5H2MgZgL7HpPGVzNFEqWz/w5WzNYuhMeoRh+AqSJuWalF0/Vy5dHwhLD+o/K2Fhg/WG9Jsrl7kuBuNtf6vrFwIJl3r9W7fMFRbxD8HMfBM6AvetR2GRrc2JYYFUlHxebXBScVVbiyqyQTJRdmcRF1ONabwoXJMZkLMDM6fIYpb6/3+cpLOienZX2CqJSyrcOHzMPw6Vv2SmBZbnsVKRewwgHC3j1ev1w2kgnr6IG9Xr9kVk9wKT33jc16vn7Ac5Q3+Y1O982tm8MKEJ0+uv+l1lK8c24sYfd9T7iK0ub8sQPJX3IW6fBmpA7+F78Ut0uS1BPF3WL/HGrx8CAAAAAGCWSeB56eixOaPU84KhJBnjOFpUl2LqOCyieGx5LB7Gx1a6cRaxtYVhPyuXCNsqaWNcHpx7Uu+blW1nuoRNi07NiWzS0X+vF7gFK2vmarFJ0R+ZadW+mNYflNSerQWFqlG9mJ0wXkytrodetufZciTDcnbeVh+6ZLbz7VacNHfcbdq67HCzq4gYTK43dUsu/lDqhMoyjZPiny6MtTX8oizbfpaGboq2KzHkNiYFBdf9LX31CrM/MZN2iLX6fb/rDFKxa/XR6583RIzTVn1/K654xJLssvEeEI9jU+G1RE+rfTOUcPuDmowuFBJpzattfH7vhSo7MBG8kV6Dyu35XJ27cvmqKa379Pl6NLX+mL9FjatrJ3QSibNX66omzGtIHrXRBR5uq87E2TJ+ffaUL65Un9zwL0JXFY75Yh3H5Wi+3YPoKXRE/a52j8G+Qj3Wjc1TLekwe6S69g4wr6hj0rAnquu8I3aAmI6yDaVuRw13+4ZqGxpKGmyzp76DKlmcr768SJP0oPxeBGUZ6o0beSedGVv7M8TkoZBU58I7WlGtfJswi9hU30qAbqs6cqPPUO+O5LO2D3Gn7U4i9GTldsHLQ55Jb7edvg7VqT4d4Ki31E6x4knxnfIb6d7PSrGp2vtQ5tT8kOB+oEa62loG1RTkDxHqBhlTtXUTOrtEd+OSslK1Z5+YO3Ksy0FpMlCmptotFaHjXdRmpdBQHdCwL6ChOqBhX0BDdUDDvoCG6tClIUXeus9vpKNE1EbelAHrPkyGjrxR3M3/6cvsde9tef5ZsqC6N+O/6vgYqvhvAl6Vt4H91aeORxNb6b3jp35adij4gamNSWFgzQ4MAAAAAAAAAAAAAAAAAAAAAAAAAAAAgJ38Az8zPHGl+a2BAAAAAElFTkSuQmCC&quot;;\r\n        Phrase phrase = new Phrase(&quot;&quot;);\r\n        Font anchorFont = new Font(Font.FontFamily.UNDEFINED, 11);\r\n        anchorFont.setColor(BaseColor.BLUE);\r\n        anchorFont.setStyle(Font.FontStyle.UNDERLINE.getValue());\r\n\r\n        Anchor anchor1 = new Anchor(&quot;Click to Open&quot;, anchorFont);\r\n        anchor1.setReference(testData);\r\n        \r\n        phrase.add(anchor1);\r\n        subPara.add(phrase);\r\n```\r\n\r\ntestData values can be of different file type values like &quot;data:application/pdf;base64,JVBERi0xLjcNCiW&quot; and many others\r\n\r\nThe link once added won&#39;t be changing.\r\n\r\nNow, I have tried as above specified and I am currently trying to convert data to blob. Please feel free to provide better alternatives or point out possible mistakes.","title":"Clickable link in pdf to open up different file types in iText 5","body":"<p>I tried to make a clickable link in iText 5 for pdf managing using java, So that once the link in the pdf is clicked, it will open up the expected file-type which can be an image, pdf, .csv etc.</p>\n<blockquote>\n<p>Note that the clickable link is not a url/any remote file, it expects to open up the file itself like data.pdf/data.csv/data.jpeg.</p>\n</blockquote>\n<p>I have also added below code for the same:</p>\n<pre><code>String testData = &quot;data:@file/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAAAeFBMVEX///8AAAC7u7u+vr7MzMyVlZX09PT4+Pjr6+vZ2dn39/fx8fHg4OCampqJiYno6OhHR0dBQUG1tbVkZGRzc3OioqIvLy9fX1/S0tJVVVXExMSPj48dHR0iIiJPT08NDQ2srKx8fHw3NzcVFRUpKSmDg4NtbW06OjpymPDEAAAGCUlEQVR4nO2c6XqqMBCGS7UiBYuKoOKGtrb3f4entqfMBLAQIAt9vvevRGYgzJrk4QEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAlOBOwyAIwqlrWhAlbLL3Y/Lq3Dglx/dsY1qgXnGXa6fMevlX3uVmVaHeN6u/8CbT7V39bmxT0wJ2JPhdvy8dA9NCduGlVr8bL6bFbI13aaSg4ySeaVHbsWyo343MtLBt2Eko6Dg70+LKc66ajfNodT5H87eK31amBZal5AOT6zjMfw3Tc+kbHZiKRSO62pTil1IgcDUhaFvign7TyqumBR1jzVJ2YCwIPr/vC7y5cOVYo4ydmAhi/24lBYt7mmiSsCsRl7ou7hzxi9da5OvMI5e5Puj0+OUjDfJ1xn2TUlBU8W0IKeNM2nRwwzQAe+qeSNys4RjmXE7PCmXrBybte+NB0ZBeInuFzW2/T4P2CmXrhXG7t8HevO1u/53MotS413yc5RE4szOZ1MCMbI3dDoMm6atcBObTo7F7mlKYKTvZaHrbne5vW78JevtbJZL1hH/IvybZNIEcxpvNGUaYi7mQHrvIx4b1FxuDppp8lfecj7W5mUE2f6l1rD4or5BvuKT52JkCyfqCnIX8TNsMwl1QEVG+E0GJsM2dmr+v4d+fpWRp5EtKVHSzOQmmhlomPXYY3oK+pbP0WCrx29wvpajtIj2WmlE2R23PSS5mdTPmPvRwEqvLbbQy6FFyJFXK7S7tkzGNJEdSQdHmoI07NclpOqWBNqcWn+xzQZ+kxj3l42wvmF7pXcgYDNZytL3ZzRpJMuEl6/vb7A2/IH8h4dcCGiTvSHXD+qPNazVUo5H2MgZgL7HpPGVzNFEqWz/w5WzNYuhMeoRh+AqSJuWalF0/Vy5dHwhLD+o/K2Fhg/WG9Jsrl7kuBuNtf6vrFwIJl3r9W7fMFRbxD8HMfBM6AvetR2GRrc2JYYFUlHxebXBScVVbiyqyQTJRdmcRF1ONabwoXJMZkLMDM6fIYpb6/3+cpLOienZX2CqJSyrcOHzMPw6Vv2SmBZbnsVKRewwgHC3j1ev1w2kgnr6IG9Xr9kVk9wKT33jc16vn7Ac5Q3+Y1O982tm8MKEJ0+uv+l1lK8c24sYfd9T7iK0ub8sQPJX3IW6fBmpA7+F78Ut0uS1BPF3WL/HGrx8CAAAAAGCWSeB56eixOaPU84KhJBnjOFpUl2LqOCyieGx5LB7Gx1a6cRaxtYVhPyuXCNsqaWNcHpx7Uu+blW1nuoRNi07NiWzS0X+vF7gFK2vmarFJ0R+ZadW+mNYflNSerQWFqlG9mJ0wXkytrodetufZciTDcnbeVh+6ZLbz7VacNHfcbdq67HCzq4gYTK43dUsu/lDqhMoyjZPiny6MtTX8oizbfpaGboq2KzHkNiYFBdf9LX31CrM/MZN2iLX6fb/rDFKxa/XR6583RIzTVn1/K654xJLssvEeEI9jU+G1RE+rfTOUcPuDmowuFBJpzattfH7vhSo7MBG8kV6Dyu35XJ27cvmqKa379Pl6NLX+mL9FjatrJ3QSibNX66omzGtIHrXRBR5uq87E2TJ+ffaUL65Un9zwL0JXFY75Yh3H5Wi+3YPoKXRE/a52j8G+Qj3Wjc1TLekwe6S69g4wr6hj0rAnquu8I3aAmI6yDaVuRw13+4ZqGxpKGmyzp76DKlmcr768SJP0oPxeBGUZ6o0beSedGVv7M8TkoZBU58I7WlGtfJswi9hU30qAbqs6cqPPUO+O5LO2D3Gn7U4i9GTldsHLQ55Jb7edvg7VqT4d4Ki31E6x4knxnfIb6d7PSrGp2vtQ5tT8kOB+oEa62loG1RTkDxHqBhlTtXUTOrtEd+OSslK1Z5+YO3Ksy0FpMlCmptotFaHjXdRmpdBQHdCwL6ChOqBhX0BDdUDDvoCG6tClIUXeus9vpKNE1EbelAHrPkyGjrxR3M3/6cvsde9tef5ZsqC6N+O/6vgYqvhvAl6Vt4H91aeORxNb6b3jp35adij4gamNSWFgzQ4MAAAAAAAAAAAAAAAAAAAAAAAAAAAAgJ38Az8zPHGl+a2BAAAAAElFTkSuQmCC&quot;;\n        Phrase phrase = new Phrase(&quot;&quot;);\n        Font anchorFont = new Font(Font.FontFamily.UNDEFINED, 11);\n        anchorFont.setColor(BaseColor.BLUE);\n        anchorFont.setStyle(Font.FontStyle.UNDERLINE.getValue());\n\n        Anchor anchor1 = new Anchor(&quot;Click to Open&quot;, anchorFont);\n        anchor1.setReference(testData);\n        \n        phrase.add(anchor1);\n        subPara.add(phrase);\n</code></pre>\n<p>testData values can be of different file type values like &quot;data:application/pdf;base64,JVBERi0xLjcNCiW&quot; and many others</p>\n<p>The link once added won't be changing.</p>\n<p>Now, I have tried as above specified and I am currently trying to convert data to blob. Please feel free to provide better alternatives or point out possible mistakes.</p>\n"},{"tags":["java","css","vue.js","intellij-idea","javalin"],"comments":[{"owner":{"account_id":2623230,"reputation":91073,"user_id":2274212,"display_name":"lena"},"score":0,"creation_date":1603311194,"post_id":64470497,"comment_id":114000603,"body_markdown":"what problems using either of these ways have you faced? see also https://vuejs.org/v2/guide/single-file-components.html#What-About-Separation-of-Concerns","body":"what problems using either of these ways have you faced? see also <a href=\"https://vuejs.org/v2/guide/single-file-components.html#What-About-Separation-of-Concerns\" rel=\"nofollow noreferrer\">vuejs.org/v2/guide/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":29745903,"reputation":11,"user_id":22796981,"display_name":"Maksim Klyuev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1698224662,"creation_date":1698183429,"answer_id":77355512,"question_id":64470497,"body_markdown":"My jte template couldn&#39;t see css file. To solve this problem I configured app like this:\r\n```\r\n    Javalin app = Javalin.create(javalinConfig -&gt; {\r\n        javalinConfig.staticFiles.add(&quot;/static&quot;);// static is foder in resources\r\n    }).start(7070);\r\n```\r\nand then linked css file in jte template using path to this file in static file folder:\r\n```\r\n    &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;index.css&quot;&gt;\r\n```\r\nP.S. Maybe there are better solutions, but this one worked for me","title":"how to import/link to a local css stylesheet file in app.vue","body":"<p>My jte template couldn't see css file. To solve this problem I configured app like this:</p>\n<pre><code>    Javalin app = Javalin.create(javalinConfig -&gt; {\n        javalinConfig.staticFiles.add(&quot;/static&quot;);// static is foder in resources\n    }).start(7070);\n</code></pre>\n<p>and then linked css file in jte template using path to this file in static file folder:</p>\n<pre><code>    &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;index.css&quot;&gt;\n</code></pre>\n<p>P.S. Maybe there are better solutions, but this one worked for me</p>\n"}],"owner":{"account_id":19791984,"reputation":11,"user_id":14494813,"display_name":"Walter"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1698224662,"creation_date":1603308814,"question_id":64470497,"body_markdown":"im working with Java, Javalin and vue.\r\n\r\nI cant figure out how to get css working without just having it all in-line within the &lt;script&gt; tags in my *app.vue*.\r\n\r\n\r\n**so i *dont* want:**\r\n```\r\n&lt;style lang=&quot;css&quot;&gt;\r\n\r\n//lots\r\n\r\n//of\r\n\r\n//lines\r\n\r\n//here\r\n\r\n&lt;/style&gt;\r\n```\r\n\r\nwhat i found while searching, was people doing things like this:\r\n```\r\n&lt;style scoped src=&quot;/assets/styles/styles.css&quot;&gt;&lt;/style&gt;\r\n```\r\n\r\n**or**\r\n\r\n```\r\n&lt;style scoped lang=&quot;css&quot;&gt;\r\n  @import &quot;~/assets/styles.css&quot;;\r\n&lt;/style&gt;\r\n```\r\n\r\nthese would be great. but it did not work for me somehow.\r\n\r\nim very much an &#252;ber noob with intellij and java, i mostly do web-dev frontend stuff in vim. but for this project its all intelliJ. i just hate working on giant long files. when i could split it up in more files. so if anyone have a super simple way of of just linking it. that would be amazing. :)","title":"how to import/link to a local css stylesheet file in app.vue","body":"<p>im working with Java, Javalin and vue.</p>\n<p>I cant figure out how to get css working without just having it all in-line within the  tags in my <em>app.vue</em>.</p>\n<p><strong>so i <em>dont</em> want:</strong></p>\n<pre><code>&lt;style lang=&quot;css&quot;&gt;\n\n//lots\n\n//of\n\n//lines\n\n//here\n\n&lt;/style&gt;\n</code></pre>\n<p>what i found while searching, was people doing things like this:</p>\n<pre><code>&lt;style scoped src=&quot;/assets/styles/styles.css&quot;&gt;&lt;/style&gt;\n</code></pre>\n<p><strong>or</strong></p>\n<pre><code>&lt;style scoped lang=&quot;css&quot;&gt;\n  @import &quot;~/assets/styles.css&quot;;\n&lt;/style&gt;\n</code></pre>\n<p>these would be great. but it did not work for me somehow.</p>\n<p>im very much an ber noob with intellij and java, i mostly do web-dev frontend stuff in vim. but for this project its all intelliJ. i just hate working on giant long files. when i could split it up in more files. so if anyone have a super simple way of of just linking it. that would be amazing. :)</p>\n"},{"tags":["java","android","kotlin","android-developer-api"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1698242666,"post_id":77357277,"comment_id":136380540,"body_markdown":"This only works if you don&#39;t use the Android strings and localization system. So you would have to build your own localization system or use an existing Java/Kotlin library but you would still need to manually manage the string file(s) in the app private file-system and also load the strings when required.","body":"This only works if you don&#39;t use the Android strings and localization system. So you would have to build your own localization system or use an existing Java/Kotlin library but you would still need to manually manage the string file(s) in the app private file-system and also load the strings when required."},{"owner":{"account_id":24118422,"reputation":21,"user_id":18087969,"display_name":"Ayush Sharma"},"score":0,"creation_date":1698294347,"post_id":77357277,"comment_id":136387578,"body_markdown":"Thanks @Robert yes i think it will required manual intervention , it think it will be much better to provide a new update on playstore for this.","body":"Thanks @Robert yes i think it will required manual intervention , it think it will be much better to provide a new update on playstore for this."}],"answers":[{"tags":[],"owner":{"account_id":19315649,"reputation":692,"user_id":14120486,"display_name":"ItzDavi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1698223903,"creation_date":1698219065,"answer_id":77357417,"question_id":77357277,"body_markdown":"In short, **you can&#39;t.**\r\n\r\nWithout building a **new** updated APK and deploying in the Play Store, you can&#39;t directly update your resources (photos, videos, sounds, strings etc..).\r\n\r\nThe only thing you can do to dynamically use strings in your application is to create an API service and use the strings from the API to load your strings.","title":"How to Dynamically Update or replace Android App Strings.xml file with the new file","body":"<p>In short, <strong>you can't.</strong></p>\n<p>Without building a <strong>new</strong> updated APK and deploying in the Play Store, you can't directly update your resources (photos, videos, sounds, strings etc..).</p>\n<p>The only thing you can do to dynamically use strings in your application is to create an API service and use the strings from the API to load your strings.</p>\n"},{"tags":[],"owner":{"account_id":16811709,"reputation":111,"user_id":12154574,"display_name":"Bhushan Maniyar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698219336,"creation_date":1698219336,"answer_id":77357447,"question_id":77357277,"body_markdown":"There is no way to update existing string xml file in your application without updating app, one solution is to take support from api to get all localized string and render UI with that response or you can also use Firebase Remote Config for this support.","title":"How to Dynamically Update or replace Android App Strings.xml file with the new file","body":"<p>There is no way to update existing string xml file in your application without updating app, one solution is to take support from api to get all localized string and render UI with that response or you can also use Firebase Remote Config for this support.</p>\n"},{"tags":[],"owner":{"account_id":19416528,"reputation":101,"user_id":14199865,"display_name":"Ankit Raj Mahapatra"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1698223906,"creation_date":1698223906,"answer_id":77357978,"question_id":77357277,"body_markdown":"You can&#39;t, what you can do is to create placeholders for each labels and fetch the strings in desired languages from the server.","title":"How to Dynamically Update or replace Android App Strings.xml file with the new file","body":"<p>You can't, what you can do is to create placeholders for each labels and fetch the strings in desired languages from the server.</p>\n"}],"owner":{"account_id":24118422,"reputation":21,"user_id":18087969,"display_name":"Ayush Sharma"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1698224424,"creation_date":1698217701,"question_id":77357277,"body_markdown":"I have given multi-language support to my Android App, but I want to add a feature such that the existing strings.xml can be replaced with the new strings.xml for the particular language received from the server.\r\n\r\n\r\nI could not find much support or resources for this. I just want to dynamically update the strings.xml.","title":"How to Dynamically Update or replace Android App Strings.xml file with the new file","body":"<p>I have given multi-language support to my Android App, but I want to add a feature such that the existing strings.xml can be replaced with the new strings.xml for the particular language received from the server.</p>\n<p>I could not find much support or resources for this. I just want to dynamically update the strings.xml.</p>\n"},{"tags":["java","gradle","neovim","language-server-protocol","nvim-lspconfig"],"owner":{"account_id":18034520,"reputation":81,"user_id":13108267,"display_name":"yiminh wang"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":168,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":0,"score":5,"last_activity_date":1698223850,"creation_date":1692612154,"question_id":76944249,"body_markdown":"I setup and config a [java language server](https://github.com/georgewfraser/java-language-server) using &quot;:Lsp install&quot; and lspconfig plugin, but I cannot jump to classes in my project,\r\n\r\nI just open single file and for every packages, java language server gives me &quot;package ... does not exist&quot;.\r\n\r\nmy project is a gradle project and it contains some sub projects with same &#39;build.gradle&#39;.\r\n\r\ndo I need to specify classpath project by project?\r\n\r\nCan anyone teach me how to use it?","title":"how to specify classpath with java_language_server of neovim?","body":"<p>I setup and config a <a href=\"https://github.com/georgewfraser/java-language-server\" rel=\"noreferrer\">java language server</a> using &quot;:Lsp install&quot; and lspconfig plugin, but I cannot jump to classes in my project,</p>\n<p>I just open single file and for every packages, java language server gives me &quot;package ... does not exist&quot;.</p>\n<p>my project is a gradle project and it contains some sub projects with same 'build.gradle'.</p>\n<p>do I need to specify classpath project by project?</p>\n<p>Can anyone teach me how to use it?</p>\n"},{"tags":["java","spring","annotations","lombok"],"answers":[{"tags":[],"owner":{"account_id":21417136,"reputation":2183,"user_id":15777370,"display_name":"vszholobov"},"down_vote_count":0,"up_vote_count":23,"is_accepted":true,"score":23,"last_activity_date":1658815953,"creation_date":1627359350,"answer_id":68538894,"question_id":68538851,"body_markdown":"Starting with Spring version 4.3, the single bean constructor does not need to be annotated with the `@Autowired` annotation.\r\n\r\nThis makes it possible to use the `@RequiredArgsConstructor` and `@AllArgsConstructor` annotations for dependency injection:\r\n\r\n    @Component\r\n    @RequiredArgsConstructor\r\n    public class Example {\r\n        private final ExampleDependency dependency;\r\n\r\n        public void example() {\r\n            dependency.call();\r\n        }\r\n    }\r\n\r\nIn the above example, lombok will create a constructor with a single `dependency` field, and since this is the only constructor, Spring will inject the dependencies through it.\r\n\r\nIf your version of Spring is less than 4.3, or you use multiple constructors, you can annotate the desired lombok constructor with the `@Autowired` annotation using the `onConstructor` field:\r\n\r\n    @RequiredArgsConstructor(onConstructor = @__(@Autowired))\r\n\r\n[Constructor Injection in Spring with Lombok](https://www.baeldung.com/spring-injection-lombok).","title":"Lombok and @Autowired","body":"<p>Starting with Spring version 4.3, the single bean constructor does not need to be annotated with the <code>@Autowired</code> annotation.</p>\n<p>This makes it possible to use the <code>@RequiredArgsConstructor</code> and <code>@AllArgsConstructor</code> annotations for dependency injection:</p>\n<pre><code>@Component\n@RequiredArgsConstructor\npublic class Example {\n    private final ExampleDependency dependency;\n\n    public void example() {\n        dependency.call();\n    }\n}\n</code></pre>\n<p>In the above example, lombok will create a constructor with a single <code>dependency</code> field, and since this is the only constructor, Spring will inject the dependencies through it.</p>\n<p>If your version of Spring is less than 4.3, or you use multiple constructors, you can annotate the desired lombok constructor with the <code>@Autowired</code> annotation using the <code>onConstructor</code> field:</p>\n<pre><code>@RequiredArgsConstructor(onConstructor = @__(@Autowired))\n</code></pre>\n<p><a href=\"https://www.baeldung.com/spring-injection-lombok\" rel=\"noreferrer\">Constructor Injection in Spring with Lombok</a>.</p>\n"},{"tags":[],"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1627360376,"creation_date":1627360376,"answer_id":68539013,"question_id":68538851,"body_markdown":"As of Spring 4.3, if a class defines only one single constructor, Spring will understand to use that constructor without needing to add `@Autowired` or any other annotations. Simply ensure that you have an appropriate constructor.\r\n\r\nAs mentioned by @vszholobov, you can use `@RequiredArgsConstructor` or `@AllArgsConstructor`; it&#39;s usually best to make your dependencies `final`, so unless you have something like a default `Clock`, they&#39;ll be basically equivalent. (This also works with other styles of creating constructors, such as `@TupleConstructor(defaults = false)` for Groovy.)","title":"Lombok and @Autowired","body":"<p>As of Spring 4.3, if a class defines only one single constructor, Spring will understand to use that constructor without needing to add <code>@Autowired</code> or any other annotations. Simply ensure that you have an appropriate constructor.</p>\n<p>As mentioned by @vszholobov, you can use <code>@RequiredArgsConstructor</code> or <code>@AllArgsConstructor</code>; it's usually best to make your dependencies <code>final</code>, so unless you have something like a default <code>Clock</code>, they'll be basically equivalent. (This also works with other styles of creating constructors, such as <code>@TupleConstructor(defaults = false)</code> for Groovy.)</p>\n"},{"tags":[],"owner":{"account_id":1810034,"reputation":1784,"user_id":1646298,"accept_rate":82,"display_name":"ZZ 5"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1641822669,"creation_date":1641822669,"answer_id":70653475,"question_id":68538851,"body_markdown":"In older versions of Spring you&#39;ll need Lombok to annotate the constructor with `@Autowired` e.g. `@AllArgsConstructor(onConstructor = @__(@Autowired))`.","title":"Lombok and @Autowired","body":"<p>In older versions of Spring you'll need Lombok to annotate the constructor with <code>@Autowired</code> e.g. <code>@AllArgsConstructor(onConstructor = @__(@Autowired))</code>.</p>\n"}],"owner":{"account_id":15928516,"reputation":357,"user_id":14187109,"display_name":"Sergey Zh."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27820,"favorite_count":0,"down_vote_count":1,"up_vote_count":12,"accepted_answer_id":68538894,"answer_count":3,"score":11,"last_activity_date":1698223181,"creation_date":1627358992,"question_id":68538851,"body_markdown":"How to inject beans using @autowired annotation, if I connected a Lombok to the project?\r\n\r\nThe answers on these links seem to be unstable (support?):\r\n\r\nhttps://stackoverflow.com/questions/28685182/spring-lombok-can-i-have-autowired-setter\r\n\r\nhttps://stackoverflow.com/questions/40287592/spring-support-in-idea-with-lombok-is-navigate-to-autowired-dependencies-supp","title":"Lombok and @Autowired","body":"<p>How to inject beans using @autowired annotation, if I connected a Lombok to the project?</p>\n<p>The answers on these links seem to be unstable (support?):</p>\n<p><a href=\"https://stackoverflow.com/questions/28685182/spring-lombok-can-i-have-autowired-setter\">Spring + Lombok: Can I have @Autowired @Setter</a></p>\n<p><a href=\"https://stackoverflow.com/questions/40287592/spring-support-in-idea-with-lombok-is-navigate-to-autowired-dependencies-supp\">Spring support in IDEA with Lombok: Is &quot;Navigate to autowired dependencies&quot; supported?</a></p>\n"},{"tags":["java","gson"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":1,"creation_date":1656320537,"post_id":72769462,"comment_id":128534058,"body_markdown":"They probably omitted getter/setter for the fields, which are needed to expose the fields to other classes. Or they used lombok library with `@Getter` / `@Setter`","body":"They probably omitted getter/setter for the fields, which are needed to expose the fields to other classes. Or they used lombok library with <code>@Getter</code> / <code>@Setter</code>"},{"owner":{"account_id":10164387,"reputation":4961,"user_id":7506820,"display_name":"Nico Van Belle"},"score":0,"creation_date":1656323074,"post_id":72769462,"comment_id":128534907,"body_markdown":"I have no issues at all with the above code. Gson uses field access so adding getters is simply not required. Also, fields are allowed to be private as it uses Reflection. Please post the whole stack trace, not only the message.","body":"I have no issues at all with the above code. Gson uses field access so adding getters is simply not required. Also, fields are allowed to be private as it uses Reflection. Please post the whole stack trace, not only the message."},{"owner":{"account_id":11329032,"reputation":393,"user_id":8307077,"display_name":"Melfun"},"score":0,"creation_date":1656324095,"post_id":72769462,"comment_id":128535288,"body_markdown":"@NicoVanBelle i added the stack trace","body":"@NicoVanBelle i added the stack trace"}],"answers":[{"tags":[],"owner":{"account_id":23358250,"reputation":774,"user_id":17430910,"display_name":"Vaishnav Kanhirathingal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656322897,"creation_date":1656322897,"answer_id":72769985,"question_id":72769462,"body_markdown":"This is probably because `Gson` might not be able to translate `Arraylists` from your class to json strings. So, that&#39;s why it is recommending type adapters. Type adapters are basically used to translate classes which gson won&#39;t be able to translate to json otherwise. In this adapter you would describe how your class should be converted to/from a json string. Here&#39;s the [doc][1]\r\n&lt;br&gt;\r\nAlso, [&quot;{\\&quot;name\\&quot;:\\&quot;test\\&quot;,\\&quot;id\\&quot;:1}&quot;][2] doesn&#39;t have the arraylist `GameFields`. So, that&#39;s another point of error possible.\r\n\r\n\r\n  [1]: https://www.javadoc.io/doc/com.google.code.gson/gson/2.8.0/com/google/gson/TypeAdapter.html\r\n  [2]: https://stackoverflow.com/questions/72769462/failed-making-field-property-accessible-either-change-its-visibility-or-write#:~:text=%22%7B%5C%22name%5C%22%3A%5C%22test%5C%22%2C%5C%22id%5C%22%3A1%7D%22","title":"Failed making field &#39;property&#39; accessible; either change its visibility or write a custom TypeAdapter for its declaring type, gSON fromJson","body":"<p>This is probably because <code>Gson</code> might not be able to translate <code>Arraylists</code> from your class to json strings. So, that's why it is recommending type adapters. Type adapters are basically used to translate classes which gson won't be able to translate to json otherwise. In this adapter you would describe how your class should be converted to/from a json string. Here's the <a href=\"https://www.javadoc.io/doc/com.google.code.gson/gson/2.8.0/com/google/gson/TypeAdapter.html\" rel=\"nofollow noreferrer\">doc</a>\n<br>\nAlso, <a href=\"https://stackoverflow.com/questions/72769462/failed-making-field-property-accessible-either-change-its-visibility-or-write#:%7E:text=%22%7B%5C%22name%5C%22%3A%5C%22test%5C%22%2C%5C%22id%5C%22%3A1%7D%22\">&quot;{&quot;name&quot;:&quot;test&quot;,&quot;id&quot;:1}&quot;</a> doesn't have the arraylist <code>GameFields</code>. So, that's another point of error possible.</p>\n"},{"tags":[],"owner":{"account_id":11329032,"reputation":393,"user_id":8307077,"display_name":"Melfun"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1656337565,"creation_date":1656337565,"answer_id":72773163,"question_id":72769462,"body_markdown":"I have fixed the problem by adding the line :\r\n```\r\nopens com.example.server.Models to com.google.gson;\r\n```\r\nto ```module-info.java```\r\n","title":"Failed making field &#39;property&#39; accessible; either change its visibility or write a custom TypeAdapter for its declaring type, gSON fromJson","body":"<p>I have fixed the problem by adding the line :</p>\n<pre><code>opens com.example.server.Models to com.google.gson;\n</code></pre>\n<p>to <code>module-info.java</code></p>\n"},{"tags":[],"owner":{"account_id":3574509,"reputation":89,"user_id":2984087,"accept_rate":80,"display_name":"Koci Kocev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681367076,"creation_date":1681367076,"answer_id":76002266,"question_id":72769462,"body_markdown":"I had the same problem with deserializing java.time.LocalDate with gson, and I think this part of the gson documentation sheds light on why it happens:\r\n\r\n[Gson documentation troubleshooting][1]\r\n\r\nI am quoting from the documentation:\r\n\r\n\r\n&gt; Explanation: When no built-in adapter for a type exists and no custom\r\n&gt; adapter has been registered, Gson falls back to using reflection to\r\n&gt; access the fields of a class (including private ones). Most likely you\r\n&gt; are seeing this error because you (by accident) rely on the\r\n&gt; reflection-based adapter for third-party classes. That should be\r\n&gt; avoided because you make yourself dependent on the implementation\r\n&gt; details of these classes which could change at any point. For the JDK\r\n&gt; it is also not possible anymore to access internal fields using\r\n&gt; reflection starting with JDK 17, see JEP 403. If you want to prevent\r\n&gt; using reflection on third-party classes in the future you can write\r\n&gt; your own ReflectionAccessFilter or use one of the predefined ones,\r\n&gt; such as ReflectionAccessFilter.BLOCK_ALL_PLATFORM.\r\n\r\n  [1]: https://github.com/google/gson/blob/master/Troubleshooting.md#inaccessibleobjectexception-module--does-not-opens--to-unnamed-module","title":"Failed making field &#39;property&#39; accessible; either change its visibility or write a custom TypeAdapter for its declaring type, gSON fromJson","body":"<p>I had the same problem with deserializing java.time.LocalDate with gson, and I think this part of the gson documentation sheds light on why it happens:</p>\n<p><a href=\"https://github.com/google/gson/blob/master/Troubleshooting.md#inaccessibleobjectexception-module--does-not-opens--to-unnamed-module\" rel=\"nofollow noreferrer\">Gson documentation troubleshooting</a></p>\n<p>I am quoting from the documentation:</p>\n<blockquote>\n<p>Explanation: When no built-in adapter for a type exists and no custom\nadapter has been registered, Gson falls back to using reflection to\naccess the fields of a class (including private ones). Most likely you\nare seeing this error because you (by accident) rely on the\nreflection-based adapter for third-party classes. That should be\navoided because you make yourself dependent on the implementation\ndetails of these classes which could change at any point. For the JDK\nit is also not possible anymore to access internal fields using\nreflection starting with JDK 17, see JEP 403. If you want to prevent\nusing reflection on third-party classes in the future you can write\nyour own ReflectionAccessFilter or use one of the predefined ones,\nsuch as ReflectionAccessFilter.BLOCK_ALL_PLATFORM.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":11978727,"reputation":1,"user_id":8765151,"display_name":"Maksym Oleksiv"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690275933,"creation_date":1689838934,"answer_id":76727671,"question_id":72769462,"body_markdown":"I ran into a similar issue with more complex class that included several objects that were involved into deserialization. The issue was resolved by marking explicitly which fields of the classes are involved in deserialization with [`@Expose`][1] annotation. \r\n\r\nAlso `@SerializedName` annotation is used for each field for mapping between fields and JSON elements.\r\n\r\n\r\n  [1]: https://github.com/google/gson/blob/main/UserGuide.md#gsons-expose","title":"Failed making field &#39;property&#39; accessible; either change its visibility or write a custom TypeAdapter for its declaring type, gSON fromJson","body":"<p>I ran into a similar issue with more complex class that included several objects that were involved into deserialization. The issue was resolved by marking explicitly which fields of the classes are involved in deserialization with <a href=\"https://github.com/google/gson/blob/main/UserGuide.md#gsons-expose\" rel=\"nofollow noreferrer\"><code>@Expose</code></a> annotation.</p>\n<p>Also <code>@SerializedName</code> annotation is used for each field for mapping between fields and JSON elements.</p>\n"},{"tags":[],"owner":{"account_id":5942587,"reputation":3088,"user_id":4673240,"display_name":"Praveen Kumar Verma"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1698223160,"creation_date":1698222616,"answer_id":77357819,"question_id":72769462,"body_markdown":"I had the same issue with deserializing java.time.Instant with gson during java upgrade version 11 to 17, Please refer the gson documentation sheds light on why it happens:\r\nhttps://github.com/google/gson/blob/main/UserGuide.md#gsons-expose\r\n\r\n**Solution:**\r\ncreate Gson by using- `new GsonBuilder().excludeFieldsWithoutExposeAnnotation().create()` \r\n\r\nexample:\r\n\r\n    Gson gson = new GsonBuilder().setPrettyPrinting()\r\n                .excludeFieldsWithoutExposeAnnotation()\r\n                .create();","title":"Failed making field &#39;property&#39; accessible; either change its visibility or write a custom TypeAdapter for its declaring type, gSON fromJson","body":"<p>I had the same issue with deserializing java.time.Instant with gson during java upgrade version 11 to 17, Please refer the gson documentation sheds light on why it happens:\n<a href=\"https://github.com/google/gson/blob/main/UserGuide.md#gsons-expose\" rel=\"nofollow noreferrer\">https://github.com/google/gson/blob/main/UserGuide.md#gsons-expose</a></p>\n<p><strong>Solution:</strong>\ncreate Gson by using- <code>new GsonBuilder().excludeFieldsWithoutExposeAnnotation().create()</code></p>\n<p>example:</p>\n<pre><code>Gson gson = new GsonBuilder().setPrettyPrinting()\n            .excludeFieldsWithoutExposeAnnotation()\n            .create();\n</code></pre>\n"}],"owner":{"account_id":11329032,"reputation":393,"user_id":8307077,"display_name":"Melfun"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28453,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":72773163,"answer_count":5,"score":5,"last_activity_date":1698223160,"creation_date":1656320390,"question_id":72769462,"body_markdown":"I have a class called Game:\r\n```\r\npublic class Game {\r\n    private String name;\r\n    private int id;\r\n    private GameFields[] gameFields;\r\n\r\n    @Expose(deserialize = false)\r\n    public ArrayList&lt;Player&gt; players = new ArrayList&lt;&gt;();\r\n\r\n    public Game() {\r\n\r\n    }\r\n\r\n    public Game(String name, int id, GameFields[] gameFields) {\r\n        this.name = name;\r\n        this.id = id;\r\n        this.gameFields = gameFields;\r\n    }\r\n}\r\n```\r\nand I want to make Objects for this class with the GSON.fromJson method.\r\nbut the problem is the method returns\r\n```\r\nFailed to make field &#39;com.example.Models.Game#name&#39; accessible; either change its visibility or write a custom TypeAdapter for its declaring type\r\n```\r\nthis is how I call the method\r\n```\r\nGson gson = new Gson();\r\nGame object = null;\r\ntry {\r\n    object = gson.fromJson(&quot;{\\&quot;name\\&quot;:\\&quot;test\\&quot;,\\&quot;id\\&quot;:1}&quot;, Game.class);\r\n}catch (JsonParseException e){\r\n    System.out.println(e.getMessage());\r\n}\r\n```\r\nI don&#39;t know why this is happening, because in every example I saw, users used private visibility for their fields.\r\nbut in my case, it works only when I change the visibility of my fields to Public.\r\n\r\n**UPDATE**\r\n\r\nentire stack trace :\r\n```\r\ncom.google.gson.JsonIOException: Failed making field &#39;com.example.server.Models.Game#name&#39; accessible; either change its visibility or write a custom TypeAdapter for its declaring type\r\n\tat com.google.gson@2.9.0/com.google.gson.internal.reflect.ReflectionHelper.makeAccessible(ReflectionHelper.java:22)\r\n\tat com.google.gson@2.9.0/com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getBoundFields(ReflectiveTypeAdapterFactory.java:158)\r\n\tat com.google.gson@2.9.0/com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.create(ReflectiveTypeAdapterFactory.java:101)\r\n\tat com.google.gson@2.9.0/com.google.gson.Gson.getAdapter(Gson.java:501)\r\n\tat com.google.gson@2.9.0/com.google.gson.Gson.fromJson(Gson.java:990)\r\n\tat com.google.gson@2.9.0/com.google.gson.Gson.fromJson(Gson.java:956)\r\n\tat com.google.gson@2.9.0/com.google.gson.Gson.fromJson(Gson.java:905)\r\n\tat com.google.gson@2.9.0/com.google.gson.Gson.fromJson(Gson.java:876)\r\n\tat com.example.server/com.example.server.Server$2.onData(Server.java:55)\r\n\tat com.example.server/com.example.server.Server$2.onData(Server.java:44)\r\n\tat netty.socketio@1.7.18/com.corundumstudio.socketio.namespace.Namespace.onEvent(Namespace.java:146)\r\n\tat netty.socketio@1.7.18/com.corundumstudio.socketio.handler.PacketListener.onPacket(PacketListener.java:106)\r\n\tat netty.socketio@1.7.18/com.corundumstudio.socketio.handler.InPacketHandler.channelRead0(InPacketHandler.java:92)\r\n\tat netty.socketio@1.7.18/com.corundumstudio.socketio.handler.InPacketHandler.channelRead0(InPacketHandler.java:36)\r\n\tat io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:99)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:377)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:363)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:355)\r\n\tat io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:102)\r\n\tat io.netty.handler.codec.MessageToMessageCodec.channelRead(MessageToMessageCodec.java:111)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:377)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:363)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:355)\r\n\tat io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:102)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:377)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:363)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:355)\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:294)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:377)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:363)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:355)\r\n\tat io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:377)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:363)\r\n\tat io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)\r\n\tat netty.socketio@1.7.18/com.corundumstudio.socketio.transport.PollingTransport.onPost(PollingTransport.java:161)\r\n\tat netty.socketio@1.7.18/com.corundumstudio.socketio.transport.PollingTransport.handleMessage(PollingTransport.java:120)\r\n\tat netty.socketio@1.7.18/com.corundumstudio.socketio.transport.PollingTransport.channelRead(PollingTransport.java:97)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:377)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:363)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:355)\r\n\tat netty.socketio@1.7.18/com.corundumstudio.socketio.handler.AuthorizeHandler.channelRead(AuthorizeHandler.java:137)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:377)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:363)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:355)\r\n\tat io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:102)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:377)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:363)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:355)\r\n\tat io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:102)\r\n\tat io.netty.handler.codec.MessageToMessageCodec.channelRead(MessageToMessageCodec.java:111)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:377)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:363)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:355)\r\n\tat io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:102)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:377)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:363)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:355)\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:316)\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:377)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:363)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:355)\r\n\tat io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:377)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:363)\r\n\tat io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)\r\n\tat io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:163)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:714)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:650)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:576)\r\n\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493)\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)\r\n\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\nCaused by: java.lang.reflect.InaccessibleObjectException: Unable to make field private java.lang.String com.example.server.Models.Game.name accessible: module com.example.server does not &quot;opens com.example.server.Models&quot; to module com.google.gson\r\n\tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354)\r\n\tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\r\n\tat java.base/java.lang.reflect.Field.checkCanSetAccessible(Field.java:180)\r\n\tat java.base/java.lang.reflect.Field.setAccessible(Field.java:174)\r\n\tat com.google.gson@2.9.0/com.google.gson.internal.reflect.ReflectionHelper.makeAccessible(ReflectionHelper.java:19)\r\n\t... 75 more\r\n```","title":"Failed making field &#39;property&#39; accessible; either change its visibility or write a custom TypeAdapter for its declaring type, gSON fromJson","body":"<p>I have a class called Game:</p>\n<pre><code>public class Game {\n    private String name;\n    private int id;\n    private GameFields[] gameFields;\n\n    @Expose(deserialize = false)\n    public ArrayList&lt;Player&gt; players = new ArrayList&lt;&gt;();\n\n    public Game() {\n\n    }\n\n    public Game(String name, int id, GameFields[] gameFields) {\n        this.name = name;\n        this.id = id;\n        this.gameFields = gameFields;\n    }\n}\n</code></pre>\n<p>and I want to make Objects for this class with the GSON.fromJson method.\nbut the problem is the method returns</p>\n<pre><code>Failed to make field 'com.example.Models.Game#name' accessible; either change its visibility or write a custom TypeAdapter for its declaring type\n</code></pre>\n<p>this is how I call the method</p>\n<pre><code>Gson gson = new Gson();\nGame object = null;\ntry {\n    object = gson.fromJson(&quot;{\\&quot;name\\&quot;:\\&quot;test\\&quot;,\\&quot;id\\&quot;:1}&quot;, Game.class);\n}catch (JsonParseException e){\n    System.out.println(e.getMessage());\n}\n</code></pre>\n<p>I don't know why this is happening, because in every example I saw, users used private visibility for their fields.\nbut in my case, it works only when I change the visibility of my fields to Public.</p>\n<p><strong>UPDATE</strong></p>\n<p>entire stack trace :</p>\n<pre><code>com.google.gson.JsonIOException: Failed making field 'com.example.server.Models.Game#name' accessible; either change its visibility or write a custom TypeAdapter for its declaring type\n    at com.google.gson@2.9.0/com.google.gson.internal.reflect.ReflectionHelper.makeAccessible(ReflectionHelper.java:22)\n    at com.google.gson@2.9.0/com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getBoundFields(ReflectiveTypeAdapterFactory.java:158)\n    at com.google.gson@2.9.0/com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.create(ReflectiveTypeAdapterFactory.java:101)\n    at com.google.gson@2.9.0/com.google.gson.Gson.getAdapter(Gson.java:501)\n    at com.google.gson@2.9.0/com.google.gson.Gson.fromJson(Gson.java:990)\n    at com.google.gson@2.9.0/com.google.gson.Gson.fromJson(Gson.java:956)\n    at com.google.gson@2.9.0/com.google.gson.Gson.fromJson(Gson.java:905)\n    at com.google.gson@2.9.0/com.google.gson.Gson.fromJson(Gson.java:876)\n    at com.example.server/com.example.server.Server$2.onData(Server.java:55)\n    at com.example.server/com.example.server.Server$2.onData(Server.java:44)\n    at netty.socketio@1.7.18/com.corundumstudio.socketio.namespace.Namespace.onEvent(Namespace.java:146)\n    at netty.socketio@1.7.18/com.corundumstudio.socketio.handler.PacketListener.onPacket(PacketListener.java:106)\n    at netty.socketio@1.7.18/com.corundumstudio.socketio.handler.InPacketHandler.channelRead0(InPacketHandler.java:92)\n    at netty.socketio@1.7.18/com.corundumstudio.socketio.handler.InPacketHandler.channelRead0(InPacketHandler.java:36)\n    at io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:99)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:377)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:363)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:355)\n    at io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:102)\n    at io.netty.handler.codec.MessageToMessageCodec.channelRead(MessageToMessageCodec.java:111)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:377)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:363)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:355)\n    at io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:102)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:377)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:363)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:355)\n    at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:294)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:377)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:363)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:355)\n    at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:377)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:363)\n    at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)\n    at netty.socketio@1.7.18/com.corundumstudio.socketio.transport.PollingTransport.onPost(PollingTransport.java:161)\n    at netty.socketio@1.7.18/com.corundumstudio.socketio.transport.PollingTransport.handleMessage(PollingTransport.java:120)\n    at netty.socketio@1.7.18/com.corundumstudio.socketio.transport.PollingTransport.channelRead(PollingTransport.java:97)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:377)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:363)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:355)\n    at netty.socketio@1.7.18/com.corundumstudio.socketio.handler.AuthorizeHandler.channelRead(AuthorizeHandler.java:137)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:377)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:363)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:355)\n    at io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:102)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:377)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:363)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:355)\n    at io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:102)\n    at io.netty.handler.codec.MessageToMessageCodec.channelRead(MessageToMessageCodec.java:111)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:377)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:363)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:355)\n    at io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:102)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:377)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:363)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:355)\n    at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:316)\n    at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:377)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:363)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:355)\n    at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:377)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:363)\n    at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)\n    at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:163)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:714)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:650)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:576)\n    at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493)\n    at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)\n    at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n    at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n    at java.base/java.lang.Thread.run(Thread.java:833)\nCaused by: java.lang.reflect.InaccessibleObjectException: Unable to make field private java.lang.String com.example.server.Models.Game.name accessible: module com.example.server does not &quot;opens com.example.server.Models&quot; to module com.google.gson\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354)\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\n    at java.base/java.lang.reflect.Field.checkCanSetAccessible(Field.java:180)\n    at java.base/java.lang.reflect.Field.setAccessible(Field.java:174)\n    at com.google.gson@2.9.0/com.google.gson.internal.reflect.ReflectionHelper.makeAccessible(ReflectionHelper.java:19)\n    ... 75 more\n</code></pre>\n"},{"tags":["java","gson"],"comments":[{"owner":{"account_id":5203122,"reputation":603,"user_id":4161906,"display_name":"flwd"},"score":1,"creation_date":1651619991,"post_id":72106338,"comment_id":127405674,"body_markdown":"I believe this should work for a LocalDate. The exception mentions a _LocalDateTime_, not a LocalDate. Do you possibly have a field with the LocalDateTime type inside your Task class? Posting your Task class would help.","body":"I believe this should work for a LocalDate. The exception mentions a <i>LocalDateTime</i>, not a LocalDate. Do you possibly have a field with the LocalDateTime type inside your Task class? Posting your Task class would help."},{"owner":{"account_id":25187698,"reputation":65,"user_id":19028331,"display_name":"Valentin Badea"},"score":1,"creation_date":1651620175,"post_id":72106338,"comment_id":127405706,"body_markdown":"Thank you for your answer. I found the problem. I did not have a LocalDateTime field in my Task class, but I have another Object which contains a LocalDateTime field.","body":"Thank you for your answer. I found the problem. I did not have a LocalDateTime field in my Task class, but I have another Object which contains a LocalDateTime field."}],"answers":[{"tags":[],"owner":{"account_id":5942587,"reputation":3088,"user_id":4673240,"display_name":"Praveen Kumar Verma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698223052,"creation_date":1698223052,"answer_id":77357875,"question_id":72106338,"body_markdown":"I had the same issue with deserializing java.time.Instant with gson during java upgrade 11 to 17, Please refer the gson documentation sheds light on why it happens:\r\nhttps://github.com/google/gson/blob/main/UserGuide.md#gsons-expose\r\n\r\n**Solution:**\r\ncreate Gson by using- `new GsonBuilder().excludeFieldsWithoutExposeAnnotation().create()` ","title":"Java GSON deserializer LocalDate","body":"<p>I had the same issue with deserializing java.time.Instant with gson during java upgrade 11 to 17, Please refer the gson documentation sheds light on why it happens:\n<a href=\"https://github.com/google/gson/blob/main/UserGuide.md#gsons-expose\" rel=\"nofollow noreferrer\">https://github.com/google/gson/blob/main/UserGuide.md#gsons-expose</a></p>\n<p><strong>Solution:</strong>\ncreate Gson by using- <code>new GsonBuilder().excludeFieldsWithoutExposeAnnotation().create()</code></p>\n"}],"owner":{"account_id":25187698,"reputation":65,"user_id":19028331,"display_name":"Valentin Badea"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3259,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1698223052,"creation_date":1651619295,"question_id":72106338,"body_markdown":"I have a problem trying to deserialize a gson LocalDate. \r\nI have the next 2 adaptors:\r\n\r\n\r\n\r\n     public class LocalDateSerializer implements JsonSerializer &lt; LocalDate &gt; {\r\n        private static final DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;d-MMM-yyyy&quot;);\r\n    \r\n        @Override\r\n        public JsonElement serialize(LocalDate localDate, Type srcType, JsonSerializationContext context) {\r\n            return new JsonPrimitive(formatter.format(localDate));\r\n        }\r\n    }\r\n\r\nand \r\n\r\n    public class LocalDateDeserializer implements JsonDeserializer &lt; LocalDate &gt; {\r\n        @Override\r\n        public LocalDate deserialize(JsonElement json, Type typeOfT, JsonDeserializationContext context)\r\n                throws JsonParseException {\r\n            return LocalDate.parse(json.getAsString(),\r\n                    DateTimeFormatter.ofPattern(&quot;d-MMM-yyyy&quot;).withLocale(Locale.ENGLISH));\r\n        }\r\n    }\r\n\r\nI try to make a simple Serialization of an object &quot;Task&quot; which have a field starttime of LocalDate type. \r\n\r\n       GsonBuilder gsonBuilder = new GsonBuilder();\r\n            gsonBuilder.registerTypeAdapter(LocalDate.class, new LocalDateSerializer());\r\n            gsonBuilder.registerTypeAdapter(LocalDate.class, new LocalDateDeserializer());\r\n            Gson gson = gsonBuilder.setPrettyPrinting().create();\r\n    \r\n            LocalDate now=LocalDate.now();\r\n            Task task=new Task();\r\n            task.setID(1);\r\n            task.setDuration(2);\r\n            task.setID_Proiect(1);\r\n            task.setStarttime(now);\r\n    \r\n            JSONObject json=new JSONObject(task);\r\n            String aux1=gson.toJson(json);\r\n    \r\n            System.out.println(aux1);\r\n            Task t2=gson.fromJson(aux1,Task.class);\r\n\r\nI receive the error \r\n\r\n&gt; Failed making field &#39;java.time.LocalDateTime#date&#39; accessible; either\r\n&gt; change its visibility or write a custom TypeAdapter for its declaring\r\n&gt; type\r\n\r\nCan you tell me what is wrong with this code? I know it is probably a noobie question but i rly need help to improve my skills. Ty","title":"Java GSON deserializer LocalDate","body":"<p>I have a problem trying to deserialize a gson LocalDate.\nI have the next 2 adaptors:</p>\n<pre><code> public class LocalDateSerializer implements JsonSerializer &lt; LocalDate &gt; {\n    private static final DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;d-MMM-yyyy&quot;);\n\n    @Override\n    public JsonElement serialize(LocalDate localDate, Type srcType, JsonSerializationContext context) {\n        return new JsonPrimitive(formatter.format(localDate));\n    }\n}\n</code></pre>\n<p>and</p>\n<pre><code>public class LocalDateDeserializer implements JsonDeserializer &lt; LocalDate &gt; {\n    @Override\n    public LocalDate deserialize(JsonElement json, Type typeOfT, JsonDeserializationContext context)\n            throws JsonParseException {\n        return LocalDate.parse(json.getAsString(),\n                DateTimeFormatter.ofPattern(&quot;d-MMM-yyyy&quot;).withLocale(Locale.ENGLISH));\n    }\n}\n</code></pre>\n<p>I try to make a simple Serialization of an object &quot;Task&quot; which have a field starttime of LocalDate type.</p>\n<pre><code>   GsonBuilder gsonBuilder = new GsonBuilder();\n        gsonBuilder.registerTypeAdapter(LocalDate.class, new LocalDateSerializer());\n        gsonBuilder.registerTypeAdapter(LocalDate.class, new LocalDateDeserializer());\n        Gson gson = gsonBuilder.setPrettyPrinting().create();\n\n        LocalDate now=LocalDate.now();\n        Task task=new Task();\n        task.setID(1);\n        task.setDuration(2);\n        task.setID_Proiect(1);\n        task.setStarttime(now);\n\n        JSONObject json=new JSONObject(task);\n        String aux1=gson.toJson(json);\n\n        System.out.println(aux1);\n        Task t2=gson.fromJson(aux1,Task.class);\n</code></pre>\n<p>I receive the error</p>\n<blockquote>\n<p>Failed making field 'java.time.LocalDateTime#date' accessible; either\nchange its visibility or write a custom TypeAdapter for its declaring\ntype</p>\n</blockquote>\n<p>Can you tell me what is wrong with this code? I know it is probably a noobie question but i rly need help to improve my skills. Ty</p>\n"},{"tags":["java","button","textchanged"],"answers":[{"tags":[],"owner":{"account_id":17611571,"reputation":79,"user_id":12779501,"display_name":"Dj aman motihari"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1698221885,"creation_date":1698221885,"answer_id":77357729,"question_id":77357710,"body_markdown":"In your initialize method, you set the button text based on the gradeView.getStatus() value, which is retrieved from the database. If this is the case, you should ensure that the initial state of your database (gradeView.getStatus()) is correctly set before the initialize method is called.To make sure the button and the database state are in sync on the first click, you should double-check the initial value of gradeView.getStatus() in your database. If it&#39;s not working as expected, it might be due to the initial data in your database.Also, you can add some debug print statements to check the initial value of gradeView.getStatus() in your initialize method to help diagnose the issue.Here&#39;s how you can add a debug statement:\r\n``System.out.println(&quot;Initial gradeView.getStatus(): &quot; + gradeView.getStatus());\r\n``\r\nThis will help you verify that the initial state of your button and the database value are consistent.","title":"First button click does not change text but updates the database","body":"<p>In your initialize method, you set the button text based on the gradeView.getStatus() value, which is retrieved from the database. If this is the case, you should ensure that the initial state of your database (gradeView.getStatus()) is correctly set before the initialize method is called.To make sure the button and the database state are in sync on the first click, you should double-check the initial value of gradeView.getStatus() in your database. If it's not working as expected, it might be due to the initial data in your database.Also, you can add some debug print statements to check the initial value of gradeView.getStatus() in your initialize method to help diagnose the issue.Here's how you can add a debug statement:\n<code>System.out.println(&quot;Initial gradeView.getStatus(): &quot; + gradeView.getStatus()); </code>\nThis will help you verify that the initial state of your button and the database value are consistent.</p>\n"}],"owner":{"account_id":22920037,"reputation":9,"user_id":17056008,"display_name":"Aurumen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1698223019,"creation_date":1698221704,"question_id":77357710,"body_markdown":"As the title says, the text doesn&#39;t change on the first click but the database update runs and changes the value. However, for every succeeding clicks, it works as expected, albeit the values are now just reversed.\r\n\r\nI have tried mixing up the order of my statements but to no avail. \r\n\r\nHere is my code\r\n\r\n```\r\npackage controller;\r\n\r\nimport java.net.URL;\r\nimport java.util.ResourceBundle;\r\nimport javafx.fxml.Initializable;\r\nimport javafx.event.ActionEvent;\r\nimport javafx.fxml.FXML;\r\nimport javafx.scene.control.Button;\r\nimport org.hibernate.Session;\r\nimport org.hibernate.SessionFactory;\r\nimport org.hibernate.Transaction;\r\nimport org.hibernate.cfg.Configuration;\r\nimport entity.Settings;\r\n\r\npublic class GradeViewController implements Initializable {\r\n    \r\n    @FXML\r\n    @Override\r\n    public void initialize(URL url, ResourceBundle rb) {\r\n         SessionFactory sessionFactory = new Configuration().configure().buildSessionFactory();\r\n        Session session = sessionFactory.openSession();\r\n\r\n        // Load the GradeView entity (assuming you have an ID for it)\r\n        Settings gradeView = session.get(Settings.class, 0);\r\n\r\n        if (gradeView.getStatus()== 0) {\r\n            btnGradeView.setText(&quot;Enable Grade Viewing&quot;);\r\n            gradeView.setStatus(0);\r\n        } else {\r\n            btnGradeView.setText(&quot;Disable Grade Viewing&quot;);\r\n            gradeView.setStatus(1);\r\n        }\r\n    }    \r\n\r\n    private void setGradeViewToggle() {\r\n        SessionFactory sessionFactory = new Configuration().configure().buildSessionFactory();\r\n        Session session = sessionFactory.openSession();\r\n        Transaction tx = null;\r\n        \r\n        try {\r\n            tx = session.beginTransaction();\r\n\r\n            // Load the GradeView entity (assuming you have an ID for it)\r\n            Settings gradeView = session.get(Settings.class, 0);\r\n\r\n            if (gradeView.getStatus()== 0) {\r\n                // Set the &quot;status&quot; to 1 to enable\r\n                gradeView.setStatus(1);\r\n                btnGradeView.setText(&quot;Enable Grade Viewing&quot;);\r\n            } else {\r\n                // Set the &quot;status&quot; to 0 to disable\r\n                gradeView.setStatus(0);\r\n                btnGradeView.setText(&quot;Disable Grade Viewing&quot;);\r\n            }\r\n\r\n            // Persist the changes to the database\r\n            session.update(gradeView);\r\n\r\n            tx.commit();\r\n        } catch (Exception e) {\r\n            if (tx != null) {\r\n                tx.rollback();\r\n            }\r\n            e.printStackTrace();\r\n            // Handle any exceptions\r\n        } finally {\r\n            session.close();\r\n            sessionFactory.close();\r\n        }\r\n     }\r\n    \r\n    @FXML\r\n    private void actionSetGradeViewToggle(ActionEvent event) {\r\n        setGradeViewToggle();\r\n    }\r\n}\r\n```\r\n\r\n\r\nI have tried mixing up the order of the statements. \r\nI was expecting that the button works on the first click, changing the text on the first click. ","title":"First button click does not change text but updates the database","body":"<p>As the title says, the text doesn't change on the first click but the database update runs and changes the value. However, for every succeeding clicks, it works as expected, albeit the values are now just reversed.</p>\n<p>I have tried mixing up the order of my statements but to no avail.</p>\n<p>Here is my code</p>\n<pre><code>package controller;\n\nimport java.net.URL;\nimport java.util.ResourceBundle;\nimport javafx.fxml.Initializable;\nimport javafx.event.ActionEvent;\nimport javafx.fxml.FXML;\nimport javafx.scene.control.Button;\nimport org.hibernate.Session;\nimport org.hibernate.SessionFactory;\nimport org.hibernate.Transaction;\nimport org.hibernate.cfg.Configuration;\nimport entity.Settings;\n\npublic class GradeViewController implements Initializable {\n    \n    @FXML\n    @Override\n    public void initialize(URL url, ResourceBundle rb) {\n         SessionFactory sessionFactory = new Configuration().configure().buildSessionFactory();\n        Session session = sessionFactory.openSession();\n\n        // Load the GradeView entity (assuming you have an ID for it)\n        Settings gradeView = session.get(Settings.class, 0);\n\n        if (gradeView.getStatus()== 0) {\n            btnGradeView.setText(&quot;Enable Grade Viewing&quot;);\n            gradeView.setStatus(0);\n        } else {\n            btnGradeView.setText(&quot;Disable Grade Viewing&quot;);\n            gradeView.setStatus(1);\n        }\n    }    \n\n    private void setGradeViewToggle() {\n        SessionFactory sessionFactory = new Configuration().configure().buildSessionFactory();\n        Session session = sessionFactory.openSession();\n        Transaction tx = null;\n        \n        try {\n            tx = session.beginTransaction();\n\n            // Load the GradeView entity (assuming you have an ID for it)\n            Settings gradeView = session.get(Settings.class, 0);\n\n            if (gradeView.getStatus()== 0) {\n                // Set the &quot;status&quot; to 1 to enable\n                gradeView.setStatus(1);\n                btnGradeView.setText(&quot;Enable Grade Viewing&quot;);\n            } else {\n                // Set the &quot;status&quot; to 0 to disable\n                gradeView.setStatus(0);\n                btnGradeView.setText(&quot;Disable Grade Viewing&quot;);\n            }\n\n            // Persist the changes to the database\n            session.update(gradeView);\n\n            tx.commit();\n        } catch (Exception e) {\n            if (tx != null) {\n                tx.rollback();\n            }\n            e.printStackTrace();\n            // Handle any exceptions\n        } finally {\n            session.close();\n            sessionFactory.close();\n        }\n     }\n    \n    @FXML\n    private void actionSetGradeViewToggle(ActionEvent event) {\n        setGradeViewToggle();\n    }\n}\n</code></pre>\n<p>I have tried mixing up the order of the statements.\nI was expecting that the button works on the first click, changing the text on the first click.</p>\n"},{"tags":["java","rest-assured"],"answers":[{"tags":[],"owner":{"account_id":10250466,"reputation":575,"user_id":7576519,"display_name":"Pablo Aragon&#233;s"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1698222976,"creation_date":1698222976,"answer_id":77357868,"question_id":77357775,"body_markdown":"You can iterate through the `HttpHeaders` object and extract its key-value pairs into a `Map`. As you can see here:\r\n\r\n```\r\nimport io.restassured.http.Headers;\r\nimport io.restassured.http.Header;\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\n\r\nprivate void executeRequest(String uri, Headers requestHeaders) {\r\n    Map&lt;String, String&gt; headerMap = new HashMap&lt;&gt;();\r\n\r\n    for (Header header : requestHeaders) {\r\n        headerMap.put(header.getName(), header.getValue());\r\n    }\r\n}\r\n```","title":"how to convert restassured&#39;s httpheaders to a map of &lt;string, string&gt;?","body":"<p>You can iterate through the <code>HttpHeaders</code> object and extract its key-value pairs into a <code>Map</code>. As you can see here:</p>\n<pre><code>import io.restassured.http.Headers;\nimport io.restassured.http.Header;\nimport java.util.HashMap;\nimport java.util.Map;\n\nprivate void executeRequest(String uri, Headers requestHeaders) {\n    Map&lt;String, String&gt; headerMap = new HashMap&lt;&gt;();\n\n    for (Header header : requestHeaders) {\n        headerMap.put(header.getName(), header.getValue());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":4507375,"reputation":555,"user_id":3664382,"accept_rate":60,"display_name":"thisisdude"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77357868,"answer_count":1,"score":1,"last_activity_date":1698222976,"creation_date":1698222210,"question_id":77357775,"body_markdown":"I want to convert restassured&#39;s httpheaders to a map and then use its specific values. can someone please help me here? \r\n\r\nHere is my code -\r\n\r\n    private void executerequest(String uri, HttpHeaders requestHeader){\r\n    ..todo..\r\n    }\r\n\r\nnow as a part of this fuction, I want the map which contains key value pair for httpheaders.\r\n\r\n","title":"how to convert restassured&#39;s httpheaders to a map of &lt;string, string&gt;?","body":"<p>I want to convert restassured's httpheaders to a map and then use its specific values. can someone please help me here?</p>\n<p>Here is my code -</p>\n<pre><code>private void executerequest(String uri, HttpHeaders requestHeader){\n..todo..\n}\n</code></pre>\n<p>now as a part of this fuction, I want the map which contains key value pair for httpheaders.</p>\n"},{"tags":["java","pdfbox"],"comments":[{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1697799758,"post_id":77329975,"comment_id":136328275,"body_markdown":"If it is of type PDSimpleFont then you can call getEncoding(). Also have a look at your file in PDFDebugger.","body":"If it is of type PDSimpleFont then you can call getEncoding(). Also have a look at your file in PDFDebugger."},{"owner":{"account_id":288036,"reputation":574,"user_id":588214,"display_name":"wimix"},"score":0,"creation_date":1697805324,"post_id":77329975,"comment_id":136329306,"body_markdown":"Yes, it&#39;s of type PDSimpleFont and getEncoding() returns something valid. However, I cannot find a difference between the Encoding of a &quot;normal&quot; PDF and a PDF with user def encoding. E.g. Encoding.getEncodingName() == &quot;differences&quot; for both.\nI come to this questions since my code to extract plain text from a PDF gives me hieroglyphics for a given PDF with an user def encoding. Whereas the PDFDebugger and ohter PDF viewers show readable text. \nMy challenge is to find out, whether readable text can be extracted.","body":"Yes, it&#39;s of type PDSimpleFont and getEncoding() returns something valid. However, I cannot find a difference between the Encoding of a &quot;normal&quot; PDF and a PDF with user def encoding. E.g. Encoding.getEncodingName() == &quot;differences&quot; for both. I come to this questions since my code to extract plain text from a PDF gives me hieroglyphics for a given PDF with an user def encoding. Whereas the PDFDebugger and ohter PDF viewers show readable text.  My challenge is to find out, whether readable text can be extracted."},{"owner":{"account_id":1916831,"reputation":91501,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1698220581,"post_id":77329975,"comment_id":136376022,"body_markdown":"Considering your edit: Obfuscation is a very generic term. What kind of obfuscation are you talking about?","body":"Considering your edit: Obfuscation is a very generic term. What kind of obfuscation are you talking about?"},{"owner":{"account_id":1916831,"reputation":91501,"user_id":1729265,"display_name":"mkl"},"score":1,"creation_date":1698225894,"post_id":77329975,"comment_id":136377086,"body_markdown":"*&quot;I cannot share the entire document since it contains personal data. In one section it contains:&quot;* - Obviously we in particular need to know how it is internally built. A screenshot of what a PDF viewer shows is of lesser interest.","body":"<i>&quot;I cannot share the entire document since it contains personal data. In one section it contains:&quot;</i> - Obviously we in particular need to know how it is internally built. A screenshot of what a PDF viewer shows is of lesser interest."},{"owner":{"account_id":1916831,"reputation":91501,"user_id":1729265,"display_name":"mkl"},"score":2,"creation_date":1698226138,"post_id":77329975,"comment_id":136377137,"body_markdown":"BTW, *&quot;I come to this questions since my code to extract plain text from a PDF gives me hieroglyphics for a given PDF with an user def encoding.&quot;* - that does not need to be connected, fonts with custom encodings can still allow proper text extraction, and fonts with standard encodings may yet hinder text extraction.","body":"BTW, <i>&quot;I come to this questions since my code to extract plain text from a PDF gives me hieroglyphics for a given PDF with an user def encoding.&quot;</i> - that does not need to be connected, fonts with custom encodings can still allow proper text extraction, and fonts with standard encodings may yet hinder text extraction."},{"owner":{"account_id":288036,"reputation":574,"user_id":588214,"display_name":"wimix"},"score":0,"creation_date":1698231409,"post_id":77329975,"comment_id":136378097,"body_markdown":"Surely, a screenshot does not help much. I tried to give a hint to the question &quot;what kind of obfuscating...&quot;. I do not know, what &quot;TargetStream Technologies&quot; use for their obfuscation. \nMy approach is now to check the &quot;creator&quot; property. If it matches to &quot;TargetStream...&quot; the PDF is sent to the OCR. This will cause much more CO2 but it solves the problem.","body":"Surely, a screenshot does not help much. I tried to give a hint to the question &quot;what kind of obfuscating...&quot;. I do not know, what &quot;TargetStream Technologies&quot; use for their obfuscation.  My approach is now to check the &quot;creator&quot; property. If it matches to &quot;TargetStream...&quot; the PDF is sent to the OCR. This will cause much more CO2 but it solves the problem."}],"owner":{"account_id":288036,"reputation":574,"user_id":588214,"display_name":"wimix"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698222803,"creation_date":1697795686,"question_id":77329975,"body_markdown":"How can I find out wether a PDF uses a user defined encoding? - preferably by PDFBox 2.0.29.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nThis is my current experimental approach. Any better ideas?\r\n\r\n\r\n      boolean hasUserDefinedEncoding = false;\r\n      if (document.getNumberOfPages() &gt; 0) {\r\n        PDPage page = document.getPage(0);\r\n        PDResources res = page.getResources();\r\n        for (COSName fontName : res.getFontNames()) {\r\n          PDFont font = res.getFont(fontName);\r\n          String name = font.getName();\r\n          hasUserDefinedEncoding = name == null;\r\n          if (hasUserDefinedEncoding) break;\r\n        }\r\n      }\r\n\r\nEdit 2023-10-25: It turns out that the document was created by TargetStream StreamEDS most likely by using the obfuscation option. Any better ideas to find out whether obufscation is used in a PDF?\r\n\r\nI cannot share the entire document since it contains personal data. In one section it contains:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qIjtQ.png\r\n  [2]: https://i.stack.imgur.com/u3JUZ.png\r\n\r\nCopy/paste this section into notepad shows:\r\n\r\n    Gru&gt;d%/ge der Versicheru&gt;g si&gt;d die A%%ge_ei&gt;e&gt; Versicheru&gt;gsbedi&gt;gu&gt;ge&gt; (AVB), Ausg/be 03.2017 s?wie die Bes?&gt;dere&gt;\r\n    Bedi&gt;gu&gt;ge&gt; 0200, die Sie :us/__e&gt; _it der !fferte/de_ A&gt;tr/g erh/%te&gt; ?der i_ I&gt;ter&gt;et ei&gt;gesehe&gt; h/be&gt;\r\n\r\nPDFBox result looks like this (don&#39;t know wether it belongs to the section)\r\n\r\n    ... ]&#205;&#203;U&#200;:%&#209;&#196;&#199; ...\r\n\r\n\r\n","title":"How to detect user defined encoding with PDFBox","body":"<p>How can I find out wether a PDF uses a user defined encoding? - preferably by PDFBox 2.0.29.</p>\n<p><a href=\"https://i.stack.imgur.com/qIjtQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qIjtQ.png\" alt=\"enter image description here\" /></a></p>\n<p>This is my current experimental approach. Any better ideas?</p>\n<pre><code>  boolean hasUserDefinedEncoding = false;\n  if (document.getNumberOfPages() &gt; 0) {\n    PDPage page = document.getPage(0);\n    PDResources res = page.getResources();\n    for (COSName fontName : res.getFontNames()) {\n      PDFont font = res.getFont(fontName);\n      String name = font.getName();\n      hasUserDefinedEncoding = name == null;\n      if (hasUserDefinedEncoding) break;\n    }\n  }\n</code></pre>\n<p>Edit 2023-10-25: It turns out that the document was created by TargetStream StreamEDS most likely by using the obfuscation option. Any better ideas to find out whether obufscation is used in a PDF?</p>\n<p>I cannot share the entire document since it contains personal data. In one section it contains:</p>\n<p><a href=\"https://i.stack.imgur.com/u3JUZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/u3JUZ.png\" alt=\"enter image description here\" /></a></p>\n<p>Copy/paste this section into notepad shows:</p>\n<pre><code>Gru&gt;d%/ge der Versicheru&gt;g si&gt;d die A%%ge_ei&gt;e&gt; Versicheru&gt;gsbedi&gt;gu&gt;ge&gt; (AVB), Ausg/be 03.2017 s?wie die Bes?&gt;dere&gt;\nBedi&gt;gu&gt;ge&gt; 0200, die Sie :us/__e&gt; _it der !fferte/de_ A&gt;tr/g erh/%te&gt; ?der i_ I&gt;ter&gt;et ei&gt;gesehe&gt; h/be&gt;\n</code></pre>\n<p>PDFBox result looks like this (don't know wether it belongs to the section)</p>\n<pre><code>... ]U:% ...\n</code></pre>\n"},{"tags":["java","kotlin","static","mockk"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1698070380,"post_id":77343683,"comment_id":136355137,"body_markdown":"&quot;I&#39;ve even tried mockkStatic(System::class), but it seems like it broke the JVM completely.&quot; That seems reasonable, yes. :D","body":"&quot;I&#39;ve even tried mockkStatic(System::class), but it seems like it broke the JVM completely.&quot; That seems reasonable, yes. :D"},{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1698070478,"post_id":77343683,"comment_id":136355167,"body_markdown":"But to actually help: Instead of mocking the 3rd party library class, can you mock the class that is using it? You can encapsulate the use of this class in another that you wrote yourself, preferably moving the initialization to somewhere that&#39;s not dependent on class loading order.","body":"But to actually help: Instead of mocking the 3rd party library class, can you mock the class that is using it? You can encapsulate the use of this class in another that you wrote yourself, preferably moving the initialization to somewhere that&#39;s not dependent on class loading order."}],"answers":[{"tags":[],"owner":{"account_id":913012,"reputation":5226,"user_id":946409,"accept_rate":65,"display_name":"Pitel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1698222668,"creation_date":1698222668,"answer_id":77357827,"question_id":77343683,"body_markdown":"What I did was create a new object, that wraps the original one:\r\n\r\n``` lang-kotlin\r\nobject SomeWrapper {\r\n  fun someMethod1() = SomeFactory.someMethod1()\r\n}\r\n```\r\n\r\nand then in MockK, just mock the object:\r\n\r\n``` lang-kotlin\r\nmockkObject(SomeWrapper)\r\nevery { SomeWrapper.method1() } returns mockk()\r\n```","title":"How to mock Java static block","body":"<p>What I did was create a new object, that wraps the original one:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>object SomeWrapper {\n  fun someMethod1() = SomeFactory.someMethod1()\n}\n</code></pre>\n<p>and then in MockK, just mock the object:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>mockkObject(SomeWrapper)\nevery { SomeWrapper.method1() } returns mockk()\n</code></pre>\n"}],"owner":{"account_id":913012,"reputation":5226,"user_id":946409,"accept_rate":65,"display_name":"Pitel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77357827,"answer_count":1,"score":0,"last_activity_date":1698222668,"creation_date":1698049615,"question_id":77343683,"body_markdown":"I have a following Java class in a 3rd party library:\r\n\r\n```lang-java\r\npublic final class SomeFactory {\r\n  public static native someMethod1()\r\n  public static native someMethod2()\r\n\r\n  private SomeFactory() {\r\n  }\r\n\r\n  static {\r\n    System.loadLibrary(&quot;some_lib&quot;);\r\n  }\r\n}\r\n```\r\n\r\nAnd this crashes my tests, because loading that `some_lib` fails.\r\n\r\n```\r\njava.lang.UnsatisfiedLinkError: no some_lib in java.library.path: /usr/java/packages/lib:/usr/lib/x86_64-linux-gnu/jni:/lib/x86_64-linux-gnu:/usr/lib/x86_64-linux-gnu:/usr/lib/jni:/lib:/usr/lib\r\n```\r\n\r\nSo how can I mock this class? I&#39;m suing MockK and Kotest.\r\n\r\nI&#39;ve tried different combinations of just `mockk()`, `mockkStatic()`, `mockkConstructor()` and others, but nothing works. I&#39;ve even tried `mockkStatic(System::class)`, but it seems like it broke the JVM completely.","title":"How to mock Java static block","body":"<p>I have a following Java class in a 3rd party library:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public final class SomeFactory {\n  public static native someMethod1()\n  public static native someMethod2()\n\n  private SomeFactory() {\n  }\n\n  static {\n    System.loadLibrary(&quot;some_lib&quot;);\n  }\n}\n</code></pre>\n<p>And this crashes my tests, because loading that <code>some_lib</code> fails.</p>\n<pre><code>java.lang.UnsatisfiedLinkError: no some_lib in java.library.path: /usr/java/packages/lib:/usr/lib/x86_64-linux-gnu/jni:/lib/x86_64-linux-gnu:/usr/lib/x86_64-linux-gnu:/usr/lib/jni:/lib:/usr/lib\n</code></pre>\n<p>So how can I mock this class? I'm suing MockK and Kotest.</p>\n<p>I've tried different combinations of just <code>mockk()</code>, <code>mockkStatic()</code>, <code>mockkConstructor()</code> and others, but nothing works. I've even tried <code>mockkStatic(System::class)</code>, but it seems like it broke the JVM completely.</p>\n"},{"tags":["java","android","flutter","android-studio","groovy"],"comments":[{"owner":{"account_id":4358,"reputation":168410,"user_id":6509,"display_name":"tim_yates"},"score":1,"creation_date":1698223231,"post_id":77357818,"comment_id":136376547,"body_markdown":"I&#39;m guessing you&#39;re trying to compile with java 21 using a version of gradle below 8.4 (which added support for running builds on java 21). Downgrade java, or upgrade gradle","body":"I&#39;m guessing you&#39;re trying to compile with java 21 using a version of gradle below 8.4 (which added support for running builds on java 21). Downgrade java, or upgrade gradle"},{"owner":{"account_id":11534281,"reputation":307,"user_id":8452276,"display_name":"danish"},"score":0,"creation_date":1698225216,"post_id":77357818,"comment_id":136376941,"body_markdown":"Do i need to also change gradle plugin? i am a flutter developer do not have much knowlege about gradle","body":"Do i need to also change gradle plugin? i am a flutter developer do not have much knowlege about gradle"},{"owner":{"account_id":11534281,"reputation":307,"user_id":8452276,"display_name":"danish"},"score":0,"creation_date":1698225251,"post_id":77357818,"comment_id":136376950,"body_markdown":"My current gradle version is 7.5 and gradle plugin is 7.3","body":"My current gradle version is 7.5 and gradle plugin is 7.3"},{"owner":{"account_id":4358,"reputation":168410,"user_id":6509,"display_name":"tim_yates"},"score":0,"creation_date":1698225920,"post_id":77357818,"comment_id":136377091,"body_markdown":"You can&#39;t use java 21 with gradle 7.5. Try using java 17","body":"You can&#39;t use java 21 with gradle 7.5. Try using java 17"}],"owner":{"account_id":11534281,"reputation":307,"user_id":8452276,"display_name":"danish"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698222611,"creation_date":1698222611,"question_id":77357818,"body_markdown":"I want to generate sha1 for android but facing this issue while trying to generate the signing report from the gradlew it stuck on compilegroovy and builf fails after ./gradlew signingReport\r\n\r\n    Execution failed for task &#39;:gradle:compileGroovy&#39;.\r\n&gt; BUG! exception in phase &#39;semantic analysis&#39; in source unit &#39;/Users/samin/Documents/flutterdev/sdk/flutter/packages/flutter_tools/gradle/src/main/groovy/flutter.groovy&#39; Unsupported class file major version 65\r\n\r\nthis is the stacktrace.\r\n\r\n```\r\n* Exception is:\r\n    org.gradle.api.tasks.TaskExecutionException: Execution failed for task \r\n    &#39;:gradle:compileGroovy&#39;.\r\n        at \r\n    org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.\r\n    lambda$executeIfValid$1(ExecuteActionsTaskExecuter.java:142)\r\n        at org.gradle.internal.Try$Failure.ifSuccessfulOrElse(Try.java:282)\r\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.\r\n     executeIfValid(ExecuteActionsTaskExecuter.java:140)\r\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.\r\n     execute(ExecuteActionsTaskExecuter.java:128)\r\n        at \r\n     org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.\r\n     execute(CleanupStaleOutputsExecuter.java:77)\r\n        at org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.\r\n     execute(FinalizePropertiesTaskExecuter.java:46)\r\n        at \r\n     org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.\r\n     execute(ResolveTaskExecutionModeExecuter.java:51)\r\n        at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\r\n        at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:56)\r\n        at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\r\n        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\r\n        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\r\n        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\r\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\r\n        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\r\n        at org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:69)\r\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:327)\r\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:314)\r\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:307)\r\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:293)\r\n        at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:417)\r\n        at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:339)\r\n        at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n        at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\r\nCaused by: BUG! exception in phase &#39;semantic analysis&#39; in source unit &#39;/Users/samin/Documents/flutterdev/sdk/flutter/packages/flutter_tools/gradle/src/main/groovy/flutter.groovy&#39; Unsupported class file major version 65\r\n        at org.gradle.api.internal.tasks.compile.ApiGroovyCompiler.execute(ApiGroovyCompiler.java:270)\r\n        at org.gradle.api.internal.tasks.compile.ApiGroovyCompiler.execute(ApiGroovyCompiler.java:64)\r\n        at org.gradle.api.internal.tasks.compile.GroovyCompilerFactory$DaemonSideCompiler.execute(GroovyCompilerFactory.java:97)\r\n        at org.gradle.api.internal.tasks.compile.GroovyCompilerFactory$DaemonSideCompiler.execute(GroovyCompilerFactory.java:76)\r\n        at org.gradle.api.internal.tasks.compile.daemon.AbstractDaemonCompiler$CompilerWorkAction.execute(AbstractDaemonCompiler.java:135)\r\n        at org.gradle.workers.internal.DefaultWorkerServer.execute(DefaultWorkerServer.java:63)\r\n        at org.gradle.workers.internal.AbstractClassLoaderWorker$1.create(AbstractClassLoaderWorker.java:49)\r\n        at org.gradle.workers.internal.AbstractClassLoaderWorker$1.create(AbstractClassLoaderWorker.java:43)\r\n        at org.gradle.internal.classloader.ClassLoaderUtils.executeInClassloader(ClassLoaderUtils.java:100)\r\n        at org.gradle.workers.internal.AbstractClassLoaderWorker.executeInClassLoader(AbstractClassLoaderWorker.java:43)\r\n        at org.gradle.workers.internal.IsolatedClassloaderWorker.run(IsolatedClassloaderWorker.java:49)\r\n        at org.gradle.workers.internal.IsolatedClassloaderWorker.run(IsolatedClassloaderWorker.java:30)\r\n        at org.gradle.workers.internal.WorkerDaemonServer.run(WorkerDaemonServer.java:87)\r\n        at org.gradle.workers.internal.WorkerDaemonServer.run(WorkerDaemonServer.java:56)\r\n        at org.gradle.process.internal.worker.request.WorkerAction$1.call(WorkerAction.java:138)\r\n        at org.gradle.process.internal.worker.child.WorkerLogEventListener.withWorkerLoggingProtocol(WorkerLogEventListener.java:41)\r\n        at org.gradle.process.internal.worker.request.WorkerAction.run(WorkerAction.java:135)\r\n        at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\r\n        at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\r\n        at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n        at org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:182)\r\n        at org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:164)\r\n        at org.gradle.internal.remote.internal.hub.MessageHub$Handler.run(MessageHub.java:414)\r\n        at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n        at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\r\nCaused by: java.lang.IllegalArgumentException: Unsupported class file major version 65\r\n        at groovyjarjarasm.asm.ClassReader.&lt;init&gt;(ClassReader.java:199)\r\n        at groovyjarjarasm.asm.ClassReader.&lt;init&gt;(ClassReader.java:180)\r\n        at groovyjarjarasm.asm.ClassReader.&lt;init&gt;(ClassReader.java:166)\r\n        at groovyjarjarasm.asm.ClassReader.&lt;init&gt;(ClassReader.java:287)\r\n        ... 25 more\r\n\r\n\r\n```\r\n\r\n   ","title":"Execution failed for task &#39;:gradle:compileGroovy&#39;. for flutter","body":"<p>I want to generate sha1 for android but facing this issue while trying to generate the signing report from the gradlew it stuck on compilegroovy and builf fails after ./gradlew signingReport</p>\n<pre><code>Execution failed for task ':gradle:compileGroovy'.\n</code></pre>\n<blockquote>\n<p>BUG! exception in phase 'semantic analysis' in source unit '/Users/samin/Documents/flutterdev/sdk/flutter/packages/flutter_tools/gradle/src/main/groovy/flutter.groovy' Unsupported class file major version 65</p>\n</blockquote>\n<p>this is the stacktrace.</p>\n<pre><code>* Exception is:\n    org.gradle.api.tasks.TaskExecutionException: Execution failed for task \n    ':gradle:compileGroovy'.\n        at \n    org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.\n    lambda$executeIfValid$1(ExecuteActionsTaskExecuter.java:142)\n        at org.gradle.internal.Try$Failure.ifSuccessfulOrElse(Try.java:282)\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.\n     executeIfValid(ExecuteActionsTaskExecuter.java:140)\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.\n     execute(ExecuteActionsTaskExecuter.java:128)\n        at \n     org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.\n     execute(CleanupStaleOutputsExecuter.java:77)\n        at org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.\n     execute(FinalizePropertiesTaskExecuter.java:46)\n        at \n     org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.\n     execute(ResolveTaskExecutionModeExecuter.java:51)\n        at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\n        at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:56)\n        at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\n        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\n        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\n        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\n        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\n        at org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:69)\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:327)\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:314)\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:307)\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:293)\n        at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:417)\n        at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:339)\n        at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\n        at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\nCaused by: BUG! exception in phase 'semantic analysis' in source unit '/Users/samin/Documents/flutterdev/sdk/flutter/packages/flutter_tools/gradle/src/main/groovy/flutter.groovy' Unsupported class file major version 65\n        at org.gradle.api.internal.tasks.compile.ApiGroovyCompiler.execute(ApiGroovyCompiler.java:270)\n        at org.gradle.api.internal.tasks.compile.ApiGroovyCompiler.execute(ApiGroovyCompiler.java:64)\n        at org.gradle.api.internal.tasks.compile.GroovyCompilerFactory$DaemonSideCompiler.execute(GroovyCompilerFactory.java:97)\n        at org.gradle.api.internal.tasks.compile.GroovyCompilerFactory$DaemonSideCompiler.execute(GroovyCompilerFactory.java:76)\n        at org.gradle.api.internal.tasks.compile.daemon.AbstractDaemonCompiler$CompilerWorkAction.execute(AbstractDaemonCompiler.java:135)\n        at org.gradle.workers.internal.DefaultWorkerServer.execute(DefaultWorkerServer.java:63)\n        at org.gradle.workers.internal.AbstractClassLoaderWorker$1.create(AbstractClassLoaderWorker.java:49)\n        at org.gradle.workers.internal.AbstractClassLoaderWorker$1.create(AbstractClassLoaderWorker.java:43)\n        at org.gradle.internal.classloader.ClassLoaderUtils.executeInClassloader(ClassLoaderUtils.java:100)\n        at org.gradle.workers.internal.AbstractClassLoaderWorker.executeInClassLoader(AbstractClassLoaderWorker.java:43)\n        at org.gradle.workers.internal.IsolatedClassloaderWorker.run(IsolatedClassloaderWorker.java:49)\n        at org.gradle.workers.internal.IsolatedClassloaderWorker.run(IsolatedClassloaderWorker.java:30)\n        at org.gradle.workers.internal.WorkerDaemonServer.run(WorkerDaemonServer.java:87)\n        at org.gradle.workers.internal.WorkerDaemonServer.run(WorkerDaemonServer.java:56)\n        at org.gradle.process.internal.worker.request.WorkerAction$1.call(WorkerAction.java:138)\n        at org.gradle.process.internal.worker.child.WorkerLogEventListener.withWorkerLoggingProtocol(WorkerLogEventListener.java:41)\n        at org.gradle.process.internal.worker.request.WorkerAction.run(WorkerAction.java:135)\n        at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\n        at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\n        at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\n        at org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:182)\n        at org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:164)\n        at org.gradle.internal.remote.internal.hub.MessageHub$Handler.run(MessageHub.java:414)\n        at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\n        at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\nCaused by: java.lang.IllegalArgumentException: Unsupported class file major version 65\n        at groovyjarjarasm.asm.ClassReader.&lt;init&gt;(ClassReader.java:199)\n        at groovyjarjarasm.asm.ClassReader.&lt;init&gt;(ClassReader.java:180)\n        at groovyjarjarasm.asm.ClassReader.&lt;init&gt;(ClassReader.java:166)\n        at groovyjarjarasm.asm.ClassReader.&lt;init&gt;(ClassReader.java:287)\n        ... 25 more\n\n\n</code></pre>\n"},{"tags":["java","selenium-webdriver","webauthn","fido","windows-hello"],"answers":[{"tags":[],"owner":{"account_id":29278066,"reputation":46,"user_id":22431349,"display_name":"Michael Braga"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698218258,"creation_date":1698218258,"answer_id":77357330,"question_id":77351322,"body_markdown":"Unfortunately, Selenium cannot access your credentials stored in the Windows Hello authenticator. What you have there is setting up a new virtual authenticator (only supported on Chrome/Edge). It is an authenticator on its own, only implemented in the browser and does not communicate with your Windows Hello.\r\n\r\nYou could attempt automation at the operating system level in combination with Selenium, although I haven&#39;t personally experimented with this approach.","title":"Selenium Test: Autenticate with WebAuthn through Windows Hello","body":"<p>Unfortunately, Selenium cannot access your credentials stored in the Windows Hello authenticator. What you have there is setting up a new virtual authenticator (only supported on Chrome/Edge). It is an authenticator on its own, only implemented in the browser and does not communicate with your Windows Hello.</p>\n<p>You could attempt automation at the operating system level in combination with Selenium, although I haven't personally experimented with this approach.</p>\n"}],"owner":{"account_id":29741981,"reputation":1,"user_id":22794057,"display_name":"PatrickBateman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1698222045,"creation_date":1698143375,"question_id":77351322,"body_markdown":"I&#39;m trying to create a Selenium (java) test that goes through the WebAuthn authentication of a web service to which I&#39;m already registered using Windows Hello Authentication via pin. is there a way to replicate login via windows hello (via pin) via Selenium? \r\n\r\nI tried with the virtual authenticator with the following options, but it doesn&#39;t work and I don&#39;t understand how to set it up to make it work.\r\n\r\n\r\n```\r\n        VirtualAuthenticatorOptions options = new VirtualAuthenticatorOptions();\r\n        options.setTransport(Transport.INTERNAL)\r\n                .setProtocol(Protocol.CTAP2)\r\n                .setHasUserVerification(true)\r\n                .setIsUserVerified(true);\r\n        return ((HasVirtualAuthenticator) driver).addVirtualAuthenticator(options);\r\n```\r\n","title":"Selenium Test: Autenticate with WebAuthn through Windows Hello","body":"<p>I'm trying to create a Selenium (java) test that goes through the WebAuthn authentication of a web service to which I'm already registered using Windows Hello Authentication via pin. is there a way to replicate login via windows hello (via pin) via Selenium?</p>\n<p>I tried with the virtual authenticator with the following options, but it doesn't work and I don't understand how to set it up to make it work.</p>\n<pre><code>        VirtualAuthenticatorOptions options = new VirtualAuthenticatorOptions();\n        options.setTransport(Transport.INTERNAL)\n                .setProtocol(Protocol.CTAP2)\n                .setHasUserVerification(true)\n                .setIsUserVerified(true);\n        return ((HasVirtualAuthenticator) driver).addVirtualAuthenticator(options);\n</code></pre>\n"},{"tags":["java","android","unity-game-engine","gradle","android-augmented-reality"],"comments":[{"owner":{"account_id":66608,"reputation":10663,"user_id":195324,"display_name":"Morion"},"score":0,"creation_date":1698222029,"post_id":77352641,"comment_id":136376282,"body_markdown":"so where is the error? there is no error in log you provided","body":"so where is the error? there is no error in log you provided"}],"owner":{"account_id":26113526,"reputation":35,"user_id":19807015,"display_name":"Sathiskumar S"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698222013,"creation_date":1698155041,"question_id":77352641,"body_markdown":"When I&#39;m going to build augmented reality based android application using unity game engine I&#39;m getting the following error.\r\n\r\n```\r\nCommandInvokationFailure: Gradle build failed. \r\nC:\\Program Files\\Unity\\Hub\\Editor\\2021.3.13f1\\Editor\\Data\\PlaybackEngines\\AndroidPlayer\\OpenJDK\\bin\\java.exe -classpath &quot;C:\\Program Files\\Unity\\Hub\\Editor\\2021.3.13f1\\Editor\\Data\\PlaybackEngines\\AndroidPlayer\\Tools\\gradle\\lib\\gradle-launcher-6.1.1.jar&quot; org.gradle.launcher.GradleMain &quot;-Dorg.gradle.jvmargs=-Xmx4096m&quot; &quot;assembleDebug&quot;\r\n```\r\nI tried lots of solutions. But none of them are worked. Can someone help me to fix this error.\r\nThanks in Advance.","title":"CommandInvokationFailure: Gradle build failed in unity","body":"<p>When I'm going to build augmented reality based android application using unity game engine I'm getting the following error.</p>\n<pre><code>CommandInvokationFailure: Gradle build failed. \nC:\\Program Files\\Unity\\Hub\\Editor\\2021.3.13f1\\Editor\\Data\\PlaybackEngines\\AndroidPlayer\\OpenJDK\\bin\\java.exe -classpath &quot;C:\\Program Files\\Unity\\Hub\\Editor\\2021.3.13f1\\Editor\\Data\\PlaybackEngines\\AndroidPlayer\\Tools\\gradle\\lib\\gradle-launcher-6.1.1.jar&quot; org.gradle.launcher.GradleMain &quot;-Dorg.gradle.jvmargs=-Xmx4096m&quot; &quot;assembleDebug&quot;\n</code></pre>\n<p>I tried lots of solutions. But none of them are worked. Can someone help me to fix this error.\nThanks in Advance.</p>\n"},{"tags":["java","elasticsearch","nested"],"answers":[{"tags":[],"owner":{"account_id":410920,"reputation":29385,"user_id":783043,"display_name":"imotov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1698222001,"creation_date":1698222001,"answer_id":77357741,"question_id":77357056,"body_markdown":"If the number of companies is small enough that you don&#39;t need to page through them, you can do it using combination of `top_hits` and `bucket_selector` aggregations. Basically, the `top_hits` will find the latest report and `bucket_selector` will remove all companies that don&#39;t have enough cash. \r\n\r\n```\r\nPUT test\r\n{\r\n  &quot;mappings&quot;: {\r\n    &quot;properties&quot;: {\r\n      &quot;id&quot;: {\r\n        &quot;type&quot;: &quot;long&quot;\r\n      },\r\n      &quot;financials&quot;: {\r\n        &quot;type&quot;: &quot;nested&quot;,\r\n        &quot;properties&quot;: {\r\n          &quot;periodEndDate&quot;: {\r\n            &quot;type&quot;: &quot;date&quot;\r\n          },\r\n          &quot;cash&quot;: {\r\n            &quot;type&quot;:&quot;long&quot;\r\n          },\r\n          &quot;inventory&quot;: {\r\n            &quot;type&quot;: &quot;long&quot;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nPOST test/_bulk?refresh\r\n{&quot;index&quot;:{&quot;_id&quot;:1}}\r\n{&quot;id&quot;:1,&quot;financials&quot;:[{&quot;periodEndDate&quot;:&quot;2022-06-30&quot;,&quot;cash&quot;:10000,&quot;inventory&quot;:24000},{&quot;periodEndDate&quot;:&quot;2022-12-31&quot;,&quot;cash&quot;:12000,&quot;inventory&quot;:19000}]}\r\n{&quot;index&quot;:{&quot;_id&quot;:2}}\r\n{&quot;id&quot;:2,&quot;financials&quot;:[{&quot;periodEndDate&quot;:&quot;2022-12-31&quot;,&quot;cash&quot;:200000,&quot;inventory&quot;:1590000},{&quot;periodEndDate&quot;:&quot;2023-03-31&quot;,&quot;cash&quot;:210000,&quot;inventory&quot;:1430000}]}\r\n\r\nPOST test/_search\r\n{\r\n  &quot;size&quot;: 0,\r\n  &quot;aggs&quot;: {\r\n    &quot;companies&quot;: {\r\n      &quot;terms&quot;: {\r\n        &quot;field&quot;: &quot;id&quot;\r\n      },\r\n      &quot;aggs&quot;: {\r\n        &quot;nested&quot;: {\r\n          &quot;nested&quot;: {\r\n            &quot;path&quot;: &quot;financials&quot;\r\n          },\r\n          &quot;aggs&quot;: {\r\n            &quot;last_cash&quot;: {\r\n              &quot;top_hits&quot;: {\r\n                &quot;sort&quot;: [\r\n                  {\r\n                    &quot;financials.periodEndDate&quot;: {\r\n                      &quot;order&quot;: &quot;desc&quot;\r\n                    }\r\n                  }\r\n                ],\r\n                &quot;_source&quot;: {\r\n                  &quot;includes&quot;: [\r\n                    &quot;financials.cash&quot;,\r\n                    &quot;financials.periodEndDate&quot;\r\n                  ]\r\n                },\r\n                &quot;size&quot;: 1\r\n              }\r\n            }\r\n          }\r\n        },\r\n        &quot;having.top_cash&quot;: {\r\n          &quot;bucket_selector&quot;: {\r\n            &quot;buckets_path&quot;: {\r\n              &quot;last_cash&quot;: &quot;nested&gt;last_cash[_source.cash]&quot;\r\n            },\r\n            &quot;script&quot;: &quot;params.last_cash &gt; 200000&quot;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nThis method has several limitations including bad scalability, limited number of companies it can handle, and not supporting the second oldest report. It&#39;s also not the best solution if you will also need to sort the company by relevance or page through them.\r\n\r\nTo achieve all that functionality and to build a scalable solution I would suggest adding an additional processing during indexing time and indexing the latest report and the second to the latest report as dedicated fields in your main object instead of storing them as nested and trying to find the latest and the second latest during search time. So, basically your records should look like this:\r\n```\r\n  {\r\n    &quot;id&quot;: 1,\r\n    &quot;latest_finanicals&quot;: {\r\n            &quot;periodEndDate&quot;: &quot;2022-12-31&quot;,\r\n            &quot;cash&quot;: 12000,\r\n            &quot;inventory&quot;: 19000\r\n        }\r\n    },\r\n    &quot;previous_finanicals&quot;: {\r\n            &quot;periodEndDate&quot;: &quot;2022-06-30&quot;,\r\n            &quot;cash&quot;: 10000,\r\n            &quot;inventory&quot;: 24000\r\n        }\r\n    }\r\n    &quot;financials&quot;: [\r\n      {\r\n        &quot;periodEndDate&quot;: &quot;2022-06-30&quot;,\r\n        &quot;cash&quot;: 10000,\r\n        &quot;inventory&quot;: 24000\r\n      },\r\n      {\r\n        &quot;periodEndDate&quot;: &quot;2022-12-31&quot;,\r\n        &quot;cash&quot;: 12000,\r\n        &quot;inventory&quot;: 19000\r\n      }\r\n    ]\r\n  }\r\n```\r\n\r\nWith `latest_finanicals` and `previous_finanicals` having `object` type instead of `nested` type. Then all your queries will become very simple. ","title":"Elasticsearch - How to find out all the documents where a field value of a nested object is greater than X with the max date","body":"<p>If the number of companies is small enough that you don't need to page through them, you can do it using combination of <code>top_hits</code> and <code>bucket_selector</code> aggregations. Basically, the <code>top_hits</code> will find the latest report and <code>bucket_selector</code> will remove all companies that don't have enough cash.</p>\n<pre><code>PUT test\n{\n  &quot;mappings&quot;: {\n    &quot;properties&quot;: {\n      &quot;id&quot;: {\n        &quot;type&quot;: &quot;long&quot;\n      },\n      &quot;financials&quot;: {\n        &quot;type&quot;: &quot;nested&quot;,\n        &quot;properties&quot;: {\n          &quot;periodEndDate&quot;: {\n            &quot;type&quot;: &quot;date&quot;\n          },\n          &quot;cash&quot;: {\n            &quot;type&quot;:&quot;long&quot;\n          },\n          &quot;inventory&quot;: {\n            &quot;type&quot;: &quot;long&quot;\n          }\n        }\n      }\n    }\n  }\n}\n\nPOST test/_bulk?refresh\n{&quot;index&quot;:{&quot;_id&quot;:1}}\n{&quot;id&quot;:1,&quot;financials&quot;:[{&quot;periodEndDate&quot;:&quot;2022-06-30&quot;,&quot;cash&quot;:10000,&quot;inventory&quot;:24000},{&quot;periodEndDate&quot;:&quot;2022-12-31&quot;,&quot;cash&quot;:12000,&quot;inventory&quot;:19000}]}\n{&quot;index&quot;:{&quot;_id&quot;:2}}\n{&quot;id&quot;:2,&quot;financials&quot;:[{&quot;periodEndDate&quot;:&quot;2022-12-31&quot;,&quot;cash&quot;:200000,&quot;inventory&quot;:1590000},{&quot;periodEndDate&quot;:&quot;2023-03-31&quot;,&quot;cash&quot;:210000,&quot;inventory&quot;:1430000}]}\n\nPOST test/_search\n{\n  &quot;size&quot;: 0,\n  &quot;aggs&quot;: {\n    &quot;companies&quot;: {\n      &quot;terms&quot;: {\n        &quot;field&quot;: &quot;id&quot;\n      },\n      &quot;aggs&quot;: {\n        &quot;nested&quot;: {\n          &quot;nested&quot;: {\n            &quot;path&quot;: &quot;financials&quot;\n          },\n          &quot;aggs&quot;: {\n            &quot;last_cash&quot;: {\n              &quot;top_hits&quot;: {\n                &quot;sort&quot;: [\n                  {\n                    &quot;financials.periodEndDate&quot;: {\n                      &quot;order&quot;: &quot;desc&quot;\n                    }\n                  }\n                ],\n                &quot;_source&quot;: {\n                  &quot;includes&quot;: [\n                    &quot;financials.cash&quot;,\n                    &quot;financials.periodEndDate&quot;\n                  ]\n                },\n                &quot;size&quot;: 1\n              }\n            }\n          }\n        },\n        &quot;having.top_cash&quot;: {\n          &quot;bucket_selector&quot;: {\n            &quot;buckets_path&quot;: {\n              &quot;last_cash&quot;: &quot;nested&gt;last_cash[_source.cash]&quot;\n            },\n            &quot;script&quot;: &quot;params.last_cash &gt; 200000&quot;\n          }\n        }\n      }\n    }\n  }\n}\n</code></pre>\n<p>This method has several limitations including bad scalability, limited number of companies it can handle, and not supporting the second oldest report. It's also not the best solution if you will also need to sort the company by relevance or page through them.</p>\n<p>To achieve all that functionality and to build a scalable solution I would suggest adding an additional processing during indexing time and indexing the latest report and the second to the latest report as dedicated fields in your main object instead of storing them as nested and trying to find the latest and the second latest during search time. So, basically your records should look like this:</p>\n<pre><code>  {\n    &quot;id&quot;: 1,\n    &quot;latest_finanicals&quot;: {\n            &quot;periodEndDate&quot;: &quot;2022-12-31&quot;,\n            &quot;cash&quot;: 12000,\n            &quot;inventory&quot;: 19000\n        }\n    },\n    &quot;previous_finanicals&quot;: {\n            &quot;periodEndDate&quot;: &quot;2022-06-30&quot;,\n            &quot;cash&quot;: 10000,\n            &quot;inventory&quot;: 24000\n        }\n    }\n    &quot;financials&quot;: [\n      {\n        &quot;periodEndDate&quot;: &quot;2022-06-30&quot;,\n        &quot;cash&quot;: 10000,\n        &quot;inventory&quot;: 24000\n      },\n      {\n        &quot;periodEndDate&quot;: &quot;2022-12-31&quot;,\n        &quot;cash&quot;: 12000,\n        &quot;inventory&quot;: 19000\n      }\n    ]\n  }\n</code></pre>\n<p>With <code>latest_finanicals</code> and <code>previous_finanicals</code> having <code>object</code> type instead of <code>nested</code> type. Then all your queries will become very simple.</p>\n"}],"owner":{"account_id":11983301,"reputation":3,"user_id":8768521,"display_name":"gron"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77357741,"answer_count":1,"score":0,"last_activity_date":1698222001,"creation_date":1698215314,"question_id":77357056,"body_markdown":"I have a few documents for a company model.  Each company has some financial reports.  They are designed as **nested** object of Elasticsearch.  For example:\r\n\r\n```json\r\n[\r\n  {\r\n    &quot;id&quot;: 1,\r\n    &quot;financials&quot;: [\r\n      {\r\n        &quot;periodEndDate&quot;: &quot;2022-06-30&quot;,\r\n        &quot;cash&quot;: 10000,\r\n        &quot;inventory&quot;: 24000\r\n      },\r\n      {\r\n        &quot;periodEndDate&quot;: &quot;2022-12-31&quot;,\r\n        &quot;cash&quot;: 12000,\r\n        &quot;inventory&quot;: 19000\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    &quot;id&quot;: 2,\r\n    &quot;financials&quot;: [\r\n      {\r\n        &quot;periodEndDate&quot;: &quot;2022-12-31&quot;,\r\n        &quot;cash&quot;: 200000,\r\n        &quot;inventory&quot;: 1590000\r\n      },\r\n      {\r\n        &quot;periodEndDate&quot;: &quot;2023-03-31&quot;,\r\n        &quot;cash&quot;: 210000,\r\n        &quot;inventory&quot;: 1430000\r\n      }\r\n    ]\r\n  }\r\n]\r\n```\r\n\r\nI want to find out all the companies that have **cash &gt; 200000** in the **most recent period end date** report.  The desired result is company 2 because the most recent report of it is the one with periodEndDate *2023-03-31*, and the cash of the report is *210000*.\r\n\r\nHow to write the query?\r\n\r\nIn addition, what is the query if I want to filter the reports with **second to the most recent date**?\r\n\r\n\r\nI found this post:\r\nhttps://stackoverflow.com/questions/33264651/elasticsearch-get-the-documents-where-the-value-of-a-field-is-x-and-the-max-da\r\nBut it requires &quot;negative&quot; filters, which does not work for me because the financial report nested object has too many fields.","title":"Elasticsearch - How to find out all the documents where a field value of a nested object is greater than X with the max date","body":"<p>I have a few documents for a company model.  Each company has some financial reports.  They are designed as <strong>nested</strong> object of Elasticsearch.  For example:</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    &quot;id&quot;: 1,\n    &quot;financials&quot;: [\n      {\n        &quot;periodEndDate&quot;: &quot;2022-06-30&quot;,\n        &quot;cash&quot;: 10000,\n        &quot;inventory&quot;: 24000\n      },\n      {\n        &quot;periodEndDate&quot;: &quot;2022-12-31&quot;,\n        &quot;cash&quot;: 12000,\n        &quot;inventory&quot;: 19000\n      }\n    ]\n  },\n  {\n    &quot;id&quot;: 2,\n    &quot;financials&quot;: [\n      {\n        &quot;periodEndDate&quot;: &quot;2022-12-31&quot;,\n        &quot;cash&quot;: 200000,\n        &quot;inventory&quot;: 1590000\n      },\n      {\n        &quot;periodEndDate&quot;: &quot;2023-03-31&quot;,\n        &quot;cash&quot;: 210000,\n        &quot;inventory&quot;: 1430000\n      }\n    ]\n  }\n]\n</code></pre>\n<p>I want to find out all the companies that have <strong>cash &gt; 200000</strong> in the <strong>most recent period end date</strong> report.  The desired result is company 2 because the most recent report of it is the one with periodEndDate <em>2023-03-31</em>, and the cash of the report is <em>210000</em>.</p>\n<p>How to write the query?</p>\n<p>In addition, what is the query if I want to filter the reports with <strong>second to the most recent date</strong>?</p>\n<p>I found this post:\n<a href=\"https://stackoverflow.com/questions/33264651/elasticsearch-get-the-documents-where-the-value-of-a-field-is-x-and-the-max-da\">ElasticSearch - Get the documents where the value of a field is x and the max date of the type is lower then y date</a>\nBut it requires &quot;negative&quot; filters, which does not work for me because the financial report nested object has too many fields.</p>\n"},{"tags":["java","security","cas","apereo"],"comments":[{"owner":{"account_id":1656067,"reputation":496,"user_id":1525602,"display_name":"Petr Bodn&#225;r"},"score":0,"creation_date":1689974644,"post_id":73971524,"comment_id":135293666,"body_markdown":"Maybe a bug in the early phase of CAS 7.0.0 development? Apparently, the possibility to throw the `AlgorithmParameterSpec not of GCMParameterSpec` exception was introduced in Java 17. Note that it might help to increase log level (of `org.apereo.cas.web.flow.executor.EncryptedTranscoder` in this case) to at least DEBUG - then CAS won&#39;t shorten the stacktrace as seen in the OP (and possibly outputs something more useful in the full stacktrace).","body":"Maybe a bug in the early phase of CAS 7.0.0 development? Apparently, the possibility to throw the <code>AlgorithmParameterSpec not of GCMParameterSpec</code> exception was introduced in Java 17. Note that it might help to increase log level (of <code>org.apereo.cas.web.flow.executor.EncryptedTranscoder</code> in this case) to at least DEBUG - then CAS won&#39;t shorten the stacktrace as seen in the OP (and possibly outputs something more useful in the full stacktrace)."}],"answers":[{"tags":[],"owner":{"account_id":16344209,"reputation":21,"user_id":12383724,"display_name":"Michael Shi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665533517,"creation_date":1665160742,"answer_id":73990188,"question_id":73971524,"body_markdown":"Switch to Apereo CAS version 6.6 and Java 11 will work.\r\n```shell\r\njava --version\r\nopenjdk 11.0.16.1 2022-08-12 LTS\r\nOpenJDK Runtime Environment (Red_Hat-11.0.16.1.1-1.el7_9) (build 11.0.16.1+1-LTS)\r\nOpenJDK 64-Bit Server VM (Red_Hat-11.0.16.1.1-1.el7_9) (build 11.0.16.1+1-LTS, mixed mode, sharing)\r\n\r\ngit checkout 6.6\r\n\r\n./gradlew clean build\r\n\r\n./gradlew createKeystore\r\n\r\n./gradlew run\r\n```","title":"Apereo CAS Login Error about java.security.InvalidAlgorithmParameterException","body":"<p>Switch to Apereo CAS version 6.6 and Java 11 will work.</p>\n<pre class=\"lang-bash prettyprint-override\"><code>java --version\nopenjdk 11.0.16.1 2022-08-12 LTS\nOpenJDK Runtime Environment (Red_Hat-11.0.16.1.1-1.el7_9) (build 11.0.16.1+1-LTS)\nOpenJDK 64-Bit Server VM (Red_Hat-11.0.16.1.1-1.el7_9) (build 11.0.16.1+1-LTS, mixed mode, sharing)\n\ngit checkout 6.6\n\n./gradlew clean build\n\n./gradlew createKeystore\n\n./gradlew run\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27277522,"reputation":1,"user_id":20797908,"display_name":"user20797908"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671244607,"creation_date":1671235548,"answer_id":74830901,"question_id":73971524,"body_markdown":"One workaround is to set `cas.webflow.crypto.enabled=false`, but doing so isn&#39;t ideal.","title":"Apereo CAS Login Error about java.security.InvalidAlgorithmParameterException","body":"<p>One workaround is to set <code>cas.webflow.crypto.enabled=false</code>, but doing so isn't ideal.</p>\n"},{"tags":[],"owner":{"account_id":24275285,"reputation":9,"user_id":18222674,"display_name":"ATFWUS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689062824,"creation_date":1689062824,"answer_id":76659861,"question_id":73971524,"body_markdown":"I have solved this problem perfectly.  The problem is that the jdk version actually used by your cas is not the same as the version viewed through `java --version`.  You only need to check whether the jdk version in the cas startup log is the same.","title":"Apereo CAS Login Error about java.security.InvalidAlgorithmParameterException","body":"<p>I have solved this problem perfectly.  The problem is that the jdk version actually used by your cas is not the same as the version viewed through <code>java --version</code>.  You only need to check whether the jdk version in the cas startup log is the same.</p>\n"},{"tags":[],"owner":{"account_id":21261644,"reputation":1,"user_id":15642347,"display_name":"ReZero"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695135345,"creation_date":1695135345,"answer_id":77135689,"question_id":73971524,"body_markdown":"Don&#39;t use the Orcale jdk, I had the same problem as you with this. It works fine for me with Amazon Corretto-17.\r\n[My Environment Configuration][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2iqdD.png","title":"Apereo CAS Login Error about java.security.InvalidAlgorithmParameterException","body":"<p>Don't use the Orcale jdk, I had the same problem as you with this. It works fine for me with Amazon Corretto-17.\n<a href=\"https://i.stack.imgur.com/2iqdD.png\" rel=\"nofollow noreferrer\">My Environment Configuration</a></p>\n"},{"tags":[],"owner":{"account_id":1083227,"reputation":178,"user_id":1079614,"display_name":"irbian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698221559,"creation_date":1698221559,"answer_id":77357690,"question_id":73971524,"body_markdown":"It&#39;s a bug. After some debugging I arrived to this\r\n\r\n```cas.webflow.crypto.encryption.keySize=32```\r\n\r\nBut I don&#39;t know enough to submit a pull request\r\n","title":"Apereo CAS Login Error about java.security.InvalidAlgorithmParameterException","body":"<p>It's a bug. After some debugging I arrived to this</p>\n<p><code>cas.webflow.crypto.encryption.keySize=32</code></p>\n<p>But I don't know enough to submit a pull request</p>\n"}],"owner":{"account_id":16344209,"reputation":21,"user_id":12383724,"display_name":"Michael Shi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":652,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":5,"score":1,"last_activity_date":1698221559,"creation_date":1665048545,"question_id":73971524,"body_markdown":"I follow the step in the link(https://github.com/apereo/cas-overlay-template) to deploy Apereo CAS. \r\n\r\nTest Environment:\r\n\r\nCAS Version: 7.0.0-SNAPSHOT\r\n\r\nCAS Branch: master\r\n\r\nCAS Build Date/Time: 2022-10-05T13:10:26Z\r\n\r\nSpring Boot Version: 2.7.4\r\n\r\nSpring Version: 5.3.23\r\n\r\nJava Version: 17.0.4.1\r\n\r\nOS Architecture: amd64\r\n\r\nOS Name: Linux\r\n\r\nOS Version: 3.10.0-1160.62.1.el7.x86_64\r\n\r\nOS Date/Time: 2022-10-06T08:58:17.575986031\r\n\r\nOS Temp Directory: /tmp\r\n\r\nApache Tomcat Version: Apache Tomcat/9.0.67\r\n\r\n\r\nAfter run the following commands, I can access the CAS main page (https://xxx.xxx.xxx.xxx:8443/cas/login).\r\n\r\n```\r\n./gradlew clean build\r\n\r\n./gradlew createKeystore\r\n\r\n./gradlew run\r\n```\r\n\r\nBut I got the error &quot;CAS is unable to process this request: &quot;500:Internal Server Error&quot;.\r\nIn the terminal in which I start the CAS, error message as following:\r\n\r\nERROR [org.apereo.cas.web.flow.executor.EncryptedTranscoder] - java.security.InvalidAlgorithmParameterException: **AlgorithmParameterSpec not of GCMParameterSpec**\r\n\r\nUnchecked.java:lambda$static$0:61\r\n\r\nUnchecked.java:lambda$supplier$38:1698\r\n\r\nFunctionUtils.java:doUnchecked:370\r\n\r\nI can&#39;t find a proper solution by searching, so please help. \r\nthanks.\r\n","title":"Apereo CAS Login Error about java.security.InvalidAlgorithmParameterException","body":"<p>I follow the step in the link(<a href=\"https://github.com/apereo/cas-overlay-template\" rel=\"nofollow noreferrer\">https://github.com/apereo/cas-overlay-template</a>) to deploy Apereo CAS.</p>\n<p>Test Environment:</p>\n<p>CAS Version: 7.0.0-SNAPSHOT</p>\n<p>CAS Branch: master</p>\n<p>CAS Build Date/Time: 2022-10-05T13:10:26Z</p>\n<p>Spring Boot Version: 2.7.4</p>\n<p>Spring Version: 5.3.23</p>\n<p>Java Version: 17.0.4.1</p>\n<p>OS Architecture: amd64</p>\n<p>OS Name: Linux</p>\n<p>OS Version: 3.10.0-1160.62.1.el7.x86_64</p>\n<p>OS Date/Time: 2022-10-06T08:58:17.575986031</p>\n<p>OS Temp Directory: /tmp</p>\n<p>Apache Tomcat Version: Apache Tomcat/9.0.67</p>\n<p>After run the following commands, I can access the CAS main page (<a href=\"https://xxx.xxx.xxx.xxx:8443/cas/login\" rel=\"nofollow noreferrer\">https://xxx.xxx.xxx.xxx:8443/cas/login</a>).</p>\n<pre><code>./gradlew clean build\n\n./gradlew createKeystore\n\n./gradlew run\n</code></pre>\n<p>But I got the error &quot;CAS is unable to process this request: &quot;500:Internal Server Error&quot;.\nIn the terminal in which I start the CAS, error message as following:</p>\n<p>ERROR [org.apereo.cas.web.flow.executor.EncryptedTranscoder] - java.security.InvalidAlgorithmParameterException: <strong>AlgorithmParameterSpec not of GCMParameterSpec</strong></p>\n<p>Unchecked.java:lambda$static$0:61</p>\n<p>Unchecked.java:lambda$supplier$38:1698</p>\n<p>FunctionUtils.java:doUnchecked:370</p>\n<p>I can't find a proper solution by searching, so please help.\nthanks.</p>\n"},{"tags":["java","oop","database-design","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":8884226,"reputation":514,"user_id":6633045,"display_name":"phuongnq1995"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698220842,"creation_date":1698220842,"answer_id":77357619,"question_id":77352513,"body_markdown":"I would say your data models are a good approach, but the idea of fetching players at a specific point in time by using service or eager load is not.\r\nWe go to each of your concerns.\r\n1. SQL query to fetch players at a specific point in time.\r\n\r\n```\r\nselect *\r\nfrom player_number pn\r\njoin player p on pn.player_id = p.id\r\nwhere pn.start_date &lt; :date\r\nand (pn.end_date &gt; :date or pn.end_date is null) // Suspect null is present\r\n```\r\n2. Using `spring-data-jpa`\r\nThere are several ways to implement this, refer to this [doc](https://www.baeldung.com/spring-data-jpa-query) example\r\n```\r\npublic interface PlayerNumberRepository extends JpaRepository&lt;PlayerNumber, Long&gt; {\r\n\r\n    @Query(&quot;SELECT p FROM PlayNumber p WHERE p.startTime &lt;= ?1 and (p.endTime &gt;= ?1 or p.endTime is null)&quot;)\r\n    List&lt;FuelPrice&gt; findInSpecificPointInTime(LocalDate pointInTime);\r\n}\r\n```\r\n3. You want to have results with multiple joins, you can use\r\n`Proxy projection` aka custom dto and also can apply pagination. Example\r\n```\r\npublic interface PlayerDto {\r\n    Long getId();\r\n    int getNumber();\r\n    // All getters properties\r\n}\r\n```\r\nAnd apply it to repository\r\n```\r\npublic interface PlayerNumberRepository extends JpaRepository&lt;PlayerNumber, Long&gt; {\r\n\r\n    @Query(nativeQuery = true,\r\nvalue=&quot;select p.id as id, pn.number as number\r\nfrom player_number pn\r\njoin player p on pn.player_id = p.id\r\nwhere pn.start_date &lt; :date\r\nand (pn.end_date &gt; :date or pn.end_date is null)&quot;)\r\n    List&lt;PlayerDto&gt; findInSpecificPointInTime(LocalDate pointInTime);\r\n}\r\n```\r\nThis is [example](https://vladmihalcea.com/spring-jpa-dto-projection/), I hope it helps.","title":"Model a Sports Player and query it with spring data JPA","body":"<p>I would say your data models are a good approach, but the idea of fetching players at a specific point in time by using service or eager load is not.\nWe go to each of your concerns.</p>\n<ol>\n<li>SQL query to fetch players at a specific point in time.</li>\n</ol>\n<pre><code>select *\nfrom player_number pn\njoin player p on pn.player_id = p.id\nwhere pn.start_date &lt; :date\nand (pn.end_date &gt; :date or pn.end_date is null) // Suspect null is present\n</code></pre>\n<ol start=\"2\">\n<li>Using <code>spring-data-jpa</code>\nThere are several ways to implement this, refer to this <a href=\"https://www.baeldung.com/spring-data-jpa-query\" rel=\"nofollow noreferrer\">doc</a> example</li>\n</ol>\n<pre><code>public interface PlayerNumberRepository extends JpaRepository&lt;PlayerNumber, Long&gt; {\n\n    @Query(&quot;SELECT p FROM PlayNumber p WHERE p.startTime &lt;= ?1 and (p.endTime &gt;= ?1 or p.endTime is null)&quot;)\n    List&lt;FuelPrice&gt; findInSpecificPointInTime(LocalDate pointInTime);\n}\n</code></pre>\n<ol start=\"3\">\n<li>You want to have results with multiple joins, you can use\n<code>Proxy projection</code> aka custom dto and also can apply pagination. Example</li>\n</ol>\n<pre><code>public interface PlayerDto {\n    Long getId();\n    int getNumber();\n    // All getters properties\n}\n</code></pre>\n<p>And apply it to repository</p>\n<pre><code>public interface PlayerNumberRepository extends JpaRepository&lt;PlayerNumber, Long&gt; {\n\n    @Query(nativeQuery = true,\nvalue=&quot;select p.id as id, pn.number as number\nfrom player_number pn\njoin player p on pn.player_id = p.id\nwhere pn.start_date &lt; :date\nand (pn.end_date &gt; :date or pn.end_date is null)&quot;)\n    List&lt;PlayerDto&gt; findInSpecificPointInTime(LocalDate pointInTime);\n}\n</code></pre>\n<p>This is <a href=\"https://vladmihalcea.com/spring-jpa-dto-projection/\" rel=\"nofollow noreferrer\">example</a>, I hope it helps.</p>\n"}],"owner":{"account_id":201623,"reputation":15910,"user_id":448192,"accept_rate":77,"display_name":"DArkO"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1698220842,"creation_date":1698154208,"question_id":77352513,"body_markdown":"I have a data **model** in Spring Boot with Spring Data JPA called **Player**. This represents a person in sports and this player has a property called jerseyNumber (a number) and position (where he plays, center, defense etc..). These properties have different values as his career progresses. One season he plays as number 8 and other as number 7.\r\n\r\n```\r\nPlayer name 1\r\njerseyNumber 8 - Position center - 01.01.2020-31.12.2020\r\njerseyNumber 7 - Position attacker - 01.01.2021-Present\r\n```\r\n**How do i set-up spring data JPA to handle a query where i want to know the exact state at a specific date? Lets say i want to know the details of the model on 01.06.2020.**\r\n\r\nI am using _Postgres_.\r\n\r\nHere is what I was thinking would be an option.  \r\nI&#39;m ommiting the service code that pulls the player from a repository and calculates the current state. Basically going through each of the fields and determines the current state based on a provided timestamp and returns a separate DTO model from it. Is this a good approach?  \r\nI&#39;m a bit concerned that these are join queries which I would mostly need to do eagerly. I&#39;m considering maybe storing this data in a _JSONB_ column within the player table. My API needs to serve potentially a hundred players in a single response. This example is a bit simplified as this pattern exists around different entities in the application as well (querying which teams had which players at a specific point in time etc..)\r\n\r\n\r\n```\r\n@Entity\r\npublic class Player {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    private String name;\r\n\r\n    @OneToMany(cascade = CascadeType.ALL, mappedBy = &quot;player&quot;)\r\n    private List&lt;PlayerNumber&gt; playerNumbers = new ArrayList&lt;&gt;();\r\n\r\n    // Getters and setters\r\n}\r\n```\r\n\r\n```\r\n@Entity\r\npublic class PlayerNumber {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    private int number;\r\n    private LocalDate startDate;\r\n    private LocalDate endDate;\r\n\r\n    @ManyToOne\r\n    private Player player;\r\n\r\n    // Getters and setters\r\n}\r\n```","title":"Model a Sports Player and query it with spring data JPA","body":"<p>I have a data <strong>model</strong> in Spring Boot with Spring Data JPA called <strong>Player</strong>. This represents a person in sports and this player has a property called jerseyNumber (a number) and position (where he plays, center, defense etc..). These properties have different values as his career progresses. One season he plays as number 8 and other as number 7.</p>\n<pre><code>Player name 1\njerseyNumber 8 - Position center - 01.01.2020-31.12.2020\njerseyNumber 7 - Position attacker - 01.01.2021-Present\n</code></pre>\n<p><strong>How do i set-up spring data JPA to handle a query where i want to know the exact state at a specific date? Lets say i want to know the details of the model on 01.06.2020.</strong></p>\n<p>I am using <em>Postgres</em>.</p>\n<p>Here is what I was thinking would be an option.<br />\nI'm ommiting the service code that pulls the player from a repository and calculates the current state. Basically going through each of the fields and determines the current state based on a provided timestamp and returns a separate DTO model from it. Is this a good approach?<br />\nI'm a bit concerned that these are join queries which I would mostly need to do eagerly. I'm considering maybe storing this data in a <em>JSONB</em> column within the player table. My API needs to serve potentially a hundred players in a single response. This example is a bit simplified as this pattern exists around different entities in the application as well (querying which teams had which players at a specific point in time etc..)</p>\n<pre><code>@Entity\npublic class Player {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    private String name;\n\n    @OneToMany(cascade = CascadeType.ALL, mappedBy = &quot;player&quot;)\n    private List&lt;PlayerNumber&gt; playerNumbers = new ArrayList&lt;&gt;();\n\n    // Getters and setters\n}\n</code></pre>\n<pre><code>@Entity\npublic class PlayerNumber {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    private int number;\n    private LocalDate startDate;\n    private LocalDate endDate;\n\n    @ManyToOne\n    private Player player;\n\n    // Getters and setters\n}\n</code></pre>\n"},{"tags":["java","compilation","native-code"],"comments":[{"owner":{"account_id":52616,"reputation":1042916,"user_id":157247,"accept_rate":91,"display_name":"T.J. Crowder"},"score":8,"creation_date":1275933225,"post_id":2991799,"comment_id":3054638,"body_markdown":"If your interest is speed, don&#39;t bother unless you&#39;re looking at a platform that HotSpot (Sun&#39;s JVM) doesn&#39;t support. HotSpot compiles bytecode to native code on the fly wherever a &quot;hotspot&quot; of execution path (something that gets run a lot) shows up, and it&#39;s very good at it. But if you&#39;re looking to avoid requiring a JVM, yes, look at the gcj James pointed you to.","body":"If your interest is speed, don&#39;t bother unless you&#39;re looking at a platform that HotSpot (Sun&#39;s JVM) doesn&#39;t support. HotSpot compiles bytecode to native code on the fly wherever a &quot;hotspot&quot; of execution path (something that gets run a lot) shows up, and it&#39;s very good at it. But if you&#39;re looking to avoid requiring a JVM, yes, look at the gcj James pointed you to."},{"owner":{"account_id":43564,"reputation":3133,"user_id":127430,"display_name":"Dmitry Leskov"},"score":3,"creation_date":1275972811,"post_id":2991799,"comment_id":3058393,"body_markdown":"Yet another reason is protection against Java decompilers. As for HotSpot vs native compiler (vs JRockit vs IBM vs GCC vs Visual C++ vs hand-writing-CPU-instructions-in-hex) performance, it depends on the application, so YMMV.","body":"Yet another reason is protection against Java decompilers. As for HotSpot vs native compiler (vs JRockit vs IBM vs GCC vs Visual C++ vs hand-writing-CPU-instructions-in-hex) performance, it depends on the application, so YMMV."},{"owner":{"account_id":257029,"reputation":3131,"user_id":538160,"accept_rate":62,"display_name":"supernova"},"score":1,"creation_date":1398010492,"post_id":2991799,"comment_id":35459154,"body_markdown":"I found one interesting development by Oracle for there Oracle database called JServer Accelerator.  It was also designed to be platform Dependent in some way by compiling not to bytecodes but to C code.   http://docs.oracle.com/cd/A87860_01/doc/java.817/a83727/jtools5.htm","body":"I found one interesting development by Oracle for there Oracle database called JServer Accelerator.  It was also designed to be platform Dependent in some way by compiling not to bytecodes but to C code.   <a href=\"http://docs.oracle.com/cd/A87860_01/doc/java.817/a83727/jtools5.htm\" rel=\"nofollow noreferrer\">docs.oracle.com/cd/A87860_01/doc/java.817/a83727/jtools5.htm</a>"},{"owner":{"account_id":217041,"reputation":6848,"user_id":472647,"accept_rate":97,"display_name":"CodeMouse92"},"score":0,"creation_date":1460759535,"post_id":2991799,"comment_id":60908599,"body_markdown":"@Igal: Reminder, the &quot;moderators&quot; are almost entirely 3000+ rep users. The close flags don&#39;t always reflect the close reason perfectly, but I can see why it was closed. This looks to be right on the border of &quot;not a question&quot; because of its length and wording, although I agree it&#39;s *just* on the right side of that border.","body":"@Igal: Reminder, the &quot;moderators&quot; are almost entirely 3000+ rep users. The close flags don&#39;t always reflect the close reason perfectly, but I can see why it was closed. This looks to be right on the border of &quot;not a question&quot; because of its length and wording, although I agree it&#39;s <i>just</i> on the right side of that border."}],"answers":[{"tags":[],"owner":{"account_id":27569,"reputation":7306,"user_id":72908,"accept_rate":84,"display_name":"James Kingsbery"},"down_vote_count":2,"up_vote_count":43,"is_accepted":false,"score":41,"last_activity_date":1480957807,"creation_date":1275932711,"answer_id":2991834,"question_id":2991799,"body_markdown":"There used to be a tool called GCJ that was part of GCC, but it&#39;s [been removed][1]. Now, all the links in the GCC site re-direct to their non-GCJ equivalents.\r\n\r\n*NB: the comments all refered to my original answer saying you can compile Java to native code with GCJ.*\r\n\r\n  [1]: http://tromey.com/blog/?p=911","title":"Can I compile Java to native code?","body":"<p>There used to be a tool called GCJ that was part of GCC, but it's <a href=\"http://tromey.com/blog/?p=911\" rel=\"noreferrer\">been removed</a>. Now, all the links in the GCC site re-direct to their non-GCJ equivalents.</p>\n\n<p><em>NB: the comments all refered to my original answer saying you can compile Java to native code with GCJ.</em></p>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":9,"up_vote_count":18,"is_accepted":false,"score":9,"last_activity_date":1515425008,"creation_date":1275937315,"answer_id":2992288,"question_id":2991799,"body_markdown":"Yes, the JIT in the JVM does exactly that for you.  \r\n\r\nIn fact it can produce faster code than compiling the code in advance as it can generate code optimised for the specific platform based on how the code is used at runtime.\r\n\r\nThe JVM is always involved even if a very high percentage is compiled to native code as you could load and run byte code dynamically.","title":"Can I compile Java to native code?","body":"<p>Yes, the JIT in the JVM does exactly that for you.  </p>\n\n<p>In fact it can produce faster code than compiling the code in advance as it can generate code optimised for the specific platform based on how the code is used at runtime.</p>\n\n<p>The JVM is always involved even if a very high percentage is compiled to native code as you could load and run byte code dynamically.</p>\n"},{"tags":[],"owner":{"account_id":27004,"reputation":28823,"user_id":70795,"accept_rate":56,"display_name":"Mark"},"down_vote_count":1,"up_vote_count":20,"is_accepted":false,"score":19,"last_activity_date":1579520318,"creation_date":1275943080,"answer_id":2992968,"question_id":2991799,"body_markdown":"[Excelsior JET][1] is a commercial Java to native code compiler. However, it was discontinued in May 2019.\r\n\r\n\r\n  [1]: http://www.excelsior-usa.com/jet.html","title":"Can I compile Java to native code?","body":"<p><a href=\"http://www.excelsior-usa.com/jet.html\" rel=\"nofollow noreferrer\">Excelsior JET</a> is a commercial Java to native code compiler. However, it was discontinued in May 2019.</p>\n"},{"tags":[],"owner":{"account_id":210082,"reputation":19409,"user_id":461499,"accept_rate":73,"display_name":"Rob Audenaerde"},"down_vote_count":1,"up_vote_count":42,"is_accepted":false,"score":41,"last_activity_date":1698220499,"creation_date":1527444370,"answer_id":50555050,"question_id":2991799,"body_markdown":"Yes!\r\n--\r\nOracle has been working on the GraalVm, which supports Native Images. Check here:  https://www.graalvm.org/\r\n\r\n&gt; *Native Image*\r\n&gt; The native image feature with the GraalVM SDK helps improve the startup time of Java applications and gives them a smaller footprint. Effectively, it&#39;s converting bytecode that runs on the JVM (on any platform) to native code for a specific OS/platform  which is where the performance comes from. It&#39;s using aggressive ahead-of-time (AOT) optimizations to achieve good performance.\r\n\r\nSee more:\r\n\r\n * Summary  \r\n   https://www.graalvm.org/docs/getting-started/#native-images\r\n\r\n * Demos: Native images for faster startup  \r\n   https://www.graalvm.org/docs/examples/native-list-dir/\r\n\r\n * Detailed: &#39;Ahead-of-time Compilation&#39;  \r\n   https://www.graalvm.org/docs/reference-manual/aot-compilation/ \r\n\r\nThe Micronaut platform uses GraalVM to make native microservices:\r\n\r\n - https://guides.micronaut.io/latest/micronaut-creating-first-graal-app.html\r\n\r\n\r\nSimple example\r\n--\r\n\r\n     public class HelloWorld {\r\n         public static void main(String[] args) {\r\n             System.out.println(&quot;Hello, Native World!&quot;);\r\n         }\r\n     }\r\n\r\nCompiling java:\r\n\r\n     javac HelloWorld.java\r\n\r\nCompiling to native:\r\n\r\n     native-image HelloWorld\r\n\r\nRunning (only the executable is needed):\r\n\r\n     ./HelloWorld \r\n\r\nOutput\r\n    \r\n     Hello, Native World!\r\n","title":"Can I compile Java to native code?","body":"<h2>Yes!</h2>\n<p>Oracle has been working on the GraalVm, which supports Native Images. Check here:  <a href=\"https://www.graalvm.org/\" rel=\"nofollow noreferrer\">https://www.graalvm.org/</a></p>\n<blockquote>\n<p><em>Native Image</em>\nThe native image feature with the GraalVM SDK helps improve the startup time of Java applications and gives them a smaller footprint. Effectively, it's converting bytecode that runs on the JVM (on any platform) to native code for a specific OS/platform  which is where the performance comes from. It's using aggressive ahead-of-time (AOT) optimizations to achieve good performance.</p>\n</blockquote>\n<p>See more:</p>\n<ul>\n<li><p>Summary<br />\n<a href=\"https://www.graalvm.org/docs/getting-started/#native-images\" rel=\"nofollow noreferrer\">https://www.graalvm.org/docs/getting-started/#native-images</a></p>\n</li>\n<li><p>Demos: Native images for faster startup<br />\n<a href=\"https://www.graalvm.org/docs/examples/native-list-dir/\" rel=\"nofollow noreferrer\">https://www.graalvm.org/docs/examples/native-list-dir/</a></p>\n</li>\n<li><p>Detailed: 'Ahead-of-time Compilation'<br />\n<a href=\"https://www.graalvm.org/docs/reference-manual/aot-compilation/\" rel=\"nofollow noreferrer\">https://www.graalvm.org/docs/reference-manual/aot-compilation/</a></p>\n</li>\n</ul>\n<p>The Micronaut platform uses GraalVM to make native microservices:</p>\n<ul>\n<li><a href=\"https://guides.micronaut.io/latest/micronaut-creating-first-graal-app.html\" rel=\"nofollow noreferrer\">https://guides.micronaut.io/latest/micronaut-creating-first-graal-app.html</a></li>\n</ul>\n<h2>Simple example</h2>\n<pre><code> public class HelloWorld {\n     public static void main(String[] args) {\n         System.out.println(&quot;Hello, Native World!&quot;);\n     }\n }\n</code></pre>\n<p>Compiling java:</p>\n<pre><code> javac HelloWorld.java\n</code></pre>\n<p>Compiling to native:</p>\n<pre><code> native-image HelloWorld\n</code></pre>\n<p>Running (only the executable is needed):</p>\n<pre><code> ./HelloWorld \n</code></pre>\n<p>Output</p>\n<pre><code> Hello, Native World!\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4646767,"reputation":17781,"user_id":3764804,"accept_rate":59,"display_name":"BullyWiiPlaza"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1595583600,"creation_date":1595583600,"answer_id":63070961,"question_id":2991799,"body_markdown":"Another possibility would be [`RoboVM`][1].\r\nHowever, it only seems to work on `Linux`, `iOS` and `Mac OS X`.\r\n\r\nAs of today, the project still seems somewhat alive contrary to some posts online [claiming the project to be dead][2].\r\n\r\n  [1]: https://github.com/MobiVM/robovm\r\n  [2]: https://www.gamefromscratch.com/post/2016/04/15/RoboVM-is-Dead.aspx","title":"Can I compile Java to native code?","body":"<p>Another possibility would be <a href=\"https://github.com/MobiVM/robovm\" rel=\"nofollow noreferrer\"><code>RoboVM</code></a>.\nHowever, it only seems to work on <code>Linux</code>, <code>iOS</code> and <code>Mac OS X</code>.</p>\n<p>As of today, the project still seems somewhat alive contrary to some posts online <a href=\"https://www.gamefromscratch.com/post/2016/04/15/RoboVM-is-Dead.aspx\" rel=\"nofollow noreferrer\">claiming the project to be dead</a>.</p>\n"}],"owner":{"account_id":145134,"reputation":3028,"user_id":354721,"accept_rate":47,"display_name":"barroco"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65825,"favorite_count":0,"down_vote_count":0,"up_vote_count":97,"answer_count":5,"score":97,"last_activity_date":1698220499,"creation_date":1275932485,"question_id":2991799,"body_markdown":"Is there any way to compile from Java to standalone (or library) machine code without requiring a JVM?","title":"Can I compile Java to native code?","body":"<p>Is there any way to compile from Java to standalone (or library) machine code without requiring a JVM?</p>\n"},{"tags":["java","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":1798188,"reputation":103,"user_id":1637118,"display_name":"Timur Celikel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698202945,"creation_date":1698202945,"answer_id":77356388,"question_id":77355926,"body_markdown":"Assuming you are using a relatively recent version of Spring Boot and MySQL you may want to try using the following dialect to see if this helps:\r\n\r\n    spring.jpa.database-platform=org.hibernate.dialect.MySQLDialect\r\n\r\norg.hibernate.dialect.MySQL8InnoDBDialect has been deprecated for a while. \r\n\r\nIf the above doesn&#39;t work can you give us a little more context as to what versions of Spring Boot and MySQL you are using? Are you getting any errors or anything in the logs when the application starts up?\r\n\r\n","title":"SpringBoot doesn&#39;t recognize a mysql database","body":"<p>Assuming you are using a relatively recent version of Spring Boot and MySQL you may want to try using the following dialect to see if this helps:</p>\n<pre><code>spring.jpa.database-platform=org.hibernate.dialect.MySQLDialect\n</code></pre>\n<p>org.hibernate.dialect.MySQL8InnoDBDialect has been deprecated for a while.</p>\n<p>If the above doesn't work can you give us a little more context as to what versions of Spring Boot and MySQL you are using? Are you getting any errors or anything in the logs when the application starts up?</p>\n"},{"tags":[],"owner":{"account_id":11250085,"reputation":401,"user_id":8251447,"display_name":"Akjun"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698220422,"creation_date":1698219860,"answer_id":77357503,"question_id":77355926,"body_markdown":"I would suggest double check your schema name and the entity you defined. \r\nYou can define the Table annotation of your entity like this to make sure it match with the correct schema in your database.\r\n\r\n    @Entity\r\n    @Table(name = &quot;employees&quot;)\r\n    public class Employee {....}\r\n\r\n**If above doesn&#39;t solve your problem**. You could try another approach to make sure your application and database is connected and able to look up the correct schema for data. \r\n\r\n1. Create a corresponding repository interface by extending the JpaRepository interface provided by Spring Data JPA:\r\n\r\n&gt;     public interface EmployeeRepository extends JpaRepository&lt;Employee, Long&gt; {}\r\n\r\n2. **Create a REST controller class to define your CRUD operations. You can use annotations like @RestController, @GetMapping, @PutMapping, and etc. For example:**\r\n\r\n&gt;     @RestController\r\n&gt;     @RequestMapping(&quot;/employees&quot;)\r\n&gt;     public class EmployeeController{\r\n&gt; \r\n&gt;     @Autowired\r\n&gt;     private EmployeeRepository employeeRepository;\r\n&gt;    \r\n&gt; \r\n&gt;     @GetMapping(&quot;/{id}&quot;)\r\n&gt;     public ResponseEntity&lt;Employee&gt; getEmployeeById(@PathVariable Long id) {\r\n&gt;         Optional&lt;Employee&gt; employee= employeeRepository.findById(id);\r\n&gt;         return product.map(ResponseEntity::ok).orElseGet(() -&gt; ResponseEntity.notFound().build());\r\n&gt;     }\r\n&gt; \r\n&gt; \r\n&gt;     @PutMapping(&quot;/{id}&quot;)\r\n&gt;     public ResponseEntity&lt;Employee&gt; updateEmployee(@PathVariable Long id, @RequestBody Employee updatedEmployee) {\r\n&gt;         if (!employeeRepository.existsById(id)) {\r\n&gt;             return ResponseEntity.notFound().build();\r\n&gt;         }\r\n&gt;         updatedEmployee.setId(id);\r\n&gt;         Employee savedEmployee = employeeRepository.save(updatedEmployee);\r\n&gt;         return ResponseEntity.ok(savedEmployee);\r\n&gt;     }\r\n&gt;     }\r\n\r\nBuild and run your Spring Boot application.\r\nUse a tool like Postman or a web browser to test your CRUD operations controller.\r\nIf things still not coming up for you, try to debug the application log for clue to troubleshoot. HTH.\r\n","title":"SpringBoot doesn&#39;t recognize a mysql database","body":"<p>I would suggest double check your schema name and the entity you defined.\nYou can define the Table annotation of your entity like this to make sure it match with the correct schema in your database.</p>\n<pre><code>@Entity\n@Table(name = &quot;employees&quot;)\npublic class Employee {....}\n</code></pre>\n<p><strong>If above doesn't solve your problem</strong>. You could try another approach to make sure your application and database is connected and able to look up the correct schema for data.</p>\n<ol>\n<li>Create a corresponding repository interface by extending the JpaRepository interface provided by Spring Data JPA:</li>\n</ol>\n<blockquote>\n<pre><code>public interface EmployeeRepository extends JpaRepository&lt;Employee, Long&gt; {}\n</code></pre>\n</blockquote>\n<ol start=\"2\">\n<li><strong>Create a REST controller class to define your CRUD operations. You can use annotations like @RestController, @GetMapping, @PutMapping, and etc. For example:</strong></li>\n</ol>\n<blockquote>\n<pre><code>@RestController\n@RequestMapping(&quot;/employees&quot;)\npublic class EmployeeController{\n\n@Autowired\nprivate EmployeeRepository employeeRepository;\n\n\n@GetMapping(&quot;/{id}&quot;)\npublic ResponseEntity&lt;Employee&gt; getEmployeeById(@PathVariable Long id) {\n    Optional&lt;Employee&gt; employee= employeeRepository.findById(id);\n    return product.map(ResponseEntity::ok).orElseGet(() -&gt; ResponseEntity.notFound().build());\n}\n\n\n@PutMapping(&quot;/{id}&quot;)\npublic ResponseEntity&lt;Employee&gt; updateEmployee(@PathVariable Long id, @RequestBody Employee updatedEmployee) {\n    if (!employeeRepository.existsById(id)) {\n        return ResponseEntity.notFound().build();\n    }\n    updatedEmployee.setId(id);\n    Employee savedEmployee = employeeRepository.save(updatedEmployee);\n    return ResponseEntity.ok(savedEmployee);\n}\n}\n</code></pre>\n</blockquote>\n<p>Build and run your Spring Boot application.\nUse a tool like Postman or a web browser to test your CRUD operations controller.\nIf things still not coming up for you, try to debug the application log for clue to troubleshoot. HTH.</p>\n"}],"owner":{"account_id":29738781,"reputation":21,"user_id":22791571,"display_name":"Alejandro Gutierrez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1698220422,"creation_date":1698191576,"question_id":77355926,"body_markdown":"I&#39;ve tried to create a crud using springboot and in execution time it doesn&#39;t update a database with the entities created.\r\nI have my database created,and xampp server active\r\n\r\nThat&#39;s my code\r\nEntity class\r\n\r\n```\r\n@Entity\r\n@Table\r\npublic class Employee {\r\n   \r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private int id;\r\n    \r\n    @Column(name=&quot;emp_name&quot;)\r\n    private String name;\r\n    \r\n    @Column\r\n    private String salary;\r\n\r\n    public Employee() {\r\n    }\r\n\r\n    public Employee(String name, String salary) {\r\n        this.name = name;\r\n        this.salary = salary;\r\n    }\r\n\r\n    \r\n    public int getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(int id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public String getSalary() {\r\n        return salary;\r\n    }\r\n\r\n    public void setSalary(String salary) {\r\n        this.salary = salary;\r\n    }\r\n}\r\n\r\n```\r\n\r\nApplication.propierties\r\n\r\n```\r\nspring.datasource.url=jdbc:mysql://localhost:3306/test_db\r\nspring.datasource.username=root\r\nspring.datasource.password=\r\nspring.jpa.database-platform=org.hibernate.dialect.MySQL8InnoDBDialect\r\nspring.datasource.driverClassName=com.mysql.jdbc.Driver\r\nspring.jpa.hibernate.ddl-auto=update\r\nspring.jpa.show-sql=true\r\n```\r\n\r\n\r\n","title":"SpringBoot doesn&#39;t recognize a mysql database","body":"<p>I've tried to create a crud using springboot and in execution time it doesn't update a database with the entities created.\nI have my database created,and xampp server active</p>\n<p>That's my code\nEntity class</p>\n<pre><code>@Entity\n@Table\npublic class Employee {\n   \n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private int id;\n    \n    @Column(name=&quot;emp_name&quot;)\n    private String name;\n    \n    @Column\n    private String salary;\n\n    public Employee() {\n    }\n\n    public Employee(String name, String salary) {\n        this.name = name;\n        this.salary = salary;\n    }\n\n    \n    public int getId() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getSalary() {\n        return salary;\n    }\n\n    public void setSalary(String salary) {\n        this.salary = salary;\n    }\n}\n\n</code></pre>\n<p>Application.propierties</p>\n<pre><code>spring.datasource.url=jdbc:mysql://localhost:3306/test_db\nspring.datasource.username=root\nspring.datasource.password=\nspring.jpa.database-platform=org.hibernate.dialect.MySQL8InnoDBDialect\nspring.datasource.driverClassName=com.mysql.jdbc.Driver\nspring.jpa.hibernate.ddl-auto=update\nspring.jpa.show-sql=true\n</code></pre>\n"},{"tags":["java","logging","apache-httpclient-4.x"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1698139215,"post_id":77350775,"comment_id":136364199,"body_markdown":"You should add the `apache-httpclient-..` tag (4.x or 5.x) so the right people can see your question","body":"You should add the <code>apache-httpclient-..</code> tag (4.x or 5.x) so the right people can see your question"},{"owner":{"account_id":16657935,"reputation":834,"user_id":13927534,"display_name":"Miss Skooter"},"score":0,"creation_date":1698139335,"post_id":77350775,"comment_id":136364224,"body_markdown":"@Jorn done, thank you :)","body":"@Jorn done, thank you :)"},{"owner":{"account_id":11872577,"reputation":321,"user_id":8688388,"display_name":"M. Pour"},"score":0,"creation_date":1698143686,"post_id":77350775,"comment_id":136364997,"body_markdown":"Have you considered a different approach by using a custom request and response logging interceptor?","body":"Have you considered a different approach by using a custom request and response logging interceptor?"},{"owner":{"account_id":16657935,"reputation":834,"user_id":13927534,"display_name":"Miss Skooter"},"score":0,"creation_date":1698145868,"post_id":77350775,"comment_id":136365399,"body_markdown":"@M.Pour I have info log lines that contain data from both the request and the response, so I can&#39;t seperate them. And I can&#39;t change what the logs are supposed to look like","body":"@M.Pour I have info log lines that contain data from both the request and the response, so I can&#39;t seperate them. And I can&#39;t change what the logs are supposed to look like"},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1698146886,"post_id":77350775,"comment_id":136365594,"body_markdown":"You can try creating a request interceptor that stores the request in the `HttpContext`, then create a response interceptor that reads it from the `HttpContext`, then logs both the request and response.","body":"You can try creating a request interceptor that stores the request in the <code>HttpContext</code>, then create a response interceptor that reads it from the <code>HttpContext</code>, then logs both the request and response."},{"owner":{"account_id":16657935,"reputation":834,"user_id":13927534,"display_name":"Miss Skooter"},"score":0,"creation_date":1698152125,"post_id":77350775,"comment_id":136366511,"body_markdown":"@RobSpoor thanks for the idea, I&#39;m currently exploring using `ThreadLocal` to acheive the same goal. From what I can tell `HttpContext` isn&#39;t always thread-safe (based on the stored attribute) so I might prefer to stick to `ThreadLocal` if it works since I don&#39;t have that headache. Do let me know though if there&#39;s a specific reason you recommend using `HttpContext`!","body":"@RobSpoor thanks for the idea, I&#39;m currently exploring using <code>ThreadLocal</code> to acheive the same goal. From what I can tell <code>HttpContext</code> isn&#39;t always thread-safe (based on the stored attribute) so I might prefer to stick to <code>ThreadLocal</code> if it works since I don&#39;t have that headache. Do let me know though if there&#39;s a specific reason you recommend using <code>HttpContext</code>!"},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1698152698,"post_id":77350775,"comment_id":136366638,"body_markdown":"@MissSkooter because if you don&#39;t manually pass an `HttpContext` when sending the request, you get one for your request only. That means that the request and response get the same instance, and no other request or response will get that same instance.","body":"@MissSkooter because if you don&#39;t manually pass an <code>HttpContext</code> when sending the request, you get one for your request only. That means that the request and response get the same instance, and no other request or response will get that same instance."},{"owner":{"account_id":16657935,"reputation":834,"user_id":13927534,"display_name":"Miss Skooter"},"score":0,"creation_date":1698153622,"post_id":77350775,"comment_id":136366845,"body_markdown":"@RobSpoor yeah I see your point, it&#39;s definitely better but now my problem is that I can&#39;t compute the duration of the request through the interceptors. (I am using `System.nanoTime()` before and after execute)","body":"@RobSpoor yeah I see your point, it&#39;s definitely better but now my problem is that I can&#39;t compute the duration of the request through the interceptors. (I am using <code>System.nanoTime()</code> before and after execute)"},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1698156471,"post_id":77350775,"comment_id":136367600,"body_markdown":"@MissSkooter sure you can. Store the start date in the context in the request interceptor, read it in the response interceptor. I do that all the time.","body":"@MissSkooter sure you can. Store the start date in the context in the request interceptor, read it in the response interceptor. I do that all the time."},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1698156880,"post_id":77350775,"comment_id":136367689,"body_markdown":"Here&#39;s an example of a project I&#39;m working on for my employer: https://github.com/Ingenico-ePayments/connect-sdk-java/blob/56edd93d4860ff4d6f4375213b7d52f3218894e5/src/main/java/com/ingenico/connect/gateway/sdk/java/defaultimpl/DefaultConnection.java#L369. It creates its own `HttpContext` for each request so it&#39;s already available for the start time before the request interceptor is called.","body":"Here&#39;s an example of a project I&#39;m working on for my employer: <a href=\"https://github.com/Ingenico-ePayments/connect-sdk-java/blob/56edd93d4860ff4d6f4375213b7d52f3218894e5/src/main/java/com/ingenico/connect/gateway/sdk/java/defaultimpl/DefaultConnection.java#L369\" rel=\"nofollow noreferrer\">github.com/Ingenico-ePayments/connect-sdk-java/blob/&hellip;</a>. It creates its own <code>HttpContext</code> for each request so it&#39;s already available for the start time before the request interceptor is called."},{"owner":{"account_id":16657935,"reputation":834,"user_id":13927534,"display_name":"Miss Skooter"},"score":0,"creation_date":1698215388,"post_id":77350775,"comment_id":136375219,"body_markdown":"@RobSpoor thank you for all the help! Feel free to write up an answer and I&#39;ll accept it :)","body":"@RobSpoor thank you for all the help! Feel free to write up an answer and I&#39;ll accept it :)"}],"answers":[{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1698220098,"creation_date":1698220098,"answer_id":77357530,"question_id":77350775,"body_markdown":"Create a request interceptor that stores the request in the `HttpContext`, then create a response interceptor that reads it from the `HttpContext`, then logs both the request and response.\r\n\r\nIf you provide a `HttpContext` (implementing class: `BasicHttpContext`) yourself when executing the request, you can populate it with some extra fields like the start date. Otherwise, the HTTP client will create one for each request separately.","title":"How can I log data from HttpRequest and HttpResponse at the same time?","body":"<p>Create a request interceptor that stores the request in the <code>HttpContext</code>, then create a response interceptor that reads it from the <code>HttpContext</code>, then logs both the request and response.</p>\n<p>If you provide a <code>HttpContext</code> (implementing class: <code>BasicHttpContext</code>) yourself when executing the request, you can populate it with some extra fields like the start date. Otherwise, the HTTP client will create one for each request separately.</p>\n"}],"owner":{"account_id":16657935,"reputation":834,"user_id":13927534,"display_name":"Miss Skooter"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77357530,"answer_count":1,"score":0,"last_activity_date":1698220098,"creation_date":1698138307,"question_id":77350775,"body_markdown":"I have some custom logging logic that logs information from the request and response. Some log lines contain information **from both the request and the response at the same time**. Thus, I somehow need to be able to access both at the same time to create the necessary log lines.\r\n\r\nWhen using Feign this was easy to do since you can just set a logger on the builder, and the fact that the response object has the request object in it makes it easy to retrieve data from both.\r\n\r\nHowever, with apache HttpClient, such access does not exist.\r\n\r\nI could only find `addInterceptorFirst` and `addInterceptorFirst` for each of request and response, but never both.\r\n\r\nThe only place I was able to access both objects is at the `send()` method like so:\r\n\r\n```\r\n@Override\r\npublic HttpResponse send(String method, String path, Map&lt;String, String&gt; headers, HttpEntity httpEntity) throws IOException {\r\n    HttpUriRequest request = getHttpUriRequest(method, path, headers, httpEntity);\r\n    try (CloseableHttpClient httpClient = httpClientBuilder.build()) {\r\n        HttpResponse httpResponse =  httpClient.execute(request);\r\n        httpClientLogger.logRequestResponse(request, httpResponse); // logging here\r\n        return httpResponse;\r\n    }\r\n}\r\n```\r\n\r\nThis works fine except for one problem.\r\n\r\nThere are interceptors that are adding headers to the request internally (inside the `httpClient.execute(request)` method) and they seem to be creating a deep copy of the request object since after the request is done, the object in the code snippet is not modified to include the added headers.\r\n\r\nQuestion: How can I log info from the request and the response at the same time, while having the request contain all relevant information that may be added through interceptors?","title":"How can I log data from HttpRequest and HttpResponse at the same time?","body":"<p>I have some custom logging logic that logs information from the request and response. Some log lines contain information <strong>from both the request and the response at the same time</strong>. Thus, I somehow need to be able to access both at the same time to create the necessary log lines.</p>\n<p>When using Feign this was easy to do since you can just set a logger on the builder, and the fact that the response object has the request object in it makes it easy to retrieve data from both.</p>\n<p>However, with apache HttpClient, such access does not exist.</p>\n<p>I could only find <code>addInterceptorFirst</code> and <code>addInterceptorFirst</code> for each of request and response, but never both.</p>\n<p>The only place I was able to access both objects is at the <code>send()</code> method like so:</p>\n<pre><code>@Override\npublic HttpResponse send(String method, String path, Map&lt;String, String&gt; headers, HttpEntity httpEntity) throws IOException {\n    HttpUriRequest request = getHttpUriRequest(method, path, headers, httpEntity);\n    try (CloseableHttpClient httpClient = httpClientBuilder.build()) {\n        HttpResponse httpResponse =  httpClient.execute(request);\n        httpClientLogger.logRequestResponse(request, httpResponse); // logging here\n        return httpResponse;\n    }\n}\n</code></pre>\n<p>This works fine except for one problem.</p>\n<p>There are interceptors that are adding headers to the request internally (inside the <code>httpClient.execute(request)</code> method) and they seem to be creating a deep copy of the request object since after the request is done, the object in the code snippet is not modified to include the added headers.</p>\n<p>Question: How can I log info from the request and the response at the same time, while having the request contain all relevant information that may be added through interceptors?</p>\n"},{"tags":["java","spring","spring-boot","rest","jackson"],"comments":[{"owner":{"account_id":14155962,"reputation":578,"user_id":10226695,"display_name":"Shavk with a Hoon"},"score":0,"creation_date":1657974304,"post_id":73003763,"comment_id":128939788,"body_markdown":"Add a subtype of type User.","body":"Add a subtype of type User."},{"owner":{"account_id":15434401,"reputation":111,"user_id":11134898,"display_name":"fipps omat"},"score":0,"creation_date":1657975004,"post_id":73003763,"comment_id":128939921,"body_markdown":"With this I get &quot;Could not resolve subtype&quot; exception because all subtypes match","body":"With this I get &quot;Could not resolve subtype&quot; exception because all subtypes match"}],"answers":[{"tags":[],"owner":{"account_id":3823550,"reputation":241,"user_id":3170993,"display_name":"szmeti"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698219660,"creation_date":1698219660,"answer_id":77357480,"question_id":73003763,"body_markdown":"You can use defaultImpl and specify the superclass there. If the incoming JSON does not have a &quot;role&quot; field, Jackson will deserialize it as an instance of defaultImpl.\r\n\r\n    @JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.PROPERTY, property = &quot;role&quot;, visible = false, defaultImpl = User.class)\r\n    @JsonSubTypes({\r\n        @JsonSubTypes.Type(value = Student.class, name = &quot;STUDENT&quot;),\r\n        @JsonSubTypes.Type(value = Supervisor.class, name = &quot;SUPERVISOR&quot;)\r\n    })\r\n    public class User{ .. }\r\n    \r\n    public class Student extends User{ .. }\r\n    \r\n    public class Supervisor extends User{ ..}","title":"Jackson inheritance instantiating superclass","body":"<p>You can use defaultImpl and specify the superclass there. If the incoming JSON does not have a &quot;role&quot; field, Jackson will deserialize it as an instance of defaultImpl.</p>\n<pre><code>@JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.PROPERTY, property = &quot;role&quot;, visible = false, defaultImpl = User.class)\n@JsonSubTypes({\n    @JsonSubTypes.Type(value = Student.class, name = &quot;STUDENT&quot;),\n    @JsonSubTypes.Type(value = Supervisor.class, name = &quot;SUPERVISOR&quot;)\n})\npublic class User{ .. }\n\npublic class Student extends User{ .. }\n\npublic class Supervisor extends User{ ..}\n</code></pre>\n"}],"owner":{"account_id":15434401,"reputation":111,"user_id":11134898,"display_name":"fipps omat"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":220,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1698219660,"creation_date":1657970547,"question_id":73003763,"body_markdown":"I&#39;m using jackson in spring boot to deserialize an incoming json.\r\n\r\nThe json can either be a user, student or supervisor.\r\n\r\n\r\n    @JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.PROPERTY, property = &quot;role&quot;, visible = false)\r\n    @JsonSubTypes({\r\n        @JsonSubTypes.Type(value = Student.class, name = &quot;STUDENT&quot;),\r\n        @JsonSubTypes.Type(value = Supervisor.class, name = &quot;SUPERVISOR&quot;)\r\n    })\r\n    public class User{ .. }\r\n\r\n    public class Student extends User{ .. }\r\n\r\n    public class Supervisor extends User{ ..}\r\n\r\nI managed to map incoming jsons to Students or Supervisors. But when posting a new user the user should be general and afterwards the backend uses regex matching on the mail address to determine whether it is a Student or Supervisor. So the incoming json is a User without specific Student or Supervisor properties.\r\n\r\nIs it possible to instantiate User ?\r\n\r\nI tried all annotations but none of them seems to do what I need it to.","title":"Jackson inheritance instantiating superclass","body":"<p>I'm using jackson in spring boot to deserialize an incoming json.</p>\n<p>The json can either be a user, student or supervisor.</p>\n<pre><code>@JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.PROPERTY, property = &quot;role&quot;, visible = false)\n@JsonSubTypes({\n    @JsonSubTypes.Type(value = Student.class, name = &quot;STUDENT&quot;),\n    @JsonSubTypes.Type(value = Supervisor.class, name = &quot;SUPERVISOR&quot;)\n})\npublic class User{ .. }\n\npublic class Student extends User{ .. }\n\npublic class Supervisor extends User{ ..}\n</code></pre>\n<p>I managed to map incoming jsons to Students or Supervisors. But when posting a new user the user should be general and afterwards the backend uses regex matching on the mail address to determine whether it is a Student or Supervisor. So the incoming json is a User without specific Student or Supervisor properties.</p>\n<p>Is it possible to instantiate User ?</p>\n<p>I tried all annotations but none of them seems to do what I need it to.</p>\n"},{"tags":["java","spring","spring-boot","spring-security","cors"],"comments":[{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1671021175,"post_id":74798315,"comment_id":132006221,"body_markdown":"Are you sure you want to allow all origins by using a wildcard in your non-dev profiles?","body":"Are you sure you want to allow all origins by using a wildcard in your non-dev profiles?"},{"owner":{"account_id":23543678,"reputation":17,"user_id":17587480,"display_name":"Trumango"},"score":0,"creation_date":1671021438,"post_id":74798315,"comment_id":132006326,"body_markdown":"@deHaar, I just tried disabling the CORS as an experiment to see if it works at all","body":"@deHaar, I just tried disabling the CORS as an experiment to see if it works at all"}],"answers":[{"tags":[],"owner":{"account_id":6676840,"reputation":2917,"user_id":5151202,"display_name":"times29"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1698219500,"creation_date":1671022737,"answer_id":74798677,"question_id":74798315,"body_markdown":"Just annotate your config with `@Profile(&quot;dev&quot;)`:\r\n```java\r\n@Configuration\r\n@EnableWebMvc\r\n@Profile(&quot;dev&quot;)\r\npublic class DevWebSecurityConfig implements WebMvcConfigurer {\r\n    @Override\r\n    public void addCorsMappings(CorsRegistry registry) {\r\n        registry.addMapping(&quot;/**&quot;)\r\n                .allowedOrigins(&quot;*&quot;)\r\n                .allowedMethods(&quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;DELETE&quot;, &quot;HEAD&quot;)\r\n                .allowCredentials(true)\r\n                .maxAge(3600);\r\n    }\r\n}\r\n```\r\n\r\nTest:\r\n```java\r\nclass DevWebSecurityConfigTestConfigurationTest {\r\n\r\n    private static final ApplicationContextRunner runner = new ApplicationContextRunner()\r\n            .withConfiguration(AutoConfigurations.of(DevWebSecurityConfig.class));\r\n\r\n    @Test\r\n    void devProfileSet_devWebSecurityConfigActive() {\r\n     runner.withPropertyValues(&quot;spring.profiles.active=dev&quot;)\r\n             .run(context -&gt; assertThat(context).hasSingleBean(DevWebSecurityConfig.class));\r\n    }\r\n\r\n    @ParameterizedTest\r\n    @ValueSource(strings = {&quot;default&quot;, &quot;prod&quot;})\r\n    void devProfileNotSet_devWebSecurityConfigNotActive(final String profile) {\r\n     runner.withPropertyValues(&quot;spring.profiles.active=&quot; + profile)\r\n             .run(context -&gt; assertThat(context).doesNotHaveBean(DevWebSecurityConfig.class));\r\n    }\r\n}\r\n```\r\n\r\n**Update**\r\nYou added a `CorsConfigurationSource` bean to your example code. For this approach, you could declare two beans depending on the profile:\r\n```java\r\n    @Profile(&quot;!dev&quot;)\r\n    @Bean\r\n    CorsConfigurationSource defaultCorsConfigurationSource() {\r\n        CorsConfiguration config = new CorsConfiguration();\r\n        config.setAllowedOrigins(Arrays.asList(\r\n                &quot;https://example1.com:9000&quot;,\r\n                &quot;https://example2.com:9000&quot;);\r\n        config.setAllowCredentials(true);\r\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\r\n        source.registerCorsConfiguration(&quot;/api/**&quot;, config);\r\n        return source;\r\n    }\r\n\r\n\r\n    @Profile(&quot;dev&quot;)\r\n    @Bean\r\n    CorsConfigurationSource devCorsConfigurationSource() {\r\n        CorsConfiguration config = new CorsConfiguration();\r\n        config.setAllowedOrigins(Arrays.asList(&quot;https://localhost.com:3000&quot;);\r\n        config.setAllowCredentials(true);\r\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\r\n        source.registerCorsConfiguration(&quot;/api/**&quot;, config);\r\n        return source;\r\n    }\r\n```\r\n\r\nThe example test can be adapted in the way that you can also use the bean name (`devCorsConfigurationSource`, `defaultCorsConfigurationSource`) for asserting whether a bean is present or not.\r\n\r\nYou should however stick to one way: either use the [`addCorsMappings` of the `WebMvcConfigurer`][1] to configure it or with the [`CorsConfigurationSource` bean and the `.cors(withDefaults())` setting on the `HttpSecurity`][2].\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/reference/html/web.html#mvc-cors-global-java\r\n  [2]: https://docs.spring.io/spring-security/reference/servlet/integrations/cors.html","title":"How to disable CORS only for dev profile in the application-dev.yml file?","body":"<p>Just annotate your config with <code>@Profile(&quot;dev&quot;)</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableWebMvc\n@Profile(&quot;dev&quot;)\npublic class DevWebSecurityConfig implements WebMvcConfigurer {\n    @Override\n    public void addCorsMappings(CorsRegistry registry) {\n        registry.addMapping(&quot;/**&quot;)\n                .allowedOrigins(&quot;*&quot;)\n                .allowedMethods(&quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;DELETE&quot;, &quot;HEAD&quot;)\n                .allowCredentials(true)\n                .maxAge(3600);\n    }\n}\n</code></pre>\n<p>Test:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class DevWebSecurityConfigTestConfigurationTest {\n\n    private static final ApplicationContextRunner runner = new ApplicationContextRunner()\n            .withConfiguration(AutoConfigurations.of(DevWebSecurityConfig.class));\n\n    @Test\n    void devProfileSet_devWebSecurityConfigActive() {\n     runner.withPropertyValues(&quot;spring.profiles.active=dev&quot;)\n             .run(context -&gt; assertThat(context).hasSingleBean(DevWebSecurityConfig.class));\n    }\n\n    @ParameterizedTest\n    @ValueSource(strings = {&quot;default&quot;, &quot;prod&quot;})\n    void devProfileNotSet_devWebSecurityConfigNotActive(final String profile) {\n     runner.withPropertyValues(&quot;spring.profiles.active=&quot; + profile)\n             .run(context -&gt; assertThat(context).doesNotHaveBean(DevWebSecurityConfig.class));\n    }\n}\n</code></pre>\n<p><strong>Update</strong>\nYou added a <code>CorsConfigurationSource</code> bean to your example code. For this approach, you could declare two beans depending on the profile:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Profile(&quot;!dev&quot;)\n    @Bean\n    CorsConfigurationSource defaultCorsConfigurationSource() {\n        CorsConfiguration config = new CorsConfiguration();\n        config.setAllowedOrigins(Arrays.asList(\n                &quot;https://example1.com:9000&quot;,\n                &quot;https://example2.com:9000&quot;);\n        config.setAllowCredentials(true);\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\n        source.registerCorsConfiguration(&quot;/api/**&quot;, config);\n        return source;\n    }\n\n\n    @Profile(&quot;dev&quot;)\n    @Bean\n    CorsConfigurationSource devCorsConfigurationSource() {\n        CorsConfiguration config = new CorsConfiguration();\n        config.setAllowedOrigins(Arrays.asList(&quot;https://localhost.com:3000&quot;);\n        config.setAllowCredentials(true);\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\n        source.registerCorsConfiguration(&quot;/api/**&quot;, config);\n        return source;\n    }\n</code></pre>\n<p>The example test can be adapted in the way that you can also use the bean name (<code>devCorsConfigurationSource</code>, <code>defaultCorsConfigurationSource</code>) for asserting whether a bean is present or not.</p>\n<p>You should however stick to one way: either use the <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/web.html#mvc-cors-global-java\" rel=\"nofollow noreferrer\"><code>addCorsMappings</code> of the <code>WebMvcConfigurer</code></a> to configure it or with the <a href=\"https://docs.spring.io/spring-security/reference/servlet/integrations/cors.html\" rel=\"nofollow noreferrer\"><code>CorsConfigurationSource</code> bean and the <code>.cors(withDefaults())</code> setting on the <code>HttpSecurity</code></a>.</p>\n"}],"owner":{"account_id":23543678,"reputation":17,"user_id":17587480,"display_name":"Trumango"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":521,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74798677,"answer_count":1,"score":0,"last_activity_date":1698219500,"creation_date":1671020952,"question_id":74798315,"body_markdown":"I&#39;m trying to disable CORS, because I&#39;m getting the following error:\r\n&gt; Access to fetch at &#39;https://localhost:9000/api/foo&#39; from origin &#39;https://localhost:3000&#39; has been blocked by CORS policy: Response to preflight request doesn&#39;t pass access control check: No &#39;Access-Control-Allow-Origin&#39; header is present on the requested resource. If an opaque response serves your needs, set the request&#39;s mode to &#39;no-cors&#39; to fetch the resource with CORS disabled.\r\nFailed to load resource: net::ERR_FAILED\r\n\r\nI want CORS only disabled when the _dev_ profile is active. How can I achieve this?\r\n\r\n\r\nI&#39;ve already tried the following:\r\n\r\n```java\r\n@Configuration\r\n@EnableWebMvc\r\npublic class WebConfig implements WebMvcConfigurer {\r\n    @Override\r\n    public void addCorsMappings(CorsRegistry registry) {\r\n        registry.addMapping(&quot;/**&quot;)\r\n                .allowedOrigins(&quot;*&quot;)\r\n                .allowedMethods(&quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;DELETE&quot;, &quot;HEAD&quot;)\r\n                .allowCredentials(true)\r\n                .maxAge(3600);\r\n    }\r\n}\r\n```\r\n**Update**: There is another class that I think is related to this problem:\r\n```\r\n@EnableWebSecurity\r\npublic class WebSecurityConf extends WebSecurityConfigurerAdapter {\r\n    @Bean\r\n    CorsConfigurationSource corsConfigurationSource() {\r\n        CorsConfiguration config = new CorsConfiguration();\r\n        config.setAllowedOrigins(Arrays.asList(\r\n                &quot;https://example1.com:9000&quot;,\r\n                &quot;https://example2.com:9000&quot;,\r\n        config.setAllowCredentials(true);\r\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\r\n        source.registerCorsConfiguration(&quot;/api/**&quot;, config);\r\n        return source;\r\n    }\r\n}\r\n```","title":"How to disable CORS only for dev profile in the application-dev.yml file?","body":"<p>I'm trying to disable CORS, because I'm getting the following error:</p>\n<blockquote>\n<p>Access to fetch at 'https://localhost:9000/api/foo' from origin 'https://localhost:3000' has been blocked by CORS policy: Response to preflight request doesn't pass access control check: No 'Access-Control-Allow-Origin' header is present on the requested resource. If an opaque response serves your needs, set the request's mode to 'no-cors' to fetch the resource with CORS disabled.\nFailed to load resource: net::ERR_FAILED</p>\n</blockquote>\n<p>I want CORS only disabled when the <em>dev</em> profile is active. How can I achieve this?</p>\n<p>I've already tried the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableWebMvc\npublic class WebConfig implements WebMvcConfigurer {\n    @Override\n    public void addCorsMappings(CorsRegistry registry) {\n        registry.addMapping(&quot;/**&quot;)\n                .allowedOrigins(&quot;*&quot;)\n                .allowedMethods(&quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;DELETE&quot;, &quot;HEAD&quot;)\n                .allowCredentials(true)\n                .maxAge(3600);\n    }\n}\n</code></pre>\n<p><strong>Update</strong>: There is another class that I think is related to this problem:</p>\n<pre><code>@EnableWebSecurity\npublic class WebSecurityConf extends WebSecurityConfigurerAdapter {\n    @Bean\n    CorsConfigurationSource corsConfigurationSource() {\n        CorsConfiguration config = new CorsConfiguration();\n        config.setAllowedOrigins(Arrays.asList(\n                &quot;https://example1.com:9000&quot;,\n                &quot;https://example2.com:9000&quot;,\n        config.setAllowCredentials(true);\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\n        source.registerCorsConfiguration(&quot;/api/**&quot;, config);\n        return source;\n    }\n}\n</code></pre>\n"},{"tags":["java","hibernate","jpa"],"answers":[{"tags":[],"owner":{"account_id":9867,"reputation":618181,"user_id":18393,"accept_rate":82,"display_name":"cletus"},"down_vote_count":0,"up_vote_count":111,"is_accepted":true,"score":111,"last_activity_date":1652924767,"creation_date":1250667460,"answer_id":1298327,"question_id":1298322,"body_markdown":"Hibernate generates columns in **alphabetical** order. According to [this post][1] the reason is given as:\r\n\r\n&gt; It is sorted to ensurce deterministic\r\n&gt; ordering across clusters. \r\n&gt; \r\n&gt; We can&#39;t rely on the vm to return the\r\n&gt; methods in the same order every time\r\n&gt; so we had to do something.\r\n\r\nApparently it used to be in the order of occurrence but this changed between 3.2.0 GA and 3.2.1 GA.\r\n\r\nI also found [Schema auto generation creates columns in alphabetical order for compound primary keys][2] and this seems to be like your problem. This ticket is about the order changing in primary keys and that negatively impacts index performance.\r\n\r\nThere is no fix for this other than a workaround of naming the columns in such a way that they come out in the correct order (no, I&#39;m not kidding).\r\n\r\n\r\n\r\n  [1]: https://forum.hibernate.org/viewtopic.php?f=6&amp;t=974532\r\n  [2]: https://issues.redhat.com/browse/HIBERNATE-112","title":"Wrong ordering in generated table in jpa","body":"<p>Hibernate generates columns in <strong>alphabetical</strong> order. According to <a href=\"https://forum.hibernate.org/viewtopic.php?f=6&amp;t=974532\" rel=\"noreferrer\">this post</a> the reason is given as:</p>\n<blockquote>\n<p>It is sorted to ensurce deterministic\nordering across clusters.</p>\n<p>We can't rely on the vm to return the\nmethods in the same order every time\nso we had to do something.</p>\n</blockquote>\n<p>Apparently it used to be in the order of occurrence but this changed between 3.2.0 GA and 3.2.1 GA.</p>\n<p>I also found <a href=\"https://issues.redhat.com/browse/HIBERNATE-112\" rel=\"noreferrer\">Schema auto generation creates columns in alphabetical order for compound primary keys</a> and this seems to be like your problem. This ticket is about the order changing in primary keys and that negatively impacts index performance.</p>\n<p>There is no fix for this other than a workaround of naming the columns in such a way that they come out in the correct order (no, I'm not kidding).</p>\n"},{"tags":[],"owner":{"account_id":26568,"reputation":15517,"user_id":69258,"display_name":"DataNucleus"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1250704220,"creation_date":1250704220,"answer_id":1301546,"question_id":1298322,"body_markdown":"DataNucleus allows the extension specifying the position for schema generation, FWIW.","title":"Wrong ordering in generated table in jpa","body":"<p>DataNucleus allows the extension specifying the position for schema generation, FWIW.</p>\n"},{"tags":[],"owner":{"account_id":1674999,"reputation":9423,"user_id":1540749,"accept_rate":90,"display_name":"josejuan"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1608992072,"creation_date":1608992072,"answer_id":65457244,"question_id":1298322,"body_markdown":"You can set the order you want whenever you can change the *internal* name of the class members, since the order of the columns is taken from the field name, not from the getter, setter, or column.\r\n\r\nThus, if the class members are private (as desired), you should only list them (for example by prefixing them with &quot;a_&quot;, &quot;b_&quot;, &quot;c_&quot;, ...) without changing either the getters, the setters, or the column names.\r\n\r\nFor example, the following class definition:\r\n\r\n    @Id\r\n    @Column(name = &quot;parent&quot;)\r\n    UUID parent;\r\n\r\n    @Id\r\n    @Column(name = &quot;type&quot;, length = 10)\r\n    String type;\r\n\r\n    @Id\r\n    @Column(name = &quot;child&quot;)\r\n    UUID child;\r\n\r\nIt generates the following table:\r\n\r\n      Column   |         Type          | Collation | Nullable | Default \r\n    -----------+-----------------------+-----------+----------+---------\r\n     child     | uuid                  |           | not null | \r\n     parent    | uuid                  |           | not null | \r\n     type      | character varying(10) |           | not null | \r\n    Indexes:\r\n        &quot;...whatever...&quot; PRIMARY KEY, btree (child, parent, type)\r\n\r\nWhich is not efficient because normally we will search by parent and type of relationship to obtain the children.\r\n\r\nWe can change the private names without affecting the rest of the implementation by doing:\r\n\r\n    @Id\r\n    @Column(name = &quot;parent&quot;)\r\n    UUID a_parent;\r\n\r\n    @Id\r\n    @Column(name = &quot;type&quot;, length = 10)\r\n    String b_type;\r\n\r\n    @Id\r\n    @Column(name = &quot;child&quot;)\r\n    UUID c_child;\r\n\r\n    public UUID getParent() { return a_parent; }\r\n    public UUID getChild() { return c_child; }\r\n    public String getType() { return b_type; }\r\n    public void setParent(UUID parent) { a_parent = parent; }\r\n    public void setChild(UUID child) { c_child = child; }\r\n    public void setType(String type) { b_type = type; }\r\n\r\nIn that it has now been generated:\r\n\r\n      Column   |         Type          | Collation | Nullable | Default \r\n    -----------+-----------------------+-----------+----------+---------\r\n     parent    | uuid                  |           | not null | \r\n     type      | character varying(10) |           | not null | \r\n     child     | uuid                  |           | not null | \r\n    Indexes:\r\n        &quot;...whatever...&quot; PRIMARY KEY, btree (parent, type, child)\r\n\r\nOf course it is not best to depend on the internal lexicographical order of the class members but I do not see a better solution.","title":"Wrong ordering in generated table in jpa","body":"<p>You can set the order you want whenever you can change the <em>internal</em> name of the class members, since the order of the columns is taken from the field name, not from the getter, setter, or column.</p>\n<p>Thus, if the class members are private (as desired), you should only list them (for example by prefixing them with &quot;a_&quot;, &quot;b_&quot;, &quot;c_&quot;, ...) without changing either the getters, the setters, or the column names.</p>\n<p>For example, the following class definition:</p>\n<pre><code>@Id\n@Column(name = &quot;parent&quot;)\nUUID parent;\n\n@Id\n@Column(name = &quot;type&quot;, length = 10)\nString type;\n\n@Id\n@Column(name = &quot;child&quot;)\nUUID child;\n</code></pre>\n<p>It generates the following table:</p>\n<pre><code>  Column   |         Type          | Collation | Nullable | Default \n-----------+-----------------------+-----------+----------+---------\n child     | uuid                  |           | not null | \n parent    | uuid                  |           | not null | \n type      | character varying(10) |           | not null | \nIndexes:\n    &quot;...whatever...&quot; PRIMARY KEY, btree (child, parent, type)\n</code></pre>\n<p>Which is not efficient because normally we will search by parent and type of relationship to obtain the children.</p>\n<p>We can change the private names without affecting the rest of the implementation by doing:</p>\n<pre><code>@Id\n@Column(name = &quot;parent&quot;)\nUUID a_parent;\n\n@Id\n@Column(name = &quot;type&quot;, length = 10)\nString b_type;\n\n@Id\n@Column(name = &quot;child&quot;)\nUUID c_child;\n\npublic UUID getParent() { return a_parent; }\npublic UUID getChild() { return c_child; }\npublic String getType() { return b_type; }\npublic void setParent(UUID parent) { a_parent = parent; }\npublic void setChild(UUID child) { c_child = child; }\npublic void setType(String type) { b_type = type; }\n</code></pre>\n<p>In that it has now been generated:</p>\n<pre><code>  Column   |         Type          | Collation | Nullable | Default \n-----------+-----------------------+-----------+----------+---------\n parent    | uuid                  |           | not null | \n type      | character varying(10) |           | not null | \n child     | uuid                  |           | not null | \nIndexes:\n    &quot;...whatever...&quot; PRIMARY KEY, btree (parent, type, child)\n</code></pre>\n<p>Of course it is not best to depend on the internal lexicographical order of the class members but I do not see a better solution.</p>\n"},{"tags":[],"owner":{"account_id":6523425,"reputation":1247,"user_id":5046887,"display_name":"Changemyminds"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1652372002,"creation_date":1610693015,"answer_id":65731578,"question_id":1298322,"body_markdown":"I have the same problem. Finally, I found the solution.\r\n\r\nFind your External Libraries about hibernate core and find the `org.hibernate.cfg.PropertyContainer` class and copy the content. &lt;br&gt;\r\n\r\n[![enter image description here][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/2vGBJ.png\r\n  [2]: https://i.stack.imgur.com/s3q5u.png\r\n\r\nIn your root folder create the `org.hibernate.cfg` package and `PropertyContainer` class.&lt;br&gt;\r\n[![enter image description here][2]][2]\r\n\r\nPaste the `org.hibernate.cfg.PropertyContainer` content and replace all `TreeMap` to `LinkedHashMap` in your create `PropertyContainer` class.\r\n\r\n    /*\r\n     * Hibernate, Relational Persistence for Idiomatic Java\r\n     *\r\n     * License: GNU Lesser General Public License (LGPL), version 2.1 or later.\r\n     * See the lgpl.txt file in the root directory or &lt;http://www.gnu.org/licenses/lgpl-2.1.html&gt;.\r\n     */\r\n    \r\n    // $Id$\r\n    \r\n    package org.hibernate.cfg;\r\n    \r\n    import java.util.Collection;\r\n    import java.util.Collections;\r\n    import java.util.HashMap;\r\n    import java.util.Iterator;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n    import java.util.TreeMap;\r\n    import javax.persistence.Access;\r\n    import javax.persistence.ManyToMany;\r\n    import javax.persistence.ManyToOne;\r\n    import javax.persistence.OneToMany;\r\n    import javax.persistence.OneToOne;\r\n    import javax.persistence.Transient;\r\n    \r\n    import org.hibernate.AnnotationException;\r\n    import org.hibernate.MappingException;\r\n    import org.hibernate.annotations.ManyToAny;\r\n    import org.hibernate.annotations.Target;\r\n    import org.hibernate.annotations.Type;\r\n    import org.hibernate.annotations.common.reflection.XClass;\r\n    import org.hibernate.annotations.common.reflection.XProperty;\r\n    import org.hibernate.boot.jaxb.Origin;\r\n    import org.hibernate.boot.jaxb.SourceType;\r\n    import org.hibernate.cfg.annotations.HCANNHelper;\r\n    import org.hibernate.internal.CoreMessageLogger;\r\n    import org.hibernate.internal.util.StringHelper;\r\n    \r\n    import org.jboss.logging.Logger;\r\n    \r\n    /**\r\n     * A helper class to keep the {@code XProperty}s of a class ordered by access type.\r\n     *\r\n     * @author Hardy Ferentschik\r\n     */\r\n    class PropertyContainer {\r\n    //\r\n    //    static {\r\n    //        System.setProperty(&quot;jboss.i18n.generate-proxies&quot;, &quot;true&quot;);\r\n    //    }\r\n    \r\n    \tprivate static final CoreMessageLogger LOG = Logger.getMessageLogger(CoreMessageLogger.class, PropertyContainer.class.getName());\r\n    \r\n    \t/**\r\n    \t * The class for which this container is created.\r\n    \t */\r\n    \tprivate final XClass xClass;\r\n    \tprivate final XClass entityAtStake;\r\n    \r\n    \t/**\r\n    \t * Holds the AccessType indicated for use at the class/container-level for cases where persistent attribute\r\n    \t * did not specify.\r\n    \t */\r\n    \tprivate final AccessType classLevelAccessType;\r\n    \r\n    \tprivate final TreeMap&lt;String, XProperty&gt; persistentAttributeMap;\r\n    \r\n    \tPropertyContainer(XClass clazz, XClass entityAtStake, AccessType defaultClassLevelAccessType) {\r\n    \t\tthis.xClass = clazz;\r\n    \t\tthis.entityAtStake = entityAtStake;\r\n    \r\n    \t\tif ( defaultClassLevelAccessType == AccessType.DEFAULT ) {\r\n    \t\t\t// this is effectively what the old code did when AccessType.DEFAULT was passed in\r\n    \t\t\t// to getProperties(AccessType) from AnnotationBinder and InheritanceState\r\n    \t\t\tdefaultClassLevelAccessType = AccessType.PROPERTY;\r\n    \t\t}\r\n    \r\n    \t\tAccessType localClassLevelAccessType = determineLocalClassDefinedAccessStrategy();\r\n    \t\tassert localClassLevelAccessType != null;\r\n    \r\n    \t\tthis.classLevelAccessType = localClassLevelAccessType != AccessType.DEFAULT\r\n    \t\t\t\t? localClassLevelAccessType\r\n    \t\t\t\t: defaultClassLevelAccessType;\r\n    \t\tassert classLevelAccessType == AccessType.FIELD || classLevelAccessType == AccessType.PROPERTY;\r\n    \r\n    \t\tthis.persistentAttributeMap = new TreeMap&lt;String, XProperty&gt;();\r\n    \r\n    \t\tfinal List&lt;XProperty&gt; fields = xClass.getDeclaredProperties( AccessType.FIELD.getType() );\r\n    \t\tfinal List&lt;XProperty&gt; getters = xClass.getDeclaredProperties( AccessType.PROPERTY.getType() );\r\n    \r\n    \t\tpreFilter( fields, getters );\r\n    \r\n    \t\tfinal Map&lt;String,XProperty&gt; persistentAttributesFromGetters = new HashMap&lt;String, XProperty&gt;();\r\n    \r\n    \t\tcollectPersistentAttributesUsingLocalAccessType(\r\n    \t\t\t\tpersistentAttributeMap,\r\n    \t\t\t\tpersistentAttributesFromGetters,\r\n    \t\t\t\tfields,\r\n    \t\t\t\tgetters\r\n    \t\t);\r\n    \t\tcollectPersistentAttributesUsingClassLevelAccessType(\r\n    \t\t\t\tpersistentAttributeMap,\r\n    \t\t\t\tpersistentAttributesFromGetters,\r\n    \t\t\t\tfields,\r\n    \t\t\t\tgetters\r\n    \t\t);\r\n    \t}\r\n    \r\n    \tprivate void preFilter(List&lt;XProperty&gt; fields, List&lt;XProperty&gt; getters) {\r\n    \t\tIterator&lt;XProperty&gt; propertyIterator = fields.iterator();\r\n    \t\twhile ( propertyIterator.hasNext() ) {\r\n    \t\t\tfinal XProperty property = propertyIterator.next();\r\n    \t\t\tif ( mustBeSkipped( property ) ) {\r\n    \t\t\t\tpropertyIterator.remove();\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t\tpropertyIterator = getters.iterator();\r\n    \t\twhile ( propertyIterator.hasNext() ) {\r\n    \t\t\tfinal XProperty property = propertyIterator.next();\r\n    \t\t\tif ( mustBeSkipped( property ) ) {\r\n    \t\t\t\tpropertyIterator.remove();\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tprivate void collectPersistentAttributesUsingLocalAccessType(\r\n    \t\t\tTreeMap&lt;String, XProperty&gt; persistentAttributeMap,\r\n    \t\t\tMap&lt;String,XProperty&gt; persistentAttributesFromGetters,\r\n    \t\t\tList&lt;XProperty&gt; fields,\r\n    \t\t\tList&lt;XProperty&gt; getters) {\r\n    \r\n    \t\t// Check fields...\r\n    \t\tIterator&lt;XProperty&gt; propertyIterator = fields.iterator();\r\n    \t\twhile ( propertyIterator.hasNext() ) {\r\n    \t\t\tfinal XProperty xProperty = propertyIterator.next();\r\n    \t\t\tfinal Access localAccessAnnotation = xProperty.getAnnotation( Access.class );\r\n    \t\t\tif ( localAccessAnnotation == null\r\n    \t\t\t\t\t|| localAccessAnnotation.value() != javax.persistence.AccessType.FIELD ) {\r\n    \t\t\t\tcontinue;\r\n    \t\t\t}\r\n    \r\n    \t\t\tpropertyIterator.remove();\r\n    \t\t\tpersistentAttributeMap.put( xProperty.getName(), xProperty );\r\n    \t\t}\r\n    \r\n    \t\t// Check getters...\r\n    \t\tpropertyIterator = getters.iterator();\r\n    \t\twhile ( propertyIterator.hasNext() ) {\r\n    \t\t\tfinal XProperty xProperty = propertyIterator.next();\r\n    \t\t\tfinal Access localAccessAnnotation = xProperty.getAnnotation( Access.class );\r\n    \t\t\tif ( localAccessAnnotation == null\r\n    \t\t\t\t\t|| localAccessAnnotation.value() != javax.persistence.AccessType.PROPERTY ) {\r\n    \t\t\t\tcontinue;\r\n    \t\t\t}\r\n    \r\n    \t\t\tpropertyIterator.remove();\r\n    \r\n    \t\t\tfinal String name = xProperty.getName();\r\n    \r\n    \t\t\t// HHH-10242 detect registration of the same property getter twice - eg boolean isId() + UUID getId()\r\n    \t\t\tfinal XProperty previous = persistentAttributesFromGetters.get( name );\r\n    \t\t\tif ( previous != null ) {\r\n    \t\t\t\tthrow new org.hibernate.boot.MappingException(\r\n    \t\t\t\t\t\tLOG.ambiguousPropertyMethods(\r\n    \t\t\t\t\t\t\t\txClass.getName(),\r\n    \t\t\t\t\t\t\t\tHCANNHelper.annotatedElementSignature( previous ),\r\n    \t\t\t\t\t\t\t\tHCANNHelper.annotatedElementSignature( xProperty )\r\n    \t\t\t\t\t\t),\r\n    \t\t\t\t\t\tnew Origin( SourceType.ANNOTATION, xClass.getName() )\r\n    \t\t\t\t);\r\n    \t\t\t}\r\n    \r\n    \t\t\tpersistentAttributeMap.put( name, xProperty );\r\n    \t\t\tpersistentAttributesFromGetters.put( name, xProperty );\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tprivate void collectPersistentAttributesUsingClassLevelAccessType(\r\n    \t\t\tTreeMap&lt;String, XProperty&gt; persistentAttributeMap,\r\n    \t\t\tMap&lt;String,XProperty&gt; persistentAttributesFromGetters,\r\n    \t\t\tList&lt;XProperty&gt; fields,\r\n    \t\t\tList&lt;XProperty&gt; getters) {\r\n    \t\tif ( classLevelAccessType == AccessType.FIELD ) {\r\n    \t\t\tfor ( XProperty field : fields ) {\r\n    \t\t\t\tif ( persistentAttributeMap.containsKey( field.getName() ) ) {\r\n    \t\t\t\t\tcontinue;\r\n    \t\t\t\t}\r\n    \r\n    \t\t\t\tpersistentAttributeMap.put( field.getName(), field );\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\telse {\r\n    \t\t\tfor ( XProperty getter : getters ) {\r\n    \t\t\t\tfinal String name = getter.getName();\r\n    \r\n    \t\t\t\t// HHH-10242 detect registration of the same property getter twice - eg boolean isId() + UUID getId()\r\n    \t\t\t\tfinal XProperty previous = persistentAttributesFromGetters.get( name );\r\n    \t\t\t\tif ( previous != null ) {\r\n    \t\t\t\t\tthrow new org.hibernate.boot.MappingException(\r\n    \t\t\t\t\t\t\tLOG.ambiguousPropertyMethods(\r\n    \t\t\t\t\t\t\t\t\txClass.getName(),\r\n    \t\t\t\t\t\t\t\t\tHCANNHelper.annotatedElementSignature( previous ),\r\n    \t\t\t\t\t\t\t\t\tHCANNHelper.annotatedElementSignature( getter )\r\n    \t\t\t\t\t\t\t),\r\n    \t\t\t\t\t\t\tnew Origin( SourceType.ANNOTATION, xClass.getName() )\r\n    \t\t\t\t\t);\r\n    \t\t\t\t}\r\n    \r\n    \t\t\t\tif ( persistentAttributeMap.containsKey( name ) ) {\r\n    \t\t\t\t\tcontinue;\r\n    \t\t\t\t}\r\n    \r\n    \t\t\t\tpersistentAttributeMap.put( getter.getName(), getter );\r\n    \t\t\t\tpersistentAttributesFromGetters.put( name, getter );\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic XClass getEntityAtStake() {\r\n    \t\treturn entityAtStake;\r\n    \t}\r\n    \r\n    \tpublic XClass getDeclaringClass() {\r\n    \t\treturn xClass;\r\n    \t}\r\n    \r\n    \tpublic AccessType getClassLevelAccessType() {\r\n    \t\treturn classLevelAccessType;\r\n    \t}\r\n    \r\n    \tpublic Collection&lt;XProperty&gt; getProperties() {\r\n    \t\tassertTypesAreResolvable();\r\n    \t\treturn Collections.unmodifiableCollection( persistentAttributeMap.values() );\r\n    \t}\r\n    \r\n    \tprivate void assertTypesAreResolvable() {\r\n    \t\tfor ( XProperty xProperty : persistentAttributeMap.values() ) {\r\n    \t\t\tif ( !xProperty.isTypeResolved() &amp;&amp; !discoverTypeWithoutReflection( xProperty ) ) {\r\n    \t\t\t\tString msg = &quot;Property &quot; + StringHelper.qualify( xClass.getName(), xProperty.getName() ) +\r\n    \t\t\t\t\t\t&quot; has an unbound type and no explicit target entity. Resolve this Generic usage issue&quot; +\r\n    \t\t\t\t\t\t&quot; or set an explicit target attribute (eg @OneToMany(target=) or use an explicit @Type&quot;;\r\n    \t\t\t\tthrow new AnnotationException( msg );\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    //\r\n    //\tprivate void considerExplicitFieldAndPropertyAccess() {\r\n    //\t\tfor ( XProperty property : fieldAccessMap.values() ) {\r\n    //\t\t\tAccess access = property.getAnnotation( Access.class );\r\n    //\t\t\tif ( access == null ) {\r\n    //\t\t\t\tcontinue;\r\n    //\t\t\t}\r\n    //\r\n    //\t\t\t// see &quot;2.3.2 Explicit Access Type&quot; of JPA 2 spec\r\n    //\t\t\t// the access type for this property is explicitly set to AccessType.FIELD, hence we have to\r\n    //\t\t\t// use field access for this property even if the default access type for the class is AccessType.PROPERTY\r\n    //\t\t\tAccessType accessType = AccessType.getAccessStrategy( access.value() );\r\n    //            if (accessType == AccessType.FIELD) {\r\n    //\t\t\t\tpropertyAccessMap.put(property.getName(), property);\r\n    //\t\t\t}\r\n    //            else {\r\n    //\t\t\t\tLOG.debug( &quot;Placing @Access(AccessType.FIELD) on a field does not have any effect.&quot; );\r\n    //\t\t\t}\r\n    //\t\t}\r\n    //\r\n    //\t\tfor ( XProperty property : propertyAccessMap.values() ) {\r\n    //\t\t\tAccess access = property.getAnnotation( Access.class );\r\n    //\t\t\tif ( access == null ) {\r\n    //\t\t\t\tcontinue;\r\n    //\t\t\t}\r\n    //\r\n    //\t\t\tAccessType accessType = AccessType.getAccessStrategy( access.value() );\r\n    //\r\n    //\t\t\t// see &quot;2.3.2 Explicit Access Type&quot; of JPA 2 spec\r\n    //\t\t\t// the access type for this property is explicitly set to AccessType.PROPERTY, hence we have to\r\n    //\t\t\t// return use method access even if the default class access type is AccessType.FIELD\r\n    //            if (accessType == AccessType.PROPERTY) {\r\n    //\t\t\t\tfieldAccessMap.put(property.getName(), property);\r\n    //\t\t\t}\r\n    //            else {\r\n    //\t\t\t\tLOG.debug( &quot;Placing @Access(AccessType.PROPERTY) on a field does not have any effect.&quot; );\r\n    //\t\t\t}\r\n    //\t\t}\r\n    //\t}\r\n    \r\n    //\t/**\r\n    //\t * Retrieves all properties from the {@code xClass} with the specified access type. This method does not take\r\n    //\t * any jpa access rules/annotations into account yet.\r\n    //\t *\r\n    //\t * @param access The access type - {@code AccessType.FIELD}  or {@code AccessType.Property}\r\n    //\t *\r\n    //\t * @return A maps of the properties with the given access type keyed against their property name\r\n    //\t */\r\n    //\tprivate TreeMap&lt;String, XProperty&gt; initProperties(AccessType access) {\r\n    //\t\tif ( !( AccessType.PROPERTY.equals( access ) || AccessType.FIELD.equals( access ) ) ) {\r\n    //\t\t\tthrow new IllegalArgumentException( &quot;Access type has to be AccessType.FIELD or AccessType.Property&quot; );\r\n    //\t\t}\r\n    //\r\n    //\t\t//order so that property are used in the same order when binding native query\r\n    //\t\tTreeMap&lt;String, XProperty&gt; propertiesMap = new TreeMap&lt;String, XProperty&gt;();\r\n    //\t\tList&lt;XProperty&gt; properties = xClass.getDeclaredProperties( access.getType() );\r\n    //\t\tfor ( XProperty property : properties ) {\r\n    //\t\t\tif ( mustBeSkipped( property ) ) {\r\n    //\t\t\t\tcontinue;\r\n    //\t\t\t}\r\n    //\t\t\t// HHH-10242 detect registration of the same property twice eg boolean isId() + UUID getId()\r\n    //\t\t\tXProperty oldProperty = propertiesMap.get( property.getName() );\r\n    //\t\t\tif ( oldProperty != null ) {\r\n    //\t\t\t\tthrow new org.hibernate.boot.MappingException(\r\n    //\t\t\t\t\t\tLOG.ambiguousPropertyMethods(\r\n    //\t\t\t\t\t\t\t\txClass.getName(),\r\n    //\t\t\t\t\t\t\t\tHCANNHelper.annotatedElementSignature( oldProperty ),\r\n    //\t\t\t\t\t\t\t\tHCANNHelper.annotatedElementSignature( property )\r\n    //\t\t\t\t\t\t),\r\n    //\t\t\t\t\t\tnew Origin( SourceType.ANNOTATION, xClass.getName() )\r\n    //\t\t\t\t);\r\n    //\t\t\t}\r\n    //\r\n    //\t\t\tpropertiesMap.put( property.getName(), property );\r\n    //\t\t}\r\n    //\t\treturn propertiesMap;\r\n    //\t}\r\n    \r\n    \tprivate AccessType determineLocalClassDefinedAccessStrategy() {\r\n    \t\tAccessType classDefinedAccessType;\r\n    \r\n    \t\tAccessType hibernateDefinedAccessType = AccessType.DEFAULT;\r\n    \t\tAccessType jpaDefinedAccessType = AccessType.DEFAULT;\r\n    \r\n    \t\torg.hibernate.annotations.AccessType accessType = xClass.getAnnotation( org.hibernate.annotations.AccessType.class );\r\n    \t\tif ( accessType != null ) {\r\n    \t\t\thibernateDefinedAccessType = AccessType.getAccessStrategy( accessType.value() );\r\n    \t\t}\r\n    \r\n    \t\tAccess access = xClass.getAnnotation( Access.class );\r\n    \t\tif ( access != null ) {\r\n    \t\t\tjpaDefinedAccessType = AccessType.getAccessStrategy( access.value() );\r\n    \t\t}\r\n    \r\n    \t\tif ( hibernateDefinedAccessType != AccessType.DEFAULT\r\n    \t\t\t\t&amp;&amp; jpaDefinedAccessType != AccessType.DEFAULT\r\n    \t\t\t\t&amp;&amp; hibernateDefinedAccessType != jpaDefinedAccessType ) {\r\n    \t\t\tthrow new MappingException(\r\n    \t\t\t\t\t&quot;@AccessType and @Access specified with contradicting values. Use of @Access only is recommended. &quot;\r\n    \t\t\t);\r\n    \t\t}\r\n    \r\n    \t\tif ( hibernateDefinedAccessType != AccessType.DEFAULT ) {\r\n    \t\t\tclassDefinedAccessType = hibernateDefinedAccessType;\r\n    \t\t}\r\n    \t\telse {\r\n    \t\t\tclassDefinedAccessType = jpaDefinedAccessType;\r\n    \t\t}\r\n    \t\treturn classDefinedAccessType;\r\n    \t}\r\n    \r\n    \tprivate static boolean discoverTypeWithoutReflection(XProperty p) {\r\n    \t\tif ( p.isAnnotationPresent( OneToOne.class ) &amp;&amp; !p.getAnnotation( OneToOne.class )\r\n    \t\t\t\t.targetEntity()\r\n    \t\t\t\t.equals( void.class ) ) {\r\n    \t\t\treturn true;\r\n    \t\t}\r\n    \t\telse if ( p.isAnnotationPresent( OneToMany.class ) &amp;&amp; !p.getAnnotation( OneToMany.class )\r\n    \t\t\t\t.targetEntity()\r\n    \t\t\t\t.equals( void.class ) ) {\r\n    \t\t\treturn true;\r\n    \t\t}\r\n    \t\telse if ( p.isAnnotationPresent( ManyToOne.class ) &amp;&amp; !p.getAnnotation( ManyToOne.class )\r\n    \t\t\t\t.targetEntity()\r\n    \t\t\t\t.equals( void.class ) ) {\r\n    \t\t\treturn true;\r\n    \t\t}\r\n    \t\telse if ( p.isAnnotationPresent( ManyToMany.class ) &amp;&amp; !p.getAnnotation( ManyToMany.class )\r\n    \t\t\t\t.targetEntity()\r\n    \t\t\t\t.equals( void.class ) ) {\r\n    \t\t\treturn true;\r\n    \t\t}\r\n    \t\telse if ( p.isAnnotationPresent( org.hibernate.annotations.Any.class ) ) {\r\n    \t\t\treturn true;\r\n    \t\t}\r\n    \t\telse if ( p.isAnnotationPresent( ManyToAny.class ) ) {\r\n    \t\t\tif ( !p.isCollection() &amp;&amp; !p.isArray() ) {\r\n    \t\t\t\tthrow new AnnotationException( &quot;@ManyToAny used on a non collection non array property: &quot; + p.getName() );\r\n    \t\t\t}\r\n    \t\t\treturn true;\r\n    \t\t}\r\n    \t\telse if ( p.isAnnotationPresent( Type.class ) ) {\r\n    \t\t\treturn true;\r\n    \t\t}\r\n    \t\telse if ( p.isAnnotationPresent( Target.class ) ) {\r\n    \t\t\treturn true;\r\n    \t\t}\r\n    \t\treturn false;\r\n    \t}\r\n    \r\n    \tprivate static boolean mustBeSkipped(XProperty property) {\r\n    \t\t//TODO make those hardcoded tests more portable (through the bytecode provider?)\r\n    \t\treturn property.isAnnotationPresent( Transient.class )\r\n    \t\t\t\t|| &quot;net.sf.cglib.transform.impl.InterceptFieldCallback&quot;.equals( property.getType().getName() )\r\n    \t\t\t\t|| &quot;org.hibernate.bytecode.internal.javassist.FieldHandler&quot;.equals( property.getType().getName() );\r\n    \t}\r\n    }\r\n\r\nFixed the Organization class.\r\n\r\n    import javax.persistence.Column;\r\n    import javax.persistence.Entity;\r\n    import javax.persistence.GeneratedValue;\r\n    import javax.persistence.Id;\r\n    \r\n    @Entity\r\n    public class Organization {\r\n        @Id\r\n        @GeneratedValue\r\n        private Long id;\r\n    \r\n        @Column(unique = true, nullable = false)\r\n        private String organizationNumber;\r\n    \r\n        @Column(nullable = false)\r\n        private String name;\r\n    \r\n        public Organization() {\r\n        }\r\n    \r\n        public Organization(String name) {\r\n            this.name = name;\r\n        }\r\n    \r\n        public Long getId() {\r\n            return id;\r\n        }\r\n    \r\n        @SuppressWarnings(&quot;unused&quot;)\r\n        public void setId(Long id) {\r\n            this.id = id;\r\n        }\r\n    \r\n        public String getOrganizationNumber() {\r\n            return organizationNumber;\r\n        }\r\n    \r\n        public void setOrganizationNumber(String organizationNumber) {\r\n            this.organizationNumber = organizationNumber;\r\n        }\r\n    \r\n        public String getName() {\r\n            return name;\r\n        }\r\n    \r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return this.name + &quot; &quot; + this.organizationNumber;\r\n        }\r\n    }\r\n\r\nStart the Spring Boot App. See the result in the console.\r\n\r\n    Hibernate: create table organization (id bigint not null, organization_number varchar(255) not null, name varchar(255) not null, primary key (id)) engine=InnoDB\r\n\r\nIn the database see the desc result.\r\n\r\n    mysql&gt; desc organization;\r\n    +---------------------+--------------+------+-----+---------+-------+\r\n    | Field               | Type         | Null | Key | Default | Extra |\r\n    +---------------------+--------------+------+-----+---------+-------+\r\n    | id                  | bigint(20)   | NO   | PRI | NULL    |       |\r\n    | organization_number | varchar(255) | NO   | UNI | NULL    |       |\r\n    | name                | varchar(255) | NO   |     | NULL    |       |\r\n    +---------------------+--------------+------+-----+---------+-------+\r\n    3 rows in set (0.00 sec)\r\n\r\n---\r\n\r\n### Supplement on Inheritance\r\n\r\nIf you want use the inherit some parent class like Auditing class. The above answer is not enough. \r\n\r\nYou can copy `InheritanceState.class` like above approach and create the `InheritanceState.class` into `org.hibernate.cfg package`.\r\n\r\nModify the two line, just fixed the sorting.\r\n```\r\npublic class InheritanceState {\r\n    // ...\r\n    private void getMappedSuperclassesTillNextEntityOrdered() {\r\n\r\n        //ordered to allow proper messages on properties subclassing\r\n        XClass currentClassInHierarchy = clazz;\r\n        InheritanceState superclassState;\r\n        do {\r\n\t\t      // mark this \r\n//            classesToProcessForMappedSuperclass.add( 0, currentClassInHierarchy );\r\n\r\n\t\t\t// fixed the sorting, add this \r\n            classesToProcessForMappedSuperclass.add( currentClassInHierarchy );\r\n            \r\n\t\t    // ...\r\n        }\r\n        // ... \r\n    }\r\n\t\r\n   private void addMappedSuperClassInMetadata(PersistentClass persistentClass) {\r\n        //add @MappedSuperclass in the metadata\r\n        // classes from 0 to n-1 are @MappedSuperclass and should be linked\r\n        org.hibernate.mapping.MappedSuperclass mappedSuperclass = null;\r\n        final InheritanceState superEntityState =\r\n                InheritanceState.getInheritanceStateOfSuperEntity( clazz, inheritanceStatePerClass );\r\n        PersistentClass superEntity =\r\n                superEntityState != null ?\r\n                        buildingContext.getMetadataCollector().getEntityBinding( superEntityState.getClazz().getName() ) :\r\n                        null;\r\n        final int lastMappedSuperclass = classesToProcessForMappedSuperclass.size() - 1;\r\n\t\t\r\n\t\t// mark this \r\n//        for ( int index = 0; index &lt; lastMappedSuperclass; index++ ) {\r\n\r\n\t\t// fixed the sorting, add this \r\n        for ( int index = lastMappedSuperclass; index &gt; 0; index-- ) {\r\n            // ...\r\n        }\r\n        // ...\r\n    }\t\r\n}\r\n```\r\n\r\nThe demo class.\r\n```\r\n@MappedSuperclass\r\n@EntityListeners(AuditingEntityListener.class)\r\npublic abstract class AuditableEntity {\r\n    @CreatedBy\r\n    @Column(name = &quot;created_by&quot;)\r\n    private String createdBy;\r\n\r\n    @LastModifiedBy\r\n    @Column(name = &quot;last_modified_by&quot;)\r\n    private String lastModifiedBy;\r\n\r\n    @LastModifiedDate\r\n    @Column(name = &quot;update_time&quot;)\r\n    private ZonedDateTime updatedTime;\r\n\r\n    @CreatedDate\r\n    @Column(name = &quot;create_time&quot;)\r\n    private ZonedDateTime createTime;\r\n}\r\n\r\n@Entity\r\npublic class OrganizationAudit extends AuditableEntity {\r\n   // same field with Organization.class...\r\n}\r\n```\r\n\r\nIn console result.\r\n```\r\ncreate table organization_audit (id bigint not null, organization_number varchar(255) not null, name varchar(255) not null, created_by varchar(255), last_modified_by varchar(255), update_time datetime, create_time datetime, primary key (id)) engine=InnoDB\r\n```\r\n\r\nIn database result.\r\n```\r\nmysql&gt; desc organization_audit;\r\n+---------------------+--------------+------+-----+---------+-------+\r\n| Field               | Type         | Null | Key | Default | Extra |\r\n+---------------------+--------------+------+-----+---------+-------+\r\n| id                  | bigint(20)   | NO   | PRI | NULL    |       |\r\n| organization_number | varchar(255) | NO   | UNI | NULL    |       |\r\n| name                | varchar(255) | NO   |     | NULL    |       |\r\n| created_by          | varchar(255) | YES  |     | NULL    |       |\r\n| last_modified_by    | varchar(255) | YES  |     | NULL    |       |\r\n| update_time         | datetime     | YES  |     | NULL    |       |\r\n| create_time         | datetime     | YES  |     | NULL    |       |\r\n+---------------------+--------------+------+-----+---------+-------+\r\n7 rows in set (0.00 sec)\r\n```\r\n\r\nThe sample project is [here](https://github.com/changemyminds/Demo-Spring-JPA-Generate-Table).","title":"Wrong ordering in generated table in jpa","body":"<p>I have the same problem. Finally, I found the solution.</p>\n<p>Find your External Libraries about hibernate core and find the <code>org.hibernate.cfg.PropertyContainer</code> class and copy the content. <br></p>\n<p><a href=\"https://i.stack.imgur.com/2vGBJ.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/2vGBJ.png\" alt=\"enter image description here\" /></a></p>\n<p>In your root folder create the <code>org.hibernate.cfg</code> package and <code>PropertyContainer</code> class.<br>\n<a href=\"https://i.stack.imgur.com/s3q5u.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/s3q5u.png\" alt=\"enter image description here\" /></a></p>\n<p>Paste the <code>org.hibernate.cfg.PropertyContainer</code> content and replace all <code>TreeMap</code> to <code>LinkedHashMap</code> in your create <code>PropertyContainer</code> class.</p>\n<pre><code>/*\n * Hibernate, Relational Persistence for Idiomatic Java\n *\n * License: GNU Lesser General Public License (LGPL), version 2.1 or later.\n * See the lgpl.txt file in the root directory or &lt;http://www.gnu.org/licenses/lgpl-2.1.html&gt;.\n */\n\n// $Id$\n\npackage org.hibernate.cfg;\n\nimport java.util.Collection;\nimport java.util.Collections;\nimport java.util.HashMap;\nimport java.util.Iterator;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.TreeMap;\nimport javax.persistence.Access;\nimport javax.persistence.ManyToMany;\nimport javax.persistence.ManyToOne;\nimport javax.persistence.OneToMany;\nimport javax.persistence.OneToOne;\nimport javax.persistence.Transient;\n\nimport org.hibernate.AnnotationException;\nimport org.hibernate.MappingException;\nimport org.hibernate.annotations.ManyToAny;\nimport org.hibernate.annotations.Target;\nimport org.hibernate.annotations.Type;\nimport org.hibernate.annotations.common.reflection.XClass;\nimport org.hibernate.annotations.common.reflection.XProperty;\nimport org.hibernate.boot.jaxb.Origin;\nimport org.hibernate.boot.jaxb.SourceType;\nimport org.hibernate.cfg.annotations.HCANNHelper;\nimport org.hibernate.internal.CoreMessageLogger;\nimport org.hibernate.internal.util.StringHelper;\n\nimport org.jboss.logging.Logger;\n\n/**\n * A helper class to keep the {@code XProperty}s of a class ordered by access type.\n *\n * @author Hardy Ferentschik\n */\nclass PropertyContainer {\n//\n//    static {\n//        System.setProperty(&quot;jboss.i18n.generate-proxies&quot;, &quot;true&quot;);\n//    }\n\n    private static final CoreMessageLogger LOG = Logger.getMessageLogger(CoreMessageLogger.class, PropertyContainer.class.getName());\n\n    /**\n     * The class for which this container is created.\n     */\n    private final XClass xClass;\n    private final XClass entityAtStake;\n\n    /**\n     * Holds the AccessType indicated for use at the class/container-level for cases where persistent attribute\n     * did not specify.\n     */\n    private final AccessType classLevelAccessType;\n\n    private final TreeMap&lt;String, XProperty&gt; persistentAttributeMap;\n\n    PropertyContainer(XClass clazz, XClass entityAtStake, AccessType defaultClassLevelAccessType) {\n        this.xClass = clazz;\n        this.entityAtStake = entityAtStake;\n\n        if ( defaultClassLevelAccessType == AccessType.DEFAULT ) {\n            // this is effectively what the old code did when AccessType.DEFAULT was passed in\n            // to getProperties(AccessType) from AnnotationBinder and InheritanceState\n            defaultClassLevelAccessType = AccessType.PROPERTY;\n        }\n\n        AccessType localClassLevelAccessType = determineLocalClassDefinedAccessStrategy();\n        assert localClassLevelAccessType != null;\n\n        this.classLevelAccessType = localClassLevelAccessType != AccessType.DEFAULT\n                ? localClassLevelAccessType\n                : defaultClassLevelAccessType;\n        assert classLevelAccessType == AccessType.FIELD || classLevelAccessType == AccessType.PROPERTY;\n\n        this.persistentAttributeMap = new TreeMap&lt;String, XProperty&gt;();\n\n        final List&lt;XProperty&gt; fields = xClass.getDeclaredProperties( AccessType.FIELD.getType() );\n        final List&lt;XProperty&gt; getters = xClass.getDeclaredProperties( AccessType.PROPERTY.getType() );\n\n        preFilter( fields, getters );\n\n        final Map&lt;String,XProperty&gt; persistentAttributesFromGetters = new HashMap&lt;String, XProperty&gt;();\n\n        collectPersistentAttributesUsingLocalAccessType(\n                persistentAttributeMap,\n                persistentAttributesFromGetters,\n                fields,\n                getters\n        );\n        collectPersistentAttributesUsingClassLevelAccessType(\n                persistentAttributeMap,\n                persistentAttributesFromGetters,\n                fields,\n                getters\n        );\n    }\n\n    private void preFilter(List&lt;XProperty&gt; fields, List&lt;XProperty&gt; getters) {\n        Iterator&lt;XProperty&gt; propertyIterator = fields.iterator();\n        while ( propertyIterator.hasNext() ) {\n            final XProperty property = propertyIterator.next();\n            if ( mustBeSkipped( property ) ) {\n                propertyIterator.remove();\n            }\n        }\n\n        propertyIterator = getters.iterator();\n        while ( propertyIterator.hasNext() ) {\n            final XProperty property = propertyIterator.next();\n            if ( mustBeSkipped( property ) ) {\n                propertyIterator.remove();\n            }\n        }\n    }\n\n    private void collectPersistentAttributesUsingLocalAccessType(\n            TreeMap&lt;String, XProperty&gt; persistentAttributeMap,\n            Map&lt;String,XProperty&gt; persistentAttributesFromGetters,\n            List&lt;XProperty&gt; fields,\n            List&lt;XProperty&gt; getters) {\n\n        // Check fields...\n        Iterator&lt;XProperty&gt; propertyIterator = fields.iterator();\n        while ( propertyIterator.hasNext() ) {\n            final XProperty xProperty = propertyIterator.next();\n            final Access localAccessAnnotation = xProperty.getAnnotation( Access.class );\n            if ( localAccessAnnotation == null\n                    || localAccessAnnotation.value() != javax.persistence.AccessType.FIELD ) {\n                continue;\n            }\n\n            propertyIterator.remove();\n            persistentAttributeMap.put( xProperty.getName(), xProperty );\n        }\n\n        // Check getters...\n        propertyIterator = getters.iterator();\n        while ( propertyIterator.hasNext() ) {\n            final XProperty xProperty = propertyIterator.next();\n            final Access localAccessAnnotation = xProperty.getAnnotation( Access.class );\n            if ( localAccessAnnotation == null\n                    || localAccessAnnotation.value() != javax.persistence.AccessType.PROPERTY ) {\n                continue;\n            }\n\n            propertyIterator.remove();\n\n            final String name = xProperty.getName();\n\n            // HHH-10242 detect registration of the same property getter twice - eg boolean isId() + UUID getId()\n            final XProperty previous = persistentAttributesFromGetters.get( name );\n            if ( previous != null ) {\n                throw new org.hibernate.boot.MappingException(\n                        LOG.ambiguousPropertyMethods(\n                                xClass.getName(),\n                                HCANNHelper.annotatedElementSignature( previous ),\n                                HCANNHelper.annotatedElementSignature( xProperty )\n                        ),\n                        new Origin( SourceType.ANNOTATION, xClass.getName() )\n                );\n            }\n\n            persistentAttributeMap.put( name, xProperty );\n            persistentAttributesFromGetters.put( name, xProperty );\n        }\n    }\n\n    private void collectPersistentAttributesUsingClassLevelAccessType(\n            TreeMap&lt;String, XProperty&gt; persistentAttributeMap,\n            Map&lt;String,XProperty&gt; persistentAttributesFromGetters,\n            List&lt;XProperty&gt; fields,\n            List&lt;XProperty&gt; getters) {\n        if ( classLevelAccessType == AccessType.FIELD ) {\n            for ( XProperty field : fields ) {\n                if ( persistentAttributeMap.containsKey( field.getName() ) ) {\n                    continue;\n                }\n\n                persistentAttributeMap.put( field.getName(), field );\n            }\n        }\n        else {\n            for ( XProperty getter : getters ) {\n                final String name = getter.getName();\n\n                // HHH-10242 detect registration of the same property getter twice - eg boolean isId() + UUID getId()\n                final XProperty previous = persistentAttributesFromGetters.get( name );\n                if ( previous != null ) {\n                    throw new org.hibernate.boot.MappingException(\n                            LOG.ambiguousPropertyMethods(\n                                    xClass.getName(),\n                                    HCANNHelper.annotatedElementSignature( previous ),\n                                    HCANNHelper.annotatedElementSignature( getter )\n                            ),\n                            new Origin( SourceType.ANNOTATION, xClass.getName() )\n                    );\n                }\n\n                if ( persistentAttributeMap.containsKey( name ) ) {\n                    continue;\n                }\n\n                persistentAttributeMap.put( getter.getName(), getter );\n                persistentAttributesFromGetters.put( name, getter );\n            }\n        }\n    }\n\n    public XClass getEntityAtStake() {\n        return entityAtStake;\n    }\n\n    public XClass getDeclaringClass() {\n        return xClass;\n    }\n\n    public AccessType getClassLevelAccessType() {\n        return classLevelAccessType;\n    }\n\n    public Collection&lt;XProperty&gt; getProperties() {\n        assertTypesAreResolvable();\n        return Collections.unmodifiableCollection( persistentAttributeMap.values() );\n    }\n\n    private void assertTypesAreResolvable() {\n        for ( XProperty xProperty : persistentAttributeMap.values() ) {\n            if ( !xProperty.isTypeResolved() &amp;&amp; !discoverTypeWithoutReflection( xProperty ) ) {\n                String msg = &quot;Property &quot; + StringHelper.qualify( xClass.getName(), xProperty.getName() ) +\n                        &quot; has an unbound type and no explicit target entity. Resolve this Generic usage issue&quot; +\n                        &quot; or set an explicit target attribute (eg @OneToMany(target=) or use an explicit @Type&quot;;\n                throw new AnnotationException( msg );\n            }\n        }\n    }\n//\n//  private void considerExplicitFieldAndPropertyAccess() {\n//      for ( XProperty property : fieldAccessMap.values() ) {\n//          Access access = property.getAnnotation( Access.class );\n//          if ( access == null ) {\n//              continue;\n//          }\n//\n//          // see &quot;2.3.2 Explicit Access Type&quot; of JPA 2 spec\n//          // the access type for this property is explicitly set to AccessType.FIELD, hence we have to\n//          // use field access for this property even if the default access type for the class is AccessType.PROPERTY\n//          AccessType accessType = AccessType.getAccessStrategy( access.value() );\n//            if (accessType == AccessType.FIELD) {\n//              propertyAccessMap.put(property.getName(), property);\n//          }\n//            else {\n//              LOG.debug( &quot;Placing @Access(AccessType.FIELD) on a field does not have any effect.&quot; );\n//          }\n//      }\n//\n//      for ( XProperty property : propertyAccessMap.values() ) {\n//          Access access = property.getAnnotation( Access.class );\n//          if ( access == null ) {\n//              continue;\n//          }\n//\n//          AccessType accessType = AccessType.getAccessStrategy( access.value() );\n//\n//          // see &quot;2.3.2 Explicit Access Type&quot; of JPA 2 spec\n//          // the access type for this property is explicitly set to AccessType.PROPERTY, hence we have to\n//          // return use method access even if the default class access type is AccessType.FIELD\n//            if (accessType == AccessType.PROPERTY) {\n//              fieldAccessMap.put(property.getName(), property);\n//          }\n//            else {\n//              LOG.debug( &quot;Placing @Access(AccessType.PROPERTY) on a field does not have any effect.&quot; );\n//          }\n//      }\n//  }\n\n//  /**\n//   * Retrieves all properties from the {@code xClass} with the specified access type. This method does not take\n//   * any jpa access rules/annotations into account yet.\n//   *\n//   * @param access The access type - {@code AccessType.FIELD}  or {@code AccessType.Property}\n//   *\n//   * @return A maps of the properties with the given access type keyed against their property name\n//   */\n//  private TreeMap&lt;String, XProperty&gt; initProperties(AccessType access) {\n//      if ( !( AccessType.PROPERTY.equals( access ) || AccessType.FIELD.equals( access ) ) ) {\n//          throw new IllegalArgumentException( &quot;Access type has to be AccessType.FIELD or AccessType.Property&quot; );\n//      }\n//\n//      //order so that property are used in the same order when binding native query\n//      TreeMap&lt;String, XProperty&gt; propertiesMap = new TreeMap&lt;String, XProperty&gt;();\n//      List&lt;XProperty&gt; properties = xClass.getDeclaredProperties( access.getType() );\n//      for ( XProperty property : properties ) {\n//          if ( mustBeSkipped( property ) ) {\n//              continue;\n//          }\n//          // HHH-10242 detect registration of the same property twice eg boolean isId() + UUID getId()\n//          XProperty oldProperty = propertiesMap.get( property.getName() );\n//          if ( oldProperty != null ) {\n//              throw new org.hibernate.boot.MappingException(\n//                      LOG.ambiguousPropertyMethods(\n//                              xClass.getName(),\n//                              HCANNHelper.annotatedElementSignature( oldProperty ),\n//                              HCANNHelper.annotatedElementSignature( property )\n//                      ),\n//                      new Origin( SourceType.ANNOTATION, xClass.getName() )\n//              );\n//          }\n//\n//          propertiesMap.put( property.getName(), property );\n//      }\n//      return propertiesMap;\n//  }\n\n    private AccessType determineLocalClassDefinedAccessStrategy() {\n        AccessType classDefinedAccessType;\n\n        AccessType hibernateDefinedAccessType = AccessType.DEFAULT;\n        AccessType jpaDefinedAccessType = AccessType.DEFAULT;\n\n        org.hibernate.annotations.AccessType accessType = xClass.getAnnotation( org.hibernate.annotations.AccessType.class );\n        if ( accessType != null ) {\n            hibernateDefinedAccessType = AccessType.getAccessStrategy( accessType.value() );\n        }\n\n        Access access = xClass.getAnnotation( Access.class );\n        if ( access != null ) {\n            jpaDefinedAccessType = AccessType.getAccessStrategy( access.value() );\n        }\n\n        if ( hibernateDefinedAccessType != AccessType.DEFAULT\n                &amp;&amp; jpaDefinedAccessType != AccessType.DEFAULT\n                &amp;&amp; hibernateDefinedAccessType != jpaDefinedAccessType ) {\n            throw new MappingException(\n                    &quot;@AccessType and @Access specified with contradicting values. Use of @Access only is recommended. &quot;\n            );\n        }\n\n        if ( hibernateDefinedAccessType != AccessType.DEFAULT ) {\n            classDefinedAccessType = hibernateDefinedAccessType;\n        }\n        else {\n            classDefinedAccessType = jpaDefinedAccessType;\n        }\n        return classDefinedAccessType;\n    }\n\n    private static boolean discoverTypeWithoutReflection(XProperty p) {\n        if ( p.isAnnotationPresent( OneToOne.class ) &amp;&amp; !p.getAnnotation( OneToOne.class )\n                .targetEntity()\n                .equals( void.class ) ) {\n            return true;\n        }\n        else if ( p.isAnnotationPresent( OneToMany.class ) &amp;&amp; !p.getAnnotation( OneToMany.class )\n                .targetEntity()\n                .equals( void.class ) ) {\n            return true;\n        }\n        else if ( p.isAnnotationPresent( ManyToOne.class ) &amp;&amp; !p.getAnnotation( ManyToOne.class )\n                .targetEntity()\n                .equals( void.class ) ) {\n            return true;\n        }\n        else if ( p.isAnnotationPresent( ManyToMany.class ) &amp;&amp; !p.getAnnotation( ManyToMany.class )\n                .targetEntity()\n                .equals( void.class ) ) {\n            return true;\n        }\n        else if ( p.isAnnotationPresent( org.hibernate.annotations.Any.class ) ) {\n            return true;\n        }\n        else if ( p.isAnnotationPresent( ManyToAny.class ) ) {\n            if ( !p.isCollection() &amp;&amp; !p.isArray() ) {\n                throw new AnnotationException( &quot;@ManyToAny used on a non collection non array property: &quot; + p.getName() );\n            }\n            return true;\n        }\n        else if ( p.isAnnotationPresent( Type.class ) ) {\n            return true;\n        }\n        else if ( p.isAnnotationPresent( Target.class ) ) {\n            return true;\n        }\n        return false;\n    }\n\n    private static boolean mustBeSkipped(XProperty property) {\n        //TODO make those hardcoded tests more portable (through the bytecode provider?)\n        return property.isAnnotationPresent( Transient.class )\n                || &quot;net.sf.cglib.transform.impl.InterceptFieldCallback&quot;.equals( property.getType().getName() )\n                || &quot;org.hibernate.bytecode.internal.javassist.FieldHandler&quot;.equals( property.getType().getName() );\n    }\n}\n</code></pre>\n<p>Fixed the Organization class.</p>\n<pre><code>import javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.Id;\n\n@Entity\npublic class Organization {\n    @Id\n    @GeneratedValue\n    private Long id;\n\n    @Column(unique = true, nullable = false)\n    private String organizationNumber;\n\n    @Column(nullable = false)\n    private String name;\n\n    public Organization() {\n    }\n\n    public Organization(String name) {\n        this.name = name;\n    }\n\n    public Long getId() {\n        return id;\n    }\n\n    @SuppressWarnings(&quot;unused&quot;)\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public String getOrganizationNumber() {\n        return organizationNumber;\n    }\n\n    public void setOrganizationNumber(String organizationNumber) {\n        this.organizationNumber = organizationNumber;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    @Override\n    public String toString() {\n        return this.name + &quot; &quot; + this.organizationNumber;\n    }\n}\n</code></pre>\n<p>Start the Spring Boot App. See the result in the console.</p>\n<pre><code>Hibernate: create table organization (id bigint not null, organization_number varchar(255) not null, name varchar(255) not null, primary key (id)) engine=InnoDB\n</code></pre>\n<p>In the database see the desc result.</p>\n<pre><code>mysql&gt; desc organization;\n+---------------------+--------------+------+-----+---------+-------+\n| Field               | Type         | Null | Key | Default | Extra |\n+---------------------+--------------+------+-----+---------+-------+\n| id                  | bigint(20)   | NO   | PRI | NULL    |       |\n| organization_number | varchar(255) | NO   | UNI | NULL    |       |\n| name                | varchar(255) | NO   |     | NULL    |       |\n+---------------------+--------------+------+-----+---------+-------+\n3 rows in set (0.00 sec)\n</code></pre>\n<hr />\n<h3>Supplement on Inheritance</h3>\n<p>If you want use the inherit some parent class like Auditing class. The above answer is not enough.</p>\n<p>You can copy <code>InheritanceState.class</code> like above approach and create the <code>InheritanceState.class</code> into <code>org.hibernate.cfg package</code>.</p>\n<p>Modify the two line, just fixed the sorting.</p>\n<pre><code>public class InheritanceState {\n    // ...\n    private void getMappedSuperclassesTillNextEntityOrdered() {\n\n        //ordered to allow proper messages on properties subclassing\n        XClass currentClassInHierarchy = clazz;\n        InheritanceState superclassState;\n        do {\n              // mark this \n//            classesToProcessForMappedSuperclass.add( 0, currentClassInHierarchy );\n\n            // fixed the sorting, add this \n            classesToProcessForMappedSuperclass.add( currentClassInHierarchy );\n            \n            // ...\n        }\n        // ... \n    }\n    \n   private void addMappedSuperClassInMetadata(PersistentClass persistentClass) {\n        //add @MappedSuperclass in the metadata\n        // classes from 0 to n-1 are @MappedSuperclass and should be linked\n        org.hibernate.mapping.MappedSuperclass mappedSuperclass = null;\n        final InheritanceState superEntityState =\n                InheritanceState.getInheritanceStateOfSuperEntity( clazz, inheritanceStatePerClass );\n        PersistentClass superEntity =\n                superEntityState != null ?\n                        buildingContext.getMetadataCollector().getEntityBinding( superEntityState.getClazz().getName() ) :\n                        null;\n        final int lastMappedSuperclass = classesToProcessForMappedSuperclass.size() - 1;\n        \n        // mark this \n//        for ( int index = 0; index &lt; lastMappedSuperclass; index++ ) {\n\n        // fixed the sorting, add this \n        for ( int index = lastMappedSuperclass; index &gt; 0; index-- ) {\n            // ...\n        }\n        // ...\n    }   \n}\n</code></pre>\n<p>The demo class.</p>\n<pre><code>@MappedSuperclass\n@EntityListeners(AuditingEntityListener.class)\npublic abstract class AuditableEntity {\n    @CreatedBy\n    @Column(name = &quot;created_by&quot;)\n    private String createdBy;\n\n    @LastModifiedBy\n    @Column(name = &quot;last_modified_by&quot;)\n    private String lastModifiedBy;\n\n    @LastModifiedDate\n    @Column(name = &quot;update_time&quot;)\n    private ZonedDateTime updatedTime;\n\n    @CreatedDate\n    @Column(name = &quot;create_time&quot;)\n    private ZonedDateTime createTime;\n}\n\n@Entity\npublic class OrganizationAudit extends AuditableEntity {\n   // same field with Organization.class...\n}\n</code></pre>\n<p>In console result.</p>\n<pre><code>create table organization_audit (id bigint not null, organization_number varchar(255) not null, name varchar(255) not null, created_by varchar(255), last_modified_by varchar(255), update_time datetime, create_time datetime, primary key (id)) engine=InnoDB\n</code></pre>\n<p>In database result.</p>\n<pre><code>mysql&gt; desc organization_audit;\n+---------------------+--------------+------+-----+---------+-------+\n| Field               | Type         | Null | Key | Default | Extra |\n+---------------------+--------------+------+-----+---------+-------+\n| id                  | bigint(20)   | NO   | PRI | NULL    |       |\n| organization_number | varchar(255) | NO   | UNI | NULL    |       |\n| name                | varchar(255) | NO   |     | NULL    |       |\n| created_by          | varchar(255) | YES  |     | NULL    |       |\n| last_modified_by    | varchar(255) | YES  |     | NULL    |       |\n| update_time         | datetime     | YES  |     | NULL    |       |\n| create_time         | datetime     | YES  |     | NULL    |       |\n+---------------------+--------------+------+-----+---------+-------+\n7 rows in set (0.00 sec)\n</code></pre>\n<p>The sample project is <a href=\"https://github.com/changemyminds/Demo-Spring-JPA-Generate-Table\" rel=\"noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":14361323,"reputation":19,"user_id":10373554,"display_name":"user10373554"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1644947509,"creation_date":1644947509,"answer_id":71131141,"question_id":1298322,"body_markdown":"Just create that Table using **create** statement in your database and use Hibernate to insert a value into Table","title":"Wrong ordering in generated table in jpa","body":"<p>Just create that Table using <strong>create</strong> statement in your database and use Hibernate to insert a value into Table</p>\n"},{"tags":[],"owner":{"account_id":5935877,"reputation":1,"user_id":4668892,"display_name":"Mohamed ben Rhaiem"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654928694,"creation_date":1654824997,"answer_id":72568244,"question_id":1298322,"body_markdown":"Only to resolve the inheritance for the auditable class as an example, \r\nJPA doesn&#39;t respect the alpha order, will create first the auditable columns, in this case, for the columns of the auditable class to be created last!\r\n\r\nYou need to comment `@MappedSuperclass`, then run in sequence with &#39;create&#39;, then uncomment and run with &#39;update&#39; for the &#39;ddl-auto&#39; option.\r\n\r\n ","title":"Wrong ordering in generated table in jpa","body":"<p>Only to resolve the inheritance for the auditable class as an example,\nJPA doesn't respect the alpha order, will create first the auditable columns, in this case, for the columns of the auditable class to be created last!</p>\n<p>You need to comment <code>@MappedSuperclass</code>, then run in sequence with 'create', then uncomment and run with 'update' for the 'ddl-auto' option.</p>\n"},{"tags":[],"owner":{"account_id":255080,"reputation":15519,"user_id":534877,"accept_rate":65,"display_name":"Robert Niestroj"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1698219397,"creation_date":1697914348,"answer_id":77337371,"question_id":1298322,"body_markdown":"**2023 Update**\r\n\r\nHibernate 6.2 intoduced the [ColumnOrderingStrategy][1] interface. The default strategy is now the [ColumnOrderingStrategyStandard][2]. The docs say:\r\n\r\n&gt; Standard implementation that orders columns by size and name following\r\n&gt; roughly this ordering: `order by max(physicalSizeBytes, 4), physicalSizeBytes &gt; 2048, name`\r\n\r\nYou can read about the reasoning why it was introduced and done this way and not for example through an annotation in this [discussion][3]. There is also a [nice answer][4] on SO on this topic. \r\n\r\nYou can implement your own strategy by implementing the ColumnOrderingStrategy interface and setting your implementation via the `hibernate.column_ordering_strategy` property or [AvailableSettings.COLUMN_ORDERING_STRATEGY][5]. \r\n\r\nYou can go back to the old behavior by setting `hibernate.column_ordering_strategy=legacy`\r\n\r\nFor more details i&#39;ve written a blog post about it: https://robertniestroj.hashnode.dev/ordering-columns-in-a-table-in-jpahibernate\r\n\r\n  [1]: https://docs.jboss.org/hibernate/orm/6.3/javadocs/org/hibernate/boot/model/relational/ColumnOrderingStrategy.html\r\n  [2]: https://docs.jboss.org/hibernate/orm/6.3/javadocs/org/hibernate/boot/model/relational/ColumnOrderingStrategyStandard.html\r\n  [3]: https://github.com/hibernate/hibernate-orm/discussions/3989\r\n  [4]: https://stackoverflow.com/a/7431468/534877\r\n  [5]: https://docs.jboss.org/hibernate/orm/6.3/javadocs/org/hibernate/cfg/MappingSettings.html#COLUMN_ORDERING_STRATEGY","title":"Wrong ordering in generated table in jpa","body":"<p><strong>2023 Update</strong></p>\n<p>Hibernate 6.2 intoduced the <a href=\"https://docs.jboss.org/hibernate/orm/6.3/javadocs/org/hibernate/boot/model/relational/ColumnOrderingStrategy.html\" rel=\"nofollow noreferrer\">ColumnOrderingStrategy</a> interface. The default strategy is now the <a href=\"https://docs.jboss.org/hibernate/orm/6.3/javadocs/org/hibernate/boot/model/relational/ColumnOrderingStrategyStandard.html\" rel=\"nofollow noreferrer\">ColumnOrderingStrategyStandard</a>. The docs say:</p>\n<blockquote>\n<p>Standard implementation that orders columns by size and name following\nroughly this ordering: <code>order by max(physicalSizeBytes, 4), physicalSizeBytes &gt; 2048, name</code></p>\n</blockquote>\n<p>You can read about the reasoning why it was introduced and done this way and not for example through an annotation in this <a href=\"https://github.com/hibernate/hibernate-orm/discussions/3989\" rel=\"nofollow noreferrer\">discussion</a>. There is also a <a href=\"https://stackoverflow.com/a/7431468/534877\">nice answer</a> on SO on this topic.</p>\n<p>You can implement your own strategy by implementing the ColumnOrderingStrategy interface and setting your implementation via the <code>hibernate.column_ordering_strategy</code> property or <a href=\"https://docs.jboss.org/hibernate/orm/6.3/javadocs/org/hibernate/cfg/MappingSettings.html#COLUMN_ORDERING_STRATEGY\" rel=\"nofollow noreferrer\">AvailableSettings.COLUMN_ORDERING_STRATEGY</a>.</p>\n<p>You can go back to the old behavior by setting <code>hibernate.column_ordering_strategy=legacy</code></p>\n<p>For more details i've written a blog post about it: <a href=\"https://robertniestroj.hashnode.dev/ordering-columns-in-a-table-in-jpahibernate\" rel=\"nofollow noreferrer\">https://robertniestroj.hashnode.dev/ordering-columns-in-a-table-in-jpahibernate</a></p>\n"}],"owner":{"account_id":16900,"reputation":24039,"user_id":37298,"accept_rate":88,"display_name":"Shervin Asgari"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53280,"favorite_count":0,"down_vote_count":0,"up_vote_count":86,"accepted_answer_id":1298327,"answer_count":7,"score":86,"last_activity_date":1698219397,"creation_date":1250667269,"question_id":1298322,"body_markdown":"This (should) be a rather simple thing to do, however I am struggling.\r\n\r\nI want a table to be generated like this:\r\n&lt;pre&gt;\r\nid \r\norganizationNumber \r\nname\r\n&lt;/pre&gt;\r\n\r\nHowever, when I look in the database, I see that the ordering is wrong. Does anybody know how I can force hibernate/jpa to generate the table with correct ordering? \r\n\r\n&lt;pre&gt;\r\ndesc Organization;\r\n+--------------------+--------------+------+-----+---------+----------------+\r\n| Field              | Type         | Null | Key | Default | Extra          |\r\n+--------------------+--------------+------+-----+---------+----------------+\r\n| id                 | bigint(20)   | NO   | PRI | NULL    | auto_increment | \r\n| name               | varchar(255) | NO   |     | NULL    |                | \r\n| organizationNumber | varchar(255) | NO   | UNI | NULL    |                | \r\n+--------------------+--------------+------+-----+---------+----------------+\r\n&lt;/pre&gt;\r\n\r\nThis is how my entity bean looks like: \r\n\r\n    @Entity\r\n    @NamedQuery(name = &quot;allOrganizations&quot;, query = &quot;SELECT org FROM Organization org order by name&quot;)\r\n    public class Organization {\r\n    \r\n    \tprivate Long id;\r\n    \tprivate String organizationNumber;\r\n    \tprivate String name;\r\n    \r\n    \tpublic Organization() {\r\n    \t}\r\n    \r\n    \tpublic Organization(String name) {\r\n    \t\tthis.name = name;\r\n    \t}\r\n    \r\n    \t@Id\r\n    \t@GeneratedValue\r\n    \tpublic Long getId() {\r\n    \t\treturn id;\r\n    \t}\r\n    \r\n    \t@SuppressWarnings(&quot;unused&quot;)\r\n    \tprivate void setId(Long id) {\r\n    \t\tthis.id = id;\r\n    \t}\r\n    \r\n    \t@NotEmpty\r\n    \t@Column(unique=true, nullable=false)\r\n    \tpublic String getOrganizationNumber() {\r\n    \t\treturn organizationNumber;\r\n    \t}\r\n           public void setOrganizationNumber(String organizationNumber) {\r\n    \t\tthis.organizationNumber = organizationNumber;\r\n    \t}\r\n    \r\n    \t\r\n    \t@NotEmpty\r\n    \t@Column(nullable=false)\r\n    \tpublic String getName() {\r\n    \t\treturn name;\r\n    \t}\r\n    \r\n    \tpublic void setName(String name) {\r\n    \t\tthis.name = name;\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tpublic String toString() {\r\n    \t\treturn this.name + &quot; &quot; + this.organizationNumber;\r\n    \t}\r\n    }\r\n\r\n","title":"Wrong ordering in generated table in jpa","body":"<p>This (should) be a rather simple thing to do, however I am struggling.</p>\n\n<p>I want a table to be generated like this:</p>\n\n<pre>\nid \norganizationNumber \nname\n</pre>\n\n<p>However, when I look in the database, I see that the ordering is wrong. Does anybody know how I can force hibernate/jpa to generate the table with correct ordering? </p>\n\n<pre>\ndesc Organization;\n+--------------------+--------------+------+-----+---------+----------------+\n| Field              | Type         | Null | Key | Default | Extra          |\n+--------------------+--------------+------+-----+---------+----------------+\n| id                 | bigint(20)   | NO   | PRI | NULL    | auto_increment | \n| name               | varchar(255) | NO   |     | NULL    |                | \n| organizationNumber | varchar(255) | NO   | UNI | NULL    |                | \n+--------------------+--------------+------+-----+---------+----------------+\n</pre>\n\n<p>This is how my entity bean looks like: </p>\n\n<pre><code>@Entity\n@NamedQuery(name = \"allOrganizations\", query = \"SELECT org FROM Organization org order by name\")\npublic class Organization {\n\n    private Long id;\n    private String organizationNumber;\n    private String name;\n\n    public Organization() {\n    }\n\n    public Organization(String name) {\n        this.name = name;\n    }\n\n    @Id\n    @GeneratedValue\n    public Long getId() {\n        return id;\n    }\n\n    @SuppressWarnings(\"unused\")\n    private void setId(Long id) {\n        this.id = id;\n    }\n\n    @NotEmpty\n    @Column(unique=true, nullable=false)\n    public String getOrganizationNumber() {\n        return organizationNumber;\n    }\n       public void setOrganizationNumber(String organizationNumber) {\n        this.organizationNumber = organizationNumber;\n    }\n\n\n    @NotEmpty\n    @Column(nullable=false)\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    @Override\n    public String toString() {\n        return this.name + \" \" + this.organizationNumber;\n    }\n}\n</code></pre>\n"},{"tags":["java","matlab","anylogic"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1698234838,"post_id":77357427,"comment_id":136378793,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":29307447,"reputation":1,"user_id":22454106,"display_name":"soheila zareie"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1698415365,"answer_count":0,"score":0,"last_activity_date":1698219202,"creation_date":1698219202,"question_id":77357427,"body_markdown":"Can we link optimization algorithm in MATLAB to simulation model in Anylogic automatically?\r\n\r\nI want my results in simulation model (Anylogic) go into MATLAB as inputs and outputs of MATLAB go into Anylogic as it&#39;s inputs automatically to find the best optimized answers ","title":"Link MATLAB TO Anylogic","body":"<p>Can we link optimization algorithm in MATLAB to simulation model in Anylogic automatically?</p>\n<p>I want my results in simulation model (Anylogic) go into MATLAB as inputs and outputs of MATLAB go into Anylogic as it's inputs automatically to find the best optimized answers</p>\n"},{"tags":["java","android","ontouchlistener","multi-touch"],"owner":{"account_id":1601476,"reputation":547,"user_id":1482428,"accept_rate":18,"display_name":"Henrik Berg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698219058,"creation_date":1698219058,"question_id":77357416,"body_markdown":"I want to create a view in Android where I can tap (and potentially drag) to draw dots (or lines). This is easy to do with an &lt;code&gt;OnTouchListener&lt;/code&gt;.\r\n\r\nHowever, I also need to enable zooming and rotating with two fingers. I can use an OnTouchListener for this too, and check the number of fingers used with the &lt;code&gt;getPointerCount&lt;/code&gt; fuction. Now the problem is that when I try to zoom, using two fingers, obviously one of the fingers will touch first, resulting in a &lt;code&gt;MotionEvent&lt;/code&gt; being fired, with pointer count 1. Then, after a few milliseconds, the second finger hits, and now I can invoke the zooming (or whatever) functionality.\r\n\r\nSo currently, I am going to implement a short delay (say, 100 ms) in the listener, before starting to draw, in case the user intends to zoom instead of drawing. However, this seems a bit messy, and I though maybe there was some other way to solve this issue?\r\n\r\nOr, to rephrase: Is there a (simple or common) way to avoid handling the first touch event, in cases where a second touch event (with a second finger) immediately follows?\r\n","title":"Avoid (or delaying) handling the first touch in case the user touches with two fingers","body":"<p>I want to create a view in Android where I can tap (and potentially drag) to draw dots (or lines). This is easy to do with an <code>OnTouchListener</code>.</p>\n<p>However, I also need to enable zooming and rotating with two fingers. I can use an OnTouchListener for this too, and check the number of fingers used with the <code>getPointerCount</code> fuction. Now the problem is that when I try to zoom, using two fingers, obviously one of the fingers will touch first, resulting in a <code>MotionEvent</code> being fired, with pointer count 1. Then, after a few milliseconds, the second finger hits, and now I can invoke the zooming (or whatever) functionality.</p>\n<p>So currently, I am going to implement a short delay (say, 100 ms) in the listener, before starting to draw, in case the user intends to zoom instead of drawing. However, this seems a bit messy, and I though maybe there was some other way to solve this issue?</p>\n<p>Or, to rephrase: Is there a (simple or common) way to avoid handling the first touch event, in cases where a second touch event (with a second finger) immediately follows?</p>\n"},{"tags":["java","spring-boot","hibernate"],"answers":[{"tags":[],"owner":{"account_id":301230,"reputation":28997,"user_id":608820,"accept_rate":89,"display_name":"Augusto"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698155200,"creation_date":1698155200,"answer_id":77352667,"question_id":77352564,"body_markdown":"Spring dependencies are a nightmare and gradle sometimes doesn&#39;t help much.\r\n\r\nYou are probably missing the [jboss-logging](https://central.sonatype.com/artifact/org.jboss.logging/jboss-logging) dependency. You can add the following to your gradle build file:\r\n\r\n```\r\nimplementation &quot;org.jboss.logging:jboss-logging:3.5.3.Final&quot;\r\n```\r\n\r\nThe best way to find the missing dependencies for me is to visit https://search.maven.org/ and enter the class name that is missing. Unfortunately in this case it returns thousands of potential packages which is not very helpful, but with a bit of extra filtering I arrived to that package.","title":"SpringBoot - Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource","body":"<p>Spring dependencies are a nightmare and gradle sometimes doesn't help much.</p>\n<p>You are probably missing the <a href=\"https://central.sonatype.com/artifact/org.jboss.logging/jboss-logging\" rel=\"nofollow noreferrer\">jboss-logging</a> dependency. You can add the following to your gradle build file:</p>\n<pre><code>implementation &quot;org.jboss.logging:jboss-logging:3.5.3.Final&quot;\n</code></pre>\n<p>The best way to find the missing dependencies for me is to visit <a href=\"https://search.maven.org/\" rel=\"nofollow noreferrer\">https://search.maven.org/</a> and enter the class name that is missing. Unfortunately in this case it returns thousands of potential packages which is not very helpful, but with a bit of extra filtering I arrived to that package.</p>\n"}],"owner":{"account_id":18994858,"reputation":23,"user_id":13863237,"display_name":"Taylor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1698218999,"creation_date":1698154520,"question_id":77352564,"body_markdown":"When I run my Spring Boot Project, I encounter this error, and I can&#39;t figure out what the problem is.\r\n\r\nThis is the error message:\r\n```\r\n2023-10-24T22:17:33.280+09:00  WARN 19060 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Unsatisfied dependency expressed through method &#39;entityManagerFactory&#39; parameter 0: Error creating bean with name &#39;entityManagerFactoryBuilder&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Unsatisfied dependency expressed through method &#39;entityManagerFactoryBuilder&#39; parameter 0: Error creating bean with name &#39;jpaVendorAdapter&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to instantiate [org.springframework.orm.jpa.JpaVendorAdapter]: Factory method &#39;jpaVendorAdapter&#39; threw exception with message: org/jboss/logging/Logger\r\n2023-10-24T22:17:33.284+09:00  INFO 19060 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\r\n2023-10-24T22:17:33.296+09:00  INFO 19060 --- [           main] .s.b.a.l.ConditionEvaluationReportLogger : \r\n\r\nError starting ApplicationContext. To display the condition evaluation report re-run your application with &#39;debug&#39; enabled.\r\n2023-10-24T22:17:33.322+09:00 ERROR 19060 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\n\r\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Unsatisfied dependency expressed through method &#39;entityManagerFactory&#39; parameter 0: Error creating bean with name &#39;entityManagerFactoryBuilder&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Unsatisfied dependency expressed through method &#39;entityManagerFactoryBuilder&#39; parameter 0: Error creating bean with name &#39;jpaVendorAdapter&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to instantiate [org.springframework.orm.jpa.JpaVendorAdapter]: Factory method &#39;jpaVendorAdapter&#39; threw exception with message: org/jboss/logging/Logger\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:550) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1332) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1155) ~[spring-context-6.0.11.jar:6.0.11]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:932) ~[spring-context-6.0.11.jar:6.0.11]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608) ~[spring-context-6.0.11.jar:6.0.11]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.1.2.jar:3.1.2]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-3.1.2.jar:3.1.2]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:436) ~[spring-boot-3.1.2.jar:3.1.2]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:312) ~[spring-boot-3.1.2.jar:3.1.2]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-3.1.2.jar:3.1.2]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-3.1.2.jar:3.1.2]\r\n\tat everyCamp.campback.CampbackApplication.main(CampbackApplication.java:12) ~[main/:na]\r\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;entityManagerFactoryBuilder&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Unsatisfied dependency expressed through method &#39;entityManagerFactoryBuilder&#39; parameter 0: Error creating bean with name &#39;jpaVendorAdapter&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to instantiate [org.springframework.orm.jpa.JpaVendorAdapter]: Factory method &#39;jpaVendorAdapter&#39; threw exception with message: org/jboss/logging/Logger\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:550) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1332) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1417) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1337) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:888) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\t... 19 common frames omitted\r\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;jpaVendorAdapter&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to instantiate [org.springframework.orm.jpa.JpaVendorAdapter]: Factory method &#39;jpaVendorAdapter&#39; threw exception with message: org/jboss/logging/Logger\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:659) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:493) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1332) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1417) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1337) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:888) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\t... 33 common frames omitted\r\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.orm.jpa.JpaVendorAdapter]: Factory method &#39;jpaVendorAdapter&#39; threw exception with message: org/jboss/logging/Logger\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:171) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:655) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\t... 47 common frames omitted\r\nCaused by: java.lang.NoClassDefFoundError: org/jboss/logging/Logger\r\n\tat org.hibernate.jpa.HibernatePersistenceProvider.&lt;clinit&gt;(HibernatePersistenceProvider.java:38) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n\tat org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter.&lt;init&gt;(HibernateJpaVendorAdapter.java:86) ~[spring-orm-6.0.11.jar:6.0.11]\r\n\tat org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration.createJpaVendorAdapter(HibernateJpaConfiguration.java:137) ~[spring-boot-autoconfigure-3.1.2.jar:3.1.2]\r\n\tat org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration.jpaVendorAdapter(JpaBaseConfiguration.java:103) ~[spring-boot-autoconfigure-3.1.2.jar:3.1.2]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:139) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\t... 48 common frames omitted\r\nCaused by: java.lang.ClassNotFoundException: org.jboss.logging.Logger\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[na:na]\r\n\t... 57 common frames omitted\r\n\r\n\r\nProcess finished with exit code 1\r\n```\r\n\r\nThis is my **gradle file**:\r\n\r\n```\r\nplugins {\r\n\tid &#39;java&#39;\r\n\tid &#39;org.springframework.boot&#39; version &#39;3.1.2&#39;\r\n\tid &#39;io.spring.dependency-management&#39; version &#39;1.1.2&#39;\r\n}\r\n\r\ngroup = &#39;everyCamp&#39;\r\nversion = &#39;0.0.1-SNAPSHOT&#39;\r\n\r\njava {\r\n\tsourceCompatibility = &#39;17&#39;\r\n}\r\n\r\nconfigurations {\r\n\tcompileOnly {\r\n\t\textendsFrom annotationProcessor\r\n\t}\r\n}\r\n\r\nrepositories {\r\n\tmavenCentral()\r\n}\r\n\r\ndependencies {\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n\timplementation group: &#39;org.postgresql&#39;, name: &#39;postgresql&#39;, version: &#39;42.6.0&#39;\r\n\timplementation &#39;io.hypersistence:hypersistence-utils-hibernate-62:3.5.0&#39;\r\n\ttestImplementation &#39;org.projectlombok:lombok:1.18.26&#39;\r\n\tcompileOnly &#39;org.projectlombok:lombok&#39;\r\n\tannotationProcessor &#39;org.projectlombok:lombok&#39;\r\n\ttestImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n\ttestImplementation &#39;junit:junit:4.13.1&#39;\r\n\timplementation &#39;com.google.code.gson:gson&#39;\r\n\r\n\timplementation &#39;com.querydsl:querydsl-jpa:5.0.0:jakarta&#39;\r\n\tannotationProcessor &quot;com.querydsl:querydsl-apt:5.0.0:jakarta&quot;\r\n\tannotationProcessor &quot;jakarta.annotation:jakarta.annotation-api&quot;\r\n\tannotationProcessor &quot;jakarta.persistence:jakarta.persistence-api&quot;\r\n}\r\n\r\ntasks.named(&#39;test&#39;) {\r\n\tuseJUnitPlatform()\r\n}\r\n\r\n```\r\nI can&#39;t see anything wrong in dependencies.\r\n\r\nI think I barely updated my codes, but this error suddenly popped up.\r\nWhat is wrong with it? How can I resolve it? \r\n","title":"SpringBoot - Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource","body":"<p>When I run my Spring Boot Project, I encounter this error, and I can't figure out what the problem is.</p>\n<p>This is the error message:</p>\n<pre><code>2023-10-24T22:17:33.280+09:00  WARN 19060 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Unsatisfied dependency expressed through method 'entityManagerFactory' parameter 0: Error creating bean with name 'entityManagerFactoryBuilder' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Unsatisfied dependency expressed through method 'entityManagerFactoryBuilder' parameter 0: Error creating bean with name 'jpaVendorAdapter' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to instantiate [org.springframework.orm.jpa.JpaVendorAdapter]: Factory method 'jpaVendorAdapter' threw exception with message: org/jboss/logging/Logger\n2023-10-24T22:17:33.284+09:00  INFO 19060 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\n2023-10-24T22:17:33.296+09:00  INFO 19060 --- [           main] .s.b.a.l.ConditionEvaluationReportLogger : \n\nError starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.\n2023-10-24T22:17:33.322+09:00 ERROR 19060 --- [           main] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Unsatisfied dependency expressed through method 'entityManagerFactory' parameter 0: Error creating bean with name 'entityManagerFactoryBuilder' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Unsatisfied dependency expressed through method 'entityManagerFactoryBuilder' parameter 0: Error creating bean with name 'jpaVendorAdapter' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to instantiate [org.springframework.orm.jpa.JpaVendorAdapter]: Factory method 'jpaVendorAdapter' threw exception with message: org/jboss/logging/Logger\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:550) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1332) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1155) ~[spring-context-6.0.11.jar:6.0.11]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:932) ~[spring-context-6.0.11.jar:6.0.11]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608) ~[spring-context-6.0.11.jar:6.0.11]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.1.2.jar:3.1.2]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-3.1.2.jar:3.1.2]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:436) ~[spring-boot-3.1.2.jar:3.1.2]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:312) ~[spring-boot-3.1.2.jar:3.1.2]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-3.1.2.jar:3.1.2]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-3.1.2.jar:3.1.2]\n    at everyCamp.campback.CampbackApplication.main(CampbackApplication.java:12) ~[main/:na]\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'entityManagerFactoryBuilder' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Unsatisfied dependency expressed through method 'entityManagerFactoryBuilder' parameter 0: Error creating bean with name 'jpaVendorAdapter' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to instantiate [org.springframework.orm.jpa.JpaVendorAdapter]: Factory method 'jpaVendorAdapter' threw exception with message: org/jboss/logging/Logger\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:550) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1332) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1417) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1337) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:888) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-6.0.11.jar:6.0.11]\n    ... 19 common frames omitted\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jpaVendorAdapter' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to instantiate [org.springframework.orm.jpa.JpaVendorAdapter]: Factory method 'jpaVendorAdapter' threw exception with message: org/jboss/logging/Logger\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:659) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:493) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1332) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1417) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1337) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:888) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-6.0.11.jar:6.0.11]\n    ... 33 common frames omitted\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.orm.jpa.JpaVendorAdapter]: Factory method 'jpaVendorAdapter' threw exception with message: org/jboss/logging/Logger\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:171) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:655) ~[spring-beans-6.0.11.jar:6.0.11]\n    ... 47 common frames omitted\nCaused by: java.lang.NoClassDefFoundError: org/jboss/logging/Logger\n    at org.hibernate.jpa.HibernatePersistenceProvider.&lt;clinit&gt;(HibernatePersistenceProvider.java:38) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter.&lt;init&gt;(HibernateJpaVendorAdapter.java:86) ~[spring-orm-6.0.11.jar:6.0.11]\n    at org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration.createJpaVendorAdapter(HibernateJpaConfiguration.java:137) ~[spring-boot-autoconfigure-3.1.2.jar:3.1.2]\n    at org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration.jpaVendorAdapter(JpaBaseConfiguration.java:103) ~[spring-boot-autoconfigure-3.1.2.jar:3.1.2]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:139) ~[spring-beans-6.0.11.jar:6.0.11]\n    ... 48 common frames omitted\nCaused by: java.lang.ClassNotFoundException: org.jboss.logging.Logger\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[na:na]\n    ... 57 common frames omitted\n\n\nProcess finished with exit code 1\n</code></pre>\n<p>This is my <strong>gradle file</strong>:</p>\n<pre><code>plugins {\n    id 'java'\n    id 'org.springframework.boot' version '3.1.2'\n    id 'io.spring.dependency-management' version '1.1.2'\n}\n\ngroup = 'everyCamp'\nversion = '0.0.1-SNAPSHOT'\n\njava {\n    sourceCompatibility = '17'\n}\n\nconfigurations {\n    compileOnly {\n        extendsFrom annotationProcessor\n    }\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-data-jpa'\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    implementation group: 'org.postgresql', name: 'postgresql', version: '42.6.0'\n    implementation 'io.hypersistence:hypersistence-utils-hibernate-62:3.5.0'\n    testImplementation 'org.projectlombok:lombok:1.18.26'\n    compileOnly 'org.projectlombok:lombok'\n    annotationProcessor 'org.projectlombok:lombok'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n    testImplementation 'junit:junit:4.13.1'\n    implementation 'com.google.code.gson:gson'\n\n    implementation 'com.querydsl:querydsl-jpa:5.0.0:jakarta'\n    annotationProcessor &quot;com.querydsl:querydsl-apt:5.0.0:jakarta&quot;\n    annotationProcessor &quot;jakarta.annotation:jakarta.annotation-api&quot;\n    annotationProcessor &quot;jakarta.persistence:jakarta.persistence-api&quot;\n}\n\ntasks.named('test') {\n    useJUnitPlatform()\n}\n\n</code></pre>\n<p>I can't see anything wrong in dependencies.</p>\n<p>I think I barely updated my codes, but this error suddenly popped up.\nWhat is wrong with it? How can I resolve it?</p>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa","spring-data"],"comments":[{"owner":{"account_id":8781643,"reputation":25950,"user_id":6565093,"accept_rate":47,"display_name":"pvpkiran"},"score":0,"creation_date":1570701774,"post_id":58320209,"comment_id":102999799,"body_markdown":"I guess the interface should be named `MyEntityRepositoryCustom `","body":"I guess the interface should be named <code>MyEntityRepositoryCustom </code>"},{"owner":{"account_id":3464455,"reputation":699,"user_id":2900459,"accept_rate":78,"display_name":"Sebastian Kramer"},"score":0,"creation_date":1570701862,"post_id":58320209,"comment_id":102999849,"body_markdown":"according to the documentation it doesn&#39;t matter as long as there is an `Impl` postfix. This is just a quick reproducible examle","body":"according to the documentation it doesn&#39;t matter as long as there is an <code>Impl</code> postfix. This is just a quick reproducible examle"},{"owner":{"account_id":3614596,"reputation":2212,"user_id":3014817,"display_name":"Shailesh Chandra"},"score":0,"creation_date":1570702186,"post_id":58320209,"comment_id":103000003,"body_markdown":"can put it on github","body":"can put it on github"},{"owner":{"account_id":8781643,"reputation":25950,"user_id":6565093,"accept_rate":47,"display_name":"pvpkiran"},"score":0,"creation_date":1570702286,"post_id":58320209,"comment_id":103000046,"body_markdown":"May be you are looking into new docs. You have to check docs pertaining to the spring data version you are using. But give my suggestion a try. Also make sure all the three files are in same package, repository, customrepository and impl","body":"May be you are looking into new docs. You have to check docs pertaining to the spring data version you are using. But give my suggestion a try. Also make sure all the three files are in same package, repository, customrepository and impl"},{"owner":{"account_id":3464455,"reputation":699,"user_id":2900459,"accept_rate":78,"display_name":"Sebastian Kramer"},"score":0,"creation_date":1570702928,"post_id":58320209,"comment_id":103000397,"body_markdown":"@pvpkiran renaming didn&#39;t help. Also, the link I&#39;ve provided refers to the actual version of the documentation used in code.","body":"@pvpkiran renaming didn&#39;t help. Also, the link I&#39;ve provided refers to the actual version of the documentation used in code."},{"owner":{"account_id":3464455,"reputation":699,"user_id":2900459,"accept_rate":78,"display_name":"Sebastian Kramer"},"score":0,"creation_date":1570702936,"post_id":58320209,"comment_id":103000402,"body_markdown":"@Shailesh https://github.com/s-kramer/spring-data-problem-reproduction","body":"@Shailesh <a href=\"https://github.com/s-kramer/spring-data-problem-reproduction\" rel=\"nofollow noreferrer\">github.com/s-kramer/spring-data-problem-reproduction</a>"},{"owner":{"account_id":8781643,"reputation":25950,"user_id":6565093,"accept_rate":47,"display_name":"pvpkiran"},"score":0,"creation_date":1570707865,"post_id":58320209,"comment_id":103002955,"body_markdown":"I have fixed the code. Do check my answer","body":"I have fixed the code. Do check my answer"}],"answers":[{"tags":[],"owner":{"account_id":3614596,"reputation":2212,"user_id":3014817,"display_name":"Shailesh Chandra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698218894,"creation_date":1570705203,"answer_id":58321369,"question_id":58320209,"body_markdown":"If you want your current code to run then you need a `@NamedQuery` if you want to run hql \r\nor if you want to run native query `@NamedNativeQuery` with a name `MyEntity.myCustomFindQuery` in your Entity class\r\n\r\n    @NamedQuery(name=&quot;MyEntity.myCustomFindQuery&quot;, \r\n    query=&quot;SELECT 1 as a, &#39;a&#39; as b from MyEntity&quot;)\r\n\r\n\r\nor \r\n\r\n  \r\n\r\n      @NamedNativeQuery(name=&quot;MyEntity.myCustomFindQuery&quot;, \r\n        query=&quot;SELECT 1 as a, &#39;a&#39; as b&quot;, resultSetMapping=&quot;mapmyCustomFindQuery&quot;)\r\n    \r\n    @SqlResultSetMapping(name = &quot;mapmyCustomFindQuery&quot;, classes = {\r\n    \t\t@ConstructorResult(targetClass = MyEntity.class, columns = {\r\n    \t\t\t\t@ColumnResult(name = &quot;a&quot;), @ColumnResult(name = &quot;b&quot;)\r\n    \t\t\t\t\r\n    \t\t})\r\n    })\r\n\r\n\r\n**Alternatively you can keep both repositories separate (means `MyEntityRepository` shouldn&#39;t extend `MyEntityRepositoryCustom`**\r\n\r\nin that case, your Application class will look like below\r\n\r\n    @Autowired \r\n    \tMyEntityRepository repository;\r\n    \t\r\n    \t@Autowired\r\n    \tMyEntityRepositoryCustom entityRepositoryCustom;\r\n    \t\r\n    \t\r\n    \r\n        public static void main(String[] args) {\r\n            SpringApplication.run(SpringDataDemoApplication.class, args);\r\n        }\r\n    \r\n        @Bean\r\n        public CommandLineRunner run() {\r\n            return (args) -&gt; {\r\n                final MyEntity myEntity1 = entityRepositoryCustom.myCustomFindQuery();\r\n                repository.save(new MyEntity(1, &quot;fieldTwo&quot;));\r\n                for (MyEntity myEntity : repository.findAll()) {\r\n                    System.out.println(myEntity);\r\n                }\r\n            };\r\n        }","title":"Custom method implementation in Spring Data fails with property not found error","body":"<p>If you want your current code to run then you need a <code>@NamedQuery</code> if you want to run hql\nor if you want to run native query <code>@NamedNativeQuery</code> with a name <code>MyEntity.myCustomFindQuery</code> in your Entity class</p>\n<pre><code>@NamedQuery(name=&quot;MyEntity.myCustomFindQuery&quot;, \nquery=&quot;SELECT 1 as a, 'a' as b from MyEntity&quot;)\n</code></pre>\n<p>or</p>\n<pre><code>  @NamedNativeQuery(name=&quot;MyEntity.myCustomFindQuery&quot;, \n    query=&quot;SELECT 1 as a, 'a' as b&quot;, resultSetMapping=&quot;mapmyCustomFindQuery&quot;)\n\n@SqlResultSetMapping(name = &quot;mapmyCustomFindQuery&quot;, classes = {\n        @ConstructorResult(targetClass = MyEntity.class, columns = {\n                @ColumnResult(name = &quot;a&quot;), @ColumnResult(name = &quot;b&quot;)\n                \n        })\n})\n</code></pre>\n<p><strong>Alternatively you can keep both repositories separate (means <code>MyEntityRepository</code> shouldn't extend <code>MyEntityRepositoryCustom</code></strong></p>\n<p>in that case, your Application class will look like below</p>\n<pre><code>@Autowired \n    MyEntityRepository repository;\n    \n    @Autowired\n    MyEntityRepositoryCustom entityRepositoryCustom;\n    \n    \n\n    public static void main(String[] args) {\n        SpringApplication.run(SpringDataDemoApplication.class, args);\n    }\n\n    @Bean\n    public CommandLineRunner run() {\n        return (args) -&gt; {\n            final MyEntity myEntity1 = entityRepositoryCustom.myCustomFindQuery();\n            repository.save(new MyEntity(1, &quot;fieldTwo&quot;));\n            for (MyEntity myEntity : repository.findAll()) {\n                System.out.println(myEntity);\n            }\n        };\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8781643,"reputation":25950,"user_id":6565093,"accept_rate":47,"display_name":"pvpkiran"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1570707751,"creation_date":1570707751,"answer_id":58322114,"question_id":58320209,"body_markdown":"I just checked out your code and was able to fix it. This is what I did  \r\n\r\nRename `MyEntityRepositoryCustomImpl` to `MyEntityRepositoryImpl` and  \r\n\r\n\r\nAs I told you in my comment, cutom repository should be named `MyEntityRepositoryCustom`(I guess you already did this)\r\n\r\nNaming convention is the key here. Impl class should be named `&lt;BaseRepository&gt;Impl`. And not `&lt;CustomRepository&gt;Impl`","title":"Custom method implementation in Spring Data fails with property not found error","body":"<p>I just checked out your code and was able to fix it. This is what I did  </p>\n\n<p>Rename <code>MyEntityRepositoryCustomImpl</code> to <code>MyEntityRepositoryImpl</code> and  </p>\n\n<p>As I told you in my comment, cutom repository should be named <code>MyEntityRepositoryCustom</code>(I guess you already did this)</p>\n\n<p>Naming convention is the key here. Impl class should be named <code>&lt;BaseRepository&gt;Impl</code>. And not <code>&lt;CustomRepository&gt;Impl</code></p>\n"}],"owner":{"account_id":3464455,"reputation":699,"user_id":2900459,"accept_rate":78,"display_name":"Sebastian Kramer"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1617,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":58322114,"answer_count":2,"score":2,"last_activity_date":1698218894,"creation_date":1570701295,"question_id":58320209,"body_markdown":"I&#39;m trying to implement custom method in Spring Data repository using Spring Boot 1.5.9.RELEASE.\r\nI created the repository:\r\n\r\n    package com.example.springdatademo;\r\n    \r\n    import org.springframework.data.jpa.repository.JpaRepository;\r\n    import org.springframework.stereotype.Repository;\r\n    \r\n    @Repository\r\n    interface MyEntityRepository extends JpaRepository&lt;MyEntity, String&gt;, CustomMyEntityRepository {\r\n    \r\n    }\r\n\r\nProvided the custom repository:\r\n\r\n    package com.example.springdatademo;\r\n    \r\n    interface CustomMyEntityRepository {\r\n        MyEntity myCustomFindQuery();\r\n    }\r\n\r\nAnd the implementation:\r\n\r\n    package com.example.springdatademo;\r\n    \r\n    import org.springframework.stereotype.Component;\r\n    \r\n        @Component\r\n        class CustomMyEntityRepositoryImpl implements CustomMyEntityRepository {\r\n        \r\n        \r\n            @Override\r\n            public MyEntity myCustomFindQuery() {\r\n                System.out.println(&quot;hello from custom query implementation&quot;);\r\n                return null;\r\n            }\r\n        }\r\n\r\nPlus, I provided an invocation:\r\n\r\n    package com.example.springdatademo;\r\n    \r\n    import org.springframework.boot.CommandLineRunner;\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.boot.autoconfigure.domain.EntityScan;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.data.jpa.repository.config.EnableJpaRepositories;\r\n    \r\n    @EntityScan\r\n    @EnableJpaRepositories\r\n    @SpringBootApplication\r\n    public class SpringDataDemoApplication {\r\n    \r\n        public static void main(String[] args) {\r\n            SpringApplication.run(SpringDataDemoApplication.class, args);\r\n        }\r\n    \r\n        @Bean\r\n        public CommandLineRunner run(MyEntityRepository repository) {\r\n            return (args) -&gt; {\r\n                final MyEntity myEntity1 = repository.myCustomFindQuery();\r\n                repository.save(new MyEntity(1, &quot;fieldTwo&quot;));\r\n                for (MyEntity myEntity : repository.findAll()) {\r\n                    System.out.println(myEntity);\r\n                }\r\n            };\r\n        }\r\n    \r\n    }\r\n\r\n`pom.xml` is just plain one generated from spring initializer:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;1.5.9.RELEASE&lt;/version&gt;\r\n    &lt;!--\t\t&lt;version&gt;2.1.9.RELEASE&lt;/version&gt;--&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;spring-data-demo&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;spring-data-demo&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\nWhen running the project on Spring Boot 1.5.9.RELEASE I&#39;m getting a problem on container creation:\r\n`Caused by: java.lang.IllegalArgumentException: Failed to create query method public abstract com.example.springdatademo.MyEntity com.example.springdatademo.CustomMyEntityRepository.myCustomFindQuery()! No property myCustomFindQuery found for type MyEntity!`\r\n\r\nChanging the Spring Boot version to 2.1.9.RELEASE works fine and gives me the expected result.\r\n\r\nI can&#39;t find any tips in [spring-data-jpa-1.11.9.RELEASE documentation](https://docs.spring.io/spring-data/jpa/docs/1.11.9.RELEASE/reference/html/#repositories.custom-implementations)\r\n","title":"Custom method implementation in Spring Data fails with property not found error","body":"<p>I'm trying to implement custom method in Spring Data repository using Spring Boot 1.5.9.RELEASE.\nI created the repository:</p>\n\n<pre><code>package com.example.springdatademo;\n\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\n\n@Repository\ninterface MyEntityRepository extends JpaRepository&lt;MyEntity, String&gt;, CustomMyEntityRepository {\n\n}\n</code></pre>\n\n<p>Provided the custom repository:</p>\n\n<pre><code>package com.example.springdatademo;\n\ninterface CustomMyEntityRepository {\n    MyEntity myCustomFindQuery();\n}\n</code></pre>\n\n<p>And the implementation:</p>\n\n<pre><code>package com.example.springdatademo;\n\nimport org.springframework.stereotype.Component;\n\n    @Component\n    class CustomMyEntityRepositoryImpl implements CustomMyEntityRepository {\n\n\n        @Override\n        public MyEntity myCustomFindQuery() {\n            System.out.println(\"hello from custom query implementation\");\n            return null;\n        }\n    }\n</code></pre>\n\n<p>Plus, I provided an invocation:</p>\n\n<pre><code>package com.example.springdatademo;\n\nimport org.springframework.boot.CommandLineRunner;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.autoconfigure.domain.EntityScan;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\n\n@EntityScan\n@EnableJpaRepositories\n@SpringBootApplication\npublic class SpringDataDemoApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(SpringDataDemoApplication.class, args);\n    }\n\n    @Bean\n    public CommandLineRunner run(MyEntityRepository repository) {\n        return (args) -&gt; {\n            final MyEntity myEntity1 = repository.myCustomFindQuery();\n            repository.save(new MyEntity(1, \"fieldTwo\"));\n            for (MyEntity myEntity : repository.findAll()) {\n                System.out.println(myEntity);\n            }\n        };\n    }\n\n}\n</code></pre>\n\n<p><code>pom.xml</code> is just plain one generated from spring initializer:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;1.5.9.RELEASE&lt;/version&gt;\n&lt;!--        &lt;version&gt;2.1.9.RELEASE&lt;/version&gt;--&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-data-demo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;spring-data-demo&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n\n<p>When running the project on Spring Boot 1.5.9.RELEASE I'm getting a problem on container creation:\n<code>Caused by: java.lang.IllegalArgumentException: Failed to create query method public abstract com.example.springdatademo.MyEntity com.example.springdatademo.CustomMyEntityRepository.myCustomFindQuery()! No property myCustomFindQuery found for type MyEntity!</code></p>\n\n<p>Changing the Spring Boot version to 2.1.9.RELEASE works fine and gives me the expected result.</p>\n\n<p>I can't find any tips in <a href=\"https://docs.spring.io/spring-data/jpa/docs/1.11.9.RELEASE/reference/html/#repositories.custom-implementations\" rel=\"nofollow noreferrer\">spring-data-jpa-1.11.9.RELEASE documentation</a></p>\n"},{"tags":["java","spring","kotlin","jpa"],"comments":[{"owner":{"account_id":2563377,"reputation":7164,"user_id":2224047,"display_name":"Nikolai  Shevchenko"},"score":1,"creation_date":1649143942,"post_id":71747671,"comment_id":126794606,"body_markdown":"If you want disable query creation then you simply break Spring naming convention for that method, so instead of `findByBar` name it something like `searchByBar` or `fetchByBar`","body":"If you want disable query creation then you simply break Spring naming convention for that method, so instead of <code>findByBar</code> name it something like <code>searchByBar</code> or <code>fetchByBar</code>"},{"owner":{"account_id":18823411,"reputation":628,"user_id":13728893,"display_name":"true_mogician"},"score":4,"creation_date":1649149643,"post_id":71747671,"comment_id":126796729,"body_markdown":"@NikolaiShevchenko Thanks for your solution, but it doesn&#39;t work pitifully. When I renamed it to `fetchByBar`, I still got a `QueryCreationException`, saying: No property &#39;fetchByBar&#39; found for type &#39;Foo&#39;!","body":"@NikolaiShevchenko Thanks for your solution, but it doesn&#39;t work pitifully. When I renamed it to <code>fetchByBar</code>, I still got a <code>QueryCreationException</code>, saying: No property &#39;fetchByBar&#39; found for type &#39;Foo&#39;!"},{"owner":{"account_id":121188,"reputation":5073,"user_id":314089,"accept_rate":60,"display_name":"icyerasor"},"score":0,"creation_date":1677333220,"post_id":71747671,"comment_id":133319092,"body_markdown":"Maybe this https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.customize-base-repository might offer a solution? Creating a custom method there that still has some context (at least the of SimpleJpaRepository) and gets used when &quot;referenced&quot; by signature in an interface? I didn&#39;t try it tough and I dislike it, as it imposes one single Base Repository for the whole application though.\n\nI&#39;m facing the same situation as the original question and probably will just roll with the *CustomImpl approach and re-creating base-functionality there..","body":"Maybe this <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.customize-base-repository\" rel=\"nofollow noreferrer\">docs.spring.io/spring-data/jpa/docs/current/reference/html/&hellip;</a> might offer a solution? Creating a custom method there that still has some context (at least the of SimpleJpaRepository) and gets used when &quot;referenced&quot; by signature in an interface? I didn&#39;t try it tough and I dislike it, as it imposes one single Base Repository for the whole application though.  I&#39;m facing the same situation as the original question and probably will just roll with the *CustomImpl approach and re-creating base-functionality there.."},{"owner":{"account_id":63165,"reputation":2268,"user_id":187148,"display_name":"Bruno Medeiros"},"score":1,"creation_date":1687182046,"post_id":71747671,"comment_id":134897019,"body_markdown":"OP, @icyerasor, I posted another answer that works in Kotlin, allows any method names and does not require another interface, so you do not lose context.","body":"OP, @icyerasor, I posted another answer that works in Kotlin, allows any method names and does not require another interface, so you do not lose context."}],"answers":[{"tags":[],"owner":{"account_id":24831020,"reputation":1,"user_id":18710184,"display_name":"Heshan Harinda"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698218884,"creation_date":1649145539,"answer_id":71748142,"question_id":71747671,"body_markdown":"You can simply create another interface like `FooRepositoryCustom` and also create an implementation class for that (`FooRepositoryCustomImpl`) and do your implementation on that `FooRepositoryCustomImpl` class and extend the `FooRepositoryCustom` interface to your `FooRepository` interface.\r\n\r\n`FooRepositoryCustom`:\r\n\r\n    public interface FooRepositoryCustom {\r\n        fun findByBar(bar: String): List&lt;Foo&gt;;\r\n    }\r\n\r\n\r\n`FooRepositoryCustomImpl`:\r\n\r\n    public class FooRepositoryCustomImpl implements FooRepositoryCustom {\r\n        @Override\r\n        public fun findByBar(bar: String): List&lt;Foo&gt; {\r\n              //your implementation goes here\r\n        }\r\n    }\r\n\r\n\r\n`FooRepository`:\r\n\r\n    interface FooRepository : JpaRepository&lt;Foo, Int&gt;, FooRepositoryCustom {\r\n    \r\n    }","title":"Spring JPA: How to disable query creation for certain method","body":"<p>You can simply create another interface like <code>FooRepositoryCustom</code> and also create an implementation class for that (<code>FooRepositoryCustomImpl</code>) and do your implementation on that <code>FooRepositoryCustomImpl</code> class and extend the <code>FooRepositoryCustom</code> interface to your <code>FooRepository</code> interface.</p>\n<p><code>FooRepositoryCustom</code>:</p>\n<pre><code>public interface FooRepositoryCustom {\n    fun findByBar(bar: String): List&lt;Foo&gt;;\n}\n</code></pre>\n<p><code>FooRepositoryCustomImpl</code>:</p>\n<pre><code>public class FooRepositoryCustomImpl implements FooRepositoryCustom {\n    @Override\n    public fun findByBar(bar: String): List&lt;Foo&gt; {\n          //your implementation goes here\n    }\n}\n</code></pre>\n<p><code>FooRepository</code>:</p>\n<pre><code>interface FooRepository : JpaRepository&lt;Foo, Int&gt;, FooRepositoryCustom {\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9114641,"reputation":41,"user_id":6782099,"display_name":"StephenRUK"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657873870,"creation_date":1657873870,"answer_id":72991204,"question_id":71747671,"body_markdown":"**Best practise:** As suggested by Heshan, you can add custom interfaces to your repository interface. Your implementation will be loaded (file name with &quot;Impl&quot; suffix) and it will override the default methods of the same name.\r\n\r\n**Extending JpaRepository:** Why do you want to extend the JpaRepository interface? If you do this, Spring will attempt to create a repository instance itself. To prevent this, annotate your repository *interface* with `@NoRepositoryBean`.\r\n\r\n```java\r\n@NoRepositoryBean\r\npublic interface FooRepositoryCustom extends JpaRepository&lt;Foo, Int&gt; {\r\n}\r\n```\r\n\r\n\r\n**Reference:** I am trying to do something similar with Spring Data Elasticsearch - override existing repository methods. I followed their documentation, see https://docs.spring.io/spring-data/elasticsearch/docs/4.1.15/reference/html/#repositories.custom-implementations","title":"Spring JPA: How to disable query creation for certain method","body":"<p><strong>Best practise:</strong> As suggested by Heshan, you can add custom interfaces to your repository interface. Your implementation will be loaded (file name with &quot;Impl&quot; suffix) and it will override the default methods of the same name.</p>\n<p><strong>Extending JpaRepository:</strong> Why do you want to extend the JpaRepository interface? If you do this, Spring will attempt to create a repository instance itself. To prevent this, annotate your repository <em>interface</em> with <code>@NoRepositoryBean</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@NoRepositoryBean\npublic interface FooRepositoryCustom extends JpaRepository&lt;Foo, Int&gt; {\n}\n</code></pre>\n<p><strong>Reference:</strong> I am trying to do something similar with Spring Data Elasticsearch - override existing repository methods. I followed their documentation, see <a href=\"https://docs.spring.io/spring-data/elasticsearch/docs/4.1.15/reference/html/#repositories.custom-implementations\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-data/elasticsearch/docs/4.1.15/reference/html/#repositories.custom-implementations</a></p>\n"},{"tags":[],"owner":{"account_id":63165,"reputation":2268,"user_id":187148,"display_name":"Bruno Medeiros"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687224597,"creation_date":1687181786,"answer_id":76507180,"question_id":71747671,"body_markdown":"TL;DR\r\n\r\n\r\nIf you want your repository custom method to just delegate to another method, writing a non-abstract method in your interface is the way to go.\r\n\r\nI Kotlin, though, you need to add the `-Xjvm-default=all` compile parameter, otherwise Spring will think your method does not have a body and will fail initialization anyway.\r\n\r\n----\r\n\r\nI just had the same problem today on a Spring/Kotlin project, and it seemed such a simple use case, I was wondering how we didn&#39;t have more people complaining about it.\r\n\r\nIt turns out this is a corner case of how Kotlin by default handles non-abstract methods in interfaces!\r\n\r\nThe solution everyone recommends, which is creating a separate interface and implementation for the custom methods, doesn&#39;t really work if you want to eventually delegate to a auto-generated method.\r\n\r\nAs I needed my `findByBar` equivalent to delegate, my first try was to simply write a body in the interface method, which is totally supported by Kotlin, that eventually delegates to an auto-generated method. To my surprise, Spring was still crashing saying that I needed to add an `@Query` annotation.\r\n\r\nThen, after seeing some other people successfully using `default` methods in Java (e.g [1][1] and [2][2]), I gave it a try. I created the same thing, in Java, with a `default` method in the interface, and it worked!\r\n\r\nAs Kotlin must be as capable as Java, it was just a matter of time until I figured I just needed the `-Xjvm-default=all` [compiler parameter][3] (full issue history [here][4]) so my non-abstract method was properly generated as a `default` interface method.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/26543612/should-i-use-java-8-default-methods-for-manually-implemented-spring-data-reposit\r\n  [2]: https://stackoverflow.com/questions/64801649/spring-jpa-repository-interface-and-default-methods-use-case\r\n  [3]: https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.jvm/-jvm-default/\r\n  [4]: https://youtrack.jetbrains.com/issue/KT-4779","title":"Spring JPA: How to disable query creation for certain method","body":"<p>TL;DR</p>\n<p>If you want your repository custom method to just delegate to another method, writing a non-abstract method in your interface is the way to go.</p>\n<p>I Kotlin, though, you need to add the <code>-Xjvm-default=all</code> compile parameter, otherwise Spring will think your method does not have a body and will fail initialization anyway.</p>\n<hr />\n<p>I just had the same problem today on a Spring/Kotlin project, and it seemed such a simple use case, I was wondering how we didn't have more people complaining about it.</p>\n<p>It turns out this is a corner case of how Kotlin by default handles non-abstract methods in interfaces!</p>\n<p>The solution everyone recommends, which is creating a separate interface and implementation for the custom methods, doesn't really work if you want to eventually delegate to a auto-generated method.</p>\n<p>As I needed my <code>findByBar</code> equivalent to delegate, my first try was to simply write a body in the interface method, which is totally supported by Kotlin, that eventually delegates to an auto-generated method. To my surprise, Spring was still crashing saying that I needed to add an <code>@Query</code> annotation.</p>\n<p>Then, after seeing some other people successfully using <code>default</code> methods in Java (e.g <a href=\"https://stackoverflow.com/questions/26543612/should-i-use-java-8-default-methods-for-manually-implemented-spring-data-reposit\">1</a> and <a href=\"https://stackoverflow.com/questions/64801649/spring-jpa-repository-interface-and-default-methods-use-case\">2</a>), I gave it a try. I created the same thing, in Java, with a <code>default</code> method in the interface, and it worked!</p>\n<p>As Kotlin must be as capable as Java, it was just a matter of time until I figured I just needed the <code>-Xjvm-default=all</code> <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.jvm/-jvm-default/\" rel=\"nofollow noreferrer\">compiler parameter</a> (full issue history <a href=\"https://youtrack.jetbrains.com/issue/KT-4779\" rel=\"nofollow noreferrer\">here</a>) so my non-abstract method was properly generated as a <code>default</code> interface method.</p>\n"}],"owner":{"account_id":18823411,"reputation":628,"user_id":13728893,"display_name":"true_mogician"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3626,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":3,"score":9,"last_activity_date":1698218884,"creation_date":1649143125,"question_id":71747671,"body_markdown":"I have a custom repository declared like below(written in Kotlin):\r\n```kt\r\ninterface FooRepository : JpaRepository&lt;Foo, Int&gt; {\r\n    fun findByFoo(foo: String): List&lt;Foo&gt;\r\n\r\n    fun findByBar(bar: String): List&lt;Foo&gt; {\r\n        //custom implementation\r\n    }\r\n}\r\n\r\ndata class Foo(var id: Int, var foo: String, var bar: String)\r\n```\r\nBoth methods satisfy the naming convention of JPA repository, but I want to implement the second method (`FooRepository.findByBar`) on my own. How can I prevent JPA from creating a query for it?  \r\nNote that my custom implementation involves computation logic, thus the `@Query` annotation that allows for a custom query doesn&#39;t meet my requirement.  \r\nBesides, in the real situation, it&#39;s necessary and reasonable to do this, so don&#39;t post your answer or comment if you&#39;re trying to suggest for a &quot;better&quot; design pattern, like placing the implementation in the service layer, etc.","title":"Spring JPA: How to disable query creation for certain method","body":"<p>I have a custom repository declared like below(written in Kotlin):</p>\n<pre><code>interface FooRepository : JpaRepository&lt;Foo, Int&gt; {\n    fun findByFoo(foo: String): List&lt;Foo&gt;\n\n    fun findByBar(bar: String): List&lt;Foo&gt; {\n        //custom implementation\n    }\n}\n\ndata class Foo(var id: Int, var foo: String, var bar: String)\n</code></pre>\n<p>Both methods satisfy the naming convention of JPA repository, but I want to implement the second method (<code>FooRepository.findByBar</code>) on my own. How can I prevent JPA from creating a query for it?<br />\nNote that my custom implementation involves computation logic, thus the <code>@Query</code> annotation that allows for a custom query doesn't meet my requirement.<br />\nBesides, in the real situation, it's necessary and reasonable to do this, so don't post your answer or comment if you're trying to suggest for a &quot;better&quot; design pattern, like placing the implementation in the service layer, etc.</p>\n"},{"tags":["java","bash","sudo"],"answers":[{"tags":[],"owner":{"account_id":308353,"reputation":9204,"user_id":620179,"display_name":"Lynch"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1394233282,"creation_date":1394232588,"answer_id":22262225,"question_id":21820343,"body_markdown":"The problem here is that the redirection does not get executed in the bash command you are invoking.\r\n\r\nTry using passing the command to execute as a string usin the -c option for bash:\r\n\r\n    sudo bash -c &quot;/home/me/path/myscript.sh arg1 arg2 arg3 &gt;&gt; /var/log/path/myscript.log 2&gt;&amp;1&quot;\r\n\r\nIn order to use the java ProcessBuilder with this command I would try construct it like this:\r\n\r\n    new ProcessBuilder(&quot;sudo&quot;, &quot;bash&quot;, &quot;-c&quot;, &quot;/home/me/path/myscript.sh arg1 arg2 arg3 &gt;&gt; /var/log/path/myscript.log 2&gt;&amp;1&quot;);\r\n\r\nWith this use of ProcessBuilder you are basically asking it to execute the command sudo and provide to it 3 parameters. In return sudo will invoke your command like this: `bash -c &quot;...&quot;`.\r\n\r\nYou might still have a problem when the process will prompt for the sudo password.\r\n","title":"What is the right command format for Java ProcessBuilder sudo bash command?","body":"<p>The problem here is that the redirection does not get executed in the bash command you are invoking.</p>\n\n<p>Try using passing the command to execute as a string usin the -c option for bash:</p>\n\n<pre><code>sudo bash -c \"/home/me/path/myscript.sh arg1 arg2 arg3 &gt;&gt; /var/log/path/myscript.log 2&gt;&amp;1\"\n</code></pre>\n\n<p>In order to use the java ProcessBuilder with this command I would try construct it like this:</p>\n\n<pre><code>new ProcessBuilder(\"sudo\", \"bash\", \"-c\", \"/home/me/path/myscript.sh arg1 arg2 arg3 &gt;&gt; /var/log/path/myscript.log 2&gt;&amp;1\");\n</code></pre>\n\n<p>With this use of ProcessBuilder you are basically asking it to execute the command sudo and provide to it 3 parameters. In return sudo will invoke your command like this: <code>bash -c \"...\"</code>.</p>\n\n<p>You might still have a problem when the process will prompt for the sudo password.</p>\n"},{"tags":[],"owner":{"account_id":10079756,"reputation":635,"user_id":7450531,"display_name":"sadati boina"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698218883,"creation_date":1698218883,"answer_id":77357398,"question_id":21820343,"body_markdown":"     \r\n    ProcessBuilder processBuilder = new ProcessBuilder();\r\n    processBuilder.command(&quot;bash&quot;, &quot;-c&quot;,&quot;sudo su - yoursuperuser -c \\&quot;yourcommandorscript\\&quot;&quot;);\r\n            Process process = processBuilder.start();\r\n            showProcess(process);\r\n        \r\n    \r\n        \r\n    \r\n        private void showProcess(Process process) throws IOException, InterruptedException {\r\n            try {\r\n                StringBuilder output = new StringBuilder();\r\n    \r\n                BufferedReader reader = new BufferedReader(\r\n                        new InputStreamReader(process.getInputStream()));\r\n                String line;\r\n                while ((line = reader.readLine()) != null) {\r\n                    output.append(line + &quot;\\n&quot;);\r\n                }\r\n    \r\n                int exitVal = process.waitFor();\r\n                if (exitVal == 0) {\r\n                    System.out.println(&quot;Success!&quot;);\r\n                    System.out.println(output);\r\n                    System.exit(0);\r\n                }\r\n    \r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            } catch (InterruptedException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }","title":"What is the right command format for Java ProcessBuilder sudo bash command?","body":"<pre><code>ProcessBuilder processBuilder = new ProcessBuilder();\nprocessBuilder.command(&quot;bash&quot;, &quot;-c&quot;,&quot;sudo su - yoursuperuser -c \\&quot;yourcommandorscript\\&quot;&quot;);\n        Process process = processBuilder.start();\n        showProcess(process);\n    \n\n    \n\n    private void showProcess(Process process) throws IOException, InterruptedException {\n        try {\n            StringBuilder output = new StringBuilder();\n\n            BufferedReader reader = new BufferedReader(\n                    new InputStreamReader(process.getInputStream()));\n            String line;\n            while ((line = reader.readLine()) != null) {\n                output.append(line + &quot;\\n&quot;);\n            }\n\n            int exitVal = process.waitFor();\n            if (exitVal == 0) {\n                System.out.println(&quot;Success!&quot;);\n                System.out.println(output);\n                System.exit(0);\n            }\n\n        } catch (IOException e) {\n            e.printStackTrace();\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":211682,"reputation":6257,"user_id":463994,"accept_rate":85,"display_name":"MountainX"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4444,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1698218883,"creation_date":1392608699,"question_id":21820343,"body_markdown":"How to execute a command like this (with sudo) from Java ProcessBuilder? (I do not need to include a password because the normal user has permission to run myscript.log as root without a password.)\r\n\r\n    sudo bash /home/me/path/myscript.sh arg1 arg2 arg3 &gt;&gt; /var/log/path/myscript.log 2&gt;&amp;1\r\n\r\nMy question is how do the elements of this command get passed into the constructor of Java&#39;s `ProcessBuilder`?\r\n\r\nFor example, is &quot;sudo&quot; the first argument to the `ProcessBuilder` ctor, the last, or somewhere else? And how do you know where they go and which elements of the command become arguments to `ProcessBuilder`?","title":"What is the right command format for Java ProcessBuilder sudo bash command?","body":"<p>How to execute a command like this (with sudo) from Java ProcessBuilder? (I do not need to include a password because the normal user has permission to run myscript.log as root without a password.)</p>\n\n<pre><code>sudo bash /home/me/path/myscript.sh arg1 arg2 arg3 &gt;&gt; /var/log/path/myscript.log 2&gt;&amp;1\n</code></pre>\n\n<p>My question is how do the elements of this command get passed into the constructor of Java's <code>ProcessBuilder</code>?</p>\n\n<p>For example, is \"sudo\" the first argument to the <code>ProcessBuilder</code> ctor, the last, or somewhere else? And how do you know where they go and which elements of the command become arguments to <code>ProcessBuilder</code>?</p>\n"},{"tags":["java","kotlin","jooq"],"comments":[{"owner":{"account_id":309603,"reputation":2817,"user_id":622145,"accept_rate":95,"display_name":"Twistleton"},"score":2,"creation_date":1698163441,"post_id":77353438,"comment_id":136369165,"body_markdown":"If the date is null, could you not set 01.01.1970 for the past? And for the future the 31.12.9999? Then you could also use the between() method, right?","body":"If the date is null, could you not set 01.01.1970 for the past? And for the future the 31.12.9999? Then you could also use the between() method, right?"}],"answers":[{"tags":[],"owner":{"account_id":13210775,"reputation":967,"user_id":9541096,"display_name":"Owais Yosuf"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698170110,"creation_date":1698170110,"answer_id":77354375,"question_id":77353438,"body_markdown":"In JOOQ, you can use the **between** method to create a **BETWEEN** condition for dates, but when dealing with nullable dates, you need to handle the null values in your query. Here&#39;s a common way to do this:\r\n\r\n    import static org.jooq.impl.DSL.*;\r\n    \r\n    Date from = ...; // Your from date\r\n    Date to = ...;   // Your to date\r\n    \r\n    // Assuming you have a field &quot;dateField&quot; in your table\r\n    Field&lt;Date&gt; dateField = ...; \r\n    \r\n    Condition condition = dateField.between(from, to)\r\n        .or(dateField.greaterOrEqual(from).and(dateField.lessOrEqual(to)))\r\n        .or(dateField.isNull());\r\n    \r\n    // Now you can use the &quot;condition&quot; in your query","title":"Is there a way to use jooq between method(or something similar) to work with nullable dates?","body":"<p>In JOOQ, you can use the <strong>between</strong> method to create a <strong>BETWEEN</strong> condition for dates, but when dealing with nullable dates, you need to handle the null values in your query. Here's a common way to do this:</p>\n<pre><code>import static org.jooq.impl.DSL.*;\n\nDate from = ...; // Your from date\nDate to = ...;   // Your to date\n\n// Assuming you have a field &quot;dateField&quot; in your table\nField&lt;Date&gt; dateField = ...; \n\nCondition condition = dateField.between(from, to)\n    .or(dateField.greaterOrEqual(from).and(dateField.lessOrEqual(to)))\n    .or(dateField.isNull());\n\n// Now you can use the &quot;condition&quot; in your query\n</code></pre>\n"},{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698218401,"creation_date":1698218401,"answer_id":77357344,"question_id":77353438,"body_markdown":"There&#39;s a pending feature request for a synthetic `BETWEEN UNBOUNDED ON NULL` syntax:\r\n\r\n- https://github.com/jOOQ/jOOQ/issues/8926\r\n\r\nIt would emulate a hypothetical SQL syntax as follows:\r\n\r\n```sql\r\na BETWEEN UNBOUNDED ON NULL NULL AND NULL\r\nb BETWEEN UNBOUNDED ON NULL NULL AND 10\r\nc BETWEEN UNBOUNDED ON NULL -10 AND NULL\r\nd BETWEEN UNBOUNDED ON NULL -10 AND 10\r\n```\r\n\r\nProbably what most people would expect. Until that&#39;s implemented out of the box, you&#39;ll have to implement it yourself as you suggested, using some sort of &quot;minimum&quot; and &quot;maximum&quot; date that can never appear as an actual date in your system, e.g.\r\n\r\n```java\r\nField&lt;Date&gt; min = inline(Date.valueOf(&quot;1970-01-01&quot;));\r\nField&lt;Date&gt; max = inline(Date.valueOf(&quot;9999-12-31&quot;));\r\n\r\nCondition c = T.COL.ge(coalesce(from, min)).and(T.COL.le(coalesce(to, max)));\r\n```\r\n\r\nOr, implement the coalesce logic in Java, directly:\r\n\r\n```java\r\nCondition c = T.COL.ge(from != null ? from : min))\r\n         .and(T.COL.le(to != null ? to : max));\r\n```\r\n","title":"Is there a way to use jooq between method(or something similar) to work with nullable dates?","body":"<p>There's a pending feature request for a synthetic <code>BETWEEN UNBOUNDED ON NULL</code> syntax:</p>\n<ul>\n<li><a href=\"https://github.com/jOOQ/jOOQ/issues/8926\" rel=\"nofollow noreferrer\">https://github.com/jOOQ/jOOQ/issues/8926</a></li>\n</ul>\n<p>It would emulate a hypothetical SQL syntax as follows:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>a BETWEEN UNBOUNDED ON NULL NULL AND NULL\nb BETWEEN UNBOUNDED ON NULL NULL AND 10\nc BETWEEN UNBOUNDED ON NULL -10 AND NULL\nd BETWEEN UNBOUNDED ON NULL -10 AND 10\n</code></pre>\n<p>Probably what most people would expect. Until that's implemented out of the box, you'll have to implement it yourself as you suggested, using some sort of &quot;minimum&quot; and &quot;maximum&quot; date that can never appear as an actual date in your system, e.g.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Field&lt;Date&gt; min = inline(Date.valueOf(&quot;1970-01-01&quot;));\nField&lt;Date&gt; max = inline(Date.valueOf(&quot;9999-12-31&quot;));\n\nCondition c = T.COL.ge(coalesce(from, min)).and(T.COL.le(coalesce(to, max)));\n</code></pre>\n<p>Or, implement the coalesce logic in Java, directly:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Condition c = T.COL.ge(from != null ? from : min))\n         .and(T.COL.le(to != null ? to : max));\n</code></pre>\n"}],"owner":{"account_id":10994543,"reputation":31,"user_id":8077235,"display_name":"Daniil Spirin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1698218401,"creation_date":1698161390,"question_id":77353438,"body_markdown":"I&#39;m trying to generate BETWEEN condition for two dates(from, to). one of them can be null and i&#39;m forced to use lessThan, greaterThan instead of between in such case. is there another way?\r\n\r\ntried to use standard jooq&#39;s between() method ","title":"Is there a way to use jooq between method(or something similar) to work with nullable dates?","body":"<p>I'm trying to generate BETWEEN condition for two dates(from, to). one of them can be null and i'm forced to use lessThan, greaterThan instead of between in such case. is there another way?</p>\n<p>tried to use standard jooq's between() method</p>\n"},{"tags":["java","apache-flink","flink-streaming"],"comments":[{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1698222280,"post_id":77357200,"comment_id":136376328,"body_markdown":"Just out of curiosity, have you tried to compare the default flink configurations between 1.13 and 1.17 to see if there is a difference in how state/memory is managed?\n\nCan you downgrade to 1.13 to see if you can go back to your initial checkpoint size.   This might be code/state related and not the version, but cant be 100% sure until you downgrade to 1.13 with your latest code and verify that the checkpoint size does go down or not.","body":"Just out of curiosity, have you tried to compare the default flink configurations between 1.13 and 1.17 to see if there is a difference in how state/memory is managed?  Can you downgrade to 1.13 to see if you can go back to your initial checkpoint size.   This might be code/state related and not the version, but cant be 100% sure until you downgrade to 1.13 with your latest code and verify that the checkpoint size does go down or not."},{"owner":{"account_id":2274094,"reputation":40354,"user_id":2000823,"display_name":"David Anderson"},"score":0,"creation_date":1698265505,"post_id":77357200,"comment_id":136384950,"body_markdown":"Did you make _any_ configuration changes? Which state backend is this (is your state in RocksDB, or on the heap)?","body":"Did you make <i>any</i> configuration changes? Which state backend is this (is your state in RocksDB, or on the heap)?"},{"owner":{"account_id":21886042,"reputation":1703,"user_id":16173669,"display_name":"Martijn Visser"},"score":0,"creation_date":1698668328,"post_id":77357200,"comment_id":136430367,"body_markdown":"Have you used any of the claim modes that were introduced with Flink 1.15? https://nightlies.apache.org/flink/flink-docs-master/release-notes/flink-1.15/#checkpoints","body":"Have you used any of the claim modes that were introduced with Flink 1.15? <a href=\"https://nightlies.apache.org/flink/flink-docs-master/release-notes/flink-1.15/#checkpoints\" rel=\"nofollow noreferrer\">nightlies.apache.org/flink/flink-docs-master/release-notes/&hellip;</a>"}],"owner":{"account_id":19463399,"reputation":1,"user_id":14237189,"display_name":"FelixNavidad"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698218045,"creation_date":1698217022,"question_id":77357200,"body_markdown":"[Flink checkpoint sizes across 90 days](https://i.stack.imgur.com/zyyl2.png)\r\n\r\nWe have a few Flink services which we recently upgraded from 1.13 to 1.17. No other significant code changes have been made. Our apps checkpoint at a 2 minute interval. Post upgrade, we noticed that the checkpoint size kept increasing. It was only reset when we redeployed the application without using the recent checkpoint. As you see in the image, the orange-ish brown line was checkpoint size during the Flink 1.13. Since then it has been Flink 1.17, and the drops indicate points of redeployment and starting fresh.\r\n\r\nWhat are the possible reasons for this behaviour?\r\n\r\nAll our states have a TTL. All our Windows have their respective aggregate functions.","title":"Flink 1.17 Upgrade Resulting in Ever Increasing Checkpoint Size","body":"<p><a href=\"https://i.stack.imgur.com/zyyl2.png\" rel=\"nofollow noreferrer\">Flink checkpoint sizes across 90 days</a></p>\n<p>We have a few Flink services which we recently upgraded from 1.13 to 1.17. No other significant code changes have been made. Our apps checkpoint at a 2 minute interval. Post upgrade, we noticed that the checkpoint size kept increasing. It was only reset when we redeployed the application without using the recent checkpoint. As you see in the image, the orange-ish brown line was checkpoint size during the Flink 1.13. Since then it has been Flink 1.17, and the drops indicate points of redeployment and starting fresh.</p>\n<p>What are the possible reasons for this behaviour?</p>\n<p>All our states have a TTL. All our Windows have their respective aggregate functions.</p>\n"},{"tags":["java","android","kotlin","androidx","static-analysis"],"comments":[{"owner":{"account_id":1849514,"reputation":193868,"user_id":1676363,"accept_rate":100,"display_name":"ianhanniballake"},"score":0,"creation_date":1698101994,"post_id":77348211,"comment_id":136360272,"body_markdown":"Can you include your `dependencies` block from your `build.gradle`? Do you only have a dependency on `AppCompat` or do you have an explicit dependency on a specific version of Fragment and Activity?","body":"Can you include your <code>dependencies</code> block from your <code>build.gradle</code>? Do you only have a dependency on <code>AppCompat</code> or do you have an explicit dependency on a specific version of Fragment and Activity?"},{"owner":{"account_id":7740347,"reputation":452,"user_id":5860352,"display_name":"Doron Ben-Ari"},"score":0,"creation_date":1698134764,"post_id":77348211,"comment_id":136363423,"body_markdown":"@ianhanniballake Following your comment I removed almost everything with androidx from my app build.gradle. I kept only androidx.navigation. Cleared build and cache. Somehow everything still compiles perfectly. But the issue remains.","body":"@ianhanniballake Following your comment I removed almost everything with androidx from my app build.gradle. I kept only androidx.navigation. Cleared build and cache. Somehow everything still compiles perfectly. But the issue remains."},{"owner":{"account_id":1849514,"reputation":193868,"user_id":1676363,"accept_rate":100,"display_name":"ianhanniballake"},"score":0,"creation_date":1698154969,"post_id":77348211,"comment_id":136367166,"body_markdown":"I think you need to do the opposite, actually: have an explicit dependency on the AppCompat, Fragment, and Activity versions you want to be using.","body":"I think you need to do the opposite, actually: have an explicit dependency on the AppCompat, Fragment, and Activity versions you want to be using."},{"owner":{"account_id":7740347,"reputation":452,"user_id":5860352,"display_name":"Doron Ben-Ari"},"score":0,"creation_date":1698178701,"post_id":77348211,"comment_id":136371808,"body_markdown":"&quot;androidx.activity:activity:1.7.1&quot;, &quot;androidx.activity:activity-compose:1.7.1&quot; &quot;androidx.activity:activity-ktx:1.7.1&quot;, did not solve it. I actually do not know why is it using 1.7.1 when clicking the casted objects. But this is why I tried 1.7.1. I also tried 1.8.0.","body":"&quot;androidx.activity:activity:1.7.1&quot;, &quot;androidx.activity:activity-compose:1.7.1&quot; &quot;androidx.activity:activity-ktx:1.7.1&quot;, did not solve it. I actually do not know why is it using 1.7.1 when clicking the casted objects. But this is why I tried 1.7.1. I also tried 1.8.0."}],"answers":[{"tags":[],"owner":{"account_id":7740347,"reputation":452,"user_id":5860352,"display_name":"Doron Ben-Ari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698217885,"creation_date":1698184341,"answer_id":77355586,"question_id":77348211,"body_markdown":"I have found the cause and a solution, but at the bottom line this seems to me like a Gradle bug.\r\n------------------------------------------------------------------------\r\n\r\nIn my app&#39;s build.gradle, in the dependencies block, I am including a dependency to my own library:\r\n\r\n    implementation project(path: &#39;:mylib&#39;)\r\n\r\nAFAIU this should not have and does not have any influence on the compilation of anything else in my main project (except where directly using mylib).\r\n\r\nmylib is old and serves specifc purpose and generally I have no reason to update it. Its build.gradle has this dependency:\r\n\r\n    implementation &#39;androidx.appcompat:appcompat:1.0.1&#39;\r\n\r\nThis is causing the lint issue.\r\nLuckily, I could ugrade to `&#39;androidx.appcompat:appcompat:1.6.1&#39;` without any other change.\r\n\r\n\r\n\r\n\r\n","title":"Android Studio Lint does not recognize AppCompatActivity as subclass of FragmentActivity","body":"<h2>I have found the cause and a solution, but at the bottom line this seems to me like a Gradle bug.</h2>\n<p>In my app's build.gradle, in the dependencies block, I am including a dependency to my own library:</p>\n<pre><code>implementation project(path: ':mylib')\n</code></pre>\n<p>AFAIU this should not have and does not have any influence on the compilation of anything else in my main project (except where directly using mylib).</p>\n<p>mylib is old and serves specifc purpose and generally I have no reason to update it. Its build.gradle has this dependency:</p>\n<pre><code>implementation 'androidx.appcompat:appcompat:1.0.1'\n</code></pre>\n<p>This is causing the lint issue.\nLuckily, I could ugrade to <code>'androidx.appcompat:appcompat:1.6.1'</code> without any other change.</p>\n"}],"owner":{"account_id":7740347,"reputation":452,"user_id":5860352,"display_name":"Doron Ben-Ari"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1698217885,"creation_date":1698093692,"question_id":77348211,"body_markdown":"My MainActivity is a subclass of AppCompatActivity:\r\n\r\n    class MainActivity : AppCompatActivity() {\r\n\r\nAnd in some places in the code I use functions and properties of FragmentActivity, like `invalidateMenu()` and `onBackPressedDispatcher`.\r\n\r\n**Everything compiles just fine and works just fine.**\r\nThe only issue is that Android Studio lint does not recognize AppCompatActivity as derived from FragmentActivity.\r\n\r\nI have not encountered any other issues with lint in my code, but this issue does happen in any activity where I use FragmentActivity functions and properties in a subclass of AppCompatActivity.\r\n\r\nUnresolved:&lt;BR&gt;\r\n[![unresolved1][1]][1]\r\n\r\nResolved (cast just for testing):&lt;BR&gt;\r\n[![resolved1][2]][2]\r\n\r\nUnresolved:&lt;BR&gt;\r\n[![unresolved2][3]][3]\r\n\r\nResolved (cast just for testing):&lt;BR&gt;\r\n[![resolved2][4]][4]\r\n\r\n&lt;BR&gt;Problems window:&lt;BR&gt;\r\n[![problems][5]][5]\r\n\r\nEDIT- More information:\r\n-----------------------\r\nA sequence of ctrl+click on AppCompatActivity takes me eventually to `...gradle\\caches\\modules-2\\files-2.1\\androidx.core\\core\\1.0.0...` where \r\n\r\n    public class ComponentActivity extends Activity\r\n            implements LifecycleOwner, KeyEventDispatcher.Component { \r\n\r\nA ctrl+click on onBackPressedDispatcher with the cast test takes me to \r\n`...gradle\\caches\\modules-2\\files-2.1\\androidx.activity\\activity\\1.7.1\\...` where \r\n\r\n    public class ComponentActivity extends androidx.core.app.ComponentActivity implements\r\n            ContextAware,\r\n            LifecycleOwner,\r\n            ViewModelStoreOwner,\r\n            HasDefaultViewModelProviderFactory,\r\n            SavedStateRegistryOwner,\r\n            OnBackPressedDispatcherOwner,\r\n            ActivityResultRegistryOwner,\r\n            ActivityResultCaller,\r\n            OnConfigurationChangedProvider,\r\n            OnTrimMemoryProvider,\r\n            OnNewIntentProvider,\r\n            OnMultiWindowModeChangedProvider,\r\n            OnPictureInPictureModeChangedProvider,\r\n            MenuHost,\r\n            FullyDrawnReporterOwner {\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NLB0I.jpg\r\n  [2]: https://i.stack.imgur.com/DfdGr.jpg\r\n  [3]: https://i.stack.imgur.com/YOMmt.jpg\r\n  [4]: https://i.stack.imgur.com/0YrQc.jpg\r\n  [5]: https://i.stack.imgur.com/xC2jF.jpg","title":"Android Studio Lint does not recognize AppCompatActivity as subclass of FragmentActivity","body":"<p>My MainActivity is a subclass of AppCompatActivity:</p>\n<pre><code>class MainActivity : AppCompatActivity() {\n</code></pre>\n<p>And in some places in the code I use functions and properties of FragmentActivity, like <code>invalidateMenu()</code> and <code>onBackPressedDispatcher</code>.</p>\n<p><strong>Everything compiles just fine and works just fine.</strong>\nThe only issue is that Android Studio lint does not recognize AppCompatActivity as derived from FragmentActivity.</p>\n<p>I have not encountered any other issues with lint in my code, but this issue does happen in any activity where I use FragmentActivity functions and properties in a subclass of AppCompatActivity.</p>\n<p>Unresolved:<BR>\n<a href=\"https://i.stack.imgur.com/NLB0I.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NLB0I.jpg\" alt=\"unresolved1\" /></a></p>\n<p>Resolved (cast just for testing):<BR>\n<a href=\"https://i.stack.imgur.com/DfdGr.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DfdGr.jpg\" alt=\"resolved1\" /></a></p>\n<p>Unresolved:<BR>\n<a href=\"https://i.stack.imgur.com/YOMmt.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YOMmt.jpg\" alt=\"unresolved2\" /></a></p>\n<p>Resolved (cast just for testing):<BR>\n<a href=\"https://i.stack.imgur.com/0YrQc.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0YrQc.jpg\" alt=\"resolved2\" /></a></p>\n<p><BR>Problems window:<BR>\n<a href=\"https://i.stack.imgur.com/xC2jF.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xC2jF.jpg\" alt=\"problems\" /></a></p>\n<h2>EDIT- More information:</h2>\n<p>A sequence of ctrl+click on AppCompatActivity takes me eventually to <code>...gradle\\caches\\modules-2\\files-2.1\\androidx.core\\core\\1.0.0...</code> where</p>\n<pre><code>public class ComponentActivity extends Activity\n        implements LifecycleOwner, KeyEventDispatcher.Component { \n</code></pre>\n<p>A ctrl+click on onBackPressedDispatcher with the cast test takes me to\n<code>...gradle\\caches\\modules-2\\files-2.1\\androidx.activity\\activity\\1.7.1\\...</code> where</p>\n<pre><code>public class ComponentActivity extends androidx.core.app.ComponentActivity implements\n        ContextAware,\n        LifecycleOwner,\n        ViewModelStoreOwner,\n        HasDefaultViewModelProviderFactory,\n        SavedStateRegistryOwner,\n        OnBackPressedDispatcherOwner,\n        ActivityResultRegistryOwner,\n        ActivityResultCaller,\n        OnConfigurationChangedProvider,\n        OnTrimMemoryProvider,\n        OnNewIntentProvider,\n        OnMultiWindowModeChangedProvider,\n        OnPictureInPictureModeChangedProvider,\n        MenuHost,\n        FullyDrawnReporterOwner {\n</code></pre>\n"},{"tags":["java","spring-webflux"],"answers":[{"tags":[],"owner":{"account_id":28426803,"reputation":15,"user_id":21748054,"display_name":"MiKa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698217691,"creation_date":1698217691,"answer_id":77357274,"question_id":77354134,"body_markdown":"I finally found my problem ... I&#39;ve added a flatmap and a private method that handles this code.\r\n\r\n    public Mono&lt;Void&gt; createThings(Flux&lt;Thing&gt; things) {\r\n      return things\r\n        .map(mapper::toEntity)\r\n        .map(ThingEntity::onCreate)\r\n        .map(thingEntity -&gt; {\r\n\r\n            // set the date\r\n            if (thingEntity.getSomething() != null &amp;&amp;\r\n                    thingEntity.getSomething().equals(&quot;truc&quot;)) {\r\n                thingEntity.setDateTruc(LocalDate.now());\r\n            }\r\n\r\n            return thingEntity;\r\n        })\r\n        .flatMap(this::myPrivateMethod)\r\n        .flatMap(repository::save)\r\n        .doOnError(error -&gt; log.error(&quot;Error : &quot;, error))\r\n        .then(Mono.empty());","title":"Call repository method into a map","body":"<p>I finally found my problem ... I've added a flatmap and a private method that handles this code.</p>\n<pre><code>public Mono&lt;Void&gt; createThings(Flux&lt;Thing&gt; things) {\n  return things\n    .map(mapper::toEntity)\n    .map(ThingEntity::onCreate)\n    .map(thingEntity -&gt; {\n\n        // set the date\n        if (thingEntity.getSomething() != null &amp;&amp;\n                thingEntity.getSomething().equals(&quot;truc&quot;)) {\n            thingEntity.setDateTruc(LocalDate.now());\n        }\n\n        return thingEntity;\n    })\n    .flatMap(this::myPrivateMethod)\n    .flatMap(repository::save)\n    .doOnError(error -&gt; log.error(&quot;Error : &quot;, error))\n    .then(Mono.empty());\n</code></pre>\n"}],"owner":{"account_id":28426803,"reputation":15,"user_id":21748054,"display_name":"MiKa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1698217691,"creation_date":1698167878,"question_id":77354134,"body_markdown":"I&#39;m new to webflow and I&#39;m stuck... I think I&#39;m doing it wrong.\r\nIn my service i have this method :\r\n\r\n    public Mono&lt;Void&gt; createThings(Flux&lt;Thing&gt; things) {\r\n    return things\r\n            .map(mapper::toEntity)\r\n            .map(ThingEntity::onCreate)\r\n            .map(thingEntity -&gt; {\r\n  \r\n                // set the date\r\n                if (thingEntity.getSomething() != null &amp;&amp;\r\n                        thingEntity.getSomething().equals(&quot;truc&quot;)) {\r\n                    thingEntity.setDateTruc(LocalDate.now());\r\n                }\r\n                // if exists, set others dates\r\n                repository\r\n                        .existsByNumberThing(thingEntity.getNumberThing())\r\n                        .map(exists -&gt; {\r\n                            thingEntity.setDate1(Boolean.TRUE.equals(exists)?LocalDateTime.now():null);\r\n                            thingEntity.setDate2(Boolean.TRUE.equals(exists)?null:LocalDateTime.now());\r\n                            return thingEntity;\r\n                        });\r\n\r\n                return thingEntity;\r\n            })\r\n            .flatMap(repository::save)\r\n            .doOnError(error -&gt; log.error(&quot;Error : &quot;, error))\r\n            .then(Mono.empty());\r\n }\r\n\r\nDates date1 and date2 have not changed ...\r\nI tried to use a flatMap, to return a Mono but errors in repository.save() :\r\n\r\n&gt; java: incompatible types: cannot infer type-variable(s) R\r\n    (argument mismatch; invalid method reference\r\n      method save in interface \r\n\r\nI don&#39;t know how to do it, thanks for your help.","title":"Call repository method into a map","body":"<p>I'm new to webflow and I'm stuck... I think I'm doing it wrong.\nIn my service i have this method :</p>\n<pre><code>public Mono&lt;Void&gt; createThings(Flux&lt;Thing&gt; things) {\nreturn things\n        .map(mapper::toEntity)\n        .map(ThingEntity::onCreate)\n        .map(thingEntity -&gt; {\n\n            // set the date\n            if (thingEntity.getSomething() != null &amp;&amp;\n                    thingEntity.getSomething().equals(&quot;truc&quot;)) {\n                thingEntity.setDateTruc(LocalDate.now());\n            }\n            // if exists, set others dates\n            repository\n                    .existsByNumberThing(thingEntity.getNumberThing())\n                    .map(exists -&gt; {\n                        thingEntity.setDate1(Boolean.TRUE.equals(exists)?LocalDateTime.now():null);\n                        thingEntity.setDate2(Boolean.TRUE.equals(exists)?null:LocalDateTime.now());\n                        return thingEntity;\n                    });\n\n            return thingEntity;\n        })\n        .flatMap(repository::save)\n        .doOnError(error -&gt; log.error(&quot;Error : &quot;, error))\n        .then(Mono.empty());\n</code></pre>\n<p>}</p>\n<p>Dates date1 and date2 have not changed ...\nI tried to use a flatMap, to return a Mono but errors in repository.save() :</p>\n<blockquote>\n<p>java: incompatible types: cannot infer type-variable(s) R\n(argument mismatch; invalid method reference\nmethod save in interface</p>\n</blockquote>\n<p>I don't know how to do it, thanks for your help.</p>\n"},{"tags":["java","authentication","import-from-excel"],"comments":[{"owner":{"account_id":2348349,"reputation":44453,"user_id":2057919,"accept_rate":100,"display_name":"elixenide"},"score":0,"creation_date":1437278167,"post_id":31497755,"comment_id":50959187,"body_markdown":"Do you have a question?","body":"Do you have a question?"}],"answers":[{"tags":[],"owner":{"account_id":7194099,"reputation":1,"user_id":5493459,"display_name":"nitin dubey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1445946631,"creation_date":1445946631,"answer_id":33367258,"question_id":31497755,"body_markdown":"you can try this... It&#39;s not completely customized but it will help...\r\n\r\npublic static void selectData(String tcid,String fieldName) throws FilloException{\r\n\r\n\t\tFillo fillo=new Fillo();\r\n\t\tConnection connection=fillo.getConnection(&quot;testdata//testcasedata.xlsx&quot;);\r\n\t\tString strQuery=&quot;Select * from data where TCID=&#39;&quot;+tcid+&quot;&#39;&quot;;\r\n\t\tRecordset recordset=connection.executeQuery(strQuery);\r\n\t\twhile(recordset.next()){\r\n\t\t\tArrayList&lt;String&gt; dataColl=recordset.getFieldNames();\r\n\t\t\t//System.out.println(dataColl);\r\n\t\t\tIterator&lt;String&gt; dataIterator=dataColl.iterator();\r\n\t\t\t//System.out.println(dataColl.size());\t\r\n\r\n\t\t\twhile(dataIterator.hasNext()){\r\n\t\t\t\tfor (int i=0;i&lt;=dataColl.size()-1;i++){\r\n\t\t\t\t\t//System.out.println(i);\r\n\t\t\t\t\tString data=dataIterator.next();\r\n\t\t\t\t\tString dataVal=recordset.getField(data);\r\n\r\n\t\t\t\t\tif (dataVal.equalsIgnoreCase(fieldName)){\r\n\t\t\t\t\t\t//System.out.println(&quot;passed&quot;);\r\n\t\t\t\t\t\ti=i+1;\r\n\t\t\t\t\t\t//System.out.println(i);\r\n\t\t\t\t\t\tString testData=dataColl.get(i);\r\n\t\t\t\t\t\tSystem.out.println(recordset.getField(testData));\t\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\trecordset.close();\r\n\t\tconnection.close();\r\n\r\n\t}","title":"Fillo Implementation","body":"<p>you can try this... It's not completely customized but it will help...</p>\n\n<p>public static void selectData(String tcid,String fieldName) throws FilloException{</p>\n\n<pre><code>    Fillo fillo=new Fillo();\n    Connection connection=fillo.getConnection(\"testdata//testcasedata.xlsx\");\n    String strQuery=\"Select * from data where TCID='\"+tcid+\"'\";\n    Recordset recordset=connection.executeQuery(strQuery);\n    while(recordset.next()){\n        ArrayList&lt;String&gt; dataColl=recordset.getFieldNames();\n        //System.out.println(dataColl);\n        Iterator&lt;String&gt; dataIterator=dataColl.iterator();\n        //System.out.println(dataColl.size());  \n\n        while(dataIterator.hasNext()){\n            for (int i=0;i&lt;=dataColl.size()-1;i++){\n                //System.out.println(i);\n                String data=dataIterator.next();\n                String dataVal=recordset.getField(data);\n\n                if (dataVal.equalsIgnoreCase(fieldName)){\n                    //System.out.println(\"passed\");\n                    i=i+1;\n                    //System.out.println(i);\n                    String testData=dataColl.get(i);\n                    System.out.println(recordset.getField(testData));   \n\n                }\n\n            }\n\n            break;\n        }\n    }\n\n    recordset.close();\n    connection.close();\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7006989,"reputation":1,"user_id":5371038,"display_name":"Nitin Dubey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1452775875,"creation_date":1452775875,"answer_id":34790107,"question_id":31497755,"body_markdown":"You will have to arrange your table like database as fillo works like database. \r\nPut everything related to a test case in a row. as attached.\r\n\r\nbelow is the code for reader and calling the login class. \r\n\r\n            package com.evs.vtiger.framework.util;\r\n    \r\n            import java.util.ArrayList;\r\n    import java.util.Iterator;\r\n    \r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.WebElement;\r\n    import org.openqa.selenium.firefox.FirefoxDriver;\r\n    import org.openqa.selenium.support.PageFactory;\r\n    \r\n    import com.evs.vtiger.framework.pages.home.myhomepage.HomePage;\r\n    \r\n    import Exception.FilloException;\r\n    import Fillo.Connection;\r\n    import Fillo.Fillo;\r\n    import Fillo.Recordset;\r\n    import com.evs.vtiger.framework.pages.login.login.LoginPage;\r\n    \r\n    public class TestingFillo {\r\n    \r\n    \tpublic static void main(String[] args) throws FilloException {\r\n    \r\n    \t\tWebDriver driver=new FirefoxDriver();\r\n    \t\tdriver.manage().window().maximize();\r\n    \t\tdriver.get(&quot;http://localhost:8080/NBOWeb&quot;);\r\n    \t\tLoginPage lpObj=PageFactory.initElements(driver, LoginPage.class);\r\n    \t\tlpObj.pg_ValidLogin(&quot;TC001&quot;);\r\n    \r\n    \t}\r\n    \r\n    \tpublic static String getTestValue(String TCID, String fieldName) throws FilloException{\r\n    \r\n    \t\tString testString=xlTesting(TCID, fieldName);\r\n    \t\treturn testString;\r\n    \r\n    \t}\r\n    \r\n    \tpublic static String xlTesting(String tcid,String fieldName) throws FilloException{\r\n    \t\tString testval=null;\r\n    \t\tFillo fillo=new Fillo();\r\n    \t\tConnection connection=fillo.getConnection(&quot;TestData//TestData.xlsx&quot;);\r\n    \t\tString strQuery=&quot;Select * from data where TCID=&#39;&quot;+tcid+&quot;&#39;&quot;;\r\n    \t\tRecordset recordset=connection.executeQuery(strQuery);\r\n    \t\twhile(recordset.next()){\r\n    \t\t\tArrayList&lt;String&gt; dataColl=recordset.getFieldNames();\r\n    \t\t\t//System.out.println(dataColl);\r\n    \t\t\tIterator&lt;String&gt; dataIterator=dataColl.iterator();\r\n    \t\t\t//System.out.println(dataColl.size());  \r\n    \r\n    \t\t\twhile(dataIterator.hasNext()){\r\n    \t\t\t\tfor (int i=0;i&lt;=dataColl.size()-1;i++){\r\n    \t\t\t\t\t//System.out.println(i);\r\n    \t\t\t\t\tString data=dataIterator.next();\r\n    \t\t\t\t\tString dataVal=recordset.getField(data);\r\n    \r\n    \t\t\t\t\tif (dataVal.equalsIgnoreCase(fieldName)){\r\n    \t\t\t\t\t\t//System.out.println(&quot;passed&quot;);\r\n    \t\t\t\t\t\ti=i+1;\r\n    \t\t\t\t\t\t//System.out.println(i);\r\n    \t\t\t\t\t\tString testData=dataColl.get(i);\r\n    \t\t\t\t\t\t//System.out.println(recordset.getField(testData));   \r\n    \t\t\t\t\t\tString testValue= recordset.getField(testData);\r\n    \t\t\t\t\t\ttestval=testValue;\r\n    \t\t\t\t\t}\r\n    \r\n    \t\t\t\t}\r\n    \r\n    \t\t\t\tbreak;\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t\trecordset.close();\r\n    \t\tconnection.close();\r\n    \t\treturn testval; \r\n    \t}\r\n    \r\n    \r\n    \tpublic static void inputText(WebElement we, String fieldName, String TCID) throws FilloException{\r\n    \t\tString fval=getTestValue(TCID, fieldName);\r\n    \t\twe.sendKeys(fval);\r\n    \r\n    \t}\r\n    \r\n    \r\n    }\r\n\r\nNow here is the code of login \r\n\r\n  \r\n\r\n      package com.evs.vtiger.framework.pages.login.login;\r\n        import org.openqa.selenium.WebElement;\r\n    \r\n    import org.openqa.selenium.support.CacheLookup;\r\n    import org.openqa.selenium.support.FindBy;\r\n    import org.openqa.selenium.support.PageFactory;\r\n    \r\n    import Exception.FilloException;\r\n    \r\n    import com.evs.vtiger.framework.pages.home.myhomepage.HomePage;\r\n    import com.evs.vtiger.framework.util.TestingFillo;\r\n    import com.evs.vtiger.framework.util.UI;\r\n    import com.evs.vtiger.framework.util.XLReader;\r\n    \r\n    public class LoginPage {\r\n        \r\n    \t@FindBy(name=&quot;username&quot;)\r\n    \tpublic WebElement UserName_ED;\r\n    \t\r\n    \t@FindBy(xpath=&quot;//input[@type=&#39;password&#39;]&quot;)\r\n    \tpublic WebElement Password_ED;\r\n    \t\r\n    \t@FindBy(xpath=&quot;//input[@value=&#39;login&#39;]&quot;)\r\n    \tpublic WebElement Login_BT;\r\n    \t\r\n    \t\r\n    \t\r\n    \tpublic void pg_ValidLogin(String TCID) throws FilloException {\r\n    \t\t/*UI.fn_Input(UserName_ED, &quot;UserName_ED&quot;);\r\n    \t\tUI.fn_Input(Password_ED, &quot;Password_ED&quot;);\r\n            UI.fn_Click(Login_BT);*/\r\n    \t\t\r\n    \t\t//UserName_ED.sendKeys(&quot;abc&quot;);\r\n    \t\t\r\n    \t\t\r\n    \t\tTestingFillo.inputText(UserName_ED, &quot;UserName_ED&quot;, TCID);\r\n    \t\tTestingFillo.inputText(Password_ED, &quot;Password_ED&quot;, TCID);\r\n    \t\tLogin_BT.click();\r\n            \r\n           // HomePage hpObj=PageFactory.initElements(UI.driver, HomePage.class);\r\n           // return hpObj;\r\n    \t}\r\n    \r\n        public void pg_InValidLogin() {\r\n        \tUserName_ED.sendKeys(&quot;rahul&quot;);\r\n            Password_ED.sendKeys(&quot;admin&quot;);\r\n            Login_BT.click();\r\n    \t}\r\n        \r\n    }\r\n\r\nI hope it makes sense. Please ignore the commented code. sorry for that.\r\n\r\nThanks\r\nNitin","title":"Fillo Implementation","body":"<p>You will have to arrange your table like database as fillo works like database. \nPut everything related to a test case in a row. as attached.</p>\n\n<p>below is the code for reader and calling the login class. </p>\n\n<pre><code>        package com.evs.vtiger.framework.util;\n\n        import java.util.ArrayList;\nimport java.util.Iterator;\n\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.WebElement;\nimport org.openqa.selenium.firefox.FirefoxDriver;\nimport org.openqa.selenium.support.PageFactory;\n\nimport com.evs.vtiger.framework.pages.home.myhomepage.HomePage;\n\nimport Exception.FilloException;\nimport Fillo.Connection;\nimport Fillo.Fillo;\nimport Fillo.Recordset;\nimport com.evs.vtiger.framework.pages.login.login.LoginPage;\n\npublic class TestingFillo {\n\n    public static void main(String[] args) throws FilloException {\n\n        WebDriver driver=new FirefoxDriver();\n        driver.manage().window().maximize();\n        driver.get(\"http://localhost:8080/NBOWeb\");\n        LoginPage lpObj=PageFactory.initElements(driver, LoginPage.class);\n        lpObj.pg_ValidLogin(\"TC001\");\n\n    }\n\n    public static String getTestValue(String TCID, String fieldName) throws FilloException{\n\n        String testString=xlTesting(TCID, fieldName);\n        return testString;\n\n    }\n\n    public static String xlTesting(String tcid,String fieldName) throws FilloException{\n        String testval=null;\n        Fillo fillo=new Fillo();\n        Connection connection=fillo.getConnection(\"TestData//TestData.xlsx\");\n        String strQuery=\"Select * from data where TCID='\"+tcid+\"'\";\n        Recordset recordset=connection.executeQuery(strQuery);\n        while(recordset.next()){\n            ArrayList&lt;String&gt; dataColl=recordset.getFieldNames();\n            //System.out.println(dataColl);\n            Iterator&lt;String&gt; dataIterator=dataColl.iterator();\n            //System.out.println(dataColl.size());  \n\n            while(dataIterator.hasNext()){\n                for (int i=0;i&lt;=dataColl.size()-1;i++){\n                    //System.out.println(i);\n                    String data=dataIterator.next();\n                    String dataVal=recordset.getField(data);\n\n                    if (dataVal.equalsIgnoreCase(fieldName)){\n                        //System.out.println(\"passed\");\n                        i=i+1;\n                        //System.out.println(i);\n                        String testData=dataColl.get(i);\n                        //System.out.println(recordset.getField(testData));   \n                        String testValue= recordset.getField(testData);\n                        testval=testValue;\n                    }\n\n                }\n\n                break;\n            }\n        }\n\n        recordset.close();\n        connection.close();\n        return testval; \n    }\n\n\n    public static void inputText(WebElement we, String fieldName, String TCID) throws FilloException{\n        String fval=getTestValue(TCID, fieldName);\n        we.sendKeys(fval);\n\n    }\n\n\n}\n</code></pre>\n\n<p>Now here is the code of login </p>\n\n<pre><code>  package com.evs.vtiger.framework.pages.login.login;\n    import org.openqa.selenium.WebElement;\n\nimport org.openqa.selenium.support.CacheLookup;\nimport org.openqa.selenium.support.FindBy;\nimport org.openqa.selenium.support.PageFactory;\n\nimport Exception.FilloException;\n\nimport com.evs.vtiger.framework.pages.home.myhomepage.HomePage;\nimport com.evs.vtiger.framework.util.TestingFillo;\nimport com.evs.vtiger.framework.util.UI;\nimport com.evs.vtiger.framework.util.XLReader;\n\npublic class LoginPage {\n\n    @FindBy(name=\"username\")\n    public WebElement UserName_ED;\n\n    @FindBy(xpath=\"//input[@type='password']\")\n    public WebElement Password_ED;\n\n    @FindBy(xpath=\"//input[@value='login']\")\n    public WebElement Login_BT;\n\n\n\n    public void pg_ValidLogin(String TCID) throws FilloException {\n        /*UI.fn_Input(UserName_ED, \"UserName_ED\");\n        UI.fn_Input(Password_ED, \"Password_ED\");\n        UI.fn_Click(Login_BT);*/\n\n        //UserName_ED.sendKeys(\"abc\");\n\n\n        TestingFillo.inputText(UserName_ED, \"UserName_ED\", TCID);\n        TestingFillo.inputText(Password_ED, \"Password_ED\", TCID);\n        Login_BT.click();\n\n       // HomePage hpObj=PageFactory.initElements(UI.driver, HomePage.class);\n       // return hpObj;\n    }\n\n    public void pg_InValidLogin() {\n        UserName_ED.sendKeys(\"rahul\");\n        Password_ED.sendKeys(\"admin\");\n        Login_BT.click();\n    }\n\n}\n</code></pre>\n\n<p>I hope it makes sense. Please ignore the commented code. sorry for that.</p>\n\n<p>Thanks\nNitin</p>\n"}],"owner":{"account_id":4960898,"reputation":23,"user_id":3992050,"accept_rate":40,"display_name":"Groax"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14185,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1698217500,"creation_date":1437276873,"question_id":31497755,"body_markdown":"I came across a really nice and simple xls and xlsx implementation API called Fillo. I&#39;ve made a spread sheet with the following values as most people know the all caps sections are for category names to seac\r\n\r\n    USERID    PASS\r\n    joe       bigjoe\r\n    jim       bigjim\r\n    john      bigjohn\r\n\r\nNow here&#39;s the code:\r\n\r\n        import Exception.FilloException;\r\n        import Fillo.*;\r\n    \r\n    \r\n      public class CallBack {\r\n        public static void main(String args[]) throws FilloException {\r\n        \ttestFillo();\r\n        }\r\n    \r\n    \tprivate static void testFillo() throws FilloException {\r\n    \t\tFillo fillo=new Fillo();\r\n    \t\tConnection connection=fillo.getConnection(&quot;logindatabase.xls&quot;);\r\n    \t\tString strQuery=&quot;Select * from Sheet1 where USERID=&#39;*&#39; and PASS=&#39;*&#39;&quot;;\r\n    \t\tRecordset recordset=connection.executeQuery(strQuery);\r\n    \t\t\r\n    \t\t/*\r\n    \t\t * I&#39;m wanting the login check to be right here\r\n    \t\t */\r\n    \t\t\r\n    \t\trecordset.close();\r\n    \t\tconnection.close();\r\n    \t\t\r\n    \t}\r\n    }\r\n\r\nThe login function should go through the USERID column first and once it finds that it will check the corresponding PASS value. So if it found &quot;jim&quot; as the user it then check for &quot;bigjim&quot; as the password.\r\n\r\nSo the big question would be: How would I set something like this up? \r\n\r\nHere&#39;s the [Fillo Documentation][1].\r\n\r\n\r\n  [1]: http://www.codoid.com/products/view/2/29\r\n\r\nAll the best,\r\n\r\nGroax","title":"Fillo Implementation","body":"<p>I came across a really nice and simple xls and xlsx implementation API called Fillo. I've made a spread sheet with the following values as most people know the all caps sections are for category names to seac</p>\n\n<pre><code>USERID    PASS\njoe       bigjoe\njim       bigjim\njohn      bigjohn\n</code></pre>\n\n<p>Now here's the code:</p>\n\n<pre><code>    import Exception.FilloException;\n    import Fillo.*;\n\n\n  public class CallBack {\n    public static void main(String args[]) throws FilloException {\n        testFillo();\n    }\n\n    private static void testFillo() throws FilloException {\n        Fillo fillo=new Fillo();\n        Connection connection=fillo.getConnection(\"logindatabase.xls\");\n        String strQuery=\"Select * from Sheet1 where USERID='*' and PASS='*'\";\n        Recordset recordset=connection.executeQuery(strQuery);\n\n        /*\n         * I'm wanting the login check to be right here\n         */\n\n        recordset.close();\n        connection.close();\n\n    }\n}\n</code></pre>\n\n<p>The login function should go through the USERID column first and once it finds that it will check the corresponding PASS value. So if it found \"jim\" as the user it then check for \"bigjim\" as the password.</p>\n\n<p>So the big question would be: How would I set something like this up? </p>\n\n<p>Here's the <a href=\"http://www.codoid.com/products/view/2/29\" rel=\"nofollow\">Fillo Documentation</a>.</p>\n\n<p>All the best,</p>\n\n<p>Groax</p>\n"},{"tags":["java","mysql","spring","transactions","timeoutexception"],"comments":[{"owner":{"account_id":14681183,"reputation":146,"user_id":10602598,"display_name":"I.Yuldoshev"},"score":0,"creation_date":1698171010,"post_id":77354123,"comment_id":136370490,"body_markdown":"Can you share `insertFile(File file)` part from `FileDAO`?","body":"Can you share <code>insertFile(File file)</code> part from <code>FileDAO</code>?"},{"owner":{"account_id":21169347,"reputation":171,"user_id":15566000,"display_name":"changuk"},"score":0,"creation_date":1698190988,"post_id":77354123,"comment_id":136373252,"body_markdown":"My mistake. The query is about `updateFile(File file)`, not `insertFile(File file)`.","body":"My mistake. The query is about <code>updateFile(File file)</code>, not <code>insertFile(File file)</code>."},{"owner":{"account_id":14681183,"reputation":146,"user_id":10602598,"display_name":"I.Yuldoshev"},"score":0,"creation_date":1698259229,"post_id":77354123,"comment_id":136383958,"body_markdown":"What is in that `updateFile(File file)` method?\ncan you share `updateFile(File file)` content then it becomes more clear\nI cannot guess what&#39;s happening in `updateFile` method, maybe there we are missing something. \nI don&#39;t see any problems with `saveFileList` at the moment. \nAlso, if possible don&#39;t update 1200 entities within single transaction but do update in smaller chunks if your businness allows it","body":"What is in that <code>updateFile(File file)</code> method? can you share <code>updateFile(File file)</code> content then it becomes more clear I cannot guess what&#39;s happening in <code>updateFile</code> method, maybe there we are missing something.  I don&#39;t see any problems with <code>saveFileList</code> at the moment.  Also, if possible don&#39;t update 1200 entities within single transaction but do update in smaller chunks if your businness allows it"}],"answers":[{"tags":[],"owner":{"account_id":7718592,"reputation":119,"user_id":5845487,"display_name":"Hassan Golshani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698217398,"creation_date":1698217398,"answer_id":77357242,"question_id":77354123,"body_markdown":"Instead of using your customized DAO class use JpaRepository and call saveAll method.\r\n\r\n    \r\n    @Repository\r\n    public interface FileRepository extends JpaRepository&lt;File, Long&gt; {\r\n        \r\n    }\r\n\r\n\r\n    @Service\r\n    @Transactional\r\n    public class FileService {\r\n    \r\n        private final FileRepository fileRepository;\r\n    \r\n        @Autowired\r\n        public FileService(FileRepository fileRepository) {\r\n            this.fileRepository = fileRepository;\r\n        }\r\n    \r\n        public void saveAll(List&lt;Long&gt; fileIds) {\r\n            List&lt;File&gt; files = fileRepository.findAllById(fileIds);\r\n            //change the data of file objects\r\n            fileRepository.saveAll(files);\r\n        }\r\n    }\r\n\r\n","title":"@Transactional don&#39;t commit","body":"<p>Instead of using your customized DAO class use JpaRepository and call saveAll method.</p>\n<pre><code>@Repository\npublic interface FileRepository extends JpaRepository&lt;File, Long&gt; {\n    \n}\n\n\n@Service\n@Transactional\npublic class FileService {\n\n    private final FileRepository fileRepository;\n\n    @Autowired\n    public FileService(FileRepository fileRepository) {\n        this.fileRepository = fileRepository;\n    }\n\n    public void saveAll(List&lt;Long&gt; fileIds) {\n        List&lt;File&gt; files = fileRepository.findAllById(fileIds);\n        //change the data of file objects\n        fileRepository.saveAll(files);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":21169347,"reputation":171,"user_id":15566000,"display_name":"changuk"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1698217398,"creation_date":1698167724,"question_id":77354123,"body_markdown":"I had a problem with a long transaction while working.\r\n\r\nBecause of the long transaction, any update queries made MySqlTimeoutException.\r\n\r\nThe query that had a problem is similar to the following.\r\n\r\n```\r\n-- fileDAO.updateFile\r\n-- file_id is PK. Column &#39;related_board_id&#39; doesn&#39;t have any index and type is int.\r\n\r\nUPDATE file SET related_board_id = 1 WHERE file_id = 1\r\n```\r\n\r\nThe code that had a problem is similar to the following.\r\n\r\n```\r\n@Service\r\npublic class FileService {\r\n    @Autowired\r\n    private FileDAO fileDAO;\r\n    \r\n    // I have PlatformTransactionManager bean. Transactional has default settings.\r\n    @Transactional\r\n    public void saveFileList(List&lt;File&gt; fileList) {\r\n        for (File file: fileList) {\r\n            fileDAO.updateFile(file);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nWe used Spring 4.3.x.\r\n\r\nAt the time, 1200 files were being stored. There was no error log about that transaction, but the transaction didn&#39;t commit.\r\n\r\nI think that the cause of the long transcation is saving too many files, but I can&#39;t understand why the problem occurred without commit in this transaction even though there was no error log.\r\n\r\nWhy did that long transaction occur?\r\n\r\nIf my opinion(the cause is saving too many files) is correct, why the problem occurred without commit?","title":"@Transactional don&#39;t commit","body":"<p>I had a problem with a long transaction while working.</p>\n<p>Because of the long transaction, any update queries made MySqlTimeoutException.</p>\n<p>The query that had a problem is similar to the following.</p>\n<pre><code>-- fileDAO.updateFile\n-- file_id is PK. Column 'related_board_id' doesn't have any index and type is int.\n\nUPDATE file SET related_board_id = 1 WHERE file_id = 1\n</code></pre>\n<p>The code that had a problem is similar to the following.</p>\n<pre><code>@Service\npublic class FileService {\n    @Autowired\n    private FileDAO fileDAO;\n    \n    // I have PlatformTransactionManager bean. Transactional has default settings.\n    @Transactional\n    public void saveFileList(List&lt;File&gt; fileList) {\n        for (File file: fileList) {\n            fileDAO.updateFile(file);\n        }\n    }\n}\n</code></pre>\n<p>We used Spring 4.3.x.</p>\n<p>At the time, 1200 files were being stored. There was no error log about that transaction, but the transaction didn't commit.</p>\n<p>I think that the cause of the long transcation is saving too many files, but I can't understand why the problem occurred without commit in this transaction even though there was no error log.</p>\n<p>Why did that long transaction occur?</p>\n<p>If my opinion(the cause is saving too many files) is correct, why the problem occurred without commit?</p>\n"},{"tags":["java","string","trim"],"comments":[{"owner":{"account_id":7745,"reputation":189755,"user_id":13531,"accept_rate":75,"display_name":"Michael Myers"},"score":1,"creation_date":1270827553,"post_id":2608665,"comment_id":2619082,"body_markdown":"Is the string already known to have quotes around it, or is checking for quotes part of the problem?","body":"Is the string already known to have quotes around it, or is checking for quotes part of the problem?"}],"answers":[{"tags":[],"owner":{"account_id":87077,"reputation":25964,"user_id":241717,"accept_rate":73,"display_name":"GuruKulki"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1270826970,"creation_date":1270826970,"answer_id":2608681,"question_id":2608665,"body_markdown":"find indexes of each double quotes and insert an empty string there.","title":"How can I trim beginning and ending double quotes from a string?","body":"<p>find indexes of each double quotes and insert an empty string there.</p>\n"},{"tags":[],"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"down_vote_count":4,"up_vote_count":316,"is_accepted":true,"score":312,"last_activity_date":1270827586,"creation_date":1270826988,"answer_id":2608682,"question_id":2608665,"body_markdown":"You can use [`String#replaceAll()`][1] with a pattern of `^\\&quot;|\\&quot;$` for this.\r\n\r\nE.g.\r\n\r\n    string = string.replaceAll(&quot;^\\&quot;|\\&quot;$&quot;, &quot;&quot;);\r\n\r\nTo learn more about regular expressions, have al ook at http://regular-expression.info.\r\n\r\nThat said, this smells a bit like that you&#39;re trying to invent a CSV parser. If so, I&#39;d suggest to look around for existing libraries, such as [OpenCSV][2].\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/lang/String.html#replaceAll%28java.lang.String,%20java.lang.String%29\r\n  [2]: http://opencsv.sourceforge.net/","title":"How can I trim beginning and ending double quotes from a string?","body":"<p>You can use <a href=\"http://java.sun.com/javase/6/docs/api/java/lang/String.html#replaceAll%28java.lang.String,%20java.lang.String%29\" rel=\"noreferrer\"><code>String#replaceAll()</code></a> with a pattern of <code>^\\\"|\\\"$</code> for this.</p>\n\n<p>E.g.</p>\n\n<pre><code>string = string.replaceAll(\"^\\\"|\\\"$\", \"\");\n</code></pre>\n\n<p>To learn more about regular expressions, have al ook at <a href=\"http://regular-expression.info\" rel=\"noreferrer\">http://regular-expression.info</a>.</p>\n\n<p>That said, this smells a bit like that you're trying to invent a CSV parser. If so, I'd suggest to look around for existing libraries, such as <a href=\"http://opencsv.sourceforge.net/\" rel=\"noreferrer\">OpenCSV</a>.</p>\n"},{"tags":[],"owner":{"account_id":7745,"reputation":189755,"user_id":13531,"accept_rate":75,"display_name":"Michael Myers"},"down_vote_count":8,"up_vote_count":45,"is_accepted":false,"score":37,"last_activity_date":1270827089,"creation_date":1270827089,"answer_id":2608698,"question_id":2608665,"body_markdown":"To remove the first character and last character from the string, use:\r\n\r\n    myString = myString.substring(1, myString.length()-1);","title":"How can I trim beginning and ending double quotes from a string?","body":"<p>To remove the first character and last character from the string, use:</p>\n\n<pre><code>myString = myString.substring(1, myString.length()-1);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2201340,"reputation":407,"user_id":1945665,"accept_rate":60,"display_name":"legrass"},"down_vote_count":1,"up_vote_count":13,"is_accepted":false,"score":12,"last_activity_date":1397121634,"creation_date":1397121634,"answer_id":22983827,"question_id":2608665,"body_markdown":"Using Guava you can write more elegantly `CharMatcher.is(&#39;\\&quot;&#39;).trimFrom(mystring);`\r\n","title":"How can I trim beginning and ending double quotes from a string?","body":"<p>Using Guava you can write more elegantly <code>CharMatcher.is('\\\"').trimFrom(mystring);</code></p>\n"},{"tags":[],"owner":{"account_id":3891065,"reputation":644,"user_id":3274004,"accept_rate":71,"display_name":"sunraincyq"},"down_vote_count":2,"up_vote_count":23,"is_accepted":false,"score":21,"last_activity_date":1408726651,"creation_date":1408726651,"answer_id":25452078,"question_id":2608665,"body_markdown":"If the double quotes only exist at the beginning and the end, a simple code as this would work perfectly:\r\n\r\n`string = string.replace(&quot;\\&quot;&quot;, &quot;&quot;);`","title":"How can I trim beginning and ending double quotes from a string?","body":"<p>If the double quotes only exist at the beginning and the end, a simple code as this would work perfectly:</p>\n\n<p><code>string = string.replace(\"\\\"\", \"\");</code></p>\n"},{"tags":[],"owner":{"account_id":6974471,"reputation":29,"user_id":5349643,"display_name":"Ravikiran"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1442564475,"creation_date":1442564475,"answer_id":32647195,"question_id":2608665,"body_markdown":"    Matcher m = Pattern.compile(&quot;^\\&quot;(.*)\\&quot;$&quot;).matcher(value);\r\n    String strUnquoted = value;\r\n    if (m.find()) {\r\n        strUnquoted = m.group(1);\r\n    }\r\n\r\n","title":"How can I trim beginning and ending double quotes from a string?","body":"<pre><code>Matcher m = Pattern.compile(\"^\\\"(.*)\\\"$\").matcher(value);\nString strUnquoted = value;\nif (m.find()) {\n    strUnquoted = m.group(1);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7496530,"reputation":19,"user_id":5696588,"display_name":"m0untp"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1450470703,"creation_date":1450470703,"answer_id":34363495,"question_id":2608665,"body_markdown":"    private static String removeQuotesFromStartAndEndOfString(String inputStr) {\r\n        String result = inputStr;\r\n        int firstQuote = inputStr.indexOf(&#39;\\&quot;&#39;);\r\n        int lastQuote = result.lastIndexOf(&#39;\\&quot;&#39;);\r\n        int strLength = inputStr.length();\r\n        if (firstQuote == 0 &amp;&amp; lastQuote == strLength - 1) {\r\n            result = result.substring(1, strLength - 1);\r\n        }\r\n        return result;\r\n    }","title":"How can I trim beginning and ending double quotes from a string?","body":"<pre><code>private static String removeQuotesFromStartAndEndOfString(String inputStr) {\n    String result = inputStr;\n    int firstQuote = inputStr.indexOf('\\\"');\n    int lastQuote = result.lastIndexOf('\\\"');\n    int strLength = inputStr.length();\n    if (firstQuote == 0 &amp;&amp; lastQuote == strLength - 1) {\n        result = result.substring(1, strLength - 1);\n    }\n    return result;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4467428,"reputation":1112,"user_id":3634630,"accept_rate":80,"display_name":"brcolow"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1450739885,"creation_date":1450739885,"answer_id":34406001,"question_id":2608665,"body_markdown":"First, we check to see if the String is doubled quoted, and if so, remove them. You can skip the conditional if in fact you know it&#39;s double quoted.\r\n\r\n\tif (string.length() &gt;= 2 &amp;&amp; string.charAt(0) == &#39;&quot;&#39; &amp;&amp; string.charAt(string.length() - 1) == &#39;&quot;&#39;)\r\n\t{\r\n\t\tstring = string.substring(1, string.length() - 1);\r\n\t}","title":"How can I trim beginning and ending double quotes from a string?","body":"<p>First, we check to see if the String is doubled quoted, and if so, remove them. You can skip the conditional if in fact you know it's double quoted.</p>\n\n<pre><code>if (string.length() &gt;= 2 &amp;&amp; string.charAt(0) == '\"' &amp;&amp; string.charAt(string.length() - 1) == '\"')\n{\n    string = string.substring(1, string.length() - 1);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2476389,"reputation":3763,"user_id":2194007,"accept_rate":87,"display_name":"rath"},"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1458743673,"creation_date":1458743673,"answer_id":36181074,"question_id":2608665,"body_markdown":"Also with Apache [`StringUtils.strip()`](https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html#strip(java.lang.String,%20java.lang.String)):\r\n\r\n\r\n\r\n     StringUtils.strip(null, *)          = null\r\n     StringUtils.strip(&quot;&quot;, *)            = &quot;&quot;\r\n     StringUtils.strip(&quot;abc&quot;, null)      = &quot;abc&quot;\r\n     StringUtils.strip(&quot;  abc&quot;, null)    = &quot;abc&quot;\r\n     StringUtils.strip(&quot;abc  &quot;, null)    = &quot;abc&quot;\r\n     StringUtils.strip(&quot; abc &quot;, null)    = &quot;abc&quot;\r\n     StringUtils.strip(&quot;  abcyx&quot;, &quot;xyz&quot;) = &quot;  abc&quot;\r\n\r\n\r\nSo,\r\n\r\n    final String SchrodingersQuotedString = &quot;may or may not be quoted&quot;;\r\n    StringUtils.strip(SchrodingersQuotedString, &quot;\\&quot;&quot;); //quoted no more\r\n\r\nThis method works both with quoted and unquoted strings as shown in my example. The only downside is, it will not look for strictly _matched_ quotes, only leading and trailing quote characters (ie. no distinction between `&quot;partially` and `&quot;fully&quot;` quoted strings).","title":"How can I trim beginning and ending double quotes from a string?","body":"<p>Also with Apache <a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html#strip(java.lang.String,%20java.lang.String)\" rel=\"noreferrer\"><code>StringUtils.strip()</code></a>:</p>\n\n<pre><code> StringUtils.strip(null, *)          = null\n StringUtils.strip(\"\", *)            = \"\"\n StringUtils.strip(\"abc\", null)      = \"abc\"\n StringUtils.strip(\"  abc\", null)    = \"abc\"\n StringUtils.strip(\"abc  \", null)    = \"abc\"\n StringUtils.strip(\" abc \", null)    = \"abc\"\n StringUtils.strip(\"  abcyx\", \"xyz\") = \"  abc\"\n</code></pre>\n\n<p>So,</p>\n\n<pre><code>final String SchrodingersQuotedString = \"may or may not be quoted\";\nStringUtils.strip(SchrodingersQuotedString, \"\\\"\"); //quoted no more\n</code></pre>\n\n<p>This method works both with quoted and unquoted strings as shown in my example. The only downside is, it will not look for strictly <em>matched</em> quotes, only leading and trailing quote characters (ie. no distinction between <code>\"partially</code> and <code>\"fully\"</code> quoted strings).</p>\n"},{"tags":[],"owner":{"account_id":1156321,"reputation":456,"user_id":1136825,"display_name":"Yaniv Levi"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1469454296,"creation_date":1469451954,"answer_id":38568614,"question_id":2608665,"body_markdown":"This is the best way I found, to strip double quotes from the beginning and end of a string.\r\n\r\n    someString.replace (/(^&quot;)|(&quot;$)/g, &#39;&#39;)\r\n\r\n","title":"How can I trim beginning and ending double quotes from a string?","body":"<p>This is the best way I found, to strip double quotes from the beginning and end of a string.</p>\n\n<pre><code>someString.replace (/(^\")|(\"$)/g, '')\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4739783,"reputation":612575,"user_id":3832970,"display_name":"Wiktor Stribiew"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1482486812,"creation_date":1482485029,"answer_id":41298589,"question_id":2608665,"body_markdown":"To remove one or more double quotes from the start and end of a string in Java, you need to use a regex based solution:\r\n\r\n    String result = input_str.replaceAll(&quot;^\\&quot;+|\\&quot;+$&quot;, &quot;&quot;);\r\n\r\nIf you need to also remove single quotes:\r\n\r\n    String result = input_str.replaceAll(&quot;^[\\&quot;&#39;]+|[\\&quot;&#39;]+$&quot;, &quot;&quot;);\r\n\r\n**NOTE**: If your string contains `&quot;` inside, this approach might lead to issues (e.g. `&quot;Name&quot;: &quot;John&quot;` =&gt; `Name&quot;: &quot;John`).\r\n\r\nSee a [Java demo here][1]:\r\n\r\n    String input_str = &quot;\\&quot;&#39;some string&#39;\\&quot;&quot;;\r\n\tString result = input_str.replaceAll(&quot;^[\\&quot;&#39;]+|[\\&quot;&#39;]+$&quot;, &quot;&quot;);\r\n\tSystem.out.println(result); // =&gt; some string\r\n\r\n\r\n  [1]: https://ideone.com/aGh9hA","title":"How can I trim beginning and ending double quotes from a string?","body":"<p>To remove one or more double quotes from the start and end of a string in Java, you need to use a regex based solution:</p>\n\n<pre><code>String result = input_str.replaceAll(\"^\\\"+|\\\"+$\", \"\");\n</code></pre>\n\n<p>If you need to also remove single quotes:</p>\n\n<pre><code>String result = input_str.replaceAll(\"^[\\\"']+|[\\\"']+$\", \"\");\n</code></pre>\n\n<p><strong>NOTE</strong>: If your string contains <code>\"</code> inside, this approach might lead to issues (e.g. <code>\"Name\": \"John\"</code> => <code>Name\": \"John</code>).</p>\n\n<p>See a <a href=\"https://ideone.com/aGh9hA\" rel=\"noreferrer\">Java demo here</a>:</p>\n\n<pre><code>String input_str = \"\\\"'some string'\\\"\";\nString result = input_str.replaceAll(\"^[\\\"']+|[\\\"']+$\", \"\");\nSystem.out.println(result); // =&gt; some string\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14005810,"reputation":89,"user_id":10116014,"display_name":"Alex F"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1532202623,"creation_date":1532202073,"answer_id":51459516,"question_id":2608665,"body_markdown":"The pattern below, when used with `java.util.regex.Matcher`, will match any string between double quotes without affecting occurrences of double quotes inside the string:\r\n\r\n    &quot;[^\\&quot;][\\\\p{Print}]*[^\\&quot;]&quot;","title":"How can I trim beginning and ending double quotes from a string?","body":"<p>The pattern below, when used with <code>java.util.regex.Matcher</code>, will match any string between double quotes without affecting occurrences of double quotes inside the string:</p>\n\n<pre><code>\"[^\\\"][\\\\p{Print}]*[^\\\"]\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":535381,"reputation":4119,"user_id":904907,"display_name":"Ryan Amaral"},"down_vote_count":2,"up_vote_count":27,"is_accepted":false,"score":25,"last_activity_date":1532296996,"creation_date":1532296996,"answer_id":51469613,"question_id":2608665,"body_markdown":"#Kotlin\r\nIn Kotlin you can use [String.removeSurrounding(delimiter: CharSequence)][1]\r\n\r\nE.g.\r\n\r\n    string.removeSurrounding(&quot;\\&quot;&quot;)\r\n\r\n&gt;Removes the given **delimiter** string from both the start and the end of this string if and only if it starts with and ends with the **delimiter**.\r\nOtherwise returns this string unchanged.\r\n\r\nThe source code looks like this:\r\n\r\n    public fun String.removeSurrounding(delimiter: CharSequence): String = removeSurrounding(delimiter, delimiter)\r\n\r\n    public fun String.removeSurrounding(prefix: CharSequence, suffix: CharSequence): String {\r\n        if ((length &gt;= prefix.length + suffix.length) &amp;&amp; startsWith(prefix) &amp;&amp; endsWith(suffix)) {\r\n            return substring(prefix.length, length - suffix.length)\r\n        }\r\n        return this\r\n    }\r\n\r\n\r\n  [1]: https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/remove-surrounding.html","title":"How can I trim beginning and ending double quotes from a string?","body":"<h1>Kotlin</h1>\n\n<p>In Kotlin you can use <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/remove-surrounding.html\" rel=\"noreferrer\">String.removeSurrounding(delimiter: CharSequence)</a></p>\n\n<p>E.g.</p>\n\n<pre><code>string.removeSurrounding(\"\\\"\")\n</code></pre>\n\n<blockquote>\n  <p>Removes the given <strong>delimiter</strong> string from both the start and the end of this string if and only if it starts with and ends with the <strong>delimiter</strong>.\n  Otherwise returns this string unchanged.</p>\n</blockquote>\n\n<p>The source code looks like this:</p>\n\n<pre><code>public fun String.removeSurrounding(delimiter: CharSequence): String = removeSurrounding(delimiter, delimiter)\n\npublic fun String.removeSurrounding(prefix: CharSequence, suffix: CharSequence): String {\n    if ((length &gt;= prefix.length + suffix.length) &amp;&amp; startsWith(prefix) &amp;&amp; endsWith(suffix)) {\n        return substring(prefix.length, length - suffix.length)\n    }\n    return this\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":35074,"reputation":8877,"user_id":99248,"accept_rate":38,"display_name":"raisercostin"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1573810828,"creation_date":1548583549,"answer_id":54386963,"question_id":2608665,"body_markdown":"Edited: Just realized that I should specify that this works only if both of them exists. Otherwise the string is not considered quoted. Such scenario appeared for me when working with CSV files.\r\n\r\n    org.apache.commons.lang3.StringUtils.unwrap(&quot;\\&quot;abc\\&quot;&quot;, &quot;\\&quot;&quot;)    = &quot;abc&quot;\r\n    org.apache.commons.lang3.StringUtils.unwrap(&quot;\\&quot;abc&quot;, &quot;\\&quot;&quot;)    = &quot;\\&quot;abc&quot;\r\n    org.apache.commons.lang3.StringUtils.unwrap(&quot;abc\\&quot;&quot;, &quot;\\&quot;&quot;)    = &quot;abc\\&quot;&quot;\r\n","title":"How can I trim beginning and ending double quotes from a string?","body":"<p>Edited: Just realized that I should specify that this works only if both of them exists. Otherwise the string is not considered quoted. Such scenario appeared for me when working with CSV files.</p>\n\n<pre><code>org.apache.commons.lang3.StringUtils.unwrap(\"\\\"abc\\\"\", \"\\\"\")    = \"abc\"\norg.apache.commons.lang3.StringUtils.unwrap(\"\\\"abc\", \"\\\"\")    = \"\\\"abc\"\norg.apache.commons.lang3.StringUtils.unwrap(\"abc\\\"\", \"\\\"\")    = \"abc\\\"\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3129228,"reputation":669,"user_id":6206509,"accept_rate":80,"display_name":"Albatross"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1556128274,"creation_date":1556128274,"answer_id":55835868,"question_id":2608665,"body_markdown":"Modifying @brcolow&#39;s answer a bit\r\n\r\n    if (string != null &amp;&amp; string.length() &gt;= 2 &amp;&amp; string.startsWith(&quot;\\&quot;&quot;) &amp;&amp; string.endsWith(&quot;\\&quot;&quot;) {\r\n        string = string.substring(1, string.length() - 1);\r\n    }","title":"How can I trim beginning and ending double quotes from a string?","body":"<p>Modifying @brcolow's answer a bit</p>\n\n<pre><code>if (string != null &amp;&amp; string.length() &gt;= 2 &amp;&amp; string.startsWith(\"\\\"\") &amp;&amp; string.endsWith(\"\\\"\") {\n    string = string.substring(1, string.length() - 1);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5979401,"reputation":409,"user_id":4699033,"accept_rate":25,"display_name":"utkarsh"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1599544000,"creation_date":1599544000,"answer_id":63787782,"question_id":2608665,"body_markdown":"I am using something as simple as this :\r\n\r\n    if(str.startsWith(&quot;\\&quot;&quot;) &amp;&amp; str.endsWith(&quot;\\&quot;&quot;))\r\n\t\t\t{\r\n\t\t\t\tstr = str.substring(1, str.length()-1);\r\n\t\t\t}","title":"How can I trim beginning and ending double quotes from a string?","body":"<p>I am using something as simple as this :</p>\n<pre><code>if(str.startsWith(&quot;\\&quot;&quot;) &amp;&amp; str.endsWith(&quot;\\&quot;&quot;))\n        {\n            str = str.substring(1, str.length()-1);\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19089844,"reputation":25,"user_id":13940336,"display_name":"Gurunath Kulkarni"},"down_vote_count":3,"up_vote_count":3,"is_accepted":false,"score":0,"last_activity_date":1601664015,"creation_date":1601664015,"answer_id":64176706,"question_id":2608665,"body_markdown":"    public String removeDoubleQuotes(String request) {\r\n        return request.replace(&quot;\\&quot;&quot;, &quot;&quot;);\r\n    }","title":"How can I trim beginning and ending double quotes from a string?","body":"<pre><code>public String removeDoubleQuotes(String request) {\n    return request.replace(&quot;\\&quot;&quot;, &quot;&quot;);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":121797,"reputation":2346,"user_id":3059685,"display_name":"Joman68"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1612319918,"creation_date":1611795810,"answer_id":65929614,"question_id":2608665,"body_markdown":"## Groovy\r\n\r\nYou can subtract a substring from a string using a regular expression in groovy:\r\n```groovy\r\nString unquotedString = theString - ~/^&quot;/ - ~/&quot;$/\r\n```","title":"How can I trim beginning and ending double quotes from a string?","body":"<h2>Groovy</h2>\n<p>You can subtract a substring from a string using a regular expression in groovy:</p>\n<pre><code>String unquotedString = theString - ~/^&quot;/ - ~/&quot;$/\n</code></pre>\n"}],"owner":{"account_id":29845,"reputation":31302,"user_id":80932,"accept_rate":85,"display_name":"ufk"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":312671,"favorite_count":0,"down_vote_count":0,"up_vote_count":185,"accepted_answer_id":2608682,"answer_count":18,"score":185,"last_activity_date":1698217321,"creation_date":1270826859,"question_id":2608665,"body_markdown":"I would like to trim a beginning and ending double quote (&quot;) from a string.  \r\nHow can I achieve that in Java? Thanks!","title":"How can I trim beginning and ending double quotes from a string?","body":"<p>I would like to trim a beginning and ending double quote (\") from a string.<br>\nHow can I achieve that in Java? Thanks!</p>\n"},{"tags":["java","spring","javabeans"],"answers":[{"tags":[],"owner":{"account_id":2660877,"reputation":38533,"user_id":2300597,"accept_rate":55,"display_name":"peter.petrov"},"down_vote_count":0,"up_vote_count":21,"is_accepted":true,"score":21,"last_activity_date":1391719976,"creation_date":1391719672,"answer_id":21613724,"question_id":21613703,"body_markdown":"1) For host you should define public `getHost()` and `setHost(String s)`    \r\nmethods, similarly for port you need `getPort()` and `setPort(int v)` methods.\r\n\r\nThis is what Spring needs to initialize your bean.\r\n\r\nI think it needs the setter in particular (in this case).\r\n\r\nOr ... \r\n\r\n2) You can rename the properties in your XML file to\r\n\r\n`carbonHost` and `carbonPort`. This should do it too.\r\n\r\n","title":"Spring Bean property &#39;xxx&#39; is not writable or has an invalid setter method","body":"<p>1) For host you should define public <code>getHost()</code> and <code>setHost(String s)</code><br>\nmethods, similarly for port you need <code>getPort()</code> and <code>setPort(int v)</code> methods.</p>\n\n<p>This is what Spring needs to initialize your bean.</p>\n\n<p>I think it needs the setter in particular (in this case).</p>\n\n<p>Or ... </p>\n\n<p>2) You can rename the properties in your XML file to</p>\n\n<p><code>carbonHost</code> and <code>carbonPort</code>. This should do it too.</p>\n"},{"tags":[],"owner":{"account_id":115659,"reputation":32567,"user_id":303598,"accept_rate":84,"display_name":"matsev"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1391719866,"creation_date":1391719866,"answer_id":21613783,"question_id":21613703,"body_markdown":"The problem is that you are using `&lt;property name=&quot;port&quot; value=&quot;2023&quot; /&gt;` in your bean configuration, but the corresponding method in the `ExampleClass` is called `setCarbonPort(int port)`. \r\n\r\nSolution: update either the xml to `&lt;property name=&quot;carbonPort&quot; value=&quot;2023&quot; /&gt;` or the method to `setPort(int port)`.","title":"Spring Bean property &#39;xxx&#39; is not writable or has an invalid setter method","body":"<p>The problem is that you are using <code>&lt;property name=\"port\" value=\"2023\" /&gt;</code> in your bean configuration, but the corresponding method in the <code>ExampleClass</code> is called <code>setCarbonPort(int port)</code>. </p>\n\n<p>Solution: update either the xml to <code>&lt;property name=\"carbonPort\" value=\"2023\" /&gt;</code> or the method to <code>setPort(int port)</code>.</p>\n"},{"tags":[],"owner":{"account_id":1915328,"reputation":21,"user_id":1728009,"display_name":"RancidVess"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1406725804,"creation_date":1406725804,"answer_id":25037700,"question_id":21613703,"body_markdown":"The getters and setters must be public, any other access level will cause the error.","title":"Spring Bean property &#39;xxx&#39; is not writable or has an invalid setter method","body":"<p>The getters and setters must be public, any other access level will cause the error.</p>\n"},{"tags":[],"owner":{"account_id":13254439,"reputation":29,"user_id":9570990,"display_name":"Ashad Ahmad"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1681762737,"creation_date":1681762737,"answer_id":76038993,"question_id":21613703,"body_markdown":"Property elements correspond to JavaBean setter methods exposed by the bean classes.\r\n\r\nThe setters and getters of dependency in the bean has to be in accordance with the property element&#39;s name attribute.\r\n\r\nTherefore, in your case the property has name attribute value as &quot;host&quot; then the setter has to be &quot;setHost()&quot; instead of &quot;setCarbonHost()&quot;. However if you want your method to be named as &quot;setCarbonHost()&quot; only then property needs name attribute value to be as &quot;carbonHost&quot;.","title":"Spring Bean property &#39;xxx&#39; is not writable or has an invalid setter method","body":"<p>Property elements correspond to JavaBean setter methods exposed by the bean classes.</p>\n<p>The setters and getters of dependency in the bean has to be in accordance with the property element's name attribute.</p>\n<p>Therefore, in your case the property has name attribute value as &quot;host&quot; then the setter has to be &quot;setHost()&quot; instead of &quot;setCarbonHost()&quot;. However if you want your method to be named as &quot;setCarbonHost()&quot; only then property needs name attribute value to be as &quot;carbonHost&quot;.</p>\n"},{"tags":[],"owner":{"account_id":25099005,"reputation":1,"user_id":18949907,"display_name":"pnpavan kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698217202,"creation_date":1698217202,"answer_id":77357219,"question_id":21613703,"body_markdown":"If we are using spring boot and lombok dependency on  editor like sts/ eclipse/ intelliJ we need to make sure that lombok is configured means we need to install lombok in sts and eclipse and in intelliJ we need to enable annotation processing then only getters and setters will ge generated dynamically. I faced the same problem in sts and this works perfectly fine for me...\r\nTry to install lombok \r\n\r\nhttps://stackoverflow.com/questions/35842751/lombok-not-working-with-sts\r\n\r\n","title":"Spring Bean property &#39;xxx&#39; is not writable or has an invalid setter method","body":"<p>If we are using spring boot and lombok dependency on  editor like sts/ eclipse/ intelliJ we need to make sure that lombok is configured means we need to install lombok in sts and eclipse and in intelliJ we need to enable annotation processing then only getters and setters will ge generated dynamically. I faced the same problem in sts and this works perfectly fine for me...\nTry to install lombok</p>\n<p><a href=\"https://stackoverflow.com/questions/35842751/lombok-not-working-with-sts\">Lombok not working with STS</a></p>\n"}],"owner":{"account_id":1409938,"reputation":5345,"user_id":1336758,"accept_rate":75,"display_name":"NYCeyes"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":115858,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"accepted_answer_id":21613724,"answer_count":5,"score":21,"last_activity_date":1698217202,"creation_date":1391719610,"question_id":21613703,"body_markdown":"I&#39;m a Spring newbie with a seemingly simple Spring problem. I worked on this for hours without luck. Here is the exception, followed by the code (thank you in advance):\r\n\r\n    Exception in thread &quot;main&quot; org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;graphiteWriterSession&#39; defined in file [/home/user/resources/jmxtrans.graphite.xml]: Error setting property values; nested exception is org.springframework.beans.NotWritablePropertyException: Invalid property &#39;host&#39; of bean class [com.example.ExampleClass]: Bean property &#39;host&#39; is not writable or has an invalid setter method. Does the parameter type of the setter match the return type of the getter?\r\n\r\nMy bean definitions:\r\n\r\n    &lt;bean id=&quot;graphiteWriterSession&quot; class=&quot;com.example.ExampleClass&quot;&gt;\r\n\t\t&lt;property name=&quot;host&quot; value=&quot;host.example.com&quot; /&gt;\r\n\t\t&lt;property name=&quot;port&quot; value=&quot;2023&quot; /&gt;\r\n\t\t&lt;property name=&quot;namespacePrefix&quot; value=&quot;apps.foo.bar&quot; /&gt;\r\n\t\t&lt;property name=&quot;debug&quot; value=&quot;true&quot; /&gt;\r\n\t&lt;/bean&gt;\r\n\r\n\t&lt;bean id=&quot;jmxtransSession&quot; class=&quot;com.example.MainMethodClass&quot; factory-method=&quot;getInstance&quot;&gt;\r\n\t\t&lt;property name=&quot;graphiteWriterSession&quot; ref=&quot;graphiteWriterSession&quot; /&gt;\r\n\t&lt;/bean&gt;\r\n\r\n\r\nThe code snippet:\r\n\r\n    package com.example.ExampleClass;\r\n    import com.googlecode.jmxtrans.model.output.GraphiteWriter;\r\n\r\n    public class ExampleClass {\r\n\r\n       private static final long   serialVersionUID = 1L;\r\n       private String              host;\r\n       private int                 port;\r\n       private GraphiteWriter\t   gw;\r\n\r\n      public ExampleClass() {\r\n      }\r\n    \r\n      public GraphiteWriter getWriter() {\r\n\t\tgw = new GraphiteWriter();\r\n\t\tgw.addSetting(GraphiteWriter.PORT, port);\r\n\t\tgw.addSetting(GraphiteWriter.HOST, host);\r\n        return gw;\r\n      }\r\n\r\n      // =====================================================\r\n      // set/get methods for Carbon host.\r\n      // Plugged into Spring application-context file.\r\n      // =====================================================\r\n      public void setCarbonHost( String host ) {\r\n           this.host = host;\r\n      }\r\n\r\n      public String getCarbonHost() {\r\n           return host;\r\n      }\r\n      // =====================================================\r\n\r\n   \r\n      // =====================================================\r\n      // set/get methods for Carbon port.\r\n      // Plugged into Spring application-context file.\r\n      // =====================================================\r\n      public void setCarbonPort( int port ) {\r\n          this.port = port;\r\n      }\r\n      \r\n      public int getCarbonPort() {\r\n          return port;\r\n      }\r\n      // =====================================================\r\n    }\r\n\r\n\r\n\r\nI didn&#39;t include the driver (main method containing) class here. Although that driver class depends on the above class, the driver class itself does not have a problem (I don&#39;t believe).\r\n\r\n\r\n\r\nThe error above shows the &#39;host&#39; property as having the problem but, as you might expect, the &#39;port&#39; property has the same issue (it&#39;s just so happens that the &#39;host&#39; property is evaluated first).\r\n\r\nCan anyone tell me where I&#39;m going wrong? Feel free to explain if you wish, as I&#39;m not a Spring person, per se. Thank you.","title":"Spring Bean property &#39;xxx&#39; is not writable or has an invalid setter method","body":"<p>I'm a Spring newbie with a seemingly simple Spring problem. I worked on this for hours without luck. Here is the exception, followed by the code (thank you in advance):</p>\n\n<pre><code>Exception in thread \"main\" org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'graphiteWriterSession' defined in file [/home/user/resources/jmxtrans.graphite.xml]: Error setting property values; nested exception is org.springframework.beans.NotWritablePropertyException: Invalid property 'host' of bean class [com.example.ExampleClass]: Bean property 'host' is not writable or has an invalid setter method. Does the parameter type of the setter match the return type of the getter?\n</code></pre>\n\n<p>My bean definitions:</p>\n\n<pre><code>&lt;bean id=\"graphiteWriterSession\" class=\"com.example.ExampleClass\"&gt;\n    &lt;property name=\"host\" value=\"host.example.com\" /&gt;\n    &lt;property name=\"port\" value=\"2023\" /&gt;\n    &lt;property name=\"namespacePrefix\" value=\"apps.foo.bar\" /&gt;\n    &lt;property name=\"debug\" value=\"true\" /&gt;\n&lt;/bean&gt;\n\n&lt;bean id=\"jmxtransSession\" class=\"com.example.MainMethodClass\" factory-method=\"getInstance\"&gt;\n    &lt;property name=\"graphiteWriterSession\" ref=\"graphiteWriterSession\" /&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>The code snippet:</p>\n\n<pre><code>package com.example.ExampleClass;\nimport com.googlecode.jmxtrans.model.output.GraphiteWriter;\n\npublic class ExampleClass {\n\n   private static final long   serialVersionUID = 1L;\n   private String              host;\n   private int                 port;\n   private GraphiteWriter      gw;\n\n  public ExampleClass() {\n  }\n\n  public GraphiteWriter getWriter() {\n    gw = new GraphiteWriter();\n    gw.addSetting(GraphiteWriter.PORT, port);\n    gw.addSetting(GraphiteWriter.HOST, host);\n    return gw;\n  }\n\n  // =====================================================\n  // set/get methods for Carbon host.\n  // Plugged into Spring application-context file.\n  // =====================================================\n  public void setCarbonHost( String host ) {\n       this.host = host;\n  }\n\n  public String getCarbonHost() {\n       return host;\n  }\n  // =====================================================\n\n\n  // =====================================================\n  // set/get methods for Carbon port.\n  // Plugged into Spring application-context file.\n  // =====================================================\n  public void setCarbonPort( int port ) {\n      this.port = port;\n  }\n\n  public int getCarbonPort() {\n      return port;\n  }\n  // =====================================================\n}\n</code></pre>\n\n<p>I didn't include the driver (main method containing) class here. Although that driver class depends on the above class, the driver class itself does not have a problem (I don't believe).</p>\n\n<p>The error above shows the 'host' property as having the problem but, as you might expect, the 'port' property has the same issue (it's just so happens that the 'host' property is evaluated first).</p>\n\n<p>Can anyone tell me where I'm going wrong? Feel free to explain if you wish, as I'm not a Spring person, per se. Thank you.</p>\n"},{"tags":["java","string","symbols"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1698193765,"post_id":77356008,"comment_id":136373480,"body_markdown":"What&#39;s the significance of `indPrd!=0 &amp;&amp; indBr!=0`? What if it&#39;s the first character?","body":"What&#39;s the significance of <code>indPrd!=0 &amp;&amp; indBr!=0</code>? What if it&#39;s the first character?"},{"owner":{"account_id":5179076,"reputation":11125,"user_id":4145280,"display_name":"Mark"},"score":0,"creation_date":1698193773,"post_id":77356008,"comment_id":136373481,"body_markdown":"Does this answer your question? [How do you check to see if the 1st letter in a string is equal to something?](https://stackoverflow.com/questions/33271035/how-do-you-check-to-see-if-the-1st-letter-in-a-string-is-equal-to-something)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/33271035/how-do-you-check-to-see-if-the-1st-letter-in-a-string-is-equal-to-something\">How do you check to see if the 1st letter in a string is equal to something?</a>"},{"owner":{"account_id":13113751,"reputation":142064,"user_id":9473764,"display_name":"Nick"},"score":1,"creation_date":1698193817,"post_id":77356008,"comment_id":136373485,"body_markdown":"@Mark OP isn&#39;t trying to check if the first character is a `.` or `[`, they want to know which of those characters occurs first in the string.","body":"@Mark OP isn&#39;t trying to check if the first character is a <code>.</code> or <code>[</code>, they want to know which of those characters occurs first in the string."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1698193827,"post_id":77356008,"comment_id":136373487,"body_markdown":"You&#39;re searching for each character 3 times. Just call `indexOf()` once; if it&#39;s absent it&#39;ll return -1.","body":"You&#39;re searching for each character 3 times. Just call <code>indexOf()</code> once; if it&#39;s absent it&#39;ll return -1."},{"owner":{"account_id":94036,"reputation":107726,"user_id":256970,"accept_rate":86,"display_name":"Cary Swoveland"},"score":0,"creation_date":1698203709,"post_id":77356008,"comment_id":136374134,"body_markdown":"Just obtain the first match of the regular expression `[.\\[]`. If the match is `&#39;.&#39;`, `&#39;.&#39;` comes first, if the match is `&#39;[&#39;`, `&#39;[&#39;` comes first, if there is no match the string contains neither of those characters.","body":"Just obtain the first match of the regular expression <code>[.\\[]</code>. If the match is <code>&#39;.&#39;</code>, <code>&#39;.&#39;</code> comes first, if the match is <code>&#39;[&#39;</code>, <code>&#39;[&#39;</code> comes first, if there is no match the string contains neither of those characters."}],"answers":[{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1698193776,"creation_date":1698193776,"answer_id":77356023,"question_id":77356008,"body_markdown":"You could remove all other chars then use `startsWith()`:\r\n\r\n```\r\nprivate static void checkString(String str) {\r\n    if (str.replaceAll(&quot;[^\\\\[.]&quot;, &quot;&quot;).startsWith(&quot;.&quot;)) {\r\n        System.out.println(&quot;period comes first&quot;);\r\n    } else {\r\n        System.out.println(&quot;bracket comes first&quot;);\r\n    }\r\n}\r\n```\r\n\r\nThe regex `[^\\\\[.]` means &quot;any character not a `[` or a `.`&quot;, so replacing those with a blank `&quot;&quot;` &quot;deletes&quot; them. This is very slightly &quot;expensive&quot;, but unless your string is huge, we&#39;re talking microseconds.\r\n ","title":"How to check if a period or a bracket exist first in a String?","body":"<p>You could remove all other chars then use <code>startsWith()</code>:</p>\n<pre><code>private static void checkString(String str) {\n    if (str.replaceAll(&quot;[^\\\\[.]&quot;, &quot;&quot;).startsWith(&quot;.&quot;)) {\n        System.out.println(&quot;period comes first&quot;);\n    } else {\n        System.out.println(&quot;bracket comes first&quot;);\n    }\n}\n</code></pre>\n<p>The regex <code>[^\\\\[.]</code> means &quot;any character not a <code>[</code> or a <code>.</code>&quot;, so replacing those with a blank <code>&quot;&quot;</code> &quot;deletes&quot; them. This is very slightly &quot;expensive&quot;, but unless your string is huge, we're talking microseconds.</p>\n"},{"tags":[],"owner":{"account_id":13113751,"reputation":142064,"user_id":9473764,"display_name":"Nick"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1698198703,"creation_date":1698194699,"answer_id":77356064,"question_id":77356008,"body_markdown":"You are checking for each character more times than you need to; just check once using [`indexOf`][1] and use the fact that it returns `-1` if the character is not found to control your logic. Updating your code:\r\n```java\r\nprivate static void checkString(String str) {\r\n    int indBr = str.indexOf(&quot;[&quot;);\r\n    int indPrd = str.indexOf(&quot;.&quot;);\r\n \r\n    if(indPrd &gt;= 0 &amp;&amp; indBr &gt;= 0) {\r\n        if(indPrd &lt; indBr)\r\n            System.out.println(&quot;period comes first&quot;);\r\n        else\r\n            System.out.println(&quot;bracket comes first&quot;);\r\n    }\r\n    else {\r\n    \tSystem.out.println(&quot;No bracket or period&quot;);\r\n    }\r\n}\r\n```\r\nJava demo on [ideone][2]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#indexOf-int-\r\n  [2]: https://ideone.com/IYU0yV","title":"How to check if a period or a bracket exist first in a String?","body":"<p>You are checking for each character more times than you need to; just check once using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#indexOf-int-\" rel=\"nofollow noreferrer\"><code>indexOf</code></a> and use the fact that it returns <code>-1</code> if the character is not found to control your logic. Updating your code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static void checkString(String str) {\n    int indBr = str.indexOf(&quot;[&quot;);\n    int indPrd = str.indexOf(&quot;.&quot;);\n \n    if(indPrd &gt;= 0 &amp;&amp; indBr &gt;= 0) {\n        if(indPrd &lt; indBr)\n            System.out.println(&quot;period comes first&quot;);\n        else\n            System.out.println(&quot;bracket comes first&quot;);\n    }\n    else {\n        System.out.println(&quot;No bracket or period&quot;);\n    }\n}\n</code></pre>\n<p>Java demo on <a href=\"https://ideone.com/IYU0yV\" rel=\"nofollow noreferrer\">ideone</a></p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1698209602,"creation_date":1698208389,"answer_id":77356631,"question_id":77356008,"body_markdown":"&gt; _&quot;... Is it possible to check in a string a period or a square bracket comes first? ...&quot;_\r\n\r\nUse the _[String#indexOf](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html#indexOf(int))_ method.\r\n\r\n```java\r\nint a = Math.min(str.indexOf(&#39;[&#39;), str.indexOf(&#39;.&#39;));\r\nif (a != -1) System.out.println(str.charAt(a) + &quot; is first&quot;);\r\n```\r\nOr, without _[Math#min](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Math.html#min(int,int))_.\r\n\r\n```java\r\nint a, b;\r\nif ((a = str.indexOf(&#39;[&#39;)) != -1)\r\n    if ((b = str.indexOf(&#39;.&#39;)) != -1)\r\n        System.out.println((a &lt; b ? &#39;[&#39; : &#39;.&#39;) + &quot; is first&quot;);\r\n```","title":"How to check if a period or a bracket exist first in a String?","body":"<blockquote>\n<p><em>&quot;... Is it possible to check in a string a period or a square bracket comes first? ...&quot;</em></p>\n</blockquote>\n<p>Use the <em><a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html#indexOf(int)\" rel=\"nofollow noreferrer\">String#indexOf</a></em> method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int a = Math.min(str.indexOf('['), str.indexOf('.'));\nif (a != -1) System.out.println(str.charAt(a) + &quot; is first&quot;);\n</code></pre>\n<p>Or, without <em><a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Math.html#min(int,int)\" rel=\"nofollow noreferrer\">Math#min</a></em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int a, b;\nif ((a = str.indexOf('[')) != -1)\n    if ((b = str.indexOf('.')) != -1)\n        System.out.println((a &lt; b ? '[' : '.') + &quot; is first&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18965720,"reputation":550,"user_id":13840270,"display_name":"DuesserBaest"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1698212480,"creation_date":1698212480,"answer_id":77356861,"question_id":77356008,"body_markdown":"### Regex approach:\r\n(since you tagged the question with regex)\r\n\r\nI am not familiar with Java, but you probably are able to access captured groups. This Regex captures a string either into `bracketFirst` of `dotFirst` depending on which comes first:\r\n\r\n```\r\n^(?:(?&lt;bracketFirst&gt;[^.]*\\[.*)|(?&lt;dotFirst&gt;[^\\[]*\\..*))$\r\n```\r\n\r\nSee https://regex101.com/r/t13QKI/latest\r\n\r\n`^` Asserts start of string\r\n\r\n`(?: ...)` Non-capturing group carrying the two options\r\n\r\n- `(?&lt;bracketFirst&gt;[^.]*\\[.*)` Matches if a bracket comes first by asserting no `.` comes before `[`\r\n\r\n- `|` OR\r\n\r\n- `(?&lt;dotFirst&gt;[^\\[]*\\..*)` Matches if `.` before  `[`\r\n\r\n`$` Asserts end of line","title":"How to check if a period or a bracket exist first in a String?","body":"<h3>Regex approach:</h3>\n<p>(since you tagged the question with regex)</p>\n<p>I am not familiar with Java, but you probably are able to access captured groups. This Regex captures a string either into <code>bracketFirst</code> of <code>dotFirst</code> depending on which comes first:</p>\n<pre><code>^(?:(?&lt;bracketFirst&gt;[^.]*\\[.*)|(?&lt;dotFirst&gt;[^\\[]*\\..*))$\n</code></pre>\n<p>See <a href=\"https://regex101.com/r/t13QKI/latest\" rel=\"nofollow noreferrer\">https://regex101.com/r/t13QKI/latest</a></p>\n<p><code>^</code> Asserts start of string</p>\n<p><code>(?: ...)</code> Non-capturing group carrying the two options</p>\n<ul>\n<li><p><code>(?&lt;bracketFirst&gt;[^.]*\\[.*)</code> Matches if a bracket comes first by asserting no <code>.</code> comes before <code>[</code></p>\n</li>\n<li><p><code>|</code> OR</p>\n</li>\n<li><p><code>(?&lt;dotFirst&gt;[^\\[]*\\..*)</code> Matches if <code>.</code> before  <code>[</code></p>\n</li>\n</ul>\n<p><code>$</code> Asserts end of line</p>\n"}],"owner":{"account_id":22109882,"reputation":49,"user_id":16364943,"display_name":"Piya"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":106,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":4,"score":0,"last_activity_date":1698217038,"creation_date":1698193456,"question_id":77356008,"body_markdown":"Is it possible to check in a string a period or a square bracket comes first?\r\nI have tried this simple code , is working fine, but looking for a good approach. please help. thanks\r\n\r\n    public static void main(String[] args) {\r\n        String str = &quot;timedLeg[0].service.carriers[0].ref&quot;;\r\n        checkString(str);\r\n    }\r\n\r\n    private static void checkString(String str) {\r\n        if(str.contains(&quot;[&quot;) || str.contains(&quot;.&quot;))\r\n        {\r\n            int indBr = 0,indPrd = 0;\r\n            if(str.contains(&quot;[&quot;))\r\n                indBr = str.indexOf(&quot;[&quot;);\r\n            if(str.contains(&quot;.&quot;))\r\n                indPrd = str.indexOf(&quot;.&quot;);\r\n\r\n            if(indPrd!=0 &amp;&amp; indBr!=0){\r\n                if(indPrd&lt;indBr)\r\n                        System.out.println(&quot;period comes first&quot;);\r\n                    else\r\n                        System.out.println(&quot;bracket comes first&quot;);\r\n\r\n            }\r\n","title":"How to check if a period or a bracket exist first in a String?","body":"<p>Is it possible to check in a string a period or a square bracket comes first?\nI have tried this simple code , is working fine, but looking for a good approach. please help. thanks</p>\n<pre><code>public static void main(String[] args) {\n    String str = &quot;timedLeg[0].service.carriers[0].ref&quot;;\n    checkString(str);\n}\n\nprivate static void checkString(String str) {\n    if(str.contains(&quot;[&quot;) || str.contains(&quot;.&quot;))\n    {\n        int indBr = 0,indPrd = 0;\n        if(str.contains(&quot;[&quot;))\n            indBr = str.indexOf(&quot;[&quot;);\n        if(str.contains(&quot;.&quot;))\n            indPrd = str.indexOf(&quot;.&quot;);\n\n        if(indPrd!=0 &amp;&amp; indBr!=0){\n            if(indPrd&lt;indBr)\n                    System.out.println(&quot;period comes first&quot;);\n                else\n                    System.out.println(&quot;bracket comes first&quot;);\n\n        }\n</code></pre>\n"},{"tags":["java","rest","kotlin","retrofit2","response-entity"],"answers":[{"tags":[],"owner":{"account_id":8056656,"reputation":587,"user_id":6073577,"accept_rate":100,"display_name":"Johnczek"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1698091516,"creation_date":1698091516,"answer_id":77348031,"question_id":77347532,"body_markdown":"It is always better to let exception handling for Spring. Just by showing these 2 approaches you can see that you will write less code and your &quot;business&quot; code will be much cleaner without these try catches. (Of course, if you want to use that approach for some reason on some places, you are free to go).\r\n\r\nWith first approach you can easily make your rest api more convenient and readable for users who will consume it. \r\n\r\nFor instance, you can create a global exception handler and set of exception children which you can easily map to correct error code and possibly error message as well.\r\n\r\n    @ResponseStatus(NOT_FOUND)\r\n    @ExceptionHandler(NotFoundExceptionParent.class)\r\n    @ResponseBody\r\n    public ResponseEntity&lt;GenericErrorObject&gt; notFoundExceptionHandling(NotFoundExceptionParentex) {\r\n        // Get message locale.id from given exception in language that user uses (you can store arguments in exception so you can easily fill arguments to that message, for example saying &quot;Entity with id {} was not found&quot;\r\n        // Create generic object that holds that error message\r\n        GenericErrorObject genericError = createGenericObject(ex);\r\n\r\n        return ResponseEntity.status(NOT_FOUND_STATUS).body(genericError );\r\n    }\r\n\r\nSo every exception that inherits from `NotFoundExceptionParent` will be handled here (so ends with 404 REST response every time). And will result in some generic error object like\r\n\r\n    {\r\n     error: {\r\n       messageIdentifier: &quot;some.message.identifier&quot;\r\n       messageContent: &quot;Item with id 5 was not found&quot;\r\n       incidentUUID: &quot;some-uuid&quot;\r\n       // possibly more data\r\n     }\r\n    }\r\nthat your consumer can, generically, handle as well. If we can take, for instance, some simple FE app (Vue, Angular, React, whatever), you can easily implement some default handling (which you can override on some places of course) that will, on non 2XX response, in some generic error toast where is just print `error.messageContent`  (and voila, you have your basic error handling for &quot;almost&quot; free :))\r\n\r\nKeep in mind that you should have some &quot;fallback&quot; error handling there too, catching for example RuntimeException (if possible) that will end in some 500 or something.\r\nAlso do not forget to add some additional logging, global exception handler is perfect place to log errors and possibly generate some unique identifier for them so you can track these errors easily in logs.\r\n\r\n\r\nIf you want to perform completely different handling for some validations (and you dont want to mix it together), you can do so by implementing another exception handler with different exception parent.\r\n\r\nAnd the only thing you have to do to perform this error handling would be throw some custom exception from any place. That sounds much better than app swarming with try catches, isn&#180;t it.\r\n\r\n**Final note:** Handling error the &quot;first way&quot; is not necessarily bad approach, if your use cases does not really fit to some generic exception handling system, feel free to use custom handling. But if Spring can do anything for you, why not let it to do it :) ","title":"GlobalExceptionHandler with @ExceptionHandler or ResponseEntity for REST answer from the server?","body":"<p>It is always better to let exception handling for Spring. Just by showing these 2 approaches you can see that you will write less code and your &quot;business&quot; code will be much cleaner without these try catches. (Of course, if you want to use that approach for some reason on some places, you are free to go).</p>\n<p>With first approach you can easily make your rest api more convenient and readable for users who will consume it.</p>\n<p>For instance, you can create a global exception handler and set of exception children which you can easily map to correct error code and possibly error message as well.</p>\n<pre><code>@ResponseStatus(NOT_FOUND)\n@ExceptionHandler(NotFoundExceptionParent.class)\n@ResponseBody\npublic ResponseEntity&lt;GenericErrorObject&gt; notFoundExceptionHandling(NotFoundExceptionParentex) {\n    // Get message locale.id from given exception in language that user uses (you can store arguments in exception so you can easily fill arguments to that message, for example saying &quot;Entity with id {} was not found&quot;\n    // Create generic object that holds that error message\n    GenericErrorObject genericError = createGenericObject(ex);\n\n    return ResponseEntity.status(NOT_FOUND_STATUS).body(genericError );\n}\n</code></pre>\n<p>So every exception that inherits from <code>NotFoundExceptionParent</code> will be handled here (so ends with 404 REST response every time). And will result in some generic error object like</p>\n<pre><code>{\n error: {\n   messageIdentifier: &quot;some.message.identifier&quot;\n   messageContent: &quot;Item with id 5 was not found&quot;\n   incidentUUID: &quot;some-uuid&quot;\n   // possibly more data\n }\n}\n</code></pre>\n<p>that your consumer can, generically, handle as well. If we can take, for instance, some simple FE app (Vue, Angular, React, whatever), you can easily implement some default handling (which you can override on some places of course) that will, on non 2XX response, in some generic error toast where is just print <code>error.messageContent</code>  (and voila, you have your basic error handling for &quot;almost&quot; free :))</p>\n<p>Keep in mind that you should have some &quot;fallback&quot; error handling there too, catching for example RuntimeException (if possible) that will end in some 500 or something.\nAlso do not forget to add some additional logging, global exception handler is perfect place to log errors and possibly generate some unique identifier for them so you can track these errors easily in logs.</p>\n<p>If you want to perform completely different handling for some validations (and you dont want to mix it together), you can do so by implementing another exception handler with different exception parent.</p>\n<p>And the only thing you have to do to perform this error handling would be throw some custom exception from any place. That sounds much better than app swarming with try catches, isnt it.</p>\n<p><strong>Final note:</strong> Handling error the &quot;first way&quot; is not necessarily bad approach, if your use cases does not really fit to some generic exception handling system, feel free to use custom handling. But if Spring can do anything for you, why not let it to do it :)</p>\n"}],"owner":{"account_id":26019998,"reputation":23,"user_id":19727823,"display_name":"Crystal2033"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77348031,"answer_count":1,"score":1,"last_activity_date":1698216624,"creation_date":1698085625,"question_id":77347532,"body_markdown":"I&#39;ve found two approaches of returning error status codes from `RESTful API`: the first is traditional using `ResponseEntity&lt;&gt;`. The second one is to create specific exceptions for status codes and using `GlobalExceptionHandler` with `@ExceptionHandler` throw these exceptions as answer of the server. Spring will catch it and send as answer.\r\n\r\n```\r\n@ControllerAdvice\r\n@Slf4j\r\npublic class GlobalExceptionHandler {\r\n    @ExceptionHandler\r\n    public ResponseEntity&lt;AppError&gt; catchResourceNotFoundException(ResourceNotFoundException e) {\r\n        log.error(e.getMessage(), e);\r\n        return new ResponseEntity&lt;&gt;(new AppError(HttpStatus.NOT_FOUND.value(), e.getMessage()), HttpStatus.NOT_FOUND);\r\n    }\r\n }\r\n```\r\n\r\nI don&#39;t know what is better. For second approach `Controller` will look like this:\r\n\r\n```\r\n@GetMapping(&quot;/products&quot;)\r\n    public Product getProduct(Long id){\r\n            return productsService.findById(id);\r\n    }\r\n```\r\n\r\nAnd `service` as:\r\n\r\n```\r\npublic Product findById(Long id) {\r\n        return productsRepository.findById(id).orElseThrow(\r\n                () -&gt; new ResourceNotFoundException(&quot;Product with id &quot; + id + &quot; not found&quot;));\r\n    }\r\n```\r\n\r\n1. What is the best approach and why?\r\n\r\n2. Is it hard to get `ResponseEntity` on `Kotlin` android retrofit api if first approach better? What will I get if server sends to my `Kotlin` side `ResponseEntity`? Response class? Server on `Java Spring`, client - on Android `Kotlin`\r\n\r\n \r\n\r\nSomeone says that `ResponseEntity` is the best approach to send data from the server. Someone says that it&#39;s difficult to read controllers with `ResponseEntity` in return value like this:\r\n\r\n```\r\n@GetMapping(&quot;/products&quot;)\r\n    public ResponseEntity&lt;?&gt; getProduct(Long id){\r\n        try {\r\n            Product product = productsService.findById(id).orElseThrow();\r\n            return new ResponseEntity&lt;&gt;(product, HttpStatus.OK);\r\n        } catch (Exception e){\r\n            return new ResponseEntity&lt;&gt;(new AppError(HttpStatus.NOT_FOUND.value(), \r\n                    &quot;Product with id &quot; + id + &quot; nor found&quot;),\r\n                    HttpStatus.NOT_FOUND);\r\n        }\r\n    }\r\n```\r\nSo where is the truth?\r\n","title":"GlobalExceptionHandler with @ExceptionHandler or ResponseEntity for REST answer from the server?","body":"<p>I've found two approaches of returning error status codes from <code>RESTful API</code>: the first is traditional using <code>ResponseEntity&lt;&gt;</code>. The second one is to create specific exceptions for status codes and using <code>GlobalExceptionHandler</code> with <code>@ExceptionHandler</code> throw these exceptions as answer of the server. Spring will catch it and send as answer.</p>\n<pre><code>@ControllerAdvice\n@Slf4j\npublic class GlobalExceptionHandler {\n    @ExceptionHandler\n    public ResponseEntity&lt;AppError&gt; catchResourceNotFoundException(ResourceNotFoundException e) {\n        log.error(e.getMessage(), e);\n        return new ResponseEntity&lt;&gt;(new AppError(HttpStatus.NOT_FOUND.value(), e.getMessage()), HttpStatus.NOT_FOUND);\n    }\n }\n</code></pre>\n<p>I don't know what is better. For second approach <code>Controller</code> will look like this:</p>\n<pre><code>@GetMapping(&quot;/products&quot;)\n    public Product getProduct(Long id){\n            return productsService.findById(id);\n    }\n</code></pre>\n<p>And <code>service</code> as:</p>\n<pre><code>public Product findById(Long id) {\n        return productsRepository.findById(id).orElseThrow(\n                () -&gt; new ResourceNotFoundException(&quot;Product with id &quot; + id + &quot; not found&quot;));\n    }\n</code></pre>\n<ol>\n<li><p>What is the best approach and why?</p>\n</li>\n<li><p>Is it hard to get <code>ResponseEntity</code> on <code>Kotlin</code> android retrofit api if first approach better? What will I get if server sends to my <code>Kotlin</code> side <code>ResponseEntity</code>? Response class? Server on <code>Java Spring</code>, client - on Android <code>Kotlin</code></p>\n</li>\n</ol>\n<p>Someone says that <code>ResponseEntity</code> is the best approach to send data from the server. Someone says that it's difficult to read controllers with <code>ResponseEntity</code> in return value like this:</p>\n<pre><code>@GetMapping(&quot;/products&quot;)\n    public ResponseEntity&lt;?&gt; getProduct(Long id){\n        try {\n            Product product = productsService.findById(id).orElseThrow();\n            return new ResponseEntity&lt;&gt;(product, HttpStatus.OK);\n        } catch (Exception e){\n            return new ResponseEntity&lt;&gt;(new AppError(HttpStatus.NOT_FOUND.value(), \n                    &quot;Product with id &quot; + id + &quot; nor found&quot;),\n                    HttpStatus.NOT_FOUND);\n        }\n    }\n</code></pre>\n<p>So where is the truth?</p>\n"},{"tags":["java","android","firebase","google-cloud-platform","google-cloud-firestore"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1697971563,"post_id":77339420,"comment_id":136343915,"body_markdown":"I&#39;m not sure I understand.\nWhat exactly in this code doesn&#39;t work the way you expect?\nTell us what is wrong with shared code. Do you have any errors?","body":"I&#39;m not sure I understand. What exactly in this code doesn&#39;t work the way you expect? Tell us what is wrong with shared code. Do you have any errors?"},{"owner":{"account_id":23647963,"reputation":237,"user_id":17677301,"display_name":"M&#227;"},"score":0,"creation_date":1697973114,"post_id":77339420,"comment_id":136344054,"body_markdown":"the code snippet I shared works fine I added it so everyone knows how I retrieve the data from firebase.","body":"the code snippet I shared works fine I added it so everyone knows how I retrieve the data from firebase."},{"owner":{"account_id":23647963,"reputation":237,"user_id":17677301,"display_name":"M&#227;"},"score":0,"creation_date":1697973392,"post_id":77339420,"comment_id":136344082,"body_markdown":"I updated the question. check it again please","body":"I updated the question. check it again please"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1698042431,"post_id":77339420,"comment_id":136350072,"body_markdown":"I still don&#39;t understand what the problem is.","body":"I still don&#39;t understand what the problem is."},{"owner":{"account_id":3399229,"reputation":34668,"user_id":2851937,"accept_rate":67,"display_name":"Jay"},"score":2,"creation_date":1698089457,"post_id":77339420,"comment_id":136358634,"body_markdown":"Are you asking how to configure your firebase to support multiple languages? i.e. if the App is configured for french, read the French version of the data, if the app is English, read the English version of the data, Arabic, read Arabic version of the data? If that&#39;s the case, one option is to store the language specific text within the same document and once the document is read, use the text in the corresponding fields for your UI. So rename the fields to `descriptionEn` (for English), `descriptionFr` for French etc. If that&#39;s not the question, can you clarify the question?","body":"Are you asking how to configure your firebase to support multiple languages? i.e. if the App is configured for french, read the French version of the data, if the app is English, read the English version of the data, Arabic, read Arabic version of the data? If that&#39;s the case, one option is to store the language specific text within the same document and once the document is read, use the text in the corresponding fields for your UI. So rename the fields to <code>descriptionEn</code> (for English), <code>descriptionFr</code> for French etc. If that&#39;s not the question, can you clarify the question?"},{"owner":{"account_id":23647963,"reputation":237,"user_id":17677301,"display_name":"M&#227;"},"score":0,"creation_date":1698126389,"post_id":77339420,"comment_id":136362140,"body_markdown":"yes, That is my question.","body":"yes, That is my question."},{"owner":{"account_id":23647963,"reputation":237,"user_id":17677301,"display_name":"M&#227;"},"score":0,"creation_date":1698126437,"post_id":77339420,"comment_id":136362143,"body_markdown":"I&#39;ll share my adapter and model code. then you can help me better as what needs to be adjusted.","body":"I&#39;ll share my adapter and model code. then you can help me better as what needs to be adjusted."},{"owner":{"account_id":23647963,"reputation":237,"user_id":17677301,"display_name":"M&#227;"},"score":0,"creation_date":1698127075,"post_id":77339420,"comment_id":136362204,"body_markdown":"@AlexMamo you can check his comment please","body":"@AlexMamo you can check his comment please"},{"owner":{"account_id":3399229,"reputation":34668,"user_id":2851937,"accept_rate":67,"display_name":"Jay"},"score":2,"creation_date":1698172424,"post_id":77339420,"comment_id":136370695,"body_markdown":"The answer provided by @AlexMamo is on point and matches my above comment. Be sure to accept that answer once you&#39;ve got it working.","body":"The answer provided by @AlexMamo is on point and matches my above comment. Be sure to accept that answer once you&#39;ve got it working."},{"owner":{"account_id":23647963,"reputation":237,"user_id":17677301,"display_name":"M&#227;"},"score":0,"creation_date":1698177016,"post_id":77339420,"comment_id":136371503,"body_markdown":"Yes, I&#39;m trying to get it working. I cant till now","body":"Yes, I&#39;m trying to get it working. I cant till now"}],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1698215631,"creation_date":1698130649,"answer_id":77350061,"question_id":77339420,"body_markdown":"If you want to configure your Firebase app to support multiple languages, meaning to display the data according to what the user selected as the preferred language, then you have to change the structure of the document a little bit.\r\n\r\nThis means that if the app is configured for English, you should display the data in English, if the app is configured for Arabic, you should display the data in Arabic, and so on. To achieve such functionality, the document should contain the data translated into all available languages. So document schema should look like this:\r\n\r\n    db\r\n    |\r\n    --- ServiceInfo (collection)\r\n         |\r\n         --- $docId (document)\r\n              |\r\n              --- name: &quot;Advice&quot;\r\n              |\r\n              --- price: 5\r\n              |\r\n              --- description (map)\r\n                   |\r\n                   --- en: &quot;text in English&quot;\r\n                   |\r\n                   --- fr: &quot;text in French&quot;\r\n                   |\r\n                   --- de: &quot;text in German&quot;\r\n\r\nAs you can see, the `description` is not a field of type string but a field of type `map`. This means that when you display the data, you have to check first what language is selected by the user and then dig into the map field to get the data that corresponds to the selected language.","title":"Retrieve data based on the app selected language","body":"<p>If you want to configure your Firebase app to support multiple languages, meaning to display the data according to what the user selected as the preferred language, then you have to change the structure of the document a little bit.</p>\n<p>This means that if the app is configured for English, you should display the data in English, if the app is configured for Arabic, you should display the data in Arabic, and so on. To achieve such functionality, the document should contain the data translated into all available languages. So document schema should look like this:</p>\n<pre><code>db\n|\n--- ServiceInfo (collection)\n     |\n     --- $docId (document)\n          |\n          --- name: &quot;Advice&quot;\n          |\n          --- price: 5\n          |\n          --- description (map)\n               |\n               --- en: &quot;text in English&quot;\n               |\n               --- fr: &quot;text in French&quot;\n               |\n               --- de: &quot;text in German&quot;\n</code></pre>\n<p>As you can see, the <code>description</code> is not a field of type string but a field of type <code>map</code>. This means that when you display the data, you have to check first what language is selected by the user and then dig into the map field to get the data that corresponds to the selected language.</p>\n"}],"owner":{"account_id":23647963,"reputation":237,"user_id":17677301,"display_name":"M&#227;"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77350061,"answer_count":1,"score":1,"last_activity_date":1698216619,"creation_date":1697967948,"question_id":77339420,"body_markdown":"My app is almost ready, but there is an issue I&#39;m not sure how to approach which is my app supports Arabic and English. English is the main language of the app and users can change it from within app settings. my app provides services with name, price, and description that are in English. What I&#39;m trying to do is when the user changes the app language the Arabic data gets retrieved, so If I added another document for name, price, and description for the Arabic version. will be able to get the data? I&#39;ll share a screenshot and some code.\r\n Note: I&#39;m working with Java\r\n\r\nthis one to get the service data from firebase and load them into a recylerview, I have an adapter and a model, which contain the name, price and decription.\r\n      \r\n\r\n\r\n\r\n    Query query = db.collection(&quot;ServiceInfo&quot;);\r\n        FirestoreRecyclerOptions&lt;ServiceModel&gt; options = new FirestoreRecyclerOptions.Builder&lt;ServiceModel&gt;()\r\n                .setQuery(query, ServiceModel.class).build();\r\n        adapter = new ServiceAdapter(options);\r\n\r\n\r\nthis is how my database is structured\r\n[![enter image description here][2]][2]\r\n\r\n[![enter image description here][1]][1]\r\n\r\nthank you \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/5bNFm.jpg\r\n  [2]: https://i.stack.imgur.com/4S6Gm.png","title":"Retrieve data based on the app selected language","body":"<p>My app is almost ready, but there is an issue I'm not sure how to approach which is my app supports Arabic and English. English is the main language of the app and users can change it from within app settings. my app provides services with name, price, and description that are in English. What I'm trying to do is when the user changes the app language the Arabic data gets retrieved, so If I added another document for name, price, and description for the Arabic version. will be able to get the data? I'll share a screenshot and some code.\nNote: I'm working with Java</p>\n<p>this one to get the service data from firebase and load them into a recylerview, I have an adapter and a model, which contain the name, price and decription.</p>\n<pre><code>Query query = db.collection(&quot;ServiceInfo&quot;);\n    FirestoreRecyclerOptions&lt;ServiceModel&gt; options = new FirestoreRecyclerOptions.Builder&lt;ServiceModel&gt;()\n            .setQuery(query, ServiceModel.class).build();\n    adapter = new ServiceAdapter(options);\n</code></pre>\n<p>this is how my database is structured\n<a href=\"https://i.stack.imgur.com/4S6Gm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4S6Gm.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/5bNFm.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5bNFm.jpg\" alt=\"enter image description here\" /></a></p>\n<p>thank you</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9930,"page":102,"page_size":100}
