{"items":[{"tags":["java","spring","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":25434759,"reputation":146,"user_id":19238643,"display_name":"Christoph Kronberger"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654840317,"creation_date":1654840317,"answer_id":72569619,"question_id":72569090,"body_markdown":"Ralationships are created in hibernate like this:\r\n\r\n    @Entity\r\n    @Table(name=&quot;CART&quot;)\r\n    public class Cart {\r\n    \r\n        //...\r\n    \r\n        @OneToMany(mappedBy=&quot;cart&quot;)\r\n        private Set&lt;Item&gt; items;\r\n    \t\r\n        // getters and setters\r\n    }\r\n\r\nPlease note that the @OneToMany annotation is used to define the property in Item class that will be used to map the mappedBy variable. That is why we have a property named “cart” in the Item class:\r\n\r\n    @Entity\r\n    @Table(name=&quot;ITEMS&quot;)\r\n    public class Item {\r\n        \r\n        //...\r\n        @ManyToOne\r\n        @JoinColumn(name=&quot;cart_id&quot;, nullable=false)\r\n        private Cart cart;\r\n    \r\n        public Item() {}\r\n        \r\n        // getters and setters\r\n    }\r\n\r\nSoin your case you just have to add \r\n\r\n    @Entity\r\n    @Table(name = &quot;address&quot;)\r\n\r\n    public class Address {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    @Column(name = &quot;id&quot;)\r\n    private Long id;\r\n    //...\r\n\r\n    @OneToOne(mappedBy = &quot;address&quot;)\r\n    private User user;\r\n\r\nsomething lilke this to your Adress Table.\r\nBecause one Adress also have one user.\r\n\r\n[For more information visit this site][1]\r\n\r\n\r\n  [1]: https://www.baeldung.com/jpa-one-to-one","title":"Spring JPA how to create an object with relationship to another entity in Application","body":"<p>Ralationships are created in hibernate like this:</p>\n<pre><code>@Entity\n@Table(name=&quot;CART&quot;)\npublic class Cart {\n\n    //...\n\n    @OneToMany(mappedBy=&quot;cart&quot;)\n    private Set&lt;Item&gt; items;\n    \n    // getters and setters\n}\n</code></pre>\n<p>Please note that the @OneToMany annotation is used to define the property in Item class that will be used to map the mappedBy variable. That is why we have a property named “cart” in the Item class:</p>\n<pre><code>@Entity\n@Table(name=&quot;ITEMS&quot;)\npublic class Item {\n    \n    //...\n    @ManyToOne\n    @JoinColumn(name=&quot;cart_id&quot;, nullable=false)\n    private Cart cart;\n\n    public Item() {}\n    \n    // getters and setters\n}\n</code></pre>\n<p>Soin your case you just have to add</p>\n<pre><code>@Entity\n@Table(name = &quot;address&quot;)\n\npublic class Address {\n\n@Id\n@GeneratedValue(strategy = GenerationType.AUTO)\n@Column(name = &quot;id&quot;)\nprivate Long id;\n//...\n\n@OneToOne(mappedBy = &quot;address&quot;)\nprivate User user;\n</code></pre>\n<p>something lilke this to your Adress Table.\nBecause one Adress also have one user.</p>\n<p><a href=\"https://www.baeldung.com/jpa-one-to-one\" rel=\"nofollow noreferrer\">For more information visit this site</a></p>\n"}],"owner":{"account_id":20527461,"reputation":67,"user_id":15065565,"display_name":"salteax1"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2686,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654840317,"creation_date":1654835268,"question_id":72569090,"body_markdown":"I want to create a Person with an Address, each of them are an entity. My Entities seem to work, the part where i begin to struggle is on how to create a Person using the constructor where i also have to put in the Address.\r\n\r\n    personRepository.save(new Person(new Name(&quot;Test&quot;,&quot;Test&quot;),new Adress(&quot;Street&quot;,&quot;Number&quot;,&quot;PLZ&quot;,&quot;Town&quot;),LocalDate.parse(&quot;2000-01-01&quot;),&quot;email@email.com&quot;,&quot;911&quot;);\r\n\r\n**This sadly does not work so my question is how can i create a Person object with the Address.** \r\n\r\n**I&#39;m also wondering how i would add the address if i already got the address in my Address repository, is there a way to get the address or use the adress ID?**\r\n\r\n    adresseRepository.save(new Adresse(&quot;Street&quot;,&quot;Number&quot;,&quot;PLZ&quot;,&quot;Town&quot;));\r\n\r\nHere&#39;s the code for both of the shortend.\r\n\r\nPerson:\r\n\r\n    @Entity\r\n    @Table(name = &quot;Person&quot;)\r\n    public class Person {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        @Column(name = &quot;PersonID&quot;)\r\n        private Long personID;\r\n        @Column(name = &quot;FullName&quot;)\r\n        @Convert(converter = NameConverter.class)\r\n        private Name fullName;\r\n        @OneToOne(cascade = CascadeType.ALL)\r\n        @JoinColumn(name=&quot;AdresseID&quot;)\r\n        private Adresse adresse;\r\n        @Column(name = &quot;Geburtsdatum&quot;)\r\n        private LocalDate geburtsdatum;\r\n        @Column(name = &quot;EMail&quot;)\r\n        private String email;\r\n        @Column(name = &quot;Telefonnummer&quot;)\r\n        private String telefonnummer;\r\n    \r\n        private Person() {}\r\n    \r\n        public Person(Name fullName, Adresse adresse, LocalDate geburtsdatum, String email, String telefonnummer) {\r\n            this.fullName = fullName;\r\n            this.adresse = adresse;\r\n            this.geburtsdatum = geburtsdatum;\r\n            this.email = email;\r\n            this.telefonnummer = telefonnummer;\r\n        }\r\n    }\r\n\r\nAddress:\r\n\r\n    @Entity\r\n    @Table(name = &quot;Adresse&quot;)\r\n    public class Adresse {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        @Column(name = &quot;AdresseID&quot;)\r\n        private Long adresseID;\r\n        @Column(name = &quot;Strasse&quot;)\r\n        private String strasse;\r\n        @Column(name = &quot;Hausnummer&quot;)\r\n        private String hausnummer;\r\n        @Column(name = &quot;PLZ&quot;)\r\n        private String plz;\r\n        @Column(name = &quot;Ort&quot;)\r\n        private String ort;\r\n    \r\n        protected Adresse() {}\r\n    \r\n        public Adresse(String strasse, String hausnummer, String plz, String ort) {\r\n            this.strasse = strasse;\r\n            this.hausnummer = hausnummer;\r\n            this.plz = plz;\r\n            this.ort = ort;\r\n        }\r\n    }","title":"Spring JPA how to create an object with relationship to another entity in Application","body":"<p>I want to create a Person with an Address, each of them are an entity. My Entities seem to work, the part where i begin to struggle is on how to create a Person using the constructor where i also have to put in the Address.</p>\n<pre><code>personRepository.save(new Person(new Name(&quot;Test&quot;,&quot;Test&quot;),new Adress(&quot;Street&quot;,&quot;Number&quot;,&quot;PLZ&quot;,&quot;Town&quot;),LocalDate.parse(&quot;2000-01-01&quot;),&quot;email@email.com&quot;,&quot;911&quot;);\n</code></pre>\n<p><strong>This sadly does not work so my question is how can i create a Person object with the Address.</strong></p>\n<p><strong>I'm also wondering how i would add the address if i already got the address in my Address repository, is there a way to get the address or use the adress ID?</strong></p>\n<pre><code>adresseRepository.save(new Adresse(&quot;Street&quot;,&quot;Number&quot;,&quot;PLZ&quot;,&quot;Town&quot;));\n</code></pre>\n<p>Here's the code for both of the shortend.</p>\n<p>Person:</p>\n<pre><code>@Entity\n@Table(name = &quot;Person&quot;)\npublic class Person {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name = &quot;PersonID&quot;)\n    private Long personID;\n    @Column(name = &quot;FullName&quot;)\n    @Convert(converter = NameConverter.class)\n    private Name fullName;\n    @OneToOne(cascade = CascadeType.ALL)\n    @JoinColumn(name=&quot;AdresseID&quot;)\n    private Adresse adresse;\n    @Column(name = &quot;Geburtsdatum&quot;)\n    private LocalDate geburtsdatum;\n    @Column(name = &quot;EMail&quot;)\n    private String email;\n    @Column(name = &quot;Telefonnummer&quot;)\n    private String telefonnummer;\n\n    private Person() {}\n\n    public Person(Name fullName, Adresse adresse, LocalDate geburtsdatum, String email, String telefonnummer) {\n        this.fullName = fullName;\n        this.adresse = adresse;\n        this.geburtsdatum = geburtsdatum;\n        this.email = email;\n        this.telefonnummer = telefonnummer;\n    }\n}\n</code></pre>\n<p>Address:</p>\n<pre><code>@Entity\n@Table(name = &quot;Adresse&quot;)\npublic class Adresse {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name = &quot;AdresseID&quot;)\n    private Long adresseID;\n    @Column(name = &quot;Strasse&quot;)\n    private String strasse;\n    @Column(name = &quot;Hausnummer&quot;)\n    private String hausnummer;\n    @Column(name = &quot;PLZ&quot;)\n    private String plz;\n    @Column(name = &quot;Ort&quot;)\n    private String ort;\n\n    protected Adresse() {}\n\n    public Adresse(String strasse, String hausnummer, String plz, String ort) {\n        this.strasse = strasse;\n        this.hausnummer = hausnummer;\n        this.plz = plz;\n        this.ort = ort;\n    }\n}\n</code></pre>\n"},{"tags":["java","simulation","anylogic"],"answers":[{"tags":[],"owner":{"account_id":2486375,"reputation":11083,"user_id":2164728,"accept_rate":62,"display_name":"Benjamin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1654839988,"creation_date":1654839988,"answer_id":72569576,"question_id":72569050,"body_markdown":"Sure. Use a separate function returning a double and taking the dataset as an argument, call it `f_getDSMax()`:\r\n\r\n    if (myDataSet.size() == 0) {\r\n        return 0.;\r\n    }\r\n    return myDataSet.getYMax();\r\n\r\nOr you do it in 1 line:\r\n\r\n    myDataSet.size() == 0 ? 0. : myDataSet.getYMax()\r\n","title":"let dataset.getYMax return zero in case there are no items in the dataset instead of -infinity - anylogic","body":"<p>Sure. Use a separate function returning a double and taking the dataset as an argument, call it <code>f_getDSMax()</code>:</p>\n<pre><code>if (myDataSet.size() == 0) {\n    return 0.;\n}\nreturn myDataSet.getYMax();\n</code></pre>\n<p>Or you do it in 1 line:</p>\n<pre><code>myDataSet.size() == 0 ? 0. : myDataSet.getYMax()\n</code></pre>\n"}],"owner":{"account_id":23963859,"reputation":59,"user_id":17953627,"display_name":"Majed Hadid"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72569576,"answer_count":1,"score":0,"last_activity_date":1654839988,"creation_date":1654834588,"question_id":72569050,"body_markdown":"I&#39;m adding data to `dataset` when a condition is `true`, then I&#39;m using `getYMax()` to calculate the maximum value in the dataset. However, if the `dataset` is empty (no items have been collected) it will return `-infinity`. Is there any way to make `getYMax()` return `0` instead of `-infinity`?\r\n\r\nThank you","title":"let dataset.getYMax return zero in case there are no items in the dataset instead of -infinity - anylogic","body":"<p>I'm adding data to <code>dataset</code> when a condition is <code>true</code>, then I'm using <code>getYMax()</code> to calculate the maximum value in the dataset. However, if the <code>dataset</code> is empty (no items have been collected) it will return <code>-infinity</code>. Is there any way to make <code>getYMax()</code> return <code>0</code> instead of <code>-infinity</code>?</p>\n<p>Thank you</p>\n"},{"tags":["java","notifications","jmx"],"owner":{"account_id":5963633,"reputation":31,"user_id":4687994,"display_name":"user4687994"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1654839745,"creation_date":1654839745,"question_id":72569548,"body_markdown":"I have 3 main classes.\r\nI run Main1-&gt;Main2-&gt;Main3 in different command prompt windows.\r\nI expect that after running Main3, it will sysout &quot;Received notification!&quot; in Main2 window. But nothing happens.... Why does the listener not triggered?\r\n\r\nMain1: registers the mbean\r\n```\r\nJMXServiceURL url = new JMXServiceURL(&quot;service:jmx:rmi:///jndi/rmi://localhost:9999/server&quot;); \r\nJMXConnector connector = JMXConnectorFactory.newJMXConnector(url, null); \r\nconnector.connect;\r\nMBeanServerConnection server = connector.getMBeanServerConnection();\r\nObjectName objNm = new ObjectName(&quot;Qwerty:type=server1&quot;);\r\nserver = createMBean(SampleCnt.class.getName(), objNm);\r\n```\r\n\r\nMain2: listens to mbean\r\n```\r\nJMXServiceURL url = new JMXServiceURL(&quot;service:jmx:rmi:///jndi/rmi://localhost:9999/server&quot;); \r\nJMXConnector connector = JMXConnectorFactory.newJMXConnector(url, null); \r\nconnector.connect;\r\nMBeanServerConnection server = connector.getMBeanServerConnection();\r\nObjectName objNm = new ObjectName(&quot;Qwerty:type=server1&quot;);\r\nif (server.isRegistered(objNm)) {\r\n   CntListener listener = new CntListener();\r\n   server.addNotificationListener(objNm, listener, null,null);\r\n}\r\n```\r\n\r\nMain3: sets value to mbean\r\n```\r\nJMXServiceURL url = new JMXServiceURL(&quot;service:jmx:rmi:///jndi/rmi://localhost:9999/server&quot;); \r\nJMXConnector connector = JMXConnectorFactory.newJMXConnector(url, null); \r\nconnector.connect;\r\nMBeanServerConnection server = connector.getMBeanServerConnection();\r\nObjectName objNm = new ObjectName(&quot;Qwerty:type=server1&quot;);\r\nif (server.isRegistered(objNm)) {\r\n   server.setAttribute(objNm, new Attribute(&quot;cnt&quot;, 1));\r\n}\r\n```\r\n\r\nother codes:\r\n```\r\npublic interface SampleCntMBean {\r\n   public int getCnt();\r\n   public void setCnt(int cnt);\r\n}\r\n```\r\n\r\n```\r\npublic class extends NotificationBroadcasterSupport implements SampleCntMBean {\r\n   volatile private int cnt = 0;\r\n   public int getCnt() {\r\n      return cnt;\r\n   }\r\n   public void setCnt(int cnt) {\r\n      this.cnt = cnt;\r\n   }\r\n}\r\n```\r\n\r\n```\r\npublic class CntListener implements NotificationListener {\r\n   public void handleNotification(Notification notification, Object handback) {  \r\n      System.out.println(&quot;Received notification!&quot;);  \r\n   } \r\n}\r\n```\r\n","title":"Notification listener not working properly for JMX","body":"<p>I have 3 main classes.\nI run Main1-&gt;Main2-&gt;Main3 in different command prompt windows.\nI expect that after running Main3, it will sysout &quot;Received notification!&quot; in Main2 window. But nothing happens.... Why does the listener not triggered?</p>\n<p>Main1: registers the mbean</p>\n<pre><code>JMXServiceURL url = new JMXServiceURL(&quot;service:jmx:rmi:///jndi/rmi://localhost:9999/server&quot;); \nJMXConnector connector = JMXConnectorFactory.newJMXConnector(url, null); \nconnector.connect;\nMBeanServerConnection server = connector.getMBeanServerConnection();\nObjectName objNm = new ObjectName(&quot;Qwerty:type=server1&quot;);\nserver = createMBean(SampleCnt.class.getName(), objNm);\n</code></pre>\n<p>Main2: listens to mbean</p>\n<pre><code>JMXServiceURL url = new JMXServiceURL(&quot;service:jmx:rmi:///jndi/rmi://localhost:9999/server&quot;); \nJMXConnector connector = JMXConnectorFactory.newJMXConnector(url, null); \nconnector.connect;\nMBeanServerConnection server = connector.getMBeanServerConnection();\nObjectName objNm = new ObjectName(&quot;Qwerty:type=server1&quot;);\nif (server.isRegistered(objNm)) {\n   CntListener listener = new CntListener();\n   server.addNotificationListener(objNm, listener, null,null);\n}\n</code></pre>\n<p>Main3: sets value to mbean</p>\n<pre><code>JMXServiceURL url = new JMXServiceURL(&quot;service:jmx:rmi:///jndi/rmi://localhost:9999/server&quot;); \nJMXConnector connector = JMXConnectorFactory.newJMXConnector(url, null); \nconnector.connect;\nMBeanServerConnection server = connector.getMBeanServerConnection();\nObjectName objNm = new ObjectName(&quot;Qwerty:type=server1&quot;);\nif (server.isRegistered(objNm)) {\n   server.setAttribute(objNm, new Attribute(&quot;cnt&quot;, 1));\n}\n</code></pre>\n<p>other codes:</p>\n<pre><code>public interface SampleCntMBean {\n   public int getCnt();\n   public void setCnt(int cnt);\n}\n</code></pre>\n<pre><code>public class extends NotificationBroadcasterSupport implements SampleCntMBean {\n   volatile private int cnt = 0;\n   public int getCnt() {\n      return cnt;\n   }\n   public void setCnt(int cnt) {\n      this.cnt = cnt;\n   }\n}\n</code></pre>\n<pre><code>public class CntListener implements NotificationListener {\n   public void handleNotification(Notification notification, Object handback) {  \n      System.out.println(&quot;Received notification!&quot;);  \n   } \n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":24118424,"reputation":179,"user_id":18087971,"display_name":"waynewingorc"},"score":1,"creation_date":1654838988,"post_id":72568712,"comment_id":128192129,"body_markdown":"@RobbyCornelissen if you do `String var = null; validateLocationIds(var)` and use Intellij&#39;s Evaluate Expression to call the code, it&#39;s treating `locationIds` as `null`. At least according to the error message","body":"@RobbyCornelissen if you do <code>String var = null; validateLocationIds(var)</code> and use Intellij&#39;s Evaluate Expression to call the code, it&#39;s treating <code>locationIds</code> as <code>null</code>. At least according to the error message"}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1654831102,"creation_date":1654831102,"answer_id":72568787,"question_id":72568712,"body_markdown":"It&#39;s not about `null` specifically, it&#39;s about the `null` expression&#39;s type.\r\n\r\nA null expression doesn&#39;t have to be typed, but it can be. Here is a trivial example:\r\n\r\n```\r\nString x = null;\r\nSystem.out.println(x);\r\n```\r\n\r\nThis is very slightly different compared to:\r\n\r\n```\r\nSystem.out.println(null);\r\n```\r\n\r\nNote that `println` has a boatload of overloads - completely different methods (and `javac`, the compiler, _must_ pick which exact overload to invoke __at compile time__), that are all named `println`, all of which have 1 parameter. The first snippet is easy for the compiler: You clearly mean to call that `println` that takes a single String as parameter. However, the second is ambiguous. If I attempt to compile the second snippet, the compiler will literally tell me so:\r\n\r\n&gt; error: reference to println is ambiguous\r\n\r\nThis shows how, even though the runtime behaviour of this would seem to be 100% identical (both `null` and `x` are expressions whose value will definitely be `null`), turns out, at least at compile time, this is not true.\r\n\r\nThe same principle can explain what you see here, with your varargs, in a slightly different way. Given:\r\n\r\n```\r\nvoid validateLocationIds(String... locationIds) {\r\n```\r\n\r\nThat&#39;s just syntax sugar. Specifically, it&#39;s syntax sugar for:\r\n\r\n* The method&#39;s signature is `validateLocationIds(String[] locationIds)`.\r\n* However, you are telling the compiler, during the compilation of __calls__ to this method, to treat a sequence of arguments that can all be treated as `String` arguments to go ahead and treat that as if the caller had written `validateLocationIds(new String[] {a, b, c})` instead of what you typed (`validateLocationIds(a, b, c);`).\r\n\r\n__Crucially__ the compiler will __only__ do that if it __has to__ - if the code would not compile if it didn&#39;t do this &#39;fold the args into an array&#39;.\r\n\r\nThis then gets us (presumably, there are some more exotic alternate explanations, this is merely the most likely) to an explanation. Given:\r\n\r\n```\r\nString x = null;\r\nvalidateLocationIds(x);\r\n```\r\n\r\nThere is __only one__ way for the compiler to make this work: By treating `x` as a `String` and therefore syntax sugaring that into `new String[] {x}`, i.e. a new string array of size 1 whose first and only entry is `null`. Because otherwise it would not compile; a variable of type `String` simply isn&#39;t a `String[]`. Even if the variable&#39;s value is currently `null` which is also a valid value for `String[]` - because how could the compiler possibly know that for sure? It can&#39;t, so it won&#39;t just go: Oohhh,, I see, a variable of type `String`, but, I know its `null` so I can treat it as whatever the heck I want, really. It does _not_ do that.\r\n\r\nIn contrast to spelling it out literally:\r\n\r\n```\r\nvalidateLocationIds(null);\r\n```\r\n\r\nThis is _not_ ambiguous, unlike our println example: The Java Language Spec, in the section on picking between multiple different overloads, explicitly states that the compiler must error out with a &#39;call is ambiguous&#39; error, __but__, when it&#39;s about whether to apply varargs sugaring or not, __that is not the case__: The array &quot;wins&quot;, so to speak. In other words, if the call could _both_ be treated as a straight method call (the expression _is_ the array), _as well as_ sugaring into an array (you could zip that one arg into a 1-len array and pass that instead), then &#39;just treat as array&#39; wins.\r\n\r\nThis makes sense. Imagine that would be an error condition. Then you could NEVER pass an object array to `void foo(Object...)`. After all, an array -is also an object-, and could therefore be &#39;zipped&#39;.\r\n","title":"Java varargs method with single null argument","body":"<p>It's not about <code>null</code> specifically, it's about the <code>null</code> expression's type.</p>\n<p>A null expression doesn't have to be typed, but it can be. Here is a trivial example:</p>\n<pre><code>String x = null;\nSystem.out.println(x);\n</code></pre>\n<p>This is very slightly different compared to:</p>\n<pre><code>System.out.println(null);\n</code></pre>\n<p>Note that <code>println</code> has a boatload of overloads - completely different methods (and <code>javac</code>, the compiler, <em>must</em> pick which exact overload to invoke <strong>at compile time</strong>), that are all named <code>println</code>, all of which have 1 parameter. The first snippet is easy for the compiler: You clearly mean to call that <code>println</code> that takes a single String as parameter. However, the second is ambiguous. If I attempt to compile the second snippet, the compiler will literally tell me so:</p>\n<blockquote>\n<p>error: reference to println is ambiguous</p>\n</blockquote>\n<p>This shows how, even though the runtime behaviour of this would seem to be 100% identical (both <code>null</code> and <code>x</code> are expressions whose value will definitely be <code>null</code>), turns out, at least at compile time, this is not true.</p>\n<p>The same principle can explain what you see here, with your varargs, in a slightly different way. Given:</p>\n<pre><code>void validateLocationIds(String... locationIds) {\n</code></pre>\n<p>That's just syntax sugar. Specifically, it's syntax sugar for:</p>\n<ul>\n<li>The method's signature is <code>validateLocationIds(String[] locationIds)</code>.</li>\n<li>However, you are telling the compiler, during the compilation of <strong>calls</strong> to this method, to treat a sequence of arguments that can all be treated as <code>String</code> arguments to go ahead and treat that as if the caller had written <code>validateLocationIds(new String[] {a, b, c})</code> instead of what you typed (<code>validateLocationIds(a, b, c);</code>).</li>\n</ul>\n<p><strong>Crucially</strong> the compiler will <strong>only</strong> do that if it <strong>has to</strong> - if the code would not compile if it didn't do this 'fold the args into an array'.</p>\n<p>This then gets us (presumably, there are some more exotic alternate explanations, this is merely the most likely) to an explanation. Given:</p>\n<pre><code>String x = null;\nvalidateLocationIds(x);\n</code></pre>\n<p>There is <strong>only one</strong> way for the compiler to make this work: By treating <code>x</code> as a <code>String</code> and therefore syntax sugaring that into <code>new String[] {x}</code>, i.e. a new string array of size 1 whose first and only entry is <code>null</code>. Because otherwise it would not compile; a variable of type <code>String</code> simply isn't a <code>String[]</code>. Even if the variable's value is currently <code>null</code> which is also a valid value for <code>String[]</code> - because how could the compiler possibly know that for sure? It can't, so it won't just go: Oohhh,, I see, a variable of type <code>String</code>, but, I know its <code>null</code> so I can treat it as whatever the heck I want, really. It does <em>not</em> do that.</p>\n<p>In contrast to spelling it out literally:</p>\n<pre><code>validateLocationIds(null);\n</code></pre>\n<p>This is <em>not</em> ambiguous, unlike our println example: The Java Language Spec, in the section on picking between multiple different overloads, explicitly states that the compiler must error out with a 'call is ambiguous' error, <strong>but</strong>, when it's about whether to apply varargs sugaring or not, <strong>that is not the case</strong>: The array &quot;wins&quot;, so to speak. In other words, if the call could <em>both</em> be treated as a straight method call (the expression <em>is</em> the array), <em>as well as</em> sugaring into an array (you could zip that one arg into a 1-len array and pass that instead), then 'just treat as array' wins.</p>\n<p>This makes sense. Imagine that would be an error condition. Then you could NEVER pass an object array to <code>void foo(Object...)</code>. After all, an array -is also an object-, and could therefore be 'zipped'.</p>\n"},{"tags":[],"owner":{"account_id":935202,"reputation":49046,"user_id":964243,"accept_rate":66,"display_name":"Boann"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654831808,"creation_date":1654831808,"answer_id":72568835,"question_id":72568712,"body_markdown":"These do different things with your varargs method:\r\n\r\n\tvalidateLocationIds((String)null);\r\n\r\n\tvalidateLocationIds((String[])null);\r\n\r\nThe first passes a non-null array containing a null element, equivalent to `new String[] { null }`. The second passes null as the array directly.\r\n\r\nWhich of the two will happen depends on the compile-time type of your null variable.","title":"Java varargs method with single null argument","body":"<p>These do different things with your varargs method:</p>\n<pre><code>validateLocationIds((String)null);\n\nvalidateLocationIds((String[])null);\n</code></pre>\n<p>The first passes a non-null array containing a null element, equivalent to <code>new String[] { null }</code>. The second passes null as the array directly.</p>\n<p>Which of the two will happen depends on the compile-time type of your null variable.</p>\n"}],"owner":{"account_id":24118424,"reputation":179,"user_id":18087971,"display_name":"waynewingorc"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":407,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":72568787,"answer_count":2,"score":3,"last_activity_date":1654839562,"creation_date":1654830436,"question_id":72568712,"body_markdown":"I have a method taking a String varargs param `locationIds`, in which there&#39;s `for loop` on the ids\r\n\r\n```java\r\npublic static void validateLocationIds(String... locationIds) {\r\n    for (String locationId : locationIds) {\r\n        // do sth\r\n    }\r\n}\r\n```\r\n\r\nNow if I call `validateLocationIds(var)` where `var` of type `String` and value `null`, I expect NPE from the `for loop` because you can&#39;t do that on a null. And this is approved when I execute it from Intellij&#39;s Evaluate Expression while debugging, as it gave me NPE and the cause `java.lang.NullPointerException: Cannot read the array length because &quot;&lt;local1&gt;&quot; is null`.  \r\n       \r\nHowever when the code is executed not from Evaluate Expression, there&#39;s no NPE and everything works fine.   \r\nThrough debugging I found out it&#39;s because instead of being `null`, `locationIds` is converted to type `String[1]`, value `[null]`, making it possible to be processed by `for loop`.   \r\n\r\n   \r\nSo I&#39;m confused how Java manged to convert `null` to `[null]`, and why Evaluate Expression failed to do so.","title":"Java varargs method with single null argument","body":"<p>I have a method taking a String varargs param <code>locationIds</code>, in which there's <code>for loop</code> on the ids</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void validateLocationIds(String... locationIds) {\n    for (String locationId : locationIds) {\n        // do sth\n    }\n}\n</code></pre>\n<p>Now if I call <code>validateLocationIds(var)</code> where <code>var</code> of type <code>String</code> and value <code>null</code>, I expect NPE from the <code>for loop</code> because you can't do that on a null. And this is approved when I execute it from Intellij's Evaluate Expression while debugging, as it gave me NPE and the cause <code>java.lang.NullPointerException: Cannot read the array length because &quot;&lt;local1&gt;&quot; is null</code>.</p>\n<p>However when the code is executed not from Evaluate Expression, there's no NPE and everything works fine.<br />\nThrough debugging I found out it's because instead of being <code>null</code>, <code>locationIds</code> is converted to type <code>String[1]</code>, value <code>[null]</code>, making it possible to be processed by <code>for loop</code>.</p>\n<p>So I'm confused how Java manged to convert <code>null</code> to <code>[null]</code>, and why Evaluate Expression failed to do so.</p>\n"},{"tags":["java","spring","spring-boot","yaml"],"comments":[{"owner":{"account_id":2366187,"reputation":60152,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":2,"creation_date":1654834320,"post_id":72569006,"comment_id":128191378,"body_markdown":"Space after the colon.","body":"Space after the colon."}],"answers":[{"tags":[],"owner":{"account_id":22173839,"reputation":1,"user_id":16418732,"display_name":"coderspw"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654839346,"creation_date":1654839346,"answer_id":72569507,"question_id":72569006,"body_markdown":"**application.yaml** \r\nmodified as: \r\n```yaml\r\napplication:\r\n  servers:\r\n    - {ip: 123,path: xyz}\r\n    - {ip: 456,path: abc}\r\n    - {ip: 789,path: pqrs}\r\n```\r\nor \r\n```\r\napplication:\r\n  servers:\r\n    - ip: 123\r\n      path: xyz\r\n    - ip: 456\r\n      path: abc\r\n    - ip: 789\r\n      path: pqrs\r\n```\r\nSpace required after colon","title":"Unable to read yml properties as List in Spring Boot","body":"<p><strong>application.yaml</strong>\nmodified as:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>application:\n  servers:\n    - {ip: 123,path: xyz}\n    - {ip: 456,path: abc}\n    - {ip: 789,path: pqrs}\n</code></pre>\n<p>or</p>\n<pre><code>application:\n  servers:\n    - ip: 123\n      path: xyz\n    - ip: 456\n      path: abc\n    - ip: 789\n      path: pqrs\n</code></pre>\n<p>Space required after colon</p>\n"}],"owner":{"account_id":1410257,"reputation":2118,"user_id":1337007,"accept_rate":72,"display_name":"ghostrider"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":621,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1654839346,"creation_date":1654834121,"question_id":72569006,"body_markdown":"I am trying to read a list of servers in my Spring Boot app using `@ConfigurationProperties`. However I am getting below error. Is there something I am doing wrong in terms of syntax in `yaml`?\r\n\r\n**ApplicationServer**\r\n\r\n    @Component\r\n    @ConfigurationProperties(prefix = &quot;application&quot;)\r\n    public class ApplicationServer {\r\n    \r\n        List&lt;Server&gt; servers;\r\n    \r\n        public List&lt;Server&gt; getServers() {\r\n            return servers;\r\n        }\r\n    \r\n        public void setServers(List&lt;Server&gt; servers) {\r\n            System.out.println(&quot;setter called &quot;+servers);\r\n            this.servers = servers;\r\n        }\r\n    }\r\n\r\n\r\n**Server**\r\n\r\n    @Component\r\n    public class Server {\r\n    \r\n        String ip;\r\n        String path;\r\n    \r\n        public String getIp() {\r\n            return ip;\r\n        }\r\n    \r\n        public void setIp(String ip) {\r\n            this.ip = ip;\r\n        }\r\n    \r\n        public String getPath() {\r\n            return path;\r\n        }\r\n    \r\n        public void setPath(String path) {\r\n            this.path = path;\r\n        }\r\n    }\r\n\r\n**DemoApplication**\r\n\r\n    @SpringBootApplication\r\n    @EnableConfigurationProperties(ApplicationServer.class)\r\n    public class DemoApplication implements CommandLineRunner {\r\n    \r\n    @Autowired\r\n    ApplicationServer applicationServer;\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(DemoApplication.class, args);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void run(String... args) throws Exception {\r\n    \r\n    \t\tSystem.out.println(applicationServer.servers);\r\n    \t}\r\n    }\r\n\r\n\r\n**application.yml**\r\n\r\n    application:\r\n        servers:\r\n          -   ip:123\r\n              path:xyz\r\n          -   ip:456\r\n              path:abc\r\n          -   ip:789\r\n              path:pqrs\r\n\r\n**ERROR**\r\n\r\n     Property: application.servers[0]\r\n        Value: ip:123 path:xyz\r\n        Origin: class path resource [application.yml] - 3:11\r\n        Reason: org.springframework.core.convert.ConverterNotFoundException: No converter found capable of converting from type [java.lang.String] to type [com.example.demo.Server]","title":"Unable to read yml properties as List in Spring Boot","body":"<p>I am trying to read a list of servers in my Spring Boot app using <code>@ConfigurationProperties</code>. However I am getting below error. Is there something I am doing wrong in terms of syntax in <code>yaml</code>?</p>\n<p><strong>ApplicationServer</strong></p>\n<pre><code>@Component\n@ConfigurationProperties(prefix = &quot;application&quot;)\npublic class ApplicationServer {\n\n    List&lt;Server&gt; servers;\n\n    public List&lt;Server&gt; getServers() {\n        return servers;\n    }\n\n    public void setServers(List&lt;Server&gt; servers) {\n        System.out.println(&quot;setter called &quot;+servers);\n        this.servers = servers;\n    }\n}\n</code></pre>\n<p><strong>Server</strong></p>\n<pre><code>@Component\npublic class Server {\n\n    String ip;\n    String path;\n\n    public String getIp() {\n        return ip;\n    }\n\n    public void setIp(String ip) {\n        this.ip = ip;\n    }\n\n    public String getPath() {\n        return path;\n    }\n\n    public void setPath(String path) {\n        this.path = path;\n    }\n}\n</code></pre>\n<p><strong>DemoApplication</strong></p>\n<pre><code>@SpringBootApplication\n@EnableConfigurationProperties(ApplicationServer.class)\npublic class DemoApplication implements CommandLineRunner {\n\n@Autowired\nApplicationServer applicationServer;\n\n    public static void main(String[] args) {\n        SpringApplication.run(DemoApplication.class, args);\n    }\n\n    @Override\n    public void run(String... args) throws Exception {\n\n        System.out.println(applicationServer.servers);\n    }\n}\n</code></pre>\n<p><strong>application.yml</strong></p>\n<pre><code>application:\n    servers:\n      -   ip:123\n          path:xyz\n      -   ip:456\n          path:abc\n      -   ip:789\n          path:pqrs\n</code></pre>\n<p><strong>ERROR</strong></p>\n<pre><code> Property: application.servers[0]\n    Value: ip:123 path:xyz\n    Origin: class path resource [application.yml] - 3:11\n    Reason: org.springframework.core.convert.ConverterNotFoundException: No converter found capable of converting from type [java.lang.String] to type [com.example.demo.Server]\n</code></pre>\n"},{"tags":["java","excel","apache-poi"],"answers":[{"tags":[],"owner":{"account_id":3027668,"reputation":1,"user_id":2567303,"display_name":"virion"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1654806215,"creation_date":1654806215,"answer_id":72566255,"question_id":72565918,"body_markdown":"try\r\n\r\nsheet.addIgnoredErrors(new CellRangeAddress(firstRowNum,lastRowNum,firstColumnNum,lastColumnNum), IgnoredErrorType.NUMBER_STORED_AS_TEXT);","title":"Apache POI and Numeric Cell Types - Excel alerts of problem","body":"<p>try</p>\n<p>sheet.addIgnoredErrors(new CellRangeAddress(firstRowNum,lastRowNum,firstColumnNum,lastColumnNum), IgnoredErrorType.NUMBER_STORED_AS_TEXT);</p>\n"},{"tags":[],"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1654839109,"creation_date":1654837618,"answer_id":72569316,"question_id":72565918,"body_markdown":"The only case where this could happen using that code is when `listCell` never is `instanceof BigDecimal`. Then it is always converted to `String` and thus also set as text cell value. \r\n\r\nSince `listCell` is an `Object` and Excel always stores all numeric values as `double`, the check wheter the `Object` is numeric should be like so:\r\n\r\n    ...\r\n    if (listCell instanceof Number) {\r\n     cell.setCellValue(((Number)listCell).doubleValue());\r\n    } ...\r\n\r\nThe class `java.lang.Number` is the super class of most of all numeric objects in Java. So this should fit the most cases.\r\n\r\nIf that also not get `listCell` as numeric, then the `Object listCell` is not a numeric object. Your code logs the class of each `listCell` object. So look into that log what classes get logged there. If that all are `String`s then the problem is in creating the `List&lt;List&lt;Object&gt;&gt; matrix`.","title":"Apache POI and Numeric Cell Types - Excel alerts of problem","body":"<p>The only case where this could happen using that code is when <code>listCell</code> never is <code>instanceof BigDecimal</code>. Then it is always converted to <code>String</code> and thus also set as text cell value.</p>\n<p>Since <code>listCell</code> is an <code>Object</code> and Excel always stores all numeric values as <code>double</code>, the check wheter the <code>Object</code> is numeric should be like so:</p>\n<pre><code>...\nif (listCell instanceof Number) {\n cell.setCellValue(((Number)listCell).doubleValue());\n} ...\n</code></pre>\n<p>The class <code>java.lang.Number</code> is the super class of most of all numeric objects in Java. So this should fit the most cases.</p>\n<p>If that also not get <code>listCell</code> as numeric, then the <code>Object listCell</code> is not a numeric object. Your code logs the class of each <code>listCell</code> object. So look into that log what classes get logged there. If that all are <code>String</code>s then the problem is in creating the <code>List&lt;List&lt;Object&gt;&gt; matrix</code>.</p>\n"}],"owner":{"account_id":1728581,"reputation":2763,"user_id":1582712,"accept_rate":51,"display_name":"E.S."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":296,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72569316,"answer_count":2,"score":0,"last_activity_date":1654839109,"creation_date":1654804324,"question_id":72565918,"body_markdown":"I am finding numberic cells created by Apache POI is showing problems when I open the workbook in excel. \r\n\r\n[![Excel Shows Problems With Cell][1]][1]\r\n\r\nHere is my code\r\n\r\n```.java\r\nprivate void matrixToXlsx(@NonNull final List&lt;List&lt;Object&gt;&gt; matrix, \r\n                          @NonNull final String output) throws IOException {\r\n    //&#39;val&#39; is from lombok and is equal to &#39;final var&#39;\r\n    val f = new File(StringUtils.defaultIfBlank(output, &quot;temp.xlsx&quot;));\r\n    FileUtils.deleteQuietly(f);\r\n    try (val wb = new XSSFWorkbook()) {\r\n        val helper = wb.getCreationHelper();\r\n        val sheet = wb.createSheet(&quot;Query Result&quot;);\r\n        val rowNum = new AtomicInteger();\r\n        matrix.forEach(listRow -&gt; {\r\n            val row = sheet.createRow(rowNum.getAndIncrement());\r\n            val colNum = new AtomicInteger();\r\n            log.info(&quot;Processing row #{}: {}&quot;, rowNum.get() - 1, listRow);\r\n            listRow.forEach(listCell -&gt; {\r\n                log.info(&quot;Processing col #{} cell: {} (type: {})&quot;, colNum, listCell, listCell.getClass().getSimpleName());\r\n                val cell = row.createCell(colNum.getAndIncrement());\r\n                if (listCell instanceof BigDecimal) {\r\n                    // ################ cell creation for double ####################\r\n                    cell.setCellValue(((BigDecimal) listCell).doubleValue());\r\n                    // ##############################################################\r\n                } else if (listCell instanceof String) {\r\n                    cell.setCellValue((String) listCell);\r\n                } else {\r\n                    cell.setCellValue(String.valueOf(listCell));\r\n                }\r\n            });\r\n        });\r\n        try (val os = new BufferedOutputStream(new FileOutputStream(f))) {\r\n            wb.write(os);\r\n        } finally {\r\n            log.info(&quot;Output finished&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nI followed the [help reference][2], which seems to show that numeric cells can be made simply with `row.createCell(1).setCellValue(1.2);`.\r\n\r\nI&#39;m not sure what I am missing here. I just want Excel to accept the cell type as numeric. I have tried variations of the code such as:\r\n```.java\r\nval cell = row.createCell(colNum.getAndIncrement(), CellType.NUMERIC);\r\ncell.setCellValue(((BigDecimal) listCell).doubleValue());\r\n```\r\nWhere I explicitly tell it is of `CellType.NUMERIC` and this makes no difference. I also tried:\r\n```.java\r\ncell.setCellValue(((BigDecimal) listCell).doubleValue());\r\nval style = wb.createCellStyle();\r\nval format = wb.createDataFormat();\r\nstyle.setDataFormat(format.getFormat(&quot;0.0&quot;));\r\ncell.setCellStyle(style);\r\n```\r\n\r\nExcel is unhappy no matter what it seems!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8Ta2C.png\r\n  [2]: https://svn.apache.org/repos/asf/poi/trunk/poi-examples/src/main/java/org/apache/poi/examples/xssf/usermodel/CreateCell.java","title":"Apache POI and Numeric Cell Types - Excel alerts of problem","body":"<p>I am finding numberic cells created by Apache POI is showing problems when I open the workbook in excel.</p>\n<p><a href=\"https://i.stack.imgur.com/8Ta2C.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8Ta2C.png\" alt=\"Excel Shows Problems With Cell\" /></a></p>\n<p>Here is my code</p>\n<pre class=\"lang-java prettyprint-override\"><code>private void matrixToXlsx(@NonNull final List&lt;List&lt;Object&gt;&gt; matrix, \n                          @NonNull final String output) throws IOException {\n    //'val' is from lombok and is equal to 'final var'\n    val f = new File(StringUtils.defaultIfBlank(output, &quot;temp.xlsx&quot;));\n    FileUtils.deleteQuietly(f);\n    try (val wb = new XSSFWorkbook()) {\n        val helper = wb.getCreationHelper();\n        val sheet = wb.createSheet(&quot;Query Result&quot;);\n        val rowNum = new AtomicInteger();\n        matrix.forEach(listRow -&gt; {\n            val row = sheet.createRow(rowNum.getAndIncrement());\n            val colNum = new AtomicInteger();\n            log.info(&quot;Processing row #{}: {}&quot;, rowNum.get() - 1, listRow);\n            listRow.forEach(listCell -&gt; {\n                log.info(&quot;Processing col #{} cell: {} (type: {})&quot;, colNum, listCell, listCell.getClass().getSimpleName());\n                val cell = row.createCell(colNum.getAndIncrement());\n                if (listCell instanceof BigDecimal) {\n                    // ################ cell creation for double ####################\n                    cell.setCellValue(((BigDecimal) listCell).doubleValue());\n                    // ##############################################################\n                } else if (listCell instanceof String) {\n                    cell.setCellValue((String) listCell);\n                } else {\n                    cell.setCellValue(String.valueOf(listCell));\n                }\n            });\n        });\n        try (val os = new BufferedOutputStream(new FileOutputStream(f))) {\n            wb.write(os);\n        } finally {\n            log.info(&quot;Output finished&quot;);\n        }\n    }\n}\n</code></pre>\n<p>I followed the <a href=\"https://svn.apache.org/repos/asf/poi/trunk/poi-examples/src/main/java/org/apache/poi/examples/xssf/usermodel/CreateCell.java\" rel=\"nofollow noreferrer\">help reference</a>, which seems to show that numeric cells can be made simply with <code>row.createCell(1).setCellValue(1.2);</code>.</p>\n<p>I'm not sure what I am missing here. I just want Excel to accept the cell type as numeric. I have tried variations of the code such as:</p>\n<pre class=\"lang-java prettyprint-override\"><code>val cell = row.createCell(colNum.getAndIncrement(), CellType.NUMERIC);\ncell.setCellValue(((BigDecimal) listCell).doubleValue());\n</code></pre>\n<p>Where I explicitly tell it is of <code>CellType.NUMERIC</code> and this makes no difference. I also tried:</p>\n<pre class=\"lang-java prettyprint-override\"><code>cell.setCellValue(((BigDecimal) listCell).doubleValue());\nval style = wb.createCellStyle();\nval format = wb.createDataFormat();\nstyle.setDataFormat(format.getFormat(&quot;0.0&quot;));\ncell.setCellStyle(style);\n</code></pre>\n<p>Excel is unhappy no matter what it seems!</p>\n"},{"tags":["java","while-loop","conditional-statements","do-while","comma-operator"],"comments":[{"owner":{"account_id":3686917,"reputation":505,"user_id":3070499,"accept_rate":58,"display_name":"Joseph118"},"score":1,"creation_date":1416916562,"post_id":27125951,"comment_id":42751797,"body_markdown":"take a look at java operators - https://docs.oracle.com/javase/tutorial/java/nutsandbolts/operators.html","body":"take a look at java operators - <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/operators.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/java/nutsandbolts/&hellip;</a>"},{"owner":{"account_id":3686917,"reputation":505,"user_id":3070499,"accept_rate":58,"display_name":"Joseph118"},"score":1,"creation_date":1416916628,"post_id":27125951,"comment_id":42751837,"body_markdown":"and those examples of coma are being used to assign multiple values BUT not conditions","body":"and those examples of coma are being used to assign multiple values BUT not conditions"},{"owner":{"account_id":4615717,"reputation":3726,"user_id":3972558,"accept_rate":92,"display_name":"Joop"},"score":0,"creation_date":1416917168,"post_id":27125951,"comment_id":42752168,"body_markdown":"@Joseph118 Good to know that the , is not an operator in Java at all as NPE already pointed out. It is indeed not in the documentation.","body":"@Joseph118 Good to know that the , is not an operator in Java at all as NPE already pointed out. It is indeed not in the documentation."}],"answers":[{"tags":[],"owner":{"account_id":152622,"reputation":490044,"user_id":367273,"accept_rate":96,"display_name":"NPE"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1416916358,"creation_date":1416916358,"answer_id":27126017,"question_id":27125951,"body_markdown":"There is no comma operator in Java (not in the C/C++ sense anyway). There are some contexts where you can declare and initialise multiple things at once using a comma, but that doesn&#39;t generalise to other contexts, like the one in your example.\r\n\r\nOne way to phrase your loop is like so:\r\n\r\n    while (true) {\r\n        userInput = readInt();\r\n        if (userInput &gt;= 1 &amp;&amp; userInput &lt;= 3) {\r\n            break;\r\n        }\r\n        println(&quot;\\n\\t Wrong input: possible selection 1, 2 or 3&quot;);\r\n    };\r\n","title":"Do {} while ( , ) with comma operator, is that even possible?","body":"<p>There is no comma operator in Java (not in the C/C++ sense anyway). There are some contexts where you can declare and initialise multiple things at once using a comma, but that doesn't generalise to other contexts, like the one in your example.</p>\n\n<p>One way to phrase your loop is like so:</p>\n\n<pre><code>while (true) {\n    userInput = readInt();\n    if (userInput &gt;= 1 &amp;&amp; userInput &lt;= 3) {\n        break;\n    }\n    println(\"\\n\\t Wrong input: possible selection 1, 2 or 3\");\n};\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1416917097,"creation_date":1416917097,"answer_id":27126284,"question_id":27125951,"body_markdown":"It might be best to unroll this a little.\r\n\r\n    userInput = readInt();\r\n    while (userInput &lt; 1 || userInput &gt; 3) {\r\n        System.out.println(&quot;\\n\\tWrong input: possible selection 1, 2 or 3&quot;);\r\n        userInput = readInt();\r\n    }\r\n\r\nThis avoids the need for a flag.","title":"Do {} while ( , ) with comma operator, is that even possible?","body":"<p>It might be best to unroll this a little.</p>\n\n<pre><code>userInput = readInt();\nwhile (userInput &lt; 1 || userInput &gt; 3) {\n    System.out.println(\"\\n\\tWrong input: possible selection 1, 2 or 3\");\n    userInput = readInt();\n}\n</code></pre>\n\n<p>This avoids the need for a flag.</p>\n"}],"owner":{"account_id":4615717,"reputation":3726,"user_id":3972558,"accept_rate":92,"display_name":"Joop"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1084,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"accepted_answer_id":27126017,"answer_count":2,"score":5,"last_activity_date":1654839076,"creation_date":1416916178,"question_id":27125951,"body_markdown":"Yesterday I read about the comma operator in Java for for-loops. Which worked as I expected them to. I thought of this construction but it does not work as expected. \r\n\r\n    &#39;;&#39; expected\r\n    \t\t} while((userInput &lt; 1 || userInput &gt; 3), wrongInput = true);\r\n    \r\n    &#39;;&#39; expected\r\n    \t\t} while((userInput &lt; 1 || userInput &gt; 3), wrongInput = true);\r\n\r\nMy idea was that after one iteration, if the `userInput` was not between 1 and 3, it should set boolean `wrongInput` to `true` so that during the next iteration an error message will be displayed. Indicating that the `userInput` was invalid.\r\n\r\n \r\n\tprivate int askUserToSelectDifficulty() {\r\n\t\tint userInput;\r\n\t\tBoolean wrongInput = false;\r\n\r\n\t\tdo{\r\n\t\t\tif(wrongInput) println(&quot;\\n\\t Wrong input: possible selection 1, 2 or 3&quot;);\r\n\t\t\tuserInput = readInt();\r\n\t\t} while((userInput &lt; 1 || userInput &gt; 3), wrongInput = true);\r\n\r\n\t\treturn userInput;\r\n\t}\r\n\r\nI imagine that maybe because this is inside the equivalent to the conditional part of a for-loop, that this is invalid syntax. Because you can&#39;t use a comma operator in the conditional part? \r\n\r\nExamples of where I have seen the comma operator being used in for-loops: https://stackoverflow.com/questions/6106658/giving-multiple-conditions-in-for-loop-in-java\r\nhttps://stackoverflow.com/questions/12601596/java-comma-operator-outside-for-loop-declaration  ","title":"Do {} while ( , ) with comma operator, is that even possible?","body":"<p>Yesterday I read about the comma operator in Java for for-loops. Which worked as I expected them to. I thought of this construction but it does not work as expected. </p>\n\n<pre><code>';' expected\n        } while((userInput &lt; 1 || userInput &gt; 3), wrongInput = true);\n\n';' expected\n        } while((userInput &lt; 1 || userInput &gt; 3), wrongInput = true);\n</code></pre>\n\n<p>My idea was that after one iteration, if the <code>userInput</code> was not between 1 and 3, it should set boolean <code>wrongInput</code> to <code>true</code> so that during the next iteration an error message will be displayed. Indicating that the <code>userInput</code> was invalid.</p>\n\n<pre><code>private int askUserToSelectDifficulty() {\n    int userInput;\n    Boolean wrongInput = false;\n\n    do{\n        if(wrongInput) println(\"\\n\\t Wrong input: possible selection 1, 2 or 3\");\n        userInput = readInt();\n    } while((userInput &lt; 1 || userInput &gt; 3), wrongInput = true);\n\n    return userInput;\n}\n</code></pre>\n\n<p>I imagine that maybe because this is inside the equivalent to the conditional part of a for-loop, that this is invalid syntax. Because you can't use a comma operator in the conditional part? </p>\n\n<p>Examples of where I have seen the comma operator being used in for-loops: <a href=\"https://stackoverflow.com/questions/6106658/giving-multiple-conditions-in-for-loop-in-java\">Giving multiple conditions in for loop in Java</a>\n<a href=\"https://stackoverflow.com/questions/12601596/java-comma-operator-outside-for-loop-declaration\">Java - comma operator outside for loop declaration</a>  </p>\n"},{"tags":["java","kotlin","testing","wiremock"],"answers":[{"tags":[],"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654838736,"creation_date":1654838736,"answer_id":72569443,"question_id":72487876,"body_markdown":"You could create custom request matcher and implement matching logic for any request property.\r\n\r\n\r\n```\r\nstubFor(get(urlEqualTo(&quot;/test&quot;))\r\n        .andMatching(new ValueMatcher&lt;Request&gt;() {\r\n            @Override\r\n            public MatchResult match(Request request) {\r\n                return validateParam(request.queryParameter(&quot;param&quot;));\r\n            }\r\n\r\n            private MatchResult validateParam(QueryParameter param) {\r\n                // validate param\r\n                return MatchResult.exactMatch();\r\n            }\r\n        })\r\n        .willReturn(aResponse().withStatus(200))\r\n);\r\n```\r\n\r\nFor more options, check [Extending WireMock - Custom Request Matchers](https://wiremock.org/docs/extending-wiremock/)","title":"wiremock getting query param","body":"<p>You could create custom request matcher and implement matching logic for any request property.</p>\n<pre><code>stubFor(get(urlEqualTo(&quot;/test&quot;))\n        .andMatching(new ValueMatcher&lt;Request&gt;() {\n            @Override\n            public MatchResult match(Request request) {\n                return validateParam(request.queryParameter(&quot;param&quot;));\n            }\n\n            private MatchResult validateParam(QueryParameter param) {\n                // validate param\n                return MatchResult.exactMatch();\n            }\n        })\n        .willReturn(aResponse().withStatus(200))\n);\n</code></pre>\n<p>For more options, check <a href=\"https://wiremock.org/docs/extending-wiremock/\" rel=\"nofollow noreferrer\">Extending WireMock - Custom Request Matchers</a></p>\n"}],"owner":{"account_id":20738066,"reputation":164,"user_id":15228464,"display_name":"agingcabbage32"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":708,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654838736,"creation_date":1654250027,"question_id":72487876,"body_markdown":"Is there a possibility to get query param from wireMock? \r\n\r\nI need to check if the param can be decrypted properly, but all I could found is `withQueryParam()` which is good for matching, but since I don&#39;t know the result value of query param it&#39;s not really useful in this case, I need to get it first, then decrypt and then compare to previous value\r\n\r\nAny help appreciated!","title":"wiremock getting query param","body":"<p>Is there a possibility to get query param from wireMock?</p>\n<p>I need to check if the param can be decrypted properly, but all I could found is <code>withQueryParam()</code> which is good for matching, but since I don't know the result value of query param it's not really useful in this case, I need to get it first, then decrypt and then compare to previous value</p>\n<p>Any help appreciated!</p>\n"},{"tags":["java","android","kotlin","harmonyos"],"answers":[{"tags":[],"owner":{"account_id":19615962,"reputation":1997,"user_id":14357441,"display_name":"Zinna"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1627594147,"creation_date":1627594147,"answer_id":68582972,"question_id":67176157,"body_markdown":"You can use the following method to check and get HarmonyOS:\r\n\r\n    public static boolean isHarmony(Context context) {\r\n        try {\r\n            int id = Resources.getSystem().getIdentifier(&quot;config_os_brand&quot;, &quot;string&quot;, &quot;android&quot;);\r\n            return context.getString(id).equals(&quot;harmony&quot;);\r\n        } catch (Exception e) {\r\n            return false;\r\n        }\r\n    }","title":"How to get the custom ROM/Android OS Name from Android programatically","body":"<p>You can use the following method to check and get HarmonyOS:</p>\n<pre><code>public static boolean isHarmony(Context context) {\n    try {\n        int id = Resources.getSystem().getIdentifier(&quot;config_os_brand&quot;, &quot;string&quot;, &quot;android&quot;);\n        return context.getString(id).equals(&quot;harmony&quot;);\n    } catch (Exception e) {\n        return false;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":2101290,"reputation":6172,"user_id":1868841,"display_name":"Waqar UlHaq"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":689,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1654838651,"creation_date":1618910950,"question_id":67176157,"body_markdown":"I wish to receive the custom ROM/Android OS name from device e.g. Let’s say if device is:\r\n\r\n **Oppo** -&gt; *ColorOS*\r\n\r\n **OnePlus** -&gt; *OxygenOS*\r\n \r\n **Huawei** -&gt; *HarmonyOS*\r\n\r\n\r\nI&#39;ve used the following methods also, but no success.\r\n\r\n`Build.DISPLAY` -&gt; *ONEPLUS A6003_22_201116*\r\n\r\n`Build.VERSION.BASE_OS` -&gt; &quot;&quot; // returns empty string\r\n\r\n`System.getProperty(&quot;os.name&quot;)`  -&gt; *Linux*\r\n\r\n`System.getProperty(&quot;os.version&quot;)` -&gt; *4.9.179-perf+*\r\n\r\n`System.getProperty(&quot;ro.modversion&quot;)`  -&gt; *null* // returns null\r\n","title":"How to get the custom ROM/Android OS Name from Android programatically","body":"<p>I wish to receive the custom ROM/Android OS name from device e.g. Let’s say if device is:</p>\n<p><strong>Oppo</strong> -&gt; <em>ColorOS</em></p>\n<p><strong>OnePlus</strong> -&gt; <em>OxygenOS</em></p>\n<p><strong>Huawei</strong> -&gt; <em>HarmonyOS</em></p>\n<p>I've used the following methods also, but no success.</p>\n<p><code>Build.DISPLAY</code> -&gt; <em>ONEPLUS A6003_22_201116</em></p>\n<p><code>Build.VERSION.BASE_OS</code> -&gt; &quot;&quot; // returns empty string</p>\n<p><code>System.getProperty(&quot;os.name&quot;)</code>  -&gt; <em>Linux</em></p>\n<p><code>System.getProperty(&quot;os.version&quot;)</code> -&gt; <em>4.9.179-perf+</em></p>\n<p><code>System.getProperty(&quot;ro.modversion&quot;)</code>  -&gt; <em>null</em> // returns null</p>\n"},{"tags":["java","format","rounding","printstream","bank"],"comments":[{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":1,"creation_date":1654813593,"post_id":72566110,"comment_id":128188265,"body_markdown":"You have two different `printAccounts` methods, one for printing to standard output and one for printing to a file, and they format the data two different ways. One uses printf with a `%.2f` format specifier and the other uses plain string concatenation. (Also, you shouldn&#39;t be using `double` for monetary values.)","body":"You have two different <code>printAccounts</code> methods, one for printing to standard output and one for printing to a file, and they format the data two different ways. One uses printf with a <code>%.2f</code> format specifier and the other uses plain string concatenation. (Also, you shouldn&#39;t be using <code>double</code> for monetary values.)"},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1654856913,"post_id":72566110,"comment_id":128197571,"body_markdown":"`ps.print(accountNumbers[i] + &quot; &quot; +  balanceRounded + &quot;\\n&quot; );` doesn&#39;t format to 2 decimal place.","body":"<code>ps.print(accountNumbers[i] + &quot; &quot; +  balanceRounded + &quot;\\n&quot; );</code> doesn&#39;t format to 2 decimal place."}],"answers":[{"tags":[],"owner":{"account_id":25434759,"reputation":146,"user_id":19238643,"display_name":"Christoph Kronberger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654838168,"creation_date":1654807562,"answer_id":72566469,"question_id":72566110,"body_markdown":"   Changing the readAccounts method to this has worked in my case verry well.\r\n\r\n     public static int readAccounts(String[] accountNumbers, double[] balances, Scanner sc) {\r\n        // TODO\r\n        int numAccounts = 0;\r\n        while (sc.hasNext()) {\r\n            String line = sc.nextLine();\r\n            String accountNumber = line.split(&quot; &quot;)[0];\r\n            double balance = Double.parseDouble(line.split(&quot; &quot;)[1]);\r\n            accountNumbers[numAccounts] = accountNumber;\r\n            balances[numAccounts] = balance;\r\n            numAccounts++;\r\n        }\r\n\r\n        return numAccounts;\r\n    }\r\n\r\n\r\nConsole output:\r\n\r\n    Enter a letter choice: p\r\n    460782 124,00\r\n    088619 2812,00\r\n    790643 4375,85\r\n    874951 45675,00\r\n    492468 86,58\r\n    474800 52424,86\r\n    848769 46,56\r\n    681837 29,79\r\n\r\n\r\nEven make a new Account 123456\r\nadding 11,6 removing 1 gives following output:\r\n\r\n    460782 124,00\r\n    088619 2812,00\r\n    790643 4375,85\r\n    874951 45675,00\r\n    492468 86,58\r\n    474800 52424,86\r\n    848769 46,56\r\n    681837 29,79\r\n    *123456 10,60*\r\n\r\n\r\n\r\nThe Account works fine now.\r\n\r\nBTW, i added my bankaccount 1000$\r\n\r\n\r\n**EDIT**\r\n\r\nAlso edited the round method in your Class to returns a String, because evrytime you want to round you print the value of Double. If a Double is rounded to as an example 12.50 the last Zero will be cut off. In a String not.\r\n\r\n    public static String round(double a)\r\n    {\r\n        DecimalFormat df = new DecimalFormat(&quot;0.00&quot;);\r\n        df.setRoundingMode(RoundingMode.FLOOR);\r\n        String balanceRounded = df.format(a);\r\n        return balanceRounded.replace(&quot;,&quot;,&quot;.&quot;);\r\n    }\r\n\r\nBecause of changeing this method i had to change the print methods:\r\n\r\n    public static void printAccountsToScreen(String[] accountNumbers, double[] balances, int numAccounts) {\r\n            for (int i = 0; i &lt; numAccounts; i++) {\r\n    \r\n                System.out.println(accountNumbers[i] +&quot; &quot; +round(balances[i]));\r\n            }\r\n        }\r\n    \r\n    \r\n        public static void printAccountsToFile(String[] accountNumbers, double[] balances, int numAccounts,\r\n                                               String filename) throws FileNotFoundException {\r\n            PrintStream ps = new PrintStream(filename);\r\n    \r\n            for (int i = 0; i &lt; numAccounts; i++) {\r\n                ps.print(accountNumbers[i] + &quot; &quot; +  round(balances[i]) + &quot;\\n&quot; );\r\n    \r\n            }\r\n            ps.close();\r\n    \r\n        }\r\n\r\n\r\nAfter adding account 123456 and make some withdrawls and deposits the accounts.txt looks:\r\n\r\n    460782 124.00\r\n    088619 2812.00\r\n    790643 4375.85\r\n    874951 45675.00\r\n    492468 86.58\r\n    474800 52424.86\r\n    848769 46.56\r\n    681837 29.79\r\n    123456 26.65\r\n\r\n","title":"Print stream does not format all values to 2 decimal places, but only some of them for text file","body":"<p>Changing the readAccounts method to this has worked in my case verry well.</p>\n<pre><code> public static int readAccounts(String[] accountNumbers, double[] balances, Scanner sc) {\n    // TODO\n    int numAccounts = 0;\n    while (sc.hasNext()) {\n        String line = sc.nextLine();\n        String accountNumber = line.split(&quot; &quot;)[0];\n        double balance = Double.parseDouble(line.split(&quot; &quot;)[1]);\n        accountNumbers[numAccounts] = accountNumber;\n        balances[numAccounts] = balance;\n        numAccounts++;\n    }\n\n    return numAccounts;\n}\n</code></pre>\n<p>Console output:</p>\n<pre><code>Enter a letter choice: p\n460782 124,00\n088619 2812,00\n790643 4375,85\n874951 45675,00\n492468 86,58\n474800 52424,86\n848769 46,56\n681837 29,79\n</code></pre>\n<p>Even make a new Account 123456\nadding 11,6 removing 1 gives following output:</p>\n<pre><code>460782 124,00\n088619 2812,00\n790643 4375,85\n874951 45675,00\n492468 86,58\n474800 52424,86\n848769 46,56\n681837 29,79\n*123456 10,60*\n</code></pre>\n<p>The Account works fine now.</p>\n<p>BTW, i added my bankaccount 1000$</p>\n<p><strong>EDIT</strong></p>\n<p>Also edited the round method in your Class to returns a String, because evrytime you want to round you print the value of Double. If a Double is rounded to as an example 12.50 the last Zero will be cut off. In a String not.</p>\n<pre><code>public static String round(double a)\n{\n    DecimalFormat df = new DecimalFormat(&quot;0.00&quot;);\n    df.setRoundingMode(RoundingMode.FLOOR);\n    String balanceRounded = df.format(a);\n    return balanceRounded.replace(&quot;,&quot;,&quot;.&quot;);\n}\n</code></pre>\n<p>Because of changeing this method i had to change the print methods:</p>\n<pre><code>public static void printAccountsToScreen(String[] accountNumbers, double[] balances, int numAccounts) {\n        for (int i = 0; i &lt; numAccounts; i++) {\n\n            System.out.println(accountNumbers[i] +&quot; &quot; +round(balances[i]));\n        }\n    }\n\n\n    public static void printAccountsToFile(String[] accountNumbers, double[] balances, int numAccounts,\n                                           String filename) throws FileNotFoundException {\n        PrintStream ps = new PrintStream(filename);\n\n        for (int i = 0; i &lt; numAccounts; i++) {\n            ps.print(accountNumbers[i] + &quot; &quot; +  round(balances[i]) + &quot;\\n&quot; );\n\n        }\n        ps.close();\n\n    }\n</code></pre>\n<p>After adding account 123456 and make some withdrawls and deposits the accounts.txt looks:</p>\n<pre><code>460782 124.00\n088619 2812.00\n790643 4375.85\n874951 45675.00\n492468 86.58\n474800 52424.86\n848769 46.56\n681837 29.79\n123456 26.65\n</code></pre>\n"}],"owner":{"account_id":18799247,"reputation":23,"user_id":13709954,"display_name":"Aortax"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":123,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1654838168,"creation_date":1654805429,"question_id":72566110,"body_markdown":"I am asked to make a bank account java program. I have made it and the values in the regular print works, but when I use print stream for the text file, half of the values have been changed, but the other half have not been changed to two decimal places. \r\nThe current code is below. If you want the code with comments it is inside of the googledrive link attached.\r\n\r\n```\r\nimport java.io.File;\r\nimport java.io.FileNotFoundException;\r\nimport java.io.PrintStream;\r\nimport java.math.BigDecimal;\r\nimport java.math.RoundingMode;\r\nimport java.text.DecimalFormat;\r\nimport java.util.Scanner;\r\n\r\npublic class Bank {\r\n\r\n    public static void main(String[] args) throws FileNotFoundException {\r\n        final int maxAccounts = 10;\r\n        String[] accountNumbers = new String[maxAccounts];\r\n        double[] balances = new double[maxAccounts];\r\n\r\n        final String FILENAME = &quot;accounts.txt&quot;;\r\n        Scanner sc = new Scanner(System.in);\r\n        Scanner fileScanner = new Scanner(new File(FILENAME));\r\n\r\n        int numAccounts = readAccounts(accountNumbers, balances, fileScanner);\r\n\r\n        char choice;\r\n        // Set up the menu\r\n        do {\r\n            printMenu();\r\n            choice = sc.next().charAt(0);\r\n            switch (choice) {\r\n                case &#39;b&#39;:\r\n                    getBalance(accountNumbers, balances, numAccounts, sc);\r\n                    break;\r\n                case &#39;d&#39;:\r\n                    makeDeposit(accountNumbers, balances, numAccounts, sc);\r\n                    break;\r\n                case &#39;w&#39;:\r\n                    makeWithdrawal(accountNumbers, balances, numAccounts, sc);\r\n                    break;\r\n                case &#39;a&#39;:\r\n                    boolean added = addAccount(accountNumbers, balances, numAccounts, maxAccounts, sc);\r\n                    if (added) {\r\n                        numAccounts++;\r\n                    }\r\n                    break;\r\n                case &#39;p&#39;:\r\n                    printAccounts(accountNumbers, balances, numAccounts);\r\n                    break;\r\n                case &#39;q&#39;:\r\n                    break;\r\n                default:\r\n                    System.out.println(&quot;Invalid choice; try again.&quot;);\r\n            }\r\n        } while (choice != &#39;q&#39;);\r\n        \r\n        // printAccounts(accountNumbers, balances, numAccounts);\r\n        printAccounts(accountNumbers, balances, numAccounts, FILENAME);\r\n    }\r\n\r\n\r\n     \r\n    public static int readAccounts(String[] accountNumbers, double[] balances, Scanner sc) {\r\n        // TODO\r\n        int numAccounts = 0;\r\n        while (sc.hasNext()) {\r\n            String accountNumber = sc.next();\r\n            double balance = sc.nextDouble();\r\n            accountNumbers[numAccounts] = accountNumber;\r\n            balances[numAccounts] = balance;\r\n            numAccounts++;\r\n        }\r\n\r\n        return numAccounts;\r\n    }\r\n\r\n\r\n    public static void printMenu() {\r\n        System.out.println(&quot;\\nChoices:&quot;);\r\n        System.out.println(&quot;b: get balance&quot;);\r\n        System.out.println(&quot;d: make deposit&quot;);\r\n        System.out.println(&quot;w: make withdrawal&quot;);\r\n        System.out.println(&quot;a: add account&quot;);\r\n        System.out.println(&quot;p: print accounts to screen&quot;);\r\n        System.out.println(&quot;q: quit&quot;);\r\n        System.out.print(&quot;Enter a letter choice: &quot;);\r\n    }\r\n\r\n\r\n    public static int indexOfAccount(String[] accountNumbers, String accountNumber, int numAccounts) {\r\n        // TODO\r\n        for (int i = 0; i &lt; numAccounts; i++) {\r\n            if (accountNumbers[i].equals(accountNumber)) {\r\n                return i;\r\n            }\r\n        }\r\n        return -1;\r\n\r\n    }\r\n\r\n    public static void getBalance(String[] accountNumbers, double[] balances, int numAccounts, Scanner sc) {\r\n\r\n        System.out.print(&quot;account number: &quot;);\r\n        String accountNumber = sc.next();\r\n\r\n        int index = indexOfAccount(accountNumbers, accountNumber, numAccounts);\r\n\r\n        if (index == -1) {\r\n            System.out.println(&quot;Sorry, that account doesn&#39;t exist.&quot;);\r\n        } else {\r\n            double balanceRounded = round(balances[index]);\r\n            System.out.printf(&quot;The balance is $&quot; +&quot;%.2f\\n&quot;, balanceRounded);\r\n        }\r\n\r\n    }\r\n\r\n\r\n    public static void makeDeposit(String[] accountNumbers, double[] balances, int numAccounts, Scanner sc) {\r\n\r\n        System.out.print(&quot;account number: &quot;);\r\n        String accountNumber = sc.next();\r\n        int index = indexOfAccount(accountNumbers, accountNumber, numAccounts);\r\n        if (index == -1) {\r\n            System.out.println(&quot;Sorry, that account doesn&#39;t exist.&quot;);\r\n        } else {\r\n            System.out.print(&quot;amount to deposit: &quot;);\r\n            double deposit = sc.nextDouble();\r\n            System.out.print(&quot;Deposit successful.\\n&quot;);\r\n            balances[index] = balances[index] + deposit;\r\n\r\n        }\r\n\r\n    }\r\n\r\n    public static void makeWithdrawal(String[] accountNumbers, double[] balances, int numAccounts, Scanner sc) {\r\n        System.out.print(&quot;account number: &quot;);\r\n        String accountNumber = sc.next();\r\n        int index = indexOfAccount(accountNumbers, accountNumber, numAccounts);\r\n        if (index == -1) {\r\n            System.out.println(&quot;Sorry, that account doesn&#39;t exist.&quot;);\r\n        } else {\r\n            System.out.print(&quot;amount to withdraw: &quot;);\r\n            double withdrawl = sc.nextDouble();\r\n            balances[index] = balances[index] - withdrawl;\r\n            System.out.print(&quot;Withdrawal successful.\\n&quot;);\r\n        }\r\n    }\r\n\r\n\r\n    public static boolean addAccount(String[] accountNumbers, double[] balances, int numAccounts, int maxAccounts,\r\n            Scanner sc) {\r\n        if (numAccounts &gt;= maxAccounts) {\r\n            System.out.println(&quot;Sorry, the database is full.&quot;);\r\n            return false;\r\n        }\r\n\r\n        System.out.print(&quot;new account number (six digits): &quot;);\r\n        String accountNumber = sc.next();\r\n        int numDigits = String.valueOf(accountNumber).length();\r\n        if (numDigits != 6) {\r\n            System.out.println(&quot;Sorry, account number must be exactly six digits.&quot;);\r\n            return false;\r\n        }\r\n        int index = indexOfAccount(accountNumbers, accountNumber, numAccounts);\r\n        if (index != -1) {\r\n            System.out.println(&quot;Sorry, that account already exists.&quot;);\r\n            return false;\r\n        }\r\n        accountNumbers[numAccounts] = accountNumber;\r\n        balances[numAccounts] = 0.00;\r\n        System.out.println(&quot;Account added.&quot;);\r\n\r\n        return true;\r\n    }\r\n\r\n\r\n    public static void printAccounts(String[] accountNumbers, double[] balances, int numAccounts) {\r\n        for (int i = 0; i &lt; numAccounts; i++) {\r\n            double balanceRounded = round(balances[i]);\r\n            System.out.printf(accountNumbers[i] + &quot; &quot; + &quot;%.2f\\n&quot;, balanceRounded);\r\n        }\r\n    }\r\n\r\n\r\n    public static void printAccounts(String[] accountNumbers, double[] balances, int numAccounts,\r\n            String filename) throws FileNotFoundException {\r\n        PrintStream ps = new PrintStream(filename);\r\n        \r\n        for (int i = 0; i &lt; numAccounts; i++) {\r\n            double balanceRounded = round(balances[i]);\r\n            ps.print(accountNumbers[i] + &quot; &quot; +  balanceRounded + &quot;\\n&quot; );\r\n            \r\n        }\r\n        ps.close();\r\n\r\n    }\r\n    public static final DecimalFormat df = new DecimalFormat(&quot;0.00&quot;);\r\n    public static double round(double a)\r\n    {\r\n        double balanceRounded = Math.round(a * 100.00) / 100.00;\r\n        double val1 = balanceRounded;\r\n        BigDecimal bd = new BigDecimal(val1).setScale(2, RoundingMode.HALF_UP);\r\n        double val2 = bd.doubleValue();\r\n        return val2;      \r\n    }\r\n}\r\n```\r\n\r\nThe text file is named accounts.txt and the original values are:\r\n\r\n```lang-none \r\n460782 124.0\r\n088619 2812.0\r\n790643 4375.85\r\n874951 45675.0\r\n492468 86.58\r\n474800 52424.86\r\n848769 46.56\r\n681837 29.79\r\n```\r\n\r\nBut once I run the program and doing some operations I get this in the text file, which is different from how it appears in the console. Here is the link for the files: https://drive.google.com/drive/folders/1aDpOD0aG7wrQRGLB14sajbcQxmeaRUjj?usp=sharing\r\n\r\nIt contains the account.txt, bank.java, and what I inputted into the console to get this result. \r\n\r\nI have tried a couple of methods before. I have tried to use formatting, but when I use `printf()` it doesn&#39;t work at all for some reason. Then I have also tried to divide the printing of the two arrays into two different print statements, but that also has not worked.\r\n\r\n```lang-none\r\n460782 124.0\r\n088619 2812.0\r\n790643 4375.85\r\n874951 45675.0\r\n492468 86.58\r\n474800 52424.86\r\n848769 46.56\r\n681837 29.79\r\n111111 0.0\r\n222222 0.0\r\n```\r\n\r\n","title":"Print stream does not format all values to 2 decimal places, but only some of them for text file","body":"<p>I am asked to make a bank account java program. I have made it and the values in the regular print works, but when I use print stream for the text file, half of the values have been changed, but the other half have not been changed to two decimal places.\nThe current code is below. If you want the code with comments it is inside of the googledrive link attached.</p>\n<pre><code>import java.io.File;\nimport java.io.FileNotFoundException;\nimport java.io.PrintStream;\nimport java.math.BigDecimal;\nimport java.math.RoundingMode;\nimport java.text.DecimalFormat;\nimport java.util.Scanner;\n\npublic class Bank {\n\n    public static void main(String[] args) throws FileNotFoundException {\n        final int maxAccounts = 10;\n        String[] accountNumbers = new String[maxAccounts];\n        double[] balances = new double[maxAccounts];\n\n        final String FILENAME = &quot;accounts.txt&quot;;\n        Scanner sc = new Scanner(System.in);\n        Scanner fileScanner = new Scanner(new File(FILENAME));\n\n        int numAccounts = readAccounts(accountNumbers, balances, fileScanner);\n\n        char choice;\n        // Set up the menu\n        do {\n            printMenu();\n            choice = sc.next().charAt(0);\n            switch (choice) {\n                case 'b':\n                    getBalance(accountNumbers, balances, numAccounts, sc);\n                    break;\n                case 'd':\n                    makeDeposit(accountNumbers, balances, numAccounts, sc);\n                    break;\n                case 'w':\n                    makeWithdrawal(accountNumbers, balances, numAccounts, sc);\n                    break;\n                case 'a':\n                    boolean added = addAccount(accountNumbers, balances, numAccounts, maxAccounts, sc);\n                    if (added) {\n                        numAccounts++;\n                    }\n                    break;\n                case 'p':\n                    printAccounts(accountNumbers, balances, numAccounts);\n                    break;\n                case 'q':\n                    break;\n                default:\n                    System.out.println(&quot;Invalid choice; try again.&quot;);\n            }\n        } while (choice != 'q');\n        \n        // printAccounts(accountNumbers, balances, numAccounts);\n        printAccounts(accountNumbers, balances, numAccounts, FILENAME);\n    }\n\n\n     \n    public static int readAccounts(String[] accountNumbers, double[] balances, Scanner sc) {\n        // TODO\n        int numAccounts = 0;\n        while (sc.hasNext()) {\n            String accountNumber = sc.next();\n            double balance = sc.nextDouble();\n            accountNumbers[numAccounts] = accountNumber;\n            balances[numAccounts] = balance;\n            numAccounts++;\n        }\n\n        return numAccounts;\n    }\n\n\n    public static void printMenu() {\n        System.out.println(&quot;\\nChoices:&quot;);\n        System.out.println(&quot;b: get balance&quot;);\n        System.out.println(&quot;d: make deposit&quot;);\n        System.out.println(&quot;w: make withdrawal&quot;);\n        System.out.println(&quot;a: add account&quot;);\n        System.out.println(&quot;p: print accounts to screen&quot;);\n        System.out.println(&quot;q: quit&quot;);\n        System.out.print(&quot;Enter a letter choice: &quot;);\n    }\n\n\n    public static int indexOfAccount(String[] accountNumbers, String accountNumber, int numAccounts) {\n        // TODO\n        for (int i = 0; i &lt; numAccounts; i++) {\n            if (accountNumbers[i].equals(accountNumber)) {\n                return i;\n            }\n        }\n        return -1;\n\n    }\n\n    public static void getBalance(String[] accountNumbers, double[] balances, int numAccounts, Scanner sc) {\n\n        System.out.print(&quot;account number: &quot;);\n        String accountNumber = sc.next();\n\n        int index = indexOfAccount(accountNumbers, accountNumber, numAccounts);\n\n        if (index == -1) {\n            System.out.println(&quot;Sorry, that account doesn't exist.&quot;);\n        } else {\n            double balanceRounded = round(balances[index]);\n            System.out.printf(&quot;The balance is $&quot; +&quot;%.2f\\n&quot;, balanceRounded);\n        }\n\n    }\n\n\n    public static void makeDeposit(String[] accountNumbers, double[] balances, int numAccounts, Scanner sc) {\n\n        System.out.print(&quot;account number: &quot;);\n        String accountNumber = sc.next();\n        int index = indexOfAccount(accountNumbers, accountNumber, numAccounts);\n        if (index == -1) {\n            System.out.println(&quot;Sorry, that account doesn't exist.&quot;);\n        } else {\n            System.out.print(&quot;amount to deposit: &quot;);\n            double deposit = sc.nextDouble();\n            System.out.print(&quot;Deposit successful.\\n&quot;);\n            balances[index] = balances[index] + deposit;\n\n        }\n\n    }\n\n    public static void makeWithdrawal(String[] accountNumbers, double[] balances, int numAccounts, Scanner sc) {\n        System.out.print(&quot;account number: &quot;);\n        String accountNumber = sc.next();\n        int index = indexOfAccount(accountNumbers, accountNumber, numAccounts);\n        if (index == -1) {\n            System.out.println(&quot;Sorry, that account doesn't exist.&quot;);\n        } else {\n            System.out.print(&quot;amount to withdraw: &quot;);\n            double withdrawl = sc.nextDouble();\n            balances[index] = balances[index] - withdrawl;\n            System.out.print(&quot;Withdrawal successful.\\n&quot;);\n        }\n    }\n\n\n    public static boolean addAccount(String[] accountNumbers, double[] balances, int numAccounts, int maxAccounts,\n            Scanner sc) {\n        if (numAccounts &gt;= maxAccounts) {\n            System.out.println(&quot;Sorry, the database is full.&quot;);\n            return false;\n        }\n\n        System.out.print(&quot;new account number (six digits): &quot;);\n        String accountNumber = sc.next();\n        int numDigits = String.valueOf(accountNumber).length();\n        if (numDigits != 6) {\n            System.out.println(&quot;Sorry, account number must be exactly six digits.&quot;);\n            return false;\n        }\n        int index = indexOfAccount(accountNumbers, accountNumber, numAccounts);\n        if (index != -1) {\n            System.out.println(&quot;Sorry, that account already exists.&quot;);\n            return false;\n        }\n        accountNumbers[numAccounts] = accountNumber;\n        balances[numAccounts] = 0.00;\n        System.out.println(&quot;Account added.&quot;);\n\n        return true;\n    }\n\n\n    public static void printAccounts(String[] accountNumbers, double[] balances, int numAccounts) {\n        for (int i = 0; i &lt; numAccounts; i++) {\n            double balanceRounded = round(balances[i]);\n            System.out.printf(accountNumbers[i] + &quot; &quot; + &quot;%.2f\\n&quot;, balanceRounded);\n        }\n    }\n\n\n    public static void printAccounts(String[] accountNumbers, double[] balances, int numAccounts,\n            String filename) throws FileNotFoundException {\n        PrintStream ps = new PrintStream(filename);\n        \n        for (int i = 0; i &lt; numAccounts; i++) {\n            double balanceRounded = round(balances[i]);\n            ps.print(accountNumbers[i] + &quot; &quot; +  balanceRounded + &quot;\\n&quot; );\n            \n        }\n        ps.close();\n\n    }\n    public static final DecimalFormat df = new DecimalFormat(&quot;0.00&quot;);\n    public static double round(double a)\n    {\n        double balanceRounded = Math.round(a * 100.00) / 100.00;\n        double val1 = balanceRounded;\n        BigDecimal bd = new BigDecimal(val1).setScale(2, RoundingMode.HALF_UP);\n        double val2 = bd.doubleValue();\n        return val2;      \n    }\n}\n</code></pre>\n<p>The text file is named accounts.txt and the original values are:</p>\n<pre class=\"lang-none prettyprint-override\"><code>460782 124.0\n088619 2812.0\n790643 4375.85\n874951 45675.0\n492468 86.58\n474800 52424.86\n848769 46.56\n681837 29.79\n</code></pre>\n<p>But once I run the program and doing some operations I get this in the text file, which is different from how it appears in the console. Here is the link for the files: <a href=\"https://drive.google.com/drive/folders/1aDpOD0aG7wrQRGLB14sajbcQxmeaRUjj?usp=sharing\" rel=\"nofollow noreferrer\">https://drive.google.com/drive/folders/1aDpOD0aG7wrQRGLB14sajbcQxmeaRUjj?usp=sharing</a></p>\n<p>It contains the account.txt, bank.java, and what I inputted into the console to get this result.</p>\n<p>I have tried a couple of methods before. I have tried to use formatting, but when I use <code>printf()</code> it doesn't work at all for some reason. Then I have also tried to divide the printing of the two arrays into two different print statements, but that also has not worked.</p>\n<pre class=\"lang-none prettyprint-override\"><code>460782 124.0\n088619 2812.0\n790643 4375.85\n874951 45675.0\n492468 86.58\n474800 52424.86\n848769 46.56\n681837 29.79\n111111 0.0\n222222 0.0\n</code></pre>\n"},{"tags":["java","spring-boot","elasticsearch","pom.xml","spring-data-elasticsearch"],"comments":[{"owner":{"account_id":5534873,"reputation":18496,"user_id":4393565,"accept_rate":67,"display_name":"P.J.Meisch"},"score":0,"creation_date":1655233007,"post_id":72568809,"comment_id":128282570,"body_markdown":"As far as I remember, elasticsearch moved some classes to different packages in 7.16, so Spring Data Elasticsearch that was built to use 7.15 will not work with 7.16 or 7.17.","body":"As far as I remember, elasticsearch moved some classes to different packages in 7.16, so Spring Data Elasticsearch that was built to use 7.15 will not work with 7.16 or 7.17."}],"answers":[{"tags":[],"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654832849,"creation_date":1654832849,"answer_id":72568912,"question_id":72568809,"body_markdown":"&gt; I want to customize springboot 2.6.8 elasticsearch dependency to elasticsearch 7.17.2, is this ok?\r\n\r\nOne never knows until they try. The ElasticSearch version 7.17.2 contains backward-compatible changes 7.15.2, hence it should be ok.\r\n\r\n&gt; How to do it?\r\n\r\nCheck the dependency trees:\r\n\r\n- `spring-boot-starter-parent:2.6.8`\r\n  - `spring-boot-starter-data-elasticsearch:2.6.8`\r\n    - `spring-data-elasticsearch:4.3.4`\r\n      - `org.elasticsearch.client:...:7.15.2`\r\n\r\n... and ...\r\n\r\n- `spring-boot-starter-parent:2.7.0`\r\n  - `spring-boot-starter-data-elasticsearch:2.7.7`\r\n    - `spring-data-elasticsearch:4.4.0`\r\n      - `org.elasticsearch.client:...:7.17.3`\r\n\r\nYou might want either to update Spring Boot to 2.7.0 for full compatibility that imports transitive dependencies of ElasticSearch version 7.17.3 or [override][1] the versions: Exclude all the `org.elasticsearch.client` [dependencies][2] and import them as separate dependencies.\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-data-elasticsearch&lt;/artifactId&gt;\r\n    &lt;exclusions&gt;\r\n        &lt;!-- repeat for all ElasticSearch dependencies --&gt;\r\n\t\t&lt;exclusion&gt;\r\n\t\t\t&lt;groupId&gt;org.elasticsearch.client&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;...&lt;/artifactId&gt;\r\n\t\t&lt;/exclusion&gt;\r\n\t&lt;/exclusions&gt;\t\r\n&lt;/dependency&gt;\r\n\r\n&lt;!-- repeat for all ElasticSearch dependencies --&gt;\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.elasticsearch.client&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;...&lt;/artifactId&gt;\r\n\t&lt;version&gt;7.17.2&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/37415810/3764965\r\n  [2]: https://mvnrepository.com/artifact/org.springframework.data/spring-data-elasticsearch/4.3.4","title":"spring boot 2.6.8 and elasticsearch 7.17.2 compatibility","body":"<blockquote>\n<p>I want to customize springboot 2.6.8 elasticsearch dependency to elasticsearch 7.17.2, is this ok?</p>\n</blockquote>\n<p>One never knows until they try. The ElasticSearch version 7.17.2 contains backward-compatible changes 7.15.2, hence it should be ok.</p>\n<blockquote>\n<p>How to do it?</p>\n</blockquote>\n<p>Check the dependency trees:</p>\n<ul>\n<li><code>spring-boot-starter-parent:2.6.8</code>\n<ul>\n<li><code>spring-boot-starter-data-elasticsearch:2.6.8</code>\n<ul>\n<li><code>spring-data-elasticsearch:4.3.4</code>\n<ul>\n<li><code>org.elasticsearch.client:...:7.15.2</code></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<p>... and ...</p>\n<ul>\n<li><code>spring-boot-starter-parent:2.7.0</code>\n<ul>\n<li><code>spring-boot-starter-data-elasticsearch:2.7.7</code>\n<ul>\n<li><code>spring-data-elasticsearch:4.4.0</code>\n<ul>\n<li><code>org.elasticsearch.client:...:7.17.3</code></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<p>You might want either to update Spring Boot to 2.7.0 for full compatibility that imports transitive dependencies of ElasticSearch version 7.17.3 or <a href=\"https://stackoverflow.com/a/37415810/3764965\">override</a> the versions: Exclude all the <code>org.elasticsearch.client</code> <a href=\"https://mvnrepository.com/artifact/org.springframework.data/spring-data-elasticsearch/4.3.4\" rel=\"nofollow noreferrer\">dependencies</a> and import them as separate dependencies.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-data-elasticsearch&lt;/artifactId&gt;\n    &lt;exclusions&gt;\n        &lt;!-- repeat for all ElasticSearch dependencies --&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;org.elasticsearch.client&lt;/groupId&gt;\n            &lt;artifactId&gt;...&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n    &lt;/exclusions&gt;   \n&lt;/dependency&gt;\n\n&lt;!-- repeat for all ElasticSearch dependencies --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.elasticsearch.client&lt;/groupId&gt;\n    &lt;artifactId&gt;...&lt;/artifactId&gt;\n    &lt;version&gt;7.17.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":3106235,"reputation":199,"user_id":2628944,"display_name":"jetpack"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3663,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1654837878,"creation_date":1654831315,"question_id":72568809,"body_markdown":"I want to customize springboot 2.6.8 elasticsearch dependency to elasticsearch 7.17.2, is this ok?\r\n\r\nBased on springboot dependency versions, 2.6.8 is mapped to elasticsearch version 7.15.2.\r\n\r\nBut I want to changed it since elasticsearch version 7.15.2 has some deprecated functions.\r\n\r\nHow to do it? \r\n\r\n\r\nthe pom.xml I am using does not have `spring-boot-starter-data-elasticsearch`\r\n\r\nand if I use it Maven cannot find it in:\r\n\r\n```\r\n  &lt;repositories&gt;\r\n    &lt;repository&gt;\r\n      &lt;id&gt;shibboleth_repository&lt;/id&gt;\r\n      &lt;name&gt;Shibboleth Maven Repository&lt;/name&gt;\r\n      &lt;url&gt;https://build.shibboleth.net/nexus/content/repositories/releases/&lt;/url&gt;\r\n    &lt;/repository&gt;\r\n  &lt;/repositories&gt;\r\n```\r\n\r\n\r\n\r\n\r\n ```\r\n&lt;properties&gt;\r\n    &lt;java.version&gt;17&lt;/java.version&gt;\r\n  &lt;/properties&gt;\r\n  &lt;parent&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    &lt;version&gt;2.6.8&lt;/version&gt;\r\n  &lt;/parent&gt;\r\n  &lt;dependencies&gt;\r\n        :\r\n        :\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.elasticsearch&lt;/groupId&gt;\r\n      &lt;artifactId&gt;elasticsearch&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.elasticsearch.client&lt;/groupId&gt;\r\n      &lt;artifactId&gt;elasticsearch-rest-high-level-client&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n        :\r\n  &lt;/dependencies&gt;\r\n```\r\n\r\n","title":"spring boot 2.6.8 and elasticsearch 7.17.2 compatibility","body":"<p>I want to customize springboot 2.6.8 elasticsearch dependency to elasticsearch 7.17.2, is this ok?</p>\n<p>Based on springboot dependency versions, 2.6.8 is mapped to elasticsearch version 7.15.2.</p>\n<p>But I want to changed it since elasticsearch version 7.15.2 has some deprecated functions.</p>\n<p>How to do it?</p>\n<p>the pom.xml I am using does not have <code>spring-boot-starter-data-elasticsearch</code></p>\n<p>and if I use it Maven cannot find it in:</p>\n<pre><code>  &lt;repositories&gt;\n    &lt;repository&gt;\n      &lt;id&gt;shibboleth_repository&lt;/id&gt;\n      &lt;name&gt;Shibboleth Maven Repository&lt;/name&gt;\n      &lt;url&gt;https://build.shibboleth.net/nexus/content/repositories/releases/&lt;/url&gt;\n    &lt;/repository&gt;\n  &lt;/repositories&gt;\n</code></pre>\n<pre><code>&lt;properties&gt;\n   &lt;java.version&gt;17&lt;/java.version&gt;\n &lt;/properties&gt;\n &lt;parent&gt;\n   &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n   &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n   &lt;version&gt;2.6.8&lt;/version&gt;\n &lt;/parent&gt;\n &lt;dependencies&gt;\n       :\n       :\n   &lt;dependency&gt;\n     &lt;groupId&gt;org.elasticsearch&lt;/groupId&gt;\n     &lt;artifactId&gt;elasticsearch&lt;/artifactId&gt;\n   &lt;/dependency&gt;\n   &lt;dependency&gt;\n     &lt;groupId&gt;org.elasticsearch.client&lt;/groupId&gt;\n     &lt;artifactId&gt;elasticsearch-rest-high-level-client&lt;/artifactId&gt;\n   &lt;/dependency&gt;\n       :\n &lt;/dependencies&gt;\n</code></pre>\n"},{"tags":["java","python"],"comments":[{"owner":{"account_id":258701,"reputation":111265,"user_id":541038,"accept_rate":94,"display_name":"Joran Beasley"},"score":0,"creation_date":1392065788,"post_id":21687643,"comment_id":32787043,"body_markdown":"`&quot;result = d.get_gender(&#39;Christinewazonek&#39;&#39;)\\n&quot;)` looks like this line has an extra quote mark","body":"<code>&quot;result = d.get_gender(&#39;Christinewazonek&#39;&#39;)\\n&quot;)</code> looks like this line has an extra quote mark"},{"owner":{"account_id":1574569,"reputation":897,"user_id":1461393,"accept_rate":75,"display_name":"Tastybrownies"},"score":0,"creation_date":1392066096,"post_id":21687643,"comment_id":32787204,"body_markdown":"Even though I manually removed all &#39; from the file before hand that&#39;s weird. But I could try to write something to dynamically look out for extra &#39; at runtime?","body":"Even though I manually removed all &#39; from the file before hand that&#39;s weird. But I could try to write something to dynamically look out for extra &#39; at runtime?"},{"owner":{"account_id":69149,"reputation":233552,"user_id":201359,"accept_rate":100,"display_name":"&#211;scar L&#243;pez"},"score":1,"creation_date":1392066155,"post_id":21687643,"comment_id":32787250,"body_markdown":"Why are you writing double slashes? this should work: `/Users/myname/Desktop/`. You only have to escape _backslashes_","body":"Why are you writing double slashes? this should work: <code>&#47;Users&#47;myname&#47;Desktop&#47;</code>. You only have to escape <i>backslashes</i>"},{"owner":{"account_id":1574569,"reputation":897,"user_id":1461393,"accept_rate":75,"display_name":"Tastybrownies"},"score":0,"creation_date":1392066517,"post_id":21687643,"comment_id":32787472,"body_markdown":"Noted. I would be pretty shocked if that solved the problem.","body":"Noted. I would be pretty shocked if that solved the problem."},{"owner":{"account_id":1574569,"reputation":897,"user_id":1461393,"accept_rate":75,"display_name":"Tastybrownies"},"score":0,"creation_date":1392066704,"post_id":21687643,"comment_id":32787581,"body_markdown":"I copied the problem name to my smaller subset and I&#39;m experimenting now on how to solve this issue. Definitely a lot better than keeping the name in the large subset.","body":"I copied the problem name to my smaller subset and I&#39;m experimenting now on how to solve this issue. Definitely a lot better than keeping the name in the large subset."},{"owner":{"account_id":1574569,"reputation":897,"user_id":1461393,"accept_rate":75,"display_name":"Tastybrownies"},"score":0,"creation_date":1392067965,"post_id":21687643,"comment_id":32788223,"body_markdown":"Now I&#39;m totally baffled. When I added the problem name to the small group of names the program performed fine with the single / and double // on the file path. That appears not to make a difference.","body":"Now I&#39;m totally baffled. When I added the problem name to the small group of names the program performed fine with the single / and double // on the file path. That appears not to make a difference."},{"owner":{"account_id":1574569,"reputation":897,"user_id":1461393,"accept_rate":75,"display_name":"Tastybrownies"},"score":0,"creation_date":1392068682,"post_id":21687643,"comment_id":32788612,"body_markdown":"I added a Java replaceAll things that are not A-Za-z. I will report back in a couple of hours and see if this works.","body":"I added a Java replaceAll things that are not A-Za-z. I will report back in a couple of hours and see if this works."},{"owner":{"account_id":4635155,"reputation":536,"user_id":3756599,"accept_rate":75,"display_name":"TravisChambers"},"score":1,"creation_date":1487977338,"post_id":21687643,"comment_id":72043298,"body_markdown":"I know this was a long time ago -- but did you find a solution for this? I&#39;m getting a similar error.","body":"I know this was a long time ago -- but did you find a solution for this? I&#39;m getting a similar error."}],"answers":[{"tags":[],"owner":{"account_id":9500476,"reputation":191,"user_id":7061801,"display_name":"Rafael Castelo Branco"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1582018176,"creation_date":1582018176,"answer_id":60277630,"question_id":21687643,"body_markdown":"Not sure if you sorted this out, but have an extra apostrophe on \r\n\r\n    d.get_gender(&#39;Christinewazonek&#39;&#39;)\r\n\r\nJust like in Java, everything you open you need to close, and in this case you opened a string containing  `)\\n&quot;) ` which was not closed.\r\n\r\nDepending on the interpreter you are using, this can be flagged easily. Perhaps you might try different interpreter.","title":"No Viable Alternative to Input &#39;\\\\n&quot; Python Error","body":"<p>Not sure if you sorted this out, but have an extra apostrophe on </p>\n\n<pre><code>d.get_gender('Christinewazonek'')\n</code></pre>\n\n<p>Just like in Java, everything you open you need to close, and in this case you opened a string containing  <code>)\\n\")</code> which was not closed.</p>\n\n<p>Depending on the interpreter you are using, this can be flagged easily. Perhaps you might try different interpreter.</p>\n"},{"tags":[],"owner":{"account_id":25521775,"reputation":1,"user_id":19311506,"display_name":"Nathanael BALE"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654837677,"creation_date":1654837635,"answer_id":72569317,"question_id":21687643,"body_markdown":"I don&#39;t know if it helps but this is what I did and it works for me.\r\n\r\n\r\n    public static void main(String[] args){\r\n        PythonInterpreter pI = new PythonInterpreter();\r\n        pI.exec(&quot;x = 3&quot;);\r\n        PyObject result = pI.get(&quot;x&quot;);\r\n        System.out.println(result);\r\n    }\r\n","title":"No Viable Alternative to Input &#39;\\\\n&quot; Python Error","body":"<p>I don't know if it helps but this is what I did and it works for me.</p>\n<pre><code>public static void main(String[] args){\n    PythonInterpreter pI = new PythonInterpreter();\n    pI.exec(&quot;x = 3&quot;);\n    PyObject result = pI.get(&quot;x&quot;);\n    System.out.println(result);\n}\n</code></pre>\n"}],"owner":{"account_id":1574569,"reputation":897,"user_id":1461393,"accept_rate":75,"display_name":"Tastybrownies"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4553,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1654837677,"creation_date":1392065539,"question_id":21687643,"body_markdown":"I am working on a large scale project that involves giving a python script a first name and getting back a result as to what kind of gender it belongs to. My current program is written in Java and using Jython to interact with a Python script called &quot;sex machine.&quot; It works great in most cases and I&#39;ve tested it with smaller groups of users. However, when I attempt to test it with a large group of users the program gets about halfway in and then gives me the following error:\r\n\r\n    &quot;Exception in thread &quot;main&quot; SyntaxError: No viable alternative to input &#39;\\\\n&#39;&quot;, (&#39;&lt;string&gt;&#39;, 1, 22, &quot;result = d.get_gender(&#39;Christinewazonek&#39;&#39;)\\n&quot;)\r\n\r\nI am more accustomed to Java and have limited knowledge of Python so at the moment I don&#39;t know how to solve this problem. I tried to trim the string that I&#39;m giving the get_gender method but that didn&#39;t help any. I am not sure what the numbers 1, 22 even mean.\r\n\r\nLike I said since I&#39;m using Jython my code would be the following:\r\n\r\n    static PythonInterpreter interp = new PythonInterpreter();\r\n   \r\n\r\n    interp.exec(&quot;import sys, os.path&quot;);\r\n    interp.exec(&quot;sys.path.append(&#39;/Users/myname/Desktop/&#39;)&quot;);\r\n    interp.exec(&quot;import sexmachine.detector as gender&quot;);\r\n    \r\n    interp.exec(&quot;d = gender.Detector()&quot;);\r\n\r\n    interp.exec(&quot;result = d.get_gender(&#39;&quot;+WordUtils.capitalize(name).trim()\r\n\t\t\t\t+&quot;&#39;)&quot;);\r\n\r\n    PyObject gendAnswer = interp.get(&quot;result&quot;);\r\n\r\nAnd this is pretty much the extent of Jython/Python interaction in my Java code. If someone sees something that&#39;s wrong or not right I would certainly appreciate if you could help me. As this is a large project it takes time to run the whole program again only to run into the same issue, so because of this I really need to fix this problem.","title":"No Viable Alternative to Input &#39;\\\\n&quot; Python Error","body":"<p>I am working on a large scale project that involves giving a python script a first name and getting back a result as to what kind of gender it belongs to. My current program is written in Java and using Jython to interact with a Python script called \"sex machine.\" It works great in most cases and I've tested it with smaller groups of users. However, when I attempt to test it with a large group of users the program gets about halfway in and then gives me the following error:</p>\n\n<pre><code>\"Exception in thread \"main\" SyntaxError: No viable alternative to input '\\\\n'\", ('&lt;string&gt;', 1, 22, \"result = d.get_gender('Christinewazonek'')\\n\")\n</code></pre>\n\n<p>I am more accustomed to Java and have limited knowledge of Python so at the moment I don't know how to solve this problem. I tried to trim the string that I'm giving the get_gender method but that didn't help any. I am not sure what the numbers 1, 22 even mean.</p>\n\n<p>Like I said since I'm using Jython my code would be the following:</p>\n\n<pre><code>static PythonInterpreter interp = new PythonInterpreter();\n\n\ninterp.exec(\"import sys, os.path\");\ninterp.exec(\"sys.path.append('/Users/myname/Desktop/')\");\ninterp.exec(\"import sexmachine.detector as gender\");\n\ninterp.exec(\"d = gender.Detector()\");\n\ninterp.exec(\"result = d.get_gender('\"+WordUtils.capitalize(name).trim()\n            +\"')\");\n\nPyObject gendAnswer = interp.get(\"result\");\n</code></pre>\n\n<p>And this is pretty much the extent of Jython/Python interaction in my Java code. If someone sees something that's wrong or not right I would certainly appreciate if you could help me. As this is a large project it takes time to run the whole program again only to run into the same issue, so because of this I really need to fix this problem.</p>\n"},{"tags":["java","google-classroom"],"answers":[{"tags":[],"owner":{"account_id":16071429,"reputation":26112,"user_id":11599789,"display_name":"ziganotschka"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1637571891,"creation_date":1637571891,"answer_id":70063230,"question_id":70049830,"body_markdown":"To schedule an announcement for a future timestamp, you need to set it&#39;s current `state` to `DRAFT`:\r\n------------------------------------------------------------------------\r\n\r\n```lang-java\r\nAnnouncement announcement = new Announcement()setState(&quot;DRAFT&quot;).setScheduledTime(&quot;2021-11-20T23:48:00Z&quot;).setText(&quot;New Announcement&quot;).setMaterials(materialNames);\r\n```","title":"Precondition check failed","body":"<h2>To schedule an announcement for a future timestamp, you need to set it's current <code>state</code> to <code>DRAFT</code>:</h2>\n<pre class=\"lang-java prettyprint-override\"><code>Announcement announcement = new Announcement()setState(&quot;DRAFT&quot;).setScheduledTime(&quot;2021-11-20T23:48:00Z&quot;).setText(&quot;New Announcement&quot;).setMaterials(materialNames);\n</code></pre>\n"}],"owner":{"account_id":18996646,"reputation":72,"user_id":13864686,"display_name":"Nwekar Mahdi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":436,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":70063230,"answer_count":1,"score":-1,"last_activity_date":1654837267,"creation_date":1637442062,"question_id":70049830,"body_markdown":"it is been a while I use Google Classroom API till now it went so well, but  I want to use `setScheduledTime` method for the announcement but  didn&#39;t work I am getting the following error \r\n\r\n```java\r\nClassroom service = new Classroom.Builder(HTTP_TRANSPORT, JSON_FACTORY, getCredentials(HTTP_TRANSPORT))\r\n   .setApplicationName(APPLICATION_NAME)\r\n   .build();\r\n\r\nClassroom.Courses courses2 = service.courses();\r\nMaterial a = new Material();\r\na.setDriveFile(pptx2);\r\nList&lt;Material&gt; materialNames = new ArrayList&lt;&gt;();\r\nmaterialNames.add(a);\r\nAnnouncement announcement = new Announcement().setScheduledTime(&quot;2021-11-20T23:48:00Z&quot;).setText(&quot;New Announcement&quot;).setMaterials(materialNames);\r\ncourses2.announcements().create(&quot;426056383414&quot;, announcement).execute();\r\n```\r\n\r\nThis is the error I&#39;m getting \r\n```json\r\n{\r\n  &quot;code&quot; : 400,\r\n  &quot;errors&quot; : [ {\r\n    &quot;domain&quot; : &quot;global&quot;,\r\n    &quot;message&quot; : &quot;Precondition check failed.&quot;,\r\n    &quot;reason&quot; : &quot;failedPrecondition&quot;\r\n  } ],\r\n  &quot;message&quot; : &quot;Precondition check failed.&quot;,\r\n  &quot;status&quot; : &quot;FAILED_PRECONDITION&quot;\r\n}\r\n```","title":"Precondition check failed","body":"<p>it is been a while I use Google Classroom API till now it went so well, but  I want to use <code>setScheduledTime</code> method for the announcement but  didn't work I am getting the following error</p>\n<pre class=\"lang-java prettyprint-override\"><code>Classroom service = new Classroom.Builder(HTTP_TRANSPORT, JSON_FACTORY, getCredentials(HTTP_TRANSPORT))\n   .setApplicationName(APPLICATION_NAME)\n   .build();\n\nClassroom.Courses courses2 = service.courses();\nMaterial a = new Material();\na.setDriveFile(pptx2);\nList&lt;Material&gt; materialNames = new ArrayList&lt;&gt;();\nmaterialNames.add(a);\nAnnouncement announcement = new Announcement().setScheduledTime(&quot;2021-11-20T23:48:00Z&quot;).setText(&quot;New Announcement&quot;).setMaterials(materialNames);\ncourses2.announcements().create(&quot;426056383414&quot;, announcement).execute();\n</code></pre>\n<p>This is the error I'm getting</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;code&quot; : 400,\n  &quot;errors&quot; : [ {\n    &quot;domain&quot; : &quot;global&quot;,\n    &quot;message&quot; : &quot;Precondition check failed.&quot;,\n    &quot;reason&quot; : &quot;failedPrecondition&quot;\n  } ],\n  &quot;message&quot; : &quot;Precondition check failed.&quot;,\n  &quot;status&quot; : &quot;FAILED_PRECONDITION&quot;\n}\n</code></pre>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1654836186,"creation_date":1654836186,"answer_id":72569173,"question_id":72569018,"body_markdown":"It&#39;s not very clean or efficient, but here&#39;s one way:\r\n\r\n    List&lt;String&gt; res = IntStream.range(0, str.size())\r\n            .mapToObj(i -&gt; str.stream()\r\n                    .map(s -&gt; s.split(&quot; &quot;)[i])\r\n                    .collect(Collectors.joining(&quot; &quot;)))\r\n            .collect(Collectors.toList());\r\n\r\n[**Ideone Demo**][1]\r\n\r\n\r\n  [1]: https://ideone.com/Jca4ha","title":"How to manipulate the string using stream API in Java. which api method is suitable","body":"<p>It's not very clean or efficient, but here's one way:</p>\n<pre><code>List&lt;String&gt; res = IntStream.range(0, str.size())\n        .mapToObj(i -&gt; str.stream()\n                .map(s -&gt; s.split(&quot; &quot;)[i])\n                .collect(Collectors.joining(&quot; &quot;)))\n        .collect(Collectors.toList());\n</code></pre>\n<p><a href=\"https://ideone.com/Jca4ha\" rel=\"nofollow noreferrer\"><strong>Ideone Demo</strong></a></p>\n"}],"owner":{"account_id":8582865,"reputation":4145,"user_id":6474292,"accept_rate":56,"display_name":"David"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":72569173,"answer_count":1,"score":0,"last_activity_date":1654836195,"creation_date":1654834230,"question_id":72569018,"body_markdown":"How to manipulate the string using stream API in Java. which api method is suitable.\r\n\r\nI am trying some Java 8 features. \r\n\r\nso lets say I have list of string \r\n\r\n    List&lt;String&gt; str = Arrays.asList(&quot;Hello World&quot;,&quot;Welcome America&quot;);\r\n    \t\tList&lt;String&gt; res = str.stream()\r\n    \t\t\t\t\t\t  .map(st -&gt; st.split(&quot; &quot;))\r\n    \t\t\t\t\t\t  .collect(Collectors.)); // here after Collectors what should I use. \r\n    \t\t\t\t\t\t  \r\n\t\t\t\t\t\t  \r\n\t\t\t\t\t\t  \r\nmy output should be like : [Hello Welcome, Wrold America]\r\n\r\nhwrw by using `map` i am transforming the list but I am not getting any method to collect that. any help so i can do it by using stream.\r\n\r\n","title":"How to manipulate the string using stream API in Java. which api method is suitable","body":"<p>How to manipulate the string using stream API in Java. which api method is suitable.</p>\n<p>I am trying some Java 8 features.</p>\n<p>so lets say I have list of string</p>\n<pre><code>List&lt;String&gt; str = Arrays.asList(&quot;Hello World&quot;,&quot;Welcome America&quot;);\n        List&lt;String&gt; res = str.stream()\n                          .map(st -&gt; st.split(&quot; &quot;))\n                          .collect(Collectors.)); // here after Collectors what should I use. \n                          \n                      \n                      \n</code></pre>\n<p>my output should be like : [Hello Welcome, Wrold America]</p>\n<p>hwrw by using <code>map</code> i am transforming the list but I am not getting any method to collect that. any help so i can do it by using stream.</p>\n"},{"tags":["java","hazelcast"],"answers":[{"tags":[],"owner":{"account_id":552254,"reputation":6004,"user_id":917336,"display_name":"noctarius"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1462040676,"creation_date":1462040676,"answer_id":36958585,"question_id":36951348,"body_markdown":"Hazelcast partitions data, therefore each node holds a subset of the overall dataset. If you try to retrieve an element which is not hold locally (owned by the local node), you have to get it from a remote node. 100ms sounds like a pretty bad WAN connection and Hazelcast clusters are not designed to work over WAN.","title":"Hazelcast delay in multinode setup","body":"<p>Hazelcast partitions data, therefore each node holds a subset of the overall dataset. If you try to retrieve an element which is not hold locally (owned by the local node), you have to get it from a remote node. 100ms sounds like a pretty bad WAN connection and Hazelcast clusters are not designed to work over WAN.</p>\n"},{"tags":[],"owner":{"account_id":10085280,"reputation":1,"user_id":7454129,"display_name":"Mariathasan Gowrishankar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654836137,"creation_date":1654836064,"answer_id":72569162,"question_id":36951348,"body_markdown":"Hazelcast uses distributed caching. that means your data will be stored in one of the members.  if the data is not in the local member, hazelcast needs to access the data from another member. this will cause a delay if that member is in a different region. (This is not a delay of a hazelcast. It&#39;s a network delay).\r\n\r\n1) How does Hazelcast work in a multi-node cluster, and why there is a delay when I call any one of the nodes?\r\n\r\n   there should not be a delay when you ping the local member. \r\n\r\n   the delay can be there when you write to a local member and you have configured synchronous backup to another member.\r\n\r\n   the delay can be there when getting the data. if the data is not in local member.\r\n\r\n2) If so, how to do the tuning to avoid the delay?\r\n\r\n   it depends on the read-write ratio. if the no of writes is few. you can allow from back up. there are limitations to this as well check the documentation\r\n\r\n3) Does Hazelcast contact to another node in case of get call?\r\n\r\n   yes it will contact another member if the data is stored in another member","title":"Hazelcast delay in multinode setup","body":"<p>Hazelcast uses distributed caching. that means your data will be stored in one of the members.  if the data is not in the local member, hazelcast needs to access the data from another member. this will cause a delay if that member is in a different region. (This is not a delay of a hazelcast. It's a network delay).</p>\n<ol>\n<li><p>How does Hazelcast work in a multi-node cluster, and why there is a delay when I call any one of the nodes?</p>\n<p>there should not be a delay when you ping the local member.</p>\n<p>the delay can be there when you write to a local member and you have configured synchronous backup to another member.</p>\n<p>the delay can be there when getting the data. if the data is not in local member.</p>\n</li>\n<li><p>If so, how to do the tuning to avoid the delay?</p>\n<p>it depends on the read-write ratio. if the no of writes is few. you can allow from back up. there are limitations to this as well check the documentation</p>\n</li>\n<li><p>Does Hazelcast contact to another node in case of get call?</p>\n<p>yes it will contact another member if the data is stored in another member</p>\n</li>\n</ol>\n"}],"owner":{"account_id":1754514,"reputation":3082,"user_id":1602853,"accept_rate":72,"display_name":"Harry"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1036,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1654836137,"creation_date":1461995879,"question_id":36951348,"body_markdown":"We are using Hazelcast in our project. We have a multi-node setup in which Hazelcast is running in all the three nodes (**Hazelcast cluster**). There is a latency delay in multi-node setup due to WAN latency (i.e) three nodes are in different locations.\r\n\r\nIf I ping from one node (say n1) to the other node (say n2), there is a consistent delay say 100ms.\r\n\r\nBut I am directly hitting to the one of the node (say like n1) from our web application, what we see is that there is a delay in the Hazelcast cast processing.\r\n\r\nI am confused on the how Hazelcast works in a multi-node setup. Even if I hit directly to one of the nodes in the multi-node setup, why is there a delay in it?\r\n\r\n**I need the following information**,\r\n\r\n1) How does Hazelcast work in a multi-node cluster, and why there is a delay when I call any one of the nodes?\r\n\r\n2) If so, how to do the tuning to avoid the delay?\r\n\r\n3) Does Hazelcast contact to another node in case of get call?","title":"Hazelcast delay in multinode setup","body":"<p>We are using Hazelcast in our project. We have a multi-node setup in which Hazelcast is running in all the three nodes (<strong>Hazelcast cluster</strong>). There is a latency delay in multi-node setup due to WAN latency (i.e) three nodes are in different locations.</p>\n\n<p>If I ping from one node (say n1) to the other node (say n2), there is a consistent delay say 100ms.</p>\n\n<p>But I am directly hitting to the one of the node (say like n1) from our web application, what we see is that there is a delay in the Hazelcast cast processing.</p>\n\n<p>I am confused on the how Hazelcast works in a multi-node setup. Even if I hit directly to one of the nodes in the multi-node setup, why is there a delay in it?</p>\n\n<p><strong>I need the following information</strong>,</p>\n\n<p>1) How does Hazelcast work in a multi-node cluster, and why there is a delay when I call any one of the nodes?</p>\n\n<p>2) If so, how to do the tuning to avoid the delay?</p>\n\n<p>3) Does Hazelcast contact to another node in case of get call?</p>\n"},{"tags":["java","spring","spring-boot","tomcat","tomcat8"],"answers":[{"tags":[],"owner":{"account_id":1917510,"reputation":23561,"user_id":1729795,"accept_rate":83,"display_name":"codependent"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1562319639,"creation_date":1562319639,"answer_id":56900482,"question_id":56430476,"body_markdown":"To make this work I had to disable the context root redirection customizing the Tomcat Context:\r\n\r\n```\r\n@Configuration\r\nclass TomcatConfiguration : EmbeddedServletContainerCustomizer {\r\n\r\n    override fun customize(container: ConfigurableEmbeddedServletContainer) {\r\n        val factory = container as TomcatEmbeddedServletContainerFactory\r\n        factory.tomcatContextCustomizers = listOf(CustomCustomizer())\r\n\r\n    }\r\n\r\n    class CustomCustomizer : TomcatContextCustomizer {\r\n        override fun customize(context: Context) {\r\n            context.mapperContextRootRedirectEnabled = false\r\n            context.addServletContainerInitializer(WsSci(), null)\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n\r\n","title":"Spring Boot application with embedded Tomcat behind reverse proxy not redirecting to https when asking for /contextPath without trailing slash","body":"<p>To make this work I had to disable the context root redirection customizing the Tomcat Context:</p>\n\n<pre><code>@Configuration\nclass TomcatConfiguration : EmbeddedServletContainerCustomizer {\n\n    override fun customize(container: ConfigurableEmbeddedServletContainer) {\n        val factory = container as TomcatEmbeddedServletContainerFactory\n        factory.tomcatContextCustomizers = listOf(CustomCustomizer())\n\n    }\n\n    class CustomCustomizer : TomcatContextCustomizer {\n        override fun customize(context: Context) {\n            context.mapperContextRootRedirectEnabled = false\n            context.addServletContainerInitializer(WsSci(), null)\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":484983,"reputation":686,"user_id":900999,"accept_rate":58,"display_name":"marstone"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654835682,"creation_date":1654835682,"answer_id":72569132,"question_id":56430476,"body_markdown":"you can set this prop in your springboot config:\r\n```\r\nserver.tomcat.use-relative-redirects=true \r\n```\r\n\r\nreference: https://github.com/spring-projects/spring-boot/issues/22908","title":"Spring Boot application with embedded Tomcat behind reverse proxy not redirecting to https when asking for /contextPath without trailing slash","body":"<p>you can set this prop in your springboot config:</p>\n<pre><code>server.tomcat.use-relative-redirects=true \n</code></pre>\n<p>reference: <a href=\"https://github.com/spring-projects/spring-boot/issues/22908\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-boot/issues/22908</a></p>\n"}],"owner":{"account_id":1917510,"reputation":23561,"user_id":1729795,"accept_rate":83,"display_name":"codependent"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2217,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":56900482,"answer_count":2,"score":1,"last_activity_date":1654835682,"creation_date":1559576086,"question_id":56430476,"body_markdown":"This problem seems to have been asked multiple times but for this particular case I haven&#39;t found a proper solution.\r\n\r\nThe application is a Spring Boot 1.5.x that uses a embedded Tomcat server and runs on Openshift. The latter has a Router with an HTTPS route that terminates the TLS tunnel and forwards the traffic over HTTP to the application pod. In addition it inserts the X-Forwarded- headers (including the X-Forwarded-Proto header) so that the application redirects are composed using the https protocol.\r\n\r\nI have configured `server.use-forward-headers: true` in the Spring Boot Application and tested it:\r\n\r\n1) OK -&gt; https://ocproute/myapp/ redirects 302 to my home page keeping the https protocol (the Tomcat RemoteIpValve took care of it).\r\n\r\n2) FAIL -&gt; https://ocproute/myapp (note there&#39;s no trailing slash) redirects 302 to http://ocproute/myapp/ As you can see it changed the protocol to http since the RemoteIpValve hasn&#39;t been invoked yet).\r\n\r\nThe logs show that Tomcat&#39;s Http11InputBuffer receives the request and at some point redirects it without taking into account the X-Forwarded-Proto header. \r\n\r\nHow can this be fixed? \r\n\r\n```\r\n2019-06-03T17:31:59.230 ( -  -  -  -  - ) o.a.t.u.n.NioEndpoint DEBUG - Socket: [org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper@1511311d:org.apache.tomcat.util.net.NioChannel@5209052:java.nio.channels.SocketChannel[connected local=/0:0:0:0:0:0:0:1:8080 remote=/0:0:0:0:0:0:0:1:64871]], Read direct from socket: [595]\r\n2019-06-03T17:31:59.230 ( -  -  -  -  - ) o.a.c.h.Http11InputBuffer DEBUG - Received [GET /myapp HTTP/1.1\r\nHost: localhost:8080\r\nConnection: keep-alive\r\nPragma: no-cache\r\nCache-Control: no-cache\r\nUpgrade-Insecure-Requests: 1\r\nUser-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/74.0.3729.169 Safari/537.36\r\nAccept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3\r\nX-Forwarded-Proto: https\r\nAccept-Encoding: gzip, deflate, br\r\nAccept-Language: en-GB,en;q=0.9,en-US;q=0.8,es;q=0.7,cy;q=0.6\r\nCookie: JSESSIONID=4693A1F63CD3E18058F98E129D11CE57\r\n\r\n]\r\n...\r\n```","title":"Spring Boot application with embedded Tomcat behind reverse proxy not redirecting to https when asking for /contextPath without trailing slash","body":"<p>This problem seems to have been asked multiple times but for this particular case I haven't found a proper solution.</p>\n\n<p>The application is a Spring Boot 1.5.x that uses a embedded Tomcat server and runs on Openshift. The latter has a Router with an HTTPS route that terminates the TLS tunnel and forwards the traffic over HTTP to the application pod. In addition it inserts the X-Forwarded- headers (including the X-Forwarded-Proto header) so that the application redirects are composed using the https protocol.</p>\n\n<p>I have configured <code>server.use-forward-headers: true</code> in the Spring Boot Application and tested it:</p>\n\n<p>1) OK -> <a href=\"https://ocproute/myapp/\" rel=\"nofollow noreferrer\">https://ocproute/myapp/</a> redirects 302 to my home page keeping the https protocol (the Tomcat RemoteIpValve took care of it).</p>\n\n<p>2) FAIL -> <a href=\"https://ocproute/myapp\" rel=\"nofollow noreferrer\">https://ocproute/myapp</a> (note there's no trailing slash) redirects 302 to <a href=\"http://ocproute/myapp/\" rel=\"nofollow noreferrer\">http://ocproute/myapp/</a> As you can see it changed the protocol to http since the RemoteIpValve hasn't been invoked yet).</p>\n\n<p>The logs show that Tomcat's Http11InputBuffer receives the request and at some point redirects it without taking into account the X-Forwarded-Proto header. </p>\n\n<p>How can this be fixed? </p>\n\n<pre><code>2019-06-03T17:31:59.230 ( -  -  -  -  - ) o.a.t.u.n.NioEndpoint DEBUG - Socket: [org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper@1511311d:org.apache.tomcat.util.net.NioChannel@5209052:java.nio.channels.SocketChannel[connected local=/0:0:0:0:0:0:0:1:8080 remote=/0:0:0:0:0:0:0:1:64871]], Read direct from socket: [595]\n2019-06-03T17:31:59.230 ( -  -  -  -  - ) o.a.c.h.Http11InputBuffer DEBUG - Received [GET /myapp HTTP/1.1\nHost: localhost:8080\nConnection: keep-alive\nPragma: no-cache\nCache-Control: no-cache\nUpgrade-Insecure-Requests: 1\nUser-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/74.0.3729.169 Safari/537.36\nAccept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3\nX-Forwarded-Proto: https\nAccept-Encoding: gzip, deflate, br\nAccept-Language: en-GB,en;q=0.9,en-US;q=0.8,es;q=0.7,cy;q=0.6\nCookie: JSESSIONID=4693A1F63CD3E18058F98E129D11CE57\n\n]\n...\n</code></pre>\n"},{"tags":["java","string","character","gettype"],"answers":[{"tags":[],"owner":{"account_id":160931,"reputation":69901,"user_id":381345,"accept_rate":57,"display_name":"casablanca"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1329075321,"creation_date":1329075321,"answer_id":9252000,"question_id":9251942,"body_markdown":"I tried pasting your example into Eclipse and it told me this:\r\n\r\n&gt; Some characters cannot be mapped using &quot;Cp1252&quot; character encoding.\r\n\r\nand pointed me to the first character in the string:\r\n\r\n    String wordOne = &quot;abc&quot;;\r\n\r\nIt appears there is a hidden (non-printable) character between the `&quot;` and the `a`.","title":"What could cause String.charAt(0) to print nothing, and be of character type &quot;16&quot;?","body":"<p>I tried pasting your example into Eclipse and it told me this:</p>\n\n<blockquote>\n  <p>Some characters cannot be mapped using \"Cp1252\" character encoding.</p>\n</blockquote>\n\n<p>and pointed me to the first character in the string:</p>\n\n<pre><code>String wordOne = \"abc\";\n</code></pre>\n\n<p>It appears there is a hidden (non-printable) character between the <code>\"</code> and the <code>a</code>.</p>\n"},{"tags":[],"owner":{"account_id":255665,"reputation":232816,"user_id":535871,"accept_rate":84,"display_name":"Ted Hopp"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1329075332,"creation_date":1329075332,"answer_id":9252004,"question_id":9251942,"body_markdown":"Character type 16 corresponds to Unicode [DIRECTIONALITY_RIGHT_TO_LEFT_EMBEDDING][1] (U+202B). It&#39;s an unprintable character; you can print it&#39;s hex value to confirm.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/lang/Character.html#DIRECTIONALITY_RIGHT_TO_LEFT_EMBEDDING","title":"What could cause String.charAt(0) to print nothing, and be of character type &quot;16&quot;?","body":"<p>Character type 16 corresponds to Unicode <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/Character.html#DIRECTIONALITY_RIGHT_TO_LEFT_EMBEDDING\" rel=\"nofollow\">DIRECTIONALITY_RIGHT_TO_LEFT_EMBEDDING</a> (U+202B). It's an unprintable character; you can print it's hex value to confirm.</p>\n"},{"tags":[],"owner":{"account_id":162132,"reputation":95999,"user_id":383402,"accept_rate":60,"display_name":"Borealid"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1329075385,"creation_date":1329075385,"answer_id":9252014,"question_id":9251942,"body_markdown":"Your string contains a character you&#39;re having trouble seeing (before the &#39;a&#39;). There are dozens of characters in the Unicode set which have no meaningful visual representation - this is probably one of them.\r\n\r\nThe &#39;16&#39; is the character type, for example:\r\n\r\n&gt;&gt; COMBINING_SPACING_MARK, CONNECTOR_PUNCTUATION, CONTROL, CURRENCY_SYMBOL, DASH_PUNCTUATION, DECIMAL_DIGIT_NUMBER, ENCLOSING_MARK, END_PUNCTUATION, FINAL_QUOTE_PUNCTUATION, FORMAT, INITIAL_QUOTE_PUNCTUATION, LETTER_NUMBER, LINE_SEPARATOR, LOWERCASE_LETTER, MATH_SYMBOL, MODIFIER_LETTER, MODIFIER_SYMBOL, NON_SPACING_MARK, OTHER_LETTER, OTHER_NUMBER, OTHER_PUNCTUATION, OTHER_SYMBOL, PARAGRAPH_SEPARATOR, PRIVATE_USE, SPACE_SEPARATOR, START_PUNCTUATION, SURROGATE, TITLECASE_LETTER, UNASSIGNED, UPPERCASE_LETTER\r\n\r\nAll of which are defined in the `Character` class. I can&#39;t tell you which one it is, because that&#39;s implementation-dependent in theory; you should check against those values. Or, better yet, use `Character.getName` to find the human-readable description of the character.","title":"What could cause String.charAt(0) to print nothing, and be of character type &quot;16&quot;?","body":"<p>Your string contains a character you're having trouble seeing (before the 'a'). There are dozens of characters in the Unicode set which have no meaningful visual representation - this is probably one of them.</p>\n\n<p>The '16' is the character type, for example:</p>\n\n<blockquote>\n  <blockquote>\n    <p>COMBINING_SPACING_MARK, CONNECTOR_PUNCTUATION, CONTROL, CURRENCY_SYMBOL, DASH_PUNCTUATION, DECIMAL_DIGIT_NUMBER, ENCLOSING_MARK, END_PUNCTUATION, FINAL_QUOTE_PUNCTUATION, FORMAT, INITIAL_QUOTE_PUNCTUATION, LETTER_NUMBER, LINE_SEPARATOR, LOWERCASE_LETTER, MATH_SYMBOL, MODIFIER_LETTER, MODIFIER_SYMBOL, NON_SPACING_MARK, OTHER_LETTER, OTHER_NUMBER, OTHER_PUNCTUATION, OTHER_SYMBOL, PARAGRAPH_SEPARATOR, PRIVATE_USE, SPACE_SEPARATOR, START_PUNCTUATION, SURROGATE, TITLECASE_LETTER, UNASSIGNED, UPPERCASE_LETTER</p>\n  </blockquote>\n</blockquote>\n\n<p>All of which are defined in the <code>Character</code> class. I can't tell you which one it is, because that's implementation-dependent in theory; you should check against those values. Or, better yet, use <code>Character.getName</code> to find the human-readable description of the character.</p>\n"}],"owner":{"account_id":1243540,"reputation":1907,"user_id":1205526,"accept_rate":86,"display_name":"The AI Architect"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":478,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":9252004,"answer_count":3,"score":0,"last_activity_date":1654835505,"creation_date":1329074930,"question_id":9251942,"body_markdown":"Anyone have an idea about what could be going on here? \r\n\r\nThe first block shows what I would generally expect to see - the first character of a string is in index &#39;0&#39;, with the &#39;problem&#39; string commented out, replaced by the exact same thing, however never run before.\r\n\r\n    public void finderTest(){\r\n\t\tString theDoc = &quot;Hello, I want this to work, and work well! Do you think it will work, and if not, why not?&quot;;\r\n\t\t//String wordOne = &quot;‭abc&quot;; // old, pre-used string, used to hold a comma.\r\n\t\tString wordOne = &quot;abc&quot;;// new, never run before with a comma\r\n\t\tString wordTwo = &quot;and&quot;;\r\n\t\tSystem.out.println(&quot;Type of character at index &#39;0&#39; in theDoc: &quot;+Character.getType(theDoc.charAt(0)));\r\n\t\tSystem.out.println(&quot;Character at index &#39;0&#39; in theDoc: &quot;+theDoc.charAt(0));\r\n\t\tSystem.out.println();\r\n\t\tSystem.out.println(&quot;All of wordOne: &quot;+&quot;&#39;&quot;+wordOne+&quot;&#39;&quot;);\r\n\t\tSystem.out.println(&quot;Type of character at index &#39;0&#39; in wordOne: &quot;+Character.getType(wordOne.charAt(0)));\r\n\t\tSystem.out.println(&quot;Character at index &#39;0&#39; in wordOne: &quot;+wordOne.charAt(0));\r\n\t\tSystem.out.println();\r\n\t\tSystem.out.println(&quot;Type of Character at index &#39;0&#39; in wordTwo: &quot;+Character.getType(wordTwo.charAt(0)));\r\n\t\tSystem.out.println(&quot;Character at index &#39;0&#39; in wordTwo: &quot;+wordTwo.charAt(0));\r\n\t}\r\n\r\n\r\nWhich gives output:\r\n\r\n    /*\r\n        Type of character at index &#39;0&#39; in theDoc: 1\r\n    Character at index &#39;0&#39; in theDoc: H\r\n    \r\n    All of wordOne: &#39;abc&#39;\r\n    Type of character at index &#39;0&#39; in wordOne: 2 // okay\r\n    Character at index &#39;0&#39; in wordOne: a // okay\r\n    \r\n    Type of Character at index &#39;0&#39; in wordTwo: 2\r\n    Character at index &#39;0&#39; in wordTwo: a\r\n    */\r\n\r\nThe second block has the &#39;new&#39; string commented out, and the first character of &#39;wordOne&#39; is nothing. It isn&#39;t a null character, or newline. I had been using that variable to find commas in &#39;theDoc&#39;… but when I ran it, index &#39;0&#39; held nothing, and index 1 had the comma in it. If i copy and paste the string, the problem remains. However, commenting it out / deleting it, gets rid of the issue.\r\n\r\n    \tpublic void finderTest(){\r\n\t\tString theDoc = &quot;Hello, I want this to work, and work well! Do you think it will work, and if not, why not?&quot;;\r\n\t\tString wordOne = &quot;‭abc&quot;; // now running old string, used to hold comma\r\n\t\t//String wordOne = &quot;abc&quot;; \r\n\t\tString wordTwo = &quot;and&quot;;\r\n\t\tSystem.out.println(&quot;Type of character at index &#39;0&#39; in theDoc: &quot;+Character.getType(theDoc.charAt(0)));\r\n\t\tSystem.out.println(&quot;Character at index &#39;0&#39; in theDoc: &quot;+theDoc.charAt(0));\r\n\t\tSystem.out.println();\r\n\t\tSystem.out.println(&quot;All of wordOne: &quot;+&quot;&#39;&quot;+wordOne+&quot;&#39;&quot;);\r\n\t\tSystem.out.println(&quot;Type of character at index &#39;0&#39; in wordOne: &quot;+Character.getType(wordOne.charAt(0)));\r\n\t\tSystem.out.println(&quot;Character at index &#39;0&#39; in wordOne: &quot;+wordOne.charAt(0));\r\n\t\tSystem.out.println();\r\n\t\tSystem.out.println(&quot;Type of Character at index &#39;0&#39; in wordTwo: &quot;+Character.getType(wordTwo.charAt(0)));\r\n\t\tSystem.out.println(&quot;Character at index &#39;0&#39; in wordTwo: &quot;+wordTwo.charAt(0));\r\n\t}\r\n\r\nWhich gives output:\r\n\r\n    /*  \r\n        Type of character at index &#39;0&#39; in theDoc: 1\r\n        Character at index &#39;0&#39; in theDoc: H\r\n        \r\n        All of wordOne: &#39;‭abc&#39;\r\n        Type of character at index &#39;0&#39; in wordOne: 16 // What does this mean?\r\n        Character at index &#39;0&#39; in wordOne: ‭   // where is the a? (well, its in wordOne index &#39;1&#39;... but why??)\r\n        \r\n        Type of Character at index &#39;0&#39; in wordTwo: 2\r\n        Character at index &#39;0&#39; in wordTwo: a\r\n    */\r\n\r\nIs there something about commas or symbols in java that would cause an issue like this? I tried using character arrays, cleaning the workspace to re-build everything, and nothing has changed this… Which is a huge problem for finding indices of &#39;ngrams&#39; within sentences, when some grams are things like &quot;, and&quot;. At one point last night, it was working, and then all of a sudden started not working. I&#39;m quite confused. \r\n\r\nAny ideas?\r\n","title":"What could cause String.charAt(0) to print nothing, and be of character type &quot;16&quot;?","body":"<p>Anyone have an idea about what could be going on here?</p>\n<p>The first block shows what I would generally expect to see - the first character of a string is in index '0', with the 'problem' string commented out, replaced by the exact same thing, however never run before.</p>\n<pre><code>public void finderTest(){\n    String theDoc = &quot;Hello, I want this to work, and work well! Do you think it will work, and if not, why not?&quot;;\n    //String wordOne = &quot;‭abc&quot;; // old, pre-used string, used to hold a comma.\n    String wordOne = &quot;abc&quot;;// new, never run before with a comma\n    String wordTwo = &quot;and&quot;;\n    System.out.println(&quot;Type of character at index '0' in theDoc: &quot;+Character.getType(theDoc.charAt(0)));\n    System.out.println(&quot;Character at index '0' in theDoc: &quot;+theDoc.charAt(0));\n    System.out.println();\n    System.out.println(&quot;All of wordOne: &quot;+&quot;'&quot;+wordOne+&quot;'&quot;);\n    System.out.println(&quot;Type of character at index '0' in wordOne: &quot;+Character.getType(wordOne.charAt(0)));\n    System.out.println(&quot;Character at index '0' in wordOne: &quot;+wordOne.charAt(0));\n    System.out.println();\n    System.out.println(&quot;Type of Character at index '0' in wordTwo: &quot;+Character.getType(wordTwo.charAt(0)));\n    System.out.println(&quot;Character at index '0' in wordTwo: &quot;+wordTwo.charAt(0));\n}\n</code></pre>\n<p>Which gives output:</p>\n<pre><code>/*\n    Type of character at index '0' in theDoc: 1\nCharacter at index '0' in theDoc: H\n\nAll of wordOne: 'abc'\nType of character at index '0' in wordOne: 2 // okay\nCharacter at index '0' in wordOne: a // okay\n\nType of Character at index '0' in wordTwo: 2\nCharacter at index '0' in wordTwo: a\n*/\n</code></pre>\n<p>The second block has the 'new' string commented out, and the first character of 'wordOne' is nothing. It isn't a null character, or newline. I had been using that variable to find commas in 'theDoc'… but when I ran it, index '0' held nothing, and index 1 had the comma in it. If i copy and paste the string, the problem remains. However, commenting it out / deleting it, gets rid of the issue.</p>\n<pre><code>    public void finderTest(){\n    String theDoc = &quot;Hello, I want this to work, and work well! Do you think it will work, and if not, why not?&quot;;\n    String wordOne = &quot;‭abc&quot;; // now running old string, used to hold comma\n    //String wordOne = &quot;abc&quot;; \n    String wordTwo = &quot;and&quot;;\n    System.out.println(&quot;Type of character at index '0' in theDoc: &quot;+Character.getType(theDoc.charAt(0)));\n    System.out.println(&quot;Character at index '0' in theDoc: &quot;+theDoc.charAt(0));\n    System.out.println();\n    System.out.println(&quot;All of wordOne: &quot;+&quot;'&quot;+wordOne+&quot;'&quot;);\n    System.out.println(&quot;Type of character at index '0' in wordOne: &quot;+Character.getType(wordOne.charAt(0)));\n    System.out.println(&quot;Character at index '0' in wordOne: &quot;+wordOne.charAt(0));\n    System.out.println();\n    System.out.println(&quot;Type of Character at index '0' in wordTwo: &quot;+Character.getType(wordTwo.charAt(0)));\n    System.out.println(&quot;Character at index '0' in wordTwo: &quot;+wordTwo.charAt(0));\n}\n</code></pre>\n<p>Which gives output:</p>\n<pre><code>/*  \n    Type of character at index '0' in theDoc: 1\n    Character at index '0' in theDoc: H\n    \n    All of wordOne: '‭abc'\n    Type of character at index '0' in wordOne: 16 // What does this mean?\n    Character at index '0' in wordOne: ‭   // where is the a? (well, its in wordOne index '1'... but why??)\n    \n    Type of Character at index '0' in wordTwo: 2\n    Character at index '0' in wordTwo: a\n*/\n</code></pre>\n<p>Is there something about commas or symbols in java that would cause an issue like this? I tried using character arrays, cleaning the workspace to re-build everything, and nothing has changed this… Which is a huge problem for finding indices of 'ngrams' within sentences, when some grams are things like &quot;, and&quot;. At one point last night, it was working, and then all of a sudden started not working. I'm quite confused.</p>\n<p>Any ideas?</p>\n"},{"tags":["java","maven","flyway"],"answers":[{"tags":[],"owner":{"account_id":104568,"reputation":4517,"user_id":279511,"accept_rate":76,"display_name":"tbsalling"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1534849502,"creation_date":1534849146,"answer_id":51947181,"question_id":51947119,"body_markdown":"An executable jar needs a &quot;manifest file&quot; - which is located at `META-INF/MANIFEST.MF` inside the jar. \r\n\r\nYou can use the Maven Assembly plugin to produce this manifest file in line with this:\r\n\r\n    ...\r\n\t&lt;plugin&gt;\r\n\t\t&lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.5.5&lt;/version&gt;\r\n\t\t&lt;configuration&gt;\r\n\t\t\t&lt;archive&gt;\r\n\t\t\t\t&lt;manifest&gt;\r\n\t\t\t\t\t&lt;mainClass&gt;dk.tbsalling.ais.cli.AisCli&lt;/mainClass&gt;\r\n\t\t\t\t&lt;/manifest&gt;\r\n\t\t\t&lt;/archive&gt;\r\n\t\t\t&lt;descriptorRefs&gt;\r\n\t\t\t\t&lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n\t\t\t&lt;/descriptorRefs&gt;\r\n\t\t&lt;/configuration&gt;\r\n\t\t&lt;executions&gt;\r\n\t\t\t&lt;execution&gt;\r\n\t\t\t\t&lt;id&gt;make-assembly&lt;/id&gt;\r\n\t\t\t\t&lt;phase&gt;package&lt;/phase&gt;\r\n\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t&lt;goal&gt;single&lt;/goal&gt;\r\n\t\t\t\t&lt;/goals&gt;\r\n\t\t\t&lt;/execution&gt;\r\n\t\t&lt;/executions&gt;\r\n\t&lt;/plugin&gt;\r\n    ...\r\n\r\nThe `MainClass` (referenced in the manifest file) is the class containing the `main(...)`-method called when you execute the jar.\r\n\r\nYou can have a look at https://github.com/tbsalling/aiscli/blob/master/pom.xml for a full, working example.","title":"no main manifest in maven jar","body":"<p>An executable jar needs a \"manifest file\" - which is located at <code>META-INF/MANIFEST.MF</code> inside the jar. </p>\n\n<p>You can use the Maven Assembly plugin to produce this manifest file in line with this:</p>\n\n<pre><code>...\n&lt;plugin&gt;\n    &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.5.5&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;archive&gt;\n            &lt;manifest&gt;\n                &lt;mainClass&gt;dk.tbsalling.ais.cli.AisCli&lt;/mainClass&gt;\n            &lt;/manifest&gt;\n        &lt;/archive&gt;\n        &lt;descriptorRefs&gt;\n            &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n        &lt;/descriptorRefs&gt;\n    &lt;/configuration&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;make-assembly&lt;/id&gt;\n            &lt;phase&gt;package&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;single&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n...\n</code></pre>\n\n<p>The <code>MainClass</code> (referenced in the manifest file) is the class containing the <code>main(...)</code>-method called when you execute the jar.</p>\n\n<p>You can have a look at <a href=\"https://github.com/tbsalling/aiscli/blob/master/pom.xml\" rel=\"noreferrer\">https://github.com/tbsalling/aiscli/blob/master/pom.xml</a> for a full, working example.</p>\n"},{"tags":[],"owner":{"account_id":9081336,"reputation":31,"user_id":6761073,"display_name":"Ankit Saxena"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654835185,"creation_date":1654835185,"answer_id":72569081,"question_id":51947119,"body_markdown":"Use below 2 maven plugins in pom.xml:\r\n1) maven-assembly-plugin with a goal to package all dependencies.\r\n2) maven-jar-plugin along with this to add manifest and make jar with the dependencies included by assembly plugin.\r\n\r\nSince, in assembly plugin below, appendAssemblyId is false, so final jar name will be with appname.jar only.\r\nYou can test assembly using command: &quot;mvn clean compile assembly:single&quot;. (or using Jenkins JPaC file then add the command &quot;clean compile assembly:single&quot; under mavenGoals).\r\n\r\nSee below:\r\n\r\n\t&lt;plugin&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;finalName&gt;appname&lt;/finalName&gt;\r\n\t\t\t\t\t&lt;appendAssemblyId&gt;false&lt;/appendAssemblyId&gt;\r\n\t\t\t\t\t&lt;archive&gt;\r\n\t\t\t\t\t\t&lt;manifest&gt;\r\n\t\t\t\t\t\t\t&lt;addClasspath&gt;true&lt;/addClasspath&gt;\r\n\t\t\t\t\t\t\t&lt;mainClass&gt;com.myorg.appname.MainClass&lt;/mainClass&gt;\r\n\t\t\t\t\t\t&lt;/manifest&gt;\r\n\t\t\t\t\t&lt;/archive&gt;\r\n\t\t\t\t\t&lt;descriptorRefs&gt;\r\n\t\t\t\t\t\t&lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n\t\t\t\t\t&lt;/descriptorRefs&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;id&gt;make-assembly&lt;/id&gt;\r\n\t\t\t\t\t\t&lt;phase&gt;package&lt;/phase&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;single&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t    &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n\t\t\t    &lt;configuration&gt;\r\n\t\t\t        &lt;archive&gt;\r\n\t\t\t            &lt;manifest&gt;\r\n\t\t\t                &lt;addClasspath&gt;true&lt;/addClasspath&gt;\r\n\t\t\t                &lt;classpathPrefix&gt;lib/&lt;/classpathPrefix&gt;\r\n\t\t\t                &lt;mainClass&gt;com.myorg.appname.MainClass&lt;/mainClass&gt;\r\n\t\t\t            &lt;/manifest&gt;\r\n\t\t\t        &lt;/archive&gt;\r\n\t\t\t    &lt;/configuration&gt;\r\n\t\t&lt;/plugin&gt;","title":"no main manifest in maven jar","body":"<p>Use below 2 maven plugins in pom.xml:</p>\n<ol>\n<li>maven-assembly-plugin with a goal to package all dependencies.</li>\n<li>maven-jar-plugin along with this to add manifest and make jar with the dependencies included by assembly plugin.</li>\n</ol>\n<p>Since, in assembly plugin below, appendAssemblyId is false, so final jar name will be with appname.jar only.\nYou can test assembly using command: &quot;mvn clean compile assembly:single&quot;. (or using Jenkins JPaC file then add the command &quot;clean compile assembly:single&quot; under mavenGoals).</p>\n<p>See below:</p>\n<pre><code>&lt;plugin&gt;\n            &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;finalName&gt;appname&lt;/finalName&gt;\n                &lt;appendAssemblyId&gt;false&lt;/appendAssemblyId&gt;\n                &lt;archive&gt;\n                    &lt;manifest&gt;\n                        &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n                        &lt;mainClass&gt;com.myorg.appname.MainClass&lt;/mainClass&gt;\n                    &lt;/manifest&gt;\n                &lt;/archive&gt;\n                &lt;descriptorRefs&gt;\n                    &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n                &lt;/descriptorRefs&gt;\n            &lt;/configuration&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;make-assembly&lt;/id&gt;\n                    &lt;phase&gt;package&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;single&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;archive&gt;\n                    &lt;manifest&gt;\n                        &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n                        &lt;classpathPrefix&gt;lib/&lt;/classpathPrefix&gt;\n                        &lt;mainClass&gt;com.myorg.appname.MainClass&lt;/mainClass&gt;\n                    &lt;/manifest&gt;\n                &lt;/archive&gt;\n            &lt;/configuration&gt;\n    &lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":8062719,"reputation":14158,"user_id":6077803,"accept_rate":62,"display_name":"DenCowboy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13034,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":51947181,"answer_count":2,"score":5,"last_activity_date":1654835185,"creation_date":1534848907,"question_id":51947119,"body_markdown":"I&#39;ve build [this project][1] with `mvn clean install`. Now I have a `.jar` file but I&#39;m not able to use it with:\r\n\r\n    λ java -jar flyway-commandline-xxx.jar\r\n    no main manifest attribute, in flyway-commandline-xxx.jar\r\n\r\nWhat am I missing?\r\n\r\n\r\n\r\n  [1]: https://github.com/andrevanzuydam/flyway","title":"no main manifest in maven jar","body":"<p>I've build <a href=\"https://github.com/andrevanzuydam/flyway\" rel=\"noreferrer\">this project</a> with <code>mvn clean install</code>. Now I have a <code>.jar</code> file but I'm not able to use it with:</p>\n\n<pre><code>λ java -jar flyway-commandline-xxx.jar\nno main manifest attribute, in flyway-commandline-xxx.jar\n</code></pre>\n\n<p>What am I missing?</p>\n"},{"tags":["java","datetime","long-integer","nanotime","system-clock"],"comments":[{"owner":{"account_id":3580374,"reputation":108855,"user_id":2988730,"accept_rate":96,"display_name":"Mad Physicist"},"score":0,"creation_date":1654801051,"post_id":72565296,"comment_id":128185049,"body_markdown":"Can you compute the fixed number of nanoseconds from 11-Nov-1831 to 01-Jan-1970 and just add that offset to your normal timestamps?","body":"Can you compute the fixed number of nanoseconds from 11-Nov-1831 to 01-Jan-1970 and just add that offset to your normal timestamps?"},{"owner":{"account_id":25518885,"reputation":11,"user_id":19309213,"display_name":"emal"},"score":0,"creation_date":1654802225,"post_id":72565296,"comment_id":128185358,"body_markdown":"That&#39;s a good solution but if the start date will change, we will need to calcuate it again.","body":"That&#39;s a good solution but if the start date will change, we will need to calcuate it again."},{"owner":{"account_id":3580374,"reputation":108855,"user_id":2988730,"accept_rate":96,"display_name":"Mad Physicist"},"score":0,"creation_date":1654802568,"post_id":72565296,"comment_id":128185454,"body_markdown":"Why that particular start date, out of curiosity?","body":"Why that particular start date, out of curiosity?"},{"owner":{"account_id":25518885,"reputation":11,"user_id":19309213,"display_name":"emal"},"score":0,"creation_date":1654804065,"post_id":72565296,"comment_id":128185926,"body_markdown":"No one knows, but I&#39;ll try to find out :D","body":"No one knows, but I&#39;ll try to find out :D"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1654873159,"post_id":72565296,"comment_id":128203622,"body_markdown":"11-Nov-1831 00:00:00.00 in which time zone? Do you have trustworthy time zone data for that time zone this far back? I believe that it’s from before GMT came into use (outside UK at least).","body":"11-Nov-1831 00:00:00.00 in which time zone? Do you have trustworthy time zone data for that time zone this far back? I believe that it’s from before GMT came into use (outside UK at least)."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1655052178,"post_id":72565296,"comment_id":128233710,"body_markdown":"Nanoseconds since the date you mention can be held in a `long` until year 2124, so 100 years from now. A potential new “year 2000 problem” might worry me just a bit.","body":"Nanoseconds since the date you mention can be held in a <code>long</code> until year 2124, so 100 years from now. A potential new “year 2000 problem” might worry me just a bit."},{"owner":{"account_id":25518885,"reputation":11,"user_id":19309213,"display_name":"emal"},"score":0,"creation_date":1655122655,"post_id":72565296,"comment_id":128248316,"body_markdown":"i used System default timezone","body":"i used System default timezone"}],"answers":[{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1654801326,"creation_date":1654801326,"answer_id":72565389,"question_id":72565296,"body_markdown":"`Instant` is still the best option, but you may need some helper objects.\r\n\r\nFor instance, to create the start date (replace the `Z` with a different time zone or offset as needed):\r\n```\r\nInstant start = Instant.parse(&quot;1831-11-11T00:00:00Z&quot;);\r\n```\r\n\r\nThen take the given date. You can parse it, or use conversion methods. For instance, if you have a `LocalDateTime` (use a different `ZoneId` or `ZoneOffset` as needed):\r\n```\r\nLocalDateTime localDateTime = LocalDateTime.parse(&quot;2022-06-09T20:56&quot;);\r\nInstant instant = localDateTime.atZone(ZoneId.systemDefault()).toInstant();\r\n```\r\nNow get a duration:\r\n```\r\nDuration duration = Duration.between(start, instant);\r\nlong nanos = duration.toNanos();\r\n```","title":"How to calculate nanoseconds from 1800","body":"<p><code>Instant</code> is still the best option, but you may need some helper objects.</p>\n<p>For instance, to create the start date (replace the <code>Z</code> with a different time zone or offset as needed):</p>\n<pre><code>Instant start = Instant.parse(&quot;1831-11-11T00:00:00Z&quot;);\n</code></pre>\n<p>Then take the given date. You can parse it, or use conversion methods. For instance, if you have a <code>LocalDateTime</code> (use a different <code>ZoneId</code> or <code>ZoneOffset</code> as needed):</p>\n<pre><code>LocalDateTime localDateTime = LocalDateTime.parse(&quot;2022-06-09T20:56&quot;);\nInstant instant = localDateTime.atZone(ZoneId.systemDefault()).toInstant();\n</code></pre>\n<p>Now get a duration:</p>\n<pre><code>Duration duration = Duration.between(start, instant);\nlong nanos = duration.toNanos();\n</code></pre>\n"}],"owner":{"account_id":25518885,"reputation":11,"user_id":19309213,"display_name":"emal"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":121,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1654858265,"accepted_answer_id":72565389,"answer_count":1,"score":-1,"last_activity_date":1654833968,"creation_date":1654800832,"question_id":72565296,"body_markdown":"I&#39;m trying to calculate the number of nano seconds that passed from:\r\n11-Nov-1831 00:00:00.00\r\n\r\nto a given date.\r\n\r\nI tried to use alot of packages but none of them succed in the mission\r\n(the closest was Instant)\r\n\r\nWhat&#39;s the best way to achive this mission?\r\n","title":"How to calculate nanoseconds from 1800","body":"<p>I'm trying to calculate the number of nano seconds that passed from:\n11-Nov-1831 00:00:00.00</p>\n<p>to a given date.</p>\n<p>I tried to use alot of packages but none of them succed in the mission\n(the closest was Instant)</p>\n<p>What's the best way to achive this mission?</p>\n"},{"tags":["java","error-handling"],"comments":[{"owner":{"account_id":261035,"reputation":6348,"user_id":544963,"accept_rate":100,"display_name":"fireshadow52"},"score":0,"creation_date":1654833066,"post_id":72568899,"comment_id":128191194,"body_markdown":"You&#39;re also going to get a `NullPointerException` at the `while (temp.isVisited() == true)` because `temp` is never assigned a non-null value prior to that call. I suspect in your case that the `for` loop isn&#39;t even running, though, and so when `curr = temp;` runs, you&#39;re effectively running `curr = null;` because `temp` never gets set.","body":"You&#39;re also going to get a <code>NullPointerException</code> at the <code>while (temp.isVisited() == true)</code> because <code>temp</code> is never assigned a non-null value prior to that call. I suspect in your case that the <code>for</code> loop isn&#39;t even running, though, and so when <code>curr = temp;</code> runs, you&#39;re effectively running <code>curr = null;</code> because <code>temp</code> never gets set."},{"owner":{"account_id":25521395,"reputation":1,"user_id":19311196,"display_name":"coolcatpanther"},"score":0,"creation_date":1654833591,"post_id":72568899,"comment_id":128191270,"body_markdown":"what should I set temp to be equal to then?","body":"what should I set temp to be equal to then?"},{"owner":{"account_id":261035,"reputation":6348,"user_id":544963,"accept_rate":100,"display_name":"fireshadow52"},"score":0,"creation_date":1654836298,"post_id":72568899,"comment_id":128191650,"body_markdown":"I&#39;m not sure. But you could turn the `while` loop into a `do-while` loop; that way `temp` will actually have a value when the condition is checked.","body":"I&#39;m not sure. But you could turn the <code>while</code> loop into a <code>do-while</code> loop; that way <code>temp</code> will actually have a value when the condition is checked."}],"owner":{"account_id":25521395,"reputation":1,"user_id":19311196,"display_name":"coolcatpanther"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1654832745,"answer_count":0,"score":0,"last_activity_date":1654832675,"creation_date":1654832675,"question_id":72568899,"body_markdown":"I am not sure why I am getting this error can anyone help\r\n```\r\nint count=0;\r\n\t\tpositions curr=new positions(0,0);\r\n\t\t\r\n\t\twhile(count!=64) {\r\n\t\t\tpositions temp=null;\r\n\t\t\tfor(int i=0; i&lt;p.length; i++) {\r\n\t\t\t\tfor(int j=0; j&lt;p[0].length; j++) {\r\n\t\t\t\t\tif(p[i][j].equals(curr)) {\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\twhile(temp.isVisited()!=true) {\r\n\t\t\t\t\t\t\tArrayList&lt;positions&gt; k =curr.getpositions(p, curr);\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\ttemp=k.get(0);\r\n\t\t\t\t\t\t\tfor(int l=1; l&lt;k.size(); l++) {\r\n\t\t\t\t\t\t\t\tif(k.get(l).getMoves()&lt;temp.getMoves()) {\r\n\t\t\t\t\t\t\t\t\ttemp=k.get(l);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tcurr=temp;\r\n\t\t\tsolution[curr.getRow()][curr.getCol()]=count;\r\n\t\t\tcount++;\r\n\t\t\t\r\n\t\t}\r\n```\r\nmy error is\r\nException in thread &quot;main&quot; java.lang.NullPointerException: Cannot invoke &quot;positions.getRow()&quot; because &quot;curr&quot; is null\r\n\tat Main.main(Main.java:41)","title":"Null pointer exception with a object","body":"<p>I am not sure why I am getting this error can anyone help</p>\n<pre><code>int count=0;\n        positions curr=new positions(0,0);\n        \n        while(count!=64) {\n            positions temp=null;\n            for(int i=0; i&lt;p.length; i++) {\n                for(int j=0; j&lt;p[0].length; j++) {\n                    if(p[i][j].equals(curr)) {\n                        \n                        \n                        while(temp.isVisited()!=true) {\n                            ArrayList&lt;positions&gt; k =curr.getpositions(p, curr);\n                            \n                            temp=k.get(0);\n                            for(int l=1; l&lt;k.size(); l++) {\n                                if(k.get(l).getMoves()&lt;temp.getMoves()) {\n                                    temp=k.get(l);\n                                }\n                            }\n                            \n                        }\n                        \n                    }\n                    \n                }\n            }\n            curr=temp;\n            solution[curr.getRow()][curr.getCol()]=count;\n            count++;\n            \n        }\n</code></pre>\n<p>my error is\nException in thread &quot;main&quot; java.lang.NullPointerException: Cannot invoke &quot;positions.getRow()&quot; because &quot;curr&quot; is null\nat Main.main(Main.java:41)</p>\n"},{"tags":["java","elasticsearch","groovy","elastic-stack"],"answers":[{"tags":[],"owner":{"account_id":24908380,"reputation":3091,"user_id":18778181,"display_name":"rabbitbr"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1654830334,"creation_date":1654830334,"answer_id":72568700,"question_id":72560452,"body_markdown":"You can try this way:\r\n\r\n        SuggestBuilder sb = new SuggestBuilder();\r\n    \r\n        List&lt;CategoryQueryContext&gt; ctx = new ArrayList&lt;&gt;();\r\n        ctx.add(CategoryQueryContext.builder().setCategory(&quot;en&quot;).build());\r\n        Map&lt;String, List&lt;? extends ToXContent&gt;&gt; map = Collections.singletonMap(&quot;lang&quot;, ctx);\r\n        \r\n        sb.addSuggestion(&quot;completeMe&quot;, SuggestBuilders.completionSuggestion(&quot;name_suggest&quot;).text(term).contexts(map));\r\n        SearchSourceBuilder sourceBuilder = new SearchSourceBuilder();\r\n        sourceBuilder.query(query);\r\n        sourceBuilder.suggest(sb);\r\n        SearchRequest searchRequest = new SearchRequest();\r\n        searchRequest.source(sourceBuilder);\r\n        searchRequest.indices(AUTOCOMPLETE_TERMS_ALIAS + &quot;_v4&quot;);\r\n    \r\n        SearchRequest request = new SearchRequest();\r\n        request.source(sourceBuilder);\r\n        SearchResponse suggestResponse = restHighLevelClient.search(request, RequestOptions.DEFAULT);","title":"elasticsearch 7.X suggestion autocomplition how to translate to java?","body":"<p>You can try this way:</p>\n<pre><code>    SuggestBuilder sb = new SuggestBuilder();\n\n    List&lt;CategoryQueryContext&gt; ctx = new ArrayList&lt;&gt;();\n    ctx.add(CategoryQueryContext.builder().setCategory(&quot;en&quot;).build());\n    Map&lt;String, List&lt;? extends ToXContent&gt;&gt; map = Collections.singletonMap(&quot;lang&quot;, ctx);\n    \n    sb.addSuggestion(&quot;completeMe&quot;, SuggestBuilders.completionSuggestion(&quot;name_suggest&quot;).text(term).contexts(map));\n    SearchSourceBuilder sourceBuilder = new SearchSourceBuilder();\n    sourceBuilder.query(query);\n    sourceBuilder.suggest(sb);\n    SearchRequest searchRequest = new SearchRequest();\n    searchRequest.source(sourceBuilder);\n    searchRequest.indices(AUTOCOMPLETE_TERMS_ALIAS + &quot;_v4&quot;);\n\n    SearchRequest request = new SearchRequest();\n    request.source(sourceBuilder);\n    SearchResponse suggestResponse = restHighLevelClient.search(request, RequestOptions.DEFAULT);\n</code></pre>\n"}],"owner":{"account_id":4472160,"reputation":9650,"user_id":10415047,"display_name":"R2D2"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72568700,"answer_count":1,"score":0,"last_activity_date":1654830334,"creation_date":1654778447,"question_id":72560452,"body_markdown":"I am new to elasticsearch and java and attempting to implement autocomplition with elasticsearch backend in my application.\r\n\r\nHere is the problem description:\r\n\r\nif I make following query with the context like this it works from the kibana/elastic/dev console:\r\n\r\n      POST /autocompleteterms_v20/_search\r\n     {\r\n     &quot;suggest&quot;: {\r\n    &quot;completeMe&quot;: {\r\n      &quot;text&quot;: &quot;spirit&quot;,\r\n      &quot;completion&quot;: {\r\n        &quot;field&quot;: &quot;name_suggest&quot;,\r\n        &quot;contexts&quot;: {\r\n          &quot;lang&quot;: [ &quot;en&quot; ]\r\n        }\r\n      }\r\n     }\r\n    }\r\n    }\r\n\r\n\r\nBut when I do it from java:\r\n\r\n    SuggestBuilder sb = new SuggestBuilder()\r\n\r\n    LinkedHashMap&lt;String, ContextMapping&gt; map = new LinkedHashMap&lt;&gt;();\r\n        map.put(prefLang, ContextBuilder.category(&quot;lang&quot;).field(&quot;lang&quot;).build())\r\n    sb.addSuggestion(&quot;completeMe&quot;, SuggestBuilders.completionSuggestion(&quot;name_suggest&quot; ).text(term).contexts(map))\r\n    SearchSourceBuilder sourceBuilder = new SearchSourceBuilder()\r\n        sourceBuilder.query(query)\r\n    sourceBuilder.suggest(sb)\r\n    SearchRequest searchRequest = new SearchRequest()\r\n    searchRequest.source(sourceBuilder)\r\n    searchRequest.indices(AUTOCOMPLETE_TERMS_ALIAS + &quot;_v4&quot;)\r\n\r\n    SearchRequest request = new SearchRequest()\r\n    request.source(sourceBuilder)\r\n    SearchResponse suggestResponse = restHighLevelClient.search(request, RequestOptions.DEFAULT)\r\n\r\n\r\n    int count = 5\r\n\r\n    if (suggestResponse.getHits().size() &gt; 0) {\r\n        for (Suggest.Suggestion.Entry.Option next : suggestResponse.getSuggest().getSuggestion(&quot;completeMe&quot;).iterator().next().getOptions()) {\r\n            if (count &lt; 0) break\r\n            count--\r\n\r\n            def text = next.getText().string()\r\n            result.getOptions().add(new AutocompleteResult.SuggestOption(text))\r\n\r\n            if (log.isTraceEnabled()) {\r\n                log.trace(&quot;Got suggestion: {}&quot;, text)\r\n            }\r\n        }\r\n      }\r\n    }\r\n\r\nIs not successful and I receive the following error:\r\n\r\n      org.codehaus.groovy.runtime.metaclass.MethodSelectionException: Could not find which method \r\n      &lt;init&gt;() to invoke from this list:\r\n      public org.elasticsearch.search.suggest.completion.CompletionSuggestionBuilder#&lt;init&gt; \r\n      (org.elasticsearch.common.io.stream.StreamInput)\r\n      private org.elasticsearch.search.suggest.completion.CompletionSuggestionBuilder#&lt;init&gt; \r\n     (java.lang.String, org.elasticsearch.search.suggest.completion.CompletionSuggestionBuilder)\r\n     groovy.lang.MissingPropertyException: No such property: ContextBuilder for class: \r\n     org.proj.myproj.content.index.elasticsearch.ElasticSearchService\r\n     at org.codehaus.groovy.runtime.ScriptBytecodeAdapter.unwrap(ScriptBytecodeAdapter.java:65) ~ \r\n     [groovy-3.0.9.jar:3.0.9]\r\n    at org.codehaus.groovy.runtime.callsite.GetEffectivePogoPropertySite.getProperty(GetEffectivePogoPropertySite.java:87) ~[groovy-3.0.9.jar:3.0.9]\r\n    at org.codehaus.groovy.runtime.callsite.AbstractCallSite.callGroovyObjectGetProperty(AbstractCallSite.java:341) ~[groovy-3.0.9.jar:3.0.9]\r\n    at org.proj.myproj.content.index.elasticsearch.ElasticSearchService.getSuggestions(ElasticSearchService:291) ~[na:na]\r\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\r\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n    at org.codehaus.groovy.runtime.callsite.PlainObjectMetaMethodSite.doInvoke(PlainObjectMetaMethodSite.java:43) ~[groovy-3.0.9.jar:3.0.9]\r\n    at org.codehaus.groovy.runtime.callsite.PogoMetaMethodSite$PogoCachedMethodSiteNoUnwrapNoCoerce.invoke(PogoMetaMethodSite.java:193) ~[groovy-3.0.9.jar:3.0.9]\r\n    at org.codehaus.groovy.runtime.callsite.PogoMetaMethodSite.callCurrent(PogoMetaMethodSite.java:61) ~[groovy-3.0.9.jar:3.0.9]\r\n    at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCallCurrent(CallSiteArray.java:51) ~[groovy-3.0.9.jar:3.0.9]\r\n    at org.codehaus.groovy.runtime.callsite.AbstractCallSite.callCurrent(AbstractCallSite.java:171) ~[groovy-3.0.9.jar:3.0.9]\r\n    at org.codehaus.groovy.runtime.callsite.AbstractCallSite.callCurrent(AbstractCallSite.java:203) ~[groovy-3.0.9.jar:3.0.9]\r\n    at org.proj.myproj.content.index.elasticsearch.ElasticSearchService.get(ElasticSearchService:153) ~[na:na]\r\n    at org.proj.myproj.controller.SearchController.autocomplete(SearchController.java:85) ~[classes/:na]\r\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\r\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n\r\n\r\nAny idea what I do wrong?","title":"elasticsearch 7.X suggestion autocomplition how to translate to java?","body":"<p>I am new to elasticsearch and java and attempting to implement autocomplition with elasticsearch backend in my application.</p>\n<p>Here is the problem description:</p>\n<p>if I make following query with the context like this it works from the kibana/elastic/dev console:</p>\n<pre><code>  POST /autocompleteterms_v20/_search\n {\n &quot;suggest&quot;: {\n&quot;completeMe&quot;: {\n  &quot;text&quot;: &quot;spirit&quot;,\n  &quot;completion&quot;: {\n    &quot;field&quot;: &quot;name_suggest&quot;,\n    &quot;contexts&quot;: {\n      &quot;lang&quot;: [ &quot;en&quot; ]\n    }\n  }\n }\n}\n}\n</code></pre>\n<p>But when I do it from java:</p>\n<pre><code>SuggestBuilder sb = new SuggestBuilder()\n\nLinkedHashMap&lt;String, ContextMapping&gt; map = new LinkedHashMap&lt;&gt;();\n    map.put(prefLang, ContextBuilder.category(&quot;lang&quot;).field(&quot;lang&quot;).build())\nsb.addSuggestion(&quot;completeMe&quot;, SuggestBuilders.completionSuggestion(&quot;name_suggest&quot; ).text(term).contexts(map))\nSearchSourceBuilder sourceBuilder = new SearchSourceBuilder()\n    sourceBuilder.query(query)\nsourceBuilder.suggest(sb)\nSearchRequest searchRequest = new SearchRequest()\nsearchRequest.source(sourceBuilder)\nsearchRequest.indices(AUTOCOMPLETE_TERMS_ALIAS + &quot;_v4&quot;)\n\nSearchRequest request = new SearchRequest()\nrequest.source(sourceBuilder)\nSearchResponse suggestResponse = restHighLevelClient.search(request, RequestOptions.DEFAULT)\n\n\nint count = 5\n\nif (suggestResponse.getHits().size() &gt; 0) {\n    for (Suggest.Suggestion.Entry.Option next : suggestResponse.getSuggest().getSuggestion(&quot;completeMe&quot;).iterator().next().getOptions()) {\n        if (count &lt; 0) break\n        count--\n\n        def text = next.getText().string()\n        result.getOptions().add(new AutocompleteResult.SuggestOption(text))\n\n        if (log.isTraceEnabled()) {\n            log.trace(&quot;Got suggestion: {}&quot;, text)\n        }\n    }\n  }\n}\n</code></pre>\n<p>Is not successful and I receive the following error:</p>\n<pre><code>  org.codehaus.groovy.runtime.metaclass.MethodSelectionException: Could not find which method \n  &lt;init&gt;() to invoke from this list:\n  public org.elasticsearch.search.suggest.completion.CompletionSuggestionBuilder#&lt;init&gt; \n  (org.elasticsearch.common.io.stream.StreamInput)\n  private org.elasticsearch.search.suggest.completion.CompletionSuggestionBuilder#&lt;init&gt; \n (java.lang.String, org.elasticsearch.search.suggest.completion.CompletionSuggestionBuilder)\n groovy.lang.MissingPropertyException: No such property: ContextBuilder for class: \n org.proj.myproj.content.index.elasticsearch.ElasticSearchService\n at org.codehaus.groovy.runtime.ScriptBytecodeAdapter.unwrap(ScriptBytecodeAdapter.java:65) ~ \n [groovy-3.0.9.jar:3.0.9]\nat org.codehaus.groovy.runtime.callsite.GetEffectivePogoPropertySite.getProperty(GetEffectivePogoPropertySite.java:87) ~[groovy-3.0.9.jar:3.0.9]\nat org.codehaus.groovy.runtime.callsite.AbstractCallSite.callGroovyObjectGetProperty(AbstractCallSite.java:341) ~[groovy-3.0.9.jar:3.0.9]\nat org.proj.myproj.content.index.elasticsearch.ElasticSearchService.getSuggestions(ElasticSearchService:291) ~[na:na]\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\nat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\nat org.codehaus.groovy.runtime.callsite.PlainObjectMetaMethodSite.doInvoke(PlainObjectMetaMethodSite.java:43) ~[groovy-3.0.9.jar:3.0.9]\nat org.codehaus.groovy.runtime.callsite.PogoMetaMethodSite$PogoCachedMethodSiteNoUnwrapNoCoerce.invoke(PogoMetaMethodSite.java:193) ~[groovy-3.0.9.jar:3.0.9]\nat org.codehaus.groovy.runtime.callsite.PogoMetaMethodSite.callCurrent(PogoMetaMethodSite.java:61) ~[groovy-3.0.9.jar:3.0.9]\nat org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCallCurrent(CallSiteArray.java:51) ~[groovy-3.0.9.jar:3.0.9]\nat org.codehaus.groovy.runtime.callsite.AbstractCallSite.callCurrent(AbstractCallSite.java:171) ~[groovy-3.0.9.jar:3.0.9]\nat org.codehaus.groovy.runtime.callsite.AbstractCallSite.callCurrent(AbstractCallSite.java:203) ~[groovy-3.0.9.jar:3.0.9]\nat org.proj.myproj.content.index.elasticsearch.ElasticSearchService.get(ElasticSearchService:153) ~[na:na]\nat org.proj.myproj.controller.SearchController.autocomplete(SearchController.java:85) ~[classes/:na]\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\nat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n</code></pre>\n<p>Any idea what I do wrong?</p>\n"},{"tags":["java","spring","spring-boot","hibernate","maven"],"comments":[{"owner":{"account_id":16614767,"reputation":125,"user_id":12006773,"display_name":"Priyesh Jakhmola"},"score":0,"creation_date":1654828541,"post_id":72568454,"comment_id":128190565,"body_markdown":"With ‘’’@valid’’’ you want to make sure that you always get values in your api request right? You can user ‘’’@Required’’’ and see if that solves your problem.","body":"With ‘’’@valid’’’ you want to make sure that you always get values in your api request right? You can user ‘’’@Required’’’ and see if that solves your problem."},{"owner":{"account_id":6166128,"reputation":25,"user_id":4805972,"display_name":"Ashley-Richard Walker"},"score":0,"creation_date":1654829479,"post_id":72568454,"comment_id":128190683,"body_markdown":"@PriyeshJakhmola `@Valid` should make the controller method validate that the request body has the necessary field. I looked for a `@Required` but if you&#39;re referring to `org.springframework.beans.factory.annotation.Required` it&#39;s deprecated.","body":"@PriyeshJakhmola <code>@Valid</code> should make the controller method validate that the request body has the necessary field. I looked for a <code>@Required</code> but if you&#39;re referring to <code>org.springframework.beans.factory.annotation.Required</code> it&#39;s deprecated."}],"answers":[{"tags":[],"owner":{"account_id":6166128,"reputation":25,"user_id":4805972,"display_name":"Ashley-Richard Walker"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654830152,"creation_date":1654830152,"answer_id":72568681,"question_id":72568454,"body_markdown":"This issue was that the `jakarta.validation-api` does not work with `@Validated`. I had to use `javax.validation`\r\n\r\nThe code worked as expected after I removed the below dependencies:\r\n```\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;jakarta.validation&lt;/groupId&gt;\r\n  &lt;artifactId&gt;jakarta.validation-api&lt;/artifactId&gt;\r\n  &lt;version&gt;3.0.2&lt;/version&gt;\r\n &lt;/dependency&gt;\r\n\r\n &lt;dependency&gt;\r\n   &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\r\n   &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n   &lt;version&gt;7.0.4.Final&lt;/version&gt;\r\n &lt;/dependency&gt;\r\n```","title":"Spring @RestController not honoring @Validated","body":"<p>This issue was that the <code>jakarta.validation-api</code> does not work with <code>@Validated</code>. I had to use <code>javax.validation</code></p>\n<p>The code worked as expected after I removed the below dependencies:</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;jakarta.validation&lt;/groupId&gt;\n  &lt;artifactId&gt;jakarta.validation-api&lt;/artifactId&gt;\n  &lt;version&gt;3.0.2&lt;/version&gt;\n &lt;/dependency&gt;\n\n &lt;dependency&gt;\n   &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\n   &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n   &lt;version&gt;7.0.4.Final&lt;/version&gt;\n &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":6166128,"reputation":25,"user_id":4805972,"display_name":"Ashley-Richard Walker"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1429,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654830152,"creation_date":1654827583,"question_id":72568454,"body_markdown":"I recently upgraded to Spring Boot 2.7.0, and my the request body validations stopped working. From my research so far, I&#39;ve learnt that the\r\n```\r\n &lt;dependency&gt;\r\n   &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n   &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n &lt;/dependency&gt;\r\n```\r\nis required after Spring Boot 2.3.0.\r\n\r\nI&#39;ve added the dependency and verified that it is the only validation jar on the classpath is `jakarta.validation` (not `javax.validation`).\r\n\r\nHere&#39;s the Controller class:\r\n```\r\n@RestController\r\n@RequestMapping(&quot;v1/services&quot;)\r\n@Validated\r\npublic class ServiceController {\r\n  @PutMapping(\r\n            path = &quot;/{id}&quot;,\r\n            consumes = APPLICATION_JSON_VALUE,\r\n            produces = APPLICATION_JSON_VALUE\r\n    )\r\n    @Validated(OnUpdate.class)\r\n    public ResponseEntity&lt;Service&gt; updateService(@PathVariable(&quot;id&quot;) int serviceId,\r\n                                                 @Valid @RequestBody Service service) {\r\n     // Implementation omitted for brevity\r\n  }\r\n}\r\n```\r\n\r\nHere is the domain class:\r\n```\r\n@Component\r\npublic class Service {\r\n\r\n    private int id;\r\n\r\n    NotNull(message = &quot;Current status is required&quot;, groups = {OnCreate.class, OnUpdate.class})\r\n    private ServiceStatus currentStatus; // The field I want to validate\r\n}\r\n```\r\n\r\nMy partial pom.xml:\r\n```\r\n&lt;parent&gt;\r\n   &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n   &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n   &lt;version&gt;2.7.0&lt;/version&gt;\r\n   &lt;relativePath/&gt; &lt;!-- lookup parent from repository --\r\n&lt;/parent&gt;\r\n\r\n &lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n &lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;jakarta.validation&lt;/groupId&gt;\r\n  &lt;artifactId&gt;jakarta.validation-api&lt;/artifactId&gt;\r\n  &lt;version&gt;3.0.2&lt;/version&gt;\r\n &lt;/dependency&gt;\r\n\r\n &lt;dependency&gt;\r\n   &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\r\n   &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n   &lt;version&gt;7.0.4.Final&lt;/version&gt;\r\n &lt;/dependency&gt;\r\n\r\n```\r\nMy dependency tree:\r\n```\r\n[INFO] +- org.springframework.boot:spring-boot-starter:jar:2.7.0:compile\r\n[INFO] |  +- org.springframework.boot:spring-boot:jar:2.7.0:compile\r\n[INFO] |  |  \\- org.springframework:spring-context:jar:5.3.20:compile\r\n[INFO] |  +- org.springframework.boot:spring-boot-autoconfigure:jar:2.7.0:compile\r\n[INFO] |  +- org.springframework.boot:spring-boot-starter-logging:jar:2.7.0:compile\r\n[INFO] |  |  +- ch.qos.logback:logback-classic:jar:1.2.11:compile\r\n[INFO] |  |  |  \\- ch.qos.logback:logback-core:jar:1.2.11:compile\r\n[INFO] |  |  +- org.apache.logging.log4j:log4j-to-slf4j:jar:2.17.2:compile\r\n[INFO] |  |  |  \\- org.apache.logging.log4j:log4j-api:jar:2.17.2:compile\r\n[INFO] |  |  \\- org.slf4j:jul-to-slf4j:jar:1.7.36:compile\r\n[INFO] |  +- jakarta.annotation:jakarta.annotation-api:jar:1.3.5:compile\r\n[INFO] |  +- org.springframework:spring-core:jar:5.3.20:compile\r\n[INFO] |  |  \\- org.springframework:spring-jcl:jar:5.3.20:compile\r\n[INFO] |  \\- org.yaml:snakeyaml:jar:1.30:compile\r\n[INFO] +- org.springframework.boot:spring-boot-starter-web:jar:2.7.0:compile\r\n[INFO] |  +- org.springframework.boot:spring-boot-starter-json:jar:2.7.0:compile\r\n[INFO] |  |  +- com.fasterxml.jackson.core:jackson-databind:jar:2.13.3:compile\r\n[INFO] |  |  |  \\- com.fasterxml.jackson.core:jackson-annotations:jar:2.13.3:compile\r\n[INFO] |  |  +- com.fasterxml.jackson.datatype:jackson-datatype-jdk8:jar:2.13.3:compile\r\n[INFO] |  |  +- com.fasterxml.jackson.datatype:jackson-datatype-jsr310:jar:2.13.3:compile\r\n[INFO] |  |  \\- com.fasterxml.jackson.module:jackson-module-parameter-names:jar:2.13.3:compile\r\n[INFO] |  +- org.springframework.boot:spring-boot-starter-tomcat:jar:2.7.0:compile\r\n[INFO] |  |  +- org.apache.tomcat.embed:tomcat-embed-core:jar:9.0.63:compile\r\n[INFO] |  |  \\- org.apache.tomcat.embed:tomcat-embed-websocket:jar:9.0.63:compile\r\n[INFO] |  +- org.springframework:spring-web:jar:5.3.20:compile\r\n[INFO] |  |  \\- org.springframework:spring-beans:jar:5.3.20:compile\r\n[INFO] |  \\- org.springframework:spring-webmvc:jar:5.3.20:compile\r\n[INFO] |     +- org.springframework:spring-aop:jar:5.3.20:compile\r\n[INFO] |     \\- org.springframework:spring-expression:jar:5.3.20:compile\r\n[INFO] +- org.springframework.boot:spring-boot-starter-jdbc:jar:2.7.0:compile\r\n[INFO] |  +- com.zaxxer:HikariCP:jar:4.0.3:compile\r\n[INFO] |  |  \\- org.slf4j:slf4j-api:jar:1.7.36:compile\r\n[INFO] |  \\- org.springframework:spring-jdbc:jar:5.3.20:compile\r\n[INFO] |     \\- org.springframework:spring-tx:jar:5.3.20:compile\r\n[INFO] +- org.springframework.boot:spring-boot-starter-validation:jar:2.7.0:compile\r\n[INFO] |  \\- org.apache.tomcat.embed:tomcat-embed-el:jar:9.0.63:compile\r\n[INFO] +- org.springframework.boot:spring-boot-devtools:jar:2.7.0:compile\r\n[INFO] +- org.springdoc:springdoc-openapi-ui:jar:1.6.9:compile\r\n[INFO] |  +- org.springdoc:springdoc-openapi-webmvc-core:jar:1.6.9:compile\r\n[INFO] |  |  \\- org.springdoc:springdoc-openapi-common:jar:1.6.9:compile\r\n[INFO] |  |     \\- io.swagger.core.v3:swagger-core:jar:2.2.0:compile\r\n[INFO] |  |        +- org.apache.commons:commons-lang3:jar:3.12.0:compile\r\n[INFO] |  |        +- com.fasterxml.jackson.dataformat:jackson-dataformat-yaml:jar:2.13.3:compile\r\n[INFO] |  |        +- io.swagger.core.v3:swagger-annotations:jar:2.2.0:compile\r\n[INFO] |  |        \\- io.swagger.core.v3:swagger-models:jar:2.2.0:compile\r\n[INFO] |  +- org.webjars:swagger-ui:jar:4.11.1:compile\r\n[INFO] |  \\- org.webjars:webjars-locator-core:jar:0.50:compile\r\n[INFO] |     \\- com.fasterxml.jackson.core:jackson-core:jar:2.13.3:compile\r\n[INFO] +- io.github.classgraph:classgraph:jar:4.8.147:compile\r\n[INFO] +- jakarta.validation:jakarta.validation-api:jar:3.0.2:compile\r\n[INFO] +- org.hibernate.validator:hibernate-validator:jar:7.0.4.Final:compile\r\n[INFO] |  +- org.jboss.logging:jboss-logging:jar:3.4.3.Final:compile\r\n[INFO] |  \\- com.fasterxml:classmate:jar:1.5.1:compile\r\n[INFO] +- com.h2database:h2:jar:2.1.212:runtime\r\n[INFO] +- org.springframework.boot:spring-boot-starter-test:jar:2.7.0:test\r\n[INFO] |  +- org.springframework.boot:spring-boot-test:jar:2.7.0:test\r\n[INFO] |  +- org.springframework.boot:spring-boot-test-autoconfigure:jar:2.7.0:test\r\n[INFO] |  +- com.jayway.jsonpath:json-path:jar:2.7.0:test\r\n[INFO] |  |  \\- net.minidev:json-smart:jar:2.4.8:test\r\n[INFO] |  |     \\- net.minidev:accessors-smart:jar:2.4.8:test\r\n[INFO] |  |        \\- org.ow2.asm:asm:jar:9.1:test\r\n[INFO] |  +- jakarta.xml.bind:jakarta.xml.bind-api:jar:2.3.3:compile\r\n[INFO] |  |  \\- jakarta.activation:jakarta.activation-api:jar:1.2.2:compile\r\n[INFO] |  +- org.assertj:assertj-core:jar:3.22.0:test\r\n[INFO] |  +- org.hamcrest:hamcrest:jar:2.2:test\r\n[INFO] |  +- org.junit.jupiter:junit-jupiter:jar:5.8.2:test\r\n[INFO] |  |  +- org.junit.jupiter:junit-jupiter-api:jar:5.8.2:test\r\n[INFO] |  |  +- org.junit.jupiter:junit-jupiter-params:jar:5.8.2:test\r\n[INFO] |  |  \\- org.junit.jupiter:junit-jupiter-engine:jar:5.8.2:test\r\n[INFO] |  +- org.mockito:mockito-core:jar:4.5.1:test\r\n[INFO] |  |  +- net.bytebuddy:byte-buddy:jar:1.12.10:test\r\n[INFO] |  |  +- net.bytebuddy:byte-buddy-agent:jar:1.12.10:test\r\n[INFO] |  |  \\- org.objenesis:objenesis:jar:3.2:test\r\n[INFO] |  +- org.mockito:mockito-junit-jupiter:jar:4.5.1:test\r\n[INFO] |  +- org.skyscreamer:jsonassert:jar:1.5.0:test\r\n[INFO] |  |  \\- com.vaadin.external.google:android-json:jar:0.0.20131108.vaadin1:test\r\n[INFO] |  +- org.springframework:spring-test:jar:5.3.20:test\r\n[INFO] |  \\- org.xmlunit:xmlunit-core:jar:2.9.0:test\r\n[INFO] +- org.spockframework:spock-core:jar:2.1-groovy-3.0:test\r\n[INFO] |  +- org.codehaus.groovy:groovy:jar:3.0.10:test\r\n[INFO] |  \\- org.junit.platform:junit-platform-engine:jar:1.8.2:test\r\n[INFO] |     +- org.opentest4j:opentest4j:jar:1.2.0:test\r\n[INFO] |     +- org.junit.platform:junit-platform-commons:jar:1.8.2:test\r\n[INFO] |     \\- org.apiguardian:apiguardian-api:jar:1.1.2:test\r\n[INFO] +- org.spockframework:spock-spring:jar:2.1-groovy-3.0:test\r\n[INFO] +- org.codehaus.groovy:groovy-json:jar:3.0.10:test\r\n[INFO] \\- junit:junit:jar:4.13.2:test\r\n[INFO]    \\- org.hamcrest:hamcrest-core:jar:2.2:test\r\n```\r\n\r\nLastly, I&#39;m confident it&#39;s not the jakarta package because the following unit test passed:\r\n```\r\nimport jakarta.validation.ConstraintViolation\r\nimport jakarta.validation.Validation\r\nimport jakarta.validation.Validator\r\n\r\ndef &#39;Null status on update should trigger violation&#39;() {\r\n\r\n        given: &#39;I have an invalid service&#39;\r\n        final LocalDate may4th2021 = LocalDate.of(2021, 5, 4)\r\n\r\n        Service serviceWithoutStatus = new Service(\r\n                id: 1,\r\n                contractId: 2,\r\n                dueDate: may4th2021,\r\n                currentStatus: null, // N.B. the violation\r\n                history: []\r\n        )\r\n\r\n        when: &#39;I validate the client&#39;\r\n        Validator validator = Validation.byDefaultProvider()\r\n                .configure()\r\n                .messageInterpolator(new ParameterMessageInterpolator())\r\n                .buildValidatorFactory()\r\n                .getValidator()\r\n\r\n        Set&lt;ConstraintViolation&lt;Service&gt;&gt; violations = validator.validate(serviceWithoutStatus, OnUpdate.class)\r\n\r\n        then: &#39;There should be violations&#39;\r\n        !violations.isEmpty()\r\n        violations.size() == 1\r\n    }\r\n```\r\n\r\nEdit: I am using Java 11\r\n```\r\nopenjdk version &quot;11.0.9.1&quot; 2020-11-04 LTS\r\nOpenJDK Runtime Environment Zulu11.43+1015-CA (build 11.0.9.1+1-LTS)\r\nOpenJDK 64-Bit Server VM Zulu11.43+1015-CA (build 11.0.9.1+1-LTS, mixed mode)\r\n\r\n``` \r\n\r\nAny help would greatly be appreciated. Thank you.","title":"Spring @RestController not honoring @Validated","body":"<p>I recently upgraded to Spring Boot 2.7.0, and my the request body validations stopped working. From my research so far, I've learnt that the</p>\n<pre><code> &lt;dependency&gt;\n   &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n   &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n &lt;/dependency&gt;\n</code></pre>\n<p>is required after Spring Boot 2.3.0.</p>\n<p>I've added the dependency and verified that it is the only validation jar on the classpath is <code>jakarta.validation</code> (not <code>javax.validation</code>).</p>\n<p>Here's the Controller class:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;v1/services&quot;)\n@Validated\npublic class ServiceController {\n  @PutMapping(\n            path = &quot;/{id}&quot;,\n            consumes = APPLICATION_JSON_VALUE,\n            produces = APPLICATION_JSON_VALUE\n    )\n    @Validated(OnUpdate.class)\n    public ResponseEntity&lt;Service&gt; updateService(@PathVariable(&quot;id&quot;) int serviceId,\n                                                 @Valid @RequestBody Service service) {\n     // Implementation omitted for brevity\n  }\n}\n</code></pre>\n<p>Here is the domain class:</p>\n<pre><code>@Component\npublic class Service {\n\n    private int id;\n\n    NotNull(message = &quot;Current status is required&quot;, groups = {OnCreate.class, OnUpdate.class})\n    private ServiceStatus currentStatus; // The field I want to validate\n}\n</code></pre>\n<p>My partial pom.xml:</p>\n<pre><code>&lt;parent&gt;\n   &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n   &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n   &lt;version&gt;2.7.0&lt;/version&gt;\n   &lt;relativePath/&gt; &lt;!-- lookup parent from repository --\n&lt;/parent&gt;\n\n &lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n &lt;/dependency&gt;\n\n&lt;dependency&gt;\n  &lt;groupId&gt;jakarta.validation&lt;/groupId&gt;\n  &lt;artifactId&gt;jakarta.validation-api&lt;/artifactId&gt;\n  &lt;version&gt;3.0.2&lt;/version&gt;\n &lt;/dependency&gt;\n\n &lt;dependency&gt;\n   &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\n   &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n   &lt;version&gt;7.0.4.Final&lt;/version&gt;\n &lt;/dependency&gt;\n\n</code></pre>\n<p>My dependency tree:</p>\n<pre><code>[INFO] +- org.springframework.boot:spring-boot-starter:jar:2.7.0:compile\n[INFO] |  +- org.springframework.boot:spring-boot:jar:2.7.0:compile\n[INFO] |  |  \\- org.springframework:spring-context:jar:5.3.20:compile\n[INFO] |  +- org.springframework.boot:spring-boot-autoconfigure:jar:2.7.0:compile\n[INFO] |  +- org.springframework.boot:spring-boot-starter-logging:jar:2.7.0:compile\n[INFO] |  |  +- ch.qos.logback:logback-classic:jar:1.2.11:compile\n[INFO] |  |  |  \\- ch.qos.logback:logback-core:jar:1.2.11:compile\n[INFO] |  |  +- org.apache.logging.log4j:log4j-to-slf4j:jar:2.17.2:compile\n[INFO] |  |  |  \\- org.apache.logging.log4j:log4j-api:jar:2.17.2:compile\n[INFO] |  |  \\- org.slf4j:jul-to-slf4j:jar:1.7.36:compile\n[INFO] |  +- jakarta.annotation:jakarta.annotation-api:jar:1.3.5:compile\n[INFO] |  +- org.springframework:spring-core:jar:5.3.20:compile\n[INFO] |  |  \\- org.springframework:spring-jcl:jar:5.3.20:compile\n[INFO] |  \\- org.yaml:snakeyaml:jar:1.30:compile\n[INFO] +- org.springframework.boot:spring-boot-starter-web:jar:2.7.0:compile\n[INFO] |  +- org.springframework.boot:spring-boot-starter-json:jar:2.7.0:compile\n[INFO] |  |  +- com.fasterxml.jackson.core:jackson-databind:jar:2.13.3:compile\n[INFO] |  |  |  \\- com.fasterxml.jackson.core:jackson-annotations:jar:2.13.3:compile\n[INFO] |  |  +- com.fasterxml.jackson.datatype:jackson-datatype-jdk8:jar:2.13.3:compile\n[INFO] |  |  +- com.fasterxml.jackson.datatype:jackson-datatype-jsr310:jar:2.13.3:compile\n[INFO] |  |  \\- com.fasterxml.jackson.module:jackson-module-parameter-names:jar:2.13.3:compile\n[INFO] |  +- org.springframework.boot:spring-boot-starter-tomcat:jar:2.7.0:compile\n[INFO] |  |  +- org.apache.tomcat.embed:tomcat-embed-core:jar:9.0.63:compile\n[INFO] |  |  \\- org.apache.tomcat.embed:tomcat-embed-websocket:jar:9.0.63:compile\n[INFO] |  +- org.springframework:spring-web:jar:5.3.20:compile\n[INFO] |  |  \\- org.springframework:spring-beans:jar:5.3.20:compile\n[INFO] |  \\- org.springframework:spring-webmvc:jar:5.3.20:compile\n[INFO] |     +- org.springframework:spring-aop:jar:5.3.20:compile\n[INFO] |     \\- org.springframework:spring-expression:jar:5.3.20:compile\n[INFO] +- org.springframework.boot:spring-boot-starter-jdbc:jar:2.7.0:compile\n[INFO] |  +- com.zaxxer:HikariCP:jar:4.0.3:compile\n[INFO] |  |  \\- org.slf4j:slf4j-api:jar:1.7.36:compile\n[INFO] |  \\- org.springframework:spring-jdbc:jar:5.3.20:compile\n[INFO] |     \\- org.springframework:spring-tx:jar:5.3.20:compile\n[INFO] +- org.springframework.boot:spring-boot-starter-validation:jar:2.7.0:compile\n[INFO] |  \\- org.apache.tomcat.embed:tomcat-embed-el:jar:9.0.63:compile\n[INFO] +- org.springframework.boot:spring-boot-devtools:jar:2.7.0:compile\n[INFO] +- org.springdoc:springdoc-openapi-ui:jar:1.6.9:compile\n[INFO] |  +- org.springdoc:springdoc-openapi-webmvc-core:jar:1.6.9:compile\n[INFO] |  |  \\- org.springdoc:springdoc-openapi-common:jar:1.6.9:compile\n[INFO] |  |     \\- io.swagger.core.v3:swagger-core:jar:2.2.0:compile\n[INFO] |  |        +- org.apache.commons:commons-lang3:jar:3.12.0:compile\n[INFO] |  |        +- com.fasterxml.jackson.dataformat:jackson-dataformat-yaml:jar:2.13.3:compile\n[INFO] |  |        +- io.swagger.core.v3:swagger-annotations:jar:2.2.0:compile\n[INFO] |  |        \\- io.swagger.core.v3:swagger-models:jar:2.2.0:compile\n[INFO] |  +- org.webjars:swagger-ui:jar:4.11.1:compile\n[INFO] |  \\- org.webjars:webjars-locator-core:jar:0.50:compile\n[INFO] |     \\- com.fasterxml.jackson.core:jackson-core:jar:2.13.3:compile\n[INFO] +- io.github.classgraph:classgraph:jar:4.8.147:compile\n[INFO] +- jakarta.validation:jakarta.validation-api:jar:3.0.2:compile\n[INFO] +- org.hibernate.validator:hibernate-validator:jar:7.0.4.Final:compile\n[INFO] |  +- org.jboss.logging:jboss-logging:jar:3.4.3.Final:compile\n[INFO] |  \\- com.fasterxml:classmate:jar:1.5.1:compile\n[INFO] +- com.h2database:h2:jar:2.1.212:runtime\n[INFO] +- org.springframework.boot:spring-boot-starter-test:jar:2.7.0:test\n[INFO] |  +- org.springframework.boot:spring-boot-test:jar:2.7.0:test\n[INFO] |  +- org.springframework.boot:spring-boot-test-autoconfigure:jar:2.7.0:test\n[INFO] |  +- com.jayway.jsonpath:json-path:jar:2.7.0:test\n[INFO] |  |  \\- net.minidev:json-smart:jar:2.4.8:test\n[INFO] |  |     \\- net.minidev:accessors-smart:jar:2.4.8:test\n[INFO] |  |        \\- org.ow2.asm:asm:jar:9.1:test\n[INFO] |  +- jakarta.xml.bind:jakarta.xml.bind-api:jar:2.3.3:compile\n[INFO] |  |  \\- jakarta.activation:jakarta.activation-api:jar:1.2.2:compile\n[INFO] |  +- org.assertj:assertj-core:jar:3.22.0:test\n[INFO] |  +- org.hamcrest:hamcrest:jar:2.2:test\n[INFO] |  +- org.junit.jupiter:junit-jupiter:jar:5.8.2:test\n[INFO] |  |  +- org.junit.jupiter:junit-jupiter-api:jar:5.8.2:test\n[INFO] |  |  +- org.junit.jupiter:junit-jupiter-params:jar:5.8.2:test\n[INFO] |  |  \\- org.junit.jupiter:junit-jupiter-engine:jar:5.8.2:test\n[INFO] |  +- org.mockito:mockito-core:jar:4.5.1:test\n[INFO] |  |  +- net.bytebuddy:byte-buddy:jar:1.12.10:test\n[INFO] |  |  +- net.bytebuddy:byte-buddy-agent:jar:1.12.10:test\n[INFO] |  |  \\- org.objenesis:objenesis:jar:3.2:test\n[INFO] |  +- org.mockito:mockito-junit-jupiter:jar:4.5.1:test\n[INFO] |  +- org.skyscreamer:jsonassert:jar:1.5.0:test\n[INFO] |  |  \\- com.vaadin.external.google:android-json:jar:0.0.20131108.vaadin1:test\n[INFO] |  +- org.springframework:spring-test:jar:5.3.20:test\n[INFO] |  \\- org.xmlunit:xmlunit-core:jar:2.9.0:test\n[INFO] +- org.spockframework:spock-core:jar:2.1-groovy-3.0:test\n[INFO] |  +- org.codehaus.groovy:groovy:jar:3.0.10:test\n[INFO] |  \\- org.junit.platform:junit-platform-engine:jar:1.8.2:test\n[INFO] |     +- org.opentest4j:opentest4j:jar:1.2.0:test\n[INFO] |     +- org.junit.platform:junit-platform-commons:jar:1.8.2:test\n[INFO] |     \\- org.apiguardian:apiguardian-api:jar:1.1.2:test\n[INFO] +- org.spockframework:spock-spring:jar:2.1-groovy-3.0:test\n[INFO] +- org.codehaus.groovy:groovy-json:jar:3.0.10:test\n[INFO] \\- junit:junit:jar:4.13.2:test\n[INFO]    \\- org.hamcrest:hamcrest-core:jar:2.2:test\n</code></pre>\n<p>Lastly, I'm confident it's not the jakarta package because the following unit test passed:</p>\n<pre><code>import jakarta.validation.ConstraintViolation\nimport jakarta.validation.Validation\nimport jakarta.validation.Validator\n\ndef 'Null status on update should trigger violation'() {\n\n        given: 'I have an invalid service'\n        final LocalDate may4th2021 = LocalDate.of(2021, 5, 4)\n\n        Service serviceWithoutStatus = new Service(\n                id: 1,\n                contractId: 2,\n                dueDate: may4th2021,\n                currentStatus: null, // N.B. the violation\n                history: []\n        )\n\n        when: 'I validate the client'\n        Validator validator = Validation.byDefaultProvider()\n                .configure()\n                .messageInterpolator(new ParameterMessageInterpolator())\n                .buildValidatorFactory()\n                .getValidator()\n\n        Set&lt;ConstraintViolation&lt;Service&gt;&gt; violations = validator.validate(serviceWithoutStatus, OnUpdate.class)\n\n        then: 'There should be violations'\n        !violations.isEmpty()\n        violations.size() == 1\n    }\n</code></pre>\n<p>Edit: I am using Java 11</p>\n<pre><code>openjdk version &quot;11.0.9.1&quot; 2020-11-04 LTS\nOpenJDK Runtime Environment Zulu11.43+1015-CA (build 11.0.9.1+1-LTS)\nOpenJDK 64-Bit Server VM Zulu11.43+1015-CA (build 11.0.9.1+1-LTS, mixed mode)\n\n</code></pre>\n<p>Any help would greatly be appreciated. Thank you.</p>\n"},{"tags":["java","arrays","object"],"comments":[{"owner":{"account_id":3472896,"reputation":849,"user_id":2906821,"accept_rate":42,"display_name":"Dhruv Pal"},"score":0,"creation_date":1654804906,"post_id":72565777,"comment_id":128186183,"body_markdown":"What have you tried till now?","body":"What have you tried till now?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1654806499,"post_id":72565777,"comment_id":128186642,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":25434759,"reputation":146,"user_id":19238643,"display_name":"Christoph Kronberger"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654806029,"creation_date":1654806029,"answer_id":72566213,"question_id":72565777,"body_markdown":"Because i dont know what you exactly want to do, i wrote quickly a frew lines of Code, like a &quot;proof of concept&quot;.\r\n\r\nSure this is maybe not exactly what you want, or what you supposed to to.\r\nBut according to the information you give, this could be a soloution for you.\r\n\r\n\r\n\r\n    \r\n    public class FruitArry {\r\n\r\n    public static void main (String [] args){\r\n        ShoppedFruits grapes = new ShoppedFruits(&quot;grapes&quot;,2);\r\n        System.out.println(Arrays.toString(getFruitsAsArray(grapes)));\r\n\r\n    }\r\n\r\n    public static String[] getFruitsAsArray(ShoppedFruits shoppedFruits){\r\n        String[] returnArray = new String[shoppedFruits.quantity];\r\n        for(int i = 0 ; i &lt; shoppedFruits.quantity; i++){\r\n            returnArray[i] = shoppedFruits.toString();\r\n        }\r\n        return returnArray;\r\n    }\r\n\r\n    public static class ShoppedFruits {\r\n        String name;\r\n        int quantity;\r\n\r\n        public ShoppedFruits(String name, int quantity) {\r\n            this.name = name;\r\n            this.quantity = quantity;\r\n        }\r\n\r\n        @Override\r\n        public String toString() {\r\n            return &quot;name:&quot;+ name +&quot; quantity: 1&quot;;\r\n        }\r\n    }\r\n    }\r\n\r\nCosole output:\r\n\r\n    [name:grapes quantity: 1, name:grapes quantity: 1]","title":"java how to split an object to multiple objects inside an array efficiently","body":"<p>Because i dont know what you exactly want to do, i wrote quickly a frew lines of Code, like a &quot;proof of concept&quot;.</p>\n<p>Sure this is maybe not exactly what you want, or what you supposed to to.\nBut according to the information you give, this could be a soloution for you.</p>\n<pre><code>public class FruitArry {\n\npublic static void main (String [] args){\n    ShoppedFruits grapes = new ShoppedFruits(&quot;grapes&quot;,2);\n    System.out.println(Arrays.toString(getFruitsAsArray(grapes)));\n\n}\n\npublic static String[] getFruitsAsArray(ShoppedFruits shoppedFruits){\n    String[] returnArray = new String[shoppedFruits.quantity];\n    for(int i = 0 ; i &lt; shoppedFruits.quantity; i++){\n        returnArray[i] = shoppedFruits.toString();\n    }\n    return returnArray;\n}\n\npublic static class ShoppedFruits {\n    String name;\n    int quantity;\n\n    public ShoppedFruits(String name, int quantity) {\n        this.name = name;\n        this.quantity = quantity;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;name:&quot;+ name +&quot; quantity: 1&quot;;\n    }\n}\n}\n</code></pre>\n<p>Cosole output:</p>\n<pre><code>[name:grapes quantity: 1, name:grapes quantity: 1]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654829907,"creation_date":1654829603,"answer_id":72568620,"question_id":72565777,"body_markdown":"Assuming the class `Fruit` has the appropriate fields with a full-args constructor and getters:\r\n\r\n```java\r\nfinal List&lt;Fruit&gt; fruits = List.of(\r\n\t\tnew Fruit(&quot;currants&quot;, 1),\r\n\t\tnew Fruit(&quot;grapes&quot;, 2),\r\n\t\tnew Fruit(&quot;bananas&quot;, 2)\r\n);\r\n```\r\nYou can yield an infinite stream of the &quot;single item quantities&quot; (`1, 1, 1...`) limited by the actual count of the fruit type `limit(fruit.getQuantity())` and mapping the &quot;single item quantity&quot; as `1` into the new instance using `mapToObj`. The whole structure shall be flatmapped using `flatMap` as you get `Stream&lt;Fruit&gt;` from a single `Fruit`:\r\n```java\r\nfinal List&lt;Fruit&gt; expanded = fruits.stream()\r\n\t\t.flatMap(fruit -&gt; IntStream.generate(() -&gt; 1)\r\n\t\t\t\t.mapToObj(i -&gt; new Fruit(fruit.getName(), i))\r\n\t\t\t\t.limit(fruit.getQuantity()))\r\n\t\t.collect(Collectors.toList());\r\n```\r\n\r\nAlternatively limit the stream on creation using `IntStream.range`:\r\n\r\n```java\r\nfinal List&lt;Fruit&gt; expanded = fruits.stream()\r\n\t\t.flatMap(fruit -&gt; IntStream.range(0, fruit.getQuantity())\r\n\t\t\t.mapToObj(i -&gt; new Fruit(fruit.getName(), 1)))\r\n\t\t.collect(Collectors.toList());\r\n```\r\nBoth of the solutions result in this:\r\n```java\r\nexpanded.forEach(System.out::println);\r\n```\r\n&gt; ```\r\n&gt; Fruit[name=&#39;currants&#39;, quantity=1]\r\n&gt; Fruit[name=&#39;grapes&#39;, quantity=1]\r\n&gt; Fruit[name=&#39;grapes&#39;, quantity=1]\r\n&gt; Fruit[name=&#39;bananas&#39;, quantity=1]\r\n&gt; Fruit[name=&#39;bananas&#39;, quantity=1]\r\n&gt; ```","title":"java how to split an object to multiple objects inside an array efficiently","body":"<p>Assuming the class <code>Fruit</code> has the appropriate fields with a full-args constructor and getters:</p>\n<pre class=\"lang-java prettyprint-override\"><code>final List&lt;Fruit&gt; fruits = List.of(\n        new Fruit(&quot;currants&quot;, 1),\n        new Fruit(&quot;grapes&quot;, 2),\n        new Fruit(&quot;bananas&quot;, 2)\n);\n</code></pre>\n<p>You can yield an infinite stream of the &quot;single item quantities&quot; (<code>1, 1, 1...</code>) limited by the actual count of the fruit type <code>limit(fruit.getQuantity())</code> and mapping the &quot;single item quantity&quot; as <code>1</code> into the new instance using <code>mapToObj</code>. The whole structure shall be flatmapped using <code>flatMap</code> as you get <code>Stream&lt;Fruit&gt;</code> from a single <code>Fruit</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>final List&lt;Fruit&gt; expanded = fruits.stream()\n        .flatMap(fruit -&gt; IntStream.generate(() -&gt; 1)\n                .mapToObj(i -&gt; new Fruit(fruit.getName(), i))\n                .limit(fruit.getQuantity()))\n        .collect(Collectors.toList());\n</code></pre>\n<p>Alternatively limit the stream on creation using <code>IntStream.range</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>final List&lt;Fruit&gt; expanded = fruits.stream()\n        .flatMap(fruit -&gt; IntStream.range(0, fruit.getQuantity())\n            .mapToObj(i -&gt; new Fruit(fruit.getName(), 1)))\n        .collect(Collectors.toList());\n</code></pre>\n<p>Both of the solutions result in this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>expanded.forEach(System.out::println);\n</code></pre>\n<blockquote>\n<pre><code>Fruit[name='currants', quantity=1]\nFruit[name='grapes', quantity=1]\nFruit[name='grapes', quantity=1]\nFruit[name='bananas', quantity=1]\nFruit[name='bananas', quantity=1]\n</code></pre>\n</blockquote>\n"}],"owner":{"account_id":25346938,"reputation":13,"user_id":19164417,"display_name":"David Prieto"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":354,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1654829907,"creation_date":1654803535,"question_id":72565777,"body_markdown":"I am new to Java so please excuse the way I explain/word this problem I have been given.\r\n    \r\nProblem: You bought a few bunches of fruit over the weekend. Create a java function that splits a bunch into singular objects inside an array.\r\n    \r\n    example input: [{name: &quot;grapes&quot;, quantity: 2}]\r\n    \r\n    expected output: [{name: &quot;grapes&quot;, quantity: 1}, {name: &quot;grapes&quot;, quantity: 1}]\r\n\r\nANOTHER EXAMPLE INPUT AND EXPECTED OUTPUT:\r\n\r\n     example input:\r\n     [{name: &quot;currants&quot;, quantity: 1},\r\n     {name: &quot;grapes&quot;, quantity: 2},\r\n     {name: &quot;bananas&quot;, quantity: 2}]\r\n    \r\n     expected output:\r\n     [{name: &quot;currants&quot;, quantity: 1},\r\n     {name: &quot;grapes&quot;, quantity: 1},\r\n     {name: &quot;grapes&quot;, quantity: 1},\r\n     {name: &quot;bananas&quot;, quantity: 1},\r\n     {name: &quot;bananas&quot;, quantity: 1}]\r\n\r\n","title":"java how to split an object to multiple objects inside an array efficiently","body":"<p>I am new to Java so please excuse the way I explain/word this problem I have been given.</p>\n<p>Problem: You bought a few bunches of fruit over the weekend. Create a java function that splits a bunch into singular objects inside an array.</p>\n<pre><code>example input: [{name: &quot;grapes&quot;, quantity: 2}]\n\nexpected output: [{name: &quot;grapes&quot;, quantity: 1}, {name: &quot;grapes&quot;, quantity: 1}]\n</code></pre>\n<p>ANOTHER EXAMPLE INPUT AND EXPECTED OUTPUT:</p>\n<pre><code> example input:\n [{name: &quot;currants&quot;, quantity: 1},\n {name: &quot;grapes&quot;, quantity: 2},\n {name: &quot;bananas&quot;, quantity: 2}]\n\n expected output:\n [{name: &quot;currants&quot;, quantity: 1},\n {name: &quot;grapes&quot;, quantity: 1},\n {name: &quot;grapes&quot;, quantity: 1},\n {name: &quot;bananas&quot;, quantity: 1},\n {name: &quot;bananas&quot;, quantity: 1}]\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":15567203,"reputation":1060,"user_id":11230588,"display_name":"Francis G"},"score":1,"creation_date":1654829469,"post_id":72568578,"comment_id":128190681,"body_markdown":"I think your question is answered here: https://stackoverflow.com/a/17970774/11230588","body":"I think your question is answered here: <a href=\"https://stackoverflow.com/a/17970774/11230588\">stackoverflow.com/a/17970774/11230588</a>"}],"answers":[{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1654829475,"creation_date":1654829475,"answer_id":72568606,"question_id":72568578,"body_markdown":"Technically you are correct, in this case only a `String` would work because `String` is final. Still best to always follow [PECS](https://stackoverflow.com/a/2723538/2970947). A more practical example would probably use `? extends CharSequence`. For example,\r\n\r\n\tpublic static void write(List&lt;? extends CharSequence&gt; items) {\r\n\t\tSystem.out.println(String.format(&quot;Received list of size: %s&quot;, items.size()));\r\n\t\titems.forEach(System.out::println);\r\n\t}\r\n\r\nNow you can call it with any kind of `CharSequence`.\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\twrite(List.of(new StringBuilder(&quot;Hello&quot;), new StringBuilder(&quot;World&quot;)));\r\n\t\twrite(List.of(&quot;Hello&quot;, &quot;World&quot;));\r\n\t}\r\n\r\n","title":"Since String is a final class, how can a wildcard &lt;? extends String&gt; be correct?","body":"<p>Technically you are correct, in this case only a <code>String</code> would work because <code>String</code> is final. Still best to always follow <a href=\"https://stackoverflow.com/a/2723538/2970947\">PECS</a>. A more practical example would probably use <code>? extends CharSequence</code>. For example,</p>\n<pre><code>public static void write(List&lt;? extends CharSequence&gt; items) {\n    System.out.println(String.format(&quot;Received list of size: %s&quot;, items.size()));\n    items.forEach(System.out::println);\n}\n</code></pre>\n<p>Now you can call it with any kind of <code>CharSequence</code>.</p>\n<pre><code>public static void main(String[] args) {\n    write(List.of(new StringBuilder(&quot;Hello&quot;), new StringBuilder(&quot;World&quot;)));\n    write(List.of(&quot;Hello&quot;, &quot;World&quot;));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11373023,"reputation":4495,"user_id":8338100,"display_name":"jurez"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1654829493,"creation_date":1654829493,"answer_id":72568609,"question_id":72568578,"body_markdown":"`? extends String` is a generics qualifier. What it means in this particular case is that the method expects a `List` of elements which are compatible with `String`. There is nothing wrong with this definition - in fact, I would even consider it slightly more accurate and universal than `List&lt;String&gt;`.\r\n\r\nBut you&#39;re right, since there will never be another `String`, this is equivalent to `List&lt;String&gt;` for all practical purposes.\r\n","title":"Since String is a final class, how can a wildcard &lt;? extends String&gt; be correct?","body":"<p><code>? extends String</code> is a generics qualifier. What it means in this particular case is that the method expects a <code>List</code> of elements which are compatible with <code>String</code>. There is nothing wrong with this definition - in fact, I would even consider it slightly more accurate and universal than <code>List&lt;String&gt;</code>.</p>\n<p>But you're right, since there will never be another <code>String</code>, this is equivalent to <code>List&lt;String&gt;</code> for all practical purposes.</p>\n"},{"tags":[],"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1654829583,"creation_date":1654829583,"answer_id":72568619,"question_id":72568578,"body_markdown":"You&#39;re correct that there will never be another class that extends `String`. So the only type that can fill that `?` is `String` itself. However, the `extends` / `super` still [conveys intent](https://stackoverflow.com/questions/2723397/what-is-pecs-producer-extends-consumer-super). Namely, a `List&lt;? extends String&gt;` is a read-only list. You can&#39;t add elements to it since `? extends String` is a producer. A `List&lt;String&gt;` is potentially a read-write collection. So by writing `List&lt;? extends String&gt;`, we&#39;re conveying to whoever is reading the code (and to the compiler) that we only intend to *read* values from this `List`, not write anything back.","title":"Since String is a final class, how can a wildcard &lt;? extends String&gt; be correct?","body":"<p>You're correct that there will never be another class that extends <code>String</code>. So the only type that can fill that <code>?</code> is <code>String</code> itself. However, the <code>extends</code> / <code>super</code> still <a href=\"https://stackoverflow.com/questions/2723397/what-is-pecs-producer-extends-consumer-super\">conveys intent</a>. Namely, a <code>List&lt;? extends String&gt;</code> is a read-only list. You can't add elements to it since <code>? extends String</code> is a producer. A <code>List&lt;String&gt;</code> is potentially a read-write collection. So by writing <code>List&lt;? extends String&gt;</code>, we're conveying to whoever is reading the code (and to the compiler) that we only intend to <em>read</em> values from this <code>List</code>, not write anything back.</p>\n"}],"owner":{"account_id":171134,"reputation":3434,"user_id":398348,"accept_rate":67,"display_name":"likejudo"},"comment_count":1,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"closed_date":1654850125,"accepted_answer_id":72568619,"answer_count":3,"score":4,"last_activity_date":1654829583,"creation_date":1654829155,"question_id":72568578,"body_markdown":"In a course on Spring Batch, I was surprised to see `? extends String`.\r\nSince String is a final class, how is this correct?\r\n\r\n\t\t\t\tpublic void write(List&lt;? extends String&gt; items) throws Exception {\r\n\t\t\t\t\tSystem.out.println(String.format(&quot;Received list of size: %s&quot;, items.size()));\r\n\t\t\t\t\titems.forEach(System.out::println);\r\n\t\t\t\t}","title":"Since String is a final class, how can a wildcard &lt;? extends String&gt; be correct?","body":"<p>In a course on Spring Batch, I was surprised to see <code>? extends String</code>.\nSince String is a final class, how is this correct?</p>\n<pre><code>            public void write(List&lt;? extends String&gt; items) throws Exception {\n                System.out.println(String.format(&quot;Received list of size: %s&quot;, items.size()));\n                items.forEach(System.out::println);\n            }\n</code></pre>\n"},{"tags":["java","spring-boot","kotlin","gradle","cucumber-java"],"answers":[{"tags":[],"owner":{"account_id":2273465,"reputation":15439,"user_id":2000323,"display_name":"Andrey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652689628,"creation_date":1652689628,"answer_id":72256189,"question_id":72228045,"body_markdown":"The exception clearly tells the reasons:\r\n\r\n```\r\nCaused by: org.gradle.process.internal.ExecException: Process &#39;command &#39;C:\\Java\\jdk-17\\bin\\java.exe&#39;&#39; finished with non-zero exit value 1\r\n\r\n```\r\n\r\nFor some reason, the Java executable fails to launch the process on your system. The common problem could be with the antivirus/firewall blocking the process. Make sure to exclude the JDK directory from the scan.","title":"Gradle cucumber error in command-line - command &#39;C:\\Java\\jdk-17\\bin\\java.exe&#39;&#39; finished with non-zero exit value 1","body":"<p>The exception clearly tells the reasons:</p>\n<pre><code>Caused by: org.gradle.process.internal.ExecException: Process 'command 'C:\\Java\\jdk-17\\bin\\java.exe'' finished with non-zero exit value 1\n\n</code></pre>\n<p>For some reason, the Java executable fails to launch the process on your system. The common problem could be with the antivirus/firewall blocking the process. Make sure to exclude the JDK directory from the scan.</p>\n"}],"owner":{"account_id":2665015,"reputation":2661,"user_id":2303693,"accept_rate":67,"display_name":"Shabar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":695,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654829441,"creation_date":1652437447,"question_id":72228045,"body_markdown":"When I run cucumber test from IntelliJ terminal commandline and get subject error:\r\n\r\nVersion:\r\n\r\n    λ java --version\r\n    java 17 2021-09-14 LTS\r\n    Java(TM) SE Runtime Environment (build 17+35-LTS-2724)\r\n    Java HotSpot(TM) 64-Bit Server VM (build 17+35-LTS-2724, mixed mode, sharing)\r\n    \r\n    \r\n    λ gradle --version\r\n    \r\n    ------------------------------------------------------------\r\n    Gradle 7.4.2\r\n    ------------------------------------------------------------\r\n    \r\n    Build time:   2022-03-31 15:25:29 UTC\r\n    Revision:     540473b8118064efcc264694cbcaa4b677f61041\r\n    \r\n    Kotlin:       1.5.31\r\n    Groovy:       3.0.9\r\n    Ant:          Apache Ant(TM) version 1.10.11 compiled on July 10 2021\r\n    JVM:          17 (Oracle Corporation 17+35-LTS-2724)\r\n    OS:           Windows 10 10.0 amd64\r\n                                                                                                                                       \r\n\r\nHowever I have below code in my build.gradle file\r\n\r\n    task integrationTest(type: Test) {\r\n        useJUnitPlatform()\r\n        description = &#39;Run integration tests.&#39;\r\n        check.dependsOn(it)\r\n        group = &#39;verification&#39;\r\n        testClassesDirs = sourceSets.integrationTest.output.classesDirs\r\n        classpath = sourceSets.integrationTest.runtimeClasspath\r\n        shouldRunAfter test\r\n    }\r\n    \r\n    tasks.withType(Test) {\r\n        useJUnitPlatform()\r\n        // Prints any test outcomes to the console\r\n        testLogging {\r\n            events &quot;passed&quot;, &quot;skipped&quot;, &quot;failed&quot;\r\n            showStackTraces true\r\n            showExceptions true\r\n            showCauses true\r\n            exceptionFormat &quot;full&quot;\r\n        }\r\n    }\r\n    \r\n    sourceSets {\r\n        integrationTest {\r\n            compileClasspath += sourceSets.main.output\r\n            runtimeClasspath += sourceSets.main.output\r\n    \r\n        }\r\n    }\r\n    \r\n    configurations {\r\n    \r\n        cucumberRuntime {\r\n            extendsFrom testImplementation\r\n        }\r\n    \r\n        integrationTestImplementation.extendsFrom implementation\r\n        integrationTestImplementation.extendsFrom testImplementation\r\n        integrationTestRuntimeOnly.extendsFrom runtimeOnly\r\n    \r\n    }\r\n    \r\n        java.sourceCompatibility = JavaVersion.VERSION_17\r\n        java.targetCompatibility = java.sourceCompatibility\r\n        \r\n        task cucumber() {\r\n            dependsOn assemble, testClasses\r\n        \r\n            doLast {\r\n                javaexec {    &lt;============  Line 279 ===========\r\n                    main = &quot;io.cucumber.core.cli.Main&quot;\r\n                    classpath = configurations.cucumberRuntime + sourceSets.main.output + sourceSets.test.output\r\n                    args = [&#39;--plugin&#39;, &#39;pretty&#39;,\r\n                            &#39;--plugin&#39;, &#39;html:target/cucumber-report.html&#39;,\r\n                            &#39;--glue&#39;, &#39;xxxxx.stepdefinitions&#39;,\r\n                            &#39;src/integrationTest/resources&#39;]\r\n                }\r\n            }\r\n        }\r\n\r\n\r\nNot sure what is missing. However cucumber tests are running via IntelliJ IDE edit configuration without any issue.\r\n\r\nThis is stacktrace error:\r\n\r\n    λ gradlew cucumber                                                                                                                                            \r\n    Configuration on demand is an incubating feature.\r\n    &gt; Task :cucumber FAILED\r\n    \r\n    FAILURE: Build failed with an exception.\r\n    \r\n    * Where:\r\n    Build file &#39;C:\\xxxxx\\build.gradle&#39; line: 279  &lt;==========\r\n    \r\n    * What went wrong:\r\n    Execution failed for task &#39;:cucumber&#39;.\r\n    &gt; Process &#39;command &#39;C:\\Java\\jdk-17\\bin\\java.exe&#39;&#39; finished with non-zero exit value 1\r\n    \r\n    * Try:\r\n    &gt; Run with --info or --debug option to get more log output.\r\n    &gt; Run with --scan to get full insights.\r\n    \r\n    * Exception is:\r\n    org.gradle.api.tasks.TaskExecutionException: Execution failed for task &#39;:cucumber&#39;.\r\n            at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.lambda$executeIfValid$1(ExecuteActionsTaskExecuter.java:147)\r\n    ....\r\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n            at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\r\n    Caused by: org.gradle.process.internal.ExecException: Process &#39;command &#39;C:\\Java\\jdk-17\\bin\\java.exe&#39;&#39; finished with non-zero exit value 1\r\n            at org.gradle.process.internal.DefaultExecHandle$ExecResultImpl.assertNormalExitValue(DefaultExecHandle.java:414)\r\n            at org.gradle.process.internal.DefaultJavaExecAction.execute(DefaultJavaExecAction.java:52)\r\n\r\n\r\n","title":"Gradle cucumber error in command-line - command &#39;C:\\Java\\jdk-17\\bin\\java.exe&#39;&#39; finished with non-zero exit value 1","body":"<p>When I run cucumber test from IntelliJ terminal commandline and get subject error:</p>\n<p>Version:</p>\n<pre><code>λ java --version\njava 17 2021-09-14 LTS\nJava(TM) SE Runtime Environment (build 17+35-LTS-2724)\nJava HotSpot(TM) 64-Bit Server VM (build 17+35-LTS-2724, mixed mode, sharing)\n\n\nλ gradle --version\n\n------------------------------------------------------------\nGradle 7.4.2\n------------------------------------------------------------\n\nBuild time:   2022-03-31 15:25:29 UTC\nRevision:     540473b8118064efcc264694cbcaa4b677f61041\n\nKotlin:       1.5.31\nGroovy:       3.0.9\nAnt:          Apache Ant(TM) version 1.10.11 compiled on July 10 2021\nJVM:          17 (Oracle Corporation 17+35-LTS-2724)\nOS:           Windows 10 10.0 amd64\n                                                                                                                                   \n</code></pre>\n<p>However I have below code in my build.gradle file</p>\n<pre><code>task integrationTest(type: Test) {\n    useJUnitPlatform()\n    description = 'Run integration tests.'\n    check.dependsOn(it)\n    group = 'verification'\n    testClassesDirs = sourceSets.integrationTest.output.classesDirs\n    classpath = sourceSets.integrationTest.runtimeClasspath\n    shouldRunAfter test\n}\n\ntasks.withType(Test) {\n    useJUnitPlatform()\n    // Prints any test outcomes to the console\n    testLogging {\n        events &quot;passed&quot;, &quot;skipped&quot;, &quot;failed&quot;\n        showStackTraces true\n        showExceptions true\n        showCauses true\n        exceptionFormat &quot;full&quot;\n    }\n}\n\nsourceSets {\n    integrationTest {\n        compileClasspath += sourceSets.main.output\n        runtimeClasspath += sourceSets.main.output\n\n    }\n}\n\nconfigurations {\n\n    cucumberRuntime {\n        extendsFrom testImplementation\n    }\n\n    integrationTestImplementation.extendsFrom implementation\n    integrationTestImplementation.extendsFrom testImplementation\n    integrationTestRuntimeOnly.extendsFrom runtimeOnly\n\n}\n\n    java.sourceCompatibility = JavaVersion.VERSION_17\n    java.targetCompatibility = java.sourceCompatibility\n    \n    task cucumber() {\n        dependsOn assemble, testClasses\n    \n        doLast {\n            javaexec {    &lt;============  Line 279 ===========\n                main = &quot;io.cucumber.core.cli.Main&quot;\n                classpath = configurations.cucumberRuntime + sourceSets.main.output + sourceSets.test.output\n                args = ['--plugin', 'pretty',\n                        '--plugin', 'html:target/cucumber-report.html',\n                        '--glue', 'xxxxx.stepdefinitions',\n                        'src/integrationTest/resources']\n            }\n        }\n    }\n</code></pre>\n<p>Not sure what is missing. However cucumber tests are running via IntelliJ IDE edit configuration without any issue.</p>\n<p>This is stacktrace error:</p>\n<pre><code>λ gradlew cucumber                                                                                                                                            \nConfiguration on demand is an incubating feature.\n&gt; Task :cucumber FAILED\n\nFAILURE: Build failed with an exception.\n\n* Where:\nBuild file 'C:\\xxxxx\\build.gradle' line: 279  &lt;==========\n\n* What went wrong:\nExecution failed for task ':cucumber'.\n&gt; Process 'command 'C:\\Java\\jdk-17\\bin\\java.exe'' finished with non-zero exit value 1\n\n* Try:\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n\n* Exception is:\norg.gradle.api.tasks.TaskExecutionException: Execution failed for task ':cucumber'.\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.lambda$executeIfValid$1(ExecuteActionsTaskExecuter.java:147)\n....\nat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\n        at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\nCaused by: org.gradle.process.internal.ExecException: Process 'command 'C:\\Java\\jdk-17\\bin\\java.exe'' finished with non-zero exit value 1\n        at org.gradle.process.internal.DefaultExecHandle$ExecResultImpl.assertNormalExitValue(DefaultExecHandle.java:414)\n        at org.gradle.process.internal.DefaultJavaExecAction.execute(DefaultJavaExecAction.java:52)\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":16801428,"reputation":910,"user_id":12146581,"display_name":"Mohamad Ghaith Alzin"},"score":2,"creation_date":1654825811,"post_id":72568297,"comment_id":128190196,"body_markdown":"Why don&#39;t you put the whole code so we can try it as well?","body":"Why don&#39;t you put the whole code so we can try it as well?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1654829578,"post_id":72568297,"comment_id":128190693,"body_markdown":"distance = speed * time so you need something like `renderY = renderY + speed * deltaTime`","body":"distance = speed * time so you need something like <code>renderY = renderY + speed * deltaTime</code>"},{"owner":{"account_id":19193619,"reputation":11,"user_id":14022853,"display_name":"RareHyperIon"},"score":0,"creation_date":1654830748,"post_id":72568297,"comment_id":128190872,"body_markdown":"@tgdavies That literally does the same thing as `renderY += 10 * deltaTime` and again I said it needs to be able to move up and down smoothly without being effect by the frame rate and I don&#39;t want to use a lot of if statements to check if its below or above the wanted Y Position to add or subtract the renderY","body":"@tgdavies That literally does the same thing as <code>renderY += 10 * deltaTime</code> and again I said it needs to be able to move up and down smoothly without being effect by the frame rate and I don&#39;t want to use a lot of if statements to check if its below or above the wanted Y Position to add or subtract the renderY"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1654831239,"post_id":72568297,"comment_id":128190936,"body_markdown":"Using `deltaTime` means it isn&#39;t affected by the frame rate, assuming that you call `update()` correctly.","body":"Using <code>deltaTime</code> means it isn&#39;t affected by the frame rate, assuming that you call <code>update()</code> correctly."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1654831513,"post_id":72568297,"comment_id":128190985,"body_markdown":"Use the offset to initialise renderY, don&#39;t add it each time. You are going to have to use an if statement to decide if you have reached the edge of the area you want to move in.","body":"Use the offset to initialise renderY, don&#39;t add it each time. You are going to have to use an if statement to decide if you have reached the edge of the area you want to move in."},{"owner":{"account_id":19193619,"reputation":11,"user_id":14022853,"display_name":"RareHyperIon"},"score":0,"creation_date":1654851948,"post_id":72568297,"comment_id":128195733,"body_markdown":"@tgdavies Can&#39;t really figure out how to implement it into my hold method which is `obj.renderY = (obj.renderY * (speed - 1) + offset) / speed` and I know deltaTime works because I use it for other things but I actually cannot figure out how to implement it into that method it breaks everytime not even (speed * Time.deltaTime) which looks like it would work but I probably completely wrong. I have math that checks if its roughly in the location I want it to be in which then stops the animation completely until the arraylist is modified  then it animates to account for that change.","body":"@tgdavies Can&#39;t really figure out how to implement it into my hold method which is <code>obj.renderY = (obj.renderY * (speed - 1) + offset) &#47; speed</code> and I know deltaTime works because I use it for other things but I actually cannot figure out how to implement it into that method it breaks everytime not even (speed * Time.deltaTime) which looks like it would work but I probably completely wrong. I have math that checks if its roughly in the location I want it to be in which then stops the animation completely until the arraylist is modified  then it animates to account for that change."}],"answers":[{"tags":[],"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654826745,"creation_date":1654826091,"answer_id":72568325,"question_id":72568297,"body_markdown":"Use [javax.swing.Timer][1]. It was literally built to solve this exact problem.\r\n\r\n[`Timer(int delay, ActionListener listener)`][2]\r\n\r\n- **delay** - Place the amount of time you want the timer to wait before kicking things off. Please note - this does ***NOT*** mean the amount of time between each task, only the amount of time before ***starting*** each task.\r\n- **listener** - Place your actual task here.\r\n\r\nThen, all you need to do is use the [`start()`][3] method, and that should be it. You can configure the timer in other ways, but that is the basics.\r\n\r\n**EDIT** - I imagine that many people who are asking this question are game developers trying to make some part of their game run at 60 frames per second.\r\n\r\nYou ***can*** use a timer, but you might be better off using something from a game engine instead.\r\n\r\nIn short, you probably want something more feature rich than a simple timer. Timers are effective, but they can be hard to manage, and may not kick off at the ***exact*** frame that you want them to, leading to issues. Timers are meant to be a simple tool to make kicking off a task at a certain frequency easier. But it&#39;s rarely as simple as that when making a game.\r\n\r\nI would discourage you from using this timer for anything other than a basic repetitive task that only needs to start and stop after a certain event. If you want something with precision, stick to using the tools found in some of your game engines. They specialize in getting certain actions to kick off at the exact times you want them to.\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/Timer.html\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/Timer.html#%3Cinit%3E(int,java.awt.event.ActionListener)\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/Timer.html#start()","title":"Animating things framerate independent","body":"<p>Use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/Timer.html\" rel=\"nofollow noreferrer\">javax.swing.Timer</a>. It was literally built to solve this exact problem.</p>\n<p><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/Timer.html#%3Cinit%3E(int,java.awt.event.ActionListener)\" rel=\"nofollow noreferrer\"><code>Timer(int delay, ActionListener listener)</code></a></p>\n<ul>\n<li><strong>delay</strong> - Place the amount of time you want the timer to wait before kicking things off. Please note - this does <em><strong>NOT</strong></em> mean the amount of time between each task, only the amount of time before <em><strong>starting</strong></em> each task.</li>\n<li><strong>listener</strong> - Place your actual task here.</li>\n</ul>\n<p>Then, all you need to do is use the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/Timer.html#start()\" rel=\"nofollow noreferrer\"><code>start()</code></a> method, and that should be it. You can configure the timer in other ways, but that is the basics.</p>\n<p><strong>EDIT</strong> - I imagine that many people who are asking this question are game developers trying to make some part of their game run at 60 frames per second.</p>\n<p>You <em><strong>can</strong></em> use a timer, but you might be better off using something from a game engine instead.</p>\n<p>In short, you probably want something more feature rich than a simple timer. Timers are effective, but they can be hard to manage, and may not kick off at the <em><strong>exact</strong></em> frame that you want them to, leading to issues. Timers are meant to be a simple tool to make kicking off a task at a certain frequency easier. But it's rarely as simple as that when making a game.</p>\n<p>I would discourage you from using this timer for anything other than a basic repetitive task that only needs to start and stop after a certain event. If you want something with precision, stick to using the tools found in some of your game engines. They specialize in getting certain actions to kick off at the exact times you want them to.</p>\n"}],"owner":{"account_id":19193619,"reputation":11,"user_id":14022853,"display_name":"RareHyperIon"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1654828436,"creation_date":1654825629,"question_id":72568297,"body_markdown":"I want to animate some text thats in an arraylist that gets changed often but I can&#39;t figure out how to animate it on the Y-Axis as it needs to move up and down and I&#39;ve only set it up for `obj.renderY += 10 * deltaTime` but I need it to smoothly animate to the position wanted without overcomplciating it.\r\n\r\nThe current setup for animating the Y-Axis of the text is `obj.renderY = (obj.renderY * (speed - 1) + offset) / speed` and this is frame dependent and I haven&#39;t figured out how I would implement deltaTime into it properly most of the times I&#39;ve tried it just breaks it. This current setup I have animates it to the position I want it to be on the Y-Axis even if its above or below the wanted position.\r\n\r\nThe offset is just equal to `2 + count * (fontHeight + 1)` I don&#39;t know if that would help but sure I&#39;ll include it anyway. Thanks for taking your time and reading this post.\r\n\r\nExample of trying to animate the texts movement:\r\n```\r\nfloat speed = 14;\r\nobj.renderY = (obj.renderY * (speed - 1) + offset) / speed\r\n```\r\n\r\nThe class that is used to get deltaTime (Updates every frame):\r\n```\r\npublic class Time {\r\n\r\n    public static float deltaTime = 0;\r\n    private static long lastTime = System.nanoTime();\r\n\r\n    public static void update() {\r\n        long currentTime = System.nanoTime();\r\n        deltaTime = (currentTime - lastTime) / 1000000000.0F;\r\n        lastTime = currentTime;\r\n    }\r\n\r\n}\r\n```","title":"Animating things framerate independent","body":"<p>I want to animate some text thats in an arraylist that gets changed often but I can't figure out how to animate it on the Y-Axis as it needs to move up and down and I've only set it up for <code>obj.renderY += 10 * deltaTime</code> but I need it to smoothly animate to the position wanted without overcomplciating it.</p>\n<p>The current setup for animating the Y-Axis of the text is <code>obj.renderY = (obj.renderY * (speed - 1) + offset) / speed</code> and this is frame dependent and I haven't figured out how I would implement deltaTime into it properly most of the times I've tried it just breaks it. This current setup I have animates it to the position I want it to be on the Y-Axis even if its above or below the wanted position.</p>\n<p>The offset is just equal to <code>2 + count * (fontHeight + 1)</code> I don't know if that would help but sure I'll include it anyway. Thanks for taking your time and reading this post.</p>\n<p>Example of trying to animate the texts movement:</p>\n<pre><code>float speed = 14;\nobj.renderY = (obj.renderY * (speed - 1) + offset) / speed\n</code></pre>\n<p>The class that is used to get deltaTime (Updates every frame):</p>\n<pre><code>public class Time {\n\n    public static float deltaTime = 0;\n    private static long lastTime = System.nanoTime();\n\n    public static void update() {\n        long currentTime = System.nanoTime();\n        deltaTime = (currentTime - lastTime) / 1000000000.0F;\n        lastTime = currentTime;\n    }\n\n}\n</code></pre>\n"},{"tags":["java","android","kotlin","augmented-reality","arcore"],"answers":[{"tags":[],"owner":{"account_id":8834917,"reputation":50835,"user_id":6599590,"accept_rate":96,"display_name":"Andy Jazz"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1654828163,"creation_date":1621467238,"answer_id":67612173,"question_id":67605996,"body_markdown":"## Scaling locally a single object\r\n\r\nIn local space, all operations on the model (translation, rotation and scaling) are performed relative to the Pivot Point of the model.\r\n\r\n&lt;br&gt;&lt;/br&gt;\r\n\r\nOfficial Google ARCore developer documentation [says][1]:\r\n\r\n    public void setLocalScale (Vector3 scale) \r\n\r\n&gt;Sets the scale of this node relative to its ***parent*** (local-space). If `isTopLevel()` is true, then this is the same as `setWorldScale(Vector3)`.\r\n\r\nHere&#39;s how it looks like in a real code:\r\n\r\n    Anchor anchor = hitResult.createAnchor();\r\n    AnchorNode anchorNode = new AnchorNode(anchor);\r\n    anchorNode.setParent(arFragment.getArSceneView().getScene());\r\n\r\n    TransformableNode n = new TransformableNode(arFragment.getTransformationSystem());\r\n    n.setRenderable(modelRenderable);\r\n\r\n    n.getScaleController().setMinScale(1.74f);\r\n    n.getScaleController().setMaxScale(1.75f);\r\n\r\n    // Set Node&#39;s local scale before setting its Parent\r\n    n.setLocalScale(new Vector3(1.23f, 1.23f, 1.23f));\r\n\r\n    n.setParent(anchorNode);\r\n\r\n&lt;br&gt;&lt;/br&gt;\r\n\r\n## Scaling locally multiple objects\r\n\r\nWhen multiple selected objects are simultaneously scaled locally (using `setLocalScale`), then each of them will be scaled relative to the position of its own pivot point.\r\n\r\nHowever, if you simultaneously scale all these selected objects globally (using `setWorldScale`), they will be scaled relative to one resulting pivot point of The World.\r\n\r\n&lt;br&gt;&lt;/br&gt;\r\n\r\nHere&#39;s a visual representation of local and world scale:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nWorld Scale:\r\n\r\n[![enter image description here][3]][3]\r\n\r\nLocal Scale:\r\n\r\n[![enter image description here][4]][4]\r\n\r\n\r\n  [1]: https://developers.google.com/sceneform/reference/com/google/ar/sceneform/Node#setLocalScale(com.google.ar.sceneform.math.Vector3)\r\n  [2]: https://i.stack.imgur.com/tQYpZ.png\r\n  [3]: https://i.stack.imgur.com/S9SzV.png\r\n  [4]: https://i.stack.imgur.com/W4HOl.png","title":"ARCore – What is the difference between WorldScale and LocalScale?","body":"<h2>Scaling locally a single object</h2>\n<p>In local space, all operations on the model (translation, rotation and scaling) are performed relative to the Pivot Point of the model.</p>\n<p><br></p>\n<p>Official Google ARCore developer documentation <a href=\"https://developers.google.com/sceneform/reference/com/google/ar/sceneform/Node#setLocalScale(com.google.ar.sceneform.math.Vector3)\" rel=\"nofollow noreferrer\">says</a>:</p>\n<pre><code>public void setLocalScale (Vector3 scale) \n</code></pre>\n<blockquote>\n<p>Sets the scale of this node relative to its <em><strong>parent</strong></em> (local-space). If <code>isTopLevel()</code> is true, then this is the same as <code>setWorldScale(Vector3)</code>.</p>\n</blockquote>\n<p>Here's how it looks like in a real code:</p>\n<pre><code>Anchor anchor = hitResult.createAnchor();\nAnchorNode anchorNode = new AnchorNode(anchor);\nanchorNode.setParent(arFragment.getArSceneView().getScene());\n\nTransformableNode n = new TransformableNode(arFragment.getTransformationSystem());\nn.setRenderable(modelRenderable);\n\nn.getScaleController().setMinScale(1.74f);\nn.getScaleController().setMaxScale(1.75f);\n\n// Set Node's local scale before setting its Parent\nn.setLocalScale(new Vector3(1.23f, 1.23f, 1.23f));\n\nn.setParent(anchorNode);\n</code></pre>\n<p><br></p>\n<h2>Scaling locally multiple objects</h2>\n<p>When multiple selected objects are simultaneously scaled locally (using <code>setLocalScale</code>), then each of them will be scaled relative to the position of its own pivot point.</p>\n<p>However, if you simultaneously scale all these selected objects globally (using <code>setWorldScale</code>), they will be scaled relative to one resulting pivot point of The World.</p>\n<p><br></p>\n<p>Here's a visual representation of local and world scale:</p>\n<p><a href=\"https://i.stack.imgur.com/tQYpZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tQYpZ.png\" alt=\"enter image description here\" /></a></p>\n<p>World Scale:</p>\n<p><a href=\"https://i.stack.imgur.com/S9SzV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/S9SzV.png\" alt=\"enter image description here\" /></a></p>\n<p>Local Scale:</p>\n<p><a href=\"https://i.stack.imgur.com/W4HOl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/W4HOl.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":4375600,"reputation":1499,"user_id":3568731,"accept_rate":100,"display_name":"Steven B."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":328,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":67612173,"answer_count":1,"score":2,"last_activity_date":1654828163,"creation_date":1621437146,"question_id":67605996,"body_markdown":"I&#39;m trying to resize my AR models, I&#39;m working with models the size of buildings. \r\n\r\nI managed to resize my model using worldscale and localscale but what exactly is the difference and when should I use worldscale to enlarge my model and when to use localscale?","title":"ARCore – What is the difference between WorldScale and LocalScale?","body":"<p>I'm trying to resize my AR models, I'm working with models the size of buildings.</p>\n<p>I managed to resize my model using worldscale and localscale but what exactly is the difference and when should I use worldscale to enlarge my model and when to use localscale?</p>\n"},{"tags":["java","dictionary","java-8","java-stream"],"comments":[{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1654826099,"post_id":72568256,"comment_id":128190247,"body_markdown":"What is the common.attriibute that links person and relationship?","body":"What is the common.attriibute that links person and relationship?"},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1654826243,"post_id":72568256,"comment_id":128190273,"body_markdown":"Are child and parent ids unique.  You may want to show some before and after examples.","body":"Are child and parent ids unique.  You may want to show some before and after examples."}],"answers":[{"tags":[],"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1654827276,"creation_date":1654827276,"answer_id":72568425,"question_id":72568256,"body_markdown":"You can use a stream instead of looping:\r\n\r\n    Map&lt;Long, Person&gt; parentByChild = map1.values()\r\n    \t\t.stream()\r\n    \t\t.collect(Collectors.toMap(r -&gt; r.childId, r -&gt; map2.get(r.parentId)));","title":"Best way to create one map by combining attributes from 2 maps","body":"<p>You can use a stream instead of looping:</p>\n<pre><code>Map&lt;Long, Person&gt; parentByChild = map1.values()\n        .stream()\n        .collect(Collectors.toMap(r -&gt; r.childId, r -&gt; map2.get(r.parentId)));\n</code></pre>\n"}],"owner":{"account_id":4504119,"reputation":1834,"user_id":3706638,"accept_rate":100,"display_name":"S.Dan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":72568425,"answer_count":1,"score":0,"last_activity_date":1654827276,"creation_date":1654825135,"question_id":72568256,"body_markdown":"Let&#39;s say I have the following 2 classes `Relationship` and `Person` with following attributes:\r\n```\r\nclass Relationship {\r\n   long childId;\r\n   long parentId;\r\n}\r\nclass Person {\r\n   long id;\r\n   String name;\r\n}\r\n```\r\nAnd let&#39;s say I have the following 2 maps\r\n```\r\nMap&lt;Long, Relationship&gt; map1; // key=childIds, value=Relationship object with childId\r\nMap&lt;Long, Person&gt; map2;       // key=parentIds, value=Person object\r\n```\r\n\r\nIf I want a map combining the above 2 maps, where the key is childId and the value is `Person`, what is the best way to do that? I know I can simply iterate over using a loop, but is there an out of the box method for that? \r\n\r\nPseudocode for the iteration would look like: \r\n```\r\nmap3 = new Map&lt;Long, Person&gt;;\r\nfor each entry e in map1{\r\n   Person parent = map2.get(map1.get(e.value().parentId));\r\n   map3.put(e.key(), parent);\r\n}\r\n```","title":"Best way to create one map by combining attributes from 2 maps","body":"<p>Let's say I have the following 2 classes <code>Relationship</code> and <code>Person</code> with following attributes:</p>\n<pre><code>class Relationship {\n   long childId;\n   long parentId;\n}\nclass Person {\n   long id;\n   String name;\n}\n</code></pre>\n<p>And let's say I have the following 2 maps</p>\n<pre><code>Map&lt;Long, Relationship&gt; map1; // key=childIds, value=Relationship object with childId\nMap&lt;Long, Person&gt; map2;       // key=parentIds, value=Person object\n</code></pre>\n<p>If I want a map combining the above 2 maps, where the key is childId and the value is <code>Person</code>, what is the best way to do that? I know I can simply iterate over using a loop, but is there an out of the box method for that?</p>\n<p>Pseudocode for the iteration would look like:</p>\n<pre><code>map3 = new Map&lt;Long, Person&gt;;\nfor each entry e in map1{\n   Person parent = map2.get(map1.get(e.value().parentId));\n   map3.put(e.key(), parent);\n}\n</code></pre>\n"},{"tags":["java","selenium-webdriver","warnings","deprecated"],"comments":[{"owner":{"account_id":20995790,"reputation":77,"user_id":15427652,"display_name":"Kamil"},"score":0,"creation_date":1653903500,"post_id":72424146,"comment_id":127956748,"body_markdown":"Hallo. I have the same situation. But the funniest thing is, that last week everything works well. I changed nothing in code since last Wednesday and today I&#39;m not able to execute my tests.","body":"Hallo. I have the same situation. But the funniest thing is, that last week everything works well. I changed nothing in code since last Wednesday and today I&#39;m not able to execute my tests."},{"owner":{"account_id":17935792,"reputation":33,"user_id":13032145,"display_name":"AutoAlex"},"score":0,"creation_date":1653940767,"post_id":72424146,"comment_id":127969135,"body_markdown":"Well my code runs fine but these warnings annoy me and make me worry that int he future i might run into problems.","body":"Well my code runs fine but these warnings annoy me and make me worry that int he future i might run into problems."}],"answers":[{"tags":[],"owner":{"account_id":25245408,"reputation":56,"user_id":19078743,"display_name":"Rami Shook"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1653975389,"creation_date":1653975389,"answer_id":72442697,"question_id":72424146,"body_markdown":"That&#39;s look an issue for the newest Selenium version(4.2.0),\r\nBecause its **Logging warnings when non-W3C caps are being used** [(release notes)][1]\r\n\r\nand reported as a bug on Selenium Github Repo [ISSUE 10711][2].\r\n \r\nas diemol (SeleniumHQ core member) commented, a patch will be released soon.\r\n\r\nIn fact, issue is coming from (Chrome, Edge and Gecko) driver&#39;s side\r\n\r\n&gt; when a session is created, driver&#39;s is returning non-W3C WebDriver caps\r\n\r\n\r\nFor now no need to worry about this warnings, the new Selenium release will ignore this warnings for ChromeDriver, EdgeWebDriver and GeckoDriver as you can see [commit on Selenium repo][3] until this issue is fixed from the WebDrivers side.\r\n\r\n - Issue for Chrome Driver reported [HERE][4].\r\n - Issue for Edge Web Driver reported [HERE][5].\r\n - Issue for Gecko Driver reported [HERE][5].\r\n\r\n\r\n  [1]: https://github.com/SeleniumHQ/selenium/blob/f2e40dc9867c7312b616c81d230f603cf6664535/java/CHANGELOG#L22\r\n  [2]: https://github.com/SeleniumHQ/selenium/issues/10711\r\n  [3]: https://github.com/SeleniumHQ/selenium/commit/2c66554f2660e533521dc630341a80d55f98e975\r\n  [4]: https://bugs.chromium.org/p/chromedriver/issues/detail?id=4129\r\n  [5]: https://github.com/MicrosoftEdge/EdgeWebDriver/issues/23","title":"Getting Warning for deprecation without using setCapabilities class","body":"<p>That's look an issue for the newest Selenium version(4.2.0),\nBecause its <strong>Logging warnings when non-W3C caps are being used</strong> <a href=\"https://github.com/SeleniumHQ/selenium/blob/f2e40dc9867c7312b616c81d230f603cf6664535/java/CHANGELOG#L22\" rel=\"nofollow noreferrer\">(release notes)</a></p>\n<p>and reported as a bug on Selenium Github Repo <a href=\"https://github.com/SeleniumHQ/selenium/issues/10711\" rel=\"nofollow noreferrer\">ISSUE 10711</a>.</p>\n<p>as diemol (SeleniumHQ core member) commented, a patch will be released soon.</p>\n<p>In fact, issue is coming from (Chrome, Edge and Gecko) driver's side</p>\n<blockquote>\n<p>when a session is created, driver's is returning non-W3C WebDriver caps</p>\n</blockquote>\n<p>For now no need to worry about this warnings, the new Selenium release will ignore this warnings for ChromeDriver, EdgeWebDriver and GeckoDriver as you can see <a href=\"https://github.com/SeleniumHQ/selenium/commit/2c66554f2660e533521dc630341a80d55f98e975\" rel=\"nofollow noreferrer\">commit on Selenium repo</a> until this issue is fixed from the WebDrivers side.</p>\n<ul>\n<li>Issue for Chrome Driver reported <a href=\"https://bugs.chromium.org/p/chromedriver/issues/detail?id=4129\" rel=\"nofollow noreferrer\">HERE</a>.</li>\n<li>Issue for Edge Web Driver reported <a href=\"https://github.com/MicrosoftEdge/EdgeWebDriver/issues/23\" rel=\"nofollow noreferrer\">HERE</a>.</li>\n<li>Issue for Gecko Driver reported <a href=\"https://github.com/MicrosoftEdge/EdgeWebDriver/issues/23\" rel=\"nofollow noreferrer\">HERE</a>.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":13224754,"reputation":1,"user_id":9550192,"display_name":"Fu cheng Hsu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654827198,"creation_date":1654827198,"answer_id":72568419,"question_id":72424146,"body_markdown":"This issue was solved at selenium v4.2.2\r\nPlease see https://github.com/SeleniumHQ/selenium/blob/trunk/java/CHANGELOG\r\n\r\nv4.2.2\r\n======\r\n* Supported CDP versions: 85, 100, 101, 102\r\n* Throwing warnings for non-W3C before creating session (#10741)\r\n* Update ExpectedCondition to extend java util Function (#10695)\r\n* Fixing SafariTechPreview","title":"Getting Warning for deprecation without using setCapabilities class","body":"<p>This issue was solved at selenium v4.2.2\nPlease see <a href=\"https://github.com/SeleniumHQ/selenium/blob/trunk/java/CHANGELOG\" rel=\"nofollow noreferrer\">https://github.com/SeleniumHQ/selenium/blob/trunk/java/CHANGELOG</a></p>\n<h1>v4.2.2</h1>\n<ul>\n<li>Supported CDP versions: 85, 100, 101, 102</li>\n<li>Throwing warnings for non-W3C before creating session (#10741)</li>\n<li>Update ExpectedCondition to extend java util Function (#10695)</li>\n<li>Fixing SafariTechPreview</li>\n</ul>\n"}],"owner":{"account_id":17935792,"reputation":33,"user_id":13032145,"display_name":"AutoAlex"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4680,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72442697,"answer_count":2,"score":2,"last_activity_date":1654827198,"creation_date":1653831554,"question_id":72424146,"body_markdown":"I am creating a Selenium testing framework. I have created my baseclass and am adding things now. It is at a basic stage but already when executing a test class I get Warnings that Im not following W3C syntax. I have tried to google the error and understand where I am not following it, but the articles i find only mention the deprecated setCapabilites. What am I doing wrong?\r\n\r\nConsole Log text:\r\n\r\n    ChromeDriver was started successfully.\r\n    May 29, 2022 2:21:12 P.M. org.openqa.selenium.remote.ProtocolHandshake createSession\r\n    INFO: Detected upstream dialect: W3C\r\n    May 29, 2022 2:21:12 P.M. org.openqa.selenium.W3CCapabilityKeysValidator validateCapability\r\n    WARNING: Support for Legacy Capabilities is deprecated; You are sending &quot;chrome&quot; which is an invalid capability. Please update to W3C Syntax: https://www.selenium.dev/blog/2022/legacy-protocol-support/\r\n    May 29, 2022 2:21:12 P.M. org.openqa.selenium.W3CCapabilityKeysValidator validateCapability\r\n    WARNING: Support for Legacy Capabilities is deprecated; You are sending &quot;chrome&quot; which is an invalid capability. Please update to W3C Syntax: https://www.selenium.dev/blog/2022/legacy-protocol-support/\r\n    May 29, 2022 2:21:12 P.M. org.openqa.selenium.W3CCapabilityKeysValidator validateCapability\r\n    WARNING: Support for Legacy Capabilities is deprecated; You are sending &quot;networkConnectionEnabled&quot; which is an invalid capability. Please update to W3C Syntax: https://www.selenium.dev/blog/2022/legacy-protocol-support/\r\n    May 29, 2022 2:21:12 P.M. org.openqa.selenium.W3CCapabilityKeysValidator validateCapability\r\n    WARNING: Support for Legacy Capabilities is deprecated; You are sending &quot;networkConnectionEnabled&quot; which is an invalid capability. Please update to W3C Syntax: https://www.selenium.dev/blog/2022/legacy-protocol-support/\r\n    May 29, 2022 2:21:12 P.M. org.openqa.selenium.W3CCapabilityKeysValidator validateCapability\r\n    WARNING: Support for Legacy Capabilities is deprecated; You are sending &quot;platform&quot; which is an invalid capability. Please update to W3C Syntax: https://www.selenium.dev/blog/2022/legacy-protocol-support/\r\n    May 29, 2022 2:21:12 P.M. org.openqa.selenium.W3CCapabilityKeysValidator validateCapability\r\n    WARNING: Support for Legacy Capabilities is deprecated; You are sending &quot;platform&quot; which is an invalid capability. Please update to W3C Syntax: https://www.selenium.dev/blog/2022/legacy-protocol-support/\r\n    May 29, 2022 2:21:12 P.M. org.openqa.selenium.W3CCapabilityKeysValidator validateCapability\r\n    WARNING: Support for Legacy Capabilities is deprecated; You are sending &quot;javascriptEnabled&quot; which is an invalid capability. Please update to W3C Syntax: https://www.selenium.dev/blog/2022/legacy-protocol-support/\r\n    May 29, 2022 2:21:12 P.M. org.openqa.selenium.W3CCapabilityKeysValidator validateCapability\r\n    WARNING: Support for Legacy Capabilities is deprecated; You are sending &quot;javascriptEnabled&quot; which is an invalid capability. Please update to W3C Syntax: https://www.selenium.dev/blog/2022/legacy-protocol-support/\r\n    May 29, 2022 2:21:12 P.M. org.openqa.selenium.devtools.CdpVersionFinder findNearestMatch\r\n    INFO: Found exact CDP implementation for version 101\r\n    May 29, 2022 2:21:12 P.M. org.openqa.selenium.W3CCapabilityKeysValidator validateCapability\r\n    WARNING: Support for Legacy Capabilities is deprecated; You are sending &quot;chrome&quot; which is an invalid capability. Please update to W3C Syntax: https://www.selenium.dev/blog/2022/legacy-protocol-support/\r\n    May 29, 2022 2:21:12 P.M. org.openqa.selenium.W3CCapabilityKeysValidator validateCapability\r\n    WARNING: Support for Legacy Capabilities is deprecated; You are sending &quot;javascriptEnabled&quot; which is an invalid capability. Please update to W3C Syntax: https://www.selenium.dev/blog/2022/legacy-protocol-support/\r\n    May 29, 2022 2:21:12 P.M. org.openqa.selenium.W3CCapabilityKeysValidator validateCapability\r\n    WARNING: Support for Legacy Capabilities is deprecated; You are sending &quot;networkConnectionEnabled&quot; which is an invalid capability. Please update to W3C Syntax: https://www.selenium.dev/blog/2022/legacy-protocol-support/\r\n    May 29, 2022 2:21:12 P.M. org.openqa.selenium.W3CCapabilityKeysValidator validateCapability\r\n    WARNING: Support for Legacy Capabilities is deprecated; You are sending &quot;platform&quot; which is an invalid capability. Please update to W3C Syntax: https://www.selenium.dev/blog/2022/legacy-protocol-support/\r\n    May 29, 2022 2:21:12 P.M. org.openqa.selenium.W3CCapabilityKeysValidator validateCapability\r\n    WARNING: Support for Legacy Capabilities is deprecated; You are sending &quot;networkConnectionEnabled&quot; which is an invalid capability. Please update to W3C Syntax: https://www.selenium.dev/blog/2022/legacy-protocol-support/\r\n    May 29, 2022 2:21:12 P.M. org.openqa.selenium.W3CCapabilityKeysValidator validateCapability\r\n    WARNING: Support for Legacy Capabilities is deprecated; You are sending &quot;chrome&quot; which is an invalid capability. Please update to W3C Syntax: https://www.selenium.dev/blog/2022/legacy-protocol-support/\r\n    May 29, 2022 2:21:12 P.M. org.openqa.selenium.W3CCapabilityKeysValidator validateCapability\r\n    WARNING: Support for Legacy Capabilities is deprecated; You are sending &quot;platform&quot; which is an invalid capability. Please update to W3C Syntax: https://www.selenium.dev/blog/2022/legacy-protocol-support/\r\n    May 29, 2022 2:21:12 P.M. org.openqa.selenium.W3CCapabilityKeysValidator validateCapability\r\n    WARNING: Support for Legacy Capabilities is deprecated; You are sending &quot;javascriptEnabled&quot; which is an invalid capability. Please update to W3C Syntax: https://www.selenium.dev/blog/2022/legacy-protocol-support/\r\n    May 29, 2022 2:21:12 P.M. org.openqa.selenium.W3CCapabilityKeysValidator validateCapability\r\n    WARNING: Support for Legacy Capabilities is deprecated; You are sending &quot;networkConnectionEnabled&quot; which is an invalid capability. Please update to W3C Syntax: https://www.selenium.dev/blog/2022/legacy-protocol-support/\r\n    May 29, 2022 2:21:12 P.M. org.openqa.selenium.W3CCapabilityKeysValidator validateCapability\r\n    WARNING: Support for Legacy Capabilities is deprecated; You are sending &quot;chrome&quot; which is an invalid capability. Please update to W3C Syntax: https://www.selenium.dev/blog/2022/legacy-protocol-support/\r\n    May 29, 2022 2:21:12 P.M. org.openqa.selenium.W3CCapabilityKeysValidator validateCapability\r\n    WARNING: Support for Legacy Capabilities is deprecated; You are sending &quot;platform&quot; which is an invalid capability. Please update to W3C Syntax: https://www.selenium.dev/blog/2022/legacy-protocol-support/\r\n    May 29, 2022 2:21:12 P.M. org.openqa.selenium.W3CCapabilityKeysValidator validateCapability\r\n    WARNING: Support for Legacy Capabilities is deprecated; You are sending &quot;javascriptEnabled&quot; which is an invalid capability. Please update to W3C Syntax: https://www.selenium.dev/blog/2022/legacy-protocol-support/\r\n    May 29, 2022 2:21:12 P.M. org.openqa.selenium.W3CCapabilityKeysValidator validateCapability\r\n    WARNING: Support for Legacy Capabilities is deprecated; You are sending &quot;networkConnectionEnabled&quot; which is an invalid capability. Please update to W3C Syntax: https://www.selenium.dev/blog/2022/legacy-protocol-support/\r\n    May 29, 2022 2:21:12 P.M. org.openqa.selenium.W3CCapabilityKeysValidator validateCapability\r\n    WARNING: Support for Legacy Capabilities is deprecated; You are sending &quot;chrome&quot; which is an invalid capability. Please update to W3C Syntax: https://www.selenium.dev/blog/2022/legacy-protocol-support/\r\n    May 29, 2022 2:21:12 P.M. org.openqa.selenium.W3CCapabilityKeysValidator validateCapability\r\n    WARNING: Support for Legacy Capabilities is deprecated; You are sending &quot;platform&quot; which is an invalid capability. Please update to W3C Syntax: https://www.selenium.dev/blog/2022/legacy-protocol-support/\r\n    May 29, 2022 2:21:12 P.M. org.openqa.selenium.W3CCapabilityKeysValidator validateCapability\r\n    WARNING: Support for Legacy Capabilities is deprecated; You are sending &quot;javascriptEnabled&quot; which is an invalid capability. Please update to W3C Syntax: https://www.selenium.dev/blog/2022/legacy-protocol-support/\r\n    May 29, 2022 2:21:12 P.M. org.openqa.selenium.W3CCapabilityKeysValidator validateCapability\r\n    WARNING: Support for Legacy Capabilities is deprecated; You are sending &quot;chrome&quot; which is an invalid capability. Please update to W3C Syntax: https://www.selenium.dev/blog/2022/legacy-protocol-support/\r\n    May 29, 2022 2:21:12 P.M. org.openqa.selenium.W3CCapabilityKeysValidator validateCapability\r\n    WARNING: Support for Legacy Capabilities is deprecated; You are sending &quot;javascriptEnabled&quot; which is an invalid capability. Please update to W3C Syntax: https://www.selenium.dev/blog/2022/legacy-protocol-support/\r\n    May 29, 2022 2:21:12 P.M. org.openqa.selenium.W3CCapabilityKeysValidator validateCapability\r\n    WARNING: Support for Legacy Capabilities is deprecated; You are sending &quot;networkConnectionEnabled&quot; which is an invalid capability. Please update to W3C Syntax: https://www.selenium.dev/blog/2022/legacy-protocol-support/\r\n    May 29, 2022 2:21:12 P.M. org.openqa.selenium.W3CCapabilityKeysValidator validateCapability\r\n    WARNING: Support for Legacy Capabilities is deprecated; You are sending &quot;platform&quot; which is an invalid capability. Please update to W3C Syntax: https://www.selenium.dev/blog/2022/legacy-protocol-support/\r\n\r\nMy base class:\r\n\r\n    package resources;\r\n    \r\n    import java.io.FileInputStream;\r\n    import java.io.IOException;\r\n    import java.time.Duration;\r\n    import java.util.Properties;\r\n    \r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.chrome.ChromeDriver;\r\n    import org.openqa.selenium.chrome.ChromeOptions;\r\n    import org.openqa.selenium.firefox.FirefoxDriver;\r\n    import org.openqa.selenium.ie.InternetExplorerDriver;\r\n    \r\n    public class base {\r\n    \r\n    \tpublic WebDriver driver;\r\n    \tpublic Properties prop;\r\n    \r\n    \tpublic WebDriver initializeDriver() throws IOException {\r\n    \t\t\r\n    \t\t\r\n    \t\tFileInputStream fis=new FileInputStream(&quot;D:\\\\Projects\\\\EclipseWorkspace\\\\E2EPrj\\\\src\\\\main\\\\java\\\\resources\\\\data.properties&quot;);\r\n    \t\tprop = new Properties();\r\n    \t\t\r\n    \t\tprop.load(fis);\r\n    \t\tString browserName = prop.getProperty(&quot;browser&quot;);\r\n    \t\t\r\n    \t\tif(browserName.equals(&quot;chrome&quot;))\r\n    \t\t{\r\n    \t\t\t//execute in chromedriver\r\n    \t\t\tChromeOptions options = new ChromeOptions();\r\n    \t\t\toptions.addArguments(&quot;start-maximized&quot;);\r\n    \t\t\t\r\n    \t\t\tSystem.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;D:\\\\Projects\\\\chromedriver.exe&quot;);\r\n    \t\t\tdriver = new ChromeDriver(options);\r\n    \t\t\t\r\n    \t\t}\r\n    \t\telse if(browserName.equals(&quot;firefox&quot;))\r\n    \t\t{\r\n    \t\t\t//execute in geckodriver\r\n    \t\t\tSystem.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;D:\\\\Projects\\\\geckodriver.exe&quot;);\r\n    \t\t\tdriver = new FirefoxDriver();\r\n    \t\t}\r\n    \t\telse if(browserName.equals(&quot;IE&quot;))\r\n    \t\t{\r\n    \t\t\t//execute in IEdriver\r\n    \t\t\tSystem.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;D:\\\\Projects\\\\IEDriverServer.exe&quot;);\r\n    \t\t\tdriver = new InternetExplorerDriver();\r\n    \t\t}\r\n    \t\t\r\n    \t\tdriver.manage().timeouts().implicitlyWait(Duration.ofSeconds(3));\r\n    //\t\tdriver.manage().deleteAllCookies();\r\n    \t\t\r\n    \t\treturn driver;\r\n    \t}\r\n    \t\r\n    //\tpublic String getScreenShotPath(String testCaseName, WebDriver driver) throws IOException\r\n    //\t{\r\n    //\t\tTakesScreenshot ts=(TakesScreenshot) driver;\r\n    //\t\tFile source = ts.getScreenshotAs(OutputType.FILE);\r\n    //\t\tString destinationFile = &quot;.\\\\reports\\\\&quot;+testCaseName+&quot;.png&quot;;\r\n    //\t\tFileUtils.copyFile(source, new File(destinationFile));\r\n    //\t\treturn destinationFile;\r\n    //\t}\r\n    \t\r\n    }\r\n\r\n","title":"Getting Warning for deprecation without using setCapabilities class","body":"<p>I am creating a Selenium testing framework. I have created my baseclass and am adding things now. It is at a basic stage but already when executing a test class I get Warnings that Im not following W3C syntax. I have tried to google the error and understand where I am not following it, but the articles i find only mention the deprecated setCapabilites. What am I doing wrong?</p>\n<p>Console Log text:</p>\n<pre><code>ChromeDriver was started successfully.\nMay 29, 2022 2:21:12 P.M. org.openqa.selenium.remote.ProtocolHandshake createSession\nINFO: Detected upstream dialect: W3C\nMay 29, 2022 2:21:12 P.M. org.openqa.selenium.W3CCapabilityKeysValidator validateCapability\nWARNING: Support for Legacy Capabilities is deprecated; You are sending &quot;chrome&quot; which is an invalid capability. Please update to W3C Syntax: https://www.selenium.dev/blog/2022/legacy-protocol-support/\nMay 29, 2022 2:21:12 P.M. org.openqa.selenium.W3CCapabilityKeysValidator validateCapability\nWARNING: Support for Legacy Capabilities is deprecated; You are sending &quot;chrome&quot; which is an invalid capability. Please update to W3C Syntax: https://www.selenium.dev/blog/2022/legacy-protocol-support/\nMay 29, 2022 2:21:12 P.M. org.openqa.selenium.W3CCapabilityKeysValidator validateCapability\nWARNING: Support for Legacy Capabilities is deprecated; You are sending &quot;networkConnectionEnabled&quot; which is an invalid capability. Please update to W3C Syntax: https://www.selenium.dev/blog/2022/legacy-protocol-support/\nMay 29, 2022 2:21:12 P.M. org.openqa.selenium.W3CCapabilityKeysValidator validateCapability\nWARNING: Support for Legacy Capabilities is deprecated; You are sending &quot;networkConnectionEnabled&quot; which is an invalid capability. Please update to W3C Syntax: https://www.selenium.dev/blog/2022/legacy-protocol-support/\nMay 29, 2022 2:21:12 P.M. org.openqa.selenium.W3CCapabilityKeysValidator validateCapability\nWARNING: Support for Legacy Capabilities is deprecated; You are sending &quot;platform&quot; which is an invalid capability. Please update to W3C Syntax: https://www.selenium.dev/blog/2022/legacy-protocol-support/\nMay 29, 2022 2:21:12 P.M. org.openqa.selenium.W3CCapabilityKeysValidator validateCapability\nWARNING: Support for Legacy Capabilities is deprecated; You are sending &quot;platform&quot; which is an invalid capability. Please update to W3C Syntax: https://www.selenium.dev/blog/2022/legacy-protocol-support/\nMay 29, 2022 2:21:12 P.M. org.openqa.selenium.W3CCapabilityKeysValidator validateCapability\nWARNING: Support for Legacy Capabilities is deprecated; You are sending &quot;javascriptEnabled&quot; which is an invalid capability. Please update to W3C Syntax: https://www.selenium.dev/blog/2022/legacy-protocol-support/\nMay 29, 2022 2:21:12 P.M. org.openqa.selenium.W3CCapabilityKeysValidator validateCapability\nWARNING: Support for Legacy Capabilities is deprecated; You are sending &quot;javascriptEnabled&quot; which is an invalid capability. Please update to W3C Syntax: https://www.selenium.dev/blog/2022/legacy-protocol-support/\nMay 29, 2022 2:21:12 P.M. org.openqa.selenium.devtools.CdpVersionFinder findNearestMatch\nINFO: Found exact CDP implementation for version 101\nMay 29, 2022 2:21:12 P.M. org.openqa.selenium.W3CCapabilityKeysValidator validateCapability\nWARNING: Support for Legacy Capabilities is deprecated; You are sending &quot;chrome&quot; which is an invalid capability. Please update to W3C Syntax: https://www.selenium.dev/blog/2022/legacy-protocol-support/\nMay 29, 2022 2:21:12 P.M. org.openqa.selenium.W3CCapabilityKeysValidator validateCapability\nWARNING: Support for Legacy Capabilities is deprecated; You are sending &quot;javascriptEnabled&quot; which is an invalid capability. Please update to W3C Syntax: https://www.selenium.dev/blog/2022/legacy-protocol-support/\nMay 29, 2022 2:21:12 P.M. org.openqa.selenium.W3CCapabilityKeysValidator validateCapability\nWARNING: Support for Legacy Capabilities is deprecated; You are sending &quot;networkConnectionEnabled&quot; which is an invalid capability. Please update to W3C Syntax: https://www.selenium.dev/blog/2022/legacy-protocol-support/\nMay 29, 2022 2:21:12 P.M. org.openqa.selenium.W3CCapabilityKeysValidator validateCapability\nWARNING: Support for Legacy Capabilities is deprecated; You are sending &quot;platform&quot; which is an invalid capability. Please update to W3C Syntax: https://www.selenium.dev/blog/2022/legacy-protocol-support/\nMay 29, 2022 2:21:12 P.M. org.openqa.selenium.W3CCapabilityKeysValidator validateCapability\nWARNING: Support for Legacy Capabilities is deprecated; You are sending &quot;networkConnectionEnabled&quot; which is an invalid capability. Please update to W3C Syntax: https://www.selenium.dev/blog/2022/legacy-protocol-support/\nMay 29, 2022 2:21:12 P.M. org.openqa.selenium.W3CCapabilityKeysValidator validateCapability\nWARNING: Support for Legacy Capabilities is deprecated; You are sending &quot;chrome&quot; which is an invalid capability. Please update to W3C Syntax: https://www.selenium.dev/blog/2022/legacy-protocol-support/\nMay 29, 2022 2:21:12 P.M. org.openqa.selenium.W3CCapabilityKeysValidator validateCapability\nWARNING: Support for Legacy Capabilities is deprecated; You are sending &quot;platform&quot; which is an invalid capability. Please update to W3C Syntax: https://www.selenium.dev/blog/2022/legacy-protocol-support/\nMay 29, 2022 2:21:12 P.M. org.openqa.selenium.W3CCapabilityKeysValidator validateCapability\nWARNING: Support for Legacy Capabilities is deprecated; You are sending &quot;javascriptEnabled&quot; which is an invalid capability. Please update to W3C Syntax: https://www.selenium.dev/blog/2022/legacy-protocol-support/\nMay 29, 2022 2:21:12 P.M. org.openqa.selenium.W3CCapabilityKeysValidator validateCapability\nWARNING: Support for Legacy Capabilities is deprecated; You are sending &quot;networkConnectionEnabled&quot; which is an invalid capability. Please update to W3C Syntax: https://www.selenium.dev/blog/2022/legacy-protocol-support/\nMay 29, 2022 2:21:12 P.M. org.openqa.selenium.W3CCapabilityKeysValidator validateCapability\nWARNING: Support for Legacy Capabilities is deprecated; You are sending &quot;chrome&quot; which is an invalid capability. Please update to W3C Syntax: https://www.selenium.dev/blog/2022/legacy-protocol-support/\nMay 29, 2022 2:21:12 P.M. org.openqa.selenium.W3CCapabilityKeysValidator validateCapability\nWARNING: Support for Legacy Capabilities is deprecated; You are sending &quot;platform&quot; which is an invalid capability. Please update to W3C Syntax: https://www.selenium.dev/blog/2022/legacy-protocol-support/\nMay 29, 2022 2:21:12 P.M. org.openqa.selenium.W3CCapabilityKeysValidator validateCapability\nWARNING: Support for Legacy Capabilities is deprecated; You are sending &quot;javascriptEnabled&quot; which is an invalid capability. Please update to W3C Syntax: https://www.selenium.dev/blog/2022/legacy-protocol-support/\nMay 29, 2022 2:21:12 P.M. org.openqa.selenium.W3CCapabilityKeysValidator validateCapability\nWARNING: Support for Legacy Capabilities is deprecated; You are sending &quot;networkConnectionEnabled&quot; which is an invalid capability. Please update to W3C Syntax: https://www.selenium.dev/blog/2022/legacy-protocol-support/\nMay 29, 2022 2:21:12 P.M. org.openqa.selenium.W3CCapabilityKeysValidator validateCapability\nWARNING: Support for Legacy Capabilities is deprecated; You are sending &quot;chrome&quot; which is an invalid capability. Please update to W3C Syntax: https://www.selenium.dev/blog/2022/legacy-protocol-support/\nMay 29, 2022 2:21:12 P.M. org.openqa.selenium.W3CCapabilityKeysValidator validateCapability\nWARNING: Support for Legacy Capabilities is deprecated; You are sending &quot;platform&quot; which is an invalid capability. Please update to W3C Syntax: https://www.selenium.dev/blog/2022/legacy-protocol-support/\nMay 29, 2022 2:21:12 P.M. org.openqa.selenium.W3CCapabilityKeysValidator validateCapability\nWARNING: Support for Legacy Capabilities is deprecated; You are sending &quot;javascriptEnabled&quot; which is an invalid capability. Please update to W3C Syntax: https://www.selenium.dev/blog/2022/legacy-protocol-support/\nMay 29, 2022 2:21:12 P.M. org.openqa.selenium.W3CCapabilityKeysValidator validateCapability\nWARNING: Support for Legacy Capabilities is deprecated; You are sending &quot;chrome&quot; which is an invalid capability. Please update to W3C Syntax: https://www.selenium.dev/blog/2022/legacy-protocol-support/\nMay 29, 2022 2:21:12 P.M. org.openqa.selenium.W3CCapabilityKeysValidator validateCapability\nWARNING: Support for Legacy Capabilities is deprecated; You are sending &quot;javascriptEnabled&quot; which is an invalid capability. Please update to W3C Syntax: https://www.selenium.dev/blog/2022/legacy-protocol-support/\nMay 29, 2022 2:21:12 P.M. org.openqa.selenium.W3CCapabilityKeysValidator validateCapability\nWARNING: Support for Legacy Capabilities is deprecated; You are sending &quot;networkConnectionEnabled&quot; which is an invalid capability. Please update to W3C Syntax: https://www.selenium.dev/blog/2022/legacy-protocol-support/\nMay 29, 2022 2:21:12 P.M. org.openqa.selenium.W3CCapabilityKeysValidator validateCapability\nWARNING: Support for Legacy Capabilities is deprecated; You are sending &quot;platform&quot; which is an invalid capability. Please update to W3C Syntax: https://www.selenium.dev/blog/2022/legacy-protocol-support/\n</code></pre>\n<p>My base class:</p>\n<pre><code>package resources;\n\nimport java.io.FileInputStream;\nimport java.io.IOException;\nimport java.time.Duration;\nimport java.util.Properties;\n\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.chrome.ChromeDriver;\nimport org.openqa.selenium.chrome.ChromeOptions;\nimport org.openqa.selenium.firefox.FirefoxDriver;\nimport org.openqa.selenium.ie.InternetExplorerDriver;\n\npublic class base {\n\n    public WebDriver driver;\n    public Properties prop;\n\n    public WebDriver initializeDriver() throws IOException {\n        \n        \n        FileInputStream fis=new FileInputStream(&quot;D:\\\\Projects\\\\EclipseWorkspace\\\\E2EPrj\\\\src\\\\main\\\\java\\\\resources\\\\data.properties&quot;);\n        prop = new Properties();\n        \n        prop.load(fis);\n        String browserName = prop.getProperty(&quot;browser&quot;);\n        \n        if(browserName.equals(&quot;chrome&quot;))\n        {\n            //execute in chromedriver\n            ChromeOptions options = new ChromeOptions();\n            options.addArguments(&quot;start-maximized&quot;);\n            \n            System.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;D:\\\\Projects\\\\chromedriver.exe&quot;);\n            driver = new ChromeDriver(options);\n            \n        }\n        else if(browserName.equals(&quot;firefox&quot;))\n        {\n            //execute in geckodriver\n            System.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;D:\\\\Projects\\\\geckodriver.exe&quot;);\n            driver = new FirefoxDriver();\n        }\n        else if(browserName.equals(&quot;IE&quot;))\n        {\n            //execute in IEdriver\n            System.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;D:\\\\Projects\\\\IEDriverServer.exe&quot;);\n            driver = new InternetExplorerDriver();\n        }\n        \n        driver.manage().timeouts().implicitlyWait(Duration.ofSeconds(3));\n//      driver.manage().deleteAllCookies();\n        \n        return driver;\n    }\n    \n//  public String getScreenShotPath(String testCaseName, WebDriver driver) throws IOException\n//  {\n//      TakesScreenshot ts=(TakesScreenshot) driver;\n//      File source = ts.getScreenshotAs(OutputType.FILE);\n//      String destinationFile = &quot;.\\\\reports\\\\&quot;+testCaseName+&quot;.png&quot;;\n//      FileUtils.copyFile(source, new File(destinationFile));\n//      return destinationFile;\n//  }\n    \n}\n</code></pre>\n"},{"tags":["java","hibernate","jdbc","c3p0"],"comments":[{"owner":{"account_id":26513,"reputation":5382,"user_id":69051,"accept_rate":89,"display_name":"01es"},"score":0,"creation_date":1336056972,"post_id":10433145,"comment_id":13467252,"body_markdown":"Every time I use C3P0, its settings are specified without the hibernate prefix. I.e. c3p0.min_size=5 instead of hibernate.c3p0.min_size=5. Pls also try the c3p0.idle_test_period setting as per my answer.","body":"Every time I use C3P0, its settings are specified without the hibernate prefix. I.e. c3p0.min_size=5 instead of hibernate.c3p0.min_size=5. Pls also try the c3p0.idle_test_period setting as per my answer."},{"owner":{"account_id":392889,"reputation":1423,"user_id":754439,"accept_rate":100,"display_name":"nekojsi"},"score":0,"creation_date":1336058025,"post_id":10433145,"comment_id":13467731,"body_markdown":"Please see [this part of the c3p0 documentation](http://www.mchange.com/projects/c3p0/index.html#hibernate-specific). Properties are indeed prefixed with &quot;hibernate.c3p0&quot;. I will get back once I try the c3p0.idle_test_period setting.","body":"Please see <a href=\"http://www.mchange.com/projects/c3p0/index.html#hibernate-specific\" rel=\"nofollow noreferrer\">this part of the c3p0 documentation</a>. Properties are indeed prefixed with &quot;hibernate.c3p0&quot;. I will get back once I try the c3p0.idle_test_period setting."},{"owner":{"account_id":392889,"reputation":1423,"user_id":754439,"accept_rate":100,"display_name":"nekojsi"},"score":0,"creation_date":1336126621,"post_id":10433145,"comment_id":13487489,"body_markdown":"Sorry, it turns out that we were not using C3P0 at all, as it was not correctly picked up as a dependency, so this will probably fix the &quot;Connection Closed&quot; problem, regardless of the c3p0.idle_test_period property. However, I am still interested if the `connection` object should be maintained by my code or Hibernate takes care for it automatically.","body":"Sorry, it turns out that we were not using C3P0 at all, as it was not correctly picked up as a dependency, so this will probably fix the &quot;Connection Closed&quot; problem, regardless of the c3p0.idle_test_period property. However, I am still interested if the <code>connection</code> object should be maintained by my code or Hibernate takes care for it automatically."},{"owner":{"account_id":26513,"reputation":5382,"user_id":69051,"accept_rate":89,"display_name":"01es"},"score":1,"creation_date":1336132563,"post_id":10433145,"comment_id":13489588,"body_markdown":"It is passed in as a method argument by Hibernate, and thus should not be tempted (e.g. closed) inside the method -- this is Hibernate&#39;s responsibility.","body":"It is passed in as a method argument by Hibernate, and thus should not be tempted (e.g. closed) inside the method -- this is Hibernate&#39;s responsibility."},{"owner":{"account_id":392889,"reputation":1423,"user_id":754439,"accept_rate":100,"display_name":"nekojsi"},"score":0,"creation_date":1336135674,"post_id":10433145,"comment_id":13490784,"body_markdown":"Thanks! Please state this in your answer so I can accept it.","body":"Thanks! Please state this in your answer so I can accept it."}],"answers":[{"tags":[],"owner":{"account_id":26513,"reputation":5382,"user_id":69051,"accept_rate":89,"display_name":"01es"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1654826042,"creation_date":1336055144,"answer_id":10433438,"question_id":10433145,"body_markdown":"The database connection is passed in as a method argument by Hibernate, and thus should not be tampered with (e.g. closed) inside the method -- this is Hibernate&#39;s responsibility.","title":"Should the &quot;connection&quot; argument of doWork() be closed?","body":"<p>The database connection is passed in as a method argument by Hibernate, and thus should not be tampered with (e.g. closed) inside the method -- this is Hibernate's responsibility.</p>\n"}],"owner":{"account_id":392889,"reputation":1423,"user_id":754439,"accept_rate":100,"display_name":"nekojsi"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4132,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":10433438,"answer_count":1,"score":11,"last_activity_date":1654826042,"creation_date":1336054162,"question_id":10433145,"body_markdown":"I am using a C3P0 Connection Pool with Hibernate to execute some JDBC operations. However, I am getting a &quot;Closed Connection&quot; (SQL Error: 17008, SQLState: null) error after some time of usage.\r\n\r\nI am using the [org.hibernate.jdbc.Work][1] interface to perform my operations:\r\n\r\n    public class ClassThatDoesWork implements Work {\r\n\r\n        @Override\r\n        public void execute(final Connection connection)\r\n                throws SQLException {\r\n\r\n            doSomeWork();\r\n            //should connection be closed here?\r\n        }\r\n    }\r\n\r\nMy question is: should the `connection` object passed as an argument to the `execute()` method be closed at the end of that method or Hibernate takes care for that automatically?\r\n\r\nEDIT\r\nThese are the Hibernate and c3p0 parameters used:\r\n\r\n    hibernate.connection.driver_class=oracle.jdbc.driver.OracleDriver\r\n    hibernate.connection.pool_size=10\r\n    hibernate.dialect=org.hibernate.dialect.Oracle9iDialect\r\n    hibernate.connection.provider_class=org.hibernate.connection.C3P0ConnectionProvider\r\n    hibernate.show_sql=false\r\n    acquireIncrement=3\r\n    acquireRetryDelay=500\r\n    acquireRetryAttempts=5\r\n    breakAfterAcquireFailure=false\r\n    checkoutTimeout=0\r\n    connectionTesterClassName=com.mchange.v2.impl.DefaultConnectionTester\r\n    debugUnreturnedConnectionStackTraces=false\r\n    dataSourceName=irrelevantDB\r\n    identityToken=irrelevantDB\r\n    idleConnectionTestPeriod=0\r\n    initialPoolSize=3\r\n    maxConnectionAge=0\r\n    maxIdleTime=7200\r\n    maxIdleTimeExcessConnections=0\r\n    maxPoolSize=20\r\n    maxStatements=50\r\n    maxStatementsPerConnection=0\r\n    minPoolSize=5\r\n    numHelperThreads=3\r\n    propertyCycle=0\r\n    testConnectionOnCheckin=false\r\n    testConnectionOnCheckout=true\r\n    unreturnedConnectionTimeout=0\r\n    hibernate.c3p0.min_size=5\r\n    hibernate.c3p0.max_size=20\r\n    hibernate.c3p0.timeout=10\r\n    hibernate.c3p0.max_statements=50\r\n\r\n\r\n  [1]: http://docs.jboss.org/hibernate/orm/3.3/api/org/hibernate/jdbc/Work.html","title":"Should the &quot;connection&quot; argument of doWork() be closed?","body":"<p>I am using a C3P0 Connection Pool with Hibernate to execute some JDBC operations. However, I am getting a \"Closed Connection\" (SQL Error: 17008, SQLState: null) error after some time of usage.</p>\n\n<p>I am using the <a href=\"http://docs.jboss.org/hibernate/orm/3.3/api/org/hibernate/jdbc/Work.html\">org.hibernate.jdbc.Work</a> interface to perform my operations:</p>\n\n<pre><code>public class ClassThatDoesWork implements Work {\n\n    @Override\n    public void execute(final Connection connection)\n            throws SQLException {\n\n        doSomeWork();\n        //should connection be closed here?\n    }\n}\n</code></pre>\n\n<p>My question is: should the <code>connection</code> object passed as an argument to the <code>execute()</code> method be closed at the end of that method or Hibernate takes care for that automatically?</p>\n\n<p>EDIT\nThese are the Hibernate and c3p0 parameters used:</p>\n\n<pre><code>hibernate.connection.driver_class=oracle.jdbc.driver.OracleDriver\nhibernate.connection.pool_size=10\nhibernate.dialect=org.hibernate.dialect.Oracle9iDialect\nhibernate.connection.provider_class=org.hibernate.connection.C3P0ConnectionProvider\nhibernate.show_sql=false\nacquireIncrement=3\nacquireRetryDelay=500\nacquireRetryAttempts=5\nbreakAfterAcquireFailure=false\ncheckoutTimeout=0\nconnectionTesterClassName=com.mchange.v2.impl.DefaultConnectionTester\ndebugUnreturnedConnectionStackTraces=false\ndataSourceName=irrelevantDB\nidentityToken=irrelevantDB\nidleConnectionTestPeriod=0\ninitialPoolSize=3\nmaxConnectionAge=0\nmaxIdleTime=7200\nmaxIdleTimeExcessConnections=0\nmaxPoolSize=20\nmaxStatements=50\nmaxStatementsPerConnection=0\nminPoolSize=5\nnumHelperThreads=3\npropertyCycle=0\ntestConnectionOnCheckin=false\ntestConnectionOnCheckout=true\nunreturnedConnectionTimeout=0\nhibernate.c3p0.min_size=5\nhibernate.c3p0.max_size=20\nhibernate.c3p0.timeout=10\nhibernate.c3p0.max_statements=50\n</code></pre>\n"},{"tags":["java","hadoop","mapreduce"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1654801218,"post_id":72560931,"comment_id":128185099,"body_markdown":"The code you provided shouldn&#39;t compile since your reduce method has the wrong types","body":"The code you provided shouldn&#39;t compile since your reduce method has the wrong types"}],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654825994,"creation_date":1654801050,"answer_id":72565334,"question_id":72560931,"body_markdown":"Force all data to one reducer using a NullWritable. Then you can sort all values using a `TreeMap` from the reducer\r\n\r\n```\r\npublic class WebLogDriver extends Configured implements Tool {\r\n\r\n  public static final String APP_NAME = WebLogDriver.class.getSimpleName();\r\n\r\n  public static void main(String[] args) throws Exception {\r\n    final int status = ToolRunner.run(new Configuration(), new WebLogDriver(), args);\r\n    System.exit(status);\r\n  }\r\n\r\n  @Override\r\n  public int run(String[] args) throws Exception {\r\n    Configuration conf = getConf();\r\n    Job job = Job.getInstance(conf, APP_NAME);\r\n    job.setJarByClass(WebLogDriver.class);\r\n\r\n    // outputs for mapper and reducer\r\n    job.setOutputKeyClass(Text.class);\r\n\r\n    // setup mapper\r\n    job.setMapperClass(WebLogDriver.WebLogMapper.class);\r\n    job.setMapOutputKeyClass(NullWritable.class);\r\n    job.setMapOutputValueClass(Text.class);\r\n\r\n    // setup reducer\r\n    job.setReducerClass(WebLogDriver.WebLogReducer.class);\r\n    job.setOutputValueClass(IntWritable.class);\r\n\r\n    FileInputFormat.addInputPath(job, new Path(args[0]));\r\n    final Path outputDir = new Path(args[1]);\r\n    FileOutputFormat.setOutputPath(job, outputDir);\r\n\r\n    return job.waitForCompletion(true) ? 0 : 1;\r\n  }\r\n\r\n  static class WebLogMapper extends Mapper&lt;LongWritable, Text, NullWritable, Text&gt; {\r\n\r\n    static final Pattern HTTP_LOG_PATTERN = Pattern.compile(&quot;(\\\\S+) - - \\\\[(.+)] \\&quot;(\\\\S+) (/\\\\S*) HTTP/\\\\S+\\&quot; \\\\S+ (\\\\d+)&quot;);\r\n\r\n    final Text valueOut = new Text();\r\n\r\n    @Override\r\n    protected void map(LongWritable key, Text value, Mapper&lt;LongWritable, Text, NullWritable, Text&gt;.Context context) throws IOException, InterruptedException {\r\n      String line = value.toString();\r\n      if (line.isEmpty()) {\r\n        return;\r\n      }\r\n      Matcher matcher = HTTP_LOG_PATTERN.matcher(line);\r\n\r\n      if (matcher.matches()) {\r\n        String url = matcher.group(1);\r\n        valueOut.set(String.format(&quot;%s,%d&quot;, url, 1); // count each host once\r\n\r\n        context.write(NullWritable.get(), valueOut);\r\n      }\r\n    }\r\n  }\r\n\r\n  static class WebLogReducer extends Reducer&lt;NullWritable, Text, Text, IntWritable&gt; {\r\n\r\n    static final Text keyOut = new Text();\r\n    static final IntWritable valueOut = new IntWritable();\r\n\r\n    @Override\r\n    protected void reduce(NullWritable key, Iterable&lt;Text&gt; values, Reducer&lt;NullWritable, Text, Text, IntWritable&gt;.Context context) throws IOException, InterruptedException {\r\n      // builds in ascending order by default\r\n      Map&lt;String, Integer&gt; m = new TreeMap&lt;&gt;();\r\n      for (Text t : values) {\r\n        String v = new String(t.getBytes(), StandardCharsets.UTF_8);\r\n        String[] parts = v.split(&quot;,&quot;);\r\n\r\n        String host = parts[0];\r\n        int count = m.getOrDefault(host, 0) + Integer.parseInt(parts[1]);\r\n        m.put(host, count);\r\n      }\r\n\r\n      for (Map.Entry&lt;String, Integer&gt; e : m.entrySet()) {\r\n        keyOut.set(e.getKey());\r\n        valueOut.set(e.getValue());\r\n        context.write(keyOut, valueOut);\r\n      }\r\n    }\r\n  }\r\n}\r\n```","title":"how to exchange key and value to sort in ascending order in java using hadoop map reduce","body":"<p>Force all data to one reducer using a NullWritable. Then you can sort all values using a <code>TreeMap</code> from the reducer</p>\n<pre><code>public class WebLogDriver extends Configured implements Tool {\n\n  public static final String APP_NAME = WebLogDriver.class.getSimpleName();\n\n  public static void main(String[] args) throws Exception {\n    final int status = ToolRunner.run(new Configuration(), new WebLogDriver(), args);\n    System.exit(status);\n  }\n\n  @Override\n  public int run(String[] args) throws Exception {\n    Configuration conf = getConf();\n    Job job = Job.getInstance(conf, APP_NAME);\n    job.setJarByClass(WebLogDriver.class);\n\n    // outputs for mapper and reducer\n    job.setOutputKeyClass(Text.class);\n\n    // setup mapper\n    job.setMapperClass(WebLogDriver.WebLogMapper.class);\n    job.setMapOutputKeyClass(NullWritable.class);\n    job.setMapOutputValueClass(Text.class);\n\n    // setup reducer\n    job.setReducerClass(WebLogDriver.WebLogReducer.class);\n    job.setOutputValueClass(IntWritable.class);\n\n    FileInputFormat.addInputPath(job, new Path(args[0]));\n    final Path outputDir = new Path(args[1]);\n    FileOutputFormat.setOutputPath(job, outputDir);\n\n    return job.waitForCompletion(true) ? 0 : 1;\n  }\n\n  static class WebLogMapper extends Mapper&lt;LongWritable, Text, NullWritable, Text&gt; {\n\n    static final Pattern HTTP_LOG_PATTERN = Pattern.compile(&quot;(\\\\S+) - - \\\\[(.+)] \\&quot;(\\\\S+) (/\\\\S*) HTTP/\\\\S+\\&quot; \\\\S+ (\\\\d+)&quot;);\n\n    final Text valueOut = new Text();\n\n    @Override\n    protected void map(LongWritable key, Text value, Mapper&lt;LongWritable, Text, NullWritable, Text&gt;.Context context) throws IOException, InterruptedException {\n      String line = value.toString();\n      if (line.isEmpty()) {\n        return;\n      }\n      Matcher matcher = HTTP_LOG_PATTERN.matcher(line);\n\n      if (matcher.matches()) {\n        String url = matcher.group(1);\n        valueOut.set(String.format(&quot;%s,%d&quot;, url, 1); // count each host once\n\n        context.write(NullWritable.get(), valueOut);\n      }\n    }\n  }\n\n  static class WebLogReducer extends Reducer&lt;NullWritable, Text, Text, IntWritable&gt; {\n\n    static final Text keyOut = new Text();\n    static final IntWritable valueOut = new IntWritable();\n\n    @Override\n    protected void reduce(NullWritable key, Iterable&lt;Text&gt; values, Reducer&lt;NullWritable, Text, Text, IntWritable&gt;.Context context) throws IOException, InterruptedException {\n      // builds in ascending order by default\n      Map&lt;String, Integer&gt; m = new TreeMap&lt;&gt;();\n      for (Text t : values) {\n        String v = new String(t.getBytes(), StandardCharsets.UTF_8);\n        String[] parts = v.split(&quot;,&quot;);\n\n        String host = parts[0];\n        int count = m.getOrDefault(host, 0) + Integer.parseInt(parts[1]);\n        m.put(host, count);\n      }\n\n      for (Map.Entry&lt;String, Integer&gt; e : m.entrySet()) {\n        keyOut.set(e.getKey());\n        valueOut.set(e.getValue());\n        context.write(keyOut, valueOut);\n      }\n    }\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":17925493,"reputation":11,"user_id":13024262,"display_name":"scandll"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654825994,"creation_date":1654780428,"question_id":72560931,"body_markdown":"I want to have an output with the number of visits sorted in ascending order using only mapper and reducer class\r\nI want to exchange the key and value in the output of the mapper so that it sorts it automatically and then exchange them again in the reducer\r\n\r\nHowever, I am having trouble with the type of data I am supposed to use.\r\n\r\nHere is the mapper :\r\n\r\n    extends\r\n    \t\tMapper&lt;LongWritable, Text, IntWritable, Text&gt; \r\n    {\r\n    \tpublic void map(LongWritable cle, Text valeur, Context sortie)\r\n    \t\t\tthrows IOException \t\t\t\r\n    \t{\r\n    \t\t\r\n    \t\tString url = &quot;&quot;;\r\n    \t\tint nbVisites = 0;\r\n    \t\tPattern httplogPattern = Pattern.compile(&quot;([^\\\\s]+) - - \\\\[(.+)\\\\] \\&quot;([^\\\\s]+) (/[^\\\\s]*) HTTP/[^\\\\s]+\\&quot; [^\\\\s]+ ([0-9]+)&quot;);\r\n    \t\tString ligne = valeur.toString();\r\n    \r\n    \t\t//if (ligne.length()&gt;0) {\r\n    \t\tMatcher matcher = httplogPattern.matcher(ligne);\r\n    \t\tif (matcher.matches()) {\r\n    \t\t\t\t\turl = matcher.group(1);\r\n    \t\t\t\t\tnbVisites++;\r\n    \t\t\r\n    \t\t\t\tText urlText = new Text(url);\r\n    \t\t\t\tIntWritable value = new IntWritable(nbVisites);\r\n    \t\t\t\ttry \r\n    \t\t\t\t{\t\t\t\r\n    \t\t\t\t\tsortie.write(value, urlText);\t\r\n    \t\t\t\t\tSystem.out.println(urlText + &quot; ; &quot; + value);\r\n    \t\t\t\t} \r\n    \t\t\t\tcatch (InterruptedException e) \r\n    \t\t\t\t{\r\n    \t\t\t\t\te.printStackTrace();\r\n    \t\t\t\t}\r\n    \t}\r\n    \t\t//}\r\n    \t\t}\r\n\r\n\r\nReducer :\r\n\r\n    \t\tReducer&lt;IntWritable, Text, Text, IntWritable&gt; \r\n    {\r\n    \t\r\n    \tpublic void reduce(Text key, Iterable&lt;IntWritable&gt; values, Context sortie) throws IOException, InterruptedException\r\n    \t{\r\n    \t\t\r\n    \t\tIterator&lt;IntWritable&gt; it = values.iterator();\r\n    \t\tint nb = 0;\r\n    \t\twhile (it.hasNext()) {\r\n    \t\t\t\t nb = nb + it.next().get();\r\n    \t\t\t\t}\r\n    \t\r\n    \r\n    \t\t\t\r\n    \r\n    \t\ttry {\r\n    \t\t\t\r\n    \t\t\tsortie.write(key, new IntWritable(nb));\r\n    \t\t\t\r\n    \t\t} catch (InterruptedException e) {\r\n    \t\t\t// TODO Auto-generated catch block\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t\t\r\n    \t\t\r\n    \t\r\n    }\r\n\r\nAnd main class :\r\n\r\n      public static void main(String[] args) throws Exception \r\n      {\r\n        Job job = new Job();\r\n        \r\n        job.setJobName(&quot;TP4&quot;);\r\n        \r\n        job.setJarByClass(WordCount.class);\r\n        \r\n        job.setOutputKeyClass(IntWritable.class);\r\n        job.setOutputValueClass(Text.class);\r\n    \r\n        job.setMapperClass(WordCountMapper.class);        \r\n        job.setReducerClass(WordCountReducer.class);\r\n    \r\n        FileInputFormat.setInputPaths(job, args[0]);\r\n        FileOutputFormat.setOutputPath(job, new Path(args[1]));\r\n    \r\n        FileSystem fs = FileSystem.get(job.getConfiguration());\r\n        fs.delete(new Path(args[1]));\r\n    \t\t\t\t\r\n        job.waitForCompletion(true);\r\n      }\r\n\r\nHere is the file :\r\n\r\neach line contains an url and we count the number of times we ecounter the url in the file\r\n\r\n    199.72.81.55 - - [01/Jul/1995:00:00:01 -0400] &quot;GET /history/apollo/ HTTP/1.0&quot; 200 6245\r\n    unicomp6.unicomp.net - - [01/Jul/1995:00:00:06 -0400] &quot;GET /shuttle/countdown/ HTTP/1.0&quot; 200 3985\r\n    199.120.110.21 - - [01/Jul/1995:00:00:09 -0400] &quot;GET /shuttle/missions/sts-73/mission-sts-73.html HTTP/1.0&quot; 200 4085\r\n    burger.letters.com - - [01/Jul/1995:00:00:11 -0400] &quot;GET /shuttle/countdown/liftoff.html HTTP/1.0&quot; 304 0\r\n    199.120.110.21 - - [01/Jul/1995:00:00:11 -0400] &quot;GET /shuttle/missions/sts-73/sts-73-patch-small.gif HTTP/1.0&quot; 200 4179\r\n    burger.letters.com - - [01/Jul/1995:00:00:12 -0400] &quot;GET /images/NASA-logosmall.gif HTTP/1.0&quot; 304 0\r\n    burger.letters.com - - [01/Jul/1995:00:00:12 -0400] &quot;GET /shuttle/countdown/video/livevideo.gif HTTP/1.0&quot; 200 0\r\n\r\n\r\n\r\nHere is the output i currently have:\r\n\r\n    1\t199.72.81.55\r\n    1\tunicomp6.unicomp.net\r\n    1\t199.120.110.21\r\n    1\tburger.letters.com\r\n    1\t199.120.110.21\r\n    1\tburger.letters.com\r\n    1\tburger.letters.com\r\n    1\t205.212.115.106\r\n    1\td104.aa.net\r\n    1\t129.94.144.152\r\n    1\tunicomp6.unicomp.net\r\n    1\tunicomp6.unicomp.net\r\n    1\tunicomp6.unicomp.net\r\n    1\td104.aa.net\r\n    1\td104.aa.net\r\n    1\td104.aa.net\r\n\r\nI want this output in ascending order : \r\n\r\n    129.94.144.152\t1\r\n    199.72.81.55\t1\r\n    205.212.115.106\t1\r\n    199.120.110.21\t2\r\n    burger.letters.com\t3\r\n    d104.aa.net\t4\r\n    unicomp6.unicomp.net\t4","title":"how to exchange key and value to sort in ascending order in java using hadoop map reduce","body":"<p>I want to have an output with the number of visits sorted in ascending order using only mapper and reducer class\nI want to exchange the key and value in the output of the mapper so that it sorts it automatically and then exchange them again in the reducer</p>\n<p>However, I am having trouble with the type of data I am supposed to use.</p>\n<p>Here is the mapper :</p>\n<pre><code>extends\n        Mapper&lt;LongWritable, Text, IntWritable, Text&gt; \n{\n    public void map(LongWritable cle, Text valeur, Context sortie)\n            throws IOException          \n    {\n        \n        String url = &quot;&quot;;\n        int nbVisites = 0;\n        Pattern httplogPattern = Pattern.compile(&quot;([^\\\\s]+) - - \\\\[(.+)\\\\] \\&quot;([^\\\\s]+) (/[^\\\\s]*) HTTP/[^\\\\s]+\\&quot; [^\\\\s]+ ([0-9]+)&quot;);\n        String ligne = valeur.toString();\n\n        //if (ligne.length()&gt;0) {\n        Matcher matcher = httplogPattern.matcher(ligne);\n        if (matcher.matches()) {\n                    url = matcher.group(1);\n                    nbVisites++;\n        \n                Text urlText = new Text(url);\n                IntWritable value = new IntWritable(nbVisites);\n                try \n                {           \n                    sortie.write(value, urlText);   \n                    System.out.println(urlText + &quot; ; &quot; + value);\n                } \n                catch (InterruptedException e) \n                {\n                    e.printStackTrace();\n                }\n    }\n        //}\n        }\n</code></pre>\n<p>Reducer :</p>\n<pre><code>        Reducer&lt;IntWritable, Text, Text, IntWritable&gt; \n{\n    \n    public void reduce(Text key, Iterable&lt;IntWritable&gt; values, Context sortie) throws IOException, InterruptedException\n    {\n        \n        Iterator&lt;IntWritable&gt; it = values.iterator();\n        int nb = 0;\n        while (it.hasNext()) {\n                 nb = nb + it.next().get();\n                }\n    \n\n            \n\n        try {\n            \n            sortie.write(key, new IntWritable(nb));\n            \n        } catch (InterruptedException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n        \n        \n    \n}\n</code></pre>\n<p>And main class :</p>\n<pre><code>  public static void main(String[] args) throws Exception \n  {\n    Job job = new Job();\n    \n    job.setJobName(&quot;TP4&quot;);\n    \n    job.setJarByClass(WordCount.class);\n    \n    job.setOutputKeyClass(IntWritable.class);\n    job.setOutputValueClass(Text.class);\n\n    job.setMapperClass(WordCountMapper.class);        \n    job.setReducerClass(WordCountReducer.class);\n\n    FileInputFormat.setInputPaths(job, args[0]);\n    FileOutputFormat.setOutputPath(job, new Path(args[1]));\n\n    FileSystem fs = FileSystem.get(job.getConfiguration());\n    fs.delete(new Path(args[1]));\n                \n    job.waitForCompletion(true);\n  }\n</code></pre>\n<p>Here is the file :</p>\n<p>each line contains an url and we count the number of times we ecounter the url in the file</p>\n<pre><code>199.72.81.55 - - [01/Jul/1995:00:00:01 -0400] &quot;GET /history/apollo/ HTTP/1.0&quot; 200 6245\nunicomp6.unicomp.net - - [01/Jul/1995:00:00:06 -0400] &quot;GET /shuttle/countdown/ HTTP/1.0&quot; 200 3985\n199.120.110.21 - - [01/Jul/1995:00:00:09 -0400] &quot;GET /shuttle/missions/sts-73/mission-sts-73.html HTTP/1.0&quot; 200 4085\nburger.letters.com - - [01/Jul/1995:00:00:11 -0400] &quot;GET /shuttle/countdown/liftoff.html HTTP/1.0&quot; 304 0\n199.120.110.21 - - [01/Jul/1995:00:00:11 -0400] &quot;GET /shuttle/missions/sts-73/sts-73-patch-small.gif HTTP/1.0&quot; 200 4179\nburger.letters.com - - [01/Jul/1995:00:00:12 -0400] &quot;GET /images/NASA-logosmall.gif HTTP/1.0&quot; 304 0\nburger.letters.com - - [01/Jul/1995:00:00:12 -0400] &quot;GET /shuttle/countdown/video/livevideo.gif HTTP/1.0&quot; 200 0\n</code></pre>\n<p>Here is the output i currently have:</p>\n<pre><code>1   199.72.81.55\n1   unicomp6.unicomp.net\n1   199.120.110.21\n1   burger.letters.com\n1   199.120.110.21\n1   burger.letters.com\n1   burger.letters.com\n1   205.212.115.106\n1   d104.aa.net\n1   129.94.144.152\n1   unicomp6.unicomp.net\n1   unicomp6.unicomp.net\n1   unicomp6.unicomp.net\n1   d104.aa.net\n1   d104.aa.net\n1   d104.aa.net\n</code></pre>\n<p>I want this output in ascending order :</p>\n<pre><code>129.94.144.152  1\n199.72.81.55    1\n205.212.115.106 1\n199.120.110.21  2\nburger.letters.com  3\nd104.aa.net 4\nunicomp6.unicomp.net    4\n</code></pre>\n"},{"tags":["java","spring","generics","dependency-injection"],"comments":[{"owner":{"account_id":10034154,"reputation":479,"user_id":7419493,"display_name":"justis"},"score":0,"creation_date":1654708675,"post_id":72549632,"comment_id":128158265,"body_markdown":"Perhaps you’ll find this question useful: https://stackoverflow.com/questions/50986896/spring-autowiring-generic-implementation-of-generic-interface","body":"Perhaps you’ll find this question useful: <a href=\"https://stackoverflow.com/questions/50986896/spring-autowiring-generic-implementation-of-generic-interface\" title=\"spring autowiring generic implementation of generic interface\">stackoverflow.com/questions/50986896/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1284290,"reputation":41,"user_id":8404593,"display_name":"dntk"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1654711865,"creation_date":1654711865,"answer_id":72550384,"question_id":72549632,"body_markdown":"Tested this example as exactly as I could with version 5.3.2 and it seems to work for me. \r\n\r\nPerhaps your problem is something different? Some follow up questions that might help getting to the bottom of it:\r\n\r\n - Are all the classes correctly configured in the component scan, for example?\r\n - Exact spring version info","title":"Autowiring a Generic Implementation. Error: NoSuchBeanDefinitionException","body":"<p>Tested this example as exactly as I could with version 5.3.2 and it seems to work for me.</p>\n<p>Perhaps your problem is something different? Some follow up questions that might help getting to the bottom of it:</p>\n<ul>\n<li>Are all the classes correctly configured in the component scan, for example?</li>\n<li>Exact spring version info</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":13300676,"reputation":99,"user_id":9602278,"display_name":"aayoustic"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1654712679,"creation_date":1654712679,"answer_id":72550528,"question_id":72549632,"body_markdown":"The below fix while autowiring made this silly mistake go away.\r\nThanks, everyone for your time &amp; responses :)\r\n\r\n```\r\n@Service\r\npublic class CustomService {\r\n\r\n@Autowired\r\nprivate List&lt;CustomGenerator&lt;? extends CustomClassA, ? extends CustomClassB&gt;&gt; customGenerators;\r\n\r\n}","title":"Autowiring a Generic Implementation. Error: NoSuchBeanDefinitionException","body":"<p>The below fix while autowiring made this silly mistake go away.\nThanks, everyone for your time &amp; responses :)</p>\n<pre><code>@Service\npublic class CustomService {\n\n@Autowired\nprivate List&lt;CustomGenerator&lt;? extends CustomClassA, ? extends CustomClassB&gt;&gt; customGenerators;\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8900519,"reputation":503,"user_id":6644123,"display_name":"shanfeng"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654825486,"creation_date":1654742369,"answer_id":72554157,"question_id":72549632,"body_markdown":"Rewrite the definition of List\r\n```\r\n@Service\r\npublic class CustomService {\r\n    @Autowired\r\n    private List&lt;? extends CustomGenerator&lt;? extends CustomClassA, ? extends CustomClassB&gt;&gt; customGenerators;\r\n}\r\n```\r\nSpring will help to inject the list with ConcreteX bean.","title":"Autowiring a Generic Implementation. Error: NoSuchBeanDefinitionException","body":"<p>Rewrite the definition of List</p>\n<pre><code>@Service\npublic class CustomService {\n    @Autowired\n    private List&lt;? extends CustomGenerator&lt;? extends CustomClassA, ? extends CustomClassB&gt;&gt; customGenerators;\n}\n</code></pre>\n<p>Spring will help to inject the list with ConcreteX bean.</p>\n"}],"owner":{"account_id":13300676,"reputation":99,"user_id":9602278,"display_name":"aayoustic"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72550528,"answer_count":3,"score":0,"last_activity_date":1654825486,"creation_date":1654707839,"question_id":72549632,"body_markdown":"Below are the classes and the error mentioned.\r\nSpring version: 5+\r\n\r\n```\r\npublic interface CustomGenerator&lt;T,R&gt; {\r\n  void generate();\r\n}\r\n```\r\n\r\n```\r\n@Service\r\npublic abstract class AbstractGenerator&lt;T extends CustomClassA, R extends CustomClassB&gt;\r\nimplements CustomGenerator&lt;T,R&gt; {}\r\n```\r\n```\r\n@Service\r\npublic class ConcreteC1 extends AbstractGenerator&lt;CustomClassA, CustomClassB&gt;{\r\n\r\n void generate(){\r\n  ...\r\n }\r\n}\r\n```\r\n```\r\n@Service\r\npublic class ConcreteC2 extends AbstractGenerator&lt;CustomClassA, CustomClassB&gt;{\r\n\r\n void generate(){\r\n  ...\r\n }\r\n}\r\n```\r\n```\r\n@Service\r\npublic class CustomService {\r\n\r\n@Autowired\r\nprivate List&lt;CustomGenerator&lt;CustomClassA, CustomClassB&gt;&gt; customGenerators;\r\n// Expected: ConcreteC1 &amp; ConcreteC1 instances in the list\r\n\r\n}\r\n```\r\nError: \r\norg.springframework.beans.factory.UnsatisfiedDependencyException\r\nUnsatisfied dependency expressed through field &#39;customGenerators&#39;\r\nnested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException:\r\nNo qualifying bean of type.\r\n\r\nI want a list of concrete classes instead of utilizing qualifiers to pick one by one, as I want to execute the generate method for all the elements in the list at once.\r\nThanks for any help in advance.","title":"Autowiring a Generic Implementation. Error: NoSuchBeanDefinitionException","body":"<p>Below are the classes and the error mentioned.\nSpring version: 5+</p>\n<pre><code>public interface CustomGenerator&lt;T,R&gt; {\n  void generate();\n}\n</code></pre>\n<pre><code>@Service\npublic abstract class AbstractGenerator&lt;T extends CustomClassA, R extends CustomClassB&gt;\nimplements CustomGenerator&lt;T,R&gt; {}\n</code></pre>\n<pre><code>@Service\npublic class ConcreteC1 extends AbstractGenerator&lt;CustomClassA, CustomClassB&gt;{\n\n void generate(){\n  ...\n }\n}\n</code></pre>\n<pre><code>@Service\npublic class ConcreteC2 extends AbstractGenerator&lt;CustomClassA, CustomClassB&gt;{\n\n void generate(){\n  ...\n }\n}\n</code></pre>\n<pre><code>@Service\npublic class CustomService {\n\n@Autowired\nprivate List&lt;CustomGenerator&lt;CustomClassA, CustomClassB&gt;&gt; customGenerators;\n// Expected: ConcreteC1 &amp; ConcreteC1 instances in the list\n\n}\n</code></pre>\n<p>Error:\norg.springframework.beans.factory.UnsatisfiedDependencyException\nUnsatisfied dependency expressed through field 'customGenerators'\nnested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException:\nNo qualifying bean of type.</p>\n<p>I want a list of concrete classes instead of utilizing qualifiers to pick one by one, as I want to execute the generate method for all the elements in the list at once.\nThanks for any help in advance.</p>\n"},{"tags":["java","netbeans","wildfly","jmx"],"comments":[{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1654897630,"post_id":72568274,"comment_id":128210431,"body_markdown":"Is there a reason your adding the log manager to the boot class path? Usually the only reason that used to be needed was if you were using an agent that initialized logging early.","body":"Is there a reason your adding the log manager to the boot class path? Usually the only reason that used to be needed was if you were using an agent that initialized logging early."},{"owner":{"account_id":4471856,"reputation":315,"user_id":3637971,"accept_rate":14,"display_name":"user3637971"},"score":0,"creation_date":1654912556,"post_id":72568274,"comment_id":128212195,"body_markdown":"It&#39;s for testing the java web application using jmx. The idea is when I debug the java web application by Nebeans,. this starts Wildfly automatically. Then I do some test requests and after that I monitor it by Java Visual VM. Even though I detected the issue that Wildfly was not started by Netbeans because of the post explanation. It works if I start wildfly without Netbeans because I specify the VM options in standalone.conf.bat","body":"It&#39;s for testing the java web application using jmx. The idea is when I debug the java web application by Nebeans,. this starts Wildfly automatically. Then I do some test requests and after that I monitor it by Java Visual VM. Even though I detected the issue that Wildfly was not started by Netbeans because of the post explanation. It works if I start wildfly without Netbeans because I specify the VM options in standalone.conf.bat"},{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1655131850,"post_id":72568274,"comment_id":128252295,"body_markdown":"It looks like your path in the `bootclasspath` might not be correct. Your `JBOSS_HOME` looks like a Windows path while the `bootclaspath` looks like a Linux path. That said I don&#39;t really see a reason why those `JAVA_OPTS` are required.","body":"It looks like your path in the <code>bootclasspath</code> might not be correct. Your <code>JBOSS_HOME</code> looks like a Windows path while the <code>bootclaspath</code> looks like a Linux path. That said I don&#39;t really see a reason why those <code>JAVA_OPTS</code> are required."},{"owner":{"account_id":4471856,"reputation":315,"user_id":3637971,"accept_rate":14,"display_name":"user3637971"},"score":0,"creation_date":1655219451,"post_id":72568274,"comment_id":128277822,"body_markdown":"The tests are doing in Windows. I see Netbeans VM options are not used from netbeans/etc/netbeans.conf. I can&#39;t locate the path of the file that contains the VM options which is used by Netbeans.","body":"The tests are doing in Windows. I see Netbeans VM options are not used from netbeans/etc/netbeans.conf. I can&#39;t locate the path of the file that contains the VM options which is used by Netbeans."},{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1655224621,"post_id":72568274,"comment_id":128279825,"body_markdown":"I don&#39;t really know how it would work from NetBeans.","body":"I don&#39;t really know how it would work from NetBeans."}],"owner":{"account_id":4471856,"reputation":315,"user_id":3637971,"accept_rate":14,"display_name":"user3637971"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654825411,"creation_date":1654825411,"question_id":72568274,"body_markdown":"I have a java web application using wildfly 10 and netbeans 12. After that, I go to Services tab-&gt;Servers-&gt;Wildfly properties-&gt;Second tab (Platform)\r\n\r\nThen I change the VM options to:\r\n\r\n     &#39;-Xms128m -Xmx512m -Djboss.modules.system.pkgs=org.jboss.byteman,org.jboss.logmanager -Djava.util.logging.manager=org.jboss.logmanager.LogManager -Xbootclasspath/p:/opt/wildfly/modules/system/layers/base/org/jboss/logmanager/main/jboss-logmanager-2.0.4.Final.jar&#39;\r\n\r\nWhen I start Wildfly through Netbeans I see the following error:\r\n\r\n\tjava.lang.IllegalStateException: The LogManager was not properly installed (you must set the &quot;java.util.logging.manager&quot; system property to &quot;org.jboss.logmanager.LogManager&quot;)\r\n\t\tat org.jboss.logmanager.Logger.getLogger(Logger.java:57)\r\n\t\tat org.jboss.as.server.Main.main(Main.java:87)\r\n\t\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        ....\r\n\t\r\nOn the other side, the Wildfly console shows as follows:\r\n\r\n    JBoss Bootstrap Environment\r\n    JBOSS_HOME: &quot;C:\\wildfly-10.1.0.Final\\wildfly-10.1.0.Final&quot;\r\n    JAVA: &quot;C:\\Program Files\\Java\\jdk1.8.0_181\\bin\\java&quot;\r\n    JAVA_OPTS: &quot;-Dprogram.name=standalone.bat -Xms128m -Xmx512m -Djboss.modules.system.pkgs=org.jboss.byteman,org.jboss.logmanager -Djava.util.logging.manager=org.jboss.logmanager.LogManager -Xbootclasspath/p:/opt/wildfly/modules/system/layers/base/org/jboss/logmanager/main/jboss-logmanager-2.0.4.Final.jar -server -Djava.net.preferIPv4Stack=true -Djboss.modules.system.pkgs=org.jboss.byteman -Djava.awt.headless=true -Djboss.management.http.port=9990 -Djboss.http.port=8080&quot;\r\n\r\nI see &#39;-server -Djava.net.preferIPv4Stack=true -Djboss.modules.system.pkgs=org.jboss.byteman -Djava.awt.headless=true -Djboss.management.http.port=9990 -Djboss.http.port=8080&#39; is added at the end of the line.\r\n\r\nI wish to take out &#39;-server -Djava.net.preferIPv4Stack=true -Djboss.modules.system.pkgs=org.jboss.byteman -Djava.awt.headless=true -Djboss.management.http.port=9990 -Djboss.http.port=8080&#39;\r\n\r\nHow can I do that?","title":"How can I change the Netbeans VM options for java web application?","body":"<p>I have a java web application using wildfly 10 and netbeans 12. After that, I go to Services tab-&gt;Servers-&gt;Wildfly properties-&gt;Second tab (Platform)</p>\n<p>Then I change the VM options to:</p>\n<pre><code> '-Xms128m -Xmx512m -Djboss.modules.system.pkgs=org.jboss.byteman,org.jboss.logmanager -Djava.util.logging.manager=org.jboss.logmanager.LogManager -Xbootclasspath/p:/opt/wildfly/modules/system/layers/base/org/jboss/logmanager/main/jboss-logmanager-2.0.4.Final.jar'\n</code></pre>\n<p>When I start Wildfly through Netbeans I see the following error:</p>\n<pre><code>java.lang.IllegalStateException: The LogManager was not properly installed (you must set the &quot;java.util.logging.manager&quot; system property to &quot;org.jboss.logmanager.LogManager&quot;)\n    at org.jboss.logmanager.Logger.getLogger(Logger.java:57)\n    at org.jboss.as.server.Main.main(Main.java:87)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    ....\n</code></pre>\n<p>On the other side, the Wildfly console shows as follows:</p>\n<pre><code>JBoss Bootstrap Environment\nJBOSS_HOME: &quot;C:\\wildfly-10.1.0.Final\\wildfly-10.1.0.Final&quot;\nJAVA: &quot;C:\\Program Files\\Java\\jdk1.8.0_181\\bin\\java&quot;\nJAVA_OPTS: &quot;-Dprogram.name=standalone.bat -Xms128m -Xmx512m -Djboss.modules.system.pkgs=org.jboss.byteman,org.jboss.logmanager -Djava.util.logging.manager=org.jboss.logmanager.LogManager -Xbootclasspath/p:/opt/wildfly/modules/system/layers/base/org/jboss/logmanager/main/jboss-logmanager-2.0.4.Final.jar -server -Djava.net.preferIPv4Stack=true -Djboss.modules.system.pkgs=org.jboss.byteman -Djava.awt.headless=true -Djboss.management.http.port=9990 -Djboss.http.port=8080&quot;\n</code></pre>\n<p>I see '-server -Djava.net.preferIPv4Stack=true -Djboss.modules.system.pkgs=org.jboss.byteman -Djava.awt.headless=true -Djboss.management.http.port=9990 -Djboss.http.port=8080' is added at the end of the line.</p>\n<p>I wish to take out '-server -Djava.net.preferIPv4Stack=true -Djboss.modules.system.pkgs=org.jboss.byteman -Djava.awt.headless=true -Djboss.management.http.port=9990 -Djboss.http.port=8080'</p>\n<p>How can I do that?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":14706862,"reputation":917,"user_id":10621296,"display_name":"Jetto Mart&#237;nez"},"score":1,"creation_date":1654812129,"post_id":72566978,"comment_id":128188025,"body_markdown":"So an `equals` method that &quot;automatically&quot; checks the equality of both interfaces, based on all their getters? That sounds like a job for the reflection API. I&#39;m not confident in suggesting this as an answer, as I&#39;m not familiar enough with this API, though.","body":"So an <code>equals</code> method that &quot;automatically&quot; checks the equality of both interfaces, based on all their getters? That sounds like a job for the reflection API. I&#39;m not confident in suggesting this as an answer, as I&#39;m not familiar enough with this API, though."},{"owner":{"account_id":1179139,"reputation":1549,"user_id":1154463,"accept_rate":78,"display_name":"Duke Silver"},"score":0,"creation_date":1654812363,"post_id":72566978,"comment_id":128188073,"body_markdown":"yeah something like that","body":"yeah something like that"}],"answers":[{"tags":[],"owner":{"account_id":4999927,"reputation":952,"user_id":4019273,"display_name":"Cheshiremoe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654819325,"creation_date":1654819325,"answer_id":72567795,"question_id":72566978,"body_markdown":"Much like overriding equals() you could use the [Comparable Interface][1].  If your not going to override equals because of potential future breaking you probably don&#39;t want to do compareTo() either and maybe you should settle on a more simplified definition of equals for your objects. Perhaps only comparing location/connection if it is a database.\r\n\r\n    if ( dataBaseFooA.compareTo(dataBaseFooB) ) { ...}\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/lang/Comparable.html","title":"Java compare class instances using just interface methods","body":"<p>Much like overriding equals() you could use the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Comparable.html\" rel=\"nofollow noreferrer\">Comparable Interface</a>.  If your not going to override equals because of potential future breaking you probably don't want to do compareTo() either and maybe you should settle on a more simplified definition of equals for your objects. Perhaps only comparing location/connection if it is a database.</p>\n<pre><code>if ( dataBaseFooA.compareTo(dataBaseFooB) ) { ...}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14706862,"reputation":917,"user_id":10621296,"display_name":"Jetto Mart&#237;nez"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1654825157,"creation_date":1654825157,"answer_id":72568257,"question_id":72566978,"body_markdown":"I currently don&#39;t have access to an IDE, so I had to trust my memory and an online Java compiler to do this. [Here is a demo][1].\r\n\r\nThis is an approach using reflection. It is not particularely pretty, but you can hide it with static access.\r\n\r\n```java\r\npublic class FancyEquals {\r\n\r\nprivate FancyEquals() {}\r\n\r\n/**\r\n * When you ONLY evaluate getters from a shared interface\r\n */\r\npublic static &lt;I, E extends I&gt; boolean reflectiveEquals(E obj1, E obj2, Class&lt;I&gt; clazz) {\r\n  return Stream.of(clazz.getDeclaredMethods())\r\n               .filter(m -&gt; m.getName().startsWith(&quot;get&quot;))\r\n               .allMatch(m -&gt; {\r\n                                 try{\r\n                                   return Objects.equals(m.invoke(obj1), m.invoke(obj2));\r\n                                 } catch (Exception e) {\r\n                                    e.printStackTrace(System.err);\r\n                                    return false;\r\n                                 }\r\n                               }\r\n  );\r\n}\r\n\r\n/**\r\n * When you will evaluate ALL getters from the classes\r\n */\r\npublic static &lt;E&gt; boolean reflectiveEquals(E obj1, E obj2) {\r\n  return Stream.of(obj1.getClass().getDeclaredMethods())\r\n               .filter(m -&gt; m.getName().startsWith(&quot;get&quot;))\r\n               .allMatch(m -&gt; {\r\n                                try{\r\n                                  return Objects.equals(m.invoke(obj1), m.invoke(obj2));\r\n                                } catch (Exception e) {\r\n                                  e.printStackTrace(System.err);\r\n                                  return false;\r\n                                }\r\n                              }\r\n  );\r\n}\r\n\r\n}\r\n```\r\n\r\nDo note that this is an incomplete implementation. Think, for example, that you have a `get` method with parameters (For whatever reason). The evaluation of `Method#invoke` will fail due the lack of them, although in both cases it will simply return false and log the error.\r\n\r\nI personally don&#39;t think of this as a very elegant solution either, but is something you can hide and further tune. You may also use a specific `FancyEquals` for many special case `equals` methods (For instance, for the `Foo` entities, you could use `FooEquals#reflective` so it&#39;s more specific but equally readable. This way you could also generate an Interface for possible `XEquals` implementations and properly use generics).\r\n\r\n\r\n  [1]: https://paiza.io/projects/VvCQhTlRwWtVsHXNWdFLLQ","title":"Java compare class instances using just interface methods","body":"<p>I currently don't have access to an IDE, so I had to trust my memory and an online Java compiler to do this. <a href=\"https://paiza.io/projects/VvCQhTlRwWtVsHXNWdFLLQ\" rel=\"nofollow noreferrer\">Here is a demo</a>.</p>\n<p>This is an approach using reflection. It is not particularely pretty, but you can hide it with static access.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class FancyEquals {\n\nprivate FancyEquals() {}\n\n/**\n * When you ONLY evaluate getters from a shared interface\n */\npublic static &lt;I, E extends I&gt; boolean reflectiveEquals(E obj1, E obj2, Class&lt;I&gt; clazz) {\n  return Stream.of(clazz.getDeclaredMethods())\n               .filter(m -&gt; m.getName().startsWith(&quot;get&quot;))\n               .allMatch(m -&gt; {\n                                 try{\n                                   return Objects.equals(m.invoke(obj1), m.invoke(obj2));\n                                 } catch (Exception e) {\n                                    e.printStackTrace(System.err);\n                                    return false;\n                                 }\n                               }\n  );\n}\n\n/**\n * When you will evaluate ALL getters from the classes\n */\npublic static &lt;E&gt; boolean reflectiveEquals(E obj1, E obj2) {\n  return Stream.of(obj1.getClass().getDeclaredMethods())\n               .filter(m -&gt; m.getName().startsWith(&quot;get&quot;))\n               .allMatch(m -&gt; {\n                                try{\n                                  return Objects.equals(m.invoke(obj1), m.invoke(obj2));\n                                } catch (Exception e) {\n                                  e.printStackTrace(System.err);\n                                  return false;\n                                }\n                              }\n  );\n}\n\n}\n</code></pre>\n<p>Do note that this is an incomplete implementation. Think, for example, that you have a <code>get</code> method with parameters (For whatever reason). The evaluation of <code>Method#invoke</code> will fail due the lack of them, although in both cases it will simply return false and log the error.</p>\n<p>I personally don't think of this as a very elegant solution either, but is something you can hide and further tune. You may also use a specific <code>FancyEquals</code> for many special case <code>equals</code> methods (For instance, for the <code>Foo</code> entities, you could use <code>FooEquals#reflective</code> so it's more specific but equally readable. This way you could also generate an Interface for possible <code>XEquals</code> implementations and properly use generics).</p>\n"}],"owner":{"account_id":1179139,"reputation":1549,"user_id":1154463,"accept_rate":78,"display_name":"Duke Silver"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":150,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":72568257,"answer_count":2,"score":0,"last_activity_date":1654825157,"creation_date":1654811096,"question_id":72566978,"body_markdown":"My application uses interfaces as access control in order to mask some database-specific fields from the application. For example, the `PublicFoo` interface exposes a subset of data from the `DatabaseFoo` class.\r\n\r\n```java\r\npublic interface PublicFoo() {\r\n  void setName(String name);\r\n  String getName();\r\n  void setId(String id);\r\n  String getId();\r\n}\r\n\r\npublic class DatabaseFoo() implements PublicFoo {\r\n  private String name;\r\n  private String id;\r\n\r\n  // I want to hide this database-specific field from the PublicFoo interface that gets passed around my app. \r\n  private OffsetDateTime lastUpdatedTimestamp;\r\n}\r\n```\r\n\r\nMy question is, if I have two instances of the class `DatabaseFoo` that implement the `PublicFoo` interface, is there a way to compare these two instances using only the attributes exposed by the getters of the interface? I don&#39;t want to override the `equals()` method of `DatabaseFoo` because there are cases where I want to compare two `DatabaseFoo` objects using every field. So I think this rules out default interface methods or abstract classes.\r\n\r\nI can accomplish what I want by writing a custom method that calls all the getters and checks for equivalency. However I am wondering if there is a more elegant solution. My fear is that if I use this approach I won&#39;t remember to update the custom method as the interface evolves in the future.","title":"Java compare class instances using just interface methods","body":"<p>My application uses interfaces as access control in order to mask some database-specific fields from the application. For example, the <code>PublicFoo</code> interface exposes a subset of data from the <code>DatabaseFoo</code> class.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface PublicFoo() {\n  void setName(String name);\n  String getName();\n  void setId(String id);\n  String getId();\n}\n\npublic class DatabaseFoo() implements PublicFoo {\n  private String name;\n  private String id;\n\n  // I want to hide this database-specific field from the PublicFoo interface that gets passed around my app. \n  private OffsetDateTime lastUpdatedTimestamp;\n}\n</code></pre>\n<p>My question is, if I have two instances of the class <code>DatabaseFoo</code> that implement the <code>PublicFoo</code> interface, is there a way to compare these two instances using only the attributes exposed by the getters of the interface? I don't want to override the <code>equals()</code> method of <code>DatabaseFoo</code> because there are cases where I want to compare two <code>DatabaseFoo</code> objects using every field. So I think this rules out default interface methods or abstract classes.</p>\n<p>I can accomplish what I want by writing a custom method that calls all the getters and checks for equivalency. However I am wondering if there is a more elegant solution. My fear is that if I use this approach I won't remember to update the custom method as the interface evolves in the future.</p>\n"},{"tags":["java","android","admob","deprecation-warning"],"answers":[{"tags":[],"owner":{"account_id":263656,"reputation":1,"user_id":549372,"accept_rate":100,"display_name":"Martin Zeitler"},"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1589347405,"creation_date":1589346739,"answer_id":61766897,"question_id":61762993,"body_markdown":"[Get started with AdMob in your Android project](https://firebase.google.com/docs/admob/android/quick-start) seems to answer the application ID part:\n\n\n&gt; Add your AdMob App ID to your app&#39;s `AndroidManifest.xml` file by adding the `&lt;meta-data&gt;` tag as shown below.\n&gt;\n&gt; Important: This step is required as of Google Mobile Ads SDK v17.0.0. If you don&#39;t add this `&lt;meta-data&gt;` tag, your app will crash with the message: &quot;`The Google Mobile Ads SDK was initialized incorrectly.`&quot;\n\n\n    &lt;manifest&gt;\n        &lt;application&gt;\n            &lt;!-- Sample AdMob App ID: ca-app-pub-3940256099942544~3347511713 --&gt;\n            &lt;meta-data\n                android:name=&quot;com.google.android.gms.ads.APPLICATION_ID&quot;\n                android:value=&quot;ADMOB_APP_ID&quot;/&gt;\n        &lt;/application&gt;\n    &lt;/manifest&gt;\n\nAnd the publisher ID still is required for [Requesting Consent from European Users](https://developers.google.com/admob/android/eu-consent).\n","title":"MobileAds.initialize(Context, String) is deprecated","body":"<p><a href=\"https://firebase.google.com/docs/admob/android/quick-start\" rel=\"noreferrer\">Get started with AdMob in your Android project</a> seems to answer the application ID part:</p>\n<blockquote>\n<p>Add your AdMob App ID to your app's <code>AndroidManifest.xml</code> file by adding the <code>&lt;meta-data&gt;</code> tag as shown below.</p>\n<p>Important: This step is required as of Google Mobile Ads SDK v17.0.0. If you don't add this <code>&lt;meta-data&gt;</code> tag, your app will crash with the message: &quot;<code>The Google Mobile Ads SDK was initialized incorrectly.</code>&quot;</p>\n</blockquote>\n<pre><code>&lt;manifest&gt;\n    &lt;application&gt;\n        &lt;!-- Sample AdMob App ID: ca-app-pub-3940256099942544~3347511713 --&gt;\n        &lt;meta-data\n            android:name=&quot;com.google.android.gms.ads.APPLICATION_ID&quot;\n            android:value=&quot;ADMOB_APP_ID&quot;/&gt;\n    &lt;/application&gt;\n&lt;/manifest&gt;\n</code></pre>\n<p>And the publisher ID still is required for <a href=\"https://developers.google.com/admob/android/eu-consent\" rel=\"noreferrer\">Requesting Consent from European Users</a>.</p>\n"},{"tags":[],"owner":{"account_id":7043258,"reputation":2377,"user_id":5394986,"accept_rate":0,"display_name":"Pablo Alfonso"},"down_vote_count":1,"up_vote_count":14,"is_accepted":false,"score":13,"last_activity_date":1590256360,"creation_date":1590256360,"answer_id":61976301,"question_id":61762993,"body_markdown":"Initialize MobileAds with the following instead:\r\n\r\n    MobileAds.initialize(this, initializationStatus -&gt; { });","title":"MobileAds.initialize(Context, String) is deprecated","body":"<p>Initialize MobileAds with the following instead:</p>\n\n<pre><code>MobileAds.initialize(this, initializationStatus -&gt; { });\n</code></pre>\n"}],"owner":{"account_id":263656,"reputation":1,"user_id":549372,"accept_rate":100,"display_name":"Martin Zeitler"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19661,"favorite_count":0,"down_vote_count":0,"up_vote_count":30,"accepted_answer_id":61766897,"answer_count":2,"score":30,"last_activity_date":1654824992,"creation_date":1589322036,"question_id":61762993,"body_markdown":"Before it looked like this (passing `R.string.admob_application_id`):\r\n\r\n    MobileAds.initialize(this, getString(R.string.admob_application_id));\r\n\r\n ---\r\n\r\n\r\n[`MobileAds`](https://developers.google.com/android/reference/com/google/android/gms/ads/MobileAds) method `.initialize(Context context, String applicationCode)` \r\nnow reads:\r\n\r\n&gt; This method is deprecated. Use [`initialize(Context, OnInitializationCompleteListener)`](https://developers.google.com/android/reference/com/google/android/gms/ads/MobileAds#initialize(android.content.Context,%20com.google.android.gms.ads.initialization.OnInitializationCompleteListener)) instead.\r\n\r\n\r\nWhich reads:\r\n&gt; Initializes the Google Mobile Ads SDK.\r\n&gt;Call this method as early as possible to reduce latency on the session&#39;s first ad request.\r\n&gt; If this method is not called, the first ad request automatically initializes the Google Mobile Ads SDK.\r\n\r\n[MobileAds.Settings](https://developers.google.com/android/reference/com/google/android/gms/ads/MobileAds.Settings) also had been deprecated.\r\n\r\n ---\r\n\r\nWhat I have tried so far is to get the [`InitializationStatus`](https://developers.google.com/android/reference/com/google/android/gms/ads/initialization/InitializationStatus) per adapter:\r\n\r\n    MobileAds.initialize(this, initializationStatus -&gt; {\r\n\r\n        /* get the adapter status */\r\n        Map&lt;String, AdapterStatus&gt; map = initializationStatus.getAdapterStatusMap();\r\n        for (Map.Entry&lt;String, AdapterStatus&gt; entry : map.entrySet()) {\r\n            AdapterStatus adapterStatus = entry.getValue();\r\n            AdapterStatus.State state = adapterStatus.getInitializationState();\r\n            Log.d(LOG_TAG, &quot;key = &quot; + entry.getKey() + &quot;, state = &quot; + state.name() + &quot;, desc = &quot; + adapterStatus.getDescription());\r\n        }\r\n    });\r\n\r\nOn an emulator it says `READY`, but `.getDescription()` has a rather confusing message:\r\n\r\n    Google Mobile Ads SDK initialization functionality unavailable for this session.\r\n    Ad requests can be made at any time.\r\n\r\nOn a physical device with internet connection it shows four more adapters:\r\n\r\n    key = com.google.android.gms.ads.MobileAds, state = READY, desc = \r\n    key = com.google.ads.mediation.vungle.VungleMediationAdapter, state = NOT_READY, desc = Failed to create Adapter.\r\n    key = com.google.ads.mediation.applovin.AppLovinMediationAdapter, state = NOT_READY, desc = Failed to create Adapter.\r\n    key = com.google.ads.mediation.adcolony.AdColonyMediationAdapter, state = NOT_READY, desc = Failed to create Adapter.\r\n    key = com.google.ads.mediation.tapjoy.TapjoyMediationAdapter, state = NOT_READY, desc = Failed to create Adapter.\r\n\r\n`om.google.android.gms.ads.MobileAds` reads `READY`, the other `com.google.ads.mediation.*` read `NOT_READY` and `Failed to create Adapter` (there is no [mediation](https://developers.google.com/admob/android/mediate) set up, but it can load test ads).\r\n\r\n\r\n`MobileAds.initialize(this);` also works (`OnInitializationCompleteListener` is optional).\r\n\r\n ---\r\n\r\nIt seems to work without the `R.string.admob_application_id`, therefore my actual question is:\r\n\r\nIs setting `R.string.admob_publisher_id` and `R.string.admob_application_id` still required - or is it only the ad-unit ID now? Most of the documentation still uses the deprecated initialization method (alike the one shown above), therefore this isn&#39;t clear. \r\n","title":"MobileAds.initialize(Context, String) is deprecated","body":"<p>Before it looked like this (passing <code>R.string.admob_application_id</code>):</p>\n\n<pre><code>MobileAds.initialize(this, getString(R.string.admob_application_id));\n</code></pre>\n\n<hr>\n\n<p><a href=\"https://developers.google.com/android/reference/com/google/android/gms/ads/MobileAds\" rel=\"noreferrer\"><code>MobileAds</code></a> method <code>.initialize(Context context, String applicationCode)</code> \nnow reads:</p>\n\n<blockquote>\n  <p>This method is deprecated. Use <a href=\"https://developers.google.com/android/reference/com/google/android/gms/ads/MobileAds#initialize(android.content.Context,%20com.google.android.gms.ads.initialization.OnInitializationCompleteListener)\" rel=\"noreferrer\"><code>initialize(Context, OnInitializationCompleteListener)</code></a> instead.</p>\n</blockquote>\n\n<p>Which reads:</p>\n\n<blockquote>\n  <p>Initializes the Google Mobile Ads SDK.\n  Call this method as early as possible to reduce latency on the session's first ad request.\n  If this method is not called, the first ad request automatically initializes the Google Mobile Ads SDK.</p>\n</blockquote>\n\n<p><a href=\"https://developers.google.com/android/reference/com/google/android/gms/ads/MobileAds.Settings\" rel=\"noreferrer\">MobileAds.Settings</a> also had been deprecated.</p>\n\n<hr>\n\n<p>What I have tried so far is to get the <a href=\"https://developers.google.com/android/reference/com/google/android/gms/ads/initialization/InitializationStatus\" rel=\"noreferrer\"><code>InitializationStatus</code></a> per adapter:</p>\n\n<pre><code>MobileAds.initialize(this, initializationStatus -&gt; {\n\n    /* get the adapter status */\n    Map&lt;String, AdapterStatus&gt; map = initializationStatus.getAdapterStatusMap();\n    for (Map.Entry&lt;String, AdapterStatus&gt; entry : map.entrySet()) {\n        AdapterStatus adapterStatus = entry.getValue();\n        AdapterStatus.State state = adapterStatus.getInitializationState();\n        Log.d(LOG_TAG, \"key = \" + entry.getKey() + \", state = \" + state.name() + \", desc = \" + adapterStatus.getDescription());\n    }\n});\n</code></pre>\n\n<p>On an emulator it says <code>READY</code>, but <code>.getDescription()</code> has a rather confusing message:</p>\n\n<pre><code>Google Mobile Ads SDK initialization functionality unavailable for this session.\nAd requests can be made at any time.\n</code></pre>\n\n<p>On a physical device with internet connection it shows four more adapters:</p>\n\n<pre><code>key = com.google.android.gms.ads.MobileAds, state = READY, desc = \nkey = com.google.ads.mediation.vungle.VungleMediationAdapter, state = NOT_READY, desc = Failed to create Adapter.\nkey = com.google.ads.mediation.applovin.AppLovinMediationAdapter, state = NOT_READY, desc = Failed to create Adapter.\nkey = com.google.ads.mediation.adcolony.AdColonyMediationAdapter, state = NOT_READY, desc = Failed to create Adapter.\nkey = com.google.ads.mediation.tapjoy.TapjoyMediationAdapter, state = NOT_READY, desc = Failed to create Adapter.\n</code></pre>\n\n<p><code>om.google.android.gms.ads.MobileAds</code> reads <code>READY</code>, the other <code>com.google.ads.mediation.*</code> read <code>NOT_READY</code> and <code>Failed to create Adapter</code> (there is no <a href=\"https://developers.google.com/admob/android/mediate\" rel=\"noreferrer\">mediation</a> set up, but it can load test ads).</p>\n\n<p><code>MobileAds.initialize(this);</code> also works (<code>OnInitializationCompleteListener</code> is optional).</p>\n\n<hr>\n\n<p>It seems to work without the <code>R.string.admob_application_id</code>, therefore my actual question is:</p>\n\n<p>Is setting <code>R.string.admob_publisher_id</code> and <code>R.string.admob_application_id</code> still required - or is it only the ad-unit ID now? Most of the documentation still uses the deprecated initialization method (alike the one shown above), therefore this isn't clear. </p>\n"},{"tags":["java","regex"],"answers":[{"tags":[],"owner":{"account_id":7089168,"reputation":157118,"user_id":5424988,"display_name":"The fourth bird"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1654824949,"creation_date":1654824949,"answer_id":72568237,"question_id":72568155,"body_markdown":"In Java you can make use of [Character Class Subtraction](https://www.rexegg.com/regex-class-operations.html#subtraction_javaruby).\r\n\r\nThe range can look like `[!-~&amp;&amp;[^,:=]]`\r\n\r\n    ^([!-~&amp;&amp;[^,:=]]+)((?!\\1)[!-~&amp;&amp;[^,:=]]+)((?!\\1|\\2)[!-~&amp;&amp;[^,:=]]+)((?!\\1|\\2|\\3)[!-~&amp;&amp;[^,:=]]+)$\r\n\r\nIn Java:\r\n\r\n    String regex = &quot;^([!-~&amp;&amp;[^,:=]]+)((?!\\\\1)[!-~&amp;&amp;[^,:=]]+)((?!\\\\1|\\\\2)[!-~&amp;&amp;[^,:=]]+)((?!\\\\1|\\\\2|\\\\3)[!-~&amp;&amp;[^,:=]]+)$&quot;;\r\n\r\n[Regex demo](https://regex101.com/r/RtNGkz/1)","title":"Regex for strings containing at least 4 unique printable ASCII characters excluding few special characters","body":"<p>In Java you can make use of <a href=\"https://www.rexegg.com/regex-class-operations.html#subtraction_javaruby\" rel=\"nofollow noreferrer\">Character Class Subtraction</a>.</p>\n<p>The range can look like <code>[!-~&amp;&amp;[^,:=]]</code></p>\n<pre><code>^([!-~&amp;&amp;[^,:=]]+)((?!\\1)[!-~&amp;&amp;[^,:=]]+)((?!\\1|\\2)[!-~&amp;&amp;[^,:=]]+)((?!\\1|\\2|\\3)[!-~&amp;&amp;[^,:=]]+)$\n</code></pre>\n<p>In Java:</p>\n<pre><code>String regex = &quot;^([!-~&amp;&amp;[^,:=]]+)((?!\\\\1)[!-~&amp;&amp;[^,:=]]+)((?!\\\\1|\\\\2)[!-~&amp;&amp;[^,:=]]+)((?!\\\\1|\\\\2|\\\\3)[!-~&amp;&amp;[^,:=]]+)$&quot;;\n</code></pre>\n<p><a href=\"https://regex101.com/r/RtNGkz/1\" rel=\"nofollow noreferrer\">Regex demo</a></p>\n"}],"owner":{"account_id":1423187,"reputation":9906,"user_id":1347366,"accept_rate":84,"display_name":"Green goblin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72568237,"answer_count":1,"score":0,"last_activity_date":1654824949,"creation_date":1654823897,"question_id":72568155,"body_markdown":"I am working on an application, in which input strings must have following properties:\r\n- Contains at least 4 unique characters\r\n- Doesn&#39;t contain non-printable ASCII characters\r\n- Doesn&#39;t contain comma (,), colon (:), equals sign (=), or space\r\n\r\nI came up with below regex, which matches strings with at least 4 unique chars, and all printable ASCII chars excluding space.\r\n\r\n```\r\n^([!-~]+)((?!\\1)[!-~]+)((?!\\1|\\2)[!-~]+)((?!\\1|\\2|\\3)[!-~]+)$\r\n```\r\n\r\nHow do I modify it to exclude comma (,), colon (:), equals sign (=)?","title":"Regex for strings containing at least 4 unique printable ASCII characters excluding few special characters","body":"<p>I am working on an application, in which input strings must have following properties:</p>\n<ul>\n<li>Contains at least 4 unique characters</li>\n<li>Doesn't contain non-printable ASCII characters</li>\n<li>Doesn't contain comma (,), colon (:), equals sign (=), or space</li>\n</ul>\n<p>I came up with below regex, which matches strings with at least 4 unique chars, and all printable ASCII chars excluding space.</p>\n<pre><code>^([!-~]+)((?!\\1)[!-~]+)((?!\\1|\\2)[!-~]+)((?!\\1|\\2|\\3)[!-~]+)$\n</code></pre>\n<p>How do I modify it to exclude comma (,), colon (:), equals sign (=)?</p>\n"},{"tags":["java","heap-memory"],"comments":[{"owner":{"account_id":8485075,"reputation":75,"user_id":6363534,"display_name":"Josh Thrasher"},"score":0,"creation_date":1543722653,"post_id":53577013,"comment_id":94018476,"body_markdown":"Wouldn&#39;t the number of allocated objects also very depending on the aggergate of other variables since they are all stored in the heap?  You have an array list and int also taking up space.  (Just a curious thought).  Also, the way I understand it, the JVM uses available resources that are distributed by the OS.  If that is the case, it is possible to have a changing heap.","body":"Wouldn&#39;t the number of allocated objects also very depending on the aggergate of other variables since they are all stored in the heap?  You have an array list and int also taking up space.  (Just a curious thought).  Also, the way I understand it, the JVM uses available resources that are distributed by the OS.  If that is the case, it is possible to have a changing heap."},{"owner":{"account_id":5861958,"reputation":681,"user_id":4617334,"accept_rate":33,"display_name":"Madhusoodan P"},"score":0,"creation_date":1543733481,"post_id":53577013,"comment_id":94019876,"body_markdown":"@JoshThrasher Shouldn&#39;t that be a constant for each run?","body":"@JoshThrasher Shouldn&#39;t that be a constant for each run?"},{"owner":{"account_id":8485075,"reputation":75,"user_id":6363534,"display_name":"Josh Thrasher"},"score":0,"creation_date":1544061788,"post_id":53577013,"comment_id":94146172,"body_markdown":"That&#39;s true.\n\nI wonder if you ran a bunch of stuff in the background if you would get significantly smaller results.  If so, that would support the idea that JVM allocates available resources only.","body":"That&#39;s true.  I wonder if you ran a bunch of stuff in the background if you would get significantly smaller results.  If so, that would support the idea that JVM allocates available resources only."},{"owner":{"account_id":5861958,"reputation":681,"user_id":4617334,"accept_rate":33,"display_name":"Madhusoodan P"},"score":0,"creation_date":1544062200,"post_id":53577013,"comment_id":94146268,"body_markdown":"No my laptop has plenty of memory available all the time (~50%)","body":"No my laptop has plenty of memory available all the time (~50%)"}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1654824440,"creation_date":1639320836,"answer_id":70324671,"question_id":53577013,"body_markdown":"&gt; But I noticed that the number of objects allocated in each run for a same Xmx was varying. Why is this?\r\n\r\nSome events in the JVM are non-deterministic, and this can effect garbage collector behavior.\r\n\r\nBut there could be factors in play that are resulting in variable numbers of (your) objects being created before you fill up the heap.  These include:\r\n\r\n  - Not all of the objects in the heap will be the `ArrayList` and `Integer` objects that you are explicitly creating.  There will be `Object[]` objects that get created when you resize the `ArrayList`, various objects generated by your `println` calls ... and other things that happen under the hood.\r\n\r\n  - Heap resizing behavior.  The heap is not immediately sized to -Xmx size.  The JVM typically starts with a smaller heap size and expands it on demand.  By the time you get an OOME, the JVM has most likely expanded the heap to the max permitted, but the sequence of expansions is potentially sensitive to ... various factors including some that may be non-deterministic.\r\n\r\n  - Heap generations.  A typical Java GC uses an old space and a new space.  The old space contains long-lived objects.  New objects are allocated into the new space ... unless they are very large.  The actual distribution of the objects can affect when the GC runs occur, and when JVM is going to decide that the heap is full.\r\n\r\n  - JIT compilation.  At certain points in the execution of your application, the JVM will (typically) decide to JIT compile your code.  When this happens, extra objects get allocated.\r\n\r\n--------------------\r\n\r\n&gt; Is there anything inside JVM randomized?\r\n\r\nIt is unlikely to be explicit randomization affecting this benchmark.  There is sufficient non-determinism at various levels (i.e. in the hardware, the OS and the JVM) to explain the inconsistent results you are seeing.\r\n\r\n--------------------\r\n\r\nIn short: I wouldn&#39;t expect your benchmark to give consistent results for the number of objects that can be created.\r\n\r\n","title":"Java&#39;s varying available heap size","body":"<blockquote>\n<p>But I noticed that the number of objects allocated in each run for a same Xmx was varying. Why is this?</p>\n</blockquote>\n<p>Some events in the JVM are non-deterministic, and this can effect garbage collector behavior.</p>\n<p>But there could be factors in play that are resulting in variable numbers of (your) objects being created before you fill up the heap.  These include:</p>\n<ul>\n<li><p>Not all of the objects in the heap will be the <code>ArrayList</code> and <code>Integer</code> objects that you are explicitly creating.  There will be <code>Object[]</code> objects that get created when you resize the <code>ArrayList</code>, various objects generated by your <code>println</code> calls ... and other things that happen under the hood.</p>\n</li>\n<li><p>Heap resizing behavior.  The heap is not immediately sized to -Xmx size.  The JVM typically starts with a smaller heap size and expands it on demand.  By the time you get an OOME, the JVM has most likely expanded the heap to the max permitted, but the sequence of expansions is potentially sensitive to ... various factors including some that may be non-deterministic.</p>\n</li>\n<li><p>Heap generations.  A typical Java GC uses an old space and a new space.  The old space contains long-lived objects.  New objects are allocated into the new space ... unless they are very large.  The actual distribution of the objects can affect when the GC runs occur, and when JVM is going to decide that the heap is full.</p>\n</li>\n<li><p>JIT compilation.  At certain points in the execution of your application, the JVM will (typically) decide to JIT compile your code.  When this happens, extra objects get allocated.</p>\n</li>\n</ul>\n<hr />\n<blockquote>\n<p>Is there anything inside JVM randomized?</p>\n</blockquote>\n<p>It is unlikely to be explicit randomization affecting this benchmark.  There is sufficient non-determinism at various levels (i.e. in the hardware, the OS and the JVM) to explain the inconsistent results you are seeing.</p>\n<hr />\n<p>In short: I wouldn't expect your benchmark to give consistent results for the number of objects that can be created.</p>\n"}],"owner":{"account_id":5861958,"reputation":681,"user_id":4617334,"accept_rate":33,"display_name":"Madhusoodan P"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70324671,"answer_count":1,"score":2,"last_activity_date":1654824440,"creation_date":1543720537,"question_id":53577013,"body_markdown":"I just found out that there are some libraries to compute the shallow size of a java object, so I thought I can also write this in a very simple way. Here is what I tried.\r\n\r\n1. Start the program with some `Xmx` say `A`\r\n2. Create objects of type whose size you want to calculate (say type `T`) and store them in a list so that GC shouldn&#39;t clean them up.\r\n3. When we hit OOM, let the code handle it and empty the list.\r\n4. Now check the number of the objects of type `T` we allocated. Let this be `n`\r\n5. Do a binary search to find out the delta inorder to successfully allocate `n+1` objects.\r\n\r\nHere is the code, I tried out\r\n\r\n    import java.util.ArrayList;\r\n    public class test {\r\n    \tpublic static void main(String[] a) {\r\n    \t\tArrayList&lt;Integer&gt; l = new ArrayList&lt;&gt;();\r\n    \t\tint i=0;\r\n    \t\ttry {\r\n    \t\t\twhile(true) {\r\n    \t\t\t\tl.add(new Integer(1));\r\n    \t\t\t\ti++;\r\n    \t\t\t}\r\n    \t\t} catch(Throwable e) {\r\n    \t\t} finally {\r\n    \t\t\tl.clear();\r\n    \t\t\tSystem.out.println(i + &quot;&quot;);\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nBut I noticed that the number of objects allocated in each run for a same `Xmx` was varying. Why is this? Is there anything inside JVM randomized?","title":"Java&#39;s varying available heap size","body":"<p>I just found out that there are some libraries to compute the shallow size of a java object, so I thought I can also write this in a very simple way. Here is what I tried.</p>\n\n<ol>\n<li>Start the program with some <code>Xmx</code> say <code>A</code></li>\n<li>Create objects of type whose size you want to calculate (say type <code>T</code>) and store them in a list so that GC shouldn't clean them up.</li>\n<li>When we hit OOM, let the code handle it and empty the list.</li>\n<li>Now check the number of the objects of type <code>T</code> we allocated. Let this be <code>n</code></li>\n<li>Do a binary search to find out the delta inorder to successfully allocate <code>n+1</code> objects.</li>\n</ol>\n\n<p>Here is the code, I tried out</p>\n\n<pre><code>import java.util.ArrayList;\npublic class test {\n    public static void main(String[] a) {\n        ArrayList&lt;Integer&gt; l = new ArrayList&lt;&gt;();\n        int i=0;\n        try {\n            while(true) {\n                l.add(new Integer(1));\n                i++;\n            }\n        } catch(Throwable e) {\n        } finally {\n            l.clear();\n            System.out.println(i + \"\");\n        }\n    }\n}\n</code></pre>\n\n<p>But I noticed that the number of objects allocated in each run for a same <code>Xmx</code> was varying. Why is this? Is there anything inside JVM randomized?</p>\n"},{"tags":["java","file","io","jasper-reports"],"comments":[{"owner":{"account_id":1474276,"reputation":4564,"user_id":1385087,"display_name":"Konstantin V. Salikhov"},"score":0,"creation_date":1405620508,"post_id":24810517,"comment_id":38512613,"body_markdown":"You need to use `getResourceAsStream` here","body":"You need to use <code>getResourceAsStream</code> here"},{"owner":{"account_id":3690166,"reputation":2427,"user_id":3072925,"accept_rate":85,"display_name":"Joao Evangelista"},"score":0,"creation_date":1405620758,"post_id":24810517,"comment_id":38512748,"body_markdown":"@KonstantinV.Salikhov like this? `InputStream inputStream = this.getClass().getResourceAsStream(&quot;FistJasper.jrxml&quot;);`","body":"@KonstantinV.Salikhov like this? <code>InputStream inputStream = this.getClass().getResourceAsStream(&quot;FistJasper.jrxml&quot;);</code>"},{"owner":{"account_id":1474276,"reputation":4564,"user_id":1385087,"display_name":"Konstantin V. Salikhov"},"score":0,"creation_date":1405620822,"post_id":24810517,"comment_id":38512792,"body_markdown":"Yeah, something like that. It will load file from classpath","body":"Yeah, something like that. It will load file from classpath"},{"owner":{"account_id":3690166,"reputation":2427,"user_id":3072925,"accept_rate":85,"display_name":"Joao Evangelista"},"score":0,"creation_date":1405621252,"post_id":24810517,"comment_id":38513068,"body_markdown":"@KonstantinV.Salikhov it&#39;s now returning NullPointerException on InputStream","body":"@KonstantinV.Salikhov it&#39;s now returning NullPointerException on InputStream"},{"owner":{"account_id":1474276,"reputation":4564,"user_id":1385087,"display_name":"Konstantin V. Salikhov"},"score":1,"creation_date":1405621348,"post_id":24810517,"comment_id":38513126,"body_markdown":"You have a typo `FistJasper` instead of first","body":"You have a typo <code>FistJasper</code> instead of first"},{"owner":{"account_id":3690166,"reputation":2427,"user_id":3072925,"accept_rate":85,"display_name":"Joao Evangelista"},"score":1,"creation_date":1405621851,"post_id":24810517,"comment_id":38513396,"body_markdown":"Yeah, sorry about that, I corrected and still NullPointer, then I tried this, `InputStream inputStream = this.getClass().getResourceAsStream(&quot;/FirstJasper.jrxml&quot;);` the NullPointer is gone! Thanks","body":"Yeah, sorry about that, I corrected and still NullPointer, then I tried this, <code>InputStream inputStream = this.getClass().getResourceAsStream(&quot;&#47;FirstJasper.jrxml&quot;);</code> the NullPointer is gone! Thanks"}],"answers":[{"tags":[],"owner":{"account_id":25520655,"reputation":1,"user_id":19310618,"display_name":"BryanValc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654824389,"creation_date":1654824170,"answer_id":72568172,"question_id":24810517,"body_markdown":"You shouldn&#39;t use absolute paths, instead, create a classpath folder and put your jrxml inside of it, like this.\r\n\r\n[classpath folder for jrxml files][1]\r\n\r\n\r\nI got something like this, note that it is very important to use YourClassName.class.getResource method so you can properly load the resource once you create the executable jar file.\r\n\r\n    JasperReport jaspe=(JasperReport)JRLoader.loadObject(GuiPrincipal.class.getResource(&quot;/reportes/reporteInventario.jasper&quot;));\r\n    \t\t\t\t\tJasperPrint print=JasperFillManager.fillReport(jaspe, null,cn.getConexion());\r\n    \t\t\t\t\tjasperView= new JasperViewer(print,false);\r\n    \t\t\t\t\tjasperView.setVisible(true);\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/MOYqF.png","title":"JasperReport FileNotFound exception, I&#39;m missing something?","body":"<p>You shouldn't use absolute paths, instead, create a classpath folder and put your jrxml inside of it, like this.</p>\n<p><a href=\"https://i.stack.imgur.com/MOYqF.png\" rel=\"nofollow noreferrer\">classpath folder for jrxml files</a></p>\n<p>I got something like this, note that it is very important to use YourClassName.class.getResource method so you can properly load the resource once you create the executable jar file.</p>\n<pre><code>JasperReport jaspe=(JasperReport)JRLoader.loadObject(GuiPrincipal.class.getResource(&quot;/reportes/reporteInventario.jasper&quot;));\n                    JasperPrint print=JasperFillManager.fillReport(jaspe, null,cn.getConexion());\n                    jasperView= new JasperViewer(print,false);\n                    jasperView.setVisible(true);\n</code></pre>\n"}],"owner":{"account_id":3690166,"reputation":2427,"user_id":3072925,"accept_rate":85,"display_name":"Joao Evangelista"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":231,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654824389,"creation_date":1405620233,"question_id":24810517,"body_markdown":"Well I&#39;m trying to create a simple report based on Jasper samples jrxml.\r\n\r\nThe JRXML file is under resources folder, as maven project, something like\r\n\r\n    main/\r\n        java/\r\n        resources/FirstJasper.jrxml\r\n        web/\r\n\r\n\r\n \r\n I wrote so far this,\r\n I also tried `File file = new File(&quot;FistJasper.jrxml&quot;);`\r\n\r\n     public static void initReport() {\r\n            try {\r\n                File file = new File(&quot;D:\\\\Development\\\\Workspace\\\\Joao&#39;s Workspace\\\\Studium\\\\src\\\\main\\\\resources\\\\FistJasper.jrxml&quot;);\r\n                InputStream inputStream = new FileInputStream(file);\r\n                Map params = new HashMap&lt;&gt;();\r\n                JasperReport jasperReport = JasperCompileManager.compileReport(inputStream);\r\n                LOGGER.warn(&quot;JASPER: &quot;, jasperReport.getName());\r\n    \r\n                LOGGER.warn(&quot;JASPER: &quot;, inputStream.read());\r\n    \r\n    \r\n    \r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            } catch (JRException e) {\r\n                e.printStackTrace();\r\n            }\r\n            }\r\n\r\n\r\nI&#39;m getting a FileNotFound exception on InputStream inputStream = new FileInputStream(file)\r\nAm I missing some steps on reading the file or there is other way I can pass the correct path to Jasper?","title":"JasperReport FileNotFound exception, I&#39;m missing something?","body":"<p>Well I'm trying to create a simple report based on Jasper samples jrxml.</p>\n\n<p>The JRXML file is under resources folder, as maven project, something like</p>\n\n<pre><code>main/\n    java/\n    resources/FirstJasper.jrxml\n    web/\n</code></pre>\n\n<p>I wrote so far this,\n I also tried <code>File file = new File(\"FistJasper.jrxml\");</code></p>\n\n<pre><code> public static void initReport() {\n        try {\n            File file = new File(\"D:\\\\Development\\\\Workspace\\\\Joao's Workspace\\\\Studium\\\\src\\\\main\\\\resources\\\\FistJasper.jrxml\");\n            InputStream inputStream = new FileInputStream(file);\n            Map params = new HashMap&lt;&gt;();\n            JasperReport jasperReport = JasperCompileManager.compileReport(inputStream);\n            LOGGER.warn(\"JASPER: \", jasperReport.getName());\n\n            LOGGER.warn(\"JASPER: \", inputStream.read());\n\n\n\n        } catch (IOException e) {\n            e.printStackTrace();\n        } catch (JRException e) {\n            e.printStackTrace();\n        }\n        }\n</code></pre>\n\n<p>I'm getting a FileNotFound exception on InputStream inputStream = new FileInputStream(file)\nAm I missing some steps on reading the file or there is other way I can pass the correct path to Jasper?</p>\n"},{"tags":["java","file","text","java.util.scanner","java-io"],"comments":[{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":0,"creation_date":1654827011,"post_id":72568132,"comment_id":128190377,"body_markdown":"You are attempting to both write to and read from the same file. There are ways to do that, but for your use case with a scanner, do the scanning first, close the scanner, and then do the writing/updating as needed. As for &quot;Or any better way to calculate a sum repetively?&quot;, just keep a class variable with the running total, or use a list if you want to store multiple values?","body":"You are attempting to both write to and read from the same file. There are ways to do that, but for your use case with a scanner, do the scanning first, close the scanner, and then do the writing/updating as needed. As for &quot;Or any better way to calculate a sum repetively?&quot;, just keep a class variable with the running total, or use a list if you want to store multiple values?"},{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":1,"creation_date":1654827286,"post_id":72568132,"comment_id":128190408,"body_markdown":"Note that an `InputMismatchException` is caused by this line `scan.nextDouble();` where your scanner is trying to read something that is not a double. Check the contents of the `receipt.txt` to see what is first, because your code expects a double value, not a string that it is likely returning. You need to advance past any strings/text in the file before reading the double values. Or you need to read the entire line, and split it up and extract the number text and cast it to a double","body":"Note that an <code>InputMismatchException</code> is caused by this line <code>scan.nextDouble();</code> where your scanner is trying to read something that is not a double. Check the contents of the <code>receipt.txt</code> to see what is first, because your code expects a double value, not a string that it is likely returning. You need to advance past any strings/text in the file before reading the double values. Or you need to read the entire line, and split it up and extract the number text and cast it to a double"}],"owner":{"account_id":25520652,"reputation":27,"user_id":19310613,"display_name":"metal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1654823577,"creation_date":1654823577,"question_id":72568132,"body_markdown":"I have this program below so far:\r\n```\r\nimport javax.swing.JOptionPane;\r\nimport java.io.*;\r\nimport java.util.Scanner;\r\nimport java.text.DecimalFormat;\r\nclass Receipts \r\n{\r\n    public static void main(String[] args) throws IOException \r\n    {\r\n\r\n        DecimalFormat format = new DecimalFormat(&quot;0.00&quot;);\r\n        File file = new File(&quot;receipt.txt&quot;);\r\n        PrintWriter exit = new PrintWriter(\r\n                           new BufferedWriter(\r\n                           new FileWriter(file, true)));\r\n\r\n        Scanner scan = new Scanner(file);\r\n\r\n\r\n        int choice = JOptionPane.showOptionDialog(null, &quot;Hello. What would you like to do today?&quot;, &quot;Receipts&quot;, JOptionPane.OK_CANCEL_OPTION, JOptionPane.INFORMATION_MESSAGE, null, new String[]{&quot;See my total&quot;, &quot;Add a receipt&quot;}, &quot;default&quot;);\r\n\r\n\r\n        switch(choice)\r\n        {\r\n            case 0:  // see my total\r\n            {\r\n                double total = scan.nextDouble();\r\n                String StrTotal = format.format(total); \r\n\r\n                JOptionPane.showMessageDialog(null, &quot;Your total so far is $&quot; + StrTotal + &quot;.&quot;);\r\n            }\r\n\r\n            case 1:  // add a receipt\r\n            {\r\n                double receipt = Integer.parseInt(JOptionPane.showInputDialog(&quot;Enter the amount.&quot;));\r\n                double addTotal = scan.nextDouble();\r\n                exit.print(format.format(receipt + addTotal));\r\n\r\n\r\n                exit.close();\r\n\r\n                JOptionPane.showMessageDialog(null, &quot;The amount has been added.&quot;);\r\n            }\r\n\r\n            default:\r\n            {\r\n                JOptionPane.showMessageDialog(null, &quot;Please input your selection.&quot;);\r\n                exit.close();\r\n                break;\r\n            }\r\n        }\r\n\r\n    } \r\n}\r\n```\r\nIn the text file ```receipt.txt```, I have a single number (like: &quot;**0.00**&quot;) that the program is supposed to fetch then use it for calculations.\r\n\r\n1. There&#39;s an error stating: \r\n```\r\nException in thread &quot;main&quot; java.util.InputMismatchException\r\n        at java.util.Scanner.throwFor(Scanner.java:864)\r\n        at java.util.Scanner.next(Scanner.java:1485)\r\n        at java.util.Scanner.nextDouble(Scanner.java:2413)\r\n        at Receipts.main(Receipts.java:26)\r\n```\r\nHow can I fix this?\r\n\r\n2. Is there a way to make it so that the ```FileWriter``` removes the sum from the text file and adds it to the user&#39;s input, then prints it again in the file to use again? Or any better way to calculate a sum repetively?","title":"How can I improve a program that calculates a sum from receipt totals from a text file?","body":"<p>I have this program below so far:</p>\n<pre><code>import javax.swing.JOptionPane;\nimport java.io.*;\nimport java.util.Scanner;\nimport java.text.DecimalFormat;\nclass Receipts \n{\n    public static void main(String[] args) throws IOException \n    {\n\n        DecimalFormat format = new DecimalFormat(&quot;0.00&quot;);\n        File file = new File(&quot;receipt.txt&quot;);\n        PrintWriter exit = new PrintWriter(\n                           new BufferedWriter(\n                           new FileWriter(file, true)));\n\n        Scanner scan = new Scanner(file);\n\n\n        int choice = JOptionPane.showOptionDialog(null, &quot;Hello. What would you like to do today?&quot;, &quot;Receipts&quot;, JOptionPane.OK_CANCEL_OPTION, JOptionPane.INFORMATION_MESSAGE, null, new String[]{&quot;See my total&quot;, &quot;Add a receipt&quot;}, &quot;default&quot;);\n\n\n        switch(choice)\n        {\n            case 0:  // see my total\n            {\n                double total = scan.nextDouble();\n                String StrTotal = format.format(total); \n\n                JOptionPane.showMessageDialog(null, &quot;Your total so far is $&quot; + StrTotal + &quot;.&quot;);\n            }\n\n            case 1:  // add a receipt\n            {\n                double receipt = Integer.parseInt(JOptionPane.showInputDialog(&quot;Enter the amount.&quot;));\n                double addTotal = scan.nextDouble();\n                exit.print(format.format(receipt + addTotal));\n\n\n                exit.close();\n\n                JOptionPane.showMessageDialog(null, &quot;The amount has been added.&quot;);\n            }\n\n            default:\n            {\n                JOptionPane.showMessageDialog(null, &quot;Please input your selection.&quot;);\n                exit.close();\n                break;\n            }\n        }\n\n    } \n}\n</code></pre>\n<p>In the text file <code>receipt.txt</code>, I have a single number (like: &quot;<strong>0.00</strong>&quot;) that the program is supposed to fetch then use it for calculations.</p>\n<ol>\n<li>There's an error stating:</li>\n</ol>\n<pre><code>Exception in thread &quot;main&quot; java.util.InputMismatchException\n        at java.util.Scanner.throwFor(Scanner.java:864)\n        at java.util.Scanner.next(Scanner.java:1485)\n        at java.util.Scanner.nextDouble(Scanner.java:2413)\n        at Receipts.main(Receipts.java:26)\n</code></pre>\n<p>How can I fix this?</p>\n<ol start=\"2\">\n<li>Is there a way to make it so that the <code>FileWriter</code> removes the sum from the text file and adds it to the user's input, then prints it again in the file to use again? Or any better way to calculate a sum repetively?</li>\n</ol>\n"},{"tags":["java","colors","rgb","xterm"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1654799988,"post_id":72564999,"comment_id":128184740,"body_markdown":"DIfficult to know as you [don&#39;t state your goal](https://technojeeves.com/index.php/aliasjava1/15-smart-questions)","body":"DIfficult to know as you <a href=\"https://technojeeves.com/index.php/aliasjava1/15-smart-questions\" rel=\"nofollow noreferrer\">don&#39;t state your goal</a>"},{"owner":{"account_id":21594672,"reputation":9,"user_id":15923797,"display_name":"jredfox_"},"score":0,"creation_date":1654802708,"post_id":72564999,"comment_id":128185499,"body_markdown":"@g00se &quot;Java Convert RGB (24 bit) to xterm-256 colors.&quot;","body":"@g00se &quot;Java Convert RGB (24 bit) to xterm-256 colors.&quot;"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1654805095,"post_id":72564999,"comment_id":128186239,"body_markdown":"That&#39;s a step, not a goal","body":"That&#39;s a step, not a goal"},{"owner":{"account_id":21594672,"reputation":9,"user_id":15923797,"display_name":"jredfox_"},"score":0,"creation_date":1654806435,"post_id":72564999,"comment_id":128186628,"body_markdown":"that is the goal. I have Color and I want it printing on an xterm-256 consoles to. in order to do this I need to convert","body":"that is the goal. I have Color and I want it printing on an xterm-256 consoles to. in order to do this I need to convert"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1654817033,"post_id":72564999,"comment_id":128188840,"body_markdown":"Let&#39;s say you&#39;ve got the xterm colour - how are you going to do that in Java out of interest?","body":"Let&#39;s say you&#39;ve got the xterm colour - how are you going to do that in Java out of interest?"},{"owner":{"account_id":21594672,"reputation":9,"user_id":15923797,"display_name":"jredfox_"},"score":0,"creation_date":1654818356,"post_id":72564999,"comment_id":128189033,"body_markdown":"System.out.println works just fine test with TRUE color","body":"System.out.println works just fine test with TRUE color"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1654819395,"post_id":72564999,"comment_id":128189191,"body_markdown":"Not sure what you mean but I&#39;m guessing ANSI escape sequences. Try [this API](https://mabe02.github.io/lanterna/apidocs/3.0/com/googlecode/lanterna/TextColor.Indexed.html)","body":"Not sure what you mean but I&#39;m guessing ANSI escape sequences. Try <a href=\"https://mabe02.github.io/lanterna/apidocs/3.0/com/googlecode/lanterna/TextColor.Indexed.html\" rel=\"nofollow noreferrer\">this API</a>"}],"answers":[{"tags":[],"owner":{"account_id":21594672,"reputation":9,"user_id":15923797,"display_name":"jredfox_"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1654823442,"creation_date":1654823442,"answer_id":72568123,"question_id":72564999,"body_markdown":"use my Palette class. it can pick the closest color to the palette applicable. it requires a csv file &lt;paletCode, name, R, G, B&gt; and a library to parse a CSV file. from there you can use Palette#pickColor after it&#39;s been parsed\r\n```\r\npackage jml.ot.colors;\r\n\r\nimport java.awt.Color;\r\nimport java.io.InputStream;\r\nimport java.util.LinkedHashSet;\r\n\r\nimport jredfox.common.config.csv.CSV;\r\nimport jredfox.common.config.csv.CSVE;\r\n\r\npublic class Palette {\r\n\t\r\n\tpublic LinkedHashSet&lt;Entry&gt; entries = new LinkedHashSet&lt;Entry&gt;();\r\n\t\r\n\tpublic Palette()\r\n\t{\r\n\t\t\r\n\t}\r\n\t\r\n\t/**\r\n\t * return the Palette&#39;s clostes color from RGB and then give you the Entry(code, name, rgb)\r\n\t */\r\n\tpublic Entry pickColor(Color c)\r\n\t{\r\n\t\tint d = 0;\r\n\t\tPalette.Entry picked = null;\r\n\t\tfor(Palette.Entry e : this.entries)\r\n\t\t{\r\n\t\t\tint r = e.rgb.getRed();\r\n\t\t\tint g = e.rgb.getGreen();\r\n\t\t\tint b = e.rgb.getBlue();\r\n\t\t\tint distence = Math.abs(r - c.getRed()) + Math.abs(g - c.getGreen()) + Math.abs(b - c.getBlue());\r\n\t\t\tif(picked == null || distence &lt; d)\r\n\t\t\t{\r\n\t\t\t\td = distence;\r\n\t\t\t\tpicked = e;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn picked;\r\n\t}\r\n\t\r\n\tpublic Palette parse(InputStream in) throws Exception\r\n\t{\r\n\t\tCSVE ce = new CSVE();\r\n\t\tce.parse(in);\r\n\t\tfor(CSV c : ce.list)\r\n\t\t\tthis.add(Integer.parseInt(c.list.get(0)), c.list.get(1), new Color(Integer.parseInt(c.list.get(2)), Integer.parseInt(c.list.get(3)), Integer.parseInt(c.list.get(4))));\r\n\t\treturn this;\r\n\t}\r\n\t\r\n\tpublic void add(int code, String name, Color rgb)\r\n\t{\r\n\t\tthis.entries.add(new Entry(code, name, rgb));\r\n\t}\r\n\t\r\n\tpublic void remove(int code)\r\n\t{\r\n\t\tthis.entries.remove(new Entry(code, null, null));\r\n\t}\r\n\t\r\n\tpublic class Entry\r\n\t{\r\n\t\tpublic int code;\r\n\t\tpublic String name;\r\n\t\tpublic Color rgb;\r\n\t\t\r\n\t\tpublic Entry(int c, String n, Color color)\r\n\t\t{\r\n\t\t\tthis.code = c;\r\n\t\t\tthis.name = n;\r\n\t\t\tthis.rgb = color;\r\n\t\t}\r\n\t\t\r\n\t\t@Override\r\n\t\tpublic int hashCode()\r\n\t\t{\r\n\t\t\treturn this.code;\r\n\t\t}\r\n\t\t\r\n\t\t@Override\r\n\t\tpublic boolean equals(Object obj)\r\n\t\t{\r\n\t\t\tEntry o = (Entry)obj;\r\n\t\t\treturn this.code == o.code;\r\n\t\t}\r\n\t\t\r\n\t\t@Override\r\n\t\tpublic String toString()\r\n\t\t{\r\n\t\t\treturn this.code + &quot;, &quot; + this.name + &quot;, &quot; + this.rgb;\r\n\t\t}\r\n\t}\r\n\r\n}\r\n```","title":"Java Convert RGB (24 bit) to xterm-256 colors","body":"<p>use my Palette class. it can pick the closest color to the palette applicable. it requires a csv file &lt;paletCode, name, R, G, B&gt; and a library to parse a CSV file. from there you can use Palette#pickColor after it's been parsed</p>\n<pre><code>package jml.ot.colors;\n\nimport java.awt.Color;\nimport java.io.InputStream;\nimport java.util.LinkedHashSet;\n\nimport jredfox.common.config.csv.CSV;\nimport jredfox.common.config.csv.CSVE;\n\npublic class Palette {\n    \n    public LinkedHashSet&lt;Entry&gt; entries = new LinkedHashSet&lt;Entry&gt;();\n    \n    public Palette()\n    {\n        \n    }\n    \n    /**\n     * return the Palette's clostes color from RGB and then give you the Entry(code, name, rgb)\n     */\n    public Entry pickColor(Color c)\n    {\n        int d = 0;\n        Palette.Entry picked = null;\n        for(Palette.Entry e : this.entries)\n        {\n            int r = e.rgb.getRed();\n            int g = e.rgb.getGreen();\n            int b = e.rgb.getBlue();\n            int distence = Math.abs(r - c.getRed()) + Math.abs(g - c.getGreen()) + Math.abs(b - c.getBlue());\n            if(picked == null || distence &lt; d)\n            {\n                d = distence;\n                picked = e;\n            }\n        }\n        return picked;\n    }\n    \n    public Palette parse(InputStream in) throws Exception\n    {\n        CSVE ce = new CSVE();\n        ce.parse(in);\n        for(CSV c : ce.list)\n            this.add(Integer.parseInt(c.list.get(0)), c.list.get(1), new Color(Integer.parseInt(c.list.get(2)), Integer.parseInt(c.list.get(3)), Integer.parseInt(c.list.get(4))));\n        return this;\n    }\n    \n    public void add(int code, String name, Color rgb)\n    {\n        this.entries.add(new Entry(code, name, rgb));\n    }\n    \n    public void remove(int code)\n    {\n        this.entries.remove(new Entry(code, null, null));\n    }\n    \n    public class Entry\n    {\n        public int code;\n        public String name;\n        public Color rgb;\n        \n        public Entry(int c, String n, Color color)\n        {\n            this.code = c;\n            this.name = n;\n            this.rgb = color;\n        }\n        \n        @Override\n        public int hashCode()\n        {\n            return this.code;\n        }\n        \n        @Override\n        public boolean equals(Object obj)\n        {\n            Entry o = (Entry)obj;\n            return this.code == o.code;\n        }\n        \n        @Override\n        public String toString()\n        {\n            return this.code + &quot;, &quot; + this.name + &quot;, &quot; + this.rgb;\n        }\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":21594672,"reputation":9,"user_id":15923797,"display_name":"jredfox_"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":344,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1654823442,"creation_date":1654799214,"question_id":72564999,"body_markdown":"Java Convert RGB (24 bit) to xterm-256 colors. I see many posts on here but none for java. I look at python&#39;s code and lots of answers but they all don&#39;t do 6x6x6 cubes that tmux does. I don&#39;t understand c++ can someone please write `tmux` impl in java to convert RGB to xterm-256 color as a byte? And is this problematic in general. Should I be doing this at all? Should I say if the terminal doesn&#39;t support RGB to use 4 bit backup colors that people can easily understand.","title":"Java Convert RGB (24 bit) to xterm-256 colors","body":"<p>Java Convert RGB (24 bit) to xterm-256 colors. I see many posts on here but none for java. I look at python's code and lots of answers but they all don't do 6x6x6 cubes that tmux does. I don't understand c++ can someone please write <code>tmux</code> impl in java to convert RGB to xterm-256 color as a byte? And is this problematic in general. Should I be doing this at all? Should I say if the terminal doesn't support RGB to use 4 bit backup colors that people can easily understand.</p>\n"},{"tags":["java","spring-boot","spring-security","cors","fetch"],"comments":[{"owner":{"account_id":2021661,"reputation":61998,"user_id":2541573,"accept_rate":100,"display_name":"jub0bs"},"score":1,"creation_date":1652375453,"post_id":72218417,"comment_id":127596932,"body_markdown":"To allow requests that use `application/json` as their content type, you need to explicitly allow the `Content-Type` header in your CORS configuration.","body":"To allow requests that use <code>application&#47;json</code> as their content type, you need to explicitly allow the <code>Content-Type</code> header in your CORS configuration."},{"owner":{"account_id":25273753,"reputation":11,"user_id":19102730,"display_name":"UintaJoe"},"score":0,"creation_date":1652375743,"post_id":72218417,"comment_id":127597034,"body_markdown":"The issue here is that the CORS cfg doesn&#39;t even come into play; the preflight apparently doesn&#39;t even make it to the CORS filter, or any filter for that matter.","body":"The issue here is that the CORS cfg doesn&#39;t even come into play; the preflight apparently doesn&#39;t even make it to the CORS filter, or any filter for that matter."},{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":0,"creation_date":1652377255,"post_id":72218417,"comment_id":127597589,"body_markdown":"Show your full Spring Security configuration, not only one line. Show also your CORS configuration.","body":"Show your full Spring Security configuration, not only one line. Show also your CORS configuration."},{"owner":{"account_id":25273753,"reputation":11,"user_id":19102730,"display_name":"UintaJoe"},"score":0,"creation_date":1652378477,"post_id":72218417,"comment_id":127597946,"body_markdown":"Added these code files.","body":"Added these code files."}],"answers":[{"tags":[],"owner":{"account_id":25273753,"reputation":11,"user_id":19102730,"display_name":"UintaJoe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654822901,"creation_date":1654822901,"answer_id":72568081,"question_id":72218417,"body_markdown":"Here&#39;s the solution:\r\n1.\tAdd this class:\r\n```\r\nimport java.io.IOException;\r\nimport javax.servlet.Filter;\r\nimport javax.servlet.FilterChain;\r\nimport javax.servlet.FilterConfig;\r\nimport javax.servlet.ServletException;\r\nimport javax.servlet.ServletRequest;\r\nimport javax.servlet.ServletResponse;\r\nimport javax.servlet.http.HttpServletResponse;\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.core.env.Environment;\r\nimport org.springframework.security.config.annotation.method.configuration.EnableGlobalMethodSecurity;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\r\nimport org.springframework.security.web.access.channel.ChannelProcessingFilter;\r\nimport org.springframework.web.cors.CorsUtils;\r\n\r\n@EnableWebSecurity\r\n@EnableGlobalMethodSecurity(prePostEnabled = true)\r\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\r\n\r\n    private Environment environment;\r\n    final Logger logger = LoggerFactory.getLogger(getClass());\r\n    \r\n    @Autowired\r\n    public WebSecurityConfig(Environment environment) {\r\n        this.environment = environment;\r\n    }\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http.authorizeRequests()\r\n            .antMatchers(&quot;/xxx/**&quot;)\r\n            .hasIpAddress(environment.getProperty(&quot;gateway.ip&quot;))\r\n            .requestMatchers(CorsUtils::isCorsRequest).permitAll()\r\n            .and().addFilterBefore(new WebSecurityCorsFilter(),\r\n                                   ChannelProcessingFilter.class);\r\n        http.headers().frameOptions().disable();\r\n    }\r\n\r\n    class WebSecurityCorsFilter implements Filter {\r\n        \r\n        @Override\r\n        public void init(FilterConfig filterConfig) throws ServletException {}\r\n        \r\n        @Override\r\n        public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) \r\n                throws IOException, ServletException {\r\n            logger.info(&quot;\\n\\nIs this thing on?\\n&quot;);\r\n            HttpServletResponse res = (HttpServletResponse) response;\r\n            res.setHeader(&quot;Access-Control-Allow-Origin&quot;, &quot;http://localhost:3000&quot;);\r\n            res.setHeader(&quot;Access-Control-Allow-Methods&quot;, &quot;POST, GET, OPTIONS, DELETE, PUT&quot;);\r\n            res.setHeader(&quot;Access-Control-Max-Age&quot;, &quot;3600&quot;);\r\n            res.setHeader(&quot;Access-Control-Allow-Headers&quot;, &quot;Authorization, Content-Type, Accept, x-requested-with, Cache-Control&quot;);\r\n            chain.doFilter(request, res);\r\n        }\r\n        \r\n        @Override\r\n        public void destroy() {}\r\n\r\n    }\r\n\r\n}\r\n```\r\n2.\tCORS support is disabled by default and is only enabled once the management.endpoints.web.cors.allowed-origins property has been set.  Add these lines to application.properties to enable CORS filtering:\r\n```\r\nmanagement.endpoints.web.cors.allowed-origins=http://localhost:3000\r\nmanagement.endpoints.web.cors.allowed-methods=GET,POST\r\n```","title":"Spring Security Rejects Fetch OPTIONS Preflight Outright If content-type = &#39;application/json&#39;","body":"<p>Here's the solution:</p>\n<ol>\n<li>Add this class:</li>\n</ol>\n<pre><code>import java.io.IOException;\nimport javax.servlet.Filter;\nimport javax.servlet.FilterChain;\nimport javax.servlet.FilterConfig;\nimport javax.servlet.ServletException;\nimport javax.servlet.ServletRequest;\nimport javax.servlet.ServletResponse;\nimport javax.servlet.http.HttpServletResponse;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.core.env.Environment;\nimport org.springframework.security.config.annotation.method.configuration.EnableGlobalMethodSecurity;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\nimport org.springframework.security.web.access.channel.ChannelProcessingFilter;\nimport org.springframework.web.cors.CorsUtils;\n\n@EnableWebSecurity\n@EnableGlobalMethodSecurity(prePostEnabled = true)\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\n\n    private Environment environment;\n    final Logger logger = LoggerFactory.getLogger(getClass());\n    \n    @Autowired\n    public WebSecurityConfig(Environment environment) {\n        this.environment = environment;\n    }\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.authorizeRequests()\n            .antMatchers(&quot;/xxx/**&quot;)\n            .hasIpAddress(environment.getProperty(&quot;gateway.ip&quot;))\n            .requestMatchers(CorsUtils::isCorsRequest).permitAll()\n            .and().addFilterBefore(new WebSecurityCorsFilter(),\n                                   ChannelProcessingFilter.class);\n        http.headers().frameOptions().disable();\n    }\n\n    class WebSecurityCorsFilter implements Filter {\n        \n        @Override\n        public void init(FilterConfig filterConfig) throws ServletException {}\n        \n        @Override\n        public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) \n                throws IOException, ServletException {\n            logger.info(&quot;\\n\\nIs this thing on?\\n&quot;);\n            HttpServletResponse res = (HttpServletResponse) response;\n            res.setHeader(&quot;Access-Control-Allow-Origin&quot;, &quot;http://localhost:3000&quot;);\n            res.setHeader(&quot;Access-Control-Allow-Methods&quot;, &quot;POST, GET, OPTIONS, DELETE, PUT&quot;);\n            res.setHeader(&quot;Access-Control-Max-Age&quot;, &quot;3600&quot;);\n            res.setHeader(&quot;Access-Control-Allow-Headers&quot;, &quot;Authorization, Content-Type, Accept, x-requested-with, Cache-Control&quot;);\n            chain.doFilter(request, res);\n        }\n        \n        @Override\n        public void destroy() {}\n\n    }\n\n}\n</code></pre>\n<ol start=\"2\">\n<li>CORS support is disabled by default and is only enabled once the management.endpoints.web.cors.allowed-origins property has been set.  Add these lines to application.properties to enable CORS filtering:</li>\n</ol>\n<pre><code>management.endpoints.web.cors.allowed-origins=http://localhost:3000\nmanagement.endpoints.web.cors.allowed-methods=GET,POST\n</code></pre>\n"}],"owner":{"account_id":25273753,"reputation":11,"user_id":19102730,"display_name":"UintaJoe"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":398,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1654822901,"creation_date":1652369620,"question_id":72218417,"body_markdown":"If a Fetch POST to a Spring Security (v 5.6.1) enabled service endpoint sends this header:\r\n```\r\nheaders.append(&quot;Content-Type&quot;, &quot;application/json&quot;);\r\n```\r\nthe OPTIONS preflight request will not be handled by any filter in the filter chain - filter logging shows no response whatsoever from any chain filter; there isn&#39;t even a server-side invocation of ```org.apache.catalina.connector.RequestFacade``` in response to the preflight call. The HttpResponse the client receives will always just show ```403 Unauthorized```.  \r\n\r\nSo it isn&#39;t that this kind of request causes a preflight, which would then propagate through the filter chain and be handled by an enabled CorsFilter which would add the requisite headers to satisfy the preflight and return this response. It&#39;s that the preflight is apparently simply rejected outright if application/json is the content-type. No service response to it at all.\r\n\r\nThis situation exists with this config in place:\r\n\r\n```\r\n@Configuration\r\n@EnableWebSecurity(debug = true)\r\n@EnableGlobalMethodSecurity(prePostEnabled = true)\r\npublic class WebSecurity extends WebSecurityConfigurerAdapter {\r\n\r\n    private Environment environment;\r\n    private UserService service;\r\n    final Logger logger = LoggerFactory.getLogger(getClass());\r\n\r\n    @Autowired\r\n    public WebSecurity(Environment environment,\r\n                       UserService service) {\r\n        this.environment = environment;\r\n        this.service = service;\r\n    }\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http.addFilterBefore(new CustomCorsFilter(), UsernamePasswordAuthenticationFilter.class);\r\n        http.csrf().disable();\r\n        http.authorizeRequests()\r\n            .antMatchers(&quot;/users/**&quot;)\r\n            .hasIpAddress(environment.getProperty(&quot;gateway.ip&quot;));\r\n        http.headers().frameOptions().disable();\r\n    }\r\n}\r\n\r\n```\r\nCustomCorsConfig:\r\n```\r\n@Component\r\n@Order(Ordered.HIGHEST_PRECEDENCE)\r\npublic class CustomCorsFilter extends CorsFilter {\r\n\r\n    final Logger logger = LoggerFactory.getLogger(getClass());\r\n\r\n    public CustomCorsFilter() {\r\n        super(configurationSource());\r\n    }\r\n    \r\n    private static UrlBasedCorsConfigurationSource configurationSource() {\r\n        List&lt;String&gt; allHeaders = Arrays.asList(&quot;X-Auth-Token&quot;,\r\n                                                &quot;Content-Type&quot;,\r\n                                                &quot;X-Requested-With&quot;,\r\n                                                &quot;XMLHttpRequest&quot;,\r\n                                                &quot;Accept&quot;,\r\n                                                &quot;Key&quot;,\r\n                                                &quot;Authorization&quot;,\r\n                                                &quot;X-Authorization&quot;);\r\n        List&lt;String&gt; allowedMethods = Arrays.asList(&quot;GET&quot;,&quot;POST&quot;,&quot;OPTIONS&quot;);\r\n        List&lt;String&gt; allowedOrigins = Arrays.asList(&quot;http://localhost:3000&quot;, &quot;http://localhost:8082&quot;);\r\n        CorsConfiguration corsConfig = new CorsConfiguration();\r\n        corsConfig.setAllowedHeaders(allHeaders);\r\n        corsConfig.setAllowedMethods(allowedMethods);\r\n        corsConfig.setAllowedOrigins(allowedOrigins);\r\n        corsConfig.setExposedHeaders(allHeaders);\r\n        corsConfig.setMaxAge(3600L);\r\n        corsConfig.setAllowCredentials(true);\r\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\r\n        source.registerCorsConfiguration(&quot;/**&quot;, corsConfig);\r\n        return source;\r\n    }\r\n    \r\n    @Override\r\n    protected void doFilterInternal(HttpServletRequest request,\r\n                                    HttpServletResponse response,\r\n                                    FilterChain filterChain)\r\n            throws ServletException, IOException {\r\n\r\n        response.setContentType(&quot;application/json&quot;);\r\n        response.setCharacterEncoding(&quot;UTF-8&quot;);\r\n        response.setHeader(HttpHeaders.ACCESS_CONTROL_ALLOW_ORIGIN, &quot;http://localhost:3000&quot;);\r\n        response.setHeader(HttpHeaders.ACCESS_CONTROL_ALLOW_CREDENTIALS, &quot;true&quot;);\r\n        response.setHeader(HttpHeaders.ACCESS_CONTROL_ALLOW_METHODS, &quot;GET, POST, OPTIONS&quot;);\r\n        response.setHeader(HttpHeaders.ACCESS_CONTROL_ALLOW_HEADERS, &quot;Origin, Content-Type, Accept&quot;);\r\n        Object[] headerNames = response.getHeaderNames().toArray();\r\n        String names = &quot;&quot;;\r\n        for (Object o : headerNames) {\r\n            String s = (String)o;\r\n            names += s + &quot;, &quot;;\r\n        }\r\n        logger.info(&quot;\\n ** CustomCorsFilter.doFilterInternal(): header names are: &quot; + names + &quot;\\n\\n&quot;);\r\n        if (&quot;OPTIONS&quot;.equalsIgnoreCase(request.getMethod())) {\r\n            response.setStatus(HttpServletResponse.SC_OK);\r\n        } else {\r\n            filterChain.doFilter(request, response);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    protected boolean shouldNotFilterAsyncDispatch() {\r\n        return false;\r\n    }\r\n\r\n    @Override\r\n    protected boolean shouldNotFilterErrorDispatch() {\r\n        return false;\r\n    }\r\n\r\n}\r\n```\r\nSpring Security runs only via the filter chain.  If it&#39;s in use, the ```@CrossOrigin``` controller annotation will be irrelevant (won&#39;t be applied) since the filter chain filters will execute before the request gets to the controller endpoint.\r\n\r\nThe only way I found to get the request handled by the SpringBoot (v 2.6.2) service  at all was to set the header as:\r\n```\r\nheaders.append(&quot;Content-Type&quot;, &quot;text/plain&quot;);\r\n```\r\nBut this of course means that any/all service endpoints can&#39;t ```consume = application/json```, since being called from a fetch client specifying ```content-type = application/json``` they would all be subject to an OPTIONS preflight.  \r\n\r\nThis can&#39;t be the situation Spring Security envisioned; Fetch-to-SpringSecurity Microservice is a very prevalent implementation.  Also, if ```comsumes = text/plain``` none of Spring&#39;s out-of-box HttpMessageConverters successfully map the endpoint&#39;s specified ```@RequestBody``` to a specified domain POJO type - trying this causes\r\n```\r\n[org.springframework.web.HttpMediaTypeNotSupportedException: Content type &#39;text/plain;charset=UTF-8&#39; not supported]\r\n```\r\nPlease let me know what I&#39;m missing here.  Also, is there a way to pose this issue directly to Spring Security dev?","title":"Spring Security Rejects Fetch OPTIONS Preflight Outright If content-type = &#39;application/json&#39;","body":"<p>If a Fetch POST to a Spring Security (v 5.6.1) enabled service endpoint sends this header:</p>\n<pre><code>headers.append(&quot;Content-Type&quot;, &quot;application/json&quot;);\n</code></pre>\n<p>the OPTIONS preflight request will not be handled by any filter in the filter chain - filter logging shows no response whatsoever from any chain filter; there isn't even a server-side invocation of <code>org.apache.catalina.connector.RequestFacade</code> in response to the preflight call. The HttpResponse the client receives will always just show <code>403 Unauthorized</code>.</p>\n<p>So it isn't that this kind of request causes a preflight, which would then propagate through the filter chain and be handled by an enabled CorsFilter which would add the requisite headers to satisfy the preflight and return this response. It's that the preflight is apparently simply rejected outright if application/json is the content-type. No service response to it at all.</p>\n<p>This situation exists with this config in place:</p>\n<pre><code>@Configuration\n@EnableWebSecurity(debug = true)\n@EnableGlobalMethodSecurity(prePostEnabled = true)\npublic class WebSecurity extends WebSecurityConfigurerAdapter {\n\n    private Environment environment;\n    private UserService service;\n    final Logger logger = LoggerFactory.getLogger(getClass());\n\n    @Autowired\n    public WebSecurity(Environment environment,\n                       UserService service) {\n        this.environment = environment;\n        this.service = service;\n    }\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.addFilterBefore(new CustomCorsFilter(), UsernamePasswordAuthenticationFilter.class);\n        http.csrf().disable();\n        http.authorizeRequests()\n            .antMatchers(&quot;/users/**&quot;)\n            .hasIpAddress(environment.getProperty(&quot;gateway.ip&quot;));\n        http.headers().frameOptions().disable();\n    }\n}\n\n</code></pre>\n<p>CustomCorsConfig:</p>\n<pre><code>@Component\n@Order(Ordered.HIGHEST_PRECEDENCE)\npublic class CustomCorsFilter extends CorsFilter {\n\n    final Logger logger = LoggerFactory.getLogger(getClass());\n\n    public CustomCorsFilter() {\n        super(configurationSource());\n    }\n    \n    private static UrlBasedCorsConfigurationSource configurationSource() {\n        List&lt;String&gt; allHeaders = Arrays.asList(&quot;X-Auth-Token&quot;,\n                                                &quot;Content-Type&quot;,\n                                                &quot;X-Requested-With&quot;,\n                                                &quot;XMLHttpRequest&quot;,\n                                                &quot;Accept&quot;,\n                                                &quot;Key&quot;,\n                                                &quot;Authorization&quot;,\n                                                &quot;X-Authorization&quot;);\n        List&lt;String&gt; allowedMethods = Arrays.asList(&quot;GET&quot;,&quot;POST&quot;,&quot;OPTIONS&quot;);\n        List&lt;String&gt; allowedOrigins = Arrays.asList(&quot;http://localhost:3000&quot;, &quot;http://localhost:8082&quot;);\n        CorsConfiguration corsConfig = new CorsConfiguration();\n        corsConfig.setAllowedHeaders(allHeaders);\n        corsConfig.setAllowedMethods(allowedMethods);\n        corsConfig.setAllowedOrigins(allowedOrigins);\n        corsConfig.setExposedHeaders(allHeaders);\n        corsConfig.setMaxAge(3600L);\n        corsConfig.setAllowCredentials(true);\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\n        source.registerCorsConfiguration(&quot;/**&quot;, corsConfig);\n        return source;\n    }\n    \n    @Override\n    protected void doFilterInternal(HttpServletRequest request,\n                                    HttpServletResponse response,\n                                    FilterChain filterChain)\n            throws ServletException, IOException {\n\n        response.setContentType(&quot;application/json&quot;);\n        response.setCharacterEncoding(&quot;UTF-8&quot;);\n        response.setHeader(HttpHeaders.ACCESS_CONTROL_ALLOW_ORIGIN, &quot;http://localhost:3000&quot;);\n        response.setHeader(HttpHeaders.ACCESS_CONTROL_ALLOW_CREDENTIALS, &quot;true&quot;);\n        response.setHeader(HttpHeaders.ACCESS_CONTROL_ALLOW_METHODS, &quot;GET, POST, OPTIONS&quot;);\n        response.setHeader(HttpHeaders.ACCESS_CONTROL_ALLOW_HEADERS, &quot;Origin, Content-Type, Accept&quot;);\n        Object[] headerNames = response.getHeaderNames().toArray();\n        String names = &quot;&quot;;\n        for (Object o : headerNames) {\n            String s = (String)o;\n            names += s + &quot;, &quot;;\n        }\n        logger.info(&quot;\\n ** CustomCorsFilter.doFilterInternal(): header names are: &quot; + names + &quot;\\n\\n&quot;);\n        if (&quot;OPTIONS&quot;.equalsIgnoreCase(request.getMethod())) {\n            response.setStatus(HttpServletResponse.SC_OK);\n        } else {\n            filterChain.doFilter(request, response);\n        }\n    }\n\n    @Override\n    protected boolean shouldNotFilterAsyncDispatch() {\n        return false;\n    }\n\n    @Override\n    protected boolean shouldNotFilterErrorDispatch() {\n        return false;\n    }\n\n}\n</code></pre>\n<p>Spring Security runs only via the filter chain.  If it's in use, the <code>@CrossOrigin</code> controller annotation will be irrelevant (won't be applied) since the filter chain filters will execute before the request gets to the controller endpoint.</p>\n<p>The only way I found to get the request handled by the SpringBoot (v 2.6.2) service  at all was to set the header as:</p>\n<pre><code>headers.append(&quot;Content-Type&quot;, &quot;text/plain&quot;);\n</code></pre>\n<p>But this of course means that any/all service endpoints can't <code>consume = application/json</code>, since being called from a fetch client specifying <code>content-type = application/json</code> they would all be subject to an OPTIONS preflight.</p>\n<p>This can't be the situation Spring Security envisioned; Fetch-to-SpringSecurity Microservice is a very prevalent implementation.  Also, if <code>comsumes = text/plain</code> none of Spring's out-of-box HttpMessageConverters successfully map the endpoint's specified <code>@RequestBody</code> to a specified domain POJO type - trying this causes</p>\n<pre><code>[org.springframework.web.HttpMediaTypeNotSupportedException: Content type 'text/plain;charset=UTF-8' not supported]\n</code></pre>\n<p>Please let me know what I'm missing here.  Also, is there a way to pose this issue directly to Spring Security dev?</p>\n"},{"tags":["java","maven","visual-studio-code"],"comments":[{"owner":{"account_id":17983057,"reputation":1072,"user_id":13068918,"display_name":"Sheng Chen"},"score":0,"creation_date":1654825909,"post_id":72568076,"comment_id":128190221,"body_markdown":"Did you close the VS Code entirely and open it again after you set the JAVA_HOME into your machine&#39;s environment variable?","body":"Did you close the VS Code entirely and open it again after you set the JAVA_HOME into your machine&#39;s environment variable?"},{"owner":{"account_id":25520626,"reputation":1,"user_id":19310591,"display_name":"Deddor"},"score":0,"creation_date":1654829490,"post_id":72568076,"comment_id":128190684,"body_markdown":"I tried that and it still doesnt work. It now says the file directory to the jdk was unexpected at this time","body":"I tried that and it still doesnt work. It now says the file directory to the jdk was unexpected at this time"},{"owner":{"account_id":25520626,"reputation":1,"user_id":19310591,"display_name":"Deddor"},"score":0,"creation_date":1654830560,"post_id":72568076,"comment_id":128190846,"body_markdown":"I got it to work. I removed the stuff in json settings and moved the variable from user to system and it worked. I think not restarting it and having two java_home made issues.","body":"I got it to work. I removed the stuff in json settings and moved the variable from user to system and it worked. I think not restarting it and having two java_home made issues."}],"owner":{"account_id":25520626,"reputation":1,"user_id":19310591,"display_name":"Deddor"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":162,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654822849,"creation_date":1654822849,"question_id":72568076,"body_markdown":"I am trying to make a maven project in VS code and cannot because the JAVA_HOME is not set. I tried many options all have failed.\r\n\r\n[enter image description here][1]\r\n\r\n\r\nI went into the control panel menu to create environmental variables. JAVA_HOME and PATH are both set to where my JDK is. I also tried to edit the settings.json with code to get it to read the path, and by trying to create JAVA_HOME.\r\n\r\nI tried this code earlier and removed it because it did nothing.\r\n&quot;java.home&quot;: &quot;C:\\\\Program Files\\\\Java\\\\jdk-9.0.4&quot;\r\n&quot;maven.terminal.useJavaHome&quot;: true \r\n\r\nI also adjusted it because they added stuff infront of java.home I forget exactly but something like\r\njava.jdt.ls.java.home\r\n\r\nAfter trying many attempts nothing worked. So I figured I have to make my own post because reading related posts get me nowhere.\r\n\r\nI checked out these among other sites.\r\nhttps://github.com/Microsoft/vscode-maven\r\nhttps://stackoverflow.com/questions/66372849/cannot-set-java-home-in-vs-code-maven-project\r\n\r\n[enter image description here][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Baq6T.png\r\n  [2]: https://i.stack.imgur.com/XlGi1.png","title":"How can I create a Maven Project using VS Code when java.home is not working","body":"<p>I am trying to make a maven project in VS code and cannot because the JAVA_HOME is not set. I tried many options all have failed.</p>\n<p><a href=\"https://i.stack.imgur.com/Baq6T.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I went into the control panel menu to create environmental variables. JAVA_HOME and PATH are both set to where my JDK is. I also tried to edit the settings.json with code to get it to read the path, and by trying to create JAVA_HOME.</p>\n<p>I tried this code earlier and removed it because it did nothing.\n&quot;java.home&quot;: &quot;C:\\Program Files\\Java\\jdk-9.0.4&quot;\n&quot;maven.terminal.useJavaHome&quot;: true</p>\n<p>I also adjusted it because they added stuff infront of java.home I forget exactly but something like\njava.jdt.ls.java.home</p>\n<p>After trying many attempts nothing worked. So I figured I have to make my own post because reading related posts get me nowhere.</p>\n<p>I checked out these among other sites.\n<a href=\"https://github.com/Microsoft/vscode-maven\" rel=\"nofollow noreferrer\">https://github.com/Microsoft/vscode-maven</a>\n<a href=\"https://stackoverflow.com/questions/66372849/cannot-set-java-home-in-vs-code-maven-project\">Cannot set java.home in VS Code Maven project</a></p>\n<p><a href=\"https://i.stack.imgur.com/XlGi1.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["javascript","java","android","android-studio","admob"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1654850365,"post_id":72567948,"comment_id":128195187,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":9172301,"reputation":4168,"user_id":6819340,"accept_rate":39,"display_name":"darshan"},"score":0,"creation_date":1655537382,"post_id":72567948,"comment_id":128359541,"body_markdown":"No, Reward Ads can be as long as 15 to 30 seconds, whereas an Interstitial can be skippable after a maximum of 4/5 seconds. Rewarded Ads are used to obviously provide something in return for the user something (probably allowing access to a premium feature for free, game coins, or whatever) whereas Interstitial has no such requirement.","body":"No, Reward Ads can be as long as 15 to 30 seconds, whereas an Interstitial can be skippable after a maximum of 4/5 seconds. Rewarded Ads are used to obviously provide something in return for the user something (probably allowing access to a premium feature for free, game coins, or whatever) whereas Interstitial has no such requirement."}],"owner":{"account_id":25520556,"reputation":1,"user_id":19310533,"display_name":"Razor Night"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":142,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654821037,"creation_date":1654821037,"question_id":72567948,"body_markdown":"My question is whether I can place interstitial reward ads, where ordinary interstitial ads are provided... If I created a &quot;fake reward&quot; of course, but would Admob notice? The type of application is a game.","title":"Can you put admob interstitial reward ads id in place of normal interstitial ads?","body":"<p>My question is whether I can place interstitial reward ads, where ordinary interstitial ads are provided... If I created a &quot;fake reward&quot; of course, but would Admob notice? The type of application is a game.</p>\n"},{"tags":["java","android","excel","android-studio","apache-poi"],"comments":[{"owner":{"account_id":964210,"reputation":1018,"user_id":987959,"display_name":"PJ Fanning"},"score":0,"creation_date":1641425114,"post_id":70590263,"comment_id":124804720,"body_markdown":"Could you have a look at https://github.com/centic9/poi-on-android ?","body":"Could you have a look at <a href=\"https://github.com/centic9/poi-on-android\" rel=\"nofollow noreferrer\">github.com/centic9/poi-on-android</a> ?"},{"owner":{"account_id":8515340,"reputation":783,"user_id":6383966,"display_name":"Dheeraj Malik"},"score":0,"creation_date":1641461975,"post_id":70590263,"comment_id":124811970,"body_markdown":"You might be interested in [Spire.XLS for Android via Java](https://www.e-iceblue.com/Introduce/xls-for-android-via-java.html) library, download it and you will find a series of demos for reading and manipulating Excel files. But note that it&#39;s a paid library.","body":"You might be interested in <a href=\"https://www.e-iceblue.com/Introduce/xls-for-android-via-java.html\" rel=\"nofollow noreferrer\">Spire.XLS for Android via Java</a> library, download it and you will find a series of demos for reading and manipulating Excel files. But note that it&#39;s a paid library."}],"answers":[{"tags":[],"owner":{"account_id":311420,"reputation":206,"user_id":624997,"display_name":"Vladimir"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654820143,"creation_date":1654820143,"answer_id":72567866,"question_id":70590263,"body_markdown":"    buildscript {\r\n           repositories {\r\n            google()\r\n            mavenCentral()\r\n        }\r\n    ...\r\n    }\r\n\r\n    implementation &#39;org.apache.poi:poi:5.2.2&#39;\r\n    implementation &#39;org.apache.poi:poi-ooxml:5.2.2&#39;","title":"How to import apache poi library in android studio?","body":"<pre><code>buildscript {\n       repositories {\n        google()\n        mavenCentral()\n    }\n...\n}\n\nimplementation 'org.apache.poi:poi:5.2.2'\nimplementation 'org.apache.poi:poi-ooxml:5.2.2'\n</code></pre>\n"}],"owner":{"account_id":22338756,"reputation":11,"user_id":16558854,"display_name":"Darshil Mistry"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3077,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1654820143,"creation_date":1641373677,"question_id":70590263,"body_markdown":"I want to make an android app that can read, write, and update different sheets in an excel workbook. But I can&#39;t include the library in android studio. please help. If any other library provides similar functionality, please do mention it.","title":"How to import apache poi library in android studio?","body":"<p>I want to make an android app that can read, write, and update different sheets in an excel workbook. But I can't include the library in android studio. please help. If any other library provides similar functionality, please do mention it.</p>\n"},{"tags":["java","jakarta-ee","junit","eclipselink","hsqldb"],"comments":[{"owner":{"account_id":366927,"reputation":24842,"user_id":712765,"accept_rate":42,"display_name":"Old Pro"},"score":0,"creation_date":1335336417,"post_id":10171328,"comment_id":13271177,"body_markdown":"What version of HSQLDB are you using?  JUnit imposes a heavy transaction rollback load on the database and you&#39;re probably running into either a bug or a known engineering tradeoff made to keep HSQLDB fast and small.  Or maybe a combination of your database settings and how Eclipselink configures the identity table and manages it.  Always a good idea to post version numbers.","body":"What version of HSQLDB are you using?  JUnit imposes a heavy transaction rollback load on the database and you&#39;re probably running into either a bug or a known engineering tradeoff made to keep HSQLDB fast and small.  Or maybe a combination of your database settings and how Eclipselink configures the identity table and manages it.  Always a good idea to post version numbers."},{"owner":{"account_id":997731,"reputation":1071,"user_id":1013285,"accept_rate":82,"display_name":"Antti Kolehmainen"},"score":0,"creation_date":1335336827,"post_id":10171328,"comment_id":13271289,"body_markdown":"I will edit the version numbers to the original post. I am using HSQLDB 2.2.8 Eclipselink 2.3.0 and OpenEJB 4.0.0-beta2. Also the Entity is not using an IDENTITY column, instead the strategy is AUTO which I think is using the TABLE strategy on HSQLDB.","body":"I will edit the version numbers to the original post. I am using HSQLDB 2.2.8 Eclipselink 2.3.0 and OpenEJB 4.0.0-beta2. Also the Entity is not using an IDENTITY column, instead the strategy is AUTO which I think is using the TABLE strategy on HSQLDB."},{"owner":{"account_id":366927,"reputation":24842,"user_id":712765,"accept_rate":42,"display_name":"Old Pro"},"score":0,"creation_date":1335337568,"post_id":10171328,"comment_id":13271517,"body_markdown":"How much do you care about finding the problem versus working around it?  Switching from TABLE (or AUTO, which is TABLE for Eclipselink) to Sequence or IDENTITY will probably get rid of the problem.  Figuring out why it&#39;s happening will involve lots of painful digging through transaction and isolation and rollback settings and caching bugs and on and on.","body":"How much do you care about finding the problem versus working around it?  Switching from TABLE (or AUTO, which is TABLE for Eclipselink) to Sequence or IDENTITY will probably get rid of the problem.  Figuring out why it&#39;s happening will involve lots of painful digging through transaction and isolation and rollback settings and caching bugs and on and on."},{"owner":{"account_id":997731,"reputation":1071,"user_id":1013285,"accept_rate":82,"display_name":"Antti Kolehmainen"},"score":0,"creation_date":1335337954,"post_id":10171328,"comment_id":13271635,"body_markdown":"That&#39;s the current solution. It just means that a 100+ entities are originally using the TABLE trategy and few exceptions that need these kinds of tests, are now IDENTITY. I would like some consistency on this part but it surely sounds like a very time-consuming problem to solve. Also changing an ID column generation strategy just for some random tests&#39; sake sounds a bit wrong when the implementation has been working on an application server... Oh well.","body":"That&#39;s the current solution. It just means that a 100+ entities are originally using the TABLE trategy and few exceptions that need these kinds of tests, are now IDENTITY. I would like some consistency on this part but it surely sounds like a very time-consuming problem to solve. Also changing an ID column generation strategy just for some random tests&#39; sake sounds a bit wrong when the implementation has been working on an application server... Oh well."},{"owner":{"account_id":402878,"reputation":7719,"user_id":770303,"display_name":"anttix"},"score":0,"creation_date":1394749362,"post_id":10171328,"comment_id":34043177,"body_markdown":"What happens if you use a data file instead of memory? Eg. with the connection string like this jdbc:hsqldb:file:data/db/db;shutdown=true;hsqldb.write_delay_millis=0\n\nSee also: http://stackoverflow.com/questions/8105618/entitymanager-does-not-write-to-database","body":"What happens if you use a data file instead of memory? Eg. with the connection string like this jdbc:hsqldb:file:data/db/db;shutdown=true;hsqldb.write_delay&zwnj;&#8203;_millis=0  See also: <a href=\"http://stackoverflow.com/questions/8105618/entitymanager-does-not-write-to-database\" title=\"entitymanager does not write to database\">stackoverflow.com/questions/8105618/&hellip;</a>"},{"owner":{"account_id":402878,"reputation":7719,"user_id":770303,"display_name":"anttix"},"score":0,"creation_date":1394751464,"post_id":10171328,"comment_id":34044100,"body_markdown":"Another idea: According to http://hsqldb.org/web/hsqlFAQ.html the default transaction isolation level is READ COMMITTED I would try adding hsqldb.tx_level=serializable to the connection URL to force a more conservative isolation level to see if it makes a difference.","body":"Another idea: According to <a href=\"http://hsqldb.org/web/hsqlFAQ.html\" rel=\"nofollow noreferrer\">hsqldb.org/web/hsqlFAQ.html</a> the default transaction isolation level is READ COMMITTED I would try adding hsqldb.tx_level=serializable to the connection URL to force a more conservative isolation level to see if it makes a difference."},{"owner":{"account_id":15387,"reputation":63718,"user_id":32453,"accept_rate":92,"display_name":"rogerdpack"},"score":0,"creation_date":1428012045,"post_id":10171328,"comment_id":47017877,"body_markdown":"need to wipe perhaps first?","body":"need to wipe perhaps first?"}],"answers":[{"tags":[],"owner":{"account_id":216064,"reputation":24129,"user_id":471070,"display_name":"fredt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1394737910,"creation_date":1334574127,"answer_id":10172896,"question_id":10171328,"body_markdown":"Most likely, you are running out of memory while importing lots of rows into a `MEMORY` table.\r\n\r\nYou should increase the memory allocation or define this particular table as a `CACHED` table. \r\n\r\nUpdate: `CACHED` tables can be used in persistent databases, not in all-in-memory databases:\r\n\r\n    CREATE CACHED TABLE mytable ...\r\n\r\nor for an existing table:\r\n\r\n    SET TABLE mytable TYPE CACHED\r\n\r\nUPDATE:\r\n\r\nIf this is not caused by OOM, as changing the generation strategy confirms, then it seems the generating strategy might not be incrementing the generated primary key value at some point. The identity strategy relies on the database to create the generated value, which works fine.","title":"HSQLDB primary key violation error in JUnit tests","body":"<p>Most likely, you are running out of memory while importing lots of rows into a <code>MEMORY</code> table.</p>\n\n<p>You should increase the memory allocation or define this particular table as a <code>CACHED</code> table. </p>\n\n<p>Update: <code>CACHED</code> tables can be used in persistent databases, not in all-in-memory databases:</p>\n\n<pre><code>CREATE CACHED TABLE mytable ...\n</code></pre>\n\n<p>or for an existing table:</p>\n\n<pre><code>SET TABLE mytable TYPE CACHED\n</code></pre>\n\n<p>UPDATE:</p>\n\n<p>If this is not caused by OOM, as changing the generation strategy confirms, then it seems the generating strategy might not be incrementing the generated primary key value at some point. The identity strategy relies on the database to create the generated value, which works fine.</p>\n"},{"tags":[],"owner":{"account_id":2083700,"reputation":301,"user_id":1855119,"display_name":"myqyl4"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1394737450,"creation_date":1394737450,"answer_id":22388473,"question_id":10171328,"body_markdown":"It might be possible that your allocationSize is defining a bottleneck on relatively fast platforms or occasionally.\r\ni.e.\r\nWhen defaulted to GenerationType.AUTO which defaulyts to table EclipseLink will cache ID upto the allocated value. It will then look up generator to confirm its last allocated value.\r\nIf a lookup happened around the edge of the allocationSize before the next set of ID is cached, then you might run into a race condition where eclipse link allocates the last id in the cache twice before it updates the cache and tries to use both for insert and both inserts fail and are rolledback. If you can you should check to see if this happens around when your allocation cache should be incremented, but perhaps that kind of check might change the behaviour","title":"HSQLDB primary key violation error in JUnit tests","body":"<p>It might be possible that your allocationSize is defining a bottleneck on relatively fast platforms or occasionally.\ni.e.\nWhen defaulted to GenerationType.AUTO which defaulyts to table EclipseLink will cache ID upto the allocated value. It will then look up generator to confirm its last allocated value.\nIf a lookup happened around the edge of the allocationSize before the next set of ID is cached, then you might run into a race condition where eclipse link allocates the last id in the cache twice before it updates the cache and tries to use both for insert and both inserts fail and are rolledback. If you can you should check to see if this happens around when your allocation cache should be incremented, but perhaps that kind of check might change the behaviour</p>\n"},{"tags":[],"owner":{"account_id":282385,"reputation":9369,"user_id":579240,"accept_rate":100,"display_name":"Alain Pannetier"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1465570318,"creation_date":1465570318,"answer_id":37751266,"question_id":10171328,"body_markdown":"For `integrity constraint violation: unique constraint or index violation`\r\nIf you&#39;re a debugger freak, you can rebuild hsqldb in debug mode and set a breakpoint in `org.hsqldb.index.IndexAVLMemory#insert` at a line where variable `compare` has been assigned with a condition on the breakpoint `compare == 0`.\r\n\r\nThe faulty row (the duplicate one for instance) will be the one passed as argument.","title":"HSQLDB primary key violation error in JUnit tests","body":"<p>For <code>integrity constraint violation: unique constraint or index violation</code>\nIf you're a debugger freak, you can rebuild hsqldb in debug mode and set a breakpoint in <code>org.hsqldb.index.IndexAVLMemory#insert</code> at a line where variable <code>compare</code> has been assigned with a condition on the breakpoint <code>compare == 0</code>.</p>\n\n<p>The faulty row (the duplicate one for instance) will be the one passed as argument.</p>\n"}],"owner":{"account_id":997731,"reputation":1071,"user_id":1013285,"accept_rate":82,"display_name":"Antti Kolehmainen"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":7538,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":3,"score":6,"last_activity_date":1654819645,"creation_date":1334567150,"question_id":10171328,"body_markdown":"We have a testing framework using JUnit, OpenEJB, Eclipselink and HSQLDB. Everything has worked fine so far, and testing the service-tier is a breeze. Now however, we are running into problems when doing mass imports on a table (using the service-tier,entitymanager) or for example persisting entities to a list multiple times in a service method.\r\n\r\nTHIS IS THE WEIRD PART: Our tests seem to only break if tests are run on a fast enough workstation from the command line with Maven. When I run the tests through Eclipse IDE, everything is fine but sometimes, randomly, it also fails. We suspect it might have something to do with the speed the tests are run with, as weird as it sounds. The exception is simple enough because basically it tells us we are trying to add an entity with an already existing id. We have multiple times checked our test data and the hsqldb database. There are no pre-existing rows with id&#39;s we are trying to use. Still hsqldb throws the primary key exception at some point. From our logs we can see that the conflicting ID is not always the same, it might be 300015 or 300008.\r\n\r\nWe are at our wit&#39;s end here. Could it have something to do with HSQLDB&#39;s transactions or something else causing stale data?\r\n\r\nWe are using HSQLDB 2.2.8, Eclipselink 2.3.0 and OpenEJB 4.0.0-beta2.\r\n\r\nThe relation we are trying to add entities to is mapped as following:\r\n\r\n    @OneToMany(mappedBy = &quot;invoice&quot;, cascade = CascadeType.PERSIST)\r\n\tprivate List&lt;InvoiceBalance&gt; getInvoiceBalanceHistory() {\r\n\t\tif (invoiceBalanceHistory == null) {\r\n\t\t\tthis.invoiceBalanceHistory = new ArrayList&lt;InvoiceBalance&gt;();\r\n\t\t}\r\n\t\treturn invoiceBalanceHistory;\r\n\t}\r\n\r\nThe root exception is:\r\n\r\n    Caused by: java.sql.SQLIntegrityConstraintViolationException: integrity constraint violation: unique constraint or index violation; SYS_PK_10492 table: INVOICEBALANCE\r\n\tat org.hsqldb.jdbc.Util.sqlException(Unknown Source)\r\n\tat org.hsqldb.jdbc.Util.sqlException(Unknown Source)\r\n\tat org.hsqldb.jdbc.JDBCPreparedStatement.fetchResult(Unknown Source)\r\n\tat org.hsqldb.jdbc.JDBCPreparedStatement.executeUpdate(Unknown Source)\r\n\tat org.apache.commons.dbcp.DelegatingPreparedStatement.executeUpdate(DelegatingPreparedStatement.java:105)\r\n\tat org.apache.commons.dbcp.DelegatingPreparedStatement.executeUpdate(DelegatingPreparedStatement.java:105)\r\n\tat org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeDirectNoSelect(DatabaseAccessor.java:831)\r\n\t... 82 more\r\n    Caused by: org.hsqldb.HsqlException: integrity constraint violation: unique constraint or   index violation; SYS_PK_10492 table: INVOICEBALANCE\r\n\tat org.hsqldb.error.Error.error(Unknown Source)\r\n\tat org.hsqldb.Constraint.getException(Unknown Source)\r\n\tat org.hsqldb.index.IndexAVLMemory.insert(Unknown Source)\r\n\tat org.hsqldb.persist.RowStoreAVL.indexRow(Unknown Source)\r\n\tat org.hsqldb.TransactionManager2PL.addInsertAction(Unknown Source)\r\n\tat org.hsqldb.Session.addInsertAction(Unknown Source)\r\n\tat org.hsqldb.Table.insertSingleRow(Unknown Source)\r\n\tat org.hsqldb.StatementDML.insertSingleRow(Unknown Source)\r\n\tat org.hsqldb.StatementInsert.getResult(Unknown Source)\r\n\tat org.hsqldb.StatementDMQL.execute(Unknown Source)\r\n\tat org.hsqldb.Session.executeCompiledStatement(Unknown Source)\r\n\tat org.hsqldb.Session.execute(Unknown Source)\r\n\r\nEDIT:\r\n\r\nI changed the primary key generation strategy from GenerationType.AUTO (that seems to use the TABLE-strategy by default) to IDENTITY. After this, our mass persists seem to work without fail. I still don&#39;t know why HSQLDB goes &quot;out of sync&quot; with the TABLE-strategy. I wouldn&#39;t want to change our jpa entities just because our testing framework is buggy :)\r\n","title":"HSQLDB primary key violation error in JUnit tests","body":"<p>We have a testing framework using JUnit, OpenEJB, Eclipselink and HSQLDB. Everything has worked fine so far, and testing the service-tier is a breeze. Now however, we are running into problems when doing mass imports on a table (using the service-tier,entitymanager) or for example persisting entities to a list multiple times in a service method.</p>\n\n<p>THIS IS THE WEIRD PART: Our tests seem to only break if tests are run on a fast enough workstation from the command line with Maven. When I run the tests through Eclipse IDE, everything is fine but sometimes, randomly, it also fails. We suspect it might have something to do with the speed the tests are run with, as weird as it sounds. The exception is simple enough because basically it tells us we are trying to add an entity with an already existing id. We have multiple times checked our test data and the hsqldb database. There are no pre-existing rows with id's we are trying to use. Still hsqldb throws the primary key exception at some point. From our logs we can see that the conflicting ID is not always the same, it might be 300015 or 300008.</p>\n\n<p>We are at our wit's end here. Could it have something to do with HSQLDB's transactions or something else causing stale data?</p>\n\n<p>We are using HSQLDB 2.2.8, Eclipselink 2.3.0 and OpenEJB 4.0.0-beta2.</p>\n\n<p>The relation we are trying to add entities to is mapped as following:</p>\n\n<pre><code>@OneToMany(mappedBy = \"invoice\", cascade = CascadeType.PERSIST)\nprivate List&lt;InvoiceBalance&gt; getInvoiceBalanceHistory() {\n    if (invoiceBalanceHistory == null) {\n        this.invoiceBalanceHistory = new ArrayList&lt;InvoiceBalance&gt;();\n    }\n    return invoiceBalanceHistory;\n}\n</code></pre>\n\n<p>The root exception is:</p>\n\n<pre><code>Caused by: java.sql.SQLIntegrityConstraintViolationException: integrity constraint violation: unique constraint or index violation; SYS_PK_10492 table: INVOICEBALANCE\nat org.hsqldb.jdbc.Util.sqlException(Unknown Source)\nat org.hsqldb.jdbc.Util.sqlException(Unknown Source)\nat org.hsqldb.jdbc.JDBCPreparedStatement.fetchResult(Unknown Source)\nat org.hsqldb.jdbc.JDBCPreparedStatement.executeUpdate(Unknown Source)\nat org.apache.commons.dbcp.DelegatingPreparedStatement.executeUpdate(DelegatingPreparedStatement.java:105)\nat org.apache.commons.dbcp.DelegatingPreparedStatement.executeUpdate(DelegatingPreparedStatement.java:105)\nat org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeDirectNoSelect(DatabaseAccessor.java:831)\n... 82 more\nCaused by: org.hsqldb.HsqlException: integrity constraint violation: unique constraint or   index violation; SYS_PK_10492 table: INVOICEBALANCE\nat org.hsqldb.error.Error.error(Unknown Source)\nat org.hsqldb.Constraint.getException(Unknown Source)\nat org.hsqldb.index.IndexAVLMemory.insert(Unknown Source)\nat org.hsqldb.persist.RowStoreAVL.indexRow(Unknown Source)\nat org.hsqldb.TransactionManager2PL.addInsertAction(Unknown Source)\nat org.hsqldb.Session.addInsertAction(Unknown Source)\nat org.hsqldb.Table.insertSingleRow(Unknown Source)\nat org.hsqldb.StatementDML.insertSingleRow(Unknown Source)\nat org.hsqldb.StatementInsert.getResult(Unknown Source)\nat org.hsqldb.StatementDMQL.execute(Unknown Source)\nat org.hsqldb.Session.executeCompiledStatement(Unknown Source)\nat org.hsqldb.Session.execute(Unknown Source)\n</code></pre>\n\n<p>EDIT:</p>\n\n<p>I changed the primary key generation strategy from GenerationType.AUTO (that seems to use the TABLE-strategy by default) to IDENTITY. After this, our mass persists seem to work without fail. I still don't know why HSQLDB goes \"out of sync\" with the TABLE-strategy. I wouldn't want to change our jpa entities just because our testing framework is buggy :)</p>\n"},{"tags":["java","mapbox-android"],"comments":[{"owner":{"account_id":7903329,"reputation":201,"user_id":5969676,"display_name":"RickertBrandsen"},"score":0,"creation_date":1654864194,"post_id":72567822,"comment_id":128200089,"body_markdown":"I think you have added wrong tag, if you are using google maps. This tag is used for [mapbox for android](https://docs.mapbox.com/android/maps/guides/)","body":"I think you have added wrong tag, if you are using google maps. This tag is used for <a href=\"https://docs.mapbox.com/android/maps/guides/\" rel=\"nofollow noreferrer\">mapbox for android</a>"},{"owner":{"display_name":"user19113197"},"score":0,"creation_date":1654890821,"post_id":72567822,"comment_id":128209015,"body_markdown":"I know, my question is explicitly about Mapbox. Does it support drawing overlapped holes?","body":"I know, my question is explicitly about Mapbox. Does it support drawing overlapped holes?"}],"owner":{"display_name":"user19113197"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":160,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1654819609,"creation_date":1654819609,"question_id":72567822,"body_markdown":"I am developing a location-based strategy game for Android. In it, the user will be able to build radar stations that grant visibility on an otherwise dark map. Other structures and the player will ideally have a line-of-sight that grants them visibility. I have achieved some success by rendering a polygon over the entire world and poking holes in it centered on the map. Here is an example:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/u2fFc.png\r\n\r\nThe problem is, if the lit areas overlap or if they touch the edge of the map, google maps will remove the fill from the entire polygon, making the entire world lit. I am searching for various ways around this problem, but I first want to see if Mapbox has the solution I am looking for. (Google is quite up-front that they do not currently have support for overlapped holes in polygons or holes that overlap the edge.)\r\n\r\nThe code I used to draw these holes, in case anyone is interested: \r\n\r\n```float delta = 0.1f;\r\n                                List points = Arrays.asList(new LatLng(90, -180),\r\n                                        new LatLng(-90 + delta, -180 + delta),\r\n                                        new LatLng(-90 + delta, 0),\r\n                                        new LatLng(-90 + delta, 180 - delta),\r\n                                        new LatLng(0, 180 - delta),\r\n                                        new LatLng(90 - delta, 180 - delta),\r\n                                        new LatLng(90 - delta, 0),\r\n                                        new LatLng(90 - delta, -180 + delta),\r\n                                        new LatLng(0, -180 + delta));\r\n                                PolygonOptions fogOfWar = new PolygonOptions();\r\n                                fogOfWar.addAll(points);\r\n                                fogOfWar.strokeWidth(0);\r\n                                fogOfWar.fillColor(0x80000000); //50% opacity black, hopefully.\r\n\r\n                                for(Structure structure : game.GetAllStructures())\r\n                                {\r\n                                    if(structure instanceof RadarStation)\r\n                                    {\r\n                                        RadarStation radarStation = ((RadarStation)structure);\r\n\r\n                                        if(radarStation.GetOwnedBy(game.GetOurPlayerID()) &amp;&amp; \r\n                                        radarStation.GetOnline())\r\n                                        {\r\n                                            List&lt;LatLng&gt; hole = new ArrayList&lt;LatLng&gt;();\r\n                                            for (int i = 0; i &lt; 360; ++i, d += p)\r\n                                            {\r\n                                                hole.add(SphericalUtil.computeOffset(Utilities.GetLatLng(radarStation.GetPosition()), radarStation.GetRadarRange() * 1000, d));\r\n                                            }\r\n                                            fogOfWar.addHole(hole);\r\n                                        }\r\n                                    }\r\n                                }\r\n                                map.addPolygon(fogOfWar);```","title":"Does the MapBox Android SDK support drawing overlapped holes in Polygons?","body":"<p>I am developing a location-based strategy game for Android. In it, the user will be able to build radar stations that grant visibility on an otherwise dark map. Other structures and the player will ideally have a line-of-sight that grants them visibility. I have achieved some success by rendering a polygon over the entire world and poking holes in it centered on the map. Here is an example:</p>\n<p><a href=\"https://i.stack.imgur.com/u2fFc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/u2fFc.png\" alt=\"enter image description here\" /></a></p>\n<p>The problem is, if the lit areas overlap or if they touch the edge of the map, google maps will remove the fill from the entire polygon, making the entire world lit. I am searching for various ways around this problem, but I first want to see if Mapbox has the solution I am looking for. (Google is quite up-front that they do not currently have support for overlapped holes in polygons or holes that overlap the edge.)</p>\n<p>The code I used to draw these holes, in case anyone is interested:</p>\n<pre><code>                                List points = Arrays.asList(new LatLng(90, -180),\n                                        new LatLng(-90 + delta, -180 + delta),\n                                        new LatLng(-90 + delta, 0),\n                                        new LatLng(-90 + delta, 180 - delta),\n                                        new LatLng(0, 180 - delta),\n                                        new LatLng(90 - delta, 180 - delta),\n                                        new LatLng(90 - delta, 0),\n                                        new LatLng(90 - delta, -180 + delta),\n                                        new LatLng(0, -180 + delta));\n                                PolygonOptions fogOfWar = new PolygonOptions();\n                                fogOfWar.addAll(points);\n                                fogOfWar.strokeWidth(0);\n                                fogOfWar.fillColor(0x80000000); //50% opacity black, hopefully.\n\n                                for(Structure structure : game.GetAllStructures())\n                                {\n                                    if(structure instanceof RadarStation)\n                                    {\n                                        RadarStation radarStation = ((RadarStation)structure);\n\n                                        if(radarStation.GetOwnedBy(game.GetOurPlayerID()) &amp;&amp; \n                                        radarStation.GetOnline())\n                                        {\n                                            List&lt;LatLng&gt; hole = new ArrayList&lt;LatLng&gt;();\n                                            for (int i = 0; i &lt; 360; ++i, d += p)\n                                            {\n                                                hole.add(SphericalUtil.computeOffset(Utilities.GetLatLng(radarStation.GetPosition()), radarStation.GetRadarRange() * 1000, d));\n                                            }\n                                            fogOfWar.addHole(hole);\n                                        }\n                                    }\n                                }\n                                map.addPolygon(fogOfWar);```\n</code></pre>\n"},{"tags":["java","android","android-recyclerview"],"answers":[{"tags":[],"owner":{"account_id":21927811,"reputation":1228,"user_id":16210149,"display_name":"Anatolii Chub"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1654819039,"creation_date":1654819039,"answer_id":72567777,"question_id":72567563,"body_markdown":"As I understand from `fragment_home.xml` You have a `RecyclerView` inside of `HomeFragment` xml layout. But you are tryin to find the `View` inside `MainActivity`.\r\nThe issue in your `MainActivity&#39;s onCreate` method.\r\nWhen you call :\r\n\r\n    RecyclerView recyclerView = findViewById(R.id.mRecyclerView);\r\n\r\nFrom `MainActivity` It&#39;s trying to find a `View` with id: `R.id.mRecyclerView` in you `activity_main.xml`(xml layout that you&#39;re using for MainActivity). But as I understand it&#39;s absent there, because it&#39;s inside `fragment_home.xml`.\r\nYour can read how find `View::findViewById` works here:\r\n\r\nhttps://developer.android.com/reference/android/view/View#findViewById(int)\r\n\r\n&gt; Finds the first descendant view with the given ID, the view itself if\r\n&gt; the ID matches getId(), or null if the ID is invalid (&lt; 0) or there is\r\n&gt; no matching view in the hierarchy.\r\n\r\nSo, When it can&#39;t find the view by id, it returns null.\r\n\r\nThen you try to set `Adapter` to `RecyclerView`&#39;s variable which actually is null.\r\n\r\n    recyclerView.setAdapter(adapter); //recyclerView is null here\r\n\r\nThat&#39;s the reason of your issue.\r\n\r\nYou have 2 options.\r\n1) Move `RecyclerView` from `fragment_home.xml` to `activity_main.xml`, than it will be worked.\r\n2) Another option more suitable in my opinion, since you&#39;ve already used fragments: \r\n\r\nMove your code related to `RecyclerView` handling to `HomeFragment` class and call `findViewById` inside `HomeFragment`.","title":"Recycler View : Attempt to invoke virtual method on a null object reference","body":"<p>As I understand from <code>fragment_home.xml</code> You have a <code>RecyclerView</code> inside of <code>HomeFragment</code> xml layout. But you are tryin to find the <code>View</code> inside <code>MainActivity</code>.\nThe issue in your <code>MainActivity's onCreate</code> method.\nWhen you call :</p>\n<pre><code>RecyclerView recyclerView = findViewById(R.id.mRecyclerView);\n</code></pre>\n<p>From <code>MainActivity</code> It's trying to find a <code>View</code> with id: <code>R.id.mRecyclerView</code> in you <code>activity_main.xml</code>(xml layout that you're using for MainActivity). But as I understand it's absent there, because it's inside <code>fragment_home.xml</code>.\nYour can read how find <code>View::findViewById</code> works here:</p>\n<p><a href=\"https://developer.android.com/reference/android/view/View#findViewById(int)\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/android/view/View#findViewById(int)</a></p>\n<blockquote>\n<p>Finds the first descendant view with the given ID, the view itself if\nthe ID matches getId(), or null if the ID is invalid (&lt; 0) or there is\nno matching view in the hierarchy.</p>\n</blockquote>\n<p>So, When it can't find the view by id, it returns null.</p>\n<p>Then you try to set <code>Adapter</code> to <code>RecyclerView</code>'s variable which actually is null.</p>\n<pre><code>recyclerView.setAdapter(adapter); //recyclerView is null here\n</code></pre>\n<p>That's the reason of your issue.</p>\n<p>You have 2 options.</p>\n<ol>\n<li>Move <code>RecyclerView</code> from <code>fragment_home.xml</code> to <code>activity_main.xml</code>, than it will be worked.</li>\n<li>Another option more suitable in my opinion, since you've already used fragments:</li>\n</ol>\n<p>Move your code related to <code>RecyclerView</code> handling to <code>HomeFragment</code> class and call <code>findViewById</code> inside <code>HomeFragment</code>.</p>\n"}],"owner":{"account_id":24911161,"reputation":7,"user_id":18780692,"display_name":"Koi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1440,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72567777,"answer_count":1,"score":0,"last_activity_date":1654819039,"creation_date":1654816515,"question_id":72567563,"body_markdown":"I&#39;ve been trying to figure out this problem but I am new to Android Studio, when I try to run the app it displays this message:\r\n\r\n    Attempt to invoke virtual method &#39;void androidx.recyclerview.widget.RecyclerView.setAdapter(androidx.recyclerview.widget.RecyclerView$Adapter)&#39; on a null object reference\r\n\r\nHere&#39;s my Main Activity file which is the cause :\r\n\r\n    package com.sti.lazshop;\r\n    \r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    import androidx.fragment.app.Fragment;\r\n    import androidx.fragment.app.FragmentManager;\r\n    import androidx.fragment.app.FragmentTransaction;\r\n    import androidx.recyclerview.widget.LinearLayoutManager;\r\n    import androidx.recyclerview.widget.RecyclerView;\r\n    \r\n    import android.os.Bundle;\r\n    \r\n    import com.sti.lazshop.databinding.ActivityMainBinding;\r\n    \r\n    import java.util.ArrayList;\r\n    \r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        ActivityMainBinding binding;\r\n        ArrayList&lt;ItemModel&gt; itemModels = new ArrayList&lt;&gt;();\r\n        int[] itemImages = {R.drawable.item_huion, R.drawable.item_iphone};\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            binding = ActivityMainBinding.inflate(getLayoutInflater());\r\n            setContentView(binding.getRoot());\r\n            RecyclerView recyclerView = findViewById(R.id.mRecyclerView);\r\n            Item_RecyclerViewAdapter adapter = new Item_RecyclerViewAdapter(this, itemModels);\r\n            setItemModels();\r\n            recyclerView.setAdapter(adapter);\r\n            recyclerView.setLayoutManager(new LinearLayoutManager(this));\r\n            replaceFragment(new HomeFragment());\r\n    \r\n            binding.bottomNavigationView2.setOnItemSelectedListener(item -&gt; {\r\n    \r\n                switch (item.getItemId()) {\r\n                    case R.id.home:\r\n                        replaceFragment(new HomeFragment());\r\n                        break;\r\n                    case R.id.cart:\r\n                        replaceFragment(new CartFragment());\r\n                        break;\r\n                    case R.id.account:\r\n                        replaceFragment(new AccountFragment());\r\n                        break;\r\n    \r\n                }\r\n                return true;\r\n            });\r\n    \r\n        }\r\n    \r\n        private void replaceFragment(Fragment fragment) {\r\n            FragmentManager fragmentManager = getSupportFragmentManager();\r\n            FragmentTransaction fragmentTransaction = fragmentManager.beginTransaction();\r\n            fragmentTransaction.replace(R.id.frameLayout, fragment);\r\n            fragmentTransaction.commit();\r\n    \r\n        }\r\n    \r\n        private void setItemModels() {\r\n            String[] itemNames = getResources().getStringArray(R.array.item_full_txt);\r\n            String[] itemPrices = getResources().getStringArray(R.array.item_prices);\r\n    \r\n            for (int i = 0; i &lt; itemNames.length; i++) {\r\n                itemModels.add(new ItemModel(\r\n                        itemNames[i],\r\n                        itemPrices[i],\r\n                        itemImages[i]));\r\n            }\r\n    \r\n        }\r\n    \r\n    }\r\n\r\nHere&#39;s the HomeFragment.java :\r\n\r\n    package com.sti.lazshop;\r\n    \r\n    import android.os.Bundle;\r\n    \r\n    import androidx.fragment.app.Fragment;\r\n    \r\n    import android.view.LayoutInflater;\r\n    import android.view.View;\r\n    import android.view.ViewGroup;\r\n    \r\n    public class HomeFragment extends Fragment {\r\n    \r\n        private static final String ARG_PARAM1 = &quot;param1&quot;;\r\n        private static final String ARG_PARAM2 = &quot;param2&quot;;\r\n    \r\n        private String mParam1;\r\n        private String mParam2;\r\n    \r\n        public HomeFragment() {\r\n        }\r\n    \r\n        public static HomeFragment newInstance(String param1, String param2) {\r\n            HomeFragment fragment = new HomeFragment();\r\n            Bundle args = new Bundle();\r\n            args.putString(ARG_PARAM1, param1);\r\n            args.putString(ARG_PARAM2, param2);\r\n            fragment.setArguments(args);\r\n            return fragment;\r\n        }\r\n    \r\n        @Override\r\n        public void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n    \r\n            if (getArguments() != null) {\r\n                mParam1 = getArguments().getString(ARG_PARAM1);\r\n                mParam2 = getArguments().getString(ARG_PARAM2);\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                                 Bundle savedInstanceState) {\r\n    \r\n            return inflater.inflate(R.layout.fragment_home, container, false);\r\n        }\r\n    }\r\n\r\nLastly, the fragment_home.xml :\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;FrameLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        tools:context=&quot;.HomeFragment&quot;&gt;\r\n    \r\n        &lt;androidx.recyclerview.widget.RecyclerView\r\n            android:id=&quot;@+id/mRecyclerView&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot; /&gt;\r\n    &lt;/FrameLayout&gt;\r\n\r\nThere&#39;s a similar question to this but I don&#39;t know how to apply it and can&#39;t find a solution at the moment. I used a bottom navigator to navigate between fragments where fragment_home.xml recycler view is included. Thank you! ","title":"Recycler View : Attempt to invoke virtual method on a null object reference","body":"<p>I've been trying to figure out this problem but I am new to Android Studio, when I try to run the app it displays this message:</p>\n<pre><code>Attempt to invoke virtual method 'void androidx.recyclerview.widget.RecyclerView.setAdapter(androidx.recyclerview.widget.RecyclerView$Adapter)' on a null object reference\n</code></pre>\n<p>Here's my Main Activity file which is the cause :</p>\n<pre><code>package com.sti.lazshop;\n\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.fragment.app.Fragment;\nimport androidx.fragment.app.FragmentManager;\nimport androidx.fragment.app.FragmentTransaction;\nimport androidx.recyclerview.widget.LinearLayoutManager;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport android.os.Bundle;\n\nimport com.sti.lazshop.databinding.ActivityMainBinding;\n\nimport java.util.ArrayList;\n\npublic class MainActivity extends AppCompatActivity {\n\n    ActivityMainBinding binding;\n    ArrayList&lt;ItemModel&gt; itemModels = new ArrayList&lt;&gt;();\n    int[] itemImages = {R.drawable.item_huion, R.drawable.item_iphone};\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        binding = ActivityMainBinding.inflate(getLayoutInflater());\n        setContentView(binding.getRoot());\n        RecyclerView recyclerView = findViewById(R.id.mRecyclerView);\n        Item_RecyclerViewAdapter adapter = new Item_RecyclerViewAdapter(this, itemModels);\n        setItemModels();\n        recyclerView.setAdapter(adapter);\n        recyclerView.setLayoutManager(new LinearLayoutManager(this));\n        replaceFragment(new HomeFragment());\n\n        binding.bottomNavigationView2.setOnItemSelectedListener(item -&gt; {\n\n            switch (item.getItemId()) {\n                case R.id.home:\n                    replaceFragment(new HomeFragment());\n                    break;\n                case R.id.cart:\n                    replaceFragment(new CartFragment());\n                    break;\n                case R.id.account:\n                    replaceFragment(new AccountFragment());\n                    break;\n\n            }\n            return true;\n        });\n\n    }\n\n    private void replaceFragment(Fragment fragment) {\n        FragmentManager fragmentManager = getSupportFragmentManager();\n        FragmentTransaction fragmentTransaction = fragmentManager.beginTransaction();\n        fragmentTransaction.replace(R.id.frameLayout, fragment);\n        fragmentTransaction.commit();\n\n    }\n\n    private void setItemModels() {\n        String[] itemNames = getResources().getStringArray(R.array.item_full_txt);\n        String[] itemPrices = getResources().getStringArray(R.array.item_prices);\n\n        for (int i = 0; i &lt; itemNames.length; i++) {\n            itemModels.add(new ItemModel(\n                    itemNames[i],\n                    itemPrices[i],\n                    itemImages[i]));\n        }\n\n    }\n\n}\n</code></pre>\n<p>Here's the HomeFragment.java :</p>\n<pre><code>package com.sti.lazshop;\n\nimport android.os.Bundle;\n\nimport androidx.fragment.app.Fragment;\n\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\n\npublic class HomeFragment extends Fragment {\n\n    private static final String ARG_PARAM1 = &quot;param1&quot;;\n    private static final String ARG_PARAM2 = &quot;param2&quot;;\n\n    private String mParam1;\n    private String mParam2;\n\n    public HomeFragment() {\n    }\n\n    public static HomeFragment newInstance(String param1, String param2) {\n        HomeFragment fragment = new HomeFragment();\n        Bundle args = new Bundle();\n        args.putString(ARG_PARAM1, param1);\n        args.putString(ARG_PARAM2, param2);\n        fragment.setArguments(args);\n        return fragment;\n    }\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n        if (getArguments() != null) {\n            mParam1 = getArguments().getString(ARG_PARAM1);\n            mParam2 = getArguments().getString(ARG_PARAM2);\n        }\n    }\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n\n        return inflater.inflate(R.layout.fragment_home, container, false);\n    }\n}\n</code></pre>\n<p>Lastly, the fragment_home.xml :</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;FrameLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.HomeFragment&quot;&gt;\n\n    &lt;androidx.recyclerview.widget.RecyclerView\n        android:id=&quot;@+id/mRecyclerView&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot; /&gt;\n&lt;/FrameLayout&gt;\n</code></pre>\n<p>There's a similar question to this but I don't know how to apply it and can't find a solution at the moment. I used a bottom navigator to navigate between fragments where fragment_home.xml recycler view is included. Thank you!</p>\n"},{"tags":["java","android","applicationcontext"],"comments":[{"owner":{"account_id":263656,"reputation":1,"user_id":549372,"accept_rate":100,"display_name":"Martin Zeitler"},"score":0,"creation_date":1654812678,"post_id":72566566,"comment_id":128188114,"body_markdown":"&quot;makes the application crash&quot; is not an error description and this is bad practice anyway.","body":"&quot;makes the application crash&quot; is not an error description and this is bad practice anyway."},{"owner":{"account_id":24438425,"reputation":141,"user_id":18362401,"display_name":"alemomo"},"score":0,"creation_date":1654812946,"post_id":72566566,"comment_id":128188156,"body_markdown":"yes, i know, but i cannot use the logcat in android studio because the serial port is used to comunicate with an arduino.","body":"yes, i know, but i cannot use the logcat in android studio because the serial port is used to comunicate with an arduino."},{"owner":{"account_id":402229,"reputation":93994,"user_id":769265,"display_name":"David Wasser"},"score":0,"creation_date":1654814840,"post_id":72566566,"comment_id":128188492,"body_markdown":"@MartinZeitler OP is new here. Closing the question as duplicate is not helpful. Storing application context in a static variable is not generating any memory leak, as it is a singleton and never gets GC&#39;d anyway. None of this is helpful to OP.","body":"@MartinZeitler OP is new here. Closing the question as duplicate is not helpful. Storing application context in a static variable is not generating any memory leak, as it is a singleton and never gets GC&#39;d anyway. None of this is helpful to OP."},{"owner":{"account_id":402229,"reputation":93994,"user_id":769265,"display_name":"David Wasser"},"score":0,"creation_date":1654815127,"post_id":72566566,"comment_id":128188553,"body_markdown":"@MartinZeitler also the top answer with 1400 upvotes) to this question proposes exactly what OP has done: https://stackoverflow.com/questions/2002288/static-way-to-get-context-in-android/5114361#5114361","body":"@MartinZeitler also the top answer with 1400 upvotes) to this question proposes exactly what OP has done: <a href=\"https://stackoverflow.com/questions/2002288/static-way-to-get-context-in-android/5114361#5114361\" title=\"static way to get context in android\">stackoverflow.com/questions/2002288/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":402229,"reputation":93994,"user_id":769265,"display_name":"David Wasser"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654811307,"creation_date":1654811307,"answer_id":72567000,"question_id":72566566,"body_markdown":"You probably haven&#39;t told Android to use your custom `Application` class, so `myContext.onCreate()` isn&#39;t being called. To do this you need to add this to your `&lt;application&gt;` declaration in your manifest:\r\n\r\n    android:name=&quot;.myContext&quot;","title":"How to use ApplicationContext in Handler","body":"<p>You probably haven't told Android to use your custom <code>Application</code> class, so <code>myContext.onCreate()</code> isn't being called. To do this you need to add this to your <code>&lt;application&gt;</code> declaration in your manifest:</p>\n<pre><code>android:name=&quot;.myContext&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24438425,"reputation":141,"user_id":18362401,"display_name":"alemomo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654817428,"creation_date":1654817428,"answer_id":72567636,"question_id":72566566,"body_markdown":"OP here. \r\nin the end i solved it by sending a message containing the applicationContext in message.obj, here is the code now\r\n\r\n    if (!connected.isState()) {\r\n                client = new MqttAndroidClient((Context) msg.obj, SERVERURI, CLIENTID);\r\n                try {\r\n                    IMqttToken token = client.connect();\r\n                    token.setActionCallback(new IMqttActionListener() {\r\n                        @Override\r\n                        public void onSuccess(IMqttToken asyncActionToken) {\r\n                            //we are connected\r\n                            connected.setState(true);\r\n                        }\r\n\r\n                        @Override\r\n                        public void onFailure(IMqttToken asyncActionToken, Throwable exception) {\r\n                            //we are not connected\r\n                        }\r\n                    });\r\n                } catch (Exception e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n            return;\r\n        }\r\nthanks to everybody for the suggestions and for keeping up with my inexperience\r\n\r\n:-)","title":"How to use ApplicationContext in Handler","body":"<p>OP here.\nin the end i solved it by sending a message containing the applicationContext in message.obj, here is the code now</p>\n<pre><code>if (!connected.isState()) {\n            client = new MqttAndroidClient((Context) msg.obj, SERVERURI, CLIENTID);\n            try {\n                IMqttToken token = client.connect();\n                token.setActionCallback(new IMqttActionListener() {\n                    @Override\n                    public void onSuccess(IMqttToken asyncActionToken) {\n                        //we are connected\n                        connected.setState(true);\n                    }\n\n                    @Override\n                    public void onFailure(IMqttToken asyncActionToken, Throwable exception) {\n                        //we are not connected\n                    }\n                });\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n        }\n        return;\n    }\n</code></pre>\n<p>thanks to everybody for the suggestions and for keeping up with my inexperience</p>\n<p>:-)</p>\n"}],"owner":{"account_id":24438425,"reputation":141,"user_id":18362401,"display_name":"alemomo"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":229,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1654817428,"creation_date":1654808276,"question_id":72566566,"body_markdown":"i am really new to Android and i was trying to use the Thread class with a message handler, in there i need to use the ApplicationContext but when i try to run it it crashes, here is the code that makes the application crash\r\n\r\n       if (!connected.isState()) {\r\n                    client = new MqttAndroidClient(myContext.context, SERVERURI, CLIENTID);\r\n                    try {\r\n                        IMqttToken token = client.connect();\r\n                        token.setActionCallback(new IMqttActionListener() {\r\n                            @Override\r\n                            public void onSuccess(IMqttToken asyncActionToken) {\r\n                                //we are connected\r\n                                connected.setState(true);\r\n                            }\r\n    \r\n                            @Override\r\n                            public void onFailure(IMqttToken asyncActionToken, Throwable exception) {\r\n                                //we are not connected\r\n                            }\r\n                        });\r\n                    } catch (Exception e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                    return;    \r\n               }\r\nhere is the myContext class \r\n\r\n    class myContext extends Application {\r\n    \r\n        public static Context context;\r\n    \r\n        @Override\r\n        public void onCreate() {\r\n            super.onCreate();\r\n            context = getApplicationContext();\r\n        }\r\n\r\n}\r\nwhat can i do to fix the problem?","title":"How to use ApplicationContext in Handler","body":"<p>i am really new to Android and i was trying to use the Thread class with a message handler, in there i need to use the ApplicationContext but when i try to run it it crashes, here is the code that makes the application crash</p>\n<pre><code>   if (!connected.isState()) {\n                client = new MqttAndroidClient(myContext.context, SERVERURI, CLIENTID);\n                try {\n                    IMqttToken token = client.connect();\n                    token.setActionCallback(new IMqttActionListener() {\n                        @Override\n                        public void onSuccess(IMqttToken asyncActionToken) {\n                            //we are connected\n                            connected.setState(true);\n                        }\n\n                        @Override\n                        public void onFailure(IMqttToken asyncActionToken, Throwable exception) {\n                            //we are not connected\n                        }\n                    });\n                } catch (Exception e) {\n                    e.printStackTrace();\n                }\n                return;    \n           }\n</code></pre>\n<p>here is the myContext class</p>\n<pre><code>class myContext extends Application {\n\n    public static Context context;\n\n    @Override\n    public void onCreate() {\n        super.onCreate();\n        context = getApplicationContext();\n    }\n</code></pre>\n<p>}\nwhat can i do to fix the problem?</p>\n"},{"tags":["java","powershell"],"comments":[{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":3,"creation_date":1654545441,"post_id":72522795,"comment_id":128111640,"body_markdown":"Unless you&#39;re using Java 19, `getBytes()` probably doesn&#39;t return UTF-8 and you shouldn&#39;t use it. It returns whatever the &quot;platform default&quot; is which for you is probably Windows 1252. If you care about which encoding you get, use `getBytes(StandardCharsets.UTF_8)`. (If you don&#39;t care which encoding, java.util.Random is an efficient source of random bytes.)","body":"Unless you&#39;re using Java 19, <code>getBytes()</code> probably doesn&#39;t return UTF-8 and you shouldn&#39;t use it. It returns whatever the &quot;platform default&quot; is which for you is probably Windows 1252. If you care about which encoding you get, use <code>getBytes(StandardCharsets.UTF_8)</code>. (If you don&#39;t care which encoding, java.util.Random is an efficient source of random bytes.)"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1654562568,"post_id":72522795,"comment_id":128115157,"body_markdown":"@DavidConrad Actually [UTF-8 is the default as of Java 18.](https://www.oracle.com/java/technologies/javase/18-relnote-issues.html#JDK-8187041)","body":"@DavidConrad Actually <a href=\"https://www.oracle.com/java/technologies/javase/18-relnote-issues.html#JDK-8187041\" rel=\"nofollow noreferrer\">UTF-8 is the default as of Java 18.</a>"},{"owner":{"account_id":25158464,"reputation":438,"user_id":19002974,"display_name":"dangling else"},"score":3,"creation_date":1654570449,"post_id":72522795,"comment_id":128116237,"body_markdown":"*I convert an UTF-8 string to byte array* - this is meaningless. if you have a Java String, it&#39;s not &quot;UTF-8&quot;, because Strings are made of chars, and the encoding is always UTF-16.  UTF-8 is a sequence of bytes, so if you&#39;ve got some UTF-8, it&#39;s already bytes.  &#39;String.getBytes(UTF_8) is how you convert **from** a String (UTF-16) **to** a byte-oriented encoding such as UTF-8.","body":"<i>I convert an UTF-8 string to byte array</i> - this is meaningless. if you have a Java String, it&#39;s not &quot;UTF-8&quot;, because Strings are made of chars, and the encoding is always UTF-16.  UTF-8 is a sequence of bytes, so if you&#39;ve got some UTF-8, it&#39;s already bytes.  &#39;String.getBytes(UTF_8) is how you convert <b>from</b> a String (UTF-16) <b>to</b> a byte-oriented encoding such as UTF-8."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1654623471,"post_id":72522795,"comment_id":128133170,"body_markdown":"@VGR Whoops, got the version mixed up. Thank you!","body":"@VGR Whoops, got the version mixed up. Thank you!"},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1654684922,"post_id":72522795,"comment_id":128148208,"body_markdown":"`[B@2401f4c3` is the `toString()` of a byte array (`[B`) with identity hash code (`2401f4c3`), this has absolutely no relation to the value of the array. If you want to print the array, use `Arrays.toString(message.getBytes(StandardCharsets.UTF_8))`. See also [What&#39;s the simplest way to print a Java array?](https://stackoverflow.com/questions/409784/whats-the-simplest-way-to-print-a-java-array). However, I don&#39;t see why you wouldn&#39;t just print message directly.","body":"<code>[B@2401f4c3</code> is the <code>toString()</code> of a byte array (<code>[B</code>) with identity hash code (<code>2401f4c3</code>), this has absolutely no relation to the value of the array. If you want to print the array, use <code>Arrays.toString(message.getBytes(StandardCharsets.UTF_8))</code>. See also <a href=\"https://stackoverflow.com/questions/409784/whats-the-simplest-way-to-print-a-java-array\">What&#39;s the simplest way to print a Java array?</a>. However, I don&#39;t see why you wouldn&#39;t just print message directly."}],"owner":{"account_id":25490231,"reputation":9,"user_id":19285149,"display_name":"machobymb"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":173,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1654816420,"creation_date":1654544941,"question_id":72522795,"body_markdown":"In my simple java program I convert an UTF-8 string to byte array with `getBytes()` function, and I run `System.out.println()` command.\r\nWhen I convert this UTF-8 string in PowerShell to byte array, and I run `Write-Host` command, the strings aren&#39;t equal.\r\n\r\nThis is my Powershell code:\r\n\r\n    System.BitConverter]::ToString([System.Text.Encoding]::UTF8.GetBytes(&quot;1234AbCd&quot;))\r\n\r\nThis returned with this string: 31-32-33-34-41-62-43-64c\r\n\r\nIn Java:\r\n\r\n    String message;\r\n    message = &quot;1234AbCd&quot;;\r\n    System.out.println(message.getBytes(StandardCharsets.UTF_8));\r\n\r\nThis returned with this string: [B@2401f4c3\r\n\r\nWhat&#39;s the problem?","title":"Powershell and Java getBytes() from string","body":"<p>In my simple java program I convert an UTF-8 string to byte array with <code>getBytes()</code> function, and I run <code>System.out.println()</code> command.\nWhen I convert this UTF-8 string in PowerShell to byte array, and I run <code>Write-Host</code> command, the strings aren't equal.</p>\n<p>This is my Powershell code:</p>\n<pre><code>System.BitConverter]::ToString([System.Text.Encoding]::UTF8.GetBytes(&quot;1234AbCd&quot;))\n</code></pre>\n<p>This returned with this string: 31-32-33-34-41-62-43-64c</p>\n<p>In Java:</p>\n<pre><code>String message;\nmessage = &quot;1234AbCd&quot;;\nSystem.out.println(message.getBytes(StandardCharsets.UTF_8));\n</code></pre>\n<p>This returned with this string: [B@2401f4c3</p>\n<p>What's the problem?</p>\n"},{"tags":["java","android","android-videoview"],"owner":{"account_id":8967886,"reputation":3702,"user_id":6687699,"accept_rate":58,"display_name":"Lutaaya Huzaifah Idris"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1654815570,"creation_date":1480147668,"question_id":40816303,"body_markdown":"I want to check the `VideoView` if it has a streaming Video in it.\r\n\r\nI tried this:\r\n\r\n     boolean hasVideo =(viewHolder.videoView.isPlaying());\r\n\r\nBut it didn&#39;t work.\r\n\r\nIt&#39;s like e.g when you want to check an `ImageView` if it has a bitmap you do like this: \r\n\r\n    boolean hasDrawable = (viewHolder.imageView.getDrawable()!= null);\r\n\r\nSo how can I check my `VideoView` in this case?\r\n","title":"How to check a VideoView","body":"<p>I want to check the <code>VideoView</code> if it has a streaming Video in it.</p>\n<p>I tried this:</p>\n<pre><code> boolean hasVideo =(viewHolder.videoView.isPlaying());\n</code></pre>\n<p>But it didn't work.</p>\n<p>It's like e.g when you want to check an <code>ImageView</code> if it has a bitmap you do like this:</p>\n<pre><code>boolean hasDrawable = (viewHolder.imageView.getDrawable()!= null);\n</code></pre>\n<p>So how can I check my <code>VideoView</code> in this case?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1654813613,"post_id":72567158,"comment_id":128188268,"body_markdown":"We do not know how you are creating `executor`. You might want to update your [mcve] to show that.","body":"We do not know how you are creating <code>executor</code>. You might want to update your <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> to show that."},{"owner":{"account_id":25519921,"reputation":41,"user_id":19310034,"display_name":"Chijioke Francis"},"score":0,"creation_date":1654814196,"post_id":72567158,"comment_id":128188380,"body_markdown":"@CommonsWare i have added that to my MakeRequest Class","body":"@CommonsWare i have added that to my MakeRequest Class"}],"answers":[{"tags":[],"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1654815064,"creation_date":1654815064,"answer_id":72567424,"question_id":72567158,"body_markdown":"Replace:\r\n\r\n```java\r\nexecutor.execute(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n    \r\n                    handler.post(new Runnable() {\r\n                        @Override\r\n                        public void run() {\r\n        new MyJsoup(html, sentUrl).processSourceCode();\r\n                        }\r\n                    });\r\n                }\r\n            });\r\n```\r\n\r\nwith:\r\n\r\n```java\r\nexecutor.execute(new Runnable() {\r\n        @Override\r\n        public void run() {\r\n            new MyJsoup(html, sentUrl).processSourceCode();\r\n        }\r\n    });\r\n```","title":"How to run executorservice as non-blocking","body":"<p>Replace:</p>\n<pre class=\"lang-java prettyprint-override\"><code>executor.execute(new Runnable() {\n                @Override\n                public void run() {\n    \n                    handler.post(new Runnable() {\n                        @Override\n                        public void run() {\n        new MyJsoup(html, sentUrl).processSourceCode();\n                        }\n                    });\n                }\n            });\n</code></pre>\n<p>with:</p>\n<pre class=\"lang-java prettyprint-override\"><code>executor.execute(new Runnable() {\n        @Override\n        public void run() {\n            new MyJsoup(html, sentUrl).processSourceCode();\n        }\n    });\n</code></pre>\n"}],"owner":{"account_id":25519921,"reputation":41,"user_id":19310034,"display_name":"Chijioke Francis"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":72567424,"answer_count":1,"score":0,"last_activity_date":1654815064,"creation_date":1654812522,"question_id":72567158,"body_markdown":"Please i know that similar questions has been ask here, but none of them solve my own problem,\r\ni have been trying to figure out a solution for days now and i have google a lot without solution yet.\r\nSo my problem here is this, i want to send multiple http requests, get and process their results independently. But my problem is when a response from request1 for instant is being processed, request2 cannot send until the current processing response from request1 is completed.\r\n\r\nBut i make sure that i place the instance of the class processing the response inside an executor service.\r\nThen i observed that once i stop processing my response, i can send and receive multiple http request per second.\r\n\r\n\r\nA snippet of my code\r\n\r\n\r\n        MainPage.java\r\n        \r\n        class MainPage{\r\n          MakeRequest request1 = new MakeRequest();\r\n          MakeRequest request2 = new MakeRequest();\r\n        \t\r\n        \tpublic void processHttpResponse(String html, String sentUrl) {\r\n             //Send result to jsoup for futher response processing\r\n             request1.sentDataToJsoup(html, sentUrl);\r\n        \r\n             //i want to make another http request here while\r\n                //the other response is been processed\r\n                //without blocking the next http request\r\n                //but this request is blocked from sending\r\n                //until responce from request1 is fully processed\r\n                request2.makeSecondRequest();\r\n        \t}\r\n        }\r\n        \r\n        \r\n        MakeRequest.java\r\n        \r\n        class MakeRequest{\r\n    \r\n    public ExecutorService executor = Executors.newFixedThreadPool(100);\r\n    \r\n            //This method sends source code to MyJsoup for processing\r\n        \tpublic void sentDataToJsoup(final String html, final String sentUrl) {\r\n        \tfinal Handler handler = new Handler(Looper.getMainLooper());\r\n        \r\n        \t   executor.execute(new Runnable() {\r\n                    @Override\r\n                    public void run() {\r\n        \r\n                        handler.post(new Runnable() {\r\n                            @Override\r\n                            public void run() {\r\n            new MyJsoup(html, sentUrl).processSourceCode();\r\n                            }\r\n                        });\r\n                    }\r\n                });\r\n        \r\n                \r\n        \r\n                \r\n        \t}\r\n        }\r\n        \r\n        \r\n        \r\n        MyJsoup.java \r\n          class MyJsoup {\r\n            \r\n            public void processSourceCode(){\r\n              /*\r\n              Here i have lot of code using jsoup to extract and replace url from source code.\r\n        \r\n              So this is were the whole response processing is done\r\n              */\r\n            }\r\n          }\r\n\r\nSo please how can i implement this so that each request will run as non-blocking script.\r\n\r\n","title":"How to run executorservice as non-blocking","body":"<p>Please i know that similar questions has been ask here, but none of them solve my own problem,\ni have been trying to figure out a solution for days now and i have google a lot without solution yet.\nSo my problem here is this, i want to send multiple http requests, get and process their results independently. But my problem is when a response from request1 for instant is being processed, request2 cannot send until the current processing response from request1 is completed.</p>\n<p>But i make sure that i place the instance of the class processing the response inside an executor service.\nThen i observed that once i stop processing my response, i can send and receive multiple http request per second.</p>\n<p>A snippet of my code</p>\n<pre><code>    MainPage.java\n    \n    class MainPage{\n      MakeRequest request1 = new MakeRequest();\n      MakeRequest request2 = new MakeRequest();\n        \n        public void processHttpResponse(String html, String sentUrl) {\n         //Send result to jsoup for futher response processing\n         request1.sentDataToJsoup(html, sentUrl);\n    \n         //i want to make another http request here while\n            //the other response is been processed\n            //without blocking the next http request\n            //but this request is blocked from sending\n            //until responce from request1 is fully processed\n            request2.makeSecondRequest();\n        }\n    }\n    \n    \n    MakeRequest.java\n    \n    class MakeRequest{\n\npublic ExecutorService executor = Executors.newFixedThreadPool(100);\n\n        //This method sends source code to MyJsoup for processing\n        public void sentDataToJsoup(final String html, final String sentUrl) {\n        final Handler handler = new Handler(Looper.getMainLooper());\n    \n           executor.execute(new Runnable() {\n                @Override\n                public void run() {\n    \n                    handler.post(new Runnable() {\n                        @Override\n                        public void run() {\n        new MyJsoup(html, sentUrl).processSourceCode();\n                        }\n                    });\n                }\n            });\n    \n            \n    \n            \n        }\n    }\n    \n    \n    \n    MyJsoup.java \n      class MyJsoup {\n        \n        public void processSourceCode(){\n          /*\n          Here i have lot of code using jsoup to extract and replace url from source code.\n    \n          So this is were the whole response processing is done\n          */\n        }\n      }\n</code></pre>\n<p>So please how can i implement this so that each request will run as non-blocking script.</p>\n"},{"tags":["java","android","spring","spring-boot","retrofit2"],"answers":[{"tags":[],"owner":{"account_id":1468166,"reputation":457,"user_id":4391202,"display_name":"Bluurr"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1543777521,"creation_date":1543777521,"answer_id":53583604,"question_id":53583369,"body_markdown":"For Spring to correctly load form encoded data you need to define the endpoint parameter as:\r\n\r\n    public LoginData postLogin(@RequestBody MultiValueMap&lt;String, String&gt; body)\r\n\r\nor \r\n\r\n    public LoginData postLogin(@RequestParam Map&lt;String, String&gt; body)\r\n\r\n\r\n","title":"HTTP Post request with content type application/x-www-form-urlencoded not working in Spring boot service","body":"<p>For Spring to correctly load form encoded data you need to define the endpoint parameter as:</p>\n\n<pre><code>public LoginData postLogin(@RequestBody MultiValueMap&lt;String, String&gt; body)\n</code></pre>\n\n<p>or </p>\n\n<pre><code>public LoginData postLogin(@RequestParam Map&lt;String, String&gt; body)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14808361,"reputation":104,"user_id":10694701,"display_name":"Dexter"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1543857966,"creation_date":1543857966,"answer_id":53598804,"question_id":53583369,"body_markdown":"When using application/x-www-form-urlencoded, Spring doesn&#39;t understand it as a RequestBody. So, remove the @RequestBody annotation in the parameter list of your mapped data as I can see it there. \r\n\r\nPlease read this [Spring doesn&#39;t understand application/x-www-form-urlencoded][1]\r\n\r\n  [1]: https://stackoverflow.com/questions/33796218/content-type-application-x-www-form-urlencodedcharset-utf-8-not-supported-for","title":"HTTP Post request with content type application/x-www-form-urlencoded not working in Spring boot service","body":"<p>When using application/x-www-form-urlencoded, Spring doesn't understand it as a RequestBody. So, remove the @RequestBody annotation in the parameter list of your mapped data as I can see it there. </p>\n\n<p>Please read this <a href=\"https://stackoverflow.com/questions/33796218/content-type-application-x-www-form-urlencodedcharset-utf-8-not-supported-for\">Spring doesn't understand application/x-www-form-urlencoded</a></p>\n"},{"tags":[],"owner":{"account_id":2769094,"reputation":2205,"user_id":2384066,"display_name":"LeslieM"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1611706637,"creation_date":1611706637,"answer_id":65911192,"question_id":53583369,"body_markdown":"To process a URL Encoded POST in Spring Boot ( Content-Type: application/x-www-form-urlencoded )\r\n\r\nThis does not work:\r\n\r\n        public String processForm(@RequestBody RespFormDTO formDTO, \r\n    HttpServletRequest request, HttpServletResponse response) {\r\n\r\nThis will work:\r\n\r\n    public String processForm(RespFormDTO formDTO,\r\n           HttpServletRequest request, HttpServletResponse response) {\r\n\r\n\r\n","title":"HTTP Post request with content type application/x-www-form-urlencoded not working in Spring boot service","body":"<p>To process a URL Encoded POST in Spring Boot ( Content-Type: application/x-www-form-urlencoded )</p>\n<p>This does not work:</p>\n<pre><code>    public String processForm(@RequestBody RespFormDTO formDTO, \nHttpServletRequest request, HttpServletResponse response) {\n</code></pre>\n<p>This will work:</p>\n<pre><code>public String processForm(RespFormDTO formDTO,\n       HttpServletRequest request, HttpServletResponse response) {\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8388402,"reputation":57,"user_id":6297976,"display_name":"Nilesh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634216145,"creation_date":1634216145,"answer_id":69571127,"question_id":53583369,"body_markdown":"I ran into similar issue where when header **Content-Type:application/x-www-form-urlencoded** is added to my request to Springboot app. Request body is empty.\r\n\r\nI followed instruction is below link and it worked.\r\n\r\nShort answer , you need to disable **HiddenHttpMethodFilter**\r\n\r\nLink below explains reason and how to disable\r\n\r\nhttps://newbedev.com/why-is-httpservletrequest-inputstream-empty\r\n\r\n","title":"HTTP Post request with content type application/x-www-form-urlencoded not working in Spring boot service","body":"<p>I ran into similar issue where when header <strong>Content-Type:application/x-www-form-urlencoded</strong> is added to my request to Springboot app. Request body is empty.</p>\n<p>I followed instruction is below link and it worked.</p>\n<p>Short answer , you need to disable <strong>HiddenHttpMethodFilter</strong></p>\n<p>Link below explains reason and how to disable</p>\n<p><a href=\"https://newbedev.com/why-is-httpservletrequest-inputstream-empty\" rel=\"nofollow noreferrer\">https://newbedev.com/why-is-httpservletrequest-inputstream-empty</a></p>\n"},{"tags":[],"owner":{"account_id":9128782,"reputation":1,"user_id":8662506,"display_name":"Hector Ccasani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654814954,"creation_date":1654814954,"answer_id":72567410,"question_id":53583369,"body_markdown":"add headers in your interface\r\n\r\n```\r\npublic interface ApiService {\r\n  @FormUrlEncoded\r\n  @POST(&quot;/api/login&quot;)\r\n  @Headers({\r\n          &quot;Content-Type: application/x-www-form-urlencoded&quot;,\r\n          &quot;accept-encoding: gzip, deflate&quot;,\r\n          &quot;Accept: application/json;charset=UTF-8&quot;})\r\n  Call&lt;LoginData&gt; postLogIn(\r\n          @Field(&quot;username&quot;) String username,\r\n          @Field(&quot;password&quot;) String password);\r\n}","title":"HTTP Post request with content type application/x-www-form-urlencoded not working in Spring boot service","body":"<p>add headers in your interface</p>\n<pre><code>public interface ApiService {\n  @FormUrlEncoded\n  @POST(&quot;/api/login&quot;)\n  @Headers({\n          &quot;Content-Type: application/x-www-form-urlencoded&quot;,\n          &quot;accept-encoding: gzip, deflate&quot;,\n          &quot;Accept: application/json;charset=UTF-8&quot;})\n  Call&lt;LoginData&gt; postLogIn(\n          @Field(&quot;username&quot;) String username,\n          @Field(&quot;password&quot;) String password);\n}\n</code></pre>\n"}],"owner":{"account_id":5835409,"reputation":111,"user_id":4598646,"accept_rate":17,"display_name":"Abdur Razzak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22033,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":5,"score":2,"last_activity_date":1654814954,"creation_date":1543775804,"question_id":53583369,"body_markdown":"I am new to spring boot recently i am trying to do HTTP POST request from one android application through retrofit2 rest API library with application/x-www-form-url encoded but when i hit my spring boot POST service it shows me below error\r\n\r\n&gt; &quot;status&quot;:415,&quot;error&quot;:&quot;Unsupported Media\r\n&gt; Type&quot;,&quot;exception&quot;:&quot;org.springframework.web.HttpMediaTypeNotSupportedException&quot;,&quot;message&quot;:&quot;Content\r\n&gt; type &#39;application/x-www-form-urlencoded;charset=UTF-8&#39; not\r\n&gt; supported&quot;,&quot;path&quot;:&quot;/api/login&quot;\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n**Can anyone know how to solve it?**\r\n\r\n**Here is my code Android Code example** \r\n\r\nApiService.java\r\n\r\n    public interface ApiService {\r\n        @FormUrlEncoded\r\n        @POST(&quot;/api/login&quot;)\r\n        Call&lt;LoginData&gt; postLogIn(\r\n                @Field(&quot;username&quot;) String username,\r\n                @Field(&quot;password&quot;) String password);\r\n    }\r\nApiHandler.java\r\n\r\n    \r\n        private static final String SERVER_URL = &quot;http://192.168.0.12:8080/&quot;;\r\n        private static final long CONNECTION_TIMEOUT = 30;\r\n        public static Retrofit restAdapter;\r\n    \r\n        //public static final int CONNECTION_TIME_OUT = 120;\r\n        private static Retrofit getRestAdapter() {\r\n            if (restAdapter == null) {\r\n                restAdapter = new Retrofit.Builder()\r\n                        .baseUrl(SERVER_URL)\r\n                        .addConverterFactory(GsonConverterFactory.create())\r\n                        .client(getClient()).build();\r\n            }\r\n            return restAdapter;\r\n        }\r\n    \r\n        private static OkHttpClient getClient() {\r\n            OkHttpClient.Builder okClientBuilder = new OkHttpClient.Builder();\r\n            HttpLoggingInterceptor httpLoggingInterceptor = new HttpLoggingInterceptor();\r\n            httpLoggingInterceptor.setLevel(HttpLoggingInterceptor.Level.BODY);\r\n            okClientBuilder.addInterceptor(httpLoggingInterceptor);\r\n            okClientBuilder.connectTimeout(CONNECTION_TIMEOUT, TimeUnit.SECONDS);\r\n            okClientBuilder.readTimeout(CONNECTION_TIMEOUT, TimeUnit.SECONDS);\r\n            okClientBuilder.writeTimeout(CONNECTION_TIMEOUT, TimeUnit.SECONDS);\r\n            return okClientBuilder.build();\r\n        }\r\n\r\nPostHandler.java \r\n\r\n    @Override\r\n        public void callAPI(final Context context, final ApiClientResponse callback, Object arg0) {\r\n            this.callback = callback;\r\n            apiService.postLogIn(Login.username, Login.password).enqueue(new Callback&lt;LoginData&gt;() {\r\n                @Override\r\n                public void onResponse(Call&lt;LoginData&gt; call, Response&lt;LoginData&gt; response) {\r\n                    if (response.isSuccessful()) {\r\n                        LoginData loginData = response.body();\r\n                        successLoginData = loginData;\r\n                        successCallBack();\r\n                    } else {\r\n                        ApiErrorHandler.handleError(context, response, errorResponse);\r\n                    }\r\n                }\r\n    \r\n                @Override\r\n                public void onFailure(Call&lt;LoginData&gt; call, Throwable t) {\r\n                    ApiErrorHandler.handleError(context, t, errorResponse);\r\n                }\r\n    \r\n                RetrofitErrorResponse errorResponse = new RetrofitErrorResponse() {\r\n                    @Override\r\n                    public void errorMessage(String errorMessage) {\r\n                        failureCallBack(errorMessage);\r\n                    }\r\n    \r\n                    @Override\r\n                    public void tSyncError() {\r\n    \r\n                    }\r\n    \r\n                    @Override\r\n                    public void invalidTokenError() {\r\n    \r\n                    }\r\n                };\r\n    \r\n            });\r\n        }\r\n\r\nLoginData.java model class \r\n\r\n    @Generated(&quot;org.jsonschema2pojo&quot;)\r\n    public class LoginData {\r\n        @SerializedName(&quot;access_token&quot;)\r\n        @Expose\r\n        private String accessToken;\r\n        @SerializedName(&quot;token_type&quot;)\r\n        @Expose\r\n        private String tokenType;\r\n        @SerializedName(&quot;refresh_token&quot;)\r\n        @Expose\r\n        private String refreshToken;\r\n        @SerializedName(&quot;expires_in&quot;)\r\n        @Expose\r\n        private long expiresIn;\r\n        @SerializedName(&quot;scope&quot;)\r\n        @Expose\r\n        private String scope;\r\n        \r\n        // getter setter \r\n    }\r\n\r\n\r\n**Here is my Spring boot application code example**  \r\n\r\nMainApplicationClass.java\r\n\r\n    @SpringBootApplication\r\n    public class MainApplicationClass {\r\n        public static void main(String[] args) {\r\n            SpringApplication.run(MainApplicationClass.class, args);\r\n        }\r\n    }\r\n\r\nController.java \r\n\r\n    @RestController\r\n    public class BlogController {\r\n        @Autowired\r\n        BlogRespository blogRespository;\r\n        BlogMockedData blogMockedData = BlogMockedData.getInstance();\r\n    \r\n        @GetMapping(&quot;/blog&quot;)\r\n        public List&lt;Blog&gt; index() {\r\n            return blogMockedData.fetchBlogList();\r\n        }\r\n    \r\n        @GetMapping(&quot;/blog/{id}&quot;)\r\n        public Blog show(@PathVariable String id) {\r\n            int blogId = Integer.parseInt(id);\r\n            return blogMockedData.getBlogById(blogId);\r\n        }\r\n    \r\n        @PostMapping(value = &quot;/api/login&quot;,\r\n                consumes = {MediaType.APPLICATION_JSON_VALUE, MediaType.APPLICATION_FORM_URLENCODED_VALUE},\r\n                produces = {MediaType.APPLICATION_JSON_UTF8_VALUE, MediaType.APPLICATION_JSON_VALUE}\r\n        )\r\n        public LoginData postLogin(@RequestBody Map&lt;String, String&gt; body) {\r\n            String userName = body.get(&quot;username&quot;);\r\n            String password = body.get(&quot;password&quot;);\r\n            return blogMockedData.getLoginToken(userName, password);\r\n        }\r\n\r\n**NOTE:** If I hit spring boot POST service from POSTMAN i get below result \r\n\r\n[![enter image descriptiIn here][2]][2]\r\n\r\nBut if I hit the POST service from my android client side it gets me the error\r\n\r\n&gt; &quot;status&quot;:415,&quot;error&quot;:&quot;Unsupported Media\r\n&gt; Type&quot;,&quot;exception&quot;:&quot;org.springframework.web.HttpMediaTypeNotSupportedException&quot;,&quot;message&quot;:&quot;Content\r\n&gt; type &#39;application/x-www-form-urlencoded;charset=UTF-8&#39; not\r\n&gt; supported&quot;,&quot;path&quot;:&quot;/api/login&quot;\r\n\r\n \r\n\r\n  [1]: https://i.stack.imgur.com/UCaLL.png\r\n  [2]: https://i.stack.imgur.com/sz5ZO.png","title":"HTTP Post request with content type application/x-www-form-urlencoded not working in Spring boot service","body":"<p>I am new to spring boot recently i am trying to do HTTP POST request from one android application through retrofit2 rest API library with application/x-www-form-url encoded but when i hit my spring boot POST service it shows me below error</p>\n\n<blockquote>\n  <p>\"status\":415,\"error\":\"Unsupported Media\n  Type\",\"exception\":\"org.springframework.web.HttpMediaTypeNotSupportedException\",\"message\":\"Content\n  type 'application/x-www-form-urlencoded;charset=UTF-8' not\n  supported\",\"path\":\"/api/login\"</p>\n</blockquote>\n\n<p><a href=\"https://i.stack.imgur.com/UCaLL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UCaLL.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>Can anyone know how to solve it?</strong></p>\n\n<p><strong>Here is my code Android Code example</strong> </p>\n\n<p>ApiService.java</p>\n\n<pre><code>public interface ApiService {\n    @FormUrlEncoded\n    @POST(\"/api/login\")\n    Call&lt;LoginData&gt; postLogIn(\n            @Field(\"username\") String username,\n            @Field(\"password\") String password);\n}\n</code></pre>\n\n<p>ApiHandler.java</p>\n\n<pre><code>    private static final String SERVER_URL = \"http://192.168.0.12:8080/\";\n    private static final long CONNECTION_TIMEOUT = 30;\n    public static Retrofit restAdapter;\n\n    //public static final int CONNECTION_TIME_OUT = 120;\n    private static Retrofit getRestAdapter() {\n        if (restAdapter == null) {\n            restAdapter = new Retrofit.Builder()\n                    .baseUrl(SERVER_URL)\n                    .addConverterFactory(GsonConverterFactory.create())\n                    .client(getClient()).build();\n        }\n        return restAdapter;\n    }\n\n    private static OkHttpClient getClient() {\n        OkHttpClient.Builder okClientBuilder = new OkHttpClient.Builder();\n        HttpLoggingInterceptor httpLoggingInterceptor = new HttpLoggingInterceptor();\n        httpLoggingInterceptor.setLevel(HttpLoggingInterceptor.Level.BODY);\n        okClientBuilder.addInterceptor(httpLoggingInterceptor);\n        okClientBuilder.connectTimeout(CONNECTION_TIMEOUT, TimeUnit.SECONDS);\n        okClientBuilder.readTimeout(CONNECTION_TIMEOUT, TimeUnit.SECONDS);\n        okClientBuilder.writeTimeout(CONNECTION_TIMEOUT, TimeUnit.SECONDS);\n        return okClientBuilder.build();\n    }\n</code></pre>\n\n<p>PostHandler.java </p>\n\n<pre><code>@Override\n    public void callAPI(final Context context, final ApiClientResponse callback, Object arg0) {\n        this.callback = callback;\n        apiService.postLogIn(Login.username, Login.password).enqueue(new Callback&lt;LoginData&gt;() {\n            @Override\n            public void onResponse(Call&lt;LoginData&gt; call, Response&lt;LoginData&gt; response) {\n                if (response.isSuccessful()) {\n                    LoginData loginData = response.body();\n                    successLoginData = loginData;\n                    successCallBack();\n                } else {\n                    ApiErrorHandler.handleError(context, response, errorResponse);\n                }\n            }\n\n            @Override\n            public void onFailure(Call&lt;LoginData&gt; call, Throwable t) {\n                ApiErrorHandler.handleError(context, t, errorResponse);\n            }\n\n            RetrofitErrorResponse errorResponse = new RetrofitErrorResponse() {\n                @Override\n                public void errorMessage(String errorMessage) {\n                    failureCallBack(errorMessage);\n                }\n\n                @Override\n                public void tSyncError() {\n\n                }\n\n                @Override\n                public void invalidTokenError() {\n\n                }\n            };\n\n        });\n    }\n</code></pre>\n\n<p>LoginData.java model class </p>\n\n<pre><code>@Generated(\"org.jsonschema2pojo\")\npublic class LoginData {\n    @SerializedName(\"access_token\")\n    @Expose\n    private String accessToken;\n    @SerializedName(\"token_type\")\n    @Expose\n    private String tokenType;\n    @SerializedName(\"refresh_token\")\n    @Expose\n    private String refreshToken;\n    @SerializedName(\"expires_in\")\n    @Expose\n    private long expiresIn;\n    @SerializedName(\"scope\")\n    @Expose\n    private String scope;\n\n    // getter setter \n}\n</code></pre>\n\n<p><strong>Here is my Spring boot application code example</strong>  </p>\n\n<p>MainApplicationClass.java</p>\n\n<pre><code>@SpringBootApplication\npublic class MainApplicationClass {\n    public static void main(String[] args) {\n        SpringApplication.run(MainApplicationClass.class, args);\n    }\n}\n</code></pre>\n\n<p>Controller.java </p>\n\n<pre><code>@RestController\npublic class BlogController {\n    @Autowired\n    BlogRespository blogRespository;\n    BlogMockedData blogMockedData = BlogMockedData.getInstance();\n\n    @GetMapping(\"/blog\")\n    public List&lt;Blog&gt; index() {\n        return blogMockedData.fetchBlogList();\n    }\n\n    @GetMapping(\"/blog/{id}\")\n    public Blog show(@PathVariable String id) {\n        int blogId = Integer.parseInt(id);\n        return blogMockedData.getBlogById(blogId);\n    }\n\n    @PostMapping(value = \"/api/login\",\n            consumes = {MediaType.APPLICATION_JSON_VALUE, MediaType.APPLICATION_FORM_URLENCODED_VALUE},\n            produces = {MediaType.APPLICATION_JSON_UTF8_VALUE, MediaType.APPLICATION_JSON_VALUE}\n    )\n    public LoginData postLogin(@RequestBody Map&lt;String, String&gt; body) {\n        String userName = body.get(\"username\");\n        String password = body.get(\"password\");\n        return blogMockedData.getLoginToken(userName, password);\n    }\n</code></pre>\n\n<p><strong>NOTE:</strong> If I hit spring boot POST service from POSTMAN i get below result </p>\n\n<p><a href=\"https://i.stack.imgur.com/sz5ZO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sz5ZO.png\" alt=\"enter image descriptiIn here\"></a></p>\n\n<p>But if I hit the POST service from my android client side it gets me the error</p>\n\n<blockquote>\n  <p>\"status\":415,\"error\":\"Unsupported Media\n  Type\",\"exception\":\"org.springframework.web.HttpMediaTypeNotSupportedException\",\"message\":\"Content\n  type 'application/x-www-form-urlencoded;charset=UTF-8' not\n  supported\",\"path\":\"/api/login\"</p>\n</blockquote>\n"},{"tags":["java","jsoup"],"comments":[{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":1,"creation_date":1654814810,"post_id":72567365,"comment_id":128188484,"body_markdown":"The part where you call the function for getting the `src` attribute instead of the `.data()`? Look up the Jsoup API docs, find the docs that explain the API for DOM nodes, and then call the appropriate method for getting what you need out of them.","body":"The part where you call the function for getting the <code>src</code> attribute instead of the <code>.data()</code>? Look up the Jsoup API docs, find the docs that explain the API for DOM nodes, and then call the appropriate method for getting what you need out of them."},{"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"score":0,"creation_date":1654815115,"post_id":72567365,"comment_id":128188549,"body_markdown":"Instead of `String scriptData = script.data();`  use `String scriptData = script.outerHtml();` or `String scriptData = script.toString();`","body":"Instead of <code>String scriptData = script.data();</code>  use <code>String scriptData = script.outerHtml();</code> or <code>String scriptData = script.toString();</code>"}],"owner":{"account_id":25182474,"reputation":21,"user_id":19023821,"display_name":"Rqs"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654814406,"creation_date":1654814406,"question_id":72567365,"body_markdown":"I have this code which is giving me the data \r\n\r\n    Document doc = Jsoup.connect(&quot;http://www.example.com&quot;).timeout(10000).get();\r\n    Elements scripts = doc.select(&quot;script&quot;);\r\n    \r\n    for (Element script : scripts) {\r\n        String type = script.attr(&quot;type&quot;);\r\n        if (type.contentEquals(&quot;text/javascript&quot;)) {\r\n            String scriptData = script.data(); // your text from the script\r\n            break;\r\n        }\r\n    }\r\n\r\nbut i want to get the all the &lt;script src of my page, i don&#39;t need the text inside it. \r\n\r\nwhat i am missing here \r\n\r\n","title":"i am trying to get the script tags with src using jsoup","body":"<p>I have this code which is giving me the data</p>\n<pre><code>Document doc = Jsoup.connect(&quot;http://www.example.com&quot;).timeout(10000).get();\nElements scripts = doc.select(&quot;script&quot;);\n\nfor (Element script : scripts) {\n    String type = script.attr(&quot;type&quot;);\n    if (type.contentEquals(&quot;text/javascript&quot;)) {\n        String scriptData = script.data(); // your text from the script\n        break;\n    }\n}\n</code></pre>\n<p>but i want to get the all the &lt;script src of my page, i don't need the text inside it.</p>\n<p>what i am missing here</p>\n"},{"tags":["javascript","java","android","react-native","expo"],"owner":{"account_id":16942350,"reputation":149,"user_id":12253916,"display_name":"Carlos Craig"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":552,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1654813854,"creation_date":1654813854,"question_id":72567300,"body_markdown":"I would like to add this line to the android manifest, I am using React Native Expo. \r\n\r\n    android:usesCleartextTraffic=&quot;true&quot; \r\n\r\nto the application tag.\r\n\r\nI have tried in the app.json under \r\n\r\n    android.usesCleartextTraffic=&quot;true&quot; \r\n\r\nBut i receive an error this error\r\n\r\n     • Field: android - should NOT have additional property &#39;usesCleartextTraffic&#39;.\r\n\r\n","title":"update android manifest using React Native Expo","body":"<p>I would like to add this line to the android manifest, I am using React Native Expo.</p>\n<pre><code>android:usesCleartextTraffic=&quot;true&quot; \n</code></pre>\n<p>to the application tag.</p>\n<p>I have tried in the app.json under</p>\n<pre><code>android.usesCleartextTraffic=&quot;true&quot; \n</code></pre>\n<p>But i receive an error this error</p>\n<pre><code> • Field: android - should NOT have additional property 'usesCleartextTraffic'.\n</code></pre>\n"},{"tags":["java","collections"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1654807176,"post_id":72566357,"comment_id":128186823,"body_markdown":"In both cases you end up with the references in an array, in the `ArrayList` case there may be some extra capacity left in the backing array. Otherwise there&#39;s no difference and with so few objects they wouldn&#39;t show up anyway.","body":"In both cases you end up with the references in an array, in the <code>ArrayList</code> case there may be some extra capacity left in the backing array. Otherwise there&#39;s no difference and with so few objects they wouldn&#39;t show up anyway."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1654809800,"post_id":72566357,"comment_id":128187461,"body_markdown":"First of all, you can tell ArrayList [how many](https://docs.oracle.com/javase/8/docs/api/java/util/ArrayList.html#ArrayList-int-) there will be. Second, yes, `add()` does have to do a little work to increase capacity (not every time it&#39;s called, though), but that is trivial and you shouldn&#39;t worry about it. Finally, memory fragmentation isn&#39;t a concern with the way Java allocates memory. So it doesn&#39;t matter which way you choose.","body":"First of all, you can tell ArrayList <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/ArrayList.html#ArrayList-int-\" rel=\"nofollow noreferrer\">how many</a> there will be. Second, yes, <code>add()</code> does have to do a little work to increase capacity (not every time it&#39;s called, though), but that is trivial and you shouldn&#39;t worry about it. Finally, memory fragmentation isn&#39;t a concern with the way Java allocates memory. So it doesn&#39;t matter which way you choose."}],"answers":[{"tags":[],"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1654811846,"creation_date":1654811518,"answer_id":72567037,"question_id":72566357,"body_markdown":"If you check the implementation of `add(E e)` inside the class `ArrayList`, you can see this: \r\n\r\n    public boolean add(E e) {\r\n        modCount++;\r\n        add(e, elementData, size); //check below\r\n        return true;\r\n    }\r\n\r\n    private void add(E e, Object[] elementData, int s) {\r\n        if (s == elementData.length)\r\n            elementData = grow();\r\n        elementData[s] = e;\r\n        size = s + 1;\r\n    }\r\n\r\nSo basically, the only time when `ArrayList.add()` does something more than simply setting an element inside the `E[]` array that it holds, is when `s == elementData.length`.\r\n\r\nIf you check what these fields are: \r\n\r\n - `elementData`: &quot;The array buffer into which the elements of the ArrayList are stored. The capacity of the ArrayList is the length of this array buffer&quot;\r\n - `size`: &quot;The size of the ArrayList (the number of elements it contains).&quot;\r\n\r\nSo, if you check the constructor `public ArrayList(int initialCapacity)`, you can see that when you provide an initial capacity, the array `elementData` will be initialized with the capacity you provide:\r\n\r\n    if (initialCapacity &gt; 0) {\r\n        this.elementData = new Object[initialCapacity];\r\n\r\nWhich, in other words, means that the `if (s == elementData.length)` condition will never be met if you know in advance the number of elements that you will store in the array, and so the `elementData = grow()` will never be called making the usage of `.add()` method basically equivalent to you manually setting each element inside the array by index.\r\n\r\nTo sum up, if you know that you will store `850` elements in your list, then doing this: \r\n\r\n    List&lt;Element&gt; elements = new ArrayList&lt;&gt;(850);\r\n    elements.add(element1);\r\n    elements.add(element2);\r\n    //...\r\n    elements.add(element850);\r\n\r\n... is practically equivalent, operations-wise, than doing the set into an array yourself (there is one if-check and one increment more but that&#39;s really irrelevant). With the advantage though that you have a structure such as `List` that makes the object much easier to use (you&#39;ll be able to use iterators and all other features provided by `List` interface). \r\n\r\nSo especially when the number of elements is so small (&lt; 1000) and that you know how many they are in advance, I wouldn&#39;t overthink it and go directly into an `ArrayList`.\r\n\r\n","title":"If I know how many of a collection to create, should I create them all or create them on the fly by add()","body":"<p>If you check the implementation of <code>add(E e)</code> inside the class <code>ArrayList</code>, you can see this:</p>\n<pre><code>public boolean add(E e) {\n    modCount++;\n    add(e, elementData, size); //check below\n    return true;\n}\n\nprivate void add(E e, Object[] elementData, int s) {\n    if (s == elementData.length)\n        elementData = grow();\n    elementData[s] = e;\n    size = s + 1;\n}\n</code></pre>\n<p>So basically, the only time when <code>ArrayList.add()</code> does something more than simply setting an element inside the <code>E[]</code> array that it holds, is when <code>s == elementData.length</code>.</p>\n<p>If you check what these fields are:</p>\n<ul>\n<li><code>elementData</code>: &quot;The array buffer into which the elements of the ArrayList are stored. The capacity of the ArrayList is the length of this array buffer&quot;</li>\n<li><code>size</code>: &quot;The size of the ArrayList (the number of elements it contains).&quot;</li>\n</ul>\n<p>So, if you check the constructor <code>public ArrayList(int initialCapacity)</code>, you can see that when you provide an initial capacity, the array <code>elementData</code> will be initialized with the capacity you provide:</p>\n<pre><code>if (initialCapacity &gt; 0) {\n    this.elementData = new Object[initialCapacity];\n</code></pre>\n<p>Which, in other words, means that the <code>if (s == elementData.length)</code> condition will never be met if you know in advance the number of elements that you will store in the array, and so the <code>elementData = grow()</code> will never be called making the usage of <code>.add()</code> method basically equivalent to you manually setting each element inside the array by index.</p>\n<p>To sum up, if you know that you will store <code>850</code> elements in your list, then doing this:</p>\n<pre><code>List&lt;Element&gt; elements = new ArrayList&lt;&gt;(850);\nelements.add(element1);\nelements.add(element2);\n//...\nelements.add(element850);\n</code></pre>\n<p>... is practically equivalent, operations-wise, than doing the set into an array yourself (there is one if-check and one increment more but that's really irrelevant). With the advantage though that you have a structure such as <code>List</code> that makes the object much easier to use (you'll be able to use iterators and all other features provided by <code>List</code> interface).</p>\n<p>So especially when the number of elements is so small (&lt; 1000) and that you know how many they are in advance, I wouldn't overthink it and go directly into an <code>ArrayList</code>.</p>\n"},{"tags":[],"owner":{"account_id":673865,"reputation":5306,"user_id":889053,"accept_rate":38,"display_name":"Christian Bongiorno"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654812669,"creation_date":1654812669,"answer_id":72567176,"question_id":72566357,"body_markdown":"`elementData = grow()` is super crucial. `ArrayList` uses the double-and-copy strategy to amortize the cost of insertion. When it hit&#39;s the length of it&#39;s internal buffer it creates a new array of double the size of the last and copies in the old data. So, `add(x)` amortizes to `O(1)` (constant) because over the course of enough `add`s, it averages to a constant insertion time. \r\n\r\nI mean, think about this logically: \r\n1. Why on earth offer an `initialSize` in the constructor if it&#39;s of no consequence?\r\n2. How can it continue to just accept data and behave like an array?\r\n\r\nBut, he is right: unless you&#39;re working with a huge list and perpetually updating it, its of no consequential effect","title":"If I know how many of a collection to create, should I create them all or create them on the fly by add()","body":"<p><code>elementData = grow()</code> is super crucial. <code>ArrayList</code> uses the double-and-copy strategy to amortize the cost of insertion. When it hit's the length of it's internal buffer it creates a new array of double the size of the last and copies in the old data. So, <code>add(x)</code> amortizes to <code>O(1)</code> (constant) because over the course of enough <code>add</code>s, it averages to a constant insertion time.</p>\n<p>I mean, think about this logically:</p>\n<ol>\n<li>Why on earth offer an <code>initialSize</code> in the constructor if it's of no consequence?</li>\n<li>How can it continue to just accept data and behave like an array?</li>\n</ol>\n<p>But, he is right: unless you're working with a huge list and perpetually updating it, its of no consequential effect</p>\n"}],"owner":{"account_id":7577131,"reputation":127,"user_id":5749128,"display_name":"AlexHomeBrew"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72567037,"answer_count":2,"score":0,"last_activity_date":1654812669,"creation_date":1654806795,"question_id":72566357,"body_markdown":"I need to create an array of several hundred objects. `MyObject` has a large memory footprint, takes as bit of effort/time to create and will be created one at a time. I know how many when I start. I can create an array `MyObject[n]` sized appropriately then insert the `MyObject` via an index. Or I can create an `ArrayList&lt;MyObject&gt;` then do an `add(MyObject)`. The code size and structure is similar but I can imagine the second method &#39;could&#39; fragment the memory differently than the first method. (Really?) I suppose the difference is pretty small, especially considering there are less than 1000 entries, but my guess is that the first method is better as it uses information I have earlier in the process. Does the `ArrayList.add()` have to do extra work to increase its size?","title":"If I know how many of a collection to create, should I create them all or create them on the fly by add()","body":"<p>I need to create an array of several hundred objects. <code>MyObject</code> has a large memory footprint, takes as bit of effort/time to create and will be created one at a time. I know how many when I start. I can create an array <code>MyObject[n]</code> sized appropriately then insert the <code>MyObject</code> via an index. Or I can create an <code>ArrayList&lt;MyObject&gt;</code> then do an <code>add(MyObject)</code>. The code size and structure is similar but I can imagine the second method 'could' fragment the memory differently than the first method. (Really?) I suppose the difference is pretty small, especially considering there are less than 1000 entries, but my guess is that the first method is better as it uses information I have earlier in the process. Does the <code>ArrayList.add()</code> have to do extra work to increase its size?</p>\n"},{"tags":["java","arrays","file"],"answers":[{"tags":[],"owner":{"account_id":51914,"reputation":67901,"user_id":155137,"accept_rate":91,"display_name":"Martijn Courteaux"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1318952848,"creation_date":1318952848,"answer_id":7810020,"question_id":7809901,"body_markdown":"If you really want to use a Scanner, which is IMHO not such a good idea, you can set the delimiter to `,`.\r\n\r\n    Scanner inputFile = new Scanner(...);\r\n    inputFile.useDelimiter(&quot;,&quot;);\r\n\r\n    while (inputFile.hasNext())\r\n    {\r\n        String type = inputFile.next();\r\n        int distance = inputFile.nextInt();\r\n        int length = inputFile.nextInt();\r\n        String other = inputFile.next();\r\n\r\n        // Process...\r\n    }\r\n\r\n---\r\n\r\nI prefer using a `BufferedReader` in combination with `String.split(&quot;,&quot;)`.","title":"Reading txt file into array using scanner","body":"<p>If you really want to use a Scanner, which is IMHO not such a good idea, you can set the delimiter to <code>,</code>.</p>\n\n<pre><code>Scanner inputFile = new Scanner(...);\ninputFile.useDelimiter(\",\");\n\nwhile (inputFile.hasNext())\n{\n    String type = inputFile.next();\n    int distance = inputFile.nextInt();\n    int length = inputFile.nextInt();\n    String other = inputFile.next();\n\n    // Process...\n}\n</code></pre>\n\n<hr>\n\n<p>I prefer using a <code>BufferedReader</code> in combination with <code>String.split(\",\")</code>.</p>\n"}],"owner":{"account_id":981936,"reputation":1,"user_id":1001453,"display_name":"user1001453"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9501,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654812369,"creation_date":1318952286,"question_id":7809901,"body_markdown":"I have a text file that looks roughly like this:\r\n\r\n&gt; type, distance, length, other,\r\n&gt; \r\n&gt; A, 62, 17, abc,\r\n&gt; \r\n&gt; A, 12, 4,,\r\n&gt; \r\n&gt; A, 6, 90,,\r\n&gt; \r\n&gt; A, 46, 53,,\r\n\r\netc.\r\n\r\nEverything is separated by commas, but sometimes there is a blank.  I need to be able to read this data into an array using a scanner (not bufferedreader) and be able to account for the blanks somehow, as well as split by commas.  Later I will need to be able to calculate things with the data in each column.  How do I get this data into the array?\r\n\r\nThis is what I have so far: (java)\r\n\r\n    import java.util.Scanner;\r\n    import java.io.*;\r\n    \r\n    public class RunnerAnalysis {\r\n    \r\n    \tpublic static void main(String[] args) throws IOException {\r\n    \r\n    \t\tScanner keyboard = new Scanner(System.in);\r\n    \t\t\r\n    \t\tSystem.out.print(&quot;File: &quot;);\r\n    \t\tString filename = keyboard.nextLine();\r\n    \t\t\r\n    \t\tFile file = new File(filename);\r\n    \t\tScanner inputFile = new Scanner(file);\r\n    \t\t\r\n    \t\tinputFile.nextLine();\r\n    \t\t\r\n    \t\tString line = inputFile.nextLine();\r\n    \t\t\r\n    \t\twhile(inputFile.hasNext())\r\n    \t\t{\r\n    \t\tString[] array = line.split(&quot;,&quot;);\r\n    \t\t}\r\n    \t\t\r\n    \t\t\r\n    \t\t\r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"Reading txt file into array using scanner","body":"<p>I have a text file that looks roughly like this:</p>\n\n<blockquote>\n  <p>type, distance, length, other,</p>\n  \n  <p>A, 62, 17, abc,</p>\n  \n  <p>A, 12, 4,,</p>\n  \n  <p>A, 6, 90,,</p>\n  \n  <p>A, 46, 53,,</p>\n</blockquote>\n\n<p>etc.</p>\n\n<p>Everything is separated by commas, but sometimes there is a blank.  I need to be able to read this data into an array using a scanner (not bufferedreader) and be able to account for the blanks somehow, as well as split by commas.  Later I will need to be able to calculate things with the data in each column.  How do I get this data into the array?</p>\n\n<p>This is what I have so far: (java)</p>\n\n<pre><code>import java.util.Scanner;\nimport java.io.*;\n\npublic class RunnerAnalysis {\n\n    public static void main(String[] args) throws IOException {\n\n        Scanner keyboard = new Scanner(System.in);\n\n        System.out.print(\"File: \");\n        String filename = keyboard.nextLine();\n\n        File file = new File(filename);\n        Scanner inputFile = new Scanner(file);\n\n        inputFile.nextLine();\n\n        String line = inputFile.nextLine();\n\n        while(inputFile.hasNext())\n        {\n        String[] array = line.split(\",\");\n        }\n\n\n\n    }\n\n}\n</code></pre>\n"},{"tags":["java","regex","split"],"comments":[{"owner":{"account_id":61252,"reputation":407488,"user_id":182668,"accept_rate":68,"display_name":"Pointy"},"score":0,"creation_date":1317051745,"post_id":7557606,"comment_id":9160616,"body_markdown":"Do you intend this to be a **Java** question or a **JavaScript** question?","body":"Do you intend this to be a <b>Java</b> question or a <b>JavaScript</b> question?"},{"owner":{"account_id":116993,"reputation":1481,"user_id":306567,"accept_rate":100,"display_name":"Emaad Ali"},"score":1,"creation_date":1317051784,"post_id":7557606,"comment_id":9160635,"body_markdown":"Use String[] results = secondString.split( &quot;,\\\\s*&quot; ); // split on commas","body":"Use String[] results = secondString.split( &quot;,\\\\s*&quot; ); // split on commas"},{"owner":{"account_id":464201,"reputation":13,"user_id":867559,"display_name":"nitin88"},"score":0,"creation_date":1317095920,"post_id":7557606,"comment_id":9169896,"body_markdown":"I want this to be Java question.","body":"I want this to be Java question."}],"answers":[{"tags":[],"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1317109073,"creation_date":1317051952,"answer_id":7557692,"question_id":7557606,"body_markdown":"Assuming you are already splitting at commas and try to check whether the elements you get are numbers, use this expression: `^\\d+(?:\\.\\d+)?$`, which means: &quot;must begin with digits potentially followed by a dot and at least one more digit&quot;. \r\n\r\nThis would match `31` as well as `7.8`, but not `2.`, `6 6 6 6` or `2m54`.\r\n\r\nHere&#39;s a part by part explanation of that expression:\r\n\r\n- `^` means: matches must start at the first character\r\n- `$` means: matches must end at the last character, so both together mean the entire string must match\r\n- `\\d+` means: one or more digits \r\n- `(?: ... )` is a non-capturing group allowing to apply the `?` quantifier\r\n- `\\.` means: the literal dot\r\n- `(?:\\.\\d+)?` thus means: zero or one occurences of a dot followed by at least one digit\r\n\r\nEdit: if you only want integer numbers, just remove the group: `^\\d+$` -&gt; entire input must be one or more digits.\r\n\r\nEdit 2: &lt;strike&gt;If you can prepend and append a comma to the input string&lt;/strike&gt;(see Edit 4), you should be able to use this regex for getting all numbers: `(?&lt;=,)\\s*(\\d+(?:\\.\\d+)?)\\s*(?=,)` (integers only would require you to remove the `(?:\\.\\d+)?` part). \r\n\r\nThat expression gets all numbers between two commas with possible whitespace between the commas and the number and catches the number into a group. This should prevent matches of `6 6 6 6` or `2m54`. Then just iterate over the matches to get all the groups.\r\n\r\nEdit 3: Here&#39;s an example with your input string.\r\n\r\n    String input = &quot;test\\n&quot; +\r\n    \t\t&quot;t,b\\n&quot; +\r\n    \t\t&quot;45,49\\n&quot; +\r\n    \t\t&quot;31,34,38,34,56,23,,,,3,23,23653,3875,3.7,8.5,2.5,7.8,2., 6 6 6 6 ,\\n&quot; +\r\n    \t\t&quot;,\\n&quot; +\r\n    \t\t&quot;.\\n&quot; +\r\n    \t\t&quot;.,/;,jm.m.,,n ,sdsd, 3,2m54,2 4,2m,ar ,SSD A,,B,4D,CE,S4,D,2343ES,SD\\n&quot;;\r\n    \r\n    Pattern p = Pattern.compile( &quot;(?&lt;=,|\\\\n)\\\\s*(\\\\d+(?:\\\\.\\\\d+)?)\\\\s*(?=,|\\\\n)&quot; );    \r\n    \r\n    Matcher m = p.matcher( input );\r\n    \r\n    List&lt;String&gt; numbers = new ArrayList&lt;String&gt;();\r\n    \r\n    while(m.find())\r\n    {\r\n      numbers.add( m.group( 1 ) );\r\n    }\r\n    \r\n    System.out.println(Arrays.toString( numbers.toArray() ));\r\n\r\n    //prints: [45, 49, 31, 34, 38, 34, 56, 23, 3, 23, 23653, 3875, 3.7, 8.5, 2.5, 7.8, 3]\r\n    //removing the faction group: [45, 49, 31, 34, 38, 34, 56, 23, 3, 23, 23653, 3875, 3]\r\n\r\nEdit 4: actually, you don&#39;t need to add commas, just use this expression:\r\n\r\n    `(?&lt;=,|\\n|^)\\s*(\\d+)\\s*(?=,|\\n|$)`\r\n\r\nThe groups at the start and end mean the match must follow the start of the input, a comma or a line break and be followed by the end of the input, a comma or a line break.","title":"Separate Data by Comma","body":"<p>Assuming you are already splitting at commas and try to check whether the elements you get are numbers, use this expression: <code>^\\d+(?:\\.\\d+)?$</code>, which means: \"must begin with digits potentially followed by a dot and at least one more digit\". </p>\n\n<p>This would match <code>31</code> as well as <code>7.8</code>, but not <code>2.</code>, <code>6 6 6 6</code> or <code>2m54</code>.</p>\n\n<p>Here's a part by part explanation of that expression:</p>\n\n<ul>\n<li><code>^</code> means: matches must start at the first character</li>\n<li><code>$</code> means: matches must end at the last character, so both together mean the entire string must match</li>\n<li><code>\\d+</code> means: one or more digits </li>\n<li><code>(?: ... )</code> is a non-capturing group allowing to apply the <code>?</code> quantifier</li>\n<li><code>\\.</code> means: the literal dot</li>\n<li><code>(?:\\.\\d+)?</code> thus means: zero or one occurences of a dot followed by at least one digit</li>\n</ul>\n\n<p>Edit: if you only want integer numbers, just remove the group: <code>^\\d+$</code> -> entire input must be one or more digits.</p>\n\n<p>Edit 2: <strike>If you can prepend and append a comma to the input string</strike>(see Edit 4), you should be able to use this regex for getting all numbers: <code>(?&lt;=,)\\s*(\\d+(?:\\.\\d+)?)\\s*(?=,)</code> (integers only would require you to remove the <code>(?:\\.\\d+)?</code> part). </p>\n\n<p>That expression gets all numbers between two commas with possible whitespace between the commas and the number and catches the number into a group. This should prevent matches of <code>6 6 6 6</code> or <code>2m54</code>. Then just iterate over the matches to get all the groups.</p>\n\n<p>Edit 3: Here's an example with your input string.</p>\n\n<pre><code>String input = \"test\\n\" +\n        \"t,b\\n\" +\n        \"45,49\\n\" +\n        \"31,34,38,34,56,23,,,,3,23,23653,3875,3.7,8.5,2.5,7.8,2., 6 6 6 6 ,\\n\" +\n        \",\\n\" +\n        \".\\n\" +\n        \".,/;,jm.m.,,n ,sdsd, 3,2m54,2 4,2m,ar ,SSD A,,B,4D,CE,S4,D,2343ES,SD\\n\";\n\nPattern p = Pattern.compile( \"(?&lt;=,|\\\\n)\\\\s*(\\\\d+(?:\\\\.\\\\d+)?)\\\\s*(?=,|\\\\n)\" );    \n\nMatcher m = p.matcher( input );\n\nList&lt;String&gt; numbers = new ArrayList&lt;String&gt;();\n\nwhile(m.find())\n{\n  numbers.add( m.group( 1 ) );\n}\n\nSystem.out.println(Arrays.toString( numbers.toArray() ));\n\n//prints: [45, 49, 31, 34, 38, 34, 56, 23, 3, 23, 23653, 3875, 3.7, 8.5, 2.5, 7.8, 3]\n//removing the faction group: [45, 49, 31, 34, 38, 34, 56, 23, 3, 23, 23653, 3875, 3]\n</code></pre>\n\n<p>Edit 4: actually, you don't need to add commas, just use this expression:</p>\n\n<pre><code>`(?&lt;=,|\\n|^)\\s*(\\d+)\\s*(?=,|\\n|$)`\n</code></pre>\n\n<p>The groups at the start and end mean the match must follow the start of the input, a comma or a line break and be followed by the end of the input, a comma or a line break.</p>\n"},{"tags":[],"owner":{"account_id":932521,"reputation":1180,"user_id":962085,"accept_rate":53,"display_name":"fozziethebeat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1317052308,"creation_date":1317052308,"answer_id":7557766,"question_id":7557606,"body_markdown":"The shortest solution i could come up with would be to replace anything that isn&#39;t a set of numbers separated by commas with the empty string.  So you could do `s.replaceAll(&quot;[^0-9]*,&quot;, &quot;,&quot;)` If you have random newlines in there, you will probably want to add in a `s.replaceAll(&quot;\\n&quot;, &quot;,&quot;)`.  Then after those transformations, you can just do as suggested and split on commas.","title":"Separate Data by Comma","body":"<p>The shortest solution i could come up with would be to replace anything that isn't a set of numbers separated by commas with the empty string.  So you could do <code>s.replaceAll(\"[^0-9]*,\", \",\")</code> If you have random newlines in there, you will probably want to add in a <code>s.replaceAll(\"\\n\", \",\")</code>.  Then after those transformations, you can just do as suggested and split on commas.</p>\n"},{"tags":[],"owner":{"account_id":55050,"reputation":190509,"user_id":164835,"accept_rate":80,"display_name":"Kent"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1317052456,"creation_date":1317052456,"answer_id":7557806,"question_id":7557606,"body_markdown":"this experssion will give you all numbers you need (only numbers, no commas).\r\n\r\n    &quot;^\\d+|(?&lt;=,)\\d+$|(?&lt;=,)\\d+(?=,)&quot;\r\n\r\nsee the grep example:\r\n\r\n    kent$  echo &quot;31,34,38,34,56,23,,,,3,23,23653,3875,3.7,8.5,2.5,7.8,2., 6 6 6 6 ,\r\n    &quot;|grep -oP &quot;^\\d+|(?&lt;=,)\\d+$|(?&lt;=,)\\d+(?=,)&quot;\r\n    \r\n    31\r\n    34\r\n    38\r\n    34\r\n    56\r\n    23\r\n    3\r\n    23\r\n    23653\r\n    3875\r\n\r\n","title":"Separate Data by Comma","body":"<p>this experssion will give you all numbers you need (only numbers, no commas).</p>\n\n<pre><code>\"^\\d+|(?&lt;=,)\\d+$|(?&lt;=,)\\d+(?=,)\"\n</code></pre>\n\n<p>see the grep example:</p>\n\n<pre><code>kent$  echo \"31,34,38,34,56,23,,,,3,23,23653,3875,3.7,8.5,2.5,7.8,2., 6 6 6 6 ,\n\"|grep -oP \"^\\d+|(?&lt;=,)\\d+$|(?&lt;=,)\\d+(?=,)\"\n\n31\n34\n38\n34\n56\n23\n3\n23\n23653\n3875\n</code></pre>\n"}],"owner":{"account_id":464201,"reputation":13,"user_id":867559,"display_name":"nitin88"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":613,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":7557692,"answer_count":3,"score":1,"last_activity_date":1654812327,"creation_date":1317051589,"question_id":7557606,"body_markdown":"I am learning RegEx. completely a newbie :P\r\n\r\nI wanted to separate numbers from the below data, which are separated by comma only\r\n\r\n    test\r\n    t,b\r\n    45,49\r\n    31,34,38,34,56,23,,,,3,23,23653,3875,3.7,8.5,2.5,7.8,2., 6 6 6 6 ,\r\n    ,\r\n    .\r\n    .,/;,jm.m.,,n ,sdsd, 3,2m54,2 4,2m,ar ,SSD A,,B,4D,CE,S4,D,2343ES,SD\r\n\r\n\r\nSuppose I am getting the above data from Form text field. Now I want to read the data only which are numbers seperated by comma\r\n\r\nSolution should be[string]\r\n\r\n    45,49,31,34,38,34,56,23,3,23,23653,3875\r\n\r\nall other data should be skipped. \r\nI tried something like this ^[0-9]+\\,$\r\n\r\nBut it&#39;s also selecting 7 from 3.7, and 5 from 8.5, etc..... \r\n\r\n\r\nCan anyone help me out in solving this!!","title":"Separate Data by Comma","body":"<p>I am learning RegEx. completely a newbie :P</p>\n\n<p>I wanted to separate numbers from the below data, which are separated by comma only</p>\n\n<pre><code>test\nt,b\n45,49\n31,34,38,34,56,23,,,,3,23,23653,3875,3.7,8.5,2.5,7.8,2., 6 6 6 6 ,\n,\n.\n.,/;,jm.m.,,n ,sdsd, 3,2m54,2 4,2m,ar ,SSD A,,B,4D,CE,S4,D,2343ES,SD\n</code></pre>\n\n<p>Suppose I am getting the above data from Form text field. Now I want to read the data only which are numbers seperated by comma</p>\n\n<p>Solution should be[string]</p>\n\n<pre><code>45,49,31,34,38,34,56,23,3,23,23653,3875\n</code></pre>\n\n<p>all other data should be skipped. \nI tried something like this ^[0-9]+\\,$</p>\n\n<p>But it's also selecting 7 from 3.7, and 5 from 8.5, etc..... </p>\n\n<p>Can anyone help me out in solving this!!</p>\n"},{"tags":["java","jsp","struts2","singleton"],"answers":[{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654812226,"creation_date":1654810366,"answer_id":72566870,"question_id":72563948,"body_markdown":"In JSP pages you can get the value from the `valueStack`. Once you get hitted your action to the controller the action  context and `valueStack` are created by the Struts2 filter. You retrieve the value from the database using DAO and store it to the `valueSrack`. Note, that the `valueStack` is available not only in the controller but also in the view referencing a JSP page. In Struts2 the controller itself is exposed to the view via OGNL or EL. It is set on top of the `valueStack`. \r\n\r\nSo any changes to properties of the controller are reflected to JSP returned as a result with `dispatcher` result type which is default. If you use many JSP pages in many results then you have to retrieve the value from the database each time the request is made. Then you set the value to the property of controller. \r\n\r\nThus it is available to JSP returned as a result to the view via OGNL. All struts tags are supported to use OGNL in their attributes where you can write OGNL expressions or use EL.\r\n\r\nIt doesn&#39;t matter how you set the properties of the controller by the singleton object or prototype oblect the value is evaluated by OGNL expression. For it to work you provide your oblects with accessors and don&#39;t use a static context. Because the static context is turned off by default Struts2 configuration.\r\n\r\nHowever if the objects are evaluated by many requests the singleton objects are shared by different threads and should be thread-safe.\r\n\r\nIf you use a session object which is implemented as a map in Struts2 and instance is already sinchronized. So you have only referencing a session scoped objects from the map which is available in the action context.","title":"Send data from Singleton Class to JSP page","body":"<p>In JSP pages you can get the value from the <code>valueStack</code>. Once you get hitted your action to the controller the action  context and <code>valueStack</code> are created by the Struts2 filter. You retrieve the value from the database using DAO and store it to the <code>valueSrack</code>. Note, that the <code>valueStack</code> is available not only in the controller but also in the view referencing a JSP page. In Struts2 the controller itself is exposed to the view via OGNL or EL. It is set on top of the <code>valueStack</code>.</p>\n<p>So any changes to properties of the controller are reflected to JSP returned as a result with <code>dispatcher</code> result type which is default. If you use many JSP pages in many results then you have to retrieve the value from the database each time the request is made. Then you set the value to the property of controller.</p>\n<p>Thus it is available to JSP returned as a result to the view via OGNL. All struts tags are supported to use OGNL in their attributes where you can write OGNL expressions or use EL.</p>\n<p>It doesn't matter how you set the properties of the controller by the singleton object or prototype oblect the value is evaluated by OGNL expression. For it to work you provide your oblects with accessors and don't use a static context. Because the static context is turned off by default Struts2 configuration.</p>\n<p>However if the objects are evaluated by many requests the singleton objects are shared by different threads and should be thread-safe.</p>\n<p>If you use a session object which is implemented as a map in Struts2 and instance is already sinchronized. So you have only referencing a session scoped objects from the map which is available in the action context.</p>\n"}],"owner":{"account_id":6703017,"reputation":595,"user_id":5168935,"display_name":"WCM"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654812226,"creation_date":1654793268,"question_id":72563948,"body_markdown":"I&#39;am developing Struts2 Application. There is a value in database table and I want to use that value in many different Jsp pages. For that I am using singleton class.\r\n\r\n**DAO Class:**\r\n\r\n    public class TestDAO {\r\n\r\n\tpublic String getServerName() throws DAOException {\r\n\t\r\n\t\tString findStatement = &quot;SELECT name FROM classTest where value=&#39;1234&#39;;&quot;;\r\n\r\n\t\tPreparedStatement ps=null;\r\n\t\tResultSet rs =null;\r\n\r\n\t\ttry {\r\n\t\t\t\r\n\t\t\tps=DBAccessManager.prepareStatement(findStatement);\r\n\t\t\trs = ps.executeQuery();\r\n\t\t\t\r\n\t\t\tString name = rs.getString(&quot;name&quot;);\r\n            return name;\r\n\r\n        }catch{ //some text }\r\n    }\r\n    }\r\n\r\n**Singleton Class:**\r\n\r\n    \r\npublic class TestSingleton {\r\n\r\n\tprivate static TestSingleton INSTANCE;\r\n    private String name;\r\n\t\r\n\tprivate ServerSingleton() {\r\n\t\ttry {\r\n\t\t\tsetName(new TestDAO().getServerName());\r\n\t\t} catch (DAOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\t\t\r\n\t}\r\n\t\r\n    \tpublic static TestSingleton getINSTANCE() {\r\n\t\treturn INSTANCE;\r\n\t}\r\n\r\n\tpublic static void setINSTANCE(TestSingleton iNSTANCE) {\r\n\t\tINSTANCE = iNSTANCE;\r\n\t}\t\r\n\r\n\tpublic String getName() {\r\n\t\treturn Name;\r\n\t}\r\n\r\n\tpublic void setName(String name) {\r\n\t\tName = name;\r\n\t}\r\n\r\n    }\r\n\r\nHow can I use session in singleton class and read the session in JSP page\r\n\r\n\r\n","title":"Send data from Singleton Class to JSP page","body":"<p>I'am developing Struts2 Application. There is a value in database table and I want to use that value in many different Jsp pages. For that I am using singleton class.</p>\n<p><strong>DAO Class:</strong></p>\n<pre><code>public class TestDAO {\n\npublic String getServerName() throws DAOException {\n\n    String findStatement = &quot;SELECT name FROM classTest where value='1234';&quot;;\n\n    PreparedStatement ps=null;\n    ResultSet rs =null;\n\n    try {\n        \n        ps=DBAccessManager.prepareStatement(findStatement);\n        rs = ps.executeQuery();\n        \n        String name = rs.getString(&quot;name&quot;);\n        return name;\n\n    }catch{ //some text }\n}\n}\n</code></pre>\n<p><strong>Singleton Class:</strong></p>\n<p>public class TestSingleton {</p>\n<pre><code>private static TestSingleton INSTANCE;\nprivate String name;\n\nprivate ServerSingleton() {\n    try {\n        setName(new TestDAO().getServerName());\n    } catch (DAOException e) {\n        e.printStackTrace();\n    }       \n}\n\n    public static TestSingleton getINSTANCE() {\n    return INSTANCE;\n}\n\npublic static void setINSTANCE(TestSingleton iNSTANCE) {\n    INSTANCE = iNSTANCE;\n}   \n\npublic String getName() {\n    return Name;\n}\n\npublic void setName(String name) {\n    Name = name;\n}\n\n}\n</code></pre>\n<p>How can I use session in singleton class and read the session in JSP page</p>\n"},{"tags":["java","dom4j"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1643583572,"post_id":70919631,"comment_id":125372768,"body_markdown":"Does this answer your question? [Java dom4j org/jaxen/NamespaceContext exception](https://stackoverflow.com/questions/12933622/java-dom4j-org-jaxen-namespacecontext-exception)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/12933622/java-dom4j-org-jaxen-namespacecontext-exception\">Java dom4j org/jaxen/NamespaceContext exception</a>"}],"answers":[{"tags":[],"owner":{"account_id":25519981,"reputation":11,"user_id":19310080,"display_name":"Programmer SV"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654811591,"creation_date":1654811591,"answer_id":72567049,"question_id":70919631,"body_markdown":"append Jaxen to your project runtime dependencies. Jaxen is XPath engine used optionally by dom4j.","title":"problem about dom4j when i want to parse xml document","body":"<p>append Jaxen to your project runtime dependencies. Jaxen is XPath engine used optionally by dom4j.</p>\n"}],"owner":{"account_id":24104752,"reputation":1,"user_id":18076118,"display_name":"Steven Shelby"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":262,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654811591,"creation_date":1643583107,"question_id":70919631,"body_markdown":"I get the following exception when trying to access any nodes of a parsed xml document on dom4j:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/jaxen/NamespaceContext\r\n    \tat org.dom4j.DocumentFactory.createXPath(DocumentFactory.java:230)\r\n    \tat org.dom4j.tree.AbstractNode.createXPath(AbstractNode.java:207)\r\n    \tat org.dom4j.tree.AbstractNode.selectNodes(AbstractNode.java:164)\r\n    \tat xmlParse.XmlParser.extractElementText(XmlParser.java:56)\r\n    \tat xmlParse.XmlParser.main(XmlParser.java:129)\r\n    Caused by: java.lang.ClassNotFoundException: org.jaxen.NamespaceContext\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:636)\r\n    \tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:182)\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:519)\r\n    \t... 5 more\r\n\r\nHow can i solve it?","title":"problem about dom4j when i want to parse xml document","body":"<p>I get the following exception when trying to access any nodes of a parsed xml document on dom4j:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/jaxen/NamespaceContext\n    at org.dom4j.DocumentFactory.createXPath(DocumentFactory.java:230)\n    at org.dom4j.tree.AbstractNode.createXPath(AbstractNode.java:207)\n    at org.dom4j.tree.AbstractNode.selectNodes(AbstractNode.java:164)\n    at xmlParse.XmlParser.extractElementText(XmlParser.java:56)\n    at xmlParse.XmlParser.main(XmlParser.java:129)\nCaused by: java.lang.ClassNotFoundException: org.jaxen.NamespaceContext\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:636)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:182)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:519)\n    ... 5 more\n</code></pre>\n<p>How can i solve it?</p>\n"},{"tags":["java","quarkus","quarkus-rest-client"],"comments":[{"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"score":0,"creation_date":1654838156,"post_id":72564238,"comment_id":128191958,"body_markdown":"Have you tried using a `Uni&lt;File&gt;` as a return type?","body":"Have you tried using a <code>Uni&lt;File&gt;</code> as a return type?"},{"owner":{"account_id":9455743,"reputation":363,"user_id":7548577,"accept_rate":38,"display_name":"dtechlearn"},"score":0,"creation_date":1654845157,"post_id":72564238,"comment_id":128193570,"body_markdown":"I tried service.downloadFileById(id)\n                    .await()\n                    .indefinitely()\n                    .readEntity(File.class);\nIt is first loaded to memory, than to file...\nWhen I am trying this with imperative client (quarkus-rest-client-jackson), it works fine in case downloadFileById does not return Uni. When it does, error occurs, complaining about &quot;Unable to find a MessageBodyReader of content-type application/octet-stream and type interface io.smallrye.mutiny.Uni&quot;","body":"I tried service.downloadFileById(id)                     .await()                     .indefinitely()                     .readEntity(File.class); It is first loaded to memory, than to file... When I am trying this with imperative client (quarkus-rest-client-jackson), it works fine in case downloadFileById does not return Uni. When it does, error occurs, complaining about &quot;Unable to find a MessageBodyReader of content-type application/octet-stream and type interface io.smallrye.mutiny.Uni&quot;"},{"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"score":0,"creation_date":1654849738,"post_id":72564238,"comment_id":128194977,"body_markdown":"My point is that you should not use `Response` in this case. If you use `Uni&lt;File&gt;` things should just work.","body":"My point is that you should not use <code>Response</code> in this case. If you use <code>Uni&lt;File&gt;</code> things should just work."},{"owner":{"account_id":9455743,"reputation":363,"user_id":7548577,"accept_rate":38,"display_name":"dtechlearn"},"score":0,"creation_date":1655752179,"post_id":72564238,"comment_id":128401518,"body_markdown":"I have tried scenario where server returns Uni&lt;File&gt;, specifically Uni.createFrom().item(file); client consuming Uni&lt;File&gt;.\nSending over 2gb file.\n\nhere are my observations:\n- server: memory consumption is increased drastically upon sending to client\n- client: correctly receiving to tmp file but doesn&#39;t get whole file when working with over 2gb, instead I got only fragments(60 mb, another try 3 mb)\nthe client worked ok when I sent smaller file (100 mb).","body":"I have tried scenario where server returns Uni&lt;File&gt;, specifically Uni.createFrom().item(file); client consuming Uni&lt;File&gt;. Sending over 2gb file.  here are my observations: - server: memory consumption is increased drastically upon sending to client - client: correctly receiving to tmp file but doesn&#39;t get whole file when working with over 2gb, instead I got only fragments(60 mb, another try 3 mb) the client worked ok when I sent smaller file (100 mb)."},{"owner":{"account_id":9455743,"reputation":363,"user_id":7548577,"accept_rate":38,"display_name":"dtechlearn"},"score":0,"creation_date":1655811133,"post_id":72564238,"comment_id":128414860,"body_markdown":"correction here, client gets the tmp file completely... , just the problem with server memory remains","body":"correction here, client gets the tmp file completely... , just the problem with server memory remains"}],"owner":{"account_id":9455743,"reputation":363,"user_id":7548577,"accept_rate":38,"display_name":"dtechlearn"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":318,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654811181,"creation_date":1654794954,"question_id":72564238,"body_markdown":"I have problem downloading file (getting the input stream) from server (quarkus implementation) in client (quarkus implementation)\r\n\r\nI am using 2.9.2.Final version of Quarkus for both client and server, \r\ndependency - quarkus-rest-client-reactive-jackson\r\n\r\nI have a server which returns InputStream inside Response: \r\n\r\n      @Override\r\n      public Response downloadFileById(String id) {\r\n        var inputStream = repo.downloadFileByFileId(id);\r\n        return Response.ok(inputStream, MediaType.APPLICATION_OCTET_STREAM)\r\n            .header(&quot;Content-Disposition&quot;, &quot;attachment; filename = \\&quot;&quot; + fileName + &quot;\\&quot;&quot;)\r\n            .header(&quot;Content-Length&quot;, repo.getFileLengthByFileById(id))\r\n            .build();\r\n      }\r\nOn client side, I&#39;ve tried these variations:\r\n\r\nThis works but loads everything into memory. It uses **ByteArrayInputStream** inside ClientSendRequestHandler.java from package org.jboss.resteasy.reactive.client.handlers; (see line **340** in https://github.com/quarkusio/quarkus/blob/b0019c087880f9fd1371776b8c23c1b49129dcb3/independent-projects/resteasy-reactive/client/runtime/src/main/java/org/jboss/resteasy/reactive/client/handlers/ClientSendRequestHandler.java)\r\n\r\n    var stream = service.downloadFileById(id)\r\n                        .await()\r\n                        .indefinitely()\r\n                        .readEntity(InputStream.class);\r\n\r\nI expected this to work but it returns null\r\n\r\n    var stream = service\r\n                  .downloadFileById(id)\r\n                  .await()\r\n                  .indefinitely()\r\n                  .getEntity();\r\n\r\n\r\nAs I am going through following method from the ClientSendRequestHandler.java\r\n\r\n    private void attachSentHandlers(Future&lt;HttpClientResponse&gt; sent,\r\n            HttpClientRequest httpClientRequest,\r\n            RestClientRequestContext requestContext)\r\n\r\nI am wondering, is it not supported? \r\nI see cases for Multipart data, File, and an else branch \r\nNot sure what am I missing. \r\n","title":"getEntity() returns null, readEntity(InputStream.class) loads everything to memory","body":"<p>I have problem downloading file (getting the input stream) from server (quarkus implementation) in client (quarkus implementation)</p>\n<p>I am using 2.9.2.Final version of Quarkus for both client and server,\ndependency - quarkus-rest-client-reactive-jackson</p>\n<p>I have a server which returns InputStream inside Response:</p>\n<pre><code>  @Override\n  public Response downloadFileById(String id) {\n    var inputStream = repo.downloadFileByFileId(id);\n    return Response.ok(inputStream, MediaType.APPLICATION_OCTET_STREAM)\n        .header(&quot;Content-Disposition&quot;, &quot;attachment; filename = \\&quot;&quot; + fileName + &quot;\\&quot;&quot;)\n        .header(&quot;Content-Length&quot;, repo.getFileLengthByFileById(id))\n        .build();\n  }\n</code></pre>\n<p>On client side, I've tried these variations:</p>\n<p>This works but loads everything into memory. It uses <strong>ByteArrayInputStream</strong> inside ClientSendRequestHandler.java from package org.jboss.resteasy.reactive.client.handlers; (see line <strong>340</strong> in <a href=\"https://github.com/quarkusio/quarkus/blob/b0019c087880f9fd1371776b8c23c1b49129dcb3/independent-projects/resteasy-reactive/client/runtime/src/main/java/org/jboss/resteasy/reactive/client/handlers/ClientSendRequestHandler.java\" rel=\"nofollow noreferrer\">https://github.com/quarkusio/quarkus/blob/b0019c087880f9fd1371776b8c23c1b49129dcb3/independent-projects/resteasy-reactive/client/runtime/src/main/java/org/jboss/resteasy/reactive/client/handlers/ClientSendRequestHandler.java</a>)</p>\n<pre><code>var stream = service.downloadFileById(id)\n                    .await()\n                    .indefinitely()\n                    .readEntity(InputStream.class);\n</code></pre>\n<p>I expected this to work but it returns null</p>\n<pre><code>var stream = service\n              .downloadFileById(id)\n              .await()\n              .indefinitely()\n              .getEntity();\n</code></pre>\n<p>As I am going through following method from the ClientSendRequestHandler.java</p>\n<pre><code>private void attachSentHandlers(Future&lt;HttpClientResponse&gt; sent,\n        HttpClientRequest httpClientRequest,\n        RestClientRequestContext requestContext)\n</code></pre>\n<p>I am wondering, is it not supported?\nI see cases for Multipart data, File, and an else branch\nNot sure what am I missing.</p>\n"},{"tags":["java","hibernate","jpa","view"],"comments":[{"owner":{"account_id":1434762,"reputation":22772,"user_id":1356423,"accept_rate":65,"display_name":"Alan Hay"},"score":0,"creation_date":1462957518,"post_id":37157291,"comment_id":61851939,"body_markdown":"There&#39;s a duplicate here with no accepted answer. http://stackoverflow.com/questions/34208122/jpa-insertable-and-updatable-with-view-and-secondarytable","body":"There&#39;s a duplicate here with no accepted answer. <a href=\"http://stackoverflow.com/questions/34208122/jpa-insertable-and-updatable-with-view-and-secondarytable\" title=\"jpa insertable and updatable with view and secondarytable\">stackoverflow.com/questions/34208122/&hellip;</a>"},{"owner":{"account_id":1434762,"reputation":22772,"user_id":1356423,"accept_rate":65,"display_name":"Alan Hay"},"score":0,"creation_date":1462957606,"post_id":37157291,"comment_id":61851991,"body_markdown":"As an alternative you could map as a `@OneToOne` relationship with no cascade rather than as a `@SecondaryTable`. I think this would fix the issue.","body":"As an alternative you could map as a <code>@OneToOne</code> relationship with no cascade rather than as a <code>@SecondaryTable</code>. I think this would fix the issue."},{"owner":{"account_id":160350,"reputation":11421,"user_id":380338,"display_name":"Neil Stockton"},"score":0,"creation_date":1462958866,"post_id":37157291,"comment_id":61852841,"body_markdown":"if you&#39;re persisting an object, where do you expect that objects entry in the SecondaryTable to come from if you want to prevent it inserting ?","body":"if you&#39;re persisting an object, where do you expect that objects entry in the SecondaryTable to come from if you want to prevent it inserting ?"},{"owner":{"account_id":1761635,"reputation":1509,"user_id":1608594,"accept_rate":86,"display_name":"carbolymer"},"score":0,"creation_date":1462959743,"post_id":37157291,"comment_id":61853433,"body_markdown":"@AlanHay, It is no possible to map integer using one to one relationship.","body":"@AlanHay, It is no possible to map integer using one to one relationship."},{"owner":{"account_id":1761635,"reputation":1509,"user_id":1608594,"accept_rate":86,"display_name":"carbolymer"},"score":0,"creation_date":1462959927,"post_id":37157291,"comment_id":61853563,"body_markdown":"@NeilStockton , you&#39;re not serious, right? If you are, here is my explanation: **VIEW_TWO** is a view which performs quite complex aggregating operation which also joins table **ONE** - hence it will **always** contain one row for **every** row in the table **ONE**","body":"@NeilStockton , you&#39;re not serious, right? If you are, here is my explanation: <b>VIEW_TWO</b> is a view which performs quite complex aggregating operation which also joins table <b>ONE</b> - hence it will <b>always</b> contain one row for <b>every</b> row in the table <b>ONE</b>"},{"owner":{"account_id":1434762,"reputation":22772,"user_id":1356423,"accept_rate":65,"display_name":"Alan Hay"},"score":0,"creation_date":1462960008,"post_id":37157291,"comment_id":61853615,"body_markdown":"View Two becomes an Entity and you map a one to one to that Entity.","body":"View Two becomes an Entity and you map a one to one to that Entity."},{"owner":{"account_id":1761635,"reputation":1509,"user_id":1608594,"accept_rate":86,"display_name":"carbolymer"},"score":0,"creation_date":1462960185,"post_id":37157291,"comment_id":61853758,"body_markdown":"@AlanHay that&#39;s overcomplicated. VIEW_TWO has only two columns: **ONE_ID** and **PROGRESS**. I want to map single column to a field in my entity.","body":"@AlanHay that&#39;s overcomplicated. VIEW_TWO has only two columns: <b>ONE_ID</b> and <b>PROGRESS</b>. I want to map single column to a field in my entity."},{"owner":{"account_id":1434762,"reputation":22772,"user_id":1356423,"accept_rate":65,"display_name":"Alan Hay"},"score":0,"creation_date":1462960292,"post_id":37157291,"comment_id":61853831,"body_markdown":"Maybe, but it will work: unlike your current solution. Sorry I tried to help.","body":"Maybe, but it will work: unlike your current solution. Sorry I tried to help."},{"owner":{"account_id":1761635,"reputation":1509,"user_id":1608594,"accept_rate":86,"display_name":"carbolymer"},"score":0,"creation_date":1462960428,"post_id":37157291,"comment_id":61853925,"body_markdown":"@AlanHay I appreciate that. Thanks for your input. :)","body":"@AlanHay I appreciate that. Thanks for your input. :)"},{"owner":{"account_id":1434762,"reputation":22772,"user_id":1356423,"accept_rate":65,"display_name":"Alan Hay"},"score":1,"creation_date":1462960552,"post_id":37157291,"comment_id":61854015,"body_markdown":"Other solution is to use Hibernate specific non-JPA `@Formula` column. `@SecondaryTable` is not going to work.","body":"Other solution is to use Hibernate specific non-JPA <code>@Formula</code> column. <code>@SecondaryTable</code> is not going to work."},{"owner":{"account_id":1434762,"reputation":22772,"user_id":1356423,"accept_rate":65,"display_name":"Alan Hay"},"score":0,"creation_date":1476387268,"post_id":37157291,"comment_id":67336092,"body_markdown":"@carbolymer Bit late but see my update which explains how to fix the issue using `@SecondaryTable` rather than `@OneToOne`","body":"@carbolymer Bit late but see my update which explains how to fix the issue using <code>@SecondaryTable</code> rather than <code>@OneToOne</code>"}],"answers":[{"tags":[],"owner":{"account_id":1434762,"reputation":22772,"user_id":1356423,"accept_rate":65,"display_name":"Alan Hay"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1476387498,"creation_date":1462964608,"answer_id":37160701,"question_id":37157291,"body_markdown":"&gt; As far as I know, the annotation `@PrimaryKeyJoinColumn` marks selected\r\n&gt; column as insertable=false and updatable=false.\r\n\r\nI do not believe this can be the case: how then do we get records inserted into the `@SecondaryTable` when it is an actual table rather than a view?\r\n\r\nAs neither `@SecondaryTable` or `@PrimarykeyJoinColumn` have a means to prevent insert then it would appear that your original solution is not going to work and an alternative is required.\r\n\r\nOne option is to map VIEW_TWO as an `@Entity` and link to your class `CPBracket` as a `@OneToOne` relationship with cascade options set to none.\r\n\r\n    @Entity\r\n    @Table(name =&quot;VIEW_TWO&quot;)\r\n    private CpBracketSummaryData(){\r\n    \t\r\n    }\r\n    \r\n    \r\n    @Entity\r\n    @Table(name = &quot;ONE&quot;)\r\n    public class CpBracket {\r\n    \t\r\n    \t@OneToOne\r\n        @PrimaryKeyJoinColumn\r\n    \tprivate CPBracketSummaryData summaryData;\r\n    \t\r\n    \tpublic int getSomeValue(){\r\n    \t\treturn summaryData.getSomeValue();\r\n    \t}\r\n    }\r\n\r\nThe second option would be to use the non JPA compliant, Hibernate specific `@Formula` annotation.\r\n\r\n    @Entity\r\n    @Table(name = &quot;ONE&quot;)\r\n    public class CpBracket {\r\n    \r\n           @Formula(&quot;native sql query&quot;)\r\n           private int someValue;\r\n    }\r\n\r\nUpdate October 2016\r\n-------------------\r\n\r\nI have revisited this in both Hibernate 4.3.10.Final and 5.1.0.Final and it is possible to have the view as a `@SecondaryTable` without the insert: *if you have the correct mappings*.\r\n\r\n**Scenario 1**\r\n\r\nLoad an entity for edit and do not touch any fields mapped to the secondary table. No update is issued to the secondary table\r\n\r\n**Scenario 2**\r\n\r\nCreate and save a new entity and do not set any fields mapped to the secondary table. No insert is issued for the secondary table\r\n\r\n**Scenario 3**\r\n\r\nCreate or update an entity including a field mapped to a secondary table and where this field is marked as insertable = false and updateable = false. An insert **is** made to the secondary table only for the ID field -the  behaviour reported in the original question.\r\n\r\nThe issue with the mapping in the original question is the fact that the secondary table field is a primitive type and therefore when saving a new entity Hibernate does think a record has to be written to the secondary table with a value of zero.\r\n\r\n    @Column(name=&quot;progress&quot;, table=&quot;VIEW_TWO&quot;, updatable = false, insertable = false)\r\n    private int progress = 0;\r\n\r\nThe solution then is to replace primitives with the corresponding wrapper types and leave  them as null. Then when saving a new record there is nothing to write to the secondary table and no insert will be made:\r\n\r\n    @Column(name=&quot;progress&quot;, table=&quot;VIEW_TWO&quot;)\r\n    private Integer progress;\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"JPA secondary table as read only view - hibernate still tries to insert rows","body":"<blockquote>\n  <p>As far as I know, the annotation <code>@PrimaryKeyJoinColumn</code> marks selected\n  column as insertable=false and updatable=false.</p>\n</blockquote>\n\n<p>I do not believe this can be the case: how then do we get records inserted into the <code>@SecondaryTable</code> when it is an actual table rather than a view?</p>\n\n<p>As neither <code>@SecondaryTable</code> or <code>@PrimarykeyJoinColumn</code> have a means to prevent insert then it would appear that your original solution is not going to work and an alternative is required.</p>\n\n<p>One option is to map VIEW_TWO as an <code>@Entity</code> and link to your class <code>CPBracket</code> as a <code>@OneToOne</code> relationship with cascade options set to none.</p>\n\n<pre><code>@Entity\n@Table(name =\"VIEW_TWO\")\nprivate CpBracketSummaryData(){\n\n}\n\n\n@Entity\n@Table(name = \"ONE\")\npublic class CpBracket {\n\n    @OneToOne\n    @PrimaryKeyJoinColumn\n    private CPBracketSummaryData summaryData;\n\n    public int getSomeValue(){\n        return summaryData.getSomeValue();\n    }\n}\n</code></pre>\n\n<p>The second option would be to use the non JPA compliant, Hibernate specific <code>@Formula</code> annotation.</p>\n\n<pre><code>@Entity\n@Table(name = \"ONE\")\npublic class CpBracket {\n\n       @Formula(\"native sql query\")\n       private int someValue;\n}\n</code></pre>\n\n<h2>Update October 2016</h2>\n\n<p>I have revisited this in both Hibernate 4.3.10.Final and 5.1.0.Final and it is possible to have the view as a <code>@SecondaryTable</code> without the insert: <em>if you have the correct mappings</em>.</p>\n\n<p><strong>Scenario 1</strong></p>\n\n<p>Load an entity for edit and do not touch any fields mapped to the secondary table. No update is issued to the secondary table</p>\n\n<p><strong>Scenario 2</strong></p>\n\n<p>Create and save a new entity and do not set any fields mapped to the secondary table. No insert is issued for the secondary table</p>\n\n<p><strong>Scenario 3</strong></p>\n\n<p>Create or update an entity including a field mapped to a secondary table and where this field is marked as insertable = false and updateable = false. An insert <strong>is</strong> made to the secondary table only for the ID field -the  behaviour reported in the original question.</p>\n\n<p>The issue with the mapping in the original question is the fact that the secondary table field is a primitive type and therefore when saving a new entity Hibernate does think a record has to be written to the secondary table with a value of zero.</p>\n\n<pre><code>@Column(name=\"progress\", table=\"VIEW_TWO\", updatable = false, insertable = false)\nprivate int progress = 0;\n</code></pre>\n\n<p>The solution then is to replace primitives with the corresponding wrapper types and leave  them as null. Then when saving a new record there is nothing to write to the secondary table and no insert will be made:</p>\n\n<pre><code>@Column(name=\"progress\", table=\"VIEW_TWO\")\nprivate Integer progress;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9701034,"reputation":518,"user_id":7195986,"display_name":"Peter1982"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654811000,"creation_date":1654811000,"answer_id":72566966,"question_id":37157291,"body_markdown":"I solved a similar problem with @SecondaryTable, which was a database view. So maybe it will help someone else. \r\n\r\nThe problem was on cascade delete to @SecondaryTable, when record from primary table was deleted. \r\n\r\nAs a solution, I implemented RULE on view for delete\r\n\r\n    CREATE RULE on_delete AS ON DELETE TO my_view DO INSTEAD(\r\n        select 1;\r\n    )\r\n\r\nSimilar solution can be used for INSERT and UPDATE operation on view.\r\n","title":"JPA secondary table as read only view - hibernate still tries to insert rows","body":"<p>I solved a similar problem with @SecondaryTable, which was a database view. So maybe it will help someone else.</p>\n<p>The problem was on cascade delete to @SecondaryTable, when record from primary table was deleted.</p>\n<p>As a solution, I implemented RULE on view for delete</p>\n<pre><code>CREATE RULE on_delete AS ON DELETE TO my_view DO INSTEAD(\n    select 1;\n)\n</code></pre>\n<p>Similar solution can be used for INSERT and UPDATE operation on view.</p>\n"}],"owner":{"account_id":1761635,"reputation":1509,"user_id":1608594,"accept_rate":86,"display_name":"carbolymer"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6262,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":37160701,"answer_count":2,"score":5,"last_activity_date":1654811000,"creation_date":1462956068,"question_id":37157291,"body_markdown":"I&#39;ve got the following entity:\r\n\r\n    @Entity\r\n    @Table(name = &quot;ONE&quot;)\r\n    @SecondaryTable(name = &quot;VIEW_TWO&quot;, pkJoinColumns = @PrimaryKeyJoinColumn(name=&quot;ONE_ID&quot;))\r\n    public class CpBracket {\r\n\r\n    @Id\r\n    private Long id;\r\n\r\n    @Column(name=&quot;progress&quot;, table=&quot;VIEW_TWO&quot;, updatable = false, insertable = false)\r\n    private int progress = 0;\r\n\r\n    (...)\r\n    }\r\n\r\nAs you see, this entity uses table **ONE** and (read only) view **VIEW_TWO**. When I&#39;m persisting the entity, hibernate is performing insert into view:\r\n\r\n    insert into VIEW_TWO (ONE_ID) values (?)\r\n\r\nIt is ignoring the non-updatable and non-insertable column **progress** (that&#39;s good) and it is still trying to insert value of **ONE_ID** column. As far as I know, the annotation @PrimaryKeyJoinColumn marks selected column as **insertable=false** and **updatable=false**.\r\n\r\nHow can I prevent hibernate from inserting rows into secondary table (view)?","title":"JPA secondary table as read only view - hibernate still tries to insert rows","body":"<p>I've got the following entity:</p>\n\n<pre><code>@Entity\n@Table(name = \"ONE\")\n@SecondaryTable(name = \"VIEW_TWO\", pkJoinColumns = @PrimaryKeyJoinColumn(name=\"ONE_ID\"))\npublic class CpBracket {\n\n@Id\nprivate Long id;\n\n@Column(name=\"progress\", table=\"VIEW_TWO\", updatable = false, insertable = false)\nprivate int progress = 0;\n\n(...)\n}\n</code></pre>\n\n<p>As you see, this entity uses table <strong>ONE</strong> and (read only) view <strong>VIEW_TWO</strong>. When I'm persisting the entity, hibernate is performing insert into view:</p>\n\n<pre><code>insert into VIEW_TWO (ONE_ID) values (?)\n</code></pre>\n\n<p>It is ignoring the non-updatable and non-insertable column <strong>progress</strong> (that's good) and it is still trying to insert value of <strong>ONE_ID</strong> column. As far as I know, the annotation @PrimaryKeyJoinColumn marks selected column as <strong>insertable=false</strong> and <strong>updatable=false</strong>.</p>\n\n<p>How can I prevent hibernate from inserting rows into secondary table (view)?</p>\n"},{"tags":["java","twilio","twilio-api"],"comments":[{"owner":{"account_id":13978,"reputation":71446,"user_id":28376,"accept_rate":86,"display_name":"philnash"},"score":0,"creation_date":1654827042,"post_id":72566869,"comment_id":128190381,"body_markdown":"Is it possible that the person being called doesn&#39;t answer, but their voicemail does? To Twilio, an answered call is an answered call, regardless of whether it&#39;s a person or a machine, and that might trigger the call being recorded as a complete call. Alternatively, if you really want to dig into this, I recommend getting in touch with [Twilio support](https://www.twilio.com/help/contact) and providing CallSids where this happened.","body":"Is it possible that the person being called doesn&#39;t answer, but their voicemail does? To Twilio, an answered call is an answered call, regardless of whether it&#39;s a person or a machine, and that might trigger the call being recorded as a complete call. Alternatively, if you really want to dig into this, I recommend getting in touch with <a href=\"https://www.twilio.com/help/contact\" rel=\"nofollow noreferrer\">Twilio support</a> and providing CallSids where this happened."},{"owner":{"account_id":5762317,"reputation":193,"user_id":4548319,"accept_rate":30,"display_name":"sleb"},"score":0,"creation_date":1654855834,"post_id":72566869,"comment_id":128197153,"body_markdown":"I tested this scenario with the same callee phone - when I called via Number noun I got &quot;no-answer&quot; call status as it should be, but conference participant call in the same conditions returned only &quot;completed&quot; status. Yes, I probably try to contact Twilio support.","body":"I tested this scenario with the same callee phone - when I called via Number noun I got &quot;no-answer&quot; call status as it should be, but conference participant call in the same conditions returned only &quot;completed&quot; status. Yes, I probably try to contact Twilio support."}],"owner":{"account_id":5762317,"reputation":193,"user_id":4548319,"accept_rate":30,"display_name":"sleb"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":154,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654810361,"creation_date":1654810361,"question_id":72566869,"body_markdown":"In my Java application I make a call via Twilio to person A. Once they answer I create a conference:\r\n\r\n                    Dial.Builder dial = new Dial.Builder()\r\n                            .action(actionUrl)\r\n                            .timeout(timeout)\r\n                            .callerId(callBackNumber);\r\n    \r\n                    Conference conference = new Conference.Builder(&quot;MyConference&quot;)\r\n                            .statusCallback(statusCallbackUrl)\r\n                            .statusCallbackEvents(Arrays.asList(Conference.ConferenceEvent.values()))\r\n                            .build();\r\n                    dial = dial.conference(conference);\r\n                    return new VoiceResponse.Builder().dial(dial.build());\r\nThen, when event with conferenceSid comes from Twilio I call person B to add them as participant:\r\n\r\n                    Participant participant = Participant.creator(\r\n                            conferenceSid,\r\n                            new com.twilio.type.PhoneNumber(fromPhoneNumber),\r\n                            new com.twilio.type.PhoneNumber(toPhoneNumber))\r\n                            .setStatusCallback(statusCallbackUrl)\r\n                            .setStatusCallbackEvent(Arrays.asList(&quot;initiated ringing answered completed&quot;.split(&quot; &quot;)))\r\n                            .setRecord(true)\r\n                            .create();\r\n\r\nThe problem is that when person B does not answer the call, I don&#39;t get &quot;no-answer&quot; as CallStatus when Twilio sends request to my statusCallbackUrl. It&#39;s only &quot;completed&quot; status I get at the end. I get &quot;no-answer&quot; status only if I dial person B via Number noun, without conference (but I need conference call). Maybe I&#39;m doing something wrong? Any help and suggestions would be appreciated.","title":"Twilio conference participant does not return &quot;no-answer&quot; call status","body":"<p>In my Java application I make a call via Twilio to person A. Once they answer I create a conference:</p>\n<pre><code>                Dial.Builder dial = new Dial.Builder()\n                        .action(actionUrl)\n                        .timeout(timeout)\n                        .callerId(callBackNumber);\n\n                Conference conference = new Conference.Builder(&quot;MyConference&quot;)\n                        .statusCallback(statusCallbackUrl)\n                        .statusCallbackEvents(Arrays.asList(Conference.ConferenceEvent.values()))\n                        .build();\n                dial = dial.conference(conference);\n                return new VoiceResponse.Builder().dial(dial.build());\n</code></pre>\n<p>Then, when event with conferenceSid comes from Twilio I call person B to add them as participant:</p>\n<pre><code>                Participant participant = Participant.creator(\n                        conferenceSid,\n                        new com.twilio.type.PhoneNumber(fromPhoneNumber),\n                        new com.twilio.type.PhoneNumber(toPhoneNumber))\n                        .setStatusCallback(statusCallbackUrl)\n                        .setStatusCallbackEvent(Arrays.asList(&quot;initiated ringing answered completed&quot;.split(&quot; &quot;)))\n                        .setRecord(true)\n                        .create();\n</code></pre>\n<p>The problem is that when person B does not answer the call, I don't get &quot;no-answer&quot; as CallStatus when Twilio sends request to my statusCallbackUrl. It's only &quot;completed&quot; status I get at the end. I get &quot;no-answer&quot; status only if I dial person B via Number noun, without conference (but I need conference call). Maybe I'm doing something wrong? Any help and suggestions would be appreciated.</p>\n"},{"tags":["java","methods"],"comments":[{"owner":{"account_id":1938802,"reputation":12091,"user_id":1745544,"accept_rate":23,"display_name":"OldProgrammer"},"score":2,"creation_date":1654807642,"post_id":72566436,"comment_id":128186950,"body_markdown":"Arrays.toString(A)","body":"Arrays.toString(A)"}],"answers":[{"tags":[],"owner":{"account_id":23837295,"reputation":308,"user_id":17842877,"display_name":"xthe_white_lionx"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654809662,"creation_date":1654809662,"answer_id":72566767,"question_id":72566436,"body_markdown":"if you don&#39;t want to hard code the alphabet\r\n\r\n    public char[] getAlphabetArray() {\r\n            char[] letters = new char[122 - 97];\r\n            for (int i = 0; i &lt; letters.length; i++) {\r\n                letters[i] = (char) (97 + i);\r\n            }\r\n            return letters;\r\n        }\r\n\r\nAnd use this to print an array\r\n\r\n    Arrays.toString(getAlphabetArray())","title":"displaying the alphabet with arrays and methods","body":"<p>if you don't want to hard code the alphabet</p>\n<pre><code>public char[] getAlphabetArray() {\n        char[] letters = new char[122 - 97];\n        for (int i = 0; i &lt; letters.length; i++) {\n            letters[i] = (char) (97 + i);\n        }\n        return letters;\n    }\n</code></pre>\n<p>And use this to print an array</p>\n<pre><code>Arrays.toString(getAlphabetArray())\n</code></pre>\n"}],"owner":{"account_id":25285672,"reputation":1,"user_id":19112714,"display_name":"angel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":114,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1654816265,"answer_count":1,"score":-2,"last_activity_date":1654809662,"creation_date":1654807354,"question_id":72566436,"body_markdown":"package Exercises;\r\n\r\npublic class Challenge9 {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\t//create class instance\r\n\t\tChallenge9 al = new Challenge9();\r\n\t\t\r\n\t\t//call the first method\r\n\t\t//al.returnAlphabetArray();\r\n\t\t\r\n\t\t//call second method\r\n\t\t\tchar[] A = al.getAlphabetArray();\r\n\t\t\tSystem.out.println(&quot;The letters of the alphabet are: &quot; + A);\r\n\t}\r\n\t//public void returnAlphabetArray() {\r\n\t\t//System.out.println(&quot;Read the alphabet&quot;);\r\n\t//}\r\n\tpublic char[] getAlphabetArray() { //create first method\r\n\t\tchar[] letters = {&#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;, &#39;e&#39;, &#39;f&#39;, &#39;g&#39;, &#39;h&#39;, &#39;i&#39;, &#39;j&#39;, &#39;k&#39;, &#39;l&#39;, &#39;m&#39;, &#39;n&#39;, &#39;o&#39;, &#39;p&#39;, &#39;q&#39;, &#39;r&#39;, &#39;s&#39;, &#39;t&#39;, &#39;u&#39;, &#39;v&#39;, &#39;w&#39;, &#39;x&#39;, &#39;y&#39;, &#39;z&#39;};\r\n\t\treturn letters;\r\n\t}\r\n}\r\n\r\n\r\n **I want to display the letters of the alphabet but why am I getting this output after the string: &quot;[C@3d012ddd&quot; ?**","title":"displaying the alphabet with arrays and methods","body":"<p>package Exercises;</p>\n<p>public class Challenge9 {</p>\n<pre><code>public static void main(String[] args) {\n    // TODO Auto-generated method stub\n    //create class instance\n    Challenge9 al = new Challenge9();\n    \n    //call the first method\n    //al.returnAlphabetArray();\n    \n    //call second method\n        char[] A = al.getAlphabetArray();\n        System.out.println(&quot;The letters of the alphabet are: &quot; + A);\n}\n//public void returnAlphabetArray() {\n    //System.out.println(&quot;Read the alphabet&quot;);\n//}\npublic char[] getAlphabetArray() { //create first method\n    char[] letters = {'a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k', 'l', 'm', 'n', 'o', 'p', 'q', 'r', 's', 't', 'u', 'v', 'w', 'x', 'y', 'z'};\n    return letters;\n}\n</code></pre>\n<p>}</p>\n<p><strong>I want to display the letters of the alphabet but why am I getting this output after the string: &quot;[C@3d012ddd&quot; ?</strong></p>\n"},{"tags":["java","powershell","azure-devops","azure-pipelines"],"comments":[{"owner":{"account_id":12601407,"reputation":3070,"user_id":9164015,"display_name":"Ash"},"score":0,"creation_date":1648122922,"post_id":71601610,"comment_id":126547067,"body_markdown":"Can you not use the task? [Java Tool Installer](https://learn.microsoft.com/en-us/azure/devops/pipelines/tasks/tool/java-tool-installer?view=azure-devops)","body":"Can you not use the task? <a href=\"https://learn.microsoft.com/en-us/azure/devops/pipelines/tasks/tool/java-tool-installer?view=azure-devops\" rel=\"nofollow noreferrer\">Java Tool Installer</a>"},{"owner":{"account_id":4196295,"reputation":450,"user_id":3437628,"accept_rate":40,"display_name":"Jason_Hough"},"score":0,"creation_date":1648122988,"post_id":71601610,"comment_id":126547093,"body_markdown":"No! Cos the management want the latest LTS version.. I keep saying that would be the easiest option!","body":"No! Cos the management want the latest LTS version.. I keep saying that would be the easiest option!"},{"owner":{"account_id":12601407,"reputation":3070,"user_id":9164015,"display_name":"Ash"},"score":1,"creation_date":1648123493,"post_id":71601610,"comment_id":126547286,"body_markdown":"One thing you could do is have a pre-task that downloads your latest version and moves it temporarily to a storage account (using azcopy). If you save the file name as a variable, you could still use the Java Tool Installer task. It just seems convenient that you don&#39;t have to worry about setting the environment variables.","body":"One thing you could do is have a pre-task that downloads your latest version and moves it temporarily to a storage account (using azcopy). If you save the file name as a variable, you could still use the Java Tool Installer task. It just seems convenient that you don&#39;t have to worry about setting the environment variables."},{"owner":{"account_id":4196295,"reputation":450,"user_id":3437628,"accept_rate":40,"display_name":"Jason_Hough"},"score":0,"creation_date":1648123691,"post_id":71601610,"comment_id":126547355,"body_markdown":"that an idea :)","body":"that an idea :)"}],"owner":{"account_id":4196295,"reputation":450,"user_id":3437628,"accept_rate":40,"display_name":"Jason_Hough"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":256,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654809533,"creation_date":1648121114,"question_id":71601610,"body_markdown":"I am using an PowerShell command to download the latest version of OpenJDK (bits download) \r\n\r\n    Start-BitsTransfer -Source &quot;https://aka.ms/download-jdk/microsoft-jdk-17-windows-x64.zip&quot;\r\n\r\nAnd then I am unzipping it like this : \r\n\r\n    Expand-Archive -Path $(Build.SourcesDirectory)/$(zipFile) -DestinationPath $(Build.SourcesDirectory)/Java\r\n\r\nAnd then I am setting the Java environmental variables like this :\r\n\r\n    $JavaHome = &#39;$(Build.SourcesDirectory)&#39; + &quot;\\&quot; + &quot;Java&quot; + &quot;\\&quot; + &quot;jdk-17.0.2+8&quot;\r\n    \r\n    [System.Environment]::SetEnvironmentVariable(&quot;JAVA_HOME&quot;, $JavaHome)\r\n    \r\n    [System.Environment]::SetEnvironmentVariable(&quot;Path&quot;, [System.Environment]::GetEnvironmentVariable(&#39;Path&#39;, [System.EnvironmentVariableTarget]::Machine) + &quot;;$($env:JAVA_HOME)\\bin&quot;)\r\n\r\nThen lastly I am using the version check in Java to see what version i am using and I get this : \r\n\r\n    openjdk version &quot;1.8.0_322&quot;\r\n    OpenJDK Runtime Environment (Temurin)(build 1.8.0_322-b06)\r\n    OpenJDK 64-Bit Server VM (Temurin)(build 25.322-b06, mixed mode)\r\n\r\nThis is not the one I downloaded, I downloaded\r\n\r\n    openjdk 17.0.2 2022-01-18 LTS\r\n\r\nSo I am sure within my pipeline it is using the Java that was on the machine already. So how can I make sure it is using the one I have downloaded and set the environmental variables up for. If I check on my pipeline I cannot see a JAVA PATH at all - so it must be using mine. \r\n\r\nThe only reason I am using the downloaded one is so I can use the latest (LTS) when it comes available. \r\n","title":"Using OpenJDK (Microsoft Java) in an Dev Ops Pipeline","body":"<p>I am using an PowerShell command to download the latest version of OpenJDK (bits download)</p>\n<pre><code>Start-BitsTransfer -Source &quot;https://aka.ms/download-jdk/microsoft-jdk-17-windows-x64.zip&quot;\n</code></pre>\n<p>And then I am unzipping it like this :</p>\n<pre><code>Expand-Archive -Path $(Build.SourcesDirectory)/$(zipFile) -DestinationPath $(Build.SourcesDirectory)/Java\n</code></pre>\n<p>And then I am setting the Java environmental variables like this :</p>\n<pre><code>$JavaHome = '$(Build.SourcesDirectory)' + &quot;\\&quot; + &quot;Java&quot; + &quot;\\&quot; + &quot;jdk-17.0.2+8&quot;\n\n[System.Environment]::SetEnvironmentVariable(&quot;JAVA_HOME&quot;, $JavaHome)\n\n[System.Environment]::SetEnvironmentVariable(&quot;Path&quot;, [System.Environment]::GetEnvironmentVariable('Path', [System.EnvironmentVariableTarget]::Machine) + &quot;;$($env:JAVA_HOME)\\bin&quot;)\n</code></pre>\n<p>Then lastly I am using the version check in Java to see what version i am using and I get this :</p>\n<pre><code>openjdk version &quot;1.8.0_322&quot;\nOpenJDK Runtime Environment (Temurin)(build 1.8.0_322-b06)\nOpenJDK 64-Bit Server VM (Temurin)(build 25.322-b06, mixed mode)\n</code></pre>\n<p>This is not the one I downloaded, I downloaded</p>\n<pre><code>openjdk 17.0.2 2022-01-18 LTS\n</code></pre>\n<p>So I am sure within my pipeline it is using the Java that was on the machine already. So how can I make sure it is using the one I have downloaded and set the environmental variables up for. If I check on my pipeline I cannot see a JAVA PATH at all - so it must be using mine.</p>\n<p>The only reason I am using the downloaded one is so I can use the latest (LTS) when it comes available.</p>\n"},{"tags":["java","json","spring-boot","parsing","jackson"],"comments":[{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1654791269,"post_id":72563550,"comment_id":128181888,"body_markdown":"Please clarify. Do you want the raw JSON objects in `payload`&#39;s JSON array as as Java `String` values in the `transactionsList` array?","body":"Please clarify. Do you want the raw JSON objects in <code>payload</code>&#39;s JSON array as as Java <code>String</code> values in the <code>transactionsList</code> array?"},{"owner":{"account_id":5023461,"reputation":63,"user_id":4036247,"display_name":"Vikrant"},"score":0,"creation_date":1654792485,"post_id":72563550,"comment_id":128182351,"body_markdown":"@SotiriosDelimanolis Yes. I need it as String array or List of String while preserving the JSON format.","body":"@SotiriosDelimanolis Yes. I need it as String array or List of String while preserving the JSON format."},{"owner":{"account_id":10592234,"reputation":776,"user_id":7802372,"accept_rate":50,"display_name":"f.trajkovski"},"score":0,"creation_date":1654800559,"post_id":72563550,"comment_id":128184897,"body_markdown":"@Vikrant I can&#39;t understand what content do you want to have in the transactionsList ? Something like: &quot;1&quot;,&quot;null&quot;,&quot;A1&quot;, [all elements from the array], whatNext ? Why don&#39;t you create appropriate object that will be just from conversion this Json into object and then convert that object in something that you want. It is much easier to achieve some things in java","body":"@Vikrant I can&#39;t understand what content do you want to have in the transactionsList ? Something like: &quot;1&quot;,&quot;null&quot;,&quot;A1&quot;, [all elements from the array], whatNext ? Why don&#39;t you create appropriate object that will be just from conversion this Json into object and then convert that object in something that you want. It is much easier to achieve some things in java"},{"owner":{"account_id":5023461,"reputation":63,"user_id":4036247,"display_name":"Vikrant"},"score":0,"creation_date":1654800982,"post_id":72563550,"comment_id":128185027,"body_markdown":"@f.trajkovski, My program is like splitter, I don&#39;t need to know the content(which may change anytime).\nSo, I am trying to get List&lt;String&gt; or String[] as below -\n\n{&quot;id&quot;: 1,&quot;userName&quot;: null,&quot;arName&quot;: &quot;A1&quot;,&quot;areas&quot;: []}\n{&quot;id&quot;: 2,&quot;userName&quot;: &quot;alpha2&quot;,&quot;arName&quot;: &quot;A2&quot;,&quot;areas&quot;: []}","body":"@f.trajkovski, My program is like splitter, I don&#39;t need to know the content(which may change anytime). So, I am trying to get List&lt;String&gt; or String[] as below -  {&quot;id&quot;: 1,&quot;userName&quot;: null,&quot;arName&quot;: &quot;A1&quot;,&quot;areas&quot;: []} {&quot;id&quot;: 2,&quot;userName&quot;: &quot;alpha2&quot;,&quot;arName&quot;: &quot;A2&quot;,&quot;areas&quot;: []}"}],"answers":[{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1654809411,"creation_date":1654809411,"answer_id":72566736,"question_id":72563550,"body_markdown":"You can write custom deserializer:\r\n```\r\n  public class JsonObjectListDeserializer extends StdDeserializer&lt;List&lt;String&gt;&gt; {\r\n\r\n    public JsonObjectListDeserializer() {\r\n      super(List.class);\r\n    }\r\n\r\n    @Override\r\n    public List&lt;String&gt; deserialize(JsonParser parser, DeserializationContext context) throws IOException, JacksonException {\r\n      JsonNode node = parser.getCodec().readTree(parser);\r\n      List&lt;String&gt; result = new ArrayList&lt;&gt;();\r\n      if (node.isArray()) {\r\n        for (JsonNode element : node) {\r\n          result.add(element.toString());\r\n        }\r\n      } else if (node.isObject()) {\r\n        result.add(node.toString());\r\n      } else {\r\n        //maybe nothing?\r\n      }\r\n      return result;\r\n    }\r\n  }\r\n```\r\n`JsonNode.toString()` returns json representation of the node, like this you revert the node back to json to save in list.\r\n\r\nThen register the deserializer only for this particular field.\r\n```\r\npublic static class Response {\r\n\r\n    @JsonProperty(&quot;count&quot;)\r\n    private int totalCount;\r\n\r\n    @JsonProperty(&quot;respCode&quot;)\r\n    private int responseCode;\r\n\r\n    @JsonProperty(&quot;payLoad&quot;)\r\n    @JsonDeserialize(using = JsonObjectListDeserializer.class)\r\n    private List&lt;String&gt; transactionsList;\r\n\r\n    //getters, setters, etc.\r\n  }\r\n```","title":"Cannot deserialize value of type `[Ljava.lang.String;` from Object value (token `JsonToken.START_OBJECT`)","body":"<p>You can write custom deserializer:</p>\n<pre><code>  public class JsonObjectListDeserializer extends StdDeserializer&lt;List&lt;String&gt;&gt; {\n\n    public JsonObjectListDeserializer() {\n      super(List.class);\n    }\n\n    @Override\n    public List&lt;String&gt; deserialize(JsonParser parser, DeserializationContext context) throws IOException, JacksonException {\n      JsonNode node = parser.getCodec().readTree(parser);\n      List&lt;String&gt; result = new ArrayList&lt;&gt;();\n      if (node.isArray()) {\n        for (JsonNode element : node) {\n          result.add(element.toString());\n        }\n      } else if (node.isObject()) {\n        result.add(node.toString());\n      } else {\n        //maybe nothing?\n      }\n      return result;\n    }\n  }\n</code></pre>\n<p><code>JsonNode.toString()</code> returns json representation of the node, like this you revert the node back to json to save in list.</p>\n<p>Then register the deserializer only for this particular field.</p>\n<pre><code>public static class Response {\n\n    @JsonProperty(&quot;count&quot;)\n    private int totalCount;\n\n    @JsonProperty(&quot;respCode&quot;)\n    private int responseCode;\n\n    @JsonProperty(&quot;payLoad&quot;)\n    @JsonDeserialize(using = JsonObjectListDeserializer.class)\n    private List&lt;String&gt; transactionsList;\n\n    //getters, setters, etc.\n  }\n</code></pre>\n"}],"owner":{"account_id":5023461,"reputation":63,"user_id":4036247,"display_name":"Vikrant"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15650,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":72566736,"answer_count":1,"score":3,"last_activity_date":1654809411,"creation_date":1654791112,"question_id":72563550,"body_markdown":"I am trying to parse the following JSON to POJO, specifically the payload I want to extract as String[] or List of String without losing the JSON format.\r\n```\r\n{\r\n  &quot;payLoad&quot;: [\r\n    {\r\n      &quot;id&quot;: 1,\r\n      &quot;userName&quot;: null,\r\n      &quot;arName&quot;: &quot;A1&quot;,\r\n      &quot;areas&quot;: []\r\n    },\r\n    {\r\n      &quot;id&quot;: 2,\r\n      &quot;userName&quot;: &quot;alpha2&quot;,\r\n      &quot;arName&quot;: &quot;A2&quot;,\r\n      &quot;areas&quot;: []\r\n    }\r\n  ],\r\n  &quot;count&quot;: 2,\r\n  &quot;respCode&quot;: 200\r\n}\r\n```\r\nHere is the POJO that I am using -\r\n```\r\npublic class Response {\r\n\r\n    @JsonProperty(&quot;count&quot;)\r\n    private int totalCount;\r\n\r\n    @JsonProperty(&quot;respCode&quot;)\r\n    private int responseCode;\r\n\r\n    @JsonProperty(&quot;payLoad&quot;)\r\n    @JsonFormat(with = JsonFormat.Feature.ACCEPT_SINGLE_VALUE_AS_ARRAY)\r\n    private String[] transactionsList;\r\n\r\n    public String[] getTransactionsList() {\r\n        return transactionsList;\r\n    }\r\n\r\n    public void setTransactionsList(String[] transactionsList) {\r\n        this.transactionsList = transactionsList;\r\n    }\r\n..\r\n}\r\n```\r\nThis is method I am using with springboot to parse it automatically to \r\n```\r\npublic void transactionsReceived() throws JsonProcessingException {\r\n\tObjectMapper objectMapper = new ObjectMapper();\r\n\tResponse responseRcvd = objectMapper.readValue(jsonString, Response.class);\t\r\n}\r\n```\r\nHere is an error I am getting -\r\n```\r\n    Exception in thread &quot;main&quot; com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize value of type `[Ljava.lang.String;` from Object value (token `JsonToken.START_OBJECT`)\r\n at [Source: (String)&quot;{&quot;payLoad&quot;: [{&quot;id&quot;: 1,&quot;userName&quot;: null,&quot;arName&quot;: &quot;A1&quot;,&quot;areas&quot;: []},{&quot;id&quot;: 2,&quot;userName&quot;: &quot;alpha2&quot;,&quot;arName&quot;: &quot;A2&quot;,&quot;areas&quot;: []}],&quot;count&quot;: 2,&quot;respCode&quot;: 200}&quot;; line: 1, column: 14] (through reference chain: com.example.demo.model.Response[&quot;payLoad&quot;]-&gt;java.lang.Object[][0])\r\n\tat com.fasterxml.jackson.databind.exc.MismatchedInputException.from(MismatchedInputException.java:59)\r\n\tat com.fasterxml.jackson.databind.DeserializationContext.reportInputMismatch(DeserializationContext.java:1741)..\r\n```","title":"Cannot deserialize value of type `[Ljava.lang.String;` from Object value (token `JsonToken.START_OBJECT`)","body":"<p>I am trying to parse the following JSON to POJO, specifically the payload I want to extract as String[] or List of String without losing the JSON format.</p>\n<pre><code>{\n  &quot;payLoad&quot;: [\n    {\n      &quot;id&quot;: 1,\n      &quot;userName&quot;: null,\n      &quot;arName&quot;: &quot;A1&quot;,\n      &quot;areas&quot;: []\n    },\n    {\n      &quot;id&quot;: 2,\n      &quot;userName&quot;: &quot;alpha2&quot;,\n      &quot;arName&quot;: &quot;A2&quot;,\n      &quot;areas&quot;: []\n    }\n  ],\n  &quot;count&quot;: 2,\n  &quot;respCode&quot;: 200\n}\n</code></pre>\n<p>Here is the POJO that I am using -</p>\n<pre><code>public class Response {\n\n    @JsonProperty(&quot;count&quot;)\n    private int totalCount;\n\n    @JsonProperty(&quot;respCode&quot;)\n    private int responseCode;\n\n    @JsonProperty(&quot;payLoad&quot;)\n    @JsonFormat(with = JsonFormat.Feature.ACCEPT_SINGLE_VALUE_AS_ARRAY)\n    private String[] transactionsList;\n\n    public String[] getTransactionsList() {\n        return transactionsList;\n    }\n\n    public void setTransactionsList(String[] transactionsList) {\n        this.transactionsList = transactionsList;\n    }\n..\n}\n</code></pre>\n<p>This is method I am using with springboot to parse it automatically to</p>\n<pre><code>public void transactionsReceived() throws JsonProcessingException {\n    ObjectMapper objectMapper = new ObjectMapper();\n    Response responseRcvd = objectMapper.readValue(jsonString, Response.class); \n}\n</code></pre>\n<p>Here is an error I am getting -</p>\n<pre><code>    Exception in thread &quot;main&quot; com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize value of type `[Ljava.lang.String;` from Object value (token `JsonToken.START_OBJECT`)\n at [Source: (String)&quot;{&quot;payLoad&quot;: [{&quot;id&quot;: 1,&quot;userName&quot;: null,&quot;arName&quot;: &quot;A1&quot;,&quot;areas&quot;: []},{&quot;id&quot;: 2,&quot;userName&quot;: &quot;alpha2&quot;,&quot;arName&quot;: &quot;A2&quot;,&quot;areas&quot;: []}],&quot;count&quot;: 2,&quot;respCode&quot;: 200}&quot;; line: 1, column: 14] (through reference chain: com.example.demo.model.Response[&quot;payLoad&quot;]-&gt;java.lang.Object[][0])\n    at com.fasterxml.jackson.databind.exc.MismatchedInputException.from(MismatchedInputException.java:59)\n    at com.fasterxml.jackson.databind.DeserializationContext.reportInputMismatch(DeserializationContext.java:1741)..\n</code></pre>\n"},{"tags":["java","apache-camel"],"owner":{"account_id":6207652,"reputation":693,"user_id":4835062,"accept_rate":75,"display_name":"benz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":138,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1654809116,"creation_date":1654772784,"question_id":72559218,"body_markdown":"I have the following scenario. I am working with chained routes  key_123 --&gt; key_345 --&gt; key_678. The onCompletion method\r\nis being called after every route. Is it possible in onCompletion to detect if it is the last route in the chain? Since I want\r\nto remove the correlation_id just at the end of the chain (in this case key_678 route) and not after every route.\r\n\r\n\r\n**Code:**\r\n\r\n\t\tfrom(&quot;quartz://key_123?cron=0+0/10+*+*+*+?+*&quot;)\r\n\t        .\r\n\t\t\t.\r\n\t\t\t.\r\n\t\t.to(&quot;activemq:topic:key_345&quot;);\r\n\t\t\r\n\r\n\t\tfrom(&quot;activemq:topic:key_345&quot;)\r\n            .\r\n\t\t\t.\r\n\t\t\t.\r\n\t\t.to(&quot;direct:key_678&quot;);\r\n\t\t\r\n\t\t\r\n\t\tonCompletion().onCompleteOnly()\r\n   \t\t.process(new Processor() {\r\n\t\t\t@Override\r\n\t\t\tpublic void process(Exchange exchange) throws Exception {\r\n\t\t\t\tCamelContext context = exchange.getContext();\r\n\t\t\t\tBoolean isRunAllowed = context.isRunAllowed();\r\n\t\t\t\tServiceStatus status = context.getStatus();\r\n                //TODO: Check if it is the last route in the chain.\r\n                MDC.remove(&quot;correlation_id&quot;);\r\n\t\t\t}\r\n\t\t});\r\n\r\nIs it possible to detect the first and last route in the chain in Apache Camel?","title":"Apache Camel: detect if it is the last route in the chain","body":"<p>I have the following scenario. I am working with chained routes  key_123 --&gt; key_345 --&gt; key_678. The onCompletion method\nis being called after every route. Is it possible in onCompletion to detect if it is the last route in the chain? Since I want\nto remove the correlation_id just at the end of the chain (in this case key_678 route) and not after every route.</p>\n<p><strong>Code:</strong></p>\n<pre><code>    from(&quot;quartz://key_123?cron=0+0/10+*+*+*+?+*&quot;)\n        .\n        .\n        .\n    .to(&quot;activemq:topic:key_345&quot;);\n    \n\n    from(&quot;activemq:topic:key_345&quot;)\n        .\n        .\n        .\n    .to(&quot;direct:key_678&quot;);\n    \n    \n    onCompletion().onCompleteOnly()\n    .process(new Processor() {\n        @Override\n        public void process(Exchange exchange) throws Exception {\n            CamelContext context = exchange.getContext();\n            Boolean isRunAllowed = context.isRunAllowed();\n            ServiceStatus status = context.getStatus();\n            //TODO: Check if it is the last route in the chain.\n            MDC.remove(&quot;correlation_id&quot;);\n        }\n    });\n</code></pre>\n<p>Is it possible to detect the first and last route in the chain in Apache Camel?</p>\n"},{"tags":["java","swing","jdbc","jframe"],"comments":[{"owner":{"account_id":285919,"reputation":43640,"user_id":584862,"accept_rate":93,"display_name":"mre"},"score":0,"creation_date":1457801171,"post_id":35960292,"comment_id":59576064,"body_markdown":"Why not use [card layout](https://docs.oracle.com/javase/tutorial/uiswing/layout/card.html)?","body":"Why not use <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/card.html\" rel=\"nofollow noreferrer\">card layout</a>?"},{"owner":{"account_id":6977245,"reputation":158,"user_id":5351583,"accept_rate":20,"display_name":"Kira Katou"},"score":0,"creation_date":1457801382,"post_id":35960292,"comment_id":59576142,"body_markdown":"i dont know, is it have another way ? like mine ?","body":"i dont know, is it have another way ? like mine ?"},{"owner":{"account_id":285919,"reputation":43640,"user_id":584862,"accept_rate":93,"display_name":"mre"},"score":0,"creation_date":1457801516,"post_id":35960292,"comment_id":59576182,"body_markdown":"It allows you to have one container with swappable content, which is what I think you&#39;re trying to accomplish with two containers. Simplifies the solution a bit, plus you get the added benefit of using a layout manager instead of having to reinvent the wheel.","body":"It allows you to have one container with swappable content, which is what I think you&#39;re trying to accomplish with two containers. Simplifies the solution a bit, plus you get the added benefit of using a layout manager instead of having to reinvent the wheel."},{"owner":{"account_id":6977245,"reputation":158,"user_id":5351583,"accept_rate":20,"display_name":"Kira Katou"},"score":0,"creation_date":1457801801,"post_id":35960292,"comment_id":59576292,"body_markdown":"can u give me example ? or directly use in my code ? plz :)","body":"can u give me example ? or directly use in my code ? plz :)"},{"owner":{"account_id":285919,"reputation":43640,"user_id":584862,"accept_rate":93,"display_name":"mre"},"score":0,"creation_date":1457801962,"post_id":35960292,"comment_id":59576350,"body_markdown":"There&#39;s an example at the bottom of that page I linked you above.","body":"There&#39;s an example at the bottom of that page I linked you above."},{"owner":{"account_id":4196075,"reputation":17303,"user_id":3437460,"accept_rate":49,"display_name":"user3437460"},"score":0,"creation_date":1457802058,"post_id":35960292,"comment_id":59576396,"body_markdown":"@KiraKatou Why are you using multiple frames? You can have multiple panels and display them accordingly using CardLayout.","body":"@KiraKatou Why are you using multiple frames? You can have multiple panels and display them accordingly using CardLayout."},{"owner":{"account_id":6977245,"reputation":158,"user_id":5351583,"accept_rate":20,"display_name":"Kira Katou"},"score":0,"creation_date":1457802948,"post_id":35960292,"comment_id":59576677,"body_markdown":"@user343760 i dont like card layout display. thats why i use multiple frame","body":"@user343760 i dont like card layout display. thats why i use multiple frame"},{"owner":{"account_id":5847794,"reputation":5365,"user_id":4607417,"accept_rate":67,"display_name":"m.cekiera"},"score":0,"creation_date":1457804440,"post_id":35960292,"comment_id":59577192,"body_markdown":"@KiraKatou you example is not working at all, it is not only about second frame and back button. You should learn Java basics first","body":"@KiraKatou you example is not working at all, it is not only about second frame and back button. You should learn Java basics first"}],"answers":[{"tags":[],"owner":{"account_id":4776333,"reputation":735,"user_id":3859317,"accept_rate":100,"display_name":"Pendula"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1457818714,"creation_date":1457818714,"answer_id":35963615,"question_id":35960292,"body_markdown":"There are many ways to achieve this. One is by making both frames singletons and manipulate with their instances.\r\n\r\nFirst frame:\r\n\r\n    public class First {\r\n    \r\n    \tpublic static First mInstance;\r\n    \tprivate JFrame frame;\r\n    \t\r\n    \t\r\n    \tpublic static First getInstance() {\r\n    \t\tif(mInstance == null) \r\n    \t\t\tmInstance = new First();\r\n    \t\treturn mInstance;\r\n    \t}\r\n    \t\r\n    \tprivate First() {\r\n    \t\tframe = new JFrame(&quot;First&quot;);\r\n    \t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \t\t\r\n    \t\tJButton back = new JButton(&quot;SWITCH&quot;);\r\n    \t\tframe.add(back);\r\n    \t\t\r\n    \t\tframe.pack();\r\n    \t\t\r\n    \t\tframe.setLocationRelativeTo(null);\r\n    \t\tframe.setVisible(true);\r\n    \t\t\r\n    \t\tback.addActionListener(new ActionListener() {\r\n    \t\t\t\r\n    \t\t\t@Override\r\n    \t\t\tpublic void actionPerformed(ActionEvent e) {\r\n    \t\t\t\t// TODO Auto-generated method stub\r\n    \t\t\t\tframe.setVisible(false);\r\n    \t\t\t\tSecond.getInstance().getFrameInstance().setVisible(true);\r\n    \t\t\t}\r\n    \t\t});\r\n    \t}\r\n    \t\r\n    \tpublic JFrame getFrameInstance() {\r\n    \t\treturn frame;\r\n    \t}\r\n    \t\r\n    }\r\n\r\nSecond frame:\r\n\r\n    public class Second {\r\n    \r\n    \tpublic static Second mInstance;\r\n    \tprivate JFrame frame;\r\n    \t\r\n    \t\r\n    \tpublic static Second getInstance() {\r\n    \t\tif(mInstance == null) \r\n    \t\t\tmInstance = new Second();\r\n    \t\treturn mInstance;\r\n    \t}\r\n    \t\r\n    \tprivate Second() {\r\n    \t\tframe = new JFrame();\r\n    \t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \t\t\r\n    \t\tJButton back = new JButton(&quot;SWITCH&quot;);\r\n    \t\tframe.add(back);\r\n    \t\t\r\n    \t\tframe.pack();\r\n    \t\tframe.setLocationRelativeTo(First.getInstance().getFrameInstance());\r\n    \t\tframe.setVisible(true);\r\n    \t\t\r\n    \t\tback.addActionListener(new ActionListener() {\r\n    \t\t\t\r\n    \t\t\t@Override\r\n    \t\t\tpublic void actionPerformed(ActionEvent e) {\r\n    \t\t\t\t// TODO Auto-generated method stub\r\n    \t\t\t\tframe.setVisible(false);\r\n    \t\t\t\tFirst.getInstance().getFrameInstance().setVisible(true);\r\n    \t\t\t}\r\n    \t\t});\r\n    \t}\r\n    \t\r\n    \r\n    \tpublic JFrame getFrameInstance() {\r\n    \t\treturn frame;\r\n    \t}\r\n    }\r\n\r\n","title":"how to make back button work from the second frame to the first frame","body":"<p>There are many ways to achieve this. One is by making both frames singletons and manipulate with their instances.</p>\n\n<p>First frame:</p>\n\n<pre><code>public class First {\n\n    public static First mInstance;\n    private JFrame frame;\n\n\n    public static First getInstance() {\n        if(mInstance == null) \n            mInstance = new First();\n        return mInstance;\n    }\n\n    private First() {\n        frame = new JFrame(\"First\");\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n        JButton back = new JButton(\"SWITCH\");\n        frame.add(back);\n\n        frame.pack();\n\n        frame.setLocationRelativeTo(null);\n        frame.setVisible(true);\n\n        back.addActionListener(new ActionListener() {\n\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                // TODO Auto-generated method stub\n                frame.setVisible(false);\n                Second.getInstance().getFrameInstance().setVisible(true);\n            }\n        });\n    }\n\n    public JFrame getFrameInstance() {\n        return frame;\n    }\n\n}\n</code></pre>\n\n<p>Second frame:</p>\n\n<pre><code>public class Second {\n\n    public static Second mInstance;\n    private JFrame frame;\n\n\n    public static Second getInstance() {\n        if(mInstance == null) \n            mInstance = new Second();\n        return mInstance;\n    }\n\n    private Second() {\n        frame = new JFrame();\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n        JButton back = new JButton(\"SWITCH\");\n        frame.add(back);\n\n        frame.pack();\n        frame.setLocationRelativeTo(First.getInstance().getFrameInstance());\n        frame.setVisible(true);\n\n        back.addActionListener(new ActionListener() {\n\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                // TODO Auto-generated method stub\n                frame.setVisible(false);\n                First.getInstance().getFrameInstance().setVisible(true);\n            }\n        });\n    }\n\n\n    public JFrame getFrameInstance() {\n        return frame;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9096568,"reputation":119,"user_id":6770344,"display_name":"Janindu Praneeth Weerawarnakul"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1540375084,"creation_date":1540367047,"answer_id":52963436,"question_id":35960292,"body_markdown":"Add this sample code inside second `JFrame`&#39;s back button click event listener\r\n\r\n    new Main().setVisible(true);\r\n    this.dispose();\r\n\r\nIn `newMain()` is object of the first `JFrame`.\r\n\r\n","title":"how to make back button work from the second frame to the first frame","body":"<p>Add this sample code inside second <code>JFrame</code>'s back button click event listener</p>\n\n<pre><code>new Main().setVisible(true);\nthis.dispose();\n</code></pre>\n\n<p>In <code>newMain()</code> is object of the first <code>JFrame</code>.</p>\n"}],"owner":{"account_id":6977245,"reputation":158,"user_id":5351583,"accept_rate":20,"display_name":"Kira Katou"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10454,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1654808900,"creation_date":1457800338,"question_id":35960292,"body_markdown":"i have an assignment and i got stack at making this back button. i could go to second frame from first frame but cannot make it from the second frame to first frame.\r\n\r\nThe First frame \r\n\r\n\timport javax.swing.*;\r\n\timport java.awt.*;\r\n\timport java.awt.event.*;\r\n\timport java.sql.*;\r\n\r\n\tpublic class Test extends JFrame implements ActionListener{\r\n\t\tJLabel label;\r\n\t\tJButton Add,Delete,Update,Display,Exit;\r\n\t\tpublic Test() {\r\n\t\t\tsetVisible(true);\r\n\t\t\tsetSize(500, 500);\r\n\t\t\tsetLayout(null);\r\n\t\t\tsetDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\t\tsetTitle(&quot;JDBC&quot;);\r\n\t\t\tlabel = new JLabel(&quot;Database&quot;);\r\n\t\t\tAdd = new JButton(&quot;Add Data&quot;);\r\n\t\t\tDelete = new JButton(&quot;Delete Data&quot;);\r\n\t\t\tUpdate = new JButton(&quot;Update Data&quot;);\r\n\t\t\tDisplay = new JButton(&quot;Display Data&quot;);\r\n\t\t\tExit = new JButton(&quot;Exit&quot;);\r\n\t\t\t//setBounds\r\n\t\t\tAdd.addActionListener(this);\r\n\t\t\tDelete.addActionListener(this);\r\n\t\t\tUpdate.addActionListener(this);\r\n\t\t\tDisplay.addActionListener(this);\r\n\t\t\tExit.addActionListener(this);\r\n\t\t\t//button added\r\n\t\t}\r\n\t\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\tif(e.getActionCommand().equals(&quot;Add Data&quot;)){\r\n\t\t\t\tthis.setVisible(false); //the first frame is still open\r\n\t\t\t\tnew add().setVisible(true); //this one is work\r\n\t\t\t}\r\n\t\t\telse if(e.getActionCommand().equals(&quot;Delete&quot;)){}\r\n\t\t\telse if(e.getActionCommand().equals(&quot;Update&quot;)){}\r\n\t\t\telse if(e.getActionCommand().equals(&quot;Display&quot;)){}\r\n\t\t\telse if(e.getActionCommand().equals(&quot;Exit&quot;)){\r\n\t\t\t\tSystem.exit(0);\r\n\t\t\t}\r\n\t\t}\r\n\t\tpublic static void main(String args[]) { //Launch the Application\r\n\t\t\tnew Test();\r\n\t\t}\r\n\t}\r\n\r\nThe Second Frame\r\n\r\n\timport javax.swing.*;\r\n\timport java.awt.*;\r\n\timport java.awt.event.*;\r\n\timport java.sql.*;\r\n\tpublic class add extends JFrame{\r\n\t\tJButton button, button2;\r\n\t\tJTextField tf1, tf2, tf3, tf4, tf5;\r\n\t\tJLabel l1, l2, l3, l4, l5;\r\n\t\tConnection conn = null;\r\n\t\tStatement stmt = null;\r\n\t\tpublic add() {\r\n\t\t\t\tJFrame frm = new JFrame();\r\n\t\t\t\tfrm.setVisible(true);\r\n\t\t\t\tfrm.setSize(500, 500);\r\n\t\t\t\tfrm.setLayout(null);\r\n\t\t\t\tfrm.setTitle(&quot;JDBC&quot;);\r\n\t\t\t\tbutton = new JButton(&quot;Insert&quot;);\r\n\t\t\t\tbutton = new JButton(&quot;Back&quot;);\r\n\t\t\t\tl1 = new JLabel(&quot;ID : &quot;);\r\n\t\t\t\tl2 = new JLabel(&quot;Name : &quot;);\r\n\t\t\t\tl3 = new JLabel(&quot;Adress : &quot;);\r\n\t\t\t\tl4 = new JLabel(&quot;Gender : &quot;);\r\n\t\t\t\tl5 = new JLabel(&quot;IP : &quot;);       \r\n\t\t\t\ttf1 = new JTextField();\r\n\t\t\t\ttf2 = new JTextField();\r\n\t\t\t\ttf3 = new JTextField();\r\n\t\t\t\ttf4 = new JTextField();\r\n\t\t\t\ttf5 = new JTextField();\r\n\t\t\t\t//setBounds\r\n\t\t\t\t//frm added\r\n\t\t}\r\n\t\t\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\t\tif(e.getActionCommand().equals(&quot;Insert&quot;)){\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tClass.forName(&quot;com.mysql.jdbc.Driver&quot;);\r\n\t\t\t\t\t\tconn = DriverManager.getConnection(&quot;jdbc:mysql://localhost/academic&quot;, &quot;root&quot;, &quot;abc&quot;); \r\n\t\t\t\t\t\tstmt = conn.createStatement();\r\n\t\t\t\t\t\tString sql;\r\n\t\t\t\t\t\tsql = &quot;INSERT INTO student VALUES(&quot; +\r\n\t\t\t\t\t\t\t  &quot;&#39;&quot; + tf1.getText() + &quot;&#39;,&quot; + \r\n\t\t\t\t\t\t\t  &quot;&#39;&quot; + tf2.getText() + &quot;&#39;,&quot; +\r\n\t\t\t\t\t\t\t  &quot;&#39;&quot; + tf3.getText() + &quot;&#39;,&quot; +\r\n\t\t\t\t\t\t\t  &quot;&#39;&quot; + tf4.getText() + &quot;&#39;,&quot; +\r\n\t\t\t\t\t\t\t  tf5.getText() + &quot;)&quot;;\r\n\t\t\t\t\t\tstmt.executeUpdate(sql);\r\n\t\t\t\t\t\tstmt.close();\r\n\t\t\t\t\t\tconn.close();\r\n\t\t\t\t\t}catch(SQLException se){\r\n\t\t\t\t\t\tse.printStackTrace();\r\n\t\t\t\t\t}catch(Exception es){\r\n\t\t\t\t\t\tes.printStackTrace();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse if(e.getActionCommand().equals(&quot;Back&quot;)){\r\n\t\t\t\t\tthis.setVisible(false);\r\n\t\t\t\t\tTest().setVisible(true);//Test() cannot finded on cmd \r\n\t\t\t\t}\r\n\t\t\t}\r\n\t}\r\n\r\nany idea guys ? plz help me ","title":"how to make back button work from the second frame to the first frame","body":"<p>i have an assignment and i got stack at making this back button. i could go to second frame from first frame but cannot make it from the second frame to first frame.</p>\n\n<p>The First frame </p>\n\n<pre><code>import javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.*;\nimport java.sql.*;\n\npublic class Test extends JFrame implements ActionListener{\n    JLabel label;\n    JButton Add,Delete,Update,Display,Exit;\n    public Test() {\n        setVisible(true);\n        setSize(500, 500);\n        setLayout(null);\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        setTitle(\"JDBC\");\n        label = new JLabel(\"Database\");\n        Add = new JButton(\"Add Data\");\n        Delete = new JButton(\"Delete Data\");\n        Update = new JButton(\"Update Data\");\n        Display = new JButton(\"Display Data\");\n        Exit = new JButton(\"Exit\");\n        //setBounds\n        Add.addActionListener(this);\n        Delete.addActionListener(this);\n        Update.addActionListener(this);\n        Display.addActionListener(this);\n        Exit.addActionListener(this);\n        //button added\n    }\n    public void actionPerformed(ActionEvent e) {\n        if(e.getActionCommand().equals(\"Add Data\")){\n            this.setVisible(false); //the first frame is still open\n            new add().setVisible(true); //this one is work\n        }\n        else if(e.getActionCommand().equals(\"Delete\")){}\n        else if(e.getActionCommand().equals(\"Update\")){}\n        else if(e.getActionCommand().equals(\"Display\")){}\n        else if(e.getActionCommand().equals(\"Exit\")){\n            System.exit(0);\n        }\n    }\n    public static void main(String args[]) { //Launch the Application\n        new Test();\n    }\n}\n</code></pre>\n\n<p>The Second Frame</p>\n\n<pre><code>import javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.*;\nimport java.sql.*;\npublic class add extends JFrame{\n    JButton button, button2;\n    JTextField tf1, tf2, tf3, tf4, tf5;\n    JLabel l1, l2, l3, l4, l5;\n    Connection conn = null;\n    Statement stmt = null;\n    public add() {\n            JFrame frm = new JFrame();\n            frm.setVisible(true);\n            frm.setSize(500, 500);\n            frm.setLayout(null);\n            frm.setTitle(\"JDBC\");\n            button = new JButton(\"Insert\");\n            button = new JButton(\"Back\");\n            l1 = new JLabel(\"ID : \");\n            l2 = new JLabel(\"Name : \");\n            l3 = new JLabel(\"Adress : \");\n            l4 = new JLabel(\"Gender : \");\n            l5 = new JLabel(\"IP : \");       \n            tf1 = new JTextField();\n            tf2 = new JTextField();\n            tf3 = new JTextField();\n            tf4 = new JTextField();\n            tf5 = new JTextField();\n            //setBounds\n            //frm added\n    }\n        public void actionPerformed(ActionEvent e) {\n            if(e.getActionCommand().equals(\"Insert\")){\n                try {\n                    Class.forName(\"com.mysql.jdbc.Driver\");\n                    conn = DriverManager.getConnection(\"jdbc:mysql://localhost/academic\", \"root\", \"abc\"); \n                    stmt = conn.createStatement();\n                    String sql;\n                    sql = \"INSERT INTO student VALUES(\" +\n                          \"'\" + tf1.getText() + \"',\" + \n                          \"'\" + tf2.getText() + \"',\" +\n                          \"'\" + tf3.getText() + \"',\" +\n                          \"'\" + tf4.getText() + \"',\" +\n                          tf5.getText() + \")\";\n                    stmt.executeUpdate(sql);\n                    stmt.close();\n                    conn.close();\n                }catch(SQLException se){\n                    se.printStackTrace();\n                }catch(Exception es){\n                    es.printStackTrace();\n                }\n            }\n            else if(e.getActionCommand().equals(\"Back\")){\n                this.setVisible(false);\n                Test().setVisible(true);//Test() cannot finded on cmd \n            }\n        }\n}\n</code></pre>\n\n<p>any idea guys ? plz help me </p>\n"},{"tags":["java","list","sorting"],"comments":[{"owner":{"account_id":2882201,"reputation":10752,"user_id":2472820,"accept_rate":86,"display_name":"Kon"},"score":1,"creation_date":1654800603,"post_id":72565188,"comment_id":128184912,"body_markdown":"There is no more effective way than to check each element once. Your code above won&#39;t work for `d != 1`, however.","body":"There is no more effective way than to check each element once. Your code above won&#39;t work for <code>d != 1</code>, however."},{"owner":{"account_id":10977793,"reputation":39,"user_id":8065972,"display_name":"StevenU"},"score":0,"creation_date":1654801900,"post_id":72565188,"comment_id":128185278,"body_markdown":"@Kon u right. But then again, I can change &#39; li.get(i+1) - li.get(i) != p&#39;, while the function&#39;s signature is &#39;public static boolean checkSequenceList(List&lt;Integer&gt; li, int p)&#39;.\nThat way u can fit it to every Arithmetic progression formula. \nAnd thanks for the response. I would wait to hear more reviews, especially regarding an alternative code style.","body":"@Kon u right. But then again, I can change &#39; li.get(i+1) - li.get(i) != p&#39;, while the function&#39;s signature is &#39;public static boolean checkSequenceList(List&lt;Integer&gt; li, int p)&#39;. That way u can fit it to every Arithmetic progression formula.  And thanks for the response. I would wait to hear more reviews, especially regarding an alternative code style."},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1654806677,"post_id":72565188,"comment_id":128186699,"body_markdown":"You have to check each element, but only for as long as the atithmetic progression holds. Once you found an incorrect value, you can break the loop.","body":"You have to check each element, but only for as long as the atithmetic progression holds. Once you found an incorrect value, you can break the loop."}],"answers":[{"tags":[],"owner":{"account_id":25445592,"reputation":100,"user_id":19247838,"display_name":"120 099 101 105 110 103"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654801027,"creation_date":1654801027,"answer_id":72565331,"question_id":72565188,"body_markdown":"How about you all the values in an Array and then sorting the array by using `Array.Sort(arrayname)`, then they should be put in ascending order automatically. If you just want to check it you can compare the array with the sorted array. \r\n","title":"How to find if List values ​are in ascending order, fixed number between two values","body":"<p>How about you all the values in an Array and then sorting the array by using <code>Array.Sort(arrayname)</code>, then they should be put in ascending order automatically. If you just want to check it you can compare the array with the sorted array.</p>\n"},{"tags":[],"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654806166,"creation_date":1654804585,"answer_id":72565960,"question_id":72565188,"body_markdown":"An approach could be to use IntStream. If you use the indices and the values as x and y values of a mathematical function, like below:\r\n\r\n    x (index)    y (list.get(x))  \r\n\r\n    0            4\r\n    1            5\r\n    2            6\r\n    3            7\r\n    4            8\r\n    5            9  \r\n\r\nyour requierment (that they should be sorted and have same difference) implies that they should satisfy a linear function `y = mx + b` where `b` is the first value in list at index `0` and  `m` being the delta. So you could do something like:\r\n\r\n    public static boolean checkSequenceList(List&lt;Integer&gt; li, int m){\r\n        return IntStream.range(0, li.size()).allMatch(x -&gt; m*x + li.get(0) == li.get(x));\r\n    }\r\n\r\nYou can ommit `m` if the delta you care about is always `1`\r\n\r\n    public static boolean checkSequenceList(List&lt;Integer&gt; li){\r\n        return IntStream.range(0, li.size()).allMatch(x -&gt; x + li.get(0) == li.get(x));\r\n    }\r\n\r\nand it will also short-circuit since [allMatch][1] is a short-circuiting terminal operation, i.e. you will not iterate over the whole list if a mismatch is found.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#allMatch-java.util.function.Predicate-","title":"How to find if List values ​are in ascending order, fixed number between two values","body":"<p>An approach could be to use IntStream. If you use the indices and the values as x and y values of a mathematical function, like below:</p>\n<pre><code>x (index)    y (list.get(x))  \n\n0            4\n1            5\n2            6\n3            7\n4            8\n5            9  \n</code></pre>\n<p>your requierment (that they should be sorted and have same difference) implies that they should satisfy a linear function <code>y = mx + b</code> where <code>b</code> is the first value in list at index <code>0</code> and  <code>m</code> being the delta. So you could do something like:</p>\n<pre><code>public static boolean checkSequenceList(List&lt;Integer&gt; li, int m){\n    return IntStream.range(0, li.size()).allMatch(x -&gt; m*x + li.get(0) == li.get(x));\n}\n</code></pre>\n<p>You can ommit <code>m</code> if the delta you care about is always <code>1</code></p>\n<pre><code>public static boolean checkSequenceList(List&lt;Integer&gt; li){\n    return IntStream.range(0, li.size()).allMatch(x -&gt; x + li.get(0) == li.get(x));\n}\n</code></pre>\n<p>and it will also short-circuit since <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#allMatch-java.util.function.Predicate-\" rel=\"nofollow noreferrer\">allMatch</a> is a short-circuiting terminal operation, i.e. you will not iterate over the whole list if a mismatch is found.</p>\n"},{"tags":[],"owner":{"account_id":25296580,"reputation":2100,"user_id":19121623,"display_name":"Eskandar Abedini"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1654804831,"creation_date":1654804831,"answer_id":72566007,"question_id":72565188,"body_markdown":"You can use this code with any difference between consequence items.\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n    \r\n            List&lt;Integer&gt; values = new ArrayList&lt;&gt;();\r\n            values.add(3);\r\n            values.add(4);\r\n            values.add(5);\r\n            values.add(6);\r\n            values.add(8);\r\n            values.add(9);\r\n    \r\n            pairwiseDifference(values);\r\n        }\r\n    \r\n        static void pairwiseDifference(List&lt;Integer&gt; values) {\r\n            int diff = 0;\r\n            for (int i = 0; i &lt; values.size() - 1; i++) {\r\n                int curDiff = values.get(i + 1) - values.get(i);\r\n    \r\n                if (i == 0)\r\n                    diff = curDiff;\r\n                else if (diff != curDiff) {\r\n                    System.out.println(&quot;Items &quot; + values.get(i) + &quot; and &quot;+values.get(i+1) + &quot; have not same difference as previous pair&quot;);\r\n                    return;\r\n                }\r\n            }\r\n            System.out.println(&quot;Items have same difference&quot;);\r\n        }\r\n    }\r\n\r\n","title":"How to find if List values ​are in ascending order, fixed number between two values","body":"<p>You can use this code with any difference between consequence items.</p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n\n        List&lt;Integer&gt; values = new ArrayList&lt;&gt;();\n        values.add(3);\n        values.add(4);\n        values.add(5);\n        values.add(6);\n        values.add(8);\n        values.add(9);\n\n        pairwiseDifference(values);\n    }\n\n    static void pairwiseDifference(List&lt;Integer&gt; values) {\n        int diff = 0;\n        for (int i = 0; i &lt; values.size() - 1; i++) {\n            int curDiff = values.get(i + 1) - values.get(i);\n\n            if (i == 0)\n                diff = curDiff;\n            else if (diff != curDiff) {\n                System.out.println(&quot;Items &quot; + values.get(i) + &quot; and &quot;+values.get(i+1) + &quot; have not same difference as previous pair&quot;);\n                return;\n            }\n        }\n        System.out.println(&quot;Items have same difference&quot;);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23837295,"reputation":308,"user_id":17842877,"display_name":"xthe_white_lionx"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654808640,"creation_date":1654808125,"answer_id":72566541,"question_id":72565188,"body_markdown":"    public boolean checkSequenceList(List&lt;Integer&gt; integerList, int d) {\r\n        int lastNum = integerList.get(0);\r\n\r\n        for (int i = 1; i &lt; integerList.size(); i++) {\r\n            Integer integer = integerList.get(i);\r\n            if (integer - lastNum != d) {\r\n                return false;\r\n            }\r\n            lastNum = integer;\r\n        }\r\n        return true;\r\n    }","title":"How to find if List values ​are in ascending order, fixed number between two values","body":"<pre><code>public boolean checkSequenceList(List&lt;Integer&gt; integerList, int d) {\n    int lastNum = integerList.get(0);\n\n    for (int i = 1; i &lt; integerList.size(); i++) {\n        Integer integer = integerList.get(i);\n        if (integer - lastNum != d) {\n            return false;\n        }\n        lastNum = integer;\n    }\n    return true;\n}\n</code></pre>\n"}],"owner":{"account_id":10977793,"reputation":39,"user_id":8065972,"display_name":"StevenU"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":284,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1654808640,"creation_date":1654800237,"question_id":72565188,"body_markdown":"Suppose I hold lists whose members have Integer values ​​as follows\r\n\r\n    List&lt;Integer&gt; li = new ArrayList&lt;&gt;();\r\n    li.add(1);\r\n    li.add(2);\r\n    li.add(3);\r\n    li.add(4);\r\n    li.add(5);\r\n\r\n\r\n    List&lt;Integer&gt; li1 = new ArrayList&lt;&gt;();\r\n    li1.add(3);\r\n    li1.add(5);\r\n    li1.add(6);\r\n    li1.add(7);\r\n    li1.add(8);\r\n    li1.add(9);\r\n\r\nI want to find out if the lists are sorted in ascending order, **but with a fixed difference value between any two members, say 1**. (You can think of a kind of Arithmetic progression whose &#39;d&#39; is 1)\r\n\r\nThe naive solution proposed is to loop through all the members of the list and check each element[i + 1], whether when the element[i] is subtracted from it, whether 1 is obtained, as follows\r\n\r\n    public static boolean checkSequenceList(List&lt;Integer&gt; li){\r\n        for (int i = 0; i &lt; li.size() - 1; i++) {\r\n            if (li.get(i+1) - li.get(i) != 1)\r\n                return false;\r\n        }\r\n        return true;\r\n    }\r\n\r\nIs there a more effective way / abbreviated writing style to do this?","title":"How to find if List values ​are in ascending order, fixed number between two values","body":"<p>Suppose I hold lists whose members have Integer values ​​as follows</p>\n<pre><code>List&lt;Integer&gt; li = new ArrayList&lt;&gt;();\nli.add(1);\nli.add(2);\nli.add(3);\nli.add(4);\nli.add(5);\n\n\nList&lt;Integer&gt; li1 = new ArrayList&lt;&gt;();\nli1.add(3);\nli1.add(5);\nli1.add(6);\nli1.add(7);\nli1.add(8);\nli1.add(9);\n</code></pre>\n<p>I want to find out if the lists are sorted in ascending order, <strong>but with a fixed difference value between any two members, say 1</strong>. (You can think of a kind of Arithmetic progression whose 'd' is 1)</p>\n<p>The naive solution proposed is to loop through all the members of the list and check each element[i + 1], whether when the element[i] is subtracted from it, whether 1 is obtained, as follows</p>\n<pre><code>public static boolean checkSequenceList(List&lt;Integer&gt; li){\n    for (int i = 0; i &lt; li.size() - 1; i++) {\n        if (li.get(i+1) - li.get(i) != 1)\n            return false;\n    }\n    return true;\n}\n</code></pre>\n<p>Is there a more effective way / abbreviated writing style to do this?</p>\n"},{"tags":["java","methods","conventions"],"comments":[{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1489143430,"post_id":4668218,"comment_id":72553350,"body_markdown":"Also note that when _working_ with code like this, most IDE&#39;s allow you to see the definition of whatever is underneath the cursor automatically.  This mean you do not have to do anything but glance.","body":"Also note that when <i>working</i> with code like this, most IDE&#39;s allow you to see the definition of whatever is underneath the cursor automatically.  This mean you do not have to do anything but glance."},{"owner":{"account_id":1221477,"reputation":4119,"user_id":1188047,"accept_rate":60,"display_name":"Ben"},"score":1,"creation_date":1525369996,"post_id":4668218,"comment_id":87340172,"body_markdown":"If you have 40 methods in a single class - you&#39;re doing it wrong","body":"If you have 40 methods in a single class - you&#39;re doing it wrong"}],"answers":[{"tags":[],"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1644995538,"creation_date":1294831863,"answer_id":4668264,"question_id":4668218,"body_markdown":"40 methods in a single class is a bit much.\r\n\r\nWould it make sense to move some of the functionality into other - suitably named - classes?  Then it is much easier to make sense of.\r\n\r\nWhen you have fewer, it is much easier to list them in a natural reading order.  A frequent paradigm is to list things either _before_ or _after_ you need them , in the order you need them.\r\n\r\nThis usually means that `main()` goes on top or on bottom.","title":"Are there any Java method ordering conventions?","body":"<p>40 methods in a single class is a bit much.</p>\n<p>Would it make sense to move some of the functionality into other - suitably named - classes?  Then it is much easier to make sense of.</p>\n<p>When you have fewer, it is much easier to list them in a natural reading order.  A frequent paradigm is to list things either <em>before</em> or <em>after</em> you need them , in the order you need them.</p>\n<p>This usually means that <code>main()</code> goes on top or on bottom.</p>\n"},{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":1,"up_vote_count":151,"is_accepted":true,"score":150,"last_activity_date":1294831951,"creation_date":1294831951,"answer_id":4668276,"question_id":4668218,"body_markdown":"Some conventions list all the public methods first, and then all the private ones - that means it&#39;s easy to separate the API from the implementation, even when there&#39;s no interface involved, if you see what I mean.\r\n\r\nAnother idea is to group related methods together - this makes it easier to spot seams where you could split your existing large class into several smaller, more targeted ones.","title":"Are there any Java method ordering conventions?","body":"<p>Some conventions list all the public methods first, and then all the private ones - that means it's easy to separate the API from the implementation, even when there's no interface involved, if you see what I mean.</p>\n\n<p>Another idea is to group related methods together - this makes it easier to spot seams where you could split your existing large class into several smaller, more targeted ones.</p>\n"},{"tags":[],"owner":{"account_id":7052,"reputation":48090,"user_id":12048,"accept_rate":94,"display_name":"finnw"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1294831982,"creation_date":1294831982,"answer_id":4668283,"question_id":4668218,"body_markdown":"Are you using Eclipse? If so I would stick with the default member sort order, because that is likely to be most familiar to whoever reads your code (although it is not my favourite sort order.)","title":"Are there any Java method ordering conventions?","body":"<p>Are you using Eclipse? If so I would stick with the default member sort order, because that is likely to be most familiar to whoever reads your code (although it is not my favourite sort order.)</p>\n"},{"tags":[],"owner":{"account_id":14630,"reputation":16827,"user_id":30316,"accept_rate":82,"display_name":"eljenso"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1294832177,"creation_date":1294832177,"answer_id":4668310,"question_id":4668218,"body_markdown":"My &quot;convention&quot;: static before instance, public before private, constructor before methods, but main method at the bottom (if present). \r\n","title":"Are there any Java method ordering conventions?","body":"<p>My \"convention\": static before instance, public before private, constructor before methods, but main method at the bottom (if present). </p>\n"},{"tags":[],"owner":{"account_id":198697,"reputation":18245,"user_id":443515,"accept_rate":56,"display_name":"Qwerky"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1294832689,"creation_date":1294832689,"answer_id":4668369,"question_id":4668218,"body_markdown":"Not sure if there is universally accepted standard but my own preferences are;\r\n\r\n- constructors first \r\n- static methods next, if there is a main method, always before other static methods\r\n- non static methods next, usually in order of the significance of the method followed by any methods that it calls. This means that public methods that call other class methods appear towards the top and private methods that call no other methods usually end up towards the bottom\r\n- standard methods like `toString`, `equals` and `hashcode` next\r\n- getters and setters have a special place reserved right at the bottom of the class","title":"Are there any Java method ordering conventions?","body":"<p>Not sure if there is universally accepted standard but my own preferences are;</p>\n\n<ul>\n<li>constructors first </li>\n<li>static methods next, if there is a main method, always before other static methods</li>\n<li>non static methods next, usually in order of the significance of the method followed by any methods that it calls. This means that public methods that call other class methods appear towards the top and private methods that call no other methods usually end up towards the bottom</li>\n<li>standard methods like <code>toString</code>, <code>equals</code> and <code>hashcode</code> next</li>\n<li>getters and setters have a special place reserved right at the bottom of the class</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":102066,"reputation":5017,"user_id":274205,"accept_rate":75,"display_name":"Timofey Gorshkov"},"down_vote_count":2,"up_vote_count":49,"is_accepted":false,"score":47,"last_activity_date":1401135671,"creation_date":1309161482,"answer_id":6490053,"question_id":4668218,"body_markdown":"The more precise link to &#171;Code Conventions&#187;: [&#171;Class and Interface Declarations&#187;][1]\r\n\r\n\r\n  [1]: https://web.archive.org/web/20130516014426/http://www.oracle.com/technetwork/java/codeconventions-141855.html#1852","title":"Are there any Java method ordering conventions?","body":"<p>The more precise link to «Code Conventions»: <a href=\"https://web.archive.org/web/20130516014426/http://www.oracle.com/technetwork/java/codeconventions-141855.html#1852\">«Class and Interface Declarations»</a></p>\n"},{"tags":[],"owner":{"account_id":255148,"reputation":13908,"user_id":534994,"accept_rate":93,"display_name":"Michael"},"down_vote_count":0,"up_vote_count":155,"is_accepted":false,"score":155,"last_activity_date":1654808019,"creation_date":1347635038,"answer_id":12427127,"question_id":4668218,"body_markdown":" 1. Class (static) variables: First the public class variables, then the\r\n    protected, and then the private.\r\n      \r\n 2. Instance variables: First public, then protected, and then private.\r\n    \r\n 3. Constructors\r\n    \r\n 4. Methods: These methods should be grouped by functionality rather\r\n    than by scope or accessibility. For example, a private class method\r\n    can be in between two public instance methods. The goal is to make\r\n    reading and understanding the code easier.\r\n\r\nSource: https://www.oracle.com/java/technologies/javase/codeconventions-fileorganization.html","title":"Are there any Java method ordering conventions?","body":"<ol>\n<li><p>Class (static) variables: First the public class variables, then the\nprotected, and then the private.</p>\n</li>\n<li><p>Instance variables: First public, then protected, and then private.</p>\n</li>\n<li><p>Constructors</p>\n</li>\n<li><p>Methods: These methods should be grouped by functionality rather\nthan by scope or accessibility. For example, a private class method\ncan be in between two public instance methods. The goal is to make\nreading and understanding the code easier.</p>\n</li>\n</ol>\n<p>Source: <a href=\"https://www.oracle.com/java/technologies/javase/codeconventions-fileorganization.html\" rel=\"noreferrer\">https://www.oracle.com/java/technologies/javase/codeconventions-fileorganization.html</a></p>\n"},{"tags":[],"owner":{"account_id":1344592,"reputation":1139,"user_id":1285585,"accept_rate":85,"display_name":"Stephan Richter"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1390475126,"creation_date":1390475126,"answer_id":21306331,"question_id":4668218,"body_markdown":"Also, eclipse offers the possibility to sort class members for you, if you for some reason mixed them up:\r\n\r\nOpen your class file, the go to &quot;Source&quot; in the main menu and select &quot;Sort Members&quot;.\r\n\r\ntaken from here: https://stackoverflow.com/questions/854232/sorting-methods-in-eclipse?answertab=active#tab-top","title":"Are there any Java method ordering conventions?","body":"<p>Also, eclipse offers the possibility to sort class members for you, if you for some reason mixed them up:</p>\n\n<p>Open your class file, the go to \"Source\" in the main menu and select \"Sort Members\".</p>\n\n<p>taken from here: <a href=\"https://stackoverflow.com/questions/854232/sorting-methods-in-eclipse?answertab=active#tab-top\">Sorting methods in Eclipse</a></p>\n"}],"owner":{"account_id":124495,"reputation":33043,"user_id":319618,"accept_rate":82,"display_name":"fredley"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":145361,"favorite_count":0,"down_vote_count":1,"up_vote_count":186,"closed_date":1405612152,"accepted_answer_id":4668276,"answer_count":8,"score":185,"last_activity_date":1654808019,"creation_date":1294831580,"question_id":4668218,"body_markdown":"I&#39;ve got a large-ish class (40 or so methods) that is part of a package I will be submitting as course-work. Currently, the methods are pretty jumbled up in terms of utility public/private etc. and I want to order them in a sensible way. Is there a standard way of doing this? E.g. normally fields are listed before methods, the constructor(s) are listed before other methods, and getters/setters last; what about the remaining methods?","title":"Are there any Java method ordering conventions?","body":"<p>I've got a large-ish class (40 or so methods) that is part of a package I will be submitting as course-work. Currently, the methods are pretty jumbled up in terms of utility public/private etc. and I want to order them in a sensible way. Is there a standard way of doing this? E.g. normally fields are listed before methods, the constructor(s) are listed before other methods, and getters/setters last; what about the remaining methods?</p>\n"},{"tags":["java","spring","spring-batch"],"answers":[{"tags":[],"owner":{"account_id":5655920,"reputation":63,"user_id":4475123,"accept_rate":75,"display_name":"lryk"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1654807821,"creation_date":1654807821,"answer_id":72566502,"question_id":72564627,"body_markdown":"I was able to resolve the issue. I had Spring Data JPA repositories in the Spring batch job which was causing the issue as per the below link:\r\nhttps://github.com/spring-guides/gs-batch-processing/issues/40\r\n\r\n\r\n\r\n","title":"Spring Batch Job with Flows not terminating after completion","body":"<p>I was able to resolve the issue. I had Spring Data JPA repositories in the Spring batch job which was causing the issue as per the below link:\n<a href=\"https://github.com/spring-guides/gs-batch-processing/issues/40\" rel=\"nofollow noreferrer\">https://github.com/spring-guides/gs-batch-processing/issues/40</a></p>\n"}],"owner":{"account_id":5655920,"reputation":63,"user_id":4475123,"accept_rate":75,"display_name":"lryk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":545,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654807821,"creation_date":1654797194,"question_id":72564627,"body_markdown":"I have the below configuration for a Spring batch job :\r\nFirst Flow :\r\n``` \r\nreturn new FlowBuilder&lt;SimpleFlow&gt;(&quot;flowB&quot;)\r\n\t\t\t\t.start(stepA)\r\n\t\t\t\t .next(stepB)\r\n\t             .next(stepC)\r\n\t             .end(); \r\n```\r\nSecond Flow:\r\n\r\n```\r\nreturn new FlowBuilder&lt;SimpleFlow&gt;(&quot;flowNotify&quot;)\r\n\t\t\t\t.start(stepNotify)\r\n\t             .end();\r\n```\r\n\r\nANd my Job configuration is as follows:\r\n```\r\n Job job =  jobBuilderFactory.get(&quot;job1&quot;)\r\n\t                .listener(customJobListener)\r\n\t                .start(stepOne)\r\n\t                .next(customDecider).on(&quot;STATUS_STOP&quot;).to(flowNotify)\r\n\t                .from(customDecider).on(&quot;STATUS_PROCEED&quot;).to(flowB)\r\n\t                .end()\r\n\t                .build();\r\n\t        return  job;\r\n```\r\n\r\nThe job runs fine in both the flows based on FlowExitStatus being returned from the Decider, however after the last step the job doesn&#39;t terminate, I need to manually terminate the job.\r\n\r\nCan someone please guide me on how to terminate the job after the completion of the last step","title":"Spring Batch Job with Flows not terminating after completion","body":"<p>I have the below configuration for a Spring batch job :\nFirst Flow :</p>\n<pre><code>return new FlowBuilder&lt;SimpleFlow&gt;(&quot;flowB&quot;)\n                .start(stepA)\n                 .next(stepB)\n                 .next(stepC)\n                 .end(); \n</code></pre>\n<p>Second Flow:</p>\n<pre><code>return new FlowBuilder&lt;SimpleFlow&gt;(&quot;flowNotify&quot;)\n                .start(stepNotify)\n                 .end();\n</code></pre>\n<p>ANd my Job configuration is as follows:</p>\n<pre><code> Job job =  jobBuilderFactory.get(&quot;job1&quot;)\n                    .listener(customJobListener)\n                    .start(stepOne)\n                    .next(customDecider).on(&quot;STATUS_STOP&quot;).to(flowNotify)\n                    .from(customDecider).on(&quot;STATUS_PROCEED&quot;).to(flowB)\n                    .end()\n                    .build();\n            return  job;\n</code></pre>\n<p>The job runs fine in both the flows based on FlowExitStatus being returned from the Decider, however after the last step the job doesn't terminate, I need to manually terminate the job.</p>\n<p>Can someone please guide me on how to terminate the job after the completion of the last step</p>\n"},{"tags":["java","parsing","double","locale"],"answers":[{"tags":[],"owner":{"account_id":56173,"reputation":4101,"user_id":168233,"accept_rate":86,"display_name":"Serhiy"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1412759825,"creation_date":1412759825,"answer_id":26253271,"question_id":26252824,"body_markdown":"If you try to create `Locale` like `new Locale(&quot;sv_SE&quot;)`, then it will fail to match it through the ISO 639 standard used to detect language (yes if there is only one parameters it is threatened as language, check the documentation). In your case you should use `new Locale(&quot;sv&quot;,&quot;SE&quot;)` to correctly setup the country, otherwise, since the matching for language fails, default language is used (which in your case seem to be English). In English, the comma is used for digit grouping and not as decimal mark, that is why the result you have in unexpected but correct.","title":"Java: what&#39;s the difference between the sv and sv_SE locale?","body":"<p>If you try to create <code>Locale</code> like <code>new Locale(\"sv_SE\")</code>, then it will fail to match it through the ISO 639 standard used to detect language (yes if there is only one parameters it is threatened as language, check the documentation). In your case you should use <code>new Locale(\"sv\",\"SE\")</code> to correctly setup the country, otherwise, since the matching for language fails, default language is used (which in your case seem to be English). In English, the comma is used for digit grouping and not as decimal mark, that is why the result you have in unexpected but correct.</p>\n"}],"owner":{"account_id":1734548,"reputation":855,"user_id":1802826,"accept_rate":50,"display_name":"d-b"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13172,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":26253271,"answer_count":1,"score":8,"last_activity_date":1654807463,"creation_date":1412758404,"question_id":26252824,"body_markdown":"I tried to parse a string (-0,3) to a double in java using Swedish locale using this code:\r\n\r\n    String DoubleString = &quot;-0,3&quot;\r\n    NumberFormat swedishNumberFormat = NumberFormat.getInstance(new Locale(&quot;sv&quot;));\r\n    System.out.println(swedishNumberFormat.parse(doubleString).doubleValue());\r\n\r\n\r\nWhen I tried with the `sv_SE` locale the result was -3.0, which, obviously, is incorrect. I then, after **a lot** of headache changed the locale to `sv` (as in the example above) and then the result was correct, -0,3.\r\n\r\nAccording to http://www.localeplanet.com/java/sv/index.html and http://www.localeplanet.com/java/sv-SE/index.html the decimal separator (*Decimalavgr&#228;nsare*) in both cases is comma (`,`) so why this difference?\r\n\r\n(I tried to tag this with some tags related to Sweden such as sv_SE but I didn&#39;t have enough reputation points to add new tags. Feel free to add tags if you can.)","title":"Java: what&#39;s the difference between the sv and sv_SE locale?","body":"<p>I tried to parse a string (-0,3) to a double in java using Swedish locale using this code:</p>\n\n<pre><code>String DoubleString = \"-0,3\"\nNumberFormat swedishNumberFormat = NumberFormat.getInstance(new Locale(\"sv\"));\nSystem.out.println(swedishNumberFormat.parse(doubleString).doubleValue());\n</code></pre>\n\n<p>When I tried with the <code>sv_SE</code> locale the result was -3.0, which, obviously, is incorrect. I then, after <strong>a lot</strong> of headache changed the locale to <code>sv</code> (as in the example above) and then the result was correct, -0,3.</p>\n\n<p>According to <a href=\"http://www.localeplanet.com/java/sv/index.html\" rel=\"noreferrer\">http://www.localeplanet.com/java/sv/index.html</a> and <a href=\"http://www.localeplanet.com/java/sv-SE/index.html\" rel=\"noreferrer\">http://www.localeplanet.com/java/sv-SE/index.html</a> the decimal separator (<em>Decimalavgränsare</em>) in both cases is comma (<code>,</code>) so why this difference?</p>\n\n<p>(I tried to tag this with some tags related to Sweden such as sv_SE but I didn't have enough reputation points to add new tags. Feel free to add tags if you can.)</p>\n"},{"tags":["java","maven","maven-3","maven-compiler-plugin"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1598146226,"post_id":38882080,"comment_id":112362231,"body_markdown":"Related: [*“maven.compiler.release” as an replacement for source and target?*](https://stackoverflow.com/q/59049980/642706)","body":"Related: <a href=\"https://stackoverflow.com/q/59049980/642706\"><i>“maven.compiler.release” as an replacement for source and target?</i></a>"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1598146442,"post_id":38882080,"comment_id":112362268,"body_markdown":"Related: [*How do you specify the Java compiler version in a pom.xml file?*](https://stackoverflow.com/q/16723533/642706)","body":"Related: <a href=\"https://stackoverflow.com/q/16723533/642706\"><i>How do you specify the Java compiler version in a pom.xml file?</i></a>"}],"answers":[{"tags":[],"owner":{"account_id":100270,"reputation":127164,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"down_vote_count":0,"up_vote_count":442,"is_accepted":true,"score":442,"last_activity_date":1654807195,"creation_date":1470861341,"answer_id":38883073,"question_id":38882080,"body_markdown":"**How to specify the JDK version?**\r\n\r\nUse any of three ways: (1) Spring Boot feature, or use Maven compiler plugin with either (2) `source` &amp; `target` or (3) with `release`.\r\n\r\n# Spring Boot\r\n\r\n1) `&lt;java.version&gt;` is not referenced in the Maven documentation.  \r\nIt is a Spring Boot specificity.   \r\nIt allows to set the source and the target java version with the same version such as this one to specify java 1.8 for both : \r\n\r\n    &lt;properties&gt;\r\n         &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    &lt;/properties&gt;   \r\n\r\nFeel free to use it if you use Spring Boot.\r\n\r\n\r\n# `maven-compiler-plugin` with `source` &amp; `target`\r\n\r\n2) Using `maven-compiler-plugin` or `maven.compiler.source`/`maven.compiler.target` properties are equivalent.    \r\n\r\nThat is indeed : \r\n\r\n    &lt;plugins&gt;\r\n        &lt;plugin&gt;    \r\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n            &lt;configuration&gt;\r\n                &lt;source&gt;1.8&lt;/source&gt;\r\n                &lt;target&gt;1.8&lt;/target&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n\r\nis equivalent to :\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n    &lt;/properties&gt;\r\n\r\naccording to the [Maven documentation of the compiler plugin][1]\r\nsince the `&lt;source&gt;` and the `&lt;target&gt;` elements in the compiler configuration use the properties `maven.compiler.source` and `maven.compiler.target` if they are defined.   \r\n\r\n&gt; [**source**][3]\r\n\r\n&gt; The `-source` argument for the Java compiler.  \r\n&gt; **NOTE**: Since 3.8.0 the default value has changed from 1.5 to 1.6. Since 3.9.0 the default value has changed from 1.6 to 1.7  \r\n&gt; Default value is: 1.7.  \r\n&gt; User property is: `maven.compiler.source`.\r\n\r\n\r\n&gt; [**target**][4]\r\n\r\n&gt; The `-target` argument for the Java compiler.  \r\n&gt; **NOTE**: Since 3.8.0 the default value has changed from 1.5 to 1.6. Since 3.9.0 the default value has changed from 1.6 to 1.7  \r\n&gt; Default value is: `1.6`.  \r\n&gt; User property is: `maven.compiler.target`.\r\n\r\nAbout the default values  for `source` and  `target`, note that\r\n [since the `3.8.0` of the maven compiler, the default values have changed from `1.5` to `1.6`][2].     \r\n\r\n# `maven-compiler-plugin` with `release` instead of `source` &amp; `target`\r\n\r\n3) The maven-compiler-plugin `3.6` and later versions provide a new way :\r\n\r\n\t&lt;plugin&gt;\r\n\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.8.0&lt;/version&gt;\r\n\t\t&lt;configuration&gt;\r\n\t\t\t&lt;release&gt;9&lt;/release&gt;\r\n\t\t&lt;/configuration&gt;\r\n\t&lt;/plugin&gt;\r\n\r\nYou could also declare just :\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;maven.compiler.release&gt;9&lt;/maven.compiler.release&gt;\r\n\t&lt;/properties&gt;\r\n\r\nBut at this time it will not work as the `maven-compiler-plugin` default version you use doesn&#39;t rely on a recent enough version.   \r\n\r\nThe Maven `release` argument conveys  `release` : a [new JVM standard option ][5] that we could pass from Java 9 :\r\n\r\n&gt; Compiles against the public, supported and documented API for a\r\n&gt; specific VM version.\r\n\r\nThis way provides a standard way to specify the same version for the `source`, the `target` and the `bootstrap` JVM options.      \r\nNote that specifying the `bootstrap` is a good practice for cross compilations and it will not hurt if you don&#39;t make cross compilations either.     \r\n\r\n----------\r\n\r\n**Which is the best way to specify the JDK version?**\r\n\r\nThe first way (`&lt;java.version&gt;`) is allowed only if you use Spring Boot.   \r\n\r\n**For Java 8 and below :**\r\n\r\nAbout the two other ways : valuing the `maven.compiler.source`/`maven.compiler.target` properties **or** using the `maven-compiler-plugin`, you can use one or the other. It changes nothing in the facts since finally the two solutions rely on the same properties and the same mechanism : the maven core compiler plugin.   \r\n\r\nWell, if you don&#39;t need to specify other properties or behavior than Java versions in the compiler plugin, using this way makes more sense as this is more concise:\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n    &lt;/properties&gt;\r\n\r\n**From Java 9 :**\r\n\r\nThe `release` argument (third point) is a way to strongly consider if you want to use the same version for the source and the target.   \r\n\r\n**What happens if the version differs between the JDK in JAVA_HOME and which one specified in the pom.xml?**\r\n\r\nIt is not a problem if the JDK referenced by the `JAVA_HOME` is compatible with the version specified in the pom but to ensure a better cross-compilation compatibility think about adding the `bootstrap` JVM option with as value the path of the `rt.jar` of the `target` version.     \r\n\r\nAn important thing to consider is that the `source` and the `target` version in the Maven configuration should not be superior to the JDK version referenced by the `JAVA_HOME`.   \r\nA older version of the JDK cannot compile with a more recent version since it doesn&#39;t know its specification.    \r\n\r\nTo get information about the source, target and release supported versions according to the used JDK, please refer to [java compilation : source, target and release supported versions][6].\r\n\r\n\r\n----------\r\n\r\n\r\n**How handle the case of JDK referenced by the JAVA_HOME is not compatible with the java target and/or source versions specified in the pom?**\r\n\r\nFor example, if your `JAVA_HOME` refers to a JDK 1.7 and you specify a JDK 1.8 as source and target in the compiler configuration of your pom.xml, it will be a problem because as explained, the JDK 1.7 doesn&#39;t know how to compile with.  \r\nFrom its point of view, it is an unknown JDK version since it was released after it.   \r\nIn this case, you should configure the Maven compiler plugin to specify the JDK in this way :\r\n\r\n    &lt;plugin&gt;\r\n    \t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n    \t&lt;configuration&gt;\r\n    \t\t&lt;source&gt;1.8&lt;/source&gt;\r\n    \t\t&lt;target&gt;1.8&lt;/target&gt;\r\n            &lt;compilerVersion&gt;1.8&lt;/compilerVersion&gt;\t\t\r\n    \t\t&lt;fork&gt;true&lt;/fork&gt;\r\n    \t\t&lt;executable&gt;D:\\jdk1.8\\bin\\javac&lt;/executable&gt;\t\t\t\t\r\n    \t&lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\nYou could have more details in [examples with maven compiler plugin][7].   \r\n\r\n\r\n----------\r\n\r\n\r\nIt is not asked but cases where that may be more complicated is when you specify source but not target. It may use a different version in target according to the source version. Rules are particular : you can read about them in [the Cross-Compilation Options part][8].\r\n\r\n\r\n----------\r\n\r\n**Why the compiler plugin is traced in the output at the execution of the Maven `package` goal even if you don&#39;t specify it in the pom.xml?**\r\n\r\n\r\n\r\nTo compile your code and more generally to perform all tasks required for a maven goal, Maven needs tools. So, it uses core Maven plugins (you recognize a core Maven plugin by its `groupId` : `org.apache.maven.plugins`) to do the required tasks : compiler plugin for compiling classes,  test plugin for executing tests,  and so for... So, even if you don&#39;t declare these plugins, they are bound to the execution of the Maven lifecycle.    \r\nAt the root dir of your Maven project, you can run the command : `mvn help:effective-pom` to get the final pom effectively used. You could see among other information, attached plugins by Maven (specified or not in your pom.xml), with the used version, their configuration and the executed goals for each phase of the lifecycle.   \r\n\r\nIn the output of the `mvn help:effective-pom` command, you could see the declaration of these core plugins in the `&lt;build&gt;&lt;plugins&gt;` element, for example :\r\n\r\n    ...\r\n    &lt;plugin&gt;\r\n       &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\r\n       &lt;version&gt;2.5&lt;/version&gt;\r\n       &lt;executions&gt;\r\n         &lt;execution&gt;\r\n           &lt;id&gt;default-clean&lt;/id&gt;\r\n           &lt;phase&gt;clean&lt;/phase&gt;\r\n           &lt;goals&gt;\r\n             &lt;goal&gt;clean&lt;/goal&gt;\r\n           &lt;/goals&gt;\r\n         &lt;/execution&gt;\r\n       &lt;/executions&gt;\r\n     &lt;/plugin&gt;\r\n     &lt;plugin&gt;\r\n       &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n       &lt;version&gt;2.6&lt;/version&gt;\r\n       &lt;executions&gt;\r\n         &lt;execution&gt;\r\n           &lt;id&gt;default-testResources&lt;/id&gt;\r\n           &lt;phase&gt;process-test-resources&lt;/phase&gt;\r\n           &lt;goals&gt;\r\n             &lt;goal&gt;testResources&lt;/goal&gt;\r\n           &lt;/goals&gt;\r\n         &lt;/execution&gt;\r\n         &lt;execution&gt;\r\n           &lt;id&gt;default-resources&lt;/id&gt;\r\n           &lt;phase&gt;process-resources&lt;/phase&gt;\r\n           &lt;goals&gt;\r\n             &lt;goal&gt;resources&lt;/goal&gt;\r\n           &lt;/goals&gt;\r\n         &lt;/execution&gt;\r\n       &lt;/executions&gt;\r\n     &lt;/plugin&gt;\r\n     &lt;plugin&gt;\r\n       &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n       &lt;version&gt;3.1&lt;/version&gt;\r\n       &lt;executions&gt;\r\n         &lt;execution&gt;\r\n           &lt;id&gt;default-compile&lt;/id&gt;\r\n           &lt;phase&gt;compile&lt;/phase&gt;\r\n           &lt;goals&gt;\r\n             &lt;goal&gt;compile&lt;/goal&gt;\r\n           &lt;/goals&gt;\r\n         &lt;/execution&gt;\r\n         &lt;execution&gt;\r\n           &lt;id&gt;default-testCompile&lt;/id&gt;\r\n           &lt;phase&gt;test-compile&lt;/phase&gt;\r\n           &lt;goals&gt;\r\n             &lt;goal&gt;testCompile&lt;/goal&gt;\r\n           &lt;/goals&gt;\r\n         &lt;/execution&gt;\r\n       &lt;/executions&gt;\r\n     &lt;/plugin&gt;\r\n      ...\r\n\r\n \r\n\r\nYou can have more information about it in [the introduction of the Maven lifeycle in the Maven documentation][9].\r\n\r\nNevertheless, you can declare these plugins when you want to configure them with other values as default values (for example, you did it when you declared the maven-compiler plugin in your pom.xml to adjust the JDK version to use) or when you want to add some plugin executions not used by default in the Maven lifecycle.\r\n\r\n\r\n  [1]: https://maven.apache.org/plugins/maven-compiler-plugin/compile-mojo.html\r\n  [2]: https://issues.apache.org/jira/secure/ReleaseNote.jspa?projectId=12317225&amp;version=12341563\r\n  [3]: https://maven.apache.org/plugins/maven-compiler-plugin/compile-mojo.html#source\r\n  [4]: https://maven.apache.org/plugins/maven-compiler-plugin/compile-mojo.html#target\r\n  [5]: https://docs.oracle.com/javase/9/tools/javac.htm#JSWOR627\r\n  [6]: https://stackoverflow.com/questions/51692748/java-compilation-source-target-and-release-supported-versions/51692749#51692749\r\n  [7]: https://maven.apache.org/plugins/maven-compiler-plugin/examples/compile-using-different-jdk.html\r\n  [8]: https://docs.oracle.com/javase/8/docs/technotes/tools/unix/javac.html\r\n  [9]: https://maven.apache.org/guides/introduction/introduction-to-the-lifecycle.html","title":"Specifying Java version in maven - differences between properties and compiler plugin","body":"<p><strong>How to specify the JDK version?</strong></p>\n<p>Use any of three ways: (1) Spring Boot feature, or use Maven compiler plugin with either (2) <code>source</code> &amp; <code>target</code> or (3) with <code>release</code>.</p>\n<h1>Spring Boot</h1>\n<ol>\n<li><p><code>&lt;java.version&gt;</code> is not referenced in the Maven documentation.<br />\nIt is a Spring Boot specificity.<br />\nIt allows to set the source and the target java version with the same version such as this one to specify java 1.8 for both :</p>\n \n      1.8\n    \n</li>\n</ol>\n<p>Feel free to use it if you use Spring Boot.</p>\n<h1><code>maven-compiler-plugin</code> with <code>source</code> &amp; <code>target</code></h1>\n<ol start=\"2\">\n<li>Using <code>maven-compiler-plugin</code> or <code>maven.compiler.source</code>/<code>maven.compiler.target</code> properties are equivalent.</li>\n</ol>\n<p>That is indeed :</p>\n<pre><code>&lt;plugins&gt;\n    &lt;plugin&gt;    \n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;configuration&gt;\n            &lt;source&gt;1.8&lt;/source&gt;\n            &lt;target&gt;1.8&lt;/target&gt;\n        &lt;/configuration&gt;\n    &lt;/plugin&gt;\n&lt;/plugins&gt;\n</code></pre>\n<p>is equivalent to :</p>\n<pre><code>&lt;properties&gt;\n    &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n&lt;/properties&gt;\n</code></pre>\n<p>according to the <a href=\"https://maven.apache.org/plugins/maven-compiler-plugin/compile-mojo.html\" rel=\"noreferrer\">Maven documentation of the compiler plugin</a>\nsince the <code>&lt;source&gt;</code> and the <code>&lt;target&gt;</code> elements in the compiler configuration use the properties <code>maven.compiler.source</code> and <code>maven.compiler.target</code> if they are defined.</p>\n<blockquote>\n<p><a href=\"https://maven.apache.org/plugins/maven-compiler-plugin/compile-mojo.html#source\" rel=\"noreferrer\"><strong>source</strong></a></p>\n</blockquote>\n<blockquote>\n<p>The <code>-source</code> argument for the Java compiler.<br />\n<strong>NOTE</strong>: Since 3.8.0 the default value has changed from 1.5 to 1.6. Since 3.9.0 the default value has changed from 1.6 to 1.7<br />\nDefault value is: 1.7.<br />\nUser property is: <code>maven.compiler.source</code>.</p>\n</blockquote>\n<blockquote>\n<p><a href=\"https://maven.apache.org/plugins/maven-compiler-plugin/compile-mojo.html#target\" rel=\"noreferrer\"><strong>target</strong></a></p>\n</blockquote>\n<blockquote>\n<p>The <code>-target</code> argument for the Java compiler.<br />\n<strong>NOTE</strong>: Since 3.8.0 the default value has changed from 1.5 to 1.6. Since 3.9.0 the default value has changed from 1.6 to 1.7<br />\nDefault value is: <code>1.6</code>.<br />\nUser property is: <code>maven.compiler.target</code>.</p>\n</blockquote>\n<p>About the default values  for <code>source</code> and  <code>target</code>, note that\n<a href=\"https://issues.apache.org/jira/secure/ReleaseNote.jspa?projectId=12317225&amp;version=12341563\" rel=\"noreferrer\">since the <code>3.8.0</code> of the maven compiler, the default values have changed from <code>1.5</code> to <code>1.6</code></a>.</p>\n<h1><code>maven-compiler-plugin</code> with <code>release</code> instead of <code>source</code> &amp; <code>target</code></h1>\n<ol start=\"3\">\n<li><p>The maven-compiler-plugin <code>3.6</code> and later versions provide a new way :</p>\n \n     org.apache.maven.plugins\n     maven-compiler-plugin\n     3.8.0\n     \n         9\n     \n \n</li>\n</ol>\n<p>You could also declare just :</p>\n<pre><code>&lt;properties&gt;\n    &lt;maven.compiler.release&gt;9&lt;/maven.compiler.release&gt;\n&lt;/properties&gt;\n</code></pre>\n<p>But at this time it will not work as the <code>maven-compiler-plugin</code> default version you use doesn't rely on a recent enough version.</p>\n<p>The Maven <code>release</code> argument conveys  <code>release</code> : a <a href=\"https://docs.oracle.com/javase/9/tools/javac.htm#JSWOR627\" rel=\"noreferrer\">new JVM standard option </a> that we could pass from Java 9 :</p>\n<blockquote>\n<p>Compiles against the public, supported and documented API for a\nspecific VM version.</p>\n</blockquote>\n<p>This way provides a standard way to specify the same version for the <code>source</code>, the <code>target</code> and the <code>bootstrap</code> JVM options.<br />\nNote that specifying the <code>bootstrap</code> is a good practice for cross compilations and it will not hurt if you don't make cross compilations either.</p>\n<hr />\n<p><strong>Which is the best way to specify the JDK version?</strong></p>\n<p>The first way (<code>&lt;java.version&gt;</code>) is allowed only if you use Spring Boot.</p>\n<p><strong>For Java 8 and below :</strong></p>\n<p>About the two other ways : valuing the <code>maven.compiler.source</code>/<code>maven.compiler.target</code> properties <strong>or</strong> using the <code>maven-compiler-plugin</code>, you can use one or the other. It changes nothing in the facts since finally the two solutions rely on the same properties and the same mechanism : the maven core compiler plugin.</p>\n<p>Well, if you don't need to specify other properties or behavior than Java versions in the compiler plugin, using this way makes more sense as this is more concise:</p>\n<pre><code>&lt;properties&gt;\n    &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n&lt;/properties&gt;\n</code></pre>\n<p><strong>From Java 9 :</strong></p>\n<p>The <code>release</code> argument (third point) is a way to strongly consider if you want to use the same version for the source and the target.</p>\n<p><strong>What happens if the version differs between the JDK in JAVA_HOME and which one specified in the pom.xml?</strong></p>\n<p>It is not a problem if the JDK referenced by the <code>JAVA_HOME</code> is compatible with the version specified in the pom but to ensure a better cross-compilation compatibility think about adding the <code>bootstrap</code> JVM option with as value the path of the <code>rt.jar</code> of the <code>target</code> version.</p>\n<p>An important thing to consider is that the <code>source</code> and the <code>target</code> version in the Maven configuration should not be superior to the JDK version referenced by the <code>JAVA_HOME</code>.<br />\nA older version of the JDK cannot compile with a more recent version since it doesn't know its specification.</p>\n<p>To get information about the source, target and release supported versions according to the used JDK, please refer to <a href=\"https://stackoverflow.com/questions/51692748/java-compilation-source-target-and-release-supported-versions/51692749#51692749\">java compilation : source, target and release supported versions</a>.</p>\n<hr />\n<p><strong>How handle the case of JDK referenced by the JAVA_HOME is not compatible with the java target and/or source versions specified in the pom?</strong></p>\n<p>For example, if your <code>JAVA_HOME</code> refers to a JDK 1.7 and you specify a JDK 1.8 as source and target in the compiler configuration of your pom.xml, it will be a problem because as explained, the JDK 1.7 doesn't know how to compile with.<br />\nFrom its point of view, it is an unknown JDK version since it was released after it.<br />\nIn this case, you should configure the Maven compiler plugin to specify the JDK in this way :</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n    &lt;configuration&gt;\n        &lt;source&gt;1.8&lt;/source&gt;\n        &lt;target&gt;1.8&lt;/target&gt;\n        &lt;compilerVersion&gt;1.8&lt;/compilerVersion&gt;      \n        &lt;fork&gt;true&lt;/fork&gt;\n        &lt;executable&gt;D:\\jdk1.8\\bin\\javac&lt;/executable&gt;                \n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>You could have more details in <a href=\"https://maven.apache.org/plugins/maven-compiler-plugin/examples/compile-using-different-jdk.html\" rel=\"noreferrer\">examples with maven compiler plugin</a>.</p>\n<hr />\n<p>It is not asked but cases where that may be more complicated is when you specify source but not target. It may use a different version in target according to the source version. Rules are particular : you can read about them in <a href=\"https://docs.oracle.com/javase/8/docs/technotes/tools/unix/javac.html\" rel=\"noreferrer\">the Cross-Compilation Options part</a>.</p>\n<hr />\n<p><strong>Why the compiler plugin is traced in the output at the execution of the Maven <code>package</code> goal even if you don't specify it in the pom.xml?</strong></p>\n<p>To compile your code and more generally to perform all tasks required for a maven goal, Maven needs tools. So, it uses core Maven plugins (you recognize a core Maven plugin by its <code>groupId</code> : <code>org.apache.maven.plugins</code>) to do the required tasks : compiler plugin for compiling classes,  test plugin for executing tests,  and so for... So, even if you don't declare these plugins, they are bound to the execution of the Maven lifecycle.<br />\nAt the root dir of your Maven project, you can run the command : <code>mvn help:effective-pom</code> to get the final pom effectively used. You could see among other information, attached plugins by Maven (specified or not in your pom.xml), with the used version, their configuration and the executed goals for each phase of the lifecycle.</p>\n<p>In the output of the <code>mvn help:effective-pom</code> command, you could see the declaration of these core plugins in the <code>&lt;build&gt;&lt;plugins&gt;</code> element, for example :</p>\n<pre><code>...\n&lt;plugin&gt;\n   &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\n   &lt;version&gt;2.5&lt;/version&gt;\n   &lt;executions&gt;\n     &lt;execution&gt;\n       &lt;id&gt;default-clean&lt;/id&gt;\n       &lt;phase&gt;clean&lt;/phase&gt;\n       &lt;goals&gt;\n         &lt;goal&gt;clean&lt;/goal&gt;\n       &lt;/goals&gt;\n     &lt;/execution&gt;\n   &lt;/executions&gt;\n &lt;/plugin&gt;\n &lt;plugin&gt;\n   &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n   &lt;version&gt;2.6&lt;/version&gt;\n   &lt;executions&gt;\n     &lt;execution&gt;\n       &lt;id&gt;default-testResources&lt;/id&gt;\n       &lt;phase&gt;process-test-resources&lt;/phase&gt;\n       &lt;goals&gt;\n         &lt;goal&gt;testResources&lt;/goal&gt;\n       &lt;/goals&gt;\n     &lt;/execution&gt;\n     &lt;execution&gt;\n       &lt;id&gt;default-resources&lt;/id&gt;\n       &lt;phase&gt;process-resources&lt;/phase&gt;\n       &lt;goals&gt;\n         &lt;goal&gt;resources&lt;/goal&gt;\n       &lt;/goals&gt;\n     &lt;/execution&gt;\n   &lt;/executions&gt;\n &lt;/plugin&gt;\n &lt;plugin&gt;\n   &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n   &lt;version&gt;3.1&lt;/version&gt;\n   &lt;executions&gt;\n     &lt;execution&gt;\n       &lt;id&gt;default-compile&lt;/id&gt;\n       &lt;phase&gt;compile&lt;/phase&gt;\n       &lt;goals&gt;\n         &lt;goal&gt;compile&lt;/goal&gt;\n       &lt;/goals&gt;\n     &lt;/execution&gt;\n     &lt;execution&gt;\n       &lt;id&gt;default-testCompile&lt;/id&gt;\n       &lt;phase&gt;test-compile&lt;/phase&gt;\n       &lt;goals&gt;\n         &lt;goal&gt;testCompile&lt;/goal&gt;\n       &lt;/goals&gt;\n     &lt;/execution&gt;\n   &lt;/executions&gt;\n &lt;/plugin&gt;\n  ...\n</code></pre>\n<p>You can have more information about it in <a href=\"https://maven.apache.org/guides/introduction/introduction-to-the-lifecycle.html\" rel=\"noreferrer\">the introduction of the Maven lifeycle in the Maven documentation</a>.</p>\n<p>Nevertheless, you can declare these plugins when you want to configure them with other values as default values (for example, you did it when you declared the maven-compiler plugin in your pom.xml to adjust the JDK version to use) or when you want to add some plugin executions not used by default in the Maven lifecycle.</p>\n"},{"tags":[],"owner":{"account_id":8092942,"reputation":11,"user_id":6098325,"display_name":"Stefano"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1528883473,"creation_date":1528883473,"answer_id":50834224,"question_id":38882080,"body_markdown":"Consider the alternative:\r\n\r\n    &lt;properties&gt;\r\n        &lt;javac.src.version&gt;1.8&lt;/javac.src.version&gt;\r\n    \t&lt;javac.target.version&gt;1.8&lt;/javac.target.version&gt;\r\n    &lt;/properties&gt;\r\n\r\nIt should be the same thing of `maven.compiler.source/maven.compiler.target` but the above solution works for me, otherwise the second one gets the parent specification (I have a matrioska of .pom)\r\n","title":"Specifying Java version in maven - differences between properties and compiler plugin","body":"<p>Consider the alternative:</p>\n\n<pre><code>&lt;properties&gt;\n    &lt;javac.src.version&gt;1.8&lt;/javac.src.version&gt;\n    &lt;javac.target.version&gt;1.8&lt;/javac.target.version&gt;\n&lt;/properties&gt;\n</code></pre>\n\n<p>It should be the same thing of <code>maven.compiler.source/maven.compiler.target</code> but the above solution works for me, otherwise the second one gets the parent specification (I have a matrioska of .pom)</p>\n"},{"tags":[],"owner":{"account_id":11047947,"reputation":1318,"user_id":8113350,"display_name":"Sen"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1608656807,"creation_date":1542722476,"answer_id":53394694,"question_id":38882080,"body_markdown":"None of the solutions above worked for me straight away. So I followed these steps:\r\n\r\n\r\n 1. Add in `pom.xml:`\r\n    \r\n```\r\n&lt;properties&gt;\r\n    &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n    &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n&lt;/properties&gt;\r\n```\r\n    \r\n 2. Go to `Project Properties` &gt; `Java Build Path`, then remove the JRE\r\n        System Library pointing to `JRE1.5`.\r\n    \r\n 3. Force updated the project.\r\n\r\n ","title":"Specifying Java version in maven - differences between properties and compiler plugin","body":"<p>None of the solutions above worked for me straight away. So I followed these steps:</p>\n<ol>\n<li>Add in <code>pom.xml:</code></li>\n</ol>\n<pre><code>&lt;properties&gt;\n    &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n    &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n&lt;/properties&gt;\n</code></pre>\n<ol start=\"2\">\n<li><p>Go to <code>Project Properties</code> &gt; <code>Java Build Path</code>, then remove the JRE\nSystem Library pointing to <code>JRE1.5</code>.</p>\n</li>\n<li><p>Force updated the project.</p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":4280750,"reputation":1855,"user_id":3500196,"display_name":"Shivang Agarwal"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1617687809,"creation_date":1617687809,"answer_id":66963233,"question_id":38882080,"body_markdown":"The below steps work for me like charm! so thought to share with everyone.\r\n \r\nThese are the lines i added in the pom.xml file to work with a basic project. I am using Java 12 (you can replace yours 11, 10, 1.8 etc).\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;12&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;12&lt;/maven.compiler.target&gt;\r\n    &lt;/properties&gt;\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;release&gt;12&lt;/release&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\nAfter changing the pom file please reload your project so that IDE can download/fetch the plugin to the project. (For IntelijIDEA: Right-click on pom.xml -&gt; Go to maven -&gt; Reload project).\r\n\r\nplease make sure to configure the desire version in your IDE as well. ","title":"Specifying Java version in maven - differences between properties and compiler plugin","body":"<p>The below steps work for me like charm! so thought to share with everyone.</p>\n<p>These are the lines i added in the pom.xml file to work with a basic project. I am using Java 12 (you can replace yours 11, 10, 1.8 etc).</p>\n<pre><code>&lt;properties&gt;\n    &lt;maven.compiler.source&gt;12&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;12&lt;/maven.compiler.target&gt;\n&lt;/properties&gt;\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.8.1&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;release&gt;12&lt;/release&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n<p>After changing the pom file please reload your project so that IDE can download/fetch the plugin to the project. (For IntelijIDEA: Right-click on pom.xml -&gt; Go to maven -&gt; Reload project).</p>\n<p>please make sure to configure the desire version in your IDE as well.</p>\n"},{"tags":[],"owner":{"account_id":11018018,"reputation":120,"user_id":8093288,"display_name":"Amey"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1622534924,"creation_date":1622534924,"answer_id":67785040,"question_id":38882080,"body_markdown":"For NetBeans IDE, changing project properties - (Jersey Service) - Categories &gt; Sources &gt; \r\nSelected &#39;Source/Binary Format&#39; as 1.8.","title":"Specifying Java version in maven - differences between properties and compiler plugin","body":"<p>For NetBeans IDE, changing project properties - (Jersey Service) - Categories &gt; Sources &gt;\nSelected 'Source/Binary Format' as 1.8.</p>\n"},{"tags":[],"owner":{"account_id":9557519,"reputation":543,"user_id":7099541,"display_name":"afshar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643007477,"creation_date":1643007477,"answer_id":70830051,"question_id":38882080,"body_markdown":"if you are using IntelliJ idea maven build.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hrSLJ.png","title":"Specifying Java version in maven - differences between properties and compiler plugin","body":"<p>if you are using IntelliJ idea maven build.</p>\n<p><a href=\"https://i.stack.imgur.com/hrSLJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hrSLJ.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":3020387,"reputation":3402,"user_id":2561582,"accept_rate":62,"display_name":"Plebejusz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":291317,"favorite_count":0,"down_vote_count":0,"up_vote_count":292,"accepted_answer_id":38883073,"answer_count":6,"score":292,"last_activity_date":1654807195,"creation_date":1470857744,"question_id":38882080,"body_markdown":"I&#39;m not very experienced with Maven and while experimenting with multi-module project I started wondering how can I specify Java version for all my child modules in parent Maven pom. Until today I was using just:\r\n\r\n    &lt;properties&gt;\r\n    \t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n...but when researching I found that you can also specify Java version in Maven compiler plugin, like that:\r\n\r\n    &lt;plugins&gt;\r\n        &lt;plugin&gt;    \r\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n            &lt;configuration&gt;\r\n                &lt;source&gt;1.8&lt;/source&gt;\r\n                &lt;target&gt;1.8&lt;/target&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n\r\nAnd then wrap this into plugin management tag to enable child poms usage of this. So the first question is this: \r\n\r\n**What are the differences beetwen setting Java version in properties and in Maven compiler plugin?**\r\n\r\nI couldn&#39;t find clear answer but in process of researching I found that you can also specify Java version in this way:\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n    &lt;/properties&gt;\r\n\r\n...which suggest that compiler plugin is there even if I don&#39;t explicit declare it. Running `mvn package` outputs with \r\n\r\n    maven-compiler-plugin:3.1:compile (default-compile) @ testproj ---\r\n\r\n...and some other plugins that I didn&#39;t declare. \r\n\r\n**So are those plugins default, hidden part of Maven pom? Are there any differences between setting source/target in properties and in Maven plugin configuration element?**\r\n\r\nSome other questions are - which way should be used (and when if they are not equal)? Which one is best for multi-module project and what happens if Java version specified in pom is different than version pointed in `JAVA_HOME`?","title":"Specifying Java version in maven - differences between properties and compiler plugin","body":"<p>I'm not very experienced with Maven and while experimenting with multi-module project I started wondering how can I specify Java version for all my child modules in parent Maven pom. Until today I was using just:</p>\n<pre><code>&lt;properties&gt;\n    &lt;java.version&gt;1.8&lt;/java.version&gt;\n&lt;/properties&gt;\n</code></pre>\n<p>...but when researching I found that you can also specify Java version in Maven compiler plugin, like that:</p>\n<pre><code>&lt;plugins&gt;\n    &lt;plugin&gt;    \n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;configuration&gt;\n            &lt;source&gt;1.8&lt;/source&gt;\n            &lt;target&gt;1.8&lt;/target&gt;\n        &lt;/configuration&gt;\n    &lt;/plugin&gt;\n&lt;/plugins&gt;\n</code></pre>\n<p>And then wrap this into plugin management tag to enable child poms usage of this. So the first question is this:</p>\n<p><strong>What are the differences beetwen setting Java version in properties and in Maven compiler plugin?</strong></p>\n<p>I couldn't find clear answer but in process of researching I found that you can also specify Java version in this way:</p>\n<pre><code>&lt;properties&gt;\n    &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n&lt;/properties&gt;\n</code></pre>\n<p>...which suggest that compiler plugin is there even if I don't explicit declare it. Running <code>mvn package</code> outputs with</p>\n<pre><code>maven-compiler-plugin:3.1:compile (default-compile) @ testproj ---\n</code></pre>\n<p>...and some other plugins that I didn't declare.</p>\n<p><strong>So are those plugins default, hidden part of Maven pom? Are there any differences between setting source/target in properties and in Maven plugin configuration element?</strong></p>\n<p>Some other questions are - which way should be used (and when if they are not equal)? Which one is best for multi-module project and what happens if Java version specified in pom is different than version pointed in <code>JAVA_HOME</code>?</p>\n"},{"tags":["java","junit5","pitest"],"answers":[{"tags":[],"owner":{"account_id":321412,"reputation":5968,"user_id":640224,"accept_rate":71,"display_name":"henry"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654807109,"creation_date":1654807109,"answer_id":72566404,"question_id":72555693,"body_markdown":"As of pitest 1.4.7 upwards, the coverage system pitest uses introduces a synthetic field to each class to hold the coverage probes. This is a common approach, also used by coverage systems such as jacoco.\r\n\r\nMost reflection based libraries filter out synthetic fields. It seems that the code your are running is not well behaved. If it is your own code, you will need to update it to ignore synthetic fields. If not, you will need to contact the library maintainer.\r\n\r\nIncidently, the latest version of pitest is 1.8.0. I would recomend upgrading to this rather than 1.6.0. ","title":"Pitest JUnit5 mutation fails","body":"<p>As of pitest 1.4.7 upwards, the coverage system pitest uses introduces a synthetic field to each class to hold the coverage probes. This is a common approach, also used by coverage systems such as jacoco.</p>\n<p>Most reflection based libraries filter out synthetic fields. It seems that the code your are running is not well behaved. If it is your own code, you will need to update it to ignore synthetic fields. If not, you will need to contact the library maintainer.</p>\n<p>Incidently, the latest version of pitest is 1.8.0. I would recomend upgrading to this rather than 1.6.0.</p>\n"}],"owner":{"account_id":25512983,"reputation":1,"user_id":19304290,"display_name":"Rain03"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":536,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654807109,"creation_date":1654756575,"question_id":72555693,"body_markdown":"I have the following question:\r\n\r\nI have to upgrade some tests from JUnit 4 to JUnit 5 and, also, update the version of pitest from 1.4.0 to 1.6.0.\r\n\r\nWith the tests on JUnit 4 and pitest 1.4.0 tests everything works.\r\nAfter migrating the test to JUnit 5, with some modification, test are passing but, when I do pitest the tests with pojo validation fails. \r\n\r\nExample of a test:\r\n```\r\n    @BeforeEach\r\n    public void setup() {\r\n        pojoClasses = PojoClassFactory.getPojoClassesRecursively(POJO_PACKAGE, pojoClass -&gt; pojoClass.getName().endsWith(&quot;Dto&quot;));\r\n\r\n        pojoValidator = new PojoValidator();\r\n\r\n        pojoValidator.addRule(new NoPublicFieldsRule());\r\n        pojoValidator.addRule(new NoPrimitivesRule());\r\n        pojoValidator.addRule(new NoStaticExceptFinalRule());\r\n        pojoValidator.addRule(new GetterMustExistRule());\r\n        pojoValidator.addRule(new SetterMustExistRule());\r\n\r\n        pojoValidator.addTester(new DefaultValuesNullTester());\r\n        pojoValidator.addTester(new SetterTester());\r\n        pojoValidator.addTester(new GetterTester());\r\n    }\r\n\r\n    @Test\r\n    public void testPojoStructureAndBehavior() {\r\n        for (PojoClass pojoClass : pojoClasses) {\r\n            pojoValidator.runValidation(pojoClass);\r\n        }\r\n    }\r\n```\r\n\r\nAnd the error I got:\r\n```\r\njava.lang.AssertionError: Primitive fields (byte, short, int, long, float, double, boolean, char) not allowed [PojoFieldImpl [field=private static transient int something.something.something.packagename.classname.$$pitCoverageProbeSize, fieldGetter=null, fieldSetter=null]]\r\n```\r\n\r\nAny ideas?\r\n\r\n","title":"Pitest JUnit5 mutation fails","body":"<p>I have the following question:</p>\n<p>I have to upgrade some tests from JUnit 4 to JUnit 5 and, also, update the version of pitest from 1.4.0 to 1.6.0.</p>\n<p>With the tests on JUnit 4 and pitest 1.4.0 tests everything works.\nAfter migrating the test to JUnit 5, with some modification, test are passing but, when I do pitest the tests with pojo validation fails.</p>\n<p>Example of a test:</p>\n<pre><code>    @BeforeEach\n    public void setup() {\n        pojoClasses = PojoClassFactory.getPojoClassesRecursively(POJO_PACKAGE, pojoClass -&gt; pojoClass.getName().endsWith(&quot;Dto&quot;));\n\n        pojoValidator = new PojoValidator();\n\n        pojoValidator.addRule(new NoPublicFieldsRule());\n        pojoValidator.addRule(new NoPrimitivesRule());\n        pojoValidator.addRule(new NoStaticExceptFinalRule());\n        pojoValidator.addRule(new GetterMustExistRule());\n        pojoValidator.addRule(new SetterMustExistRule());\n\n        pojoValidator.addTester(new DefaultValuesNullTester());\n        pojoValidator.addTester(new SetterTester());\n        pojoValidator.addTester(new GetterTester());\n    }\n\n    @Test\n    public void testPojoStructureAndBehavior() {\n        for (PojoClass pojoClass : pojoClasses) {\n            pojoValidator.runValidation(pojoClass);\n        }\n    }\n</code></pre>\n<p>And the error I got:</p>\n<pre><code>java.lang.AssertionError: Primitive fields (byte, short, int, long, float, double, boolean, char) not allowed [PojoFieldImpl [field=private static transient int something.something.something.packagename.classname.$$pitCoverageProbeSize, fieldGetter=null, fieldSetter=null]]\n</code></pre>\n<p>Any ideas?</p>\n"},{"tags":["java","mockito","junit5"],"comments":[{"owner":{"account_id":10130520,"reputation":719,"user_id":7484134,"display_name":"Benjamin Eckardt"},"score":2,"creation_date":1654807243,"post_id":72566386,"comment_id":128186838,"body_markdown":"Might be valuable to see the implementation of your CarService.","body":"Might be valuable to see the implementation of your CarService."},{"owner":{"account_id":6099776,"reputation":1781,"user_id":4759182,"display_name":"rasilvap"},"score":0,"creation_date":1654807839,"post_id":72566386,"comment_id":128186997,"body_markdown":"The error is related with the mock of the resttemplate object in the  when(restTemplate.exchange(... line","body":"The error is related with the mock of the resttemplate object in the  when(restTemplate.exchange(... line"},{"owner":{"account_id":10130520,"reputation":719,"user_id":7484134,"display_name":"Benjamin Eckardt"},"score":0,"creation_date":1654886103,"post_id":72566386,"comment_id":128207754,"body_markdown":"I reckon the `restTemplate.exchange(...)` call within the CarService is slightly different and therefor not matches the mock rule. That&#39;s why I&#39;m asking for it.","body":"I reckon the <code>restTemplate.exchange(...)</code> call within the CarService is slightly different and therefor not matches the mock rule. That&#39;s why I&#39;m asking for it."}],"owner":{"account_id":6099776,"reputation":1781,"user_id":4759182,"display_name":"rasilvap"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":535,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654807004,"creation_date":1654807004,"question_id":72566386,"body_markdown":"I am using mockito to test a resttemplate exchange method, but I am getting a `BadRequest 400 : &quot;{&quot;timestamp&quot;:&quot;2022-06-09T20:27:37.950+00:00&quot;,&quot;status&quot;:400.` I am using junit 5 as well.\r\n\r\n\r\nThis is my code:\r\n\r\n    import com.fasterxml.jackson.core.JsonProcessingException;\r\n    import exception.HmacExeption;\r\n    import model.Payload;\r\n    import org.junit.jupiter.api.BeforeEach;\r\n    import org.junit.jupiter.api.Test;\r\n    import org.junit.jupiter.api.extension.ExtendWith;\r\n    import org.mockito.*;\r\n    import org.mockito.junit.jupiter.MockitoExtension;\r\n    import org.springframework.http.HttpEntity;\r\n    import org.springframework.http.HttpMethod;\r\n    import org.springframework.http.HttpStatus;\r\n    import org.springframework.http.ResponseEntity;\r\n    import org.springframework.web.client.RestTemplate;\r\n    \r\n    import java.security.InvalidKeyException;\r\n    import java.security.NoSuchAlgorithmException;\r\n    \r\n    @ExtendWith(MockitoExtension.class)\r\n    class GithubWebHookServiceTest {\r\n    \r\n        @Mock\r\n        private RestTemplate restTemplate;\r\n    \r\n        @InjectMocks\r\n        private CarService carService;\r\n    \r\n    \r\n       @Test\r\n        public void test() throws HmacExeption, NoSuchAlgorithmException, InvalidKeyException, JsonProcessingException {\r\n            ResponseEntity&lt;String&gt; responseEntity = new ResponseEntity&lt;String&gt;(&quot;sampleBodyString&quot;, HttpStatus.ACCEPTED);\r\n    \r\n            Mockito.\r\n                    when(restTemplate.exchange(\r\n                                    Matchers.anyString(),\r\n                                    Matchers.any(HttpMethod.class),\r\n                                    Matchers.&lt;HttpEntity&lt;?&gt;&gt; any(),\r\n                                    Matchers.&lt;Class&lt;String&gt;&gt; any()\r\n                            )\r\n                    ).thenReturn(responseEntity);\r\n    \r\n            carService.executeRestCall(new Payload());\r\n        }\r\n    \r\n    }\r\n\r\nNot sure, what am I missing.\r\n\r\nThanks!!","title":"BadRequest 400 when mocking a resttemplate exchange method","body":"<p>I am using mockito to test a resttemplate exchange method, but I am getting a <code>BadRequest 400 : &quot;{&quot;timestamp&quot;:&quot;2022-06-09T20:27:37.950+00:00&quot;,&quot;status&quot;:400.</code> I am using junit 5 as well.</p>\n<p>This is my code:</p>\n<pre><code>import com.fasterxml.jackson.core.JsonProcessingException;\nimport exception.HmacExeption;\nimport model.Payload;\nimport org.junit.jupiter.api.BeforeEach;\nimport org.junit.jupiter.api.Test;\nimport org.junit.jupiter.api.extension.ExtendWith;\nimport org.mockito.*;\nimport org.mockito.junit.jupiter.MockitoExtension;\nimport org.springframework.http.HttpEntity;\nimport org.springframework.http.HttpMethod;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.client.RestTemplate;\n\nimport java.security.InvalidKeyException;\nimport java.security.NoSuchAlgorithmException;\n\n@ExtendWith(MockitoExtension.class)\nclass GithubWebHookServiceTest {\n\n    @Mock\n    private RestTemplate restTemplate;\n\n    @InjectMocks\n    private CarService carService;\n\n\n   @Test\n    public void test() throws HmacExeption, NoSuchAlgorithmException, InvalidKeyException, JsonProcessingException {\n        ResponseEntity&lt;String&gt; responseEntity = new ResponseEntity&lt;String&gt;(&quot;sampleBodyString&quot;, HttpStatus.ACCEPTED);\n\n        Mockito.\n                when(restTemplate.exchange(\n                                Matchers.anyString(),\n                                Matchers.any(HttpMethod.class),\n                                Matchers.&lt;HttpEntity&lt;?&gt;&gt; any(),\n                                Matchers.&lt;Class&lt;String&gt;&gt; any()\n                        )\n                ).thenReturn(responseEntity);\n\n        carService.executeRestCall(new Payload());\n    }\n\n}\n</code></pre>\n<p>Not sure, what am I missing.</p>\n<p>Thanks!!</p>\n"},{"tags":["java","regex","split"],"comments":[{"owner":{"account_id":6697099,"reputation":709,"user_id":5164811,"display_name":"Erwan C."},"score":1,"creation_date":1441877270,"post_id":32497948,"comment_id":52855754,"body_markdown":"You can first split on &quot;[[&quot; and then split result[0] on &quot;,&quot;","body":"You can first split on &quot;[[&quot; and then split result[0] on &quot;,&quot;"}],"answers":[{"tags":[],"owner":{"account_id":214939,"reputation":18275,"user_id":469220,"accept_rate":75,"display_name":"Vlad"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1441878844,"creation_date":1441877239,"answer_id":32498016,"question_id":32497948,"body_markdown":"Except for the outer set of `[]`, that looks like JSON, so you could replace the outer `[]`s with `{}`s and parse it as JSON.\r\n\r\nEdit: I was a bit too quick to reply. JSON keys need to be strings, and `test`, `test1` etc. would also have had to be in quotes for this to be JSON. The following code splits on the top level commas and prints out the trimmed strings around them, dropping the outer `[]`s.\r\n\r\n    ....\r\n      public static void parse(String s) {\r\n        boolean quote = false;\r\n        int depth = 0;\r\n        int splitPoint = 1; // drop the first &#39;[&#39;\r\n        for (int i = 0; i &lt; s.length(); i++) {\r\n          char c = s.charAt(i);\r\n          switch (c) {\r\n            case &#39;&quot;&#39;:\r\n              quote = !quote;\r\n              break;\r\n            case &#39;{&#39;:\r\n            case &#39;[&#39;:\r\n              if (!quote) {\r\n                depth += 1;\r\n              }\r\n              break;\r\n            case &#39;}&#39;:\r\n            case &#39;]&#39;:\r\n              if (!quote) {\r\n                depth -= 1;\r\n              }\r\n              break;\r\n            case &#39;,&#39;:\r\n              if (!quote &amp;&amp; depth == 1) {\r\n                System.out.println(s.substring(splitPoint, i).trim()); // or store\r\n                splitPoint = i + 1;\r\n              }\r\n              break;\r\n          }\r\n        }\r\n        System.out.println(s.substring(splitPoint, s.length() - 1).trim()); // or store\r\n      }\r\n    ....\r\n\r\nOutput:\r\n\r\n    675: test\r\n    676: test1\r\n    677: test2\r\n    678: [[{&quot;id&quot;:0,&quot;value&quot;:&quot;15&quot;},{&quot;id&quot;:1,&quot;value&quot;:&quot;2&quot;},{&quot;id&quot;:2,&quot;value&quot;:&quot;2&quot;}],[{&quot;id&quot;:0,&quot;value&quot;:&quot;2&quot;},{&quot;id&quot;:1,&quot;value&quot;:&quot;3&quot;},{&quot;id&quot;:2,&quot;value&quot;:&quot;3&quot;}],[{&quot;id&quot;:0,&quot;value&quot;:&quot;5&quot;},{&quot;id&quot;:1,&quot;value&quot;:&quot;6&quot;},{&quot;id&quot;:2,&quot;value&quot;:&quot;6&quot;}],[{&quot;id&quot;:0,&quot;value&quot;:&quot;7&quot;},{&quot;id&quot;:1,&quot;value&quot;:&quot;8&quot;}],  [{&quot;id&quot;:0,&quot;value&quot;:&quot;99&quot;},\r\n    {&quot;id&quot;:1,&quot;value&quot;:&quot;8&quot;},{&quot;id&quot;:2,&quot;value&quot;:&quot;7&quot;}]]\r\n\r\nIf you have access to the code that builds that string, you would ideally have it print something that&#39;s directly parseable as JSON, and then you would have no need to do manual processing.","title":"Java Regex - Split comma separated list but exclude commas within square brackets","body":"<p>Except for the outer set of <code>[]</code>, that looks like JSON, so you could replace the outer <code>[]</code>s with <code>{}</code>s and parse it as JSON.</p>\n\n<p>Edit: I was a bit too quick to reply. JSON keys need to be strings, and <code>test</code>, <code>test1</code> etc. would also have had to be in quotes for this to be JSON. The following code splits on the top level commas and prints out the trimmed strings around them, dropping the outer <code>[]</code>s.</p>\n\n<pre><code>....\n  public static void parse(String s) {\n    boolean quote = false;\n    int depth = 0;\n    int splitPoint = 1; // drop the first '['\n    for (int i = 0; i &lt; s.length(); i++) {\n      char c = s.charAt(i);\n      switch (c) {\n        case '\"':\n          quote = !quote;\n          break;\n        case '{':\n        case '[':\n          if (!quote) {\n            depth += 1;\n          }\n          break;\n        case '}':\n        case ']':\n          if (!quote) {\n            depth -= 1;\n          }\n          break;\n        case ',':\n          if (!quote &amp;&amp; depth == 1) {\n            System.out.println(s.substring(splitPoint, i).trim()); // or store\n            splitPoint = i + 1;\n          }\n          break;\n      }\n    }\n    System.out.println(s.substring(splitPoint, s.length() - 1).trim()); // or store\n  }\n....\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>675: test\n676: test1\n677: test2\n678: [[{\"id\":0,\"value\":\"15\"},{\"id\":1,\"value\":\"2\"},{\"id\":2,\"value\":\"2\"}],[{\"id\":0,\"value\":\"2\"},{\"id\":1,\"value\":\"3\"},{\"id\":2,\"value\":\"3\"}],[{\"id\":0,\"value\":\"5\"},{\"id\":1,\"value\":\"6\"},{\"id\":2,\"value\":\"6\"}],[{\"id\":0,\"value\":\"7\"},{\"id\":1,\"value\":\"8\"}],  [{\"id\":0,\"value\":\"99\"},\n{\"id\":1,\"value\":\"8\"},{\"id\":2,\"value\":\"7\"}]]\n</code></pre>\n\n<p>If you have access to the code that builds that string, you would ideally have it print something that's directly parseable as JSON, and then you would have no need to do manual processing.</p>\n"}],"owner":{"account_id":1402893,"reputation":886,"user_id":1331332,"accept_rate":93,"display_name":"mhorgan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":670,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":32498016,"answer_count":1,"score":3,"last_activity_date":1654806539,"creation_date":1441877012,"question_id":32497948,"body_markdown":"I am trying to split the string below, but I want to exclude everything in the `[[......]]`. I have tried using multiple suggestions that I have found here already, but none of them are working. \r\n\r\n    [675: test, 676: test1, 677: test2, 678: [[{&quot;id&quot;:0,&quot;value&quot;:&quot;15&quot;},{&quot;id&quot;:1,&quot;value&quot;:&quot;2&quot;},\r\n    {&quot;id&quot;:2,&quot;value&quot;:&quot;2&quot;}],[{&quot;id&quot;:0,&quot;value&quot;:&quot;2&quot;},{&quot;id&quot;:1,&quot;value&quot;:&quot;3&quot;},\r\n    {&quot;id&quot;:2,&quot;value&quot;:&quot;3&quot;}],[{&quot;id&quot;:0,&quot;value&quot;:&quot;5&quot;},{&quot;id&quot;:1,&quot;value&quot;:&quot;6&quot;},\r\n    {&quot;id&quot;:2,&quot;value&quot;:&quot;6&quot;}],[{&quot;id&quot;:0,&quot;value&quot;:&quot;7&quot;},{&quot;id&quot;:1,&quot;value&quot;:&quot;8&quot;}],\r\n    [{&quot;id&quot;:0,&quot;value&quot;:&quot;99&quot;},{&quot;id&quot;:1,&quot;value&quot;:&quot;8&quot;},{&quot;id&quot;:2,&quot;value&quot;:&quot;7&quot;}]]]\r\n\r\nI want to be able to get a result like this:\r\n\r\n    675: test \r\n    676: test1 \r\n    677: test2 \r\n    678: [[{&quot;id&quot;:0,&quot;value&quot;:&quot;15&quot;},{&quot;id&quot;:1,&quot;value&quot;:&quot;2&quot;}, {&quot;id&quot;:2,&quot;value&quot;:&quot;2&quot;}], \r\n         [{&quot;id&quot;:0,&quot;value&quot;:&quot;2&quot;},{&quot;id&quot;:1,&quot;value&quot;:&quot;3&quot;},{&quot;id&quot;:2,&quot;value&quot;:&quot;3&quot;}],       \r\n         [{&quot;id&quot;:0,&quot;value&quot;:&quot;5&quot;},{&quot;id&quot;:1,&quot;value&quot;:&quot;6&quot;}, {&quot;id&quot;:2,&quot;value&quot;:&quot;6&quot;}],\r\n         [{&quot;id&quot;:0,&quot;value&quot;:&quot;7&quot;},{&quot;id&quot;:1,&quot;value&quot;:&quot;8&quot;}],\r\n         [{&quot;id&quot;:0,&quot;value&quot;:&quot;99&quot;},{&quot;id&quot;:1,&quot;value&quot;:&quot;8&quot;},{&quot;id&quot;:2,&quot;value&quot;:&quot;7&quot;}]]]\r\n\r\nI tried splitting the string by commas but that split up all the data contained within the square brackets also. \r\n\r\nThanks","title":"Java Regex - Split comma separated list but exclude commas within square brackets","body":"<p>I am trying to split the string below, but I want to exclude everything in the <code>[[......]]</code>. I have tried using multiple suggestions that I have found here already, but none of them are working. </p>\n\n<pre><code>[675: test, 676: test1, 677: test2, 678: [[{\"id\":0,\"value\":\"15\"},{\"id\":1,\"value\":\"2\"},\n{\"id\":2,\"value\":\"2\"}],[{\"id\":0,\"value\":\"2\"},{\"id\":1,\"value\":\"3\"},\n{\"id\":2,\"value\":\"3\"}],[{\"id\":0,\"value\":\"5\"},{\"id\":1,\"value\":\"6\"},\n{\"id\":2,\"value\":\"6\"}],[{\"id\":0,\"value\":\"7\"},{\"id\":1,\"value\":\"8\"}],\n[{\"id\":0,\"value\":\"99\"},{\"id\":1,\"value\":\"8\"},{\"id\":2,\"value\":\"7\"}]]]\n</code></pre>\n\n<p>I want to be able to get a result like this:</p>\n\n<pre><code>675: test \n676: test1 \n677: test2 \n678: [[{\"id\":0,\"value\":\"15\"},{\"id\":1,\"value\":\"2\"}, {\"id\":2,\"value\":\"2\"}], \n     [{\"id\":0,\"value\":\"2\"},{\"id\":1,\"value\":\"3\"},{\"id\":2,\"value\":\"3\"}],       \n     [{\"id\":0,\"value\":\"5\"},{\"id\":1,\"value\":\"6\"}, {\"id\":2,\"value\":\"6\"}],\n     [{\"id\":0,\"value\":\"7\"},{\"id\":1,\"value\":\"8\"}],\n     [{\"id\":0,\"value\":\"99\"},{\"id\":1,\"value\":\"8\"},{\"id\":2,\"value\":\"7\"}]]]\n</code></pre>\n\n<p>I tried splitting the string by commas but that split up all the data contained within the square brackets also. </p>\n\n<p>Thanks</p>\n"},{"tags":["java","math"],"answers":[{"tags":[],"owner":{"account_id":78181,"reputation":46967,"user_id":222674,"accept_rate":97,"display_name":"Petar Minchev"},"down_vote_count":2,"up_vote_count":40,"is_accepted":false,"score":38,"last_activity_date":1470774418,"creation_date":1320871447,"answer_id":8071402,"question_id":8071363,"body_markdown":"No, there is not something as short as `a**b`\r\n\r\nHere is a simple loop, if you want to avoid doubles:\r\n\r\n    long result = 1;\r\n    for (int i = 1; i &lt;= b; i++) {\r\n       result *= a;\r\n    }\r\n\r\nIf you want to use `pow` and convert the result in to integer, cast the result as follows:\r\n\r\n    int result = (int)Math.pow(a, b);","title":"Calculating powers of integers","body":"<p>No, there is not something as short as <code>a**b</code></p>\n\n<p>Here is a simple loop, if you want to avoid doubles:</p>\n\n<pre><code>long result = 1;\nfor (int i = 1; i &lt;= b; i++) {\n   result *= a;\n}\n</code></pre>\n\n<p>If you want to use <code>pow</code> and convert the result in to integer, cast the result as follows:</p>\n\n<pre><code>int result = (int)Math.pow(a, b);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"down_vote_count":3,"up_vote_count":64,"is_accepted":true,"score":61,"last_activity_date":1550597905,"creation_date":1320871646,"answer_id":8071453,"question_id":8071363,"body_markdown":"Integers are only 32 bits. This means that its max value is `2^31 -1`. As you see, for very small numbers, you quickly have a result which can&#39;t be represented by an integer anymore. That&#39;s why `Math.pow` uses `double`. \r\n\r\nIf you want arbitrary integer precision, use [`BigInteger.pow`][1]. But it&#39;s of course less efficient.\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/math/BigInteger.html#pow%28int%29","title":"Calculating powers of integers","body":"<p>Integers are only 32 bits. This means that its max value is <code>2^31 -1</code>. As you see, for very small numbers, you quickly have a result which can't be represented by an integer anymore. That's why <code>Math.pow</code> uses <code>double</code>. </p>\n\n<p>If you want arbitrary integer precision, use <a href=\"http://download.oracle.com/javase/6/docs/api/java/math/BigInteger.html#pow%28int%29\" rel=\"noreferrer\"><code>BigInteger.pow</code></a>. But it's of course less efficient.</p>\n"},{"tags":[],"owner":{"account_id":2457393,"reputation":49,"user_id":2142246,"display_name":"mark lamban"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1547665009,"creation_date":1362615687,"answer_id":15260831,"question_id":8071363,"body_markdown":"    import java.util.*;\r\n\r\n    public class Power {\r\n    \r\n    \tpublic static void main(String args[])\r\n    \t{\r\n    \t\tScanner sc=new Scanner(System.in);\r\n    \t\tint num = 0;\r\n    \t\tint pow = 0;\r\n    \t\tint power = 0;\r\n    \t\t\r\n    \t\tSystem.out.print(&quot;Enter number: &quot;);\r\n    \t\tnum = sc.nextInt();\r\n    \t\t\r\n    \t\tSystem.out.print(&quot;Enter power: &quot;);\r\n    \t\tpow = sc.nextInt();\r\n    \t\t\r\n    \t\tSystem.out.print(power(num,pow));\r\n    \t}\r\n\r\n    \tpublic static int power(int a, int b)\r\n    \t{\r\n    \t\tint power = 1;\r\n\r\n    \t\tfor(int c = 0; c &lt; b; c++)\r\n    \t\t\tpower *= a;\r\n\r\n    \t\treturn power;\r\n    \t}\r\n    \t\t  \r\n    }\r\n\r\n","title":"Calculating powers of integers","body":"<pre><code>import java.util.*;\n\npublic class Power {\n\n    public static void main(String args[])\n    {\n        Scanner sc=new Scanner(System.in);\n        int num = 0;\n        int pow = 0;\n        int power = 0;\n\n        System.out.print(\"Enter number: \");\n        num = sc.nextInt();\n\n        System.out.print(\"Enter power: \");\n        pow = sc.nextInt();\n\n        System.out.print(power(num,pow));\n    }\n\n    public static int power(int a, int b)\n    {\n        int power = 1;\n\n        for(int c = 0; c &lt; b; c++)\n            power *= a;\n\n        return power;\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3823840,"reputation":667,"user_id":3171171,"display_name":"Laakal"},"down_vote_count":4,"up_vote_count":46,"is_accepted":false,"score":42,"last_activity_date":1407531211,"creation_date":1389139144,"answer_id":20984477,"question_id":8071363,"body_markdown":"Best the algorithm is based on the recursive power definition of a^b.\r\n\r\n\r\n    long pow (long a, int b)\r\n    {\r\n    \tif ( b == 0) \t\treturn 1;\r\n    \tif ( b == 1)\t\treturn a;\r\n    \tif (isEven( b )) \treturn     pow ( a * a, b/2); //even a=(a^2)^b/2\r\n        else                return a * pow ( a * a, b/2); //odd  a=a*(a^2)^b/2\r\n    \r\n    }\r\n\r\nRunning time of  the operation is O(logb).\r\nReference:[More information][1]\r\n\r\n\r\n  [1]: http://faculty.simpson.edu/lydia.sinapova/www/cmsc250/LN250_Weiss/L04-BigOh.htm","title":"Calculating powers of integers","body":"<p>Best the algorithm is based on the recursive power definition of a^b.</p>\n\n<pre><code>long pow (long a, int b)\n{\n    if ( b == 0)        return 1;\n    if ( b == 1)        return a;\n    if (isEven( b ))    return     pow ( a * a, b/2); //even a=(a^2)^b/2\n    else                return a * pow ( a * a, b/2); //odd  a=a*(a^2)^b/2\n\n}\n</code></pre>\n\n<p>Running time of  the operation is O(logb).\nReference:<a href=\"http://faculty.simpson.edu/lydia.sinapova/www/cmsc250/LN250_Weiss/L04-BigOh.htm\" rel=\"noreferrer\">More information</a></p>\n"},{"tags":[],"owner":{"account_id":219024,"reputation":171,"user_id":1685162,"display_name":"ant"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1471438752,"creation_date":1409403979,"answer_id":25582692,"question_id":8071363,"body_markdown":"Google Guava has math utilities for integers.\r\n[IntMath][1]\r\n\r\n\r\n  [1]: https://google.github.io/guava/releases/19.0/api/docs/com/google/common/math/IntMath.html","title":"Calculating powers of integers","body":"<p>Google Guava has math utilities for integers.\n<a href=\"https://google.github.io/guava/releases/19.0/api/docs/com/google/common/math/IntMath.html\" rel=\"noreferrer\">IntMath</a></p>\n"},{"tags":[],"owner":{"account_id":2498526,"reputation":1268,"user_id":2174310,"accept_rate":81,"display_name":"Smarty77"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1440589847,"creation_date":1440589847,"answer_id":32225878,"question_id":8071363,"body_markdown":"I managed to modify(boundaries, even check, negative nums check) Qx__ answer. Use at your own risk. 0^-1, 0^-2 etc.. returns 0.\r\n\r\n    private static int pow(int x, int n) {\r\n    \t\tif (n == 0)\r\n    \t\t\treturn 1;\r\n    \t\tif (n == 1)\r\n    \t\t\treturn x;\r\n    \t\tif (n &lt; 0) { // always 1^xx = 1 &amp;&amp; 2^-1 (=0.5 --&gt; ~ 1 )\r\n    \t\t\tif (x == 1 || (x == 2 &amp;&amp; n == -1))\r\n    \t\t\t\treturn 1;\r\n    \t\t\telse\r\n    \t\t\t\treturn 0;\r\n    \t\t}\r\n    \t\tif ((n &amp; 1) == 0) { //is even \r\n    \t\t\tlong num = pow(x * x, n / 2);\r\n    \t\t\tif (num &gt; Integer.MAX_VALUE) //check bounds\r\n    \t\t\t\treturn Integer.MAX_VALUE; \r\n    \t\t\treturn (int) num;\r\n    \t\t} else {\r\n    \t\t\tlong num = x * pow(x * x, n / 2);\r\n    \t\t\tif (num &gt; Integer.MAX_VALUE) //check bounds\r\n    \t\t\t\treturn Integer.MAX_VALUE;\r\n    \t\t\treturn (int) num;\r\n    \t\t}\r\n    \t}","title":"Calculating powers of integers","body":"<p>I managed to modify(boundaries, even check, negative nums check) Qx__ answer. Use at your own risk. 0^-1, 0^-2 etc.. returns 0.</p>\n\n<pre><code>private static int pow(int x, int n) {\n        if (n == 0)\n            return 1;\n        if (n == 1)\n            return x;\n        if (n &lt; 0) { // always 1^xx = 1 &amp;&amp; 2^-1 (=0.5 --&gt; ~ 1 )\n            if (x == 1 || (x == 2 &amp;&amp; n == -1))\n                return 1;\n            else\n                return 0;\n        }\n        if ((n &amp; 1) == 0) { //is even \n            long num = pow(x * x, n / 2);\n            if (num &gt; Integer.MAX_VALUE) //check bounds\n                return Integer.MAX_VALUE; \n            return (int) num;\n        } else {\n            long num = x * pow(x * x, n / 2);\n            if (num &gt; Integer.MAX_VALUE) //check bounds\n                return Integer.MAX_VALUE;\n            return (int) num;\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":50030,"reputation":61435,"user_id":149138,"accept_rate":56,"display_name":"BeeOnRope"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1497568804,"creation_date":1464911287,"answer_id":37603878,"question_id":8071363,"body_markdown":"Guava&#39;s math libraries offer two methods that are useful when calculating exact integer powers:\r\n\r\n[`pow(int b, int k)`](https://google.github.io/guava/releases/19.0/api/docs/com/google/common/math/IntMath.html#checkedPow%28int,%20int%29) calculates b to the kth the power, and wraps on overflow\r\n\r\n[`checkedPow(int b, int k)`](https://google.github.io/guava/releases/19.0/api/docs/com/google/common/math/IntMath.html#checkedPow%28int,%20int%29) is identical except that it throws `ArithmeticException` on overflow\r\n\r\nPersonally `checkedPow()` meets most of my needs for integer exponentiation and is cleaner and safter than using the double versions and rounding, etc. In almost all the places I want a power function, overflow is an error (or impossible, but I want to be told if the impossible ever becomes possible).\r\n\r\nIf you want get a `long` result, you can just use the corresponding [`LongMath`](https://google.github.io/guava/releases/19.0/api/docs/com/google/common/math/LongMath.html#checkedPow%28long,%20int%29) methods and pass `int` arguments.","title":"Calculating powers of integers","body":"<p>Guava's math libraries offer two methods that are useful when calculating exact integer powers:</p>\n\n<p><a href=\"https://google.github.io/guava/releases/19.0/api/docs/com/google/common/math/IntMath.html#checkedPow%28int,%20int%29\" rel=\"nofollow noreferrer\"><code>pow(int b, int k)</code></a> calculates b to the kth the power, and wraps on overflow</p>\n\n<p><a href=\"https://google.github.io/guava/releases/19.0/api/docs/com/google/common/math/IntMath.html#checkedPow%28int,%20int%29\" rel=\"nofollow noreferrer\"><code>checkedPow(int b, int k)</code></a> is identical except that it throws <code>ArithmeticException</code> on overflow</p>\n\n<p>Personally <code>checkedPow()</code> meets most of my needs for integer exponentiation and is cleaner and safter than using the double versions and rounding, etc. In almost all the places I want a power function, overflow is an error (or impossible, but I want to be told if the impossible ever becomes possible).</p>\n\n<p>If you want get a <code>long</code> result, you can just use the corresponding <a href=\"https://google.github.io/guava/releases/19.0/api/docs/com/google/common/math/LongMath.html#checkedPow%28long,%20int%29\" rel=\"nofollow noreferrer\"><code>LongMath</code></a> methods and pass <code>int</code> arguments.</p>\n"},{"tags":[],"owner":{"account_id":11066464,"reputation":307,"user_id":8126119,"display_name":"Shubham Srivastava"},"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1499175501,"creation_date":1499175501,"answer_id":44907550,"question_id":8071363,"body_markdown":"Well you can simply use `Math.pow(a,b)` as you have used earlier and just convert its value by using `(int)` before it. Below could be used as an example to it.\r\n\r\n    int x = (int) Math.pow(a,b);\r\nwhere `a` and `b` could be `double` or `int` values as you want.\r\nThis will simply convert its output to an integer value as you required.","title":"Calculating powers of integers","body":"<p>Well you can simply use <code>Math.pow(a,b)</code> as you have used earlier and just convert its value by using <code>(int)</code> before it. Below could be used as an example to it.</p>\n\n<pre><code>int x = (int) Math.pow(a,b);\n</code></pre>\n\n<p>where <code>a</code> and <code>b</code> could be <code>double</code> or <code>int</code> values as you want.\nThis will simply convert its output to an integer value as you required.</p>\n"},{"tags":[],"owner":{"account_id":2197912,"reputation":1425,"user_id":1943126,"display_name":"Michail Alexakis"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1500419305,"creation_date":1500419305,"answer_id":45178514,"question_id":8071363,"body_markdown":"A simple (no checks for overflow or for validity of arguments) implementation for the repeated-squaring algorithm for computing the power:\r\n     \r\n    /** Compute a**p, assume result fits in a 32-bit signed integer */ \r\n    int pow(int a, int p)\r\n    {\r\n        int res = 1;\r\n        int i1 = 31 - Integer.numberOfLeadingZeros(p); // highest bit index\r\n        for (int i = i1; i &gt;= 0; --i) {\r\n            res *= res;\r\n            if ((p &amp; (1&lt;&lt;i)) &gt; 0)\r\n                res *= a;\r\n        }\r\n        return res;\r\n    }\r\n\r\nThe time complexity is logarithmic to exponent p (i.e. linear to the number of bits required to represent p).","title":"Calculating powers of integers","body":"<p>A simple (no checks for overflow or for validity of arguments) implementation for the repeated-squaring algorithm for computing the power:</p>\n\n<pre><code>/** Compute a**p, assume result fits in a 32-bit signed integer */ \nint pow(int a, int p)\n{\n    int res = 1;\n    int i1 = 31 - Integer.numberOfLeadingZeros(p); // highest bit index\n    for (int i = i1; i &gt;= 0; --i) {\n        res *= res;\n        if ((p &amp; (1&lt;&lt;i)) &gt; 0)\n            res *= a;\n    }\n    return res;\n}\n</code></pre>\n\n<p>The time complexity is logarithmic to exponent p (i.e. linear to the number of bits required to represent p).</p>\n"},{"tags":[],"owner":{"account_id":9227023,"reputation":206,"user_id":6854499,"display_name":"Pritam Mullick"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1503300329,"creation_date":1503300329,"answer_id":45791441,"question_id":8071363,"body_markdown":"Unlike Python (where powers can be calculated by a**b) , JAVA has no such shortcut way of accomplishing the result of the power of two numbers.\r\n&lt;!-- language: lang-java --&gt;\r\nJava has function named pow in the Math class, which returns a Double value\r\n\r\n    double pow(double base, double exponent)\r\n\r\nBut you can also calculate powers of integer using the same function. In the following program I did the same and finally I am converting the result into an integer (typecasting). Follow the example:\r\n\r\n    import java.util.*;\r\n    import java.lang.*; // CONTAINS THE Math library\r\n    public class Main{\r\n        public static void main(String[] args){\r\n            Scanner sc = new Scanner(System.in);\r\n            int n= sc.nextInt(); // Accept integer n\r\n            int m = sc.nextInt(); // Accept integer m\r\n            int ans = (int) Math.pow(n,m); // Calculates n ^ m\r\n            System.out.println(ans); // prints answers\r\n        }\r\n    }\r\n\r\nAlternatively,\r\nThe `java.math.BigInteger.pow(int exponent)` returns a BigInteger whose value is (this^exponent). The exponent is an integer rather than a BigInteger. Example:\r\n\r\n    import java.math.*;\r\n    public class BigIntegerDemo {\r\n    public static void main(String[] args) {\r\n          BigInteger bi1, bi2; // create 2 BigInteger objects          \r\n          int exponent = 2; // create and assign value to exponent\r\n          // assign value to bi1\r\n          bi1 = new BigInteger(&quot;6&quot;);\r\n          // perform pow operation on bi1 using exponent\r\n          bi2 = bi1.pow(exponent);\r\n          String str = &quot;Result is &quot; + bi1 + &quot;^&quot; +exponent+ &quot; = &quot; +bi2;\r\n          // print bi2 value\r\n          System.out.println( str );\r\n       }\r\n    }\r\n\r\n","title":"Calculating powers of integers","body":"<p>Unlike Python (where powers can be calculated by a**b) , JAVA has no such shortcut way of accomplishing the result of the power of two numbers.\nJava has function named pow in the Math class, which returns a Double value</p>\n\n<pre><code>double pow(double base, double exponent)\n</code></pre>\n\n<p>But you can also calculate powers of integer using the same function. In the following program I did the same and finally I am converting the result into an integer (typecasting). Follow the example:</p>\n\n<pre><code>import java.util.*;\nimport java.lang.*; // CONTAINS THE Math library\npublic class Main{\n    public static void main(String[] args){\n        Scanner sc = new Scanner(System.in);\n        int n= sc.nextInt(); // Accept integer n\n        int m = sc.nextInt(); // Accept integer m\n        int ans = (int) Math.pow(n,m); // Calculates n ^ m\n        System.out.println(ans); // prints answers\n    }\n}\n</code></pre>\n\n<p>Alternatively,\nThe <code>java.math.BigInteger.pow(int exponent)</code> returns a BigInteger whose value is (this^exponent). The exponent is an integer rather than a BigInteger. Example:</p>\n\n<pre><code>import java.math.*;\npublic class BigIntegerDemo {\npublic static void main(String[] args) {\n      BigInteger bi1, bi2; // create 2 BigInteger objects          \n      int exponent = 2; // create and assign value to exponent\n      // assign value to bi1\n      bi1 = new BigInteger(\"6\");\n      // perform pow operation on bi1 using exponent\n      bi2 = bi1.pow(exponent);\n      String str = \"Result is \" + bi1 + \"^\" +exponent+ \" = \" +bi2;\n      // print bi2 value\n      System.out.println( str );\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5305676,"reputation":1318,"user_id":4233693,"accept_rate":29,"display_name":"Stanislaw Baranski"},"down_vote_count":0,"up_vote_count":64,"is_accepted":false,"score":64,"last_activity_date":1549481128,"creation_date":1513711378,"answer_id":47893863,"question_id":8071363,"body_markdown":"When it&#39;s power of 2. Take in mind, that you can use simple and fast shift expression `1 &lt;&lt; exponent`\r\n\r\nexample:\r\n\r\n2&lt;sup&gt;2&lt;/sup&gt; = `1 &lt;&lt; 2` = `(int) Math.pow(2, 2)`&lt;br&gt;\r\n2&lt;sup&gt;10&lt;/sup&gt; = `1 &lt;&lt; 10` = `(int) Math.pow(2, 10)`\r\n\r\n\r\nFor larger exponents (over 31) use long instead\r\n\r\n2&lt;sup&gt;32&lt;/sup&gt; = `1L &lt;&lt; 32` = `(long) Math.pow(2, 32)`\r\n\r\nbtw. in Kotlin you have ```shl``` instead of ```&lt;&lt;``` so\r\n\r\n(java) `1L &lt;&lt; 32` = `1L shl 32` (kotlin)\r\n\r\n","title":"Calculating powers of integers","body":"<p>When it's power of 2. Take in mind, that you can use simple and fast shift expression <code>1 &lt;&lt; exponent</code></p>\n\n<p>example:</p>\n\n<p>2<sup>2</sup> = <code>1 &lt;&lt; 2</code> = <code>(int) Math.pow(2, 2)</code><br>\n2<sup>10</sup> = <code>1 &lt;&lt; 10</code> = <code>(int) Math.pow(2, 10)</code></p>\n\n<p>For larger exponents (over 31) use long instead</p>\n\n<p>2<sup>32</sup> = <code>1L &lt;&lt; 32</code> = <code>(long) Math.pow(2, 32)</code></p>\n\n<p>btw. in Kotlin you have <code>shl</code> instead of <code>&lt;&lt;</code> so</p>\n\n<p>(java) <code>1L &lt;&lt; 32</code> = <code>1L shl 32</code> (kotlin)</p>\n"},{"tags":[],"owner":{"account_id":9668806,"reputation":67,"user_id":7174493,"display_name":"Yuvaraj Ram"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1529965183,"creation_date":1518680047,"answer_id":48802022,"question_id":8071363,"body_markdown":"Use the below logic to calculate the n power of a.\r\n\r\nNormally if we want to calculate n power of a. We will multiply &#39;a&#39; by n number of times.Time complexity of this approach will be O(n)\r\nSplit the power n by 2, calculate Exponentattion = multiply &#39;a&#39; till n/2 only. Double the value. Now the Time Complexity is reduced to O(n/2).\r\n\r\n   \r\n\r\n    public  int calculatePower1(int a, int b) {\r\n        if (b == 0) {\r\n            return 1;\r\n\t\t}\r\n\t\t\r\n\t\tint val = (b % 2 == 0) ? (b / 2) : (b - 1) / 2;\r\n\r\n\t\tint temp = 1;\r\n\t\tfor (int i = 1; i &lt;= val; i++) {\r\n\t\t\ttemp *= a;\r\n\t\t}\r\n\t\t\r\n\t\tif (b % 2 == 0) {\r\n\t\t\treturn temp * temp;\r\n\t\t} else {\r\n\t\t\treturn a * temp * temp;\r\n\t\t}\r\n\t}","title":"Calculating powers of integers","body":"<p>Use the below logic to calculate the n power of a.</p>\n\n<p>Normally if we want to calculate n power of a. We will multiply 'a' by n number of times.Time complexity of this approach will be O(n)\nSplit the power n by 2, calculate Exponentattion = multiply 'a' till n/2 only. Double the value. Now the Time Complexity is reduced to O(n/2).</p>\n\n<pre><code>public  int calculatePower1(int a, int b) {\n    if (b == 0) {\n        return 1;\n    }\n\n    int val = (b % 2 == 0) ? (b / 2) : (b - 1) / 2;\n\n    int temp = 1;\n    for (int i = 1; i &lt;= val; i++) {\n        temp *= a;\n    }\n\n    if (b % 2 == 0) {\n        return temp * temp;\n    } else {\n        return a * temp * temp;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14070224,"reputation":31,"user_id":10163903,"display_name":"Morriss"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1533175849,"creation_date":1533175849,"answer_id":51644566,"question_id":8071363,"body_markdown":" base is the number that you want to power up, n is the power, we return 1 if n is 0, and we return the base if the n is 1, if the conditions are not met, we use the formula **base*(powerN(base,n-1))** eg: 2 raised to to using this formula is : 2(base)*2(powerN(base,n-1)).\r\n\r\n    public int power(int base, int n){\r\n       return n == 0 ? 1 : (n == 1 ? base : base*(power(base,n-1)));\r\n    }\r\n\r\n\r\n","title":"Calculating powers of integers","body":"<p>base is the number that you want to power up, n is the power, we return 1 if n is 0, and we return the base if the n is 1, if the conditions are not met, we use the formula <strong>base*(powerN(base,n-1))</strong> eg: 2 raised to to using this formula is : 2(base)*2(powerN(base,n-1)).</p>\n\n<pre><code>public int power(int base, int n){\n   return n == 0 ? 1 : (n == 1 ? base : base*(power(base,n-1)));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10219947,"reputation":21,"user_id":7544425,"display_name":"Yerassyl Aben"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1589818371,"creation_date":1589818371,"answer_id":61874059,"question_id":8071363,"body_markdown":"**There some issues with pow method:**\r\n\r\n 1. We can replace (y &amp; 1) == 0; with y % 2 == 0  \r\n    bitwise operations always are faster.\r\n\r\nYour code always decrements y and performs extra multiplication, including the cases when y is even. It&#39;s better to put this part into else clause.\r\n\r\n\r\n\r\n   \r\n\r\n    public static long pow(long x, int y) {\r\n            long result = 1;\r\n            while (y &gt; 0) {\r\n                if ((y &amp; 1) == 0) {\r\n                    x *= x;\r\n                    y &gt;&gt;&gt;= 1;\r\n                } else {\r\n                    result *= x;\r\n                    y--;\r\n                }\r\n            }\r\n            return result;\r\n        }","title":"Calculating powers of integers","body":"<p><strong>There some issues with pow method:</strong></p>\n\n<ol>\n<li>We can replace (y &amp; 1) == 0; with y % 2 == 0<br>\nbitwise operations always are faster.</li>\n</ol>\n\n<p>Your code always decrements y and performs extra multiplication, including the cases when y is even. It's better to put this part into else clause.</p>\n\n<pre><code>public static long pow(long x, int y) {\n        long result = 1;\n        while (y &gt; 0) {\n            if ((y &amp; 1) == 0) {\n                x *= x;\n                y &gt;&gt;&gt;= 1;\n            } else {\n                result *= x;\n                y--;\n            }\n        }\n        return result;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":426050,"reputation":18998,"user_id":807037,"accept_rate":66,"display_name":"Noel Yap"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1594683325,"creation_date":1594683325,"answer_id":62885897,"question_id":8071363,"body_markdown":"Apache has [`ArithmeticUtils.pow(int k, int e)`][1].\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-math/javadocs/api-3.4/org/apache/commons/math3/util/ArithmeticUtils.html#pow(int,%20int)","title":"Calculating powers of integers","body":"<p>Apache has <a href=\"https://commons.apache.org/proper/commons-math/javadocs/api-3.4/org/apache/commons/math3/util/ArithmeticUtils.html#pow(int,%20int)\" rel=\"nofollow noreferrer\"><code>ArithmeticUtils.pow(int k, int e)</code></a>.</p>\n"},{"tags":[],"owner":{"account_id":9154381,"reputation":1,"user_id":10218562,"display_name":"sudarshan padale"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1602419428,"creation_date":1602396336,"answer_id":64301076,"question_id":8071363,"body_markdown":"```java\r\nimport java.util.Scanner;\r\n\r\nclass Solution {\r\n    public static void main(String[] args) {\r\n        Scanner sc = new Scanner(System.in);\r\n        int t = sc.nextInt();\r\n\r\n        for (int i = 0; i &lt; t; i++) {\r\n\r\n            try {\r\n                long x = sc.nextLong();\r\n                System.out.println(x + &quot; can be fitted in:&quot;);\r\n                if (x &gt;= -128 &amp;&amp; x &lt;= 127) {\r\n                    System.out.println(&quot;* byte&quot;);\r\n                }\r\n                if (x &gt;= -32768 &amp;&amp; x &lt;= 32767) {\r\n                    //Complete the code\r\n                    System.out.println(&quot;* short&quot;);\r\n                    System.out.println(&quot;* int&quot;);\r\n                    System.out.println(&quot;* long&quot;);\r\n                } else if (x &gt;= -Math.pow(2, 31) &amp;&amp; x &lt;= Math.pow(2, 31) - 1) {\r\n                    System.out.println(&quot;* int&quot;);\r\n                    System.out.println(&quot;* long&quot;);\r\n                } else {\r\n                    System.out.println(&quot;* long&quot;);\r\n                }\r\n            } catch (Exception e) {\r\n                System.out.println(sc.next() + &quot; can&#39;t be fitted anywhere.&quot;);\r\n            }\r\n\r\n        }\r\n    }\r\n}\r\n```","title":"Calculating powers of integers","body":"<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n\nclass Solution {\n    public static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);\n        int t = sc.nextInt();\n\n        for (int i = 0; i &lt; t; i++) {\n\n            try {\n                long x = sc.nextLong();\n                System.out.println(x + &quot; can be fitted in:&quot;);\n                if (x &gt;= -128 &amp;&amp; x &lt;= 127) {\n                    System.out.println(&quot;* byte&quot;);\n                }\n                if (x &gt;= -32768 &amp;&amp; x &lt;= 32767) {\n                    //Complete the code\n                    System.out.println(&quot;* short&quot;);\n                    System.out.println(&quot;* int&quot;);\n                    System.out.println(&quot;* long&quot;);\n                } else if (x &gt;= -Math.pow(2, 31) &amp;&amp; x &lt;= Math.pow(2, 31) - 1) {\n                    System.out.println(&quot;* int&quot;);\n                    System.out.println(&quot;* long&quot;);\n                } else {\n                    System.out.println(&quot;* long&quot;);\n                }\n            } catch (Exception e) {\n                System.out.println(sc.next() + &quot; can't be fitted anywhere.&quot;);\n            }\n\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8491468,"reputation":879,"user_id":8461756,"display_name":"Sandeep Dixit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645249750,"creation_date":1645249750,"answer_id":71182528,"question_id":8071363,"body_markdown":"int arguments are acceptable when there is a double paramter. So Math.pow(a,b) will work for int arguments. It returns double you just need to cast to int.\r\n\r\n    int i =  (int) Math.pow(3,10); \r\n\r\n\r\n\r\n","title":"Calculating powers of integers","body":"<p>int arguments are acceptable when there is a double paramter. So Math.pow(a,b) will work for int arguments. It returns double you just need to cast to int.</p>\n<pre><code>int i =  (int) Math.pow(3,10); \n</code></pre>\n"},{"tags":[],"owner":{"account_id":25516426,"reputation":1,"user_id":19307207,"display_name":"Baireddy Naresh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654806121,"creation_date":1654780680,"answer_id":72560994,"question_id":8071363,"body_markdown":"Without using pow function and +ve and -ve pow values.\r\n\r\n~~~java \r\npublic class PowFunction {\r\n\r\n    public static void main(String[] args) {\r\n        int x = 5;\r\n        int y = -3;\r\n        System.out.println( x + &quot; raised to the power of &quot; + y + &quot; is &quot; + Math.pow(x,y));\r\n        float temp =1;\r\n        if(y&gt;0){\r\n            for(;y&gt;0;y--){\r\n                temp = temp*x;\r\n            }\r\n        } else {\r\n            for(;y&lt;0;y++){\r\n                temp = temp*x;\r\n            }\r\n            temp = 1/temp;\r\n        }\r\n        System.out.println(&quot;power value without using pow method.  :: &quot;+temp);\r\n    }\r\n}\r\n~~~","title":"Calculating powers of integers","body":"<p>Without using pow function and +ve and -ve pow values.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class PowFunction {\n\n    public static void main(String[] args) {\n        int x = 5;\n        int y = -3;\n        System.out.println( x + &quot; raised to the power of &quot; + y + &quot; is &quot; + Math.pow(x,y));\n        float temp =1;\n        if(y&gt;0){\n            for(;y&gt;0;y--){\n                temp = temp*x;\n            }\n        } else {\n            for(;y&lt;0;y++){\n                temp = temp*x;\n            }\n            temp = 1/temp;\n        }\n        System.out.println(&quot;power value without using pow method.  :: &quot;+temp);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":365916,"reputation":11573,"user_id":711129,"accept_rate":97,"display_name":"Hidde"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":456660,"favorite_count":0,"down_vote_count":0,"up_vote_count":105,"accepted_answer_id":8071453,"answer_count":18,"score":105,"last_activity_date":1654806121,"creation_date":1320871246,"question_id":8071363,"body_markdown":"Is there any other way in Java to calculate a power of an integer?\r\n\r\nI use `Math.pow(a, b)` now, but it returns a `double`, and that is usually a lot of work, and looks less clean when you just want to use `int`s (a power will then also always result in an `int`). \r\n\r\nIs there something as simple as `a**b` like in Python?","title":"Calculating powers of integers","body":"<p>Is there any other way in Java to calculate a power of an integer?</p>\n\n<p>I use <code>Math.pow(a, b)</code> now, but it returns a <code>double</code>, and that is usually a lot of work, and looks less clean when you just want to use <code>int</code>s (a power will then also always result in an <code>int</code>). </p>\n\n<p>Is there something as simple as <code>a**b</code> like in Python?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1654729741,"post_id":72553014,"comment_id":128164305,"body_markdown":"I&#39;d be tempted to make use of [OpenCSV](https://www.baeldung.com/opencsv), but failing that, I&#39;d read the file contents into a `List` of some kind and then just cherry pick the row the user selected","body":"I&#39;d be tempted to make use of <a href=\"https://www.baeldung.com/opencsv\" rel=\"nofollow noreferrer\">OpenCSV</a>, but failing that, I&#39;d read the file contents into a <code>List</code> of some kind and then just cherry pick the row the user selected"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1654729946,"post_id":72553014,"comment_id":128164350,"body_markdown":"Or failing that, with the code you already have `if (line.startsWith(userSelection + &quot;,&quot;)) { //store it }`","body":"Or failing that, with the code you already have <code>if (line.startsWith(userSelection + &quot;,&quot;)) { &#47;&#47;store it }</code>"},{"owner":{"account_id":8519084,"reputation":409,"user_id":6386639,"display_name":"Vivek Swansi"},"score":0,"creation_date":1654741677,"post_id":72553014,"comment_id":128165992,"body_markdown":"At this line String line = scanner.nextLine(); you can actually save the CSV to the collection and then ask for the user selection and fetch and store the user selection.\n\nFor ex - if the user selection is based on the index use the array/ArrayList else make use of the Map of cars and description.","body":"At this line String line = scanner.nextLine(); you can actually save the CSV to the collection and then ask for the user selection and fetch and store the user selection.  For ex - if the user selection is based on the index use the array/ArrayList else make use of the Map of cars and description."}],"answers":[{"tags":[],"owner":{"account_id":22049479,"reputation":41,"user_id":16313975,"display_name":"Drl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654805805,"creation_date":1654805805,"answer_id":72566171,"question_id":72553014,"body_markdown":"Your question is not clear. But following code will ask user for a number and print the correspondig csv line.\r\n\r\n     public static void carSelection() throws IOException {\r\n        \r\n        String CSVFileName = &quot;CarList.csv&quot;;\r\n        System.out.println(&quot;To make a booking:&quot;);\r\n        System.out.println(&quot;Select the car number from the car list&quot;);\r\n        // Enter data using BufferReader\r\n        BufferedReader reader = new BufferedReader(\r\n                new InputStreamReader(System.in));\r\n\r\n        Stream&lt;String&gt; lines = Files.lines(Paths.get(CSVFileName));\r\n        int inputNr = Integer.parseInt(reader.readLine());\r\n        String line = lines.skip(inputNr - 1).findFirst().get();\r\n        System.out.println(line);        \r\n    }","title":"How to select one row from multiple rows of strings and store the values separated by commars","body":"<p>Your question is not clear. But following code will ask user for a number and print the correspondig csv line.</p>\n<pre><code> public static void carSelection() throws IOException {\n    \n    String CSVFileName = &quot;CarList.csv&quot;;\n    System.out.println(&quot;To make a booking:&quot;);\n    System.out.println(&quot;Select the car number from the car list&quot;);\n    // Enter data using BufferReader\n    BufferedReader reader = new BufferedReader(\n            new InputStreamReader(System.in));\n\n    Stream&lt;String&gt; lines = Files.lines(Paths.get(CSVFileName));\n    int inputNr = Integer.parseInt(reader.readLine());\n    String line = lines.skip(inputNr - 1).findFirst().get();\n    System.out.println(line);        \n}\n</code></pre>\n"}],"owner":{"account_id":23604257,"reputation":1,"user_id":17640220,"display_name":"BigO"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1654805805,"creation_date":1654728680,"question_id":72553014,"body_markdown":"I have a csv file thats converted each row into strings and i want a user to select a numbe 1- 5 and it would store what row the user entered.\r\nThe string that has been made from the csv file is below.\r\n\r\n1,Mazda CX-9,7,Automatic ,Premium,150\r\n\r\n2,VW Golf,5,Automatic ,Standard,59\r\n\r\n3,Toyota Corolla,5,Automatic ,Premium,55\r\n\r\n4,VW Tiguan,7,Automatic ,Premium,110\r\n\r\n5,Ford Falcon,5,Manual,Standard,60\r\n\r\n\r\n\r\n    public static void carSelection() throws IOException{\r\n        String CSVFileName = &quot;CarList.csv&quot;;\r\n        File file = new File(CSVFileName);\r\n                System.out.println(&quot;To make a booking:&quot;);\r\n        System.out.println(&quot;     Select the car number from the car list&quot;);\r\n        try {\r\n            //reads file\r\n         Scanner scanner = new Scanner(file);\r\n         //while the file has lines to read\r\n        while (scanner.hasNextLine()) {\r\n            //  read the line to a string\r\n        String line = scanner.nextLine();\r\n    }\r\n        } catch (FileNotFoundException e) {\r\n                e.printStackTrace();\r\n      }\r\n    }","title":"How to select one row from multiple rows of strings and store the values separated by commars","body":"<p>I have a csv file thats converted each row into strings and i want a user to select a numbe 1- 5 and it would store what row the user entered.\nThe string that has been made from the csv file is below.</p>\n<p>1,Mazda CX-9,7,Automatic ,Premium,150</p>\n<p>2,VW Golf,5,Automatic ,Standard,59</p>\n<p>3,Toyota Corolla,5,Automatic ,Premium,55</p>\n<p>4,VW Tiguan,7,Automatic ,Premium,110</p>\n<p>5,Ford Falcon,5,Manual,Standard,60</p>\n<pre><code>public static void carSelection() throws IOException{\n    String CSVFileName = &quot;CarList.csv&quot;;\n    File file = new File(CSVFileName);\n            System.out.println(&quot;To make a booking:&quot;);\n    System.out.println(&quot;     Select the car number from the car list&quot;);\n    try {\n        //reads file\n     Scanner scanner = new Scanner(file);\n     //while the file has lines to read\n    while (scanner.hasNextLine()) {\n        //  read the line to a string\n    String line = scanner.nextLine();\n}\n    } catch (FileNotFoundException e) {\n            e.printStackTrace();\n  }\n}\n</code></pre>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":4,"creation_date":1420444304,"post_id":27770852,"comment_id":43961295,"body_markdown":"Drop the `application.properties` in the same directory as the jar file, it will be picked up automatically.","body":"Drop the <code>application.properties</code> in the same directory as the jar file, it will be picked up automatically."},{"owner":{"account_id":2932936,"reputation":198,"user_id":2512637,"display_name":"greenhalos"},"score":0,"creation_date":1420455412,"post_id":27770852,"comment_id":43966274,"body_markdown":"I am using a war file, building with maven in Intellij and deploying into a Tomcat, so no jar-file","body":"I am using a war file, building with maven in Intellij and deploying into a Tomcat, so no jar-file"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1420456437,"post_id":27770852,"comment_id":43966761,"body_markdown":"Add to your question as that influences the answer. Regardless you should use option 2 as the properties loaded by Spring Boot are ordered specifically, adding a `@PropertySource` will add your loaded properties to the end of the chain of `PropertySource`s that are consulted.","body":"Add to your question as that influences the answer. Regardless you should use option 2 as the properties loaded by Spring Boot are ordered specifically, adding a <code>@PropertySource</code> will add your loaded properties to the end of the chain of <code>PropertySource</code>s that are consulted."},{"owner":{"account_id":462942,"reputation":341,"user_id":865554,"accept_rate":78,"display_name":"bwfrieds"},"score":0,"creation_date":1464205173,"post_id":27770852,"comment_id":62394522,"body_markdown":"greenhalos, did you ever find a resolution to this problem?  I have the same issue with my war file.  I&#39;d rather not add arguments/parameters to the tomcat startup config, but I will if I have to.","body":"greenhalos, did you ever find a resolution to this problem?  I have the same issue with my war file.  I&#39;d rather not add arguments/parameters to the tomcat startup config, but I will if I have to."},{"owner":{"account_id":2932936,"reputation":198,"user_id":2512637,"display_name":"greenhalos"},"score":0,"creation_date":1464246022,"post_id":27770852,"comment_id":62407891,"body_markdown":"mainly I needed this due to different developers who hab different database setups. I resolved the problem by placing the default application properties in the resource directory and the custom properties to override the default once wehre placed in a new directory config inside the resource directory. The properties in the config directory override the properties in the resource directory.\n\nIn production I set the properties in the tomcat script.\n\nI hope this is what you were looking for.","body":"mainly I needed this due to different developers who hab different database setups. I resolved the problem by placing the default application properties in the resource directory and the custom properties to override the default once wehre placed in a new directory config inside the resource directory. The properties in the config directory override the properties in the resource directory.  In production I set the properties in the tomcat script.  I hope this is what you were looking for."},{"owner":{"account_id":198078,"reputation":3106,"user_id":442528,"accept_rate":76,"display_name":"Janik Zikovsky"},"score":1,"creation_date":1527518948,"post_id":27770852,"comment_id":88147670,"body_markdown":"@M.Deinum - actually, I found that application.properties needs to be in the current working directory to get picked up.","body":"@M.Deinum - actually, I found that application.properties needs to be in the current working directory to get picked up."}],"answers":[{"tags":[],"owner":{"account_id":2855979,"reputation":1812,"user_id":2452245,"accept_rate":73,"display_name":"JR Utily"},"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1489593425,"creation_date":1420448262,"answer_id":27776123,"question_id":27770852,"body_markdown":"I always use `--spring.config.location=` in the command line as specified in the [documentation][1], and you can put various files in this, one with default values and another with the overridden ones.\r\n\r\nEdit:   \r\nAlternatively, you could also use something like :\r\n\r\n    @PropertySources({\r\n        @PropertySource(&quot;classpath:default.properties&quot;)\r\n        , @PropertySource(value = &quot;file:${external.config}&quot;, ignoreResourceNotFound = true)\r\n    })\r\n\r\nand specify a `external.config` in your application.properties.   \r\nThis would provide a default path for overridding config, that is still overriddable itself by specifying a `--external.config` in the command line.   \r\nI use this with `${external.config}` being defined as a system env variable, but it should work with a application.properties variable too.\r\n\r\n  [1]: http://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-external-config.html","title":"Spring boot external application.properties","body":"<p>I always use <code>--spring.config.location=</code> in the command line as specified in the <a href=\"http://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-external-config.html\" rel=\"noreferrer\">documentation</a>, and you can put various files in this, one with default values and another with the overridden ones.</p>\n\n<p>Edit:<br>\nAlternatively, you could also use something like :</p>\n\n<pre><code>@PropertySources({\n    @PropertySource(\"classpath:default.properties\")\n    , @PropertySource(value = \"file:${external.config}\", ignoreResourceNotFound = true)\n})\n</code></pre>\n\n<p>and specify a <code>external.config</code> in your application.properties.<br>\nThis would provide a default path for overridding config, that is still overriddable itself by specifying a <code>--external.config</code> in the command line.<br>\nI use this with <code>${external.config}</code> being defined as a system env variable, but it should work with a application.properties variable too.</p>\n"},{"tags":[],"owner":{"account_id":942344,"reputation":4204,"user_id":970200,"display_name":"Ian Lim"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1545268895,"creation_date":1545268895,"answer_id":53861306,"question_id":27770852,"body_markdown":"# Notes\r\n1) Tomcat allows you to define context parameters\r\n2) Spring Boot will read the properties defined in Tomcat context parameters as if you are defining them as -Dsomething=some_value\r\n\r\n# Options\r\n\r\n**Option 1:** Hence a possible way is for you to define **spring.config.location** at the Tomcat context paramter:\r\n\r\n    &lt;Context&gt;\r\n        &lt;Parameter name=&quot;spring.config.location&quot; value=&quot;/path/to/application.properties&quot; /&gt;\r\n    &lt;/Context&gt;\r\n\r\n**Option 2:** define a system property at the Tomcat&#39;s setenv.sh file\r\n\r\n    Dspring.config.location=/path/to/application.properties\r\n\r\n**Option 3:** define an environment variable: **SPRING_CONFIG_LOCATION**\r\n\r\n\r\n\r\n","title":"Spring boot external application.properties","body":"<h1>Notes</h1>\n\n<p>1) Tomcat allows you to define context parameters\n2) Spring Boot will read the properties defined in Tomcat context parameters as if you are defining them as -Dsomething=some_value</p>\n\n<h1>Options</h1>\n\n<p><strong>Option 1:</strong> Hence a possible way is for you to define <strong>spring.config.location</strong> at the Tomcat context paramter:</p>\n\n<pre><code>&lt;Context&gt;\n    &lt;Parameter name=\"spring.config.location\" value=\"/path/to/application.properties\" /&gt;\n&lt;/Context&gt;\n</code></pre>\n\n<p><strong>Option 2:</strong> define a system property at the Tomcat's setenv.sh file</p>\n\n<pre><code>Dspring.config.location=/path/to/application.properties\n</code></pre>\n\n<p><strong>Option 3:</strong> define an environment variable: <strong>SPRING_CONFIG_LOCATION</strong></p>\n"},{"tags":[],"owner":{"account_id":8803970,"reputation":6689,"user_id":6579265,"display_name":"George Z."},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1550507812,"creation_date":1550502574,"answer_id":54750185,"question_id":27770852,"body_markdown":"If you do not want to use any solution from above, you could do the following in the start of your `main(String args[])` method (before the usage of `SpringApplication.run(MyClass.class, args)`:\r\n\r\n    //Specifies a custom location for application.properties file.\r\n    System.setProperty(&quot;spring.config.location&quot;, &quot;target/config/application.properties&quot;);","title":"Spring boot external application.properties","body":"<p>If you do not want to use any solution from above, you could do the following in the start of your <code>main(String args[])</code> method (before the usage of <code>SpringApplication.run(MyClass.class, args)</code>:</p>\n\n<pre><code>//Specifies a custom location for application.properties file.\nSystem.setProperty(\"spring.config.location\", \"target/config/application.properties\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15194299,"reputation":122,"user_id":10964148,"display_name":"Ramzi Guetiti"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1574956237,"creation_date":1574956237,"answer_id":59092435,"question_id":27770852,"body_markdown":"I had the same requirement like yours( war package instead of a fat jar)  and I manged to externalize the configuration file:\r\nIn my main class I made this configuration:\r\n\r\n    @SpringBootApplication\r\n    @PropertySource(&quot;file:D:\\\\Projets\\\\XXXXX\\\\Config\\\\application.properties&quot;)\r\n    public class WyApplication extends SpringBootServletInitializer {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(WyApplication.class, args);\r\n    \t}\r\n    \r\n    }   \r\n\r\nHope this will help you.\r\nGood luck.","title":"Spring boot external application.properties","body":"<p>I had the same requirement like yours( war package instead of a fat jar)  and I manged to externalize the configuration file:\nIn my main class I made this configuration:</p>\n\n<pre><code>@SpringBootApplication\n@PropertySource(\"file:D:\\\\Projets\\\\XXXXX\\\\Config\\\\application.properties\")\npublic class WyApplication extends SpringBootServletInitializer {\n\n    public static void main(String[] args) {\n        SpringApplication.run(WyApplication.class, args);\n    }\n\n}   \n</code></pre>\n\n<p>Hope this will help you.\nGood luck.</p>\n"},{"tags":[],"owner":{"account_id":7504151,"reputation":235,"user_id":5701336,"display_name":"mhsallam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1598144362,"creation_date":1598144362,"answer_id":63542477,"question_id":27770852,"body_markdown":"**Note:** The following solution will replace the old application.properties entirely\r\n\r\nYou can place your application.properties in one of the following locations:\r\n\r\n - Under /config sub-directory of the current directory\r\n - The current directory\r\n - A classpath /config package\r\n - The classpath root\r\n\r\nAnd then exclude the default one under resources directory, like:\r\n\r\n    &lt;build&gt;\r\n        &lt;resources&gt;\r\n            &lt;resource&gt;\r\n                &lt;directory&gt;src/main/resources&lt;/directory&gt;\r\n                &lt;filtering&gt;true&lt;/filtering&gt;\r\n                &lt;excludes&gt;\r\n                    &lt;exclude&gt;**/application.properties&lt;/exclude&gt;\r\n                &lt;/excludes&gt;\r\n            &lt;/resource&gt;\r\n        &lt;/resources&gt;\r\n    &lt;/build&gt;\r\n\r\nFind more details in this [link][1]\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-properties-file-outside-jar","title":"Spring boot external application.properties","body":"<p><strong>Note:</strong> The following solution will replace the old application.properties entirely</p>\n<p>You can place your application.properties in one of the following locations:</p>\n<ul>\n<li>Under /config sub-directory of the current directory</li>\n<li>The current directory</li>\n<li>A classpath /config package</li>\n<li>The classpath root</li>\n</ul>\n<p>And then exclude the default one under resources directory, like:</p>\n<pre><code>&lt;build&gt;\n    &lt;resources&gt;\n        &lt;resource&gt;\n            &lt;directory&gt;src/main/resources&lt;/directory&gt;\n            &lt;filtering&gt;true&lt;/filtering&gt;\n            &lt;excludes&gt;\n                &lt;exclude&gt;**/application.properties&lt;/exclude&gt;\n            &lt;/excludes&gt;\n        &lt;/resource&gt;\n    &lt;/resources&gt;\n&lt;/build&gt;\n</code></pre>\n<p>Find more details in this <a href=\"https://www.baeldung.com/spring-properties-file-outside-jar\" rel=\"nofollow noreferrer\">link</a></p>\n"},{"tags":[],"owner":{"account_id":8327739,"reputation":309,"user_id":6257289,"display_name":"sebasdev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1621101262,"creation_date":1621101262,"answer_id":67549731,"question_id":27770852,"body_markdown":"Based on [@JR Utily][1] response this &quot;format&quot; work for me when use email config and multiple properties (I tried to use a `PropertySourcesPlaceholderConfigurer` Bean but for any reason don&#39;t take the email config):\r\n\r\n    @SpringBootApplication\r\n    @PropertySources({\r\n        @PropertySource(&quot;classpath:application.properties&quot;),\r\n        @PropertySource(value = &quot;file:/path/to/config1.properties&quot;, ignoreResourceNotFound = true),\r\n        @PropertySource(value = &quot;file:/path/to/config2.properties&quot;, ignoreResourceNotFound = true),\r\n        @PropertySource(value = &quot;file:/path/to/config3.properties&quot;, ignoreResourceNotFound = true)\r\n    })\r\n    public class ExampleApplication {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(ExampleApplication.class, args);\r\n    \t}\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/27776123/6257289","title":"Spring boot external application.properties","body":"<p>Based on <a href=\"https://stackoverflow.com/a/27776123/6257289\">@JR Utily</a> response this &quot;format&quot; work for me when use email config and multiple properties (I tried to use a <code>PropertySourcesPlaceholderConfigurer</code> Bean but for any reason don't take the email config):</p>\n<pre><code>@SpringBootApplication\n@PropertySources({\n    @PropertySource(&quot;classpath:application.properties&quot;),\n    @PropertySource(value = &quot;file:/path/to/config1.properties&quot;, ignoreResourceNotFound = true),\n    @PropertySource(value = &quot;file:/path/to/config2.properties&quot;, ignoreResourceNotFound = true),\n    @PropertySource(value = &quot;file:/path/to/config3.properties&quot;, ignoreResourceNotFound = true)\n})\npublic class ExampleApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(ExampleApplication.class, args);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14099234,"reputation":11,"user_id":10185005,"display_name":"Somanath Behera"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654805569,"creation_date":1654663241,"answer_id":72540139,"question_id":27770852,"body_markdown":"Yes we can add application.properties file from external folder. The simplest way is \r\n\r\n~~~java\r\n@SpringBootApplication\r\npublic class ExternalAppPropertiesTest{\r\n\r\n    public static void main(String[] args) {\r\n        System.setProperties(&quot;spring.config.location&quot;,&quot;D:\\\\yourfoldername where application.properties added&quot;);\r\n        SpringApplication.run(ExternalAppPropertiesTest.class, args);\r\n    }\r\n}\r\n~~~\r\n\r\n N.B. - In case of externally application.properties access please don&#39;t use @PropertySources annotation and file path. It will not access your logging properties e.g. logging.file.name=yourlogfilename.log\r\n\r\nHere is one more suggestion, for code maintenance you can put your applcation.properties by renaming the file name in your src folder of spring boot application and maintain the changes which is done in external file.\r\n\r\n ","title":"Spring boot external application.properties","body":"<p>Yes we can add application.properties file from external folder. The simplest way is</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication\npublic class ExternalAppPropertiesTest{\n\n    public static void main(String[] args) {\n        System.setProperties(&quot;spring.config.location&quot;,&quot;D:\\\\yourfoldername where application.properties added&quot;);\n        SpringApplication.run(ExternalAppPropertiesTest.class, args);\n    }\n}\n</code></pre>\n<p>N.B. - In case of externally application.properties access please don't use @PropertySources annotation and file path. It will not access your logging properties e.g. logging.file.name=yourlogfilename.log</p>\n<p>Here is one more suggestion, for code maintenance you can put your applcation.properties by renaming the file name in your src folder of spring boot application and maintain the changes which is done in external file.</p>\n"}],"owner":{"account_id":2932936,"reputation":198,"user_id":2512637,"display_name":"greenhalos"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66951,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"answer_count":7,"score":17,"last_activity_date":1654805569,"creation_date":1420409009,"question_id":27770852,"body_markdown":"I am developing a spring boot application\r\n\r\nI want to override some properties in `src/main/resources/application.properties` with an external file (e.g. `/etc/projectName/application.properties`).\r\n\r\nI tried several methods: \r\n\r\n1. `@PropertySource(&quot;file:/etc/projectName/application.properties&quot;)` as annotation at `ApplicationConfig.java` \r\n\r\n2. `spring.config.location=/etc/projectName/application.properties` in my application.properties in `resources`\r\n\r\nI tested it with `spring.port`. The first method only added properties but didn&#39;t override them.","title":"Spring boot external application.properties","body":"<p>I am developing a spring boot application</p>\n\n<p>I want to override some properties in <code>src/main/resources/application.properties</code> with an external file (e.g. <code>/etc/projectName/application.properties</code>).</p>\n\n<p>I tried several methods: </p>\n\n<ol>\n<li><p><code>@PropertySource(\"file:/etc/projectName/application.properties\")</code> as annotation at <code>ApplicationConfig.java</code> </p></li>\n<li><p><code>spring.config.location=/etc/projectName/application.properties</code> in my application.properties in <code>resources</code></p></li>\n</ol>\n\n<p>I tested it with <code>spring.port</code>. The first method only added properties but didn't override them.</p>\n"},{"tags":["java","kotlin"],"answers":[{"tags":[],"owner":{"account_id":23110408,"reputation":6937,"user_id":17218429,"display_name":"lukas.j"},"down_vote_count":1,"up_vote_count":6,"is_accepted":true,"score":5,"last_activity_date":1654445536,"creation_date":1654444174,"answer_id":72508821,"question_id":72508803,"body_markdown":"    val list = listOf(1, 2, 2, 3, 2, 5, 1, 1, 6, 1)\r\n    \r\n    val result = list.filterIndexed { index, i -&gt; \r\n      if (index &gt; 0) i != list[index - 1] else true\r\n      // or: if (index &lt; list.size - 1) i != list[index + 1] else true\r\n    }\r\n    \r\n    println(result)\r\n\r\nEdit, for scalar types and data classes:\r\n\r\n    fun &lt;T : Any&gt; List&lt;T&gt;.filterConsecutiveDuplicates() =\r\n      filterIndexed { index, i -&gt; if (index &lt; size - 1) i != this[index + 1] else true }\r\n\r\n    val list = listOf(1, 2, 2, 3, 2, 5, 1, 1, 6, 1)\r\n    val list2 = list.filterConsecutiveDuplicates()\r\n\r\n    data class O(val name: String)\r\n    val objects = listOf(O(&quot;A&quot;), O(&quot;A&quot;), O(&quot;B&quot;), O(&quot;A&quot;), O(&quot;B&quot;), O(&quot;C&quot;), O(&quot;C&quot;), O(&quot;A&quot;))\r\n    val objects2 = objects.filterConsecutiveDuplicates()\r\n\r\n\r\n","title":"How to remove all duplicates that are in consecutive positions?","body":"<pre><code>val list = listOf(1, 2, 2, 3, 2, 5, 1, 1, 6, 1)\n\nval result = list.filterIndexed { index, i -&gt; \n  if (index &gt; 0) i != list[index - 1] else true\n  // or: if (index &lt; list.size - 1) i != list[index + 1] else true\n}\n\nprintln(result)\n</code></pre>\n<p>Edit, for scalar types and data classes:</p>\n<pre><code>fun &lt;T : Any&gt; List&lt;T&gt;.filterConsecutiveDuplicates() =\n  filterIndexed { index, i -&gt; if (index &lt; size - 1) i != this[index + 1] else true }\n\nval list = listOf(1, 2, 2, 3, 2, 5, 1, 1, 6, 1)\nval list2 = list.filterConsecutiveDuplicates()\n\ndata class O(val name: String)\nval objects = listOf(O(&quot;A&quot;), O(&quot;A&quot;), O(&quot;B&quot;), O(&quot;A&quot;), O(&quot;B&quot;), O(&quot;C&quot;), O(&quot;C&quot;), O(&quot;A&quot;))\nval objects2 = objects.filterConsecutiveDuplicates()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16370655,"reputation":1878,"user_id":11983046,"display_name":"Ryan Zhang"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1654444350,"creation_date":1654444350,"answer_id":72508858,"question_id":72508803,"body_markdown":"If you want a Java method to do this:\r\n\r\nI don&#39;t know of any method in Java that you can conveniently use to do this. Just implement the logic yourself. Try something like what&#39;s shown below:\r\n\r\n```\r\nint[] a = ... // whatever initial array value\r\nList&lt;Integer&gt; b = new ArrayList&lt;Integer&gt;(); // final array after processing\r\n\r\nb.add(a[0]);\r\n\r\nfor(int i = 1; i &lt; a.length; ++i) if(a[i] != a[i-1]) b.add(a[i]);\r\n```\r\n\r\n`b` Should store the contents of what you want.","title":"How to remove all duplicates that are in consecutive positions?","body":"<p>If you want a Java method to do this:</p>\n<p>I don't know of any method in Java that you can conveniently use to do this. Just implement the logic yourself. Try something like what's shown below:</p>\n<pre><code>int[] a = ... // whatever initial array value\nList&lt;Integer&gt; b = new ArrayList&lt;Integer&gt;(); // final array after processing\n\nb.add(a[0]);\n\nfor(int i = 1; i &lt; a.length; ++i) if(a[i] != a[i-1]) b.add(a[i]);\n</code></pre>\n<p><code>b</code> Should store the contents of what you want.</p>\n"},{"tags":[],"owner":{"account_id":9925264,"reputation":614,"user_id":7347085,"display_name":"DrPhill"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1654444906,"creation_date":1654444906,"answer_id":72508934,"question_id":72508803,"body_markdown":"\r\n\r\n    val list = listOf(1,2,2,3,2,5,1,1,6,1)\r\n    // if list is empty then result is empty list\r\n    val mutableList = mutableListOf(list.first())\r\n    list.forEach {\r\n        if (it != mutableList.last()) {\r\n            mutableList.add(it)\r\n        }\r\n    }\r\n    println(mutableList.joinToString { it.toString() })\r\n\r\n","title":"How to remove all duplicates that are in consecutive positions?","body":"<pre><code>val list = listOf(1,2,2,3,2,5,1,1,6,1)\n// if list is empty then result is empty list\nval mutableList = mutableListOf(list.first())\nlist.forEach {\n    if (it != mutableList.last()) {\n        mutableList.add(it)\n    }\n}\nprintln(mutableList.joinToString { it.toString() })\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13774089,"reputation":2593,"user_id":9940820,"display_name":"AlexT"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1654446004,"creation_date":1654445272,"answer_id":72508985,"question_id":72508803,"body_markdown":"You already have a java version, this would be the Kotlin one. We can take advantage of Kotlin&#39;s [zipWithNext](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/zip-with-next.html) to make it simpler, but to note is that we are creating a new list. \r\n\r\n```\r\nfun main() {\r\n\tval list = listOf(1, 2, 2, 3, 2, 5, 1, 1, 6, 1)\r\n\tval result = list.removeConsecutiveDuplicates()\r\n\tprintln(result)\r\n}\r\n\r\n\r\nfun &lt;T&gt; Collection&lt;T&gt;.removeConsecutiveDuplicates(): MutableList&lt;T&gt; {\r\n\tval result = mutableListOf&lt;T&gt;()\r\n\tthis.zipWithNext { a, b -&gt; if (a != b) result += a }\r\n\treturn result\r\n}\r\n```\r\n\r\nThe print result is `[1, 2, 3, 2, 5, 1, 6]`.\r\n\r\nAs DrPhill suggested, you can do it without an explicit second list, he did it with `mapNotNull`, but I would personally prefer it with `.filter`\r\n\r\n```\r\nfun &lt;T&gt; Collection&lt;T&gt;.removeConsecutiveDuplicates(): List&lt;T&gt; {\r\n\treturn this.zipWithNext().filter { (a, b) -&gt; a != b  }.map { it.first }\r\n}\r\n```","title":"How to remove all duplicates that are in consecutive positions?","body":"<p>You already have a java version, this would be the Kotlin one. We can take advantage of Kotlin's <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/zip-with-next.html\" rel=\"nofollow noreferrer\">zipWithNext</a> to make it simpler, but to note is that we are creating a new list.</p>\n<pre><code>fun main() {\n    val list = listOf(1, 2, 2, 3, 2, 5, 1, 1, 6, 1)\n    val result = list.removeConsecutiveDuplicates()\n    println(result)\n}\n\n\nfun &lt;T&gt; Collection&lt;T&gt;.removeConsecutiveDuplicates(): MutableList&lt;T&gt; {\n    val result = mutableListOf&lt;T&gt;()\n    this.zipWithNext { a, b -&gt; if (a != b) result += a }\n    return result\n}\n</code></pre>\n<p>The print result is <code>[1, 2, 3, 2, 5, 1, 6]</code>.</p>\n<p>As DrPhill suggested, you can do it without an explicit second list, he did it with <code>mapNotNull</code>, but I would personally prefer it with <code>.filter</code></p>\n<pre><code>fun &lt;T&gt; Collection&lt;T&gt;.removeConsecutiveDuplicates(): List&lt;T&gt; {\n    return this.zipWithNext().filter { (a, b) -&gt; a != b  }.map { it.first }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9925264,"reputation":614,"user_id":7347085,"display_name":"DrPhill"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1654805495,"creation_date":1654445837,"answer_id":72509060,"question_id":72508803,"body_markdown":"Based on [Alex.T&#39;s answer](https://stackoverflow.com/questions/72508803/how-to-remove-all-duplicates-if-it-is-a-consecutive-position/72508985#72508985):\r\n\r\n    fun &lt;T&gt; Collection&lt;T&gt;.removeConsecutiveDuplicates(): MutableList&lt;T&gt; {\r\n         return this.zipWithNext().mapNotNull {a, b -&gt; if (a != b) a else null }\r\n    }\r\n\r\n[Edit: I now prefer Alex.T&#39;s modified version of my suggestion - it is much clearer.]","title":"How to remove all duplicates that are in consecutive positions?","body":"<p>Based on <a href=\"https://stackoverflow.com/questions/72508803/how-to-remove-all-duplicates-if-it-is-a-consecutive-position/72508985#72508985\">Alex.T's answer</a>:</p>\n<pre><code>fun &lt;T&gt; Collection&lt;T&gt;.removeConsecutiveDuplicates(): MutableList&lt;T&gt; {\n     return this.zipWithNext().mapNotNull {a, b -&gt; if (a != b) a else null }\n}\n</code></pre>\n<p>[Edit: I now prefer Alex.T's modified version of my suggestion - it is much clearer.]</p>\n"}],"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":514,"favorite_count":0,"down_vote_count":3,"up_vote_count":5,"accepted_answer_id":72508821,"answer_count":5,"score":2,"last_activity_date":1654805495,"creation_date":1654443982,"question_id":72508803,"body_markdown":"I want to be able to remove all duplicates if they are in a consecutive position in an array. For example, I have this array:\r\n```\r\n[1,2,2,3,2,5,1,1,6,1]\r\n```\r\n\r\nAnd now, I want to remove all the duplicates if they are in the same position. And in the end, after removing the elements, the final array will look like this:\r\n```\r\n[1,2,3,2,5,1,6,1]\r\n```\r\n\r\nAnd clearly, we can see that we are removing it if it is in its next position.\r\n\r\n**Note:** I don&#39;t want this only with integers. I want to it work with all objects. Also, I don&#39;t want to remove all the duplicates. Remove them only if it is in the following position.\r\n\r\nIdeally, I would like to do this in-place, rather than creating a new array.\r\n\r\nSo, how can I achieve this with [tag:java] or [tag:kotlin].","title":"How to remove all duplicates that are in consecutive positions?","body":"<p>I want to be able to remove all duplicates if they are in a consecutive position in an array. For example, I have this array:</p>\n<pre><code>[1,2,2,3,2,5,1,1,6,1]\n</code></pre>\n<p>And now, I want to remove all the duplicates if they are in the same position. And in the end, after removing the elements, the final array will look like this:</p>\n<pre><code>[1,2,3,2,5,1,6,1]\n</code></pre>\n<p>And clearly, we can see that we are removing it if it is in its next position.</p>\n<p><strong>Note:</strong> I don't want this only with integers. I want to it work with all objects. Also, I don't want to remove all the duplicates. Remove them only if it is in the following position.</p>\n<p>Ideally, I would like to do this in-place, rather than creating a new array.</p>\n<p>So, how can I achieve this with <a href=\"/questions/tagged/java\" class=\"post-tag\" title=\"show questions tagged &#39;java&#39;\" rel=\"tag\">java</a> or <a href=\"/questions/tagged/kotlin\" class=\"post-tag\" title=\"show questions tagged &#39;kotlin&#39;\" rel=\"tag\">kotlin</a>.</p>\n"},{"tags":["java","mapbox","mapbox-android","mapbox-marker"],"comments":[{"owner":{"account_id":3664283,"reputation":789,"user_id":3053216,"accept_rate":95,"display_name":"user3053216"},"score":0,"creation_date":1591093646,"post_id":62149869,"comment_id":109918317,"body_markdown":"Please add what you have tried so far and what exactly is going wrong.","body":"Please add what you have tried so far and what exactly is going wrong."},{"owner":{"account_id":17669058,"reputation":1039,"user_id":12825713,"display_name":"Usama Abdulrehman"},"score":0,"creation_date":1591093998,"post_id":62149869,"comment_id":109918494,"body_markdown":"Please include a minimal reproducible example.","body":"Please include a minimal reproducible example."},{"owner":{"account_id":14836207,"reputation":51,"user_id":10714251,"display_name":"Saad El Qorchi"},"score":0,"creation_date":1591101152,"post_id":62149869,"comment_id":109922249,"body_markdown":"please have a look at this question https://stackoverflow.com/questions/62152085/add-text-programmatically-inside-drawable-android","body":"please have a look at this question <a href=\"https://stackoverflow.com/questions/62152085/add-text-programmatically-inside-drawable-android\" title=\"add text programmatically inside drawable android\">stackoverflow.com/questions/62152085/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":18018298,"reputation":616,"user_id":13096248,"display_name":"Mapbox Developer Support"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1591136351,"creation_date":1591136351,"answer_id":62162249,"question_id":62149869,"body_markdown":"Rather than displaying markers with the `MapboxMap#addMarker` method and depending on a drawable resource, you could add icons from coordinates stored as GeoJSON features using a symbol layer, as shown in [this example][1] for the Mapbox Maps SDK for Android. \r\n\r\nWhen adding each `Feature` representing a coordinate to the a [GeoJSON][2] object, you could add a property to each `Feature`&#39;s `properties` object containing the number to display on the marker for this coordinate. Then, in addition to the `iconImage` added with `SymbolLayer#setProperties` as shown in the example, you could also add a `textField` for each symbol populated by the property added to the GeoJSON. This [symbol layer clustering example][3] shows a similar workflow applied to a clustering use case. The difference between the clustering example and your implementation will mainly be that, rather than obtaining the number to display from a clustered count, you will be obtaining it from a GeoJSON property which you specified for the coordinate.\r\n\r\n\r\n  [1]: https://docs.mapbox.com/android/maps/examples/marker-symbol-layer/\r\n  [2]: https://docs.mapbox.com/help/glossary/geojson/\r\n  [3]: https://docs.mapbox.com/android/maps/examples/symbol-layer-clustering/","title":"Adding numbers to marker in mapbox android","body":"<p>Rather than displaying markers with the <code>MapboxMap#addMarker</code> method and depending on a drawable resource, you could add icons from coordinates stored as GeoJSON features using a symbol layer, as shown in <a href=\"https://docs.mapbox.com/android/maps/examples/marker-symbol-layer/\" rel=\"nofollow noreferrer\">this example</a> for the Mapbox Maps SDK for Android. </p>\n\n<p>When adding each <code>Feature</code> representing a coordinate to the a <a href=\"https://docs.mapbox.com/help/glossary/geojson/\" rel=\"nofollow noreferrer\">GeoJSON</a> object, you could add a property to each <code>Feature</code>'s <code>properties</code> object containing the number to display on the marker for this coordinate. Then, in addition to the <code>iconImage</code> added with <code>SymbolLayer#setProperties</code> as shown in the example, you could also add a <code>textField</code> for each symbol populated by the property added to the GeoJSON. This <a href=\"https://docs.mapbox.com/android/maps/examples/symbol-layer-clustering/\" rel=\"nofollow noreferrer\">symbol layer clustering example</a> shows a similar workflow applied to a clustering use case. The difference between the clustering example and your implementation will mainly be that, rather than obtaining the number to display from a clustered count, you will be obtaining it from a GeoJSON property which you specified for the coordinate.</p>\n"},{"tags":[],"owner":{"account_id":3814553,"reputation":722,"user_id":3164227,"display_name":"shubomb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654805472,"creation_date":1654805472,"answer_id":72566117,"question_id":62149869,"body_markdown":"   \r\n\r\n In v10, Marker means annotation and we can achieve multiple marker like this:\r\n        \r\n       \r\n\r\n        var markerList :ArrayList&lt;PointAnnotationOptions&gt; = ArrayList()\r\n                var annotationApi : AnnotationPlugin? = null\r\n                lateinit var annotaionConfig : AnnotationConfig\r\n                var pointAnnotationManager : PointAnnotationManager? = null\r\n                var mapView: MapView? = null\r\n                val layerID = &quot;map_annotation&quot;;\r\n                \r\n                mapView = findViewById(R.id.map);\r\n                mapView?.getMapboxMap()?.loadStyleUri(\r\n                       Style.MAPBOX_STREETS,\r\n                       object : Style.OnStyleLoaded {\r\n                                createMarkerList()\r\n                                annotationApi = mapView?.annotations\r\n                                annotaionConfig = AnnotationConfig(\r\n                                          layerId = layerID\r\n                                )\r\n                               pointAnnotationManager = annotationApi?.createPointAnnotationManager(annotaionConfig)!!\r\n        \r\n                                }\r\n                       }\r\n               )\r\n            \r\n            fun createMarkerList(){\r\n              markerList =  ArrayList();\r\n              for (i in 0 until 5) {\r\n              bitmapFromDrawableRes(context!!.applicationContext,R.drawable.doctor_online\r\n                  )?.let {\r\n                val pointAnnotationOptions: PointAnnotationOptions = \r\n                PointAnnotationOptions()\r\n                    .withPoint(Point.fromLngLat(latLng!!.longitude,latLng!!.latitude))\r\n                    .withIconImage(it)\r\n                    .withData(Gson().fromJson(data.toString(), JsonElement::class.java))\r\n                    .withIconSize(2.0)\r\n               markerList.add(pointAnnotationOptions);\r\n                } \r\n             }\r\n             // For Creating marker\r\n             pointAnnotationManager?.create(markerList)\r\n           }\r\n    \r\n    private fun convertDrawableToBitmap(sourceDrawable: Drawable?): Bitmap? {\r\n            if (sourceDrawable == null) {\r\n                return null\r\n            }\r\n            return if (sourceDrawable is BitmapDrawable) {\r\n                sourceDrawable.bitmap\r\n            } else {\r\n    // copying drawable object to not manipulate on the same reference\r\n                val constantState = sourceDrawable.constantState ?: return null\r\n                val drawable = constantState.newDrawable().mutate()\r\n                val bitmap: Bitmap = Bitmap.createBitmap(\r\n                    drawable.intrinsicWidth, drawable.intrinsicHeight,\r\n                    Bitmap.Config.ARGB_8888\r\n                )\r\n                val canvas = Canvas(bitmap)\r\n                drawable.setBounds(0, 0, canvas.width, canvas.height)\r\n                drawable.draw(canvas)\r\n                bitmap\r\n            }\r\n        }\r\n\r\n","title":"Adding numbers to marker in mapbox android","body":"<p>In v10, Marker means annotation and we can achieve multiple marker like this:</p>\n<pre><code>    var markerList :ArrayList&lt;PointAnnotationOptions&gt; = ArrayList()\n            var annotationApi : AnnotationPlugin? = null\n            lateinit var annotaionConfig : AnnotationConfig\n            var pointAnnotationManager : PointAnnotationManager? = null\n            var mapView: MapView? = null\n            val layerID = &quot;map_annotation&quot;;\n            \n            mapView = findViewById(R.id.map);\n            mapView?.getMapboxMap()?.loadStyleUri(\n                   Style.MAPBOX_STREETS,\n                   object : Style.OnStyleLoaded {\n                            createMarkerList()\n                            annotationApi = mapView?.annotations\n                            annotaionConfig = AnnotationConfig(\n                                      layerId = layerID\n                            )\n                           pointAnnotationManager = annotationApi?.createPointAnnotationManager(annotaionConfig)!!\n    \n                            }\n                   }\n           )\n        \n        fun createMarkerList(){\n          markerList =  ArrayList();\n          for (i in 0 until 5) {\n          bitmapFromDrawableRes(context!!.applicationContext,R.drawable.doctor_online\n              )?.let {\n            val pointAnnotationOptions: PointAnnotationOptions = \n            PointAnnotationOptions()\n                .withPoint(Point.fromLngLat(latLng!!.longitude,latLng!!.latitude))\n                .withIconImage(it)\n                .withData(Gson().fromJson(data.toString(), JsonElement::class.java))\n                .withIconSize(2.0)\n           markerList.add(pointAnnotationOptions);\n            } \n         }\n         // For Creating marker\n         pointAnnotationManager?.create(markerList)\n       }\n\nprivate fun convertDrawableToBitmap(sourceDrawable: Drawable?): Bitmap? {\n        if (sourceDrawable == null) {\n            return null\n        }\n        return if (sourceDrawable is BitmapDrawable) {\n            sourceDrawable.bitmap\n        } else {\n// copying drawable object to not manipulate on the same reference\n            val constantState = sourceDrawable.constantState ?: return null\n            val drawable = constantState.newDrawable().mutate()\n            val bitmap: Bitmap = Bitmap.createBitmap(\n                drawable.intrinsicWidth, drawable.intrinsicHeight,\n                Bitmap.Config.ARGB_8888\n            )\n            val canvas = Canvas(bitmap)\n            drawable.setBounds(0, 0, canvas.width, canvas.height)\n            drawable.draw(canvas)\n            bitmap\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":14836207,"reputation":51,"user_id":10714251,"display_name":"Saad El Qorchi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2879,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":62162249,"answer_count":2,"score":0,"last_activity_date":1654805472,"creation_date":1591093511,"question_id":62149869,"body_markdown":"I&#39;m trying to figure out how to add numbers to markers programmatically in mapbox to get the result of the image below\r\n\r\n[MARKERS WITH NUMBERS ][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ssm4c.png\r\n\r\n\r\n\r\nHere is the code of the map that displays some markers \r\n```\r\npublic class DepartMissionFragment extends Fragment {\r\n    private MapView mapView;\r\n\r\n    private static final String TAG = &quot;DirectionsActivity&quot;;\r\n\r\n\r\n    @Nullable\r\n    @Override\r\n    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\r\n        super.onCreateView(inflater, container, savedInstanceState);\r\n        Mapbox.getInstance(requireActivity(), getString(R.string.access_token));\r\n        View view  = inflater.inflate(R.layout.fragment_mission_depart, container, false);\r\n\r\n        mapView = view.findViewById(R.id.mapView20);\r\n        mapView.onCreate(savedInstanceState);\r\n        mapView.getMapAsync(new OnMapReadyCallback() {\r\n            @Override\r\n            public void onMapReady(@NonNull MapboxMap mapboxMap) {\r\n\r\n                mapboxMap.addMarker(new MarkerOptions()\r\n                        .position(new LatLng(33.589886, -7.603869))\r\n                        .title(&quot;marker one&quot;));\r\n// It is possible to use .setIcon() to get a custom icon from ressources\r\n \r\n\r\n                mapboxMap.addMarker(new MarkerOptions()\r\n                        .position(new LatLng(33.589790, -7.603989))\r\n                        .title(&quot;marker two&quot;));\r\n\r\n                mapboxMap.addMarker(new MarkerOptions()\r\n                        .position(new LatLng(33.589190, -7.603089))\r\n                        .title(&quot;marker three&quot;));\r\n\r\n\r\n                mapboxMap.addMarker(new MarkerOptions()\r\n                        .position(new LatLng(33.588790, -7.603289))\r\n                        .title(&quot;etc..&quot;));\r\n\r\n                mapboxMap.addMarker(new MarkerOptions()\r\n                        .position(new LatLng(33.580790, -7.603989))\r\n                        .title(&quot;etc....&quot;));\r\n                mapboxMap.setStyle(getString(R.string.navigation_guidance_day), new Style.OnStyleLoaded() {\r\n\r\n                    @Override\r\n                    public void onStyleLoaded(@NonNull Style style) {\r\n\r\n\r\n                    }\r\n                });\r\n\r\n            }\r\n        });\r\n        return view;\r\n    }\r\n\r\n    @Override\r\n    public void onAttach(@NonNull Context context) {\r\n        super.onAttach(context);\r\n    }\r\n\r\n    @Override\r\n    public void onStart() {\r\n        super.onStart();\r\n        mapView.onStart();\r\n    }\r\n\r\n    @Override\r\n    public void onResume() {\r\n        super.onResume();\r\n        mapView.onResume();\r\n    }\r\n\r\n    @Override\r\n    public void onPause() {\r\n        super.onPause();\r\n        mapView.onPause();\r\n    }\r\n\r\n    @Override\r\n    public void onStop() {\r\n        super.onStop();\r\n        mapView.onStop();\r\n    }\r\n\r\n    @Override\r\n    public void onSaveInstanceState(Bundle outState) {\r\n        super.onSaveInstanceState(outState);\r\n        mapView.onSaveInstanceState(outState);\r\n    }\r\n\r\n    @Override\r\n    public void onDestroy() {\r\n        super.onDestroy();\r\n        mapView.onDestroy();\r\n    }\r\n\r\n    @Override\r\n    public void onLowMemory() {\r\n        super.onLowMemory();\r\n        mapView.onLowMemory();\r\n    }\r\n}\r\n````\r\n\r\nI&#39;m searching for a way to give numbers to the markers, a proper way for me would be to add custom marker from drawable.\r\n\r\nAny other method is welcomed.\r\n\r\n\r\n","title":"Adding numbers to marker in mapbox android","body":"<p>I'm trying to figure out how to add numbers to markers programmatically in mapbox to get the result of the image below</p>\n\n<p><a href=\"https://i.stack.imgur.com/ssm4c.png\" rel=\"nofollow noreferrer\">MARKERS WITH NUMBERS </a></p>\n\n<p>Here is the code of the map that displays some markers </p>\n\n<pre><code>public class DepartMissionFragment extends Fragment {\n    private MapView mapView;\n\n    private static final String TAG = \"DirectionsActivity\";\n\n\n    @Nullable\n    @Override\n    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\n        super.onCreateView(inflater, container, savedInstanceState);\n        Mapbox.getInstance(requireActivity(), getString(R.string.access_token));\n        View view  = inflater.inflate(R.layout.fragment_mission_depart, container, false);\n\n        mapView = view.findViewById(R.id.mapView20);\n        mapView.onCreate(savedInstanceState);\n        mapView.getMapAsync(new OnMapReadyCallback() {\n            @Override\n            public void onMapReady(@NonNull MapboxMap mapboxMap) {\n\n                mapboxMap.addMarker(new MarkerOptions()\n                        .position(new LatLng(33.589886, -7.603869))\n                        .title(\"marker one\"));\n// It is possible to use .setIcon() to get a custom icon from ressources\n\n\n                mapboxMap.addMarker(new MarkerOptions()\n                        .position(new LatLng(33.589790, -7.603989))\n                        .title(\"marker two\"));\n\n                mapboxMap.addMarker(new MarkerOptions()\n                        .position(new LatLng(33.589190, -7.603089))\n                        .title(\"marker three\"));\n\n\n                mapboxMap.addMarker(new MarkerOptions()\n                        .position(new LatLng(33.588790, -7.603289))\n                        .title(\"etc..\"));\n\n                mapboxMap.addMarker(new MarkerOptions()\n                        .position(new LatLng(33.580790, -7.603989))\n                        .title(\"etc....\"));\n                mapboxMap.setStyle(getString(R.string.navigation_guidance_day), new Style.OnStyleLoaded() {\n\n                    @Override\n                    public void onStyleLoaded(@NonNull Style style) {\n\n\n                    }\n                });\n\n            }\n        });\n        return view;\n    }\n\n    @Override\n    public void onAttach(@NonNull Context context) {\n        super.onAttach(context);\n    }\n\n    @Override\n    public void onStart() {\n        super.onStart();\n        mapView.onStart();\n    }\n\n    @Override\n    public void onResume() {\n        super.onResume();\n        mapView.onResume();\n    }\n\n    @Override\n    public void onPause() {\n        super.onPause();\n        mapView.onPause();\n    }\n\n    @Override\n    public void onStop() {\n        super.onStop();\n        mapView.onStop();\n    }\n\n    @Override\n    public void onSaveInstanceState(Bundle outState) {\n        super.onSaveInstanceState(outState);\n        mapView.onSaveInstanceState(outState);\n    }\n\n    @Override\n    public void onDestroy() {\n        super.onDestroy();\n        mapView.onDestroy();\n    }\n\n    @Override\n    public void onLowMemory() {\n        super.onLowMemory();\n        mapView.onLowMemory();\n    }\n}\n</code></pre>\n\n<p>I'm searching for a way to give numbers to the markers, a proper way for me would be to add custom marker from drawable.</p>\n\n<p>Any other method is welcomed.</p>\n"},{"tags":["java","javafx","model-view-controller","fxml"],"comments":[{"owner":{"account_id":24940065,"reputation":41,"user_id":18806082,"display_name":"Ernest P W"},"score":0,"creation_date":1654805724,"post_id":72566004,"comment_id":128186430,"body_markdown":"Or is it usually possible but the class cannot be accessed due to different location?","body":"Or is it usually possible but the class cannot be accessed due to different location?"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1654807590,"post_id":72566004,"comment_id":128186940,"body_markdown":"What is the exact module warning/error you&#39;re getting?","body":"What is the exact module warning/error you&#39;re getting?"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":2,"creation_date":1654808070,"post_id":72566004,"comment_id":128187050,"body_markdown":"See https://stackoverflow.com/q/32342864/2189127","body":"See <a href=\"https://stackoverflow.com/q/32342864/2189127\">stackoverflow.com/q/32342864/2189127</a>"}],"owner":{"account_id":24940065,"reputation":41,"user_id":18806082,"display_name":"Ernest P W"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1654833637,"answer_count":0,"score":0,"last_activity_date":1654804822,"creation_date":1654804822,"question_id":72566004,"body_markdown":"Can someone explain me how to integrate the model part of a program with a FXML-Controller? I&#39;m new to FXML. So far, I tried to create a constructor for the controller and pass the relevant information as parameters but then I get the warning: &quot;Class &#39;some_class&#39; is not exported from module &#39;some_module&#39;. If my logic part contains classes like Person, Room etc. how do I pass them to the controller? Could someone show me a simple example of how to do it? The example oracle provided in their documentation doesn&#39;t make it quite clear for me. Thanks in advance.","title":"How to integrate the model part of a program with FXML-Controller?","body":"<p>Can someone explain me how to integrate the model part of a program with a FXML-Controller? I'm new to FXML. So far, I tried to create a constructor for the controller and pass the relevant information as parameters but then I get the warning: &quot;Class 'some_class' is not exported from module 'some_module'. If my logic part contains classes like Person, Room etc. how do I pass them to the controller? Could someone show me a simple example of how to do it? The example oracle provided in their documentation doesn't make it quite clear for me. Thanks in advance.</p>\n"},{"tags":["java","android","import","view","gson"],"comments":[{"owner":{"account_id":2607825,"reputation":5369,"user_id":2258611,"display_name":"Alexander Hoffmann"},"score":0,"creation_date":1654806037,"post_id":72565962,"comment_id":128186519,"body_markdown":"Can you explain what your problem is? What exactly does not work?","body":"Can you explain what your problem is? What exactly does not work?"},{"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"score":0,"creation_date":1654834281,"post_id":72565962,"comment_id":128191374,"body_markdown":"When you run a slow network task you cannot immediately retrieve the result. It will either block the UI thread (bad) or return an empty result before the background task runs. For an AsyncTask you cannot do anything with the result until `onPostExecute`, which you have not implemented.","body":"When you run a slow network task you cannot immediately retrieve the result. It will either block the UI thread (bad) or return an empty result before the background task runs. For an AsyncTask you cannot do anything with the result until <code>onPostExecute</code>, which you have not implemented."},{"owner":{"account_id":25388169,"reputation":23,"user_id":19199647,"display_name":"Brie"},"score":0,"creation_date":1654837740,"post_id":72565962,"comment_id":128191873,"body_markdown":"The problem is : i need class Data is a class of objects of my api response (Football teams), i need to create a somehow a list in Data where i will store this objects, and for &quot; responseResult.Data()&quot; program can&#39;t resolve Date() in class Data, or if you have some exemple or code to display my response in a listview i would be gratefull, im new in the android studio and java and our professor doesen&#39;t explained to us .","body":"The problem is : i need class Data is a class of objects of my api response (Football teams), i need to create a somehow a list in Data where i will store this objects, and for &quot; responseResult.Data()&quot; program can&#39;t resolve Date() in class Data, or if you have some exemple or code to display my response in a listview i would be gratefull, im new in the android studio and java and our professor doesen&#39;t explained to us ."}],"owner":{"account_id":25388169,"reputation":23,"user_id":19199647,"display_name":"Brie"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1654804590,"creation_date":1654804590,"question_id":72565962,"body_markdown":"I need help to implement a list view from an API, \r\ni need one more list to complete and make a get method.\r\nThis is for a project for faculty and i dont see solution on tutorials on internet\r\nHere is code for information view :\r\npackage com.example.myapplication;\r\n\r\n``` import static android.content.ContentValues.TAG;\r\n\r\nimport android.content.pm.PackageManager;\r\nimport android.os.AsyncTask;\r\nimport android.os.Build;\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.view.View;\r\nimport android.widget.AdapterView;\r\nimport android.widget.ArrayAdapter;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.ListView;\r\nimport android.widget.SearchView;\r\nimport android.widget.Spinner;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport com.google.android.gms.common.api.Api;\r\nimport com.google.gson.Gson;\r\nimport com.google.gson.JsonElement;\r\nimport com.google.gson.JsonParser;\r\nimport com.google.gson.annotations.SerializedName;\r\nimport com.google.gson.reflect.TypeToken;\r\n\r\n\r\nimport java.io.BufferedReader;\r\nimport java.io.InputStream;\r\nimport java.io.InputStreamReader;\r\nimport java.lang.reflect.Type;\r\nimport java.net.HttpCookie;\r\nimport java.net.HttpURLConnection;\r\nimport java.net.MalformedURLException;\r\nimport java.net.URL;\r\nimport java.util.ArrayList;\r\nimport java.util.Collections;\r\nimport java.util.Comparator;\r\nimport java.util.Iterator;\r\nimport java.util.List;\r\nimport java.util.Map;\r\nimport java.util.concurrent.ExecutionException;\r\nimport java.io.File;\r\nimport java.io.IOException;\r\n\r\nimport javax.net.ssl.HttpsURLConnection;\r\n\r\nimport okhttp3.Call;\r\nimport okhttp3.Callback;\r\nimport okhttp3.OkHttpClient;\r\nimport okhttp3.Request;\r\nimport okhttp3.Response;\r\nimport okhttp3.ResponseBody;\r\n\r\npublic class TopScorer extends AppCompatActivity {\r\n    SearchView searchView;\r\n    ListView listView;\r\n    String teams[] = {};\r\n\r\n    ArrayAdapter&lt;String&gt; arrayAdapter;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_top_scorer);\r\n        searchView = findViewById(R.id.search);\r\n        listView = findViewById(R.id.listview);\r\n\r\n        searchView.setOnQueryTextListener(new SearchView.OnQueryTextListener() {\r\n            ArrayList&lt;String&gt; teamsInf = new ArrayList&lt;&gt;();\r\n\r\n            @Override\r\n            public boolean onQueryTextSubmit(String query) {\r\n                API API = new API(query);\r\n                try {\r\n                    API.execute().get();\r\n                    teamsInf = API.getTeamsInfo();\r\n                    arrayAdapter = new ArrayAdapter&lt;String&gt;(TopScorer.this, android.R.layout.simple_list_item_1, teamsInf);\r\n                    listView.setAdapter(arrayAdapter);\r\n                } catch (ExecutionException e) {\r\n                    e.printStackTrace();\r\n                } catch (InterruptedException e) {\r\n                    e.printStackTrace();\r\n                }\r\n                return true;\r\n\r\n            }\r\n\r\n            @Override\r\n            public boolean onQueryTextChange(String newText) {\r\n                return true;\r\n            }\r\n        });\r\n    }\r\n\r\n    public class API extends AsyncTask {\r\n\r\n        String teamName;\r\n        ArrayList&lt;String&gt; teamsInfo;\r\n\r\n        public API(String name) {\r\n            this.teamsInfo = new ArrayList&lt;&gt;();\r\n        }\r\n\r\n        @Override\r\n        protected Object doInBackground(Object[] objects) {\r\n            OkHttpClient client = new OkHttpClient();\r\n\r\n            Request request = new Request.Builder()\r\n                    .url(&quot;https://heisenbug-premier-league-live-scores-v1.p.rapidapi.com/api/premierleague/team?name=&quot;+this.teamName)\r\n                    .get()\r\n                    .addHeader(&quot;X-RapidAPI-Key&quot;, &quot;6ad8dfcfcbmshb4a45a22532e4a1p1efecajsnc2fb433de0da&quot;)\r\n                    .addHeader(&quot;X-RapidAPI-Host&quot;, &quot;heisenbug-premier-league-live-scores-v1.p.rapidapi.com&quot;)\r\n                    .build();\r\n            client.newCall(request).enqueue(new Callback() {\r\n                @Override\r\n                public void onFailure(@NonNull Call call, @NonNull IOException e) {\r\n                    Toast.makeText(TopScorer.this, &quot;Error&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n\r\n                @Override\r\n                public void onResponse(@NonNull Call call, @NonNull Response response) throws IOException {\r\n                    int index=1;\r\n                    String myResult = response.body().string();\r\n                    Gson gson = new Gson();\r\n                    Data responseResult=gson.fromJson(myResult, Data.class);\r\n                    for (lst l : responseResult.Data())\r\n                    {\r\n                        Log.d(TAG, &quot;Liverpool: &quot; + l.getTeam());\r\n                        teamsInfo.add(String.valueOf(index) + &quot;. &quot; + l.getPlayed() + &quot;: &quot; + l.getWin());\r\n                        teamsInfo.add(&quot;Draws : &quot; + l.getDraw());\r\n                        teamsInfo.add(&quot;Loss : &quot; + l.getLoss());\r\n                        teamsInfo.add(&quot;Goals Against : &quot; + l.getGoalsAgainst());\r\n                        teamsInfo.add(&quot;Goals For : &quot; + l.getGoalsFor());\r\n                        teamsInfo.add(&quot;Points : &quot; + l.getPoints());\r\n                        teamsInfo.add(&quot;&quot;);\r\n                        index++;\r\n                    }\r\n\r\n\r\n                }\r\n            });\r\n            return null;\r\n        }\r\n        public ArrayList&lt;String&gt; getTeamsInfo()\r\n        {\r\n            return this.teamsInfo;\r\n        }\r\n    }\r\n}\r\n``` \r\n\r\nand here is Data Class code:\r\n\r\n``` package com.example.myapplication;\r\n\r\nimport org.json.JSONException;\r\nimport org.json.JSONObject;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class Data {\r\n    private String team;\r\n    private String played;\r\n    private String win;\r\n    private String draw;\r\n    private String loss;\r\n    private String goalsFor;\r\n    private String goalsAgainst;\r\n    private String points;\r\n\r\n\r\n    public String getTeam() {\r\n        return this.team;\r\n    }\r\n\r\n    public String getPlayed() {\r\n        return this.played;\r\n    }\r\n\r\n    public String getWin() {\r\n        return this.win;\r\n    }\r\n\r\n    public String getDraw() {\r\n        return this.draw;\r\n    }\r\n\r\n    public String getLoss() {\r\n        return this.loss;\r\n    }\r\n\r\n    public String getGoalsFor() {\r\n        return this.goalsFor;\r\n    }\r\n\r\n    public String getGoalsAgainst() {\r\n        return this.goalsAgainst;\r\n    }\r\n\r\n    public String getPoints() {\r\n        return this.points;\r\n    }\r\n\r\n    public Data fromJson(JSONObject jsonObject) {\r\n        Data team = new Data();\r\n        try {\r\n            team.team = jsonObject.getString(&quot;team&quot;);\r\n            team.played = jsonObject.getString(&quot;played&quot;);\r\n            team.win = jsonObject.getString(&quot;win&quot;);\r\n            team.draw = jsonObject.getString(&quot;draw&quot;);\r\n            team.loss = jsonObject.getString(&quot;loss&quot;);\r\n            team.goalsFor = jsonObject.getString(&quot;goalsFor&quot;);\r\n            team.goalsAgainst = jsonObject.getString(&quot;goalsAgainst&quot;);\r\n            team.points = jsonObject.getString(&quot;points&quot;);\r\n        } catch (JSONException e) {\r\n            e.printStackTrace();\r\n            return null;\r\n        }\r\n        return team;\r\n    }\r\n}\r\n\r\n```\r\ncan anyone help me, i prefered to implement api respone with okhttp code","title":"Problem to implement API in Android Studio","body":"<p>I need help to implement a list view from an API,\ni need one more list to complete and make a get method.\nThis is for a project for faculty and i dont see solution on tutorials on internet\nHere is code for information view :\npackage com.example.myapplication;</p>\n<pre><code>\nimport android.content.pm.PackageManager;\nimport android.os.AsyncTask;\nimport android.os.Build;\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.view.View;\nimport android.widget.AdapterView;\nimport android.widget.ArrayAdapter;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.ListView;\nimport android.widget.SearchView;\nimport android.widget.Spinner;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport com.google.android.gms.common.api.Api;\nimport com.google.gson.Gson;\nimport com.google.gson.JsonElement;\nimport com.google.gson.JsonParser;\nimport com.google.gson.annotations.SerializedName;\nimport com.google.gson.reflect.TypeToken;\n\n\nimport java.io.BufferedReader;\nimport java.io.InputStream;\nimport java.io.InputStreamReader;\nimport java.lang.reflect.Type;\nimport java.net.HttpCookie;\nimport java.net.HttpURLConnection;\nimport java.net.MalformedURLException;\nimport java.net.URL;\nimport java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.Comparator;\nimport java.util.Iterator;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.concurrent.ExecutionException;\nimport java.io.File;\nimport java.io.IOException;\n\nimport javax.net.ssl.HttpsURLConnection;\n\nimport okhttp3.Call;\nimport okhttp3.Callback;\nimport okhttp3.OkHttpClient;\nimport okhttp3.Request;\nimport okhttp3.Response;\nimport okhttp3.ResponseBody;\n\npublic class TopScorer extends AppCompatActivity {\n    SearchView searchView;\n    ListView listView;\n    String teams[] = {};\n\n    ArrayAdapter&lt;String&gt; arrayAdapter;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_top_scorer);\n        searchView = findViewById(R.id.search);\n        listView = findViewById(R.id.listview);\n\n        searchView.setOnQueryTextListener(new SearchView.OnQueryTextListener() {\n            ArrayList&lt;String&gt; teamsInf = new ArrayList&lt;&gt;();\n\n            @Override\n            public boolean onQueryTextSubmit(String query) {\n                API API = new API(query);\n                try {\n                    API.execute().get();\n                    teamsInf = API.getTeamsInfo();\n                    arrayAdapter = new ArrayAdapter&lt;String&gt;(TopScorer.this, android.R.layout.simple_list_item_1, teamsInf);\n                    listView.setAdapter(arrayAdapter);\n                } catch (ExecutionException e) {\n                    e.printStackTrace();\n                } catch (InterruptedException e) {\n                    e.printStackTrace();\n                }\n                return true;\n\n            }\n\n            @Override\n            public boolean onQueryTextChange(String newText) {\n                return true;\n            }\n        });\n    }\n\n    public class API extends AsyncTask {\n\n        String teamName;\n        ArrayList&lt;String&gt; teamsInfo;\n\n        public API(String name) {\n            this.teamsInfo = new ArrayList&lt;&gt;();\n        }\n\n        @Override\n        protected Object doInBackground(Object[] objects) {\n            OkHttpClient client = new OkHttpClient();\n\n            Request request = new Request.Builder()\n                    .url(&quot;https://heisenbug-premier-league-live-scores-v1.p.rapidapi.com/api/premierleague/team?name=&quot;+this.teamName)\n                    .get()\n                    .addHeader(&quot;X-RapidAPI-Key&quot;, &quot;6ad8dfcfcbmshb4a45a22532e4a1p1efecajsnc2fb433de0da&quot;)\n                    .addHeader(&quot;X-RapidAPI-Host&quot;, &quot;heisenbug-premier-league-live-scores-v1.p.rapidapi.com&quot;)\n                    .build();\n            client.newCall(request).enqueue(new Callback() {\n                @Override\n                public void onFailure(@NonNull Call call, @NonNull IOException e) {\n                    Toast.makeText(TopScorer.this, &quot;Error&quot;, Toast.LENGTH_SHORT).show();\n                }\n\n                @Override\n                public void onResponse(@NonNull Call call, @NonNull Response response) throws IOException {\n                    int index=1;\n                    String myResult = response.body().string();\n                    Gson gson = new Gson();\n                    Data responseResult=gson.fromJson(myResult, Data.class);\n                    for (lst l : responseResult.Data())\n                    {\n                        Log.d(TAG, &quot;Liverpool: &quot; + l.getTeam());\n                        teamsInfo.add(String.valueOf(index) + &quot;. &quot; + l.getPlayed() + &quot;: &quot; + l.getWin());\n                        teamsInfo.add(&quot;Draws : &quot; + l.getDraw());\n                        teamsInfo.add(&quot;Loss : &quot; + l.getLoss());\n                        teamsInfo.add(&quot;Goals Against : &quot; + l.getGoalsAgainst());\n                        teamsInfo.add(&quot;Goals For : &quot; + l.getGoalsFor());\n                        teamsInfo.add(&quot;Points : &quot; + l.getPoints());\n                        teamsInfo.add(&quot;&quot;);\n                        index++;\n                    }\n\n\n                }\n            });\n            return null;\n        }\n        public ArrayList&lt;String&gt; getTeamsInfo()\n        {\n            return this.teamsInfo;\n        }\n    }\n}\n</code></pre>\n<p>and here is Data Class code:</p>\n<pre><code>\nimport org.json.JSONException;\nimport org.json.JSONObject;\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class Data {\n    private String team;\n    private String played;\n    private String win;\n    private String draw;\n    private String loss;\n    private String goalsFor;\n    private String goalsAgainst;\n    private String points;\n\n\n    public String getTeam() {\n        return this.team;\n    }\n\n    public String getPlayed() {\n        return this.played;\n    }\n\n    public String getWin() {\n        return this.win;\n    }\n\n    public String getDraw() {\n        return this.draw;\n    }\n\n    public String getLoss() {\n        return this.loss;\n    }\n\n    public String getGoalsFor() {\n        return this.goalsFor;\n    }\n\n    public String getGoalsAgainst() {\n        return this.goalsAgainst;\n    }\n\n    public String getPoints() {\n        return this.points;\n    }\n\n    public Data fromJson(JSONObject jsonObject) {\n        Data team = new Data();\n        try {\n            team.team = jsonObject.getString(&quot;team&quot;);\n            team.played = jsonObject.getString(&quot;played&quot;);\n            team.win = jsonObject.getString(&quot;win&quot;);\n            team.draw = jsonObject.getString(&quot;draw&quot;);\n            team.loss = jsonObject.getString(&quot;loss&quot;);\n            team.goalsFor = jsonObject.getString(&quot;goalsFor&quot;);\n            team.goalsAgainst = jsonObject.getString(&quot;goalsAgainst&quot;);\n            team.points = jsonObject.getString(&quot;points&quot;);\n        } catch (JSONException e) {\n            e.printStackTrace();\n            return null;\n        }\n        return team;\n    }\n}\n\n</code></pre>\n<p>can anyone help me, i prefered to implement api respone with okhttp code</p>\n"},{"tags":["java","android","xml","android-layout"],"comments":[{"owner":{"account_id":888101,"reputation":80674,"user_id":927034,"accept_rate":100,"display_name":"K-ballo"},"score":0,"creation_date":1357042795,"post_id":14110378,"comment_id":19525430,"body_markdown":"Why would you think you have to put it in the `drawable` folder? Is your music playlist a _drawable_?","body":"Why would you think you have to put it in the <code>drawable</code> folder? Is your music playlist a <i>drawable</i>?"},{"owner":{"display_name":"user1873875"},"score":0,"creation_date":1357042940,"post_id":14110378,"comment_id":19525456,"body_markdown":"I said i wont to get xml from android drawable folder instead of webpage","body":"I said i wont to get xml from android drawable folder instead of webpage"},{"owner":{"account_id":888101,"reputation":80674,"user_id":927034,"accept_rate":100,"display_name":"K-ballo"},"score":0,"creation_date":1357042992,"post_id":14110378,"comment_id":19525470,"body_markdown":"Then why would you thought it should be in the `drawable` folder to begin with? Is it a _drawable_?","body":"Then why would you thought it should be in the <code>drawable</code> folder to begin with? Is it a <i>drawable</i>?"},{"owner":{"display_name":"user1873875"},"score":0,"creation_date":1357043063,"post_id":14110378,"comment_id":19525487,"body_markdown":"it is a folder in android if you do not understand android dont wast time.","body":"it is a folder in android if you do not understand android dont wast time."},{"owner":{"account_id":888101,"reputation":80674,"user_id":927034,"accept_rate":100,"display_name":"K-ballo"},"score":0,"creation_date":1357043174,"post_id":14110378,"comment_id":19525513,"body_markdown":"I understand _Android_ quite fine sir, there are different subfolders at the `res` folder, each of them for a specific purpose. The `drawable` folder is used to contain _drawables_, then you have other folders like `xml` to contain _xml_ files or `raw` to contain any kind of file that you want to preserve as is (as opposed to have the package builder mess with your file since it assumes its a drawable when its not)","body":"I understand <i>Android</i> quite fine sir, there are different subfolders at the <code>res</code> folder, each of them for a specific purpose. The <code>drawable</code> folder is used to contain <i>drawables</i>, then you have other folders like <code>xml</code> to contain <i>xml</i> files or <code>raw</code> to contain any kind of file that you want to preserve as is (as opposed to have the package builder mess with your file since it assumes its a drawable when its not)"},{"owner":{"display_name":"user1873875"},"score":0,"creation_date":1357043337,"post_id":14110378,"comment_id":19525539,"body_markdown":"man can you tell me how to retrive my xml file from that folder","body":"man can you tell me how to retrive my xml file from that folder"},{"owner":{"account_id":888101,"reputation":80674,"user_id":927034,"accept_rate":100,"display_name":"K-ballo"},"score":0,"creation_date":1357043789,"post_id":14110378,"comment_id":19525645,"body_markdown":"No sir, there is no guarantee your file will even be in that folder in the generated apk, or if it is whether it will be intact or modified by the apk generation. You are not supposed to put things other than _drawables_ in the `drawable` folder. That&#39;s why I keep asking why do you want to put it there, because if you have a reason for it then you simply can&#39;t do it (at least not guaranteed to work). If you don&#39;t have a reason, then you should simply put it in a folder that matches your content.","body":"No sir, there is no guarantee your file will even be in that folder in the generated apk, or if it is whether it will be intact or modified by the apk generation. You are not supposed to put things other than <i>drawables</i> in the <code>drawable</code> folder. That&#39;s why I keep asking why do you want to put it there, because if you have a reason for it then you simply can&#39;t do it (at least not guaranteed to work). If you don&#39;t have a reason, then you should simply put it in a folder that matches your content."}],"answers":[{"tags":[],"owner":{"account_id":268298,"reputation":13327,"user_id":556975,"display_name":"Pratik Sharma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1357043408,"creation_date":1357043408,"answer_id":14110469,"question_id":14110378,"body_markdown":"Put the xml into `/res/raw` folder.\r\n\r\nThen use :\r\n\r\n    InputStream is=getResources().openRawResource(R.raw.my_xml);\r\n\r\nThen use this parser [XML PULL PARSER][1]\r\n\r\n\r\n  [1]: http://developer.android.com/reference/org/xmlpull/v1/XmlPullParser.html\r\n\r\n    XmlPullParser xpp=XmlPullParserFactory.newInstance().newPullParser();\r\n    xpp.setInput(is,&quot;your-encoding&quot;);\r\n\r\nThanks.\r\n","title":"How to get xml file from drawable folder Android","body":"<p>Put the xml into <code>/res/raw</code> folder.</p>\n\n<p>Then use :</p>\n\n<pre><code>InputStream is=getResources().openRawResource(R.raw.my_xml);\n</code></pre>\n\n<p>Then use this parser <a href=\"http://developer.android.com/reference/org/xmlpull/v1/XmlPullParser.html\" rel=\"nofollow\">XML PULL PARSER</a></p>\n\n<pre><code>XmlPullParser xpp=XmlPullParserFactory.newInstance().newPullParser();\nxpp.setInput(is,\"your-encoding\");\n</code></pre>\n\n<p>Thanks.</p>\n"},{"tags":[],"owner":{"account_id":20730584,"reputation":1,"user_id":15238872,"display_name":"Jason Robertson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654804405,"creation_date":1654804405,"answer_id":72565931,"question_id":14110378,"body_markdown":"Try this:\r\n```\r\nString file = &quot;res/drawable/music.xml&quot;;\r\nXmlResourceParser parser = getContext().getAssets().openXmlResourceParser(file);\r\n```\r\n\r\nor in Kotlin:\r\n```\r\nval file = &quot;res/drawable/music.xml&quot;\r\nval parser = context.assets.openXmlResourceParser(file)\r\n```\r\n\r\nIt worked for me. And then you can look for examples of `XmlPullParser` to know how to use it.","title":"How to get xml file from drawable folder Android","body":"<p>Try this:</p>\n<pre><code>String file = &quot;res/drawable/music.xml&quot;;\nXmlResourceParser parser = getContext().getAssets().openXmlResourceParser(file);\n</code></pre>\n<p>or in Kotlin:</p>\n<pre><code>val file = &quot;res/drawable/music.xml&quot;\nval parser = context.assets.openXmlResourceParser(file)\n</code></pre>\n<p>It worked for me. And then you can look for examples of <code>XmlPullParser</code> to know how to use it.</p>\n"}],"owner":{"display_name":"user1873875"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1153,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":14110469,"answer_count":2,"score":1,"last_activity_date":1654804405,"creation_date":1357042708,"question_id":14110378,"body_markdown":"I have an xml file on a web page http://api.androidhive.info/music/music.xml on my application I use  \r\n\r\n    static final String URL = &quot;http://api.androidhive.info/music/music.xml&quot;;\r\n    String xml = parser.getXmlFromUrl(URL);\r\n\r\nworks fine but know I have put this file in my Android resource folder. So how do I get my file from android drawable folder like this `R.drawble.music.xml` instead of web page.\r\nhttp://api.androidhive.info/music/music.xml","title":"How to get xml file from drawable folder Android","body":"<p>I have an xml file on a web page <a href=\"http://api.androidhive.info/music/music.xml\" rel=\"nofollow noreferrer\">http://api.androidhive.info/music/music.xml</a> on my application I use  </p>\n\n<pre><code>static final String URL = \"http://api.androidhive.info/music/music.xml\";\nString xml = parser.getXmlFromUrl(URL);\n</code></pre>\n\n<p>works fine but know I have put this file in my Android resource folder. So how do I get my file from android drawable folder like this <code>R.drawble.music.xml</code> instead of web page.\n<a href=\"http://api.androidhive.info/music/music.xml\" rel=\"nofollow noreferrer\">http://api.androidhive.info/music/music.xml</a></p>\n"},{"tags":["java","c#",".net"],"comments":[{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":1,"creation_date":1654790581,"post_id":72563253,"comment_id":128181619,"body_markdown":"`target.getBytes()` will return various encodings depending on your OS, JVM, and Java version. Unless you don&#39;t care if the bytes are Windows-1252 or ISO-8859-1 or UTF-8 or EBCDIC, you should never use it for anything and instead prefer `target.getBytes(StandardCharsets.UTF_8)`.","body":"<code>target.getBytes()</code> will return various encodings depending on your OS, JVM, and Java version. Unless you don&#39;t care if the bytes are Windows-1252 or ISO-8859-1 or UTF-8 or EBCDIC, you should never use it for anything and instead prefer <code>target.getBytes(StandardCharsets.UTF_8)</code>."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1654790741,"post_id":72563253,"comment_id":128181688,"body_markdown":"Also, on recent versions of Java, you can use `HexFormat.of().format(db)` instead of the loop to format the digest.","body":"Also, on recent versions of Java, you can use <code>HexFormat.of().format(db)</code> instead of the loop to format the digest."},{"owner":{"account_id":11738688,"reputation":5051,"user_id":13677853,"display_name":"nop"},"score":0,"creation_date":1654790966,"post_id":72563253,"comment_id":128181775,"body_markdown":"@DavidConrad, thanks but I&#39;m not using the Java code. I&#39;m trying to convert it to C#.","body":"@DavidConrad, thanks but I&#39;m not using the Java code. I&#39;m trying to convert it to C#."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":1,"creation_date":1654791227,"post_id":72563253,"comment_id":128181874,"body_markdown":"What does that mean, then, &quot;it still says that the signature is invalid&quot;? I thought you were comparing the signatures produced by the Java code vs. the C# code. The C# code is explicitly using UTF-8, so maybe that is the problem. &quot;It,&quot; whatever it is, does not expect the signature to be done with UTF-8, but rather some other unspecified encoding.","body":"What does that mean, then, &quot;it still says that the signature is invalid&quot;? I thought you were comparing the signatures produced by the Java code vs. the C# code. The C# code is explicitly using UTF-8, so maybe that is the problem. &quot;It,&quot; whatever it is, does not expect the signature to be done with UTF-8, but rather some other unspecified encoding."},{"owner":{"account_id":11738688,"reputation":5051,"user_id":13677853,"display_name":"nop"},"score":0,"creation_date":1654791458,"post_id":72563253,"comment_id":128181973,"body_markdown":"@DavidConrad, I&#39;m not sure because the exchange doesn&#39;t really provide that information. https://github.com/mxcdevelop/mexc-api-demo/blob/7991f8a3a17e6ba5dc2cf55133532ab145b0c878/Java/src/main/java/com/mexc/example/spot/websocket/MexcSpotRawWsExample.java#L88 The Java code works fine","body":"@DavidConrad, I&#39;m not sure because the exchange doesn&#39;t really provide that information. <a href=\"https://github.com/mxcdevelop/mexc-api-demo/blob/7991f8a3a17e6ba5dc2cf55133532ab145b0c878/Java/src/main/java/com/mexc/example/spot/websocket/MexcSpotRawWsExample.java#L88\" rel=\"nofollow noreferrer\">github.com/mxcdevelop/mexc-api-demo/blob/&hellip;</a> The Java code works fine"},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1654793226,"post_id":72563253,"comment_id":128182603,"body_markdown":"The main difference I can see is that they are using different character sets. You can check if the string is the same by adding some debugging code to each of them, but most likely it&#39;s the encoding. You can check what encoding Java is using by looking at `java.nio.charset.Charset.defaultCharset()` or `System.getProperty(&quot;file.encoding&quot;)`. And then change C# to use the same.","body":"The main difference I can see is that they are using different character sets. You can check if the string is the same by adding some debugging code to each of them, but most likely it&#39;s the encoding. You can check what encoding Java is using by looking at <code>java.nio.charset.Charset.defaultCharset()</code> or <code>System.getProperty(&quot;file.encoding&quot;)</code>. And then change C# to use the same."},{"owner":{"account_id":11738688,"reputation":5051,"user_id":13677853,"display_name":"nop"},"score":1,"creation_date":1654796533,"post_id":72563253,"comment_id":128183668,"body_markdown":"@DavidConrad, the support told me that the lexicographical sort is causing it.","body":"@DavidConrad, the support told me that the lexicographical sort is causing it."},{"owner":{"account_id":11738688,"reputation":5051,"user_id":13677853,"display_name":"nop"},"score":0,"creation_date":1654796799,"post_id":72563253,"comment_id":128183751,"body_markdown":"@DavidConrad, confirmed it was causing it. Now I gotta find a way to wrap the sorting inside the method","body":"@DavidConrad, confirmed it was causing it. Now I gotta find a way to wrap the sorting inside the method"}],"answers":[{"tags":[],"owner":{"account_id":9606741,"reputation":32531,"user_id":7132550,"accept_rate":75,"display_name":"Michał Turczyn"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1654803654,"creation_date":1654803654,"answer_id":72565799,"question_id":72563253,"body_markdown":"In `GenerateSign` method you can just create instance of `SortedDictionary` based on dictionary passed as parameter:\r\n```C#\r\nprivate static string GenerateSign(Dictionary&lt;string, object&gt; query, string apiSecret)\r\n{\r\n    var sortedDict = new SortedDictionary&lt;string, object&gt;(query, StringComparer.Ordinal);\r\n    // rest of the method\r\n}\r\n```\r\nOr you can do even better (note the important change from `Dictionary` to `IDictionary`):\r\n```C#\r\nprivate static string GenerateSign(IDictionary&lt;string, object&gt; query, string apiSecret)\r\n{\r\n    query = new SortedDictionary&lt;string, object&gt;(query, StringComparer.Ordinal);\r\n    // rest of the method\r\n}\r\n```\r\n","title":"How to port MD5 signature code from Java to C#","body":"<p>In <code>GenerateSign</code> method you can just create instance of <code>SortedDictionary</code> based on dictionary passed as parameter:</p>\n<pre><code>private static string GenerateSign(Dictionary&lt;string, object&gt; query, string apiSecret)\n{\n    var sortedDict = new SortedDictionary&lt;string, object&gt;(query, StringComparer.Ordinal);\n    // rest of the method\n}\n</code></pre>\n<p>Or you can do even better (note the important change from <code>Dictionary</code> to <code>IDictionary</code>):</p>\n<pre><code>private static string GenerateSign(IDictionary&lt;string, object&gt; query, string apiSecret)\n{\n    query = new SortedDictionary&lt;string, object&gt;(query, StringComparer.Ordinal);\n    // rest of the method\n}\n</code></pre>\n"}],"owner":{"account_id":11738688,"reputation":5051,"user_id":13677853,"display_name":"nop"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72565799,"answer_count":1,"score":0,"last_activity_date":1654803654,"creation_date":1654789877,"question_id":72563253,"body_markdown":"I&#39;m trying to port the following Java code to C#, but so far it still says that the signature is invalid.\r\n\r\n```cs\r\nprivate static String generateSignStr(Map&lt;String, String&gt; params, String key) {\r\n    StringBuilder sb = new StringBuilder();\r\n    params.entrySet().stream().sorted(Map.Entry.comparingByKey()).forEach(entry -&gt; {\r\n        if (sb.length() &gt; 0) {\r\n            sb.append(&#39;&amp;&#39;);\r\n        }\r\n        sb.append(entry.getKey()).append(&#39;=&#39;);\r\n        sb.append(entry.getValue());\r\n    });\r\n    sb.append(&#39;&amp;&#39;).append(&quot;api_secret&quot;)\r\n            .append(&#39;=&#39;).append(key);\r\n    return sb.toString();\r\n}\r\n\r\nprivate static String sign(String target) {\r\n    MessageDigest md;\r\n    try {\r\n        md = MessageDigest.getInstance(&quot;MD5&quot;);\r\n    } catch (NoSuchAlgorithmException e) {\r\n        log.error(&quot;Fail to get MD5 instance&quot;);\r\n        return null;\r\n    }\r\n    md.update(target.getBytes());\r\n    byte[] dg = md.digest();\r\n    StringBuilder output = new StringBuilder(dg.length * 2);\r\n    for (byte dgByte : dg) {\r\n        int current = dgByte &amp; 0xff;\r\n        if (current &lt; 16) {\r\n            output.append(&quot;0&quot;);\r\n        }\r\n        output.append(Integer.toString(current, 16));\r\n    }\r\n    return output.toString();\r\n}\r\n```\r\n\r\n```cs\r\nprivate static string GenerateSign(Dictionary&lt;string, object&gt; query, string apiSecret)\r\n{\r\n    var sb = new StringBuilder();\r\n\r\n    var queryParameterString = string.Join(&quot;&amp;&quot;,\r\n        query.Where(kvp =&gt; !string.IsNullOrWhiteSpace(kvp.Value.ToString()))\r\n            .Select(kvp =&gt; $&quot;{kvp.Key}={HttpUtility.UrlEncode(kvp.Value.ToString())}&quot;));\r\n    sb.Append(queryParameterString);\r\n\r\n    if (sb.Length &gt; 0)\r\n    {\r\n        sb.Append(&#39;&amp;&#39;);\r\n    }\r\n\r\n    sb.Append(&quot;api_secret=&quot;).Append(apiSecret);\r\n\r\n    return sb.ToString();\r\n}\r\n\r\nprivate static string Sign(string source)\r\n{\r\n    using var md5 = MD5.Create();\r\n    var sourceBytes = Encoding.UTF8.GetBytes(source);\r\n    var hash = md5.ComputeHash(sourceBytes);\r\n    return BitConverter.ToString(hash).Replace(&quot;-&quot;, string.Empty).ToLowerInvariant();\r\n}\r\n```\r\n\r\n# Edit:\r\n\r\nThis fixed it. However, it would be nice if someone knows a way to lexicographically sort the dictionary inside that method just like the Java code.\r\n\r\n```cs\r\nvar @params = new Dictionary&lt;string, object&gt;\r\n        {\r\n            { &quot;api_key&quot;, _apiKey },\r\n            { &quot;req_time&quot;, now },\r\n            { &quot;op&quot;, &quot;sub.personal&quot; }\r\n        };\r\n\r\n        var javaSorted = @params.OrderBy(item =&gt; item.Key, StringComparer.Ordinal)\r\n            .ToDictionary(i =&gt; i.Key, i =&gt; i.Value);\r\n\r\nvar signature = Sign(GenerateSign(javaSorted, _apiSecret));\r\n```\r\n","title":"How to port MD5 signature code from Java to C#","body":"<p>I'm trying to port the following Java code to C#, but so far it still says that the signature is invalid.</p>\n<pre class=\"lang-cs prettyprint-override\"><code>private static String generateSignStr(Map&lt;String, String&gt; params, String key) {\n    StringBuilder sb = new StringBuilder();\n    params.entrySet().stream().sorted(Map.Entry.comparingByKey()).forEach(entry -&gt; {\n        if (sb.length() &gt; 0) {\n            sb.append('&amp;');\n        }\n        sb.append(entry.getKey()).append('=');\n        sb.append(entry.getValue());\n    });\n    sb.append('&amp;').append(&quot;api_secret&quot;)\n            .append('=').append(key);\n    return sb.toString();\n}\n\nprivate static String sign(String target) {\n    MessageDigest md;\n    try {\n        md = MessageDigest.getInstance(&quot;MD5&quot;);\n    } catch (NoSuchAlgorithmException e) {\n        log.error(&quot;Fail to get MD5 instance&quot;);\n        return null;\n    }\n    md.update(target.getBytes());\n    byte[] dg = md.digest();\n    StringBuilder output = new StringBuilder(dg.length * 2);\n    for (byte dgByte : dg) {\n        int current = dgByte &amp; 0xff;\n        if (current &lt; 16) {\n            output.append(&quot;0&quot;);\n        }\n        output.append(Integer.toString(current, 16));\n    }\n    return output.toString();\n}\n</code></pre>\n<pre class=\"lang-cs prettyprint-override\"><code>private static string GenerateSign(Dictionary&lt;string, object&gt; query, string apiSecret)\n{\n    var sb = new StringBuilder();\n\n    var queryParameterString = string.Join(&quot;&amp;&quot;,\n        query.Where(kvp =&gt; !string.IsNullOrWhiteSpace(kvp.Value.ToString()))\n            .Select(kvp =&gt; $&quot;{kvp.Key}={HttpUtility.UrlEncode(kvp.Value.ToString())}&quot;));\n    sb.Append(queryParameterString);\n\n    if (sb.Length &gt; 0)\n    {\n        sb.Append('&amp;');\n    }\n\n    sb.Append(&quot;api_secret=&quot;).Append(apiSecret);\n\n    return sb.ToString();\n}\n\nprivate static string Sign(string source)\n{\n    using var md5 = MD5.Create();\n    var sourceBytes = Encoding.UTF8.GetBytes(source);\n    var hash = md5.ComputeHash(sourceBytes);\n    return BitConverter.ToString(hash).Replace(&quot;-&quot;, string.Empty).ToLowerInvariant();\n}\n</code></pre>\n<h1>Edit:</h1>\n<p>This fixed it. However, it would be nice if someone knows a way to lexicographically sort the dictionary inside that method just like the Java code.</p>\n<pre class=\"lang-cs prettyprint-override\"><code>var @params = new Dictionary&lt;string, object&gt;\n        {\n            { &quot;api_key&quot;, _apiKey },\n            { &quot;req_time&quot;, now },\n            { &quot;op&quot;, &quot;sub.personal&quot; }\n        };\n\n        var javaSorted = @params.OrderBy(item =&gt; item.Key, StringComparer.Ordinal)\n            .ToDictionary(i =&gt; i.Key, i =&gt; i.Value);\n\nvar signature = Sign(GenerateSign(javaSorted, _apiSecret));\n</code></pre>\n"},{"tags":["java","android","kotlin","android-canvas","drawbitmap"],"comments":[{"owner":{"account_id":13117480,"reputation":371,"user_id":9476147,"display_name":"Syed Faizan Ali"},"score":0,"creation_date":1654773437,"post_id":72559186,"comment_id":128174555,"body_markdown":"Can you use an XML drawable for this purpose? If yes then I may have a good solution for you.","body":"Can you use an XML drawable for this purpose? If yes then I may have a good solution for you."}],"answers":[{"tags":[],"owner":{"account_id":18463410,"reputation":18363,"user_id":13598222,"display_name":"cactustictacs"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1654803651,"creation_date":1654774853,"answer_id":72559634,"question_id":72559186,"body_markdown":"You&#39;re initialising `backgroundGradient` when you declare the variable, and that sets the gradient width with a call to ``getIntrinsicWidth``, which itself relies on `textWidth` having been initialised. But that initialisation happens in the `init` block, which is below `backgroundGradient`, so it hasn&#39;t run yet.\r\n\r\nI haven&#39;t tested it but I&#39;m guessing `textWidth` is still zero (they behave like Java objects/primitives in this situation) so you&#39;re getting a very tiny gradient and the rest of your background is just the end colour. Try initialising your gradient in ``init``, after `textWidth` has been set\r\n\r\n----\r\n\r\nThis is the kind of thing I&#39;m talking about in the comments - you get your metrics in `draw()`, so that&#39;s when you should initialise/update your stuff that depends on those metrics:\r\n\r\n````\r\n// keep a record of the previous bounds values for comparison\r\nprivate var previousBounds: Rect? = null\r\n\r\noverride fun draw(canvas: Canvas) {\r\n    // check if the dimensions have changed - if so, update everything\r\n    if (bounds != previousBounds) {\r\n        updateStuff(bounds)\r\n        previousBounds = bounds\r\n    }\r\n\r\n    // draw stuff\r\n    canvas.drawRoundRect(bounds,\r\n        AndroidUtilities.dp(2f).toFloat(),\r\n        AndroidUtilities.dp(2f).toFloat(), paint\r\n    )\r\n    canvas.drawText(\r\n        text,\r\n        rect.left + AndroidUtilities.dp(5f),\r\n        rect.top + AndroidUtilities.dp(12f),\r\n        textPaint\r\n    )\r\n}\r\n\r\nprivate fun updateStuff(area: Rect) {\r\n    // update all your stuff that changes when the dimensions change\r\n    paint.shader = LinearGradient(\r\n        0f, 0f, area.width, 0f,\r\n        intArrayOf(-0xb73320, -0xafa523, -0x41bf40, -0x457d5),\r\n        floatArrayOf(0.06f, 0.34f, 0.73f, 1f),\r\n        Shader.TileMode.CLAMP\r\n    )\r\n}\r\n````\r\nSo the basic idea here is there&#39;s stuff you can initialise during construction - basic `Paint`s, colours etc. Then there&#39;s some stuff that you can only initialise during `draw`, when you finally have the drawable&#39;s dimensions. If you split those out, you can initialise/update the stuff that needs it directly from the `draw` function, when you have the info needed.\r\n\r\nFor example, you don&#39;t actually need to set a gradient shader on your paint during construction - you just need it before you try to draw anything. That&#39;s simple enough - set it inside the `draw` call. By keeping a copy of the most recent set of dimensions, you can compare and see if anything&#39;s changed, and avoid unnecessarily recreating the same `LinearGradient` every time (I don&#39;t know how often `draw` is called, but it&#39;s a good habit either way). By making it null at the start, the comparison fails so it always updates the first time `draw` is called (i.e. it initialises)\r\n\r\nI don&#39;t know if you&#39;re still using that `getIntrinsicWidth` call, but if you are, since it relies on `textSize` being set, just make sure that&#39;s set before you reference it. And since it looks like it doesn&#39;t change after being set during init, and the `draw` call (and any updates it triggers) comes later, it&#39;s all good. If any of that stuff *does* need to update, just put it in the update function, and make sure things come after anything they rely on\r\n\r\n(I haven&#39;t tested this code, it&#39;s just to give you the general idea)","title":"When trying to make a gradient from the background, the background is filled with one color","body":"<p>You're initialising <code>backgroundGradient</code> when you declare the variable, and that sets the gradient width with a call to <code>getIntrinsicWidth</code>, which itself relies on <code>textWidth</code> having been initialised. But that initialisation happens in the <code>init</code> block, which is below <code>backgroundGradient</code>, so it hasn't run yet.</p>\n<p>I haven't tested it but I'm guessing <code>textWidth</code> is still zero (they behave like Java objects/primitives in this situation) so you're getting a very tiny gradient and the rest of your background is just the end colour. Try initialising your gradient in <code>init</code>, after <code>textWidth</code> has been set</p>\n<hr />\n<p>This is the kind of thing I'm talking about in the comments - you get your metrics in <code>draw()</code>, so that's when you should initialise/update your stuff that depends on those metrics:</p>\n<pre><code>// keep a record of the previous bounds values for comparison\nprivate var previousBounds: Rect? = null\n\noverride fun draw(canvas: Canvas) {\n    // check if the dimensions have changed - if so, update everything\n    if (bounds != previousBounds) {\n        updateStuff(bounds)\n        previousBounds = bounds\n    }\n\n    // draw stuff\n    canvas.drawRoundRect(bounds,\n        AndroidUtilities.dp(2f).toFloat(),\n        AndroidUtilities.dp(2f).toFloat(), paint\n    )\n    canvas.drawText(\n        text,\n        rect.left + AndroidUtilities.dp(5f),\n        rect.top + AndroidUtilities.dp(12f),\n        textPaint\n    )\n}\n\nprivate fun updateStuff(area: Rect) {\n    // update all your stuff that changes when the dimensions change\n    paint.shader = LinearGradient(\n        0f, 0f, area.width, 0f,\n        intArrayOf(-0xb73320, -0xafa523, -0x41bf40, -0x457d5),\n        floatArrayOf(0.06f, 0.34f, 0.73f, 1f),\n        Shader.TileMode.CLAMP\n    )\n}\n</code></pre>\n<p>So the basic idea here is there's stuff you can initialise during construction - basic <code>Paint</code>s, colours etc. Then there's some stuff that you can only initialise during <code>draw</code>, when you finally have the drawable's dimensions. If you split those out, you can initialise/update the stuff that needs it directly from the <code>draw</code> function, when you have the info needed.</p>\n<p>For example, you don't actually need to set a gradient shader on your paint during construction - you just need it before you try to draw anything. That's simple enough - set it inside the <code>draw</code> call. By keeping a copy of the most recent set of dimensions, you can compare and see if anything's changed, and avoid unnecessarily recreating the same <code>LinearGradient</code> every time (I don't know how often <code>draw</code> is called, but it's a good habit either way). By making it null at the start, the comparison fails so it always updates the first time <code>draw</code> is called (i.e. it initialises)</p>\n<p>I don't know if you're still using that <code>getIntrinsicWidth</code> call, but if you are, since it relies on <code>textSize</code> being set, just make sure that's set before you reference it. And since it looks like it doesn't change after being set during init, and the <code>draw</code> call (and any updates it triggers) comes later, it's all good. If any of that stuff <em>does</em> need to update, just put it in the update function, and make sure things come after anything they rely on</p>\n<p>(I haven't tested this code, it's just to give you the general idea)</p>\n"}],"owner":{"account_id":9850569,"reputation":49,"user_id":15262158,"display_name":"Drics"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":155,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72559634,"answer_count":1,"score":0,"last_activity_date":1654803651,"creation_date":1654772642,"question_id":72559186,"body_markdown":"I&#39;m creating an Android application and I needed to create a Drawable with a gradient background and text inside, but for some reason I don&#39;t have a gradient, and the entire background is filled with solid color&lt;br&gt;\r\nClass code:\r\n\r\n```kotlin\r\nclass TestDrawable(textSize: Int = 16) : Drawable() {\r\n    private val rect = RectF()\r\n    private val paint = Paint(Paint.ANTI_ALIAS_FLAG)\r\n    private val textPaint = TextPaint(Paint.ANTI_ALIAS_FLAG)\r\n    private val textWidth: Int\r\n    private val text: String\r\n\r\n    private var backgroundGradient: LinearGradient = LinearGradient(\r\n        0f, 0f, intrinsicWidth.toFloat(), 0f,\r\n        intArrayOf(-0xb73320, -0xafa523, -0x41bf40, -0x457d5),\r\n        floatArrayOf(0.06f, 0.34f, 0.73f, 1f),\r\n        Shader.TileMode.CLAMP\r\n    )\r\n\r\n    override fun draw(canvas: Canvas) {\r\n        rect.set(bounds)\r\n        canvas.drawRoundRect(rect,\r\n            AndroidUtilities.dp(2f).toFloat(),\r\n            AndroidUtilities.dp(2f).toFloat(), paint)\r\n        canvas.drawText(\r\n            text,\r\n            rect.left + AndroidUtilities.dp(5f),\r\n            rect.top + AndroidUtilities.dp(12f),\r\n            textPaint\r\n        )\r\n    }\r\n\r\n    override fun getIntrinsicWidth(): Int {\r\n        return textWidth + AndroidUtilities.dp((5 * 2).toFloat())\r\n    }\r\n\r\n    override fun getIntrinsicHeight(): Int {\r\n        return AndroidUtilities.dp(16f)\r\n    }\r\n\r\n    init {\r\n        textPaint.textSize = AndroidUtilities.dp(textSize.toFloat()).toFloat()\r\n        textPaint.typeface = AndroidUtilities.getTypeface(&quot;fonts/rmedium.ttf&quot;)\r\n        textPaint.color = -0x1000000\r\n\r\n        //paint.style = Paint.Style.FILL\r\n        paint.color = -0x1\r\n        paint.shader = backgroundGradient\r\n        backgroundGradient.setLocalMatrix(Matrix())\r\n\r\n        text = &quot;plus&quot;.uppercase()\r\n        textWidth = ceil(textPaint.measureText(text).toDouble()).toInt()\r\n    }\r\n}\r\n```","title":"When trying to make a gradient from the background, the background is filled with one color","body":"<p>I'm creating an Android application and I needed to create a Drawable with a gradient background and text inside, but for some reason I don't have a gradient, and the entire background is filled with solid color<br>\nClass code:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>class TestDrawable(textSize: Int = 16) : Drawable() {\n    private val rect = RectF()\n    private val paint = Paint(Paint.ANTI_ALIAS_FLAG)\n    private val textPaint = TextPaint(Paint.ANTI_ALIAS_FLAG)\n    private val textWidth: Int\n    private val text: String\n\n    private var backgroundGradient: LinearGradient = LinearGradient(\n        0f, 0f, intrinsicWidth.toFloat(), 0f,\n        intArrayOf(-0xb73320, -0xafa523, -0x41bf40, -0x457d5),\n        floatArrayOf(0.06f, 0.34f, 0.73f, 1f),\n        Shader.TileMode.CLAMP\n    )\n\n    override fun draw(canvas: Canvas) {\n        rect.set(bounds)\n        canvas.drawRoundRect(rect,\n            AndroidUtilities.dp(2f).toFloat(),\n            AndroidUtilities.dp(2f).toFloat(), paint)\n        canvas.drawText(\n            text,\n            rect.left + AndroidUtilities.dp(5f),\n            rect.top + AndroidUtilities.dp(12f),\n            textPaint\n        )\n    }\n\n    override fun getIntrinsicWidth(): Int {\n        return textWidth + AndroidUtilities.dp((5 * 2).toFloat())\n    }\n\n    override fun getIntrinsicHeight(): Int {\n        return AndroidUtilities.dp(16f)\n    }\n\n    init {\n        textPaint.textSize = AndroidUtilities.dp(textSize.toFloat()).toFloat()\n        textPaint.typeface = AndroidUtilities.getTypeface(&quot;fonts/rmedium.ttf&quot;)\n        textPaint.color = -0x1000000\n\n        //paint.style = Paint.Style.FILL\n        paint.color = -0x1\n        paint.shader = backgroundGradient\n        backgroundGradient.setLocalMatrix(Matrix())\n\n        text = &quot;plus&quot;.uppercase()\n        textWidth = ceil(textPaint.measureText(text).toDouble()).toInt()\n    }\n}\n</code></pre>\n"},{"tags":["java","xml","jackson-dataformat-xml","jack"],"answers":[{"tags":[],"owner":{"account_id":5613556,"reputation":2315,"user_id":4445625,"accept_rate":50,"display_name":"Marc Stroebel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1654779784,"creation_date":1654779784,"answer_id":72560794,"question_id":72560237,"body_markdown":"try a custom deserializer, e.g.\r\n\r\n    class DeSerializer extends StdDeserializer&lt;ModelTrees&gt; {\r\n    \r\n    \tprotected DeSerializer() {\r\n    \t\tsuper(ModelTrees.class);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic ModelTrees deserialize(JsonParser jp, DeserializationContext ctxt) throws IOException, JsonProcessingException {\r\n    \t\tJsonNode node = jp.getCodec().readTree(jp);\r\n    \r\n    \t\tJsonNode treesNode = node.get(&quot;model_trees&quot;);\r\n    \r\n    \t\tJsonNode entryNode = treesNode.get(&quot;entry&quot;);\r\n    \r\n    \t\treturn new ModelTrees(entryNode.get(&quot;tree_kind&quot;).textValue(), entryNode.get(&quot;age&quot;).asInt());\r\n    \t}\r\n    }\r\n\r\nModel class:\r\n\r\n    public class ModelTrees {\r\n    \tprivate String treeKind;\r\n    \tprivate int age;\r\n    \r\n    \tpublic ModelTrees(String treeKind, int age) {\r\n    \t\tthis.treeKind = treeKind;\r\n    \t\tthis.age = age;\r\n    \t}\r\n    }\r\n\r\nRegister custom mapper:\r\n\r\n    XmlMapper mapper = new XmlMapper();\r\n    SimpleModule module = new SimpleModule(&quot;configModule&quot;,   com.fasterxml.jackson.core.Version.unknownVersion());\r\n    module.addDeserializer(ModelTrees.class, new DeSerializer());\r\n    mapper.registerModule(module);","title":"Java XML Jackson parsing xml to object and ignore some elements","body":"<p>try a custom deserializer, e.g.</p>\n<pre><code>class DeSerializer extends StdDeserializer&lt;ModelTrees&gt; {\n\n    protected DeSerializer() {\n        super(ModelTrees.class);\n    }\n\n    @Override\n    public ModelTrees deserialize(JsonParser jp, DeserializationContext ctxt) throws IOException, JsonProcessingException {\n        JsonNode node = jp.getCodec().readTree(jp);\n\n        JsonNode treesNode = node.get(&quot;model_trees&quot;);\n\n        JsonNode entryNode = treesNode.get(&quot;entry&quot;);\n\n        return new ModelTrees(entryNode.get(&quot;tree_kind&quot;).textValue(), entryNode.get(&quot;age&quot;).asInt());\n    }\n}\n</code></pre>\n<p>Model class:</p>\n<pre><code>public class ModelTrees {\n    private String treeKind;\n    private int age;\n\n    public ModelTrees(String treeKind, int age) {\n        this.treeKind = treeKind;\n        this.age = age;\n    }\n}\n</code></pre>\n<p>Register custom mapper:</p>\n<pre><code>XmlMapper mapper = new XmlMapper();\nSimpleModule module = new SimpleModule(&quot;configModule&quot;,   com.fasterxml.jackson.core.Version.unknownVersion());\nmodule.addDeserializer(ModelTrees.class, new DeSerializer());\nmapper.registerModule(module);\n</code></pre>\n"}],"owner":{"account_id":19856892,"reputation":29,"user_id":14546117,"display_name":"Lethargicaa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":425,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72560794,"answer_count":1,"score":1,"last_activity_date":1654803640,"creation_date":1654777597,"question_id":72560237,"body_markdown":"I want to get the fields of model_tree into an object.\r\n```xml    \r\n    &lt;form&gt;\r\n      &lt;model_trees&gt;\r\n        &lt;entry&gt;\r\n            &lt;tree_kind&gt;kind&lt;/tree_kind&gt;\r\n            &lt;age&gt;10&lt;/age&gt;\r\n        &lt;/entry&gt;\r\n      &lt;/model_trees&gt;\r\n    &lt;/form&gt;\r\n```   \r\n```java \r\n    @JsonIgnoreProperties(ignoreUnknown=true)\r\n    @JacksonXmlRootElement(localName = &quot;model_trees&quot;)\r\n    public class ModelTrees extends BaseEntity {\r\n      @JacksonXmlProperty(localName = &quot;tree_kind&quot;)\r\n      private String treeKind;\r\n      @JacksonXmlProperty\r\n      private int age;\r\n    }\r\n```\r\nIs there a way to not create additional classes for &quot;form&quot;/&quot;entry&quot; elements?","title":"Java XML Jackson parsing xml to object and ignore some elements","body":"<p>I want to get the fields of model_tree into an object.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;form&gt;\n      &lt;model_trees&gt;\n        &lt;entry&gt;\n            &lt;tree_kind&gt;kind&lt;/tree_kind&gt;\n            &lt;age&gt;10&lt;/age&gt;\n        &lt;/entry&gt;\n      &lt;/model_trees&gt;\n    &lt;/form&gt;\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>    @JsonIgnoreProperties(ignoreUnknown=true)\n    @JacksonXmlRootElement(localName = &quot;model_trees&quot;)\n    public class ModelTrees extends BaseEntity {\n      @JacksonXmlProperty(localName = &quot;tree_kind&quot;)\n      private String treeKind;\n      @JacksonXmlProperty\n      private int age;\n    }\n</code></pre>\n<p>Is there a way to not create additional classes for &quot;form&quot;/&quot;entry&quot; elements?</p>\n"},{"tags":["java","html","asp.net-core-mvc"],"comments":[{"owner":{"account_id":3472896,"reputation":849,"user_id":2906821,"accept_rate":42,"display_name":"Dhruv Pal"},"score":0,"creation_date":1654805018,"post_id":72565775,"comment_id":128186212,"body_markdown":"By not going into depth of the question, usually in these cases, I upload files on a server and store the URL in the database, then those links can be directly opened on UI. Saves a lot of headaches","body":"By not going into depth of the question, usually in these cases, I upload files on a server and store the URL in the database, then those links can be directly opened on UI. Saves a lot of headaches"},{"owner":{"account_id":23367131,"reputation":8945,"user_id":17438579,"display_name":"Xinran Shen"},"score":0,"creation_date":1654824314,"post_id":72565775,"comment_id":128189960,"body_markdown":"So what&#39;s the problem you have met?","body":"So what&#39;s the problem you have met?"},{"owner":{"account_id":25419967,"reputation":25,"user_id":19226166,"display_name":"ParadigmOmega"},"score":0,"creation_date":1654856809,"post_id":72565775,"comment_id":128197533,"body_markdown":"The images don&#39;t get stored in the database table &quot;Pets&quot; once a Resident record is added. The other details save - just not the images.","body":"The images don&#39;t get stored in the database table &quot;Pets&quot; once a Resident record is added. The other details save - just not the images."},{"owner":{"account_id":23367131,"reputation":8945,"user_id":17438579,"display_name":"Xinran Shen"},"score":0,"creation_date":1655105261,"post_id":72565775,"comment_id":128242346,"body_markdown":"You can refer to this [doc](https://tutexchange.com/how-to-upload-files-and-save-in-database-in-asp-net-core-mvc/) about how to upload file and save in database.","body":"You can refer to this <a href=\"https://tutexchange.com/how-to-upload-files-and-save-in-database-in-asp-net-core-mvc/\" rel=\"nofollow noreferrer\">doc</a> about how to upload file and save in database."}],"owner":{"account_id":25419967,"reputation":25,"user_id":19226166,"display_name":"ParadigmOmega"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654803515,"creation_date":1654803515,"question_id":72565775,"body_markdown":"I have been stuck on an issue with a one to many relationship database. I am trying to upload images to a record in the database, but everything I try is not working. Basically, I want to allow a user to upload different pictures of the pet into a database. There is one resident, but multiple pets, each pet can have multiple images, some images may be null. I am trying to store the image as a byte[], but if there is a better way of doing it please let me know. I am asking for a fresh pair of eyes to see what I am not seeing.\r\n\r\nResident Model\r\n\r\n```\r\npublic class Residents\r\n    {\r\n        [Key]\r\n        public int ResidentId { get; set; }\r\n        [Required]\r\n        [StringLength(10)]\r\n        public string UnitNo { get; set; } = string.Empty;   \r\n        [Required]\r\n        [StringLength(100)]\r\n        public string Name { get; set; } = string.Empty;\r\n        [Required]\r\n        [StringLength(100)]\r\n        public string Surname { get; set; } = string.Empty;\r\n        [Required]\r\n        [StringLength(50)]\r\n        public string EmailAddress { get; set; } = string.Empty;\r\n        [StringLength(20)]\r\n        public string ResTel1 { get; set; } = string.Empty;\r\n        [StringLength(20)]\r\n        public string ResTel2 { get; set; } = string.Empty;\r\n        public DateTime ApplicationDate { get; set; }\r\n        //[Required]\r\n        [StringLength(10)]\r\n        public string PetAmount { get; set; } = string.Empty;\r\n        [Required]\r\n        [StringLength(10)]\r\n        public string ApplicationSigned { get; set; } = &quot;No&quot;;\r\n        [StringLength(50)]\r\n        public string TrusteeAppStatus { get; set; } = string.Empty;\r\n        public virtual List&lt;Pets&gt; Pets { get; set; } = new List&lt;Pets&gt;();\r\n    }\r\n}\r\n\r\n```\r\n\r\nPets Model\r\n\r\n```\r\n\r\npublic class Pets\r\n    {\r\n        [Key]\r\n        public int PetId { get; set; }\r\n        [ForeignKey(&quot;ResID&quot;)]\r\n        public int ResID { get; set; }\r\n        public virtual Residents Resident { get; private set; }\r\n        public string PetName { get; set; } = string.Empty;\r\n        public string PetType { get; set; } = string.Empty;\r\n        public string PetSex { get; set; } = string.Empty;\r\n        public string PetDesc { get; set; } = string.Empty;\r\n        public string PetChip { get; set; } = string.Empty;\r\n        public string PetChipImageUrl { get; set; } = string.Empty;\r\n        [Display(Name = &quot;Pet Chip Image&quot;)]\r\n        [NotMapped]\r\n        public IFormFile? PetChipImage { get; set; }\r\n        public string PetSterile { get; set; } = string.Empty;\r\n        public string PetSterileImageUrl { get; set; } = string.Empty;\r\n        [Display(Name = &quot;Pet Sterile Image&quot;)]\r\n        [NotMapped]\r\n        public IFormFile? PetSterileImage { get; set; }\r\n        public string PetStatus { get; set; } = string.Empty;\r\n        public string PetAdditional { get; set; } = string.Empty;\r\n        public string PetImageUrl { get; set; } = string.Empty;\r\n        [Display(Name = &quot;Pet Sterile Image&quot;)]\r\n        [NotMapped]\r\n        public IFormFile? PetImage { get; set; }\r\n    }\r\n}\r\n\r\n```\r\n\r\nController\r\n\r\n```\r\n\r\n[HttpGet]\r\n        public IActionResult Create()\r\n        { \r\n            Residents residents = new Residents();\r\n            residents.Pets.Add(new Pets() { PetId = 1 });\r\n            return View(residents);\r\n        }\r\n\r\n        [HttpPost]\r\n        public IActionResult Create(Residents residents)\r\n        {\r\n            foreach (Pets pets in residents.Pets)\r\n            {\r\n                if (pets.PetName == null || pets.PetName.Length == 0)\r\n                    residents.Pets.Remove(pets);\r\n            }\r\n\r\n           \r\n            _context.Residents.Add(residents);\r\n            _context.SaveChanges();\r\n            return RedirectToAction(&quot;Index&quot;);  \r\n        }\r\n```\r\n\r\nCSHTML\r\n\r\n```\r\n&lt;div id=&quot;PetInput&quot; class=&quot;col-md-12&quot;&gt;\r\n                    &lt;table id=&quot;PetAdd&quot; class=&quot;table table-striped table-sm&quot;&gt;\r\n                        &lt;thead&gt;\r\n                            &lt;tr&gt;\r\n                                &lt;th&gt;\r\n                                    Pet name\r\n                                &lt;/th&gt;\r\n                                &lt;th&gt;\r\n                                    Type\r\n                                &lt;/th&gt;\r\n                                &lt;th&gt;\r\n                                    Gender\r\n                                &lt;/th&gt;\r\n                                &lt;th&gt;\r\n                                    Description\r\n                                &lt;/th&gt;\r\n                                &lt;th&gt;\r\n                                    Chipped?\r\n                                &lt;/th&gt;\r\n                                &lt;th&gt;\r\n                                    Sterilized?\r\n                                &lt;/th&gt;\r\n                                &lt;th&gt;\r\n                                    Status\r\n                                &lt;/th&gt;\r\n                                &lt;th&gt;\r\n                                    Additional Info\r\n                                &lt;/th&gt;\r\n                                &lt;th&gt;\r\n\r\n                                &lt;/th&gt;\r\n                                &lt;/tr&gt;\r\n                        &lt;/thead&gt;\r\n                        &lt;tbody&gt;\r\n                            @*@foreach (var item in Model.Pets)*@\r\n                            @for (int i = 0; i &lt; Model.Pets.Count; i++)\r\n                            {\r\n                                &lt;tr&gt;\r\n                                    &lt;td&gt;\r\n                                        @Html.EditorFor(x =&gt; x.Pets[i].PetName, new { htmlAttributes = new { @class = &quot;form-control&quot;} })\r\n                                        @*&lt;input asp-for=&quot;@item.PetName&quot; class=&quot;form-control&quot; /&gt;*@\r\n                                    &lt;/td&gt;\r\n                                    &lt;td&gt;\r\n                                        @Html.EditorFor(x =&gt; x.Pets[i].PetType, new { htmlAttributes = new { @class = &quot;form-control&quot;} })\r\n                                        @*&lt;input asp-for=&quot;@item.PetType&quot; class=&quot;form-control&quot; /&gt;*@\r\n                                    &lt;/td&gt;\r\n                                    &lt;td&gt;\r\n                                        @*@Html.EditorFor(x =&gt; x.Pets[i].PetSex, new { htmlAttributes = new { @class = &quot;form-control&quot;} })*@\r\n                                        @Html.DropDownListFor(x =&gt; x.Pets[i].PetSex, new SelectList(Enum.GetValues(typeof(PetGender))),&quot;Select&quot;)\r\n                                        @*&lt;input asp-for=&quot;@item.PetSex&quot; class=&quot;form-control&quot; /&gt;*@\r\n                                    &lt;/td&gt;\r\n                                    &lt;td&gt;\r\n                                        @Html.EditorFor(x =&gt; x.Pets[i].PetDesc, new { htmlAttributes = new { @class = &quot;form-control&quot;} })\r\n                                        @*&lt;input asp-for=&quot;@item.PetDesc&quot; class=&quot;form-control&quot; /&gt;*@\r\n                                    &lt;/td&gt;\r\n                                    &lt;td&gt;\r\n                                        @*@Html.EditorFor(x =&gt; x.Pets[i].PetChip, new { htmlAttributes = new { @class = &quot;form-control&quot;} })*@\r\n                                         @Html.DropDownListFor(x =&gt; x.Pets[i].PetChip, new SelectList(Enum.GetValues(typeof(ChooseYesNo))),&quot;Select&quot;)\r\n                                        @*&lt;input asp-for=&quot;@item.PetChip&quot; class=&quot;form-control&quot; /&gt;*@\r\n                                    &lt;/td&gt;\r\n                                    &lt;td&gt;\r\n                                        @*@Html.EditorFor(x =&gt; x.Pets[i].PetSterile, new { htmlAttributes = new { @class = &quot;form-control&quot;} })*@\r\n                                        @Html.DropDownListFor(x =&gt; x.Pets[i].PetSterile, new SelectList(Enum.GetValues(typeof(ChooseYesNo))),&quot;Select&quot;)\r\n                                        @*&lt;input asp-for=&quot;@item.PetSterile&quot; class=&quot;form-control&quot; /&gt;*@\r\n                                    &lt;/td&gt;\r\n                                    &lt;td&gt;\r\n                                        @Html.EditorFor(x =&gt; x.Pets[i].PetStatus, new { htmlAttributes = new { @class = &quot;form-control&quot;} })\r\n                                        @*&lt;input asp-for=&quot;@item.PetStatus&quot; class=&quot;form-control&quot; /&gt;*@\r\n                                    &lt;/td&gt;\r\n                                    &lt;td&gt;\r\n                                        @Html.EditorFor(x =&gt; x.Pets[i].PetAdditional, new { htmlAttributes = new { @class = &quot;form-control&quot;} })\r\n                                        @*&lt;input asp-for=&quot;@item.PetAdditional&quot; class=&quot;form-control&quot; /&gt;*@\r\n                                    &lt;/td&gt;\r\n                                    \r\n                                &lt;/tr&gt;\r\n                                \r\n                                \r\n                                &lt;tr&gt;\r\n                                    &lt;td colspan=&quot;2&quot;&gt;\r\n                                        Add an image of the microchip certificate&lt;br /&gt;\r\n                                        @Html.TextBoxFor(x =&gt; x.Pets[i].PetChipImage, new { type = &quot;file&quot; })\r\n                                        @Html.TextBoxFor(x =&gt; x.Pets[i].PetChipImageUrl, new { type = &quot;file&quot;, @onchange =&quot;encodeImageFileAsURL(this)&quot;})\r\n                                       \r\n                                    &lt;/td&gt;\r\n                                    &lt;td colspan=&quot;4&quot;&gt;\r\n                                        Add an image of the sterilization certificate&lt;br /&gt;\r\n                                        @Html.TextBoxFor(x =&gt; x.Pets[i].PetSterileImage, new { type = &quot;file&quot; })\r\n                                        @Html.TextBoxFor(x =&gt; x.Pets[i].PetSterileImageUrl, new { type = &quot;file&quot; })\r\n                                    &lt;/td&gt;\r\n                                    &lt;td colspan=&quot;2&quot;&gt;\r\n                                        Add an image your pet&lt;br /&gt;\r\n                                        @Html.TextBoxFor(x =&gt; x.Pets[i].PetImage, new { type = &quot;file&quot; })\r\n                                        @Html.TextBoxFor(x =&gt; x.Pets[i].PetImageUrl, new { type = &quot;file&quot; })\r\n                                    &lt;/td&gt;\r\n                                    &lt;td&gt;\r\n                                    &lt;button id=&#39;btnadd-@i&#39; type=&quot;button&quot; class=&quot;btn btn-sm btn-secondary visible&quot;\r\n                                                onclick=&quot;AddItem(this)&quot; &gt;Add&lt;/button&gt;\r\n                                    &lt;button id=&#39;btnremove-@i&#39; type=&quot;button&quot; class=&quot;btn btn-sm btn-secondary invisible&quot;\r\n                                                onclick=&quot;DeleteItem(this)&quot;&gt;Delete&lt;/button&gt;\r\n                                    &lt;/td&gt; \r\n                               &lt;/tr&gt;\r\n```\r\n\r\nJava Script\r\n\r\n```\r\nfunction encodeImageFileAsURL(element) {\r\n\tvar file = element.files[0];\r\n\tvar reader = new FileReader();\r\n\treader.onloadend = function () {\r\n\t\tconsole.log(&#39;RESULT&#39;, reader.result)\r\n\t}\r\n\treader.readAsDataURL(file);\r\n}\r\n```\r\n","title":"Adding images as part of a one to many relationship","body":"<p>I have been stuck on an issue with a one to many relationship database. I am trying to upload images to a record in the database, but everything I try is not working. Basically, I want to allow a user to upload different pictures of the pet into a database. There is one resident, but multiple pets, each pet can have multiple images, some images may be null. I am trying to store the image as a byte[], but if there is a better way of doing it please let me know. I am asking for a fresh pair of eyes to see what I am not seeing.</p>\n<p>Resident Model</p>\n<pre><code>public class Residents\n    {\n        [Key]\n        public int ResidentId { get; set; }\n        [Required]\n        [StringLength(10)]\n        public string UnitNo { get; set; } = string.Empty;   \n        [Required]\n        [StringLength(100)]\n        public string Name { get; set; } = string.Empty;\n        [Required]\n        [StringLength(100)]\n        public string Surname { get; set; } = string.Empty;\n        [Required]\n        [StringLength(50)]\n        public string EmailAddress { get; set; } = string.Empty;\n        [StringLength(20)]\n        public string ResTel1 { get; set; } = string.Empty;\n        [StringLength(20)]\n        public string ResTel2 { get; set; } = string.Empty;\n        public DateTime ApplicationDate { get; set; }\n        //[Required]\n        [StringLength(10)]\n        public string PetAmount { get; set; } = string.Empty;\n        [Required]\n        [StringLength(10)]\n        public string ApplicationSigned { get; set; } = &quot;No&quot;;\n        [StringLength(50)]\n        public string TrusteeAppStatus { get; set; } = string.Empty;\n        public virtual List&lt;Pets&gt; Pets { get; set; } = new List&lt;Pets&gt;();\n    }\n}\n\n</code></pre>\n<p>Pets Model</p>\n<pre><code>\npublic class Pets\n    {\n        [Key]\n        public int PetId { get; set; }\n        [ForeignKey(&quot;ResID&quot;)]\n        public int ResID { get; set; }\n        public virtual Residents Resident { get; private set; }\n        public string PetName { get; set; } = string.Empty;\n        public string PetType { get; set; } = string.Empty;\n        public string PetSex { get; set; } = string.Empty;\n        public string PetDesc { get; set; } = string.Empty;\n        public string PetChip { get; set; } = string.Empty;\n        public string PetChipImageUrl { get; set; } = string.Empty;\n        [Display(Name = &quot;Pet Chip Image&quot;)]\n        [NotMapped]\n        public IFormFile? PetChipImage { get; set; }\n        public string PetSterile { get; set; } = string.Empty;\n        public string PetSterileImageUrl { get; set; } = string.Empty;\n        [Display(Name = &quot;Pet Sterile Image&quot;)]\n        [NotMapped]\n        public IFormFile? PetSterileImage { get; set; }\n        public string PetStatus { get; set; } = string.Empty;\n        public string PetAdditional { get; set; } = string.Empty;\n        public string PetImageUrl { get; set; } = string.Empty;\n        [Display(Name = &quot;Pet Sterile Image&quot;)]\n        [NotMapped]\n        public IFormFile? PetImage { get; set; }\n    }\n}\n\n</code></pre>\n<p>Controller</p>\n<pre><code>\n[HttpGet]\n        public IActionResult Create()\n        { \n            Residents residents = new Residents();\n            residents.Pets.Add(new Pets() { PetId = 1 });\n            return View(residents);\n        }\n\n        [HttpPost]\n        public IActionResult Create(Residents residents)\n        {\n            foreach (Pets pets in residents.Pets)\n            {\n                if (pets.PetName == null || pets.PetName.Length == 0)\n                    residents.Pets.Remove(pets);\n            }\n\n           \n            _context.Residents.Add(residents);\n            _context.SaveChanges();\n            return RedirectToAction(&quot;Index&quot;);  \n        }\n</code></pre>\n<p>CSHTML</p>\n<pre><code>&lt;div id=&quot;PetInput&quot; class=&quot;col-md-12&quot;&gt;\n                    &lt;table id=&quot;PetAdd&quot; class=&quot;table table-striped table-sm&quot;&gt;\n                        &lt;thead&gt;\n                            &lt;tr&gt;\n                                &lt;th&gt;\n                                    Pet name\n                                &lt;/th&gt;\n                                &lt;th&gt;\n                                    Type\n                                &lt;/th&gt;\n                                &lt;th&gt;\n                                    Gender\n                                &lt;/th&gt;\n                                &lt;th&gt;\n                                    Description\n                                &lt;/th&gt;\n                                &lt;th&gt;\n                                    Chipped?\n                                &lt;/th&gt;\n                                &lt;th&gt;\n                                    Sterilized?\n                                &lt;/th&gt;\n                                &lt;th&gt;\n                                    Status\n                                &lt;/th&gt;\n                                &lt;th&gt;\n                                    Additional Info\n                                &lt;/th&gt;\n                                &lt;th&gt;\n\n                                &lt;/th&gt;\n                                &lt;/tr&gt;\n                        &lt;/thead&gt;\n                        &lt;tbody&gt;\n                            @*@foreach (var item in Model.Pets)*@\n                            @for (int i = 0; i &lt; Model.Pets.Count; i++)\n                            {\n                                &lt;tr&gt;\n                                    &lt;td&gt;\n                                        @Html.EditorFor(x =&gt; x.Pets[i].PetName, new { htmlAttributes = new { @class = &quot;form-control&quot;} })\n                                        @*&lt;input asp-for=&quot;@item.PetName&quot; class=&quot;form-control&quot; /&gt;*@\n                                    &lt;/td&gt;\n                                    &lt;td&gt;\n                                        @Html.EditorFor(x =&gt; x.Pets[i].PetType, new { htmlAttributes = new { @class = &quot;form-control&quot;} })\n                                        @*&lt;input asp-for=&quot;@item.PetType&quot; class=&quot;form-control&quot; /&gt;*@\n                                    &lt;/td&gt;\n                                    &lt;td&gt;\n                                        @*@Html.EditorFor(x =&gt; x.Pets[i].PetSex, new { htmlAttributes = new { @class = &quot;form-control&quot;} })*@\n                                        @Html.DropDownListFor(x =&gt; x.Pets[i].PetSex, new SelectList(Enum.GetValues(typeof(PetGender))),&quot;Select&quot;)\n                                        @*&lt;input asp-for=&quot;@item.PetSex&quot; class=&quot;form-control&quot; /&gt;*@\n                                    &lt;/td&gt;\n                                    &lt;td&gt;\n                                        @Html.EditorFor(x =&gt; x.Pets[i].PetDesc, new { htmlAttributes = new { @class = &quot;form-control&quot;} })\n                                        @*&lt;input asp-for=&quot;@item.PetDesc&quot; class=&quot;form-control&quot; /&gt;*@\n                                    &lt;/td&gt;\n                                    &lt;td&gt;\n                                        @*@Html.EditorFor(x =&gt; x.Pets[i].PetChip, new { htmlAttributes = new { @class = &quot;form-control&quot;} })*@\n                                         @Html.DropDownListFor(x =&gt; x.Pets[i].PetChip, new SelectList(Enum.GetValues(typeof(ChooseYesNo))),&quot;Select&quot;)\n                                        @*&lt;input asp-for=&quot;@item.PetChip&quot; class=&quot;form-control&quot; /&gt;*@\n                                    &lt;/td&gt;\n                                    &lt;td&gt;\n                                        @*@Html.EditorFor(x =&gt; x.Pets[i].PetSterile, new { htmlAttributes = new { @class = &quot;form-control&quot;} })*@\n                                        @Html.DropDownListFor(x =&gt; x.Pets[i].PetSterile, new SelectList(Enum.GetValues(typeof(ChooseYesNo))),&quot;Select&quot;)\n                                        @*&lt;input asp-for=&quot;@item.PetSterile&quot; class=&quot;form-control&quot; /&gt;*@\n                                    &lt;/td&gt;\n                                    &lt;td&gt;\n                                        @Html.EditorFor(x =&gt; x.Pets[i].PetStatus, new { htmlAttributes = new { @class = &quot;form-control&quot;} })\n                                        @*&lt;input asp-for=&quot;@item.PetStatus&quot; class=&quot;form-control&quot; /&gt;*@\n                                    &lt;/td&gt;\n                                    &lt;td&gt;\n                                        @Html.EditorFor(x =&gt; x.Pets[i].PetAdditional, new { htmlAttributes = new { @class = &quot;form-control&quot;} })\n                                        @*&lt;input asp-for=&quot;@item.PetAdditional&quot; class=&quot;form-control&quot; /&gt;*@\n                                    &lt;/td&gt;\n                                    \n                                &lt;/tr&gt;\n                                \n                                \n                                &lt;tr&gt;\n                                    &lt;td colspan=&quot;2&quot;&gt;\n                                        Add an image of the microchip certificate&lt;br /&gt;\n                                        @Html.TextBoxFor(x =&gt; x.Pets[i].PetChipImage, new { type = &quot;file&quot; })\n                                        @Html.TextBoxFor(x =&gt; x.Pets[i].PetChipImageUrl, new { type = &quot;file&quot;, @onchange =&quot;encodeImageFileAsURL(this)&quot;})\n                                       \n                                    &lt;/td&gt;\n                                    &lt;td colspan=&quot;4&quot;&gt;\n                                        Add an image of the sterilization certificate&lt;br /&gt;\n                                        @Html.TextBoxFor(x =&gt; x.Pets[i].PetSterileImage, new { type = &quot;file&quot; })\n                                        @Html.TextBoxFor(x =&gt; x.Pets[i].PetSterileImageUrl, new { type = &quot;file&quot; })\n                                    &lt;/td&gt;\n                                    &lt;td colspan=&quot;2&quot;&gt;\n                                        Add an image your pet&lt;br /&gt;\n                                        @Html.TextBoxFor(x =&gt; x.Pets[i].PetImage, new { type = &quot;file&quot; })\n                                        @Html.TextBoxFor(x =&gt; x.Pets[i].PetImageUrl, new { type = &quot;file&quot; })\n                                    &lt;/td&gt;\n                                    &lt;td&gt;\n                                    &lt;button id='btnadd-@i' type=&quot;button&quot; class=&quot;btn btn-sm btn-secondary visible&quot;\n                                                onclick=&quot;AddItem(this)&quot; &gt;Add&lt;/button&gt;\n                                    &lt;button id='btnremove-@i' type=&quot;button&quot; class=&quot;btn btn-sm btn-secondary invisible&quot;\n                                                onclick=&quot;DeleteItem(this)&quot;&gt;Delete&lt;/button&gt;\n                                    &lt;/td&gt; \n                               &lt;/tr&gt;\n</code></pre>\n<p>Java Script</p>\n<pre><code>function encodeImageFileAsURL(element) {\n    var file = element.files[0];\n    var reader = new FileReader();\n    reader.onloadend = function () {\n        console.log('RESULT', reader.result)\n    }\n    reader.readAsDataURL(file);\n}\n</code></pre>\n"},{"tags":["java","string","loops","for-loop","concatenation"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":4,"creation_date":1654733888,"post_id":72553459,"comment_id":128164983,"body_markdown":"`outputString = String.join(&quot;+&quot;, stringPieces);`","body":"<code>outputString = String.join(&quot;+&quot;, stringPieces);</code>"},{"owner":{"account_id":8115094,"reputation":3418,"user_id":6130540,"accept_rate":52,"display_name":"Clone"},"score":0,"creation_date":1654733946,"post_id":72553459,"comment_id":128164993,"body_markdown":"@shmosel, thanks! Didn&#39;t realize that option existed","body":"@shmosel, thanks! Didn&#39;t realize that option existed"},{"owner":{"account_id":25158464,"reputation":438,"user_id":19002974,"display_name":"dangling else"},"score":1,"creation_date":1654735078,"post_id":72553459,"comment_id":128165151,"body_markdown":"@shmosel - write it up as an answer, it&#39;s better than mine","body":"@shmosel - write it up as an answer, it&#39;s better than mine"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1654736043,"post_id":72553459,"comment_id":128165278,"body_markdown":"Why don&#39;t you just `replace(&quot; &quot;, &quot;+&quot;)`?","body":"Why don&#39;t you just <code>replace(&quot; &quot;, &quot;+&quot;)</code>?"}],"answers":[{"tags":[],"owner":{"account_id":25158464,"reputation":438,"user_id":19002974,"display_name":"dangling else"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1654735026,"creation_date":1654735026,"answer_id":72553557,"question_id":72553459,"body_markdown":"Based on the observation that you don&#39;t want a separator the first time - use an empty separator the first time!\r\n\r\n    String sep = &quot;&quot;;\r\n    for (String strTemp : stringPieces) {\r\n        outputString += sep + strTemp;\r\n        sep = &quot;+&quot;;\r\n    }\r\n\r\n \r\n","title":"Is there a way of alter first iteration of for loop for adding strings?","body":"<p>Based on the observation that you don't want a separator the first time - use an empty separator the first time!</p>\n<pre><code>String sep = &quot;&quot;;\nfor (String strTemp : stringPieces) {\n    outputString += sep + strTemp;\n    sep = &quot;+&quot;;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654770085,"creation_date":1654770085,"answer_id":72558655,"question_id":72553459,"body_markdown":"Personally, I would proffer the solution using `String.join()` proposed by *@shmosel* in the comment.\r\n\r\nHere is another way of achieving this with Stream API:\r\n\r\n```\r\nString outputString = \r\n    Arrays.stream(stringPieces).collect(Collectors.joining(&quot;+&quot;));\r\n```","title":"Is there a way of alter first iteration of for loop for adding strings?","body":"<p>Personally, I would proffer the solution using <code>String.join()</code> proposed by <em>@shmosel</em> in the comment.</p>\n<p>Here is another way of achieving this with Stream API:</p>\n<pre><code>String outputString = \n    Arrays.stream(stringPieces).collect(Collectors.joining(&quot;+&quot;));\n</code></pre>\n"}],"owner":{"account_id":8115094,"reputation":3418,"user_id":6130540,"accept_rate":52,"display_name":"Clone"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1654803415,"creation_date":1654733802,"question_id":72553459,"body_markdown":"I currently have a for loop, and I am looking for a quick and elegant method to remove the plus sign `+` from the first &quot;adding&quot; of the loop, so the results is not `+example+input+string` but rather `example+input+string` preferably without the need of rewriting the loop much. \r\n\r\n    String inpputString = &quot;example input string&quot;;\r\n\tString outputString= &quot;&quot;;\r\n\t\t\r\n\tString[] stringPieces= mainString.split(&quot; &quot;);\r\n\t\t\r\n\tfor (String strTemp : stringPieces){\r\n\t\toutputString = outputString + &quot;+&quot; + strTemp;\r\n\t}\r\n\r\n","title":"Is there a way of alter first iteration of for loop for adding strings?","body":"<p>I currently have a for loop, and I am looking for a quick and elegant method to remove the plus sign <code>+</code> from the first &quot;adding&quot; of the loop, so the results is not <code>+example+input+string</code> but rather <code>example+input+string</code> preferably without the need of rewriting the loop much.</p>\n<pre><code>String inpputString = &quot;example input string&quot;;\nString outputString= &quot;&quot;;\n    \nString[] stringPieces= mainString.split(&quot; &quot;);\n    \nfor (String strTemp : stringPieces){\n    outputString = outputString + &quot;+&quot; + strTemp;\n}\n</code></pre>\n"},{"tags":["java","weblogic12c","jersey-client","servlet-mapping"],"answers":[{"tags":[],"owner":{"account_id":12271777,"reputation":632,"user_id":8956733,"display_name":"Taraskin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1545989704,"creation_date":1545986953,"answer_id":53955815,"question_id":53776574,"body_markdown":"UPDATE. The issue fixed now.\r\n\r\n**1. weblogic.xml changed**:\r\n\r\n        &lt;wls:container-descriptor&gt;\r\n        &lt;wls:prefer-application-packages&gt;\r\n            &lt;wls:package-name&gt;antlr.*&lt;/wls:package-name&gt;\r\n            &lt;wls:package-name&gt;javax.persistence.*&lt;/wls:package-name&gt;\r\n            &lt;wls:package-name&gt;javax.validation.*&lt;/wls:package-name&gt;\r\n            &lt;wls:package-name&gt;org.apache.commons.*&lt;/wls:package-name&gt;\r\n            &lt;wls:package-name&gt;org.springframework.*&lt;/wls:package-name&gt;\r\n            &lt;wls:package-name&gt;org.hibernate.*&lt;/wls:package-name&gt;\r\n            &lt;wls:package-name&gt;ch.qos.*&lt;/wls:package-name&gt;\r\n            &lt;wls:package-name&gt;org.slf4j.*&lt;/wls:package-name&gt;            \r\n            &lt;!--Jax-RS--&gt;\r\n            &lt;wls:package-name&gt;javax.ws.rs.*&lt;/wls:package-name&gt;\r\n            &lt;!--Jersey 2.0--&gt;\r\n            &lt;wls:package-name&gt;org.glassfish.jersey.*&lt;/wls:package-name&gt;\r\n            &lt;wls:package-name&gt;org.glassfish.hk2.*&lt;/wls:package-name&gt;\r\n            &lt;wls:package-name&gt;org.jvnet.hk2.*&lt;/wls:package-name&gt;\r\n            &lt;wls:package-name&gt;jersey.repackaged.org.objectweb.asm.*&lt;/wls:package-name&gt;\r\n            &lt;!-- wls --&gt;\r\n            &lt;wls:package-name&gt;weblogic.jaxrs.api.client.*&lt;/wls:package-name&gt;\r\n            &lt;wls:package-name&gt;weblogic.jaxrs.internal.api.client.*&lt;/wls:package-name&gt;\r\n            &lt;wls:package-name&gt;weblogic.jaxrs.dispatch.*&lt;/wls:package-name&gt;\r\n            &lt;wls:package-name&gt;weblogic.jaxrs.monitoring.util.*&lt;/wls:package-name&gt;\r\n        &lt;/wls:prefer-application-packages&gt;\r\n        &lt;wls:prefer-application-resources&gt;\r\n            &lt;!-- apis --&gt;\r\n            &lt;wls:resource-name&gt;javax.ws.rs.*&lt;/wls:resource-name&gt;\r\n            &lt;!-- jersey --&gt;\r\n            &lt;wls:resource-name&gt;META-INF/services/org.glassfish.jersey.*&lt;/wls:resource-name&gt;\r\n            &lt;wls:resource-name&gt;com.sun.jersey.*&lt;/wls:resource-name&gt;\r\n            &lt;wls:resource-name&gt;org.glassfish.jersey.*&lt;/wls:resource-name&gt;\r\n            &lt;wls:resource-name&gt;jersey.repackaged.*&lt;/wls:resource-name&gt;\r\n            &lt;!-- hk2 --&gt;\r\n            &lt;wls:resource-name&gt;META-INF/services/org.glassfish.hk2.*&lt;/wls:resource-name&gt;\r\n            &lt;wls:resource-name&gt;org.glassfish.hk2.*&lt;/wls:resource-name&gt;\r\n            &lt;wls:resource-name&gt;org.jvnet.hk2.*&lt;/wls:resource-name&gt;\r\n            &lt;wls:resource-name&gt;org.jvnet.hk2.tiger_types.*&lt;/wls:resource-name&gt;\r\n        &lt;/wls:prefer-application-resources&gt;\r\n    &lt;/wls:container-descriptor&gt;\r\n\r\ni.e.: \r\n\r\n- **&amp;lt;wls:prefer-application-resources&amp;gt;** section was added.\r\n\r\n- in **&amp;lt;wls:prefer-application-packages&amp;gt;** section next blocks were added:\r\n\r\n          &lt;!--Jax-RS--&gt; and below\r\n          &lt;!--Jersey 2.0--&gt; and below\r\n          &lt;!-- wls --&gt; and below\r\n\r\n**2. Added endpoint config**:\r\n\r\n   \r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    import org.glassfish.jersey.server.ResourceConfig;\r\n\r\n    public class JerseyApplication extends ResourceConfig {\r\n        public JerseyApplication() {\r\n            packages(&quot;path.to.the.package&quot;);\r\n        }\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n\r\n**3. Added dependency to pom.xml**:\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.ws.rs&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javax.ws.rs-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n**4. web.xml servlet config**:\r\n\r\n    \t&lt;!--WebLogic Jersey Configuration--&gt;\r\n\t&lt;servlet&gt;\r\n\t\t&lt;display-name&gt;WL Jersey Configuration&lt;/display-name&gt;\r\n\t\t&lt;servlet-name&gt;jersey&lt;/servlet-name&gt;\r\n\t\t&lt;servlet-class&gt;org.glassfish.jersey.servlet.ServletContainer&lt;/servlet-class&gt;\r\n\t\t&lt;init-param&gt;\r\n\t\t\t&lt;param-name&gt;javax.ws.rs.Application&lt;/param-name&gt;\r\n\t\t\t&lt;param-value&gt;path.to.the.JerseyApplication&lt;/param-value&gt;\r\n\t\t&lt;/init-param&gt;\r\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n\t&lt;/servlet&gt;\r\n\t&lt;servlet-mapping&gt;\r\n\t\t&lt;servlet-name&gt;jersey&lt;/servlet-name&gt;\r\n\t\t&lt;url-pattern&gt;/jersey/*&lt;/url-pattern&gt;\r\n\t&lt;/servlet-mapping&gt;\r\n\r\n\r\n\r\n[This link helped a lot][1]\r\n\r\nP.S. Later using of Jackson 2.X library on WLS was similarly fixed (just added proper class to the **&amp;lt;wls:prefer-application-packages&amp;gt;** section)\r\n\r\n  [1]: https://stackoverflow.com/questions/26361136/using-jersey-2-x-web-service-on-weblogic-12-1-1","title":"Weblogic 12.2.1.0.0 disable default base URI pattern value (resources)","body":"<p>UPDATE. The issue fixed now.</p>\n\n<p><strong>1. weblogic.xml changed</strong>:</p>\n\n<pre><code>    &lt;wls:container-descriptor&gt;\n    &lt;wls:prefer-application-packages&gt;\n        &lt;wls:package-name&gt;antlr.*&lt;/wls:package-name&gt;\n        &lt;wls:package-name&gt;javax.persistence.*&lt;/wls:package-name&gt;\n        &lt;wls:package-name&gt;javax.validation.*&lt;/wls:package-name&gt;\n        &lt;wls:package-name&gt;org.apache.commons.*&lt;/wls:package-name&gt;\n        &lt;wls:package-name&gt;org.springframework.*&lt;/wls:package-name&gt;\n        &lt;wls:package-name&gt;org.hibernate.*&lt;/wls:package-name&gt;\n        &lt;wls:package-name&gt;ch.qos.*&lt;/wls:package-name&gt;\n        &lt;wls:package-name&gt;org.slf4j.*&lt;/wls:package-name&gt;            \n        &lt;!--Jax-RS--&gt;\n        &lt;wls:package-name&gt;javax.ws.rs.*&lt;/wls:package-name&gt;\n        &lt;!--Jersey 2.0--&gt;\n        &lt;wls:package-name&gt;org.glassfish.jersey.*&lt;/wls:package-name&gt;\n        &lt;wls:package-name&gt;org.glassfish.hk2.*&lt;/wls:package-name&gt;\n        &lt;wls:package-name&gt;org.jvnet.hk2.*&lt;/wls:package-name&gt;\n        &lt;wls:package-name&gt;jersey.repackaged.org.objectweb.asm.*&lt;/wls:package-name&gt;\n        &lt;!-- wls --&gt;\n        &lt;wls:package-name&gt;weblogic.jaxrs.api.client.*&lt;/wls:package-name&gt;\n        &lt;wls:package-name&gt;weblogic.jaxrs.internal.api.client.*&lt;/wls:package-name&gt;\n        &lt;wls:package-name&gt;weblogic.jaxrs.dispatch.*&lt;/wls:package-name&gt;\n        &lt;wls:package-name&gt;weblogic.jaxrs.monitoring.util.*&lt;/wls:package-name&gt;\n    &lt;/wls:prefer-application-packages&gt;\n    &lt;wls:prefer-application-resources&gt;\n        &lt;!-- apis --&gt;\n        &lt;wls:resource-name&gt;javax.ws.rs.*&lt;/wls:resource-name&gt;\n        &lt;!-- jersey --&gt;\n        &lt;wls:resource-name&gt;META-INF/services/org.glassfish.jersey.*&lt;/wls:resource-name&gt;\n        &lt;wls:resource-name&gt;com.sun.jersey.*&lt;/wls:resource-name&gt;\n        &lt;wls:resource-name&gt;org.glassfish.jersey.*&lt;/wls:resource-name&gt;\n        &lt;wls:resource-name&gt;jersey.repackaged.*&lt;/wls:resource-name&gt;\n        &lt;!-- hk2 --&gt;\n        &lt;wls:resource-name&gt;META-INF/services/org.glassfish.hk2.*&lt;/wls:resource-name&gt;\n        &lt;wls:resource-name&gt;org.glassfish.hk2.*&lt;/wls:resource-name&gt;\n        &lt;wls:resource-name&gt;org.jvnet.hk2.*&lt;/wls:resource-name&gt;\n        &lt;wls:resource-name&gt;org.jvnet.hk2.tiger_types.*&lt;/wls:resource-name&gt;\n    &lt;/wls:prefer-application-resources&gt;\n&lt;/wls:container-descriptor&gt;\n</code></pre>\n\n<p>i.e.: </p>\n\n<ul>\n<li><p><strong>&lt;wls:prefer-application-resources&gt;</strong> section was added.</p></li>\n<li><p>in <strong>&lt;wls:prefer-application-packages&gt;</strong> section next blocks were added:</p>\n\n<pre><code>  &lt;!--Jax-RS--&gt; and below\n  &lt;!--Jersey 2.0--&gt; and below\n  &lt;!-- wls --&gt; and below\n</code></pre></li>\n</ul>\n\n<p><strong>2. Added endpoint config</strong>:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>import org.glassfish.jersey.server.ResourceConfig;\r\n\r\npublic class JerseyApplication extends ResourceConfig {\r\n    public JerseyApplication() {\r\n        packages(\"path.to.the.package\");\r\n    }\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><strong>3. Added dependency to pom.xml</strong>:</p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;javax.ws.rs&lt;/groupId&gt;\n        &lt;artifactId&gt;javax.ws.rs-api&lt;/artifactId&gt;\n        &lt;version&gt;2.0&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p><strong>4. web.xml servlet config</strong>:</p>\n\n<pre><code>    &lt;!--WebLogic Jersey Configuration--&gt;\n&lt;servlet&gt;\n    &lt;display-name&gt;WL Jersey Configuration&lt;/display-name&gt;\n    &lt;servlet-name&gt;jersey&lt;/servlet-name&gt;\n    &lt;servlet-class&gt;org.glassfish.jersey.servlet.ServletContainer&lt;/servlet-class&gt;\n    &lt;init-param&gt;\n        &lt;param-name&gt;javax.ws.rs.Application&lt;/param-name&gt;\n        &lt;param-value&gt;path.to.the.JerseyApplication&lt;/param-value&gt;\n    &lt;/init-param&gt;\n    &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n&lt;/servlet&gt;\n&lt;servlet-mapping&gt;\n    &lt;servlet-name&gt;jersey&lt;/servlet-name&gt;\n    &lt;url-pattern&gt;/jersey/*&lt;/url-pattern&gt;\n&lt;/servlet-mapping&gt;\n</code></pre>\n\n<p><a href=\"https://stackoverflow.com/questions/26361136/using-jersey-2-x-web-service-on-weblogic-12-1-1\">This link helped a lot</a></p>\n\n<p>P.S. Later using of Jackson 2.X library on WLS was similarly fixed (just added proper class to the <strong>&lt;wls:prefer-application-packages&gt;</strong> section)</p>\n"},{"tags":[],"owner":{"account_id":3368180,"reputation":908,"user_id":2828177,"display_name":"Gajendra Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1605764370,"creation_date":1605764370,"answer_id":64905992,"question_id":53776574,"body_markdown":"Solution shared by Taras is working fine, i had to add below dependencies:\r\n\r\n        \r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.glassfish.jersey.containers&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;jersey-container-servlet&lt;/artifactId&gt;\r\n    \t&lt;version&gt;2.27&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.glassfish.jersey.inject&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jersey-hk2&lt;/artifactId&gt;\r\n        &lt;version&gt;2.27&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n","title":"Weblogic 12.2.1.0.0 disable default base URI pattern value (resources)","body":"<p>Solution shared by Taras is working fine, i had to add below dependencies:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.glassfish.jersey.containers&lt;/groupId&gt;\n    &lt;artifactId&gt;jersey-container-servlet&lt;/artifactId&gt;\n    &lt;version&gt;2.27&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.glassfish.jersey.inject&lt;/groupId&gt;\n    &lt;artifactId&gt;jersey-hk2&lt;/artifactId&gt;\n    &lt;version&gt;2.27&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15574575,"reputation":1,"user_id":11235984,"display_name":"Josue Cespedes"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654803222,"creation_date":1654803222,"answer_id":72565735,"question_id":53776574,"body_markdown":"I was having the same issue with weblogic 12.2.1 and com.sun.jersey, I have updated to org.glassfish.jersey version 2.26\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jersey-server&lt;/artifactId&gt;\r\n    &lt;version&gt;2.26&lt;/version&gt;\r\n    &lt;scope&gt;provided&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.glassfish.jersey.containers&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jersey-container-servlet&lt;/artifactId&gt;\r\n    &lt;version&gt;2.26&lt;/version&gt;\r\n    &lt;scope&gt;provided&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jersey-client&lt;/artifactId&gt;\r\n    &lt;version&gt;2.26&lt;/version&gt;\r\n    &lt;scope&gt;provided&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\nIn my web.xml file I updated my servlet as following: \r\n```\r\n&lt;servlet&gt;        \r\n    &lt;servlet-name&gt;your servlet name&lt;/servlet-name&gt;        \r\n    &lt;servlet-class&gt;org.glassfish.jersey.servlet.ServletContainer&lt;/servlet-class&gt;\r\n    &lt;init-param&gt;\r\n        &lt;param-name&gt;jersey.config.server.provider.packages&lt;/param-name&gt;\r\n        &lt;param-value&gt;\r\n            path.to.rest.resources\r\n        &lt;/param-value&gt;\r\n    &lt;/init-param&gt;       \r\n    &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;    \r\n&lt;/servlet&gt;  \r\n```\r\nNo other change was needed, and the issue was resolved. Hope can be helpful","title":"Weblogic 12.2.1.0.0 disable default base URI pattern value (resources)","body":"<p>I was having the same issue with weblogic 12.2.1 and com.sun.jersey, I have updated to org.glassfish.jersey version 2.26</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;\n    &lt;artifactId&gt;jersey-server&lt;/artifactId&gt;\n    &lt;version&gt;2.26&lt;/version&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.glassfish.jersey.containers&lt;/groupId&gt;\n    &lt;artifactId&gt;jersey-container-servlet&lt;/artifactId&gt;\n    &lt;version&gt;2.26&lt;/version&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;\n    &lt;artifactId&gt;jersey-client&lt;/artifactId&gt;\n    &lt;version&gt;2.26&lt;/version&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>In my web.xml file I updated my servlet as following:</p>\n<pre><code>&lt;servlet&gt;        \n    &lt;servlet-name&gt;your servlet name&lt;/servlet-name&gt;        \n    &lt;servlet-class&gt;org.glassfish.jersey.servlet.ServletContainer&lt;/servlet-class&gt;\n    &lt;init-param&gt;\n        &lt;param-name&gt;jersey.config.server.provider.packages&lt;/param-name&gt;\n        &lt;param-value&gt;\n            path.to.rest.resources\n        &lt;/param-value&gt;\n    &lt;/init-param&gt;       \n    &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;    \n&lt;/servlet&gt;  \n</code></pre>\n<p>No other change was needed, and the issue was resolved. Hope can be helpful</p>\n"}],"owner":{"account_id":12271777,"reputation":632,"user_id":8956733,"display_name":"Taraskin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2003,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1654803222,"creation_date":1544778761,"question_id":53776574,"body_markdown":"Pre-requsitions:\r\n\r\n 1. WebLogic Server Version: 12.2.1.0.0\r\n 2. Common Java web-application deployed\r\n 3. Started using Jersey **client** library\r\n\r\nIssue:\r\n\r\nRight after that **/resources/** URI has been mapped/handled by (embedded) WebLogic JAX-RS/Jersey servlet handler.\r\n\r\nWL mapping issue:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nGoogling shown this (pretty similar):\r\n\r\n* https://stackoverflow.com/questions/44146254/automatic-jax-rs-registration-in-weblogic-12-2-1-when-adding-eclipselink-artifac\r\n\r\nand\r\n\r\n* https://docs.oracle.com/middleware/1221/wls/RESTF/deploy-restful-service.htm#RESTF191\r\n\r\nFrom the Oracle&#39;s docs:\r\n\r\n&gt; ***&amp;lt;servlet-mapping&amp;gt;**&lt;p&gt; ...If not specified, one of the following values are used, in order of precedence:\r\n&gt; \r\n&gt; **@ApplicationPath** annotation value defined in the javax.ws.rs.core.Application subclass. \r\n&gt; \r\n&gt; ...\r\n&gt; \r\n&gt; The value **resources**. This is the **default base URI pattern** for\r\n&gt; RESTful Web service applications. \r\n&gt; \r\n&gt; ...\r\n&gt; \r\n&gt; If both the **&amp;lt;servlet-mapping&amp;gt;** and @ApplicationPath are\r\n&gt; specified, the **&amp;lt;servlet-mapping&amp;gt;** takes precedence.*\r\n\r\n\r\nI do not need REST services and default mapping at all - just want to use **Jersey client only**. After trying different options I haven&#39;t succeed with any solution.\r\n\r\nExplicitly added configuration in `web.xml`  *(tried for both JAX-RS 1.1 and 2.0 vesrions), without implementing any endpoints, as use only Jersey client with setting **&amp;lt;servlet-mapping&amp;gt;***:\r\n\r\n\r\n**web.xml**\r\n\r\n\t&lt;!--WebLogic Jersey Configuration--&gt;\r\n\t&lt;servlet&gt;\r\n\t\t&lt;display-name&gt;WL Jersey Configuration&lt;/display-name&gt;\r\n\t\t&lt;servlet-name&gt;jersey&lt;/servlet-name&gt;\r\n\t\t&lt;servlet-class&gt;org.glassfish.jersey.servlet.ServletContainer&lt;/servlet-class&gt;\r\n\t\t&lt;!--&lt;servlet-class&gt;com.sun.jersey.spi.container.servlet.ServletContainer&lt;/servlet-class&gt;--&gt;\r\n        &lt;init-param&gt;\r\n            &lt;param-name&gt;jersey.config.wls.server.monitoring.enabled&lt;/param-name&gt;\r\n            &lt;param-value&gt;false&lt;/param-value&gt;\r\n        &lt;/init-param&gt;\r\n\r\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n\t&lt;/servlet&gt;\r\n\t&lt;servlet-mapping&gt;\r\n\t\t&lt;servlet-name&gt;jersey&lt;/servlet-name&gt;\r\n\t\t&lt;url-pattern&gt;/jersey/*&lt;/url-pattern&gt;\r\n\t&lt;/servlet-mapping&gt;\r\n\r\n\r\n*In addition updated* **weblogic.xml**:\r\n\t\r\n    &lt;wls:container-descriptor&gt;\r\n    \t&lt;wls:prefer-application-packages&gt;\r\n            ...\r\n    \t\t&lt;wls:package-name&gt;org.glassfish.*&lt;/wls:package-name&gt;\r\n    \t\t&lt;wls:package-name&gt;com.sun.jersey.*&lt;/wls:package-name&gt;\r\n    \t\t&lt;wls:package-name&gt;javax.ws.rs.*&lt;/wls:package-name&gt;\r\n    \t&lt;/wls:prefer-application-packages&gt;\r\n    &lt;/wls:container-descriptor&gt;\r\n\r\nIt did not help. Any ideas on how to disable/override this *default* behaviour of WLS 12.2.1.0.0? Or maybe I&#39;ve missed or doing something wrong?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/yHee1.png","title":"Weblogic 12.2.1.0.0 disable default base URI pattern value (resources)","body":"<p>Pre-requsitions:</p>\n\n<ol>\n<li>WebLogic Server Version: 12.2.1.0.0</li>\n<li>Common Java web-application deployed</li>\n<li>Started using Jersey <strong>client</strong> library</li>\n</ol>\n\n<p>Issue:</p>\n\n<p>Right after that <strong>/resources/</strong> URI has been mapped/handled by (embedded) WebLogic JAX-RS/Jersey servlet handler.</p>\n\n<p>WL mapping issue:</p>\n\n<p><a href=\"https://i.stack.imgur.com/yHee1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yHee1.png\" alt=\"enter image description here\"></a></p>\n\n<p>Googling shown this (pretty similar):</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/44146254/automatic-jax-rs-registration-in-weblogic-12-2-1-when-adding-eclipselink-artifac\">Automatic Jax-RS registration in Weblogic 12.2.1 when adding eclipselink artifact</a></li>\n</ul>\n\n<p>and</p>\n\n<ul>\n<li><a href=\"https://docs.oracle.com/middleware/1221/wls/RESTF/deploy-restful-service.htm#RESTF191\" rel=\"nofollow noreferrer\">https://docs.oracle.com/middleware/1221/wls/RESTF/deploy-restful-service.htm#RESTF191</a></li>\n</ul>\n\n<p>From the Oracle's docs:</p>\n\n<blockquote>\n  <p><strong>*&lt;servlet-mapping&gt;</strong><p> ...If not specified, one of the following values are used, in order of precedence:</p>\n  \n  <p><strong>@ApplicationPath</strong> annotation value defined in the javax.ws.rs.core.Application subclass. </p>\n  \n  <p>...</p>\n  \n  <p>The value <strong>resources</strong>. This is the <strong>default base URI pattern</strong> for\n  RESTful Web service applications. </p>\n  \n  <p>...</p>\n  \n  <p>If both the <strong>&lt;servlet-mapping&gt;</strong> and @ApplicationPath are\n  specified, the <strong>&lt;servlet-mapping&gt;</strong> takes precedence.*</p>\n</blockquote>\n\n<p>I do not need REST services and default mapping at all - just want to use <strong>Jersey client only</strong>. After trying different options I haven't succeed with any solution.</p>\n\n<p>Explicitly added configuration in <code>web.xml</code>  <em>(tried for both JAX-RS 1.1 and 2.0 vesrions), without implementing any endpoints, as use only Jersey client with setting <strong>&lt;servlet-mapping&gt;</em></strong>:</p>\n\n<p><strong>web.xml</strong></p>\n\n<pre><code>&lt;!--WebLogic Jersey Configuration--&gt;\n&lt;servlet&gt;\n    &lt;display-name&gt;WL Jersey Configuration&lt;/display-name&gt;\n    &lt;servlet-name&gt;jersey&lt;/servlet-name&gt;\n    &lt;servlet-class&gt;org.glassfish.jersey.servlet.ServletContainer&lt;/servlet-class&gt;\n    &lt;!--&lt;servlet-class&gt;com.sun.jersey.spi.container.servlet.ServletContainer&lt;/servlet-class&gt;--&gt;\n    &lt;init-param&gt;\n        &lt;param-name&gt;jersey.config.wls.server.monitoring.enabled&lt;/param-name&gt;\n        &lt;param-value&gt;false&lt;/param-value&gt;\n    &lt;/init-param&gt;\n\n    &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n&lt;/servlet&gt;\n&lt;servlet-mapping&gt;\n    &lt;servlet-name&gt;jersey&lt;/servlet-name&gt;\n    &lt;url-pattern&gt;/jersey/*&lt;/url-pattern&gt;\n&lt;/servlet-mapping&gt;\n</code></pre>\n\n<p><em>In addition updated</em> <strong>weblogic.xml</strong>:</p>\n\n<pre><code>&lt;wls:container-descriptor&gt;\n    &lt;wls:prefer-application-packages&gt;\n        ...\n        &lt;wls:package-name&gt;org.glassfish.*&lt;/wls:package-name&gt;\n        &lt;wls:package-name&gt;com.sun.jersey.*&lt;/wls:package-name&gt;\n        &lt;wls:package-name&gt;javax.ws.rs.*&lt;/wls:package-name&gt;\n    &lt;/wls:prefer-application-packages&gt;\n&lt;/wls:container-descriptor&gt;\n</code></pre>\n\n<p>It did not help. Any ideas on how to disable/override this <em>default</em> behaviour of WLS 12.2.1.0.0? Or maybe I've missed or doing something wrong?</p>\n"},{"tags":["java","mongodb","spring-boot","intellij-idea","http-post"],"comments":[{"owner":{"account_id":25121309,"reputation":1105,"user_id":18969611,"display_name":"void void"},"score":0,"creation_date":1654733191,"post_id":72552883,"comment_id":128164881,"body_markdown":"The HTTP mapping used on your controller has nothing to do with updating your entity. If you can somehow get it to your service with a GET request to your controller the service layer wouldn&#39;t care.","body":"The HTTP mapping used on your controller has nothing to do with updating your entity. If you can somehow get it to your service with a GET request to your controller the service layer wouldn&#39;t care."},{"owner":{"account_id":25510586,"reputation":3,"user_id":19302324,"display_name":"vangoh"},"score":0,"creation_date":1654800468,"post_id":72552883,"comment_id":128184865,"body_markdown":"Hi, Thank you! I also noticed that my repo was expecting TableItem and I sent Player to it...","body":"Hi, Thank you! I also noticed that my repo was expecting TableItem and I sent Player to it..."}],"answers":[{"tags":[],"owner":{"account_id":17474517,"reputation":108,"user_id":12669673,"display_name":"Alexandru Borza"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1654757811,"creation_date":1654757811,"answer_id":72555922,"question_id":72552883,"body_markdown":"you can have 2 solutions:\r\n - to use a DTO (Data Transfer Object). Get a DTO in controller, create a mapper from DTO to Entity and from Entity to DTO and create a function to update the Entity from the DTO. You can see more here: https://mapstruct.org/documentation/stable/reference/html/#updating-bean-instances\r\n - second solution, that I think that is easier to implement, it&#39;s to create a function that copy the properties of a entity to another and exclude the null ones. You can get more info here: https://stackoverflow.com/questions/19737626/how-to-ignore-null-values-using-springframework-beanutils-copyproperties\r\n\r\n","title":"How to update a single Property of an Object in Database with Post and NOT PATCH? (Java, springboot)","body":"<p>you can have 2 solutions:</p>\n<ul>\n<li>to use a DTO (Data Transfer Object). Get a DTO in controller, create a mapper from DTO to Entity and from Entity to DTO and create a function to update the Entity from the DTO. You can see more here: <a href=\"https://mapstruct.org/documentation/stable/reference/html/#updating-bean-instances\" rel=\"nofollow noreferrer\">https://mapstruct.org/documentation/stable/reference/html/#updating-bean-instances</a></li>\n<li>second solution, that I think that is easier to implement, it's to create a function that copy the properties of a entity to another and exclude the null ones. You can get more info here: <a href=\"https://stackoverflow.com/questions/19737626/how-to-ignore-null-values-using-springframework-beanutils-copyproperties\">How to ignore null values using springframework BeanUtils copyProperties?</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":25510586,"reputation":3,"user_id":19302324,"display_name":"vangoh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654802733,"creation_date":1654801665,"answer_id":72565436,"question_id":72552883,"body_markdown":"Thanks for the quick feedback! I have seen some thinking errors already... my Repository expects TableItems and I just give it the property I want to change(Player in Players). I also forgot by the @Post the PathVariable with the TableId.\r\n\r\nThrough your tips I have now found a solution that also works! Here my code:\r\n\r\nController:\r\n\r\n     @PostMapping(&quot;/{id}/players&quot;)\r\n    public void postNewPlayer(@RequestBody Player newPlayer, @PathVariable String id) {\r\n        gameService.addNewPlayer(newPlayer, id);\r\n    }\r\n\r\nService:\r\n\r\n    public void addNewPlayer(Player newPlayer, String tableId) {\r\n\r\n        TableItem tableToBeUpdated = tableItemsRepo.findById(tableId)\r\n                .orElseThrow( () -&gt; new NoSuchElementException((&quot;Table with ID &quot; + tableId + &quot; not found!&quot;)));\r\n        List&lt;Player&gt; players =  tableToBeUpdated.getPlayers();\r\n        if( players == null) {\r\n            players = new ArrayList&lt;&gt;();\r\n            tableToBeUpdated.setPlayers(players);\r\n        }\r\n        players.add(newPlayer);\r\n        tableItemsRepo.save(tableToBeUpdated);\r\n    }\r\n\r\nI did not have to change anything in the repo.\r\nThe result it looks like this in the DB:\r\n\r\n    {\r\n       &quot;roundNumber&quot;: 2,\r\n       &quot;bigBlind&quot;: 20,\r\n       &quot;smallBlind&quot;: 10,\r\n       &quot;maxSize&quot;: 2,\r\n       &quot;freeSeats&quot;: 2,\r\n       &quot;tableChips&quot;: 0,\r\n       &quot;tableCards&quot;: [\r\n       {\r\n          &quot;rank&quot;: &quot;FIVE&quot;,\r\n          &quot;suit&quot;: &quot;HEARTS&quot;\r\n      },\r\n      {\r\n         &quot;rank&quot;: &quot;SEVEN&quot;,\r\n         &quot;suit&quot;: &quot;SPADES&quot;\r\n      }\r\n      ],\r\n      &quot;players&quot;: [\r\n      {\r\n         &quot;playerName&quot;: &quot;brasuca&quot;,\r\n         &quot;playerChips&quot;: 1000,\r\n         &quot;playerCards&quot;: [\r\n         {\r\n            &quot;rank&quot;: &quot;SEVEN&quot;,\r\n            &quot;suit&quot;: &quot;HEARTS&quot;\r\n        },\r\n        {\r\n           &quot;rank&quot;: &quot;KING&quot;,\r\n           &quot;suit&quot;: &quot;HEARTS&quot;\r\n        }\r\n      ]\r\n    }\r\n    ]}\r\n   \r\n\r\nThank you very much for your help!!","title":"How to update a single Property of an Object in Database with Post and NOT PATCH? (Java, springboot)","body":"<p>Thanks for the quick feedback! I have seen some thinking errors already... my Repository expects TableItems and I just give it the property I want to change(Player in Players). I also forgot by the @Post the PathVariable with the TableId.</p>\n<p>Through your tips I have now found a solution that also works! Here my code:</p>\n<p>Controller:</p>\n<pre><code> @PostMapping(&quot;/{id}/players&quot;)\npublic void postNewPlayer(@RequestBody Player newPlayer, @PathVariable String id) {\n    gameService.addNewPlayer(newPlayer, id);\n}\n</code></pre>\n<p>Service:</p>\n<pre><code>public void addNewPlayer(Player newPlayer, String tableId) {\n\n    TableItem tableToBeUpdated = tableItemsRepo.findById(tableId)\n            .orElseThrow( () -&gt; new NoSuchElementException((&quot;Table with ID &quot; + tableId + &quot; not found!&quot;)));\n    List&lt;Player&gt; players =  tableToBeUpdated.getPlayers();\n    if( players == null) {\n        players = new ArrayList&lt;&gt;();\n        tableToBeUpdated.setPlayers(players);\n    }\n    players.add(newPlayer);\n    tableItemsRepo.save(tableToBeUpdated);\n}\n</code></pre>\n<p>I did not have to change anything in the repo.\nThe result it looks like this in the DB:</p>\n<pre><code>{\n   &quot;roundNumber&quot;: 2,\n   &quot;bigBlind&quot;: 20,\n   &quot;smallBlind&quot;: 10,\n   &quot;maxSize&quot;: 2,\n   &quot;freeSeats&quot;: 2,\n   &quot;tableChips&quot;: 0,\n   &quot;tableCards&quot;: [\n   {\n      &quot;rank&quot;: &quot;FIVE&quot;,\n      &quot;suit&quot;: &quot;HEARTS&quot;\n  },\n  {\n     &quot;rank&quot;: &quot;SEVEN&quot;,\n     &quot;suit&quot;: &quot;SPADES&quot;\n  }\n  ],\n  &quot;players&quot;: [\n  {\n     &quot;playerName&quot;: &quot;brasuca&quot;,\n     &quot;playerChips&quot;: 1000,\n     &quot;playerCards&quot;: [\n     {\n        &quot;rank&quot;: &quot;SEVEN&quot;,\n        &quot;suit&quot;: &quot;HEARTS&quot;\n    },\n    {\n       &quot;rank&quot;: &quot;KING&quot;,\n       &quot;suit&quot;: &quot;HEARTS&quot;\n    }\n  ]\n}\n]}\n</code></pre>\n<p>Thank you very much for your help!!</p>\n"}],"owner":{"account_id":25510586,"reputation":3,"user_id":19302324,"display_name":"vangoh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":560,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72555922,"answer_count":2,"score":0,"last_activity_date":1654802733,"creation_date":1654727505,"question_id":72552883,"body_markdown":"I want to create a Post method to update a single property from my API main Object:\r\n\r\n    @Builder\r\n    @Document(collection = &quot;tableItems&quot;)\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Data\r\n    public class TableItem {\r\n\r\n        @Id\r\n        private String id;\r\n        private int roundNumber;\r\n        private RoundState roundState;\r\n        private int bigBlind;\r\n        private int smallBlind;\r\n        private int maxSize;\r\n        private int freeSeats;\r\n        private double tableChips;\r\n        private List&lt;Card&gt; tableCards;\r\n        private List&lt;Player&gt; players;\r\n        private List&lt;Seat&gt; seats;\r\n\r\n    }\r\n\r\nSo, this object ist save on my MongoDB. I want to add a new Player on players, but all other properties should not change!\r\n\r\nIn my GameController, I have a @RequestMapping(&quot;/api/tableitems&quot;) and my method looks like this:\r\n\r\n    @PostMapping(&quot;/{id}/players&quot;)\r\n    public void postNewPlayer(@RequestBody Player newPlayer, String tableId) {\r\n        gameService.addNewPlayer(id, newPlayer);\r\n    }\r\n\r\nIn my GameService my addNewPlayer method looks like this:\r\n\r\n    public void addNewPlayer(Player newPlayer, String tableId) {\r\n\r\n        TableItem tableToBeUpdated = tableItemsRepo.findById(tableId)\r\n                .orElseThrow( () -&gt; new NoSuchElementException((&quot;Table with ID &quot; + tableId + &quot; not found!&quot;)));\r\n\r\n        tableItemsRepo.save(newPlayer);\r\n    }\r\n\r\nIntelliJ grumbles and throws the following error message:\r\n\r\n&gt;  **Inferred type &#39;S&#39; for type parameter &#39;S&#39; is not within its bound; should extend &#39;backend.model.TableItem&#39;**\r\n\r\nAnd finally my repository looks like this:\r\n\r\n    @Repository\r\n    public interface TableItemsRepository extends MongoRepository&lt;TableItem, String&gt; {\r\n    }\r\n\r\n**Is it at all possible to update a single property of an object with @POST? How does it work? If not, how else can it be done? I am at a loss and would be very grateful for some help... Thanks a lot!**","title":"How to update a single Property of an Object in Database with Post and NOT PATCH? (Java, springboot)","body":"<p>I want to create a Post method to update a single property from my API main Object:</p>\n<pre><code>@Builder\n@Document(collection = &quot;tableItems&quot;)\n@NoArgsConstructor\n@AllArgsConstructor\n@Data\npublic class TableItem {\n\n    @Id\n    private String id;\n    private int roundNumber;\n    private RoundState roundState;\n    private int bigBlind;\n    private int smallBlind;\n    private int maxSize;\n    private int freeSeats;\n    private double tableChips;\n    private List&lt;Card&gt; tableCards;\n    private List&lt;Player&gt; players;\n    private List&lt;Seat&gt; seats;\n\n}\n</code></pre>\n<p>So, this object ist save on my MongoDB. I want to add a new Player on players, but all other properties should not change!</p>\n<p>In my GameController, I have a @RequestMapping(&quot;/api/tableitems&quot;) and my method looks like this:</p>\n<pre><code>@PostMapping(&quot;/{id}/players&quot;)\npublic void postNewPlayer(@RequestBody Player newPlayer, String tableId) {\n    gameService.addNewPlayer(id, newPlayer);\n}\n</code></pre>\n<p>In my GameService my addNewPlayer method looks like this:</p>\n<pre><code>public void addNewPlayer(Player newPlayer, String tableId) {\n\n    TableItem tableToBeUpdated = tableItemsRepo.findById(tableId)\n            .orElseThrow( () -&gt; new NoSuchElementException((&quot;Table with ID &quot; + tableId + &quot; not found!&quot;)));\n\n    tableItemsRepo.save(newPlayer);\n}\n</code></pre>\n<p>IntelliJ grumbles and throws the following error message:</p>\n<blockquote>\n<p><strong>Inferred type 'S' for type parameter 'S' is not within its bound; should extend 'backend.model.TableItem'</strong></p>\n</blockquote>\n<p>And finally my repository looks like this:</p>\n<pre><code>@Repository\npublic interface TableItemsRepository extends MongoRepository&lt;TableItem, String&gt; {\n}\n</code></pre>\n<p><strong>Is it at all possible to update a single property of an object with @POST? How does it work? If not, how else can it be done? I am at a loss and would be very grateful for some help... Thanks a lot!</strong></p>\n"},{"tags":["java","spring-boot","reactive-programming","spring-webflux"],"answers":[{"tags":[],"owner":{"account_id":3503406,"reputation":10887,"user_id":2929562,"accept_rate":88,"display_name":"Prateek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1654802245,"creation_date":1654802245,"answer_id":72565551,"question_id":72565490,"body_markdown":"I can think of the simplest solution would be below:\r\n\r\n    // Call Inventory Service, and place order if product is in stock\r\n    boolean allProductsInStock = webClient.get()\r\n    \t\t\t\t.uri(&quot;http://localhost:8092/api/inventory&quot;, uriBuilder -&gt; uriBuilder.queryParam(&quot;skuCode&quot;, skuCodes).build())\r\n    \t\t\t\t.retrieve()\r\n    \t\t\t\t.bodyToMono(InventoryResponse[].class)\r\n    \t\t\t\t.map(e -&gt; Arrays.stream(e))\r\n    \t\t\t\t.block()\r\n    \t\t\t\t.allMatch(InventoryResponse::isInStock);","title":"Spring Boot Reactive - How to convert Array response to actual DTO object?","body":"<p>I can think of the simplest solution would be below:</p>\n<pre><code>// Call Inventory Service, and place order if product is in stock\nboolean allProductsInStock = webClient.get()\n                .uri(&quot;http://localhost:8092/api/inventory&quot;, uriBuilder -&gt; uriBuilder.queryParam(&quot;skuCode&quot;, skuCodes).build())\n                .retrieve()\n                .bodyToMono(InventoryResponse[].class)\n                .map(e -&gt; Arrays.stream(e))\n                .block()\n                .allMatch(InventoryResponse::isInStock);\n</code></pre>\n"}],"owner":{"account_id":6187514,"reputation":8236,"user_id":6872018,"accept_rate":33,"display_name":"Jeff Cook"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":474,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72565551,"answer_count":1,"score":0,"last_activity_date":1654802245,"creation_date":1654802006,"question_id":72565490,"body_markdown":"I am developing Spring Boot 2.7.0 and Reactive Microservices using Spring WebFlux.\r\n\r\nBelow is the code \r\n\r\n    public void placeOrder(OrderRequest orderRequest) {\r\n    \t\tList&lt;OrderLineItems&gt; orderLineItems = orderRequest.getOrderLineItemsDtoList()\r\n    \t\t\t\t.stream()\r\n    \t\t\t\t.map(this::mapToDto)\r\n    \t\t\t\t.collect(Collectors.toList());\r\n    \r\n    \t\tOrder order = new Order();\r\n    \t\torder.setOrderNumber(UUID.randomUUID().toString());\r\n    \t\torder.setOrderLineItemsList(orderLineItems);\r\n    \r\n    \r\n    \t\tList&lt;String&gt; skuCodes = order.getOrderLineItemsList()\r\n    \t\t\t\t.stream()\r\n    \t\t\t\t.map(orderLineItem -&gt; orderLineItem.getSkuCode())\r\n    \t\t\t\t.collect(Collectors.toList());\r\n    \r\n    \t\t// Call Inventory Service, and place order if product is in stock\r\n    \t\tInventoryResponse[] inventoryResponsArray = webClient.get()\r\n    \t\t\t\t.uri(&quot;http://localhost:8092/api/inventory&quot;,\r\n    \t\t\t\t\t\turiBuilder -&gt; uriBuilder.queryParam(&quot;skuCode&quot;, skuCodes).build())\r\n    \t\t\t\t.retrieve()\r\n    \t\t\t\t.bodyToMono(InventoryResponse[].class)\r\n    \t\t\t\t.block();\r\n    \r\n    \t\tboolean allProductsInStock = Arrays.stream(inventoryResponsArray)\r\n    \t\t\t\t.allMatch(InventoryResponse::isInStock);\r\n    \r\n    \t\tif(allProductsInStock){\r\n    \t\t\torderRepository.save(order);\r\n    \t\t} else {\r\n    \t\t\tthrow new IllegalArgumentException(&quot;Product is not in stock, please try again later&quot;);\r\n    \t\t}\r\n    \t}\r\n\r\nIs there any way to combine below two codes into one?\r\n\r\n    // Call Inventory Service, and place order if product is in stock\r\n    \t\tInventoryResponse[] inventoryResponsArray = webClient.get()\r\n    \t\t\t\t.uri(&quot;http://localhost:8092/api/inventory&quot;,\r\n    \t\t\t\t\t\turiBuilder -&gt; uriBuilder.queryParam(&quot;skuCode&quot;, skuCodes).build())\r\n    \t\t\t\t.retrieve()\r\n    \t\t\t\t.bodyToMono(InventoryResponse[].class)\r\n    \t\t\t\t.block();\r\n    \r\n    \t\tboolean allProductsInStock = Arrays.stream(inventoryResponsArray)\r\n    \t\t\t\t.allMatch(InventoryResponse::isInStock);","title":"Spring Boot Reactive - How to convert Array response to actual DTO object?","body":"<p>I am developing Spring Boot 2.7.0 and Reactive Microservices using Spring WebFlux.</p>\n<p>Below is the code</p>\n<pre><code>public void placeOrder(OrderRequest orderRequest) {\n        List&lt;OrderLineItems&gt; orderLineItems = orderRequest.getOrderLineItemsDtoList()\n                .stream()\n                .map(this::mapToDto)\n                .collect(Collectors.toList());\n\n        Order order = new Order();\n        order.setOrderNumber(UUID.randomUUID().toString());\n        order.setOrderLineItemsList(orderLineItems);\n\n\n        List&lt;String&gt; skuCodes = order.getOrderLineItemsList()\n                .stream()\n                .map(orderLineItem -&gt; orderLineItem.getSkuCode())\n                .collect(Collectors.toList());\n\n        // Call Inventory Service, and place order if product is in stock\n        InventoryResponse[] inventoryResponsArray = webClient.get()\n                .uri(&quot;http://localhost:8092/api/inventory&quot;,\n                        uriBuilder -&gt; uriBuilder.queryParam(&quot;skuCode&quot;, skuCodes).build())\n                .retrieve()\n                .bodyToMono(InventoryResponse[].class)\n                .block();\n\n        boolean allProductsInStock = Arrays.stream(inventoryResponsArray)\n                .allMatch(InventoryResponse::isInStock);\n\n        if(allProductsInStock){\n            orderRepository.save(order);\n        } else {\n            throw new IllegalArgumentException(&quot;Product is not in stock, please try again later&quot;);\n        }\n    }\n</code></pre>\n<p>Is there any way to combine below two codes into one?</p>\n<pre><code>// Call Inventory Service, and place order if product is in stock\n        InventoryResponse[] inventoryResponsArray = webClient.get()\n                .uri(&quot;http://localhost:8092/api/inventory&quot;,\n                        uriBuilder -&gt; uriBuilder.queryParam(&quot;skuCode&quot;, skuCodes).build())\n                .retrieve()\n                .bodyToMono(InventoryResponse[].class)\n                .block();\n\n        boolean allProductsInStock = Arrays.stream(inventoryResponsArray)\n                .allMatch(InventoryResponse::isInStock);\n</code></pre>\n"},{"tags":["java","kotlin"],"comments":[{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":1,"creation_date":1654802188,"post_id":72565007,"comment_id":128185350,"body_markdown":"You could just try it?","body":"You could just try it?"}],"answers":[{"tags":[],"owner":{"account_id":5645,"reputation":168040,"user_id":9204,"accept_rate":82,"display_name":"Alexey Romanov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1654802196,"creation_date":1654802196,"answer_id":72565536,"question_id":72565007,"body_markdown":"Yes, that&#39;s exactly the way you do it. Except if `DemoSuper` also has `getA()` and/or `getB()`, you should remove `private val` from `a` and/or `b` because it&#39;ll inherit the properties.","title":"Constructor in kotlin","body":"<p>Yes, that's exactly the way you do it. Except if <code>DemoSuper</code> also has <code>getA()</code> and/or <code>getB()</code>, you should remove <code>private val</code> from <code>a</code> and/or <code>b</code> because it'll inherit the properties.</p>\n"}],"owner":{"account_id":17511433,"reputation":15,"user_id":16958084,"display_name":"Hello Mr Mustafo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72565536,"answer_count":1,"score":0,"last_activity_date":1654802196,"creation_date":1654799248,"question_id":72565007,"body_markdown":"i&#39;m wondering is it okey to do something like this in Kotlin?\r\n\r\nJava:\r\n \r\n\r\n       public class DemoSuper {\r\n            private int a;\r\n            private int b;\r\n        \r\n            public DemoSuper(int a, int b) {\r\n                this.a = a;\r\n                this.b = b;\r\n            }\r\n        }\r\n\r\nKotlin.\r\n\r\n    class DemoClass(\r\n            private val a: Int,\r\n            private val b: Int\r\n    ) : DemoSuper(a, b) \r\n\r\nBasically, I want to call the Java constructor `DemoSuper`\r\nfrom Kotlin primary constructor `DemoClass`.\r\nI could use the super keyword in Java, but in Kotlin is it possible to do it like this?\r\n\r\n\r\nTnx.","title":"Constructor in kotlin","body":"<p>i'm wondering is it okey to do something like this in Kotlin?</p>\n<p>Java:</p>\n<pre><code>   public class DemoSuper {\n        private int a;\n        private int b;\n    \n        public DemoSuper(int a, int b) {\n            this.a = a;\n            this.b = b;\n        }\n    }\n</code></pre>\n<p>Kotlin.</p>\n<pre><code>class DemoClass(\n        private val a: Int,\n        private val b: Int\n) : DemoSuper(a, b) \n</code></pre>\n<p>Basically, I want to call the Java constructor <code>DemoSuper</code>\nfrom Kotlin primary constructor <code>DemoClass</code>.\nI could use the super keyword in Java, but in Kotlin is it possible to do it like this?</p>\n<p>Tnx.</p>\n"},{"tags":["java","kotlin","ssl","quarkus","tls1.3"],"comments":[{"owner":{"account_id":9701780,"reputation":1040,"user_id":7196490,"accept_rate":25,"display_name":"Edu G"},"score":0,"creation_date":1654786516,"post_id":72562465,"comment_id":128179971,"body_markdown":"Does this answer your question? [How to create a X509 certificate using Java?](https://stackoverflow.com/questions/11383898/how-to-create-a-x509-certificate-using-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/11383898/how-to-create-a-x509-certificate-using-java\">How to create a X509 certificate using Java?</a>"},{"owner":{"account_id":1936496,"reputation":32803,"user_id":1743843,"accept_rate":77,"display_name":"softshipper"},"score":0,"creation_date":1654787479,"post_id":72562465,"comment_id":128180397,"body_markdown":"I could not find the package sun.security.tools.keytool.CertAndKeyGen on https://docs.oracle.com/search/?q=sun.security.tools&amp;pg=1&amp;size=10&amp;product=en%2Fjava%2Fjavase%2F17&amp;category=en%2Fjava&amp;showfirstpage=true&amp;lang=en. Is sun.security.tools.keytool.CertAndKeyGen not deprecated?","body":"I could not find the package sun.security.tools.keytool.CertAndKeyGen on <a href=\"https://docs.oracle.com/search/?q=sun.security.tools&amp;pg=1&amp;size=10&amp;product=en%2Fjava%2Fjavase%2F17&amp;category=en%2Fjava&amp;showfirstpage=true&amp;lang=en\" rel=\"nofollow noreferrer\">docs.oracle.com/search/&hellip;</a>. Is sun.security.tools.keytool.CertAndKeyGen not deprecated?"},{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":1,"creation_date":1654800620,"post_id":72562465,"comment_id":128184918,"body_markdown":"The names of `CertificateFactory.generate{Certificate,Certificates,CertPath}` are misleading: these do not _create_ the stated things but rather _read them in_ from preexisting data (often a file but may be a database, network connection, or other data source). Out-of-the-box Java does not support creating a cert (with keypair as keytool does, or without). If you can add BouncyCastle, see https://stackoverflow.com/questions/29852290/ https://stackoverflow.com/questions/14930381/ https://stackoverflow.com/questions/59301937/ and maybe https://stackoverflow.com/questions/925377/","body":"The names of <code>CertificateFactory.generate{Certificate,Certificates,CertPat&zwnj;&#8203;h}</code> are misleading: these do not <i>create</i> the stated things but rather <i>read them in</i> from preexisting data (often a file but may be a database, network connection, or other data source). Out-of-the-box Java does not support creating a cert (with keypair as keytool does, or without). If you can add BouncyCastle, see <a href=\"https://stackoverflow.com/questions/29852290/\">stackoverflow.com/questions/29852290</a> <a href=\"https://stackoverflow.com/questions/14930381/\">stackoverflow.com/questions/14930381</a> <a href=\"https://stackoverflow.com/questions/59301937/\">stackoverflow.com/questions/59301937</a> and maybe <a href=\"https://stackoverflow.com/questions/925377/\">stackoverflow.com/questions/925377</a>"}],"owner":{"account_id":1936496,"reputation":32803,"user_id":1743843,"accept_rate":77,"display_name":"softshipper"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":904,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1654801435,"creation_date":1654786391,"question_id":72562465,"body_markdown":"I would like to create certificates programmatically instead with `java keytool`. \r\n\r\nFor example, this is how I create a server certificate and would like to translate it into Java code:\r\n\r\n    keytool -v \\\r\n            -genkeypair \\\r\n            -dname &quot;$SERVER_DN&quot; \\\r\n            -keystore &quot;$SERVER_DIR&quot;/keystore.jks \\\r\n            -storepass &quot;$SERVER_PW&quot; \\\r\n            -keypass &quot;$SERVER_PW&quot; \\\r\n            -keyalg &quot;EC&quot; \\\r\n            -alias server \\\r\n            -validity 1825 \\\r\n            -deststoretype pkcs12 \\\r\n            -ext KU=digitalSignature,dataEncipherment,keyEncipherment,keyAgreement \\\r\n            -ext EKU=serverAuth \\\r\n            -ext SAN=&quot;$SERVER_SAN&quot;\r\n\r\nFor creating KeyStore I have found the library https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/security/KeyStore.html for creating certificate I have found https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/security/cert/CertificateFactory.html#getInstance(java.lang.String).  \r\n\r\nI have tried to create a certificate as follows:\r\n\r\n    import io.quarkus.runtime.QuarkusApplication\r\n    import io.quarkus.runtime.annotations.QuarkusMain\r\n    import java.io.FileInputStream\r\n    import java.security.cert.CertificateFactory\r\n    \r\n    \r\n    @QuarkusMain\r\n    class Main :QuarkusApplication{\r\n        override fun run(vararg args: String?): Int {\r\n            val cf = CertificateFactory.getInstance(&quot;X.509&quot;)\r\n            val cert = cf.generateCertificate(FileInputStream(&quot;/Users/developer/jvm/cert-bash/server.crt&quot;))\r\n            return 0\r\n        }\r\n    }\r\n\r\nand got an error\r\n\r\n    2022-06-09 16:30:44,960 ERROR [io.qua.run.Application] (Quarkus Main Thread) Failed to start application (with profile dev): java.io.IOException: Empty input\r\n\r\nThe file is empty and I would like to write the generated certificate into the file.\r\nDo I use `cf.generateCertificate` wrong?\r\n\r\n**Update**\r\n\r\nAs @Edu G suggested the solution on https://stackoverflow.com/questions/11383898/how-to-create-a-x509-certificate-using-java I can not find the library sun.security.tools.keytool.* on https://docs.oracle.com/en/java/javase/17/, why? ","title":"Create X509 certificate programmactically","body":"<p>I would like to create certificates programmatically instead with <code>java keytool</code>.</p>\n<p>For example, this is how I create a server certificate and would like to translate it into Java code:</p>\n<pre><code>keytool -v \\\n        -genkeypair \\\n        -dname &quot;$SERVER_DN&quot; \\\n        -keystore &quot;$SERVER_DIR&quot;/keystore.jks \\\n        -storepass &quot;$SERVER_PW&quot; \\\n        -keypass &quot;$SERVER_PW&quot; \\\n        -keyalg &quot;EC&quot; \\\n        -alias server \\\n        -validity 1825 \\\n        -deststoretype pkcs12 \\\n        -ext KU=digitalSignature,dataEncipherment,keyEncipherment,keyAgreement \\\n        -ext EKU=serverAuth \\\n        -ext SAN=&quot;$SERVER_SAN&quot;\n</code></pre>\n<p>For creating KeyStore I have found the library <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/security/KeyStore.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/security/KeyStore.html</a> for creating certificate I have found <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/security/cert/CertificateFactory.html#getInstance(java.lang.String)\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/security/cert/CertificateFactory.html#getInstance(java.lang.String)</a>.</p>\n<p>I have tried to create a certificate as follows:</p>\n<pre><code>import io.quarkus.runtime.QuarkusApplication\nimport io.quarkus.runtime.annotations.QuarkusMain\nimport java.io.FileInputStream\nimport java.security.cert.CertificateFactory\n\n\n@QuarkusMain\nclass Main :QuarkusApplication{\n    override fun run(vararg args: String?): Int {\n        val cf = CertificateFactory.getInstance(&quot;X.509&quot;)\n        val cert = cf.generateCertificate(FileInputStream(&quot;/Users/developer/jvm/cert-bash/server.crt&quot;))\n        return 0\n    }\n}\n</code></pre>\n<p>and got an error</p>\n<pre><code>2022-06-09 16:30:44,960 ERROR [io.qua.run.Application] (Quarkus Main Thread) Failed to start application (with profile dev): java.io.IOException: Empty input\n</code></pre>\n<p>The file is empty and I would like to write the generated certificate into the file.\nDo I use <code>cf.generateCertificate</code> wrong?</p>\n<p><strong>Update</strong></p>\n<p>As @Edu G suggested the solution on <a href=\"https://stackoverflow.com/questions/11383898/how-to-create-a-x509-certificate-using-java\">How to create a X509 certificate using Java?</a> I can not find the library sun.security.tools.keytool.* on <a href=\"https://docs.oracle.com/en/java/javase/17/\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/17/</a>, why?</p>\n"},{"tags":["java","jmeter","jmx"],"answers":[{"tags":[],"owner":{"account_id":3460456,"reputation":162728,"user_id":2897748,"display_name":"Dmitri T"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654801016,"creation_date":1654801016,"answer_id":72565328,"question_id":72564496,"body_markdown":"The fact that the function is [deprecated][1] doesn&#39;t mean it cannot be used, it&#39;s just a warning that it might be removed in one of the next releases, as long as it does what you expect it&#39;s absolutely fine to use it. \r\n\r\nIf you need to get rid of this compile-time warning: looking into the latest [JavaDoc for SaveService][2] it now takes [File][3] as the parameter so you should do something like:\r\n\r\n    HashTree testPlan = SaveService.loadTree(new File(&quot;/path/to/your/script.jmx&quot;));\r\n\r\nYou might also be interested in [JMeter DSL][4] as &quot;pure&quot; [JMeter API][5] is not too friendly and readable. \r\n\r\n\r\n  [1]: https://www.baeldung.com/java-deprecated\r\n  [2]: https://jmeter.apache.org/api/org/apache/jmeter/save/SaveService.html#loadTree-java.io.File-\r\n  [3]: https://docs.oracle.com/javase/7/docs/api/java/io/File.html\r\n  [4]: https://www.blazemeter.com/blog/jmeterdsl-performance-testing-developers/\r\n  [5]: https://jmeter.apache.org/api/index.html","title":"The method loadTree(InputStream) from the type SaveService is deprecatedJava(67108967) JMeter","body":"<p>The fact that the function is <a href=\"https://www.baeldung.com/java-deprecated\" rel=\"nofollow noreferrer\">deprecated</a> doesn't mean it cannot be used, it's just a warning that it might be removed in one of the next releases, as long as it does what you expect it's absolutely fine to use it.</p>\n<p>If you need to get rid of this compile-time warning: looking into the latest <a href=\"https://jmeter.apache.org/api/org/apache/jmeter/save/SaveService.html#loadTree-java.io.File-\" rel=\"nofollow noreferrer\">JavaDoc for SaveService</a> it now takes <a href=\"https://docs.oracle.com/javase/7/docs/api/java/io/File.html\" rel=\"nofollow noreferrer\">File</a> as the parameter so you should do something like:</p>\n<pre><code>HashTree testPlan = SaveService.loadTree(new File(&quot;/path/to/your/script.jmx&quot;));\n</code></pre>\n<p>You might also be interested in <a href=\"https://www.blazemeter.com/blog/jmeterdsl-performance-testing-developers/\" rel=\"nofollow noreferrer\">JMeter DSL</a> as &quot;pure&quot; <a href=\"https://jmeter.apache.org/api/index.html\" rel=\"nofollow noreferrer\">JMeter API</a> is not too friendly and readable.</p>\n"}],"owner":{"account_id":25518485,"reputation":1,"user_id":19308890,"display_name":"Ivan Anikin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":165,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654801016,"creation_date":1654796427,"question_id":72564496,"body_markdown":"I&#39;m trying to run JMeter script using JMeter 3.1, where the SaveService.loadTree() function is depricated. Would anyone be so kind and suggest what should I do, when the scripts I need to process are written in JMeter 3.1. \r\nThis is the error message:\r\n&#39;The method loadTree(InputStream) from the type SaveService is deprecatedJava(67108967)&#39;\r\nThanks in advance! :)\r\nI&#39;d like to create an automated solution of running JMeter scripts and testing different variations of changes. If you know any resource that might help me or others interested in the topic, please share, we&#39;ll be most grateful to you!","title":"The method loadTree(InputStream) from the type SaveService is deprecatedJava(67108967) JMeter","body":"<p>I'm trying to run JMeter script using JMeter 3.1, where the SaveService.loadTree() function is depricated. Would anyone be so kind and suggest what should I do, when the scripts I need to process are written in JMeter 3.1.\nThis is the error message:\n'The method loadTree(InputStream) from the type SaveService is deprecatedJava(67108967)'\nThanks in advance! :)\nI'd like to create an automated solution of running JMeter scripts and testing different variations of changes. If you know any resource that might help me or others interested in the topic, please share, we'll be most grateful to you!</p>\n"},{"tags":["java","android-studio","shuffle","fisher-yates-shuffle"],"comments":[{"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"score":0,"creation_date":1650012793,"post_id":71881785,"comment_id":127022029,"body_markdown":"Yes, well this code is for an array - what have you tried to translate it to support `List`?","body":"Yes, well this code is for an array - what have you tried to translate it to support <code>List</code>?"},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":1,"creation_date":1650012799,"post_id":71881785,"comment_id":127022030,"body_markdown":"What exactly are you trying to achieve here? `Collections.shuffle()` already uses Fisher-Yates algorithm.","body":"What exactly are you trying to achieve here? <code>Collections.shuffle()</code> already uses Fisher-Yates algorithm."},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":1,"creation_date":1650013190,"post_id":71881785,"comment_id":127022109,"body_markdown":"And btw you cannot change/override it, because it&#39;s static method.","body":"And btw you cannot change/override it, because it&#39;s static method."}],"owner":{"account_id":23668331,"reputation":1,"user_id":17695488,"display_name":"rappolop"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654800946,"creation_date":1650011525,"question_id":71881785,"body_markdown":"    List&lt;TriviaQuestion&gt; list;\r\n    Collections.shuffle(list);\r\n\r\nis Collections.shuffle(list); can it be called Fisher Yates?\r\n\r\n    for (int i = n-1; i &gt; 0; i--) {\r\n                int j = r.nextInt(i+1);\r\n                int temp = arr[i];\r\n                arr[i] = arr[j];\r\n                arr[j] = temp;\r\n            }","title":"Is Collections.shuffle(list); Fisher Yates Algorithm?","body":"<pre><code>List&lt;TriviaQuestion&gt; list;\nCollections.shuffle(list);\n</code></pre>\n<p>is Collections.shuffle(list); can it be called Fisher Yates?</p>\n<pre><code>for (int i = n-1; i &gt; 0; i--) {\n            int j = r.nextInt(i+1);\n            int temp = arr[i];\n            arr[i] = arr[j];\n            arr[j] = temp;\n        }\n</code></pre>\n"},{"tags":["java","mysql","hibernate","jpa","deadlock"],"comments":[{"owner":{"account_id":5689160,"reputation":1446,"user_id":4497704,"display_name":"D-FENS"},"score":0,"creation_date":1639096682,"post_id":70294893,"comment_id":124268568,"body_markdown":"I don&#39;t know how to turn off the lock completely, but could you try out if when using [optimistic locking](https://www.baeldung.com/jpa-optimistic-locking) it comes to a deadlock? `entityManager.find(A.class, aid, LockModeType.OPTIMISTIC);`","body":"I don&#39;t know how to turn off the lock completely, but could you try out if when using <a href=\"https://www.baeldung.com/jpa-optimistic-locking\" rel=\"nofollow noreferrer\">optimistic locking</a> it comes to a deadlock? <code>entityManager.find(A.class, aid, LockModeType.OPTIMISTIC);</code>"},{"owner":{"account_id":2303891,"reputation":1772,"user_id":2023577,"display_name":"user2023577"},"score":1,"creation_date":1639361170,"post_id":70294893,"comment_id":124321721,"body_markdown":"We didn&#39;t design with version or timestamp columns in our entities/tables to be usable with optimistic locking. But that not involving server-side locks anymore than the default LockMode.NONE. So, I would like to rely on the jpa default which seems reasonable. I&#39;m not quite ready to change all the thousands of transactions annotations.. that could be a huge mistake. The main reason for my S.O. questions is about the origin of the deadlock by jpa/hibernate but not raw statements that are similar, i.e. where is the shared lock coming from if nothing requested it.","body":"We didn&#39;t design with version or timestamp columns in our entities/tables to be usable with optimistic locking. But that not involving server-side locks anymore than the default LockMode.NONE. So, I would like to rely on the jpa default which seems reasonable. I&#39;m not quite ready to change all the thousands of transactions annotations.. that could be a huge mistake. The main reason for my S.O. questions is about the origin of the deadlock by jpa/hibernate but not raw statements that are similar, i.e. where is the shared lock coming from if nothing requested it."}],"answers":[{"tags":[],"owner":{"account_id":1100252,"reputation":10087,"user_id":1092818,"display_name":"crizzis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1639343022,"creation_date":1639342383,"answer_id":70327612,"question_id":70294893,"body_markdown":"&gt; What is surprising: I enabled the hibernate DEBUG level on org.hibernate.SQL to see the statements, and NONE of them show any &quot;select ... lock in share mode&quot; (nor select ... for update). (...) The question is where is this configured? For all the docs I read, the default lock mode is LockMode.NONE. \r\n\r\nThe default locking behaviour is configured in your RDBMS, of course. It is also known as *isolation level*. You said yours was set to `REPEATABLE READ`, so both read locks and write locks are maintained till the end of transaction. \r\n\r\nYou seem to be confused about expecting no locks to be in use unless explicitly requested. This is not at all how it works. A `SELECT` statement **always** acquires a read lock, and an `UPDATE` statement **always** acquires a write lock. The million dollar question is when those locks get **released**, and that&#39;s what isolation levels control. \r\n\r\n&gt; I want to just lock less\r\n\r\nWell then, switch to a more lenient isolation level - `READ COMMITED`, if your use case doesn&#39;t care about non-repeatable reads. \r\n\r\nOr, if there&#39;s little contention over DB rows and your update operations are relatively inexpensive, use optimistic locking, like @roccobaroccoSC suggested. \r\n\r\nOr, if contention changes dynamically, try a hybrid approach: first, try optimistic locking n times, and if that fails, use pessimistic locking, with upfront calls to `em.find(..., LockMode.PESSIMISTIC)`. ","title":"jpa hibernate deadlock with simple find + update","body":"<blockquote>\n<p>What is surprising: I enabled the hibernate DEBUG level on org.hibernate.SQL to see the statements, and NONE of them show any &quot;select ... lock in share mode&quot; (nor select ... for update). (...) The question is where is this configured? For all the docs I read, the default lock mode is LockMode.NONE.</p>\n</blockquote>\n<p>The default locking behaviour is configured in your RDBMS, of course. It is also known as <em>isolation level</em>. You said yours was set to <code>REPEATABLE READ</code>, so both read locks and write locks are maintained till the end of transaction.</p>\n<p>You seem to be confused about expecting no locks to be in use unless explicitly requested. This is not at all how it works. A <code>SELECT</code> statement <strong>always</strong> acquires a read lock, and an <code>UPDATE</code> statement <strong>always</strong> acquires a write lock. The million dollar question is when those locks get <strong>released</strong>, and that's what isolation levels control.</p>\n<blockquote>\n<p>I want to just lock less</p>\n</blockquote>\n<p>Well then, switch to a more lenient isolation level - <code>READ COMMITED</code>, if your use case doesn't care about non-repeatable reads.</p>\n<p>Or, if there's little contention over DB rows and your update operations are relatively inexpensive, use optimistic locking, like @roccobaroccoSC suggested.</p>\n<p>Or, if contention changes dynamically, try a hybrid approach: first, try optimistic locking n times, and if that fails, use pessimistic locking, with upfront calls to <code>em.find(..., LockMode.PESSIMISTIC)</code>.</p>\n"},{"tags":[],"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1639366523,"creation_date":1639366523,"answer_id":70329676,"question_id":70294893,"body_markdown":"Your expectations about nonlocking reads are correct and documentation clearly states the same: https://dev.mysql.com/doc/refman/8.0/en/innodb-consistent-read.html, however I do believe that your analysis of the situation is incomplete - when you are performing tracing you might overlook some statements which look irrelevant for you, but from InnoDB perspective such statements might make sense, e.g. consider the following DB structure:\r\n\r\n```\r\nmysql&gt; create table t(id int(11), v int(11));\r\nQuery OK, 0 rows affected, 2 warnings (0.02 sec)\r\n\r\nmysql&gt; insert into t(id,v) primary key, values(1,1),(2,2);\r\nQuery OK, 2 rows affected (0.00 sec)\r\n\r\nmysql&gt; select * from t;\r\n+------+------+\r\n| id   | v    |\r\n+------+------+\r\n|    1 |    1 |\r\n|    2 |    2 |\r\n+------+------+\r\n2 rows in set (0.00 sec)\r\n```\r\n\r\nand the next statement actually locks the whole table due to &quot;missing&quot; index on `v` column:\r\n\r\n```\r\nmysql&gt; update t set v=4 where id&lt;2;\r\nQuery OK, 1 row affected (0.00 sec)\r\nRows matched: 1  Changed: 1  Warnings: 0\r\n\r\nmysql&gt; show engine innodb status;\r\n...\r\n---TRANSACTION 3672, ACTIVE 2 sec\r\n3 lock struct(s), heap size 1128, 2 row lock(s), undo log entries 1\r\n\r\n\r\n```\r\n\r\nwhich is counterintuitive for us, but described in documentation: https://dev.mysql.com/doc/refman/8.0/en/innodb-locks-set.html: \r\n\r\n&gt; UPDATE ... WHERE ... sets an exclusive next-key lock on every record\r\n&gt; the search encounters. However, only an index record lock is required\r\n&gt; for statements that lock rows using a unique index to search for a\r\n&gt; unique row.\r\n\r\n","title":"jpa hibernate deadlock with simple find + update","body":"<p>Your expectations about nonlocking reads are correct and documentation clearly states the same: <a href=\"https://dev.mysql.com/doc/refman/8.0/en/innodb-consistent-read.html\" rel=\"nofollow noreferrer\">https://dev.mysql.com/doc/refman/8.0/en/innodb-consistent-read.html</a>, however I do believe that your analysis of the situation is incomplete - when you are performing tracing you might overlook some statements which look irrelevant for you, but from InnoDB perspective such statements might make sense, e.g. consider the following DB structure:</p>\n<pre><code>mysql&gt; create table t(id int(11), v int(11));\nQuery OK, 0 rows affected, 2 warnings (0.02 sec)\n\nmysql&gt; insert into t(id,v) primary key, values(1,1),(2,2);\nQuery OK, 2 rows affected (0.00 sec)\n\nmysql&gt; select * from t;\n+------+------+\n| id   | v    |\n+------+------+\n|    1 |    1 |\n|    2 |    2 |\n+------+------+\n2 rows in set (0.00 sec)\n</code></pre>\n<p>and the next statement actually locks the whole table due to &quot;missing&quot; index on <code>v</code> column:</p>\n<pre><code>mysql&gt; update t set v=4 where id&lt;2;\nQuery OK, 1 row affected (0.00 sec)\nRows matched: 1  Changed: 1  Warnings: 0\n\nmysql&gt; show engine innodb status;\n...\n---TRANSACTION 3672, ACTIVE 2 sec\n3 lock struct(s), heap size 1128, 2 row lock(s), undo log entries 1\n\n\n</code></pre>\n<p>which is counterintuitive for us, but described in documentation: <a href=\"https://dev.mysql.com/doc/refman/8.0/en/innodb-locks-set.html\" rel=\"nofollow noreferrer\">https://dev.mysql.com/doc/refman/8.0/en/innodb-locks-set.html</a>:</p>\n<blockquote>\n<p>UPDATE ... WHERE ... sets an exclusive next-key lock on every record\nthe search encounters. However, only an index record lock is required\nfor statements that lock rows using a unique index to search for a\nunique row.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1075023,"reputation":521,"user_id":1073371,"accept_rate":71,"display_name":"castrogne"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654799982,"creation_date":1654799982,"answer_id":72565129,"question_id":70294893,"body_markdown":"That&#39;s exactly the trouble I get : A select and an update causing deadlock.\r\n\r\nI use SQL server 2019, which default isolation level is Read commited. What would be the less locking isolaltion level ? Read Uncommitted ? \r\n\r\nhttps://www.sqlservercentral.com/articles/isolation-levels-in-sql-server\r\n","title":"jpa hibernate deadlock with simple find + update","body":"<p>That's exactly the trouble I get : A select and an update causing deadlock.</p>\n<p>I use SQL server 2019, which default isolation level is Read commited. What would be the less locking isolaltion level ? Read Uncommitted ?</p>\n<p><a href=\"https://www.sqlservercentral.com/articles/isolation-levels-in-sql-server\" rel=\"nofollow noreferrer\">https://www.sqlservercentral.com/articles/isolation-levels-in-sql-server</a></p>\n"}],"owner":{"account_id":2303891,"reputation":1772,"user_id":2023577,"display_name":"user2023577"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2959,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1654799982,"creation_date":1639074230,"question_id":70294893,"body_markdown":"I&#39;m frequently having deadlock when 2 transactions are doing:\r\n* entitymanager.find by id, no lock mode in particular\r\n* entitymanager.merge, no lock mode in particular\r\n\r\nThey are all under @Transactional and the default isolation is repeatable read, under mysql 5.7. The entity as id PK autoincrement as commonly used. No @Version if that matters...\r\n\r\nWhat happens is this:\r\n1) txn A finds the row\r\n2) txn B finds the row\r\n3) txn A tries to update and thus escalate to an exclusive X lock but waits because there seems to be a shared (S) (read) lock on the row from txn B\r\n4) txn B tries to update and thus escalate to an exclusive X lock but it is after txn A, which is held back by B itself. Now this is detected as a deadlock so one of these txn will rollback.\r\n\r\nThe SHOW ENGINE INNODB STATUS (SEIS) reveals the last detected deadlock.\r\nIt clearly says there were shared (S) locks.\r\n\r\nThis is my SEIS from prod (with some relabelling for privacy).\r\n\r\n    *** (1) TRANSACTION:\r\n    TRANSACTION 175274419, ACTIVE 0 sec starting index read\r\n    mysql tables in use 1, locked 1\r\n    LOCK WAIT 8 lock struct(s), heap size 1136, 3 row lock(s), undo log entries 2\r\n    MySQL thread id 627088, OS thread handle 22952098592512, query id 365172765 192.168.1.100 mydatabase updating\r\n    \r\n    update thing set needs_checkup=0 where id=1129\r\n    \r\n    *** (1) WAITING FOR THIS LOCK TO BE GRANTED:\r\n    RECORD LOCKS space id 361 page no 25 n bits 144 index PRIMARY of table `mydatabase`.`thing` trx id 175274419 lock_mode X locks rec but not gap waiting\r\n    \r\n    \r\n    *** (2) TRANSACTION:\r\n    TRANSACTION 175274420, ACTIVE 0 sec starting index read\r\n    mysql tables in use 1, locked 1\r\n    8 lock struct(s), heap size 1136, 3 row lock(s), undo log entries 2\r\n    MySQL thread id 627077, OS thread handle 22952240928512, query id 365172766 192.168.1.100 mydatabase updating\r\n    \r\n    update thing set needs_checkup=0 where id=1129\r\n    \r\n    *** (2) HOLDS THE LOCK(S):\r\n    RECORD LOCKS space id 361 page no 25 n bits 144 index PRIMARY of table `mydatabase`.`thing` trx id 175274420 lock mode S locks rec but not gap\r\n     \r\n    *** (2) WAITING FOR THIS LOCK TO BE GRANTED:\r\n    RECORD LOCKS space id 361 page no 25 n bits 144 index PRIMARY of table `mydatabase`.`thing` trx id 175274420 lock_mode X locks rec but not gap waiting\r\n    \r\n    *** WE ROLL BACK TRANSACTION (2)\r\n    \r\n\r\nWhat is surprising: I enabled the hibernate DEBUG level on org.hibernate.SQL to see the  statements, and NONE of them show any &quot;select ... lock in share mode&quot; (nor select ... for update).\r\n\r\n(I&#39;ve gone the extra mile and packet-sniffed the mysql protocol over port 3306 with wireshark, and not a single hint of special locking mode, nor any session variable other than the usual &quot;set session transaction read write&quot; vs &quot;... read only&quot; from time to time, which has no effect on locking).\r\n\r\nThere is enough time between steps 1 and 3 obviously for txn B to sneak in. So I presume this shared lock is not a momentary effect of the update statement. We wouldn&#39;t get deadlocks that easily if that was the case. So I presume the shared lock comes from the &quot;find&quot;.\r\n\r\nThe question is **where is this configured**? \r\nFor all the docs I read, the default lock mode is LockMode.NONE.\r\n\r\nIf I write raw sql in 2 sessions, like below, (and using transaction read write mode, the default) I don&#39;t get the deadlock:\r\n1) txnA: select * from foo where id = 1;\r\n2) txnB: select * from foo where id = 1;\r\n3) txnA: update foo set x=x+1 where id = 1;\r\n4) txnB: update foo set x=x+1000 where id = 1;\r\n\r\nbut if I write this, then I get the same deadlock:\r\n1) txnA: select * from foo where id = 1 lock in share mode ;\r\n2) txnB: select * from foo where id = 1 lock in share mode ;\r\n3) txnA: update foo set x=x+1 where id = 1;\r\n4) txnB: update foo set x=x+1000 where id = 1;\r\n\r\nNow, I don&#39;t want to use a X (or U) lock in the find, as mentioned in https://stackoverflow.com/questions/22353327/how-do-update-locks-prevent-a-common-form-of-deadlock. \r\n\r\nI want to just lock less, as the raw SQL seems to allow.\r\nSo again, the question is **where is this configured? why is this shared lock requested? How does hibernate even get to that point if none of the sql statement I see in the sniffed packets even hint at those shared locks?** \r\n\r\nThanks.\r\n\r\n\r\n\r\n**UPDATE:**\r\n\r\nIn the last days, I&#39;ve examined the possibility for an unseen statement in the same transactions prior to the updates above.\r\n\r\na) I do have a foreign key of some child table row inserted and pointing to the &#39;thing&#39; row. The mysql doc does say something about shared locks on parent of FK. I tried and it didn&#39;t lock the parent for share. I still couldn&#39;t make the deadlock with those child inserts with &quot;raw&quot; instructions again. The child insert doesn&#39;t prevent a parent update (the parent &quot;thing&quot; table is the one having deadlocked statement, remember).\r\n\r\nb) I also read on unique keys. They mention something about the statement (failing the unique constraint) taking a shared lock. I&#39;m not clear on the steps to achieve that. While I&#39;m still investigating that, I though I should mention it in case that lights up someone&#39;s mind...\r\n\r\n","title":"jpa hibernate deadlock with simple find + update","body":"<p>I'm frequently having deadlock when 2 transactions are doing:</p>\n<ul>\n<li>entitymanager.find by id, no lock mode in particular</li>\n<li>entitymanager.merge, no lock mode in particular</li>\n</ul>\n<p>They are all under @Transactional and the default isolation is repeatable read, under mysql 5.7. The entity as id PK autoincrement as commonly used. No @Version if that matters...</p>\n<p>What happens is this:</p>\n<ol>\n<li>txn A finds the row</li>\n<li>txn B finds the row</li>\n<li>txn A tries to update and thus escalate to an exclusive X lock but waits because there seems to be a shared (S) (read) lock on the row from txn B</li>\n<li>txn B tries to update and thus escalate to an exclusive X lock but it is after txn A, which is held back by B itself. Now this is detected as a deadlock so one of these txn will rollback.</li>\n</ol>\n<p>The SHOW ENGINE INNODB STATUS (SEIS) reveals the last detected deadlock.\nIt clearly says there were shared (S) locks.</p>\n<p>This is my SEIS from prod (with some relabelling for privacy).</p>\n<pre><code>*** (1) TRANSACTION:\nTRANSACTION 175274419, ACTIVE 0 sec starting index read\nmysql tables in use 1, locked 1\nLOCK WAIT 8 lock struct(s), heap size 1136, 3 row lock(s), undo log entries 2\nMySQL thread id 627088, OS thread handle 22952098592512, query id 365172765 192.168.1.100 mydatabase updating\n\nupdate thing set needs_checkup=0 where id=1129\n\n*** (1) WAITING FOR THIS LOCK TO BE GRANTED:\nRECORD LOCKS space id 361 page no 25 n bits 144 index PRIMARY of table `mydatabase`.`thing` trx id 175274419 lock_mode X locks rec but not gap waiting\n\n\n*** (2) TRANSACTION:\nTRANSACTION 175274420, ACTIVE 0 sec starting index read\nmysql tables in use 1, locked 1\n8 lock struct(s), heap size 1136, 3 row lock(s), undo log entries 2\nMySQL thread id 627077, OS thread handle 22952240928512, query id 365172766 192.168.1.100 mydatabase updating\n\nupdate thing set needs_checkup=0 where id=1129\n\n*** (2) HOLDS THE LOCK(S):\nRECORD LOCKS space id 361 page no 25 n bits 144 index PRIMARY of table `mydatabase`.`thing` trx id 175274420 lock mode S locks rec but not gap\n \n*** (2) WAITING FOR THIS LOCK TO BE GRANTED:\nRECORD LOCKS space id 361 page no 25 n bits 144 index PRIMARY of table `mydatabase`.`thing` trx id 175274420 lock_mode X locks rec but not gap waiting\n\n*** WE ROLL BACK TRANSACTION (2)\n</code></pre>\n<p>What is surprising: I enabled the hibernate DEBUG level on org.hibernate.SQL to see the  statements, and NONE of them show any &quot;select ... lock in share mode&quot; (nor select ... for update).</p>\n<p>(I've gone the extra mile and packet-sniffed the mysql protocol over port 3306 with wireshark, and not a single hint of special locking mode, nor any session variable other than the usual &quot;set session transaction read write&quot; vs &quot;... read only&quot; from time to time, which has no effect on locking).</p>\n<p>There is enough time between steps 1 and 3 obviously for txn B to sneak in. So I presume this shared lock is not a momentary effect of the update statement. We wouldn't get deadlocks that easily if that was the case. So I presume the shared lock comes from the &quot;find&quot;.</p>\n<p>The question is <strong>where is this configured</strong>?\nFor all the docs I read, the default lock mode is LockMode.NONE.</p>\n<p>If I write raw sql in 2 sessions, like below, (and using transaction read write mode, the default) I don't get the deadlock:</p>\n<ol>\n<li>txnA: select * from foo where id = 1;</li>\n<li>txnB: select * from foo where id = 1;</li>\n<li>txnA: update foo set x=x+1 where id = 1;</li>\n<li>txnB: update foo set x=x+1000 where id = 1;</li>\n</ol>\n<p>but if I write this, then I get the same deadlock:</p>\n<ol>\n<li>txnA: select * from foo where id = 1 lock in share mode ;</li>\n<li>txnB: select * from foo where id = 1 lock in share mode ;</li>\n<li>txnA: update foo set x=x+1 where id = 1;</li>\n<li>txnB: update foo set x=x+1000 where id = 1;</li>\n</ol>\n<p>Now, I don't want to use a X (or U) lock in the find, as mentioned in <a href=\"https://stackoverflow.com/questions/22353327/how-do-update-locks-prevent-a-common-form-of-deadlock\">How do UPDATE locks prevent a common form of deadlock?</a>.</p>\n<p>I want to just lock less, as the raw SQL seems to allow.\nSo again, the question is <strong>where is this configured? why is this shared lock requested? How does hibernate even get to that point if none of the sql statement I see in the sniffed packets even hint at those shared locks?</strong></p>\n<p>Thanks.</p>\n<p><strong>UPDATE:</strong></p>\n<p>In the last days, I've examined the possibility for an unseen statement in the same transactions prior to the updates above.</p>\n<p>a) I do have a foreign key of some child table row inserted and pointing to the 'thing' row. The mysql doc does say something about shared locks on parent of FK. I tried and it didn't lock the parent for share. I still couldn't make the deadlock with those child inserts with &quot;raw&quot; instructions again. The child insert doesn't prevent a parent update (the parent &quot;thing&quot; table is the one having deadlocked statement, remember).</p>\n<p>b) I also read on unique keys. They mention something about the statement (failing the unique constraint) taking a shared lock. I'm not clear on the steps to achieve that. While I'm still investigating that, I though I should mention it in case that lights up someone's mind...</p>\n"},{"tags":["java","spring","annotations","spring-scheduled"],"comments":[{"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"score":0,"creation_date":1343031077,"post_id":11608531,"comment_id":15368308,"body_markdown":"related: http://stackoverflow.com/questions/6788811/taskscheduler-scheduled-and-quartz/6840970#6840970","body":"related: <a href=\"http://stackoverflow.com/questions/6788811/taskscheduler-scheduled-and-quartz/6840970#6840970\" title=\"taskscheduler scheduled and quartz\">stackoverflow.com/questions/6788811/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1343030922,"creation_date":1343030922,"answer_id":11608614,"question_id":11608531,"body_markdown":"Some spring annotations support SpEL.\r\n\r\nFirst:\r\n\r\n    &lt;context:property-placeholder\r\n        location=&quot;file:${external.config.location}/application.properties&quot; /&gt;\r\n\r\nAnd then, for example:\r\n\r\n    @Value(&quot;${delayValue}&quot;)\r\n    private int delayValue;\r\n\r\nI&#39;m not sure if `@Scheduled` supports SPeL, though, but in general, that&#39;s the approach.\r\n\r\nIn regard to scheduling, check this [post of mine][1] and [this related question][2]\r\n\r\n\r\n  [1]: http://techblog.bozho.net/?p=452\r\n  [2]: https://stackoverflow.com/questions/6788811/taskscheduler-scheduled-and-quartz/6840970#6840970","title":"Injecting externalized value into Spring annotation","body":"<p>Some spring annotations support SpEL.</p>\n\n<p>First:</p>\n\n<pre><code>&lt;context:property-placeholder\n    location=\"file:${external.config.location}/application.properties\" /&gt;\n</code></pre>\n\n<p>And then, for example:</p>\n\n<pre><code>@Value(\"${delayValue}\")\nprivate int delayValue;\n</code></pre>\n\n<p>I'm not sure if <code>@Scheduled</code> supports SPeL, though, but in general, that's the approach.</p>\n\n<p>In regard to scheduling, check this <a href=\"http://techblog.bozho.net/?p=452\" rel=\"nofollow noreferrer\">post of mine</a> and <a href=\"https://stackoverflow.com/questions/6788811/taskscheduler-scheduled-and-quartz/6840970#6840970\">this related question</a></p>\n"},{"tags":[],"owner":{"account_id":341781,"reputation":20847,"user_id":672586,"display_name":"gkamal"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1343031365,"creation_date":1343030925,"answer_id":11608615,"question_id":11608531,"body_markdown":"A better way to do this is to define the scheduling in xml using the task name space\r\n\r\n    &lt;context:property-placeholder location=&quot;scheduling.properties&quot;/&gt;\r\n    &lt;task:scheduled ref=&quot;someBean&quot; method=&quot;someMethod&quot; fixed-delay=&quot;${delayValue}&quot;/&gt;\r\n\r\n\r\nIf you for some reason want to do it with annotation, you need to create an annotation that has another optional attribute where you can specify the property name or better still a property placeholder expression or Spel expression.\r\n\r\n    @MyScheduled(fixedDelayString=&quot;${delay}&quot;)","title":"Injecting externalized value into Spring annotation","body":"<p>A better way to do this is to define the scheduling in xml using the task name space</p>\n\n<pre><code>&lt;context:property-placeholder location=\"scheduling.properties\"/&gt;\n&lt;task:scheduled ref=\"someBean\" method=\"someMethod\" fixed-delay=\"${delayValue}\"/&gt;\n</code></pre>\n\n<p>If you for some reason want to do it with annotation, you need to create an annotation that has another optional attribute where you can specify the property name or better still a property placeholder expression or Spel expression.</p>\n\n<pre><code>@MyScheduled(fixedDelayString=\"${delay}\")\n</code></pre>\n"},{"tags":[],"owner":{"account_id":100622,"reputation":3010,"user_id":271149,"accept_rate":90,"display_name":"quantum"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1343385581,"creation_date":1343385581,"answer_id":11686184,"question_id":11608531,"body_markdown":"Thank you both for your answers, you have provided valuable info which led me to this solution, so I upvoted both answers.\r\n\r\nI&#39;ve opted to make a custom bean post processor and custom `@Scheduled` annotation.\r\n\r\nThe code is simple (essentially it is a trivial adaptation of existing Spring code) and I really wonder why they didn&#39;t do it like this from the get go. `BeanPostProcessor`&#39;s code count is effectively doubled since I chose to handle the old annotation and the new one.\r\n\r\nIf you have any suggestion on how to improve this code, I&#39;ll be glad to hear it out.\r\n\r\n\r\n**CustomScheduled** class (annotation)\r\n\r\n    @Target({ElementType.METHOD, ElementType.ANNOTATION_TYPE})\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @Documented\r\n    public @interface CustomScheduled {\r\n    \r\n    \tString cron() default &quot;&quot;;\r\n    \r\n    \tString fixedDelay() default &quot;&quot;;\r\n    \r\n    \tString fixedRate() default &quot;&quot;;\r\n    }\r\n\r\n**CustomScheduledAnnotationBeanPostProcessor** class\r\n\r\n    public class CustomScheduledAnnotationBeanPostProcessor implements BeanPostProcessor, Ordered, EmbeddedValueResolverAware, ApplicationContextAware,\tApplicationListener&lt;ContextRefreshedEvent&gt;, DisposableBean \r\n    {\r\n       \tprivate static final Logger LOG = LoggerFactory.getLogger(CustomScheduledAnnotationBeanPostProcessor.class);\r\n    \t\r\n    \t// omitted code is the same as in ScheduledAnnotationBeanPostProcessor......\r\n    \r\n    \tpublic Object postProcessBeforeInitialization(Object bean, String beanName) throws BeansException {\r\n    \t\treturn bean;\r\n    \t}\r\n    \r\n    \t// processes both @Scheduled and @CustomScheduled annotations\r\n    \tpublic Object postProcessAfterInitialization(final Object bean, String beanName) throws BeansException {\r\n    \t\tfinal Class&lt;?&gt; targetClass = AopUtils.getTargetClass(bean);\r\n    \t\tReflectionUtils.doWithMethods(targetClass, new MethodCallback() {\r\n    \t\t\tpublic void doWith(Method method) throws IllegalArgumentException, IllegalAccessException {\r\n    \t\t\t\t\r\n    \t\t\t\tScheduled oldScheduledAnnotation = AnnotationUtils.getAnnotation(method, Scheduled.class);\r\n    \t\t\t\tif (oldScheduledAnnotation != null) {\r\n    \t\t\t\t\tLOG.info(&quot;@Scheduled found at method {}&quot;, method.getName());\r\n    \t\t\t\t\tAssert.isTrue(void.class.equals(method.getReturnType()), &quot;Only void-returning methods may be annotated with @Scheduled.&quot;);\r\n    \t\t\t\t\tAssert.isTrue(method.getParameterTypes().length == 0, &quot;Only no-arg methods may be annotated with @Scheduled.&quot;);\r\n    \t\t\t\t\tif (AopUtils.isJdkDynamicProxy(bean)) {\r\n    \t\t\t\t\t\ttry {\r\n    \t\t\t\t\t\t\t// found a @Scheduled method on the target class for this JDK proxy -&gt; is it\r\n    \t\t\t\t\t\t\t// also present on the proxy itself?\r\n    \t\t\t\t\t\t\tmethod = bean.getClass().getMethod(method.getName(), method.getParameterTypes());\r\n    \t\t\t\t\t\t} catch (SecurityException ex) {\r\n    \t\t\t\t\t\t\tReflectionUtils.handleReflectionException(ex);\r\n    \t\t\t\t\t\t} catch (NoSuchMethodException ex) {\r\n    \t\t\t\t\t\t\tthrow new IllegalStateException(String.format(\r\n    \t\t\t\t\t\t\t\t\t&quot;@Scheduled method &#39;%s&#39; found on bean target class &#39;%s&#39;, &quot; +\r\n    \t\t\t\t\t\t\t\t\t&quot;but not found in any interface(s) for bean JDK proxy. Either &quot; +\r\n    \t\t\t\t\t\t\t\t\t&quot;pull the method up to an interface or switch to subclass (CGLIB) &quot; +\r\n    \t\t\t\t\t\t\t\t\t&quot;proxies by setting proxy-target-class/proxyTargetClass &quot; +\r\n    \t\t\t\t\t\t\t\t\t&quot;attribute to &#39;true&#39;&quot;, method.getName(), targetClass.getSimpleName()));\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\tRunnable runnable = new ScheduledMethodRunnable(bean, method);\r\n    \t\t\t\t\tboolean processedSchedule = false;\r\n    \t\t\t\t\tString errorMessage = &quot;Exactly one of &#39;cron&#39;, &#39;fixedDelay&#39;, or &#39;fixedRate&#39; is required.&quot;;\r\n    \t\t\t\t\tString cron = oldScheduledAnnotation.cron();\r\n    \t\t\t\t\tif (!&quot;&quot;.equals(cron)) {\r\n    \t\t\t\t\t\tprocessedSchedule = true;\r\n    \t\t\t\t\t\tif (embeddedValueResolver != null) {\r\n    \t\t\t\t\t\t\tcron = embeddedValueResolver.resolveStringValue(cron);\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t\tcronTasks.put(runnable, cron);\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\tlong fixedDelay = oldScheduledAnnotation.fixedDelay();\r\n    \t\t\t\t\tif (fixedDelay &gt;= 0) {\r\n    \t\t\t\t\t\tAssert.isTrue(!processedSchedule, errorMessage);\r\n    \t\t\t\t\t\tprocessedSchedule = true;\r\n    \t\t\t\t\t\tfixedDelayTasks.put(runnable, fixedDelay);\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\tlong fixedRate = oldScheduledAnnotation.fixedRate();\r\n    \t\t\t\t\tif (fixedRate &gt;= 0) {\r\n    \t\t\t\t\t\tAssert.isTrue(!processedSchedule, errorMessage);\r\n    \t\t\t\t\t\tprocessedSchedule = true;\r\n    \t\t\t\t\t\tfixedRateTasks.put(runnable, fixedRate);\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\tAssert.isTrue(processedSchedule, errorMessage);\r\n    \t\t\t\t}\r\n    \t\t\t\t\r\n    \t\t\t\tCustomScheduled newScheduledAnnotation = AnnotationUtils.getAnnotation(method, CustomScheduled.class);\r\n    \t\t\t\tif (newScheduledAnnotation != null) {\r\n    \t\t\t\t\tLOG.info(&quot;@CustomScheduled found at method {}&quot;, method.getName());\r\n    \t\t\t\t\tAssert.isTrue(void.class.equals(method.getReturnType()), &quot;Only void-returning methods may be annotated with @CustomScheduled.&quot;);\r\n    \t\t\t\t\tAssert.isTrue(method.getParameterTypes().length == 0, &quot;Only no-arg methods may be annotated with @CustomScheduled.&quot;);\r\n    \t\t\t\t\tif (AopUtils.isJdkDynamicProxy(bean)) {\r\n    \t\t\t\t\t\ttry {\r\n    \t\t\t\t\t\t\t// found a @CustomScheduled method on the target class for this JDK proxy -&gt; is it\r\n    \t\t\t\t\t\t\t// also present on the proxy itself?\r\n    \t\t\t\t\t\t\tmethod = bean.getClass().getMethod(method.getName(), method.getParameterTypes());\r\n    \t\t\t\t\t\t} catch (SecurityException ex) {\r\n    \t\t\t\t\t\t\tReflectionUtils.handleReflectionException(ex);\r\n    \t\t\t\t\t\t} catch (NoSuchMethodException ex) {\r\n    \t\t\t\t\t\t\tthrow new IllegalStateException(String.format(&quot;@CustomScheduled method &#39;%s&#39; found on bean target class &#39;%s&#39;, &quot;\r\n    \t\t\t\t\t\t\t\t\t+ &quot;but not found in any interface(s) for bean JDK proxy. Either &quot;\r\n    \t\t\t\t\t\t\t\t\t+ &quot;pull the method up to an interface or switch to subclass (CGLIB) &quot;\r\n    \t\t\t\t\t\t\t\t\t+ &quot;proxies by setting proxy-target-class/proxyTargetClass &quot; + &quot;attribute to &#39;true&#39;&quot;, method.getName(),\r\n    \t\t\t\t\t\t\t\t\ttargetClass.getSimpleName()));\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\t\r\n    \t\t\t\t\tRunnable runnable = new ScheduledMethodRunnable(bean, method);\r\n    \t\t\t\t\tboolean processedSchedule = false;\r\n    \t\t\t\t\tString errorMessage = &quot;Exactly one of &#39;cron&#39;, &#39;fixedDelay&#39;, or &#39;fixedRate&#39; is required.&quot;;\r\n    \t\t\t\t\t\r\n    \t\t\t\t\tboolean numberFormatException = false;\r\n    \t\t\t\t\tString numberFormatErrorMessage = &quot;Delay value is not a number!&quot;;\r\n    \t\t\t\t\t\r\n    \t\t\t\t\tString cron = newScheduledAnnotation.cron();\r\n    \t\t\t\t\tif (!&quot;&quot;.equals(cron)) {\r\n    \t\t\t\t\t\tprocessedSchedule = true;\r\n    \t\t\t\t\t\tif (embeddedValueResolver != null) {\r\n    \t\t\t\t\t\t\tcron = embeddedValueResolver.resolveStringValue(cron);\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t\tcronTasks.put(runnable, cron);\r\n    \t\t\t\t\t\tLOG.info(&quot;Put cron in tasks map with value {}&quot;, cron);\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\t\r\n    \t\t\t\t\t// fixedDelay value resolving\r\n    \t\t\t\t\tLong fixedDelay = null;\r\n    \t\t\t\t\tString resolverDelayCandidate = newScheduledAnnotation.fixedDelay();\r\n    \t\t\t\t\tif (!&quot;&quot;.equals(resolverDelayCandidate)) {\r\n    \t\t\t\t\t\ttry {\r\n    \t\t\t\t\t\t\tif (embeddedValueResolver != null) {\r\n    \t\t\t\t\t\t\t\tresolverDelayCandidate = embeddedValueResolver.resolveStringValue(resolverDelayCandidate);\r\n    \t\t\t\t\t\t\t\tfixedDelay = Long.valueOf(resolverDelayCandidate);\r\n    \t\t\t\t\t\t\t} else {\r\n    \t\t\t\t\t\t\t\tfixedDelay = Long.valueOf(newScheduledAnnotation.fixedDelay());\r\n    \t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t} catch (NumberFormatException e) {\r\n    \t\t\t\t\t\t\tnumberFormatException = true;\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\t\r\n    \t\t\t\t\tAssert.isTrue(!numberFormatException, numberFormatErrorMessage);\r\n    \t\t\t\t\t\r\n    \t\t\t\t\tif (fixedDelay != null &amp;&amp; fixedDelay &gt;= 0) {\r\n    \t\t\t\t\t\tAssert.isTrue(!processedSchedule, errorMessage);\r\n    \t\t\t\t\t\tprocessedSchedule = true;\r\n    \t\t\t\t\t\tfixedDelayTasks.put(runnable, fixedDelay);\r\n    \t\t\t\t\t\tLOG.info(&quot;Put fixedDelay in tasks map with value {}&quot;, fixedDelay);\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\t\r\n    \t\t\t\t\t// fixedRate value resolving\r\n    \t\t\t\t\tLong fixedRate = null;\r\n    \t\t\t\t\tString resolverRateCandidate = newScheduledAnnotation.fixedRate();\r\n    \t\t\t\t\tif (!&quot;&quot;.equals(resolverRateCandidate)) {\r\n    \t\t\t\t\t\ttry {\r\n    \t\t\t\t\t\t\tif (embeddedValueResolver != null) {\r\n    \t\t\t\t\t\t\t\tfixedRate = Long.valueOf(embeddedValueResolver.resolveStringValue(resolverRateCandidate));\r\n    \t\t\t\t\t\t\t} else {\r\n    \t\t\t\t\t\t\t\tfixedRate = Long.valueOf(newScheduledAnnotation.fixedRate());\r\n    \t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t} catch (NumberFormatException e) {\r\n    \t\t\t\t\t\t\tnumberFormatException = true;\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\t\r\n    \t\t\t\t\tAssert.isTrue(!numberFormatException, numberFormatErrorMessage);\r\n    \t\t\t\t\t\r\n    \t\t\t\t\tif (fixedRate != null &amp;&amp; fixedRate &gt;= 0) {\r\n    \t\t\t\t\t\tAssert.isTrue(!processedSchedule, errorMessage);\r\n    \t\t\t\t\t\tprocessedSchedule = true;\r\n    \t\t\t\t\t\tfixedRateTasks.put(runnable, fixedRate);\r\n    \t\t\t\t\t\tLOG.info(&quot;Put fixedRate in tasks map with value {}&quot;, fixedRate);\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\tAssert.isTrue(processedSchedule, errorMessage);\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t});\r\n    \t\treturn bean;\r\n    \t}\r\n    }\r\n\r\n\r\n**spring-context.xml** config file\r\n\r\n    &lt;beans...&gt;\r\n       \t&lt;!-- Enables the use of a @CustomScheduled annotation--&gt;\r\n    \t&lt;bean class=&quot;org.package.CustomScheduledAnnotationBeanPostProcessor&quot; /&gt;\r\n    &lt;/beans&gt;","title":"Injecting externalized value into Spring annotation","body":"<p>Thank you both for your answers, you have provided valuable info which led me to this solution, so I upvoted both answers.</p>\n\n<p>I've opted to make a custom bean post processor and custom <code>@Scheduled</code> annotation.</p>\n\n<p>The code is simple (essentially it is a trivial adaptation of existing Spring code) and I really wonder why they didn't do it like this from the get go. <code>BeanPostProcessor</code>'s code count is effectively doubled since I chose to handle the old annotation and the new one.</p>\n\n<p>If you have any suggestion on how to improve this code, I'll be glad to hear it out.</p>\n\n<p><strong>CustomScheduled</strong> class (annotation)</p>\n\n<pre><code>@Target({ElementType.METHOD, ElementType.ANNOTATION_TYPE})\n@Retention(RetentionPolicy.RUNTIME)\n@Documented\npublic @interface CustomScheduled {\n\n    String cron() default \"\";\n\n    String fixedDelay() default \"\";\n\n    String fixedRate() default \"\";\n}\n</code></pre>\n\n<p><strong>CustomScheduledAnnotationBeanPostProcessor</strong> class</p>\n\n<pre><code>public class CustomScheduledAnnotationBeanPostProcessor implements BeanPostProcessor, Ordered, EmbeddedValueResolverAware, ApplicationContextAware, ApplicationListener&lt;ContextRefreshedEvent&gt;, DisposableBean \n{\n    private static final Logger LOG = LoggerFactory.getLogger(CustomScheduledAnnotationBeanPostProcessor.class);\n\n    // omitted code is the same as in ScheduledAnnotationBeanPostProcessor......\n\n    public Object postProcessBeforeInitialization(Object bean, String beanName) throws BeansException {\n        return bean;\n    }\n\n    // processes both @Scheduled and @CustomScheduled annotations\n    public Object postProcessAfterInitialization(final Object bean, String beanName) throws BeansException {\n        final Class&lt;?&gt; targetClass = AopUtils.getTargetClass(bean);\n        ReflectionUtils.doWithMethods(targetClass, new MethodCallback() {\n            public void doWith(Method method) throws IllegalArgumentException, IllegalAccessException {\n\n                Scheduled oldScheduledAnnotation = AnnotationUtils.getAnnotation(method, Scheduled.class);\n                if (oldScheduledAnnotation != null) {\n                    LOG.info(\"@Scheduled found at method {}\", method.getName());\n                    Assert.isTrue(void.class.equals(method.getReturnType()), \"Only void-returning methods may be annotated with @Scheduled.\");\n                    Assert.isTrue(method.getParameterTypes().length == 0, \"Only no-arg methods may be annotated with @Scheduled.\");\n                    if (AopUtils.isJdkDynamicProxy(bean)) {\n                        try {\n                            // found a @Scheduled method on the target class for this JDK proxy -&gt; is it\n                            // also present on the proxy itself?\n                            method = bean.getClass().getMethod(method.getName(), method.getParameterTypes());\n                        } catch (SecurityException ex) {\n                            ReflectionUtils.handleReflectionException(ex);\n                        } catch (NoSuchMethodException ex) {\n                            throw new IllegalStateException(String.format(\n                                    \"@Scheduled method '%s' found on bean target class '%s', \" +\n                                    \"but not found in any interface(s) for bean JDK proxy. Either \" +\n                                    \"pull the method up to an interface or switch to subclass (CGLIB) \" +\n                                    \"proxies by setting proxy-target-class/proxyTargetClass \" +\n                                    \"attribute to 'true'\", method.getName(), targetClass.getSimpleName()));\n                        }\n                    }\n                    Runnable runnable = new ScheduledMethodRunnable(bean, method);\n                    boolean processedSchedule = false;\n                    String errorMessage = \"Exactly one of 'cron', 'fixedDelay', or 'fixedRate' is required.\";\n                    String cron = oldScheduledAnnotation.cron();\n                    if (!\"\".equals(cron)) {\n                        processedSchedule = true;\n                        if (embeddedValueResolver != null) {\n                            cron = embeddedValueResolver.resolveStringValue(cron);\n                        }\n                        cronTasks.put(runnable, cron);\n                    }\n                    long fixedDelay = oldScheduledAnnotation.fixedDelay();\n                    if (fixedDelay &gt;= 0) {\n                        Assert.isTrue(!processedSchedule, errorMessage);\n                        processedSchedule = true;\n                        fixedDelayTasks.put(runnable, fixedDelay);\n                    }\n                    long fixedRate = oldScheduledAnnotation.fixedRate();\n                    if (fixedRate &gt;= 0) {\n                        Assert.isTrue(!processedSchedule, errorMessage);\n                        processedSchedule = true;\n                        fixedRateTasks.put(runnable, fixedRate);\n                    }\n                    Assert.isTrue(processedSchedule, errorMessage);\n                }\n\n                CustomScheduled newScheduledAnnotation = AnnotationUtils.getAnnotation(method, CustomScheduled.class);\n                if (newScheduledAnnotation != null) {\n                    LOG.info(\"@CustomScheduled found at method {}\", method.getName());\n                    Assert.isTrue(void.class.equals(method.getReturnType()), \"Only void-returning methods may be annotated with @CustomScheduled.\");\n                    Assert.isTrue(method.getParameterTypes().length == 0, \"Only no-arg methods may be annotated with @CustomScheduled.\");\n                    if (AopUtils.isJdkDynamicProxy(bean)) {\n                        try {\n                            // found a @CustomScheduled method on the target class for this JDK proxy -&gt; is it\n                            // also present on the proxy itself?\n                            method = bean.getClass().getMethod(method.getName(), method.getParameterTypes());\n                        } catch (SecurityException ex) {\n                            ReflectionUtils.handleReflectionException(ex);\n                        } catch (NoSuchMethodException ex) {\n                            throw new IllegalStateException(String.format(\"@CustomScheduled method '%s' found on bean target class '%s', \"\n                                    + \"but not found in any interface(s) for bean JDK proxy. Either \"\n                                    + \"pull the method up to an interface or switch to subclass (CGLIB) \"\n                                    + \"proxies by setting proxy-target-class/proxyTargetClass \" + \"attribute to 'true'\", method.getName(),\n                                    targetClass.getSimpleName()));\n                        }\n                    }\n\n                    Runnable runnable = new ScheduledMethodRunnable(bean, method);\n                    boolean processedSchedule = false;\n                    String errorMessage = \"Exactly one of 'cron', 'fixedDelay', or 'fixedRate' is required.\";\n\n                    boolean numberFormatException = false;\n                    String numberFormatErrorMessage = \"Delay value is not a number!\";\n\n                    String cron = newScheduledAnnotation.cron();\n                    if (!\"\".equals(cron)) {\n                        processedSchedule = true;\n                        if (embeddedValueResolver != null) {\n                            cron = embeddedValueResolver.resolveStringValue(cron);\n                        }\n                        cronTasks.put(runnable, cron);\n                        LOG.info(\"Put cron in tasks map with value {}\", cron);\n                    }\n\n                    // fixedDelay value resolving\n                    Long fixedDelay = null;\n                    String resolverDelayCandidate = newScheduledAnnotation.fixedDelay();\n                    if (!\"\".equals(resolverDelayCandidate)) {\n                        try {\n                            if (embeddedValueResolver != null) {\n                                resolverDelayCandidate = embeddedValueResolver.resolveStringValue(resolverDelayCandidate);\n                                fixedDelay = Long.valueOf(resolverDelayCandidate);\n                            } else {\n                                fixedDelay = Long.valueOf(newScheduledAnnotation.fixedDelay());\n                            }\n                        } catch (NumberFormatException e) {\n                            numberFormatException = true;\n                        }\n                    }\n\n                    Assert.isTrue(!numberFormatException, numberFormatErrorMessage);\n\n                    if (fixedDelay != null &amp;&amp; fixedDelay &gt;= 0) {\n                        Assert.isTrue(!processedSchedule, errorMessage);\n                        processedSchedule = true;\n                        fixedDelayTasks.put(runnable, fixedDelay);\n                        LOG.info(\"Put fixedDelay in tasks map with value {}\", fixedDelay);\n                    }\n\n                    // fixedRate value resolving\n                    Long fixedRate = null;\n                    String resolverRateCandidate = newScheduledAnnotation.fixedRate();\n                    if (!\"\".equals(resolverRateCandidate)) {\n                        try {\n                            if (embeddedValueResolver != null) {\n                                fixedRate = Long.valueOf(embeddedValueResolver.resolveStringValue(resolverRateCandidate));\n                            } else {\n                                fixedRate = Long.valueOf(newScheduledAnnotation.fixedRate());\n                            }\n                        } catch (NumberFormatException e) {\n                            numberFormatException = true;\n                        }\n                    }\n\n                    Assert.isTrue(!numberFormatException, numberFormatErrorMessage);\n\n                    if (fixedRate != null &amp;&amp; fixedRate &gt;= 0) {\n                        Assert.isTrue(!processedSchedule, errorMessage);\n                        processedSchedule = true;\n                        fixedRateTasks.put(runnable, fixedRate);\n                        LOG.info(\"Put fixedRate in tasks map with value {}\", fixedRate);\n                    }\n                    Assert.isTrue(processedSchedule, errorMessage);\n                }\n            }\n        });\n        return bean;\n    }\n}\n</code></pre>\n\n<p><strong>spring-context.xml</strong> config file</p>\n\n<pre><code>&lt;beans...&gt;\n    &lt;!-- Enables the use of a @CustomScheduled annotation--&gt;\n    &lt;bean class=\"org.package.CustomScheduledAnnotationBeanPostProcessor\" /&gt;\n&lt;/beans&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2745949,"reputation":5806,"user_id":2366359,"display_name":"Mark-A"},"down_vote_count":0,"up_vote_count":88,"is_accepted":true,"score":88,"last_activity_date":1368108869,"creation_date":1368108869,"answer_id":16463900,"question_id":11608531,"body_markdown":"The `@Scheduled` annotation in Spring v3.2.2 has added String parameters to the original 3 long parameters to handle this. `fixedDelayString`, `fixedRateString` and `initialDelayString` are now available too:\r\n\r\n     @Scheduled(fixedDelayString = &quot;${my.delay.property}&quot;)\r\n     public void someMethod(){\r\n            // perform something\r\n     }","title":"Injecting externalized value into Spring annotation","body":"<p>The <code>@Scheduled</code> annotation in Spring v3.2.2 has added String parameters to the original 3 long parameters to handle this. <code>fixedDelayString</code>, <code>fixedRateString</code> and <code>initialDelayString</code> are now available too:</p>\n\n<pre><code> @Scheduled(fixedDelayString = \"${my.delay.property}\")\n public void someMethod(){\n        // perform something\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2481329,"reputation":76,"user_id":2160751,"display_name":"selins sofa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1541147483,"creation_date":1541147483,"answer_id":53115072,"question_id":11608531,"body_markdown":"If you want to make this work with annotation rather than bean configuration xml, you can use the following annotations: @Component, @PropertySource with PropertySourcesPlaceholderConfigurer Bean itself, like this:\r\n\r\n    @Component\r\n    @PropertySource({ &quot;classpath:scheduling.properties&quot; })\r\n    public class SomeClass {\r\n        \r\n        @Scheduled(fixedDelay = &quot;${delay}&quot;)\r\n        public void someMethod(){\r\n            // perform something\r\n        }\r\n\r\n        @Bean\r\n        public static PropertySourcesPlaceholderConfigurer placeHolderConfigurer() {\r\n\t\t    return new PropertySourcesPlaceholderConfigurer();\r\n        }\t\r\n    }","title":"Injecting externalized value into Spring annotation","body":"<p>If you want to make this work with annotation rather than bean configuration xml, you can use the following annotations: @Component, @PropertySource with PropertySourcesPlaceholderConfigurer Bean itself, like this:</p>\n\n<pre><code>@Component\n@PropertySource({ \"classpath:scheduling.properties\" })\npublic class SomeClass {\n\n    @Scheduled(fixedDelay = \"${delay}\")\n    public void someMethod(){\n        // perform something\n    }\n\n    @Bean\n    public static PropertySourcesPlaceholderConfigurer placeHolderConfigurer() {\n        return new PropertySourcesPlaceholderConfigurer();\n    }   \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11885668,"reputation":729,"user_id":8698137,"display_name":"Shadyar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654799568,"creation_date":1654674744,"answer_id":72541974,"question_id":11608531,"body_markdown":"We can use a field value from other beans. Suppose we have a bean named someBean with a field someValue equal to 10. Then, 10 will be assigned to the field:\r\n```\r\n    @Value(&quot;#{someBean.someValue}&quot;)  \r\n    private Integer someBeanValue;  \r\n```\r\nReference: [A Quick Guide to Spring @Value - Baeldung ](https://www.baeldung.com/spring-value-annotation)","title":"Injecting externalized value into Spring annotation","body":"<p>We can use a field value from other beans. Suppose we have a bean named someBean with a field someValue equal to 10. Then, 10 will be assigned to the field:</p>\n<pre><code>    @Value(&quot;#{someBean.someValue}&quot;)  \n    private Integer someBeanValue;  \n</code></pre>\n<p>Reference: <a href=\"https://www.baeldung.com/spring-value-annotation\" rel=\"nofollow noreferrer\">A Quick Guide to Spring @Value - Baeldung </a></p>\n"}],"owner":{"account_id":100622,"reputation":3010,"user_id":271149,"accept_rate":90,"display_name":"quantum"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57060,"favorite_count":0,"down_vote_count":0,"up_vote_count":34,"accepted_answer_id":16463900,"answer_count":6,"score":34,"last_activity_date":1654799568,"creation_date":1343030595,"question_id":11608531,"body_markdown":"I&#39;ve been thinking around the Java feature that evaluates annotation values in compile-time and it seems to really make difficult externalizing annotation values.\r\n\r\nHowever, I am unsure whether it is actually impossible, so I&#39;d appreciate any suggestions or definitive answers on this.\r\n\r\nMore to the point, I am trying to externalize an annotation value which controls delays between scheduled method calls in Spring, e.g.:\r\n\r\n\r\n    public class SomeClass {\r\n\r\n        private Properties props;\r\n        private static final long delay = 0;\r\n\r\n        @PostConstruct\r\n        public void initializeBean() {\r\n            Resource resource = new ClassPathResource(&quot;scheduling.properties&quot;);\r\n            props = PropertiesLoaderUtils.loadProperties(resource);\r\n            delay = props.getProperties(&quot;delayValue&quot;);\r\n        }\r\n\r\n        @Scheduled(fixedDelay = delay)\r\n        public void someMethod(){\r\n            // perform something\r\n        }\r\n    }\r\n\r\nSuppose that `scheduling.properties` is on classpath and contains property key `delayValue` along with its corresponding long value.\r\n\r\nNow, this code has obvious compilation errors since we&#39;re trying to assign a value to `final` variable, but that is mandatory, since we can&#39;t assign the variable to annotation value, unless it is `static final`.\r\n\r\nIs there any way of getting around this? I&#39;ve been thinking about Spring&#39;s custom annotations, but the root issue remains - how to assign the externalized value to annotation?\r\n\r\nAny idea is welcome.\r\n\r\nEDIT: A small update - Quartz integration is overkill for this example. We just need a periodic execution with sub-minute resolution and that&#39;s all.","title":"Injecting externalized value into Spring annotation","body":"<p>I've been thinking around the Java feature that evaluates annotation values in compile-time and it seems to really make difficult externalizing annotation values.</p>\n\n<p>However, I am unsure whether it is actually impossible, so I'd appreciate any suggestions or definitive answers on this.</p>\n\n<p>More to the point, I am trying to externalize an annotation value which controls delays between scheduled method calls in Spring, e.g.:</p>\n\n<pre><code>public class SomeClass {\n\n    private Properties props;\n    private static final long delay = 0;\n\n    @PostConstruct\n    public void initializeBean() {\n        Resource resource = new ClassPathResource(\"scheduling.properties\");\n        props = PropertiesLoaderUtils.loadProperties(resource);\n        delay = props.getProperties(\"delayValue\");\n    }\n\n    @Scheduled(fixedDelay = delay)\n    public void someMethod(){\n        // perform something\n    }\n}\n</code></pre>\n\n<p>Suppose that <code>scheduling.properties</code> is on classpath and contains property key <code>delayValue</code> along with its corresponding long value.</p>\n\n<p>Now, this code has obvious compilation errors since we're trying to assign a value to <code>final</code> variable, but that is mandatory, since we can't assign the variable to annotation value, unless it is <code>static final</code>.</p>\n\n<p>Is there any way of getting around this? I've been thinking about Spring's custom annotations, but the root issue remains - how to assign the externalized value to annotation?</p>\n\n<p>Any idea is welcome.</p>\n\n<p>EDIT: A small update - Quartz integration is overkill for this example. We just need a periodic execution with sub-minute resolution and that's all.</p>\n"},{"tags":["java","android","json","number-formatting","stringbuilder"],"comments":[{"owner":{"account_id":5012123,"reputation":13192,"user_id":4028085,"display_name":"brso05"},"score":0,"creation_date":1429292449,"post_id":29705973,"comment_id":47547539,"body_markdown":"`jsonStringBuilder.append(&quot;, &quot;)`","body":"<code>jsonStringBuilder.append(&quot;, &quot;)</code>"}],"answers":[{"tags":[],"owner":{"account_id":6115978,"reputation":2219,"user_id":4771017,"accept_rate":75,"display_name":"CubeJockey"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1429292477,"creation_date":1429292477,"answer_id":29706021,"question_id":29705973,"body_markdown":"Try something like\r\n\r\n    jsonStringBuilder.append(product.getString(TAG_LATITUDE) + &quot;, &quot;);\r\n\r\nAlternatively, you can precede your longitude instead:\r\n\r\n    jsonStringBuilder.append(&quot;, &quot; + product.getString(TAG_LONGITUDE));","title":"Append a comma with StringBuilder","body":"<p>Try something like</p>\n\n<pre><code>jsonStringBuilder.append(product.getString(TAG_LATITUDE) + \", \");\n</code></pre>\n\n<p>Alternatively, you can precede your longitude instead:</p>\n\n<pre><code>jsonStringBuilder.append(\", \" + product.getString(TAG_LONGITUDE));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3926928,"reputation":850,"user_id":3248527,"display_name":"Sanj"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1429293152,"creation_date":1429292510,"answer_id":29706034,"question_id":29705973,"body_markdown":"That line.separator after get the latitude will put a new line after it, I do not think you want that.\r\n\r\nTo add the comma just do another append.\r\n\r\nOnly need one try/catch block on failure.\r\n\r\n    StringBuilder jsonStringBuilder = new StringBuilder(); \r\n\r\n    // display profile data in EditText\r\n    try \r\n    {\r\n        jsonStringBuilder.append(product.getString(TAG_LATITUDE));\r\n        jsonStringBuilder.append(&quot;, &quot;);                                \r\n        jsonStringBuilder.append(product.getString(TAG_LONGITUDE));\r\n        lblDummyLocation.setText(jsonStringBuilder.toString());            \r\n    } \r\n    catch (JSONException e) \r\n    {\r\n        e.printStackTrace(); // use a logger for this ideally\r\n        lblDummyLocation.setText(&quot;Failed to get co-ordinates&quot;);            \r\n    }\r\n    ","title":"Append a comma with StringBuilder","body":"<p>That line.separator after get the latitude will put a new line after it, I do not think you want that.</p>\n\n<p>To add the comma just do another append.</p>\n\n<p>Only need one try/catch block on failure.</p>\n\n<pre><code>StringBuilder jsonStringBuilder = new StringBuilder(); \n\n// display profile data in EditText\ntry \n{\n    jsonStringBuilder.append(product.getString(TAG_LATITUDE));\n    jsonStringBuilder.append(\", \");                                \n    jsonStringBuilder.append(product.getString(TAG_LONGITUDE));\n    lblDummyLocation.setText(jsonStringBuilder.toString());            \n} \ncatch (JSONException e) \n{\n    e.printStackTrace(); // use a logger for this ideally\n    lblDummyLocation.setText(\"Failed to get co-ordinates\");            \n}\n</code></pre>\n"}],"owner":{"account_id":5918235,"reputation":367,"user_id":4656324,"accept_rate":88,"display_name":"Ankhit Sharma"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13231,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":29706034,"answer_count":2,"score":2,"last_activity_date":1654799414,"creation_date":1429292268,"question_id":29705973,"body_markdown":"I&#39;ve got a small problem, my code works and sends me the output of a longitude and latitude. I would simply like a comma and space to separate the value in the textview. I do not want a line separator. \r\n\r\nWhat I get: 32.67543-55.986454\r\n\r\nWhat I want: 32.67543, -55.986454 (comma and space)\r\n\r\nAny ideas?\r\n\r\nCode:\r\n\r\n\r\n    /**\r\n     * After completing background task Dismiss the progress dialog\r\n     * *\r\n     */\r\n    protected void onPostExecute(JSONObject product) {\r\n        if (product != null) {\r\n            // product with this pid found\r\n            // Edit Text\r\n            lblDummyLocation = (TextView) findViewById(R.id.lblDummyLocation);\r\n\r\n            StringBuilder jsonStringBuilder = new StringBuilder(); //Create StringBuilder for concatenation of JSON results\r\n\r\n            // display profile data in EditText\r\n            try {\r\n                //txtMessage.setText(product.getString(TAG_FIRSTNAME));  //Don&#39;t set the text here\r\n                jsonStringBuilder.append(product.getString(TAG_LATITUDE)); //Concatenate each separate item\r\n                jsonStringBuilder.append(System.getProperty(&quot;line.separator&quot;));\r\n            } catch (JSONException e) {\r\n                e.printStackTrace();\r\n            }\r\n            try {\r\n                //txtMessage.setText(product.getString(TAG_LASTNAME));\r\n                jsonStringBuilder.append(product.getString(TAG_LONGITUDE));\r\n                //jsonStringBuilder.append(System.getProperty(&quot;line.separator&quot;));\r\n            } catch (JSONException e) {\r\n                e.printStackTrace();\r\n            }\r\n\r\n            lblDummyLocation.setText(jsonStringBuilder.toString());\r\n        }\r\n\r\n        // dismiss the dialog once got all details\r\n        pDialog.dismiss();\r\n    }\r\n","title":"Append a comma with StringBuilder","body":"<p>I've got a small problem, my code works and sends me the output of a longitude and latitude. I would simply like a comma and space to separate the value in the textview. I do not want a line separator.</p>\n<p>What I get: 32.67543-55.986454</p>\n<p>What I want: 32.67543, -55.986454 (comma and space)</p>\n<p>Any ideas?</p>\n<p>Code:</p>\n<pre><code>/**\n * After completing background task Dismiss the progress dialog\n * *\n */\nprotected void onPostExecute(JSONObject product) {\n    if (product != null) {\n        // product with this pid found\n        // Edit Text\n        lblDummyLocation = (TextView) findViewById(R.id.lblDummyLocation);\n\n        StringBuilder jsonStringBuilder = new StringBuilder(); //Create StringBuilder for concatenation of JSON results\n\n        // display profile data in EditText\n        try {\n            //txtMessage.setText(product.getString(TAG_FIRSTNAME));  //Don't set the text here\n            jsonStringBuilder.append(product.getString(TAG_LATITUDE)); //Concatenate each separate item\n            jsonStringBuilder.append(System.getProperty(&quot;line.separator&quot;));\n        } catch (JSONException e) {\n            e.printStackTrace();\n        }\n        try {\n            //txtMessage.setText(product.getString(TAG_LASTNAME));\n            jsonStringBuilder.append(product.getString(TAG_LONGITUDE));\n            //jsonStringBuilder.append(System.getProperty(&quot;line.separator&quot;));\n        } catch (JSONException e) {\n            e.printStackTrace();\n        }\n\n        lblDummyLocation.setText(jsonStringBuilder.toString());\n    }\n\n    // dismiss the dialog once got all details\n    pDialog.dismiss();\n}\n</code></pre>\n"},{"tags":["java","hadoop","mapreduce"],"comments":[{"owner":{"account_id":377596,"reputation":5231,"user_id":729819,"accept_rate":83,"display_name":"Ben Watson"},"score":0,"creation_date":1654703051,"post_id":72547909,"comment_id":128156093,"body_markdown":"Does your input file have a header row?","body":"Does your input file have a header row?"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1654705966,"post_id":72547909,"comment_id":128157298,"body_markdown":"You should move all your code inside `if (matcher.matches())` check to ensure you only write matched lines. Also, your output shown does not match your reducer","body":"You should move all your code inside <code>if (matcher.matches())</code> check to ensure you only write matched lines. Also, your output shown does not match your reducer"},{"owner":{"account_id":17925493,"reputation":11,"user_id":13024262,"display_name":"scandll"},"score":0,"creation_date":1654780958,"post_id":72547909,"comment_id":128177456,"body_markdown":"thank you @OneCricketeer , yes i put the wrong one","body":"thank you @OneCricketeer , yes i put the wrong one"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1654786395,"post_id":72547909,"comment_id":128179916,"body_markdown":"Please [edit] your question to correct the code","body":"Please <a href=\"https://stackoverflow.com/posts/72547909/edit\">edit</a> your question to correct the code"},{"owner":{"account_id":17925493,"reputation":11,"user_id":13024262,"display_name":"scandll"},"score":0,"creation_date":1654787714,"post_id":72547909,"comment_id":128180483,"body_markdown":"@OneCricketeer ok thank you. i sent you a message on facebook (found it on your website). can you check it please","body":"@OneCricketeer ok thank you. i sent you a message on facebook (found it on your website). can you check it please"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1654793988,"post_id":72547909,"comment_id":128182847,"body_markdown":"Please do not use my private social media for help. Your reducer shows `System.out.println(key.toString() + &quot;;&quot; + nb);` and there is no semi colon in the output you have reported. Also, as I said, I think the problem is your mapper if statement needs to wrap everything related to writing the output to the context","body":"Please do not use my private social media for help. Your reducer shows <code>System.out.println(key.toString() + &quot;;&quot; + nb);</code> and there is no semi colon in the output you have reported. Also, as I said, I think the problem is your mapper if statement needs to wrap everything related to writing the output to the context"}],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654799263,"creation_date":1654799263,"answer_id":72565010,"question_id":72547909,"body_markdown":"You get an **empty** key (not null) because your default mapper Text is an empty string. Then the reducer counts that as `0`... \r\n\r\nIt works fine if you check that your lines actually match before writing the output\r\n\r\nHere&#39;s a refactored version of your code\r\n\r\n    public class WebLogDriver extends Configured implements Tool {\r\n    \r\n      public static final String APP_NAME = WebLogDriver.class.getSimpleName();\r\n    \r\n      public static void main(String[] args) throws Exception {\r\n        final int status = ToolRunner.run(new Configuration(), new WebLogDriver(), args);\r\n        System.exit(status);\r\n      }\r\n    \r\n      @Override\r\n      public int run(String[] args) throws Exception {\r\n        Configuration conf = getConf();\r\n        Job job = Job.getInstance(conf, APP_NAME);\r\n        job.setJarByClass(WebLogDriver.class);\r\n    \r\n        // outputs for mapper and reducer\r\n        job.setOutputKeyClass(Text.class);\r\n    \r\n        // setup mapper\r\n        job.setMapperClass(WebLogDriver.WebLogMapper.class);\r\n        job.setMapOutputValueClass(IntWritable.class);\r\n    \r\n        // setup reducer\r\n        job.setReducerClass(WebLogDriver.WebLogReducer.class);\r\n        job.setOutputValueClass(IntWritable.class);\r\n    \r\n        FileInputFormat.addInputPath(job, new Path(args[0]));\r\n        final Path outputDir = new Path(args[1]);\r\n        FileOutputFormat.setOutputPath(job, outputDir);\r\n    \r\n        return job.waitForCompletion(true) ? 0 : 1;\r\n      }\r\n    \r\n      static class WebLogMapper extends Mapper&lt;LongWritable, Text, Text, IntWritable&gt; {\r\n    \r\n        static final Pattern HTTP_LOG_PATTERN = Pattern.compile(&quot;(\\\\S+) - - \\\\[(.+)] \\&quot;(\\\\S+) (/\\\\S*) HTTP/\\\\S+\\&quot; \\\\S+ (\\\\d+)&quot;);\r\n    \r\n        final Text keyOut = new Text();\r\n        final IntWritable valueOut = new IntWritable();\r\n    \r\n        @Override\r\n        protected void map(LongWritable key, Text value, Mapper&lt;LongWritable, Text, Text, IntWritable&gt;.Context context) throws IOException, InterruptedException {\r\n          String line = value.toString();\r\n          if (line.isEmpty()) return;\r\n          Matcher matcher = HTTP_LOG_PATTERN.matcher(line);\r\n    \r\n          if (matcher.matches()) {\r\n            keyOut.set(matcher.group(1));\r\n            try {\r\n              valueOut.set(Integer.parseInt(matcher.group(5)));\r\n    \r\n              context.write(keyOut, valueOut);\r\n            } catch (NumberFormatException e) {\r\n              e.printStackTrace();\r\n            }\r\n          }\r\n        }\r\n      }\r\n    \r\n      static class WebLogReducer extends Reducer&lt;Text, IntWritable, Text, IntWritable&gt; {\r\n    \r\n        static final IntWritable valueOut = new IntWritable();\r\n    \r\n        @Override\r\n        protected void reduce(Text key, Iterable&lt;IntWritable&gt; values, Reducer&lt;Text, IntWritable, Text, IntWritable&gt;.Context context) throws IOException, InterruptedException {\r\n          int nb = StreamSupport.stream(values.spliterator(), true)\r\n              .mapToInt(IntWritable::get)\r\n              .sum();\r\n          valueOut.set(nb);\r\n          context.write(key, valueOut);\r\n        }\r\n      }\r\n    }\r\n\r\n","title":"why is the first output line in map reduce null in java","body":"<p>You get an <strong>empty</strong> key (not null) because your default mapper Text is an empty string. Then the reducer counts that as <code>0</code>...</p>\n<p>It works fine if you check that your lines actually match before writing the output</p>\n<p>Here's a refactored version of your code</p>\n<pre><code>public class WebLogDriver extends Configured implements Tool {\n\n  public static final String APP_NAME = WebLogDriver.class.getSimpleName();\n\n  public static void main(String[] args) throws Exception {\n    final int status = ToolRunner.run(new Configuration(), new WebLogDriver(), args);\n    System.exit(status);\n  }\n\n  @Override\n  public int run(String[] args) throws Exception {\n    Configuration conf = getConf();\n    Job job = Job.getInstance(conf, APP_NAME);\n    job.setJarByClass(WebLogDriver.class);\n\n    // outputs for mapper and reducer\n    job.setOutputKeyClass(Text.class);\n\n    // setup mapper\n    job.setMapperClass(WebLogDriver.WebLogMapper.class);\n    job.setMapOutputValueClass(IntWritable.class);\n\n    // setup reducer\n    job.setReducerClass(WebLogDriver.WebLogReducer.class);\n    job.setOutputValueClass(IntWritable.class);\n\n    FileInputFormat.addInputPath(job, new Path(args[0]));\n    final Path outputDir = new Path(args[1]);\n    FileOutputFormat.setOutputPath(job, outputDir);\n\n    return job.waitForCompletion(true) ? 0 : 1;\n  }\n\n  static class WebLogMapper extends Mapper&lt;LongWritable, Text, Text, IntWritable&gt; {\n\n    static final Pattern HTTP_LOG_PATTERN = Pattern.compile(&quot;(\\\\S+) - - \\\\[(.+)] \\&quot;(\\\\S+) (/\\\\S*) HTTP/\\\\S+\\&quot; \\\\S+ (\\\\d+)&quot;);\n\n    final Text keyOut = new Text();\n    final IntWritable valueOut = new IntWritable();\n\n    @Override\n    protected void map(LongWritable key, Text value, Mapper&lt;LongWritable, Text, Text, IntWritable&gt;.Context context) throws IOException, InterruptedException {\n      String line = value.toString();\n      if (line.isEmpty()) return;\n      Matcher matcher = HTTP_LOG_PATTERN.matcher(line);\n\n      if (matcher.matches()) {\n        keyOut.set(matcher.group(1));\n        try {\n          valueOut.set(Integer.parseInt(matcher.group(5)));\n\n          context.write(keyOut, valueOut);\n        } catch (NumberFormatException e) {\n          e.printStackTrace();\n        }\n      }\n    }\n  }\n\n  static class WebLogReducer extends Reducer&lt;Text, IntWritable, Text, IntWritable&gt; {\n\n    static final IntWritable valueOut = new IntWritable();\n\n    @Override\n    protected void reduce(Text key, Iterable&lt;IntWritable&gt; values, Reducer&lt;Text, IntWritable, Text, IntWritable&gt;.Context context) throws IOException, InterruptedException {\n      int nb = StreamSupport.stream(values.spliterator(), true)\n          .mapToInt(IntWritable::get)\n          .sum();\n      valueOut.set(nb);\n      context.write(key, valueOut);\n    }\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":17925493,"reputation":11,"user_id":13024262,"display_name":"scandll"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654799263,"creation_date":1654700082,"question_id":72547909,"body_markdown":"I don&#39;t understand why the first output of my map reduce job is 0 and null\r\nThe output is : url ; number of visits\r\n\r\nand here is the mapper class :\r\n\r\n    public class WordCountMapper extends\r\n    \t\tMapper&lt;LongWritable, Text, Text, IntWritable&gt; \r\n    {\r\n    \tpublic void map(LongWritable cle, Text valeur, Context sortie)\r\n    \t\t\tthrows IOException \t\t\t\r\n    \t{\r\n    \t\t\r\n    \t\tString url=&quot;&quot;;\r\n    \t\tint nbVisites=0;\r\n    \t\tPattern httplogPattern = Pattern.compile(&quot;([^\\\\s]+) - - \\\\[(.+)\\\\] \\&quot;([^\\\\s]+) (/[^\\\\s]*) HTTP/[^\\\\s]+\\&quot; [^\\\\s]+ ([0-9]+)&quot;);\r\n    \t\tString ligne = valeur.toString();\r\n    \r\n    \t\tif (ligne.length()&gt;0) {\r\n    \t\t    Matcher matcher = httplogPattern.matcher(ligne);\r\n    \t\t    if (matcher.matches()) {\r\n    \t\t\t    url = matcher.group(1);\r\n    \t\t\t\tnbVisites = Integer.parseInt(matcher.group(5));\r\n    \t\t\t}\t\t\t\r\n    \t\t}\r\n    \t\t\r\n    \t\tText urlText = new Text(url);\r\n    \t\tIntWritable value = new IntWritable(nbVisites);\r\n    \t\ttry \r\n    \t\t{\t\t\t\r\n    \t\t\tsortie.write(urlText, value);\t\r\n    \t\t\tSystem.out.println(urlText + &quot; ; &quot; + value);\r\n    \t\t} \r\n    \t\tcatch (InterruptedException e) \r\n    \t\t{\r\n    \t\t    e.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n\r\nand reducer :\r\n\r\n    public class WordCountReducer extends\r\n    \t\tReducer&lt;Text, IntWritable, Text, IntWritable&gt; \r\n    {\r\n    \tpublic void reduce(Text key, Iterable&lt;IntWritable&gt; values, Context sortie) throws IOException, InterruptedException \r\n    \t{\r\n    \t\t\r\n    \r\n    \t\tIterator&lt;IntWritable&gt; it = values.iterator();\r\n    \t\tint nb=0;\r\n    \t\twhile (it.hasNext()) {\r\n    \t\t\tnb = nb + it.next().get();\r\n    \t\t}\r\n    \r\n    \t\ttry {\r\n    \t\t\tsortie.write(key,  new IntWritable(nb));\r\n    \t\t\tSystem.out.println(key.toString() + &quot;;&quot; + nb);\r\n    \t\t} catch (InterruptedException e) {\r\n    \t\t\t// TODO Auto-generated catch block\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n\r\n\r\nEach line of the input file looks like this : \r\n\r\n    199.72.81.55 - - [01/Jul/1995:00:00:01 -0400] &quot;GET /history/apollo/ HTTP/1.0&quot; 200 6245\r\n\r\n\r\nand here is the output :\r\n\r\n    \t0\r\n    04-dynamic-c.rotterdam.luna.net\t4\r\n    06-dynamic-c.rotterdam.luna.net\t1\r\n    10.salc.wsu.edu\t3\r\n    11.ts2.mnet.medstroms.se\t1\r\n    128.100.183.222\t4\r\n    128.102.149.149\t4\r\n\r\nAs you can see first line is a couple of null values\r\n\r\nThank you","title":"why is the first output line in map reduce null in java","body":"<p>I don't understand why the first output of my map reduce job is 0 and null\nThe output is : url ; number of visits</p>\n<p>and here is the mapper class :</p>\n<pre><code>public class WordCountMapper extends\n        Mapper&lt;LongWritable, Text, Text, IntWritable&gt; \n{\n    public void map(LongWritable cle, Text valeur, Context sortie)\n            throws IOException          \n    {\n        \n        String url=&quot;&quot;;\n        int nbVisites=0;\n        Pattern httplogPattern = Pattern.compile(&quot;([^\\\\s]+) - - \\\\[(.+)\\\\] \\&quot;([^\\\\s]+) (/[^\\\\s]*) HTTP/[^\\\\s]+\\&quot; [^\\\\s]+ ([0-9]+)&quot;);\n        String ligne = valeur.toString();\n\n        if (ligne.length()&gt;0) {\n            Matcher matcher = httplogPattern.matcher(ligne);\n            if (matcher.matches()) {\n                url = matcher.group(1);\n                nbVisites = Integer.parseInt(matcher.group(5));\n            }           \n        }\n        \n        Text urlText = new Text(url);\n        IntWritable value = new IntWritable(nbVisites);\n        try \n        {           \n            sortie.write(urlText, value);   \n            System.out.println(urlText + &quot; ; &quot; + value);\n        } \n        catch (InterruptedException e) \n        {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n<p>and reducer :</p>\n<pre><code>public class WordCountReducer extends\n        Reducer&lt;Text, IntWritable, Text, IntWritable&gt; \n{\n    public void reduce(Text key, Iterable&lt;IntWritable&gt; values, Context sortie) throws IOException, InterruptedException \n    {\n        \n\n        Iterator&lt;IntWritable&gt; it = values.iterator();\n        int nb=0;\n        while (it.hasNext()) {\n            nb = nb + it.next().get();\n        }\n\n        try {\n            sortie.write(key,  new IntWritable(nb));\n            System.out.println(key.toString() + &quot;;&quot; + nb);\n        } catch (InterruptedException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n<p>Each line of the input file looks like this :</p>\n<pre><code>199.72.81.55 - - [01/Jul/1995:00:00:01 -0400] &quot;GET /history/apollo/ HTTP/1.0&quot; 200 6245\n</code></pre>\n<p>and here is the output :</p>\n<pre><code>    0\n04-dynamic-c.rotterdam.luna.net 4\n06-dynamic-c.rotterdam.luna.net 1\n10.salc.wsu.edu 3\n11.ts2.mnet.medstroms.se    1\n128.100.183.222 4\n128.102.149.149 4\n</code></pre>\n<p>As you can see first line is a couple of null values</p>\n<p>Thank you</p>\n"},{"tags":["java","spring","spring-bean"],"comments":[{"owner":{"account_id":7298037,"reputation":500,"user_id":10660307,"display_name":" RichardFeynman"},"score":0,"creation_date":1654789897,"post_id":72563048,"comment_id":128181382,"body_markdown":"I think the only issue is that is your Bean1 object has a close method, it will get called when you close the application context.  I do not think closing the application forces GC of specific objects (I think its not even possible as this is under the control of the JVM)","body":"I think the only issue is that is your Bean1 object has a close method, it will get called when you close the application context.  I do not think closing the application forces GC of specific objects (I think its not even possible as this is under the control of the JVM)"}],"answers":[{"tags":[],"owner":{"account_id":10463559,"reputation":2118,"user_id":7713562,"display_name":"zawarudo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654792803,"creation_date":1654792803,"answer_id":72563863,"question_id":72563048,"body_markdown":"It seems that it will not be null.\r\n\r\nI have an interface Coach, and class that implements it TrackCoach, which has a method called \r\n\r\n`getDailyWorkout();`\r\n\r\nI am doing a basic calling of a bean from the container using `getBean()`\r\n\r\nHere is a main class\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\t//load spring configuration file\r\n\t\tClassPathXmlApplicationContext context = new ClassPathXmlApplicationContext(&quot;applicationContext.xml&quot;);\r\n\t\t// retrieve bean from spring container\r\n\t\tCoach theCoach = context.getBean(&quot;myCoach&quot;, Coach.class);\r\n\t\t//call methods on bean\r\n\t\tSystem.out.println(theCoach.getDailyWorkout());\r\n\t\tObject o = new Object();\r\n\t\to = theCoach;\r\n\t\tSystem.out.println(&quot;this is Object before closing&gt; &quot;+o);\r\n\t\t//close context\r\n\t\tSystem.out.println(&quot;Closing context&quot;);\r\n\t\tcontext.close();\r\n\t\tSystem.out.println(&quot;After closing context&quot;);\r\n\t\tSystem.out.println(&quot;this is a regular usage of bean reference&gt; &quot;+theCoach.getDailyWorkout());\r\n\t\tSystem.out.println(&quot;this is Object AFTER closing&gt; &quot;+o);\r\n\t\tCoach c = (Coach) o;\r\n\t\t\r\n\t\tSystem.out.println(&quot;this is AFTER CASTING&gt; &quot;+c.getDailyWorkout());\r\n\r\n\t}\r\n\r\nAnd the output is the following\r\n\r\n   \r\n\r\n\r\n\r\n\r\n\r\n        Jun 09, 2022 6:36:00 PM org.springframework.context.support.AbstractApplicationContext prepareRefresh\r\n    INFO: Refreshing org.springframework.context.support.ClassPathXmlApplicationContext@6d9c638: startup date [Thu Jun 09 18:36:00 CEST 2022]; root of context hierarchy\r\n    Jun 09, 2022 6:36:00 PM org.springframework.beans.factory.xml.XmlBeanDefinitionReader loadBeanDefinitions\r\n    INFO: Loading XML bean definitions from class path resource [applicationContext.xml]\r\n        Run for 20 min \r\n        this is Object before closing&gt; com.juradent.springdemo.TrackCoach@69b0fd6f\r\n        Closing context\r\n        Jun 09, 2022 6:36:01 PM org.springframework.context.support.AbstractApplicationContext doClose\r\n        INFO: Closing org.springframework.context.support.ClassPathXmlApplicationContext@6d9c638: startup date [Thu Jun 09 18:36:00 CEST 2022]; root of context hierarchy\r\n        After closing context\r\n        this is a regular usage of bean reference&gt; Run for 20 min\r\n        this is Object AFTER closing&gt; com.juradent.springdemo.TrackCoach@69b0fd6f\r\n        this is AFTER CASTING&gt; Run for 20 min\r\n\r\n\r\n","title":"What happens to Spring bean after ApplicationContext is shutdown","body":"<p>It seems that it will not be null.</p>\n<p>I have an interface Coach, and class that implements it TrackCoach, which has a method called</p>\n<p><code>getDailyWorkout();</code></p>\n<p>I am doing a basic calling of a bean from the container using <code>getBean()</code></p>\n<p>Here is a main class</p>\n<pre><code>public static void main(String[] args) {\n    \n    //load spring configuration file\n    ClassPathXmlApplicationContext context = new ClassPathXmlApplicationContext(&quot;applicationContext.xml&quot;);\n    // retrieve bean from spring container\n    Coach theCoach = context.getBean(&quot;myCoach&quot;, Coach.class);\n    //call methods on bean\n    System.out.println(theCoach.getDailyWorkout());\n    Object o = new Object();\n    o = theCoach;\n    System.out.println(&quot;this is Object before closing&gt; &quot;+o);\n    //close context\n    System.out.println(&quot;Closing context&quot;);\n    context.close();\n    System.out.println(&quot;After closing context&quot;);\n    System.out.println(&quot;this is a regular usage of bean reference&gt; &quot;+theCoach.getDailyWorkout());\n    System.out.println(&quot;this is Object AFTER closing&gt; &quot;+o);\n    Coach c = (Coach) o;\n    \n    System.out.println(&quot;this is AFTER CASTING&gt; &quot;+c.getDailyWorkout());\n\n}\n</code></pre>\n<p>And the output is the following</p>\n<pre><code>    Jun 09, 2022 6:36:00 PM org.springframework.context.support.AbstractApplicationContext prepareRefresh\nINFO: Refreshing org.springframework.context.support.ClassPathXmlApplicationContext@6d9c638: startup date [Thu Jun 09 18:36:00 CEST 2022]; root of context hierarchy\nJun 09, 2022 6:36:00 PM org.springframework.beans.factory.xml.XmlBeanDefinitionReader loadBeanDefinitions\nINFO: Loading XML bean definitions from class path resource [applicationContext.xml]\n    Run for 20 min \n    this is Object before closing&gt; com.juradent.springdemo.TrackCoach@69b0fd6f\n    Closing context\n    Jun 09, 2022 6:36:01 PM org.springframework.context.support.AbstractApplicationContext doClose\n    INFO: Closing org.springframework.context.support.ClassPathXmlApplicationContext@6d9c638: startup date [Thu Jun 09 18:36:00 CEST 2022]; root of context hierarchy\n    After closing context\n    this is a regular usage of bean reference&gt; Run for 20 min\n    this is Object AFTER closing&gt; com.juradent.springdemo.TrackCoach@69b0fd6f\n    this is AFTER CASTING&gt; Run for 20 min\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10645250,"reputation":3023,"user_id":7838169,"display_name":"badger"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1654799242,"creation_date":1654793542,"answer_id":72564008,"question_id":72563048,"body_markdown":"`ApplicationContext` uses `HashMap` under the hood for storing beans and if you call `close()` on it, its going to call `clear()` method on these `HashMap`s.\r\nAs you know when we call `clear()` method on `HashMap`, it&#39;s only assigns the `null` to map `Entries` so if there is another object that references to those objects, they will survive.\r\n\r\nSo your questions:\r\n\r\n 1. No, Because there is another reference to `Bean1`\r\n 2. You still have it.\r\n\r\n ","title":"What happens to Spring bean after ApplicationContext is shutdown","body":"<p><code>ApplicationContext</code> uses <code>HashMap</code> under the hood for storing beans and if you call <code>close()</code> on it, its going to call <code>clear()</code> method on these <code>HashMap</code>s.\nAs you know when we call <code>clear()</code> method on <code>HashMap</code>, it's only assigns the <code>null</code> to map <code>Entries</code> so if there is another object that references to those objects, they will survive.</p>\n<p>So your questions:</p>\n<ol>\n<li>No, Because there is another reference to <code>Bean1</code></li>\n<li>You still have it.</li>\n</ol>\n"}],"owner":{"account_id":5968065,"reputation":14213,"user_id":4691279,"accept_rate":58,"display_name":"hagrawal7777"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":564,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":72564008,"answer_count":2,"score":-2,"last_activity_date":1654799242,"creation_date":1654788789,"question_id":72563048,"body_markdown":"Suppose I have a normal application in which I am creating a Spring application context using `ApplicationContext applicationContext = new FileSystemXmlApplicationContext(&quot;bean.xml&quot;);`\r\n\r\nNow, suppose in this bean.xml  there is bean definition for a Spring bean `Bean1`, so when I will create the application context then Spring container will instantiate and initialize an object for this `Bean1`.\r\n\r\nAnd then I have a non-Spring object holding a reference to the object of this Spring bean `Bean1`.\r\n\r\nNow, lets say I shutdown the application context using `((ConfigurableApplicationContext)appCtx).close();`. \r\n\r\nNow my questions are:\r\n\r\n 1. What will happen to the object this Spring bean `Bean1`, will it be garbage collected as soon as Spring&#39;s ApplicationContext is shutdown? \r\n 2. Since I am holding a reference to the object of this Spring bean `Bean1`, will I still have this object or will object reference variable pointing to this will become NULL? ","title":"What happens to Spring bean after ApplicationContext is shutdown","body":"<p>Suppose I have a normal application in which I am creating a Spring application context using <code>ApplicationContext applicationContext = new FileSystemXmlApplicationContext(&quot;bean.xml&quot;);</code></p>\n<p>Now, suppose in this bean.xml  there is bean definition for a Spring bean <code>Bean1</code>, so when I will create the application context then Spring container will instantiate and initialize an object for this <code>Bean1</code>.</p>\n<p>And then I have a non-Spring object holding a reference to the object of this Spring bean <code>Bean1</code>.</p>\n<p>Now, lets say I shutdown the application context using <code>((ConfigurableApplicationContext)appCtx).close();</code>.</p>\n<p>Now my questions are:</p>\n<ol>\n<li>What will happen to the object this Spring bean <code>Bean1</code>, will it be garbage collected as soon as Spring's ApplicationContext is shutdown?</li>\n<li>Since I am holding a reference to the object of this Spring bean <code>Bean1</code>, will I still have this object or will object reference variable pointing to this will become NULL?</li>\n</ol>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8717,"page":1275,"page_size":100}
