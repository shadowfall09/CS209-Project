{"items":[{"tags":["java","eclipse","plugins","eclipse-plugin","osgi"],"answers":[{"tags":[],"owner":{"account_id":246,"reputation":107903,"user_id":304,"accept_rate":40,"display_name":"McDowell"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1674563759,"creation_date":1238154390,"answer_id":689449,"question_id":688783,"body_markdown":"There&#39;s a pretty good comparison (from 2007, I think) on EclipseZone: [A Comparison of Eclipse Extensions and OSGi Services][1].\r\n\r\nI would follow the conventions of your target platform. So, if you&#39;re writing a plugin for Eclipse 3.4, say, create an Eclipse 3.4 plugin (which will use a *MANIFEST.MF* for dependencies and a *plugin.xml* for extensions/extension points - the article you link to is for Eclipse 2.x). You can examine the contents of the *plugins* directory to confirm this.\r\n\r\n  [1]: https://web.archive.org/web/20080303225634/www.eclipsezone.com/articles/extensions-vs-services/","title":"Eclipse Extensions and Declarative Services","body":"<p>There's a pretty good comparison (from 2007, I think) on EclipseZone: <a href=\"https://web.archive.org/web/20080303225634/www.eclipsezone.com/articles/extensions-vs-services/\" rel=\"nofollow noreferrer\">A Comparison of Eclipse Extensions and OSGi Services</a>.</p>\n<p>I would follow the conventions of your target platform. So, if you're writing a plugin for Eclipse 3.4, say, create an Eclipse 3.4 plugin (which will use a <em>MANIFEST.MF</em> for dependencies and a <em>plugin.xml</em> for extensions/extension points - the article you link to is for Eclipse 2.x). You can examine the contents of the <em>plugins</em> directory to confirm this.</p>\n"},{"tags":[],"owner":{"account_id":4243,"reputation":1301840,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1516988472,"creation_date":1238157814,"answer_id":689632,"question_id":688783,"body_markdown":"The problem with the &quot;current&quot; approach (pre3.5M5, like eclipse3.4), is that both Eclipse plugins extension or OSGI DS (Declarative Services) does require some extension-specific or OSGI-specifc API to be present in your plugin.\r\n\r\nI would encourage you to check out this good introduction to Declarative Services in this Powerpoint presentation:  \r\n[Component Oriented Development in OSGi with Declarative Services, Spring Dynamic Modules and Apache iPOJO][1], from EclipseCON2009.\r\n\r\nHere is a taste:\r\n\r\n-----------\r\n\r\nThe module layer allows to minimize static dependencies, and fewer static dependencies means less *stuff* that must be present for your component to work.  \r\nServices allow your component to interact with other components.\r\n\r\n**Components should be implemented as POJOs (Plain Old Java Objects) *glued* together with OSGi services.**\r\n\r\n**Declarative Services** (DS) is a specification from the OSGi Compendium, section 112.  \r\nIt was introduced in Release 4.0 and is based on the extender model.\r\n\r\nLike all extenders, DS performs tasks *on behalf of* other bundles. \r\nThe DS spec defines this extender and it is implemented by frameworks.  \r\nThe extender bundle itself is called the **Service Component Runtime** or SCR.\r\n\r\nThe terms DS and SCR are sometimes confused:  \r\nDS is the specification, SCR is the actual bundle that implements the specification\r\n\r\nThere are significant improvements in DS in OSGi R4.2.  \r\nMany of these changes are supported in Equinox 3.5M5+.\r\n\r\nSCR (the &quot;Service Component Runtime&quot; which is an &quot;extender bundle&quot; implementing the new and improved OSGi R4.2 DS - Declarative Service - specification) will:\r\n\r\n- Creates Components.\r\n- **Binds** them to services and configuration\r\n- Manages the component&#39;s lifecycle in response to bound services coming and going.\r\n- Optionally, publishes components as services themselves\r\n\r\nYou still have a MANIFEST.MF:\r\n\r\n    Bundle-SymbolicName : mybundle\r\n    Bundle-Version : 1.0.0\r\n    Service-Component : OSGI-INF/minimal. xml\r\n\r\nYou will use:\r\n\r\n    org.eclipse.equinox.ds &lt;version&gt;.jar\r\n    org.eclipse.equinox.util &lt;version&gt;.jar\r\n\r\nSCR will find activate/deactivate methods automatically.  \r\n**We can call them something else by adding attributes to the XML declaration**.\r\n\r\nBefore R4.2, the method names could not be changed and they had to take a parameter of type `ComponentContext`, from the DS API. This broke the pojocity of the component.\r\n\r\nSo instead of wrinting a &quot;`BundleActivator`&quot; (OSGI-specifc API in your component: BAD), you write a plain POJO object:\r\n\r\n    public class PollingComponent {\r\n        private static final int DEFAULT_PERIOD = 2000;\r\n        private PollingThread thread ;\r\n        protected void activate ( Map&lt;String , Object&gt; config ) {\r\n            System.out.println( &quot; Polling Component Activated &quot; );\r\n            Integer period = (Integer)config.get( &quot; period &quot; );\r\n            thread = new PollingThread(\r\n                period!=null ? period : DEFAULT_PERIOD);\r\n            thread.start();\r\n        }\r\n        protected void deactivate() {\r\n            System.out.println( &quot; Polling Component Deactivated &quot; );\r\n            thread.interrupt();\r\n        }\r\n    }\r\n\r\nYou will the simply *declare* your reference to other services:\r\n\r\n    &lt;reference name=&quot;LOG&quot;\r\n        interface=&quot;org.osgi.service.log.LogService &quot;\r\n        bind=&quot;setLog&quot; unbind=&quot;unsetLog&quot;\r\n        cardinality=&quot;0..1&quot;/&gt;\r\n\r\nAnd you can publis your component as a service itself:   \r\nThis is done with the `&lt;service&gt;` element in our XML descriptor.\r\n\r\n    &lt;service&gt;\r\n        &lt;provide interface=&quot;net ... ContactRepository&quot;/&gt;\r\n        &lt;property name=&quot;foo&quot; value=&quot;bar&quot;\r\n    &lt;/service&gt;\r\n\r\nProvide multiple services simply by adding additional `&lt;provide&gt;` elements.  \r\nSpecify service properties using the `&lt;property&gt;` element. These properties are passed to the component in activation and published to the service registry\r\n\r\n  [1]: https://www.slideshare.net/njbartlett/component-oriented-development-in-osgi-with-declarative-services-spring-dynamic-modules-and-apache-ipojo?type=presentation","title":"Eclipse Extensions and Declarative Services","body":"<p>The problem with the \"current\" approach (pre3.5M5, like eclipse3.4), is that both Eclipse plugins extension or OSGI DS (Declarative Services) does require some extension-specific or OSGI-specifc API to be present in your plugin.</p>\n\n<p>I would encourage you to check out this good introduction to Declarative Services in this Powerpoint presentation:<br>\n<a href=\"https://www.slideshare.net/njbartlett/component-oriented-development-in-osgi-with-declarative-services-spring-dynamic-modules-and-apache-ipojo?type=presentation\" rel=\"nofollow noreferrer\">Component Oriented Development in OSGi with Declarative Services, Spring Dynamic Modules and Apache iPOJO</a>, from EclipseCON2009.</p>\n\n<p>Here is a taste:</p>\n\n<hr>\n\n<p>The module layer allows to minimize static dependencies, and fewer static dependencies means less <em>stuff</em> that must be present for your component to work.<br>\nServices allow your component to interact with other components.</p>\n\n<p><strong>Components should be implemented as POJOs (Plain Old Java Objects) <em>glued</em> together with OSGi services.</strong></p>\n\n<p><strong>Declarative Services</strong> (DS) is a specification from the OSGi Compendium, section 112.<br>\nIt was introduced in Release 4.0 and is based on the extender model.</p>\n\n<p>Like all extenders, DS performs tasks <em>on behalf of</em> other bundles. \nThe DS spec defines this extender and it is implemented by frameworks.<br>\nThe extender bundle itself is called the <strong>Service Component Runtime</strong> or SCR.</p>\n\n<p>The terms DS and SCR are sometimes confused:<br>\nDS is the specification, SCR is the actual bundle that implements the specification</p>\n\n<p>There are significant improvements in DS in OSGi R4.2.<br>\nMany of these changes are supported in Equinox 3.5M5+.</p>\n\n<p>SCR (the \"Service Component Runtime\" which is an \"extender bundle\" implementing the new and improved OSGi R4.2 DS - Declarative Service - specification) will:</p>\n\n<ul>\n<li>Creates Components.</li>\n<li><strong>Binds</strong> them to services and configuration</li>\n<li>Manages the component's lifecycle in response to bound services coming and going.</li>\n<li>Optionally, publishes components as services themselves</li>\n</ul>\n\n<p>You still have a MANIFEST.MF:</p>\n\n<pre><code>Bundle-SymbolicName : mybundle\nBundle-Version : 1.0.0\nService-Component : OSGI-INF/minimal. xml\n</code></pre>\n\n<p>You will use:</p>\n\n<pre><code>org.eclipse.equinox.ds &lt;version&gt;.jar\norg.eclipse.equinox.util &lt;version&gt;.jar\n</code></pre>\n\n<p>SCR will find activate/deactivate methods automatically.<br>\n<strong>We can call them something else by adding attributes to the XML declaration</strong>.</p>\n\n<p>Before R4.2, the method names could not be changed and they had to take a parameter of type <code>ComponentContext</code>, from the DS API. This broke the pojocity of the component.</p>\n\n<p>So instead of wrinting a \"<code>BundleActivator</code>\" (OSGI-specifc API in your component: BAD), you write a plain POJO object:</p>\n\n<pre><code>public class PollingComponent {\n    private static final int DEFAULT_PERIOD = 2000;\n    private PollingThread thread ;\n    protected void activate ( Map&lt;String , Object&gt; config ) {\n        System.out.println( \" Polling Component Activated \" );\n        Integer period = (Integer)config.get( \" period \" );\n        thread = new PollingThread(\n            period!=null ? period : DEFAULT_PERIOD);\n        thread.start();\n    }\n    protected void deactivate() {\n        System.out.println( \" Polling Component Deactivated \" );\n        thread.interrupt();\n    }\n}\n</code></pre>\n\n<p>You will the simply <em>declare</em> your reference to other services:</p>\n\n<pre><code>&lt;reference name=\"LOG\"\n    interface=\"org.osgi.service.log.LogService \"\n    bind=\"setLog\" unbind=\"unsetLog\"\n    cardinality=\"0..1\"/&gt;\n</code></pre>\n\n<p>And you can publis your component as a service itself:<br>\nThis is done with the <code>&lt;service&gt;</code> element in our XML descriptor.</p>\n\n<pre><code>&lt;service&gt;\n    &lt;provide interface=\"net ... ContactRepository\"/&gt;\n    &lt;property name=\"foo\" value=\"bar\"\n&lt;/service&gt;\n</code></pre>\n\n<p>Provide multiple services simply by adding additional <code>&lt;provide&gt;</code> elements.<br>\nSpecify service properties using the <code>&lt;property&gt;</code> element. These properties are passed to the component in activation and published to the service registry</p>\n"}],"owner":{"account_id":30387,"reputation":62460,"user_id":82865,"accept_rate":71,"display_name":"Jonathan Holloway"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2343,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":689449,"answer_count":2,"score":4,"last_activity_date":1674563759,"creation_date":1238137341,"question_id":688783,"body_markdown":"I&#39;m a little confused on the approach to extensions/services in the Eclipse architecture.\r\nThere are two options available to a developer:\r\n\r\n1. The use of Eclipse plugin extensions - [http://www.eclipse.org/articles/Article-Plug-in-architecture/plugin_architecture.html][1]\r\n2. The use of declarative services - [http://www.eclipse.org/equinox/bundles/][2]\r\n\r\nWhen you would use one over the other and what are the advantages and the disadvantages\r\nof each approach? Also going forward which is the preferred approach?\r\n\r\n\r\n  [1]: http://www.eclipse.org/equinox/bundles/\r\n  [2]: http://www.eclipse.org/equinox/bundles/","title":"Eclipse Extensions and Declarative Services","body":"<p>I'm a little confused on the approach to extensions/services in the Eclipse architecture.\nThere are two options available to a developer:</p>\n\n<ol>\n<li>The use of Eclipse plugin extensions - <a href=\"http://www.eclipse.org/equinox/bundles/\" rel=\"nofollow noreferrer\">http://www.eclipse.org/articles/Article-Plug-in-architecture/plugin_architecture.html</a></li>\n<li>The use of declarative services - <a href=\"http://www.eclipse.org/equinox/bundles/\" rel=\"nofollow noreferrer\">http://www.eclipse.org/equinox/bundles/</a></li>\n</ol>\n\n<p>When you would use one over the other and what are the advantages and the disadvantages\nof each approach? Also going forward which is the preferred approach?</p>\n"},{"tags":["java","eclipse","myeclipse"],"comments":[{"owner":{"account_id":30285,"reputation":55210,"user_id":82511,"accept_rate":71,"display_name":"djna"},"score":0,"creation_date":1311597689,"post_id":6816234,"comment_id":8096257,"body_markdown":"Always? The same kind of project? How big is your workspace? Lots of projects?","body":"Always? The same kind of project? How big is your workspace? Lots of projects?"},{"owner":{"account_id":351784,"reputation":6702,"user_id":688477,"accept_rate":80,"display_name":"ysrb"},"score":0,"creation_date":1311597723,"post_id":6816234,"comment_id":8096266,"body_markdown":"how much ram do you have? You should have at least 4GB of RAM to make Eclipse runs smoothly.","body":"how much ram do you have? You should have at least 4GB of RAM to make Eclipse runs smoothly."},{"owner":{"account_id":30285,"reputation":55210,"user_id":82511,"accept_rate":71,"display_name":"djna"},"score":2,"creation_date":1311599135,"post_id":6816234,"comment_id":8096692,"body_markdown":"Having even 400GB of RAM wouldn&#39;t help if the heap setting was too small.","body":"Having even 400GB of RAM wouldn&#39;t help if the heap setting was too small."}],"answers":[{"tags":[],"owner":{"account_id":457002,"reputation":2198,"user_id":856047,"display_name":"alexblum"},"down_vote_count":1,"up_vote_count":24,"is_accepted":false,"score":23,"last_activity_date":1311597743,"creation_date":1311597743,"answer_id":6816277,"question_id":6816234,"body_markdown":"Try to start eclipse with follow paramenters:\r\n\r\n    eclipse.exe -vmargs -Xms512m -Xmx512m -XX:PermSize=128m -XX:MaxPermSize=128m\r\n\r\nOr justify these parameters for your requirements","title":"Out of memory error in eclipse.why?","body":"<p>Try to start eclipse with follow paramenters:</p>\n\n<pre><code>eclipse.exe -vmargs -Xms512m -Xmx512m -XX:PermSize=128m -XX:MaxPermSize=128m\n</code></pre>\n\n<p>Or justify these parameters for your requirements</p>\n"},{"tags":[],"owner":{"account_id":30285,"reputation":55210,"user_id":82511,"accept_rate":71,"display_name":"djna"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1311597772,"creation_date":1311597772,"answer_id":6816288,"question_id":6816234,"body_markdown":"The most obvious explanation is that you are truly out of memory. In which case starting Eclipse with a bigger heap should help\r\n\r\n\r\n     -vmargs -Xmx256M\r\n\r\nvarying the 256M to see what works for you.\r\n\r\nI would not expect to see this problem if you have just a few simple projects. If you are using additional plugins then conceivably the amount of heap you need may need to be increased.\r\n\r\n","title":"Out of memory error in eclipse.why?","body":"<p>The most obvious explanation is that you are truly out of memory. In which case starting Eclipse with a bigger heap should help</p>\n\n<pre><code> -vmargs -Xmx256M\n</code></pre>\n\n<p>varying the 256M to see what works for you.</p>\n\n<p>I would not expect to see this problem if you have just a few simple projects. If you are using additional plugins then conceivably the amount of heap you need may need to be increased.</p>\n"},{"tags":[],"owner":{"account_id":1769520,"reputation":1358,"user_id":1614641,"accept_rate":67,"display_name":"mcmlxxxvi"},"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1349479478,"creation_date":1349479478,"answer_id":12755278,"question_id":6816234,"body_markdown":"Not sure if relevant to your problem, but I just had a similar problem with a Swing project using OpenJDK 7.\r\n\r\nAfter several cycles of starting (the `Run` button) and closing (`&#39;X&#39;` / `Alt+F4`) my application, I got this error in the console:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.OutOfMemoryError: unable to create new native thread\r\n    \tat java.lang.Thread.start0(Native Method)\r\n    \tat java.lang.Thread.start(Thread.java:691)\r\n    \tat sun.awt.AWTAutoShutdown.activateBlockerThread(AWTAutoShutdown.java:334)\r\n    \tat sun.awt.AWTAutoShutdown.notifyPeerMapUpdated(AWTAutoShutdown.java:215)\r\n    \tat sun.awt.AWTAutoShutdown.registerPeer(AWTAutoShutdown.java:348)\r\n    \tat sun.awt.SunToolkit.targetCreatedPeer(SunToolkit.java:313)\r\n    \tat sun.awt.X11.XToolkit.createFrame(XToolkit.java:410)\r\n    \tat java.awt.Frame.addNotify(Frame.java:477)\r\n    \tat java.awt.Window.show(Window.java:1031)\r\n    \tat java.awt.Component.show(Component.java:1651)\r\n    \tat java.awt.Component.setVisible(Component.java:1603)\r\n    \tat java.awt.Window.setVisible(Window.java:1014)\r\n    \tat tool.BAT.main(BAT.java:11)\r\n\r\nAnd sometimes, I got another sort of error:\r\n\r\n    Error occurred during initialization of VM\r\n    java.lang.OutOfMemoryError: unable to create new native thread\r\n\r\nand then, if I tried to run it once more, Java crashed:\r\n\r\n    #\r\n    # A fatal error has been detected by the Java Runtime Environment:\r\n    #\r\n    #  SIGSEGV (0xb) at pc=0x0000000000000000, pid=30388, tid=139776854689536\r\n    #\r\n    # JRE version: 7.0_07-b30\r\n    # Java VM: OpenJDK 64-Bit Server VM (23.2-b09 mixed mode linux-amd64 compressed oops)\r\n    # Problematic frame:\r\n    # C  0x0000000000000000\r\n    #\r\n    # Failed to write core dump. Core dumps have been disabled. To enable core dumping, try &quot;ulimit -c unlimited&quot; before starting Java again\r\n    #\r\n    # An error report file with more information is saved as:\r\n    # /home/mcmlxxxvi/workspace/bat/hs_err_pid30388.log\r\n    #\r\n    # If you would like to submit a bug report, please include\r\n    # instructions on how to reproduce the bug and visit:\r\n    #   http://icedtea.classpath.org/bugzilla\r\n    #\r\n\r\n`top` revealed the cause of the problem (notice virtual memory usage):\r\n\r\n    PID USER      PR  NI  VIRT  RES  SHR S  %CPU %MEM    TIME+  COMMAND\r\n    30619 mcmlxxxv  20   0 3271m 390m  45m S   2.0 13.0   0:38.88 java\r\n    30667 mcmlxxxv  20   0 2172m  35m  12m S   0.3  1.2   0:01.00 java\r\n    30688 mcmlxxxv  20   0 2172m  35m  12m S   0.3  1.2   0:00.96 java\r\n    30710 mcmlxxxv  20   0 2172m  35m  12m S   0.0  1.2   0:00.97 java   \r\n\r\nThese were all instances of my application, which had not been closed. Still not sure why so much virtual memory was allocated per instance - probably there&#39;s some option for that. (I have 3GiB of physical memory, by the way).\r\n\r\nHere&#39;s my main() method:\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    public static void main(String[] args) {\r\n        JFrame frame = new JFrame();\r\n        //frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        frame.setSize(400, 300);\r\n        frame.setVisible(true);\r\n    }\r\n\r\nI saw the commented line in a tutorial and specifically disabled it to see what would happen. What happened was that that it defaulted to ` HIDE_ON_CLOSE`, which did not close and dispose of the frame.\r\n\r\nSetting `setDefaultCloseOperation` to **EXIT_ON_CLOSE** was the solution for me. Interested to see input from more knowledgeable people on this, though.","title":"Out of memory error in eclipse.why?","body":"<p>Not sure if relevant to your problem, but I just had a similar problem with a Swing project using OpenJDK 7.</p>\n\n<p>After several cycles of starting (the <code>Run</code> button) and closing (<code>'X'</code> / <code>Alt+F4</code>) my application, I got this error in the console:</p>\n\n<pre><code>Exception in thread \"main\" java.lang.OutOfMemoryError: unable to create new native thread\n    at java.lang.Thread.start0(Native Method)\n    at java.lang.Thread.start(Thread.java:691)\n    at sun.awt.AWTAutoShutdown.activateBlockerThread(AWTAutoShutdown.java:334)\n    at sun.awt.AWTAutoShutdown.notifyPeerMapUpdated(AWTAutoShutdown.java:215)\n    at sun.awt.AWTAutoShutdown.registerPeer(AWTAutoShutdown.java:348)\n    at sun.awt.SunToolkit.targetCreatedPeer(SunToolkit.java:313)\n    at sun.awt.X11.XToolkit.createFrame(XToolkit.java:410)\n    at java.awt.Frame.addNotify(Frame.java:477)\n    at java.awt.Window.show(Window.java:1031)\n    at java.awt.Component.show(Component.java:1651)\n    at java.awt.Component.setVisible(Component.java:1603)\n    at java.awt.Window.setVisible(Window.java:1014)\n    at tool.BAT.main(BAT.java:11)\n</code></pre>\n\n<p>And sometimes, I got another sort of error:</p>\n\n<pre><code>Error occurred during initialization of VM\njava.lang.OutOfMemoryError: unable to create new native thread\n</code></pre>\n\n<p>and then, if I tried to run it once more, Java crashed:</p>\n\n<pre><code>#\n# A fatal error has been detected by the Java Runtime Environment:\n#\n#  SIGSEGV (0xb) at pc=0x0000000000000000, pid=30388, tid=139776854689536\n#\n# JRE version: 7.0_07-b30\n# Java VM: OpenJDK 64-Bit Server VM (23.2-b09 mixed mode linux-amd64 compressed oops)\n# Problematic frame:\n# C  0x0000000000000000\n#\n# Failed to write core dump. Core dumps have been disabled. To enable core dumping, try \"ulimit -c unlimited\" before starting Java again\n#\n# An error report file with more information is saved as:\n# /home/mcmlxxxvi/workspace/bat/hs_err_pid30388.log\n#\n# If you would like to submit a bug report, please include\n# instructions on how to reproduce the bug and visit:\n#   http://icedtea.classpath.org/bugzilla\n#\n</code></pre>\n\n<p><code>top</code> revealed the cause of the problem (notice virtual memory usage):</p>\n\n<pre><code>PID USER      PR  NI  VIRT  RES  SHR S  %CPU %MEM    TIME+  COMMAND\n30619 mcmlxxxv  20   0 3271m 390m  45m S   2.0 13.0   0:38.88 java\n30667 mcmlxxxv  20   0 2172m  35m  12m S   0.3  1.2   0:01.00 java\n30688 mcmlxxxv  20   0 2172m  35m  12m S   0.3  1.2   0:00.96 java\n30710 mcmlxxxv  20   0 2172m  35m  12m S   0.0  1.2   0:00.97 java   \n</code></pre>\n\n<p>These were all instances of my application, which had not been closed. Still not sure why so much virtual memory was allocated per instance - probably there's some option for that. (I have 3GiB of physical memory, by the way).</p>\n\n<p>Here's my main() method:\n</p>\n\n<pre><code>public static void main(String[] args) {\n    JFrame frame = new JFrame();\n    //frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    frame.setSize(400, 300);\n    frame.setVisible(true);\n}\n</code></pre>\n\n<p>I saw the commented line in a tutorial and specifically disabled it to see what would happen. What happened was that that it defaulted to <code>HIDE_ON_CLOSE</code>, which did not close and dispose of the frame.</p>\n\n<p>Setting <code>setDefaultCloseOperation</code> to <strong>EXIT_ON_CLOSE</strong> was the solution for me. Interested to see input from more knowledgeable people on this, though.</p>\n"},{"tags":[],"owner":{"account_id":4640232,"reputation":5623,"user_id":3760297,"accept_rate":67,"display_name":"Iman Marashi"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1458675454,"creation_date":1458675454,"answer_id":36163608,"question_id":6816234,"body_markdown":"\r\n\r\n 1. Go to your Eclipse setup folder\r\n 2. If you are running Eclipse on Mac OS X then\r\n\r\n       Right click on `eclipse.app` icon\r\n\r\n       Click on `Show Package Contents`\r\n\r\n 3. Open `eclipse.ini` file\r\n\r\n 4. Change below parameters\r\n\r\n        -Xms512m\r\n        -Xmx3000m (Hoping your developer box has &gt;4GB of memory)\r\n\r\n 5. Add below parameters\r\n\r\n        -XX:PermSize=256m\r\n        -XX:MaxPermSize=512m\r\n","title":"Out of memory error in eclipse.why?","body":"<ol>\n<li>Go to your Eclipse setup folder</li>\n<li><p>If you are running Eclipse on Mac OS X then</p>\n\n<p>Right click on <code>eclipse.app</code> icon</p>\n\n<p>Click on <code>Show Package Contents</code></p></li>\n<li><p>Open <code>eclipse.ini</code> file</p></li>\n<li><p>Change below parameters</p>\n\n<pre><code>-Xms512m\n-Xmx3000m (Hoping your developer box has &gt;4GB of memory)\n</code></pre></li>\n<li><p>Add below parameters</p>\n\n<pre><code>-XX:PermSize=256m\n-XX:MaxPermSize=512m\n</code></pre></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":15760126,"reputation":21,"user_id":11372057,"display_name":"Nagaraj Vuyyuru"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1555483496,"creation_date":1555481479,"answer_id":55720987,"question_id":6816234,"body_markdown":"- Open Your eclipse.ini file\n- XXMaxPermSize will be 256m.\n- Change the value to 512m. \n- Restart your eclipse. \n- Now you will not see any memory issues in Eclipse.\n\n# In Brief See below: #\n\n**Before**\n\n    --launcher.defaultAction\n    openFile\n    --launcher.XXMaxPermSize\n    256M\n    -showsplash\n    org.eclipse.platform\n    --launcher.XXMaxPermSize\n    256m\n\n\n**After:**\n\n    --launcher.defaultAction\n    openFile\n    --launcher.XXMaxPermSize\n    512M\n    -showsplash\n    org.eclipse.platform\n    --launcher.XXMaxPermSize\n    512m","title":"Out of memory error in eclipse.why?","body":"<ul>\n<li>Open Your eclipse.ini file</li>\n<li>XXMaxPermSize will be 256m.</li>\n<li>Change the value to 512m.</li>\n<li>Restart your eclipse.</li>\n<li>Now you will not see any memory issues in Eclipse.</li>\n</ul>\n<h1>In Brief See below:</h1>\n<p><strong>Before</strong></p>\n<pre><code>--launcher.defaultAction\nopenFile\n--launcher.XXMaxPermSize\n256M\n-showsplash\norg.eclipse.platform\n--launcher.XXMaxPermSize\n256m\n</code></pre>\n<p><strong>After:</strong></p>\n<pre><code>--launcher.defaultAction\nopenFile\n--launcher.XXMaxPermSize\n512M\n-showsplash\norg.eclipse.platform\n--launcher.XXMaxPermSize\n512m\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19981640,"reputation":17,"user_id":14644671,"display_name":"Muhammed Mustafa Savar"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1617616645,"creation_date":1617616645,"answer_id":66951198,"question_id":6816234,"body_markdown":"You have to use `setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);`\r\n\r\n[You can see from here][1]\r\n\r\n\r\n  [1]: https://youtu.be/SuRYdlguGYI","title":"Out of memory error in eclipse.why?","body":"<p>You have to use <code>setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);</code></p>\n<p><a href=\"https://youtu.be/SuRYdlguGYI\" rel=\"nofollow noreferrer\">You can see from here</a></p>\n"},{"tags":[],"owner":{"account_id":10489606,"reputation":126,"user_id":11540228,"display_name":"Daan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674563141,"creation_date":1674563141,"answer_id":75221466,"question_id":6816234,"body_markdown":"For everyone (like me) who ends up at the bottom without fixing it...\r\n\r\nMy Eclipse ran out of memeory every time I tried to save a specific file. \r\n\r\nEclipse has a bug where it is unable to handle formatting a comment between a method type and a method name, like the code given below. The fix is to move the comment up or down\r\n\r\n    public String \r\n      // Never put a comment here, Eclipse will run out of memory\r\n      getName() {\r\n       return &quot;name&quot;;\r\n      }","title":"Out of memory error in eclipse.why?","body":"<p>For everyone (like me) who ends up at the bottom without fixing it...</p>\n<p>My Eclipse ran out of memeory every time I tried to save a specific file.</p>\n<p>Eclipse has a bug where it is unable to handle formatting a comment between a method type and a method name, like the code given below. The fix is to move the comment up or down</p>\n<pre><code>public String \n  // Never put a comment here, Eclipse will run out of memory\n  getName() {\n   return &quot;name&quot;;\n  }\n</code></pre>\n"}],"owner":{"account_id":787570,"reputation":291,"user_id":861576,"display_name":"sivakumar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":99646,"favorite_count":0,"down_vote_count":0,"up_vote_count":29,"answer_count":7,"score":29,"last_activity_date":1674563141,"creation_date":1311597490,"question_id":6816234,"body_markdown":"When i create a new project in &quot;Eclipse&quot; IDE.Suddenly it shows an alert message &quot;Out of memory error&quot;.I cannot identify the reason.\r\n  If any one know the reason please tell me.\r\n","title":"Out of memory error in eclipse.why?","body":"<p>When i create a new project in \"Eclipse\" IDE.Suddenly it shows an alert message \"Out of memory error\".I cannot identify the reason.\n  If any one know the reason please tell me.</p>\n"},{"tags":["java","spring-boot","lettuce","redis-sentinel"],"comments":[{"owner":{"account_id":20654871,"reputation":236,"user_id":15164253,"display_name":"Victor Levin"},"score":0,"creation_date":1681980367,"post_id":75221450,"comment_id":134144806,"body_markdown":"How did you fix this problem?","body":"How did you fix this problem?"}],"owner":{"account_id":27609046,"reputation":11,"user_id":21072560,"display_name":"bogizzla"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":541,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1674563137,"creation_date":1674563053,"question_id":75221450,"body_markdown":"We cannot connect to the master via sentinel.\r\n\r\nError:\r\nCaused by: io.lettuce.core.RedisCommandExecutionException: NOAUTH HELLO must be called with the client already authenticated, otherwise the HELLO AUTH &lt;user&gt; &lt;pass&gt; option can be used to authenticate the client and select the RESP protocol version at the same time.\r\n\r\nim use spring-boot-starter-data-redis:2.6.6\r\n\r\n\r\n```\r\n@Bean\r\npublic RedisURI redisUri() {\r\n    return RedisURI.create(&quot;redis-sentinel://pass@host1:port1,host2:port2,host3:port3/1?sentinelMasterId=mymaster&quot;);\r\n}\r\n\r\n@Bean\r\npublic RedisClient redisClient(RedisURI redisUri) {\r\n    return RedisClient.create(redisUri);\r\n}\r\n\r\n@Bean\r\npublic StatefulRedisConnection&lt;String, String&gt; statefulRedisConnection(RedisClient redisClient) {\r\n    return redisClient.connect();\r\n}\r\n\r\n@Bean\r\npublic RedisCommands&lt;String, String&gt; redisCommands(StatefulRedisConnection&lt;String, String&gt; statefulRedisConnection) {\r\n    return statefulRedisConnection.sync();\r\n}\r\n```\r\n\r\nWhere can i set the password?","title":"NOAUTH HELLO must be called with the client already authenticated","body":"<p>We cannot connect to the master via sentinel.</p>\n<p>Error:\nCaused by: io.lettuce.core.RedisCommandExecutionException: NOAUTH HELLO must be called with the client already authenticated, otherwise the HELLO AUTH   option can be used to authenticate the client and select the RESP protocol version at the same time.</p>\n<p>im use spring-boot-starter-data-redis:2.6.6</p>\n<pre><code>@Bean\npublic RedisURI redisUri() {\n    return RedisURI.create(&quot;redis-sentinel://pass@host1:port1,host2:port2,host3:port3/1?sentinelMasterId=mymaster&quot;);\n}\n\n@Bean\npublic RedisClient redisClient(RedisURI redisUri) {\n    return RedisClient.create(redisUri);\n}\n\n@Bean\npublic StatefulRedisConnection&lt;String, String&gt; statefulRedisConnection(RedisClient redisClient) {\n    return redisClient.connect();\n}\n\n@Bean\npublic RedisCommands&lt;String, String&gt; redisCommands(StatefulRedisConnection&lt;String, String&gt; statefulRedisConnection) {\n    return statefulRedisConnection.sync();\n}\n</code></pre>\n<p>Where can i set the password?</p>\n"},{"tags":["java","eclipse","junit"],"comments":[{"owner":{"account_id":45934,"reputation":203649,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":0,"creation_date":1343287698,"post_id":11664108,"comment_id":15458906,"body_markdown":"Are you sure that the classes that implement the tests (you call them &quot;testscripts&quot;) each have not more than one constructor?","body":"Are you sure that the classes that implement the tests (you call them &quot;testscripts&quot;) each have not more than one constructor?"},{"owner":{"account_id":661926,"reputation":2185,"user_id":485978,"accept_rate":58,"display_name":"jantox"},"score":0,"creation_date":1343288033,"post_id":11664108,"comment_id":15459021,"body_markdown":"Yeah im sure. its a simple junit3 test. \n\n    public class ScriptTest extends TestCase {\n    }","body":"Yeah im sure. its a simple junit3 test.       public class ScriptTest extends TestCase {     }"},{"owner":{"account_id":1376,"reputation":61107,"user_id":1836,"accept_rate":90,"display_name":"Matthew Farwell"},"score":0,"creation_date":1343288896,"post_id":11664108,"comment_id":15459314,"body_markdown":"Can you post a bit more code? Including the ScriptTest constructor? And the code for the Suite as well.","body":"Can you post a bit more code? Including the ScriptTest constructor? And the code for the Suite as well."}],"answers":[{"tags":[],"owner":{"account_id":1376,"reputation":61107,"user_id":1836,"accept_rate":90,"display_name":"Matthew Farwell"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1343293192,"creation_date":1343293192,"answer_id":11665797,"question_id":11664108,"body_markdown":"You&#39;re passing the class junit.framework.TestSuite.class to JUnitCore.runClasses(). JUnitCore.runClasses tries to instantiate the class. To avoid problems, it requires that any class that you pass has only one constructor [*]. TestSuite has multiple public constructors.\r\n\r\nTry:\r\n\r\n    TestResult result = new TestResult();\r\n    ts.run(result);\r\n\r\n    for (Enumeration&lt;TestFailure&gt; failures = result.failures(); failures.hasMoreElements();) {\r\n        TestFailure testFailure = failures.nextElement();\r\n        System.out.println(&quot;Failure: &quot; + testFailure.toString());      \r\n    }\r\n\r\nIn the meantime, think about upgradng your test cases from JUnit 3 to JUnit 4, JUnit 3 is getting quite old now.\r\n\r\n[*] Except for Parameterized tests, etc. In the OP&#39;s use case, it&#39;s true.","title":"Test class can only have one constructor","body":"<p>You're passing the class junit.framework.TestSuite.class to JUnitCore.runClasses(). JUnitCore.runClasses tries to instantiate the class. To avoid problems, it requires that any class that you pass has only one constructor [*]. TestSuite has multiple public constructors.</p>\n\n<p>Try:</p>\n\n<pre><code>TestResult result = new TestResult();\nts.run(result);\n\nfor (Enumeration&lt;TestFailure&gt; failures = result.failures(); failures.hasMoreElements();) {\n    TestFailure testFailure = failures.nextElement();\n    System.out.println(\"Failure: \" + testFailure.toString());      \n}\n</code></pre>\n\n<p>In the meantime, think about upgradng your test cases from JUnit 3 to JUnit 4, JUnit 3 is getting quite old now.</p>\n\n<p>[*] Except for Parameterized tests, etc. In the OP's use case, it's true.</p>\n"},{"tags":[],"owner":{"account_id":20855901,"reputation":1,"user_id":15319239,"display_name":"govalle3"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1616638636,"creation_date":1616636814,"answer_id":66791914,"question_id":11664108,"body_markdown":"In your test class, if you are injecting dependency, `private final Whatever whatever;`\r\n\r\nErase the `final` and erase the constructor.\r\n\r\nThat&#39;s works for me","title":"Test class can only have one constructor","body":"<p>In your test class, if you are injecting dependency, <code>private final Whatever whatever;</code></p>\n<p>Erase the <code>final</code> and erase the constructor.</p>\n<p>That's works for me</p>\n"},{"tags":[],"owner":{"account_id":3482475,"reputation":27230,"user_id":2914140,"accept_rate":69,"display_name":"CoolMind"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674563071,"creation_date":1674563071,"answer_id":75221453,"question_id":11664108,"body_markdown":"In my case I tried to launch a *parent* test class instead of *descendants*. See also https://coderanch.com/t/721675/engineering/JUnit-error-IllegalArgumentException-Test-class. In order not to mix next time I changed it to `abstract class`.","title":"Test class can only have one constructor","body":"<p>In my case I tried to launch a <em>parent</em> test class instead of <em>descendants</em>. See also <a href=\"https://coderanch.com/t/721675/engineering/JUnit-error-IllegalArgumentException-Test-class\" rel=\"nofollow noreferrer\">https://coderanch.com/t/721675/engineering/JUnit-error-IllegalArgumentException-Test-class</a>. In order not to mix next time I changed it to <code>abstract class</code>.</p>\n"}],"owner":{"account_id":661926,"reputation":2185,"user_id":485978,"accept_rate":58,"display_name":"jantox"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11871,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":11665797,"answer_count":3,"score":5,"last_activity_date":1674563071,"creation_date":1343286255,"question_id":11664108,"body_markdown":"Anybody encountered this error\r\n\r\ninitializationError(junit.framework.TestSuite): Test class can only have one constructor\r\n\r\nUse Case.\r\n\r\nI have 2 TestScripts in a TestSuite. If I dynamically create the TestSuite and then add the 2 testScripts and invoke this\r\n\r\n    Result result = JUnitCore.runClasses(clazz);\r\n\r\nwhere clazz is the TestSuite class.\r\n\r\nHowever I if invoke the JUnitCore.runClasses on each 2 TestScripts there is no problem.\r\n\r\nI used JUnit3. \r\n\r\nI have similar question with this https://stackoverflow.com/questions/9415325/junit-error-illegalargumentexceptiontest-class-can-only-have-one-constructor, but mine involves creating the test suite class dynamically. Reason being is that there is a usecase that I could just include 1 testscript in a testsuite or i could have 2 testscripts in a testsuite.\r\n\r\n**UPDATE code:**\r\n\r\n    public class ScriptTest1 extends TestCase {\t\r\n        private ScriptTest1() { }\t\r\n        public void testMethod1() {\r\n            Assert.assertEquals(true, true);\r\n        }\r\n    }\r\n\r\n    public class ScriptTest2 extends TestCase {\t\r\n        private ScriptTest2() { }\t\r\n        public void testMethod2() {\r\n            Assert.assertEquals(true, true);\r\n        }\r\n    }\r\n\r\nThen in another class\r\n\r\n    File file = new File(&quot;file to ScriptTest.class&quot;);\r\n    Class&lt;?&gt; clazz = Class.forName(className, true, Thread.currentThread().getContextClassLoader());\r\n    \r\n    //construct a new test suite\r\n    TestSuite ts = new TestSuite(&quot;Sample Test Suite with only ScriptTest1&quot;);\r\n    ts.addTestSuite((Class&lt;? extends TestCase&gt;) clazz);\r\n\r\n    Result result = JUnitCore.runClasses(ts.getClass());\r\n    HashSet&lt;String&gt; failureMethod = new HashSet&lt;String&gt;();\r\n    for (Failure failure : result.getFailures()) {\r\n         System.out.println(&quot;Failure: &quot; + failure.toString());\t\t\r\n    }\r\n\r\nFailure will output: initializationError(junit.framework.TestSuite): Test class can only have one constructor\r\nHowever if I just directly do this, it will run fine.\r\n\r\n    File file = new File(&quot;file to ScriptTest.class&quot;);\r\n    Class&lt;?&gt; clazz = Class.forName(className, true, Thread.currentThread().getContextClassLoader());\r\n    Result result = JUnitCore.runClasses(clazz);\r\n\r\nI created the test classes in JUnit4 and Im running my main program with dependency on JUnit4 also.\r\n","title":"Test class can only have one constructor","body":"<p>Anybody encountered this error</p>\n\n<p>initializationError(junit.framework.TestSuite): Test class can only have one constructor</p>\n\n<p>Use Case.</p>\n\n<p>I have 2 TestScripts in a TestSuite. If I dynamically create the TestSuite and then add the 2 testScripts and invoke this</p>\n\n<pre><code>Result result = JUnitCore.runClasses(clazz);\n</code></pre>\n\n<p>where clazz is the TestSuite class.</p>\n\n<p>However I if invoke the JUnitCore.runClasses on each 2 TestScripts there is no problem.</p>\n\n<p>I used JUnit3. </p>\n\n<p>I have similar question with this <a href=\"https://stackoverflow.com/questions/9415325/junit-error-illegalargumentexceptiontest-class-can-only-have-one-constructor\">JUnit error - IllegalArgumentException:Test class can only have one constructor</a>, but mine involves creating the test suite class dynamically. Reason being is that there is a usecase that I could just include 1 testscript in a testsuite or i could have 2 testscripts in a testsuite.</p>\n\n<p><strong>UPDATE code:</strong></p>\n\n<pre><code>public class ScriptTest1 extends TestCase { \n    private ScriptTest1() { }   \n    public void testMethod1() {\n        Assert.assertEquals(true, true);\n    }\n}\n\npublic class ScriptTest2 extends TestCase { \n    private ScriptTest2() { }   \n    public void testMethod2() {\n        Assert.assertEquals(true, true);\n    }\n}\n</code></pre>\n\n<p>Then in another class</p>\n\n<pre><code>File file = new File(\"file to ScriptTest.class\");\nClass&lt;?&gt; clazz = Class.forName(className, true, Thread.currentThread().getContextClassLoader());\n\n//construct a new test suite\nTestSuite ts = new TestSuite(\"Sample Test Suite with only ScriptTest1\");\nts.addTestSuite((Class&lt;? extends TestCase&gt;) clazz);\n\nResult result = JUnitCore.runClasses(ts.getClass());\nHashSet&lt;String&gt; failureMethod = new HashSet&lt;String&gt;();\nfor (Failure failure : result.getFailures()) {\n     System.out.println(\"Failure: \" + failure.toString());      \n}\n</code></pre>\n\n<p>Failure will output: initializationError(junit.framework.TestSuite): Test class can only have one constructor\nHowever if I just directly do this, it will run fine.</p>\n\n<pre><code>File file = new File(\"file to ScriptTest.class\");\nClass&lt;?&gt; clazz = Class.forName(className, true, Thread.currentThread().getContextClassLoader());\nResult result = JUnitCore.runClasses(clazz);\n</code></pre>\n\n<p>I created the test classes in JUnit4 and Im running my main program with dependency on JUnit4 also.</p>\n"},{"tags":["java","spring","oracle","spring-boot","jpa"],"comments":[{"owner":{"account_id":17782616,"reputation":6789,"user_id":12913491,"display_name":"pmdba"},"score":0,"creation_date":1674563610,"post_id":75221364,"comment_id":132736339,"body_markdown":"Are you getting the error on the last `alter table`, or on an `insert` statement? You appear to have foreign keys that point back and forth between both tables. Why, if the relationship is many-to-one? One should be the parent (with the master ID) and the other the child (with the foreign key). If you need a many-to-many relationship, that generally requires a third table, with foreign keys that point to both parents and perhaps a unique constraint on the set of foreign keys to avoid duplicate relationships.","body":"Are you getting the error on the last <code>alter table</code>, or on an <code>insert</code> statement? You appear to have foreign keys that point back and forth between both tables. Why, if the relationship is many-to-one? One should be the parent (with the master ID) and the other the child (with the foreign key). If you need a many-to-many relationship, that generally requires a third table, with foreign keys that point to both parents and perhaps a unique constraint on the set of foreign keys to avoid duplicate relationships."},{"owner":{"account_id":24548379,"reputation":11,"user_id":18457853,"display_name":"Marcos Costa"},"score":0,"creation_date":1674564580,"post_id":75221364,"comment_id":132736601,"body_markdown":"In this case, i need to save Many users to One Importation and I need save One user to One importation. Like, there will be a user who created the import and there will be users who will be imported, these users who were imported received the id of the import table and the import table will receive the id of the user who created the import.","body":"In this case, i need to save Many users to One Importation and I need save One user to One importation. Like, there will be a user who created the import and there will be users who will be imported, these users who were imported received the id of the import table and the import table will receive the id of the user who created the import."},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":1,"creation_date":1674572317,"post_id":75221364,"comment_id":132739606,"body_markdown":"This error and the language used seems like you are trying to execute DDL statements as a query - where and when exactly do you get the exception and what does that exception state? The error mentions FK_IMPORTACAO doesn&#39;t exist, but not the query used -  Please show the SQL involved.  How are you sure that it exists in the table in question? Is there any reason you added FK_IMPORTACAO as NUMBER(10,0) when the ID it references is Number(10)?","body":"This error and the language used seems like you are trying to execute DDL statements as a query - where and when exactly do you get the exception and what does that exception state? The error mentions FK_IMPORTACAO doesn&#39;t exist, but not the query used -  Please show the SQL involved.  How are you sure that it exists in the table in question? Is there any reason you added FK_IMPORTACAO as NUMBER(10,0) when the ID it references is Number(10)?"}],"owner":{"account_id":24548379,"reputation":11,"user_id":18457853,"display_name":"Marcos Costa"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674562637,"creation_date":1674562637,"question_id":75221364,"body_markdown":"I&#39;m trying to create two columns for my user, one taking the ID of &quot;IMPORTACAO_USUARIO&quot; and the other just to save a character.\r\nbut whenever i try to create a user i get error &quot;&quot;could not execute statement; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not execute statement&quot; by postman or &quot;java.sql.SQLSyntaxErrorException: ORA-00904: &quot;FK_IMPORTACAO&quot; by terminal.\r\n\r\nMy query:\r\n\r\n```\r\nCREATE SEQUENCE SEQ_IMPORTACAO_USUARIO START WITH 1 INCREMENT BY 1;\r\n\r\nCREATE TABLE IMPORTACAO_USUARIO (\r\n    ID NUMBER(10) NOT NULL,\r\n    DATA_CADASTRO TIMESTAMP NOT NULL,\r\n    FK_USUARIO NUMBER(10) NOT NULL,\r\n    PRIMARY KEY (ID),\r\n    CONSTRAINT FK_IMPORTACAO_USUARIO FOREIGN KEY (FK_USUARIO) REFERENCES USUARIO\r\n);\r\n\r\nALTER TABLE USUARIO ADD FK_IMPORTACAO NUMBER(10,0);\r\n\r\nALTER TABLE USUARIO ADD IMPORTADO VARCHAR2(1);\r\n\r\nALTER TABLE USUARIO\r\n    ADD CONSTRAINT &quot;FK_USUARIO_IMPORTADO&quot; FOREIGN KEY (&quot;FK_IMPORTACAO&quot;) REFERENCES IMPORTACAO_USUARIO (&quot;ID&quot;);\r\n```\r\n\r\nMy entity:\r\n\r\n```\r\n@JoinColumn(name = &quot;FK_IMPORTACAO&quot;, referencedColumnName = &quot;ID&quot;,\r\n        foreignKey = @ForeignKey(name = &quot;FK_USUARIO_IMPORTADO&quot;))\r\n@ManyToOne(fetch = FetchType.LAZY)\r\nprivate ImportacaoUsuario importado;\r\n\r\n@Column(name = &quot;IMPORTADO&quot;)\r\n@Enumerated(EnumType.STRING)\r\nprivate Eboolean usuarioImportado;\r\n```\r\n","title":"When I try to create a user I get this error &quot;java.sql.SQLSyntaxErrorException: ORA-00904: &quot;FK_IMPORTACAO&quot;: invalid identifier&quot;","body":"<p>I'm trying to create two columns for my user, one taking the ID of &quot;IMPORTACAO_USUARIO&quot; and the other just to save a character.\nbut whenever i try to create a user i get error &quot;&quot;could not execute statement; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not execute statement&quot; by postman or &quot;java.sql.SQLSyntaxErrorException: ORA-00904: &quot;FK_IMPORTACAO&quot; by terminal.</p>\n<p>My query:</p>\n<pre><code>CREATE SEQUENCE SEQ_IMPORTACAO_USUARIO START WITH 1 INCREMENT BY 1;\n\nCREATE TABLE IMPORTACAO_USUARIO (\n    ID NUMBER(10) NOT NULL,\n    DATA_CADASTRO TIMESTAMP NOT NULL,\n    FK_USUARIO NUMBER(10) NOT NULL,\n    PRIMARY KEY (ID),\n    CONSTRAINT FK_IMPORTACAO_USUARIO FOREIGN KEY (FK_USUARIO) REFERENCES USUARIO\n);\n\nALTER TABLE USUARIO ADD FK_IMPORTACAO NUMBER(10,0);\n\nALTER TABLE USUARIO ADD IMPORTADO VARCHAR2(1);\n\nALTER TABLE USUARIO\n    ADD CONSTRAINT &quot;FK_USUARIO_IMPORTADO&quot; FOREIGN KEY (&quot;FK_IMPORTACAO&quot;) REFERENCES IMPORTACAO_USUARIO (&quot;ID&quot;);\n</code></pre>\n<p>My entity:</p>\n<pre><code>@JoinColumn(name = &quot;FK_IMPORTACAO&quot;, referencedColumnName = &quot;ID&quot;,\n        foreignKey = @ForeignKey(name = &quot;FK_USUARIO_IMPORTADO&quot;))\n@ManyToOne(fetch = FetchType.LAZY)\nprivate ImportacaoUsuario importado;\n\n@Column(name = &quot;IMPORTADO&quot;)\n@Enumerated(EnumType.STRING)\nprivate Eboolean usuarioImportado;\n</code></pre>\n"},{"tags":["java","memory-management","apache-commons-io"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1674555094,"post_id":75219834,"comment_id":132733748,"body_markdown":"Sure, you could stop whenever your list reaches a certain size. You could also try to use streaming for iterating over the files, apply filters and collect only those you are interested in. That might already limit the size of the list. Or go for streaming all the way, i.e. use a Flux result instead of a list (you might need to check on the communication protocol the client is using though - e.g. plain http won&#39;t help so [rsocket](https://rsocket.io/) might be an option).","body":"Sure, you could stop whenever your list reaches a certain size. You could also try to use streaming for iterating over the files, apply filters and collect only those you are interested in. That might already limit the size of the list. Or go for streaming all the way, i.e. use a Flux result instead of a list (you might need to check on the communication protocol the client is using though - e.g. plain http won&#39;t help so <a href=\"https://rsocket.io/\" rel=\"nofollow noreferrer\">rsocket</a> might be an option)."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674562596,"creation_date":1674562596,"answer_id":75221355,"question_id":75219834,"body_markdown":"Ditch apache commons. You don&#39;t need it. Everything it does is either fundamentally a flawed approach, or has been superseded by core library functionality, or is done better by more recent alternatives such as guava.\r\n\r\nTo tackle the problem of walking through humongous directory trees recursively, make a file walker using the new (well, I say new, it&#39;s about a decade old at this point?) java core lib file API: [`Files.walk`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/nio/file/Files.html#walk(java.nio.file.Path,int,java.nio.file.FileVisitOption...)).\r\n\r\nThis doesn&#39;t take any memory; it will simply invoke your code for every entry. For any given dir you can choose whether to &#39;enter&#39; it (recurse into the subdir) or not. Even if you have billions of files, this won&#39;t run out of memory, it&#39;ll simply take a while to dig through invoking you millions of times.\r\n\r\nIf you need to do lookups as part of the process, use the walker to pump all data into a database, add appropriate indexes, and then run your queries there. Or re-engineer your disk setup so that all lookups can be done on name only. I have to be a bit vague as the question doesn&#39;t specify the specific setup, but, for example, if you have to find a file with a given git hash, instead of storing all git patches in one ginormous dir, make subdirs that match the start of the hash - the top level dir has 256 directories (From `00` to `ff`), and if need be each such dir itself has 256 subdirs, and eventually e.g. `f5/9a/f59a123456789abcdef.patch` exists which is the file you wanted. Now finding a file given the first 6 characters of its hash can be done quickly.\r\n","title":"How to prevent OOM from a Collection array object","body":"<p>Ditch apache commons. You don't need it. Everything it does is either fundamentally a flawed approach, or has been superseded by core library functionality, or is done better by more recent alternatives such as guava.</p>\n<p>To tackle the problem of walking through humongous directory trees recursively, make a file walker using the new (well, I say new, it's about a decade old at this point?) java core lib file API: <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/nio/file/Files.html#walk(java.nio.file.Path,int,java.nio.file.FileVisitOption...)\" rel=\"nofollow noreferrer\"><code>Files.walk</code></a>.</p>\n<p>This doesn't take any memory; it will simply invoke your code for every entry. For any given dir you can choose whether to 'enter' it (recurse into the subdir) or not. Even if you have billions of files, this won't run out of memory, it'll simply take a while to dig through invoking you millions of times.</p>\n<p>If you need to do lookups as part of the process, use the walker to pump all data into a database, add appropriate indexes, and then run your queries there. Or re-engineer your disk setup so that all lookups can be done on name only. I have to be a bit vague as the question doesn't specify the specific setup, but, for example, if you have to find a file with a given git hash, instead of storing all git patches in one ginormous dir, make subdirs that match the start of the hash - the top level dir has 256 directories (From <code>00</code> to <code>ff</code>), and if need be each such dir itself has 256 subdirs, and eventually e.g. <code>f5/9a/f59a123456789abcdef.patch</code> exists which is the file you wanted. Now finding a file given the first 6 characters of its hash can be done quickly.</p>\n"}],"owner":{"account_id":15369641,"reputation":74,"user_id":11088014,"display_name":"Ashish Ranjan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674562596,"creation_date":1674554191,"question_id":75219834,"body_markdown":"My application is trying to list all files from an NFS drive based on a regex pattern. I am using the apache commons-io fileutils to list the files.\r\n\r\nI am successfully able to do so, although the problem I am facing is that the return object size is really high (as there are millions of files). Heap memory consumption goes upto 10GiB and causes OOM on many occasions.\r\n\r\n[listFiles][1]\r\n\r\nIs there a way to limit the size of the return collection? (Like getting only N number of results, e.g. SELECT queries can be limited to a certain number in SQL) \r\n\r\nI am fine with getting partial result, I can loop through the list method. I will be deleting files older than a certain date so I know the total result set will keep getting smaller after every iteration.\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-io/javadocs/api-2.6/org/apache/commons/io/FileUtils.html#listFiles-java.io.File-org.apache.commons.io.filefilter.IOFileFilter-org.apache.commons.io.filefilter.IOFileFilter-","title":"How to prevent OOM from a Collection array object","body":"<p>My application is trying to list all files from an NFS drive based on a regex pattern. I am using the apache commons-io fileutils to list the files.</p>\n<p>I am successfully able to do so, although the problem I am facing is that the return object size is really high (as there are millions of files). Heap memory consumption goes upto 10GiB and causes OOM on many occasions.</p>\n<p><a href=\"https://commons.apache.org/proper/commons-io/javadocs/api-2.6/org/apache/commons/io/FileUtils.html#listFiles-java.io.File-org.apache.commons.io.filefilter.IOFileFilter-org.apache.commons.io.filefilter.IOFileFilter-\" rel=\"nofollow noreferrer\">listFiles</a></p>\n<p>Is there a way to limit the size of the return collection? (Like getting only N number of results, e.g. SELECT queries can be limited to a certain number in SQL)</p>\n<p>I am fine with getting partial result, I can loop through the list method. I will be deleting files older than a certain date so I know the total result set will keep getting smaller after every iteration.</p>\n"},{"tags":["java","spring","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1674549119,"post_id":75218993,"comment_id":132731906,"body_markdown":"The list is lazy so it won&#39;t be loaded. Also why add the `save` method as that is already part of the default `CrudRepository`. If it is there it is probably because you are showing the full user in the front end (leading to the location to be loaded). Additionally the `@Repository` doesn&#39;t do anything on your interface remove it so you don&#39;t have that additional clutter.","body":"The list is lazy so it won&#39;t be loaded. Also why add the <code>save</code> method as that is already part of the default <code>CrudRepository</code>. If it is there it is probably because you are showing the full user in the front end (leading to the location to be loaded). Additionally the <code>@Repository</code> doesn&#39;t do anything on your interface remove it so you don&#39;t have that additional clutter."},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1674549451,"post_id":75218993,"comment_id":132732013,"body_markdown":"Also, always include the full stacktrace. You are telling is there is an error in your code, but you leave out the part where the stacktrace even tells you exactly what the error is","body":"Also, always include the full stacktrace. You are telling is there is an error in your code, but you leave out the part where the stacktrace even tells you exactly what the error is"},{"owner":{"account_id":18006482,"reputation":5,"user_id":13841743,"display_name":"vashdivan"},"score":0,"creation_date":1674549713,"post_id":75218993,"comment_id":132732091,"body_markdown":"The list is lazy but it is loaded in current implementation. I use debug to check whether if base `save` method return `user` with all locations. So it doesn&#39;t depends on frontend anyway.","body":"The list is lazy but it is loaded in current implementation. I use debug to check whether if base <code>save</code> method return <code>user</code> with all locations. So it doesn&#39;t depends on frontend anyway."},{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1674550034,"post_id":75218993,"comment_id":132732201,"body_markdown":"@skubev your expectations are initially wrong: in `JPA` annotation `@OneToMany` is misspelled, the correct spelling is `@OneToFew`, just keep it in mind.","body":"@skubev your expectations are initially wrong: in <code>JPA</code> annotation <code>@OneToMany</code> is misspelled, the correct spelling is <code>@OneToFew</code>, just keep it in mind."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1674553601,"post_id":75218993,"comment_id":132733278,"body_markdown":"Debugging and inspecting the list will also load the list.","body":"Debugging and inspecting the list will also load the list."}],"answers":[{"tags":[],"owner":{"account_id":3742081,"reputation":728,"user_id":3111662,"display_name":"aleksey.stukalov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1674562522,"creation_date":1674562522,"answer_id":75221342,"question_id":75218993,"body_markdown":"Most probably, you get the locations field loaded due to debugging. Debugging triggers get method and it makes hibernate to load all locations.","title":"Spring Data JPA how to avoid loading a column","body":"<p>Most probably, you get the locations field loaded due to debugging. Debugging triggers get method and it makes hibernate to load all locations.</p>\n"}],"owner":{"account_id":18006482,"reputation":5,"user_id":13841743,"display_name":"vashdivan"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":224,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75221342,"answer_count":1,"score":0,"last_activity_date":1674562522,"creation_date":1674548829,"question_id":75218993,"body_markdown":"I have two entities:\r\n\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;locations&quot;)\r\n@Data\r\n@NoArgsConstructor\r\n@RequiredArgsConstructor\r\npublic class Location {\r\n\r\n    @Id\r\n    @Column(name = &quot;location_id&quot;, nullable = false, unique = true)\r\n    @Type(type=&quot;org.hibernate.type.UUIDCharType&quot;)\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private UUID locationId;\r\n\r\n    @NonNull\r\n    @JsonFormat(pattern = &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.ms&quot;)\r\n    @Column(name = &quot;created_at&quot;, nullable = false)\r\n    private LocalDateTime createdAt;\r\n\r\n    @NonNull\r\n    @Type(type=&quot;org.hibernate.type.UUIDCharType&quot;)\r\n    @Column(name = &quot;user_id&quot;, nullable = false)\r\n    private UUID userId;\r\n\r\n    @NonNull\r\n    @Column(name = &quot;latitude&quot;, nullable = false)\r\n    private Double latitude;\r\n\r\n    @NonNull\r\n    @Column(name = &quot;longitude&quot;, nullable = false)\r\n    private Double longitude;\r\n}\r\n```\r\nand\r\n\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;users&quot;)\r\n@Data\r\n@NoArgsConstructor\r\n@RequiredArgsConstructor\r\npublic class User {\r\n\r\n    @NonNull\r\n    @Id\r\n    @Type(type = &quot;org.hibernate.type.UUIDCharType&quot;)\r\n    @Column(name = &quot;user_id&quot;, nullable = false, unique = true)\r\n    private UUID userId;\r\n\r\n    @NonNull\r\n    @Column(name = &quot;email&quot;, length = 100, nullable = false, unique = true)\r\n    private String email;\r\n\r\n    @NonNull\r\n    @Column(name = &quot;first_name&quot;, nullable = false)\r\n    private String firstName;\r\n\r\n    @NonNull\r\n    @Column(name = &quot;second_name&quot;, nullable = false)\r\n    private String secondName;\r\n\r\n    @OneToMany(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;user_id&quot;, referencedColumnName = &quot;user_id&quot;)\r\n    private List&lt;Location&gt; locations;\r\n}\r\n```\r\nand then i have\r\n\r\n```\r\n@Repository\r\npublic interface UserRepository extends JpaRepository&lt;User, UUID&gt; {\r\n    User save(User user);\r\n}\r\n```\r\n\r\nuserRepository.save(user) - this method return User with all locations which referenced to this user. \r\n\r\nI want to avoid this join query in sql since there could be a lot of referenced locations to the user. This could be cause of OutOfMemory etc. So, i want to get only User without List&lt;Location&gt; locations after \r\n`userRepository.save(user)`\r\n\r\nI tried to write query this way:\r\n\r\n```\r\n@Query(nativeQuery = true,\r\n        value = &quot;update users &quot; +\r\n                &quot;set email = :email, first_name = :firstName, second_name = :secondName &quot; +\r\n                &quot;where user_id = :userId &quot; +\r\n                &quot;returning user_id, email, first_name, second_name;&quot;)\r\n    User update(\r\n        @Param(&quot;userId&quot;) @NonNull String userId,\r\n        @Param(&quot;firstName&quot;) @NonNull String firstName,\r\n        @Param(&quot;secondName&quot;) @NonNull String secondName,\r\n        @Param(&quot;email&quot;) @NonNull String email\r\n    );\r\n```\r\nbut got the same result with locations in response from DB\r\n\r\n\r\nThis is a hibernate log:\r\n\r\n```\r\nHibernate: \r\n    /* dynamic native SQL query */ update\r\n        users \r\n    set\r\n        email = ?,\r\n        first_name = ?,\r\n        second_name = ? \r\n    where\r\n        user_id = ? returning user_id, email, first_name, second_name;\r\nHibernate: \r\n    select\r\n        locations0_.user_id as user_id5_0_0_,\r\n        locations0_.location_id as location1_0_0_,\r\n        locations0_.location_id as location1_0_1_,\r\n        locations0_.created_at as created_2_0_1_,\r\n        locations0_.latitude as latitude3_0_1_,\r\n        locations0_.longitude as longitud4_0_1_,\r\n        locations0_.user_id as user_id5_0_1_ \r\n    from\r\n        locations locations0_ \r\n    where\r\n        locations0_.user_id=?\r\n```","title":"Spring Data JPA how to avoid loading a column","body":"<p>I have two entities:</p>\n<pre><code>@Entity\n@Table(name = &quot;locations&quot;)\n@Data\n@NoArgsConstructor\n@RequiredArgsConstructor\npublic class Location {\n\n    @Id\n    @Column(name = &quot;location_id&quot;, nullable = false, unique = true)\n    @Type(type=&quot;org.hibernate.type.UUIDCharType&quot;)\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private UUID locationId;\n\n    @NonNull\n    @JsonFormat(pattern = &quot;yyyy-MM-dd'T'HH:mm:ss.ms&quot;)\n    @Column(name = &quot;created_at&quot;, nullable = false)\n    private LocalDateTime createdAt;\n\n    @NonNull\n    @Type(type=&quot;org.hibernate.type.UUIDCharType&quot;)\n    @Column(name = &quot;user_id&quot;, nullable = false)\n    private UUID userId;\n\n    @NonNull\n    @Column(name = &quot;latitude&quot;, nullable = false)\n    private Double latitude;\n\n    @NonNull\n    @Column(name = &quot;longitude&quot;, nullable = false)\n    private Double longitude;\n}\n</code></pre>\n<p>and</p>\n<pre><code>@Entity\n@Table(name = &quot;users&quot;)\n@Data\n@NoArgsConstructor\n@RequiredArgsConstructor\npublic class User {\n\n    @NonNull\n    @Id\n    @Type(type = &quot;org.hibernate.type.UUIDCharType&quot;)\n    @Column(name = &quot;user_id&quot;, nullable = false, unique = true)\n    private UUID userId;\n\n    @NonNull\n    @Column(name = &quot;email&quot;, length = 100, nullable = false, unique = true)\n    private String email;\n\n    @NonNull\n    @Column(name = &quot;first_name&quot;, nullable = false)\n    private String firstName;\n\n    @NonNull\n    @Column(name = &quot;second_name&quot;, nullable = false)\n    private String secondName;\n\n    @OneToMany(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;user_id&quot;, referencedColumnName = &quot;user_id&quot;)\n    private List&lt;Location&gt; locations;\n}\n</code></pre>\n<p>and then i have</p>\n<pre><code>@Repository\npublic interface UserRepository extends JpaRepository&lt;User, UUID&gt; {\n    User save(User user);\n}\n</code></pre>\n<p>userRepository.save(user) - this method return User with all locations which referenced to this user.</p>\n<p>I want to avoid this join query in sql since there could be a lot of referenced locations to the user. This could be cause of OutOfMemory etc. So, i want to get only User without List locations after\n<code>userRepository.save(user)</code></p>\n<p>I tried to write query this way:</p>\n<pre><code>@Query(nativeQuery = true,\n        value = &quot;update users &quot; +\n                &quot;set email = :email, first_name = :firstName, second_name = :secondName &quot; +\n                &quot;where user_id = :userId &quot; +\n                &quot;returning user_id, email, first_name, second_name;&quot;)\n    User update(\n        @Param(&quot;userId&quot;) @NonNull String userId,\n        @Param(&quot;firstName&quot;) @NonNull String firstName,\n        @Param(&quot;secondName&quot;) @NonNull String secondName,\n        @Param(&quot;email&quot;) @NonNull String email\n    );\n</code></pre>\n<p>but got the same result with locations in response from DB</p>\n<p>This is a hibernate log:</p>\n<pre><code>Hibernate: \n    /* dynamic native SQL query */ update\n        users \n    set\n        email = ?,\n        first_name = ?,\n        second_name = ? \n    where\n        user_id = ? returning user_id, email, first_name, second_name;\nHibernate: \n    select\n        locations0_.user_id as user_id5_0_0_,\n        locations0_.location_id as location1_0_0_,\n        locations0_.location_id as location1_0_1_,\n        locations0_.created_at as created_2_0_1_,\n        locations0_.latitude as latitude3_0_1_,\n        locations0_.longitude as longitud4_0_1_,\n        locations0_.user_id as user_id5_0_1_ \n    from\n        locations locations0_ \n    where\n        locations0_.user_id=?\n</code></pre>\n"},{"tags":["java","android","colors","icons","statusbar"],"comments":[{"owner":{"account_id":12721843,"reputation":16003,"user_id":9241978,"display_name":"Pawel"},"score":3,"creation_date":1628508322,"post_id":68711226,"comment_id":121431068,"body_markdown":"As far as I&#39;m aware you cannot tint status bar icons on android. You can either make your them white or dark (light status bar).","body":"As far as I&#39;m aware you cannot tint status bar icons on android. You can either make your them white or dark (light status bar)."},{"owner":{"account_id":10514292,"reputation":1065,"user_id":9382531,"display_name":"Akash Pal"},"score":0,"creation_date":1628508422,"post_id":68711226,"comment_id":121431108,"body_markdown":"status bar ican can either be grey or white depending on theme","body":"status bar ican can either be grey or white depending on theme"},{"owner":{"account_id":14688816,"reputation":354,"user_id":10608055,"display_name":"Amin"},"score":0,"creation_date":1628508635,"post_id":68711226,"comment_id":121431198,"body_markdown":"Whatever I did, I could not adjust my desired color","body":"Whatever I did, I could not adjust my desired color"},{"owner":{"account_id":14688816,"reputation":354,"user_id":10608055,"display_name":"Amin"},"score":0,"creation_date":1628508844,"post_id":68711226,"comment_id":121431291,"body_markdown":"I make the color gray. BUT doesn&#39;t work in lower APIs ANDROID","body":"I make the color gray. BUT doesn&#39;t work in lower APIs ANDROID"},{"owner":{"account_id":14688816,"reputation":354,"user_id":10608055,"display_name":"Amin"},"score":0,"creation_date":1628510193,"post_id":68711226,"comment_id":121431835,"body_markdown":"Do you have a good method for low API that I can use more easily?","body":"Do you have a good method for low API that I can use more easily?"},{"owner":{"account_id":1913807,"reputation":391,"user_id":1726894,"display_name":"Amit Kumar"},"score":0,"creation_date":1628512486,"post_id":68711226,"comment_id":121432804,"body_markdown":"I am afraid that its not possible to customize the color of the status bar icons.","body":"I am afraid that its not possible to customize the color of the status bar icons."},{"owner":{"account_id":14688816,"reputation":354,"user_id":10608055,"display_name":"Amin"},"score":0,"creation_date":1628513483,"post_id":68711226,"comment_id":121433251,"body_markdown":"So how do you think I can change the default from white to black so that fewer don&#39;t problems occur in lower Android.","body":"So how do you think I can change the default from white to black so that fewer don&#39;t problems occur in lower Android."}],"answers":[{"tags":[],"owner":{"account_id":14338249,"reputation":3000,"user_id":10357086,"display_name":"Dev4Life"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1628520436,"creation_date":1628520436,"answer_id":68714085,"question_id":68711226,"body_markdown":"You can&#39;t actually change the status bar icon color in android like that. You can still change the status bar color to whatever you want, but for status bar icons, there are only 2 options - Light (white) or Dark (gray).\r\n\r\nIf you want to use white icons, then simply put `&lt;item name=&quot;android:windowLightStatusBar&quot;&gt;false&lt;/item&gt;` attribute in your base application theme. For dark icons `&lt;item name=&quot;android:windowLightStatusBar&quot;&gt;true&lt;/item&gt;`\r\n\r\nYou can also do it programmatically like mentioned here - https://stackoverflow.com/a/39596725/10357086","title":"How to change status bar icons color in Android?","body":"<p>You can't actually change the status bar icon color in android like that. You can still change the status bar color to whatever you want, but for status bar icons, there are only 2 options - Light (white) or Dark (gray).</p>\n<p>If you want to use white icons, then simply put <code>&lt;item name=&quot;android:windowLightStatusBar&quot;&gt;false&lt;/item&gt;</code> attribute in your base application theme. For dark icons <code>&lt;item name=&quot;android:windowLightStatusBar&quot;&gt;true&lt;/item&gt;</code></p>\n<p>You can also do it programmatically like mentioned here - <a href=\"https://stackoverflow.com/a/39596725/10357086\">https://stackoverflow.com/a/39596725/10357086</a></p>\n"},{"tags":[],"owner":{"account_id":8727017,"reputation":171,"user_id":6528374,"display_name":"Swapnil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674562519,"creation_date":1674562519,"answer_id":75221341,"question_id":68711226,"body_markdown":"in kotlin you can use following lines\r\n \r\n```java\r\n// for white color of status bar \r\n       \r\n val window = this.window\r\n        window.addFlags(WindowManager.LayoutParams.FLAG_DRAWS_SYSTEM_BAR_BACKGROUNDS)\r\n        window.statusBarColor = ContextCompat.getColor(this, R.color.white)\r\n        WindowCompat.getInsetsController(window, window.decorView).apply {\r\n            isAppearanceLightStatusBars = true\r\n        }\r\n\r\n\r\n// for other color of status bar  \r\n\r\nval window = this.window\r\n  window.addFlags(WindowManager.LayoutParams.FLAG_DRAWS_SYSTEM_BAR_BACKGROUNDS)\r\n    window.statusBarColor = ContextCompat.getColor(this, R.color.other_color)\r\n    WindowCompat.getInsetsController(window, window.decorView).apply {\r\n        isAppearanceLightStatusBars = false\r\n    }","title":"How to change status bar icons color in Android?","body":"<p>in kotlin you can use following lines</p>\n<pre class=\"lang-java prettyprint-override\"><code>// for white color of status bar \n       \n val window = this.window\n        window.addFlags(WindowManager.LayoutParams.FLAG_DRAWS_SYSTEM_BAR_BACKGROUNDS)\n        window.statusBarColor = ContextCompat.getColor(this, R.color.white)\n        WindowCompat.getInsetsController(window, window.decorView).apply {\n            isAppearanceLightStatusBars = true\n        }\n\n\n// for other color of status bar  \n\nval window = this.window\n  window.addFlags(WindowManager.LayoutParams.FLAG_DRAWS_SYSTEM_BAR_BACKGROUNDS)\n    window.statusBarColor = ContextCompat.getColor(this, R.color.other_color)\n    WindowCompat.getInsetsController(window, window.decorView).apply {\n        isAppearanceLightStatusBars = false\n    }\n</code></pre>\n"}],"owner":{"account_id":14688816,"reputation":354,"user_id":10608055,"display_name":"Amin"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5689,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":68714085,"answer_count":2,"score":2,"last_activity_date":1674562519,"creation_date":1628508120,"question_id":68711226,"body_markdown":"I want to change the color of the status bar icon from white to my own custom color so that it works in all versions. I try the following code but I can not do it. could you help me, please?\r\n\r\n&lt;br&gt;\r\n&lt;hr&gt;\r\n\r\nThe code I used, but this code is not the only solution for APIS + 23 and doesn&#39;t work for low API (API 16, API 17 and etc ).\r\n\r\n    getWindow().getDecorView().setSystemUiVisibility(View.SYSTEM_UI_FLAG_LIGHT_STATUS_BAR);\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n&lt;br&gt;\r\n&lt;br&gt;\r\n\r\nThe color scheme I want to change.\r\n\r\n    color #5DD6D6\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/jL9fi.png\r\n  [2]: https://i.stack.imgur.com/bFilx.png","title":"How to change status bar icons color in Android?","body":"<p>I want to change the color of the status bar icon from white to my own custom color so that it works in all versions. I try the following code but I can not do it. could you help me, please?</p>\n<br>\n<hr>\n<p>The code I used, but this code is not the only solution for APIS + 23 and doesn't work for low API (API 16, API 17 and etc ).</p>\n<pre><code>getWindow().getDecorView().setSystemUiVisibility(View.SYSTEM_UI_FLAG_LIGHT_STATUS_BAR);\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/jL9fi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jL9fi.png\" alt=\"enter image description here\" /></a></p>\n<br>\n<br>\n<p>The color scheme I want to change.</p>\n<pre><code>color #5DD6D6\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/bFilx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bFilx.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","rest","cucumber","bdd","rest-assured"],"comments":[{"owner":{"account_id":11146382,"reputation":283,"user_id":8180996,"display_name":"Kiran Kandel"},"score":0,"creation_date":1674540540,"post_id":75217936,"comment_id":132730026,"body_markdown":"response body from the DeletePlace request might be empty, maybe checking if the response body is empty before trying to extract a value from it would help","body":"response body from the DeletePlace request might be empty, maybe checking if the response body is empty before trying to extract a value from it would help"},{"owner":{"account_id":16068204,"reputation":21,"user_id":11597279,"display_name":"deepak thakur"},"score":0,"creation_date":1674540877,"post_id":75217936,"comment_id":132730073,"body_markdown":"@KiranKandel No DeletePlace request is having following body when hit it from postman: {\n  &quot;status&quot;: &quot;OK&quot;\n}","body":"@KiranKandel No DeletePlace request is having following body when hit it from postman: {   &quot;status&quot;: &quot;OK&quot; }"},{"owner":{"account_id":11146382,"reputation":283,"user_id":8180996,"display_name":"Kiran Kandel"},"score":0,"creation_date":1674541243,"post_id":75217936,"comment_id":132730120,"body_markdown":"then maybe try passing resp.body to jsonpath instead?","body":"then maybe try passing resp.body to jsonpath instead?"},{"owner":{"account_id":16068204,"reputation":21,"user_id":11597279,"display_name":"deepak thakur"},"score":0,"creation_date":1674541697,"post_id":75217936,"comment_id":132730198,"body_markdown":"still not working","body":"still not working"},{"owner":{"account_id":10263942,"reputation":5676,"user_id":7574461,"display_name":"lucas-nguyen-17"},"score":0,"creation_date":1674630735,"post_id":75217936,"comment_id":132752987,"body_markdown":"@deepakthakur it indicates that your response is empty. Use proxy tool to capture request in RA and postman then compare them to find the differences.","body":"@deepakthakur it indicates that your response is empty. Use proxy tool to capture request in RA and postman then compare them to find the differences."}],"answers":[{"tags":[],"owner":{"account_id":20742231,"reputation":1,"user_id":15231568,"display_name":"Evan Mahendra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674562490,"creation_date":1674562402,"answer_id":75221319,"question_id":75217936,"body_markdown":"i recommend you to use `org.springframework.core.io.Resource` to get your properties, like this :\r\n\r\n    @Value(value = &quot;classpath:your_file.json&quot;)\r\n\tprivate Resource resource;\r\n\r\nafter you got your file, try to mapping with :\r\n\r\n    public static Map&lt;String, Object&gt; jsonToMap(String json) {\r\n        try {\r\n            final ObjectMapper mapper = new ObjectMapper();\r\n            return mapper.readValue(json, new TypeReference&lt;&gt;(){});\r\n        }catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n        return null;\r\n    }","title":"Failed to parse the JSON document: Request successfully return 200 response but response body isn&#39;t printed in Log file","body":"<p>i recommend you to use <code>org.springframework.core.io.Resource</code> to get your properties, like this :</p>\n<pre><code>@Value(value = &quot;classpath:your_file.json&quot;)\nprivate Resource resource;\n</code></pre>\n<p>after you got your file, try to mapping with :</p>\n<pre><code>public static Map&lt;String, Object&gt; jsonToMap(String json) {\n    try {\n        final ObjectMapper mapper = new ObjectMapper();\n        return mapper.readValue(json, new TypeReference&lt;&gt;(){});\n    }catch (Exception e) {\n        e.printStackTrace();\n    }\n    return null;\n}\n</code></pre>\n"}],"owner":{"account_id":16068204,"reputation":21,"user_id":11597279,"display_name":"deepak thakur"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":259,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1674562490,"creation_date":1674540230,"question_id":75217936,"body_markdown":"I got an exception with validating &quot;status&quot;: &quot;OK&quot; in the response body of the DeletePlace request. Request is successful with 200 status code but there is no response body in the log file. Console error is pointing to the  Utils line#47. Below is the code &amp; screenshot of the error console pointing error to:\r\n[enter image description here](https://i.stack.imgur.com/AMNpV.png)\r\n```\r\npackage resources;\r\n\r\nimport java.io.FileInputStream;\r\nimport java.io.FileOutputStream;\r\nimport java.io.IOException;\r\nimport java.io.PrintStream;\r\nimport java.util.Properties;\r\n\r\nimport io.restassured.RestAssured;\r\nimport io.restassured.builder.RequestSpecBuilder;\r\nimport io.restassured.filter.log.RequestLoggingFilter;\r\nimport io.restassured.filter.log.ResponseLoggingFilter;\r\nimport io.restassured.http.ContentType;\r\nimport io.restassured.path.json.JsonPath;\r\nimport io.restassured.response.Response;\r\nimport io.restassured.specification.RequestSpecification;\r\n\r\npublic class Utils {\r\n\t\r\n\tpublic static RequestSpecification req;\r\n\tpublic RequestSpecification requestSpecification() throws IOException\r\n\t{\r\n\t\tif (req==null)\r\n\t\t{\r\n\t\tPrintStream log = new PrintStream(new FileOutputStream(&quot;logging.txt&quot;));\r\n\t\treq = new RequestSpecBuilder().setBaseUri(getGlobalValue(&quot;baseUrl&quot;)).addQueryParam(&quot;key&quot;, &quot;qaclick123&quot;)\r\n\t\t\t\t.addFilter(RequestLoggingFilter.logRequestTo(log))\r\n\t\t\t\t.addFilter(ResponseLoggingFilter.logResponseTo(log))\r\n\t\t.setContentType(ContentType.JSON).build();\r\n\t\treturn req;\r\n\t\t}\r\n\t\treturn req;\r\n\t}\r\n\t\r\n\tpublic static String getGlobalValue(String key) throws IOException\r\n\t{\r\n\t\tProperties prop = new Properties();\r\n\t\tFileInputStream fis = new FileInputStream(&quot;E:\\\\Eclipse-Workspace\\\\RestAssuredAPIFramework\\\\src\\\\test\\\\java\\\\resources\\\\global.properties&quot;);\r\n\t\tprop.load(fis);\r\n\t\treturn prop.getProperty(key);\r\n\t}\r\n\t\r\n\tpublic String getJsonPath(Response response, String key)\r\n\t{\r\n\t\tString resp = response.asString();\r\n\t\tJsonPath js = new JsonPath(resp);\r\n\t\treturn js.get(key).toString(); //Error line\r\n\t}\r\n\r\n}\r\n```\r\n\r\n\r\nPlease help me out and let me know if any other information is required.\r\n\r\nI&#39;ve tried creating getJsonPath method again and all possible fixes I got from various articles but not able to resolved this. I&#39;m expecting the test to execute without any error.","title":"Failed to parse the JSON document: Request successfully return 200 response but response body isn&#39;t printed in Log file","body":"<p>I got an exception with validating &quot;status&quot;: &quot;OK&quot; in the response body of the DeletePlace request. Request is successful with 200 status code but there is no response body in the log file. Console error is pointing to the  Utils line#47. Below is the code &amp; screenshot of the error console pointing error to:\n<a href=\"https://i.stack.imgur.com/AMNpV.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<pre><code>package resources;\n\nimport java.io.FileInputStream;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.io.PrintStream;\nimport java.util.Properties;\n\nimport io.restassured.RestAssured;\nimport io.restassured.builder.RequestSpecBuilder;\nimport io.restassured.filter.log.RequestLoggingFilter;\nimport io.restassured.filter.log.ResponseLoggingFilter;\nimport io.restassured.http.ContentType;\nimport io.restassured.path.json.JsonPath;\nimport io.restassured.response.Response;\nimport io.restassured.specification.RequestSpecification;\n\npublic class Utils {\n    \n    public static RequestSpecification req;\n    public RequestSpecification requestSpecification() throws IOException\n    {\n        if (req==null)\n        {\n        PrintStream log = new PrintStream(new FileOutputStream(&quot;logging.txt&quot;));\n        req = new RequestSpecBuilder().setBaseUri(getGlobalValue(&quot;baseUrl&quot;)).addQueryParam(&quot;key&quot;, &quot;qaclick123&quot;)\n                .addFilter(RequestLoggingFilter.logRequestTo(log))\n                .addFilter(ResponseLoggingFilter.logResponseTo(log))\n        .setContentType(ContentType.JSON).build();\n        return req;\n        }\n        return req;\n    }\n    \n    public static String getGlobalValue(String key) throws IOException\n    {\n        Properties prop = new Properties();\n        FileInputStream fis = new FileInputStream(&quot;E:\\\\Eclipse-Workspace\\\\RestAssuredAPIFramework\\\\src\\\\test\\\\java\\\\resources\\\\global.properties&quot;);\n        prop.load(fis);\n        return prop.getProperty(key);\n    }\n    \n    public String getJsonPath(Response response, String key)\n    {\n        String resp = response.asString();\n        JsonPath js = new JsonPath(resp);\n        return js.get(key).toString(); //Error line\n    }\n\n}\n</code></pre>\n<p>Please help me out and let me know if any other information is required.</p>\n<p>I've tried creating getJsonPath method again and all possible fixes I got from various articles but not able to resolved this. I'm expecting the test to execute without any error.</p>\n"},{"tags":["java","spring","multithreading","process","completable-future"],"comments":[{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1672903059,"post_id":75014712,"comment_id":132378763,"body_markdown":"Does anybody else have never used `CompletableFuture` in Java multi threading?","body":"Does anybody else have never used <code>CompletableFuture</code> in Java multi threading?"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1672914423,"post_id":75014712,"comment_id":132382025,"body_markdown":"When you say “but Thread may have more advantages” what advantages are you assuming? And what exactly do you expect for the second point? Your code example is already complete, just change the type of `result1` to `Integer`, as otherwise, it can’t be `null` at all. Then, `if(result1 == null) return future2.get(); else return result1;` There is no way to “stop process” with `CompletableFuture`.","body":"When you say “but Thread may have more advantages” what advantages are you assuming? And what exactly do you expect for the second point? Your code example is already complete, just change the type of <code>result1</code> to <code>Integer</code>, as otherwise, it can’t be <code>null</code> at all. Then, <code>if(result1 == null) return future2.get(); else return result1;</code> There is no way to “stop process” with <code>CompletableFuture</code>."},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1672917673,"post_id":75014712,"comment_id":132383117,"body_markdown":"I want to get the first response among two requests rather than a specific one. For example, sometimes I get `future1`, sometimes `future2` as there is no guarantee. So, I want to get the first response and check its value. Then based on this value get the second response or stop the second thread. I do not have to solve the problem only using `CompletableFuture`. If you have any suggestion with Thread or Runnable, I would be appreciated if you share by posting a sample code.","body":"I want to get the first response among two requests rather than a specific one. For example, sometimes I get <code>future1</code>, sometimes <code>future2</code> as there is no guarantee. So, I want to get the first response and check its value. Then based on this value get the second response or stop the second thread. I do not have to solve the problem only using <code>CompletableFuture</code>. If you have any suggestion with Thread or Runnable, I would be appreciated if you share by posting a sample code."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1672925234,"post_id":75014712,"comment_id":132385637,"body_markdown":"A `CompletableFuture` *is* using `Runnable` and `Thread` behind the scenes. I don’t know what advantage you think to gain by dealing with `Runnable` and `Thread` manually. If you want to stop tasks, you need an `ExecutorService` which returns `Future` objects truly supporting cancellation. However, that still requires active support for interruption in your tasks, i.e. the operations encapsulated by `fetchAsync`.","body":"A <code>CompletableFuture</code> <i>is</i> using <code>Runnable</code> and <code>Thread</code> behind the scenes. I don’t know what advantage you think to gain by dealing with <code>Runnable</code> and <code>Thread</code> manually. If you want to stop tasks, you need an <code>ExecutorService</code> which returns <code>Future</code> objects truly supporting cancellation. However, that still requires active support for interruption in your tasks, i.e. the operations encapsulated by <code>fetchAsync</code>."},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1672949617,"post_id":75014712,"comment_id":132394380,"body_markdown":"@Holger Thanks for explanations. Why do not you post an example as answer as the other friends?","body":"@Holger Thanks for explanations. Why do not you post an example as answer as the other friends?"}],"answers":[{"tags":[],"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1672903868,"creation_date":1672903139,"answer_id":75014986,"question_id":75014712,"body_markdown":"&gt; So, should I stick to CompletableFuture or use all of them based on the scenario?\r\n\r\nWell, they all have different purposes and you&#39;ll probably use them all either directly or indirectly:\r\n\r\n- `Thread` represents a thread and while it can be subclassed in most cases you shouldn&#39;t do so. Many frameworks maintain thread pools, i.e. they spin up several threads that then can take tasks from a task pool. This is done to reduce the overhead that thread creation brings as well as to reduce the amount of contention (many threads and few cpu cores mean a lot of context switches so you&#39;d normally try to have fewer threads that just work on one task after another).\r\n- `Runnable` was one of the first interfaces to represent tasks that a thread can work on. Another is `Callable` which has 2 major differences to `Runnable`: 1) it can return a value while `Runnable` has `void` and 2) it can throw checked exceptions. Depending on your case you can use either but since you want to get a result, you&#39;ll more likely use `Callable`.\r\n- `CompletableFuture` and `Future` are basically a way for cross-thread communication, i.e. you can use those to check whether the task is done already (non-blocking) or to wait for completion (blocking). \r\n\r\nSo in many cases it&#39;s like this: \r\n- you submit a `Runnable` or `Callable` to some executor\r\n- the executor maintains a pool of `Thread`s to execute the tasks you submitted\r\n- the executor returns a `Future` (one implementation being `CompletableFuture`) for you to check on the status and results of the task without having to synchronize yourself.\r\n\r\nHowever, there may be other cases where you directly provide a `Runnable` to a `Thread` or even subclass `Thread` but nowadays those are far less common.\r\n\r\n&gt; How can I do this? Should I use CompletableFuture.anyOf() for that?\r\n\r\n`CompletableFuture.anyOf()` wouldn&#39;t work since you&#39;d not be able to determine which of the 2 you&#39;d pass in was successful first.\r\n\r\nSince you&#39;re interested in `result1` first (which btw can&#39;t be `null` if the type is `int`) you basically want to do the following:\r\n\r\n    Integer result1 = future1.get(); //block until result 1 is ready\r\n    if( result1 != null ) {\r\n      return result1;\r\n    } else {\r\n      return future2.get(); //result1 was null so wait for result2 and return it\r\n    }\r\n\r\nYou&#39;d not want to call `future2.get()` right away since that would block until both are done but instead you&#39;re first interested in `future1` only so if that produces a result you wouldn&#39;t have for `future2` to ever finish.\r\n\r\nNote that the code above doesn&#39;t handle exceptional completions and there&#39;s also probably a more elegant way of composing the futures like you want but I don&#39;t remember it atm (if I do I&#39;ll add it as an edit).\r\n\r\nAnother note: you _could_ call `future2.cancel()` if `result1` isn&#39;t null but I&#39;d suggest you first check whether cancelling would even work (e.g. you&#39;d have a hard time really cancelling a webservice request) and what the results of interrupting the service would be. If it&#39;s ok to just let it complete and ignore the result that&#39;s probably the easier way to go.","title":"Thread vs Runnable vs CompletableFuture in Java multi threading","body":"<blockquote>\n<p>So, should I stick to CompletableFuture or use all of them based on the scenario?</p>\n</blockquote>\n<p>Well, they all have different purposes and you'll probably use them all either directly or indirectly:</p>\n<ul>\n<li><code>Thread</code> represents a thread and while it can be subclassed in most cases you shouldn't do so. Many frameworks maintain thread pools, i.e. they spin up several threads that then can take tasks from a task pool. This is done to reduce the overhead that thread creation brings as well as to reduce the amount of contention (many threads and few cpu cores mean a lot of context switches so you'd normally try to have fewer threads that just work on one task after another).</li>\n<li><code>Runnable</code> was one of the first interfaces to represent tasks that a thread can work on. Another is <code>Callable</code> which has 2 major differences to <code>Runnable</code>: 1) it can return a value while <code>Runnable</code> has <code>void</code> and 2) it can throw checked exceptions. Depending on your case you can use either but since you want to get a result, you'll more likely use <code>Callable</code>.</li>\n<li><code>CompletableFuture</code> and <code>Future</code> are basically a way for cross-thread communication, i.e. you can use those to check whether the task is done already (non-blocking) or to wait for completion (blocking).</li>\n</ul>\n<p>So in many cases it's like this:</p>\n<ul>\n<li>you submit a <code>Runnable</code> or <code>Callable</code> to some executor</li>\n<li>the executor maintains a pool of <code>Thread</code>s to execute the tasks you submitted</li>\n<li>the executor returns a <code>Future</code> (one implementation being <code>CompletableFuture</code>) for you to check on the status and results of the task without having to synchronize yourself.</li>\n</ul>\n<p>However, there may be other cases where you directly provide a <code>Runnable</code> to a <code>Thread</code> or even subclass <code>Thread</code> but nowadays those are far less common.</p>\n<blockquote>\n<p>How can I do this? Should I use CompletableFuture.anyOf() for that?</p>\n</blockquote>\n<p><code>CompletableFuture.anyOf()</code> wouldn't work since you'd not be able to determine which of the 2 you'd pass in was successful first.</p>\n<p>Since you're interested in <code>result1</code> first (which btw can't be <code>null</code> if the type is <code>int</code>) you basically want to do the following:</p>\n<pre><code>Integer result1 = future1.get(); //block until result 1 is ready\nif( result1 != null ) {\n  return result1;\n} else {\n  return future2.get(); //result1 was null so wait for result2 and return it\n}\n</code></pre>\n<p>You'd not want to call <code>future2.get()</code> right away since that would block until both are done but instead you're first interested in <code>future1</code> only so if that produces a result you wouldn't have for <code>future2</code> to ever finish.</p>\n<p>Note that the code above doesn't handle exceptional completions and there's also probably a more elegant way of composing the futures like you want but I don't remember it atm (if I do I'll add it as an edit).</p>\n<p>Another note: you <em>could</em> call <code>future2.cancel()</code> if <code>result1</code> isn't null but I'd suggest you first check whether cancelling would even work (e.g. you'd have a hard time really cancelling a webservice request) and what the results of interrupting the service would be. If it's ok to just let it complete and ignore the result that's probably the easier way to go.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1672931331,"creation_date":1672903309,"answer_id":75015021,"question_id":75014712,"body_markdown":"&gt; So, should I stick to `CompletableFuture` or use all of them based on the scenario?\r\n\r\nUse the one that is most appropriate to the scenario.  Obviously, we can&#39;t be more specific unless you explain the scenario. \r\n\r\nThere are various factors to take into account.  For example:\r\n\r\n  - `Thread` + `Runnable` doesn&#39;t have a natural way to wait for / return a result.  (But it is not hard to implement.)\r\n  - Repeatedly creating bare `Thread` objects is inefficient because thread creation is expensive.  Thread pooling is better but you shouldn&#39;t implement a thread pool yourself.\r\n  - Solutions that use an `ExecutorService` take care of thread pooling and allow you to use `Callable` and return a `Future`.  But for a once-off async computation this might be over-kill.\r\n  - Solutions that involve `ComputableFuture` allow you to compose and combine asynchronous tasks.  But if you don&#39;t need to do that, using `ComputableFuture` may be overkill.\r\n\r\nAs you can see ... there is no single correct answer for all scenarios.\r\n\r\n-----------------\r\n\r\n&gt; Should I use `CompletableFuture.anyOf()` for that?\r\n\r\nNo. The logic of your example requires that you must have the result for `future1` to determine whether or not you need the result for `future2`.  So the solution is something like this:\r\n\r\n    Integer i1 = future1.get();\r\n    if (i1 == null) {\r\n        return future2.get();\r\n    } else {\r\n        future2.cancel(true);\r\n        return i1;\r\n    }\r\n\r\nNote that the above works with plain `Future` as well as CompletableFuture.  If you were using `CompletableFuture` because you thought that `anyOf` was the solution, then you didn&#39;t need to do that.  Calling `ExecutorService.submit(Callable)` will give you a `Future` ...\r\n\r\nIt will be more complicated if you need to deal with exceptions thrown by the tasks and/or timeouts.  In the former case, you need to catch `ExecutionException` and the extract its `cause` exception to get the exception thrown by the task.\r\n\r\nThere is also the caveat that the second computation may ignore the interrupt and continue on regardless.  \r\n\r\n\r\n\r\n\r\n        ","title":"Thread vs Runnable vs CompletableFuture in Java multi threading","body":"<blockquote>\n<p>So, should I stick to <code>CompletableFuture</code> or use all of them based on the scenario?</p>\n</blockquote>\n<p>Use the one that is most appropriate to the scenario.  Obviously, we can't be more specific unless you explain the scenario.</p>\n<p>There are various factors to take into account.  For example:</p>\n<ul>\n<li><code>Thread</code> + <code>Runnable</code> doesn't have a natural way to wait for / return a result.  (But it is not hard to implement.)</li>\n<li>Repeatedly creating bare <code>Thread</code> objects is inefficient because thread creation is expensive.  Thread pooling is better but you shouldn't implement a thread pool yourself.</li>\n<li>Solutions that use an <code>ExecutorService</code> take care of thread pooling and allow you to use <code>Callable</code> and return a <code>Future</code>.  But for a once-off async computation this might be over-kill.</li>\n<li>Solutions that involve <code>ComputableFuture</code> allow you to compose and combine asynchronous tasks.  But if you don't need to do that, using <code>ComputableFuture</code> may be overkill.</li>\n</ul>\n<p>As you can see ... there is no single correct answer for all scenarios.</p>\n<hr />\n<blockquote>\n<p>Should I use <code>CompletableFuture.anyOf()</code> for that?</p>\n</blockquote>\n<p>No. The logic of your example requires that you must have the result for <code>future1</code> to determine whether or not you need the result for <code>future2</code>.  So the solution is something like this:</p>\n<pre><code>Integer i1 = future1.get();\nif (i1 == null) {\n    return future2.get();\n} else {\n    future2.cancel(true);\n    return i1;\n}\n</code></pre>\n<p>Note that the above works with plain <code>Future</code> as well as CompletableFuture.  If you were using <code>CompletableFuture</code> because you thought that <code>anyOf</code> was the solution, then you didn't need to do that.  Calling <code>ExecutorService.submit(Callable)</code> will give you a <code>Future</code> ...</p>\n<p>It will be more complicated if you need to deal with exceptions thrown by the tasks and/or timeouts.  In the former case, you need to catch <code>ExecutionException</code> and the extract its <code>cause</code> exception to get the exception thrown by the task.</p>\n<p>There is also the caveat that the second computation may ignore the interrupt and continue on regardless.</p>\n"},{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1672998030,"creation_date":1672997730,"answer_id":75029179,"question_id":75014712,"body_markdown":"`CompletableFuture` is a tool which settles atop the `Executor`/`ExecutorService` abstraction, which has implementations dealing with `Runnable` and `Thread`. You usually have no reason to deal with `Thread` creation manually. If you find `CompletableFuture` unsuitable for a particular task you may try the other tools/abstractions first.\r\n\r\nIf you want to proceed with the first (in the sense of faster) non‑null result, you can use something like\r\n\r\n```java\r\nCompletableFuture&lt;Integer&gt; future1 = fetchAsync(1);\r\nCompletableFuture&lt;Integer&gt; future2 = fetchAsync(2);\r\n\r\nInteger result = CompletableFuture.anyOf(future1, future2)\r\n    .thenCompose(i -&gt; i != null?\r\n        CompletableFuture.completedFuture((Integer)i):\r\n        future1.thenCombine(future2, (a, b) -&gt; a != null? a: b))\r\n    .join();\r\n```\r\n\r\n`anyOf` allows you to proceed with the first result, but regardless of its actual value. So to use the first non‑null result we need to chain another operation which will resort to `thenCombine` if the first result is `null`. This will only complete when both futures have been completed but at this point we already know that the faster result was `null` and the second is needed. The overall code will still result in `null` when both results were `null`.\r\n\r\nNote that `anyOf` accepts arbitrarily typed futures and results in a `CompletableFuture&lt;Object&gt;`. Hence, `i` is of type `Object` and a type cast needed. An alternative with full type safety would be\r\n\r\n```java\r\nCompletableFuture&lt;Integer&gt; future1 = fetchAsync(1);\r\nCompletableFuture&lt;Integer&gt; future2 = fetchAsync(2);\r\n\r\nInteger result = future1.applyToEither(future2, Function.identity())\r\n    .thenCompose(i -&gt; i != null?\r\n        CompletableFuture.completedFuture(i):\r\n        future1.thenCombine(future2, (a, b) -&gt; a != null? a: b))\r\n    .join();\r\n```\r\n\r\nwhich requires us to specify a function which we do not need here, so this code resorts to `Function.identity()`. You could also just use `i -&gt; i` to denote an identity function; that’s [mostly a stylistic choice].\r\n\r\n---\r\n\r\nNote that most complications stem from the design that tries to avoid blocking threads by always chaining a dependent operation to be executed when the previous stage has been completed. The examples above follow this principle as the final `join()` call is only for demonstration purposes; you can easily remove it and return the future, if the caller expects a future rather than being blocked.\r\n\r\nIf you are going to perform the final blocking `join()` anyway, because you need the result value immediately, you can also use\r\n\r\n```java\r\nInteger result = future1.applyToEither(future2, Function.identity()).join();\r\nif(result == null) {\r\n    Integer a = future1.join(), b = future2.join();\r\n    result = a != null? a: b;\r\n}\r\n```\r\n\r\nwhich might be easier to read and debug. This ease of use is the motivation behind the upcoming [Virtual Threads] feature. When an action is running on a virtual thread, you don’t need to avoid blocking calls. So with this feature, if you still need to return a `CompletableFuture` without blocking the your caller thread, you can use\r\n\r\n```java\r\nCompletableFuture&lt;Integer&gt; resultFuture = future1.applyToEitherAsync(future2, r-&gt; {\r\n    if(r != null) return r;\r\n    Integer a = future1.join(), b = future2.join();\r\n    return a != null? a: b;\r\n}, Executors.newVirtualThreadPerTaskExecutor());\r\n```\r\n\r\nBy requesting a virtual thread for the dependent action, we can use blocking `join()` calls within the function without hesitation which makes the code simpler, in fact, similar to the previous non-asynchronous variant.\r\n\r\n---\r\n\r\nIn all cases, the code will provide the faster result if it is non‑null, without waiting for the completion of the second future. But it does not stop the evaluation of the unnecessary future. Stopping an already ongoing evaluation is not supported by `CompletableFuture` at all. You can call [`cancel(…)`] on it, but this will will only [set the completion state (result) of the future to “exceptionally completed with a `CancellationException`”][1]\r\n\r\nSo whether you call `cancel` or not, the already ongoing evaluation will continue in the background and only its final result will be ignored.\r\n\r\nThis might be acceptable for some operations. If not, you would have to change the implementation of `fetchAsync` significantly. You could use an `ExecutorService` directly and [`submit`] an operation to get a `Future` which support cancellation with interruption.\r\n\r\nBut it also requires the operation’s code to be sensitive to interruption, to have an actual effect:\r\n\r\n - When calling blocking operations, use those methods that may abort and throw an `InterruptedException` and do not catch-and-continue.\r\n\r\n - When performing a long running computational intense task, poll [`Thread.interrupted()`] occasionally and bail out when `true`.\r\n\r\n[`cancel(…)`]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/CompletableFuture.html#cancel(boolean)\r\n[1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/CompletableFuture.html#:~:text=Method%20cancel,.\r\n[`submit`]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ExecutorService.html#submit(java.util.concurrent.Callable)\r\n[`Thread.interrupted()`]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Thread.html#interrupted()\r\n[mostly a stylistic choice]: https://stackoverflow.com/q/28032827/2711488 &quot;Function.identity() or t-&gt;t?&quot;\r\n[Virtual Threads]: https://bugs.openjdk.org/browse/JDK-8277131","title":"Thread vs Runnable vs CompletableFuture in Java multi threading","body":"<p><code>CompletableFuture</code> is a tool which settles atop the <code>Executor</code>/<code>ExecutorService</code> abstraction, which has implementations dealing with <code>Runnable</code> and <code>Thread</code>. You usually have no reason to deal with <code>Thread</code> creation manually. If you find <code>CompletableFuture</code> unsuitable for a particular task you may try the other tools/abstractions first.</p>\n<p>If you want to proceed with the first (in the sense of faster) non‑null result, you can use something like</p>\n<pre class=\"lang-java prettyprint-override\"><code>CompletableFuture&lt;Integer&gt; future1 = fetchAsync(1);\nCompletableFuture&lt;Integer&gt; future2 = fetchAsync(2);\n\nInteger result = CompletableFuture.anyOf(future1, future2)\n    .thenCompose(i -&gt; i != null?\n        CompletableFuture.completedFuture((Integer)i):\n        future1.thenCombine(future2, (a, b) -&gt; a != null? a: b))\n    .join();\n</code></pre>\n<p><code>anyOf</code> allows you to proceed with the first result, but regardless of its actual value. So to use the first non‑null result we need to chain another operation which will resort to <code>thenCombine</code> if the first result is <code>null</code>. This will only complete when both futures have been completed but at this point we already know that the faster result was <code>null</code> and the second is needed. The overall code will still result in <code>null</code> when both results were <code>null</code>.</p>\n<p>Note that <code>anyOf</code> accepts arbitrarily typed futures and results in a <code>CompletableFuture&lt;Object&gt;</code>. Hence, <code>i</code> is of type <code>Object</code> and a type cast needed. An alternative with full type safety would be</p>\n<pre class=\"lang-java prettyprint-override\"><code>CompletableFuture&lt;Integer&gt; future1 = fetchAsync(1);\nCompletableFuture&lt;Integer&gt; future2 = fetchAsync(2);\n\nInteger result = future1.applyToEither(future2, Function.identity())\n    .thenCompose(i -&gt; i != null?\n        CompletableFuture.completedFuture(i):\n        future1.thenCombine(future2, (a, b) -&gt; a != null? a: b))\n    .join();\n</code></pre>\n<p>which requires us to specify a function which we do not need here, so this code resorts to <code>Function.identity()</code>. You could also just use <code>i -&gt; i</code> to denote an identity function; that’s <a href=\"https://stackoverflow.com/q/28032827/2711488\" title=\"Function.identity() or t-&gt;t?\">mostly a stylistic choice</a>.</p>\n<hr />\n<p>Note that most complications stem from the design that tries to avoid blocking threads by always chaining a dependent operation to be executed when the previous stage has been completed. The examples above follow this principle as the final <code>join()</code> call is only for demonstration purposes; you can easily remove it and return the future, if the caller expects a future rather than being blocked.</p>\n<p>If you are going to perform the final blocking <code>join()</code> anyway, because you need the result value immediately, you can also use</p>\n<pre class=\"lang-java prettyprint-override\"><code>Integer result = future1.applyToEither(future2, Function.identity()).join();\nif(result == null) {\n    Integer a = future1.join(), b = future2.join();\n    result = a != null? a: b;\n}\n</code></pre>\n<p>which might be easier to read and debug. This ease of use is the motivation behind the upcoming <a href=\"https://bugs.openjdk.org/browse/JDK-8277131\" rel=\"noreferrer\">Virtual Threads</a> feature. When an action is running on a virtual thread, you don’t need to avoid blocking calls. So with this feature, if you still need to return a <code>CompletableFuture</code> without blocking the your caller thread, you can use</p>\n<pre class=\"lang-java prettyprint-override\"><code>CompletableFuture&lt;Integer&gt; resultFuture = future1.applyToEitherAsync(future2, r-&gt; {\n    if(r != null) return r;\n    Integer a = future1.join(), b = future2.join();\n    return a != null? a: b;\n}, Executors.newVirtualThreadPerTaskExecutor());\n</code></pre>\n<p>By requesting a virtual thread for the dependent action, we can use blocking <code>join()</code> calls within the function without hesitation which makes the code simpler, in fact, similar to the previous non-asynchronous variant.</p>\n<hr />\n<p>In all cases, the code will provide the faster result if it is non‑null, without waiting for the completion of the second future. But it does not stop the evaluation of the unnecessary future. Stopping an already ongoing evaluation is not supported by <code>CompletableFuture</code> at all. You can call <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/CompletableFuture.html#cancel(boolean)\" rel=\"noreferrer\"><code>cancel(…)</code></a> on it, but this will will only <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/CompletableFuture.html#:%7E:text=Method%20cancel,.\" rel=\"noreferrer\">set the completion state (result) of the future to “exceptionally completed with a <code>CancellationException</code>”</a></p>\n<p>So whether you call <code>cancel</code> or not, the already ongoing evaluation will continue in the background and only its final result will be ignored.</p>\n<p>This might be acceptable for some operations. If not, you would have to change the implementation of <code>fetchAsync</code> significantly. You could use an <code>ExecutorService</code> directly and <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ExecutorService.html#submit(java.util.concurrent.Callable)\" rel=\"noreferrer\"><code>submit</code></a> an operation to get a <code>Future</code> which support cancellation with interruption.</p>\n<p>But it also requires the operation’s code to be sensitive to interruption, to have an actual effect:</p>\n<ul>\n<li><p>When calling blocking operations, use those methods that may abort and throw an <code>InterruptedException</code> and do not catch-and-continue.</p>\n</li>\n<li><p>When performing a long running computational intense task, poll <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Thread.html#interrupted()\" rel=\"noreferrer\"><code>Thread.interrupted()</code></a> occasionally and bail out when <code>true</code>.</p>\n</li>\n</ul>\n"}],"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":917,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":75029179,"answer_count":3,"score":4,"last_activity_date":1674562232,"creation_date":1672901096,"question_id":75014712,"body_markdown":"I am trying to implement multi threading in my Spring Boot app. I am just beginner on multi threading in Java and after making some search and reading articles on various pages, I need to be clarified about the following points. So;\r\n\r\n1. As far as I see, I can use `Thread`, `Runnable` or `CompletableFuture` in order to implement multi threading in a Java app. `CompletableFuture` seems a newer and cleaner way, but `Thread` may have more advantages. So, should I stick to `CompletableFuture` or use all of them based on the scenario? \r\n\r\n2. Basically I want to send 2 concurrent requests to the same service method by using `CompletableFuture`:\r\n\r\n    ```\r\n    CompletableFuture&lt;Integer&gt; future1 = fetchAsync(1);\r\n    CompletableFuture&lt;Integer&gt; future2 = fetchAsync(2);\r\n    \r\n    Integer result1 = future1.get();\r\n    Integer result2 = future2.get();\r\n    ```\r\n\r\nHow can I send these request concurrently and then return result based on the following condition:\r\n\r\n - if the first result is not null, return result and stop process\r\n - if the first result is null, return the second result and stop process\r\n\r\nHow can I do this? Should I use `CompletableFuture.anyOf()` for that?","title":"Thread vs Runnable vs CompletableFuture in Java multi threading","body":"<p>I am trying to implement multi threading in my Spring Boot app. I am just beginner on multi threading in Java and after making some search and reading articles on various pages, I need to be clarified about the following points. So;</p>\n<ol>\n<li><p>As far as I see, I can use <code>Thread</code>, <code>Runnable</code> or <code>CompletableFuture</code> in order to implement multi threading in a Java app. <code>CompletableFuture</code> seems a newer and cleaner way, but <code>Thread</code> may have more advantages. So, should I stick to <code>CompletableFuture</code> or use all of them based on the scenario?</p>\n</li>\n<li><p>Basically I want to send 2 concurrent requests to the same service method by using <code>CompletableFuture</code>:</p>\n<pre><code>CompletableFuture&lt;Integer&gt; future1 = fetchAsync(1);\nCompletableFuture&lt;Integer&gt; future2 = fetchAsync(2);\n\nInteger result1 = future1.get();\nInteger result2 = future2.get();\n</code></pre>\n</li>\n</ol>\n<p>How can I send these request concurrently and then return result based on the following condition:</p>\n<ul>\n<li>if the first result is not null, return result and stop process</li>\n<li>if the first result is null, return the second result and stop process</li>\n</ul>\n<p>How can I do this? Should I use <code>CompletableFuture.anyOf()</code> for that?</p>\n"},{"tags":["java","spring","spring-boot","package","naming-conventions"],"answers":[{"tags":[],"owner":{"account_id":12379838,"reputation":551,"user_id":9025960,"display_name":"rgnt"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1672950210,"creation_date":1672950210,"answer_id":75023958,"question_id":75023857,"body_markdown":" 1. API (application programming interface) is a name which refers that the program you are writing provides some kind of functionality others can use, such as a library. \r\n 2. You should always include the program name, as to minimize clashes of class names in the class-path. \r\n\r\nYou should use the `book-app` name as it describes an application, but it&#39;s not something mandated. ","title":"Spring Boot project naming convention","body":"<ol>\n<li>API (application programming interface) is a name which refers that the program you are writing provides some kind of functionality others can use, such as a library.</li>\n<li>You should always include the program name, as to minimize clashes of class names in the class-path.</li>\n</ol>\n<p>You should use the <code>book-app</code> name as it describes an application, but it's not something mandated.</p>\n"}],"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2136,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"closed_date":1674565278,"accepted_answer_id":75023958,"answer_count":1,"score":2,"last_activity_date":1674562182,"creation_date":1672949533,"question_id":75023857,"body_markdown":"While creating a Spring Boot app, I thought some points regarding project name and package name in Spring Initializr. The issues:\r\n\r\n1. When creating an app that is used to save and manipulate data, should I use `api` or `app` in the name. For example, while creating an app for saving Book data with CRUD operations, should I use `book-api` or `book-app` for a better naming convention. As the app does not serve data to public, and will be used individually, I think it seems to be better using `book-app`. But not sure (also it has endpoints and it may also be considered as API).\r\n\r\n2. In Spring Initializr, when I use `book-app` in the name field, the package name field would be `com.example.book-app`. But if there is not multiple modules, I think there is no need to use `book-app` again in this field. For this reason I use just `com.example` (of course I update the domain properly, it is just for example) in the `Package name` field without name. Is that ok? Or should I always use Group + Name (`com.example.book-app`) as in default format? ","title":"Spring Boot project naming convention","body":"<p>While creating a Spring Boot app, I thought some points regarding project name and package name in Spring Initializr. The issues:</p>\n<ol>\n<li><p>When creating an app that is used to save and manipulate data, should I use <code>api</code> or <code>app</code> in the name. For example, while creating an app for saving Book data with CRUD operations, should I use <code>book-api</code> or <code>book-app</code> for a better naming convention. As the app does not serve data to public, and will be used individually, I think it seems to be better using <code>book-app</code>. But not sure (also it has endpoints and it may also be considered as API).</p>\n</li>\n<li><p>In Spring Initializr, when I use <code>book-app</code> in the name field, the package name field would be <code>com.example.book-app</code>. But if there is not multiple modules, I think there is no need to use <code>book-app</code> again in this field. For this reason I use just <code>com.example</code> (of course I update the domain properly, it is just for example) in the <code>Package name</code> field without name. Is that ok? Or should I always use Group + Name (<code>com.example.book-app</code>) as in default format?</p>\n</li>\n</ol>\n"},{"tags":["java","spring","gradle","intellij-idea","kotlin"],"comments":[{"owner":{"account_id":2273465,"reputation":15439,"user_id":2000323,"display_name":"Andrey"},"score":0,"creation_date":1563873292,"post_id":57147575,"comment_id":100835441,"body_markdown":"Seems that Gradle tooling API (which IDE uses) does not handle such kind of links correctly. Reported the https://youtrack.jetbrains.com/issue/IDEA-187229 for investigation and tracking of it in IDE&#39;s side.","body":"Seems that Gradle tooling API (which IDE uses) does not handle such kind of links correctly. Reported the <a href=\"https://youtrack.jetbrains.com/issue/IDEA-187229\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/IDEA-187229</a> for investigation and tracking of it in IDE&#39;s side."},{"owner":{"account_id":7232415,"reputation":206,"user_id":5518747,"display_name":"TBXark VFanx"},"score":0,"creation_date":1563931241,"post_id":57147575,"comment_id":100860677,"body_markdown":"@Andrey https://github.com/gradle/gradle/issues/10041 But I also get the same error with the command line. macOS is really a bugOS. I have given up on gradle and compiled successfully with maven.","body":"@Andrey <a href=\"https://github.com/gradle/gradle/issues/10041\" rel=\"nofollow noreferrer\">github.com/gradle/gradle/issues/10041</a> But I also get the same error with the command line. macOS is really a bugOS. I have given up on gradle and compiled successfully with maven."},{"owner":{"account_id":10127476,"reputation":987,"user_id":7482210,"display_name":"soloturn"},"score":0,"creation_date":1587443244,"post_id":57147575,"comment_id":108506234,"body_markdown":"you should not set JAVA_HOME nowadays, see also https://stackoverflow.com/questions/1117398/java-home-directory-in-linux","body":"you should not set JAVA_HOME nowadays, see also <a href=\"https://stackoverflow.com/questions/1117398/java-home-directory-in-linux\" title=\"java home directory in linux\">stackoverflow.com/questions/1117398/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":10127476,"reputation":987,"user_id":7482210,"display_name":"soloturn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1587446151,"creation_date":1587446151,"answer_id":61336414,"question_id":57147575,"body_markdown":"you should *not* set JAVA_HOME nowadays, java knows where it is installed. see here: https://stackoverflow.com/questions/1117398/java-home-directory-in-linux\r\n\r\n","title":"Gradle say Java home is different in macOS Catalina","body":"<p>you should <em>not</em> set JAVA_HOME nowadays, java knows where it is installed. see here: <a href=\"https://stackoverflow.com/questions/1117398/java-home-directory-in-linux\">JAVA_HOME directory in Linux</a></p>\n"},{"tags":[],"owner":{"account_id":27228285,"reputation":1,"user_id":20756430,"display_name":"R Sriram"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674562143,"creation_date":1674562143,"answer_id":75221267,"question_id":57147575,"body_markdown":"This worked for me\r\n\r\n1. Open Module Settings\r\n2. Under Build, Tools and Deployment, Go to Gradle Settings\r\n3. Change the Gradle JVM dropdown to the expected JVM from the error log\r\n4. Apply an Rebuild\r\n","title":"Gradle say Java home is different in macOS Catalina","body":"<p>This worked for me</p>\n<ol>\n<li>Open Module Settings</li>\n<li>Under Build, Tools and Deployment, Go to Gradle Settings</li>\n<li>Change the Gradle JVM dropdown to the expected JVM from the error log</li>\n<li>Apply an Rebuild</li>\n</ol>\n"}],"owner":{"account_id":7232415,"reputation":206,"user_id":5518747,"display_name":"TBXark VFanx"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":5303,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1674562143,"creation_date":1563803636,"question_id":57147575,"body_markdown":"Gradle say Java home is different in macOS Catalina.\r\n[![enter image description here][1]][1]\r\n\r\nBut `/System/Volumes/Data/Library/Java/JavaVirtualMachines/jdk-12.0.2.jdk/Contents/Home` is `/Library/Java/JavaVirtualMachines/jdk-12.0.2.jdk/Contents/Home`\r\n\r\n\r\n```\r\nThe newly created daemon process has a different context than expected.\r\nJava home is different.\r\nExpecting: &#39;/System/Volumes/Data/Library/Java/JavaVirtualMachines/jdk-12.0.2.jdk/Contents/Home&#39; but was: &#39;/Library/Java/JavaVirtualMachines/jdk-12.0.2.jdk/Contents/Home&#39;.\r\nPlease configure the JDK to match the expected one.\r\n```\r\n\r\n\r\nI have done the following, but it does not solve the problem.\r\n\r\n1. Add gradle.properties in `~/.gradle/gradle.properties`\r\n```\r\norg.gradle.java.home=/System/Volumes/Data/Library/Java/JavaVirtualMachines/jdk-12.0.2.jdk/Contents/Home\r\n```\r\n\r\n2. Set IDEA Project Gradle JVM\r\n[![enter image description here][2]][2]\r\n\r\n3. Set JAVA Home for project structure\r\n[![enter image description here][3]][3]\r\n\r\n\r\n4. Export JAVA_HOME in .zshrc\r\n\r\n```\r\nExport JAVA_HOME=/System/Volumes/Data/Library/Java/JavaVirtualMachines/jdk-12.0.2.jdk/Contents/Home\r\n```\r\n\r\n\r\nEnvironment\r\n\r\n```\r\n------------------------------------------------------------\r\nGradle 5.5.1\r\n------------------------------------------------------------\r\n\r\nBuild time:   2019-07-10 20:38:12 UTC\r\nRevision:     3245f748c7061472da4dc184991919810f7935a5\r\n\r\nKotlin:       1.3.31\r\nGroovy:       2.5.4\r\nAnt:          Apache Ant(TM) version 1.9.14 compiled on March 12 2019\r\nJVM:          12.0.2 (Oracle Corporation 12.0.2+10)\r\nOS:           Mac OS X 10.15 x86_64\r\n\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Ctdko.jpg\r\n  [2]: https://i.stack.imgur.com/GjoGE.jpg\r\n  [3]: https://i.stack.imgur.com/P0bPz.jpg","title":"Gradle say Java home is different in macOS Catalina","body":"<p>Gradle say Java home is different in macOS Catalina.\n<a href=\"https://i.stack.imgur.com/Ctdko.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ctdko.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>But <code>/System/Volumes/Data/Library/Java/JavaVirtualMachines/jdk-12.0.2.jdk/Contents/Home</code> is <code>/Library/Java/JavaVirtualMachines/jdk-12.0.2.jdk/Contents/Home</code></p>\n\n<pre><code>The newly created daemon process has a different context than expected.\nJava home is different.\nExpecting: '/System/Volumes/Data/Library/Java/JavaVirtualMachines/jdk-12.0.2.jdk/Contents/Home' but was: '/Library/Java/JavaVirtualMachines/jdk-12.0.2.jdk/Contents/Home'.\nPlease configure the JDK to match the expected one.\n</code></pre>\n\n<p>I have done the following, but it does not solve the problem.</p>\n\n<ol>\n<li>Add gradle.properties in <code>~/.gradle/gradle.properties</code></li>\n</ol>\n\n<pre><code>org.gradle.java.home=/System/Volumes/Data/Library/Java/JavaVirtualMachines/jdk-12.0.2.jdk/Contents/Home\n</code></pre>\n\n<ol start=\"2\">\n<li><p>Set IDEA Project Gradle JVM\n<a href=\"https://i.stack.imgur.com/GjoGE.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GjoGE.jpg\" alt=\"enter image description here\"></a></p></li>\n<li><p>Set JAVA Home for project structure\n<a href=\"https://i.stack.imgur.com/P0bPz.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/P0bPz.jpg\" alt=\"enter image description here\"></a></p></li>\n<li><p>Export JAVA_HOME in .zshrc</p></li>\n</ol>\n\n<pre><code>Export JAVA_HOME=/System/Volumes/Data/Library/Java/JavaVirtualMachines/jdk-12.0.2.jdk/Contents/Home\n</code></pre>\n\n<p>Environment</p>\n\n<pre><code>------------------------------------------------------------\nGradle 5.5.1\n------------------------------------------------------------\n\nBuild time:   2019-07-10 20:38:12 UTC\nRevision:     3245f748c7061472da4dc184991919810f7935a5\n\nKotlin:       1.3.31\nGroovy:       2.5.4\nAnt:          Apache Ant(TM) version 1.9.14 compiled on March 12 2019\nJVM:          12.0.2 (Oracle Corporation 12.0.2+10)\nOS:           Mac OS X 10.15 x86_64\n\n</code></pre>\n"},{"tags":["java","hibernate","equals","hashcode"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":2,"creation_date":1673391566,"post_id":75076676,"comment_id":132487626,"body_markdown":"You define what makes an instance of a class equal to other instances. If you define that equality is based on having the same id, then that&#39;s fine if it works in your application.","body":"You define what makes an instance of a class equal to other instances. If you define that equality is based on having the same id, then that&#39;s fine if it works in your application."},{"owner":{"account_id":27393528,"reputation":353,"user_id":20896122,"display_name":"undefined symbol"},"score":0,"creation_date":1673391999,"post_id":75076676,"comment_id":132487700,"body_markdown":"The answer is not the same for &#39;equals&#39; and &#39;hashCode&#39;.  For equals, the issue is one of object design. What does it **mean** for objects A and B to be equal?  If the object type contains multiple fields, it&#39;s common that those fields be considered when deciding on equality.  For hashCode, the issue is performance.  You can, if you like, always use the same hash code (like &#39;1&#39;) for all objects - since hash codes can collide, there&#39;s obviously no functional issue if they all collide. It&#39;ll work but not perform well.  The only requirement is that if A equals B, then they have the same hash code.","body":"The answer is not the same for &#39;equals&#39; and &#39;hashCode&#39;.  For equals, the issue is one of object design. What does it <b>mean</b> for objects A and B to be equal?  If the object type contains multiple fields, it&#39;s common that those fields be considered when deciding on equality.  For hashCode, the issue is performance.  You can, if you like, always use the same hash code (like &#39;1&#39;) for all objects - since hash codes can collide, there&#39;s obviously no functional issue if they all collide. It&#39;ll work but not perform well.  The only requirement is that if A equals B, then they have the same hash code."}],"answers":[{"tags":[],"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1673395650,"creation_date":1673395650,"answer_id":75077114,"question_id":75076676,"body_markdown":"JPA and Hibernate don&#39;t specify or rely on any particular semantics for entities&#39; `equals()` and `hashCode()` methods, so you can do what you want.\r\n## Good alternatives\r\nWith that said, there is a handful of alternatives for equality that make much more sense to me than any others:\r\n\r\n 1. Equality corresponds to object identity.  This is of course the default provided by `Object.equals()`, and it can serve perfectly well for entities.  OR\r\n\r\n 2. Equality corresponds to persistent identity.  That is, entities are equal if and only if they have the same entity type and primary key. OR\r\n\r\n 3. Equality corresponds to (only) value equality.  That is, equality of all corresponding persistent fields except the ID.  There are additional variations around how that applies to mapped relationships.  OR\r\n\r\n 4. Equality corresponds to persistent identity AND value equality.  Again, there are variations around how the value equality part applies to mapped relationships.\r\n\r\n## General advice\r\nIn general, you would do well to follow a fule rules of thumb:\r\n\r\n 1. As with most other classes, especially mutable ones, **default to just inheriting `Object.equals()` and `Object.hashCode()`**.  Have a specific purpose and plan before you do otherwise, and remember that you get only one choice for this.  And that it is impactful.\r\n\r\n 2. If you do override `equals()` (and therefore `hashCode()` as well) then do it in a consistent way across all your entities.\r\n\r\n 3. Think carefully before you go with an option involving value equality.  This is usually a poor choice for mutable classes in general, and entities are no exception.\r\n\r\n## Specific Questions\r\n\r\n&gt; **1.** By considering object states in Hibernate, I think it is good practice not using id field in equals and hashCode methods, right?\r\n\r\nI think using the ID is fine.  It&#39;s simply a question of what you want equality to represent for your entities.  You absolutely can have distinct entity objects with the same type and ID, and you might want to be able to detect that with `equals()`.  The other persistent fields might or might not factor into that.\r\n\r\nIn particular, an `equals()` method based solely on entity ID might make sense for entities that appear on the &quot;many&quot; side of a one-to-many relationship when that is mapped to a `Set`.\r\n\r\n&gt; **2.** When there is a unique field in a class, is it enough to use only one of the unique fields in equals and hashCode methods (except\r\n&gt; from id field)?\r\n\r\nI see no good reason to consider only a proper subset of unique fields, except that subset consisting only of the entity ID. Or if all the fields are unique then the one consisting of all the fields *except* the ID.  The logic that suggests that you might be able to consider other proper subsets revolves around the persistent identity of the entity, which is completely and best represented by its ID.\r\n\r\n&gt; **3.** Should I add all the fields except from id field when there is not any unique field except from id field in a class? Or should I only\r\n&gt; add some numeric field instead of adding text fields?\r\n\r\nIf your sense of equality is to be based on entity value then I don&#39;t see how it makes much sense to omit any persistent fields except, possibly, the ID.  Do not arbitrarily omit the ID -- it may very well be something you want to include.  Again, it depends on what `equals()` is intended to mean for your entities.","title":"equals and hashCode with many fields in Java?","body":"<p>JPA and Hibernate don't specify or rely on any particular semantics for entities' <code>equals()</code> and <code>hashCode()</code> methods, so you can do what you want.</p>\n<h2>Good alternatives</h2>\n<p>With that said, there is a handful of alternatives for equality that make much more sense to me than any others:</p>\n<ol>\n<li><p>Equality corresponds to object identity.  This is of course the default provided by <code>Object.equals()</code>, and it can serve perfectly well for entities.  OR</p>\n</li>\n<li><p>Equality corresponds to persistent identity.  That is, entities are equal if and only if they have the same entity type and primary key. OR</p>\n</li>\n<li><p>Equality corresponds to (only) value equality.  That is, equality of all corresponding persistent fields except the ID.  There are additional variations around how that applies to mapped relationships.  OR</p>\n</li>\n<li><p>Equality corresponds to persistent identity AND value equality.  Again, there are variations around how the value equality part applies to mapped relationships.</p>\n</li>\n</ol>\n<h2>General advice</h2>\n<p>In general, you would do well to follow a fule rules of thumb:</p>\n<ol>\n<li><p>As with most other classes, especially mutable ones, <strong>default to just inheriting <code>Object.equals()</code> and <code>Object.hashCode()</code></strong>.  Have a specific purpose and plan before you do otherwise, and remember that you get only one choice for this.  And that it is impactful.</p>\n</li>\n<li><p>If you do override <code>equals()</code> (and therefore <code>hashCode()</code> as well) then do it in a consistent way across all your entities.</p>\n</li>\n<li><p>Think carefully before you go with an option involving value equality.  This is usually a poor choice for mutable classes in general, and entities are no exception.</p>\n</li>\n</ol>\n<h2>Specific Questions</h2>\n<blockquote>\n<p><strong>1.</strong> By considering object states in Hibernate, I think it is good practice not using id field in equals and hashCode methods, right?</p>\n</blockquote>\n<p>I think using the ID is fine.  It's simply a question of what you want equality to represent for your entities.  You absolutely can have distinct entity objects with the same type and ID, and you might want to be able to detect that with <code>equals()</code>.  The other persistent fields might or might not factor into that.</p>\n<p>In particular, an <code>equals()</code> method based solely on entity ID might make sense for entities that appear on the &quot;many&quot; side of a one-to-many relationship when that is mapped to a <code>Set</code>.</p>\n<blockquote>\n<p><strong>2.</strong> When there is a unique field in a class, is it enough to use only one of the unique fields in equals and hashCode methods (except\nfrom id field)?</p>\n</blockquote>\n<p>I see no good reason to consider only a proper subset of unique fields, except that subset consisting only of the entity ID. Or if all the fields are unique then the one consisting of all the fields <em>except</em> the ID.  The logic that suggests that you might be able to consider other proper subsets revolves around the persistent identity of the entity, which is completely and best represented by its ID.</p>\n<blockquote>\n<p><strong>3.</strong> Should I add all the fields except from id field when there is not any unique field except from id field in a class? Or should I only\nadd some numeric field instead of adding text fields?</p>\n</blockquote>\n<p>If your sense of equality is to be based on entity value then I don't see how it makes much sense to omit any persistent fields except, possibly, the ID.  Do not arbitrarily omit the ID -- it may very well be something you want to include.  Again, it depends on what <code>equals()</code> is intended to mean for your entities.</p>\n"},{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1673396355,"creation_date":1673396355,"answer_id":75077190,"question_id":75076676,"body_markdown":"That&#39;s a tricky question that hibernate itself doesn&#39;t have a clear answer on.\r\n\r\nJohn Bollinger&#39;s answer covers your specific question, but there is some additional context about how to think about equality and hibernate that should help figure out what to do. After all, given that hibernate doesn&#39;t require you to do anything particular, you can do whatever you want, which leads to the obvious question: ... okay, so what should I do, then?\r\n\r\nThat question boils down to (using `Person` as an arbitrary example of a model class + associated table; furthermore, lets say the `person` table has a single unique ID that is generated (A random UUID or auto-sequenced integer value).\r\n\r\n_What does an instance of `Person` represent_?\r\n\r\nThere are in broad strokes 2 answers:\r\n\r\n* It represents a person. A row in the `person` table _also_ represents a person; these 2 things aren&#39;t related.\r\n* It represents _a row in the `person` table_.\r\n* It represents a state in my application, nothing more.\r\n\r\nEven though these things sound quite similar, they result in opposite meanings as to equality.\r\n\r\nWhich choice is correct? That&#39;s up to you.\r\n\r\nWhen reading on, remember:\r\n\r\nAny `Person` instance which isn&#39;t &quot;saved&quot; yet, would have a `null` value for `id`, because upon insertion, hibernate will ask the DB to generate a value for it or generates one itself and only then fills it in.\r\n\r\n## An instance represents a row\r\n\r\n* Equality under the second model (an instance of `Person` represents a row in the table) should look __only__ at the `id` column, because that defines row uniqueness; any 2 representations of a row in the `person` table are guaranteed to be referring to the same row (hence, _equal_) if and only if the `id` is equal. That is a necessary and sufficient condition: If they are equal the 2 objects are necessarily referring to the same row, and if they aren&#39;t equal, then they are necessarily referring to different rows.\r\n* Notably, if `id` is still `null`, then __they cannot be equal__, not even to themselves: More generally the question: &quot;Is this object-representing-a-row equal to this other object-representing-a-row&quot; is a meaningless question if these objects are representing rows-to-be (unsaved rows). If you invoke `save()` on each object, you end up with 2 rows. Optimally such an object should be considered in a state such that attempting to invoke equals on it is a failure, but the spec of `equals` states that they can&#39;t throw, therefore, `false` is the best answer. This would mean you want:\r\n\r\n```\r\nclass Person {\r\n  // fields\r\n  @Override public boolean equals(Object other) {\r\n    if (other == this) return true;\r\n    if (other == null || other.getClass() != Person.class) return false;\r\n    UUID otherId = ((Person) other).id;\r\n    return id == null ? false : id.equals(otherId);\r\n  }\r\n}\r\n```\r\n\r\nThis defines your equals method as &#39;ends up representing the same row&#39;. This holds _even if_ you change meaningful state:\r\n\r\n* Change the name and save the object? It&#39;s... still the same row, and this equality implementation reflects this.\r\n* Call save() on each in the comparison when they were unsaved? Then you get 2 rows - and this equality implementation reflects this before _and_ after attempting to save it. \r\n* If invoking on self (`a.equals(a)`) this returns `true` as the equality spec demands; it also works out in the &#39;modelling a row&#39; view: If you invoke save() on the same object twice, it&#39;s still just one row.\r\n\r\n## An instance represents a person\r\n\r\nThe nature of what a person is is entirely unrelated to the autosequence/autogen ID it gets; the fact that we&#39;re using hibernate is an implementation detail that should play no part at all in considering equality; after all, this object represents the notion of a person, and that notion exists entirely independent of the database. The database is one thing that is modelling persons; instances of this class are another.\r\n\r\nIn this model you should do the exact opposite: Find something that uniquely identifies a person itself, and compare against that. After all, if you have 2 rows in a database that both contain the same social security number, then you have only 1 person.. and you just happen to have 2 rows that are both referring to the same person. Given that we chose our instance to imply that it represents __a person__, then an instance loaded from row A, and an instance loaded from row B, ought to be considered as equal - after all, they are representing the same individual.\r\n\r\nIn this case, you write an equals method that considers all relevant fields __except__ the autoseq/autogen ID field! If there is a separate unique id such as social security number, use that. If there isn&#39;t, essentially it boils down to an equals method that compares all fields, _except_ ID. Because that&#39;s the one field that definitely has zero bearing on what defines a person.\r\n\r\n## An instance defines a state in your application\r\n\r\nThis is almost a cop-out, and in general means equality is irrelevant / not applicable. It&#39;s like asking how to implement an equals method to an `InputStream` implementation - mostly, you.. don&#39;t.\r\n\r\nHere, the default behaviour (`Object`&#39;s own impls) are what you want, and therefore, you don&#39;t implement either `hashCode` or `equals`. Any instance of Person is equal to itself (as in, `a.equals(a)`, same reference), and not equal to any other, even if the other has identical values for each and every field, even the id field isn&#39;t `null` (represents the same row).\r\n\r\nSuch an object cannot meaningfully be used as a value object. For example, it would be pointless to stuff such things in a hashmap (at best, you can stuff them in an `IdentityHashMap`, as those semantics would apply. Only way to do any lookups is to have a ref that was `.put()` into it before and call `.get()` with that).\r\n\r\nWhich one is right? Up to you. But document it clearly, because in my experience, lots of hibernate users are absolutely convinced either the first or second model is the one, and only, right answer, and consider the other answer utterly bonkers. This is problematic - they&#39;d be writing their code assuming __all__ hibernate model classes work precisely as they want, and would therefore not even be thinking of checking docs/impl to know how it actually works.\r\n\r\nFor what its worth, objects are objects and database rows do not neatly map to the notion of an object. SQL&#39;s and java&#39;s notion of `null` are utterly incompatible, and the notion of &#39;a query&#39; does not neatly map to tables (between selecting expressions, selecting on views, and JOINs, that should be obvious) - hibernate is tilting at windmills. It is a leaky abstraction and this is one of its many, many leaks. Leaky abstractions can be useful, just, be aware that at the &#39;edges&#39; the principle hibernate tries to peddle you (that objects can represent query results and rows) has limits you will run into. A lot.\r\n","title":"equals and hashCode with many fields in Java?","body":"<p>That's a tricky question that hibernate itself doesn't have a clear answer on.</p>\n<p>John Bollinger's answer covers your specific question, but there is some additional context about how to think about equality and hibernate that should help figure out what to do. After all, given that hibernate doesn't require you to do anything particular, you can do whatever you want, which leads to the obvious question: ... okay, so what should I do, then?</p>\n<p>That question boils down to (using <code>Person</code> as an arbitrary example of a model class + associated table; furthermore, lets say the <code>person</code> table has a single unique ID that is generated (A random UUID or auto-sequenced integer value).</p>\n<p><em>What does an instance of <code>Person</code> represent</em>?</p>\n<p>There are in broad strokes 2 answers:</p>\n<ul>\n<li>It represents a person. A row in the <code>person</code> table <em>also</em> represents a person; these 2 things aren't related.</li>\n<li>It represents <em>a row in the <code>person</code> table</em>.</li>\n<li>It represents a state in my application, nothing more.</li>\n</ul>\n<p>Even though these things sound quite similar, they result in opposite meanings as to equality.</p>\n<p>Which choice is correct? That's up to you.</p>\n<p>When reading on, remember:</p>\n<p>Any <code>Person</code> instance which isn't &quot;saved&quot; yet, would have a <code>null</code> value for <code>id</code>, because upon insertion, hibernate will ask the DB to generate a value for it or generates one itself and only then fills it in.</p>\n<h2>An instance represents a row</h2>\n<ul>\n<li>Equality under the second model (an instance of <code>Person</code> represents a row in the table) should look <strong>only</strong> at the <code>id</code> column, because that defines row uniqueness; any 2 representations of a row in the <code>person</code> table are guaranteed to be referring to the same row (hence, <em>equal</em>) if and only if the <code>id</code> is equal. That is a necessary and sufficient condition: If they are equal the 2 objects are necessarily referring to the same row, and if they aren't equal, then they are necessarily referring to different rows.</li>\n<li>Notably, if <code>id</code> is still <code>null</code>, then <strong>they cannot be equal</strong>, not even to themselves: More generally the question: &quot;Is this object-representing-a-row equal to this other object-representing-a-row&quot; is a meaningless question if these objects are representing rows-to-be (unsaved rows). If you invoke <code>save()</code> on each object, you end up with 2 rows. Optimally such an object should be considered in a state such that attempting to invoke equals on it is a failure, but the spec of <code>equals</code> states that they can't throw, therefore, <code>false</code> is the best answer. This would mean you want:</li>\n</ul>\n<pre><code>class Person {\n  // fields\n  @Override public boolean equals(Object other) {\n    if (other == this) return true;\n    if (other == null || other.getClass() != Person.class) return false;\n    UUID otherId = ((Person) other).id;\n    return id == null ? false : id.equals(otherId);\n  }\n}\n</code></pre>\n<p>This defines your equals method as 'ends up representing the same row'. This holds <em>even if</em> you change meaningful state:</p>\n<ul>\n<li>Change the name and save the object? It's... still the same row, and this equality implementation reflects this.</li>\n<li>Call save() on each in the comparison when they were unsaved? Then you get 2 rows - and this equality implementation reflects this before <em>and</em> after attempting to save it.</li>\n<li>If invoking on self (<code>a.equals(a)</code>) this returns <code>true</code> as the equality spec demands; it also works out in the 'modelling a row' view: If you invoke save() on the same object twice, it's still just one row.</li>\n</ul>\n<h2>An instance represents a person</h2>\n<p>The nature of what a person is is entirely unrelated to the autosequence/autogen ID it gets; the fact that we're using hibernate is an implementation detail that should play no part at all in considering equality; after all, this object represents the notion of a person, and that notion exists entirely independent of the database. The database is one thing that is modelling persons; instances of this class are another.</p>\n<p>In this model you should do the exact opposite: Find something that uniquely identifies a person itself, and compare against that. After all, if you have 2 rows in a database that both contain the same social security number, then you have only 1 person.. and you just happen to have 2 rows that are both referring to the same person. Given that we chose our instance to imply that it represents <strong>a person</strong>, then an instance loaded from row A, and an instance loaded from row B, ought to be considered as equal - after all, they are representing the same individual.</p>\n<p>In this case, you write an equals method that considers all relevant fields <strong>except</strong> the autoseq/autogen ID field! If there is a separate unique id such as social security number, use that. If there isn't, essentially it boils down to an equals method that compares all fields, <em>except</em> ID. Because that's the one field that definitely has zero bearing on what defines a person.</p>\n<h2>An instance defines a state in your application</h2>\n<p>This is almost a cop-out, and in general means equality is irrelevant / not applicable. It's like asking how to implement an equals method to an <code>InputStream</code> implementation - mostly, you.. don't.</p>\n<p>Here, the default behaviour (<code>Object</code>'s own impls) are what you want, and therefore, you don't implement either <code>hashCode</code> or <code>equals</code>. Any instance of Person is equal to itself (as in, <code>a.equals(a)</code>, same reference), and not equal to any other, even if the other has identical values for each and every field, even the id field isn't <code>null</code> (represents the same row).</p>\n<p>Such an object cannot meaningfully be used as a value object. For example, it would be pointless to stuff such things in a hashmap (at best, you can stuff them in an <code>IdentityHashMap</code>, as those semantics would apply. Only way to do any lookups is to have a ref that was <code>.put()</code> into it before and call <code>.get()</code> with that).</p>\n<p>Which one is right? Up to you. But document it clearly, because in my experience, lots of hibernate users are absolutely convinced either the first or second model is the one, and only, right answer, and consider the other answer utterly bonkers. This is problematic - they'd be writing their code assuming <strong>all</strong> hibernate model classes work precisely as they want, and would therefore not even be thinking of checking docs/impl to know how it actually works.</p>\n<p>For what its worth, objects are objects and database rows do not neatly map to the notion of an object. SQL's and java's notion of <code>null</code> are utterly incompatible, and the notion of 'a query' does not neatly map to tables (between selecting expressions, selecting on views, and JOINs, that should be obvious) - hibernate is tilting at windmills. It is a leaky abstraction and this is one of its many, many leaks. Leaky abstractions can be useful, just, be aware that at the 'edges' the principle hibernate tries to peddle you (that objects can represent query results and rows) has limits you will run into. A lot.</p>\n"}],"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":258,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1673419474,"answer_count":2,"score":-3,"last_activity_date":1674562129,"creation_date":1673391264,"question_id":75076676,"body_markdown":"In Java apps, I prefer to use unique fields in equals and hashCode methods instead of adding only id field or all the fields. However, I am confused about the following points:\r\n\r\n1. By considering object states in Hibernate, I think it is good practice not using id field in equals and hashCode methods, right? \r\n\r\n2. When there is a unique field in a class, is it enough to use only one of the unique fields in equals and hashCode methods (except from id field)? \r\n\r\n3. Should I add all the fields except from id field when there is not any unique field except from id field in a class? Or should I only add some numeric field instead of adding text fields? ","title":"equals and hashCode with many fields in Java?","body":"<p>In Java apps, I prefer to use unique fields in equals and hashCode methods instead of adding only id field or all the fields. However, I am confused about the following points:</p>\n<ol>\n<li><p>By considering object states in Hibernate, I think it is good practice not using id field in equals and hashCode methods, right?</p>\n</li>\n<li><p>When there is a unique field in a class, is it enough to use only one of the unique fields in equals and hashCode methods (except from id field)?</p>\n</li>\n<li><p>Should I add all the fields except from id field when there is not any unique field except from id field in a class? Or should I only add some numeric field instead of adding text fields?</p>\n</li>\n</ol>\n"},{"tags":["java","gradle","groovy","gradle-plugin"],"comments":[{"owner":{"account_id":4358,"reputation":168410,"user_id":6509,"display_name":"tim_yates"},"score":0,"creation_date":1657558009,"post_id":72939477,"comment_id":128833966,"body_markdown":"You need to create an extension, register it, and then use these properties in your task https://docs.gradle.org/current/userguide/custom_plugins.html#sec:getting_input_from_the_build","body":"You need to create an extension, register it, and then use these properties in your task <a href=\"https://docs.gradle.org/current/userguide/custom_plugins.html#sec:getting_input_from_the_build\" rel=\"nofollow noreferrer\">docs.gradle.org/current/userguide/&hellip;</a>"},{"owner":{"account_id":16749920,"reputation":56,"user_id":12107251,"display_name":"Wiktor"},"score":0,"creation_date":1657558953,"post_id":72939477,"comment_id":128834268,"body_markdown":"I have an extension, and the properties work, what&#39;s not working is this creating task dependency, this line:\n```\nproject.tasks.assemble.dependsOn(project.tasks.copyContainerFiles)\n```","body":"I have an extension, and the properties work, what&#39;s not working is this creating task dependency, this line: ``` project.tasks.assemble.dependsOn(project.tasks.copyContainer&zwnj;&#8203;Files) ```"},{"owner":{"account_id":4358,"reputation":168410,"user_id":6509,"display_name":"tim_yates"},"score":0,"creation_date":1657558989,"post_id":72939477,"comment_id":128834283,"body_markdown":"define &quot;not working&quot;","body":"define &quot;not working&quot;"},{"owner":{"account_id":16749920,"reputation":56,"user_id":12107251,"display_name":"Wiktor"},"score":0,"creation_date":1657559149,"post_id":72939477,"comment_id":128834340,"body_markdown":"when I use the plugin and in my build.gradle add\nBaseProjectTask {\n  copyContainerFiles = true\n}\nthe task &#39;copyContainerFiles&#39; isn&#39;t executed when I run gradle build.","body":"when I use the plugin and in my build.gradle add BaseProjectTask {   copyContainerFiles = true } the task &#39;copyContainerFiles&#39; isn&#39;t executed when I run gradle build."}],"answers":[{"tags":[],"owner":{"account_id":15144230,"reputation":1347,"user_id":10928439,"display_name":"Simon Jacobs"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674562126,"creation_date":1674562126,"answer_id":75221262,"question_id":72939477,"body_markdown":"You need to configure task dependencies during the build configuration phase, as you surmised.\r\n\r\nIt&#39;s not possible to do it in the `@TaskAction` method. It&#39;s fundamental to the way Gradle works that it needs to know how tasks depend on each other before it starts executing the build. That allows Gradle to do some useful things, such as only executing the tasks that are not up to date, or working out what tasks will execute without actually executing them.\r\n\r\nIn general, tasks should not be aware of one another&lt;sup&gt;1&lt;/sup&gt;.\r\n\r\nWhen you are trying to do this in a plugin using values in a project extension, you must wait until after the project has evaluated so that the build script code executes first. You can do this with `project.afterEvaluate()`&lt;sup&gt;2&lt;/sup&gt;.\r\n\r\nSo you can do the following (using Kotlin DSL&lt;sup&gt;3&lt;/sup&gt;):\r\n```kt\r\nproject.afterEvaluate {\r\n   tasks.register(&quot;baseTask&quot;) {\r\n      if (baseProjectExtension.copyDockerResources)\r\n         dependsOn(tasks.getByName(&quot;copyDockerResources&quot;))\r\n      if (baseProjectExtension.copyContainerFiles)\r\n         dependsOn(tasks.getByName(&quot;copyContainerFiles&quot;))\r\n      if (baseProjectExtension.performAnalysis)\r\n         dependsOn(tasks.getByName(&quot;performAnalysis&quot;))\r\n   } \r\n}\r\n```\r\n\r\n\r\n***\r\n&lt;sup&gt;1&lt;/sup&gt;See https://stackoverflow.com/questions/24760654/how-to-declare-dependencies-of-a-gradle-custom-task\r\n\r\n&lt;sup&gt;2&lt;/sup&gt;See https://docs.gradle.org/current/userguide/build_lifecycle.html#sec:project_evaluation\r\n\r\n&lt;sup&gt;3&lt;/sup&gt;What I am familiar with. Hopefully not too much trouble to convert to Groovy.","title":"How to define gradle tasks dependency in a task in custom gradle plugin","body":"<p>You need to configure task dependencies during the build configuration phase, as you surmised.</p>\n<p>It's not possible to do it in the <code>@TaskAction</code> method. It's fundamental to the way Gradle works that it needs to know how tasks depend on each other before it starts executing the build. That allows Gradle to do some useful things, such as only executing the tasks that are not up to date, or working out what tasks will execute without actually executing them.</p>\n<p>In general, tasks should not be aware of one another<sup>1</sup>.</p>\n<p>When you are trying to do this in a plugin using values in a project extension, you must wait until after the project has evaluated so that the build script code executes first. You can do this with <code>project.afterEvaluate()</code><sup>2</sup>.</p>\n<p>So you can do the following (using Kotlin DSL<sup>3</sup>):</p>\n<pre><code>project.afterEvaluate {\n   tasks.register(&quot;baseTask&quot;) {\n      if (baseProjectExtension.copyDockerResources)\n         dependsOn(tasks.getByName(&quot;copyDockerResources&quot;))\n      if (baseProjectExtension.copyContainerFiles)\n         dependsOn(tasks.getByName(&quot;copyContainerFiles&quot;))\n      if (baseProjectExtension.performAnalysis)\n         dependsOn(tasks.getByName(&quot;performAnalysis&quot;))\n   } \n}\n</code></pre>\n<hr />\n<p><sup>1</sup>See <a href=\"https://stackoverflow.com/questions/24760654/how-to-declare-dependencies-of-a-gradle-custom-task\">How to declare dependencies of a Gradle custom task?</a></p>\n<p><sup>2</sup>See <a href=\"https://docs.gradle.org/current/userguide/build_lifecycle.html#sec:project_evaluation\" rel=\"nofollow noreferrer\">https://docs.gradle.org/current/userguide/build_lifecycle.html#sec:project_evaluation</a></p>\n<p><sup>3</sup>What I am familiar with. Hopefully not too much trouble to convert to Groovy.</p>\n"}],"owner":{"account_id":16749920,"reputation":56,"user_id":12107251,"display_name":"Wiktor"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":729,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1674562126,"creation_date":1657546644,"question_id":72939477,"body_markdown":"I&#39;m writing a custom gradle plugin in which I want to have a bunch of common for several of my projects tasks and a sort of a &#39;main&#39; task to control which of these tasks to turn on.\r\n\r\nRegular tasks in the plugin are e.g.:\r\nCopyDockerResourcesTask\r\nCopyContainerFilesTask\r\nPerformAnalysisTask\r\n\r\nand the &#39;main&#39; task is:\r\n**BaseProjectTask**\r\n\r\nso then in the project in build.gradle I&#39;d like to be able to do this:\r\n```\r\nBaseProjectTask {\r\n  copyDockerResources = true\r\n  copyContainerFiles = true\r\n  performAnalysis = true\r\n}\r\n```\r\n\r\nI want the default behaviour of the plugin to be to not to do anything, only add certain tasks if they are turned on in BaseProjectTask.\r\n\r\nI wanted to achieve this with adding task dependency in **@TaskAction** method of BaseProjectTask:\r\n\r\n```\r\nclass BaseProjectTask extends DefaultTask {\r\n\r\n    private final BaseProjectExtension extension\r\n    private final Project project\r\n\r\n    @Optional\r\n    @Input\r\n    Boolean copyContainerFiles = false\r\n    ...\r\n\r\n    @Inject\r\n    BaseProjectTask(Project project, BaseProjectExtension extension) {\r\n        this.project = project\r\n        this.extension = extension\r\n    }\r\n\r\n    @TaskAction\r\n    def execute() {\r\n        if (copyContainerFiles) {\r\n            project.tasks.assemble.dependsOn(project.tasks.copyContainerFiles)\r\n        }\r\n        ...\r\n    }\r\n}\r\n```\r\n\r\nCreating task dependency, this line:\r\n```\r\nproject.tasks.assemble.dependsOn(project.tasks.copyContainerFiles)\r\n```\r\n\r\ndoesn&#39;t work.\r\n\r\nEdit:\r\nMy current findings are that defining task dependency in @TaskAction is too late as this is execution phase. I could do it in the constructor (this way it works) but its too early as property **copyContainerFiles** isn&#39;t set yet.\r\n\r\nDoes anyone know a way of adding code in the task class that would be fired in the configuration phase? I think this is what I&#39;m missing.","title":"How to define gradle tasks dependency in a task in custom gradle plugin","body":"<p>I'm writing a custom gradle plugin in which I want to have a bunch of common for several of my projects tasks and a sort of a 'main' task to control which of these tasks to turn on.</p>\n<p>Regular tasks in the plugin are e.g.:\nCopyDockerResourcesTask\nCopyContainerFilesTask\nPerformAnalysisTask</p>\n<p>and the 'main' task is:\n<strong>BaseProjectTask</strong></p>\n<p>so then in the project in build.gradle I'd like to be able to do this:</p>\n<pre><code>BaseProjectTask {\n  copyDockerResources = true\n  copyContainerFiles = true\n  performAnalysis = true\n}\n</code></pre>\n<p>I want the default behaviour of the plugin to be to not to do anything, only add certain tasks if they are turned on in BaseProjectTask.</p>\n<p>I wanted to achieve this with adding task dependency in <strong>@TaskAction</strong> method of BaseProjectTask:</p>\n<pre><code>class BaseProjectTask extends DefaultTask {\n\n    private final BaseProjectExtension extension\n    private final Project project\n\n    @Optional\n    @Input\n    Boolean copyContainerFiles = false\n    ...\n\n    @Inject\n    BaseProjectTask(Project project, BaseProjectExtension extension) {\n        this.project = project\n        this.extension = extension\n    }\n\n    @TaskAction\n    def execute() {\n        if (copyContainerFiles) {\n            project.tasks.assemble.dependsOn(project.tasks.copyContainerFiles)\n        }\n        ...\n    }\n}\n</code></pre>\n<p>Creating task dependency, this line:</p>\n<pre><code>project.tasks.assemble.dependsOn(project.tasks.copyContainerFiles)\n</code></pre>\n<p>doesn't work.</p>\n<p>Edit:\nMy current findings are that defining task dependency in @TaskAction is too late as this is execution phase. I could do it in the constructor (this way it works) but its too early as property <strong>copyContainerFiles</strong> isn't set yet.</p>\n<p>Does anyone know a way of adding code in the task class that would be fired in the configuration phase? I think this is what I'm missing.</p>\n"},{"tags":["java","servlets","jax-rs"],"comments":[{"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":0,"creation_date":1674563245,"post_id":75221138,"comment_id":132736232,"body_markdown":"FYI: REST requests are specced to be stateless. Cookies are a form of state. You&#39;re thus basically violating the REST spec. Simply do not use cookies in first place. You need to take a step back and look for a way to correctly solve the X of your XY-problem.","body":"FYI: REST requests are specced to be stateless. Cookies are a form of state. You&#39;re thus basically violating the REST spec. Simply do not use cookies in first place. You need to take a step back and look for a way to correctly solve the X of your XY-problem."},{"owner":{"account_id":2400659,"reputation":2249,"user_id":2098379,"accept_rate":19,"display_name":"M.S.Naidu"},"score":0,"creation_date":1674571200,"post_id":75221138,"comment_id":132739147,"body_markdown":"Thank you for the response @BaluusC . This is the existing implementation, So we have to do it in this way","body":"Thank you for the response @BaluusC . This is the existing implementation, So we have to do it in this way"},{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1674576340,"post_id":75221138,"comment_id":132741138,"body_markdown":"You can inject the response at the class level if you can&#39;t change the method parameters. Or just change the parameters if you can","body":"You can inject the response at the class level if you can&#39;t change the method parameters. Or just change the parameters if you can"},{"owner":{"account_id":2400659,"reputation":2249,"user_id":2098379,"accept_rate":19,"display_name":"M.S.Naidu"},"score":0,"creation_date":1674588336,"post_id":75221138,"comment_id":132744972,"body_markdown":"Do we have any other way that we can achieve without httpservletresponse","body":"Do we have any other way that we can achieve without httpservletresponse"}],"owner":{"account_id":2400659,"reputation":2249,"user_id":2098379,"accept_rate":19,"display_name":"M.S.Naidu"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674561353,"creation_date":1674561353,"question_id":75221138,"body_markdown":"I have one of the jaxrs controller where the requeset is received. The mehtod has 2 parameters like httpservletRequest and clientRequestObj like below. As part of this request we have few cookies and I have to delete on of the cookie from the request and then forward that request some other server but here we don&#39;t have httpserveletresponse to remove the cookie and keep it into response.\r\n\r\n    @path(&quot;/details&quot;)\r\n    public Response getDetails(@Context HttpServletRequest httpServletRequest, ConsumerReqBody consumerReqBody) {\r\n    \t\r\n    \t\r\n    }\r\n\r\n\r\n\r\nWhat is the best way to remove specific cookie from the httpservletrequest without using httpservletresponse.","title":"Best way to remove specific cookie from the httpservletrequest without using httpservletresponse","body":"<p>I have one of the jaxrs controller where the requeset is received. The mehtod has 2 parameters like httpservletRequest and clientRequestObj like below. As part of this request we have few cookies and I have to delete on of the cookie from the request and then forward that request some other server but here we don't have httpserveletresponse to remove the cookie and keep it into response.</p>\n<pre><code>@path(&quot;/details&quot;)\npublic Response getDetails(@Context HttpServletRequest httpServletRequest, ConsumerReqBody consumerReqBody) {\n    \n    \n}\n</code></pre>\n<p>What is the best way to remove specific cookie from the httpservletrequest without using httpservletresponse.</p>\n"},{"tags":["java","android","authentication","android-security","android-biometric-prompt"],"answers":[{"tags":[],"owner":{"account_id":5191021,"reputation":101,"user_id":4153947,"display_name":"bmaciejm"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1674561093,"creation_date":1674561093,"answer_id":75221077,"question_id":74798974,"body_markdown":"So looking at all of these new error types:\r\n\r\n**BiometricPrompt.ERROR_HW_NOT_PRESENT,\r\nBiometricPrompt.ERROR_HW_UNAVAILABLE** - these two indicate that the hardware required for biometrics is not present/available. There is no way to do biometric auth so your handling seems **correct**.\r\n\r\n**BiometricPrompt.ERROR_VENDOR** - vendor-specific problem, there is nothing you can do so ending auth and failing seems again **correct**.\r\n\r\n**BiometricPrompt.ERROR_UNABLE_TO_PROCESS,** - sensor was not able to process the image, most likely something is wrong with the sensor. Again there is not much you can do from the app&#39;s side, your handling seems **correct**.\r\n\r\n**BiometricPrompt.ERROR_TIMEOUT** - just a timeout(the user hasn&#39;t taken any action with the prompt for a long time). There is no point in waiting for user action indefinitely. The only thing you might want to consider is whether you want to show the prompt again(as you are doing in your handling) your handling or you want just mark it as failed and cancel, but in general, handling is **correct**.\r\n\r\n\r\n**BiometricPrompt.ERROR_NO_BIOMETRICS, \r\n BiometricPrompt.ERROR_NO_DEVICE_CREDENTIAL** - these two are connected because there are three classes of authentication [supported](https://developer.android.com/training/sign-in/biometric-auth#declare-supported-authentication-types) and as I assumed you want biometric authentication(not the PIN/Password pattern one) then user cannot have biometrics enrolled without device credentials set. In that case, I would propose asking the user to add these instead of just failing. [There](https://developer.android.com/training/sign-in/biometric-auth#available) you can find an example of how to create an intent for doing it.\r\nSo these two&#39;s I would mark these as **incorrect**.\r\n\r\n**BiometricPrompt.ERROR_NO_SPACE** - indicates that there is not enough device storage remaining to complete the operation. It is very highly unlikely to happen but if will happen then your handling is **incorrect** as triggering the prompt again will most likely result in this error again(if there is no space there is a big chance that it still not be after retrying).\r\n\r\n\r\nAlso are you sure that if user cancels the operation by himself and you receive the **ERROR_USER_CANCELED** you want to reshow the prompt? If user canceled it on purpose reshowing it may look very annoying.","title":"BiometricPrompt Error cases for onAuthenticationError() after update to latest version","body":"<p>So looking at all of these new error types:</p>\n<p><strong>BiometricPrompt.ERROR_HW_NOT_PRESENT,\nBiometricPrompt.ERROR_HW_UNAVAILABLE</strong> - these two indicate that the hardware required for biometrics is not present/available. There is no way to do biometric auth so your handling seems <strong>correct</strong>.</p>\n<p><strong>BiometricPrompt.ERROR_VENDOR</strong> - vendor-specific problem, there is nothing you can do so ending auth and failing seems again <strong>correct</strong>.</p>\n<p><strong>BiometricPrompt.ERROR_UNABLE_TO_PROCESS,</strong> - sensor was not able to process the image, most likely something is wrong with the sensor. Again there is not much you can do from the app's side, your handling seems <strong>correct</strong>.</p>\n<p><strong>BiometricPrompt.ERROR_TIMEOUT</strong> - just a timeout(the user hasn't taken any action with the prompt for a long time). There is no point in waiting for user action indefinitely. The only thing you might want to consider is whether you want to show the prompt again(as you are doing in your handling) your handling or you want just mark it as failed and cancel, but in general, handling is <strong>correct</strong>.</p>\n<p><strong>BiometricPrompt.ERROR_NO_BIOMETRICS,\nBiometricPrompt.ERROR_NO_DEVICE_CREDENTIAL</strong> - these two are connected because there are three classes of authentication <a href=\"https://developer.android.com/training/sign-in/biometric-auth#declare-supported-authentication-types\" rel=\"nofollow noreferrer\">supported</a> and as I assumed you want biometric authentication(not the PIN/Password pattern one) then user cannot have biometrics enrolled without device credentials set. In that case, I would propose asking the user to add these instead of just failing. <a href=\"https://developer.android.com/training/sign-in/biometric-auth#available\" rel=\"nofollow noreferrer\">There</a> you can find an example of how to create an intent for doing it.\nSo these two's I would mark these as <strong>incorrect</strong>.</p>\n<p><strong>BiometricPrompt.ERROR_NO_SPACE</strong> - indicates that there is not enough device storage remaining to complete the operation. It is very highly unlikely to happen but if will happen then your handling is <strong>incorrect</strong> as triggering the prompt again will most likely result in this error again(if there is no space there is a big chance that it still not be after retrying).</p>\n<p>Also are you sure that if user cancels the operation by himself and you receive the <strong>ERROR_USER_CANCELED</strong> you want to reshow the prompt? If user canceled it on purpose reshowing it may look very annoying.</p>\n"}],"owner":{"account_id":7560403,"reputation":107,"user_id":5738227,"display_name":"Red Coder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":730,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75221077,"answer_count":1,"score":0,"last_activity_date":1674561093,"creation_date":1671024273,"question_id":74798974,"body_markdown":"I have updated the version of a library \r\nfrom: `\r\n```\r\nfrom &#39;androidx.biometric:biometric:1.0.1&#39; to -&gt; &#39;androidx.biometric:biometric:1.1.0&#39;\r\n```\r\nI saw that there are new possible errors and I was wondering how to handle them! \r\n\r\nIde show error warning for switch statement: \r\n\r\n```\r\n&quot;Switch statement on an int with known associated constant missing case \r\n BiometricPrompt.ERROR_HW_NOT_PRESENT,\r\n BiometricPrompt.ERROR_HW_UNAVAILABLE, \r\n BiometricPrompt.ERROR_NO_BIOMETRICS, \r\n BiometricPrompt.ERROR_NO_DEVICE_CREDENTIAL, \r\n BiometricPrompt.ERROR_NO_SPACE, \r\n BiometricPrompt.ERROR_TIMEOUT, \r\n BiometricPrompt.ERROR_UNABLE_TO_PROCESS,\r\n BiometricPrompt.ERROR_VENDOR&quot;\r\n```\r\n\r\nThat&#39;s my code before updating of library: \r\n```\r\nprivate class BioCallback extends AuthenticationCallback {\r\n   public void onAuthenticationError(int errorCode, @NonNull CharSequence errString) {\r\n    switch (errorCode) {\r\n        case ERROR_CANCELED:\r\n        case ERROR_USER_CANCELED:\r\n            endAuth(false);\r\n            runOnUiThread(() -&gt; {\r\n                try {\r\n                    mBiometricPrompt.authenticate(mPromptInfo);\r\n                } catch (Exception e) {\r\n                    FirebaseUtil.logEvent(&quot;cmc_crash_fingerprint&quot;);\r\n                }\r\n            });\r\n            break;\r\n        case ERROR_NEGATIVE_BUTTON:\r\n        case ERROR_LOCKOUT:\r\n        case ERROR_LOCKOUT_PERMANENT:\r\n        default:\r\n            endAuth(false);\r\n            showLoginScreen();\r\n            break;\r\n    }\r\n    super.onAuthenticationError(errorCode, errString);\r\n   }\r\n```\r\n\r\n\r\nAfter I read documentation for each Error Code I change the code to: \r\n\r\n```\r\nswitch (errorCode) {\r\n    case ERROR_CANCELED:\r\n    case ERROR_USER_CANCELED:\r\n    case ERROR_TIMEOUT:\r\n    case ERROR_NO_SPACE:\r\n    case ERROR_UNABLE_TO_PROCESS:\r\n        endAuth(false);\r\n        runOnUiThread(() -&gt; {\r\n            try {\r\n                mBiometricPrompt.authenticate(mPromptInfo);\r\n            } catch (Exception e) {\r\n                FirebaseUtil.logEvent(&quot;cmc_crash_fingerprint&quot;);\r\n            }\r\n        });\r\n        break;\r\n    case ERROR_NEGATIVE_BUTTON:\r\n    case ERROR_LOCKOUT:\r\n    case ERROR_LOCKOUT_PERMANENT:\r\n    case ERROR_HW_NOT_PRESENT:\r\n    case ERROR_HW_UNAVAILABLE:\r\n    case ERROR_NO_DEVICE_CREDENTIAL:\r\n    case ERROR_NO_BIOMETRICS:\r\n    case ERROR_VENDOR:\r\n    default:\r\n        endAuth(false);\r\n        showLoginScreen();\r\n        break;\r\n}\r\n```\r\n\r\nIs that the best choice and are there some hidden problems with it? \r\n\r\nThank you very much in advance :).","title":"BiometricPrompt Error cases for onAuthenticationError() after update to latest version","body":"<p>I have updated the version of a library\nfrom: `</p>\n<pre><code>from 'androidx.biometric:biometric:1.0.1' to -&gt; 'androidx.biometric:biometric:1.1.0'\n</code></pre>\n<p>I saw that there are new possible errors and I was wondering how to handle them!</p>\n<p>Ide show error warning for switch statement:</p>\n<pre><code>&quot;Switch statement on an int with known associated constant missing case \n BiometricPrompt.ERROR_HW_NOT_PRESENT,\n BiometricPrompt.ERROR_HW_UNAVAILABLE, \n BiometricPrompt.ERROR_NO_BIOMETRICS, \n BiometricPrompt.ERROR_NO_DEVICE_CREDENTIAL, \n BiometricPrompt.ERROR_NO_SPACE, \n BiometricPrompt.ERROR_TIMEOUT, \n BiometricPrompt.ERROR_UNABLE_TO_PROCESS,\n BiometricPrompt.ERROR_VENDOR&quot;\n</code></pre>\n<p>That's my code before updating of library:</p>\n<pre><code>private class BioCallback extends AuthenticationCallback {\n   public void onAuthenticationError(int errorCode, @NonNull CharSequence errString) {\n    switch (errorCode) {\n        case ERROR_CANCELED:\n        case ERROR_USER_CANCELED:\n            endAuth(false);\n            runOnUiThread(() -&gt; {\n                try {\n                    mBiometricPrompt.authenticate(mPromptInfo);\n                } catch (Exception e) {\n                    FirebaseUtil.logEvent(&quot;cmc_crash_fingerprint&quot;);\n                }\n            });\n            break;\n        case ERROR_NEGATIVE_BUTTON:\n        case ERROR_LOCKOUT:\n        case ERROR_LOCKOUT_PERMANENT:\n        default:\n            endAuth(false);\n            showLoginScreen();\n            break;\n    }\n    super.onAuthenticationError(errorCode, errString);\n   }\n</code></pre>\n<p>After I read documentation for each Error Code I change the code to:</p>\n<pre><code>switch (errorCode) {\n    case ERROR_CANCELED:\n    case ERROR_USER_CANCELED:\n    case ERROR_TIMEOUT:\n    case ERROR_NO_SPACE:\n    case ERROR_UNABLE_TO_PROCESS:\n        endAuth(false);\n        runOnUiThread(() -&gt; {\n            try {\n                mBiometricPrompt.authenticate(mPromptInfo);\n            } catch (Exception e) {\n                FirebaseUtil.logEvent(&quot;cmc_crash_fingerprint&quot;);\n            }\n        });\n        break;\n    case ERROR_NEGATIVE_BUTTON:\n    case ERROR_LOCKOUT:\n    case ERROR_LOCKOUT_PERMANENT:\n    case ERROR_HW_NOT_PRESENT:\n    case ERROR_HW_UNAVAILABLE:\n    case ERROR_NO_DEVICE_CREDENTIAL:\n    case ERROR_NO_BIOMETRICS:\n    case ERROR_VENDOR:\n    default:\n        endAuth(false);\n        showLoginScreen();\n        break;\n}\n</code></pre>\n<p>Is that the best choice and are there some hidden problems with it?</p>\n<p>Thank you very much in advance :).</p>\n"},{"tags":["java","android","ios","firebase","google-cloud-firestore"],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":1,"up_vote_count":52,"is_accepted":false,"score":51,"last_activity_date":1674561088,"creation_date":1511806789,"answer_id":47517402,"question_id":47514419,"body_markdown":"**Edit 13 Jan 2021:**\r\n\r\nAccording to the updated documentation regarding [array membership](https://firebase.google.com/docs/firestore/query-data/queries#array_membership), now it is possible to filter data based on array values using `whereArrayContains()` method. A simple example would be:\r\n\r\n    CollectionReference citiesRef = db.collection(&quot;cities&quot;);\r\n    citiesRef.whereArrayContains(&quot;regions&quot;, &quot;west_coast&quot;);\r\n\r\n&gt; This query returns every city document where the regions field is an array that contains west_coast. If the array has multiple instances of the value you query on, the document is included in the results only once.\r\n\r\n---\r\n\r\nAssuming we have a chat application that has a database structure that looks similar to this:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8P0Sj.png\r\n\r\nTo write a `subCollection` in a document, please use the following code:\r\n\r\n    DocumentReference messageRef = db\r\n        .collection(&quot;rooms&quot;).document(&quot;roomA&quot;)\r\n        .collection(&quot;messages&quot;).document(&quot;message1&quot;);\r\n\r\nCreating a `messages` collection and calling `addDocument()` 1000 times will be expensive for sure, but this is how Firestore works. You can switch to Firebase Realtime Database if you want where the number of writes doesn&#39;t matter. But regarding [Supported Data Types](https://firebase.google.com/docs/firestore/manage-data/data-types) in Firestore, in fact, you can use an array because it is supported. In [Firebase Realtime database](https://firebase.google.com/docs/database/android/read-and-write) you could also use an `array`, but this is an anti-pattern. One of the many reasons Firebase recommends against using arrays is that it makes the security rules impossible to write.\r\n\r\nCloud Firestore can store arrays, but it does not support querying array members or updating single array elements. However, you can still model this kind of data by leveraging the other capabilities of the Cloud Firestore. [Here](https://firebase.google.com/docs/firestore/solutions/arrays) is the documentation where it is very well explained.\r\n\r\nYou also cannot create a subcollection with 1000 messages, add all of them to the database, and expect it to be considered a single record. It will be considered one write operation for every message, in total 1000 operations. The picture above does not show how to retrieve data, it shows a database structure in which you have something like this:\r\n\r\n    collection -&gt; document -&gt; subCollection -&gt; document","title":"How to add subcollection to a document in Firebase Cloud Firestore","body":"<p><strong>Edit 13 Jan 2021:</strong></p>\n<p>According to the updated documentation regarding <a href=\"https://firebase.google.com/docs/firestore/query-data/queries#array_membership\" rel=\"nofollow noreferrer\">array membership</a>, now it is possible to filter data based on array values using <code>whereArrayContains()</code> method. A simple example would be:</p>\n<pre><code>CollectionReference citiesRef = db.collection(&quot;cities&quot;);\ncitiesRef.whereArrayContains(&quot;regions&quot;, &quot;west_coast&quot;);\n</code></pre>\n<blockquote>\n<p>This query returns every city document where the regions field is an array that contains west_coast. If the array has multiple instances of the value you query on, the document is included in the results only once.</p>\n</blockquote>\n<hr />\n<p>Assuming we have a chat application that has a database structure that looks similar to this:</p>\n<p><a href=\"https://i.stack.imgur.com/8P0Sj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8P0Sj.png\" alt=\"enter image description here\" /></a></p>\n<p>To write a <code>subCollection</code> in a document, please use the following code:</p>\n<pre><code>DocumentReference messageRef = db\n    .collection(&quot;rooms&quot;).document(&quot;roomA&quot;)\n    .collection(&quot;messages&quot;).document(&quot;message1&quot;);\n</code></pre>\n<p>Creating a <code>messages</code> collection and calling <code>addDocument()</code> 1000 times will be expensive for sure, but this is how Firestore works. You can switch to Firebase Realtime Database if you want where the number of writes doesn't matter. But regarding <a href=\"https://firebase.google.com/docs/firestore/manage-data/data-types\" rel=\"nofollow noreferrer\">Supported Data Types</a> in Firestore, in fact, you can use an array because it is supported. In <a href=\"https://firebase.google.com/docs/database/android/read-and-write\" rel=\"nofollow noreferrer\">Firebase Realtime database</a> you could also use an <code>array</code>, but this is an anti-pattern. One of the many reasons Firebase recommends against using arrays is that it makes the security rules impossible to write.</p>\n<p>Cloud Firestore can store arrays, but it does not support querying array members or updating single array elements. However, you can still model this kind of data by leveraging the other capabilities of the Cloud Firestore. <a href=\"https://firebase.google.com/docs/firestore/solutions/arrays\" rel=\"nofollow noreferrer\">Here</a> is the documentation where it is very well explained.</p>\n<p>You also cannot create a subcollection with 1000 messages, add all of them to the database, and expect it to be considered a single record. It will be considered one write operation for every message, in total 1000 operations. The picture above does not show how to retrieve data, it shows a database structure in which you have something like this:</p>\n<pre><code>collection -&gt; document -&gt; subCollection -&gt; document\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6679782,"reputation":10300,"user_id":5153354,"accept_rate":51,"display_name":"Thomas David Kehoe"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1519928701,"creation_date":1519928701,"answer_id":49056317,"question_id":47514419,"body_markdown":"Here&#39;s my code:\r\n\r\n    firebase.firestore().collection($scope.longLanguage + &#39;Words&#39;).doc($scope.word).set(wordData)\r\n      .then(function() {\r\n        console.log(&quot;Collection added to Firestore!&quot;);\r\n        var promises = [];\r\n        promises.push(firebase.firestore().collection($scope.longLanguage + &#39;Words&#39;).doc($scope.word).collection(&#39;AudioSources&#39;).doc($scope.accentDialect).set(accentDialectObject));\r\n        promises.push(firebase.firestore().collection($scope.longLanguage + &#39;Words&#39;).doc($scope.word).collection(&#39;FunFacts&#39;).doc($scope.longLanguage).set(funFactObject));\r\n        promises.push(firebase.firestore().collection($scope.longLanguage + &#39;Words&#39;).doc($scope.word).collection(&#39;Translations&#39;).doc($scope.translationLongLanguage).set(translationObject));\r\n        Promise.all(promises).then(function() {\r\n          console.log(&quot;All subcollections were added!&quot;);\r\n        })\r\n        .catch(function(error){\r\n          console.log(&quot;Error adding subcollections to Firestore: &quot; + error);\r\n        });\r\n      })\r\n      .catch(function(error){\r\n        console.log(&quot;Error adding document to Firestore: &quot; + error);\r\n      });\r\n\r\nThis makes a collection `EnglishWords`, which has a document `of`. The document `of` has three subcollections: `AudioSources` (recordings of the word in American and British accents), `FunFacts`, and `Translations`. The subcollection `Translations` has one document: `Spanish`. The `Spanish` document has three key-value pairs, telling you that &#39;de&#39; is the Spanish translation of &#39;of&#39;.\r\n\r\nThe first line of the code creates the collection `EnglishWords`. We wait for the promise to resolve with `.then`, and then we create the three subcollections. `Promise.all` tells us when all three subcollections are set.\r\n\r\nIMHO, I use arrays in Firestore when the entire array is uploaded and downloaded together, i.e., I don&#39;t need to access individual elements. For example, an array of the letters of the word &#39;of&#39; would be `[&#39;o&#39;, &#39;f&#39;]`. The user can ask, &quot;How do I spell &#39;of&#39;?&quot; The user isn&#39;t going to ask, &quot;What&#39;s the second letter in &#39;of&#39;?&quot; \r\n\r\nI use collections when I need to access individual elements, a.k.a. documents. With the older Firebase Realtime Database, I had to download arrays and then iterate through the arrays with `forEach` to get the element I wanted. This was a lot of code, and with a deep data structure and/or large arrays I was downloading tons of data that I didn&#39;t need, and slowing my app running `forEach` loops on large arrays. Firestore puts the iterators in the database, on their end, so that I can request a single element and it sends me just that element, saving me bandwidth and making my app run faster. This might not matter for a web app, if your computer has a broadband connection, but for mobile apps with poor data connections and slow devices this is important.\r\n\r\nHere are two pictures of my Firestore:\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/GXr33.png\r\n  [2]: https://i.stack.imgur.com/cRQgy.png","title":"How to add subcollection to a document in Firebase Cloud Firestore","body":"<p>Here's my code:</p>\n\n<pre><code>firebase.firestore().collection($scope.longLanguage + 'Words').doc($scope.word).set(wordData)\n  .then(function() {\n    console.log(\"Collection added to Firestore!\");\n    var promises = [];\n    promises.push(firebase.firestore().collection($scope.longLanguage + 'Words').doc($scope.word).collection('AudioSources').doc($scope.accentDialect).set(accentDialectObject));\n    promises.push(firebase.firestore().collection($scope.longLanguage + 'Words').doc($scope.word).collection('FunFacts').doc($scope.longLanguage).set(funFactObject));\n    promises.push(firebase.firestore().collection($scope.longLanguage + 'Words').doc($scope.word).collection('Translations').doc($scope.translationLongLanguage).set(translationObject));\n    Promise.all(promises).then(function() {\n      console.log(\"All subcollections were added!\");\n    })\n    .catch(function(error){\n      console.log(\"Error adding subcollections to Firestore: \" + error);\n    });\n  })\n  .catch(function(error){\n    console.log(\"Error adding document to Firestore: \" + error);\n  });\n</code></pre>\n\n<p>This makes a collection <code>EnglishWords</code>, which has a document <code>of</code>. The document <code>of</code> has three subcollections: <code>AudioSources</code> (recordings of the word in American and British accents), <code>FunFacts</code>, and <code>Translations</code>. The subcollection <code>Translations</code> has one document: <code>Spanish</code>. The <code>Spanish</code> document has three key-value pairs, telling you that 'de' is the Spanish translation of 'of'.</p>\n\n<p>The first line of the code creates the collection <code>EnglishWords</code>. We wait for the promise to resolve with <code>.then</code>, and then we create the three subcollections. <code>Promise.all</code> tells us when all three subcollections are set.</p>\n\n<p>IMHO, I use arrays in Firestore when the entire array is uploaded and downloaded together, i.e., I don't need to access individual elements. For example, an array of the letters of the word 'of' would be <code>['o', 'f']</code>. The user can ask, \"How do I spell 'of'?\" The user isn't going to ask, \"What's the second letter in 'of'?\" </p>\n\n<p>I use collections when I need to access individual elements, a.k.a. documents. With the older Firebase Realtime Database, I had to download arrays and then iterate through the arrays with <code>forEach</code> to get the element I wanted. This was a lot of code, and with a deep data structure and/or large arrays I was downloading tons of data that I didn't need, and slowing my app running <code>forEach</code> loops on large arrays. Firestore puts the iterators in the database, on their end, so that I can request a single element and it sends me just that element, saving me bandwidth and making my app run faster. This might not matter for a web app, if your computer has a broadband connection, but for mobile apps with poor data connections and slow devices this is important.</p>\n\n<p>Here are two pictures of my Firestore:\n<a href=\"https://i.stack.imgur.com/GXr33.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/GXr33.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/cRQgy.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/cRQgy.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":226762,"reputation":11452,"user_id":2162226,"accept_rate":70,"display_name":"Gene Bo"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1571101239,"creation_date":1522795133,"answer_id":49640098,"question_id":47514419,"body_markdown":"Here&#39;s a variation where the subcollection is storing ID values at the collection level, rather than within a document where the subcollection is a field there with additional data.  \r\n\r\nThis is useful for connecting a ***1-to-Many ID mapping*** w/out having to drill through an additional document:\r\n\r\n    function fireAddStudentToClassroom(studentUserId, classroomId) {\r\n\r\n        var db = firebase.firestore();\r\n        var studentsClassroomRef =\r\n            db.collection(&#39;student_class&#39;).doc(classroomId)\r\n              .collection(&#39;students&#39;);\r\n\r\n        studentsClassroomRef\r\n            .doc(studentUserId)\r\n            .set({})\r\n            .then(function () {\r\n                console.log(&#39;Document Added &#39;);\r\n            })\r\n            .catch(function (error) {\r\n                console.error(&#39;Error adding document: &#39;, error);\r\n            });\r\n    }\r\n\r\nThanks to [@Alex&#39;s answer][1]\r\n  [1]: https://stackoverflow.com/a/47517402/2162226\r\n\r\n&gt; This answer a bit off from the original question here, where it explicitly asks for adding a collection to a document.  However, after searching for a solution for this scenario and not finding any mention in docs or on SO, this post seems like a reasonable place to share the findings\r\n","title":"How to add subcollection to a document in Firebase Cloud Firestore","body":"<p>Here's a variation where the subcollection is storing ID values at the collection level, rather than within a document where the subcollection is a field there with additional data.  </p>\n\n<p>This is useful for connecting a <strong><em>1-to-Many ID mapping</em></strong> w/out having to drill through an additional document:</p>\n\n<pre><code>function fireAddStudentToClassroom(studentUserId, classroomId) {\n\n    var db = firebase.firestore();\n    var studentsClassroomRef =\n        db.collection('student_class').doc(classroomId)\n          .collection('students');\n\n    studentsClassroomRef\n        .doc(studentUserId)\n        .set({})\n        .then(function () {\n            console.log('Document Added ');\n        })\n        .catch(function (error) {\n            console.error('Error adding document: ', error);\n        });\n}\n</code></pre>\n\n<p>Thanks to <a href=\"https://stackoverflow.com/a/47517402/2162226\">@Alex's answer</a></p>\n\n<blockquote>\n  <p>This answer a bit off from the original question here, where it explicitly asks for adding a collection to a document.  However, after searching for a solution for this scenario and not finding any mention in docs or on SO, this post seems like a reasonable place to share the findings</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1198405,"reputation":466,"user_id":1169623,"accept_rate":43,"display_name":"Mihir Patel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1542561544,"creation_date":1542561544,"answer_id":53363526,"question_id":47514419,"body_markdown":"too late for an answer but here is what worked for me,\r\n\r\n            mFirebaseDatabaseReference?.collection(&quot;conversations&quot;)?.add(Conversation(&quot;User1&quot;))\r\n                ?.addOnSuccessListener { documentReference -&gt;\r\n                    Log.d(TAG, &quot;DocumentSnapshot written with ID: &quot; + documentReference.id)\r\n                    mFirebaseDatabaseReference?.collection(&quot;conversations&quot;)?.document(documentReference.id)?.collection(&quot;messages&quot;)?.add(Message(edtMessage?.text.toString()))\r\n                }?.addOnFailureListener { e -&gt;\r\n                    Log.w(TAG, &quot;Error adding document&quot;, e)\r\n                }\r\n\r\nadd success listener for adding document and use firebase generated ID for a path.\r\nUse this ID for the complete path for a new collection you want to add.\r\nI.E. - dbReference.collection(&#39;yourCollectionName&#39;).document(firebaseGeneratedID).collection(&#39;yourCollectionName&#39;).add(yourDocumentPOJO/Object)\r\n","title":"How to add subcollection to a document in Firebase Cloud Firestore","body":"<p>too late for an answer but here is what worked for me,</p>\n\n<pre><code>        mFirebaseDatabaseReference?.collection(\"conversations\")?.add(Conversation(\"User1\"))\n            ?.addOnSuccessListener { documentReference -&gt;\n                Log.d(TAG, \"DocumentSnapshot written with ID: \" + documentReference.id)\n                mFirebaseDatabaseReference?.collection(\"conversations\")?.document(documentReference.id)?.collection(\"messages\")?.add(Message(edtMessage?.text.toString()))\n            }?.addOnFailureListener { e -&gt;\n                Log.w(TAG, \"Error adding document\", e)\n            }\n</code></pre>\n\n<p>add success listener for adding document and use firebase generated ID for a path.\nUse this ID for the complete path for a new collection you want to add.\nI.E. - dbReference.collection('yourCollectionName').document(firebaseGeneratedID).collection('yourCollectionName').add(yourDocumentPOJO/Object)</p>\n"},{"tags":[],"owner":{"account_id":17673939,"reputation":41,"user_id":12829382,"display_name":"Christian_M"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1604057418,"creation_date":1604057418,"answer_id":64607521,"question_id":47514419,"body_markdown":"From the docs: \r\n\r\n&gt;You do not need to &quot;create&quot; or &quot;delete&quot; collections. After you create the first document in a collection, the collection exists. If you delete all of the documents in a collection, it no longer exists.","title":"How to add subcollection to a document in Firebase Cloud Firestore","body":"<p>From the docs:</p>\n<blockquote>\n<p>You do not need to &quot;create&quot; or &quot;delete&quot; collections. After you create the first document in a collection, the collection exists. If you delete all of the documents in a collection, it no longer exists.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":13896830,"reputation":502,"user_id":10033455,"display_name":"Mubasher Ali"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1608660115,"creation_date":1608660115,"answer_id":65413611,"question_id":47514419,"body_markdown":"Here i faced the same issue and solve with the answere of @Thomas David Kehoe\r\n\r\n```\r\ndb.collection(&quot;First collection Name&quot;).doc(&quot;Id of the document&quot;).collection(&quot;Nested collection Name&quot;).add({\r\n                //your data\r\n            }).then((data) =&gt; {\r\n                console.log(data.id);\r\n                console.log(&quot;Document has added&quot;)\r\n            }).catch((err) =&gt; {\r\n                console.log(err)\r\n            })\r\n```","title":"How to add subcollection to a document in Firebase Cloud Firestore","body":"<p>Here i faced the same issue and solve with the answere of @Thomas David Kehoe</p>\n<pre><code>db.collection(&quot;First collection Name&quot;).doc(&quot;Id of the document&quot;).collection(&quot;Nested collection Name&quot;).add({\n                //your data\n            }).then((data) =&gt; {\n                console.log(data.id);\n                console.log(&quot;Document has added&quot;)\n            }).catch((err) =&gt; {\n                console.log(err)\n            })\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16722731,"reputation":11,"user_id":12087167,"display_name":"Chinedu Oguejiofor"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633689476,"creation_date":1633689476,"answer_id":69494506,"question_id":47514419,"body_markdown":"Okay so I recently faced a similar problem given the recent update in the firebase/firestore documentation.\r\n\r\nAnd here is a solution that worked for me\r\n\r\n      const sendMessage = async () =&gt; {\r\n        await setDoc(doc(db, COLLECTION_NAME, projectId, SUB_COLLECTION_NAME, nanoid()), {\r\n          text:&#39;this is a sample text&#39;,\r\n          createdAt: serverTimestamp(),\r\n          name: currentUser?.firstName + &#39; &#39; + currentUser?.lastName,\r\n          photoUrl: currentUser?.photoUrl,\r\n          userId: currentUser?.id,\r\n        });\r\n      }\r\n\r\n\r\nYou can find a similar example in the docs\r\nhttps://firebase.google.com/docs/firestore/data-model#web-version-9_3\r\n\r\n[chat room][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1oJ9T.png\r\n\r\n\r\nIf you wish to listen for live update you can use a similar method as follows\r\n\r\n  \r\n\r\n    const messagesRef = collection(db, COLLECTION_NAME, projectId, SUB_COLLECTION_NAME)\r\n          \r\n    const liveUpdate = async () =&gt; {\r\n            const queryObj = query(messagesRef, orderBy(&quot;createdAt&quot;), limit(25));\r\n            onSnapshot(queryObj, (querySnapshot) =&gt; {\r\n              const msgArr: any = [];\r\n              querySnapshot.forEach((doc) =&gt; {\r\n                msgArr.push({ id: doc.id, ...doc.data() })\r\n              });\r\n              console.log(msgArr);\r\n            });\r\n          }","title":"How to add subcollection to a document in Firebase Cloud Firestore","body":"<p>Okay so I recently faced a similar problem given the recent update in the firebase/firestore documentation.</p>\n<p>And here is a solution that worked for me</p>\n<pre><code>  const sendMessage = async () =&gt; {\n    await setDoc(doc(db, COLLECTION_NAME, projectId, SUB_COLLECTION_NAME, nanoid()), {\n      text:'this is a sample text',\n      createdAt: serverTimestamp(),\n      name: currentUser?.firstName + ' ' + currentUser?.lastName,\n      photoUrl: currentUser?.photoUrl,\n      userId: currentUser?.id,\n    });\n  }\n</code></pre>\n<p>You can find a similar example in the docs\n<a href=\"https://firebase.google.com/docs/firestore/data-model#web-version-9_3\" rel=\"nofollow noreferrer\">https://firebase.google.com/docs/firestore/data-model#web-version-9_3</a></p>\n<p><a href=\"https://i.stack.imgur.com/1oJ9T.png\" rel=\"nofollow noreferrer\">chat room</a></p>\n<p>If you wish to listen for live update you can use a similar method as follows</p>\n<pre><code>const messagesRef = collection(db, COLLECTION_NAME, projectId, SUB_COLLECTION_NAME)\n      \nconst liveUpdate = async () =&gt; {\n        const queryObj = query(messagesRef, orderBy(&quot;createdAt&quot;), limit(25));\n        onSnapshot(queryObj, (querySnapshot) =&gt; {\n          const msgArr: any = [];\n          querySnapshot.forEach((doc) =&gt; {\n            msgArr.push({ id: doc.id, ...doc.data() })\n          });\n          console.log(msgArr);\n        });\n      }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18347790,"reputation":41,"user_id":13362626,"display_name":"Kunal Singhal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637073143,"creation_date":1637073143,"answer_id":69991024,"question_id":47514419,"body_markdown":"There is no separate method to add sub-collection into the document.\r\nYou can just call the collection method itself.\r\nIf the collection exists it will reference that otherwise create a new one. \r\n\r\n```\r\ndbRef.document(&quot;example&quot;).collection(&quot;subCollection&quot;)\r\n```","title":"How to add subcollection to a document in Firebase Cloud Firestore","body":"<p>There is no separate method to add sub-collection into the document.\nYou can just call the collection method itself.\nIf the collection exists it will reference that otherwise create a new one.</p>\n<pre><code>dbRef.document(&quot;example&quot;).collection(&quot;subCollection&quot;)\n</code></pre>\n"}],"owner":{"account_id":8089696,"reputation":5875,"user_id":6096029,"accept_rate":44,"display_name":"rgoncalv"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":104608,"favorite_count":0,"down_vote_count":0,"up_vote_count":59,"answer_count":8,"score":59,"last_activity_date":1674561088,"creation_date":1511796404,"question_id":47514419,"body_markdown":"The documentation does not have any examples on how to add a subcollection to a document. I know how to add document to a collection and how to add data to a document, but how do I add a collection (subcollection) to a document?\r\n\r\nShouldn&#39;t there be some method like this:\r\n\r\n    dbRef.document(&quot;example&quot;).addCollection(&quot;subCollection&quot;)","title":"How to add subcollection to a document in Firebase Cloud Firestore","body":"<p>The documentation does not have any examples on how to add a subcollection to a document. I know how to add document to a collection and how to add data to a document, but how do I add a collection (subcollection) to a document?</p>\n\n<p>Shouldn't there be some method like this:</p>\n\n<pre><code>dbRef.document(\"example\").addCollection(\"subCollection\")\n</code></pre>\n"},{"tags":["java","excel","pdf"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1674559985,"post_id":75220866,"comment_id":132735171,"body_markdown":"`PDFTextStripper` will ignore all formatting, as stated in its JavaDoc. That includes things like &quot;place that string right of that other string&quot;. In other words: if you care about how text is arranged and it&#39;s not just straight-up prose, then this is probably the wrong tool for the job.","body":"<code>PDFTextStripper</code> will ignore all formatting, as stated in its JavaDoc. That includes things like &quot;place that string right of that other string&quot;. In other words: if you care about how text is arranged and it&#39;s not just straight-up prose, then this is probably the wrong tool for the job."},{"owner":{"account_id":20661616,"reputation":147,"user_id":15169462,"display_name":"Alexander"},"score":0,"creation_date":1674560190,"post_id":75220866,"comment_id":132735244,"body_markdown":"@Joachim Sauer For me it is very important that the data is displayed in all columns. Please tell me the correct solution","body":"@Joachim Sauer For me it is very important that the data is displayed in all columns. Please tell me the correct solution"},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1674560218,"post_id":75220866,"comment_id":132735255,"body_markdown":"Check the duplicate linked at the top of your question, it contains multiple viable approaches.","body":"Check the duplicate linked at the top of your question, it contains multiple viable approaches."},{"owner":{"account_id":20661616,"reputation":147,"user_id":15169462,"display_name":"Alexander"},"score":0,"creation_date":1674560408,"post_id":75220866,"comment_id":132735304,"body_markdown":"@Joachim Sauer I already tried to do so. This doesn&#39;t work for me as empty cells are removed by this code. And the structure of the document is not correct. Moreover, I subsequently write the data from the already generated excel file to the database","body":"@Joachim Sauer I already tried to do so. This doesn&#39;t work for me as empty cells are removed by this code. And the structure of the document is not correct. Moreover, I subsequently write the data from the already generated excel file to the database"},{"owner":{"account_id":20661616,"reputation":147,"user_id":15169462,"display_name":"Alexander"},"score":0,"creation_date":1674560601,"post_id":75220866,"comment_id":132735355,"body_markdown":"How can I write data to the database through the code that you recommended to me?","body":"How can I write data to the database through the code that you recommended to me?"},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1674561095,"post_id":75220866,"comment_id":132735509,"body_markdown":"That question has at least a dozen answers, most of which are upvoted. I don&#39;t quite believe that you&#39;ve tried *all of them* (or even more than one). Also your last comment is a total non-sequitur and doesn&#39;t seem related to this question at all.","body":"That question has at least a dozen answers, most of which are upvoted. I don&#39;t quite believe that you&#39;ve tried <i>all of them</i> (or even more than one). Also your last comment is a total non-sequitur and doesn&#39;t seem related to this question at all."}],"owner":{"account_id":20661616,"reputation":147,"user_id":15169462,"display_name":"Alexander"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1674560160,"answer_count":0,"score":0,"last_activity_date":1674561003,"creation_date":1674559829,"question_id":75220866,"body_markdown":"I am trying to parse a PDF file into an Excel file\r\n\r\n```java\r\nPDDocument document = Loader.loadPDF(new File(&quot;Example.pdf&quot;));\r\n\r\n// Extract the text from the PDF\r\nPDFTextStripper stripper = new PDFTextStripper();\r\nString text = stripper.getText(document);\r\n\r\n// Create a new Excel workbook\r\nXSSFWorkbook workbook = new XSSFWorkbook();\r\n\r\n// Create a new sheet in the workbook\r\nXSSFSheet sheet = workbook.createSheet(&quot;PDF Data&quot;);\r\n\r\n// Split the text into rows and columns\r\nString[] rows = text.split(&quot;\\n&quot;);\r\nfor (int i = 0; i &lt; rows.length; i++) {\r\n    String[] cols = rows[i].split(&quot;\\t&quot;);\r\n    Row row = sheet.createRow(i);\r\n    for (int j = 0; j &lt; cols.length; j++) {\r\n        Cell cell = row.createCell(j);\r\n        cell.setCellValue(cols[j]);\r\n    }\r\n}\r\n// Save the Excel file\r\nFileOutputStream fileOut = new FileOutputStream(&quot;outputFile.xlsx&quot;);\r\nworkbook.write(fileOut);\r\nworkbook.close();\r\n\r\n// Close the PDF document\r\ndocument.close();\r\n```\r\n\r\nMy PDF file looks like a table.\r\n\r\nBut this code does not insert data into the correct columns, that is, instead of\r\n\r\n```none\r\n|   name   |    some data   | some data 2| some data 3 |    some data 4    |  some data 5 |\r\n+----------+----------------+------------+-------------+-------------------+--------------+\r\n```\r\n\r\nCode inserts data into one column\r\n\r\n```none\r\nname\r\nsome data\r\nsome data 2\r\nsome data 3\r\nsome data 4\r\nsome data 5\r\n```\r\n\r\nPlease help me achieve the result so that the data is distributed over several columns and not in one.\r\n\r\nThe whole problem I have is that I need to write the data from the EXCEL file to the database","title":"Parse PDF file to Excel file and write the data to the database","body":"<p>I am trying to parse a PDF file into an Excel file</p>\n<pre class=\"lang-java prettyprint-override\"><code>PDDocument document = Loader.loadPDF(new File(&quot;Example.pdf&quot;));\n\n// Extract the text from the PDF\nPDFTextStripper stripper = new PDFTextStripper();\nString text = stripper.getText(document);\n\n// Create a new Excel workbook\nXSSFWorkbook workbook = new XSSFWorkbook();\n\n// Create a new sheet in the workbook\nXSSFSheet sheet = workbook.createSheet(&quot;PDF Data&quot;);\n\n// Split the text into rows and columns\nString[] rows = text.split(&quot;\\n&quot;);\nfor (int i = 0; i &lt; rows.length; i++) {\n    String[] cols = rows[i].split(&quot;\\t&quot;);\n    Row row = sheet.createRow(i);\n    for (int j = 0; j &lt; cols.length; j++) {\n        Cell cell = row.createCell(j);\n        cell.setCellValue(cols[j]);\n    }\n}\n// Save the Excel file\nFileOutputStream fileOut = new FileOutputStream(&quot;outputFile.xlsx&quot;);\nworkbook.write(fileOut);\nworkbook.close();\n\n// Close the PDF document\ndocument.close();\n</code></pre>\n<p>My PDF file looks like a table.</p>\n<p>But this code does not insert data into the correct columns, that is, instead of</p>\n<pre class=\"lang-none prettyprint-override\"><code>|   name   |    some data   | some data 2| some data 3 |    some data 4    |  some data 5 |\n+----------+----------------+------------+-------------+-------------------+--------------+\n</code></pre>\n<p>Code inserts data into one column</p>\n<pre class=\"lang-none prettyprint-override\"><code>name\nsome data\nsome data 2\nsome data 3\nsome data 4\nsome data 5\n</code></pre>\n<p>Please help me achieve the result so that the data is distributed over several columns and not in one.</p>\n<p>The whole problem I have is that I need to write the data from the EXCEL file to the database</p>\n"},{"tags":["java","spring-boot","unit-testing","iterator"],"comments":[{"owner":{"account_id":951981,"reputation":14760,"user_id":977919,"accept_rate":92,"display_name":"sidgate"},"score":0,"creation_date":1674557509,"post_id":75220292,"comment_id":132734480,"body_markdown":"what happens if you don&#39;t mock it?","body":"what happens if you don&#39;t mock it?"},{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1674560864,"post_id":75220292,"comment_id":132735436,"body_markdown":"Please explain **why** you want to mock it. Doing so hardly makes any sense. The purpose of a test is to verify that a method does what it is supposed to do. If you mock the iterator, you&#39;re not doing that, instead you&#39;re testing if the implementation uses that specific iterator. You should prepare a specific set of data, and maybe mock other external sources of data, and then verify if the returned data is what you expected.","body":"Please explain <b>why</b> you want to mock it. Doing so hardly makes any sense. The purpose of a test is to verify that a method does what it is supposed to do. If you mock the iterator, you&#39;re not doing that, instead you&#39;re testing if the implementation uses that specific iterator. You should prepare a specific set of data, and maybe mock other external sources of data, and then verify if the returned data is what you expected."}],"owner":{"account_id":15189074,"reputation":39,"user_id":18848766,"display_name":"NNFdo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674560668,"creation_date":1674556709,"question_id":75220292,"body_markdown":"I am trying to write unit test for the below method &quot;processStudentData&quot;. \r\n\r\n```java\r\n@Override\r\npublic List&lt;StudentsCSV&gt; processStudentData(MappingIterator&lt;Students&gt; studentsMappingIterator, String studentDetails) {\r\n    // ...\r\n\r\n    Iterators.partition(studentsMappingIterator, BATCH_SIZE)\r\n        .forEachRemaining(studentsList -&gt; processBatch(studentDetails.getStudentId()));\r\n\r\n    List&lt;StudentsCSV&gt; studentsCSVList = new ArrayList();\r\n    // ...\r\n    return studentsCSVList;\r\n}\r\n```\r\n\r\nI have used com.google.common.collect.Iterators.partition() inside this method. And I tried to mock is as below, but it doesn&#39;t work. I want to know how to write unit tests for &quot;processStudentData&quot; method?\r\n\r\n```java\r\n@EnableAutoConfiguration\r\n@SpringBootTest\r\npublic class AudienceDataProcessorServiceTest {\r\n\r\n\t@Test\r\n\tvoid test(){\r\n\t\tList&lt;Students&gt;  studentsList = new ArrayList&lt;&gt;();\r\n\t\tStudents student = new Students();\r\n\t\tstudentsList.add(student);\r\n\t\tIterator&lt;Students&gt; iteratorStudent = studentsList.iterator();\r\n\r\n\t\tIterators iterators = mock(Iterators.class);\r\n\t\twhen(iterators.partition(any(MappingIterator.class),anyInt())).thenReturn(Iterators.unmodifiableIterator(iteratorStudent));\r\n\t}\r\n}\r\n```","title":"How to mock com.google.common.collect.Iterators.partition() in Springboot?","body":"<p>I am trying to write unit test for the below method &quot;processStudentData&quot;.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic List&lt;StudentsCSV&gt; processStudentData(MappingIterator&lt;Students&gt; studentsMappingIterator, String studentDetails) {\n    // ...\n\n    Iterators.partition(studentsMappingIterator, BATCH_SIZE)\n        .forEachRemaining(studentsList -&gt; processBatch(studentDetails.getStudentId()));\n\n    List&lt;StudentsCSV&gt; studentsCSVList = new ArrayList();\n    // ...\n    return studentsCSVList;\n}\n</code></pre>\n<p>I have used com.google.common.collect.Iterators.partition() inside this method. And I tried to mock is as below, but it doesn't work. I want to know how to write unit tests for &quot;processStudentData&quot; method?</p>\n<pre class=\"lang-java prettyprint-override\"><code>@EnableAutoConfiguration\n@SpringBootTest\npublic class AudienceDataProcessorServiceTest {\n\n    @Test\n    void test(){\n        List&lt;Students&gt;  studentsList = new ArrayList&lt;&gt;();\n        Students student = new Students();\n        studentsList.add(student);\n        Iterator&lt;Students&gt; iteratorStudent = studentsList.iterator();\n\n        Iterators iterators = mock(Iterators.class);\n        when(iterators.partition(any(MappingIterator.class),anyInt())).thenReturn(Iterators.unmodifiableIterator(iteratorStudent));\n    }\n}\n</code></pre>\n"},{"tags":["java","pdf","xls","apache-fop","standards-compliance"],"owner":{"account_id":4569008,"reputation":1204,"user_id":3709218,"accept_rate":49,"display_name":"Kishore Kumar Korada"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674560441,"creation_date":1674558935,"question_id":75220700,"body_markdown":"I&#39;m working on Apache FOP to generate a PDF. As part of the compliance, I&#39;ve enabled accessibility to true on FOUserAgent. Here&#39;s my below code snippet.\r\n\r\n    FopFactory fopFactory = FopFactory.newInstance(file.toURI());\r\n    FOUserAgent userAgent = fopFactory.newFOUserAgent();\r\n    userAgent.setAccessibility(true);\r\n    userAgent.setKeepEmptyTags(true);\r\n    userAgent.setTitle(&quot;Test Document&quot;);\r\n    userAgent.setAuthor(&quot;Kishore Kumar Korada&quot;);\r\n\r\nWith that when I run the scan through Adobe Acrobat Pro, few of the compliance issues got resolved. But title is still getting failed even though I set it as per the code an in report properties title getting displayed too.\r\n\r\nIf so, why the title is still getting failed? Am I missing something?\r\n\r\nI&#39;m using FOP version 2.6.","title":"PDF Accessibility | Title - Failed Error in Adobe Acrobat Pro using Apache FOP in Java","body":"<p>I'm working on Apache FOP to generate a PDF. As part of the compliance, I've enabled accessibility to true on FOUserAgent. Here's my below code snippet.</p>\n<pre><code>FopFactory fopFactory = FopFactory.newInstance(file.toURI());\nFOUserAgent userAgent = fopFactory.newFOUserAgent();\nuserAgent.setAccessibility(true);\nuserAgent.setKeepEmptyTags(true);\nuserAgent.setTitle(&quot;Test Document&quot;);\nuserAgent.setAuthor(&quot;Kishore Kumar Korada&quot;);\n</code></pre>\n<p>With that when I run the scan through Adobe Acrobat Pro, few of the compliance issues got resolved. But title is still getting failed even though I set it as per the code an in report properties title getting displayed too.</p>\n<p>If so, why the title is still getting failed? Am I missing something?</p>\n<p>I'm using FOP version 2.6.</p>\n"},{"tags":["java","keystore","websphere-8","ibm-rad"],"comments":[{"owner":{"account_id":3023868,"reputation":22275,"user_id":2564301,"accept_rate":75,"display_name":"Jongware"},"score":0,"creation_date":1385773693,"post_id":20224446,"comment_id":30282071,"body_markdown":"According to that same link, it&#39;s not a problem with the Base64 encoding itself but rather with extra blank lines or visible data after the end. &quot;Base64&quot; contains just plain ASCII text ([per its definition](http://en.wikipedia.org/wiki/Base64)) and so you can use Notepad or any other plain text editor.","body":"According to that same link, it&#39;s not a problem with the Base64 encoding itself but rather with extra blank lines or visible data after the end. &quot;Base64&quot; contains just plain ASCII text (<a href=\"http://en.wikipedia.org/wiki/Base64\" rel=\"nofollow noreferrer\">per its definition</a>) and so you can use Notepad or any other plain text editor."},{"owner":{"account_id":1050089,"reputation":20492,"user_id":1054245,"accept_rate":100,"display_name":"Prince"},"score":0,"creation_date":1386217927,"post_id":20224446,"comment_id":30448477,"body_markdown":"@Jongware: Notepad did not seem to be a good editor for doing that. I had to open up it in Wordpad but still I am not able to read it due to encoding and so there is no way to verify if I have made good edits. Well, it did not work though.","body":"@Jongware: Notepad did not seem to be a good editor for doing that. I had to open up it in Wordpad but still I am not able to read it due to encoding and so there is no way to verify if I have made good edits. Well, it did not work though."},{"owner":{"account_id":3023868,"reputation":22275,"user_id":2564301,"accept_rate":75,"display_name":"Jongware"},"score":0,"creation_date":1386253998,"post_id":20224446,"comment_id":30467478,"body_markdown":"Unfortunately, you are not helping us to help you ... 1. Actually your question is OT for SO *unless* this is a specific problem with code *you* wrote; 2. My suggestion is based on your own assertion the file you are talking about is the same type as in your link; 3. Editing a plain Base64 file *ought* to be possible using Notepad, and if this wasn&#39;t possible, then it&#39;s not a file of the *type* you think it is, or it is not the same *error* you think it is.","body":"Unfortunately, you are not helping us to help you ... 1. Actually your question is OT for SO <i>unless</i> this is a specific problem with code <i>you</i> wrote; 2. My suggestion is based on your own assertion the file you are talking about is the same type as in your link; 3. Editing a plain Base64 file <i>ought</i> to be possible using Notepad, and if this wasn&#39;t possible, then it&#39;s not a file of the <i>type</i> you think it is, or it is not the same <i>error</i> you think it is."},{"owner":{"account_id":1050089,"reputation":20492,"user_id":1054245,"accept_rate":100,"display_name":"Prince"},"score":0,"creation_date":1386263434,"post_id":20224446,"comment_id":30473857,"body_markdown":"@Jongware: Please let me elaborate. In the Notepad, I do not see any blank lines (whole file appears as a big block of text) whereas in the Wordpad I am able to see blank lines. But removing blank lines using Wordpad has not helped me so far. And the text I see in Wordpad is partly plain text(ASCII) and partly encoded[1]. I am interested in knowing if there is a specific editor that can show me the file &quot;All in Plain Text&quot; format (like it is displayed using the keytool utility) so I know that I am not messing up with the file or changing its contents by mistake.","body":"@Jongware: Please let me elaborate. In the Notepad, I do not see any blank lines (whole file appears as a big block of text) whereas in the Wordpad I am able to see blank lines. But removing blank lines using Wordpad has not helped me so far. And the text I see in Wordpad is partly plain text(ASCII) and partly encoded[1]. I am interested in knowing if there is a specific editor that can show me the file &quot;All in Plain Text&quot; format (like it is displayed using the keytool utility) so I know that I am not messing up with the file or changing its contents by mistake."},{"owner":{"account_id":1050089,"reputation":20492,"user_id":1054245,"accept_rate":100,"display_name":"Prince"},"score":0,"creation_date":1386263663,"post_id":20224446,"comment_id":30474020,"body_markdown":"[1] Regarding the encoding, as the link says to remove Base64-encoded text certificates; I assumed that might be the case. As far as I know, the certificates are usually DER-encoded. Since cacerts is without any extension I am not sure about its encoding. This is all I know. Any help is appreciated!","body":"[1] Regarding the encoding, as the link says to remove Base64-encoded text certificates; I assumed that might be the case. As far as I know, the certificates are usually DER-encoded. Since cacerts is without any extension I am not sure about its encoding. This is all I know. Any help is appreciated!"},{"owner":{"account_id":209503,"reputation":22790,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":0,"creation_date":1386631572,"post_id":20224446,"comment_id":30612783,"body_markdown":"Try to Use the Notepad++ http://notepad-plus-plus.org/","body":"Try to Use the Notepad++ <a href=\"http://notepad-plus-plus.org/\" rel=\"nofollow noreferrer\">notepad-plus-plus.org</a>"}],"answers":[{"tags":[],"owner":{"account_id":1050089,"reputation":20492,"user_id":1054245,"accept_rate":100,"display_name":"Prince"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1435606628,"creation_date":1386632520,"answer_id":20483171,"question_id":20224446,"body_markdown":"Here&#39;s a way to actually solve this problem without the need to view or edit the file.\r\n\r\n&gt; The default keyStore type is JKS and the WSKeyStore class assumes it to be a PKCS12 file which throws the above error. So we need to convert the cacerts file to .p12 format.\r\n\r\nUsing the keytool utility from command line I executed:\r\n\r\n    C:\\IBM\\WebSphere85\\AppServer\\java\\bin&gt;keytool -importkeystore ^\r\n     -srckeystore C:\\IBM\\WebSphere85\\AppServer\\java\\jre\\lib\\security\\cacerts ^\r\n     -destkeystore C:\\IBM\\WebSphere85\\AppServer\\java\\jre\\lib\\security\\cacerts.p12 ^\r\n     -srcstoretype JKS -deststoretype PKCS12 -srcstorepass changeit -deststorepass changeit -noprompt\r\n\r\nwhich gave me a `cacerts.p12` file which could be easily read by the above class.\r\n\r\n**References**: \r\n\r\n* [IBM Error][1]\r\n* [Stackoverflow: convert .jks to .p12][2]\r\n\r\n\r\n  [1]: http://www-01.ibm.com/support/docview.wss?uid=swg21303472\r\n  [2]: https://stackoverflow.com/questions/2846828/converting-jks-to-p12","title":"How to view and edit cacerts file?","body":"<p>Here's a way to actually solve this problem without the need to view or edit the file.</p>\n\n<blockquote>\n  <p>The default keyStore type is JKS and the WSKeyStore class assumes it to be a PKCS12 file which throws the above error. So we need to convert the cacerts file to .p12 format.</p>\n</blockquote>\n\n<p>Using the keytool utility from command line I executed:</p>\n\n<pre><code>C:\\IBM\\WebSphere85\\AppServer\\java\\bin&gt;keytool -importkeystore ^\n -srckeystore C:\\IBM\\WebSphere85\\AppServer\\java\\jre\\lib\\security\\cacerts ^\n -destkeystore C:\\IBM\\WebSphere85\\AppServer\\java\\jre\\lib\\security\\cacerts.p12 ^\n -srcstoretype JKS -deststoretype PKCS12 -srcstorepass changeit -deststorepass changeit -noprompt\n</code></pre>\n\n<p>which gave me a <code>cacerts.p12</code> file which could be easily read by the above class.</p>\n\n<p><strong>References</strong>: </p>\n\n<ul>\n<li><a href=\"http://www-01.ibm.com/support/docview.wss?uid=swg21303472\" rel=\"nofollow noreferrer\">IBM Error</a></li>\n<li><a href=\"https://stackoverflow.com/questions/2846828/converting-jks-to-p12\">Stackoverflow: convert .jks to .p12</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":9157176,"reputation":740,"user_id":6809776,"display_name":"Brandon Essler"},"down_vote_count":0,"up_vote_count":31,"is_accepted":false,"score":31,"last_activity_date":1571416664,"creation_date":1571416664,"answer_id":58454967,"question_id":20224446,"body_markdown":"As far as the original question, you can use the [`keytool` command][1] to view and edit a keystore like `cacerts`.\r\n\r\nTo **view** all keys in the keystore, use `keytool -list`:\r\n\r\n    $ keytool -list -keystore ${keystore.file}\r\n\r\nwhere `${keystore.file}` is the path to the `cacerts` file, in your case `C:\\IBM\\Websphere85\\jdk\\jre\\lib\\security\\cacerts`.\r\n\r\nTo **remove** a specific key, use `keytool -delete`:\r\n\r\n    $ keytool -delete -alias ${cert.alias} -keystore ${keystore.file}\r\n\r\nwhere `${cert.alias}` is an existing key alias from the above `-list` command. **\\***\r\n\r\nTo **add** a new key that was already generated elsewhere, use `keytool -importcert`:\r\n\r\n    $ keytool -importcert -alias ${cert.alias} -keystore ${keystore.file} -file ${cer.file} \r\n\r\nwhere `${cer.file}` is the path to an existing certificate or certificate chain.\r\n\r\n\r\nNote that with each of these commands, you will be prompted for the keystore password which you can instead specify with the `-storepass` option. For example:\r\n\r\n    $ keytool -delete -noprompt -alias ${cert.alias} -keystore ${keystore.file} -storepass ${keystore.pass}\r\n\r\n\r\n\r\n**\\*** The `${cert.alias}` is the left-most value in the lines outputted from `keytool -list`.\r\n\r\nFor example, if this is the ouput from `keytool -list`:\r\n\r\n```sh\r\n$ keytool -list -keystore ./cacerts\r\nEnter keystore password:  \r\n\r\nKeystore type: jks\r\nKeystore provider: SUN\r\n\r\nYour keystore contains 2 entries\r\n\r\nverisignclass1ca, Jun 29, 1998, trustedCertEntry,\r\n\tCertificate fingerprint (MD5): 51:86:E8:1F:BC:B1:C3:71:B5:18:10:DB:5F:DC:F6:20\r\nverisignserverca, Jun 29, 1998, trustedCertEntry,\r\n\tCertificate fingerprint (MD5): 74:7B:82:03:43:F0:00:9E:6B:B3:EC:47:BF:85:A5:93\r\n```\r\n\r\nthen `verisignclass1ca` and `verisignserverca` are aliases you can specify to delete.\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/12/tools/keytool.html","title":"How to view and edit cacerts file?","body":"<p>As far as the original question, you can use the <a href=\"https://docs.oracle.com/en/java/javase/12/tools/keytool.html\" rel=\"noreferrer\"><code>keytool</code> command</a> to view and edit a keystore like <code>cacerts</code>.</p>\n\n<p>To <strong>view</strong> all keys in the keystore, use <code>keytool -list</code>:</p>\n\n<pre><code>$ keytool -list -keystore ${keystore.file}\n</code></pre>\n\n<p>where <code>${keystore.file}</code> is the path to the <code>cacerts</code> file, in your case <code>C:\\IBM\\Websphere85\\jdk\\jre\\lib\\security\\cacerts</code>.</p>\n\n<p>To <strong>remove</strong> a specific key, use <code>keytool -delete</code>:</p>\n\n<pre><code>$ keytool -delete -alias ${cert.alias} -keystore ${keystore.file}\n</code></pre>\n\n<p>where <code>${cert.alias}</code> is an existing key alias from the above <code>-list</code> command. <strong>*</strong></p>\n\n<p>To <strong>add</strong> a new key that was already generated elsewhere, use <code>keytool -importcert</code>:</p>\n\n<pre><code>$ keytool -importcert -alias ${cert.alias} -keystore ${keystore.file} -file ${cer.file} \n</code></pre>\n\n<p>where <code>${cer.file}</code> is the path to an existing certificate or certificate chain.</p>\n\n<p>Note that with each of these commands, you will be prompted for the keystore password which you can instead specify with the <code>-storepass</code> option. For example:</p>\n\n<pre><code>$ keytool -delete -noprompt -alias ${cert.alias} -keystore ${keystore.file} -storepass ${keystore.pass}\n</code></pre>\n\n<p><strong>*</strong> The <code>${cert.alias}</code> is the left-most value in the lines outputted from <code>keytool -list</code>.</p>\n\n<p>For example, if this is the ouput from <code>keytool -list</code>:</p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>$ keytool -list -keystore ./cacerts\nEnter keystore password:  \n\nKeystore type: jks\nKeystore provider: SUN\n\nYour keystore contains 2 entries\n\nverisignclass1ca, Jun 29, 1998, trustedCertEntry,\n    Certificate fingerprint (MD5): 51:86:E8:1F:BC:B1:C3:71:B5:18:10:DB:5F:DC:F6:20\nverisignserverca, Jun 29, 1998, trustedCertEntry,\n    Certificate fingerprint (MD5): 74:7B:82:03:43:F0:00:9E:6B:B3:EC:47:BF:85:A5:93\n</code></pre>\n\n<p>then <code>verisignclass1ca</code> and <code>verisignserverca</code> are aliases you can specify to delete.</p>\n"}],"owner":{"account_id":1050089,"reputation":20492,"user_id":1054245,"accept_rate":100,"display_name":"Prince"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":104049,"favorite_count":0,"down_vote_count":1,"up_vote_count":20,"accepted_answer_id":20483171,"answer_count":2,"score":19,"last_activity_date":1674559779,"creation_date":1385488422,"question_id":20224446,"body_markdown":"Using RAD 8.5 with WAS 8.5 runtime, I am getting an exception on my console:\r\n\r\n`The keystore located at &quot;C:\\IBM\\Websphere85\\jdk\\jre\\lib\\security\\cacerts&quot; failed to load due to the following error: DerInputStream.getLength(): lengthTag=109, too big..`\r\n\r\nAfter searching for the error I got this **[link][1]** which suggests to edit the file and remove blank lines/extra characters.\r\n\r\nHow do I edit the file? I am on windows environment and the file seems to be base64 encoded.\r\n\r\n\r\n  [1]: http://blog.webspheretools.com/2011/12/25/common-ssl-certificate-errors/","title":"How to view and edit cacerts file?","body":"<p>Using RAD 8.5 with WAS 8.5 runtime, I am getting an exception on my console:</p>\n\n<p><code>The keystore located at \"C:\\IBM\\Websphere85\\jdk\\jre\\lib\\security\\cacerts\" failed to load due to the following error: DerInputStream.getLength(): lengthTag=109, too big..</code></p>\n\n<p>After searching for the error I got this <strong><a href=\"http://blog.webspheretools.com/2011/12/25/common-ssl-certificate-errors/\" rel=\"noreferrer\">link</a></strong> which suggests to edit the file and remove blank lines/extra characters.</p>\n\n<p>How do I edit the file? I am on windows environment and the file seems to be base64 encoded.</p>\n"},{"tags":["java","apache-camel"],"answers":[{"tags":[],"owner":{"account_id":179840,"reputation":22133,"user_id":412763,"accept_rate":91,"display_name":"Petter Nordlander"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1345117539,"creation_date":1345117539,"answer_id":11986406,"question_id":11981900,"body_markdown":"That might depend on what endpoints etc you are using, but one common method is to put a seda endpoint in between is one option.\r\n\r\n\r\n    from(&quot;foo:bar&quot;)\r\n      .bean(processingBean)\r\n      .to(&quot;seda:asyncProcess&quot;) // Async send\r\n      .bean(moreProcessingBean)\r\n\r\n    from(&quot;seda:asyncProcess&quot;)\r\n      .to(&quot;final:endpoint&quot;); // could be some syncrhonous endpoint that takes time to send to. http://server/heavyProcessingService or what not.\r\n\r\nThe seda endpoint behaves like a queue, first in - first out. If you dispatch several events to a seda endpoint faster than the route can finish processing them, they will stack up and wait for processing, which is a nice behaviour.","title":"camel: how can i send to an endpoint asynchronously","body":"<p>That might depend on what endpoints etc you are using, but one common method is to put a seda endpoint in between is one option.</p>\n\n<pre><code>from(\"foo:bar\")\n  .bean(processingBean)\n  .to(\"seda:asyncProcess\") // Async send\n  .bean(moreProcessingBean)\n\nfrom(\"seda:asyncProcess\")\n  .to(\"final:endpoint\"); // could be some syncrhonous endpoint that takes time to send to. http://server/heavyProcessingService or what not.\n</code></pre>\n\n<p>The seda endpoint behaves like a queue, first in - first out. If you dispatch several events to a seda endpoint faster than the route can finish processing them, they will stack up and wait for processing, which is a nice behaviour.</p>\n"},{"tags":[],"owner":{"account_id":943422,"reputation":17942,"user_id":971121,"display_name":"cexbrayat"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1345195527,"creation_date":1345121412,"answer_id":11987511,"question_id":11981900,"body_markdown":"You can use inOnly in your route to only send your message to an endpoint without waiting for a response. For more details see  the [request reply documentation][1] or the [event message documentation][2]\r\n\r\n    from(&quot;direct:testInOnly&quot;).inOnly(&quot;mock:result&quot;);\r\n\r\n\r\n  [1]: http://camel.apache.org/request-reply.html\r\n  [2]: http://camel.apache.org/event-message.html","title":"camel: how can i send to an endpoint asynchronously","body":"<p>You can use inOnly in your route to only send your message to an endpoint without waiting for a response. For more details see  the <a href=\"http://camel.apache.org/request-reply.html\" rel=\"nofollow\">request reply documentation</a> or the <a href=\"http://camel.apache.org/event-message.html\" rel=\"nofollow\">event message documentation</a></p>\n\n<pre><code>from(\"direct:testInOnly\").inOnly(\"mock:result\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":85487,"reputation":20822,"user_id":238303,"accept_rate":79,"display_name":"Ben ODay"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1345177843,"creation_date":1345177843,"answer_id":11999801,"question_id":11981900,"body_markdown":"you can use a [ProducerTemplate][1]&#39;s asyncSend() method to send an InOnly message to an endpoint...\r\n\r\n    template.asyncSend(&quot;direct:myInOnlyEndpoint&quot;,&quot;myMessage&quot;);\r\n\r\nsee http://camel.apache.org/async.html for some more details\r\n\r\n\r\n  [1]: http://camel.apache.org/producertemplate.html","title":"camel: how can i send to an endpoint asynchronously","body":"<p>you can use a <a href=\"http://camel.apache.org/producertemplate.html\" rel=\"nofollow\">ProducerTemplate</a>'s asyncSend() method to send an InOnly message to an endpoint...</p>\n\n<pre><code>template.asyncSend(\"direct:myInOnlyEndpoint\",\"myMessage\");\n</code></pre>\n\n<p>see <a href=\"http://camel.apache.org/async.html\" rel=\"nofollow\">http://camel.apache.org/async.html</a> for some more details</p>\n"},{"tags":[],"owner":{"account_id":44249,"reputation":28451,"user_id":129750,"accept_rate":92,"display_name":"IttayD"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1346315508,"creation_date":1346315508,"answer_id":12192871,"question_id":11981900,"body_markdown":"`wireTap(endpoint)` is the answer. ","title":"camel: how can i send to an endpoint asynchronously","body":"<p><code>wireTap(endpoint)</code> is the answer. </p>\n"},{"tags":[],"owner":{"account_id":125688,"reputation":83,"user_id":321617,"display_name":"BrassyPanache"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1390370804,"creation_date":1390358618,"answer_id":21273192,"question_id":11981900,"body_markdown":"Using wireTap or multicast is what you&#39;re after.  A direct: endpoint will modify the Exchange for the next step no matter what ExchangePattern is specified.  You can see by using this failing test:\r\n\r\n    public class StackOverflowTest extends CamelTestSupport {\r\n        private static final String DIRECT_INPUT = &quot;direct:input&quot;;\r\n        private static final String DIRECT_NO_RETURN = &quot;direct:no.return&quot;;\r\n        private static final String MOCK_OUTPUT = &quot;mock:output&quot;;\r\n        private static final String FIRST_STRING = &quot;FIRST&quot;;\r\n        private static final String SECOND_STRING = &quot;SECOND&quot;;\r\n\r\n        @NotNull\r\n        @Override\r\n        protected RouteBuilder createRouteBuilder() throws Exception {\r\n            return new RouteBuilder() {\r\n                @Override\r\n                public void configure() throws Exception {\r\n                    from(DIRECT_INPUT)\r\n                            .to(ExchangePattern.InOnly, DIRECT_NO_RETURN)\r\n                            .to(MOCK_OUTPUT)\r\n                            .end();\r\n\r\n                    from(DIRECT_NO_RETURN)\r\n                            .bean(new CreateNewString())\r\n                            .end();\r\n                }\r\n            };\r\n        }\r\n\r\n        @Test\r\n        public void testShouldNotModifyMessage() throws JsonProcessingException, InterruptedException {\r\n            final MockEndpoint myMockEndpoint = getMockEndpoint(MOCK_OUTPUT);\r\n            myMockEndpoint.expectedBodiesReceived(FIRST_STRING);\r\n            template.sendBody(DIRECT_INPUT, FIRST_STRING);\r\n            assertMockEndpointsSatisfied();\r\n        }\r\n\r\n        public static class CreateNewString {\r\n            @NotNull\r\n            public String handle(@NotNull Object anObject) {\r\n                return SECOND_STRING;\r\n            }\r\n        }\r\n    }\r\n\r\nNow if you change the above to a wireTap:\r\n\r\n                    from(DIRECT_INPUT)\r\n                        .wireTap(DIRECT_NO_RETURN)\r\n                        .to(MOCK_OUTPUT)\r\n                        .end();\r\n\r\nand you&#39;ll see it works as expected.  You can also use multicast:\r\n\r\n\r\n                    from(DIRECT_INPUT)\r\n                        .multicast()\r\n                        .to(DIRECT_NO_RETURN)\r\n                        .to(MOCK_OUTPUT)\r\n                        .end();","title":"camel: how can i send to an endpoint asynchronously","body":"<p>Using wireTap or multicast is what you're after.  A direct: endpoint will modify the Exchange for the next step no matter what ExchangePattern is specified.  You can see by using this failing test:</p>\n\n<pre><code>public class StackOverflowTest extends CamelTestSupport {\n    private static final String DIRECT_INPUT = \"direct:input\";\n    private static final String DIRECT_NO_RETURN = \"direct:no.return\";\n    private static final String MOCK_OUTPUT = \"mock:output\";\n    private static final String FIRST_STRING = \"FIRST\";\n    private static final String SECOND_STRING = \"SECOND\";\n\n    @NotNull\n    @Override\n    protected RouteBuilder createRouteBuilder() throws Exception {\n        return new RouteBuilder() {\n            @Override\n            public void configure() throws Exception {\n                from(DIRECT_INPUT)\n                        .to(ExchangePattern.InOnly, DIRECT_NO_RETURN)\n                        .to(MOCK_OUTPUT)\n                        .end();\n\n                from(DIRECT_NO_RETURN)\n                        .bean(new CreateNewString())\n                        .end();\n            }\n        };\n    }\n\n    @Test\n    public void testShouldNotModifyMessage() throws JsonProcessingException, InterruptedException {\n        final MockEndpoint myMockEndpoint = getMockEndpoint(MOCK_OUTPUT);\n        myMockEndpoint.expectedBodiesReceived(FIRST_STRING);\n        template.sendBody(DIRECT_INPUT, FIRST_STRING);\n        assertMockEndpointsSatisfied();\n    }\n\n    public static class CreateNewString {\n        @NotNull\n        public String handle(@NotNull Object anObject) {\n            return SECOND_STRING;\n        }\n    }\n}\n</code></pre>\n\n<p>Now if you change the above to a wireTap:</p>\n\n<pre><code>                from(DIRECT_INPUT)\n                    .wireTap(DIRECT_NO_RETURN)\n                    .to(MOCK_OUTPUT)\n                    .end();\n</code></pre>\n\n<p>and you'll see it works as expected.  You can also use multicast:</p>\n\n<pre><code>                from(DIRECT_INPUT)\n                    .multicast()\n                    .to(DIRECT_NO_RETURN)\n                    .to(MOCK_OUTPUT)\n                    .end();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5745825,"reputation":11543,"user_id":4537090,"accept_rate":79,"display_name":"WesternGun"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674559701,"creation_date":1674559063,"answer_id":75220715,"question_id":11981900,"body_markdown":"https://people.apache.org/~dkulp/camel/async.html\r\n\r\nBoth for InOnly and InOut you can send sync or async. Seems strange that you can send InOnly but async, but at last here it explains that it waits for Camel processing and then fire and forget. \r\n\r\n&gt; The Async Client API\r\n&gt; Camel provides the Async Client API in the ProducerTemplate where we have added about 10 new methods to Camel 2.0. We have listed the most important in the table below:\r\n&gt; \r\n&gt; | Method                  | Returns           | Description\r\n&gt; | - | - | - |\r\n&gt; | setExecutorService      | void              | Is used to set the Java ExecutorService. Camel will by default provide a ScheduledExecutorService with 5 thread in the pool.\r\n&gt; | asyncSend               | Future&lt;Exchange&gt;  | Is used to send an async exchange to a Camel Endpoint. Camel will imeddiately return control to the caller thread after the task has been submitted to the executor service. This allows you to do other work while Camel processes the exchange in the other async thread.\r\n&gt; | asyncSendBody           | Future&lt;Object&gt;    | As above but for sending body only. This is a request only messaging style so no reply is expected. Uses the InOnly exchange pattern.\r\n&gt; | asyncRequestBody        | Future&lt;Object&gt;    | As above but for sending body only. This is a Request Reply messaging style so a reply is expected. Uses the InOut exchange pattern.\r\n&gt; | extractFutureBody       | T                 | Is used to get the result from the asynchronous thread using the Java Concurrency Future handle.\r\n&gt;\r\n&gt; The Async Client API with callbacks\r\n&gt; In addition to the Client API from above Camel provides a variation that uses callbacks when the message Exchange is done.\r\n&gt; \r\n&gt; | Method                    | Returns             | Description\r\n&gt; | - | - | - |\r\n&gt; | asyncCallback             | Future&lt;Exchange&gt;    | In addition a callback is passed in as a parameter using the org.apache.camel.spi.Synchronization Callback. The callback is invoked when the message exchange is done.\r\n&gt; | asyncCallbackSendBody     | Future&lt;Object&gt;      | As above but for sending body only. This is a request only messaging style so no reply is expected. Uses the InOnly exchange pattern.\r\n&gt; | asyncCallbackRequestBody  | Future&lt;Object&gt;      | As above but for sending body only. This is a Request Reply messaging style so a reply is expected. Uses the InOut exchange pattern.\r\n&gt;\r\n&gt; These methods also returns the Future handle in case you need them. The difference is that they invokes the callback as well when the Exchange is done being routed.\r\n&gt; \r\n&gt; The Future API\r\n&gt; The java.util.concurrent.Future API have among others the following methods:\r\n&gt; \r\n&gt; | Method  | Returns | Description\r\n&gt; | - | - | - |\r\n&gt; | isDone  | boolean | Returns a boolean whether the task is done or not. Will even return true if the tasks failed due to an exception thrown.\r\n&gt; | get()   | Object  | Gets the response of the task. In case of an exception was thrown the java.util.concurrent.ExecutionException is thrown with the caused exception.\r\n","title":"camel: how can i send to an endpoint asynchronously","body":"<p><a href=\"https://people.apache.org/%7Edkulp/camel/async.html\" rel=\"nofollow noreferrer\">https://people.apache.org/~dkulp/camel/async.html</a></p>\n<p>Both for InOnly and InOut you can send sync or async. Seems strange that you can send InOnly but async, but at last here it explains that it waits for Camel processing and then fire and forget.</p>\n<blockquote>\n<p>The Async Client API\nCamel provides the Async Client API in the ProducerTemplate where we have added about 10 new methods to Camel 2.0. We have listed the most important in the table below:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Method</th>\n<th>Returns</th>\n<th>Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>setExecutorService</td>\n<td>void</td>\n<td>Is used to set the Java ExecutorService. Camel will by default provide a ScheduledExecutorService with 5 thread in the pool.</td>\n</tr>\n<tr>\n<td>asyncSend</td>\n<td>Future</td>\n<td>Is used to send an async exchange to a Camel Endpoint. Camel will imeddiately return control to the caller thread after the task has been submitted to the executor service. This allows you to do other work while Camel processes the exchange in the other async thread.</td>\n</tr>\n<tr>\n<td>asyncSendBody</td>\n<td>Future</td>\n<td>As above but for sending body only. This is a request only messaging style so no reply is expected. Uses the InOnly exchange pattern.</td>\n</tr>\n<tr>\n<td>asyncRequestBody</td>\n<td>Future</td>\n<td>As above but for sending body only. This is a Request Reply messaging style so a reply is expected. Uses the InOut exchange pattern.</td>\n</tr>\n<tr>\n<td>extractFutureBody</td>\n<td>T</td>\n<td>Is used to get the result from the asynchronous thread using the Java Concurrency Future handle.</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>The Async Client API with callbacks\nIn addition to the Client API from above Camel provides a variation that uses callbacks when the message Exchange is done.</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Method</th>\n<th>Returns</th>\n<th>Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>asyncCallback</td>\n<td>Future</td>\n<td>In addition a callback is passed in as a parameter using the org.apache.camel.spi.Synchronization Callback. The callback is invoked when the message exchange is done.</td>\n</tr>\n<tr>\n<td>asyncCallbackSendBody</td>\n<td>Future</td>\n<td>As above but for sending body only. This is a request only messaging style so no reply is expected. Uses the InOnly exchange pattern.</td>\n</tr>\n<tr>\n<td>asyncCallbackRequestBody</td>\n<td>Future</td>\n<td>As above but for sending body only. This is a Request Reply messaging style so a reply is expected. Uses the InOut exchange pattern.</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>These methods also returns the Future handle in case you need them. The difference is that they invokes the callback as well when the Exchange is done being routed.</p>\n<p>The Future API\nThe java.util.concurrent.Future API have among others the following methods:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Method</th>\n<th>Returns</th>\n<th>Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>isDone</td>\n<td>boolean</td>\n<td>Returns a boolean whether the task is done or not. Will even return true if the tasks failed due to an exception thrown.</td>\n</tr>\n<tr>\n<td>get()</td>\n<td>Object</td>\n<td>Gets the response of the task. In case of an exception was thrown the java.util.concurrent.ExecutionException is thrown with the caused exception.</td>\n</tr>\n</tbody>\n</table>\n</div></blockquote>\n"}],"owner":{"account_id":44249,"reputation":28451,"user_id":129750,"accept_rate":92,"display_name":"IttayD"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17982,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":12192871,"answer_count":6,"score":6,"last_activity_date":1674559701,"creation_date":1345099135,"question_id":11981900,"body_markdown":"How can I send a message to an endpoint without waiting for that endpoint&#39;s route to be process (that is, my route should just dispatch the message and finish)?\r\n\r\n","title":"camel: how can i send to an endpoint asynchronously","body":"<p>How can I send a message to an endpoint without waiting for that endpoint's route to be process (that is, my route should just dispatch the message and finish)?</p>\n"},{"tags":["java","spring","rest-assured","spring-cloud-contract"],"answers":[{"tags":[],"owner":{"account_id":1976110,"reputation":10792,"user_id":1773866,"display_name":"Marcin Grzejszczak"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1516698548,"creation_date":1516698548,"answer_id":48397875,"question_id":48393701,"body_markdown":"Spring Cloud Contract `1.2.x` is not compatible with Boot `2.0.0`. Please use Spring Cloud Contract `2.0.x`. You&#39;re using the `Edgware` BOM which is incompatible with Spring Boot 2.0. Please use the `Finchley` BOM.","title":"Caused by: java.lang.NoClassDefFoundError: Could not initialize class com.jayway.restassured.RestAssured","body":"<p>Spring Cloud Contract <code>1.2.x</code> is not compatible with Boot <code>2.0.0</code>. Please use Spring Cloud Contract <code>2.0.x</code>. You're using the <code>Edgware</code> BOM which is incompatible with Spring Boot 2.0. Please use the <code>Finchley</code> BOM.</p>\n"},{"tags":[],"owner":{"account_id":20042404,"reputation":1,"user_id":14692869,"display_name":"K Are"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674559664,"creation_date":1674559664,"answer_id":75220831,"question_id":48393701,"body_markdown":"Lowering &quot;spring-core&quot; version to &quot;5.3.20&quot;, and setting Java version to 11 helped me to resolve this issue.","title":"Caused by: java.lang.NoClassDefFoundError: Could not initialize class com.jayway.restassured.RestAssured","body":"<p>Lowering &quot;spring-core&quot; version to &quot;5.3.20&quot;, and setting Java version to 11 helped me to resolve this issue.</p>\n"}],"owner":{"account_id":376199,"reputation":7329,"user_id":727495,"accept_rate":87,"display_name":"vkrams"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3648,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":48397875,"answer_count":2,"score":3,"last_activity_date":1674559664,"creation_date":1516677716,"question_id":48393701,"body_markdown":"I am trying to setup the latest version of spring cloud contract. But it is always throwing the exception, unable to initialize. My gradle looks like this. I can see in the external libraries, 2.9.0 is visible.\r\n\r\n    dependencies {\r\n        classpath &quot;org.springframework.boot:spring-boot-gradle-plugin:2.0.0.M7&quot;\r\n        classpath &quot;org.springframework.cloud:spring-cloud-contract-gradle-plugin:1.2.2.RELEASE&quot;\r\n        classpath &quot;com.jayway.restassured:rest-assured:2.9.0&quot;\r\n        classpath &quot;com.jayway.restassured:spring-mock-mvc:2.9.0&quot;\r\n    }\r\n\r\n    dependencyManagement {\r\n    imports {\r\n        mavenBom &quot;org.springframework.cloud:spring-cloud-dependencies:Edgware.RELEASE&quot;\r\n     }\r\n    }\r\n    testCompile (&quot;com.jayway.restassured:rest-assured:2.9.0&quot;)\r\n            {\r\n                force = true\r\n            }\r\n    testCompile (&quot;com.jayway.restassured:spring-mock-mvc:2.9.0&quot;)\r\n            {\r\n                force = true\r\n            }\r\n\r\n\r\n**Here is the Exception:**\r\n\r\n\r\n    org.gradle.api.tasks.TaskExecutionException: Execution failed for task &#39;:generateContractTests&#39;.\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:100)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:70)\r\n\tat org.gradle.api.internal.tasks.execution.SkipUpToDateTaskExecuter.execute(SkipUpToDateTaskExecuter.java:62)\r\n\tat org.gradle.api.internal.tasks.execution.ResolveTaskOutputCachingStateExecuter.execute(ResolveTaskOutputCachingStateExecuter.java:54)\r\n\tat org.gradle.api.internal.tasks.execution.ValidatingTaskExecuter.execute(ValidatingTaskExecuter.java:58)\r\n\tat org.gradle.api.internal.tasks.execution.SkipEmptySourceFilesTaskExecuter.execute(SkipEmptySourceFilesTaskExecuter.java:97)\r\n\tat org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:87)\r\n\tat org.gradle.api.internal.tasks.execution.ResolveTaskArtifactStateTaskExecuter.execute(ResolveTaskArtifactStateTaskExecuter.java:52)\r\n\tat org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:52)\r\n\tat org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:54)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteAtMostOnceTaskExecuter.execute(ExecuteAtMostOnceTaskExecuter.java:43)\r\n\tat org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:34)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker$1.run(DefaultTaskGraphExecuter.java:248)\r\n\tat org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)\r\n\tat org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)\r\n\tat org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:199)\r\n\tat org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:110)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker.execute(DefaultTaskGraphExecuter.java:241)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker.execute(DefaultTaskGraphExecuter.java:230)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker.processTask(DefaultTaskPlanExecutor.java:123)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker.access$200(DefaultTaskPlanExecutor.java:79)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker$1.execute(DefaultTaskPlanExecutor.java:104)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker$1.execute(DefaultTaskPlanExecutor.java:98)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionPlan.execute(DefaultTaskExecutionPlan.java:625)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionPlan.executeWithTask(DefaultTaskExecutionPlan.java:580)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker.run(DefaultTaskPlanExecutor.java:98)\r\n\tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)\r\n\tat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)\r\n\tat org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)\r\n    Caused by: java.lang.NoClassDefFoundError: Could not initialize class com.jayway.restassured.RestAssured\r\n\tat org.springframework.cloud.contract.verifier.builder.ClassPresenceChecker.isClassPresent(JavaTestGenerator.groovy:191)\r\n\tat org.springframework.cloud.contract.verifier.builder.ClassPresenceChecker$isClassPresent.call(Unknown Source)\r\n\tat org.springframework.cloud.contract.verifier.builder.JavaTestGenerator.buildClass(JavaTestGenerator.groovy:72)\r\n\tat org.springframework.cloud.contract.verifier.builder.SingleTestGenerator$buildClass.call(Unknown Source)\r\n\tat org.springframework.cloud.contract.verifier.TestGenerator.processIncludedDirectory(TestGenerator.groovy:118)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat org.springframework.cloud.contract.verifier.TestGenerator$_generateTestClasses_closure1.doCall(TestGenerator.groovy:100)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat org.springframework.cloud.contract.verifier.TestGenerator.generateTestClasses(TestGenerator.groovy:99)\r\n\tat org.springframework.cloud.contract.verifier.TestGenerator.generate(TestGenerator.groovy:81)\r\n\tat org.springframework.cloud.contract.verifier.TestGenerator$generate.call(Unknown Source)\r\n\tat org.springframework.cloud.contract.verifier.plugin.GenerateServerTestsTask.generate(GenerateServerTestsTask.groovy:65)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:73)\r\n\tat org.gradle.api.internal.project.taskfactory.DefaultTaskClassInfoStore$StandardTaskAction.doExecute(DefaultTaskClassInfoStore.java:142)\r\n\tat org.gradle.api.internal.project.taskfactory.DefaultTaskClassInfoStore$StandardTaskAction.execute(DefaultTaskClassInfoStore.java:135)\r\n\tat org.gradle.api.internal.project.taskfactory.DefaultTaskClassInfoStore$StandardTaskAction.execute(DefaultTaskClassInfoStore.java:122)\r\n\tat org.gradle.api.internal.AbstractTask$TaskActionWrapper.execute(AbstractTask.java:762)\r\n\tat org.gradle.api.internal.AbstractTask$TaskActionWrapper.execute(AbstractTask.java:729)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$1.run(ExecuteActionsTaskExecuter.java:121)\r\n\tat org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)\r\n\tat org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)\r\n\tat org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:199)\r\n\tat org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:110)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeAction(ExecuteActionsTaskExecuter.java:110)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:92)\r\n\t... 28 more\r\n\r\n\r\nPlease help me in resolving this issue.","title":"Caused by: java.lang.NoClassDefFoundError: Could not initialize class com.jayway.restassured.RestAssured","body":"<p>I am trying to setup the latest version of spring cloud contract. But it is always throwing the exception, unable to initialize. My gradle looks like this. I can see in the external libraries, 2.9.0 is visible.</p>\n\n<pre><code>dependencies {\n    classpath \"org.springframework.boot:spring-boot-gradle-plugin:2.0.0.M7\"\n    classpath \"org.springframework.cloud:spring-cloud-contract-gradle-plugin:1.2.2.RELEASE\"\n    classpath \"com.jayway.restassured:rest-assured:2.9.0\"\n    classpath \"com.jayway.restassured:spring-mock-mvc:2.9.0\"\n}\n\ndependencyManagement {\nimports {\n    mavenBom \"org.springframework.cloud:spring-cloud-dependencies:Edgware.RELEASE\"\n }\n}\ntestCompile (\"com.jayway.restassured:rest-assured:2.9.0\")\n        {\n            force = true\n        }\ntestCompile (\"com.jayway.restassured:spring-mock-mvc:2.9.0\")\n        {\n            force = true\n        }\n</code></pre>\n\n<p><strong>Here is the Exception:</strong></p>\n\n<pre><code>org.gradle.api.tasks.TaskExecutionException: Execution failed for task ':generateContractTests'.\nat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:100)\nat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:70)\nat org.gradle.api.internal.tasks.execution.SkipUpToDateTaskExecuter.execute(SkipUpToDateTaskExecuter.java:62)\nat org.gradle.api.internal.tasks.execution.ResolveTaskOutputCachingStateExecuter.execute(ResolveTaskOutputCachingStateExecuter.java:54)\nat org.gradle.api.internal.tasks.execution.ValidatingTaskExecuter.execute(ValidatingTaskExecuter.java:58)\nat org.gradle.api.internal.tasks.execution.SkipEmptySourceFilesTaskExecuter.execute(SkipEmptySourceFilesTaskExecuter.java:97)\nat org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:87)\nat org.gradle.api.internal.tasks.execution.ResolveTaskArtifactStateTaskExecuter.execute(ResolveTaskArtifactStateTaskExecuter.java:52)\nat org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:52)\nat org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:54)\nat org.gradle.api.internal.tasks.execution.ExecuteAtMostOnceTaskExecuter.execute(ExecuteAtMostOnceTaskExecuter.java:43)\nat org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:34)\nat org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker$1.run(DefaultTaskGraphExecuter.java:248)\nat org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)\nat org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)\nat org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:199)\nat org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:110)\nat org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker.execute(DefaultTaskGraphExecuter.java:241)\nat org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker.execute(DefaultTaskGraphExecuter.java:230)\nat org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker.processTask(DefaultTaskPlanExecutor.java:123)\nat org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker.access$200(DefaultTaskPlanExecutor.java:79)\nat org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker$1.execute(DefaultTaskPlanExecutor.java:104)\nat org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker$1.execute(DefaultTaskPlanExecutor.java:98)\nat org.gradle.execution.taskgraph.DefaultTaskExecutionPlan.execute(DefaultTaskExecutionPlan.java:625)\nat org.gradle.execution.taskgraph.DefaultTaskExecutionPlan.executeWithTask(DefaultTaskExecutionPlan.java:580)\nat org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker.run(DefaultTaskPlanExecutor.java:98)\nat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)\nat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)\nat org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)\nCaused by: java.lang.NoClassDefFoundError: Could not initialize class com.jayway.restassured.RestAssured\nat org.springframework.cloud.contract.verifier.builder.ClassPresenceChecker.isClassPresent(JavaTestGenerator.groovy:191)\nat org.springframework.cloud.contract.verifier.builder.ClassPresenceChecker$isClassPresent.call(Unknown Source)\nat org.springframework.cloud.contract.verifier.builder.JavaTestGenerator.buildClass(JavaTestGenerator.groovy:72)\nat org.springframework.cloud.contract.verifier.builder.SingleTestGenerator$buildClass.call(Unknown Source)\nat org.springframework.cloud.contract.verifier.TestGenerator.processIncludedDirectory(TestGenerator.groovy:118)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat org.springframework.cloud.contract.verifier.TestGenerator$_generateTestClasses_closure1.doCall(TestGenerator.groovy:100)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat org.springframework.cloud.contract.verifier.TestGenerator.generateTestClasses(TestGenerator.groovy:99)\nat org.springframework.cloud.contract.verifier.TestGenerator.generate(TestGenerator.groovy:81)\nat org.springframework.cloud.contract.verifier.TestGenerator$generate.call(Unknown Source)\nat org.springframework.cloud.contract.verifier.plugin.GenerateServerTestsTask.generate(GenerateServerTestsTask.groovy:65)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:73)\nat org.gradle.api.internal.project.taskfactory.DefaultTaskClassInfoStore$StandardTaskAction.doExecute(DefaultTaskClassInfoStore.java:142)\nat org.gradle.api.internal.project.taskfactory.DefaultTaskClassInfoStore$StandardTaskAction.execute(DefaultTaskClassInfoStore.java:135)\nat org.gradle.api.internal.project.taskfactory.DefaultTaskClassInfoStore$StandardTaskAction.execute(DefaultTaskClassInfoStore.java:122)\nat org.gradle.api.internal.AbstractTask$TaskActionWrapper.execute(AbstractTask.java:762)\nat org.gradle.api.internal.AbstractTask$TaskActionWrapper.execute(AbstractTask.java:729)\nat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$1.run(ExecuteActionsTaskExecuter.java:121)\nat org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)\nat org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)\nat org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:199)\nat org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:110)\nat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeAction(ExecuteActionsTaskExecuter.java:110)\nat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:92)\n... 28 more\n</code></pre>\n\n<p>Please help me in resolving this issue.</p>\n"},{"tags":["java","selenium"],"comments":[{"owner":{"account_id":27607859,"reputation":1,"user_id":21071589,"display_name":"Mohan Peddinti"},"score":0,"creation_date":1674559799,"post_id":75219623,"comment_id":132735110,"body_markdown":"This is not closed, Could you please let me know the solution for handling window management permissions &#39;Manage windows on all your displays.","body":"This is not closed, Could you please let me know the solution for handling window management permissions &#39;Manage windows on all your displays."}],"owner":{"account_id":27607859,"reputation":1,"user_id":21071589,"display_name":"Mohan Peddinti"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1674555163,"answer_count":0,"score":0,"last_activity_date":1674559650,"creation_date":1674553049,"question_id":75219623,"body_markdown":"[enter image description here](https://i.stack.imgur.com/SF2Dc.png)\r\n\r\nI want to click on the allow option in the chrome popup using selenium java\r\n\r\n\r\n","title":"How to allow Window management chrome poup permission using selenium ja","body":"<p><a href=\"https://i.stack.imgur.com/SF2Dc.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I want to click on the allow option in the chrome popup using selenium java</p>\n"},{"tags":["java","jpa","spring-data-jpa","querydsl"],"answers":[{"tags":[],"owner":{"account_id":14184067,"reputation":612,"user_id":10246652,"display_name":"Hritik Gupta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1674558908,"creation_date":1674558908,"answer_id":75220696,"question_id":75213089,"body_markdown":"Worked for me .\r\n\r\n    Expressions\r\n    .dateTimeTemplate(java.sql.Date.class,&quot;cast(job_date_time as date)&quot;)\r\n    .as(&quot;dateTime&quot;);","title":"Cast LocaDateTime to Date in QueryDSL","body":"<p>Worked for me .</p>\n<pre><code>Expressions\n.dateTimeTemplate(java.sql.Date.class,&quot;cast(job_date_time as date)&quot;)\n.as(&quot;dateTime&quot;);\n</code></pre>\n"}],"owner":{"account_id":14184067,"reputation":612,"user_id":10246652,"display_name":"Hritik Gupta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":694,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75220696,"answer_count":1,"score":0,"last_activity_date":1674558908,"creation_date":1674495437,"question_id":75213089,"body_markdown":"Query DSL has castToNum() but is there anything to convert LocalDateTime(job_date_time) to Date ?\r\n\r\n    SELECT user_logon as logon, cast(job_date_time as date) as \r\n    dateTime,SUM(total_pages) as total\r\n    from job_history group by user_logon, cast(job_date_time as date) order by \r\n    dateTime desc\r\nJava Approach\r\n\r\n        JPAQuery&lt;JobHistory&gt; queryBuilder = new JPAQuery&lt;&gt;(entityManager);\r\n        QJobHistory jobHistory = QJobHistory.jobHistory;\r\n        queryBuilder.select(jobHistory.userLogon.as(&quot;logon&quot;),jobHistory.jobDateTime.as(&quot;dateTime&quot;),jobHistory.totalPages.sum().as(&quot;total&quot;))\r\n                .from(jobHistory)\r\n                .groupBy(jobHistory.userLogon)\r\n                .groupBy(jobHistory.jobDateTime)\r\n                .orderBy(Expressions.stringPath(&quot;totalPages&quot;).desc());\r\n\r\n                queryBuilder.fetchAll();\r\n\r\nHow can I cast this expression to date?\r\n\r\n&gt; jobHistory.jobDateTime.as(&quot;dateTime&quot;)\r\n\r\nAnd this expression to date?\r\n\r\n&gt; .groupBy(jobHistory.jobDateTime)\r\n\r\nWhat I tried\r\n\r\n    Expressions.asDate(jobHistory.jobDateTime).as(&quot;dateTime&quot;);\r\n","title":"Cast LocaDateTime to Date in QueryDSL","body":"<p>Query DSL has castToNum() but is there anything to convert LocalDateTime(job_date_time) to Date ?</p>\n<pre><code>SELECT user_logon as logon, cast(job_date_time as date) as \ndateTime,SUM(total_pages) as total\nfrom job_history group by user_logon, cast(job_date_time as date) order by \ndateTime desc\n</code></pre>\n<p>Java Approach</p>\n<pre><code>    JPAQuery&lt;JobHistory&gt; queryBuilder = new JPAQuery&lt;&gt;(entityManager);\n    QJobHistory jobHistory = QJobHistory.jobHistory;\n    queryBuilder.select(jobHistory.userLogon.as(&quot;logon&quot;),jobHistory.jobDateTime.as(&quot;dateTime&quot;),jobHistory.totalPages.sum().as(&quot;total&quot;))\n            .from(jobHistory)\n            .groupBy(jobHistory.userLogon)\n            .groupBy(jobHistory.jobDateTime)\n            .orderBy(Expressions.stringPath(&quot;totalPages&quot;).desc());\n\n            queryBuilder.fetchAll();\n</code></pre>\n<p>How can I cast this expression to date?</p>\n<blockquote>\n<p>jobHistory.jobDateTime.as(&quot;dateTime&quot;)</p>\n</blockquote>\n<p>And this expression to date?</p>\n<blockquote>\n<p>.groupBy(jobHistory.jobDateTime)</p>\n</blockquote>\n<p>What I tried</p>\n<pre><code>Expressions.asDate(jobHistory.jobDateTime).as(&quot;dateTime&quot;);\n</code></pre>\n"},{"tags":["java","selenium","selenium-webdriver","automation","automated-tests"],"answers":[{"tags":[],"owner":{"account_id":10299692,"reputation":5719,"user_id":7598774,"accept_rate":75,"display_name":"Shawn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674558615,"creation_date":1674558615,"answer_id":75220639,"question_id":75216634,"body_markdown":"Your code seems to be throwing illegal argument exception at below code\r\n\r\n    drivers.get(&quot;www.google.com&quot;);\r\n\r\nThis is because driver.get() method accepts only fully qualified URL(See the attached image for reference)\r\n\r\nChange the code to:\r\n\r\n    drivers.get(&quot;https://www.google.com&quot;);\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/iW44H.png","title":"How to process the same step in Selenium Java using for loop for Chrome and Chrome Incognito browser?","body":"<p>Your code seems to be throwing illegal argument exception at below code</p>\n<pre><code>drivers.get(&quot;www.google.com&quot;);\n</code></pre>\n<p>This is because driver.get() method accepts only fully qualified URL(See the attached image for reference)</p>\n<p>Change the code to:</p>\n<pre><code>drivers.get(&quot;https://www.google.com&quot;);\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/iW44H.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iW44H.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":19066605,"reputation":31,"user_id":13921586,"display_name":"Lilyzzz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674558615,"creation_date":1674523339,"question_id":75216634,"body_markdown":"I already have a code for this but what happens is that it opens the two browsers at the same time, failing my code to do what is intended. What I&#39;m trying to do is the Chrome browser will execute first the process then after the first browser, the Chrome Incognito will launch and now do the same process.\r\n\r\nI currently have this code:\r\n\r\n```\r\nchromeOptions.addArguments(&quot;--incognito&quot;);\r\nChromeDriver chromeIncognitoDriver = new ChromeDriver(chromeOptions);\r\n\r\nfor (ChromeDriver drivers : new ChromeDriver[] {(ChromeDriver) driver, chromeIncognitoDriver}) {\r\n\r\n            try {\r\n         \r\n                   chromeIncognitoDriver.manage().window().setSize(new Dimension(412, 915));\r\n                   drivers.get(&quot;www.google.com&quot;);\r\n                   //do process 1st for driver then after it, chromeIncognito driver will do the same process\r\n\r\n                 \r\n            } catch (Exception e) {\r\n\r\n                throw new IllegalStateException(&quot;Execution encountered an Error: &quot; + e.getMessage());\r\n\r\n            } finally {\r\n\r\n                driver.close();\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n}","title":"How to process the same step in Selenium Java using for loop for Chrome and Chrome Incognito browser?","body":"<p>I already have a code for this but what happens is that it opens the two browsers at the same time, failing my code to do what is intended. What I'm trying to do is the Chrome browser will execute first the process then after the first browser, the Chrome Incognito will launch and now do the same process.</p>\n<p>I currently have this code:</p>\n<pre><code>chromeOptions.addArguments(&quot;--incognito&quot;);\nChromeDriver chromeIncognitoDriver = new ChromeDriver(chromeOptions);\n\nfor (ChromeDriver drivers : new ChromeDriver[] {(ChromeDriver) driver, chromeIncognitoDriver}) {\n\n            try {\n         \n                   chromeIncognitoDriver.manage().window().setSize(new Dimension(412, 915));\n                   drivers.get(&quot;www.google.com&quot;);\n                   //do process 1st for driver then after it, chromeIncognito driver will do the same process\n\n                 \n            } catch (Exception e) {\n\n                throw new IllegalStateException(&quot;Execution encountered an Error: &quot; + e.getMessage());\n\n            } finally {\n\n                driver.close();\n            }\n\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":["java","code-complexity","cognitive-complexity"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1674554465,"post_id":75219819,"comment_id":132733544,"body_markdown":"That&#39;s what [mapstruct](https://mapstruct.org) is for.","body":"That&#39;s what <a href=\"https://mapstruct.org\" rel=\"nofollow noreferrer\">mapstruct</a> is for."},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1674554652,"post_id":75219819,"comment_id":132733609,"body_markdown":"Is `getAttribute()` just a placeholder for a different method each time you call it?","body":"Is <code>getAttribute()</code> just a placeholder for a different method each time you call it?"},{"owner":{"account_id":6575733,"reputation":78,"user_id":5081859,"display_name":"Robert"},"score":0,"creation_date":1674554774,"post_id":75219819,"comment_id":132733657,"body_markdown":"Exactly @k314159","body":"Exactly @k314159"}],"answers":[{"tags":[],"owner":{"account_id":16372083,"reputation":2070,"user_id":11825162,"display_name":"IQbrod"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1674554484,"creation_date":1674554484,"answer_id":75219888,"question_id":75219819,"body_markdown":"You might use `Optional` like \r\n```java\r\nnewobject.setAttribute(\r\n    Optional.ofNullable(obj.getAttribute()).orElse(&quot;your_default_value&quot;)\r\n);\r\n```\r\n\r\nBut it depends of what should happen when `obj.getAttribute()` is empty ?  \r\nFrom what is provided `newobject.attribute` will be empty anyway, assigning property from parent does not require null-check.","title":"Reduce cognitive complexity when mapping","body":"<p>You might use <code>Optional</code> like</p>\n<pre class=\"lang-java prettyprint-override\"><code>newobject.setAttribute(\n    Optional.ofNullable(obj.getAttribute()).orElse(&quot;your_default_value&quot;)\n);\n</code></pre>\n<p>But it depends of what should happen when <code>obj.getAttribute()</code> is empty ?<br />\nFrom what is provided <code>newobject.attribute</code> will be empty anyway, assigning property from parent does not require null-check.</p>\n"},{"tags":[],"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674558341,"creation_date":1674558341,"answer_id":75220584,"question_id":75219819,"body_markdown":"You can use mapstruct, as the comment says. If, for any reason you don&#39;t want to (e.g. because mapstruct uses reflection, which can be slightly inefficient), then you can use a map.\r\n\r\nSupposing you have two classes like this:\r\n\r\n```\r\nclass A {\r\n    Integer getAttribute1() { return null; }\r\n    String getAttribute2() { return &quot;&quot;; }\r\n}\r\n\r\nclass B {\r\n    void setAttribute1(Integer x) {}\r\n    void setAttribute2(String x) {}\r\n}\r\n```\r\n\r\nThen you could define a map like this:\r\n\r\n    private static Map&lt;Function&lt;A, ?&gt;, BiConsumer&lt;B, Object&gt;&gt; mapOfAtoB = Map.of(\r\n            A::getAttribute1, (b, x) -&gt; b.setAttribute1((Integer) x),\r\n            A::getAttribute2, (b, x) -&gt; b.setAttribute2((String) x));\r\n\r\nand use it like this:\r\n\r\n    void copyAtoB(A a, B b) {\r\n        mapOfAtoB.forEach((fA, fB) -&gt; {\r\n            Object o = fA.apply(a);\r\n            if (o != null)\r\n                fB.accept(b, o);\r\n        });\r\n","title":"Reduce cognitive complexity when mapping","body":"<p>You can use mapstruct, as the comment says. If, for any reason you don't want to (e.g. because mapstruct uses reflection, which can be slightly inefficient), then you can use a map.</p>\n<p>Supposing you have two classes like this:</p>\n<pre><code>class A {\n    Integer getAttribute1() { return null; }\n    String getAttribute2() { return &quot;&quot;; }\n}\n\nclass B {\n    void setAttribute1(Integer x) {}\n    void setAttribute2(String x) {}\n}\n</code></pre>\n<p>Then you could define a map like this:</p>\n<pre><code>private static Map&lt;Function&lt;A, ?&gt;, BiConsumer&lt;B, Object&gt;&gt; mapOfAtoB = Map.of(\n        A::getAttribute1, (b, x) -&gt; b.setAttribute1((Integer) x),\n        A::getAttribute2, (b, x) -&gt; b.setAttribute2((String) x));\n</code></pre>\n<p>and use it like this:</p>\n<pre><code>void copyAtoB(A a, B b) {\n    mapOfAtoB.forEach((fA, fB) -&gt; {\n        Object o = fA.apply(a);\n        if (o != null)\n            fB.accept(b, o);\n    });\n</code></pre>\n"}],"owner":{"account_id":6575733,"reputation":78,"user_id":5081859,"display_name":"Robert"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1674558341,"creation_date":1674554133,"question_id":75219819,"body_markdown":"\r\n    if(obj.getAttribute() != null) {\r\n        newobject.setAttribute(obj.getAttribute());\r\n        }\r\n    if(obj.getAttribute() != null) {\r\n            newobject.setAttribute(obj.getAttribute());\r\n    }\r\n    if(obj.getAttribute() != null) {\r\n            newobject.setAttribute(obj.getAttribute());\r\n    }\r\n\r\nImagine this code at scale - mapping an object with 15+ attributes. How do I reduce cognitive complexity without splitting the mapping in two/three parts which increases the cognitive complexity overall. \r\n","title":"Reduce cognitive complexity when mapping","body":"<pre><code>if(obj.getAttribute() != null) {\n    newobject.setAttribute(obj.getAttribute());\n    }\nif(obj.getAttribute() != null) {\n        newobject.setAttribute(obj.getAttribute());\n}\nif(obj.getAttribute() != null) {\n        newobject.setAttribute(obj.getAttribute());\n}\n</code></pre>\n<p>Imagine this code at scale - mapping an object with 15+ attributes. How do I reduce cognitive complexity without splitting the mapping in two/three parts which increases the cognitive complexity overall.</p>\n"},{"tags":["java","amazon-web-services","amazon-cognito"],"answers":[{"tags":[],"owner":{"account_id":4434069,"reputation":586,"user_id":3610403,"display_name":"ammendonca"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1674557676,"creation_date":1674557676,"answer_id":75220480,"question_id":75214581,"body_markdown":"The attribute `username` you are trying to get is not part of the list of attributes for which this is applicable, it is a &quot;top-level&quot; user attribute and is always present.\r\n\r\nWhen you get a response (as you are able to when not passing anything in `attributesToGet`) you will notice the attributes list does not contain the username, which is outside, as seen in this example:\r\n\r\n```json\r\n{\r\n  &quot;Users&quot;: [\r\n    {\r\n      &quot;Username&quot;: &quot;johndoe&quot;,\r\n      &quot;Attributes&quot;: [\r\n        { &quot;Name&quot;: &quot;sub&quot;, &quot;Value&quot;: &quot;41f3c652-6d3b-4ae5-8bad-271785f9adb5&quot; },\r\n        { &quot;Name&quot;: &quot;email_verified&quot;, &quot;Value&quot;: &quot;true&quot; },\r\n        { &quot;Name&quot;: &quot;name&quot;, &quot;Value&quot;: &quot;John Doe&quot; },\r\n        { &quot;Name&quot;: &quot;email&quot;, &quot;Value&quot;: &quot;johndoe@example.org&quot; },\r\n        { &quot;Name&quot;: &quot;custom:role&quot;, &quot;Value&quot;: &quot;administrator&quot; }\r\n      ],\r\n      &quot;UserCreateDate&quot;: &quot;2022-06-22T11:11:40.180000+01:00&quot;,\r\n      &quot;UserLastModifiedDate&quot;: &quot;2022-07-23T11:55:35.352000+01:00&quot;,\r\n      &quot;Enabled&quot;: true,\r\n      &quot;UserStatus&quot;: &quot;RESET_REQUIRED&quot;\r\n    }\r\n  ]\r\n}\r\n```\r\n\r\nAlso check the [ListUsers Response syntax in API Reference][1] where the Username is shown as a top-level field.\r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/cognito-user-identity-pools/latest/APIReference/API_ListUsers.html#API_ListUsers_ResponseSyntax","title":"Set attributesToGet() in ListUsersRequest : Java","body":"<p>The attribute <code>username</code> you are trying to get is not part of the list of attributes for which this is applicable, it is a &quot;top-level&quot; user attribute and is always present.</p>\n<p>When you get a response (as you are able to when not passing anything in <code>attributesToGet</code>) you will notice the attributes list does not contain the username, which is outside, as seen in this example:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;Users&quot;: [\n    {\n      &quot;Username&quot;: &quot;johndoe&quot;,\n      &quot;Attributes&quot;: [\n        { &quot;Name&quot;: &quot;sub&quot;, &quot;Value&quot;: &quot;41f3c652-6d3b-4ae5-8bad-271785f9adb5&quot; },\n        { &quot;Name&quot;: &quot;email_verified&quot;, &quot;Value&quot;: &quot;true&quot; },\n        { &quot;Name&quot;: &quot;name&quot;, &quot;Value&quot;: &quot;John Doe&quot; },\n        { &quot;Name&quot;: &quot;email&quot;, &quot;Value&quot;: &quot;johndoe@example.org&quot; },\n        { &quot;Name&quot;: &quot;custom:role&quot;, &quot;Value&quot;: &quot;administrator&quot; }\n      ],\n      &quot;UserCreateDate&quot;: &quot;2022-06-22T11:11:40.180000+01:00&quot;,\n      &quot;UserLastModifiedDate&quot;: &quot;2022-07-23T11:55:35.352000+01:00&quot;,\n      &quot;Enabled&quot;: true,\n      &quot;UserStatus&quot;: &quot;RESET_REQUIRED&quot;\n    }\n  ]\n}\n</code></pre>\n<p>Also check the <a href=\"https://docs.aws.amazon.com/cognito-user-identity-pools/latest/APIReference/API_ListUsers.html#API_ListUsers_ResponseSyntax\" rel=\"nofollow noreferrer\">ListUsers Response syntax in API Reference</a> where the Username is shown as a top-level field.</p>\n"}],"owner":{"account_id":18925974,"reputation":37,"user_id":13809107,"display_name":"Skul"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75220480,"answer_count":1,"score":0,"last_activity_date":1674557676,"creation_date":1674504714,"question_id":75214581,"body_markdown":"I want to fetch only username attribute from cognito.\r\n\r\nWhen I do not set anything in my attributesToGet(), I am able to successfully fetch the record. But when I try to set any attributes, I get an error : \r\n**AwsErrorDetails(errorMessage=One or more requested attributes do not exist., errorCode=InvalidParameterException, serviceName=CognitoIdentityProvider)**\r\n\r\nbelow is the code with the attribute set to username\r\n\r\n```\r\n String emailId = &quot;xyz@gmail.com&quot;;\r\n ListUsersRequest listUsersRequest = ListUsersRequest.builder()\r\n            .userPoolId(userPoolId)\r\n            .filter(String.format(&quot;%s = \\&quot;%s\\&quot;&quot;, &quot;email&quot;, emailId))\r\n            .attributesToGet(new String[]{&quot;username&quot;})\r\n            .build();\r\n\r\n        ListUsersResponse userInfo = cognitoIdentityProviderClient\r\n            .listUsers(listUsersRequest);\r\n\r\n```\r\n\r\nbelow is a screenshot of my cognito pool headers\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/jF8HD.png\r\n\r\n\r\nPlease help me get this working!  ","title":"Set attributesToGet() in ListUsersRequest : Java","body":"<p>I want to fetch only username attribute from cognito.</p>\n<p>When I do not set anything in my attributesToGet(), I am able to successfully fetch the record. But when I try to set any attributes, I get an error :\n<strong>AwsErrorDetails(errorMessage=One or more requested attributes do not exist., errorCode=InvalidParameterException, serviceName=CognitoIdentityProvider)</strong></p>\n<p>below is the code with the attribute set to username</p>\n<pre><code> String emailId = &quot;xyz@gmail.com&quot;;\n ListUsersRequest listUsersRequest = ListUsersRequest.builder()\n            .userPoolId(userPoolId)\n            .filter(String.format(&quot;%s = \\&quot;%s\\&quot;&quot;, &quot;email&quot;, emailId))\n            .attributesToGet(new String[]{&quot;username&quot;})\n            .build();\n\n        ListUsersResponse userInfo = cognitoIdentityProviderClient\n            .listUsers(listUsersRequest);\n\n</code></pre>\n<p>below is a screenshot of my cognito pool headers\n<a href=\"https://i.stack.imgur.com/jF8HD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jF8HD.png\" alt=\"enter image description here\" /></a></p>\n<p>Please help me get this working!</p>\n"},{"tags":["java","casting","subclass"],"answers":[{"tags":[],"owner":{"account_id":64324,"reputation":76480,"user_id":189950,"accept_rate":79,"display_name":"Kirk Woll"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1285518011,"creation_date":1285518011,"answer_id":3798677,"question_id":3798663,"body_markdown":"You categorically cannot do that.  You can only cast if the type to which you are casting actually represents the ancestry of the target.  In this case, `B` simply is not an instance of `C` (and vice versa).  The real question is why would you want to?  And what are you actually trying to accomplish?","title":"Casting subclasses extending the same original class","body":"<p>You categorically cannot do that.  You can only cast if the type to which you are casting actually represents the ancestry of the target.  In this case, <code>B</code> simply is not an instance of <code>C</code> (and vice versa).  The real question is why would you want to?  And what are you actually trying to accomplish?</p>\n"},{"tags":[],"owner":{"account_id":9320,"reputation":159784,"user_id":17172,"display_name":"coobird"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1285518422,"creation_date":1285518112,"answer_id":3798687,"question_id":3798663,"body_markdown":"In the given code, class `B` and class `C` are not in a &quot;is-a&quot; relationship, so they cannot be casted to each other.\r\n\r\nThe only thing that `B` and `C` has in common is that they are both subclasses of `Object`, therefore, they can both be casted to `Object`. In otherwords, `B` is-a `Object` and `C` is-a `Object`:\r\n\r\n    B b = new B();\r\n    Object ob = (Object)b;\r\n    \r\n    C c = new C();\r\n    Object oc = (Object)c;\r\n\r\n---\r\n\r\nAs a counterexample to what is being done, imagine this case:\r\n\r\n    class B extends Object {\r\n        public void doSomething();\r\n    }\r\n    \r\n    class C extends Object {\r\n        public void doAnotherThing();\r\n    }\r\n\r\nIn this case, what is the following code supposed to do?\r\n\r\n    C realC = new C();\r\n    realC.doSomething();   // This is OK.\r\n\r\n    B c = (B)realC;\r\n    c.doSomething();       // ???\r\n\r\nSince the object made from class `C` doesn&#39;t have a `doSomething` method, what would it do?\r\nIt can be seen that just because `B` and `C` have a common ancestor does not mean that they can be interchangeable with each other.\r\n\r\nTherefore, what is attempted in the code above cannot be performed.\r\n\r\n","title":"Casting subclasses extending the same original class","body":"<p>In the given code, class <code>B</code> and class <code>C</code> are not in a \"is-a\" relationship, so they cannot be casted to each other.</p>\n\n<p>The only thing that <code>B</code> and <code>C</code> has in common is that they are both subclasses of <code>Object</code>, therefore, they can both be casted to <code>Object</code>. In otherwords, <code>B</code> is-a <code>Object</code> and <code>C</code> is-a <code>Object</code>:</p>\n\n<pre><code>B b = new B();\nObject ob = (Object)b;\n\nC c = new C();\nObject oc = (Object)c;\n</code></pre>\n\n<hr>\n\n<p>As a counterexample to what is being done, imagine this case:</p>\n\n<pre><code>class B extends Object {\n    public void doSomething();\n}\n\nclass C extends Object {\n    public void doAnotherThing();\n}\n</code></pre>\n\n<p>In this case, what is the following code supposed to do?</p>\n\n<pre><code>C realC = new C();\nrealC.doSomething();   // This is OK.\n\nB c = (B)realC;\nc.doSomething();       // ???\n</code></pre>\n\n<p>Since the object made from class <code>C</code> doesn't have a <code>doSomething</code> method, what would it do?\nIt can be seen that just because <code>B</code> and <code>C</code> have a common ancestor does not mean that they can be interchangeable with each other.</p>\n\n<p>Therefore, what is attempted in the code above cannot be performed.</p>\n"},{"tags":[],"owner":{"account_id":116580,"reputation":118703,"user_id":305644,"accept_rate":75,"display_name":"hvgotcodes"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1285518659,"creation_date":1285518142,"answer_id":3798690,"question_id":3798663,"body_markdown":"The closest you can come is to use interfaces\r\n    \r\n\r\n     class B extends Object implements Thing {}\r\n     class C extends Object implements Thing {} \r\n\r\n     B b = new B()\r\n     Thing c = (Thing)b\r\n\r\nAs others have indicated you cannot do what you are trying with just classes.","title":"Casting subclasses extending the same original class","body":"<p>The closest you can come is to use interfaces</p>\n\n<pre><code> class B extends Object implements Thing {}\n class C extends Object implements Thing {} \n\n B b = new B()\n Thing c = (Thing)b\n</code></pre>\n\n<p>As others have indicated you cannot do what you are trying with just classes.</p>\n"},{"tags":[],"owner":{"account_id":191798,"reputation":13419,"user_id":432589,"accept_rate":50,"display_name":"Jcs"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1285518159,"creation_date":1285518159,"answer_id":3798692,"question_id":3798663,"body_markdown":"You cannot do that since `b` is not an instance of class C. It is only possible to cast an object into a super-class or a super-interface.","title":"Casting subclasses extending the same original class","body":"<p>You cannot do that since <code>b</code> is not an instance of class C. It is only possible to cast an object into a super-class or a super-interface.</p>\n"},{"tags":[],"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1524733003,"creation_date":1285518656,"answer_id":3798727,"question_id":3798663,"body_markdown":"You can&#39;t.  Consider a slight rename:\r\n\r\n\r\n    class Ford extends Car {\r\n\r\n    }\r\n    class Chevrolet extends Car {\r\n\r\n    }\r\n\r\n    Ford ford = new Ford();\r\n\r\n    Chevrolet chevrolet = (Chevrolet) ford;\r\n\r\nBoth are, however, a Car so you can say\r\n\r\n    Car car = ford;\r\n\r\nbut not any more than that.\r\n","title":"Casting subclasses extending the same original class","body":"<p>You can't.  Consider a slight rename:</p>\n\n<pre><code>class Ford extends Car {\n\n}\nclass Chevrolet extends Car {\n\n}\n\nFord ford = new Ford();\n\nChevrolet chevrolet = (Chevrolet) ford;\n</code></pre>\n\n<p>Both are, however, a Car so you can say</p>\n\n<pre><code>Car car = ford;\n</code></pre>\n\n<p>but not any more than that.</p>\n"},{"tags":[],"owner":{"account_id":170019,"reputation":84110,"user_id":396458,"accept_rate":84,"display_name":"NullUserException"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1377446388,"creation_date":1285518939,"answer_id":3798761,"question_id":3798663,"body_markdown":"You can&#39;t cast an object `B` to `C`, because `B` is not a `C`, the best you can infer is that it&#39;s an `Object`. Here&#39;s another analogy:\r\n\r\n    class Animal {\r\n        public void eat();\r\n    }\r\n    \r\n    class Dog extends Animal {\r\n        public void bark();\r\n    }\r\n    \r\n    public Cat extends Animal {\r\n        public void meow();\r\n    }\r\n\r\nSay you have:\r\n\r\n    Cat sprinkles = new Cat();\r\n    \r\n    // this doesn&#39;t make sense\r\n    Dog aDog = (Dog) sprinkles;\r\n    aDog.bark(); // can&#39;t do this because sprinkles can&#39;t bark()\r\n\r\n    // but this does\r\n    Animal myCat = (Animal) sprinkles;\r\n    myCat.eat(); // but it can eat()","title":"Casting subclasses extending the same original class","body":"<p>You can't cast an object <code>B</code> to <code>C</code>, because <code>B</code> is not a <code>C</code>, the best you can infer is that it's an <code>Object</code>. Here's another analogy:</p>\n\n<pre><code>class Animal {\n    public void eat();\n}\n\nclass Dog extends Animal {\n    public void bark();\n}\n\npublic Cat extends Animal {\n    public void meow();\n}\n</code></pre>\n\n<p>Say you have:</p>\n\n<pre><code>Cat sprinkles = new Cat();\n\n// this doesn't make sense\nDog aDog = (Dog) sprinkles;\naDog.bark(); // can't do this because sprinkles can't bark()\n\n// but this does\nAnimal myCat = (Animal) sprinkles;\nmyCat.eat(); // but it can eat()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10999933,"reputation":445,"user_id":8080817,"accept_rate":0,"display_name":"silvia Dominguez"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1496299586,"creation_date":1496299586,"answer_id":44300336,"question_id":3798663,"body_markdown":"but...giving this hierarchy\r\n`class X {}`\r\n`class Z extends X{}`\r\n`class Y extends  X{}`\r\n`X z = new Z();`\r\n`X y = new Y();`\r\n`Z y2 =(Z)y;`\r\nWhy is alloweb by the compiler the casting between Z and Y? It not works at runtime obviously cos Z is not a Y.","title":"Casting subclasses extending the same original class","body":"<p>but...giving this hierarchy\n<code>class X {}</code>\n<code>class Z extends X{}</code>\n<code>class Y extends  X{}</code>\n<code>X z = new Z();</code>\n<code>X y = new Y();</code>\n<code>Z y2 =(Z)y;</code>\nWhy is alloweb by the compiler the casting between Z and Y? It not works at runtime obviously cos Z is not a Y.</p>\n"}],"owner":{"account_id":178046,"reputation":1462,"user_id":409776,"display_name":"MUH Mobile Inc."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26457,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":3798727,"answer_count":7,"score":7,"last_activity_date":1674557382,"creation_date":1285517827,"question_id":3798663,"body_markdown":"How can I cast two extends class like that in java?\r\n\r\n        class B extends Object{\r\n         \r\n        }\r\n      \r\n        class C extends Object{\r\n         \r\n        }\r\n        \r\n        B b = new B();\r\n        \r\n        C c = (C)b;//Cannot cast from B to C","title":"Casting subclasses extending the same original class","body":"<p>How can I cast two extends class like that in java?</p>\n\n<pre><code>    class B extends Object{\n\n    }\n\n    class C extends Object{\n\n    }\n\n    B b = new B();\n\n    C c = (C)b;//Cannot cast from B to C\n</code></pre>\n"},{"tags":["java","android","web-services","rest"],"comments":[{"owner":{"account_id":4992556,"reputation":18256,"user_id":4014291,"accept_rate":100,"display_name":"Samuel Toh"},"score":0,"creation_date":1468823065,"post_id":38429681,"comment_id":64265825,"body_markdown":"I can understand your use case but I can&#39;t seems to make out what the real issue is. Do you want to rephrase your question and  focus on asking specific things? Actually this sort of authentication framework is pretty standard today, you normally would request for tokens, which the service will give you back a refreshToken and an access Token. `Refresh token` is used for fetching a new `access token` when the old one has expired. Upon authentication you will use the `access_token` to call services which requires authentication to identify yourself.","body":"I can understand your use case but I can&#39;t seems to make out what the real issue is. Do you want to rephrase your question and  focus on asking specific things? Actually this sort of authentication framework is pretty standard today, you normally would request for tokens, which the service will give you back a refreshToken and an access Token. <code>Refresh token</code> is used for fetching a new <code>access token</code> when the old one has expired. Upon authentication you will use the <code>access_token</code> to call services which requires authentication to identify yourself."},{"owner":{"account_id":1805920,"reputation":495,"user_id":1643012,"accept_rate":43,"display_name":"Mojtaba Mahamed"},"score":0,"creation_date":1468904314,"post_id":38429681,"comment_id":64304661,"body_markdown":"@SamuelToh I need a design pattern. I guess we need a way to handle this in case one of the web service call failed. I don&#39;t know maybe we should simply call this services respectively .","body":"@SamuelToh I need a design pattern. I guess we need a way to handle this in case one of the web service call failed. I don&#39;t know maybe we should simply call this services respectively ."},{"owner":{"account_id":4992556,"reputation":18256,"user_id":4014291,"accept_rate":100,"display_name":"Samuel Toh"},"score":0,"creation_date":1468908274,"post_id":38429681,"comment_id":64306118,"body_markdown":"I don&#39;t know of any design pattern for this problem. I think you just have to read the external party&#39;s web service documentation and handle the exception appropriately. E.g. If it gives you back a certain HTTP code and error which signal that the access token has expired then the code should call the appropriate token refresh API and retry the web service again with the new access token. Your solution will pretty much dependent on how the external party design its end point and exceptions.","body":"I don&#39;t know of any design pattern for this problem. I think you just have to read the external party&#39;s web service documentation and handle the exception appropriately. E.g. If it gives you back a certain HTTP code and error which signal that the access token has expired then the code should call the appropriate token refresh API and retry the web service again with the new access token. Your solution will pretty much dependent on how the external party design its end point and exceptions."}],"answers":[{"tags":[],"owner":{"account_id":8795223,"reputation":1607,"user_id":6573316,"display_name":"Christlin Panneer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1468823353,"creation_date":1468823353,"answer_id":38429890,"question_id":38429681,"body_markdown":"Here is a solution which i have implemented earlier\r\n\r\n 1. Write an authentication function in your webservice, which will generate and store a TOKEN for the user. Then return that TOKEN if the credentials are okay\r\n 2. store the TOKEN in your android application in a secure way.\r\n 3. Use the TOKEN as a primary argument in every webservice call\r\n 4. For each webservice call, the token must be checked with the\r\n    database\r\n 5. You can also use the token to identify the User\r\n 6. If the user logs in from another device, then the authentication function should generate a new TOKEN then stores and returns it (same as point no 1) \r\n 7. Then the new token only works with the webservice calls. The old authenticated device should return &#39;invalid token&#39;\r\n\r\n\r\n\r\n","title":"Call web services based on Bearer Authorization algorithm","body":"<p>Here is a solution which i have implemented earlier</p>\n\n<ol>\n<li>Write an authentication function in your webservice, which will generate and store a TOKEN for the user. Then return that TOKEN if the credentials are okay</li>\n<li>store the TOKEN in your android application in a secure way.</li>\n<li>Use the TOKEN as a primary argument in every webservice call</li>\n<li>For each webservice call, the token must be checked with the\ndatabase</li>\n<li>You can also use the token to identify the User</li>\n<li>If the user logs in from another device, then the authentication function should generate a new TOKEN then stores and returns it (same as point no 1) </li>\n<li>Then the new token only works with the webservice calls. The old authenticated device should return 'invalid token'</li>\n</ol>\n"}],"owner":{"account_id":1805920,"reputation":495,"user_id":1643012,"accept_rate":43,"display_name":"Mojtaba Mahamed"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":583,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674557334,"creation_date":1468822449,"question_id":38429681,"body_markdown":"We have an android app and we should call some web services on it.\r\nThe back end services works on bearer authorization algorithm. When a user logged in, the server gives him an access token and this token is valid for about an hour.\r\n\r\nWhen we call a service we send this token as a HTTP Header. If token is valid, it&#39;s OK. But when the token is not valid, the server gives us an error and we must call another service to get a new token and recall that service with this new token.\r\n\r\nAre there any patterns to implement this workflow?","title":"Call web services based on Bearer Authorization algorithm","body":"<p>We have an android app and we should call some web services on it.\nThe back end services works on bearer authorization algorithm. When a user logged in, the server gives him an access token and this token is valid for about an hour.</p>\n<p>When we call a service we send this token as a HTTP Header. If token is valid, it's OK. But when the token is not valid, the server gives us an error and we must call another service to get a new token and recall that service with this new token.</p>\n<p>Are there any patterns to implement this workflow?</p>\n"},{"tags":["java","projection","wgs84","geographic-lib"],"answers":[{"tags":[],"owner":{"account_id":19895112,"reputation":47,"user_id":14576370,"display_name":"RandomType"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674557215,"creation_date":1674557215,"answer_id":75220391,"question_id":75219649,"body_markdown":"Ok, it seems that the `GeographicLib` performs geographic conversions and transformations but it does not include projection to a specific `CRS`. To project a point to a specific `CRS` we can use a projection library e.g. `Proj4`.","title":"How to project a point to wgs84 crs with geographicLib","body":"<p>Ok, it seems that the <code>GeographicLib</code> performs geographic conversions and transformations but it does not include projection to a specific <code>CRS</code>. To project a point to a specific <code>CRS</code> we can use a projection library e.g. <code>Proj4</code>.</p>\n"}],"owner":{"account_id":19895112,"reputation":47,"user_id":14576370,"display_name":"RandomType"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674557215,"creation_date":1674553162,"question_id":75219649,"body_markdown":"In my app I use a specific framework with Low-level methods that converts projected coordinates back to longitude and latitude from `crs` `WGS84`. \r\n\r\nHowever, I then need to re-project these absolute values of the point with `GeographicLib`. \r\n\r\nHow can I take the given absolute lat long and project it to the `crs` `wgs84`?","title":"How to project a point to wgs84 crs with geographicLib","body":"<p>In my app I use a specific framework with Low-level methods that converts projected coordinates back to longitude and latitude from <code>crs</code> <code>WGS84</code>.</p>\n<p>However, I then need to re-project these absolute values of the point with <code>GeographicLib</code>.</p>\n<p>How can I take the given absolute lat long and project it to the <code>crs</code> <code>wgs84</code>?</p>\n"},{"tags":["java","android-studio","android-bottomnav"],"answers":[{"tags":[],"owner":{"account_id":23089313,"reputation":11,"user_id":17200394,"display_name":"WolCarlos"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674557163,"creation_date":1674216781,"answer_id":75183877,"question_id":75183806,"body_markdown":"to switch between the two versions the bottom navigation menu, you can use the `setOnNavigationItemSelectedListener` method in the navigation view. This method allows you to set a listener that will be triggered when the user selects an item from the bottom navigation menu. \r\nYou can then use an if-else statement to determine if the user is an admin or a user and switch out the menus accordingly. You can also use the getMenu method to get the menu items and then use the setVisible method to hide or show certain menu items.","title":"Android : Switching Bottom bar navigation","body":"<p>to switch between the two versions the bottom navigation menu, you can use the <code>setOnNavigationItemSelectedListener</code> method in the navigation view. This method allows you to set a listener that will be triggered when the user selects an item from the bottom navigation menu.\nYou can then use an if-else statement to determine if the user is an admin or a user and switch out the menus accordingly. You can also use the getMenu method to get the menu items and then use the setVisible method to hide or show certain menu items.</p>\n"}],"owner":{"account_id":11774613,"reputation":21,"user_id":8616537,"display_name":"3.14159265358979323"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674557163,"creation_date":1674216423,"question_id":75183806,"body_markdown":"I am currently building an app with admin and user. I&#39;ve used the template bottom navigation menu method. I&#39;ve created two versions of the menu for admin and user. How will I be able to switch these two out at any point? ","title":"Android : Switching Bottom bar navigation","body":"<p>I am currently building an app with admin and user. I've used the template bottom navigation menu method. I've created two versions of the menu for admin and user. How will I be able to switch these two out at any point?</p>\n"},{"tags":["java","apache-kafka","apache-kafka-streams"],"comments":[{"owner":{"account_id":20712417,"reputation":136,"user_id":15208738,"display_name":"frblazquez"},"score":1,"creation_date":1674556611,"post_id":71196536,"comment_id":132734202,"body_markdown":"**Update:** Kafka supports since version 3.3 _[process](https://kafka.apache.org/34/javadoc/org/apache/kafka/streams/kstream/KStream.html#process(org.apache.kafka.streams.processor.api.ProcessorSupplier,java.lang.String...))_ with return type and not only as a terminal action, so several _process_ can be chained.","body":"<b>Update:</b> Kafka supports since version 3.3 <i><a href=\"https://kafka.apache.org/34/javadoc/org/apache/kafka/streams/kstream/KStream.html#process(org.apache.kafka.streams.processor.api.ProcessorSupplier,java.lang.String...)\" rel=\"nofollow noreferrer\">process</a></i> with return type and not only as a terminal action, so several <i>process</i> can be chained."}],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1645388725,"creation_date":1645388725,"answer_id":71198444,"question_id":71196536,"body_markdown":"Both accomplish the same goal. `foreach` is a terminal action of the DSL, however \r\n\r\n`process` method of the Processor API &quot;returns&quot; data to next Processors by _forwarding it to the Context_, as answered in your last question, not via the process method itself ","title":"Kafka Streams DSL foreach vs process","body":"<p>Both accomplish the same goal. <code>foreach</code> is a terminal action of the DSL, however</p>\n<p><code>process</code> method of the Processor API &quot;returns&quot; data to next Processors by <em>forwarding it to the Context</em>, as answered in your last question, not via the process method itself</p>\n"}],"owner":{"account_id":20712417,"reputation":136,"user_id":15208738,"display_name":"frblazquez"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":398,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71198444,"answer_count":1,"score":0,"last_activity_date":1674557158,"creation_date":1645375504,"question_id":71196536,"body_markdown":"I&#39;m implementing the logic for rebuilding a file paginated to several kafka messages with the same key. Every time a page is received its content is appended to the corresponding file in a shared volume and, once the last page is appended, the topology has to include some extra processing steps. \r\n\r\n 1. Should this be done with *[forEach][1]* or with *[process][2]*?\r\n 2. Both *forEach* and *process* have void type, how can then be added the final extra steps to the topology?\r\n\r\n\r\n  [1]: https://kafka.apache.org/31/javadoc/org/apache/kafka/streams/kstream/KStream.html#foreach(org.apache.kafka.streams.kstream.ForeachAction)\r\n  [2]: https://kafka.apache.org/31/javadoc/org/apache/kafka/streams/kstream/KStream.html#process(org.apache.kafka.streams.processor.api.ProcessorSupplier,java.lang.String...)","title":"Kafka Streams DSL foreach vs process","body":"<p>I'm implementing the logic for rebuilding a file paginated to several kafka messages with the same key. Every time a page is received its content is appended to the corresponding file in a shared volume and, once the last page is appended, the topology has to include some extra processing steps.</p>\n<ol>\n<li>Should this be done with <em><a href=\"https://kafka.apache.org/31/javadoc/org/apache/kafka/streams/kstream/KStream.html#foreach(org.apache.kafka.streams.kstream.ForeachAction)\" rel=\"nofollow noreferrer\">forEach</a></em> or with <em><a href=\"https://kafka.apache.org/31/javadoc/org/apache/kafka/streams/kstream/KStream.html#process(org.apache.kafka.streams.processor.api.ProcessorSupplier,java.lang.String...)\" rel=\"nofollow noreferrer\">process</a></em>?</li>\n<li>Both <em>forEach</em> and <em>process</em> have void type, how can then be added the final extra steps to the topology?</li>\n</ol>\n"},{"tags":["java","grails","file-io","groovy"],"comments":[{"owner":{"account_id":91502,"reputation":88301,"user_id":251173,"accept_rate":86,"display_name":"Buhake Sindi"},"score":0,"creation_date":1307019119,"post_id":6214703,"comment_id":7236406,"body_markdown":"You want a command line tool or code?","body":"You want a command line tool or code?"}],"answers":[{"tags":[],"owner":{"account_id":95910,"reputation":238649,"user_id":260990,"accept_rate":81,"display_name":"jmj"},"down_vote_count":7,"up_vote_count":131,"is_accepted":true,"score":124,"last_activity_date":1518056349,"creation_date":1307019100,"answer_id":6214736,"question_id":6214703,"body_markdown":"[`FileUtils.copyDirectory()`][1]\r\n\r\n\r\n&gt;Copies a whole directory\r\n&gt; to a new location preserving the file\r\n&gt; dates. This method copies the\r\n&gt; specified directory and all its child\r\n&gt; directories and files to the specified\r\n&gt; destination. The destination is the\r\n&gt; new location and name of the\r\n&gt; directory.\r\n&gt; \r\n&gt; The destination directory is created\r\n&gt; if it does not exist. If the\r\n&gt; destination directory did exist, then\r\n&gt; this method merges the source with the\r\n&gt; destination, with the source taking\r\n&gt; precedence.\r\n\r\nTo do so, here&#39;s the example code\r\n\r\n    String source = &quot;C:/your/source&quot;;\r\n    File srcDir = new File(source);\r\n    \r\n    String destination = &quot;C:/your/destination&quot;;\r\n    File destDir = new File(destination);\r\n    \r\n    try {\r\n    \tFileUtils.copyDirectory(srcDir, destDir);\r\n    } catch (IOException e) {\r\n    \te.printStackTrace();\r\n    }\r\n\r\n  [1]: http://commons.apache.org/proper/commons-io/javadocs/api-release/org/apache/commons/io/FileUtils.html#copyDirectory(java.io.File,%20java.io.File)l","title":"Copy entire directory contents to another directory?","body":"<p><a href=\"http://commons.apache.org/proper/commons-io/javadocs/api-release/org/apache/commons/io/FileUtils.html#copyDirectory(java.io.File,%20java.io.File)l\" rel=\"noreferrer\"><code>FileUtils.copyDirectory()</code></a></p>\n\n<blockquote>\n  <p>Copies a whole directory\n  to a new location preserving the file\n  dates. This method copies the\n  specified directory and all its child\n  directories and files to the specified\n  destination. The destination is the\n  new location and name of the\n  directory.</p>\n  \n  <p>The destination directory is created\n  if it does not exist. If the\n  destination directory did exist, then\n  this method merges the source with the\n  destination, with the source taking\n  precedence.</p>\n</blockquote>\n\n<p>To do so, here's the example code</p>\n\n<pre><code>String source = \"C:/your/source\";\nFile srcDir = new File(source);\n\nString destination = \"C:/your/destination\";\nFile destDir = new File(destination);\n\ntry {\n    FileUtils.copyDirectory(srcDir, destDir);\n} catch (IOException e) {\n    e.printStackTrace();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29332,"reputation":12535,"user_id":79207,"accept_rate":72,"display_name":"planetjones"},"down_vote_count":6,"up_vote_count":11,"is_accepted":false,"score":5,"last_activity_date":1340927197,"creation_date":1307019127,"answer_id":6214742,"question_id":6214703,"body_markdown":" - Use Apache&#39;s\r\n   [FileUtils.copyDirectory][1] \r\n - Write\r\n   your own e.g. this guy [provides\r\n   example code][2].\r\n -  Java 7: take a look at [java.nio.file.Files][3].\r\n\r\n  [1]: http://commons.apache.org/io/api-release/org/apache/commons/io/FileUtils.html#copyDirectory%28java.io.File,%20java.io.File%29\r\n  [2]: http://www.crazysquirrel.com/computing/java/basics/java-file-and-directory-copying.jspx\r\n  [3]: http://docs.oracle.com/javase/7/docs/api/java/nio/file/Files.html","title":"Copy entire directory contents to another directory?","body":"<ul>\n<li>Use Apache's\n<a href=\"http://commons.apache.org/io/api-release/org/apache/commons/io/FileUtils.html#copyDirectory%28java.io.File,%20java.io.File%29\" rel=\"nofollow\">FileUtils.copyDirectory</a> </li>\n<li>Write\nyour own e.g. this guy <a href=\"http://www.crazysquirrel.com/computing/java/basics/java-file-and-directory-copying.jspx\" rel=\"nofollow\">provides\nexample code</a>.</li>\n<li>Java 7: take a look at <a href=\"http://docs.oracle.com/javase/7/docs/api/java/nio/file/Files.html\" rel=\"nofollow\">java.nio.file.Files</a>.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":285919,"reputation":43640,"user_id":584862,"accept_rate":93,"display_name":"mre"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1307019680,"creation_date":1307019376,"answer_id":6214786,"question_id":6214703,"body_markdown":"With regard to **Java**, there is no such method in the standard API. In Java 7, the `java.nio.file.Files` class will provide a [copy][1] convenience method.\r\n\r\n**References**\r\n\r\n 1. [The Java Tutorials](http://download.oracle.com/javase/tutorial/essential/io/copy.html)\r\n    \r\n 2. https://stackoverflow.com/questions/1146153/copying-files-from-one-directory-to-another-in-java\r\n\r\n  [1]: http://download.java.net/jdk7/docs/api/java/nio/file/Files.html#copy%28java.nio.file.Path,%20java.nio.file.Path,%20java.nio.file.CopyOption...%29","title":"Copy entire directory contents to another directory?","body":"<p>With regard to <strong>Java</strong>, there is no such method in the standard API. In Java 7, the <code>java.nio.file.Files</code> class will provide a <a href=\"http://download.java.net/jdk7/docs/api/java/nio/file/Files.html#copy%28java.nio.file.Path,%20java.nio.file.Path,%20java.nio.file.CopyOption...%29\" rel=\"nofollow noreferrer\">copy</a> convenience method.</p>\n\n<p><strong>References</strong></p>\n\n<ol>\n<li><p><a href=\"http://download.oracle.com/javase/tutorial/essential/io/copy.html\" rel=\"nofollow noreferrer\">The Java Tutorials</a></p></li>\n<li><p><a href=\"https://stackoverflow.com/questions/1146153/copying-files-from-one-directory-to-another-in-java\">Copying files from one directory to another in Java</a></p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":4358,"reputation":168410,"user_id":6509,"display_name":"tim_yates"},"down_vote_count":2,"up_vote_count":18,"is_accepted":false,"score":16,"last_activity_date":1674557066,"creation_date":1307019603,"answer_id":6214823,"question_id":6214703,"body_markdown":"With Groovy, you can [leverage Ant][1] to do:\r\n\r\n    new AntBuilder().copy( todir:&#39;/path/to/destination/folder&#39; ) {\r\n      fileset( dir:&#39;/path/to/src/folder&#39; )\r\n    }\r\n\r\nAntBuilder is part of the distribution and the automatic imports list which means it is directly available for any groovy code.\r\n\r\n  [1]: https://docs.groovy-lang.org/latest/html/documentation/#antbuilder","title":"Copy entire directory contents to another directory?","body":"<p>With Groovy, you can <a href=\"https://docs.groovy-lang.org/latest/html/documentation/#antbuilder\" rel=\"nofollow noreferrer\">leverage Ant</a> to do:</p>\n<pre><code>new AntBuilder().copy( todir:'/path/to/destination/folder' ) {\n  fileset( dir:'/path/to/src/folder' )\n}\n</code></pre>\n<p>AntBuilder is part of the distribution and the automatic imports list which means it is directly available for any groovy code.</p>\n"},{"tags":[],"owner":{"account_id":87230,"reputation":36816,"user_id":242042,"accept_rate":57,"display_name":"Archimedes Trajano"},"down_vote_count":1,"up_vote_count":35,"is_accepted":false,"score":34,"last_activity_date":1333942868,"creation_date":1333938636,"answer_id":10068306,"question_id":6214703,"body_markdown":"The following is an example of using JDK7.\r\n\r\n    public class CopyFileVisitor extends SimpleFileVisitor&lt;Path&gt; {\r\n        private final Path targetPath;\r\n        private Path sourcePath = null;\r\n        public CopyFileVisitor(Path targetPath) {\r\n            this.targetPath = targetPath;\r\n        }\r\n\r\n        @Override\r\n        public FileVisitResult preVisitDirectory(final Path dir,\r\n\t\tfinal BasicFileAttributes attrs) throws IOException {\r\n            if (sourcePath == null) {\r\n                sourcePath = dir;\r\n            } else {\r\n\t        Files.createDirectories(targetPath.resolve(sourcePath\r\n\t\t\t\t\t\t.relativize(dir)));\r\n            }\r\n            return FileVisitResult.CONTINUE;\r\n        }\r\n\r\n        @Override\r\n        public FileVisitResult visitFile(final Path file,\r\n\t\tfinal BasicFileAttributes attrs) throws IOException {\r\n\t\tFiles.copy(file,\r\n\t\t\ttargetPath.resolve(sourcePath.relativize(file)));\r\n\t\treturn FileVisitResult.CONTINUE;\r\n        }\r\n    }\r\n\r\nTo use the visitor do the following\r\n\r\n    Files.walkFileTree(sourcePath, new CopyFileVisitor(targetPath));\r\n\r\nIf you&#39;d rather just inline everything (not too efficient if you use it often, but good for quickies)\r\n\r\n\r\n\t\tfinal Path targetPath = // target\r\n\t\tfinal Path sourcePath = // source\r\n\t\tFiles.walkFileTree(sourcePath, new SimpleFileVisitor&lt;Path&gt;() {\r\n\t\t\t@Override\r\n\t\t\tpublic FileVisitResult preVisitDirectory(final Path dir,\r\n\t\t\t\t\tfinal BasicFileAttributes attrs) throws IOException {\r\n\t\t\t\tFiles.createDirectories(targetPath.resolve(sourcePath\r\n\t\t\t\t\t\t.relativize(dir)));\r\n\t\t\t\treturn FileVisitResult.CONTINUE;\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic FileVisitResult visitFile(final Path file,\r\n\t\t\t\t\tfinal BasicFileAttributes attrs) throws IOException {\r\n\t\t\t\tFiles.copy(file,\r\n\t\t\t\t\t\ttargetPath.resolve(sourcePath.relativize(file)));\r\n\t\t\t\treturn FileVisitResult.CONTINUE;\r\n\t\t\t}\r\n\t\t});\r\n","title":"Copy entire directory contents to another directory?","body":"<p>The following is an example of using JDK7.</p>\n\n<pre><code>public class CopyFileVisitor extends SimpleFileVisitor&lt;Path&gt; {\n    private final Path targetPath;\n    private Path sourcePath = null;\n    public CopyFileVisitor(Path targetPath) {\n        this.targetPath = targetPath;\n    }\n\n    @Override\n    public FileVisitResult preVisitDirectory(final Path dir,\n    final BasicFileAttributes attrs) throws IOException {\n        if (sourcePath == null) {\n            sourcePath = dir;\n        } else {\n        Files.createDirectories(targetPath.resolve(sourcePath\n                    .relativize(dir)));\n        }\n        return FileVisitResult.CONTINUE;\n    }\n\n    @Override\n    public FileVisitResult visitFile(final Path file,\n    final BasicFileAttributes attrs) throws IOException {\n    Files.copy(file,\n        targetPath.resolve(sourcePath.relativize(file)));\n    return FileVisitResult.CONTINUE;\n    }\n}\n</code></pre>\n\n<p>To use the visitor do the following</p>\n\n<pre><code>Files.walkFileTree(sourcePath, new CopyFileVisitor(targetPath));\n</code></pre>\n\n<p>If you'd rather just inline everything (not too efficient if you use it often, but good for quickies)</p>\n\n<pre><code>    final Path targetPath = // target\n    final Path sourcePath = // source\n    Files.walkFileTree(sourcePath, new SimpleFileVisitor&lt;Path&gt;() {\n        @Override\n        public FileVisitResult preVisitDirectory(final Path dir,\n                final BasicFileAttributes attrs) throws IOException {\n            Files.createDirectories(targetPath.resolve(sourcePath\n                    .relativize(dir)));\n            return FileVisitResult.CONTINUE;\n        }\n\n        @Override\n        public FileVisitResult visitFile(final Path file,\n                final BasicFileAttributes attrs) throws IOException {\n            Files.copy(file,\n                    targetPath.resolve(sourcePath.relativize(file)));\n            return FileVisitResult.CONTINUE;\n        }\n    });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8235,"reputation":87010,"user_id":14731,"accept_rate":89,"display_name":"Gili"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1397840962,"creation_date":1378704525,"answer_id":18691962,"question_id":6214703,"body_markdown":"Neither [FileUtils.copyDirectory()](http://commons.apache.org/proper/commons-io/apidocs/org/apache/commons/io/FileUtils.html#copyDirectory%28java.io.File,%20java.io.File%29) nor [Archimedes&#39;s answer](https://stackoverflow.com/a/10068306/14731) copy directory attributes (file owner, permissions, modification times, etc).\r\n\r\nhttps://stackoverflow.com/a/18691793/14731 provides a complete JDK7 solution that does precisely that.","title":"Copy entire directory contents to another directory?","body":"<p>Neither <a href=\"http://commons.apache.org/proper/commons-io/apidocs/org/apache/commons/io/FileUtils.html#copyDirectory%28java.io.File,%20java.io.File%29\" rel=\"nofollow noreferrer\">FileUtils.copyDirectory()</a> nor <a href=\"https://stackoverflow.com/a/10068306/14731\">Archimedes's answer</a> copy directory attributes (file owner, permissions, modification times, etc).</p>\n\n<p><a href=\"https://stackoverflow.com/a/18691793/14731\">https://stackoverflow.com/a/18691793/14731</a> provides a complete JDK7 solution that does precisely that.</p>\n"},{"tags":[],"owner":{"account_id":1144833,"reputation":7270,"user_id":1127843,"accept_rate":86,"display_name":"kayz1"},"down_vote_count":1,"up_vote_count":14,"is_accepted":false,"score":13,"last_activity_date":1412600480,"creation_date":1412592595,"answer_id":26214647,"question_id":6214703,"body_markdown":"\tpublic static void copyFolder(File source, File destination)\r\n\t{\r\n\t\tif (source.isDirectory())\r\n\t\t{\r\n\t\t\tif (!destination.exists())\r\n\t\t\t{\r\n\t\t\t\tdestination.mkdirs();\r\n\t\t\t}\r\n\r\n\t\t\tString files[] = source.list();\r\n\r\n\t\t\tfor (String file : files)\r\n\t\t\t{\r\n\t\t\t\tFile srcFile = new File(source, file);\r\n\t\t\t\tFile destFile = new File(destination, file);\r\n\r\n\t\t\t\tcopyFolder(srcFile, destFile);\r\n\t\t\t}\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tInputStream in = null;\r\n\t\t\tOutputStream out = null;\r\n\r\n\t\t\ttry\r\n\t\t\t{\r\n\t\t\t\tin = new FileInputStream(source);\r\n\t\t\t\tout = new FileOutputStream(destination);\r\n\r\n\t\t\t\tbyte[] buffer = new byte[1024];\r\n\r\n\t\t\t\tint length;\r\n\t\t\t\twhile ((length = in.read(buffer)) &gt; 0)\r\n\t\t\t\t{\r\n\t\t\t\t\tout.write(buffer, 0, length);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tcatch (Exception e)\r\n\t\t\t{\r\n\t\t\t\ttry\r\n\t\t\t\t{\r\n\t\t\t\t\tin.close();\r\n\t\t\t\t}\r\n\t\t\t\tcatch (IOException e1)\r\n\t\t\t\t{\r\n\t\t\t\t\te1.printStackTrace();\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\ttry\r\n\t\t\t\t{\r\n\t\t\t\t\tout.close();\r\n\t\t\t\t}\r\n\t\t\t\tcatch (IOException e1)\r\n\t\t\t\t{\r\n\t\t\t\t\te1.printStackTrace();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}","title":"Copy entire directory contents to another directory?","body":"<pre><code>public static void copyFolder(File source, File destination)\n{\n    if (source.isDirectory())\n    {\n        if (!destination.exists())\n        {\n            destination.mkdirs();\n        }\n\n        String files[] = source.list();\n\n        for (String file : files)\n        {\n            File srcFile = new File(source, file);\n            File destFile = new File(destination, file);\n\n            copyFolder(srcFile, destFile);\n        }\n    }\n    else\n    {\n        InputStream in = null;\n        OutputStream out = null;\n\n        try\n        {\n            in = new FileInputStream(source);\n            out = new FileOutputStream(destination);\n\n            byte[] buffer = new byte[1024];\n\n            int length;\n            while ((length = in.read(buffer)) &gt; 0)\n            {\n                out.write(buffer, 0, length);\n            }\n        }\n        catch (Exception e)\n        {\n            try\n            {\n                in.close();\n            }\n            catch (IOException e1)\n            {\n                e1.printStackTrace();\n            }\n\n            try\n            {\n                out.close();\n            }\n            catch (IOException e1)\n            {\n                e1.printStackTrace();\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":407393,"reputation":1182,"user_id":777443,"accept_rate":89,"display_name":"Peter"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1418675645,"creation_date":1418675645,"answer_id":27492623,"question_id":6214703,"body_markdown":"If you&#39;re open to using a 3rd party library, check out [javaxt-core][1]. The javaxt.io.Directory class can be used to copy directories like this:\r\n\r\n    javaxt.io.Directory input = new javaxt.io.Directory(&quot;/source&quot;);\r\n    javaxt.io.Directory output = new javaxt.io.Directory(&quot;/destination&quot;);\r\n    input.copyTo(output, true); //true to overwrite any existing files\r\n\r\nYou can also provide a file filter to specify which files you want to copy. There are more examples here:\r\n\r\nhttp://javaxt.com/javaxt-core/io/Directory/Directory_Copy\r\n\r\n\r\n  [1]: http://www.javaxt.com","title":"Copy entire directory contents to another directory?","body":"<p>If you're open to using a 3rd party library, check out <a href=\"http://www.javaxt.com\" rel=\"nofollow\">javaxt-core</a>. The javaxt.io.Directory class can be used to copy directories like this:</p>\n\n<pre><code>javaxt.io.Directory input = new javaxt.io.Directory(\"/source\");\njavaxt.io.Directory output = new javaxt.io.Directory(\"/destination\");\ninput.copyTo(output, true); //true to overwrite any existing files\n</code></pre>\n\n<p>You can also provide a file filter to specify which files you want to copy. There are more examples here:</p>\n\n<p><a href=\"http://javaxt.com/javaxt-core/io/Directory/Directory_Copy\" rel=\"nofollow\">http://javaxt.com/javaxt-core/io/Directory/Directory_Copy</a></p>\n"},{"tags":[],"owner":{"account_id":368447,"reputation":24110,"user_id":715269,"accept_rate":60,"display_name":"Gangnus"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1445616898,"creation_date":1445616898,"answer_id":33307025,"question_id":6214703,"body_markdown":"This is my piece of Groovy code for that. Tested. \t\r\n\r\n    private static void copyLargeDir(File dirFrom, File dirTo){\r\n\t\t// creation the target dir\r\n\t\tif (!dirTo.exists()){\r\n\t\t\tdirTo.mkdir();\r\n\t\t}\r\n\t\t// copying the daughter files\r\n\t\tdirFrom.eachFile(FILES){File source -&gt;\r\n\t\t\tFile target = new File(dirTo,source.getName());\r\n\t\t\ttarget.bytes = source.bytes;\r\n\t\t}\r\n\t\t// copying the daughter dirs - recursion\r\n\t\tdirFrom.eachFile(DIRECTORIES){File source -&gt;\r\n\t\t\tFile target = new File(dirTo,source.getName());\r\n\t\t\tcopyLargeDir(source, target)\r\n\t\t}\r\n\t}","title":"Copy entire directory contents to another directory?","body":"<p>This is my piece of Groovy code for that. Tested.   </p>\n\n<pre><code>private static void copyLargeDir(File dirFrom, File dirTo){\n    // creation the target dir\n    if (!dirTo.exists()){\n        dirTo.mkdir();\n    }\n    // copying the daughter files\n    dirFrom.eachFile(FILES){File source -&gt;\n        File target = new File(dirTo,source.getName());\n        target.bytes = source.bytes;\n    }\n    // copying the daughter dirs - recursion\n    dirFrom.eachFile(DIRECTORIES){File source -&gt;\n        File target = new File(dirTo,source.getName());\n        copyLargeDir(source, target)\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1409704,"reputation":2966,"user_id":1336558,"accept_rate":90,"display_name":"Mohit Kanwar"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1517904235,"creation_date":1450021795,"answer_id":34252946,"question_id":6214703,"body_markdown":"With coming in of Java NIO, below is a possible solution too\r\n\r\nWith Java 9:\r\n\r\n\tprivate static void copyDir(String src, String dest, boolean overwrite) {\r\n\t\ttry {\r\n\t\t\tFiles.walk(Paths.get(src)).forEach(a -&gt; {\r\n\t\t\t\tPath b = Paths.get(dest, a.toString().substring(src.length()));\r\n\t\t\t\ttry {\r\n\t\t\t\t\tif (!a.toString().equals(src))\r\n\t\t\t\t\t\tFiles.copy(a, b, overwrite ? new CopyOption[]{StandardCopyOption.REPLACE_EXISTING} : new CopyOption[]{});\r\n\t\t\t\t} catch (IOException e) {\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t} catch (IOException e) {\r\n\t\t\t//permission issue\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\r\nWith Java 7:\r\n\r\n    import java.io.IOException;\r\n    import java.nio.file.FileAlreadyExistsException;\r\n    import java.nio.file.Files;\r\n    import java.nio.file.Path;\r\n    import java.nio.file.Paths;\r\n    import java.util.function.Consumer;\r\n    import java.util.stream.Stream;\r\n    \r\n    public class Test {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tPath sourceParentFolder = Paths.get(&quot;/sourceParent&quot;);\r\n    \t\tPath destinationParentFolder = Paths.get(&quot;/destination/&quot;);\r\n    \r\n    \t\ttry {\r\n    \t\t\tStream&lt;Path&gt; allFilesPathStream = Files.walk(sourceParentFolder);\r\n    \t\t\tConsumer&lt;? super Path&gt; action = new Consumer&lt;Path&gt;(){\r\n    \r\n    \t\t\t\t@Override\r\n    \t\t\t\tpublic void accept(Path t) {\r\n    \t\t\t\t\ttry {\r\n    \t\t\t\t\t\tString destinationPath = t.toString().replaceAll(sourceParentFolder.toString(), destinationParentFolder.toString());\r\n    \t\t\t\t\t\tFiles.copy(t, Paths.get(destinationPath));\r\n    \t\t\t\t\t} \r\n    \t\t\t\t\tcatch(FileAlreadyExistsException e){\r\n    \t\t\t\t\t\t//TODO do acc to business needs\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\tcatch (IOException e) {\r\n    \t\t\t\t\t\t// TODO Auto-generated catch block\r\n    \t\t\t\t\t\te.printStackTrace();\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\t\r\n    \t\t\t\t}\r\n    \t\t\t\t\r\n    \t\t\t};\r\n    \t\t\tallFilesPathStream.forEach(action );\r\n    \t\t    \r\n    \t\t} catch(FileAlreadyExistsException e) {\r\n    \t\t    //file already exists and unable to copy\r\n    \t\t} catch (IOException e) {\r\n    \t\t    //permission issue\r\n    \t\t    e.printStackTrace();\r\n    \t\t}\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"Copy entire directory contents to another directory?","body":"<p>With coming in of Java NIO, below is a possible solution too</p>\n\n<p>With Java 9:</p>\n\n<pre><code>private static void copyDir(String src, String dest, boolean overwrite) {\n    try {\n        Files.walk(Paths.get(src)).forEach(a -&gt; {\n            Path b = Paths.get(dest, a.toString().substring(src.length()));\n            try {\n                if (!a.toString().equals(src))\n                    Files.copy(a, b, overwrite ? new CopyOption[]{StandardCopyOption.REPLACE_EXISTING} : new CopyOption[]{});\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        });\n    } catch (IOException e) {\n        //permission issue\n        e.printStackTrace();\n    }\n}\n</code></pre>\n\n<p>With Java 7:</p>\n\n<pre><code>import java.io.IOException;\nimport java.nio.file.FileAlreadyExistsException;\nimport java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.nio.file.Paths;\nimport java.util.function.Consumer;\nimport java.util.stream.Stream;\n\npublic class Test {\n\n    public static void main(String[] args) {\n        Path sourceParentFolder = Paths.get(\"/sourceParent\");\n        Path destinationParentFolder = Paths.get(\"/destination/\");\n\n        try {\n            Stream&lt;Path&gt; allFilesPathStream = Files.walk(sourceParentFolder);\n            Consumer&lt;? super Path&gt; action = new Consumer&lt;Path&gt;(){\n\n                @Override\n                public void accept(Path t) {\n                    try {\n                        String destinationPath = t.toString().replaceAll(sourceParentFolder.toString(), destinationParentFolder.toString());\n                        Files.copy(t, Paths.get(destinationPath));\n                    } \n                    catch(FileAlreadyExistsException e){\n                        //TODO do acc to business needs\n                    }\n                    catch (IOException e) {\n                        // TODO Auto-generated catch block\n                        e.printStackTrace();\n                    }\n\n                }\n\n            };\n            allFilesPathStream.forEach(action );\n\n        } catch(FileAlreadyExistsException e) {\n            //file already exists and unable to copy\n        } catch (IOException e) {\n            //permission issue\n            e.printStackTrace();\n        }\n\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":268304,"reputation":2474,"user_id":2311189,"accept_rate":96,"display_name":"Sanal MS"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":189931,"favorite_count":0,"down_vote_count":1,"up_vote_count":91,"closed_date":1452386318,"accepted_answer_id":6214736,"answer_count":10,"score":90,"last_activity_date":1674557066,"creation_date":1307018891,"question_id":6214703,"body_markdown":"Method to copy entire directory contents to another directory in java or groovy?","title":"Copy entire directory contents to another directory?","body":"<p>Method to copy entire directory contents to another directory in java or groovy?</p>\n"},{"tags":["java","maven","maven-2"],"comments":[{"owner":{"account_id":2705724,"reputation":2702,"user_id":5264558,"display_name":"Daniele"},"score":1,"creation_date":1526760589,"post_id":50429053,"comment_id":87872785,"body_markdown":"In a correct configuration, Maven would detect that it needs to build project B and project A in turn, and would use the version it just built to compile the second module. Are you using a parent POM? And are these two projects both modules of the same parent POM?","body":"In a correct configuration, Maven would detect that it needs to build project B and project A in turn, and would use the version it just built to compile the second module. Are you using a parent POM? And are these two projects both modules of the same parent POM?"}],"answers":[{"tags":[],"owner":{"account_id":7754374,"reputation":45,"user_id":6061000,"display_name":"Maarten van Heek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1551885311,"creation_date":1551885311,"answer_id":55026394,"question_id":50429053,"body_markdown":"I just ran into the same problem. Project B has a dependency on project A, and they both have a common parent P. `mvn clean package` (local) worked fine with different versions for P in each project.\r\n\r\nMy Jenkins build failed on the maven-compiler-plugin, even though the plugin version as well as java-source and target versions were the same in both versions of the parent POM. \r\n\r\nI fixed the build failure by updating both projects to the same version of the parent.","title":"Jenkins Maven compilation error cannot find symbol","body":"<p>I just ran into the same problem. Project B has a dependency on project A, and they both have a common parent P. <code>mvn clean package</code> (local) worked fine with different versions for P in each project.</p>\n\n<p>My Jenkins build failed on the maven-compiler-plugin, even though the plugin version as well as java-source and target versions were the same in both versions of the parent POM. </p>\n\n<p>I fixed the build failure by updating both projects to the same version of the parent.</p>\n"},{"tags":[],"owner":{"account_id":15518183,"reputation":1,"user_id":11195031,"display_name":"Meghna"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674556719,"creation_date":1674556719,"answer_id":75220295,"question_id":50429053,"body_markdown":"adding this in pom , worked for me\r\n\r\n     &lt;execution&gt;\r\n            &lt;id&gt;repackage&lt;/id&gt;\r\n            &lt;configuration&gt;\r\n              &lt;classifier&gt;exec&lt;/classifier&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/execution&gt;\r\n\r\n \r\n\r\n    ","title":"Jenkins Maven compilation error cannot find symbol","body":"<p>adding this in pom , worked for me</p>\n<pre><code> &lt;execution&gt;\n        &lt;id&gt;repackage&lt;/id&gt;\n        &lt;configuration&gt;\n          &lt;classifier&gt;exec&lt;/classifier&gt;\n        &lt;/configuration&gt;\n      &lt;/execution&gt;\n</code></pre>\n"}],"owner":{"account_id":10533771,"reputation":11,"user_id":7762319,"display_name":"Swathi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1585,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1674556719,"creation_date":1526760329,"question_id":50429053,"body_markdown":"Hello I know this is a basic question but please help me to understand and resolve the issue, as I have no clue what is happening.\r\n\r\n\r\nI have two projects lets say Project A and project B. Project A dependency is used Project B.\r\n\r\n\r\nScenario 1\r\nWhen I build project A, it is build successfully and related jar file is available in my local repo and project B is build successfully with the dependent jar file.\r\n\r\nScenario 2\r\nWhen I directly build Project B with the dependency of Project A in pom file I am getting compilation issues as the jar file is getting loaded from project repo.\r\n\r\nExpected dependency (jar file) is available in the .m2 repository with the specified version and if I extract the jar file I am able to see the implementation classes but that is not getting recognized by my project while doing maven build.\r\n\r\nThanks in advance!","title":"Jenkins Maven compilation error cannot find symbol","body":"<p>Hello I know this is a basic question but please help me to understand and resolve the issue, as I have no clue what is happening.</p>\n\n<p>I have two projects lets say Project A and project B. Project A dependency is used Project B.</p>\n\n<p>Scenario 1\nWhen I build project A, it is build successfully and related jar file is available in my local repo and project B is build successfully with the dependent jar file.</p>\n\n<p>Scenario 2\nWhen I directly build Project B with the dependency of Project A in pom file I am getting compilation issues as the jar file is getting loaded from project repo.</p>\n\n<p>Expected dependency (jar file) is available in the .m2 repository with the specified version and if I extract the jar file I am able to see the implementation classes but that is not getting recognized by my project while doing maven build.</p>\n\n<p>Thanks in advance!</p>\n"},{"tags":["java","android","linux","adb","keyevent"],"owner":{"account_id":21155135,"reputation":23,"user_id":15554580,"display_name":"basil_369"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1674556622,"creation_date":1674552308,"question_id":75219517,"body_markdown":"We have a remote screen sharing option in our android app for Android TV devices. We use OEM API to trigger some of the key and button events by passing the constants defined in the [android.view.KeyEvent](https://developer.android.com/reference/android/view/KeyEvent) class. This works for number keys and cursor keys in keyboard but the KeyEvent constants for alphabets are limited to only uppercase letters, like **KEYCODE_A for &#39;A&#39; key**. There are no constants for smallercase letters.\r\n\r\nTried using input text command. It works in the shell but doesn&#39;t work in the app - \r\n\r\n\r\n```\r\nString keyCommand = &quot;input text &quot; + character;\r\n            Runtime runtime = Runtime.getRuntime();\r\n            Process proc = runtime.exec(keyCommand);\r\n            int waitFor = proc.waitFor();\r\n```\r\nExit value returned is 1.\r\n\r\nIs there any other way to process the Uppercase and lowercase letters events received from a Keyboard?\r\n\r\nEdit: We are not using the KeyEvent class methods or constants directly as the input is not from a physical keyboard but from the keyboard of the PC in which the remote screen is viewed. Only the KeyEvent constant values are passed to OEM API for triggering the key/button.","title":"How to use PC keyboard during Remote Screen Sharing using Android app?","body":"<p>We have a remote screen sharing option in our android app for Android TV devices. We use OEM API to trigger some of the key and button events by passing the constants defined in the <a href=\"https://developer.android.com/reference/android/view/KeyEvent\" rel=\"nofollow noreferrer\">android.view.KeyEvent</a> class. This works for number keys and cursor keys in keyboard but the KeyEvent constants for alphabets are limited to only uppercase letters, like <strong>KEYCODE_A for 'A' key</strong>. There are no constants for smallercase letters.</p>\n<p>Tried using input text command. It works in the shell but doesn't work in the app -</p>\n<pre><code>String keyCommand = &quot;input text &quot; + character;\n            Runtime runtime = Runtime.getRuntime();\n            Process proc = runtime.exec(keyCommand);\n            int waitFor = proc.waitFor();\n</code></pre>\n<p>Exit value returned is 1.</p>\n<p>Is there any other way to process the Uppercase and lowercase letters events received from a Keyboard?</p>\n<p>Edit: We are not using the KeyEvent class methods or constants directly as the input is not from a physical keyboard but from the keyboard of the PC in which the remote screen is viewed. Only the KeyEvent constant values are passed to OEM API for triggering the key/button.</p>\n"},{"tags":["java","swing","events","jlabel","mousemotionlistener"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1462879854,"post_id":37136846,"comment_id":61813155,"body_markdown":"`MouseEvent#getSource`?","body":"<code>MouseEvent#getSource</code>?"},{"owner":{"account_id":5342649,"reputation":47,"user_id":4259165,"accept_rate":80,"display_name":"Rory Thoman"},"score":0,"creation_date":1462888272,"post_id":37136846,"comment_id":61819761,"body_markdown":"getSource gets the JPanel which called it, it would work for manipulating the JPanel. but to call a different event based on what JPanel was clicked wouldn&#39;t work sorry.","body":"getSource gets the JPanel which called it, it would work for manipulating the JPanel. but to call a different event based on what JPanel was clicked wouldn&#39;t work sorry."},{"owner":{"account_id":5342649,"reputation":47,"user_id":4259165,"accept_rate":80,"display_name":"Rory Thoman"},"score":0,"creation_date":1462889131,"post_id":37136846,"comment_id":61820380,"body_markdown":"unless it&#39;s possible to identify a JPanel I can check the event on","body":"unless it&#39;s possible to identify a JPanel I can check the event on"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1462893560,"post_id":37136846,"comment_id":61823730,"body_markdown":"`Is is possible to have a global mouse motion listener that has different effects depending on what JPanel is clicked` - yes but don&#39;t do it. A listener should only have one function. In general, when you have if/else logic in a listener you should be using a separate listener. The is a better design that is easier to maintain.","body":"<code>Is is possible to have a global mouse motion listener that has different effects depending on what JPanel is clicked</code> - yes but don&#39;t do it. A listener should only have one function. In general, when you have if/else logic in a listener you should be using a separate listener. The is a better design that is easier to maintain."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1462893767,"post_id":37136846,"comment_id":61823885,"body_markdown":"The only time you should share listeners is when the code is essentially the same for multiple components. Check out http://stackoverflow.com/questions/23375276/attaching-a-single-action-listener-to-all-buttons/23375436#23375436 for an example of this approach. The example uses an ActionListener not a MouseListener, but the concept is the same.","body":"The only time you should share listeners is when the code is essentially the same for multiple components. Check out <a href=\"http://stackoverflow.com/questions/23375276/attaching-a-single-action-listener-to-all-buttons/23375436#23375436\" title=\"attaching a single action listener to all buttons\">stackoverflow.com/questions/23375276/&hellip;</a> for an example of this approach. The example uses an ActionListener not a MouseListener, but the concept is the same."},{"owner":{"account_id":5342649,"reputation":47,"user_id":4259165,"accept_rate":80,"display_name":"Rory Thoman"},"score":0,"creation_date":1462894079,"post_id":37136846,"comment_id":61824106,"body_markdown":"yea I definitely do think this is the proper approach and I will end up doing that. however working with a professor he accidentally said to do this in an assessment and that got me thinking. is it actually possible? and how?","body":"yea I definitely do think this is the proper approach and I will end up doing that. however working with a professor he accidentally said to do this in an assessment and that got me thinking. is it actually possible? and how?"}],"answers":[{"tags":[],"owner":{"account_id":3886686,"reputation":356,"user_id":3217863,"accept_rate":50,"display_name":"Yash Capoor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1462880270,"creation_date":1462880270,"answer_id":37137418,"question_id":37136846,"body_markdown":"I&#39;m not sure if this is the best way to do it, but I just tested it and it does work, at least as far as my code tests it. Find which box the mouse is over when it&#39;s pressed and do stuff accordingly.\r\n\r\n    public static void main(String[] args) {\r\n\t\tJFrame main = new JFrame(&quot;test&quot;);\r\n\t\tJPanel first = new JPanel();\r\n\t\tJPanel second = new JPanel();\r\n\t\tfirst.setSize(400, 500);\r\n\t\tfirst.setBackground(Color.BLUE);\r\n\t\tsecond.setBackground(Color.RED);\r\n\t\tsecond.setSize(400,500);\r\n\t\tmain.setSize(800, 500);\r\n\t\tmain.add(first);\r\n\t\tfirst.setLocation(0,0);\r\n\t\tsecond.setLocation(400, 500);\r\n\t\tmain.add(second);\r\n\t\tmain.pack();\r\n\t\tmain.setVisible(true);\r\n\t\tmain.setSize(800, 500);\r\n\t\tmain.addMouseListener(new MouseListener() {\r\n\t\t\t\r\n\t\t\t@Override\r\n\t\t\tpublic void mousePressed(MouseEvent e) {\r\n\t\t\t\tif(first.getBounds().contains(new Point(e.getX(), e.getY())))\r\n\t\t\t\t{\r\n\t\t\t\t\tSystem.out.println(&quot;first box&quot;);\r\n\t\t\t\t}else if(second.getBounds().contains(new Point(e.getX(), e.getY())))\r\n\t\t\t\t{\r\n\t\t\t\t\tSystem.out.println(&quot;Second box&quot;);\r\n\t\t\t\t}\r\n\t\t\t}\r\n        });\r\n    }","title":"Mouse Listener Event for different JPanels","body":"<p>I'm not sure if this is the best way to do it, but I just tested it and it does work, at least as far as my code tests it. Find which box the mouse is over when it's pressed and do stuff accordingly.</p>\n\n<pre><code>public static void main(String[] args) {\n    JFrame main = new JFrame(\"test\");\n    JPanel first = new JPanel();\n    JPanel second = new JPanel();\n    first.setSize(400, 500);\n    first.setBackground(Color.BLUE);\n    second.setBackground(Color.RED);\n    second.setSize(400,500);\n    main.setSize(800, 500);\n    main.add(first);\n    first.setLocation(0,0);\n    second.setLocation(400, 500);\n    main.add(second);\n    main.pack();\n    main.setVisible(true);\n    main.setSize(800, 500);\n    main.addMouseListener(new MouseListener() {\n\n        @Override\n        public void mousePressed(MouseEvent e) {\n            if(first.getBounds().contains(new Point(e.getX(), e.getY())))\n            {\n                System.out.println(\"first box\");\n            }else if(second.getBounds().contains(new Point(e.getX(), e.getY())))\n            {\n                System.out.println(\"Second box\");\n            }\n        }\n    });\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3614323,"reputation":2724,"user_id":3408531,"accept_rate":56,"display_name":"TiyebM"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1462962121,"creation_date":1462892214,"answer_id":37142171,"question_id":37136846,"body_markdown":"\r\n**EDIT 2**\r\n\r\nThis should be your answer, I noticed on debugging that when I click on empty area on the frame I get a component with the name `&quot;null.contentPane&quot;` so I put it in the condition and it worked!, I hope I helped.\r\n\r\n\r\n    public class PanelsListener extends JFrame {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tPanelsListener pl = new PanelsListener();\r\n\t\tpl.setSize(700, 700);\r\n\t\tpl.setLayout(new FlowLayout());\r\n\t\tJPanel fp = new JPanel();\r\n\r\n\t\tfp.setName(&quot;First&quot;);\r\n\t\tfp.setSize(200, 200);\r\n\t\tfp.setBorder(new LineBorder(Color.red));\r\n\t\tJPanel sp = new JPanel();\r\n\t\tsp.setName(&quot;Second&quot;);\r\n\t\tsp.setSize(200, 200);\r\n\t\tsp.setBorder(new LineBorder(Color.blue));\r\n\t\tpl.add(fp);\r\n\t\tpl.add(sp);\r\n\r\n\t\tpl.addMouseListener(new MouseListener() {\r\n\t\t\t@Override\r\n\t\t\tpublic void mouseClicked(MouseEvent e) {\r\n\t\t\t\tJPanel pnl = (JPanel) javax.swing.SwingUtilities\r\n\t\t\t\t\t\t.getDeepestComponentAt((PanelsListener) e.getSource(),\r\n\t\t\t\t\t\t\t\te.getX(), e.getY());\r\n\t\t\t\tif (pnl != null &amp;&amp; (!pnl.getName().equals(&quot;null.contentPane&quot;))) {\r\n\t\t\t\t\tString name = pnl.getName();\r\n\t\t\t\t\tif (name != null) {\r\n\t\t\t\t\t\tif (name.equals(&quot;First&quot;)) {\r\n\t\t\t\t\t\t\tpl.setSize(500, 500);\r\n\t\t\t\t\t\t} else if (name.equals(&quot;Second&quot;)) {\r\n\t\t\t\t\t\t\tpl.setSize(800, 800);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tpl.repaint();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void mouseEntered(MouseEvent e) {\r\n\t\t\t\t// TODO Auto-generated method stub\r\n\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void mouseExited(MouseEvent e) {\r\n\t\t\t\t// TODO Auto-generated method stub\r\n\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void mousePressed(MouseEvent e) {\r\n\t\t\t\t// TODO Auto-generated method stub\r\n\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void mouseReleased(MouseEvent e) {\r\n\t\t\t\t// TODO Auto-generated method stub\r\n\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tpl.setVisible(true);\r\n\t}\r\n\r\n    }\r\n\r\n\r\n\r\n**EDIT 1**\r\n\r\n\r\nAs I understand from your comment, try instead the following:\r\n\r\n    public class PanelsListener extends JFrame{\r\n\r\n    public static int  panel_identifier=0;\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tPanelsListener pl = new PanelsListener();\r\n\t\tpl.setSize(700, 700);\r\n\t\tpl.setLayout(new FlowLayout());\r\n\t\tJPanel fp=new JPanel();\r\n\t\tfp.setSize(200,200);\r\n\t\tfp.setBorder(new LineBorder(Color.red));\r\n\t\tJPanel sp=new JPanel();\r\n\t\tsp.setSize(200,200);\r\n\t\tsp.setBorder(new LineBorder(Color.blue));\r\n\t\t\r\n\t\tpl.add(fp);\r\n\t\tpl.add(sp);\r\n\t\t\r\n\t\t//panel_identifier is used to specify which panel has been clicked.\r\n\t\t\r\n\t\tfp.addMouseListener(new MouseAdapter() {\r\n\t\t    @Override\r\n\t\t    public void mouseClicked(MouseEvent me) {\r\n\t\t       pl.panel_identifier=1;\r\n\t\t       pl.mouseClicked(me);\r\n\t\t    }\r\n\t\t});\r\n\t\tsp.addMouseListener(new MouseAdapter() {\r\n\t\t    @Override\r\n\t\t    public void mouseClicked(MouseEvent me) {\r\n\t\t    \tpl.panel_identifier=2;\r\n\t\t    \t pl.mouseClicked(me);\r\n\t\t    }\r\n\t\t});\r\n\t\t\r\n\t\tpl.setVisible(true);\r\n\t}\r\n\tprotected void mouseClicked(MouseEvent me) {\r\n\t\tif(panel_identifier==1)\r\n\t\t{\r\n\t\t\tthis.setSize(500, 500);\r\n\t\t\tpanel_identifier=0;\r\n\t\t}\r\n\t\telse if(panel_identifier==2)\r\n\t\t{\r\n\t\t\tthis.setSize(800, 800);\r\n\t\t\tpanel_identifier=0;\r\n\t\t}\r\n\t\t\r\n\t}\r\n\t}\r\n\r\n\r\n    \r\n\r\n**Normal Solution**\r\n\r\npublic class PanelsListener extends JFrame {\r\n\r\n  \tpublic static void main(String[] args) {\r\n\t\tPanelsListener pl = new PanelsListener();\r\n\t\tpl.setSize(700, 700);\r\n\t\tpl.setLayout(new FlowLayout());\r\n\t\tpl.add(new FirstPanel(pl));\r\n\t\tpl.add(new SecondPanel(pl));\r\n\t\tpl.setVisible(true);\r\n\t}\r\n    }\r\n\r\n    class FirstPanel extends JPanel {\r\n\r\n\tpublic FirstPanel(Frame frm) {\r\n\t\tsetBorder(new LineBorder(Color.red));\r\n\t\tsetSize(200, 200);\r\n\t\taddMouseListener(new MouseAdapter() {\r\n\t\t\t@Override\r\n\t\t\tpublic void mouseClicked(MouseEvent e) {\r\n\t\t\t\tfrm.setSize(500, 500);\r\n\t\t\t\tfrm.repaint();\r\n\t\t\t}\r\n\t\t});\r\n\t\taddMouseMotionListener(new MouseAdapter() {\r\n\t\t\t@Override\r\n\t\t\tpublic void mouseDragged(MouseEvent e) {\r\n\t\t\t\t// do some action when mouse dragged over this panel\r\n\t\t\t}\r\n\t\t});\r\n\t }\r\n     }\r\n\r\n     class SecondPanel extends JPanel {\r\n\r\n\t public SecondPanel(Frame frm) {\r\n\t\tsetBorder(new LineBorder(Color.blue));\r\n\t\tsetSize(200, 200);\r\n\t\t addMouseListener(new MouseAdapter() {\r\n\t\t @Override\r\n\t\t public void mouseClicked(MouseEvent e) {\r\n\t\t frm.setSize(800,800);\r\n\t\t frm.repaint();\r\n\t\t }\r\n\t\t });\r\n\r\n\t\taddMouseMotionListener(new MouseAdapter() {\r\n\t\t\t@Override\r\n\t\t\tpublic void mouseDragged(MouseEvent e) {\r\n\t\t\t\t// do some action when mouse dragged over this panel\r\n\t\t\t}\r\n\t\t});\r\n\t }\r\n     }\r\n","title":"Mouse Listener Event for different JPanels","body":"<p><strong>EDIT 2</strong></p>\n\n<p>This should be your answer, I noticed on debugging that when I click on empty area on the frame I get a component with the name <code>\"null.contentPane\"</code> so I put it in the condition and it worked!, I hope I helped.</p>\n\n<pre><code>public class PanelsListener extends JFrame {\n\npublic static void main(String[] args) {\n    PanelsListener pl = new PanelsListener();\n    pl.setSize(700, 700);\n    pl.setLayout(new FlowLayout());\n    JPanel fp = new JPanel();\n\n    fp.setName(\"First\");\n    fp.setSize(200, 200);\n    fp.setBorder(new LineBorder(Color.red));\n    JPanel sp = new JPanel();\n    sp.setName(\"Second\");\n    sp.setSize(200, 200);\n    sp.setBorder(new LineBorder(Color.blue));\n    pl.add(fp);\n    pl.add(sp);\n\n    pl.addMouseListener(new MouseListener() {\n        @Override\n        public void mouseClicked(MouseEvent e) {\n            JPanel pnl = (JPanel) javax.swing.SwingUtilities\n                    .getDeepestComponentAt((PanelsListener) e.getSource(),\n                            e.getX(), e.getY());\n            if (pnl != null &amp;&amp; (!pnl.getName().equals(\"null.contentPane\"))) {\n                String name = pnl.getName();\n                if (name != null) {\n                    if (name.equals(\"First\")) {\n                        pl.setSize(500, 500);\n                    } else if (name.equals(\"Second\")) {\n                        pl.setSize(800, 800);\n                    }\n                    pl.repaint();\n                }\n            }\n\n        }\n\n        @Override\n        public void mouseEntered(MouseEvent e) {\n            // TODO Auto-generated method stub\n\n        }\n\n        @Override\n        public void mouseExited(MouseEvent e) {\n            // TODO Auto-generated method stub\n\n        }\n\n        @Override\n        public void mousePressed(MouseEvent e) {\n            // TODO Auto-generated method stub\n\n        }\n\n        @Override\n        public void mouseReleased(MouseEvent e) {\n            // TODO Auto-generated method stub\n\n        }\n    });\n\n    pl.setVisible(true);\n}\n\n}\n</code></pre>\n\n<p><strong>EDIT 1</strong></p>\n\n<p>As I understand from your comment, try instead the following:</p>\n\n<pre><code>public class PanelsListener extends JFrame{\n\npublic static int  panel_identifier=0;\n\npublic static void main(String[] args) {\n    PanelsListener pl = new PanelsListener();\n    pl.setSize(700, 700);\n    pl.setLayout(new FlowLayout());\n    JPanel fp=new JPanel();\n    fp.setSize(200,200);\n    fp.setBorder(new LineBorder(Color.red));\n    JPanel sp=new JPanel();\n    sp.setSize(200,200);\n    sp.setBorder(new LineBorder(Color.blue));\n\n    pl.add(fp);\n    pl.add(sp);\n\n    //panel_identifier is used to specify which panel has been clicked.\n\n    fp.addMouseListener(new MouseAdapter() {\n        @Override\n        public void mouseClicked(MouseEvent me) {\n           pl.panel_identifier=1;\n           pl.mouseClicked(me);\n        }\n    });\n    sp.addMouseListener(new MouseAdapter() {\n        @Override\n        public void mouseClicked(MouseEvent me) {\n            pl.panel_identifier=2;\n             pl.mouseClicked(me);\n        }\n    });\n\n    pl.setVisible(true);\n}\nprotected void mouseClicked(MouseEvent me) {\n    if(panel_identifier==1)\n    {\n        this.setSize(500, 500);\n        panel_identifier=0;\n    }\n    else if(panel_identifier==2)\n    {\n        this.setSize(800, 800);\n        panel_identifier=0;\n    }\n\n}\n}\n</code></pre>\n\n<p><strong>Normal Solution</strong></p>\n\n<p>public class PanelsListener extends JFrame {</p>\n\n<pre><code>public static void main(String[] args) {\n    PanelsListener pl = new PanelsListener();\n    pl.setSize(700, 700);\n    pl.setLayout(new FlowLayout());\n    pl.add(new FirstPanel(pl));\n    pl.add(new SecondPanel(pl));\n    pl.setVisible(true);\n}\n}\n\nclass FirstPanel extends JPanel {\n\npublic FirstPanel(Frame frm) {\n    setBorder(new LineBorder(Color.red));\n    setSize(200, 200);\n    addMouseListener(new MouseAdapter() {\n        @Override\n        public void mouseClicked(MouseEvent e) {\n            frm.setSize(500, 500);\n            frm.repaint();\n        }\n    });\n    addMouseMotionListener(new MouseAdapter() {\n        @Override\n        public void mouseDragged(MouseEvent e) {\n            // do some action when mouse dragged over this panel\n        }\n    });\n }\n }\n\n class SecondPanel extends JPanel {\n\n public SecondPanel(Frame frm) {\n    setBorder(new LineBorder(Color.blue));\n    setSize(200, 200);\n     addMouseListener(new MouseAdapter() {\n     @Override\n     public void mouseClicked(MouseEvent e) {\n     frm.setSize(800,800);\n     frm.repaint();\n     }\n     });\n\n    addMouseMotionListener(new MouseAdapter() {\n        @Override\n        public void mouseDragged(MouseEvent e) {\n            // do some action when mouse dragged over this panel\n        }\n    });\n }\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1674556346,"creation_date":1462913575,"answer_id":37148769,"question_id":37136846,"body_markdown":"First of all, a &quot;global&quot; listener, that does different things for different components, is a bad idea, it places too much logic into a single place, couples the code and becomes a maintenance nightmare.\r\n\r\nHaving said that, you could use a single `MouseListener` added to each component, for example...\r\n\r\n\timport java.awt.Color;\r\n\timport java.awt.Dimension;\r\n\timport java.awt.EventQueue;\r\n\timport java.awt.GridLayout;\r\n\timport java.awt.event.MouseAdapter;\r\n\timport java.awt.event.MouseEvent;\r\n\timport java.awt.event.MouseListener;\r\n\timport javax.swing.JFrame;\r\n\timport javax.swing.JPanel;\r\n\timport javax.swing.UIManager;\r\n\timport javax.swing.UnsupportedLookAndFeelException;\r\n\r\n\tpublic class Test {\r\n\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tnew Test();\r\n\t\t}\r\n\r\n\t\tpublic Test() {\r\n\t\t\tEventQueue.invokeLater(new Runnable() {\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic void run() {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tUIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\r\n\t\t\t\t\t} catch (ClassNotFoundException | InstantiationException | IllegalAccessException | UnsupportedLookAndFeelException ex) {\r\n\t\t\t\t\t\tex.printStackTrace();\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tJPanel left = new TestPane();\r\n\t\t\t\t\tJPanel right = new TestPane();\r\n\r\n\t\t\t\t\tleft.setBackground(Color.RED);\r\n\t\t\t\t\tright.setBackground(Color.BLUE);\r\n\r\n\t\t\t\t\tleft.setName(&quot;left&quot;);\r\n\t\t\t\t\tright.setName(&quot;right&quot;);\r\n\r\n\t\t\t\t\tMouseListener listener = new MouseAdapter() {\r\n\t\t\t\t\t\t@Override\r\n\t\t\t\t\t\tpublic void mouseClicked(MouseEvent e) {\r\n\t\t\t\t\t\t\tSystem.out.println(((JPanel)e.getSource()).getName());\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t\tleft.addMouseListener(listener);\r\n\t\t\t\t\tright.addMouseListener(listener);\r\n\r\n\t\t\t\t\tJFrame frame = new JFrame(&quot;Testing&quot;);\r\n\t\t\t\t\tframe.setLayout(new GridLayout(0, 2));\r\n\t\t\t\t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\t\t\t\tframe.add(left);\r\n\t\t\t\t\tframe.add(right);\r\n\t\t\t\t\tframe.pack();\r\n\t\t\t\t\tframe.setLocationRelativeTo(null);\r\n\t\t\t\t\tframe.setVisible(true);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tpublic class TestPane extends JPanel {\r\n\r\n\t\t\tpublic TestPane() {\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic Dimension getPreferredSize() {\r\n\t\t\t\treturn new Dimension(200, 200);\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\nThen you could simple use `MouseEvent#getSource` to determine which component triggered the event. For simplicity, I&#39;ve supplied a `name` for each panel and displayed that, I would use some other way to identify the component before making a decision about what to do.\r\n\r\nThe better solution would be to provide a specific `MouseListener` which did a specific job to the each panel as required, this becomes much easier to manage, isolates responsibility, decouples the code and becomes easier to maintain and manage","title":"Mouse Listener Event for different JPanels","body":"<p>First of all, a &quot;global&quot; listener, that does different things for different components, is a bad idea, it places too much logic into a single place, couples the code and becomes a maintenance nightmare.</p>\n<p>Having said that, you could use a single <code>MouseListener</code> added to each component, for example...</p>\n<pre><code>import java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.GridLayout;\nimport java.awt.event.MouseAdapter;\nimport java.awt.event.MouseEvent;\nimport java.awt.event.MouseListener;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.UIManager;\nimport javax.swing.UnsupportedLookAndFeelException;\n\npublic class Test {\n\n    public static void main(String[] args) {\n        new Test();\n    }\n\n    public Test() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                try {\n                    UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\n                } catch (ClassNotFoundException | InstantiationException | IllegalAccessException | UnsupportedLookAndFeelException ex) {\n                    ex.printStackTrace();\n                }\n\n                JPanel left = new TestPane();\n                JPanel right = new TestPane();\n\n                left.setBackground(Color.RED);\n                right.setBackground(Color.BLUE);\n\n                left.setName(&quot;left&quot;);\n                right.setName(&quot;right&quot;);\n\n                MouseListener listener = new MouseAdapter() {\n                    @Override\n                    public void mouseClicked(MouseEvent e) {\n                        System.out.println(((JPanel)e.getSource()).getName());\n                    }\n                };\n\n                left.addMouseListener(listener);\n                right.addMouseListener(listener);\n\n                JFrame frame = new JFrame(&quot;Testing&quot;);\n                frame.setLayout(new GridLayout(0, 2));\n                frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n                frame.add(left);\n                frame.add(right);\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class TestPane extends JPanel {\n\n        public TestPane() {\n        }\n\n        @Override\n        public Dimension getPreferredSize() {\n            return new Dimension(200, 200);\n        }\n\n    }\n\n}\n</code></pre>\n<p>Then you could simple use <code>MouseEvent#getSource</code> to determine which component triggered the event. For simplicity, I've supplied a <code>name</code> for each panel and displayed that, I would use some other way to identify the component before making a decision about what to do.</p>\n<p>The better solution would be to provide a specific <code>MouseListener</code> which did a specific job to the each panel as required, this becomes much easier to manage, isolates responsibility, decouples the code and becomes easier to maintain and manage</p>\n"}],"owner":{"account_id":5342649,"reputation":47,"user_id":4259165,"accept_rate":80,"display_name":"Rory Thoman"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3435,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":37148769,"answer_count":3,"score":2,"last_activity_date":1674556346,"creation_date":1462878649,"question_id":37136846,"body_markdown":"Is is possible to have a global mouse motion listener that has different effects depending on what JPanel is clicked (with only using one mouse motion listener)? \r\n\r\nFor example: I have a JFrame with two added JPanels and a mouse motion listener added to the JFrame. I want the screen to resize when I click on one JPanel, but I want the JFrame to be dragged around when I click the other. I think this can be done using JLabels using the text of the JLabel to check against, same with a JButton.\r\n\r\nEDIT: yes this is definitly not the proper way to do things but just wondering if it is possible, if so, how?\r\n\r\nEDIT: Just to make things a bit more clearer, I have one class that extends ActionListener, MouseMotionListener, MouseListener. is it possible to have this one class handle all events of a JFrame that has lots of different JPanels attached to it and do something different based off of which JPanel was pressed? (such as having an ID attached to JPanels that I can compare the event.getSource() with)","title":"Mouse Listener Event for different JPanels","body":"<p>Is is possible to have a global mouse motion listener that has different effects depending on what JPanel is clicked (with only using one mouse motion listener)? </p>\n\n<p>For example: I have a JFrame with two added JPanels and a mouse motion listener added to the JFrame. I want the screen to resize when I click on one JPanel, but I want the JFrame to be dragged around when I click the other. I think this can be done using JLabels using the text of the JLabel to check against, same with a JButton.</p>\n\n<p>EDIT: yes this is definitly not the proper way to do things but just wondering if it is possible, if so, how?</p>\n\n<p>EDIT: Just to make things a bit more clearer, I have one class that extends ActionListener, MouseMotionListener, MouseListener. is it possible to have this one class handle all events of a JFrame that has lots of different JPanels attached to it and do something different based off of which JPanel was pressed? (such as having an ID attached to JPanels that I can compare the event.getSource() with)</p>\n"},{"tags":["java","sorting","filenames","file-handling","comparator"],"comments":[{"owner":{"account_id":732315,"reputation":4996,"user_id":681444,"display_name":"racraman"},"score":1,"creation_date":1674553923,"post_id":75219596,"comment_id":132733367,"body_markdown":"So you extract the 22.3 and 22.9 into floats n1 and n2 - but then you do `int val = (int)n2 - (int)n1;`, casting them to ints for the comparison, so discarding the numbers after the `.` point !  Leave them as floats for the comparison - or better, extract the 2 numbers individually (eg the 22 and the 3) for the comparison - after all, I’m guessing you will actually want 22.11 to register as a greater number than 22.5","body":"So you extract the 22.3 and 22.9 into floats n1 and n2 - but then you do <code>int val = (int)n2 - (int)n1;</code>, casting them to ints for the comparison, so discarding the numbers after the <code>.</code> point !  Leave them as floats for the comparison - or better, extract the 2 numbers individually (eg the 22 and the 3) for the comparison - after all, I’m guessing you will actually want 22.11 to register as a greater number than 22.5"},{"owner":{"account_id":13252051,"reputation":1635,"user_id":9569292,"display_name":"Thomas Timbul"},"score":0,"creation_date":1674662175,"post_id":75219596,"comment_id":132763192,"body_markdown":"There are various 3rd party libraries that deal with semantic versioning, including maven-artifact, gradle, and semver4j, just as examples. While you can roll your own, using one of these may save you from inoccuous mistakes such as the int comparison spotted by @racraman. Have a look at https://www.baeldung.com/java-comparing-versions for further inspiration.","body":"There are various 3rd party libraries that deal with semantic versioning, including maven-artifact, gradle, and semver4j, just as examples. While you can roll your own, using one of these may save you from inoccuous mistakes such as the int comparison spotted by @racraman. Have a look at <a href=\"https://www.baeldung.com/java-comparing-versions\" rel=\"nofollow noreferrer\">baeldung.com/java-comparing-versions</a> for further inspiration."}],"answers":[{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674556331,"creation_date":1674556331,"answer_id":75220229,"question_id":75219596,"body_markdown":"The problem comes from the fact that you compare decimal numbers. In the scope of decimals `0.12 &lt; 0.3`, because `0.3 = 0.30`. But you want to compare decimal part as an integers, where `12 &gt; 3`. To achieve this you need to first compare integer parts, and then decimal parts.\r\n\r\nYou can represent this as custom class:\r\n```\r\nclass MyDecimal {\r\n\r\n  private final int integerPart;\r\n  private final int decimalPart;\r\n\r\n  //constructor and getters\r\n}\r\n```\r\nIf you are using java 14 or above, record is even better.\r\n\r\nSimplified example:\r\n```\r\npublic class Test {\r\n\r\n  public static void main(String[] args) {\r\n    File[] fileNames = new File[]{new File(&quot;Release_Notes_CNV_23.5.pdf&quot;),\r\n            new File(&quot;Release_Notes_CNV_22.12.pdf&quot;),\r\n            new File(&quot;Release_Notes_CNV_22.3.pdf&quot;),\r\n            new File(&quot;Release_Notes_CNV_22.9.pdf&quot;)};\r\n\r\n    Arrays.sort(fileNames, new Comparator&lt;&gt;() {\r\n      @Override\r\n      public int compare(File o1, File o2) {\r\n        MyDecimal n1 = extractNumber(o1.getName());\r\n        MyDecimal n2 = extractNumber(o2.getName());\r\n        //integer part first in reverse order\r\n        int result = Integer.compare(n2.getIntegerPart(), n1.getIntegerPart());\r\n        if (result != 0) {\r\n          return result;\r\n        }\r\n        //decimal part second, if integer parts were equal\r\n        return Integer.compare(n2.getDecimalPart(), n1.getDecimalPart());\r\n      }\r\n\r\n      private MyDecimal extractNumber(String name) {\r\n        try {\r\n          int s = name.lastIndexOf(&#39;_&#39;) + 1;\r\n          int e = name.lastIndexOf(&#39;.&#39;);\r\n          String number = name.substring(s, e);\r\n          String[] parts = number.split(&quot;\\\\.&quot;);\r\n          return new MyDecimal(Integer.parseInt(parts[0]), Integer.parseInt(parts[1]));\r\n        } catch (Exception e) {\r\n          return new MyDecimal(0, 0);\r\n        }\r\n      }\r\n    });\r\n\r\n    System.out.println(Arrays.toString(fileNames));\r\n  }\r\n}\r\n```\r\nPrints - `[Release_Notes_CNV_23.5.pdf, Release_Notes_CNV_22.12.pdf, Release_Notes_CNV_22.9.pdf, Release_Notes_CNV_22.3.pdf]`.","title":"Java: Sort files in a folder in reverse semantic order","body":"<p>The problem comes from the fact that you compare decimal numbers. In the scope of decimals <code>0.12 &lt; 0.3</code>, because <code>0.3 = 0.30</code>. But you want to compare decimal part as an integers, where <code>12 &gt; 3</code>. To achieve this you need to first compare integer parts, and then decimal parts.</p>\n<p>You can represent this as custom class:</p>\n<pre><code>class MyDecimal {\n\n  private final int integerPart;\n  private final int decimalPart;\n\n  //constructor and getters\n}\n</code></pre>\n<p>If you are using java 14 or above, record is even better.</p>\n<p>Simplified example:</p>\n<pre><code>public class Test {\n\n  public static void main(String[] args) {\n    File[] fileNames = new File[]{new File(&quot;Release_Notes_CNV_23.5.pdf&quot;),\n            new File(&quot;Release_Notes_CNV_22.12.pdf&quot;),\n            new File(&quot;Release_Notes_CNV_22.3.pdf&quot;),\n            new File(&quot;Release_Notes_CNV_22.9.pdf&quot;)};\n\n    Arrays.sort(fileNames, new Comparator&lt;&gt;() {\n      @Override\n      public int compare(File o1, File o2) {\n        MyDecimal n1 = extractNumber(o1.getName());\n        MyDecimal n2 = extractNumber(o2.getName());\n        //integer part first in reverse order\n        int result = Integer.compare(n2.getIntegerPart(), n1.getIntegerPart());\n        if (result != 0) {\n          return result;\n        }\n        //decimal part second, if integer parts were equal\n        return Integer.compare(n2.getDecimalPart(), n1.getDecimalPart());\n      }\n\n      private MyDecimal extractNumber(String name) {\n        try {\n          int s = name.lastIndexOf('_') + 1;\n          int e = name.lastIndexOf('.');\n          String number = name.substring(s, e);\n          String[] parts = number.split(&quot;\\\\.&quot;);\n          return new MyDecimal(Integer.parseInt(parts[0]), Integer.parseInt(parts[1]));\n        } catch (Exception e) {\n          return new MyDecimal(0, 0);\n        }\n      }\n    });\n\n    System.out.println(Arrays.toString(fileNames));\n  }\n}\n</code></pre>\n<p>Prints - <code>[Release_Notes_CNV_23.5.pdf, Release_Notes_CNV_22.12.pdf, Release_Notes_CNV_22.9.pdf, Release_Notes_CNV_22.3.pdf]</code>.</p>\n"}],"owner":{"account_id":27452089,"reputation":29,"user_id":20944153,"display_name":"Vansh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674556331,"creation_date":1674552845,"question_id":75219596,"body_markdown":"I have a set of pdf files that I&#39;m supposed to sort in reverse semantic order. The files are:\r\n\r\n* Release_Notes_CNV_22.3.pdf\r\n* Release_Notes_CNV_22.9.pdf\r\n* Release_Notes_CNV_22.12.pdf\r\n* Release_Notes_CNV_23.5.pdf\r\n\r\nI have the following code to sort them. Unfortunately, the 22.3 file appears after 22.9. Can someone please tell me where I&#39;m going wrong. A little help would be appreciated :D\r\n\r\nThe order I&#39;m getting is:\r\n\r\n* Release_Notes_CNV_23.5.pdf\r\n* Release_Notes_CNV_22.12.pdf\r\n* **Release_Notes_CNV_22.3.pdf** // 22.3 appearing before 22.9\r\n* **Release_Notes_CNV_22.9.pdf**\r\n\r\nThe correct order should be:\r\n\r\n* Release_Notes_CNV_23.5.pdf\r\n* Release_Notes_CNV_22.12.pdf\r\n* **Release_Notes_CNV_22.9.pdf**\r\n* **Release_Notes_CNV_22.3.pdf**\r\n\r\nMy Code:\r\n``` lang-java\r\nprivate String getReleaseNotesPdfFileAbsolutePath(long number) {\r\n    \t\r\n    \t \tFile folder = new File(String.format(&quot;%s%s%s&quot;, appHome, File.separator, releaseNotesFilesHomeFolderName));\r\n    \t\tFile[] fileNames = folder.listFiles();\r\n    \t\tint i=1;\r\n    \t\t\r\n            Arrays.sort(fileNames, new Comparator&lt;File&gt;() {\r\n                @Override\r\n                public int compare(File o1, File o2) {\r\n                    float n1 = extractNumber(o1.getName());\r\n                    float n2 = extractNumber(o2.getName());\r\n                    int val = (int)n2 - (int)n1;\r\n                    System.out.println(n2 + &quot; &quot; + (int)n2 + &quot; : &quot; + n1 + &quot; &quot; + (int)n1 + &quot; : &quot; + val);\r\n                    return val;\r\n                }\r\n\r\n                private float extractNumber(String name) {\r\n                    float i = 0;\r\n                    try {\r\n                        int s = name.lastIndexOf(&#39;_&#39;)+1;\r\n                        int e = name.lastIndexOf(&#39;.&#39;);\r\n                        String number = name.substring(s, e);  \r\n                        i = Float.parseFloat(number);\r\n                    } catch(Exception e) {\r\n                        i = 0; // if filename does not match the format\r\n                               // then default to 0\r\n                    }\r\n                    return i;\r\n                }\r\n            });\r\n            \r\n    \t\tfor(File file : fileNames){   \t\t\t\r\n    \t\t\tif( i == number ) {\r\n    \t\t\t\treturn String.format(&quot;%s%s%s%s%s&quot;, appHome, File.separator, releaseNotesFilesHomeFolderName, File.separator, file.getName());\r\n    \t\t\t}\r\n    \t\t\ti = i+1;\r\n    \t\t}\r\n    \t \r\n        return String.format(&quot;%s%s%s%s%s&quot;, appHome, File.separator, releaseNotesFilesHomeFolderName, File.separator, Constants.RELEASE_NOTES_PDF);\r\n    }\r\n```\r\n\r\nTried the above code using comparator.","title":"Java: Sort files in a folder in reverse semantic order","body":"<p>I have a set of pdf files that I'm supposed to sort in reverse semantic order. The files are:</p>\n<ul>\n<li>Release_Notes_CNV_22.3.pdf</li>\n<li>Release_Notes_CNV_22.9.pdf</li>\n<li>Release_Notes_CNV_22.12.pdf</li>\n<li>Release_Notes_CNV_23.5.pdf</li>\n</ul>\n<p>I have the following code to sort them. Unfortunately, the 22.3 file appears after 22.9. Can someone please tell me where I'm going wrong. A little help would be appreciated :D</p>\n<p>The order I'm getting is:</p>\n<ul>\n<li>Release_Notes_CNV_23.5.pdf</li>\n<li>Release_Notes_CNV_22.12.pdf</li>\n<li><strong>Release_Notes_CNV_22.3.pdf</strong> // 22.3 appearing before 22.9</li>\n<li><strong>Release_Notes_CNV_22.9.pdf</strong></li>\n</ul>\n<p>The correct order should be:</p>\n<ul>\n<li>Release_Notes_CNV_23.5.pdf</li>\n<li>Release_Notes_CNV_22.12.pdf</li>\n<li><strong>Release_Notes_CNV_22.9.pdf</strong></li>\n<li><strong>Release_Notes_CNV_22.3.pdf</strong></li>\n</ul>\n<p>My Code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private String getReleaseNotesPdfFileAbsolutePath(long number) {\n        \n            File folder = new File(String.format(&quot;%s%s%s&quot;, appHome, File.separator, releaseNotesFilesHomeFolderName));\n            File[] fileNames = folder.listFiles();\n            int i=1;\n            \n            Arrays.sort(fileNames, new Comparator&lt;File&gt;() {\n                @Override\n                public int compare(File o1, File o2) {\n                    float n1 = extractNumber(o1.getName());\n                    float n2 = extractNumber(o2.getName());\n                    int val = (int)n2 - (int)n1;\n                    System.out.println(n2 + &quot; &quot; + (int)n2 + &quot; : &quot; + n1 + &quot; &quot; + (int)n1 + &quot; : &quot; + val);\n                    return val;\n                }\n\n                private float extractNumber(String name) {\n                    float i = 0;\n                    try {\n                        int s = name.lastIndexOf('_')+1;\n                        int e = name.lastIndexOf('.');\n                        String number = name.substring(s, e);  \n                        i = Float.parseFloat(number);\n                    } catch(Exception e) {\n                        i = 0; // if filename does not match the format\n                               // then default to 0\n                    }\n                    return i;\n                }\n            });\n            \n            for(File file : fileNames){             \n                if( i == number ) {\n                    return String.format(&quot;%s%s%s%s%s&quot;, appHome, File.separator, releaseNotesFilesHomeFolderName, File.separator, file.getName());\n                }\n                i = i+1;\n            }\n         \n        return String.format(&quot;%s%s%s%s%s&quot;, appHome, File.separator, releaseNotesFilesHomeFolderName, File.separator, Constants.RELEASE_NOTES_PDF);\n    }\n</code></pre>\n<p>Tried the above code using comparator.</p>\n"},{"tags":["java","servlets","interceptor","webfiltering"],"comments":[{"owner":{"account_id":7819979,"reputation":1197,"user_id":5913407,"accept_rate":57,"display_name":"LowCool"},"score":0,"creation_date":1674556805,"post_id":75220192,"comment_id":132734275,"body_markdown":"I am not understanding why you need filter? can you create 2 different endpoints to do that&gt;?","body":"I am not understanding why you need filter? can you create 2 different endpoints to do that&gt;?"},{"owner":{"account_id":16645475,"reputation":23,"user_id":12029891,"display_name":"svz"},"score":0,"creation_date":1674557293,"post_id":75220192,"comment_id":132734414,"body_markdown":"just i want to save request and response to db. If i comment filter my endpoint v2 doesnt save changes because ContentCachingRequestWrapper doesnt work. Meybe method getResponseAsString is wrong? How can i get response as String from Object HttpServletResponse  ? V1 and V2 is two different endpoints in one microservice","body":"just i want to save request and response to db. If i comment filter my endpoint v2 doesnt save changes because ContentCachingRequestWrapper doesnt work. Meybe method getResponseAsString is wrong? How can i get response as String from Object HttpServletResponse  ? V1 and V2 is two different endpoints in one microservice"},{"owner":{"account_id":2829929,"reputation":5163,"user_id":2431702,"display_name":"DanielBarbarian"},"score":0,"creation_date":1674559134,"post_id":75220192,"comment_id":132734922,"body_markdown":"Is the problem that only v2 requests invoke the filter? Doesn&#39;t it work when you just remove the `urlPatterns` part?","body":"Is the problem that only v2 requests invoke the filter? Doesn&#39;t it work when you just remove the <code>urlPatterns</code> part?"}],"owner":{"account_id":16645475,"reputation":23,"user_id":12029891,"display_name":"svz"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":423,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1674556169,"creation_date":1674556169,"question_id":75220192,"body_markdown":"I want to save request and response in String format to database when endpoint /v2 is called.\r\nThis implementation workes fine and save is correct but if i call to v1 endpoint, is muted, response is null, just 200 OK in Postman. Normally it response with json {id=&quot;123456789&quot;} Whats wrong have i in this implementation that endpoint v1 doesnt work ? If i delete CachingRequestBodyFilter class, v1 works fine but when v2 is called, nothing saved to database.\r\nv1 endpoint is for xml and v2 endpoint is for json format.\r\nMeybe is better way to save request and response to db via interceptors? \r\n\r\n```\r\n@AllArgsConstructor\r\n@Component\r\n@Data\r\npublic class RequestInterceptor implements HandlerInterceptor {\r\n\r\n    private final RequestService requestService;\r\n\r\n    @Override\r\n    public void afterCompletion(@NonNull HttpServletRequest request, @NonNull HttpServletResponse response, @NonNull Object handler, Exception ex){\r\n        requestService.saveResponse(request, response, ex);\r\n    }\r\n}\r\n\r\n\r\n    public void saveResponse(HttpServletRequest request, HttpServletResponse response, Exception ex) {\r\n        try {\r\n            String requestBody = getRequestAsString(request);\r\n            String responseBody = getResponseAsString(response);\r\n            buildMessages(requestBody, responseBody, ex);\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    private String getRequestAsString(HttpServletRequest request) throws IOException {\r\n        ContentCachingRequestWrapper requestWrapper = (ContentCachingRequestWrapper) request;\r\n        return new String(requestWrapper.getContentAsByteArray(), requestWrapper.getCharacterEncoding());\r\n    }\r\n\r\n\r\n    private String getResponseAsString(HttpServletResponse response) throws IOException {\r\n        ContentCachingResponseWrapper responseWrapper = (ContentCachingResponseWrapper) response;\r\n        byte[] responseArray = responseWrapper.getContentAsByteArray();\r\n        String characterEncoding = responseWrapper.getCharacterEncoding();\r\n        responseWrapper.copyBodyToResponse();\r\n        return new String(responseArray, characterEncoding);\r\n}\r\n```\r\n\r\nmethod buildMessages() is just a builder object which i want to save to db.\r\n\r\nfilter class:\r\n\r\n```\r\n@Component\r\n@WebFilter(filterName = &quot;CachingRequestBodyFilter&quot;, urlPatterns = {&quot;/v2/*&quot;})\r\npublic class CachingRequestBodyFilter extends OncePerRequestFilter {\r\n\r\n    @Override\r\n    protected void doFilterInternal(HttpServletRequest req, HttpServletResponse res,\r\n                                    FilterChain filterChain) throws ServletException, IOException {\r\n        HttpServletRequest request = (HttpServletRequest) req;\r\n        ContentCachingRequestWrapper wrappedRequest = new ContentCachingRequestWrapper(request);\r\n\r\n        HttpServletResponse response = (HttpServletResponse) res;\r\n        ContentCachingResponseWrapper wrappedResponse = new ContentCachingResponseWrapper(response);\r\n        filterChain.doFilter(wrappedRequest, wrappedResponse);\r\n    }\r\n}\r\n```\r\n\r\n    \r\n\r\ni want to save my request and response to db when endpoint v2 is called and when v1 is called response is not null;","title":"How to get response from HttpServletResponse and save to database in Java via interceptor","body":"<p>I want to save request and response in String format to database when endpoint /v2 is called.\nThis implementation workes fine and save is correct but if i call to v1 endpoint, is muted, response is null, just 200 OK in Postman. Normally it response with json {id=&quot;123456789&quot;} Whats wrong have i in this implementation that endpoint v1 doesnt work ? If i delete CachingRequestBodyFilter class, v1 works fine but when v2 is called, nothing saved to database.\nv1 endpoint is for xml and v2 endpoint is for json format.\nMeybe is better way to save request and response to db via interceptors?</p>\n<pre><code>@AllArgsConstructor\n@Component\n@Data\npublic class RequestInterceptor implements HandlerInterceptor {\n\n    private final RequestService requestService;\n\n    @Override\n    public void afterCompletion(@NonNull HttpServletRequest request, @NonNull HttpServletResponse response, @NonNull Object handler, Exception ex){\n        requestService.saveResponse(request, response, ex);\n    }\n}\n\n\n    public void saveResponse(HttpServletRequest request, HttpServletResponse response, Exception ex) {\n        try {\n            String requestBody = getRequestAsString(request);\n            String responseBody = getResponseAsString(response);\n            buildMessages(requestBody, responseBody, ex);\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n\n    private String getRequestAsString(HttpServletRequest request) throws IOException {\n        ContentCachingRequestWrapper requestWrapper = (ContentCachingRequestWrapper) request;\n        return new String(requestWrapper.getContentAsByteArray(), requestWrapper.getCharacterEncoding());\n    }\n\n\n    private String getResponseAsString(HttpServletResponse response) throws IOException {\n        ContentCachingResponseWrapper responseWrapper = (ContentCachingResponseWrapper) response;\n        byte[] responseArray = responseWrapper.getContentAsByteArray();\n        String characterEncoding = responseWrapper.getCharacterEncoding();\n        responseWrapper.copyBodyToResponse();\n        return new String(responseArray, characterEncoding);\n}\n</code></pre>\n<p>method buildMessages() is just a builder object which i want to save to db.</p>\n<p>filter class:</p>\n<pre><code>@Component\n@WebFilter(filterName = &quot;CachingRequestBodyFilter&quot;, urlPatterns = {&quot;/v2/*&quot;})\npublic class CachingRequestBodyFilter extends OncePerRequestFilter {\n\n    @Override\n    protected void doFilterInternal(HttpServletRequest req, HttpServletResponse res,\n                                    FilterChain filterChain) throws ServletException, IOException {\n        HttpServletRequest request = (HttpServletRequest) req;\n        ContentCachingRequestWrapper wrappedRequest = new ContentCachingRequestWrapper(request);\n\n        HttpServletResponse response = (HttpServletResponse) res;\n        ContentCachingResponseWrapper wrappedResponse = new ContentCachingResponseWrapper(response);\n        filterChain.doFilter(wrappedRequest, wrappedResponse);\n    }\n}\n</code></pre>\n<p>i want to save my request and response to db when endpoint v2 is called and when v1 is called response is not null;</p>\n"},{"tags":["java","android-studio"],"comments":[{"owner":{"account_id":1293976,"reputation":160,"user_id":1245517,"accept_rate":83,"display_name":"Ande Hofer"},"score":0,"creation_date":1588348437,"post_id":57017645,"comment_id":108868755,"body_markdown":"This also happend to me, but I do not need to switch back the JDK, it is enough to switch back in build.gradle to 1.8, 1.9 does not work:\n\nsourceCompatibility 1.8\ntargetCompatibility 1.8","body":"This also happend to me, but I do not need to switch back the JDK, it is enough to switch back in build.gradle to 1.8, 1.9 does not work:  sourceCompatibility 1.8 targetCompatibility 1.8"},{"owner":{"account_id":1368675,"reputation":185,"user_id":1304505,"display_name":"Cb32019"},"score":0,"creation_date":1597629519,"post_id":57017645,"comment_id":112185930,"body_markdown":"Have you found a solution?  I am experiencing the same thing.","body":"Have you found a solution?  I am experiencing the same thing."},{"owner":{"account_id":7093811,"reputation":4850,"user_id":5428154,"display_name":"Sebu"},"score":0,"creation_date":1604587837,"post_id":57017645,"comment_id":114396983,"body_markdown":"I am too experiencing the same thing... did you find a solution? @Cb32019","body":"I am too experiencing the same thing... did you find a solution? @Cb32019"}],"answers":[{"tags":[],"owner":{"account_id":10677926,"reputation":71,"user_id":7860837,"display_name":"nairsk"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1617607362,"creation_date":1617607362,"answer_id":66949548,"question_id":57017645,"body_markdown":"It&#39;s a plugin issue. \r\nEither download the Android Studio Canary build from [here][1]. \r\n\r\nOR\r\n\r\nDownload the latest IntelliJ version. \r\n* update the classpath in build.gradle to: &#39;com.android.tools.build:gradle:7.0.0-alpha12&#39;\r\n* update build tools version to: &#39;31.0.0 rc2&#39;\r\n* update SDK version to: 30\r\n\r\nI&#39;d say go for the second option.\r\n\r\n  [1]: https://developer.android.com/studio/preview","title":"Android Studio - build problems after switching JDK to version 1.10","body":"<p>It's a plugin issue.\nEither download the Android Studio Canary build from <a href=\"https://developer.android.com/studio/preview\" rel=\"noreferrer\">here</a>.</p>\n<p>OR</p>\n<p>Download the latest IntelliJ version.</p>\n<ul>\n<li>update the classpath in build.gradle to: 'com.android.tools.build:gradle:7.0.0-alpha12'</li>\n<li>update build tools version to: '31.0.0 rc2'</li>\n<li>update SDK version to: 30</li>\n</ul>\n<p>I'd say go for the second option.</p>\n"}],"owner":{"account_id":10190818,"reputation":81,"user_id":7524311,"display_name":"Mergellus"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4217,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":1,"score":8,"last_activity_date":1674555956,"creation_date":1563008306,"question_id":57017645,"body_markdown":"I ran into an issue after upgrading the JDK from 1.8 to 1.10 in Android Studio. I also know, that the problem appears in 1.9. When I build my project, it gives me the following errors:\r\n\r\n    error: cannot access ViewGroup class file for android.view.ViewGroup not found error: cannot access Activity class file for android.app.Activity not found\r\n    error: cannot access ComponentCallbacks class file for android.content.ComponentCallbacks not found\r\n    error: cannot access Application class file for android.app.Application not found\r\n    error: cannot access DialogInterface class file for android.content.DialogInterface not found\r\n\r\nI&#39;m using OpenJDK version from http://jdk.java.net/java-se-ri/10\r\n\r\nMy path to the JDK directory is as follows:\r\n[JDK path][1]\r\n\r\nWhen I switch back to 1.8 (check &quot;Use embedded JDK&quot;) in the project structure window, everything works just fine.\r\n\r\nThank you for any advice.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/jdxFz.png","title":"Android Studio - build problems after switching JDK to version 1.10","body":"<p>I ran into an issue after upgrading the JDK from 1.8 to 1.10 in Android Studio. I also know, that the problem appears in 1.9. When I build my project, it gives me the following errors:</p>\n<pre><code>error: cannot access ViewGroup class file for android.view.ViewGroup not found error: cannot access Activity class file for android.app.Activity not found\nerror: cannot access ComponentCallbacks class file for android.content.ComponentCallbacks not found\nerror: cannot access Application class file for android.app.Application not found\nerror: cannot access DialogInterface class file for android.content.DialogInterface not found\n</code></pre>\n<p>I'm using OpenJDK version from <a href=\"http://jdk.java.net/java-se-ri/10\" rel=\"nofollow noreferrer\">http://jdk.java.net/java-se-ri/10</a></p>\n<p>My path to the JDK directory is as follows:\n<a href=\"https://i.stack.imgur.com/jdxFz.png\" rel=\"nofollow noreferrer\">JDK path</a></p>\n<p>When I switch back to 1.8 (check &quot;Use embedded JDK&quot;) in the project structure window, everything works just fine.</p>\n<p>Thank you for any advice.</p>\n"},{"tags":["java","mongodb","mongodb-java","mongo-java-driver"],"answers":[{"tags":[],"owner":{"account_id":1777092,"reputation":68282,"user_id":1620671,"accept_rate":87,"display_name":"Philipp"},"down_vote_count":1,"up_vote_count":9,"is_accepted":true,"score":8,"last_activity_date":1448291610,"creation_date":1448291610,"answer_id":33874400,"question_id":33874069,"body_markdown":"The [count][1] method can now be found in [MongoCollection][2]:\r\n\r\n    int count = collection.count();\r\n\r\nreturns the total number of documents in a collection.\r\n\r\n    int count = collection.count(criteria);\r\n\r\nreturns the number of documents in a collection which match the given criteria.\r\n\r\n\r\n  [1]: http://api.mongodb.org/java/3.1/com/mongodb/client/MongoCollection.html#count-org.bson.conversions.Bson-\r\n  [2]: http://api.mongodb.org/java/3.1/com/mongodb/client/MongoCollection.html","title":"MongoCursor has no count() method?","body":"<p>The <a href=\"http://api.mongodb.org/java/3.1/com/mongodb/client/MongoCollection.html#count-org.bson.conversions.Bson-\">count</a> method can now be found in <a href=\"http://api.mongodb.org/java/3.1/com/mongodb/client/MongoCollection.html\">MongoCollection</a>:</p>\n\n<pre><code>int count = collection.count();\n</code></pre>\n\n<p>returns the total number of documents in a collection.</p>\n\n<pre><code>int count = collection.count(criteria);\n</code></pre>\n\n<p>returns the number of documents in a collection which match the given criteria.</p>\n"},{"tags":[],"owner":{"account_id":9782615,"reputation":560,"user_id":7250020,"display_name":"Kacper Cichecki"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674555907,"creation_date":1674555907,"answer_id":75220148,"question_id":33874069,"body_markdown":"You should use `MongoCollection.countDocuments(Bson filter)` to calculate exact number of documents. You can also pass additional param `CountOptions options` and specify offset, limit. \r\n[MongoCollection.countDocuments][1]\r\n\r\nIf you need faster response and the exact number is not a must you can also use `MongoCollection.estimatedDocumentCount()`\r\n[MongoCollection.estimatedDocumentCount][2]\r\n\r\n\r\n  [1]: https://mongodb.github.io/mongo-java-driver/4.6/apidocs/mongodb-driver-sync/com/mongodb/client/MongoCollection.html#countDocuments(org.bson.conversions.Bson)\r\n  [2]: https://mongodb.github.io/mongo-java-driver/4.6/apidocs/mongodb-driver-sync/com/mongodb/client/MongoCollection.html#estimatedDocumentCount()","title":"MongoCursor has no count() method?","body":"<p>You should use <code>MongoCollection.countDocuments(Bson filter)</code> to calculate exact number of documents. You can also pass additional param <code>CountOptions options</code> and specify offset, limit.\n<a href=\"https://mongodb.github.io/mongo-java-driver/4.6/apidocs/mongodb-driver-sync/com/mongodb/client/MongoCollection.html#countDocuments(org.bson.conversions.Bson)\" rel=\"nofollow noreferrer\">MongoCollection.countDocuments</a></p>\n<p>If you need faster response and the exact number is not a must you can also use <code>MongoCollection.estimatedDocumentCount()</code>\n<a href=\"https://mongodb.github.io/mongo-java-driver/4.6/apidocs/mongodb-driver-sync/com/mongodb/client/MongoCollection.html#estimatedDocumentCount()\" rel=\"nofollow noreferrer\">MongoCollection.estimatedDocumentCount</a></p>\n"}],"owner":{"account_id":1227394,"reputation":3921,"user_id":1192702,"accept_rate":75,"display_name":"alaster"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4657,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":33874400,"answer_count":2,"score":2,"last_activity_date":1674555907,"creation_date":1448290645,"question_id":33874069,"body_markdown":"So my code is:\r\n\r\n\tFindIterable&lt;Document&gt; findIterable = collection.find().skip(20).limit(10);\r\n\tMongoCursor&lt;Document&gt; cursor = findIterable.iterator();\r\n\twhile (cursor.hasNext()) {\r\n\t\tDocument doc = cursor.next();\r\n        // My stuff with documents here\r\n\t}\r\n    cursor.close(); // in finally block\r\n\r\nNow I want to know the `total count` of documents before `skip` and `limit`.\r\n\r\nThere is an [answer for exact same question][1], but I have `mongo-java-driver v3.1.0` and API I use is different.\r\nThere is no methods `count()` or `size()` in both [FindIterable][2] and [MongoCursor][3] classes. Thanks!\r\n\r\n**UPDATE**\r\n\r\nSeems like the only workaround is making another call to mongodb: `collection.count` as said [@Philipp][4]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/15300882/limiting-results-in-mongodb-but-still-getting-the-full-count\r\n  [2]: http://api.mongodb.org/java/3.1/com/mongodb/client/FindIterable.html\r\n  [3]: http://api.mongodb.org/java/3.1/com/mongodb/client/MongoCursor.html\r\n  [4]: https://stackoverflow.com/a/33874400/1192702","title":"MongoCursor has no count() method?","body":"<p>So my code is:</p>\n\n<pre><code>FindIterable&lt;Document&gt; findIterable = collection.find().skip(20).limit(10);\nMongoCursor&lt;Document&gt; cursor = findIterable.iterator();\nwhile (cursor.hasNext()) {\n    Document doc = cursor.next();\n    // My stuff with documents here\n}\ncursor.close(); // in finally block\n</code></pre>\n\n<p>Now I want to know the <code>total count</code> of documents before <code>skip</code> and <code>limit</code>.</p>\n\n<p>There is an <a href=\"https://stackoverflow.com/questions/15300882/limiting-results-in-mongodb-but-still-getting-the-full-count\">answer for exact same question</a>, but I have <code>mongo-java-driver v3.1.0</code> and API I use is different.\nThere is no methods <code>count()</code> or <code>size()</code> in both <a href=\"http://api.mongodb.org/java/3.1/com/mongodb/client/FindIterable.html\" rel=\"nofollow noreferrer\">FindIterable</a> and <a href=\"http://api.mongodb.org/java/3.1/com/mongodb/client/MongoCursor.html\" rel=\"nofollow noreferrer\">MongoCursor</a> classes. Thanks!</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>Seems like the only workaround is making another call to mongodb: <code>collection.count</code> as said <a href=\"https://stackoverflow.com/a/33874400/1192702\">@Philipp</a></p>\n"},{"tags":["java","date","formatting","race-condition","fortify"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1674394593,"post_id":75200804,"comment_id":132701040,"body_markdown":"There’s not enough context to help but the [Fortify docs](https://vulncat.fortify.com/en/detail?id=desc.structural.java.race_condition_format_flaw) explain the problem in detail. TL;DR: create a new formatter at the point of use to avoid sharing them between threads.","body":"There’s not enough context to help but the <a href=\"https://vulncat.fortify.com/en/detail?id=desc.structural.java.race_condition_format_flaw\" rel=\"nofollow noreferrer\">Fortify docs</a> explain the problem in detail. TL;DR: create a new formatter at the point of use to avoid sharing them between threads."},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":1,"creation_date":1674396624,"post_id":75200804,"comment_id":132701365,"body_markdown":"`SimpleDateFormat` is a stateful converter from `java.util.Date` to string. When you use it from multiple threads you will get unexpected results (i.e. parts of two different dates). The best way to solve this problem is to ditch **all** usages of the problematic `java.util.Date`, `DateFormat` and `SimpleDateFormat` and use the newer `java.time` API instead (i.e. `java.time.LocalDateTime` and `java.time.format.DateTimeFormatter`.)","body":"<code>SimpleDateFormat</code> is a stateful converter from <code>java.util.Date</code> to string. When you use it from multiple threads you will get unexpected results (i.e. parts of two different dates). The best way to solve this problem is to ditch <b>all</b> usages of the problematic <code>java.util.Date</code>, <code>DateFormat</code> and <code>SimpleDateFormat</code> and use the newer <code>java.time</code> API instead (i.e. <code>java.time.LocalDateTime</code> and <code>java.time.format.DateTimeFormatter</code>.)"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1674416476,"post_id":75200804,"comment_id":132705052,"body_markdown":"I strongly recommend you don’t use `Date`, `DateFormat` and `SimpleDateFormat`. Those classes are long outdated and notoriously troublesome. You have met just one of the very many problems with them. Use [java.time, the modern Java date and time API,](https://docs.oracle.com/javase/tutorial/datetime/index.html) instead. `ZonedDateTime.now(ZoneId.systemDefault()).format(DateTimeFormatter.ofPattern(&quot;uuuu-MM-dd HH:mm:ss&quot;))`. And a `DateTimeFormatter` is thread-safe.","body":"I strongly recommend you don’t use <code>Date</code>, <code>DateFormat</code> and <code>SimpleDateFormat</code>. Those classes are long outdated and notoriously troublesome. You have met just one of the very many problems with them. Use <a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API,</a> instead. <code>ZonedDateTime.now(ZoneId.systemDefault()).format(DateTimeFor&zwnj;&#8203;matter.ofPattern(&quot;uu&zwnj;&#8203;uu-MM-dd HH:mm:ss&quot;))</code>. And a <code>DateTimeFormatter</code> is thread-safe."}],"owner":{"account_id":24733977,"reputation":51,"user_id":18621599,"display_name":"Murathan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":428,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1674396735,"answer_count":0,"score":0,"last_activity_date":1674555681,"creation_date":1674394060,"question_id":75200804,"body_markdown":"Hello i am working on a code and i get Fortify Race Condition:Format Flaw issue and i don&#39;t know how to fix it. I have searched on stackoverflow and i couldn&#39;t find an accurate way to fix it.\r\nI get this error from that part of codes:\r\n\r\n    Date date = new Date();\r\n\t\t\t\tnewDevice.setCreationDate(dateFormat.format(date));\r\nand \t\t\t\t\r\n\r\n    firstTrx.setTrxID(getSessionUser().getUserName() + dateFormat.format(date));\r\n\r\nAnd i create the dateFormat instance here:\r\n\r\n    DateFormat dateFormat = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);\r\n\r\nI would be very happy if you help,\r\nthanks.\r\n\r\n","title":"Fortify race condition format flaw issue Date Formatting","body":"<p>Hello i am working on a code and i get Fortify Race Condition:Format Flaw issue and i don't know how to fix it. I have searched on stackoverflow and i couldn't find an accurate way to fix it.\nI get this error from that part of codes:</p>\n<pre><code>Date date = new Date();\n            newDevice.setCreationDate(dateFormat.format(date));\n</code></pre>\n<p>and</p>\n<pre><code>firstTrx.setTrxID(getSessionUser().getUserName() + dateFormat.format(date));\n</code></pre>\n<p>And i create the dateFormat instance here:</p>\n<pre><code>DateFormat dateFormat = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);\n</code></pre>\n<p>I would be very happy if you help,\nthanks.</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":260034,"reputation":532,"user_id":543351,"display_name":"lgawron"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1500667016,"creation_date":1440792943,"answer_id":32279122,"question_id":31168121,"body_markdown":"    Files.walkFileTree(root, new SimpleFileVisitor&lt;Path&gt;() {\r\n    \t@Override \r\n        public FileVisitResult preVisitDirectory( final Path dir, final BasicFileAttributes attrs ) throws IOException {\r\n    \t\tif ( dir.equals( root ) ) return FileVisitResult.CONTINUE;\r\n    \t\t\tprocess( dir );\r\n    \t\t\treturn FileVisitResult.SKIP_SUBTREE; //or CONTINUE for recursive processing\r\n    \t\t}\r\n    \t} \r\n    );\r\n\r\n","title":"Is there any way to skip the root folder from where the search starts for preVisitDirectory when using Files.walkFileTree?","body":"<pre><code>Files.walkFileTree(root, new SimpleFileVisitor&lt;Path&gt;() {\n    @Override \n    public FileVisitResult preVisitDirectory( final Path dir, final BasicFileAttributes attrs ) throws IOException {\n        if ( dir.equals( root ) ) return FileVisitResult.CONTINUE;\n            process( dir );\n            return FileVisitResult.SKIP_SUBTREE; //or CONTINUE for recursive processing\n        }\n    } \n);\n</code></pre>\n"}],"owner":{"account_id":5930,"reputation":18576,"user_id":9789,"accept_rate":86,"display_name":"daniels"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2332,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":32279122,"answer_count":1,"score":2,"last_activity_date":1674555618,"creation_date":1435772396,"question_id":31168121,"body_markdown":"Im using Files.walkFileTree and I&#39;m also getting a call to preVisitDirectory for the root folder from where the search starts. Any way to skip this?\r\n\r\nFor example: Files.walkFileTree for /test/ will first call preVisitDirectory with /test/ and then the test of the subfolders of /test/.\r\n\r\nAny way to make it start directly with the subfolders?","title":"Is there any way to skip the root folder from where the search starts for preVisitDirectory when using Files.walkFileTree?","body":"<p>Im using Files.walkFileTree and I'm also getting a call to preVisitDirectory for the root folder from where the search starts. Any way to skip this?</p>\n\n<p>For example: Files.walkFileTree for /test/ will first call preVisitDirectory with /test/ and then the test of the subfolders of /test/.</p>\n\n<p>Any way to make it start directly with the subfolders?</p>\n"},{"tags":["java","android","wifi","wifimanager"],"comments":[{"owner":{"account_id":732315,"reputation":4996,"user_id":681444,"display_name":"racraman"},"score":1,"creation_date":1674552463,"post_id":75219432,"comment_id":132732910,"body_markdown":"Did you see this note for `setWifiEnabled(boolean enabled)` : “This method was deprecated in API level 29.  … Compatibility Note: For applications targeting Build.VERSION_CODES.Q or above, this API will always fail and return false. “.   Source: https://developer.android.com/reference/android/net/wifi/WifiManager","body":"Did you see this note for <code>setWifiEnabled(boolean enabled)</code> : “This method was deprecated in API level 29.  … Compatibility Note: For applications targeting Build.VERSION_CODES.Q or above, this API will always fail and return false. “.   Source: <a href=\"https://developer.android.com/reference/android/net/wifi/WifiManager\" rel=\"nofollow noreferrer\">developer.android.com/reference/android/net/wifi/WifiManager</a>"}],"owner":{"account_id":19187029,"reputation":11,"user_id":14017601,"display_name":"Sadeeq Ullah"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1674555577,"creation_date":1674551675,"question_id":75219432,"body_markdown":"    \r\n\r\n    wifiOn.setOnClickListener(new View.OnClickListener() {\r\n        @Override\r\n        public void onClick(View v) {\r\n\r\n            wifiManager = (WifiManager) getApplicationContext().getSystemService(Context.WIFI_SERVICE);\r\n            wifiManager.setWifiEnabled(true);\r\n            Toast.makeText(MainActivity.this, &quot;wifi on&quot;, Toast.LENGTH_SHORT).show();\r\n\r\n        }\r\n    });\r\n\r\n\r\n    wifiOff.setOnClickListener(new View.OnClickListener() {\r\n        @Override\r\n        public void onClick(View v) {\r\n\r\n            wifiManager = (WifiManager) getApplicationContext().getSystemService(Context.WIFI_SERVICE);\r\n            wifiManager.setWifiEnabled(false);\r\n            Toast.makeText(MainActivity.this, &quot;wifi off&quot;, Toast.LENGTH_SHORT).show();\r\n\r\n        }\r\n    });\r\n","title":"I use the WifiManager class to turn on and off wifi but it does not working","body":"<pre><code>wifiOn.setOnClickListener(new View.OnClickListener() {\n    @Override\n    public void onClick(View v) {\n\n        wifiManager = (WifiManager) getApplicationContext().getSystemService(Context.WIFI_SERVICE);\n        wifiManager.setWifiEnabled(true);\n        Toast.makeText(MainActivity.this, &quot;wifi on&quot;, Toast.LENGTH_SHORT).show();\n\n    }\n});\n\n\nwifiOff.setOnClickListener(new View.OnClickListener() {\n    @Override\n    public void onClick(View v) {\n\n        wifiManager = (WifiManager) getApplicationContext().getSystemService(Context.WIFI_SERVICE);\n        wifiManager.setWifiEnabled(false);\n        Toast.makeText(MainActivity.this, &quot;wifi off&quot;, Toast.LENGTH_SHORT).show();\n\n    }\n});\n</code></pre>\n"},{"tags":["java","html","spring-boot","maven"],"comments":[{"owner":{"account_id":7788702,"reputation":836,"user_id":5892518,"display_name":"Harsh"},"score":0,"creation_date":1674556475,"post_id":75219963,"comment_id":132734162,"body_markdown":"Can you show project structure? Or if you can&#39;t , try adding `@ComponentScan` annotation to specify the package name where your controller resides , usually is the case where scanning doesn&#39;t happen if your controller is in another package other than `@SpringBootApplication` class&#39;","body":"Can you show project structure? Or if you can&#39;t , try adding <code>@ComponentScan</code> annotation to specify the package name where your controller resides , usually is the case where scanning doesn&#39;t happen if your controller is in another package other than <code>@SpringBootApplication</code> class&#39;"},{"owner":{"account_id":7819979,"reputation":1197,"user_id":5913407,"accept_rate":57,"display_name":"LowCool"},"score":0,"creation_date":1674557371,"post_id":75219963,"comment_id":132734438,"body_markdown":"also can you show us the URL you are trying to access?","body":"also can you show us the URL you are trying to access?"},{"owner":{"account_id":23324724,"reputation":13,"user_id":17402072,"display_name":"Miguel &#193;ngel"},"score":0,"creation_date":1674559834,"post_id":75219963,"comment_id":132735125,"body_markdown":"@Harsh What is the &quot;@ComponentScan&quot; for, I don&#39;t understand what you mean","body":"@Harsh What is the &quot;@ComponentScan&quot; for, I don&#39;t understand what you mean"},{"owner":{"account_id":23324724,"reputation":13,"user_id":17402072,"display_name":"Miguel &#193;ngel"},"score":0,"creation_date":1674560049,"post_id":75219963,"comment_id":132735196,"body_markdown":"@LowCool http://localhost:62946/index -&gt; The port is that because I had to put port 0 for it to choose the one that is available","body":"@LowCool <a href=\"http://localhost:62946/index\" rel=\"nofollow noreferrer\">localhost:62946/index</a> -&gt; The port is that because I had to put port 0 for it to choose the one that is available"},{"owner":{"account_id":7819979,"reputation":1197,"user_id":5913407,"accept_rate":57,"display_name":"LowCool"},"score":0,"creation_date":1674560219,"post_id":75219963,"comment_id":132735256,"body_markdown":"@Miguel&#193;ngel : add your project name before `/index`","body":"@Miguel&#193;ngel : add your project name before <code>&#47;index</code>"},{"owner":{"account_id":23324724,"reputation":13,"user_id":17402072,"display_name":"Miguel &#193;ngel"},"score":0,"creation_date":1674560611,"post_id":75219963,"comment_id":132735360,"body_markdown":"@LowCool Not working :(","body":"@LowCool Not working :("},{"owner":{"account_id":7819979,"reputation":1197,"user_id":5913407,"accept_rate":57,"display_name":"LowCool"},"score":0,"creation_date":1674561592,"post_id":75219963,"comment_id":132735697,"body_markdown":"can you add the url you are trying in your code?","body":"can you add the url you are trying in your code?"},{"owner":{"account_id":23324724,"reputation":13,"user_id":17402072,"display_name":"Miguel &#193;ngel"},"score":0,"creation_date":1674561826,"post_id":75219963,"comment_id":132735771,"body_markdown":"@LowCool localhost:62946 now this link because I deleted the route, to see if it works in the main menu","body":"@LowCool localhost:62946 now this link because I deleted the route, to see if it works in the main menu"},{"owner":{"account_id":7788702,"reputation":836,"user_id":5892518,"display_name":"Harsh"},"score":0,"creation_date":1674562580,"post_id":75219963,"comment_id":132736014,"body_markdown":"Basically if your Controller file is in a different package then the main class , then you need @ComponentScan to tell springBoot where you controller and exposed end points are :) , no other reason why a simple end point would not work","body":"Basically if your Controller file is in a different package then the main class , then you need @ComponentScan to tell springBoot where you controller and exposed end points are :) , no other reason why a simple end point would not work"},{"owner":{"account_id":23324724,"reputation":13,"user_id":17402072,"display_name":"Miguel &#193;ngel"},"score":0,"creation_date":1674563013,"post_id":75219963,"comment_id":132736174,"body_markdown":"@Harsh oh that makes sense,I am going to try","body":"@Harsh oh that makes sense,I am going to try"},{"owner":{"account_id":7788702,"reputation":836,"user_id":5892518,"display_name":"Harsh"},"score":0,"creation_date":1674563142,"post_id":75219963,"comment_id":132736206,"body_markdown":"https://stackoverflow.com/questions/69070727/getting-resource-not-found-404-even-url-is-correct-spring-boot/70903361#70903361 Check a similar issue","body":"<a href=\"https://stackoverflow.com/questions/69070727/getting-resource-not-found-404-even-url-is-correct-spring-boot/70903361#70903361\" title=\"getting resource not found 404 even url is correct spring boot\">stackoverflow.com/questions/69070727/&hellip;</a> Check a similar issue"},{"owner":{"account_id":23324724,"reputation":13,"user_id":17402072,"display_name":"Miguel &#193;ngel"},"score":0,"creation_date":1674565046,"post_id":75219963,"comment_id":132736771,"body_markdown":"@Harsh Now says me this -&gt; `Error starting ApplicationContext. To display the condition evaluation report re-run your application with &#39;debug&#39; enabled.\n2023-01-24T13:42:55.256+01:00 ERROR 14704 --- [  restartedMain] o.s.boot.SpringApplication               : Application run failed\n`","body":"@Harsh Now says me this -&gt; <code>Error starting ApplicationContext. To display the condition evaluation report re-run your application with &#39;debug&#39; enabled. 2023-01-24T13:42:55.256+01:00 ERROR 14704 --- [  restartedMain] o.s.boot.SpringApplication               : Application run failed </code>"},{"owner":{"account_id":7788702,"reputation":836,"user_id":5892518,"display_name":"Harsh"},"score":0,"creation_date":1674621421,"post_id":75219963,"comment_id":132751487,"body_markdown":"Post complete stack trace","body":"Post complete stack trace"},{"owner":{"account_id":23324724,"reputation":13,"user_id":17402072,"display_name":"Miguel &#193;ngel"},"score":0,"creation_date":1674634036,"post_id":75219963,"comment_id":132753784,"body_markdown":"@Harsh Public the entire project?","body":"@Harsh Public the entire project?"},{"owner":{"account_id":7788702,"reputation":836,"user_id":5892518,"display_name":"Harsh"},"score":0,"creation_date":1674638047,"post_id":75219963,"comment_id":132754923,"body_markdown":"Need the complete start up logs , need to see full logs where error is occuring","body":"Need the complete start up logs , need to see full logs where error is occuring"},{"owner":{"account_id":23324724,"reputation":13,"user_id":17402072,"display_name":"Miguel &#193;ngel"},"score":0,"creation_date":1674661239,"post_id":75219963,"comment_id":132762812,"body_markdown":"@Harsh `org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;personaRepository&#39; defined in com.CitaMedica.main.Repository.PersonaRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract com.CitaMedica.main.Persona com.CitaMedica.main.Repository.PersonaRepository.findByUser(java.lang.String); Reason: Failed to create query for method public abstract com.CitaMedica.main.Persona com.CitaMedica.main.Repository.PersonaRepository.findByUser(java.lang.String); \n`","body":"@Harsh <code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;personaRepository&#39; defined in com.CitaMedica.main.Repository.PersonaRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract com.CitaMedica.main.Persona com.CitaMedica.main.Repository.PersonaRepository.findByUser(&zwnj;&#8203;java.lang.String); Reason: Failed to create query for method public abstract com.CitaMedica.main.Persona com.CitaMedica.main.Repository.PersonaRepository.findByUser(&zwnj;&#8203;java.lang.String);  </code>"},{"owner":{"account_id":23324724,"reputation":13,"user_id":17402072,"display_name":"Miguel &#193;ngel"},"score":0,"creation_date":1674661312,"post_id":75219963,"comment_id":132762828,"body_markdown":"@Harsh and this `No property &#39;user&#39; found for type &#39;Persona&#39; .`  I don&#39;t know but is so confusing","body":"@Harsh and this <code>No property &#39;user&#39; found for type &#39;Persona&#39; .</code>  I don&#39;t know but is so confusing"},{"owner":{"account_id":23324724,"reputation":13,"user_id":17402072,"display_name":"Miguel &#193;ngel"},"score":0,"creation_date":1674663468,"post_id":75219963,"comment_id":132763680,"body_markdown":"@Harsh My main problem is that the Tomcat server doesn&#39;t start and gives me these errors. When I can start it I will be able to use postman","body":"@Harsh My main problem is that the Tomcat server doesn&#39;t start and gives me these errors. When I can start it I will be able to use postman"},{"owner":{"account_id":7788702,"reputation":836,"user_id":5892518,"display_name":"Harsh"},"score":0,"creation_date":1674752786,"post_id":75219963,"comment_id":132785597,"body_markdown":"Edit and post your repository class as well, need to see &quot;PersonaRepository&quot; class/interface Also check if you have any native query , it is valid, i.e. it can execute on any database engine, if spring identifies issues with your query hence this issue","body":"Edit and post your repository class as well, need to see &quot;PersonaRepository&quot; class/interface Also check if you have any native query , it is valid, i.e. it can execute on any database engine, if spring identifies issues with your query hence this issue"}],"owner":{"account_id":23324724,"reputation":13,"user_id":17402072,"display_name":"Miguel &#193;ngel"},"comment_count":19,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674554907,"creation_date":1674554907,"question_id":75219963,"body_markdown":"I have thought that it could be a dependency problem and I have looked at the pom.xml and I consider that I have everything I need\r\n\r\n**pom.xml**\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.1&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.home&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;class&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;class&lt;/name&gt;\r\n\t&lt;description&gt;Aqu&#237; estan las clases&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.oracle.database.jdbc&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;ojdbc8&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.modelmapper&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;modelmapper&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.1.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.jetbrains&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;annotations&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;RELEASE&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.0.1&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\nThen I thought that it could be a problem with the controller that is not returning data or redirecting correctly but I can&#39;t think of what it could be\r\n\r\n**My controller**\r\n\r\n```\r\n@RestController\r\npublic class PruebaController {\r\n\r\n    @Autowired\r\n    private PersonaService personaService;\r\n    @GetMapping(value=&quot;/index&quot;,produces = MediaType.APPLICATION_JSON_VALUE)\r\n    public ResponseEntity&lt;Object&gt; index(){\r\n        return ResponseEntity.ok(this.personaService.findAll());\r\n    }\r\n}\r\n```\r\nThe problem is that when I do the command -&gt; &quot;spring-boot:run&quot; and go to the link I get -&gt; Error 404\r\nI am also sure that the connection to the database is made perfectly so I only have to rule out that the service is done wrong but I don&#39;t know what it could be\r\n\r\n**PersonaService.java**\r\n\r\n```\r\npublic interface PersonaService {\r\n    Page&lt;PersonaDTO&gt; findAll();\r\n\r\n    PersonaDTO findByNSS(String NSS);\r\n\r\n    PersonaDTO findByNumTarjeta(String numTarjeta);\r\n\r\n    void save(PersonaDTO paciente);\r\n\r\n    void saveAll(List&lt;PersonaDTO&gt; pacientes);\r\n\r\n    void deleteById(Long id);\r\n}\r\n```\r\n\r\nand this is my file\r\n\r\n**PersonaImpl.java**\r\n\r\n```\r\npackage Services.Implementation;\r\n\r\nimport DTO.PersonaDTO;\r\nimport Repository.PersonaRepository;\r\nimport Services.Interfaces.PersonaService;\r\nimport Utils.MHelpers;\r\nimport com.example.demo.Persona;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.data.domain.Page;\r\nimport org.springframework.stereotype.Component;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.Optional;\r\n\r\n@Component\r\npublic class PersonaImpl implements PersonaService {\r\n\r\n    @Autowired\r\n    private PersonaRepository PersonaRepository;\r\n\r\n    @Override\r\n    public Page&lt;PersonaDTO&gt; findAll() {\r\n        Page&lt;Persona&gt; personas = this.PersonaRepository.findAll();\r\n\r\n        return personas.map(this::convertToPersonaDTO);\r\n    }\r\n\r\n    @Override\r\n    public PersonaDTO findByNSS(String NSS) {\r\n        Optional&lt;Persona&gt; personas = this.PersonaRepository.findByNSS(NSS);\r\n\r\n        if (!personas.isPresent()){\r\n            return null;\r\n        }\r\n\r\n        return MHelpers.modelMapper().map(personas.get(),PersonaDTO.class);\r\n    }\r\n\r\n    @Override\r\n    public PersonaDTO findByNumTarjeta(String numTarjeta) {\r\n        Optional&lt;Persona&gt; personas = this.PersonaRepository.findByNumTarjeta(numTarjeta);\r\n\r\n        if (!personas.isPresent()){\r\n            return null;\r\n        }\r\n\r\n        return MHelpers.modelMapper().map(personas.get(),PersonaDTO.class);\r\n    }\r\n\r\n    @Override\r\n    public void save(PersonaDTO personaDTO) {\r\n        Persona persona = MHelpers.modelMapper().map(personaDTO, Persona.class);\r\n        this.PersonaRepository.save(persona);\r\n    }\r\n\r\n    @Override\r\n    public void saveAll(List&lt;PersonaDTO&gt; personas) {\r\n        List&lt;Persona&gt; p = new ArrayList&lt;&gt;();\r\n\r\n        for (PersonaDTO persona: personas) {\r\n           Persona pers = MHelpers.modelMapper().map(persona,Persona.class);\r\n           p.add(pers);\r\n        }\r\n        this.PersonaRepository.saveAll(p);\r\n    }\r\n\r\n    @Override\r\n    public void deleteById(Long id) {\r\n        this.PersonaRepository.deleteById(id);\r\n    }\r\n\r\n    private PersonaDTO convertToPersonaDTO(final Persona persona){\r\n        return MHelpers.modelMapper().map(persona,PersonaDTO.class);\r\n    }\r\n}\r\n\r\n```\r\n\r\nIf you need more information tell me\r\n","title":"Why when I access the controller route the html is not found nor does it return data to me with Postman?","body":"<p>I have thought that it could be a dependency problem and I have looked at the pom.xml and I consider that I have everything I need</p>\n<p><strong>pom.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.1&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.home&lt;/groupId&gt;\n    &lt;artifactId&gt;class&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;class&lt;/name&gt;\n    &lt;description&gt;Aquí estan las clases&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.oracle.database.jdbc&lt;/groupId&gt;\n            &lt;artifactId&gt;ojdbc8&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n            &lt;version&gt;1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.modelmapper&lt;/groupId&gt;\n            &lt;artifactId&gt;modelmapper&lt;/artifactId&gt;\n            &lt;version&gt;3.1.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jetbrains&lt;/groupId&gt;\n            &lt;artifactId&gt;annotations&lt;/artifactId&gt;\n            &lt;version&gt;RELEASE&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.0.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p>Then I thought that it could be a problem with the controller that is not returning data or redirecting correctly but I can't think of what it could be</p>\n<p><strong>My controller</strong></p>\n<pre><code>@RestController\npublic class PruebaController {\n\n    @Autowired\n    private PersonaService personaService;\n    @GetMapping(value=&quot;/index&quot;,produces = MediaType.APPLICATION_JSON_VALUE)\n    public ResponseEntity&lt;Object&gt; index(){\n        return ResponseEntity.ok(this.personaService.findAll());\n    }\n}\n</code></pre>\n<p>The problem is that when I do the command -&gt; &quot;spring-boot:run&quot; and go to the link I get -&gt; Error 404\nI am also sure that the connection to the database is made perfectly so I only have to rule out that the service is done wrong but I don't know what it could be</p>\n<p><strong>PersonaService.java</strong></p>\n<pre><code>public interface PersonaService {\n    Page&lt;PersonaDTO&gt; findAll();\n\n    PersonaDTO findByNSS(String NSS);\n\n    PersonaDTO findByNumTarjeta(String numTarjeta);\n\n    void save(PersonaDTO paciente);\n\n    void saveAll(List&lt;PersonaDTO&gt; pacientes);\n\n    void deleteById(Long id);\n}\n</code></pre>\n<p>and this is my file</p>\n<p><strong>PersonaImpl.java</strong></p>\n<pre><code>package Services.Implementation;\n\nimport DTO.PersonaDTO;\nimport Repository.PersonaRepository;\nimport Services.Interfaces.PersonaService;\nimport Utils.MHelpers;\nimport com.example.demo.Persona;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.data.domain.Page;\nimport org.springframework.stereotype.Component;\n\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Optional;\n\n@Component\npublic class PersonaImpl implements PersonaService {\n\n    @Autowired\n    private PersonaRepository PersonaRepository;\n\n    @Override\n    public Page&lt;PersonaDTO&gt; findAll() {\n        Page&lt;Persona&gt; personas = this.PersonaRepository.findAll();\n\n        return personas.map(this::convertToPersonaDTO);\n    }\n\n    @Override\n    public PersonaDTO findByNSS(String NSS) {\n        Optional&lt;Persona&gt; personas = this.PersonaRepository.findByNSS(NSS);\n\n        if (!personas.isPresent()){\n            return null;\n        }\n\n        return MHelpers.modelMapper().map(personas.get(),PersonaDTO.class);\n    }\n\n    @Override\n    public PersonaDTO findByNumTarjeta(String numTarjeta) {\n        Optional&lt;Persona&gt; personas = this.PersonaRepository.findByNumTarjeta(numTarjeta);\n\n        if (!personas.isPresent()){\n            return null;\n        }\n\n        return MHelpers.modelMapper().map(personas.get(),PersonaDTO.class);\n    }\n\n    @Override\n    public void save(PersonaDTO personaDTO) {\n        Persona persona = MHelpers.modelMapper().map(personaDTO, Persona.class);\n        this.PersonaRepository.save(persona);\n    }\n\n    @Override\n    public void saveAll(List&lt;PersonaDTO&gt; personas) {\n        List&lt;Persona&gt; p = new ArrayList&lt;&gt;();\n\n        for (PersonaDTO persona: personas) {\n           Persona pers = MHelpers.modelMapper().map(persona,Persona.class);\n           p.add(pers);\n        }\n        this.PersonaRepository.saveAll(p);\n    }\n\n    @Override\n    public void deleteById(Long id) {\n        this.PersonaRepository.deleteById(id);\n    }\n\n    private PersonaDTO convertToPersonaDTO(final Persona persona){\n        return MHelpers.modelMapper().map(persona,PersonaDTO.class);\n    }\n}\n\n</code></pre>\n<p>If you need more information tell me</p>\n"},{"tags":["java","junit","mockito"],"owner":{"account_id":4286286,"reputation":783,"user_id":3503970,"accept_rate":100,"display_name":"Alex Blasco"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674554390,"creation_date":1674554390,"question_id":75219872,"body_markdown":"I would like to set up [parallelized tests][1] for our unit tests collection.\r\n\r\nMockito allows us to do strict stubbing with the following annotation.\r\n\r\n    @MockitoSettings(strictness = Strictness.STRICT_STUBS)\r\n\r\nIf we set our unit test collection to strict stubs and our tests do not access to any external system, it means that each test its independent from each other and then we can directly apply `@ParallelizableTest` annotation to enable concurrent execution, am I right?\r\n\r\n\r\n  [1]: https://junit.org/junit5/docs/5.3.0-M1/user-guide/index.html#writing-tests-parallel-execution","title":"Parallelized tests and strict stubbing","body":"<p>I would like to set up <a href=\"https://junit.org/junit5/docs/5.3.0-M1/user-guide/index.html#writing-tests-parallel-execution\" rel=\"nofollow noreferrer\">parallelized tests</a> for our unit tests collection.</p>\n<p>Mockito allows us to do strict stubbing with the following annotation.</p>\n<pre><code>@MockitoSettings(strictness = Strictness.STRICT_STUBS)\n</code></pre>\n<p>If we set our unit test collection to strict stubs and our tests do not access to any external system, it means that each test its independent from each other and then we can directly apply <code>@ParallelizableTest</code> annotation to enable concurrent execution, am I right?</p>\n"},{"tags":["java","eclipse","java-9","java-platform-module-system"],"comments":[{"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1511786998,"post_id":47511379,"comment_id":81978463,"body_markdown":"`modulefinder` is the name of the module?","body":"<code>modulefinder</code> is the name of the module?"},{"owner":{"account_id":2050226,"reputation":1163,"user_id":1829401,"accept_rate":72,"display_name":"Gert Kommer"},"score":0,"creation_date":1511787383,"post_id":47511379,"comment_id":81978730,"body_markdown":"@nullpointer yes it is. btw I tried do a maven install and run it from console like this `.\\java.exe -cp c:\\pathtojar\\myjar.jar package.App` and that works. So I guess it is eclipse related?","body":"@nullpointer yes it is. btw I tried do a maven install and run it from console like this <code>.\\java.exe -cp c:\\pathtojar\\myjar.jar package.App</code> and that works. So I guess it is eclipse related?"},{"owner":{"account_id":2050226,"reputation":1163,"user_id":1829401,"accept_rate":72,"display_name":"Gert Kommer"},"score":0,"creation_date":1511789321,"post_id":47511379,"comment_id":81979904,"body_markdown":"@nullpointer Intellij works as well. I guess eclipse has still some issues with the relatively new java.","body":"@nullpointer Intellij works as well. I guess eclipse has still some issues with the relatively new java."}],"answers":[{"tags":[],"owner":{"account_id":2050226,"reputation":1163,"user_id":1829401,"accept_rate":72,"display_name":"Gert Kommer"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1511790628,"creation_date":1511790628,"answer_id":47512521,"question_id":47511379,"body_markdown":"Found the answer based on intellij output:) I had to add the location of the classes to the vm arguments in the run configurations as well as the module name/path to main. like below. See the `java -help` command for more info regarding `-m` and `-p`\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/GItOt.png","title":"Eclipse - module not found when adding module-info.java","body":"<p>Found the answer based on intellij output:) I had to add the location of the classes to the vm arguments in the run configurations as well as the module name/path to main. like below. See the <code>java -help</code> command for more info regarding <code>-m</code> and <code>-p</code></p>\n\n<p><a href=\"https://i.stack.imgur.com/GItOt.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/GItOt.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":8419280,"reputation":51,"user_id":6318524,"display_name":"surya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674554384,"creation_date":1674554384,"answer_id":75219870,"question_id":47511379,"body_markdown":"I have faced a similar kind of issue, so I have deleted the module-info.java in eclipse. It worked for me.","title":"Eclipse - module not found when adding module-info.java","body":"<p>I have faced a similar kind of issue, so I have deleted the module-info.java in eclipse. It worked for me.</p>\n"}],"owner":{"account_id":2050226,"reputation":1163,"user_id":1829401,"accept_rate":72,"display_name":"Gert Kommer"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43563,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":47512521,"answer_count":2,"score":15,"last_activity_date":1674554384,"creation_date":1511786890,"question_id":47511379,"body_markdown":"I have a simple hello world project in eclipse that I want to run with java 9. The program runs when I don&#39;t have a `module-info.java` file but when I add that file I get the following error:\r\n\r\n    Error occurred during initialization of boot layer\r\n    java.lang.module.FindException: Module modulefinder not found\r\n\r\nSteps to reproduce  \r\n1. Create a new maven project  \r\n2. Change compiler and build path jre to 9  \r\n3. Auto generate module-info.java  \r\n4. Update junit dependency in junit to 4.12 if eclipse complains  \r\n5. Run the project  \r\n\r\nIs this an eclipse related issue or am I missing something when running the project?\r\n\r\nFYI eclipse version I use is Oxygen.1a Release (4.7.1a)\r\n","title":"Eclipse - module not found when adding module-info.java","body":"<p>I have a simple hello world project in eclipse that I want to run with java 9. The program runs when I don't have a <code>module-info.java</code> file but when I add that file I get the following error:</p>\n\n<pre><code>Error occurred during initialization of boot layer\njava.lang.module.FindException: Module modulefinder not found\n</code></pre>\n\n<p>Steps to reproduce<br>\n1. Create a new maven project<br>\n2. Change compiler and build path jre to 9<br>\n3. Auto generate module-info.java<br>\n4. Update junit dependency in junit to 4.12 if eclipse complains<br>\n5. Run the project  </p>\n\n<p>Is this an eclipse related issue or am I missing something when running the project?</p>\n\n<p>FYI eclipse version I use is Oxygen.1a Release (4.7.1a)</p>\n"},{"tags":["java","comparison","rdf","jena","owl"],"comments":[{"owner":{"account_id":529247,"reputation":10544,"user_id":1197045,"display_name":"Ignazio"},"score":1,"creation_date":1519630115,"post_id":48974301,"comment_id":84971524,"body_markdown":"You&#39;re calling .nextStatement() twice in this example. This has the effect of skipping one statement for each statement examined.","body":"You&#39;re calling .nextStatement() twice in this example. This has the effect of skipping one statement for each statement examined."}],"answers":[{"tags":[],"owner":{"account_id":203984,"reputation":21747,"user_id":451941,"accept_rate":100,"display_name":"Jeen Broekstra"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1519612847,"creation_date":1519612847,"answer_id":48980729,"question_id":48974301,"body_markdown":"In comparing RDF models, &quot;isomorphic&quot; means that the two models can be mapped 1:1 on to each other. This mapping uses equality for comparing any IRIs or literal values, but uses a correspondence mapping between blank nodes. The reason this is necessary is that _by definition_, a blank node is unique to the model in which it occurs, so simply comparing blank nodes for equality will always fail. \r\n\r\nTwo isomorphic models are, for all intents and purposes, identical. The reason your separate comparison (`model2.containsResource`) fails is that some resource in your model are blank nodes, so you are trying to compare blank node equality between models, which will fail. \r\n\r\n&gt; I want to check if any class is deleted or added in the new version. How it is possible check for the changes? \r\n\r\nThe `isIsomorphic` check will tell you if you need to look for any changes. If two models are _not_ isomorphic, you should be able to find missing subjects in one model or the other _disregarding blank nodes_: \r\n\r\n          Resource toSearch = iter.nextStatement().getSubject();\r\n          if (!toSearch.isAnon() &amp;&amp; !model2.containsResource(toSearch)) { \r\n                  ...\r\n          }\r\n\r\nNote that this check isn&#39;t full-proof by the way, as you are merely checking for the addition/deletion of a subject. It might very well be that your change added a triple with an already-existing subject - and this check wouldn&#39;t find that change. But I&#39;m assuming you _only_ want to test for newly added/removed classes, in which case this should probably work. A more robust test might be that you loop over all `rdf:type` relations and check that the ones not involving blank nodes exist in both models.","title":"Comparing two OntModels in Jena","body":"<p>In comparing RDF models, \"isomorphic\" means that the two models can be mapped 1:1 on to each other. This mapping uses equality for comparing any IRIs or literal values, but uses a correspondence mapping between blank nodes. The reason this is necessary is that <em>by definition</em>, a blank node is unique to the model in which it occurs, so simply comparing blank nodes for equality will always fail. </p>\n\n<p>Two isomorphic models are, for all intents and purposes, identical. The reason your separate comparison (<code>model2.containsResource</code>) fails is that some resource in your model are blank nodes, so you are trying to compare blank node equality between models, which will fail. </p>\n\n<blockquote>\n  <p>I want to check if any class is deleted or added in the new version. How it is possible check for the changes? </p>\n</blockquote>\n\n<p>The <code>isIsomorphic</code> check will tell you if you need to look for any changes. If two models are <em>not</em> isomorphic, you should be able to find missing subjects in one model or the other <em>disregarding blank nodes</em>: </p>\n\n<pre><code>      Resource toSearch = iter.nextStatement().getSubject();\n      if (!toSearch.isAnon() &amp;&amp; !model2.containsResource(toSearch)) { \n              ...\n      }\n</code></pre>\n\n<p>Note that this check isn't full-proof by the way, as you are merely checking for the addition/deletion of a subject. It might very well be that your change added a triple with an already-existing subject - and this check wouldn't find that change. But I'm assuming you <em>only</em> want to test for newly added/removed classes, in which case this should probably work. A more robust test might be that you loop over all <code>rdf:type</code> relations and check that the ones not involving blank nodes exist in both models.</p>\n"},{"tags":[],"owner":{"account_id":17327435,"reputation":151,"user_id":12551369,"display_name":"Paul EDANGE"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674554243,"creation_date":1674554243,"answer_id":75219847,"question_id":48974301,"body_markdown":"You could compare the statements between the 2 models.\r\n\r\nHere is a Custom `RdfUtils` class with a `getStatementsDiff` static method :\r\n```java\r\nimport lombok.Getter;\r\nimport lombok.NoArgsConstructor;\r\nimport org.apache.jena.rdf.model.Model;\r\nimport org.apache.jena.rdf.model.Statement;\r\nimport org.springframework.lang.NonNull;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.Objects;\r\nimport java.util.stream.Collectors;\r\n\r\npublic class RdfUtils {\r\n\r\n    @NonNull\r\n    public static StatementDiff getStatementsDiff(@NonNull final Model expectedModel, @NonNull final Model actualModel) {\r\n        final StatementDiff diff = new StatementDiff();\r\n        \r\n        // Create list with expected statements\r\n        final List&lt;Statement&gt; expectedStatements = new ArrayList&lt;&gt;();\r\n        expectedModel.listStatements().forEachRemaining(expectedStatements::add);\r\n\r\n        // Create list with actual statements\r\n        final List&lt;Statement&gt; actualStatements = new ArrayList&lt;&gt;();\r\n        actualModel.listStatements().forEachRemaining(actualStatements::add);\r\n\r\n        // Find the missing statements\r\n        expectedStatements\r\n                .stream()\r\n                .filter(expectedStatement -&gt; actualStatements.stream().noneMatch(s -&gt; s.equals(expectedStatement)))\r\n                .forEach(expectedStatement -&gt; diff.getMissingStatements().add(expectedStatement));\r\n\r\n        // Find the excess statements\r\n        actualStatements\r\n                .stream()\r\n                .filter(actualStatement -&gt; expectedStatements.stream().noneMatch(s -&gt; s.equals(actualStatement)))\r\n                .forEach(actualStatement -&gt; diff.getExcessStatements().add(actualStatement));\r\n\r\n        return diff;\r\n    }\r\n\r\n    @Getter\r\n    @NoArgsConstructor\r\n    public static class StatementDiff {\r\n        private final List&lt;Statement&gt; missingStatements = new ArrayList&lt;&gt;();\r\n        private final List&lt;Statement&gt; excessStatements = new ArrayList&lt;&gt;();\r\n\r\n        public boolean hasDiff() {\r\n            return !missingStatements.isEmpty() || !excessStatements.isEmpty();\r\n        }\r\n\r\n        @Override\r\n        public String toString() {\r\n            if (this.hasDiff()) {\r\n                return &quot;&gt;&gt; missingStatements :: \\n&quot; + missingStatements.stream().map(Objects::toString).collect(Collectors.joining(&quot;\\n&quot;)) + &quot;\\n\\n&quot; +\r\n                        &quot;&gt;&gt; excessStatements :: \\n&quot; + excessStatements.stream().map(Objects::toString).collect(Collectors.joining(&quot;\\n&quot;));\r\n            } else {\r\n                return &quot;&gt;&gt; No diff found&quot;;\r\n            }\r\n        }\r\n    }\r\n\r\n}\r\n```","title":"Comparing two OntModels in Jena","body":"<p>You could compare the statements between the 2 models.</p>\n<p>Here is a Custom <code>RdfUtils</code> class with a <code>getStatementsDiff</code> static method :</p>\n<pre class=\"lang-java prettyprint-override\"><code>import lombok.Getter;\nimport lombok.NoArgsConstructor;\nimport org.apache.jena.rdf.model.Model;\nimport org.apache.jena.rdf.model.Statement;\nimport org.springframework.lang.NonNull;\n\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Objects;\nimport java.util.stream.Collectors;\n\npublic class RdfUtils {\n\n    @NonNull\n    public static StatementDiff getStatementsDiff(@NonNull final Model expectedModel, @NonNull final Model actualModel) {\n        final StatementDiff diff = new StatementDiff();\n        \n        // Create list with expected statements\n        final List&lt;Statement&gt; expectedStatements = new ArrayList&lt;&gt;();\n        expectedModel.listStatements().forEachRemaining(expectedStatements::add);\n\n        // Create list with actual statements\n        final List&lt;Statement&gt; actualStatements = new ArrayList&lt;&gt;();\n        actualModel.listStatements().forEachRemaining(actualStatements::add);\n\n        // Find the missing statements\n        expectedStatements\n                .stream()\n                .filter(expectedStatement -&gt; actualStatements.stream().noneMatch(s -&gt; s.equals(expectedStatement)))\n                .forEach(expectedStatement -&gt; diff.getMissingStatements().add(expectedStatement));\n\n        // Find the excess statements\n        actualStatements\n                .stream()\n                .filter(actualStatement -&gt; expectedStatements.stream().noneMatch(s -&gt; s.equals(actualStatement)))\n                .forEach(actualStatement -&gt; diff.getExcessStatements().add(actualStatement));\n\n        return diff;\n    }\n\n    @Getter\n    @NoArgsConstructor\n    public static class StatementDiff {\n        private final List&lt;Statement&gt; missingStatements = new ArrayList&lt;&gt;();\n        private final List&lt;Statement&gt; excessStatements = new ArrayList&lt;&gt;();\n\n        public boolean hasDiff() {\n            return !missingStatements.isEmpty() || !excessStatements.isEmpty();\n        }\n\n        @Override\n        public String toString() {\n            if (this.hasDiff()) {\n                return &quot;&gt;&gt; missingStatements :: \\n&quot; + missingStatements.stream().map(Objects::toString).collect(Collectors.joining(&quot;\\n&quot;)) + &quot;\\n\\n&quot; +\n                        &quot;&gt;&gt; excessStatements :: \\n&quot; + excessStatements.stream().map(Objects::toString).collect(Collectors.joining(&quot;\\n&quot;));\n            } else {\n                return &quot;&gt;&gt; No diff found&quot;;\n            }\n        }\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":3751504,"reputation":33,"user_id":3118908,"display_name":"zeeshaniazi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":608,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":48980729,"answer_count":2,"score":2,"last_activity_date":1674554243,"creation_date":1519567310,"question_id":48974301,"body_markdown":"I am trying to compare two different versions of an ontology by using java. OntModels are populated as &quot;RDF/XML-ABBREV&quot;. But my results are not same as expected. I am checking if both models are isomorphic and the result is true. But when I iterate through the models it gives me results that they are different. Even if I load same version in both models still it gives me same results. I want to check if any class is deleted or added in the new version. How it is possible check for the changes? \r\n\r\n\t\t\tStmtIterator iter = model.listStatements();\r\n\t        if (model.isIsomorphicWith(model2))\r\n\t        \tSystem.out.println(&quot;Both are isomorphic&quot;);\r\n\t        while (iter.hasNext()) {\r\n\t            Statement stmt = iter.nextStatement();\r\n\t        \tResource toSearch = iter.nextStatement().getSubject();\r\n\t            if (!model2.containsResource(toSearch)) \r\n\t            \tSystem.out.println(&quot;statement not found&quot;+ toSearch);\r\n\t        }","title":"Comparing two OntModels in Jena","body":"<p>I am trying to compare two different versions of an ontology by using java. OntModels are populated as \"RDF/XML-ABBREV\". But my results are not same as expected. I am checking if both models are isomorphic and the result is true. But when I iterate through the models it gives me results that they are different. Even if I load same version in both models still it gives me same results. I want to check if any class is deleted or added in the new version. How it is possible check for the changes? </p>\n\n<pre><code>        StmtIterator iter = model.listStatements();\n        if (model.isIsomorphicWith(model2))\n            System.out.println(\"Both are isomorphic\");\n        while (iter.hasNext()) {\n            Statement stmt = iter.nextStatement();\n            Resource toSearch = iter.nextStatement().getSubject();\n            if (!model2.containsResource(toSearch)) \n                System.out.println(\"statement not found\"+ toSearch);\n        }\n</code></pre>\n"},{"tags":["java","elasticsearch","elasticsearch-8"],"comments":[{"owner":{"account_id":24908380,"reputation":3091,"user_id":18778181,"display_name":"rabbitbr"},"score":0,"creation_date":1667579130,"post_id":74319182,"comment_id":131207451,"body_markdown":"give more details: documents, mapping.","body":"give more details: documents, mapping."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1667931207,"post_id":74319182,"comment_id":131284282,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":17656603,"reputation":9583,"user_id":12816049,"display_name":"Rafiq"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674554189,"creation_date":1674554189,"answer_id":75219832,"question_id":74319182,"body_markdown":"I had the same problem\r\n\r\nbellow query giving me same error:, I had to pick parent document by using a field instead of **_id** \r\n```\r\nGET /user_data_factory/_search?from=0&amp;size=20\r\n{\r\n   &quot;query&quot;: {\r\n        &quot;bool&quot;: {\r\n          &quot;must&quot;: [\r\n            {\r\n              &quot;match&quot;: {\r\n                &quot;relation_type&quot;: &quot;uinsp&quot;\r\n              }\r\n            },\r\n            {\r\n              &quot;bool&quot;: {\r\n                &quot;minimum_should_match&quot;: 1,\r\n                &quot;should&quot;: [\r\n                  {\r\n                    &quot;bool&quot;: {\r\n                      &quot;must&quot;: [\r\n                        {\r\n                          &quot;match&quot;: {\r\n                            &quot;userInspirer&quot;: &quot;63bef9f9a8c98000126589eb&quot;\r\n                          }\r\n                        },\r\n                        {\r\n                          &quot;bool&quot;: {\r\n                            &quot;minimum_should_match&quot;: 1,\r\n                            &quot;should&quot;: [\r\n                               {\r\n                                &quot;has_parent&quot;: {\r\n                                  &quot;parent_type&quot;: &quot;user&quot;,\r\n                                  &quot;query&quot;: {\r\n                                    &quot;match&quot;: {\r\n                                      &quot;_id&quot;: &quot;63bd1ff29510390012760322&quot;\r\n                                    }\r\n                                  },\r\n                                   &quot;inner_hits&quot;: {\r\n                                    &quot;_source&quot;: [&quot;id&quot;]\r\n                                  }\r\n                                }\r\n                              }]\r\n                            \r\n                          }\r\n                        }\r\n                      ]\r\n                    }\r\n                  }]\r\n              \r\n              }\r\n            }\r\n          ]\r\n        }\r\n      }\r\n}\r\n```\r\nusing field instead of _id\r\n\r\n```\r\nGET /user_data_factory/_search?from=0&amp;size=20\r\n{\r\n   &quot;query&quot;: {\r\n        &quot;bool&quot;: {\r\n          &quot;must&quot;: [\r\n            {\r\n              &quot;match&quot;: {\r\n                &quot;relation_type&quot;: &quot;uinsp&quot;\r\n              }\r\n            },\r\n            {\r\n              &quot;bool&quot;: {\r\n                &quot;minimum_should_match&quot;: 1,\r\n                &quot;should&quot;: [\r\n                  {\r\n                    &quot;bool&quot;: {\r\n                      &quot;must&quot;: [\r\n                        {\r\n                          &quot;match&quot;: {\r\n                            &quot;userInspirer&quot;: &quot;63bef9f9a8c98000126589eb&quot;\r\n                          }\r\n                        },\r\n                        {\r\n                          &quot;bool&quot;: {\r\n                            &quot;minimum_should_match&quot;: 1,\r\n                            &quot;should&quot;: [\r\n                               {\r\n                                &quot;has_parent&quot;: {\r\n                                  &quot;parent_type&quot;: &quot;user&quot;,\r\n                                  &quot;query&quot;: {\r\n                                    &quot;match&quot;: {\r\n                                      &quot;id&quot;: &quot;63bd1ff29510390012760322&quot;\r\n                                    }\r\n                                  },\r\n                                   &quot;inner_hits&quot;: {\r\n                                    &quot;_source&quot;: [&quot;id&quot;]\r\n                                  }\r\n                                }\r\n                              }]\r\n                            \r\n                          }\r\n                        }\r\n                      ]\r\n                    }\r\n                  }]\r\n              \r\n              }\r\n            }\r\n          ]\r\n        }\r\n      }\r\n}\r\n```","title":"Couldn&#39;t find nested source for path when running inner hit query for has parent query","body":"<p>I had the same problem</p>\n<p>bellow query giving me same error:, I had to pick parent document by using a field instead of <strong>_id</strong></p>\n<pre><code>GET /user_data_factory/_search?from=0&amp;size=20\n{\n   &quot;query&quot;: {\n        &quot;bool&quot;: {\n          &quot;must&quot;: [\n            {\n              &quot;match&quot;: {\n                &quot;relation_type&quot;: &quot;uinsp&quot;\n              }\n            },\n            {\n              &quot;bool&quot;: {\n                &quot;minimum_should_match&quot;: 1,\n                &quot;should&quot;: [\n                  {\n                    &quot;bool&quot;: {\n                      &quot;must&quot;: [\n                        {\n                          &quot;match&quot;: {\n                            &quot;userInspirer&quot;: &quot;63bef9f9a8c98000126589eb&quot;\n                          }\n                        },\n                        {\n                          &quot;bool&quot;: {\n                            &quot;minimum_should_match&quot;: 1,\n                            &quot;should&quot;: [\n                               {\n                                &quot;has_parent&quot;: {\n                                  &quot;parent_type&quot;: &quot;user&quot;,\n                                  &quot;query&quot;: {\n                                    &quot;match&quot;: {\n                                      &quot;_id&quot;: &quot;63bd1ff29510390012760322&quot;\n                                    }\n                                  },\n                                   &quot;inner_hits&quot;: {\n                                    &quot;_source&quot;: [&quot;id&quot;]\n                                  }\n                                }\n                              }]\n                            \n                          }\n                        }\n                      ]\n                    }\n                  }]\n              \n              }\n            }\n          ]\n        }\n      }\n}\n</code></pre>\n<p>using field instead of _id</p>\n<pre><code>GET /user_data_factory/_search?from=0&amp;size=20\n{\n   &quot;query&quot;: {\n        &quot;bool&quot;: {\n          &quot;must&quot;: [\n            {\n              &quot;match&quot;: {\n                &quot;relation_type&quot;: &quot;uinsp&quot;\n              }\n            },\n            {\n              &quot;bool&quot;: {\n                &quot;minimum_should_match&quot;: 1,\n                &quot;should&quot;: [\n                  {\n                    &quot;bool&quot;: {\n                      &quot;must&quot;: [\n                        {\n                          &quot;match&quot;: {\n                            &quot;userInspirer&quot;: &quot;63bef9f9a8c98000126589eb&quot;\n                          }\n                        },\n                        {\n                          &quot;bool&quot;: {\n                            &quot;minimum_should_match&quot;: 1,\n                            &quot;should&quot;: [\n                               {\n                                &quot;has_parent&quot;: {\n                                  &quot;parent_type&quot;: &quot;user&quot;,\n                                  &quot;query&quot;: {\n                                    &quot;match&quot;: {\n                                      &quot;id&quot;: &quot;63bd1ff29510390012760322&quot;\n                                    }\n                                  },\n                                   &quot;inner_hits&quot;: {\n                                    &quot;_source&quot;: [&quot;id&quot;]\n                                  }\n                                }\n                              }]\n                            \n                          }\n                        }\n                      ]\n                    }\n                  }]\n              \n              }\n            }\n          ]\n        }\n      }\n}\n</code></pre>\n"}],"owner":{"account_id":26830432,"reputation":1,"user_id":20418491,"display_name":"gandhe hemanth"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674554189,"creation_date":1667574784,"question_id":74319182,"body_markdown":"```\r\nwe are migrating to elastic search 8 and when we are trying to fetch the data of parent document inner hits using has parent query .elastic search returning exception when runnning innerhits for has parent query. \r\n```\r\n\r\n\r\nhttps://discuss.elastic.co/t/inner-hits-in-has-parent-giving-error-couldnt-find-nested-source-for-path-currentcompany/318232","title":"Couldn&#39;t find nested source for path when running inner hit query for has parent query","body":"<pre><code>we are migrating to elastic search 8 and when we are trying to fetch the data of parent document inner hits using has parent query .elastic search returning exception when runnning innerhits for has parent query. \n</code></pre>\n<p><a href=\"https://discuss.elastic.co/t/inner-hits-in-has-parent-giving-error-couldnt-find-nested-source-for-path-currentcompany/318232\" rel=\"nofollow noreferrer\">https://discuss.elastic.co/t/inner-hits-in-has-parent-giving-error-couldnt-find-nested-source-for-path-currentcompany/318232</a></p>\n"},{"tags":["java","spring","spring-boot","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1674554734,"post_id":75219751,"comment_id":132733640,"body_markdown":"based on naming convention I would say TC is trying to map auxiliary table, which backs up `@ManyToAny` or `@OneToMany` association, to independent entity.","body":"based on naming convention I would say TC is trying to map auxiliary table, which backs up <code>@ManyToAny</code> or <code>@OneToMany</code> association, to independent entity."},{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1674555147,"post_id":75219751,"comment_id":132733760,"body_markdown":"If that is true and you really need such mapping, place `@Immutable` over class and replace `@Table(name = &quot;meeting_window_meetings&quot;)` with `@Subselect(&quot;select meeting_window_id, meetings_id from meeting_window_meetings&quot;)`","body":"If that is true and you really need such mapping, place <code>@Immutable</code> over class and replace <code>@Table(name = &quot;meeting_window_meetings&quot;)</code> with <code>@Subselect(&quot;select meeting_window_id, meetings_id from meeting_window_meetings&quot;)</code>"},{"owner":{"account_id":2412723,"reputation":17369,"user_id":2463734,"accept_rate":75,"display_name":"HIRA THAKUR"},"score":0,"creation_date":1674555816,"post_id":75219751,"comment_id":132733953,"body_markdown":"@AndreyB.Panfilov The mappings are needed as this is Junction table to `meeting` and `meeting_window` tables.","body":"@AndreyB.Panfilov The mappings are needed as this is Junction table to <code>meeting</code> and <code>meeting_window</code> tables."},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1674558099,"post_id":75219751,"comment_id":132734655,"body_markdown":"If `MeetingWindowMeeting` should represent a `@ManyToMany` relationship, then this class is not needed at all, as you would use `@JoinTable` annotation to define the mapping","body":"If <code>MeetingWindowMeeting</code> should represent a <code>@ManyToMany</code> relationship, then this class is not needed at all, as you would use <code>@JoinTable</code> annotation to define the mapping"}],"owner":{"account_id":2412723,"reputation":17369,"user_id":2463734,"accept_rate":75,"display_name":"HIRA THAKUR"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":184,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674554140,"creation_date":1674553737,"question_id":75219751,"body_markdown":"This is how my class looks like : \r\n\r\n**crm/model/meetingwindow/MeetingWindowMeeting.java**\r\n\r\n    @Entity\r\n    @Getter\r\n    @Setter\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Table(name = &quot;meeting_window_meetings&quot;)\r\n    public class MeetingWindowMeeting {\r\n    \r\n        @Column(name = &quot;meeting_window_id&quot;)\r\n        private Long meetingWindowId;\r\n    \r\n        @Column(name = &quot;meetings_id&quot;)\r\n        @Id\r\n        private Long meetingId;\r\n    }\r\n\r\nThe application fails to start and throws error : \r\n\r\n```org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;jpaAuditingHandler&#39;: Cannot resolve reference to bean &#39;jpaMappingContext&#39; while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;jpaMappingContext&#39;: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Export identifier [meeting_window_meetings] encountered more than once```\r\n\r\nI am unable to figure out what is causing this error and how to fix this?\r\n\r\nAny help on how to go about this?\r\n","title":"nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Export identifier [meeting_window_meetings] encountered more than once","body":"<p>This is how my class looks like :</p>\n<p><strong>crm/model/meetingwindow/MeetingWindowMeeting.java</strong></p>\n<pre><code>@Entity\n@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\n@Table(name = &quot;meeting_window_meetings&quot;)\npublic class MeetingWindowMeeting {\n\n    @Column(name = &quot;meeting_window_id&quot;)\n    private Long meetingWindowId;\n\n    @Column(name = &quot;meetings_id&quot;)\n    @Id\n    private Long meetingId;\n}\n</code></pre>\n<p>The application fails to start and throws error :</p>\n<p><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jpaAuditingHandler': Cannot resolve reference to bean 'jpaMappingContext' while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jpaMappingContext': Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Export identifier [meeting_window_meetings] encountered more than once</code></p>\n<p>I am unable to figure out what is causing this error and how to fix this?</p>\n<p>Any help on how to go about this?</p>\n"},{"tags":["java","loops","math"],"comments":[{"owner":{"display_name":"user6073886"},"score":2,"creation_date":1674554058,"post_id":75219787,"comment_id":132733409,"body_markdown":"Your inner `while` loop will run until `i` is `0` or smaller, meaning after it is done running it will pretty much make sure that the outer loop condition of `i&lt;finish` never becomes false.","body":"Your inner <code>while</code> loop will run until <code>i</code> is <code>0</code> or smaller, meaning after it is done running it will pretty much make sure that the outer loop condition of <code>i&lt;finish</code> never becomes false."},{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":1,"creation_date":1674554143,"post_id":75219787,"comment_id":132733438,"body_markdown":"`i` will eventually jump between `0` and `1`, because you&#39;re using that variable as a condition for your `for` loop where it gets incremented but you&#39;re using it for calculations later down the line where you decrease it again.","body":"<code>i</code> will eventually jump between <code>0</code> and <code>1</code>, because you&#39;re using that variable as a condition for your <code>for</code> loop where it gets incremented but you&#39;re using it for calculations later down the line where you decrease it again."},{"owner":{"account_id":18953092,"reputation":3,"user_id":13830332,"display_name":"Solijon Iminov"},"score":0,"creation_date":1674554890,"post_id":75219787,"comment_id":132733688,"body_markdown":"for example i =10 Digit1 = 0 then i = 1 then Digit2 = 1 i = 0. because i=i/10 take whole part for example 0=1/10","body":"for example i =10 Digit1 = 0 then i = 1 then Digit2 = 1 i = 0. because i=i/10 take whole part for example 0=1/10"},{"owner":{"account_id":18953092,"reputation":3,"user_id":13830332,"display_name":"Solijon Iminov"},"score":0,"creation_date":1674554964,"post_id":75219787,"comment_id":132733706,"body_markdown":"Then while loop exit to for loop and i take 11 . But my for loop is stucking.","body":"Then while loop exit to for loop and i take 11 . But my for loop is stucking."},{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":1,"creation_date":1674557741,"post_id":75219787,"comment_id":132734560,"body_markdown":"@SolijonIminov no, `i` will not be `11`, it will be `1` because you&#39;ve changed `i` in your `while` loop to be  `i = i / 10;`. So after that loop `i` has become `0` and then your `for` loop increments it to `1` again.","body":"@SolijonIminov no, <code>i</code> will not be <code>11</code>, it will be <code>1</code> because you&#39;ve changed <code>i</code> in your <code>while</code> loop to be  <code>i = i &#47; 10;</code>. So after that loop <code>i</code> has become <code>0</code> and then your <code>for</code> loop increments it to <code>1</code> again."}],"answers":[{"tags":[],"owner":{"account_id":7701,"reputation":47163,"user_id":13447,"accept_rate":100,"display_name":"Olaf Kock"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1674554128,"creation_date":1674554128,"answer_id":75219818,"question_id":75219787,"body_markdown":"In your inner (`while`) loop, you set `i = i/10`, effectively making sure that `i` will never reach the termination condition of the `for` loop","title":"I can&#39;t see the error in my code. The code is running but it is stuck in a loop","body":"<p>In your inner (<code>while</code>) loop, you set <code>i = i/10</code>, effectively making sure that <code>i</code> will never reach the termination condition of the <code>for</code> loop</p>\n"}],"owner":{"account_id":18953092,"reputation":3,"user_id":13830332,"display_name":"Solijon Iminov"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75219818,"answer_count":1,"score":-1,"last_activity_date":1674554128,"creation_date":1674553955,"question_id":75219787,"body_markdown":"I was writing code that finds the sum of the digits of the product of all n-digit numbers.\r\nI can&#39;t see the error in my code. The code is running but it is stuck in a loop.\r\nThis is my code :\r\n\r\n\r\n```\r\nimport java.util.Scanner;\r\npublic class SummarynDigitNumbersDigitMultiplyDigit {\r\n    public static void main (String[] args) {\r\n        Scanner s = new Scanner(System.in);\r\n        double n = s.nextInt();\r\n        double Digit;\r\n        double Summary = 0;\r\n        double MultipliedDigit = 1;\r\n        double start = Math.pow(10,n-1), finish=Math.pow(10,n);\r\n        for ( double i = start; i&lt;finish; i++){\r\n            while (i&gt;0) {\r\n                Digit = i % 10;\r\n                MultipliedDigit *= Digit;\r\n                i = i / 10;\r\n            }\r\n            Summary+=MultipliedDigit;\r\n        }\r\n        System.out.println(Summary );\r\n    }\r\n}\r\n```\r\n\r\nIf I write 1 to n Summary = 45 .","title":"I can&#39;t see the error in my code. The code is running but it is stuck in a loop","body":"<p>I was writing code that finds the sum of the digits of the product of all n-digit numbers.\nI can't see the error in my code. The code is running but it is stuck in a loop.\nThis is my code :</p>\n<pre><code>import java.util.Scanner;\npublic class SummarynDigitNumbersDigitMultiplyDigit {\n    public static void main (String[] args) {\n        Scanner s = new Scanner(System.in);\n        double n = s.nextInt();\n        double Digit;\n        double Summary = 0;\n        double MultipliedDigit = 1;\n        double start = Math.pow(10,n-1), finish=Math.pow(10,n);\n        for ( double i = start; i&lt;finish; i++){\n            while (i&gt;0) {\n                Digit = i % 10;\n                MultipliedDigit *= Digit;\n                i = i / 10;\n            }\n            Summary+=MultipliedDigit;\n        }\n        System.out.println(Summary );\n    }\n}\n</code></pre>\n<p>If I write 1 to n Summary = 45 .</p>\n"},{"tags":["java","android","xml","internationalization","xliff"],"answers":[{"tags":[],"owner":{"account_id":17332065,"reputation":339,"user_id":12554903,"display_name":"Pioupia"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674040282,"creation_date":1674040282,"answer_id":75158333,"question_id":75125634,"body_markdown":"So, I found a solution, because, I&#39;m stupid.\r\n\r\nFrom [this post][1] : \r\n\r\n&gt; The `example` attribute contains an example for the translator so that *he knows whether a placeholder stands for an integer, a date, a name, an organization or something completely different*, which may affect grammar in the target language.\r\n\r\nSo, I just had to add these two lines in my `strings.xml` file:\r\n```xml\r\n&lt;string name=&quot;starting_default&quot;&gt;Start: Unknown position.&lt;/string&gt;\r\n&lt;string name=&quot;end_default&quot;&gt;Arrival: Unknown position.&lt;/string&gt;\r\n```\r\n\r\nAnd reference them in the `activity_layout.xml` file with the `@string/starting_default` value.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/35004433/how-to-use-android-xliffg#comment57845807_35004968","title":"Internationalization in Android (Java), use default values of xliff:g in layouts (XML)","body":"<p>So, I found a solution, because, I'm stupid.</p>\n<p>From <a href=\"https://stackoverflow.com/questions/35004433/how-to-use-android-xliffg#comment57845807_35004968\">this post</a> :</p>\n<blockquote>\n<p>The <code>example</code> attribute contains an example for the translator so that <em>he knows whether a placeholder stands for an integer, a date, a name, an organization or something completely different</em>, which may affect grammar in the target language.</p>\n</blockquote>\n<p>So, I just had to add these two lines in my <code>strings.xml</code> file:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;string name=&quot;starting_default&quot;&gt;Start: Unknown position.&lt;/string&gt;\n&lt;string name=&quot;end_default&quot;&gt;Arrival: Unknown position.&lt;/string&gt;\n</code></pre>\n<p>And reference them in the <code>activity_layout.xml</code> file with the <code>@string/starting_default</code> value.</p>\n"},{"tags":[],"owner":{"account_id":21796,"reputation":5577,"user_id":53276,"display_name":"Mihai Nita"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1674554067,"creation_date":1674554067,"answer_id":75219802,"question_id":75125634,"body_markdown":"The `&lt;xliff:g&gt;` tags are not preserved at runtime.  \r\nThey are only useful in the translation phase. They protect the text in-between, so that translators don&#39;t damage the `%1$s` and so on, and they give extra context to the translators (through the ID and example), so that they know what that is going to be there in the end.\r\n\r\nBut the tags are dropped when the resources are compiled.\r\n\r\nSo this is what you have visible at runtime:\r\n```\r\nstarting = &quot;Start: %1$s.&quot;\r\nend = &quot;Arrival: %1$s.&quot;\r\nbeginning_default=&quot;• Beginning: %1$s&quot;\r\nending_default=&quot;• End: %1$s&quot;\r\n```\r\nNote that all you have are positional parameters.\r\n\r\nWhen you call these from code you probably do something like this:\r\n```\r\nString text = resources.getString(R.string.beginning_default, startDate);\r\n```\r\nYou provide a parameter that is is formatted and replaces the `%1$s`.  \r\nBut when you use the string in the layout there are no parameters, and `%1$s` is left &quot;as is&quot;.\r\n","title":"Internationalization in Android (Java), use default values of xliff:g in layouts (XML)","body":"<p>The <code>&lt;xliff:g&gt;</code> tags are not preserved at runtime.<br />\nThey are only useful in the translation phase. They protect the text in-between, so that translators don't damage the <code>%1$s</code> and so on, and they give extra context to the translators (through the ID and example), so that they know what that is going to be there in the end.</p>\n<p>But the tags are dropped when the resources are compiled.</p>\n<p>So this is what you have visible at runtime:</p>\n<pre><code>starting = &quot;Start: %1$s.&quot;\nend = &quot;Arrival: %1$s.&quot;\nbeginning_default=&quot;• Beginning: %1$s&quot;\nending_default=&quot;• End: %1$s&quot;\n</code></pre>\n<p>Note that all you have are positional parameters.</p>\n<p>When you call these from code you probably do something like this:</p>\n<pre><code>String text = resources.getString(R.string.beginning_default, startDate);\n</code></pre>\n<p>You provide a parameter that is is formatted and replaces the <code>%1$s</code>.<br />\nBut when you use the string in the layout there are no parameters, and <code>%1$s</code> is left &quot;as is&quot;.</p>\n"}],"owner":{"account_id":17332065,"reputation":339,"user_id":12554903,"display_name":"Pioupia"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75219802,"answer_count":2,"score":1,"last_activity_date":1674554067,"creation_date":1673791418,"question_id":75125634,"body_markdown":"I started with internationalization in Android with i18n I guess (by default in Android Studio). But, I have a major problem. My application needed to be able to inject variables in my strings, so I took care to use as I had seen on the [official documentation of Android][1], that we could do this with the tag `&lt;xliff:g&gt;`. The `example` attribute works very well when we use this String in Java, with getString, but loses all efficiency when we use this same variable in its XML activity layout.\r\n\r\nFor example, this `strings.xml` file is used for the translation :\r\n```xml\r\n&lt;resources xmlns:xliff=&quot;urn:oasis:names:tc:xliff:document:1.2&quot;&gt;\r\n    &lt;string name=&quot;starting&quot;&gt;Start: &lt;xliff:g id=&quot;unknown_position&quot; example=&quot;Unknown position&quot;&gt;%1$s&lt;/xliff:g&gt;.&lt;/string&gt;\r\n    &lt;string name=&quot;end&quot;&gt;Arrival: &lt;xliff:g id=&quot;unknown_position&quot; example=&quot;Unknown position&quot;&gt;%1$s&lt;/xliff:g&gt;.&lt;/string&gt;\r\n    &lt;string name=&quot;beginning_default&quot;&gt;• Beginning: &lt;xliff:g id=&quot;unknown_start_date&quot; example=&quot;21 august 2022 at 14h21&quot;&gt;%1$s&lt;/xliff:g&gt;&lt;/string&gt;\r\n    &lt;string name=&quot;ending_default&quot;&gt;• End: &lt;xliff:g id=&quot;unknown_end_date&quot; example=&quot;22 august 2022 at 14h20&quot;&gt;%1$s&lt;/xliff:g&gt;&lt;/string&gt;\r\n&lt;/resources&gt;\r\n```\r\n\r\nI use theses variables in my `activity_layout.xml` file:\r\n```xml\r\n        &lt;TextView\r\n            android:id=&quot;@+id/startPositionText&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginBottom=&quot;10dp&quot;\r\n            android:text=&quot;@string/starting&quot;\r\n            android:textColor=&quot;@color/white&quot;\r\n            android:textSize=&quot;20sp&quot;\r\n            /&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/endPositionText&quot;\r\n            android:layout_below=&quot;@id/startPositionText&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginBottom=&quot;10dp&quot;\r\n            android:text=&quot;@string/end&quot;\r\n            android:textColor=&quot;@color/white&quot;\r\n            android:textSize=&quot;20sp&quot;\r\n            /&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/startText&quot;\r\n            android:layout_below=&quot;@+id/endPositionText&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;@string/beginning_default&quot;\r\n            android:textColor=&quot;@color/white&quot;\r\n            android:textSize=&quot;17sp&quot;\r\n            /&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/endText&quot;\r\n            android:layout_below=&quot;@id/startText&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;@string/ending_default&quot;\r\n            android:textColor=&quot;@color/white&quot;\r\n            android:textSize=&quot;17sp&quot;\r\n            /&gt;\r\n```\r\n\r\nBut, I&#39;ve the following result :\r\n\r\n[![problems][2]][2]\r\n\r\nDo you know how I can solve this problem ? And why does this happen?\r\n\r\nI thank you in advance, and wish you a good day!\r\n\r\n\r\n  [1]: https://developer.android.com/guide/topics/resources/localization#mark-message-parts\r\n  [2]: https://i.stack.imgur.com/9Gf8s.png","title":"Internationalization in Android (Java), use default values of xliff:g in layouts (XML)","body":"<p>I started with internationalization in Android with i18n I guess (by default in Android Studio). But, I have a major problem. My application needed to be able to inject variables in my strings, so I took care to use as I had seen on the <a href=\"https://developer.android.com/guide/topics/resources/localization#mark-message-parts\" rel=\"nofollow noreferrer\">official documentation of Android</a>, that we could do this with the tag <code>&lt;xliff:g&gt;</code>. The <code>example</code> attribute works very well when we use this String in Java, with getString, but loses all efficiency when we use this same variable in its XML activity layout.</p>\n<p>For example, this <code>strings.xml</code> file is used for the translation :</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;resources xmlns:xliff=&quot;urn:oasis:names:tc:xliff:document:1.2&quot;&gt;\n    &lt;string name=&quot;starting&quot;&gt;Start: &lt;xliff:g id=&quot;unknown_position&quot; example=&quot;Unknown position&quot;&gt;%1$s&lt;/xliff:g&gt;.&lt;/string&gt;\n    &lt;string name=&quot;end&quot;&gt;Arrival: &lt;xliff:g id=&quot;unknown_position&quot; example=&quot;Unknown position&quot;&gt;%1$s&lt;/xliff:g&gt;.&lt;/string&gt;\n    &lt;string name=&quot;beginning_default&quot;&gt;• Beginning: &lt;xliff:g id=&quot;unknown_start_date&quot; example=&quot;21 august 2022 at 14h21&quot;&gt;%1$s&lt;/xliff:g&gt;&lt;/string&gt;\n    &lt;string name=&quot;ending_default&quot;&gt;• End: &lt;xliff:g id=&quot;unknown_end_date&quot; example=&quot;22 august 2022 at 14h20&quot;&gt;%1$s&lt;/xliff:g&gt;&lt;/string&gt;\n&lt;/resources&gt;\n</code></pre>\n<p>I use theses variables in my <code>activity_layout.xml</code> file:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>        &lt;TextView\n            android:id=&quot;@+id/startPositionText&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_marginBottom=&quot;10dp&quot;\n            android:text=&quot;@string/starting&quot;\n            android:textColor=&quot;@color/white&quot;\n            android:textSize=&quot;20sp&quot;\n            /&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/endPositionText&quot;\n            android:layout_below=&quot;@id/startPositionText&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_marginBottom=&quot;10dp&quot;\n            android:text=&quot;@string/end&quot;\n            android:textColor=&quot;@color/white&quot;\n            android:textSize=&quot;20sp&quot;\n            /&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/startText&quot;\n            android:layout_below=&quot;@+id/endPositionText&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:text=&quot;@string/beginning_default&quot;\n            android:textColor=&quot;@color/white&quot;\n            android:textSize=&quot;17sp&quot;\n            /&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/endText&quot;\n            android:layout_below=&quot;@id/startText&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:text=&quot;@string/ending_default&quot;\n            android:textColor=&quot;@color/white&quot;\n            android:textSize=&quot;17sp&quot;\n            /&gt;\n</code></pre>\n<p>But, I've the following result :</p>\n<p><a href=\"https://i.stack.imgur.com/9Gf8s.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9Gf8s.png\" alt=\"problems\" /></a></p>\n<p>Do you know how I can solve this problem ? And why does this happen?</p>\n<p>I thank you in advance, and wish you a good day!</p>\n"},{"tags":["java","kotlin","oauth-2.0","postman","google-oauth"],"comments":[{"owner":{"account_id":2066403,"reputation":109410,"user_id":1841839,"accept_rate":71,"display_name":"Linda Lawton - DaImTo"},"score":0,"creation_date":1674114647,"post_id":75164815,"comment_id":132646665,"body_markdown":"Are you aware you are using a service account.   This is not going to let you authoze to a uaers account.   If you are working with android I suspect you should have created android credentials","body":"Are you aware you are using a service account.   This is not going to let you authoze to a uaers account.   If you are working with android I suspect you should have created android credentials"},{"owner":{"account_id":5946250,"reputation":375,"user_id":4675657,"accept_rate":100,"display_name":"Apuna12"},"score":0,"creation_date":1674117419,"post_id":75164815,"comment_id":132647403,"body_markdown":"do you have a tutorial or something please? Like I said.. maybe I did something wrong and I am not aware of this.","body":"do you have a tutorial or something please? Like I said.. maybe I did something wrong and I am not aware of this."},{"owner":{"account_id":2066403,"reputation":109410,"user_id":1841839,"accept_rate":71,"display_name":"Linda Lawton - DaImTo"},"score":0,"creation_date":1674126473,"post_id":75164815,"comment_id":132650278,"body_markdown":"Depends upon what you are trying to do.","body":"Depends upon what you are trying to do."},{"owner":{"account_id":5946250,"reputation":375,"user_id":4675657,"accept_rate":100,"display_name":"Apuna12"},"score":0,"creation_date":1674127730,"post_id":75164815,"comment_id":132650660,"body_markdown":"I have my Air Condition in my Google Home. I am trying to get some information from it  and possibly control it through API","body":"I have my Air Condition in my Google Home. I am trying to get some information from it  and possibly control it through API"},{"owner":{"account_id":2066403,"reputation":109410,"user_id":1841839,"accept_rate":71,"display_name":"Linda Lawton - DaImTo"},"score":0,"creation_date":1674129248,"post_id":75164815,"comment_id":132651129,"body_markdown":"Unless this device has an open api itself that you can connect to then probably not.  Any device that is hooked up to your wifi (wtf you if you have a wifi enabled air conditioner) its probably going to be locked down by the company that built it.  My thermostats on my radiator are connected to the companies i bought them form&#39;s cloud system but its no a system I am allowed to connect to.","body":"Unless this device has an open api itself that you can connect to then probably not.  Any device that is hooked up to your wifi (wtf you if you have a wifi enabled air conditioner) its probably going to be locked down by the company that built it.  My thermostats on my radiator are connected to the companies i bought them form&#39;s cloud system but its no a system I am allowed to connect to."},{"owner":{"account_id":5946250,"reputation":375,"user_id":4675657,"accept_rate":100,"display_name":"Apuna12"},"score":0,"creation_date":1674129619,"post_id":75164815,"comment_id":132651237,"body_markdown":"well.. I have HiSense AC.. They dont have public API, but they insist that it is possible to connect the account to Google Home or Amazon Alexa.. I was able to control it through these two, so I think that it is somehow possible to use API to control it... Correct me please if I am wrong in some way please","body":"well.. I have HiSense AC.. They dont have public API, but they insist that it is possible to connect the account to Google Home or Amazon Alexa.. I was able to control it through these two, so I think that it is somehow possible to use API to control it... Correct me please if I am wrong in some way please"}],"answers":[{"tags":[],"owner":{"account_id":92486,"reputation":45185,"user_id":253468,"accept_rate":79,"display_name":"TWiStErRob"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1674554063,"creation_date":1674554063,"answer_id":75219800,"question_id":75164815,"body_markdown":"From what I understand Cloud to Cloud API is for device manufacturers. Google focusing on getting every provider compatible with Google Home, so users can use it. I smell [XY problem](https://xyproblem.info/) here. There&#39;s extensive docs on [OAuth](https://developers.google.com/identity/protocols/oauth2), but I think you rather need a way to talk to Google Home&#39;s Assistant backend, just like Google Home / Nest / your phone does.\r\n\r\nI think you need this approach: talk to Assistant with text prompts to control your things.\r\n\r\nhttps://stackoverflow.com/a/54135312/253468\r\n\r\nFor that I would follow this tutorial:\r\n\r\nhttps://developers.google.com/assistant/sdk/guides/service/python\r\n\r\nhere&#39;s some code that looks promising:\r\n\r\nhttps://github.com/googlesamples/assistant-sdk-nodejs\r\n\r\nYou can choose another language you&#39;re more comfortable with:\r\n\r\nhttps://github.com/orgs/googlesamples/repositories?q=assistant-sdk","title":"Using google API using OAuth2 in Postman or Java/Kotlin","body":"<p>From what I understand Cloud to Cloud API is for device manufacturers. Google focusing on getting every provider compatible with Google Home, so users can use it. I smell <a href=\"https://xyproblem.info/\" rel=\"nofollow noreferrer\">XY problem</a> here. There's extensive docs on <a href=\"https://developers.google.com/identity/protocols/oauth2\" rel=\"nofollow noreferrer\">OAuth</a>, but I think you rather need a way to talk to Google Home's Assistant backend, just like Google Home / Nest / your phone does.</p>\n<p>I think you need this approach: talk to Assistant with text prompts to control your things.</p>\n<p><a href=\"https://stackoverflow.com/a/54135312/253468\">https://stackoverflow.com/a/54135312/253468</a></p>\n<p>For that I would follow this tutorial:</p>\n<p><a href=\"https://developers.google.com/assistant/sdk/guides/service/python\" rel=\"nofollow noreferrer\">https://developers.google.com/assistant/sdk/guides/service/python</a></p>\n<p>here's some code that looks promising:</p>\n<p><a href=\"https://github.com/googlesamples/assistant-sdk-nodejs\" rel=\"nofollow noreferrer\">https://github.com/googlesamples/assistant-sdk-nodejs</a></p>\n<p>You can choose another language you're more comfortable with:</p>\n<p><a href=\"https://github.com/orgs/googlesamples/repositories?q=assistant-sdk\" rel=\"nofollow noreferrer\">https://github.com/orgs/googlesamples/repositories?q=assistant-sdk</a></p>\n"}],"owner":{"account_id":5946250,"reputation":375,"user_id":4675657,"accept_rate":100,"display_name":"Apuna12"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":204,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75219800,"answer_count":1,"score":2,"last_activity_date":1674554063,"creation_date":1674072795,"question_id":75164815,"body_markdown":"I am here to ask you a for a help with OAuth2 for Google API.\r\n\r\nShort story: I am trying to access Google Home through API to use Air Condition.\r\n\r\nI saw many tutorials on this, but since google is changing it&#39;s api very often I don&#39;t know how to continue.\r\n\r\nI already have a client ID which I made through Google Console. Now I need to create OAuth2 token to communicate with the API either through Postman or directly from Android Kotlin app.\r\n\r\nGoogle console gave me following parameters:\r\n\r\n**client_id,\r\nproject_id,\r\nauth_uri,\r\ntoken_uri,\r\nauth_provider_x509_cert_url**\r\n\r\nAccording to this site: [GoogleSite][1] I can see that there should be other types of parameters (Or I am wrong maybe?)\r\n\r\nCan someone help me with getting OAuth2 Token either from Postman or Java/Kotlin ?\r\n\r\nThanks a lot\r\n\r\n\r\n  [1]: https://developers.home.google.com/cloud-to-cloud/project/authorization","title":"Using google API using OAuth2 in Postman or Java/Kotlin","body":"<p>I am here to ask you a for a help with OAuth2 for Google API.</p>\n<p>Short story: I am trying to access Google Home through API to use Air Condition.</p>\n<p>I saw many tutorials on this, but since google is changing it's api very often I don't know how to continue.</p>\n<p>I already have a client ID which I made through Google Console. Now I need to create OAuth2 token to communicate with the API either through Postman or directly from Android Kotlin app.</p>\n<p>Google console gave me following parameters:</p>\n<p><strong>client_id,\nproject_id,\nauth_uri,\ntoken_uri,\nauth_provider_x509_cert_url</strong></p>\n<p>According to this site: <a href=\"https://developers.home.google.com/cloud-to-cloud/project/authorization\" rel=\"nofollow noreferrer\">GoogleSite</a> I can see that there should be other types of parameters (Or I am wrong maybe?)</p>\n<p>Can someone help me with getting OAuth2 Token either from Postman or Java/Kotlin ?</p>\n<p>Thanks a lot</p>\n"},{"tags":["java","weebly"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1674554141,"post_id":75219762,"comment_id":132733436,"body_markdown":"In short: you can&#39;t. The only way to integrate a java app into websites was a thing called &quot;Applets&quot; which were deprecated in 2017 and by now not supported anymore by likely all browsers. There&#39;s a thing called JNLP which lets you start executable java files via the web, but it&#39;s not embedded into a website.","body":"In short: you can&#39;t. The only way to integrate a java app into websites was a thing called &quot;Applets&quot; which were deprecated in 2017 and by now not supported anymore by likely all browsers. There&#39;s a thing called JNLP which lets you start executable java files via the web, but it&#39;s not embedded into a website."},{"owner":{"account_id":27607960,"reputation":11,"user_id":21071680,"display_name":"user2121"},"score":0,"creation_date":1674554316,"post_id":75219762,"comment_id":132733486,"body_markdown":"Would I be able to link my webpage to JNLP so the person viewing the website could be redirected there to play the game?","body":"Would I be able to link my webpage to JNLP so the person viewing the website could be redirected there to play the game?"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1674554404,"post_id":75219762,"comment_id":132733517,"body_markdown":"@user2121 it would be a lot easier if you let the player download the game and run it on their machine. By the way, there are frameworks that let you write a game in java and deploy it on a web page (like libGDX), but you&#39;ll have to rewrite your game to use that library.","body":"@user2121 it would be a lot easier if you let the player download the game and run it on their machine. By the way, there are frameworks that let you write a game in java and deploy it on a web page (like libGDX), but you&#39;ll have to rewrite your game to use that library."},{"owner":{"account_id":27607960,"reputation":11,"user_id":21071680,"display_name":"user2121"},"score":0,"creation_date":1674554602,"post_id":75219762,"comment_id":132733591,"body_markdown":"If the player had to download the game would they need an application like IntelliJ to run it?","body":"If the player had to download the game would they need an application like IntelliJ to run it?"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1674554676,"post_id":75219762,"comment_id":132733620,"body_markdown":"@user2121 no, just a Java runtime. Which you can embed yourself with the download, by the way (just don&#39;t embed the Oracle one, because licensing).","body":"@user2121 no, just a Java runtime. Which you can embed yourself with the download, by the way (just don&#39;t embed the Oracle one, because licensing)."},{"owner":{"account_id":27607960,"reputation":11,"user_id":21071680,"display_name":"user2121"},"score":0,"creation_date":1674554791,"post_id":75219762,"comment_id":132733658,"body_markdown":"Do you mean I embed the java runtime download with the game so the player has to download both? Thank you for the replies by the way I appreciate it.","body":"Do you mean I embed the java runtime download with the game so the player has to download both? Thank you for the replies by the way I appreciate it."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1674554988,"post_id":75219762,"comment_id":132733715,"body_markdown":"@user2121 exactly. Basically you create a zip that contains the jar you created for your project, any library you depend on and the java runtime. [Here](https://stackoverflow.com/a/62461826/133203) is a longer explanation on how you can do it with links to relevant instructions.","body":"@user2121 exactly. Basically you create a zip that contains the jar you created for your project, any library you depend on and the java runtime. <a href=\"https://stackoverflow.com/a/62461826/133203\">Here</a> is a longer explanation on how you can do it with links to relevant instructions."}],"owner":{"account_id":27607960,"reputation":11,"user_id":21071680,"display_name":"user2121"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1674553811,"creation_date":1674553811,"question_id":75219762,"body_markdown":"I have created a small game using IntelliJ and I&#39;m not sure how to add it to my weebly page I&#39;m making for a project. My game has multiple classes and I have no idea how to get it to be built into the website, or at least redirect you to the game somewhere. Im very new to java and website building so any help would be greatly appreciated. \r\n\r\nI don&#39;t really know where to start, I have looked up some online solutions but have not been successful. ","title":"Adding java element to a weebly webpage","body":"<p>I have created a small game using IntelliJ and I'm not sure how to add it to my weebly page I'm making for a project. My game has multiple classes and I have no idea how to get it to be built into the website, or at least redirect you to the game somewhere. Im very new to java and website building so any help would be greatly appreciated.</p>\n<p>I don't really know where to start, I have looked up some online solutions but have not been successful.</p>\n"},{"tags":["java","exception","assertj"],"comments":[{"owner":{"account_id":2889245,"reputation":3533,"user_id":2478398,"display_name":"BeUndead"},"score":0,"creation_date":1603730066,"post_id":64541192,"comment_id":114122163,"body_markdown":"You can catch the `Throwable` using `catchThrowable` and then make whatever assertions you want to on that (after casting to your type if necessary).","body":"You can catch the <code>Throwable</code> using <code>catchThrowable</code> and then make whatever assertions you want to on that (after casting to your type if necessary)."},{"owner":{"account_id":7071311,"reputation":1135,"user_id":5412820,"accept_rate":78,"display_name":"tillias"},"score":0,"creation_date":1603789025,"post_id":64541192,"comment_id":114140111,"body_markdown":"Nice idea, unfortunately even if I hard cast  SomeException  throwable = (SomeException ) catchThrowable(() ... extracting() method doesn&#39;t take into account fields of SomeException","body":"Nice idea, unfortunately even if I hard cast  SomeException  throwable = (SomeException ) catchThrowable(() ... extracting() method doesn&#39;t take into account fields of SomeException"},{"owner":{"account_id":7071311,"reputation":1135,"user_id":5412820,"accept_rate":78,"display_name":"tillias"},"score":0,"creation_date":1603789262,"post_id":64541192,"comment_id":114140225,"body_markdown":"I have updated casting example","body":"I have updated casting example"}],"answers":[{"tags":[],"owner":{"account_id":1407336,"reputation":6523,"user_id":1348834,"display_name":"Joel Costigliola"},"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1603791815,"creation_date":1603760556,"answer_id":64546980,"question_id":64541192,"body_markdown":"There are quite a few variations on `extracting`, the one you want to use is [`extracting(String)`][1], ex: \r\n\r\n\r\n```java\r\n   assertThatThrownBy(() -&gt; service.doSomething())\r\n        .isInstanceOf(SomeException.class)\r\n        .hasMessageStartingWith(&quot;SomeException ... &quot;)\r\n        .extracting(&quot;something&quot;)\r\n        .isEqualTo(1,2,3,4);\r\n```\r\n\r\nUse [`extracting(String, InstanceOfAssertFactory)`][3] to get specialized assertions, so if the value is a collection you can try:\r\n\r\n```java\r\n   assertThatThrownBy(() -&gt; service.doSomething())\r\n        .isInstanceOf(SomeException.class)\r\n        .hasMessageStartingWith(&quot;SomeException ... &quot;)\r\n        .extracting(&quot;something&quot;, InstanceOfAssertFactories.ITERABLE)\r\n        .contains();\r\n```\r\n\r\nYou can also try: [`hasFieldOrPropertyWithValue`][2]\r\n\r\n**Update:** working example\r\n\r\n```java\r\nSomeException throwable = new SomeException(&quot;foo&quot;, Sets.newSet(1, 2, 3, 4));\r\n\r\nassertThat(throwable).hasMessageStartingWith(&quot;fo&quot;)\r\n                     .extracting(&quot;something&quot;, InstanceOfAssertFactories.ITERABLE)\r\n                     .containsExactly(1, 2, 3, 4);\r\n```\r\n\r\n  [1]: https://www.javadoc.io/static/org.assertj/assertj-core/3.18.0/org/assertj/core/api/AbstractObjectAssert.html#extracting(java.lang.String)\r\n  [2]: https://www.javadoc.io/static/org.assertj/assertj-core/3.18.0/org/assertj/core/api/AbstractObjectAssert.html#hasFieldOrPropertyWithValue(java.lang.String,java.lang.Object)\r\n  [3]: https://www.javadoc.io/static/org.assertj/assertj-core/3.18.0/org/assertj/core/api/AbstractObjectAssert.html#extracting(java.lang.String,org.assertj.core.api.InstanceOfAssertFactory)","title":"assertThatThrownBy() check field on custom exception","body":"<p>There are quite a few variations on <code>extracting</code>, the one you want to use is <a href=\"https://www.javadoc.io/static/org.assertj/assertj-core/3.18.0/org/assertj/core/api/AbstractObjectAssert.html#extracting(java.lang.String)\" rel=\"noreferrer\"><code>extracting(String)</code></a>, ex:</p>\n<pre class=\"lang-java prettyprint-override\"><code>   assertThatThrownBy(() -&gt; service.doSomething())\n        .isInstanceOf(SomeException.class)\n        .hasMessageStartingWith(&quot;SomeException ... &quot;)\n        .extracting(&quot;something&quot;)\n        .isEqualTo(1,2,3,4);\n</code></pre>\n<p>Use <a href=\"https://www.javadoc.io/static/org.assertj/assertj-core/3.18.0/org/assertj/core/api/AbstractObjectAssert.html#extracting(java.lang.String,org.assertj.core.api.InstanceOfAssertFactory)\" rel=\"noreferrer\"><code>extracting(String, InstanceOfAssertFactory)</code></a> to get specialized assertions, so if the value is a collection you can try:</p>\n<pre class=\"lang-java prettyprint-override\"><code>   assertThatThrownBy(() -&gt; service.doSomething())\n        .isInstanceOf(SomeException.class)\n        .hasMessageStartingWith(&quot;SomeException ... &quot;)\n        .extracting(&quot;something&quot;, InstanceOfAssertFactories.ITERABLE)\n        .contains();\n</code></pre>\n<p>You can also try: <a href=\"https://www.javadoc.io/static/org.assertj/assertj-core/3.18.0/org/assertj/core/api/AbstractObjectAssert.html#hasFieldOrPropertyWithValue(java.lang.String,java.lang.Object)\" rel=\"noreferrer\"><code>hasFieldOrPropertyWithValue</code></a></p>\n<p><strong>Update:</strong> working example</p>\n<pre class=\"lang-java prettyprint-override\"><code>SomeException throwable = new SomeException(&quot;foo&quot;, Sets.newSet(1, 2, 3, 4));\n\nassertThat(throwable).hasMessageStartingWith(&quot;fo&quot;)\n                     .extracting(&quot;something&quot;, InstanceOfAssertFactories.ITERABLE)\n                     .containsExactly(1, 2, 3, 4);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9282320,"reputation":103,"user_id":6893207,"display_name":"dj_1993"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1617474140,"creation_date":1617364174,"answer_id":66918874,"question_id":64541192,"body_markdown":"I&#39;d do something like :\r\n\r\n    assertThatThrownBy(() -&gt; service.doSomething())\r\n        .isInstanceOf(SomeException.class)\r\n        .hasMessageStartingWith(&quot;SomeException occurred&quot;)\r\n        .isEqualToComparingFieldByField(\r\n            new SomeException(&quot;&quot;, Sets.newHashSet(1,2,3,4)));\r\n\r\nThis way you don&#39;t have to worry about changing the field name in future because you&#39;re not hardcoding it anywhere in the assert statements.","title":"assertThatThrownBy() check field on custom exception","body":"<p>I'd do something like :</p>\n<pre><code>assertThatThrownBy(() -&gt; service.doSomething())\n    .isInstanceOf(SomeException.class)\n    .hasMessageStartingWith(&quot;SomeException occurred&quot;)\n    .isEqualToComparingFieldByField(\n        new SomeException(&quot;&quot;, Sets.newHashSet(1,2,3,4)));\n</code></pre>\n<p>This way you don't have to worry about changing the field name in future because you're not hardcoding it anywhere in the assert statements.</p>\n"},{"tags":[],"owner":{"account_id":2605852,"reputation":283,"user_id":2257038,"display_name":"jamietanna"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1639588296,"creation_date":1639588296,"answer_id":70367676,"question_id":64541192,"body_markdown":"It looks like you&#39;re looking for `catchThrowableOfType`, which allows you to receive the correct class:\r\n\r\n```java\r\nimport static org.assertj.core.api.Assertions.catchThrowableOfType;\r\n\r\nSomeException throwable = catchThrowableOfType(() -&gt; service.doSomething(), SomeException.class);\r\n\r\nassertThat(throwable.getSomething()).isNotNull();\r\n```","title":"assertThatThrownBy() check field on custom exception","body":"<p>It looks like you're looking for <code>catchThrowableOfType</code>, which allows you to receive the correct class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import static org.assertj.core.api.Assertions.catchThrowableOfType;\n\nSomeException throwable = catchThrowableOfType(() -&gt; service.doSomething(), SomeException.class);\n\nassertThat(throwable.getSomething()).isNotNull();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7236580,"reputation":16350,"user_id":5521607,"accept_rate":25,"display_name":"Olivier Boiss&#233;"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674553782,"creation_date":1674553782,"answer_id":75219757,"question_id":64541192,"body_markdown":"An alternative to the `extracting` method would be to catch the exception in `matches` or `satisfies` method :\r\n\r\n```java\r\nvar elements = Set.of(1, 2, 3, 4);\r\n\r\nassertThat(throwable)\r\n  .isInstanceOf(SomeException.class)\r\n  .hasMessageStartingWith(&quot;...&quot;)\r\n  .matches(e -&gt; ((SomeException) e).getSomething().containsAll(elements);    \r\n```\r\n\r\n```java\r\nassertThat(throwable)\r\n  .isInstanceOf(SomeException.class)\r\n  .hasMessageStartingWith(&quot;...&quot;)\r\n  .satisfies(e -&gt; {\r\n    SomethingException somethingException = (SomethingException) e;\r\n\r\n    assertThat(somethingException.getSomething()).contains(1, 2, 3, 4);\r\n  });  \r\n```","title":"assertThatThrownBy() check field on custom exception","body":"<p>An alternative to the <code>extracting</code> method would be to catch the exception in <code>matches</code> or <code>satisfies</code> method :</p>\n<pre class=\"lang-java prettyprint-override\"><code>var elements = Set.of(1, 2, 3, 4);\n\nassertThat(throwable)\n  .isInstanceOf(SomeException.class)\n  .hasMessageStartingWith(&quot;...&quot;)\n  .matches(e -&gt; ((SomeException) e).getSomething().containsAll(elements);    \n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>assertThat(throwable)\n  .isInstanceOf(SomeException.class)\n  .hasMessageStartingWith(&quot;...&quot;)\n  .satisfies(e -&gt; {\n    SomethingException somethingException = (SomethingException) e;\n\n    assertThat(somethingException.getSomething()).contains(1, 2, 3, 4);\n  });  \n</code></pre>\n"}],"owner":{"account_id":7071311,"reputation":1135,"user_id":5412820,"accept_rate":78,"display_name":"tillias"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25326,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"accepted_answer_id":64546980,"answer_count":4,"score":20,"last_activity_date":1674553782,"creation_date":1603729783,"question_id":64541192,"body_markdown":"How can I check particular field value in my custom excepiton using assertJ?\r\n\r\nHere is exception class:\r\n\r\n    public class SomeException extends RuntimeException {\r\n        private final Set&lt;Integer&gt; something;\r\n    \r\n        public SomeException (String message, Set&lt;Integer&gt; something) {\r\n            super(message);\r\n    \r\n            this.something = something;\r\n        }\r\n    \r\n        public Set&lt;Integer&gt; getSomething() {\r\n            return something;\r\n        }\r\n    }\r\n\r\nHere is my test:\r\n\r\n        assertThatThrownBy(() -&gt; service.doSomething())\r\n            .isInstanceOf(SomeException.class)\r\n            .hasMessageStartingWith(&quot;SomeException has 1,2,3,4 in something field. I want assert that&quot;)\r\n            . ??? check that SomeException.getSomething() has 1,2,3,4 ???\r\n\r\nThe problem is that if I chain **extracting()** it will think I&#39;m using **Throwable**. So I can&#39;t extract *field* something\r\n\r\n**Update:**\r\n\r\n    SomeException throwable = (SomeException) catchThrowable(() -&gt; service.doSomething(\r\n\r\n    assertThat(throwable)\r\n        .hasMessageStartingWith(&quot;extracting() bellow still think we&#39;re working with Throwable&quot;)\r\n        .extracting(SomeException::getSomething &lt;&lt;&lt;--- doesn&#39;t work here)\r\n\r\nI have tried following, as suggested bellow:\r\n\r\n     assertThat(throwable)\r\n            .hasMessageStartingWith(&quot;Works except containsExactlyInAnyOrder()&quot;)\r\n            .asInstanceOf(InstanceOfAssertFactories.type(SomeException.class))\r\n            .extracting(SomeException::getSomething)\r\n            .-&gt;&gt;&gt;containsExactlyInAnyOrder&lt;&lt;&lt;--- Not working!!!\r\n\r\nBut I can&#39;t use *containsExactlyInAnyOrder*() anymore :(\r\n\r\nPlease advise\r\n","title":"assertThatThrownBy() check field on custom exception","body":"<p>How can I check particular field value in my custom excepiton using assertJ?</p>\n<p>Here is exception class:</p>\n<pre><code>public class SomeException extends RuntimeException {\n    private final Set&lt;Integer&gt; something;\n\n    public SomeException (String message, Set&lt;Integer&gt; something) {\n        super(message);\n\n        this.something = something;\n    }\n\n    public Set&lt;Integer&gt; getSomething() {\n        return something;\n    }\n}\n</code></pre>\n<p>Here is my test:</p>\n<pre><code>    assertThatThrownBy(() -&gt; service.doSomething())\n        .isInstanceOf(SomeException.class)\n        .hasMessageStartingWith(&quot;SomeException has 1,2,3,4 in something field. I want assert that&quot;)\n        . ??? check that SomeException.getSomething() has 1,2,3,4 ???\n</code></pre>\n<p>The problem is that if I chain <strong>extracting()</strong> it will think I'm using <strong>Throwable</strong>. So I can't extract <em>field</em> something</p>\n<p><strong>Update:</strong></p>\n<pre><code>SomeException throwable = (SomeException) catchThrowable(() -&gt; service.doSomething(\n\nassertThat(throwable)\n    .hasMessageStartingWith(&quot;extracting() bellow still think we're working with Throwable&quot;)\n    .extracting(SomeException::getSomething &lt;&lt;&lt;--- doesn't work here)\n</code></pre>\n<p>I have tried following, as suggested bellow:</p>\n<pre><code> assertThat(throwable)\n        .hasMessageStartingWith(&quot;Works except containsExactlyInAnyOrder()&quot;)\n        .asInstanceOf(InstanceOfAssertFactories.type(SomeException.class))\n        .extracting(SomeException::getSomething)\n        .-&gt;&gt;&gt;containsExactlyInAnyOrder&lt;&lt;&lt;--- Not working!!!\n</code></pre>\n<p>But I can't use <em>containsExactlyInAnyOrder</em>() anymore :(</p>\n<p>Please advise</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":14260298,"reputation":784,"user_id":10301322,"display_name":"CcmU"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1674553500,"creation_date":1674553500,"answer_id":75219704,"question_id":75219562,"body_markdown":"Actually it depends on how you want to represent your domain. In example, if you want the `Role` class to be accessible to every other class or to have a specific visibility you could create an external class; otherwise, you could use an inner class to have explicitly stated the relation between the `Role` class and the `Profile` one.\r\n\r\nTo cite the [tutorial from oracle docs](https://docs.oracle.com/javase/tutorial/java/javaOO/nested.html):\r\n\r\n&gt; Compelling reasons for using nested classes include the following:\r\n&gt; \r\n&gt;- It is a way of logically grouping classes that are only used in one place: If a class is useful to only one other class, then it is\r\n&gt; logical to embed it in that class and keep the two together. Nesting\r\n&gt; such &quot;helper classes&quot; makes their package more streamlined.\r\n&gt;- It increases encapsulation: Consider two top-level classes, A and B, where B needs access to members of A that would otherwise be\r\n&gt; declared private. By hiding class B within class A, A&#39;s members can be\r\n&gt; declared private and B can access them. In addition, B itself can be\r\n&gt; hidden from the outside world.\r\n&gt;- It can lead to more readable and maintainable code: Nesting small classes within top-level classes places the code closer to where it is\r\n&gt; used.\r\n\r\nMoreover, regarding the static nested class,\r\n\r\n&gt; A static nested class is associated with its outer class. And like static class methods, a static nested class cannot refer directly to instance variables or methods defined in its enclosing class: it can use them only through an object reference.","title":"Java inner class vs external class","body":"<p>Actually it depends on how you want to represent your domain. In example, if you want the <code>Role</code> class to be accessible to every other class or to have a specific visibility you could create an external class; otherwise, you could use an inner class to have explicitly stated the relation between the <code>Role</code> class and the <code>Profile</code> one.</p>\n<p>To cite the <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/nested.html\" rel=\"nofollow noreferrer\">tutorial from oracle docs</a>:</p>\n<blockquote>\n<p>Compelling reasons for using nested classes include the following:</p>\n<ul>\n<li>It is a way of logically grouping classes that are only used in one place: If a class is useful to only one other class, then it is\nlogical to embed it in that class and keep the two together. Nesting\nsuch &quot;helper classes&quot; makes their package more streamlined.</li>\n<li>It increases encapsulation: Consider two top-level classes, A and B, where B needs access to members of A that would otherwise be\ndeclared private. By hiding class B within class A, A's members can be\ndeclared private and B can access them. In addition, B itself can be\nhidden from the outside world.</li>\n<li>It can lead to more readable and maintainable code: Nesting small classes within top-level classes places the code closer to where it is\nused.</li>\n</ul>\n</blockquote>\n<p>Moreover, regarding the static nested class,</p>\n<blockquote>\n<p>A static nested class is associated with its outer class. And like static class methods, a static nested class cannot refer directly to instance variables or methods defined in its enclosing class: it can use them only through an object reference.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":11092824,"reputation":484,"user_id":8144061,"accept_rate":100,"display_name":"Wing Kui Tsoi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674553678,"creation_date":1674553678,"answer_id":75219735,"question_id":75219562,"body_markdown":"If the inner class is only used by the outer class, I will prefer your approach. It has an object-oriented advantage, an organizational advantage, and a call-back advantage according to https://www.infoworld.com/article/2077411/inner-classes.html . Simply speaking, it means the inner class is logically binded to the outer class so that the inner class can be easily accessed and maintained within the outer class.\r\n\r\nHowever, if the above advantages disappear, inner class will remain code complexity and probably create redundant class for the program.","title":"Java inner class vs external class","body":"<p>If the inner class is only used by the outer class, I will prefer your approach. It has an object-oriented advantage, an organizational advantage, and a call-back advantage according to <a href=\"https://www.infoworld.com/article/2077411/inner-classes.html\" rel=\"nofollow noreferrer\">https://www.infoworld.com/article/2077411/inner-classes.html</a> . Simply speaking, it means the inner class is logically binded to the outer class so that the inner class can be easily accessed and maintained within the outer class.</p>\n<p>However, if the above advantages disappear, inner class will remain code complexity and probably create redundant class for the program.</p>\n"}],"owner":{"account_id":3693019,"reputation":179,"user_id":3903865,"accept_rate":91,"display_name":"Stefanos"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":135,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75219704,"answer_count":2,"score":0,"last_activity_date":1674553678,"creation_date":1674552601,"question_id":75219562,"body_markdown":"So I have to design a DTO in Java, in a way that I have a Profile which has many Roles. This DTO will be served to a front end application.  So I create a class named ProfileDTO and a static inner class called Role.\r\n \r\n    public class Profile {\r\n\r\n            private List&lt;Role&gt; roles;\r\n \r\n        \t// ommiting getters/setters\r\n  \r\n            public static class Role {\r\n        \t}\r\nThis way, if I want to create an instance of Role from outside I have to declare it like \r\n\r\n    var role = new Profile.Role();\r\n\r\nI also saw another approach from a colleague of mine though. Have a separate Role class in the same package and just use \r\n\r\n    private List&lt;Role&gt; roles;\r\n\r\nin Profiles class. \r\n\r\nSo which approach is better? And if it depends, what are the factors it depends on ? \r\n","title":"Java inner class vs external class","body":"<p>So I have to design a DTO in Java, in a way that I have a Profile which has many Roles. This DTO will be served to a front end application.  So I create a class named ProfileDTO and a static inner class called Role.</p>\n<pre><code>public class Profile {\n\n        private List&lt;Role&gt; roles;\n\n        // ommiting getters/setters\n\n        public static class Role {\n        }\n</code></pre>\n<p>This way, if I want to create an instance of Role from outside I have to declare it like</p>\n<pre><code>var role = new Profile.Role();\n</code></pre>\n<p>I also saw another approach from a colleague of mine though. Have a separate Role class in the same package and just use</p>\n<pre><code>private List&lt;Role&gt; roles;\n</code></pre>\n<p>in Profiles class.</p>\n<p>So which approach is better? And if it depends, what are the factors it depends on ?</p>\n"},{"tags":["java","android-studio","download","m3u8"],"comments":[{"owner":{"account_id":5868390,"reputation":19929,"user_id":4621513,"accept_rate":77,"display_name":"mkrieger1"},"score":0,"creation_date":1674553625,"post_id":75218076,"comment_id":132733287,"body_markdown":"Can you convert a single .ts file to an .mp4 file? Can you merge two .ts files to an .mp4 file?","body":"Can you convert a single .ts file to an .mp4 file? Can you merge two .ts files to an .mp4 file?"},{"owner":{"account_id":23805911,"reputation":9,"user_id":17815449,"display_name":"Sanyam Patel"},"score":0,"creation_date":1674581328,"post_id":75218076,"comment_id":132742870,"body_markdown":"Currently I don&#39;t know how to merge or convert .ts file(s) in mp4","body":"Currently I don&#39;t know how to merge or convert .ts file(s) in mp4"}],"owner":{"account_id":23805911,"reputation":9,"user_id":17815449,"display_name":"Sanyam Patel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":243,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1674553584,"creation_date":1674541561,"question_id":75218076,"body_markdown":"I have downloaded all .ts files from .m3u8 URL, as shown below:\r\n\r\n[![screenshot][1m]][1]\r\n\r\n[1]: https://i.stack.imgur.com/R6f8o.jpg\r\n[1m]: https://i.stack.imgur.com/R6f8om.jpg\r\n\r\nNow I want to merge all .ts files into one .mp4 file.","title":"How to merge .ts files to .mp4 in java android studio","body":"<p>I have downloaded all .ts files from .m3u8 URL, as shown below:</p>\n<p><a href=\"https://i.stack.imgur.com/R6f8o.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/R6f8om.jpg\" alt=\"screenshot\" /></a></p>\n<p>Now I want to merge all .ts files into one .mp4 file.</p>\n"},{"tags":["java","spring-boot","azure-cognitive-services","multipartfile","microsoft-speech-api"],"comments":[{"owner":{"account_id":13047412,"reputation":2792,"user_id":9428851,"display_name":"Victor Gubin"},"score":0,"creation_date":1674056047,"post_id":75159929,"comment_id":132634108,"body_markdown":"Why don&#39;t you create a [temporary file](https://stackoverflow.com/questions/26860167/what-is-a-safe-way-to-create-a-temp-file-in-java) then combine all parts from into it with [MultipartFile.transferTo](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/multipart/MultipartFile.html#transferTo(java.io.File)) , and then use [AudioConfig.fromAudioFileOutput](https://learn.microsoft.com/en-us/javascript/api/microsoft-cognitiveservices-speech-sdk/audioconfig?view=azure-node-latest#microsoft-cognitiveservices-speech-sdk-audioconfig-fromaudiofileoutput) ?","body":"Why don&#39;t you create a <a href=\"https://stackoverflow.com/questions/26860167/what-is-a-safe-way-to-create-a-temp-file-in-java\">temporary file</a> then combine all parts from into it with <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/multipart/MultipartFile.html#transferTo(java.io.File)\" rel=\"nofollow noreferrer\">MultipartFile.transferTo</a> , and then use <a href=\"https://learn.microsoft.com/en-us/javascript/api/microsoft-cognitiveservices-speech-sdk/audioconfig?view=azure-node-latest#microsoft-cognitiveservices-speech-sdk-audioconfig-fromaudiofileoutput\" rel=\"nofollow noreferrer\">AudioConfig.fromAudioFileOutput</a> ?"}],"answers":[{"tags":[],"owner":{"account_id":15593979,"reputation":49,"user_id":11250072,"display_name":"Henning "},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1674553323,"creation_date":1674553323,"answer_id":75219669,"question_id":75159929,"body_markdown":"The idea is, to create a temp file and transfer the MultipartFile into it:\r\n\r\n    File tempFile = File.createTempFile(&quot;prefix-&quot;, &quot;-suffix&quot;);\r\n    file.transferTo(tempFile);\r\n\r\nThe use `fromWavFileOutput` with the path of the temporary file:\r\n\r\n    AudioConfig audioConfig = AudioConfig.fromWavFileOutput(tempFile.getPath());\r\n\r\nFor me, the temp file exceeds its maximum permitted size. To get this solved, make sure to add `spring.servlet.multipart.max-file-size=-1` in your *application.properties* file to set limit to infinity.\r\n","title":"How to convert MultipartFile properly to match for Microsoft AudioConfig?","body":"<p>The idea is, to create a temp file and transfer the MultipartFile into it:</p>\n<pre><code>File tempFile = File.createTempFile(&quot;prefix-&quot;, &quot;-suffix&quot;);\nfile.transferTo(tempFile);\n</code></pre>\n<p>The use <code>fromWavFileOutput</code> with the path of the temporary file:</p>\n<pre><code>AudioConfig audioConfig = AudioConfig.fromWavFileOutput(tempFile.getPath());\n</code></pre>\n<p>For me, the temp file exceeds its maximum permitted size. To get this solved, make sure to add <code>spring.servlet.multipart.max-file-size=-1</code> in your <em>application.properties</em> file to set limit to infinity.</p>\n"}],"owner":{"account_id":15593979,"reputation":49,"user_id":11250072,"display_name":"Henning "},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75219669,"answer_count":1,"score":0,"last_activity_date":1674553323,"creation_date":1674048336,"question_id":75159929,"body_markdown":"In my Spring Boot application, I accept an audiofile as MultipartFile with ```@RequestParam```. I know, I can convert the file into some InputStream. I am also able to convert it into some byte array: \r\n\r\n    @PostMapping(&quot;/microsoft&quot;)\r\n    void transcribe(@RequestParam(&quot;file&quot;) MultipartFile file) {\r\n      InputStream inputStream =  new BufferedInputStream(file.getInputStream());\r\n      byte[] byteArr = file.getBytes();\r\n\r\n      AudioConfig audioConfig = AudioConfig.???;    //here the correct method with my file needs to be called\r\n    }\r\nFor transcription using Microsoft API, I need to create some ```Audioconfig``` object. [This is the link][1] to the class.\r\nI used in the past ```fromWavFileInput(...)``` when I loaded a local audio file. But now, I need to be able to use the MultipartFile. I have no idea which method of the AudioConfig class I can use and how to convert the file correctly.\r\n\r\n\r\n  [1]: https://learn.microsoft.com/en-us/java/api/com.microsoft.cognitiveservices.speech.audio.audioconfig?view=azure-java-stable","title":"How to convert MultipartFile properly to match for Microsoft AudioConfig?","body":"<p>In my Spring Boot application, I accept an audiofile as MultipartFile with <code>@RequestParam</code>. I know, I can convert the file into some InputStream. I am also able to convert it into some byte array:</p>\n<pre><code>@PostMapping(&quot;/microsoft&quot;)\nvoid transcribe(@RequestParam(&quot;file&quot;) MultipartFile file) {\n  InputStream inputStream =  new BufferedInputStream(file.getInputStream());\n  byte[] byteArr = file.getBytes();\n\n  AudioConfig audioConfig = AudioConfig.???;    //here the correct method with my file needs to be called\n}\n</code></pre>\n<p>For transcription using Microsoft API, I need to create some <code>Audioconfig</code> object. <a href=\"https://learn.microsoft.com/en-us/java/api/com.microsoft.cognitiveservices.speech.audio.audioconfig?view=azure-java-stable\" rel=\"nofollow noreferrer\">This is the link</a> to the class.\nI used in the past <code>fromWavFileInput(...)</code> when I loaded a local audio file. But now, I need to be able to use the MultipartFile. I have no idea which method of the AudioConfig class I can use and how to convert the file correctly.</p>\n"},{"tags":["java","keycloak","openid"],"owner":{"account_id":3512095,"reputation":7155,"user_id":2936170,"accept_rate":78,"display_name":"ar099968"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":314,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1674553124,"creation_date":1674487617,"question_id":75211598,"body_markdown":"I&#39;ve a keycloak 16.1.1 instance deployed via bitnami helm on kubernetes and is exposed on domain `auth.mycompany.com`.\r\n\r\nMany applications use keycloak as SSO and their domain are for example: `app1.mycompany.com`, `app2.mycompany2.com` and `app3.mycompany3.com`.\r\n\r\nThis setup generates Third party cookie block errors when apps are opened from Chrome incognito mode or in a iframe in certain browsers (ex: Iphone IOS Chrome).\r\n\r\nTo solve this error, I could set extraHosts in helm configuration as `auth.mycompany2.com` and `auth.mycompany3.com` but I will lose SSO feature between these different domains.\r\n\r\nIs there way to avoid Third party cookie block without losing SSO feature?\r\n\r\nCan a custom authenticator (or something else) generate keycloak cookies for all these domains all in once?","title":"One Keycloak istance configured with multiple domains to avoid Third party cookie block","body":"<p>I've a keycloak 16.1.1 instance deployed via bitnami helm on kubernetes and is exposed on domain <code>auth.mycompany.com</code>.</p>\n<p>Many applications use keycloak as SSO and their domain are for example: <code>app1.mycompany.com</code>, <code>app2.mycompany2.com</code> and <code>app3.mycompany3.com</code>.</p>\n<p>This setup generates Third party cookie block errors when apps are opened from Chrome incognito mode or in a iframe in certain browsers (ex: Iphone IOS Chrome).</p>\n<p>To solve this error, I could set extraHosts in helm configuration as <code>auth.mycompany2.com</code> and <code>auth.mycompany3.com</code> but I will lose SSO feature between these different domains.</p>\n<p>Is there way to avoid Third party cookie block without losing SSO feature?</p>\n<p>Can a custom authenticator (or something else) generate keycloak cookies for all these domains all in once?</p>\n"},{"tags":["java","maven","github","jenkins"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":2,"creation_date":1674467143,"post_id":75207748,"comment_id":132712287,"body_markdown":"Add as much as possible informations as text not as screenshot","body":"Add as much as possible informations as text not as screenshot"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1674467465,"post_id":75207748,"comment_id":132712382,"body_markdown":"Please edit your question and add the full text of the error message.","body":"Please edit your question and add the full text of the error message."},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1674467907,"post_id":75207748,"comment_id":132712508,"body_markdown":"Can you remove the `ssh://` from your URLs? This is what I use and which works (with replaced user and repo names): `scm:git:git@github.com:internal/process.git`. Note that the first `/` after `github.com` also needs to be changed to `:`.","body":"Can you remove the <code>ssh:&#47;&#47;</code> from your URLs? This is what I use and which works (with replaced user and repo names): <code>scm:git:git@github.com:internal&#47;process.git</code>. Note that the first <code>&#47;</code> after <code>github.com</code> also needs to be changed to <code>:</code>."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1674467938,"post_id":75207748,"comment_id":132712515,"body_markdown":"To do a release via maven-release-plugin it is necessary to have scm connections configuration otherwise the release can not being made...Also to do a release you have to call `mvn release:prepare release:perform`...","body":"To do a release via maven-release-plugin it is necessary to have scm connections configuration otherwise the release can not being made...Also to do a release you have to call <code>mvn release:prepare release:perform</code>..."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1674468019,"post_id":75207748,"comment_id":132712534,"body_markdown":"The removing of `ssh` is not really the problem.. take a look here: https://github.com/khmarbaise/smpp also add the logging output during the run it shows some problems if there are some... Also I would strongly recommend to configure the most recent version of maven-release-plugin (https://maven.apache.org/plugins/)","body":"The removing of <code>ssh</code> is not really the problem.. take a look here: <a href=\"https://github.com/khmarbaise/smpp\" rel=\"nofollow noreferrer\">github.com/khmarbaise/smpp</a> also add the logging output during the run it shows some problems if there are some... Also I would strongly recommend to configure the most recent version of maven-release-plugin (<a href=\"https://maven.apache.org/plugins/\" rel=\"nofollow noreferrer\">maven.apache.org/plugins</a>)"},{"owner":{"account_id":16311371,"reputation":1,"user_id":11779910,"display_name":"rajdeo"},"score":0,"creation_date":1674641526,"post_id":75207748,"comment_id":132756091,"body_markdown":"I did corrections in my file as according to you git repo &quot;github.com/khmarbaise/smpp &quot;  but still my problem not resolved. still facing the issue.","body":"I did corrections in my file as according to you git repo &quot;github.com/khmarbaise/smpp &quot;  but still my problem not resolved. still facing the issue."},{"owner":{"account_id":16311371,"reputation":1,"user_id":11779910,"display_name":"rajdeo"},"score":0,"creation_date":1674642346,"post_id":75207748,"comment_id":132756355,"body_markdown":"[ERROR] Failed to execute goal org.apache.maven.plugins:maven-release-plugin:2.3.2:prepare (default-cli) on project cah-process: Missing required setting: scm connection or developerConnection must be specified. -&gt; [Help 1]\n \n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException","body":"[ERROR] Failed to execute goal org.apache.maven.plugins:maven-release-plugin:2.3.2:prepare (default-cli) on project cah-process: Missing required setting: scm connection or developerConnection must be specified. -&gt; [Help 1]   [ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch. [ERROR] Re-run Maven using the -X switch to enable full debug logging.  [ERROR] For more information about the errors and possible solutions, please read the following articles: [ERROR] [Help 1] <a href=\"http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\" rel=\"nofollow noreferrer\">cwiki.apache.org/confluence/display/MAVEN/MojoFailureExcepti&zwnj;&#8203;on</a>"},{"owner":{"account_id":16311371,"reputation":1,"user_id":11779910,"display_name":"rajdeo"},"score":0,"creation_date":1674642368,"post_id":75207748,"comment_id":132756365,"body_markdown":"[ERROR] After correcting the problems, you can resume the build with the command\n[ERROR]   mvn &lt;goals&gt; -rf :cah-process","body":"[ERROR] After correcting the problems, you can resume the build with the command [ERROR]   mvn &lt;goals&gt; -rf :cah-process"}],"owner":{"account_id":16311371,"reputation":1,"user_id":11779910,"display_name":"rajdeo"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674552963,"creation_date":1674466994,"question_id":75207748,"body_markdown":"Facing the issue of **scm connection or developerConnection must** be specified when making the maven release of project.\r\n\r\n```log\r\n15:35:28 [INFO] BUILD FAILURE\r\n15:35:28 [INFO] ------------------------------------------------------------------------\r\n15:35:28 [INFO] Total time:  23.550 s\r\n15:35:28 [INFO] Finished at: 2023-01-23T10:05:28Z\r\n15:35:28 [INFO] ------------------------------------------------------------------------\r\n15:35:28 Waiting for Jenkins to finish collecting data\r\n15:35:28 [ERROR] Failed to execute goal org.apache.maven.plugins:maven-release-plugin:2.5.3:prepare (default-cli) on project cah-process: Missing required setting: scm connection or developerConnection must be specified. -&gt; [Help 1]\r\n15:35:28 org.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.apache.maven.plugins:maven-release-plugin:2.5.3:prepare (default-cli) on project cah-process: Missing required setting: scm connection or developerConnection must be specified.\r\n```\r\n\r\n1. changes the scm repository url on github.\r\n2. add the url in &lt;scm&gt; tag like this.    \r\n\r\n&gt; &lt;scm&gt;\r\n&gt;         &lt;url&gt;https://github.com/internal/process&lt;/url&gt;\r\n&gt;         &lt;connection&gt;scm:git:ssh://git@github.com/internal/process.git&lt;/connection&gt;\r\n&gt;         &lt;developerConnection&gt;scm:git:ssh://git@github.com/internal/process.git&lt;/developerConnection&gt;\r\n&gt;         &lt;tag&gt;HEAD&lt;/tag&gt;\r\n&gt;     &lt;/scm&gt;\r\n\r\ncommands we have tried to execute for release:\r\n\r\n    mvn release:clean release:prepare release:perform -Darguments=&quot;-Dmaven.javadoc.skip=true&quot;\r\n    mvn release:prepare -Dresume=true\r\n    mvn release:prepare -Dresume=false\r\n\tmvn release:clean release:prepare\r\n\tmvn release:prepare -DdryRun=true\r\n\r\nbut still the same issue like **scm connection or developerConnection** \r\n\r\nbut when we tried to compile the project using mvn clean install then it working.\r\n","title":"Related to maven release project","body":"<p>Facing the issue of <strong>scm connection or developerConnection must</strong> be specified when making the maven release of project.</p>\n<pre><code>15:35:28 [INFO] BUILD FAILURE\n15:35:28 [INFO] ------------------------------------------------------------------------\n15:35:28 [INFO] Total time:  23.550 s\n15:35:28 [INFO] Finished at: 2023-01-23T10:05:28Z\n15:35:28 [INFO] ------------------------------------------------------------------------\n15:35:28 Waiting for Jenkins to finish collecting data\n15:35:28 [ERROR] Failed to execute goal org.apache.maven.plugins:maven-release-plugin:2.5.3:prepare (default-cli) on project cah-process: Missing required setting: scm connection or developerConnection must be specified. -&gt; [Help 1]\n15:35:28 org.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.apache.maven.plugins:maven-release-plugin:2.5.3:prepare (default-cli) on project cah-process: Missing required setting: scm connection or developerConnection must be specified.\n</code></pre>\n<ol>\n<li>changes the scm repository url on github.</li>\n<li>add the url in  tag like this.</li>\n</ol>\n<blockquote>\n\n        https://github.com/internal/process\n        scm:git:ssh://git@github.com/internal/process.git\n        scm:git:ssh://git@github.com/internal/process.git\n        HEAD\n    \n</blockquote>\n<p>commands we have tried to execute for release:</p>\n<pre><code>mvn release:clean release:prepare release:perform -Darguments=&quot;-Dmaven.javadoc.skip=true&quot;\nmvn release:prepare -Dresume=true\nmvn release:prepare -Dresume=false\nmvn release:clean release:prepare\nmvn release:prepare -DdryRun=true\n</code></pre>\n<p>but still the same issue like <strong>scm connection or developerConnection</strong></p>\n<p>but when we tried to compile the project using mvn clean install then it working.</p>\n"},{"tags":["java","events","mouseevent","mouselistener"],"owner":{"account_id":26902413,"reputation":11,"user_id":20479348,"display_name":"Evan Bose"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674552819,"creation_date":1674552819,"question_id":75219592,"body_markdown":"```\r\nimport java.awt.*;\r\nimport java.awt.event.*;\r\n\r\n\r\n\r\n\r\npublic class WHOTHATGIRL extends Frame{\r\n    Label l;\r\n    WHOTHATGIRL(){\r\n        setSize(500,500);\r\n        setVisible(true);\r\n        addMouseListener(new MyMouseAdapter(this));\r\n        l = new Label(&quot;Wassup&quot;);\r\n        add(l);\r\n    }\r\n    public static void main(String args[]){\r\n        new WHOTHATGIRL();\r\n    }\r\n    \r\n}\r\nclass MyMouseAdapter extends MouseAdapter{\r\n    WHOTHATGIRL g;\r\n    public MyMouseAdapter(WHOTHATGIRL k) {\r\n        this.g = k;\r\n\r\n    }\r\n    public void mousePressed(MouseEvent e){\r\n        g.l.setText(&quot;hello world&quot;);\r\n\r\n    }\r\n    \r\n}\r\n\r\n\r\n```\r\n\r\n\r\nIn this program im using mouseAdapter class to handle mouse events such that when i click the mouse button it should set the text of the label to &quot;hello world &quot; but it&#39;s not happening whats the issue ","title":"MouseAdapter class not handling event","body":"<pre><code>import java.awt.*;\nimport java.awt.event.*;\n\n\n\n\npublic class WHOTHATGIRL extends Frame{\n    Label l;\n    WHOTHATGIRL(){\n        setSize(500,500);\n        setVisible(true);\n        addMouseListener(new MyMouseAdapter(this));\n        l = new Label(&quot;Wassup&quot;);\n        add(l);\n    }\n    public static void main(String args[]){\n        new WHOTHATGIRL();\n    }\n    \n}\nclass MyMouseAdapter extends MouseAdapter{\n    WHOTHATGIRL g;\n    public MyMouseAdapter(WHOTHATGIRL k) {\n        this.g = k;\n\n    }\n    public void mousePressed(MouseEvent e){\n        g.l.setText(&quot;hello world&quot;);\n\n    }\n    \n}\n\n\n</code></pre>\n<p>In this program im using mouseAdapter class to handle mouse events such that when i click the mouse button it should set the text of the label to &quot;hello world &quot; but it's not happening whats the issue</p>\n"},{"tags":["java","spring","spring-boot","spring-batch"],"comments":[{"owner":{"account_id":11018450,"reputation":658,"user_id":8093552,"display_name":"Rakesh"},"score":0,"creation_date":1612767711,"post_id":66096838,"comment_id":116859239,"body_markdown":"run.id will be incrementing you can check in table select * from BATCH_JOB_EXECUTION_PARAMS bjep order by 1 desc . These are default parameters.","body":"run.id will be incrementing you can check in table select * from BATCH_JOB_EXECUTION_PARAMS bjep order by 1 desc . These are default parameters."}],"answers":[{"tags":[],"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1612771931,"creation_date":1612771931,"answer_id":66097922,"question_id":66096838,"body_markdown":"&gt; Why this time and run.id job parameters are being passed by default when I trigger the job using command line?\r\n\r\nBased on your job definition, only the `run.id` parameter should be added to job parameters from the `RunIdIncrementer`. I don&#39;t see from what you shared where this `time` parameter would come from.\r\n\r\n&gt; And why is the value for both the parameters being passed the same every time I run the job? Even if I am using the new RunIdIncrementer()\r\n\r\nThat should not be the case. With a `RunIdIncrementer`, every new run should generate a new `run.id`. If this is not the case, please provide a [minimal example](https://stackoverflow.com/help/minimal-reproducible-example) that reproduces the issue.\r\n\r\n&gt; How is the createJobRespository() method creating the difference?\r\n\r\nI don&#39;t see how this is related to the issue. The job repository does not influence job parameters in any way.\r\n\r\n","title":"Same parameters passed in every spring batch job run","body":"<blockquote>\n<p>Why this time and run.id job parameters are being passed by default when I trigger the job using command line?</p>\n</blockquote>\n<p>Based on your job definition, only the <code>run.id</code> parameter should be added to job parameters from the <code>RunIdIncrementer</code>. I don't see from what you shared where this <code>time</code> parameter would come from.</p>\n<blockquote>\n<p>And why is the value for both the parameters being passed the same every time I run the job? Even if I am using the new RunIdIncrementer()</p>\n</blockquote>\n<p>That should not be the case. With a <code>RunIdIncrementer</code>, every new run should generate a new <code>run.id</code>. If this is not the case, please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal example</a> that reproduces the issue.</p>\n<blockquote>\n<p>How is the createJobRespository() method creating the difference?</p>\n</blockquote>\n<p>I don't see how this is related to the issue. The job repository does not influence job parameters in any way.</p>\n"}],"owner":{"account_id":14481713,"reputation":487,"user_id":10460777,"display_name":"CtrlAltElite"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":546,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674552795,"creation_date":1612765782,"question_id":66096838,"body_markdown":"I just switched from REST endpoint triggered spring batch job to a command line job run method. \r\nI removed the controller class which had the `JobLauncher`. \r\nNow I am trying to run the job with the following command:\r\n\r\n&gt; `java -Dspring.batch.job.names=&quot;SOME JOBNAME&quot; -jar somejar.jar`\r\n\r\nI see a `run.id` and `time` job parameters being passed by default in the `BATCH_JOB_EXECUTION_PARAMS` table.\r\nI didn&#39;t see these params being passed by default when I used to trigger the job with the REST endpoint launcher approach.\r\n\r\nAnd the same value of both these params is being passed in each job-run. \r\n`run.id=1` and `time=1612515999654`. \r\nAnd as expected, it gives me the following `JobInstanceAlreadyComplete` exception.\r\n\r\nMy job bean is something like this:\r\n\r\n\t@Bean\r\n\tpublic Job job() throws Exception {\r\n\t\treturn this.jobBuilderFactory.get(&quot;SOME JOBNAME&quot;)\r\n\t\t\t\t.incrementer(new RunIdIncrementer())\r\n\t\t\t\t.start(someStep())\r\n\t\t\t\t.build();\r\n\t}\r\n\r\n\r\nI have this `createJobRespository()` method overridden, by extending the `DefaultBatchConfigurer` class which I use because my metadata tables are in a different schema in sql server db than the default `dbo` schema.\r\n\r\n\t@Override\r\n\tprotected JobRepository createJobRepository() throws Exception {\r\n    \tJobRepositoryFactoryBean factory = new JobRepositoryFactoryBean();\r\n    \tfactory.setDataSource(dataSource);\r\n    \tfactory.setTransactionManager(transactionManager);\r\n    \tfactory.setTablePrefix(&quot;someSchema&quot; + &quot;.BATCH_&quot;);\r\n    \tfactory.afterPropertiesSet();\r\n    \treturn factory.getObject();\r\n\t}\r\n\r\n\r\nWhen I remove the `createJobRespository()` method and thus use the batch metadata tables in default `dbo` schema, only `run.id` is passed by default and incremented as expected. No `time` param is passed by default in this case. \r\n\r\nMy question is:\r\n\r\n 1. Why this `time` and `run.id` job parameters are being passed by default when I trigger the job using command line?\r\n 2. And why is the value for both the parameters being passed the same every time I run the job? Even if I am using the `new RunIdIncrementer()`\r\n 3. How is the `createJobRespository()` method creating the difference?","title":"Same parameters passed in every spring batch job run","body":"<p>I just switched from REST endpoint triggered spring batch job to a command line job run method.\nI removed the controller class which had the <code>JobLauncher</code>.\nNow I am trying to run the job with the following command:</p>\n<blockquote>\n<p><code>java -Dspring.batch.job.names=&quot;SOME JOBNAME&quot; -jar somejar.jar</code></p>\n</blockquote>\n<p>I see a <code>run.id</code> and <code>time</code> job parameters being passed by default in the <code>BATCH_JOB_EXECUTION_PARAMS</code> table.\nI didn't see these params being passed by default when I used to trigger the job with the REST endpoint launcher approach.</p>\n<p>And the same value of both these params is being passed in each job-run.\n<code>run.id=1</code> and <code>time=1612515999654</code>.\nAnd as expected, it gives me the following <code>JobInstanceAlreadyComplete</code> exception.</p>\n<p>My job bean is something like this:</p>\n<pre><code>@Bean\npublic Job job() throws Exception {\n    return this.jobBuilderFactory.get(&quot;SOME JOBNAME&quot;)\n            .incrementer(new RunIdIncrementer())\n            .start(someStep())\n            .build();\n}\n</code></pre>\n<p>I have this <code>createJobRespository()</code> method overridden, by extending the <code>DefaultBatchConfigurer</code> class which I use because my metadata tables are in a different schema in sql server db than the default <code>dbo</code> schema.</p>\n<pre><code>@Override\nprotected JobRepository createJobRepository() throws Exception {\n    JobRepositoryFactoryBean factory = new JobRepositoryFactoryBean();\n    factory.setDataSource(dataSource);\n    factory.setTransactionManager(transactionManager);\n    factory.setTablePrefix(&quot;someSchema&quot; + &quot;.BATCH_&quot;);\n    factory.afterPropertiesSet();\n    return factory.getObject();\n}\n</code></pre>\n<p>When I remove the <code>createJobRespository()</code> method and thus use the batch metadata tables in default <code>dbo</code> schema, only <code>run.id</code> is passed by default and incremented as expected. No <code>time</code> param is passed by default in this case.</p>\n<p>My question is:</p>\n<ol>\n<li>Why this <code>time</code> and <code>run.id</code> job parameters are being passed by default when I trigger the job using command line?</li>\n<li>And why is the value for both the parameters being passed the same every time I run the job? Even if I am using the <code>new RunIdIncrementer()</code></li>\n<li>How is the <code>createJobRespository()</code> method creating the difference?</li>\n</ol>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1674553833,"post_id":75219573,"comment_id":132733342,"body_markdown":"The exception message is clear: in your `AppUtils` class the field `driver` is null but you try to call `driver.close()`. Why is it null? Probably because you never initialize that field.","body":"The exception message is clear: in your <code>AppUtils</code> class the field <code>driver</code> is null but you try to call <code>driver.close()</code>. Why is it null? Probably because you never initialize that field."}],"owner":{"account_id":27607838,"reputation":1,"user_id":21071570,"display_name":"Ash Yeh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1674553957,"answer_count":0,"score":0,"last_activity_date":1674552762,"creation_date":1674552691,"question_id":75219573,"body_markdown":"Hi Please help me to fix this error\r\nI have created 2 packages one name as util another one is test to execute test scripts\r\nWhile executing util package class files in test package class Iam getting this error\r\n\r\n&gt;an 24, 2023 2:44:50 PM org.openqa.selenium.remote.ProtocolHandshake createSession\r\nINFO: Detected dialect: W3C\r\nException in thread &quot;main&quot; java.lang.NullPointerException: Cannot invoke &quot;org.openqa.selenium.WebDriver.close()&quot; because &quot;util.Apputils.driver&quot; is null\r\nat util.Apputils.appClose(Apputils.java:17)\r\nat Testcase.userlogin.main(userlogin.java:10)\r\n\r\nIam expecting to give soultion to fix my problem","title":"While Writing automation java test scripiting Iam getting below error in eclipse console","body":"<p>Hi Please help me to fix this error\nI have created 2 packages one name as util another one is test to execute test scripts\nWhile executing util package class files in test package class Iam getting this error</p>\n<blockquote>\n<p>an 24, 2023 2:44:50 PM org.openqa.selenium.remote.ProtocolHandshake createSession\nINFO: Detected dialect: W3C\nException in thread &quot;main&quot; java.lang.NullPointerException: Cannot invoke &quot;org.openqa.selenium.WebDriver.close()&quot; because &quot;util.Apputils.driver&quot; is null\nat util.Apputils.appClose(Apputils.java:17)\nat Testcase.userlogin.main(userlogin.java:10)</p>\n</blockquote>\n<p>Iam expecting to give soultion to fix my problem</p>\n"},{"tags":["java","system-properties"],"comments":[{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1674227920,"post_id":75185815,"comment_id":132676049,"body_markdown":"This piece of code that you&#39;ve shown seems to be just listing the current system properties on the web page. It&#39;s not what is causing the error. Are you sure the required system property is not missing?","body":"This piece of code that you&#39;ve shown seems to be just listing the current system properties on the web page. It&#39;s not what is causing the error. Are you sure the required system property is not missing?"},{"owner":{"account_id":27581092,"reputation":3,"user_id":21050285,"display_name":"martuo"},"score":0,"creation_date":1674230376,"post_id":75185815,"comment_id":132676960,"body_markdown":"i have in quartz.properties the org.quartz.scheduler.instanceId =, with one parameter","body":"i have in quartz.properties the org.quartz.scheduler.instanceId =, with one parameter"},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1674414659,"post_id":75185815,"comment_id":132704735,"body_markdown":"You say &quot;with one parameter&quot;. Is this parameter &quot;SYS_PROP&quot; by any chance?","body":"You say &quot;with one parameter&quot;. Is this parameter &quot;SYS_PROP&quot; by any chance?"},{"owner":{"account_id":27581092,"reputation":3,"user_id":21050285,"display_name":"martuo"},"score":0,"creation_date":1674506751,"post_id":75185815,"comment_id":132724804,"body_markdown":"yes, it is that parameter","body":"yes, it is that parameter"}],"answers":[{"tags":[],"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1674552595,"creation_date":1674552595,"answer_id":75219560,"question_id":75185815,"body_markdown":"As the [documentation][1] says:\r\n\r\n&gt; org.quartz.scheduler.instanceId\r\n&gt; \r\n&gt; Can be any string, but must be unique for all schedulers working as if\r\n&gt; they are the same ‘logical’ Scheduler within a cluster. You may use\r\n&gt; the value “AUTO” as the instanceId if you wish the Id to be generated\r\n&gt; for you. Or the value “SYS_PROP” if you want the value to come from\r\n&gt; the system property “org.quartz.scheduler.instanceId”.\r\n\r\nThe problem is that in quartz.properties `org.quartz.scheduler.instanceId` is set to `SYS_PROP`, but you haven&#39;t defined this setting as a _system property_. This is obvious from the error message you show in your post:\r\n\r\n&gt; No value for &#39;org.quartz.scheduler.instanceId&#39; system property found,\r\n&gt; please configure your environment accordingly!\r\n\r\n  [1]: http://www.quartz-scheduler.org/documentation/quartz-2.3.0/configuration/ConfigMain.html","title":"No value for &#39;org.quartz.scheduler.instanceId&#39;","body":"<p>As the <a href=\"http://www.quartz-scheduler.org/documentation/quartz-2.3.0/configuration/ConfigMain.html\" rel=\"nofollow noreferrer\">documentation</a> says:</p>\n<blockquote>\n<p>org.quartz.scheduler.instanceId</p>\n<p>Can be any string, but must be unique for all schedulers working as if\nthey are the same ‘logical’ Scheduler within a cluster. You may use\nthe value “AUTO” as the instanceId if you wish the Id to be generated\nfor you. Or the value “SYS_PROP” if you want the value to come from\nthe system property “org.quartz.scheduler.instanceId”.</p>\n</blockquote>\n<p>The problem is that in quartz.properties <code>org.quartz.scheduler.instanceId</code> is set to <code>SYS_PROP</code>, but you haven't defined this setting as a <em>system property</em>. This is obvious from the error message you show in your post:</p>\n<blockquote>\n<p>No value for 'org.quartz.scheduler.instanceId' system property found,\nplease configure your environment accordingly!</p>\n</blockquote>\n"}],"owner":{"account_id":27581092,"reputation":3,"user_id":21050285,"display_name":"martuo"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":189,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75219560,"answer_count":1,"score":0,"last_activity_date":1674552595,"creation_date":1674227095,"question_id":75185815,"body_markdown":"I have a problem with an application war, the application was not made by me, the application works, but when import to eclipse and export with attaching tomcat and java libraries 1.8.0_321, it does not work, I do not change anything in the application, such as import, export, the error is the following:\r\n\r\n\r\n\r\n&gt; INFO main org.quartz.impl.StdSchedulerFactory - Using default\r\n&gt; implementation for ThreadExecutor ERROR main\r\n&gt; org.quartz.impl.StdSchedulerFactory - Couldn&#39;t generate instance Id!\r\n&gt; org.quartz.SchedulerException: No value for\r\n&gt; &#39;org.quartz.scheduler.instanceId&#39; system property found, please\r\n&gt; configure your environment accordingly!\r\n\r\n\r\n\r\nattached systemprops.jsp:\r\n\r\n&lt;body&gt;\r\n\r\n\t&lt;div id=&quot;page&quot; style=&quot;float:left;position:relative;left:60px; top:10px;font-size:1.0em;font-weight: 300; font-family:Helvetica, Arial, sans-serif;&quot;&gt;\r\n\t\t&lt;div id=&quot;javasys&quot;&gt;\r\n\r\n\t\t\t&lt;%\r\n\t\t\t\tout.println(&quot;&lt;table width=600 border=0&gt;&quot;);\r\n\t\t\t\tout.println(&quot;&lt;tr&gt;&quot;);\r\n\t\t\t\tout.println(&quot;&lt;td width=150&gt;&lt;b&gt;PROPERTY&lt;/b&gt;&lt;/td&gt;&quot;);\r\n\t\t\t\tout.println(&quot;&lt;td width=450&gt;&lt;b&gt;VALUE&lt;/b&gt;&lt;/td&gt;&quot;);\r\n\t\t\t\tout.println(&quot;&lt;/tr&gt;&quot;);\r\n\t\t\t\tout.println(&quot;&lt;tr&gt;&quot;);\r\n\t\t\t\tProperties props = System.getProperties();\r\n\t\t\t\tEnumeration as = props.propertyNames();\r\n\t\t\t\twhile (as.hasMoreElements()) {\r\n\t\t\t\t\tObject o = as.nextElement();\r\n\t\t\t\t\tString key = (String) o;\r\n\t\t\t\t\tout.println(&quot;&lt;td width=150&gt;&lt;b&gt;&quot; + key + &quot;&lt;/b&gt;&lt;/td&gt;&quot;);\r\n\t\t\t\t\tString val = props.getProperty(key);\r\n\t\t\t\t\tStringTokenizer st = new StringTokenizer(val, &quot;:&quot;);\r\n\t\t\t\t\tout.println(&quot;&lt;td width=450&gt;&quot;);\r\n\t\t\t\t\twhile (st.hasMoreTokens()) {\r\n\t\t\t\t\t\tString valind = st.nextToken();\r\n\t\t\t\t\t\tout.println(valind + &quot;&lt;BR&gt;&quot;);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tout.println(&quot;&lt;/td&gt;&quot;);\r\n\t\t\t\t\tout.println(&quot;&lt;/tr&gt;&quot;);\r\n\t\t\t\t}\r\n\t\t\t\tout.println(&quot;&lt;/table&gt;&quot;);\r\n\t\t\t%&gt;\r\n\r\n\t\t&lt;/div&gt;\r\n\r\n\r\nI&#39;m not a programmer, but I think it can come from here: Enumeration as = props.propertyNames();\r\n\r\n\r\n\r\nin eclipse it has a warning in Enumeration as = props.propertyNames(); with Enumeration is a raw type, References to generic type Enumeration&lt;E&gt; should be parameterized, It is not the only part of the code that I have this error","title":"No value for &#39;org.quartz.scheduler.instanceId&#39;","body":"<p>I have a problem with an application war, the application was not made by me, the application works, but when import to eclipse and export with attaching tomcat and java libraries 1.8.0_321, it does not work, I do not change anything in the application, such as import, export, the error is the following:</p>\n<blockquote>\n<p>INFO main org.quartz.impl.StdSchedulerFactory - Using default\nimplementation for ThreadExecutor ERROR main\norg.quartz.impl.StdSchedulerFactory - Couldn't generate instance Id!\norg.quartz.SchedulerException: No value for\n'org.quartz.scheduler.instanceId' system property found, please\nconfigure your environment accordingly!</p>\n</blockquote>\n<p>attached systemprops.jsp:</p>\n\n<pre><code>&lt;div id=&quot;page&quot; style=&quot;float:left;position:relative;left:60px; top:10px;font-size:1.0em;font-weight: 300; font-family:Helvetica, Arial, sans-serif;&quot;&gt;\n    &lt;div id=&quot;javasys&quot;&gt;\n\n        &lt;%\n            out.println(&quot;&lt;table width=600 border=0&gt;&quot;);\n            out.println(&quot;&lt;tr&gt;&quot;);\n            out.println(&quot;&lt;td width=150&gt;&lt;b&gt;PROPERTY&lt;/b&gt;&lt;/td&gt;&quot;);\n            out.println(&quot;&lt;td width=450&gt;&lt;b&gt;VALUE&lt;/b&gt;&lt;/td&gt;&quot;);\n            out.println(&quot;&lt;/tr&gt;&quot;);\n            out.println(&quot;&lt;tr&gt;&quot;);\n            Properties props = System.getProperties();\n            Enumeration as = props.propertyNames();\n            while (as.hasMoreElements()) {\n                Object o = as.nextElement();\n                String key = (String) o;\n                out.println(&quot;&lt;td width=150&gt;&lt;b&gt;&quot; + key + &quot;&lt;/b&gt;&lt;/td&gt;&quot;);\n                String val = props.getProperty(key);\n                StringTokenizer st = new StringTokenizer(val, &quot;:&quot;);\n                out.println(&quot;&lt;td width=450&gt;&quot;);\n                while (st.hasMoreTokens()) {\n                    String valind = st.nextToken();\n                    out.println(valind + &quot;&lt;BR&gt;&quot;);\n                }\n                out.println(&quot;&lt;/td&gt;&quot;);\n                out.println(&quot;&lt;/tr&gt;&quot;);\n            }\n            out.println(&quot;&lt;/table&gt;&quot;);\n        %&gt;\n\n    &lt;/div&gt;\n</code></pre>\n<p>I'm not a programmer, but I think it can come from here: Enumeration as = props.propertyNames();</p>\n<p>in eclipse it has a warning in Enumeration as = props.propertyNames(); with Enumeration is a raw type, References to generic type Enumeration should be parameterized, It is not the only part of the code that I have this error</p>\n"},{"tags":["java","generics","inheritance","lombok","builder-pattern"],"comments":[{"owner":{"account_id":13887193,"reputation":7307,"user_id":10026074,"display_name":"Jan Rieke"},"score":0,"creation_date":1674120980,"post_id":75160472,"comment_id":132648498,"body_markdown":"Why don&#39;t you use `@SuperBuilder`? It is _exactly_ for your use case and does all that nasty generics stuff for you.","body":"Why don&#39;t you use <code>@SuperBuilder</code>? It is <i>exactly</i> for your use case and does all that nasty generics stuff for you."},{"owner":{"account_id":18044315,"reputation":1227,"user_id":13115701,"display_name":"Paul Marcelin Bejan"},"score":0,"creation_date":1674124735,"post_id":75160472,"comment_id":132649663,"body_markdown":"@JanRieke I&#39;m worried about &quot;experimental&quot;","body":"@JanRieke I&#39;m worried about &quot;experimental&quot;"},{"owner":{"account_id":13887193,"reputation":7307,"user_id":10026074,"display_name":"Jan Rieke"},"score":0,"creation_date":1674129671,"post_id":75160472,"comment_id":132651256,"body_markdown":"No need to worry. In this case it just means &quot;If you find a bug, it may take a bit longer until we fix it compared to non-experimental features&quot;. Furthermore, it will probably be [promoted soon](https://github.com/projectlombok/lombok/issues/2209#issuecomment-1029507315).","body":"No need to worry. In this case it just means &quot;If you find a bug, it may take a bit longer until we fix it compared to non-experimental features&quot;. Furthermore, it will probably be <a href=\"https://github.com/projectlombok/lombok/issues/2209#issuecomment-1029507315\" rel=\"nofollow noreferrer\">promoted soon</a>."}],"answers":[{"tags":[],"owner":{"account_id":18044315,"reputation":1227,"user_id":13115701,"display_name":"Paul Marcelin Bejan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674552201,"creation_date":1674053388,"answer_id":75161060,"question_id":75160472,"body_markdown":"I&#39;m not sure if this is the best way, but I solved in this way:\r\n\r\nSuperclass: &lt;br&gt;\r\nI added an AllArgsConstructor with AccessLevel PROTECTED.\r\n\r\n    @Getter\r\n    @AllArgsConstructor(access = AccessLevel.PROTECTED)\r\n    public abstract class CommonValidatorConfig&lt;VC extends CommonValidatorConfig&lt;VC&gt;&gt; {\r\n    \r\n    \tprivate boolean canBeNull;\r\n    \tprivate boolean canBeEmpty;\r\n    \t\r\n    \tpublic static abstract class CommonValidatorConfigBuilder&lt;VC, VCB extends CommonValidatorConfigBuilder&lt;VC, VCB&gt;&gt; {\r\n    \t\t\r\n    \t\tprotected boolean canBeNull;\r\n    \t\tprotected boolean canBeEmpty;\r\n    \t    \r\n    \t\t@SuppressWarnings(&quot;unchecked&quot;)\r\n    \t\tpublic VCB canBeNull(boolean canBeNull) {\r\n    \t\t\tthis.canBeNull = canBeNull;\r\n    \t\t\treturn (VCB) this;\r\n    \t\t}\r\n    \t\t\r\n    \t\t@SuppressWarnings(&quot;unchecked&quot;)\r\n    \t\tpublic VCB canBeEmpty(boolean canBeEmpty) {\r\n    \t\t\tthis.canBeEmpty = canBeEmpty;\r\n    \t\t\treturn (VCB) this;\r\n    \t\t}\r\n    \t\t\r\n    \t\t@SuppressWarnings(&quot;unchecked&quot;)\r\n    \t\tpublic VCB setDefault() {\r\n    \t\t\tthis.canBeNull = false;\r\n    \t\t\tthis.canBeEmpty = false;\r\n    \t\t\treturn (VCB) this;\r\n    \t\t}\r\n    \t\t\r\n    \t\tpublic abstract VC build();\r\n    \t\t\r\n    \t}\r\n    \t\r\n    }\r\n\r\nSubclass: &lt;br&gt;\r\n1 - Removed lombok AllArgsConstructor. &lt;br&gt;\r\n2 - Declared the AllArgsConstructor and passed the variables to superclass constructor. &lt;br&gt;\r\n3 - Access to superclass variables using super keyword.\r\n\r\n    @Builder\r\n    public class StringValidatorConfig extends CommonValidatorConfig&lt;StringValidatorConfig&gt; {\r\n    \t\r\n    \tprivate StringValidatorConfig(boolean canBeNull, boolean canBeEmpty) {\r\n    \t\tsuper(canBeNull, canBeEmpty);\r\n    \t}\r\n    \t\r\n    \tpublic static class StringValidatorConfigBuilder extends CommonValidatorConfigBuilder&lt;StringValidatorConfig, StringValidatorConfigBuilder&gt; {\r\n    \r\n    \t\t@Override\r\n    \t\tpublic StringValidatorConfig build() {\r\n    \t\t\treturn new StringValidatorConfig(super.canBeNull, super.canBeEmpty);\r\n    \t\t}\r\n    \t\t\r\n    \t}\r\n    \t\r\n    }","title":"Inherit variables from abstract superclass","body":"<p>I'm not sure if this is the best way, but I solved in this way:</p>\n<p>Superclass: <br>\nI added an AllArgsConstructor with AccessLevel PROTECTED.</p>\n<pre><code>@Getter\n@AllArgsConstructor(access = AccessLevel.PROTECTED)\npublic abstract class CommonValidatorConfig&lt;VC extends CommonValidatorConfig&lt;VC&gt;&gt; {\n\n    private boolean canBeNull;\n    private boolean canBeEmpty;\n    \n    public static abstract class CommonValidatorConfigBuilder&lt;VC, VCB extends CommonValidatorConfigBuilder&lt;VC, VCB&gt;&gt; {\n        \n        protected boolean canBeNull;\n        protected boolean canBeEmpty;\n        \n        @SuppressWarnings(&quot;unchecked&quot;)\n        public VCB canBeNull(boolean canBeNull) {\n            this.canBeNull = canBeNull;\n            return (VCB) this;\n        }\n        \n        @SuppressWarnings(&quot;unchecked&quot;)\n        public VCB canBeEmpty(boolean canBeEmpty) {\n            this.canBeEmpty = canBeEmpty;\n            return (VCB) this;\n        }\n        \n        @SuppressWarnings(&quot;unchecked&quot;)\n        public VCB setDefault() {\n            this.canBeNull = false;\n            this.canBeEmpty = false;\n            return (VCB) this;\n        }\n        \n        public abstract VC build();\n        \n    }\n    \n}\n</code></pre>\n<p>Subclass: <br>\n1 - Removed lombok AllArgsConstructor. <br>\n2 - Declared the AllArgsConstructor and passed the variables to superclass constructor. <br>\n3 - Access to superclass variables using super keyword.</p>\n<pre><code>@Builder\npublic class StringValidatorConfig extends CommonValidatorConfig&lt;StringValidatorConfig&gt; {\n    \n    private StringValidatorConfig(boolean canBeNull, boolean canBeEmpty) {\n        super(canBeNull, canBeEmpty);\n    }\n    \n    public static class StringValidatorConfigBuilder extends CommonValidatorConfigBuilder&lt;StringValidatorConfig, StringValidatorConfigBuilder&gt; {\n\n        @Override\n        public StringValidatorConfig build() {\n            return new StringValidatorConfig(super.canBeNull, super.canBeEmpty);\n        }\n        \n    }\n    \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13887193,"reputation":7307,"user_id":10026074,"display_name":"Jan Rieke"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1674219762,"creation_date":1674130273,"answer_id":75172038,"question_id":75160472,"body_markdown":"`@SuperBuilder` will do all the work for you:\r\n\r\n```\r\n@Getter\r\n@SuperBuilder\r\npublic abstract class CommonValidatorConfig {\r\n    private boolean canBeNull;\r\n    private boolean canBeEmpty;\r\n}\r\n\r\n@SuperBuilder\r\npublic class StringValidatorConfig extends CommonValidatorConfig {\r\n}\r\n```\r\n\r\nThat&#39;s it.\r\n\r\nIf you need to add a custom method inside your builder, you can do so by adding the class header of the (abstract) builder class and add your method. Lombok will add all the rest of its methods. I suggest you copy the class header from the delombok output (run `java -jar path/to/lombok.jar delombok -p path/to/ClassWithSuperBuilder.java`).\r\n\r\n```\r\n@Getter\r\n@SuperBuilder\r\npublic abstract class CommonValidatorConfig {\r\n    private boolean canBeNull;\r\n    private boolean canBeEmpty;\r\n\r\n    public static abstract class CommonValidatorConfigBuilder&lt;C extends CommonValidatorConfig, B extends CommonValidatorConfig.CommonValidatorConfigBuilder&lt;C, B&gt;&gt; {\r\n        public B setDefault() {\r\n    \t    this.canBeNull = false;\r\n    \t    this.canBeEmpty = false;\r\n    \t    return self();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\nThe &quot;experimental&quot; status of `@SuperBuilder` just means it may not receive bugfixes as quickly as stable features. Furthermore, there are plans to [promote `@SuperBuilder` to stable][1].\r\n\r\nThe code Lombok generates is completely type-safe, there are no unchecked type conversions. So even if you later decide that you don&#39;t want `@SuperBuilder` anymore, you can simply de-lombok it. The resulting code will be better than your manual solution.\r\n\r\n\r\n  [1]: https://github.com/projectlombok/lombok/issues/2209#issuecomment-1029507315","title":"Inherit variables from abstract superclass","body":"<p><code>@SuperBuilder</code> will do all the work for you:</p>\n<pre><code>@Getter\n@SuperBuilder\npublic abstract class CommonValidatorConfig {\n    private boolean canBeNull;\n    private boolean canBeEmpty;\n}\n\n@SuperBuilder\npublic class StringValidatorConfig extends CommonValidatorConfig {\n}\n</code></pre>\n<p>That's it.</p>\n<p>If you need to add a custom method inside your builder, you can do so by adding the class header of the (abstract) builder class and add your method. Lombok will add all the rest of its methods. I suggest you copy the class header from the delombok output (run <code>java -jar path/to/lombok.jar delombok -p path/to/ClassWithSuperBuilder.java</code>).</p>\n<pre><code>@Getter\n@SuperBuilder\npublic abstract class CommonValidatorConfig {\n    private boolean canBeNull;\n    private boolean canBeEmpty;\n\n    public static abstract class CommonValidatorConfigBuilder&lt;C extends CommonValidatorConfig, B extends CommonValidatorConfig.CommonValidatorConfigBuilder&lt;C, B&gt;&gt; {\n        public B setDefault() {\n            this.canBeNull = false;\n            this.canBeEmpty = false;\n            return self();\n        }\n    }\n}\n</code></pre>\n<p>The &quot;experimental&quot; status of <code>@SuperBuilder</code> just means it may not receive bugfixes as quickly as stable features. Furthermore, there are plans to <a href=\"https://github.com/projectlombok/lombok/issues/2209#issuecomment-1029507315\" rel=\"nofollow noreferrer\">promote <code>@SuperBuilder</code> to stable</a>.</p>\n<p>The code Lombok generates is completely type-safe, there are no unchecked type conversions. So even if you later decide that you don't want <code>@SuperBuilder</code> anymore, you can simply de-lombok it. The resulting code will be better than your manual solution.</p>\n"}],"owner":{"account_id":18044315,"reputation":1227,"user_id":13115701,"display_name":"Paul Marcelin Bejan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75172038,"answer_count":2,"score":0,"last_activity_date":1674552201,"creation_date":1674050769,"question_id":75160472,"body_markdown":"I&#39;m trying to implement a BuilderPattern, where a subclass must extend a superclass.\r\n\r\nSuperclass:\r\n\r\n    @Getter\r\n    public abstract class CommonValidatorConfig&lt;VC extends CommonValidatorConfig&lt;VC&gt;&gt; {\r\n    \r\n    \tprivate boolean canBeNull;\r\n    \tprivate boolean canBeEmpty;\r\n    \t\r\n    \tpublic static abstract class CommonValidatorConfigBuilder&lt;VC, VCB extends CommonValidatorConfigBuilder&lt;VC, VCB&gt;&gt; {\r\n    \t\t\r\n    \t\tprotected boolean canBeNull;\r\n    \t\tprotected boolean canBeEmpty;\r\n    \t    \r\n    \t\t@SuppressWarnings(&quot;unchecked&quot;)\r\n    \t\tpublic VCB canBeNull(boolean canBeNull) {\r\n    \t\t\tthis.canBeNull = canBeNull;\r\n    \t\t\treturn (VCB) this;\r\n    \t\t}\r\n    \t\t\r\n    \t\t@SuppressWarnings(&quot;unchecked&quot;)\r\n    \t\tpublic VCB canBeEmpty(boolean canBeEmpty) {\r\n    \t\t\tthis.canBeEmpty = canBeEmpty;\r\n    \t\t\treturn (VCB) this;\r\n    \t\t}\r\n    \t\t\r\n    \t\t@SuppressWarnings(&quot;unchecked&quot;)\r\n    \t\tpublic VCB setDefault() {\r\n    \t\t\tthis.canBeNull = false;\r\n    \t\t\tthis.canBeEmpty = false;\r\n    \t\t\treturn (VCB) this;\r\n    \t\t}\r\n    \t\t\r\n    \t\tpublic abstract VC build();\r\n    \t\t\r\n    \t}\r\n    \t\r\n    }\r\n\r\nSubclass:\r\n\r\n    @Builder\r\n    @AllArgsConstructor(access = AccessLevel.PRIVATE)\r\n    public class StringValidatorConfig extends CommonValidatorConfig&lt;StringValidatorConfig&gt; {\r\n    \t\r\n    \tpublic static class StringValidatorConfigBuilder extends CommonValidatorConfigBuilder&lt;StringValidatorConfig, StringValidatorConfigBuilder&gt; {\r\n    \r\n    \t\t@Override\r\n    \t\tpublic StringValidatorConfig build() {\r\n    \t\t\treturn new StringValidatorConfig(false, false); // ERROR\r\n    \t\t}\r\n    \t\t\r\n    \t}\r\n    \t\r\n    }\r\n\r\nThe AllArgsConstructor AccessLevel is set to PRIVATE because I want to create a new instance using only Builders.\r\n\r\nI was expecting an AllArgsConstructor for StringValidatorConfig with two variables (canBeNull and canBeEmpty), but the AllArgsConstructor takes no arguments for the constructor.\r\n\r\nthis means that the variables of the CommonValidatorConfig are not inherited.\r\n\r\nAny help, also tutorials/docs/references or improvements of code are welcomed.","title":"Inherit variables from abstract superclass","body":"<p>I'm trying to implement a BuilderPattern, where a subclass must extend a superclass.</p>\n<p>Superclass:</p>\n<pre><code>@Getter\npublic abstract class CommonValidatorConfig&lt;VC extends CommonValidatorConfig&lt;VC&gt;&gt; {\n\n    private boolean canBeNull;\n    private boolean canBeEmpty;\n    \n    public static abstract class CommonValidatorConfigBuilder&lt;VC, VCB extends CommonValidatorConfigBuilder&lt;VC, VCB&gt;&gt; {\n        \n        protected boolean canBeNull;\n        protected boolean canBeEmpty;\n        \n        @SuppressWarnings(&quot;unchecked&quot;)\n        public VCB canBeNull(boolean canBeNull) {\n            this.canBeNull = canBeNull;\n            return (VCB) this;\n        }\n        \n        @SuppressWarnings(&quot;unchecked&quot;)\n        public VCB canBeEmpty(boolean canBeEmpty) {\n            this.canBeEmpty = canBeEmpty;\n            return (VCB) this;\n        }\n        \n        @SuppressWarnings(&quot;unchecked&quot;)\n        public VCB setDefault() {\n            this.canBeNull = false;\n            this.canBeEmpty = false;\n            return (VCB) this;\n        }\n        \n        public abstract VC build();\n        \n    }\n    \n}\n</code></pre>\n<p>Subclass:</p>\n<pre><code>@Builder\n@AllArgsConstructor(access = AccessLevel.PRIVATE)\npublic class StringValidatorConfig extends CommonValidatorConfig&lt;StringValidatorConfig&gt; {\n    \n    public static class StringValidatorConfigBuilder extends CommonValidatorConfigBuilder&lt;StringValidatorConfig, StringValidatorConfigBuilder&gt; {\n\n        @Override\n        public StringValidatorConfig build() {\n            return new StringValidatorConfig(false, false); // ERROR\n        }\n        \n    }\n    \n}\n</code></pre>\n<p>The AllArgsConstructor AccessLevel is set to PRIVATE because I want to create a new instance using only Builders.</p>\n<p>I was expecting an AllArgsConstructor for StringValidatorConfig with two variables (canBeNull and canBeEmpty), but the AllArgsConstructor takes no arguments for the constructor.</p>\n<p>this means that the variables of the CommonValidatorConfig are not inherited.</p>\n<p>Any help, also tutorials/docs/references or improvements of code are welcomed.</p>\n"},{"tags":["java","class","parameters"],"comments":[{"owner":{"account_id":5823420,"reputation":785,"user_id":6656833,"display_name":"Pavel"},"score":0,"creation_date":1674538278,"post_id":75217422,"comment_id":132729728,"body_markdown":"first of all, you should not expose the class properties directly but use encapsulation. x,y,width,length should be private and accessed via getters and setters. you also need a constructor, then in the constructor and setters you can add guards to whatever restrictions you like","body":"first of all, you should not expose the class properties directly but use encapsulation. x,y,width,length should be private and accessed via getters and setters. you also need a constructor, then in the constructor and setters you can add guards to whatever restrictions you like"},{"owner":{"account_id":27245422,"reputation":5,"user_id":20770803,"display_name":"msalaz03"},"score":0,"creation_date":1674590094,"post_id":75217422,"comment_id":132745480,"body_markdown":"@Pavel yeah I removed the all the &#39;public&#39; keywords after submitting the question and thank you for your advice.","body":"@Pavel yeah I removed the all the &#39;public&#39; keywords after submitting the question and thank you for your advice."},{"owner":{"account_id":5823420,"reputation":785,"user_id":6656833,"display_name":"Pavel"},"score":0,"creation_date":1674595096,"post_id":75217422,"comment_id":132747020,"body_markdown":"just removing public makes it still accessible by other classes in the same package","body":"just removing public makes it still accessible by other classes in the same package"}],"answers":[{"tags":[],"owner":{"account_id":27607701,"reputation":16,"user_id":21071461,"display_name":"ZackCCoding"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1674552128,"creation_date":1674552128,"answer_id":75219502,"question_id":75217422,"body_markdown":"To get the absolute values of negatives, you can replace `this.width = width;` with `this.width = Math.abs(width);` and the same for length and any other variables that cannot be negative.","title":"Adding Controls to classes in Java","body":"<p>To get the absolute values of negatives, you can replace <code>this.width = width;</code> with <code>this.width = Math.abs(width);</code> and the same for length and any other variables that cannot be negative.</p>\n"}],"owner":{"account_id":27245422,"reputation":5,"user_id":20770803,"display_name":"msalaz03"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75219502,"answer_count":1,"score":0,"last_activity_date":1674552128,"creation_date":1674534793,"question_id":75217422,"body_markdown":"So I created a class of Rect which just has the properties of rectangle. How would I add an implementation so that the width and length must be integers greater than zero or if a given number is negative it will instead take absolute value. I have not used java in years and my experience with it is limited so any advice would help.\r\n\r\n```\r\npublic class Rect {\r\n\r\n    int x;\r\n    int y;\r\n    int width;\r\n    int length;\r\n\r\n    public int getPerimeter() {\r\n        return (2 * width) + (2 * length);\r\n    }\r\n\r\n    public int getArea() {\r\n        return width * length;\r\n    }\r\n\r\n    public void move(int x, int y) {\r\n        this.x = x;\r\n        this.y = y;\r\n    }\r\n\r\n    public void changeSize(int n) {\r\n        this.width = n;\r\n        this.length = n;\r\n    }\r\n\r\n    public void print(int area, int perimeter) {\r\n        System.out.printf(&quot;X: %d\\n&quot;, this.x);\r\n        System.out.printf(&quot;Y: %d\\n&quot;, this.y);\r\n        System.out.printf(&quot;Length: %d\\n&quot;, this.width);\r\n        System.out.printf(&quot;Width: %d\\n&quot;, this.length);\r\n        System.out.printf(&quot;Area: %d\\n&quot;, area);\r\n        System.out.printf(&quot;Perimeter: %d&quot;, perimeter);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        Rect r1 = new Rect();\r\n        r1.length = 1;\r\n        r1.width = 2;\r\n        r1.x = 3;\r\n        r1.y = 4;\r\n\r\n        //test here\r\n        int area = r1.getArea();\r\n        int perimeter = r1.getPerimeter();\r\n\r\n        r1.print(area, perimeter);\r\n\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n\r\nI haven&#39;t really tried much as I am confused to where I should write the appropriate code.","title":"Adding Controls to classes in Java","body":"<p>So I created a class of Rect which just has the properties of rectangle. How would I add an implementation so that the width and length must be integers greater than zero or if a given number is negative it will instead take absolute value. I have not used java in years and my experience with it is limited so any advice would help.</p>\n<pre><code>public class Rect {\n\n    int x;\n    int y;\n    int width;\n    int length;\n\n    public int getPerimeter() {\n        return (2 * width) + (2 * length);\n    }\n\n    public int getArea() {\n        return width * length;\n    }\n\n    public void move(int x, int y) {\n        this.x = x;\n        this.y = y;\n    }\n\n    public void changeSize(int n) {\n        this.width = n;\n        this.length = n;\n    }\n\n    public void print(int area, int perimeter) {\n        System.out.printf(&quot;X: %d\\n&quot;, this.x);\n        System.out.printf(&quot;Y: %d\\n&quot;, this.y);\n        System.out.printf(&quot;Length: %d\\n&quot;, this.width);\n        System.out.printf(&quot;Width: %d\\n&quot;, this.length);\n        System.out.printf(&quot;Area: %d\\n&quot;, area);\n        System.out.printf(&quot;Perimeter: %d&quot;, perimeter);\n    }\n\n    public static void main(String[] args) {\n        Rect r1 = new Rect();\n        r1.length = 1;\n        r1.width = 2;\n        r1.x = 3;\n        r1.y = 4;\n\n        //test here\n        int area = r1.getArea();\n        int perimeter = r1.getPerimeter();\n\n        r1.print(area, perimeter);\n\n    }\n}\n</code></pre>\n<p>I haven't really tried much as I am confused to where I should write the appropriate code.</p>\n"},{"tags":["java","foreign-keys","jooq"],"comments":[{"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1674512604,"post_id":75215310,"comment_id":132726284,"body_markdown":"What RDBMS are you using?","body":"What RDBMS are you using?"},{"owner":{"account_id":1813580,"reputation":431,"user_id":1649163,"display_name":"mgramin"},"score":0,"creation_date":1674551978,"post_id":75215310,"comment_id":132732783,"body_markdown":"@LukasEder I&#39;m using Postgres and MySQL","body":"@LukasEder I&#39;m using Postgres and MySQL"}],"owner":{"account_id":1813580,"reputation":431,"user_id":1649163,"display_name":"mgramin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1674551952,"creation_date":1674509938,"question_id":75215310,"body_markdown":"There are `Parent` table (with PK constraint) and `Child` table (maybe without PK, but with FK constraint for `Parent` table).\r\n\r\nI want to batch insert in `Child` table and ignore/skip all rows with FK constraints errors (such as `onConflictOnConstraint()` for `insertInto` for single row) and save other rows.\r\n\r\nI tried `dslContext.loadInto()` with `onErrorIgnore()` option, but if any errors occur, other rows will not be inserted either:\r\n\r\n    List&lt;Record2&lt;Object, Object&gt;&gt; records = List.of(\r\n            dslContext.newRecord(field(&quot;id&quot;), field(&quot;value&quot;)).values(1, &quot;1&quot;),\r\n            dslContext.newRecord(field(&quot;id&quot;), field(&quot;value&quot;)).values(2, &quot;2&quot;),\r\n            dslContext.newRecord(field(&quot;id&quot;), field(&quot;value&quot;)).values(3, &quot;3&quot;),\r\n            dslContext.newRecord(field(&quot;id&quot;), field(&quot;value&quot;)).values(3, &quot;3&quot;));\r\n    dslContext.loadInto(table(&quot;child&quot;))\r\n            .batchAll()\r\n            .onErrorIgnore()\r\n            .loadRecords(records)\r\n            .fields(field(&quot;id&quot;), field(&quot;value&quot;))\r\n            .execute();","title":"Is there way to batch insert and ignore any FK constraints errors?","body":"<p>There are <code>Parent</code> table (with PK constraint) and <code>Child</code> table (maybe without PK, but with FK constraint for <code>Parent</code> table).</p>\n<p>I want to batch insert in <code>Child</code> table and ignore/skip all rows with FK constraints errors (such as <code>onConflictOnConstraint()</code> for <code>insertInto</code> for single row) and save other rows.</p>\n<p>I tried <code>dslContext.loadInto()</code> with <code>onErrorIgnore()</code> option, but if any errors occur, other rows will not be inserted either:</p>\n<pre><code>List&lt;Record2&lt;Object, Object&gt;&gt; records = List.of(\n        dslContext.newRecord(field(&quot;id&quot;), field(&quot;value&quot;)).values(1, &quot;1&quot;),\n        dslContext.newRecord(field(&quot;id&quot;), field(&quot;value&quot;)).values(2, &quot;2&quot;),\n        dslContext.newRecord(field(&quot;id&quot;), field(&quot;value&quot;)).values(3, &quot;3&quot;),\n        dslContext.newRecord(field(&quot;id&quot;), field(&quot;value&quot;)).values(3, &quot;3&quot;));\ndslContext.loadInto(table(&quot;child&quot;))\n        .batchAll()\n        .onErrorIgnore()\n        .loadRecords(records)\n        .fields(field(&quot;id&quot;), field(&quot;value&quot;))\n        .execute();\n</code></pre>\n"},{"tags":["java","spring-boot","rest","jmeter","stress-testing"],"answers":[{"tags":[],"owner":{"account_id":3460456,"reputation":162728,"user_id":2897748,"display_name":"Dmitri T"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674551440,"creation_date":1674551440,"answer_id":75219406,"question_id":75219292,"body_markdown":"Most probably you&#39;ve run out of outbound ports. \r\n\r\nCheck your operating system documentation regarding how to either increase them and/or or reduce recycle time. \r\n\r\nExample suggestions can be found i.e. in [Solved “java.net.BindException: Address already in use: connect” issue on Windows][1] or [Handling &quot;exhausting available ports&quot; in Jmeter][2]\r\n\r\nAlternatively you can allocate another machine and consider switching to [JMeter Distributed Testing][3] \r\n\r\n\r\n  [1]: https://www.baselogic.com/2011/11/23/solved-java-net-bindexception-address-use-connect-issue-windows/\r\n  [2]: https://www.linkedin.com/pulse/handling-exhausting-available-ports-jmeter-shrikant-m/\r\n  [3]: https://www.blazemeter.com/blog/distributed-testing-in-jmeter","title":"Springboot app settings to perform StressTest","body":"<p>Most probably you've run out of outbound ports.</p>\n<p>Check your operating system documentation regarding how to either increase them and/or or reduce recycle time.</p>\n<p>Example suggestions can be found i.e. in <a href=\"https://www.baselogic.com/2011/11/23/solved-java-net-bindexception-address-use-connect-issue-windows/\" rel=\"nofollow noreferrer\">Solved “java.net.BindException: Address already in use: connect” issue on Windows</a> or <a href=\"https://www.linkedin.com/pulse/handling-exhausting-available-ports-jmeter-shrikant-m/\" rel=\"nofollow noreferrer\">Handling &quot;exhausting available ports&quot; in Jmeter</a></p>\n<p>Alternatively you can allocate another machine and consider switching to <a href=\"https://www.blazemeter.com/blog/distributed-testing-in-jmeter\" rel=\"nofollow noreferrer\">JMeter Distributed Testing</a></p>\n"}],"owner":{"account_id":21435285,"reputation":53,"user_id":15790858,"display_name":"mc ser"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":237,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674551440,"creation_date":1674550755,"question_id":75219292,"body_markdown":"i want to ask about what&#39;s the proper settings on springboot application properties to perform a stress test? because i&#39;m constantly getting this error from my Jmeter when it reach 16k samples on my springboot rest server, also i am doing 100thread/s on the jmeter thread group for 5 minutes. Thank you\r\n\r\n```\r\njava.net.BindException: Address already in use: connect\r\n\tat java.base/sun.nio.ch.Net.connect0(Native Method)\r\n\tat java.base/sun.nio.ch.Net.connect(Net.java:579)\r\n\tat java.base/sun.nio.ch.Net.connect(Net.java:568)\r\n\tat java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:588)\r\n\tat java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)\r\n\tat java.base/java.net.Socket.connect(Socket.java:633)\r\n\tat org.apache.http.conn.socket.PlainConnectionSocketFactory.connectSocket(PlainConnectionSocketFactory.java:75)\r\n\tat org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142)\r\n\tat org.apache.jmeter.protocol.http.sampler.HTTPHC4Impl$JMeterDefaultHttpClientConnectionOperator.connect(HTTPHC4Impl.java:404)\r\n```","title":"Springboot app settings to perform StressTest","body":"<p>i want to ask about what's the proper settings on springboot application properties to perform a stress test? because i'm constantly getting this error from my Jmeter when it reach 16k samples on my springboot rest server, also i am doing 100thread/s on the jmeter thread group for 5 minutes. Thank you</p>\n<pre><code>java.net.BindException: Address already in use: connect\n    at java.base/sun.nio.ch.Net.connect0(Native Method)\n    at java.base/sun.nio.ch.Net.connect(Net.java:579)\n    at java.base/sun.nio.ch.Net.connect(Net.java:568)\n    at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:588)\n    at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)\n    at java.base/java.net.Socket.connect(Socket.java:633)\n    at org.apache.http.conn.socket.PlainConnectionSocketFactory.connectSocket(PlainConnectionSocketFactory.java:75)\n    at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142)\n    at org.apache.jmeter.protocol.http.sampler.HTTPHC4Impl$JMeterDefaultHttpClientConnectionOperator.connect(HTTPHC4Impl.java:404)\n</code></pre>\n"},{"tags":["java","android","list","arraylist","ocr"],"answers":[{"tags":[],"owner":{"account_id":24670975,"reputation":21,"user_id":18565995,"display_name":"Eric"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674353937,"creation_date":1674350599,"answer_id":75197687,"question_id":75196457,"body_markdown":"Your `stringBuilder` is a local variable, you can&#39;t refer it outside the method.","title":"How to check if any strings in a list appears in a string, and then display anything that matches in a text box?","body":"<p>Your <code>stringBuilder</code> is a local variable, you can't refer it outside the method.</p>\n"},{"tags":[],"owner":{"account_id":26882938,"reputation":1,"user_id":20678263,"display_name":"Conor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674551160,"creation_date":1674512794,"answer_id":75215687,"question_id":75196457,"body_markdown":"I figured it out\r\n```\r\nStringBuilder stringBuilder = new StringBuilder();\r\nfor (int i = 0; i &lt; items.size(); i++) {\r\n    TextBlock item = items.valueAt(i);\r\n    stringBuilder.append(item.getValue());\r\n    stringBuilder.append(&quot;\\n&quot;);\r\n}\r\n\r\nfor (String item : list) {\r\n    if (stringBuilder.toString().contains(item)) {\r\n        matches = item;\r\n    }\r\n}\r\n\r\ntextView.setText(matches);","title":"How to check if any strings in a list appears in a string, and then display anything that matches in a text box?","body":"<p>I figured it out</p>\n<pre><code>StringBuilder stringBuilder = new StringBuilder();\nfor (int i = 0; i &lt; items.size(); i++) {\n    TextBlock item = items.valueAt(i);\n    stringBuilder.append(item.getValue());\n    stringBuilder.append(&quot;\\n&quot;);\n}\n\nfor (String item : list) {\n    if (stringBuilder.toString().contains(item)) {\n        matches = item;\n    }\n}\n\ntextView.setText(matches);\n</code></pre>\n"}],"owner":{"account_id":26882938,"reputation":1,"user_id":20678263,"display_name":"Conor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1674551160,"creation_date":1674334080,"question_id":75196457,"body_markdown":"I&#39;m creating an OCR app that detects any text in live footage, and displays that text in a textbox. However, I want to filter this text to only display certain words, stored in a list.\r\n\r\nThis is the code I have currently that displays any text found\r\n\r\n```\r\n@Override\r\npublic void receiveDetections(Detector.Detections&lt;TextBlock&gt; detections) {\r\n    final SparseArray&lt;TextBlock&gt; items = detections.getDetectedItems();\r\n    if (items.size() != 0) {\r\n        textView.post(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                StringBuilder stringBuilder = new StringBuilder();\r\n                for (int i = 0; i &lt; items.size(); i++) {\r\n                    TextBlock item = items.valueAt(i);\r\n                    stringBuilder.append(item.getValue());\r\n                    stringBuilder.append(&quot;\\n&quot;);\r\n                }\r\n                textView.setText(stringBuilder.toString());\r\n            }\r\n        });\r\n    }\r\n}\r\n```\r\n\r\nThis is what I&#39;ve tried using, but I&#39;m getting no output\r\n\r\n```\r\nwhile (textView.getText().toString().trim().length() == 0) {\r\n    if (list.contains(stringBuilder)) {\r\n        for (int j = 0; j &lt;= list.size(); j++) {\r\n            if (stringBuilder.toString().contains(list.get(j))) {\r\n                textView.setText(list.get(j));\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nDoes anyone know how I can make the text view show only text that&#39;s in my list? Here is my list\r\n\r\n```\r\nList&lt;String&gt; list = new ArrayList&lt;&gt;();\r\nwords.add(&quot;abc&quot;);\r\n```\r\n\r\nI tried using the code below, because this on its own displays the live OCR feed, but it still didn&#39;t work above, so I believe the problem is in the checking process\r\n\r\n```\r\ntextView.setText(stringBuilder.toString());\r\n```\r\n\r\n```\r\nwhile (textView.getText().toString().trim().length() == 0) {\r\n    if (list.contains(stringBuilder)) {\r\n        for (int j = 0; j &lt;= list.size(); j++) {\r\n            if (stringBuilder.toString().contains(list.get(j))) {\r\n                textView.setText(stringBuilder.toString());\r\n            }\r\n        }\r\n    }\r\n}\r\n```","title":"How to check if any strings in a list appears in a string, and then display anything that matches in a text box?","body":"<p>I'm creating an OCR app that detects any text in live footage, and displays that text in a textbox. However, I want to filter this text to only display certain words, stored in a list.</p>\n<p>This is the code I have currently that displays any text found</p>\n<pre><code>@Override\npublic void receiveDetections(Detector.Detections&lt;TextBlock&gt; detections) {\n    final SparseArray&lt;TextBlock&gt; items = detections.getDetectedItems();\n    if (items.size() != 0) {\n        textView.post(new Runnable() {\n            @Override\n            public void run() {\n                StringBuilder stringBuilder = new StringBuilder();\n                for (int i = 0; i &lt; items.size(); i++) {\n                    TextBlock item = items.valueAt(i);\n                    stringBuilder.append(item.getValue());\n                    stringBuilder.append(&quot;\\n&quot;);\n                }\n                textView.setText(stringBuilder.toString());\n            }\n        });\n    }\n}\n</code></pre>\n<p>This is what I've tried using, but I'm getting no output</p>\n<pre><code>while (textView.getText().toString().trim().length() == 0) {\n    if (list.contains(stringBuilder)) {\n        for (int j = 0; j &lt;= list.size(); j++) {\n            if (stringBuilder.toString().contains(list.get(j))) {\n                textView.setText(list.get(j));\n            }\n        }\n    }\n}\n</code></pre>\n<p>Does anyone know how I can make the text view show only text that's in my list? Here is my list</p>\n<pre><code>List&lt;String&gt; list = new ArrayList&lt;&gt;();\nwords.add(&quot;abc&quot;);\n</code></pre>\n<p>I tried using the code below, because this on its own displays the live OCR feed, but it still didn't work above, so I believe the problem is in the checking process</p>\n<pre><code>textView.setText(stringBuilder.toString());\n</code></pre>\n<pre><code>while (textView.getText().toString().trim().length() == 0) {\n    if (list.contains(stringBuilder)) {\n        for (int j = 0; j &lt;= list.size(); j++) {\n            if (stringBuilder.toString().contains(list.get(j))) {\n                textView.setText(stringBuilder.toString());\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":2264130,"reputation":38897,"user_id":1993366,"accept_rate":86,"display_name":"vikingsteve"},"score":0,"creation_date":1380611814,"post_id":19108397,"comment_id":28256264,"body_markdown":"What does the directory structure look like? Can you see for example a `.idea` folder, or some `pom.xml` or `.iml` files?","body":"What does the directory structure look like? Can you see for example a <code>.idea</code> folder, or some <code>pom.xml</code> or <code>.iml</code> files?"},{"owner":{"account_id":7069929,"reputation":7209,"user_id":5411888,"accept_rate":100,"display_name":"Amit Upadhyay"},"score":0,"creation_date":1677168591,"post_id":19108397,"comment_id":133288685,"body_markdown":"for me, restarting my system worked, same as the good old times! xD","body":"for me, restarting my system worked, same as the good old times! xD"}],"answers":[{"tags":[],"owner":{"account_id":3318408,"reputation":1719,"user_id":2790141,"display_name":"Ernestas Kardzys"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1380605374,"creation_date":1380605374,"answer_id":19108631,"question_id":19108397,"body_markdown":"Try importing project by selecting File -&gt; Import Project... (as for IntelliJ IDEA 12.1.4).\r\n\r\nDoes it help?","title":"Can not open project with IntelliJ IDEA","body":"<p>Try importing project by selecting File -> Import Project... (as for IntelliJ IDEA 12.1.4).</p>\n\n<p>Does it help?</p>\n"},{"tags":[],"owner":{"account_id":11308557,"reputation":231,"user_id":8292337,"display_name":"Vipin ChandraMohan"},"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1510608797,"creation_date":1510608797,"answer_id":47273918,"question_id":19108397,"body_markdown":"I faced the same issue. Deleting &lt;i&gt;.project&lt;/i&gt; file in from the home directory and reopening &lt;b&gt;solved&lt;/b&gt; the problem.","title":"Can not open project with IntelliJ IDEA","body":"<p>I faced the same issue. Deleting <i>.project</i> file in from the home directory and reopening <b>solved</b> the problem.</p>\n"},{"tags":[],"owner":{"account_id":12560763,"reputation":1083,"user_id":9138621,"display_name":"JPilson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1582715008,"creation_date":1582715008,"answer_id":60412461,"question_id":19108397,"body_markdown":"I was facing this recently and by Jetbeans adding \r\n&quot; -Dide.mac.file.chooser.native=false &quot; to vmoptions would solve the problem.\r\n\r\nBut in my case, it did not work, I noticed the error log and it was not able to open due to no permission to read a file under.IDEA folder inside my project so went to system preferences and gave WebStrom permission to files and it started working. \r\n \r\nhttps://youtrack.jetbrains.com/issue/JBR-1721?_ga=2.190528747.1517998312.1582653181-1398648508.1578306760","title":"Can not open project with IntelliJ IDEA","body":"<p>I was facing this recently and by Jetbeans adding \n\" -Dide.mac.file.chooser.native=false \" to vmoptions would solve the problem.</p>\n\n<p>But in my case, it did not work, I noticed the error log and it was not able to open due to no permission to read a file under.IDEA folder inside my project so went to system preferences and gave WebStrom permission to files and it started working. </p>\n\n<p><a href=\"https://youtrack.jetbrains.com/issue/JBR-1721?_ga=2.190528747.1517998312.1582653181-1398648508.1578306760\" rel=\"nofollow noreferrer\">https://youtrack.jetbrains.com/issue/JBR-1721?_ga=2.190528747.1517998312.1582653181-1398648508.1578306760</a></p>\n"},{"tags":[],"owner":{"account_id":8814894,"reputation":867,"user_id":6586691,"display_name":"Sergii Shcherbak"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1639045547,"creation_date":1639045547,"answer_id":70288233,"question_id":19108397,"body_markdown":"In my case (**PyCharm**), there was one particular project that refused to open, while other projects worked perfectly. Deleting the `.idea` folder did not fix the issue. The fix that worked for me: `File &gt; Invalidate Caches &gt; (Select all) &gt; Invalidate and Restart`. This will remove caches and indices for all projects, and new caches will be built on re-open.","title":"Can not open project with IntelliJ IDEA","body":"<p>In my case (<strong>PyCharm</strong>), there was one particular project that refused to open, while other projects worked perfectly. Deleting the <code>.idea</code> folder did not fix the issue. The fix that worked for me: <code>File &gt; Invalidate Caches &gt; (Select all) &gt; Invalidate and Restart</code>. This will remove caches and indices for all projects, and new caches will be built on re-open.</p>\n"},{"tags":[],"owner":{"account_id":13971473,"reputation":367,"user_id":10089961,"display_name":"Shay Ribera"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648042963,"creation_date":1648042963,"answer_id":71588251,"question_id":19108397,"body_markdown":"In my case I had generated a apache camel project by running `mvn archetype:generate -DarchetypeGroupId=&quot;org.apache.camel.archetypes&quot; -DarchetypeArtifactId=&quot;camel-archetype-spring-boot&quot; -DarchetypeVersion=&quot;3.4.0&quot;` on my terminal but it did not generate a .idea folder and so InteliJ would not open it. So I copied the .idea folder of a similar project and edited the `modules.xml, workspace.xml, project template.xml and misc.xml` to match my project name and class path, then InteliJ opened the project with no issue.","title":"Can not open project with IntelliJ IDEA","body":"<p>In my case I had generated a apache camel project by running <code>mvn archetype:generate -DarchetypeGroupId=&quot;org.apache.camel.archetypes&quot; -DarchetypeArtifactId=&quot;camel-archetype-spring-boot&quot; -DarchetypeVersion=&quot;3.4.0&quot;</code> on my terminal but it did not generate a .idea folder and so InteliJ would not open it. So I copied the .idea folder of a similar project and edited the <code>modules.xml, workspace.xml, project template.xml and misc.xml</code> to match my project name and class path, then InteliJ opened the project with no issue.</p>\n"},{"tags":[],"owner":{"account_id":18599984,"reputation":1,"user_id":13555041,"display_name":"Kevin Lillard"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650877078,"creation_date":1650877078,"answer_id":71996881,"question_id":19108397,"body_markdown":"In my case, .idea folder (which configures the IDE settings) was missing. I have copied this folder from my existing and properly working projects and it solved the problem","title":"Can not open project with IntelliJ IDEA","body":"<p>In my case, .idea folder (which configures the IDE settings) was missing. I have copied this folder from my existing and properly working projects and it solved the problem</p>\n"},{"tags":[],"owner":{"account_id":25466906,"reputation":1,"user_id":19265800,"display_name":"Nancy M"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654275638,"creation_date":1654275638,"answer_id":72492920,"question_id":19108397,"body_markdown":"In my case invalidating caches helped solve my problem. ","title":"Can not open project with IntelliJ IDEA","body":"<p>In my case invalidating caches helped solve my problem.</p>\n"},{"tags":[],"owner":{"account_id":5639553,"reputation":428,"user_id":4463876,"display_name":"Human programmer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1665436512,"creation_date":1665436512,"answer_id":74020738,"question_id":19108397,"body_markdown":"I was having a similar issue, but I was not getting any error message. When I tried opening the git repository, nothing was happening in IntelliJ. For me using the following IntelliJ options helped:\r\n\r\nGo to FILE menu -&gt; New Project -&gt; Project From Existing Sources.\r\n\r\nNow select your project folder. Then I chose &quot;Create project from existing sources&quot; and went through the generator, basically just clicking Next.","title":"Can not open project with IntelliJ IDEA","body":"<p>I was having a similar issue, but I was not getting any error message. When I tried opening the git repository, nothing was happening in IntelliJ. For me using the following IntelliJ options helped:</p>\n<p>Go to FILE menu -&gt; New Project -&gt; Project From Existing Sources.</p>\n<p>Now select your project folder. Then I chose &quot;Create project from existing sources&quot; and went through the generator, basically just clicking Next.</p>\n"},{"tags":[],"owner":{"account_id":6121205,"reputation":442,"user_id":4774683,"display_name":"Youness HARDI"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674550889,"creation_date":1674550889,"answer_id":75219316,"question_id":19108397,"body_markdown":"I was facing the same problem. I didn&#39;t invalidates caches. I just reload all gradle projects by clicking in in the &quot;Reload all Gradle projects&quot; in gradle view, after each project build/sync, they will be imported as expected.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/x1lOQ.png","title":"Can not open project with IntelliJ IDEA","body":"<p>I was facing the same problem. I didn't invalidates caches. I just reload all gradle projects by clicking in in the &quot;Reload all Gradle projects&quot; in gradle view, after each project build/sync, they will be imported as expected.</p>\n<p><a href=\"https://i.stack.imgur.com/x1lOQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/x1lOQ.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":2426787,"reputation":313,"user_id":2118544,"accept_rate":30,"display_name":"Sajjad Rostami"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38648,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"answer_count":9,"score":15,"last_activity_date":1674550889,"creation_date":1380603999,"question_id":19108397,"body_markdown":"I have a project that was already working with IntelliJ IDEA but now,when I want to open it with IntelliJ IDEA, I am facing this error message:&quot;Contains no IntelliJ IDE project&quot;.","title":"Can not open project with IntelliJ IDEA","body":"<p>I have a project that was already working with IntelliJ IDEA but now,when I want to open it with IntelliJ IDEA, I am facing this error message:\"Contains no IntelliJ IDE project\".</p>\n"},{"tags":["java","android","reactjs","react-native","gradle"],"answers":[{"tags":[],"owner":{"account_id":26740834,"reputation":13,"user_id":20341648,"display_name":"aysekaplan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674550806,"creation_date":1674482615,"answer_id":75210595,"question_id":75210353,"body_markdown":"BTW I fixed this problem by doing that\r\n\r\nReplace this in android/build.gradle file\r\n\r\n```\r\nallprojects {\r\n    repositories {\r\n        exclusiveContent {\r\n           filter {\r\n               includeGroup &quot;com.facebook.react&quot;\r\n           }\r\n           forRepository {\r\n               maven {\r\n                   url &quot;$rootDir/../node_modules/react-native/android&quot;\r\n               }\r\n           }\r\n       }\r\n\r\n       // ... your repository definitions\r\n\r\n    }\r\n}\r\n```\r\n\r\nI refered that link https://github.com/facebook/react-native/issues/35210","title":"react native Execution failed for task &#39;:react-native-community_checkbox:generateDebugRFile&#39;","body":"<p>BTW I fixed this problem by doing that</p>\n<p>Replace this in android/build.gradle file</p>\n<pre><code>allprojects {\n    repositories {\n        exclusiveContent {\n           filter {\n               includeGroup &quot;com.facebook.react&quot;\n           }\n           forRepository {\n               maven {\n                   url &quot;$rootDir/../node_modules/react-native/android&quot;\n               }\n           }\n       }\n\n       // ... your repository definitions\n\n    }\n}\n</code></pre>\n<p>I refered that link <a href=\"https://github.com/facebook/react-native/issues/35210\" rel=\"nofollow noreferrer\">https://github.com/facebook/react-native/issues/35210</a></p>\n"}],"owner":{"account_id":26740834,"reputation":13,"user_id":20341648,"display_name":"aysekaplan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1473,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674550806,"creation_date":1674481295,"question_id":75210353,"body_markdown":"hi everyone today I tried run the android \r\nhello, today I got an error when I tried to run the android of the project I&#39;ve been developing for 3 months.\r\n\r\n    error Failed to install the app. Make sure you have the Android development environment set up: https://reactnative.dev/docs/environment-setup.\r\nError: Command failed: ./gradlew app:installDebug -PreactNativeDevServerPort=8081\r\n\r\nFAILURE: Build completed with 2 failures.\r\n\r\n1: Task failed with an exception.\r\n-----------\r\n* What went wrong:\r\nExecution failed for task &#39;:react-native-community_checkbox:generateDebugRFile&#39;.\r\n&gt; Could not resolve all files for configuration &#39;:react-native-community_checkbox:debugCompileClasspath&#39;.\r\n   &gt; Failed to transform react-native-0.71.0-rc.0-debug.aar (com.facebook.react:react-native:0.71.0-rc.0) to match attributes {artifactType=android-symbol-with-package-name, com.android.build.api.attributes.BuildTypeAttr=debug, org.gradle.category=library, org.gradle.dependency.bundling=external, org.gradle.libraryelements=aar, org.gradle.status=release, org.gradle.usage=java-api}.\r\n      &gt; Could not find react-native-0.71.0-rc.0-debug.aar (com.facebook.react:react-native:0.71.0-rc.0).\r\n        Searched in the following locations:\r\n            https://repo.maven.apache.org/maven2/com/facebook/react/react-native/0.71.0-rc.0/react-native-0.71.0-rc.0-debug.aar\r\n\r\n* Try:\r\n&gt; Run with --stacktrace option to get the stack trace.\r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n==============================================================================\r\n\r\n2: Task failed with an exception.\r\n-----------\r\n* What went wrong:\r\njava.lang.StackOverflowError (no error message)\r\n\r\n* Try:\r\n&gt; Run with --stacktrace option to get the stack trace.\r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n==============================================================================\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nBUILD FAILED in 4s\r\n\r\n    at makeError (/Users/arslantek/Desktop/TTDeneme23Ocak/TTMedMobil/node_modules/execa/index.js:174:9)\r\n    at /Users/arslantek/Desktop/TTDeneme23Ocak/TTMedMobil/node_modules/execa/index.js:278:16\r\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\r\n    at async runOnAllDevices (/Users/arslantek/Desktop/TTDeneme23Ocak/TTMedMobil/node_modules/@react-native-community/cli-platform-android/build/commands/runAndroid/runOnAllDevices.js:109:5)\r\n    at async Command.handleAction (/Users/arslantek/Desktop/TTDeneme23Ocak/TTMedMobil/node_modules/@react-native-community/cli/build/index.js:142:9)\r\ninfo Run CLI with --verbose flag for more details.\r\nerror Command failed with exit code 1.\r\n\r\n\r\n\r\nhow can i fix that?","title":"react native Execution failed for task &#39;:react-native-community_checkbox:generateDebugRFile&#39;","body":"<p>hi everyone today I tried run the android\nhello, today I got an error when I tried to run the android of the project I've been developing for 3 months.</p>\n<pre><code>error Failed to install the app. Make sure you have the Android development environment set up: https://reactnative.dev/docs/environment-setup.\n</code></pre>\n<p>Error: Command failed: ./gradlew app:installDebug -PreactNativeDevServerPort=8081</p>\n<p>FAILURE: Build completed with 2 failures.</p>\n<h2>1: Task failed with an exception.</h2>\n<ul>\n<li>What went wrong:\nExecution failed for task ':react-native-community_checkbox:generateDebugRFile'.</li>\n</ul>\n<blockquote>\n<p>Could not resolve all files for configuration ':react-native-community_checkbox:debugCompileClasspath'.\nFailed to transform react-native-0.71.0-rc.0-debug.aar (com.facebook.react:react-native:0.71.0-rc.0) to match attributes {artifactType=android-symbol-with-package-name, com.android.build.api.attributes.BuildTypeAttr=debug, org.gradle.category=library, org.gradle.dependency.bundling=external, org.gradle.libraryelements=aar, org.gradle.status=release, org.gradle.usage=java-api}.\n&gt; Could not find react-native-0.71.0-rc.0-debug.aar (com.facebook.react:react-native:0.71.0-rc.0).\nSearched in the following locations:\n<a href=\"https://repo.maven.apache.org/maven2/com/facebook/react/react-native/0.71.0-rc.0/react-native-0.71.0-rc.0-debug.aar\" rel=\"nofollow noreferrer\">https://repo.maven.apache.org/maven2/com/facebook/react/react-native/0.71.0-rc.0/react-native-0.71.0-rc.0-debug.aar</a></p>\n</blockquote>\n<ul>\n<li>Try:</li>\n</ul>\n<blockquote>\n<p>Run with --stacktrace option to get the stack trace.\nRun with --info or --debug option to get more log output.\nRun with --scan to get full insights.\n==============================================================================</p>\n</blockquote>\n<h2>2: Task failed with an exception.</h2>\n<ul>\n<li><p>What went wrong:\njava.lang.StackOverflowError (no error message)</p>\n</li>\n<li><p>Try:</p>\n</li>\n</ul>\n<blockquote>\n<p>Run with --stacktrace option to get the stack trace.\nRun with --info or --debug option to get more log output.\nRun with --scan to get full insights.\n==============================================================================</p>\n</blockquote>\n<ul>\n<li>Get more help at <a href=\"https://help.gradle.org\" rel=\"nofollow noreferrer\">https://help.gradle.org</a></li>\n</ul>\n<p>BUILD FAILED in 4s</p>\n<pre><code>at makeError (/Users/arslantek/Desktop/TTDeneme23Ocak/TTMedMobil/node_modules/execa/index.js:174:9)\nat /Users/arslantek/Desktop/TTDeneme23Ocak/TTMedMobil/node_modules/execa/index.js:278:16\nat process.processTicksAndRejections (node:internal/process/task_queues:95:5)\nat async runOnAllDevices (/Users/arslantek/Desktop/TTDeneme23Ocak/TTMedMobil/node_modules/@react-native-community/cli-platform-android/build/commands/runAndroid/runOnAllDevices.js:109:5)\nat async Command.handleAction (/Users/arslantek/Desktop/TTDeneme23Ocak/TTMedMobil/node_modules/@react-native-community/cli/build/index.js:142:9)\n</code></pre>\n<p>info Run CLI with --verbose flag for more details.\nerror Command failed with exit code 1.</p>\n<p>how can i fix that?</p>\n"},{"tags":["java","spring","postgresql","hibernate","criteria-api"],"owner":{"account_id":15654628,"reputation":11,"user_id":11295311,"display_name":"Nipun Vig"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1674550468,"creation_date":1674550125,"question_id":75219202,"body_markdown":"Table name: Employee \r\nI have an array column name: `[&quot;a&quot;,&quot;b&quot;,&quot;c&quot;]`\r\n\r\nand a value name -&gt; &quot;a&quot; which i want to check if it is present in array.\r\n\r\nThrough sql query i am able to do using ANY clause: \r\n\r\n    SELECT * \r\n    FROM EMPLOYEE WHERE &#39;a&#39; = ANY(name)\r\n\r\n\r\nBut when i try to do same through criteria query I run into issues as ANY()  uses subquery as param.\r\n\r\nCan someone help how to achieve same using criteria api without using subquery?\r\n\r\nI have tried isMember,Any() In() using criteria query but none of that works.","title":"Having a text[] column named name in database table named Employee , i want to check if certain value is present in array using criteria query","body":"<p>Table name: Employee\nI have an array column name: <code>[&quot;a&quot;,&quot;b&quot;,&quot;c&quot;]</code></p>\n<p>and a value name -&gt; &quot;a&quot; which i want to check if it is present in array.</p>\n<p>Through sql query i am able to do using ANY clause:</p>\n<pre><code>SELECT * \nFROM EMPLOYEE WHERE 'a' = ANY(name)\n</code></pre>\n<p>But when i try to do same through criteria query I run into issues as ANY()  uses subquery as param.</p>\n<p>Can someone help how to achieve same using criteria api without using subquery?</p>\n<p>I have tried isMember,Any() In() using criteria query but none of that works.</p>\n"},{"tags":["java","mongodb","spring-data"],"answers":[{"tags":[],"owner":{"account_id":2638471,"reputation":25863,"user_id":2282634,"display_name":"Joe"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1631873015,"creation_date":1631873015,"answer_id":69221506,"question_id":69197880,"body_markdown":"BSON binary subtype 3 is the legacy UUID format.  The legacy byte ordering was not defined, and so each client language was free to order the bytes in whatever way made sense to that language&#39;s implementation.\r\n\r\nThe base64 data `30Z6lgeYEcooOhbk5fBZtg==` in hex is:\r\n```\r\ndf46 7a96 0798 11ca 283a 16e4 e5f0 59b6\r\n```\r\n\r\nIf you compare that with the original UUID `ca119807-967a-46df-b659-f0e5e4163a28` you may notice that the first half of the hexadecimal:\r\n\r\n```\r\ndf46 7a96 0798 11ca\r\n```\r\nis the reverse order of the first half of the UUID:\r\n\r\n```\r\nca119807-967a-46df\r\n```\r\n\r\nLikewise for the second half:\r\n```\r\n283a 16e4 e5f0 59b6\r\nb659-f0e5e4163a28\r\n```\r\n\r\nMongoDB Java driver&#39;s [org.bson.UuidRepresentation](https://mongodb.github.io/mongo-java-driver/3.5/javadoc/org/bson/UuidRepresentation.html) enum gives an inkling to the problem, it has possible values:\r\n```\r\nC_SHARP_LEGACY\r\nJAVA_LEGACY\r\nPYTHON_LEGACY\r\nSTANDARD\r\n```\r\n\r\nThe peculiar encoding above is the JAVA_LEGACY format.\r\n\r\nFor how to specify which to use, see https://stackoverflow.com/questions/64958563/spring-boot-2-3-6-how-to-set-uuid-representation-for-mongo","title":"Using MongoClient to read UUID written to with Spring Data","body":"<p>BSON binary subtype 3 is the legacy UUID format.  The legacy byte ordering was not defined, and so each client language was free to order the bytes in whatever way made sense to that language's implementation.</p>\n<p>The base64 data <code>30Z6lgeYEcooOhbk5fBZtg==</code> in hex is:</p>\n<pre><code>df46 7a96 0798 11ca 283a 16e4 e5f0 59b6\n</code></pre>\n<p>If you compare that with the original UUID <code>ca119807-967a-46df-b659-f0e5e4163a28</code> you may notice that the first half of the hexadecimal:</p>\n<pre><code>df46 7a96 0798 11ca\n</code></pre>\n<p>is the reverse order of the first half of the UUID:</p>\n<pre><code>ca119807-967a-46df\n</code></pre>\n<p>Likewise for the second half:</p>\n<pre><code>283a 16e4 e5f0 59b6\nb659-f0e5e4163a28\n</code></pre>\n<p>MongoDB Java driver's <a href=\"https://mongodb.github.io/mongo-java-driver/3.5/javadoc/org/bson/UuidRepresentation.html\" rel=\"nofollow noreferrer\">org.bson.UuidRepresentation</a> enum gives an inkling to the problem, it has possible values:</p>\n<pre><code>C_SHARP_LEGACY\nJAVA_LEGACY\nPYTHON_LEGACY\nSTANDARD\n</code></pre>\n<p>The peculiar encoding above is the JAVA_LEGACY format.</p>\n<p>For how to specify which to use, see <a href=\"https://stackoverflow.com/questions/64958563/spring-boot-2-3-6-how-to-set-uuid-representation-for-mongo\">spring-boot 2.3.6, how to set UUID representation for mongo?</a></p>\n"},{"tags":[],"owner":{"account_id":15752966,"reputation":337,"user_id":11366906,"display_name":"jjrz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632124503,"creation_date":1632124503,"answer_id":69250862,"question_id":69197880,"body_markdown":"Thanks to @Joe&#39;s answer I was able to use utilities from `org.mongodb:bson:423` to decode JAVA_LEGACY bytes:\r\n\r\n    import org.bson.Document;\r\n    import org.bson.UuidRepresentation;\r\n    import org.bson.conversions.Bson;\r\n    import org.bson.internal.UuidHelper;\r\n    import org.bson.types.Binary;\r\n    \r\n    (...)\r\n\r\n    result.map(document -&gt; {\r\n    Binary id = document.get(&quot;_id&quot;, Binary.class);\r\n    byte[] data = id.getData();\r\n    byte type = id.getType();\r\n    return UuidHelper.decodeBinaryToUuid(data, type, \r\n            UuidRepresentation.JAVA_LEGACY);\r\n    }) (...)\r\n\r\nThe result is then the same UUID value as the one persisted with Spring Data MongoDB.","title":"Using MongoClient to read UUID written to with Spring Data","body":"<p>Thanks to @Joe's answer I was able to use utilities from <code>org.mongodb:bson:423</code> to decode JAVA_LEGACY bytes:</p>\n<pre><code>import org.bson.Document;\nimport org.bson.UuidRepresentation;\nimport org.bson.conversions.Bson;\nimport org.bson.internal.UuidHelper;\nimport org.bson.types.Binary;\n\n(...)\n\nresult.map(document -&gt; {\nBinary id = document.get(&quot;_id&quot;, Binary.class);\nbyte[] data = id.getData();\nbyte type = id.getType();\nreturn UuidHelper.decodeBinaryToUuid(data, type, \n        UuidRepresentation.JAVA_LEGACY);\n}) (...)\n</code></pre>\n<p>The result is then the same UUID value as the one persisted with Spring Data MongoDB.</p>\n"},{"tags":[],"owner":{"account_id":12898501,"reputation":590,"user_id":9328115,"display_name":"Yuri Molodyko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674549960,"creation_date":1674549960,"answer_id":75219170,"question_id":69197880,"body_markdown":"The problem is that java uuid converted into another uuid in mongo driver. So i write this code, for find the java uuid into mongodb:\r\n\r\n    import org.bson.UuidRepresentation;\r\n    import org.bson.codecs.Codec;\r\n    import org.bson.codecs.EncoderContext;\r\n    import org.bson.codecs.UuidCodec;\r\n    import org.bson.json.JsonWriter;\r\n    \r\n    import java.io.StringWriter;\r\n    import java.util.UUID;\r\n    \r\n    public class ConverterUuid {\r\n        public static void main(String[] args) {\r\n            //Example\r\n            createFindByUuidInCollection(&quot;efbc75d6-0402-4a98-98db-82669b65dba7&quot;, &quot;customers&quot;);\r\n            //result\r\n            //db.customers.findOne({_id: new BinData(3, &#39;mEoCBNZ1vO+n22WbZoLbmA==&#39;)})\r\n        }\r\n    \r\n        public static void createFindByUuidInCollection(String uuid, String collection) {\r\n            String binaryId = getBinaryId(uuid);\r\n            System.out.printf(&quot;db.%s.findOne({_id: new BinData(3, &#39;%s&#39;)})&quot;, collection, binaryId);\r\n        }\r\n    \r\n        public static String getBinaryId(String uuid) {\r\n            UUID convertedUuid = UUID.fromString(uuid);\r\n            EncoderContext encoderContext = EncoderContext.builder().build();\r\n            Codec codec = new UuidCodec(UuidRepresentation.JAVA_LEGACY);\r\n            JsonWriter jsonWriter = new JsonWriter(new StringWriter());\r\n            encoderContext.encodeWithChildContext(codec, jsonWriter, convertedUuid);\r\n            return jsonWriter.getWriter().toString().replaceAll(&quot;\\\\{\\&quot;\\\\$binary\\&quot;: \\\\{\\&quot;base64\\&quot;: \\&quot;&quot;, &quot;&quot;)\r\n                    .replaceAll(&quot;\\&quot;, \\&quot;subType\\&quot;: \\&quot;03\\&quot;}}&quot;, &quot;&quot;);\r\n        }\r\n    }","title":"Using MongoClient to read UUID written to with Spring Data","body":"<p>The problem is that java uuid converted into another uuid in mongo driver. So i write this code, for find the java uuid into mongodb:</p>\n<pre><code>import org.bson.UuidRepresentation;\nimport org.bson.codecs.Codec;\nimport org.bson.codecs.EncoderContext;\nimport org.bson.codecs.UuidCodec;\nimport org.bson.json.JsonWriter;\n\nimport java.io.StringWriter;\nimport java.util.UUID;\n\npublic class ConverterUuid {\n    public static void main(String[] args) {\n        //Example\n        createFindByUuidInCollection(&quot;efbc75d6-0402-4a98-98db-82669b65dba7&quot;, &quot;customers&quot;);\n        //result\n        //db.customers.findOne({_id: new BinData(3, 'mEoCBNZ1vO+n22WbZoLbmA==')})\n    }\n\n    public static void createFindByUuidInCollection(String uuid, String collection) {\n        String binaryId = getBinaryId(uuid);\n        System.out.printf(&quot;db.%s.findOne({_id: new BinData(3, '%s')})&quot;, collection, binaryId);\n    }\n\n    public static String getBinaryId(String uuid) {\n        UUID convertedUuid = UUID.fromString(uuid);\n        EncoderContext encoderContext = EncoderContext.builder().build();\n        Codec codec = new UuidCodec(UuidRepresentation.JAVA_LEGACY);\n        JsonWriter jsonWriter = new JsonWriter(new StringWriter());\n        encoderContext.encodeWithChildContext(codec, jsonWriter, convertedUuid);\n        return jsonWriter.getWriter().toString().replaceAll(&quot;\\\\{\\&quot;\\\\$binary\\&quot;: \\\\{\\&quot;base64\\&quot;: \\&quot;&quot;, &quot;&quot;)\n                .replaceAll(&quot;\\&quot;, \\&quot;subType\\&quot;: \\&quot;03\\&quot;}}&quot;, &quot;&quot;);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":15752966,"reputation":337,"user_id":11366906,"display_name":"jjrz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2734,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69221506,"answer_count":3,"score":0,"last_activity_date":1674549960,"creation_date":1631728795,"question_id":69197880,"body_markdown":"I am having trouble reading UUID values written to a MongoDB collection with Spring Data MongoDB. For UUID `ca119807-967a-46df-b659-f0e5e4163a28` the value in the database is `_id\r\n: Binary(&#39;30Z6lgeYEcooOhbk5fBZtg==&#39;, 3)`. \r\n\r\nThis is how I am using Spring Data MongoDB to write UUIDs to the database:\r\n\r\n    @Document(&quot;foos&quot;)\r\n    class Foo {\r\n\r\n    @Id\r\n    private UUID uuid;\r\n    ...\r\n\r\nAfter fetching the same document with `com.mongodb.client.MongoClient`, I am able to access a field of type `org.bson.types.Binary`. It then looks like this:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThis is how I am instantiating the variables listed above:\r\n\r\n    Binary id = doc.get(&quot;_id&quot;, Binary.class);\r\n    String base64String = Base64.encodeBase64String(id.getData());\r\n\r\nI am not able to convert this value back to the original UUID. Passing the `byte[]` to `java.util.UUID#nameUUIDFromBytes` produces results that are nothing like the original UUID.\r\n\r\n**How can I convert the `byte[]` in `org.bson.types.Binary` to UUID?**\r\n\r\nI managed to use [Studio 3T][2] to read UUID values. For this, I had to change Legacy UUID Encoding to &quot;Legacy Java Encoding&quot;. Before I did that, I was seeing the same UUID values as the ones I am getting from `java.util.UUID#nameUUIDFromBytes`.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/663E7.png\r\n  [2]: https://studio3t.com/download/","title":"Using MongoClient to read UUID written to with Spring Data","body":"<p>I am having trouble reading UUID values written to a MongoDB collection with Spring Data MongoDB. For UUID <code>ca119807-967a-46df-b659-f0e5e4163a28</code> the value in the database is <code>_id : Binary('30Z6lgeYEcooOhbk5fBZtg==', 3)</code>.</p>\n<p>This is how I am using Spring Data MongoDB to write UUIDs to the database:</p>\n<pre><code>@Document(&quot;foos&quot;)\nclass Foo {\n\n@Id\nprivate UUID uuid;\n...\n</code></pre>\n<p>After fetching the same document with <code>com.mongodb.client.MongoClient</code>, I am able to access a field of type <code>org.bson.types.Binary</code>. It then looks like this:</p>\n<p><a href=\"https://i.stack.imgur.com/663E7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/663E7.png\" alt=\"enter image description here\" /></a></p>\n<p>This is how I am instantiating the variables listed above:</p>\n<pre><code>Binary id = doc.get(&quot;_id&quot;, Binary.class);\nString base64String = Base64.encodeBase64String(id.getData());\n</code></pre>\n<p>I am not able to convert this value back to the original UUID. Passing the <code>byte[]</code> to <code>java.util.UUID#nameUUIDFromBytes</code> produces results that are nothing like the original UUID.</p>\n<p><strong>How can I convert the <code>byte[]</code> in <code>org.bson.types.Binary</code> to UUID?</strong></p>\n<p>I managed to use <a href=\"https://studio3t.com/download/\" rel=\"nofollow noreferrer\">Studio 3T</a> to read UUID values. For this, I had to change Legacy UUID Encoding to &quot;Legacy Java Encoding&quot;. Before I did that, I was seeing the same UUID values as the ones I am getting from <code>java.util.UUID#nameUUIDFromBytes</code>.</p>\n"},{"tags":["java","jaxb"],"answers":[{"tags":[],"owner":{"account_id":4097931,"reputation":8214,"user_id":3364187,"display_name":"Xstian"},"down_vote_count":0,"up_vote_count":37,"is_accepted":true,"score":37,"last_activity_date":1448016985,"creation_date":1448015760,"answer_id":33824472,"question_id":33823139,"body_markdown":"Following code is used to marshall and unmarshall withot `@XmlRootElement`\r\n\r\n\r\n    public static void main(String[] args) {\r\n    \r\n    \t\ttry {\r\n    \r\n    \t\t\tStringWriter stringWriter = new StringWriter();\r\n    \t\t\t\r\n    \t\t\tCustomer c = new Customer();\r\n    \t\t\tc.setAge(1);\r\n    \t\t\tc.setName(&quot;name&quot;);\r\n    \t\t\t\r\n    \t\t\tJAXBContext jaxbContext = JAXBContext.newInstance(Customer.class);\r\n    \r\n    \t\t\tMarshaller marshaller = jaxbContext.createMarshaller();\r\n    \t\t\tmarshaller.marshal(new JAXBElement&lt;Customer&gt;( new QName(&quot;&quot;, &quot;Customer&quot;), Customer.class, null, c), stringWriter);\r\n    \t\t\t\r\n    \t\t\tUnmarshaller jaxbUnmarshaller = jaxbContext.createUnmarshaller();\r\n    \t\t\tInputStream is = new ByteArrayInputStream(stringWriter.toString().getBytes());\r\n    \t\t\tJAXBElement&lt;Customer&gt; customer = (JAXBElement&lt;Customer&gt;) jaxbUnmarshaller.unmarshal(new StreamSource(is),Customer.class);\r\n\r\n    \t\t\tc = customer.getValue();\r\n    \r\n    \t\t  } catch (JAXBException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t  }\r\n    \t\t\r\n    }\r\n\r\n\r\nAbove code works only if you adding `@XmlAccessorType(XmlAccessType.PROPERTY)` on Customer class, or make private all attributes.","title":"JAXB unmarshalling without XmlRootElement annotation?","body":"<p>Following code is used to marshall and unmarshall withot <code>@XmlRootElement</code></p>\n\n<pre><code>public static void main(String[] args) {\n\n        try {\n\n            StringWriter stringWriter = new StringWriter();\n\n            Customer c = new Customer();\n            c.setAge(1);\n            c.setName(\"name\");\n\n            JAXBContext jaxbContext = JAXBContext.newInstance(Customer.class);\n\n            Marshaller marshaller = jaxbContext.createMarshaller();\n            marshaller.marshal(new JAXBElement&lt;Customer&gt;( new QName(\"\", \"Customer\"), Customer.class, null, c), stringWriter);\n\n            Unmarshaller jaxbUnmarshaller = jaxbContext.createUnmarshaller();\n            InputStream is = new ByteArrayInputStream(stringWriter.toString().getBytes());\n            JAXBElement&lt;Customer&gt; customer = (JAXBElement&lt;Customer&gt;) jaxbUnmarshaller.unmarshal(new StreamSource(is),Customer.class);\n\n            c = customer.getValue();\n\n          } catch (JAXBException e) {\n            e.printStackTrace();\n          }\n\n}\n</code></pre>\n\n<p>Above code works only if you adding <code>@XmlAccessorType(XmlAccessType.PROPERTY)</code> on Customer class, or make private all attributes.</p>\n"},{"tags":[],"owner":{"account_id":4715694,"reputation":643,"user_id":3814888,"accept_rate":14,"display_name":"Abhishek K"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1491032164,"creation_date":1491032164,"answer_id":43154133,"question_id":33823139,"body_markdown":"If you cannot add XmlRootElement to existing bean you can also create a holder class and mark it with annotation as XmlRootElement. Example below:- \r\n\r\n    import javax.xml.bind.annotation.XmlAccessType;\r\n    import javax.xml.bind.annotation.XmlAccessorType;\r\n    import javax.xml.bind.annotation.XmlRootElement;\r\n\r\n    @XmlRootElement\r\n    @XmlAccessorType(XmlAccessType.FIELD)\r\n    public class CustomerHolder \r\n    {\r\n\t    private Customer cusotmer;\r\n\r\n\t    public Customer getCusotmer() {\r\n\t\t    return cusotmer;\r\n\t}\r\n\r\n\t    public void setCusotmer(Customer cusotmer) {\r\n\t\t    this.cusotmer = cusotmer;\r\n\t    }\r\n    }\r\n","title":"JAXB unmarshalling without XmlRootElement annotation?","body":"<p>If you cannot add XmlRootElement to existing bean you can also create a holder class and mark it with annotation as XmlRootElement. Example below:- </p>\n\n<pre><code>import javax.xml.bind.annotation.XmlAccessType;\nimport javax.xml.bind.annotation.XmlAccessorType;\nimport javax.xml.bind.annotation.XmlRootElement;\n\n@XmlRootElement\n@XmlAccessorType(XmlAccessType.FIELD)\npublic class CustomerHolder \n{\n    private Customer cusotmer;\n\n    public Customer getCusotmer() {\n        return cusotmer;\n}\n\n    public void setCusotmer(Customer cusotmer) {\n        this.cusotmer = cusotmer;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4009180,"reputation":4758,"user_id":3303074,"display_name":"Prasanth Rajendran"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674549014,"creation_date":1674549014,"answer_id":75219026,"question_id":33823139,"body_markdown":"It is indisputable that the question is very old for an answer, however still hoping someone like me is looking for a simple generic code snippet for the above requirement, hence sharing the working solution for the marshal and unmarshal need.\r\n\r\n - **Marshalling XML object to String**\r\n\r\n```\r\npublic static &lt;T&gt; Optional&lt;String&gt; objectToXMLString(T value,Class&lt;T&gt; clazz,String rootElement) {\r\n\t\tStringWriter sw = new StringWriter();\r\n\t\ttry {\r\n\t\t\tJAXBContext jaxbContext = JAXBContext.newInstance(clazz);\r\n\t\t\tMarshaller jaxbMarshaller = jaxbContext.createMarshaller();\r\n\t\t\tJAXBElement&lt;T&gt; jaxbElement = new JAXBElement&lt;&gt;(new QName(rootElement), clazz,value);\r\n\t\t\tjaxbMarshaller.marshal(jaxbElement, sw);\r\n\t\t\treturn Optional.of(sw.toString());\r\n\t\t} catch (JAXBException e) {\r\n\t\t\tLOGGER.error(&quot;XML to String Conversion exception:{}&quot;, e.getMessage(), e);\r\n\t\t}\r\n\t\treturn Optional.empty();\r\n\t}\r\n\r\n```\r\n\r\n - **UnMarshalling String to XML object**\r\n\r\n```\r\n\tpublic static &lt;T&gt; Optional&lt;T&gt; xmlStringToObject(String value, Class&lt;T&gt; clazz) {\r\n\t\ttry {\r\n\t\t\tJAXBContext jaxbContext = JAXBContext.newInstance(clazz);\r\n\t\t\tUnmarshaller unmarshaller = jaxbContext.createUnmarshaller();\r\n\t\t\tInputStream is = new ByteArrayInputStream(value.getBytes());\r\n\t\t\tJAXBElement&lt;T&gt; object = unmarshaller.unmarshal(new StreamSource(is),clazz);\r\n\t\t\treturn Optional.of(object.getValue());\r\n\t\t} catch (JAXBException e) {\r\n\t\t\tLOGGER.error(&quot;String to XML Conversion exception : {}&quot;, e.getMessage(), e);\r\n\t\t}\r\n\t\treturn Optional.empty();\r\n\t}\r\n\r\n```","title":"JAXB unmarshalling without XmlRootElement annotation?","body":"<p>It is indisputable that the question is very old for an answer, however still hoping someone like me is looking for a simple generic code snippet for the above requirement, hence sharing the working solution for the marshal and unmarshal need.</p>\n<ul>\n<li><strong>Marshalling XML object to String</strong></li>\n</ul>\n<pre><code>public static &lt;T&gt; Optional&lt;String&gt; objectToXMLString(T value,Class&lt;T&gt; clazz,String rootElement) {\n        StringWriter sw = new StringWriter();\n        try {\n            JAXBContext jaxbContext = JAXBContext.newInstance(clazz);\n            Marshaller jaxbMarshaller = jaxbContext.createMarshaller();\n            JAXBElement&lt;T&gt; jaxbElement = new JAXBElement&lt;&gt;(new QName(rootElement), clazz,value);\n            jaxbMarshaller.marshal(jaxbElement, sw);\n            return Optional.of(sw.toString());\n        } catch (JAXBException e) {\n            LOGGER.error(&quot;XML to String Conversion exception:{}&quot;, e.getMessage(), e);\n        }\n        return Optional.empty();\n    }\n\n</code></pre>\n<ul>\n<li><strong>UnMarshalling String to XML object</strong></li>\n</ul>\n<pre><code>    public static &lt;T&gt; Optional&lt;T&gt; xmlStringToObject(String value, Class&lt;T&gt; clazz) {\n        try {\n            JAXBContext jaxbContext = JAXBContext.newInstance(clazz);\n            Unmarshaller unmarshaller = jaxbContext.createUnmarshaller();\n            InputStream is = new ByteArrayInputStream(value.getBytes());\n            JAXBElement&lt;T&gt; object = unmarshaller.unmarshal(new StreamSource(is),clazz);\n            return Optional.of(object.getValue());\n        } catch (JAXBException e) {\n            LOGGER.error(&quot;String to XML Conversion exception : {}&quot;, e.getMessage(), e);\n        }\n        return Optional.empty();\n    }\n\n</code></pre>\n"}],"owner":{"account_id":4323663,"reputation":616,"user_id":3531042,"accept_rate":82,"display_name":"Kaleb"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29483,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"accepted_answer_id":33824472,"answer_count":3,"score":20,"last_activity_date":1674549014,"creation_date":1448011660,"question_id":33823139,"body_markdown":"Is there any way we can un-marshall for a class without @XmlRootElement annotation? Or are we obligated to enter the annotation?\r\n\r\nfor example:    \r\n\r\n    public class Customer {\r\n\r\n    \tprivate String name;\r\n    \tprivate int age;\r\n    \tprivate int id;\r\n\r\n    \tpublic String getName() {\r\n    \t\treturn name;\r\n    \t}\r\n\r\n    \t@XmlElement\r\n    \tpublic void setName(String name) {\r\n    \t\tthis.name = name;\r\n    \t}\r\n\r\n    \tpublic int getAge() {\r\n    \t\treturn age;\r\n    \t}\r\n\r\n    \t@XmlElement\r\n    \tpublic void setAge(int age) {\r\n    \t\tthis.age = age;\r\n    \t}\r\n\r\n    \tpublic int getId() {\r\n    \t\treturn id;\r\n    \t}\r\n\r\n    \t@XmlAttribute\r\n    \tpublic void setId(int id) {\r\n    \t\tthis.id = id;\r\n    \t}\r\n\r\n    }\r\n\r\nand let the unmarshalling code for properly annotated class  be like: \r\n\r\n    try {\r\n\r\n    \t\tFile file = new File(&quot;C:\\\\file.xml&quot;);\r\n    \t\tJAXBContext jaxbContext = JAXBContext.newInstance(Customer.class);\r\n\r\n    \t\tUnmarshaller jaxbUnmarshaller = jaxbContext.createUnmarshaller();\r\n    \t\tCustomer customer = (Customer) jaxbUnmarshaller.unmarshal(file);\r\n    \t\tSystem.out.println(customer);\r\n\r\n    \t  } catch (JAXBException e) {\r\n    \t\te.printStackTrace();\r\n    \t  }\r\n\r\n\r\n\r\nleaving out the details.    \r\n","title":"JAXB unmarshalling without XmlRootElement annotation?","body":"<p>Is there any way we can un-marshall for a class without @XmlRootElement annotation? Or are we obligated to enter the annotation?</p>\n\n<p>for example:    </p>\n\n<pre><code>public class Customer {\n\n    private String name;\n    private int age;\n    private int id;\n\n    public String getName() {\n        return name;\n    }\n\n    @XmlElement\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public int getAge() {\n        return age;\n    }\n\n    @XmlElement\n    public void setAge(int age) {\n        this.age = age;\n    }\n\n    public int getId() {\n        return id;\n    }\n\n    @XmlAttribute\n    public void setId(int id) {\n        this.id = id;\n    }\n\n}\n</code></pre>\n\n<p>and let the unmarshalling code for properly annotated class  be like: </p>\n\n<pre><code>try {\n\n        File file = new File(\"C:\\\\file.xml\");\n        JAXBContext jaxbContext = JAXBContext.newInstance(Customer.class);\n\n        Unmarshaller jaxbUnmarshaller = jaxbContext.createUnmarshaller();\n        Customer customer = (Customer) jaxbUnmarshaller.unmarshal(file);\n        System.out.println(customer);\n\n      } catch (JAXBException e) {\n        e.printStackTrace();\n      }\n</code></pre>\n\n<p>leaving out the details.    </p>\n"},{"tags":["java","spring-webflux","spring-webclient"],"owner":{"account_id":18451741,"reputation":11,"user_id":13441660,"display_name":"Gus_2106"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1102,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674548433,"creation_date":1673625855,"question_id":75111657,"body_markdown":"I am trying to update the token when I get a response with 401 status code.\r\n\r\nIn order to do that, I used web client. I know that this mainly used to do reactive development but since resttemplate will soon be deprecated I went for this option.\r\n\r\nThe issue I am facing is that when it does call the api endpoint to get the new token, it throws a &#39;java.lang.IllegalStateException: block()/blockFirst()/blockLast() &#39;. And make sense as it stated in the exception message It is not supported in thread reactor-http-nio-3. \r\n\r\nI saw that there is a map and flatmap option, but I couldn&#39;t figure out how to use it inside the doBeforeRetry() to make it process in a different stream. \r\n\r\nI need to have that new token before retrying.\r\n\r\nSo the question is : How can I get the token via another call and then still do the retry ?\r\n\r\n\r\nI was able to make it work by using a try catch but I would like to find the solution how to use it inside that retry method.\r\n\r\nI also try to block the token request by replacing the token response by a Mono&lt;String&gt; and block it by using myMono.toFuture().get() as stated here [https://stackoverflow.com/questions/51449889/block-blockfirst-blocklast-are-blocking-error-when-calling-bodytomono-afte](https://stackoverflow.com/questions/51449889/block-blockfirst-blocklast-are-blocking-error-when-calling-bodytomono-afte)\r\n\r\nHere is the code :\r\n\r\nMethod responsible for the call :\r\n\r\n```\r\npublic String getValueFromApi(HashMap&lt;String, Object&gt; filter) {\r\n        String response = &quot;&quot;;\r\n\r\n        response = webclient\r\n                .post()\r\n                .uri(endpoint)\r\n                .header(&quot;token&quot;, token.getToken())\r\n                .bodyValue(filter)\r\n                .retrieve()\r\n                .bodyToMono(String.class)\r\n                .retryWhen(Retry.max(3).doBeforeRetry(\r\n                        retrySignal -&gt; tokenService.getTokenFromApi(env)\r\n                ).filter(InvalidTokenException.class::isInstance))\r\n                .block();\r\n\r\n        return response;\r\n    }\r\n```\r\n\r\nMethod that retrieve the token :\r\n\r\n```\r\npublic void getTokenFromApi(Environment env) {\r\n        HashMap&lt;String, String&gt; requestBody = new HashMap&lt;&gt;();\r\n        requestBody.put(&quot;name&quot;, &quot;name&quot;);\r\n        requestBody.put(&quot;password&quot;, &quot;password&quot;);\r\n\r\n        String response = WebClient\r\n                .builder()\r\n                .baseUrl(BASE_PATH)\r\n                .defaultHeader(HttpHeaders.CONTENT_TYPE, &quot;application/json&quot;)\r\n                .build()\r\n                .post()\r\n                .uri(tokenUri)\r\n                .body(BodyInserters.fromValue(requestBody))\r\n                .retrieve()\r\n                .bodyToMono(String.class)\r\n                .block();\r\n\r\n\r\n        getTokenFromResponse(response);\r\n    }\r\n\r\n    private void getTokenFromResponse(String reponse) {\r\n        JsonObject tokenObject = new Gson().fromJson(reponse, JsonObject.class);\r\n        setToken(tokenObject.get(&quot;token&quot;).getAsString());\r\n    }\r\n```\r\n\r\nWebClient Builder :\r\n\r\n```\r\n @Bean\r\n    public WebClient webClientForApi(WebClient.Builder webClientBuilder) {\r\n        return webClientBuilder\r\n                .clientConnector(new ReactorClientHttpConnector(httpClient))\r\n                .filter(errorHandler())\r\n                .filter(logRequest())\r\n                .clone()\r\n                .baseUrl(BASE_PATH)\r\n                .defaultHeader(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_JSON_VALUE)\r\n                .defaultHeader(HttpHeaders.ACCEPT, &quot;application/json&quot;)\r\n                .build();\r\n    }\r\n\r\n    public ExchangeFilterFunction errorHandler() {\r\n        return ExchangeFilterFunction.ofResponseProcessor(clientResponse -&gt; {\r\n            if (clientResponse.statusCode().equals(HttpStatus.UNAUTHORIZED)) {\r\n                return Mono.error(InvalidTokenException::new);\r\n            } else if (clientResponse.statusCode() == HttpStatus.INTERNAL_SERVER_ERROR) {\r\n                return Mono.error(ApiInternalServerException::new);\r\n            } else {\r\n                return Mono.just(clientResponse);\r\n            }\r\n        });\r\n    }\r\n\r\n    private ExchangeFilterFunction logRequest() {\r\n        return ExchangeFilterFunction.ofRequestProcessor(clientRequest -&gt; {\r\n            logger.info(&quot;Request: {} {}&quot;, clientRequest.method(), clientRequest.url());\r\n            clientRequest.headers().forEach((name, values) -&gt; values.forEach(value -&gt; logger.info(&quot;{}={}&quot;, name, value)));\r\n            return Mono.just(clientRequest);\r\n        });\r\n    }\r\n```","title":"Throws java.lang.IllegalStateException: block()/blockFirst()/blockLast() when retrying invalid token","body":"<p>I am trying to update the token when I get a response with 401 status code.</p>\n<p>In order to do that, I used web client. I know that this mainly used to do reactive development but since resttemplate will soon be deprecated I went for this option.</p>\n<p>The issue I am facing is that when it does call the api endpoint to get the new token, it throws a 'java.lang.IllegalStateException: block()/blockFirst()/blockLast() '. And make sense as it stated in the exception message It is not supported in thread reactor-http-nio-3.</p>\n<p>I saw that there is a map and flatmap option, but I couldn't figure out how to use it inside the doBeforeRetry() to make it process in a different stream.</p>\n<p>I need to have that new token before retrying.</p>\n<p>So the question is : How can I get the token via another call and then still do the retry ?</p>\n<p>I was able to make it work by using a try catch but I would like to find the solution how to use it inside that retry method.</p>\n<p>I also try to block the token request by replacing the token response by a Mono and block it by using myMono.toFuture().get() as stated here <a href=\"https://stackoverflow.com/questions/51449889/block-blockfirst-blocklast-are-blocking-error-when-calling-bodytomono-afte\">block()/blockFirst()/blockLast() are blocking error when calling bodyToMono AFTER exchange()</a></p>\n<p>Here is the code :</p>\n<p>Method responsible for the call :</p>\n<pre><code>public String getValueFromApi(HashMap&lt;String, Object&gt; filter) {\n        String response = &quot;&quot;;\n\n        response = webclient\n                .post()\n                .uri(endpoint)\n                .header(&quot;token&quot;, token.getToken())\n                .bodyValue(filter)\n                .retrieve()\n                .bodyToMono(String.class)\n                .retryWhen(Retry.max(3).doBeforeRetry(\n                        retrySignal -&gt; tokenService.getTokenFromApi(env)\n                ).filter(InvalidTokenException.class::isInstance))\n                .block();\n\n        return response;\n    }\n</code></pre>\n<p>Method that retrieve the token :</p>\n<pre><code>public void getTokenFromApi(Environment env) {\n        HashMap&lt;String, String&gt; requestBody = new HashMap&lt;&gt;();\n        requestBody.put(&quot;name&quot;, &quot;name&quot;);\n        requestBody.put(&quot;password&quot;, &quot;password&quot;);\n\n        String response = WebClient\n                .builder()\n                .baseUrl(BASE_PATH)\n                .defaultHeader(HttpHeaders.CONTENT_TYPE, &quot;application/json&quot;)\n                .build()\n                .post()\n                .uri(tokenUri)\n                .body(BodyInserters.fromValue(requestBody))\n                .retrieve()\n                .bodyToMono(String.class)\n                .block();\n\n\n        getTokenFromResponse(response);\n    }\n\n    private void getTokenFromResponse(String reponse) {\n        JsonObject tokenObject = new Gson().fromJson(reponse, JsonObject.class);\n        setToken(tokenObject.get(&quot;token&quot;).getAsString());\n    }\n</code></pre>\n<p>WebClient Builder :</p>\n<pre><code> @Bean\n    public WebClient webClientForApi(WebClient.Builder webClientBuilder) {\n        return webClientBuilder\n                .clientConnector(new ReactorClientHttpConnector(httpClient))\n                .filter(errorHandler())\n                .filter(logRequest())\n                .clone()\n                .baseUrl(BASE_PATH)\n                .defaultHeader(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_JSON_VALUE)\n                .defaultHeader(HttpHeaders.ACCEPT, &quot;application/json&quot;)\n                .build();\n    }\n\n    public ExchangeFilterFunction errorHandler() {\n        return ExchangeFilterFunction.ofResponseProcessor(clientResponse -&gt; {\n            if (clientResponse.statusCode().equals(HttpStatus.UNAUTHORIZED)) {\n                return Mono.error(InvalidTokenException::new);\n            } else if (clientResponse.statusCode() == HttpStatus.INTERNAL_SERVER_ERROR) {\n                return Mono.error(ApiInternalServerException::new);\n            } else {\n                return Mono.just(clientResponse);\n            }\n        });\n    }\n\n    private ExchangeFilterFunction logRequest() {\n        return ExchangeFilterFunction.ofRequestProcessor(clientRequest -&gt; {\n            logger.info(&quot;Request: {} {}&quot;, clientRequest.method(), clientRequest.url());\n            clientRequest.headers().forEach((name, values) -&gt; values.forEach(value -&gt; logger.info(&quot;{}={}&quot;, name, value)));\n            return Mono.just(clientRequest);\n        });\n    }\n</code></pre>\n"},{"tags":["java","classpath"],"comments":[{"owner":{"account_id":490670,"reputation":55804,"user_id":892029,"accept_rate":84,"display_name":"IAmYourFaja"},"score":0,"creation_date":1345211704,"post_id":12007012,"comment_id":16016538,"body_markdown":"I&#39;m trying to simplify the problem for the sake of explaining it. There is a library called `langdetect` hosted on google [here](http://code.google.com/p/language-detection/). The library ships with a `profiles` directory that it uses to load every single language properties file into the runtime classpath. At runtime you need to call a `DetectFactory.loadProfile(String)` method to initialize the `profiles/` directory. So this directory needs to be on the classpath. I can get this working when I pass it an abs file path, but ultimately need to package this inside the same JAR.","body":"I&#39;m trying to simplify the problem for the sake of explaining it. There is a library called <code>langdetect</code> hosted on google <a href=\"http://code.google.com/p/language-detection/\" rel=\"nofollow noreferrer\">here</a>. The library ships with a <code>profiles</code> directory that it uses to load every single language properties file into the runtime classpath. At runtime you need to call a <code>DetectFactory.loadProfile(String)</code> method to initialize the <code>profiles&#47;</code> directory. So this directory needs to be on the classpath. I can get this working when I pass it an abs file path, but ultimately need to package this inside the same JAR."},{"owner":{"account_id":490670,"reputation":55804,"user_id":892029,"accept_rate":84,"display_name":"IAmYourFaja"},"score":0,"creation_date":1345211813,"post_id":12007012,"comment_id":16016604,"body_markdown":"So, ultimately, I just need to pass `DetectFactory.loadProfiles` a String that points it to the `profiles` directory inside the same JAR. So whereas my example shows `myconfig` directory, its really `profiles`. Where it shows `ConfigLoader`, its really `DetectFactory`.","body":"So, ultimately, I just need to pass <code>DetectFactory.loadProfiles</code> a String that points it to the <code>profiles</code> directory inside the same JAR. So whereas my example shows <code>myconfig</code> directory, its really <code>profiles</code>. Where it shows <code>ConfigLoader</code>, its really <code>DetectFactory</code>."}],"answers":[{"tags":[],"owner":{"account_id":1427644,"reputation":47311,"user_id":1350762,"display_name":"maba"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1345215387,"creation_date":1345212096,"answer_id":12007322,"question_id":12007012,"body_markdown":"You can use the `PathMatchingResourcePatternResolver` provided by Spring.\r\n\r\n    public class SpringResourceLoader {\r\n\r\n        public static void main(String[] args) throws IOException {\r\n            PathMatchingResourcePatternResolver resolver = new PathMatchingResourcePatternResolver();\r\n\r\n            // Ant-style path matching\r\n            Resource[] resources = resolver.getResources(&quot;/myconfig/**&quot;);\r\n\r\n            for (Resource resource : resources) {\r\n                InputStream is = resource.getInputStream();\r\n                ...\r\n            }\r\n        }\r\n    }\r\n\r\nI didn&#39;t do anything fancy with the returned `Resource` but you get the picture.\r\n\r\nAdd this to your maven dependency (if using maven):\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\r\n        &lt;version&gt;3.1.2.RELEASE&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n","title":"How to read a directory from the runtime classpath?","body":"<p>You can use the <code>PathMatchingResourcePatternResolver</code> provided by Spring.</p>\n\n<pre><code>public class SpringResourceLoader {\n\n    public static void main(String[] args) throws IOException {\n        PathMatchingResourcePatternResolver resolver = new PathMatchingResourcePatternResolver();\n\n        // Ant-style path matching\n        Resource[] resources = resolver.getResources(\"/myconfig/**\");\n\n        for (Resource resource : resources) {\n            InputStream is = resource.getInputStream();\n            ...\n        }\n    }\n}\n</code></pre>\n\n<p>I didn't do anything fancy with the returned <code>Resource</code> but you get the picture.</p>\n\n<p>Add this to your maven dependency (if using maven):</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\n    &lt;version&gt;3.1.2.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7639,"reputation":23810,"user_id":13317,"accept_rate":85,"display_name":"Kenster"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1345212802,"creation_date":1345212802,"answer_id":12007477,"question_id":12007012,"body_markdown":"You could call `ClassLoader.getResource()` to find a particular file in the directory (or the directory itself, if `getResource()` will return directories). `getResource()` returns a URL pointing to the result. You could then convert this URL into whatever form the other library requires.","title":"How to read a directory from the runtime classpath?","body":"<p>You could call <code>ClassLoader.getResource()</code> to find a particular file in the directory (or the directory itself, if <code>getResource()</code> will return directories). <code>getResource()</code> returns a URL pointing to the result. You could then convert this URL into whatever form the other library requires.</p>\n"},{"tags":[],"owner":{"account_id":4984630,"reputation":111,"user_id":4008624,"display_name":"Thorsten"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1559734850,"creation_date":1559734850,"answer_id":56459784,"question_id":12007012,"body_markdown":"The trick seems to be that the class loader can find directories in the classpath, while the class can not.\r\n\r\nSo this works\r\n\r\n    this.getClass().getClassLoader().getResource(&quot;com/example/foo/myconfig&quot;);\r\n\r\nwhile this does not\r\n\r\n    this.getClass().getResource(&quot;myconfig&quot;);\r\n","title":"How to read a directory from the runtime classpath?","body":"<p>The trick seems to be that the class loader can find directories in the classpath, while the class can not.</p>\n\n<p>So this works</p>\n\n<pre><code>this.getClass().getClassLoader().getResource(\"com/example/foo/myconfig\");\n</code></pre>\n\n<p>while this does not</p>\n\n<pre><code>this.getClass().getResource(\"myconfig\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4381587,"reputation":567,"user_id":3573092,"accept_rate":50,"display_name":"Huseyin"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1674548217,"creation_date":1674548104,"answer_id":75218897,"question_id":12007012,"body_markdown":"    String path = getClass().getClassLoader().getResource(&quot;myproperties.properties&quot;).getPath();","title":"How to read a directory from the runtime classpath?","body":"<pre><code>String path = getClass().getClassLoader().getResource(&quot;myproperties.properties&quot;).getPath();\n</code></pre>\n"}],"owner":{"account_id":490670,"reputation":55804,"user_id":892029,"accept_rate":84,"display_name":"IAmYourFaja"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13144,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":12007322,"answer_count":4,"score":12,"last_activity_date":1674548217,"creation_date":1345211054,"question_id":12007012,"body_markdown":"My Java application needs to be able to find a `myconfig/` directory which will be bundled inside the same JAR:\r\n\r\n    myjar.jar/\r\n        com/\r\n            me/\r\n                myproject/\r\n                    ConfigLoader.java --&gt; looks for myconfig/ directory and its contents\r\n        myconfig/\r\n            conf-1.xml\r\n            conf.properties\r\n            ... etc.\r\n\r\nHow do I actually go about reading this `myconfig/` directory off the runtime classpath? I&#39;ve done some research and it seems that the normal method of reading a **file** from the classpath doesn&#39;t work for **directories**:\r\n\r\n    InputStream stream = ConfigLoader.class.getResourceAsStream(&quot;myconfig&quot;);\r\n\r\nSo does anyone know how to read an entire directory from the runtime classpath (as opposed to a single file)? Thanks in advance!\r\n\r\nPlease note: It is not possible to load the files individually, `myconfig` is a directory with thousands of properties files inside it.","title":"How to read a directory from the runtime classpath?","body":"<p>My Java application needs to be able to find a <code>myconfig/</code> directory which will be bundled inside the same JAR:</p>\n\n<pre><code>myjar.jar/\n    com/\n        me/\n            myproject/\n                ConfigLoader.java --&gt; looks for myconfig/ directory and its contents\n    myconfig/\n        conf-1.xml\n        conf.properties\n        ... etc.\n</code></pre>\n\n<p>How do I actually go about reading this <code>myconfig/</code> directory off the runtime classpath? I've done some research and it seems that the normal method of reading a <strong>file</strong> from the classpath doesn't work for <strong>directories</strong>:</p>\n\n<pre><code>InputStream stream = ConfigLoader.class.getResourceAsStream(\"myconfig\");\n</code></pre>\n\n<p>So does anyone know how to read an entire directory from the runtime classpath (as opposed to a single file)? Thanks in advance!</p>\n\n<p>Please note: It is not possible to load the files individually, <code>myconfig</code> is a directory with thousands of properties files inside it.</p>\n"},{"tags":["java","unit-testing","groovy","jacoco"],"owner":{"account_id":132529,"reputation":3031,"user_id":333276,"accept_rate":75,"display_name":"David Brown"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674548188,"creation_date":1674486203,"question_id":75211312,"body_markdown":"I&#39;m having some trouble understanding the behaviour of Jacoco coverage testing.  In particular this current case where the report not only shows 50% missing branches but also red colouration of the closing brace of an if else block.\r\n\r\nThe function we&#39;re testing returns the dates of the previous financial quarter and returns the following report:\r\n\r\n[![screenshot of test jacoco report][1]][1]\r\n\r\nOur test cases test for the dates of each quarter so we should be covering each eventuality.\r\n\r\nAny thoughts and insight would be appreciated.\r\n\r\nThanks\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7pHtw.png","title":"How to determine cause of missing test coverage branches in Jacoco unit test?","body":"<p>I'm having some trouble understanding the behaviour of Jacoco coverage testing.  In particular this current case where the report not only shows 50% missing branches but also red colouration of the closing brace of an if else block.</p>\n<p>The function we're testing returns the dates of the previous financial quarter and returns the following report:</p>\n<p><a href=\"https://i.stack.imgur.com/7pHtw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7pHtw.png\" alt=\"screenshot of test jacoco report\" /></a></p>\n<p>Our test cases test for the dates of each quarter so we should be covering each eventuality.</p>\n<p>Any thoughts and insight would be appreciated.</p>\n<p>Thanks</p>\n"},{"tags":["java","spring","spring-boot","google-cloud-firestore","spring-cloud"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1674484573,"post_id":75210954,"comment_id":132717784,"body_markdown":"What are your dependencies, configuration? The `@Repository` on the interface doesn&#39;t do anything (only takes up space), the `@Autowired` on the `final` field in your controller also only takes up spaces as the dependency is injected through the constructor. Please find the full stacktrace and post that and not the analyzed failure message. The fact that it isn&#39;t there probably means you are missing a dependency and/or configuration.","body":"What are your dependencies, configuration? The <code>@Repository</code> on the interface doesn&#39;t do anything (only takes up space), the <code>@Autowired</code> on the <code>final</code> field in your controller also only takes up spaces as the dependency is injected through the constructor. Please find the full stacktrace and post that and not the analyzed failure message. The fact that it isn&#39;t there probably means you are missing a dependency and/or configuration."},{"owner":{"account_id":17600075,"reputation":118,"user_id":12770240,"display_name":"BeppeTemp"},"score":0,"creation_date":1674484788,"post_id":75210954,"comment_id":132717870,"body_markdown":"I&#39;ve added the information required. Thanks for the answer","body":"I&#39;ve added the information required. Thanks for the answer"},{"owner":{"account_id":9983336,"reputation":4132,"user_id":7769052,"accept_rate":75,"display_name":"banan3&#39;14"},"score":1,"creation_date":1674485087,"post_id":75210954,"comment_id":132717998,"body_markdown":"have you tried putting `ItemRepository.java` to a new package inside your package, like `spring_backend/repository/ItemRepository.java`? I guess spring boot scans packages inside `spring_backend`, but there are none. I agree with @M.Deinum that Autowired only takes up space, but Repository should be enough to create a bean.","body":"have you tried putting <code>ItemRepository.java</code> to a new package inside your package, like <code>spring_backend&#47;repository&#47;ItemRepository.java</code>? I guess spring boot scans packages inside <code>spring_backend</code>, but there are none. I agree with @M.Deinum that Autowired only takes up space, but Repository should be enough to create a bean."},{"owner":{"account_id":17600075,"reputation":118,"user_id":12770240,"display_name":"BeppeTemp"},"score":0,"creation_date":1674485199,"post_id":75210954,"comment_id":132718038,"body_markdown":"Tried now but nothing, same error","body":"Tried now but nothing, same error"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1674485405,"post_id":75210954,"comment_id":132718114,"body_markdown":"No `@Repository` doesn&#39;t create a bean because it is an interface, Spring Data detects repositories in a different way. It will scan the current and all child packages, moving it to a sub-package won&#39;t solve a thing. If that was the case it wouldn&#39;t detect the controller as well (which it does).","body":"No <code>@Repository</code> doesn&#39;t create a bean because it is an interface, Spring Data detects repositories in a different way. It will scan the current and all child packages, moving it to a sub-package won&#39;t solve a thing. If that was the case it wouldn&#39;t detect the controller as well (which it does)."},{"owner":{"account_id":17600075,"reputation":118,"user_id":12770240,"display_name":"BeppeTemp"},"score":0,"creation_date":1674485573,"post_id":75210954,"comment_id":132718186,"body_markdown":"@M.Deinum I&#39;ve update the code and the post, according yuor first comment but the problem is the same.","body":"@M.Deinum I&#39;ve update the code and the post, according yuor first comment but the problem is the same."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1674485654,"post_id":75210954,"comment_id":132718209,"body_markdown":"I nowhere stated that that would solve your problem, but those are things to improve your code as they don&#39;t add anything but clutter. I wanted your configuration/dependencies (and the latter are your problem as you can see in my answer).","body":"I nowhere stated that that would solve your problem, but those are things to improve your code as they don&#39;t add anything but clutter. I wanted your configuration/dependencies (and the latter are your problem as you can see in my answer)."}],"answers":[{"tags":[],"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1674486775,"creation_date":1674485499,"answer_id":75211177,"question_id":75210954,"body_markdown":"You are using Spring Boot but your `spring-cloud-gcp-dependencies` is compatible with Spring Boot 2.6/2.7 and not Spring Boot 3. Hence it doesn&#39;t work. \r\n\r\nYou need to either:\r\n\r\n1. Downgrade to Spring Boot 2.7.x\r\n2. Use the `4.0.0-SNAPSHOT` versions of the `spring-cloud-gcp-dependencies` dependencies which are compatible with Spring Boot 3.x. \r\n\r\nSee also [the version compatibility matrix][1]. \r\n\r\nFor option 2 you will need to add the repository, as mentioned [here][2] to your Maven file. \r\n\r\n[1]: https://github.com/GoogleCloudPlatform/spring-cloud-gcp#compatibility-with-spring-project-versions\r\n[2]: https://github.com/GoogleCloudPlatform/spring-cloud-gcp#snapshots-repository","title":"Parameter 0 of constructor in &#39;ItemController&#39; required a bean of type &#39;.ItemRepository&#39; that could not be found. (Spring Data Cloud Firestore)","body":"<p>You are using Spring Boot but your <code>spring-cloud-gcp-dependencies</code> is compatible with Spring Boot 2.6/2.7 and not Spring Boot 3. Hence it doesn't work.</p>\n<p>You need to either:</p>\n<ol>\n<li>Downgrade to Spring Boot 2.7.x</li>\n<li>Use the <code>4.0.0-SNAPSHOT</code> versions of the <code>spring-cloud-gcp-dependencies</code> dependencies which are compatible with Spring Boot 3.x.</li>\n</ol>\n<p>See also <a href=\"https://github.com/GoogleCloudPlatform/spring-cloud-gcp#compatibility-with-spring-project-versions\" rel=\"nofollow noreferrer\">the version compatibility matrix</a>.</p>\n<p>For option 2 you will need to add the repository, as mentioned <a href=\"https://github.com/GoogleCloudPlatform/spring-cloud-gcp#snapshots-repository\" rel=\"nofollow noreferrer\">here</a> to your Maven file.</p>\n"},{"tags":[],"owner":{"account_id":17600075,"reputation":118,"user_id":12770240,"display_name":"BeppeTemp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674490806,"creation_date":1674490806,"answer_id":75212256,"question_id":75210954,"body_markdown":"Thanks to **M. Deinum&#39;s** answer I understood that it was a dependency problem, so I created a new project with [Spring Initializer][1] adding in **Spring GCP** dependencies.\r\n\r\nThe resulting pom.xml is:\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.8&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt;\r\n\t\t&lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\r\n\t&lt;name&gt;spring_backend&lt;/name&gt;\r\n\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring_backend&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t\t&lt;spring-cloud-gcp.version&gt;3.4.2&lt;/spring-cloud-gcp.version&gt;\r\n\t\t&lt;spring-cloud.version&gt;2021.0.5&lt;/spring-cloud.version&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencyManagement&gt;\r\n\t\t&lt;dependencies&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${spring-cloud.version}&lt;/version&gt;\r\n\t\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n\t\t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-cloud-gcp-dependencies&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${spring-cloud-gcp.version}&lt;/version&gt;\r\n\t\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n\t\t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t&lt;/dependencies&gt;\r\n\t&lt;/dependencyManagement&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-cloud-gcp-starter&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-cloud-gcp-data-firestore&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.11.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\n\r\n  [1]: https://start.spring.io/","title":"Parameter 0 of constructor in &#39;ItemController&#39; required a bean of type &#39;.ItemRepository&#39; that could not be found. (Spring Data Cloud Firestore)","body":"<p>Thanks to <strong>M. Deinum's</strong> answer I understood that it was a dependency problem, so I created a new project with <a href=\"https://start.spring.io/\" rel=\"nofollow noreferrer\">Spring Initializer</a> adding in <strong>Spring GCP</strong> dependencies.</p>\n<p>The resulting pom.xml is:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.8&lt;/version&gt;\n        &lt;relativePath/&gt;\n        &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n    &lt;name&gt;spring_backend&lt;/name&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;spring_backend&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;spring-cloud-gcp.version&gt;3.4.2&lt;/spring-cloud-gcp.version&gt;\n        &lt;spring-cloud.version&gt;2021.0.5&lt;/spring-cloud.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-gcp-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;${spring-cloud-gcp.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-gcp-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-gcp-data-firestore&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-io&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n            &lt;version&gt;2.11.0&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n"}],"owner":{"account_id":17600075,"reputation":118,"user_id":12770240,"display_name":"BeppeTemp"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":363,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75211177,"answer_count":2,"score":1,"last_activity_date":1674547860,"creation_date":1674484357,"question_id":75210954,"body_markdown":"I&#39;m new to Spring and after creating a first simple project using the &quot;standard&quot; APIs, I&#39;m trying to integrate everything with Google Firestore using the Spring Cloud GCPs, in particular those related to Firestore (Spring Data Cloud Firestore). But I keep running into this error and I can&#39;t figure it out:\r\n\r\n```\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nParameter 0 of constructor in &#39;com.example.spring_backend.ItemController&#39; required a bean of type &#39;com.example.spring_backend.ItemRepository&#39; that could not be found.\r\n\r\n\r\nAction:\r\n\r\nConsider defining a bean of type &#39;com.example.spring_backend.ItemRepository&#39; in your configuration.\r\n```\r\n\r\nMy project structure is this:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/s5ATa.png\r\n\r\nI&#39;ve put in **application.properties** the **project name** and the path to the **key** of my GC service.\r\n\r\nHere is the code of various files:\r\n\r\n**Item.Java:**\r\n```java\r\n@Document(collectionName = &quot;items&quot;)\r\npublic class Item {\r\n\r\n\t@DocumentId\r\n\tprivate String name;\r\n\t\r\n\tprivate ArrayList&lt;String&gt; labels;\r\n\tprivate Boolean classified;\r\n\tprivate String base64;\r\n\r\n\t// Constructors\r\n\tpublic Item() {\r\n\t}\r\n\r\n\tpublic Item(String name, String base64) {\r\n\t\tthis.name = name;\r\n\t\tthis.labels = null;\r\n\t\tthis.classified = false;\r\n\t\tthis.base64 = base64;\r\n\t}\r\n\r\n\tpublic Item(String name, ArrayList&lt;String&gt; labels, String base64) {\r\n\t\tthis.name = name;\r\n\t\tthis.labels = labels;\r\n\t\tthis.classified = false;\r\n\t\tthis.base64 = base64;\r\n\t}\r\n\r\n\tpublic Item(String name, Boolean classified, ArrayList&lt;String&gt; labels, String base64) {\r\n\t\tthis.name = name;\r\n\t\tthis.labels = labels;\r\n\t\tthis.classified = classified;\r\n\t\tthis.base64 = base64;\r\n\t}\r\n\r\n\tpublic Item(String name, boolean classified, ArrayList&lt;String&gt; labels) {\r\n\t\tthis.name = name;\r\n\t\tthis.labels = labels;\r\n\t\tthis.classified = classified;\r\n\t\tthis.base64 = null;\r\n\t}\r\n\r\n\t// Getters and Setters\r\n}\r\n```\r\n\r\n**ItemController.java:**\r\n```java\r\n@CrossOrigin\r\n@RestController\r\npublic class ItemController {\r\n\r\n\tprivate final ItemRepository itemRepository;\r\n\r\n\tItemController(ItemRepository repository) {\r\n\t\tthis.itemRepository = repository;\r\n\t}\r\n\r\n\t@GetMapping(&quot;/items&quot;)\r\n\tpublic Flux&lt;Item&gt; all() {\r\n\t\tSystem.out.print(&quot;ciao&quot;);\r\n\r\n\t\treturn itemRepository.findAll();\r\n\t}\r\n\r\n\t@PostMapping(&quot;/save&quot;)\r\n\tpublic Mono&lt;Item&gt; newEmployee(@RequestBody Item item) {\r\n\r\n\t\tSystem.out.print(&quot;ciao&quot;);\r\n\r\n\t\titem.setClassified(false);\r\n\t\titem.setLabels(new ArrayList&lt;String&gt;());\r\n\r\n\t\t// ! Da togliere\r\n\t\titem.setBase64(null);\r\n\r\n\t\treturn itemRepository.save(item);\r\n\t}\r\n}\r\n```\r\n\r\n**ItemRepository.java:**\r\n```java\r\npublic interface ItemRepository extends FirestoreReactiveRepository&lt;Item&gt;{\r\n}\r\n```\r\n\r\n**SpringBackendApplication.java:**\r\n```java\r\n@SpringBootApplication\r\npublic class SpringBackendApplication {\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(SpringBackendApplication.class, args);\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\n**pom.xml**:\r\n```xml\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.2&lt;/version&gt;\r\n\t&lt;/parent&gt;\r\n\r\n\t&lt;name&gt;spring_backend&lt;/name&gt;\r\n\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring_backend&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencyManagement&gt;\r\n\t\t&lt;dependencies&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-cloud-gcp-dependencies&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.4.0&lt;/version&gt;\r\n\t\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n\t\t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t&lt;/dependencies&gt;\r\n\t&lt;/dependencyManagement&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-cloud-gcp-data-firestore&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.11.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\n**Full stack trace**:\r\n```bash\r\n2023-01-23T15:20:20.257+01:00  INFO 10996 --- [           main] c.e.s.SpringBackendApplication           : Starting SpringBackendApplication using Java 17.0.5 with PID 10996 (/home/beppetemp/Tirocinio_NTTData/components/backend/target/classes started by beppetemp in /home/beppetemp/Tirocinio_NTTData)\r\n2023-01-23T15:20:20.263+01:00  INFO 10996 --- [           main] c.e.s.SpringBackendApplication           : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n2023-01-23T15:20:21.510+01:00  INFO 10996 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\r\n2023-01-23T15:20:21.522+01:00  INFO 10996 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n2023-01-23T15:20:21.522+01:00  INFO 10996 --- [           main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.5]\r\n2023-01-23T15:20:21.699+01:00  INFO 10996 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n2023-01-23T15:20:21.703+01:00  INFO 10996 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1322 ms\r\n2023-01-23T15:20:21.842+01:00  WARN 10996 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;itemController&#39; defined in file [/home/beppetemp/Tirocinio_NTTData/components/backend/target/classes/com/example/spring_backend/ItemController.class]: Unsatisfied dependency expressed through constructor parameter 0: No qualifying bean of type &#39;com.example.spring_backend.ItemRepository&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\r\n2023-01-23T15:20:21.848+01:00  INFO 10996 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\r\n2023-01-23T15:20:21.884+01:00  INFO 10996 --- [           main] .s.b.a.l.ConditionEvaluationReportLogger : \r\n\r\nError starting ApplicationContext. To display the condition evaluation report re-run your application with &#39;debug&#39; enabled.\r\n2023-01-23T15:20:21.969+01:00 ERROR 10996 --- [           main] o.s.b.d.LoggingFailureAnalysisReporter   : \r\n\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nParameter 0 of constructor in com.example.spring_backend.ItemController required a bean of type &#39;com.example.spring_backend.ItemRepository&#39; that could not be found.\r\n\r\n\r\nAction:\r\n\r\nConsider defining a bean of type &#39;com.example.spring_backend.ItemRepository&#39; in your configuration.\r\n```\r\n\r\nSomeone can help me ?","title":"Parameter 0 of constructor in &#39;ItemController&#39; required a bean of type &#39;.ItemRepository&#39; that could not be found. (Spring Data Cloud Firestore)","body":"<p>I'm new to Spring and after creating a first simple project using the &quot;standard&quot; APIs, I'm trying to integrate everything with Google Firestore using the Spring Cloud GCPs, in particular those related to Firestore (Spring Data Cloud Firestore). But I keep running into this error and I can't figure it out:</p>\n<pre><code>***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nParameter 0 of constructor in 'com.example.spring_backend.ItemController' required a bean of type 'com.example.spring_backend.ItemRepository' that could not be found.\n\n\nAction:\n\nConsider defining a bean of type 'com.example.spring_backend.ItemRepository' in your configuration.\n</code></pre>\n<p>My project structure is this:</p>\n<p><a href=\"https://i.stack.imgur.com/s5ATa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/s5ATa.png\" alt=\"enter image description here\" /></a></p>\n<p>I've put in <strong>application.properties</strong> the <strong>project name</strong> and the path to the <strong>key</strong> of my GC service.</p>\n<p>Here is the code of various files:</p>\n<p><strong>Item.Java:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Document(collectionName = &quot;items&quot;)\npublic class Item {\n\n    @DocumentId\n    private String name;\n    \n    private ArrayList&lt;String&gt; labels;\n    private Boolean classified;\n    private String base64;\n\n    // Constructors\n    public Item() {\n    }\n\n    public Item(String name, String base64) {\n        this.name = name;\n        this.labels = null;\n        this.classified = false;\n        this.base64 = base64;\n    }\n\n    public Item(String name, ArrayList&lt;String&gt; labels, String base64) {\n        this.name = name;\n        this.labels = labels;\n        this.classified = false;\n        this.base64 = base64;\n    }\n\n    public Item(String name, Boolean classified, ArrayList&lt;String&gt; labels, String base64) {\n        this.name = name;\n        this.labels = labels;\n        this.classified = classified;\n        this.base64 = base64;\n    }\n\n    public Item(String name, boolean classified, ArrayList&lt;String&gt; labels) {\n        this.name = name;\n        this.labels = labels;\n        this.classified = classified;\n        this.base64 = null;\n    }\n\n    // Getters and Setters\n}\n</code></pre>\n<p><strong>ItemController.java:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@CrossOrigin\n@RestController\npublic class ItemController {\n\n    private final ItemRepository itemRepository;\n\n    ItemController(ItemRepository repository) {\n        this.itemRepository = repository;\n    }\n\n    @GetMapping(&quot;/items&quot;)\n    public Flux&lt;Item&gt; all() {\n        System.out.print(&quot;ciao&quot;);\n\n        return itemRepository.findAll();\n    }\n\n    @PostMapping(&quot;/save&quot;)\n    public Mono&lt;Item&gt; newEmployee(@RequestBody Item item) {\n\n        System.out.print(&quot;ciao&quot;);\n\n        item.setClassified(false);\n        item.setLabels(new ArrayList&lt;String&gt;());\n\n        // ! Da togliere\n        item.setBase64(null);\n\n        return itemRepository.save(item);\n    }\n}\n</code></pre>\n<p><strong>ItemRepository.java:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface ItemRepository extends FirestoreReactiveRepository&lt;Item&gt;{\n}\n</code></pre>\n<p><strong>SpringBackendApplication.java:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication\npublic class SpringBackendApplication {\n    public static void main(String[] args) {\n        SpringApplication.run(SpringBackendApplication.class, args);\n    }\n\n}\n\n</code></pre>\n<p><strong>pom.xml</strong>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.2&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;name&gt;spring_backend&lt;/name&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;spring_backend&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-gcp-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;3.4.0&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-gcp-data-firestore&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-io&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n            &lt;version&gt;2.11.0&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p><strong>Full stack trace</strong>:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>2023-01-23T15:20:20.257+01:00  INFO 10996 --- [           main] c.e.s.SpringBackendApplication           : Starting SpringBackendApplication using Java 17.0.5 with PID 10996 (/home/beppetemp/Tirocinio_NTTData/components/backend/target/classes started by beppetemp in /home/beppetemp/Tirocinio_NTTData)\n2023-01-23T15:20:20.263+01:00  INFO 10996 --- [           main] c.e.s.SpringBackendApplication           : No active profile set, falling back to 1 default profile: &quot;default&quot;\n2023-01-23T15:20:21.510+01:00  INFO 10996 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\n2023-01-23T15:20:21.522+01:00  INFO 10996 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2023-01-23T15:20:21.522+01:00  INFO 10996 --- [           main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.5]\n2023-01-23T15:20:21.699+01:00  INFO 10996 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2023-01-23T15:20:21.703+01:00  INFO 10996 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1322 ms\n2023-01-23T15:20:21.842+01:00  WARN 10996 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'itemController' defined in file [/home/beppetemp/Tirocinio_NTTData/components/backend/target/classes/com/example/spring_backend/ItemController.class]: Unsatisfied dependency expressed through constructor parameter 0: No qualifying bean of type 'com.example.spring_backend.ItemRepository' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\n2023-01-23T15:20:21.848+01:00  INFO 10996 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\n2023-01-23T15:20:21.884+01:00  INFO 10996 --- [           main] .s.b.a.l.ConditionEvaluationReportLogger : \n\nError starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.\n2023-01-23T15:20:21.969+01:00 ERROR 10996 --- [           main] o.s.b.d.LoggingFailureAnalysisReporter   : \n\n***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nParameter 0 of constructor in com.example.spring_backend.ItemController required a bean of type 'com.example.spring_backend.ItemRepository' that could not be found.\n\n\nAction:\n\nConsider defining a bean of type 'com.example.spring_backend.ItemRepository' in your configuration.\n</code></pre>\n<p>Someone can help me ?</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":3,"creation_date":1673594021,"post_id":75105883,"comment_id":132538355,"body_markdown":"You create the Service with `new` keyword. That&#39;s why autowiering is not working: `MBAApplicationService mbaApplicationService = new MBAApplicationService(mbaRepository);`. Autowire the Service in the controller and it should work","body":"You create the Service with <code>new</code> keyword. That&#39;s why autowiering is not working: <code>MBAApplicationService mbaApplicationService = new MBAApplicationService(mbaRepository);</code>. Autowire the Service in the controller and it should work"},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1673594465,"post_id":75105883,"comment_id":132538462,"body_markdown":"Where/how do you create the `Controller` instance?","body":"Where/how do you create the <code>Controller</code> instance?"},{"owner":{"account_id":12096783,"reputation":11,"user_id":8839954,"display_name":"Maik"},"score":0,"creation_date":1674032779,"post_id":75105883,"comment_id":132626088,"body_markdown":"@Jens I did autowire the Service in the Controller. Now there is a service, which has a mbaRepository as Null Object :(","body":"@Jens I did autowire the Service in the Controller. Now there is a service, which has a mbaRepository as Null Object :("},{"owner":{"account_id":12096783,"reputation":11,"user_id":8839954,"display_name":"Maik"},"score":0,"creation_date":1674033824,"post_id":75105883,"comment_id":132626398,"body_markdown":"Shouldl I put @Controller above Controller Class?","body":"Shouldl I put @Controller above Controller Class?"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1674034889,"post_id":75105883,"comment_id":132626748,"body_markdown":"Yes of course. But it is more or less the same as `@Service`. But if the autowiering is not working, it looks like you have a problem in your configuration. Can you share the configuration?","body":"Yes of course. But it is more or less the same as <code>@Service</code>. But if the autowiering is not working, it looks like you have a problem in your configuration. Can you share the configuration?"},{"owner":{"account_id":12096783,"reputation":11,"user_id":8839954,"display_name":"Maik"},"score":0,"creation_date":1674547652,"post_id":75105883,"comment_id":132731487,"body_markdown":"@Jens Posted it after the question","body":"@Jens Posted it after the question"}],"owner":{"account_id":12096783,"reputation":11,"user_id":8839954,"display_name":"Maik"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674547614,"creation_date":1673593763,"question_id":75105883,"body_markdown":"I&#39;m trying to develop an application in java where you can log in your credentials in frontend with JavaFX and it will log you in automatically with chrome web driver. For storage of password and email I use H2-Database with Spring Framework. \r\n\r\nUnfortunately if I start the application the repository is always null. The Nullpointer Exception comes, when I try to access the repository. In other questions the reason has always been the dependeny injection. I tried all three Dependeny Injections (constructor level, setter level, field level). Here is my code:\r\n\r\n\r\nMBA (website, where I want to login):\r\n\r\n```\r\n@Entity\r\n@Getter\r\npublic class MBA {\r\n\r\n    @Id\r\n    private UUID id;\r\n    private String email;\r\n    private String password;\r\n    \r\n    public static WebDriver driver;\r\n    private static int amountOfSales;\r\n    \r\n    public MBA() {\r\n        this.id = UUID.randomUUID();\r\n        this.email = null;\r\n        this.password = null;\r\n    }\r\n    \r\n    public MBA(String email, String password) {\r\n        this.id = UUID.randomUUID();\r\n        this.email = email;\r\n        this.password = password;\r\n    }\r\n\r\n}\r\n```\r\n\r\n**MBAApplicationService:**\r\n\r\n```\r\n@Service\r\npublic class MBAApplicationService {\r\n\r\n    public static WebDriver driver;\r\n    private static int amountOfSales;\r\n    \r\n    private MBARepository mbaRepository;\r\n    \r\n    @Autowired\r\n    public MBAApplicationService(MBARepository mbaRepository) {\r\n        this.mbaRepository = mbaRepository;\r\n    }\r\n    \r\n    public void saveLogin(String email, String password) {\r\n        MBA mba = new MBA(email, password);\r\n        mbaRepository.save(mba);\r\n    }\r\n    \r\n    public void chromeDriverSetUp() {\r\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\Program Files (x86)\\\\chromedriver.exe&quot;);\r\n        driver = new ChromeDriver();\r\n        driver.manage().window().maximize();\r\n    }\r\n\r\n}\r\n```\r\n\r\n**MBARepository:**\r\n\r\n```\r\n@Repository\r\npublic interface MBARepository extends CrudRepository\\&lt;MBA, UUID\\&gt; {\r\n\r\n}\r\n```\r\n\r\n**Controller (Controller of JavaFXApplication):**\r\n\r\n```\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Service\r\npublic class Controller {\r\n\r\n    //Integrationtest\r\n    \r\n    @FXML private Label mainSceneLabel;\r\n    @FXML private Label loginsSceneLabel;\r\n    @FXML private Label sellerSceneLabel;\r\n    @FXML private TextField emailMBA;\r\n    @FXML private PasswordField passwordMBA;\r\n    @FXML private Label mbaAmountOfSales;\r\n    private Stage stage;\r\n    private Scene scene;\r\n    private Parent root;\r\n    \r\n    @Autowired\r\n    private MBARepository mbaRepository;\r\n    \r\n    @FXML\r\n    public void openLoginScene() throws IOException {\r\n        Parent root = FXMLLoader.load(getClass().getResource(&quot;LoginsScene.fxml&quot;));\r\n        stage = (Stage)(mainSceneLabel.getScene().getWindow());\r\n        scene = new Scene(root);\r\n        stage.setScene(scene);\r\n        stage.show();\r\n    }\r\n    \r\n    @FXML\r\n    public void openMainScene() throws IOException {\r\n        Parent root = FXMLLoader.load(getClass().getResource(&quot;1_MainScene.fxml&quot;));\r\n        stage = (Stage)(loginsSceneLabel.getScene().getWindow());\r\n        scene = new Scene(root);\r\n        stage.setScene(scene);\r\n        stage.show();\r\n    }\r\n    \r\n    @FXML\r\n    public void switchToSellerViewScene() throws IOException {\r\n        Parent root = FXMLLoader.load(getClass().getResource(&quot;SellerViewScene.fxml&quot;));\r\n        stage = (Stage)(mainSceneLabel.getScene().getWindow());\r\n        scene = new Scene(root);\r\n        stage.setScene(scene);\r\n        stage.show();\r\n    }\r\n    \r\n    public void saveLogins() {\r\n        //Amazon\r\n        String emailAmazon = emailMBA.getText();\r\n        String passwordAmazon = passwordMBA.getText();\r\n        MBAApplicationService mbaApplicationService = new MBAApplicationService(mbaRepository);\r\n        mbaApplicationService.saveLogin(emailAmazon, passwordAmazon);\r\n    }\r\n\r\n}\r\n```\r\n\r\n**Here is the error notification I get, when I want to save something in the repository:**\r\n\r\n```\r\nCaused by: java.lang.NullPointerException: Cannot invoke &quot;mba.MBARepository.save(Object)&quot; because &quot;this.mbaRepository&quot; is null at com.example.moduleinfo/mba.MBAApplicationService.saveLogin(MBAA&gt;pplicationService.java:58)\r\n\tat com.example.moduleinfo/com.example.moduleinfo.Controller.saveLogins(Controller.java:85)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n\t... 53 more\r\n\r\n```\r\n\r\n\r\nHere are my configurations:\r\n[Configurations][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bemvN.png","title":"Repository always null after starting the application","body":"<p>I'm trying to develop an application in java where you can log in your credentials in frontend with JavaFX and it will log you in automatically with chrome web driver. For storage of password and email I use H2-Database with Spring Framework.</p>\n<p>Unfortunately if I start the application the repository is always null. The Nullpointer Exception comes, when I try to access the repository. In other questions the reason has always been the dependeny injection. I tried all three Dependeny Injections (constructor level, setter level, field level). Here is my code:</p>\n<p>MBA (website, where I want to login):</p>\n<pre><code>@Entity\n@Getter\npublic class MBA {\n\n    @Id\n    private UUID id;\n    private String email;\n    private String password;\n    \n    public static WebDriver driver;\n    private static int amountOfSales;\n    \n    public MBA() {\n        this.id = UUID.randomUUID();\n        this.email = null;\n        this.password = null;\n    }\n    \n    public MBA(String email, String password) {\n        this.id = UUID.randomUUID();\n        this.email = email;\n        this.password = password;\n    }\n\n}\n</code></pre>\n<p><strong>MBAApplicationService:</strong></p>\n<pre><code>@Service\npublic class MBAApplicationService {\n\n    public static WebDriver driver;\n    private static int amountOfSales;\n    \n    private MBARepository mbaRepository;\n    \n    @Autowired\n    public MBAApplicationService(MBARepository mbaRepository) {\n        this.mbaRepository = mbaRepository;\n    }\n    \n    public void saveLogin(String email, String password) {\n        MBA mba = new MBA(email, password);\n        mbaRepository.save(mba);\n    }\n    \n    public void chromeDriverSetUp() {\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\Program Files (x86)\\\\chromedriver.exe&quot;);\n        driver = new ChromeDriver();\n        driver.manage().window().maximize();\n    }\n\n}\n</code></pre>\n<p><strong>MBARepository:</strong></p>\n<pre><code>@Repository\npublic interface MBARepository extends CrudRepository\\&lt;MBA, UUID\\&gt; {\n\n}\n</code></pre>\n<p><strong>Controller (Controller of JavaFXApplication):</strong></p>\n<pre><code>@NoArgsConstructor\n@AllArgsConstructor\n@Service\npublic class Controller {\n\n    //Integrationtest\n    \n    @FXML private Label mainSceneLabel;\n    @FXML private Label loginsSceneLabel;\n    @FXML private Label sellerSceneLabel;\n    @FXML private TextField emailMBA;\n    @FXML private PasswordField passwordMBA;\n    @FXML private Label mbaAmountOfSales;\n    private Stage stage;\n    private Scene scene;\n    private Parent root;\n    \n    @Autowired\n    private MBARepository mbaRepository;\n    \n    @FXML\n    public void openLoginScene() throws IOException {\n        Parent root = FXMLLoader.load(getClass().getResource(&quot;LoginsScene.fxml&quot;));\n        stage = (Stage)(mainSceneLabel.getScene().getWindow());\n        scene = new Scene(root);\n        stage.setScene(scene);\n        stage.show();\n    }\n    \n    @FXML\n    public void openMainScene() throws IOException {\n        Parent root = FXMLLoader.load(getClass().getResource(&quot;1_MainScene.fxml&quot;));\n        stage = (Stage)(loginsSceneLabel.getScene().getWindow());\n        scene = new Scene(root);\n        stage.setScene(scene);\n        stage.show();\n    }\n    \n    @FXML\n    public void switchToSellerViewScene() throws IOException {\n        Parent root = FXMLLoader.load(getClass().getResource(&quot;SellerViewScene.fxml&quot;));\n        stage = (Stage)(mainSceneLabel.getScene().getWindow());\n        scene = new Scene(root);\n        stage.setScene(scene);\n        stage.show();\n    }\n    \n    public void saveLogins() {\n        //Amazon\n        String emailAmazon = emailMBA.getText();\n        String passwordAmazon = passwordMBA.getText();\n        MBAApplicationService mbaApplicationService = new MBAApplicationService(mbaRepository);\n        mbaApplicationService.saveLogin(emailAmazon, passwordAmazon);\n    }\n\n}\n</code></pre>\n<p><strong>Here is the error notification I get, when I want to save something in the repository:</strong></p>\n<pre><code>Caused by: java.lang.NullPointerException: Cannot invoke &quot;mba.MBARepository.save(Object)&quot; because &quot;this.mbaRepository&quot; is null at com.example.moduleinfo/mba.MBAApplicationService.saveLogin(MBAA&gt;pplicationService.java:58)\n    at com.example.moduleinfo/com.example.moduleinfo.Controller.saveLogins(Controller.java:85)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n    ... 53 more\n\n</code></pre>\n<p>Here are my configurations:\n<a href=\"https://i.stack.imgur.com/bemvN.png\" rel=\"nofollow noreferrer\">Configurations</a></p>\n"},{"tags":["java","excel","spring","csv","pdf"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1674544471,"post_id":75218404,"comment_id":132730759,"body_markdown":"if you know up front you&#39;ll need an additonal column there, hardcode it","body":"if you know up front you&#39;ll need an additonal column there, hardcode it"},{"owner":{"account_id":20661616,"reputation":147,"user_id":15169462,"display_name":"Alexander"},"score":0,"creation_date":1674544737,"post_id":75218404,"comment_id":132730804,"body_markdown":"@Stultuske can you tell me how to do it. code if possible)","body":"@Stultuske can you tell me how to do it. code if possible)"},{"owner":{"account_id":20661616,"reputation":147,"user_id":15169462,"display_name":"Alexander"},"score":0,"creation_date":1674544835,"post_id":75218404,"comment_id":132730825,"body_markdown":"Another problem is that the number of columns is dynamic. That is, their number may vary","body":"Another problem is that the number of columns is dynamic. That is, their number may vary"},{"owner":{"account_id":10428850,"reputation":175,"user_id":7689280,"display_name":"Mio"},"score":0,"creation_date":1674544857,"post_id":75218404,"comment_id":132730829,"body_markdown":"Could you share the libraries you&#39;re using?","body":"Could you share the libraries you&#39;re using?"},{"owner":{"account_id":20661616,"reputation":147,"user_id":15169462,"display_name":"Alexander"},"score":0,"creation_date":1674544990,"post_id":75218404,"comment_id":132730858,"body_markdown":"import com.itextpdf.kernel.pdf.PdfDocument;","body":"import com.itextpdf.kernel.pdf.PdfDocument;"},{"owner":{"account_id":20661616,"reputation":147,"user_id":15169462,"display_name":"Alexander"},"score":0,"creation_date":1674545043,"post_id":75218404,"comment_id":132730872,"body_markdown":"@Mio  iText library","body":"@Mio  iText library"}],"answers":[{"tags":[],"owner":{"account_id":10428850,"reputation":175,"user_id":7689280,"display_name":"Mio"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1674547575,"creation_date":1674547575,"answer_id":75218832,"question_id":75218404,"body_markdown":"I&#39;d suggest to use PDFBox, like here: https://stackoverflow.com/questions/3203790/parsing-pdf-files-especially-with-tables-with-pdfbox\r\nor another library that will allow you to check the data in the Table point by point, and will allow you to create a table by column width (something like `Table table = page.getTable(dividers));` ).\r\n\r\nIf the width of the columns changes, you&#39;ll have to implement it based on the headers/first data column ([e.g. position.x of the last character of the first word] minus [position.x of the first character of the new word] - you&#39;ll have to figure it out yourself), it&#39;s hard so you could make it hardcoded in the beginning. Using Foxit Reader PDF App you can easily measure column width. Then, if you don&#39;t find any data in a particular column, you will be able to add an empty column in the CSV file. I know from my own experience that it is not easy, so I wish you good luck.","title":"Convert PDF to CSV or EXCEL","body":"<p>I'd suggest to use PDFBox, like here: <a href=\"https://stackoverflow.com/questions/3203790/parsing-pdf-files-especially-with-tables-with-pdfbox\">Parsing PDF files (especially with tables) with PDFBox</a>\nor another library that will allow you to check the data in the Table point by point, and will allow you to create a table by column width (something like <code>Table table = page.getTable(dividers));</code> ).</p>\n<p>If the width of the columns changes, you'll have to implement it based on the headers/first data column ([e.g. position.x of the last character of the first word] minus [position.x of the first character of the new word] - you'll have to figure it out yourself), it's hard so you could make it hardcoded in the beginning. Using Foxit Reader PDF App you can easily measure column width. Then, if you don't find any data in a particular column, you will be able to add an empty column in the CSV file. I know from my own experience that it is not easy, so I wish you good luck.</p>\n"}],"owner":{"account_id":20661616,"reputation":147,"user_id":15169462,"display_name":"Alexander"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":574,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75218832,"answer_count":1,"score":1,"last_activity_date":1674547575,"creation_date":1674544350,"question_id":75218404,"body_markdown":"I am trying to convert PDF file to CSV or EXCEL format.\r\n\r\nHere is the code I use to convert to CSV format:\r\n\r\n    public void convert() throws Exception {\r\n                PdfReader pdfReader = new PdfReader(&quot;example.pdf&quot;);\r\n                PdfDocument pdf = new PdfDocument(pdfReader);;\r\n    \r\n                int pages = pdf.getNumberOfPages();\r\n    \r\n                FileWriter csvWriter = new FileWriter(&quot;student.csv&quot;);\r\n    \r\n                for (int i = 1; i &lt;= pages; i++) {\r\n                    PdfPage page = pdf.getPage(i);\r\n                    String content = PdfTextExtractor.getTextFromPage(page);\r\n    \r\n                    String[] splitContents = content.split(&quot;\\n&quot;);\r\n    \r\n                    boolean isTitle = true;\r\n    \r\n                    for (int j = 0; j &lt; splitContents.length; j++) {\r\n                        if (isTitle) {\r\n                            isTitle = false;\r\n                            continue;\r\n                        }\r\n    \r\n                        csvWriter.append(splitContents[j].replaceAll(&quot; &quot;, &quot; &quot;));\r\n                        csvWriter.append(&quot;\\n&quot;);\r\n                    }\r\n                }\r\n    \r\n                csvWriter.flush();\r\n                csvWriter.close();\r\n            }\r\n\r\nThis code works correctly, but the fact is that the CSV format groups rows without taking into account existing columns (some of them are empty), so I would like to convert this file (PDF) to EXCEL format.\r\nThe PDF file itself is formed as a table.\r\nWhat do I mean about spaces. For example, in a PDF file, in a table\r\n\r\n    |   name   |    some data   |            |             |    some data 1    |              |\r\n    +----------+----------------+------------+-------------+-------------------+--------------+\r\n\r\nAfter converting to a CSV file, the line looks like this:\r\n\r\n    name some data some data 1\r\n\r\nHow can I get the same result as a PDF table?\r\n\r\n\r\n","title":"Convert PDF to CSV or EXCEL","body":"<p>I am trying to convert PDF file to CSV or EXCEL format.</p>\n<p>Here is the code I use to convert to CSV format:</p>\n<pre><code>public void convert() throws Exception {\n            PdfReader pdfReader = new PdfReader(&quot;example.pdf&quot;);\n            PdfDocument pdf = new PdfDocument(pdfReader);;\n\n            int pages = pdf.getNumberOfPages();\n\n            FileWriter csvWriter = new FileWriter(&quot;student.csv&quot;);\n\n            for (int i = 1; i &lt;= pages; i++) {\n                PdfPage page = pdf.getPage(i);\n                String content = PdfTextExtractor.getTextFromPage(page);\n\n                String[] splitContents = content.split(&quot;\\n&quot;);\n\n                boolean isTitle = true;\n\n                for (int j = 0; j &lt; splitContents.length; j++) {\n                    if (isTitle) {\n                        isTitle = false;\n                        continue;\n                    }\n\n                    csvWriter.append(splitContents[j].replaceAll(&quot; &quot;, &quot; &quot;));\n                    csvWriter.append(&quot;\\n&quot;);\n                }\n            }\n\n            csvWriter.flush();\n            csvWriter.close();\n        }\n</code></pre>\n<p>This code works correctly, but the fact is that the CSV format groups rows without taking into account existing columns (some of them are empty), so I would like to convert this file (PDF) to EXCEL format.\nThe PDF file itself is formed as a table.\nWhat do I mean about spaces. For example, in a PDF file, in a table</p>\n<pre><code>|   name   |    some data   |            |             |    some data 1    |              |\n+----------+----------------+------------+-------------+-------------------+--------------+\n</code></pre>\n<p>After converting to a CSV file, the line looks like this:</p>\n<pre><code>name some data some data 1\n</code></pre>\n<p>How can I get the same result as a PDF table?</p>\n"},{"tags":["java","spring","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":5319838,"reputation":311,"user_id":4243605,"display_name":"Chandan Hegde"},"score":0,"creation_date":1675082291,"post_id":74954955,"comment_id":132845116,"body_markdown":"I too have a similar problem. Side question: What is the strategy that you&#39;ve used to switch read-only query executions to the replica databases? Are you using explicit @TransactionManager annotation on the read-only service methods?","body":"I too have a similar problem. Side question: What is the strategy that you&#39;ve used to switch read-only query executions to the replica databases? Are you using explicit @TransactionManager annotation on the read-only service methods?"},{"owner":{"account_id":5319838,"reputation":311,"user_id":4243605,"display_name":"Chandan Hegde"},"score":0,"creation_date":1675082357,"post_id":74954955,"comment_id":132845136,"body_markdown":"BTW, have you checked this post: https://stackoverflow.com/questions/62032148/spring-boot-and-aws-rds-read-replica?","body":"BTW, have you checked this post: <a href=\"https://stackoverflow.com/questions/62032148/spring-boot-and-aws-rds-read-replica\" title=\"spring boot and aws rds read replica\">stackoverflow.com/questions/62032148/&hellip;</a>?"},{"owner":{"account_id":5720431,"reputation":750,"user_id":4519018,"accept_rate":85,"display_name":"vvs14"},"score":0,"creation_date":1675360482,"post_id":74954955,"comment_id":132917549,"body_markdown":"We are using JdbcTemplate to write queries to read replica. So things are easier for us.","body":"We are using JdbcTemplate to write queries to read replica. So things are easier for us."}],"answers":[{"tags":[],"owner":{"account_id":5720431,"reputation":750,"user_id":4519018,"accept_rate":85,"display_name":"vvs14"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1674547512,"creation_date":1674547512,"answer_id":75218826,"question_id":74954955,"body_markdown":"To answer my question, I moved `TenantRepository`, used in `DynamicDataSourceBasedMultiTenantConnectionProvider` and `CurrentTenantIdentifierResolverImpl`, into service and lazy loaded that service into these classes, and the application started.\r\n\r\nSomething like this:\r\n\r\n    @Service\r\n    public class TenantService{\r\n        @Autowired\r\n        private TenantRepository tenantRepository;\r\n    }\r\n\r\n    public class DynamicDataSourceBasedMultiTenantConnectionProvider {\r\n        @Autowired\r\n        @Lazy\r\n        private TenantService tenantService ;\r\n    }\r\n    \r\n    public class CurrentTenantIdentifierResolverImpl {\r\n        @Autowired\r\n        @Lazy\r\n        private TenantService tenantService ;\r\n    }\r\n\r\n","title":"Spring + Hibernate : Multitenancy with MySQL Read Replica support","body":"<p>To answer my question, I moved <code>TenantRepository</code>, used in <code>DynamicDataSourceBasedMultiTenantConnectionProvider</code> and <code>CurrentTenantIdentifierResolverImpl</code>, into service and lazy loaded that service into these classes, and the application started.</p>\n<p>Something like this:</p>\n<pre><code>@Service\npublic class TenantService{\n    @Autowired\n    private TenantRepository tenantRepository;\n}\n\npublic class DynamicDataSourceBasedMultiTenantConnectionProvider {\n    @Autowired\n    @Lazy\n    private TenantService tenantService ;\n}\n\npublic class CurrentTenantIdentifierResolverImpl {\n    @Autowired\n    @Lazy\n    private TenantService tenantService ;\n}\n</code></pre>\n"}],"owner":{"account_id":5720431,"reputation":750,"user_id":4519018,"accept_rate":85,"display_name":"vvs14"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":518,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":75218826,"answer_count":1,"score":3,"last_activity_date":1674547512,"creation_date":1672339492,"question_id":74954955,"body_markdown":"I am moving an existing Spring boot application from Multitenancy to Database per tenant model. Some common Entities are in the Master database, whereas others will be in their respective database. These classes have been implemented and worked fine. Source to get ma started is this: https://callistaenterprise.se/blogg/teknik/2020/10/03/multi-tenancy-with-spring-boot-part3/\r\n\r\nClasses\r\n1. MasterPersistenceConfig.java (MasterDatabaseRepository below are the JPA repositories that are gonna be in the master database)\r\n2. TenantPersistenceConfig.java\r\n3. DynamicDataSourceBasedMultiTenantConnectionProvider.java\r\n4. CurrentTenantIdentifierResolverImpl.java\r\n5. application.yml\r\n\r\n**MasterPersistenceConfig.java (MasterDatabaseRepository below are the JPA repositories that are gonna be in the master database)**\r\n```\r\n@Log4j2\r\n@Configuration\r\n@EnableJpaRepositories(\r\n        basePackages = { &quot;${multitenancy.base-package}&quot; },\r\n        entityManagerFactoryRef = &quot;masterEntityManagerFactory&quot;,\r\n        transactionManagerRef = &quot;masterTransactionManager&quot;,\r\n        includeFilters = {\r\n                @ComponentScan.Filter(type = FilterType.ASSIGNABLE_TYPE, classes = MasterDatabaseRepository.class)\r\n        }\r\n)\r\n@EnableConfigurationProperties({DataSourceProperties.class, JpaProperties.class})\r\npublic class MasterPersistenceConfig {\r\n    private final ConfigurableListableBeanFactory beanFactory;\r\n    private final JpaProperties jpaProperties;\r\n    private final String entityPackages;\r\n\r\n    @Autowired\r\n    public MasterPersistenceConfig(ConfigurableListableBeanFactory beanFactory,\r\n                                   JpaProperties jpaProperties,\r\n                                   @Value(&quot;${multitenancy.master.entityManager.packages}&quot;)\r\n                                   String entityPackages) {\r\n        this.beanFactory = beanFactory;\r\n        this.jpaProperties = jpaProperties;\r\n        this.entityPackages = entityPackages;\r\n    }\r\n\r\n    @Bean\r\n    public LocalContainerEntityManagerFactoryBean masterEntityManagerFactory(\r\n            @Qualifier(&quot;masterDataSource&quot;) DataSource dataSource) {\r\n        LocalContainerEntityManagerFactoryBean em = new LocalContainerEntityManagerFactoryBean();\r\n        em.setPersistenceUnitName(&quot;master-persistence-unit&quot;);\r\n        em.setPackagesToScan(entityPackages);\r\n        em.setDataSource(dataSource);\r\n        JpaVendorAdapter vendorAdapter = new HibernateJpaVendorAdapter();\r\n        em.setJpaVendorAdapter(vendorAdapter);\r\n        Map&lt;String, Object&gt; properties = new HashMap&lt;&gt;(this.jpaProperties.getProperties());\r\n        properties.put(AvailableSettings.PHYSICAL_NAMING_STRATEGY, &quot;org.springframework.boot.orm.jpa.hibernate.SpringPhysicalNamingStrategy&quot;);\r\n        properties.put(AvailableSettings.IMPLICIT_NAMING_STRATEGY, &quot;org.springframework.boot.orm.jpa.hibernate.SpringImplicitNamingStrategy&quot;);\r\n        properties.put(AvailableSettings.BEAN_CONTAINER, new SpringBeanContainer(this.beanFactory));\r\n        em.setJpaPropertyMap(properties);\r\n        return em;\r\n    }\r\n\r\n    @Bean\r\n    public JpaTransactionManager masterTransactionManager(\r\n            @Qualifier(&quot;masterEntityManagerFactory&quot;) EntityManagerFactory emf) {\r\n        JpaTransactionManager transactionManager = new JpaTransactionManager();\r\n        transactionManager.setEntityManagerFactory(emf);\r\n        return transactionManager;\r\n    }\r\n}\r\n\r\n\r\n```\r\n**TenantPersistenceConfig.java (Using bean of DynamicDataSourceBasedMultiTenantConnectionProvider and  CurrentTenantIdentifierResolverImpl to create entityManagerFactory)**\r\n\r\n```\r\n@Log4j2\r\n@Configuration\r\n@EnableJpaRepositories(\r\n        basePackages = {&quot;${multitenancy.base-package}&quot;},\r\n        entityManagerFactoryRef = &quot;tenantEntityManagerFactory&quot;,\r\n        transactionManagerRef = &quot;tenantTransactionManager&quot;,\r\n        includeFilters = @Filter(type = FilterType.ASSIGNABLE_TYPE, value = JpaRepository.class),\r\n        excludeFilters = @Filter(type = FilterType.ASSIGNABLE_TYPE, classes = MasterDatabaseRepository.class)\r\n)\r\n@EnableConfigurationProperties(JpaProperties.class)\r\npublic class TenantPersistenceConfig {\r\n\r\n    private final ConfigurableListableBeanFactory beanFactory;\r\n    private final JpaProperties jpaProperties;\r\n    private final String entityPackages;\r\n\r\n    @Autowired\r\n    public TenantPersistenceConfig(\r\n            ConfigurableListableBeanFactory beanFactory,\r\n            JpaProperties jpaProperties,\r\n            @Value(&quot;${multitenancy.tenant.entityManager.packages}&quot;)\r\n            String entityPackages) {\r\n        this.beanFactory = beanFactory;\r\n        this.jpaProperties = jpaProperties;\r\n        this.entityPackages = entityPackages;\r\n    }\r\n\r\n    @Primary\r\n    @Bean\r\n    public LocalContainerEntityManagerFactoryBean tenantEntityManagerFactory(\r\n            @Qualifier(&quot;dynamicDataSourceBasedMultiTenantConnectionProvider&quot;) MultiTenantConnectionProvider connectionProvider,\r\n            @Qualifier(&quot;currentTenantIdentifierResolver&quot;) CurrentTenantIdentifierResolver tenantResolver) {\r\n        LocalContainerEntityManagerFactoryBean emfBean = new LocalContainerEntityManagerFactoryBean();\r\n        emfBean.setPersistenceUnitName(&quot;tenant-persistence-unit&quot;);\r\n        emfBean.setPackagesToScan(entityPackages);\r\n        JpaVendorAdapter vendorAdapter = new HibernateJpaVendorAdapter();\r\n        emfBean.setJpaVendorAdapter(vendorAdapter);\r\n        Map&lt;String, Object&gt; properties = new HashMap&lt;&gt;(this.jpaProperties.getProperties());\r\n        properties.put(AvailableSettings.PHYSICAL_NAMING_STRATEGY, &quot;org.springframework.boot.orm.jpa.hibernate.SpringPhysicalNamingStrategy&quot;);\r\n        properties.put(AvailableSettings.IMPLICIT_NAMING_STRATEGY, &quot;org.springframework.boot.orm.jpa.hibernate.SpringImplicitNamingStrategy&quot;);\r\n        properties.put(AvailableSettings.BEAN_CONTAINER, new SpringBeanContainer(this.beanFactory));\r\n        properties.put(AvailableSettings.MULTI_TENANT, MultiTenancyStrategy.DATABASE);\r\n        properties.put(AvailableSettings.MULTI_TENANT_CONNECTION_PROVIDER, connectionProvider);\r\n        properties.put(AvailableSettings.MULTI_TENANT_IDENTIFIER_RESOLVER, tenantResolver);\r\n        emfBean.setJpaPropertyMap(properties);\r\n        return emfBean;\r\n    }\r\n\r\n    @Primary\r\n    @Bean\r\n    public JpaTransactionManager tenantTransactionManager(\r\n            @Qualifier(&quot;tenantEntityManagerFactory&quot;) EntityManagerFactory emf) {\r\n        JpaTransactionManager tenantTransactionManager = new JpaTransactionManager();\r\n        tenantTransactionManager.setEntityManagerFactory(emf);\r\n        return tenantTransactionManager;\r\n    }\r\n\r\n    @Bean\r\n    public TenantDataSource tenantDataSource(@Qualifier(&quot;dynamicDataSourceBasedMultiTenantConnectionProvider&quot;) MultiTenantConnectionProvider connectionProvider,\r\n                                             @Qualifier(&quot;currentTenantIdentifierResolver&quot;) CurrentTenantIdentifierResolver tenantResolver) {\r\n        return new TenantDataSource(connectionProvider, tenantResolver);\r\n    }\r\n\r\n    @Bean\r\n    public NamedParameterJdbcTemplate namedParameterJdbcTemplateRead(@Qualifier(&quot;tenantDataSource&quot;) TenantDataSource tenantDataSource) {\r\n        return new NamedParameterJdbcTemplate(tenantDataSource);\r\n    }\r\n\r\n    @Bean\r\n    @Primary\r\n    public JdbcTemplate tenantJdbcTemplate(@Qualifier(&quot;tenantDataSource&quot;) TenantDataSource tenantDataSource) {\r\n        return new JdbcTemplate(tenantDataSource);\r\n    }\r\n}\r\n```\r\n**DynamicDataSourceBasedMultiTenantConnectionProvider (Uses TenantRepository, which MasterEntityManager manages)**\r\n\r\n```\r\n\r\n\r\n@Log4j2\r\n@Component\r\npublic class DynamicDataSourceBasedMultiTenantConnectionProvider\r\n        extends AbstractDataSourceBasedMultiTenantConnectionProviderImpl {\r\n\r\n    private static final String TENANT_POOL_NAME_SUFFIX = &quot;DataSource&quot;;\r\n\r\n    @Autowired\r\n    @Qualifier(&quot;masterDataSource&quot;)\r\n    private DataSource masterDataSource;\r\n\r\n    @Qualifier(&quot;masterDataSourceProperties&quot;)\r\n    @Autowired\r\n    private DataSourceProperties dataSourceProperties;\r\n    @Autowired\r\n    private TenantRepository masterTenantRepository;\r\n\r\n    private Map&lt;String, HikariDataSource&gt; tenantDataSources = new HashMap&lt;&gt;();\r\n\r\n    @Autowired\r\n    private DbProperties properties;\r\n\r\n    public DynamicDataSourceBasedMultiTenantConnectionProvider() {\r\n    }\r\n\r\n    public HikariDataSource getDataSource(String code) {\r\n        // masterTenantRepository usages\r\n    }\r\n\r\n    @PostConstruct\r\n    public Map&lt;String, DataSource&gt; getAll() {\r\n        // masterTenantRepository usages\r\n    }\r\n\r\n    @Override\r\n    protected HikariDataSource selectAnyDataSource() {\r\n        return (HikariDataSource) masterDataSource;\r\n    }\r\n\r\n    @Override\r\n    protected HikariDataSource selectDataSource(String tenantIdentifier) {\r\n        return getDataSource(tenantIdentifier);\r\n    }\r\n\r\n    private HikariDataSource createAndConfigureDataSource(Tenant tenant) {\r\n       // Datasource build and return\r\n    }\r\n\r\n    @Override\r\n    public Connection getAnyConnection() throws SQLException {\r\n        // get connection using datasource\r\n    }\r\n\r\n    @Override\r\n    public Connection getConnection(String tenantIdentifier) throws SQLException {\r\n        // get connection using datasource\r\n    }\r\n}\r\n\r\n\r\n```\r\n**CurrentTenantIdentifierResolverImpl (Uses TenantRepository, which MasterEntityManager manages)**\r\n\r\n```\r\n@Log4j2\r\n@Component(&quot;currentTenantIdentifierResolver&quot;)\r\npublic class CurrentTenantIdentifierResolverImpl implements CurrentTenantIdentifierResolver {\r\n\r\n    @Autowired\r\n    private TenantRepository tenantRepository;\r\n\r\n    @Override\r\n    public String resolveCurrentTenantIdentifier() {\r\n        // tenantRepository usages\r\n    }\r\n\r\n    @Override\r\n    public boolean validateExistingCurrentSessions() {\r\n        return true;\r\n    }\r\n}\r\n```\r\n\r\n**application.yml**\r\n```\r\nmultitenancy:\r\n  base-package: packageX\r\n  datasource-cache:\r\n    maximumSize: 100\r\n    expireAfterAccess: 1\r\n  master:\r\n    entityManager:\r\n      packages: packageX\r\n    datasource:\r\n      url: jdbc:mysql://${db-ip}:3306/master\r\n      username: root\r\n      password: password\r\n  tenant:\r\n    entityManager:\r\n      packages: packageX\r\n    datasource:\r\n      url-prefix: jdbc:mysql://${db-ip}:3306/\r\n      username: root\r\n      password: password\r\n      hikari:\r\n        maximumPoolSize: 2\r\n        minimumIdle: 0\r\n        idleTimeout: 30000\r\n  readreplica:\r\n    base-package: packageX.reports\r\n    entityManager:\r\n      packages: packageX.reports\r\n    datasource:\r\n      url-prefix: jdbc:mysql://${slave-db-ip}:3306/\r\n      username: root\r\n      password: password\r\n      hikari:\r\n        maximumPoolSize: 2\r\n        minimumIdle: 0\r\n        idleTimeout: 30000\r\n```\r\n\r\nEverything works fine until this point. Now we want to add another datasource that points to a another IP, i.e. Read replica. **When I add another PersistenceConfig file such as above, the application fails to start**. Below are a new class added. Stack trace is added below as well.\r\n\r\n**ReadReplicaPersistenceConfig.java**\r\n\r\n```\r\n@Log4j2\r\n@Configuration\r\n@EnableJpaRepositories(\r\n        basePackages = {&quot;${multitenancy.readreplica.base-package}&quot;},\r\n        entityManagerFactoryRef = &quot;readReplicaEntityManagerFactory&quot;,\r\n        transactionManagerRef = &quot;readReplicaTransactionManager&quot;,\r\n        includeFilters = @Filter(type = FilterType.ASSIGNABLE_TYPE, value = ReportsRepository.class)\r\n)\r\n@EnableConfigurationProperties(JpaProperties.class)\r\npublic class ReadReplicaPersistenceConfig {\r\n\r\n    private final ConfigurableListableBeanFactory beanFactory;\r\n    private final JpaProperties jpaProperties;\r\n    private final String entityPackages;\r\n\r\n    @Autowired\r\n    public ReadReplicaPersistenceConfig(\r\n            ConfigurableListableBeanFactory beanFactory,\r\n            JpaProperties jpaProperties,\r\n            @Value(&quot;${multitenancy.readreplica.entityManager.packages}&quot;)\r\n            String entityPackages) {\r\n        this.beanFactory = beanFactory;\r\n        this.jpaProperties = jpaProperties;\r\n        this.entityPackages = entityPackages;\r\n    }\r\n\r\n    @Bean\r\n    public LocalContainerEntityManagerFactoryBean readReplicaEntityManagerFactory(\r\n            @Qualifier(&quot;dynamicDataSourceBasedMultiTenantConnectionProvider&quot;) MultiTenantConnectionProvider connectionProvider,\r\n            @Qualifier(&quot;currentTenantIdentifierResolver&quot;) CurrentTenantIdentifierResolver tenantResolver) {\r\n        LocalContainerEntityManagerFactoryBean emfBean = new LocalContainerEntityManagerFactoryBean();\r\n        emfBean.setPersistenceUnitName(&quot;read-db-persistence-unit&quot;);\r\n        emfBean.setPackagesToScan(entityPackages);\r\n        JpaVendorAdapter vendorAdapter = new HibernateJpaVendorAdapter();\r\n        emfBean.setJpaVendorAdapter(vendorAdapter);\r\n        Map&lt;String, Object&gt; properties = new HashMap&lt;&gt;(this.jpaProperties.getProperties());\r\n        properties.put(AvailableSettings.PHYSICAL_NAMING_STRATEGY, &quot;org.springframework.boot.orm.jpa.hibernate.SpringPhysicalNamingStrategy&quot;);\r\n        properties.put(AvailableSettings.IMPLICIT_NAMING_STRATEGY, &quot;org.springframework.boot.orm.jpa.hibernate.SpringImplicitNamingStrategy&quot;);\r\n        properties.put(AvailableSettings.BEAN_CONTAINER, new SpringBeanContainer(this.beanFactory));\r\n        properties.put(AvailableSettings.MULTI_TENANT, MultiTenancyStrategy.DATABASE);\r\n        properties.put(AvailableSettings.MULTI_TENANT_CONNECTION_PROVIDER, connectionProvider);\r\n        properties.put(AvailableSettings.MULTI_TENANT_IDENTIFIER_RESOLVER, tenantResolver);\r\n        emfBean.setJpaPropertyMap(properties);\r\n        return emfBean;\r\n    }\r\n\r\n    @Bean\r\n    public JpaTransactionManager readReplicaTransactionManager(\r\n            @Qualifier(&quot;readReplicaEntityManagerFactory&quot;) EntityManagerFactory emf) {\r\n        JpaTransactionManager readReplicaTransactionManager = new JpaTransactionManager();\r\n        readReplicaTransactionManager.setEntityManagerFactory(emf);\r\n        return readReplicaTransactionManager;\r\n    }\r\n\r\n    @Bean\r\n    public ReadReplicaDataSource readReplicaDataSource(@Qualifier(&quot;dynamicDataSourceBasedMultiTenantConnectionProvider&quot;)\r\n                                                       MultiTenantConnectionProvider connectionProvider,\r\n                                                       @Qualifier(&quot;currentTenantIdentifierResolver&quot;)\r\n                                                       CurrentTenantIdentifierResolver tenantResolver) {\r\n        return new ReadReplicaDataSource(connectionProvider, tenantResolver);\r\n    }\r\n\r\n    @Bean\r\n    @Primary\r\n    public NamedParameterJdbcTemplate namedParameterJdbcTemplateRead(@Qualifier(&quot;readReplicaDataSource&quot;)\r\n                                                                     ReadReplicaDataSource readReplicaDataSource) {\r\n        return new NamedParameterJdbcTemplate(readReplicaDataSource);\r\n    }\r\n\r\n    @Bean\r\n    public JdbcTemplate readReplicaJdbcTemplate(@Qualifier(&quot;readReplicaDataSource&quot;) ReadReplicaDataSource\r\n                                                        readReplicaDataSource) {\r\n        return new JdbcTemplate(readReplicaDataSource);\r\n    }\r\n}\r\n```\r\n\r\nSummary of the spring.log stacktrace is . Full stacktrace can be found here: https://justpaste.it/6jwhs\r\n```\r\n[13:20:23.143] [restartedMain] [] [] [] [o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350] [INFO] - Bean &#39;springAsyncConfig&#39; of type [packageX.config.async.SpringAsyncConfig$$EnhancerBySpringCGLIB$$38910a1d] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\r\n[13:20:23.185] [restartedMain] [] [] [] [o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350] [INFO] - Bean &#39;org.springframework.retry.annotation.RetryConfiguration&#39; of type [org.springframework.retry.annotation.RetryConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\r\n[13:20:23.245] [restartedMain] [] [] [] [o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350] [INFO] - Bean &#39;org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@70516d8&#39; of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\r\n[13:20:23.272] [restartedMain] [] [] [] [o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350] [INFO] - Bean &#39;(inner bean)#6c13eb04&#39; of type [org.springframework.beans.factory.config.PropertiesFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\r\n[13:20:23.273] [restartedMain] [] [] [] [o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350] [INFO] - Bean &#39;(inner bean)#6c13eb04&#39; of type [java.util.Properties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\r\n[13:20:23.276] [restartedMain] [] [] [] [o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350] [INFO] - Bean &#39;(inner bean)#18e33fe&#39; of type [org.springframework.data.repository.core.support.PropertiesBasedNamedQueries] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\r\n[13:20:23.277] [restartedMain] [] [] [] [o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350] [INFO] - Bean &#39;(inner bean)#23ba6f2c&#39; of type [org.springframework.data.repository.core.support.RepositoryFragmentsFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\r\n[13:20:23.278] [restartedMain] [] [] [] [o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350] [INFO] - Bean &#39;(inner bean)#23ba6f2c&#39; of type [org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\r\n[13:20:23.296] [restartedMain] [] [] [] [o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350] [INFO] - Bean &#39;spring.jpa-org.springframework.boot.autoconfigure.orm.jpa.JpaProperties&#39; of type [org.springframework.boot.autoconfigure.orm.jpa.JpaProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\r\n[13:20:23.297] [restartedMain] [] [] [] [o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350] [INFO] - Bean &#39;tenantPersistenceConfig&#39; of type [packageX.dbframework.hibernateconfig.TenantPersistenceConfig$$EnhancerBySpringCGLIB$$f1fe8a65] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\r\n[13:20:23.302] [restartedMain] [] [] [] [o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350] [INFO] - Bean &#39;masterDataSourceConfiguration&#39; of type [packageX.dbframework.datasource.MasterDataSourceConfiguration$$EnhancerBySpringCGLIB$$8117359e] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\r\n[13:20:23.317] [restartedMain] [] [] [] [o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350] [INFO] - Bean &#39;masterDataSourceProperties&#39; of type [org.springframework.boot.autoconfigure.jdbc.DataSourceProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\r\n[13:20:23.335] [restartedMain] [] [] [] [o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350] [INFO] - Bean &#39;masterDataSource&#39; of type [com.zaxxer.hikari.HikariDataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\r\n[13:20:23.341] [restartedMain] [] [] [] [o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350] [INFO] - Bean &#39;org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker&#39; of type [org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\r\n[13:20:23.349] [restartedMain] [] [] [] [o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350] [INFO] - Bean &#39;(inner bean)#72ffcc16&#39; of type [org.springframework.beans.factory.config.PropertiesFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\r\n[13:20:23.349] [restartedMain] [] [] [] [o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350] [INFO] - Bean &#39;(inner bean)#72ffcc16&#39; of type [java.util.Properties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\r\n[13:20:23.349] [restartedMain] [] [] [] [o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350] [INFO] - Bean &#39;(inner bean)#72313bde&#39; of type [org.springframework.data.repository.core.support.PropertiesBasedNamedQueries] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\r\n[13:20:23.350] [restartedMain] [] [] [] [o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350] [INFO] - Bean &#39;(inner bean)#5f53b6b2&#39; of type [org.springframework.data.repository.core.support.RepositoryFragmentsFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\r\n[13:20:23.350] [restartedMain] [] [] [] [o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350] [INFO] - Bean &#39;(inner bean)#5f53b6b2&#39; of type [org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\r\n[13:20:23.353] [restartedMain] [] [] [] [o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350] [INFO] - Bean &#39;masterPersistenceConfig&#39; of type [packageX.dbframework.hibernateconfig.MasterPersistenceConfig$$EnhancerBySpringCGLIB$$540470ad] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\r\n[13:20:23.494] [restartedMain] [] [] [] [o.h.j.i.u.LogHelper:31] [INFO] - HHH000204: Processing PersistenceUnitInfo [name: master-persistence-unit]\r\n[13:20:23.530] [restartedMain] [] [] [] [o.h.Version:44] [INFO] - HHH000412: Hibernate ORM core version 5.4.27.Final\r\n[13:20:23.638] [restartedMain] [] [] [] [o.h.a.c.Version:56] [INFO] - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}\r\n[13:20:23.735] [restartedMain] [] [] [] [c.z.h.HikariDataSource:110] [INFO] - masterDataSource - Starting...\r\n[13:20:24.041] [restartedMain] [] [] [] [c.z.h.HikariDataSource:123] [INFO] - masterDataSource - Start completed.\r\n[13:20:24.056] [restartedMain] [] [] [] [o.h.d.Dialect:175] [INFO] - HHH000400: Using dialect: org.hibernate.dialect.MySQL57Dialect\r\n[13:20:24.809] [restartedMain] [] [] [] [o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350] [INFO] - Bean &#39;packageX.entityListeners.SyncJobCandidateListener&#39; of type [packageX.entityListeners.SyncJobCandidateListener] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\r\n[13:20:24.833] [restartedMain] [] [] [] [o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350] [INFO] - Bean &#39;packageX.entityListeners.SyncJobListener&#39; of type [packageX.entityListeners.SyncJobListener] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\r\n[13:20:27.154] [restartedMain] [] [] [] [o.h.e.t.j.p.i.JtaPlatformInitiator:52] [INFO] - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\r\n[13:20:27.162] [restartedMain] [] [] [] [o.s.o.j.LocalContainerEntityManagerFactoryBean:437] [INFO] - Initialized JPA EntityManagerFactory for persistence unit &#39;master-persistence-unit&#39;\r\n[13:20:27.165] [restartedMain] [] [] [] [o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350] [INFO] - Bean &#39;masterEntityManagerFactory&#39; of type [org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\r\n[13:20:27.168] [restartedMain] [] [] [] [o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350] [INFO] - Bean &#39;masterEntityManagerFactory&#39; of type [com.sun.proxy.$Proxy164] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\r\n[13:20:27.191] [restartedMain] [] [] [] [o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350] [INFO] - Bean &#39;(inner bean)#6ada8fd3&#39; of type [com.sun.proxy.$Proxy166] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\r\n[13:20:27.201] [restartedMain] [] [] [] [o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350] [INFO] - Bean &#39;readReplicaPersistenceConfig&#39; of type [packageX.dbframework.hibernateconfig.ReadReplicaPersistenceConfig$$EnhancerBySpringCGLIB$$759c9f91] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\r\n[13:20:27.206] [restartedMain] [] [] [] [o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext:596] [WARN] - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;healthEndpointGroupsBeanPostProcessor&#39; defined in class path resource [org/springframework/boot/actuate/autoconfigure/health/HealthEndpointConfiguration.class]: BeanPostProcessor before instantiation of bean failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration&#39;: BeanPostProcessor before instantiation of bean failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;metaDataSourceAdvisor&#39;: Cannot resolve reference to bean &#39;methodSecurityMetadataSource&#39; while setting constructor argument; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;securityConfig&#39;: Unsatisfied dependency expressed through field &#39;customRelyingPartyRegistrationRepository&#39;; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;customRelyingPartyRegistrationRepository&#39;: Unsatisfied dependency expressed through field &#39;samlRegistrationRepository&#39;; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;samlRegistrationRepository&#39; defined in packageX.auth.repository.SamlRegistrationRepository defined in @EnableJpaRepositories declared on TenantPersistenceConfig: Cannot create inner bean &#39;(inner bean)#7a8d7a43&#39; of type [org.springframework.orm.jpa.SharedEntityManagerCreator] while setting bean property &#39;entityManager&#39;; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;(inner bean)#7a8d7a43&#39;: Cannot resolve reference to bean &#39;tenantEntityManagerFactory&#39; while setting constructor argument; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;tenantEntityManagerFactory&#39; defined in class path resource [packageXdbframework/hibernateconfig/TenantPersistenceConfig.class]: Unsatisfied dependency expressed through method &#39;tenantEntityManagerFactory&#39; parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;dynamicDataSourceBasedMultiTenantConnectionProvider&#39;: Unsatisfied dependency expressed through field &#39;masterTenantRepository&#39;; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;tenantRepository&#39; defined in packageX.dbframework.datasource.TenantRepository defined in @EnableJpaRepositories declared on MasterPersistenceConfig: Cannot resolve reference to bean &#39;jpaMappingContext&#39; while setting bean property &#39;mappingContext&#39;; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;jpaMappingContext&#39;: Invocation of init method failed; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;readReplicaEntityManagerFactory&#39; defined in class path resource [packageXdbframework/hibernateconfig/ReadReplicaPersistenceConfig.class]: Unsatisfied dependency expressed through method &#39;readReplicaEntityManagerFactory&#39; parameter 1; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;currentTenantIdentifierResolver&#39;: Unsatisfied dependency expressed through field &#39;tenantRepository&#39;; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;packageX.dbframework.datasource.TenantRepository&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\r\n```\r\n\r\nBut when I change `readReplicaEntityManagerFactory` and `readReplicaTransactionManager` in **ReadReplicaPersistenceConfig** to `tenantEntityManagerFactory` and `tenantTransactionManager` respectively, application starts. Although I have not verified the which database my application is making change to.\r\n\r\nI&#39;d appreciate any and all help. Thank you.\r\n\r\n\r\nI tried using @Lazy, @DependsOn to resolve dependencies to avoid BeanCreationException, but not avail.","title":"Spring + Hibernate : Multitenancy with MySQL Read Replica support","body":"<p>I am moving an existing Spring boot application from Multitenancy to Database per tenant model. Some common Entities are in the Master database, whereas others will be in their respective database. These classes have been implemented and worked fine. Source to get ma started is this: <a href=\"https://callistaenterprise.se/blogg/teknik/2020/10/03/multi-tenancy-with-spring-boot-part3/\" rel=\"nofollow noreferrer\">https://callistaenterprise.se/blogg/teknik/2020/10/03/multi-tenancy-with-spring-boot-part3/</a></p>\n<p>Classes</p>\n<ol>\n<li>MasterPersistenceConfig.java (MasterDatabaseRepository below are the JPA repositories that are gonna be in the master database)</li>\n<li>TenantPersistenceConfig.java</li>\n<li>DynamicDataSourceBasedMultiTenantConnectionProvider.java</li>\n<li>CurrentTenantIdentifierResolverImpl.java</li>\n<li>application.yml</li>\n</ol>\n<p><strong>MasterPersistenceConfig.java (MasterDatabaseRepository below are the JPA repositories that are gonna be in the master database)</strong></p>\n<pre><code>@Log4j2\n@Configuration\n@EnableJpaRepositories(\n        basePackages = { &quot;${multitenancy.base-package}&quot; },\n        entityManagerFactoryRef = &quot;masterEntityManagerFactory&quot;,\n        transactionManagerRef = &quot;masterTransactionManager&quot;,\n        includeFilters = {\n                @ComponentScan.Filter(type = FilterType.ASSIGNABLE_TYPE, classes = MasterDatabaseRepository.class)\n        }\n)\n@EnableConfigurationProperties({DataSourceProperties.class, JpaProperties.class})\npublic class MasterPersistenceConfig {\n    private final ConfigurableListableBeanFactory beanFactory;\n    private final JpaProperties jpaProperties;\n    private final String entityPackages;\n\n    @Autowired\n    public MasterPersistenceConfig(ConfigurableListableBeanFactory beanFactory,\n                                   JpaProperties jpaProperties,\n                                   @Value(&quot;${multitenancy.master.entityManager.packages}&quot;)\n                                   String entityPackages) {\n        this.beanFactory = beanFactory;\n        this.jpaProperties = jpaProperties;\n        this.entityPackages = entityPackages;\n    }\n\n    @Bean\n    public LocalContainerEntityManagerFactoryBean masterEntityManagerFactory(\n            @Qualifier(&quot;masterDataSource&quot;) DataSource dataSource) {\n        LocalContainerEntityManagerFactoryBean em = new LocalContainerEntityManagerFactoryBean();\n        em.setPersistenceUnitName(&quot;master-persistence-unit&quot;);\n        em.setPackagesToScan(entityPackages);\n        em.setDataSource(dataSource);\n        JpaVendorAdapter vendorAdapter = new HibernateJpaVendorAdapter();\n        em.setJpaVendorAdapter(vendorAdapter);\n        Map&lt;String, Object&gt; properties = new HashMap&lt;&gt;(this.jpaProperties.getProperties());\n        properties.put(AvailableSettings.PHYSICAL_NAMING_STRATEGY, &quot;org.springframework.boot.orm.jpa.hibernate.SpringPhysicalNamingStrategy&quot;);\n        properties.put(AvailableSettings.IMPLICIT_NAMING_STRATEGY, &quot;org.springframework.boot.orm.jpa.hibernate.SpringImplicitNamingStrategy&quot;);\n        properties.put(AvailableSettings.BEAN_CONTAINER, new SpringBeanContainer(this.beanFactory));\n        em.setJpaPropertyMap(properties);\n        return em;\n    }\n\n    @Bean\n    public JpaTransactionManager masterTransactionManager(\n            @Qualifier(&quot;masterEntityManagerFactory&quot;) EntityManagerFactory emf) {\n        JpaTransactionManager transactionManager = new JpaTransactionManager();\n        transactionManager.setEntityManagerFactory(emf);\n        return transactionManager;\n    }\n}\n\n\n</code></pre>\n<p><strong>TenantPersistenceConfig.java (Using bean of DynamicDataSourceBasedMultiTenantConnectionProvider and  CurrentTenantIdentifierResolverImpl to create entityManagerFactory)</strong></p>\n<pre><code>@Log4j2\n@Configuration\n@EnableJpaRepositories(\n        basePackages = {&quot;${multitenancy.base-package}&quot;},\n        entityManagerFactoryRef = &quot;tenantEntityManagerFactory&quot;,\n        transactionManagerRef = &quot;tenantTransactionManager&quot;,\n        includeFilters = @Filter(type = FilterType.ASSIGNABLE_TYPE, value = JpaRepository.class),\n        excludeFilters = @Filter(type = FilterType.ASSIGNABLE_TYPE, classes = MasterDatabaseRepository.class)\n)\n@EnableConfigurationProperties(JpaProperties.class)\npublic class TenantPersistenceConfig {\n\n    private final ConfigurableListableBeanFactory beanFactory;\n    private final JpaProperties jpaProperties;\n    private final String entityPackages;\n\n    @Autowired\n    public TenantPersistenceConfig(\n            ConfigurableListableBeanFactory beanFactory,\n            JpaProperties jpaProperties,\n            @Value(&quot;${multitenancy.tenant.entityManager.packages}&quot;)\n            String entityPackages) {\n        this.beanFactory = beanFactory;\n        this.jpaProperties = jpaProperties;\n        this.entityPackages = entityPackages;\n    }\n\n    @Primary\n    @Bean\n    public LocalContainerEntityManagerFactoryBean tenantEntityManagerFactory(\n            @Qualifier(&quot;dynamicDataSourceBasedMultiTenantConnectionProvider&quot;) MultiTenantConnectionProvider connectionProvider,\n            @Qualifier(&quot;currentTenantIdentifierResolver&quot;) CurrentTenantIdentifierResolver tenantResolver) {\n        LocalContainerEntityManagerFactoryBean emfBean = new LocalContainerEntityManagerFactoryBean();\n        emfBean.setPersistenceUnitName(&quot;tenant-persistence-unit&quot;);\n        emfBean.setPackagesToScan(entityPackages);\n        JpaVendorAdapter vendorAdapter = new HibernateJpaVendorAdapter();\n        emfBean.setJpaVendorAdapter(vendorAdapter);\n        Map&lt;String, Object&gt; properties = new HashMap&lt;&gt;(this.jpaProperties.getProperties());\n        properties.put(AvailableSettings.PHYSICAL_NAMING_STRATEGY, &quot;org.springframework.boot.orm.jpa.hibernate.SpringPhysicalNamingStrategy&quot;);\n        properties.put(AvailableSettings.IMPLICIT_NAMING_STRATEGY, &quot;org.springframework.boot.orm.jpa.hibernate.SpringImplicitNamingStrategy&quot;);\n        properties.put(AvailableSettings.BEAN_CONTAINER, new SpringBeanContainer(this.beanFactory));\n        properties.put(AvailableSettings.MULTI_TENANT, MultiTenancyStrategy.DATABASE);\n        properties.put(AvailableSettings.MULTI_TENANT_CONNECTION_PROVIDER, connectionProvider);\n        properties.put(AvailableSettings.MULTI_TENANT_IDENTIFIER_RESOLVER, tenantResolver);\n        emfBean.setJpaPropertyMap(properties);\n        return emfBean;\n    }\n\n    @Primary\n    @Bean\n    public JpaTransactionManager tenantTransactionManager(\n            @Qualifier(&quot;tenantEntityManagerFactory&quot;) EntityManagerFactory emf) {\n        JpaTransactionManager tenantTransactionManager = new JpaTransactionManager();\n        tenantTransactionManager.setEntityManagerFactory(emf);\n        return tenantTransactionManager;\n    }\n\n    @Bean\n    public TenantDataSource tenantDataSource(@Qualifier(&quot;dynamicDataSourceBasedMultiTenantConnectionProvider&quot;) MultiTenantConnectionProvider connectionProvider,\n                                             @Qualifier(&quot;currentTenantIdentifierResolver&quot;) CurrentTenantIdentifierResolver tenantResolver) {\n        return new TenantDataSource(connectionProvider, tenantResolver);\n    }\n\n    @Bean\n    public NamedParameterJdbcTemplate namedParameterJdbcTemplateRead(@Qualifier(&quot;tenantDataSource&quot;) TenantDataSource tenantDataSource) {\n        return new NamedParameterJdbcTemplate(tenantDataSource);\n    }\n\n    @Bean\n    @Primary\n    public JdbcTemplate tenantJdbcTemplate(@Qualifier(&quot;tenantDataSource&quot;) TenantDataSource tenantDataSource) {\n        return new JdbcTemplate(tenantDataSource);\n    }\n}\n</code></pre>\n<p><strong>DynamicDataSourceBasedMultiTenantConnectionProvider (Uses TenantRepository, which MasterEntityManager manages)</strong></p>\n<pre><code>\n\n@Log4j2\n@Component\npublic class DynamicDataSourceBasedMultiTenantConnectionProvider\n        extends AbstractDataSourceBasedMultiTenantConnectionProviderImpl {\n\n    private static final String TENANT_POOL_NAME_SUFFIX = &quot;DataSource&quot;;\n\n    @Autowired\n    @Qualifier(&quot;masterDataSource&quot;)\n    private DataSource masterDataSource;\n\n    @Qualifier(&quot;masterDataSourceProperties&quot;)\n    @Autowired\n    private DataSourceProperties dataSourceProperties;\n    @Autowired\n    private TenantRepository masterTenantRepository;\n\n    private Map&lt;String, HikariDataSource&gt; tenantDataSources = new HashMap&lt;&gt;();\n\n    @Autowired\n    private DbProperties properties;\n\n    public DynamicDataSourceBasedMultiTenantConnectionProvider() {\n    }\n\n    public HikariDataSource getDataSource(String code) {\n        // masterTenantRepository usages\n    }\n\n    @PostConstruct\n    public Map&lt;String, DataSource&gt; getAll() {\n        // masterTenantRepository usages\n    }\n\n    @Override\n    protected HikariDataSource selectAnyDataSource() {\n        return (HikariDataSource) masterDataSource;\n    }\n\n    @Override\n    protected HikariDataSource selectDataSource(String tenantIdentifier) {\n        return getDataSource(tenantIdentifier);\n    }\n\n    private HikariDataSource createAndConfigureDataSource(Tenant tenant) {\n       // Datasource build and return\n    }\n\n    @Override\n    public Connection getAnyConnection() throws SQLException {\n        // get connection using datasource\n    }\n\n    @Override\n    public Connection getConnection(String tenantIdentifier) throws SQLException {\n        // get connection using datasource\n    }\n}\n\n\n</code></pre>\n<p><strong>CurrentTenantIdentifierResolverImpl (Uses TenantRepository, which MasterEntityManager manages)</strong></p>\n<pre><code>@Log4j2\n@Component(&quot;currentTenantIdentifierResolver&quot;)\npublic class CurrentTenantIdentifierResolverImpl implements CurrentTenantIdentifierResolver {\n\n    @Autowired\n    private TenantRepository tenantRepository;\n\n    @Override\n    public String resolveCurrentTenantIdentifier() {\n        // tenantRepository usages\n    }\n\n    @Override\n    public boolean validateExistingCurrentSessions() {\n        return true;\n    }\n}\n</code></pre>\n<p><strong>application.yml</strong></p>\n<pre><code>multitenancy:\n  base-package: packageX\n  datasource-cache:\n    maximumSize: 100\n    expireAfterAccess: 1\n  master:\n    entityManager:\n      packages: packageX\n    datasource:\n      url: jdbc:mysql://${db-ip}:3306/master\n      username: root\n      password: password\n  tenant:\n    entityManager:\n      packages: packageX\n    datasource:\n      url-prefix: jdbc:mysql://${db-ip}:3306/\n      username: root\n      password: password\n      hikari:\n        maximumPoolSize: 2\n        minimumIdle: 0\n        idleTimeout: 30000\n  readreplica:\n    base-package: packageX.reports\n    entityManager:\n      packages: packageX.reports\n    datasource:\n      url-prefix: jdbc:mysql://${slave-db-ip}:3306/\n      username: root\n      password: password\n      hikari:\n        maximumPoolSize: 2\n        minimumIdle: 0\n        idleTimeout: 30000\n</code></pre>\n<p>Everything works fine until this point. Now we want to add another datasource that points to a another IP, i.e. Read replica. <strong>When I add another PersistenceConfig file such as above, the application fails to start</strong>. Below are a new class added. Stack trace is added below as well.</p>\n<p><strong>ReadReplicaPersistenceConfig.java</strong></p>\n<pre><code>@Log4j2\n@Configuration\n@EnableJpaRepositories(\n        basePackages = {&quot;${multitenancy.readreplica.base-package}&quot;},\n        entityManagerFactoryRef = &quot;readReplicaEntityManagerFactory&quot;,\n        transactionManagerRef = &quot;readReplicaTransactionManager&quot;,\n        includeFilters = @Filter(type = FilterType.ASSIGNABLE_TYPE, value = ReportsRepository.class)\n)\n@EnableConfigurationProperties(JpaProperties.class)\npublic class ReadReplicaPersistenceConfig {\n\n    private final ConfigurableListableBeanFactory beanFactory;\n    private final JpaProperties jpaProperties;\n    private final String entityPackages;\n\n    @Autowired\n    public ReadReplicaPersistenceConfig(\n            ConfigurableListableBeanFactory beanFactory,\n            JpaProperties jpaProperties,\n            @Value(&quot;${multitenancy.readreplica.entityManager.packages}&quot;)\n            String entityPackages) {\n        this.beanFactory = beanFactory;\n        this.jpaProperties = jpaProperties;\n        this.entityPackages = entityPackages;\n    }\n\n    @Bean\n    public LocalContainerEntityManagerFactoryBean readReplicaEntityManagerFactory(\n            @Qualifier(&quot;dynamicDataSourceBasedMultiTenantConnectionProvider&quot;) MultiTenantConnectionProvider connectionProvider,\n            @Qualifier(&quot;currentTenantIdentifierResolver&quot;) CurrentTenantIdentifierResolver tenantResolver) {\n        LocalContainerEntityManagerFactoryBean emfBean = new LocalContainerEntityManagerFactoryBean();\n        emfBean.setPersistenceUnitName(&quot;read-db-persistence-unit&quot;);\n        emfBean.setPackagesToScan(entityPackages);\n        JpaVendorAdapter vendorAdapter = new HibernateJpaVendorAdapter();\n        emfBean.setJpaVendorAdapter(vendorAdapter);\n        Map&lt;String, Object&gt; properties = new HashMap&lt;&gt;(this.jpaProperties.getProperties());\n        properties.put(AvailableSettings.PHYSICAL_NAMING_STRATEGY, &quot;org.springframework.boot.orm.jpa.hibernate.SpringPhysicalNamingStrategy&quot;);\n        properties.put(AvailableSettings.IMPLICIT_NAMING_STRATEGY, &quot;org.springframework.boot.orm.jpa.hibernate.SpringImplicitNamingStrategy&quot;);\n        properties.put(AvailableSettings.BEAN_CONTAINER, new SpringBeanContainer(this.beanFactory));\n        properties.put(AvailableSettings.MULTI_TENANT, MultiTenancyStrategy.DATABASE);\n        properties.put(AvailableSettings.MULTI_TENANT_CONNECTION_PROVIDER, connectionProvider);\n        properties.put(AvailableSettings.MULTI_TENANT_IDENTIFIER_RESOLVER, tenantResolver);\n        emfBean.setJpaPropertyMap(properties);\n        return emfBean;\n    }\n\n    @Bean\n    public JpaTransactionManager readReplicaTransactionManager(\n            @Qualifier(&quot;readReplicaEntityManagerFactory&quot;) EntityManagerFactory emf) {\n        JpaTransactionManager readReplicaTransactionManager = new JpaTransactionManager();\n        readReplicaTransactionManager.setEntityManagerFactory(emf);\n        return readReplicaTransactionManager;\n    }\n\n    @Bean\n    public ReadReplicaDataSource readReplicaDataSource(@Qualifier(&quot;dynamicDataSourceBasedMultiTenantConnectionProvider&quot;)\n                                                       MultiTenantConnectionProvider connectionProvider,\n                                                       @Qualifier(&quot;currentTenantIdentifierResolver&quot;)\n                                                       CurrentTenantIdentifierResolver tenantResolver) {\n        return new ReadReplicaDataSource(connectionProvider, tenantResolver);\n    }\n\n    @Bean\n    @Primary\n    public NamedParameterJdbcTemplate namedParameterJdbcTemplateRead(@Qualifier(&quot;readReplicaDataSource&quot;)\n                                                                     ReadReplicaDataSource readReplicaDataSource) {\n        return new NamedParameterJdbcTemplate(readReplicaDataSource);\n    }\n\n    @Bean\n    public JdbcTemplate readReplicaJdbcTemplate(@Qualifier(&quot;readReplicaDataSource&quot;) ReadReplicaDataSource\n                                                        readReplicaDataSource) {\n        return new JdbcTemplate(readReplicaDataSource);\n    }\n}\n</code></pre>\n<p>Summary of the spring.log stacktrace is . Full stacktrace can be found here: <a href=\"https://justpaste.it/6jwhs\" rel=\"nofollow noreferrer\">https://justpaste.it/6jwhs</a></p>\n<pre><code>[13:20:23.143] [restartedMain] [] [] [] [o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350] [INFO] - Bean 'springAsyncConfig' of type [packageX.config.async.SpringAsyncConfig$$EnhancerBySpringCGLIB$$38910a1d] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\n[13:20:23.185] [restartedMain] [] [] [] [o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350] [INFO] - Bean 'org.springframework.retry.annotation.RetryConfiguration' of type [org.springframework.retry.annotation.RetryConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\n[13:20:23.245] [restartedMain] [] [] [] [o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350] [INFO] - Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@70516d8' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\n[13:20:23.272] [restartedMain] [] [] [] [o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350] [INFO] - Bean '(inner bean)#6c13eb04' of type [org.springframework.beans.factory.config.PropertiesFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\n[13:20:23.273] [restartedMain] [] [] [] [o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350] [INFO] - Bean '(inner bean)#6c13eb04' of type [java.util.Properties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\n[13:20:23.276] [restartedMain] [] [] [] [o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350] [INFO] - Bean '(inner bean)#18e33fe' of type [org.springframework.data.repository.core.support.PropertiesBasedNamedQueries] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\n[13:20:23.277] [restartedMain] [] [] [] [o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350] [INFO] - Bean '(inner bean)#23ba6f2c' of type [org.springframework.data.repository.core.support.RepositoryFragmentsFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\n[13:20:23.278] [restartedMain] [] [] [] [o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350] [INFO] - Bean '(inner bean)#23ba6f2c' of type [org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\n[13:20:23.296] [restartedMain] [] [] [] [o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350] [INFO] - Bean 'spring.jpa-org.springframework.boot.autoconfigure.orm.jpa.JpaProperties' of type [org.springframework.boot.autoconfigure.orm.jpa.JpaProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\n[13:20:23.297] [restartedMain] [] [] [] [o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350] [INFO] - Bean 'tenantPersistenceConfig' of type [packageX.dbframework.hibernateconfig.TenantPersistenceConfig$$EnhancerBySpringCGLIB$$f1fe8a65] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\n[13:20:23.302] [restartedMain] [] [] [] [o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350] [INFO] - Bean 'masterDataSourceConfiguration' of type [packageX.dbframework.datasource.MasterDataSourceConfiguration$$EnhancerBySpringCGLIB$$8117359e] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\n[13:20:23.317] [restartedMain] [] [] [] [o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350] [INFO] - Bean 'masterDataSourceProperties' of type [org.springframework.boot.autoconfigure.jdbc.DataSourceProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\n[13:20:23.335] [restartedMain] [] [] [] [o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350] [INFO] - Bean 'masterDataSource' of type [com.zaxxer.hikari.HikariDataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\n[13:20:23.341] [restartedMain] [] [] [] [o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350] [INFO] - Bean 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker' of type [org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\n[13:20:23.349] [restartedMain] [] [] [] [o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350] [INFO] - Bean '(inner bean)#72ffcc16' of type [org.springframework.beans.factory.config.PropertiesFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\n[13:20:23.349] [restartedMain] [] [] [] [o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350] [INFO] - Bean '(inner bean)#72ffcc16' of type [java.util.Properties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\n[13:20:23.349] [restartedMain] [] [] [] [o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350] [INFO] - Bean '(inner bean)#72313bde' of type [org.springframework.data.repository.core.support.PropertiesBasedNamedQueries] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\n[13:20:23.350] [restartedMain] [] [] [] [o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350] [INFO] - Bean '(inner bean)#5f53b6b2' of type [org.springframework.data.repository.core.support.RepositoryFragmentsFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\n[13:20:23.350] [restartedMain] [] [] [] [o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350] [INFO] - Bean '(inner bean)#5f53b6b2' of type [org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\n[13:20:23.353] [restartedMain] [] [] [] [o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350] [INFO] - Bean 'masterPersistenceConfig' of type [packageX.dbframework.hibernateconfig.MasterPersistenceConfig$$EnhancerBySpringCGLIB$$540470ad] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\n[13:20:23.494] [restartedMain] [] [] [] [o.h.j.i.u.LogHelper:31] [INFO] - HHH000204: Processing PersistenceUnitInfo [name: master-persistence-unit]\n[13:20:23.530] [restartedMain] [] [] [] [o.h.Version:44] [INFO] - HHH000412: Hibernate ORM core version 5.4.27.Final\n[13:20:23.638] [restartedMain] [] [] [] [o.h.a.c.Version:56] [INFO] - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}\n[13:20:23.735] [restartedMain] [] [] [] [c.z.h.HikariDataSource:110] [INFO] - masterDataSource - Starting...\n[13:20:24.041] [restartedMain] [] [] [] [c.z.h.HikariDataSource:123] [INFO] - masterDataSource - Start completed.\n[13:20:24.056] [restartedMain] [] [] [] [o.h.d.Dialect:175] [INFO] - HHH000400: Using dialect: org.hibernate.dialect.MySQL57Dialect\n[13:20:24.809] [restartedMain] [] [] [] [o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350] [INFO] - Bean 'packageX.entityListeners.SyncJobCandidateListener' of type [packageX.entityListeners.SyncJobCandidateListener] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\n[13:20:24.833] [restartedMain] [] [] [] [o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350] [INFO] - Bean 'packageX.entityListeners.SyncJobListener' of type [packageX.entityListeners.SyncJobListener] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\n[13:20:27.154] [restartedMain] [] [] [] [o.h.e.t.j.p.i.JtaPlatformInitiator:52] [INFO] - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\n[13:20:27.162] [restartedMain] [] [] [] [o.s.o.j.LocalContainerEntityManagerFactoryBean:437] [INFO] - Initialized JPA EntityManagerFactory for persistence unit 'master-persistence-unit'\n[13:20:27.165] [restartedMain] [] [] [] [o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350] [INFO] - Bean 'masterEntityManagerFactory' of type [org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\n[13:20:27.168] [restartedMain] [] [] [] [o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350] [INFO] - Bean 'masterEntityManagerFactory' of type [com.sun.proxy.$Proxy164] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\n[13:20:27.191] [restartedMain] [] [] [] [o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350] [INFO] - Bean '(inner bean)#6ada8fd3' of type [com.sun.proxy.$Proxy166] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\n[13:20:27.201] [restartedMain] [] [] [] [o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350] [INFO] - Bean 'readReplicaPersistenceConfig' of type [packageX.dbframework.hibernateconfig.ReadReplicaPersistenceConfig$$EnhancerBySpringCGLIB$$759c9f91] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\n[13:20:27.206] [restartedMain] [] [] [] [o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext:596] [WARN] - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'healthEndpointGroupsBeanPostProcessor' defined in class path resource [org/springframework/boot/actuate/autoconfigure/health/HealthEndpointConfiguration.class]: BeanPostProcessor before instantiation of bean failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration': BeanPostProcessor before instantiation of bean failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'metaDataSourceAdvisor': Cannot resolve reference to bean 'methodSecurityMetadataSource' while setting constructor argument; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'securityConfig': Unsatisfied dependency expressed through field 'customRelyingPartyRegistrationRepository'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'customRelyingPartyRegistrationRepository': Unsatisfied dependency expressed through field 'samlRegistrationRepository'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'samlRegistrationRepository' defined in packageX.auth.repository.SamlRegistrationRepository defined in @EnableJpaRepositories declared on TenantPersistenceConfig: Cannot create inner bean '(inner bean)#7a8d7a43' of type [org.springframework.orm.jpa.SharedEntityManagerCreator] while setting bean property 'entityManager'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#7a8d7a43': Cannot resolve reference to bean 'tenantEntityManagerFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'tenantEntityManagerFactory' defined in class path resource [packageXdbframework/hibernateconfig/TenantPersistenceConfig.class]: Unsatisfied dependency expressed through method 'tenantEntityManagerFactory' parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'dynamicDataSourceBasedMultiTenantConnectionProvider': Unsatisfied dependency expressed through field 'masterTenantRepository'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'tenantRepository' defined in packageX.dbframework.datasource.TenantRepository defined in @EnableJpaRepositories declared on MasterPersistenceConfig: Cannot resolve reference to bean 'jpaMappingContext' while setting bean property 'mappingContext'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jpaMappingContext': Invocation of init method failed; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'readReplicaEntityManagerFactory' defined in class path resource [packageXdbframework/hibernateconfig/ReadReplicaPersistenceConfig.class]: Unsatisfied dependency expressed through method 'readReplicaEntityManagerFactory' parameter 1; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'currentTenantIdentifierResolver': Unsatisfied dependency expressed through field 'tenantRepository'; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'packageX.dbframework.datasource.TenantRepository' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\n</code></pre>\n<p>But when I change <code>readReplicaEntityManagerFactory</code> and <code>readReplicaTransactionManager</code> in <strong>ReadReplicaPersistenceConfig</strong> to <code>tenantEntityManagerFactory</code> and <code>tenantTransactionManager</code> respectively, application starts. Although I have not verified the which database my application is making change to.</p>\n<p>I'd appreciate any and all help. Thank you.</p>\n<p>I tried using @Lazy, @DependsOn to resolve dependencies to avoid BeanCreationException, but not avail.</p>\n"},{"tags":["java","httprequest","httpresponse"],"comments":[{"owner":{"account_id":9725613,"reputation":53334,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"score":0,"creation_date":1674495184,"post_id":75213037,"comment_id":132721411,"body_markdown":"https://docs.oracle.com/en/java/javase/14/docs/api/java.net.http/java/net/http/HttpResponse.html `httpResponse.body()` ?","body":"<a href=\"https://docs.oracle.com/en/java/javase/14/docs/api/java.net.http/java/net/http/HttpResponse.html\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/14/docs/api/java.net.http/jav&zwnj;&#8203;a/&hellip;</a> <code>httpResponse.body()</code> ?"},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1674551697,"post_id":75213037,"comment_id":132732712,"body_markdown":"I don&#39;t think there&#39;s a simple way. You could maybe cheat something in for HTTPS by providing your own SSL socket factory that wraps a real one and &quot;syphons&quot; off the request/response. I suspect using some third-party HTTP client could make this simpler.","body":"I don&#39;t think there&#39;s a simple way. You could maybe cheat something in for HTTPS by providing your own SSL socket factory that wraps a real one and &quot;syphons&quot; off the request/response. I suspect using some third-party HTTP client could make this simpler."},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1674551836,"post_id":75213037,"comment_id":132732745,"body_markdown":"Out of curiosity: **why** do you need this? For almost every use case the pre-parsed headers are more useful. If you told us the underlying problem you&#39;re trying to solve, we can maybe find an alternative approach (see https://xyproblem.info).","body":"Out of curiosity: <b>why</b> do you need this? For almost every use case the pre-parsed headers are more useful. If you told us the underlying problem you&#39;re trying to solve, we can maybe find an alternative approach (see <a href=\"https://xyproblem.info\" rel=\"nofollow noreferrer\">xyproblem.info</a>)."},{"owner":{"account_id":27602511,"reputation":11,"user_id":21067446,"display_name":"Hadas"},"score":0,"creation_date":1675469445,"post_id":75213037,"comment_id":132942988,"body_markdown":"i need the raw http request to save each api http request that i am sending and the responds. this way the user could see the exact message that sent and recived.","body":"i need the raw http request to save each api http request that i am sending and the responds. this way the user could see the exact message that sent and recived."}],"owner":{"account_id":27602511,"reputation":11,"user_id":21067446,"display_name":"Hadas"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":619,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1674547327,"creation_date":1674495103,"question_id":75213037,"body_markdown":"I want the raw http request and response when sending an http request using java.\r\nis there any way to do it without writing it manually? maybe adding tee with InputStream in the middle to capture it? or other solution?\r\n\r\n\r\n\r\ni am currently using java.net.http library:\r\n\r\n```\r\nHttpRequest httpsRequest = getHttpsRequest(url, parameters, method, headers);\r\nHttpClient client = HttpClient.newHttpClient();\r\nHttpResponse&lt;String&gt; httpResponse = client.send(httpsRequest,HttpResponse.BodyHandlers.ofString(UTF_8));\r\n\r\nString rawHttpMessage = ?\r\n            \r\n```\r\n\r\nraw http message for example:\r\n\r\n    HTTP/1.1 200 OK\r\n    Date: Sun, 10 Oct 2010 23:26:07 GMT\r\n    Server: Apache/2.2.8 (Ubuntu) mod_ssl/2.2.8 OpenSSL/0.9.8g\r\n    Last-Modified: Sun, 26 Sep 2010 22:04:35 GMT\r\n    ETag: &quot;45b6-834-49130cc1182c0&quot;\r\n    Accept-Ranges: bytes\r\n    Content-Length: 12\r\n    Connection: close\r\n    Content-Type: text/html\r\n    \r\n    Hello world!\r\n\r\n[request and response http message][1]\r\n\r\n  [1]: https://i.stack.imgur.com/vf65f.png\r\n","title":"Get the raw http request/response message in java","body":"<p>I want the raw http request and response when sending an http request using java.\nis there any way to do it without writing it manually? maybe adding tee with InputStream in the middle to capture it? or other solution?</p>\n<p>i am currently using java.net.http library:</p>\n<pre><code>HttpRequest httpsRequest = getHttpsRequest(url, parameters, method, headers);\nHttpClient client = HttpClient.newHttpClient();\nHttpResponse&lt;String&gt; httpResponse = client.send(httpsRequest,HttpResponse.BodyHandlers.ofString(UTF_8));\n\nString rawHttpMessage = ?\n            \n</code></pre>\n<p>raw http message for example:</p>\n<pre><code>HTTP/1.1 200 OK\nDate: Sun, 10 Oct 2010 23:26:07 GMT\nServer: Apache/2.2.8 (Ubuntu) mod_ssl/2.2.8 OpenSSL/0.9.8g\nLast-Modified: Sun, 26 Sep 2010 22:04:35 GMT\nETag: &quot;45b6-834-49130cc1182c0&quot;\nAccept-Ranges: bytes\nContent-Length: 12\nConnection: close\nContent-Type: text/html\n\nHello world!\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/vf65f.png\" rel=\"nofollow noreferrer\">request and response http message</a></p>\n"},{"tags":["java","android","android-studio","kotlin"],"answers":[{"tags":[],"owner":{"account_id":4418336,"reputation":19,"user_id":3599194,"accept_rate":50,"display_name":"user3599194"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674546833,"creation_date":1674408433,"answer_id":75202473,"question_id":75199443,"body_markdown":"i needed to replace this code. \r\n```\r\n// pendingIntent = PendingIntent.getActivity(this, 0, new Intent(this, getClass()).addFlags(Intent.FLAG_ACTIVITY_SINGLE_TOP), 0);\r\npendingIntent = PendingIntent.getActivity(this, 0, new Intent(this, getClass()).addFlags(Intent.FLAG_ACTIVITY_SINGLE_TOP), PendingIntent.FLAG_IMMUTABLE);\r\n```","title":"NFC Reader APP, Targeting S+ (version 31 and above) requires that one of FLAG_IMMUTABLE or FLAG_MUTABLE be specified when creating a PendingIntent","body":"<p>i needed to replace this code.</p>\n<pre><code>// pendingIntent = PendingIntent.getActivity(this, 0, new Intent(this, getClass()).addFlags(Intent.FLAG_ACTIVITY_SINGLE_TOP), 0);\npendingIntent = PendingIntent.getActivity(this, 0, new Intent(this, getClass()).addFlags(Intent.FLAG_ACTIVITY_SINGLE_TOP), PendingIntent.FLAG_IMMUTABLE);\n</code></pre>\n"}],"owner":{"account_id":4418336,"reputation":19,"user_id":3599194,"accept_rate":50,"display_name":"user3599194"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":344,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674546833,"creation_date":1674380703,"question_id":75199443,"body_markdown":"We have an Android NFC Reader APP was working perfect now it has errors and the APP gets crashed. \r\n\r\n\r\n    2023-01-22 15:09:14.813 3602-3615/? E/PRM_CONFIG_Parser: get_custom_config not found\r\n    2023-01-22 15:09:14.830 4162-4351/? E/PostureManager: fail to get service\r\n    2023-01-22 15:09:14.832 4162-4351/? E/PostureManager: fail to get service\r\n    2023-01-22 15:09:14.834 4162-4351/? E/PostureManager: fail to get service\r\n    2023-01-22 15:09:14.884 12662-12662/? E/AndroidRuntime: FATAL EXCEPTION: main\r\n        Process: com.myapp.ngf132, PID: 12662\r\n        java.lang.RuntimeException: Unable to start activity ComponentInfo{com.myapp.ngf132/com.myapp.ngf132.Nfc_reader}: java.lang.IllegalArgumentException: com.myapp.ngf132: Targeting S+ (version 31 and above) requires that one of FLAG_IMMUTABLE or FLAG_MUTABLE be specified when creating a PendingIntent.\r\n        Strongly consider using FLAG_IMMUTABLE, only use FLAG_MUTABLE if some functionality depends on the PendingIntent being mutable, e.g. if it needs to be used with inline replies or bubbles.\r\n\r\ni have checked multiple questions i could not figure out the issue, \r\n\r\nThese are the imports i have\r\n\r\n    \r\n    \r\n    import android.app.PendingIntent;\r\n    import android.content.Context;\r\n    import android.content.Intent;\r\n    import android.content.IntentFilter;\r\n    import android.nfc.FormatException;\r\n    import android.nfc.NdefMessage;\r\n    import android.nfc.NdefRecord;\r\n    import android.nfc.NfcAdapter;\r\n    import android.nfc.Tag;\r\n    import android.nfc.tech.Ndef;\r\n    import android.os.Bundle;\r\n    import android.os.Parcelable;\r\n    import android.os.StrictMode;\r\n    import android.util.Log;\r\n    import android.view.View;\r\n    import android.widget.Button;\r\n    import android.widget.TextView;\r\n    import android.widget.Toast;\r\n    \r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    \r\n    import java.io.BufferedReader;\r\n    import java.io.IOException;\r\n    import java.io.InputStreamReader;\r\n    import java.io.UnsupportedEncodingException;\r\n    import java.net.URL;\r\n    import java.net.URLConnection;\r\n    import java.nio.charset.StandardCharsets;\r\n\r\nAny suggestions is greatly appreciated. ","title":"NFC Reader APP, Targeting S+ (version 31 and above) requires that one of FLAG_IMMUTABLE or FLAG_MUTABLE be specified when creating a PendingIntent","body":"<p>We have an Android NFC Reader APP was working perfect now it has errors and the APP gets crashed.</p>\n<pre><code>2023-01-22 15:09:14.813 3602-3615/? E/PRM_CONFIG_Parser: get_custom_config not found\n2023-01-22 15:09:14.830 4162-4351/? E/PostureManager: fail to get service\n2023-01-22 15:09:14.832 4162-4351/? E/PostureManager: fail to get service\n2023-01-22 15:09:14.834 4162-4351/? E/PostureManager: fail to get service\n2023-01-22 15:09:14.884 12662-12662/? E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.myapp.ngf132, PID: 12662\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.myapp.ngf132/com.myapp.ngf132.Nfc_reader}: java.lang.IllegalArgumentException: com.myapp.ngf132: Targeting S+ (version 31 and above) requires that one of FLAG_IMMUTABLE or FLAG_MUTABLE be specified when creating a PendingIntent.\n    Strongly consider using FLAG_IMMUTABLE, only use FLAG_MUTABLE if some functionality depends on the PendingIntent being mutable, e.g. if it needs to be used with inline replies or bubbles.\n</code></pre>\n<p>i have checked multiple questions i could not figure out the issue,</p>\n<p>These are the imports i have</p>\n<pre><code>import android.app.PendingIntent;\nimport android.content.Context;\nimport android.content.Intent;\nimport android.content.IntentFilter;\nimport android.nfc.FormatException;\nimport android.nfc.NdefMessage;\nimport android.nfc.NdefRecord;\nimport android.nfc.NfcAdapter;\nimport android.nfc.Tag;\nimport android.nfc.tech.Ndef;\nimport android.os.Bundle;\nimport android.os.Parcelable;\nimport android.os.StrictMode;\nimport android.util.Log;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.io.UnsupportedEncodingException;\nimport java.net.URL;\nimport java.net.URLConnection;\nimport java.nio.charset.StandardCharsets;\n</code></pre>\n<p>Any suggestions is greatly appreciated.</p>\n"},{"tags":["java","spring-boot","jpa","hibernate-criteria"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1674548605,"post_id":75218446,"comment_id":132731750,"body_markdown":"As you want to use the `array_to_string` function, you need an postgres `ARRAY` as first parameter. Your query currently shows `array_to_string(m1_0.keyword,&#39;,&#39;)` where `m1_0.keyword` is not a postgres array. Since you didn&#39;t supply the `StringListConverter` implementation, I&#39;ll assume that you concatenate the `keyword` values with a comma. If you then want to check if you have a value in that list, you can do a simple like without the `array_to_string` function. You should definitely only ever be searching for a single keyword like that, because otherwise you need to ensure the correct order","body":"As you want to use the <code>array_to_string</code> function, you need an postgres <code>ARRAY</code> as first parameter. Your query currently shows <code>array_to_string(m1_0.keyword,&#39;,&#39;)</code> where <code>m1_0.keyword</code> is not a postgres array. Since you didn&#39;t supply the <code>StringListConverter</code> implementation, I&#39;ll assume that you concatenate the <code>keyword</code> values with a comma. If you then want to check if you have a value in that list, you can do a simple like without the <code>array_to_string</code> function. You should definitely only ever be searching for a single keyword like that, because otherwise you need to ensure the correct order"}],"owner":{"account_id":25356183,"reputation":1,"user_id":19172266,"display_name":"Gravite Waves"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674546811,"creation_date":1674544673,"question_id":75218446,"body_markdown":"I want to retrieve the stored DB value converted to a string list in spring boot.\r\n\r\nAs an entity in Spring Boot, I wanted to process it like this, so I processed it as an array that was converted to a string.\r\n\r\n    @Column(name = &quot;keyword&quot;)\r\n    @Convert(converter = StringListConverter.class)\r\n    private List&lt;String&gt; keyword;\r\n\r\nThe problem is that when I do a search, I get an error. For reference, I am calling with restapi and using postgresql and jpa.\r\nAnd the search used sql criteria. (If you let us know by query dsl, we will implement it in that way.)\r\n(Values and keys belonging to the keywords below are entered normally.)\r\n\r\n\r\n    Expression&lt;String&gt; delimiter = criteriaBuilder.&lt;String&gt;literal(&quot;,&quot;);\r\n\r\n    Expression&lt;String&gt; sqlFunction = criteriaBuilder.function(&quot;array_to_string&quot;,String.class,root.get(entry.getKey()), delimiter);\r\n    \r\n    predicates.add(criteriaBuilder.like(sqlFunction,\r\n\t\t\t\t\t\t\t\t\t&#39;%&#39; + entry.getValue().toString().toLowerCase() + &#39;%&#39;));\r\n\r\n     return criteriaBuilder.and(predicates.toArray(new Predicate[0]));\r\n\r\nI googled and created a search logic in this format, but I get an error. Retrieval of any type other than an array is error-free.\r\nArray search feels very difficult.\r\n\r\n\r\n    Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [select m1_0.id,m1_0.created,m1_0.description,m1_0.disable,m1_0.group_id,m1_0.keyword,m1_0.name,m1_0.updated,m1_0.work from member m1_0 where array_to_string(m1_0.keyword,&#39;,&#39;) like ? escape &#39;&#39; order by m1_0.id desc offset ? rows fetch first ? rows only]; SQL [n/a]] with root cause\r\n\r\n    org.postgresql.util.PSQLException: ERROR: function array_to_string(character varying, unknown) does not exist\r\n  \r\n    Hint: No function matches the given name and argument types. You might need to add explicit type casts. Position: 174\r\n\r\n\r\nI would appreciate it if you could tell me how to do it, a simple example or something to refer to.\r\n\r\nWhat I&#39;m trying to do is, once I get a string value, I want to start by searching to see if that string is in the array.\r\n\r\nI&#39;ve been struggling for a long time and haven&#39;t been able to find an answer, so I&#39;m asking this question. I also don&#39;t quite understand what the error means.\r\n\r\n","title":"I want to retrieve the stored DB value converted to a string list in spring boot","body":"<p>I want to retrieve the stored DB value converted to a string list in spring boot.</p>\n<p>As an entity in Spring Boot, I wanted to process it like this, so I processed it as an array that was converted to a string.</p>\n<pre><code>@Column(name = &quot;keyword&quot;)\n@Convert(converter = StringListConverter.class)\nprivate List&lt;String&gt; keyword;\n</code></pre>\n<p>The problem is that when I do a search, I get an error. For reference, I am calling with restapi and using postgresql and jpa.\nAnd the search used sql criteria. (If you let us know by query dsl, we will implement it in that way.)\n(Values and keys belonging to the keywords below are entered normally.)</p>\n<pre><code>Expression&lt;String&gt; delimiter = criteriaBuilder.&lt;String&gt;literal(&quot;,&quot;);\n\nExpression&lt;String&gt; sqlFunction = criteriaBuilder.function(&quot;array_to_string&quot;,String.class,root.get(entry.getKey()), delimiter);\n\npredicates.add(criteriaBuilder.like(sqlFunction,\n                                '%' + entry.getValue().toString().toLowerCase() + '%'));\n\n return criteriaBuilder.and(predicates.toArray(new Predicate[0]));\n</code></pre>\n<p>I googled and created a search logic in this format, but I get an error. Retrieval of any type other than an array is error-free.\nArray search feels very difficult.</p>\n<pre><code>Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [select m1_0.id,m1_0.created,m1_0.description,m1_0.disable,m1_0.group_id,m1_0.keyword,m1_0.name,m1_0.updated,m1_0.work from member m1_0 where array_to_string(m1_0.keyword,',') like ? escape '' order by m1_0.id desc offset ? rows fetch first ? rows only]; SQL [n/a]] with root cause\n\norg.postgresql.util.PSQLException: ERROR: function array_to_string(character varying, unknown) does not exist\n\nHint: No function matches the given name and argument types. You might need to add explicit type casts. Position: 174\n</code></pre>\n<p>I would appreciate it if you could tell me how to do it, a simple example or something to refer to.</p>\n<p>What I'm trying to do is, once I get a string value, I want to start by searching to see if that string is in the array.</p>\n<p>I've been struggling for a long time and haven't been able to find an answer, so I'm asking this question. I also don't quite understand what the error means.</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","spring-boot-actuator"],"owner":{"account_id":27451779,"reputation":11,"user_id":20943898,"display_name":"Ragnar_viking"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":332,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674546535,"creation_date":1674541375,"question_id":75218054,"body_markdown":"While upgrading my spring-boot project to `2.7.5` i got some incompaitability issues with springfox and actuator, for that i made changes by following this link...\r\n\r\nhttps://stackoverflow.com/questions/70036953/spring-boot-2-6-0-spring-fox-3-failed-to-start-bean-documentationpluginsboo#\r\n\r\nIm using Actuator in my project, with the above changes actuator endpoints like `/health` not working fine, so i decided to migrate to springdoc.. i made the changes but im unable to open my swagger.. getting the below error\r\n\r\n&gt; java.lang.IllegalStateException: Failed to load ApplicationContext\r\n&gt; Caused by: org.springframework.beans.factory.BeanCreationException:\r\n&gt; Error creating bean with name &#39;requestMappingHandlerMapping&#39; defined\r\n&gt; in class path resource\r\n&gt; [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]\r\n\r\n\r\nI have added `spring.mvc.pathmatch.matching-strategy=ant_path_matcher`, im not getting the error but swagger was not opening and the actuator endpoints also not working as expected getting status as `DOWN` while checking the health..","title":"Upgrading spring-boot version to 2.7.5, migrating to springdoc","body":"<p>While upgrading my spring-boot project to <code>2.7.5</code> i got some incompaitability issues with springfox and actuator, for that i made changes by following this link...</p>\n<p><a href=\"https://stackoverflow.com/questions/70036953/spring-boot-2-6-0-spring-fox-3-failed-to-start-bean-documentationpluginsboo#\">Spring Boot 2.6.0 / Spring fox 3 - Failed to start bean &#39;documentationPluginsBootstrapper&#39;</a></p>\n<p>Im using Actuator in my project, with the above changes actuator endpoints like <code>/health</code> not working fine, so i decided to migrate to springdoc.. i made the changes but im unable to open my swagger.. getting the below error</p>\n<blockquote>\n<p>java.lang.IllegalStateException: Failed to load ApplicationContext\nCaused by: org.springframework.beans.factory.BeanCreationException:\nError creating bean with name 'requestMappingHandlerMapping' defined\nin class path resource\n[org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]</p>\n</blockquote>\n<p>I have added <code>spring.mvc.pathmatch.matching-strategy=ant_path_matcher</code>, im not getting the error but swagger was not opening and the actuator endpoints also not working as expected getting status as <code>DOWN</code> while checking the health..</p>\n"},{"tags":["java","oop","generics","tuples"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1674546143,"post_id":75218524,"comment_id":132731133,"body_markdown":"Related, if not a duplicate: [In Java, can I specify any amount of generic type parameters?](https://stackoverflow.com/q/33569103/6395627).","body":"Related, if not a duplicate: <a href=\"https://stackoverflow.com/q/33569103/6395627\">In Java, can I specify any amount of generic type parameters?</a>."},{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":1,"creation_date":1674547734,"post_id":75218524,"comment_id":132731509,"body_markdown":"Note that the use of Tuples is generally discouraged in Java (also in C++). Prefer a `record` instead.","body":"Note that the use of Tuples is generally discouraged in Java (also in C++). Prefer a <code>record</code> instead."}],"answers":[{"tags":[],"owner":{"account_id":27597963,"reputation":1024,"user_id":21063779,"display_name":"Lae"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1674545617,"creation_date":1674545617,"answer_id":75218580,"question_id":75218524,"body_markdown":"You can&#39;t, that&#39;s not supported in Java.","title":"Variable Amount of Generics in Java","body":"<p>You can't, that's not supported in Java.</p>\n"}],"owner":{"account_id":23991621,"reputation":205,"user_id":17977692,"display_name":"Francis Godinho"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75218580,"answer_count":1,"score":1,"last_activity_date":1674546136,"creation_date":1674545255,"question_id":75218524,"body_markdown":"In C++ you can create a tuple with a variable number of parameters. How would I implement something like this in Java without explicitly hard coding the amount of generics. I want to be able to do something like:\r\n\r\nTuple&lt;Integer, Integer, String&gt; t\r\n\r\nbut without forcing myself to use three items in a tuple.","title":"Variable Amount of Generics in Java","body":"<p>In C++ you can create a tuple with a variable number of parameters. How would I implement something like this in Java without explicitly hard coding the amount of generics. I want to be able to do something like:</p>\n<p>Tuple&lt;Integer, Integer, String&gt; t</p>\n<p>but without forcing myself to use three items in a tuple.</p>\n"},{"tags":["java","eclipse","jface"],"comments":[{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1674545368,"post_id":75217580,"comment_id":132730945,"body_markdown":"Are you asking about one of the two `FilteredTree` classes in Eclipse, or a normal `TreeViewer` with a filter? I think you need to show us a [mre]. If you have a lot of data in the tree you may need to use a virtual tree with `ILazyTreeContentProvider`","body":"Are you asking about one of the two <code>FilteredTree</code> classes in Eclipse, or a normal <code>TreeViewer</code> with a filter? I think you need to show us a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. If you have a lot of data in the tree you may need to use a virtual tree with <code>ILazyTreeContentProvider</code>"},{"owner":{"account_id":7595573,"reputation":101,"user_id":5761837,"accept_rate":17,"display_name":"A.Goel"},"score":0,"creation_date":1674545731,"post_id":75217580,"comment_id":132731020,"body_markdown":"I am using org.eclipse.ui.dialogs.FilteredTree","body":"I am using org.eclipse.ui.dialogs.FilteredTree"},{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1674547539,"post_id":75217580,"comment_id":132731464,"body_markdown":"You are specifying SWT.VIRTUAL - does the content provider implement ILazyTreeContentProvider? (SWT.VIRTUAL doesn&#39;t really do much without it). But if I remember correctly a lazy tree doesn&#39;t work properly with filters and the content provider has to do the filtering.","body":"You are specifying SWT.VIRTUAL - does the content provider implement ILazyTreeContentProvider? (SWT.VIRTUAL doesn&#39;t really do much without it). But if I remember correctly a lazy tree doesn&#39;t work properly with filters and the content provider has to do the filtering."},{"owner":{"account_id":7595573,"reputation":101,"user_id":5761837,"accept_rate":17,"display_name":"A.Goel"},"score":0,"creation_date":1674551249,"post_id":75217580,"comment_id":132732566,"body_markdown":"No, the content provider is implementing ITreeContentProvider as I was not understand how to filter items with content provider.\nMy filter needs to work same like FilteredTree and org.eclipse.ui.dialogs.PatternFilter , so I used those.","body":"No, the content provider is implementing ITreeContentProvider as I was not understand how to filter items with content provider. My filter needs to work same like FilteredTree and org.eclipse.ui.dialogs.PatternFilter , so I used those."}],"owner":{"account_id":7595573,"reputation":101,"user_id":5761837,"accept_rate":17,"display_name":"A.Goel"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674545951,"creation_date":1674536526,"question_id":75217580,"body_markdown":"I have used a filtered tree in order to filter the contents.\r\nIf filter text is having some text, in this case tree is expanding properly.\r\nBut If the filter text is empty, then tree is not expanding at all.\r\n\r\nCan some one guide me how to expand the filter tree if I the filter text becomes empty?\r\n\r\nAlso, In the beginning when Tree is having lot of data and I am  expanding it by `treeViewer.expandAll()` then it takes lot of time to open the dialog.\r\nSo, how to handle that performance?\r\n\r\nCode Sample\r\n\r\n    FilteredTree filterTree = new FilteredTree(parent, SWT.VIRTUAL | SWT.BORDER, new PatternFilter());\r\n    filterTree.setQuickSelectionMode(true);\r\n    treeViewer = filterTree.getViewer();\r\n    treeViewer.setContentProvider(contentProvider);\r\n    treeViewer.setInput(input);\r\n    treeViewer.setLabelProvider(new LabelProvider());\r\n    treeViewer.expandAll();\r\n\r\n","title":"How to expand a FilteredTree after the filteration?","body":"<p>I have used a filtered tree in order to filter the contents.\nIf filter text is having some text, in this case tree is expanding properly.\nBut If the filter text is empty, then tree is not expanding at all.</p>\n<p>Can some one guide me how to expand the filter tree if I the filter text becomes empty?</p>\n<p>Also, In the beginning when Tree is having lot of data and I am  expanding it by <code>treeViewer.expandAll()</code> then it takes lot of time to open the dialog.\nSo, how to handle that performance?</p>\n<p>Code Sample</p>\n<pre><code>FilteredTree filterTree = new FilteredTree(parent, SWT.VIRTUAL | SWT.BORDER, new PatternFilter());\nfilterTree.setQuickSelectionMode(true);\ntreeViewer = filterTree.getViewer();\ntreeViewer.setContentProvider(contentProvider);\ntreeViewer.setInput(input);\ntreeViewer.setLabelProvider(new LabelProvider());\ntreeViewer.expandAll();\n</code></pre>\n"},{"tags":["java","spring-boot","cors"],"comments":[{"owner":{"account_id":1674328,"reputation":2652,"user_id":1540177,"display_name":"grekier"},"score":0,"creation_date":1674545276,"post_id":75218419,"comment_id":132730921,"body_markdown":"Not sure what happens here but your code also sets allowed methods to all of them but response headers says only GET. I noticed that the response seems to come from nginx so there might be some proxy configuration that needs changing...","body":"Not sure what happens here but your code also sets allowed methods to all of them but response headers says only GET. I noticed that the response seems to come from nginx so there might be some proxy configuration that needs changing..."},{"owner":{"account_id":6840936,"reputation":619,"user_id":5261352,"display_name":"Ashish Bhosle"},"score":0,"creation_date":1674545938,"post_id":75218419,"comment_id":132731073,"body_markdown":"Hey @grekier, when I do a preflight from CURL it seems to be working. I have updated that info to the question","body":"Hey @grekier, when I do a preflight from CURL it seems to be working. I have updated that info to the question"},{"owner":{"account_id":1674328,"reputation":2652,"user_id":1540177,"display_name":"grekier"},"score":0,"creation_date":1674549121,"post_id":75218419,"comment_id":132731909,"body_markdown":"To me, it seems that curl get to Spring Boot but the browser did not. Do you have a proxy in between? If so, can you share its config?","body":"To me, it seems that curl get to Spring Boot but the browser did not. Do you have a proxy in between? If so, can you share its config?"}],"owner":{"account_id":6840936,"reputation":619,"user_id":5261352,"display_name":"Ashish Bhosle"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":276,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674545867,"creation_date":1674544513,"question_id":75218419,"body_markdown":"I am getting **Credential is not supported if the CORS header &#39;Access-Control-Allow-Origin&#39; is &#39;*&#39;** error. Below is the response of preflight request\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAs you can see the value of **access-control-allow-origin** is set to **\\***. It should be value of origin header in the request. Because of this **\\*** I am getting above error.\r\n\r\nIf I invoke preflight from CURL, I get the correct response,\r\n\r\n[![enter image description here][2]][2]\r\n\r\nBelow is my CORS filter,\r\n\r\n\r\n```\r\n@Bean\r\n    public CorsFilter corsFilter() {\r\n        List&lt;String&gt; allowedMethods = Arrays.asList(&quot;GET&quot;, &quot;PUT&quot;, &quot;DELETE&quot;, &quot;PATCH&quot;, &quot;POST&quot;, &quot;HEAD&quot;, &quot;OPTIONS&quot;);\r\n        CorsConfiguration config = new CorsConfiguration();\r\n        config.setAllowedOriginPatterns(corsUrls);\r\n        config.setAllowedMethods(allowedMethods);\r\n        config.setAllowCredentials(true);\r\n        config.addAllowedHeader(ALL);\r\n\r\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\r\n        source.registerCorsConfiguration(&quot;/**&quot;, config);\r\n\r\n        return new CorsFilter(source);\r\n    }\r\n```\r\n\r\nBut for actual request it sets value of **access-control-allow-origin** to value of origin header in the request.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Hwknn.png\r\n  [2]: https://i.stack.imgur.com/03hPo.png","title":"Spring boot CORS withCredentials","body":"<p>I am getting <strong>Credential is not supported if the CORS header 'Access-Control-Allow-Origin' is '*'</strong> error. Below is the response of preflight request</p>\n<p><a href=\"https://i.stack.imgur.com/Hwknn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Hwknn.png\" alt=\"enter image description here\" /></a></p>\n<p>As you can see the value of <strong>access-control-allow-origin</strong> is set to <strong>*</strong>. It should be value of origin header in the request. Because of this <strong>*</strong> I am getting above error.</p>\n<p>If I invoke preflight from CURL, I get the correct response,</p>\n<p><a href=\"https://i.stack.imgur.com/03hPo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/03hPo.png\" alt=\"enter image description here\" /></a></p>\n<p>Below is my CORS filter,</p>\n<pre><code>@Bean\n    public CorsFilter corsFilter() {\n        List&lt;String&gt; allowedMethods = Arrays.asList(&quot;GET&quot;, &quot;PUT&quot;, &quot;DELETE&quot;, &quot;PATCH&quot;, &quot;POST&quot;, &quot;HEAD&quot;, &quot;OPTIONS&quot;);\n        CorsConfiguration config = new CorsConfiguration();\n        config.setAllowedOriginPatterns(corsUrls);\n        config.setAllowedMethods(allowedMethods);\n        config.setAllowCredentials(true);\n        config.addAllowedHeader(ALL);\n\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\n        source.registerCorsConfiguration(&quot;/**&quot;, config);\n\n        return new CorsFilter(source);\n    }\n</code></pre>\n<p>But for actual request it sets value of <strong>access-control-allow-origin</strong> to value of origin header in the request.</p>\n"},{"tags":["java","scala","apache-spark","nosuchmethoderror","spark-streaming-kafka"],"comments":[{"owner":{"account_id":9096979,"reputation":4448,"user_id":6770614,"display_name":"Boris Azanov"},"score":1,"creation_date":1674502319,"post_id":75214160,"comment_id":132723550,"body_markdown":"maybe answer is here https://stackoverflow.com/a/67779298/6770614","body":"maybe answer is here <a href=\"https://stackoverflow.com/a/67779298/6770614\">stackoverflow.com/a/67779298/6770614</a>"},{"owner":{"account_id":2503348,"reputation":48669,"user_id":5249621,"display_name":"Dmytro Mitin"},"score":0,"creation_date":1674545892,"post_id":75214160,"comment_id":132731060,"body_markdown":"`NoSuchMethodError` https://stackoverflow.com/questions/35186/how-do-i-fix-a-nosuchmethoderror https://stackoverflow.com/questions/8168052/java-lang-nosuchmethoderror-when-the-method-definitely-exists https://stackoverflow.com/questions/59706633/nosuchmethoderror-java","body":"<code>NoSuchMethodError</code> <a href=\"https://stackoverflow.com/questions/35186/how-do-i-fix-a-nosuchmethoderror\" title=\"how do i fix a nosuchmethoderror\">stackoverflow.com/questions/35186/&hellip;</a> <a href=\"https://stackoverflow.com/questions/8168052/java-lang-nosuchmethoderror-when-the-method-definitely-exists\" title=\"java lang nosuchmethoderror when the method definitely exists\">stackoverflow.com/questions/8168052/&hellip;</a> <a href=\"https://stackoverflow.com/questions/59706633/nosuchmethoderror-java\" title=\"nosuchmethoderror java\">stackoverflow.com/questions/59706633/nosuchmethoderror-java</a>"},{"owner":{"account_id":2503348,"reputation":48669,"user_id":5249621,"display_name":"Dmytro Mitin"},"score":0,"creation_date":1674546318,"post_id":75214160,"comment_id":132731166,"body_markdown":"*&quot;I have compiled an Uber JAR, so all dependencies are included.&quot;* How do you manage duplicates? (For example in sbt with sbt-assembly plugin there can be issues if a wrong merge strategy is chosen: https://stackoverflow.com/questions/74800073/ https://stackoverflow.com/questions/74809158/ https://stackoverflow.com/questions/74879217 https://stackoverflow.com/questions/25144484 https://stackoverflow.com/questions/74881933/)","body":"<i>&quot;I have compiled an Uber JAR, so all dependencies are included.&quot;</i> How do you manage duplicates? (For example in sbt with sbt-assembly plugin there can be issues if a wrong merge strategy is chosen: <a href=\"https://stackoverflow.com/questions/74800073/\">stackoverflow.com/questions/74800073</a> <a href=\"https://stackoverflow.com/questions/74809158/\">stackoverflow.com/questions/74809158</a> <a href=\"https://stackoverflow.com/questions/74879217\">stackoverflow.com/questions/74879217</a> <a href=\"https://stackoverflow.com/questions/25144484\">stackoverflow.com/questions/25144484</a> <a href=\"https://stackoverflow.com/questions/74881933/\">stackoverflow.com/questions/74881933</a>)"},{"owner":{"account_id":2503348,"reputation":48669,"user_id":5249621,"display_name":"Dmytro Mitin"},"score":0,"creation_date":1674546352,"post_id":75214160,"comment_id":132731173,"body_markdown":"Could you show your build file? (`pom.xml`?)","body":"Could you show your build file? (<code>pom.xml</code>?)"}],"owner":{"account_id":244890,"reputation":14524,"user_id":518012,"accept_rate":66,"display_name":"Eugene Goldberg"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":372,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674545810,"creation_date":1674502057,"question_id":75214160,"body_markdown":"I have a simple Spark streaming java program:\r\n\r\n    import org.apache.kafka.clients.consumer.ConsumerRecord;\r\n    import org.apache.spark.SparkConf;\r\n    import org.apache.spark.streaming.Durations;\r\n    import org.apache.spark.streaming.api.java.*;\r\n    import org.apache.spark.streaming.kafka010.*;\r\n    import org.apache.kafka.common.serialization.StringDeserializer;\r\n    import java.util.Arrays;\r\n    import java.util.Collection;\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    \r\n    public class KafkaStreamingExample {\r\n        public static void main(String[] args) throws InterruptedException {\r\n            SparkConf conf = new SparkConf().setAppName(&quot;KafkaStreamingExample&quot;).setMaster(&quot;local[2]&quot;);\r\n            JavaStreamingContext jssc = new JavaStreamingContext(conf, Durations.seconds(5));\r\n    \r\n            Map&lt;String, Object&gt; kafkaParams = new HashMap&lt;&gt;();\r\n            kafkaParams.put(&quot;bootstrap.servers&quot;, &quot;localhost:9092&quot;);\r\n            kafkaParams.put(&quot;key.deserializer&quot;, StringDeserializer.class);\r\n            kafkaParams.put(&quot;value.deserializer&quot;, StringDeserializer.class);\r\n            kafkaParams.put(&quot;group.id&quot;, &quot;group1&quot;);\r\n            kafkaParams.put(&quot;auto.offset.reset&quot;, &quot;latest&quot;);\r\n            kafkaParams.put(&quot;enable.auto.commit&quot;, false);\r\n    \r\n            Collection&lt;String&gt; topics = Arrays.asList(&quot;dbserver1.inventory.customers&quot;);\r\n    \r\n            JavaInputDStream&lt;ConsumerRecord&lt;String, String&gt;&gt; stream =\r\n                    KafkaUtils.createDirectStream(\r\n                            jssc,\r\n                            LocationStrategies.PreferConsistent(),\r\n                            ConsumerStrategies.&lt;String, String&gt;Subscribe(topics, kafkaParams)\r\n                    );\r\n    \r\n            stream.foreachRDD(rdd -&gt; {\r\n                rdd.foreach(record -&gt; {\r\n                    System.out.println(record.value());\r\n                });\r\n            });\r\n    \r\n            jssc.start();\r\n            jssc.awaitTermination();\r\n        }\r\n    }\r\n\r\n\r\nThis program is compiled against Java 1.8 SDK and is supposed to stream some data coming from a Kafka topic.\r\n\r\nI have compiled an Uber JAR, so all dependencies are included.\r\n\r\nI am submitting this to my Spark 3.3.1 cluster using this command:\r\n\r\n    ./bin/spark-submit --class KafkaStreamingExample --master yarn --deploy-mode client --executor-memory 2g --num-executors 1 kafka-streaming-example-jar-with-dependencies.jar\r\n\r\n\r\nI get this error when the job is submitted:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NoSuchMethodError: scala.collection.immutable.Map$.apply(Lscala/collection/immutable/Seq;)Ljava/lang/Object;\r\n    \tat org.apache.spark.streaming.kafka010.DirectKafkaInputDStream.&lt;init&gt;(DirectKafkaInputDStream.scala:68)\r\n    \tat org.apache.spark.streaming.kafka010.KafkaUtils$.createDirectStream(KafkaUtils.scala:136)\r\n    \tat org.apache.spark.streaming.kafka010.KafkaUtils$.createDirectStream(KafkaUtils.scala:115)\r\n    \tat org.apache.spark.streaming.kafka010.KafkaUtils$.createDirectStream(KafkaUtils.scala:156)\r\n    \tat org.apache.spark.streaming.kafka010.KafkaUtils.createDirectStream(KafkaUtils.scala)\r\n    \tat KafkaStreamingExample.main(KafkaStreamingExample.java:28)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.apache.spark.deploy.JavaMainApplication.start(SparkApplication.scala:52)\r\n    \tat org.apache.spark.deploy.SparkSubmit.org$apache$spark$deploy$SparkSubmit$$runMain(SparkSubmit.scala:958)\r\n    \tat org.apache.spark.deploy.SparkSubmit.doRunMain$1(SparkSubmit.scala:180)\r\n    \tat org.apache.spark.deploy.SparkSubmit.submit(SparkSubmit.scala:203)\r\n    \tat org.apache.spark.deploy.SparkSubmit.doSubmit(SparkSubmit.scala:90)\r\n    \tat org.apache.spark.deploy.SparkSubmit$$anon$2.doSubmit(SparkSubmit.scala:1046)\r\n    \tat org.apache.spark.deploy.SparkSubmit$.main(SparkSubmit.scala:1055)\r\n    \tat org.apache.spark.deploy.SparkSubmit.main(SparkSubmit.scala)\r\n\r\n\r\nWhat should I change to overcome this error?","title":"Spark Streaming - NoSuchMethodError: scala.collection.immutable.Map$.apply","body":"<p>I have a simple Spark streaming java program:</p>\n<pre><code>import org.apache.kafka.clients.consumer.ConsumerRecord;\nimport org.apache.spark.SparkConf;\nimport org.apache.spark.streaming.Durations;\nimport org.apache.spark.streaming.api.java.*;\nimport org.apache.spark.streaming.kafka010.*;\nimport org.apache.kafka.common.serialization.StringDeserializer;\nimport java.util.Arrays;\nimport java.util.Collection;\nimport java.util.HashMap;\nimport java.util.Map;\n\npublic class KafkaStreamingExample {\n    public static void main(String[] args) throws InterruptedException {\n        SparkConf conf = new SparkConf().setAppName(&quot;KafkaStreamingExample&quot;).setMaster(&quot;local[2]&quot;);\n        JavaStreamingContext jssc = new JavaStreamingContext(conf, Durations.seconds(5));\n\n        Map&lt;String, Object&gt; kafkaParams = new HashMap&lt;&gt;();\n        kafkaParams.put(&quot;bootstrap.servers&quot;, &quot;localhost:9092&quot;);\n        kafkaParams.put(&quot;key.deserializer&quot;, StringDeserializer.class);\n        kafkaParams.put(&quot;value.deserializer&quot;, StringDeserializer.class);\n        kafkaParams.put(&quot;group.id&quot;, &quot;group1&quot;);\n        kafkaParams.put(&quot;auto.offset.reset&quot;, &quot;latest&quot;);\n        kafkaParams.put(&quot;enable.auto.commit&quot;, false);\n\n        Collection&lt;String&gt; topics = Arrays.asList(&quot;dbserver1.inventory.customers&quot;);\n\n        JavaInputDStream&lt;ConsumerRecord&lt;String, String&gt;&gt; stream =\n                KafkaUtils.createDirectStream(\n                        jssc,\n                        LocationStrategies.PreferConsistent(),\n                        ConsumerStrategies.&lt;String, String&gt;Subscribe(topics, kafkaParams)\n                );\n\n        stream.foreachRDD(rdd -&gt; {\n            rdd.foreach(record -&gt; {\n                System.out.println(record.value());\n            });\n        });\n\n        jssc.start();\n        jssc.awaitTermination();\n    }\n}\n</code></pre>\n<p>This program is compiled against Java 1.8 SDK and is supposed to stream some data coming from a Kafka topic.</p>\n<p>I have compiled an Uber JAR, so all dependencies are included.</p>\n<p>I am submitting this to my Spark 3.3.1 cluster using this command:</p>\n<pre><code>./bin/spark-submit --class KafkaStreamingExample --master yarn --deploy-mode client --executor-memory 2g --num-executors 1 kafka-streaming-example-jar-with-dependencies.jar\n</code></pre>\n<p>I get this error when the job is submitted:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoSuchMethodError: scala.collection.immutable.Map$.apply(Lscala/collection/immutable/Seq;)Ljava/lang/Object;\n    at org.apache.spark.streaming.kafka010.DirectKafkaInputDStream.&lt;init&gt;(DirectKafkaInputDStream.scala:68)\n    at org.apache.spark.streaming.kafka010.KafkaUtils$.createDirectStream(KafkaUtils.scala:136)\n    at org.apache.spark.streaming.kafka010.KafkaUtils$.createDirectStream(KafkaUtils.scala:115)\n    at org.apache.spark.streaming.kafka010.KafkaUtils$.createDirectStream(KafkaUtils.scala:156)\n    at org.apache.spark.streaming.kafka010.KafkaUtils.createDirectStream(KafkaUtils.scala)\n    at KafkaStreamingExample.main(KafkaStreamingExample.java:28)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.apache.spark.deploy.JavaMainApplication.start(SparkApplication.scala:52)\n    at org.apache.spark.deploy.SparkSubmit.org$apache$spark$deploy$SparkSubmit$$runMain(SparkSubmit.scala:958)\n    at org.apache.spark.deploy.SparkSubmit.doRunMain$1(SparkSubmit.scala:180)\n    at org.apache.spark.deploy.SparkSubmit.submit(SparkSubmit.scala:203)\n    at org.apache.spark.deploy.SparkSubmit.doSubmit(SparkSubmit.scala:90)\n    at org.apache.spark.deploy.SparkSubmit$$anon$2.doSubmit(SparkSubmit.scala:1046)\n    at org.apache.spark.deploy.SparkSubmit$.main(SparkSubmit.scala:1055)\n    at org.apache.spark.deploy.SparkSubmit.main(SparkSubmit.scala)\n</code></pre>\n<p>What should I change to overcome this error?</p>\n"},{"tags":["java","gradle"],"answers":[{"tags":[],"owner":{"account_id":2501651,"reputation":816,"user_id":2176572,"accept_rate":100,"display_name":"bashnesnos"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1476175336,"creation_date":1476175336,"answer_id":39973464,"question_id":39966465,"body_markdown":"You&#39;ve pretty much answered your question yourself:\r\n\r\n&gt; it looks like this may be more limited to **compiling** with a separate version of java, **not executing**\r\n\r\nRun Gradle under the Java 8 (that would mean specifying your JAVA_HOME as JDK 8), and fork the compiler for your app with Java 6 (as per your research).","title":"How to execute gradle plugin with different version of java","body":"<p>You've pretty much answered your question yourself:</p>\n\n<blockquote>\n  <p>it looks like this may be more limited to <strong>compiling</strong> with a separate version of java, <strong>not executing</strong></p>\n</blockquote>\n\n<p>Run Gradle under the Java 8 (that would mean specifying your JAVA_HOME as JDK 8), and fork the compiler for your app with Java 6 (as per your research).</p>\n"}],"owner":{"account_id":6199432,"reputation":912,"user_id":4829765,"accept_rate":82,"display_name":"Andrew"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":429,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":39973464,"answer_count":1,"score":0,"last_activity_date":1674545463,"creation_date":1476132295,"question_id":39966465,"body_markdown":"I am running into an issue with my gradle build script, `build.gradle`, for my *java* project. In this script I need to compile the application with *Java* 6 in order to comply with the application specifications. However, I am also using a gradle plugin that performs code analysis that needs to be run under a *Java* 8 JVM. What do I need to do in `build.gradle` or other gradle settings in order to get this plugin to use a separate *Java* JVM? \r\n\r\nI need to do something like this as gradle tasks fail because the plugin is reporting a `Unsupported major.minor version 52.0` Error.  \r\n\r\n**Research**  \r\n\r\nI have done some invesitigation and I did see the following mentioned: \r\n```\r\noptions.fork = true\r\noptions.forkOptions.executable = System.getenv(&#39;OTHER_JAVA&#39;)\r\n```  \r\n\r\nWhere `OTHER_JAVA` is an environment variable to the other version of *Java*. However, I have not been able to get this to work for the plug-in and after some more research, it looks like this may be more limited to **compiling** with a separate version of java, not **executing**.  \r\nSee: https://stackoverflow.com/questions/18487406/how-do-i-tell-gradle-to-use-specific-jdk-version\r\n\r\n\r\n","title":"How to execute gradle plugin with different version of java","body":"<p>I am running into an issue with my gradle build script, <code>build.gradle</code>, for my <em>java</em> project. In this script I need to compile the application with <em>Java</em> 6 in order to comply with the application specifications. However, I am also using a gradle plugin that performs code analysis that needs to be run under a <em>Java</em> 8 JVM. What do I need to do in <code>build.gradle</code> or other gradle settings in order to get this plugin to use a separate <em>Java</em> JVM? </p>\n\n<p>I need to do something like this as gradle tasks fail because the plugin is reporting a <code>Unsupported major.minor version 52.0</code> Error.  </p>\n\n<p><strong>Research</strong>  </p>\n\n<p>I have done some invesitigation and I did see the following mentioned: \n<code>\noptions.fork = true\noptions.forkOptions.executable = System.getenv('OTHER_JAVA')\n</code>  </p>\n\n<p>Where <code>OTHER_JAVA</code> is an environment variable to the other version of <em>Java</em>. However, I have not been able to get this to work for the plug-in and after some more research, it looks like this may be more limited to <strong>compiling</strong> with a separate version of java, not <strong>executing</strong>.<br>\nSee: <a href=\"https://stackoverflow.com/questions/18487406/how-do-i-tell-gradle-to-use-specific-jdk-version\">How do I tell Gradle to use specific JDK version?</a></p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":462886,"reputation":2853,"user_id":865448,"accept_rate":82,"display_name":"tostao"},"score":1,"creation_date":1674545585,"post_id":75218546,"comment_id":132730987,"body_markdown":"Please take a look on this question: https://stackoverflow.com/questions/2661536/how-to-programmatically-take-a-screenshot-on-android","body":"Please take a look on this question: <a href=\"https://stackoverflow.com/questions/2661536/how-to-programmatically-take-a-screenshot-on-android\" title=\"how to programmatically take a screenshot on android\">stackoverflow.com/questions/2661536/&hellip;</a>"},{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1674564707,"post_id":75218546,"comment_id":132736645,"body_markdown":"&quot;but every screenshot,it will pop up a window&quot; -- it will only display a window once per process invocation.","body":"&quot;but every screenshot,it will pop up a window&quot; -- it will only display a window once per process invocation."}],"owner":{"account_id":27606951,"reputation":1,"user_id":21070860,"display_name":"androidfans"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1674548075,"answer_count":0,"score":0,"last_activity_date":1674545405,"creation_date":1674545405,"question_id":75218546,"body_markdown":"   I want my app  to take a screenshot of another screen every 5 minutes from a background service.I know ,MediaProjection API can achieve this,but every screenshot,it will pop up a window ,u need  to click &#39;start immediately&#39;,that is not acceptable,i need take  screenshot automatically,can someone give me some advice,thanks!\r\n  i heard that    AccessibilityService has the ability of takeScreenshot,someone can give me a demo demonstrating it,thanks!\r\nthat is ths API\r\n\r\ntakeScreenshot\r\nAdded in API level 30\r\n\r\npublic void takeScreenshot (int displayId, \r\n                Executor executor, \r\n                AccessibilityService.TakeScreenshotCallback callback)\r\nTakes a screenshot of the specified display and returns it via an AccessibilityService.ScreenshotResult. You can use Bitmap#wrapHardwareBuffer to construct the bitmap from the ScreenshotResult&#39;s payload.\r\n\r\nNote: In order to take screenshot your service has to declare the capability to take screenshot by setting the R.styleable.AccessibilityService_canTakeScreenshot property in its meta-data. For details refer to SERVICE_META_DATA.\r\n\r\nParameters\r\ndisplayId\tint: The logic display id, must be Display#DEFAULT_DISPLAY for default display.\r\nexecutor\tExecutor: Executor on which to run the callback. This value cannot be null. Callback and listener events are dispatched through this Executor, providing an easy way to control which thread is used. To dispatch events through the main thread of your application, you can use Context.getMainExecutor(). Otherwise, provide an Executor that dispatches to an appropriate thread.\r\ncallback\tAccessibilityService.TakeScreenshotCallback: The callback invoked when taking screenshot has succeeded or failed. See TakeScreenshotCallback for details. This value cannot be null.\r\n\r\n   I want my app  to take a screenshot of another screen every 5 minutes from a background service.I know ,MediaProjection API can achieve this,but every screenshot,it will pop up a window ,u need  to click &#39;start immediately&#39;,that is not acceptable,i need take  screenshot automatically,can someone give me some advice,thanks!\r\n  i heard that    AccessibilityService has the ability of takeScreenshot,someone can give me a demo demonstrating it,thanks!\r\nthat is ths API\r\n\r\ntakeScreenshot\r\nAdded in API level 30\r\n\r\npublic void takeScreenshot (int displayId, \r\n                Executor executor, \r\n                AccessibilityService.TakeScreenshotCallback callback)\r\nTakes a screenshot of the specified display and returns it via an AccessibilityService.ScreenshotResult. You can use Bitmap#wrapHardwareBuffer to construct the bitmap from the ScreenshotResult&#39;s payload.\r\n\r\nNote: In order to take screenshot your service has to declare the capability to take screenshot by setting the R.styleable.AccessibilityService_canTakeScreenshot property in its meta-data. For details refer to SERVICE_META_DATA.\r\n\r\nParameters\r\ndisplayId\tint: The logic display id, must be Display#DEFAULT_DISPLAY for default display.\r\nexecutor\tExecutor: Executor on which to run the callback. This value cannot be null. Callback and listener events are dispatched through this Executor, providing an easy way to control which thread is used. To dispatch events through the main thread of your application, you can use Context.getMainExecutor(). Otherwise, provide an Executor that dispatches to an appropriate thread.\r\ncallback\tAccessibilityService.TakeScreenshotCallback: The callback invoked when taking screenshot has succeeded or failed. See TakeScreenshotCallback for details. This value cannot be null.","title":"how to programmatically take a screenshot of android device?","body":"<p>I want my app  to take a screenshot of another screen every 5 minutes from a background service.I know ,MediaProjection API can achieve this,but every screenshot,it will pop up a window ,u need  to click 'start immediately',that is not acceptable,i need take  screenshot automatically,can someone give me some advice,thanks!\ni heard that    AccessibilityService has the ability of takeScreenshot,someone can give me a demo demonstrating it,thanks!\nthat is ths API</p>\n<p>takeScreenshot\nAdded in API level 30</p>\n<p>public void takeScreenshot (int displayId,\nExecutor executor,\nAccessibilityService.TakeScreenshotCallback callback)\nTakes a screenshot of the specified display and returns it via an AccessibilityService.ScreenshotResult. You can use Bitmap#wrapHardwareBuffer to construct the bitmap from the ScreenshotResult's payload.</p>\n<p>Note: In order to take screenshot your service has to declare the capability to take screenshot by setting the R.styleable.AccessibilityService_canTakeScreenshot property in its meta-data. For details refer to SERVICE_META_DATA.</p>\n<p>Parameters\ndisplayId   int: The logic display id, must be Display#DEFAULT_DISPLAY for default display.\nexecutor    Executor: Executor on which to run the callback. This value cannot be null. Callback and listener events are dispatched through this Executor, providing an easy way to control which thread is used. To dispatch events through the main thread of your application, you can use Context.getMainExecutor(). Otherwise, provide an Executor that dispatches to an appropriate thread.\ncallback    AccessibilityService.TakeScreenshotCallback: The callback invoked when taking screenshot has succeeded or failed. See TakeScreenshotCallback for details. This value cannot be null.</p>\n<p>I want my app  to take a screenshot of another screen every 5 minutes from a background service.I know ,MediaProjection API can achieve this,but every screenshot,it will pop up a window ,u need  to click 'start immediately',that is not acceptable,i need take  screenshot automatically,can someone give me some advice,thanks!\ni heard that    AccessibilityService has the ability of takeScreenshot,someone can give me a demo demonstrating it,thanks!\nthat is ths API</p>\n<p>takeScreenshot\nAdded in API level 30</p>\n<p>public void takeScreenshot (int displayId,\nExecutor executor,\nAccessibilityService.TakeScreenshotCallback callback)\nTakes a screenshot of the specified display and returns it via an AccessibilityService.ScreenshotResult. You can use Bitmap#wrapHardwareBuffer to construct the bitmap from the ScreenshotResult's payload.</p>\n<p>Note: In order to take screenshot your service has to declare the capability to take screenshot by setting the R.styleable.AccessibilityService_canTakeScreenshot property in its meta-data. For details refer to SERVICE_META_DATA.</p>\n<p>Parameters\ndisplayId   int: The logic display id, must be Display#DEFAULT_DISPLAY for default display.\nexecutor    Executor: Executor on which to run the callback. This value cannot be null. Callback and listener events are dispatched through this Executor, providing an easy way to control which thread is used. To dispatch events through the main thread of your application, you can use Context.getMainExecutor(). Otherwise, provide an Executor that dispatches to an appropriate thread.\ncallback    AccessibilityService.TakeScreenshotCallback: The callback invoked when taking screenshot has succeeded or failed. See TakeScreenshotCallback for details. This value cannot be null.</p>\n"},{"tags":["java","kubernetes","tomcat","dockerfile"],"comments":[{"owner":{"account_id":25444108,"reputation":1042,"user_id":19246531,"display_name":"Nataraj Medayhal"},"score":0,"creation_date":1674536089,"post_id":75215396,"comment_id":132729421,"body_markdown":"it will certainly work. one another option is loading site specific values using config map as env variables, which can be used directly in server.xml file","body":"it will certainly work. one another option is loading site specific values using config map as env variables, which can be used directly in server.xml file"}],"answers":[{"tags":[],"owner":{"account_id":4243,"reputation":1301840,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674545121,"creation_date":1674545121,"answer_id":75218510,"question_id":75215396,"body_markdown":"To illustrate [Nataraj Medayhal][1], you can find an example based on configMap on [`devlinx9/k8s_tomcat_custer`][2]\r\n\r\n&gt; The configMap is used to control the configuration of tomcat, in this we added the cluster configuration, save the following text in a file `configmap-tomcat.yaml`\r\n&gt;\r\n&gt; ``` yaml\r\n&gt; apiVersion: v1\r\n&gt;kind: ConfigMap\r\n&gt;metadata:\r\n&gt;  name: testconfig\r\n&gt;data:\r\n&gt;  server.xml: |\r\n&gt;    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&gt;\r\n&gt;    &lt;Server port=&quot;8005&quot; shutdown=&quot;SHUTDOWN&quot;&gt;\r\n&gt;      &lt;Listener className=&quot;org.apache.catalina.startup.VersionLoggerListener&quot; /&gt;\r\n&gt;\r\n&gt;      &lt;Listener className=&quot;org.apache.catalina.core.AprLifecycleListener&quot; SSLEngine=&quot;on&quot; /&gt;\r\n&gt; ...\r\n&gt;    &lt;/Server&gt;\r\n&gt; ```\r\n&gt; Create the configMap:\r\n&gt;\r\n&gt;     kubectl apply -f configmap-tomcat.yaml -n {namespace}\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/19246531/nataraj-medayhal\r\n  [2]: https://github.com/devlinx9/k8s_tomcat_custer","title":"Kubernetes deployment of tomcat docker image needs custom server,xml","body":"<p>To illustrate <a href=\"https://stackoverflow.com/users/19246531/nataraj-medayhal\">Nataraj Medayhal</a>, you can find an example based on configMap on <a href=\"https://github.com/devlinx9/k8s_tomcat_custer\" rel=\"nofollow noreferrer\"><code>devlinx9/k8s_tomcat_custer</code></a></p>\n<blockquote>\n<p>The configMap is used to control the configuration of tomcat, in this we added the cluster configuration, save the following text in a file <code>configmap-tomcat.yaml</code></p>\n<pre class=\"lang-yaml prettyprint-override\"><code>apiVersion: v1\nkind: ConfigMap\nmetadata:\n name: testconfig\ndata:\n server.xml: |\n   &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n   &lt;Server port=&quot;8005&quot; shutdown=&quot;SHUTDOWN&quot;&gt;\n     &lt;Listener className=&quot;org.apache.catalina.startup.VersionLoggerListener&quot; /&gt;\n\n     &lt;Listener className=&quot;org.apache.catalina.core.AprLifecycleListener&quot; SSLEngine=&quot;on&quot; /&gt;\n...\n   &lt;/Server&gt;\n</code></pre>\n<p>Create the configMap:</p>\n<pre><code>kubectl apply -f configmap-tomcat.yaml -n {namespace}\n</code></pre>\n</blockquote>\n"}],"owner":{"account_id":1188304,"reputation":29,"user_id":1161783,"display_name":"Mark Jaffe"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":171,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1674545121,"creation_date":1674510571,"question_id":75215396,"body_markdown":"When deploying the app, certain environment-specific settings need to be applied to the server.xml, which cannot be applied when the container is built. Has anyone tried using a volume_mounted config file, and where would I tell tomcat the location of this custom config?","title":"Kubernetes deployment of tomcat docker image needs custom server,xml","body":"<p>When deploying the app, certain environment-specific settings need to be applied to the server.xml, which cannot be applied when the container is built. Has anyone tried using a volume_mounted config file, and where would I tell tomcat the location of this custom config?</p>\n"},{"tags":["java","amazon-web-services","docker","amazon-ecs"],"comments":[{"owner":{"account_id":8704066,"reputation":812,"user_id":6512807,"display_name":"Vikram S"},"score":2,"creation_date":1674551303,"post_id":75218231,"comment_id":132732575,"body_markdown":"Can you share how the port mapping looks in your taskdef, it is generally better idea to use dynamic ports in taskdef","body":"Can you share how the port mapping looks in your taskdef, it is generally better idea to use dynamic ports in taskdef"}],"owner":{"account_id":27606831,"reputation":1,"user_id":21070769,"display_name":"Prem Kagrani"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674544722,"creation_date":1674542843,"question_id":75218231,"body_markdown":"Facing the following issue where the instance is getting deregistered and registered again in target group upon deployment.\r\nAs per ECS Agent logs, the port is already allocated but there should be nothing running there as it is a new instance provisioned. The service starts on that instance after multiple deregistering and registering.\r\n\r\n\r\n```\r\nerror transitioning container [service-name (Runtime ID: 1b85055bb8bc3a35480c99186d4e4bbae1adrar55aca3ba64464087a0fb65bbc7ac)] to [RUNNING]: Error response from daemon: driver failed programming external connectivity on endpoint ecs-service-name-16-service-name-82e4b9a5b68etaebeee9901 (06c5f822887754656976e52cbedce0074rar0243e56d7a2aeaf194469e2189048a7): Bind for 0.0.0.0:8080 failed: port is already allocated&quot; module=docker_task_engine.go\r\n```","title":"Instance Deregestering and registering again in target group in Amazon ECS Spot Instance","body":"<p>Facing the following issue where the instance is getting deregistered and registered again in target group upon deployment.\nAs per ECS Agent logs, the port is already allocated but there should be nothing running there as it is a new instance provisioned. The service starts on that instance after multiple deregistering and registering.</p>\n<pre><code>error transitioning container [service-name (Runtime ID: 1b85055bb8bc3a35480c99186d4e4bbae1adrar55aca3ba64464087a0fb65bbc7ac)] to [RUNNING]: Error response from daemon: driver failed programming external connectivity on endpoint ecs-service-name-16-service-name-82e4b9a5b68etaebeee9901 (06c5f822887754656976e52cbedce0074rar0243e56d7a2aeaf194469e2189048a7): Bind for 0.0.0.0:8080 failed: port is already allocated&quot; module=docker_task_engine.go\n</code></pre>\n"},{"tags":["java","android","database"],"owner":{"account_id":27595911,"reputation":11,"user_id":21062157,"display_name":"Salma Abakil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674543852,"creation_date":1674422213,"question_id":75203976,"body_markdown":"I want to add a new button in my project that can delete some of the number and names that I saved.&lt;br&gt; \r\nI am totally new to Android Studio, so I don&#180;t know how to write my code that it will work the way I want it.\r\n\r\n    MainActivity(Register) :\r\n    \r\n    \r\n    public class MainActivity extends Activity {\r\n    \r\n        EditText name,number;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n        }\r\n    \r\n        public void display(View v) {\r\n            Intent i_view=new Intent(MainActivity.this,Display.class);\r\n            startActivity(i_view);\r\n    \r\n        }\r\n    \r\n    \r\n        public void storeInDB(View v) {\r\n            Toast.makeText(getApplicationContext(), &quot;Start Save&quot;,Toast.LENGTH_LONG).show();\r\n            name = (EditText) this.findViewById(R.id.textView1);\r\n            number = (EditText) this.findViewById(R.id.textView2);\r\n            String str_name=name.getText().toString();\r\n            String str_number=number.getText().toString();\r\n            SQLiteDatabase db;\r\n            db=openOrCreateDatabase(&quot;NumDB&quot;, Context.MODE_PRIVATE, null);\r\n    \r\n            db.execSQL(&quot;CREATE TABLE IF NOT EXISTS details(name VARCHAR,number VARCHAR);&quot;);\r\n    \r\n            Cursor c=db.rawQuery(&quot;SELECT * FROM details&quot;, null);\r\n            if(c.getCount()&lt;20)\r\n            {\r\n                db.execSQL(&quot;INSERT INTO details VALUES(&#39;&quot;+str_name+&quot;&#39;,&#39;&quot;+str_number+&quot;&#39;);&quot;);\r\n                Toast.makeText(getApplicationContext(), &quot;Save successfuly&quot;,Toast.LENGTH_SHORT).show();\r\n            }\r\n    \r\n    \r\n            db.close();\r\n    \r\n        }\r\n    }\r\n\r\nAnd Display :\r\n\r\n    public class Display extends Activity {\r\n    \r\n        Cursor c;\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_display);\r\n    \r\n    \r\n            SQLiteDatabase db;\r\n            db=openOrCreateDatabase(&quot;NumDB&quot;, Context.MODE_PRIVATE, null);\r\n    \r\n            c=db.rawQuery(&quot;SELECT * FROM details&quot;, null);\r\n            if(c.getCount()==0)\r\n            {\r\n                showMessage(&quot;Error&quot;, &quot;No records found.&quot;);\r\n                return;\r\n            }\r\n            StringBuffer buffer=new StringBuffer();\r\n            while(c.moveToNext())\r\n            {\r\n                buffer.append(&quot; &quot;+c.getString(0)+&quot;\\n&quot;);\r\n                buffer.append(&quot; &quot;+c.getString(1)+&quot;\\n&quot;);\r\n            }\r\n            showMessage(&quot;Contact&quot;, buffer.toString());\r\n    \r\n    \r\n        }\r\n    \r\n        public void showMessage(String title,String message)\r\n        {\r\n            Builder builder=new Builder(this);\r\n            builder.setCancelable(true);\r\n            builder.setTitle(title);\r\n            builder.setMessage(message);\r\n            builder.show();\r\n        }\r\n\r\n\r\n}\r\n\r\n\r\n\r\nThe code is working fine but I want to add a button that allows me to delete all the numbers and names that I saved,&#39;your text&#39;\r\n\r\n\r\n","title":"Delete data save with button click","body":"<p>I want to add a new button in my project that can delete some of the number and names that I saved.<br>\nI am totally new to Android Studio, so I don´t know how to write my code that it will work the way I want it.</p>\n<pre><code>MainActivity(Register) :\n\n\npublic class MainActivity extends Activity {\n\n    EditText name,number;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n    }\n\n    public void display(View v) {\n        Intent i_view=new Intent(MainActivity.this,Display.class);\n        startActivity(i_view);\n\n    }\n\n\n    public void storeInDB(View v) {\n        Toast.makeText(getApplicationContext(), &quot;Start Save&quot;,Toast.LENGTH_LONG).show();\n        name = (EditText) this.findViewById(R.id.textView1);\n        number = (EditText) this.findViewById(R.id.textView2);\n        String str_name=name.getText().toString();\n        String str_number=number.getText().toString();\n        SQLiteDatabase db;\n        db=openOrCreateDatabase(&quot;NumDB&quot;, Context.MODE_PRIVATE, null);\n\n        db.execSQL(&quot;CREATE TABLE IF NOT EXISTS details(name VARCHAR,number VARCHAR);&quot;);\n\n        Cursor c=db.rawQuery(&quot;SELECT * FROM details&quot;, null);\n        if(c.getCount()&lt;20)\n        {\n            db.execSQL(&quot;INSERT INTO details VALUES('&quot;+str_name+&quot;','&quot;+str_number+&quot;');&quot;);\n            Toast.makeText(getApplicationContext(), &quot;Save successfuly&quot;,Toast.LENGTH_SHORT).show();\n        }\n\n\n        db.close();\n\n    }\n}\n</code></pre>\n<p>And Display :</p>\n<pre><code>public class Display extends Activity {\n\n    Cursor c;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_display);\n\n\n        SQLiteDatabase db;\n        db=openOrCreateDatabase(&quot;NumDB&quot;, Context.MODE_PRIVATE, null);\n\n        c=db.rawQuery(&quot;SELECT * FROM details&quot;, null);\n        if(c.getCount()==0)\n        {\n            showMessage(&quot;Error&quot;, &quot;No records found.&quot;);\n            return;\n        }\n        StringBuffer buffer=new StringBuffer();\n        while(c.moveToNext())\n        {\n            buffer.append(&quot; &quot;+c.getString(0)+&quot;\\n&quot;);\n            buffer.append(&quot; &quot;+c.getString(1)+&quot;\\n&quot;);\n        }\n        showMessage(&quot;Contact&quot;, buffer.toString());\n\n\n    }\n\n    public void showMessage(String title,String message)\n    {\n        Builder builder=new Builder(this);\n        builder.setCancelable(true);\n        builder.setTitle(title);\n        builder.setMessage(message);\n        builder.show();\n    }\n</code></pre>\n<p>}</p>\n<p>The code is working fine but I want to add a button that allows me to delete all the numbers and names that I saved,'your text'</p>\n"},{"tags":["java","spring","multithreading","hazelcast"],"comments":[{"owner":{"account_id":1511851,"reputation":999,"user_id":1413756,"accept_rate":37,"display_name":"Dan"},"score":0,"creation_date":1674580373,"post_id":75218263,"comment_id":132742537,"body_markdown":"Have you looked at possibly providing a LOCK timeout on the TX?   Something described here https://www.baeldung.com/java-jpa-transaction-locks","body":"Have you looked at possibly providing a LOCK timeout on the TX?   Something described here <a href=\"https://www.baeldung.com/java-jpa-transaction-locks\" rel=\"nofollow noreferrer\">baeldung.com/java-jpa-transaction-locks</a>"},{"owner":{"account_id":8480454,"reputation":11,"user_id":6360306,"display_name":"wmel"},"score":0,"creation_date":1674634241,"post_id":75218263,"comment_id":132753831,"body_markdown":"@Dan it doesn&#39;t look like the issue is with the Hibernate locking, the Hazelcast thread itself is blocked on the object, that is currently locked by main thread","body":"@Dan it doesn&#39;t look like the issue is with the Hibernate locking, the Hazelcast thread itself is blocked on the object, that is currently locked by main thread"}],"owner":{"account_id":8480454,"reputation":11,"user_id":6360306,"display_name":"wmel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674543090,"creation_date":1674543090,"question_id":75218263,"body_markdown":"I have a weird problem with my Spring application with Hazelcast caching on applicatin startup\r\n\r\nWhen some beans are creating the main thread has to get some items from HZ map, then HZ thread tries to lock the already locked by main thread object and becomes blocked.\r\n\r\nSo the Spring config would be\r\n\r\n```\r\n&lt;bean id=&quot;holder&quot; class=&quot;org.example.api.Holder&quot;&gt;\r\n    &lt;constructor-arg&gt;\r\n        &lt;bean factory-bean=&quot;cachedRepository&quot; factory-method=&quot;getAllValueIds&quot;&gt;\r\n            &lt;constructor-arg&gt;\r\n                &lt;util:constant static-field=&quot;org.example.api.domain.MyStaticField.SOME_FIELD&quot;/&gt;\r\n            &lt;/constructor-arg&gt;\r\n        &lt;/bean&gt;\r\n    &lt;/constructor-arg&gt;\r\n&lt;/bean&gt;\r\n\r\n&lt;bean id=&quot;cachedRepository&quot; class=&quot;org.example.api.repository.CachedRepository&quot;&gt;\r\n    &lt;property name=&quot;byIdCache&quot;&gt;\r\n        &lt;bean factory-bean=&quot;hazelcastInstance&quot; factory-method=&quot;getMap&quot;&gt;\r\n            &lt;constructor-arg value=&quot;byId&quot;/&gt;\r\n        &lt;/bean&gt;\r\n    &lt;/property&gt;\r\n&lt;/bean&gt;\r\n```\r\n\r\non CachedRepository I&#39;d have\r\n\r\n```\r\npublic List&lt;Integer&gt; getAllValueIds(SomeField someField) {\r\n    return byIdCache.get(someField);\r\n}\r\n```\r\n\r\nhere I have a Holder bean that should be initialized with a list of Integers from cachedRepository, which will get it from the byIdCache from HZ using map loader\r\n\r\nmain thread dump:\r\n\r\n```\r\n&quot;org.example.Launcher.main()&quot; #25 prio=5 os_prio=0 tid=0x000001b6ef442800 nid=0x578 waiting on condition [0x0000000b5f0f9000]\r\n   java.lang.Thread.State: WAITING (parking)\r\n\tat sun.misc.Unsafe.park(Native Method)\r\n\tat java.util.concurrent.locks.LockSupport.park(LockSupport.java:304)\r\n\tat com.hazelcast.spi.impl.AbstractInvocationFuture.get(AbstractInvocationFuture.java:160)\r\n\tat com.hazelcast.map.impl.proxy.MapProxySupport.invokeOperation(MapProxySupport.java:434)\r\n\tat com.hazelcast.map.impl.proxy.MapProxySupport.getInternal(MapProxySupport.java:351)\r\n\tat com.hazelcast.map.impl.proxy.NearCachedMapProxyImpl.getInternal(NearCachedMapProxyImpl.java:115)\r\n\tat com.hazelcast.map.impl.proxy.MapProxyImpl.get(MapProxyImpl.java:120)\r\n\tat org.example.api.repository.CachedRepository.getById(CachedRepository.java:21)\r\n\tat org.example.api.repository.CachedRepository.getAllValueIds(CachedRepository.java:43)\r\n\tat org.example.api.Holder.init(Holder.java:51)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeCustomInitMethod(AbstractAutowireCapableBeanFactory.java:1763)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1700)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1630)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:312)\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\r\n\t- locked &lt;0x00000006ca38d540&gt; (a java.util.concurrent.ConcurrentHashMap)\r\n```\r\n\r\nHZ thread dump:\r\n\r\n```\r\n&quot;hz.application.partition-operation.thread-4&quot; #89 prio=5 os_prio=0 tid=0x000001b6ed53e000 nid=0x32a4 waiting for monitor entry [0x0000000b637fe000]\r\n   java.lang.Thread.State: BLOCKED (on object monitor)\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:188)\r\n\t- waiting to lock &lt;0x00000006ca38d540&gt; (a java.util.concurrent.ConcurrentHashMap)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.isTypeMatch(AbstractBeanFactory.java:492)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doGetBeanNamesForType(DefaultListableBeanFactory.java:432)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanNamesForType(DefaultListableBeanFactory.java:403)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanNamesForType(DefaultListableBeanFactory.java:389)\r\n\tat org.springframework.beans.factory.BeanFactoryUtils.beanNamesForTypeIncludingAncestors(BeanFactoryUtils.java:170)\r\n\tat org.springframework.beans.factory.annotation.BeanFactoryAnnotationUtils.qualifiedBeanOfType(BeanFactoryAnnotationUtils.java:89)\r\n\tat org.springframework.beans.factory.annotation.BeanFactoryAnnotationUtils.qualifiedBeanOfType(BeanFactoryAnnotationUtils.java:66)\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.determineQualifiedTransactionManager(TransactionAspectSupport.java:396)\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.determineTransactionManager(TransactionAspectSupport.java:377)\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:272)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:671)\r\n\tat org.example.api.cache.MapLoader$$EnhancerBySpringCGLIB$$d59bbb21.load(&lt;generated&gt;)\r\n\tat com.hazelcast.map.impl.MapStoreWrapper.load(MapStoreWrapper.java:165)\r\n\tat com.hazelcast.map.impl.mapstore.writethrough.WriteThroughStore.load(WriteThroughStore.java:72)\r\n\tat com.hazelcast.map.impl.mapstore.writethrough.WriteThroughStore.load(WriteThroughStore.java:28)\r\n\tat com.hazelcast.map.impl.recordstore.DefaultRecordStore.loadRecordOrNull(DefaultRecordStore.java:325)\r\n\tat com.hazelcast.map.impl.recordstore.DefaultRecordStore.get(DefaultRecordStore.java:513)\r\n\tat com.hazelcast.map.impl.operation.GetOperation.run(GetOperation.java:41)\r\n\tat com.hazelcast.spi.Operation.call(Operation.java:170)\r\n\tat com.hazelcast.spi.impl.operationservice.impl.OperationRunnerImpl.call(OperationRunnerImpl.java:208)\r\n\tat com.hazelcast.spi.impl.operationservice.impl.OperationRunnerImpl.run(OperationRunnerImpl.java:197)\r\n\tat com.hazelcast.spi.impl.operationexecutor.impl.OperationThread.process(OperationThread.java:147)\r\n\tat com.hazelcast.spi.impl.operationexecutor.impl.OperationThread.process(OperationThread.java:125)\r\n\tat com.hazelcast.spi.impl.operationexecutor.impl.OperationThread.run(OperationThread.java:110)\r\n```\r\n\r\nyou can see that main thread locked the object\r\n\r\n`- locked &lt;0x00000006ca38d540&gt; (a java.util.concurrent.ConcurrentHashMap)`\r\n\r\nand then HZ one blocked waiting to lock it too\r\n\r\n`&quot;hz.application.partition-operation.thread-4&quot; #89 prio=5 os_prio=0 tid=0x000001b6ed53e000 nid=0x32a4 waiting for monitor entry [0x0000000b637fe000]`\r\n`java.lang.Thread.State: BLOCKED (on object monitor)`\r\n`at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:188)`\r\n`- waiting to lock &lt;0x00000006ca38d540&gt; (a java.util.concurrent.ConcurrentHashMap)`\r\n\r\nThis same setup works perfectly well on Spring v4.1.3.RELEASE, but is broken on Spring v4.1.4 and forth (cannot check Spring 5 or 6) Hazelcast version is 3.11 in both cases, so I assume the breaking change would be in Spring 4.1.4 somewhere. I can go up to 4.3.30.RELEASE with Spring version, but no further.\r\n\r\nAny ideas how to fix this on Spring 4.1.4-4.3.30 are highly appreciated.","title":"Main thread locks object and blocks HZ thread on Spring startup","body":"<p>I have a weird problem with my Spring application with Hazelcast caching on applicatin startup</p>\n<p>When some beans are creating the main thread has to get some items from HZ map, then HZ thread tries to lock the already locked by main thread object and becomes blocked.</p>\n<p>So the Spring config would be</p>\n<pre><code>&lt;bean id=&quot;holder&quot; class=&quot;org.example.api.Holder&quot;&gt;\n    &lt;constructor-arg&gt;\n        &lt;bean factory-bean=&quot;cachedRepository&quot; factory-method=&quot;getAllValueIds&quot;&gt;\n            &lt;constructor-arg&gt;\n                &lt;util:constant static-field=&quot;org.example.api.domain.MyStaticField.SOME_FIELD&quot;/&gt;\n            &lt;/constructor-arg&gt;\n        &lt;/bean&gt;\n    &lt;/constructor-arg&gt;\n&lt;/bean&gt;\n\n&lt;bean id=&quot;cachedRepository&quot; class=&quot;org.example.api.repository.CachedRepository&quot;&gt;\n    &lt;property name=&quot;byIdCache&quot;&gt;\n        &lt;bean factory-bean=&quot;hazelcastInstance&quot; factory-method=&quot;getMap&quot;&gt;\n            &lt;constructor-arg value=&quot;byId&quot;/&gt;\n        &lt;/bean&gt;\n    &lt;/property&gt;\n&lt;/bean&gt;\n</code></pre>\n<p>on CachedRepository I'd have</p>\n<pre><code>public List&lt;Integer&gt; getAllValueIds(SomeField someField) {\n    return byIdCache.get(someField);\n}\n</code></pre>\n<p>here I have a Holder bean that should be initialized with a list of Integers from cachedRepository, which will get it from the byIdCache from HZ using map loader</p>\n<p>main thread dump:</p>\n<pre><code>&quot;org.example.Launcher.main()&quot; #25 prio=5 os_prio=0 tid=0x000001b6ef442800 nid=0x578 waiting on condition [0x0000000b5f0f9000]\n   java.lang.Thread.State: WAITING (parking)\n    at sun.misc.Unsafe.park(Native Method)\n    at java.util.concurrent.locks.LockSupport.park(LockSupport.java:304)\n    at com.hazelcast.spi.impl.AbstractInvocationFuture.get(AbstractInvocationFuture.java:160)\n    at com.hazelcast.map.impl.proxy.MapProxySupport.invokeOperation(MapProxySupport.java:434)\n    at com.hazelcast.map.impl.proxy.MapProxySupport.getInternal(MapProxySupport.java:351)\n    at com.hazelcast.map.impl.proxy.NearCachedMapProxyImpl.getInternal(NearCachedMapProxyImpl.java:115)\n    at com.hazelcast.map.impl.proxy.MapProxyImpl.get(MapProxyImpl.java:120)\n    at org.example.api.repository.CachedRepository.getById(CachedRepository.java:21)\n    at org.example.api.repository.CachedRepository.getAllValueIds(CachedRepository.java:43)\n    at org.example.api.Holder.init(Holder.java:51)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeCustomInitMethod(AbstractAutowireCapableBeanFactory.java:1763)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1700)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1630)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:312)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\n    - locked &lt;0x00000006ca38d540&gt; (a java.util.concurrent.ConcurrentHashMap)\n</code></pre>\n<p>HZ thread dump:</p>\n<pre><code>&quot;hz.application.partition-operation.thread-4&quot; #89 prio=5 os_prio=0 tid=0x000001b6ed53e000 nid=0x32a4 waiting for monitor entry [0x0000000b637fe000]\n   java.lang.Thread.State: BLOCKED (on object monitor)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:188)\n    - waiting to lock &lt;0x00000006ca38d540&gt; (a java.util.concurrent.ConcurrentHashMap)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.isTypeMatch(AbstractBeanFactory.java:492)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doGetBeanNamesForType(DefaultListableBeanFactory.java:432)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanNamesForType(DefaultListableBeanFactory.java:403)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanNamesForType(DefaultListableBeanFactory.java:389)\n    at org.springframework.beans.factory.BeanFactoryUtils.beanNamesForTypeIncludingAncestors(BeanFactoryUtils.java:170)\n    at org.springframework.beans.factory.annotation.BeanFactoryAnnotationUtils.qualifiedBeanOfType(BeanFactoryAnnotationUtils.java:89)\n    at org.springframework.beans.factory.annotation.BeanFactoryAnnotationUtils.qualifiedBeanOfType(BeanFactoryAnnotationUtils.java:66)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.determineQualifiedTransactionManager(TransactionAspectSupport.java:396)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.determineTransactionManager(TransactionAspectSupport.java:377)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:272)\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:671)\n    at org.example.api.cache.MapLoader$$EnhancerBySpringCGLIB$$d59bbb21.load(&lt;generated&gt;)\n    at com.hazelcast.map.impl.MapStoreWrapper.load(MapStoreWrapper.java:165)\n    at com.hazelcast.map.impl.mapstore.writethrough.WriteThroughStore.load(WriteThroughStore.java:72)\n    at com.hazelcast.map.impl.mapstore.writethrough.WriteThroughStore.load(WriteThroughStore.java:28)\n    at com.hazelcast.map.impl.recordstore.DefaultRecordStore.loadRecordOrNull(DefaultRecordStore.java:325)\n    at com.hazelcast.map.impl.recordstore.DefaultRecordStore.get(DefaultRecordStore.java:513)\n    at com.hazelcast.map.impl.operation.GetOperation.run(GetOperation.java:41)\n    at com.hazelcast.spi.Operation.call(Operation.java:170)\n    at com.hazelcast.spi.impl.operationservice.impl.OperationRunnerImpl.call(OperationRunnerImpl.java:208)\n    at com.hazelcast.spi.impl.operationservice.impl.OperationRunnerImpl.run(OperationRunnerImpl.java:197)\n    at com.hazelcast.spi.impl.operationexecutor.impl.OperationThread.process(OperationThread.java:147)\n    at com.hazelcast.spi.impl.operationexecutor.impl.OperationThread.process(OperationThread.java:125)\n    at com.hazelcast.spi.impl.operationexecutor.impl.OperationThread.run(OperationThread.java:110)\n</code></pre>\n<p>you can see that main thread locked the object</p>\n<p><code>- locked &lt;0x00000006ca38d540&gt; (a java.util.concurrent.ConcurrentHashMap)</code></p>\n<p>and then HZ one blocked waiting to lock it too</p>\n<p><code>&quot;hz.application.partition-operation.thread-4&quot; #89 prio=5 os_prio=0 tid=0x000001b6ed53e000 nid=0x32a4 waiting for monitor entry [0x0000000b637fe000]</code>\n<code>java.lang.Thread.State: BLOCKED (on object monitor)</code>\n<code>at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:188)</code>\n<code>- waiting to lock &lt;0x00000006ca38d540&gt; (a java.util.concurrent.ConcurrentHashMap)</code></p>\n<p>This same setup works perfectly well on Spring v4.1.3.RELEASE, but is broken on Spring v4.1.4 and forth (cannot check Spring 5 or 6) Hazelcast version is 3.11 in both cases, so I assume the breaking change would be in Spring 4.1.4 somewhere. I can go up to 4.3.30.RELEASE with Spring version, but no further.</p>\n<p>Any ideas how to fix this on Spring 4.1.4-4.3.30 are highly appreciated.</p>\n"},{"tags":["java","garbage-collection","java-11"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1674544378,"post_id":75218209,"comment_id":132730742,"body_markdown":"That sounds just like normal behavior to me.  What makes you think it is not normal and/or problematic?","body":"That sounds just like normal behavior to me.  What makes you think it is not normal and/or problematic?"},{"owner":{"account_id":199544,"reputation":53,"user_id":1240100,"accept_rate":60,"display_name":"Archana"},"score":0,"creation_date":1674548366,"post_id":75218209,"comment_id":132731688,"body_markdown":"The memory consumption with the new GC looks weird! it always uses the entire heap and also doesn&#39;t release it till its needed","body":"The memory consumption with the new GC looks weird! it always uses the entire heap and also doesn&#39;t release it till its needed"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1674550908,"post_id":75218209,"comment_id":132732466,"body_markdown":"Ask the person who told you to specify the options `-XX:InitiatingHeapOccupancyPercent=30` and `-XX:G1ReservePercent=20` Apparently, this person is already an expert on G1GC and can tell you everything.","body":"Ask the person who told you to specify the options <code>-XX:InitiatingHeapOccupancyPercent=30</code> and <code>-XX:G1ReservePercent=20</code> Apparently, this person is already an expert on G1GC and can tell you everything."},{"owner":{"account_id":199544,"reputation":53,"user_id":1240100,"accept_rate":60,"display_name":"Archana"},"score":0,"creation_date":1674552222,"post_id":75218209,"comment_id":132732839,"body_markdown":"I set this up after several iterations of performance testing that is the reason i am a bit skeptical as there is no hard and fast rule for these flags to be set up.","body":"I set this up after several iterations of performance testing that is the reason i am a bit skeptical as there is no hard and fast rule for these flags to be set up."},{"owner":{"account_id":54150,"reputation":2013,"user_id":161995,"accept_rate":100,"display_name":"Erik"},"score":0,"creation_date":1674635843,"post_id":75218209,"comment_id":132754283,"body_markdown":"So you tried out with the minimum set of behaviour flags and ended up where you are now?","body":"So you tried out with the minimum set of behaviour flags and ended up where you are now?"},{"owner":{"account_id":199544,"reputation":53,"user_id":1240100,"accept_rate":60,"display_name":"Archana"},"score":0,"creation_date":1674641342,"post_id":75218209,"comment_id":132756032,"body_markdown":"Yes, That&#39;s right!","body":"Yes, That&#39;s right!"}],"owner":{"account_id":199544,"reputation":53,"user_id":1240100,"accept_rate":60,"display_name":"Archana"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":420,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674542662,"creation_date":1674542662,"question_id":75218209,"body_markdown":"I need some guidance related to Java 11 GC algorithm for JVM. We are migrating our application from jdk 8 to Java11. We are seeing spikes in memory management with the new GC algorithm that is defaulted with Java11 ie., GC1. Earlier we used CMS. Earlier our JVM startup params for the GC as below:\r\nApplication Infrastructure : 8 core CPU, 16GB RAM Linux EC2 (c5.2xlarge)\r\n\r\n    JDK 8 : -d64 -server -Xms4g -Xmx12g -XX:NewRatio=1 -XX:SurvivorRatio=4 -verbose:gc -Xloggc:gc.log -XX:+PrintGCDetails -XX:+PrintGCTimeStamps -XX:+UseConcMarkSweepGC -XX:ThreadStackSize=1024 -XX:+OptimizeStringConcat -XX:CMSInitiatingOccupancyFraction=70\r\n\r\nHere we see the average memory usage at 4gb to 6gb when there is full load on the system.\r\n\r\n    Java11 : -server -Xms12g -Xmx12g -verbose:gc -Xlog:gc:gc.log -XX:+PrintGCDetails -XX:+UseG1GC -XX:InitiatingHeapOccupancyPercent=30 -XX:G1ReservePercent=20 -XX:+UseStringDeduplication -Xlog:safePoint -XX:ThreadStackSize=1024 -XX:+OptimizeStringConcat\r\n\r\nHere we see the average memory usage gradually increase and go up till 90% on full load and that&#39;s when the GC runs and frees up the space. Also, we do not see the memory usage coming down when there is no load or 0 load on the system. I read that this is the expected behavior of Gc1\r\nKindly Advice!\r\nApplication behavior is similar is both cases","title":"Java 11 GC1 GC memory management issue","body":"<p>I need some guidance related to Java 11 GC algorithm for JVM. We are migrating our application from jdk 8 to Java11. We are seeing spikes in memory management with the new GC algorithm that is defaulted with Java11 ie., GC1. Earlier we used CMS. Earlier our JVM startup params for the GC as below:\nApplication Infrastructure : 8 core CPU, 16GB RAM Linux EC2 (c5.2xlarge)</p>\n<pre><code>JDK 8 : -d64 -server -Xms4g -Xmx12g -XX:NewRatio=1 -XX:SurvivorRatio=4 -verbose:gc -Xloggc:gc.log -XX:+PrintGCDetails -XX:+PrintGCTimeStamps -XX:+UseConcMarkSweepGC -XX:ThreadStackSize=1024 -XX:+OptimizeStringConcat -XX:CMSInitiatingOccupancyFraction=70\n</code></pre>\n<p>Here we see the average memory usage at 4gb to 6gb when there is full load on the system.</p>\n<pre><code>Java11 : -server -Xms12g -Xmx12g -verbose:gc -Xlog:gc:gc.log -XX:+PrintGCDetails -XX:+UseG1GC -XX:InitiatingHeapOccupancyPercent=30 -XX:G1ReservePercent=20 -XX:+UseStringDeduplication -Xlog:safePoint -XX:ThreadStackSize=1024 -XX:+OptimizeStringConcat\n</code></pre>\n<p>Here we see the average memory usage gradually increase and go up till 90% on full load and that's when the GC runs and frees up the space. Also, we do not see the memory usage coming down when there is no load or 0 load on the system. I read that this is the expected behavior of Gc1\nKindly Advice!\nApplication behavior is similar is both cases</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":22195690,"reputation":51,"user_id":16437129,"display_name":"Azaan Wani"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1674541597,"creation_date":1674541597,"answer_id":75218085,"question_id":75218022,"body_markdown":"    String message = &quot;Your OTP for Darshann is 1234&quot;;\r\n    \r\n    // split the message by &quot;is&quot;\r\n    String[] parts = message.split(&quot;is &quot;);\r\n    \r\n    \r\n    String OTP = parts[1];\r\n    \r\n    // rgx\r\n    Pattern pattern = Pattern.compile(&quot;\\\\d+&quot;);\r\n    Matcher matcher = pattern.matcher(OTP);\r\n    \r\n    if (matcher.find()) {\r\n        String OTPnumber = matcher.group();\r\n        System.out.print(&quot;OTP is: &quot; + OTPnumber);\r\n    } else {\r\n        System.out.println(&quot;not found&quot;);\r\n    }","title":"How to read number from given text in java","body":"<pre><code>String message = &quot;Your OTP for Darshann is 1234&quot;;\n\n// split the message by &quot;is&quot;\nString[] parts = message.split(&quot;is &quot;);\n\n\nString OTP = parts[1];\n\n// rgx\nPattern pattern = Pattern.compile(&quot;\\\\d+&quot;);\nMatcher matcher = pattern.matcher(OTP);\n\nif (matcher.find()) {\n    String OTPnumber = matcher.group();\n    System.out.print(&quot;OTP is: &quot; + OTPnumber);\n} else {\n    System.out.println(&quot;not found&quot;);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5144211,"reputation":21,"user_id":4120636,"display_name":"Atanas Popov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1674542511,"creation_date":1674542511,"answer_id":75218188,"question_id":75218022,"body_markdown":"By replacing with empty string `&quot;&quot;` you are concatenating the numbers. This is why have incorrect results. \r\nTry this instead:\r\n\r\n```\r\nString str=&quot;Your OTP for Darshann is : 9999%n 12341234123&quot;;\r\n    \r\nString numberOnly= str.replaceAll(&quot;[^0-9]&quot;, &quot; &quot;);\r\nList&lt;String&gt; numbers = Arrays.asList(numberOnly.trim().split(&quot; &quot;)).stream()\r\n        .filter(s-&gt;!s.isBlank())\r\n        .collect(Collectors.toList());\r\nSystem.out.println(numbers);\r\n```\r\n\r\nThis would give a list of all numbers found in the text:\r\n```\r\n[9999, 12341234123]\r\n```\r\n\r\nOf course if there is more than one number in the string this function will produce more than one result.","title":"How to read number from given text in java","body":"<p>By replacing with empty string <code>&quot;&quot;</code> you are concatenating the numbers. This is why have incorrect results.\nTry this instead:</p>\n<pre><code>String str=&quot;Your OTP for Darshann is : 9999%n 12341234123&quot;;\n    \nString numberOnly= str.replaceAll(&quot;[^0-9]&quot;, &quot; &quot;);\nList&lt;String&gt; numbers = Arrays.asList(numberOnly.trim().split(&quot; &quot;)).stream()\n        .filter(s-&gt;!s.isBlank())\n        .collect(Collectors.toList());\nSystem.out.println(numbers);\n</code></pre>\n<p>This would give a list of all numbers found in the text:</p>\n<pre><code>[9999, 12341234123]\n</code></pre>\n<p>Of course if there is more than one number in the string this function will produce more than one result.</p>\n"}],"owner":{"account_id":1995082,"reputation":143,"user_id":1788205,"display_name":"MARSH"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75218085,"answer_count":2,"score":-1,"last_activity_date":1674542511,"creation_date":1674541085,"question_id":75218022,"body_markdown":"I am trying to read otp number from given String  i have applied this below string but i am getting two number can any one please help me how to get otp number\r\n\r\n    String str=&quot;Your OTP for Darshann is : 9999%n 12341234123&quot;;\r\n    String numberOnly= str.replaceAll(&quot;[^0-9]&quot;, &quot;&quot;);\r\n\r\nI want to read  number just after Your OTP for Darshann is : this text which is 9999 i ","title":"How to read number from given text in java","body":"<p>I am trying to read otp number from given String  i have applied this below string but i am getting two number can any one please help me how to get otp number</p>\n<pre><code>String str=&quot;Your OTP for Darshann is : 9999%n 12341234123&quot;;\nString numberOnly= str.replaceAll(&quot;[^0-9]&quot;, &quot;&quot;);\n</code></pre>\n<p>I want to read  number just after Your OTP for Darshann is : this text which is 9999 i</p>\n"},{"tags":["java","android","android-edittext"],"comments":[{"owner":{"account_id":5639561,"reputation":888,"user_id":4463882,"accept_rate":50,"display_name":"Ganpat Kaliya"},"score":1,"creation_date":1443173576,"post_id":15602391,"comment_id":53396552,"body_markdown":"you can use tx.getText().toString().equals(&quot;bla&quot;) in place of == and its work.","body":"you can use tx.getText().toString().equals(&quot;bla&quot;) in place of == and its work."}],"answers":[{"tags":[],"owner":{"account_id":1914082,"reputation":20095,"user_id":1727092,"accept_rate":100,"display_name":"Pragnani"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1364150612,"creation_date":1364150180,"answer_id":15602408,"question_id":15602391,"body_markdown":"You should use equals\r\n\r\n    if(tx.getText().toString().equals(&quot;bla&quot;))\r\n\r\nequals compares the string, but == compares the objects.\r\n\r\nAs `@Frank` suggested in order to avoid NPE compare like this\r\n\r\n    if(&quot;bla&quot;.equals(tx.getText().toString()))","title":"editText.toString==&quot;something&quot; always false","body":"<p>You should use equals</p>\n\n<pre><code>if(tx.getText().toString().equals(\"bla\"))\n</code></pre>\n\n<p>equals compares the string, but == compares the objects.</p>\n\n<p>As <code>@Frank</code> suggested in order to avoid NPE compare like this</p>\n\n<pre><code>if(\"bla\".equals(tx.getText().toString()))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1036855,"reputation":13858,"user_id":1043882,"accept_rate":79,"display_name":"hasanghaforian"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1364150270,"creation_date":1364150270,"answer_id":15602423,"question_id":15602391,"body_markdown":"You have not use &quot;==&quot; for testing equality of two strings.Use `equals` method of String class.","title":"editText.toString==&quot;something&quot; always false","body":"<p>You have not use \"==\" for testing equality of two strings.Use <code>equals</code> method of String class.</p>\n"},{"tags":[],"owner":{"account_id":904333,"reputation":394,"user_id":939574,"display_name":"NullData"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1364150338,"creation_date":1364150338,"answer_id":15602433,"question_id":15602391,"body_markdown":"When you compare two `String` objects, you don&#39;t compare their literal value. You check if they are the same object, which is usually not the case. That&#39;s why you want to use `mystring.equals(&quot;my string litereal&quot;)` instead.","title":"editText.toString==&quot;something&quot; always false","body":"<p>When you compare two <code>String</code> objects, you don't compare their literal value. You check if they are the same object, which is usually not the case. That's why you want to use <code>mystring.equals(\"my string litereal\")</code> instead.</p>\n"}],"owner":{"display_name":"user2157119"},"comment_count":1,"delete_vote_count":2,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":490,"favorite_count":0,"down_vote_count":26,"up_vote_count":3,"closed_date":1364150570,"answer_count":3,"score":-23,"last_activity_date":1674542219,"creation_date":1364150108,"question_id":15602391,"body_markdown":"I am trying to check if text in editText is equal to some string.\r\nThis is my if statement (it comes every time I press a button):\r\n\r\n`if(tx.getText().toString()==&quot;bla&quot;)`\r\n\r\nThis is tx:\r\n`tx=(EditText)findViewById(R.id.editText1);`\r\n\r\nI don&#39;t know why but the if is never true. I tried to check it by toast this way:\r\n\r\n    Toast.makeText(getApplicationContext(),tx.getText().toString(), Toast.LENGTH_LONG).show();\r\n\r\nAnd it is &quot;bla&quot; but still its false. Why?\r\n","title":"editText.toString==&quot;something&quot; always false","body":"<p>I am trying to check if text in editText is equal to some string.\nThis is my if statement (it comes every time I press a button):</p>\n<p><code>if(tx.getText().toString()==&quot;bla&quot;)</code></p>\n<p>This is tx:\n<code>tx=(EditText)findViewById(R.id.editText1);</code></p>\n<p>I don't know why but the if is never true. I tried to check it by toast this way:</p>\n<pre><code>Toast.makeText(getApplicationContext(),tx.getText().toString(), Toast.LENGTH_LONG).show();\n</code></pre>\n<p>And it is &quot;bla&quot; but still its false. Why?</p>\n"},{"tags":["java","spring-boot","parallel-processing","java-stream","completable-future"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1674552037,"post_id":75218097,"comment_id":132732795,"body_markdown":"For a starter, you fix those tons of errors in your code sample.","body":"For a starter, you fix those tons of errors in your code sample."}],"answers":[{"tags":[],"owner":{"account_id":374094,"reputation":6654,"user_id":724109,"accept_rate":100,"display_name":"Avishek Bhattacharya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674542129,"creation_date":1674542129,"answer_id":75218147,"question_id":75218097,"body_markdown":"All the calls are not happening in parallel. The completable future makes the code asynchronous i.e. the main thread doesn&#39;t wait for the result to be available. However, parallelism depends on how many CPU cores you have, what is the network bandwidth etc. \r\n\r\nIn your case, you are making 100 network calls, these calls will be made asynchronous manner but not necessarily in a parallel manner. Thus you may not see the speed you might hope for. ","title":"CompleteableFuture takes longer time when the dataset or load increases","body":"<p>All the calls are not happening in parallel. The completable future makes the code asynchronous i.e. the main thread doesn't wait for the result to be available. However, parallelism depends on how many CPU cores you have, what is the network bandwidth etc.</p>\n<p>In your case, you are making 100 network calls, these calls will be made asynchronous manner but not necessarily in a parallel manner. Thus you may not see the speed you might hope for.</p>\n"}],"owner":{"account_id":19008999,"reputation":261,"user_id":13875223,"display_name":"suku"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674542129,"creation_date":1674541713,"question_id":75218097,"body_markdown":"I have a requirement where in I need to call 2 apis for 100 users. First API is an oauth api to generate token which takes 2 seconds and the Second call is to actual API using the token generated and that takes around 8-9 seconds. So overall it takes ~10seconds to process  both apis for one user.\r\n\r\nI have written following piece of code using CompleteableFuture logic to achieve the parallel execution aiming that total runtime for 100 users will be approximately equal 10-15 seconds. But that’s not happening though!!\r\n\r\nIf there are just 10 users the overall time to call is 11seonds (time taken for one user is 10seconds).\r\n\r\nFor 20 users, the overall time is 25 seconds((time taken for one user is 10seconds).\r\n\r\nWhereas if there are 100 users (full load) the overall time to call for all 100 users is ~100seconds (time taken for one user is still just 10 seconds)\r\n\r\nMy question is why there is an increase in overall time despite the fact the calls are happening in parallel mode?\r\n\r\nIs there any way to improve this time? I would like to achieve less than 30seconds for 100 users.\r\n\r\n```\r\nExecutor executor = Executors.newFixedThreadPool(100);\r\n\r\nList&lt;CompleteableFutures&lt;listA&gt;&gt; futures = userlist.stream.map(req-&gt;CompleteableFuture.supplyAsync(()-&gt; methodToCallBothApis(reg.getUserId(),executor))).collect(Collectors.toList());\r\n\r\nList&lt;listC&gt; outputList = futures.stream.map(CompleteableFuture::join).collect(Collectors.toList());\r\n```","title":"CompleteableFuture takes longer time when the dataset or load increases","body":"<p>I have a requirement where in I need to call 2 apis for 100 users. First API is an oauth api to generate token which takes 2 seconds and the Second call is to actual API using the token generated and that takes around 8-9 seconds. So overall it takes ~10seconds to process  both apis for one user.</p>\n<p>I have written following piece of code using CompleteableFuture logic to achieve the parallel execution aiming that total runtime for 100 users will be approximately equal 10-15 seconds. But that’s not happening though!!</p>\n<p>If there are just 10 users the overall time to call is 11seonds (time taken for one user is 10seconds).</p>\n<p>For 20 users, the overall time is 25 seconds((time taken for one user is 10seconds).</p>\n<p>Whereas if there are 100 users (full load) the overall time to call for all 100 users is ~100seconds (time taken for one user is still just 10 seconds)</p>\n<p>My question is why there is an increase in overall time despite the fact the calls are happening in parallel mode?</p>\n<p>Is there any way to improve this time? I would like to achieve less than 30seconds for 100 users.</p>\n<pre><code>Executor executor = Executors.newFixedThreadPool(100);\n\nList&lt;CompleteableFutures&lt;listA&gt;&gt; futures = userlist.stream.map(req-&gt;CompleteableFuture.supplyAsync(()-&gt; methodToCallBothApis(reg.getUserId(),executor))).collect(Collectors.toList());\n\nList&lt;listC&gt; outputList = futures.stream.map(CompleteableFuture::join).collect(Collectors.toList());\n</code></pre>\n"},{"tags":["java","arrays","loops"],"answers":[{"tags":[],"owner":{"account_id":349165,"reputation":559,"user_id":684296,"accept_rate":80,"display_name":"Newerth"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674541098,"creation_date":1674541098,"answer_id":75218023,"question_id":75217911,"body_markdown":"Just swap the `compareTo` condition from\r\n```java\r\ntemp.compareTo(arr[possibleIndex - 1]) &lt; 0\r\n```\r\nto\r\n```java\r\ntemp.compareTo(arr[possibleIndex - 1]) &gt; 0\r\n```\r\nThen the output meets the expectations.","title":"insertion sort and printing values","body":"<p>Just swap the <code>compareTo</code> condition from</p>\n<pre class=\"lang-java prettyprint-override\"><code>temp.compareTo(arr[possibleIndex - 1]) &lt; 0\n</code></pre>\n<p>to</p>\n<pre class=\"lang-java prettyprint-override\"><code>temp.compareTo(arr[possibleIndex - 1]) &gt; 0\n</code></pre>\n<p>Then the output meets the expectations.</p>\n"},{"tags":[],"owner":{"account_id":18173939,"reputation":659,"user_id":13223056,"display_name":"KL_KISNE_DEKHA_HAI"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1674541590,"creation_date":1674541590,"answer_id":75218084,"question_id":75217911,"body_markdown":"You need to take care for 2 things:\r\n1. If **size of array is 1** then it should **print the single element** as is.\r\n2. **`temp.compareTo(arr[possibleIndex - 1]) &gt; 0`** should be done since the question asks to be **reverse sorted** (descending order).\r\n```\r\n    public static void sortAndPrintReverse(String [] arr) {\r\n        // size is 1\r\n        if(arr.length==1){\r\n            for (String str : arr) {\r\n                System.out.print(str + &quot; &quot;);\r\n            }\r\n            return;\r\n        }\r\n        \r\n        for (int j = 1; j &lt; arr.length; j++) {\r\n          String temp = arr[j];\r\n          int possibleIndex = j;\r\n          while (possibleIndex &gt; 0 &amp;&amp; temp.compareTo(arr[possibleIndex - 1]) &gt; 0) {\r\n            arr[possibleIndex] = arr[possibleIndex - 1];\r\n            possibleIndex--; \r\n          }\r\n          arr[possibleIndex] = temp;\r\n          for (String str : arr) {\r\n            System.out.print(str + &quot; &quot;);\r\n          }\r\n          System.out.println();\r\n        }\r\n    }\r\n```","title":"insertion sort and printing values","body":"<p>You need to take care for 2 things:</p>\n<ol>\n<li>If <strong>size of array is 1</strong> then it should <strong>print the single element</strong> as is.</li>\n<li><strong><code>temp.compareTo(arr[possibleIndex - 1]) &gt; 0</code></strong> should be done since the question asks to be <strong>reverse sorted</strong> (descending order).</li>\n</ol>\n<pre><code>    public static void sortAndPrintReverse(String [] arr) {\n        // size is 1\n        if(arr.length==1){\n            for (String str : arr) {\n                System.out.print(str + &quot; &quot;);\n            }\n            return;\n        }\n        \n        for (int j = 1; j &lt; arr.length; j++) {\n          String temp = arr[j];\n          int possibleIndex = j;\n          while (possibleIndex &gt; 0 &amp;&amp; temp.compareTo(arr[possibleIndex - 1]) &gt; 0) {\n            arr[possibleIndex] = arr[possibleIndex - 1];\n            possibleIndex--; \n          }\n          arr[possibleIndex] = temp;\n          for (String str : arr) {\n            System.out.print(str + &quot; &quot;);\n          }\n          System.out.println();\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":20456333,"reputation":17,"user_id":15009901,"display_name":"hithit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1674541590,"creation_date":1674540078,"question_id":75217911,"body_markdown":"the prompt says\r\n[![enter image description here][1]][1]\r\n\r\n\r\nso far i&#39;ve done\r\n```\r\npublic class U7_L6_Activity_One {\r\n  public static void sortAndPrintReverse(String [] arr) {\r\n    for (int j = 1; j &lt; arr.length; j++) {\r\n      String temp = arr[j];\r\n      int possibleIndex = j;\r\n      while (possibleIndex &gt; 0 &amp;&amp; temp.compareTo(arr[possibleIndex - 1]) &lt; 0) {\r\n        arr[possibleIndex] = arr[possibleIndex - 1];\r\n        possibleIndex--; \r\n      }\r\n      arr[possibleIndex] = temp;\r\n      for (String str : arr) {\r\n        System.out.print(str + &quot; &quot;);\r\n      }\r\n      System.out.println();\r\n    }\r\n  }\r\n}\r\n```\r\nbut i&#39;m unable to pass three of the test cases and am not sure how to fix the code\r\n[![enter image description here][2]][2]\r\n[![enter image description here][3]][3]\r\n[![enter image description here][4]][4]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/k5BmG.png\r\n  [2]: https://i.stack.imgur.com/R8G5c.png\r\n  [3]: https://i.stack.imgur.com/ZPkZO.png\r\n  [4]: https://i.stack.imgur.com/SlwIu.png","title":"insertion sort and printing values","body":"<p>the prompt says\n<a href=\"https://i.stack.imgur.com/k5BmG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/k5BmG.png\" alt=\"enter image description here\" /></a></p>\n<p>so far i've done</p>\n<pre><code>public class U7_L6_Activity_One {\n  public static void sortAndPrintReverse(String [] arr) {\n    for (int j = 1; j &lt; arr.length; j++) {\n      String temp = arr[j];\n      int possibleIndex = j;\n      while (possibleIndex &gt; 0 &amp;&amp; temp.compareTo(arr[possibleIndex - 1]) &lt; 0) {\n        arr[possibleIndex] = arr[possibleIndex - 1];\n        possibleIndex--; \n      }\n      arr[possibleIndex] = temp;\n      for (String str : arr) {\n        System.out.print(str + &quot; &quot;);\n      }\n      System.out.println();\n    }\n  }\n}\n</code></pre>\n<p>but i'm unable to pass three of the test cases and am not sure how to fix the code\n<a href=\"https://i.stack.imgur.com/R8G5c.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/R8G5c.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/ZPkZO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZPkZO.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/SlwIu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SlwIu.png\" alt=\"enter image description here\" /></a></p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9287,"page":705,"page_size":100}
