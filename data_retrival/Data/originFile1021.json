{"items":[{"tags":["java","maven","environment-variables"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1301646019,"post_id":5510690,"comment_id":6256627,"body_markdown":"I would suggest to get your project running without environment variable. And then move to maven.","body":"I would suggest to get your project running without environment variable. And then move to maven."},{"owner":{"account_id":152633,"reputation":48303,"user_id":367285,"accept_rate":81,"display_name":"FrVaBe"},"score":4,"creation_date":1301943205,"post_id":5510690,"comment_id":6300487,"body_markdown":"There is no reason to skip the usage of environment variables if it is useful for your system and I am quite sure my solution works (I use it myself). See my hint refarding &#39;System.getenv&#39;/&#39;System.getProperty&#39;.","body":"There is no reason to skip the usage of environment variables if it is useful for your system and I am quite sure my solution works (I use it myself). See my hint refarding &#39;System.getenv&#39;/&#39;System.getProperty&#39;."}],"answers":[{"tags":[],"owner":{"account_id":97818,"reputation":114824,"user_id":265143,"accept_rate":72,"display_name":"P&#233;ter T&#246;r&#246;k"},"down_vote_count":5,"up_vote_count":172,"is_accepted":true,"score":167,"last_activity_date":1411372324,"creation_date":1301645617,"answer_id":5510702,"question_id":5510690,"body_markdown":"You can just pass it on the command line, as\n\n    mvn -DmyVariable=someValue install\n\n**[Update]** Note that the order of parameters is significant - you need to specify any options *before* the command(s).**[/Update]**\n\nWithin the POM file, you may refer to system variables (specified on the command line, or in the pom) as `${myVariable}`, and environment variables as `${env.myVariable}`. *(Thanks to commenters for the correction.)*\n\n### Update2\n\nOK, so you want to pass your system variable to your tests. If - as I assume - you use the [Surefire plugin][1] for testing, the best is to specify the needed system variable(s) within the pom, in your `plugins` section, e.g.\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            ...\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                ...\n                &lt;configuration&gt;\n                    ...\n                    &lt;systemPropertyVariables&gt;\n                        &lt;WSNSHELL_HOME&gt;conf&lt;/WSNSHELL_HOME&gt;\n                    &lt;/systemPropertyVariables&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            ...\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n\n  [1]: http://maven.apache.org/plugins/maven-surefire-plugin/","title":"Environment Variable with Maven","body":"<p>You can just pass it on the command line, as</p>\n<pre><code>mvn -DmyVariable=someValue install\n</code></pre>\n<p><strong>[Update]</strong> Note that the order of parameters is significant - you need to specify any options <em>before</em> the command(s).<strong>[/Update]</strong></p>\n<p>Within the POM file, you may refer to system variables (specified on the command line, or in the pom) as <code>${myVariable}</code>, and environment variables as <code>${env.myVariable}</code>. <em>(Thanks to commenters for the correction.)</em></p>\n<h3>Update2</h3>\n<p>OK, so you want to pass your system variable to your tests. If - as I assume - you use the <a href=\"http://maven.apache.org/plugins/maven-surefire-plugin/\" rel=\"noreferrer\">Surefire plugin</a> for testing, the best is to specify the needed system variable(s) within the pom, in your <code>plugins</code> section, e.g.</p>\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n        ...\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n            ...\n            &lt;configuration&gt;\n                ...\n                &lt;systemPropertyVariables&gt;\n                    &lt;WSNSHELL_HOME&gt;conf&lt;/WSNSHELL_HOME&gt;\n                &lt;/systemPropertyVariables&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        ...\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":152633,"reputation":48303,"user_id":367285,"accept_rate":81,"display_name":"FrVaBe"},"down_vote_count":0,"up_vote_count":34,"is_accepted":false,"score":34,"last_activity_date":1302018371,"creation_date":1301775204,"answer_id":5525589,"question_id":5510690,"body_markdown":"The `-D` properties will not be reliable propagated from the surefire-pluging to your test (I do not know why it works with eclipse). When using maven on the command line use the [argLine][1] property to wrap your property. This will pass them to your test\r\n\r\n    mvn -DargLine=&quot;-DWSNSHELL_HOME=conf&quot; test\r\n\r\nUse `System.getProperty` to read the value in your code. Have a look to [this][2] post about the difference of `System.getenv` and `Sytem.getProperty`.\r\n\r\n\r\n  [1]: http://maven.apache.org/plugins/maven-surefire-plugin/test-mojo.html#argLine\r\n  [2]: https://stackoverflow.com/questions/531694/how-can-i-get-system-variable-value-in-java/536150#536150","title":"Environment Variable with Maven","body":"<p>The <code>-D</code> properties will not be reliable propagated from the surefire-pluging to your test (I do not know why it works with eclipse). When using maven on the command line use the <a href=\"http://maven.apache.org/plugins/maven-surefire-plugin/test-mojo.html#argLine\" rel=\"noreferrer\">argLine</a> property to wrap your property. This will pass them to your test</p>\n\n<pre><code>mvn -DargLine=\"-DWSNSHELL_HOME=conf\" test\n</code></pre>\n\n<p>Use <code>System.getProperty</code> to read the value in your code. Have a look to <a href=\"https://stackoverflow.com/questions/531694/how-can-i-get-system-variable-value-in-java/536150#536150\">this</a> post about the difference of <code>System.getenv</code> and <code>Sytem.getProperty</code>.</p>\n"},{"tags":[],"owner":{"account_id":197030,"reputation":1674,"user_id":440827,"accept_rate":86,"display_name":"Christian"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1483524577,"creation_date":1480673252,"answer_id":40929544,"question_id":5510690,"body_markdown":"There is a maven plugin called [properties-maven-plugin][1] this one provides a goal `set-system-properties` to set system variables. This is especially useful if you have a file containing all these properties. So you&#39;re able to read a property file and set them as system variable.\r\n\r\n\r\n  [1]: http://www.mojohaus.org/properties-maven-plugin/usage.html","title":"Environment Variable with Maven","body":"<p>There is a maven plugin called <a href=\"http://www.mojohaus.org/properties-maven-plugin/usage.html\" rel=\"nofollow noreferrer\">properties-maven-plugin</a> this one provides a goal <code>set-system-properties</code> to set system variables. This is especially useful if you have a file containing all these properties. So you're able to read a property file and set them as system variable.</p>\n"},{"tags":[],"owner":{"account_id":2024343,"reputation":924,"user_id":1809799,"display_name":"Ren&#233;"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1495179000,"creation_date":1495179000,"answer_id":44064020,"question_id":5510690,"body_markdown":"Another solution would be to set `MAVEN_OPTS` (or other environment variables) in `${user.home}/.mavenrc` (or `%HOME%\\mavenrc_pre.bat` on windows).\r\n\r\nSince Maven 3.3.1 there are [new possibilities to set mvn command line parameters][1], if this is what you actually want:\r\n\r\n - `${maven.projectBasedir}/.mvn/maven.config`\r\n - `${maven.projectBasedir}/.mvn/jvm.config`\r\n\r\n  [1]: https://maven.apache.org/docs/3.3.1/release-notes.html &quot;Release Notes – Maven 3.3.1&quot;","title":"Environment Variable with Maven","body":"<p>Another solution would be to set <code>MAVEN_OPTS</code> (or other environment variables) in <code>${user.home}/.mavenrc</code> (or <code>%HOME%\\mavenrc_pre.bat</code> on windows).</p>\n\n<p>Since Maven 3.3.1 there are <a href=\"https://maven.apache.org/docs/3.3.1/release-notes.html\" rel=\"noreferrer\" title=\"Release Notes – Maven 3.3.1\">new possibilities to set mvn command line parameters</a>, if this is what you actually want:</p>\n\n<ul>\n<li><code>${maven.projectBasedir}/.mvn/maven.config</code></li>\n<li><code>${maven.projectBasedir}/.mvn/jvm.config</code></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1017650,"reputation":1280,"user_id":1028844,"display_name":"modle13"},"down_vote_count":3,"up_vote_count":28,"is_accepted":false,"score":25,"last_activity_date":1520460587,"creation_date":1520460587,"answer_id":49162015,"question_id":5510690,"body_markdown":"You could wrap your maven command in a bash script:\r\n\r\n    #!/bin/bash\r\n\r\n    export YOUR_VAR=thevalue\r\n    mvn test\r\n    unset YOUR_VAR","title":"Environment Variable with Maven","body":"<p>You could wrap your maven command in a bash script:</p>\n\n<pre><code>#!/bin/bash\n\nexport YOUR_VAR=thevalue\nmvn test\nunset YOUR_VAR\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14464799,"reputation":139,"user_id":10448561,"display_name":"Kevin"},"down_vote_count":1,"up_vote_count":14,"is_accepted":false,"score":13,"last_activity_date":1538520446,"creation_date":1538519367,"answer_id":52617310,"question_id":5510690,"body_markdown":"For environment variable in Maven, you can set below.\r\n\r\nhttp://maven.apache.org/surefire/maven-surefire-plugin/test-mojo.html#environmentVariables\r\nhttp://maven.apache.org/surefire/maven-failsafe-plugin/integration-test-mojo.html#environmentVariables\r\n\r\n\t&lt;plugin&gt;\r\n\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\r\n\t\t...\r\n\t\t&lt;configuration&gt;\r\n\t\t\t&lt;includes&gt;\r\n\t\t\t\t...\r\n\t\t\t&lt;/includes&gt;\r\n\t\t\t&lt;environmentVariables&gt;\r\n\t\t\t\t&lt;WSNSHELL_HOME&gt;conf&lt;/WSNSHELL_HOME&gt;\r\n\t\t\t&lt;/environmentVariables&gt;\r\n\t\t&lt;/configuration&gt;\r\n\t&lt;/plugin&gt;","title":"Environment Variable with Maven","body":"<p>For environment variable in Maven, you can set below.</p>\n\n<p><a href=\"http://maven.apache.org/surefire/maven-surefire-plugin/test-mojo.html#environmentVariables\" rel=\"noreferrer\">http://maven.apache.org/surefire/maven-surefire-plugin/test-mojo.html#environmentVariables</a>\n<a href=\"http://maven.apache.org/surefire/maven-failsafe-plugin/integration-test-mojo.html#environmentVariables\" rel=\"noreferrer\">http://maven.apache.org/surefire/maven-failsafe-plugin/integration-test-mojo.html#environmentVariables</a></p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n    ...\n    &lt;configuration&gt;\n        &lt;includes&gt;\n            ...\n        &lt;/includes&gt;\n        &lt;environmentVariables&gt;\n            &lt;WSNSHELL_HOME&gt;conf&lt;/WSNSHELL_HOME&gt;\n        &lt;/environmentVariables&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11102521,"reputation":49,"user_id":8150791,"display_name":"Luis Eduardo Blandon Puello"},"down_vote_count":3,"up_vote_count":4,"is_accepted":false,"score":1,"last_activity_date":1566873997,"creation_date":1566872735,"answer_id":57666978,"question_id":5510690,"body_markdown":"in your code add:\r\n\r\n`System.getProperty(&quot;WSNSHELL_HOME&quot;)` \r\n\r\nModify or add value property from maven command: \r\n\r\n    mvn clean test -DargLine=-DWSNSHELL_HOME=yourvalue\r\n\r\nIf you want to run it in Eclipse, add VM arguments in your Debug/Run configurations \r\n\r\n - Go to Run -&gt; Run configurations\r\n - Select Tab Arguments\r\n - Add in section VM Arguments \r\n\r\n&gt;   -DWSNSHELL_HOME=yourvalue\r\n\r\n![See image example][1]\r\n\r\nyou don&#39;t need to modify the POM\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Zlkc4.png","title":"Environment Variable with Maven","body":"<p>in your code add:</p>\n\n<p><code>System.getProperty(\"WSNSHELL_HOME\")</code> </p>\n\n<p>Modify or add value property from maven command: </p>\n\n<pre><code>mvn clean test -DargLine=-DWSNSHELL_HOME=yourvalue\n</code></pre>\n\n<p>If you want to run it in Eclipse, add VM arguments in your Debug/Run configurations </p>\n\n<ul>\n<li>Go to Run -> Run configurations</li>\n<li>Select Tab Arguments</li>\n<li>Add in section VM Arguments </li>\n</ul>\n\n<blockquote>\n  <p>-DWSNSHELL_HOME=yourvalue</p>\n</blockquote>\n\n<p><img src=\"https://i.stack.imgur.com/Zlkc4.png\" alt=\"See image example\"></p>\n\n<p>you don't need to modify the POM</p>\n"},{"tags":[],"owner":{"account_id":9191706,"reputation":109,"user_id":6831973,"display_name":"Davis Benny"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1594086059,"creation_date":1594048726,"answer_id":62759176,"question_id":5510690,"body_markdown":"You can pass some of the arguments through the `_JAVA_OPTIONS` variable.\r\n\r\nFor example, define a variable for maven proxy flags like this:\r\n\r\n```\r\n_JAVA_OPTIONS=&quot;-Dhttp.proxyHost=$http_proxy_host -Dhttp.proxyPort=$http_proxy_port -Dhttps.proxyHost=$https_proxy_host -Dhttps.proxyPort=$http_proxy_port&quot;\r\n```\r\n\r\nAnd then use `mvn clean install` (it will automatically pick up `_JAVA_OPTIONS`).","title":"Environment Variable with Maven","body":"<p>You can pass some of the arguments through the <code>_JAVA_OPTIONS</code> variable.</p>\n<p>For example, define a variable for maven proxy flags like this:</p>\n<pre><code>_JAVA_OPTIONS=&quot;-Dhttp.proxyHost=$http_proxy_host -Dhttp.proxyPort=$http_proxy_port -Dhttps.proxyHost=$https_proxy_host -Dhttps.proxyPort=$http_proxy_port&quot;\n</code></pre>\n<p>And then use <code>mvn clean install</code> (it will automatically pick up <code>_JAVA_OPTIONS</code>).</p>\n"},{"tags":[],"owner":{"account_id":444379,"reputation":8785,"user_id":836144,"accept_rate":75,"display_name":"Hassek"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1612378577,"creation_date":1612378577,"answer_id":66033968,"question_id":5510690,"body_markdown":"I suggest using the amazing tool [direnv][1]. With it you can inject environment variables once you cd into the project. These steps worked for me:\r\n\r\n.envrc file\r\n```\r\nsource_up\r\ndotenv\r\n```\r\n\r\n.env file\r\n```\r\n_JAVA_OPTIONS=&quot;-DYourEnvHere=123&quot;\r\n```\r\n\r\n\r\n\r\n  [1]: https://direnv.net/\r\n","title":"Environment Variable with Maven","body":"<p>I suggest using the amazing tool <a href=\"https://direnv.net/\" rel=\"nofollow noreferrer\">direnv</a>. With it you can inject environment variables once you cd into the project. These steps worked for me:</p>\n<p>.envrc file</p>\n<pre><code>source_up\ndotenv\n</code></pre>\n<p>.env file</p>\n<pre><code>_JAVA_OPTIONS=&quot;-DYourEnvHere=123&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16393952,"reputation":31,"user_id":11842046,"display_name":"Dimos Koul"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1652257202,"creation_date":1652257202,"answer_id":72197687,"question_id":5510690,"body_markdown":"As someone might end up here changing his global Java options, I want to say defining **_JAVA_OPTIONS** is a bad idea. Instead define **MAVEN_OPTS** environment variable which will still be picked up automatically by Maven but it won&#39;t override everything like _JAVA_OPTS will do (e.g. IDE vm options).\r\n\r\n    MAVEN_OPTS=&quot;-DmyVariable=someValue&quot;","title":"Environment Variable with Maven","body":"<p>As someone might end up here changing his global Java options, I want to say defining <strong>_JAVA_OPTIONS</strong> is a bad idea. Instead define <strong>MAVEN_OPTS</strong> environment variable which will still be picked up automatically by Maven but it won't override everything like _JAVA_OPTS will do (e.g. IDE vm options).</p>\n<pre><code>MAVEN_OPTS=&quot;-DmyVariable=someValue&quot;\n</code></pre>\n"}],"owner":{"account_id":239996,"reputation":2419,"user_id":509970,"accept_rate":72,"display_name":"Gianluca"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":349648,"favorite_count":0,"down_vote_count":0,"up_vote_count":131,"accepted_answer_id":5510702,"answer_count":10,"score":131,"last_activity_date":1663743531,"creation_date":1301645512,"question_id":5510690,"body_markdown":"I&#39;ve ported a project from Eclipse to Maven and I need to set an environment variable to make my project work.\r\n\r\nIn Eclipse, I go to &quot;Run -&gt; Run configurations&quot; and, under the tab &quot;environment&quot;, I set &quot;WSNSHELL_HOME&quot; to the value &quot;conf&quot;.\r\n\r\nHow can I do this with `Maven`?","title":"Environment Variable with Maven","body":"<p>I've ported a project from Eclipse to Maven and I need to set an environment variable to make my project work.</p>\n<p>In Eclipse, I go to &quot;Run -&gt; Run configurations&quot; and, under the tab &quot;environment&quot;, I set &quot;WSNSHELL_HOME&quot; to the value &quot;conf&quot;.</p>\n<p>How can I do this with <code>Maven</code>?</p>\n"},{"tags":["java","spring-boot","web-services","collections","postman"],"comments":[{"owner":{"account_id":15988209,"reputation":150,"user_id":11538031,"display_name":"Емилиян Йорданов"},"score":0,"creation_date":1663743304,"post_id":73796428,"comment_id":130308243,"body_markdown":"Could you please provide code for the  `Question` entity?","body":"Could you please provide code for the  <code>Question</code> entity?"},{"owner":{"account_id":15988209,"reputation":150,"user_id":11538031,"display_name":"Емилиян Йорданов"},"score":0,"creation_date":1663743817,"post_id":73796428,"comment_id":130308392,"body_markdown":"Also please take a look is this working for you https://github.com/springdoc/springdoc-openapi/issues/1416 \nwith ` @RequestPart` ?","body":"Also please take a look is this working for you <a href=\"https://github.com/springdoc/springdoc-openapi/issues/1416\" rel=\"nofollow noreferrer\">github.com/springdoc/springdoc-openapi/issues/1416</a>  with ` @RequestPart` ?"},{"owner":{"account_id":26398546,"reputation":11,"user_id":20049324,"display_name":"Shravan Vishwamithra"},"score":0,"creation_date":1663826621,"post_id":73796428,"comment_id":130331231,"body_markdown":"i found the answer","body":"i found the answer"}],"owner":{"account_id":26398546,"reputation":11,"user_id":20049324,"display_name":"Shravan Vishwamithra"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":794,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1663743154,"creation_date":1663742912,"question_id":73796428,"body_markdown":"I want to create some set of questions and answers\r\nim able pass the code as json structure but it is not working as form data in postman so giving this following error or i don&#39;t know how to send the below code in the form-data anyone help me\r\n```json\r\n{\r\n        &quot;id&quot;: 1,\r\n        &quot;title&quot;: &quot;Html&quot;,\r\n        &quot;description&quot;: &quot;Hyper text markup language&quot;,\r\n        &quot;category&quot;: &quot;frontEnd&quot;,\r\n        &quot;tag&quot;: &quot;html&quot;,\r\n        &quot;image&quot;: &quot;html.jpg&quot;,\r\n        &quot;questions&quot;: [\r\n            {\r\n                &quot;question&quot;: &quot;Where html belong to&quot;,\r\n                &quot;optionA&quot;: &quot;frontEnd&quot;,\r\n                &quot;optionB&quot;: &quot;backEnd&quot;,\r\n                &quot;optionC&quot;: &quot;database&quot;,\r\n                &quot;optionD&quot;: &quot;All the Above&quot;,\r\n                &quot;answer&quot;: &quot;frontEnd&quot;\r\n            },\r\n            {\r\n                &quot;question&quot;: &quot;Where Java belong to&quot;,\r\n                &quot;optionA&quot;: &quot;frontEnd&quot;,\r\n                &quot;optionB&quot;: &quot;backEnd&quot;,\r\n                &quot;optionC&quot;: &quot;database&quot;,\r\n                &quot;optionD&quot;: &quot;All the Above&quot;,\r\n                &quot;answer&quot;: &quot;backEnd&quot;\r\n            }\r\n        ]\r\n    }\r\n```\r\n[Im trying to pass like this ,click on this image to see postman][1]\r\n\r\n\r\n```java\r\n@RestController\r\n@RequestMapping(&quot;student/blog&quot;)\r\npublic class BlogRestController {\r\n@PostMapping(value = &quot;/upload-files&quot;,consumes = {MediaType.MULTIPART_FORM_DATA_VALUE})\r\n@ResponseBody\r\n\tpublic ResponseEntity&lt;Object&gt; saveBlog( \r\n\t\t\t@RequestPart(&quot;image&quot;) MultipartFile multipartFile,\r\n\t\t\t@RequestParam(&quot;title&quot;) String title,\r\n\t\t\t@RequestParam(&quot;description&quot;) String description,\r\n\t\t\t@RequestParam(&quot;category&quot;) String category,\r\n\t\t\t@RequestParam(&quot;tag&quot;) String tag,\r\n\t\t\t@RequestParam(&quot;questions&quot;) List&lt;Question&gt; questions\r\n\t\t\t)\r\n\t\t\tthrows IOException {\r\nBlog blog = new Blog();\r\n\t\tString fileName = StringUtils.cleanPath(multipartFile.getOriginalFilename());\r\n        blog.setImage(fileName);\r\n        blog.setTitle(title);\r\n        blog.setDescription(description);\r\n        blog.setCategory(category);\r\n        blog.setTag(tag);\r\n        blog.setQuestions(questions);\r\n        blogRepo.save(blog);\r\n```\r\n&quot;Required request parameter &#39;questions&#39; for method parameter type List is not present&quot; error code but if I try to send it in this way\r\n\r\n[see this image][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/SO0UL.png\r\n  [2]: https://i.stack.imgur.com/1hH5M.png\r\n\r\n&quot;message&quot;: &quot;Failed to convert value of type &#39;java.lang.String&#39; to required type &#39;java.util.List&#39;; nested exception is java.lang.IllegalStateException: Cannot convert value of type &#39;java.lang.String&#39; to required type &#39;com.dfsfe.entities.Question&#39;: no matching editors or conversion strategy found&quot;,\r\nHere is My entity class\r\n```java\r\n@Entity\r\n@Table(name = &quot;blog&quot;)\r\npublic class Blog {\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\t@Column(name = &quot;id&quot;)\r\n\tprivate Long id;\r\n\t@Column(name = &quot;title&quot;,nullable = false)\r\n\tprivate String title;\r\n\t@Column(name = &quot;description&quot;,nullable = false,columnDefinition = &quot;TEXT&quot;)\r\n\tprivate String description;\r\n\t@Column(name = &quot;category&quot;,nullable = false)\r\n\tprivate String category;\r\n\t@Column(name = &quot;tag&quot;,nullable = false)\r\n\tprivate String tag;\r\n\t@Column(name = &quot;image&quot;,nullable = false)\r\n\tprivate String image;\r\n\t@OneToMany(cascade = CascadeType.ALL)\r\n\t@JoinColumn(name = &quot;questions&quot;,referencedColumnName = &quot;id&quot;)\r\n\tprivate List&lt;Question&gt; questions;\r\n\r\n\r\n// with getters and setters\r\n```\r\n\r\nif anyone know please answer this question","title":"How to pass a List of Objects into form data in postman","body":"<p>I want to create some set of questions and answers\nim able pass the code as json structure but it is not working as form data in postman so giving this following error or i don't know how to send the below code in the form-data anyone help me</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n        &quot;id&quot;: 1,\n        &quot;title&quot;: &quot;Html&quot;,\n        &quot;description&quot;: &quot;Hyper text markup language&quot;,\n        &quot;category&quot;: &quot;frontEnd&quot;,\n        &quot;tag&quot;: &quot;html&quot;,\n        &quot;image&quot;: &quot;html.jpg&quot;,\n        &quot;questions&quot;: [\n            {\n                &quot;question&quot;: &quot;Where html belong to&quot;,\n                &quot;optionA&quot;: &quot;frontEnd&quot;,\n                &quot;optionB&quot;: &quot;backEnd&quot;,\n                &quot;optionC&quot;: &quot;database&quot;,\n                &quot;optionD&quot;: &quot;All the Above&quot;,\n                &quot;answer&quot;: &quot;frontEnd&quot;\n            },\n            {\n                &quot;question&quot;: &quot;Where Java belong to&quot;,\n                &quot;optionA&quot;: &quot;frontEnd&quot;,\n                &quot;optionB&quot;: &quot;backEnd&quot;,\n                &quot;optionC&quot;: &quot;database&quot;,\n                &quot;optionD&quot;: &quot;All the Above&quot;,\n                &quot;answer&quot;: &quot;backEnd&quot;\n            }\n        ]\n    }\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/SO0UL.png\" rel=\"nofollow noreferrer\">Im trying to pass like this ,click on this image to see postman</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\n@RequestMapping(&quot;student/blog&quot;)\npublic class BlogRestController {\n@PostMapping(value = &quot;/upload-files&quot;,consumes = {MediaType.MULTIPART_FORM_DATA_VALUE})\n@ResponseBody\n    public ResponseEntity&lt;Object&gt; saveBlog( \n            @RequestPart(&quot;image&quot;) MultipartFile multipartFile,\n            @RequestParam(&quot;title&quot;) String title,\n            @RequestParam(&quot;description&quot;) String description,\n            @RequestParam(&quot;category&quot;) String category,\n            @RequestParam(&quot;tag&quot;) String tag,\n            @RequestParam(&quot;questions&quot;) List&lt;Question&gt; questions\n            )\n            throws IOException {\nBlog blog = new Blog();\n        String fileName = StringUtils.cleanPath(multipartFile.getOriginalFilename());\n        blog.setImage(fileName);\n        blog.setTitle(title);\n        blog.setDescription(description);\n        blog.setCategory(category);\n        blog.setTag(tag);\n        blog.setQuestions(questions);\n        blogRepo.save(blog);\n</code></pre>\n<p>&quot;Required request parameter 'questions' for method parameter type List is not present&quot; error code but if I try to send it in this way</p>\n<p><a href=\"https://i.stack.imgur.com/1hH5M.png\" rel=\"nofollow noreferrer\">see this image</a></p>\n<p>&quot;message&quot;: &quot;Failed to convert value of type 'java.lang.String' to required type 'java.util.List'; nested exception is java.lang.IllegalStateException: Cannot convert value of type 'java.lang.String' to required type 'com.dfsfe.entities.Question': no matching editors or conversion strategy found&quot;,\nHere is My entity class</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;blog&quot;)\npublic class Blog {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;)\n    private Long id;\n    @Column(name = &quot;title&quot;,nullable = false)\n    private String title;\n    @Column(name = &quot;description&quot;,nullable = false,columnDefinition = &quot;TEXT&quot;)\n    private String description;\n    @Column(name = &quot;category&quot;,nullable = false)\n    private String category;\n    @Column(name = &quot;tag&quot;,nullable = false)\n    private String tag;\n    @Column(name = &quot;image&quot;,nullable = false)\n    private String image;\n    @OneToMany(cascade = CascadeType.ALL)\n    @JoinColumn(name = &quot;questions&quot;,referencedColumnName = &quot;id&quot;)\n    private List&lt;Question&gt; questions;\n\n\n// with getters and setters\n</code></pre>\n<p>if anyone know please answer this question</p>\n"},{"tags":["java","spring","apache-kafka","spring-kafka"],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656348339,"creation_date":1656348339,"answer_id":72775642,"question_id":72775418,"body_markdown":"See documentation about server side receive-n-reply semantics: https://docs.spring.io/spring-kafka/docs/current/reference/html/#annotation-send-to\r\n\r\n&gt;  \tIn order to support `@SendTo`, the listener container factory must be provided with a `KafkaTemplate` (in its `replyTemplate` property), which is used to send the reply.","title":"KafkaReplyTemplate throws: a KafkaTemplate is required to support replies?","body":"<p>See documentation about server side receive-n-reply semantics: <a href=\"https://docs.spring.io/spring-kafka/docs/current/reference/html/#annotation-send-to\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-kafka/docs/current/reference/html/#annotation-send-to</a></p>\n<blockquote>\n<p>In order to support <code>@SendTo</code>, the listener container factory must be provided with a <code>KafkaTemplate</code> (in its <code>replyTemplate</code> property), which is used to send the reply.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":7513612,"reputation":1945,"user_id":5707795,"accept_rate":48,"display_name":"Pradeep"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663742576,"creation_date":1663742576,"answer_id":73796364,"question_id":72775418,"body_markdown":"Since the replyingKafkaTemplate is an extension of KafkaTemplate, Boot will no longer configure a default one . You will need to define a separate KafkaTemplate&lt;Object, Object&gt; bean along with replyingKafkaTemplate .Please look into my another question where I maintain both kafkatemplate and replyingKafkaTemplate  separately along with listener factory with setReplyTemplate.\r\n\r\nhttps://stackoverflow.com/questions/73657031/executionexceptiondue-to-org-springframework-kafka-requestreply-kafkareplytime/73736521?noredirect=1#comment130278569_73736521","title":"KafkaReplyTemplate throws: a KafkaTemplate is required to support replies?","body":"<p>Since the replyingKafkaTemplate is an extension of KafkaTemplate, Boot will no longer configure a default one . You will need to define a separate KafkaTemplate&lt;Object, Object&gt; bean along with replyingKafkaTemplate .Please look into my another question where I maintain both kafkatemplate and replyingKafkaTemplate  separately along with listener factory with setReplyTemplate.</p>\n<p><a href=\"https://stackoverflow.com/questions/73657031/executionexceptiondue-to-org-springframework-kafka-requestreply-kafkareplytime/73736521?noredirect=1#comment130278569_73736521\">ExecutionException:Due to: org.springframework.kafka.requestreply.KafkaReplyTimeoutException: Reply timed out using ReplyingKafkaTemplate</a></p>\n"}],"owner":{"account_id":1613370,"reputation":2348,"user_id":1491720,"accept_rate":80,"display_name":"Tony Stark"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":525,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1663742576,"creation_date":1656347209,"question_id":72775418,"body_markdown":"This is a follow up to https://stackoverflow.com/questions/72769901/kafkacontroller-required-a-bean-of-type-org-springframework-kafka-requestreply.\r\n\r\nNow I am getting `java.lang.IllegalStateException: a KafkaTemplate is required to support replies`. My setup now looks like this.\r\n\r\n    @Configuration\r\n    @EnableKafka\r\n    public class KafkaConfig {\r\n        @Bean\r\n        public ReplyingKafkaTemplate&lt;Object, KafkaExampleRecord, KafkaExampleRecord&gt; replyingKafkaTemplate(ProducerFactory&lt;Object, KafkaExampleRecord&gt; producerFactory,\r\n                                                                                                           ConcurrentMessageListenerContainer&lt;Object, KafkaExampleRecord&gt; rc) {\r\n            return new ReplyingKafkaTemplate&lt;&gt;(producerFactory, rc);\r\n        }\r\n    \r\n        @Bean\r\n        public ConcurrentMessageListenerContainer&lt;Object, KafkaExampleRecord&gt; repliesContainer(\r\n                ConcurrentKafkaListenerContainerFactory&lt;Object, KafkaExampleRecord&gt; containerFactory) {\r\n    \r\n            ConcurrentMessageListenerContainer&lt;Object, KafkaExampleRecord&gt; rc =\r\n                    containerFactory.createContainer(&quot;mytopic&quot;);\r\n            rc.setAutoStartup(false);\r\n            return rc;\r\n        }\r\n    }\r\n\r\nIm my REST controller I now have this.\r\n\r\n    @RestController\r\n    public class TestController {\r\n    \r\n        @Autowired\r\n        private KafkaTemplate&lt;Object, KafkaExampleRecord&gt; template;\r\n    \r\n        @Autowired\r\n        private ReplyingKafkaTemplate&lt;Object, KafkaExampleRecord, KafkaExampleRecord&gt; replyingTemplate;\r\n    \r\n        @PostMapping(&quot;/test/produce&quot;)\r\n        public void produceToTopic(@RequestBody KafkaExampleRecord record) {\r\n            ListenableFuture&lt;SendResult&lt;Object, KafkaExampleRecord&gt;&gt; future = template.send(&quot;mytopic&quot;, record);\r\n        }\r\n    \r\n        @PostMapping(&quot;/test/request&quot;)\r\n        public void requestReply(@RequestBody KafkaExampleRecord record) throws ExecutionException, InterruptedException, TimeoutException {\r\n            ProducerRecord&lt;Object, KafkaExampleRecord&gt; producerRecord = new ProducerRecord&lt;&gt;(&quot;mytopic&quot;, record);\r\n            RequestReplyFuture&lt;Object, KafkaExampleRecord, KafkaExampleRecord&gt; replyFuture = replyingTemplate.sendAndReceive(producerRecord);\r\n\r\n            SendResult&lt;Object, KafkaExampleRecord&gt; sendResult = replyFuture.getSendFuture().get(10, TimeUnit.SECONDS);\r\n      \r\n    }\r\n\r\nThe exception is thrown at `SpringApplication.run(MyClass.class, args)`.\r\n\r\nFrom https://docs.spring.io/spring-kafka/reference/html/#replying-template and https://www.techgalery.com/2021/08/spring-kafka-how-to-use.html it looks like I have everything I need now. What is still missing?","title":"KafkaReplyTemplate throws: a KafkaTemplate is required to support replies?","body":"<p>This is a follow up to <a href=\"https://stackoverflow.com/questions/72769901/kafkacontroller-required-a-bean-of-type-org-springframework-kafka-requestreply\">KafkaController required a bean of type &#39;org.springframework.kafka.requestreply.ReplyingKafkaTemplate&#39; that could not be found?</a>.</p>\n<p>Now I am getting <code>java.lang.IllegalStateException: a KafkaTemplate is required to support replies</code>. My setup now looks like this.</p>\n<pre><code>@Configuration\n@EnableKafka\npublic class KafkaConfig {\n    @Bean\n    public ReplyingKafkaTemplate&lt;Object, KafkaExampleRecord, KafkaExampleRecord&gt; replyingKafkaTemplate(ProducerFactory&lt;Object, KafkaExampleRecord&gt; producerFactory,\n                                                                                                       ConcurrentMessageListenerContainer&lt;Object, KafkaExampleRecord&gt; rc) {\n        return new ReplyingKafkaTemplate&lt;&gt;(producerFactory, rc);\n    }\n\n    @Bean\n    public ConcurrentMessageListenerContainer&lt;Object, KafkaExampleRecord&gt; repliesContainer(\n            ConcurrentKafkaListenerContainerFactory&lt;Object, KafkaExampleRecord&gt; containerFactory) {\n\n        ConcurrentMessageListenerContainer&lt;Object, KafkaExampleRecord&gt; rc =\n                containerFactory.createContainer(&quot;mytopic&quot;);\n        rc.setAutoStartup(false);\n        return rc;\n    }\n}\n</code></pre>\n<p>Im my REST controller I now have this.</p>\n<pre><code>@RestController\npublic class TestController {\n\n    @Autowired\n    private KafkaTemplate&lt;Object, KafkaExampleRecord&gt; template;\n\n    @Autowired\n    private ReplyingKafkaTemplate&lt;Object, KafkaExampleRecord, KafkaExampleRecord&gt; replyingTemplate;\n\n    @PostMapping(&quot;/test/produce&quot;)\n    public void produceToTopic(@RequestBody KafkaExampleRecord record) {\n        ListenableFuture&lt;SendResult&lt;Object, KafkaExampleRecord&gt;&gt; future = template.send(&quot;mytopic&quot;, record);\n    }\n\n    @PostMapping(&quot;/test/request&quot;)\n    public void requestReply(@RequestBody KafkaExampleRecord record) throws ExecutionException, InterruptedException, TimeoutException {\n        ProducerRecord&lt;Object, KafkaExampleRecord&gt; producerRecord = new ProducerRecord&lt;&gt;(&quot;mytopic&quot;, record);\n        RequestReplyFuture&lt;Object, KafkaExampleRecord, KafkaExampleRecord&gt; replyFuture = replyingTemplate.sendAndReceive(producerRecord);\n\n        SendResult&lt;Object, KafkaExampleRecord&gt; sendResult = replyFuture.getSendFuture().get(10, TimeUnit.SECONDS);\n  \n}\n</code></pre>\n<p>The exception is thrown at <code>SpringApplication.run(MyClass.class, args)</code>.</p>\n<p>From <a href=\"https://docs.spring.io/spring-kafka/reference/html/#replying-template\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-kafka/reference/html/#replying-template</a> and <a href=\"https://www.techgalery.com/2021/08/spring-kafka-how-to-use.html\" rel=\"nofollow noreferrer\">https://www.techgalery.com/2021/08/spring-kafka-how-to-use.html</a> it looks like I have everything I need now. What is still missing?</p>\n"},{"tags":["java","intellij-idea"],"answers":[{"tags":[],"owner":{"account_id":26036230,"reputation":260,"user_id":19741639,"display_name":"viking"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663737854,"creation_date":1663737854,"answer_id":73795716,"question_id":73795278,"body_markdown":"It doesn&#39;t matter, you can create any package whenever you want on the created project.","title":"Java IntelliJ turotorial new project issue","body":"<p>It doesn't matter, you can create any package whenever you want on the created project.</p>\n"},{"tags":[],"owner":{"account_id":17693330,"reputation":3781,"user_id":12844632,"display_name":"Egor Klepikov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663742450,"creation_date":1663742450,"answer_id":73796342,"question_id":73795278,"body_markdown":"Project wizard was updated in the newest IDE versions. You can create a project as per https://www.jetbrains.com/help/idea/creating-and-running-your-first-java-application.html and add package by right-clicking on the sources root in the Project tool window:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4iDQS.png","title":"Java IntelliJ turotorial new project issue","body":"<p>Project wizard was updated in the newest IDE versions. You can create a project as per <a href=\"https://www.jetbrains.com/help/idea/creating-and-running-your-first-java-application.html\" rel=\"nofollow noreferrer\">https://www.jetbrains.com/help/idea/creating-and-running-your-first-java-application.html</a> and add package by right-clicking on the sources root in the Project tool window:</p>\n<p><a href=\"https://i.stack.imgur.com/4iDQS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4iDQS.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":23398101,"reputation":1,"user_id":17461719,"display_name":"D K"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1663742450,"creation_date":1663733656,"question_id":73795278,"body_markdown":"I am starting to learn the basics of Java using IntelliJ IDEA. I am currently watching Code with Mosh Java turotrial on youtube. I have a problem at the very begining when starting a new project. When naming the project  no base package box is shown. What Am I doing wrong? \r\n\r\n[Mosh IntelliJ][1]\r\n\r\n[My IntelliJ screen][2]\r\n\r\nWhy am not getting the box where to name the base package?\r\n\r\nThanks for the help\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/10KE6.png\r\n  [2]: https://i.stack.imgur.com/iE2wF.png","title":"Java IntelliJ turotorial new project issue","body":"<p>I am starting to learn the basics of Java using IntelliJ IDEA. I am currently watching Code with Mosh Java turotrial on youtube. I have a problem at the very begining when starting a new project. When naming the project  no base package box is shown. What Am I doing wrong?</p>\n<p><a href=\"https://i.stack.imgur.com/10KE6.png\" rel=\"nofollow noreferrer\">Mosh IntelliJ</a></p>\n<p><a href=\"https://i.stack.imgur.com/iE2wF.png\" rel=\"nofollow noreferrer\">My IntelliJ screen</a></p>\n<p>Why am not getting the box where to name the base package?</p>\n<p>Thanks for the help</p>\n"},{"tags":["java","web-services","reactive-programming","spring-webflux","spring-restcontroller"],"answers":[{"tags":[],"owner":{"account_id":1282249,"reputation":3856,"user_id":1236099,"accept_rate":51,"display_name":"madhairsilence"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663742242,"creation_date":1663742242,"answer_id":73796312,"question_id":73690780,"body_markdown":"Its completely ok to call a no reactive method . Its only important to keep the reactive flow reactive instead of blocking it\r\n\r\nfor example\r\n\r\n    someRepository.findById( id )\r\n                   .map( entity -&gt; entity.setValue( value ) )\r\n                   .filter( entity -&gt; entity.someCondition &gt; other condition )\r\n                   .map( entity -&gt; someNonReactiveLibrary.function(entity.getAttribute())) //non-reactive method\r\n                    .collect( Collectors.toList());\r\n\r\nIf you see the this entire block executes in one thread and it is going to be sequential. In this particular flow, you can including non-reactive method and it is completely normal. ","title":"What is the correct reactive pattern in Java Spring WebFlux to return a (large) file from the REST controller?","body":"<p>Its completely ok to call a no reactive method . Its only important to keep the reactive flow reactive instead of blocking it</p>\n<p>for example</p>\n<pre><code>someRepository.findById( id )\n               .map( entity -&gt; entity.setValue( value ) )\n               .filter( entity -&gt; entity.someCondition &gt; other condition )\n               .map( entity -&gt; someNonReactiveLibrary.function(entity.getAttribute())) //non-reactive method\n                .collect( Collectors.toList());\n</code></pre>\n<p>If you see the this entire block executes in one thread and it is going to be sequential. In this particular flow, you can including non-reactive method and it is completely normal.</p>\n"}],"owner":{"account_id":3446101,"reputation":11355,"user_id":2886891,"accept_rate":75,"display_name":"Honza Zidek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":492,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1663742242,"creation_date":1662992389,"question_id":73690780,"body_markdown":"### Situation:\r\n\r\n- I have a non-reactive legacy library which expects an [`OutputStream`][1] and writes its output into it, the method signature is something like `void produceData(OutputStream stream)`\r\n- I want to expose the output from the method via a web service as a PDF file\r\n- The file can be sometimes very large\r\n- I am using the reactive framework [Spring WebFlux][2]\r\n\r\n### Motivation:\r\n- I want my code to stay &quot;as reactive as possible&quot;\r\n- I do not want to allocate a byte array for all the data at once, I want to maximally exploit the fact that the legacy method writes the output to `OutputStream`\r\n\r\n### Question:\r\n- What is the correct reactive pattern in WebFlux to return a large file in general?\r\n- What is the correct reactive pattern in WebFlux to return a large file when the source of the data is a non-reactive method writing to a given `OutputStream`?\r\n- I should also be able to let the client understand that the output from the web service is a PDF file with a proper name. \r\n\r\n### What I am considering:\r\n- `Mono&lt;ByteArrayResource&gt; getData()` - I don&#39;t want to use it because I would have to allocate the byte array for the whole content.\r\n- In the *non-reactive* world, I would just inject the `ServletResponse` object into the controller method and passed its output stream [`ServletResponse.getOutputStream()`][3] to my legacy method, but I don&#39;t know how to do this in the *reactive* world and if it is even recommended at all.\r\n- `Mono&lt;DataBuffer&gt; getData()` - In the controller code, I can easily obtain a new [`DataBuffer`][3] from a [`DefaultDataBufferFactory`][4] and use its [`asOutputStream()`][5] method, but then I don&#39;t know how to handle properly so the `DataBuffer` is released after the data are consumed by the client.\r\n\r\n**What is the correct reactive pattern** to handle situations like this?\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/OutputStream.html\r\n  [2]: https://docs.spring.io/spring-framework/docs/current/reference/html/web-reactive.html\r\n  [3]: https://docs.oracle.com/javaee/7/api/javax/servlet/ServletResponse.html#getOutputStream--\r\n  [4]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/io/buffer/DefaultDataBufferFactory.html\r\n  [5]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/io/buffer/DataBuffer.html#asOutputStream--","title":"What is the correct reactive pattern in Java Spring WebFlux to return a (large) file from the REST controller?","body":"<h3>Situation:</h3>\n<ul>\n<li>I have a non-reactive legacy library which expects an <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/OutputStream.html\" rel=\"nofollow noreferrer\"><code>OutputStream</code></a> and writes its output into it, the method signature is something like <code>void produceData(OutputStream stream)</code></li>\n<li>I want to expose the output from the method via a web service as a PDF file</li>\n<li>The file can be sometimes very large</li>\n<li>I am using the reactive framework <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/web-reactive.html\" rel=\"nofollow noreferrer\">Spring WebFlux</a></li>\n</ul>\n<h3>Motivation:</h3>\n<ul>\n<li>I want my code to stay &quot;as reactive as possible&quot;</li>\n<li>I do not want to allocate a byte array for all the data at once, I want to maximally exploit the fact that the legacy method writes the output to <code>OutputStream</code></li>\n</ul>\n<h3>Question:</h3>\n<ul>\n<li>What is the correct reactive pattern in WebFlux to return a large file in general?</li>\n<li>What is the correct reactive pattern in WebFlux to return a large file when the source of the data is a non-reactive method writing to a given <code>OutputStream</code>?</li>\n<li>I should also be able to let the client understand that the output from the web service is a PDF file with a proper name.</li>\n</ul>\n<h3>What I am considering:</h3>\n<ul>\n<li><code>Mono&lt;ByteArrayResource&gt; getData()</code> - I don't want to use it because I would have to allocate the byte array for the whole content.</li>\n<li>In the <em>non-reactive</em> world, I would just inject the <code>ServletResponse</code> object into the controller method and passed its output stream <a href=\"https://docs.oracle.com/javaee/7/api/javax/servlet/ServletResponse.html#getOutputStream--\" rel=\"nofollow noreferrer\"><code>ServletResponse.getOutputStream()</code></a> to my legacy method, but I don't know how to do this in the <em>reactive</em> world and if it is even recommended at all.</li>\n<li><code>Mono&lt;DataBuffer&gt; getData()</code> - In the controller code, I can easily obtain a new <a href=\"https://docs.oracle.com/javaee/7/api/javax/servlet/ServletResponse.html#getOutputStream--\" rel=\"nofollow noreferrer\"><code>DataBuffer</code></a> from a <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/io/buffer/DefaultDataBufferFactory.html\" rel=\"nofollow noreferrer\"><code>DefaultDataBufferFactory</code></a> and use its <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/io/buffer/DataBuffer.html#asOutputStream--\" rel=\"nofollow noreferrer\"><code>asOutputStream()</code></a> method, but then I don't know how to handle properly so the <code>DataBuffer</code> is released after the data are consumed by the client.</li>\n</ul>\n<p><strong>What is the correct reactive pattern</strong> to handle situations like this?</p>\n"},{"tags":["java","exception"],"comments":[{"owner":{"account_id":323244,"reputation":11569,"user_id":643141,"display_name":"Hauke Ingmar Schmidt"},"score":0,"creation_date":1663539670,"post_id":73766726,"comment_id":130258091,"body_markdown":"Hi, can you explain what your specific problem is?","body":"Hi, can you explain what your specific problem is?"},{"owner":{"account_id":26374681,"reputation":11,"user_id":20028825,"display_name":"Poppele"},"score":0,"creation_date":1663541100,"post_id":73766726,"comment_id":130258274,"body_markdown":"I have to create a program in which I input 2 values simultaneously but, these values must range from 50 to 127. If the value is less than 50 or above 127 it should show an exception saying &quot;value entered&quot; is too low or too high. As a requirement for the program, I cannot use flow-control statements.","body":"I have to create a program in which I input 2 values simultaneously but, these values must range from 50 to 127. If the value is less than 50 or above 127 it should show an exception saying &quot;value entered&quot; is too low or too high. As a requirement for the program, I cannot use flow-control statements."},{"owner":{"account_id":25937120,"reputation":2268,"user_id":19657183,"display_name":"Mihe"},"score":0,"creation_date":1663541503,"post_id":73766726,"comment_id":130258303,"body_markdown":"Please edit your question and include what you&#39;ve already tried (code).","body":"Please edit your question and include what you&#39;ve already tried (code)."},{"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":0,"creation_date":1663543750,"post_id":73766726,"comment_id":130258553,"body_markdown":"Can you clarify what you mean by &quot;I cannot use flow-control statements&quot;?  The statement seems clear enough, but it is a very surprising constraint on its face, so I&#39;m wondering whether there has been some miscommunication there, either between your instructor and you or between you and us.","body":"Can you clarify what you mean by &quot;I cannot use flow-control statements&quot;?  The statement seems clear enough, but it is a very surprising constraint on its face, so I&#39;m wondering whether there has been some miscommunication there, either between your instructor and you or between you and us."},{"owner":{"account_id":26374681,"reputation":11,"user_id":20028825,"display_name":"Poppele"},"score":0,"creation_date":1663544115,"post_id":73766726,"comment_id":130258590,"body_markdown":"A note my instructer added to the assignment and a step was NOTE 2:\n(i) Do not use any other library/package other than java.util.Scanner\n(ii) Do not use any flow-control statements such as selection (if-else), iteration (loops), etc.\n  Kindly note that if you enter values beyond 127 for either user inputs p and q,\nrespectively; your program will run into an Exception.","body":"A note my instructer added to the assignment and a step was NOTE 2: (i) Do not use any other library/package other than java.util.Scanner (ii) Do not use any flow-control statements such as selection (if-else), iteration (loops), etc.   Kindly note that if you enter values beyond 127 for either user inputs p and q, respectively; your program will run into an Exception."},{"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":0,"creation_date":1663544375,"post_id":73766726,"comment_id":130258619,"body_markdown":"Ok. Then is the part about throwing an exception for inputs that are too small your own invention?  And the specific exception message you give in the question, is that your own invention?","body":"Ok. Then is the part about throwing an exception for inputs that are too small your own invention?  And the specific exception message you give in the question, is that your own invention?"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1663552702,"post_id":73766726,"comment_id":130259566,"body_markdown":"So what is your actual problem then?  Do you not know what an exception is or how they work?  Do you not know how to declare an exception class?  Do you not know how to throw an exception?  Do you know how to catch / handle an exception?   If you are &quot;totally lost&quot; ... I suggest looking for a map; i.e. a tutorial on exceptions such as this one: https://docs.oracle.com/javase/tutorial/essential/exceptions/index.html","body":"So what is your actual problem then?  Do you not know what an exception is or how they work?  Do you not know how to declare an exception class?  Do you not know how to throw an exception?  Do you know how to catch / handle an exception?   If you are &quot;totally lost&quot; ... I suggest looking for a map; i.e. a tutorial on exceptions such as this one: <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/index.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/essential/exceptions/index.h&zwnj;&#8203;tml</a>"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1663553736,"post_id":73766726,"comment_id":130259675,"body_markdown":"I would advise asking your teachers what they meant by the no &quot;flow control statements&quot; requirement.  Ask them do they really mean that `if (some condition) { throw new SomeException(...); }` is not allowed?   Personally ... I suspect that they have &quot;mispoken&quot;,","body":"I would advise asking your teachers what they meant by the no &quot;flow control statements&quot; requirement.  Ask them do they really mean that <code>if (some condition) { throw new SomeException(...); }</code> is not allowed?   Personally ... I suspect that they have &quot;mispoken&quot;,"},{"owner":{"account_id":26374681,"reputation":11,"user_id":20028825,"display_name":"Poppele"},"score":0,"creation_date":1663602383,"post_id":73766726,"comment_id":130273186,"body_markdown":"I am emailing my teacher today and shall hopefully come back with clarification. I have not yet learned about throw and catch in my course so I am assuming that It is not expected of me to use a custom exception.","body":"I am emailing my teacher today and shall hopefully come back with clarification. I have not yet learned about throw and catch in my course so I am assuming that It is not expected of me to use a custom exception."}],"answers":[{"tags":[],"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663545490,"creation_date":1663545490,"answer_id":73767142,"question_id":73766726,"body_markdown":"The constraint against using flow control statements is highly artificial, but it does force you into a certain direction.  For the program to behave differently for some inputs than it does for others *requires* flow control.  If you cannot use flow control in your program then that means the needed flow control must be somewhere else.  And the only &quot;somewhere else&quot; you are allowed to use is `java.util.Scanner`.\r\n\r\nAs a blooming programmer, some of the things you need to learn and have ready at all times at the tip of your brain are the powers of two, and certain ones of them especially.  Among those is 2&lt;sup&gt;7&lt;/sup&gt; = 128, which has special significance as one more than 127, the maximum value of an 8-bit two&#39;s complement integer, such as a Java `byte` (these properties are closely related).  And lo and behold, the maximum value your program is supposed to accept is 127.\r\n\r\nRead the API docs of `Scanner`, especially those for scanning inputs of various specific Java types.  You will find some that can serve the purpose of (as a side effect) throwing an exception for inputs larger than 127. If you want to throw a custom exception instead, then you can catch the one thrown by the `Scanner` and throw one of your choice in its place -- provided that `try` / `catch` is not considered flow control.\r\n\r\n`Scanner` could be pressed into service for an exception for violation of the lower bound, too, but that would require a very unnatural hack.\r\n\r\nDetails are left as the exercise they are intended to be.","title":"Creating an exception without conditions?","body":"<p>The constraint against using flow control statements is highly artificial, but it does force you into a certain direction.  For the program to behave differently for some inputs than it does for others <em>requires</em> flow control.  If you cannot use flow control in your program then that means the needed flow control must be somewhere else.  And the only &quot;somewhere else&quot; you are allowed to use is <code>java.util.Scanner</code>.</p>\n<p>As a blooming programmer, some of the things you need to learn and have ready at all times at the tip of your brain are the powers of two, and certain ones of them especially.  Among those is 2<sup>7</sup> = 128, which has special significance as one more than 127, the maximum value of an 8-bit two's complement integer, such as a Java <code>byte</code> (these properties are closely related).  And lo and behold, the maximum value your program is supposed to accept is 127.</p>\n<p>Read the API docs of <code>Scanner</code>, especially those for scanning inputs of various specific Java types.  You will find some that can serve the purpose of (as a side effect) throwing an exception for inputs larger than 127. If you want to throw a custom exception instead, then you can catch the one thrown by the <code>Scanner</code> and throw one of your choice in its place -- provided that <code>try</code> / <code>catch</code> is not considered flow control.</p>\n<p><code>Scanner</code> could be pressed into service for an exception for violation of the lower bound, too, but that would require a very unnatural hack.</p>\n<p>Details are left as the exercise they are intended to be.</p>\n"},{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663548822,"creation_date":1663548822,"answer_id":73767351,"question_id":73766726,"body_markdown":"This question is a tad disingenuous. A requirement that 50-127 is accepted, the rest is not, is not normally possible without flow control. So we _need_ flow control, but, we&#39;re not allowed to use flow control.\r\n\r\nQuite the dilemma.\r\n\r\nIt&#39;s a bit like an escape room. You must screw together this intricate thing, but, you don&#39;t have a screwdriver (all your pockets were emptied before entering it), so now what? Well, you look around the room. What tools _do_ you have? Even if they are epically not suited to the job, can they be used to deliver?\r\n\r\nSo, let&#39;s look. What do we have? We have scanner.\r\n\r\nWe need to look at [what you can do with those](https://docs.oracle.com/javase/8/docs/api/java/util/Scanner.html), and see if that helps, because other than Scanner you&#39;re not given much room to work.\r\n\r\nAnd lo! Scanner delivers. It&#39;s a method that is almost never used with scanner, but it&#39;s there, and it&#39;ll give us a way through: [The `next(Pattern)` method](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Scanner.html#next(java.util.regex.Pattern)) can do the job.\r\n\r\nQuoting from the javadoc:\r\n\r\n&gt; Returns the next token if it matches the specified pattern.\r\n\r\nGreat!\r\n\r\nNow, I&#39;m flabbergasted, but __the docs are broken__. Java is used by millions of people and the docs are taken fairly seriously, so that is mostly an indictment on how little this method is used. Nobody, apparently, noticed. The thing missing from the docs is subtle, but important: What happens if the next token in the stream _does not_ match the specified pattern? The docs don&#39;t say. But the scanner acts the exact same way as when you call e.g. `nextInt()` and the next token is _not_ an int: It throws `InputMismatchException`.\r\n\r\nThis means `next(Pattern)` is the complete package: Will pass if input &#39;matches the pattern&#39; and throws if it does not, so now all we need is a pattern that matches if the input is 50-127 and fails otherwise. We can trivially do that, though we&#39;ll need to dive into [Regular Expressions](https://www.baeldung.com/regular-expressions-java) to do the job - as that is the &#39;language&#39; for the pattern we can provide to this next method. (There is a `String` variant too, but it just parses your string as... a regular expression, so we can&#39;t get out of reading up on those).\r\n\r\n```\r\nScanner s = new Scanner(System.in);\r\nint value = s.next(&quot;[5-9][0-9]|1[0-1][0-9]|12[0-7]&quot;);\r\n```\r\n\r\nIt&#39;s a rather unwieldy pattern, but it&#39;ll get the job done. This pattern says:\r\n\r\n* The input has to be one of these 3 different options (`a|b|c` is regexp for: either `a`, or `b`, or `c`)\r\n* Option 1: A 5/6/7/8/9, followed by any digit.\r\n* Option 2: A 1, followed by a 0 or a 1, followed by any digit.\r\n* Option 3: A 1, a 2, and then a 0/1/2/3/4/5/6/7.\r\n\r\nThat&#39;ll covers 50-127. If you want e.g. `00050` to be okay too, stick a `0*` on the front, which regexp for &#39;any amount of zeroes&#39;.\r\n\r\nI think this exercise is quite a reach. As the answers provided so far clearly attest, no java programmer would get in their right mind to solve such a task by using the regexp pattern powers of scanner, they&#39;d just read an `int` and use an `if` like normal. As the unwieldiness of that regexp shows, using a regex pattern to limit numeric input is not really what it is meant for. A key insight into writing readable, flexible code is to avoid doing that: Using a thing in a way that the author of the thing clearly was not at all thinking about when they wrote it is a fine way to create confusing code that runs into bugs quickly and may no longer work nearly as well in future updates of said thing. I guess it&#39;s testing if you can think creatively and read documentation, perhaps?\r\n\r\nIf you can contact the author of this question, you might want to have them read this answer too :)\r\n\r\nI&#39;ll be filing a bug over at OpenJDK about the subtle mistake in the docs, at any rate.\r\n","title":"Creating an exception without conditions?","body":"<p>This question is a tad disingenuous. A requirement that 50-127 is accepted, the rest is not, is not normally possible without flow control. So we <em>need</em> flow control, but, we're not allowed to use flow control.</p>\n<p>Quite the dilemma.</p>\n<p>It's a bit like an escape room. You must screw together this intricate thing, but, you don't have a screwdriver (all your pockets were emptied before entering it), so now what? Well, you look around the room. What tools <em>do</em> you have? Even if they are epically not suited to the job, can they be used to deliver?</p>\n<p>So, let's look. What do we have? We have scanner.</p>\n<p>We need to look at <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Scanner.html\" rel=\"nofollow noreferrer\">what you can do with those</a>, and see if that helps, because other than Scanner you're not given much room to work.</p>\n<p>And lo! Scanner delivers. It's a method that is almost never used with scanner, but it's there, and it'll give us a way through: <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Scanner.html#next(java.util.regex.Pattern)\" rel=\"nofollow noreferrer\">The <code>next(Pattern)</code> method</a> can do the job.</p>\n<p>Quoting from the javadoc:</p>\n<blockquote>\n<p>Returns the next token if it matches the specified pattern.</p>\n</blockquote>\n<p>Great!</p>\n<p>Now, I'm flabbergasted, but <strong>the docs are broken</strong>. Java is used by millions of people and the docs are taken fairly seriously, so that is mostly an indictment on how little this method is used. Nobody, apparently, noticed. The thing missing from the docs is subtle, but important: What happens if the next token in the stream <em>does not</em> match the specified pattern? The docs don't say. But the scanner acts the exact same way as when you call e.g. <code>nextInt()</code> and the next token is <em>not</em> an int: It throws <code>InputMismatchException</code>.</p>\n<p>This means <code>next(Pattern)</code> is the complete package: Will pass if input 'matches the pattern' and throws if it does not, so now all we need is a pattern that matches if the input is 50-127 and fails otherwise. We can trivially do that, though we'll need to dive into <a href=\"https://www.baeldung.com/regular-expressions-java\" rel=\"nofollow noreferrer\">Regular Expressions</a> to do the job - as that is the 'language' for the pattern we can provide to this next method. (There is a <code>String</code> variant too, but it just parses your string as... a regular expression, so we can't get out of reading up on those).</p>\n<pre><code>Scanner s = new Scanner(System.in);\nint value = s.next(&quot;[5-9][0-9]|1[0-1][0-9]|12[0-7]&quot;);\n</code></pre>\n<p>It's a rather unwieldy pattern, but it'll get the job done. This pattern says:</p>\n<ul>\n<li>The input has to be one of these 3 different options (<code>a|b|c</code> is regexp for: either <code>a</code>, or <code>b</code>, or <code>c</code>)</li>\n<li>Option 1: A 5/6/7/8/9, followed by any digit.</li>\n<li>Option 2: A 1, followed by a 0 or a 1, followed by any digit.</li>\n<li>Option 3: A 1, a 2, and then a 0/1/2/3/4/5/6/7.</li>\n</ul>\n<p>That'll covers 50-127. If you want e.g. <code>00050</code> to be okay too, stick a <code>0*</code> on the front, which regexp for 'any amount of zeroes'.</p>\n<p>I think this exercise is quite a reach. As the answers provided so far clearly attest, no java programmer would get in their right mind to solve such a task by using the regexp pattern powers of scanner, they'd just read an <code>int</code> and use an <code>if</code> like normal. As the unwieldiness of that regexp shows, using a regex pattern to limit numeric input is not really what it is meant for. A key insight into writing readable, flexible code is to avoid doing that: Using a thing in a way that the author of the thing clearly was not at all thinking about when they wrote it is a fine way to create confusing code that runs into bugs quickly and may no longer work nearly as well in future updates of said thing. I guess it's testing if you can think creatively and read documentation, perhaps?</p>\n<p>If you can contact the author of this question, you might want to have them read this answer too :)</p>\n<p>I'll be filing a bug over at OpenJDK about the subtle mistake in the docs, at any rate.</p>\n"},{"tags":[],"owner":{"account_id":3415144,"reputation":23576,"user_id":2864275,"display_name":"Iłya Bursov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663742236,"creation_date":1663742236,"answer_id":73796309,"question_id":73766726,"body_markdown":"Quite standard approach for such problems is to use lookup tables, something like this:\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class TestProgram {\r\n        private interface Handler {\r\n            void handle(final int value);\r\n        }\r\n        private static class NullHandler implements Handler {\r\n            public void handle(final int value) { }\r\n        }\r\n        private static class TooLowHandler implements Handler {\r\n            public void handle(final int value) {\r\n                throw new IllegalArgumentException(&quot;Value &quot; + value + &quot; is too low&quot;);\r\n            }\r\n        }\r\n        private static class TooHighHandler implements Handler {\r\n            public void handle(final int value) {\r\n                throw new IllegalArgumentException(&quot;Value &quot; + value + &quot; is too high&quot;);\r\n            }\r\n        }\r\n        private static void checkLow(final int value) {\r\n            final int sign = ((value - 50) &gt;&gt; 31) &amp; 1;\r\n            new Handler[]{new NullHandler(), new TooLowHandler()}[sign].handle(value);\r\n        }\r\n        private static void checkHigh(final int value) {\r\n            final int sign = ((value - 128) &gt;&gt; 31) &amp; 1;\r\n            new Handler[]{new TooHighHandler(), new NullHandler()}[sign].handle(value);\r\n        }\r\n        public static void main(final String args[]) {\r\n            final Scanner scanner = new Scanner(System.in);\r\n            final int p = scanner.nextInt();\r\n            final int q = scanner.nextInt();\r\n            System.out.println(p + &quot; &quot; + q);\r\n    \r\n            checkLow(p); checkLow(q);\r\n            checkHigh(p); checkHigh(q);\r\n        }\r\n    }","title":"Creating an exception without conditions?","body":"<p>Quite standard approach for such problems is to use lookup tables, something like this:</p>\n<pre><code>import java.util.Scanner;\n\npublic class TestProgram {\n    private interface Handler {\n        void handle(final int value);\n    }\n    private static class NullHandler implements Handler {\n        public void handle(final int value) { }\n    }\n    private static class TooLowHandler implements Handler {\n        public void handle(final int value) {\n            throw new IllegalArgumentException(&quot;Value &quot; + value + &quot; is too low&quot;);\n        }\n    }\n    private static class TooHighHandler implements Handler {\n        public void handle(final int value) {\n            throw new IllegalArgumentException(&quot;Value &quot; + value + &quot; is too high&quot;);\n        }\n    }\n    private static void checkLow(final int value) {\n        final int sign = ((value - 50) &gt;&gt; 31) &amp; 1;\n        new Handler[]{new NullHandler(), new TooLowHandler()}[sign].handle(value);\n    }\n    private static void checkHigh(final int value) {\n        final int sign = ((value - 128) &gt;&gt; 31) &amp; 1;\n        new Handler[]{new TooHighHandler(), new NullHandler()}[sign].handle(value);\n    }\n    public static void main(final String args[]) {\n        final Scanner scanner = new Scanner(System.in);\n        final int p = scanner.nextInt();\n        final int q = scanner.nextInt();\n        System.out.println(p + &quot; &quot; + q);\n\n        checkLow(p); checkLow(q);\n        checkHigh(p); checkHigh(q);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":26374681,"reputation":11,"user_id":20028825,"display_name":"Poppele"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"answer_count":3,"score":-4,"last_activity_date":1663742236,"creation_date":1663539165,"question_id":73766726,"body_markdown":"I have to create a program in which I input 2 values simultaneously but, these values must range from 50 to 127. If the value is less than 50 or above 127 it should show an exception saying &quot;value entered&quot; is too low or too high. As a requirement for the program, I cannot use flow-control statements. I have not tried anything as I am lost\r\nUPDATE: WITH THE HELP OF YOUR COMMENTS I HAVE SATISFIED THE 127 CONDITION, AND MAY BE ON THE WAY TO SATISFYING THE LOWER CONDITION WITH THE NEXT(PATTERN) METHOD. I AM CURRENTLY CONTACTING MY TEACHER AND ASKING IF SATISFYING THE 127 CONDITION IS ENOUGH. THANK YOU ALL\r\n\r\nUPDATE 2: the 127 condition was enough!\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class A1_Q1 {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\t// declaration of variables\r\n    \t\tdouble x, y, z;\r\n    \t\tint p, q;\r\n    \t\tScanner kBoard = new Scanner(System.in);\r\n    \r\n    \t\tSystem.out.println(&quot;Welcome to the Simple 3D-Space Program:&quot;);\r\n    \t\tSystem.out.println(&quot;+++++++++++++++++++++++++++++++++++++++&quot;);\r\n    \t\tSystem.out.print(&quot;Enter values for &#39;p&#39; and &#39;q&#39; simultaneously. Must be between 50 and 127:&quot;);\r\n    \r\n    \t\tString input = kBoard.nextLine();\r\n    \r\n    //separating first number and second number from the inputed line\r\n    \t\tString firstNum = input.substring(0, input.indexOf(&quot; &quot;));\r\n    \t\tString secondNum = input.substring(input.indexOf(&quot; &quot;), input.length());\r\n    \r\n    //isolating numbers from the strings and filtering out\r\n    \t\tString numOnlyP = firstNum.replaceAll(&quot;[^0-9]&quot;, &quot;&quot;);\r\n    \t\tString numOnlyQ = secondNum.replaceAll(&quot;[^0-9]&quot;, &quot;&quot;);\r\n    \r\n    //transforming string into integer values\r\n    \t\tp = Integer.parseInt(numOnlyP);\r\n    \t\tq = Integer.parseInt(numOnlyQ);\r\n    \r\n    //to check and see if previous code was functioning correctly\r\n    \t\tSystem.out.println(p + &quot; &quot; + q);\r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"Creating an exception without conditions?","body":"<p>I have to create a program in which I input 2 values simultaneously but, these values must range from 50 to 127. If the value is less than 50 or above 127 it should show an exception saying &quot;value entered&quot; is too low or too high. As a requirement for the program, I cannot use flow-control statements. I have not tried anything as I am lost\nUPDATE: WITH THE HELP OF YOUR COMMENTS I HAVE SATISFIED THE 127 CONDITION, AND MAY BE ON THE WAY TO SATISFYING THE LOWER CONDITION WITH THE NEXT(PATTERN) METHOD. I AM CURRENTLY CONTACTING MY TEACHER AND ASKING IF SATISFYING THE 127 CONDITION IS ENOUGH. THANK YOU ALL</p>\n<p>UPDATE 2: the 127 condition was enough!</p>\n<pre><code>import java.util.Scanner;\n\npublic class A1_Q1 {\n\n    public static void main(String[] args) {\n        // declaration of variables\n        double x, y, z;\n        int p, q;\n        Scanner kBoard = new Scanner(System.in);\n\n        System.out.println(&quot;Welcome to the Simple 3D-Space Program:&quot;);\n        System.out.println(&quot;+++++++++++++++++++++++++++++++++++++++&quot;);\n        System.out.print(&quot;Enter values for 'p' and 'q' simultaneously. Must be between 50 and 127:&quot;);\n\n        String input = kBoard.nextLine();\n\n//separating first number and second number from the inputed line\n        String firstNum = input.substring(0, input.indexOf(&quot; &quot;));\n        String secondNum = input.substring(input.indexOf(&quot; &quot;), input.length());\n\n//isolating numbers from the strings and filtering out\n        String numOnlyP = firstNum.replaceAll(&quot;[^0-9]&quot;, &quot;&quot;);\n        String numOnlyQ = secondNum.replaceAll(&quot;[^0-9]&quot;, &quot;&quot;);\n\n//transforming string into integer values\n        p = Integer.parseInt(numOnlyP);\n        q = Integer.parseInt(numOnlyQ);\n\n//to check and see if previous code was functioning correctly\n        System.out.println(p + &quot; &quot; + q);\n    }\n\n}\n</code></pre>\n"},{"tags":["java","regex"],"comments":[{"owner":{"display_name":"user7571182"},"score":4,"creation_date":1594096784,"post_id":62768207,"comment_id":110998599,"body_markdown":"Please try [`~\\|~`](https://regex101.com/r/BQxJZT/4)","body":"Please try <a href=\"https://regex101.com/r/BQxJZT/4\" rel=\"nofollow noreferrer\"><code>~\\|~</code></a>"},{"owner":{"account_id":2572634,"reputation":1332,"user_id":2230961,"accept_rate":52,"display_name":"Vijay_Shinde"},"score":2,"creation_date":1594096982,"post_id":62768207,"comment_id":110998644,"body_markdown":"Perfect @Mandy8055. It is working as I expected. Thanks a lot. Add your comment as an answer","body":"Perfect @Mandy8055. It is working as I expected. Thanks a lot. Add your comment as an answer"},{"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":0,"creation_date":1594472177,"post_id":62768207,"comment_id":111141193,"body_markdown":"@Mandy8055 - You should have added your comment as an answer. As also confirmed by OP, the solution in your comment is precisely what he needed.","body":"@Mandy8055 - You should have added your comment as an answer. As also confirmed by OP, the solution in your comment is precisely what he needed."}],"answers":[{"tags":[],"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1594471723,"creation_date":1594097011,"answer_id":62768282,"question_id":62768207,"body_markdown":"You only need a single backslash when running it from the command line. The reason you need two when making the regular expression in Java is that backslash is used to escape the next character in a string literal or start an escape sequence so one backslash is needed to escape the next one in order for it to be interpreted literally.\r\n\r\n```\r\n~\\|~\r\n```","title":"How to split string on &#39;~|~&#39; separator in Java?","body":"<p>You only need a single backslash when running it from the command line. The reason you need two when making the regular expression in Java is that backslash is used to escape the next character in a string literal or start an escape sequence so one backslash is needed to escape the next one in order for it to be interpreted literally.</p>\n<pre><code>~\\|~\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1046868,"reputation":5163,"user_id":1051677,"accept_rate":100,"display_name":"Silviu Burcea"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1594100157,"creation_date":1594099282,"answer_id":62768604,"question_id":62768207,"body_markdown":"You don&#39;t have to escape:\r\n```java\r\npublic static void main(String[] args) {\r\n    Pattern p = Pattern.compile(args[0], Pattern.LITERAL);\r\n    final String[] result = p.split(&quot;1~|~Vijay~|~25~|~Pune&quot;);\r\n    Arrays.stream(result).forEach(System.out::println);\r\n}\r\n```\r\nRunning:\r\n```bash\r\njavac Main.java\r\njava Main &quot;~|~&quot;\r\n```\r\n\r\nOutput:\r\n```\r\n1\r\nVijay\r\n25\r\nPune\r\n```\r\nWhere `args[0]` is equal to `~|~` (no escaping). The trick is that pattern flag, `Pattern.LITERAL`, which treats every character, including `|`, as normal character, ignoring their meta meaning.","title":"How to split string on &#39;~|~&#39; separator in Java?","body":"<p>You don't have to escape:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    Pattern p = Pattern.compile(args[0], Pattern.LITERAL);\n    final String[] result = p.split(&quot;1~|~Vijay~|~25~|~Pune&quot;);\n    Arrays.stream(result).forEach(System.out::println);\n}\n</code></pre>\n<p>Running:</p>\n<pre class=\"lang-sh prettyprint-override\"><code>javac Main.java\njava Main &quot;~|~&quot;\n</code></pre>\n<p>Output:</p>\n<pre><code>1\nVijay\n25\nPune\n</code></pre>\n<p>Where <code>args[0]</code> is equal to <code>~|~</code> (no escaping). The trick is that pattern flag, <code>Pattern.LITERAL</code>, which treats every character, including <code>|</code>, as normal character, ignoring their meta meaning.</p>\n"},{"tags":[],"owner":{"account_id":4831287,"reputation":11388,"user_id":3899431,"display_name":"Luis Colorado"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1594181634,"creation_date":1594180450,"answer_id":62787282,"question_id":62768207,"body_markdown":"Please, do a `System.out.println(&quot;[&quot; + args[i] + &quot;]&quot;);` to see what java is receiving from the command line, as the `\\ ` character is special for the shell and aso are the `|` and `~` chars (the last one expands to your home directory, which could be a problem) \r\n\r\nYou need to pass:\r\n```\r\njava foo_bar &#39;~\\|~&#39;\r\n```\r\n(Java still needs **a single `\\ `** this time to escape the vertical bar, as you are not writing a string literal for the java compiler but a simple string representing the internal representation of the above string literal, the `\\ ` character doesn&#39;t need to be escaped, as it is inside single quotes so it is passed directly to the java program) Any quoting (single or double quotes) suffices to avoid `~` expansion.\r\n\r\nIf you are passing\r\n```\r\njava foo_bar &#39;~\\\\|~&#39;\r\n```\r\nthe shell will not assume the `\\ ` as a escaping character and will pass the equivalent to this `String` literal:\r\n```\r\nString sa[] = s.split(&quot;~\\\\\\\\|~&quot;, -1); /* to escapes mean a literal escape */\r\n```\r\n(see that now the vertical bar doesn&#39;t have its special significance)\r\n\r\n...which is far different (you meant this time: _split on one `~\\ ` sequence, this is, a `~` followed by a backslash, or just a single `~` character_, and as there are no `~`s followed by a backslash, the second option was used.  You should get:\r\n```\r\n1\r\n|\r\nVijay\r\n|\r\n25\r\n|\r\nPune\r\n```\r\nWhich is the output you post.","title":"How to split string on &#39;~|~&#39; separator in Java?","body":"<p>Please, do a <code>System.out.println(&quot;[&quot; + args[i] + &quot;]&quot;);</code> to see what java is receiving from the command line, as the <code>\\ </code> character is special for the shell and aso are the <code>|</code> and <code>~</code> chars (the last one expands to your home directory, which could be a problem)</p>\n<p>You need to pass:</p>\n<pre><code>java foo_bar '~\\|~'\n</code></pre>\n<p>(Java still needs <strong>a single <code>\\ </code></strong> this time to escape the vertical bar, as you are not writing a string literal for the java compiler but a simple string representing the internal representation of the above string literal, the <code>\\ </code> character doesn't need to be escaped, as it is inside single quotes so it is passed directly to the java program) Any quoting (single or double quotes) suffices to avoid <code>~</code> expansion.</p>\n<p>If you are passing</p>\n<pre><code>java foo_bar '~\\\\|~'\n</code></pre>\n<p>the shell will not assume the <code>\\ </code> as a escaping character and will pass the equivalent to this <code>String</code> literal:</p>\n<pre><code>String sa[] = s.split(&quot;~\\\\\\\\|~&quot;, -1); /* to escapes mean a literal escape */\n</code></pre>\n<p>(see that now the vertical bar doesn't have its special significance)</p>\n<p>...which is far different (you meant this time: <em>split on one <code>~\\ </code> sequence, this is, a <code>~</code> followed by a backslash, or just a single <code>~</code> character</em>, and as there are no <code>~</code>s followed by a backslash, the second option was used.  You should get:</p>\n<pre><code>1\n|\nVijay\n|\n25\n|\nPune\n</code></pre>\n<p>Which is the output you post.</p>\n"}],"owner":{"account_id":2572634,"reputation":1332,"user_id":2230961,"accept_rate":52,"display_name":"Vijay_Shinde"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":402,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1663741896,"creation_date":1594096494,"question_id":62768207,"body_markdown":"I have input String &#39;~|~&#39; as the delimiter. \r\n\r\nFor example:\r\nString s = &quot;1~|~Vijay~|~25~|~Pune&quot;;\r\nwhen I am splitting it with &#39;~\\\\\\\\|~&#39; in Java it is working fine.\r\n\r\n\tString sa[] = s.split(&quot;~\\\\|~&quot;, -1);\r\n\tfor(String str : sa) {\r\n\t\tSystem.out.println(str);\r\n\t}\r\n\r\nI am getting the below output.\r\n\r\n    1\r\n    Vijay\r\n    25\r\n    Pune\r\n\r\nWhen the same program I am running by passing a command-line argument(&#39;~\\\\\\\\|~&#39;). It is not properly parsing the string and giving it below output.\r\n\r\n    1\r\n    |\r\n    Vijay\r\n    |\r\n    25\r\n    |\r\n    Pune\r\n\r\nIs anyone else facing the same issue? please comment on this issue.\r\n\r\n","title":"How to split string on &#39;~|~&#39; separator in Java?","body":"<p>I have input String '~|~' as the delimiter.</p>\n<p>For example:\nString s = &quot;1~|~Vijay~|~25~|~Pune&quot;;\nwhen I am splitting it with '~\\\\|~' in Java it is working fine.</p>\n<pre><code>String sa[] = s.split(&quot;~\\\\|~&quot;, -1);\nfor(String str : sa) {\n    System.out.println(str);\n}\n</code></pre>\n<p>I am getting the below output.</p>\n<pre><code>1\nVijay\n25\nPune\n</code></pre>\n<p>When the same program I am running by passing a command-line argument('~\\\\|~'). It is not properly parsing the string and giving it below output.</p>\n<pre><code>1\n|\nVijay\n|\n25\n|\nPune\n</code></pre>\n<p>Is anyone else facing the same issue? please comment on this issue.</p>\n"},{"tags":["java","pdf-reader","acrofields","pdfstamper"],"comments":[{"owner":{"account_id":18167021,"reputation":21,"user_id":15340800,"display_name":"Bindu Kumari"},"score":0,"creation_date":1663743526,"post_id":73796171,"comment_id":130308299,"body_markdown":"Can anyone please help on this Is it the way acrofields works for mobile no? or we can edit its code from acrofields.java?","body":"Can anyone please help on this Is it the way acrofields works for mobile no? or we can edit its code from acrofields.java?"},{"owner":{"account_id":18167021,"reputation":21,"user_id":15340800,"display_name":"Bindu Kumari"},"score":0,"creation_date":1663750002,"post_id":73796171,"comment_id":130310474,"body_markdown":"Please anyone  reply on this.","body":"Please anyone  reply on this."},{"owner":{"account_id":18167021,"reputation":21,"user_id":15340800,"display_name":"Bindu Kumari"},"score":0,"creation_date":1663777417,"post_id":73796171,"comment_id":130320910,"body_markdown":"Please anyone reply on this post with relevent approach.","body":"Please anyone reply on this post with relevent approach."}],"owner":{"account_id":18167021,"reputation":21,"user_id":15340800,"display_name":"Bindu Kumari"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1663741747,"creation_date":1663741397,"question_id":73796171,"body_markdown":"I am using the following lines of code:\r\nbos = new ByteArrayOutputStream();\r\n\r\n\tblankStatutoryFormsFolder = CommonUtil.getLocalPath() + environment.getProperty(&quot;Blank_Statutory_Forms&quot;);\r\n\r\n\treader = new PdfReader(blankStatutoryFormsFolder + &quot;FORM_11.pdf&quot;);\r\n\tstamper = new PdfStamper(reader, bos, &#39;\\0&#39;, true);\r\n\tacroFields = stamper.getAcroFields();\r\n\r\n\r\nThese 4 lines are working fine .Document is getting dowloaded.\r\nI want to auto populate the mobile no in the mobile no section of this field .I am using this line of code:\r\n\r\n    if (employeeResponse.getMobileNo() != null) {\r\n\t\t\t\t\tacroFields.setField(&quot;topmostSubform[0].Page1[0].mobile_no[0]&quot;, employeeResponse.getMobileNo());\r\n\t\t\t\t}\r\n\r\nemployeeResponse.getMobileNo() is coming as +91-9617447617 which is correct (isd code+mobile no) . But the dowloaded pdf has mobile no field section as +91-961744 . Means it is taking isd code and symbols also in calculating the size of the number . \r\n\r\nCan anyone please help me on how to create validation here so that the downloaded pdf contains both isd code + 10 digit mobile number.i.e (+91-9617447617) .\r\n\r\nsharing the link of the pdf: https://emerald-brear-93.tiiny.site/","title":"acrofields validation on mobile no taking isd code also in calculating the length of mobile no","body":"<p>I am using the following lines of code:\nbos = new ByteArrayOutputStream();</p>\n<pre><code>blankStatutoryFormsFolder = CommonUtil.getLocalPath() + environment.getProperty(&quot;Blank_Statutory_Forms&quot;);\n\nreader = new PdfReader(blankStatutoryFormsFolder + &quot;FORM_11.pdf&quot;);\nstamper = new PdfStamper(reader, bos, '\\0', true);\nacroFields = stamper.getAcroFields();\n</code></pre>\n<p>These 4 lines are working fine .Document is getting dowloaded.\nI want to auto populate the mobile no in the mobile no section of this field .I am using this line of code:</p>\n<pre><code>if (employeeResponse.getMobileNo() != null) {\n                acroFields.setField(&quot;topmostSubform[0].Page1[0].mobile_no[0]&quot;, employeeResponse.getMobileNo());\n            }\n</code></pre>\n<p>employeeResponse.getMobileNo() is coming as +91-9617447617 which is correct (isd code+mobile no) . But the dowloaded pdf has mobile no field section as +91-961744 . Means it is taking isd code and symbols also in calculating the size of the number .</p>\n<p>Can anyone please help me on how to create validation here so that the downloaded pdf contains both isd code + 10 digit mobile number.i.e (+91-9617447617) .</p>\n<p>sharing the link of the pdf: <a href=\"https://emerald-brear-93.tiiny.site/\" rel=\"nofollow noreferrer\">https://emerald-brear-93.tiiny.site/</a></p>\n"},{"tags":["java","reactjs","spring","reactive-programming","spring-webflux"],"answers":[{"tags":[],"owner":{"account_id":1282249,"reputation":3856,"user_id":1236099,"accept_rate":51,"display_name":"madhairsilence"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663741715,"creation_date":1663741715,"answer_id":73796228,"question_id":73757722,"body_markdown":"Yes . Subscribe should not be used. You let the framework subscribe. You can very well use the same `onSuccess` on this\r\n\r\n   return this.shiftRepository.findAll().doOnsuccess(u -&gt; this.sink.tryEmitNext(u));","title":"How to end nested subscriptions in spring web flux?","body":"<p>Yes . Subscribe should not be used. You let the framework subscribe. You can very well use the same <code>onSuccess</code> on this</p>\n<p>return this.shiftRepository.findAll().doOnsuccess(u -&gt; this.sink.tryEmitNext(u));</p>\n"}],"owner":{"account_id":15906218,"reputation":83,"user_id":11477360,"display_name":"Hassan Raza"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":224,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1663741715,"creation_date":1663441224,"question_id":73757722,"body_markdown":"I am trying to have my app so that when a new entry is added to the back end, the front end is notified of the new changes through event source. The code is shown below, this all seems to work well, but I am not sure if making a subscription in a method (getAllShifts) like that is good practice as I am not sure how it gets disposed? Does the subscription end when the client closes the app or the event source ends? Any guidance on that would be helpful.\r\n\r\n```\r\n@Service\r\npublic class ShiftService {\r\n\r\n    @Autowired\r\n    ShiftRepository shiftRepository;\r\n\r\n    private Sinks.Many&lt;Shift&gt; sink = Sinks.many().replay().latest();\r\n\r\n    public Mono&lt;Shift&gt; addShift(Shift shift) throws InterruptedException {\r\n        Mono&lt;Shift&gt; shiftt = shiftRepository.save(shift);\r\n        return shiftt\r\n                .doOnSuccess(u -&gt; this.sink.tryEmitNext(u));\r\n    }\r\n\r\n\r\n   \r\n    public Flux&lt;Shift&gt; getAllShifts() {\r\n \r\n        this.shiftRepository.findAll().subscribe(u -&gt; this.sink.tryEmitNext(u));\r\n        return sink.asFlux();\r\n    }\r\n}\r\n```\r\n\r\nAnother question, if we make a subscription to a Mono, do we need to dispose it or does it take care of itself as there is just one item to be emitted?\r\n","title":"How to end nested subscriptions in spring web flux?","body":"<p>I am trying to have my app so that when a new entry is added to the back end, the front end is notified of the new changes through event source. The code is shown below, this all seems to work well, but I am not sure if making a subscription in a method (getAllShifts) like that is good practice as I am not sure how it gets disposed? Does the subscription end when the client closes the app or the event source ends? Any guidance on that would be helpful.</p>\n<pre><code>@Service\npublic class ShiftService {\n\n    @Autowired\n    ShiftRepository shiftRepository;\n\n    private Sinks.Many&lt;Shift&gt; sink = Sinks.many().replay().latest();\n\n    public Mono&lt;Shift&gt; addShift(Shift shift) throws InterruptedException {\n        Mono&lt;Shift&gt; shiftt = shiftRepository.save(shift);\n        return shiftt\n                .doOnSuccess(u -&gt; this.sink.tryEmitNext(u));\n    }\n\n\n   \n    public Flux&lt;Shift&gt; getAllShifts() {\n \n        this.shiftRepository.findAll().subscribe(u -&gt; this.sink.tryEmitNext(u));\n        return sink.asFlux();\n    }\n}\n</code></pre>\n<p>Another question, if we make a subscription to a Mono, do we need to dispose it or does it take care of itself as there is just one item to be emitted?</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1439536897,"post_id":32004382,"comment_id":51911570,"body_markdown":"It would be easier to reproduce this if you just hard-coded the data into your program... mind if I do that?","body":"It would be easier to reproduce this if you just hard-coded the data into your program... mind if I do that?"},{"owner":{"account_id":1417953,"reputation":45783,"user_id":1343161,"accept_rate":100,"display_name":"Keppil"},"score":0,"creation_date":1439537047,"post_id":32004382,"comment_id":51911623,"body_markdown":"Isn&#39;t this just a matter of changing `%-5s` to `%-15s`?","body":"Isn&#39;t this just a matter of changing <code>%-5s</code> to <code>%-15s</code>?"},{"owner":{"account_id":6764148,"reputation":13,"user_id":5209672,"accept_rate":25,"display_name":"Himanshu"},"score":0,"creation_date":1439537076,"post_id":32004382,"comment_id":51911638,"body_markdown":"@JonSkeet sorry i couldnt get you . please make me clear . i am new user .","body":"@JonSkeet sorry i couldnt get you . please make me clear . i am new user ."},{"owner":{"account_id":1417953,"reputation":45783,"user_id":1343161,"accept_rate":100,"display_name":"Keppil"},"score":1,"creation_date":1439537128,"post_id":32004382,"comment_id":51911661,"body_markdown":"Also, the output you show here must be from a previous version of the program. It is not from the exact code posted in the question at least.","body":"Also, the output you show here must be from a previous version of the program. It is not from the exact code posted in the question at least."},{"owner":{"account_id":6764148,"reputation":13,"user_id":5209672,"accept_rate":25,"display_name":"Himanshu"},"score":0,"creation_date":1439537306,"post_id":32004382,"comment_id":51911760,"body_markdown":"import java.util.Scanner;\n\npublic class Solution {\n\n    public static void main(String[] args) {\n            Scanner sc=new Scanner(System.in);\n            System.out.println(&quot;================================&quot;);\n            \n            for(int i=0;i&lt;3;i++)\n            {\n                String s1=sc.next();\n                int x=sc.nextInt();\n                System.out.printf(&quot;%-5s %03d %n&quot;,s1,x);\n                //Complete this line\n            }\n            System.out.println(&quot;================================&quot;);\n\n    }\n}code  is working but i can not able to meet the desired output","body":"import java.util.Scanner;  public class Solution {      public static void main(String[] args) {             Scanner sc=new Scanner(System.in);             System.out.println(&quot;================================&quot;);                          for(int i=0;i&lt;3;i++)             {                 String s1=sc.next();                 int x=sc.nextInt();                 System.out.printf(&quot;%-5s %03d %n&quot;,s1,x);                 //Complete this line             }             System.out.println(&quot;================================&quot;);      } }code  is working but i can not able to meet the desired output"},{"owner":{"account_id":6764148,"reputation":13,"user_id":5209672,"accept_rate":25,"display_name":"Himanshu"},"score":0,"creation_date":1439537538,"post_id":32004382,"comment_id":51911884,"body_markdown":"@Keppil  thk . can you please tell m the &quot;-&quot; sign meaning before % s","body":"@Keppil  thk . can you please tell m the &quot;-&quot; sign meaning before % s"},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1439537575,"post_id":32004382,"comment_id":51911910,"body_markdown":"I mean that in order to reproduce the problem, we have to type stuff into the console. There&#39;s no need for that. Will edit so you can see what I mean.","body":"I mean that in order to reproduce the problem, we have to type stuff into the console. There&#39;s no need for that. Will edit so you can see what I mean."},{"owner":{"account_id":1417953,"reputation":45783,"user_id":1343161,"accept_rate":100,"display_name":"Keppil"},"score":0,"creation_date":1439537593,"post_id":32004382,"comment_id":51911919,"body_markdown":"The &#180;-&#180; makes the text left-aligned instead of right-aligned.","body":"The &#180;-&#180; makes the text left-aligned instead of right-aligned."},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1439537677,"post_id":32004382,"comment_id":51911960,"body_markdown":"Btw, when I run this code I get 065 and 050 displayed, not 65 and 50... are you sure you&#39;re seeing the output you put into the question?","body":"Btw, when I run this code I get 065 and 050 displayed, not 65 and 50... are you sure you&#39;re seeing the output you put into the question?"}],"answers":[{"tags":[],"owner":{"account_id":3371785,"reputation":1373,"user_id":2830842,"accept_rate":79,"display_name":"Raghu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1439559445,"creation_date":1439537372,"answer_id":32004592,"question_id":32004382,"body_markdown":"        System.out.printf(&quot;%-15s %03d %n&quot;, s1, x);\r\nwhere s1 is a string and x is a number.\r\n\r\nExplanation:\r\n   \r\n\r\n     in the above code -15s is defined as follows : - is for left justified, and width is specified as 15. s is to print the string\r\n     in the above code  %03d is defined as follows.\r\n       \r\n        0 - to pad with zeros\r\n        3 - width of the field was set as 3.\r\n\r\n    Running the program:\r\n            ================================\r\n            java 100(input)\r\n            java           100\r\n            cpp 65(input)\r\n            cpp            065\r\n            ================================\r\n\r\n    Now the second line output &quot;100&quot;, starts at the 16th character/position.Also it is padding 0 in the 4th line output.\r\n","title":"java system.out.printf format numerics rounding off and spacing issue together","body":"<pre><code>    System.out.printf(\"%-15s %03d %n\", s1, x);\n</code></pre>\n\n<p>where s1 is a string and x is a number.</p>\n\n<p>Explanation:</p>\n\n<pre><code> in the above code -15s is defined as follows : - is for left justified, and width is specified as 15. s is to print the string\n in the above code  %03d is defined as follows.\n\n    0 - to pad with zeros\n    3 - width of the field was set as 3.\n\nRunning the program:\n        ================================\n        java 100(input)\n        java           100\n        cpp 65(input)\n        cpp            065\n        ================================\n\nNow the second line output \"100\", starts at the 16th character/position.Also it is padding 0 in the 4th line output.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1439537870,"creation_date":1439537870,"answer_id":32004722,"question_id":32004382,"body_markdown":"The code you&#39;ve got doesn&#39;t match the output you&#39;ve shown - it&#39;s *nearly* right already. It comes up with:\r\n\r\n    java  100 \r\n    cpp   065 \r\n    python 060\r\n\r\nThe only problem here is that you&#39;re right-padding the names to a minimum of 5 characters... but python has 6 characters. So you just need to increase the `5` in your format string. For example:\r\n\r\n    System.out.printf(&quot;%-10s %03d %n&quot;, languages[i], values[i]);\r\n\r\nSeparately, your comments have suggested that you don&#39;t know what each of the bits of your format string does. You should read the [`Formatter`][1] documentation carefully. For example, the `-` in `%-10s` is a flag, with a meaning of &quot;The result will be left-justified.&quot;\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/util/Formatter.html#syntax","title":"java system.out.printf format numerics rounding off and spacing issue together","body":"<p>The code you've got doesn't match the output you've shown - it's <em>nearly</em> right already. It comes up with:</p>\n\n<pre><code>java  100 \ncpp   065 \npython 060\n</code></pre>\n\n<p>The only problem here is that you're right-padding the names to a minimum of 5 characters... but python has 6 characters. So you just need to increase the <code>5</code> in your format string. For example:</p>\n\n<pre><code>System.out.printf(\"%-10s %03d %n\", languages[i], values[i]);\n</code></pre>\n\n<p>Separately, your comments have suggested that you don't know what each of the bits of your format string does. You should read the <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/Formatter.html#syntax\" rel=\"nofollow\"><code>Formatter</code></a> documentation carefully. For example, the <code>-</code> in <code>%-10s</code> is a flag, with a meaning of \"The result will be left-justified.\"</p>\n"},{"tags":[],"owner":{"account_id":14081080,"reputation":1,"user_id":10172115,"display_name":"Madhuri Rathod"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1533230736,"creation_date":1533225288,"answer_id":51657766,"question_id":32004382,"body_markdown":"    import java.util.Scanner;\r\n    \r\n    public class Solution {\r\n    \r\n        public static void main(String[] args) {\r\n                Scanner sc=new Scanner(System.in);\r\n                System.out.println(&quot;================================&quot;);\r\n                for(int i=0;i&lt;3;i++){\r\n                    String s1=sc.next();\r\n                    int x=sc.nextInt();\r\n                    //Complete this line\r\n                    System.out.print(s1 );\r\n                    System.out.print(&quot;\\t\\t&quot;);\r\n                    \r\n                    System.out.println(x);\r\n        \r\n                    \r\n                }\r\n                System.out.println(&quot;================================&quot;);\r\n    \r\n        }\r\n    }\r\n\r\n","title":"java system.out.printf format numerics rounding off and spacing issue together","body":"<pre><code>import java.util.Scanner;\n\npublic class Solution {\n\n    public static void main(String[] args) {\n            Scanner sc=new Scanner(System.in);\n            System.out.println(\"================================\");\n            for(int i=0;i&lt;3;i++){\n                String s1=sc.next();\n                int x=sc.nextInt();\n                //Complete this line\n                System.out.print(s1 );\n                System.out.print(\"\\t\\t\");\n\n                System.out.println(x);\n\n\n            }\n            System.out.println(\"================================\");\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15714031,"reputation":99,"user_id":11338662,"display_name":"Rupak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1567614911,"creation_date":1567614911,"answer_id":57792572,"question_id":32004382,"body_markdown":"```\r\nSystem.out.printf(&quot;%-15s%03d%n&quot;, s1, x);\r\n```\r\nI don&#39;t know why but removing white-spaces inside &quot;&quot; works.","title":"java system.out.printf format numerics rounding off and spacing issue together","body":"<pre><code>System.out.printf(\"%-15s%03d%n\", s1, x);\n</code></pre>\n\n<p>I don't know why but removing white-spaces inside \"\" works.</p>\n"},{"tags":[],"owner":{"account_id":17715795,"reputation":1,"user_id":12862160,"display_name":"Y.Deepika"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1581147109,"creation_date":1581142587,"answer_id":60124433,"question_id":32004382,"body_markdown":"```java\r\nimport java.util.Scanner;\r\n\r\npublic class Solution {\r\n\r\n    public static void main(String[] args) {\r\n            Scanner sc=new Scanner(System.in);\r\n            System.out.println(&quot;================================&quot;);\r\n            for(int i=0;i&lt;3;i++){\r\n                String s1=sc.next();\r\n                int x=sc.nextInt();\r\n                System.out.printf(&quot;%-15s&quot;,s1);\r\n                System.out.printf(&quot;%03d&quot;,x);\r\n                System.out.println(&quot;&quot;);\r\n            }\r\n            System.out.println(&quot;================================&quot;);\r\n\r\n    }\r\n}\r\n```","title":"java system.out.printf format numerics rounding off and spacing issue together","body":"<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n\npublic class Solution {\n\n    public static void main(String[] args) {\n            Scanner sc=new Scanner(System.in);\n            System.out.println(\"================================\");\n            for(int i=0;i&lt;3;i++){\n                String s1=sc.next();\n                int x=sc.nextInt();\n                System.out.printf(\"%-15s\",s1);\n                System.out.printf(\"%03d\",x);\n                System.out.println(\"\");\n            }\n            System.out.println(\"================================\");\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9154381,"reputation":1,"user_id":10218562,"display_name":"sudarshan padale"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1602353116,"creation_date":1602351089,"answer_id":64296338,"question_id":32004382,"body_markdown":"```\r\nimport java.util.Scanner;\r\n\r\npublic class Solution {\r\n    public static void main(String[] args) {\r\n            Scanner sc=new Scanner(System.in);\r\n            System.out.println(&quot;================================&quot;);\r\n            for(int i=0;i&lt;3;i++)\r\n            {\r\n                String s1=sc.next();\r\n                int x=sc.nextInt();\r\n                //Complete this line\r\n                System.out.printf(&quot;%-14s %03d %n&quot;,s1,x);\r\n            }\r\n            System.out.println(&quot;================================&quot;);\r\n    }\r\n}\r\n```","title":"java system.out.printf format numerics rounding off and spacing issue together","body":"<pre><code>import java.util.Scanner;\n\npublic class Solution {\n    public static void main(String[] args) {\n            Scanner sc=new Scanner(System.in);\n            System.out.println(&quot;================================&quot;);\n            for(int i=0;i&lt;3;i++)\n            {\n                String s1=sc.next();\n                int x=sc.nextInt();\n                //Complete this line\n                System.out.printf(&quot;%-14s %03d %n&quot;,s1,x);\n            }\n            System.out.println(&quot;================================&quot;);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":6764148,"reputation":13,"user_id":5209672,"accept_rate":25,"display_name":"Himanshu"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2402,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":6,"score":0,"last_activity_date":1663741622,"creation_date":1439536609,"question_id":32004382,"body_markdown":"    public class Solution {    \r\n        public static void main(String[] args) {\r\n            String[] languages = { &quot;java&quot;, &quot;cpp&quot;, &quot;python&quot; };\r\n            int[] values = { 100, 65, 60 };\r\n\r\n            for (int i = 0; i &lt; 3; i++) {\r\n                System.out.printf(&quot;%-5s %03d %n&quot;, languages[i], values[i]);\r\n                //Complete this line\r\n            }\r\n        }\r\n    }\r\n\r\nOutput I&#39;m getting\r\n\r\n    java 100\r\n    cpp 65\r\n    python 50\r\n\r\nDesired output\r\n\r\n    java           100 \r\n    cpp            065 \r\n    python         050 ","title":"java system.out.printf format numerics rounding off and spacing issue together","body":"<pre><code>public class Solution {    \n    public static void main(String[] args) {\n        String[] languages = { \"java\", \"cpp\", \"python\" };\n        int[] values = { 100, 65, 60 };\n\n        for (int i = 0; i &lt; 3; i++) {\n            System.out.printf(\"%-5s %03d %n\", languages[i], values[i]);\n            //Complete this line\n        }\n    }\n}\n</code></pre>\n\n<p>Output I'm getting</p>\n\n<pre><code>java 100\ncpp 65\npython 50\n</code></pre>\n\n<p>Desired output</p>\n\n<pre><code>java           100 \ncpp            065 \npython         050 \n</code></pre>\n"},{"tags":["java","design-patterns","jdbc","dao","multiple-databases"],"answers":[{"tags":[],"owner":{"account_id":354125,"reputation":1172,"user_id":692275,"accept_rate":79,"display_name":"Ashish K Agarwal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1337051840,"creation_date":1337051840,"answer_id":10593709,"question_id":10593647,"body_markdown":"The Ideal way to achieve this is by using a multi-dimensional system like OLAP. But see if you can create a view out of those databases. Then you just need to query the view (i.e. just a single database connection). Also you can still use multiple database connections if you want.","title":"How to create multiple database connections for different databases in java","body":"<p>The Ideal way to achieve this is by using a multi-dimensional system like OLAP. But see if you can create a view out of those databases. Then you just need to query the view (i.e. just a single database connection). Also you can still use multiple database connections if you want.</p>\n"},{"tags":[],"owner":{"account_id":1486763,"reputation":47,"user_id":1394854,"accept_rate":75,"display_name":"Hareesh Narayanan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1337052064,"creation_date":1337052064,"answer_id":10593738,"question_id":10593647,"body_markdown":"You can handle multiple connections easily using a ORM tool like Hibernate.. You can specify each connection in a separate configuration file and instantiate the required connection by getting a new session factory each time. \r\n\r\nOther way would be to use datasource and JNDI : https://stackoverflow.com/questions/8491729/java-connecting-to-multiple-databases\r\n\r\nI think you can use a combination of Factory pattern and Singleton pattern for the purpose. \r\n","title":"How to create multiple database connections for different databases in java","body":"<p>You can handle multiple connections easily using a ORM tool like Hibernate.. You can specify each connection in a separate configuration file and instantiate the required connection by getting a new session factory each time. </p>\n\n<p>Other way would be to use datasource and JNDI : <a href=\"https://stackoverflow.com/questions/8491729/java-connecting-to-multiple-databases\">Java connecting to multiple databases</a></p>\n\n<p>I think you can use a combination of Factory pattern and Singleton pattern for the purpose. </p>\n"},{"tags":[],"owner":{"account_id":1013036,"reputation":20197,"user_id":1025201,"display_name":"mprabhat"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1337052984,"creation_date":1337052353,"answer_id":10593773,"question_id":10593647,"body_markdown":"There are multiple ways you can achieve this:\r\n\r\n 1. If you are using any Java EE container which supports distributed transaction then you can use there functionality.\r\n 2. If you are with plain JDBC then you will have to maintain your own connection for every database.\r\n    For JDBC:\r\n    1. Provide all connection details\r\n    2. Have an Facade which gives you desired object by calling a abstract generic DAO.\r\n    3. Have a factory which creates dao based on connection.\r\n 4. Use ORM tools like Hibernate, where you can use configuration for multiple database. [Tutorial](http://www.javabeat.net/2010/12/configuring-multiple-databases-in-hibernate/).\r\n 5. If you are using Spring, then you can configure one datasource per database. [Docs](http://static.springsource.org/spring/docs/2.0.x/reference/jdbc.html)\r\n\r\nDesign Patterns:\r\n\r\n - Facade Pattern - for hiding the complexity and multiple database usage.\r\n - Factory - In case you manage the database connection yourself.\r\n - Singleton - For datasources\r\n","title":"How to create multiple database connections for different databases in java","body":"<p>There are multiple ways you can achieve this:</p>\n\n<ol>\n<li>If you are using any Java EE container which supports distributed transaction then you can use there functionality.</li>\n<li>If you are with plain JDBC then you will have to maintain your own connection for every database.\nFor JDBC:\n<ol>\n<li>Provide all connection details</li>\n<li>Have an Facade which gives you desired object by calling a abstract generic DAO.</li>\n<li>Have a factory which creates dao based on connection.</li>\n</ol></li>\n<li>Use ORM tools like Hibernate, where you can use configuration for multiple database. <a href=\"http://www.javabeat.net/2010/12/configuring-multiple-databases-in-hibernate/\" rel=\"nofollow\">Tutorial</a>.</li>\n<li>If you are using Spring, then you can configure one datasource per database. <a href=\"http://static.springsource.org/spring/docs/2.0.x/reference/jdbc.html\" rel=\"nofollow\">Docs</a></li>\n</ol>\n\n<p>Design Patterns:</p>\n\n<ul>\n<li>Facade Pattern - for hiding the complexity and multiple database usage.</li>\n<li>Factory - In case you manage the database connection yourself.</li>\n<li>Singleton - For datasources</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":18600,"reputation":39591,"user_id":42769,"accept_rate":95,"display_name":"Adeel Ansari"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1563867485,"creation_date":1337052630,"answer_id":10593798,"question_id":10593647,"body_markdown":"As you have not tagged your question with any of this, `hibernate`, `JPA`, `ORM`, I assume you are dealing with plain JDBC.\r\n\r\nHaving said that, I suggest you to have a DAO layer to deal with underlying databases, and leave the connection details to specific implementations. You can configure your connection strings in some `.properties` files, lets say.\r\n\r\n**[Complement]**\r\n\r\nYou can also make use of DAO factory, an implementation of Abstract Factory or Factory Method pattern, whichever suits here.\r\n\r\n**[Links]**\r\n\r\n- [A very fine implementation of DAO and DAO Factory][1], by [BalusC][2]\r\n- [Core J2EE Patterns][3] -- arguably dated but might provide some idea.\r\n\r\n\r\n  [1]: http://balusc.blogspot.com/2008/07/dao-tutorial-data-layer.html\r\n  [2]: https://stackoverflow.com/users/157882/balusc\r\n  [3]: http://java.sun.com/blueprints/corej2eepatterns/Patterns/DataAccessObject.html","title":"How to create multiple database connections for different databases in java","body":"<p>As you have not tagged your question with any of this, <code>hibernate</code>, <code>JPA</code>, <code>ORM</code>, I assume you are dealing with plain JDBC.</p>\n\n<p>Having said that, I suggest you to have a DAO layer to deal with underlying databases, and leave the connection details to specific implementations. You can configure your connection strings in some <code>.properties</code> files, lets say.</p>\n\n<p><strong>[Complement]</strong></p>\n\n<p>You can also make use of DAO factory, an implementation of Abstract Factory or Factory Method pattern, whichever suits here.</p>\n\n<p><strong>[Links]</strong></p>\n\n<ul>\n<li><a href=\"http://balusc.blogspot.com/2008/07/dao-tutorial-data-layer.html\" rel=\"nofollow noreferrer\">A very fine implementation of DAO and DAO Factory</a>, by <a href=\"https://stackoverflow.com/users/157882/balusc\">BalusC</a></li>\n<li><a href=\"http://java.sun.com/blueprints/corej2eepatterns/Patterns/DataAccessObject.html\" rel=\"nofollow noreferrer\">Core J2EE Patterns</a> -- arguably dated but might provide some idea.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1370335,"reputation":1388,"user_id":1305725,"accept_rate":33,"display_name":"hekomobile"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1469118292,"creation_date":1337057137,"answer_id":10594261,"question_id":10593647,"body_markdown":"is very easy :)\r\n\r\n\r\n1.Create a Data Source to try connection to DB\r\n\t\r\n    public DataSource getDataSource(String db) throws Exception {\r\n    DataSource dt = null;\r\n\tInitialContext ic = null;\r\n\ttry {\r\n\t\tif(db.trim().equals(&quot;you_database_name&quot;)) {\r\n\t\t\tdt = (DataSource)ic.lookup(&quot;jdbc/connection_name&quot;);\r\n\t\t} else if(db.trim().equals(&quot;you_database_name&quot;)) {\r\n\t\t\tdt = (DataSource) ic.lookup(&quot;jdbc/connection_name&quot;);\r\n\t\t}\r\n\t\treturn dt;\r\n\t} catch(NamingException n) {\r\n\t\tthrow new Exception(&quot;Err getDataSource (ServiceLocator) NamingException - &quot; + n.getMessage());\r\n\t}\r\n\r\n2.Create a class DataBase, remember close all connection in this point.\r\n\r\n    public class DataBases {\r\n    public YouNameDataSourceClass dataSrc;\r\n    public DataBases() throws Exception {\r\n       super();\r\n       dataSrc = new YouNameDataSourceClass.getDataSource();\r\n    }\r\n    public Connection getConnectionAS400() throws Exception {\r\n        return locator.getDataSource(&quot;you_database_name&quot;).getConnection();\r\n    }\r\n\r\n    public Connection getConnectionOracle() throws Exception {\r\n\t\treturn locator.getDataSource(&quot;you_database_name&quot;).getConnection();\r\n\t}\r\n\r\n\tpublic Connection getConnectionSQLServer() throws Exception {\r\n\t\treturn locator.getDataSource(&quot;you_database_name&quot;).getConnection();\r\n\t}\r\n    }\r\n\r\nGood look.\r\n\r\n","title":"How to create multiple database connections for different databases in java","body":"<p>is very easy :)</p>\n\n<p>1.Create a Data Source to try connection to DB</p>\n\n<pre><code>public DataSource getDataSource(String db) throws Exception {\nDataSource dt = null;\nInitialContext ic = null;\ntry {\n    if(db.trim().equals(\"you_database_name\")) {\n        dt = (DataSource)ic.lookup(\"jdbc/connection_name\");\n    } else if(db.trim().equals(\"you_database_name\")) {\n        dt = (DataSource) ic.lookup(\"jdbc/connection_name\");\n    }\n    return dt;\n} catch(NamingException n) {\n    throw new Exception(\"Err getDataSource (ServiceLocator) NamingException - \" + n.getMessage());\n}\n</code></pre>\n\n<p>2.Create a class DataBase, remember close all connection in this point.</p>\n\n<pre><code>public class DataBases {\npublic YouNameDataSourceClass dataSrc;\npublic DataBases() throws Exception {\n   super();\n   dataSrc = new YouNameDataSourceClass.getDataSource();\n}\npublic Connection getConnectionAS400() throws Exception {\n    return locator.getDataSource(\"you_database_name\").getConnection();\n}\n\npublic Connection getConnectionOracle() throws Exception {\n    return locator.getDataSource(\"you_database_name\").getConnection();\n}\n\npublic Connection getConnectionSQLServer() throws Exception {\n    return locator.getDataSource(\"you_database_name\").getConnection();\n}\n}\n</code></pre>\n\n<p>Good look.</p>\n"},{"tags":[],"owner":{"account_id":18565166,"reputation":1,"user_id":13528300,"display_name":"BHUSHAN PATIL"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1590058459,"creation_date":1590056542,"answer_id":61932315,"question_id":10593647,"body_markdown":"Assuming you are using Spring MVC with Hibernate with XML configurations, follow these steps:\r\n\r\n1. Create beans of all the databases in your `spring-servlet` file.\r\n\r\n    &lt;!-- language: lang-html --&gt;\r\n\r\n        &lt;bean id=&quot;dataSource1&quot; Class=&quot;org.springframework.jdbc.datasource.DriverManagerDataSource&quot;&gt;\r\n        \t\t&lt;property name=&quot;driverClassName&quot; value=&quot;com.microsoft.sqlserver.jdbc.SQLServerDriver&quot; /&gt;\r\n        \t\t&lt;property name=&quot;url&quot; value=&quot;jdbc:sqlserver://localhost:1433;databaseName=database1&quot;/&gt;\r\n        \t\t&lt;property name=&quot;username&quot; value=&quot;abc&quot; /&gt;\r\n        \t\t&lt;property name=&quot;password&quot; value=&quot;abc@123&quot; /&gt;\r\n        \t&lt;/bean&gt;\r\n\r\n2. Create `sessionFactory` beans of all the databases you want in the Spring-servlet file.\r\n\r\n    &lt;!-- language: lang-html --&gt;\r\n\r\n        &lt;bean id=&quot;datasource1SessionFactory&quot; class=&quot;org.springframework.orm.hibernate5.LocalSessionFactoryBean&quot;&gt;\r\n                &lt;property name=&quot;dataSource&quot;\r\n                  ref=&quot;database1&quot;/&gt;\r\n                &lt;property name=&quot;packagesToScan&quot;\r\n                  value=&quot;com.id4.iprod.entity&quot;/&gt;\r\n                &lt;property name=&quot;hibernateProperties&quot;&gt;\r\n                    &lt;props&gt;\r\n                        &lt;prop key=&quot;hibernate.hbm2ddl.auto&quot;&gt;\r\n                        &lt;/prop&gt;\r\n                        &lt;prop key=&quot;hibernate.dialect&quot;&gt;\r\n                            org.hibernate.dialect.SQLServer2012Dialect\r\n                        &lt;/prop&gt;\r\n                    &lt;/props&gt;\r\n                &lt;/property&gt;\r\n            &lt;/bean&gt;\r\n\r\n3. Now you just need to open session of the database you want to in DAO and access the desired results from desired database.\r\n\r\n        Session datasource1= this.datasource1SessionFactory.openSession();","title":"How to create multiple database connections for different databases in java","body":"<p>Assuming you are using Spring MVC with Hibernate with XML configurations, follow these steps:</p>\n\n<ol>\n<li><p>Create beans of all the databases in your <code>spring-servlet</code> file.</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;bean id=\"dataSource1\" Class=\"org.springframework.jdbc.datasource.DriverManagerDataSource\"&gt;\n        &lt;property name=\"driverClassName\" value=\"com.microsoft.sqlserver.jdbc.SQLServerDriver\" /&gt;\n        &lt;property name=\"url\" value=\"jdbc:sqlserver://localhost:1433;databaseName=database1\"/&gt;\n        &lt;property name=\"username\" value=\"abc\" /&gt;\n        &lt;property name=\"password\" value=\"abc@123\" /&gt;\n    &lt;/bean&gt;\n</code></pre></li>\n<li><p>Create <code>sessionFactory</code> beans of all the databases you want in the Spring-servlet file.</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;bean id=\"datasource1SessionFactory\" class=\"org.springframework.orm.hibernate5.LocalSessionFactoryBean\"&gt;\n        &lt;property name=\"dataSource\"\n          ref=\"database1\"/&gt;\n        &lt;property name=\"packagesToScan\"\n          value=\"com.id4.iprod.entity\"/&gt;\n        &lt;property name=\"hibernateProperties\"&gt;\n            &lt;props&gt;\n                &lt;prop key=\"hibernate.hbm2ddl.auto\"&gt;\n                &lt;/prop&gt;\n                &lt;prop key=\"hibernate.dialect\"&gt;\n                    org.hibernate.dialect.SQLServer2012Dialect\n                &lt;/prop&gt;\n            &lt;/props&gt;\n        &lt;/property&gt;\n    &lt;/bean&gt;\n</code></pre></li>\n<li><p>Now you just need to open session of the database you want to in DAO and access the desired results from desired database.</p>\n\n<pre><code>Session datasource1= this.datasource1SessionFactory.openSession();\n</code></pre></li>\n</ol>\n"}],"owner":{"account_id":875173,"reputation":3548,"user_id":924962,"accept_rate":78,"display_name":"Harsha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50068,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"accepted_answer_id":10593798,"answer_count":6,"score":18,"last_activity_date":1663741525,"creation_date":1337051074,"question_id":10593647,"body_markdown":"I have an application which uses four databases in different geographical locations. All the databases contains same tables and only the database name is different according to the location.\r\nI have to create some reports in my application which uses data from each database. What would be the proper way to create those database connection from a java application and is there a suitable design pattern for this task which I could use?","title":"How to create multiple database connections for different databases in java","body":"<p>I have an application which uses four databases in different geographical locations. All the databases contains same tables and only the database name is different according to the location.\nI have to create some reports in my application which uses data from each database. What would be the proper way to create those database connection from a java application and is there a suitable design pattern for this task which I could use?</p>\n"},{"tags":["java","spring-boot","jackson","spring-webflux"],"comments":[{"owner":{"account_id":7630732,"reputation":1728,"user_id":5785871,"accept_rate":80,"display_name":"mslowiak"},"score":1,"creation_date":1663706837,"post_id":73791454,"comment_id":130302351,"body_markdown":"Can you take a look at https://stackoverflow.com/a/17312719/5785871?","body":"Can you take a look at <a href=\"https://stackoverflow.com/a/17312719/5785871\">stackoverflow.com/a/17312719/5785871</a>?"},{"owner":{"account_id":3168631,"reputation":3561,"user_id":2678097,"display_name":"amanin"},"score":0,"creation_date":1663936290,"post_id":73791454,"comment_id":130362381,"body_markdown":"The question miss clarity. What do you want to achieve ? Do you want to inline the &quot;response&quot; container from the java binding ?","body":"The question miss clarity. What do you want to achieve ? Do you want to inline the &quot;response&quot; container from the java binding ?"}],"answers":[{"tags":[],"owner":{"account_id":1282249,"reputation":3856,"user_id":1236099,"accept_rate":51,"display_name":"madhairsilence"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663741194,"creation_date":1663741194,"answer_id":73796142,"question_id":73791454,"body_markdown":"Thats the expected behaviour\r\n\r\n    {\r\n      name  : &quot;name&quot;,\r\n     description : &quot;description&quot;\r\n    }\r\n\r\nThis can be written as\r\n\r\n    class &lt;ClassName&gt;{\r\n     private String name;\r\n     private String description;\r\n    }\r\n\r\nThe json does not carry the `ClassName`. Similarly in your case, the word `Response` should be a valid attribute, like how I defined `name` in this example. \r\n\r\n\r\nSo , if you want , this class to work\r\n\r\n    @Jacksonized\r\n    @Builder\r\n    @Value\r\n    public class FriendsDTO {\r\n    \r\n        int count;\r\n    \r\n        @JsonProperty(&quot;items&quot;)\r\n        List&lt;Integer&gt; friends;\r\n    \r\n    }\r\n\r\nYou JSON should be changed from\r\n\r\n    {\r\n        &quot;response&quot;: {\r\n            &quot;count&quot;: 3,\r\n            &quot;items&quot;: [\r\n                6651536,\r\n                20410167,\r\n                40345521\r\n            ]\r\n        }\r\n    }\r\n\r\nTo\r\n\r\n      {\r\n                &quot;count&quot;: 3,\r\n                &quot;items&quot;: [\r\n                    6651536,\r\n                    20410167,\r\n                    40345521\r\n                ]\r\n            }","title":"Jackson with Spring WebFlux","body":"<p>Thats the expected behaviour</p>\n<pre><code>{\n  name  : &quot;name&quot;,\n description : &quot;description&quot;\n}\n</code></pre>\n<p>This can be written as</p>\n<pre><code>class &lt;ClassName&gt;{\n private String name;\n private String description;\n}\n</code></pre>\n<p>The json does not carry the <code>ClassName</code>. Similarly in your case, the word <code>Response</code> should be a valid attribute, like how I defined <code>name</code> in this example.</p>\n<p>So , if you want , this class to work</p>\n<pre><code>@Jacksonized\n@Builder\n@Value\npublic class FriendsDTO {\n\n    int count;\n\n    @JsonProperty(&quot;items&quot;)\n    List&lt;Integer&gt; friends;\n\n}\n</code></pre>\n<p>You JSON should be changed from</p>\n<pre><code>{\n    &quot;response&quot;: {\n        &quot;count&quot;: 3,\n        &quot;items&quot;: [\n            6651536,\n            20410167,\n            40345521\n        ]\n    }\n}\n</code></pre>\n<p>To</p>\n<pre><code>  {\n            &quot;count&quot;: 3,\n            &quot;items&quot;: [\n                6651536,\n                20410167,\n                40345521\n            ]\n        }\n</code></pre>\n"}],"owner":{"account_id":9013194,"reputation":220,"user_id":10663941,"display_name":"The Prototype"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":415,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1663741194,"creation_date":1663700373,"question_id":73791454,"body_markdown":"Json:\r\n\r\n    {\r\n        &quot;response&quot;: {\r\n            &quot;count&quot;: 3,\r\n            &quot;items&quot;: [\r\n                6651536,\r\n                20410167,\r\n                40345521\r\n            ]\r\n        }\r\n    }\r\n\r\nNOT WORK - `FriendsDTO`:\r\n\r\n    @Jacksonized\r\n    @Builder\r\n    @Value\r\n    public class FriendsDTO {\r\n    \r\n        int count;\r\n    \r\n        @JsonProperty(&quot;items&quot;)\r\n        List&lt;Integer&gt; friends;\r\n    \r\n    }\r\n\r\nWORK - `FriendsDTO`:\r\n\r\n    @Jacksonized\r\n    @Builder\r\n    @Value\r\n    public class FriendsDTO {\r\n\r\n        Response response;\r\n        \r\n        @Jacksonized\r\n        @Builder\r\n        @Value\r\n        public static class Response {\r\n    \r\n            int count;\r\n    \r\n            @JsonProperty(&quot;items&quot;)\r\n            List&lt;Integer&gt; friends;\r\n    \r\n        }\r\n    \r\n    }\r\n\r\n`WebFluxClient` request: \r\n\r\n    FriendsDTO friends = webFluxClient.get()\r\n         .uri(config.methodGetFriends(), builder -&gt; {\r\n               builder.queryParam(&quot;access_token&quot;, accessToken);\r\n               builder.queryParam(&quot;v&quot;, config.version());\r\n               return builder.build();\r\n          })\r\n         .accept(MediaType.APPLICATION_JSON)\r\n         .retrieve()\r\n         .bodyToMono(FriendsDTO.class)\r\n         .log()\r\n         .block();\r\n    logger.info(friends.toString());\r\n\r\n\r\noutput WORK: `FriendsDTO(response=FriendsDTO.Response(count=3, friends=[6651536, 20410167, 40345521]))`\r\n\r\noutput NOT WORK: `FriendsDTO(count=0, friends=null)`\r\n\r\nHow can I get rid of this misunderstanding in the Response view for successful json parsing ?","title":"Jackson with Spring WebFlux","body":"<p>Json:</p>\n<pre><code>{\n    &quot;response&quot;: {\n        &quot;count&quot;: 3,\n        &quot;items&quot;: [\n            6651536,\n            20410167,\n            40345521\n        ]\n    }\n}\n</code></pre>\n<p>NOT WORK - <code>FriendsDTO</code>:</p>\n<pre><code>@Jacksonized\n@Builder\n@Value\npublic class FriendsDTO {\n\n    int count;\n\n    @JsonProperty(&quot;items&quot;)\n    List&lt;Integer&gt; friends;\n\n}\n</code></pre>\n<p>WORK - <code>FriendsDTO</code>:</p>\n<pre><code>@Jacksonized\n@Builder\n@Value\npublic class FriendsDTO {\n\n    Response response;\n    \n    @Jacksonized\n    @Builder\n    @Value\n    public static class Response {\n\n        int count;\n\n        @JsonProperty(&quot;items&quot;)\n        List&lt;Integer&gt; friends;\n\n    }\n\n}\n</code></pre>\n<p><code>WebFluxClient</code> request:</p>\n<pre><code>FriendsDTO friends = webFluxClient.get()\n     .uri(config.methodGetFriends(), builder -&gt; {\n           builder.queryParam(&quot;access_token&quot;, accessToken);\n           builder.queryParam(&quot;v&quot;, config.version());\n           return builder.build();\n      })\n     .accept(MediaType.APPLICATION_JSON)\n     .retrieve()\n     .bodyToMono(FriendsDTO.class)\n     .log()\n     .block();\nlogger.info(friends.toString());\n</code></pre>\n<p>output WORK: <code>FriendsDTO(response=FriendsDTO.Response(count=3, friends=[6651536, 20410167, 40345521]))</code></p>\n<p>output NOT WORK: <code>FriendsDTO(count=0, friends=null)</code></p>\n<p>How can I get rid of this misunderstanding in the Response view for successful json parsing ?</p>\n"},{"tags":["java","memory","hashmap","jvm","garbage-collection"],"comments":[{"owner":{"account_id":11287994,"reputation":144,"user_id":8278152,"display_name":"Sandip Jangra"},"score":0,"creation_date":1663737330,"post_id":73795632,"comment_id":130306977,"body_markdown":"https://stackoverflow.com/questions/6157363/how-to-calculate-hashmap-memory-usage-in-java   this link may help you ..","body":"<a href=\"https://stackoverflow.com/questions/6157363/how-to-calculate-hashmap-memory-usage-in-java\" title=\"how to calculate hashmap memory usage in java\">stackoverflow.com/questions/6157363/&hellip;</a>   this link may help you .."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1663745537,"post_id":73795632,"comment_id":130308947,"body_markdown":"There is no such thing as “String Type is UTF-8”. The Java implementation decides how strings are internally stored.","body":"There is no such thing as “String Type is UTF-8”. The Java implementation decides how strings are internally stored."}],"owner":{"account_id":13548950,"reputation":1,"user_id":9774330,"display_name":"ph1b3r0p1c"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1663738318,"answer_count":0,"score":0,"last_activity_date":1663740486,"creation_date":1663737102,"question_id":73795632,"body_markdown":"I have a hashmap in java which is type of &lt;String,String&gt;.\r\nMy requirement is i want to know how much memory it is taking in my system.\r\nPlease consider below details as well.\r\n\r\nString Type is : UTF-8\r\n\r\nMapType: HashMap&lt;String, String&gt;=new HashMap();\r\n\r\nlenght of Map is: 7200000 (72 lacks key value pair)\r\n\r\nAvg Length of key is : 75 (example: IUCC_SESSION_IUCC_SESSION_CALL_SUCC_-1102343625_2022-09-20T18:45:41.000000Z)\r\n\r\nThe length of the value is : 5 (example: VALUE)\r\n\r\n\r\nThanks in advance.","title":"Memory Aquired by Java String &amp; HashMap memory size in java with UTF-8 string","body":"<p>I have a hashmap in java which is type of &lt;String,String&gt;.\nMy requirement is i want to know how much memory it is taking in my system.\nPlease consider below details as well.</p>\n<p>String Type is : UTF-8</p>\n<p>MapType: HashMap&lt;String, String&gt;=new HashMap();</p>\n<p>lenght of Map is: 7200000 (72 lacks key value pair)</p>\n<p>Avg Length of key is : 75 (example: IUCC_SESSION_IUCC_SESSION_CALL_SUCC_-1102343625_2022-09-20T18:45:41.000000Z)</p>\n<p>The length of the value is : 5 (example: VALUE)</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","java-8","synchronized"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1663742348,"post_id":73796026,"comment_id":130308007,"body_markdown":"You can only get concurrency problems if a thread is modifying the map after it has been stored in the `ConcurrentHashMap`. In this case, it is not enough to put a `synchronized` around the reading side; *every access* must consistently use `synchronized`. When you go this road, you can use a [synchronized map](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Collections.html#synchronizedMap(java.util.Map)) in the first place but it might be better to rethink the overall design as you’re not using the benefits of a `ConcurrentHashMap`.","body":"You can only get concurrency problems if a thread is modifying the map after it has been stored in the <code>ConcurrentHashMap</code>. In this case, it is not enough to put a <code>synchronized</code> around the reading side; <i>every access</i> must consistently use <code>synchronized</code>. When you go this road, you can use a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Collections.html#synchronizedMap(java.util.Map)\" rel=\"nofollow noreferrer\">synchronized map</a> in the first place but it might be better to rethink the overall design as you’re not using the benefits of a <code>ConcurrentHashMap</code>."},{"owner":{"account_id":1677301,"reputation":2224,"user_id":1542523,"accept_rate":66,"display_name":"flower"},"score":0,"creation_date":1663743899,"post_id":73796026,"comment_id":130308417,"body_markdown":"@Holger,If I use `private static Map&lt;String, ConcurrentHashMap&lt;String,String&gt;&gt; instanceMap = new ConcurrentHashMap&lt;&gt;();`,do it also have  concurrency problems?","body":"@Holger,If I use <code>private static Map&lt;String, ConcurrentHashMap&lt;String,String&gt;&gt; instanceMap = new ConcurrentHashMap&lt;&gt;();</code>,do it also have  concurrency problems?"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1663744415,"post_id":73796026,"comment_id":130308573,"body_markdown":"Most likely, you’ll still have problems. The `ConcurrentHashMap` guarantees that the internals of the map will always be in a consistent state, but it can’t prevent you from errors *in your program logic*. And processing a map while another thread changes it, implies a high probability that there are problems with your program logic. Further, calling `containsKey(key)` followed by some other actions, indicates a check-then-act pattern which can’t work with a `ConcurrentHashMap`. You’ll need `synchronized` or a lock for such code, but as said, all other accesses to the map will need it as well.","body":"Most likely, you’ll still have problems. The <code>ConcurrentHashMap</code> guarantees that the internals of the map will always be in a consistent state, but it can’t prevent you from errors <i>in your program logic</i>. And processing a map while another thread changes it, implies a high probability that there are problems with your program logic. Further, calling <code>containsKey(key)</code> followed by some other actions, indicates a check-then-act pattern which can’t work with a <code>ConcurrentHashMap</code>. You’ll need <code>synchronized</code> or a lock for such code, but as said, all other accesses to the map will need it as well."}],"owner":{"account_id":1677301,"reputation":2224,"user_id":1542523,"accept_rate":66,"display_name":"flower"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1663740376,"creation_date":1663740376,"question_id":73796026,"body_markdown":"I create a map to store the value,but I find that sometimes the value is wrong with multi-thread concurrency problem.So I wonder if the GC is happen,do the `synchronized (map)` code can only allow one thread to run?I find the after gc,the map&#39;s hashcode may be changed.\r\n\r\n    private static Map&lt;String, Map&lt;String,String&gt;&gt; instanceMap = new ConcurrentHashMap&lt;&gt;();\r\n    //some thread to put key to instanceMap\r\n    //some thread to checkMapState\r\n    private void checkMapState(String key){\r\n        Map localMap=instanceMap.get(key);\r\n        synchronized (localMap) {\r\n            if (localMap.containsKey(key)) {\r\n                //code to clear map by key\r\n                //log the same key not only one time\r\n                log.info(&quot;key:{} have enter synchronized code&quot;,key);\r\n            }\r\n        }\r\n    }\r\n\r\n ","title":"Is it effective to control synchronization map using synchronized (map)?","body":"<p>I create a map to store the value,but I find that sometimes the value is wrong with multi-thread concurrency problem.So I wonder if the GC is happen,do the <code>synchronized (map)</code> code can only allow one thread to run?I find the after gc,the map's hashcode may be changed.</p>\n<pre><code>private static Map&lt;String, Map&lt;String,String&gt;&gt; instanceMap = new ConcurrentHashMap&lt;&gt;();\n//some thread to put key to instanceMap\n//some thread to checkMapState\nprivate void checkMapState(String key){\n    Map localMap=instanceMap.get(key);\n    synchronized (localMap) {\n        if (localMap.containsKey(key)) {\n            //code to clear map by key\n            //log the same key not only one time\n            log.info(&quot;key:{} have enter synchronized code&quot;,key);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","mapstruct","ambiguous","jparepository"],"answers":[{"tags":[],"owner":{"account_id":22384219,"reputation":108,"user_id":16597286,"display_name":"Windir"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663547375,"creation_date":1663547375,"answer_id":73767243,"question_id":73767080,"body_markdown":"Please check if in your **Controller** layer you have multiple methods mapped to the same endpoint (@Path).\r\n","title":"Mapstruct: Ambiguous mapping methods found for mapping property","body":"<p>Please check if in your <strong>Controller</strong> layer you have multiple methods mapped to the same endpoint (@Path).</p>\n"},{"tags":[],"owner":{"account_id":1128956,"reputation":19765,"user_id":1115491,"display_name":"Filip"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1663739898,"creation_date":1663739898,"answer_id":73795966,"question_id":73767080,"body_markdown":"I would assume that in your mapper you have `@Mapper(uses = TypeBRepo.class)`\r\n\r\nWhen that is the case MapStruct considers all methods that are available in the `TypeBRepo` (and its parents) as potential mapping methods. In your mapping you have a mapping from `Short` into `TypeB`.\r\n\r\nWith the upgrade to Spring Boot 2.7.2 you also did an upgrade of Spring Data. It seems like there are new methods added in Spring Data that can be used to map from `Short` to `TypeB` and thus MapStruct is no longer possible to determine which one needs to be used.\r\n\r\nYou&#39;ll need to instruct MapStruct which method to use for the mapping.\r\n\r\nOne approach would be to override the methods that you do not want MapStruct to use and annotate them with `@org.mapstruct.Named`. Another approach would be to create a dedicated class for mapping from `Short` to `TypeB` and use that in `Mapper#uses`.\r\n\r\nYou can read more about [How to solve ambiguous methods](https://mapstruct.org/faq/#How-to-solve-ambiguous-methods) in the MapStruct FAQ.","title":"Mapstruct: Ambiguous mapping methods found for mapping property","body":"<p>I would assume that in your mapper you have <code>@Mapper(uses = TypeBRepo.class)</code></p>\n<p>When that is the case MapStruct considers all methods that are available in the <code>TypeBRepo</code> (and its parents) as potential mapping methods. In your mapping you have a mapping from <code>Short</code> into <code>TypeB</code>.</p>\n<p>With the upgrade to Spring Boot 2.7.2 you also did an upgrade of Spring Data. It seems like there are new methods added in Spring Data that can be used to map from <code>Short</code> to <code>TypeB</code> and thus MapStruct is no longer possible to determine which one needs to be used.</p>\n<p>You'll need to instruct MapStruct which method to use for the mapping.</p>\n<p>One approach would be to override the methods that you do not want MapStruct to use and annotate them with <code>@org.mapstruct.Named</code>. Another approach would be to create a dedicated class for mapping from <code>Short</code> to <code>TypeB</code> and use that in <code>Mapper#uses</code>.</p>\n<p>You can read more about <a href=\"https://mapstruct.org/faq/#How-to-solve-ambiguous-methods\" rel=\"nofollow noreferrer\">How to solve ambiguous methods</a> in the MapStruct FAQ.</p>\n"}],"owner":{"account_id":10709917,"reputation":33,"user_id":7882445,"display_name":"mster3313"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":664,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73795966,"answer_count":2,"score":1,"last_activity_date":1663739898,"creation_date":1663544478,"question_id":73767080,"body_markdown":"I am getting this strange error (Using IntelliJ IDEA 2022.2.2 Ultimate):\r\n\r\n    Ambiguous mapping methods found for mapping property &quot;java.lang.Short TypeA&quot; to TypeB: TypeB TypeBRepo.getOne(java.lang.Short id), TypeB TypeBRepo.getById(java.lang.Short id), TypeB TypeBRepogetReferenceById(java.lang.Short id)\r\n\r\nThis happened after I upgraded the spring boot version from `2.1.0.RELEASE` to `2.7.2` and maven version from `3.0.0` to `3.8.6`.\r\n\r\nTypeB Repository extends JPARepository\r\n\r\n    @Repository\r\n    public interface TypeBRepo extends JpaRepository&lt;TypeB, Short&gt; {\r\n    }\r\n\r\nMapping is done using mapstruct version `1.3.1.Final` (Tried with latest mapstruct version also no change)\r\n\r\nFollowing is the mapping\r\n\r\n    @Mappings({\r\n        @Mapping(target = &quot;TypeB&quot;, source = &quot;request.TypeA&quot;),\r\n        @Mapping(target = &quot;securityValue&quot;, source = &quot;request.currentPrice&quot;),\r\n        @Mapping(target = &quot;user&quot;, source = &quot;user&quot;),\r\n        @Mapping(target = &quot;id&quot;, ignore = true),\r\n        @Mapping(target = &quot;documents&quot;, ignore = true),\r\n    })\r\n    public abstract void sourceToDestination(final &quot;Type&quot; request,\r\n                                             final &quot;Type&quot; user,\r\n                                             final @MappingTarget TargetA input);\r\n\r\nAnd the TargetA class is as follows.\r\n\r\n        @Entity\r\n        @Getter\r\n        @Setter\r\n        @DiscriminatorValue(&quot;6&quot;)\r\n        @FieldDefaults(level = AccessLevel.PRIVATE)\r\n        public class TargetA extends BlaBla {\r\n        \r\n            @NotNull\r\n            @ManyToOne(fetch = FetchType.LAZY)\r\n            @JoinColumn(name = &quot;investment_loan_type_id&quot;)\r\n            TypeB type_b_value;\r\n        }","title":"Mapstruct: Ambiguous mapping methods found for mapping property","body":"<p>I am getting this strange error (Using IntelliJ IDEA 2022.2.2 Ultimate):</p>\n<pre><code>Ambiguous mapping methods found for mapping property &quot;java.lang.Short TypeA&quot; to TypeB: TypeB TypeBRepo.getOne(java.lang.Short id), TypeB TypeBRepo.getById(java.lang.Short id), TypeB TypeBRepogetReferenceById(java.lang.Short id)\n</code></pre>\n<p>This happened after I upgraded the spring boot version from <code>2.1.0.RELEASE</code> to <code>2.7.2</code> and maven version from <code>3.0.0</code> to <code>3.8.6</code>.</p>\n<p>TypeB Repository extends JPARepository</p>\n<pre><code>@Repository\npublic interface TypeBRepo extends JpaRepository&lt;TypeB, Short&gt; {\n}\n</code></pre>\n<p>Mapping is done using mapstruct version <code>1.3.1.Final</code> (Tried with latest mapstruct version also no change)</p>\n<p>Following is the mapping</p>\n<pre><code>@Mappings({\n    @Mapping(target = &quot;TypeB&quot;, source = &quot;request.TypeA&quot;),\n    @Mapping(target = &quot;securityValue&quot;, source = &quot;request.currentPrice&quot;),\n    @Mapping(target = &quot;user&quot;, source = &quot;user&quot;),\n    @Mapping(target = &quot;id&quot;, ignore = true),\n    @Mapping(target = &quot;documents&quot;, ignore = true),\n})\npublic abstract void sourceToDestination(final &quot;Type&quot; request,\n                                         final &quot;Type&quot; user,\n                                         final @MappingTarget TargetA input);\n</code></pre>\n<p>And the TargetA class is as follows.</p>\n<pre><code>    @Entity\n    @Getter\n    @Setter\n    @DiscriminatorValue(&quot;6&quot;)\n    @FieldDefaults(level = AccessLevel.PRIVATE)\n    public class TargetA extends BlaBla {\n    \n        @NotNull\n        @ManyToOne(fetch = FetchType.LAZY)\n        @JoinColumn(name = &quot;investment_loan_type_id&quot;)\n        TypeB type_b_value;\n    }\n</code></pre>\n"},{"tags":["java","interface","multiple-inheritance"],"comments":[{"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"score":0,"creation_date":1463087624,"post_id":37197301,"comment_id":61927394,"body_markdown":"@Casey What IDE are you using? Eclipse gives another error.","body":"@Casey What IDE are you using? Eclipse gives another error."},{"owner":{"account_id":2848514,"reputation":10932,"user_id":2446208,"accept_rate":69,"display_name":"blacktide"},"score":0,"creation_date":1463087667,"post_id":37197301,"comment_id":61927428,"body_markdown":"@JornVernee That was from IntelliJ. What does Eclipse output?","body":"@JornVernee That was from IntelliJ. What does Eclipse output?"},{"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"score":0,"creation_date":1463087718,"post_id":37197301,"comment_id":61927453,"body_markdown":"@Casey ```Illegal reference to super method sayHi() from type Base, cannot bypass the more specific override from type Foo```","body":"@Casey <code>Illegal reference to super method sayHi() from type Base, cannot bypass the more specific override from type Foo</code>"},{"owner":{"account_id":2848514,"reputation":10932,"user_id":2446208,"accept_rate":69,"display_name":"blacktide"},"score":0,"creation_date":1463087903,"post_id":37197301,"comment_id":61927542,"body_markdown":"Eclipse&#39;s message is definitely clearer. Just tried compiling from the command line and get `bad type qualifier Bar in default super call Bar.super.sayHi(); method sayHi() is overridden in Foo` on Java 1.8.0_45","body":"Eclipse&#39;s message is definitely clearer. Just tried compiling from the command line and get <code>bad type qualifier Bar in default super call Bar.super.sayHi(); method sayHi() is overridden in Foo</code> on Java 1.8.0_45"},{"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"score":0,"creation_date":1463088044,"post_id":37197301,"comment_id":61927615,"body_markdown":"@Casey I have 1.8.0_91 Maybe the difference is there.","body":"@Casey I have 1.8.0_91 Maybe the difference is there."}],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1463088097,"creation_date":1463088097,"answer_id":37197609,"question_id":37197301,"body_markdown":"This behavior is specified using almost your exact example in [JLS 9.4.1](https://docs.oracle.com/javase/specs/jls/se8/html/jls-9.html#jls-9.4.1), just with some names changed around:\r\n\r\n    interface Top {\r\n        default String name() { return &quot;unnamed&quot;; }\r\n    }\r\n    interface Left extends Top {\r\n        default String name() { return getClass().getName(); }\r\n    }\r\n    interface Right extends Top {}\r\n    \r\n    interface Bottom extends Left, Right {}\r\n\r\n&gt; Right inherits name() from Top, but Bottom inherits name() from Left,\r\n&gt; not Right. This is because name() from Left overrides the declaration\r\n&gt; of name() in Top.\r\n\r\nThe JLS doesn&#39;t seem to give any especially concrete reason that I can see; this is just how the Java designers decided inheritance would work.","title":"Java 8 default method inheritance","body":"<p>This behavior is specified using almost your exact example in <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-9.html#jls-9.4.1\" rel=\"noreferrer\">JLS 9.4.1</a>, just with some names changed around:</p>\n\n<pre><code>interface Top {\n    default String name() { return \"unnamed\"; }\n}\ninterface Left extends Top {\n    default String name() { return getClass().getName(); }\n}\ninterface Right extends Top {}\n\ninterface Bottom extends Left, Right {}\n</code></pre>\n\n<blockquote>\n  <p>Right inherits name() from Top, but Bottom inherits name() from Left,\n  not Right. This is because name() from Left overrides the declaration\n  of name() in Top.</p>\n</blockquote>\n\n<p>The JLS doesn't seem to give any especially concrete reason that I can see; this is just how the Java designers decided inheritance would work.</p>\n"},{"tags":[],"owner":{"account_id":2848514,"reputation":10932,"user_id":2446208,"accept_rate":69,"display_name":"blacktide"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1463088183,"creation_date":1463088183,"answer_id":37197633,"question_id":37197301,"body_markdown":"This is by design. From [JLS 15.12.3](http://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.12.3):\n\n&gt; \n&gt;\n&gt; If the form is TypeName . super . [TypeArguments] Identifier, then:\n&gt;\n&gt; * If _TypeName_ denotes an interface, let T be the type declaration immediately enclosing the method invocation. A compile-time error occurs if there exists a method, distinct from the compile-time declaration, that overrides ([&#167;9.4.1](https://docs.oracle.com/javase/specs/jls/se8/html/jls-9.html#jls-9.4.1)) the compile-time declaration from a direct superclass or direct superinterface of T.\n&gt;\n  &gt; _In the case that a superinterface overrides a method declared in a grandparent interface, this rule prevents the child interface from &quot;skipping&quot; the override by simply adding the grandparent to its list of direct superinterfaces. The appropriate way to access functionality of a grandparent is through the direct superinterface, and only if that interface chooses to expose the desired behavior. (Alternately, the developer is free to define his own additional superinterface that exposes the desired behavior with a super method invocation.)_","title":"Java 8 default method inheritance","body":"<p>This is by design. From <a href=\"http://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.12.3\" rel=\"noreferrer\">JLS 15.12.3</a>:</p>\n<blockquote>\n<p>If the form is TypeName . super . [TypeArguments] Identifier, then:</p>\n<ul>\n<li>If <em>TypeName</em> denotes an interface, let T be the type declaration immediately enclosing the method invocation. A compile-time error occurs if there exists a method, distinct from the compile-time declaration, that overrides (<a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-9.html#jls-9.4.1\" rel=\"noreferrer\">§9.4.1</a>) the compile-time declaration from a direct superclass or direct superinterface of T.</li>\n</ul>\n<p><em>In the case that a superinterface overrides a method declared in a grandparent interface, this rule prevents the child interface from &quot;skipping&quot; the override by simply adding the grandparent to its list of direct superinterfaces. The appropriate way to access functionality of a grandparent is through the direct superinterface, and only if that interface chooses to expose the desired behavior. (Alternately, the developer is free to define his own additional superinterface that exposes the desired behavior with a super method invocation.)</em></p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":26398493,"reputation":1,"user_id":20049271,"display_name":"Learner"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663739582,"creation_date":1663739114,"answer_id":73795862,"question_id":37197301,"body_markdown":"Why does Foo&#39;s implementation take precedence? and since Bar should have Base&#39;s implementation of sayHi(), why can&#39;t I override?\r\n* Please check this default methods rule from Oracle...\r\n&gt; Methods that are already overridden by other candidates are ignored. This circumstance can arise when supertypes share a common ancestor.\r\n* [more Info here](https://docs.oracle.com/javase/tutorial/java/IandI/override.html#:~:text=Default%20methods%20and%20abstract%20methods,to%20resolve%20the%20name%20conflict.)\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/jM1e2.png","title":"Java 8 default method inheritance","body":"<p>Why does Foo's implementation take precedence? and since Bar should have Base's implementation of sayHi(), why can't I override?</p>\n<ul>\n<li>Please check this default methods rule from Oracle...</li>\n</ul>\n<blockquote>\n<p>Methods that are already overridden by other candidates are ignored. This circumstance can arise when supertypes share a common ancestor.</p>\n</blockquote>\n<ul>\n<li><a href=\"https://docs.oracle.com/javase/tutorial/java/IandI/override.html#:%7E:text=Default%20methods%20and%20abstract%20methods,to%20resolve%20the%20name%20conflict.\" rel=\"nofollow noreferrer\">more Info here</a></li>\n</ul>\n"}],"owner":{"account_id":6437233,"reputation":671,"user_id":4988345,"accept_rate":50,"display_name":"aiguy"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3107,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":37197609,"answer_count":3,"score":13,"last_activity_date":1663739582,"creation_date":1463086767,"question_id":37197301,"body_markdown":"Let&#39;s say there are following types:\r\n\r\n    public interface Base {\r\n\r\n        default void sayHi(){\r\n    \t    System.out.println(&quot;hi from base&quot;);\r\n    \t}\r\n    }\r\n\r\n    public interface Foo extends Base {\r\n    \t@Override\r\n\t    default void sayHi(){\r\n\t\t    System.out.println(&quot;hi from foo&quot;);\r\n    \t}\r\n    }\r\n\r\n    public interface Bar extends Base {\r\n    }\r\n\r\n    public class MyClass implements Foo, Bar {\r\n    \tpublic static void main(String[] args) {\r\n\t\t    MyClass c = new MyClass();\r\n\t    \tc.sayHi();\r\n    \t}\r\n    }\r\n\r\nIn this scenario, if `main` is executed, &quot;hi from foo&quot; is printed. Why does `Foo`&#39;s implementation take precedence? Doesn&#39;t `Bar` inherit `sayHi()` from `Base`, since if `MyClass` was to only implement `Bar`, the `Base` implementation would be called? So it would make sense for the code to still not compile. Also, since `Bar` should have `Base`&#39;s implementation of `sayHi()`, why can&#39;t I override it in `MyClass` like:\r\n\r\n\t@Override\r\n\tpublic void sayHi() {\r\n\t\tBar.super.sayHi();\r\n\t}\r\n\r\nThe following error occurs when trying to do so:\r\n\r\n&gt; bad type qualifier Bar in default super call method, sayHi() is overridden in Foo","title":"Java 8 default method inheritance","body":"<p>Let's say there are following types:</p>\n\n<pre><code>public interface Base {\n\n    default void sayHi(){\n        System.out.println(\"hi from base\");\n    }\n}\n\npublic interface Foo extends Base {\n    @Override\n    default void sayHi(){\n        System.out.println(\"hi from foo\");\n    }\n}\n\npublic interface Bar extends Base {\n}\n\npublic class MyClass implements Foo, Bar {\n    public static void main(String[] args) {\n        MyClass c = new MyClass();\n        c.sayHi();\n    }\n}\n</code></pre>\n\n<p>In this scenario, if <code>main</code> is executed, \"hi from foo\" is printed. Why does <code>Foo</code>'s implementation take precedence? Doesn't <code>Bar</code> inherit <code>sayHi()</code> from <code>Base</code>, since if <code>MyClass</code> was to only implement <code>Bar</code>, the <code>Base</code> implementation would be called? So it would make sense for the code to still not compile. Also, since <code>Bar</code> should have <code>Base</code>'s implementation of <code>sayHi()</code>, why can't I override it in <code>MyClass</code> like:</p>\n\n<pre><code>@Override\npublic void sayHi() {\n    Bar.super.sayHi();\n}\n</code></pre>\n\n<p>The following error occurs when trying to do so:</p>\n\n<blockquote>\n  <p>bad type qualifier Bar in default super call method, sayHi() is overridden in Foo</p>\n</blockquote>\n"},{"tags":["java","visual-studio-code"],"comments":[{"owner":{"account_id":1631680,"reputation":17783,"user_id":1506071,"accept_rate":68,"display_name":"Pradeep Simha"},"score":0,"creation_date":1663736958,"post_id":73795598,"comment_id":130306901,"body_markdown":"You have a &quot;;&quot; after main method. Remove it, and error message is clearly saying same.","body":"You have a &quot;;&quot; after main method. Remove it, and error message is clearly saying same."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1663738320,"post_id":73795598,"comment_id":130307139,"body_markdown":"Please paste your program, your error message and your stack trace *as text into your question proper*. We don’t like links to images for several reasons. Many users here won’t follow the links at all, and often those considering writing an answer would like to paste your program into their own IDE. They can’t paste your image there.","body":"Please paste your program, your error message and your stack trace <i>as text into your question proper</i>. We don’t like links to images for several reasons. Many users here won’t follow the links at all, and often those considering writing an answer would like to paste your program into their own IDE. They can’t paste your image there."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1663738473,"post_id":73795598,"comment_id":130307167,"body_markdown":"Also which input did you type when you got the second error? See [How to Fix the Input Mismatch Exception in Java? - Rollbar](https://rollbar.com/blog/java-inputmismatchexception/).","body":"Also which input did you type when you got the second error? See <a href=\"https://rollbar.com/blog/java-inputmismatchexception/\" rel=\"nofollow noreferrer\">How to Fix the Input Mismatch Exception in Java? - Rollbar</a>."}],"answers":[{"tags":[],"owner":{"account_id":19252916,"reputation":55,"user_id":14070467,"display_name":"Kushal Prajapati"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663737058,"creation_date":1663737058,"answer_id":73795628,"question_id":73795598,"body_markdown":"Please remove semicolon after method name \r\n\r\n","title":"This method requires a body instead of a semicolon in main() in VS code","body":"<p>Please remove semicolon after method name</p>\n"},{"tags":[],"owner":{"account_id":15549823,"reputation":1079,"user_id":11217856,"display_name":"User Unknown"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663737413,"creation_date":1663737413,"answer_id":73795671,"question_id":73795598,"body_markdown":"the problem here is you put `;` in the main function. and some minor changes to be fix.\r\n\r\nto solve this here how look it is:\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic static void main(String[] args) {\r\n Scanner sc = new Scanner(System.in);\r\n int age = sc.nextInt();\r\n\r\n if (age &gt; 18) {\r\n  System.out.println(&quot;Adult&quot;);\r\n } else {\r\n  System.out.println(&quot;Not Adult&quot;);\r\n }\r\n}\r\n```\r\n\r\nbest practice when you creating a file class it should be a PascalCase and followed by your class name also as PascalCase.","title":"This method requires a body instead of a semicolon in main() in VS code","body":"<p>the problem here is you put <code>;</code> in the main function. and some minor changes to be fix.</p>\n<p>to solve this here how look it is:</p>\n<pre><code>import java.util.Scanner;\n\npublic static void main(String[] args) {\n Scanner sc = new Scanner(System.in);\n int age = sc.nextInt();\n\n if (age &gt; 18) {\n  System.out.println(&quot;Adult&quot;);\n } else {\n  System.out.println(&quot;Not Adult&quot;);\n }\n}\n</code></pre>\n<p>best practice when you creating a file class it should be a PascalCase and followed by your class name also as PascalCase.</p>\n"}],"owner":{"account_id":26194890,"reputation":1,"user_id":19876125,"display_name":"vedika gupta"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":124,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"closed_date":1663738510,"answer_count":2,"score":-4,"last_activity_date":1663739269,"creation_date":1663736844,"question_id":73795598,"body_markdown":"[I m not able to find the problem so as the solution .need help stuck from 2days.][1]\r\n\r\n\r\n[still there is problem][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/D6iEy.png\r\n  [2]: https://i.stack.imgur.com/ja5AM.png","title":"This method requires a body instead of a semicolon in main() in VS code","body":"<p><a href=\"https://i.stack.imgur.com/D6iEy.png\" rel=\"nofollow noreferrer\">I m not able to find the problem so as the solution .need help stuck from 2days.</a></p>\n<p><a href=\"https://i.stack.imgur.com/ja5AM.png\" rel=\"nofollow noreferrer\">still there is problem</a></p>\n"},{"tags":["java","api","google-classroom"],"comments":[{"owner":{"account_id":1564273,"reputation":1454,"user_id":1453413,"display_name":"HoRn"},"score":1,"creation_date":1663742495,"post_id":73795699,"comment_id":130308042,"body_markdown":"This is a place for specific programming questions (you did not post any code). Please attempt your project, and if you run into any specific issues come back with the code and ask a question then (after doing some research).","body":"This is a place for specific programming questions (you did not post any code). Please attempt your project, and if you run into any specific issues come back with the code and ask a question then (after doing some research)."},{"owner":{"account_id":26398340,"reputation":11,"user_id":20049137,"display_name":"rob"},"score":0,"creation_date":1664187811,"post_id":73795699,"comment_id":130406112,"body_markdown":"Hi, I don&#39;t need a complete code for this. I&#39;m just asking that can i delete a user(student) from my application and that user(student) gets deleted from google classroom without providing the google credentials.\nI tried &quot;https://classroom.googleapis.com/v1/courses/{courseId}/students/{userId}&quot; to work with this api call as well but i required google credetials when hit.\n\nhttps://developers.google.com/classroom/reference/rest/v1/courses.students/delete?apix_params=%7B%22courseId%22%3A%22548166036816%22%2C%22userId%22%3A%22108375344947192179576%22%7D","body":"Hi, I don&#39;t need a complete code for this. I&#39;m just asking that can i delete a user(student) from my application and that user(student) gets deleted from google classroom without providing the google credentials. I tried &quot;<a href=\"https://classroom.googleapis.com/v1/courses/\" rel=\"nofollow noreferrer\">classroom.googleapis.com/v1/courses</a>{courseId}/students/{use&zwnj;&#8203;rId}&quot; to work with this api call as well but i required google credetials when hit.  <a href=\"https://developers.google.com/classroom/reference/rest/v1/courses.students/delete?apix_params=%7B%22courseId%22%3A%22548166036816%22%2C%22userId%22%3A%22108375344947192179576%22%7D\" rel=\"nofollow noreferrer\">developers.google.com/classroom/reference/rest/v1/&hellip;</a>"}],"owner":{"account_id":26398340,"reputation":11,"user_id":20049137,"display_name":"rob"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1663737692,"creation_date":1663737692,"question_id":73795699,"body_markdown":"I have synced students and classes in my own application. So if I delete a student from my application then that student should also be deleted from google classroom.\r\nIs it possible to do so. if possible can you please explain how it can be done.\r\n\r\nThanks    ","title":"how to send data to google classroom","body":"<p>I have synced students and classes in my own application. So if I delete a student from my application then that student should also be deleted from google classroom.\nIs it possible to do so. if possible can you please explain how it can be done.</p>\n<p>Thanks</p>\n"},{"tags":["java","spring","spring-boot","jpa"],"comments":[{"owner":{"account_id":5157043,"reputation":1369,"user_id":4130003,"display_name":"johnnyutts"},"score":0,"creation_date":1663736997,"post_id":73795603,"comment_id":130306909,"body_markdown":"You are missing the closing &#39;)&#39; after your values","body":"You are missing the closing &#39;)&#39; after your values"},{"owner":{"account_id":8582865,"reputation":4145,"user_id":6474292,"accept_rate":56,"display_name":"David"},"score":0,"creation_date":1663737268,"post_id":73795603,"comment_id":130306965,"body_markdown":"@johnnyutts thanks it worked. if you want to answer then please do or else  will delete because its syntax issue. .","body":"@johnnyutts thanks it worked. if you want to answer then please do or else  will delete because its syntax issue. ."}],"answers":[{"tags":[],"owner":{"account_id":5157043,"reputation":1369,"user_id":4130003,"display_name":"johnnyutts"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1663737369,"creation_date":1663737369,"answer_id":73795665,"question_id":73795603,"body_markdown":"You are missing the closing &#39;)&#39; after your values","title":"SQLGrammarException: could not execute statement while saving the data","body":"<p>You are missing the closing ')' after your values</p>\n"}],"owner":{"account_id":8582865,"reputation":4145,"user_id":6474292,"accept_rate":56,"display_name":"David"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73795665,"answer_count":1,"score":0,"last_activity_date":1663737369,"creation_date":1663736891,"question_id":73795603,"body_markdown":"SQLGrammarException: could not execute statement while saving the data \r\n\r\nI am getting SQLGrammarException: could not execute statement while saving the data.\r\n\r\n\r\n\r\nIf I am executing the same in data view not getting any error. \r\n\r\nMy  Model :\r\n\r\n    @Entity\r\n    @Getter\r\n    @Setter\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @ToString\r\n    @Table(name = &quot;area&quot;)\r\n    @TypeDef(\r\n            name = &quot;json&quot;,\r\n            typeClass = JsonType.class\r\n    )\r\n    public class Student implements Serializable {\r\n    \r\n        @Id\r\n        @Column(name = &quot;id&quot;)\r\n        private String id;\r\n    \r\n        @Column(name = &quot;name&quot;, nullable = false)\r\n        private String name;\r\n    \r\n        @Column(name = &quot;subject&quot;, columnDefinition = &quot;json&quot;)\r\n        @Type(type = &quot;json&quot;)\r\n        private List&lt;Map&lt;String, String&gt;&gt; relation;\r\n    \r\n        @Column(name = &quot;roll&quot;)\r\n        private String roll;\r\n    \r\n        @Column(name = &quot;class&quot;)\r\n        private String class;\r\n    \r\n       \r\n    }\r\n\r\nIn Service Impl : \r\n\r\n  \r\n\r\n    myRepo.saveStudent(id, name, roll, class);\r\n\r\n\r\nAll the variable value are avilabel\r\n\r\nMy Repo : \r\n\r\n   \r\n\r\n     @Modifying\r\n        @Transactional\r\n        @Query(value = &quot;insert into student (id, name, roll, class) values (:id, :name, :roll, :class&quot;, nativeQuery = true)\r\n        void saveStudent(String id, String name, String roll, String class);\r\n\r\nCan anybody help me what sql grammer is wrong here, \r\n\r\n","title":"SQLGrammarException: could not execute statement while saving the data","body":"<p>SQLGrammarException: could not execute statement while saving the data</p>\n<p>I am getting SQLGrammarException: could not execute statement while saving the data.</p>\n<p>If I am executing the same in data view not getting any error.</p>\n<p>My  Model :</p>\n<pre><code>@Entity\n@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\n@ToString\n@Table(name = &quot;area&quot;)\n@TypeDef(\n        name = &quot;json&quot;,\n        typeClass = JsonType.class\n)\npublic class Student implements Serializable {\n\n    @Id\n    @Column(name = &quot;id&quot;)\n    private String id;\n\n    @Column(name = &quot;name&quot;, nullable = false)\n    private String name;\n\n    @Column(name = &quot;subject&quot;, columnDefinition = &quot;json&quot;)\n    @Type(type = &quot;json&quot;)\n    private List&lt;Map&lt;String, String&gt;&gt; relation;\n\n    @Column(name = &quot;roll&quot;)\n    private String roll;\n\n    @Column(name = &quot;class&quot;)\n    private String class;\n\n   \n}\n</code></pre>\n<p>In Service Impl :</p>\n<pre><code>myRepo.saveStudent(id, name, roll, class);\n</code></pre>\n<p>All the variable value are avilabel</p>\n<p>My Repo :</p>\n<pre><code> @Modifying\n    @Transactional\n    @Query(value = &quot;insert into student (id, name, roll, class) values (:id, :name, :roll, :class&quot;, nativeQuery = true)\n    void saveStudent(String id, String name, String roll, String class);\n</code></pre>\n<p>Can anybody help me what sql grammer is wrong here,</p>\n"},{"tags":["java","function","loops","integer"],"answers":[{"tags":[],"owner":{"account_id":10346755,"reputation":21971,"user_id":7631480,"display_name":"CryptoFool"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663690357,"creation_date":1663555304,"answer_id":73767887,"question_id":73767817,"body_markdown":"Maybe something like this:\r\n\r\n    public static List&lt;Integer&gt; firstK(int k) {\r\n        List&lt;Integer&gt; result = new ArrayList&lt;&gt;();\r\n        for (int x = 0 ; result.size() &lt; k ; x++)\r\n            if (findSum(x) == 1)\r\n                result.add(k);\r\n        return result;\r\n    }\r\n\r\nIf you really want an array rather than a List, I would still use a List to compute the result.  I would then create an array from that list and return that as the function&#39;s result to have the function return a `int[]` or `long[]`.  I can&#39;t see why you&#39;d want to return `long[]` or `List&lt;Long&gt;` rather than `int[]` or `List&lt;Integer&gt;`, I doubt the code involved would ever be given the chance to iterate past the maximum integer value.\r\n\r\nUPDATE: Here&#39;s a complete example that uses an `array` throughout:\r\n\r\n    public class Test {\r\n    \r\n        public static int findSum(int k) {\r\n            int sum = 0;\r\n            boolean foundNonZero = false;\r\n            for (; k != 0; k /= 10) {\r\n                if (foundNonZero) {\r\n                    sum += (k % 10)*(k % 10);\r\n                } else {\r\n                    foundNonZero = k % 10 != 0;\r\n                }\r\n            }\r\n            return sum;\r\n        }\r\n    \r\n        public static long[] firstK(int k) {\r\n            long[] result = new long[k];\r\n            int i = 0;\r\n            for (int x = 0; i &lt; k; x++)\r\n                if (findSum(x) == 1)\r\n                    result[i++] = x;\r\n            return result;\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            long[] r = firstK(5);\r\n            System.out.println(Arrays.toString(r));\r\n        }\r\n    }\r\n\r\nResult:\r\n\r\n    [11, 12, 13, 14, 15]\r\n\r\nThe use of an `array` during the operation is fine because you do know the size of that array up front.  You often don&#39;t, in which case it is usually cleaner to use a `List` to collect terms, and then convert to an `array` at the end.  I did it this way initially out of habit.  In practice, at least in my case, I pretty much never use arrays due to them being less flexible.  They ARE more compact and can perform better, but it is rarely the case that the difference matters.\r\n","title":"How can I print out n numbers that satisfy the condition","body":"<p>Maybe something like this:</p>\n<pre><code>public static List&lt;Integer&gt; firstK(int k) {\n    List&lt;Integer&gt; result = new ArrayList&lt;&gt;();\n    for (int x = 0 ; result.size() &lt; k ; x++)\n        if (findSum(x) == 1)\n            result.add(k);\n    return result;\n}\n</code></pre>\n<p>If you really want an array rather than a List, I would still use a List to compute the result.  I would then create an array from that list and return that as the function's result to have the function return a <code>int[]</code> or <code>long[]</code>.  I can't see why you'd want to return <code>long[]</code> or <code>List&lt;Long&gt;</code> rather than <code>int[]</code> or <code>List&lt;Integer&gt;</code>, I doubt the code involved would ever be given the chance to iterate past the maximum integer value.</p>\n<p>UPDATE: Here's a complete example that uses an <code>array</code> throughout:</p>\n<pre><code>public class Test {\n\n    public static int findSum(int k) {\n        int sum = 0;\n        boolean foundNonZero = false;\n        for (; k != 0; k /= 10) {\n            if (foundNonZero) {\n                sum += (k % 10)*(k % 10);\n            } else {\n                foundNonZero = k % 10 != 0;\n            }\n        }\n        return sum;\n    }\n\n    public static long[] firstK(int k) {\n        long[] result = new long[k];\n        int i = 0;\n        for (int x = 0; i &lt; k; x++)\n            if (findSum(x) == 1)\n                result[i++] = x;\n        return result;\n    }\n\n    public static void main(String[] args) {\n        long[] r = firstK(5);\n        System.out.println(Arrays.toString(r));\n    }\n}\n</code></pre>\n<p>Result:</p>\n<pre><code>[11, 12, 13, 14, 15]\n</code></pre>\n<p>The use of an <code>array</code> during the operation is fine because you do know the size of that array up front.  You often don't, in which case it is usually cleaner to use a <code>List</code> to collect terms, and then convert to an <code>array</code> at the end.  I did it this way initially out of habit.  In practice, at least in my case, I pretty much never use arrays due to them being less flexible.  They ARE more compact and can perform better, but it is rarely the case that the difference matters.</p>\n"}],"owner":{"account_id":22999051,"reputation":285,"user_id":17123296,"display_name":"Nutnicha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1663737211,"creation_date":1663554643,"question_id":73767817,"body_markdown":"I have written a code that would return either 1 or 4 as the output, and here it is\r\n\r\n    public static int findSum(int k) {\r\n                int sum = 0;\r\n                boolean foundNonZero = false;\r\n                for (; k != 0; k /= 10) {\r\n                    if (foundNonZero) {\r\n                        sum += (k % 10)*(k % 10);\r\n                    } else {\r\n                        foundNonZero = k % 10 != 0;\r\n                    }\r\n                }\r\n                return sum;\r\n            }\r\n\r\nNow, I&#39;m trying to write a function `public static long[] firstK(int k)` that would return `k` numbers starting from 0 that would satisfy the condition that `findsum` = 1. \r\n\r\nI&#39;m struggling to understand how to do it, despite reading Java syntax and information. and here is my code so far:\r\n\r\n    public static long[] firstK(int k) {\r\n        while (int x = 0;) {\r\n            if (findSum(x) = 1;)\r\n                System.out.println(x);\r\n            } \r\n\r\nI know that int(k) isn&#39;t used in this, but I have no idea how to implement it. Any help would be greatly appreciated :)\r\n\r\nThank you,\r\nDave Shah, MUIC\r\n\r\n\r\n","title":"How can I print out n numbers that satisfy the condition","body":"<p>I have written a code that would return either 1 or 4 as the output, and here it is</p>\n<pre><code>public static int findSum(int k) {\n            int sum = 0;\n            boolean foundNonZero = false;\n            for (; k != 0; k /= 10) {\n                if (foundNonZero) {\n                    sum += (k % 10)*(k % 10);\n                } else {\n                    foundNonZero = k % 10 != 0;\n                }\n            }\n            return sum;\n        }\n</code></pre>\n<p>Now, I'm trying to write a function <code>public static long[] firstK(int k)</code> that would return <code>k</code> numbers starting from 0 that would satisfy the condition that <code>findsum</code> = 1.</p>\n<p>I'm struggling to understand how to do it, despite reading Java syntax and information. and here is my code so far:</p>\n<pre><code>public static long[] firstK(int k) {\n    while (int x = 0;) {\n        if (findSum(x) = 1;)\n            System.out.println(x);\n        } \n</code></pre>\n<p>I know that int(k) isn't used in this, but I have no idea how to implement it. Any help would be greatly appreciated :)</p>\n<p>Thank you,\nDave Shah, MUIC</p>\n"},{"tags":["java","spring","spring-boot","scheduler","completable-future"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1663219577,"post_id":73725238,"comment_id":130188471,"body_markdown":"For starters I would remove the `@PostConstruct` as that might lead to eager init of your `UserLookupService` leading to no proxy and thus no `@Async` behavior. I would also suggest to return `ThreadPoolTaskExecutor` instead of `Executor` from the `TaskExecutor` method (or ditch it all together as Spring Boot already configures a `TaskExecutor` for you).","body":"For starters I would remove the <code>@PostConstruct</code> as that might lead to eager init of your <code>UserLookupService</code> leading to no proxy and thus no <code>@Async</code> behavior. I would also suggest to return <code>ThreadPoolTaskExecutor</code> instead of <code>Executor</code> from the <code>TaskExecutor</code> method (or ditch it all together as Spring Boot already configures a <code>TaskExecutor</code> for you)."},{"owner":{"account_id":26340264,"reputation":31,"user_id":19999435,"display_name":"ADS"},"score":0,"creation_date":1663224370,"post_id":73725238,"comment_id":130189586,"body_markdown":"M, you made a good point and I tested it works quite well. However, I am a little bit confused for @PostConstruct. Is it not recommended for new spring boot applications to use @PostConstruct? I see quite a lot of recent guides from spring are using CommandLineRunner. Is it now the best practice?","body":"M, you made a good point and I tested it works quite well. However, I am a little bit confused for @PostConstruct. Is it not recommended for new spring boot applications to use @PostConstruct? I see quite a lot of recent guides from spring are using CommandLineRunner. Is it now the best practice?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1663225638,"post_id":73725238,"comment_id":130189949,"body_markdown":"Why would `@PostConstruct` be recommended? It has nothing to do with `@Scheduling`. The problem is that it executes earlier in the lifecycle if you want to fill a cache you are better of using an `ApplicationListener` listen for an `ApplicationReadyEvent` or use a `CommandLineRunner` or `ApplicationRunner`. But it depends on what you want to achieve.","body":"Why would <code>@PostConstruct</code> be recommended? It has nothing to do with <code>@Scheduling</code>. The problem is that it executes earlier in the lifecycle if you want to fill a cache you are better of using an <code>ApplicationListener</code> listen for an <code>ApplicationReadyEvent</code> or use a <code>CommandLineRunner</code> or <code>ApplicationRunner</code>. But it depends on what you want to achieve."},{"owner":{"account_id":26340264,"reputation":31,"user_id":19999435,"display_name":"ADS"},"score":0,"creation_date":1663226674,"post_id":73725238,"comment_id":130190298,"body_markdown":"Thanks M, let me clarify. I have two purposes here - 1) execute the job when the app starts 2) execute the schedule job after the app starts. This is the reason why I asked whether I should use PostConstruct or CommandLineRunner / ApplicationRunner. I know the PostConstruct has nothing to do with @Scheduled.","body":"Thanks M, let me clarify. I have two purposes here - 1) execute the job when the app starts 2) execute the schedule job after the app starts. This is the reason why I asked whether I should use PostConstruct or CommandLineRunner / ApplicationRunner. I know the PostConstruct has nothing to do with @Scheduled."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1663228032,"post_id":73725238,"comment_id":130190787,"body_markdown":"As stated the `@PostConstruct` can lead to too early execution withuot the `@Async` having time to properly create a proxy.","body":"As stated the <code>@PostConstruct</code> can lead to too early execution withuot the <code>@Async</code> having time to properly create a proxy."},{"owner":{"account_id":26340264,"reputation":31,"user_id":19999435,"display_name":"ADS"},"score":0,"creation_date":1663235955,"post_id":73725238,"comment_id":130193468,"body_markdown":"Thanks M! Your point is valid. I also found a blog you can also share your thoughts if any.  https://www.linkedin.com/pulse/postconstruct-vs-applicationrunner-vishal-mahuli","body":"Thanks M! Your point is valid. I also found a blog you can also share your thoughts if any.  <a href=\"https://www.linkedin.com/pulse/postconstruct-vs-applicationrunner-vishal-mahuli\" rel=\"nofollow noreferrer\">linkedin.com/pulse/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":26340264,"reputation":31,"user_id":19999435,"display_name":"ADS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1663735868,"creation_date":1663309815,"answer_id":73740755,"question_id":73725238,"body_markdown":"Credit to M. Deinum. \r\n\r\nremove the `@PostConstruct` as that might lead to eager init of your `UserLookupService` leading to no proxy and thus no `@Async` behavior\r\n","title":"Can I use CompletableFuture in Scheduling Tasks with Spring?","body":"<p>Credit to M. Deinum.</p>\n<p>remove the <code>@PostConstruct</code> as that might lead to eager init of your <code>UserLookupService</code> leading to no proxy and thus no <code>@Async</code> behavior</p>\n"}],"owner":{"account_id":26340264,"reputation":31,"user_id":19999435,"display_name":"ADS"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":504,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73740755,"answer_count":1,"score":1,"last_activity_date":1663735868,"creation_date":1663211478,"question_id":73725238,"body_markdown":"**The Problem:**  \r\nMy application is using Spring Boot and Java 8. I have a schedule task to get some data from three different data sources but now they are running in sequence. I want to speed them up by dividing the three data retrieval actions by using CompletableFuture at the same time concurrently. However, I run the code and found that the CompletableFuture tasks are running in one single thread called &#39;scheduling-1&#39; rather than running asynchronously.\r\n\r\n**What I have tried:**  \r\nI thought I was doing something not great. So, I decided to step back and tried it out by running a small testing project. What I have tried is like I combine the techniques mentioned by the two examples below:\r\n 1. https://spring.io/guides/gs/scheduling-tasks/\r\n 2. https://spring.io/guides/gs/async-method/  \r\n\r\nBut when I put them together, I find that they are using the same thread when calling the Async method.\r\n\r\nThe output was:\r\n\r\n    [   scheduling-1] Looking up PivotalSoftware, thread: scheduling-1  \r\n    [   scheduling-1] Looking up CloudFoundry, thread: scheduling-1  \r\n    [   scheduling-1] Looking up Spring-Projects, thread: scheduling-1\r\n\r\n**My Question:**  \r\nWhether my code went wrong or there is only one thread available in the scheduler even I use Async for CompletableFuture? What&#39;s the underlying reasons behind the result of my experiment result?\r\n\r\n**My code:**  \r\n\r\n*AsyncMethodApplication* \r\n\r\n    @SpringBootApplication  \r\n    @EnableAsync  \r\n    @EnableScheduling  \r\n    @PropertySource(&quot;classpath:common.properties&quot;)  \r\n    public class AsyncMethodApplication {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\t// close the application context to shut down the custom ExecutorService\r\n    \t\tSpringApplication.run(AsyncMethodApplication.class, args).close();\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tpublic Executor taskExecutor() {\r\n    \t\tThreadPoolTaskExecutor executor = new ThreadPoolTaskExecutor();\r\n    \t\texecutor.setCorePoolSize(3);\r\n    \t\texecutor.setMaxPoolSize(3);\r\n    \t\texecutor.setQueueCapacity(500);\r\n    \t\texecutor.setThreadNamePrefix(&quot;GithubLookup-&quot;);\r\n    \t\texecutor.initialize();\r\n    \t\treturn executor;\r\n    \t}\r\n    \r\n    \r\n    }\r\n\r\n*MyService*\r\n\r\n    @Service  \r\n    public class MyService {  \r\n        \r\n        private static final Logger logger = LoggerFactory.getLogger(MyService.class);\r\n        \r\n        @Autowired\r\n        private UserLookupService gitHubLookupService;\r\n        \r\n        @Scheduled(cron = &quot;${cron.expression.reloadUserData}&quot;)\r\n        @PostConstruct\r\n        public void loadCurrentDayUsers() throws Exception {\r\n            \r\n            this.loadUsers();\r\n            // this.loadOthers();\r\n            \r\n        }\r\n        \r\n        public void loadUsers() throws Exception {\r\n            \r\n            // Start the clock\r\n            long start = System.currentTimeMillis();\r\n    \r\n            // Kick of multiple, asynchronous lookups\r\n            CompletableFuture&lt;User&gt; page1 = gitHubLookupService.findUser(&quot;PivotalSoftware&quot;);\r\n            CompletableFuture&lt;User&gt; page2 = gitHubLookupService.findUser(&quot;CloudFoundry&quot;);\r\n            CompletableFuture&lt;User&gt; page3 = gitHubLookupService.findUser(&quot;Spring-Projects&quot;);\r\n    \r\n            // Wait until they are all done\r\n            CompletableFuture.allOf(page1,page2,page3).join();\r\n    \r\n            // Print results, including elapsed time\r\n            logger.info(&quot;Elapsed time: &quot; + (System.currentTimeMillis() - start));\r\n            logger.info(&quot;--&gt; &quot; + page1.get());\r\n            logger.info(&quot;--&gt; &quot; + page2.get());\r\n            logger.info(&quot;--&gt; &quot; + page3.get());\r\n        }\r\n    \r\n    }\r\n\r\n\r\n*User*\r\n\r\n    @JsonIgnoreProperties(ignoreUnknown=true)  \r\n    public class User {  \r\n    \r\n    \tprivate String name;\r\n    \tprivate String blog;\r\n    \r\n    \tpublic String getName() {\r\n    \t\treturn name;\r\n    \t}\r\n    \r\n    \tpublic void setName(String name) {\r\n    \t\tthis.name = name;\r\n    \t}\r\n    \r\n    \tpublic String getBlog() {\r\n    \t\treturn blog;\r\n    \t}\r\n    \r\n    \tpublic void setBlog(String blog) {\r\n    \t\tthis.blog = blog;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic String toString() {\r\n    \t\treturn &quot;User [name=&quot; + name + &quot;, blog=&quot; + blog + &quot;]&quot;;\r\n    \t}\r\n    \r\n    }\r\n\r\n*UserLookupService*\r\n\r\n    @Service  \r\n    public class UserLookupService {  \r\n    \r\n    \tprivate static final Logger logger = LoggerFactory.getLogger(UserLookupService.class);\r\n    \r\n    \t@Async\r\n    \tpublic CompletableFuture&lt;User&gt; findUser(String user) throws InterruptedException {\r\n    \t\tlogger.info(&quot;Looking up &quot; + user + &quot;, thread: &quot; + Thread.currentThread().getName());\r\n    \t\t\r\n    \t\t// mock result\r\n    \t\tUser results = new User();\r\n    \t\tresults.setName(user);\r\n    \t\tresults.setBlog(&quot;Blog - &quot; + user);\r\n    \t\t\r\n    \t\t// Artificial delay of 1s for demonstration purposes\r\n    \t\tThread.sleep(1000L);\r\n    \t\treturn CompletableFuture.completedFuture(results);\r\n    \t}\r\n    \r\n    }\r\n\r\n*common.properties*  \r\n\r\n    cron.expression.reloadUserData=0 0/1 3-23 * * MON-SAT\r\n\r\n\r\n","title":"Can I use CompletableFuture in Scheduling Tasks with Spring?","body":"<p><strong>The Problem:</strong><br />\nMy application is using Spring Boot and Java 8. I have a schedule task to get some data from three different data sources but now they are running in sequence. I want to speed them up by dividing the three data retrieval actions by using CompletableFuture at the same time concurrently. However, I run the code and found that the CompletableFuture tasks are running in one single thread called 'scheduling-1' rather than running asynchronously.</p>\n<p><strong>What I have tried:</strong><br />\nI thought I was doing something not great. So, I decided to step back and tried it out by running a small testing project. What I have tried is like I combine the techniques mentioned by the two examples below:</p>\n<ol>\n<li><a href=\"https://spring.io/guides/gs/scheduling-tasks/\" rel=\"nofollow noreferrer\">https://spring.io/guides/gs/scheduling-tasks/</a></li>\n<li><a href=\"https://spring.io/guides/gs/async-method/\" rel=\"nofollow noreferrer\">https://spring.io/guides/gs/async-method/</a></li>\n</ol>\n<p>But when I put them together, I find that they are using the same thread when calling the Async method.</p>\n<p>The output was:</p>\n<pre><code>[   scheduling-1] Looking up PivotalSoftware, thread: scheduling-1  \n[   scheduling-1] Looking up CloudFoundry, thread: scheduling-1  \n[   scheduling-1] Looking up Spring-Projects, thread: scheduling-1\n</code></pre>\n<p><strong>My Question:</strong><br />\nWhether my code went wrong or there is only one thread available in the scheduler even I use Async for CompletableFuture? What's the underlying reasons behind the result of my experiment result?</p>\n<p><strong>My code:</strong></p>\n<p><em>AsyncMethodApplication</em></p>\n<pre><code>@SpringBootApplication  \n@EnableAsync  \n@EnableScheduling  \n@PropertySource(&quot;classpath:common.properties&quot;)  \npublic class AsyncMethodApplication {\n\n    public static void main(String[] args) {\n        // close the application context to shut down the custom ExecutorService\n        SpringApplication.run(AsyncMethodApplication.class, args).close();\n    }\n\n    @Bean\n    public Executor taskExecutor() {\n        ThreadPoolTaskExecutor executor = new ThreadPoolTaskExecutor();\n        executor.setCorePoolSize(3);\n        executor.setMaxPoolSize(3);\n        executor.setQueueCapacity(500);\n        executor.setThreadNamePrefix(&quot;GithubLookup-&quot;);\n        executor.initialize();\n        return executor;\n    }\n\n\n}\n</code></pre>\n<p><em>MyService</em></p>\n<pre><code>@Service  \npublic class MyService {  \n    \n    private static final Logger logger = LoggerFactory.getLogger(MyService.class);\n    \n    @Autowired\n    private UserLookupService gitHubLookupService;\n    \n    @Scheduled(cron = &quot;${cron.expression.reloadUserData}&quot;)\n    @PostConstruct\n    public void loadCurrentDayUsers() throws Exception {\n        \n        this.loadUsers();\n        // this.loadOthers();\n        \n    }\n    \n    public void loadUsers() throws Exception {\n        \n        // Start the clock\n        long start = System.currentTimeMillis();\n\n        // Kick of multiple, asynchronous lookups\n        CompletableFuture&lt;User&gt; page1 = gitHubLookupService.findUser(&quot;PivotalSoftware&quot;);\n        CompletableFuture&lt;User&gt; page2 = gitHubLookupService.findUser(&quot;CloudFoundry&quot;);\n        CompletableFuture&lt;User&gt; page3 = gitHubLookupService.findUser(&quot;Spring-Projects&quot;);\n\n        // Wait until they are all done\n        CompletableFuture.allOf(page1,page2,page3).join();\n\n        // Print results, including elapsed time\n        logger.info(&quot;Elapsed time: &quot; + (System.currentTimeMillis() - start));\n        logger.info(&quot;--&gt; &quot; + page1.get());\n        logger.info(&quot;--&gt; &quot; + page2.get());\n        logger.info(&quot;--&gt; &quot; + page3.get());\n    }\n\n}\n</code></pre>\n<p><em>User</em></p>\n<pre><code>@JsonIgnoreProperties(ignoreUnknown=true)  \npublic class User {  \n\n    private String name;\n    private String blog;\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getBlog() {\n        return blog;\n    }\n\n    public void setBlog(String blog) {\n        this.blog = blog;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;User [name=&quot; + name + &quot;, blog=&quot; + blog + &quot;]&quot;;\n    }\n\n}\n</code></pre>\n<p><em>UserLookupService</em></p>\n<pre><code>@Service  \npublic class UserLookupService {  \n\n    private static final Logger logger = LoggerFactory.getLogger(UserLookupService.class);\n\n    @Async\n    public CompletableFuture&lt;User&gt; findUser(String user) throws InterruptedException {\n        logger.info(&quot;Looking up &quot; + user + &quot;, thread: &quot; + Thread.currentThread().getName());\n        \n        // mock result\n        User results = new User();\n        results.setName(user);\n        results.setBlog(&quot;Blog - &quot; + user);\n        \n        // Artificial delay of 1s for demonstration purposes\n        Thread.sleep(1000L);\n        return CompletableFuture.completedFuture(results);\n    }\n\n}\n</code></pre>\n<p><em>common.properties</em></p>\n<pre><code>cron.expression.reloadUserData=0 0/1 3-23 * * MON-SAT\n</code></pre>\n"},{"tags":["java","spring","hibernate","spring-mvc"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":2,"creation_date":1663735570,"post_id":73795428,"comment_id":130306688,"body_markdown":"It looks like you&#39;ve got two different classes called `Details`, in two different packages, and you&#39;re getting confused about which one&#39;s which.  I would suggest giving them different names, which should make it clearer how to fix the problem.","body":"It looks like you&#39;ve got two different classes called <code>Details</code>, in two different packages, and you&#39;re getting confused about which one&#39;s which.  I would suggest giving them different names, which should make it clearer how to fix the problem."},{"owner":{"account_id":20826939,"reputation":3,"user_id":15297193,"display_name":"manu"},"score":0,"creation_date":1663737379,"post_id":73795428,"comment_id":130306992,"body_markdown":"ok thank you  when changing class name program run.","body":"ok thank you  when changing class name program run."}],"owner":{"account_id":20826939,"reputation":3,"user_id":15297193,"display_name":"manu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":349,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1663735286,"creation_date":1663735286,"question_id":73795428,"body_markdown":"when run the project shows two error \r\n1.error: incompatible types: sample.controller.Details cannot be converted to sample.dao.Details\r\n        stDao.save(ei);\r\n2.error: incompatible types: sample.controller.Details cannot be converted to sample.dao.Details\r\n        stDao.update(st);\r\n\r\ni give the two class files  below\r\n   \r\n this is studentController.java file\r\n  \r\n\r\n      package sample.controller;\r\n        import java.util.List;\r\n        import org.springframework.beans.factory.annotation.Autowired;\r\n        import org.springframework.stereotype.Controller;\r\n        import org.springframework.web.bind.annotation.RequestMapping;\r\n        import org.springframework.web.bind.annotation.RequestMethod;\r\n        import org.springframework.web.bind.annotation.RequestParam;\r\n        import org.springframework.web.bind.annotation.ResponseBody;\r\n        import sample.dao.studentDao;\r\n        @Controller\r\n        public class studentController {\r\n              @Autowired\r\n            studentDao stDao;\r\n             @RequestMapping(value =&quot;index.htm&quot;, method = RequestMethod.GET)\r\n            public String index()\r\n            {\r\n                System.out.println(&quot;at index&quot;);\r\n                return &quot;index&quot;;\r\n            }\r\n            \r\n            @RequestMapping(value =&quot;insert.htm&quot;, method = RequestMethod.POST)\r\n            public @ResponseBody String insert\r\n                (\r\n                    @RequestParam(&quot;id&quot;) Integer id,\r\n                    @RequestParam(&quot;name&quot;) String name,\r\n                    @RequestParam(&quot;email&quot;) String email,\r\n                    @RequestParam(&quot;fee&quot;) String fee,\r\n                      @RequestParam(&quot;sname&quot;) String sname,\r\n                      @RequestParam(&quot;contactno&quot;) String contactno\r\n                )\r\n          \r\n                {\r\n        \r\n                Details ei;\r\n                ei = new Details();\r\n                ei.setName(name);\r\n                ei.setEmail(email);\r\n                ei.setFee(fee);\r\n                ei.setSname(sname);\r\n                ei.setContactno(contactno);\r\n               stDao.save(ei);\r\n         Gson ob = new Gson();\r\n                return &quot;success&quot;;\r\n           }\r\n            \r\n         @RequestMapping(value=&quot;fetch.htm&quot;, method = RequestMethod.GET)\r\n            public @ResponseBody String display() \r\n            {\r\n                List&lt;Details&gt; listdetails = (List&lt;Details&gt;) stDao.display();\r\n                return new Gson().toJson(listdetails);\r\n            }\r\n        \r\n            \r\n            @RequestMapping(value = &quot;delete.htm&quot;)\r\n            public @ResponseBody  String delete(@RequestParam(&quot;id&quot;) Integer id)\r\n            {\r\n                stDao.delete(id);\r\n                return &quot;successful&quot;;\r\n            }\r\n            \r\n            @RequestMapping(value = &quot;edit.htm&quot;)\r\n            public @ResponseBody  String edit(@RequestParam(&quot;id&quot;) Integer id)\r\n            {\r\n                List editlist;\r\n                editlist = stDao.getDetailsForEdit(id);\r\n                return new Gson().toJson(editlist);\r\n            }\r\n            \r\n            \r\n            @RequestMapping(value = &quot;update.htm&quot;, method = RequestMethod.POST)\r\n            public @ResponseBody String update\r\n                (\r\n                    @RequestParam(value=&quot;id&quot;,required=false) Integer id,\r\n                    @RequestParam(&quot;name&quot;) String name,\r\n                    @RequestParam(&quot;email&quot;) String email,\r\n                    @RequestParam(&quot;fee&quot;) String fee,\r\n                    @RequestParam(&quot;sname&quot;) String sname,\r\n                    @RequestParam(&quot;contactno&quot;) String contactno\r\n               )\r\n                {\r\n                    \r\n                Details st = new Details();\r\n                st.setName(name);\r\n                st.setEmail(email);\r\n                st.setFee(fee);\r\n                st.setSname(sname);\r\n                st.setContactno(contactno);\r\n                System.out.println(&quot;st&quot;);\r\n                stDao.update(st);\r\n                Gson ob = new Gson();\r\n                return &quot;success&quot;;\r\n            }\r\n        }\r\n        \r\n    this studentDao.java file\r\n    \r\n    package sample.dao;\r\n    import java.util.List;\r\n    import org.hibernate.Criteria;\r\n    import org.hibernate.Session;\r\n    import org.hibernate.SessionFactory;\r\n    import org.hibernate.Transaction;\r\n    import org.hibernate.criterion.Projections;\r\n    import org.hibernate.criterion.Restrictions;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Repository;\r\n    import org.springframework.transaction.annotation.Transactional;\r\n    \r\n    @Transactional\r\n    @Repository\r\n    public class studentDao {\r\n    \r\n       @Autowired\r\n        private SessionFactory sessionFactory;\r\n        public void save(Details stdinfo) {\r\n            Session session = sessionFactory.openSession();\r\n            session.save(stdinfo);\r\n            session.close();\r\n        }\r\n    public List display() {\r\n            Session session = sessionFactory.openSession();\r\n            Criteria criteria = session.createCriteria(Details.class);\r\n            criteria.setProjection(Projections.projectionList().add(Projections.property(&quot;id&quot;), &quot;id&quot;)\r\n                    .add(Projections.property(&quot;name&quot;), &quot;name&quot;)\r\n                    .add(Projections.property(&quot;email&quot;), &quot;email&quot;)\r\n                    .add(Projections.property(&quot;fee&quot;), &quot;fee&quot;) \r\n                    .add(Projections.property(&quot;sname&quot;), &quot;sname&quot;) \r\n                    .add(Projections.property(&quot;contactno&quot;), &quot;contactno&quot;));\r\n            criteria.setResultTransformer(Criteria.ALIAS_TO_ENTITY_MAP);\r\n            List list = criteria.list();\r\n            session.close();\r\n            return list;\r\n        }    \r\n         public void delete(Integer id){\r\n            Session session = sessionFactory.openSession();\r\n            Transaction trx = session.beginTransaction();\r\n            Details stdtl = new Details(id);\r\n            session.delete(stdtl);\r\n            trx.commit();\r\n            session.close();\r\n        } \r\n         public List getDetailsForEdit(Integer id) {\r\n            Session session = sessionFactory.openSession();\r\n            Criteria criteria = session.createCriteria(Details.class);\r\n            criteria.setProjection(Projections.projectionList()\r\n                    .add(Projections.property(&quot;id&quot;), &quot;id&quot;)\r\n                    .add(Projections.property(&quot;name&quot;), &quot;name&quot;)\r\n                    .add(Projections.property(&quot;email&quot;), &quot;email&quot;)\r\n                           .add(Projections.property(&quot;fee&quot;), &quot;fee&quot;)\r\n                           .add(Projections.property(&quot;sname&quot;), &quot;sname&quot;)\r\n                    .add(Projections.property(&quot;contactno&quot;), &quot;contactno&quot;)\r\n            );\r\n            criteria.add(Restrictions.eq(&quot;id&quot;, id));\r\n            criteria.setResultTransformer(Criteria.ALIAS_TO_ENTITY_MAP);\r\n            List list = criteria.list();\r\n            session.close();\r\n            return list;\r\n        }\r\n        public void update(Details Stdinfo){\r\n            Session session = sessionFactory.openSession();\r\n            Transaction trx = session.beginTransaction();        \r\n            session.update(Stdinfo);\r\n            trx.commit();\r\n            session.close();\r\n        }\r\n    \r\n   \r\n}\r\n\r\n\r\n  \r\n  \r\n\r\n","title":"when run the project shows error: incompatible types","body":"<p>when run the project shows two error\n1.error: incompatible types: sample.controller.Details cannot be converted to sample.dao.Details\nstDao.save(ei);\n2.error: incompatible types: sample.controller.Details cannot be converted to sample.dao.Details\nstDao.update(st);</p>\n<p>i give the two class files  below</p>\n<p>this is studentController.java file</p>\n<pre><code>  package sample.controller;\n    import java.util.List;\n    import org.springframework.beans.factory.annotation.Autowired;\n    import org.springframework.stereotype.Controller;\n    import org.springframework.web.bind.annotation.RequestMapping;\n    import org.springframework.web.bind.annotation.RequestMethod;\n    import org.springframework.web.bind.annotation.RequestParam;\n    import org.springframework.web.bind.annotation.ResponseBody;\n    import sample.dao.studentDao;\n    @Controller\n    public class studentController {\n          @Autowired\n        studentDao stDao;\n         @RequestMapping(value =&quot;index.htm&quot;, method = RequestMethod.GET)\n        public String index()\n        {\n            System.out.println(&quot;at index&quot;);\n            return &quot;index&quot;;\n        }\n        \n        @RequestMapping(value =&quot;insert.htm&quot;, method = RequestMethod.POST)\n        public @ResponseBody String insert\n            (\n                @RequestParam(&quot;id&quot;) Integer id,\n                @RequestParam(&quot;name&quot;) String name,\n                @RequestParam(&quot;email&quot;) String email,\n                @RequestParam(&quot;fee&quot;) String fee,\n                  @RequestParam(&quot;sname&quot;) String sname,\n                  @RequestParam(&quot;contactno&quot;) String contactno\n            )\n      \n            {\n    \n            Details ei;\n            ei = new Details();\n            ei.setName(name);\n            ei.setEmail(email);\n            ei.setFee(fee);\n            ei.setSname(sname);\n            ei.setContactno(contactno);\n           stDao.save(ei);\n     Gson ob = new Gson();\n            return &quot;success&quot;;\n       }\n        \n     @RequestMapping(value=&quot;fetch.htm&quot;, method = RequestMethod.GET)\n        public @ResponseBody String display() \n        {\n            List&lt;Details&gt; listdetails = (List&lt;Details&gt;) stDao.display();\n            return new Gson().toJson(listdetails);\n        }\n    \n        \n        @RequestMapping(value = &quot;delete.htm&quot;)\n        public @ResponseBody  String delete(@RequestParam(&quot;id&quot;) Integer id)\n        {\n            stDao.delete(id);\n            return &quot;successful&quot;;\n        }\n        \n        @RequestMapping(value = &quot;edit.htm&quot;)\n        public @ResponseBody  String edit(@RequestParam(&quot;id&quot;) Integer id)\n        {\n            List editlist;\n            editlist = stDao.getDetailsForEdit(id);\n            return new Gson().toJson(editlist);\n        }\n        \n        \n        @RequestMapping(value = &quot;update.htm&quot;, method = RequestMethod.POST)\n        public @ResponseBody String update\n            (\n                @RequestParam(value=&quot;id&quot;,required=false) Integer id,\n                @RequestParam(&quot;name&quot;) String name,\n                @RequestParam(&quot;email&quot;) String email,\n                @RequestParam(&quot;fee&quot;) String fee,\n                @RequestParam(&quot;sname&quot;) String sname,\n                @RequestParam(&quot;contactno&quot;) String contactno\n           )\n            {\n                \n            Details st = new Details();\n            st.setName(name);\n            st.setEmail(email);\n            st.setFee(fee);\n            st.setSname(sname);\n            st.setContactno(contactno);\n            System.out.println(&quot;st&quot;);\n            stDao.update(st);\n            Gson ob = new Gson();\n            return &quot;success&quot;;\n        }\n    }\n    \nthis studentDao.java file\n\npackage sample.dao;\nimport java.util.List;\nimport org.hibernate.Criteria;\nimport org.hibernate.Session;\nimport org.hibernate.SessionFactory;\nimport org.hibernate.Transaction;\nimport org.hibernate.criterion.Projections;\nimport org.hibernate.criterion.Restrictions;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Repository;\nimport org.springframework.transaction.annotation.Transactional;\n\n@Transactional\n@Repository\npublic class studentDao {\n\n   @Autowired\n    private SessionFactory sessionFactory;\n    public void save(Details stdinfo) {\n        Session session = sessionFactory.openSession();\n        session.save(stdinfo);\n        session.close();\n    }\npublic List display() {\n        Session session = sessionFactory.openSession();\n        Criteria criteria = session.createCriteria(Details.class);\n        criteria.setProjection(Projections.projectionList().add(Projections.property(&quot;id&quot;), &quot;id&quot;)\n                .add(Projections.property(&quot;name&quot;), &quot;name&quot;)\n                .add(Projections.property(&quot;email&quot;), &quot;email&quot;)\n                .add(Projections.property(&quot;fee&quot;), &quot;fee&quot;) \n                .add(Projections.property(&quot;sname&quot;), &quot;sname&quot;) \n                .add(Projections.property(&quot;contactno&quot;), &quot;contactno&quot;));\n        criteria.setResultTransformer(Criteria.ALIAS_TO_ENTITY_MAP);\n        List list = criteria.list();\n        session.close();\n        return list;\n    }    \n     public void delete(Integer id){\n        Session session = sessionFactory.openSession();\n        Transaction trx = session.beginTransaction();\n        Details stdtl = new Details(id);\n        session.delete(stdtl);\n        trx.commit();\n        session.close();\n    } \n     public List getDetailsForEdit(Integer id) {\n        Session session = sessionFactory.openSession();\n        Criteria criteria = session.createCriteria(Details.class);\n        criteria.setProjection(Projections.projectionList()\n                .add(Projections.property(&quot;id&quot;), &quot;id&quot;)\n                .add(Projections.property(&quot;name&quot;), &quot;name&quot;)\n                .add(Projections.property(&quot;email&quot;), &quot;email&quot;)\n                       .add(Projections.property(&quot;fee&quot;), &quot;fee&quot;)\n                       .add(Projections.property(&quot;sname&quot;), &quot;sname&quot;)\n                .add(Projections.property(&quot;contactno&quot;), &quot;contactno&quot;)\n        );\n        criteria.add(Restrictions.eq(&quot;id&quot;, id));\n        criteria.setResultTransformer(Criteria.ALIAS_TO_ENTITY_MAP);\n        List list = criteria.list();\n        session.close();\n        return list;\n    }\n    public void update(Details Stdinfo){\n        Session session = sessionFactory.openSession();\n        Transaction trx = session.beginTransaction();        \n        session.update(Stdinfo);\n        trx.commit();\n        session.close();\n    }\n</code></pre>\n<p>}</p>\n"},{"tags":["javascript","java","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":25606752,"reputation":681,"user_id":19380738,"display_name":"Park Numb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663734152,"creation_date":1663734152,"answer_id":73795325,"question_id":73795110,"body_markdown":"If you use method GET on spring, you must pass param to url when call xhr like:\r\n\r\n    var data = {\r\n        &quot;first_operand&quot;: String(first_val),\r\n        &quot;operator&quot;: String(operator),\r\n        &quot;second_operand&quot;: String(second_val)\r\n    };\r\n    \r\n    var url = &quot;http://localhost:8080/workout/expression&quot;;\r\n    if(data) url =  url + &#39;?&#39; + Object.keys(data).map(function (key) { return [key, data[key]].map(encodeURIComponent).join(&quot;=&quot;); }).join(&quot;&amp;&quot;);\r\n    \r\n    var xhr = new XMLHttpRequest();\r\n    xhttp.onreadystatechange = function() {\r\n        if (this.readyState == 4 &amp;&amp; this.status == 200) {\r\n           // do something\r\n        }\r\n    };\r\n                \r\n    xhr.setRequestHeader(&quot;Accept&quot;, &quot;application/json&quot;);\r\n    xhr.setRequestHeader(&quot;Content-Type&quot;, &quot;application/json&quot;);\r\n    xhr.open(&quot;GET&quot;, url, true);\r\n    xhttp.send();\r\n\r\n\r\nOr if you don&#39;t want to pass param to url, you can use `@RequestBody` on spring server.\r\n\r\nFirst: create class to mapping requestbody to class\r\n\r\n    public class DataForm {\r\n        private String first_operand;\r\n        private String operator;\r\n        private String second_operand;\r\n    \r\n        // getter &amp; setter\r\n    }\r\nSecond: change api to method `POST` like this:\r\n\r\n    @RequestMapping(value = &quot;/expression&quot;, method = RequestMethod.POST)\r\n    public String calc(@RequestBody DataForm data) {\r\n        return calcalutorService.workout(data.first_operand, data.operator, data.second_operand);\r\n    }\r\nAnd call xhr like this:\r\n\r\n    var xhr = new XMLHttpRequest();\r\n    xhttp.onreadystatechange = function() {\r\n        if (this.readyState == 4 &amp;&amp; this.status == 200) {\r\n           // do something\r\n        }\r\n    };\r\n                \r\n    xhr.setRequestHeader(&quot;Accept&quot;, &quot;application/json&quot;);\r\n    xhr.setRequestHeader(&quot;Content-Type&quot;, &quot;application/json&quot;);\r\n    xhr.open(&quot;POST&quot;, &quot;http://localhost:8080/workout/expression&quot;, true);\r\n    xhttp.send(data);\r\n\r\n\r\nHope this help!","title":"Send request from javascript to Spring boot controller","body":"<p>If you use method GET on spring, you must pass param to url when call xhr like:</p>\n<pre><code>var data = {\n    &quot;first_operand&quot;: String(first_val),\n    &quot;operator&quot;: String(operator),\n    &quot;second_operand&quot;: String(second_val)\n};\n\nvar url = &quot;http://localhost:8080/workout/expression&quot;;\nif(data) url =  url + '?' + Object.keys(data).map(function (key) { return [key, data[key]].map(encodeURIComponent).join(&quot;=&quot;); }).join(&quot;&amp;&quot;);\n\nvar xhr = new XMLHttpRequest();\nxhttp.onreadystatechange = function() {\n    if (this.readyState == 4 &amp;&amp; this.status == 200) {\n       // do something\n    }\n};\n            \nxhr.setRequestHeader(&quot;Accept&quot;, &quot;application/json&quot;);\nxhr.setRequestHeader(&quot;Content-Type&quot;, &quot;application/json&quot;);\nxhr.open(&quot;GET&quot;, url, true);\nxhttp.send();\n</code></pre>\n<p>Or if you don't want to pass param to url, you can use <code>@RequestBody</code> on spring server.</p>\n<p>First: create class to mapping requestbody to class</p>\n<pre><code>public class DataForm {\n    private String first_operand;\n    private String operator;\n    private String second_operand;\n\n    // getter &amp; setter\n}\n</code></pre>\n<p>Second: change api to method <code>POST</code> like this:</p>\n<pre><code>@RequestMapping(value = &quot;/expression&quot;, method = RequestMethod.POST)\npublic String calc(@RequestBody DataForm data) {\n    return calcalutorService.workout(data.first_operand, data.operator, data.second_operand);\n}\n</code></pre>\n<p>And call xhr like this:</p>\n<pre><code>var xhr = new XMLHttpRequest();\nxhttp.onreadystatechange = function() {\n    if (this.readyState == 4 &amp;&amp; this.status == 200) {\n       // do something\n    }\n};\n            \nxhr.setRequestHeader(&quot;Accept&quot;, &quot;application/json&quot;);\nxhr.setRequestHeader(&quot;Content-Type&quot;, &quot;application/json&quot;);\nxhr.open(&quot;POST&quot;, &quot;http://localhost:8080/workout/expression&quot;, true);\nxhttp.send(data);\n</code></pre>\n<p>Hope this help!</p>\n"}],"owner":{"account_id":25953659,"reputation":1,"user_id":19671309,"display_name":"Mostafa M. Galal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1852,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1663734152,"creation_date":1663731607,"question_id":73795110,"body_markdown":"I am trying to make some calculations on server side using spring boot I want to send request with the required parameters needed by the controller function but it arises state 400 bad request. I am new to spring boot so I don’t even know if I doing it right. so to go straight, my purpose is sending Get request with the needed parameters of the spring controller function. so that for these parameters to be processed and return the result.\r\n\r\nNote:\r\nit seems that the parameters aren&#39;t sent correctly and this warning arises on running in intellij.\r\n[org.springframework.web.bind.MissingServletRequestParameterException: Required request parameter &#39;first_operand&#39; for method parameter type String is not present]\r\n\r\nspring boot controller code\r\n```\r\npackage Hyperion.Mostafa_Galal.Calculator;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.ui.Model;\r\nimport org.springframework.web.bind.annotation.*;\r\n\r\n@RestController\r\n@CrossOrigin(origins=&quot;http://localhost:8080/&quot;)\r\n@RequestMapping(&quot;/workout&quot;)\r\npublic class CalculatorController {\r\n    private final CalcalutorService calcalutorService;\r\n\r\n    @Autowired\r\n    public CalculatorController(CalcalutorService calcalutorService) {\r\n        this.calcalutorService = calcalutorService;\r\n    }\r\n\r\n    @GetMapping(&quot;/expression&quot;)\r\n    public String calc(@RequestParam String first_operand, @RequestParam String operator, @RequestParam String second_operand) {\r\n        return calcalutorService.workout(first_operand, operator, second_operand);\r\n    }\r\n}\r\n```\r\n\r\njavascript code\r\n```\r\nvar xhr = new XMLHttpRequest();\r\n            xhr.open(&quot;GET&quot;, &quot;http://localhost:8080/workout/expression&quot;);\r\n            \r\nxhr.setRequestHeader(&quot;Accept&quot;, &quot;application/json&quot;);\r\nxhr.setRequestHeader(&quot;Content-Type&quot;, &quot;application/json&quot;);\r\n            \r\nxhr.onload = () =&gt; console.log(xhr.responseText);\r\n            \r\nvar data = {&quot;first_operand&quot;: String(first_val), \r\n            &quot;operator&quot;: String(operator),\r\n            &quot;second_operand&quot;: String(second_val)};\r\n```\r\n\r\nThanks in advance","title":"Send request from javascript to Spring boot controller","body":"<p>I am trying to make some calculations on server side using spring boot I want to send request with the required parameters needed by the controller function but it arises state 400 bad request. I am new to spring boot so I don’t even know if I doing it right. so to go straight, my purpose is sending Get request with the needed parameters of the spring controller function. so that for these parameters to be processed and return the result.</p>\n<p>Note:\nit seems that the parameters aren't sent correctly and this warning arises on running in intellij.\n[org.springframework.web.bind.MissingServletRequestParameterException: Required request parameter 'first_operand' for method parameter type String is not present]</p>\n<p>spring boot controller code</p>\n<pre><code>package Hyperion.Mostafa_Galal.Calculator;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.ui.Model;\nimport org.springframework.web.bind.annotation.*;\n\n@RestController\n@CrossOrigin(origins=&quot;http://localhost:8080/&quot;)\n@RequestMapping(&quot;/workout&quot;)\npublic class CalculatorController {\n    private final CalcalutorService calcalutorService;\n\n    @Autowired\n    public CalculatorController(CalcalutorService calcalutorService) {\n        this.calcalutorService = calcalutorService;\n    }\n\n    @GetMapping(&quot;/expression&quot;)\n    public String calc(@RequestParam String first_operand, @RequestParam String operator, @RequestParam String second_operand) {\n        return calcalutorService.workout(first_operand, operator, second_operand);\n    }\n}\n</code></pre>\n<p>javascript code</p>\n<pre><code>var xhr = new XMLHttpRequest();\n            xhr.open(&quot;GET&quot;, &quot;http://localhost:8080/workout/expression&quot;);\n            \nxhr.setRequestHeader(&quot;Accept&quot;, &quot;application/json&quot;);\nxhr.setRequestHeader(&quot;Content-Type&quot;, &quot;application/json&quot;);\n            \nxhr.onload = () =&gt; console.log(xhr.responseText);\n            \nvar data = {&quot;first_operand&quot;: String(first_val), \n            &quot;operator&quot;: String(operator),\n            &quot;second_operand&quot;: String(second_val)};\n</code></pre>\n<p>Thanks in advance</p>\n"},{"tags":["java","spring-boot","pgp"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1663735038,"post_id":73795313,"comment_id":130306589,"body_markdown":"PGP is an external utility designed primarily for email encryption.  It is not an encryption algorithm.  And I am not sure it is readily available for Windows platforms.  Are you sure that you are asking the right question here?","body":"PGP is an external utility designed primarily for email encryption.  It is not an encryption algorithm.  And I am not sure it is readily available for Windows platforms.  Are you sure that you are asking the right question here?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1663751378,"post_id":73795313,"comment_id":130310923,"body_markdown":"You might be able to [do it](https://itecnote.com/tecnote/java-getting-gpg-decryption-to-work-in-java-bouncy-castle/)","body":"You might be able to <a href=\"https://itecnote.com/tecnote/java-getting-gpg-decryption-to-work-in-java-bouncy-castle/\" rel=\"nofollow noreferrer\">do it</a>"}],"owner":{"account_id":17035006,"reputation":3,"user_id":12324225,"display_name":"Fabian Andres Ortiz Valiente"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":136,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1663733984,"creation_date":1663733984,"question_id":73795313,"body_markdown":"I have a simple txt and I want to encrypt it with pgp,\r\nI am currently using spring boot\r\nI show you the txt \r\n\r\n     List&lt;String&gt; info= new ArrayList&lt;&gt;();\r\n           info.add(&quot;hello world&quot;);\r\n    \r\n    \r\n    \r\n        public List&lt;String&gt;  txt(List&lt;String&gt;  data) throws IOException {\r\n            File nameFile = new File(&quot;test.txt&quot;);\r\n            FileWriter save = new FileWriter(&quot;C:\\\\Downloads\\\\&quot; +nameFile);\r\n            PrintWriter writer = new PrintWriter(save);\r\n            for (String i: data){\r\n                writer.println(i);\r\n            }\r\n            writer.close();\r\n            return data;\r\n        }\r\n\r\n**how to encrypt with spring boot using pgp**","title":"How to encrypt txt with pgp?","body":"<p>I have a simple txt and I want to encrypt it with pgp,\nI am currently using spring boot\nI show you the txt</p>\n<pre><code> List&lt;String&gt; info= new ArrayList&lt;&gt;();\n       info.add(&quot;hello world&quot;);\n\n\n\n    public List&lt;String&gt;  txt(List&lt;String&gt;  data) throws IOException {\n        File nameFile = new File(&quot;test.txt&quot;);\n        FileWriter save = new FileWriter(&quot;C:\\\\Downloads\\\\&quot; +nameFile);\n        PrintWriter writer = new PrintWriter(save);\n        for (String i: data){\n            writer.println(i);\n        }\n        writer.close();\n        return data;\n    }\n</code></pre>\n<p><strong>how to encrypt with spring boot using pgp</strong></p>\n"},{"tags":["java","enums"],"comments":[{"owner":{"account_id":235018,"reputation":364834,"user_id":501557,"accept_rate":90,"display_name":"templatetypedef"},"score":2,"creation_date":1313092118,"post_id":7031920,"comment_id":8401555,"body_markdown":"By &quot;better,&quot; do you mean &quot;easier to read,&quot; &quot;runs faster,&quot; etc.?","body":"By &quot;better,&quot; do you mean &quot;easier to read,&quot; &quot;runs faster,&quot; etc.?"},{"owner":{"account_id":183607,"reputation":33842,"user_id":419075,"accept_rate":96,"display_name":"Amir Raminfar"},"score":0,"creation_date":1313092759,"post_id":7031920,"comment_id":8401750,"body_markdown":"@templatetypedef Mostly performance then easier to read.","body":"@templatetypedef Mostly performance then easier to read."},{"owner":{"account_id":204659,"reputation":37539,"user_id":453005,"accept_rate":100,"display_name":"DwB"},"score":0,"creation_date":1313093607,"post_id":7031920,"comment_id":8402028,"body_markdown":"If you need to determine if an object is an Enum, then the question you should be asking is &quot;Why am I using this terrible design&quot;.","body":"If you need to determine if an object is an Enum, then the question you should be asking is &quot;Why am I using this terrible design&quot;."},{"owner":{"account_id":183607,"reputation":33842,"user_id":419075,"accept_rate":96,"display_name":"Amir Raminfar"},"score":1,"creation_date":1313094043,"post_id":7031920,"comment_id":8402168,"body_markdown":"@DwB I don&#39;t think you can assume what I am doing before you make that comment? I am creating a formatter which needs to know what type of object it is to format. If there is a better way to format(object) then I am all ears.","body":"@DwB I don&#39;t think you can assume what I am doing before you make that comment? I am creating a formatter which needs to know what type of object it is to format. If there is a better way to format(object) then I am all ears."},{"owner":{"account_id":183607,"reputation":33842,"user_id":419075,"accept_rate":96,"display_name":"Amir Raminfar"},"score":0,"creation_date":1313095991,"post_id":7031920,"comment_id":8402739,"body_markdown":"Its already coming from format(list) so I lose the type because erasure.","body":"Its already coming from format(list) so I lose the type because erasure."},{"owner":{"display_name":"user246645"},"score":2,"creation_date":1363937388,"post_id":7031920,"comment_id":22060919,"body_markdown":"If you&#39;re going to use `isEnum()` you should note that when it comes to enums it is advised to use `getDeclaringClass()` instead of `getClass()` especially when you want to test whether it is an enum or not. See [this question](http://stackoverflow.com/questions/5758660/java-enum-getdeclaringclass-vs-getclass?rq=1)","body":"If you&#39;re going to use <code>isEnum()</code> you should note that when it comes to enums it is advised to use <code>getDeclaringClass()</code> instead of <code>getClass()</code> especially when you want to test whether it is an enum or not. See <a href=\"http://stackoverflow.com/questions/5758660/java-enum-getdeclaringclass-vs-getclass?rq=1\">this question</a>"}],"answers":[{"tags":[],"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"down_vote_count":0,"up_vote_count":33,"is_accepted":true,"score":33,"last_activity_date":1313092957,"creation_date":1313092442,"answer_id":7031978,"question_id":7031920,"body_markdown":"In my opinion `object instanceof Enum` is better for several reasons:\r\n\r\n- It is very obvious what is asked here: &quot;is this an enum&quot;?\r\n- It doesn&#39;t risk a `NullPointerException` (if `object` is `null`, it will just evaluate to `false`)\r\n- It&#39;s shorter.\r\n\r\nThe only reason I&#39;d see for using `isEnum()` would be if I only have access to the `Class` object and not to a concrete instance.","title":"Is it better to use class.isEnum() or instanceof Enum?","body":"<p>In my opinion <code>object instanceof Enum</code> is better for several reasons:</p>\n\n<ul>\n<li>It is very obvious what is asked here: \"is this an enum\"?</li>\n<li>It doesn't risk a <code>NullPointerException</code> (if <code>object</code> is <code>null</code>, it will just evaluate to <code>false</code>)</li>\n<li>It's shorter.</li>\n</ul>\n\n<p>The only reason I'd see for using <code>isEnum()</code> would be if I only have access to the <code>Class</code> object and not to a concrete instance.</p>\n"},{"tags":[],"owner":{"account_id":22338783,"reputation":31,"user_id":16558873,"display_name":"Tingjun Yuan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663733310,"creation_date":1663733310,"answer_id":73795254,"question_id":7031920,"body_markdown":"You need to use the latter (`object instanceof Enum`) because the former may not work with enum constants with constant-specific class bodies.\r\n\r\nFor example, for this enum type:\r\n\r\n```java\r\nenum MyEnum {\r\n    FOO { }\r\n}\r\n```\r\n\r\nThe expression `MyEnum.FOO.getClass().isEnum()` returns `false`.\r\n\r\nIf you want to check if an object is a enum constant without `instanceof Enum`, you have to use this (much more complicated) expression:\r\n\r\n```java\r\nstatic boolean isEnum(Object obj) {\r\n    Class&lt;?&gt; cls = obj.getClass();\r\n    Class&lt;?&gt; superCls = cls.getSuperclass();\r\n    // Be careful, Object.class.getSuperclass() returns null\r\n    return cls.isEnum() || (superCls != null &amp;&amp; superCls.isEnum());\r\n}\r\n```","title":"Is it better to use class.isEnum() or instanceof Enum?","body":"<p>You need to use the latter (<code>object instanceof Enum</code>) because the former may not work with enum constants with constant-specific class bodies.</p>\n<p>For example, for this enum type:</p>\n<pre class=\"lang-java prettyprint-override\"><code>enum MyEnum {\n    FOO { }\n}\n</code></pre>\n<p>The expression <code>MyEnum.FOO.getClass().isEnum()</code> returns <code>false</code>.</p>\n<p>If you want to check if an object is a enum constant without <code>instanceof Enum</code>, you have to use this (much more complicated) expression:</p>\n<pre class=\"lang-java prettyprint-override\"><code>static boolean isEnum(Object obj) {\n    Class&lt;?&gt; cls = obj.getClass();\n    Class&lt;?&gt; superCls = cls.getSuperclass();\n    // Be careful, Object.class.getSuperclass() returns null\n    return cls.isEnum() || (superCls != null &amp;&amp; superCls.isEnum());\n}\n</code></pre>\n"}],"owner":{"account_id":183607,"reputation":33842,"user_id":419075,"accept_rate":96,"display_name":"Amir Raminfar"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18663,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"accepted_answer_id":7031978,"answer_count":2,"score":19,"last_activity_date":1663733310,"creation_date":1313092065,"question_id":7031920,"body_markdown":"I have an object. I want to check to see if it is of type enum. There are two ways to do this.\r\n\r\n    object.getClass().isEnum()\r\n\r\nor\r\n\r\n    object instanceof Enum\r\n\r\nIs one better?","title":"Is it better to use class.isEnum() or instanceof Enum?","body":"<p>I have an object. I want to check to see if it is of type enum. There are two ways to do this.</p>\n\n<pre><code>object.getClass().isEnum()\n</code></pre>\n\n<p>or</p>\n\n<pre><code>object instanceof Enum\n</code></pre>\n\n<p>Is one better?</p>\n"},{"tags":["java","spring-mybatis"],"answers":[{"tags":[],"owner":{"account_id":14029684,"reputation":106,"user_id":10133876,"display_name":"QiQiLing"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1557580768,"creation_date":1546854447,"answer_id":54071900,"question_id":54070841,"body_markdown":"@Param annotation has two, one belongs to spring, one belongs to mybatis.Their usage is different.\r\n\r\n - **org.springframework.data.repository.query.Param**\r\n    ```\r\n    User getUserById(@Param(&quot;id&quot;) Integer id);\r\n    &lt;select id=&quot;getUserById&quot; resultMap=&quot;userMap&quot;&gt;\r\n        select name,age\r\n        from user\r\n        where id=#{0, jdbcType=INTEGER}\r\n    &lt;select/&gt;\r\n    ```\r\nIt&#39;s based on the order of the parameters, and starts from 0.\r\n\r\n\r\n----------\r\n\r\n\r\n - **org.apache.ibatis.annotations.Param**\r\n    ```\r\n    User getUserById(@Param(&quot;id&quot;) Integer id);\r\n    &lt;select id=&quot;getUserById&quot; resultMap=&quot;userMap&quot;&gt;\r\n        select name,age\r\n        from user\r\n        where id=#{id, jdbcType=INTEGER}\r\n    &lt;select/&gt;\r\n    ```\r\nIs based on the parameter name.\r\n\r\n----------\r\nSo, check that the annotations you introduced in mapper.java are consistent with the usage in mapper.xml.\r\n\r\n","title":"MyBatis Parameter Not Found","body":"<p>@Param annotation has two, one belongs to spring, one belongs to mybatis.Their usage is different.</p>\n\n<ul>\n<li><strong>org.springframework.data.repository.query.Param</strong>\n\n<pre><code>User getUserById(@Param(\"id\") Integer id);\n&lt;select id=\"getUserById\" resultMap=\"userMap\"&gt;\n    select name,age\n    from user\n    where id=#{0, jdbcType=INTEGER}\n&lt;select/&gt;\n</code></pre>\n\nIt's based on the order of the parameters, and starts from 0.</li>\n</ul>\n\n<hr>\n\n<ul>\n<li><strong>org.apache.ibatis.annotations.Param</strong>\n\n<pre><code>User getUserById(@Param(\"id\") Integer id);\n&lt;select id=\"getUserById\" resultMap=\"userMap\"&gt;\n    select name,age\n    from user\n    where id=#{id, jdbcType=INTEGER}\n&lt;select/&gt;\n</code></pre>\n\nIs based on the parameter name.</li>\n</ul>\n\n<hr>\n\n<p>So, check that the annotations you introduced in mapper.java are consistent with the usage in mapper.xml.</p>\n"},{"tags":[],"owner":{"account_id":13893530,"reputation":39,"user_id":10030926,"display_name":"Umesh Khatiwada"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663732472,"creation_date":1663732472,"answer_id":73795192,"question_id":54070841,"body_markdown":"Check whether value that is subject to some condition in Mybatis are sent from the Mapper class.\r\nI was facing the same issue due to this code\r\n\r\n    &lt;if test=&quot;fruit != null&quot;&gt;\r\n        and table.fruit_name = #{fruit}\r\n    &lt;/if&gt;\r\n\r\nThe problem was I hadn&#39;t sent fruit from Mapper Class.\r\nAdding `@Param(&quot;fruit&quot;)` in the mapper class fixed the issue for me.\r\n","title":"MyBatis Parameter Not Found","body":"<p>Check whether value that is subject to some condition in Mybatis are sent from the Mapper class.\nI was facing the same issue due to this code</p>\n<pre><code>&lt;if test=&quot;fruit != null&quot;&gt;\n    and table.fruit_name = #{fruit}\n&lt;/if&gt;\n</code></pre>\n<p>The problem was I hadn't sent fruit from Mapper Class.\nAdding <code>@Param(&quot;fruit&quot;)</code> in the mapper class fixed the issue for me.</p>\n"}],"owner":{"account_id":6403126,"reputation":309,"user_id":10558164,"display_name":"Gonzalo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19941,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":54071900,"answer_count":2,"score":3,"last_activity_date":1663732472,"creation_date":1546849812,"question_id":54070841,"body_markdown":"I&#39;m triying to calling a rest application but I get a 500 error. The problem maybe be on the MyBatis call but still can&#39;t fix it.\r\n\r\nThis is where I call the execution of MyBatis\r\n\r\n    @Override\r\n\tpublic List&lt;IdentitatBDTO&gt; searchIdentitatsRepresentantsByRelacioIdentitatRepresentat(final String representatIdentificador, final Date dateFi) {\r\n\t\t\r\n\t\tList&lt;Identitat&gt; identitats = myBatisTemplate.execute(RelacioDao.class, new MyBatisDaoCallback&lt;List&lt;Identitat&gt;&gt;() {\r\n\t\t\t@Override\r\n\t\t\tpublic List&lt;Identitat&gt; execute(MyBatisDao dao) {\r\n\t\t\t\treturn ((RelacioDao) dao).searchIdentitatsRepresentantsByRelacioIdentitatRepresentat(representatIdentificador, dateFi);\r\n\t\t\t}\r\n\t\t});\r\n\r\nThe error that I&#39;m getting is\r\n\r\n```\r\n{\r\n&quot;errorUrl&quot;: \r\n &quot;http://localhost:8080/idjrepresentaciorest/rest/representacio/representants/12340002L&quot;,\r\n  &quot;errorMessage&quot;: &quot;\\r\\n### Error querying database.  Cause: org.apache.ibatis.binding.BindingException: Parameter &#39;representatIdentificador&#39; not found. Available parameters are [1, 0, param1, param2]\\r\\n### Cause: org.apache.ibatis.binding.BindingException: Parameter &#39;representatIdentificador&#39; not found. Available parameters are [1, 0, param1, param2]&quot;,\r\n  &quot;errorStackTrace&quot;: &quot;org.apache.ibatis.exceptions.PersistenceException: \\r\\n### Error querying database.  Cause: org.apache.ibatis.binding.BindingException: Parameter &#39;representatIdentificador&#39; not found. Available parameters are [1, 0, param1, param2]\\r\\n### Cause: org.apache.ibatis.binding.BindingException: Parameter &#39;representatIdentificador&#39; not found. Available parameters are [1, 0, param1, param2]\\r\\n\\tat org.apache.ibatis.exceptions.ExceptionFactory.wrapException(ExceptionFactory.java:30)\\r\\n\\tat org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:150)\\r\\n\\tat org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:141)\\r\\n\\tat org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:137)\\r\\n\\tat org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:75)\\r\\n\\tat org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:53)\\r\\n\\tat com.sun.proxy.$Proxy85.searchIdentitatsRepresentantsByRelacioIdentitatRepresentat(Unknown Source)\\r\\n\\tat es.bcn.idj.representaciorest.business.impl.RelacioServiceImpl$1.execute(RelacioServiceImpl.java:61)\\r\\n\\tat es.bcn.idj.representaciorest.business.impl.RelacioServiceImpl$1.execute(RelacioServiceImpl.java:1)\\r\\n\\tat net.opentrends.openframe.services.persistence.mybatis.template.impl.MyBatisTemplateImpl.execute(MyBatisTemplateImpl.java:64)\\r\\n\\tat\r\n```\r\n\r\nBut I debugged and saw that the variable that appears to be the problem is filled correctly so why is MyBatis not founding the variable?\r\n\r\n","title":"MyBatis Parameter Not Found","body":"<p>I'm triying to calling a rest application but I get a 500 error. The problem maybe be on the MyBatis call but still can't fix it.</p>\n\n<p>This is where I call the execution of MyBatis</p>\n\n<pre><code>@Override\npublic List&lt;IdentitatBDTO&gt; searchIdentitatsRepresentantsByRelacioIdentitatRepresentat(final String representatIdentificador, final Date dateFi) {\n\n    List&lt;Identitat&gt; identitats = myBatisTemplate.execute(RelacioDao.class, new MyBatisDaoCallback&lt;List&lt;Identitat&gt;&gt;() {\n        @Override\n        public List&lt;Identitat&gt; execute(MyBatisDao dao) {\n            return ((RelacioDao) dao).searchIdentitatsRepresentantsByRelacioIdentitatRepresentat(representatIdentificador, dateFi);\n        }\n    });\n</code></pre>\n\n<p>The error that I'm getting is</p>\n\n<pre><code>{\n\"errorUrl\": \n \"http://localhost:8080/idjrepresentaciorest/rest/representacio/representants/12340002L\",\n  \"errorMessage\": \"\\r\\n### Error querying database.  Cause: org.apache.ibatis.binding.BindingException: Parameter 'representatIdentificador' not found. Available parameters are [1, 0, param1, param2]\\r\\n### Cause: org.apache.ibatis.binding.BindingException: Parameter 'representatIdentificador' not found. Available parameters are [1, 0, param1, param2]\",\n  \"errorStackTrace\": \"org.apache.ibatis.exceptions.PersistenceException: \\r\\n### Error querying database.  Cause: org.apache.ibatis.binding.BindingException: Parameter 'representatIdentificador' not found. Available parameters are [1, 0, param1, param2]\\r\\n### Cause: org.apache.ibatis.binding.BindingException: Parameter 'representatIdentificador' not found. Available parameters are [1, 0, param1, param2]\\r\\n\\tat org.apache.ibatis.exceptions.ExceptionFactory.wrapException(ExceptionFactory.java:30)\\r\\n\\tat org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:150)\\r\\n\\tat org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:141)\\r\\n\\tat org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:137)\\r\\n\\tat org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:75)\\r\\n\\tat org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:53)\\r\\n\\tat com.sun.proxy.$Proxy85.searchIdentitatsRepresentantsByRelacioIdentitatRepresentat(Unknown Source)\\r\\n\\tat es.bcn.idj.representaciorest.business.impl.RelacioServiceImpl$1.execute(RelacioServiceImpl.java:61)\\r\\n\\tat es.bcn.idj.representaciorest.business.impl.RelacioServiceImpl$1.execute(RelacioServiceImpl.java:1)\\r\\n\\tat net.opentrends.openframe.services.persistence.mybatis.template.impl.MyBatisTemplateImpl.execute(MyBatisTemplateImpl.java:64)\\r\\n\\tat\n</code></pre>\n\n<p>But I debugged and saw that the variable that appears to be the problem is filled correctly so why is MyBatis not founding the variable?</p>\n"},{"tags":["java","android"],"owner":{"account_id":26095224,"reputation":11,"user_id":19791436,"display_name":"user19791436"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1663732183,"creation_date":1663732183,"question_id":73795162,"body_markdown":"This error occurs when I move large files (1G)\r\njava.lang.NullPointerException: Attempt to invoke virtual method &#39;android.os.Parcelable android.os.Bundle.getParcelable(java.lang.String)&#39; on a null object reference\r\n\r\n\r\nlog\r\n\r\n```\r\n09-16 14:19:05.231  1840  1866 W ActivityManager: Spurious death for ProcessRecord{bebf0e 0:com.android.externalstorage/u0a53}, curProc for 5739: null\r\n09-16 14:19:05.236  5542  6158 W DocumentsContract: Failed to move document\r\n09-16 14:19:05.236  5542  6158 W DocumentsContract: java.lang.NullPointerException: Attempt to invoke virtual method &#39;android.os.Parcelable android.os.Bundle.getParcelable(java.lang.String)&#39; on a null object reference\r\n09-16 14:19:05.236  5542  6158 W DocumentsContract: \tat android.provider.DocumentsContract.moveDocument(DocumentsContract.java:1472)\r\n09-16 14:19:05.236  5542  6158 W DocumentsContract: \tat com.android.documentsui.services.MoveJob.processDocument(MoveJob.java:152)\r\n09-16 14:19:05.236  5542  6158 W DocumentsContract: \tat com.android.documentsui.services.CopyJob.processDocumentThenUpdateProgress(CopyJob.java:355)\r\n09-16 14:19:05.236  5542  6158 W DocumentsContract: \tat com.android.documentsui.services.CopyJob.start(CopyJob.java:230)\r\n09-16 14:19:05.236  5542  6158 W DocumentsContract: \tat com.android.documentsui.services.Job.run(Job.java:160)\r\n09-16 14:19:05.236  5542  6158 W DocumentsContract: \tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:462)\r\n09-16 14:19:05.236  5542  6158 W DocumentsContract: \tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n09-16 14:19:05.236  5542  6158 W DocumentsContract: \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\r\n09-16 14:19:05.236  5542  6158 W DocumentsContract: \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\r\n09-16 14:19:05.236  5542  6158 W DocumentsContract: \tat java.lang.Thread.run(Thread.java:919)\r\n```\r\n\r\n\r\nandroid/provider/DocumentsContract.java\r\n\r\n```\r\n/**\r\n     * Moves the given document under a new parent.\r\n     *\r\n     * @param sourceDocumentUri document with {@link Document#FLAG_SUPPORTS_MOVE}\r\n     * @param sourceParentDocumentUri parent document of the document to move.\r\n     * @param targetParentDocumentUri document which will become a new parent of the source\r\n     *         document.\r\n     * @return the moved document, or {@code null} if failed.\r\n     */\r\n    public static @Nullable Uri moveDocument(@NonNull ContentResolver content,\r\n            @NonNull Uri sourceDocumentUri, @NonNull Uri sourceParentDocumentUri,\r\n            @NonNull Uri targetParentDocumentUri) throws FileNotFoundException {\r\n        try {\r\n            final Bundle in = new Bundle();\r\n            in.putParcelable(DocumentsContract.EXTRA_URI, sourceDocumentUri);\r\n            in.putParcelable(DocumentsContract.EXTRA_PARENT_URI, sourceParentDocumentUri);\r\n            in.putParcelable(DocumentsContract.EXTRA_TARGET_URI, targetParentDocumentUri);\r\n\r\n            final Bundle out = content.call(sourceDocumentUri.getAuthority(),\r\n                    METHOD_MOVE_DOCUMENT, null, in);\r\n            return out.getParcelable(DocumentsContract.EXTRA_URI);\r\n        } catch (Exception e) {\r\n            Log.w(TAG, &quot;Failed to move document&quot;, e);\r\n            rethrowIfNecessary(e);\r\n            return null;\r\n        }\r\n    }\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/M6yLs.jpg","title":"This error occurs when I move large files (1G)","body":"<p>This error occurs when I move large files (1G)\njava.lang.NullPointerException: Attempt to invoke virtual method 'android.os.Parcelable android.os.Bundle.getParcelable(java.lang.String)' on a null object reference</p>\n<p>log</p>\n<pre><code>09-16 14:19:05.231  1840  1866 W ActivityManager: Spurious death for ProcessRecord{bebf0e 0:com.android.externalstorage/u0a53}, curProc for 5739: null\n09-16 14:19:05.236  5542  6158 W DocumentsContract: Failed to move document\n09-16 14:19:05.236  5542  6158 W DocumentsContract: java.lang.NullPointerException: Attempt to invoke virtual method 'android.os.Parcelable android.os.Bundle.getParcelable(java.lang.String)' on a null object reference\n09-16 14:19:05.236  5542  6158 W DocumentsContract:     at android.provider.DocumentsContract.moveDocument(DocumentsContract.java:1472)\n09-16 14:19:05.236  5542  6158 W DocumentsContract:     at com.android.documentsui.services.MoveJob.processDocument(MoveJob.java:152)\n09-16 14:19:05.236  5542  6158 W DocumentsContract:     at com.android.documentsui.services.CopyJob.processDocumentThenUpdateProgress(CopyJob.java:355)\n09-16 14:19:05.236  5542  6158 W DocumentsContract:     at com.android.documentsui.services.CopyJob.start(CopyJob.java:230)\n09-16 14:19:05.236  5542  6158 W DocumentsContract:     at com.android.documentsui.services.Job.run(Job.java:160)\n09-16 14:19:05.236  5542  6158 W DocumentsContract:     at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:462)\n09-16 14:19:05.236  5542  6158 W DocumentsContract:     at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n09-16 14:19:05.236  5542  6158 W DocumentsContract:     at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\n09-16 14:19:05.236  5542  6158 W DocumentsContract:     at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\n09-16 14:19:05.236  5542  6158 W DocumentsContract:     at java.lang.Thread.run(Thread.java:919)\n</code></pre>\n<p>android/provider/DocumentsContract.java</p>\n<pre><code>/**\n     * Moves the given document under a new parent.\n     *\n     * @param sourceDocumentUri document with {@link Document#FLAG_SUPPORTS_MOVE}\n     * @param sourceParentDocumentUri parent document of the document to move.\n     * @param targetParentDocumentUri document which will become a new parent of the source\n     *         document.\n     * @return the moved document, or {@code null} if failed.\n     */\n    public static @Nullable Uri moveDocument(@NonNull ContentResolver content,\n            @NonNull Uri sourceDocumentUri, @NonNull Uri sourceParentDocumentUri,\n            @NonNull Uri targetParentDocumentUri) throws FileNotFoundException {\n        try {\n            final Bundle in = new Bundle();\n            in.putParcelable(DocumentsContract.EXTRA_URI, sourceDocumentUri);\n            in.putParcelable(DocumentsContract.EXTRA_PARENT_URI, sourceParentDocumentUri);\n            in.putParcelable(DocumentsContract.EXTRA_TARGET_URI, targetParentDocumentUri);\n\n            final Bundle out = content.call(sourceDocumentUri.getAuthority(),\n                    METHOD_MOVE_DOCUMENT, null, in);\n            return out.getParcelable(DocumentsContract.EXTRA_URI);\n        } catch (Exception e) {\n            Log.w(TAG, &quot;Failed to move document&quot;, e);\n            rethrowIfNecessary(e);\n            return null;\n        }\n    }\n</code></pre>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1663731925,"creation_date":1663731925,"answer_id":73795142,"question_id":73795069,"body_markdown":"This is because the compiler prefers the overload that doesn&#39;t require a boxing/unboxing conversion to occur.\r\n\r\nThe overload resolution algorithm roughly goes like this (an adaptation of [this section](https://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.12.2) in the spec):\r\n\r\n- First find the applicable overloads without considering boxing and unboxing, or variable arity parameters (varargs).\r\n\r\n- If nothing is found, find the applicable overloads considering boxing and unboxing, but not varargs.\r\n\r\n- If still nothing is found, consider both boxing and unboxing, *and* varargs.\r\n\r\n`char[]` was selected, because no unboxing from `T` was needed - `char[]` is a reference type, and so is `T`. `int`, on the other hand, is a primitive type. To select the `int` overload, `T` would need to be inferred as the reference type `Integer`, because type parameters cannot be primitive types. Then an *unboxing* conversion has to occur, to convert it to an `int`.\r\n\r\nIf there was only the `int` overload, it would have been selected.","title":"why does the java compiler choose to use char[]","body":"<p>This is because the compiler prefers the overload that doesn't require a boxing/unboxing conversion to occur.</p>\n<p>The overload resolution algorithm roughly goes like this (an adaptation of <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.12.2\" rel=\"nofollow noreferrer\">this section</a> in the spec):</p>\n<ul>\n<li><p>First find the applicable overloads without considering boxing and unboxing, or variable arity parameters (varargs).</p>\n</li>\n<li><p>If nothing is found, find the applicable overloads considering boxing and unboxing, but not varargs.</p>\n</li>\n<li><p>If still nothing is found, consider both boxing and unboxing, <em>and</em> varargs.</p>\n</li>\n</ul>\n<p><code>char[]</code> was selected, because no unboxing from <code>T</code> was needed - <code>char[]</code> is a reference type, and so is <code>T</code>. <code>int</code>, on the other hand, is a primitive type. To select the <code>int</code> overload, <code>T</code> would need to be inferred as the reference type <code>Integer</code>, because type parameters cannot be primitive types. Then an <em>unboxing</em> conversion has to occur, to convert it to an <code>int</code>.</p>\n<p>If there was only the <code>int</code> overload, it would have been selected.</p>\n"}],"owner":{"account_id":26397645,"reputation":13,"user_id":20048546,"display_name":"thy-code"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73795142,"answer_count":1,"score":1,"last_activity_date":1663731925,"creation_date":1663731115,"question_id":73795069,"body_markdown":"java version:\r\n\r\njava version &quot;1.8.0_211&quot;\r\nJava(TM) SE Runtime Environment (build 1.8.0_211-b12)\r\nJava HotSpot(TM) 64-Bit Server VM (build 25.211-b12, mixed mode)\r\n\r\nTest.java\r\n\r\n```java\r\npackage com.test.cast;\r\n\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\n\r\npublic class Test {\r\n    public static Map&lt;String, Object&gt; MAP = new HashMap&lt;&gt;(2);\r\n    static {\r\n        MAP.put(&quot;int&quot;, 1);\r\n        MAP.put(&quot;string&quot;, &quot;2&quot;);\r\n    }\r\n    public static void main(String[] args) {\r\n        // throws ClassCastException\r\n        String.valueOf(get(&quot;int&quot;));\r\n    }\r\n\r\n    public static &lt;T&gt; T get(String k) {\r\n        Object o = MAP.get(k);\r\n        T o1 = (T) o;\r\n        return o1;\r\n    }\r\n}\r\n```\r\n\r\nthe code throws ClassCastException\r\n\r\n\r\n\r\n```java\r\nException in thread &quot;main&quot; java.lang.ClassCastException: java.lang.Integer cannot be cast to [C\r\n\tat com.test.cast.Test.main(Test.java:17)\r\n```\r\n\r\n\r\nTest.class\r\n\r\n```java\r\npublic class Test {\r\n    public static Map&lt;String, Object&gt; MAP = new HashMap(2);\r\n\r\n    public Test() {\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        // why char[]\r\n        String.valueOf((char[])get(&quot;int&quot;));\r\n    }\r\n\r\n    public static &lt;T&gt; T get(String k) {\r\n        Object o = MAP.get(k);\r\n        return o;\r\n    }\r\n\r\n    static {\r\n        MAP.put(&quot;int&quot;, 1);\r\n        MAP.put(&quot;string&quot;, &quot;2&quot;);\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\nwhy does the java compiler choose to use char[]\r\n\r\nwhy not use String.valueOf(int)\r\n\r\n\r\n\r\n\r\n","title":"why does the java compiler choose to use char[]","body":"<p>java version:</p>\n<p>java version &quot;1.8.0_211&quot;\nJava(TM) SE Runtime Environment (build 1.8.0_211-b12)\nJava HotSpot(TM) 64-Bit Server VM (build 25.211-b12, mixed mode)</p>\n<p>Test.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.test.cast;\n\nimport java.util.HashMap;\nimport java.util.Map;\n\npublic class Test {\n    public static Map&lt;String, Object&gt; MAP = new HashMap&lt;&gt;(2);\n    static {\n        MAP.put(&quot;int&quot;, 1);\n        MAP.put(&quot;string&quot;, &quot;2&quot;);\n    }\n    public static void main(String[] args) {\n        // throws ClassCastException\n        String.valueOf(get(&quot;int&quot;));\n    }\n\n    public static &lt;T&gt; T get(String k) {\n        Object o = MAP.get(k);\n        T o1 = (T) o;\n        return o1;\n    }\n}\n</code></pre>\n<p>the code throws ClassCastException</p>\n<pre class=\"lang-java prettyprint-override\"><code>Exception in thread &quot;main&quot; java.lang.ClassCastException: java.lang.Integer cannot be cast to [C\n    at com.test.cast.Test.main(Test.java:17)\n</code></pre>\n<p>Test.class</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Test {\n    public static Map&lt;String, Object&gt; MAP = new HashMap(2);\n\n    public Test() {\n    }\n\n    public static void main(String[] args) {\n        // why char[]\n        String.valueOf((char[])get(&quot;int&quot;));\n    }\n\n    public static &lt;T&gt; T get(String k) {\n        Object o = MAP.get(k);\n        return o;\n    }\n\n    static {\n        MAP.put(&quot;int&quot;, 1);\n        MAP.put(&quot;string&quot;, &quot;2&quot;);\n    }\n}\n</code></pre>\n<p>why does the java compiler choose to use char[]</p>\n<p>why not use String.valueOf(int)</p>\n"},{"tags":["java","apache-storm"],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1384252659,"creation_date":1384252659,"answer_id":19926842,"question_id":19926548,"body_markdown":"From the page that you linked to:\n\n&gt; *kill*\n&gt;\n&gt; *Syntax: storm kill topology-name [-w wait-time-secs]*\n&gt;\n&gt; *Kills the topology with the name topology-name. Storm will first deactivate the topology&#39;s spouts for the duration of the topology&#39;s message timeout to allow all messages currently being processed to finish processing. Storm will then shutdown the workers and clean up their state. You can override the length of time Storm waits between deactivation and shutdown with the -w flag.*\n\nAs you can see, this is designed to give you a &quot;clean&quot; shutdown.  The kill command shuts down the workers.","title":"Stopping Apache Storm the right way","body":"<p>From the page that you linked to:</p>\n<blockquote>\n<p><em>kill</em></p>\n<p><em>Syntax: storm kill topology-name [-w wait-time-secs]</em></p>\n<p><em>Kills the topology with the name topology-name. Storm will first deactivate the topology's spouts for the duration of the topology's message timeout to allow all messages currently being processed to finish processing. Storm will then shutdown the workers and clean up their state. You can override the length of time Storm waits between deactivation and shutdown with the -w flag.</em></p>\n</blockquote>\n<p>As you can see, this is designed to give you a &quot;clean&quot; shutdown.  The kill command shuts down the workers.</p>\n"},{"tags":[],"owner":{"account_id":3224137,"reputation":8035,"user_id":2720864,"accept_rate":43,"display_name":"user2720864"},"down_vote_count":0,"up_vote_count":17,"is_accepted":true,"score":17,"last_activity_date":1574333571,"creation_date":1384252699,"answer_id":19926855,"question_id":19926548,"body_markdown":"Command to kill a topology (as you rightly mentioned):\r\n\r\n    storm kill topology-name\r\n\r\nTo shutdown the cluster you need to run the following command on each node:\r\n\r\n    sudo service supervisord stop\r\n\r\n*Note:* give `supervisord` a few seconds to shutdown all processes. Note that trying to run `supervisorctl` when supervisord itself is stopped will result in an error message (this appears to be a known user interface issue in supervisord 2.x)\r\n\r\nFrom [this](http://www.michael-noll.com/tutorials/running-multi-node-storm-cluster/#stop-the-storm-cluster) documentation\r\n\r\n&gt; How to kill ALL Storm processes including worker processes? Any worker threads (launched by the Supervisor daemons on the slave nodes) that happen to be running when you are stopping the cluster will continue to run. This is a deliberate design decision of Storm because it means that crashing/restarting Nimbus and Supervisor daemons will not affect any running topologies in Storm. The downside is that you have to put some extra effort into fully stopping all Storm-related processes in a cluster.\r\n\r\nIf you want to kill ALL processes follow this procedure on the slave nodes:\r\n\r\n    $ sudo supervisorctl stop storm-supervisor\r\n    $ sudo pkill -TERM -u storm -f &#39;backtype.storm.daemon.worker&#39;","title":"Stopping Apache Storm the right way","body":"<p>Command to kill a topology (as you rightly mentioned):</p>\n\n<pre><code>storm kill topology-name\n</code></pre>\n\n<p>To shutdown the cluster you need to run the following command on each node:</p>\n\n<pre><code>sudo service supervisord stop\n</code></pre>\n\n<p><em>Note:</em> give <code>supervisord</code> a few seconds to shutdown all processes. Note that trying to run <code>supervisorctl</code> when supervisord itself is stopped will result in an error message (this appears to be a known user interface issue in supervisord 2.x)</p>\n\n<p>From <a href=\"http://www.michael-noll.com/tutorials/running-multi-node-storm-cluster/#stop-the-storm-cluster\" rel=\"nofollow noreferrer\">this</a> documentation</p>\n\n<blockquote>\n  <p>How to kill ALL Storm processes including worker processes? Any worker threads (launched by the Supervisor daemons on the slave nodes) that happen to be running when you are stopping the cluster will continue to run. This is a deliberate design decision of Storm because it means that crashing/restarting Nimbus and Supervisor daemons will not affect any running topologies in Storm. The downside is that you have to put some extra effort into fully stopping all Storm-related processes in a cluster.</p>\n</blockquote>\n\n<p>If you want to kill ALL processes follow this procedure on the slave nodes:</p>\n\n<pre><code>$ sudo supervisorctl stop storm-supervisor\n$ sudo pkill -TERM -u storm -f 'backtype.storm.daemon.worker'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1299138,"reputation":477,"user_id":1331718,"display_name":"Somnath Sarode"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1468421029,"creation_date":1468310458,"answer_id":38323126,"question_id":19926548,"body_markdown":"Well if you have  started storm as ./storm nimbus &amp; ./storm supervisor &amp; ./storm ui then\r\n\r\nafter that you may forgot the process id&#39;s in that case you can use jps tool to find out pid&#39;s then kill them as \r\n\r\n \r\n\r\n$JAVA_HOME/bin/jps \r\n\r\n3201 ConsoleConsumer\r\n\r\n7528 Jps\r\n\r\n2966 Kafka\r\n\r\n3680 nimbus\r\n\r\n3681 supervisor\r\n\r\n6749 Launcher\r\n\r\n2669 QuorumPeerMain\r\n\r\n\r\nkilling nimbus first\r\n\r\n$ sudo kill 3681          \r\n\r\n\r\n\r\n$ sudo kill 3680  \r\n","title":"Stopping Apache Storm the right way","body":"<p>Well if you have  started storm as ./storm nimbus &amp; ./storm supervisor &amp; ./storm ui then</p>\n\n<p>after that you may forgot the process id's in that case you can use jps tool to find out pid's then kill them as </p>\n\n<p>$JAVA_HOME/bin/jps </p>\n\n<p>3201 ConsoleConsumer</p>\n\n<p>7528 Jps</p>\n\n<p>2966 Kafka</p>\n\n<p>3680 nimbus</p>\n\n<p>3681 supervisor</p>\n\n<p>6749 Launcher</p>\n\n<p>2669 QuorumPeerMain</p>\n\n<p>killing nimbus first</p>\n\n<p>$ sudo kill 3681          </p>\n\n<p>$ sudo kill 3680  </p>\n"},{"tags":[],"owner":{"account_id":18939063,"reputation":1,"user_id":13819520,"display_name":"hakunahStorm69"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1593179961,"creation_date":1593179961,"answer_id":62596390,"question_id":19926548,"body_markdown":"If you wanna kill all the topologies in one go : \r\n\r\n    bin/storm kill `bin/storm list | grep &lt;some common keyword&gt;  | awk &#39;{print $1}&#39;` -w 5","title":"Stopping Apache Storm the right way","body":"<p>If you wanna kill all the topologies in one go :</p>\n<pre><code>bin/storm kill `bin/storm list | grep &lt;some common keyword&gt;  | awk '{print $1}'` -w 5\n</code></pre>\n"}],"owner":{"account_id":3206362,"reputation":7086,"user_id":2707363,"accept_rate":58,"display_name":"zenbeni"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30171,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"accepted_answer_id":19926855,"answer_count":4,"score":17,"last_activity_date":1663730900,"creation_date":1384251738,"question_id":19926548,"body_markdown":"Is there a clean way to stop storm without killing it with `kill XXX` where XXX is the PID?\r\n\r\nI run `storm kill topology-name` to kill the topology, but after that, is there a clean way to shutdown workers, nimbus, supervisor and ui?\r\n\r\nI didn&#39;t find any command which corresponds to this from the documentation: https://github.com/nathanmarz/storm/wiki/Command-line-client","title":"Stopping Apache Storm the right way","body":"<p>Is there a clean way to stop storm without killing it with <code>kill XXX</code> where XXX is the PID?</p>\n<p>I run <code>storm kill topology-name</code> to kill the topology, but after that, is there a clean way to shutdown workers, nimbus, supervisor and ui?</p>\n<p>I didn't find any command which corresponds to this from the documentation: <a href=\"https://github.com/nathanmarz/storm/wiki/Command-line-client\" rel=\"nofollow noreferrer\">https://github.com/nathanmarz/storm/wiki/Command-line-client</a></p>\n"},{"tags":["java","oop","math","java.util.scanner","calculator"],"comments":[{"owner":{"account_id":428023,"reputation":15099,"user_id":810077,"accept_rate":83,"display_name":"Chetan Kinger"},"score":1,"creation_date":1487399991,"post_id":42311961,"comment_id":71778355,"body_markdown":"This question is better suited for [Code Review](http://codereview.stackexchange.com/). That said, I would recommend using a `Stack` as this is a pretty basic use case for `push` and `pop` operations.","body":"This question is better suited for <a href=\"http://codereview.stackexchange.com/\">Code Review</a>. That said, I would recommend using a <code>Stack</code> as this is a pretty basic use case for <code>push</code> and <code>pop</code> operations."},{"owner":{"account_id":2611382,"reputation":6389,"user_id":2261424,"accept_rate":100,"display_name":"AntonH"},"score":0,"creation_date":1487400818,"post_id":42311961,"comment_id":71778570,"body_markdown":"Gotta say that it&#39;s a well written out first question, though.","body":"Gotta say that it&#39;s a well written out first question, though."}],"answers":[{"tags":[],"owner":{"account_id":9950285,"reputation":1410,"user_id":7363235,"display_name":"D M"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1487403898,"creation_date":1487403898,"answer_id":42312568,"question_id":42311961,"body_markdown":"`import java.lang.System;`\r\n\r\nThis is unnecessary.  `java.lang` is imported without you saying so, so you can already just write `System` in your code without this line.  You can safely remove it.\r\n\r\n`Scanner inputScan2 = inputScan.useDelimiter(&quot;\\\\+|\\\\-|\\\\/|\\\\*|\\\\^|\\\\s&quot;);`\r\n\r\nJust because `useDelimiter` returns a `Scanner` doesn&#39;t mean you need to put it into a variable.  You never use `inputScan2` again except to close it (and in any case, `inputScan2` is equal to `inputScan` after this line, making it redundant.)  So I would shorten the line to this:\r\n\r\n`inputScan.useDelimiter(&quot;\\\\+|\\\\-|\\\\/|\\\\*|\\\\^|\\\\s&quot;);`\r\n\r\nand also remove the corresponding line that closes this unused scanner.\r\n\r\nIt&#39;s kind of weird to have `loopCount2` and `loopCount3` as separate variables when they&#39;re always just one away from each other.  It seems like you could get rid of one of them.\r\n\r\nI notice you don&#39;t have any methods except the main method.  That&#39;s not so bad for a relatively small program, but it&#39;s best to get into the habit of splitting your code up into methods.\r\n\r\nI notice you don&#39;t have any code comments.  Comments often help you (and others) understand your code.  Especially when the variables are named things like `inputScan3` - that name gives a very general idea of the variable, but it doesn&#39;t really say why it&#39;s different from `inputScan`, for example.  Comments would help with that.\r\n\r\nA line like `if(inputI.contains(&quot;+&quot;)){` is never going to be much good for compound statements - you&#39;re checking whether the entire String contains a `+`, which is not all that relevant if you&#39;re processing `4+2*3` because that doesn&#39;t tell you whether you&#39;re currently doing the addition or the multiplication.  You&#39;re pretty much going to have to redo the way you check which operation you are doing if you want to handle compound statements.\r\n\r\nI notice you set your `answer` array to a size of 1000.  This is perhaps understandable with your other arrays because you don&#39;t know their size when you create them, but for this one, you already know the size - it&#39;s `loopCount3 + 1`.  So you can write `double[] answer = new double[loopCount3+1];` and save some memory.","title":"(Noob Coder) Basic Calculator Issue + Code Advice","body":"<p><code>import java.lang.System;</code></p>\n\n<p>This is unnecessary.  <code>java.lang</code> is imported without you saying so, so you can already just write <code>System</code> in your code without this line.  You can safely remove it.</p>\n\n<p><code>Scanner inputScan2 = inputScan.useDelimiter(\"\\\\+|\\\\-|\\\\/|\\\\*|\\\\^|\\\\s\");</code></p>\n\n<p>Just because <code>useDelimiter</code> returns a <code>Scanner</code> doesn't mean you need to put it into a variable.  You never use <code>inputScan2</code> again except to close it (and in any case, <code>inputScan2</code> is equal to <code>inputScan</code> after this line, making it redundant.)  So I would shorten the line to this:</p>\n\n<p><code>inputScan.useDelimiter(\"\\\\+|\\\\-|\\\\/|\\\\*|\\\\^|\\\\s\");</code></p>\n\n<p>and also remove the corresponding line that closes this unused scanner.</p>\n\n<p>It's kind of weird to have <code>loopCount2</code> and <code>loopCount3</code> as separate variables when they're always just one away from each other.  It seems like you could get rid of one of them.</p>\n\n<p>I notice you don't have any methods except the main method.  That's not so bad for a relatively small program, but it's best to get into the habit of splitting your code up into methods.</p>\n\n<p>I notice you don't have any code comments.  Comments often help you (and others) understand your code.  Especially when the variables are named things like <code>inputScan3</code> - that name gives a very general idea of the variable, but it doesn't really say why it's different from <code>inputScan</code>, for example.  Comments would help with that.</p>\n\n<p>A line like <code>if(inputI.contains(\"+\")){</code> is never going to be much good for compound statements - you're checking whether the entire String contains a <code>+</code>, which is not all that relevant if you're processing <code>4+2*3</code> because that doesn't tell you whether you're currently doing the addition or the multiplication.  You're pretty much going to have to redo the way you check which operation you are doing if you want to handle compound statements.</p>\n\n<p>I notice you set your <code>answer</code> array to a size of 1000.  This is perhaps understandable with your other arrays because you don't know their size when you create them, but for this one, you already know the size - it's <code>loopCount3 + 1</code>.  So you can write <code>double[] answer = new double[loopCount3+1];</code> and save some memory.</p>\n"},{"tags":[],"owner":{"account_id":8074750,"reputation":1,"user_id":6086199,"display_name":"Alex Favieres"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1498914180,"creation_date":1498914180,"answer_id":44861248,"question_id":42311961,"body_markdown":"I would split the code. I see a class that works with the input and return an object with operands and operation, some kind of smart Stack that understands the input syntax. I see a class that could process your stacked object and could call methods for the operations needed.\r\n\r\nYour main will be something like this then\r\n\r\n    public static void main(String args[])throws IOException{\r\n        System.out.println(&quot;What would you like to calculate?&quot;);\r\n        Scanner inputNum = new Scanner(System.in);\r\n        OperationsStack operations = new OperationBuilder(inputNum).build();\r\n        Calculator calculator = new Calculator();\r\n        Double result = calculator.compute(operations);\r\n        System.out.println(&quot;The answer is &quot; + result);\r\n    }\r\n\r\nEDIT: See [polish notation][1] to get some ideas about how to handle the input.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Polish_notation","title":"(Noob Coder) Basic Calculator Issue + Code Advice","body":"<p>I would split the code. I see a class that works with the input and return an object with operands and operation, some kind of smart Stack that understands the input syntax. I see a class that could process your stacked object and could call methods for the operations needed.</p>\n\n<p>Your main will be something like this then</p>\n\n<pre><code>public static void main(String args[])throws IOException{\n    System.out.println(\"What would you like to calculate?\");\n    Scanner inputNum = new Scanner(System.in);\n    OperationsStack operations = new OperationBuilder(inputNum).build();\n    Calculator calculator = new Calculator();\n    Double result = calculator.compute(operations);\n    System.out.println(\"The answer is \" + result);\n}\n</code></pre>\n\n<p>EDIT: See <a href=\"https://en.wikipedia.org/wiki/Polish_notation\" rel=\"nofollow noreferrer\">polish notation</a> to get some ideas about how to handle the input.</p>\n"},{"tags":[],"owner":{"account_id":26150349,"reputation":1,"user_id":19838411,"display_name":"Beyond Tech in telugu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663730700,"creation_date":1663316722,"answer_id":73741975,"question_id":42311961,"body_markdown":"```\r\npackage demo;\r\nimport java.util.Scanner;\r\npublic class Calculator {\r\n  public static void main(String[] args) {\r\n    double a, b, c;\r\n    char z;\r\n    Scanner sc = new Scanner(System.in);\r\n    System.out.println(&quot;Enter the First number&quot;);\r\n    a = sc.nextDouble();\r\n    System.out.println(&quot;Select the opearator : +,-,*,/&quot;);\r\n    z = sc.next().charAt(0);\r\n    System.out.println(&quot;Enter the second number&quot;);\r\n    b = sc.nextDouble();\r\n    switch (z) {\r\n    case &#39;+&#39;:\r\n      c = a + b;\r\n      System.out.println(&quot;The sum is &quot; + c);\r\n      break;\r\n    case &#39;-&#39;:\r\n      c = a - b;\r\n      System.out.println(&quot;The difference is &quot; + c);\r\n      break;\r\n    case &#39;*&#39;:\r\n      c = a * b;\r\n      System.out.println(&quot;The Product is &quot; + c);\r\n      break;\r\n    case &#39;/&#39;:\r\n      c = a / b;\r\n      System.out.println(&quot;The Quotient is &quot; + c);\r\n      break;\r\n    default:\r\n      System.out.println(&quot;Invalid Operator Used&quot;);\r\n      sc.close();\r\n    }\r\n  }\r\n}\r\n```","title":"(Noob Coder) Basic Calculator Issue + Code Advice","body":"<pre><code>package demo;\nimport java.util.Scanner;\npublic class Calculator {\n  public static void main(String[] args) {\n    double a, b, c;\n    char z;\n    Scanner sc = new Scanner(System.in);\n    System.out.println(&quot;Enter the First number&quot;);\n    a = sc.nextDouble();\n    System.out.println(&quot;Select the opearator : +,-,*,/&quot;);\n    z = sc.next().charAt(0);\n    System.out.println(&quot;Enter the second number&quot;);\n    b = sc.nextDouble();\n    switch (z) {\n    case '+':\n      c = a + b;\n      System.out.println(&quot;The sum is &quot; + c);\n      break;\n    case '-':\n      c = a - b;\n      System.out.println(&quot;The difference is &quot; + c);\n      break;\n    case '*':\n      c = a * b;\n      System.out.println(&quot;The Product is &quot; + c);\n      break;\n    case '/':\n      c = a / b;\n      System.out.println(&quot;The Quotient is &quot; + c);\n      break;\n    default:\n      System.out.println(&quot;Invalid Operator Used&quot;);\n      sc.close();\n    }\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":8134865,"reputation":13,"user_id":6126834,"display_name":"Louis Xavier Sheid III"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":42312568,"answer_count":3,"score":1,"last_activity_date":1663730700,"creation_date":1487399778,"question_id":42311961,"body_markdown":"I am a learning Java, and as a personal project aside from my high school assignments, I decided to make some math solving programs for practice. \r\n\r\nFor a warm up, I decided to write a basic calculator program...and it works...kind of. So...please help me!\r\n\r\nGoal:\r\n-\r\n-&gt; To have a calculator that, with Scanner input, can calculate any sequence of numbers with operators [+, -, /, ^(Math.pow), *]. (ex: 1+2+4+2, etc.)\r\n\r\nWhat works:\r\n-\r\n-&gt; It can calculate the summation, product, power, difference, and divide two numbers (int or double, but answer is double).\r\n\r\nWhat doesn&#39;t work:\r\n-\r\n -&gt; It cannot have input with any whitespace, or it will get an &#39;out of bounds&#39; error on the first array (The summation one) and so on\r\n\r\n -&gt; It cannot calculate any compound problems (ex: 1+2+3, 3*4^6, etc.). \r\n\r\nI plan on adding many other things to this (trig functions, extra powers, etc.), but for now, this needs work. Can someone tell me how to fix these problems? \r\n\r\nAnd most of all:\r\n-\r\nWhat are my biggest programming mistakes (other than it not working) that I should watch out for(based on the code you see)? I usually program by sequence and logic, but I feel that I (and my code) could be so much more efficient. \r\n\r\nThe Code:\r\n- \r\n\r\n    import java.util.*;\r\n    import java.io.*;\r\n    import java.lang.System;\r\n    import java.util.stream.*;\r\n\r\n    public class basicCalculator {\r\n\t    public static void main(String args[])throws IOException{\r\n\r\n\t\tSystem.out.println(&quot;What would you like to calculate?&quot;);\r\n\r\n\t\tScanner inputNum = new Scanner(System.in);\r\n\t\tString inputI = inputNum.nextLine();\r\n\t\tScanner inputScan = new Scanner(inputI);\r\n\t\tScanner inputScan2 = inputScan.useDelimiter(&quot;\\\\+|\\\\-|\\\\/|\\\\*|\\\\^|\\\\s&quot;);\r\n\t\tScanner inputScan3 = new Scanner(inputI);\r\n\r\n\t\tdouble textContent[] =  new double[1000];\r\n\t\tint loopCount = -1;\r\n\t\tint loopCount2 = 1;\r\n\t\tint loopCount3 = 0;\r\n\t\tdouble[] partOfResult = new double[1000];\t\r\n\r\n\t\twhile(inputScan.hasNextDouble()){\r\n\t\t\tloopCount++;\r\n\t\t\ttextContent[loopCount] = inputScan.nextDouble();\r\n\t\t}\r\n\r\n\t\twhile(inputScan3.hasNext()){\r\n\t\t\tif(inputI.contains(&quot;+&quot;)){\r\n\t\t\t\tpartOfResult[loopCount3] = (textContent[loopCount2 - 1] + textContent[loopCount2]);\r\n\t\t\t\tloopCount3++;\r\n\t\t\t\tloopCount2++;\r\n\t\t\t}else if(inputI.contains(&quot;-&quot;)){\t\r\n\t\t\t\tpartOfResult[loopCount3] = (textContent[loopCount2 - 1] - textContent[loopCount2]);\r\n\t\t\t\tloopCount3++;\r\n\t\t\t\tloopCount2++;\r\n\t\t\t}\r\n\t\t\telse if(inputI.contains(&quot;/&quot;)){\r\n\t\t\t\tpartOfResult[loopCount3] = (textContent[loopCount2 - 1] / textContent[loopCount2]);\r\n\t\t\t\tloopCount3++;\r\n\t\t\t\tloopCount2++;\r\n\t\t\t}\r\n\t\t\telse if(inputI.contains(&quot;*&quot;)){\r\n\t\t\t\tpartOfResult[loopCount3] = (textContent[loopCount2 - 1] * textContent[loopCount2]);\r\n\t\t\t\tloopCount3++;\r\n\t\t\t\tloopCount2++;\r\n\t\t\t}\r\n\t\t\telse if(inputI.contains(&quot;^&quot;)){\r\n\t\t\t\tpartOfResult[loopCount3] = (Math.pow(textContent[loopCount - 1], textContent[loopCount]));\r\n\t\t\t\tloopCount3++;\r\n\t\t\t\tloopCount2++;\r\n\t\t\t}\r\n\t\t\tif(inputScan.hasNext() == false){\r\n\t\t\t\tdouble[] answer = new double[1000];\r\n\t\t\t\tfor(int i = 0; i &lt;= loopCount3;){\r\n\t\t\t\t\tanswer[i] = partOfResult[i] + partOfResult[i+1];\r\n\t\t\t\t\ti++;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tdouble sum = DoubleStream.of(answer).sum();\r\n\t\t\t\tSystem.out.println(&quot;The answer is &quot; + sum);\r\n\t\t\t\tbreak;\r\n\t\t\t}\t\r\n\t\t}\t\t\r\n\t\t\r\n\t\tinputScan3.close();\r\n\t\tinputScan2.close();\r\n\t\tinputScan.close();\r\n\t\tinputNum.close();\r\n\t}\r\n    }\r\n\r\nThanks!","title":"(Noob Coder) Basic Calculator Issue + Code Advice","body":"<p>I am a learning Java, and as a personal project aside from my high school assignments, I decided to make some math solving programs for practice. </p>\n\n<p>For a warm up, I decided to write a basic calculator program...and it works...kind of. So...please help me!</p>\n\n<h2>Goal:</h2>\n\n<p>-> To have a calculator that, with Scanner input, can calculate any sequence of numbers with operators [+, -, /, ^(Math.pow), *]. (ex: 1+2+4+2, etc.)</p>\n\n<h2>What works:</h2>\n\n<p>-> It can calculate the summation, product, power, difference, and divide two numbers (int or double, but answer is double).</p>\n\n<h2>What doesn't work:</h2>\n\n<p>-> It cannot have input with any whitespace, or it will get an 'out of bounds' error on the first array (The summation one) and so on</p>\n\n<p>-> It cannot calculate any compound problems (ex: 1+2+3, 3*4^6, etc.). </p>\n\n<p>I plan on adding many other things to this (trig functions, extra powers, etc.), but for now, this needs work. Can someone tell me how to fix these problems? </p>\n\n<h2>And most of all:</h2>\n\n<p>What are my biggest programming mistakes (other than it not working) that I should watch out for(based on the code you see)? I usually program by sequence and logic, but I feel that I (and my code) could be so much more efficient. </p>\n\n<h2>The Code:</h2>\n\n<pre><code>import java.util.*;\nimport java.io.*;\nimport java.lang.System;\nimport java.util.stream.*;\n\npublic class basicCalculator {\n    public static void main(String args[])throws IOException{\n\n    System.out.println(\"What would you like to calculate?\");\n\n    Scanner inputNum = new Scanner(System.in);\n    String inputI = inputNum.nextLine();\n    Scanner inputScan = new Scanner(inputI);\n    Scanner inputScan2 = inputScan.useDelimiter(\"\\\\+|\\\\-|\\\\/|\\\\*|\\\\^|\\\\s\");\n    Scanner inputScan3 = new Scanner(inputI);\n\n    double textContent[] =  new double[1000];\n    int loopCount = -1;\n    int loopCount2 = 1;\n    int loopCount3 = 0;\n    double[] partOfResult = new double[1000];   \n\n    while(inputScan.hasNextDouble()){\n        loopCount++;\n        textContent[loopCount] = inputScan.nextDouble();\n    }\n\n    while(inputScan3.hasNext()){\n        if(inputI.contains(\"+\")){\n            partOfResult[loopCount3] = (textContent[loopCount2 - 1] + textContent[loopCount2]);\n            loopCount3++;\n            loopCount2++;\n        }else if(inputI.contains(\"-\")){ \n            partOfResult[loopCount3] = (textContent[loopCount2 - 1] - textContent[loopCount2]);\n            loopCount3++;\n            loopCount2++;\n        }\n        else if(inputI.contains(\"/\")){\n            partOfResult[loopCount3] = (textContent[loopCount2 - 1] / textContent[loopCount2]);\n            loopCount3++;\n            loopCount2++;\n        }\n        else if(inputI.contains(\"*\")){\n            partOfResult[loopCount3] = (textContent[loopCount2 - 1] * textContent[loopCount2]);\n            loopCount3++;\n            loopCount2++;\n        }\n        else if(inputI.contains(\"^\")){\n            partOfResult[loopCount3] = (Math.pow(textContent[loopCount - 1], textContent[loopCount]));\n            loopCount3++;\n            loopCount2++;\n        }\n        if(inputScan.hasNext() == false){\n            double[] answer = new double[1000];\n            for(int i = 0; i &lt;= loopCount3;){\n                answer[i] = partOfResult[i] + partOfResult[i+1];\n                i++;\n            }\n\n            double sum = DoubleStream.of(answer).sum();\n            System.out.println(\"The answer is \" + sum);\n            break;\n        }   \n    }       \n\n    inputScan3.close();\n    inputScan2.close();\n    inputScan.close();\n    inputNum.close();\n}\n}\n</code></pre>\n\n<p>Thanks!</p>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":428023,"reputation":15099,"user_id":810077,"accept_rate":83,"display_name":"Chetan Kinger"},"score":0,"creation_date":1424167382,"post_id":28559252,"comment_id":45430109,"body_markdown":"Does this code compile?","body":"Does this code compile?"},{"owner":{"account_id":984212,"reputation":62352,"user_id":1003142,"display_name":"Konstantin Yovkov"},"score":0,"creation_date":1424167415,"post_id":28559252,"comment_id":45430131,"body_markdown":"No, and the OP asks for help to make it compile (and work).","body":"No, and the OP asks for help to make it compile (and work)."}],"answers":[{"tags":[],"owner":{"account_id":984212,"reputation":62352,"user_id":1003142,"display_name":"Konstantin Yovkov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1424167336,"creation_date":1424167336,"answer_id":28559323,"question_id":28559252,"body_markdown":"You need to add the `Class&lt;T&gt;` as a parameter to the `getObject()` method, so that you are able to fetch `T`&#39;s Runtime `Class` type:\r\n\r\n    public T getObject(String stringJSON, Class&lt;T&gt; clazz){\r\n        ObjectMapper mapper = new ObjectMapper();\r\n        mapper.readValue(stringJSON, clazz);\r\n    }\r\n\r\nAnd also, re-factor all the references to the method.\r\n","title":"Generic class type java","body":"<p>You need to add the <code>Class&lt;T&gt;</code> as a parameter to the <code>getObject()</code> method, so that you are able to fetch <code>T</code>'s Runtime <code>Class</code> type:</p>\n\n<pre><code>public T getObject(String stringJSON, Class&lt;T&gt; clazz){\n    ObjectMapper mapper = new ObjectMapper();\n    mapper.readValue(stringJSON, clazz);\n}\n</code></pre>\n\n<p>And also, re-factor all the references to the method.</p>\n"},{"tags":[],"owner":{"account_id":740820,"reputation":47963,"user_id":2353911,"accept_rate":100,"display_name":"Mena"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1424167351,"creation_date":1424167351,"answer_id":28559325,"question_id":28559252,"body_markdown":"You can&#39;t, because of type erasure. \r\n\r\nWhat you **can** do is to bind your generic type with an interface:\r\n\r\n    public class JSONConverter&lt;T extends IMyInterface&gt;\r\n\r\nThen you can de-serialize as:\r\n\r\n    mapper.readValue(stringJSON, IMyInterface.class);\r\n\r\nYou might even be able to annotate your classes implementing `IMyInterface` so that the sub-type is known by Jackson at de-serialization. \r\n\r\n","title":"Generic class type java","body":"<p>You can't, because of type erasure. </p>\n\n<p>What you <strong>can</strong> do is to bind your generic type with an interface:</p>\n\n<pre><code>public class JSONConverter&lt;T extends IMyInterface&gt;\n</code></pre>\n\n<p>Then you can de-serialize as:</p>\n\n<pre><code>mapper.readValue(stringJSON, IMyInterface.class);\n</code></pre>\n\n<p>You might even be able to annotate your classes implementing <code>IMyInterface</code> so that the sub-type is known by Jackson at de-serialization. </p>\n"},{"tags":[],"owner":{"account_id":3629749,"reputation":24734,"user_id":3026283,"accept_rate":90,"display_name":"H&#233;ctor"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1424251626,"creation_date":1424167365,"answer_id":28559332,"question_id":28559252,"body_markdown":"You can&#39;t do that. Tipically, the type is passed as parameter:\r\n\r\n    public T getObject(String stringJSON, Class&lt;T&gt; clazz){\r\n        ObjectMapper mapper = new ObjectMapper();\r\n        mapper.readValue(stringJSON, clazz);\r\n    }\r\n\r\nActually, there is a way to obtain T.class runtime by reflection, but I don&#39;t recommend it you.\r\n\r\n**EDIT**\r\n\r\nObtain `T.class` on runtime:\r\n\r\n      private Class&lt;T&gt; type = (Class&lt;T&gt;) ((ParameterizedType) getClass()\r\n                .getGenericSuperclass())\r\n                .getActualTypeArguments()[0];\r\n\r\nSometimes I get NPE using that, I don&#39;t recommend it.\r\n\r\n","title":"Generic class type java","body":"<p>You can't do that. Tipically, the type is passed as parameter:</p>\n\n<pre><code>public T getObject(String stringJSON, Class&lt;T&gt; clazz){\n    ObjectMapper mapper = new ObjectMapper();\n    mapper.readValue(stringJSON, clazz);\n}\n</code></pre>\n\n<p>Actually, there is a way to obtain T.class runtime by reflection, but I don't recommend it you.</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>Obtain <code>T.class</code> on runtime:</p>\n\n<pre><code>  private Class&lt;T&gt; type = (Class&lt;T&gt;) ((ParameterizedType) getClass()\n            .getGenericSuperclass())\n            .getActualTypeArguments()[0];\n</code></pre>\n\n<p>Sometimes I get NPE using that, I don't recommend it.</p>\n"}],"owner":{"account_id":1276655,"reputation":750,"user_id":1231767,"accept_rate":22,"display_name":"nicearma"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":301,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1663730358,"creation_date":1424167166,"question_id":28559252,"body_markdown":"I want to write one generic object mapping json to java, for insert went is needed.\r\n\r\nSo i was making the next code \r\n\r\n    \r\n    public class JSONConverter&lt;T&gt; {\r\n\r\n        public String getStringJSON(T obj{\r\n            ObjectMapper mapper = new ObjectMapper();\r\n            if(obj!=null){\r\n                try {\r\n                    return mapper.writeValueAsString(obj);\r\n                } catch (IOException e) {\r\n                }\r\n            }\r\n            //mapper.writeValueAsString(obj);\r\n\r\n        }\r\n\r\n        public T getObject(String stringJSON){\r\n            ObjectMapper mapper = new ObjectMapper();\r\n            mapper.readValue(stringJSON, T.class);\r\n\r\n        }\r\n    }\r\n\r\nBut my problem is that the T.class is not working, how i can get the class of one generic value? because if i put  `getObject(String stringJSON, class&lt;T&gt; clazzT)` i have to add always class and if i put like a property class&lt;T&gt; clazzT in the object i will have a null pointerException.\r\n\r\nSo how i can fix the problem, for use only the definition of the object like Converter&lt;MyObject&gt;?\r\n\r\nAnd i see in some implementation of REST like easyRest and CXF, that they use the Class of the type for make the tranformation between String and Object, like \r\n\r\n    @POST\r\n    @Path(&quot;/&quot;)\r\n    @Consumes(MediaType.APPLICATION_JSON)\r\n    @Produces(MediaType.APPLICATION_JSON)\r\n    public Response someService(SomeClass obj) \r\n\r\nThey use some automatique way, i want to have the one class similar like that","title":"Generic class type java","body":"<p>I want to write one generic object mapping json to java, for insert went is needed.</p>\n\n<p>So i was making the next code </p>\n\n<pre><code>public class JSONConverter&lt;T&gt; {\n\n    public String getStringJSON(T obj{\n        ObjectMapper mapper = new ObjectMapper();\n        if(obj!=null){\n            try {\n                return mapper.writeValueAsString(obj);\n            } catch (IOException e) {\n            }\n        }\n        //mapper.writeValueAsString(obj);\n\n    }\n\n    public T getObject(String stringJSON){\n        ObjectMapper mapper = new ObjectMapper();\n        mapper.readValue(stringJSON, T.class);\n\n    }\n}\n</code></pre>\n\n<p>But my problem is that the T.class is not working, how i can get the class of one generic value? because if i put  <code>getObject(String stringJSON, class&lt;T&gt; clazzT)</code> i have to add always class and if i put like a property class clazzT in the object i will have a null pointerException.</p>\n\n<p>So how i can fix the problem, for use only the definition of the object like Converter?</p>\n\n<p>And i see in some implementation of REST like easyRest and CXF, that they use the Class of the type for make the tranformation between String and Object, like </p>\n\n<pre><code>@POST\n@Path(\"/\")\n@Consumes(MediaType.APPLICATION_JSON)\n@Produces(MediaType.APPLICATION_JSON)\npublic Response someService(SomeClass obj) \n</code></pre>\n\n<p>They use some automatique way, i want to have the one class similar like that</p>\n"},{"tags":["java","class","generics","generic-programming","type-parameter"],"comments":[{"owner":{"account_id":357343,"reputation":54520,"user_id":697449,"accept_rate":82,"display_name":"Paul Bellora"},"score":0,"creation_date":1378165322,"post_id":18581788,"comment_id":27343835,"body_markdown":"It seems like you would want to use a &quot;super type token&quot; pattern, e.g. [Guava&#39;s `TypeToken`](https://code.google.com/p/guava-libraries/wiki/ReflectionExplained).","body":"It seems like you would want to use a &quot;super type token&quot; pattern, e.g. <a href=\"https://code.google.com/p/guava-libraries/wiki/ReflectionExplained\" rel=\"nofollow noreferrer\">Guava&#39;s <code>TypeToken</code></a>."},{"owner":{"account_id":2121382,"reputation":5197,"user_id":1884546,"accept_rate":43,"display_name":"midnite"},"score":0,"creation_date":1378167904,"post_id":18581788,"comment_id":27344321,"body_markdown":"@PaulBellora Thanks for your reply. I am still looking into the `TypeToken`. Meanwhile, i found a workaround for my question above, which is: `Tree&lt;Tree&lt;?,?&gt;, String&gt; tree01a = new Tree&lt;Tree&lt;?,?&gt;, String&gt;((Class&lt;Tree&lt;?, ?&gt;&gt;) Class.forName(Tree.class.getName()));`. It is very long, but it does the job. However, more importantly, i discovered [this class checking can be hacked](http://stackoverflow.com/questions/18582360/generic-type-argument-checked-by-class-parameter-can-be-hacked-any-better-ways)!!!","body":"@PaulBellora Thanks for your reply. I am still looking into the <code>TypeToken</code>. Meanwhile, i found a workaround for my question above, which is: <code>Tree&lt;Tree&lt;?,?&gt;, String&gt; tree01a = new Tree&lt;Tree&lt;?,?&gt;, String&gt;((Class&lt;Tree&lt;?, ?&gt;&gt;) Class.forName(Tree.class.getName()));</code>. It is very long, but it does the job. However, more importantly, i discovered <a href=\"http://stackoverflow.com/questions/18582360/generic-type-argument-checked-by-class-parameter-can-be-hacked-any-better-ways\">this class checking can be hacked</a>!!!"},{"owner":{"account_id":357343,"reputation":54520,"user_id":697449,"accept_rate":82,"display_name":"Paul Bellora"},"score":0,"creation_date":1378171990,"post_id":18581788,"comment_id":27345055,"body_markdown":"Ignoring the problematic recursive type parameters, `TypeToken` seems to fit the bill. If it (or another implementation of super type tokens) doesn&#39;t work, please update the question explaining why.","body":"Ignoring the problematic recursive type parameters, <code>TypeToken</code> seems to fit the bill. If it (or another implementation of super type tokens) doesn&#39;t work, please update the question explaining why."},{"owner":{"account_id":485835,"reputation":8478,"user_id":902383,"accept_rate":90,"display_name":"user902383"},"score":0,"creation_date":1378196660,"post_id":18581788,"comment_id":27352663,"body_markdown":"if you change your constructor to `public Tree(Class&lt;? extends Tree&gt; clazz) {...}`\n you should be able to call it `Tree&lt;&gt;(Tree.class)`","body":"if you change your constructor to <code>public Tree(Class&lt;? extends Tree&gt; clazz) {...}</code>  you should be able to call it <code>Tree&lt;&gt;(Tree.class)</code>"},{"owner":{"account_id":2121382,"reputation":5197,"user_id":1884546,"accept_rate":43,"display_name":"midnite"},"score":0,"creation_date":1378200674,"post_id":18581788,"comment_id":27354820,"body_markdown":"@user902383, Yes. But keep it to `public Tree(Class&lt;TREE&gt; clazz) {...}`, the Type Parameter `TREE` will be forced to update to the sub-classes respectively. And all the constructors of `Tree` are having this check, omit the zero-argument constructor. So all sub-classes of `Tree` are forced to call the super constructor and go through this check. However, [this check is not reliable](stackoverflow.com/questions/18582360). Inspired by @Paul and the [TypeToken](https://code.google.com/p/guava-libraries/wiki/ReflectionExplained), i am trying to check by the return type of a public method.","body":"@user902383, Yes. But keep it to <code>public Tree(Class&lt;TREE&gt; clazz) {...}</code>, the Type Parameter <code>TREE</code> will be forced to update to the sub-classes respectively. And all the constructors of <code>Tree</code> are having this check, omit the zero-argument constructor. So all sub-classes of <code>Tree</code> are forced to call the super constructor and go through this check. However, [this check is not reliable](stackoverflow.com/questions/18582360). Inspired by @Paul and the <a href=\"https://code.google.com/p/guava-libraries/wiki/ReflectionExplained\" rel=\"nofollow noreferrer\">TypeToken</a>, i am trying to check by the return type of a public method."},{"owner":{"account_id":2121382,"reputation":5197,"user_id":1884546,"accept_rate":43,"display_name":"midnite"},"score":0,"creation_date":1378204768,"post_id":18581788,"comment_id":27357241,"body_markdown":"Dear @PaulBellora, to my understanding, the `TypeToken` is playing with the anonymous sub-class `new IKnowMyType&lt;String&gt;() {}.type` thing and probably using `getGenericSuperclass()` and cast it to `ParameterizedType` in its implementation. It actually goes back the question [How to get the Generic Type Parameter?](http://stackoverflow.com/questions/18337530) Both `TypeToken` and `TypeReference` works **outside** the class itself. But can we get the dynamically assigned Type Argument&#39;s class **right inside the class&#39;s constructor/method**? (many people said can&#39;t though.)","body":"Dear @PaulBellora, to my understanding, the <code>TypeToken</code> is playing with the anonymous sub-class <code>new IKnowMyType&lt;String&gt;() {}.type</code> thing and probably using <code>getGenericSuperclass()</code> and cast it to <code>ParameterizedType</code> in its implementation. It actually goes back the question <a href=\"http://stackoverflow.com/questions/18337530\">How to get the Generic Type Parameter?</a> Both <code>TypeToken</code> and <code>TypeReference</code> works <b>outside</b> the class itself. But can we get the dynamically assigned Type Argument&#39;s class <b>right inside the class&#39;s constructor/method</b>? (many people said can&#39;t though.)"},{"owner":{"account_id":2121382,"reputation":5197,"user_id":1884546,"accept_rate":43,"display_name":"midnite"},"score":0,"creation_date":1378206794,"post_id":18581788,"comment_id":27358422,"body_markdown":"@PaulBellora: Updated my question above. Would you please have a look? Thanks a lot!","body":"@PaulBellora: Updated my question above. Would you please have a look? Thanks a lot!"},{"owner":{"account_id":357343,"reputation":54520,"user_id":697449,"accept_rate":82,"display_name":"Paul Bellora"},"score":0,"creation_date":1378220955,"post_id":18581788,"comment_id":27367164,"body_markdown":"@midnite You can with Guava&#39;s `TypeToken` by using [`new TypeToken&lt;T&gt;(getClass()) { }`](http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/reflect/TypeToken.html#TypeToken\\(java.lang.Class\\)), but only if that call happens in an instance whose runtime type has resolved `T`, for example `class SimpleClassChild extends SimpleClass&lt;String&gt;`.","body":"@midnite You can with Guava&#39;s <code>TypeToken</code> by using <a href=\"http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/reflect/TypeToken.html#TypeToken&#40;java.lang.Class&#41;\" rel=\"nofollow noreferrer\"><code>new TypeToken&lt;T&gt;(getClass()) { }</code></a>, but only if that call happens in an instance whose runtime type has resolved <code>T</code>, for example <code>class SimpleClassChild extends SimpleClass&lt;String&gt;</code>."},{"owner":{"account_id":2121382,"reputation":5197,"user_id":1884546,"accept_rate":43,"display_name":"midnite"},"score":0,"creation_date":1378270360,"post_id":18581788,"comment_id":27384794,"body_markdown":"@PaulBellora, Yes. Only at where the runtime type has resolved, we can get the actual (String) class. I have spent all the night studying n trying on Guava&#39;s `TypeToken` and about to give up on this now. i kind of accept it is impossible to get the Generic Argument at where the runtime type is not resolved. Thanks for your kindly helps!! In fact i am building a [Tree with inheritance](http://stackoverflow.com/questions/18399922) - which requires structure like [your answer there](http://stackoverflow.com/a/7355094/697449). I won&#39;t give up on the Tree. I guess it&#39;s time for me to re-think. :-)","body":"@PaulBellora, Yes. Only at where the runtime type has resolved, we can get the actual (String) class. I have spent all the night studying n trying on Guava&#39;s <code>TypeToken</code> and about to give up on this now. i kind of accept it is impossible to get the Generic Argument at where the runtime type is not resolved. Thanks for your kindly helps!! In fact i am building a <a href=\"http://stackoverflow.com/questions/18399922\">Tree with inheritance</a> - which requires structure like <a href=\"http://stackoverflow.com/a/7355094/697449\">your answer there</a>. I won&#39;t give up on the Tree. I guess it&#39;s time for me to re-think. :-)"}],"answers":[{"tags":[],"owner":{"account_id":225930,"reputation":5037,"user_id":486688,"accept_rate":67,"display_name":"Jonathan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663730340,"creation_date":1382754345,"answer_id":19602148,"question_id":18581788,"body_markdown":"Check out [TypeTools](https://github.com/jhalterman/typetools) (which I authored) for this. Example:\r\n\r\n    List&lt;String&gt; stringList = new ArrayList&lt;String&gt;() {};\r\n    Class&lt;?&gt; stringType = TypeResolver.resolveRawArgument(List.class, stringList.getClass());\r\n    assert stringType == String.class;","title":"How to verify the (generic (generic argument))?","body":"<p>Check out <a href=\"https://github.com/jhalterman/typetools\" rel=\"nofollow noreferrer\">TypeTools</a> (which I authored) for this. Example:</p>\n<pre><code>List&lt;String&gt; stringList = new ArrayList&lt;String&gt;() {};\nClass&lt;?&gt; stringType = TypeResolver.resolveRawArgument(List.class, stringList.getClass());\nassert stringType == String.class;\n</code></pre>\n"}],"owner":{"account_id":2121382,"reputation":5197,"user_id":1884546,"accept_rate":43,"display_name":"midnite"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":768,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1663730340,"creation_date":1378162438,"question_id":18581788,"body_markdown":"## Background (that we don&#39;t really need to worry about)\r\n\r\nThis is a question derived from https://stackoverflow.com/questions/18399922 . I open this one as a separate question because this is not only related to a Tree problem. This is more a Generic and Class problem instead.\r\n\r\n## Question\r\n\r\nTo be better illustrated by codes, we have a `Tree` class, a `SubTree` class, and a `WrongSubTree` class:\r\n\r\n    class Tree&lt;TREE extends Tree&lt;?,?&gt;, DATA&gt; {\r\n    }\r\n    class SubTree&lt;STREE extends SubTree&lt;?,?&gt;, DATA&gt; extends Tree&lt;STREE, DATA&gt; {\r\n    }\r\n    class WrongSubTree&lt;WSTREE extends Tree&lt;?,?&gt;, DATA&gt; extends Tree&lt;WSTREE, DATA&gt; {\r\n    }\r\n\r\nWhile object creation, we would like to check if the generic argument equals to the class of the object itself:\r\n\r\n    Tree&lt;Tree&lt;?,?&gt;, String&gt; tree01 = new Tree&lt;Tree&lt;?,?&gt;, String&gt;();                 // equals : OK\r\n    Tree&lt;SubTree&lt;?,?&gt;, String&gt; tree02 = new Tree&lt;SubTree&lt;?,?&gt;, String&gt;();           // (!) not equals\r\n    SubTree&lt;SubTree&lt;?,?&gt;, String&gt; tree03 = new SubTree&lt;SubTree&lt;?,?&gt;, String&gt;();     // equals : OK\r\n    WrongSubTree&lt;Tree&lt;?,?&gt;, String&gt; tree04 = new WrongSubTree&lt;Tree&lt;?,?&gt;, String&gt;(); // (!) not equals\r\n\r\n*(Note that the 4 lines above have no compile errors and no runtime exceptions, for now.)*\r\n\r\n## My trial\r\n\r\nTo do so, we try to add a `Class&lt;&gt;` parameter in the constructors:\r\n\r\n    class Tree&lt;TREE extends Tree&lt;?,?&gt;, DATA&gt; {\r\n        public Tree(Class&lt;TREE&gt; clazz) {\r\n            System.out.println(this.getClass());\r\n            System.out.println(clazz);\r\n            System.out.println();\r\n            if (this.getClass() != clazz)\r\n                throw new RuntimeException();\r\n        }\r\n    }\r\n    class SubTree&lt;STREE extends SubTree&lt;?,?&gt;, DATA&gt; extends Tree&lt;STREE, DATA&gt; {\r\n        public SubTree(Class&lt;STREE&gt; clazz) {\r\n            super(clazz);\r\n        }\r\n    }\r\n    class WrongSubTree&lt;WSTREE extends Tree&lt;?,?&gt;, DATA&gt; extends Tree&lt;WSTREE, DATA&gt; {\r\n        public WrongSubTree(Class&lt;WSTREE&gt; clazz) {\r\n            super(clazz);\r\n        }\r\n    }\r\n\r\n*(The above class definitions are valid java codes.)*\r\n\r\n## Problem\r\n\r\nBut i don&#39;t know how to call that constructor:\r\n\r\n    Tree&lt;Tree&lt;?,?&gt;, String&gt; tree01a = new Tree&lt;Tree&lt;?,?&gt;, String&gt;(Tree.class);\r\n    // The constructor Tree&lt;Tree&lt;?,?&gt;,String&gt;(Class&lt;Tree&gt;) is undefined\r\n    \r\n    Tree&lt;Tree&lt;?,?&gt;, String&gt; tree01b = new Tree&lt;Tree&lt;?,?&gt;, String&gt;(Tree&lt;?,?&gt;.class);\r\n    // Syntax error, insert &quot;Dimensions&quot; to complete ArrayType\r\n\r\nBoth 2 lines above cause compile-errors.\r\n\r\ni guess it is because the constructor `public Tree(Class&lt;TREE&gt; clazz) {}` is expecting `Class&lt;Tree&lt;?,?&gt;&gt;`, but not `Class&lt;Tree&gt;`. However, we cannot do `Tree&lt;?,?&gt;.class`.\r\n\r\nThe reason is i tried to change the class to:\r\n\r\n    class Tree&lt;TREE extends Tree&lt;?,?&gt;, DATA&gt; {\r\n        public Tree(Class&lt;Tree&gt; clazz) {            // changed\r\n            System.out.println(this.getClass());\r\n            System.out.println(clazz);\r\n            System.out.println();\r\n            if (this.getClass() != clazz)\r\n                throw new RuntimeException();\r\n        }\r\n    }\r\n    Tree&lt;Tree&lt;?,?&gt;, String&gt; tree01a = new Tree&lt;Tree&lt;?,?&gt;, String&gt;(Tree.class);\r\n\r\nThere is no compile-error.\r\n\r\nHowever, the following causes the same compile-error:\r\n\r\n    class Tree&lt;TREE extends Tree&lt;?,?&gt;, DATA&gt; {\r\n        public Tree(Class&lt;Tree&lt;?,?&gt;&gt; clazz) {       // changed\r\n            System.out.println(this.getClass());\r\n            System.out.println(clazz);\r\n            System.out.println();\r\n            if (this.getClass() != clazz)\r\n                throw new RuntimeException();\r\n        }\r\n    }\r\n    Tree&lt;Tree&lt;?,?&gt;, String&gt; tree01a = new Tree&lt;Tree&lt;?,?&gt;, String&gt;(Tree.class);\r\n    // The constructor Tree&lt;Tree&lt;?,?&gt;,String&gt;(Class&lt;Tree&gt;) is undefined\r\n\r\n----\r\n\r\n# Edit #1\r\n\r\nBased on [my comment][1] below, i tried this one. Hope it helps for some inspirations.\r\n\r\n    static class SimpleClass&lt;T&gt; {\r\n        private SimpleClass(Object dummy) {\r\n            // dummy constructor, avoid recursive call of the default constructor\r\n        }\r\n        SimpleClass() {\r\n            SimpleClass&lt;T&gt; myself = new SimpleClass&lt;T&gt;(new Object()) {};\r\n            System.out.println(((ParameterizedType) myself.getClass().getGenericSuperclass()).getActualTypeArguments()[0]);\r\n            // prints &quot;T&quot;\r\n            \r\n            TypeReference&lt;SimpleClass&lt;T&gt;&gt; typeRef = new TypeReference&lt;SimpleClass&lt;T&gt;&gt;() {};\r\n            System.out.println(typeRef.getType());\r\n            // prints &quot;Main.Main$SimpleClass&lt;T&gt;&quot;\r\n        }\r\n        void func() {\r\n            SimpleClass&lt;T&gt; myself = new SimpleClass&lt;T&gt;(new Object()) {};\r\n            System.out.println(((ParameterizedType) myself.getClass().getGenericSuperclass()).getActualTypeArguments()[0]);\r\n            // prints &quot;T&quot;\r\n            \r\n            TypeReference&lt;SimpleClass&lt;T&gt;&gt; typeRef = new TypeReference&lt;SimpleClass&lt;T&gt;&gt;() {};\r\n            System.out.println(typeRef.getType());\r\n            // prints &quot;Main.Main$SimpleClass&lt;T&gt;&quot;\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        SimpleClass&lt;String&gt; simpleObj = new SimpleClass&lt;String&gt;();\r\n        simpleObj.func();\r\n        \r\n        SimpleClass&lt;String&gt; outsideSimpleClass = new SimpleClass&lt;String&gt;(){};\r\n        System.out.println(((ParameterizedType) outsideSimpleClass.getClass().getGenericSuperclass()).getActualTypeArguments()[0]);\r\n        // prints &quot;class java.lang.String&quot;\r\n    }\r\n\r\nNote we still **cannot** get &quot;class java.lang.String&quot; **inside** `SimpleClass`.\r\n\r\nMore importantly, if we use the Type Argument `&lt;T&gt;` to instantiate an object from **another class**, we still cannot get the type parameter from it:\r\n\r\n    static class AnotherClass&lt;T&gt; {\r\n        private AnotherClass(Object dummy) {}\r\n    }\r\n    static class SimpleClass&lt;T&gt; {\r\n        SimpleClass() {\r\n            AnotherClass&lt;T&gt; another = new AnotherClass&lt;T&gt;(new Object()) {};\r\n            System.out.println(((ParameterizedType) another.getClass().getGenericSuperclass()).getActualTypeArguments()[0]);\r\n            // prints &quot;T&quot;\r\n\r\n            TypeReference&lt;AnotherClass&lt;T&gt;&gt; anotherTypeRef = new TypeReference&lt;AnotherClass&lt;T&gt;&gt;() {};\r\n            System.out.println(anotherTypeRef.getType());\r\n            // prints &quot;Main.Main$AnotherClass&lt;T&gt;&quot;\r\n        }\r\n        void func() {\r\n            AnotherClass&lt;T&gt; another = new AnotherClass&lt;T&gt;(new Object()) {};\r\n            System.out.println(((ParameterizedType) another.getClass().getGenericSuperclass()).getActualTypeArguments()[0]);\r\n            // prints &quot;T&quot;\r\n\r\n            TypeReference&lt;AnotherClass&lt;T&gt;&gt; anotherTypeRef = new TypeReference&lt;AnotherClass&lt;T&gt;&gt;() {};\r\n            System.out.println(anotherTypeRef.getType());\r\n            // prints &quot;Main.Main$AnotherClass&lt;T&gt;&quot;\r\n        }\r\n    }\r\n\r\nNote that this means the Type Argument of `AnotherClass` cannot be revealed in `SimpleClass`, **where it is a place outside the class itself!**\r\n\r\nTo my understanding, we can only use the anonymous sub-class &amp; `getGenericSuperclass()` trick at a place where it actually already know the answer. Such as in `main()`, here is the place where `class java.lang.String` is really defined as the Type Argument.\r\n\r\n(IMO, if the ability of this trick is so restricted, it is not really useful at all.)\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/18581788/how-to-verify-the-generic-generic-argument#comment27357241_18581788\r\n","title":"How to verify the (generic (generic argument))?","body":"<h2>Background (that we don't really need to worry about)</h2>\n\n<p>This is a question derived from <a href=\"https://stackoverflow.com/questions/18399922\">Build A Generic Tree With Inheritance</a> . I open this one as a separate question because this is not only related to a Tree problem. This is more a Generic and Class problem instead.</p>\n\n<h2>Question</h2>\n\n<p>To be better illustrated by codes, we have a <code>Tree</code> class, a <code>SubTree</code> class, and a <code>WrongSubTree</code> class:</p>\n\n<pre><code>class Tree&lt;TREE extends Tree&lt;?,?&gt;, DATA&gt; {\n}\nclass SubTree&lt;STREE extends SubTree&lt;?,?&gt;, DATA&gt; extends Tree&lt;STREE, DATA&gt; {\n}\nclass WrongSubTree&lt;WSTREE extends Tree&lt;?,?&gt;, DATA&gt; extends Tree&lt;WSTREE, DATA&gt; {\n}\n</code></pre>\n\n<p>While object creation, we would like to check if the generic argument equals to the class of the object itself:</p>\n\n<pre><code>Tree&lt;Tree&lt;?,?&gt;, String&gt; tree01 = new Tree&lt;Tree&lt;?,?&gt;, String&gt;();                 // equals : OK\nTree&lt;SubTree&lt;?,?&gt;, String&gt; tree02 = new Tree&lt;SubTree&lt;?,?&gt;, String&gt;();           // (!) not equals\nSubTree&lt;SubTree&lt;?,?&gt;, String&gt; tree03 = new SubTree&lt;SubTree&lt;?,?&gt;, String&gt;();     // equals : OK\nWrongSubTree&lt;Tree&lt;?,?&gt;, String&gt; tree04 = new WrongSubTree&lt;Tree&lt;?,?&gt;, String&gt;(); // (!) not equals\n</code></pre>\n\n<p><em>(Note that the 4 lines above have no compile errors and no runtime exceptions, for now.)</em></p>\n\n<h2>My trial</h2>\n\n<p>To do so, we try to add a <code>Class&lt;&gt;</code> parameter in the constructors:</p>\n\n<pre><code>class Tree&lt;TREE extends Tree&lt;?,?&gt;, DATA&gt; {\n    public Tree(Class&lt;TREE&gt; clazz) {\n        System.out.println(this.getClass());\n        System.out.println(clazz);\n        System.out.println();\n        if (this.getClass() != clazz)\n            throw new RuntimeException();\n    }\n}\nclass SubTree&lt;STREE extends SubTree&lt;?,?&gt;, DATA&gt; extends Tree&lt;STREE, DATA&gt; {\n    public SubTree(Class&lt;STREE&gt; clazz) {\n        super(clazz);\n    }\n}\nclass WrongSubTree&lt;WSTREE extends Tree&lt;?,?&gt;, DATA&gt; extends Tree&lt;WSTREE, DATA&gt; {\n    public WrongSubTree(Class&lt;WSTREE&gt; clazz) {\n        super(clazz);\n    }\n}\n</code></pre>\n\n<p><em>(The above class definitions are valid java codes.)</em></p>\n\n<h2>Problem</h2>\n\n<p>But i don't know how to call that constructor:</p>\n\n<pre><code>Tree&lt;Tree&lt;?,?&gt;, String&gt; tree01a = new Tree&lt;Tree&lt;?,?&gt;, String&gt;(Tree.class);\n// The constructor Tree&lt;Tree&lt;?,?&gt;,String&gt;(Class&lt;Tree&gt;) is undefined\n\nTree&lt;Tree&lt;?,?&gt;, String&gt; tree01b = new Tree&lt;Tree&lt;?,?&gt;, String&gt;(Tree&lt;?,?&gt;.class);\n// Syntax error, insert \"Dimensions\" to complete ArrayType\n</code></pre>\n\n<p>Both 2 lines above cause compile-errors.</p>\n\n<p>i guess it is because the constructor <code>public Tree(Class&lt;TREE&gt; clazz) {}</code> is expecting <code>Class&lt;Tree&lt;?,?&gt;&gt;</code>, but not <code>Class&lt;Tree&gt;</code>. However, we cannot do <code>Tree&lt;?,?&gt;.class</code>.</p>\n\n<p>The reason is i tried to change the class to:</p>\n\n<pre><code>class Tree&lt;TREE extends Tree&lt;?,?&gt;, DATA&gt; {\n    public Tree(Class&lt;Tree&gt; clazz) {            // changed\n        System.out.println(this.getClass());\n        System.out.println(clazz);\n        System.out.println();\n        if (this.getClass() != clazz)\n            throw new RuntimeException();\n    }\n}\nTree&lt;Tree&lt;?,?&gt;, String&gt; tree01a = new Tree&lt;Tree&lt;?,?&gt;, String&gt;(Tree.class);\n</code></pre>\n\n<p>There is no compile-error.</p>\n\n<p>However, the following causes the same compile-error:</p>\n\n<pre><code>class Tree&lt;TREE extends Tree&lt;?,?&gt;, DATA&gt; {\n    public Tree(Class&lt;Tree&lt;?,?&gt;&gt; clazz) {       // changed\n        System.out.println(this.getClass());\n        System.out.println(clazz);\n        System.out.println();\n        if (this.getClass() != clazz)\n            throw new RuntimeException();\n    }\n}\nTree&lt;Tree&lt;?,?&gt;, String&gt; tree01a = new Tree&lt;Tree&lt;?,?&gt;, String&gt;(Tree.class);\n// The constructor Tree&lt;Tree&lt;?,?&gt;,String&gt;(Class&lt;Tree&gt;) is undefined\n</code></pre>\n\n<hr>\n\n<h1>Edit #1</h1>\n\n<p>Based on <a href=\"https://stackoverflow.com/questions/18581788/how-to-verify-the-generic-generic-argument#comment27357241_18581788\">my comment</a> below, i tried this one. Hope it helps for some inspirations.</p>\n\n<pre><code>static class SimpleClass&lt;T&gt; {\n    private SimpleClass(Object dummy) {\n        // dummy constructor, avoid recursive call of the default constructor\n    }\n    SimpleClass() {\n        SimpleClass&lt;T&gt; myself = new SimpleClass&lt;T&gt;(new Object()) {};\n        System.out.println(((ParameterizedType) myself.getClass().getGenericSuperclass()).getActualTypeArguments()[0]);\n        // prints \"T\"\n\n        TypeReference&lt;SimpleClass&lt;T&gt;&gt; typeRef = new TypeReference&lt;SimpleClass&lt;T&gt;&gt;() {};\n        System.out.println(typeRef.getType());\n        // prints \"Main.Main$SimpleClass&lt;T&gt;\"\n    }\n    void func() {\n        SimpleClass&lt;T&gt; myself = new SimpleClass&lt;T&gt;(new Object()) {};\n        System.out.println(((ParameterizedType) myself.getClass().getGenericSuperclass()).getActualTypeArguments()[0]);\n        // prints \"T\"\n\n        TypeReference&lt;SimpleClass&lt;T&gt;&gt; typeRef = new TypeReference&lt;SimpleClass&lt;T&gt;&gt;() {};\n        System.out.println(typeRef.getType());\n        // prints \"Main.Main$SimpleClass&lt;T&gt;\"\n    }\n}\n\npublic static void main(String[] args) {\n    SimpleClass&lt;String&gt; simpleObj = new SimpleClass&lt;String&gt;();\n    simpleObj.func();\n\n    SimpleClass&lt;String&gt; outsideSimpleClass = new SimpleClass&lt;String&gt;(){};\n    System.out.println(((ParameterizedType) outsideSimpleClass.getClass().getGenericSuperclass()).getActualTypeArguments()[0]);\n    // prints \"class java.lang.String\"\n}\n</code></pre>\n\n<p>Note we still <strong>cannot</strong> get \"class java.lang.String\" <strong>inside</strong> <code>SimpleClass</code>.</p>\n\n<p>More importantly, if we use the Type Argument <code>&lt;T&gt;</code> to instantiate an object from <strong>another class</strong>, we still cannot get the type parameter from it:</p>\n\n<pre><code>static class AnotherClass&lt;T&gt; {\n    private AnotherClass(Object dummy) {}\n}\nstatic class SimpleClass&lt;T&gt; {\n    SimpleClass() {\n        AnotherClass&lt;T&gt; another = new AnotherClass&lt;T&gt;(new Object()) {};\n        System.out.println(((ParameterizedType) another.getClass().getGenericSuperclass()).getActualTypeArguments()[0]);\n        // prints \"T\"\n\n        TypeReference&lt;AnotherClass&lt;T&gt;&gt; anotherTypeRef = new TypeReference&lt;AnotherClass&lt;T&gt;&gt;() {};\n        System.out.println(anotherTypeRef.getType());\n        // prints \"Main.Main$AnotherClass&lt;T&gt;\"\n    }\n    void func() {\n        AnotherClass&lt;T&gt; another = new AnotherClass&lt;T&gt;(new Object()) {};\n        System.out.println(((ParameterizedType) another.getClass().getGenericSuperclass()).getActualTypeArguments()[0]);\n        // prints \"T\"\n\n        TypeReference&lt;AnotherClass&lt;T&gt;&gt; anotherTypeRef = new TypeReference&lt;AnotherClass&lt;T&gt;&gt;() {};\n        System.out.println(anotherTypeRef.getType());\n        // prints \"Main.Main$AnotherClass&lt;T&gt;\"\n    }\n}\n</code></pre>\n\n<p>Note that this means the Type Argument of <code>AnotherClass</code> cannot be revealed in <code>SimpleClass</code>, <strong>where it is a place outside the class itself!</strong></p>\n\n<p>To my understanding, we can only use the anonymous sub-class &amp; <code>getGenericSuperclass()</code> trick at a place where it actually already know the answer. Such as in <code>main()</code>, here is the place where <code>class java.lang.String</code> is really defined as the Type Argument.</p>\n\n<p>(IMO, if the ability of this trick is so restricted, it is not really useful at all.)</p>\n"},{"tags":["java","spring","dependency-injection","dao"],"comments":[{"owner":{"account_id":3156329,"reputation":5805,"user_id":2668666,"accept_rate":76,"display_name":"jmrah"},"score":0,"creation_date":1421759130,"post_id":28046048,"comment_id":44474509,"body_markdown":"It says something about the constructor throwing an exception?  What&#39;s the constructor like?","body":"It says something about the constructor throwing an exception?  What&#39;s the constructor like?"},{"owner":{"account_id":537054,"reputation":32561,"user_id":905762,"accept_rate":77,"display_name":"John B"},"score":1,"creation_date":1421759278,"post_id":28046048,"comment_id":44474590,"body_markdown":"And the constructor of `CommonDao`?","body":"And the constructor of <code>CommonDao</code>?"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1421759325,"post_id":28046048,"comment_id":44474620,"body_markdown":"Can you show `CommonDao` ?","body":"Can you show <code>CommonDao</code> ?"},{"owner":{"account_id":227869,"reputation":1312,"user_id":489795,"display_name":"systemkern"},"score":0,"creation_date":1421759504,"post_id":28046048,"comment_id":44474728,"body_markdown":"also which spring version are you using?\nand are you using springs auto wiring of beans?","body":"also which spring version are you using? and are you using springs auto wiring of beans?"},{"owner":{"account_id":3112429,"reputation":81,"user_id":2633925,"accept_rate":50,"display_name":"Saidi omar"},"score":0,"creation_date":1421759640,"post_id":28046048,"comment_id":44474823,"body_markdown":"`public abstract class CommonDao&lt;TEntity&gt; extends FabObject implements ICommonDao&lt;TEntity&gt; { public CommonDao() {\n    Type t = getClass().getGenericSuperclass();\n    ParameterizedType pt = (ParameterizedType) t;\n    this.classEntity = (Class&lt;TEntity&gt;) pt.getActualTypeArguments()[0];\n  }`","body":"<code>public abstract class CommonDao&lt;TEntity&gt; extends FabObject implements ICommonDao&lt;TEntity&gt; { public CommonDao() {     Type t = getClass().getGenericSuperclass();     ParameterizedType pt = (ParameterizedType) t;     this.classEntity = (Class&lt;TEntity&gt;) pt.getActualTypeArguments()[0];   }</code>"},{"owner":{"account_id":537054,"reputation":32561,"user_id":905762,"accept_rate":77,"display_name":"John B"},"score":0,"creation_date":1421761793,"post_id":28046048,"comment_id":44476174,"body_markdown":"You didn&#39;t think all that `Type` stuff in the base class might be important to the question?","body":"You didn&#39;t think all that <code>Type</code> stuff in the base class might be important to the question?"}],"answers":[{"tags":[],"owner":{"display_name":"user3235431"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1421759674,"creation_date":1421759674,"answer_id":28046270,"question_id":28046048,"body_markdown":"Check for Annotations @Entity,@Service, etc. Maybe you have missed something. So the DAO class cannot call the POJO Class and the bean can&#39;t be initialized.","title":"Spring dependency injection generic service class","body":"<p>Check for Annotations @Entity,@Service, etc. Maybe you have missed something. So the DAO class cannot call the POJO Class and the bean can't be initialized.</p>\n"},{"tags":[],"owner":{"account_id":227869,"reputation":1312,"user_id":489795,"display_name":"systemkern"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1426685229,"creation_date":1421760868,"answer_id":28046662,"question_id":28046048,"body_markdown":"Is TEntity an actual class or your type parameter?\r\n\r\nFrom what it looks to me TEntity is only the name of your type parameter, which I believe does not work.\r\n\r\nyou would need something like\r\n\r\n    class ConcreteNominationHibernateDAO\r\n        extends BaseDao&lt;ConcreteNominationSubclass&gt; {...}\r\n","title":"Spring dependency injection generic service class","body":"<p>Is TEntity an actual class or your type parameter?</p>\n\n<p>From what it looks to me TEntity is only the name of your type parameter, which I believe does not work.</p>\n\n<p>you would need something like</p>\n\n<pre><code>class ConcreteNominationHibernateDAO\n    extends BaseDao&lt;ConcreteNominationSubclass&gt; {...}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":537054,"reputation":32561,"user_id":905762,"accept_rate":77,"display_name":"John B"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1421762076,"creation_date":1421762076,"answer_id":28047070,"question_id":28046048,"body_markdown":"Per the javadoc, `ParameterizedType.getActualTypeArguments` returns a `Type[]`. A `Type` is not necessarily a `Class` and therefore the cast to `Class` is not safe.\r\n\r\nPer the answer [here][1] by Piotr Findeisen: \r\n\r\n&gt; The expression\r\n\r\n    getClass().getGenericSuperclass()).getActualTypeArguments()[0]\r\n\r\nrefers to value substituted to first type parameter of `AbstractHibernateDAO` (which in the `AbstractHibernateDAO.java` is denoted by `T`). The type substituted by subclass `NominationHibernateDAO` is still not concrete, it is `T extends Nomination`, which is definitely not a `java.lang.Class` instance, but a `Type` instance (`TypeVariableImpl` is an implementation of a `Type`).\r\n\r\nIf the `NominationHibernateDAO` was declared with something like that:\r\n\r\n    class NominationHibernateDAO extends AbstractHibernateDAO&lt;Nomination, Integer&gt; { ...\r\n\r\nthen the `AbstractHibernateDAO` constructor magic would work. Alternatively, you can (or you even should?) instantiate a subclass of `NominationHibernateDAO` declared like this:\r\n\r\n    class ConcreteNominationHibernateDAO\r\n            extends NominationHibernateDAO&lt;ConcreteNominationSubclass&gt; { ...\r\n\r\nor\r\n\r\n    new NominationHibernateDAO&lt;ConcreteNominationSubclass&gt;() {}\r\n\r\nThis, again, would not trigger the problem.\r\n\r\nAre you sure the `NominationHibernateDAO` class is meant to be used as a Spring bean?\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/8917733/error-testing-daos-sun-reflect-generics-reflectiveobjects-typevariableimpl-cann","title":"Spring dependency injection generic service class","body":"<p>Per the javadoc, <code>ParameterizedType.getActualTypeArguments</code> returns a <code>Type[]</code>. A <code>Type</code> is not necessarily a <code>Class</code> and therefore the cast to <code>Class</code> is not safe.</p>\n\n<p>Per the answer <a href=\"https://stackoverflow.com/questions/8917733/error-testing-daos-sun-reflect-generics-reflectiveobjects-typevariableimpl-cann\">here</a> by Piotr Findeisen: </p>\n\n<blockquote>\n  <p>The expression</p>\n</blockquote>\n\n<pre><code>getClass().getGenericSuperclass()).getActualTypeArguments()[0]\n</code></pre>\n\n<p>refers to value substituted to first type parameter of <code>AbstractHibernateDAO</code> (which in the <code>AbstractHibernateDAO.java</code> is denoted by <code>T</code>). The type substituted by subclass <code>NominationHibernateDAO</code> is still not concrete, it is <code>T extends Nomination</code>, which is definitely not a <code>java.lang.Class</code> instance, but a <code>Type</code> instance (<code>TypeVariableImpl</code> is an implementation of a <code>Type</code>).</p>\n\n<p>If the <code>NominationHibernateDAO</code> was declared with something like that:</p>\n\n<pre><code>class NominationHibernateDAO extends AbstractHibernateDAO&lt;Nomination, Integer&gt; { ...\n</code></pre>\n\n<p>then the <code>AbstractHibernateDAO</code> constructor magic would work. Alternatively, you can (or you even should?) instantiate a subclass of <code>NominationHibernateDAO</code> declared like this:</p>\n\n<pre><code>class ConcreteNominationHibernateDAO\n        extends NominationHibernateDAO&lt;ConcreteNominationSubclass&gt; { ...\n</code></pre>\n\n<p>or</p>\n\n<pre><code>new NominationHibernateDAO&lt;ConcreteNominationSubclass&gt;() {}\n</code></pre>\n\n<p>This, again, would not trigger the problem.</p>\n\n<p>Are you sure the <code>NominationHibernateDAO</code> class is meant to be used as a Spring bean?</p>\n"},{"tags":[],"owner":{"account_id":225930,"reputation":5037,"user_id":486688,"accept_rate":67,"display_name":"Jonathan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1663730299,"creation_date":1421796628,"answer_id":28057126,"question_id":28046048,"body_markdown":"Having a deep hierarchy you&#39;ll need to use something like [TypeTools](https://github.com/jhalterman/typetools) (which I authored):\r\n\r\n    class DeviceDao extends BaseDao&lt;Device&gt; {}\r\n\r\n    Class&lt;?&gt; entityType = TypeResolver.resolveRawArgument(IBaseDao.clas, DeviceDao.class);\r\n    assert entityType == Device.class;\r\n\r\nNote: As always, type arguments can only be resolved at runtime if they&#39;re captured in a type definition. So subclassing `BaseDao` is necessary.","title":"Spring dependency injection generic service class","body":"<p>Having a deep hierarchy you'll need to use something like <a href=\"https://github.com/jhalterman/typetools\" rel=\"nofollow noreferrer\">TypeTools</a> (which I authored):</p>\n<pre><code>class DeviceDao extends BaseDao&lt;Device&gt; {}\n\nClass&lt;?&gt; entityType = TypeResolver.resolveRawArgument(IBaseDao.clas, DeviceDao.class);\nassert entityType == Device.class;\n</code></pre>\n<p>Note: As always, type arguments can only be resolved at runtime if they're captured in a type definition. So subclassing <code>BaseDao</code> is necessary.</p>\n"}],"owner":{"account_id":3112429,"reputation":81,"user_id":2633925,"accept_rate":50,"display_name":"Saidi omar"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1188,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":28057126,"answer_count":4,"score":0,"last_activity_date":1663730299,"creation_date":1421758949,"question_id":28046048,"body_markdown":"i have a generic dao class and i&#39;m trying to use spring dependency injection but i have the following error\r\n\r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;BaseDao&#39; defined in ServletContext resource [/WEB-INF/applicationContext.xml]: Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Could not instantiate bean class [com.abgc.fab.dao.BaseDao]: Constructor threw exception; nested exception is java.lang.ClassCastException: sun.reflect.generics.reflectiveObjects.TypeVariableImpl cannot be cast to java.lang.Class\r\n\r\nmy applicationContext.xml file\r\n\r\n    &lt;bean id=&quot;BaseDao&quot; class=&quot;com.abgc.fab.dao.BaseDao&quot;&gt;\r\n\t\t&lt;property name=&quot;sessionFactory&quot; ref=&quot;sessionFactory&quot; /&gt;\r\n\t&lt;/bean&gt;\r\n\r\n   \r\nmy basedao class :\r\n\r\n    public class BaseDao&lt;TEntity&gt; extends CommonDao&lt;TEntity&gt; implements IBaseDao&lt;TEntity&gt; {\r\n\r\n    }\r\n\r\n     public abstract class CommonDao&lt;TEntity&gt; extends FabObject implements ICommonDao&lt;TEntity&gt; { \r\n           public CommonDao() { \r\n                   Type t = getClass().getGenericSuperclass();\r\n                   ParameterizedType pt = (ParameterizedType) t;           \r\n                    this.classEntity = (Class&lt;TEntity&gt;) pt.getActualTypeArguments()[0]; \r\n          }\r\n\r\nany help please ?","title":"Spring dependency injection generic service class","body":"<p>i have a generic dao class and i'm trying to use spring dependency injection but i have the following error</p>\n\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'BaseDao' defined in ServletContext resource [/WEB-INF/applicationContext.xml]: Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Could not instantiate bean class [com.abgc.fab.dao.BaseDao]: Constructor threw exception; nested exception is java.lang.ClassCastException: sun.reflect.generics.reflectiveObjects.TypeVariableImpl cannot be cast to java.lang.Class\n</code></pre>\n\n<p>my applicationContext.xml file</p>\n\n<pre><code>&lt;bean id=\"BaseDao\" class=\"com.abgc.fab.dao.BaseDao\"&gt;\n    &lt;property name=\"sessionFactory\" ref=\"sessionFactory\" /&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>my basedao class :</p>\n\n<pre><code>public class BaseDao&lt;TEntity&gt; extends CommonDao&lt;TEntity&gt; implements IBaseDao&lt;TEntity&gt; {\n\n}\n\n public abstract class CommonDao&lt;TEntity&gt; extends FabObject implements ICommonDao&lt;TEntity&gt; { \n       public CommonDao() { \n               Type t = getClass().getGenericSuperclass();\n               ParameterizedType pt = (ParameterizedType) t;           \n                this.classEntity = (Class&lt;TEntity&gt;) pt.getActualTypeArguments()[0]; \n      }\n</code></pre>\n\n<p>any help please ?</p>\n"},{"tags":["java","generics","reflection","containment"],"comments":[{"owner":{"account_id":395357,"reputation":44547,"user_id":758280,"accept_rate":100,"display_name":"Jeffrey"},"score":0,"creation_date":1378047985,"post_id":18559285,"comment_id":27304633,"body_markdown":"What&#39;s the full stack trace? What is `paramType.getActualTypeArguments()[0]`? My suspicion is that it&#39;s a [`TypeVariable`](http://docs.oracle.com/javase/7/docs/api/).","body":"What&#39;s the full stack trace? What is <code>paramType.getActualTypeArguments()[0]</code>? My suspicion is that it&#39;s a <a href=\"http://docs.oracle.com/javase/7/docs/api/\" rel=\"nofollow noreferrer\"><code>TypeVariable</code></a>."},{"owner":{"account_id":2172442,"reputation":83,"user_id":1924049,"accept_rate":33,"display_name":"Jorocco"},"score":0,"creation_date":1378065563,"post_id":18559285,"comment_id":27309552,"body_markdown":"Here&#39;s the trace:  Exception in thread &quot;main&quot; java.lang.ClassCastException: sun.reflect.generics.reflectiveObjects.TypeVariableImpl cannot be cast to java.lang.Class\n\tat mypackage.ParameterizedTypeEg$Parameterized.getTypeParameterClass(ParameterizedTypeEg.java:17)\n\tat mypackage.ParameterizedTypeEg$Parameterized.getTypeParameterConstructor(ParameterizedTypeEg.java:22)\n\tat mypackage.ParameterizedTypeEg$ContainsParameterized.&lt;init&gt;(ParameterizedTypeEg.java:31)\n\tat mypackage.ParameterizedTypeEg.&lt;init&gt;(ParameterizedTypeEg.java:9)\n\tat mypackage.ParameterizedTypeEg.main(ParameterizedTypeEg.java:39)","body":"Here&#39;s the trace:  Exception in thread &quot;main&quot; java.lang.ClassCastException: sun.reflect.generics.reflectiveObjects.TypeVariableImpl cannot be cast to java.lang.Class \tat mypackage.ParameterizedTypeEg$Parameterized.getTypeParameter&zwnj;&#8203;Class(ParameterizedT&zwnj;&#8203;ypeEg.java:17) \tat mypackage.ParameterizedTypeEg$Parameterized.getTypeParameter&zwnj;&#8203;Constructor(Paramete&zwnj;&#8203;rizedTypeEg.java:22) \tat mypackage.ParameterizedTypeEg$ContainsParameterized.&lt;init&gt;(P&zwnj;&#8203;arameterizedTypeEg.j&zwnj;&#8203;ava:31) \tat mypackage.ParameterizedTypeEg.&lt;init&gt;(ParameterizedTypeEg.jav&zwnj;&#8203;a:9) \tat mypackage.ParameterizedTypeEg.main(ParameterizedTypeEg.java:&zwnj;&#8203;39)"}],"answers":[{"tags":[],"owner":{"account_id":31622,"reputation":120341,"user_id":86989,"display_name":"newacct"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1378160791,"creation_date":1378076155,"answer_id":18563743,"question_id":18559285,"body_markdown":"The anonymous class must have the actual type parameter hard-coded in its declaration for it to work.\r\n\r\n    new Parameterized&lt;E&gt;(){};\r\n\r\ndoes not work. You are just hard-coding &quot;E&quot; (a type variable). So when you look at the metadata using reflection all you see is &quot;E&quot; (a type variable).\r\n\r\nYou must create a subclass which hard-codes its superclass with an actual class as type argument at compile-time:\r\n\r\n    new Parameterized&lt;String&gt;(){};\r\n\r\n&gt; I tried to adapt Steve B&#39;s approach of creating an anonymous subclass:\r\n\r\nYou missed the whole point of that. The point was not to create a subclass. The point was to create a subclass *with the actual class of the type argument hard-coded in the superclass*.","title":"Create instance of generic type in Java when parameterized type is contained?","body":"<p>The anonymous class must have the actual type parameter hard-coded in its declaration for it to work.</p>\n\n<pre><code>new Parameterized&lt;E&gt;(){};\n</code></pre>\n\n<p>does not work. You are just hard-coding \"E\" (a type variable). So when you look at the metadata using reflection all you see is \"E\" (a type variable).</p>\n\n<p>You must create a subclass which hard-codes its superclass with an actual class as type argument at compile-time:</p>\n\n<pre><code>new Parameterized&lt;String&gt;(){};\n</code></pre>\n\n<blockquote>\n  <p>I tried to adapt Steve B's approach of creating an anonymous subclass:</p>\n</blockquote>\n\n<p>You missed the whole point of that. The point was not to create a subclass. The point was to create a subclass <em>with the actual class of the type argument hard-coded in the superclass</em>.</p>\n"},{"tags":[],"owner":{"account_id":225930,"reputation":5037,"user_id":486688,"accept_rate":67,"display_name":"Jonathan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663730268,"creation_date":1382754752,"answer_id":19602178,"question_id":18559285,"body_markdown":"What you&#39;re trying to do can work so long as E is parameterized in a type definition somewhere. For example:\r\n\r\n    Parameterized&lt;E&gt; pe = new Parameterized&lt;E&gt;();\r\n\r\nThis will not allow you to resolve `E` since it&#39;s not part of a type definition. On the otherhand, this:\r\n\r\n    class StringE extends Parameterized&lt;String&gt; {}\r\n\r\nor this:\r\n\r\n    Parameterized&lt;String&gt; ps = new Parameterized&lt;String&gt;(){};\r\n\r\nwill work since we&#39;re specifying the value of E as part of a type definition. To resolve the value of `E`, you might use [TypeTools](https://github.com/jhalterman/typetools) (which I authored):\r\n\r\n    Class&lt;?&gt; stringType = TypeResolver.resolveRawArgument(Parameterized.class, ps.getClass());\r\n    assert stringType == String.class;","title":"Create instance of generic type in Java when parameterized type is contained?","body":"<p>What you're trying to do can work so long as E is parameterized in a type definition somewhere. For example:</p>\n<pre><code>Parameterized&lt;E&gt; pe = new Parameterized&lt;E&gt;();\n</code></pre>\n<p>This will not allow you to resolve <code>E</code> since it's not part of a type definition. On the otherhand, this:</p>\n<pre><code>class StringE extends Parameterized&lt;String&gt; {}\n</code></pre>\n<p>or this:</p>\n<pre><code>Parameterized&lt;String&gt; ps = new Parameterized&lt;String&gt;(){};\n</code></pre>\n<p>will work since we're specifying the value of E as part of a type definition. To resolve the value of <code>E</code>, you might use <a href=\"https://github.com/jhalterman/typetools\" rel=\"nofollow noreferrer\">TypeTools</a> (which I authored):</p>\n<pre><code>Class&lt;?&gt; stringType = TypeResolver.resolveRawArgument(Parameterized.class, ps.getClass());\nassert stringType == String.class;\n</code></pre>\n"}],"owner":{"account_id":2172442,"reputation":83,"user_id":1924049,"accept_rate":33,"display_name":"Jorocco"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1456,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1663730268,"creation_date":1378045019,"question_id":18559285,"body_markdown":"This is a follow-up to my question:\r\n\r\nhttps://stackoverflow.com/questions/18555122/create-instance-of-generic-type-in-java-when-parameterized-type-passes-through-h\r\n\r\nFor attempting to create a new generic from a &lt;i&gt;contained&lt;/i&gt; class, I tried to adapt Steve B&#39;s approach of creating an anonymous subclass:\r\n\r\n    import java.lang.reflect.Constructor;\r\n    import java.lang.reflect.InvocationTargetException;\r\n    import java.lang.reflect.ParameterizedType;\r\n    import java.lang.reflect.Type;\r\n    \r\n    public class ParameterizedTypeEg {\r\n    \tParameterizedTypeEg () {\r\n    \t\tContainsParameterized&lt;String&gt; containString = new ContainsParameterized&lt;String&gt;();\r\n    \t}\r\n    \tpublic class Parameterized&lt;E&gt; {\r\n    \t\tParameterized () {\r\n    \t\t}\r\n    \t\tpublic Class&lt;E&gt; getTypeParameterClass() {\r\n    \t\t\tType type = getClass().getGenericSuperclass();\r\n    \t\t\tParameterizedType paramType = (ParameterizedType) type;\r\n    \t\t\treturn (Class&lt;E&gt;) paramType.getActualTypeArguments()[0];\r\n    \t\t}\r\n    \t\tpublic Constructor&lt;E&gt; getTypeParameterConstructor() {\r\n    \t\t\tConstructor&lt;E&gt; constructor = null;\r\n    \t\t\ttry {\r\n    \t\t\t\tconstructor = getTypeParameterClass().getConstructor(QueriedColor.class);\r\n    \t\t\t} catch (NoSuchMethodException e) { System.err.println(e); }\r\n    \t\t\treturn constructor;\r\n    \t\t}\t\t\t\r\n    \t}\r\n    \tclass ContainsParameterized&lt;E&gt; {\r\n    \t\tContainsParameterized () {\r\n    \t\t\tParameterized&lt;E&gt; contained = new Parameterized&lt;E&gt;(){};\r\n    \t\t\ttry {\r\n    \t\t\t\tE element = contained.getTypeParameterConstructor().newInstance();\r\n    \t\t\t}\r\n    \t\t\tcatch (InstantiationException e) { System.err.println(e); }\r\n    \t\t\tcatch (IllegalAccessException e) { System.err.println(e); }\r\n    \t\t\tcatch (InvocationTargetException e) { System.err.println(e); }\r\n    \t\t}\r\n    \t}\r\n    \tpublic static void main(String[] args) {\r\n    \t\tnew ParameterizedTypeEg();\r\n    \t}\r\n    }\r\n\r\nPlease note the line\r\n    Parameterized&lt;E&gt; contained = new Parameterized&lt;E&gt;(){};\r\n\r\nHere I am attempting to create the anonymous subclass, as suggested by Steve B in the other post.  However, I get a ClassCastException in the getTypeParameterClass() method.  This is the same type of exception as in my other posting.  That lead me to think that I could use the same solution as Steve B suggested for that problem.\r\n\r\n","title":"Create instance of generic type in Java when parameterized type is contained?","body":"<p>This is a follow-up to my question:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/18555122/create-instance-of-generic-type-in-java-when-parameterized-type-passes-through-h\">Create instance of generic type in Java when parameterized type passes through hierarchies?</a></p>\n\n<p>For attempting to create a new generic from a <i>contained</i> class, I tried to adapt Steve B's approach of creating an anonymous subclass:</p>\n\n<pre><code>import java.lang.reflect.Constructor;\nimport java.lang.reflect.InvocationTargetException;\nimport java.lang.reflect.ParameterizedType;\nimport java.lang.reflect.Type;\n\npublic class ParameterizedTypeEg {\n    ParameterizedTypeEg () {\n        ContainsParameterized&lt;String&gt; containString = new ContainsParameterized&lt;String&gt;();\n    }\n    public class Parameterized&lt;E&gt; {\n        Parameterized () {\n        }\n        public Class&lt;E&gt; getTypeParameterClass() {\n            Type type = getClass().getGenericSuperclass();\n            ParameterizedType paramType = (ParameterizedType) type;\n            return (Class&lt;E&gt;) paramType.getActualTypeArguments()[0];\n        }\n        public Constructor&lt;E&gt; getTypeParameterConstructor() {\n            Constructor&lt;E&gt; constructor = null;\n            try {\n                constructor = getTypeParameterClass().getConstructor(QueriedColor.class);\n            } catch (NoSuchMethodException e) { System.err.println(e); }\n            return constructor;\n        }           \n    }\n    class ContainsParameterized&lt;E&gt; {\n        ContainsParameterized () {\n            Parameterized&lt;E&gt; contained = new Parameterized&lt;E&gt;(){};\n            try {\n                E element = contained.getTypeParameterConstructor().newInstance();\n            }\n            catch (InstantiationException e) { System.err.println(e); }\n            catch (IllegalAccessException e) { System.err.println(e); }\n            catch (InvocationTargetException e) { System.err.println(e); }\n        }\n    }\n    public static void main(String[] args) {\n        new ParameterizedTypeEg();\n    }\n}\n</code></pre>\n\n<p>Please note the line\n    Parameterized contained = new Parameterized(){};</p>\n\n<p>Here I am attempting to create the anonymous subclass, as suggested by Steve B in the other post.  However, I get a ClassCastException in the getTypeParameterClass() method.  This is the same type of exception as in my other posting.  That lead me to think that I could use the same solution as Steve B suggested for that problem.</p>\n"},{"tags":["java","generics","reflection"],"comments":[{"owner":{"account_id":37136,"reputation":57812,"user_id":106104,"accept_rate":62,"display_name":"user253751"},"score":0,"creation_date":1420789117,"post_id":27855428,"comment_id":44114996,"body_markdown":"I assume you do know what casting does.","body":"I assume you do know what casting does."}],"answers":[{"tags":[],"owner":{"display_name":"user180100"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1420787468,"creation_date":1420787468,"answer_id":27855562,"question_id":27855428,"body_markdown":"You can use [`getRawType()`][1] here:\r\n\r\n    for(int i=0; i&lt;ifaces.length; ++i) {\r\n        iface = ifaces[i];\r\n        final ParameterizedType parameterizedType = (ParameterizedType) iface;\r\n        if(((Class&lt;?&gt;) parameterizedType.getRawType()).isAssignableFrom(MyClass2.class) ) {\r\n            params = parameterizedType.getActualTypeArguments();\r\n            System.out.println(params[0].toString());\r\n        }\r\n    }\r\n\r\nOutputs `interface tests.java.Try_GenericRuntime$MyClass3`\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/lang/reflect/ParameterizedType.html#getRawType()","title":"How to determine generic parameter of one of implemented interfaces?","body":"<p>You can use <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/reflect/ParameterizedType.html#getRawType()\" rel=\"nofollow\"><code>getRawType()</code></a> here:</p>\n\n<pre><code>for(int i=0; i&lt;ifaces.length; ++i) {\n    iface = ifaces[i];\n    final ParameterizedType parameterizedType = (ParameterizedType) iface;\n    if(((Class&lt;?&gt;) parameterizedType.getRawType()).isAssignableFrom(MyClass2.class) ) {\n        params = parameterizedType.getActualTypeArguments();\n        System.out.println(params[0].toString());\n    }\n}\n</code></pre>\n\n<p>Outputs <code>interface tests.java.Try_GenericRuntime$MyClass3</code></p>\n"},{"tags":[],"owner":{"account_id":225930,"reputation":5037,"user_id":486688,"accept_rate":67,"display_name":"Jonathan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663730145,"creation_date":1421195666,"answer_id":27934021,"question_id":27855428,"body_markdown":"This is straightforward using [TypeTools](https://github.com/jhalterman/typetools) (which I authored):\r\n\r\n    Class&lt;?&gt; typeArg = TypeResolver.resolveRawArgument(MyClass2.class, MyClass1.class);\r\n    assert typeArg == MyClass3.class;","title":"How to determine generic parameter of one of implemented interfaces?","body":"<p>This is straightforward using <a href=\"https://github.com/jhalterman/typetools\" rel=\"nofollow noreferrer\">TypeTools</a> (which I authored):</p>\n<pre><code>Class&lt;?&gt; typeArg = TypeResolver.resolveRawArgument(MyClass2.class, MyClass1.class);\nassert typeArg == MyClass3.class;\n</code></pre>\n"}],"owner":{"account_id":1200939,"reputation":29479,"user_id":1171620,"accept_rate":43,"display_name":"Suzan Cioc"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1663730145,"creation_date":1420786864,"question_id":27855428,"body_markdown":"I would like to have generic tagging interface, so that tag contain some class information.\r\n\r\nNow, how to know with which class the given tag was parametrized with?\r\n\r\nIn the code below I am taking an object, then looking for tag `MyClass2` and then wishing to extract the parameter of the tag (which is `MyClass3`)\r\n\r\n    package tests.java;\r\n    \r\n    import java.lang.reflect.ParameterizedType;\r\n    import java.lang.reflect.Type;\r\n    \r\n    public class Try_GenericRuntime {\r\n    \r\n    \tpublic static class MyClass1 implements MyClass2&lt;MyClass3&gt;, MyClass4&lt;MyClass5 &gt;{\r\n    \t}\r\n    \t\r\n    \tinterface MyClass2&lt;T&gt; {\r\n    \t}\r\n    \t\r\n    \tinterface MyClass4&lt;T&gt; {\r\n    \t}\r\n    \t\r\n    \tinterface MyClass3 {\r\n    \t}\r\n    \t\r\n    \tinterface MyClass5 {\r\n    \t}\r\n    \t\r\n    \t@SuppressWarnings(&quot;unchecked&quot;)\r\n    \tpublic static void main(String[] args) {\r\n    \t\t\r\n    \t\t\r\n    \t\tMyClass1 a = new MyClass1();\r\n    \t\t\r\n    \t\t// how to derive/reach MyClass3?\r\n    \t\t\r\n    \t\tType[] ifaces = a.getClass().getGenericInterfaces();\r\n    \t\t\r\n    \t\tType iface;\r\n    \t\t\r\n    \t\tType[] params;\r\n    \t\t\r\n    \t\tfor(int i=0; i&lt;ifaces.length; ++i) {\r\n    \t\t\tiface = ifaces[i];\r\n    \t\t\tif( ((Class)iface).isAssignableFrom(MyClass2.class) ) {\r\n    \t\t\t\tparams = ((ParameterizedType)iface).getActualTypeArguments();\r\n    \t\t\t\tSystem.out.println(params[0].toString());\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\t\r\n    \t}\r\n    }\r\n\r\nThis code gives `sun.reflect.generics.reflectiveObjects.ParameterizedTypeImpl cannot be cast to java.lang.Class` exception message.\r\n\r\nOther variants are also problematic due to incompatibilities between `ParameterizedType` and `Class`.","title":"How to determine generic parameter of one of implemented interfaces?","body":"<p>I would like to have generic tagging interface, so that tag contain some class information.</p>\n\n<p>Now, how to know with which class the given tag was parametrized with?</p>\n\n<p>In the code below I am taking an object, then looking for tag <code>MyClass2</code> and then wishing to extract the parameter of the tag (which is <code>MyClass3</code>)</p>\n\n<pre><code>package tests.java;\n\nimport java.lang.reflect.ParameterizedType;\nimport java.lang.reflect.Type;\n\npublic class Try_GenericRuntime {\n\n    public static class MyClass1 implements MyClass2&lt;MyClass3&gt;, MyClass4&lt;MyClass5 &gt;{\n    }\n\n    interface MyClass2&lt;T&gt; {\n    }\n\n    interface MyClass4&lt;T&gt; {\n    }\n\n    interface MyClass3 {\n    }\n\n    interface MyClass5 {\n    }\n\n    @SuppressWarnings(\"unchecked\")\n    public static void main(String[] args) {\n\n\n        MyClass1 a = new MyClass1();\n\n        // how to derive/reach MyClass3?\n\n        Type[] ifaces = a.getClass().getGenericInterfaces();\n\n        Type iface;\n\n        Type[] params;\n\n        for(int i=0; i&lt;ifaces.length; ++i) {\n            iface = ifaces[i];\n            if( ((Class)iface).isAssignableFrom(MyClass2.class) ) {\n                params = ((ParameterizedType)iface).getActualTypeArguments();\n                System.out.println(params[0].toString());\n            }\n        }\n\n    }\n}\n</code></pre>\n\n<p>This code gives <code>sun.reflect.generics.reflectiveObjects.ParameterizedTypeImpl cannot be cast to java.lang.Class</code> exception message.</p>\n\n<p>Other variants are also problematic due to incompatibilities between <code>ParameterizedType</code> and <code>Class</code>.</p>\n"},{"tags":["java","reflection"],"answers":[{"tags":[],"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1397022759,"creation_date":1397022759,"answer_id":22953926,"question_id":22953732,"body_markdown":"You can&#39;t. It&#39;s impossible. \r\n\r\nFirst, [`Class#getGenericSuperclass()`][1]\r\n\r\n&gt; Returns the Type representing the direct superclass of the entity\r\n&gt; (class, interface, primitive type or void) represented by this Class.\r\n\r\nSo for `StringObjectKeyValueStore`, the direct superclass is `AbstractObjectStore`, a `ParameterizedType`, because it is parameterized with a type variable. `ParamerizedType` has a method [`getActualTypeArguments`][2] which\r\n\r\n&gt; Returns an array of Type objects representing the actual type arguments to this type.\r\n\r\nFor your example, ie. `StringObjectKeyValueStore`, the generic superclass is `AbstractObjectStore`, which was given a single type arguments in the `StringObjectKeyValueStore` class declaration, \r\n\r\n    public class StringObjectKeyValueStore&lt;V&gt; extends AbstractObjectStore&lt;V&gt;\r\n\r\nie. the type variable `V`. So, for \r\n\r\n    KeyValueStore&lt;String,Friend&gt; = new StringObjectKeyValueStore();\r\n\r\nthis code\r\n\r\n    ((ParameterizedType) getClass()\r\n                .getGenericSuperclass()).getActualTypeArguments()[0];\r\n\r\nwill return a `TypeVariableImpl` object for the type variable `V`. \r\n\r\nIf your declaration was\r\n\r\n\r\n    public class StringObjectKeyValueStore&lt;V&gt; extends AbstractObjectStore&lt;String&gt;\r\n                                                                       // ^ see here\r\n\r\nthen \r\n\r\n    ((ParameterizedType) getClass()\r\n                .getGenericSuperclass()).getActualTypeArguments()[0];\r\n\r\nwould return the `Class` object for `String` since `String` is the actual type argument you used.\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/lang/Class.html#getGenericSuperclass%28%29\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/lang/reflect/ParameterizedType.html#getActualTypeArguments%28%29","title":"Retrieve generic type information with reflection","body":"<p>You can't. It's impossible. </p>\n\n<p>First, <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Class.html#getGenericSuperclass%28%29\" rel=\"nofollow\"><code>Class#getGenericSuperclass()</code></a></p>\n\n<blockquote>\n  <p>Returns the Type representing the direct superclass of the entity\n  (class, interface, primitive type or void) represented by this Class.</p>\n</blockquote>\n\n<p>So for <code>StringObjectKeyValueStore</code>, the direct superclass is <code>AbstractObjectStore</code>, a <code>ParameterizedType</code>, because it is parameterized with a type variable. <code>ParamerizedType</code> has a method <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/reflect/ParameterizedType.html#getActualTypeArguments%28%29\" rel=\"nofollow\"><code>getActualTypeArguments</code></a> which</p>\n\n<blockquote>\n  <p>Returns an array of Type objects representing the actual type arguments to this type.</p>\n</blockquote>\n\n<p>For your example, ie. <code>StringObjectKeyValueStore</code>, the generic superclass is <code>AbstractObjectStore</code>, which was given a single type arguments in the <code>StringObjectKeyValueStore</code> class declaration, </p>\n\n<pre><code>public class StringObjectKeyValueStore&lt;V&gt; extends AbstractObjectStore&lt;V&gt;\n</code></pre>\n\n<p>ie. the type variable <code>V</code>. So, for </p>\n\n<pre><code>KeyValueStore&lt;String,Friend&gt; = new StringObjectKeyValueStore();\n</code></pre>\n\n<p>this code</p>\n\n<pre><code>((ParameterizedType) getClass()\n            .getGenericSuperclass()).getActualTypeArguments()[0];\n</code></pre>\n\n<p>will return a <code>TypeVariableImpl</code> object for the type variable <code>V</code>. </p>\n\n<p>If your declaration was</p>\n\n<pre><code>public class StringObjectKeyValueStore&lt;V&gt; extends AbstractObjectStore&lt;String&gt;\n                                                                   // ^ see here\n</code></pre>\n\n<p>then </p>\n\n<pre><code>((ParameterizedType) getClass()\n            .getGenericSuperclass()).getActualTypeArguments()[0];\n</code></pre>\n\n<p>would return the <code>Class</code> object for <code>String</code> since <code>String</code> is the actual type argument you used.</p>\n"},{"tags":[],"owner":{"account_id":225930,"reputation":5037,"user_id":486688,"accept_rate":67,"display_name":"Jonathan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663730073,"creation_date":1397767170,"answer_id":23143010,"question_id":22953732,"body_markdown":"The only way this is workable is if you subclass `StringObjectKeyValueStore`:\r\n\r\n    class FriendStore extends StringObjectKeyValueStore&lt;Friend&gt;{}\r\n\r\nThe you can resolve `V` for a particular type, such as `KeyValueStore`, using [TypeTools](https://github.com/jhalterman/typetools) (which I authored):\r\n\r\n    Class&lt;?&gt; v = TypeResolver.resolveRawArguments(KeyValueStore.class, FriendStore.class)[1];\r\n    assert v == Friend.class;\r\n\r\n","title":"Retrieve generic type information with reflection","body":"<p>The only way this is workable is if you subclass <code>StringObjectKeyValueStore</code>:</p>\n<pre><code>class FriendStore extends StringObjectKeyValueStore&lt;Friend&gt;{}\n</code></pre>\n<p>The you can resolve <code>V</code> for a particular type, such as <code>KeyValueStore</code>, using <a href=\"https://github.com/jhalterman/typetools\" rel=\"nofollow noreferrer\">TypeTools</a> (which I authored):</p>\n<pre><code>Class&lt;?&gt; v = TypeResolver.resolveRawArguments(KeyValueStore.class, FriendStore.class)[1];\nassert v == Friend.class;\n</code></pre>\n"}],"owner":{"account_id":412334,"reputation":33758,"user_id":785349,"accept_rate":94,"display_name":"quarks"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":248,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":22953926,"answer_count":2,"score":1,"last_activity_date":1663730073,"creation_date":1397022093,"question_id":22953732,"body_markdown":"Let&#39;s suppose I have these classes,    \r\n\r\n\r\n    public class StringObjectKeyValueStore&lt;V&gt; extends AbstractObjectStore&lt;V&gt;\r\n            implements KeyValueStore&lt;String, V&gt; {\r\n    }\r\n\r\n    public abstract class AbstractObjectStore&lt;V&gt; {\r\n         private final Class&lt;V&gt; type;\r\n         public AbstractObjectStore() {\r\n            this.type = (Class&lt;V&gt;) ((ParameterizedType) getClass()\r\n                .getGenericSuperclass()).getActualTypeArguments()[0];\r\n    }\r\n\r\nWhich I use it like this:\r\n\r\n    KeyValueStore&lt;String,Friend&gt; friendstore = new StringObjectKeyValueStore();\r\n\r\nIn the `AbstractObjectStore` how do I get the `com.xzvf.models.Friend` without modifying the `AbstractObjectStore` constructor and passing `Class&lt;V&gt; clazz` there. \r\n\r\nFrom my debugging this part \r\n\r\n    ((ParameterizedType) getClass()\r\n                    .getGenericSuperclass()).getActualTypeArguments()[0];\r\n\r\nJust returns `name = {java.lang.String@1452} &quot;V&quot;`","title":"Retrieve generic type information with reflection","body":"<p>Let's suppose I have these classes,    </p>\n\n<pre><code>public class StringObjectKeyValueStore&lt;V&gt; extends AbstractObjectStore&lt;V&gt;\n        implements KeyValueStore&lt;String, V&gt; {\n}\n\npublic abstract class AbstractObjectStore&lt;V&gt; {\n     private final Class&lt;V&gt; type;\n     public AbstractObjectStore() {\n        this.type = (Class&lt;V&gt;) ((ParameterizedType) getClass()\n            .getGenericSuperclass()).getActualTypeArguments()[0];\n}\n</code></pre>\n\n<p>Which I use it like this:</p>\n\n<pre><code>KeyValueStore&lt;String,Friend&gt; friendstore = new StringObjectKeyValueStore();\n</code></pre>\n\n<p>In the <code>AbstractObjectStore</code> how do I get the <code>com.xzvf.models.Friend</code> without modifying the <code>AbstractObjectStore</code> constructor and passing <code>Class&lt;V&gt; clazz</code> there. </p>\n\n<p>From my debugging this part </p>\n\n<pre><code>((ParameterizedType) getClass()\n                .getGenericSuperclass()).getActualTypeArguments()[0];\n</code></pre>\n\n<p>Just returns <code>name = {java.lang.String@1452} \"V\"</code></p>\n"},{"tags":["java","oracle","hibernate","jpa"],"comments":[{"owner":{"account_id":1700309,"reputation":1007,"user_id":1560584,"accept_rate":71,"display_name":"Balaji Krishnan"},"score":0,"creation_date":1495803551,"post_id":44202165,"comment_id":75417042,"body_markdown":"try entityManager.createQuery(&quot;SELECT a.release FROM ReleaseModel a&quot;, String.class);","body":"try entityManager.createQuery(&quot;SELECT a.release FROM ReleaseModel a&quot;, String.class);"},{"owner":{"account_id":3657397,"reputation":1107,"user_id":3048005,"display_name":"Prasad"},"score":0,"creation_date":1495803624,"post_id":44202165,"comment_id":75417082,"body_markdown":"try to configure entity name as ReleaseModel and try to execute it again.","body":"try to configure entity name as ReleaseModel and try to execute it again."},{"owner":{"account_id":7513612,"reputation":1945,"user_id":5707795,"accept_rate":48,"display_name":"Pradeep"},"score":0,"creation_date":1495803696,"post_id":44202165,"comment_id":75417134,"body_markdown":"@BalajiKrishnan I already tried this","body":"@BalajiKrishnan I already tried this"},{"owner":{"account_id":7513612,"reputation":1945,"user_id":5707795,"accept_rate":48,"display_name":"Pradeep"},"score":0,"creation_date":1495803815,"post_id":44202165,"comment_id":75417220,"body_markdown":"@PrasadReddy I didn&#39;t get you.Can you please post here as a snippet so that it would be helpful","body":"@PrasadReddy I didn&#39;t get you.Can you please post here as a snippet so that it would be helpful"},{"owner":{"account_id":7513612,"reputation":1945,"user_id":5707795,"accept_rate":48,"display_name":"Pradeep"},"score":0,"creation_date":1495803955,"post_id":44202165,"comment_id":75417316,"body_markdown":"You mean like this @Entity(name = &quot;ReleaseModel&quot;)","body":"You mean like this @Entity(name = &quot;ReleaseModel&quot;)"},{"owner":{"account_id":8505101,"reputation":4502,"user_id":6376955,"display_name":"Zeromus"},"score":0,"creation_date":1495804158,"post_id":44202165,"comment_id":75417468,"body_markdown":"&quot;dbname.tablenamefromDB&quot; is the exact name of your table?","body":"&quot;dbname.tablenamefromDB&quot; is the exact name of your table?"},{"owner":{"account_id":7513612,"reputation":1945,"user_id":5707795,"accept_rate":48,"display_name":"Pradeep"},"score":0,"creation_date":1495804244,"post_id":44202165,"comment_id":75417531,"body_markdown":"Yes Zeromus you are r8","body":"Yes Zeromus you are r8"},{"owner":{"account_id":3657397,"reputation":1107,"user_id":3048005,"display_name":"Prasad"},"score":0,"creation_date":1496047915,"post_id":44202165,"comment_id":75486041,"body_markdown":"Yes Pradeep.You need add this code @Entity(name = &quot;ReleaseModel&quot;)","body":"Yes Pradeep.You need add this code @Entity(name = &quot;ReleaseModel&quot;)"}],"answers":[{"tags":[],"owner":{"account_id":4153318,"reputation":19445,"user_id":3405171,"display_name":"v.ladynev"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1495806138,"creation_date":1495804308,"answer_id":44202532,"question_id":44202165,"body_markdown":"You should specify a schema name by this way\r\n\r\n    @Table(schema = &quot;dbname&quot;, name = &quot;tablenamefromDB&quot;)\r\n\r\nYou have an incorrect mapping:\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;dbcolumnname&quot;, unique = true, nullable = false)\r\n    private String release;\r\n\r\nI think `String` can&#39;t be auto generated.\r\nAlso all your columns have `dbcolumnname` name.","title":"java.sql.SQLException: ORA-00942: table or view does not exist with JPA entityManager.createQuery()","body":"<p>You should specify a schema name by this way</p>\n\n<pre><code>@Table(schema = \"dbname\", name = \"tablenamefromDB\")\n</code></pre>\n\n<p>You have an incorrect mapping:</p>\n\n<pre><code>@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\n@Column(name = \"dbcolumnname\", unique = true, nullable = false)\nprivate String release;\n</code></pre>\n\n<p>I think <code>String</code> can't be auto generated.\nAlso all your columns have <code>dbcolumnname</code> name.</p>\n"},{"tags":[],"owner":{"account_id":26397609,"reputation":1,"user_id":20048513,"display_name":"MoNaMa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663729448,"creation_date":1663729448,"answer_id":73794921,"question_id":44202165,"body_markdown":"The issue was that the schema was not specified in the entity class or the user did not login using proxy. If the user login using a proxy access i.e. userName[schemaName] they do not need to specify schema in the entity class. But if the user login using just the userName, they need to specify the schema in the entity. This is to specify where the table can be found in the database.","title":"java.sql.SQLException: ORA-00942: table or view does not exist with JPA entityManager.createQuery()","body":"<p>The issue was that the schema was not specified in the entity class or the user did not login using proxy. If the user login using a proxy access i.e. userName[schemaName] they do not need to specify schema in the entity class. But if the user login using just the userName, they need to specify the schema in the entity. This is to specify where the table can be found in the database.</p>\n"}],"owner":{"account_id":7513612,"reputation":1945,"user_id":5707795,"accept_rate":48,"display_name":"Pradeep"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6098,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":44202532,"answer_count":2,"score":2,"last_activity_date":1663729448,"creation_date":1495803249,"question_id":44202165,"body_markdown":"I am using **JPA** **createquery** API to fetch the data.\r\n\r\nHere is my query data  \r\n\r\n        @PersistenceContext\r\n    \tEntityManager entityManager;\r\n    \t@Override\r\n    \tpublic List&lt;String&gt; fetchAllReleaseNumbers() {\r\n    \r\n    \t\tQuery query = entityManager.createQuery(&quot;SELECT release FROM ReleaseModel&quot;, String.class);\r\n    \r\n    \t\treturn query.getResultList();\r\n    \t}\r\n\r\nand here is my pojo class.\r\n\r\n    import javax.persistence.Column;\r\n    import javax.persistence.Entity;\r\n    import javax.persistence.GeneratedValue;\r\n    import javax.persistence.GenerationType;\r\n    import javax.persistence.Id;\r\n    import javax.persistence.Table;\r\n    \r\n    @Entity\r\n    @Table(name = &quot;dbname.tablenamefromDB&quot;)\r\n    public class ReleaseModel {\r\n    \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    \t@Column(name = &quot;dbcolumnname&quot;, unique = true, nullable = false)\r\n    \tprivate String release;\r\n    \r\n    \t@Column(name = &quot;dbcolumnname&quot;)\r\n    \tprivate String releaseDesc;\r\n    \r\n    \t@Column(name = &quot;dbcolumnname&quot;)\r\n    \tprivate Integer releaseStatus;\r\n    \r\n    \t@Column(name = &quot;dbcolumnname&quot;)\r\n    \tprivate Integer releaseMode;\r\n    \r\n    \r\n    \tpublic String getRelease() {\r\n    \t\treturn release;\r\n    \t}\r\n    \r\n    \tpublic void setRelease(String release) {\r\n    \t\tthis.release = release;\r\n    \t}\r\n    \r\n    \tpublic String getReleaseDesc() {\r\n    \t\treturn releaseDesc;\r\n    \t}\r\n    \r\n    \tpublic void setReleaseDesc(String releaseDesc) {\r\n    \t\tthis.releaseDesc = releaseDesc;\r\n    \t}\r\n    \r\n    \tpublic Integer getReleaseStatus() {\r\n    \t\treturn releaseStatus;\r\n    \t}\r\n    \r\n    \tpublic void setReleaseStatus(Integer releaseStatus) {\r\n    \t\tthis.releaseStatus = releaseStatus;\r\n    \t}\r\n    \r\n    \tpublic Integer getReleaseMode() {\r\n    \t\treturn releaseMode;\r\n    \t}\r\n    \r\n    \tpublic void setReleaseMode(Integer releaseMode) {\r\n    \t\tthis.releaseMode = releaseMode;\r\n    \t}\r\n    \r\n    }\r\n\r\nThough the table exists  in db its throwing not exist.Any ideas where I made mistake.\r\nI tried whether any aliases can be given to the table name.\r\nI am using pojo class name only for createQuery.\r\n\r\nTIA.\r\n","title":"java.sql.SQLException: ORA-00942: table or view does not exist with JPA entityManager.createQuery()","body":"<p>I am using <strong>JPA</strong> <strong>createquery</strong> API to fetch the data.</p>\n\n<p>Here is my query data  </p>\n\n<pre><code>    @PersistenceContext\n    EntityManager entityManager;\n    @Override\n    public List&lt;String&gt; fetchAllReleaseNumbers() {\n\n        Query query = entityManager.createQuery(\"SELECT release FROM ReleaseModel\", String.class);\n\n        return query.getResultList();\n    }\n</code></pre>\n\n<p>and here is my pojo class.</p>\n\n<pre><code>import javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.Table;\n\n@Entity\n@Table(name = \"dbname.tablenamefromDB\")\npublic class ReleaseModel {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = \"dbcolumnname\", unique = true, nullable = false)\n    private String release;\n\n    @Column(name = \"dbcolumnname\")\n    private String releaseDesc;\n\n    @Column(name = \"dbcolumnname\")\n    private Integer releaseStatus;\n\n    @Column(name = \"dbcolumnname\")\n    private Integer releaseMode;\n\n\n    public String getRelease() {\n        return release;\n    }\n\n    public void setRelease(String release) {\n        this.release = release;\n    }\n\n    public String getReleaseDesc() {\n        return releaseDesc;\n    }\n\n    public void setReleaseDesc(String releaseDesc) {\n        this.releaseDesc = releaseDesc;\n    }\n\n    public Integer getReleaseStatus() {\n        return releaseStatus;\n    }\n\n    public void setReleaseStatus(Integer releaseStatus) {\n        this.releaseStatus = releaseStatus;\n    }\n\n    public Integer getReleaseMode() {\n        return releaseMode;\n    }\n\n    public void setReleaseMode(Integer releaseMode) {\n        this.releaseMode = releaseMode;\n    }\n\n}\n</code></pre>\n\n<p>Though the table exists  in db its throwing not exist.Any ideas where I made mistake.\nI tried whether any aliases can be given to the table name.\nI am using pojo class name only for createQuery.</p>\n\n<p>TIA.</p>\n"},{"tags":["java","amazon-web-services","spring-boot","amazon-dynamodb"],"answers":[{"tags":[],"owner":{"account_id":381081,"reputation":77,"user_id":735514,"display_name":"ryan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663729249,"creation_date":1663643186,"answer_id":73781217,"question_id":67791730,"body_markdown":"If your plan is using prePersist and preUpdate to update the timestamp just as my case. You can use [DynamoDBAutoGeneratedTimestamp](https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/dynamodbv2/datamodeling/DynamoDBAutoGeneratedTimestamp.html)","title":"How to implement prepersist and preupdate with spring-data-dynamodb","body":"<p>If your plan is using prePersist and preUpdate to update the timestamp just as my case. You can use <a href=\"https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/dynamodbv2/datamodeling/DynamoDBAutoGeneratedTimestamp.html\" rel=\"nofollow noreferrer\">DynamoDBAutoGeneratedTimestamp</a></p>\n"}],"owner":{"account_id":409619,"reputation":237,"user_id":780974,"display_name":"Divyesh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":198,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1663729249,"creation_date":1622561169,"question_id":67791730,"body_markdown":"I am save information like createdBy and updatedBy but ```@prePersist``` and ```@preUpdate``` is not working","title":"How to implement prepersist and preupdate with spring-data-dynamodb","body":"<p>I am save information like createdBy and updatedBy but <code>@prePersist</code> and <code>@preUpdate</code> is not working</p>\n"},{"tags":["java","csv","apache-commons"],"answers":[{"tags":[],"owner":{"account_id":5621248,"reputation":996,"user_id":4451010,"display_name":"Ilya Lapitan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1663728268,"creation_date":1663728268,"answer_id":73794830,"question_id":73778318,"body_markdown":"This is a slightly modified original version that should solve your issue, `setQuote(null)` does all magic.\r\n```lang-java\r\n    final CSVFormat csvFormat = CSVFormat.Builder.create()\r\n            .setHeader(HEADERS)\r\n            .setDelimiter(&#39;;&#39;)\r\n            .setQuote(null)\r\n            .setEscape(&#39;\\\\&#39;)\r\n            .setSkipHeaderRecord(true)\r\n            .build();\r\n```\r\n","title":"Resolving invalid data in CSV file with Apache Commons","body":"<p>This is a slightly modified original version that should solve your issue, <code>setQuote(null)</code> does all magic.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    final CSVFormat csvFormat = CSVFormat.Builder.create()\n            .setHeader(HEADERS)\n            .setDelimiter(';')\n            .setQuote(null)\n            .setEscape('\\\\')\n            .setSkipHeaderRecord(true)\n            .build();\n</code></pre>\n"}],"owner":{"account_id":13184230,"reputation":99,"user_id":9522770,"display_name":"jbrezik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":488,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73794830,"answer_count":1,"score":2,"last_activity_date":1663728268,"creation_date":1663615152,"question_id":73778318,"body_markdown":"Using the apache commons library for parsing CSV data I encounter an error \r\n```\r\njava.lang.IllegalStateException: IOException reading next record: java.io.IOException: \r\n(line 46196) invalid char between encapsulated token and delimiter\r\n```\r\nI am using the setup as following:\r\n\r\n```\r\ntry {\r\n    File csvInput = getLatestFilefromDir(CSV_PATH);\r\n    reader = new FileReader(csvInput);\r\n\r\n    final CSVFormat csvFormat = CSVFormat.Builder.create()\r\n            .setHeader(HEADERS)\r\n            .setDelimiter(&#39;;&#39;)\r\n            .setQuote(&#39;&quot;&#39;)\r\n            .setEscape(&#39;\\\\&#39;)\r\n            .setSkipHeaderRecord(true)\r\n            .build();\r\n\r\n    Iterable&lt;CSVRecord&gt; csvRecords = csvFormat.parse(reader);\r\n\r\n    for (CSVRecord csvRecord : csvRecords) {\r\n        // processing\r\n    }\r\n} catch (Exception e) {\r\n    log.error(&quot;Error retrieving CSV data.&quot;);\r\n    e.printStackTrace();\r\n}\r\n```\r\nAs the error suggest the data has some defect, invalid entry :\r\n```\r\n&quot;TABLE_NAME&quot;;&quot;ATTRIBUTE&quot;;&quot;VALUE&quot;\r\n&quot;SWAP_LEG_TYPE&quot;;&quot;SWAP_LEG_TYPE_DESC&quot;;&quot;The payments (PAY or RECEIVE) of this \\&quot;Leg\\&quot; are based on the yield linked to a specific equity or an index. (or to the actual market price of the equity or the index ???)&quot;\r\n&quot;CNTPTY_TYPE&quot;;&quot;CNTPTY_TYPE_DESC&quot;;&quot;With Local Government we mean the so called \\Regional Governments or Local Authorities\\\\&quot; (RGLA) as defined by the EBA (European Banking Authority).\\&quot;&quot;\r\n```\r\n\r\nChanging the data is out of my control. Assuming the backslash is used for escaping quotes as in other example, in this case is used poorly and made it to the CSV file, hopefully there should be \r\n```\r\n...Authorities\\ \\&quot; (RGLA)...\r\n```\r\nIs there a way to replace string before parsing? \r\nOr what can I do to extend the ```CSVFormat``` builder to accept such data?\r\n\r\nI am thinking of simple method to read the whole input and just do the replace string ```\\\\``` for ```\\``` as this is the only instance in million lines, but that seems wrong.\r\n\r\n","title":"Resolving invalid data in CSV file with Apache Commons","body":"<p>Using the apache commons library for parsing CSV data I encounter an error</p>\n<pre><code>java.lang.IllegalStateException: IOException reading next record: java.io.IOException: \n(line 46196) invalid char between encapsulated token and delimiter\n</code></pre>\n<p>I am using the setup as following:</p>\n<pre><code>try {\n    File csvInput = getLatestFilefromDir(CSV_PATH);\n    reader = new FileReader(csvInput);\n\n    final CSVFormat csvFormat = CSVFormat.Builder.create()\n            .setHeader(HEADERS)\n            .setDelimiter(';')\n            .setQuote('&quot;')\n            .setEscape('\\\\')\n            .setSkipHeaderRecord(true)\n            .build();\n\n    Iterable&lt;CSVRecord&gt; csvRecords = csvFormat.parse(reader);\n\n    for (CSVRecord csvRecord : csvRecords) {\n        // processing\n    }\n} catch (Exception e) {\n    log.error(&quot;Error retrieving CSV data.&quot;);\n    e.printStackTrace();\n}\n</code></pre>\n<p>As the error suggest the data has some defect, invalid entry :</p>\n<pre><code>&quot;TABLE_NAME&quot;;&quot;ATTRIBUTE&quot;;&quot;VALUE&quot;\n&quot;SWAP_LEG_TYPE&quot;;&quot;SWAP_LEG_TYPE_DESC&quot;;&quot;The payments (PAY or RECEIVE) of this \\&quot;Leg\\&quot; are based on the yield linked to a specific equity or an index. (or to the actual market price of the equity or the index ???)&quot;\n&quot;CNTPTY_TYPE&quot;;&quot;CNTPTY_TYPE_DESC&quot;;&quot;With Local Government we mean the so called \\Regional Governments or Local Authorities\\\\&quot; (RGLA) as defined by the EBA (European Banking Authority).\\&quot;&quot;\n</code></pre>\n<p>Changing the data is out of my control. Assuming the backslash is used for escaping quotes as in other example, in this case is used poorly and made it to the CSV file, hopefully there should be</p>\n<pre><code>...Authorities\\ \\&quot; (RGLA)...\n</code></pre>\n<p>Is there a way to replace string before parsing?\nOr what can I do to extend the <code>CSVFormat</code> builder to accept such data?</p>\n<p>I am thinking of simple method to read the whole input and just do the replace string <code>\\\\</code> for <code>\\</code> as this is the only instance in million lines, but that seems wrong.</p>\n"},{"tags":["java","json","jackson"],"comments":[{"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"score":0,"creation_date":1663593270,"post_id":73770831,"comment_id":130269437,"body_markdown":"Please edit your question and show the JSON you are trying to parse with this code.","body":"Please edit your question and show the JSON you are trying to parse with this code."}],"answers":[{"tags":[],"owner":{"account_id":16066054,"reputation":29,"user_id":11595665,"display_name":"Mishamba"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1663579710,"creation_date":1663579710,"answer_id":73771295,"question_id":73770831,"body_markdown":"I can&#39;t find here class of `jsonGet` variable. Maybe it&#39;s `JsonNode` class. Then `JsonNode.get(String fieldName)` method returns `JsonNode` object ([javadoc][1] for JsonNode). Then I think you should use `textValue()` method or smth similar. \r\n\r\nBut here can be another problem. Maybe you will get String object with value `&quot;null&quot;`. Then you will need to check for this condition (I&#39;m not sure about it).\r\n\r\n\r\n  [1]: https://fasterxml.github.io/jackson-databind/javadoc/2.7/com/fasterxml/jackson/databind/JsonNode.html","title":"Jackson ObjectMapper JSON check for null doesnt work","body":"<p>I can't find here class of <code>jsonGet</code> variable. Maybe it's <code>JsonNode</code> class. Then <code>JsonNode.get(String fieldName)</code> method returns <code>JsonNode</code> object (<a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.7/com/fasterxml/jackson/databind/JsonNode.html\" rel=\"nofollow noreferrer\">javadoc</a> for JsonNode). Then I think you should use <code>textValue()</code> method or smth similar.</p>\n<p>But here can be another problem. Maybe you will get String object with value <code>&quot;null&quot;</code>. Then you will need to check for this condition (I'm not sure about it).</p>\n"},{"tags":[],"owner":{"account_id":17001802,"reputation":55,"user_id":12299026,"display_name":"kuro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1663727835,"creation_date":1663727835,"answer_id":73794793,"question_id":73770831,"body_markdown":"Well there seem to be some kind of issue regarding getting the null value, so for now i&#39;ll just use check instance since the return type is NullNode for some reason\r\n```\r\nif(jsonGet.get(&quot;key1&quot;) instanceof NullNode){\r\nreturn false; //end program\r\n}\r\n```","title":"Jackson ObjectMapper JSON check for null doesnt work","body":"<p>Well there seem to be some kind of issue regarding getting the null value, so for now i'll just use check instance since the return type is NullNode for some reason</p>\n<pre><code>if(jsonGet.get(&quot;key1&quot;) instanceof NullNode){\nreturn false; //end program\n}\n</code></pre>\n"}],"owner":{"account_id":17001802,"reputation":55,"user_id":12299026,"display_name":"kuro"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":167,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":73794793,"answer_count":2,"score":-2,"last_activity_date":1663727835,"creation_date":1663577598,"question_id":73770831,"body_markdown":"Currently i&#39;m trying to check if the key value in my json file is null then i will return false, however it doesnt seem to work.\r\n\r\nThis is my null-checking code\r\n```\r\njsonGet = ObjectMapper().readTree(//json file);\r\nif(jsonGet.get(&quot;key1&quot;) == null){\r\nreturn false; //end program\r\n}\r\n//do something else\r\n```\r\nTho i set that key value in my json file like so, it also said &quot;key1 =&gt; null&quot; in my watch\r\n```\r\n &quot;key1&quot;: null,\r\n```\r\nIt somehow doesnt jump into the return false, dont really know what im doing wrong here","title":"Jackson ObjectMapper JSON check for null doesnt work","body":"<p>Currently i'm trying to check if the key value in my json file is null then i will return false, however it doesnt seem to work.</p>\n<p>This is my null-checking code</p>\n<pre><code>jsonGet = ObjectMapper().readTree(//json file);\nif(jsonGet.get(&quot;key1&quot;) == null){\nreturn false; //end program\n}\n//do something else\n</code></pre>\n<p>Tho i set that key value in my json file like so, it also said &quot;key1 =&gt; null&quot; in my watch</p>\n<pre><code> &quot;key1&quot;: null,\n</code></pre>\n<p>It somehow doesnt jump into the return false, dont really know what im doing wrong here</p>\n"},{"tags":["java","android","security"],"answers":[{"tags":[],"owner":{"account_id":10448235,"reputation":871,"user_id":7702686,"display_name":"Raza"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1663727730,"creation_date":1506342000,"answer_id":46405116,"question_id":39108572,"body_markdown":"    private final String ENCRYPTION_ALIAS = &quot;anEncryptionAlias&quot;\r\n\r\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\r\n        KeyPairGenerator generator = KeyPairGenerator.getInstance(KEY_ALGORITHM_RSA, AndroidKeyStore);\r\n        generator.initialize(new KeyGenParameterSpec.Builder(\r\n            ENCRYPTION_ALIAS,\r\n            KeyProperties.PURPOSE_SIGN | KeyProperties.PURPOSE_VERIFY)\r\n            .setDigests(\r\n                KeyProperties.DIGEST_SHA256,\r\n                KeyProperties.DIGEST_SHA512)\r\n            .build()\r\n        );\r\n        generator.generateKeyPair();\r\n    } else {\r\n        Calendar start = Calendar.getInstance();\r\n        Calendar end = Calendar.getInstance();\r\n        end.add(Calendar.YEAR, 1);\r\n        KeyPairGeneratorSpec spec = new KeyPairGeneratorSpec\r\n            .Builder(YourApplication.getInstance().getApplicationContext())\r\n            .setAlias(ENCRYPTION_ALIAS)\r\n            .setSubject(new X500Principal(&quot;CN=Your Company ,&quot; +\r\n                &quot; O=Your Organization&quot; +\r\n                &quot; C=Your Coountry&quot;))\r\n            .setSerialNumber(BigInteger.ONE)\r\n            .setStartDate(start.getTime())\r\n            .setEndDate(end.getTime())\r\n            .build();\r\n        KeyPairGenerator generator = KeyPairGenerator.getInstance(KEY_ALGORITHM_RSA, AndroidKeyStore);\r\n\r\n        generator.initialize(spec);\r\n        generator.generateKeyPair();\r\n    }","title":"How to use Android KeyStore API with API 18?","body":"<pre><code>private final String ENCRYPTION_ALIAS = &quot;anEncryptionAlias&quot;\n\nif (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\n    KeyPairGenerator generator = KeyPairGenerator.getInstance(KEY_ALGORITHM_RSA, AndroidKeyStore);\n    generator.initialize(new KeyGenParameterSpec.Builder(\n        ENCRYPTION_ALIAS,\n        KeyProperties.PURPOSE_SIGN | KeyProperties.PURPOSE_VERIFY)\n        .setDigests(\n            KeyProperties.DIGEST_SHA256,\n            KeyProperties.DIGEST_SHA512)\n        .build()\n    );\n    generator.generateKeyPair();\n} else {\n    Calendar start = Calendar.getInstance();\n    Calendar end = Calendar.getInstance();\n    end.add(Calendar.YEAR, 1);\n    KeyPairGeneratorSpec spec = new KeyPairGeneratorSpec\n        .Builder(YourApplication.getInstance().getApplicationContext())\n        .setAlias(ENCRYPTION_ALIAS)\n        .setSubject(new X500Principal(&quot;CN=Your Company ,&quot; +\n            &quot; O=Your Organization&quot; +\n            &quot; C=Your Coountry&quot;))\n        .setSerialNumber(BigInteger.ONE)\n        .setStartDate(start.getTime())\n        .setEndDate(end.getTime())\n        .build();\n    KeyPairGenerator generator = KeyPairGenerator.getInstance(KEY_ALGORITHM_RSA, AndroidKeyStore);\n\n    generator.initialize(spec);\n    generator.generateKeyPair();\n}\n</code></pre>\n"}],"owner":{"account_id":113847,"reputation":2769,"user_id":299648,"accept_rate":84,"display_name":"user299648"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13152,"favorite_count":0,"down_vote_count":1,"up_vote_count":20,"closed_date":1666907895,"answer_count":1,"score":19,"last_activity_date":1663727730,"creation_date":1471977888,"question_id":39108572,"body_markdown":"How do I get the equivalent code below when I&#39;m targeting API 18? Code below works only for API 23 and above. Also how secure would the API 18 code be, given that we can&#39;t use `KeyGenParameterSpec` and the API 18 code might use deprecated APIs? \r\n\r\n    KeyGenerator keyGenerator = KeyGenerator.getInstance(\r\n        KeyProperties.KEY_ALGORITHM_AES, &quot;AndroidKeyStore&quot;);\r\n\r\n    keyGenerator.init(new KeyGenParameterSpec.Builder(alias,\r\n        KeyProperties.PURPOSE_ENCRYPT | KeyProperties.PURPOSE_DECRYPT)\r\n        .setBlockModes(KeyProperties.BLOCK_MODE_CBC)\r\n        .setKeySize(256)\r\n        .setUserAuthenticationRequired(true)\r\n        .setUserAuthenticationValidityDurationSeconds(400)\r\n        .setRandomizedEncryptionRequired(false)\r\n        .setEncryptionPaddings(KeyProperties.ENCRYPTION_PADDING_PKCS7)\r\n        .build());\r\n\r\n    SecretKey key = keyGenerator.generateKey();","title":"How to use Android KeyStore API with API 18?","body":"<p>How do I get the equivalent code below when I'm targeting API 18? Code below works only for API 23 and above. Also how secure would the API 18 code be, given that we can't use <code>KeyGenParameterSpec</code> and the API 18 code might use deprecated APIs? </p>\n\n<pre><code>KeyGenerator keyGenerator = KeyGenerator.getInstance(\n    KeyProperties.KEY_ALGORITHM_AES, \"AndroidKeyStore\");\n\nkeyGenerator.init(new KeyGenParameterSpec.Builder(alias,\n    KeyProperties.PURPOSE_ENCRYPT | KeyProperties.PURPOSE_DECRYPT)\n    .setBlockModes(KeyProperties.BLOCK_MODE_CBC)\n    .setKeySize(256)\n    .setUserAuthenticationRequired(true)\n    .setUserAuthenticationValidityDurationSeconds(400)\n    .setRandomizedEncryptionRequired(false)\n    .setEncryptionPaddings(KeyProperties.ENCRYPTION_PADDING_PKCS7)\n    .build());\n\nSecretKey key = keyGenerator.generateKey();\n</code></pre>\n"},{"tags":["java","spring-boot","mybatis"],"comments":[{"owner":{"account_id":2112240,"reputation":656,"user_id":1877295,"display_name":"Stefa"},"score":0,"creation_date":1663669897,"post_id":73785251,"comment_id":130289270,"body_markdown":"can you show the entire class?","body":"can you show the entire class?"},{"owner":{"account_id":2112240,"reputation":656,"user_id":1877295,"display_name":"Stefa"},"score":0,"creation_date":1663669978,"post_id":73785251,"comment_id":130289301,"body_markdown":"I see it now... its Usermanager.findALL() this one.","body":"I see it now... its Usermanager.findALL() this one."},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":1,"creation_date":1663670218,"post_id":73785251,"comment_id":130289378,"body_markdown":"There probably is an import of `Usermanager` and the variable ought to be written with a small letter starting: `usermanager`.","body":"There probably is an import of <code>Usermanager</code> and the variable ought to be written with a small letter starting: <code>usermanager</code>."},{"owner":{"account_id":24971864,"reputation":1,"user_id":18834955,"display_name":"OrionZinc"},"score":0,"creation_date":1663670907,"post_id":73785251,"comment_id":130289617,"body_markdown":"Thank you guys so much，let me check those problem.","body":"Thank you guys so much，let me check those problem."},{"owner":{"account_id":18824736,"reputation":241,"user_id":13729933,"display_name":"Zabon"},"score":0,"creation_date":1663672764,"post_id":73785251,"comment_id":130290193,"body_markdown":"Instead of using @Autowired you could also make your UserMapper final and instantiate it in the constructor of the class.","body":"Instead of using @Autowired you could also make your UserMapper final and instantiate it in the constructor of the class."}],"answers":[{"tags":[],"owner":{"account_id":24971864,"reputation":1,"user_id":18834955,"display_name":"OrionZinc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663727610,"creation_date":1663727610,"answer_id":73794777,"question_id":73785251,"body_markdown":"The reason of this problem is that I invoked the class instead of instance object. All methods in class is static, they are absolutely not able to be invoke. There are codes in my controller.\r\n\r\n```Java\r\n@Autowired\r\n    UserService userService;\r\n\r\n    @Autowired\r\n    UserMapper userMapper;\r\n\r\n    //查找\r\n    @GetMapping(&quot;/findall&quot;)\r\n    public List&lt;UserEntity&gt; findAll() {\r\n\t\t//used to be:return UserService.findAll();\r\n        return userService.findAll();\r\n    }\r\n\r\n    @GetMapping(&quot;/find/{name}&quot;)\r\n    public List&lt;UserEntity&gt; findByName(@PathVariable String name) {\r\n    \t//used to be:return UserService.findByName();\r\n        return userService.findByName();\r\n    }\r\n```","title":"Methods in service layer are recognized as static","body":"<p>The reason of this problem is that I invoked the class instead of instance object. All methods in class is static, they are absolutely not able to be invoke. There are codes in my controller.</p>\n<pre><code>@Autowired\n    UserService userService;\n\n    @Autowired\n    UserMapper userMapper;\n\n    //查找\n    @GetMapping(&quot;/findall&quot;)\n    public List&lt;UserEntity&gt; findAll() {\n        //used to be:return UserService.findAll();\n        return userService.findAll();\n    }\n\n    @GetMapping(&quot;/find/{name}&quot;)\n    public List&lt;UserEntity&gt; findByName(@PathVariable String name) {\n        //used to be:return UserService.findByName();\n        return userService.findByName();\n    }\n</code></pre>\n"}],"owner":{"account_id":24971864,"reputation":1,"user_id":18834955,"display_name":"OrionZinc"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":154,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1663727610,"creation_date":1663669785,"question_id":73785251,"body_markdown":"I built a Spring Boot application and added several methods in the service layer. Then I autowired their class into the Controller. IDEA shows an error that\r\n\r\n&gt; Non-static method &#39;findAll()&#39; cannot be referenced from a static\r\n&gt; context.\r\n\r\n```\r\n@Autowired\r\npublic UserMapper Usermanager;\r\n\r\n\r\npublic List&lt;UserEntity&gt; findAll() {\r\n    List&lt;UserEntity&gt; list = Usermanager.findALL();\r\n    return list;\r\n}\r\n\r\npublic List&lt;UserEntity&gt; findByName() {\r\n    List&lt;UserEntity&gt; list = Usermanager.findByName();\r\n    return list;\r\n}\r\n```\r\nStatic value is belong to the class instead of the object. For this reason if we use a static value NPE(NonePointerException) will happen.","title":"Methods in service layer are recognized as static","body":"<p>I built a Spring Boot application and added several methods in the service layer. Then I autowired their class into the Controller. IDEA shows an error that</p>\n<blockquote>\n<p>Non-static method 'findAll()' cannot be referenced from a static\ncontext.</p>\n</blockquote>\n<pre><code>@Autowired\npublic UserMapper Usermanager;\n\n\npublic List&lt;UserEntity&gt; findAll() {\n    List&lt;UserEntity&gt; list = Usermanager.findALL();\n    return list;\n}\n\npublic List&lt;UserEntity&gt; findByName() {\n    List&lt;UserEntity&gt; list = Usermanager.findByName();\n    return list;\n}\n</code></pre>\n<p>Static value is belong to the class instead of the object. For this reason if we use a static value NPE(NonePointerException) will happen.</p>\n"},{"tags":["java","scala","apache-spark"],"comments":[{"owner":{"account_id":7034556,"reputation":12325,"user_id":5389127,"display_name":"Ga&#235;l J"},"score":0,"creation_date":1663700802,"post_id":73791193,"comment_id":130300595,"body_markdown":"I recommend you read about serialization in Spark and why it&#39;s an important aspect.","body":"I recommend you read about serialization in Spark and why it&#39;s an important aspect."},{"owner":{"account_id":7034556,"reputation":12325,"user_id":5389127,"display_name":"Ga&#235;l J"},"score":0,"creation_date":1663700847,"post_id":73791193,"comment_id":130300606,"body_markdown":"Then, to actually help you we will need more details like the complete stack trace and the actual code. With what you&#39;ve shown, there&#39;s no chance we can help you.","body":"Then, to actually help you we will need more details like the complete stack trace and the actual code. With what you&#39;ve shown, there&#39;s no chance we can help you."},{"owner":{"account_id":11474062,"reputation":11,"user_id":8410018,"display_name":"Kumar rajesh"},"score":0,"creation_date":1663727505,"post_id":73791193,"comment_id":130305562,"body_markdown":"I have added complete stacktrace. Can you check now?","body":"I have added complete stacktrace. Can you check now?"},{"owner":{"account_id":6652314,"reputation":1376,"user_id":5133905,"display_name":"Constantine"},"score":1,"creation_date":1663735555,"post_id":73791193,"comment_id":130306685,"body_markdown":"I think you are trying to access some non serializable object in your forEachPartition block. This can be your code or any dependency function that you are calling. You need to figure that out. Also like @Ga&#235;lJ mentioned, read about serialization in Spark.","body":"I think you are trying to access some non serializable object in your forEachPartition block. This can be your code or any dependency function that you are calling. You need to figure that out. Also like @Ga&#235;lJ mentioned, read about serialization in Spark."},{"owner":{"account_id":7034556,"reputation":12325,"user_id":5389127,"display_name":"Ga&#235;l J"},"score":0,"creation_date":1663739094,"post_id":73791193,"comment_id":130307283,"body_markdown":"Down the stack trace, somewhere you should have more clue as to which class is not serializable.","body":"Down the stack trace, somewhere you should have more clue as to which class is not serializable."}],"owner":{"account_id":11474062,"reputation":11,"user_id":8410018,"display_name":"Kumar rajesh"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":148,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1663727469,"creation_date":1663698646,"question_id":73791193,"body_markdown":"I have dataset with one column (let say: empId) which can have large number of rows(18k-20k or more) and \r\nI am trying to use \r\n\r\n    Dataset&lt;Row&gt; allEmpIds=inputData;\r\n        allEmpIds.repartition(100).foreachPartition(rootPartition -&gt; {\r\n            if (!rootPartition.hasNext()) {\r\n                return;\r\n            }\r\n            rootPartition.forEachRemaining(row -&gt; {\r\n            ....code to generate report for each empIds\r\n           });\r\n\r\nBut this is throwing error \r\n\r\n    \r\norg.apache.spark.SparkException: Task not serializable\r\n\r\n\tat org.apache.spark.util.ClosureCleaner$.ensureSerializable(ClosureCleaner.scala:416)\r\n\tat org.apache.spark.util.ClosureCleaner$.clean(ClosureCleaner.scala:406)\r\n\tat org.apache.spark.util.ClosureCleaner$.clean(ClosureCleaner.scala:163)\r\n\tat org.apache.spark.SparkContext.clean(SparkContext.scala:2332)\r\n\tat org.apache.spark.rdd.RDD.$anonfun$foreachPartition$1(RDD.scala:979)\r\n\tat org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:151)\r\n\tat org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:112)\r\n\tat org.apache.spark.rdd.RDD.withScope(RDD.scala:385)\r\n\tat org.apache.spark.rdd.RDD.foreachPartition(RDD.scala:978)\r\n\tat org.apache.spark.sql.Dataset.$anonfun$foreachPartition$1(Dataset.scala:2741)\r\n\tat scala.runtime.java8.JFunction0$mcV$sp.apply(JFunction0$mcV$sp.java:23)\r\n\tat org.apache.spark.sql.Dataset.$anonfun$withNewRDDExecutionId$1(Dataset.scala:3354)\r\n\tat org.apache.spark.sql.execution.SQLExecution$.$anonfun$withNewExecutionId$1(SQLExecution.scala:80)\r\n\tat org.apache.spark.sql.execution.SQLExecution$.withSQLConfPropagated(SQLExecution.scala:127)\r\n\tat org.apache.spark.sql.execution.SQLExecution$.withNewExecutionId(SQLExecution.scala:75)\r\n\tat org.apache.spark.sql.Dataset.withNewRDDExecutionId(Dataset.scala:3350)\r\n\tat org.apache.spark.sql.Dataset.foreachPartition(Dataset.scala:2741)\r\n\tat org.apache.spark.sql.Dataset.foreachPartition(Dataset.scala:2752)\r\n\r\nI am using repartition to run spark job in parallel for faster computation as for each empId I have to some computations which is time consuming.\r\nCan someone help here?\r\n\r\nThanks\r\n\r\n\r\n","title":"Efficient way to use forEachPartition in Apache Spark in Java","body":"<p>I have dataset with one column (let say: empId) which can have large number of rows(18k-20k or more) and\nI am trying to use</p>\n<pre><code>Dataset&lt;Row&gt; allEmpIds=inputData;\n    allEmpIds.repartition(100).foreachPartition(rootPartition -&gt; {\n        if (!rootPartition.hasNext()) {\n            return;\n        }\n        rootPartition.forEachRemaining(row -&gt; {\n        ....code to generate report for each empIds\n       });\n</code></pre>\n<p>But this is throwing error</p>\n<p>org.apache.spark.SparkException: Task not serializable</p>\n<pre><code>at org.apache.spark.util.ClosureCleaner$.ensureSerializable(ClosureCleaner.scala:416)\nat org.apache.spark.util.ClosureCleaner$.clean(ClosureCleaner.scala:406)\nat org.apache.spark.util.ClosureCleaner$.clean(ClosureCleaner.scala:163)\nat org.apache.spark.SparkContext.clean(SparkContext.scala:2332)\nat org.apache.spark.rdd.RDD.$anonfun$foreachPartition$1(RDD.scala:979)\nat org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:151)\nat org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:112)\nat org.apache.spark.rdd.RDD.withScope(RDD.scala:385)\nat org.apache.spark.rdd.RDD.foreachPartition(RDD.scala:978)\nat org.apache.spark.sql.Dataset.$anonfun$foreachPartition$1(Dataset.scala:2741)\nat scala.runtime.java8.JFunction0$mcV$sp.apply(JFunction0$mcV$sp.java:23)\nat org.apache.spark.sql.Dataset.$anonfun$withNewRDDExecutionId$1(Dataset.scala:3354)\nat org.apache.spark.sql.execution.SQLExecution$.$anonfun$withNewExecutionId$1(SQLExecution.scala:80)\nat org.apache.spark.sql.execution.SQLExecution$.withSQLConfPropagated(SQLExecution.scala:127)\nat org.apache.spark.sql.execution.SQLExecution$.withNewExecutionId(SQLExecution.scala:75)\nat org.apache.spark.sql.Dataset.withNewRDDExecutionId(Dataset.scala:3350)\nat org.apache.spark.sql.Dataset.foreachPartition(Dataset.scala:2741)\nat org.apache.spark.sql.Dataset.foreachPartition(Dataset.scala:2752)\n</code></pre>\n<p>I am using repartition to run spark job in parallel for faster computation as for each empId I have to some computations which is time consuming.\nCan someone help here?</p>\n<p>Thanks</p>\n"},{"tags":["java","javafx","scenebuilder"],"answers":[{"tags":[],"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1663719182,"creation_date":1663719182,"answer_id":73793781,"question_id":73793111,"body_markdown":"Make sure you are using the same version of JavaFX for everything. \r\n\r\nYour stack trace indicates that you are using `javafx.graphics@18.0.1` and `javafx.web@20-ea`, so different versions for the graphics core and the webview component.\r\n\r\nDon&#39;t use early access software (ea) unless you have a specific need for it and, if you do, ensure you are using all of the compatible components required for it. \r\n\r\nBut you don&#39;t need to use early access software here, instead, use `javafx.web@18.0.1`, and the same version for all other JavaFX components.\r\n\r\n----\r\n\r\nAs an FYI, the `ImageStorage.getInstance()` method was added [in this commit][1], for this [issue][2], which is only applied to JavaFX versions 19+, which is why the `20ea` software can try to use it but the `18.0.1` software does not supply it.   If you wanted to support the feature from the issue:\r\n\r\n&gt; JDK-8277572 ImageStorage should correctly handle MIME types for images encoded in data URIs\r\n\r\nthen use `19` as the version for all of your JavaFX dependencies. \r\n\r\n\r\n  [1]: https://github.com/openjdk/jfx/commit/f326e78ffdfcbbc9085bc50a38e0b4454b757157#diff-d4df6cf59a98a8167a8cd4b455266b6a84e75198841b8ef6a669c10c22f3048bR137\r\n  [2]: https://bugs.openjdk.org/browse/JDK-8277572","title":"JavaFX Webview NoSuchMethodError","body":"<p>Make sure you are using the same version of JavaFX for everything.</p>\n<p>Your stack trace indicates that you are using <code>javafx.graphics@18.0.1</code> and <code>javafx.web@20-ea</code>, so different versions for the graphics core and the webview component.</p>\n<p>Don't use early access software (ea) unless you have a specific need for it and, if you do, ensure you are using all of the compatible components required for it.</p>\n<p>But you don't need to use early access software here, instead, use <code>javafx.web@18.0.1</code>, and the same version for all other JavaFX components.</p>\n<hr />\n<p>As an FYI, the <code>ImageStorage.getInstance()</code> method was added <a href=\"https://github.com/openjdk/jfx/commit/f326e78ffdfcbbc9085bc50a38e0b4454b757157#diff-d4df6cf59a98a8167a8cd4b455266b6a84e75198841b8ef6a669c10c22f3048bR137\" rel=\"nofollow noreferrer\">in this commit</a>, for this <a href=\"https://bugs.openjdk.org/browse/JDK-8277572\" rel=\"nofollow noreferrer\">issue</a>, which is only applied to JavaFX versions 19+, which is why the <code>20ea</code> software can try to use it but the <code>18.0.1</code> software does not supply it.   If you wanted to support the feature from the issue:</p>\n<blockquote>\n<p>JDK-8277572 ImageStorage should correctly handle MIME types for images encoded in data URIs</p>\n</blockquote>\n<p>then use <code>19</code> as the version for all of your JavaFX dependencies.</p>\n"}],"owner":{"account_id":22335054,"reputation":13,"user_id":16555785,"display_name":"HaltPotato"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":189,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73793781,"answer_count":1,"score":0,"last_activity_date":1663719182,"creation_date":1663711615,"question_id":73793111,"body_markdown":"I have a JavaFX application (I&#39;m new to JavaFX) and in that application I have a WebView. There are no errors when I run the application until the webview loads the webpage. I have attempted to Google my way through the error the last three hours. I&#39;ve read that the heap might not be big enough, so I allocated more memory to the VM heap. I&#39;ve read that I have to specify the WebView module, which I also tried in VM arguments. I&#39;m using IntelliJ and have no other errors in the project. The following error repeats about 10-15 times after the webpage loads in my application. No crash&#39;s, WebView appears to be functional, I just want to know why I have so many errors in my terminal when I run this application. If I need to provide anymore information please let me know, and my apologies beforehand. Using Maeven as my package manager.\r\n\r\n**ERROR**\r\n\r\n    Exception in thread &quot;JavaFX Application Thread&quot; java.lang.NoSuchMethodError: &#39;com.sun.javafx.iio.ImageStorage com.sun.javafx.iio.ImageStorage.getInstance()&#39;\r\n\tat javafx.web@20-ea/com.sun.javafx.webkit.prism.WCImageDecoderImpl.loadFrames(WCImageDecoderImpl.java:179)\r\n\tat javafx.web@20-ea/com.sun.javafx.webkit.prism.WCImageDecoderImpl.loadFrames(WCImageDecoderImpl.java:192)\r\n\tat javafx.web@20-ea/com.sun.javafx.webkit.prism.WCImageDecoderImpl.addImageData(WCImageDecoderImpl.java:109)\r\n\tat javafx.web@20-ea/com.sun.webkit.network.URLLoaderBase.twkDidReceiveData(Native Method)\r\n\tat javafx.web@20-ea/com.sun.webkit.network.HTTP2Loader.notifyDidReceiveData(HTTP2Loader.java:566)\r\n\tat java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)\r\n\tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\r\n\tat java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)\r\n\tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)\r\n\tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\r\n\tat java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)\r\n\tat java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)\r\n\tat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\r\n\tat java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)\r\n\tat javafx.web@20-ea/com.sun.webkit.network.HTTP2Loader.lambda$didReceiveData$17(HTTP2Loader.java:549)\r\n\tat javafx.web@20-ea/com.sun.webkit.network.HTTP2Loader.lambda$callBackIfNotCanceled$10(HTTP2Loader.java:441)\r\n\tat javafx.graphics@18.0.1/com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:457)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n\tat javafx.graphics@18.0.1/com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:456)\r\n\tat javafx.graphics@18.0.1/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:96)\r\n\tat javafx.graphics@18.0.1/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\r\n\tat javafx.graphics@18.0.1/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\n\r\n\r\n***LoginApplication Class***\r\n\r\n    public class LoginApplication extends Application {\r\n    @Override\r\n    public void start(Stage stage) throws IOException {\r\n        FXMLLoader fxmlLoader = new FXMLLoader(LoginApplication.class.getResource(&quot;Login.fxml&quot;));\r\n        Scene scene = new Scene(fxmlLoader.load(), 1440, 900);\r\n        stage.setTitle(&quot;Login&quot;);\r\n        stage.setResizable(false);\r\n        //Humble urself\r\n        stage.setHeight(600);\r\n        stage.setWidth(1000);\r\n        stage.setScene(scene);\r\n        stage.show();\r\n        Repository repo = new Repository();\r\n    }\r\n\r\n***LoginController Class***\r\n\r\n    public class LoginController implements Initializable {\r\n    @FXML\r\n    private Label welcomeText;\r\n    @FXML\r\n    private TextField txtUsername;\r\n    @FXML\r\n    private TextField txtPassword;\r\n    @FXML\r\n    private Button btnLogin;\r\n    @FXML\r\n    private WebView webViewNews;\r\n    @FXML\r\n    private Button btnCreateAccount;\r\n    @FXML\r\n    private Text txtPrompt;\r\n    private WebEngine webEngine;\r\n\r\n    @FXML\r\n    protected void onLoginClicked() throws SQLException {\r\n        Repository repo = new Repository();\r\n        if(txtUsername.getText() != &quot;&quot;) {\r\n            if(txtPassword.getText() != &quot;&quot;) {\r\n                //Stop user input while query is processed\r\n                btnLogin.setDisable(true);\r\n                btnCreateAccount.setDisable(true);\r\n                txtPrompt.setText(&quot;Checking credentials... please wait.&quot;);\r\n\r\n                //Check query and do stuff...\r\n                if(repo.authenticateUser(txtUsername.getText(), txtPassword.getText())) {\r\n                    txtPrompt.setText(&quot;Login Success Welcome!&quot;);\r\n                    txtUsername.setVisible(false);\r\n                    txtPassword.setVisible(false);\r\n                    btnLogin.setVisible(false);\r\n                } else {\r\n                    txtPrompt.setText(&quot;Login Failed! Invalid credentials.&quot;);\r\n                    btnLogin.setDisable(false);\r\n                    btnCreateAccount.setDisable(false);\r\n                    txtPassword.clear();\r\n                }\r\n            } else txtPrompt.setText(&quot;Password blank! Please enter a password.&quot;);\r\n        } else txtPrompt.setText(&quot;Username blank! Please enter a username.&quot;);\r\n    }\r\n\r\n    @Override\r\n    public void initialize(URL url, ResourceBundle resourceBundle) {\r\n\r\n        webEngine = webViewNews.getEngine();\r\n        webEngine.load(&quot;https://www.forums.blacksunstudios.us/index.php?pages/hideNews/&quot;);\r\n    }\r\n","title":"JavaFX Webview NoSuchMethodError","body":"<p>I have a JavaFX application (I'm new to JavaFX) and in that application I have a WebView. There are no errors when I run the application until the webview loads the webpage. I have attempted to Google my way through the error the last three hours. I've read that the heap might not be big enough, so I allocated more memory to the VM heap. I've read that I have to specify the WebView module, which I also tried in VM arguments. I'm using IntelliJ and have no other errors in the project. The following error repeats about 10-15 times after the webpage loads in my application. No crash's, WebView appears to be functional, I just want to know why I have so many errors in my terminal when I run this application. If I need to provide anymore information please let me know, and my apologies beforehand. Using Maeven as my package manager.</p>\n<p><strong>ERROR</strong></p>\n<pre><code>Exception in thread &quot;JavaFX Application Thread&quot; java.lang.NoSuchMethodError: 'com.sun.javafx.iio.ImageStorage com.sun.javafx.iio.ImageStorage.getInstance()'\nat javafx.web@20-ea/com.sun.javafx.webkit.prism.WCImageDecoderImpl.loadFrames(WCImageDecoderImpl.java:179)\nat javafx.web@20-ea/com.sun.javafx.webkit.prism.WCImageDecoderImpl.loadFrames(WCImageDecoderImpl.java:192)\nat javafx.web@20-ea/com.sun.javafx.webkit.prism.WCImageDecoderImpl.addImageData(WCImageDecoderImpl.java:109)\nat javafx.web@20-ea/com.sun.webkit.network.URLLoaderBase.twkDidReceiveData(Native Method)\nat javafx.web@20-ea/com.sun.webkit.network.HTTP2Loader.notifyDidReceiveData(HTTP2Loader.java:566)\nat java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)\nat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\nat java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)\nat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)\nat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\nat java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)\nat java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)\nat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\nat java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)\nat javafx.web@20-ea/com.sun.webkit.network.HTTP2Loader.lambda$didReceiveData$17(HTTP2Loader.java:549)\nat javafx.web@20-ea/com.sun.webkit.network.HTTP2Loader.lambda$callBackIfNotCanceled$10(HTTP2Loader.java:441)\nat javafx.graphics@18.0.1/com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:457)\nat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\nat javafx.graphics@18.0.1/com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:456)\nat javafx.graphics@18.0.1/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:96)\nat javafx.graphics@18.0.1/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\nat javafx.graphics@18.0.1/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)\nat java.base/java.lang.Thread.run(Thread.java:833)\n</code></pre>\n<p><em><strong>LoginApplication Class</strong></em></p>\n<pre><code>public class LoginApplication extends Application {\n@Override\npublic void start(Stage stage) throws IOException {\n    FXMLLoader fxmlLoader = new FXMLLoader(LoginApplication.class.getResource(&quot;Login.fxml&quot;));\n    Scene scene = new Scene(fxmlLoader.load(), 1440, 900);\n    stage.setTitle(&quot;Login&quot;);\n    stage.setResizable(false);\n    //Humble urself\n    stage.setHeight(600);\n    stage.setWidth(1000);\n    stage.setScene(scene);\n    stage.show();\n    Repository repo = new Repository();\n}\n</code></pre>\n<p><em><strong>LoginController Class</strong></em></p>\n<pre><code>public class LoginController implements Initializable {\n@FXML\nprivate Label welcomeText;\n@FXML\nprivate TextField txtUsername;\n@FXML\nprivate TextField txtPassword;\n@FXML\nprivate Button btnLogin;\n@FXML\nprivate WebView webViewNews;\n@FXML\nprivate Button btnCreateAccount;\n@FXML\nprivate Text txtPrompt;\nprivate WebEngine webEngine;\n\n@FXML\nprotected void onLoginClicked() throws SQLException {\n    Repository repo = new Repository();\n    if(txtUsername.getText() != &quot;&quot;) {\n        if(txtPassword.getText() != &quot;&quot;) {\n            //Stop user input while query is processed\n            btnLogin.setDisable(true);\n            btnCreateAccount.setDisable(true);\n            txtPrompt.setText(&quot;Checking credentials... please wait.&quot;);\n\n            //Check query and do stuff...\n            if(repo.authenticateUser(txtUsername.getText(), txtPassword.getText())) {\n                txtPrompt.setText(&quot;Login Success Welcome!&quot;);\n                txtUsername.setVisible(false);\n                txtPassword.setVisible(false);\n                btnLogin.setVisible(false);\n            } else {\n                txtPrompt.setText(&quot;Login Failed! Invalid credentials.&quot;);\n                btnLogin.setDisable(false);\n                btnCreateAccount.setDisable(false);\n                txtPassword.clear();\n            }\n        } else txtPrompt.setText(&quot;Password blank! Please enter a password.&quot;);\n    } else txtPrompt.setText(&quot;Username blank! Please enter a username.&quot;);\n}\n\n@Override\npublic void initialize(URL url, ResourceBundle resourceBundle) {\n\n    webEngine = webViewNews.getEngine();\n    webEngine.load(&quot;https://www.forums.blacksunstudios.us/index.php?pages/hideNews/&quot;);\n}\n</code></pre>\n"},{"tags":["java","spring","jax-rs"],"comments":[{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1663339335,"post_id":73737121,"comment_id":130223332,"body_markdown":"Why don&#39;t you make ApiResponse class generic?","body":"Why don&#39;t you make ApiResponse class generic?"},{"owner":{"account_id":17912802,"reputation":887,"user_id":13014509,"display_name":"jawn"},"score":0,"creation_date":1663595110,"post_id":73737121,"comment_id":130270170,"body_markdown":"@PaulSamsotha I just switched it to generic and still get the &quot;ClassCastException: class org.apache.xerces.dom.ElementNSImpl cannot be cast to class com.blah&quot;","body":"@PaulSamsotha I just switched it to generic and still get the &quot;ClassCastException: class org.apache.xerces.dom.ElementNSImpl cannot be cast to class com.blah&quot;"},{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1663595913,"post_id":73737121,"comment_id":130270520,"body_markdown":"If you made it generic, you wouldn&#39;t have to cast anything.","body":"If you made it generic, you wouldn&#39;t have to cast anything."},{"owner":{"account_id":17912802,"reputation":887,"user_id":13014509,"display_name":"jawn"},"score":0,"creation_date":1663598220,"post_id":73737121,"comment_id":130271492,"body_markdown":"@PaulSamsotha I&#39;m not casting but I think in the background javax is attempting to, when I use above example and replace ? with the actual class like List&lt;ClassA&gt; it works, as soon as I make it generic/wildcard it has the casting issue","body":"@PaulSamsotha I&#39;m not casting but I think in the background javax is attempting to, when I use above example and replace ? with the actual class like List&lt;ClassA&gt; it works, as soon as I make it generic/wildcard it has the casting issue"},{"owner":{"account_id":17912802,"reputation":887,"user_id":13014509,"display_name":"jawn"},"score":0,"creation_date":1663600597,"post_id":73737121,"comment_id":130272461,"body_markdown":"in the above example if I simply make it List&lt;ClassA&gt; and do a .getClass on the setList() in the parent class it&#39;s of type ClassA and it works. If I make it generic &lt;T&gt; and pass in &lt;ClassA&gt; into the parent it comes back as class org.apache.xerces.dom.ElementNSImpl. So the parent class doesn&#39;t know to change it to ClassA which is what I&#39;m trying to figure out","body":"in the above example if I simply make it List&lt;ClassA&gt; and do a .getClass on the setList() in the parent class it&#39;s of type ClassA and it works. If I make it generic &lt;T&gt; and pass in &lt;ClassA&gt; into the parent it comes back as class org.apache.xerces.dom.ElementNSImpl. So the parent class doesn&#39;t know to change it to ClassA which is what I&#39;m trying to figure out"},{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1663623300,"post_id":73737121,"comment_id":130279556,"body_markdown":"Have you been able to do any JSON to POJO at all? Maybe the provider you&#39;re using doesn&#39;t support it. I would suggest switching to the Jackson JSON provider.","body":"Have you been able to do any JSON to POJO at all? Maybe the provider you&#39;re using doesn&#39;t support it. I would suggest switching to the Jackson JSON provider."},{"owner":{"account_id":17912802,"reputation":887,"user_id":13014509,"display_name":"jawn"},"score":0,"creation_date":1663717309,"post_id":73737121,"comment_id":130304303,"body_markdown":"Yes, I have it working as of now when I have the same redundant logic  in each response using jaxb annotations, seems like no matter what I did it would try to cast to that object type. I&#39;ve also updated the question and added generics, still same result in the end. I&#39;ll try it with jackson","body":"Yes, I have it working as of now when I have the same redundant logic  in each response using jaxb annotations, seems like no matter what I did it would try to cast to that object type. I&#39;ve also updated the question and added generics, still same result in the end. I&#39;ll try it with jackson"}],"owner":{"account_id":17912802,"reputation":887,"user_id":13014509,"display_name":"jawn"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":422,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1663717403,"creation_date":1663274097,"question_id":73737121,"body_markdown":"I&#39;m attempting to make a parent class for an api response that comes from a webservice. Each response looks the same and within the &quot;content&quot; of the response is the actual varying object (can be Class A, Class B, etc.). So json response would be similar to:\r\n\r\n    {content:{a:a,b:b,c:c}}\r\n\r\nI stripped down the classes so it&#39;s not cluttered\r\n\r\n**Parent Class**:\r\n\r\n    @XmlRootElement(name = &quot;&quot;)\r\n    @XmlAccessorType(XmlAccessType.FIELD)\r\n    \r\n    public class ApiResponse&lt;T&gt; {\r\n    \t\r\n    \tList&lt;T&gt; content;\r\n    \r\n    \tpublic List&lt;T&gt; getContent() {\r\n    \t\treturn content;\r\n    \t}\r\n    \r\n    \tpublic void setContent(List&lt;T&gt; content) {\r\n    \t\tthis.content = content;\r\n    \t}\r\n    \r\n    }\r\n\r\n**Child Class**:\r\n\r\n    @XmlRootElement(name = &quot;&quot;)\r\n    public class ClassA extends ApiResponse&lt;ClassA&gt; {\r\n        private String a;\r\n\t\tprivate String b;\r\n        private String b;\r\n        //getters and setters\r\n\r\n    \t\t @Override\r\n    \t\t    public void setContent(List&lt;ClassA&gt; content) { \r\n    \t\t\t super.content = content;\r\n    \t\t    }\r\n    }\r\n\r\nWhen I run this and hit the endpoint I get the error in the subject of the post. When I make ApiResponse to be List&lt;ClassA&gt; instead of List&lt;T&gt; and don&#39;t cast it works. I would like the parent class to be extended by a lot of other classes. Is there a better way to do this. If this is fine how can I resolve the cast error?","title":"java.lang.ClassCastException: class org.apache.xerces.dom.ElementNSImpl cannot be cast to class MyObject","body":"<p>I'm attempting to make a parent class for an api response that comes from a webservice. Each response looks the same and within the &quot;content&quot; of the response is the actual varying object (can be Class A, Class B, etc.). So json response would be similar to:</p>\n<pre><code>{content:{a:a,b:b,c:c}}\n</code></pre>\n<p>I stripped down the classes so it's not cluttered</p>\n<p><strong>Parent Class</strong>:</p>\n<pre><code>@XmlRootElement(name = &quot;&quot;)\n@XmlAccessorType(XmlAccessType.FIELD)\n\npublic class ApiResponse&lt;T&gt; {\n    \n    List&lt;T&gt; content;\n\n    public List&lt;T&gt; getContent() {\n        return content;\n    }\n\n    public void setContent(List&lt;T&gt; content) {\n        this.content = content;\n    }\n\n}\n</code></pre>\n<p><strong>Child Class</strong>:</p>\n<pre><code>@XmlRootElement(name = &quot;&quot;)\npublic class ClassA extends ApiResponse&lt;ClassA&gt; {\n    private String a;\n    private String b;\n    private String b;\n    //getters and setters\n\n         @Override\n            public void setContent(List&lt;ClassA&gt; content) { \n             super.content = content;\n            }\n}\n</code></pre>\n<p>When I run this and hit the endpoint I get the error in the subject of the post. When I make ApiResponse to be List instead of List and don't cast it works. I would like the parent class to be extended by a lot of other classes. Is there a better way to do this. If this is fine how can I resolve the cast error?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":25534785,"reputation":532,"user_id":19322069,"display_name":"access violation"},"score":1,"creation_date":1663716190,"post_id":73793468,"comment_id":130304164,"body_markdown":"What error are you getting and where?","body":"What error are you getting and where?"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1663719220,"post_id":73793468,"comment_id":130304558,"body_markdown":"I don&#39;t think you should make your test class extend your application class.  There&#39;s no &quot;is a&quot; relationship between the two classes.  And what would happen if you need to test with two separate objects of the class?  Instead, have a variable, either in each test method, or a field of the test class, that refers to the object you&#39;re going to test.","body":"I don&#39;t think you should make your test class extend your application class.  There&#39;s no &quot;is a&quot; relationship between the two classes.  And what would happen if you need to test with two separate objects of the class?  Instead, have a variable, either in each test method, or a field of the test class, that refers to the object you&#39;re going to test."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1663719600,"post_id":73793468,"comment_id":130304612,"body_markdown":"Also, if `BankAccountWithInterest` (which is what I assume you intended to call your application class) extends `BankAccount`, then you don&#39;t need to repeat the methods like `deposit` and `withdraw` that are presumably already in `BankAccount`.","body":"Also, if <code>BankAccountWithInterest</code> (which is what I assume you intended to call your application class) extends <code>BankAccount</code>, then you don&#39;t need to repeat the methods like <code>deposit</code> and <code>withdraw</code> that are presumably already in <code>BankAccount</code>."},{"owner":{"account_id":25534785,"reputation":532,"user_id":19322069,"display_name":"access violation"},"score":0,"creation_date":1663730507,"post_id":73793468,"comment_id":130305966,"body_markdown":"@DawoodibnKareem - the  actual class declaration for BankAccountInterest is shown (it&#39;s before the properly-formatted part) so at the moment it does not extend BankAccount.  Whether it was *supposed* to is another matter.","body":"@DawoodibnKareem - the  actual class declaration for BankAccountInterest is shown (it&#39;s before the properly-formatted part) so at the moment it does not extend BankAccount.  Whether it was <i>supposed</i> to is another matter."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1663730894,"post_id":73793468,"comment_id":130306020,"body_markdown":"Oh right.  I was sure I read the word &quot;extends&quot; there.  Yeah, that&#39;s a little strange.","body":"Oh right.  I was sure I read the word &quot;extends&quot; there.  Yeah, that&#39;s a little strange."}],"answers":[{"tags":[],"owner":{"account_id":25534785,"reputation":532,"user_id":19322069,"display_name":"access violation"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663716384,"creation_date":1663716384,"answer_id":73793567,"question_id":73793468,"body_markdown":"pabloAccount is declared to be of type BankAccount.\r\n\r\nA BankAccountInterest is not a BankAccount, therefore methods of BankAccountInterest are of no (ahem) interest.\r\n\r\nThe only place that you&#39;re going to find relevant methods are in the BankAccount class, or its superclasses, if any.\r\n\r\nYou have shown no code for the BankAccount class so it&#39;s hard to say more about it.\r\n","title":"Undeclared method in test class even though it&#39;s declared in original class","body":"<p>pabloAccount is declared to be of type BankAccount.</p>\n<p>A BankAccountInterest is not a BankAccount, therefore methods of BankAccountInterest are of no (ahem) interest.</p>\n<p>The only place that you're going to find relevant methods are in the BankAccount class, or its superclasses, if any.</p>\n<p>You have shown no code for the BankAccount class so it's hard to say more about it.</p>\n"}],"owner":{"account_id":26395890,"reputation":1,"user_id":20047026,"display_name":"dehydratedcrypto"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":700,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1663716384,"creation_date":1663715324,"question_id":73793468,"body_markdown":"This may be a dumb question to some of y&#39;all, but I&#39;m working on a problem where we need to create a bank account class and tester, and most of it works with the exception of the &quot;adding interest&quot; part of it. If you look at the code, the &quot;.withdraw&quot; and &quot;.deposit&quot; parts work on the test class, just not the &quot;.addInterest&quot;. I tried &quot;extend&quot; on the class to help it to read the method &quot;addInterest&quot; that I tried defining, but it didn&#39;t help any. Any help from y&#39;all is appreciated!\r\n\r\nHere is the original class - I sectioned off the interest part of it that I&#39;m having trouble with at the bottom:\r\n\r\n\r\npublic class BankAccountInterest\r\n    {  \r\n    private double balance;\r\n \r\n     /**\r\n         Constructs a bank account with a zero balance.\r\n      */\r\n    public BankAccountInterest()\r\n      {   \r\n         balance = 0;\r\n      }\r\n   \r\n      /**\r\n         Constructs a bank account with a given balance.\r\n         @param initialBalance the initial balance\r\n      */\r\n    public BankAccountInterest(double initialBalance)\r\n      {   \r\n         balance = initialBalance;\r\n      }\r\n \r\n      /**\r\n         Deposits money into the bank account.\r\n         @param amount the amount to deposit\r\n      */\r\n    public void deposit(double amount)\r\n      {  \r\n         balance = balance + amount;\r\n      }\r\n   \r\n      /**\r\n         Withdraws money from the bank account.\r\n         @param amount the amount to withdraw\r\n      */\r\n    public void withdraw(double amount)\r\n      {   \r\n         balance = balance - amount;\r\n      }\r\n   \r\n      /**\r\n         Gets the current balance of the bank account.\r\n         @return the current balance\r\n      */\r\n    public double getBalance()\r\n      {   \r\n         return balance;\r\n      }\r\n \r\n   --------------------------------------------------------\r\n  // Adds Interest to Bank Account\r\n    \r\n    public void addInterest(double interestRate)\r\n    {\r\n        balance = balance + (balance * interestRate);\r\n \r\n            \r\n    }\r\n    \r\n}\r\n\r\n-------- And here is the test class:\r\n\r\n\r\n    public class BankAccountWithInterestTester extends BankAccountInterest\r\n    {\r\n        public static void main(String[] args)\r\n        {\r\n    BankAccount pabloAccount = new BankAccount();\r\n             pabloAccount.deposit(10);\r\n             pabloAccount.withdraw(1);\r\n             pabloAccount.addInterest(.1);\r\n             System.out.println(&quot;Pablo&#39;s balance is: &quot; + pabloAccount.getBalance());\r\n    \r\n    }}\r\n\r\n   ","title":"Undeclared method in test class even though it&#39;s declared in original class","body":"<p>This may be a dumb question to some of y'all, but I'm working on a problem where we need to create a bank account class and tester, and most of it works with the exception of the &quot;adding interest&quot; part of it. If you look at the code, the &quot;.withdraw&quot; and &quot;.deposit&quot; parts work on the test class, just not the &quot;.addInterest&quot;. I tried &quot;extend&quot; on the class to help it to read the method &quot;addInterest&quot; that I tried defining, but it didn't help any. Any help from y'all is appreciated!</p>\n<p>Here is the original class - I sectioned off the interest part of it that I'm having trouble with at the bottom:</p>\n<p>public class BankAccountInterest\n{<br />\nprivate double balance;</p>\n<pre><code> /**\n     Constructs a bank account with a zero balance.\n  */\npublic BankAccountInterest()\n  {   \n     balance = 0;\n  }\n\n  /**\n     Constructs a bank account with a given balance.\n     @param initialBalance the initial balance\n  */\npublic BankAccountInterest(double initialBalance)\n  {   \n     balance = initialBalance;\n  }\n\n  /**\n     Deposits money into the bank account.\n     @param amount the amount to deposit\n  */\npublic void deposit(double amount)\n  {  \n     balance = balance + amount;\n  }\n\n  /**\n     Withdraws money from the bank account.\n     @param amount the amount to withdraw\n  */\npublic void withdraw(double amount)\n  {   \n     balance = balance - amount;\n  }\n\n  /**\n     Gets the current balance of the bank account.\n     @return the current balance\n  */\npublic double getBalance()\n  {   \n     return balance;\n  }\n</code></pre>\n<hr />\n<p>// Adds Interest to Bank Account</p>\n<pre><code>public void addInterest(double interestRate)\n{\n    balance = balance + (balance * interestRate);\n\n        \n}\n</code></pre>\n<p>}</p>\n<p>-------- And here is the test class:</p>\n<pre><code>public class BankAccountWithInterestTester extends BankAccountInterest\n{\n    public static void main(String[] args)\n    {\nBankAccount pabloAccount = new BankAccount();\n         pabloAccount.deposit(10);\n         pabloAccount.withdraw(1);\n         pabloAccount.addInterest(.1);\n         System.out.println(&quot;Pablo's balance is: &quot; + pabloAccount.getBalance());\n\n}}\n</code></pre>\n"},{"tags":["java","spring","spring-batch"],"comments":[{"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"score":0,"creation_date":1663592017,"post_id":73771801,"comment_id":130268993,"body_markdown":"Please share your code to be able to help you in an efficient way: https://stackoverflow.com/help/minimal-reproducible-example.","body":"Please share your code to be able to help you in an efficient way: <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">stackoverflow.com/help/minimal-reproducible-example</a>."},{"owner":{"account_id":26379007,"reputation":1,"user_id":20032554,"display_name":"vaibhav"},"score":0,"creation_date":1663594800,"post_id":73771801,"comment_id":130270041,"body_markdown":"@MahmoudBenHassine I have updated question with sample code.. I hope this will help.. Thank you. This code some time works and commit all data... Some time one of the partition fails.. Some times Data is not consistent in DB. One more observation, instead of reading one by one .. If i read all partition data at once and wrapper in object and pass it to processor, then it works","body":"@MahmoudBenHassine I have updated question with sample code.. I hope this will help.. Thank you. This code some time works and commit all data... Some time one of the partition fails.. Some times Data is not consistent in DB. One more observation, instead of reading one by one .. If i read all partition data at once and wrapper in object and pass it to processor, then it works"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1663595626,"post_id":73771801,"comment_id":130270397,"body_markdown":"Your `BatchProcessor` and `BatchItemWriter` don&#39;t need to be scoped. One thing I find curious (and propably dangerous) is that you are storing JPA managed entities in your `ExecutionContext` which gets serialized to DB and distributed over your network. Not sure if that is the wisest thing to do, especially when data grows this might (and will) lead to issues.","body":"Your <code>BatchProcessor</code> and <code>BatchItemWriter</code> don&#39;t need to be scoped. One thing I find curious (and propably dangerous) is that you are storing JPA managed entities in your <code>ExecutionContext</code> which gets serialized to DB and distributed over your network. Not sure if that is the wisest thing to do, especially when data grows this might (and will) lead to issues."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1663676758,"post_id":73771801,"comment_id":130291690,"body_markdown":"Fetch size has nothing to do with chunksize, that only concerns the number of records that are fetch when the JDBC resultset needs to obtain more records.","body":"Fetch size has nothing to do with chunksize, that only concerns the number of records that are fetch when the JDBC resultset needs to obtain more records."}],"answers":[{"tags":[],"owner":{"account_id":26317294,"reputation":210,"user_id":19979867,"display_name":"Leonardo Emmanuel de Azevedo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663582833,"creation_date":1663582833,"answer_id":73771897,"question_id":73771801,"body_markdown":"Spring batch is gonna process by chunks. If a chunk fails (this means at least one item failed to process), the transaction is gonna be rolled back.","title":"Spring Batch Transaction issue","body":"<p>Spring batch is gonna process by chunks. If a chunk fails (this means at least one item failed to process), the transaction is gonna be rolled back.</p>\n"},{"tags":[],"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663716156,"creation_date":1663716156,"answer_id":73793544,"question_id":73771801,"body_markdown":"The issue is with your item reader:\r\n\r\n- The implementation is not thread-safe, yet it is used in a multi-threaded step. You should synchronize the `read` method or wrap your reader in a `SynchronizedItemStreamReader`\r\n- The execution context is not safe to share between threads, and you seem to be sharing items between threads through the execution context. BTW, storing items in the execution context is not recommended even for single threaded cases, because the context will be persisted (possibly several times) during the job execution.\r\n","title":"Spring Batch Transaction issue","body":"<p>The issue is with your item reader:</p>\n<ul>\n<li>The implementation is not thread-safe, yet it is used in a multi-threaded step. You should synchronize the <code>read</code> method or wrap your reader in a <code>SynchronizedItemStreamReader</code></li>\n<li>The execution context is not safe to share between threads, and you seem to be sharing items between threads through the execution context. BTW, storing items in the execution context is not recommended even for single threaded cases, because the context will be persisted (possibly several times) during the job execution.</li>\n</ul>\n"}],"owner":{"account_id":26379007,"reputation":1,"user_id":20032554,"display_name":"vaibhav"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1066,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1663716156,"creation_date":1663582241,"question_id":73771801,"body_markdown":"I am implementing application using spring Batch. I am following ItemReader, processor, ItemWriter Approach. I have created Partitioner component which is partitioning Data. Through ItemReader I am reading Data and processing it.\r\nAfter processing I am writing back data in DB. Once job is finished, I observed there is some data missing in DB. Sometimes execution of the one partition fails. **Sometimes Job executes successfully.** \r\nSometimes I get exceptions. Its random.\r\n- &quot;java.lang.RuntimeException: java.lang.reflect.UndeclaredThrowableException\r\n- is mapped to a primary key column in the database. Updates are not allowed.\r\n- org.eclipse.persistence.exceptions.DatabaseException\r\nInternal Exception: java.sql.SQLException: Closed Resultset: getObject\r\n\r\nIs there any Thread synchronization or transaction, we need to maintain ? \r\n\r\nE.g.\r\n- Total no of records - 1000\r\n- chunk - 100\r\n- Partition1 - 500\r\n- Partition2 - 500\r\n\r\nThis scenario works fine without using partitioning or using MultiThreaded Step\r\n\r\n\r\n**Sample Code -: This code some times works and commit all data and some times fails.. sometimes I observed few data is not committed in DB (even commit count in BATCH_STEP_EXECUTION table is correct). It is kind of random.** \r\n\r\n\r\n```java\r\n@Configuration\r\n@EnableBatchProcessing\r\n@EnableTransactionManagement\r\n@EnableAspectJAutoProxy(proxyTargetClass = true)\r\npublic class BatchConfig {\r\n\r\n    @Autowired\r\n    private JobBuilderFactory jobBuilderFactory;\r\n\r\n    @Autowired\r\n    private StepBuilderFactory stepBuilderFactory;\r\n\r\n    @Bean\r\n    public SimpleJobLauncher jobLauncher(JobRepository jobRepository) {\r\n        SimpleJobLauncher launcher = new SimpleJobLauncher();\r\n        launcher.setJobRepository(jobRepository);\r\n        return launcher;\r\n    }\r\n\r\n  \r\n    @Bean(name = &quot;customerJob&quot;)\r\n    public Job prepareBatch1() {\r\n        return jobBuilderFactory.get(&quot;customerJob&quot;).incrementer(new RunIdIncrementer()).start(masterStep()).listener(listener())\r\n                .build();\r\n    }\r\n\r\n    @Bean\r\n    public Step masterStep() {\r\n        return stepBuilderFactory.get(&quot;masterStep&quot;).\r\n                partitioner(slaveStep().getName(), partitioner())\r\n                .partitionHandler(partitionHandler())\r\n                .build();\r\n    }\r\n\r\n    @Bean\r\n    public BatchListener listener() {\r\n        return new BatchListener();\r\n    }\r\n\r\n    @Bean\r\n    @JobScope\r\n    public BatchPartitioner partitioner() {\r\n        return new BatchPartitioner();\r\n    }\r\n\r\n    @Bean\r\n    @StepScope\r\n    public PartitionHandler partitionHandler() {\r\n        TaskExecutorPartitionHandler taskExecutorPartitionHandler = new TaskExecutorPartitionHandler();\r\n        taskExecutorPartitionHandler.setGridSize(2);\r\n        taskExecutorPartitionHandler.setTaskExecutor(taskExecutor());\r\n        taskExecutorPartitionHandler.setStep(slaveStep());\r\n        try {\r\n            taskExecutorPartitionHandler.afterPropertiesSet();\r\n        } catch (Exception e) {\r\n            \r\n        return taskExecutorPartitionHandler;\r\n    }\r\n\r\n    @Bean\r\n    @StepScope\r\n    public Step slaveStep() {\r\n        return stepBuilderFactory.get(&quot;slaveStep&quot;).&lt;Customer, CustomerWrapperDTO&gt;chunk(100)\r\n                .reader(getReader())\r\n                .processor(processor())\r\n                .writer(writer())\r\n                .build();\r\n    }\r\n\r\n    @Bean\r\n    @StepScope\r\n    public BatchWriter writer() {\r\n        return new BatchWriter();\r\n    }\r\n\r\n    @Bean\r\n    @StepScope\r\n    public BatchProcessor processor() {\r\n        return new BatchProcessor();\r\n    }\r\n\r\n    @Bean\r\n    @StepScope\r\n    public BatchReader getReader() {\r\n        return new BatchReader();\r\n    }\r\n\r\n    @Bean\r\n    public TaskExecutor taskExecutor() {\r\n        ThreadPoolTaskExecutor taskExecutor = new ThreadPoolTaskExecutor();\r\n        taskExecutor.setMaxPoolSize(Runtime.getRuntime().availableProcessors());\r\n        taskExecutor.setCorePoolSize(Runtime.getRuntime().availableProcessors());\r\n        taskExecutor.afterPropertiesSet();\r\n        return taskExecutor;\r\n    }\r\n}\r\n```    \r\n\r\n```java    \r\nclass CustomerWrapperDTO {\r\n    private Address address;\r\n    private Customer customer;\r\n    //setter getter address, customer\r\n    } \r\n```\r\n    \r\nEntity\r\n```java\r\nclass Customer {\r\n    String processStatus; // &quot;U&quot; : unprocessed, &quot;C&quot; : completed, &quot;F&quot; : Failed\r\n    }\r\n```\r\n\r\n```java    \r\npublic class BatchListener implements JobExecutionListener {\r\n\r\n    @Autowired\r\n    private CustomerRepo customerRepo;\r\n   \r\n    public BatchListener() {\r\n    }\r\n\r\n    @Override\r\n    public void beforeJob(JobExecution jobExecution) {\r\n      \r\n        List&lt;Customer&gt; customers;\r\n        try {\r\n            customers = customerRepo.getAllUnprocessedCustomer);\r\n        } catch (Exception e) {\r\n            throw new CustomerException(&quot;failed in BatchListener&quot;, e);\r\n        }\r\n        jobExecution.getExecutionContext().put(&quot;customers&quot;,customers);\r\n        \r\n    }\r\n\r\n    @Override\r\n    public void afterJob(JobExecution jobExecution) {\r\n        \r\n    }\r\n}\r\n```    \r\n```java\r\npublic class BatchPartitioner implements Partitioner {\r\n   \r\n    @Value(&quot;#{jobExecutionContext[customers]}&quot;)\r\n    private List&lt;Customer&gt; customers;\r\n\r\n    @Override\r\n    public Map&lt;String, ExecutionContext&gt; partition(int gridSize) {\r\n        \r\n        Map&lt;String, ExecutionContext&gt; result = new HashMap&lt;&gt;();\r\n        int size = customers.size() / gridSize;\r\n        List&lt;List&lt;Customer&gt;&gt; lists = IntStream.range(0, customers.size()).boxed()\r\n                .collect(Collectors.groupingBy(i -&gt; i / size,\r\n                        Collectors.mapping(customers::get, Collectors.toList())))\r\n                .values().stream().collect(Collectors.toList());\r\n        for (int i = 0; i &lt; gridSize; i++) {\r\n            ExecutionContext executionContext = new ExecutionContext();\r\n            executionContext.putString(&quot;name&quot;, &quot;Thread_&quot; + i);\r\n            executionContext.put(&quot;customers&quot;, lists.get(i));\r\n            result.put(&quot;partition&quot; + i, executionContext);\r\n        }\r\n        \r\n        return result;\r\n    }\r\n}\r\n```    \r\n```    \r\n@Component\r\n@StepScope\r\nClass BatchReader {\r\n\t\tprivate int index;\r\n\r\n\t\t@Value(&quot;#{stepExecutionContext[customers]}&quot;)\r\n\t\tprivate List&lt;Customer&gt; customers;\r\n\r\n\r\n\t\t@Override\r\n\t\tpublic Customer read() {\r\n\t\t\tCustomer Customer = null;\r\n\t\t\tif (index &lt; customers.size()) {\r\n\t\t\t\tCustomer = customers.get(index);\r\n\t\t\t\tindex++;\r\n\t\t\t} else {\r\n\t\t\t\tindex = 0;\r\n\t\t\t}\r\n\t\t\treturn Customer;\r\n\t\t}\r\n}\r\n```\r\n```java    \r\n@Component\r\n@StepScope\r\npublic class BatchProcessor implements ItemProcessor&lt;Customer, CustomerWrapperDTO&gt; {\r\n\r\n    public BatchProcessor() {\r\n    }\r\n\r\n    @Override\r\n    public BatchProcessor process(Customer item) {\r\n\tCustomerWrapperDTO customerWrapper = new CustomerWrapperDTO();\r\n\ttry {\r\n\t\r\n\t// logic to get address\r\n\tAddress address = // API call or some business logic.\r\n\titem.setAddress(address);\r\n\titem.setProcessStatus(&quot;C&quot;); // Completed\r\n\t}catch(Exception e) {\r\n\titem.setProcessStatus(&quot;F&quot;);// failed\r\n\t}\r\n\t//logic to get Address \r\n\tcustomerWrapper.setCustomer(item);\r\n     return customerWrapper;\r\n      \r\n    }\r\n}\r\n```    \r\n```java    \r\n@Component\r\n@StepScope\r\npublic class BatchWriter implements ItemWriter&lt;CustomerBatchWrapperDTO&gt; {\r\n \r\n\r\n    @Autowired\r\n    private CustmerRepo customerRepo;\r\n    @Autowired\r\n    private AddressRepo addessRepo;\r\n\r\n    public BatchWriter() {\r\n    }\r\n\r\n    @Override\r\n    public void write(List&lt;? extends CustomerBatchWrapperDTO&gt; items) {\r\n\r\n        items.forEach(item -&gt; {\r\n            try {\r\n                if(item.getCustomer() != null) {\r\n                    customerRepo.merge(item.getCustomer());\r\n                }\r\n\r\n                if(item.getAddress() != null) {\r\n                    addessRepo.save(item.getAddress());\r\n                }\r\n\r\n            } catch (Exception e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        });\r\n        \r\n    }\r\n}\r\n```\r\n\r\n","title":"Spring Batch Transaction issue","body":"<p>I am implementing application using spring Batch. I am following ItemReader, processor, ItemWriter Approach. I have created Partitioner component which is partitioning Data. Through ItemReader I am reading Data and processing it.\nAfter processing I am writing back data in DB. Once job is finished, I observed there is some data missing in DB. Sometimes execution of the one partition fails. <strong>Sometimes Job executes successfully.</strong>\nSometimes I get exceptions. Its random.</p>\n<ul>\n<li>&quot;java.lang.RuntimeException: java.lang.reflect.UndeclaredThrowableException</li>\n<li>is mapped to a primary key column in the database. Updates are not allowed.</li>\n<li>org.eclipse.persistence.exceptions.DatabaseException\nInternal Exception: java.sql.SQLException: Closed Resultset: getObject</li>\n</ul>\n<p>Is there any Thread synchronization or transaction, we need to maintain ?</p>\n<p>E.g.</p>\n<ul>\n<li>Total no of records - 1000</li>\n<li>chunk - 100</li>\n<li>Partition1 - 500</li>\n<li>Partition2 - 500</li>\n</ul>\n<p>This scenario works fine without using partitioning or using MultiThreaded Step</p>\n<p><strong>Sample Code -: This code some times works and commit all data and some times fails.. sometimes I observed few data is not committed in DB (even commit count in BATCH_STEP_EXECUTION table is correct). It is kind of random.</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableBatchProcessing\n@EnableTransactionManagement\n@EnableAspectJAutoProxy(proxyTargetClass = true)\npublic class BatchConfig {\n\n    @Autowired\n    private JobBuilderFactory jobBuilderFactory;\n\n    @Autowired\n    private StepBuilderFactory stepBuilderFactory;\n\n    @Bean\n    public SimpleJobLauncher jobLauncher(JobRepository jobRepository) {\n        SimpleJobLauncher launcher = new SimpleJobLauncher();\n        launcher.setJobRepository(jobRepository);\n        return launcher;\n    }\n\n  \n    @Bean(name = &quot;customerJob&quot;)\n    public Job prepareBatch1() {\n        return jobBuilderFactory.get(&quot;customerJob&quot;).incrementer(new RunIdIncrementer()).start(masterStep()).listener(listener())\n                .build();\n    }\n\n    @Bean\n    public Step masterStep() {\n        return stepBuilderFactory.get(&quot;masterStep&quot;).\n                partitioner(slaveStep().getName(), partitioner())\n                .partitionHandler(partitionHandler())\n                .build();\n    }\n\n    @Bean\n    public BatchListener listener() {\n        return new BatchListener();\n    }\n\n    @Bean\n    @JobScope\n    public BatchPartitioner partitioner() {\n        return new BatchPartitioner();\n    }\n\n    @Bean\n    @StepScope\n    public PartitionHandler partitionHandler() {\n        TaskExecutorPartitionHandler taskExecutorPartitionHandler = new TaskExecutorPartitionHandler();\n        taskExecutorPartitionHandler.setGridSize(2);\n        taskExecutorPartitionHandler.setTaskExecutor(taskExecutor());\n        taskExecutorPartitionHandler.setStep(slaveStep());\n        try {\n            taskExecutorPartitionHandler.afterPropertiesSet();\n        } catch (Exception e) {\n            \n        return taskExecutorPartitionHandler;\n    }\n\n    @Bean\n    @StepScope\n    public Step slaveStep() {\n        return stepBuilderFactory.get(&quot;slaveStep&quot;).&lt;Customer, CustomerWrapperDTO&gt;chunk(100)\n                .reader(getReader())\n                .processor(processor())\n                .writer(writer())\n                .build();\n    }\n\n    @Bean\n    @StepScope\n    public BatchWriter writer() {\n        return new BatchWriter();\n    }\n\n    @Bean\n    @StepScope\n    public BatchProcessor processor() {\n        return new BatchProcessor();\n    }\n\n    @Bean\n    @StepScope\n    public BatchReader getReader() {\n        return new BatchReader();\n    }\n\n    @Bean\n    public TaskExecutor taskExecutor() {\n        ThreadPoolTaskExecutor taskExecutor = new ThreadPoolTaskExecutor();\n        taskExecutor.setMaxPoolSize(Runtime.getRuntime().availableProcessors());\n        taskExecutor.setCorePoolSize(Runtime.getRuntime().availableProcessors());\n        taskExecutor.afterPropertiesSet();\n        return taskExecutor;\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>class CustomerWrapperDTO {\n    private Address address;\n    private Customer customer;\n    //setter getter address, customer\n    } \n</code></pre>\n<p>Entity</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Customer {\n    String processStatus; // &quot;U&quot; : unprocessed, &quot;C&quot; : completed, &quot;F&quot; : Failed\n    }\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class BatchListener implements JobExecutionListener {\n\n    @Autowired\n    private CustomerRepo customerRepo;\n   \n    public BatchListener() {\n    }\n\n    @Override\n    public void beforeJob(JobExecution jobExecution) {\n      \n        List&lt;Customer&gt; customers;\n        try {\n            customers = customerRepo.getAllUnprocessedCustomer);\n        } catch (Exception e) {\n            throw new CustomerException(&quot;failed in BatchListener&quot;, e);\n        }\n        jobExecution.getExecutionContext().put(&quot;customers&quot;,customers);\n        \n    }\n\n    @Override\n    public void afterJob(JobExecution jobExecution) {\n        \n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class BatchPartitioner implements Partitioner {\n   \n    @Value(&quot;#{jobExecutionContext[customers]}&quot;)\n    private List&lt;Customer&gt; customers;\n\n    @Override\n    public Map&lt;String, ExecutionContext&gt; partition(int gridSize) {\n        \n        Map&lt;String, ExecutionContext&gt; result = new HashMap&lt;&gt;();\n        int size = customers.size() / gridSize;\n        List&lt;List&lt;Customer&gt;&gt; lists = IntStream.range(0, customers.size()).boxed()\n                .collect(Collectors.groupingBy(i -&gt; i / size,\n                        Collectors.mapping(customers::get, Collectors.toList())))\n                .values().stream().collect(Collectors.toList());\n        for (int i = 0; i &lt; gridSize; i++) {\n            ExecutionContext executionContext = new ExecutionContext();\n            executionContext.putString(&quot;name&quot;, &quot;Thread_&quot; + i);\n            executionContext.put(&quot;customers&quot;, lists.get(i));\n            result.put(&quot;partition&quot; + i, executionContext);\n        }\n        \n        return result;\n    }\n}\n</code></pre>\n<pre><code>@Component\n@StepScope\nClass BatchReader {\n        private int index;\n\n        @Value(&quot;#{stepExecutionContext[customers]}&quot;)\n        private List&lt;Customer&gt; customers;\n\n\n        @Override\n        public Customer read() {\n            Customer Customer = null;\n            if (index &lt; customers.size()) {\n                Customer = customers.get(index);\n                index++;\n            } else {\n                index = 0;\n            }\n            return Customer;\n        }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\n@StepScope\npublic class BatchProcessor implements ItemProcessor&lt;Customer, CustomerWrapperDTO&gt; {\n\n    public BatchProcessor() {\n    }\n\n    @Override\n    public BatchProcessor process(Customer item) {\n    CustomerWrapperDTO customerWrapper = new CustomerWrapperDTO();\n    try {\n    \n    // logic to get address\n    Address address = // API call or some business logic.\n    item.setAddress(address);\n    item.setProcessStatus(&quot;C&quot;); // Completed\n    }catch(Exception e) {\n    item.setProcessStatus(&quot;F&quot;);// failed\n    }\n    //logic to get Address \n    customerWrapper.setCustomer(item);\n     return customerWrapper;\n      \n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\n@StepScope\npublic class BatchWriter implements ItemWriter&lt;CustomerBatchWrapperDTO&gt; {\n \n\n    @Autowired\n    private CustmerRepo customerRepo;\n    @Autowired\n    private AddressRepo addessRepo;\n\n    public BatchWriter() {\n    }\n\n    @Override\n    public void write(List&lt;? extends CustomerBatchWrapperDTO&gt; items) {\n\n        items.forEach(item -&gt; {\n            try {\n                if(item.getCustomer() != null) {\n                    customerRepo.merge(item.getCustomer());\n                }\n\n                if(item.getAddress() != null) {\n                    addessRepo.save(item.getAddress());\n                }\n\n            } catch (Exception e) {\n                throw new RuntimeException(e);\n            }\n        });\n        \n    }\n}\n</code></pre>\n"},{"tags":["java","android","mvvm","fragment","viewmodel"],"answers":[{"tags":[],"owner":{"account_id":8651403,"reputation":18,"user_id":6476956,"display_name":"Austin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663688431,"creation_date":1663688287,"answer_id":73789306,"question_id":73789113,"body_markdown":"You should pass a ViewModelProvider.AndroidViewModelFactory to ViewModelProvider. \r\n\r\nsee documentation here: https://developer.android.com/reference/android/arch/lifecycle/ViewModelProvider","title":"Cannot create an instance of class extends from ViewModel","body":"<p>You should pass a ViewModelProvider.AndroidViewModelFactory to ViewModelProvider.</p>\n<p>see documentation here: <a href=\"https://developer.android.com/reference/android/arch/lifecycle/ViewModelProvider\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/android/arch/lifecycle/ViewModelProvider</a></p>\n"},{"tags":[],"owner":{"account_id":22975398,"reputation":21,"user_id":17103099,"display_name":"dxlampro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663715383,"creation_date":1663715328,"answer_id":73793469,"question_id":73789113,"body_markdown":"I created class Fractory \r\n```\r\npublic class LoginModelFactory implements ViewModelProvider.Factory {\r\n\r\n    @NonNull\r\n    @Override\r\n    public &lt;T extends ViewModel&gt; T create(@NonNull Class&lt;T&gt; modelClass) {\r\n        if (modelClass.isAssignableFrom(LoginViewModel.class)) {\r\n            return (T) new LoginViewModel();\r\n        }\r\n        throw new IllegalArgumentException(&quot;Unknown ViewModel class&quot;);\r\n    }\r\n}\r\n```\r\nand then I create ViewModel in Fragment as under\r\n```\r\nmainViewModel = new ViewModelProvider(requireActivity(), new LoginModelFactory()).get(LoginViewModel.class);\r\n```\r\nit worked","title":"Cannot create an instance of class extends from ViewModel","body":"<p>I created class Fractory</p>\n<pre><code>public class LoginModelFactory implements ViewModelProvider.Factory {\n\n    @NonNull\n    @Override\n    public &lt;T extends ViewModel&gt; T create(@NonNull Class&lt;T&gt; modelClass) {\n        if (modelClass.isAssignableFrom(LoginViewModel.class)) {\n            return (T) new LoginViewModel();\n        }\n        throw new IllegalArgumentException(&quot;Unknown ViewModel class&quot;);\n    }\n}\n</code></pre>\n<p>and then I create ViewModel in Fragment as under</p>\n<pre><code>mainViewModel = new ViewModelProvider(requireActivity(), new LoginModelFactory()).get(LoginViewModel.class);\n</code></pre>\n<p>it worked</p>\n"}],"owner":{"account_id":22975398,"reputation":21,"user_id":17103099,"display_name":"dxlampro"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1663715383,"creation_date":1663687488,"question_id":73789113,"body_markdown":"i got this error and tried many different ways (from stackoverflow, github,etc) and most of it didn&#39;t work anymore,\r\ni hope to get help from the community.\r\nI use navigation component for project, i tried switching to the old way using fragmentmanger and all get the same results.\r\nProject using multi fragment and single activity\r\n\r\n```\r\nclass LoginViewModel extends AndroidViewModel {\r\n    public LoginViewModel(@NonNull Application application) {\r\n        super(application);\r\n    }\r\n}\r\n```\r\n---\r\n```\r\npublic class ScreenLogin extends Fragment {\r\n    FragmentLoginBinding viewLoginBinding;\r\n    private LoginViewModel mainViewModel;\r\n\r\n    @Nullable\r\n    @Override\r\n    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\r\n        viewLoginBinding = FragmentLoginBinding.inflate(getLayoutInflater());\r\n        mainViewModel = new ViewModelProvider(requireActivity()).get(LoginViewModel.class);\r\n        viewLoginBinding.btnLogin.setOnClickListener(v -&gt; {\r\n            mainViewModel.login(viewLoginBinding.username.getText().toString(), viewLoginBinding.password.getText().toString());\r\n        });\r\n        return viewLoginBinding.getRoot();\r\n    }\r\n}\r\n```\r\n---\r\nError as under\r\n```\r\njava.lang.RuntimeException: Unable to start activity ComponentInfo{com.dxlampro.appchat/com.dxlampro.appchat.Main}: java.lang.RuntimeException: Cannot create an instance of class JavaCode.Screen.Login.LoginViewModel\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2778)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2856)\r\n        at android.app.ActivityThread.-wrap11(Unknown Source:0)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1589)\r\n        at android.os.Handler.dispatchMessage(Handler.java:106)\r\n        at android.os.Looper.loop(Looper.java:164)\r\n        at android.app.ActivityThread.main(ActivityThread.java:6494)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:438)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:807)\r\n     Caused by: java.lang.RuntimeException: Cannot create an instance of class JavaCode.Screen.Login.LoginViewModel\r\n        at androidx.lifecycle.ViewModelProvider$AndroidViewModelFactory.create(ViewModelProvider.kt:316)\r\n        at androidx.lifecycle.ViewModelProvider$AndroidViewModelFactory.create(ViewModelProvider.kt:304)\r\n        at androidx.lifecycle.ViewModelProvider$AndroidViewModelFactory.create(ViewModelProvider.kt:278)\r\n        at androidx.lifecycle.SavedStateViewModelFactory.create(SavedStateViewModelFactory.kt:128)\r\n        at androidx.lifecycle.ViewModelProvider.get(ViewModelProvider.kt:187)\r\n        at androidx.lifecycle.ViewModelProvider.get(ViewModelProvider.kt:153)\r\n        at JavaCode.Screen.Login.ScreenLogin.onCreateView(ScreenLogin.java:34)\r\n        at androidx.fragment.app.Fragment.performCreateView(Fragment.java:3104)\r\n        at androidx.fragment.app.FragmentStateManager.createView(FragmentStateManager.java:524)\r\n        at androidx.fragment.app.FragmentStateManager.moveToExpectedState(FragmentStateManager.java:261)\r\n        at androidx.fragment.app.FragmentStore.moveToExpectedState(FragmentStore.java:113)\r\n        at androidx.fragment.app.FragmentManager.moveToState(FragmentManager.java:1424)\r\n        at androidx.fragment.app.FragmentManager.dispatchStateChange(FragmentManager.java:2968)\r\n        at androidx.fragment.app.FragmentManager.dispatchViewCreated(FragmentManager.java:2879)\r\n        at androidx.fragment.app.Fragment.performViewCreated(Fragment.java:3129)\r\n        at androidx.fragment.app.FragmentStateManager.createView(FragmentStateManager.java:552)\r\n        at androidx.fragment.app.FragmentStateManager.moveToExpectedState(FragmentStateManager.java:261)\r\n        at androidx.fragment.app.FragmentStore.moveToExpectedState(FragmentStore.java:113)\r\n        at androidx.fragment.app.FragmentManager.moveToState(FragmentManager.java:1424)\r\n        at androidx.fragment.app.FragmentManager.dispatchStateChange(FragmentManager.java:2968)\r\n        at androidx.fragment.app.FragmentManager.dispatchActivityCreated(FragmentManager.java:2886)\r\n        at androidx.fragment.app.FragmentController.dispatchActivityCreated(FragmentController.java:263)\r\n        at androidx.fragment.app.FragmentActivity.onStart(FragmentActivity.java:351)\r\n        at androidx.appcompat.app.AppCompatActivity.onStart(AppCompatActivity.java:246)\r\n        at android.app.Instrumentation.callActivityOnStart(Instrumentation.java:1334)\r\n        at android.app.Activity.performStart(Activity.java:7029)\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2741)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2856)&#160;\r\n        at android.app.ActivityThread.-wrap11(Unknown Source:0)&#160;\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1589)&#160;\r\n        at android.os.Handler.dispatchMessage(Handler.java:106)&#160;\r\n        at android.os.Looper.loop(Looper.java:164)&#160;\r\n        at android.app.ActivityThread.main(ActivityThread.java:6494)&#160;\r\n        at java.lang.reflect.Method.invoke(Native Method)&#160;\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:438)&#160;\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:807)&#160;\r\n     Caused by: java.lang.IllegalAccessException: java.lang.Class&lt;JavaCode.Screen.Login.LoginViewModel&gt; is not accessible from java.lang.Class&lt;androidx.lifecycle.ViewModelProvider$AndroidViewModelFactory&gt;\r\n        at java.lang.reflect.Constructor.newInstance0(Native Method)\r\n        at java.lang.reflect.Constructor.newInstance(Constructor.java:334)\r\n        at androidx.lifecycle.ViewModelProvider$AndroidViewModelFactory.create(ViewModelProvider.kt:312)\r\n        at androidx.lifecycle.ViewModelProvider$AndroidViewModelFactory.create(ViewModelProvider.kt:304)&#160;\r\n        at androidx.lifecycle.ViewModelProvider$AndroidViewModelFactory.create(ViewModelProvider.kt:278)&#160;\r\n        at androidx.lifecycle.SavedStateViewModelFactory.create(SavedStateViewModelFactory.kt:128)&#160;\r\n        at androidx.lifecycle.ViewModelProvider.get(ViewModelProvider.kt:187)&#160;\r\n        at androidx.lifecycle.ViewModelProvider.get(ViewModelProvider.kt:153)&#160;\r\n        at JavaCode.Screen.Login.ScreenLogin.onCreateView(ScreenLogin.java:34)&#160;\r\n        at androidx.fragment.app.Fragment.performCreateView(Fragment.java:3104)&#160;\r\n        at androidx.fragment.app.FragmentStateManager.createView(FragmentStateManager.java:524)&#160;\r\n        at androidx.fragment.app.FragmentStateManager.moveToExpectedState(FragmentStateManager.java:261)&#160;\r\n        at androidx.fragment.app.FragmentStore.moveToExpectedState(FragmentStore.java:113)&#160;\r\n        at androidx.fragment.app.FragmentManager.moveToState(FragmentManager.java:1424)&#160;\r\n        at androidx.fragment.app.FragmentManager.dispatchStateChange(FragmentManager.java:2968)&#160;\r\n        at androidx.fragment.app.FragmentManager.dispatchViewCreated(FragmentManager.java:2879)&#160;\r\n        at androidx.fragment.app.Fragment.performViewCreated(Fragment.java:3129)&#160;\r\n        at androidx.fragment.app.FragmentStateManager.createView(FragmentStateManager.java:552)&#160;\r\n        at androidx.fragment.app.FragmentStateManager.moveToExpectedState(FragmentStateManager.java:261)&#160;\r\n        at androidx.fragment.app.FragmentStore.moveToExpectedState(FragmentStore.java:113)&#160;\r\n        at androidx.fragment.app.FragmentManager.moveToState(FragmentManager.java:1424)&#160;\r\n        at androidx.fragment.app.FragmentManager.dispatchStateChange(FragmentManager.java:2968)&#160;\r\n        at androidx.fragment.app.FragmentManager.dispatchActivityCreated(FragmentManager.java:2886)&#160;\r\n        at androidx.fragment.app.FragmentController.dispatchActivityCreated(FragmentController.java:263)&#160;\r\n        at androidx.fragment.app.FragmentActivity.onStart(FragmentActivity.java:351)&#160;\r\n        at androidx.appcompat.app.AppCompatActivity.onStart(AppCompatActivity.java:246)&#160;\r\n        at android.app.Instrumentation.callActivityOnStart(Instrumentation.java:1334)&#160;\r\n        at android.app.Activity.performStart(Activity.java:7029)&#160;\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2741)&#160;\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2856)&#160;\r\n        at android.app.ActivityThread.-wrap11(Unknown Source:0)&#160;\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1589)&#160;\r\n        at android.os.Handler.dispatchMessage(Handler.java:106)&#160;\r\n        at android.os.Looper.loop(Looper.java:164)&#160;\r\n        at android.app.ActivityThread.main(ActivityThread.java:6494)&#160;\r\n        at java.lang.reflect.Method.invoke(Native Method)&#160;\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:438)&#160;\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:807)&#160;\r\n```","title":"Cannot create an instance of class extends from ViewModel","body":"<p>i got this error and tried many different ways (from stackoverflow, github,etc) and most of it didn't work anymore,\ni hope to get help from the community.\nI use navigation component for project, i tried switching to the old way using fragmentmanger and all get the same results.\nProject using multi fragment and single activity</p>\n<pre><code>class LoginViewModel extends AndroidViewModel {\n    public LoginViewModel(@NonNull Application application) {\n        super(application);\n    }\n}\n</code></pre>\n<hr />\n<pre><code>public class ScreenLogin extends Fragment {\n    FragmentLoginBinding viewLoginBinding;\n    private LoginViewModel mainViewModel;\n\n    @Nullable\n    @Override\n    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\n        viewLoginBinding = FragmentLoginBinding.inflate(getLayoutInflater());\n        mainViewModel = new ViewModelProvider(requireActivity()).get(LoginViewModel.class);\n        viewLoginBinding.btnLogin.setOnClickListener(v -&gt; {\n            mainViewModel.login(viewLoginBinding.username.getText().toString(), viewLoginBinding.password.getText().toString());\n        });\n        return viewLoginBinding.getRoot();\n    }\n}\n</code></pre>\n<hr />\n<p>Error as under</p>\n<pre><code>java.lang.RuntimeException: Unable to start activity ComponentInfo{com.dxlampro.appchat/com.dxlampro.appchat.Main}: java.lang.RuntimeException: Cannot create an instance of class JavaCode.Screen.Login.LoginViewModel\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2778)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2856)\n        at android.app.ActivityThread.-wrap11(Unknown Source:0)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1589)\n        at android.os.Handler.dispatchMessage(Handler.java:106)\n        at android.os.Looper.loop(Looper.java:164)\n        at android.app.ActivityThread.main(ActivityThread.java:6494)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:438)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:807)\n     Caused by: java.lang.RuntimeException: Cannot create an instance of class JavaCode.Screen.Login.LoginViewModel\n        at androidx.lifecycle.ViewModelProvider$AndroidViewModelFactory.create(ViewModelProvider.kt:316)\n        at androidx.lifecycle.ViewModelProvider$AndroidViewModelFactory.create(ViewModelProvider.kt:304)\n        at androidx.lifecycle.ViewModelProvider$AndroidViewModelFactory.create(ViewModelProvider.kt:278)\n        at androidx.lifecycle.SavedStateViewModelFactory.create(SavedStateViewModelFactory.kt:128)\n        at androidx.lifecycle.ViewModelProvider.get(ViewModelProvider.kt:187)\n        at androidx.lifecycle.ViewModelProvider.get(ViewModelProvider.kt:153)\n        at JavaCode.Screen.Login.ScreenLogin.onCreateView(ScreenLogin.java:34)\n        at androidx.fragment.app.Fragment.performCreateView(Fragment.java:3104)\n        at androidx.fragment.app.FragmentStateManager.createView(FragmentStateManager.java:524)\n        at androidx.fragment.app.FragmentStateManager.moveToExpectedState(FragmentStateManager.java:261)\n        at androidx.fragment.app.FragmentStore.moveToExpectedState(FragmentStore.java:113)\n        at androidx.fragment.app.FragmentManager.moveToState(FragmentManager.java:1424)\n        at androidx.fragment.app.FragmentManager.dispatchStateChange(FragmentManager.java:2968)\n        at androidx.fragment.app.FragmentManager.dispatchViewCreated(FragmentManager.java:2879)\n        at androidx.fragment.app.Fragment.performViewCreated(Fragment.java:3129)\n        at androidx.fragment.app.FragmentStateManager.createView(FragmentStateManager.java:552)\n        at androidx.fragment.app.FragmentStateManager.moveToExpectedState(FragmentStateManager.java:261)\n        at androidx.fragment.app.FragmentStore.moveToExpectedState(FragmentStore.java:113)\n        at androidx.fragment.app.FragmentManager.moveToState(FragmentManager.java:1424)\n        at androidx.fragment.app.FragmentManager.dispatchStateChange(FragmentManager.java:2968)\n        at androidx.fragment.app.FragmentManager.dispatchActivityCreated(FragmentManager.java:2886)\n        at androidx.fragment.app.FragmentController.dispatchActivityCreated(FragmentController.java:263)\n        at androidx.fragment.app.FragmentActivity.onStart(FragmentActivity.java:351)\n        at androidx.appcompat.app.AppCompatActivity.onStart(AppCompatActivity.java:246)\n        at android.app.Instrumentation.callActivityOnStart(Instrumentation.java:1334)\n        at android.app.Activity.performStart(Activity.java:7029)\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2741)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2856) \n        at android.app.ActivityThread.-wrap11(Unknown Source:0) \n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1589) \n        at android.os.Handler.dispatchMessage(Handler.java:106) \n        at android.os.Looper.loop(Looper.java:164) \n        at android.app.ActivityThread.main(ActivityThread.java:6494) \n        at java.lang.reflect.Method.invoke(Native Method) \n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:438) \n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:807) \n     Caused by: java.lang.IllegalAccessException: java.lang.Class&lt;JavaCode.Screen.Login.LoginViewModel&gt; is not accessible from java.lang.Class&lt;androidx.lifecycle.ViewModelProvider$AndroidViewModelFactory&gt;\n        at java.lang.reflect.Constructor.newInstance0(Native Method)\n        at java.lang.reflect.Constructor.newInstance(Constructor.java:334)\n        at androidx.lifecycle.ViewModelProvider$AndroidViewModelFactory.create(ViewModelProvider.kt:312)\n        at androidx.lifecycle.ViewModelProvider$AndroidViewModelFactory.create(ViewModelProvider.kt:304) \n        at androidx.lifecycle.ViewModelProvider$AndroidViewModelFactory.create(ViewModelProvider.kt:278) \n        at androidx.lifecycle.SavedStateViewModelFactory.create(SavedStateViewModelFactory.kt:128) \n        at androidx.lifecycle.ViewModelProvider.get(ViewModelProvider.kt:187) \n        at androidx.lifecycle.ViewModelProvider.get(ViewModelProvider.kt:153) \n        at JavaCode.Screen.Login.ScreenLogin.onCreateView(ScreenLogin.java:34) \n        at androidx.fragment.app.Fragment.performCreateView(Fragment.java:3104) \n        at androidx.fragment.app.FragmentStateManager.createView(FragmentStateManager.java:524) \n        at androidx.fragment.app.FragmentStateManager.moveToExpectedState(FragmentStateManager.java:261) \n        at androidx.fragment.app.FragmentStore.moveToExpectedState(FragmentStore.java:113) \n        at androidx.fragment.app.FragmentManager.moveToState(FragmentManager.java:1424) \n        at androidx.fragment.app.FragmentManager.dispatchStateChange(FragmentManager.java:2968) \n        at androidx.fragment.app.FragmentManager.dispatchViewCreated(FragmentManager.java:2879) \n        at androidx.fragment.app.Fragment.performViewCreated(Fragment.java:3129) \n        at androidx.fragment.app.FragmentStateManager.createView(FragmentStateManager.java:552) \n        at androidx.fragment.app.FragmentStateManager.moveToExpectedState(FragmentStateManager.java:261) \n        at androidx.fragment.app.FragmentStore.moveToExpectedState(FragmentStore.java:113) \n        at androidx.fragment.app.FragmentManager.moveToState(FragmentManager.java:1424) \n        at androidx.fragment.app.FragmentManager.dispatchStateChange(FragmentManager.java:2968) \n        at androidx.fragment.app.FragmentManager.dispatchActivityCreated(FragmentManager.java:2886) \n        at androidx.fragment.app.FragmentController.dispatchActivityCreated(FragmentController.java:263) \n        at androidx.fragment.app.FragmentActivity.onStart(FragmentActivity.java:351) \n        at androidx.appcompat.app.AppCompatActivity.onStart(AppCompatActivity.java:246) \n        at android.app.Instrumentation.callActivityOnStart(Instrumentation.java:1334) \n        at android.app.Activity.performStart(Activity.java:7029) \n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2741) \n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2856) \n        at android.app.ActivityThread.-wrap11(Unknown Source:0) \n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1589) \n        at android.os.Handler.dispatchMessage(Handler.java:106) \n        at android.os.Looper.loop(Looper.java:164) \n        at android.app.ActivityThread.main(ActivityThread.java:6494) \n        at java.lang.reflect.Method.invoke(Native Method) \n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:438) \n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:807) \n</code></pre>\n"},{"tags":["java","multithreading","concurrency"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1663728054,"post_id":73793467,"comment_id":130305641,"body_markdown":"You are thinking about this the wrong way.  You don&#39;t want to wait &quot;for&quot; X time units.  You want to wait &quot;until&quot; a particular time OR &quot;until&quot; a particular event occurs.   It is not clear, but I think that the &quot;theoretical time unit&quot; you are talking about is actually *simulated* time ... in your simulation.  (Is that correct?)","body":"You are thinking about this the wrong way.  You don&#39;t want to wait &quot;for&quot; X time units.  You want to wait &quot;until&quot; a particular time OR &quot;until&quot; a particular event occurs.   It is not clear, but I think that the &quot;theoretical time unit&quot; you are talking about is actually <i>simulated</i> time ... in your simulation.  (Is that correct?)"},{"owner":{"account_id":19628191,"reputation":21,"user_id":14367085,"display_name":"goldilocks"},"score":0,"creation_date":1663846048,"post_id":73793467,"comment_id":130337826,"body_markdown":"@StephenC Thank you for your prompt response! And yes, that might be more what I&#39;m looking for. I basically just need some way of ignoring the time it takes for the code I&#39;ve written to do boiler plate stuff, and only care about the time it takes for a thread to access the resource.","body":"@StephenC Thank you for your prompt response! And yes, that might be more what I&#39;m looking for. I basically just need some way of ignoring the time it takes for the code I&#39;ve written to do boiler plate stuff, and only care about the time it takes for a thread to access the resource."}],"owner":{"account_id":19628191,"reputation":21,"user_id":14367085,"display_name":"goldilocks"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1663715289,"creation_date":1663715289,"question_id":73793467,"body_markdown":"Currently working on a university assessment, so I won&#39;t share specifics and *I&#39;m not asking for any explanation that will help me solve the main problem*. I&#39;ve already solved the problem, but my solution might be considered a little messy.\r\n\r\nBasically, we&#39;re working with concurrency and semaphores. There is some shared resource that up to `X (where X &gt; 1)` number of threads can access at a time and an algorithm which makes it a little more complicated than just acquiring and releasing access. Threads come at a certain time, use the resource for a certain time and then leave. We are to assume that **no time is wasted when arriving, accessing, releasing and leaving the resource**. The goal is to demonstrate that the algorithm we have written works by outputting the times a thread arrives, accesses the resource and leaves for each thread.\r\n\r\nI&#39;m using a semaphore with `X` number of permits to govern access. And it&#39;s all working fine, but I think the way I arrive at the expected output might be a bit janky. Here&#39;s something like what I have currently:\r\n```\r\n@Override\r\npublic void run() {\r\n    long alive = System.currentTimeMillis();\r\n    try { Thread.sleep(arrivalTime * 1000); }\r\n    catch (InterruptedException e) {} // no interrupts implemented\r\n    long actualArriveTime = System.currentTimeMillis() - alive;\r\n\r\n    boolean accessed = false;\r\n    while (!accessed) accessed = tryAcquire();\r\n    long actualAccessTime = System.currentTimeMillis() - alive;\r\n\r\n    try { Thread.sleep(useTime * 1000); }\r\n    catch (InterruptedException e) {} // no interrupts implemented\r\n    release();\r\n    long actualDepartTime = System.currentTimeMillis() - alive;\r\n\r\n    System.out.println(actualArriveTime);\r\n    System.out.println(actualAccessTime);\r\n    System.out.println(actualDepartTime);\r\n}\r\n```\r\nI do it this way because where the expected output might be:\r\n```\r\nThread  Arrival Access  Departure\r\nA       0       0       3\r\nB       0       0       5\r\nC       2       2       6\r\n...     ...     ...     ...\r\n```\r\nMy output looks something like:\r\n```\r\nThread  Arrival Access  Departure\r\nA       0       0       3006\r\nB       0       0       5008\r\nC       2       2       6012\r\n...     ...     ...     ...\r\n```\r\nI&#39;m essentially making the time period much larger so that if the computer takes a fews milliseconds to `acquire()`, for example, it doesn&#39;t affect the number much. Then I can round to the nearest second to get the expected output. My algorithm works, but there are issues with this. **A:** It&#39;s slow; **B:** With enough threads, the milliseconds of delay may build so that I round to the wrong number.\r\n\r\n**I need something more like this:**\r\n```\r\npublic static void main(String[] args) {\r\n    int clock = 0;\r\n    while (threadsWaiting) {\r\n        clock++;\r\n    }\r\n}\r\n\r\n@Override\r\npublic void run() {\r\n    Thread.waitUntil(clock == arrivalTime);\r\n\r\n    boolean accessed = false;\r\n    while (!accessed) accessed = tryAcquire();\r\n    int accessTime = clock;\r\n\r\n    int depatureTime = accessTime + useTime;\r\n    Thread.waitUntil(clock == departureTime);\r\n    release();\r\n\r\n    System.out.println(arrivalTime);\r\n    System.out.println(accessTime);\r\n    System.out.println(departureTime);\r\n}\r\n```\r\nHopefully that&#39;s clear. Any help is appreciated.\r\nThanks!","title":"Is there some neat way to make Threads (in Java) wait for theoretical time units as opposed to using Thread.sleep()?","body":"<p>Currently working on a university assessment, so I won't share specifics and <em>I'm not asking for any explanation that will help me solve the main problem</em>. I've already solved the problem, but my solution might be considered a little messy.</p>\n<p>Basically, we're working with concurrency and semaphores. There is some shared resource that up to <code>X (where X &gt; 1)</code> number of threads can access at a time and an algorithm which makes it a little more complicated than just acquiring and releasing access. Threads come at a certain time, use the resource for a certain time and then leave. We are to assume that <strong>no time is wasted when arriving, accessing, releasing and leaving the resource</strong>. The goal is to demonstrate that the algorithm we have written works by outputting the times a thread arrives, accesses the resource and leaves for each thread.</p>\n<p>I'm using a semaphore with <code>X</code> number of permits to govern access. And it's all working fine, but I think the way I arrive at the expected output might be a bit janky. Here's something like what I have currently:</p>\n<pre><code>@Override\npublic void run() {\n    long alive = System.currentTimeMillis();\n    try { Thread.sleep(arrivalTime * 1000); }\n    catch (InterruptedException e) {} // no interrupts implemented\n    long actualArriveTime = System.currentTimeMillis() - alive;\n\n    boolean accessed = false;\n    while (!accessed) accessed = tryAcquire();\n    long actualAccessTime = System.currentTimeMillis() - alive;\n\n    try { Thread.sleep(useTime * 1000); }\n    catch (InterruptedException e) {} // no interrupts implemented\n    release();\n    long actualDepartTime = System.currentTimeMillis() - alive;\n\n    System.out.println(actualArriveTime);\n    System.out.println(actualAccessTime);\n    System.out.println(actualDepartTime);\n}\n</code></pre>\n<p>I do it this way because where the expected output might be:</p>\n<pre><code>Thread  Arrival Access  Departure\nA       0       0       3\nB       0       0       5\nC       2       2       6\n...     ...     ...     ...\n</code></pre>\n<p>My output looks something like:</p>\n<pre><code>Thread  Arrival Access  Departure\nA       0       0       3006\nB       0       0       5008\nC       2       2       6012\n...     ...     ...     ...\n</code></pre>\n<p>I'm essentially making the time period much larger so that if the computer takes a fews milliseconds to <code>acquire()</code>, for example, it doesn't affect the number much. Then I can round to the nearest second to get the expected output. My algorithm works, but there are issues with this. <strong>A:</strong> It's slow; <strong>B:</strong> With enough threads, the milliseconds of delay may build so that I round to the wrong number.</p>\n<p><strong>I need something more like this:</strong></p>\n<pre><code>public static void main(String[] args) {\n    int clock = 0;\n    while (threadsWaiting) {\n        clock++;\n    }\n}\n\n@Override\npublic void run() {\n    Thread.waitUntil(clock == arrivalTime);\n\n    boolean accessed = false;\n    while (!accessed) accessed = tryAcquire();\n    int accessTime = clock;\n\n    int depatureTime = accessTime + useTime;\n    Thread.waitUntil(clock == departureTime);\n    release();\n\n    System.out.println(arrivalTime);\n    System.out.println(accessTime);\n    System.out.println(departureTime);\n}\n</code></pre>\n<p>Hopefully that's clear. Any help is appreciated.\nThanks!</p>\n"},{"tags":["java","intellij-idea","minecraft-fabric"],"answers":[{"tags":[],"owner":{"account_id":21091569,"reputation":71,"user_id":15503352,"display_name":"SD12"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1617084485,"creation_date":1617084485,"answer_id":66865592,"question_id":66849153,"body_markdown":"I was messing around with the files, to see if I can fix it and I found a solution :\r\n 1. Go to &quot;Run Configuration&quot;, press the arrow to see the options and tap &quot;Edit \r\n    Configurations&quot;\r\n    Go to &quot;Minecraft Client&quot; and press the button next to \r\n    &quot;net.fabricmc.devlaunchinjector.Main&quot;\r\n    search trough your external libraries and find &quot;net.fabricmc.devlauncherinjector.Main&quot;\r\n    (it must be right under net.fabricmc-api...) select it, and after that you should see \r\n    the &quot;Edit Configurations&quot; window. Press &quot;OK&quot;\r\n 2. If this doesn&#39;t work, right click the file and select &quot;Copy Full Path&quot;. Then go to \r\n    &quot;Edit Configurations&quot; window and paste it where it says \r\n    &quot;net.fabricmc.devlauncherinjector.Main&quot;\r\n 3. If the 2 option doesn&#39;t work either, close the project, copy the mod folder, and paste \r\n    it somewhere else(eg. Desktop, New Folder). And then open your IDE, go to open project \r\n    and select the copied folder. Press the &quot;Build.gradle&quot; file and select open as project\r\n    and &quot;Trust&quot; .It should now work. If it doesn&#39;t , unfortunately I don&#39;t know how to fix \r\n    it.","title":"Could not find or load main class net.fabricmc.devlaunchinjector.Main fabricmc","body":"<p>I was messing around with the files, to see if I can fix it and I found a solution :</p>\n<ol>\n<li>Go to &quot;Run Configuration&quot;, press the arrow to see the options and tap &quot;Edit\nConfigurations&quot;\nGo to &quot;Minecraft Client&quot; and press the button next to\n&quot;net.fabricmc.devlaunchinjector.Main&quot;\nsearch trough your external libraries and find &quot;net.fabricmc.devlauncherinjector.Main&quot;\n(it must be right under net.fabricmc-api...) select it, and after that you should see\nthe &quot;Edit Configurations&quot; window. Press &quot;OK&quot;</li>\n<li>If this doesn't work, right click the file and select &quot;Copy Full Path&quot;. Then go to\n&quot;Edit Configurations&quot; window and paste it where it says\n&quot;net.fabricmc.devlauncherinjector.Main&quot;</li>\n<li>If the 2 option doesn't work either, close the project, copy the mod folder, and paste\nit somewhere else(eg. Desktop, New Folder). And then open your IDE, go to open project\nand select the copied folder. Press the &quot;Build.gradle&quot; file and select open as project\nand &quot;Trust&quot; .It should now work. If it doesn't , unfortunately I don't know how to fix\nit.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":24946885,"reputation":1,"user_id":18812114,"display_name":"thecoopsyt"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1650019274,"creation_date":1650019274,"answer_id":71883021,"question_id":66849153,"body_markdown":"In Intellij gradle if \r\n\r\nthis doesn&#39;t work you can put\r\n\r\ndownloadAssets runClient into a gradle config and it will start a client and download the net.fabricmc.devlauncherinjector.Main\r\nthis allows you to use gradles built in Minecraft Client","title":"Could not find or load main class net.fabricmc.devlaunchinjector.Main fabricmc","body":"<p>In Intellij gradle if</p>\n<p>this doesn't work you can put</p>\n<p>downloadAssets runClient into a gradle config and it will start a client and download the net.fabricmc.devlauncherinjector.Main\nthis allows you to use gradles built in Minecraft Client</p>\n"},{"tags":[],"owner":{"account_id":9459607,"reputation":41,"user_id":19694447,"display_name":"Jeremy Rivera"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1663714782,"creation_date":1663714782,"answer_id":73793419,"question_id":66849153,"body_markdown":"thecoopsyt&#39;s answer worked for me.\r\n\r\nGo to  Gradle tab &gt; Reload All Gradle Projects\r\n\r\nWait a few mins for it to check and update your dependencies. \r\n\r\nAfter this I was able to return to testing my project in Intellij... had to fully compile and test before this fix.","title":"Could not find or load main class net.fabricmc.devlaunchinjector.Main fabricmc","body":"<p>thecoopsyt's answer worked for me.</p>\n<p>Go to  Gradle tab &gt; Reload All Gradle Projects</p>\n<p>Wait a few mins for it to check and update your dependencies.</p>\n<p>After this I was able to return to testing my project in Intellij... had to fully compile and test before this fix.</p>\n"}],"owner":{"account_id":21091569,"reputation":71,"user_id":15503352,"display_name":"SD12"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9772,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1663714782,"creation_date":1616995810,"question_id":66849153,"body_markdown":"I was programming a fabric minecraft mod in intellij and when I ran the code it said :\r\n\r\n    Could not find or load main class net.fabricmc.devlaunchinjector.Main\r\nWhen I compiled the code and tried it in minecraft it worked, but in intellij i couldn&#39;t run it.\r\n\r\n","title":"Could not find or load main class net.fabricmc.devlaunchinjector.Main fabricmc","body":"<p>I was programming a fabric minecraft mod in intellij and when I ran the code it said :</p>\n<pre><code>Could not find or load main class net.fabricmc.devlaunchinjector.Main\n</code></pre>\n<p>When I compiled the code and tried it in minecraft it worked, but in intellij i couldn't run it.</p>\n"},{"tags":["java","android","xml","background-image"],"answers":[{"tags":[],"owner":{"account_id":25553800,"reputation":1,"user_id":19337721,"display_name":"Cohenis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1663713252,"creation_date":1663713252,"answer_id":73793282,"question_id":73184633,"body_markdown":"The trick to solving it is that I made the priority in the XML file to the smallest image, then while trying to apply the full image to the screen background, I changed ImageView from Full to the smallest (which has the highest priority), in that way:\r\nfirst, I applied again the background to reset the applied former background with other options (half, 3/4...):\r\n\r\n    smallest_ImageView.setImageBitmap(bg_original);\r\n\r\nThen, changed from full (ImageView) to smallest (highest priority) at the setting part of the background image:\r\n\r\nSet App background:\r\n\r\n    smallest_ImageView.setImageBitmap(resized_bitmap);","title":"Programmatically change app background image (&gt;gallery, internal memory) by another image that doesn&#39;t cover the first one. Should have same priority","body":"<p>The trick to solving it is that I made the priority in the XML file to the smallest image, then while trying to apply the full image to the screen background, I changed ImageView from Full to the smallest (which has the highest priority), in that way:\nfirst, I applied again the background to reset the applied former background with other options (half, 3/4...):</p>\n<pre><code>smallest_ImageView.setImageBitmap(bg_original);\n</code></pre>\n<p>Then, changed from full (ImageView) to smallest (highest priority) at the setting part of the background image:</p>\n<p>Set App background:</p>\n<pre><code>smallest_ImageView.setImageBitmap(resized_bitmap);\n</code></pre>\n"}],"owner":{"account_id":25553800,"reputation":1,"user_id":19337721,"display_name":"Cohenis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":135,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73793282,"answer_count":1,"score":0,"last_activity_date":1663713252,"creation_date":1659281881,"question_id":73184633,"body_markdown":"I&#39;m completely new to android, but used tons of StackOverflow questions to almost finished my app.\r\n\r\nThe workflow in short: upload an image from the gallery, save it to internal storage using a specific path (meaning, the next uploaded image would be saved to the very same internal path location as well), then set it as background (above existing background from XML: `android:background=&quot;@drawable/bg_app_img` which works fine).\r\n\r\nThe problem is that trying to do so works well at the saving level and the setting \r\nof wallpaper from the saved image, but the app&#39;s background doesn&#39;t work ok.\r\nUsing the full window scale option to set image background, (if its `ImageView` is the last from the top in the XML file - highest priority, it would seem that) it couldn&#39;t be replaced by the current uploaded image.\r\nIf the `ImageView order is opposite, from highest scaled to lowest, it would be an image above a larger prior chosen image (see image below).\r\nSo the problem lies with the order of ImageView` in XML:\r\nThe third (from the top) is the full-scaled one, which is &quot;stuck&quot; and won&#39;t let other images be shown, while the second won&#39;t let the first be shown (as it would appear behind it + smaller). The XML probably defines the priority but is unnecessary in my case, and `after setting the background, even deleting the Image from internal storage does nothing to the currently shown last uploaded image pixels with their high priority`.\r\n\r\nTried:\r\n 1. Deleting `android:background=&quot;@drawable/bg_app_img` (a might be(?) solution to stretched wallpaper, didn&#39;t help).\r\n 2. Setting the `bg_app_img` again before setting the new image (in the same coding way) :\r\n\r\n        Uri uri_bg_temp = Uri.parse(&quot;android.resource://&quot; + getPackageName() + &quot;/&quot; + \r\n        R.drawable.bg_app_img);\r\n        full_ImageView.setImageURI(uri_bg_temp);\r\n        smaller_ImageView.setImageURI(yourUri);\r\n\r\ndidn&#39;t work, as it made the &quot;bg_app_img&quot; the background without the new image above it.\r\n\r\n 3. Switching the order of the 3 `ImageView` in the XML file made changes that didn&#39;t solve the problem as the smaller scaled one now can be above the larger size (according to priority in the XML file):\r\n\r\n [![Priority from smallest to full scaled image][1]][1]\r\n\r\n4. Deleting `android:scaleType=&quot;fitXY&quot;`. nah.\r\n5. Sync clean, rebuild all, and invalidate caches, didn&#39;t help as well.\r\n\r\nI don&#39;t want to change the XML permanently (or the current opening of the app?) using code, as the user might choose a half-scaled image, then a full one, then the half-scaled image, and if the half(height)-scaled would be deleted in any way and won&#39;t be shown-no good.\r\n\r\nWhat should happen: any new chosen image from the gallery, would appear in the background above the `drawable/bg_app_img` without any image chosen before from the gallery.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/sSj6S.png\r\n\r\nXML code:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:background=&quot;@drawable/bg_app_img&quot;\r\n    tools:contetx=&quot;.day1&quot;&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/textView6&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:layout_centerInParent=&quot;true&quot;\r\n        android:adjustViewBounds=&quot;true&quot;\r\n        android:text=&quot;Wallpaper preview, image size:&quot;\r\n        android:textAlignment=&quot;center&quot;\r\n        android:textColor=&quot;@color/black&quot;\r\n        android:textSize=&quot;25sp&quot;\r\n        android:translationZ=&quot;90dp&quot;\r\n        android:scaleType=&quot;center&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n    &lt;ImageView\r\n        android:id=&quot;@+id/image_view_smallest&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n        app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        android:adjustViewBounds=&quot;true&quot;\r\n        android:scaleType=&quot;center&quot;\r\n        app:layout_constraintWidth_percent=&quot;1&quot;\r\n        app:layout_constraintWidth_default=&quot;percent&quot;\r\n        app:layout_constraintHeight_percent=&quot;1&quot;\r\n        app:layout_constraintHeight_default=&quot;percent&quot; /&gt;\r\n\r\n    &lt;ImageView\r\n        android:id=&quot;@+id/image_view_smaller&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:scaleType=&quot;center&quot;\r\n        app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n        app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        android:adjustViewBounds=&quot;true&quot;\r\n        app:layout_constraintWidth_percent=&quot;1&quot;\r\n        app:layout_constraintWidth_default=&quot;percent&quot;\r\n        app:layout_constraintHeight_percent=&quot;1&quot;\r\n        app:layout_constraintHeight_default=&quot;percent&quot; /&gt;\r\n\r\n\r\n    &lt;ImageView\r\n        android:id=&quot;@+id/image_view&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n        app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        android:adjustViewBounds=&quot;true&quot;\r\n        app:layout_constraintWidth_percent=&quot;1&quot;\r\n        app:layout_constraintWidth_default=&quot;percent&quot;\r\n        app:layout_constraintHeight_percent=&quot;1&quot;\r\n        android:scaleType=&quot;fitXY&quot;\r\n        app:layout_constraintHeight_default=&quot;percent&quot; /&gt;\r\n\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/gallery&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_alignParentStart=&quot;true&quot;\r\n        android:layout_alignParentBottom=&quot;true&quot;\r\n        android:layout_centerHorizontal=&quot;true&quot;\r\n        android:backgroundTint=&quot;@color/white&quot;\r\n        android:text=&quot;Full&quot;\r\n\r\n        android:textAllCaps=&quot;false&quot;\r\n        android:textColor=&quot;@color/black&quot;\r\n        android:textSize=&quot;22sp&quot;\r\n        app:layout_constraintBottom_toTopOf=&quot;@+id/textView6&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.2&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/chose_smaller_img&quot; /&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/chose_smaller_img&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_centerHorizontal=&quot;true&quot;\r\n        android:backgroundTint=&quot;@color/white&quot;\r\n        android:text=&quot;3/4&quot;\r\n        android:textAllCaps=&quot;false&quot;\r\n        android:textColor=&quot;@color/black&quot;\r\n        android:textSize=&quot;22sp&quot;\r\n        app:layout_constraintBottom_toTopOf=&quot;@+id/gallery&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.8&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/chose_smallest_img&quot; /&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/chose_smallest_img&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_centerHorizontal=&quot;true&quot;\r\n        android:backgroundTint=&quot;@color/white&quot;\r\n        android:text=&quot;half&quot;\r\n        android:textAllCaps=&quot;false&quot;\r\n        android:textColor=&quot;@color/black&quot;\r\n        android:textSize=&quot;22sp&quot;\r\n        app:layout_constraintBottom_toTopOf=&quot;@+id/chose_smaller_img&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.5&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/textView6&quot; /&gt;\r\n\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\n\r\nJava class code:\r\n```\r\npackage com.my_app;\r\n\r\nimport androidx.activity.result.ActivityResultLauncher;\r\nimport androidx.activity.result.contract.ActivityResultContracts;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport android.app.WallpaperManager;\r\nimport android.content.Context;\r\nimport android.content.ContextWrapper;\r\nimport android.graphics.Bitmap;\r\nimport android.graphics.Matrix;\r\nimport android.graphics.Point;\r\nimport android.net.Uri;\r\nimport android.os.Bundle;\r\nimport android.provider.MediaStore;\r\nimport android.util.DisplayMetrics;\r\nimport android.view.Display;\r\nimport android.widget.Button;\r\nimport android.widget.ImageView;\r\nimport java.io.File;\r\nimport java.io.FileNotFoundException;\r\nimport java.io.FileOutputStream;\r\nimport java.io.IOException;\r\nimport java.util.Calendar;\r\n\r\npublic class day1 extends AppCompatActivity {\r\n    \r\n    //creating a mutable (changeable) bitmap:\r\n    int w = 1, h = 1;\r\n    Bitmap.Config conf = Bitmap.Config.ARGB_8888; // see other conf types\r\n    Bitmap btm = Bitmap.createBitmap(w, h, conf);\r\n\r\n    //Saving to internal memory the image as it is\r\n    private void saveToInternalStorage(Bitmap bitmapImage){\r\n        ContextWrapper cw = new ContextWrapper(getApplicationContext());\r\n        // path to /data/data/your_app/app_data/imageDir\r\n        File directory = cw.getDir(&quot;imageDir&quot;, Context.MODE_PRIVATE);\r\n        // Create imageDir\r\n        File internal_image_saved_path=new File(directory,&quot;day1.jpg&quot;);\r\n\r\n        FileOutputStream fos = null;\r\n        try {\r\n            fos = new FileOutputStream(internal_image_saved_path);\r\n        } catch (FileNotFoundException e) {\r\n            e.printStackTrace();\r\n        }\r\n        // Use the compress method on the BitMap object to write image to the OutputStream\r\n            bitmapImage.compress(Bitmap.CompressFormat.PNG, 100, fos);\r\n    }\r\n\r\n    //init:\r\n    Uri uri=null;\r\n    Context context=this;\r\n\r\n    //day in week:\r\n    Calendar c = Calendar.getInstance();\r\n    int day_in_week = c.get(Calendar.DAY_OF_WEEK);\r\n\r\n    //to scale image to window size (stretch)\r\n    Button full_PickImage;\r\n    ImageView full_ImageView;\r\n    ActivityResultLauncher&lt;String&gt; mGetContent;\r\n    //to scale image to window width and 0.75 height size\r\n    Button smaller_PickImage;\r\n    ImageView smaller_ImageView;\r\n    ActivityResultLauncher&lt;String&gt; smallerGetContent;\r\n    //to scale image to window width and 0.5 height size\r\n    Button smallest_PickImage;\r\n    ImageView smallest_ImageView;\r\n    ActivityResultLauncher&lt;String&gt; smallestGetContent;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_day1);\r\n\r\n        //full size, 3/4, half:\r\n        full_PickImage = findViewById(R.id.gallery);\r\n        full_ImageView = findViewById(R.id.image_view);\r\n        smaller_PickImage = findViewById(R.id.chose_smaller_img);\r\n        smaller_ImageView = findViewById(R.id.image_view_smaller);\r\n        smallest_PickImage = findViewById(R.id.chose_smallest_img);\r\n        smallest_ImageView = findViewById(R.id.image_view_smallest);\r\n\r\n        mGetContent = registerForActivityResult(new ActivityResultContracts.GetContent(),\r\n                result -&gt; {\r\n                    full_ImageView.setImageURI(result);\r\n                    uri = result;\r\n                    if(uri!=null) {\r\n                        //uri to bitmap to store in internal storage:\r\n                        try {\r\n                            Bitmap bitmap = MediaStore.Images.Media.getBitmap(context.getContentResolver() , Uri.parse(uri.toString()));\r\n\r\n                            //get window width &amp; height size:\r\n                            int[] win_size = win_size();\r\n                            int win_width  = win_size[0];\r\n                            int win_height = win_size[1];\r\n\r\n                            //bitmap scaled to win height &amp; width size\r\n                            Bitmap resized_bitmap = getResizedBitmap(bitmap, win_width, win_height);\r\n                            //internal save:\r\n                            saveToInternalStorage(resized_bitmap);\r\n                            //set in App background:\r\n                            show_background_chosen_img(0);\r\n                            btm = resized_bitmap; //used later to set wallpaper (deleted for stackoverflow)\r\n                        }\r\n                        catch (Exception e) {\r\n                            //handle exception\r\n                        }\r\n                    }\r\n                });\r\n\r\n        smallerGetContent = registerForActivityResult(new ActivityResultContracts.GetContent(),\r\n                result -&gt; {\r\n                    smaller_ImageView.setImageURI(result);\r\n                    uri = result;\r\n\r\n                    if(uri!=null) {\r\n                        //uri to bitmap to store in internal storage:\r\n                        try {\r\n                            Bitmap bitmap = MediaStore.Images.Media.getBitmap(context.getContentResolver() , Uri.parse(uri.toString()));\r\n                            //get win h&amp;w size:\r\n                            int[] win_size = win_size();\r\n                            int win_width= win_size[0];\r\n                            int win_height=(int)(win_size[1] * 0.75);\r\n\r\n                            //bitmap scaled to win height &amp; width size\r\n                            Bitmap resized_bitmap = getResizedBitmap(bitmap, win_width, win_height);\r\n                            saveToInternalStorage(resized_bitmap);\r\n                            //set background:\r\n                            show_background_chosen_img(1);\r\n                            btm = resized_bitmap; //used later\r\n                        }\r\n                        catch (Exception e) { \r\n                            //handle exception\r\n                        }\r\n                    }\r\n                });\r\n\r\n        smallestGetContent = registerForActivityResult(new ActivityResultContracts.GetContent(),\r\n                result -&gt; {\r\n                    smallest_ImageView.setImageURI(result);\r\n                    uri = result;\r\n\r\n                    if(uri!=null) {\r\n                        //uri to bitmap to store in internal storage:\r\n                        try {\r\n                            Bitmap bitmap = MediaStore.Images.Media.getBitmap(context.getContentResolver() , Uri.parse(uri.toString()));\r\n                            //get win h&amp;w size:\r\n                            int[] win_size = win_size();\r\n                            int win_width= (int)(win_size[0]);\r\n                            int win_height=(int)(win_size[1] * 0.5);\r\n\r\n                            //bitmap scaled to window height &amp; width size (from above...)\r\n                            Bitmap resized_bitmap = getResizedBitmap(bitmap, win_width, win_height);\r\n                            saveToInternalStorage(resized_bitmap);\r\n                            //set background:\r\n                            show_background_chosen_img(2);\r\n                            btm = resized_bitmap; //used later\r\n                        }\r\n                        catch (Exception e) {\r\n                            //handle exception\r\n                        }\r\n                    }\r\n                });\r\n\r\n\r\n        full_PickImage.setOnClickListener(v -&gt; mGetContent.launch(&quot;image/*&quot;));\r\n        smaller_PickImage.setOnClickListener(v -&gt; smallerGetContent.launch(&quot;image/*&quot;));\r\n        smallest_PickImage.setOnClickListener(v -&gt; smallestGetContent.launch(&quot;image/*&quot;));\r\n    }\r\n    public Bitmap getResizedBitmap(Bitmap bm, int newWidth, int newHeight) {\r\n        int width = bm.getWidth();\r\n        int height = bm.getHeight();\r\n        float scaleWidth = ((float) newWidth) / width;\r\n        float scaleHeight = ((float) newHeight) / height;\r\n        // CREATE A MATRIX FOR THE MANIPULATION\r\n        Matrix matrix = new Matrix();\r\n        // RESIZE THE BIT MAP\r\n        matrix.postScale(scaleWidth, scaleHeight);\r\n        // &quot;RECREATE&quot; THE NEW BITMAP\r\n        Bitmap resizedBitmap = Bitmap.createBitmap(\r\n                bm, 0, 0, width, height, matrix, false);\r\n        bm.recycle();\r\n        return resizedBitmap;\r\n    }\r\n    // get phone window size\r\n    public int[] win_size(){\r\n        Display display = getWindowManager(). getDefaultDisplay();\r\n        Point size = new Point();\r\n        display. getSize(size);\r\n        int win_width = size.x;\r\n        int win_height = size.y;\r\n        return new int[] {win_width, win_height};\r\n    }\r\n\r\n    public void show_background_chosen_img(int type){\r\n        //show current loaded image at first enter to class\r\n        ContextWrapper cw = new ContextWrapper(getApplicationContext());\r\n        // path to /data/data/your_app/app_data/imageDir\r\n        File directory = cw.getDir(&quot;imageDir&quot;, Context.MODE_PRIVATE);\r\n        File f = new File(directory, &quot;day1.jpg&quot;);\r\n        if (f.exists()) {\r\n            Uri yourUri = Uri.fromFile(f);\r\n            if (type==0) {\r\n                //Uri uri_bg_temp = Uri.parse(&quot;android.resource://&quot; + getPackageName() + &quot;/&quot; + R.drawable.bg_app_img);\r\n                //full_ImageView.setImageURI(uri_bg_temp);\r\n                full_ImageView.setImageURI(yourUri);\r\n            }\r\n            else if (type==1){\r\n                //Uri uri_bg_temp = Uri.parse(&quot;android.resource://&quot; + getPackageName() + &quot;/&quot; + R.drawable.bg_app_img);\r\n                //full_ImageView.setImageURI(uri_bg_temp);\r\n                smaller_ImageView.setImageURI(yourUri); }\r\n            else if (type==2) {\r\n                //Uri uri_bg_temp = Uri.parse(&quot;android.resource://&quot; + getPackageName() + &quot;/&quot; + R.drawable.bg_app_img);\r\n                //smallest_ImageView.setImageURI(uri_bg_temp);\r\n                smallest_ImageView.setImageURI(yourUri); }\r\n        }\r\n    }\r\n}\r\n```\r\nIf you feel that the main class and its XML or even the `build.gradle` needed as well, please let me know.\r\nB.T.W, the `bg_app_image.png` is an `xxxhdpi`file (even though it is probably not connected to the problem).\r\nThanks!","title":"Programmatically change app background image (&gt;gallery, internal memory) by another image that doesn&#39;t cover the first one. Should have same priority","body":"<p>I'm completely new to android, but used tons of StackOverflow questions to almost finished my app.</p>\n<p>The workflow in short: upload an image from the gallery, save it to internal storage using a specific path (meaning, the next uploaded image would be saved to the very same internal path location as well), then set it as background (above existing background from XML: <code>android:background=&quot;@drawable/bg_app_img</code> which works fine).</p>\n<p>The problem is that trying to do so works well at the saving level and the setting\nof wallpaper from the saved image, but the app's background doesn't work ok.\nUsing the full window scale option to set image background, (if its <code>ImageView</code> is the last from the top in the XML file - highest priority, it would seem that) it couldn't be replaced by the current uploaded image.\nIf the <code>ImageView order is opposite, from highest scaled to lowest, it would be an image above a larger prior chosen image (see image below). So the problem lies with the order of ImageView</code> in XML:\nThe third (from the top) is the full-scaled one, which is &quot;stuck&quot; and won't let other images be shown, while the second won't let the first be shown (as it would appear behind it + smaller). The XML probably defines the priority but is unnecessary in my case, and <code>after setting the background, even deleting the Image from internal storage does nothing to the currently shown last uploaded image pixels with their high priority</code>.</p>\n<p>Tried:</p>\n<ol>\n<li><p>Deleting <code>android:background=&quot;@drawable/bg_app_img</code> (a might be(?) solution to stretched wallpaper, didn't help).</p>\n</li>\n<li><p>Setting the <code>bg_app_img</code> again before setting the new image (in the same coding way) :</p>\n<pre><code>Uri uri_bg_temp = Uri.parse(&quot;android.resource://&quot; + getPackageName() + &quot;/&quot; + \nR.drawable.bg_app_img);\nfull_ImageView.setImageURI(uri_bg_temp);\nsmaller_ImageView.setImageURI(yourUri);\n</code></pre>\n</li>\n</ol>\n<p>didn't work, as it made the &quot;bg_app_img&quot; the background without the new image above it.</p>\n<ol start=\"3\">\n<li>Switching the order of the 3 <code>ImageView</code> in the XML file made changes that didn't solve the problem as the smaller scaled one now can be above the larger size (according to priority in the XML file):</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/sSj6S.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sSj6S.png\" alt=\"Priority from smallest to full scaled image\" /></a></p>\n<ol start=\"4\">\n<li>Deleting <code>android:scaleType=&quot;fitXY&quot;</code>. nah.</li>\n<li>Sync clean, rebuild all, and invalidate caches, didn't help as well.</li>\n</ol>\n<p>I don't want to change the XML permanently (or the current opening of the app?) using code, as the user might choose a half-scaled image, then a full one, then the half-scaled image, and if the half(height)-scaled would be deleted in any way and won't be shown-no good.</p>\n<p>What should happen: any new chosen image from the gallery, would appear in the background above the <code>drawable/bg_app_img</code> without any image chosen before from the gallery.</p>\n<p>XML code:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:background=&quot;@drawable/bg_app_img&quot;\n    tools:contetx=&quot;.day1&quot;&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/textView6&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:layout_centerInParent=&quot;true&quot;\n        android:adjustViewBounds=&quot;true&quot;\n        android:text=&quot;Wallpaper preview, image size:&quot;\n        android:textAlignment=&quot;center&quot;\n        android:textColor=&quot;@color/black&quot;\n        android:textSize=&quot;25sp&quot;\n        android:translationZ=&quot;90dp&quot;\n        android:scaleType=&quot;center&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n    &lt;ImageView\n        android:id=&quot;@+id/image_view_smallest&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:layout_width=&quot;match_parent&quot;\n        app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\n        app:layout_constraintRight_toRightOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        android:adjustViewBounds=&quot;true&quot;\n        android:scaleType=&quot;center&quot;\n        app:layout_constraintWidth_percent=&quot;1&quot;\n        app:layout_constraintWidth_default=&quot;percent&quot;\n        app:layout_constraintHeight_percent=&quot;1&quot;\n        app:layout_constraintHeight_default=&quot;percent&quot; /&gt;\n\n    &lt;ImageView\n        android:id=&quot;@+id/image_view_smaller&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:scaleType=&quot;center&quot;\n        app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\n        app:layout_constraintRight_toRightOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        android:adjustViewBounds=&quot;true&quot;\n        app:layout_constraintWidth_percent=&quot;1&quot;\n        app:layout_constraintWidth_default=&quot;percent&quot;\n        app:layout_constraintHeight_percent=&quot;1&quot;\n        app:layout_constraintHeight_default=&quot;percent&quot; /&gt;\n\n\n    &lt;ImageView\n        android:id=&quot;@+id/image_view&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:layout_width=&quot;match_parent&quot;\n        app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\n        app:layout_constraintRight_toRightOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        android:adjustViewBounds=&quot;true&quot;\n        app:layout_constraintWidth_percent=&quot;1&quot;\n        app:layout_constraintWidth_default=&quot;percent&quot;\n        app:layout_constraintHeight_percent=&quot;1&quot;\n        android:scaleType=&quot;fitXY&quot;\n        app:layout_constraintHeight_default=&quot;percent&quot; /&gt;\n\n\n    &lt;Button\n        android:id=&quot;@+id/gallery&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_alignParentStart=&quot;true&quot;\n        android:layout_alignParentBottom=&quot;true&quot;\n        android:layout_centerHorizontal=&quot;true&quot;\n        android:backgroundTint=&quot;@color/white&quot;\n        android:text=&quot;Full&quot;\n\n        android:textAllCaps=&quot;false&quot;\n        android:textColor=&quot;@color/black&quot;\n        android:textSize=&quot;22sp&quot;\n        app:layout_constraintBottom_toTopOf=&quot;@+id/textView6&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.2&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/chose_smaller_img&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/chose_smaller_img&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_centerHorizontal=&quot;true&quot;\n        android:backgroundTint=&quot;@color/white&quot;\n        android:text=&quot;3/4&quot;\n        android:textAllCaps=&quot;false&quot;\n        android:textColor=&quot;@color/black&quot;\n        android:textSize=&quot;22sp&quot;\n        app:layout_constraintBottom_toTopOf=&quot;@+id/gallery&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.8&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/chose_smallest_img&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/chose_smallest_img&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_centerHorizontal=&quot;true&quot;\n        android:backgroundTint=&quot;@color/white&quot;\n        android:text=&quot;half&quot;\n        android:textAllCaps=&quot;false&quot;\n        android:textColor=&quot;@color/black&quot;\n        android:textSize=&quot;22sp&quot;\n        app:layout_constraintBottom_toTopOf=&quot;@+id/chose_smaller_img&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.5&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/textView6&quot; /&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>Java class code:</p>\n<pre><code>package com.my_app;\n\nimport androidx.activity.result.ActivityResultLauncher;\nimport androidx.activity.result.contract.ActivityResultContracts;\nimport androidx.appcompat.app.AppCompatActivity;\nimport android.app.WallpaperManager;\nimport android.content.Context;\nimport android.content.ContextWrapper;\nimport android.graphics.Bitmap;\nimport android.graphics.Matrix;\nimport android.graphics.Point;\nimport android.net.Uri;\nimport android.os.Bundle;\nimport android.provider.MediaStore;\nimport android.util.DisplayMetrics;\nimport android.view.Display;\nimport android.widget.Button;\nimport android.widget.ImageView;\nimport java.io.File;\nimport java.io.FileNotFoundException;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.util.Calendar;\n\npublic class day1 extends AppCompatActivity {\n    \n    //creating a mutable (changeable) bitmap:\n    int w = 1, h = 1;\n    Bitmap.Config conf = Bitmap.Config.ARGB_8888; // see other conf types\n    Bitmap btm = Bitmap.createBitmap(w, h, conf);\n\n    //Saving to internal memory the image as it is\n    private void saveToInternalStorage(Bitmap bitmapImage){\n        ContextWrapper cw = new ContextWrapper(getApplicationContext());\n        // path to /data/data/your_app/app_data/imageDir\n        File directory = cw.getDir(&quot;imageDir&quot;, Context.MODE_PRIVATE);\n        // Create imageDir\n        File internal_image_saved_path=new File(directory,&quot;day1.jpg&quot;);\n\n        FileOutputStream fos = null;\n        try {\n            fos = new FileOutputStream(internal_image_saved_path);\n        } catch (FileNotFoundException e) {\n            e.printStackTrace();\n        }\n        // Use the compress method on the BitMap object to write image to the OutputStream\n            bitmapImage.compress(Bitmap.CompressFormat.PNG, 100, fos);\n    }\n\n    //init:\n    Uri uri=null;\n    Context context=this;\n\n    //day in week:\n    Calendar c = Calendar.getInstance();\n    int day_in_week = c.get(Calendar.DAY_OF_WEEK);\n\n    //to scale image to window size (stretch)\n    Button full_PickImage;\n    ImageView full_ImageView;\n    ActivityResultLauncher&lt;String&gt; mGetContent;\n    //to scale image to window width and 0.75 height size\n    Button smaller_PickImage;\n    ImageView smaller_ImageView;\n    ActivityResultLauncher&lt;String&gt; smallerGetContent;\n    //to scale image to window width and 0.5 height size\n    Button smallest_PickImage;\n    ImageView smallest_ImageView;\n    ActivityResultLauncher&lt;String&gt; smallestGetContent;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_day1);\n\n        //full size, 3/4, half:\n        full_PickImage = findViewById(R.id.gallery);\n        full_ImageView = findViewById(R.id.image_view);\n        smaller_PickImage = findViewById(R.id.chose_smaller_img);\n        smaller_ImageView = findViewById(R.id.image_view_smaller);\n        smallest_PickImage = findViewById(R.id.chose_smallest_img);\n        smallest_ImageView = findViewById(R.id.image_view_smallest);\n\n        mGetContent = registerForActivityResult(new ActivityResultContracts.GetContent(),\n                result -&gt; {\n                    full_ImageView.setImageURI(result);\n                    uri = result;\n                    if(uri!=null) {\n                        //uri to bitmap to store in internal storage:\n                        try {\n                            Bitmap bitmap = MediaStore.Images.Media.getBitmap(context.getContentResolver() , Uri.parse(uri.toString()));\n\n                            //get window width &amp; height size:\n                            int[] win_size = win_size();\n                            int win_width  = win_size[0];\n                            int win_height = win_size[1];\n\n                            //bitmap scaled to win height &amp; width size\n                            Bitmap resized_bitmap = getResizedBitmap(bitmap, win_width, win_height);\n                            //internal save:\n                            saveToInternalStorage(resized_bitmap);\n                            //set in App background:\n                            show_background_chosen_img(0);\n                            btm = resized_bitmap; //used later to set wallpaper (deleted for stackoverflow)\n                        }\n                        catch (Exception e) {\n                            //handle exception\n                        }\n                    }\n                });\n\n        smallerGetContent = registerForActivityResult(new ActivityResultContracts.GetContent(),\n                result -&gt; {\n                    smaller_ImageView.setImageURI(result);\n                    uri = result;\n\n                    if(uri!=null) {\n                        //uri to bitmap to store in internal storage:\n                        try {\n                            Bitmap bitmap = MediaStore.Images.Media.getBitmap(context.getContentResolver() , Uri.parse(uri.toString()));\n                            //get win h&amp;w size:\n                            int[] win_size = win_size();\n                            int win_width= win_size[0];\n                            int win_height=(int)(win_size[1] * 0.75);\n\n                            //bitmap scaled to win height &amp; width size\n                            Bitmap resized_bitmap = getResizedBitmap(bitmap, win_width, win_height);\n                            saveToInternalStorage(resized_bitmap);\n                            //set background:\n                            show_background_chosen_img(1);\n                            btm = resized_bitmap; //used later\n                        }\n                        catch (Exception e) { \n                            //handle exception\n                        }\n                    }\n                });\n\n        smallestGetContent = registerForActivityResult(new ActivityResultContracts.GetContent(),\n                result -&gt; {\n                    smallest_ImageView.setImageURI(result);\n                    uri = result;\n\n                    if(uri!=null) {\n                        //uri to bitmap to store in internal storage:\n                        try {\n                            Bitmap bitmap = MediaStore.Images.Media.getBitmap(context.getContentResolver() , Uri.parse(uri.toString()));\n                            //get win h&amp;w size:\n                            int[] win_size = win_size();\n                            int win_width= (int)(win_size[0]);\n                            int win_height=(int)(win_size[1] * 0.5);\n\n                            //bitmap scaled to window height &amp; width size (from above...)\n                            Bitmap resized_bitmap = getResizedBitmap(bitmap, win_width, win_height);\n                            saveToInternalStorage(resized_bitmap);\n                            //set background:\n                            show_background_chosen_img(2);\n                            btm = resized_bitmap; //used later\n                        }\n                        catch (Exception e) {\n                            //handle exception\n                        }\n                    }\n                });\n\n\n        full_PickImage.setOnClickListener(v -&gt; mGetContent.launch(&quot;image/*&quot;));\n        smaller_PickImage.setOnClickListener(v -&gt; smallerGetContent.launch(&quot;image/*&quot;));\n        smallest_PickImage.setOnClickListener(v -&gt; smallestGetContent.launch(&quot;image/*&quot;));\n    }\n    public Bitmap getResizedBitmap(Bitmap bm, int newWidth, int newHeight) {\n        int width = bm.getWidth();\n        int height = bm.getHeight();\n        float scaleWidth = ((float) newWidth) / width;\n        float scaleHeight = ((float) newHeight) / height;\n        // CREATE A MATRIX FOR THE MANIPULATION\n        Matrix matrix = new Matrix();\n        // RESIZE THE BIT MAP\n        matrix.postScale(scaleWidth, scaleHeight);\n        // &quot;RECREATE&quot; THE NEW BITMAP\n        Bitmap resizedBitmap = Bitmap.createBitmap(\n                bm, 0, 0, width, height, matrix, false);\n        bm.recycle();\n        return resizedBitmap;\n    }\n    // get phone window size\n    public int[] win_size(){\n        Display display = getWindowManager(). getDefaultDisplay();\n        Point size = new Point();\n        display. getSize(size);\n        int win_width = size.x;\n        int win_height = size.y;\n        return new int[] {win_width, win_height};\n    }\n\n    public void show_background_chosen_img(int type){\n        //show current loaded image at first enter to class\n        ContextWrapper cw = new ContextWrapper(getApplicationContext());\n        // path to /data/data/your_app/app_data/imageDir\n        File directory = cw.getDir(&quot;imageDir&quot;, Context.MODE_PRIVATE);\n        File f = new File(directory, &quot;day1.jpg&quot;);\n        if (f.exists()) {\n            Uri yourUri = Uri.fromFile(f);\n            if (type==0) {\n                //Uri uri_bg_temp = Uri.parse(&quot;android.resource://&quot; + getPackageName() + &quot;/&quot; + R.drawable.bg_app_img);\n                //full_ImageView.setImageURI(uri_bg_temp);\n                full_ImageView.setImageURI(yourUri);\n            }\n            else if (type==1){\n                //Uri uri_bg_temp = Uri.parse(&quot;android.resource://&quot; + getPackageName() + &quot;/&quot; + R.drawable.bg_app_img);\n                //full_ImageView.setImageURI(uri_bg_temp);\n                smaller_ImageView.setImageURI(yourUri); }\n            else if (type==2) {\n                //Uri uri_bg_temp = Uri.parse(&quot;android.resource://&quot; + getPackageName() + &quot;/&quot; + R.drawable.bg_app_img);\n                //smallest_ImageView.setImageURI(uri_bg_temp);\n                smallest_ImageView.setImageURI(yourUri); }\n        }\n    }\n}\n</code></pre>\n<p>If you feel that the main class and its XML or even the <code>build.gradle</code> needed as well, please let me know.\nB.T.W, the <code>bg_app_image.png</code> is an <code>xxxhdpi</code>file (even though it is probably not connected to the problem).\nThanks!</p>\n"},{"tags":["java","multithreading"],"answers":[{"tags":[],"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1663713097,"creation_date":1663713097,"answer_id":73793267,"question_id":73793165,"body_markdown":"Note that you&#39;ve created a **static** `run(List)`. This method is not related to the **instance** `run()` method, and therefore you are not taking advantage of extending `Thread`. You should make the _class_ generic, and then add a `List` parameter to the constructor (which is no different than adding a parameter to a method). Then you save the list in a field that can be used later by the _instance_ `run()` method.\r\n\r\n```lang-java\r\n// Notice I changed the name to follow PascalCase, as is standard for classes in Java\r\npublic class InsertionSort&lt;T extends Comparable&lt;? super T&gt;&gt; extends Thread {\r\n\r\n    private final List&lt;T&gt; list;\r\n\r\n    public InsertionSort(List&lt;T&gt; list) {\r\n        this.list = list;\r\n    }\r\n\r\n    @Override\r\n    public void run() {\r\n        // perform insertion sort on &#39;list&#39;\r\n    }\r\n}\r\n```\r\n\r\nAnd make sure you call `start()` if you want to start a new thread, not `run()`. For example:\r\n\r\n```lang-java\r\nInsertionSort sort = new InsertionSort(theListInstance);\r\nsort.start(); // start new thread, which calls &#39;run()&#39; for you\r\n```\r\n\r\nThough I would strongly reconsider if you need to extend `Thread` here. Typically, the better approach is to implement `Runnable` instead of extending `Thread`. Then, if you need a new thread, you can just pass the `Runnable` to a `Thread`.\r\n\r\n```lang-java\r\npublic class InsertionSort&lt;T extends Comparable&lt;? super T&gt;&gt; implements Runnable {\r\n\r\n    private final List&lt;T&gt; list;\r\n\r\n    public InsertionSort(List&lt;T&gt; list) {\r\n        this.list = list;\r\n    }\r\n\r\n    @Override\r\n    public void run() {\r\n        // perform insertion sort on &#39;list&#39;\r\n    }\r\n}\r\n```\r\n\r\nThen use it:\r\n\r\n```lang-java\r\nInsertionSort sort = new InsertionSort(theListInstance);\r\n\r\n// if you want to run the sort on the calling thread\r\nsort.run();\r\n\r\n// or if you want to run the sort on a new thread\r\nThread thread = new Thread(sort);\r\nthread.start();\r\n```","title":"how to pass a list parameter in a constructor in Java?","body":"<p>Note that you've created a <strong>static</strong> <code>run(List)</code>. This method is not related to the <strong>instance</strong> <code>run()</code> method, and therefore you are not taking advantage of extending <code>Thread</code>. You should make the <em>class</em> generic, and then add a <code>List</code> parameter to the constructor (which is no different than adding a parameter to a method). Then you save the list in a field that can be used later by the <em>instance</em> <code>run()</code> method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Notice I changed the name to follow PascalCase, as is standard for classes in Java\npublic class InsertionSort&lt;T extends Comparable&lt;? super T&gt;&gt; extends Thread {\n\n    private final List&lt;T&gt; list;\n\n    public InsertionSort(List&lt;T&gt; list) {\n        this.list = list;\n    }\n\n    @Override\n    public void run() {\n        // perform insertion sort on 'list'\n    }\n}\n</code></pre>\n<p>And make sure you call <code>start()</code> if you want to start a new thread, not <code>run()</code>. For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>InsertionSort sort = new InsertionSort(theListInstance);\nsort.start(); // start new thread, which calls 'run()' for you\n</code></pre>\n<p>Though I would strongly reconsider if you need to extend <code>Thread</code> here. Typically, the better approach is to implement <code>Runnable</code> instead of extending <code>Thread</code>. Then, if you need a new thread, you can just pass the <code>Runnable</code> to a <code>Thread</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class InsertionSort&lt;T extends Comparable&lt;? super T&gt;&gt; implements Runnable {\n\n    private final List&lt;T&gt; list;\n\n    public InsertionSort(List&lt;T&gt; list) {\n        this.list = list;\n    }\n\n    @Override\n    public void run() {\n        // perform insertion sort on 'list'\n    }\n}\n</code></pre>\n<p>Then use it:</p>\n<pre class=\"lang-java prettyprint-override\"><code>InsertionSort sort = new InsertionSort(theListInstance);\n\n// if you want to run the sort on the calling thread\nsort.run();\n\n// or if you want to run the sort on a new thread\nThread thread = new Thread(sort);\nthread.start();\n</code></pre>\n"}],"owner":{"account_id":18653996,"reputation":3,"user_id":13596822,"display_name":"fijiviti"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73793267,"answer_count":1,"score":0,"last_activity_date":1663713097,"creation_date":1663712107,"question_id":73793165,"body_markdown":"How can I add the List parameter in the insertionSort() contructor so that the run method doesnt have any parameters?\r\n\r\n\r\n\r\n    public class insertionSort extends Thread {\r\n\r\n    public insertionSort() {\r\n      \r\n    }\r\n\r\n    // INSERTION SORT\r\n    public static &lt;T extends Comparable&lt;T&gt;&gt; void run(List&lt;T&gt; list) {\r\n        // sort the list using insertion sort\r\n        for (int i = 1; i &lt; list.size(); i++) {\r\n            T key = list.get(i);\r\n            int j = i - 1;\r\n            // move elements of list that are greater than key, to one position ahead of their current position\r\n            while (j &gt;= 0 &amp;&amp; list.get(j).compareTo(key) &gt; 0) {\r\n                list.set(j + 1, list.get(j));\r\n                j = j - 1;\r\n            }\r\n            // place element at its correct position\r\n            list.set(j + 1, key);\r\n        }\r\n    }\r\n}\r\n\r\n ","title":"how to pass a list parameter in a constructor in Java?","body":"<p>How can I add the List parameter in the insertionSort() contructor so that the run method doesnt have any parameters?</p>\n<pre><code>public class insertionSort extends Thread {\n\npublic insertionSort() {\n  \n}\n\n// INSERTION SORT\npublic static &lt;T extends Comparable&lt;T&gt;&gt; void run(List&lt;T&gt; list) {\n    // sort the list using insertion sort\n    for (int i = 1; i &lt; list.size(); i++) {\n        T key = list.get(i);\n        int j = i - 1;\n        // move elements of list that are greater than key, to one position ahead of their current position\n        while (j &gt;= 0 &amp;&amp; list.get(j).compareTo(key) &gt; 0) {\n            list.set(j + 1, list.get(j));\n            j = j - 1;\n        }\n        // place element at its correct position\n        list.set(j + 1, key);\n    }\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","spring-mvc","jackson","objectmapper"],"answers":[{"tags":[],"owner":{"account_id":10915052,"reputation":621,"user_id":8023137,"accept_rate":85,"display_name":"Rocket Pingu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1526610539,"creation_date":1526610539,"answer_id":50402971,"question_id":50401807,"body_markdown":"I think maps are the way to go here if you want to have labels:\r\n\r\n    Map arrayNodeObjectMap = new HashMap&lt;String, ArrayNode&gt;();\r\n    arrayNodeMap.put(&quot;labelForArrayNodeObject1&quot;, arrayNodeObject1);\r\n    arrayNodeMap.put(&quot;labelForArrayNodeObject2&quot;, arrayNodeObject2);\r\n    arrayNodeMap.put(&quot;labelForArrayNodeObject3&quot;, arrayNodeObject3);","title":"put ArrayNode inside ObjectNode","body":"<p>I think maps are the way to go here if you want to have labels:</p>\n\n<pre><code>Map arrayNodeObjectMap = new HashMap&lt;String, ArrayNode&gt;();\narrayNodeMap.put(\"labelForArrayNodeObject1\", arrayNodeObject1);\narrayNodeMap.put(\"labelForArrayNodeObject2\", arrayNodeObject2);\narrayNodeMap.put(\"labelForArrayNodeObject3\", arrayNodeObject3);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10192889,"reputation":149,"user_id":7525684,"display_name":"CoderCal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663712871,"creation_date":1663712562,"answer_id":73793203,"question_id":50401807,"body_markdown":"This is how i did it using a stream:\r\n\r\n```\r\nArrayNode arrayNode = mapper.createArrayNode();\r\narrayList.stream()\r\n    .forEach(id -&gt; arrayNode.add(id));\r\nobjectNode.set(&quot;Key&quot;, arrayNode);\r\n```\r\n\r\nOr for your example:\r\n\r\n```\r\nArrayNode arrayNode = new ObjectMapper().createArrayNode();\r\narrayNode.add(arrayNodeObject1);\r\narrayNode.add(arrayNodeObject2);\r\narrayNode.add(arrayNodeObject3);\r\nobjectNode.set(&quot;Key&quot;, arrayNode);\r\n```\r\n\r\nTo retrieve this you can use:\r\n\r\n`objectNode.get(&quot;Key&quot;)`\r\n\r\n**Note**\r\n- `set()` has deprecated `put()` on `ObjectNode` to replace the use of put() where chaining with `this` is used. `set()` returns the node after adding/returning the property value","title":"put ArrayNode inside ObjectNode","body":"<p>This is how i did it using a stream:</p>\n<pre><code>ArrayNode arrayNode = mapper.createArrayNode();\narrayList.stream()\n    .forEach(id -&gt; arrayNode.add(id));\nobjectNode.set(&quot;Key&quot;, arrayNode);\n</code></pre>\n<p>Or for your example:</p>\n<pre><code>ArrayNode arrayNode = new ObjectMapper().createArrayNode();\narrayNode.add(arrayNodeObject1);\narrayNode.add(arrayNodeObject2);\narrayNode.add(arrayNodeObject3);\nobjectNode.set(&quot;Key&quot;, arrayNode);\n</code></pre>\n<p>To retrieve this you can use:</p>\n<p><code>objectNode.get(&quot;Key&quot;)</code></p>\n<p><strong>Note</strong></p>\n<ul>\n<li><code>set()</code> has deprecated <code>put()</code> on <code>ObjectNode</code> to replace the use of put() where chaining with <code>this</code> is used. <code>set()</code> returns the node after adding/returning the property value</li>\n</ul>\n"}],"owner":{"account_id":4774983,"reputation":25,"user_id":3858442,"display_name":"user3858442"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3999,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1663712871,"creation_date":1526599770,"question_id":50401807,"body_markdown":"I would like to prepare an object as per below format. Array of objects inside an ObjectNode. I&#39;m trying as per below.\r\n\r\n{ [ {arrayNodeObject1}, {arrayNodeObject2}, {arrayNodeObject3} ] }\r\n\r\n    \r\n    ArrayNode arrayNode = new ObjectMapper().createArrayNode();\r\n    arrayNode.add(arrayNodeObject1);\r\n    arrayNode.add(arrayNodeObject2);\r\n    arrayNode.add(arrayNodeObject3);\r\n\r\nwith the above code, I can able to get array of object as per below.\r\n\r\n    [{arrayNodeObject1}, {arrayNodeObject2}, {arrayNodeObject3}]\r\n\r\nNow, I would like to put the above ArrayNode inside a ObjectNode. Please advise. Also, how can i read ArrayNode back from the ObjectNode.\r\n\r\nIf i can have a lable to the ArrayNode, it would be easy to get the arrayNode.\r\n\r\n","title":"put ArrayNode inside ObjectNode","body":"<p>I would like to prepare an object as per below format. Array of objects inside an ObjectNode. I'm trying as per below.</p>\n\n<p>{ [ {arrayNodeObject1}, {arrayNodeObject2}, {arrayNodeObject3} ] }</p>\n\n<pre><code>ArrayNode arrayNode = new ObjectMapper().createArrayNode();\narrayNode.add(arrayNodeObject1);\narrayNode.add(arrayNodeObject2);\narrayNode.add(arrayNodeObject3);\n</code></pre>\n\n<p>with the above code, I can able to get array of object as per below.</p>\n\n<pre><code>[{arrayNodeObject1}, {arrayNodeObject2}, {arrayNodeObject3}]\n</code></pre>\n\n<p>Now, I would like to put the above ArrayNode inside a ObjectNode. Please advise. Also, how can i read ArrayNode back from the ObjectNode.</p>\n\n<p>If i can have a lable to the ArrayNode, it would be easy to get the arrayNode.</p>\n"},{"tags":["java","swing","user-interface"],"comments":[{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":2,"creation_date":1663701844,"post_id":73791585,"comment_id":130300916,"body_markdown":"Inside your &#39;JComponent creation code&#39; just add one line: addMouseListener()","body":"Inside your &#39;JComponent creation code&#39; just add one line: addMouseListener()"}],"answers":[{"tags":[],"owner":{"account_id":20452579,"reputation":26,"user_id":15007011,"display_name":"Rjelinek"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1663712782,"creation_date":1663704324,"answer_id":73792079,"question_id":73791585,"body_markdown":"the solution for you lies somewhere in this lines. However I must say that on application start up it does make some mouse click on background, that will probably need to be addressed \r\n\r\nEDIT\r\n\r\nAfter posting I realized there is a request for alt key down, so I added this condition and it restrict code spam on start up. however its still not optimal\r\n\r\n\r\n    public class Main {\r\n    public static void main(String[] args) {\r\n    Toolkit.getDefaultToolkit().addAWTEventListener(new AWTListener(), AWTEvent.MOUSE_EVENT_MASK);\r\n    //your code\r\n    }\r\n    private static class AWTListener implements AWTEventListener{\r\n    @Override\r\n        public void eventDispatched(AWTEvent event) {\r\n            if (event instanceof MouseEvent evt &amp;&amp; evt.isAltDown()) {\r\n    //your mouse event code\r\n            }\r\n    \r\n        }\r\n    }\r\n\r\n","title":"Add mouse listener for all components in the java swing application","body":"<p>the solution for you lies somewhere in this lines. However I must say that on application start up it does make some mouse click on background, that will probably need to be addressed</p>\n<p>EDIT</p>\n<p>After posting I realized there is a request for alt key down, so I added this condition and it restrict code spam on start up. however its still not optimal</p>\n<pre><code>public class Main {\npublic static void main(String[] args) {\nToolkit.getDefaultToolkit().addAWTEventListener(new AWTListener(), AWTEvent.MOUSE_EVENT_MASK);\n//your code\n}\nprivate static class AWTListener implements AWTEventListener{\n@Override\n    public void eventDispatched(AWTEvent event) {\n        if (event instanceof MouseEvent evt &amp;&amp; evt.isAltDown()) {\n//your mouse event code\n        }\n\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":13252581,"reputation":9,"user_id":9569680,"display_name":"Дмитрий Курлянов"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"accepted_answer_id":73792079,"answer_count":1,"score":-3,"last_activity_date":1663712782,"creation_date":1663701146,"question_id":73791585,"body_markdown":"Task:\r\nThere is a large application in which new jComponent are periodically created. Need to add processing for all of them by mouse clicking on them with the &quot;Alt&quot; key pressed.\r\n\r\nIt is clear that this needs to be done using component.addMouseListener().\r\nIs there a section of the JComponent creation code where we can insert our code?\r\nOr are there other ways to solve the problem?\r\n\r\n\r\nMy code based on Rjelinek&#39;s suggestion:\r\n\r\n    public static void registrationMouseAction() {\r\n            Toolkit.getDefaultToolkit().addAWTEventListener(new AWTEventListener() {\r\n                @Override\r\n                public void eventDispatched(final AWTEvent event) {\r\n                    if (event instanceof MouseEvent) {\r\n                        MouseEvent mouseEvent = (MouseEvent) event;\r\n                        if (mouseEvent.getID() == MOUSE_CLICKED) {\r\n                            // # left prev\r\n                            if (mouseEvent.getButton() == 4) {\r\n                                new BackRecentDefinitionAction().performed();\r\n                            }\r\n                            // # right next\r\n                            if (mouseEvent.getButton() == 5) {\r\n                                new BackRecentDefinitionAction().performed();\r\n                            }\r\n                            // # view modal editor\r\n                            if (mouseEvent.getButton() == 1 &amp;&amp; mouseEvent.isAltDown()) {\r\n                                new OpenModalEditorRadixObjectsAction().performed();\r\n                            }\r\n                        }\r\n                    }\r\n    \r\n                }\r\n            }, AWTEvent.MOUSE_EVENT_MASK);\r\n        }\r\n\r\nCorrection:\r\nI need to have the processing of &quot;Alt+MouseButton1&quot; for all components in the application (for example, JButton, JPanel, etc.).","title":"Add mouse listener for all components in the java swing application","body":"<p>Task:\nThere is a large application in which new jComponent are periodically created. Need to add processing for all of them by mouse clicking on them with the &quot;Alt&quot; key pressed.</p>\n<p>It is clear that this needs to be done using component.addMouseListener().\nIs there a section of the JComponent creation code where we can insert our code?\nOr are there other ways to solve the problem?</p>\n<p>My code based on Rjelinek's suggestion:</p>\n<pre><code>public static void registrationMouseAction() {\n        Toolkit.getDefaultToolkit().addAWTEventListener(new AWTEventListener() {\n            @Override\n            public void eventDispatched(final AWTEvent event) {\n                if (event instanceof MouseEvent) {\n                    MouseEvent mouseEvent = (MouseEvent) event;\n                    if (mouseEvent.getID() == MOUSE_CLICKED) {\n                        // # left prev\n                        if (mouseEvent.getButton() == 4) {\n                            new BackRecentDefinitionAction().performed();\n                        }\n                        // # right next\n                        if (mouseEvent.getButton() == 5) {\n                            new BackRecentDefinitionAction().performed();\n                        }\n                        // # view modal editor\n                        if (mouseEvent.getButton() == 1 &amp;&amp; mouseEvent.isAltDown()) {\n                            new OpenModalEditorRadixObjectsAction().performed();\n                        }\n                    }\n                }\n\n            }\n        }, AWTEvent.MOUSE_EVENT_MASK);\n    }\n</code></pre>\n<p>Correction:\nI need to have the processing of &quot;Alt+MouseButton1&quot; for all components in the application (for example, JButton, JPanel, etc.).</p>\n"},{"tags":["java","directory","io","apache-commons"],"answers":[{"tags":[],"owner":{"account_id":25086413,"reputation":23,"user_id":18938549,"display_name":"Valentin Georgiev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663705527,"creation_date":1663705527,"answer_id":73792273,"question_id":73792069,"body_markdown":"This is a method  for merging two directories. The directory of second parameter will be moved to the first one, including files and directories. \r\n\r\n    import java.io.File;\r\n             \r\n            public class MergeTwoDirectories {\r\n            \tpublic static void main(String[] args){\r\n            \t\tString sourceDir1Path = &quot;/home/folderWithTextFile/textFile.txt&quot;;\r\n            \t\tString sourceDir2Path = &quot;/home/folderWithTextFile/exeFile.exe&quot;;\r\n             \r\n            \t\tFile dir1 = new File(sourceDir1Path);\r\n            \t\tFile dir2 = new File(sourceDir2Path);\r\n             \r\n            \t\tmergeTwoDirectories(dir1, dir2);\r\n             \r\n            \t}\r\n             \r\n            \tpublic static void mergeTwoDirectories(File dir1, File dir2){\r\n            \t\tString targetDirPath = dir1.getAbsolutePath();\r\n            \t\tFile[] files = dir2.listFiles();\r\n            \t\tfor (File file : files) {\r\n            \t\t\tfile.renameTo(new File(targetDirPath+File.separator+file.getName()));\r\n            \t\t\tSystem.out.println(file.getName() + &quot; is moved!&quot;);\r\n            \t\t}\r\n            \t}\r\n            }","title":"Merge directories - Java","body":"<p>This is a method  for merging two directories. The directory of second parameter will be moved to the first one, including files and directories.</p>\n<pre><code>import java.io.File;\n         \n        public class MergeTwoDirectories {\n            public static void main(String[] args){\n                String sourceDir1Path = &quot;/home/folderWithTextFile/textFile.txt&quot;;\n                String sourceDir2Path = &quot;/home/folderWithTextFile/exeFile.exe&quot;;\n         \n                File dir1 = new File(sourceDir1Path);\n                File dir2 = new File(sourceDir2Path);\n         \n                mergeTwoDirectories(dir1, dir2);\n         \n            }\n         \n            public static void mergeTwoDirectories(File dir1, File dir2){\n                String targetDirPath = dir1.getAbsolutePath();\n                File[] files = dir2.listFiles();\n                for (File file : files) {\n                    file.renameTo(new File(targetDirPath+File.separator+file.getName()));\n                    System.out.println(file.getName() + &quot; is moved!&quot;);\n                }\n            }\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18039245,"reputation":355,"user_id":13111872,"display_name":"Atom"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663712071,"creation_date":1663712071,"answer_id":73793161,"question_id":73792069,"body_markdown":"I have come up with this solution:\r\n```java\r\nprivate static void moveDirectory(File parentFrom, File parentTo) {\r\n        log(&quot;Moving &quot; + parentFrom.toPath() + &quot; to &quot; + parentTo);\r\n\r\n        for (File file : parentFrom.listFiles()) {\r\n\r\n            // Is a regular file?\r\n            if (!file.isDirectory()) { // Is a regular file\r\n                File newName = new File(parentTo, file.getName());\r\n                file.renameTo(newName);\r\n                log(&quot;Moved &quot; + file.getAbsolutePath() + &quot; to &quot; + newName.getAbsolutePath());\r\n            } else { // Is a directory\r\n                File newName = new File(parentTo, file.getName());\r\n                newName.mkdirs();\r\n                log(&quot;Moving dir &quot; + file.getAbsolutePath() + &quot; to &quot; + newName.getAbsolutePath());\r\n                moveDirectory(file, newName);\r\n            }\r\n\r\n            file.delete();\r\n        }\r\n\r\n        parentFrom.delete();\r\n    }\r\n```\r\nIt recursively copies the contents of the input file to the output file, and cleans up the input. It is inefficient and definitely sub-ideal, but it works in my circumstances.","title":"Merge directories - Java","body":"<p>I have come up with this solution:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static void moveDirectory(File parentFrom, File parentTo) {\n        log(&quot;Moving &quot; + parentFrom.toPath() + &quot; to &quot; + parentTo);\n\n        for (File file : parentFrom.listFiles()) {\n\n            // Is a regular file?\n            if (!file.isDirectory()) { // Is a regular file\n                File newName = new File(parentTo, file.getName());\n                file.renameTo(newName);\n                log(&quot;Moved &quot; + file.getAbsolutePath() + &quot; to &quot; + newName.getAbsolutePath());\n            } else { // Is a directory\n                File newName = new File(parentTo, file.getName());\n                newName.mkdirs();\n                log(&quot;Moving dir &quot; + file.getAbsolutePath() + &quot; to &quot; + newName.getAbsolutePath());\n                moveDirectory(file, newName);\n            }\n\n            file.delete();\n        }\n\n        parentFrom.delete();\n    }\n</code></pre>\n<p>It recursively copies the contents of the input file to the output file, and cleans up the input. It is inefficient and definitely sub-ideal, but it works in my circumstances.</p>\n"}],"owner":{"account_id":18039245,"reputation":355,"user_id":13111872,"display_name":"Atom"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":215,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1663712071,"creation_date":1663704275,"question_id":73792069,"body_markdown":"I have a directory:\r\n```\r\n| content\r\n| - folderWithTextFile\r\n| - - textFile.txt\r\n| - - folderWithPdfFile\r\n| - - - pdfFile.pdf\r\n```\r\n... and I want to merge it into another directory of the same name:\r\n```\r\n| content\r\n| - folderWithExeFile\r\n| - - exeFile.exe\r\n| - - folderWithPngFile\r\n| - - - pngFile.png\r\n```\r\n... so that I have this in the end:\r\n```\r\n| content\r\n| - folderWithTextFile\r\n| - - textFile.txt\r\n| - - folderWithPdfFile\r\n| - - - pdfFile.pdf\r\n| - folderWithExeFile\r\n| - - exeFile.exe\r\n| - - folderWithPngFile\r\n| - - - pngFile.png\r\n```\r\n\r\nUsing `Files.move(target, destination, StandardCopyOptions.REPLACE_EXISTING)` gives me a `DirectoryNotEmptyException` as *secondFolder* is not empty.\r\n\r\nUsing Apache Commons IO `FileUtils.moveDirectory(target, destination)` gives a `FileExistsException` as the target already exists.\r\n\r\nI would like a way to merge these two structures. It must copy the *whole* structure, not just one file.","title":"Merge directories - Java","body":"<p>I have a directory:</p>\n<pre><code>| content\n| - folderWithTextFile\n| - - textFile.txt\n| - - folderWithPdfFile\n| - - - pdfFile.pdf\n</code></pre>\n<p>... and I want to merge it into another directory of the same name:</p>\n<pre><code>| content\n| - folderWithExeFile\n| - - exeFile.exe\n| - - folderWithPngFile\n| - - - pngFile.png\n</code></pre>\n<p>... so that I have this in the end:</p>\n<pre><code>| content\n| - folderWithTextFile\n| - - textFile.txt\n| - - folderWithPdfFile\n| - - - pdfFile.pdf\n| - folderWithExeFile\n| - - exeFile.exe\n| - - folderWithPngFile\n| - - - pngFile.png\n</code></pre>\n<p>Using <code>Files.move(target, destination, StandardCopyOptions.REPLACE_EXISTING)</code> gives me a <code>DirectoryNotEmptyException</code> as <em>secondFolder</em> is not empty.</p>\n<p>Using Apache Commons IO <code>FileUtils.moveDirectory(target, destination)</code> gives a <code>FileExistsException</code> as the target already exists.</p>\n<p>I would like a way to merge these two structures. It must copy the <em>whole</em> structure, not just one file.</p>\n"},{"tags":["java","android","task","wait"],"owner":{"account_id":1724270,"reputation":191,"user_id":1579317,"accept_rate":0,"display_name":"joseph"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1663711879,"creation_date":1663711879,"question_id":73793143,"body_markdown":"I want to do this while keeping animation and/or displaying texts about the current initialization process.\r\nOnce all tasks are completed I can enable certain buttons etc...\r\nSince async task is deprecated I&#39;d like to know what to use for that.\r\n","title":"How to wait for list of tasks to complete in java and android?","body":"<p>I want to do this while keeping animation and/or displaying texts about the current initialization process.\nOnce all tasks are completed I can enable certain buttons etc...\nSince async task is deprecated I'd like to know what to use for that.</p>\n"},{"tags":["java","spring-boot","kubernetes","jvm","google-kubernetes-engine"],"comments":[{"owner":{"account_id":183966,"reputation":14606,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"score":0,"creation_date":1663181489,"post_id":73721802,"comment_id":130181391,"body_markdown":"What&#39;s your java CPU/processer config set at? You&#39;ve only shared your memory (ram) config but are asking about CPU...","body":"What&#39;s your java CPU/processer config set at? You&#39;ve only shared your memory (ram) config but are asking about CPU..."},{"owner":{"account_id":8342701,"reputation":1021,"user_id":6267537,"display_name":"Jonathan Chevalier"},"score":0,"creation_date":1663181601,"post_id":73721802,"comment_id":130181429,"body_markdown":"yes @RoddyoftheFrozenPeas i did not set any specific config for CPU in the JVM except the deployment limit.","body":"yes @RoddyoftheFrozenPeas i did not set any specific config for CPU in the JVM except the deployment limit."}],"answers":[{"tags":[],"owner":{"account_id":1238505,"reputation":2193,"user_id":1201612,"display_name":"S&#233;bastien Helbert"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663186105,"creation_date":1663186105,"answer_id":73722644,"question_id":73721802,"body_markdown":"Your application process may be single threaded? If not, try to add JVM options `-XX:+UnlockDiagnosticVMOptions -XX:+PrintFlagsFinal` and check in the standard output for CPU related values like `ActiveProcessorCount`.","title":"Spring Boot &amp; kubernetes JVM can not go over 1 CPU","body":"<p>Your application process may be single threaded? If not, try to add JVM options <code>-XX:+UnlockDiagnosticVMOptions -XX:+PrintFlagsFinal</code> and check in the standard output for CPU related values like <code>ActiveProcessorCount</code>.</p>\n"},{"tags":[],"owner":{"account_id":8342701,"reputation":1021,"user_id":6267537,"display_name":"Jonathan Chevalier"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663710746,"creation_date":1663678330,"answer_id":73787042,"question_id":73721802,"body_markdown":"Find out that the micrometer metrics are actually used as % of usage, which mean it actually work as expected.","title":"Spring Boot &amp; kubernetes JVM can not go over 1 CPU","body":"<p>Find out that the micrometer metrics are actually used as % of usage, which mean it actually work as expected.</p>\n"}],"owner":{"account_id":8342701,"reputation":1021,"user_id":6267537,"display_name":"Jonathan Chevalier"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":403,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1663710746,"creation_date":1663181150,"question_id":73721802,"body_markdown":"After deploying my spring boot application (2.7.3), with the following configuration:\r\n- CPU req: 1.2 \r\n- CPU limit: no limit\r\n- image: &quot;gcr.io/distroless/java17:nonroot&quot;\r\n- JAVA_TOOL_OPTIONS: &quot;-XX:MinRAMPercentage=60.0 -XX:MaxRAMPercentage=75.0&quot;\r\n- GKE 1.21.11-gke.1900  with cos_containerd\r\n\r\nit seems that under heavy load my system can not go over 1 CPU usage as seen in the following picture:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nAnyone have faced similar situation ?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6KB3m.png","title":"Spring Boot &amp; kubernetes JVM can not go over 1 CPU","body":"<p>After deploying my spring boot application (2.7.3), with the following configuration:</p>\n<ul>\n<li>CPU req: 1.2</li>\n<li>CPU limit: no limit</li>\n<li>image: &quot;gcr.io/distroless/java17:nonroot&quot;</li>\n<li>JAVA_TOOL_OPTIONS: &quot;-XX:MinRAMPercentage=60.0 -XX:MaxRAMPercentage=75.0&quot;</li>\n<li>GKE 1.21.11-gke.1900  with cos_containerd</li>\n</ul>\n<p>it seems that under heavy load my system can not go over 1 CPU usage as seen in the following picture:</p>\n<p><a href=\"https://i.stack.imgur.com/6KB3m.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6KB3m.png\" alt=\"enter image description here\" /></a></p>\n<p>Anyone have faced similar situation ?</p>\n"},{"tags":["java","spring","hibernate"],"comments":[{"owner":{"account_id":4649780,"reputation":669,"user_id":3766983,"display_name":"Sreek521"},"score":0,"creation_date":1663702812,"post_id":73791612,"comment_id":130301219,"body_markdown":"Please post the exception you are seeing.","body":"Please post the exception you are seeing."},{"owner":{"account_id":26394438,"reputation":1,"user_id":20045806,"display_name":"Jens De Dycker"},"score":0,"creation_date":1663706045,"post_id":73791612,"comment_id":130302112,"body_markdown":"Added the errorpage.","body":"Added the errorpage."}],"answers":[{"tags":[],"owner":{"account_id":4649780,"reputation":669,"user_id":3766983,"display_name":"Sreek521"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663704022,"creation_date":1663704022,"answer_id":73792030,"question_id":73791612,"body_markdown":"Hibernate CascadeType.ALL strategy includes the CascadeType.PERSIST option, when calling persist entity, Hibernate is going to persist both the Author and the Books child entities. Your code should look something like below. Where, you will persist the author object and hibernate will take care of persisting the children,\r\n\r\n    Author bestaandeAuteur = mogelijksNieuweAuteur.get();\r\n    Set&lt;Book&gt; books = new HashSet&lt;Book&gt;();\r\n    books.add(book);\r\n    bestaandeAuteur.setRepertoire(books);\r\n    authorService.persist(bestaandeAuteur);\r\n\r\n","title":"Problem with Hibernate: can&#39;t add new entity when the parent isn&#39;t already existing","body":"<p>Hibernate CascadeType.ALL strategy includes the CascadeType.PERSIST option, when calling persist entity, Hibernate is going to persist both the Author and the Books child entities. Your code should look something like below. Where, you will persist the author object and hibernate will take care of persisting the children,</p>\n<pre><code>Author bestaandeAuteur = mogelijksNieuweAuteur.get();\nSet&lt;Book&gt; books = new HashSet&lt;Book&gt;();\nbooks.add(book);\nbestaandeAuteur.setRepertoire(books);\nauthorService.persist(bestaandeAuteur);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5157043,"reputation":1369,"user_id":4130003,"display_name":"johnnyutts"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663710678,"creation_date":1663710678,"answer_id":73793003,"question_id":73791612,"body_markdown":"Ensure you set author into the book entity as well as adding a book to author. Then call save author. If you try and save book there is no cascade from book to author","title":"Problem with Hibernate: can&#39;t add new entity when the parent isn&#39;t already existing","body":"<p>Ensure you set author into the book entity as well as adding a book to author. Then call save author. If you try and save book there is no cascade from book to author</p>\n"}],"owner":{"account_id":26394438,"reputation":1,"user_id":20045806,"display_name":"Jens De Dycker"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1663710678,"creation_date":1663701315,"question_id":73791612,"body_markdown":"I&#39;m trying to make a library app, I have a oneToMany relationship between book and Author however I am running into trouble whenever I try to add a new book for an Author that isn&#39;t registered yet.\r\nWhenever i Try to register a book for an existing everything works fine.\r\n\r\nHere is my code:\r\n\r\n```\r\n@Entity\r\n@Getter\r\n@Setter\r\npublic class Book {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n    @NotBlank\r\n    private String title;\r\n\r\n    @ManyToOne\r\n    private Author author;\r\n\r\n    private boolean beschikbaar = true;\r\n```\r\n```@Entity\r\n@Getter\r\n@Setter\r\npublic class Author {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n@NotBlank\r\n    private String voornaam;\r\n@NotBlank\r\n    private String familienaam;\r\n\r\n@OneToMany(mappedBy = &quot;author&quot;, cascade = CascadeType.ALL,orphanRemoval = true)\r\n    private Set&lt;Book&gt; repertoire;\r\n}\r\n```\r\nController: \r\n```@GetMapping(&quot;/books/new&quot;)\r\n    public String newBookView(Model model) {\r\n        model.addAttribute(&quot;book&quot;, new Book());\r\n        model.addAttribute(&quot;auteur&quot;, new Author());\r\n        return &quot;boekToevoegen&quot;;\r\n    }\r\n\r\n\r\n        @PostMapping(&quot;/books/new&quot;)\r\n        public String addNewBook(@Valid Book book, @Valid Author author, BindingResult br)\r\n        {\r\n            Optional&lt;Author&gt; mogelijksNieuweAuteur = authorService.findAuthorByVoornaamAndFamilienaam(author.getVoornaam(),author.getFamilienaam());\r\n\r\n            if(mogelijksNieuweAuteur.isPresent() &amp;&amp; !br.hasErrors())\r\n            {\r\n                Author bestaandeAuteur = mogelijksNieuweAuteur.get();\r\n                book.setAuthor(bestaandeAuteur);\r\n                bookService.register(book);\r\n                return &quot;redirect:/books&quot;;\r\n\r\n            } else if (!br.hasErrors()) {\r\n\r\n                book.setAuthor(author);\r\n                bookService.register(book);\r\n                return &quot;redirect:/books&quot;;\r\n            }\r\n\r\n            else\r\n            {\r\n                return &quot;boekToevoegen&quot;;\r\n            }\r\n```\r\n\r\nView:\r\n```&lt;form method=&quot;post&quot; th:object=&quot;${auteur}&quot; &gt;\r\n\r\n  &lt;div class=&quot;col-2&quot;&gt;\r\n    &lt;label for=&quot;title&quot; class=&quot;form-label&quot;&gt;Titel&lt;/label&gt;\r\n    &lt;input type=&quot;text&quot; class=&quot;form-control required&quot; id=&quot;title&quot; th:field=&quot;${book.title}&quot;&gt;\r\n  &lt;/div&gt;\r\n  &lt;div class=&quot;row&quot; &gt;\r\n   &lt;div class=&quot;col-3&quot;&gt;\r\n    &lt;label for=&quot;auteurVoornaam&quot; class=&quot;form-label&quot;&gt;Voornaam auteur &lt;/label&gt;\r\n    &lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;auteurVoornaam&quot; th:field=&quot;${auteur.voornaam}&quot;&gt;\r\n&lt;/div&gt;\r\n    &lt;div class=&quot;col-3&quot;&gt;\r\n     &lt;label for=&quot;auteurFamilienaam&quot; class=&quot;form-label&quot;&gt;familienaam auteur &lt;/label&gt;\r\n     &lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;auteurFamilienaam&quot; th:field=&quot;${auteur.familienaam}&quot;&gt;\r\n   &lt;/div&gt;\r\n  &lt;/div&gt;\r\n  &lt;button type=&quot;submit&quot; class=&quot;button btn-primary&quot;&gt; Save &lt;/button&gt;\r\n&lt;/form&gt;\r\n```\r\nRepo and corresponding servicefunction:\r\n\r\n```\r\n\r\n@Repository\r\npublic interface AuthorRepository extends JpaRepository&lt;Author,Long&gt; {\r\n\r\n@Query(nativeQuery = true,value= &quot;select * from author where voornaam = :voornaam and familienaam = :familienaam&quot;)\r\n    Optional &lt;Author&gt; findByVoornaamAndFamilienaam(@Param(value = &quot;voornaam&quot;) String voornaam, @Param(value=&quot;familienaam&quot;) String familienaam);\r\n  public Optional&lt;Author&gt; findAuthorByVoornaamAndFamilienaam(String voornaam, String familienaam)\r\n    {\r\n        Optional &lt;Author&gt; gezochteAuteur = Optional.of(new Author());\r\n        if(authorRepository.findByVoornaamAndFamilienaam(voornaam,familienaam).isPresent())\r\n        {\r\n            gezochteAuteur=  authorRepository.findByVoornaamAndFamilienaam(voornaam,familienaam);\r\n        }\r\n\r\n        return gezochteAuteur;\r\n    }\r\n```\r\n\r\nThanks in advance!\r\n\r\nEDIT: Here is my errorpage\r\n```\r\nThere was an unexpected error (type=Internal Server Error, status=500).\r\norg.hibernate.TransientPropertyValueException: object references an unsaved transient instance - save the transient instance before flushing : be.jeeeens.klasbib.entities.Book.author -&gt; be.jeeeens.klasbib.entities.Author; nested exception is java.lang.IllegalStateException: org.hibernate.TransientPropertyValueException: object references an unsaved transient instance - save the transient instance before flushing : be.jeeeens.klasbib.entities.Book.author -&gt; be.jeeeens.klasbib.entities.Author\r\norg.springframework.dao.InvalidDataAccessApiUsageException: org.hibernate.TransientPropertyValueException: object references an unsaved transient instance - save the transient instance before flushing : be.jeeeens.klasbib.entities.Book.author -&gt; be.jeeeens.klasbib.entities.Author; nested exception is java.lang.IllegalStateException: org.hibernate.TransientPropertyValueException: object references an unsaved transient instance - save the transient instance before flushing : be.jeeeens.klasbib.entities.Book.author -&gt; be.jeeeens.klasbib.entities.Author\r\n\tat org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:371)\r\n\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:235)\r\n\tat org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:566)\r\n\tat org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:743)\r\n\tat org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:711)\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:654)\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:407)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)\r\n\tat com.sun.proxy.$Proxy111.save(Unknown Source)\r\n\tat be.jeeeens.klasbib.service.BookServiceImpl.register(BookServiceImpl.java:23)\r\n\tat be.jeeeens.klasbib.model.BookController.addNewBook(BookController.java:54)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1070)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:681)\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tat java.base/java.lang.Thread.run(Thread.java:834)\r\nCaused by: java.lang.IllegalStateException: org.hibernate.TransientPropertyValueException: object references an unsaved transient instance - save the transient instance before flushing : be.jeeeens.klasbib.entities.Book.author -&gt; be.jeeeens.klasbib.entities.Author\r\n\tat org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:151)\r\n\tat org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:181)\r\n\tat org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:188)\r\n\tat org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1411)\r\n\tat org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:489)\r\n\tat org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:3290)\r\n\tat org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2425)\r\n\tat org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:449)\r\n\tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:183)\r\n\tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$300(JdbcResourceLocalTransactionCoordinatorImpl.java:40)\r\n\tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:281)\r\n\tat org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101)\r\n\tat org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:562)\r\n\t... 66 more\r\nCaused by: org.hibernate.TransientPropertyValueException: object references an unsaved transient instance - save the transient instance before flushing : be.jeeeens.klasbib.entities.Book.author -&gt; be.jeeeens.klasbib.entities.Author\r\n\tat org.hibernate.engine.spi.CascadingActions$8.noCascade(CascadingActions.java:379)\r\n\tat org.hibernate.engine.internal.Cascade.cascade(Cascade.java:169)\r\n\tat org.hibernate.event.internal.AbstractFlushingEventListener.cascadeOnFlush(AbstractFlushingEventListener.java:159)\r\n\tat org.hibernate.event.internal.AbstractFlushingEventListener.prepareEntityFlushes(AbstractFlushingEventListener.java:149)\r\n\tat org.hibernate.event.internal.AbstractFlushingEventListener.flushEverythingToExecutions(AbstractFlushingEventListener.java:82)\r\n\tat org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:39)\r\n\tat org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107)\r\n\tat org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1407)\r\n\t... 75 more\r\n```","title":"Problem with Hibernate: can&#39;t add new entity when the parent isn&#39;t already existing","body":"<p>I'm trying to make a library app, I have a oneToMany relationship between book and Author however I am running into trouble whenever I try to add a new book for an Author that isn't registered yet.\nWhenever i Try to register a book for an existing everything works fine.</p>\n<p>Here is my code:</p>\n<pre><code>@Entity\n@Getter\n@Setter\npublic class Book {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    @NotBlank\n    private String title;\n\n    @ManyToOne\n    private Author author;\n\n    private boolean beschikbaar = true;\n</code></pre>\n<pre><code>@Getter\n@Setter\npublic class Author {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n@NotBlank\n    private String voornaam;\n@NotBlank\n    private String familienaam;\n\n@OneToMany(mappedBy = &quot;author&quot;, cascade = CascadeType.ALL,orphanRemoval = true)\n    private Set&lt;Book&gt; repertoire;\n}\n</code></pre>\n<p>Controller:</p>\n<pre><code>    public String newBookView(Model model) {\n        model.addAttribute(&quot;book&quot;, new Book());\n        model.addAttribute(&quot;auteur&quot;, new Author());\n        return &quot;boekToevoegen&quot;;\n    }\n\n\n        @PostMapping(&quot;/books/new&quot;)\n        public String addNewBook(@Valid Book book, @Valid Author author, BindingResult br)\n        {\n            Optional&lt;Author&gt; mogelijksNieuweAuteur = authorService.findAuthorByVoornaamAndFamilienaam(author.getVoornaam(),author.getFamilienaam());\n\n            if(mogelijksNieuweAuteur.isPresent() &amp;&amp; !br.hasErrors())\n            {\n                Author bestaandeAuteur = mogelijksNieuweAuteur.get();\n                book.setAuthor(bestaandeAuteur);\n                bookService.register(book);\n                return &quot;redirect:/books&quot;;\n\n            } else if (!br.hasErrors()) {\n\n                book.setAuthor(author);\n                bookService.register(book);\n                return &quot;redirect:/books&quot;;\n            }\n\n            else\n            {\n                return &quot;boekToevoegen&quot;;\n            }\n</code></pre>\n<p>View:</p>\n<pre><code>\n  &lt;div class=&quot;col-2&quot;&gt;\n    &lt;label for=&quot;title&quot; class=&quot;form-label&quot;&gt;Titel&lt;/label&gt;\n    &lt;input type=&quot;text&quot; class=&quot;form-control required&quot; id=&quot;title&quot; th:field=&quot;${book.title}&quot;&gt;\n  &lt;/div&gt;\n  &lt;div class=&quot;row&quot; &gt;\n   &lt;div class=&quot;col-3&quot;&gt;\n    &lt;label for=&quot;auteurVoornaam&quot; class=&quot;form-label&quot;&gt;Voornaam auteur &lt;/label&gt;\n    &lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;auteurVoornaam&quot; th:field=&quot;${auteur.voornaam}&quot;&gt;\n&lt;/div&gt;\n    &lt;div class=&quot;col-3&quot;&gt;\n     &lt;label for=&quot;auteurFamilienaam&quot; class=&quot;form-label&quot;&gt;familienaam auteur &lt;/label&gt;\n     &lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;auteurFamilienaam&quot; th:field=&quot;${auteur.familienaam}&quot;&gt;\n   &lt;/div&gt;\n  &lt;/div&gt;\n  &lt;button type=&quot;submit&quot; class=&quot;button btn-primary&quot;&gt; Save &lt;/button&gt;\n&lt;/form&gt;\n</code></pre>\n<p>Repo and corresponding servicefunction:</p>\n<pre><code>\n@Repository\npublic interface AuthorRepository extends JpaRepository&lt;Author,Long&gt; {\n\n@Query(nativeQuery = true,value= &quot;select * from author where voornaam = :voornaam and familienaam = :familienaam&quot;)\n    Optional &lt;Author&gt; findByVoornaamAndFamilienaam(@Param(value = &quot;voornaam&quot;) String voornaam, @Param(value=&quot;familienaam&quot;) String familienaam);\n  public Optional&lt;Author&gt; findAuthorByVoornaamAndFamilienaam(String voornaam, String familienaam)\n    {\n        Optional &lt;Author&gt; gezochteAuteur = Optional.of(new Author());\n        if(authorRepository.findByVoornaamAndFamilienaam(voornaam,familienaam).isPresent())\n        {\n            gezochteAuteur=  authorRepository.findByVoornaamAndFamilienaam(voornaam,familienaam);\n        }\n\n        return gezochteAuteur;\n    }\n</code></pre>\n<p>Thanks in advance!</p>\n<p>EDIT: Here is my errorpage</p>\n<pre><code>There was an unexpected error (type=Internal Server Error, status=500).\norg.hibernate.TransientPropertyValueException: object references an unsaved transient instance - save the transient instance before flushing : be.jeeeens.klasbib.entities.Book.author -&gt; be.jeeeens.klasbib.entities.Author; nested exception is java.lang.IllegalStateException: org.hibernate.TransientPropertyValueException: object references an unsaved transient instance - save the transient instance before flushing : be.jeeeens.klasbib.entities.Book.author -&gt; be.jeeeens.klasbib.entities.Author\norg.springframework.dao.InvalidDataAccessApiUsageException: org.hibernate.TransientPropertyValueException: object references an unsaved transient instance - save the transient instance before flushing : be.jeeeens.klasbib.entities.Book.author -&gt; be.jeeeens.klasbib.entities.Author; nested exception is java.lang.IllegalStateException: org.hibernate.TransientPropertyValueException: object references an unsaved transient instance - save the transient instance before flushing : be.jeeeens.klasbib.entities.Book.author -&gt; be.jeeeens.klasbib.entities.Author\n    at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:371)\n    at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:235)\n    at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:566)\n    at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:743)\n    at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:711)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:654)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:407)\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)\n    at com.sun.proxy.$Proxy111.save(Unknown Source)\n    at be.jeeeens.klasbib.service.BookServiceImpl.register(BookServiceImpl.java:23)\n    at be.jeeeens.klasbib.model.BookController.addNewBook(BookController.java:54)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1070)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\n    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:681)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.base/java.lang.Thread.run(Thread.java:834)\nCaused by: java.lang.IllegalStateException: org.hibernate.TransientPropertyValueException: object references an unsaved transient instance - save the transient instance before flushing : be.jeeeens.klasbib.entities.Book.author -&gt; be.jeeeens.klasbib.entities.Author\n    at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:151)\n    at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:181)\n    at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:188)\n    at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1411)\n    at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:489)\n    at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:3290)\n    at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2425)\n    at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:449)\n    at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:183)\n    at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$300(JdbcResourceLocalTransactionCoordinatorImpl.java:40)\n    at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:281)\n    at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101)\n    at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:562)\n    ... 66 more\nCaused by: org.hibernate.TransientPropertyValueException: object references an unsaved transient instance - save the transient instance before flushing : be.jeeeens.klasbib.entities.Book.author -&gt; be.jeeeens.klasbib.entities.Author\n    at org.hibernate.engine.spi.CascadingActions$8.noCascade(CascadingActions.java:379)\n    at org.hibernate.engine.internal.Cascade.cascade(Cascade.java:169)\n    at org.hibernate.event.internal.AbstractFlushingEventListener.cascadeOnFlush(AbstractFlushingEventListener.java:159)\n    at org.hibernate.event.internal.AbstractFlushingEventListener.prepareEntityFlushes(AbstractFlushingEventListener.java:149)\n    at org.hibernate.event.internal.AbstractFlushingEventListener.flushEverythingToExecutions(AbstractFlushingEventListener.java:82)\n    at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:39)\n    at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107)\n    at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1407)\n    ... 75 more\n</code></pre>\n"},{"tags":["java","android","android-intent","broadcastreceiver","android-broadcast"],"comments":[{"owner":{"account_id":1238309,"reputation":6631,"user_id":1201441,"accept_rate":25,"display_name":"TejaDroid"},"score":0,"creation_date":1437816980,"post_id":31625021,"comment_id":51197967,"body_markdown":"As per demanding Intent, you can pass the action and also pass the bundle value in Intent, which you can use in onReceive","body":"As per demanding Intent, you can pass the action and also pass the bundle value in Intent, which you can use in onReceive"},{"owner":{"account_id":6085540,"reputation":22133,"user_id":4751173,"display_name":"Glorfindel"},"score":0,"creation_date":1437816995,"post_id":31625021,"comment_id":51197973,"body_markdown":"You should never call `onReceive` directly, but [send a broadcast](http://stackoverflow.com/questions/21237197/how-to-use-send-broadcast-method-in-fragment-class) from your context (in this case, the Fragment&#39;s Activity) instead. However, I fail to see what you want to achieve with this - can you tell us a bit more?","body":"You should never call <code>onReceive</code> directly, but <a href=\"http://stackoverflow.com/questions/21237197/how-to-use-send-broadcast-method-in-fragment-class\">send a broadcast</a> from your context (in this case, the Fragment&#39;s Activity) instead. However, I fail to see what you want to achieve with this - can you tell us a bit more?"},{"owner":{"account_id":3997262,"reputation":960,"user_id":3294390,"accept_rate":66,"display_name":"Ravi"},"score":0,"creation_date":1437819117,"post_id":31625021,"comment_id":51198495,"body_markdown":"I want to detect sms as soon as it comes, but I am unable to find what to pass as second argument in OnReceive method. can you help with an example","body":"I want to detect sms as soon as it comes, but I am unable to find what to pass as second argument in OnReceive method. can you help with an example"}],"answers":[{"tags":[],"owner":{"account_id":6682470,"reputation":11,"user_id":5155076,"display_name":"bootiyar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1437819763,"creation_date":1437819763,"answer_id":31625461,"question_id":31625021,"body_markdown":"1. you must add a public interface in your class and create a static instance from it.\r\n2. in your fragment set interface\r\n3. like this..!\r\n\r\n        public class IncomingSms extends BroadcastReceiver {\r\n\r\n        public interface IReceiveSMS{\r\n          public void onReceiveData(/*inser your params here*/);\r\n        }\r\n        public static IReceiveSMS receiverSMS;\r\n        // Get the object of SmsManager\r\n        final SmsManager sms = SmsManager.getDefault();\r\n\r\n        public void onReceive(Context context, Intent intent) {\r\n\r\n        // Retrieves a map of extended data from the intent.\r\n        final Bundle bundle = intent.getExtras();\r\n\r\n        try {\r\n\r\n            if (bundle != null) {\r\n\r\n            final Object[] pdusObj = (Object[]) bundle.get(&quot;pdus&quot;);\r\n\r\n            for (int i = 0; i &lt; pdusObj.length; i++) {\r\n\r\n                SmsMessage currentMessage = SmsMessage.createFromPdu((byte[]) pdusObj[i]);\r\n                String phoneNumber = currentMessage.getDisplayOriginatingAddress();\r\n\r\n                String senderNum = phoneNumber;\r\n                String message = currentMessage.getDisplayMessageBody();\r\n\r\n                Log.i(&quot;SmsReceiver&quot;, &quot;senderNum: &quot; + senderNum + &quot;; message: &quot; + message);\r\n\r\n\r\n                // Show Alert\r\n                int duration = Toast.LENGTH_LONG;\r\n                Toast toast = Toast.makeText(context,\r\n                        &quot;senderNum: &quot;+ senderNum + &quot;, message: &quot; + message, duration);\r\n                toast.show();\r\n\r\n            } // end for loop\r\n          if(receiverSMS != null)\r\n              receiverSMS.onReceiveData(/*inser your params here*/);\r\n        } // bundle is null\r\n  \r\n           } catch (Exception e) {\r\n          Log.e(&quot;SmsReceiver&quot;, &quot;Exception smsReceiver&quot; +e);\r\n \r\n            }\r\n          }\r\n\r\n4. in your fragment\r\n           \r\n          IncomingSms.receiverSMS = new IReceiveSMS{\r\n            @Override\r\n            public void onReceiveData(/*inser your params here*/)\r\n            {\r\n             //use params\r\n            }\r\n         }\r\n5. enjoy","title":"Android : Using Broadcasting Receiver","body":"<ol>\n<li>you must add a public interface in your class and create a static instance from it.</li>\n<li>in your fragment set interface</li>\n<li><p>like this..!</p>\n\n<pre><code>public class IncomingSms extends BroadcastReceiver {\n\npublic interface IReceiveSMS{\n  public void onReceiveData(/*inser your params here*/);\n}\npublic static IReceiveSMS receiverSMS;\n// Get the object of SmsManager\nfinal SmsManager sms = SmsManager.getDefault();\n\npublic void onReceive(Context context, Intent intent) {\n\n// Retrieves a map of extended data from the intent.\nfinal Bundle bundle = intent.getExtras();\n\ntry {\n\n    if (bundle != null) {\n\n    final Object[] pdusObj = (Object[]) bundle.get(\"pdus\");\n\n    for (int i = 0; i &lt; pdusObj.length; i++) {\n\n        SmsMessage currentMessage = SmsMessage.createFromPdu((byte[]) pdusObj[i]);\n        String phoneNumber = currentMessage.getDisplayOriginatingAddress();\n\n        String senderNum = phoneNumber;\n        String message = currentMessage.getDisplayMessageBody();\n\n        Log.i(\"SmsReceiver\", \"senderNum: \" + senderNum + \"; message: \" + message);\n\n\n        // Show Alert\n        int duration = Toast.LENGTH_LONG;\n        Toast toast = Toast.makeText(context,\n                \"senderNum: \"+ senderNum + \", message: \" + message, duration);\n        toast.show();\n\n    } // end for loop\n  if(receiverSMS != null)\n      receiverSMS.onReceiveData(/*inser your params here*/);\n} // bundle is null\n\n   } catch (Exception e) {\n  Log.e(\"SmsReceiver\", \"Exception smsReceiver\" +e);\n\n    }\n  }\n</code></pre></li>\n<li><p>in your fragment</p>\n\n<pre><code>  IncomingSms.receiverSMS = new IReceiveSMS{\n    @Override\n    public void onReceiveData(/*inser your params here*/)\n    {\n     //use params\n    }\n }\n</code></pre></li>\n<li>enjoy</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":6682470,"reputation":11,"user_id":5155076,"display_name":"bootiyar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1437824586,"creation_date":1437822953,"answer_id":31625885,"question_id":31625021,"body_markdown":"if you want call OnReceive ...\r\n\r\n    private void sendBroadcastToAPI() {\r\n\t\tIntent intent = new Intent();\r\n\t\tString action = &quot;your reciver action&quot;;\r\n\t\tBundle bundle = new Bundle();//save data into bundle\r\n\t\tintent.putExtras(bundle);\r\n\t\tintent.setAction(action);\r\n\t\tsendBroadcast(intent);\r\n\t}","title":"Android : Using Broadcasting Receiver","body":"<p>if you want call OnReceive ...</p>\n\n<pre><code>private void sendBroadcastToAPI() {\n    Intent intent = new Intent();\n    String action = \"your reciver action\";\n    Bundle bundle = new Bundle();//save data into bundle\n    intent.putExtras(bundle);\n    intent.setAction(action);\n    sendBroadcast(intent);\n}\n</code></pre>\n"}],"owner":{"account_id":3997262,"reputation":960,"user_id":3294390,"accept_rate":66,"display_name":"Ravi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1663710347,"creation_date":1437816474,"question_id":31625021,"body_markdown":"I want to read the SMS when it newly comes to my cellphone, I have implemented IncomingSms.java based on [this article][1] to check for new SMS as\r\n\r\nIncomingSms.java\r\n\r\n    public class IncomingSms extends BroadcastReceiver {\r\n\r\n    // Get the object of SmsManager\r\n    final SmsManager sms = SmsManager.getDefault();\r\n\r\n    public void onReceive(Context context, Intent intent) {\r\n\r\n        // Retrieves a map of extended data from the intent.\r\n        final Bundle bundle = intent.getExtras();\r\n\r\n        try {\r\n\r\n            if (bundle != null) {\r\n\r\n                final Object[] pdusObj = (Object[]) bundle.get(&quot;pdus&quot;);\r\n\r\n                for (int i = 0; i &lt; pdusObj.length; i++) {\r\n\r\n                    SmsMessage currentMessage = SmsMessage.createFromPdu((byte[]) pdusObj[i]);\r\n                    String phoneNumber = currentMessage.getDisplayOriginatingAddress();\r\n\r\n                    String senderNum = phoneNumber;\r\n                    String message = currentMessage.getDisplayMessageBody();\r\n\r\n                    Log.i(&quot;SmsReceiver&quot;, &quot;senderNum: &quot; + senderNum + &quot;; message: &quot; + message);\r\n\r\n\r\n                    // Show Alert\r\n                    int duration = Toast.LENGTH_LONG;\r\n                    Toast toast = Toast.makeText(context,\r\n                            &quot;senderNum: &quot;+ senderNum + &quot;, message: &quot; + message, duration);\r\n                    toast.show();\r\n\r\n                } // end for loop\r\n            } // bundle is null\r\n\r\n        } catch (Exception e) {\r\n            Log.e(&quot;SmsReceiver&quot;, &quot;Exception smsReceiver&quot; +e);\r\n\r\n        }\r\n    }\r\n}\r\n\r\nbut now the problem is I want to call `onReceive` in my other fragment to but I don&#39;t know what to pass as second argument in `onReceive` method which is demanding Intent ...\r\n\r\n\r\n  [1]: https://androidexample.com/incomming-sms-broadcast-receiver","title":"Android : Using Broadcasting Receiver","body":"<p>I want to read the SMS when it newly comes to my cellphone, I have implemented IncomingSms.java based on <a href=\"https://androidexample.com/incomming-sms-broadcast-receiver\" rel=\"nofollow noreferrer\">this article</a> to check for new SMS as</p>\n<p>IncomingSms.java</p>\n<pre><code>public class IncomingSms extends BroadcastReceiver {\n\n// Get the object of SmsManager\nfinal SmsManager sms = SmsManager.getDefault();\n\npublic void onReceive(Context context, Intent intent) {\n\n    // Retrieves a map of extended data from the intent.\n    final Bundle bundle = intent.getExtras();\n\n    try {\n\n        if (bundle != null) {\n\n            final Object[] pdusObj = (Object[]) bundle.get(&quot;pdus&quot;);\n\n            for (int i = 0; i &lt; pdusObj.length; i++) {\n\n                SmsMessage currentMessage = SmsMessage.createFromPdu((byte[]) pdusObj[i]);\n                String phoneNumber = currentMessage.getDisplayOriginatingAddress();\n\n                String senderNum = phoneNumber;\n                String message = currentMessage.getDisplayMessageBody();\n\n                Log.i(&quot;SmsReceiver&quot;, &quot;senderNum: &quot; + senderNum + &quot;; message: &quot; + message);\n\n\n                // Show Alert\n                int duration = Toast.LENGTH_LONG;\n                Toast toast = Toast.makeText(context,\n                        &quot;senderNum: &quot;+ senderNum + &quot;, message: &quot; + message, duration);\n                toast.show();\n\n            } // end for loop\n        } // bundle is null\n\n    } catch (Exception e) {\n        Log.e(&quot;SmsReceiver&quot;, &quot;Exception smsReceiver&quot; +e);\n\n    }\n}\n</code></pre>\n<p>}</p>\n<p>but now the problem is I want to call <code>onReceive</code> in my other fragment to but I don't know what to pass as second argument in <code>onReceive</code> method which is demanding Intent ...</p>\n"},{"tags":["java","android","smsmanager"],"answers":[{"tags":[],"owner":{"account_id":4743969,"reputation":1799,"user_id":3835765,"display_name":"Abhijeet Dhumal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1439975584,"creation_date":1439975584,"answer_id":32091240,"question_id":32089392,"body_markdown":"You will need to concatenate multi part message by hand. \r\nIn your code you will need to do some modification to handle multipart messages separately as below.\r\n\r\n    public class IncomingSms extends BroadcastReceiver {\r\n        // Get the object of SmsManager\r\n        final SmsManager sms = SmsManager.getDefault();\r\n        public void onReceive(Context context, Intent intent) {\r\n            // Retrieves a map of extended data from the intent.\r\n            final Bundle bundle = intent.getExtras();\r\n    \t\tSmsMessage messages = null;\r\n            try {\r\n                if (bundle != null) {\r\n                    final Object[] pdusObj = (Object[]) bundle.get(&quot;pdus&quot;);\r\n    \t\t\t\tmessages = new SmsMessage[pdus.length];\r\n                    for (int i = 0; i &lt; pdusObj.length; i++) {\r\n                        messages[i] = SmsMessage.createFromPdu((byte[]) pdusObj[i]);\r\n                        \r\n                       } // end for loop\r\n                } // bundle is null\r\n            } catch (Exception e) {\r\n                Log.e(&quot;SmsReceiver&quot;, &quot;Exception smsReceiver&quot; +e);\r\n            }\r\n    \t\tSmsMessage sms = messages[0];\r\n    \t\tString message;\r\n    \t\ttry {\r\n    \t\t\tif (messages.length == 1 || sms.isReplace()) {\r\n    \t\t\t\r\n    \t\t\t\tString phoneNumber = sms.getDisplayOriginatingAddress();\r\n                        String senderNum = phoneNumber;\r\n                         message = sms.getMessageBody();\r\n                        Log.info(&quot;SmsReceiver&quot;, &quot;senderNum: &quot; + senderNum + &quot;; message: &quot; + message+&quot;; Date=&quot;+sms.getTimestampMillis());\r\n    //sending to API\r\n    \t\t\t} else {\r\n    \t\t\tStringBuilder bodyText = new StringBuilder();\r\n    \t\t\tfor (int j = 0; j &lt; messages.length; j++) {\r\n    \t\t\t\tbodyText.append(messages[j].getMessageBody());\r\n    \t\t\t}\r\n    \t\t\tmessage = bodyText.toString();\r\n    \t\t}\r\n    \t\t} catch (Exception e) {\r\n    \r\n    \t\t}\r\n    \t\t\t\t\t\r\n        }\r\n    }","title":"How to Merge two SmsMessages into a single SmsMessage?","body":"<p>You will need to concatenate multi part message by hand. \nIn your code you will need to do some modification to handle multipart messages separately as below.</p>\n\n<pre><code>public class IncomingSms extends BroadcastReceiver {\n    // Get the object of SmsManager\n    final SmsManager sms = SmsManager.getDefault();\n    public void onReceive(Context context, Intent intent) {\n        // Retrieves a map of extended data from the intent.\n        final Bundle bundle = intent.getExtras();\n        SmsMessage messages = null;\n        try {\n            if (bundle != null) {\n                final Object[] pdusObj = (Object[]) bundle.get(\"pdus\");\n                messages = new SmsMessage[pdus.length];\n                for (int i = 0; i &lt; pdusObj.length; i++) {\n                    messages[i] = SmsMessage.createFromPdu((byte[]) pdusObj[i]);\n\n                   } // end for loop\n            } // bundle is null\n        } catch (Exception e) {\n            Log.e(\"SmsReceiver\", \"Exception smsReceiver\" +e);\n        }\n        SmsMessage sms = messages[0];\n        String message;\n        try {\n            if (messages.length == 1 || sms.isReplace()) {\n\n                String phoneNumber = sms.getDisplayOriginatingAddress();\n                    String senderNum = phoneNumber;\n                     message = sms.getMessageBody();\n                    Log.info(\"SmsReceiver\", \"senderNum: \" + senderNum + \"; message: \" + message+\"; Date=\"+sms.getTimestampMillis());\n//sending to API\n            } else {\n            StringBuilder bodyText = new StringBuilder();\n            for (int j = 0; j &lt; messages.length; j++) {\n                bodyText.append(messages[j].getMessageBody());\n            }\n            message = bodyText.toString();\n        }\n        } catch (Exception e) {\n\n        }\n\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":2822377,"reputation":12101,"user_id":2425851,"accept_rate":50,"display_name":"NickUnuchek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":206,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":32091240,"answer_count":1,"score":1,"last_activity_date":1663710222,"creation_date":1439970179,"question_id":32089392,"body_markdown":"I create broadcast with following code (from [this article][1]):\r\n\r\n    public class IncomingSms extends BroadcastReceiver {\r\n    \r\n        // Get the object of SmsManager\r\n        final SmsManager sms = SmsManager.getDefault();\r\n    \r\n        public void onReceive(Context context, Intent intent) {\r\n    \r\n            // Retrieves a map of extended data from the intent.\r\n            final Bundle bundle = intent.getExtras();\r\n    \r\n            try {\r\n    \r\n                if (bundle != null) {\r\n    \r\n                    final Object[] pdusObj = (Object[]) bundle.get(&quot;pdus&quot;);\r\n    \r\n                    for (int i = 0; i &lt; pdusObj.length; i++) {\r\n    \r\n                        SmsMessage currentMessage = SmsMessage.createFromPdu((byte[]) pdusObj[i]);\r\n                        String phoneNumber = currentMessage.getDisplayOriginatingAddress();\r\n    \r\n                        String senderNum = phoneNumber;\r\n                        String message = currentMessage.getMessageBody();\r\n                            \r\n                        Log.i(&quot;SmsReceiver&quot;, &quot;senderNum: &quot; + senderNum + &quot;; message: &quot; + message+&quot;; Date=&quot;+currentMessage.getTimestampMillis());\r\n    //sending to API\r\n                       } // end for loop\r\n                } // bundle is null\r\n    \r\n            } catch (Exception e) {\r\n                Log.e(&quot;SmsReceiver&quot;, &quot;Exception smsReceiver&quot; +e);\r\n    \r\n            }\r\n        }\r\n\r\n\r\nBut when I receive a long sms (two sms in one),for ex. SMS sent:&quot;bodyOfTheFirstSMS,bodyOfTheSecondSMS&quot;, then it is cut to two logs:\r\n\r\n    1) senderNum: +333333333333; message: &quot;bodyOfTheFirstSMS,&quot;; Date=1439968674000\r\n    2) senderNum: +333333333333; message: &quot;bodyOfTheSecondSMS&quot;; Date=1439968677000\r\n\r\ndifferent is only Date of this messages. \r\n\r\n**How to check that it&#39;s a parts of the one single SMS? Is there any field in SmsMessage, that indicates that this is one message?**\r\n\r\n \r\n\r\n\r\n  [1]: https://androidexample.com/incomming-sms-broadcast-receiver","title":"How to Merge two SmsMessages into a single SmsMessage?","body":"<p>I create broadcast with following code (from <a href=\"https://androidexample.com/incomming-sms-broadcast-receiver\" rel=\"nofollow noreferrer\">this article</a>):</p>\n<pre><code>public class IncomingSms extends BroadcastReceiver {\n\n    // Get the object of SmsManager\n    final SmsManager sms = SmsManager.getDefault();\n\n    public void onReceive(Context context, Intent intent) {\n\n        // Retrieves a map of extended data from the intent.\n        final Bundle bundle = intent.getExtras();\n\n        try {\n\n            if (bundle != null) {\n\n                final Object[] pdusObj = (Object[]) bundle.get(&quot;pdus&quot;);\n\n                for (int i = 0; i &lt; pdusObj.length; i++) {\n\n                    SmsMessage currentMessage = SmsMessage.createFromPdu((byte[]) pdusObj[i]);\n                    String phoneNumber = currentMessage.getDisplayOriginatingAddress();\n\n                    String senderNum = phoneNumber;\n                    String message = currentMessage.getMessageBody();\n                        \n                    Log.i(&quot;SmsReceiver&quot;, &quot;senderNum: &quot; + senderNum + &quot;; message: &quot; + message+&quot;; Date=&quot;+currentMessage.getTimestampMillis());\n//sending to API\n                   } // end for loop\n            } // bundle is null\n\n        } catch (Exception e) {\n            Log.e(&quot;SmsReceiver&quot;, &quot;Exception smsReceiver&quot; +e);\n\n        }\n    }\n</code></pre>\n<p>But when I receive a long sms (two sms in one),for ex. SMS sent:&quot;bodyOfTheFirstSMS,bodyOfTheSecondSMS&quot;, then it is cut to two logs:</p>\n<pre><code>1) senderNum: +333333333333; message: &quot;bodyOfTheFirstSMS,&quot;; Date=1439968674000\n2) senderNum: +333333333333; message: &quot;bodyOfTheSecondSMS&quot;; Date=1439968677000\n</code></pre>\n<p>different is only Date of this messages.</p>\n<p><strong>How to check that it's a parts of the one single SMS? Is there any field in SmsMessage, that indicates that this is one message?</strong></p>\n"},{"tags":["java","android","canvas","opengl-es","mediapipe"],"comments":[{"owner":{"account_id":253976,"reputation":10814,"user_id":533037,"accept_rate":60,"display_name":"solidpixel"},"score":0,"creation_date":1663710224,"post_id":73770237,"comment_id":130303171,"body_markdown":"What does &quot;not showing correct&quot; mean? Are the device_width and device_height values correct? In the right orientation?","body":"What does &quot;not showing correct&quot; mean? Are the device_width and device_height values correct? In the right orientation?"}],"answers":[{"tags":[],"owner":{"account_id":253976,"reputation":10814,"user_id":533037,"accept_rate":60,"display_name":"solidpixel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663710092,"creation_date":1663710092,"answer_id":73792940,"question_id":73770237,"body_markdown":"You need to multiply NDCs by your render target dimensions.","title":"How to convert Normalized Device Coordinates to pixel coordinates for canvas on Android?","body":"<p>You need to multiply NDCs by your render target dimensions.</p>\n"}],"owner":{"account_id":4708695,"reputation":529,"user_id":3809936,"display_name":"kulvinder"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":212,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1663710092,"creation_date":1663574646,"question_id":73770237,"body_markdown":"I&#39;m using Mediapipe framework to detect hands and i want to display own image on finger&#39;s landmark. The library provides landmarks in form of &quot;Normalized Device Coordinate&quot;(0...1). So i need to convert these coordinates to device(phone) coordinates in form of pixels.\r\n\r\nTried\r\n\r\n \r\n\r\n      int  width= device_width;\r\n      int  height= device_height;\r\n\r\n            float  x = (float) ( handLandmarkList.get(HandLandmark.RING_FINGER_PIP).getX() * width );\r\n            float  y = (float) (  handLandmarkList.get(HandLandmark.RING_FINGER_PIP).getY()*height );\r\n\r\nx and y coordinates are not showing correct on device.\r\n ","title":"How to convert Normalized Device Coordinates to pixel coordinates for canvas on Android?","body":"<p>I'm using Mediapipe framework to detect hands and i want to display own image on finger's landmark. The library provides landmarks in form of &quot;Normalized Device Coordinate&quot;(0...1). So i need to convert these coordinates to device(phone) coordinates in form of pixels.</p>\n<p>Tried</p>\n<pre><code>  int  width= device_width;\n  int  height= device_height;\n\n        float  x = (float) ( handLandmarkList.get(HandLandmark.RING_FINGER_PIP).getX() * width );\n        float  y = (float) (  handLandmarkList.get(HandLandmark.RING_FINGER_PIP).getY()*height );\n</code></pre>\n<p>x and y coordinates are not showing correct on device.</p>\n"},{"tags":["java","c#","clr"],"answers":[{"tags":[],"owner":{"account_id":361984,"reputation":11,"user_id":2655010,"display_name":"vahokie02"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663709268,"creation_date":1663709268,"answer_id":73792829,"question_id":68964120,"body_markdown":"I don&#39;t think `Dictionary` has an equivalent. Its `GetValueOrDefault` doesn&#39;t work since it doesn&#39;t take a function. I think your code in an extension function is about as good as you can do for `Dictionary`. There is a solution if you use `ConcurrentDictionary`; it has `GetOrAdd`, which does what you want. From `ConcurrentDictionary`: \r\n\r\n```\r\npublic TValue GetOrAdd(TKey key, Func&lt;TKey, TValue&gt; valueFactory)\r\n{\r\n ...\r\n}\r\n```\r\n\r\nSo something like\r\n```\r\nvar dict = new ConcurrentDictionary&lt;string, int&gt;();\r\ndict[&quot;blue&quot;] = 3;\r\n\r\nvar v1 = dict.GetOrAdd(&quot;blue&quot;, k =&gt; k.Length); // v1 == 3\r\n\r\nvar v2 = dict.GetOrAdd(&quot;cerulean&quot;, k =&gt; k.Length); // v2 == 8\r\n```\r\nHope this helps somebody, since you&#39;ve probably moved on by now.\r\n\r\nCheers.","title":"What&#39;s the quivalent of Java Map&#39;s &quot;computeIfAbsent&quot; in C# Dictionary?","body":"<p>I don't think <code>Dictionary</code> has an equivalent. Its <code>GetValueOrDefault</code> doesn't work since it doesn't take a function. I think your code in an extension function is about as good as you can do for <code>Dictionary</code>. There is a solution if you use <code>ConcurrentDictionary</code>; it has <code>GetOrAdd</code>, which does what you want. From <code>ConcurrentDictionary</code>:</p>\n<pre><code>public TValue GetOrAdd(TKey key, Func&lt;TKey, TValue&gt; valueFactory)\n{\n ...\n}\n</code></pre>\n<p>So something like</p>\n<pre><code>var dict = new ConcurrentDictionary&lt;string, int&gt;();\ndict[&quot;blue&quot;] = 3;\n\nvar v1 = dict.GetOrAdd(&quot;blue&quot;, k =&gt; k.Length); // v1 == 3\n\nvar v2 = dict.GetOrAdd(&quot;cerulean&quot;, k =&gt; k.Length); // v2 == 8\n</code></pre>\n<p>Hope this helps somebody, since you've probably moved on by now.</p>\n<p>Cheers.</p>\n"}],"owner":{"account_id":15082461,"reputation":61,"user_id":10884717,"display_name":"qouteall"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":987,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":1,"score":6,"last_activity_date":1663709268,"creation_date":1630151735,"question_id":68964120,"body_markdown":"In Java, the HashMap has a method `computeIfAbsent` that, if the value is not found, compute it using the given function. However, I didn&#39;t find an equivalent thing in C#&#39;s Dictionary. \r\n\r\n( `TryAdd` is similar but I want to avoid re-computing the value if the value exists in the dictionary.)\r\n\r\nI can manually implement it\r\n```\r\npublic static V ComputeIfAbsent&lt;K, V&gt;(this Dictionary&lt;K, V&gt; dict, K key, Func&lt;K, V&gt; generator) {\r\n    bool exists = dict.TryGetValue(key, out var value);\r\n    if (exists) {\r\n        return value;\r\n    }\r\n    var generated = generator(key);\r\n    dict.Add(key, generated);\r\n    return generated;\r\n}\r\n```\r\nBut I don&#39;t want to write something duplicate to the core library.","title":"What&#39;s the quivalent of Java Map&#39;s &quot;computeIfAbsent&quot; in C# Dictionary?","body":"<p>In Java, the HashMap has a method <code>computeIfAbsent</code> that, if the value is not found, compute it using the given function. However, I didn't find an equivalent thing in C#'s Dictionary.</p>\n<p>( <code>TryAdd</code> is similar but I want to avoid re-computing the value if the value exists in the dictionary.)</p>\n<p>I can manually implement it</p>\n<pre><code>public static V ComputeIfAbsent&lt;K, V&gt;(this Dictionary&lt;K, V&gt; dict, K key, Func&lt;K, V&gt; generator) {\n    bool exists = dict.TryGetValue(key, out var value);\n    if (exists) {\n        return value;\n    }\n    var generated = generator(key);\n    dict.Add(key, generated);\n    return generated;\n}\n</code></pre>\n<p>But I don't want to write something duplicate to the core library.</p>\n"},{"tags":["java","spring","jpa","spring-data-jpa","spring-data"],"comments":[{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":0,"creation_date":1644417995,"post_id":71045788,"comment_id":125601811,"body_markdown":"If they are the same, and you pass the channelId why youu need two queries that do exacly the same?","body":"If they are the same, and you pass the channelId why youu need two queries that do exacly the same?"},{"owner":{"account_id":10676710,"reputation":230,"user_id":7859960,"display_name":"Jai Nath Gupta"},"score":0,"creation_date":1644914587,"post_id":71045788,"comment_id":125724682,"body_markdown":"But both quey has different View/Table name. I mean schema is the same but the table is different.","body":"But both quey has different View/Table name. I mean schema is the same but the table is different."}],"answers":[{"tags":[],"owner":{"account_id":1592325,"reputation":654,"user_id":1475378,"display_name":"Uyric"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1663709264,"creation_date":1663709264,"answer_id":73792828,"question_id":71045788,"body_markdown":"JPA Named Queries are static, you cannot use a dynamic table name.\r\n\r\nA couple of alternatives below. If you can alter the Java model, the first is preferable because it&#39;s based on a change that adapts the entities to your database, instead of adding complexity with dynamic queries.\r\n\r\n\r\nOption #1: Define abstract `PeriodEntity` and children\r\n------------------------------------------------------\r\n\r\nFrom your queries, it seems both tables `v_NRT_Time_Hier_RTL_FRCH` and `v_Day_Time_Hier_RTL` represent identical entities. You can define an abstract `PeriodEntity` class annotated with `@MappedSuperclass` and defining the shared attributes. Then define entities for each children that shares this structure.\r\n\r\n```java\r\n@MappedSuperclass\r\npublic abstract class PeriodEntity {\r\n    @Column(name = &quot;LEVELNAME&quot;)\r\n    String levelName;\r\n\r\n    @Column(name = &quot;Channel_key&quot;)\r\n    String channelKey;\r\n\r\n    // etc.\r\n}\r\n\r\n@Entity\r\n@Table(name = &quot;v_NRT_Time_Hier_RTL_FRCH&quot;)\r\npublic class NrtTimePeriodEntity extends PeriodEntity {\r\n}\r\n\r\n@Entity\r\n@Table(name = &quot;v_Day_Time_Hier_RTL&quot;)\r\npublic class DayTimePeriodEntity extends PeriodEntity {\r\n}\r\n```\r\n\r\nYour named native queries can then be replaced by non-native named queries, like: `SELECT T FROM DayTimePeriodEntity T WHERE channelKey = :channelId`.\r\n\r\nFrom JPA 1.4.3, you can use a generic expression to refer to the entity name, and it will be replaced when the query is run: `SELECT T FROM #{#entityName} T ...`. That would let you go even further and define a single query for both entities.\r\n\r\n\r\n\r\nOption #2: &quot;Dynamic&quot; Native query\r\n---------------------------------\r\n\r\nAnother approach without changing your model is to define the Named Query in the code, moving it from the orm.xml to a custom method in a repository class. You can have any SQL and apply string processing to change the name of the table.\r\n\r\nIn your repository you would have something like:\r\n\r\n```java\r\nstatic final String SQL = &quot;SELECT * FROM &lt;table&gt; WHERE Channel_key = :channelId&quot;;\r\n\r\n@PersistenceContext\r\nEntityManager entityManager;\r\n\r\npublic List&lt;PeriodEntity&gt; findDayTimeByChannelId(String channelId) {\r\n    String sql = SQL.replaceAll(&quot;&lt;table&gt;&quot;, v_Day_Time_Hier_RTL);\r\n    Query q = entityManager.createNativeQuery(sql, PeriodEntity.class);\r\n    q.setParameter(&quot;channelId&quot;, channelId);\r\n    return q.getResultList();\r\n}\r\n```","title":"Spring Data JPA Named Native Queries pass Dynamic table name","body":"<p>JPA Named Queries are static, you cannot use a dynamic table name.</p>\n<p>A couple of alternatives below. If you can alter the Java model, the first is preferable because it's based on a change that adapts the entities to your database, instead of adding complexity with dynamic queries.</p>\n<h2>Option #1: Define abstract <code>PeriodEntity</code> and children</h2>\n<p>From your queries, it seems both tables <code>v_NRT_Time_Hier_RTL_FRCH</code> and <code>v_Day_Time_Hier_RTL</code> represent identical entities. You can define an abstract <code>PeriodEntity</code> class annotated with <code>@MappedSuperclass</code> and defining the shared attributes. Then define entities for each children that shares this structure.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@MappedSuperclass\npublic abstract class PeriodEntity {\n    @Column(name = &quot;LEVELNAME&quot;)\n    String levelName;\n\n    @Column(name = &quot;Channel_key&quot;)\n    String channelKey;\n\n    // etc.\n}\n\n@Entity\n@Table(name = &quot;v_NRT_Time_Hier_RTL_FRCH&quot;)\npublic class NrtTimePeriodEntity extends PeriodEntity {\n}\n\n@Entity\n@Table(name = &quot;v_Day_Time_Hier_RTL&quot;)\npublic class DayTimePeriodEntity extends PeriodEntity {\n}\n</code></pre>\n<p>Your named native queries can then be replaced by non-native named queries, like: <code>SELECT T FROM DayTimePeriodEntity T WHERE channelKey = :channelId</code>.</p>\n<p>From JPA 1.4.3, you can use a generic expression to refer to the entity name, and it will be replaced when the query is run: <code>SELECT T FROM #{#entityName} T ...</code>. That would let you go even further and define a single query for both entities.</p>\n<h2>Option #2: &quot;Dynamic&quot; Native query</h2>\n<p>Another approach without changing your model is to define the Named Query in the code, moving it from the orm.xml to a custom method in a repository class. You can have any SQL and apply string processing to change the name of the table.</p>\n<p>In your repository you would have something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>static final String SQL = &quot;SELECT * FROM &lt;table&gt; WHERE Channel_key = :channelId&quot;;\n\n@PersistenceContext\nEntityManager entityManager;\n\npublic List&lt;PeriodEntity&gt; findDayTimeByChannelId(String channelId) {\n    String sql = SQL.replaceAll(&quot;&lt;table&gt;&quot;, v_Day_Time_Hier_RTL);\n    Query q = entityManager.createNativeQuery(sql, PeriodEntity.class);\n    q.setParameter(&quot;channelId&quot;, channelId);\n    return q.getResultList();\n}\n</code></pre>\n"}],"owner":{"account_id":10676710,"reputation":230,"user_id":7859960,"display_name":"Jai Nath Gupta"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1757,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1663709264,"creation_date":1644393311,"question_id":71045788,"body_markdown":"I have repeated select query with exact same column but different Table/View name.\r\nIs there any option to reduce the number of lines from my orm.xml file?\r\n\r\nExample:\r\n\r\n    &lt;named-native-query name=&quot;PeriodEntity.periodQuery.NA&quot;\r\n                        result-class=&quot;com.data.store.foundation.model.PeriodEntity&quot;&gt;\r\n        &lt;query&gt;\r\n            SELECT\r\n                LEVELNAME,\r\n                TIME_SVC_LVL_OPR_DESC,\r\n                TIME_SVC_LVL_NBR,\r\n                CALENDARID,\r\n                CHANNEL_KEY,\r\n                ISCURRENT,\r\n                PREVIOUS_CALENDARID,\r\n                START_DT,\r\n                ENDDATE,\r\n                CXT,\r\n                CAL_YEAR,\r\n                ID,\r\n                RANGE_DATE,\r\n                LBL,\r\n                SHORT_LABEL,\r\n                FISCAL_YEAR\r\n            FROM\r\n                dbo.v_NRT_Time_Hier_RTL_FRCH\r\n            WHERE\r\n                Channel_key = :channelId\r\n        &lt;/query&gt;\r\n    &lt;/named-native-query&gt;\r\n\r\n    &lt;named-native-query name=&quot;PeriodEntity.periodQuery.EU&quot;\r\n                        result-class=&quot;com.data.store.foundation.model.PeriodEntity&quot;&gt;\r\n        &lt;query&gt;\r\n            SELECT\r\n                LEVELNAME,\r\n                TIME_SVC_LVL_OPR_DESC,\r\n                TIME_SVC_LVL_NBR,\r\n                CALENDARID,\r\n                CHANNEL_KEY,\r\n                ISCURRENT,\r\n                PREVIOUS_CALENDARID,\r\n                START_DT,\r\n                ENDDATE,\r\n                CXT,\r\n                CAL_YEAR,\r\n                ID,\r\n                RANGE_DATE,\r\n                LBL,\r\n                SHORT_LABEL,\r\n                FISCAL_YEAR\r\n            FROM\r\n                dbo.v_Day_Time_Hier_RTL\r\n            WHERE\r\n                Channel_key = :channelId\r\n        &lt;/query&gt;\r\n    &lt;/named-native-query&gt;\r\n\r\nNote: \r\n\r\n 1. We are selecting only required columns from the table/view.\r\n 2. Can we declare a variable for all columns and use a variable name in the select query?\r\n 3. Can we provide the table/view name dynamically? So single &lt;named-native-query name=&quot;PeriodEntity.periodQuery.**Generic**&quot; will work for both?\r\n\r\n","title":"Spring Data JPA Named Native Queries pass Dynamic table name","body":"<p>I have repeated select query with exact same column but different Table/View name.\nIs there any option to reduce the number of lines from my orm.xml file?</p>\n<p>Example:</p>\n<pre><code>&lt;named-native-query name=&quot;PeriodEntity.periodQuery.NA&quot;\n                    result-class=&quot;com.data.store.foundation.model.PeriodEntity&quot;&gt;\n    &lt;query&gt;\n        SELECT\n            LEVELNAME,\n            TIME_SVC_LVL_OPR_DESC,\n            TIME_SVC_LVL_NBR,\n            CALENDARID,\n            CHANNEL_KEY,\n            ISCURRENT,\n            PREVIOUS_CALENDARID,\n            START_DT,\n            ENDDATE,\n            CXT,\n            CAL_YEAR,\n            ID,\n            RANGE_DATE,\n            LBL,\n            SHORT_LABEL,\n            FISCAL_YEAR\n        FROM\n            dbo.v_NRT_Time_Hier_RTL_FRCH\n        WHERE\n            Channel_key = :channelId\n    &lt;/query&gt;\n&lt;/named-native-query&gt;\n\n&lt;named-native-query name=&quot;PeriodEntity.periodQuery.EU&quot;\n                    result-class=&quot;com.data.store.foundation.model.PeriodEntity&quot;&gt;\n    &lt;query&gt;\n        SELECT\n            LEVELNAME,\n            TIME_SVC_LVL_OPR_DESC,\n            TIME_SVC_LVL_NBR,\n            CALENDARID,\n            CHANNEL_KEY,\n            ISCURRENT,\n            PREVIOUS_CALENDARID,\n            START_DT,\n            ENDDATE,\n            CXT,\n            CAL_YEAR,\n            ID,\n            RANGE_DATE,\n            LBL,\n            SHORT_LABEL,\n            FISCAL_YEAR\n        FROM\n            dbo.v_Day_Time_Hier_RTL\n        WHERE\n            Channel_key = :channelId\n    &lt;/query&gt;\n&lt;/named-native-query&gt;\n</code></pre>\n<p>Note:</p>\n<ol>\n<li>We are selecting only required columns from the table/view.</li>\n<li>Can we declare a variable for all columns and use a variable name in the select query?</li>\n<li>Can we provide the table/view name dynamically? So single &lt;named-native-query name=&quot;PeriodEntity.periodQuery.<strong>Generic</strong>&quot; will work for both?</li>\n</ol>\n"},{"tags":["java","android","eclipse"],"comments":[{"owner":{"account_id":3046327,"reputation":10175,"user_id":2581872,"accept_rate":90,"display_name":"hichris123"},"score":0,"creation_date":1386625288,"post_id":20481371,"comment_id":30609662,"body_markdown":"Do you want those messages to be in a toast?","body":"Do you want those messages to be in a toast?"},{"owner":{"account_id":94864,"reputation":6426,"user_id":258741,"accept_rate":57,"display_name":"Zeus"},"score":0,"creation_date":1386625295,"post_id":20481371,"comment_id":30609667,"body_markdown":"Can you specify where you are trying to Display?","body":"Can you specify where you are trying to Display?"},{"owner":{"account_id":324610,"reputation":18889,"user_id":645270,"accept_rate":100,"display_name":"keyser"},"score":0,"creation_date":1386625310,"post_id":20481371,"comment_id":30609674,"body_markdown":"I was just going to ask what @hichris123 asked. It seems like you do. How about changing the toast message instead?","body":"I was just going to ask what @hichris123 asked. It seems like you do. How about changing the toast message instead?"},{"owner":{"account_id":3706037,"reputation":89,"user_id":3084548,"accept_rate":60,"display_name":"michelle13"},"score":0,"creation_date":1386630035,"post_id":20481371,"comment_id":30612172,"body_markdown":"@hichris123 did you mean the values i want to display and not the incoming message? no . I just wanted to know how to determine if a certain value or string is present on the messaged sent. then i will execute a certain message. thanks","body":"@hichris123 did you mean the values i want to display and not the incoming message? no . I just wanted to know how to determine if a certain value or string is present on the messaged sent. then i will execute a certain message. thanks"},{"owner":{"account_id":3046327,"reputation":10175,"user_id":2581872,"accept_rate":90,"display_name":"hichris123"},"score":0,"creation_date":1386630150,"post_id":20481371,"comment_id":30612226,"body_markdown":"It looks like you are checking whatthe message contains. So if a person sends one, what do you want to do with that information? Display a toast? Update a textview?","body":"It looks like you are checking whatthe message contains. So if a person sends one, what do you want to do with that information? Display a toast? Update a textview?"},{"owner":{"account_id":3706037,"reputation":89,"user_id":3084548,"accept_rate":60,"display_name":"michelle13"},"score":0,"creation_date":1386630567,"post_id":20481371,"comment_id":30612395,"body_markdown":"update a textview. but how do i do that. i want to display a message when for example an incoming message contains &quot;1&quot;","body":"update a textview. but how do i do that. i want to display a message when for example an incoming message contains &quot;1&quot;"},{"owner":{"account_id":3046327,"reputation":10175,"user_id":2581872,"accept_rate":90,"display_name":"hichris123"},"score":0,"creation_date":1386631417,"post_id":20481371,"comment_id":30612731,"body_markdown":"Do you want this message to be on the screen, or in your LogCat?","body":"Do you want this message to be on the screen, or in your LogCat?"}],"answers":[{"tags":[],"owner":{"account_id":3549806,"reputation":8516,"user_id":2964945,"display_name":"Melquiades"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1386631069,"creation_date":1386630696,"answer_id":20482808,"question_id":20481371,"body_markdown":"Use:\r\n\r\n    if (message.contains(&quot;1&quot;)) {\r\n        //do something is message contains string &#39;1&#39; anywhere\r\n        Log.d(&quot;MYTAG&quot;, &quot;user send 1&quot;);\r\n    }\r\n\r\nor\r\n \r\n    if (message.equals(&quot;1&quot;)) {\r\n        //do something if the whole message equals to string &#39;1&#39;\r\n        Log.d(&quot;MYTAG&quot;, &quot;user send 1&quot;);\r\n    }\r\n\r\nRead [here](http://docs.oracle.com/javase/7/docs/api/java/lang/String.html) about String methods.\r\n\r\nTo update textView (assuming you have one defined in xml), find it with findViewById() and then use:\r\n\r\n    myTextView.setText(&quot;user send 1&quot;)\r\n\r\nYou can also display a message in logcat, so instead of using System.out.println(), use:\r\n\r\n    Log.d(&quot;MYTAG&quot;, &quot;user send 1&quot;);\r\n\r\nor whatever message you want. More on layouts [here](http://developer.android.com/guide/topics/ui/declaring-layout.html)","title":"How to display text on android when certain SMS message is received","body":"<p>Use:</p>\n\n<pre><code>if (message.contains(\"1\")) {\n    //do something is message contains string '1' anywhere\n    Log.d(\"MYTAG\", \"user send 1\");\n}\n</code></pre>\n\n<p>or</p>\n\n<pre><code>if (message.equals(\"1\")) {\n    //do something if the whole message equals to string '1'\n    Log.d(\"MYTAG\", \"user send 1\");\n}\n</code></pre>\n\n<p>Read <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/String.html\" rel=\"nofollow\">here</a> about String methods.</p>\n\n<p>To update textView (assuming you have one defined in xml), find it with findViewById() and then use:</p>\n\n<pre><code>myTextView.setText(\"user send 1\")\n</code></pre>\n\n<p>You can also display a message in logcat, so instead of using System.out.println(), use:</p>\n\n<pre><code>Log.d(\"MYTAG\", \"user send 1\");\n</code></pre>\n\n<p>or whatever message you want. More on layouts <a href=\"http://developer.android.com/guide/topics/ui/declaring-layout.html\" rel=\"nofollow\">here</a></p>\n"},{"tags":[],"owner":{"account_id":3046327,"reputation":10175,"user_id":2581872,"accept_rate":90,"display_name":"hichris123"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1386631380,"creation_date":1386631380,"answer_id":20482946,"question_id":20481371,"body_markdown":"It looks like you want to put a `Toast` on the screen. This displays a little message at the bottom. The code would look like this:\r\n\r\n    if  (message.equals((&quot;1&quot;))){\r\n        Toast toast = Toast.makeText(context, &quot;User sent 1&quot;);\r\n        toast.show();\r\n                    } else {\r\n                        Toast toast = Toast.makeText(context, &quot;Other);\r\n                        toast.show();\r\n                    }","title":"How to display text on android when certain SMS message is received","body":"<p>It looks like you want to put a <code>Toast</code> on the screen. This displays a little message at the bottom. The code would look like this:</p>\n\n<pre><code>if  (message.equals((\"1\"))){\n    Toast toast = Toast.makeText(context, \"User sent 1\");\n    toast.show();\n                } else {\n                    Toast toast = Toast.makeText(context, \"Other);\n                    toast.show();\n                }\n</code></pre>\n"}],"owner":{"account_id":3706037,"reputation":89,"user_id":3084548,"accept_rate":60,"display_name":"michelle13"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1241,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":20482946,"answer_count":2,"score":3,"last_activity_date":1663709026,"creation_date":1386625185,"question_id":20481371,"body_markdown":"I&#39;m new to android development and java programming. i just wanted to know how to print or display certain text if this &quot;certain&quot; message is received.\r\n[I got this code on the web on how to receive and read SMS][1].\r\n\r\nReadIncomingSms.java\r\n\r\n\r\n    package readnewsms.adk;\r\n\r\n    import android.content.BroadcastReceiver;\r\n    import android.content.Context;\r\n    import android.content.Intent;\r\n    import android.os.Bundle;\r\n    import android.telephony.SmsManager;\r\n    import android.telephony.SmsMessage;\r\n    import android.util.Log;\r\n    import android.widget.Toast;\r\n\r\n    public class IncomingSms extends BroadcastReceiver {\r\n    \r\n    // Get the object of SmsManager\r\n    final SmsManager sms = SmsManager.getDefault();\r\n     \r\n    public void onReceive(Context context, Intent intent) {\r\n     \r\n        // Retrieves a map of extended data from the intent.\r\n        final Bundle bundle = intent.getExtras();\r\n \r\n        try {\r\n             \r\n            if (bundle != null) {\r\n                 \r\n                final Object[] pdusObj = (Object[]) bundle.get(&quot;pdus&quot;);\r\n                 \r\n                for (int i = 0; i &lt; pdusObj.length; i++) {\r\n                     \r\n                    SmsMessage currentMessage = SmsMessage.createFromPdu((byte[])    pdusObj[i]);\r\n                    String phoneNumber = currentMessage.getDisplayOriginatingAddress();\r\n                     \r\n                    String senderNum = phoneNumber;\r\n                    String message = currentMessage.getDisplayMessageBody();\r\n                    \r\n                    \r\n \r\n                    Log.i(&quot;SmsReceiver&quot;, &quot;senderNum: &quot;+ senderNum + &quot;; message: &quot; + message);\r\n                     \r\n                    \r\n                   // Show Alert\r\n                    int duration = Toast.LENGTH_LONG;\r\n                    Toast toast = Toast.makeText(context, \r\n                                 &quot;senderNum: &quot;+ senderNum + &quot;, message: &quot; + message, duration);\r\n                    toast.show();\r\n                    \r\n                    \r\n                }\r\n                // end for loop\r\n              } // bundle is null \r\n        } catch (Exception e) {\r\n            Log.e(&quot;SmsReceiver&quot;, &quot;Exception smsReceiver&quot; +e);\r\n             \r\n        }\r\n    }    \r\n}\r\n\r\nthen i added this code after toast.show(); still inside the loop\r\n\r\n    if  (message.equals((&quot;1&quot;))){\r\n                    \tSystem.out.println(&quot;user sends 1&quot;);\r\n                    } else {\r\n                    \tSystem.out.println(&quot;other&quot;);\r\n                    }\r\n\r\nwhat do i do to display those messages on the screen? or how do i evaluate the code if the message contains a certain value, then i will print a certain message depending on the message sent. for example if the INCOMING message contains 1, then the app will display user sends 1. \r\n    \r\n\r\n\r\n  [1]: https://web.archive.org/web/20130327004652/http://androidexample.com/Incomming_SMS_Broadcast_Receiver_-_Android_Example/index.php?view=article_discription&amp;aid=62&amp;aaid=87","title":"How to display text on android when certain SMS message is received","body":"<p>I'm new to android development and java programming. i just wanted to know how to print or display certain text if this &quot;certain&quot; message is received.\n<a href=\"https://web.archive.org/web/20130327004652/http://androidexample.com/Incomming_SMS_Broadcast_Receiver_-_Android_Example/index.php?view=article_discription&amp;aid=62&amp;aaid=87\" rel=\"nofollow noreferrer\">I got this code on the web on how to receive and read SMS</a>.</p>\n<p>ReadIncomingSms.java</p>\n<pre><code>package readnewsms.adk;\n\nimport android.content.BroadcastReceiver;\nimport android.content.Context;\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.telephony.SmsManager;\nimport android.telephony.SmsMessage;\nimport android.util.Log;\nimport android.widget.Toast;\n\npublic class IncomingSms extends BroadcastReceiver {\n\n// Get the object of SmsManager\nfinal SmsManager sms = SmsManager.getDefault();\n \npublic void onReceive(Context context, Intent intent) {\n \n    // Retrieves a map of extended data from the intent.\n    final Bundle bundle = intent.getExtras();\n\n    try {\n         \n        if (bundle != null) {\n             \n            final Object[] pdusObj = (Object[]) bundle.get(&quot;pdus&quot;);\n             \n            for (int i = 0; i &lt; pdusObj.length; i++) {\n                 \n                SmsMessage currentMessage = SmsMessage.createFromPdu((byte[])    pdusObj[i]);\n                String phoneNumber = currentMessage.getDisplayOriginatingAddress();\n                 \n                String senderNum = phoneNumber;\n                String message = currentMessage.getDisplayMessageBody();\n                \n                \n\n                Log.i(&quot;SmsReceiver&quot;, &quot;senderNum: &quot;+ senderNum + &quot;; message: &quot; + message);\n                 \n                \n               // Show Alert\n                int duration = Toast.LENGTH_LONG;\n                Toast toast = Toast.makeText(context, \n                             &quot;senderNum: &quot;+ senderNum + &quot;, message: &quot; + message, duration);\n                toast.show();\n                \n                \n            }\n            // end for loop\n          } // bundle is null \n    } catch (Exception e) {\n        Log.e(&quot;SmsReceiver&quot;, &quot;Exception smsReceiver&quot; +e);\n         \n    }\n}    \n</code></pre>\n<p>}</p>\n<p>then i added this code after toast.show(); still inside the loop</p>\n<pre><code>if  (message.equals((&quot;1&quot;))){\n                    System.out.println(&quot;user sends 1&quot;);\n                } else {\n                    System.out.println(&quot;other&quot;);\n                }\n</code></pre>\n<p>what do i do to display those messages on the screen? or how do i evaluate the code if the message contains a certain value, then i will print a certain message depending on the message sent. for example if the INCOMING message contains 1, then the app will display user sends 1.</p>\n"},{"tags":["java","design-patterns"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":4,"creation_date":1400757913,"post_id":23805451,"comment_id":36617919,"body_markdown":"not everything needs to be a pattern, you know.","body":"not everything needs to be a pattern, you know."},{"owner":{"account_id":37136,"reputation":57812,"user_id":106104,"accept_rate":62,"display_name":"user253751"},"score":2,"creation_date":1400757923,"post_id":23805451,"comment_id":36617930,"body_markdown":"Probably unnecessary reminder: not everything needs to be a design pattern. Design patterns are just common solutions (by definition) but they&#39;re not the only solutions. (the fact that you&#39;re calling things &quot;beans&quot; and not &quot;objects&quot; contributes to me thinking you think everything needs to be a design pattern)","body":"Probably unnecessary reminder: not everything needs to be a design pattern. Design patterns are just common solutions (by definition) but they&#39;re not the only solutions. (the fact that you&#39;re calling things &quot;beans&quot; and not &quot;objects&quot; contributes to me thinking you think everything needs to be a design pattern)"},{"owner":{"account_id":2095246,"reputation":43828,"user_id":1864167,"accept_rate":90,"display_name":"Jeroen Vannevel"},"score":2,"creation_date":1400758084,"post_id":23805451,"comment_id":36618059,"body_markdown":"A copy-constructor is often used for this.","body":"A copy-constructor is often used for this."},{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1400758124,"post_id":23805451,"comment_id":36618092,"body_markdown":"I would call this a &quot;bridge&quot; using a &quot;wrapper&quot;","body":"I would call this a &quot;bridge&quot; using a &quot;wrapper&quot;"},{"owner":{"account_id":26728,"reputation":50262,"user_id":69809,"accept_rate":96,"display_name":"vgru"},"score":0,"creation_date":1400758170,"post_id":23805451,"comment_id":36618129,"body_markdown":"Is it used only to [transfer data around](http://martinfowler.com/eaaCatalog/dataTransferObject.html)?","body":"Is it used only to <a href=\"http://martinfowler.com/eaaCatalog/dataTransferObject.html\" rel=\"nofollow noreferrer\">transfer data around</a>?"},{"owner":{"account_id":2119667,"reputation":7639,"user_id":1883212,"accept_rate":14,"display_name":"user1883212"},"score":0,"creation_date":1400758951,"post_id":23805451,"comment_id":36618656,"body_markdown":"yes, to transfer data around","body":"yes, to transfer data around"},{"owner":{"account_id":330400,"reputation":851,"user_id":654495,"accept_rate":67,"display_name":"Kias"},"score":0,"creation_date":1408933312,"post_id":23805451,"comment_id":39762711,"body_markdown":"A copy-constructor isn&#39;t what I&#39;d suggest because it introduces a tight coupling which probably wouldn&#39;t exist otherwise.","body":"A copy-constructor isn&#39;t what I&#39;d suggest because it introduces a tight coupling which probably wouldn&#39;t exist otherwise."}],"answers":[{"tags":[],"owner":{"account_id":4507832,"reputation":1821,"user_id":3664759,"display_name":"Kalyan"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1400758512,"creation_date":1400758512,"answer_id":23805690,"question_id":23805451,"body_markdown":"I&#39;m not aware of any popular design pattern for object mapping.\r\n\r\nI have been using Dozer framework for transfering the content from one bean to another. \r\n\r\nIt is simple to use and easily integrates with Spring. \r\n\r\nRefer:\r\nhttp://dozer.sourceforge.net/documentation/gettingstarted.html\r\n","title":"What&#39;s the design pattern for object to object conversion?","body":"<p>I'm not aware of any popular design pattern for object mapping.</p>\n\n<p>I have been using Dozer framework for transfering the content from one bean to another. </p>\n\n<p>It is simple to use and easily integrates with Spring. </p>\n\n<p>Refer:\n<a href=\"http://dozer.sourceforge.net/documentation/gettingstarted.html\" rel=\"noreferrer\">http://dozer.sourceforge.net/documentation/gettingstarted.html</a></p>\n"},{"tags":[],"owner":{"account_id":4442907,"reputation":1099,"user_id":3617030,"display_name":"slemesle"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1400853876,"creation_date":1400853876,"answer_id":23831343,"question_id":23805451,"body_markdown":"I agree with Javakid, what you need is not a design pattern but a good solution to handle te conversion from one bean to another. \r\n\r\nIf you really need to name, that should something like dto pattern since you are using data transfer object. You can use a visitor to inspect all your bean tree while building the converted one. \r\n\r\nso I would suggest using a framework or developping the mapping by yourself, it depends on the size of the graph. Dozer is goode solution to do it but it uses Reflection API all the way and  hide the mapping code. So you won&#39;t be able to debug it easily, there are also few other runtime mapping library like [Orika](http://code.google.com/p/orika/wiki/GettingStartedGuide) the best I know.\r\n\r\nBut, If you want to be able to see the code, debug it and have compiler feedback you can also use [Selma](http://xebia-france.github.io/selma/#tutorial). \r\n\r\nLast thing, you can also report to this thread for a big picture of solutions to handle bean to bean mapping in java: https://stackoverflow.com/questions/1432764/any-tool-for-java-object-to-object-mapping \r\n","title":"What&#39;s the design pattern for object to object conversion?","body":"<p>I agree with Javakid, what you need is not a design pattern but a good solution to handle te conversion from one bean to another. </p>\n\n<p>If you really need to name, that should something like dto pattern since you are using data transfer object. You can use a visitor to inspect all your bean tree while building the converted one. </p>\n\n<p>so I would suggest using a framework or developping the mapping by yourself, it depends on the size of the graph. Dozer is goode solution to do it but it uses Reflection API all the way and  hide the mapping code. So you won't be able to debug it easily, there are also few other runtime mapping library like <a href=\"http://code.google.com/p/orika/wiki/GettingStartedGuide\" rel=\"nofollow noreferrer\">Orika</a> the best I know.</p>\n\n<p>But, If you want to be able to see the code, debug it and have compiler feedback you can also use <a href=\"http://xebia-france.github.io/selma/#tutorial\" rel=\"nofollow noreferrer\">Selma</a>. </p>\n\n<p>Last thing, you can also report to this thread for a big picture of solutions to handle bean to bean mapping in java: <a href=\"https://stackoverflow.com/questions/1432764/any-tool-for-java-object-to-object-mapping\">any tool for java object to object mapping?</a> </p>\n"},{"tags":[],"owner":{"account_id":225930,"reputation":5037,"user_id":486688,"accept_rate":67,"display_name":"Jonathan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663708851,"creation_date":1402370069,"answer_id":24132274,"question_id":23805451,"body_markdown":"The related pattern is [Assembler](http://www.corej2eepatterns.com/Patterns/TOAssembler.htm) where you assemble some object given the contents of another. Since writing assemblers can be  tedious and error-prone, you can use an object mapping library to do the work for you. \r\n\r\nOne object mapper you might check out is [ModelMapper](http://modelmapper.org), which I authored, that uses actual code to map properties, fields and methods, in a safe way.","title":"What&#39;s the design pattern for object to object conversion?","body":"<p>The related pattern is <a href=\"http://www.corej2eepatterns.com/Patterns/TOAssembler.htm\" rel=\"nofollow noreferrer\">Assembler</a> where you assemble some object given the contents of another. Since writing assemblers can be  tedious and error-prone, you can use an object mapping library to do the work for you.</p>\n<p>One object mapper you might check out is <a href=\"http://modelmapper.org\" rel=\"nofollow noreferrer\">ModelMapper</a>, which I authored, that uses actual code to map properties, fields and methods, in a safe way.</p>\n"},{"tags":[],"owner":{"account_id":385409,"reputation":978,"user_id":742533,"display_name":"mrjmh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1430836029,"creation_date":1430836029,"answer_id":30055774,"question_id":23805451,"body_markdown":"There is a nice Translator pattern published by Microsoft. The tutorial is in C++ but it should be easy to convert to Java.\r\n\r\nHere is a tutorial: http://richhewlett.com/2010/06/11/a-useful-entity-translator-pattern-object-mapper-template/\r\n\r\nThe general idea is you have a generic Translator abstract class, parametrized with the class types you want to translate between. The concrete implementations provide the &quot;to&quot; and &quot;from&quot; conversion methods.\r\n\r\nThis pattern has the advantage that it does not require coupling between the two classes in the conversion. It does this in a reusable, generic framework that won&#39;t clutter your code with one-off conversion decoupling logic. ","title":"What&#39;s the design pattern for object to object conversion?","body":"<p>There is a nice Translator pattern published by Microsoft. The tutorial is in C++ but it should be easy to convert to Java.</p>\n\n<p>Here is a tutorial: <a href=\"http://richhewlett.com/2010/06/11/a-useful-entity-translator-pattern-object-mapper-template/\" rel=\"nofollow\">http://richhewlett.com/2010/06/11/a-useful-entity-translator-pattern-object-mapper-template/</a></p>\n\n<p>The general idea is you have a generic Translator abstract class, parametrized with the class types you want to translate between. The concrete implementations provide the \"to\" and \"from\" conversion methods.</p>\n\n<p>This pattern has the advantage that it does not require coupling between the two classes in the conversion. It does this in a reusable, generic framework that won't clutter your code with one-off conversion decoupling logic. </p>\n"},{"tags":[],"owner":{"account_id":356027,"reputation":112,"user_id":695302,"display_name":"dnellis74"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1455813940,"creation_date":1455813940,"answer_id":35487451,"question_id":23805451,"body_markdown":"A great &quot;design pattern&quot; would be to not tightly couple the mapped objects to each other.  A copy constructor, for example, means that if you edit the source class, you also have to edit the destination class, and that can cause all sorts of downstream issues in a large project.  Think about it this way.   A very frequent mapping is from UI data structures to back-end data structures.  You should be able to scrap your UI and not have to change the back-end for a new UI.  An MVC design pattern is frequently used for this sort of work.","title":"What&#39;s the design pattern for object to object conversion?","body":"<p>A great \"design pattern\" would be to not tightly couple the mapped objects to each other.  A copy constructor, for example, means that if you edit the source class, you also have to edit the destination class, and that can cause all sorts of downstream issues in a large project.  Think about it this way.   A very frequent mapping is from UI data structures to back-end data structures.  You should be able to scrap your UI and not have to change the back-end for a new UI.  An MVC design pattern is frequently used for this sort of work.</p>\n"}],"owner":{"account_id":2119667,"reputation":7639,"user_id":1883212,"accept_rate":14,"display_name":"user1883212"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13358,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":5,"score":7,"last_activity_date":1663708851,"creation_date":1400757868,"question_id":23805451,"body_markdown":"The question is simple. I need to convert the content of a bean into an other bean with different getters and setters. What&#39;s the right design pattern for doing this?\r\n\r\nI think an adapter pattern is mainly referring to a mapping of a signature or interface to an other. Not a real mapping between objects.\r\n\r\nMany people talks about &quot;mapper&quot; but I think this is not a design pattern.\r\n\r\nSo, is there actually a pattern for mapping an object to an other?","title":"What&#39;s the design pattern for object to object conversion?","body":"<p>The question is simple. I need to convert the content of a bean into an other bean with different getters and setters. What's the right design pattern for doing this?</p>\n\n<p>I think an adapter pattern is mainly referring to a mapping of a signature or interface to an other. Not a real mapping between objects.</p>\n\n<p>Many people talks about \"mapper\" but I think this is not a design pattern.</p>\n\n<p>So, is there actually a pattern for mapping an object to an other?</p>\n"},{"tags":["java","generics"],"answers":[{"tags":[],"owner":{"account_id":701757,"reputation":121151,"user_id":592139,"display_name":"Ian Roberts"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1352805799,"creation_date":1352805414,"answer_id":13359826,"question_id":13359570,"body_markdown":"When you do\r\n\r\n    subInterface1.getInterfaces()[0].getTypeParameters()[0]\r\n\r\nyou are getting the first formal type parameter of the `Class` object representing the interface `I`, which is indeed the variable `T`.  Instead you need to use\r\n\r\n    subInterface1.getGenericInterfaces()[0]\r\n\r\nto get the `Type` object representing the _particular instantiation_ of `I` that has been extended by `I1`.  This will be an instance of `ParameterizedType`, so you can cast to that and then use `getRawType()` and `getActualTypeArguments()` to extract the raw type `I` and the _actual_ type parameter value `Clazz1` respectively.  Note that the return type of `getActualTypeArguments()` is `Type[]` rather than `Class[]` because the actual arguments might not be concrete classes, they could be variables or wildcards (or indeed other parameterized types, in a case such as `List&lt;List&lt;String&gt;&gt;`).","title":"Get type parameter of super interface","body":"<p>When you do</p>\n\n<pre><code>subInterface1.getInterfaces()[0].getTypeParameters()[0]\n</code></pre>\n\n<p>you are getting the first formal type parameter of the <code>Class</code> object representing the interface <code>I</code>, which is indeed the variable <code>T</code>.  Instead you need to use</p>\n\n<pre><code>subInterface1.getGenericInterfaces()[0]\n</code></pre>\n\n<p>to get the <code>Type</code> object representing the <em>particular instantiation</em> of <code>I</code> that has been extended by <code>I1</code>.  This will be an instance of <code>ParameterizedType</code>, so you can cast to that and then use <code>getRawType()</code> and <code>getActualTypeArguments()</code> to extract the raw type <code>I</code> and the <em>actual</em> type parameter value <code>Clazz1</code> respectively.  Note that the return type of <code>getActualTypeArguments()</code> is <code>Type[]</code> rather than <code>Class[]</code> because the actual arguments might not be concrete classes, they could be variables or wildcards (or indeed other parameterized types, in a case such as <code>List&lt;List&lt;String&gt;&gt;</code>).</p>\n"},{"tags":[],"owner":{"account_id":224815,"reputation":4029,"user_id":484894,"accept_rate":84,"display_name":"Nailgun"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1352805552,"creation_date":1352805552,"answer_id":13359859,"question_id":13359570,"body_markdown":"I&#39;ve found the solution:\r\n\r\n    ((ParameterizedType)subInterface1.getGenericInterfaces()[0]).getActualTypeArguments()[0]","title":"Get type parameter of super interface","body":"<p>I've found the solution:</p>\n\n<pre><code>((ParameterizedType)subInterface1.getGenericInterfaces()[0]).getActualTypeArguments()[0]\n</code></pre>\n"}],"owner":{"account_id":224815,"reputation":4029,"user_id":484894,"accept_rate":84,"display_name":"Nailgun"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":579,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":13359826,"answer_count":2,"score":2,"last_activity_date":1663708637,"creation_date":1352804434,"question_id":13359570,"body_markdown":"I have:\r\n\r\n    interface I&lt;T&gt; {}\r\nand:\r\n\r\n    interface I1 extends I&lt;Clazz1&gt; {}\r\n\r\nI have also I2, I3 and so on which extend I&amp;lt;Clazz2&amp;gt;, I&amp;lt;Clazz3&amp;gt; etc.\r\n\r\nI don&#39;t know about Clazz1 in runtime. How could I get this information?\r\n\r\nI tried:\r\n\r\n    subInterface1.getInterfaces()[0].getTypeParameters()[0]\r\n\r\nbut in only knows about T, not about Clazz1.","title":"Get type parameter of super interface","body":"<p>I have:</p>\n\n<pre><code>interface I&lt;T&gt; {}\n</code></pre>\n\n<p>and:</p>\n\n<pre><code>interface I1 extends I&lt;Clazz1&gt; {}\n</code></pre>\n\n<p>I have also I2, I3 and so on which extend I&lt;Clazz2&gt;, I&lt;Clazz3&gt; etc.</p>\n\n<p>I don't know about Clazz1 in runtime. How could I get this information?</p>\n\n<p>I tried:</p>\n\n<pre><code>subInterface1.getInterfaces()[0].getTypeParameters()[0]\n</code></pre>\n\n<p>but in only knows about T, not about Clazz1.</p>\n"},{"tags":["java","multithreading","guava"],"comments":[{"owner":{"account_id":2014980,"reputation":9943,"user_id":1802512,"accept_rate":80,"display_name":"hoaz"},"score":0,"creation_date":1356033490,"post_id":13979376,"comment_id":19289821,"body_markdown":"Why don&#39;t you use 2 caches: one with expiration, another for eternal entities?","body":"Why don&#39;t you use 2 caches: one with expiration, another for eternal entities?"},{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":0,"creation_date":1356033546,"post_id":13979376,"comment_id":19289844,"body_markdown":"Because the entry expiration is completely random (ie, consider HTTP with different `Cache-Control` headers).","body":"Because the entry expiration is completely random (ie, consider HTTP with different <code>Cache-Control</code> headers)."},{"owner":{"account_id":2014980,"reputation":9943,"user_id":1802512,"accept_rate":80,"display_name":"hoaz"},"score":0,"creation_date":1356033771,"post_id":13979376,"comment_id":19289936,"body_markdown":"Then I suggest you to include expiration time directly to your entry class and manually evict it from cache if it is expired immediately after you fetched it from cache.","body":"Then I suggest you to include expiration time directly to your entry class and manually evict it from cache if it is expired immediately after you fetched it from cache."},{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":0,"creation_date":1356033971,"post_id":13979376,"comment_id":19290006,"body_markdown":"Care to elaborate? How do you do that using Guava API?","body":"Care to elaborate? How do you do that using Guava API?"},{"owner":{"account_id":2014980,"reputation":9943,"user_id":1802512,"accept_rate":80,"display_name":"hoaz"},"score":0,"creation_date":1356034036,"post_id":13979376,"comment_id":19290031,"body_markdown":"get / check item expiration / invalidate","body":"get / check item expiration / invalidate"},{"owner":{"account_id":2014980,"reputation":9943,"user_id":1802512,"accept_rate":80,"display_name":"hoaz"},"score":0,"creation_date":1356034098,"post_id":13979376,"comment_id":19290053,"body_markdown":"As an alternative, I can suggest you to check EhCache library that supports per element expire policy","body":"As an alternative, I can suggest you to check EhCache library that supports per element expire policy"},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1356034537,"post_id":13979376,"comment_id":19290223,"body_markdown":"[Guava issue 1203](https://code.google.com/p/guava-libraries/issues/detail?id=1203&amp;can=1&amp;q=cache&amp;colspec=ID%20Stars%20Type%20Status%20Package%20Summary)","body":"<a href=\"https://code.google.com/p/guava-libraries/issues/detail?id=1203&amp;can=1&amp;q=cache&amp;colspec=ID%20Stars%20Type%20Status%20Package%20Summary\" rel=\"nofollow noreferrer\">Guava issue 1203</a>"},{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":0,"creation_date":1356035331,"post_id":13979376,"comment_id":19290537,"body_markdown":"@hoaz: I&#39;ll definitely look into ehcache, it looks promising...","body":"@hoaz: I&#39;ll definitely look into ehcache, it looks promising..."},{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":0,"creation_date":1356035409,"post_id":13979376,"comment_id":19290566,"body_markdown":"@LouisWasserman: this issue adds expiry time at entry insertion, ideally I want this information to be in the entry itself.","body":"@LouisWasserman: this issue adds expiry time at entry insertion, ideally I want this information to be in the entry itself."}],"answers":[{"tags":[],"owner":{"account_id":1247797,"reputation":61,"user_id":1208890,"display_name":"blomqvie"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1356034800,"creation_date":1356033860,"answer_id":13979621,"question_id":13979376,"body_markdown":"I guess you could use the explicit invalidate to defined exactly which entries should be evicted, but that&#39;s not probably what you want. \r\n\r\nYou can give different weights for entries though. It&#39;s not perfect, but you can guide the cache to evict entries which are less important. See [Weighter][1], entries with weight 0 will not be evicted by size-based eviction.\r\n\r\n\r\n  [1]: http://docs.guava-libraries.googlecode.com/git-history/release/javadoc/com/google/common/cache/CacheBuilder.html#weigher%28com.google.common.cache.Weigher%29","title":"Designing a Guava LoadingCache with variable entry expiry","body":"<p>I guess you could use the explicit invalidate to defined exactly which entries should be evicted, but that's not probably what you want. </p>\n\n<p>You can give different weights for entries though. It's not perfect, but you can guide the cache to evict entries which are less important. See <a href=\"http://docs.guava-libraries.googlecode.com/git-history/release/javadoc/com/google/common/cache/CacheBuilder.html#weigher%28com.google.common.cache.Weigher%29\" rel=\"nofollow\">Weighter</a>, entries with weight 0 will not be evicted by size-based eviction.</p>\n"},{"tags":[],"owner":{"account_id":2014980,"reputation":9943,"user_id":1802512,"accept_rate":80,"display_name":"hoaz"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1356124369,"creation_date":1356034559,"answer_id":13979782,"question_id":13979376,"body_markdown":"I suggest you to include expiration time directly to your entry class and manually evict it from cache if it is expired immediately after you fetched it from cache:\r\n\r\n    MyItem item = cache.getIfPresent(key);\r\n    if (item != null &amp;&amp; item.isExpired()) {\r\n        cache.invalidate(key);\r\n        item = cache.get(key);\r\n        // or use cache.put if you load it externally\r\n    }\r\n\r\nAs an alternative, I can suggest you to check EhCache library that supports per element expire policy.","title":"Designing a Guava LoadingCache with variable entry expiry","body":"<p>I suggest you to include expiration time directly to your entry class and manually evict it from cache if it is expired immediately after you fetched it from cache:</p>\n\n<pre><code>MyItem item = cache.getIfPresent(key);\nif (item != null &amp;&amp; item.isExpired()) {\n    cache.invalidate(key);\n    item = cache.get(key);\n    // or use cache.put if you load it externally\n}\n</code></pre>\n\n<p>As an alternative, I can suggest you to check EhCache library that supports per element expire policy.</p>\n"},{"tags":[],"owner":{"account_id":283609,"reputation":45044,"user_id":581205,"accept_rate":72,"display_name":"maaartinus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1356038666,"creation_date":1356038666,"answer_id":13980690,"question_id":13979376,"body_markdown":"**In case the entries are big and you need to conserve memory**, I don&#39;t think there&#39;s a nice solution, but these hacks come in mind:\r\n\r\n- Use a `PriorityQueue` ordered by the expiration time for manually removing the entries. If you want to be sure that no expired entry gets use, you need to combine this with the solution by hoaz; the queue only prevents the useless entries from occupying memory.\r\n\r\n- You wrote &quot;some associated values may expire and others may not&quot;, which suggest that the expiration delay is the same for all expiring entries. This would allow using a simpler and faster `Queue` (e.g. `ArrayDeque` instead of the `PriorityQueue`).\r\n\r\n- In case the expiration delay is rather large, you could let all entries expire and reinsert those which should live forever in a `RemovalListener`. This can fail in two ways: 1. You may get a miss in the meantime. 2. The removals and re-inserts may cost a lot of CPU time.","title":"Designing a Guava LoadingCache with variable entry expiry","body":"<p><strong>In case the entries are big and you need to conserve memory</strong>, I don't think there's a nice solution, but these hacks come in mind:</p>\n\n<ul>\n<li><p>Use a <code>PriorityQueue</code> ordered by the expiration time for manually removing the entries. If you want to be sure that no expired entry gets use, you need to combine this with the solution by hoaz; the queue only prevents the useless entries from occupying memory.</p></li>\n<li><p>You wrote \"some associated values may expire and others may not\", which suggest that the expiration delay is the same for all expiring entries. This would allow using a simpler and faster <code>Queue</code> (e.g. <code>ArrayDeque</code> instead of the <code>PriorityQueue</code>).</p></li>\n<li><p>In case the expiration delay is rather large, you could let all entries expire and reinsert those which should live forever in a <code>RemovalListener</code>. This can fail in two ways: 1. You may get a miss in the meantime. 2. The removals and re-inserts may cost a lot of CPU time.</p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":54451,"reputation":8858,"user_id":162895,"accept_rate":100,"display_name":"Dimitris Andreou"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1358126592,"creation_date":1358126592,"answer_id":14310258,"question_id":13979376,"body_markdown":"`LoadingCache` offers some commonly used expiration policies, but when these fall short for what you need, you need to roll your own.\r\n\r\nJust add a [DelayQueue][1]. Whenever you add something to the cache, add a `Delayed` to that queue, with the appropriate expiration time. The `Delayed` object should have a (weak?) reference to the key.\r\n\r\nThe final ingredient is that you need to periodically poll this queue, to see if something expired and has to be evicted. Don&#39;t necessarily add a thread to do this, you could just piggyback on whatever thread is accessing the `LoadingCache`. Just before accessing the cache, eg:\r\n\r\n    private void drainCache() {\r\n      MyDelayed expired;\r\n      while ((expired = delayedQueue.poll()) != null) {\r\n        K key = expired.getReference();\r\n        if (key != null) { // this only in case if you hold the key in a weak reference\r\n          loadingCache.invalidate(key);\r\n        }\r\n      }\r\n    }\r\n\r\n    ..\r\n    V lookup(K key) {\r\n      drainCache();\r\n      return loadingCache.getUnchecked(key);\r\n    }\r\n\r\n  [1]: http://docs.oracle.com/javase/1.5.0/docs/api/java/util/concurrent/DelayQueue.html","title":"Designing a Guava LoadingCache with variable entry expiry","body":"<p><code>LoadingCache</code> offers some commonly used expiration policies, but when these fall short for what you need, you need to roll your own.</p>\n\n<p>Just add a <a href=\"http://docs.oracle.com/javase/1.5.0/docs/api/java/util/concurrent/DelayQueue.html\">DelayQueue</a>. Whenever you add something to the cache, add a <code>Delayed</code> to that queue, with the appropriate expiration time. The <code>Delayed</code> object should have a (weak?) reference to the key.</p>\n\n<p>The final ingredient is that you need to periodically poll this queue, to see if something expired and has to be evicted. Don't necessarily add a thread to do this, you could just piggyback on whatever thread is accessing the <code>LoadingCache</code>. Just before accessing the cache, eg:</p>\n\n<pre><code>private void drainCache() {\n  MyDelayed expired;\n  while ((expired = delayedQueue.poll()) != null) {\n    K key = expired.getReference();\n    if (key != null) { // this only in case if you hold the key in a weak reference\n      loadingCache.invalidate(key);\n    }\n  }\n}\n\n..\nV lookup(K key) {\n  drainCache();\n  return loadingCache.getUnchecked(key);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":225930,"reputation":5037,"user_id":486688,"accept_rate":67,"display_name":"Jonathan"},"down_vote_count":0,"up_vote_count":34,"is_accepted":true,"score":34,"last_activity_date":1663708501,"creation_date":1418694175,"answer_id":27496223,"question_id":13979376,"body_markdown":"Another alternative is my [ExpiringMap](https://github.com/jhalterman/expiringmap) (I&#39;m the author), which supports variable entry expiration:\r\n\r\n    Map&lt;String, String&gt; map = ExpiringMap.builder().variableExpiration().build();\r\n    map.put(&quot;foo&quot;, &quot;bar&quot;, ExpirationPolicy.ACCESSED, 5, TimeUnit.MINUTES);\r\n    map.put(&quot;baz&quot;, &quot;pez&quot;, ExpirationPolicy.CREATED, 10, TimeUnit.MINUTES);\r\n","title":"Designing a Guava LoadingCache with variable entry expiry","body":"<p>Another alternative is my <a href=\"https://github.com/jhalterman/expiringmap\" rel=\"nofollow noreferrer\">ExpiringMap</a> (I'm the author), which supports variable entry expiration:</p>\n<pre><code>Map&lt;String, String&gt; map = ExpiringMap.builder().variableExpiration().build();\nmap.put(&quot;foo&quot;, &quot;bar&quot;, ExpirationPolicy.ACCESSED, 5, TimeUnit.MINUTES);\nmap.put(&quot;baz&quot;, &quot;pez&quot;, ExpirationPolicy.CREATED, 10, TimeUnit.MINUTES);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2258168,"reputation":30504,"user_id":1988876,"accept_rate":73,"display_name":"brain storm"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1554785970,"creation_date":1554785970,"answer_id":55585368,"question_id":13979376,"body_markdown":"you could use caffeine library which is inspired by Guava. \r\nHere is an example usage from github repo\r\n\r\n    LoadingCache&lt;Key, Graph&gt; graphs = Caffeine.newBuilder()\r\n        .expireAfterAccess(5, TimeUnit.MINUTES)\r\n    \r\n    LoadingCache&lt;Key, Graph&gt; graphs = Caffeine.newBuilder()\r\n        .expireAfterCreate(5, TimeUnit.MINUTES)\r\n\r\n\r\nhttps://github.com/ben-manes/caffeine","title":"Designing a Guava LoadingCache with variable entry expiry","body":"<p>you could use caffeine library which is inspired by Guava. \nHere is an example usage from github repo</p>\n\n<pre><code>LoadingCache&lt;Key, Graph&gt; graphs = Caffeine.newBuilder()\n    .expireAfterAccess(5, TimeUnit.MINUTES)\n\nLoadingCache&lt;Key, Graph&gt; graphs = Caffeine.newBuilder()\n    .expireAfterCreate(5, TimeUnit.MINUTES)\n</code></pre>\n\n<p><a href=\"https://github.com/ben-manes/caffeine\" rel=\"nofollow noreferrer\">https://github.com/ben-manes/caffeine</a></p>\n"},{"tags":[],"owner":{"account_id":12280,"reputation":2054,"user_id":1514822,"accept_rate":83,"display_name":"Chobicus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644049483,"creation_date":1644049483,"answer_id":70996349,"question_id":13979376,"body_markdown":"Mentioned Caffeine library provides this functionality. You just need to provide your own implementation of Expiry. The expiry can depend on key, value or whatever you decide e.g:\r\n\r\n    \r\n\r\n        .expireAfter(new Expiry&lt;CacheKey, CacheValue&gt;() {\r\n                            @Override\r\n                            public long expireAfterCreate(@NonNull CacheKey key, @NonNull CacheValue value, long currentTime) {\r\n                                return calculateBasedOnKey(key);\r\n                            }\r\n                            @Override\r\n                            public long expireAfterUpdate(@NonNull CacheKey key, @NonNull CacheValue value, long currentTime, @NonNegative long currentDuration) {\r\n                                return calculateBasedOnValue(value);\r\n                            }    \r\n                            @Override\r\n                            public long expireAfterRead(@NonNull CacheKey key, @NonNull Long CacheValue, long currentTime, @NonNegative long currentDuration) {\r\n                                return currentDuration; //not modifying the expiration time\r\n                            }","title":"Designing a Guava LoadingCache with variable entry expiry","body":"<p>Mentioned Caffeine library provides this functionality. You just need to provide your own implementation of Expiry. The expiry can depend on key, value or whatever you decide e.g:</p>\n<pre><code>    .expireAfter(new Expiry&lt;CacheKey, CacheValue&gt;() {\n                        @Override\n                        public long expireAfterCreate(@NonNull CacheKey key, @NonNull CacheValue value, long currentTime) {\n                            return calculateBasedOnKey(key);\n                        }\n                        @Override\n                        public long expireAfterUpdate(@NonNull CacheKey key, @NonNull CacheValue value, long currentTime, @NonNegative long currentDuration) {\n                            return calculateBasedOnValue(value);\n                        }    \n                        @Override\n                        public long expireAfterRead(@NonNull CacheKey key, @NonNull Long CacheValue, long currentTime, @NonNegative long currentDuration) {\n                            return currentDuration; //not modifying the expiration time\n                        }\n</code></pre>\n"}],"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16665,"favorite_count":0,"down_vote_count":0,"up_vote_count":31,"accepted_answer_id":27496223,"answer_count":7,"score":31,"last_activity_date":1663708501,"creation_date":1356032741,"question_id":13979376,"body_markdown":"I am using Guava&#39;s LoadingCache into my project to handle thread-{safe,friendly} cache loading and it works wonderfully well. However, there is a limitation.\r\n\r\nThe current code defining the cache looks like this:\r\n\r\n\r\n    cache = CacheBuilder.newBuilder().maximumSize(100L).build(new CacheLoader&lt;K, V&gt;()\r\n    {\r\n        // load() method implemented here\r\n    }\r\n\r\n\r\nI don&#39;t specify an expiry time.\r\n\r\nThe problem is that according to the values of the key, some associated values may expire and others may not. And `CacheLoader` does not account for this, if you specify an expiry time, it is for each and every entry.\r\n\r\nHow would you tackle this problem?\r\n\r\n","title":"Designing a Guava LoadingCache with variable entry expiry","body":"<p>I am using Guava's LoadingCache into my project to handle thread-{safe,friendly} cache loading and it works wonderfully well. However, there is a limitation.</p>\n\n<p>The current code defining the cache looks like this:</p>\n\n<pre><code>cache = CacheBuilder.newBuilder().maximumSize(100L).build(new CacheLoader&lt;K, V&gt;()\n{\n    // load() method implemented here\n}\n</code></pre>\n\n<p>I don't specify an expiry time.</p>\n\n<p>The problem is that according to the values of the key, some associated values may expire and others may not. And <code>CacheLoader</code> does not account for this, if you specify an expiry time, it is for each and every entry.</p>\n\n<p>How would you tackle this problem?</p>\n"},{"tags":["java","spring-boot","maven","testing","spring-security"],"answers":[{"tags":[],"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663708235,"creation_date":1663708235,"answer_id":73792689,"question_id":73783002,"body_markdown":"Security configuration is not loaded by default by `@WebMvcTest`. **You need to manually `@Import` your web-security config** and then setup test security-context.\r\n\r\nFor configuring OAuth2 test security context, you can use either\r\n-  MockMvc request post-processor: `jwt()` or `opaqueToken()` from `org.springframework.security.test.web.servlet.request.SecurityMockMvcRequestPostProcessors`)\r\n- a test annotation from [this repo][1]\r\n\r\nSample with `@WithMockJwtAuth`\r\n```java\r\n@WebMvcTest()\r\n@Import({ WebSecurityConfig.class })\r\nclass GreetingControllerTest {\r\n\r\n\t@MockBean\r\n\tJwtDecoder jwtDecoder;\r\n\r\n\t@Autowired\r\n\tMockMvc mockMvc;\r\n\r\n\t@Test\r\n\t@WithMockJwtAuth(authorities = {&quot;NICE&quot;, &quot;AUTHOR&quot;}, claims = @OpenIdClaims(preferred_username = &quot;Tonton Pirate&quot;))\r\n\tvoid whenGrantedNiceRoleThenOk() throws Exception {\r\n\t\tmockMvc.perform(get(&quot;/greet&quot;)).andExpect(status().isOk())\r\n\t\t\t\t.andExpect(content().string(&quot;Hi Tonton Pirate! You are granted with: [NICE, AUTHOR].&quot;));\r\n\t}\r\n\r\n\t@Test\r\n\t@WithMockJwtAuth(authorities = {&quot;AUTHOR&quot;}, claims = @OpenIdClaims(preferred_username = &quot;Tonton Pirate&quot;))\r\n\tvoid whenNotGrantedNiceRoleThenForbidden() throws Exception {\r\n\t\tmockMvc.perform(get(&quot;/greet&quot;)).andExpect(status().isForbidden());\r\n\t}\r\n\r\n\t@Test\r\n\tvoid whenAnonymousThenUnauthorized() throws Exception {\r\n\t\tmockMvc.perform(get(&quot;/greet&quot;)).andExpect(status().isUnauthorized());\r\n\t}\r\n}\r\n```\r\n\r\nSame sample with `jwt` post-processor\r\n```java\r\n@WebMvcTest()\r\n@Import({ WebSecurityConfig.class })\r\nclass GreetingControllerTest {\r\n\r\n\t@MockBean\r\n\tJwtDecoder jwtDecoder;\r\n\r\n\t@Autowired\r\n\tMockMvc mockMvc;\r\n\r\n\t@Test\r\n\tvoid whenGrantedNiceRoleThenOk() throws Exception {\r\n\t\tmockMvc.perform(get(&quot;/greet&quot;).with(jwt().jwt(jwt -&gt; {\r\n\t\t\tjwt.claim(&quot;preferred_username&quot;, &quot;Tonton Pirate&quot;);\r\n\t\t}).authorities(List.of(new SimpleGrantedAuthority(&quot;NICE&quot;), new SimpleGrantedAuthority(&quot;AUTHOR&quot;))))).andExpect(status().isOk())\r\n\t\t\t\t.andExpect(content().string(&quot;Hi Tonton Pirate! You are granted with: [NICE, AUTHOR].&quot;));\r\n\t}\r\n\r\n\t@Test\r\n\tvoid whenNotGrantedNiceRoleThenForbidden() throws Exception {\r\n\t\tmockMvc.perform(get(&quot;/greet&quot;).with(jwt().jwt(jwt -&gt; {\r\n\t\t\tjwt.claim(&quot;preferred_username&quot;, &quot;Tonton Pirate&quot;);\r\n\t\t}).authorities(List.of(new SimpleGrantedAuthority(&quot;AUTHOR&quot;))))).andExpect(status().isForbidden());\r\n\t}\r\n\r\n\t@Test\r\n\tvoid whenAnonymousThenUnauthorized() throws Exception {\r\n\t\tmockMvc.perform(get(&quot;/greet&quot;)).andExpect(status().isUnauthorized());\r\n\t}\r\n}\r\n```\r\n\r\n  [1]: https://github.com/ch4mpy/spring-addons","title":"Remove &quot;Using default security password&quot; on Spring Boot test","body":"<p>Security configuration is not loaded by default by <code>@WebMvcTest</code>. <strong>You need to manually <code>@Import</code> your web-security config</strong> and then setup test security-context.</p>\n<p>For configuring OAuth2 test security context, you can use either</p>\n<ul>\n<li>MockMvc request post-processor: <code>jwt()</code> or <code>opaqueToken()</code> from <code>org.springframework.security.test.web.servlet.request.SecurityMockMvcRequestPostProcessors</code>)</li>\n<li>a test annotation from <a href=\"https://github.com/ch4mpy/spring-addons\" rel=\"nofollow noreferrer\">this repo</a></li>\n</ul>\n<p>Sample with <code>@WithMockJwtAuth</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>@WebMvcTest()\n@Import({ WebSecurityConfig.class })\nclass GreetingControllerTest {\n\n    @MockBean\n    JwtDecoder jwtDecoder;\n\n    @Autowired\n    MockMvc mockMvc;\n\n    @Test\n    @WithMockJwtAuth(authorities = {&quot;NICE&quot;, &quot;AUTHOR&quot;}, claims = @OpenIdClaims(preferred_username = &quot;Tonton Pirate&quot;))\n    void whenGrantedNiceRoleThenOk() throws Exception {\n        mockMvc.perform(get(&quot;/greet&quot;)).andExpect(status().isOk())\n                .andExpect(content().string(&quot;Hi Tonton Pirate! You are granted with: [NICE, AUTHOR].&quot;));\n    }\n\n    @Test\n    @WithMockJwtAuth(authorities = {&quot;AUTHOR&quot;}, claims = @OpenIdClaims(preferred_username = &quot;Tonton Pirate&quot;))\n    void whenNotGrantedNiceRoleThenForbidden() throws Exception {\n        mockMvc.perform(get(&quot;/greet&quot;)).andExpect(status().isForbidden());\n    }\n\n    @Test\n    void whenAnonymousThenUnauthorized() throws Exception {\n        mockMvc.perform(get(&quot;/greet&quot;)).andExpect(status().isUnauthorized());\n    }\n}\n</code></pre>\n<p>Same sample with <code>jwt</code> post-processor</p>\n<pre class=\"lang-java prettyprint-override\"><code>@WebMvcTest()\n@Import({ WebSecurityConfig.class })\nclass GreetingControllerTest {\n\n    @MockBean\n    JwtDecoder jwtDecoder;\n\n    @Autowired\n    MockMvc mockMvc;\n\n    @Test\n    void whenGrantedNiceRoleThenOk() throws Exception {\n        mockMvc.perform(get(&quot;/greet&quot;).with(jwt().jwt(jwt -&gt; {\n            jwt.claim(&quot;preferred_username&quot;, &quot;Tonton Pirate&quot;);\n        }).authorities(List.of(new SimpleGrantedAuthority(&quot;NICE&quot;), new SimpleGrantedAuthority(&quot;AUTHOR&quot;))))).andExpect(status().isOk())\n                .andExpect(content().string(&quot;Hi Tonton Pirate! You are granted with: [NICE, AUTHOR].&quot;));\n    }\n\n    @Test\n    void whenNotGrantedNiceRoleThenForbidden() throws Exception {\n        mockMvc.perform(get(&quot;/greet&quot;).with(jwt().jwt(jwt -&gt; {\n            jwt.claim(&quot;preferred_username&quot;, &quot;Tonton Pirate&quot;);\n        }).authorities(List.of(new SimpleGrantedAuthority(&quot;AUTHOR&quot;))))).andExpect(status().isForbidden());\n    }\n\n    @Test\n    void whenAnonymousThenUnauthorized() throws Exception {\n        mockMvc.perform(get(&quot;/greet&quot;)).andExpect(status().isUnauthorized());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":25192215,"reputation":184,"user_id":19032274,"display_name":"Lako12"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4934,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1663708235,"creation_date":1663658815,"question_id":73783002,"body_markdown":"I have a multi module project, I noticed that when I run my tests (for example the tests annotated with `@WebMvcTest`) I get this message\r\n\r\n        Using generated security password: 12e4c462-385v-12y6-917u-e8u5rte36ooi\r\n            \r\n    This generated password is for development use only. Your security configuration must be updated before running your application in production.\r\n\r\nHow do i remove it?\r\nI think the &quot;problem&quot; is just that having a multi module project, in some tests, the class implementing `UserDetailsService` is not found because it is part of a different module and therefore the package is not scanned.\r\nIs it enough for me to just ignore the message?\r\nActually this didn&#39;t happen before, it has happened since I removed a bean, probably useless, inside the `WebSecuriyConfig` class which extends the `WebSecurityConfigurerAdapter`.\r\n\r\n         @Bean\r\n         @Override\r\n         public AuthenticationManager authenticationManagerBean() throws Exception {\r\n             return super.authenticationManagerBean();\r\n         }\r\n\r\nSince I don&#39;t use that bean anywhere in my application.","title":"Remove &quot;Using default security password&quot; on Spring Boot test","body":"<p>I have a multi module project, I noticed that when I run my tests (for example the tests annotated with <code>@WebMvcTest</code>) I get this message</p>\n<pre><code>    Using generated security password: 12e4c462-385v-12y6-917u-e8u5rte36ooi\n        \nThis generated password is for development use only. Your security configuration must be updated before running your application in production.\n</code></pre>\n<p>How do i remove it?\nI think the &quot;problem&quot; is just that having a multi module project, in some tests, the class implementing <code>UserDetailsService</code> is not found because it is part of a different module and therefore the package is not scanned.\nIs it enough for me to just ignore the message?\nActually this didn't happen before, it has happened since I removed a bean, probably useless, inside the <code>WebSecuriyConfig</code> class which extends the <code>WebSecurityConfigurerAdapter</code>.</p>\n<pre><code>     @Bean\n     @Override\n     public AuthenticationManager authenticationManagerBean() throws Exception {\n         return super.authenticationManagerBean();\n     }\n</code></pre>\n<p>Since I don't use that bean anywhere in my application.</p>\n"},{"tags":["java","spring","grails","javabeans"],"comments":[{"owner":{"account_id":12822272,"reputation":1463,"user_id":19625832,"display_name":"vilalabinot"},"score":0,"creation_date":1663773160,"post_id":73792633,"comment_id":130319173,"body_markdown":"Formatting is not right, also mistakes on words","body":"Formatting is not right, also mistakes on words"},{"owner":{"account_id":4327054,"reputation":26992,"user_id":3533584,"display_name":"Jeff Scott Brown"},"score":0,"creation_date":1663773869,"post_id":73792633,"comment_id":130319476,"body_markdown":"&quot;however I need to create them with XML or with DSL and I haven&#39;t been able to do it&quot; - Can you show a simple example that you tried that didn&#39;t work?","body":"&quot;however I need to create them with XML or with DSL and I haven&#39;t been able to do it&quot; - Can you show a simple example that you tried that didn&#39;t work?"}],"owner":{"account_id":26395197,"reputation":1,"user_id":20046441,"display_name":"SebasRios94"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1663707956,"creation_date":1663707956,"question_id":73792633,"body_markdown":"I have two beans, one of type scope request and the other is the factory to create Create a bean for each request from the first one. I did it with annotations and it works, however I need to create them with XML or with DSL and I haven&#39;t been able to do it. Any idea how to do it? I&#39;m using `Grails 2.5.6`\r\n\r\nThese are the two Java Beans with annotations\r\n\r\n    @Configuration\r\n    public class HeadersConfiguration {\r\n    \r\n        @Bean\r\n        public Function&lt;HttpServletRequest, MelHeaders&gt; headerHandlerFactory() {\r\n            return { request -&gt; melHeaders(request) };\r\n        }\r\n    \r\n        @Bean\r\n        @Scope(value = WebApplicationContext.SCOPE_REQUEST)\r\n        public MelHeaders melHeaders(HttpServletRequest request) {\r\n            return new MelHeaders(request);\r\n        }\r\n    }\r\n\r\nThank&#39;s","title":"Groovy Bean configuration","body":"<p>I have two beans, one of type scope request and the other is the factory to create Create a bean for each request from the first one. I did it with annotations and it works, however I need to create them with XML or with DSL and I haven't been able to do it. Any idea how to do it? I'm using <code>Grails 2.5.6</code></p>\n<p>These are the two Java Beans with annotations</p>\n<pre><code>@Configuration\npublic class HeadersConfiguration {\n\n    @Bean\n    public Function&lt;HttpServletRequest, MelHeaders&gt; headerHandlerFactory() {\n        return { request -&gt; melHeaders(request) };\n    }\n\n    @Bean\n    @Scope(value = WebApplicationContext.SCOPE_REQUEST)\n    public MelHeaders melHeaders(HttpServletRequest request) {\n        return new MelHeaders(request);\n    }\n}\n</code></pre>\n<p>Thank's</p>\n"},{"tags":["java","relative-path"],"answers":[{"tags":[],"owner":{"account_id":23255163,"reputation":1,"user_id":17342335,"display_name":"Khaled - Hamwie"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1663707115,"creation_date":1663707115,"answer_id":73792509,"question_id":73792422,"body_markdown":"try adding ./ in the beginning of the path if the image in the same folder as the file u are in ex if your current file is in lib and the image is in lib type ./nameOfImage\r\nif u want to go one level app (AKA if the image in the parent folder ) add ../ to the beginning of the path ex if your current file is in lib and your image is in the Test folder to go to it your file will be ../nameOfImage  ","title":"How to write the correct relative path to the file","body":"<p>try adding ./ in the beginning of the path if the image in the same folder as the file u are in ex if your current file is in lib and the image is in lib type ./nameOfImage\nif u want to go one level app (AKA if the image in the parent folder ) add ../ to the beginning of the path ex if your current file is in lib and your image is in the Test folder to go to it your file will be ../nameOfImage</p>\n"}],"owner":{"account_id":26220739,"reputation":1,"user_id":19898226,"display_name":"Ph&#250;c Phan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1663707715,"creation_date":1663706517,"question_id":73792422,"body_markdown":"I&#39;m doing an exercise where it picks and displays three random cards from a file of card images stored in lib/cards/cards of the project. Card images are named from 1.png to 52.png.\r\nMy java file is in src which has the same level with lib\r\nHere&#39;s the code I used.\r\n```\r\nRandom rd = new Random();\r\nint[] card = new int[3];\r\n//randomize cards\r\ncard[0] = rd.nextInt(52) + 1;\r\ncard[1] = rd.nextInt(52) + 1;\r\ncard[2] = rd.nextInt(52) + 1;\r\nImageView image_0 = new ImageView(&quot;lib/cards/cards/&quot;+ Integer.toString(card[0]) + &quot;.png&quot;);\r\nImageView image_1 = new ImageView(&quot;D:/Visual Studio/New/Test/lib/cards/cards/&quot;+ Integer.toString(card[1]) + &quot;.png&quot;);\r\nImageView image_2 = new ImageView(&quot;D:/Visual Studio/New/Test/lib/cards/cards/&quot;+ Integer.toString(card[2]) + &quot;.png&quot;);\r\n```\r\nAbsolute path works just fine for image_1 and image_2, and relative path doesn&#39;t work for image_0. I wonder if I can use relative path for this, and if I can how to write the correct relative path for this to work.","title":"How to write the correct relative path to the file","body":"<p>I'm doing an exercise where it picks and displays three random cards from a file of card images stored in lib/cards/cards of the project. Card images are named from 1.png to 52.png.\nMy java file is in src which has the same level with lib\nHere's the code I used.</p>\n<pre><code>Random rd = new Random();\nint[] card = new int[3];\n//randomize cards\ncard[0] = rd.nextInt(52) + 1;\ncard[1] = rd.nextInt(52) + 1;\ncard[2] = rd.nextInt(52) + 1;\nImageView image_0 = new ImageView(&quot;lib/cards/cards/&quot;+ Integer.toString(card[0]) + &quot;.png&quot;);\nImageView image_1 = new ImageView(&quot;D:/Visual Studio/New/Test/lib/cards/cards/&quot;+ Integer.toString(card[1]) + &quot;.png&quot;);\nImageView image_2 = new ImageView(&quot;D:/Visual Studio/New/Test/lib/cards/cards/&quot;+ Integer.toString(card[2]) + &quot;.png&quot;);\n</code></pre>\n<p>Absolute path works just fine for image_1 and image_2, and relative path doesn't work for image_0. I wonder if I can use relative path for this, and if I can how to write the correct relative path for this to work.</p>\n"},{"tags":["java","android","performance","android-drawable","android-filter"],"comments":[{"owner":{"account_id":7696418,"reputation":309,"user_id":5830760,"display_name":"VOL"},"score":1,"creation_date":1663706981,"post_id":73792288,"comment_id":130302391,"body_markdown":"It says &quot;colorFilter&quot; in the code and &quot;colotFilter&quot; in the warning that you posted.","body":"It says &quot;colorFilter&quot; in the code and &quot;colotFilter&quot; in the warning that you posted."},{"owner":{"account_id":26362930,"reputation":175,"user_id":20018861,"display_name":"Lechius"},"score":0,"creation_date":1663707511,"post_id":73792288,"comment_id":130302518,"body_markdown":"@VOL yes, you are right, I have edited the question because I have wrote it wrong, the warning says &quot;colorFilter&quot; same as the code now. Thanks for the notice","body":"@VOL yes, you are right, I have edited the question because I have wrote it wrong, the warning says &quot;colorFilter&quot; same as the code now. Thanks for the notice"}],"owner":{"account_id":26362930,"reputation":175,"user_id":20018861,"display_name":"Lechius"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":0,"score":1,"last_activity_date":1663707389,"creation_date":1663705639,"question_id":73792288,"body_markdown":"I have been using the following function to set color filter, but recently I have seen that it is deprecated. This was what I was using and was working fine:  `public void setColorFilter (int color, PorterDuff.Mode mode)`\r\n\r\nIn order to solve that deprecated method, I have been searching for information to replace this deprecated function and I have come across with this answer: [answer that apparently replaces this deprecated method][1]\r\n\r\nIn that awnser, it says to use the following method:\r\n\r\n    mydrawable.colorFilter = BlendModeColorFilterCompat.createBlendModeColorFilterCompat(color, BlendModeCompat.SRC_ATOP)\r\n\r\nIt seems to be a good solution, but my problem is that I don&#180;t know why the &quot;colorFilter&quot; is highlighted in red and is not being recognized in my project by Android Studio. The following warning is shown when I hover the mouse over it: \r\n\r\n&gt; Cannot resolve symbol &#39;colorFilter&#39;\r\n\r\n\r\nI would appreciate some help, thanks in advance.\r\n\r\n  [1]: https://stackoverflow.com/questions/56716093/setcolorfilter-is-deprecated-on-api29/56717316#56717316","title":"Cannot resolve symbol &#39;colotFilter&#39;","body":"<p>I have been using the following function to set color filter, but recently I have seen that it is deprecated. This was what I was using and was working fine:  <code>public void setColorFilter (int color, PorterDuff.Mode mode)</code></p>\n<p>In order to solve that deprecated method, I have been searching for information to replace this deprecated function and I have come across with this answer: <a href=\"https://stackoverflow.com/questions/56716093/setcolorfilter-is-deprecated-on-api29/56717316#56717316\">answer that apparently replaces this deprecated method</a></p>\n<p>In that awnser, it says to use the following method:</p>\n<pre><code>mydrawable.colorFilter = BlendModeColorFilterCompat.createBlendModeColorFilterCompat(color, BlendModeCompat.SRC_ATOP)\n</code></pre>\n<p>It seems to be a good solution, but my problem is that I don´t know why the &quot;colorFilter&quot; is highlighted in red and is not being recognized in my project by Android Studio. The following warning is shown when I hover the mouse over it:</p>\n<blockquote>\n<p>Cannot resolve symbol 'colorFilter'</p>\n</blockquote>\n<p>I would appreciate some help, thanks in advance.</p>\n"},{"tags":["java","arrays","java.util.scanner","filereader"],"comments":[{"owner":{"account_id":2345668,"reputation":13002,"user_id":2055998,"accept_rate":68,"display_name":"PM 77-1"},"score":1,"creation_date":1663706136,"post_id":73792328,"comment_id":130302140,"body_markdown":"Use `ArrayList` instead for both rows and columns.","body":"Use <code>ArrayList</code> instead for both rows and columns."},{"owner":{"account_id":19794319,"reputation":13,"user_id":14496602,"display_name":"TSit9642"},"score":0,"creation_date":1663706493,"post_id":73792328,"comment_id":130302240,"body_markdown":"would you be able to elaborate more?","body":"would you be able to elaborate more?"},{"owner":{"account_id":2248300,"reputation":104,"user_id":2007077,"accept_rate":75,"display_name":"Alexey"},"score":0,"creation_date":1663706731,"post_id":73792328,"comment_id":130302316,"body_markdown":"You have two options here. The first: is to use List instead of Array. With this approach you don&#39;t need to set the size of your matrix. You don&#39;t need `for (int i = 0; i &lt; array.length; i++)` each `sc.nextLine()` will give you the next row. Second: is to read all your file first and find your ROW value.","body":"You have two options here. The first: is to use List instead of Array. With this approach you don&#39;t need to set the size of your matrix. You don&#39;t need <code>for (int i = 0; i &lt; array.length; i++)</code> each <code>sc.nextLine()</code> will give you the next row. Second: is to read all your file first and find your ROW value."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1663706797,"post_id":73792328,"comment_id":130302335,"body_markdown":"Lets start simple. If your file would contain only 1D array, so only one line like `1, 2, 3, 4` would you be able to convert it to `double[]`? When you solve this step you are almost there. Next information you need is amount of rows which you can obtain by reading your file once to count its lines which also represents amount of rows. Then you just need to iterate your file second time, convert each line to 1D array, and place that array in 2D array.","body":"Lets start simple. If your file would contain only 1D array, so only one line like <code>1, 2, 3, 4</code> would you be able to convert it to <code>double[]</code>? When you solve this step you are almost there. Next information you need is amount of rows which you can obtain by reading your file once to count its lines which also represents amount of rows. Then you just need to iterate your file second time, convert each line to 1D array, and place that array in 2D array."}],"answers":[{"tags":[],"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1663707126,"creation_date":1663707126,"answer_id":73792511,"question_id":73792328,"body_markdown":"Elaborating about @PM77-1 &#39;s comment:\r\n```\r\npackage examples.stackoverflow.q73792328;\r\n\r\nimport java.io.File;\r\nimport java.io.FileInputStream;\r\nimport java.io.IOException;\r\nimport java.util.ArrayList;\r\nimport java.util.Arrays;\r\nimport java.util.List;\r\nimport java.util.Scanner;\r\n\r\npublic class GridReader {\r\n  public static void main(String[] args) throws IOException {\r\n\r\n    if (args.length &lt; 1) {\r\n      System.err.println(&quot;filename argument missing&quot;);\r\n    }\r\n    File file = new File(args[0]);\r\n    try(FileInputStream fis = new FileInputStream(file)) {\r\n      List&lt;List&lt;Integer&gt;&gt; array = new ArrayList&lt;&gt;();\r\n      Scanner sc = new Scanner(file);\r\n      while(sc.hasNextLine()) {\r\n        String[] line = sc.nextLine().trim().split(&quot;, &quot;);\r\n        array.add(Arrays.stream(line).map(Integer::parseInt).toList());\r\n      }\r\n      System.out.println(&quot;output:&quot; + array);\r\n    }\r\n  }\r\n}\r\n```\r\nI added the input filename as the first parameter of the program and also a try-with-resources so the stream is closed on success or error.\r\n\r\nYou might be able to improve the code and get rid of the while-loop if you replace the scanner with a `BufferedReader` and use the `lines()` method to also stream the lines.","title":"Java reading a 2d array","body":"<p>Elaborating about @PM77-1 's comment:</p>\n<pre><code>package examples.stackoverflow.q73792328;\n\nimport java.io.File;\nimport java.io.FileInputStream;\nimport java.io.IOException;\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.List;\nimport java.util.Scanner;\n\npublic class GridReader {\n  public static void main(String[] args) throws IOException {\n\n    if (args.length &lt; 1) {\n      System.err.println(&quot;filename argument missing&quot;);\n    }\n    File file = new File(args[0]);\n    try(FileInputStream fis = new FileInputStream(file)) {\n      List&lt;List&lt;Integer&gt;&gt; array = new ArrayList&lt;&gt;();\n      Scanner sc = new Scanner(file);\n      while(sc.hasNextLine()) {\n        String[] line = sc.nextLine().trim().split(&quot;, &quot;);\n        array.add(Arrays.stream(line).map(Integer::parseInt).toList());\n      }\n      System.out.println(&quot;output:&quot; + array);\n    }\n  }\n}\n</code></pre>\n<p>I added the input filename as the first parameter of the program and also a try-with-resources so the stream is closed on success or error.</p>\n<p>You might be able to improve the code and get rid of the while-loop if you replace the scanner with a <code>BufferedReader</code> and use the <code>lines()</code> method to also stream the lines.</p>\n"}],"owner":{"account_id":19794319,"reputation":13,"user_id":14496602,"display_name":"TSit9642"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":143,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73792511,"answer_count":1,"score":1,"last_activity_date":1663707126,"creation_date":1663705914,"question_id":73792328,"body_markdown":"**I was able to get the program to read a 2D array from a txt file, but with only setting the row and column length beforehand.**\r\n\r\nIs there any way to make it so It can read any .txt file *without* having to preset the column and row length?\r\n\r\nhere&#39;s my **code** :\r\n\r\n    public class GridReader {\r\n    private static final int ROW = 3;\r\n    private static final int COL = 3;\r\n\r\n    public static void main(String[] args) throws FileNotFoundException {\r\n\r\n        File file = new File(&quot;C:\\\\Users\\\\sitar\\\\Desktop\\\\GridReader\\\\src\\\\2dArray.txt&quot;);\r\n        FileInputStream fis = new FileInputStream(file);\r\n\r\n            int[][] array = new int[ROW][COL];\r\n            Scanner sc = new Scanner(file);\r\n            while (sc.hasNextLine()) {\r\n                for (int i = 0; i &lt; array.length; i++) {\r\n                    String[] line = sc.nextLine().trim().split(&quot;,&quot; + &quot; &quot;);\r\n                    for (int j = 0; j &lt; line.length; j++) {\r\n                        array[i][j] = Integer.parseInt(line[j]);\r\n                    }\r\n                }\r\n            }\r\n        System.out.println(&quot;output:&quot; + Arrays.deepToString(array));\r\n        }\r\n    }\r\n\r\n\r\nand here are the input file&#39;s contents:\r\n[img of txt files contents 3 rows and 3 columns][1]\r\n\r\n\r\nand the output:\r\n\r\n    output:[[1, 2, 3], [3, 4, 5], [5, 6, 7]]\r\n\r\nI have been trying to figure it out a way to take the input of any txt file and transfer it into a 2D array, any input or help would be appreciated.\r\n\r\n  [1]: https://i.stack.imgur.com/rF8fo.jpg","title":"Java reading a 2d array","body":"<p><strong>I was able to get the program to read a 2D array from a txt file, but with only setting the row and column length beforehand.</strong></p>\n<p>Is there any way to make it so It can read any .txt file <em>without</em> having to preset the column and row length?</p>\n<p>here's my <strong>code</strong> :</p>\n<pre><code>public class GridReader {\nprivate static final int ROW = 3;\nprivate static final int COL = 3;\n\npublic static void main(String[] args) throws FileNotFoundException {\n\n    File file = new File(&quot;C:\\\\Users\\\\sitar\\\\Desktop\\\\GridReader\\\\src\\\\2dArray.txt&quot;);\n    FileInputStream fis = new FileInputStream(file);\n\n        int[][] array = new int[ROW][COL];\n        Scanner sc = new Scanner(file);\n        while (sc.hasNextLine()) {\n            for (int i = 0; i &lt; array.length; i++) {\n                String[] line = sc.nextLine().trim().split(&quot;,&quot; + &quot; &quot;);\n                for (int j = 0; j &lt; line.length; j++) {\n                    array[i][j] = Integer.parseInt(line[j]);\n                }\n            }\n        }\n    System.out.println(&quot;output:&quot; + Arrays.deepToString(array));\n    }\n}\n</code></pre>\n<p>and here are the input file's contents:\n<a href=\"https://i.stack.imgur.com/rF8fo.jpg\" rel=\"nofollow noreferrer\">img of txt files contents 3 rows and 3 columns</a></p>\n<p>and the output:</p>\n<pre><code>output:[[1, 2, 3], [3, 4, 5], [5, 6, 7]]\n</code></pre>\n<p>I have been trying to figure it out a way to take the input of any txt file and transfer it into a 2D array, any input or help would be appreciated.</p>\n"},{"tags":["java","spring","maven","spring-boot","spring-retry"],"comments":[{"owner":{"account_id":3368179,"reputation":3257,"user_id":2828176,"accept_rate":83,"display_name":"Ferdous Wahid"},"score":1,"creation_date":1481976145,"post_id":38212471,"comment_id":69596084,"body_markdown":"I&#39;m facing the same problem.","body":"I&#39;m facing the same problem."}],"answers":[{"tags":[],"owner":{"account_id":8751701,"reputation":3543,"user_id":6544712,"accept_rate":50,"display_name":"UserF40"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1467975102,"creation_date":1467975102,"answer_id":38264860,"question_id":38212471,"body_markdown":"For the &lt;code&gt;@Retryable&lt;/code&gt; annotation on the method to be discovered it needs to be called correctly from an initialised context. Is the method invoked from a bean from the spring context or called by other means?\n\nIf testing this is your runner using the &lt;code&gt;SpringJunit4ClassRunner&lt;/code&gt;?","title":"Springboot @retryable not retrying","body":"<p>For the <code>@Retryable</code> annotation on the method to be discovered it needs to be called correctly from an initialised context. Is the method invoked from a bean from the spring context or called by other means?</p>\n\n<p>If testing this is your runner using the <code>SpringJunit4ClassRunner</code>?</p>\n"},{"tags":[],"owner":{"account_id":3368179,"reputation":3257,"user_id":2828176,"accept_rate":83,"display_name":"Ferdous Wahid"},"down_vote_count":6,"up_vote_count":15,"is_accepted":false,"score":9,"last_activity_date":1482052335,"creation_date":1482052335,"answer_id":41206950,"question_id":38212471,"body_markdown":"I solved it. I figured out that if return something from the method that you trying to retry, then @Retryable() is not working.\n\nmaven dependency in pom.xml\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.retry&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-retry&lt;/artifactId&gt;\n            &lt;version&gt;1.1.5.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n\nSpring boot Application.java\n\n    @SpringBootApplication\n    @EnableTransactionManagement\n    @EnableRetry\n    public class Application {\n\n         public static void main(String[] args) throws Exception {\n           SpringApplication.run(Application.class, args);\n         }\n\n    }\n\nin controller.java\n\n    @RestController\n    public class JavaAllDataTypeController {\n\n    @Autowired\n    JavaAllDataTypeService JavaAllDataTypeService;\n\n\n    @RequestMapping(\n            value = &quot;/springReTryTest&quot;,\n            method = RequestMethod.GET\n    )\n    public ResponseEntity&lt;String&gt; springReTryTest() {\n\n        System.out.println(&quot;springReTryTest controller&quot;);\n\n        try {\n             JavaAllDataTypeService.springReTryTest();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n\n        return new  ResponseEntity&lt;String&gt;(&quot;abcd&quot;, HttpStatus.OK);\n      }\n\n    }\n\n\nin service.java\n\n    @Service\n    @Transactional\n    public class JavaAllDataTypeService {\n\n     // try the method 9 times with 2 seconds delay.\n     @Retryable(maxAttempts=9,value=Exception.class,backoff=@Backoff(delay = 2000))\n     public void springReTryTest() throws Exception {\n\n        System.out.println(&quot;try!&quot;);\n        throw new Exception();\n      }\n  \n    }\n\noutput: It&#39; trying 9 times then throwing exception.\n\n[![enter image description here][1]][1]\n\n  [1]: https://i.stack.imgur.com/1tkAb.png","title":"Springboot @retryable not retrying","body":"<p>I solved it. I figured out that if return something from the method that you trying to retry, then @Retryable() is not working.</p>\n<p>maven dependency in pom.xml</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.retry&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-retry&lt;/artifactId&gt;\n        &lt;version&gt;1.1.5.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>Spring boot Application.java</p>\n<pre><code>@SpringBootApplication\n@EnableTransactionManagement\n@EnableRetry\npublic class Application {\n\n     public static void main(String[] args) throws Exception {\n       SpringApplication.run(Application.class, args);\n     }\n\n}\n</code></pre>\n<p>in controller.java</p>\n<pre><code>@RestController\npublic class JavaAllDataTypeController {\n\n@Autowired\nJavaAllDataTypeService JavaAllDataTypeService;\n\n\n@RequestMapping(\n        value = &quot;/springReTryTest&quot;,\n        method = RequestMethod.GET\n)\npublic ResponseEntity&lt;String&gt; springReTryTest() {\n\n    System.out.println(&quot;springReTryTest controller&quot;);\n\n    try {\n         JavaAllDataTypeService.springReTryTest();\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n\n    return new  ResponseEntity&lt;String&gt;(&quot;abcd&quot;, HttpStatus.OK);\n  }\n\n}\n</code></pre>\n<p>in service.java</p>\n<pre><code>@Service\n@Transactional\npublic class JavaAllDataTypeService {\n\n // try the method 9 times with 2 seconds delay.\n @Retryable(maxAttempts=9,value=Exception.class,backoff=@Backoff(delay = 2000))\n public void springReTryTest() throws Exception {\n\n    System.out.println(&quot;try!&quot;);\n    throw new Exception();\n  }\n\n}\n</code></pre>\n<p>output: It' trying 9 times then throwing exception.</p>\n<p><a href=\"https://i.stack.imgur.com/1tkAb.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/1tkAb.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":5889485,"reputation":288,"user_id":4636546,"display_name":"Chinmay Samant"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1520860977,"creation_date":1520860977,"answer_id":49236346,"question_id":38212471,"body_markdown":"It work for return type as well\r\n\r\n    \r\n    @Service\r\n    public class RetryService {\r\n\r\n    private int count = 0;\r\n\r\n    // try the method 9 times with 2 seconds delay.\r\n    @Retryable(maxAttempts = 9, value = Exception.class, backoff = @Backoff(delay = 2000))\r\n    public String springReTryTest() throws Exception {\r\n        count++;\r\n        System.out.println(&quot;try!&quot;);\r\n\r\n        if (count &lt; 4)\r\n            throw new Exception();\r\n        else\r\n            return &quot;bla&quot;;\r\n      }\r\n\r\n    }\r\n","title":"Springboot @retryable not retrying","body":"<p>It work for return type as well</p>\n\n<pre><code>@Service\npublic class RetryService {\n\nprivate int count = 0;\n\n// try the method 9 times with 2 seconds delay.\n@Retryable(maxAttempts = 9, value = Exception.class, backoff = @Backoff(delay = 2000))\npublic String springReTryTest() throws Exception {\n    count++;\n    System.out.println(\"try!\");\n\n    if (count &lt; 4)\n        throw new Exception();\n    else\n        return \"bla\";\n  }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5522985,"reputation":947,"user_id":4554440,"display_name":"nkharche"},"down_vote_count":0,"up_vote_count":59,"is_accepted":false,"score":59,"last_activity_date":1618090530,"creation_date":1530103020,"answer_id":51062988,"question_id":38212471,"body_markdown":"In spring boot 2.0.2 Release, I have observed that the `@Retryable` is not working if you have retryable and called method in same class. On debugging found that the pointcut is not getting built properly. For now, the workaround for this problem is that we need to write the method in a different class and call it. \r\n\r\nWorking Example could be found [here][1].\r\n\r\n\r\n  [1]: https://github.com/KharcheNikhil/spring-boot-examples/tree/master/spring-boot-retry","title":"Springboot @retryable not retrying","body":"<p>In spring boot 2.0.2 Release, I have observed that the <code>@Retryable</code> is not working if you have retryable and called method in same class. On debugging found that the pointcut is not getting built properly. For now, the workaround for this problem is that we need to write the method in a different class and call it.</p>\n<p>Working Example could be found <a href=\"https://github.com/KharcheNikhil/spring-boot-examples/tree/master/spring-boot-retry\" rel=\"noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":3345181,"reputation":175,"user_id":2810471,"accept_rate":88,"display_name":"BiScOtTiNo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1550759792,"creation_date":1550759792,"answer_id":54809583,"question_id":38212471,"body_markdown":"An alternative could be `RetryTemplate` \r\n\r\n    @Bean\r\n        public RetryTemplate retryTemplate() {\r\n            RetryTemplate retryTemplate = new RetryTemplate();\r\n             \r\n            FixedBackOffPolicy fixedBackOffPolicy = new FixedBackOffPolicy();\r\n            fixedBackOffPolicy.setBackOffPeriod(2000l);\r\n            retryTemplate.setBackOffPolicy(fixedBackOffPolicy);\r\n     \r\n            SimpleRetryPolicy retryPolicy = new SimpleRetryPolicy();\r\n            retryPolicy.setMaxAttempts(2);\r\n            retryTemplate.setRetryPolicy(retryPolicy);\r\n             \r\n            return retryTemplate;\r\n        }\r\n\r\nand\r\n\r\n    retryTemplate.execute(new RetryCallback&lt;Void, RuntimeException&gt;() {\r\n        @Override\r\n        public Void doWithRetry(RetryContext arg0) {\r\n            myService.templateRetryService();\r\n            ...\r\n        }\r\n    });\r\n\r\nworked out for me\r\n\r\n[source][1]\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-retry","title":"Springboot @retryable not retrying","body":"<p>An alternative could be <code>RetryTemplate</code> </p>\n\n<pre><code>@Bean\n    public RetryTemplate retryTemplate() {\n        RetryTemplate retryTemplate = new RetryTemplate();\n\n        FixedBackOffPolicy fixedBackOffPolicy = new FixedBackOffPolicy();\n        fixedBackOffPolicy.setBackOffPeriod(2000l);\n        retryTemplate.setBackOffPolicy(fixedBackOffPolicy);\n\n        SimpleRetryPolicy retryPolicy = new SimpleRetryPolicy();\n        retryPolicy.setMaxAttempts(2);\n        retryTemplate.setRetryPolicy(retryPolicy);\n\n        return retryTemplate;\n    }\n</code></pre>\n\n<p>and</p>\n\n<pre><code>retryTemplate.execute(new RetryCallback&lt;Void, RuntimeException&gt;() {\n    @Override\n    public Void doWithRetry(RetryContext arg0) {\n        myService.templateRetryService();\n        ...\n    }\n});\n</code></pre>\n\n<p>worked out for me</p>\n\n<p><a href=\"https://www.baeldung.com/spring-retry\" rel=\"nofollow noreferrer\">source</a></p>\n"},{"tags":[],"owner":{"account_id":1613153,"reputation":123,"user_id":1491567,"display_name":"Bas"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1557754184,"creation_date":1557754184,"answer_id":56113418,"question_id":38212471,"body_markdown":"I had exactly the same issue as described in the original question.\r\n\r\nIn my case it turned out that the `spring-boot-starter-aop` dependency was accidentally not included. After adding it to my `pom.xml`, my `@Retryable` methods worked as expected.\r\n\r\nReturning values from `@Retryable` methods works fine for me.","title":"Springboot @retryable not retrying","body":"<p>I had exactly the same issue as described in the original question.</p>\n\n<p>In my case it turned out that the <code>spring-boot-starter-aop</code> dependency was accidentally not included. After adding it to my <code>pom.xml</code>, my <code>@Retryable</code> methods worked as expected.</p>\n\n<p>Returning values from <code>@Retryable</code> methods works fine for me.</p>\n"},{"tags":[],"owner":{"account_id":13619397,"reputation":81,"user_id":9824420,"display_name":"Mahesh Daksha"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1613823155,"creation_date":1613823155,"answer_id":66291367,"question_id":38212471,"body_markdown":"Even I faced the same issue, Later after some investigation and research came to know that along with @Retryable annotation above the method we also need to provide @EnableRetry above the class. This @EnableRetry annotation either can be provided above same class in to which you have provided method you want to retry or above your main spring boot application class. For example like this:\r\n\r\n    @RequiredArgsConstructor\r\n    **@EnableRetry**\r\n    @Service\r\n    public class SomeService {\r\n    \r\n      **@Retryable(value = { HttpServerErrorException.class, BadRequestException.class},\r\n          maxAttempts = maxRetry, backoff = @Backoff(random = true, delay = 1000,\r\n                             maxDelay = 8000, multiplier = 2))**\r\n      public &lt;T&gt; T get( ) throws  HttpServerErrorException, BadRequestException {\r\n        \r\n         //write code here which you want to retry\r\n      }\r\n    \r\n    }\r\n\r\nI hope this will help and resolve your issue.","title":"Springboot @retryable not retrying","body":"<p>Even I faced the same issue, Later after some investigation and research came to know that along with @Retryable annotation above the method we also need to provide @EnableRetry above the class. This @EnableRetry annotation either can be provided above same class in to which you have provided method you want to retry or above your main spring boot application class. For example like this:</p>\n<pre><code>@RequiredArgsConstructor\n**@EnableRetry**\n@Service\npublic class SomeService {\n\n  **@Retryable(value = { HttpServerErrorException.class, BadRequestException.class},\n      maxAttempts = maxRetry, backoff = @Backoff(random = true, delay = 1000,\n                         maxDelay = 8000, multiplier = 2))**\n  public &lt;T&gt; T get( ) throws  HttpServerErrorException, BadRequestException {\n    \n     //write code here which you want to retry\n  }\n\n}\n</code></pre>\n<p>I hope this will help and resolve your issue.</p>\n"},{"tags":[],"owner":{"account_id":4454424,"reputation":7384,"user_id":3625215,"accept_rate":47,"display_name":"MyTwoCents"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1645846918,"creation_date":1620373858,"answer_id":67430951,"question_id":38212471,"body_markdown":"\r\nFor those who want to call `@Retryable` block in same class can to this way.\r\n\r\nThe key here is not to call the method directly and through self-injected bean\r\n\r\n\r\n    @Slf4j\r\n    @Service\r\n    public class RetryService {\r\n    \r\n        @Resource(name = &quot;retryService&quot;)\r\n        private RetryService self;\r\n    \r\n        public String getValue(String appender) {\r\n            return self.getData(appender);\r\n        }\r\n    \r\n        @Retryable(value = NumberFormatException.class, maxAttempts = 4, backoff = @Backoff(500))\r\n        public String getData(String appender) {\r\n            log.info(&quot;Calling getData&quot;);\r\n            Integer value = Integer.parseInt(appender);\r\n            value++;\r\n            return value.toString();\r\n        }\r\n    \r\n        @Recover\r\n        public String recoverData(String appender) {\r\n            log.info(&quot;Calling recoverData&quot;);\r\n            return &quot;DEFAULT&quot;;\r\n        }\r\n    \r\n    }\r\n\r\nCan read more about using Retry in detail [here][1]\r\n\r\n\r\n  [1]: https://ashishontech.xyz/spring-retry-in-action/","title":"Springboot @retryable not retrying","body":"<p>For those who want to call <code>@Retryable</code> block in same class can to this way.</p>\n<p>The key here is not to call the method directly and through self-injected bean</p>\n<pre><code>@Slf4j\n@Service\npublic class RetryService {\n\n    @Resource(name = &quot;retryService&quot;)\n    private RetryService self;\n\n    public String getValue(String appender) {\n        return self.getData(appender);\n    }\n\n    @Retryable(value = NumberFormatException.class, maxAttempts = 4, backoff = @Backoff(500))\n    public String getData(String appender) {\n        log.info(&quot;Calling getData&quot;);\n        Integer value = Integer.parseInt(appender);\n        value++;\n        return value.toString();\n    }\n\n    @Recover\n    public String recoverData(String appender) {\n        log.info(&quot;Calling recoverData&quot;);\n        return &quot;DEFAULT&quot;;\n    }\n\n}\n</code></pre>\n<p>Can read more about using Retry in detail <a href=\"https://ashishontech.xyz/spring-retry-in-action/\" rel=\"noreferrer\">here</a></p>\n"},{"tags":[],"owner":{"account_id":6024900,"reputation":1045,"user_id":4730920,"accept_rate":9,"display_name":"Ken Krueger"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1646239870,"creation_date":1646239870,"answer_id":71326345,"question_id":38212471,"body_markdown":"Spring&#39;s @Retryable, @Cacheable, @Transaction, etc. are ALL implemented using Aspect Oriented Programming.  Spring implements AOP via proxy-based weaving.  Proxies intercept calls from one bean to another. Proxies cannot intercept calls from one object&#39;s methods to another.  This is a general limitation of proxy based weaving.\r\n\r\nThe following solutions address this limitation: 1) as mentioned above, use @Autowired (or @Resource) to inject a bean with a self reference; calls to this reference transit the proxy.  2) Use AspectJ&#39;s ClassLoader instead of Spring&#39;s default proxy-based weaving.  3) As mentioned above, place the methods on separate beans.  I&#39;ve done each in various situations, each has pros and cons.\r\n","title":"Springboot @retryable not retrying","body":"<p>Spring's @Retryable, @Cacheable, @Transaction, etc. are ALL implemented using Aspect Oriented Programming.  Spring implements AOP via proxy-based weaving.  Proxies intercept calls from one bean to another. Proxies cannot intercept calls from one object's methods to another.  This is a general limitation of proxy based weaving.</p>\n<p>The following solutions address this limitation: 1) as mentioned above, use @Autowired (or @Resource) to inject a bean with a self reference; calls to this reference transit the proxy.  2) Use AspectJ's ClassLoader instead of Spring's default proxy-based weaving.  3) As mentioned above, place the methods on separate beans.  I've done each in various situations, each has pros and cons.</p>\n"},{"tags":[],"owner":{"account_id":351018,"reputation":401,"user_id":687245,"accept_rate":89,"display_name":"louis1204"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1654623379,"creation_date":1654620648,"answer_id":72534910,"question_id":38212471,"body_markdown":"Pretty old thread, but I wanted to share that after changing my method visibility from `private` to `public`, `Retryable` was successfully retrying.\r\n\r\nThis is in addition to using the self resource mentioned above.","title":"Springboot @retryable not retrying","body":"<p>Pretty old thread, but I wanted to share that after changing my method visibility from <code>private</code> to <code>public</code>, <code>Retryable</code> was successfully retrying.</p>\n<p>This is in addition to using the self resource mentioned above.</p>\n"},{"tags":[],"owner":{"account_id":1215394,"reputation":6741,"user_id":1183098,"display_name":"user9869932"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1663706786,"creation_date":1663706786,"answer_id":73792470,"question_id":38212471,"body_markdown":"I got this one solved by moving `@Retryable` directly in front of the method I wanted to retry.\r\n\r\nFrom this:\r\n\r\n```java\r\npublic class MyClass {\r\n\r\n  public String toBeRetried() {\r\n    return delegateTo();\r\n  }\r\n\r\n  @Retryable\r\n  public String delegateTo() {\r\n    throw new Exception();\r\n  }\r\n}\r\n```\r\n\r\nTo this:\r\n```java\r\npublic class MyClass {\r\n\r\n  @Retryable\r\n  public String toBeRetried() {\r\n    throw new Exception();\r\n  }\r\n}\r\n```\r\n\r\n","title":"Springboot @retryable not retrying","body":"<p>I got this one solved by moving <code>@Retryable</code> directly in front of the method I wanted to retry.</p>\n<p>From this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyClass {\n\n  public String toBeRetried() {\n    return delegateTo();\n  }\n\n  @Retryable\n  public String delegateTo() {\n    throw new Exception();\n  }\n}\n</code></pre>\n<p>To this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyClass {\n\n  @Retryable\n  public String toBeRetried() {\n    throw new Exception();\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":93660,"reputation":491,"user_id":256123,"accept_rate":0,"display_name":"engg"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80166,"favorite_count":0,"down_vote_count":0,"up_vote_count":35,"answer_count":11,"score":35,"last_activity_date":1663706786,"creation_date":1467751790,"question_id":38212471,"body_markdown":"The following code is not retrying. What am I missing?\r\n\r\n    @EnableRetry\r\n    @SpringBootApplication\r\n    public class App implements CommandLineRunner\r\n    {\r\n        .........\r\n        .........\r\n\r\n\r\n        @Retryable()\r\n        ResponseEntity&lt;String&gt; authenticate(RestTemplate restTemplate, HttpEntity&lt;MultiValueMap&lt;String, String&gt;&gt; entity) throws Exception\r\n        {\r\n            System.out.println(&quot;try!&quot;);\r\n            throw new Exception();\r\n            //return restTemplate.exchange(auth_endpoint, HttpMethod.POST, entity, String.class);\r\n        }\r\n\r\nI have added the following to the pom.xml.\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.retry&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-retry&lt;/artifactId&gt;\r\n            &lt;version&gt;1.1.2.RELEASE&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-aop&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\nI also tried providing different combinations of arguments to @Retryable.\r\n\r\n    @Retryable(maxAttempts=10,value=Exception.class,backoff=@Backoff(delay = 2000,multiplier=2))\r\n\r\nThanks.","title":"Springboot @retryable not retrying","body":"<p>The following code is not retrying. What am I missing?</p>\n\n<pre><code>@EnableRetry\n@SpringBootApplication\npublic class App implements CommandLineRunner\n{\n    .........\n    .........\n\n\n    @Retryable()\n    ResponseEntity&lt;String&gt; authenticate(RestTemplate restTemplate, HttpEntity&lt;MultiValueMap&lt;String, String&gt;&gt; entity) throws Exception\n    {\n        System.out.println(\"try!\");\n        throw new Exception();\n        //return restTemplate.exchange(auth_endpoint, HttpMethod.POST, entity, String.class);\n    }\n</code></pre>\n\n<p>I have added the following to the pom.xml.</p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.retry&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-retry&lt;/artifactId&gt;\n        &lt;version&gt;1.1.2.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-aop&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p>I also tried providing different combinations of arguments to @Retryable.</p>\n\n<pre><code>@Retryable(maxAttempts=10,value=Exception.class,backoff=@Backoff(delay = 2000,multiplier=2))\n</code></pre>\n\n<p>Thanks.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":283344,"reputation":3593,"user_id":580796,"accept_rate":81,"display_name":"Manidip Sengupta"},"score":0,"creation_date":1296175475,"post_id":4801427,"comment_id":5350422,"body_markdown":"How do I put a bounty on this question?","body":"How do I put a bounty on this question?"},{"owner":{"account_id":5678307,"reputation":6941,"user_id":4490559,"accept_rate":88,"display_name":"intboolstring"},"score":0,"creation_date":1451429102,"post_id":4801427,"comment_id":56781981,"body_markdown":"Below the comment button, press &quot;start a bounty&quot;.","body":"Below the comment button, press &quot;start a bounty&quot;."}],"answers":[{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1321462510,"creation_date":1321462510,"answer_id":8155519,"question_id":4801427,"body_markdown":"http://download.oracle.com/javase/6/docs/api/java/awt/event/KeyEvent.html\r\n\r\n*It states:*\r\nNot all characters have a keycode associated with them. For example, **there is no keycode for the question mark** because there is no keyboard for which it appears on the primary layer.\r\n\r\nVK_DEAD_TILDE, VK_QUOTEDBL.\r\n\r\nSo you have also to capture the charCode event, besides keyReleased.\r\n\r\nA bit unportable would be SHIFT+5 etc.","title":"VK_xxx in Java for ~ (tilde), ? (question mark), % (percent), | (vert bar) and &quot; (dbl quote)","body":"<p><a href=\"http://download.oracle.com/javase/6/docs/api/java/awt/event/KeyEvent.html\" rel=\"nofollow\">http://download.oracle.com/javase/6/docs/api/java/awt/event/KeyEvent.html</a></p>\n\n<p><em>It states:</em>\nNot all characters have a keycode associated with them. For example, <strong>there is no keycode for the question mark</strong> because there is no keyboard for which it appears on the primary layer.</p>\n\n<p>VK_DEAD_TILDE, VK_QUOTEDBL.</p>\n\n<p>So you have also to capture the charCode event, besides keyReleased.</p>\n\n<p>A bit unportable would be SHIFT+5 etc.</p>\n"},{"tags":[],"owner":{"account_id":7545443,"reputation":1,"user_id":5728683,"display_name":"Jaderson B. Nascimento"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1451428800,"creation_date":1451428800,"answer_id":34520226,"question_id":4801427,"body_markdown":"I discovered a way, if you press VK_CONTROL,VK_ALT, VK_W you can get a &quot;?&quot; question mark.","title":"VK_xxx in Java for ~ (tilde), ? (question mark), % (percent), | (vert bar) and &quot; (dbl quote)","body":"<p>I discovered a way, if you press VK_CONTROL,VK_ALT, VK_W you can get a \"?\" question mark.</p>\n"},{"tags":[],"owner":{"account_id":16436099,"reputation":27,"user_id":12819006,"display_name":"Maj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663706601,"creation_date":1654003046,"answer_id":72448517,"question_id":4801427,"body_markdown":"VK_BACK_QUOTE\r\n\r\n{\r\nValue: 192\r\nHEX_Value: 0Xc0\r\nCHAR_VALUE:&#39;`&#39;\r\n}","title":"VK_xxx in Java for ~ (tilde), ? (question mark), % (percent), | (vert bar) and &quot; (dbl quote)","body":"<p>VK_BACK_QUOTE</p>\n<p>{\nValue: 192\nHEX_Value: 0Xc0\nCHAR_VALUE:'`'\n}</p>\n"}],"owner":{"account_id":283344,"reputation":3593,"user_id":580796,"accept_rate":81,"display_name":"Manidip Sengupta"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5635,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1663706601,"creation_date":1296016358,"question_id":4801427,"body_markdown":"I am trying to find the `VK_xxx` in `KeyEvent` for all the keys I can type in on my keyboard. I can find most of them, except the above 5. Any idea why these 5 are missing? Should I be using the shift mask for these? If I go that route, can I use shift mask for 2 (`VK_AT`), 3 (`VK_NUMBER_SIGN`), 4 (`VK_DOLLAR`), etc., too?\r\n\r\nThe context - I am reading a String from a file than contains arbitrary ASCII characters, and trying to have the AWT Robot press and release the VK&#39;s to put the string somewhere. Thank you.","title":"VK_xxx in Java for ~ (tilde), ? (question mark), % (percent), | (vert bar) and &quot; (dbl quote)","body":"<p>I am trying to find the <code>VK_xxx</code> in <code>KeyEvent</code> for all the keys I can type in on my keyboard. I can find most of them, except the above 5. Any idea why these 5 are missing? Should I be using the shift mask for these? If I go that route, can I use shift mask for 2 (<code>VK_AT</code>), 3 (<code>VK_NUMBER_SIGN</code>), 4 (<code>VK_DOLLAR</code>), etc., too?</p>\n\n<p>The context - I am reading a String from a file than contains arbitrary ASCII characters, and trying to have the AWT Robot press and release the VK's to put the string somewhere. Thank you.</p>\n"},{"tags":["java","maven","testng","maven-surefire-plugin"],"comments":[{"owner":{"account_id":1100527,"reputation":489,"user_id":1093019,"accept_rate":50,"display_name":"testphreak"},"score":0,"creation_date":1524130443,"post_id":49914028,"comment_id":86850486,"body_markdown":"It would help to run your TestNG tests with the latest version `6.14.3` to rule out compatibility issues. The one you are using is more than 3 years old.\n\nAlso, picking the right plugin for the type of tests you run helps. So, if in case you are exercising integration tests, `maven-failsafe-plugin` would be a better choice.\n\nPasting relevant sections of your pom.xml may provide more insight for others to help you.","body":"It would help to run your TestNG tests with the latest version <code>6.14.3</code> to rule out compatibility issues. The one you are using is more than 3 years old.  Also, picking the right plugin for the type of tests you run helps. So, if in case you are exercising integration tests, <code>maven-failsafe-plugin</code> would be a better choice.  Pasting relevant sections of your pom.xml may provide more insight for others to help you."}],"answers":[{"tags":[],"owner":{"account_id":8447748,"reputation":38021,"user_id":6337748,"accept_rate":38,"display_name":"notionquest"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1524134286,"creation_date":1524134286,"answer_id":49918994,"question_id":49914028,"body_markdown":"Yes, you can run the test `methods / classes` in parallel (i.e. without using suite xml) using `maven-surefire-plugin`. \r\n\r\nIf you would like to run the test **methods** in parallel, please use the below configuration.\r\n\r\n    &lt;configuration&gt;\r\n    \t&lt;parallel&gt;methods&lt;/parallel&gt;\r\n    \t&lt;threadCount&gt;10&lt;/threadCount&gt;\r\n    &lt;/configuration&gt;\r\n\r\nIf you would like to run the test **classes** in parallel, please use the below configuration.\r\n\r\n    &lt;configuration&gt;\r\n    \t&lt;parallel&gt;classes&lt;/parallel&gt;\r\n    \t&lt;threadCount&gt;10&lt;/threadCount&gt;\r\n    &lt;/configuration&gt;\r\n\r\n**Run the Maven command:-**\r\n\r\n    mvn clean test\r\n\r\n**To check whether the test methods are running in different thread and started at the same time:-**\r\n\r\nPlease add the below `sysout` to observe the behavior. You can comment out or remove the `sysout` later. This is just to understand the behavior.\r\n\r\n\r\n    System.out.println(&quot;thread id:&quot; + Thread.currentThread().getId() + &quot;Timestamp :&quot; + LocalDateTime.now());\r\n\r\nYou can clone this [repo][1] and run the above maven command to check the result.\r\n\r\n\r\n  [1]: https://github.com/notionquest/testngparallel","title":"How to run test cases in parallel in TestNG?","body":"<p>Yes, you can run the test <code>methods / classes</code> in parallel (i.e. without using suite xml) using <code>maven-surefire-plugin</code>. </p>\n\n<p>If you would like to run the test <strong>methods</strong> in parallel, please use the below configuration.</p>\n\n<pre><code>&lt;configuration&gt;\n    &lt;parallel&gt;methods&lt;/parallel&gt;\n    &lt;threadCount&gt;10&lt;/threadCount&gt;\n&lt;/configuration&gt;\n</code></pre>\n\n<p>If you would like to run the test <strong>classes</strong> in parallel, please use the below configuration.</p>\n\n<pre><code>&lt;configuration&gt;\n    &lt;parallel&gt;classes&lt;/parallel&gt;\n    &lt;threadCount&gt;10&lt;/threadCount&gt;\n&lt;/configuration&gt;\n</code></pre>\n\n<p><strong>Run the Maven command:-</strong></p>\n\n<pre><code>mvn clean test\n</code></pre>\n\n<p><strong>To check whether the test methods are running in different thread and started at the same time:-</strong></p>\n\n<p>Please add the below <code>sysout</code> to observe the behavior. You can comment out or remove the <code>sysout</code> later. This is just to understand the behavior.</p>\n\n<pre><code>System.out.println(\"thread id:\" + Thread.currentThread().getId() + \"Timestamp :\" + LocalDateTime.now());\n</code></pre>\n\n<p>You can clone this <a href=\"https://github.com/notionquest/testngparallel\" rel=\"nofollow noreferrer\">repo</a> and run the above maven command to check the result.</p>\n"}],"owner":{"account_id":3368483,"reputation":503,"user_id":2828388,"display_name":"lostintranslation"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1142,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1663706581,"creation_date":1524118870,"question_id":49914028,"body_markdown":"I have a set of TestNG test cases which I want to run parallelly.\r\nI am not using  TestNG suite XML file.\r\n\r\nAccording to http://maven.apache.org/surefire/maven-surefire-plugin/examples/testng.html#Running_tests_in_parallel ,\r\nI can specify parallel and threadCount parameter in surefire configuration in the project POM file.\r\n\r\n\r\nBut this is not working. \r\nThe test cases are still running sequentially.\r\n\r\nCan I run the test cases in parallel without using the suite XML file ?\r\n\r\nSurefire plugin version - 2.21.0\r\nTestNG version - 6.8.21\r\n\r\nI have used the following lines in my surefire configuration in POM file \r\n    \r\n    &lt;parallel&gt;classes&lt;/parallel&gt;                     \r\n    &lt;useUnlimitedThreads&gt;true&lt;/useUnlimitedThreads&gt;\r\n\r\n","title":"How to run test cases in parallel in TestNG?","body":"<p>I have a set of TestNG test cases which I want to run parallelly.\nI am not using  TestNG suite XML file.</p>\n\n<p>According to <a href=\"http://maven.apache.org/surefire/maven-surefire-plugin/examples/testng.html#Running_tests_in_parallel\" rel=\"nofollow noreferrer\">http://maven.apache.org/surefire/maven-surefire-plugin/examples/testng.html#Running_tests_in_parallel</a> ,\nI can specify parallel and threadCount parameter in surefire configuration in the project POM file.</p>\n\n<p>But this is not working. \nThe test cases are still running sequentially.</p>\n\n<p>Can I run the test cases in parallel without using the suite XML file ?</p>\n\n<p>Surefire plugin version - 2.21.0\nTestNG version - 6.8.21</p>\n\n<p>I have used the following lines in my surefire configuration in POM file </p>\n\n<pre><code>&lt;parallel&gt;classes&lt;/parallel&gt;                     \n&lt;useUnlimitedThreads&gt;true&lt;/useUnlimitedThreads&gt;\n</code></pre>\n"},{"tags":["java","unicode","jvm","windows-11","regional-settings"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1662745028,"post_id":73665603,"comment_id":130085071,"body_markdown":"I suspect the chcp setting is the problem.  javac doesn’t inherit that setting;  it uses the system charset, which is likely the windows-1252 charset, so it assumes each byte of the file name is a character (because windows-1252 is a one-byte-per-character encoding).  But the chcp setting causes the filename to be *sent* to javac as UTF-8 bytes, which means `&#225;` is sent as two bytes.","body":"I suspect the chcp setting is the problem.  javac doesn’t inherit that setting;  it uses the system charset, which is likely the windows-1252 charset, so it assumes each byte of the file name is a character (because windows-1252 is a one-byte-per-character encoding).  But the chcp setting causes the filename to be <i>sent</i> to javac as UTF-8 bytes, which means <code>&#225;</code> is sent as two bytes."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1662745627,"post_id":73665603,"comment_id":130085238,"body_markdown":"works fine for me https://i.stack.imgur.com/lu0Mc.png","body":"works fine for me <a href=\"https://i.stack.imgur.com/lu0Mc.png\" rel=\"nofollow noreferrer\">i.stack.imgur.com/lu0Mc.png</a>"},{"owner":{"account_id":16909292,"reputation":385,"user_id":12228795,"display_name":"Ot&#225;vio Augusto Silva"},"score":0,"creation_date":1662745687,"post_id":73665603,"comment_id":130085249,"body_markdown":"@VGR is there any way I can make this issue about the incompatibility between the system charset and what `chcp` is configured to do?","body":"@VGR is there any way I can make this issue about the incompatibility between the system charset and what <code>chcp</code> is configured to do?"},{"owner":{"account_id":16909292,"reputation":385,"user_id":12228795,"display_name":"Ot&#225;vio Augusto Silva"},"score":0,"creation_date":1662745735,"post_id":73665603,"comment_id":130085262,"body_markdown":"@user16320675 do you have the Windows option I mentioned before?","body":"@user16320675 do you have the Windows option I mentioned before?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1662747706,"post_id":73665603,"comment_id":130085787,"body_markdown":"We&#39;ve been through this and I thought we decided you could use DOS names? So that&#39;s ```C:\\Users\\OTVIOA~1```  We discussed that [here](https://chat.stackoverflow.com/transcript/message/55190875#55190875) So ```javac &quot;C:\\Users\\OTVIOA~1\\Documents\\Code\\Java\\Hello World\\main.java&quot;```","body":"We&#39;ve been through this and I thought we decided you could use DOS names? So that&#39;s <code>C:\\Users\\OTVIOA~1</code>  We discussed that <a href=\"https://chat.stackoverflow.com/transcript/message/55190875#55190875\">here</a> So <code>javac &quot;C:\\Users\\OTVIOA~1\\Documents\\Code\\Java\\Hello World\\main.java&quot;</code>"},{"owner":{"account_id":16909292,"reputation":385,"user_id":12228795,"display_name":"Ot&#225;vio Augusto Silva"},"score":0,"creation_date":1662752403,"post_id":73665603,"comment_id":130086944,"body_markdown":"@g00se I deleted that question because it was very poorly written, but I am using your suggestion, I just want a more permanent solution like making java read the path properly","body":"@g00se I deleted that question because it was very poorly written, but I am using your suggestion, I just want a more permanent solution like making java read the path properly"},{"owner":{"account_id":16909292,"reputation":385,"user_id":12228795,"display_name":"Ot&#225;vio Augusto Silva"},"score":0,"creation_date":1662752457,"post_id":73665603,"comment_id":130086955,"body_markdown":"@user16320675 You&#39;re using English (US), I&#39;m using Portuguese (Brazil), that may impact it somehow","body":"@user16320675 You&#39;re using English (US), I&#39;m using Portuguese (Brazil), that may impact it somehow"},{"owner":{"account_id":16909292,"reputation":385,"user_id":12228795,"display_name":"Ot&#225;vio Augusto Silva"},"score":0,"creation_date":1662757241,"post_id":73665603,"comment_id":130088036,"body_markdown":"@user16320675 I tested Zulu, Microsoft, Temurin by Adoptium, Oracle, OpenJDK and Liberica, all behave the same","body":"@user16320675 I tested Zulu, Microsoft, Temurin by Adoptium, Oracle, OpenJDK and Liberica, all behave the same"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1662757254,"post_id":73665603,"comment_id":130088039,"body_markdown":"`java -XshowSettings:properties -version 2&gt;&amp;1 | find &quot;user&quot;`  could be informative","body":"<code>java -XshowSettings:properties -version 2&gt;&amp;1 | find &quot;user&quot;</code>  could be informative"},{"owner":{"account_id":16909292,"reputation":385,"user_id":12228795,"display_name":"Ot&#225;vio Augusto Silva"},"score":0,"creation_date":1662921845,"post_id":73665603,"comment_id":130112861,"body_markdown":"@g00se the result of your command: https://pastebin.com/6AD1j7xY","body":"@g00se the result of your command: <a href=\"https://pastebin.com/6AD1j7xY\" rel=\"nofollow noreferrer\">pastebin.com/6AD1j7xY</a>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1662927767,"post_id":73665603,"comment_id":130113889,"body_markdown":"Yes, that&#39;s really confused the terminal in which you executed that. Was it cmd.exe or Powershell?","body":"Yes, that&#39;s really confused the terminal in which you executed that. Was it cmd.exe or Powershell?"},{"owner":{"account_id":16909292,"reputation":385,"user_id":12228795,"display_name":"Ot&#225;vio Augusto Silva"},"score":0,"creation_date":1662930154,"post_id":73665603,"comment_id":130114292,"body_markdown":"@g00se In CMD, it doesn&#39;t work on PowerShell, it says the `find` command has incorrect parameter format","body":"@g00se In CMD, it doesn&#39;t work on PowerShell, it says the <code>find</code> command has incorrect parameter format"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1662992288,"post_id":73665603,"comment_id":130128195,"body_markdown":"Powershell might prefer ```java -XshowSettings:properties -version 2&gt;&amp;1 | grep &quot;user&quot;```","body":"Powershell might prefer <code>java -XshowSettings:properties -version 2&gt;&amp;1 | grep &quot;user&quot;</code>"},{"owner":{"account_id":16909292,"reputation":385,"user_id":12228795,"display_name":"Ot&#225;vio Augusto Silva"},"score":0,"creation_date":1663007791,"post_id":73665603,"comment_id":130133518,"body_markdown":"@g00se It gives the exact same result","body":"@g00se It gives the exact same result"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1663017427,"post_id":73665603,"comment_id":130136209,"body_markdown":"*it says the find command has incorrect parameter format* *It gives the exact same result* Both of those statements cannot be true simultaneously - in the second case, the ```find```  command is not even used","body":"<i>it says the find command has incorrect parameter format</i> <i>It gives the exact same result</i> Both of those statements cannot be true simultaneously - in the second case, the <code>find</code>  command is not even used"},{"owner":{"account_id":16909292,"reputation":385,"user_id":12228795,"display_name":"Ot&#225;vio Augusto Silva"},"score":0,"creation_date":1663018039,"post_id":73665603,"comment_id":130136329,"body_markdown":"@g00se I mean that using `java -XshowSettings:properties -version 2&gt;&amp;1 | grep &quot;user&quot;` gives the result in the pastebin link I posted earlier","body":"@g00se I mean that using <code>java -XshowSettings:properties -version 2&gt;&amp;1 | grep &quot;user&quot;</code> gives the result in the pastebin link I posted earlier"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1663022163,"post_id":73665603,"comment_id":130137213,"body_markdown":"Run [this](https://technojeeves.com/tech/Raw.class) and let me know if the first line prints the second character of your name or if the last line prints it correctly","body":"Run <a href=\"https://technojeeves.com/tech/Raw.class\" rel=\"nofollow noreferrer\">this</a> and let me know if the first line prints the second character of your name or if the last line prints it correctly"},{"owner":{"account_id":16909292,"reputation":385,"user_id":12228795,"display_name":"Ot&#225;vio Augusto Silva"},"score":0,"creation_date":1663027724,"post_id":73665603,"comment_id":130138049,"body_markdown":"@g00se The output: https://pastebin.com/n6aXPwLM","body":"@g00se The output: <a href=\"https://pastebin.com/n6aXPwLM\" rel=\"nofollow noreferrer\">pastebin.com/n6aXPwLM</a>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1663058478,"post_id":73665603,"comment_id":130143827,"body_markdown":"OK, that&#39;s good. Of course, I meant the 3rd character ;) This has proved that the encoding in use in that terminal *is* UTF-8 (which I was beginning to doubt)","body":"OK, that&#39;s good. Of course, I meant the 3rd character ;) This has proved that the encoding in use in that terminal <i>is</i> UTF-8 (which I was beginning to doubt)"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1663058804,"post_id":73665603,"comment_id":130143932,"body_markdown":"Does the following work? ```C:\\Users\\Ot&#225;vio Augusto Silva&gt;javac -encoding UTF-8 &quot;C:\\Users\\Ot&#225;vio Augusto Silva\\Documents\\Code\\Java\\Hello World\\main.java&quot;```","body":"Does the following work? <code>C:\\Users\\Ot&#225;vio Augusto Silva&gt;javac -encoding UTF-8 &quot;C:\\Users\\Ot&#225;vio Augusto Silva\\Documents\\Code\\Java\\Hello World\\main.java&quot;</code>"},{"owner":{"account_id":16909292,"reputation":385,"user_id":12228795,"display_name":"Ot&#225;vio Augusto Silva"},"score":0,"creation_date":1663066764,"post_id":73665603,"comment_id":130146743,"body_markdown":"@g00se Sadly, no, it gives the error `error: file not found: C:\\Users\\Ot&#195;&#161;vio Augusto Silva\\Documents\\Code\\Java\\Hello World\\main.java`","body":"@g00se Sadly, no, it gives the error <code>error: file not found: C:\\Users\\Ot&#195;&#161;vio Augusto Silva\\Documents\\Code\\Java\\Hello World\\main.java</code>"}],"answers":[{"tags":[],"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1663706271,"creation_date":1663359633,"answer_id":73749972,"question_id":73665603,"body_markdown":"Using your directory name (`Ot&#225;vio Augusto Silva`), I can reproduce your problem on Windows 10 as well, using Java 18. Unfortunately, this looks like a specific example of a more general and longstanding problem documented in this open and unresolved JDK bug:\r\n\r\n[JDK-4488646 Java executable and System properties need to support Unicode on Windows][1]\r\n\r\nThis is part of the bug report&#39;s description, with my emphasis added:\r\n\r\n&gt; To make Java completely Unicode-aware on NT we need to\r\n&gt; \r\n&gt; 1) Modify System properties initialization code and all other places\r\n&gt; where Windows calls are used to use wide-char calls on NT.\r\n&gt; \r\n&gt; 2) **Modify java, javac etc. to be able to use Unicode in classpath and\r\n&gt; other command line arguments**.\r\n\r\nThat bug report was created in 2001! It relates to Windows NT, but since it remains open and unresolved I assume it has general applicability for all flavors of Windows, including Windows 10 and 11.\r\n\r\nNotes:\r\n- Although it doesn&#39;t help to resolve your specific problem, it is fairly straightforward _&quot;to use wide-char calls&quot;_ within your Java application (as mentioned in the bug description above) using JNA. For example, your code could successfully process `Ot&#225;vio Augusto Silva` if it was passed an argument to your application from Java. See [this SO answer](https://stackoverflow.com/a/70573213/2985643) for the code to do that.\r\n \r\n- Also see open and unresolved JDK bug report [JDK-8124977 cmdline encoding challenges on Windows][2] which was raised in 2015. It includes some discussion on the differences between using `java` from **cmd** and **PowerShell** windows on Windows.\r\n\r\n========================================================\r\n\r\n(This update is based on comments from @user16320675.)\r\n\r\nIt seems the issue is fully resolved in Java 19 ([download from here][3]) which is due to be released later this month. From the screen shot below:\r\n- The call to **javac** will succeed when using JDK 19.\r\n- The same call to **javac** will fail when using JDK 18, because the file name `D:\\Ot&#225;vio...` is processed as `D:\\Ot&#195;&#161;vio...`.\r\n\r\n  [![javac calls][4]][4]\r\n\r\nI can&#39;t find any mention of this fix [in the JDK 19 Release Notes][5].\r\n\r\n========================================================\r\n\r\n(This update shows what happens if the beta option is not enabled.)\r\n\r\nIf the option `Beta: Use Unicode UTF-8 for worldwide language support` is not enabled I cannot reproduce the problem; the call to **javac** works fine using both JDK 18 and JDK 19: \r\n\r\n[![Beta option not enabled][6]][6]\r\n \r\nNote that this works even though the code page in the **cmd** window is 437, not 65001. Of course there are a couple of significant differences between your environment and mine:\r\n- You are using Windows 11 and I am using Windows 10.\r\n- My system locale is English (United States), and I assume that yours is different.\r\n\r\nTo summarize how to resolve this issue:\r\n- Unless you have that beta option enabled for some specific reason, consider just disabling it. \r\n- If you want to keep the option enabled, consider upgrading to Java 19.\r\n\r\n========================================================\r\n\r\nUpdate: The following bug was fixed in Java 19:\r\n\r\n[8272352: Java launcher can not parse Chinese character when system locale is set to UTF-8 #530][7]\r\n\r\nAlthough that bug fix specifically relates to file names passed to **java**, I think it probably explains why the OP&#39;s problem with **javac** is also resolved in Java 19.\r\n\r\n\r\n  [1]: https://bugs.openjdk.org/browse/JDK-4488646\r\n  [2]: https://bugs.openjdk.org/browse/JDK-8124977\r\n  [3]: https://jdk.java.net/19/\r\n  [4]: https://i.stack.imgur.com/yrlkb.png\r\n  [5]: https://jdk.java.net/19/release-notes\r\n  [6]: https://i.stack.imgur.com/elioT.png\r\n  [7]: https://bugs.openjdk.org/browse/JDK-8272352","title":"Java doesn&#39;t recognize Unicode character in path on Windows 11","body":"<p>Using your directory name (<code>Otávio Augusto Silva</code>), I can reproduce your problem on Windows 10 as well, using Java 18. Unfortunately, this looks like a specific example of a more general and longstanding problem documented in this open and unresolved JDK bug:</p>\n<p><a href=\"https://bugs.openjdk.org/browse/JDK-4488646\" rel=\"nofollow noreferrer\">JDK-4488646 Java executable and System properties need to support Unicode on Windows</a></p>\n<p>This is part of the bug report's description, with my emphasis added:</p>\n<blockquote>\n<p>To make Java completely Unicode-aware on NT we need to</p>\n<ol>\n<li><p>Modify System properties initialization code and all other places\nwhere Windows calls are used to use wide-char calls on NT.</p>\n</li>\n<li><p><strong>Modify java, javac etc. to be able to use Unicode in classpath and\nother command line arguments</strong>.</p>\n</li>\n</ol>\n</blockquote>\n<p>That bug report was created in 2001! It relates to Windows NT, but since it remains open and unresolved I assume it has general applicability for all flavors of Windows, including Windows 10 and 11.</p>\n<p>Notes:</p>\n<ul>\n<li><p>Although it doesn't help to resolve your specific problem, it is fairly straightforward <em>&quot;to use wide-char calls&quot;</em> within your Java application (as mentioned in the bug description above) using JNA. For example, your code could successfully process <code>Otávio Augusto Silva</code> if it was passed an argument to your application from Java. See <a href=\"https://stackoverflow.com/a/70573213/2985643\">this SO answer</a> for the code to do that.</p>\n</li>\n<li><p>Also see open and unresolved JDK bug report <a href=\"https://bugs.openjdk.org/browse/JDK-8124977\" rel=\"nofollow noreferrer\">JDK-8124977 cmdline encoding challenges on Windows</a> which was raised in 2015. It includes some discussion on the differences between using <code>java</code> from <strong>cmd</strong> and <strong>PowerShell</strong> windows on Windows.</p>\n</li>\n</ul>\n<p>========================================================</p>\n<p>(This update is based on comments from @user16320675.)</p>\n<p>It seems the issue is fully resolved in Java 19 (<a href=\"https://jdk.java.net/19/\" rel=\"nofollow noreferrer\">download from here</a>) which is due to be released later this month. From the screen shot below:</p>\n<ul>\n<li><p>The call to <strong>javac</strong> will succeed when using JDK 19.</p>\n</li>\n<li><p>The same call to <strong>javac</strong> will fail when using JDK 18, because the file name <code>D:\\Otávio...</code> is processed as <code>D:\\OtÃ¡vio...</code>.</p>\n<p><a href=\"https://i.stack.imgur.com/yrlkb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yrlkb.png\" alt=\"javac calls\" /></a></p>\n</li>\n</ul>\n<p>I can't find any mention of this fix <a href=\"https://jdk.java.net/19/release-notes\" rel=\"nofollow noreferrer\">in the JDK 19 Release Notes</a>.</p>\n<p>========================================================</p>\n<p>(This update shows what happens if the beta option is not enabled.)</p>\n<p>If the option <code>Beta: Use Unicode UTF-8 for worldwide language support</code> is not enabled I cannot reproduce the problem; the call to <strong>javac</strong> works fine using both JDK 18 and JDK 19:</p>\n<p><a href=\"https://i.stack.imgur.com/elioT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/elioT.png\" alt=\"Beta option not enabled\" /></a></p>\n<p>Note that this works even though the code page in the <strong>cmd</strong> window is 437, not 65001. Of course there are a couple of significant differences between your environment and mine:</p>\n<ul>\n<li>You are using Windows 11 and I am using Windows 10.</li>\n<li>My system locale is English (United States), and I assume that yours is different.</li>\n</ul>\n<p>To summarize how to resolve this issue:</p>\n<ul>\n<li>Unless you have that beta option enabled for some specific reason, consider just disabling it.</li>\n<li>If you want to keep the option enabled, consider upgrading to Java 19.</li>\n</ul>\n<p>========================================================</p>\n<p>Update: The following bug was fixed in Java 19:</p>\n<p><a href=\"https://bugs.openjdk.org/browse/JDK-8272352\" rel=\"nofollow noreferrer\">8272352: Java launcher can not parse Chinese character when system locale is set to UTF-8 #530</a></p>\n<p>Although that bug fix specifically relates to file names passed to <strong>java</strong>, I think it probably explains why the OP's problem with <strong>javac</strong> is also resolved in Java 19.</p>\n"}],"owner":{"account_id":16909292,"reputation":385,"user_id":12228795,"display_name":"Ot&#225;vio Augusto Silva"},"comment_count":21,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1029,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":73749972,"answer_count":1,"score":4,"last_activity_date":1663706271,"creation_date":1662744300,"question_id":73665603,"body_markdown":"Java isn&#39;t able to recognize Unicode  characters with the `Beta: Use Unicode UTF-8 for worldwide language support` option enabled.\\\r\nThe path to  my user folder is `C:\\Users\\Ot&#225;vio Augusto Silva`, and the `&#225;` character is causing some trouble for java.\r\nBy calling the `javac` command if the JDK is installed inside my user folder using `scoop install`, it gives the following result:\r\n```\r\nErro: N&#227;o &#233; poss&#237;vel carregar a classe principal com.sun.tools.javac.Main no m&#243;dulo jdk.compiler\r\n        java.lang.UnsatisfiedLinkError: no jimage in system library path: C:\\Users\\Ot&#195;&#161;vio Augusto Silva\\scoop\\apps\\zulu-jdk\\current\\bin\r\n```\r\nNotice that it replaces the `&#225;` character with `&#195;&#161;`.\\\r\nIf installed globally by using `scoop install -g`, `choco install` or the default installer from any JDK distribution, the commands works fine, but if I call and pass the whole path, it gives an error:\r\n```\r\nC:\\Users\\Ot&#225;vio Augusto Silva&gt;javac &quot;C:\\Users\\Ot&#225;vio Augusto Silva\\Documents\\Code\\Java\\Hello World\\main.java&quot;\r\nerror: file not found: C:\\Users\\Ot&#195;&#161;vio Augusto Silva\\Documents\\Code\\Java\\Hello World\\main.java\r\nUsage: javac &lt;options&gt; &lt;source files&gt;\r\nuse --help for a list of possible options\r\n```\r\nTo reproduce, do the following:\r\n\r\n - Have a user folder with a Unicode latin character (something like `&#225;`, `&#233;`, `&#227;`, etc.)\r\n - Have the `Beta: Use Unicode UTF-8 for worldwide language support` in region settings enabled\r\n - Install your favorite JDK distribution\r\n - Call `javac` passing the whole path like `C:\\Users\\USERFOLER\\PATH\\TO\\FILE\\file.java`\r\n\r\nThe error should appear.\\\r\nI&#39;ve been stuck for days in this, if anyone can help me it will be greatly appreciated.\\\r\nSome  relevant info:\r\n - I&#39;m using `cmd` in Windows Terminal app, but `PowerShell` gives the same error\r\n - The `chcp` command gives the code `65001`\r\n - I already tried the solution presented [here][1], didn&#39;t work\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/361975/setting-the-default-java-character-encoding","title":"Java doesn&#39;t recognize Unicode character in path on Windows 11","body":"<p>Java isn't able to recognize Unicode  characters with the <code>Beta: Use Unicode UTF-8 for worldwide language support</code> option enabled.<br />\nThe path to  my user folder is <code>C:\\Users\\Otávio Augusto Silva</code>, and the <code>á</code> character is causing some trouble for java.\nBy calling the <code>javac</code> command if the JDK is installed inside my user folder using <code>scoop install</code>, it gives the following result:</p>\n<pre><code>Erro: Não é possível carregar a classe principal com.sun.tools.javac.Main no módulo jdk.compiler\n        java.lang.UnsatisfiedLinkError: no jimage in system library path: C:\\Users\\OtÃ¡vio Augusto Silva\\scoop\\apps\\zulu-jdk\\current\\bin\n</code></pre>\n<p>Notice that it replaces the <code>á</code> character with <code>Ã¡</code>.<br />\nIf installed globally by using <code>scoop install -g</code>, <code>choco install</code> or the default installer from any JDK distribution, the commands works fine, but if I call and pass the whole path, it gives an error:</p>\n<pre><code>C:\\Users\\Otávio Augusto Silva&gt;javac &quot;C:\\Users\\Otávio Augusto Silva\\Documents\\Code\\Java\\Hello World\\main.java&quot;\nerror: file not found: C:\\Users\\OtÃ¡vio Augusto Silva\\Documents\\Code\\Java\\Hello World\\main.java\nUsage: javac &lt;options&gt; &lt;source files&gt;\nuse --help for a list of possible options\n</code></pre>\n<p>To reproduce, do the following:</p>\n<ul>\n<li>Have a user folder with a Unicode latin character (something like <code>á</code>, <code>é</code>, <code>ã</code>, etc.)</li>\n<li>Have the <code>Beta: Use Unicode UTF-8 for worldwide language support</code> in region settings enabled</li>\n<li>Install your favorite JDK distribution</li>\n<li>Call <code>javac</code> passing the whole path like <code>C:\\Users\\USERFOLER\\PATH\\TO\\FILE\\file.java</code></li>\n</ul>\n<p>The error should appear.<br />\nI've been stuck for days in this, if anyone can help me it will be greatly appreciated.<br />\nSome  relevant info:</p>\n<ul>\n<li>I'm using <code>cmd</code> in Windows Terminal app, but <code>PowerShell</code> gives the same error</li>\n<li>The <code>chcp</code> command gives the code <code>65001</code></li>\n<li>I already tried the solution presented <a href=\"https://stackoverflow.com/questions/361975/setting-the-default-java-character-encoding\">here</a>, didn't work</li>\n</ul>\n"},{"tags":["java","spring-webflux","project-reactor","spring-webclient"],"answers":[{"tags":[],"owner":{"account_id":80360,"reputation":5251,"user_id":227294,"display_name":"Andreas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1663655089,"creation_date":1663655089,"answer_id":73782380,"question_id":73780000,"body_markdown":"This is a quite broad question and a concrete answer depends on your environment. Assuming that calling the API you are consuming in this way is OK for the owner of the API and it can cope with the load.\r\n\r\nChain into the successful returned `Mono` with `subscribe`, `flatMap` or one of the `then` variations. If you want to execute a batch insert combine the `Mono`s and zip them together for instance with `zipWith` or manually.\r\n\r\nThis would result in something like (used Kotlin for brevity) for a simple use-case:\r\n\r\n```\r\n@Transactional\r\nfun save(todo: Todo): Mono&lt;Todo&gt; {\r\n  return todoRepository.save(mapToEntity(todo))\r\n    .flatMap { saved -&gt; updateTasks(todo, saved) }\r\n}\r\n```\r\n\r\nhttps://github.com/AndreasKl/todo-reactive/blob/main/src/main/kotlin/todoservice/todo/TodoUseCases.kt#L36","title":"How to call rest api in loop using webclient and process all the responses in non-blocking way in java","body":"<p>This is a quite broad question and a concrete answer depends on your environment. Assuming that calling the API you are consuming in this way is OK for the owner of the API and it can cope with the load.</p>\n<p>Chain into the successful returned <code>Mono</code> with <code>subscribe</code>, <code>flatMap</code> or one of the <code>then</code> variations. If you want to execute a batch insert combine the <code>Mono</code>s and zip them together for instance with <code>zipWith</code> or manually.</p>\n<p>This would result in something like (used Kotlin for brevity) for a simple use-case:</p>\n<pre><code>@Transactional\nfun save(todo: Todo): Mono&lt;Todo&gt; {\n  return todoRepository.save(mapToEntity(todo))\n    .flatMap { saved -&gt; updateTasks(todo, saved) }\n}\n</code></pre>\n<p><a href=\"https://github.com/AndreasKl/todo-reactive/blob/main/src/main/kotlin/todoservice/todo/TodoUseCases.kt#L36\" rel=\"nofollow noreferrer\">https://github.com/AndreasKl/todo-reactive/blob/main/src/main/kotlin/todoservice/todo/TodoUseCases.kt#L36</a></p>\n"},{"tags":[],"owner":{"account_id":26350042,"reputation":15,"user_id":20007797,"display_name":"Hrishikesh Joshi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663705456,"creation_date":1663705456,"answer_id":73792265,"question_id":73780000,"body_markdown":"After some digging around I found one possible solution as below,\r\nInstead of using for loop to call loanApi multiple times I used Flux.parallel to do the same and the code looks like below\r\n```\r\nParallelFlux&lt;List&lt;Person&gt;&gt; findPeopleWithMinimumLoan(LocalDate startDate, LocalDate endDate) {\r\n\r\n  List&lt;Pair&lt;LocalDate&gt;&gt; dateList = getDates(startDate,endDate);\r\n  return Flux.fromIterable(dateList)\r\n                .parallel()\r\n                .flatMap(period -&gt; callLoanApi(period.startDate(), period.endDate()))\r\n                .map(this::parseJsonResponse)\r\n                .flatMap(people -&gt; Flux.fromIterable(people))\r\n                        .collect(ArrayList::new, collectPeopleFromAllCalls);\r\n}\r\n\r\nMono&lt;String&gt; callLoanApi(LocalDate startDate, LocalDate endDate) { \r\n   return WebClient.create(apiURI)\r\n                .get()\r\n                .uri(uriBuilder -&gt; uriBuilder.queryParam(&quot;aoi_key&quot;, apiKey)\r\n                        .queryParam(&quot;start_date&quot;, startDate)\r\n                        .queryParam(&quot;end_date&quot;, endDate).build())\r\n                .accept(MediaType.APPLICATION_JSON)\r\n                .retrieve()\r\n                .bodyToMono(String.class);\r\n}\r\n\r\nList&lt;Person&gt; parseJsonResponse(String jsonFromLoanApi)\r\n\r\n```","title":"How to call rest api in loop using webclient and process all the responses in non-blocking way in java","body":"<p>After some digging around I found one possible solution as below,\nInstead of using for loop to call loanApi multiple times I used Flux.parallel to do the same and the code looks like below</p>\n<pre><code>ParallelFlux&lt;List&lt;Person&gt;&gt; findPeopleWithMinimumLoan(LocalDate startDate, LocalDate endDate) {\n\n  List&lt;Pair&lt;LocalDate&gt;&gt; dateList = getDates(startDate,endDate);\n  return Flux.fromIterable(dateList)\n                .parallel()\n                .flatMap(period -&gt; callLoanApi(period.startDate(), period.endDate()))\n                .map(this::parseJsonResponse)\n                .flatMap(people -&gt; Flux.fromIterable(people))\n                        .collect(ArrayList::new, collectPeopleFromAllCalls);\n}\n\nMono&lt;String&gt; callLoanApi(LocalDate startDate, LocalDate endDate) { \n   return WebClient.create(apiURI)\n                .get()\n                .uri(uriBuilder -&gt; uriBuilder.queryParam(&quot;aoi_key&quot;, apiKey)\n                        .queryParam(&quot;start_date&quot;, startDate)\n                        .queryParam(&quot;end_date&quot;, endDate).build())\n                .accept(MediaType.APPLICATION_JSON)\n                .retrieve()\n                .bodyToMono(String.class);\n}\n\nList&lt;Person&gt; parseJsonResponse(String jsonFromLoanApi)\n\n</code></pre>\n"}],"owner":{"account_id":26350042,"reputation":15,"user_id":20007797,"display_name":"Hrishikesh Joshi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1403,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73782380,"answer_count":2,"score":0,"last_activity_date":1663705456,"creation_date":1663627946,"question_id":73780000,"body_markdown":"I am trying to use WebClient to call a rest api in a loop and process the response in non-blocking way.&lt;br&gt;\r\nUse case as follows, &lt;br&gt;\r\nI need to call a rest api which returns data for at the most 7 days(startDate, endDate) but I receive input date range which can be any period such as 30 days, 6 months, 1 year etc and I need to call the api accordingly. &lt;br&gt; So e.g. if I get input date range of 30 days then I need to call the api 5 times to get required data.&lt;br&gt;\r\n**Lets say I need to find people with minimum loanAmount from 2022-09-01 to 2022-09-30.\r\nI can use this api getLoanDetails(startDate, endDate) which accepts dates within 7 days period only. So I need to call this api 5 times (2022-09-01 to 2022-09-07, 2022-09-08 to 2022-09-14, 2022-09-15 to 2022-09-21, 2022-09-22 to 2022-09-28 and 2022-09-29 to 2022-09-30)**\r\n\r\nI have created a list of dates of 7 days period from input date and running a loop over it and calling the api using WebClient in loop. I need to parse the json response, create Person objects from it and collect all persons with minimum loanAmount into a list(as there can be many with same loanAmount) &lt;br&gt;\r\n`record Person(String name, BigDecimal loanAmount, LocalDate dateOfBirth) {}`\r\n\r\n\r\n```\r\nFlux&lt;Person&gt; findPeopleWithMinimumLoan(LocalDate startDate, LocalDate endDate) {\r\n\r\n  List&lt;Pair&lt;LocalDate&gt;&gt; dateList = getDates(startDate,endDate);\r\n  for (Pair&lt;LocalDate&gt; periodToFindLoanDetails:dateList) { \r\n     Mono&lt;List&lt;Person&gt;&gt; personsWithMinimumLoanAmount = \r\n      callLoanApi(periodToFindLoanDetails.startDate(), periodToFindLoanDetails.endDate())\r\n                    .map(this::findPeopleWithMinimumLoanAmount);\r\n\r\n   **//TODO: Compare the result of all the loan api calls in a non blocking way and \r\n             return Flux&lt;Person&gt; or Mono&lt;List&lt;Person&gt;&gt;**\r\n}\r\n\r\nMono&lt;String&gt; callLoanApi(LocalDate startDate, LocalDate endDate) { \r\n   return WebClient.create(apiURI)\r\n                .get()\r\n                .uri(uriBuilder -&gt; uriBuilder.queryParam(&quot;aoi_key&quot;, apiKey)\r\n                        .queryParam(&quot;start_date&quot;, startDate)\r\n                        .queryParam(&quot;end_date&quot;, endDate).build())\r\n                .accept(MediaType.APPLICATION_JSON)\r\n                .retrieve()\r\n                .bodyToMono(String.class);\r\n}\r\n\r\nList&lt;Person&gt; findPeopleWithMinimumLoanAmount(String jsonFromLoanApi)\r\n\r\n```\r\n&lt;br&gt;\r\n\r\nNow, I am struggling to use reactive data structures to process the response from all the api calls in a non-blocking way. I can for sure use block() and get result from each call and save it in some intermediate list and compare with next result and keep finding minimum until I got all the results. What is the ideal/better way to do this in a non-blocking and efficient way. \r\nThank you in advance for going through my question and apologies for long question or if question is not clear. Kindly let me know in comments and I can rectify. I have omitted some code as it is not relevant IMO.","title":"How to call rest api in loop using webclient and process all the responses in non-blocking way in java","body":"<p>I am trying to use WebClient to call a rest api in a loop and process the response in non-blocking way.<br>\nUse case as follows, <br>\nI need to call a rest api which returns data for at the most 7 days(startDate, endDate) but I receive input date range which can be any period such as 30 days, 6 months, 1 year etc and I need to call the api accordingly. <br> So e.g. if I get input date range of 30 days then I need to call the api 5 times to get required data.<br>\n<strong>Lets say I need to find people with minimum loanAmount from 2022-09-01 to 2022-09-30.\nI can use this api getLoanDetails(startDate, endDate) which accepts dates within 7 days period only. So I need to call this api 5 times (2022-09-01 to 2022-09-07, 2022-09-08 to 2022-09-14, 2022-09-15 to 2022-09-21, 2022-09-22 to 2022-09-28 and 2022-09-29 to 2022-09-30)</strong></p>\n<p>I have created a list of dates of 7 days period from input date and running a loop over it and calling the api using WebClient in loop. I need to parse the json response, create Person objects from it and collect all persons with minimum loanAmount into a list(as there can be many with same loanAmount) <br>\n<code>record Person(String name, BigDecimal loanAmount, LocalDate dateOfBirth) {}</code></p>\n<pre><code>Flux&lt;Person&gt; findPeopleWithMinimumLoan(LocalDate startDate, LocalDate endDate) {\n\n  List&lt;Pair&lt;LocalDate&gt;&gt; dateList = getDates(startDate,endDate);\n  for (Pair&lt;LocalDate&gt; periodToFindLoanDetails:dateList) { \n     Mono&lt;List&lt;Person&gt;&gt; personsWithMinimumLoanAmount = \n      callLoanApi(periodToFindLoanDetails.startDate(), periodToFindLoanDetails.endDate())\n                    .map(this::findPeopleWithMinimumLoanAmount);\n\n   **//TODO: Compare the result of all the loan api calls in a non blocking way and \n             return Flux&lt;Person&gt; or Mono&lt;List&lt;Person&gt;&gt;**\n}\n\nMono&lt;String&gt; callLoanApi(LocalDate startDate, LocalDate endDate) { \n   return WebClient.create(apiURI)\n                .get()\n                .uri(uriBuilder -&gt; uriBuilder.queryParam(&quot;aoi_key&quot;, apiKey)\n                        .queryParam(&quot;start_date&quot;, startDate)\n                        .queryParam(&quot;end_date&quot;, endDate).build())\n                .accept(MediaType.APPLICATION_JSON)\n                .retrieve()\n                .bodyToMono(String.class);\n}\n\nList&lt;Person&gt; findPeopleWithMinimumLoanAmount(String jsonFromLoanApi)\n\n</code></pre>\n<br>\n<p>Now, I am struggling to use reactive data structures to process the response from all the api calls in a non-blocking way. I can for sure use block() and get result from each call and save it in some intermediate list and compare with next result and keep finding minimum until I got all the results. What is the ideal/better way to do this in a non-blocking and efficient way.\nThank you in advance for going through my question and apologies for long question or if question is not clear. Kindly let me know in comments and I can rectify. I have omitted some code as it is not relevant IMO.</p>\n"},{"tags":["java","spring-boot","jpa"],"comments":[{"owner":{"account_id":8794729,"reputation":15297,"user_id":6572971,"display_name":"Alien"},"score":1,"creation_date":1662828544,"post_id":73673562,"comment_id":130098558,"body_markdown":"Better to differentiate it in java code instead of SQL query.","body":"Better to differentiate it in java code instead of SQL query."}],"answers":[{"tags":[],"owner":{"account_id":15576518,"reputation":31,"user_id":12979721,"display_name":"Alysson Malagutte"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663705264,"creation_date":1663705264,"answer_id":73792227,"question_id":73673562,"body_markdown":"You have to return your query as boolean\r\n\r\n  \r\n\r\n     @query(“Select count(*) &gt; 0 from YOUR_TABLE WHERE …”)\r\n     boolean existsByNameAndEmail(@Param(“name”) String name, @Param(“email”)String email);\r\n\r\n","title":"JPA Query if value is present will check the value is exist","body":"<p>You have to return your query as boolean</p>\n<pre><code> @query(“Select count(*) &gt; 0 from YOUR_TABLE WHERE …”)\n boolean existsByNameAndEmail(@Param(“name”) String name, @Param(“email”)String email);\n</code></pre>\n"}],"owner":{"account_id":25234421,"reputation":49,"user_id":19069159,"display_name":"SpicySandwich"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1066,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1663705264,"creation_date":1662828342,"question_id":73673562,"body_markdown":"\r\nI found this in https://www.baeldung.com/spring-data-jpa-null-parameters\r\nand its working fine in test project but i want to add if param has a value then check if exist in database and if not exist i will try my best to return to empty list.\r\n\r\nAnd im trying to combine with this exist https://www.baeldung.com/spring-data-exists-query but no luck.\r\n\r\nMust be a query.\r\n```\r\n@Query(&quot;SELECT c FROM Customer c WHERE (:name is null or c.name = :name) and (:email is null or c.email = :email)&quot;)\r\nList&lt;Customer&gt; findCustomerByNameAndEmail(@Param(&quot;name&quot;) String name, @Param(&quot;email&quot;) String email);\r\n```\r\n","title":"JPA Query if value is present will check the value is exist","body":"<p>I found this in <a href=\"https://www.baeldung.com/spring-data-jpa-null-parameters\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-data-jpa-null-parameters</a>\nand its working fine in test project but i want to add if param has a value then check if exist in database and if not exist i will try my best to return to empty list.</p>\n<p>And im trying to combine with this exist <a href=\"https://www.baeldung.com/spring-data-exists-query\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-data-exists-query</a> but no luck.</p>\n<p>Must be a query.</p>\n<pre><code>@Query(&quot;SELECT c FROM Customer c WHERE (:name is null or c.name = :name) and (:email is null or c.email = :email)&quot;)\nList&lt;Customer&gt; findCustomerByNameAndEmail(@Param(&quot;name&quot;) String name, @Param(&quot;email&quot;) String email);\n</code></pre>\n"},{"tags":["java","xml","validation","xslt"],"answers":[{"tags":[],"owner":{"account_id":4570164,"reputation":4170,"user_id":3710053,"display_name":"Siebe Jongebloed"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661949855,"creation_date":1661949855,"answer_id":73556088,"question_id":73546642,"body_markdown":"You could use this xslt (version 1.0):\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;xsl:stylesheet version=&quot;1.0&quot; \r\n      xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;&gt;\r\n      &lt;xsl:output method=&quot;xml&quot; version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; indent=&quot;yes&quot;/&gt;\r\n      \r\n      &lt;xsl:strip-space elements=&quot;*&quot;/&gt;\r\n      \r\n      &lt;xsl:template match=&quot;@*|text()|*&quot;&gt;\r\n        &lt;xsl:copy&gt;\r\n          &lt;xsl:apply-templates select=&quot;@*|node()&quot;/&gt;\r\n        &lt;/xsl:copy&gt;\r\n      &lt;/xsl:template&gt;\r\n    \r\n      &lt;xsl:template match=&quot;processing-instruction()|comment()&quot;/&gt;\r\n      \r\n    &lt;/xsl:stylesheet&gt;\r\n\r\nUnnecessary whitespace is somewhat tricky sinds in a mixed-content-model whitespace can be significant. ","title":"Fastest way to check for comments and processing instructions in XML file and strip whitespace?","body":"<p>You could use this xslt (version 1.0):</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;xsl:stylesheet version=&quot;1.0&quot; \n  xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;&gt;\n  &lt;xsl:output method=&quot;xml&quot; version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; indent=&quot;yes&quot;/&gt;\n  \n  &lt;xsl:strip-space elements=&quot;*&quot;/&gt;\n  \n  &lt;xsl:template match=&quot;@*|text()|*&quot;&gt;\n    &lt;xsl:copy&gt;\n      &lt;xsl:apply-templates select=&quot;@*|node()&quot;/&gt;\n    &lt;/xsl:copy&gt;\n  &lt;/xsl:template&gt;\n\n  &lt;xsl:template match=&quot;processing-instruction()|comment()&quot;/&gt;\n  \n&lt;/xsl:stylesheet&gt;\n</code></pre>\n<p>Unnecessary whitespace is somewhat tricky sinds in a mixed-content-model whitespace can be significant.</p>\n"}],"owner":{"account_id":5441246,"reputation":386,"user_id":4329276,"display_name":"Hans Wurst"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1663704585,"creation_date":1661881987,"question_id":73546642,"body_markdown":"What&#39;s the most performant way to check for comments and processing instructions in an XML file and strip unnecessary whitespace in Java?\r\nProcessing should fail if either comment or processing instruction is contained in the XML file otherwise all unnecessary whitespace should be removed.\r\n\r\nHow would the solution look like if processing instructions and comments should be removed as well instead of failing the validation / transformation?","title":"Fastest way to check for comments and processing instructions in XML file and strip whitespace?","body":"<p>What's the most performant way to check for comments and processing instructions in an XML file and strip unnecessary whitespace in Java?\nProcessing should fail if either comment or processing instruction is contained in the XML file otherwise all unnecessary whitespace should be removed.</p>\n<p>How would the solution look like if processing instructions and comments should be removed as well instead of failing the validation / transformation?</p>\n"},{"tags":["java","division"],"comments":[{"owner":{"account_id":13537945,"reputation":408,"user_id":9766517,"display_name":"Ellis Thompson"},"score":0,"creation_date":1663704020,"post_id":73791990,"comment_id":130301568,"body_markdown":"Could you explain a little more what your problem is? Are your receiving an error. mg to g should be `1000` and then you might find it easier to divide the gram by `1000` to get kilo.\n\nEdit: you also dont need to do anything with your milligram","body":"Could you explain a little more what your problem is? Are your receiving an error. mg to g should be <code>1000</code> and then you might find it easier to divide the gram by <code>1000</code> to get kilo.  Edit: you also dont need to do anything with your milligram"}],"answers":[{"tags":[],"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1663704264,"creation_date":1663704264,"answer_id":73792064,"question_id":73791990,"body_markdown":"You can use the modulus (clock arithmetic) operator\r\n\r\n     const KG = 1000000;\r\n     const GRAM = 1000;\r\n     Scanner in = new Scanner(System.in);\r\n     int milligram;\r\n     double kilo, gram;\r\n     System.out.println(&quot;Enter the weight in milligrams: &quot;);\r\n     milligram = in.nextInt();\r\n     kilo = milligram / KG;\r\n     //use the modulus here (and below)\r\n     milligram = milligram % KG;\r\n     gram = milligram / GRAM;\r\n     // 2nd use of modulus, this time with GRAN\r\n     milligram = milligram % GRAM;\r\n     System.out.println(&quot;The weight is &quot; + kilo + &quot;kilos, &quot; + gram + &quot;grams&quot; + milligram + &quot; milligrams&quot;);\r\n   }","title":"Program that lists amount of weight in a given input","body":"<p>You can use the modulus (clock arithmetic) operator</p>\n<pre><code> const KG = 1000000;\n const GRAM = 1000;\n Scanner in = new Scanner(System.in);\n int milligram;\n double kilo, gram;\n System.out.println(&quot;Enter the weight in milligrams: &quot;);\n milligram = in.nextInt();\n kilo = milligram / KG;\n //use the modulus here (and below)\n milligram = milligram % KG;\n gram = milligram / GRAM;\n // 2nd use of modulus, this time with GRAN\n milligram = milligram % GRAM;\n System.out.println(&quot;The weight is &quot; + kilo + &quot;kilos, &quot; + gram + &quot;grams&quot; + milligram + &quot; milligrams&quot;);\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":24062670,"reputation":9,"user_id":18039685,"display_name":"uzziclip"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":230,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1663704264,"creation_date":1663703746,"question_id":73791990,"body_markdown":"I am attempting to write a program that will list the amount of kilograms, grams, and milligrams in a given input. Ex. in the given input of 1050042mg, the output will say that there is 1 kilogram, 50 grams, and 42 milligrams.\r\n\r\n    import java.util.Scanner;\r\n    \r\n    class milligrams {\r\n       public static void main(String[] args) {\r\n         Scanner in = new Scanner(System.in);\r\n         int milligram;\r\n         double kilo, gram;\r\n         System.out.println(&quot;Enter the weight in milligrams: &quot;);\r\n         milligram = in.nextInt();\r\n         kilo = milligram / 1000000;\r\n         gram = milligram / 10000;\r\n         milligram = milligram / 1;\r\n         System.out.println(&quot;The weight is &quot; + kilo + &quot;kilos, &quot; + gram + &quot;grams&quot; + milligram + &quot; milligrams&quot;);\r\n       }\r\n    }\r\nThe part I am struggling with is I believe I must change the 10-12 lines with code that will read the given user input and then divide the input by the appropriate number to get kg, g, and mg but I cannot figure out how to do it as I am new to java. I am aware the division numbers are incorrect but I don&#39;t believe that is the issue. If this is not the right approach please guide me to the right approach.","title":"Program that lists amount of weight in a given input","body":"<p>I am attempting to write a program that will list the amount of kilograms, grams, and milligrams in a given input. Ex. in the given input of 1050042mg, the output will say that there is 1 kilogram, 50 grams, and 42 milligrams.</p>\n<pre><code>import java.util.Scanner;\n\nclass milligrams {\n   public static void main(String[] args) {\n     Scanner in = new Scanner(System.in);\n     int milligram;\n     double kilo, gram;\n     System.out.println(&quot;Enter the weight in milligrams: &quot;);\n     milligram = in.nextInt();\n     kilo = milligram / 1000000;\n     gram = milligram / 10000;\n     milligram = milligram / 1;\n     System.out.println(&quot;The weight is &quot; + kilo + &quot;kilos, &quot; + gram + &quot;grams&quot; + milligram + &quot; milligrams&quot;);\n   }\n}\n</code></pre>\n<p>The part I am struggling with is I believe I must change the 10-12 lines with code that will read the given user input and then divide the input by the appropriate number to get kg, g, and mg but I cannot figure out how to do it as I am new to java. I am aware the division numbers are incorrect but I don't believe that is the issue. If this is not the right approach please guide me to the right approach.</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663704208,"creation_date":1663704208,"answer_id":73792054,"question_id":73791368,"body_markdown":"It looks like you&#39;re interpreting the digits of `x` backwards (in addition to converting it using a string, which is a little weird).  If you&#39;re going to convert `x` to a `String`, you&#39;ll need to iterate through its digits lowest-to-highest-significance order, meaning backwards.","title":"Fast exponentiation modulo method","body":"<p>It looks like you're interpreting the digits of <code>x</code> backwards (in addition to converting it using a string, which is a little weird).  If you're going to convert <code>x</code> to a <code>String</code>, you'll need to iterate through its digits lowest-to-highest-significance order, meaning backwards.</p>\n"}],"owner":{"account_id":25472085,"reputation":27,"user_id":19270098,"display_name":"Andrey Smith"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1663704208,"creation_date":1663699723,"question_id":73791368,"body_markdown":"I wrote a method for fast exponentiation modulo, but it does not work correctly on the example: 5 ^ 20 mod 7. What is the error? Outputs answer 3 instead of 4\r\n\r\n    public class cryptoLab1 {\r\n        //y = a^x mod p\r\n        public static BigInteger Mod(BigInteger a, int x, int p) throws Exception {\r\n            if(x == 0) {\r\n                return BigInteger.valueOf(1);\r\n            }\r\n            if(p == 0) {\r\n                throw new Exception(&quot;P cannot be 0&quot;);\r\n            }\r\n    \r\n            var t = Integer.toString(x, 2);\r\n            var result = BigInteger.valueOf(1);\r\n            var s = a;\r\n    \r\n            for (int i = 0; i &lt;= t.length() - 1; i++) {\r\n                if(t.charAt(i) == &#39;1&#39;) {\r\n                    result = (result.multiply(s)).mod(BigInteger.valueOf(p));\r\n                }\r\n                s = (s.multiply(s)).mod(BigInteger.valueOf(p));\r\n            }\r\n    \r\n            return result;\r\n        }\r\n    }","title":"Fast exponentiation modulo method","body":"<p>I wrote a method for fast exponentiation modulo, but it does not work correctly on the example: 5 ^ 20 mod 7. What is the error? Outputs answer 3 instead of 4</p>\n<pre><code>public class cryptoLab1 {\n    //y = a^x mod p\n    public static BigInteger Mod(BigInteger a, int x, int p) throws Exception {\n        if(x == 0) {\n            return BigInteger.valueOf(1);\n        }\n        if(p == 0) {\n            throw new Exception(&quot;P cannot be 0&quot;);\n        }\n\n        var t = Integer.toString(x, 2);\n        var result = BigInteger.valueOf(1);\n        var s = a;\n\n        for (int i = 0; i &lt;= t.length() - 1; i++) {\n            if(t.charAt(i) == '1') {\n                result = (result.multiply(s)).mod(BigInteger.valueOf(p));\n            }\n            s = (s.multiply(s)).mod(BigInteger.valueOf(p));\n        }\n\n        return result;\n    }\n}\n</code></pre>\n"},{"tags":["java","regex"],"answers":[{"tags":[],"owner":{"account_id":15905509,"reputation":833,"user_id":11476834,"display_name":"Jochen Reinhardt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663238785,"creation_date":1663238785,"answer_id":73729750,"question_id":73729300,"body_markdown":"Instead of trying to split your input string at word boundaries, it is easier to actually look for words - i.e. a sequence of letters. This way you can even have your regex check the length of the word.\r\n\r\nI tried this:\r\n\r\n``` java\r\nimport java.util.regex.Matcher;\r\nimport java.util.regex.Pattern;\r\n\r\n// ...\r\n\r\nMatcher matcher = Pattern.compile(&quot;\\\\p{IsLatin}{4,}&quot;).matcher(sb);\r\nwhile (matcher.find()) {\r\n    String word = matcher.group();\r\n\tInteger count = counterMap.getOrDefault(word, 0);\r\n\tcounterMap.put(word, ++count);\r\n}\r\n```","title":"Java: make a valid REGEX","body":"<p>Instead of trying to split your input string at word boundaries, it is easier to actually look for words - i.e. a sequence of letters. This way you can even have your regex check the length of the word.</p>\n<p>I tried this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\n// ...\n\nMatcher matcher = Pattern.compile(&quot;\\\\p{IsLatin}{4,}&quot;).matcher(sb);\nwhile (matcher.find()) {\n    String word = matcher.group();\n    Integer count = counterMap.getOrDefault(word, 0);\n    counterMap.put(word, ++count);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1663704009,"creation_date":1663704009,"answer_id":73792024,"question_id":73729300,"body_markdown":"Here is another way to accomplish this task. Instead of splitting on all those punctuation characters...get rid of them. Clean the string so that it is nothing more than a string of words separated by a whitespaces. Split the string then find occurrences. Read the comments in code:\r\n\r\n    public static List&lt;String&gt; getWordOccurrences(String inputString, boolean... ignoreLetterCase) {\r\n        boolean ignoreCase = true;              // Ignore letter case by default.\r\n        if (ignoreLetterCase.length &gt; 0) {      // Has otherwise been optionally supplied?\r\n            ignoreCase = ignoreLetterCase[0];   // Let it be what was supplied.\r\n        }\r\n        \r\n        // Clean the String...\r\n        String strg = inputString.replaceAll(&quot;[\\\\\\\\@:;.-/]&quot;,&quot; &quot;)      // Separate joined words...\r\n                                 .replaceAll(&quot;\\\\s+&quot;, &quot; &quot;)             // Remove any extra spacing...\r\n                                 .replaceAll(&quot;[“”\\\\p{Punct}]+&quot;, &quot;&quot;);  // Remove all unwanted characters...\r\n        \r\n        // If ignore Letter case then convert string to lower case.\r\n        if (ignoreCase) {\r\n            strg = strg.toLowerCase();\r\n        }\r\n\r\n        // Split String into a words[] String array...\r\n        String[] words = strg.split(&quot;\\\\s+&quot;);\r\n        \r\n        Arrays.sort(words);     // Sort the Array. \r\n\r\n        // Creat a List&lt;String&gt; to store ALL word Occurrances\r\n        List&lt;String&gt; occurrences = new ArrayList&lt;&gt;();\r\n        \r\n        // Determine word occurrences... \r\n        /* Counter to count the number of times the current \r\n           word in play is found within the supplied string. */\r\n        int count;\r\n        // Iterate through the `words[]` array...\r\n        for (int i = 0; i &lt; words.length; i++) {\r\n            count = 1;  // Reset count to 1 for new word.\r\n            /* Iterate through the `words[]` array again\r\n               ignoring the same index as previous loop. */\r\n            for (int j = 0; j &lt; words.length; j++) {\r\n                if (i != j &amp;&amp; words[i].equals(words[j])) {\r\n                    count++; // increment counter if there is a match.\r\n                }\r\n            }\r\n            \r\n            /* Format the word string to add to the List.\r\n               This would contain the word and the number \r\n               of times it was detected within the string\r\n               separated by a single whitespace.       */\r\n            String toAdd = words[i] + &quot; &quot; + count;\r\n            \r\n            /* Before we add the word to the list, let&#39;s \r\n               make sure the list doesn&#39;t already have it. */\r\n            if (!occurrences.contains(toAdd)) {\r\n                occurrences.add(toAdd);\r\n            }\r\n        }\r\n\r\n        // In order to meet requirements:\r\n        /* Sort the list of word occurrences in ascending order based on the \r\n           highest word counts first as outlined as a requirement.  A custom \r\n           comparator with the `Collections.sort()` method is used for this:  */\r\n        java.util.Collections.sort(occurrences,\r\n                (String s1, String s2) -&gt; s2.split(&quot;\\\\s+&quot;)[1].compareTo(s1.split(&quot;\\\\s+&quot;)[1]));\r\n        \r\n        return occurrences;   // Return the created List.\r\n    }\r\n\r\nTo use the above method you might do something like this:\r\n\r\n    // The Input String to process...\r\n    String strg = &quot;“And how about you, Count Peter Kir&#237;lych? If they call up the &quot;\r\n            + &quot;militia, you too will have to mount a horse,” remarked the old &quot;\r\n            + &quot;count, addressing Pierre.&quot;;\r\n\r\n    System.out.println(strg); // Print the input string to console:\r\n        \r\n    // List to hold determined occurrences.\r\n    List&lt;String&gt; occurrences = getWordOccurrences(strg);\r\n        \r\n    // Display the List of occurrences...\r\n    System.out.println();\r\n    System.out.println(&quot;--------------------&quot;);\r\n    System.out.println(&quot;Words (&quot; + occurrences.size() + &quot;):  No. of:&quot;);\r\n    System.out.println(&quot;--------------------&quot;);\r\n    for (String str : occurrences) {\r\n        System.out.println(String.format(&quot;%-15s%-5s&quot;, \r\n                str.split(&quot;\\\\s&quot;)[0], str.split(&quot;\\\\s&quot;)[1]));\r\n    }\r\n    System.out.println();\r\n\r\nAnd the Console Window should display something like:\r\n\r\n```\r\n“And how about you, Count Peter Kir&#237;lych? If they call up the militia, you too will have to mount a horse,” remarked the old count, addressing Pierre.\r\n\r\n--------------------\r\nWords (24):  No. of:\r\n--------------------\r\ncount          2    \r\nthe            2    \r\nyou            2    \r\na              1    \r\nabout          1    \r\naddressing     1    \r\nand            1    \r\ncall           1    \r\nhave           1    \r\nhorse          1    \r\nhow            1    \r\nif             1    \r\nkir&#237;lych       1    \r\nmilitia        1    \r\nmount          1    \r\nold            1    \r\npeter          1    \r\npierre         1    \r\nremarked       1    \r\nthey           1    \r\nto             1    \r\ntoo            1    \r\nup             1    \r\nwill           1    \r\n```","title":"Java: make a valid REGEX","body":"<p>Here is another way to accomplish this task. Instead of splitting on all those punctuation characters...get rid of them. Clean the string so that it is nothing more than a string of words separated by a whitespaces. Split the string then find occurrences. Read the comments in code:</p>\n<pre><code>public static List&lt;String&gt; getWordOccurrences(String inputString, boolean... ignoreLetterCase) {\n    boolean ignoreCase = true;              // Ignore letter case by default.\n    if (ignoreLetterCase.length &gt; 0) {      // Has otherwise been optionally supplied?\n        ignoreCase = ignoreLetterCase[0];   // Let it be what was supplied.\n    }\n    \n    // Clean the String...\n    String strg = inputString.replaceAll(&quot;[\\\\\\\\@:;.-/]&quot;,&quot; &quot;)      // Separate joined words...\n                             .replaceAll(&quot;\\\\s+&quot;, &quot; &quot;)             // Remove any extra spacing...\n                             .replaceAll(&quot;[“”\\\\p{Punct}]+&quot;, &quot;&quot;);  // Remove all unwanted characters...\n    \n    // If ignore Letter case then convert string to lower case.\n    if (ignoreCase) {\n        strg = strg.toLowerCase();\n    }\n\n    // Split String into a words[] String array...\n    String[] words = strg.split(&quot;\\\\s+&quot;);\n    \n    Arrays.sort(words);     // Sort the Array. \n\n    // Creat a List&lt;String&gt; to store ALL word Occurrances\n    List&lt;String&gt; occurrences = new ArrayList&lt;&gt;();\n    \n    // Determine word occurrences... \n    /* Counter to count the number of times the current \n       word in play is found within the supplied string. */\n    int count;\n    // Iterate through the `words[]` array...\n    for (int i = 0; i &lt; words.length; i++) {\n        count = 1;  // Reset count to 1 for new word.\n        /* Iterate through the `words[]` array again\n           ignoring the same index as previous loop. */\n        for (int j = 0; j &lt; words.length; j++) {\n            if (i != j &amp;&amp; words[i].equals(words[j])) {\n                count++; // increment counter if there is a match.\n            }\n        }\n        \n        /* Format the word string to add to the List.\n           This would contain the word and the number \n           of times it was detected within the string\n           separated by a single whitespace.       */\n        String toAdd = words[i] + &quot; &quot; + count;\n        \n        /* Before we add the word to the list, let's \n           make sure the list doesn't already have it. */\n        if (!occurrences.contains(toAdd)) {\n            occurrences.add(toAdd);\n        }\n    }\n\n    // In order to meet requirements:\n    /* Sort the list of word occurrences in ascending order based on the \n       highest word counts first as outlined as a requirement.  A custom \n       comparator with the `Collections.sort()` method is used for this:  */\n    java.util.Collections.sort(occurrences,\n            (String s1, String s2) -&gt; s2.split(&quot;\\\\s+&quot;)[1].compareTo(s1.split(&quot;\\\\s+&quot;)[1]));\n    \n    return occurrences;   // Return the created List.\n}\n</code></pre>\n<p>To use the above method you might do something like this:</p>\n<pre><code>// The Input String to process...\nString strg = &quot;“And how about you, Count Peter Kirílych? If they call up the &quot;\n        + &quot;militia, you too will have to mount a horse,” remarked the old &quot;\n        + &quot;count, addressing Pierre.&quot;;\n\nSystem.out.println(strg); // Print the input string to console:\n    \n// List to hold determined occurrences.\nList&lt;String&gt; occurrences = getWordOccurrences(strg);\n    \n// Display the List of occurrences...\nSystem.out.println();\nSystem.out.println(&quot;--------------------&quot;);\nSystem.out.println(&quot;Words (&quot; + occurrences.size() + &quot;):  No. of:&quot;);\nSystem.out.println(&quot;--------------------&quot;);\nfor (String str : occurrences) {\n    System.out.println(String.format(&quot;%-15s%-5s&quot;, \n            str.split(&quot;\\\\s&quot;)[0], str.split(&quot;\\\\s&quot;)[1]));\n}\nSystem.out.println();\n</code></pre>\n<p>And the Console Window should display something like:</p>\n<pre><code>“And how about you, Count Peter Kirílych? If they call up the militia, you too will have to mount a horse,” remarked the old count, addressing Pierre.\n\n--------------------\nWords (24):  No. of:\n--------------------\ncount          2    \nthe            2    \nyou            2    \na              1    \nabout          1    \naddressing     1    \nand            1    \ncall           1    \nhave           1    \nhorse          1    \nhow            1    \nif             1    \nkirílych       1    \nmilitia        1    \nmount          1    \nold            1    \npeter          1    \npierre         1    \nremarked       1    \nthey           1    \nto             1    \ntoo            1    \nup             1    \nwill           1    \n</code></pre>\n"}],"owner":{"account_id":26309882,"reputation":1,"user_id":19973572,"display_name":"Boombom"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":73792024,"answer_count":2,"score":-1,"last_activity_date":1663704009,"creation_date":1663236605,"question_id":73729300,"body_markdown":"i am stuck. I have a text with *“And how about you, Count Peter Kir&#237;lych? If they call up the militia,\r\nyou too will have to mount a horse,” remarked the old count, addressing\r\nPierre.*\r\n\r\nso i am trying to split it and  Count how often the word occurs in the text and return the results  with the Max repeated to less ones. So the question how can i return results with Max repeated to less one And Some of results are wrong ,\r\n\r\n Unfortunately my regex is not working for dash(-), (`) and quote (&quot;). Would be glad for any help \r\nHere is what i did :\r\n```\r\nStringBuilder sb= new StringBuilder();\r\n        Map&lt;String, Integer&gt; counterMap = new HashMap&lt;&gt;();\r\n        for(Object str:lines){\r\n            sb.append(str.toString()+&quot; &quot;);\r\n        }\r\n        String boom[] = sb.toString().split(&quot;[&#39;@?-` \\\\p{Punct}]+\\\\s*&quot;);\r\n        for (String word : boom) {\r\n            if(word.length()&gt;=4){\r\n            if(!word.isEmpty()) {\r\n                word = word.trim();\r\n                Integer count = counterMap.get(word);\r\n                if(count == null) {\r\n                    count = 0;\r\n                }\r\n                counterMap.put(word, ++count);\r\n            }}\r\n        }\r\nStringBuilder bb = new StringBuilder();\r\n        Map.Entry&lt;String,Integer&gt; maxEntry = null;\r\n\r\n        for(String word : counterMap.keySet()) {\r\n            System.out.println(word + &quot;: &quot; + counterMap.get(word));\r\n\r\n            bb.append(word + &quot; - &quot;+counterMap.get(word)+&quot;\\n&quot;);\r\n        }\r\n\r\n        return bb.toString();\r\n    }\r\n","title":"Java: make a valid REGEX","body":"<p>i am stuck. I have a text with <em>“And how about you, Count Peter Kirílych? If they call up the militia,\nyou too will have to mount a horse,” remarked the old count, addressing\nPierre.</em></p>\n<p>so i am trying to split it and  Count how often the word occurs in the text and return the results  with the Max repeated to less ones. So the question how can i return results with Max repeated to less one And Some of results are wrong ,</p>\n<p>Unfortunately my regex is not working for dash(-), (`) and quote (&quot;). Would be glad for any help\nHere is what i did :</p>\n<pre><code>StringBuilder sb= new StringBuilder();\n        Map&lt;String, Integer&gt; counterMap = new HashMap&lt;&gt;();\n        for(Object str:lines){\n            sb.append(str.toString()+&quot; &quot;);\n        }\n        String boom[] = sb.toString().split(&quot;['@?-` \\\\p{Punct}]+\\\\s*&quot;);\n        for (String word : boom) {\n            if(word.length()&gt;=4){\n            if(!word.isEmpty()) {\n                word = word.trim();\n                Integer count = counterMap.get(word);\n                if(count == null) {\n                    count = 0;\n                }\n                counterMap.put(word, ++count);\n            }}\n        }\nStringBuilder bb = new StringBuilder();\n        Map.Entry&lt;String,Integer&gt; maxEntry = null;\n\n        for(String word : counterMap.keySet()) {\n            System.out.println(word + &quot;: &quot; + counterMap.get(word));\n\n            bb.append(word + &quot; - &quot;+counterMap.get(word)+&quot;\\n&quot;);\n        }\n\n        return bb.toString();\n    }\n</code></pre>\n"},{"tags":["java","spring","spring-boot","hibernate","spring-mvc"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1663651868,"post_id":73777382,"comment_id":130283743,"body_markdown":"I would upgrade to Spring Boot 2.7.3 and please include your configuration and dependencies (`pom.xml` or `build.gradle`), only a stacktrace is too little information.","body":"I would upgrade to Spring Boot 2.7.3 and please include your configuration and dependencies (<code>pom.xml</code> or <code>build.gradle</code>), only a stacktrace is too little information."},{"owner":{"account_id":3758506,"reputation":1098,"user_id":3124273,"display_name":"cronos2546"},"score":0,"creation_date":1663683011,"post_id":73777382,"comment_id":130294339,"body_markdown":"I&#39;m getting a character limit error should I post the POM or stack trace / consolidate them in some way?","body":"I&#39;m getting a character limit error should I post the POM or stack trace / consolidate them in some way?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1663695356,"post_id":73777382,"comment_id":130298892,"body_markdown":"If you can at least post your dependencies (but the whole `pom.xml` would be better). You can reduce the stacktrace and optionally include a link to the full stacktrace/logging.","body":"If you can at least post your dependencies (but the whole <code>pom.xml</code> would be better). You can reduce the stacktrace and optionally include a link to the full stacktrace/logging."},{"owner":{"account_id":3758506,"reputation":1098,"user_id":3124273,"display_name":"cronos2546"},"score":0,"creation_date":1663703833,"post_id":73777382,"comment_id":130301515,"body_markdown":"Ok I cut out the stack trace and put in the whole POM","body":"Ok I cut out the stack trace and put in the whole POM"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1663739118,"post_id":73777382,"comment_id":130307286,"body_markdown":"Couple of things, `jackson-databind`, `servlet-api`, `hibernate-core` and `slf4j-api` those are already included in other dependencies (that is the whole point of the starters). The inclusion of the `servlet-api` might even be problematic. You can remove all the plugins except the `spring-boot-maven-plugin`, `maven-resource-plugin` and probably the azure one. The tomcat7 is old and the plugin won&#39;t work with newer versions (afaik). You are building a war have you properly extended the `SpringBootServletInitializer`? Are you overriding/adding configuration that disables (parts) the autoconfig?","body":"Couple of things, <code>jackson-databind</code>, <code>servlet-api</code>, <code>hibernate-core</code> and <code>slf4j-api</code> those are already included in other dependencies (that is the whole point of the starters). The inclusion of the <code>servlet-api</code> might even be problematic. You can remove all the plugins except the <code>spring-boot-maven-plugin</code>, <code>maven-resource-plugin</code> and probably the azure one. The tomcat7 is old and the plugin won&#39;t work with newer versions (afaik). You are building a war have you properly extended the <code>SpringBootServletInitializer</code>? Are you overriding/adding configuration that disables (parts) the autoconfig?"},{"owner":{"account_id":3758506,"reputation":1098,"user_id":3124273,"display_name":"cronos2546"},"score":0,"creation_date":1664044680,"post_id":73777382,"comment_id":130383402,"body_markdown":"1 (properly extending SpringBootServletInitializer): I don&#39;t know. I have an application class which extends the initializer and scans my packages.","body":"1 (properly extending SpringBootServletInitializer): I don&#39;t know. I have an application class which extends the initializer and scans my packages."},{"owner":{"account_id":3758506,"reputation":1098,"user_id":3124273,"display_name":"cronos2546"},"score":0,"creation_date":1664044737,"post_id":73777382,"comment_id":130383409,"body_markdown":"2 (overriding/adding configuration): I have tried a few different attempts to override the auto-configuration, mostly around security and then, after I tried to tie in the security to my main app class, to the servlet initializer contexts","body":"2 (overriding/adding configuration): I have tried a few different attempts to override the auto-configuration, mostly around security and then, after I tried to tie in the security to my main app class, to the servlet initializer contexts"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1664174842,"post_id":73777382,"comment_id":130402280,"body_markdown":"If you don&#39;t use `SpringBootServletInitializer` spring boot won&#39;t work, unless you intend **not** to use Spring Boot you should manually write all your code, but I doubt you want that. Another thing I noticed is that you have `spring-boot-starter-test` in your dependencies but with the `&lt;scope&gt;test&lt;/scope&gt;` not sure if that is deliberate or not?","body":"If you don&#39;t use <code>SpringBootServletInitializer</code> spring boot won&#39;t work, unless you intend <b>not</b> to use Spring Boot you should manually write all your code, but I doubt you want that. Another thing I noticed is that you have <code>spring-boot-starter-test</code> in your dependencies but with the <code>&lt;scope&gt;test&lt;&#47;scope&gt;</code> not sure if that is deliberate or not?"}],"owner":{"account_id":3758506,"reputation":1098,"user_id":3124273,"display_name":"cronos2546"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":235,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1663703791,"creation_date":1663609624,"question_id":73777382,"body_markdown":"I have a spring boot application which I&#39;ve populated with a large data model. I was able to manually test the model &amp; controller methods in my main class, but when I tried to tie in some security configuration classes to the app, it crashes when I try to debug it. I have tried to play around with overriding the SpringBootServletInitializer.onStartup(ServletContext servletcontext) and creating a custom WebApplicationinitializer extending AbstractAnnotationConfigDispatcherServletInitializer\r\n\r\nbut no dice. I&#39;m happy to provide copies of any of the specific securityconfig or appconfig/dispatcherconfig classes, but they are pretty close to the Spring docs. \r\n\r\nAre there any tips for digging into what the issue with annotations is / my specific custom classes / controllers or just a plain solution to this issue in general?\r\n\r\nPOM:\r\n```\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.7.2&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n\r\n&lt;groupId&gt;something&lt;/groupId&gt;\r\n&lt;artifactId&gt;something&lt;/artifactId&gt;\r\n&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n&lt;packaging&gt;war&lt;/packaging&gt;\r\n&lt;name&gt;something&lt;/name&gt;\r\n&lt;url&gt;https://something.com&lt;/url&gt;\r\n\t\r\n&lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n        &lt;java.version&gt;18&lt;/java.version&gt;\r\n        &lt;maven.compiler.source&gt;${java.version}&lt;/maven.compiler.source&gt;\r\n    \t&lt;maven.compiler.target&gt;${java.version}&lt;/maven.compiler.target&gt;\r\n        &lt;tomcat.version&gt;9.0.65&lt;/tomcat.version&gt;\r\n\t\t&lt;vaadin.version&gt;23.0.9&lt;/vaadin.version&gt;\r\n&lt;/properties&gt;\r\n\t\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n    \t&lt;groupId&gt;com.auth0&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;java-jwt&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;3.19.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\r\n\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\r\n\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\r\n\t\t&lt;/dependency&gt;\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-oauth2-client&lt;/artifactId&gt;\r\n\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-oauth2-resource-server&lt;/artifactId&gt;\r\n\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n \t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n \t\t\t&lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n\r\n\t\t&lt;/dependency&gt;\t\t  \r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\t\r\n\t\t&lt;dependency&gt;\r\n  \t\t\t&lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n  \t\t\t&lt;artifactId&gt;httpclient&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jjwt&lt;/artifactId&gt;\r\n            &lt;version&gt;0.9.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n        \t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        \t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.5&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n  &lt;build&gt;\r\n    &lt;sourceDirectory&gt;src&lt;/sourceDirectory&gt;\r\n    &lt;finalName&gt;${project.artifactId}&lt;/finalName&gt;\r\n    &lt;resources&gt;\r\n      &lt;resource&gt;\r\n        &lt;directory&gt;resources&lt;/directory&gt;\r\n        &lt;excludes&gt;\r\n          &lt;exclude&gt;**/*.java&lt;/exclude&gt;\r\n        &lt;/excludes&gt;\r\n      &lt;/resource&gt;\r\n    &lt;/resources&gt;\r\n    &lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n    \t\t\t&lt;groupId&gt;com.microsoft.azure&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;azure-webapp-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.5.0&lt;/version&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n          \t\t&lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\r\n          \t\t\r\n        \t&lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n                &lt;executions&gt;\r\n                \t&lt;execution&gt;\r\n                \t\t&lt;id&gt;\r\n                \t\tcopy-resources\r\n                \t\t&lt;/id&gt;\r\n                \t\t&lt;phase&gt;\r\n                \t\tvalidate\r\n                \t\t&lt;/phase&gt;\r\n                \t\t&lt;goals&gt;\r\n                \t\t\t&lt;goal&gt;copy-resources&lt;/goal&gt;\r\n                \t\t&lt;/goals&gt;\r\n                \t\t&lt;configuration&gt;\r\n                \t\t\t&lt;outputDirectory&gt;${basedir}/target/classes/static/&lt;/outputDirectory&gt;\r\n                \t\t\t&lt;resources&gt;\r\n                \t\t\t\t&lt;resource&gt;\r\n                \t\t\t\t\t&lt;directory&gt;\r\n                \t\t\t\t\t${basedir}/../AwesomeProject/bin\r\n                \t\t\t\t\t&lt;/directory&gt;\r\n                \t\t\t\t&lt;/resource&gt;\r\n                \t\t\t&lt;/resources&gt;\r\n                \t\t&lt;/configuration&gt;\r\n                \t&lt;/execution&gt;\r\n                &lt;/executions&gt; \r\n            &lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t    &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n\t\t\t    \r\n\t\t\t&lt;/plugin&gt;\r\n        \t&lt;plugin&gt;\r\n          \t\t&lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\r\n          \t\t\r\n        \t&lt;/plugin&gt;\r\n        \t&lt;plugin&gt;\r\n          \t\t&lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\r\n          \t\t\r\n\t        &lt;/plugin&gt;\r\n\t        &lt;plugin&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.tomcat.maven&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;tomcat7-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.2&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n        \t\t\t&lt;url&gt;http://localhost:8081/&lt;/url&gt;\r\n        \t\t\t&lt;server&gt;tomcatdev&lt;/server&gt;\r\n        \t\t\t&lt;path&gt;/stuffid&lt;/path&gt;\r\n        \t\t&lt;/configuration&gt;\r\n    \t\t&lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n  &lt;/build&gt;\r\n\r\n        \t\r\n&lt;repositories&gt;\r\n    &lt;repository&gt;\r\n        &lt;id&gt;local-maven-repo&lt;/id&gt;\r\n        &lt;url&gt;file:///${project.basedir}/local-maven-repo&lt;/url&gt;\r\n    &lt;/repository&gt;\r\n&lt;/repositories&gt;\r\n\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nStack trace error:\r\n\r\n```\r\n :42.062 ERROR 73202 - [main] o.s.boot.SpringApplication               : Application run failed\r\n\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;resourceHandlerMapping&#39; defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.web.servlet.HandlerMapping]: Factory method &#39;resourceHandlerMapping&#39; threw exception; nested exception is java.lang.IllegalStateException: No ServletContext set\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:638) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.22.jar:5.3.22]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.22.jar:5.3.22]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.2.jar:2.7.2]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.2.jar:2.7.2]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.2.jar:2.7.2]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.2.jar:2.7.2]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.2.jar:2.7.2]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.2.jar:2.7.2]\r\n\tat id.stuff.main.api.Application.main(Application.java:92) ~[classes/:na]\r\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.web.servlet.HandlerMapping]: Factory method &#39;resourceHandlerMapping&#39; threw exception; nested exception is java.lang.IllegalStateException: No ServletContext set\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\t... 19 common frames omitted\r\nCaused by: java.lang.IllegalStateException: No ServletContext set\r\n\tat org.springframework.util.Assert.state(Assert.java:76) ~[spring-core-5.3.22.jar:5.3.22]\r\n\tat org.springframework.web.servlet.config.annotation.WebMvcConfigurationSupport.resourceHandlerMapping(WebMvcConfigurationSupport.java:591) ~[spring-webmvc-5.3.22.jar:5.3.22]\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\t... 20 common frames omitted\r\nDisconnected from the target VM, address: &#39;1xx&#39;, transport: &#39;socket&#39;\r\nProcess finished with exit code 1\r\n\r\n```\r\n","title":"Spring Boot Servlet Application Crashes with NoServletContext resourcehandlermapping exception","body":"<p>I have a spring boot application which I've populated with a large data model. I was able to manually test the model &amp; controller methods in my main class, but when I tried to tie in some security configuration classes to the app, it crashes when I try to debug it. I have tried to play around with overriding the SpringBootServletInitializer.onStartup(ServletContext servletcontext) and creating a custom WebApplicationinitializer extending AbstractAnnotationConfigDispatcherServletInitializer</p>\n<p>but no dice. I'm happy to provide copies of any of the specific securityconfig or appconfig/dispatcherconfig classes, but they are pretty close to the Spring docs.</p>\n<p>Are there any tips for digging into what the issue with annotations is / my specific custom classes / controllers or just a plain solution to this issue in general?</p>\n<p>POM:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.2&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n&lt;groupId&gt;something&lt;/groupId&gt;\n&lt;artifactId&gt;something&lt;/artifactId&gt;\n&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n&lt;packaging&gt;war&lt;/packaging&gt;\n&lt;name&gt;something&lt;/name&gt;\n&lt;url&gt;https://something.com&lt;/url&gt;\n    \n&lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n        &lt;java.version&gt;18&lt;/java.version&gt;\n        &lt;maven.compiler.source&gt;${java.version}&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;${java.version}&lt;/maven.compiler.target&gt;\n        &lt;tomcat.version&gt;9.0.65&lt;/tomcat.version&gt;\n        &lt;vaadin.version&gt;23.0.9&lt;/vaadin.version&gt;\n&lt;/properties&gt;\n    \n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n        &lt;groupId&gt;com.auth0&lt;/groupId&gt;\n            &lt;artifactId&gt;java-jwt&lt;/artifactId&gt;\n            &lt;version&gt;3.19.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\n\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\n\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n\n        &lt;/dependency&gt;       \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-oauth2-client&lt;/artifactId&gt;\n\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-oauth2-resource-server&lt;/artifactId&gt;\n\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n\n        &lt;/dependency&gt;         \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;   \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n            &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt&lt;/artifactId&gt;\n            &lt;version&gt;0.9.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\n            &lt;version&gt;2.5&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n  &lt;build&gt;\n    &lt;sourceDirectory&gt;src&lt;/sourceDirectory&gt;\n    &lt;finalName&gt;${project.artifactId}&lt;/finalName&gt;\n    &lt;resources&gt;\n      &lt;resource&gt;\n        &lt;directory&gt;resources&lt;/directory&gt;\n        &lt;excludes&gt;\n          &lt;exclude&gt;**/*.java&lt;/exclude&gt;\n        &lt;/excludes&gt;\n      &lt;/resource&gt;\n    &lt;/resources&gt;\n    &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;com.microsoft.azure&lt;/groupId&gt;\n                &lt;artifactId&gt;azure-webapp-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.5.0&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\n                \n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;\n                        copy-resources\n                        &lt;/id&gt;\n                        &lt;phase&gt;\n                        validate\n                        &lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;copy-resources&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;outputDirectory&gt;${basedir}/target/classes/static/&lt;/outputDirectory&gt;\n                            &lt;resources&gt;\n                                &lt;resource&gt;\n                                    &lt;directory&gt;\n                                    ${basedir}/../AwesomeProject/bin\n                                    &lt;/directory&gt;\n                                &lt;/resource&gt;\n                            &lt;/resources&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt; \n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n                \n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\n                \n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\n                \n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.tomcat.maven&lt;/groupId&gt;\n                &lt;artifactId&gt;tomcat7-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.2&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;url&gt;http://localhost:8081/&lt;/url&gt;\n                    &lt;server&gt;tomcatdev&lt;/server&gt;\n                    &lt;path&gt;/stuffid&lt;/path&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n\n            \n&lt;repositories&gt;\n    &lt;repository&gt;\n        &lt;id&gt;local-maven-repo&lt;/id&gt;\n        &lt;url&gt;file:///${project.basedir}/local-maven-repo&lt;/url&gt;\n    &lt;/repository&gt;\n&lt;/repositories&gt;\n\n\n&lt;/project&gt;\n</code></pre>\n<p>Stack trace error:</p>\n<pre><code> :42.062 ERROR 73202 - [main] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'resourceHandlerMapping' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.web.servlet.HandlerMapping]: Factory method 'resourceHandlerMapping' threw exception; nested exception is java.lang.IllegalStateException: No ServletContext set\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:638) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.22.jar:5.3.22]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.22.jar:5.3.22]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.2.jar:2.7.2]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.2.jar:2.7.2]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.2.jar:2.7.2]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.2.jar:2.7.2]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.2.jar:2.7.2]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.2.jar:2.7.2]\n    at id.stuff.main.api.Application.main(Application.java:92) ~[classes/:na]\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.web.servlet.HandlerMapping]: Factory method 'resourceHandlerMapping' threw exception; nested exception is java.lang.IllegalStateException: No ServletContext set\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653) ~[spring-beans-5.3.22.jar:5.3.22]\n    ... 19 common frames omitted\nCaused by: java.lang.IllegalStateException: No ServletContext set\n    at org.springframework.util.Assert.state(Assert.java:76) ~[spring-core-5.3.22.jar:5.3.22]\n    at org.springframework.web.servlet.config.annotation.WebMvcConfigurationSupport.resourceHandlerMapping(WebMvcConfigurationSupport.java:591) ~[spring-webmvc-5.3.22.jar:5.3.22]\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.3.22.jar:5.3.22]\n    ... 20 common frames omitted\nDisconnected from the target VM, address: '1xx', transport: 'socket'\nProcess finished with exit code 1\n\n</code></pre>\n"},{"tags":["java","swing","key-bindings","keyboardfocusmanager"],"answers":[{"tags":[],"owner":{"account_id":2259314,"reputation":11225,"user_id":1989769,"accept_rate":45,"display_name":"Sergiy Medvynskyy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1526884301,"creation_date":1526884301,"answer_id":50443202,"question_id":50438277,"body_markdown":"It&#39;s possible, but using another way: global event listener. To register a global event listener you should use the `Toolkit` class:\r\n\r\n    Toolkit.getDefaultToolkit().addAWTEventListener(listener, mask);\r\n\r\nHere is an example for your case:\r\n\r\n\timport java.awt.AWTEvent;\r\n\timport java.awt.Toolkit;\r\n\timport java.awt.event.AWTEventListener;\r\n\timport java.awt.event.ActionEvent;\r\n\timport java.awt.event.ActionListener;\r\n\timport java.awt.event.KeyEvent;\r\n\r\n\timport javax.swing.AbstractButton;\r\n\timport javax.swing.JButton;\r\n\timport javax.swing.JFrame;\r\n\timport javax.swing.JOptionPane;\r\n\timport javax.swing.JPanel;\r\n\timport javax.swing.JTextField;\r\n\timport javax.swing.WindowConstants;\r\n\r\n\tpublic class FocusTransferTest {\r\n\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tJFrame frm = new JFrame(&quot;Test focus transfer&quot;);\r\n\t\t\tJPanel panel = new JPanel();\r\n\t\t\tpanel.add(new JTextField(10));\r\n\t\t\tpanel.add(new JTextField(10));\r\n\t\t\tpanel.add(new JTextField(10));\r\n\t\t\tJButton btn = new JButton(&quot;Press me&quot;);\r\n\t\t\tbtn.addActionListener(new ActionListener() {\r\n\t\t\t\t\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\t\t\tJOptionPane.showMessageDialog(frm, &quot;It&#39;s a message&quot;, &quot;Info&quot;, \r\n\t\t\t\t\t\t\tJOptionPane.INFORMATION_MESSAGE);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tpanel.add(btn);\r\n\t\t\tToolkit.getDefaultToolkit().addAWTEventListener(new AWTEnterKeyListener(), \r\n\t\t\t\t\tAWTEvent.KEY_EVENT_MASK);\r\n\t\t\tfrm.add(panel);\r\n\t\t\tfrm.pack();\r\n\t\t\tfrm.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\r\n\t\t\tfrm.setLocationRelativeTo(null);\r\n\t\t\tfrm.setVisible(true);\r\n\t\t}\r\n\t\t\r\n\t\tprivate static class AWTEnterKeyListener implements AWTEventListener {\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void eventDispatched(AWTEvent event) {\r\n\t\t\t\tif (event instanceof KeyEvent) {\r\n\t\t\t\t\tKeyEvent key = (KeyEvent) event;\r\n\t\t\t\t\tif (key.getKeyCode() == KeyEvent.VK_ENTER  &amp;&amp; key.getModifiersEx() == 0 \r\n\t\t\t\t\t\t\t&amp;&amp; key.getID() == KeyEvent.KEY_PRESSED) {\r\n\t\t\t\t\t\tif (key.getComponent() instanceof AbstractButton) {\r\n\t\t\t\t\t\t\t((AbstractButton) key.getComponent()).doClick();\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tkey.getComponent().transferFocus();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n","title":"Enter Key work as Tab Key for every component except JButton","body":"<p>It's possible, but using another way: global event listener. To register a global event listener you should use the <code>Toolkit</code> class:</p>\n\n<pre><code>Toolkit.getDefaultToolkit().addAWTEventListener(listener, mask);\n</code></pre>\n\n<p>Here is an example for your case:</p>\n\n<pre><code>import java.awt.AWTEvent;\nimport java.awt.Toolkit;\nimport java.awt.event.AWTEventListener;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.awt.event.KeyEvent;\n\nimport javax.swing.AbstractButton;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JOptionPane;\nimport javax.swing.JPanel;\nimport javax.swing.JTextField;\nimport javax.swing.WindowConstants;\n\npublic class FocusTransferTest {\n\n    public static void main(String[] args) {\n        JFrame frm = new JFrame(\"Test focus transfer\");\n        JPanel panel = new JPanel();\n        panel.add(new JTextField(10));\n        panel.add(new JTextField(10));\n        panel.add(new JTextField(10));\n        JButton btn = new JButton(\"Press me\");\n        btn.addActionListener(new ActionListener() {\n\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                JOptionPane.showMessageDialog(frm, \"It's a message\", \"Info\", \n                        JOptionPane.INFORMATION_MESSAGE);\n            }\n        });\n        panel.add(btn);\n        Toolkit.getDefaultToolkit().addAWTEventListener(new AWTEnterKeyListener(), \n                AWTEvent.KEY_EVENT_MASK);\n        frm.add(panel);\n        frm.pack();\n        frm.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\n        frm.setLocationRelativeTo(null);\n        frm.setVisible(true);\n    }\n\n    private static class AWTEnterKeyListener implements AWTEventListener {\n\n        @Override\n        public void eventDispatched(AWTEvent event) {\n            if (event instanceof KeyEvent) {\n                KeyEvent key = (KeyEvent) event;\n                if (key.getKeyCode() == KeyEvent.VK_ENTER  &amp;&amp; key.getModifiersEx() == 0 \n                        &amp;&amp; key.getID() == KeyEvent.KEY_PRESSED) {\n                    if (key.getComponent() instanceof AbstractButton) {\n                        ((AbstractButton) key.getComponent()).doClick();\n                    } else {\n                        key.getComponent().transferFocus();\n                    }\n                }\n            }\n        }\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7108780,"reputation":767,"user_id":5437524,"accept_rate":50,"display_name":"Antony Ng"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1526922379,"creation_date":1526922379,"answer_id":50453551,"question_id":50438277,"body_markdown":"I think even the solution using AWTEventListener would work, I would suggest avoid using AWTEventListener if another solution is available. It is because it&#39;s so powerful that it intercepts all kinds of events globally before they reach their real targets, so if anything went wrong (such as a NullPointerException) in the middle, the whole application would stop working. \r\n\r\nMy proposed solution makes use of input map &amp; action map which adds handling of Enter key to any focused component in a particular container. \r\n\r\nThe advantage: \r\n\r\n - Safer because it affects only components in a container instead of all components.\r\n\r\nThe disadvantage:\r\n\r\n - The same handling code has to apply to all containers that need this behavior, but this could be easily accomplished by a static utility method.\r\n\r\nHere is the sample program:\r\n\r\n\tpublic MainFrame() {\r\n\t\tsetDefaultCloseOperation(EXIT_ON_CLOSE);\r\n\t\tsetSize(500, 500);\r\n\t\tsetLayout(new GridLayout(2, 2));\r\n\t\t\r\n\t\taddAllComponents();\r\n\t\taddEnterKeyAsFocusTraversal();\r\n\t}\r\n\r\n\tprivate void addAllComponents() {\r\n\t\tadd(new JTextField());\r\n\t\tadd(new JTextField());\r\n\t\t\r\n\t\tadd(new JButton(&quot;OK&quot;));\r\n\t\tadd(new JButton(&quot;Cancel&quot;));\r\n\t}\r\n\r\n\tprivate void addEnterKeyAsFocusTraversal() {\r\n\t\tfinal String ENTER_KEY_ACTION = &quot;EnterKeyAction&quot;;\r\n\t\t\r\n\t\t// Here uses the content pane of type Container so a cast is required, \r\n\t\t// in other case it could be the root container which may already be an instance of JComponent. \r\n\t\tJComponent contentPane = (JComponent) getContentPane();\r\n\r\n\t\tcontentPane.getInputMap(JComponent.WHEN_IN_FOCUSED_WINDOW).put(KeyStroke.getKeyStroke(KeyEvent.VK_ENTER, 0), ENTER_KEY_ACTION);\r\n\t\tcontentPane.getActionMap().put(ENTER_KEY_ACTION, createEnterKeyAction());\r\n\t}\r\n\r\n\tprivate AbstractAction createEnterKeyAction() {\r\n\t\treturn new AbstractAction() {\r\n\t\t\t@Override\r\n\t\t\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\t\tComponent focusOwner = KeyboardFocusManager.getCurrentKeyboardFocusManager().getFocusOwner();\r\n\t\t\t\t\r\n\t\t\t\tif (focusOwner != null) {\r\n\t\t\t\t\tif (focusOwner instanceof AbstractButton) {\r\n\t\t\t\t\t\t((AbstractButton) focusOwner).doClick();\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tfocusOwner.transferFocus();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n","title":"Enter Key work as Tab Key for every component except JButton","body":"<p>I think even the solution using AWTEventListener would work, I would suggest avoid using AWTEventListener if another solution is available. It is because it's so powerful that it intercepts all kinds of events globally before they reach their real targets, so if anything went wrong (such as a NullPointerException) in the middle, the whole application would stop working. </p>\n\n<p>My proposed solution makes use of input map &amp; action map which adds handling of Enter key to any focused component in a particular container. </p>\n\n<p>The advantage: </p>\n\n<ul>\n<li>Safer because it affects only components in a container instead of all components.</li>\n</ul>\n\n<p>The disadvantage:</p>\n\n<ul>\n<li>The same handling code has to apply to all containers that need this behavior, but this could be easily accomplished by a static utility method.</li>\n</ul>\n\n<p>Here is the sample program:</p>\n\n<pre><code>public MainFrame() {\n    setDefaultCloseOperation(EXIT_ON_CLOSE);\n    setSize(500, 500);\n    setLayout(new GridLayout(2, 2));\n\n    addAllComponents();\n    addEnterKeyAsFocusTraversal();\n}\n\nprivate void addAllComponents() {\n    add(new JTextField());\n    add(new JTextField());\n\n    add(new JButton(\"OK\"));\n    add(new JButton(\"Cancel\"));\n}\n\nprivate void addEnterKeyAsFocusTraversal() {\n    final String ENTER_KEY_ACTION = \"EnterKeyAction\";\n\n    // Here uses the content pane of type Container so a cast is required, \n    // in other case it could be the root container which may already be an instance of JComponent. \n    JComponent contentPane = (JComponent) getContentPane();\n\n    contentPane.getInputMap(JComponent.WHEN_IN_FOCUSED_WINDOW).put(KeyStroke.getKeyStroke(KeyEvent.VK_ENTER, 0), ENTER_KEY_ACTION);\n    contentPane.getActionMap().put(ENTER_KEY_ACTION, createEnterKeyAction());\n}\n\nprivate AbstractAction createEnterKeyAction() {\n    return new AbstractAction() {\n        @Override\n        public void actionPerformed(ActionEvent e) {\n            Component focusOwner = KeyboardFocusManager.getCurrentKeyboardFocusManager().getFocusOwner();\n\n            if (focusOwner != null) {\n                if (focusOwner instanceof AbstractButton) {\n                    ((AbstractButton) focusOwner).doClick();\n                } else {\n                    focusOwner.transferFocus();\n                }\n            }\n        }\n    };\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20452579,"reputation":26,"user_id":15007011,"display_name":"Rjelinek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663703121,"creation_date":1663703121,"answer_id":73791889,"question_id":50438277,"body_markdown":"The approved answer is actually bit wrong. \r\nIt add Enter as focus travel key, however it DOES NOT modify the basic button behavior of `.doClick();`\r\nSo this code spams `.doClick();` second time. I came across this issue when on button action I was writing data from bunch of text Fields to table, and it added the same record two times. solution for this is pretty simple, on `instanceof JButton` just make `return;`\r\nrepaired code upgraded to java 14 instanceof \r\n\r\n    private static class AWTListener implements AWTEventListener{\r\n    \r\n        @Override\r\n        public void eventDispatched(AWTEvent event) {\r\n            if (event instanceof KeyEvent key &amp;&amp; key.getKeyCode() == KeyEvent.VK_ENTER  &amp;&amp; key.getModifiersEx() == 0 &amp;&amp; key.getID() == KeyEvent.KEY_PRESSED) {\r\n                if (key.getComponent() instanceof JButton) {\r\n                    return;\r\n                }\r\n    \r\n                key.getComponent().transferFocus();\r\n    \r\n            }\r\n    \r\n        }\r\n    }","title":"Enter Key work as Tab Key for every component except JButton","body":"<p>The approved answer is actually bit wrong.\nIt add Enter as focus travel key, however it DOES NOT modify the basic button behavior of <code>.doClick();</code>\nSo this code spams <code>.doClick();</code> second time. I came across this issue when on button action I was writing data from bunch of text Fields to table, and it added the same record two times. solution for this is pretty simple, on <code>instanceof JButton</code> just make <code>return;</code>\nrepaired code upgraded to java 14 instanceof</p>\n<pre><code>private static class AWTListener implements AWTEventListener{\n\n    @Override\n    public void eventDispatched(AWTEvent event) {\n        if (event instanceof KeyEvent key &amp;&amp; key.getKeyCode() == KeyEvent.VK_ENTER  &amp;&amp; key.getModifiersEx() == 0 &amp;&amp; key.getID() == KeyEvent.KEY_PRESSED) {\n            if (key.getComponent() instanceof JButton) {\n                return;\n            }\n\n            key.getComponent().transferFocus();\n\n        }\n\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":11435449,"reputation":5,"user_id":8382996,"display_name":"Anand Dubey"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":525,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":50443202,"answer_count":3,"score":0,"last_activity_date":1663703121,"creation_date":1526842011,"question_id":50438277,"body_markdown":"I am developing a Swing application, in which I want enter key work as tab key for all component of `JFrame` except `JButton` components and dialog boxes. For that I have set ENTER and TAB as default focus traversal keys.\r\n\r\n    KeyStroke enter = KeyStroke.getKeyStroke(KeyEvent.VK_ENTER, 0);\r\n    KeyStroke tab = KeyStroke.getKeyStroke(KeyEvent.VK_TAB, 0);\r\n    Set&lt;KeyStroke&gt; keys = new HashSet&lt;&gt;();\r\n    keys.add(enter);\r\n    keys.add(tab);\r\n    KeyboardFocusManager.getCurrentKeyboardFocusManager().setDefaultFocusTraversalKeys(KeyboardFocusManager.FORWARD_TRAVERSAL_KEYS, keys);\r\n\r\nThis is working well,but **I want that ENTER Key work as Action on `JButton` and Dialog Boxes**. \r\n","title":"Enter Key work as Tab Key for every component except JButton","body":"<p>I am developing a Swing application, in which I want enter key work as tab key for all component of <code>JFrame</code> except <code>JButton</code> components and dialog boxes. For that I have set ENTER and TAB as default focus traversal keys.</p>\n\n<pre><code>KeyStroke enter = KeyStroke.getKeyStroke(KeyEvent.VK_ENTER, 0);\nKeyStroke tab = KeyStroke.getKeyStroke(KeyEvent.VK_TAB, 0);\nSet&lt;KeyStroke&gt; keys = new HashSet&lt;&gt;();\nkeys.add(enter);\nkeys.add(tab);\nKeyboardFocusManager.getCurrentKeyboardFocusManager().setDefaultFocusTraversalKeys(KeyboardFocusManager.FORWARD_TRAVERSAL_KEYS, keys);\n</code></pre>\n\n<p>This is working well,but <strong>I want that ENTER Key work as Action on <code>JButton</code> and Dialog Boxes</strong>. </p>\n"},{"tags":["java","oop"],"comments":[{"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"score":1,"creation_date":1663700314,"post_id":73791421,"comment_id":130300462,"body_markdown":"I&#39;d call the second one [information hiding](https://en.wikipedia.org/wiki/Information_hiding), not encapsulation. But on that Wikipedia page I linked it even mentions that some people use that term interchangeable with &quot;encapsulation&quot;. I think the answer here is going to entirely depend on who you ask.","body":"I&#39;d call the second one <a href=\"https://en.wikipedia.org/wiki/Information_hiding\" rel=\"nofollow noreferrer\">information hiding</a>, not encapsulation. But on that Wikipedia page I linked it even mentions that some people use that term interchangeable with &quot;encapsulation&quot;. I think the answer here is going to entirely depend on who you ask."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663703000,"creation_date":1663703000,"answer_id":73791872,"question_id":73791421,"body_markdown":"Yes, of course. Let&#39;s say I have 2 aspects (a functionality, and a variable): \r\n\r\nThe variable represents the birth year of the user.\r\n\r\nThe functionality is twofold:\r\n\r\n* Check and refuse any attempt to set birth year into the future, or more than 200 years in the past.\r\n* If the birth year indicates the user is less than 18 years of age, remove the alcohol products from the UI. Otherwise, show them.\r\n\r\nWith encapsulation, you&#39;d have a single method that &#39;sets the birth year&#39; that does all 3 at once (it changes the birth year variable, but only after the checks, _and_ it notifies the UI layer about minority status).\r\n\r\nIn a non-bundled/non-OO approach, you&#39;d presumably have:\r\n\r\n* A separate (in java terms `static`) method that simply checks if a given birth year would be valid, and if not, what error one should provide. Call it `checkYear`.\r\n* A separate (in java terms `static`) method that will check a provided birth year (not _the actual property_, just any parameter) for minority status or not and convey this to an also provided UI layer.\r\n* A publicly editable property.\r\n\r\nSo, the &#39;birth year widget&#39; would presumably:\r\n\r\n* First take the new value and toss it through `checkYear`. If it reports an error, snap the year widget back to the old value, and convey this error via the UI.\r\n* Otherwise, update the property.\r\n* Also, fetch the &#39;UI layer&#39; property, then, call the static function that takes in a birthyear and a UI layer and will convey &#39;show alcohol or not&#39; to it.\r\n\r\nBy not being encapsulated, you:\r\n\r\n* Need to leak implementation manuals to users of your code (you now need to explain that changing the birthyear is a complex song-and-dance routine with many steps).\r\n* Severely limit your ability to change and expand features later on. If the &#39;show alcohol or not&#39; thing is a later idea, with encapsulation you just change the `setBirthYear` method. Without it, you need to find _all code that changes birth year_ and retroactively modify them all to call the `updateShopSelection` method. This is much more work and could be impossible, if the callers are out of your control (example, you&#39;re a library author, you do not control the code that uses your library).\r\n* Avoid invalid state. It is now simply impossible for any code that isn&#39;t \r\nin the `User.java` file (or whatever has the birthyear property) to create a scenario whereby birthyear is set to an invalid value, or set to sub 18 but the UI hasn&#39;t been informed to remove alcohol products. That&#39;s nice; you now no longer need to consider it when figuring out how things work, why a bug occurred, or how code should act in the face of inconsistent state (because there cannot _be_ inconsistent state). Without encapulation you&#39;re relying on all users of your code to never be inconsistent, and, in multithreaded environments, to lock appropriately. Good luck with that.\r\n\r\nOf course, on the down side, encapsulation:\r\n\r\n* Tends to be a black box every time; most methods have &#39;side effects&#39; and the whole point is that these aren&#39;t really known in advance. Makes it hard to reason about what a method call will actually do.\r\n* As a consequence convoluted purely functional approaches which don&#39;t work nearly as well if side-effects are a thing. For example, memoizing (remembering what the return value was for a given method call for a specific set of parameters, then the next time some other code calls the same method with the same values, just return the remembered result. This doesn&#39;t work if the method does more than simply calculate things in stable ways with no further effects).\r\n\r\n","title":"How does encapsulation prevent unwanted access by bundling functions and variables?","body":"<p>Yes, of course. Let's say I have 2 aspects (a functionality, and a variable):</p>\n<p>The variable represents the birth year of the user.</p>\n<p>The functionality is twofold:</p>\n<ul>\n<li>Check and refuse any attempt to set birth year into the future, or more than 200 years in the past.</li>\n<li>If the birth year indicates the user is less than 18 years of age, remove the alcohol products from the UI. Otherwise, show them.</li>\n</ul>\n<p>With encapsulation, you'd have a single method that 'sets the birth year' that does all 3 at once (it changes the birth year variable, but only after the checks, <em>and</em> it notifies the UI layer about minority status).</p>\n<p>In a non-bundled/non-OO approach, you'd presumably have:</p>\n<ul>\n<li>A separate (in java terms <code>static</code>) method that simply checks if a given birth year would be valid, and if not, what error one should provide. Call it <code>checkYear</code>.</li>\n<li>A separate (in java terms <code>static</code>) method that will check a provided birth year (not <em>the actual property</em>, just any parameter) for minority status or not and convey this to an also provided UI layer.</li>\n<li>A publicly editable property.</li>\n</ul>\n<p>So, the 'birth year widget' would presumably:</p>\n<ul>\n<li>First take the new value and toss it through <code>checkYear</code>. If it reports an error, snap the year widget back to the old value, and convey this error via the UI.</li>\n<li>Otherwise, update the property.</li>\n<li>Also, fetch the 'UI layer' property, then, call the static function that takes in a birthyear and a UI layer and will convey 'show alcohol or not' to it.</li>\n</ul>\n<p>By not being encapsulated, you:</p>\n<ul>\n<li>Need to leak implementation manuals to users of your code (you now need to explain that changing the birthyear is a complex song-and-dance routine with many steps).</li>\n<li>Severely limit your ability to change and expand features later on. If the 'show alcohol or not' thing is a later idea, with encapsulation you just change the <code>setBirthYear</code> method. Without it, you need to find <em>all code that changes birth year</em> and retroactively modify them all to call the <code>updateShopSelection</code> method. This is much more work and could be impossible, if the callers are out of your control (example, you're a library author, you do not control the code that uses your library).</li>\n<li>Avoid invalid state. It is now simply impossible for any code that isn't\nin the <code>User.java</code> file (or whatever has the birthyear property) to create a scenario whereby birthyear is set to an invalid value, or set to sub 18 but the UI hasn't been informed to remove alcohol products. That's nice; you now no longer need to consider it when figuring out how things work, why a bug occurred, or how code should act in the face of inconsistent state (because there cannot <em>be</em> inconsistent state). Without encapulation you're relying on all users of your code to never be inconsistent, and, in multithreaded environments, to lock appropriately. Good luck with that.</li>\n</ul>\n<p>Of course, on the down side, encapsulation:</p>\n<ul>\n<li>Tends to be a black box every time; most methods have 'side effects' and the whole point is that these aren't really known in advance. Makes it hard to reason about what a method call will actually do.</li>\n<li>As a consequence convoluted purely functional approaches which don't work nearly as well if side-effects are a thing. For example, memoizing (remembering what the return value was for a given method call for a specific set of parameters, then the next time some other code calls the same method with the same values, just return the remembered result. This doesn't work if the method does more than simply calculate things in stable ways with no further effects).</li>\n</ul>\n"}],"owner":{"account_id":8016064,"reputation":980,"user_id":11148084,"display_name":"asds_asds"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1663703000,"creation_date":1663700102,"question_id":73791421,"body_markdown":"I came across two characteristics of encapsulation\r\n1. Bundles functions and variables into a single entity.\r\n2. Prevents unwanted access to functions/variables by guiding implementation.\r\n\r\nI understand that both these characteristics are individually important but I can&#39;t figure out if they&#39;re related.\r\n\r\nDoes bundling somehow prevent unwanted access or does preventing unwanted access require bundling?","title":"How does encapsulation prevent unwanted access by bundling functions and variables?","body":"<p>I came across two characteristics of encapsulation</p>\n<ol>\n<li>Bundles functions and variables into a single entity.</li>\n<li>Prevents unwanted access to functions/variables by guiding implementation.</li>\n</ol>\n<p>I understand that both these characteristics are individually important but I can't figure out if they're related.</p>\n<p>Does bundling somehow prevent unwanted access or does preventing unwanted access require bundling?</p>\n"},{"tags":["java","spring-boot","tomcat","embedded-tomcat"],"comments":[{"owner":{"account_id":1782099,"reputation":843,"user_id":1624551,"display_name":"Pao"},"score":0,"creation_date":1663690109,"post_id":73789601,"comment_id":130297179,"body_markdown":"Did you define an ExceptionHandler?","body":"Did you define an ExceptionHandler?"},{"owner":{"account_id":5797834,"reputation":2627,"user_id":4573065,"accept_rate":100,"display_name":"ST-DDT"},"score":0,"creation_date":1663690285,"post_id":73789601,"comment_id":130297229,"body_markdown":"Yes, I have both a Spring `@ExceptionHandler` (including one for Throwable) and `ErrorController` that work perfectly fine, for all exceptions that happen inside the scope of spring. Unfortunately, the parsing error happens before the request even reaches the Spring application.","body":"Yes, I have both a Spring <code>@ExceptionHandler</code> (including one for Throwable) and <code>ErrorController</code> that work perfectly fine, for all exceptions that happen inside the scope of spring. Unfortunately, the parsing error happens before the request even reaches the Spring application."},{"owner":{"account_id":1782099,"reputation":843,"user_id":1624551,"display_name":"Pao"},"score":0,"creation_date":1663690602,"post_id":73789601,"comment_id":130297323,"body_markdown":"The error says it occured while parsing the **header**. No https issue?","body":"The error says it occured while parsing the <b>header</b>. No https issue?"},{"owner":{"account_id":5797834,"reputation":2627,"user_id":4573065,"accept_rate":100,"display_name":"ST-DDT"},"score":0,"creation_date":1663691729,"post_id":73789601,"comment_id":130297713,"body_markdown":"The same error occurs with `http:` too. I don&#39;t really care what the error is, I just want to handle it like any other error (logging, monitoring, response).","body":"The same error occurs with <code>http:</code> too. I don&#39;t really care what the error is, I just want to handle it like any other error (logging, monitoring, response)."},{"owner":{"account_id":5797834,"reputation":2627,"user_id":4573065,"accept_rate":100,"display_name":"ST-DDT"},"score":0,"creation_date":1663692128,"post_id":73789601,"comment_id":130297868,"body_markdown":"As for **header**, I assume the call url can be considered to be part of the headers as well, since it is the first line. Although technically it is called the request line and the headers start only at the second line.","body":"As for <b>header</b>, I assume the call url can be considered to be part of the headers as well, since it is the first line. Although technically it is called the request line and the headers start only at the second line."},{"owner":{"account_id":1782099,"reputation":843,"user_id":1624551,"display_name":"Pao"},"score":1,"creation_date":1663692342,"post_id":73789601,"comment_id":130297928,"body_markdown":"You&#39;ve probably tried to define let your ```ExceptionHandler``` handle ```IllegalArgumentException```s?","body":"You&#39;ve probably tried to define let your <code>ExceptionHandler</code> handle <code>IllegalArgumentException</code>s?"},{"owner":{"account_id":1782099,"reputation":843,"user_id":1624551,"display_name":"Pao"},"score":0,"creation_date":1663692423,"post_id":73789601,"comment_id":130297958,"body_markdown":"Might this help? https://stackoverflow.com/questions/39376602/handle-embedded-tomcat-exception-in-spring-boot","body":"Might this help? <a href=\"https://stackoverflow.com/questions/39376602/handle-embedded-tomcat-exception-in-spring-boot\" title=\"handle embedded tomcat exception in spring boot\">stackoverflow.com/questions/39376602/&hellip;</a>"},{"owner":{"account_id":5797834,"reputation":2627,"user_id":4573065,"accept_rate":100,"display_name":"ST-DDT"},"score":0,"creation_date":1663692905,"post_id":73789601,"comment_id":130298122,"body_markdown":"It is the same error, but the situation/solution is different. I don&#39;t want to allow these suspicious requests. I just want to handle them slightly differently than native tomcat.","body":"It is the same error, but the situation/solution is different. I don&#39;t want to allow these suspicious requests. I just want to handle them slightly differently than native tomcat."}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663702933,"creation_date":1663702933,"answer_id":73791863,"question_id":73789601,"body_markdown":"The problem is that the client is not sending a correct HTTP request. And you want to respond with a proper HTTP response. This will not work.\r\n\r\nJust imagine someone configures a JDBC driver to connecto to your Tomcat&#39;s http or https port. Of course this will fail, but do not expect the client to understand any HTTP response. The best the server can do in that case is hang up.","title":"Handle tomcat request parsing failure in Spring-Boot","body":"<p>The problem is that the client is not sending a correct HTTP request. And you want to respond with a proper HTTP response. This will not work.</p>\n<p>Just imagine someone configures a JDBC driver to connecto to your Tomcat's http or https port. Of course this will fail, but do not expect the client to understand any HTTP response. The best the server can do in that case is hang up.</p>\n"}],"owner":{"account_id":5797834,"reputation":2627,"user_id":4573065,"accept_rate":100,"display_name":"ST-DDT"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":516,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1663702933,"creation_date":1663689866,"question_id":73789601,"body_markdown":"I have a Spring-Boot-Web JSON-API that has a custom error handling with specific error responses. However, if I call my server with a bad URL then neither Spring&#39;s `ErrorController`, nor Spring&#39;s `@ExceptionHandler` will be called.\r\n\r\nExample Call:\r\n\r\n````sh\r\ncurl &#39;https://example.com/fail|no&#39;\r\n````\r\n\r\nResponse\r\n\r\n````html\r\n&lt;!doctype html&gt;&lt;html lang=&quot;en&quot;&gt;&lt;head&gt;&lt;title&gt;HTTP Status 400 – Bad Request&lt;/title&gt;&lt;style type=&quot;text/css&quot;&gt;body {font-family:Tahoma,Arial,sans-serif;} h1, h2, h3, b {color:white;background-color:#525D76;} h1 {font-size:22px;} h2 {font-size:16px;} h3 {font-size:14px;} p {font-size:12px;} a {color:black;} .line {height:1px;background-color:#525D76;border:none;}&lt;/style&gt;&lt;/head&gt;&lt;body&gt;&lt;h1&gt;HTTP Status 400 – Bad Request&lt;/h1&gt;&lt;/body&gt;&lt;/html&gt;\r\n````\r\n\r\nLog Output:\r\n\r\n````txt\r\n2022-09-20 17:38:29.410 INFO 1 --- [nio-443-exec-1] o.apache.coyote.http11.Http11Processor : Error parsing HTTP request header \r\nNote: further occurrences of HTTP request parsing errors will be logged at DEBUG level. \r\njava.lang.IllegalArgumentException: Invalid character found in the request target [/fail|no ]. The valid characters are defined in RFC 7230 and RFC 3986\r\n\tat org.apache.coyote.http11.Http11InputBuffer.parseRequestLine(Http11InputBuffer.java:502) ~[tomcat-embed-core-9.0.64.jar!/:na]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:271) ~[tomcat-embed-core-9.0.64.jar!/:na]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.64.jar!/:na]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) ~[tomcat-embed-core-9.0.64.jar!/:na]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1787) ~[tomcat-embed-core-9.0.64.jar!/:na]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.64.jar!/:na]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.64.jar!/:na]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.64.jar!/:na]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.64.jar!/:na]\r\n\tat java.base/java.lang.Thread.run(Unknown Source) ~[na:na]\r\n````\r\n\r\nI would like to change the error handling to use the same pipeline as the rest of my error handling (ErrorController or ExceptionHandler). Thus changing the (error) logging and the response.\r\nIf that isn&#39;t possible, I would like to at least return a hardcoded JSON response.\r\n\r\n````json\r\n{\r\n    &quot;errorCode&quot;: &quot;http.request_parse_error&quot;,\r\n    &quot;errorId&quot;: &quot;abc-def-ghi&quot;\r\n    ...\r\n}\r\n````\r\n\r\n- Spring-Boot-Web 2.6\r\n- No Thymeleaf or any other templating engine.","title":"Handle tomcat request parsing failure in Spring-Boot","body":"<p>I have a Spring-Boot-Web JSON-API that has a custom error handling with specific error responses. However, if I call my server with a bad URL then neither Spring's <code>ErrorController</code>, nor Spring's <code>@ExceptionHandler</code> will be called.</p>\n<p>Example Call:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>curl 'https://example.com/fail|no'\n</code></pre>\n<p>Response</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;!doctype html&gt;&lt;html lang=&quot;en&quot;&gt;&lt;head&gt;&lt;title&gt;HTTP Status 400 – Bad Request&lt;/title&gt;&lt;style type=&quot;text/css&quot;&gt;body {font-family:Tahoma,Arial,sans-serif;} h1, h2, h3, b {color:white;background-color:#525D76;} h1 {font-size:22px;} h2 {font-size:16px;} h3 {font-size:14px;} p {font-size:12px;} a {color:black;} .line {height:1px;background-color:#525D76;border:none;}&lt;/style&gt;&lt;/head&gt;&lt;body&gt;&lt;h1&gt;HTTP Status 400 – Bad Request&lt;/h1&gt;&lt;/body&gt;&lt;/html&gt;\n</code></pre>\n<p>Log Output:</p>\n<pre><code>2022-09-20 17:38:29.410 INFO 1 --- [nio-443-exec-1] o.apache.coyote.http11.Http11Processor : Error parsing HTTP request header \nNote: further occurrences of HTTP request parsing errors will be logged at DEBUG level. \njava.lang.IllegalArgumentException: Invalid character found in the request target [/fail|no ]. The valid characters are defined in RFC 7230 and RFC 3986\n    at org.apache.coyote.http11.Http11InputBuffer.parseRequestLine(Http11InputBuffer.java:502) ~[tomcat-embed-core-9.0.64.jar!/:na]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:271) ~[tomcat-embed-core-9.0.64.jar!/:na]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.64.jar!/:na]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) ~[tomcat-embed-core-9.0.64.jar!/:na]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1787) ~[tomcat-embed-core-9.0.64.jar!/:na]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.64.jar!/:na]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.64.jar!/:na]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.64.jar!/:na]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.64.jar!/:na]\n    at java.base/java.lang.Thread.run(Unknown Source) ~[na:na]\n</code></pre>\n<p>I would like to change the error handling to use the same pipeline as the rest of my error handling (ErrorController or ExceptionHandler). Thus changing the (error) logging and the response.\nIf that isn't possible, I would like to at least return a hardcoded JSON response.</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;errorCode&quot;: &quot;http.request_parse_error&quot;,\n    &quot;errorId&quot;: &quot;abc-def-ghi&quot;\n    ...\n}\n</code></pre>\n<ul>\n<li>Spring-Boot-Web 2.6</li>\n<li>No Thymeleaf or any other templating engine.</li>\n</ul>\n"},{"tags":["java","image","swing"],"answers":[{"tags":[],"owner":{"account_id":22886030,"reputation":1849,"user_id":17026900,"display_name":"Oussama ZAGHDOUD"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663702572,"creation_date":1663702572,"answer_id":73791796,"question_id":73791244,"body_markdown":"I did not test the pasted code but i tried to test another one, with some modification it works correctly for me and copy past an image in a given URL to the SystemClipboard :\r\n\r\n\r\n    import java.awt.Image;\r\n    import java.awt.Toolkit;\r\n    import java.awt.datatransfer.DataFlavor;\r\n    import java.awt.datatransfer.Transferable;\r\n    import java.awt.datatransfer.UnsupportedFlavorException;\r\n    import java.awt.image.BufferedImage;\r\n    import java.io.IOException;\r\n    import java.net.URL;\r\n    import java.nio.file.Paths;\r\n    \r\n    import javax.imageio.ImageIO;\r\n    \r\n    public class Test {\r\n    \tpublic static void setClipboard(Image image)\r\n    \t{\r\n    \t   ImageSelection imgSel = new ImageSelection(image);\r\n    \t   Toolkit.getDefaultToolkit().getSystemClipboard().setContents(imgSel, null);\r\n    \t}\r\n    \t// This class is used to hold an image while on the clipboard.\r\n    \tstatic class ImageSelection implements Transferable\r\n    \t{\r\n    \t  private Image image;\r\n    \r\n    \t  public ImageSelection(Image image)\r\n    \t  {\r\n    \t    this.image = image;\r\n    \t  }\r\n    \t  // Returns supported flavors\r\n    \t  public DataFlavor[] getTransferDataFlavors()\r\n    \t  {\r\n    \t    return new DataFlavor[] { DataFlavor.imageFlavor };\r\n    \t  }\r\n    \t  // Returns true if flavor is supported\r\n    \t  public boolean isDataFlavorSupported(DataFlavor flavor)\r\n    \t  {\r\n    \t    return DataFlavor.imageFlavor.equals(flavor);\r\n    \t  }\r\n    \r\n    \t  // Returns image\r\n    \t  public Object getTransferData(DataFlavor flavor)\r\n    \t      throws UnsupportedFlavorException, IOException\r\n    \t  {\r\n    \t    if (!DataFlavor.imageFlavor.equals(flavor))\r\n    \t    {\r\n    \t      throw new UnsupportedFlavorException(flavor);\r\n    \t    }\r\n    \t    return image;\r\n    \t  }\r\n    \t}\r\n    \t\r\n    \t\r\n    \t\r\n    \tpublic static void main(String[] args) throws IOException {\r\n    \r\n    \t\t// put the url of your image \r\n            URL url = Paths.get(&quot;C:\\\\Users\\\\CTW\\\\Desktop\\\\oussama _pic.png&quot;).toUri().toURL();\r\n    \r\n            // read an image from url\r\n            BufferedImage image = ImageIO.read(url);\r\n    \r\n            // resize image to 300x150\r\n            Image scaledImage = image.getScaledInstance(300, 150, Image.SCALE_DEFAULT);\r\n            // set the image to the system clipboard\r\n    \t\t  setClipboard(scaledImage);\r\n    \t\t  \r\n    \t\t  // here open your Paint editor and click ctrl+v and you will see your image pasted there \r\n    \t}\r\n    }\r\n\r\nSome code copied from [here][1]\r\n\r\n\r\n  [1]: https://alvinalexander.com/java/java-copy-image-to-clipboard-example/","title":"Java - copy and paste image","body":"<p>I did not test the pasted code but i tried to test another one, with some modification it works correctly for me and copy past an image in a given URL to the SystemClipboard :</p>\n<pre><code>import java.awt.Image;\nimport java.awt.Toolkit;\nimport java.awt.datatransfer.DataFlavor;\nimport java.awt.datatransfer.Transferable;\nimport java.awt.datatransfer.UnsupportedFlavorException;\nimport java.awt.image.BufferedImage;\nimport java.io.IOException;\nimport java.net.URL;\nimport java.nio.file.Paths;\n\nimport javax.imageio.ImageIO;\n\npublic class Test {\n    public static void setClipboard(Image image)\n    {\n       ImageSelection imgSel = new ImageSelection(image);\n       Toolkit.getDefaultToolkit().getSystemClipboard().setContents(imgSel, null);\n    }\n    // This class is used to hold an image while on the clipboard.\n    static class ImageSelection implements Transferable\n    {\n      private Image image;\n\n      public ImageSelection(Image image)\n      {\n        this.image = image;\n      }\n      // Returns supported flavors\n      public DataFlavor[] getTransferDataFlavors()\n      {\n        return new DataFlavor[] { DataFlavor.imageFlavor };\n      }\n      // Returns true if flavor is supported\n      public boolean isDataFlavorSupported(DataFlavor flavor)\n      {\n        return DataFlavor.imageFlavor.equals(flavor);\n      }\n\n      // Returns image\n      public Object getTransferData(DataFlavor flavor)\n          throws UnsupportedFlavorException, IOException\n      {\n        if (!DataFlavor.imageFlavor.equals(flavor))\n        {\n          throw new UnsupportedFlavorException(flavor);\n        }\n        return image;\n      }\n    }\n    \n    \n    \n    public static void main(String[] args) throws IOException {\n\n        // put the url of your image \n        URL url = Paths.get(&quot;C:\\\\Users\\\\CTW\\\\Desktop\\\\oussama _pic.png&quot;).toUri().toURL();\n\n        // read an image from url\n        BufferedImage image = ImageIO.read(url);\n\n        // resize image to 300x150\n        Image scaledImage = image.getScaledInstance(300, 150, Image.SCALE_DEFAULT);\n        // set the image to the system clipboard\n          setClipboard(scaledImage);\n          \n          // here open your Paint editor and click ctrl+v and you will see your image pasted there \n    }\n}\n</code></pre>\n<p>Some code copied from <a href=\"https://alvinalexander.com/java/java-copy-image-to-clipboard-example/\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"account_id":11517847,"reputation":41,"user_id":8440698,"display_name":"Michael C."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":258,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1663702572,"creation_date":1663698988,"question_id":73791244,"body_markdown":"Fairly simple, I would like to copy an image into the system clipboard using java and be able to past what is currently in the clipboard into another application, such as word, google docs, etc. etc.\r\n\r\nAt the moment I&#39;ve found the common\r\n\r\n    public static void setClipboard(Image image)\r\n    {\r\n       ImageTransferable imgSel = new ImageTransferable(image);\r\n       Clipboard c = Toolkit.getDefaultToolkit().getSystemClipboard();\r\n       c.setContents(imgSel, null);\r\n    }\r\n\r\n    static class ImageTransferable implements Transferable\r\n    {\r\n        private Image image;\r\n\r\n        public ImageTransferable (Image image)\r\n        {\r\n            this.image = image;\r\n        }\r\n\r\n        public Object getTransferData(DataFlavor flavor)\r\n            throws UnsupportedFlavorException\r\n        {\r\n            if (isDataFlavorSupported(flavor))\r\n            {\r\n                return image;\r\n            }\r\n            else\r\n            {\r\n                throw new UnsupportedFlavorException(flavor);\r\n            }\r\n        }\r\n\r\n        public boolean isDataFlavorSupported (DataFlavor flavor)\r\n        {\r\n            return flavor == DataFlavor.imageFlavor;\r\n        }\r\n\r\n        public DataFlavor[] getTransferDataFlavors ()\r\n        {\r\n            return new DataFlavor[] { DataFlavor.imageFlavor };\r\n        }\r\n    }\r\n\r\nUnfortunately this does not put the image into a clipboard in a paste-able state outside of the java program itself. I can  get it to successfully pull from the clipboard (c) to paste the image programmatically in the java program itself but not into another window or application.","title":"Java - copy and paste image","body":"<p>Fairly simple, I would like to copy an image into the system clipboard using java and be able to past what is currently in the clipboard into another application, such as word, google docs, etc. etc.</p>\n<p>At the moment I've found the common</p>\n<pre><code>public static void setClipboard(Image image)\n{\n   ImageTransferable imgSel = new ImageTransferable(image);\n   Clipboard c = Toolkit.getDefaultToolkit().getSystemClipboard();\n   c.setContents(imgSel, null);\n}\n\nstatic class ImageTransferable implements Transferable\n{\n    private Image image;\n\n    public ImageTransferable (Image image)\n    {\n        this.image = image;\n    }\n\n    public Object getTransferData(DataFlavor flavor)\n        throws UnsupportedFlavorException\n    {\n        if (isDataFlavorSupported(flavor))\n        {\n            return image;\n        }\n        else\n        {\n            throw new UnsupportedFlavorException(flavor);\n        }\n    }\n\n    public boolean isDataFlavorSupported (DataFlavor flavor)\n    {\n        return flavor == DataFlavor.imageFlavor;\n    }\n\n    public DataFlavor[] getTransferDataFlavors ()\n    {\n        return new DataFlavor[] { DataFlavor.imageFlavor };\n    }\n}\n</code></pre>\n<p>Unfortunately this does not put the image into a clipboard in a paste-able state outside of the java program itself. I can  get it to successfully pull from the clipboard (c) to paste the image programmatically in the java program itself but not into another window or application.</p>\n"},{"tags":["java","apache-kafka","kafka-producer-api"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1663735318,"post_id":73789547,"comment_id":130306642,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":175700,"reputation":167,"user_id":405889,"display_name":"themoah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663702351,"creation_date":1663702351,"answer_id":73791760,"question_id":73789547,"body_markdown":"Generally, Jaas config has a template that looks like `org.apache.kafka.common.security.scram.ScramLoginModule required username=&quot;%s&quot; password=&quot;%s&quot;;` , which is used for authentication. If, for example, Kafka cluster administrator change password of the user it won&#39;t be disconnected automatically, after some time you&#39;ll get an error and session will be terminated. You can something like \r\n```\r\ntry{\r\n      final Consumer&lt;Long, String&gt; consumer = new KafkaConsumer&lt;&gt;(props);\r\n      consumer.subscribe(Collections.singletonList(TOPIC));\r\n} catch (KafkaException ke){\r\n\t// here comes code that restarts consumer\r\n}\r\n\r\n```\r\n\r\nBut, whenever the use-case, changing this configuration would require client re-authorization, that would disrupt consumption/producing of records.","title":"Java Kafka Client Dynamic Sasl Jaas config update","body":"<p>Generally, Jaas config has a template that looks like <code>org.apache.kafka.common.security.scram.ScramLoginModule required username=&quot;%s&quot; password=&quot;%s&quot;;</code> , which is used for authentication. If, for example, Kafka cluster administrator change password of the user it won't be disconnected automatically, after some time you'll get an error and session will be terminated. You can something like</p>\n<pre><code>try{\n      final Consumer&lt;Long, String&gt; consumer = new KafkaConsumer&lt;&gt;(props);\n      consumer.subscribe(Collections.singletonList(TOPIC));\n} catch (KafkaException ke){\n    // here comes code that restarts consumer\n}\n\n</code></pre>\n<p>But, whenever the use-case, changing this configuration would require client re-authorization, that would disrupt consumption/producing of records.</p>\n"}],"owner":{"account_id":21965862,"reputation":1,"user_id":16243119,"display_name":"Ranjith Kumar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":234,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1663702351,"creation_date":1663689542,"question_id":73789547,"body_markdown":"Is there way to dynamically update Java client Kafka producers  sasl jaas config without stopping/recreating client each time of Jaas config update?","title":"Java Kafka Client Dynamic Sasl Jaas config update","body":"<p>Is there way to dynamically update Java client Kafka producers  sasl jaas config without stopping/recreating client each time of Jaas config update?</p>\n"},{"tags":["java","regex","regex-group","regex-greedy"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1663702327,"post_id":73791587,"comment_id":130301080,"body_markdown":"basically `[a-zA-Z0-9]++(\\.[a-zA-Z0-9]++)*` ?","body":"basically <code>[a-zA-Z0-9]++(\\.[a-zA-Z0-9]++)*</code> ?"}],"answers":[{"tags":[],"owner":{"account_id":7089168,"reputation":157118,"user_id":5424988,"display_name":"The fourth bird"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663702348,"creation_date":1663702348,"answer_id":73791759,"question_id":73791587,"body_markdown":"The quantifier `{0,1}` and the dot should not be in the character class, because you are repeating the whole character class allowing for 0 or more dots, including `{` `,` `}` chars.\r\n\r\nYou can also exclude a dot to the left using a negative lookbehind instead of matching an actual character that is not a dot.\r\n\r\nIn Java you could write the pattern as \r\n\r\n    (?&lt;!\\\\.)[a-zA-Z0-9]+(?:\\\\.[a-zA-Z0-9]+)+[a-zA-Z0-9]$\r\n\r\nNote that the `$` makes sure that that match is at the end of the string.\r\n\r\n[Regex demo](https://regex101.com/r/uxh5Zh/1)","title":"Java Regex to validate group field pattern example - abc.def.gh1","body":"<p>The quantifier <code>{0,1}</code> and the dot should not be in the character class, because you are repeating the whole character class allowing for 0 or more dots, including <code>{</code> <code>,</code> <code>}</code> chars.</p>\n<p>You can also exclude a dot to the left using a negative lookbehind instead of matching an actual character that is not a dot.</p>\n<p>In Java you could write the pattern as</p>\n<pre><code>(?&lt;!\\\\.)[a-zA-Z0-9]+(?:\\\\.[a-zA-Z0-9]+)+[a-zA-Z0-9]$\n</code></pre>\n<p>Note that the <code>$</code> makes sure that that match is at the end of the string.</p>\n<p><a href=\"https://regex101.com/r/uxh5Zh/1\" rel=\"nofollow noreferrer\">Regex demo</a></p>\n"}],"owner":{"account_id":8136080,"reputation":115,"user_id":6127658,"accept_rate":38,"display_name":"priyam singh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1663702348,"creation_date":1663701152,"question_id":73791587,"body_markdown":"I am just writing some piece of java code where I need to validate groupId (maven) passed by user.\r\n`For example - com.fb.test1`.\r\n\r\nI have written regex which says string should not start and end with &#39;.&#39; and can have alphanumeric characters delimited by &#39;.&#39;\r\n\r\n    [^\\.][[a-zA-Z0-9]+\\\\.{0,1}]*[a-zA-Z0-9]$\r\n\r\nBut this regex not able to find out consecutive &#39;.&#39; `For example - com..fb.test`. I have added {0,1} followed by decimal to restrict it limitation to 1 but it didnt work. \r\n\r\nAny leads would be highly appreciated.\r\n \r\n","title":"Java Regex to validate group field pattern example - abc.def.gh1","body":"<p>I am just writing some piece of java code where I need to validate groupId (maven) passed by user.\n<code>For example - com.fb.test1</code>.</p>\n<p>I have written regex which says string should not start and end with '.' and can have alphanumeric characters delimited by '.'</p>\n<pre><code>[^\\.][[a-zA-Z0-9]+\\\\.{0,1}]*[a-zA-Z0-9]$\n</code></pre>\n<p>But this regex not able to find out consecutive '.' <code>For example - com..fb.test</code>. I have added {0,1} followed by decimal to restrict it limitation to 1 but it didnt work.</p>\n<p>Any leads would be highly appreciated.</p>\n"},{"tags":["java","spring","hibernate"],"answers":[{"tags":[],"owner":{"account_id":120777,"reputation":14376,"user_id":313400,"display_name":"Guillaume"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663616951,"creation_date":1663616951,"answer_id":73778580,"question_id":73778526,"body_markdown":"The default fetch mode of ManyToOne associations is EAGER since Hibernate 5.2 (per JPA specification), in case you need a lazy fetch as it was the case prior to that, you can add the fetch type:\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;country_id&quot;)\r\n    public Country getCountry() {\r\n\r\n","title":"HIbernate SQL show_sql uses lots of left joins vs individual queries","body":"<p>The default fetch mode of ManyToOne associations is EAGER since Hibernate 5.2 (per JPA specification), in case you need a lazy fetch as it was the case prior to that, you can add the fetch type:</p>\n<pre><code>@ManyToOne(fetch = FetchType.LAZY)\n@JoinColumn(name = &quot;country_id&quot;)\npublic Country getCountry() {\n</code></pre>\n"},{"tags":[],"owner":{"account_id":430713,"reputation":1777,"user_id":814299,"accept_rate":86,"display_name":"jessieloo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1663702146,"creation_date":1663702146,"answer_id":73791724,"question_id":73778526,"body_markdown":"The explanation for what we were seeing was the fetch mode (vs fetch type: eager vs lazy).  It seems the default fetch mode of the old version of Hibernate was SELECT but the default for Eager joins in Hibernate 5 is JOIN.  To change you can add a @FETCH annotation.  This didn&#39;t fix all of our slowness issues but it explained the difference in generated sql.\r\n\r\n\r\n    @Fetch(FetchMode.SELECT)\r\n\r\nSome helpful links\r\n\r\n - [https://www.baeldung.com/hibernate-fetchmode][1]\r\n   \r\n - [https://docs.jboss.org/hibernate/stable/core.old/reference/en/html/performance.html#performance-fetching][2]\r\n\r\n   \r\n\r\n - [https://stackoverflow.com/a/43755971/814299][3]\r\n\r\n  [1]: https://www.baeldung.com/hibernate-fetchmode\r\n  [2]: https://docs.jboss.org/hibernate/stable/core.old/reference/en/html/performance.html#performance-fetching\r\n  [3]: https://stackoverflow.com/a/43755971/814299","title":"HIbernate SQL show_sql uses lots of left joins vs individual queries","body":"<p>The explanation for what we were seeing was the fetch mode (vs fetch type: eager vs lazy).  It seems the default fetch mode of the old version of Hibernate was SELECT but the default for Eager joins in Hibernate 5 is JOIN.  To change you can add a @FETCH annotation.  This didn't fix all of our slowness issues but it explained the difference in generated sql.</p>\n<pre><code>@Fetch(FetchMode.SELECT)\n</code></pre>\n<p>Some helpful links</p>\n<ul>\n<li><p><a href=\"https://www.baeldung.com/hibernate-fetchmode\" rel=\"nofollow noreferrer\">https://www.baeldung.com/hibernate-fetchmode</a></p>\n</li>\n<li><p><a href=\"https://docs.jboss.org/hibernate/stable/core.old/reference/en/html/performance.html#performance-fetching\" rel=\"nofollow noreferrer\">https://docs.jboss.org/hibernate/stable/core.old/reference/en/html/performance.html#performance-fetching</a></p>\n</li>\n<li><p><a href=\"https://stackoverflow.com/a/43755971/814299\">https://stackoverflow.com/a/43755971/814299</a></p>\n</li>\n</ul>\n"}],"owner":{"account_id":430713,"reputation":1777,"user_id":814299,"accept_rate":86,"display_name":"jessieloo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73791724,"answer_count":2,"score":1,"last_activity_date":1663702146,"creation_date":1663616577,"question_id":73778526,"body_markdown":"We are upgrading a legacy application from using xml files to annotations with Hibernate 5 (5.6.9 - I&#39;m not sure what the old version of Hibernate was).  The new application is running much slower than the old. I logged the sql queries between the old and new and the old application would make more queries to single tables while the new application is making fewer queries with lots of left joins. From what I can tell the annotations for the relationships seem to be equivalent to the old xml settings.\r\n\r\nIs there a way to control how Hibernate writes its sql statements?","title":"HIbernate SQL show_sql uses lots of left joins vs individual queries","body":"<p>We are upgrading a legacy application from using xml files to annotations with Hibernate 5 (5.6.9 - I'm not sure what the old version of Hibernate was).  The new application is running much slower than the old. I logged the sql queries between the old and new and the old application would make more queries to single tables while the new application is making fewer queries with lots of left joins. From what I can tell the annotations for the relationships seem to be equivalent to the old xml settings.</p>\n<p>Is there a way to control how Hibernate writes its sql statements?</p>\n"},{"tags":["java","lisp","stack"],"answers":[{"tags":[],"owner":{"account_id":422873,"reputation":5733,"user_id":801901,"accept_rate":96,"display_name":"Ord"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1351671096,"creation_date":1351671096,"answer_id":13153665,"question_id":13105519,"body_markdown":"Both of the interpreters you linked to make a very important assumption: that +, -, *, etc. are all binary functions, that is, they always take exactly two arguments. In real Lisp, you can say `(+ 1 2 3 4 5)` to sum a bunch of numbers. But, if you&#39;re willing to accept the simplifying assumption that the arity of each operator is known, then you can definitely do this with only one stack. The key: turn the stack upside down.\r\n\r\nThe interpreters you linked to have stacks like this:\r\n\r\nbottom -&gt; `( + ( - 2 1 ) 4 )` &lt;- top (we push and pop from here)\r\n\r\nBut, you could also read in your expression backwards, from the right, and build the stack like this:\r\n\r\ntop -&gt; `( + ( - 2 1 ) 4 )` &lt;- bottom\r\n\r\nThen you essentially get RPN, reverse polish notation. RPN plays really nicely with stacks. \r\n\r\nThe algorithm is like this: \r\n\r\n - If you see a parenthesis, ignore it\r\n - If you see an operand, push it onto the stack\r\n - If you see an operator, invoke it. The operator pops off as many values as it needs, then pushes its result onto the stack\r\n\r\nTake, for example, `( + ( - 2 1 ) 4 )`. Here&#39;s how the algorithm would operate:\r\n\r\n**Stack:** *empty* **Reading:** `)` **Action:** parenthesis ignored. **Left:** `( + ( - 2 1 ) 4` \r\n\r\n**Stack:** *empty* **Reading:** `4` **Action:** operand pushed to stack. **Left:** `( + ( - 2 1 )` \r\n\r\n**Stack:** 4 **Reading:** `)`  **Action:** parenthesis ignored. **Left:** `( + ( - 2 1 `\r\n\r\n**Stack:** 4 **Reading:** `1`  **Action:** operand pushed to stack. **Left:** `( + ( - 2 `\r\n\r\n**Stack:** 1 4 **Reading:** `2` **Action:** operand pushed to stack. **Left:** `( + ( - `\r\n\r\n**Stack:** 2 1 4 **Reading:** `-`**Action:** operator invoked. It will pop 2 and 1 off the stack, and then push `2-1=1` onto it.  **Left:** `( + ( ` \r\n\r\n**Stack:** 1 4 **Reading:** `(` **Action:** parenthesis ignored. **Left:** `( + `\r\n\r\n**Stack:** 1 4 **Reading:** `+` **Action:** operator invoked. It will pop 1 and 4 off the stack, and then push `1+4=5` onto it.  **Left:** `(`\r\n\r\n**Stack:** 5 **Reading:** `(` **Action:** parenthesis ignored. **Left:** *nothing*\r\n\r\nDone! Result is 5, as expected.\r\n\r\nPS about ignoring parentheses. This will work perfectly so long as the expression you enter is well-formed, but it can take non-well-formed expressions and given them nonsensical values. e.g. `(+ - + 1 2 3 4)` is interpreted as `(+ (- (+ 1 2) 3) 4)`. If you would like to prevent this behaviour, simply push close parentheses onto the stack. When it comes time to invoke an operator, pop off the arguments, plus one extra token. *Make sure that token is a close-paren, otherwise throw an error*. Once you have a result, push it onto the stack. *Make sure that the next token you read in is an open-paren, and then discard it*.\r\n\r\nPPS this all becomes a lot more complicated if, as in real Lisps, the arguments to functions can themselves be functions. Then you don&#39;t have the handy distinction between operator/operand that RPN relies on, and you need to pay more attention to the parentheses as grouping elements. I&#39;m not sure if you could do a full-blown Lisp expression evaluator, with variable-arity and functions-as-operands, with only one stack.","title":"Lisp expression evaluator in Java (using only one stack)","body":"<p>Both of the interpreters you linked to make a very important assumption: that +, -, *, etc. are all binary functions, that is, they always take exactly two arguments. In real Lisp, you can say <code>(+ 1 2 3 4 5)</code> to sum a bunch of numbers. But, if you're willing to accept the simplifying assumption that the arity of each operator is known, then you can definitely do this with only one stack. The key: turn the stack upside down.</p>\n\n<p>The interpreters you linked to have stacks like this:</p>\n\n<p>bottom -> <code>( + ( - 2 1 ) 4 )</code> &lt;- top (we push and pop from here)</p>\n\n<p>But, you could also read in your expression backwards, from the right, and build the stack like this:</p>\n\n<p>top -> <code>( + ( - 2 1 ) 4 )</code> &lt;- bottom</p>\n\n<p>Then you essentially get RPN, reverse polish notation. RPN plays really nicely with stacks. </p>\n\n<p>The algorithm is like this: </p>\n\n<ul>\n<li>If you see a parenthesis, ignore it</li>\n<li>If you see an operand, push it onto the stack</li>\n<li>If you see an operator, invoke it. The operator pops off as many values as it needs, then pushes its result onto the stack</li>\n</ul>\n\n<p>Take, for example, <code>( + ( - 2 1 ) 4 )</code>. Here's how the algorithm would operate:</p>\n\n<p><strong>Stack:</strong> <em>empty</em> <strong>Reading:</strong> <code>)</code> <strong>Action:</strong> parenthesis ignored. <strong>Left:</strong> <code>( + ( - 2 1 ) 4</code> </p>\n\n<p><strong>Stack:</strong> <em>empty</em> <strong>Reading:</strong> <code>4</code> <strong>Action:</strong> operand pushed to stack. <strong>Left:</strong> <code>( + ( - 2 1 )</code> </p>\n\n<p><strong>Stack:</strong> 4 <strong>Reading:</strong> <code>)</code>  <strong>Action:</strong> parenthesis ignored. <strong>Left:</strong> <code>( + ( - 2 1</code></p>\n\n<p><strong>Stack:</strong> 4 <strong>Reading:</strong> <code>1</code>  <strong>Action:</strong> operand pushed to stack. <strong>Left:</strong> <code>( + ( - 2</code></p>\n\n<p><strong>Stack:</strong> 1 4 <strong>Reading:</strong> <code>2</code> <strong>Action:</strong> operand pushed to stack. <strong>Left:</strong> <code>( + ( -</code></p>\n\n<p><strong>Stack:</strong> 2 1 4 <strong>Reading:</strong> <code>-</code><strong>Action:</strong> operator invoked. It will pop 2 and 1 off the stack, and then push <code>2-1=1</code> onto it.  <strong>Left:</strong> <code>( + (</code> </p>\n\n<p><strong>Stack:</strong> 1 4 <strong>Reading:</strong> <code>(</code> <strong>Action:</strong> parenthesis ignored. <strong>Left:</strong> <code>( +</code></p>\n\n<p><strong>Stack:</strong> 1 4 <strong>Reading:</strong> <code>+</code> <strong>Action:</strong> operator invoked. It will pop 1 and 4 off the stack, and then push <code>1+4=5</code> onto it.  <strong>Left:</strong> <code>(</code></p>\n\n<p><strong>Stack:</strong> 5 <strong>Reading:</strong> <code>(</code> <strong>Action:</strong> parenthesis ignored. <strong>Left:</strong> <em>nothing</em></p>\n\n<p>Done! Result is 5, as expected.</p>\n\n<p>PS about ignoring parentheses. This will work perfectly so long as the expression you enter is well-formed, but it can take non-well-formed expressions and given them nonsensical values. e.g. <code>(+ - + 1 2 3 4)</code> is interpreted as <code>(+ (- (+ 1 2) 3) 4)</code>. If you would like to prevent this behaviour, simply push close parentheses onto the stack. When it comes time to invoke an operator, pop off the arguments, plus one extra token. <em>Make sure that token is a close-paren, otherwise throw an error</em>. Once you have a result, push it onto the stack. <em>Make sure that the next token you read in is an open-paren, and then discard it</em>.</p>\n\n<p>PPS this all becomes a lot more complicated if, as in real Lisps, the arguments to functions can themselves be functions. Then you don't have the handy distinction between operator/operand that RPN relies on, and you need to pay more attention to the parentheses as grouping elements. I'm not sure if you could do a full-blown Lisp expression evaluator, with variable-arity and functions-as-operands, with only one stack.</p>\n"},{"tags":[],"owner":{"account_id":1515246,"reputation":46,"user_id":1416391,"display_name":"Leiting"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1358093317,"creation_date":1358093317,"answer_id":14305269,"question_id":13105519,"body_markdown":"hope it can help you\r\n[lisp style calculator with no stack][1]\r\n\r\n  [1]: http://blog.csdn.net/ls5231/article/details/8499277","title":"Lisp expression evaluator in Java (using only one stack)","body":"<p>hope it can help you\n<a href=\"http://blog.csdn.net/ls5231/article/details/8499277\" rel=\"nofollow\">lisp style calculator with no stack</a></p>\n"}],"owner":{"account_id":953990,"reputation":273,"user_id":979616,"accept_rate":64,"display_name":"user979616"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2977,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":2,"score":1,"last_activity_date":1663701541,"creation_date":1351386069,"question_id":13105519,"body_markdown":"I&#39;m trying to implement a simple Lisp expression evaluator using Java. There&#39;s actually a wealth of information on the subject, but it appears they all use two separate stacks to arrive at the result. I&#39;m wondering if it is possible to implement such a program using only one stack and what some pseudo code might look like for that.\r\n\r\nThanks.\r\n\r\nFor more info on what I&#39;m talking about refer to\r\n\r\n* http://www.chegg.com/homework-help/questions-and-answers/outline-given-import-javautil-public-class-simplelispexpressionevaluator-current-input-lis-q2332957  \r\n* http://stdioe.blogspot.ca/2012/01/lets-implement-simple-lisp-interpreter.html ","title":"Lisp expression evaluator in Java (using only one stack)","body":"<p>I'm trying to implement a simple Lisp expression evaluator using Java. There's actually a wealth of information on the subject, but it appears they all use two separate stacks to arrive at the result. I'm wondering if it is possible to implement such a program using only one stack and what some pseudo code might look like for that.</p>\n\n<p>Thanks.</p>\n\n<p>For more info on what I'm talking about refer to</p>\n\n<ul>\n<li><a href=\"http://www.chegg.com/homework-help/questions-and-answers/outline-given-import-javautil-public-class-simplelispexpressionevaluator-current-input-lis-q2332957\" rel=\"nofollow\">http://www.chegg.com/homework-help/questions-and-answers/outline-given-import-javautil-public-class-simplelispexpressionevaluator-current-input-lis-q2332957</a>  </li>\n<li><a href=\"http://stdioe.blogspot.ca/2012/01/lets-implement-simple-lisp-interpreter.html\" rel=\"nofollow\">http://stdioe.blogspot.ca/2012/01/lets-implement-simple-lisp-interpreter.html</a> </li>\n</ul>\n"},{"tags":["java","arraylist","java.util.scanner"],"comments":[{"owner":{"account_id":2345668,"reputation":13002,"user_id":2055998,"accept_rate":68,"display_name":"PM 77-1"},"score":0,"creation_date":1663698790,"post_id":73791183,"comment_id":130299986,"body_markdown":"What do you expect to appear on console and what you user is supposed to input?","body":"What do you expect to appear on console and what you user is supposed to input?"},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1663699714,"post_id":73791183,"comment_id":130300266,"body_markdown":"By the way, it&#39;s &quot;Suzuki&quot; instead of &quot;Susuki&quot;.","body":"By the way, it&#39;s &quot;Suzuki&quot; instead of &quot;Susuki&quot;."},{"owner":{"account_id":26394027,"reputation":11,"user_id":20045455,"display_name":"Nicol&#225;s Ortega Mu&#241;oz"},"score":0,"creation_date":1663712850,"post_id":73791183,"comment_id":130303658,"body_markdown":"umm i dunno if this makes sense, but here it goes, so c3(suzuki) it&#39;s already created and it&#39;s not in the arrayList, so i want a &quot;Scanner&quot; to appear in the console where i could write the object name, in this case c3, and then add it to the arrayList :S","body":"umm i dunno if this makes sense, but here it goes, so c3(suzuki) it&#39;s already created and it&#39;s not in the arrayList, so i want a &quot;Scanner&quot; to appear in the console where i could write the object name, in this case c3, and then add it to the arrayList :S"}],"answers":[{"tags":[],"owner":{"account_id":8651403,"reputation":18,"user_id":6476956,"display_name":"Austin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1663701512,"creation_date":1663699195,"answer_id":73791286,"question_id":73791183,"body_markdown":"Depending on how you want to display options, and what you want the user to input to the console, you may want to handle different scenarios. The easiest way I can think of is to list all cars available in one Array, and then listen for an index (offset by one, if you&#39;d like). Then use that index to pull the desired car out of the cars Array, and put it into your result Array.\r\n\r\n\r\n\r\nHere&#39;s an example. Instead of creating a car class, I just used Strings for simplicity.\r\n\r\n\r\n    import java.util.Scanner; \r\n    import java.util.ArrayList;\r\n    class Main {\r\n        public static void main(String[] args) {\r\n           Scanner scanner = new Scanner(System.in);\r\n           ArrayList&lt;String&gt; cars = new ArrayList&lt;String&gt;();\r\n           cars.add(&quot;chevy&quot;);\r\n           cars.add(&quot;ford&quot;);\r\n           cars.add(&quot;weiner-mobile&quot;);\r\n           System.out.println(&quot;Please select a car&quot;);\r\n           for(int i = 0; i&lt;cars.size(); i++){\r\n               System.out.println(String.valueOf(i+1)+&quot; ) &quot; + cars.get(i));\r\n           }\r\n           int reply = scanner.nextInt();\r\n           System.out.println(&quot;you chose: &quot; + cars.get(reply-1));\r\n           ArrayList&lt;String&gt; chosenCar = new ArrayList&lt;String&gt;();\r\n           chosenCar.add(cars.get(reply-1));\r\n\r\n        }\r\n    }\r\nOutput:\r\n\r\n    Please select a car\r\n    1 ) chevy\r\n    2 ) ford\r\n    3 ) weiner-mobile\r\n    &gt; 2\r\n    you chose: ford\r\nnote: you probably want to make sure the input is an index in range, either by surrounding it in a try/catch and handling the indexOutOfRange exception, or checking the index against the length of the Array to ensure it&#39;s within range before calling get(i). The ```nextInt()``` call will throw an exception if the input is not castable to an int","title":"Select object via scanner and add it to an arrayList","body":"<p>Depending on how you want to display options, and what you want the user to input to the console, you may want to handle different scenarios. The easiest way I can think of is to list all cars available in one Array, and then listen for an index (offset by one, if you'd like). Then use that index to pull the desired car out of the cars Array, and put it into your result Array.</p>\n<p>Here's an example. Instead of creating a car class, I just used Strings for simplicity.</p>\n<pre><code>import java.util.Scanner; \nimport java.util.ArrayList;\nclass Main {\n    public static void main(String[] args) {\n       Scanner scanner = new Scanner(System.in);\n       ArrayList&lt;String&gt; cars = new ArrayList&lt;String&gt;();\n       cars.add(&quot;chevy&quot;);\n       cars.add(&quot;ford&quot;);\n       cars.add(&quot;weiner-mobile&quot;);\n       System.out.println(&quot;Please select a car&quot;);\n       for(int i = 0; i&lt;cars.size(); i++){\n           System.out.println(String.valueOf(i+1)+&quot; ) &quot; + cars.get(i));\n       }\n       int reply = scanner.nextInt();\n       System.out.println(&quot;you chose: &quot; + cars.get(reply-1));\n       ArrayList&lt;String&gt; chosenCar = new ArrayList&lt;String&gt;();\n       chosenCar.add(cars.get(reply-1));\n\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>Please select a car\n1 ) chevy\n2 ) ford\n3 ) weiner-mobile\n&gt; 2\nyou chose: ford\n</code></pre>\n<p>note: you probably want to make sure the input is an index in range, either by surrounding it in a try/catch and handling the indexOutOfRange exception, or checking the index against the length of the Array to ensure it's within range before calling get(i). The <code>nextInt()</code> call will throw an exception if the input is not castable to an int</p>\n"}],"owner":{"account_id":26394027,"reputation":11,"user_id":20045455,"display_name":"Nicol&#225;s Ortega Mu&#241;oz"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73791286,"answer_count":1,"score":0,"last_activity_date":1663701512,"creation_date":1663698603,"question_id":73791183,"body_markdown":"so I want to add an already created object to a list selecting it from the console (i dunno if a Scanner works). \r\n\r\n    Scanner input = new Scanner(System.in);\r\n\r\n        Car c1 = new Car(&quot;bmw&quot;, 1);\r\n        Car c2 = new Car(&quot;mercedes&quot;, 1);\r\n        Car c3 = new Car(&quot;susuki&quot;, 1);\r\n\r\n        ArrayList&lt;Car&gt; carList = new ArrayList&lt;&gt;();\r\n        carList.add(c1);\r\n        carList.add(c2);\r\n\r\n        //something like this\r\n        Car carToAdd = input.nextCar();\r\n        carList.add(carToAdd);\r\n\r\nfor example I want to add the Car c3 to the ArrayList.\r\nplease help and thank you D:","title":"Select object via scanner and add it to an arrayList","body":"<p>so I want to add an already created object to a list selecting it from the console (i dunno if a Scanner works).</p>\n<pre><code>Scanner input = new Scanner(System.in);\n\n    Car c1 = new Car(&quot;bmw&quot;, 1);\n    Car c2 = new Car(&quot;mercedes&quot;, 1);\n    Car c3 = new Car(&quot;susuki&quot;, 1);\n\n    ArrayList&lt;Car&gt; carList = new ArrayList&lt;&gt;();\n    carList.add(c1);\n    carList.add(c2);\n\n    //something like this\n    Car carToAdd = input.nextCar();\n    carList.add(carToAdd);\n</code></pre>\n<p>for example I want to add the Car c3 to the ArrayList.\nplease help and thank you D:</p>\n"},{"tags":["java","eclipse","maven","eclipse-plugin","maven-plugin"],"comments":[{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":1,"creation_date":1663702445,"post_id":73791619,"comment_id":130301116,"body_markdown":"This is saying the maven plug-ins require at least Java 17 to run. Many Eclipse downloads include a suitable Java 17 but if you are using your own Java it will have to be updated to Java 17 (or later)","body":"This is saying the maven plug-ins require at least Java 17 to run. Many Eclipse downloads include a suitable Java 17 but if you are using your own Java it will have to be updated to Java 17 (or later)"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1663705723,"post_id":73791619,"comment_id":130302019,"body_markdown":"What greg-449 says. See https://stackoverflow.com/a/73731534/6505250","body":"What greg-449 says. See <a href=\"https://stackoverflow.com/a/73731534/6505250\">stackoverflow.com/a/73731534/6505250</a>"}],"owner":{"account_id":22979559,"reputation":53,"user_id":17106708,"display_name":"Ann-Christin Lindras"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":427,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1663701358,"creation_date":1663701358,"question_id":73791619,"body_markdown":"I use a from customer installed eclipse with different maven projects:\r\n[![enter image description here][1]][1]\r\n[![enter image description here][2]][2]\r\n\r\n\r\n\r\nAfter the last (automatically) update \r\n\r\n - I don&#39;t see: Window-&gt;Preferences-&gt;Maven \r\n - I don&#39;t see menu point: Run As-&gt;Maven buid\r\n - I can not create a maven project\r\n\r\nIn ~/eclipse/workspace/.metadata/.log I find the following error message:\r\n\r\n```\r\n...\r\n!ENTRY org.eclipse.m2e.apt.core 4 0 2022-09-20 19:59:56.249\r\n!MESSAGE FrameworkEvent ERROR\r\n!STACK 0\r\norg.osgi.framework.BundleException: Could not resolve module: org.eclipse.m2e.apt.core [635]\r\n  Unresolved requirement: Require-Capability: osgi.ee; filter:=&quot;(&amp;(osgi.ee=JavaSE)(version=17))&quot;\r\n  Unresolved requirement: Require-Bundle: org.eclipse.m2e.core; bundle-version=&quot;[2.0.0,3.0.0)&quot;\r\n    -&gt; Bundle-SymbolicName: org.eclipse.m2e.core; bundle-version=&quot;2.0.3.20220904-1703&quot;; singleton:=&quot;true&quot;\r\n       org.eclipse.m2e.core [640]\r\n         Unresolved requirement: Require-Capability: osgi.ee; filter:=&quot;(&amp;(osgi.ee=JavaSE)(version=17))&quot;\r\n  Unresolved requirement: Require-Bundle: org.eclipse.m2e.jdt; bundle-version=&quot;[2.0.0,3.0.0)&quot;\r\n    -&gt; Bundle-SymbolicName: org.eclipse.m2e.jdt; bundle-version=&quot;2.0.1.20220901-1459&quot;; singleton:=&quot;true&quot;\r\n       org.eclipse.m2e.jdt [645]\r\n         Unresolved requirement: Require-Bundle: org.eclipse.m2e.core; bundle-version=&quot;[2.0.0,3.0.0)&quot;\r\n           -&gt; Bundle-SymbolicName: org.eclipse.m2e.core; bundle-version=&quot;2.0.3.20220904-1703&quot;; singleton:=&quot;true&quot;\r\n\r\n\tat org.eclipse.osgi.container.Module.start(Module.java:463)\r\n\tat org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel$2.run(ModuleContainer.java:1852)\r\n\tat org.eclipse.osgi.internal.framework.EquinoxContainerAdaptor$1$1.execute(EquinoxContainerAdaptor.java:136)\r\n\tat org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel.incStartLevel(ModuleContainer.java:1845)\r\n\tat org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel.incStartLevel(ModuleContainer.java:1786)\r\n\tat org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel.doContainerStartLevel(ModuleContainer.java:1750)\r\n\tat org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel.dispatchEvent(ModuleContainer.java:1672)\r\n\tat org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel.dispatchEvent(ModuleContainer.java:1)\r\n\tat org.eclipse.osgi.framework.eventmgr.EventManager.dispatchEvent(EventManager.java:234)\r\n\tat org.eclipse.osgi.framework.eventmgr.EventManager$EventThread.run(EventManager.java:345)\r\n...\r\n```\r\n\r\n\r\nIn https://stackoverflow.com/questions/22424168/eclipse-no-maven-entry-for-windows-preferences I found the hints from Adam Arold:\r\n\r\n - Start Eclipse with the -clean switch\r\n - Uninstall / reinstall the plugin\r\n - Delete the plugin&#39;s files physically from the plugins folder and install it again from the Marketplace\r\n\r\nBut I can not deinstall or update the maven plugin:\r\n[![enter image description here][3]][3]\r\n\r\n[![enter image description here][4]][4]\r\n\r\nHow can I activate the maven preferences in my eclipse? I don&#39;t want to install an old eclipse version.\r\n\r\nThank you for yor hints,\r\nAnn\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/KTfco.png\r\n  [2]: https://i.stack.imgur.com/gPD0p.png\r\n  [3]: https://i.stack.imgur.com/Dx67R.png\r\n  [4]: https://i.stack.imgur.com/xxa4d.png","title":"lost maven after eclipse update","body":"<p>I use a from customer installed eclipse with different maven projects:\n<a href=\"https://i.stack.imgur.com/KTfco.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KTfco.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/gPD0p.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gPD0p.png\" alt=\"enter image description here\" /></a></p>\n<p>After the last (automatically) update</p>\n<ul>\n<li>I don't see: Window-&gt;Preferences-&gt;Maven</li>\n<li>I don't see menu point: Run As-&gt;Maven buid</li>\n<li>I can not create a maven project</li>\n</ul>\n<p>In ~/eclipse/workspace/.metadata/.log I find the following error message:</p>\n<pre><code>...\n!ENTRY org.eclipse.m2e.apt.core 4 0 2022-09-20 19:59:56.249\n!MESSAGE FrameworkEvent ERROR\n!STACK 0\norg.osgi.framework.BundleException: Could not resolve module: org.eclipse.m2e.apt.core [635]\n  Unresolved requirement: Require-Capability: osgi.ee; filter:=&quot;(&amp;(osgi.ee=JavaSE)(version=17))&quot;\n  Unresolved requirement: Require-Bundle: org.eclipse.m2e.core; bundle-version=&quot;[2.0.0,3.0.0)&quot;\n    -&gt; Bundle-SymbolicName: org.eclipse.m2e.core; bundle-version=&quot;2.0.3.20220904-1703&quot;; singleton:=&quot;true&quot;\n       org.eclipse.m2e.core [640]\n         Unresolved requirement: Require-Capability: osgi.ee; filter:=&quot;(&amp;(osgi.ee=JavaSE)(version=17))&quot;\n  Unresolved requirement: Require-Bundle: org.eclipse.m2e.jdt; bundle-version=&quot;[2.0.0,3.0.0)&quot;\n    -&gt; Bundle-SymbolicName: org.eclipse.m2e.jdt; bundle-version=&quot;2.0.1.20220901-1459&quot;; singleton:=&quot;true&quot;\n       org.eclipse.m2e.jdt [645]\n         Unresolved requirement: Require-Bundle: org.eclipse.m2e.core; bundle-version=&quot;[2.0.0,3.0.0)&quot;\n           -&gt; Bundle-SymbolicName: org.eclipse.m2e.core; bundle-version=&quot;2.0.3.20220904-1703&quot;; singleton:=&quot;true&quot;\n\n    at org.eclipse.osgi.container.Module.start(Module.java:463)\n    at org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel$2.run(ModuleContainer.java:1852)\n    at org.eclipse.osgi.internal.framework.EquinoxContainerAdaptor$1$1.execute(EquinoxContainerAdaptor.java:136)\n    at org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel.incStartLevel(ModuleContainer.java:1845)\n    at org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel.incStartLevel(ModuleContainer.java:1786)\n    at org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel.doContainerStartLevel(ModuleContainer.java:1750)\n    at org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel.dispatchEvent(ModuleContainer.java:1672)\n    at org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel.dispatchEvent(ModuleContainer.java:1)\n    at org.eclipse.osgi.framework.eventmgr.EventManager.dispatchEvent(EventManager.java:234)\n    at org.eclipse.osgi.framework.eventmgr.EventManager$EventThread.run(EventManager.java:345)\n...\n</code></pre>\n<p>In <a href=\"https://stackoverflow.com/questions/22424168/eclipse-no-maven-entry-for-windows-preferences\">eclipse: No &quot;Maven&quot; entry for Windows / Preferences</a> I found the hints from Adam Arold:</p>\n<ul>\n<li>Start Eclipse with the -clean switch</li>\n<li>Uninstall / reinstall the plugin</li>\n<li>Delete the plugin's files physically from the plugins folder and install it again from the Marketplace</li>\n</ul>\n<p>But I can not deinstall or update the maven plugin:\n<a href=\"https://i.stack.imgur.com/Dx67R.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Dx67R.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/xxa4d.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xxa4d.png\" alt=\"enter image description here\" /></a></p>\n<p>How can I activate the maven preferences in my eclipse? I don't want to install an old eclipse version.</p>\n<p>Thank you for yor hints,\nAnn</p>\n"},{"tags":["java","hibernate","spring-mvc","jsp","spring-context"],"comments":[{"owner":{"account_id":5018541,"reputation":12092,"user_id":4032703,"accept_rate":100,"display_name":"EJoshuaS - Stand with Ukraine"},"score":0,"creation_date":1663689202,"post_id":73783557,"comment_id":130296838,"body_markdown":"Does this answer your question? [What is a NullPointerException, and how do I fix it?](https://stackoverflow.com/questions/218384/what-is-a-nullpointerexception-and-how-do-i-fix-it)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/218384/what-is-a-nullpointerexception-and-how-do-i-fix-it\">What is a NullPointerException, and how do I fix it?</a>"}],"answers":[{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663701043,"creation_date":1663700718,"answer_id":73791511,"question_id":73783557,"body_markdown":"It&#39;s showing you the error because you use the instance of `QuestionService` made by yourself and not by Spring. \r\n\r\nTo make properties of the service initialized you need to get the instance ftom the Spring context or pass it to the autowiring factory. \r\n\r\nAlthough, scriptlets in JSP are descouaraged, you should write something like this in your controller component\r\n\r\n```\r\nQuestionService qs = AppContext.getBean(QuestionService.class);\r\n```\r\n\r\nthen check the property of your `sessionFactory`. It should not be `null`.","title":"getting NullPointerException while calling SessionFactory in JSP page","body":"<p>It's showing you the error because you use the instance of <code>QuestionService</code> made by yourself and not by Spring.</p>\n<p>To make properties of the service initialized you need to get the instance ftom the Spring context or pass it to the autowiring factory.</p>\n<p>Although, scriptlets in JSP are descouaraged, you should write something like this in your controller component</p>\n<pre><code>QuestionService qs = AppContext.getBean(QuestionService.class);\n</code></pre>\n<p>then check the property of your <code>sessionFactory</code>. It should not be <code>null</code>.</p>\n"}],"owner":{"account_id":11270286,"reputation":84,"user_id":8265953,"display_name":"user8265953"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":420,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1663701227,"creation_date":1663661785,"question_id":73783557,"body_markdown":"While calling `qs.getSubList()` method occurring below exception. don&#39;t know why it is showing error, while calling same method from other class its work perfectly and return `Question` list. \r\n\r\n       java.lang.NullPointerException: Cannot invoke &quot;org.hibernate.SessionFactory.openSession()&quot; because &quot;this.sessionFactory&quot; is null\r\n\r\n**queType.jsp**\r\n   \r\n    &lt;%@page import=&quot;java.util.List&quot;%&gt;\r\n    &lt;%@page import=&quot;com.guru.onlineexam.entity.Question&quot;%&gt;\r\n    &lt;%@page import=&quot;com.guru.onlineexam.service.QuestionService&quot;%&gt;\r\n    &lt;%\r\n        QuestionService qs = new QuestionService();\r\n        List&lt;Question&gt; qList = qs.getSubList();\r\n        out.println(qList);\r\n    %&gt;\r\n\r\n**QuestionService.java**\r\n\r\n    @Service\r\n    public class QuestionService {\r\n    \r\n        @Autowired\r\n        MainDao mainDao;\r\n    \r\n        @Autowired\r\n        SessionFactory sessionFactory;\r\n    \r\n     public List&lt;Question&gt; getSubList() {\r\n            // Session session = mainDao.getSession();\r\n            Session session = sessionFactory.openSession();\r\n            String query = &quot;SELECT DISTINCT que_subject FROM Question&quot;;\r\n            Query q = session.createQuery(query);\r\n            List&lt;Question&gt; sublist = q.getResultList();\r\n    \r\n            return sublist;\r\n        }\r\n    }\r\n\r\n","title":"getting NullPointerException while calling SessionFactory in JSP page","body":"<p>While calling <code>qs.getSubList()</code> method occurring below exception. don't know why it is showing error, while calling same method from other class its work perfectly and return <code>Question</code> list.</p>\n<pre><code>   java.lang.NullPointerException: Cannot invoke &quot;org.hibernate.SessionFactory.openSession()&quot; because &quot;this.sessionFactory&quot; is null\n</code></pre>\n<p><strong>queType.jsp</strong></p>\n<pre><code>&lt;%@page import=&quot;java.util.List&quot;%&gt;\n&lt;%@page import=&quot;com.guru.onlineexam.entity.Question&quot;%&gt;\n&lt;%@page import=&quot;com.guru.onlineexam.service.QuestionService&quot;%&gt;\n&lt;%\n    QuestionService qs = new QuestionService();\n    List&lt;Question&gt; qList = qs.getSubList();\n    out.println(qList);\n%&gt;\n</code></pre>\n<p><strong>QuestionService.java</strong></p>\n<pre><code>@Service\npublic class QuestionService {\n\n    @Autowired\n    MainDao mainDao;\n\n    @Autowired\n    SessionFactory sessionFactory;\n\n public List&lt;Question&gt; getSubList() {\n        // Session session = mainDao.getSession();\n        Session session = sessionFactory.openSession();\n        String query = &quot;SELECT DISTINCT que_subject FROM Question&quot;;\n        Query q = session.createQuery(query);\n        List&lt;Question&gt; sublist = q.getResultList();\n\n        return sublist;\n    }\n}\n</code></pre>\n"},{"tags":["java","jackson","deserialization","resttemplate","json-deserialization"],"answers":[{"tags":[],"owner":{"account_id":4649780,"reputation":669,"user_id":3766983,"display_name":"Sreek521"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663700761,"creation_date":1663700761,"answer_id":73791518,"question_id":73791084,"body_markdown":" - **Option 1::**\r\n\r\n If you are using Spring, the simplest way to override the default configuration is to define an ObjectMapper bean and to mark it as @Primary:\r\n\r\nCheck :: https://www.baeldung.com/spring-boot-customize-jackson-objectmapper\r\n\r\n    @Bean\r\n    @Primary\r\n    public ObjectMapper objectMapper() {\r\n    \r\n        return new ObjectMapper()\r\n          .configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false)\r\n          .configure(DeserializationFeature.ACCEPT_EMPTY_STRING_AS_NULL_OBJECT,true);\r\n    \r\n    }\r\n\r\n - **Option 2::**\r\nConvert the response to string  and check for empty body and do the needful by converting the string to class object using object mapper. \r\n\r\n   \r\n\r\n    ResponseEntity&lt;String&gt; responseEntity = restTemplate.postForEntity(url,httpRequest, String.class);\r\n        \r\n        if(!StringUtils.isBlank(responseEntity.getBody())) {\r\n        \r\n        Gson gson = new Gson();\r\n        Response res= gson.fromJson(responseEntity.getBody(), Response .class);\r\n        \r\n        }\r\n\r\n\r\n","title":"Any way to skip deserialization of class members which are incompatible?","body":"<ul>\n<li><strong>Option 1::</strong></li>\n</ul>\n<p>If you are using Spring, the simplest way to override the default configuration is to define an ObjectMapper bean and to mark it as @Primary:</p>\n<p>Check :: <a href=\"https://www.baeldung.com/spring-boot-customize-jackson-objectmapper\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-boot-customize-jackson-objectmapper</a></p>\n<pre><code>@Bean\n@Primary\npublic ObjectMapper objectMapper() {\n\n    return new ObjectMapper()\n      .configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false)\n      .configure(DeserializationFeature.ACCEPT_EMPTY_STRING_AS_NULL_OBJECT,true);\n\n}\n</code></pre>\n<ul>\n<li><p><strong>Option 2::</strong>\nConvert the response to string  and check for empty body and do the needful by converting the string to class object using object mapper.</p>\n<p>ResponseEntity responseEntity = restTemplate.postForEntity(url,httpRequest, String.class);</p>\n<pre><code> if(!StringUtils.isBlank(responseEntity.getBody())) {\n\n Gson gson = new Gson();\n Response res= gson.fromJson(responseEntity.getBody(), Response .class);\n\n }\n</code></pre>\n</li>\n</ul>\n"}],"owner":{"account_id":13602762,"reputation":53,"user_id":9812935,"display_name":"abhishek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":559,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1663700761,"creation_date":1663698051,"question_id":73791084,"body_markdown":"I am calling an external API through RestTemplate. There is one parameter in the response structure that is dynamic i.e. returns two types of values, it returns a Json structure in the success case (status = true) and an empty string &quot;&quot; in case of failure (status = false). The RestTemplate is throwing exception in failure case as the string is not able to deserialze into the class object. This is my response class:\r\n```\r\npublic class Response {\r\n    private boolean status;\r\n    private String message;\r\n    private DynamicClass data;\r\n}\r\npublic static class DynamicClass {\r\n    private String id;\r\n    private String createdDate;\r\n}\r\n\r\n```\r\nThis call is throwing exception:\r\n\r\n```\r\nResponseEntity&lt;Response&gt; responseEntity = restTemplate.postForEntity(url, httpRequest, Response.class);\r\n```\r\nException:\r\n```\r\norg.springframework.web.client.RestClientException: Error while extracting response for type [class com.example.data.Response] and content type [application/json;charset=utf-8]; nested exception is org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Cannot construct instance of `com.example.data.Response$DynamicClass` (although at least one Creator exists): no String-argument constructor/factory method to deserialize from String value (&#39;&#39;); nested exception is com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot construct instance of `com.example.data.Response$DynamicClass` (although at least one Creator exists): no String-argument constructor/factory method to deserialize from String value (&#39;&#39;)\r\n at [Source: (sun.net.www.protocol.http.HttpURLConnection$HttpInputStream); line: 1, column: 78] (through reference chain: com.example.data.Response[&quot;data&quot;])\r\n\tat org.springframework.web.client.HttpMessageConverterExtractor.extractData(HttpMessageConverterExtractor.java:119)\r\n\tat org.springframework.web.client.RestTemplate$ResponseEntityResponseExtractor.extractData(RestTemplate.java:998)\r\n\tat org.springframework.web.client.RestTemplate$ResponseEntityResponseExtractor.extractData(RestTemplate.java:981)\r\n\tat org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:741)\r\n\tat org.springframework.web.client.RestTemplate.execute(RestTemplate.java:674)\r\n.\r\n.\r\n.\r\nCaused by: org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Cannot construct instance of `com.example.data.Response$DynamicClass` (although at least one Creator exists): no String-argument constructor/factory method to deserialize from String value (&#39;&#39;); nested exception is com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot construct instance of `com.example.data.Response$DynamicClass` (although at least one Creator exists): no String-argument constructor/factory method to deserialize from String value (&#39;&#39;)\r\n at [Source: (sun.net.www.protocol.http.HttpURLConnection$HttpInputStream); line: 1, column: 78] (through reference chain: com.example.data.Response[&quot;data&quot;])\r\n```\r\nIs there any way I can tell the parser to skip the deserialization of that member if it is not compatible as I don&#39;t need that empty string anyway? Or any other workaround for this problem?","title":"Any way to skip deserialization of class members which are incompatible?","body":"<p>I am calling an external API through RestTemplate. There is one parameter in the response structure that is dynamic i.e. returns two types of values, it returns a Json structure in the success case (status = true) and an empty string &quot;&quot; in case of failure (status = false). The RestTemplate is throwing exception in failure case as the string is not able to deserialze into the class object. This is my response class:</p>\n<pre><code>public class Response {\n    private boolean status;\n    private String message;\n    private DynamicClass data;\n}\npublic static class DynamicClass {\n    private String id;\n    private String createdDate;\n}\n\n</code></pre>\n<p>This call is throwing exception:</p>\n<pre><code>ResponseEntity&lt;Response&gt; responseEntity = restTemplate.postForEntity(url, httpRequest, Response.class);\n</code></pre>\n<p>Exception:</p>\n<pre><code>org.springframework.web.client.RestClientException: Error while extracting response for type [class com.example.data.Response] and content type [application/json;charset=utf-8]; nested exception is org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Cannot construct instance of `com.example.data.Response$DynamicClass` (although at least one Creator exists): no String-argument constructor/factory method to deserialize from String value (''); nested exception is com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot construct instance of `com.example.data.Response$DynamicClass` (although at least one Creator exists): no String-argument constructor/factory method to deserialize from String value ('')\n at [Source: (sun.net.www.protocol.http.HttpURLConnection$HttpInputStream); line: 1, column: 78] (through reference chain: com.example.data.Response[&quot;data&quot;])\n    at org.springframework.web.client.HttpMessageConverterExtractor.extractData(HttpMessageConverterExtractor.java:119)\n    at org.springframework.web.client.RestTemplate$ResponseEntityResponseExtractor.extractData(RestTemplate.java:998)\n    at org.springframework.web.client.RestTemplate$ResponseEntityResponseExtractor.extractData(RestTemplate.java:981)\n    at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:741)\n    at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:674)\n.\n.\n.\nCaused by: org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Cannot construct instance of `com.example.data.Response$DynamicClass` (although at least one Creator exists): no String-argument constructor/factory method to deserialize from String value (''); nested exception is com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot construct instance of `com.example.data.Response$DynamicClass` (although at least one Creator exists): no String-argument constructor/factory method to deserialize from String value ('')\n at [Source: (sun.net.www.protocol.http.HttpURLConnection$HttpInputStream); line: 1, column: 78] (through reference chain: com.example.data.Response[&quot;data&quot;])\n</code></pre>\n<p>Is there any way I can tell the parser to skip the deserialization of that member if it is not compatible as I don't need that empty string anyway? Or any other workaround for this problem?</p>\n"},{"tags":["java","class","generics"],"comments":[{"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"score":1,"creation_date":1663684752,"post_id":73788462,"comment_id":130295001,"body_markdown":"Do you want to check whether the class *exactly* matches, or whether it&#39;s compatible (i.e. a subclass)? Are there generics involved, or are these concrete, runtime classes?","body":"Do you want to check whether the class <i>exactly</i> matches, or whether it&#39;s compatible (i.e. a subclass)? Are there generics involved, or are these concrete, runtime classes?"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1663685073,"post_id":73788462,"comment_id":130295134,"body_markdown":"While `entity instanceof clazz` does not work, `clazz.isAssignableFrom(entity.getClass())` at least compiles","body":"While <code>entity instanceof clazz</code> does not work, <code>clazz.isAssignableFrom(entity.getClass())</code> at least compiles"},{"owner":{"account_id":14736407,"reputation":1,"user_id":10642314,"display_name":"Cheps"},"score":0,"creation_date":1663685381,"post_id":73788462,"comment_id":130295269,"body_markdown":"I need to check if entity and request are of the same clazz type. When I call this method I pass the entity retrieved from the db, the request from the front end and clazz.\nas:\nlistContatti = (List &lt;ContattoCliente&gt;) convertMapMergedToEntity (entity.getContattiCliente (),\nrequestConverted.getContattiCliente (), ContattoCliente.class);\nentity.setContattiCliente (listContatti);\nCustomer customerAssembled = (Customer) convertMapMergedToEntity (entity, requestConverted, Customer.class);  Beacause i build convertMapMergedToEntity like a common method to use for different entity","body":"I need to check if entity and request are of the same clazz type. When I call this method I pass the entity retrieved from the db, the request from the front end and clazz. as: listContatti = (List &lt;ContattoCliente&gt;) convertMapMergedToEntity (entity.getContattiCliente (), requestConverted.getContattiCliente (), ContattoCliente.class); entity.setContattiCliente (listContatti); Customer customerAssembled = (Customer) convertMapMergedToEntity (entity, requestConverted, Customer.class);  Beacause i build convertMapMergedToEntity like a common method to use for different entity"},{"owner":{"account_id":25211297,"reputation":271,"user_id":19048941,"display_name":"Wilderness Ranger"},"score":0,"creation_date":1663698138,"post_id":73788462,"comment_id":130299813,"body_markdown":"@XtremeBaumer `Object.equals(Object)` method returns a `boolean`. It will be then auto boxed to a `Boolean` object and compared with a `Class` object in your snippet, which is meaningless and always returns `false`.","body":"@XtremeBaumer <code>Object.equals(Object)</code> method returns a <code>boolean</code>. It will be then auto boxed to a <code>Boolean</code> object and compared with a <code>Class</code> object in your snippet, which is meaningless and always returns <code>false</code>."}],"answers":[{"tags":[],"owner":{"account_id":25211297,"reputation":271,"user_id":19048941,"display_name":"Wilderness Ranger"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1663685530,"creation_date":1663685530,"answer_id":73788694,"question_id":73788462,"body_markdown":"I&#39;m not sure if this is what you expected, but if you what to check whether `entity` and `request` are *compatible* with `clazz`, you can use [`Class.isInstance(Object)`](https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html#isInstance-java.lang.Object-), that&#39;s to say `clazz.isInstance(entity) &amp;&amp; clazz.isInstance(request)`.","title":"How to determinate an object class with Class&lt;?&gt; clazz","body":"<p>I'm not sure if this is what you expected, but if you what to check whether <code>entity</code> and <code>request</code> are <em>compatible</em> with <code>clazz</code>, you can use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html#isInstance-java.lang.Object-\" rel=\"nofollow noreferrer\"><code>Class.isInstance(Object)</code></a>, that's to say <code>clazz.isInstance(entity) &amp;&amp; clazz.isInstance(request)</code>.</p>\n"},{"tags":[],"owner":{"account_id":145939,"reputation":3382,"user_id":356083,"accept_rate":60,"display_name":"f.khantsis"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1663685912,"creation_date":1663685912,"answer_id":73788780,"question_id":73788462,"body_markdown":"I think that the method you&#39;re looking is [`isAssignableFrom`][1]. This method checks that a class is equal to, or subclass from the other.\r\n\r\nSo your code should look like this\r\n```java\r\nif (ContattoCliente.class.isAssignableFrom(clazz)) {\r\n```\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Class.html#isAssignableFrom(java.lang.Class)","title":"How to determinate an object class with Class&lt;?&gt; clazz","body":"<p>I think that the method you're looking is <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Class.html#isAssignableFrom(java.lang.Class)\" rel=\"nofollow noreferrer\"><code>isAssignableFrom</code></a>. This method checks that a class is equal to, or subclass from the other.</p>\n<p>So your code should look like this</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (ContattoCliente.class.isAssignableFrom(clazz)) {\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1663686834,"creation_date":1663686367,"answer_id":73788874,"question_id":73788462,"body_markdown":"I understood that you need to check whether `entity` and `request` are instances of the same class, and that you added the third parameter `clazz` because you previous attempts to check the &quot;type equality&quot; failed.\r\n\r\nWhat about this:\r\n\r\n```java\r\nif( nonNull( entity ) &amp;&amp; nonNull( request ) &amp;&amp; entity.getClass().equals( request.getClass() ) )\r\n{\r\n  …   \r\n}\r\n```\r\n\r\nIf the class for the arguments has to be that one specified by `clazz`, think about this construct:\r\n\r\n```java\r\nprivate &lt;T&gt; Object convertMapMergedToEntity( T entity, T request, Class&lt;T&gt; clazz) \r\n{\r\n  …\r\n}\r\n```\r\nHere enforces the compiler that `entity` and `request` are of the type `T` that is specified by the `clazz` parameter; it does not require a runtime check any more.\r\n\r\nIf you want to have the runtime check by any means, try this (but add `null` checks for at least `entity` and `request`):\r\n\r\n```java\r\nif( entity.getClass().equals( request.getClass() &amp;&amp; entity.getClass().equals( clazz ) ) )\r\n{\r\n  …   \r\n}\r\n```\r\n\r\n","title":"How to determinate an object class with Class&lt;?&gt; clazz","body":"<p>I understood that you need to check whether <code>entity</code> and <code>request</code> are instances of the same class, and that you added the third parameter <code>clazz</code> because you previous attempts to check the &quot;type equality&quot; failed.</p>\n<p>What about this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if( nonNull( entity ) &amp;&amp; nonNull( request ) &amp;&amp; entity.getClass().equals( request.getClass() ) )\n{\n  …   \n}\n</code></pre>\n<p>If the class for the arguments has to be that one specified by <code>clazz</code>, think about this construct:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private &lt;T&gt; Object convertMapMergedToEntity( T entity, T request, Class&lt;T&gt; clazz) \n{\n  …\n}\n</code></pre>\n<p>Here enforces the compiler that <code>entity</code> and <code>request</code> are of the type <code>T</code> that is specified by the <code>clazz</code> parameter; it does not require a runtime check any more.</p>\n<p>If you want to have the runtime check by any means, try this (but add <code>null</code> checks for at least <code>entity</code> and <code>request</code>):</p>\n<pre class=\"lang-java prettyprint-override\"><code>if( entity.getClass().equals( request.getClass() &amp;&amp; entity.getClass().equals( clazz ) ) )\n{\n  …   \n}\n</code></pre>\n"}],"owner":{"account_id":14736407,"reputation":1,"user_id":10642314,"display_name":"Cheps"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":256,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":3,"score":-1,"last_activity_date":1663700212,"creation_date":1663684484,"question_id":73788462,"body_markdown":"How can I determinate if entity and request are same type class of clazz\r\n(Example: `if(entity.equals(clazz) &amp;&amp; request.equals(clazz))` but not work.\r\n(In this case, i assigned `ContattoCliente.class` to `clazz` so that if is `true` (`if (clazz == ContattoCliente.class)`)\r\n\r\nLanguage Java version 11.\r\n\r\n```\r\nprivate Object convertMapMergedToEntity(Object entity, Object request, Class&lt;?&gt; clazz) {\r\n\t\tList&lt;Object&gt; resultList = new ArrayList&lt;&gt;();\r\n\t\tObject clienteMerged = new Object();\r\n\t\tObjectMapper mapper = JsonMapper.builder().addModule(new JavaTimeModule()).build();\r\n\t\tif (clazz == ContattoCliente.class) {\r\n\t\t\tfor (int i = 0; i &lt; ((List&lt;Object&gt;) request).size(); i++) {\r\n\t\t\t\tObject contattoMerged = new Object();\r\n\t\t\t\tLinkedHashMap&lt;Object, Object&gt; entityMap = mapper.convertValue(((List&lt;Object&gt;) entity).get(i),\r\n\t\t\t\t\t\tLinkedHashMap.class);\r\n\t\t\t\tLinkedHashMap&lt;Object, Object&gt; requestMap = mapper.convertValue(((List&lt;Object&gt;) request).get(i),\r\n\t\t\t\t\t\tLinkedHashMap.class);\r\n\r\n\t\t\t\tcontattoMerged = mapDifferenceMerged2(entityMap, requestMap, clazz);\r\n\t\t\t\tresultList.add(contattoMerged);\r\n\t\t\t}\r\n\t\t\treturn resultList;\r\n\t\t} else if (clazz == Cliente.class) {\r\n\t\t\tLinkedHashMap&lt;Object, Object&gt; entityMap = mapper.convertValue(entity, LinkedHashMap.class);\r\n\t\t\tLinkedHashMap&lt;Object, Object&gt; requestMap = mapper.convertValue(request, LinkedHashMap.class);\r\n\t\t\tclienteMerged = mapDifferenceMerged2(entityMap, requestMap, clazz);\r\n\t\t}\r\n\r\n\t\treturn clienteMerged;\r\n\t}\r\n\r\n\r\nThe problem is that if i compare them with Getclass () the condition will always be false, I have also tried everything that is after Dot Getclass ()\r\n        System.out.println(&quot;entity  -&gt;&quot; + entity.getClass());\r\n\t\tSystem.out.println(&quot;request  -&gt; &quot; + request.getClass());\r\n\t\tSystem.out.println(&quot;clazz  -&gt;&quot; + clazz.getSimpleName());\r\n\r\nOutput:\r\nentity -&gt; class org.hibernate.collection.internal.PersistentBag\r\nrequest -&gt; class java.util.LinkedList\r\nclazz -&gt; ContattoCliente\r\n","title":"How to determinate an object class with Class&lt;?&gt; clazz","body":"<p>How can I determinate if entity and request are same type class of clazz\n(Example: <code>if(entity.equals(clazz) &amp;&amp; request.equals(clazz))</code> but not work.\n(In this case, i assigned <code>ContattoCliente.class</code> to <code>clazz</code> so that if is <code>true</code> (<code>if (clazz == ContattoCliente.class)</code>)</p>\n<p>Language Java version 11.</p>\n<pre><code>private Object convertMapMergedToEntity(Object entity, Object request, Class&lt;?&gt; clazz) {\n        List&lt;Object&gt; resultList = new ArrayList&lt;&gt;();\n        Object clienteMerged = new Object();\n        ObjectMapper mapper = JsonMapper.builder().addModule(new JavaTimeModule()).build();\n        if (clazz == ContattoCliente.class) {\n            for (int i = 0; i &lt; ((List&lt;Object&gt;) request).size(); i++) {\n                Object contattoMerged = new Object();\n                LinkedHashMap&lt;Object, Object&gt; entityMap = mapper.convertValue(((List&lt;Object&gt;) entity).get(i),\n                        LinkedHashMap.class);\n                LinkedHashMap&lt;Object, Object&gt; requestMap = mapper.convertValue(((List&lt;Object&gt;) request).get(i),\n                        LinkedHashMap.class);\n\n                contattoMerged = mapDifferenceMerged2(entityMap, requestMap, clazz);\n                resultList.add(contattoMerged);\n            }\n            return resultList;\n        } else if (clazz == Cliente.class) {\n            LinkedHashMap&lt;Object, Object&gt; entityMap = mapper.convertValue(entity, LinkedHashMap.class);\n            LinkedHashMap&lt;Object, Object&gt; requestMap = mapper.convertValue(request, LinkedHashMap.class);\n            clienteMerged = mapDifferenceMerged2(entityMap, requestMap, clazz);\n        }\n\n        return clienteMerged;\n    }\n\n\nThe problem is that if i compare them with Getclass () the condition will always be false, I have also tried everything that is after Dot Getclass ()\n        System.out.println(&quot;entity  -&gt;&quot; + entity.getClass());\n        System.out.println(&quot;request  -&gt; &quot; + request.getClass());\n        System.out.println(&quot;clazz  -&gt;&quot; + clazz.getSimpleName());\n\nOutput:\nentity -&gt; class org.hibernate.collection.internal.PersistentBag\nrequest -&gt; class java.util.LinkedList\nclazz -&gt; ContattoCliente\n</code></pre>\n"},{"tags":["java","orientdb"],"comments":[{"owner":{"account_id":16015455,"reputation":109,"user_id":11558318,"display_name":"tala d"},"score":0,"creation_date":1612186886,"post_id":65304771,"comment_id":116680085,"body_markdown":"what is the alternative API for this","body":"what is the alternative API for this"}],"answers":[{"tags":[],"owner":{"account_id":414926,"reputation":1016,"user_id":789431,"display_name":"Roberto  Franchini"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1608073746,"creation_date":1608073746,"answer_id":65315004,"question_id":65304771,"body_markdown":"My suggestion is to move to the new 3.x multimode API\r\n\r\nhttp://orientdb.com/docs/3.1.x/java/Java-MultiModel-API.html\r\n\r\nThe 3.x JAVA API is cleaner than the 2.1.x one","title":"NoSuchMethodError:java.lang.NoSuchMethodError: com.orientechnologies.orient.core.db.document.ODatabaseDocumentTx.begin","body":"<p>My suggestion is to move to the new 3.x multimode API</p>\n<p><a href=\"http://orientdb.com/docs/3.1.x/java/Java-MultiModel-API.html\" rel=\"nofollow noreferrer\">http://orientdb.com/docs/3.1.x/java/Java-MultiModel-API.html</a></p>\n<p>The 3.x JAVA API is cleaner than the 2.1.x one</p>\n"}],"owner":{"account_id":16015455,"reputation":109,"user_id":11558318,"display_name":"tala d"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":140,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1663700143,"creation_date":1608030878,"question_id":65304771,"body_markdown":"I am getting below error while upgrading orient db core to 3.1.4:\r\n\r\n\r\n    com.orientechnologies.orient.core.db.document.ODatabaseDocumentTx.begin(Lcom/orientechnologies/orient/core/tx/OTransaction$TXTYPE;)Lcom/orientechnologies/orient/core/db/document/ODatabaseDocumentTx;\r\n    java.lang.NoSuchMethodError: com.orientechnologies.orient.core.db.document.ODatabaseDocumentTx.begin(Lcom/orientechnologies/orient/core/tx/OTransaction$TXTYPE;)Lcom/orientechnologies/orient/core/db/document/ODatabaseDocumentTx;\r\n\r\n\r\nIs it because, ODatabaseDocumentTx.begin() is depricated in 3.1.4.","title":"NoSuchMethodError:java.lang.NoSuchMethodError: com.orientechnologies.orient.core.db.document.ODatabaseDocumentTx.begin","body":"<p>I am getting below error while upgrading orient db core to 3.1.4:</p>\n<pre><code>com.orientechnologies.orient.core.db.document.ODatabaseDocumentTx.begin(Lcom/orientechnologies/orient/core/tx/OTransaction$TXTYPE;)Lcom/orientechnologies/orient/core/db/document/ODatabaseDocumentTx;\njava.lang.NoSuchMethodError: com.orientechnologies.orient.core.db.document.ODatabaseDocumentTx.begin(Lcom/orientechnologies/orient/core/tx/OTransaction$TXTYPE;)Lcom/orientechnologies/orient/core/db/document/ODatabaseDocumentTx;\n</code></pre>\n<p>Is it because, ODatabaseDocumentTx.begin() is depricated in 3.1.4.</p>\n"},{"tags":["java","html","jsp","struts","struts-1"],"answers":[{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1663699767,"creation_date":1379926585,"answer_id":18955284,"question_id":18953982,"body_markdown":"There&#39;s another way to not use `html:options` but use `html:optionsCollection` instead.\r\n\r\n    &lt;html:optionsCollection property=&quot;airlines&quot; label=&quot;value&quot; value=&quot;key&quot; /&gt;\r\n\r\nTo make this working you should map the property in the form\r\n\r\n    private Map&lt;String, String&gt; airlines;\r\n\r\n    public Map&lt;String, String&gt; getAirlines() {\r\n      return airlines;\r\n    }\r\n\r\n    public void setAirlines(Map&lt;String, String&gt; airlines) {\r\n      this.airlines = airlines;\r\n    }\r\n\r\nin the action\r\n\r\n    form.setAirlines(treeMap); \r\n\r\n","title":"How to valildate html:options collection in Struts 1.3?","body":"<p>There's another way to not use <code>html:options</code> but use <code>html:optionsCollection</code> instead.</p>\n<pre><code>&lt;html:optionsCollection property=&quot;airlines&quot; label=&quot;value&quot; value=&quot;key&quot; /&gt;\n</code></pre>\n<p>To make this working you should map the property in the form</p>\n<pre><code>private Map&lt;String, String&gt; airlines;\n\npublic Map&lt;String, String&gt; getAirlines() {\n  return airlines;\n}\n\npublic void setAirlines(Map&lt;String, String&gt; airlines) {\n  this.airlines = airlines;\n}\n</code></pre>\n<p>in the action</p>\n<pre><code>form.setAirlines(treeMap); \n</code></pre>\n"}],"owner":{"account_id":958625,"reputation":3960,"user_id":983436,"accept_rate":65,"display_name":"Code Hungry"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7540,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1663699767,"creation_date":1379921837,"question_id":18953982,"body_markdown":"Following `Treemap` is having all the values from database which I am passing with \r\n\r\n    Map&lt;String, String&gt; treeMap = new TreeMap&lt;String, String&gt;(map);\r\n    Iterator mapIterator = mapSet.iterator();\r\n    while (mapIterator.hasNext()) {\r\n      Map.Entry mapEntry = (Map.Entry) mapIterator.next();\r\n      String keyValue = (String) mapEntry.getKey();\r\n      String value = (String) mapEntry.getValue();\r\n      System.out.println(&quot;Key : &quot; + keyValue + &quot;= Value : &quot; + value);\r\n    }\r\n    request.setAttribute(&quot;airline_name&quot;, treeMap);\r\n\r\n**In JSP page:**\r\n\r\n    &lt;html:select property=&quot;airline_name_value&quot;  styleId  = &quot;tempId&quot; &gt; \r\n      &lt;html:options collection=&quot;airline_name&quot; property=&quot;key&quot; labelProperty=&quot;key&quot; /&gt;  \r\n    &lt;/html:select&gt;  \r\n\r\n**In `ActionForm`:**\r\n\r\n    private String airline_name;\r\n    public String getAirline_name() {\r\n    return airline_name;\r\n    }\r\n    public void setAirline_name(String airline_name) {\r\n    this.airline_name = airline_name;\r\n    }\r\n\r\n\r\n**Error:**\r\n\r\n    org.apache.jasper.JasperException: javax.servlet.ServletException: javax.servlet.jsp.JspException: Cannot find bean under name airline_name\r\n\r\nIs there any other way to use `html:options` collection tag?","title":"How to valildate html:options collection in Struts 1.3?","body":"<p>Following <code>Treemap</code> is having all the values from database which I am passing with </p>\n\n<pre><code>Map&lt;String, String&gt; treeMap = new TreeMap&lt;String, String&gt;(map);\nIterator mapIterator = mapSet.iterator();\nwhile (mapIterator.hasNext()) {\n  Map.Entry mapEntry = (Map.Entry) mapIterator.next();\n  String keyValue = (String) mapEntry.getKey();\n  String value = (String) mapEntry.getValue();\n  System.out.println(\"Key : \" + keyValue + \"= Value : \" + value);\n}\nrequest.setAttribute(\"airline_name\", treeMap);\n</code></pre>\n\n<p><strong>In JSP page:</strong></p>\n\n<pre><code>&lt;html:select property=\"airline_name_value\"  styleId  = \"tempId\" &gt; \n  &lt;html:options collection=\"airline_name\" property=\"key\" labelProperty=\"key\" /&gt;  \n&lt;/html:select&gt;  \n</code></pre>\n\n<p><strong>In <code>ActionForm</code>:</strong></p>\n\n<pre><code>private String airline_name;\npublic String getAirline_name() {\nreturn airline_name;\n}\npublic void setAirline_name(String airline_name) {\nthis.airline_name = airline_name;\n}\n</code></pre>\n\n<p><strong>Error:</strong></p>\n\n<pre><code>org.apache.jasper.JasperException: javax.servlet.ServletException: javax.servlet.jsp.JspException: Cannot find bean under name airline_name\n</code></pre>\n\n<p>Is there any other way to use <code>html:options</code> collection tag?</p>\n"},{"tags":["java","android","kotlin","rx-java"],"comments":[{"owner":{"account_id":2182934,"reputation":2525,"user_id":1932011,"accept_rate":71,"display_name":"JayC667"},"score":0,"creation_date":1612486130,"post_id":66055810,"comment_id":116789234,"body_markdown":"Please post the code for Single.create too. As you pass a lambda function, it&#39;s likely that this lambda function never gets called inside Single.create().","body":"Please post the code for Single.create too. As you pass a lambda function, it&#39;s likely that this lambda function never gets called inside Single.create()."},{"owner":{"account_id":3655545,"reputation":4052,"user_id":3046669,"accept_rate":37,"display_name":"BRDroid"},"score":0,"creation_date":1612512157,"post_id":66055810,"comment_id":116794751,"body_markdown":"Hello @JayC667 i have updated the question with the Single.create which is in rx package","body":"Hello @JayC667 i have updated the question with the Single.create which is in rx package"},{"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"score":0,"creation_date":1612515792,"post_id":66055810,"comment_id":116796205,"body_markdown":"How are you calling it from Kotlin? Usually there are two mistakes to look for: using curly braces instead of parenthesis; log coalescing hides the fact the code did run but the log message got removed.","body":"How are you calling it from Kotlin? Usually there are two mistakes to look for: using curly braces instead of parenthesis; log coalescing hides the fact the code did run but the log message got removed."},{"owner":{"account_id":3655545,"reputation":4052,"user_id":3046669,"accept_rate":37,"display_name":"BRDroid"},"score":0,"creation_date":1612518112,"post_id":66055810,"comment_id":116797184,"body_markdown":"hello @akarnokd this is how I am calling from kotlin\n val result = pdfTicketStorage.store(offlinePrintedTicketInfo.pdfTicketFilePath, offlinePrintedTicketInfo.pdfTicketContent)\n        Timber.d(&quot;OfflineDataLib - postPrintedTicket - result - &quot; + result )","body":"hello @akarnokd this is how I am calling from kotlin  val result = pdfTicketStorage.store(offlinePrintedTicketInfo.pdfTicketFil&zwnj;&#8203;ePath, offlinePrintedTicketInfo.pdfTicketContent)         Timber.d(&quot;OfflineDataLib - postPrintedTicket - result - &quot; + result )"},{"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"score":0,"creation_date":1612519584,"post_id":66055810,"comment_id":116797838,"body_markdown":"Where do you call `subscribe()`?","body":"Where do you call <code>subscribe()</code>?"},{"owner":{"account_id":3655545,"reputation":4052,"user_id":3046669,"accept_rate":37,"display_name":"BRDroid"},"score":0,"creation_date":1612519707,"post_id":66055810,"comment_id":116797905,"body_markdown":"that is the only thing I did to call that method. I am new to this, can you suggest how should I be calling it from Kotlin function please","body":"that is the only thing I did to call that method. I am new to this, can you suggest how should I be calling it from Kotlin function please"},{"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"score":0,"creation_date":1612519801,"post_id":66055810,"comment_id":116797949,"body_markdown":"Recommended reading: https://github.com/ReactiveX/RxJava#getting-started","body":"Recommended reading: <a href=\"https://github.com/ReactiveX/RxJava#getting-started\" rel=\"nofollow noreferrer\">github.com/ReactiveX/RxJava#getting-started</a>"},{"owner":{"account_id":3655545,"reputation":4052,"user_id":3046669,"accept_rate":37,"display_name":"BRDroid"},"score":0,"creation_date":1612520176,"post_id":66055810,"comment_id":116798107,"body_markdown":"@akarnokd okay will do that. so if I just subscribe like this it should be fine?\nval result = pdfTicketStorage.store(offlinePrintedTicketInfo.pdfTicketFilePath, offlinePrintedTicketInfo.pdfTicketContent).subscribe()","body":"@akarnokd okay will do that. so if I just subscribe like this it should be fine? val result = pdfTicketStorage.store(offlinePrintedTicketInfo.pdfTicketFil&zwnj;&#8203;ePath, offlinePrintedTicketInfo.pdfTicketContent).subscribe()"}],"answers":[{"tags":[],"owner":{"account_id":6073790,"reputation":3697,"user_id":4741746,"accept_rate":86,"display_name":"Sushant Gosavi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663699450,"creation_date":1663699450,"answer_id":73791322,"question_id":66055810,"body_markdown":"&gt; You forgot to call subscribe method\r\n\r\nRx will start execute your code when you call subscribe method also make sure to handle on error method as well.\r\n\r\n    pdfTicketStorage.store(offlinePrintedTicketInfo.pdfTicketFilePath, offlinePrintedTicketInfo.pdfTicketContent)\r\n     .subscribe(\r\n        { \r\n           result -&gt;\r\n             //here is your result \r\n         }, \r\n        {\r\n           error -&gt;\r\n             //this is when file not found or eny error thrown\r\n         })","title":"Not able to execute anything that is inside Single.create - rxjava","body":"<blockquote>\n<p>You forgot to call subscribe method</p>\n</blockquote>\n<p>Rx will start execute your code when you call subscribe method also make sure to handle on error method as well.</p>\n<pre><code>pdfTicketStorage.store(offlinePrintedTicketInfo.pdfTicketFilePath, offlinePrintedTicketInfo.pdfTicketContent)\n .subscribe(\n    { \n       result -&gt;\n         //here is your result \n     }, \n    {\n       error -&gt;\n         //this is when file not found or eny error thrown\n     })\n</code></pre>\n"}],"owner":{"account_id":3655545,"reputation":4052,"user_id":3046669,"accept_rate":37,"display_name":"BRDroid"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":609,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1663699450,"creation_date":1612484297,"question_id":66055810,"body_markdown":"Hi I have a function `store` which has a Single.create and at the moment there is just a Timber log message.\r\n\r\ncode inside the Single.create does not get executed.\r\n\r\n    public Single&lt;String&gt; store(final String filePath, final byte[] fileContents) {\r\n    \r\n        Timber.d(&quot;inside store method&quot;);\r\n    \r\n            Single&lt;String&gt; single = Single.create(subscriber -&gt; {\r\n                Timber.d(&quot;Inside single&quot;);\r\n            });\r\n    \r\n            return single.subscribeOn(Schedulers.io());\r\n        }\r\n    }\r\n\r\nThis Store function gets called from two places one is from the class where it is living in which works fine, but when I call it from a different class code inside the Single.create does not get executed.\r\n\r\nThe call which does not work is called from a kotlin class\r\n\r\nAny suggestions of why this might be happening?\r\n\r\nyour help suggestion will be much appreciated.\r\n\r\nthanks\r\nR\r\n\r\nEdit\r\n\r\nSingle.create which is rx package\r\n\r\n \r\n\r\n       /**\r\n     * Returns a Single that will execute the specified function when a {@link SingleSubscriber} executes it or\r\n     * a {@link Subscriber} subscribes to it.\r\n     * &lt;p&gt;\r\n     * &lt;img width=&quot;640&quot; height=&quot;200&quot; src=&quot;https://raw.github.com/wiki/ReactiveX/RxJava/images/rx-operators/Single.create.png&quot; alt=&quot;&quot;&gt;\r\n     * &lt;p&gt;\r\n     * Write the function you pass to {@code create} so that it behaves as a Single: It should invoke the\r\n     * SingleSubscriber {@link SingleSubscriber#onSuccess onSuccess} and/or\r\n     * {@link SingleSubscriber#onError onError} methods appropriately.\r\n     * &lt;p&gt;\r\n     * A well-formed Single must invoke either the SingleSubscriber&#39;s {@code onSuccess} method exactly once or\r\n     * its {@code onError} method exactly once.\r\n     * &lt;p&gt;\r\n     * &lt;dl&gt;\r\n     * &lt;dt&gt;&lt;b&gt;Scheduler:&lt;/b&gt;&lt;/dt&gt;\r\n     * &lt;dd&gt;{@code create} does not operate by default on a particular {@link Scheduler}.&lt;/dd&gt;\r\n     * &lt;/dl&gt;\r\n     *\r\n     * @param &lt;T&gt;\r\n     *            the type of the item that this Single emits\r\n     * @param f\r\n     *            a function that accepts an {@code SingleSubscriber&lt;T&gt;}, and invokes its {@code onSuccess} or\r\n     *            {@code onError} methods as appropriate\r\n     * @return a Single that, when a {@link Subscriber} subscribes to it, will execute the specified function\r\n     * @see &lt;a href=&quot;http://reactivex.io/documentation/operators/create.html&quot;&gt;ReactiveX operators documentation: Create&lt;/a&gt;\r\n     */\r\n    public static &lt;T&gt; Single&lt;T&gt; create(OnSubscribe&lt;T&gt; f) {\r\n        return new Single&lt;T&gt;(f);\r\n    }\r\n\r\nThis is how I call from kotlin\r\n\r\n     val result = pdfTicketStorage.store(offlinePrintedTicketInfo.pdfTicketFilePath, offlinePrintedTicketInfo.pdfTicketContent)\r\n            Timber.d(&quot;OfflineDataLib - postPrintedTicket - result - &quot; + result )","title":"Not able to execute anything that is inside Single.create - rxjava","body":"<p>Hi I have a function <code>store</code> which has a Single.create and at the moment there is just a Timber log message.</p>\n<p>code inside the Single.create does not get executed.</p>\n<pre><code>public Single&lt;String&gt; store(final String filePath, final byte[] fileContents) {\n\n    Timber.d(&quot;inside store method&quot;);\n\n        Single&lt;String&gt; single = Single.create(subscriber -&gt; {\n            Timber.d(&quot;Inside single&quot;);\n        });\n\n        return single.subscribeOn(Schedulers.io());\n    }\n}\n</code></pre>\n<p>This Store function gets called from two places one is from the class where it is living in which works fine, but when I call it from a different class code inside the Single.create does not get executed.</p>\n<p>The call which does not work is called from a kotlin class</p>\n<p>Any suggestions of why this might be happening?</p>\n<p>your help suggestion will be much appreciated.</p>\n<p>thanks\nR</p>\n<p>Edit</p>\n<p>Single.create which is rx package</p>\n<pre><code>   /**\n * Returns a Single that will execute the specified function when a {@link SingleSubscriber} executes it or\n * a {@link Subscriber} subscribes to it.\n * &lt;p&gt;\n * &lt;img width=&quot;640&quot; height=&quot;200&quot; src=&quot;https://raw.github.com/wiki/ReactiveX/RxJava/images/rx-operators/Single.create.png&quot; alt=&quot;&quot;&gt;\n * &lt;p&gt;\n * Write the function you pass to {@code create} so that it behaves as a Single: It should invoke the\n * SingleSubscriber {@link SingleSubscriber#onSuccess onSuccess} and/or\n * {@link SingleSubscriber#onError onError} methods appropriately.\n * &lt;p&gt;\n * A well-formed Single must invoke either the SingleSubscriber's {@code onSuccess} method exactly once or\n * its {@code onError} method exactly once.\n * &lt;p&gt;\n * &lt;dl&gt;\n * &lt;dt&gt;&lt;b&gt;Scheduler:&lt;/b&gt;&lt;/dt&gt;\n * &lt;dd&gt;{@code create} does not operate by default on a particular {@link Scheduler}.&lt;/dd&gt;\n * &lt;/dl&gt;\n *\n * @param &lt;T&gt;\n *            the type of the item that this Single emits\n * @param f\n *            a function that accepts an {@code SingleSubscriber&lt;T&gt;}, and invokes its {@code onSuccess} or\n *            {@code onError} methods as appropriate\n * @return a Single that, when a {@link Subscriber} subscribes to it, will execute the specified function\n * @see &lt;a href=&quot;http://reactivex.io/documentation/operators/create.html&quot;&gt;ReactiveX operators documentation: Create&lt;/a&gt;\n */\npublic static &lt;T&gt; Single&lt;T&gt; create(OnSubscribe&lt;T&gt; f) {\n    return new Single&lt;T&gt;(f);\n}\n</code></pre>\n<p>This is how I call from kotlin</p>\n<pre><code> val result = pdfTicketStorage.store(offlinePrintedTicketInfo.pdfTicketFilePath, offlinePrintedTicketInfo.pdfTicketContent)\n        Timber.d(&quot;OfflineDataLib - postPrintedTicket - result - &quot; + result )\n</code></pre>\n"},{"tags":["java","selenium","environment-variables","appium","appium-android"],"comments":[{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1663700737,"post_id":73791292,"comment_id":130300575,"body_markdown":"sounds like it&#39;s looking for run-time (JRE) not the JDK.   You could probably just re-install Java JRE to fix this.","body":"sounds like it&#39;s looking for run-time (JRE) not the JDK.   You could probably just re-install Java JRE to fix this."},{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1663703478,"post_id":73791292,"comment_id":130301417,"body_markdown":"if installing the JRE doesn&#39;t help, check your PATH environmental variable to be sure it&#39;s pointing to the &quot;bin&quot; directory that contains &quot;java.exe&quot;.  (and double-check it for multiple entries)","body":"if installing the JRE doesn&#39;t help, check your PATH environmental variable to be sure it&#39;s pointing to the &quot;bin&quot; directory that contains &quot;java.exe&quot;.  (and double-check it for multiple entries)"},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1663704906,"post_id":73791292,"comment_id":130301788,"body_markdown":"No experience with Appium, but this problem is not unique for that scenario. How exactly to you start the Appium Inspector?","body":"No experience with Appium, but this problem is not unique for that scenario. How exactly to you start the Appium Inspector?"},{"owner":{"account_id":25643144,"reputation":1,"user_id":19575912,"display_name":"bounyh"},"score":0,"creation_date":1663705916,"post_id":73791292,"comment_id":130302077,"body_markdown":"@pcalkins I figured it out appium just had a seperate config pannel for environment variables that I needed to correct. Thank you for the help though","body":"@pcalkins I figured it out appium just had a seperate config pannel for environment variables that I needed to correct. Thank you for the help though"},{"owner":{"account_id":25643144,"reputation":1,"user_id":19575912,"display_name":"bounyh"},"score":0,"creation_date":1663705960,"post_id":73791292,"comment_id":130302091,"body_markdown":"@cyberbrain it&#39;s through a GUI separately installed from appium. but I figured it out appium just had a separate config panel for environment variables that I needed to correct. Thank you for the help though","body":"@cyberbrain it&#39;s through a GUI separately installed from appium. but I figured it out appium just had a separate config panel for environment variables that I needed to correct. Thank you for the help though"},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1663706086,"post_id":73791292,"comment_id":130302124,"body_markdown":"If possible I would recommend not to set the environment variable `JAVA_HOME` in that configuration but try to use the &quot;incoming&quot; value from the operating system. This is no value that is dependent on an installed application - if you don&#39;t include a JDK in your installation as well.","body":"If possible I would recommend not to set the environment variable <code>JAVA_HOME</code> in that configuration but try to use the &quot;incoming&quot; value from the operating system. This is no value that is dependent on an installed application - if you don&#39;t include a JDK in your installation as well."}],"owner":{"account_id":25643144,"reputation":1,"user_id":19575912,"display_name":"bounyh"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":390,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1663699292,"creation_date":1663699292,"question_id":73791292,"body_markdown":"Appium Inspector seems to think my [JAVA_HOME is set to C:\\Program Files\\Java\\bin][1]\r\n\r\n\r\nHowever, [JAVA_HOME is set to C:\\Program Files\\Java\\jdk1.8.0_341][2]\r\n\r\nWhich is probably why I think I am unable to start the appium session getting this message: \r\n\r\n&gt; Original error: The &#39;java.exe&#39; binary could not be found neither in PATH nor under JAVA_HOME (C:\\Program Files\\Java\\bin)\r\n\r\nI also have %JAVA_HOME%\\bin in my PATH, so I&#39;m unable to figure out why appium is detecting the wrong path for my JAVA_HOME variable. Any help would be appreciated.\r\n\r\n  [1]: https://i.stack.imgur.com/q5Lze.png\r\n  [2]: https://i.stack.imgur.com/5KRub.png","title":"Appium Inspector displaying the wrong JAVA_HOME","body":"<p>Appium Inspector seems to think my <a href=\"https://i.stack.imgur.com/q5Lze.png\" rel=\"nofollow noreferrer\">JAVA_HOME is set to C:\\Program Files\\Java\\bin</a></p>\n<p>However, <a href=\"https://i.stack.imgur.com/5KRub.png\" rel=\"nofollow noreferrer\">JAVA_HOME is set to C:\\Program Files\\Java\\jdk1.8.0_341</a></p>\n<p>Which is probably why I think I am unable to start the appium session getting this message:</p>\n<blockquote>\n<p>Original error: The 'java.exe' binary could not be found neither in PATH nor under JAVA_HOME (C:\\Program Files\\Java\\bin)</p>\n</blockquote>\n<p>I also have %JAVA_HOME%\\bin in my PATH, so I'm unable to figure out why appium is detecting the wrong path for my JAVA_HOME variable. Any help would be appreciated.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8971,"page":1021,"page_size":100}
