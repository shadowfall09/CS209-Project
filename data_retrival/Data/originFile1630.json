{"items":[{"tags":["java","android","android-permissions"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1643733736,"post_id":70943251,"comment_id":125415917,"body_markdown":"Why dont you create your folder in a public directory like Documents?","body":"Why dont you create your folder in a public directory like Documents?"},{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1643734531,"post_id":70943251,"comment_id":125416258,"body_markdown":"&quot;What additional code do I need to allow creating a folder in ROOT on Android 11+?&quot; -- that is not an option for most apps. Your only viable option for that is `MANAGE_EXTERNAL_STORAGE`, which, as you note, is likely to cause your app to be rejected by Google. As blackapps suggests in an answer, use `ACTION_OPEN_DOCUMENT_TREE`, and let the user decide where on the user&#39;s device (or in the user&#39;s cloud storage) the user wants you to put the user&#39;s content.","body":"&quot;What additional code do I need to allow creating a folder in ROOT on Android 11+?&quot; -- that is not an option for most apps. Your only viable option for that is <code>MANAGE_EXTERNAL_STORAGE</code>, which, as you note, is likely to cause your app to be rejected by Google. As blackapps suggests in an answer, use <code>ACTION_OPEN_DOCUMENT_TREE</code>, and let the user decide where on the user&#39;s device (or in the user&#39;s cloud storage) the user wants you to put the user&#39;s content."},{"owner":{"account_id":3930168,"reputation":243,"user_id":3249103,"accept_rate":44,"display_name":"ng-User"},"score":0,"creation_date":1643736638,"post_id":70943251,"comment_id":125417127,"body_markdown":"@blackapps: As described above, this would be possible, but more for users with Android11+. It becomes problematic if a user previously had Android 10 and switched to 11. Of course, in such a case, the user could copy the content from the old to the new folder in Documents, but not everyone is tech-savvy. It would just be more elegant if it would continue to work without any problems and user activity.","body":"@blackapps: As described above, this would be possible, but more for users with Android11+. It becomes problematic if a user previously had Android 10 and switched to 11. Of course, in such a case, the user could copy the content from the old to the new folder in Documents, but not everyone is tech-savvy. It would just be more elegant if it would continue to work without any problems and user activity."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":1,"creation_date":1643737959,"post_id":70943251,"comment_id":125417676,"body_markdown":"There is no reason to copy content. All can stay in place. Just let the user select the old directory once.","body":"There is no reason to copy content. All can stay in place. Just let the user select the old directory once."}],"answers":[{"tags":[],"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643730213,"creation_date":1643730213,"answer_id":70943357,"question_id":70943251,"body_markdown":"Use ACTION_OPEN_DOCUMENT_TREE to let the user create the wanted directory.","title":"Android | Creating Folder in External Storage Root Directory on Android 11+","body":"<p>Use ACTION_OPEN_DOCUMENT_TREE to let the user create the wanted directory.</p>\n"}],"owner":{"account_id":3930168,"reputation":243,"user_id":3249103,"accept_rate":44,"display_name":"ng-User"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1012,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643730213,"creation_date":1643729734,"question_id":70943251,"body_markdown":"As is well known, Google turned the authorization concept upside down from Android 11 and completely changed it.\r\n\r\nI looked in the Android documentation jungle, but didn&#39;t find an answer to the question of whether it&#39;s still possible to create a folder in the root directory of External Storage (named /storage/emulated/0/). **If yes, how?**\r\n\r\nMy app writes at android &lt;= 10 in root. \r\n\r\n**interim solution could be like this:**\r\n\r\n   \r\n\r\n     public static String getStorageDir(){\r\n    \r\n            if(android.os.Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.R) {\r\n                String path = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOCUMENTS).getAbsolutePath() + &quot;/myNewFolder&quot;;\r\n                ....\r\n\r\n            } else {\r\n    \r\n            String path = Environment.getExternalStorageDirectory().getAbsolutePath() + &quot;/myNewFolder&quot;;\r\n            ...\r\n        }\r\n\r\nBut that is suboptimal. If a user switches from Android 10 to Android 11+, then there is a big problem. What additional code do I need to allow creating a folder in ROOT on Android 11+?\r\n\r\n\r\n\r\n\r\nIt is claimed that Google Play denies &quot;MANAGE_ALL_FILES&quot; permission directly. Is that true and is it still the case? Does anyone have experience with this?\r\n","title":"Android | Creating Folder in External Storage Root Directory on Android 11+","body":"<p>As is well known, Google turned the authorization concept upside down from Android 11 and completely changed it.</p>\n<p>I looked in the Android documentation jungle, but didn't find an answer to the question of whether it's still possible to create a folder in the root directory of External Storage (named /storage/emulated/0/). <strong>If yes, how?</strong></p>\n<p>My app writes at android &lt;= 10 in root.</p>\n<p><strong>interim solution could be like this:</strong></p>\n<pre><code> public static String getStorageDir(){\n\n        if(android.os.Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.R) {\n            String path = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOCUMENTS).getAbsolutePath() + &quot;/myNewFolder&quot;;\n            ....\n\n        } else {\n\n        String path = Environment.getExternalStorageDirectory().getAbsolutePath() + &quot;/myNewFolder&quot;;\n        ...\n    }\n</code></pre>\n<p>But that is suboptimal. If a user switches from Android 10 to Android 11+, then there is a big problem. What additional code do I need to allow creating a folder in ROOT on Android 11+?</p>\n<p>It is claimed that Google Play denies &quot;MANAGE_ALL_FILES&quot; permission directly. Is that true and is it still the case? Does anyone have experience with this?</p>\n"},{"tags":["java","tomcat","nullpointerexception"],"answers":[{"tags":[],"owner":{"account_id":2776533,"reputation":21,"user_id":2390015,"display_name":"TBTB"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643724857,"creation_date":1643724857,"answer_id":70942049,"question_id":70942048,"body_markdown":"According to &lt;https://bz.apache.org/bugzilla/show_bug.cgi?id=47655#c9&gt;\r\njava.lang.NullPointerException in MimeHeaders can only be a result of concurrent calls to response.setHeader and/or response.addHeader.  \r\nFrom there it was easy to find the concurrent calls on the same response instance in our code.","title":"Java NullPointerException in MimeHeaders.clear and MimeHeaders.getValue in tomcat","body":"<p>According to <a href=\"https://bz.apache.org/bugzilla/show_bug.cgi?id=47655#c9\" rel=\"nofollow noreferrer\">https://bz.apache.org/bugzilla/show_bug.cgi?id=47655#c9</a>\njava.lang.NullPointerException in MimeHeaders can only be a result of concurrent calls to response.setHeader and/or response.addHeader.<br />\nFrom there it was easy to find the concurrent calls on the same response instance in our code.</p>\n"}],"owner":{"account_id":2776533,"reputation":21,"user_id":2390015,"display_name":"TBTB"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":836,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643730076,"creation_date":1643724857,"question_id":70942048,"body_markdown":"Recently our devops noticed that our production servers are getting many java.lang.NullPointerException errors:\r\n\r\n1. The issue is outside the scope of our code so we do not know which endpoint is the culprit and we do not have a direction to look at\r\n2. The exceptions always arrive in triplets (see below)\r\n3. The system runs on many servers with a lot of throughput\r\n4. The system is currently running an old version of tomcat (tomcat6)\r\n\r\nThe errors:\r\n\r\n     Jan 26, 2022 5:53:05 PM org.apache.coyote.http11.Http11Processor process\r\n            SEVERE: Error processing request\r\n            java.lang.NullPointerException\r\n            at org.apache.tomcat.util.http.MimeHeaders.clear(MimeHeaders.java:152)\r\n            at org.apache.coyote.Response.reset(Response.java:292)\r\n            at org.apache.catalina.connector.Response.reset(Response.java:659)\r\n            at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:119)\r\n            at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109)\r\n            at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:293)\r\n            at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:861)\r\n            at org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:606)\r\n            at org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:489)\r\n            at java.lang.Thread.run(Thread.java:748)\r\n\r\n      Jan 26, 2022 5:53:05 PM org.apache.coyote.http11.Http11Processor process\r\n            SEVERE: Error finishing response\r\n            java.lang.NullPointerException\r\n            at org.apache.tomcat.util.http.MimeHeaders.getValue(MimeHeaders.java:324)\r\n            at org.apache.coyote.http11.Http11Processor.prepareResponse(Http11Processor.java:1617)\r\n            at org.apache.coyote.http11.Http11Processor.action(Http11Processor.java:958)\r\n            at org.apache.coyote.Response.action(Response.java:184)\r\n            at org.apache.coyote.http11.InternalOutputBuffer.endRequest(InternalOutputBuffer.java:403)\r\n            at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:903)\r\n            at org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:606)\r\n            at org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:489)\r\n            at java.lang.Thread.run(Thread.java:748)\r\n\r\n       Jan 26, 2022 5:53:05 PM org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler process\r\n            SEVERE: Error reading request, ignored\r\n            java.lang.NullPointerException\r\n            at org.apache.tomcat.util.http.MimeHeaders.clear(MimeHeaders.java:152)\r\n            at org.apache.coyote.Response.recycle(Response.java:552)\r\n            at org.apache.coyote.http11.InternalOutputBuffer.nextRequest(InternalOutputBuffer.java:373)\r\n            at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:925)\r\n            at org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:606)\r\n            at org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:489)\r\n            at java.lang.Thread.run(Thread.java:748)\r\n\r\nWhat we tried:\r\n1. We ran traffic to an upgraded server (tomcat 9) - the issue persists\r\n2. Rolling back version (assuming it is a new issue) - it turns out that the issue is old \r\n3. Reproducing in development environment with standard scenarios - does not reproduce\r\n\r\n","title":"Java NullPointerException in MimeHeaders.clear and MimeHeaders.getValue in tomcat","body":"<p>Recently our devops noticed that our production servers are getting many java.lang.NullPointerException errors:</p>\n<ol>\n<li>The issue is outside the scope of our code so we do not know which endpoint is the culprit and we do not have a direction to look at</li>\n<li>The exceptions always arrive in triplets (see below)</li>\n<li>The system runs on many servers with a lot of throughput</li>\n<li>The system is currently running an old version of tomcat (tomcat6)</li>\n</ol>\n<p>The errors:</p>\n<pre><code> Jan 26, 2022 5:53:05 PM org.apache.coyote.http11.Http11Processor process\n        SEVERE: Error processing request\n        java.lang.NullPointerException\n        at org.apache.tomcat.util.http.MimeHeaders.clear(MimeHeaders.java:152)\n        at org.apache.coyote.Response.reset(Response.java:292)\n        at org.apache.catalina.connector.Response.reset(Response.java:659)\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:119)\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109)\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:293)\n        at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:861)\n        at org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:606)\n        at org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:489)\n        at java.lang.Thread.run(Thread.java:748)\n\n  Jan 26, 2022 5:53:05 PM org.apache.coyote.http11.Http11Processor process\n        SEVERE: Error finishing response\n        java.lang.NullPointerException\n        at org.apache.tomcat.util.http.MimeHeaders.getValue(MimeHeaders.java:324)\n        at org.apache.coyote.http11.Http11Processor.prepareResponse(Http11Processor.java:1617)\n        at org.apache.coyote.http11.Http11Processor.action(Http11Processor.java:958)\n        at org.apache.coyote.Response.action(Response.java:184)\n        at org.apache.coyote.http11.InternalOutputBuffer.endRequest(InternalOutputBuffer.java:403)\n        at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:903)\n        at org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:606)\n        at org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:489)\n        at java.lang.Thread.run(Thread.java:748)\n\n   Jan 26, 2022 5:53:05 PM org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler process\n        SEVERE: Error reading request, ignored\n        java.lang.NullPointerException\n        at org.apache.tomcat.util.http.MimeHeaders.clear(MimeHeaders.java:152)\n        at org.apache.coyote.Response.recycle(Response.java:552)\n        at org.apache.coyote.http11.InternalOutputBuffer.nextRequest(InternalOutputBuffer.java:373)\n        at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:925)\n        at org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:606)\n        at org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:489)\n        at java.lang.Thread.run(Thread.java:748)\n</code></pre>\n<p>What we tried:</p>\n<ol>\n<li>We ran traffic to an upgraded server (tomcat 9) - the issue persists</li>\n<li>Rolling back version (assuming it is a new issue) - it turns out that the issue is old</li>\n<li>Reproducing in development environment with standard scenarios - does not reproduce</li>\n</ol>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":6343120,"reputation":1818,"user_id":4924460,"accept_rate":50,"display_name":"Rahul Giradkar"},"score":0,"creation_date":1558356790,"post_id":56221331,"comment_id":99063196,"body_markdown":"Post all code of this class","body":"Post all code of this class"}],"answers":[{"tags":[],"owner":{"account_id":6343120,"reputation":1818,"user_id":4924460,"accept_rate":50,"display_name":"Rahul Giradkar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1558356914,"creation_date":1558356914,"answer_id":56221466,"question_id":56221331,"body_markdown":"Implement your activity with  onVariationChanged Interface. \r\n\r\n    MainActivity implements onVariationChanged {}\r\n\r\n\r\nand update your code with this\r\n\r\n\r\n\r\n\r\n    @Override\r\n        public void onAttach(Context context) {\r\n            super.onAttach(context);\r\n            try {\r\n                onVariationChanged = (onVariationChanged) getActivity();\r\n            } catch (ClassCastException e) {\r\n                throw new ClassCastException(context.toString() + &quot; must implement onVariationChangedListener&quot;);\r\n            }\r\n        }\r\n\r\n\r\n\r\n\r\n    @Override\r\n    public void onAttach(Context context) {\r\n        super.onAttach(context);\r\n        try {\r\n             onVariationChanged = (onVariationChanged) getActivity();\r\n        } catch (ClassCastException e) {\r\n            throw new ClassCastException(context.toString() + &quot; must implement onVariationChangedListener&quot;);\r\n        }\r\n    }\r\n\r\n","title":"How to initialize the interface callback in fragment if i overriding the interface in another fragment not in activity","body":"<p>Implement your activity with  onVariationChanged Interface. </p>\n\n<pre><code>MainActivity implements onVariationChanged {}\n</code></pre>\n\n<p>and update your code with this</p>\n\n<pre><code>@Override\n    public void onAttach(Context context) {\n        super.onAttach(context);\n        try {\n            onVariationChanged = (onVariationChanged) getActivity();\n        } catch (ClassCastException e) {\n            throw new ClassCastException(context.toString() + \" must implement onVariationChangedListener\");\n        }\n    }\n\n\n\n\n@Override\npublic void onAttach(Context context) {\n    super.onAttach(context);\n    try {\n         onVariationChanged = (onVariationChanged) getActivity();\n    } catch (ClassCastException e) {\n        throw new ClassCastException(context.toString() + \" must implement onVariationChangedListener\");\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5165279,"reputation":1215,"user_id":4135511,"display_name":"Lukas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1558356981,"creation_date":1558356981,"answer_id":56221478,"question_id":56221331,"body_markdown":"I guess your activity which you are attaching `BottomSheetfragment` needs to conform to the `onVariationChanged` interface(`YourActivity implements onVariationChanged...{`. \r\nyou can avoid try / catch with the following:\r\n\r\n```\r\n @Override\r\n    public void onAttach(Context context) {\r\n        super.onAttach(context);\r\n        if(context instanceof onVariationChanged){\r\n           this.onVariationChanged = (onVariationChanged)context;\r\n        }else{\r\n        //handle case when your activity is not castable to onVariationChanged interface\r\n        }\r\n        \r\n    }\r\n```\r\n","title":"How to initialize the interface callback in fragment if i overriding the interface in another fragment not in activity","body":"<p>I guess your activity which you are attaching <code>BottomSheetfragment</code> needs to conform to the <code>onVariationChanged</code> interface(<code>YourActivity implements onVariationChanged...{</code>. \nyou can avoid try / catch with the following:</p>\n\n<pre><code> @Override\n    public void onAttach(Context context) {\n        super.onAttach(context);\n        if(context instanceof onVariationChanged){\n           this.onVariationChanged = (onVariationChanged)context;\n        }else{\n        //handle case when your activity is not castable to onVariationChanged interface\n        }\n\n    }\n</code></pre>\n"}],"owner":{"account_id":15184591,"reputation":19,"user_id":10956980,"display_name":"chandra prakash"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":260,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1643729993,"creation_date":1558356414,"question_id":56221331,"body_markdown":"I&#39;m having a `BottomSheetfragment` where I have written an interface `callback` method and I overriding this methods in some of my activity and in some `fragment`, but not able to initialize the same interface for both `(activity_fragment)` in `onAttach()` method of `BottomSheetfragment`.\r\n\r\n     @Override\r\n        public void onAttach(Context context) {\r\n            super.onAttach(context);\r\n            try {\r\n                onVariationChanged = (onVariationChanged) context;\r\n            } catch (ClassCastException e) {\r\n                throw new ClassCastException(context.toString() + &quot; must implement onVariationChangedListener&quot;);\r\n            }\r\n        }\r\n\r\nI have tried this but it throws  Class cast Exception.\r\n    \r\n    \r\n        @Override\r\n        public void onAttach(Context context) {\r\n            super.onAttach(context);\r\n            try {\r\n                onVariationChanged = (onVariationChanged) context;\r\n            } catch (ClassCastException e) {\r\n                throw new ClassCastException(context.toString() + &quot; must implement onVariationChangedListener&quot;);\r\n            }\r\n        }\r\n    \r\n    \r\n\r\n&gt;  java.lang.ClassCastException:","title":"How to initialize the interface callback in fragment if i overriding the interface in another fragment not in activity","body":"<p>I'm having a <code>BottomSheetfragment</code> where I have written an interface <code>callback</code> method and I overriding this methods in some of my activity and in some <code>fragment</code>, but not able to initialize the same interface for both <code>(activity_fragment)</code> in <code>onAttach()</code> method of <code>BottomSheetfragment</code>.</p>\n\n<pre><code> @Override\n    public void onAttach(Context context) {\n        super.onAttach(context);\n        try {\n            onVariationChanged = (onVariationChanged) context;\n        } catch (ClassCastException e) {\n            throw new ClassCastException(context.toString() + \" must implement onVariationChangedListener\");\n        }\n    }\n</code></pre>\n\n<p>I have tried this but it throws  Class cast Exception.</p>\n\n<pre><code>    @Override\n    public void onAttach(Context context) {\n        super.onAttach(context);\n        try {\n            onVariationChanged = (onVariationChanged) context;\n        } catch (ClassCastException e) {\n            throw new ClassCastException(context.toString() + \" must implement onVariationChangedListener\");\n        }\n    }\n</code></pre>\n\n<blockquote>\n  <p>java.lang.ClassCastException:</p>\n</blockquote>\n"},{"tags":["java","java-8","java-stream"],"comments":[{"owner":{"account_id":11953108,"reputation":1423,"user_id":8746228,"display_name":"adarsh"},"score":1,"creation_date":1636650765,"post_id":69931110,"comment_id":123619879,"body_markdown":"`list.stream().collect(groupingBy(PlayerAndCountry::getCountry,             mapping(PlayerAndCountry::getPlayer, toList())));` Here, `Collectors` is static import: `import static java.util.stream.Collectors.*;`","body":"<code>list.stream().collect(groupingBy(PlayerAndCountry::getCountr&zwnj;&#8203;y,             mapping(PlayerAndCountry::getPlayer, toList())));</code> Here, <code>Collectors</code> is static import: <code>import static java.util.stream.Collectors.*;</code>"}],"answers":[{"tags":[],"owner":{"account_id":18586978,"reputation":2220,"user_id":15000097,"display_name":"Georgii Lvov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1636650685,"creation_date":1636650685,"answer_id":69932271,"question_id":69931110,"body_markdown":"You need to use `Collectors.mapping` to achieve it:\r\n\r\n    Map&lt;Country, List&lt;Player&gt;&gt; collect = list.stream()\r\n            .collect(Collectors.groupingBy(PlayerAndCountry::getCountry,\r\n                    Collectors.mapping(PlayerAndCountry::getPlayer, Collectors.toList()))\r\n            );","title":"Java Stream convert List into Map","body":"<p>You need to use <code>Collectors.mapping</code> to achieve it:</p>\n<pre><code>Map&lt;Country, List&lt;Player&gt;&gt; collect = list.stream()\n        .collect(Collectors.groupingBy(PlayerAndCountry::getCountry,\n                Collectors.mapping(PlayerAndCountry::getPlayer, Collectors.toList()))\n        );\n</code></pre>\n"}],"owner":{"account_id":11210679,"reputation":1241,"user_id":8224838,"display_name":"AntonBoarf"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":69932271,"answer_count":1,"score":-1,"last_activity_date":1643729938,"creation_date":1636645527,"question_id":69931110,"body_markdown":"I have a class `PlayerAndCountry` :\r\n\r\n    class PlayerAndCountry {\r\n        private Country country;\r\n        private Player player;\r\n    }\r\n\r\nAnd a `List&lt;PlayerAndCountry&gt;`\r\n\r\nI would like my final Map like this : `Map&lt;Country,List&lt;Player&gt;&gt;`\r\n\r\nI know how to get `Map&lt;Country, List&lt;PlayerAndCountry&gt;&gt;` but not `Map&lt;Country,List&lt;Player&gt;&gt;`","title":"Java Stream convert List into Map","body":"<p>I have a class <code>PlayerAndCountry</code> :</p>\n<pre><code>class PlayerAndCountry {\n    private Country country;\n    private Player player;\n}\n</code></pre>\n<p>And a <code>List&lt;PlayerAndCountry&gt;</code></p>\n<p>I would like my final Map like this : <code>Map&lt;Country,List&lt;Player&gt;&gt;</code></p>\n<p>I know how to get <code>Map&lt;Country, List&lt;PlayerAndCountry&gt;&gt;</code> but not <code>Map&lt;Country,List&lt;Player&gt;&gt;</code></p>\n"},{"tags":["java","arraylist"],"comments":[{"owner":{"account_id":21825332,"reputation":1219,"user_id":16120911,"display_name":"sittsering"},"score":1,"creation_date":1643728794,"post_id":70942986,"comment_id":125413737,"body_markdown":"Your String `name` is declared static `public static String name;`.  All instances of the class share the same static variable. Remove `static`.","body":"Your String <code>name</code> is declared static <code>public static String name;</code>.  All instances of the class share the same static variable. Remove <code>static</code>."},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":1,"creation_date":1643729046,"post_id":70942986,"comment_id":125413852,"body_markdown":"And you should follow the Java Naming Conventions: method names are written in camelCase, i.e. they start with lowercase.","body":"And you should follow the Java Naming Conventions: method names are written in camelCase, i.e. they start with lowercase."}],"answers":[{"tags":[],"owner":{"account_id":8347952,"reputation":5186,"user_id":6271180,"display_name":"Benoit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1643728920,"creation_date":1643728920,"answer_id":70943051,"question_id":70942986,"body_markdown":"Just remove the keyword `static` in this line:\r\n\r\n    public static String name;\r\n\r\nAlso it&#39;s better to make it `private` too, to preserve encapsulation.","title":"Printing ArrayList contents of type Data gives the wrong output {Java}","body":"<p>Just remove the keyword <code>static</code> in this line:</p>\n<pre><code>public static String name;\n</code></pre>\n<p>Also it's better to make it <code>private</code> too, to preserve encapsulation.</p>\n"},{"tags":[],"owner":{"account_id":1674243,"reputation":10043,"user_id":1553537,"accept_rate":29,"display_name":"Giorgi Tsiklauri"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643729429,"creation_date":1643729070,"answer_id":70943092,"question_id":70942986,"body_markdown":"That&#39;s because the `name` is not an instance variable, it belongs to the class definition, and each time you access it, you are referring to the *same* object reference; while the `age` is an instance variable, which means, for every instance of the class, there will be a distinct copy/reference of/to a different object (which is experienced by your `GetAge()` [*bad naming.. use camelCaseForMethodNames*] call).\r\n\r\nSee how instance variables are propagated [here](https://docs.oracle.com/javase/tutorial/java/javaOO/classvars.html#:~:text=When%20a%20number%20of%20objects,distinct%20copies%20of%20instance%20variables.):\r\n&gt;When a number of objects are created from the same class blueprint, they each have their own distinct copies of instance variables. ","title":"Printing ArrayList contents of type Data gives the wrong output {Java}","body":"<p>That's because the <code>name</code> is not an instance variable, it belongs to the class definition, and each time you access it, you are referring to the <em>same</em> object reference; while the <code>age</code> is an instance variable, which means, for every instance of the class, there will be a distinct copy/reference of/to a different object (which is experienced by your <code>GetAge()</code> [<em>bad naming.. use camelCaseForMethodNames</em>] call).</p>\n<p>See how instance variables are propagated <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/classvars.html#:%7E:text=When%20a%20number%20of%20objects,distinct%20copies%20of%20instance%20variables.\" rel=\"nofollow noreferrer\">here</a>:</p>\n<blockquote>\n<p>When a number of objects are created from the same class blueprint, they each have their own distinct copies of instance variables.</p>\n</blockquote>\n"}],"owner":{"account_id":24122969,"reputation":11,"user_id":18091802,"display_name":"George Dudu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":70943051,"answer_count":2,"score":0,"last_activity_date":1643729429,"creation_date":1643728639,"question_id":70942986,"body_markdown":"I have an ArrayList of type data(that stores a string called name and an integer called age). When printing the contents of the Arraylist, it prints the right age but the same name from the element that I&#39;ve last added. \r\nHere is the PrintCollection method\r\n\r\n    import java.util.*;\r\n    import java.util.Iterator;\r\n    public class Lab5 {\r\n\t  public static void PrintCollection(Collection&lt;Data&gt; c)\r\n\t  {\r\n\t\tfor (Iterator&lt;Data&gt; iter = c.iterator(); iter.hasNext();)\r\n\t\t{\r\n\t\t\tData x = (Data)iter.next();\r\n\t\t\tx.Print();\r\n\t\t}\r\n\t\tSystem.out.println();\r\n\t  }\r\n\r\n}\r\n\r\n\r\nand here is the class Data\r\n\r\n    import java.util.ArrayList;\r\n    \r\n    public class Data \r\n    {\r\n    \tpublic static String name;\r\n    \tprivate int age;\r\n    \tData(String n,int a)\r\n    \t{\r\n    \t\tname = n;\r\n    \t\tage = a;\r\n    \t}\r\n    \tpublic String GetName()\r\n    \t{\r\n    \t\treturn(name);\r\n    \t}\r\n    \tpublic void SetName(String n)\r\n    \t{\r\n    \t\tname = n;\r\n    \t}\r\n    \tpublic int GetAge()\r\n    \t{\r\n    \t\treturn(age);\r\n    \t}\r\n    \tpublic void SetAge(int a)\r\n    \t{\r\n    \t\tage = a;\r\n    \t}\r\n    \tpublic void Print()\r\n    \t{\r\n    \t\tSystem.out.print((&quot;(&quot;+GetName()));\r\n    \t\tSystem.out.print(&quot;,&quot;);\r\n    \t\tSystem.out.print(GetAge());\r\n    \t\tSystem.out.print(&quot;) &quot;);\r\n    \t}\r\n    \tpublic static void main(String args[])\r\n    \t{\r\n    \t\tArrayList&lt;Data&gt; array = new ArrayList&lt;Data&gt;();\r\n    \t\tData x = new Data(&quot;Fred&quot;,21);\r\n    \t\tarray.add(x);\r\n    \t\tData y = new Data(&quot;Jo&quot;,43);\r\n    \t\tarray.add(y);\r\n    \t\tData z = new Data(&quot;Zoe&quot;,37);\r\n    \t\tarray.add(z);\r\n    \t\tLab5.PrintCollection(array);\r\n    \t}\r\n    \r\n    }","title":"Printing ArrayList contents of type Data gives the wrong output {Java}","body":"<p>I have an ArrayList of type data(that stores a string called name and an integer called age). When printing the contents of the Arraylist, it prints the right age but the same name from the element that I've last added.\nHere is the PrintCollection method</p>\n<pre><code>import java.util.*;\nimport java.util.Iterator;\npublic class Lab5 {\n  public static void PrintCollection(Collection&lt;Data&gt; c)\n  {\n    for (Iterator&lt;Data&gt; iter = c.iterator(); iter.hasNext();)\n    {\n        Data x = (Data)iter.next();\n        x.Print();\n    }\n    System.out.println();\n  }\n</code></pre>\n<p>}</p>\n<p>and here is the class Data</p>\n<pre><code>import java.util.ArrayList;\n\npublic class Data \n{\n    public static String name;\n    private int age;\n    Data(String n,int a)\n    {\n        name = n;\n        age = a;\n    }\n    public String GetName()\n    {\n        return(name);\n    }\n    public void SetName(String n)\n    {\n        name = n;\n    }\n    public int GetAge()\n    {\n        return(age);\n    }\n    public void SetAge(int a)\n    {\n        age = a;\n    }\n    public void Print()\n    {\n        System.out.print((&quot;(&quot;+GetName()));\n        System.out.print(&quot;,&quot;);\n        System.out.print(GetAge());\n        System.out.print(&quot;) &quot;);\n    }\n    public static void main(String args[])\n    {\n        ArrayList&lt;Data&gt; array = new ArrayList&lt;Data&gt;();\n        Data x = new Data(&quot;Fred&quot;,21);\n        array.add(x);\n        Data y = new Data(&quot;Jo&quot;,43);\n        array.add(y);\n        Data z = new Data(&quot;Zoe&quot;,37);\n        array.add(z);\n        Lab5.PrintCollection(array);\n    }\n\n}\n</code></pre>\n"},{"tags":["java","spring-boot","spring-actuator"],"comments":[{"owner":{"account_id":1473276,"reputation":110999,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":2,"creation_date":1641479208,"post_id":70606716,"comment_id":124818263,"body_markdown":"If you&#39;re using Spring MVC, this may be due to the change to the default path matching strategy: https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.6-Release-Notes#pathpattern-based-path-matching-strategy-for-spring-mvc.","body":"If you&#39;re using Spring MVC, this may be due to the change to the default path matching strategy: <a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.6-Release-Notes#pathpattern-based-path-matching-strategy-for-spring-mvc\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-boot/wiki/&hellip;</a>."},{"owner":{"account_id":8862624,"reputation":141,"user_id":6618543,"display_name":"kirshiyin"},"score":0,"creation_date":1641480754,"post_id":70606716,"comment_id":124818872,"body_markdown":"@AndyWilkinson I tried setting it back to  spring.mvc.pathmatch.matching-strategy to ant-path-matcher but the double slash variant still doesn&#39;t work..","body":"@AndyWilkinson I tried setting it back to  spring.mvc.pathmatch.matching-strategy to ant-path-matcher but the double slash variant still doesn&#39;t work.."},{"owner":{"account_id":1473276,"reputation":110999,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":1,"creation_date":1641481280,"post_id":70606716,"comment_id":124819116,"body_markdown":"As described in the last paragraph of that section in the release notes, that is to be expected: &quot;Note that the path matching strategy for actuator endpoints is not configurable via a configuration property.&quot;","body":"As described in the last paragraph of that section in the release notes, that is to be expected: &quot;Note that the path matching strategy for actuator endpoints is not configurable via a configuration property.&quot;"},{"owner":{"account_id":8862624,"reputation":141,"user_id":6618543,"display_name":"kirshiyin"},"score":0,"creation_date":1641561596,"post_id":70606716,"comment_id":124842173,"body_markdown":"Ok, it makes sense. The path matching strategy was changed and cannot be configured for the actuator endpoints, which is exactly my case.","body":"Ok, it makes sense. The path matching strategy was changed and cannot be configured for the actuator endpoints, which is exactly my case."}],"answers":[{"tags":[],"owner":{"account_id":9978708,"reputation":267,"user_id":7382342,"display_name":"Hardik Uchdadiya"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1641476759,"creation_date":1641476759,"answer_id":70608068,"question_id":70606716,"body_markdown":" 1. Are you able to access actuator endpoint with single slash? like http://localhost:8080/actuator/health\r\n 2. If yes, then did you configure the spring security for your application? There is a configuration you can define where your application will allow consecutive slashes in url.\r\n\r\n    ```\r\n    @Bean\r\n    HttpFirewall httpFirewall() {\r\n        StrictHttpFirewall firewall = new StrictHttpFirewall();\r\n        firewall.setAllowUrlEncodedDoubleSlash(true);\r\n        return firewall;\r\n    }\r\n","title":"Getting 404 Error when URL contains double slash after Spring Boot 2.5 to 2.6 migration","body":"<ol>\n<li><p>Are you able to access actuator endpoint with single slash? like http://localhost:8080/actuator/health</p>\n</li>\n<li><p>If yes, then did you configure the spring security for your application? There is a configuration you can define where your application will allow consecutive slashes in url.</p>\n<pre><code>@Bean\nHttpFirewall httpFirewall() {\n    StrictHttpFirewall firewall = new StrictHttpFirewall();\n    firewall.setAllowUrlEncodedDoubleSlash(true);\n    return firewall;\n}\n</code></pre>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":23924908,"reputation":11,"user_id":17920131,"display_name":"Liang"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642041900,"creation_date":1642041900,"answer_id":70690827,"question_id":70606716,"body_markdown":"here maybe the reason :\r\nPathPattern Based Path Matching Strategy for Spring MVC\r\n\r\nThe default strategy for matching request paths against registered Spring MVC handler mappings has changed from AntPathMatcher to PathPatternParser.\r\n\r\nfix:\r\n```\r\nspring.mvc.pathmatch.matching-strategy=ant-path-matcher\r\n```","title":"Getting 404 Error when URL contains double slash after Spring Boot 2.5 to 2.6 migration","body":"<p>here maybe the reason :\nPathPattern Based Path Matching Strategy for Spring MVC</p>\n<p>The default strategy for matching request paths against registered Spring MVC handler mappings has changed from AntPathMatcher to PathPatternParser.</p>\n<p>fix:</p>\n<pre><code>spring.mvc.pathmatch.matching-strategy=ant-path-matcher\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8862624,"reputation":141,"user_id":6618543,"display_name":"kirshiyin"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1643729414,"creation_date":1643729414,"answer_id":70943167,"question_id":70606716,"body_markdown":"The issue was that the path matching strategy has changed. The actuator path pattern CANNOT be overwritten by \r\n\r\n    spring.mvc.pathmatch.matching-strategy=ant-path-matcher\r\n\r\nThe solution was to manually fix the URLs containing double slashes.\r\n","title":"Getting 404 Error when URL contains double slash after Spring Boot 2.5 to 2.6 migration","body":"<p>The issue was that the path matching strategy has changed. The actuator path pattern CANNOT be overwritten by</p>\n<pre><code>spring.mvc.pathmatch.matching-strategy=ant-path-matcher\n</code></pre>\n<p>The solution was to manually fix the URLs containing double slashes.</p>\n"}],"owner":{"account_id":8862624,"reputation":141,"user_id":6618543,"display_name":"kirshiyin"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6299,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1643729414,"creation_date":1641470030,"question_id":70606716,"body_markdown":"The following URL used to return 200 with Spring Boot 2.5 \r\n\r\nhttp://localhost:8080//actuator/health\r\n\r\nAfter upgrading to 2.6 it no longer works and returns 404 Not Found\r\n\r\nI spotted the error because some of the project&#39;s integration tests were failing (requests returned 404). Then I noticed the double slash, and after removing it, the issue was fixed. \r\n\r\nI just want to understand which feature causes this new behavior?\r\n\r\nI went through the 2.6 [release notes][1] several times, but nothing rings a bell.\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.6-Release-Notes","title":"Getting 404 Error when URL contains double slash after Spring Boot 2.5 to 2.6 migration","body":"<p>The following URL used to return 200 with Spring Boot 2.5</p>\n<p>http://localhost:8080//actuator/health</p>\n<p>After upgrading to 2.6 it no longer works and returns 404 Not Found</p>\n<p>I spotted the error because some of the project's integration tests were failing (requests returned 404). Then I noticed the double slash, and after removing it, the issue was fixed.</p>\n<p>I just want to understand which feature causes this new behavior?</p>\n<p>I went through the 2.6 <a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.6-Release-Notes\" rel=\"nofollow noreferrer\">release notes</a> several times, but nothing rings a bell.</p>\n"},{"tags":["java","apache-commons-csv"],"comments":[{"owner":{"account_id":23685228,"reputation":1103,"user_id":17710270,"display_name":"passer-by"},"score":6,"creation_date":1643477803,"post_id":70907808,"comment_id":125352563,"body_markdown":"*how should I be aware of this behavior* - read the documentation for all classes you use in your program.","body":"<i>how should I be aware of this behavior</i> - read the documentation for all classes you use in your program."}],"answers":[{"tags":[],"owner":{"account_id":2881635,"reputation":2419,"user_id":2472398,"display_name":"gru"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1643572064,"creation_date":1643476372,"answer_id":70907861,"question_id":70907808,"body_markdown":"As you can read in the official docs: [CSVParser#getRecords][1]\r\n\r\n&gt; The returned content starts at the current parse-position in the stream.\r\n\r\nIn your first call of `getRecords`, the parsing position is at the beginning of the stream. When you call it the second time, the stream end is already reached.\r\n\r\nIn general, I would always recommend you to start with the docs. Often, such questions can be easily answered with just little reading. If there are still confusing aspects, the community is of course happy to help you further.\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-csv/apidocs/org/apache/commons/csv/CSVParser.html#getRecords--","title":"Java CSVParser gets empty after reading it","body":"<p>As you can read in the official docs: <a href=\"https://commons.apache.org/proper/commons-csv/apidocs/org/apache/commons/csv/CSVParser.html#getRecords--\" rel=\"nofollow noreferrer\">CSVParser#getRecords</a></p>\n<blockquote>\n<p>The returned content starts at the current parse-position in the stream.</p>\n</blockquote>\n<p>In your first call of <code>getRecords</code>, the parsing position is at the beginning of the stream. When you call it the second time, the stream end is already reached.</p>\n<p>In general, I would always recommend you to start with the docs. Often, such questions can be easily answered with just little reading. If there are still confusing aspects, the community is of course happy to help you further.</p>\n"},{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1643570249,"creation_date":1643570249,"answer_id":70918071,"question_id":70907808,"body_markdown":"It helps to read the documentation of [`CSVParser`](https://commons.apache.org/proper/commons-csv/apidocs/org/apache/commons/csv/CSVParser.html):\r\n\r\n&gt; Parses CSV files according to the specified format. [...] **The parser works record wise. It is not possible to go back, once a record has been parsed from the input stream.**\r\n\r\nAnd a few paragraphs later, under the heading &quot;Parsing into memory&quot;:\r\n\r\n&gt; If parsing record wise is not desired, the contents of the input can be **read completely** into memory.\r\n&gt;\r\n&gt;     Reader in = new StringReader(&quot;a;b\\nc;d&quot;);\r\n&gt;     CSVParser parser = new CSVParser(in, CSVFormat.EXCEL);\r\n&gt;     List&lt;CSVRecord&gt; list = parser.getRecords();\r\n&gt;\r\n&gt; There are two constraints that have to be kept in mind:\r\n&gt;\r\n&gt; 1. **Parsing into memory starts at the current position of the parser. If you have already parsed records from the input, those records will not end up in the in memory representation of your CSV data.**\r\n&gt; 1. Parsing into memory may consume a lot of system resources depending on the input. For example if you&#39;re parsing a 150MB file of CSV data the contents will be read completely into memory.\r\n\r\nWhen you call `records.getRecords()` the first time you are reading the CSV file completely into memory. That together with the fact that &quot;parsing into memory starts at the current position of the parser&quot; means that for the second call there are no more records to parse (because the parser has already read the file completely.)","title":"Java CSVParser gets empty after reading it","body":"<p>It helps to read the documentation of <a href=\"https://commons.apache.org/proper/commons-csv/apidocs/org/apache/commons/csv/CSVParser.html\" rel=\"noreferrer\"><code>CSVParser</code></a>:</p>\n<blockquote>\n<p>Parses CSV files according to the specified format. [...] <strong>The parser works record wise. It is not possible to go back, once a record has been parsed from the input stream.</strong></p>\n</blockquote>\n<p>And a few paragraphs later, under the heading &quot;Parsing into memory&quot;:</p>\n<blockquote>\n<p>If parsing record wise is not desired, the contents of the input can be <strong>read completely</strong> into memory.</p>\n<pre><code>Reader in = new StringReader(&quot;a;b\\nc;d&quot;);\nCSVParser parser = new CSVParser(in, CSVFormat.EXCEL);\nList&lt;CSVRecord&gt; list = parser.getRecords();\n</code></pre>\n<p>There are two constraints that have to be kept in mind:</p>\n<ol>\n<li><strong>Parsing into memory starts at the current position of the parser. If you have already parsed records from the input, those records will not end up in the in memory representation of your CSV data.</strong></li>\n<li>Parsing into memory may consume a lot of system resources depending on the input. For example if you're parsing a 150MB file of CSV data the contents will be read completely into memory.</li>\n</ol>\n</blockquote>\n<p>When you call <code>records.getRecords()</code> the first time you are reading the CSV file completely into memory. That together with the fact that &quot;parsing into memory starts at the current position of the parser&quot; means that for the second call there are no more records to parse (because the parser has already read the file completely.)</p>\n"}],"owner":{"account_id":5600783,"reputation":41,"user_id":8582055,"display_name":"Mohammad"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1238,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"accepted_answer_id":70918071,"answer_count":2,"score":-2,"last_activity_date":1643729410,"creation_date":1643476034,"question_id":70907808,"body_markdown":"In the snippet below I try to read an excel file by using the CSVParser from the Apache Commons library. The question is why `records.getRecords();` makes the list of `records` empty. How should I be aware of this behavior?\r\n\r\n\r\n    import org.apache.commons.csv.CSVFormat;\r\n    import org.apache.commons.csv.CSVParser;\r\n    import org.apache.commons.csv.CSVRecord;\r\n    \r\n    import java.io.FileReader;\r\n    import java.io.IOException;\r\n    import java.io.Reader;\r\n    import java.time.LocalDateTime;\r\n    import java.time.format.DateTimeFormatter;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    public class ReadCSV {\r\n    \r\n        public ReadCSV() {\r\n        }\r\n    \r\n        /* Define headers as enum */\r\n        enum HEADER {\r\n            ID, NAME, AGE\r\n        }\r\n    \r\n        public List&lt;List&lt;String&gt;&gt; ReadCSVToList(String csvPath) throws IOException, HighBalanceException {\r\n            List&lt;List&lt;String&gt;&gt; csvList = new ArrayList&lt;&gt;();\r\n            try {\r\n    \r\n    \r\n                Reader reader = new FileReader(csvPath);\r\n                CSVParser  records = CSVFormat.DEFAULT.withHeader(HEADER.class).parse(reader);\r\n                List&lt;CSVRecord&gt; records1 = records.getRecords();\r\n                System.out.println(records1.size()); // 2\r\n                List&lt;CSVRecord&gt; records2 = records.getRecords();\r\n                System.out.println(records2.size()); // 0","title":"Java CSVParser gets empty after reading it","body":"<p>In the snippet below I try to read an excel file by using the CSVParser from the Apache Commons library. The question is why <code>records.getRecords();</code> makes the list of <code>records</code> empty. How should I be aware of this behavior?</p>\n<pre><code>import org.apache.commons.csv.CSVFormat;\nimport org.apache.commons.csv.CSVParser;\nimport org.apache.commons.csv.CSVRecord;\n\nimport java.io.FileReader;\nimport java.io.IOException;\nimport java.io.Reader;\nimport java.time.LocalDateTime;\nimport java.time.format.DateTimeFormatter;\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class ReadCSV {\n\n    public ReadCSV() {\n    }\n\n    /* Define headers as enum */\n    enum HEADER {\n        ID, NAME, AGE\n    }\n\n    public List&lt;List&lt;String&gt;&gt; ReadCSVToList(String csvPath) throws IOException, HighBalanceException {\n        List&lt;List&lt;String&gt;&gt; csvList = new ArrayList&lt;&gt;();\n        try {\n\n\n            Reader reader = new FileReader(csvPath);\n            CSVParser  records = CSVFormat.DEFAULT.withHeader(HEADER.class).parse(reader);\n            List&lt;CSVRecord&gt; records1 = records.getRecords();\n            System.out.println(records1.size()); // 2\n            List&lt;CSVRecord&gt; records2 = records.getRecords();\n            System.out.println(records2.size()); // 0\n</code></pre>\n"},{"tags":["java","resteasy","quarkus-rest-client"],"answers":[{"tags":[],"owner":{"account_id":3702652,"reputation":53,"user_id":3081914,"display_name":"John-Paul Cunliffe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643729388,"creation_date":1643729388,"answer_id":70943161,"question_id":68754152,"body_markdown":"Quarkus messed up Provider discovery. If you add it manually, the writer can be found. e.g.:\r\n    \r\n    @Provider\r\n    @Produces({&quot;multipart/form-data&quot;})\r\n    public class MultiformWriterProvider extends MultipartFormDataWriter{}","title":"Quarkus-resteasy-multipart could not find writer for content-type multipart/form-data type","body":"<p>Quarkus messed up Provider discovery. If you add it manually, the writer can be found. e.g.:</p>\n<pre><code>@Provider\n@Produces({&quot;multipart/form-data&quot;})\npublic class MultiformWriterProvider extends MultipartFormDataWriter{}\n</code></pre>\n"}],"owner":{"account_id":22443797,"reputation":1,"user_id":16647951,"display_name":"kele yuan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":617,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643729388,"creation_date":1628757570,"question_id":68754152,"body_markdown":"I am working on a project on which server-side I have used REST service for my APIS. If I use the REST service in the main function of a class, it is working fine. But when I calling it from a servlet that using Quarkus-resteasy, it throws exceptions.  The exceptions are as follows.\r\n\r\n    javax.ws.rs.ProcessingException: RESTEASY004655: Unable to invoke request: javax.ws.rs.ProcessingException: RESTEASY003215: could not find writer for content-type multipart/form-data type: org.jboss.resteasy.plugins.providers.multipart.MultipartFormDataOutput\r\n\r\nThe main code of the servlet is as follows.\r\n\r\n        String httpURL = &quot;REST api&quot;;\r\n        String filePath = &quot;filePath&quot;;\r\n        ResteasyClient resteasyClient = null;\r\n        ResteasyWebTarget resteasyWebTarget = null;\r\n        MultipartFormDataOutput multipartFormDataOutput = null;\r\n        GenericEntity&lt;MultipartFormDataOutput&gt; genericEntity = null;\r\n        Response response = null;\r\n\r\n        try{\r\n            resteasyClient = new ResteasyClientBuilderImpl().build();\r\n            resteasyWebTarget = resteasyClient.target(httpURL);\r\n            resteasyWebTarget.property(&quot;Content-Type&quot;, MediaType.MULTIPART_FORM_DATA);\r\n            multipartFormDataOutput = new MultipartFormDataOutput();\r\n            multipartFormDataOutput.addFormData(\r\n                    &quot;file&quot;,\r\n                    new FileInputStream(filePath),\r\n                    MediaType.MULTIPART_FORM_DATA_TYPE,\r\n                    &quot;fileName&quot;);\r\n            genericEntity = new GenericEntity&lt;MultipartFormDataOutput&gt;(multipartFormDataOutput, MultipartFormDataOutput.class);\r\n\r\n            // invoke service\r\n            response = resteasyWebTarget\r\n                           .request()\r\n                           .post(Entity.entity(genericEntity, MediaType.MULTIPART_FORM_DATA));\r\n\r\nThe dependencies of the project are as follows.\r\n\r\n    implementation &#39;io.quarkus:quarkus-rest-client-jackson&#39;\r\n    implementation &#39;io.quarkus:quarkus-rest-client&#39;\r\n    implementation &#39;io.quarkus:quarkus-resteasy-multipart&#39;\r\n    implementation &#39;io.quarkus:quarkus-resteasy&#39;\r\n    implementation &#39;io.quarkus:quarkus-resteasy-jackson&#39;\r\n    implementation &#39;io.quarkus:quarkus-arc&#39;\r\n    testImplementation &#39;io.quarkus:quarkus-junit5&#39;\r\n    testImplementation &#39;io.rest-assured:rest-assured&#39;\r\n\r\nThe strange thing is that the same code in the main function of the class can run well. I have been troubled by this problem for a day, I would be grateful if you could help me.","title":"Quarkus-resteasy-multipart could not find writer for content-type multipart/form-data type","body":"<p>I am working on a project on which server-side I have used REST service for my APIS. If I use the REST service in the main function of a class, it is working fine. But when I calling it from a servlet that using Quarkus-resteasy, it throws exceptions.  The exceptions are as follows.</p>\n<pre><code>javax.ws.rs.ProcessingException: RESTEASY004655: Unable to invoke request: javax.ws.rs.ProcessingException: RESTEASY003215: could not find writer for content-type multipart/form-data type: org.jboss.resteasy.plugins.providers.multipart.MultipartFormDataOutput\n</code></pre>\n<p>The main code of the servlet is as follows.</p>\n<pre><code>    String httpURL = &quot;REST api&quot;;\n    String filePath = &quot;filePath&quot;;\n    ResteasyClient resteasyClient = null;\n    ResteasyWebTarget resteasyWebTarget = null;\n    MultipartFormDataOutput multipartFormDataOutput = null;\n    GenericEntity&lt;MultipartFormDataOutput&gt; genericEntity = null;\n    Response response = null;\n\n    try{\n        resteasyClient = new ResteasyClientBuilderImpl().build();\n        resteasyWebTarget = resteasyClient.target(httpURL);\n        resteasyWebTarget.property(&quot;Content-Type&quot;, MediaType.MULTIPART_FORM_DATA);\n        multipartFormDataOutput = new MultipartFormDataOutput();\n        multipartFormDataOutput.addFormData(\n                &quot;file&quot;,\n                new FileInputStream(filePath),\n                MediaType.MULTIPART_FORM_DATA_TYPE,\n                &quot;fileName&quot;);\n        genericEntity = new GenericEntity&lt;MultipartFormDataOutput&gt;(multipartFormDataOutput, MultipartFormDataOutput.class);\n\n        // invoke service\n        response = resteasyWebTarget\n                       .request()\n                       .post(Entity.entity(genericEntity, MediaType.MULTIPART_FORM_DATA));\n</code></pre>\n<p>The dependencies of the project are as follows.</p>\n<pre><code>implementation 'io.quarkus:quarkus-rest-client-jackson'\nimplementation 'io.quarkus:quarkus-rest-client'\nimplementation 'io.quarkus:quarkus-resteasy-multipart'\nimplementation 'io.quarkus:quarkus-resteasy'\nimplementation 'io.quarkus:quarkus-resteasy-jackson'\nimplementation 'io.quarkus:quarkus-arc'\ntestImplementation 'io.quarkus:quarkus-junit5'\ntestImplementation 'io.rest-assured:rest-assured'\n</code></pre>\n<p>The strange thing is that the same code in the main function of the class can run well. I have been troubled by this problem for a day, I would be grateful if you could help me.</p>\n"},{"tags":["java","android","xml","nfc"],"comments":[{"owner":{"account_id":2755641,"reputation":8688,"user_id":2373819,"display_name":"Andrew"},"score":0,"creation_date":1643723488,"post_id":70941267,"comment_id":125411271,"body_markdown":"Define &quot;Empty Tag&quot; as there are 2 logical types of &quot;Empty Tag&quot;, 1) Contains an Empty Ndef Message or 2) is totally empty but capable of storing Ndef data (These usually appear as Ndef Formatable (which you don&#39;t handle). As I don&#39;t understand what a &quot;Mobile belting message&quot; is?","body":"Define &quot;Empty Tag&quot; as there are 2 logical types of &quot;Empty Tag&quot;, 1) Contains an Empty Ndef Message or 2) is totally empty but capable of storing Ndef data (These usually appear as Ndef Formatable (which you don&#39;t handle). As I don&#39;t understand what a &quot;Mobile belting message&quot; is?"},{"owner":{"account_id":1742906,"reputation":63,"user_id":1593799,"display_name":"Ul Ul Albab"},"score":0,"creation_date":1643726044,"post_id":70941267,"comment_id":125412397,"body_markdown":"&quot;Mobile belting message&quot; --Sorry, I am trying to say my android phone sending its own message while scanning Empty Tag.","body":"&quot;Mobile belting message&quot; --Sorry, I am trying to say my android phone sending its own message while scanning Empty Tag."},{"owner":{"account_id":1742906,"reputation":63,"user_id":1593799,"display_name":"Ul Ul Albab"},"score":0,"creation_date":1643726175,"post_id":70941267,"comment_id":125412454,"body_markdown":"My Tag is totally empty but capable of storing Ndef data.","body":"My Tag is totally empty but capable of storing Ndef data."},{"owner":{"account_id":1742906,"reputation":63,"user_id":1593799,"display_name":"Ul Ul Albab"},"score":0,"creation_date":1643726297,"post_id":70941267,"comment_id":125412520,"body_markdown":"@Andrew : Please let me know how can I handle Ndef Formattable while working in totally empty Tag -- Thank you.","body":"@Andrew : Please let me know how can I handle Ndef Formattable while working in totally empty Tag -- Thank you."}],"answers":[{"tags":[],"owner":{"account_id":2755641,"reputation":8688,"user_id":2373819,"display_name":"Andrew"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1643729358,"creation_date":1643729358,"answer_id":70943157,"question_id":70941267,"body_markdown":"To handle unformatted Ndef Tags change your &quot;nfc_tech_filter.xml&quot; file to the one below:-\r\n\r\n``` lang-xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;resources xmlns:xliff=&quot;urn:oasis:names:tc:xliff:document:1.2&quot;&gt;\r\n    &lt;tech-list&gt;\r\n        &lt;tech&gt;android.nfc.tech.Ndef&lt;/tech&gt;\r\n        &lt;tech&gt;android.nfc.tech.NdefFormatable&lt;/tech&gt;\r\n    &lt;/tech-list&gt;\r\n&lt;/resources&gt;\r\n\r\n```\r\n\r\nThis way your app says it want&#39;s to be notified when a `NdefFormatable` tag is detected, this will stop you seeing the Android OS displaying it&#39;s own message when one of these tags is presented. (The OS will still show a message if a Tag that is never capable of storing an Ndef message is presented)\r\n\r\nThen refactor handling the intent passed by the system to your app to handle tag passed\r\n\r\n``` lang-java\r\nprivate void readFromIntent(Intent intent) {\r\n        String action = intent.getAction();\r\n        if (NfcAdapter.ACTION_NDEF_DISCOVERED.equals(action)) {\r\n            Parcelable[] rawMsgs = intent.getParcelableArrayExtra(NfcAdapter.EXTRA_NDEF_MESSAGES);\r\n            NdefMessage[] msgs = null;\r\n            msgs = new NdefMessage[rawMsgs.length];\r\n            for (int i = 0; i &lt; rawMsgs.length; i++) {\r\n                 msgs[i] = (NdefMessage) rawMsgs[i];\r\n            }\r\n            buildTagViews(msgs);\r\n        }\r\n    }\r\n\r\nprivate void write(String text, Tag tag) throws IOException, FormatException {\r\n        NdefRecord[] records = { createRecord(text) };\r\n        NdefMessage message = new NdefMessage(records);\r\n        // Get an instance of Ndef for the tag.\r\n        Ndef ndef = Ndef.get(tag);\r\n        // If Ndef.get is null then try formatting it and adding message\r\n        if (ndef != null) {\r\n          // Enable I/O\r\n          ndef.connect();\r\n          // Write the message\r\n          ndef.writeNdefMessage(message);\r\n          // Close the connection\r\n          ndef.close();\r\n        } else {\r\n          NdefFormatable ndefFormatable = NdefFormatable.get(tag);\r\n          // Really should do a null test on ndefFormatable here but as the code is looking for an exception don&#39;t test for null\r\n          ndefFormatable.connect();\r\n          // Format at write message at the same time\r\n          ndefFormatable.format(NdefMessage);\r\n          ndefFormatable.close();\r\n        }\r\n    }\r\n\r\n``` \r\n\r\nHopefully this should work, I don&#39;t use the old `enableForegroundDispatch` API any more as it was too unreliable when trying to write to Tags, `enableReaderMode` is much better.\r\n\r\nNote I cleaned up the `readFromIntent` method there is no point in trying to read an Ndef message from a Tag that does not have one as ACTION_NDEF_DISCOVERED is always enumerated before the other Actions if the Tag has an Ndef message on it.\r\n\r\nAlso note that I&#39;ve not fixed fact that `writeNdefMessage` and `format` as per the [docs][1]\r\n\r\n&gt;  It must not be called from the main application thread\r\n\r\nReally it is a lot better to [enableReaderMode][2] API for NFC (Unless you need NFC support below Android API level 19) as Tags with this automatically are handled on a separate thread.\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/nfc/tech/Ndef#writeNdefMessage(android.nfc.NdefMessage)\r\n  [2]: https://developer.android.com/reference/android/nfc/NfcAdapter#enableReaderMode(android.app.Activity,%20android.nfc.NfcAdapter.ReaderCallback,%20int,%20android.os.Bundle)","title":"Empty NFC Tag read and write Android Application. Mobile own message returning while scanning Empty Tag but Application not working?","body":"<p>To handle unformatted Ndef Tags change your &quot;nfc_tech_filter.xml&quot; file to the one below:-</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;resources xmlns:xliff=&quot;urn:oasis:names:tc:xliff:document:1.2&quot;&gt;\n    &lt;tech-list&gt;\n        &lt;tech&gt;android.nfc.tech.Ndef&lt;/tech&gt;\n        &lt;tech&gt;android.nfc.tech.NdefFormatable&lt;/tech&gt;\n    &lt;/tech-list&gt;\n&lt;/resources&gt;\n\n</code></pre>\n<p>This way your app says it want's to be notified when a <code>NdefFormatable</code> tag is detected, this will stop you seeing the Android OS displaying it's own message when one of these tags is presented. (The OS will still show a message if a Tag that is never capable of storing an Ndef message is presented)</p>\n<p>Then refactor handling the intent passed by the system to your app to handle tag passed</p>\n<pre class=\"lang-java prettyprint-override\"><code>private void readFromIntent(Intent intent) {\n        String action = intent.getAction();\n        if (NfcAdapter.ACTION_NDEF_DISCOVERED.equals(action)) {\n            Parcelable[] rawMsgs = intent.getParcelableArrayExtra(NfcAdapter.EXTRA_NDEF_MESSAGES);\n            NdefMessage[] msgs = null;\n            msgs = new NdefMessage[rawMsgs.length];\n            for (int i = 0; i &lt; rawMsgs.length; i++) {\n                 msgs[i] = (NdefMessage) rawMsgs[i];\n            }\n            buildTagViews(msgs);\n        }\n    }\n\nprivate void write(String text, Tag tag) throws IOException, FormatException {\n        NdefRecord[] records = { createRecord(text) };\n        NdefMessage message = new NdefMessage(records);\n        // Get an instance of Ndef for the tag.\n        Ndef ndef = Ndef.get(tag);\n        // If Ndef.get is null then try formatting it and adding message\n        if (ndef != null) {\n          // Enable I/O\n          ndef.connect();\n          // Write the message\n          ndef.writeNdefMessage(message);\n          // Close the connection\n          ndef.close();\n        } else {\n          NdefFormatable ndefFormatable = NdefFormatable.get(tag);\n          // Really should do a null test on ndefFormatable here but as the code is looking for an exception don't test for null\n          ndefFormatable.connect();\n          // Format at write message at the same time\n          ndefFormatable.format(NdefMessage);\n          ndefFormatable.close();\n        }\n    }\n\n</code></pre>\n<p>Hopefully this should work, I don't use the old <code>enableForegroundDispatch</code> API any more as it was too unreliable when trying to write to Tags, <code>enableReaderMode</code> is much better.</p>\n<p>Note I cleaned up the <code>readFromIntent</code> method there is no point in trying to read an Ndef message from a Tag that does not have one as ACTION_NDEF_DISCOVERED is always enumerated before the other Actions if the Tag has an Ndef message on it.</p>\n<p>Also note that I've not fixed fact that <code>writeNdefMessage</code> and <code>format</code> as per the <a href=\"https://developer.android.com/reference/android/nfc/tech/Ndef#writeNdefMessage(android.nfc.NdefMessage)\" rel=\"nofollow noreferrer\">docs</a></p>\n<blockquote>\n<p>It must not be called from the main application thread</p>\n</blockquote>\n<p>Really it is a lot better to <a href=\"https://developer.android.com/reference/android/nfc/NfcAdapter#enableReaderMode(android.app.Activity,%20android.nfc.NfcAdapter.ReaderCallback,%20int,%20android.os.Bundle)\" rel=\"nofollow noreferrer\">enableReaderMode</a> API for NFC (Unless you need NFC support below Android API level 19) as Tags with this automatically are handled on a separate thread.</p>\n"}],"owner":{"account_id":1742906,"reputation":63,"user_id":1593799,"display_name":"Ul Ul Albab"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1164,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70943157,"answer_count":1,"score":0,"last_activity_date":1643729358,"creation_date":1643721669,"question_id":70941267,"body_markdown":"I have make an application for read and write on **NFC TAG**. But, while I am scanning **Empty NFC Tag** after opening my application it not responding as I expected as my Application Toast Message &quot;Tag is empty&quot;. But, when I close my application then I receiving Mobile belting message. \r\n\r\nBasically, I need the help as following: \r\n\r\n1. **Detect Empty NFC Tag from my application.**\r\n2. **Write Server information in that Empty Tag.**\r\n3. **After then reading that information from that Tag.**\r\n\r\nI am including my code here.\r\n\r\n**AndroidManifest.xml**\r\n\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        package=&quot;com.mylab.myapplication&quot;&gt;\r\n    \r\n        &lt;uses-permission android:name=&quot;android.permission.NFC&quot; /&gt;\r\n        &lt;uses-feature android:name=&quot;android.hardware.nfc&quot; android:required=&quot;true&quot; /&gt;\r\n    \r\n        &lt;application\r\n            android:allowBackup=&quot;true&quot;\r\n            android:icon=&quot;@mipmap/ic_launcher&quot;\r\n            android:label=&quot;@string/app_name&quot;\r\n            android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n            android:supportsRtl=&quot;true&quot;\r\n            android:theme=&quot;@style/Theme.MyApplication&quot;&gt;\r\n            &lt;activity\r\n                android:name=&quot;.MainActivity&quot;\r\n                android:exported=&quot;true&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n    \r\n                    &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n    \r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.nfc.action.NDEF_DISCOVERED&quot; /&gt;\r\n                    &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n                    &lt;data android:mimeType=&quot;text/plain&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n                &lt;meta-data\r\n                    android:name=&quot;android.nfc.action.TECH_DISCOVERED&quot;\r\n                    android:resource=&quot;@xml/nfc_tech_filter&quot; /&gt;\r\n            &lt;/activity&gt;\r\n        &lt;/application&gt;\r\n    \r\n    &lt;/manifest&gt;\r\n\r\n**activity_main.xml**\r\n\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:layout_width=&quot;fill_parent&quot;\r\n        android:layout_height=&quot;fill_parent&quot;\r\n        android:orientation=&quot;vertical&quot; &gt;\r\n    \r\n        &lt;TextView\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;Write a message: &quot;&gt;\r\n        &lt;/TextView&gt;\r\n    \r\n        &lt;LinearLayout\r\n            xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginTop=&quot;20sp&quot; &gt;\r\n    \r\n            &lt;EditText\r\n                android:id=&quot;@+id/edit_message&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_weight=&quot;2&quot;\r\n                android:hint=&quot;message&quot; /&gt;\r\n            &lt;Button\r\n                android:id=&quot;@+id/button&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_weight=&quot;1&quot;\r\n                android:text=&quot;Write&quot; /&gt;\r\n        &lt;/LinearLayout&gt;\r\n        &lt;TextView\r\n            android:id=&quot;@+id/nfc_contents&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            /&gt;\r\n    &lt;/LinearLayout&gt;\r\n\r\n**nfc_tech_filter.xml**\r\n\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;resources xmlns:xliff=&quot;urn:oasis:names:tc:xliff:document:1.2&quot;&gt;\r\n        &lt;tech-list&gt;\r\n            &lt;tech&gt;android.nfc.tech.Ndef&lt;/tech&gt;\r\n            &lt;!-- class name --&gt;\r\n        &lt;/tech-list&gt;\r\n    &lt;/resources&gt;\r\n\r\n**MainActivity.java**\r\n\r\n        public class MainActivity extends AppCompatActivity {\r\n    \r\n        public static final String ERROR_DETECTED = &quot;No NFC tag detected!&quot;;\r\n        public static final String WRITE_SUCCESS = &quot;Text written to the NFC tag successfully!&quot;;\r\n        public static final String WRITE_ERROR = &quot;Error during writing, is the NFC tag close enough to your device?&quot;;\r\n        NfcAdapter nfcAdapter;\r\n        PendingIntent pendingIntent;\r\n        IntentFilter writeTagFilters[];\r\n        boolean writeMode;\r\n        Tag myTag;\r\n        Context context;\r\n    \r\n        TextView tvNFCContent;\r\n        TextView message;\r\n        Button btnWrite;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n            context = this;\r\n    \r\n            tvNFCContent = (TextView) findViewById(R.id.nfc_contents);\r\n            message = (TextView) findViewById(R.id.edit_message);\r\n            btnWrite = (Button) findViewById(R.id.button);\r\n    \r\n            btnWrite.setOnClickListener(new View.OnClickListener()\r\n            {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    try {\r\n                        if(myTag ==null) {\r\n                            Toast.makeText(context, ERROR_DETECTED, Toast.LENGTH_LONG).show();\r\n                        } else {\r\n                            write(message.getText().toString(), myTag);\r\n                            Toast.makeText(context, WRITE_SUCCESS, Toast.LENGTH_LONG ).show();\r\n                        }\r\n                    } catch (IOException e) {\r\n                        Toast.makeText(context, WRITE_ERROR, Toast.LENGTH_LONG ).show();\r\n                        e.printStackTrace();\r\n                    } catch (FormatException e) {\r\n                        Toast.makeText(context, WRITE_ERROR, Toast.LENGTH_LONG ).show();\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n            });\r\n    \r\n            nfcAdapter = NfcAdapter.getDefaultAdapter(this);\r\n            if (nfcAdapter == null) {\r\n                // Stop here, we definitely need NFC\r\n                Toast.makeText(this, &quot;This device doesn&#39;t support NFC.&quot;, Toast.LENGTH_LONG).show();\r\n                finish();\r\n            }\r\n            readFromIntent(getIntent());\r\n    \r\n            pendingIntent = PendingIntent.getActivity(this, 0, new Intent(this, getClass()).addFlags(Intent.FLAG_ACTIVITY_SINGLE_TOP), 0);\r\n            IntentFilter tagDetected = new IntentFilter(NfcAdapter.ACTION_TAG_DISCOVERED);\r\n            tagDetected.addCategory(Intent.CATEGORY_DEFAULT);\r\n            writeTagFilters = new IntentFilter[] { tagDetected };\r\n        }\r\n    \r\n        /******************************************************************************\r\n         **********************************Read From NFC Tag***************************\r\n         ******************************************************************************/\r\n        private void readFromIntent(Intent intent) {\r\n            String action = intent.getAction();\r\n            if (NfcAdapter.ACTION_TAG_DISCOVERED.equals(action)\r\n                    || NfcAdapter.ACTION_TECH_DISCOVERED.equals(action)\r\n                    || NfcAdapter.ACTION_NDEF_DISCOVERED.equals(action)) {\r\n                Parcelable[] rawMsgs = intent.getParcelableArrayExtra(NfcAdapter.EXTRA_NDEF_MESSAGES);\r\n                NdefMessage[] msgs = null;\r\n                if (rawMsgs != null) {\r\n                    msgs = new NdefMessage[rawMsgs.length];\r\n                    for (int i = 0; i &lt; rawMsgs.length; i++) {\r\n                        msgs[i] = (NdefMessage) rawMsgs[i];\r\n                    }\r\n                }\r\n                buildTagViews(msgs);\r\n            }\r\n        }\r\n        private void buildTagViews(NdefMessage[] msgs) {\r\n            if (msgs == null || msgs.length == 0) return;\r\n    \r\n            String text = &quot;&quot;;\r\n    //        String tagId = new String(msgs[0].getRecords()[0].getType());\r\n            byte[] payload = msgs[0].getRecords()[0].getPayload();\r\n            String textEncoding = ((payload[0] &amp; 128) == 0) ? &quot;UTF-8&quot; : &quot;UTF-16&quot;; // Get the Text Encoding\r\n            int languageCodeLength = payload[0] &amp; 0063; // Get the Language Code, e.g. &quot;en&quot;\r\n            // String languageCode = new String(payload, 1, languageCodeLength, &quot;US-ASCII&quot;);\r\n    \r\n            try {\r\n                // Get the Text\r\n                text = new String(payload, languageCodeLength + 1, payload.length - languageCodeLength - 1, textEncoding);\r\n            } catch (UnsupportedEncodingException e) {\r\n                Log.e(&quot;UnsupportedEncoding&quot;, e.toString());\r\n            }\r\n    \r\n            tvNFCContent.setText(&quot;NFC Content: &quot; + text);\r\n        }\r\n    \r\n        /******************************************************************************\r\n         **********************************Write to NFC Tag****************************\r\n         ******************************************************************************/\r\n        private void write(String text, Tag tag) throws IOException, FormatException {\r\n            NdefRecord[] records = { createRecord(text) };\r\n            NdefMessage message = new NdefMessage(records);\r\n            // Get an instance of Ndef for the tag.\r\n            Ndef ndef = Ndef.get(tag);\r\n            // Enable I/O\r\n            ndef.connect();\r\n            // Write the message\r\n            ndef.writeNdefMessage(message);\r\n            // Close the connection\r\n            ndef.close();\r\n        }\r\n        private NdefRecord createRecord(String text) throws UnsupportedEncodingException {\r\n            String lang       = &quot;en&quot;;\r\n            byte[] textBytes  = text.getBytes();\r\n            byte[] langBytes  = lang.getBytes(&quot;US-ASCII&quot;);\r\n            int    langLength = langBytes.length;\r\n            int    textLength = textBytes.length;\r\n            byte[] payload    = new byte[1 + langLength + textLength];\r\n    \r\n            // set status byte (see NDEF spec for actual bits)\r\n            payload[0] = (byte) langLength;\r\n    \r\n            // copy langbytes and textbytes into payload\r\n            System.arraycopy(langBytes, 0, payload, 1,              langLength);\r\n            System.arraycopy(textBytes, 0, payload, 1 + langLength, textLength);\r\n    \r\n            NdefRecord recordNFC = new NdefRecord(NdefRecord.TNF_WELL_KNOWN,  NdefRecord.RTD_TEXT,  new byte[0], payload);\r\n    \r\n            return recordNFC;\r\n        }\r\n    \r\n        @Override\r\n        protected void onNewIntent(Intent intent) {\r\n            super.onNewIntent(intent);\r\n            setIntent(intent);\r\n            readFromIntent(intent);\r\n            if (NfcAdapter.ACTION_TAG_DISCOVERED.equals(intent.getAction())) {\r\n                myTag = intent.getParcelableExtra(NfcAdapter.EXTRA_TAG);\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public void onPause(){\r\n            super.onPause();\r\n            WriteModeOff();\r\n        }\r\n    \r\n        @Override\r\n        public void onResume(){\r\n            super.onResume();\r\n            WriteModeOn();\r\n        }\r\n    \r\n        /******************************************************************************\r\n         **********************************Enable Write********************************\r\n         ******************************************************************************/\r\n        private void WriteModeOn(){\r\n            writeMode = true;\r\n            nfcAdapter.enableForegroundDispatch(this, pendingIntent, writeTagFilters, null);\r\n        }\r\n        /******************************************************************************\r\n         **********************************Disable Write*******************************\r\n         ******************************************************************************/\r\n        private void WriteModeOff(){\r\n            writeMode = false;\r\n            nfcAdapter.disableForegroundDispatch(this);\r\n        }\r\n    }","title":"Empty NFC Tag read and write Android Application. Mobile own message returning while scanning Empty Tag but Application not working?","body":"<p>I have make an application for read and write on <strong>NFC TAG</strong>. But, while I am scanning <strong>Empty NFC Tag</strong> after opening my application it not responding as I expected as my Application Toast Message &quot;Tag is empty&quot;. But, when I close my application then I receiving Mobile belting message.</p>\n<p>Basically, I need the help as following:</p>\n<ol>\n<li><strong>Detect Empty NFC Tag from my application.</strong></li>\n<li><strong>Write Server information in that Empty Tag.</strong></li>\n<li><strong>After then reading that information from that Tag.</strong></li>\n</ol>\n<p>I am including my code here.</p>\n<p><strong>AndroidManifest.xml</strong></p>\n<pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    package=&quot;com.mylab.myapplication&quot;&gt;\n\n    &lt;uses-permission android:name=&quot;android.permission.NFC&quot; /&gt;\n    &lt;uses-feature android:name=&quot;android.hardware.nfc&quot; android:required=&quot;true&quot; /&gt;\n\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/Theme.MyApplication&quot;&gt;\n        &lt;activity\n            android:name=&quot;.MainActivity&quot;\n            android:exported=&quot;true&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.nfc.action.NDEF_DISCOVERED&quot; /&gt;\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\n                &lt;data android:mimeType=&quot;text/plain&quot; /&gt;\n            &lt;/intent-filter&gt;\n            &lt;meta-data\n                android:name=&quot;android.nfc.action.TECH_DISCOVERED&quot;\n                android:resource=&quot;@xml/nfc_tech_filter&quot; /&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n<p><strong>activity_main.xml</strong></p>\n<pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;fill_parent&quot;\n    android:layout_height=&quot;fill_parent&quot;\n    android:orientation=&quot;vertical&quot; &gt;\n\n    &lt;TextView\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;Write a message: &quot;&gt;\n    &lt;/TextView&gt;\n\n    &lt;LinearLayout\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginTop=&quot;20sp&quot; &gt;\n\n        &lt;EditText\n            android:id=&quot;@+id/edit_message&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_weight=&quot;2&quot;\n            android:hint=&quot;message&quot; /&gt;\n        &lt;Button\n            android:id=&quot;@+id/button&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_weight=&quot;1&quot;\n            android:text=&quot;Write&quot; /&gt;\n    &lt;/LinearLayout&gt;\n    &lt;TextView\n        android:id=&quot;@+id/nfc_contents&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        /&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n<p><strong>nfc_tech_filter.xml</strong></p>\n<pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;resources xmlns:xliff=&quot;urn:oasis:names:tc:xliff:document:1.2&quot;&gt;\n    &lt;tech-list&gt;\n        &lt;tech&gt;android.nfc.tech.Ndef&lt;/tech&gt;\n        &lt;!-- class name --&gt;\n    &lt;/tech-list&gt;\n&lt;/resources&gt;\n</code></pre>\n<p><strong>MainActivity.java</strong></p>\n<pre><code>    public class MainActivity extends AppCompatActivity {\n\n    public static final String ERROR_DETECTED = &quot;No NFC tag detected!&quot;;\n    public static final String WRITE_SUCCESS = &quot;Text written to the NFC tag successfully!&quot;;\n    public static final String WRITE_ERROR = &quot;Error during writing, is the NFC tag close enough to your device?&quot;;\n    NfcAdapter nfcAdapter;\n    PendingIntent pendingIntent;\n    IntentFilter writeTagFilters[];\n    boolean writeMode;\n    Tag myTag;\n    Context context;\n\n    TextView tvNFCContent;\n    TextView message;\n    Button btnWrite;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        context = this;\n\n        tvNFCContent = (TextView) findViewById(R.id.nfc_contents);\n        message = (TextView) findViewById(R.id.edit_message);\n        btnWrite = (Button) findViewById(R.id.button);\n\n        btnWrite.setOnClickListener(new View.OnClickListener()\n        {\n            @Override\n            public void onClick(View v) {\n                try {\n                    if(myTag ==null) {\n                        Toast.makeText(context, ERROR_DETECTED, Toast.LENGTH_LONG).show();\n                    } else {\n                        write(message.getText().toString(), myTag);\n                        Toast.makeText(context, WRITE_SUCCESS, Toast.LENGTH_LONG ).show();\n                    }\n                } catch (IOException e) {\n                    Toast.makeText(context, WRITE_ERROR, Toast.LENGTH_LONG ).show();\n                    e.printStackTrace();\n                } catch (FormatException e) {\n                    Toast.makeText(context, WRITE_ERROR, Toast.LENGTH_LONG ).show();\n                    e.printStackTrace();\n                }\n            }\n        });\n\n        nfcAdapter = NfcAdapter.getDefaultAdapter(this);\n        if (nfcAdapter == null) {\n            // Stop here, we definitely need NFC\n            Toast.makeText(this, &quot;This device doesn't support NFC.&quot;, Toast.LENGTH_LONG).show();\n            finish();\n        }\n        readFromIntent(getIntent());\n\n        pendingIntent = PendingIntent.getActivity(this, 0, new Intent(this, getClass()).addFlags(Intent.FLAG_ACTIVITY_SINGLE_TOP), 0);\n        IntentFilter tagDetected = new IntentFilter(NfcAdapter.ACTION_TAG_DISCOVERED);\n        tagDetected.addCategory(Intent.CATEGORY_DEFAULT);\n        writeTagFilters = new IntentFilter[] { tagDetected };\n    }\n\n    /******************************************************************************\n     **********************************Read From NFC Tag***************************\n     ******************************************************************************/\n    private void readFromIntent(Intent intent) {\n        String action = intent.getAction();\n        if (NfcAdapter.ACTION_TAG_DISCOVERED.equals(action)\n                || NfcAdapter.ACTION_TECH_DISCOVERED.equals(action)\n                || NfcAdapter.ACTION_NDEF_DISCOVERED.equals(action)) {\n            Parcelable[] rawMsgs = intent.getParcelableArrayExtra(NfcAdapter.EXTRA_NDEF_MESSAGES);\n            NdefMessage[] msgs = null;\n            if (rawMsgs != null) {\n                msgs = new NdefMessage[rawMsgs.length];\n                for (int i = 0; i &lt; rawMsgs.length; i++) {\n                    msgs[i] = (NdefMessage) rawMsgs[i];\n                }\n            }\n            buildTagViews(msgs);\n        }\n    }\n    private void buildTagViews(NdefMessage[] msgs) {\n        if (msgs == null || msgs.length == 0) return;\n\n        String text = &quot;&quot;;\n//        String tagId = new String(msgs[0].getRecords()[0].getType());\n        byte[] payload = msgs[0].getRecords()[0].getPayload();\n        String textEncoding = ((payload[0] &amp; 128) == 0) ? &quot;UTF-8&quot; : &quot;UTF-16&quot;; // Get the Text Encoding\n        int languageCodeLength = payload[0] &amp; 0063; // Get the Language Code, e.g. &quot;en&quot;\n        // String languageCode = new String(payload, 1, languageCodeLength, &quot;US-ASCII&quot;);\n\n        try {\n            // Get the Text\n            text = new String(payload, languageCodeLength + 1, payload.length - languageCodeLength - 1, textEncoding);\n        } catch (UnsupportedEncodingException e) {\n            Log.e(&quot;UnsupportedEncoding&quot;, e.toString());\n        }\n\n        tvNFCContent.setText(&quot;NFC Content: &quot; + text);\n    }\n\n    /******************************************************************************\n     **********************************Write to NFC Tag****************************\n     ******************************************************************************/\n    private void write(String text, Tag tag) throws IOException, FormatException {\n        NdefRecord[] records = { createRecord(text) };\n        NdefMessage message = new NdefMessage(records);\n        // Get an instance of Ndef for the tag.\n        Ndef ndef = Ndef.get(tag);\n        // Enable I/O\n        ndef.connect();\n        // Write the message\n        ndef.writeNdefMessage(message);\n        // Close the connection\n        ndef.close();\n    }\n    private NdefRecord createRecord(String text) throws UnsupportedEncodingException {\n        String lang       = &quot;en&quot;;\n        byte[] textBytes  = text.getBytes();\n        byte[] langBytes  = lang.getBytes(&quot;US-ASCII&quot;);\n        int    langLength = langBytes.length;\n        int    textLength = textBytes.length;\n        byte[] payload    = new byte[1 + langLength + textLength];\n\n        // set status byte (see NDEF spec for actual bits)\n        payload[0] = (byte) langLength;\n\n        // copy langbytes and textbytes into payload\n        System.arraycopy(langBytes, 0, payload, 1,              langLength);\n        System.arraycopy(textBytes, 0, payload, 1 + langLength, textLength);\n\n        NdefRecord recordNFC = new NdefRecord(NdefRecord.TNF_WELL_KNOWN,  NdefRecord.RTD_TEXT,  new byte[0], payload);\n\n        return recordNFC;\n    }\n\n    @Override\n    protected void onNewIntent(Intent intent) {\n        super.onNewIntent(intent);\n        setIntent(intent);\n        readFromIntent(intent);\n        if (NfcAdapter.ACTION_TAG_DISCOVERED.equals(intent.getAction())) {\n            myTag = intent.getParcelableExtra(NfcAdapter.EXTRA_TAG);\n        }\n    }\n\n    @Override\n    public void onPause(){\n        super.onPause();\n        WriteModeOff();\n    }\n\n    @Override\n    public void onResume(){\n        super.onResume();\n        WriteModeOn();\n    }\n\n    /******************************************************************************\n     **********************************Enable Write********************************\n     ******************************************************************************/\n    private void WriteModeOn(){\n        writeMode = true;\n        nfcAdapter.enableForegroundDispatch(this, pendingIntent, writeTagFilters, null);\n    }\n    /******************************************************************************\n     **********************************Disable Write*******************************\n     ******************************************************************************/\n    private void WriteModeOff(){\n        writeMode = false;\n        nfcAdapter.disableForegroundDispatch(this);\n    }\n}\n</code></pre>\n"},{"tags":["java","pdf","itext","digital-signature"],"answers":[{"tags":[],"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643729254,"creation_date":1643729254,"answer_id":70943135,"question_id":70937237,"body_markdown":"In your `PdfExample.main` you do\r\n\r\n```\r\npublic static void main(String[] args) throws Exception {\r\n    ...\r\n\r\n    PdfReader pdfSigned = new PdfReader(new FileInputStream(OUT_SIGNED_PDF));\r\n    PdfDocument pdf = new PdfDocument(pdfSigned, new PdfWriter(OUT_SIGNED_LTV_PDF), new StampingProperties().preserveEncryption().useAppendMode());\r\n\r\n    AdobeLtvEnabling adobeLtvEnabling = new AdobeLtvEnabling(pdf);\r\n    adobeLtvEnabling.enable();\r\n}\r\n```\r\n\r\nHere you forget to call `pdf.close()` or alternatively use a try-with-resources construct:\r\n\r\n```\r\ntry (\r\n    PdfReader pdfSigned = new PdfReader(new FileInputStream(OUT_SIGNED_PDF));\r\n    PdfDocument pdf = new PdfDocument(pdfSigned, new PdfWriter(OUT_SIGNED_LTV_PDF), new StampingProperties().preserveEncryption().useAppendMode());\r\n) {\r\n    AdobeLtvEnabling adobeLtvEnabling = new AdobeLtvEnabling(pdf);\r\n    adobeLtvEnabling.enable();\r\n}\r\n```","title":"Problem with adding long term validation to signed pdf using iText","body":"<p>In your <code>PdfExample.main</code> you do</p>\n<pre><code>public static void main(String[] args) throws Exception {\n    ...\n\n    PdfReader pdfSigned = new PdfReader(new FileInputStream(OUT_SIGNED_PDF));\n    PdfDocument pdf = new PdfDocument(pdfSigned, new PdfWriter(OUT_SIGNED_LTV_PDF), new StampingProperties().preserveEncryption().useAppendMode());\n\n    AdobeLtvEnabling adobeLtvEnabling = new AdobeLtvEnabling(pdf);\n    adobeLtvEnabling.enable();\n}\n</code></pre>\n<p>Here you forget to call <code>pdf.close()</code> or alternatively use a try-with-resources construct:</p>\n<pre><code>try (\n    PdfReader pdfSigned = new PdfReader(new FileInputStream(OUT_SIGNED_PDF));\n    PdfDocument pdf = new PdfDocument(pdfSigned, new PdfWriter(OUT_SIGNED_LTV_PDF), new StampingProperties().preserveEncryption().useAppendMode());\n) {\n    AdobeLtvEnabling adobeLtvEnabling = new AdobeLtvEnabling(pdf);\n    adobeLtvEnabling.enable();\n}\n</code></pre>\n"}],"owner":{"account_id":1054652,"reputation":344,"user_id":1057651,"display_name":"lstachowiak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":232,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1643729254,"creation_date":1643702796,"question_id":70937237,"body_markdown":"I have a problem with adding long-term-validation to PDF signed using iText. Do not know why it generates broken pdf. When I try to add LTV to PDF signed by different lib (ex &#39;node-signpdf&#39;) then I got valid PDF. \r\n\r\nSigning of pdf looks like this:\r\n\r\n```    \r\nprivate static void applySignature(InputStream src,\r\n            OutputStream dest,\r\n            Certificate[] chain,\r\n            PrivateKey pk,\r\n            String digestAlgorithm,\r\n            String provider,\r\n            PdfSigner.CryptoStandard subfilter,\r\n            String reason,\r\n            String location)\r\n            throws GeneralSecurityException, IOException {\r\n\r\n        PdfReader reader = new PdfReader(src);\r\n        PdfSigner signer = new PdfSigner(reader, dest, true);\r\n\r\n        PdfSignatureAppearance appearance = signer.getSignatureAppearance()\r\n                .setReason(reason)\r\n                .setLocation(location)\r\n                .setReuseAppearance(false);\r\n        Rectangle rect = new Rectangle(0, 0, 0, 0);\r\n        appearance.setPageRect(rect).setPageNumber(1);\r\n        signer.setFieldName(&quot;Signature1&quot;);\r\n        IExternalSignature pks = new PrivateKeySignature(pk, digestAlgorithm, provider);\r\n        IExternalDigest digest = new BouncyCastleDigest();\r\n        signer.signDetached(digest, pks, chain, null, null, null, 0, subfilter);\r\n}    \r\n```\r\n\r\nEnabling LTV is basically taken from iText examples -&gt; https://github.com/mkl-public/testarea-itext7/blob/master/src/main/java/mkl/testarea/itext7/signature/AdobeLtvEnabling.java\r\n\r\n\r\n\r\nMy code can be found here -&gt; https://github.com/lstachowiak/pdf-sign-and-enable-ltv-example\r\n\r\nThanks in advance for any help!","title":"Problem with adding long term validation to signed pdf using iText","body":"<p>I have a problem with adding long-term-validation to PDF signed using iText. Do not know why it generates broken pdf. When I try to add LTV to PDF signed by different lib (ex 'node-signpdf') then I got valid PDF.</p>\n<p>Signing of pdf looks like this:</p>\n<pre><code>private static void applySignature(InputStream src,\n            OutputStream dest,\n            Certificate[] chain,\n            PrivateKey pk,\n            String digestAlgorithm,\n            String provider,\n            PdfSigner.CryptoStandard subfilter,\n            String reason,\n            String location)\n            throws GeneralSecurityException, IOException {\n\n        PdfReader reader = new PdfReader(src);\n        PdfSigner signer = new PdfSigner(reader, dest, true);\n\n        PdfSignatureAppearance appearance = signer.getSignatureAppearance()\n                .setReason(reason)\n                .setLocation(location)\n                .setReuseAppearance(false);\n        Rectangle rect = new Rectangle(0, 0, 0, 0);\n        appearance.setPageRect(rect).setPageNumber(1);\n        signer.setFieldName(&quot;Signature1&quot;);\n        IExternalSignature pks = new PrivateKeySignature(pk, digestAlgorithm, provider);\n        IExternalDigest digest = new BouncyCastleDigest();\n        signer.signDetached(digest, pks, chain, null, null, null, 0, subfilter);\n}    \n</code></pre>\n<p>Enabling LTV is basically taken from iText examples -&gt; <a href=\"https://github.com/mkl-public/testarea-itext7/blob/master/src/main/java/mkl/testarea/itext7/signature/AdobeLtvEnabling.java\" rel=\"nofollow noreferrer\">https://github.com/mkl-public/testarea-itext7/blob/master/src/main/java/mkl/testarea/itext7/signature/AdobeLtvEnabling.java</a></p>\n<p>My code can be found here -&gt; <a href=\"https://github.com/lstachowiak/pdf-sign-and-enable-ltv-example\" rel=\"nofollow noreferrer\">https://github.com/lstachowiak/pdf-sign-and-enable-ltv-example</a></p>\n<p>Thanks in advance for any help!</p>\n"},{"tags":["java","testing","jmeter","performance-testing","jmx"],"answers":[{"tags":[],"owner":{"account_id":2925597,"reputation":85,"user_id":2506983,"display_name":"Akbar Inam"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1489055634,"creation_date":1489055634,"answer_id":42692965,"question_id":42692130,"body_markdown":"Basically you have some missing plugins (i.e libraries).\r\nSo please double check that you have the same libraries on the different systems\r\nyou can check the libraries by going on to the folder \r\napache-jmeter-3.1\\apache-jmeter-3.1\\lib\r\n\r\nReplace the missing libraries by copy paste then restart jmeter ","title":"Not able to open the Jmx file in Jmeter","body":"<p>Basically you have some missing plugins (i.e libraries).\nSo please double check that you have the same libraries on the different systems\nyou can check the libraries by going on to the folder \napache-jmeter-3.1\\apache-jmeter-3.1\\lib</p>\n\n<p>Replace the missing libraries by copy paste then restart jmeter </p>\n"},{"tags":[],"owner":{"account_id":3037545,"reputation":6288,"user_id":2575259,"accept_rate":88,"display_name":"Naveen Kumar R B"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1489056197,"creation_date":1489056197,"answer_id":42693196,"question_id":42692130,"body_markdown":"It is due to missing plugin in the JMeter version. The JMX file contains references to a plugin called [Flexible File Writer][1].\r\n\r\nSo, download it and keep in `/lib/ext` folder and restart JMeter. Import the script, it will work. If error occurs, it might depends on some other plugins, so identify them and add it to JMeter as mentioned above.\r\n\r\nNote: You can use [Plugin Manager][2] for easy management of plugins.\r\n\r\n\r\n  [1]: https://jmeter-plugins.org/wiki/FlexibleFileWriter/\r\n  [2]: https://jmeter-plugins.org/wiki/PluginsManager/","title":"Not able to open the Jmx file in Jmeter","body":"<p>It is due to missing plugin in the JMeter version. The JMX file contains references to a plugin called <a href=\"https://jmeter-plugins.org/wiki/FlexibleFileWriter/\" rel=\"nofollow noreferrer\">Flexible File Writer</a>.</p>\n\n<p>So, download it and keep in <code>/lib/ext</code> folder and restart JMeter. Import the script, it will work. If error occurs, it might depends on some other plugins, so identify them and add it to JMeter as mentioned above.</p>\n\n<p>Note: You can use <a href=\"https://jmeter-plugins.org/wiki/PluginsManager/\" rel=\"nofollow noreferrer\">Plugin Manager</a> for easy management of plugins.</p>\n"},{"tags":[],"owner":{"account_id":15215640,"reputation":31,"user_id":10979098,"display_name":"Ketan Tiwari"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1619513558,"creation_date":1619513558,"answer_id":67279881,"question_id":42692130,"body_markdown":"Anyone facing a error in opening the jmx file\r\n\r\nTry this\r\n\r\nOpen jmeter \r\nSelect option\r\nSelect look and feel\r\nAnd select the windows option\r\n\r\nWait till jmeter gets restart\r\n\r\n\r\nAnd try to open the jmx file again","title":"Not able to open the Jmx file in Jmeter","body":"<p>Anyone facing a error in opening the jmx file</p>\n<p>Try this</p>\n<p>Open jmeter\nSelect option\nSelect look and feel\nAnd select the windows option</p>\n<p>Wait till jmeter gets restart</p>\n<p>And try to open the jmx file again</p>\n"},{"tags":[],"owner":{"account_id":13383280,"reputation":89,"user_id":9657902,"display_name":"Pooja Sinha"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1621294001,"creation_date":1620548285,"answer_id":67455615,"question_id":42692130,"body_markdown":"Jmeter version 5.4.1 was not loading existing jmx file, it started working after I changed the theme from Dracula to windows.","title":"Not able to open the Jmx file in Jmeter","body":"<p>Jmeter version 5.4.1 was not loading existing jmx file, it started working after I changed the theme from Dracula to windows.</p>\n"},{"tags":[],"owner":{"account_id":12452213,"reputation":71,"user_id":9066525,"display_name":"Wilson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640956219,"creation_date":1640956219,"answer_id":70542649,"question_id":42692130,"body_markdown":"If on mac:\r\n1. Options -&gt; Look and Feel\r\n2. Select Nimbus\r\n3. Click &#39;Yes&#39; to restart\r\nTry saving or opening a file\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/WQxd3.png","title":"Not able to open the Jmx file in Jmeter","body":"<p>If on mac:</p>\n<ol>\n<li>Options -&gt; Look and Feel</li>\n<li>Select Nimbus</li>\n<li>Click 'Yes' to restart\nTry saving or opening a file\n<a href=\"https://i.stack.imgur.com/WQxd3.png\" rel=\"nofollow noreferrer\">enter image description here</a></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":10986488,"reputation":1,"user_id":8072031,"display_name":"Alex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643729088,"creation_date":1643729088,"answer_id":70943095,"question_id":42692130,"body_markdown":"Drag and drop your file and it will work","title":"Not able to open the Jmx file in Jmeter","body":"<p>Drag and drop your file and it will work</p>\n"}],"owner":{"account_id":10145934,"reputation":99,"user_id":7494094,"accept_rate":54,"display_name":"Kavinkumar Muthu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17898,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":42692965,"answer_count":6,"score":2,"last_activity_date":1643729088,"creation_date":1489053445,"question_id":42692130,"body_markdown":"[Error 1][1]Please click here to check the error\r\n\r\n\r\n[Error 2][2]Please click here to check the error\r\nWhile open the .jmx file in Jmeter we are facing the above issue in Jmeter. Any can able to find the solution for this error?\r\n\r\nwe are try to open the jmx in 2.12,2.13,3.0 and 3.1 version but we are facing the above issue. **But same jmx we can able to open in different system**\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bOM1l.png\r\n  [2]: https://i.stack.imgur.com/H1VHb.png","title":"Not able to open the Jmx file in Jmeter","body":"<p><a href=\"https://i.stack.imgur.com/bOM1l.png\" rel=\"nofollow noreferrer\">Error 1</a>Please click here to check the error</p>\n\n<p><a href=\"https://i.stack.imgur.com/H1VHb.png\" rel=\"nofollow noreferrer\">Error 2</a>Please click here to check the error\nWhile open the .jmx file in Jmeter we are facing the above issue in Jmeter. Any can able to find the solution for this error?</p>\n\n<p>we are try to open the jmx in 2.12,2.13,3.0 and 3.1 version but we are facing the above issue. <strong>But same jmx we can able to open in different system</strong></p>\n"},{"tags":["java","file"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1643723246,"post_id":70941535,"comment_id":125411157,"body_markdown":"**Do not call the getPath() method of URL.** It does not return a valid file name.  If the URL points to a file path with characters that aren’t allowed in URLs, like spaces, they would be percent-escaped.  Regardless, while you could theoretically make your own URLClassLoader in order to call getResource, there is no point to doing so.  getResource is specifically intended to read data bundled with an application.  I don’t see anything wrong with your Paths.get code.  (Except that Java has always recommended using system properties instead of environment variables, for greater portability.)","body":"<b>Do not call the getPath() method of URL.</b> It does not return a valid file name.  If the URL points to a file path with characters that aren’t allowed in URLs, like spaces, they would be percent-escaped.  Regardless, while you could theoretically make your own URLClassLoader in order to call getResource, there is no point to doing so.  getResource is specifically intended to read data bundled with an application.  I don’t see anything wrong with your Paths.get code.  (Except that Java has always recommended using system properties instead of environment variables, for greater portability.)"},{"owner":{"account_id":4551020,"reputation":5500,"user_id":3696204,"accept_rate":90,"display_name":"rocksNwaves"},"score":0,"creation_date":1643725681,"post_id":70941535,"comment_id":125412244,"body_markdown":"I am concerned that the structure of the TEST_DATA directory will change and break my code. Is that something I should worry about? Would you mind making your comment a short answer to my question? I&#39;d be happy to accept it.","body":"I am concerned that the structure of the TEST_DATA directory will change and break my code. Is that something I should worry about? Would you mind making your comment a short answer to my question? I&#39;d be happy to accept it."}],"answers":[{"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643728897,"creation_date":1643728897,"answer_id":70943046,"question_id":70941535,"body_markdown":"Do not call the getPath() method of URL. It does not return a valid file name.  If the returned resource URL points to a file path containing characters that aren’t allowed in URLs, like spaces, they would be percent-escaped.\r\n\r\nRegardless, while you could theoretically create your own URLClassLoader in order to call getResource, there is no point to doing so.  getResource and getResourceAsStream are specifically intended to read data bundled with an application.\r\n\r\nI don’t see anything wrong with your use of `Paths.get` as it is.\r\n\r\n&gt; I am concerned that the structure of the TEST_DATA directory will change and break my code. Is that something I should worry about?\r\n\r\nYes, but using getResource will not change that.  getResource would actually be worse, because it would just return null if the desired resource is not found.  When you read from a Path, you will get an informative exception (like [NoSuchFileException](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/file/NoSuchFileException.html)) instead of just a mysterious null.\r\n\r\nFor what it’s worth, Java recommends using system properties instead of environment variables for configuring an application.  System properties have to be set explicitly, and won’t just be something “left over” in a user’s login initialization that they forgot about.  From [the documentation of System.getenv](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/System.html#getenv(java.lang.String)):\r\n\r\n&gt; System properties and environment variables are both conceptually mappings between names and values. Both mechanisms can be used to pass user-defined information to a Java process. Environment variables have a more global effect, because they are visible to all descendants of the process which defines them, not just the immediate Java subprocess. They can have subtly different semantics, such as case insensitivity, on different operating systems. For these reasons, environment variables are more likely to have unintended side effects. It is best to use system properties where possible. Environment variables should be used when a global effect is desired, or when an external system interface requires an environment variable (such as PATH). \r\n","title":"Is there an analogue to getResources, but using a path outside the project defined as an environment variable?","body":"<p>Do not call the getPath() method of URL. It does not return a valid file name.  If the returned resource URL points to a file path containing characters that aren’t allowed in URLs, like spaces, they would be percent-escaped.</p>\n<p>Regardless, while you could theoretically create your own URLClassLoader in order to call getResource, there is no point to doing so.  getResource and getResourceAsStream are specifically intended to read data bundled with an application.</p>\n<p>I don’t see anything wrong with your use of <code>Paths.get</code> as it is.</p>\n<blockquote>\n<p>I am concerned that the structure of the TEST_DATA directory will change and break my code. Is that something I should worry about?</p>\n</blockquote>\n<p>Yes, but using getResource will not change that.  getResource would actually be worse, because it would just return null if the desired resource is not found.  When you read from a Path, you will get an informative exception (like <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/file/NoSuchFileException.html\" rel=\"nofollow noreferrer\">NoSuchFileException</a>) instead of just a mysterious null.</p>\n<p>For what it’s worth, Java recommends using system properties instead of environment variables for configuring an application.  System properties have to be set explicitly, and won’t just be something “left over” in a user’s login initialization that they forgot about.  From <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/System.html#getenv(java.lang.String)\" rel=\"nofollow noreferrer\">the documentation of System.getenv</a>:</p>\n<blockquote>\n<p>System properties and environment variables are both conceptually mappings between names and values. Both mechanisms can be used to pass user-defined information to a Java process. Environment variables have a more global effect, because they are visible to all descendants of the process which defines them, not just the immediate Java subprocess. They can have subtly different semantics, such as case insensitivity, on different operating systems. For these reasons, environment variables are more likely to have unintended side effects. It is best to use system properties where possible. Environment variables should be used when a global effect is desired, or when an external system interface requires an environment variable (such as PATH).</p>\n</blockquote>\n"}],"owner":{"account_id":4551020,"reputation":5500,"user_id":3696204,"accept_rate":90,"display_name":"rocksNwaves"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70943046,"answer_count":1,"score":0,"last_activity_date":1643728897,"creation_date":1643722821,"question_id":70941535,"body_markdown":"I know that if I want to get a resource for use in my unit tests, I can do something like: \r\n\r\n```java\r\nString configPath = Objects.requireNonNull(\r\n    TestResources.class\r\n        .getClassLoader()\r\n        .getResource(&quot;config.properties&quot;)).getPath();\r\n```\r\n\r\nWe also have some resources that are in a path defined in an environment variable. For that case we have been doing something like:\r\n\r\n```java\r\nString testDataPath = env.get(&quot;TEST_DATA&quot;)\r\nString specificUseCase = Paths.get(testDataPath, &quot;path&quot;, &quot;to&quot;, &quot;specific&quot;, &quot;resource&quot;).toString();\r\n```\r\n\r\nIn this case, I&#39;m using a relative path from TEST_DATA. Is there a way to cut relative paths out of the picture completely? ","title":"Is there an analogue to getResources, but using a path outside the project defined as an environment variable?","body":"<p>I know that if I want to get a resource for use in my unit tests, I can do something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String configPath = Objects.requireNonNull(\n    TestResources.class\n        .getClassLoader()\n        .getResource(&quot;config.properties&quot;)).getPath();\n</code></pre>\n<p>We also have some resources that are in a path defined in an environment variable. For that case we have been doing something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String testDataPath = env.get(&quot;TEST_DATA&quot;)\nString specificUseCase = Paths.get(testDataPath, &quot;path&quot;, &quot;to&quot;, &quot;specific&quot;, &quot;resource&quot;).toString();\n</code></pre>\n<p>In this case, I'm using a relative path from TEST_DATA. Is there a way to cut relative paths out of the picture completely?</p>\n"},{"tags":["java","android","android-recyclerview"],"comments":[{"owner":{"account_id":5021715,"reputation":1652,"user_id":4035036,"display_name":"Mosius"},"score":0,"creation_date":1530686221,"post_id":51166257,"comment_id":89317530,"body_markdown":"Can you use java 8 and lamda?","body":"Can you use java 8 and lamda?"},{"owner":{"account_id":13677702,"reputation":3,"user_id":9868760,"display_name":"007"},"score":0,"creation_date":1530686980,"post_id":51166257,"comment_id":89317884,"body_markdown":"andorid studio not supported java 8","body":"andorid studio not supported java 8"},{"owner":{"account_id":5021715,"reputation":1652,"user_id":4035036,"display_name":"Mosius"},"score":0,"creation_date":1530687135,"post_id":51166257,"comment_id":89317974,"body_markdown":"It does, take a look at https://developer.android.com/studio/write/java8-support","body":"It does, take a look at <a href=\"https://developer.android.com/studio/write/java8-support\" rel=\"nofollow noreferrer\">developer.android.com/studio/write/java8-support</a>"}],"answers":[{"tags":[],"owner":{"account_id":4981815,"reputation":273,"user_id":4006517,"display_name":"Mohit Hooda"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1530703528,"creation_date":1530684425,"answer_id":51166794,"question_id":51166257,"body_markdown":"You can create two list based on posts list\r\n\r\n    List&lt;PostDetail&gt; onlineList = new ArrayList&lt;&gt;();\r\n    List&lt;PostDetail&gt; offlineList = new ArrayList&lt;&gt;();\r\n    for(int i = 0; i &lt; posts.size(); i++) {\r\n        if(posts.get(i).getDeviceStatus.equals(&quot;Online&quot;)){\r\n            onlineList.add(posts.get(i));\r\n        } else if(posts.get(i).getDeviceStatus.equals(&quot;Offline&quot;)) {\r\n            offlineList.add(posts.get(i));\r\n        }\r\n    }\r\n\r\nThen you can show these 2 lists in different screens or where ever you need","title":"how to filter json object by String value in android?","body":"<p>You can create two list based on posts list</p>\n\n<pre><code>List&lt;PostDetail&gt; onlineList = new ArrayList&lt;&gt;();\nList&lt;PostDetail&gt; offlineList = new ArrayList&lt;&gt;();\nfor(int i = 0; i &lt; posts.size(); i++) {\n    if(posts.get(i).getDeviceStatus.equals(\"Online\")){\n        onlineList.add(posts.get(i));\n    } else if(posts.get(i).getDeviceStatus.equals(\"Offline\")) {\n        offlineList.add(posts.get(i));\n    }\n}\n</code></pre>\n\n<p>Then you can show these 2 lists in different screens or where ever you need</p>\n"},{"tags":[],"owner":{"account_id":5021715,"reputation":1652,"user_id":4035036,"display_name":"Mosius"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1530697215,"creation_date":1530686984,"answer_id":51167431,"question_id":51166257,"body_markdown":"You should create two separate lists and update `RecyclerView` with them\r\n\r\nJava 8:\r\n\r\n    List&lt;PostDetail&gt; onlinePostDetail = posts.stream()\r\n        .filter(p -&gt; p.getDeviceStatus().equals(&quot;Online&quot;))\r\n        .collect(Collectors.toList());\r\n    List&lt;PostDetail&gt; offlinePostDetail = posts.stream()\r\n        .filter(p -&gt; p.getDeviceStatus().equals(&quot;Offline&quot;))\r\n        .collect(Collectors.toList());\r\n\r\nbelow Java 8:\r\n\r\n     List&lt;PostDetail&gt; onlinePostDetail = new ArrayList();\r\n     List&lt;PostDetail&gt; offlinePostDetail = new ArrayList();\r\n     for(PostDetail p: posts) {\r\n         if(p.getDeviceStatus().equals(&quot;Online&quot;)) {\r\n             onlinePostDetail.add(p);\r\n         } else if(p.getDeviceStatus().equals(&quot;Offline&quot;)) {\r\n             offlinePostDetail.add(p);\r\n         }\r\n     }","title":"how to filter json object by String value in android?","body":"<p>You should create two separate lists and update <code>RecyclerView</code> with them</p>\n\n<p>Java 8:</p>\n\n<pre><code>List&lt;PostDetail&gt; onlinePostDetail = posts.stream()\n    .filter(p -&gt; p.getDeviceStatus().equals(\"Online\"))\n    .collect(Collectors.toList());\nList&lt;PostDetail&gt; offlinePostDetail = posts.stream()\n    .filter(p -&gt; p.getDeviceStatus().equals(\"Offline\"))\n    .collect(Collectors.toList());\n</code></pre>\n\n<p>below Java 8:</p>\n\n<pre><code> List&lt;PostDetail&gt; onlinePostDetail = new ArrayList();\n List&lt;PostDetail&gt; offlinePostDetail = new ArrayList();\n for(PostDetail p: posts) {\n     if(p.getDeviceStatus().equals(\"Online\")) {\n         onlinePostDetail.add(p);\n     } else if(p.getDeviceStatus().equals(\"Offline\")) {\n         offlinePostDetail.add(p);\n     }\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7539699,"reputation":1039,"user_id":5832732,"display_name":"reza rahmad"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643728731,"creation_date":1643728731,"answer_id":70943010,"question_id":51166257,"body_markdown":"i use retrofit in android studio bumblebee 2022 and in response use this\r\n\r\n     override fun onResponse(call: Call&lt;Responseagro&gt;, response: Response&lt;Responseagro&gt;) {\r\n\r\n              \r\n                val result : List&lt;agrolokasiitem?&gt;? = response.body()!!.data\r\n\r\n                val resultsearch = result!!.filter{agrolokasiitem: \r\n                agrolokasiitem? -&gt; agrolokasiitem?.&#39;WHAT YOUR OBJECT&#39;.equals(&quot;YOUR SEARCH&quot;) }\r\n                val layoutManager1 =\r\n                 LinearLayoutManager(applicationContext, LinearLayoutManager.VERTICAL, false)\r\n           \r\n                recycleview.layoutManager = layoutManager1\r\n                val sadapter = Adapter(applicationContext, resultsearch)\r\n                recycleview.adapter = sadapter\r\n                androidx.recyclerview.widget.LinearLayoutManager(activity)\r\n                recycleview .setHasFixedSize(true)\r\n\r\n            }\r\n\r\n","title":"how to filter json object by String value in android?","body":"<p>i use retrofit in android studio bumblebee 2022 and in response use this</p>\n<pre><code> override fun onResponse(call: Call&lt;Responseagro&gt;, response: Response&lt;Responseagro&gt;) {\n\n          \n            val result : List&lt;agrolokasiitem?&gt;? = response.body()!!.data\n\n            val resultsearch = result!!.filter{agrolokasiitem: \n            agrolokasiitem? -&gt; agrolokasiitem?.'WHAT YOUR OBJECT'.equals(&quot;YOUR SEARCH&quot;) }\n            val layoutManager1 =\n             LinearLayoutManager(applicationContext, LinearLayoutManager.VERTICAL, false)\n       \n            recycleview.layoutManager = layoutManager1\n            val sadapter = Adapter(applicationContext, resultsearch)\n            recycleview.adapter = sadapter\n            androidx.recyclerview.widget.LinearLayoutManager(activity)\n            recycleview .setHasFixedSize(true)\n\n        }\n</code></pre>\n"}],"owner":{"account_id":13677702,"reputation":3,"user_id":9868760,"display_name":"007"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2650,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":51167431,"answer_count":3,"score":0,"last_activity_date":1643728731,"creation_date":1530681698,"question_id":51166257,"body_markdown":"I have view pager with fragment in recyclerview i want to parse json data based on value pair in first fragment i want to all data if device is online and second data  based on offline value any suggestion would  be appreciated.\r\nMy Json Value.\r\n\r\n    [\r\n    {\r\n        &quot;deviceId&quot;: &quot;IVIS1475&quot;,\r\n        &quot;siteName&quot;: &quot;IVIS1475    SBI-CHE-Coimbatore-Kangeyampalayam&quot;,\r\n        &quot;deviceStatus&quot;: &quot;Offline&quot;,\r\n        &quot;hddStatus&quot;: &quot;Ok&quot;,\r\n        &quot;powerSource&quot;: &quot;Battery&quot;\r\n    },\r\n    {\r\n        &quot;deviceId&quot;: &quot;IVIS1354&quot;,\r\n        &quot;siteName&quot;: &quot;IVIS1354    SBI-Trichy S.P Office Pudukottai&quot;,\r\n        &quot;deviceStatus&quot;: &quot;Offline&quot;,\r\n        &quot;hddStatus&quot;: &quot;Ok&quot;,\r\n        &quot;powerSource&quot;: &quot;Battery&quot;\r\n    },\r\n    {\r\n        &quot;deviceId&quot;: &quot;IVIS1476&quot;,\r\n        &quot;siteName&quot;: &quot;IVIS1476    SBI-Coimbatore Redfields Coimbatore&quot;,\r\n        &quot;deviceStatus&quot;: &quot;Offline&quot;,\r\n        &quot;hddStatus&quot;: &quot;Ok&quot;,\r\n        &quot;powerSource&quot;: &quot;&quot;\r\n    },\r\n    {\r\n        &quot;deviceId&quot;: &quot;IVIS1355&quot;,\r\n        &quot;siteName&quot;: &quot;IVIS1355    SBI-CHE-Pondicherry-Thiruvandarkoil Busstand&quot;,\r\n        &quot;deviceStatus&quot;: &quot;Online&quot;,\r\n        &quot;hddStatus&quot;: &quot;Not Ok&quot;,\r\n        &quot;powerSource&quot;: &quot;&quot;\r\n    },\r\n    {\r\n        &quot;deviceId&quot;: &quot;IVIS1597&quot;,\r\n        &quot;siteName&quot;: &quot;IVIS1597    SBI-Chennai 1 Melvisharam Vellore&quot;,\r\n        &quot;deviceStatus&quot;: &quot;Online&quot;,\r\n        &quot;hddStatus&quot;: &quot;Ok&quot;,\r\n        &quot;powerSource&quot;: &quot;Mains&quot;\r\n    },\r\n    {\r\n        &quot;deviceId&quot;: &quot;IVIS2203&quot;,\r\n        &quot;siteName&quot;: &quot;IVIS2203    SBI-Coimbatore Kutchery Strt Udamalpet&quot;,\r\n        &quot;deviceStatus&quot;: &quot;Online&quot;,\r\n        &quot;hddStatus&quot;: &quot;Ok&quot;,\r\n        &quot;powerSource&quot;: &quot;Battery&quot;\r\n    },\r\n    {\r\n        &quot;deviceId&quot;: &quot;IVIS1478&quot;,\r\n        &quot;siteName&quot;: &quot;IVIS1478    SBI-Coimbatore Officers Club &quot;,\r\n        &quot;deviceStatus&quot;: &quot;Offline&quot;,\r\n        &quot;hddStatus&quot;: &quot;Ok&quot;,\r\n        &quot;powerSource&quot;: &quot;Battery&quot;\r\n    },\r\n    {\r\n        &quot;deviceId&quot;: &quot;IVIS2205&quot;,\r\n        &quot;siteName&quot;: &quot;IVIS2205    SBI-Coimbatore Municipal Cmplx Udamalpet&quot;,\r\n        &quot;deviceStatus&quot;: &quot;Offline&quot;,\r\n        &quot;hddStatus&quot;: &quot;Ok&quot;,\r\n        &quot;powerSource&quot;: &quot;Battery&quot;\r\n    },\r\n    {\r\n        &quot;deviceId&quot;: &quot;IVIS2206&quot;,\r\n        &quot;siteName&quot;: &quot;IVIS2206    SBI-Coimbatore Railway Station Tirupur&quot;,\r\n        &quot;deviceStatus&quot;: &quot;Offline&quot;,\r\n        &quot;hddStatus&quot;: &quot;Not Ok&quot;,\r\n        &quot;powerSource&quot;: &quot;Battery&quot;\r\n    },\r\n    {\r\n        &quot;deviceId&quot;: &quot;IVIS2207&quot;,\r\n        &quot;siteName&quot;: &quot;IVIS2207    SBI-Coimbatore Dr Nanjappa Rd Coimbatore&quot;,\r\n        &quot;deviceStatus&quot;: &quot;Online&quot;,\r\n        &quot;hddStatus&quot;: &quot;Not Ok&quot;,\r\n        &quot;powerSource&quot;: &quot;Battery&quot;\r\n    }]\r\nBased on device status i want to filter json data and add into recyclerivew this my recyclerveiw code.\r\n\r\n    RequestQueue requestQueue = Volley.newRequestQueue(getContext());\r\n\r\n        StringRequest stringRequest = new StringRequest(Request.Method.GET, projectDetailUrl, new Response.Listener&lt;String&gt;() {\r\n            @Override\r\n            public void onResponse(String response)\r\n            {\r\n\r\n\r\n                   progressBar.setVisibility(View.GONE);\r\n\r\n                   GsonBuilder builder = new GsonBuilder();\r\n                   Gson mGson = builder.create();\r\n                   posts =new ArrayList&lt;&gt;(Arrays.asList(mGson.fromJson(response, ProDetail[].class)));\r\n\r\n                   adapter = new OnSiteAdapter( posts);\r\n                   recyclerView.setAdapter(adapter);\r\n                   final List&lt;ProDetail&gt; finalPosts = posts;\r\n                   ItemClickSupport.addTo(recyclerView).setOnItemClickListener(\r\n                           new ItemClickSupport.OnItemClickListener()\r\n                           {\r\n                               @Override\r\n                               public void onItemClicked(RecyclerView recyclerView, int position, View v) {\r\n                                   // do it\r\n                                   String deviceId = finalPosts.get(position).getDeviceId();\r\n                                   Intent proDetailIntent = new Intent(getContext(), SensorDetailAcitivity.class);\r\n                                   proDetailIntent.putExtra(&quot;deviceid&quot;, deviceId);\r\n                                   startActivity(proDetailIntent);\r\n\r\n\r\n                               }\r\n                           }\r\n                   );\r\n\r\n               }\r\n\r\n\r\n\r\n        }, new Response.ErrorListener() {\r\n            @Override\r\n            public void onErrorResponse(VolleyError error)\r\n            {\r\n                progressBar.setVisibility(View.GONE);\r\n                Toast.makeText(getActivity(), &quot;Something went wrong&quot;, Toast.LENGTH_SHORT).show();\r\n\r\n            }\r\n        });\r\n        requestQueue.add(stringRequest);","title":"how to filter json object by String value in android?","body":"<p>I have view pager with fragment in recyclerview i want to parse json data based on value pair in first fragment i want to all data if device is online and second data  based on offline value any suggestion would  be appreciated.\nMy Json Value.</p>\n\n<pre><code>[\n{\n    \"deviceId\": \"IVIS1475\",\n    \"siteName\": \"IVIS1475    SBI-CHE-Coimbatore-Kangeyampalayam\",\n    \"deviceStatus\": \"Offline\",\n    \"hddStatus\": \"Ok\",\n    \"powerSource\": \"Battery\"\n},\n{\n    \"deviceId\": \"IVIS1354\",\n    \"siteName\": \"IVIS1354    SBI-Trichy S.P Office Pudukottai\",\n    \"deviceStatus\": \"Offline\",\n    \"hddStatus\": \"Ok\",\n    \"powerSource\": \"Battery\"\n},\n{\n    \"deviceId\": \"IVIS1476\",\n    \"siteName\": \"IVIS1476    SBI-Coimbatore Redfields Coimbatore\",\n    \"deviceStatus\": \"Offline\",\n    \"hddStatus\": \"Ok\",\n    \"powerSource\": \"\"\n},\n{\n    \"deviceId\": \"IVIS1355\",\n    \"siteName\": \"IVIS1355    SBI-CHE-Pondicherry-Thiruvandarkoil Busstand\",\n    \"deviceStatus\": \"Online\",\n    \"hddStatus\": \"Not Ok\",\n    \"powerSource\": \"\"\n},\n{\n    \"deviceId\": \"IVIS1597\",\n    \"siteName\": \"IVIS1597    SBI-Chennai 1 Melvisharam Vellore\",\n    \"deviceStatus\": \"Online\",\n    \"hddStatus\": \"Ok\",\n    \"powerSource\": \"Mains\"\n},\n{\n    \"deviceId\": \"IVIS2203\",\n    \"siteName\": \"IVIS2203    SBI-Coimbatore Kutchery Strt Udamalpet\",\n    \"deviceStatus\": \"Online\",\n    \"hddStatus\": \"Ok\",\n    \"powerSource\": \"Battery\"\n},\n{\n    \"deviceId\": \"IVIS1478\",\n    \"siteName\": \"IVIS1478    SBI-Coimbatore Officers Club \",\n    \"deviceStatus\": \"Offline\",\n    \"hddStatus\": \"Ok\",\n    \"powerSource\": \"Battery\"\n},\n{\n    \"deviceId\": \"IVIS2205\",\n    \"siteName\": \"IVIS2205    SBI-Coimbatore Municipal Cmplx Udamalpet\",\n    \"deviceStatus\": \"Offline\",\n    \"hddStatus\": \"Ok\",\n    \"powerSource\": \"Battery\"\n},\n{\n    \"deviceId\": \"IVIS2206\",\n    \"siteName\": \"IVIS2206    SBI-Coimbatore Railway Station Tirupur\",\n    \"deviceStatus\": \"Offline\",\n    \"hddStatus\": \"Not Ok\",\n    \"powerSource\": \"Battery\"\n},\n{\n    \"deviceId\": \"IVIS2207\",\n    \"siteName\": \"IVIS2207    SBI-Coimbatore Dr Nanjappa Rd Coimbatore\",\n    \"deviceStatus\": \"Online\",\n    \"hddStatus\": \"Not Ok\",\n    \"powerSource\": \"Battery\"\n}]\n</code></pre>\n\n<p>Based on device status i want to filter json data and add into recyclerivew this my recyclerveiw code.</p>\n\n<pre><code>RequestQueue requestQueue = Volley.newRequestQueue(getContext());\n\n    StringRequest stringRequest = new StringRequest(Request.Method.GET, projectDetailUrl, new Response.Listener&lt;String&gt;() {\n        @Override\n        public void onResponse(String response)\n        {\n\n\n               progressBar.setVisibility(View.GONE);\n\n               GsonBuilder builder = new GsonBuilder();\n               Gson mGson = builder.create();\n               posts =new ArrayList&lt;&gt;(Arrays.asList(mGson.fromJson(response, ProDetail[].class)));\n\n               adapter = new OnSiteAdapter( posts);\n               recyclerView.setAdapter(adapter);\n               final List&lt;ProDetail&gt; finalPosts = posts;\n               ItemClickSupport.addTo(recyclerView).setOnItemClickListener(\n                       new ItemClickSupport.OnItemClickListener()\n                       {\n                           @Override\n                           public void onItemClicked(RecyclerView recyclerView, int position, View v) {\n                               // do it\n                               String deviceId = finalPosts.get(position).getDeviceId();\n                               Intent proDetailIntent = new Intent(getContext(), SensorDetailAcitivity.class);\n                               proDetailIntent.putExtra(\"deviceid\", deviceId);\n                               startActivity(proDetailIntent);\n\n\n                           }\n                       }\n               );\n\n           }\n\n\n\n    }, new Response.ErrorListener() {\n        @Override\n        public void onErrorResponse(VolleyError error)\n        {\n            progressBar.setVisibility(View.GONE);\n            Toast.makeText(getActivity(), \"Something went wrong\", Toast.LENGTH_SHORT).show();\n\n        }\n    });\n    requestQueue.add(stringRequest);\n</code></pre>\n"},{"tags":["java","spring","spring-mvc","jackson","octetstring"],"answers":[{"tags":[],"owner":{"account_id":3331179,"reputation":2145,"user_id":2800089,"accept_rate":44,"display_name":"user2800089"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1617174501,"creation_date":1617174501,"answer_id":66883198,"question_id":66882714,"body_markdown":"After debugging , i found that even response header need to be set with content-type as readWithMessageReaders () method of BodyExtractors class  check for content-type.\r\n\r\n    .withHeader(CONTENT_TYPE, APPLICATION_JSON_VALUE)\r\n set in below code fixed the failing testcase\r\n\r\n    @Test\r\n        void shouldMakeAPostApiCallToSaveEmployee() throws JsonProcessingException {\r\n            var actualemployeeDtos = &quot;....&quot;;\r\n    \t\tvar randomEmployeeDto = ...;\r\n            wireMockServer.stubFor(post(&quot;/create-employees&quot;)\r\n                    .withHeader(CONTENT_TYPE, equalTo(APPLICATION_JSON_VALUE))\r\n                    .withHeader(ACCEPT, containing(APPLICATION_JSON_VALUE))\r\n                    .withRequestBody(equalToJson(actualemployeeDtos))\r\n                    .willReturn(aResponse()\r\n    \t\t\t\t\t\t.withHeader(CONTENT_TYPE, APPLICATION_JSON_VALUE)\r\n                            .withStatus(OK.value())\r\n                            .withBody(&quot;{\\&quot;response\\&quot;: \\&quot;Employees saved Successfully\\&quot;}&quot;)));\r\n    \r\n            StepVerifier\r\n                    .create(employeeService.saveEmployee(List.of(randomEmployeeDto)))\r\n                    .expectNext(singletonMap(&quot;response&quot;, &quot;Employees saved Successfully&quot;))\r\n                    .verifyComplete();\r\n        }","title":"UnsupportedMediaTypeException: Content type &#39;application/octet-stream&#39; not supported for bodyType=java.util.Map&lt;java.lang.String, java.lang.String&gt;))","body":"<p>After debugging , i found that even response header need to be set with content-type as readWithMessageReaders () method of BodyExtractors class  check for content-type.</p>\n<pre><code>.withHeader(CONTENT_TYPE, APPLICATION_JSON_VALUE)\n</code></pre>\n<p>set in below code fixed the failing testcase</p>\n<pre><code>@Test\n    void shouldMakeAPostApiCallToSaveEmployee() throws JsonProcessingException {\n        var actualemployeeDtos = &quot;....&quot;;\n        var randomEmployeeDto = ...;\n        wireMockServer.stubFor(post(&quot;/create-employees&quot;)\n                .withHeader(CONTENT_TYPE, equalTo(APPLICATION_JSON_VALUE))\n                .withHeader(ACCEPT, containing(APPLICATION_JSON_VALUE))\n                .withRequestBody(equalToJson(actualemployeeDtos))\n                .willReturn(aResponse()\n                        .withHeader(CONTENT_TYPE, APPLICATION_JSON_VALUE)\n                        .withStatus(OK.value())\n                        .withBody(&quot;{\\&quot;response\\&quot;: \\&quot;Employees saved Successfully\\&quot;}&quot;)));\n\n        StepVerifier\n                .create(employeeService.saveEmployee(List.of(randomEmployeeDto)))\n                .expectNext(singletonMap(&quot;response&quot;, &quot;Employees saved Successfully&quot;))\n                .verifyComplete();\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8964938,"reputation":749,"user_id":6686007,"display_name":"Roberto Petrilli"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643728701,"creation_date":1643728701,"answer_id":70943002,"question_id":66882714,"body_markdown":"In my case I fixed the issue parsing manually one of the parts that contains a json object\r\n\r\nThis code did not work\r\n\r\n    @PostMapping(value = &quot;salvaDomanda&quot;)\r\n    @ResponseBody\r\n    @ResponseStatus(HttpStatus.CREATED)\r\n    Domanda salvaDomanda(@RequestPart(&quot;data&quot;)  Domanda domanda,\r\n                      @RequestPart(name = &quot;files&quot;, required = false) MultipartFile[] files)\r\n\r\n\r\nThis one \r\n\r\n    @PostMapping(value = &quot;salvaDomanda&quot;)\r\n    @ResponseBody\r\n    @ResponseStatus(HttpStatus.CREATED)\r\n    Domanda salvaDomanda(@RequestPart(&quot;data&quot;) String jsonDomanda,\r\n                         @RequestPart(name = &quot;files&quot;, required = false) MultipartFile[] files)\r\n            throws ApplicationException, IOException {\r\n        ObjectMapper mapper = new ObjectMapper();\r\n        Domanda domanda = mapper.readValue(jsonDomanda, Domanda.class);\r\n\r\ndoes.\r\nMy Spring boot version is 2.6.3 with java 17","title":"UnsupportedMediaTypeException: Content type &#39;application/octet-stream&#39; not supported for bodyType=java.util.Map&lt;java.lang.String, java.lang.String&gt;))","body":"<p>In my case I fixed the issue parsing manually one of the parts that contains a json object</p>\n<p>This code did not work</p>\n<pre><code>@PostMapping(value = &quot;salvaDomanda&quot;)\n@ResponseBody\n@ResponseStatus(HttpStatus.CREATED)\nDomanda salvaDomanda(@RequestPart(&quot;data&quot;)  Domanda domanda,\n                  @RequestPart(name = &quot;files&quot;, required = false) MultipartFile[] files)\n</code></pre>\n<p>This one</p>\n<pre><code>@PostMapping(value = &quot;salvaDomanda&quot;)\n@ResponseBody\n@ResponseStatus(HttpStatus.CREATED)\nDomanda salvaDomanda(@RequestPart(&quot;data&quot;) String jsonDomanda,\n                     @RequestPart(name = &quot;files&quot;, required = false) MultipartFile[] files)\n        throws ApplicationException, IOException {\n    ObjectMapper mapper = new ObjectMapper();\n    Domanda domanda = mapper.readValue(jsonDomanda, Domanda.class);\n</code></pre>\n<p>does.\nMy Spring boot version is 2.6.3 with java 17</p>\n"}],"owner":{"account_id":3331179,"reputation":2145,"user_id":2800089,"accept_rate":44,"display_name":"user2800089"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14686,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":2,"score":7,"last_activity_date":1643728701,"creation_date":1617172074,"question_id":66882714,"body_markdown":"I am facing below error while running junit for controller. I have already set content-type as Json, still error is same. Any suggestion what could be the issue ?\r\n\r\nError is\r\n\r\n    java.lang.AssertionError: expectation &quot;expectNext({response=employee saved Successfully})&quot; failed (expected: onNext({response=employee saved Successfully}); actual: onError(org.springframework.web.reactive.function.UnsupportedMediaTypeException: Content type &#39;application/octet-stream&#39; not supported for bodyType=java.util.Map&lt;java.lang.String, java.lang.String&gt;))\r\n\r\nController is \r\n\r\n    @Slf4j\r\n    @Controller\r\n    @RequiredArgsConstructor\r\n    public class EmployeeController {\r\n    \r\n        private final EmployeeService employeeService;\r\n    \t\r\n    \t@PostMapping(path =&quot;/employees&quot;,produces =  APPLICATION_JSON_VALUE)\r\n        public @ResponseBody Mono&lt;Map&lt;String, String&gt;&gt; saveEmployees(@RequestBody List&lt;EmployeeDto&gt; employeeDtos) {\r\n            log.info(&quot;Received request to save employees [{}]&quot;, employeeDtos);\r\n            return employeeService.saveEmployee(employeeDtos);\r\n        }\r\n    }\r\n\r\nService class as below:\r\n\r\n    @Service\r\n    @Slf4j\r\n    @RequiredArgsConstructor\r\n    public class EmployeeService {\r\n    \r\n        private final WebClient webClient;\r\n    \r\n        public Mono&lt;Map&lt;String, String&gt;&gt; saveEmployees(List&lt;EmployeeDto&gt; employeeDtos) {\r\n            return webClient\r\n                    .post()\r\n                    .uri(&quot;/create-employees&quot;)\r\n                    .contentType(APPLICATION_JSON)\r\n                    .bodyValue(employeeDtos)\r\n                    .retrieve()\r\n                    .bodyToMono(new ParameterizedTypeReference&lt;Map&lt;String, String&gt;&gt;() {\r\n                    })\r\n                    .doOnError(e -&gt; log.error(&quot;Failed to save employees {}: {}&quot;, employeeDtos, e));\r\n\r\n  \r\nJunit is as below:\r\n\r\n    @Slf4j\r\n    @SpringBootTest\r\n    class EmployeeServiceTest {\r\n    \r\n    private static final WireMockServer wireMockServer = new WireMockServer(wireMockConfig().dynamicPort());\r\n    \r\n        @Autowired\r\n        private ObjectMapper objectMapper;\r\n    \r\n        @Autowired\r\n        private EmployeeService employeeService;\r\n    \r\n    \t@Test\r\n        void shouldMakeAPostApiCallToSaveEmployee() throws JsonProcessingException {\r\n            var actualemployeeDtos = &quot;....&quot;;\r\n    \t\tvar randomEmployeeDto = ...;\r\n            wireMockServer.stubFor(post(&quot;/create-employees&quot;)\r\n                    .withHeader(CONTENT_TYPE, equalTo(APPLICATION_JSON_VALUE))\r\n                    .withHeader(ACCEPT, containing(APPLICATION_JSON_VALUE))\r\n                    .withRequestBody(equalToJson(actualemployeeDtos))\r\n                    .willReturn(aResponse()\r\n                            .withStatus(OK.value())\r\n                            .withBody(&quot;{\\&quot;response\\&quot;: \\&quot;employee saved Successfully\\&quot;}&quot;)));\r\n    \r\n            StepVerifier\r\n                    .create(employeeService.saveEmployee(List.of(randomEmployeeDto)))\r\n                    .expectNext(singletonMap(&quot;response&quot;, &quot;employee saved Successfully&quot;))\r\n                    .verifyComplete();\r\n        }\r\n    }\r\n\r\n","title":"UnsupportedMediaTypeException: Content type &#39;application/octet-stream&#39; not supported for bodyType=java.util.Map&lt;java.lang.String, java.lang.String&gt;))","body":"<p>I am facing below error while running junit for controller. I have already set content-type as Json, still error is same. Any suggestion what could be the issue ?</p>\n<p>Error is</p>\n<pre><code>java.lang.AssertionError: expectation &quot;expectNext({response=employee saved Successfully})&quot; failed (expected: onNext({response=employee saved Successfully}); actual: onError(org.springframework.web.reactive.function.UnsupportedMediaTypeException: Content type 'application/octet-stream' not supported for bodyType=java.util.Map&lt;java.lang.String, java.lang.String&gt;))\n</code></pre>\n<p>Controller is</p>\n<pre><code>@Slf4j\n@Controller\n@RequiredArgsConstructor\npublic class EmployeeController {\n\n    private final EmployeeService employeeService;\n    \n    @PostMapping(path =&quot;/employees&quot;,produces =  APPLICATION_JSON_VALUE)\n    public @ResponseBody Mono&lt;Map&lt;String, String&gt;&gt; saveEmployees(@RequestBody List&lt;EmployeeDto&gt; employeeDtos) {\n        log.info(&quot;Received request to save employees [{}]&quot;, employeeDtos);\n        return employeeService.saveEmployee(employeeDtos);\n    }\n}\n</code></pre>\n<p>Service class as below:</p>\n<pre><code>@Service\n@Slf4j\n@RequiredArgsConstructor\npublic class EmployeeService {\n\n    private final WebClient webClient;\n\n    public Mono&lt;Map&lt;String, String&gt;&gt; saveEmployees(List&lt;EmployeeDto&gt; employeeDtos) {\n        return webClient\n                .post()\n                .uri(&quot;/create-employees&quot;)\n                .contentType(APPLICATION_JSON)\n                .bodyValue(employeeDtos)\n                .retrieve()\n                .bodyToMono(new ParameterizedTypeReference&lt;Map&lt;String, String&gt;&gt;() {\n                })\n                .doOnError(e -&gt; log.error(&quot;Failed to save employees {}: {}&quot;, employeeDtos, e));\n</code></pre>\n<p>Junit is as below:</p>\n<pre><code>@Slf4j\n@SpringBootTest\nclass EmployeeServiceTest {\n\nprivate static final WireMockServer wireMockServer = new WireMockServer(wireMockConfig().dynamicPort());\n\n    @Autowired\n    private ObjectMapper objectMapper;\n\n    @Autowired\n    private EmployeeService employeeService;\n\n    @Test\n    void shouldMakeAPostApiCallToSaveEmployee() throws JsonProcessingException {\n        var actualemployeeDtos = &quot;....&quot;;\n        var randomEmployeeDto = ...;\n        wireMockServer.stubFor(post(&quot;/create-employees&quot;)\n                .withHeader(CONTENT_TYPE, equalTo(APPLICATION_JSON_VALUE))\n                .withHeader(ACCEPT, containing(APPLICATION_JSON_VALUE))\n                .withRequestBody(equalToJson(actualemployeeDtos))\n                .willReturn(aResponse()\n                        .withStatus(OK.value())\n                        .withBody(&quot;{\\&quot;response\\&quot;: \\&quot;employee saved Successfully\\&quot;}&quot;)));\n\n        StepVerifier\n                .create(employeeService.saveEmployee(List.of(randomEmployeeDto)))\n                .expectNext(singletonMap(&quot;response&quot;, &quot;employee saved Successfully&quot;))\n                .verifyComplete();\n    }\n}\n</code></pre>\n"},{"tags":["java","sql","rest"],"answers":[{"tags":[],"owner":{"account_id":17891835,"reputation":95,"user_id":12998127,"display_name":"Badmous"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643728524,"creation_date":1643727935,"answer_id":70942826,"question_id":70942643,"body_markdown":"to the best of my knowledge, you do have spread them as a param to the function but why you don&#39;t you want to use JPA methods like save() to just implement this instead of the custom queries. but you can take a look at this implementation here\r\n\r\nhttps://www.baeldung.com/spring-data-jpa-query","title":"How can I use values from class in @query?","body":"<p>to the best of my knowledge, you do have spread them as a param to the function but why you don't you want to use JPA methods like save() to just implement this instead of the custom queries. but you can take a look at this implementation here</p>\n<p><a href=\"https://www.baeldung.com/spring-data-jpa-query\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-data-jpa-query</a></p>\n"}],"owner":{"account_id":23341803,"reputation":13,"user_id":17416602,"display_name":"vowoker"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":754,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643728524,"creation_date":1643727206,"question_id":70942643,"body_markdown":"**Hi,**\r\n\r\nI&#39;m creating Rest API and here is my question. \r\nFor example I have @Query like this.\r\n\r\n\r\n\r\n    @Query(value = &quot;INSERT INTO table(customer, date_of_loading, date_of_unloading&quot;)\r\n            &quot;VALUES (&#39;BrandA&#39;, &#39;02.02.2022&#39;, &#39;03.02.2022&#39;,&quot;, nativeQuery = true)\r\n    \r\n    void createNewOrder(OrderDto orderId);\r\n\r\nAnd how can I take values from my class OrderDto and send it to the @query?\r\n\r\nI have also other question where I&#39;m sending just a single word for example and here I just have to use &#39;:orderId&#39; to use incomming String but have no idea how to use it with incomming class. Any ideas?\r\n\r\n    @Query(value = &quot;INSERT INTO table (customer) VALUES (:orderId) &quot;, nativeQuery = true)\r\n    \r\n    void createNewUser(@Param(&quot;orderId&quot;) String orderId);\r\n\r\nI just wanna use for example also this same but from OrderDto class like userDto.getCustomer\r\n\r\n\r\nI know that I can manually send it all 1by1 to the function like:\r\n\r\n  \r\n\r\n      void createNewUser(@Param(&quot;orderId&quot;) String orderId, @Param(&quot;test&quot;) String test, @Param(&quot;customer&quot;) String customer, );\r\n\r\n and then use it by :orderId, :test, :customer etc. but take a lot of time and place in code :)\r\n\r\nAny ideas :D???\r\n\r\n\r\n\r\n\r\n\r\n    @Query(\r\n        value= &quot;SELECT * FROM `users` WHERE `name`=?1 AND `age`=?2&quot;,\r\n        nativeQuery = true\r\n    )\r\n    UserEntity findUser(String userName, Integer userAge);\r\n\r\nCan u somehow use this same like:\r\n\r\n    @Query(\r\n        value= &quot;SELECT * FROM `users` WHERE `name`=user.name AND `age`=user.age&quot;,\r\n        nativeQuery = true\r\n    )\r\n    UserEntity findUser(User user);\r\n","title":"How can I use values from class in @query?","body":"<p><strong>Hi,</strong></p>\n<p>I'm creating Rest API and here is my question.\nFor example I have @Query like this.</p>\n<pre><code>@Query(value = &quot;INSERT INTO table(customer, date_of_loading, date_of_unloading&quot;)\n        &quot;VALUES ('BrandA', '02.02.2022', '03.02.2022',&quot;, nativeQuery = true)\n\nvoid createNewOrder(OrderDto orderId);\n</code></pre>\n<p>And how can I take values from my class OrderDto and send it to the @query?</p>\n<p>I have also other question where I'm sending just a single word for example and here I just have to use ':orderId' to use incomming String but have no idea how to use it with incomming class. Any ideas?</p>\n<pre><code>@Query(value = &quot;INSERT INTO table (customer) VALUES (:orderId) &quot;, nativeQuery = true)\n\nvoid createNewUser(@Param(&quot;orderId&quot;) String orderId);\n</code></pre>\n<p>I just wanna use for example also this same but from OrderDto class like userDto.getCustomer</p>\n<p>I know that I can manually send it all 1by1 to the function like:</p>\n<pre><code>  void createNewUser(@Param(&quot;orderId&quot;) String orderId, @Param(&quot;test&quot;) String test, @Param(&quot;customer&quot;) String customer, );\n</code></pre>\n<p>and then use it by :orderId, :test, :customer etc. but take a lot of time and place in code :)</p>\n<p>Any ideas :D???</p>\n<pre><code>@Query(\n    value= &quot;SELECT * FROM `users` WHERE `name`=?1 AND `age`=?2&quot;,\n    nativeQuery = true\n)\nUserEntity findUser(String userName, Integer userAge);\n</code></pre>\n<p>Can u somehow use this same like:</p>\n<pre><code>@Query(\n    value= &quot;SELECT * FROM `users` WHERE `name`=user.name AND `age`=user.age&quot;,\n    nativeQuery = true\n)\nUserEntity findUser(User user);\n</code></pre>\n"},{"tags":["java","kotlin"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":3,"creation_date":1643723208,"post_id":70941592,"comment_id":125411142,"body_markdown":"&quot;Let&#39;s discuss&quot; No, Stack Overflow is not a place for discussions.","body":"&quot;Let&#39;s discuss&quot; No, Stack Overflow is not a place for discussions."},{"owner":{"account_id":3622515,"reputation":3911,"user_id":3020903,"accept_rate":50,"display_name":"Tarmo"},"score":1,"creation_date":1643723515,"post_id":70941592,"comment_id":125411284,"body_markdown":"@Sweeper While this is technically true, it&#39;s still an interesting question that will probably have a very concrete answer and therefor it suits the QA format very well. I once had a similar &quot;why standard library is the way it is&quot; and I added it here https://softwareengineering.stackexchange.com. Still not sure if this was the right place for it though. At least no one complained.","body":"@Sweeper While this is technically true, it&#39;s still an interesting question that will probably have a very concrete answer and therefor it suits the QA format very well. I once had a similar &quot;why standard library is the way it is&quot; and I added it here <a href=\"https://softwareengineering.stackexchange.com\">softwareengineering.stackexchange.com</a>. Still not sure if this was the right place for it though. At least no one complained."}],"answers":[{"tags":[],"owner":{"account_id":23110408,"reputation":6937,"user_id":17218429,"display_name":"lukas.j"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1643724498,"creation_date":1643723316,"answer_id":70941652,"question_id":70941592,"body_markdown":"You need to filter out the first and last element:\r\n\r\n    &quot;???&quot;.split(&quot;&quot;).drop(1).dropLast(1)\r\n\r\nCheck out this example:\r\n\r\n    &quot;&quot;.split(&quot;&quot;)   // [, ]\r\n\r\n&gt; Splits this char sequence to a list of strings around occurrences of the specified delimiters.\r\n\r\nSee https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/split.html","title":"Why does Kotlin&#39;s split(&quot;&quot;) function result in a leading and trailing empty string?","body":"<p>You need to filter out the first and last element:</p>\n<pre><code>&quot;???&quot;.split(&quot;&quot;).drop(1).dropLast(1)\n</code></pre>\n<p>Check out this example:</p>\n<pre><code>&quot;&quot;.split(&quot;&quot;)   // [, ]\n</code></pre>\n<blockquote>\n<p>Splits this char sequence to a list of strings around occurrences of the specified delimiters.</p>\n</blockquote>\n<p>See <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/split.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/split.html</a></p>\n"},{"tags":[],"owner":{"account_id":8984727,"reputation":2962,"user_id":6698642,"display_name":"shriakhilc"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1643724247,"creation_date":1643723695,"answer_id":70941751,"question_id":70941592,"body_markdown":"This is because the Java [`split(String regex)`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#split(java.lang.String)) method explicitly removes them:\r\n\r\n&gt; This method works as if by invoking the two-argument split method with the given expression and a limit argument of zero. Trailing empty strings are therefore not included in the resulting array. \r\n\r\n[`split(String regex, int limit)`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#split(java.lang.String,int)) mentions:\r\n&gt; When there is a positive-width match at the beginning of this string then an empty leading substring is included at the beginning of the resulting array. A zero-width match at the beginning however never produces such empty leading substring.\r\n\r\n`&quot;&quot;` is a zero-width match. Not sure why you consider `toCharArray()` to not be intuitive here, splitting by an empty string to iterate over all characters is a roundabout way of doing things. `split()` is intended to pattern match and get groups of Strings.\r\n\r\nPS: I checked JDK 8, 11 and 17, behavior seems to be consistent for a while now.","title":"Why does Kotlin&#39;s split(&quot;&quot;) function result in a leading and trailing empty string?","body":"<p>This is because the Java <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#split(java.lang.String)\" rel=\"noreferrer\"><code>split(String regex)</code></a> method explicitly removes them:</p>\n<blockquote>\n<p>This method works as if by invoking the two-argument split method with the given expression and a limit argument of zero. Trailing empty strings are therefore not included in the resulting array.</p>\n</blockquote>\n<p><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#split(java.lang.String,int)\" rel=\"noreferrer\"><code>split(String regex, int limit)</code></a> mentions:</p>\n<blockquote>\n<p>When there is a positive-width match at the beginning of this string then an empty leading substring is included at the beginning of the resulting array. A zero-width match at the beginning however never produces such empty leading substring.</p>\n</blockquote>\n<p><code>&quot;&quot;</code> is a zero-width match. Not sure why you consider <code>toCharArray()</code> to not be intuitive here, splitting by an empty string to iterate over all characters is a roundabout way of doing things. <code>split()</code> is intended to pattern match and get groups of Strings.</p>\n<p>PS: I checked JDK 8, 11 and 17, behavior seems to be consistent for a while now.</p>\n"}],"owner":{"account_id":9976637,"reputation":133,"user_id":7381002,"display_name":"mario45211"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1602,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":70941751,"answer_count":2,"score":6,"last_activity_date":1643728424,"creation_date":1643723048,"question_id":70941592,"body_markdown":"I&#39;m a Java developer who tried Kotlin and found a counterintuitive case between these two languages.\r\n\r\nConsider the given code in Kotlin:\r\n```kotlin\r\n&quot;???&quot;.split(&quot;&quot;)  # gives [&quot;&quot;, &quot;?&quot;, &quot;?&quot;, &quot;?&quot;, &quot;&quot;]\r\n```\r\nand the same in Java:\r\n```java\r\n&quot;???&quot;.split(&quot;&quot;)  # gives [&quot;?&quot;, &quot;?&quot;, &quot;?&quot;]\r\n```\r\n\r\nWhy does Kotlin produce a leading and trailing empty space string in the resulting array? Or does Java always removes these empty strings, and I just wasn&#39;t aware of that?\r\n\r\nI know that there is the `toCharArray()` method on each Kotlin `String`, but still, it&#39;s not very intuitive (maybe the Java developers should give up old habits from Java which they were hoping to reuse in a new language?).","title":"Why does Kotlin&#39;s split(&quot;&quot;) function result in a leading and trailing empty string?","body":"<p>I'm a Java developer who tried Kotlin and found a counterintuitive case between these two languages.</p>\n<p>Consider the given code in Kotlin:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>&quot;???&quot;.split(&quot;&quot;)  # gives [&quot;&quot;, &quot;?&quot;, &quot;?&quot;, &quot;?&quot;, &quot;&quot;]\n</code></pre>\n<p>and the same in Java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>&quot;???&quot;.split(&quot;&quot;)  # gives [&quot;?&quot;, &quot;?&quot;, &quot;?&quot;]\n</code></pre>\n<p>Why does Kotlin produce a leading and trailing empty space string in the resulting array? Or does Java always removes these empty strings, and I just wasn't aware of that?</p>\n<p>I know that there is the <code>toCharArray()</code> method on each Kotlin <code>String</code>, but still, it's not very intuitive (maybe the Java developers should give up old habits from Java which they were hoping to reuse in a new language?).</p>\n"},{"tags":["java","imap"],"answers":[{"tags":[],"owner":{"account_id":1550376,"reputation":10772,"user_id":1442918,"display_name":"Max"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1643728382,"creation_date":1643728382,"answer_id":70942926,"question_id":70942076,"body_markdown":"By protocol specification, the main folder is a special folder always named INBOX.\r\n\r\nSee [IMAP RFC 3501 &#167;5.1](https://datatracker.ietf.org/doc/html/rfc3501#section-5.1):\r\n\r\n&gt; The case-insensitive mailbox name INBOX is a special name reserved to\r\n&gt; mean &quot;the primary mailbox for this user on this server&quot;.  The\r\n&gt; interpretation of all other names is implementation-dependent.\r\n\r\n","title":"Identifying the Inbox folder through IMAP","body":"<p>By protocol specification, the main folder is a special folder always named INBOX.</p>\n<p>See <a href=\"https://datatracker.ietf.org/doc/html/rfc3501#section-5.1\" rel=\"nofollow noreferrer\">IMAP RFC 3501 §5.1</a>:</p>\n<blockquote>\n<p>The case-insensitive mailbox name INBOX is a special name reserved to\nmean &quot;the primary mailbox for this user on this server&quot;.  The\ninterpretation of all other names is implementation-dependent.</p>\n</blockquote>\n"}],"owner":{"account_id":1917503,"reputation":63,"user_id":1729790,"display_name":"7UpMan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":299,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70942926,"answer_count":1,"score":1,"last_activity_date":1643728382,"creation_date":1643724957,"question_id":70942076,"body_markdown":"I have connected to an email Store via IMAP (outlook.office365.com).  I can work out which folders to use for deleted, spam, outbox and so on, using the LIST command which passes back flags that I can use.\r\n\r\nThe question is, &quot;how do I know what to use for the InBox&quot;.  I could just hard-code the name, but that seems likely to fail rapidly.  I am sure I am missing something, because if the other folders are tagged, then &quot;inbox&quot; would be a strange omission.\r\n\r\nLooking forward to your help.  Thanks.\r\n\r\nPS - I am doing this with the Java Mail API if that makes a difference to the response.","title":"Identifying the Inbox folder through IMAP","body":"<p>I have connected to an email Store via IMAP (outlook.office365.com).  I can work out which folders to use for deleted, spam, outbox and so on, using the LIST command which passes back flags that I can use.</p>\n<p>The question is, &quot;how do I know what to use for the InBox&quot;.  I could just hard-code the name, but that seems likely to fail rapidly.  I am sure I am missing something, because if the other folders are tagged, then &quot;inbox&quot; would be a strange omission.</p>\n<p>Looking forward to your help.  Thanks.</p>\n<p>PS - I am doing this with the Java Mail API if that makes a difference to the response.</p>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1643721463,"post_id":70941148,"comment_id":125410414,"body_markdown":"A) you want to read [mcve]. How do you think we could tell you what is wrong about your .iml files when you are not sharing the relevant content? B) Your question doesn&#39;t make sense. .iml files are PURE text. Meaning: when all your team members are using IntelliJ, then you can simple add all relevant files of your project setup to your SVN/GIT/... whatever repository. C) But first: what is the TRUE source of your project definition? There cant be **two** of them. It is either a maven project, or it is an IntelliJ project.","body":"A) you want to read <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. How do you think we could tell you what is wrong about your .iml files when you are not sharing the relevant content? B) Your question doesn&#39;t make sense. .iml files are PURE text. Meaning: when all your team members are using IntelliJ, then you can simple add all relevant files of your project setup to your SVN/GIT/... whatever repository. C) But first: what is the TRUE source of your project definition? There cant be <b>two</b> of them. It is either a maven project, or it is an IntelliJ project."},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1643933597,"post_id":70941148,"comment_id":125478169,"body_markdown":"I never commit .iml file to any version control system - Subversion or Git.  Don&#39;t do it.  As a matter of fact I add IntelliJ /.idea directory and *.iml to my .gitignore file to make sure it is never committed.","body":"I never commit .iml file to any version control system - Subversion or Git.  Don&#39;t do it.  As a matter of fact I add IntelliJ /.idea directory and *.iml to my .gitignore file to make sure it is never committed."},{"owner":{"account_id":11586393,"reputation":91,"user_id":8488413,"display_name":"dbp"},"score":0,"creation_date":1657834248,"post_id":70941148,"comment_id":128911129,"body_markdown":"@duffymo This will mean that you do not persist run configurations, for example, into the repository.  YMMV, but this is a useful feature for our team.  IMO, Intellij should create two directories within .idea, one for usefully shared files and one for the rest.  Otherwise it is a guessing game.","body":"@duffymo This will mean that you do not persist run configurations, for example, into the repository.  YMMV, but this is a useful feature for our team.  IMO, Intellij should create two directories within .idea, one for usefully shared files and one for the rest.  Otherwise it is a guessing game."},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1657886826,"post_id":70941148,"comment_id":128922184,"body_markdown":"Correct.  Teams should know how to set up projects.  We don’t ever persist them.  Know your tools.","body":"Correct.  Teams should know how to set up projects.  We don’t ever persist them.  Know your tools."}],"answers":[{"tags":[],"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1643728080,"creation_date":1643721545,"answer_id":70941240,"question_id":70941148,"body_markdown":"Your problem is not likely to be the .iml file.  You should not be touching that file at all and do not need to share the `.iml` files. IDE will automatically generate them based on the configuration of your Maven project, e.g. dependencies, compiler settings etc in the pom.xml files.\r\n\r\nIt&#39;s far more likely that your Maven setup is wrong.\r\n\r\nYou should have a pom.xml that&#39;s validated by IntelliJ.  \r\n\r\nYou should see a Maven tab on the right hand side of the IDE that shows your dependencies.  \r\n\r\nYour source and test code must follow the [Maven directory structure][1].  \r\n\r\nI&#39;d mark /src and /resource directories under /main and /test appropriately in IntelliJ using &quot;Mark directory as...&quot;\r\n\r\nIf any one of those pieces are incorrect your IntelliJ project isn&#39;t set up properly.  You need not look at the .iml.  The problem lies elsewhere.\r\n\r\nYour error message is clear: \r\n\r\n    java.lang.NoClassDefFoundError: com/upokecenter/cbor/CBORObject\r\n\r\nIs that class yours or part of a dependency you add with Maven?\r\n\r\nYou should run the Maven package lifecycle and make sure your code was compiled and added to the CLASSPATH.\r\n\r\nCheck your Maven tab to make sure the dependency with that class was added successfully.\r\n\r\nHow do you package your app?  Is it an executable JAR?  How do you create it?  There&#39;s a [Maven plug-in][2] that will add all your dependency JARs into your executable JAR.  Are you using it?\r\n\r\nThere should not be any JAR files added to your IntelliJ project.  You&#39;ll find them in your local `.m2` directory.  It&#39;s better that way: you don&#39;t duplicate JARs in projects and they&#39;re all in a central place.\r\n\r\n\r\n  [1]: https://maven.apache.org/guides/introduction/introduction-to-the-standard-directory-layout.html\r\n  [2]: https://www.baeldung.com/executable-jar-with-maven","title":"how .iml works in intellij","body":"<p>Your problem is not likely to be the .iml file.  You should not be touching that file at all and do not need to share the <code>.iml</code> files. IDE will automatically generate them based on the configuration of your Maven project, e.g. dependencies, compiler settings etc in the pom.xml files.</p>\n<p>It's far more likely that your Maven setup is wrong.</p>\n<p>You should have a pom.xml that's validated by IntelliJ.</p>\n<p>You should see a Maven tab on the right hand side of the IDE that shows your dependencies.</p>\n<p>Your source and test code must follow the <a href=\"https://maven.apache.org/guides/introduction/introduction-to-the-standard-directory-layout.html\" rel=\"nofollow noreferrer\">Maven directory structure</a>.</p>\n<p>I'd mark /src and /resource directories under /main and /test appropriately in IntelliJ using &quot;Mark directory as...&quot;</p>\n<p>If any one of those pieces are incorrect your IntelliJ project isn't set up properly.  You need not look at the .iml.  The problem lies elsewhere.</p>\n<p>Your error message is clear:</p>\n<pre><code>java.lang.NoClassDefFoundError: com/upokecenter/cbor/CBORObject\n</code></pre>\n<p>Is that class yours or part of a dependency you add with Maven?</p>\n<p>You should run the Maven package lifecycle and make sure your code was compiled and added to the CLASSPATH.</p>\n<p>Check your Maven tab to make sure the dependency with that class was added successfully.</p>\n<p>How do you package your app?  Is it an executable JAR?  How do you create it?  There's a <a href=\"https://www.baeldung.com/executable-jar-with-maven\" rel=\"nofollow noreferrer\">Maven plug-in</a> that will add all your dependency JARs into your executable JAR.  Are you using it?</p>\n<p>There should not be any JAR files added to your IntelliJ project.  You'll find them in your local <code>.m2</code> directory.  It's better that way: you don't duplicate JARs in projects and they're all in a central place.</p>\n"},{"tags":[],"owner":{"account_id":6974643,"reputation":939,"user_id":6513673,"display_name":"saeedata"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1643721773,"creation_date":1643721773,"answer_id":70941290,"question_id":70941148,"body_markdown":"The .iml file is just an auto-generated file that contains some configuration about projects. The file will create when you create a new project or when open a project if it doesn&#39;t exist. That&#39;s the reason that it typically ignores in git. The best trick is to remove the current file and let the IDE create a new one.","title":"how .iml works in intellij","body":"<p>The .iml file is just an auto-generated file that contains some configuration about projects. The file will create when you create a new project or when open a project if it doesn't exist. That's the reason that it typically ignores in git. The best trick is to remove the current file and let the IDE create a new one.</p>\n"}],"owner":{"account_id":24110211,"reputation":21,"user_id":18080908,"display_name":"Alessandro Caruso"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3237,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1643728080,"creation_date":1643721023,"question_id":70941148,"body_markdown":"I have a problem with .iml file in INTELLIJ IDEA. I&#39;m using maven in my java project and i have dependencies by some libraries. I have two different cases:\r\n\r\n***1. First***: i  import my project into INTELLIJ and i use a classic .iml file that the ide creates for me, so i simply run my application. In this case i get always this  error:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: com/upokecenter/cbor/CBORObject\r\n    at cose.java@0.9.7/COSE.Message.DecodeFromBytes(Message.java:65)\r\n    at cose.java@0.9.7/COSE.Message.DecodeFromBytes(Message.java:51)\r\n    at kapta.classes/kapta.VerifyGreenPass.verify(VerifyGreenPass.java:44)\r\n    at kapta.classes/kapta.DummyMainForVerifyGreenPass.main(DummyMainForVerifyGreenPass.java:6) \r\n\r\n***2. Second***: i paste the code of the .iml file from an application (with the same code of the not working, but its running configuration were setted properly in the .iml file) into the actual .iml file. In this case I have no runtime errors. So it seems that my run time exception is due to the format of the .iml file, but i don&#39;t understand why.\r\n\r\nSo i would like to understand how the .iml works and how i can share it with my team by using SVN, cause .iml file generally it is not included in the commits. Shortly,a version that works for me, doesn&#39;t work on my team mates&#39; machine and the it doesn&#39;t work for me if i re-import the project.\r\n These are the dependencies in maven.\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0bFPv.png","title":"how .iml works in intellij","body":"<p>I have a problem with .iml file in INTELLIJ IDEA. I'm using maven in my java project and i have dependencies by some libraries. I have two different cases:</p>\n<p><em><strong>1. First</strong></em>: i  import my project into INTELLIJ and i use a classic .iml file that the ide creates for me, so i simply run my application. In this case i get always this  error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: com/upokecenter/cbor/CBORObject\nat cose.java@0.9.7/COSE.Message.DecodeFromBytes(Message.java:65)\nat cose.java@0.9.7/COSE.Message.DecodeFromBytes(Message.java:51)\nat kapta.classes/kapta.VerifyGreenPass.verify(VerifyGreenPass.java:44)\nat kapta.classes/kapta.DummyMainForVerifyGreenPass.main(DummyMainForVerifyGreenPass.java:6) \n</code></pre>\n<p><em><strong>2. Second</strong></em>: i paste the code of the .iml file from an application (with the same code of the not working, but its running configuration were setted properly in the .iml file) into the actual .iml file. In this case I have no runtime errors. So it seems that my run time exception is due to the format of the .iml file, but i don't understand why.</p>\n<p>So i would like to understand how the .iml works and how i can share it with my team by using SVN, cause .iml file generally it is not included in the commits. Shortly,a version that works for me, doesn't work on my team mates' machine and the it doesn't work for me if i re-import the project.\nThese are the dependencies in maven.\n<a href=\"https://i.stack.imgur.com/0bFPv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0bFPv.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","log4j","log4j2","graylog","gelf"],"answers":[{"tags":[],"owner":{"account_id":24074560,"reputation":84,"user_id":18050083,"display_name":"PJMan0300"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1643727940,"creation_date":1643727940,"answer_id":70942829,"question_id":70942775,"body_markdown":"\r\nYes, there is a way to remove this. The answer is quite straightforward.\r\n\r\nJust use the `Custom GelfLayout`. You can use the configuration from above but remove the `includeStackTrace`, `includeThreadContext` and `customFields` line:\r\n\r\n```\r\n &lt;GelfLayout compressionType=&quot;OFF&quot; includeStackTrace=&quot;true&quot; includeThreadContext=&quot;true&quot; &gt;  \r\n            &lt;KeyValuePair key=&quot;host&quot; value=&quot;$${ctx:mdchost}&quot; /&gt;            \r\n            &lt;KeyValuePair key=&quot;level&quot; value=&quot;3&quot; /&gt;\r\n            &lt;KeyValuePair key=&quot;GL_timestamp&quot; value=&quot;${date:yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSZ}&quot; /&gt;                                            \r\n            &lt;KeyValuePair key=&quot;GL_environment&quot; value=&quot;$${ctx:mdcenv}&quot; /&gt;\r\n            &lt;KeyValuePair key=&quot;GL_userid&quot; value=&quot;$${ctx:mdcLogAgentId}&quot; /&gt;            \r\n        &lt;/GelfLayout&gt;\r\n```\r\n\r\nAnd you will have this output:\r\n\r\n`&quot;_GL_correlationId&quot;:&quot;${ctx:correlationId}&quot;, &quot;_GL_logdir&quot;:&quot;/usr/local/pfs/logs/server6/&quot;, &quot;_GL_jvm&quot;:&quot;${ctx:jvm}&quot;,`","title":"Using log4j2 gelflayout, is there a way to suppress adding the underscore in the final payload","body":"<p>Yes, there is a way to remove this. The answer is quite straightforward.</p>\n<p>Just use the <code>Custom GelfLayout</code>. You can use the configuration from above but remove the <code>includeStackTrace</code>, <code>includeThreadContext</code> and <code>customFields</code> line:</p>\n<pre><code> &lt;GelfLayout compressionType=&quot;OFF&quot; includeStackTrace=&quot;true&quot; includeThreadContext=&quot;true&quot; &gt;  \n            &lt;KeyValuePair key=&quot;host&quot; value=&quot;$${ctx:mdchost}&quot; /&gt;            \n            &lt;KeyValuePair key=&quot;level&quot; value=&quot;3&quot; /&gt;\n            &lt;KeyValuePair key=&quot;GL_timestamp&quot; value=&quot;${date:yyyy-MM-dd'T'HH:mm:ss.SSSZ}&quot; /&gt;                                            \n            &lt;KeyValuePair key=&quot;GL_environment&quot; value=&quot;$${ctx:mdcenv}&quot; /&gt;\n            &lt;KeyValuePair key=&quot;GL_userid&quot; value=&quot;$${ctx:mdcLogAgentId}&quot; /&gt;            \n        &lt;/GelfLayout&gt;\n</code></pre>\n<p>And you will have this output:</p>\n<p><code>&quot;_GL_correlationId&quot;:&quot;${ctx:correlationId}&quot;, &quot;_GL_logdir&quot;:&quot;/usr/local/pfs/logs/server6/&quot;, &quot;_GL_jvm&quot;:&quot;${ctx:jvm}&quot;,</code></p>\n"}],"owner":{"account_id":6291,"reputation":11568,"user_id":10522,"accept_rate":78,"display_name":"Berlin Brown"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":236,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70942829,"answer_count":1,"score":0,"last_activity_date":1643727940,"creation_date":1643727757,"question_id":70942775,"body_markdown":"We are trying to set a custom field but the GelfLayout with log4j seems to inject an under score when using the Key Value configuration.  Is there a way to override that.\r\n\r\nHere is the configuration:\r\n\r\n     &lt;Console name=&quot;GreyLogSysOut&quot; target=&quot;SYSTEM_OUT&quot;&gt;                \r\n            &lt;GelfLayout compressionType=&quot;OFF&quot; includeStackTrace=&quot;true&quot; includeThreadContext=&quot;true&quot; &gt;  \r\n                &lt;KeyValuePair key=&quot;host&quot; value=&quot;$${ctx:mdchost}&quot; /&gt;            \r\n                &lt;KeyValuePair key=&quot;level&quot; value=&quot;3&quot; /&gt;\r\n                &lt;KeyValuePair key=&quot;GL_timestamp&quot; value=&quot;${date:yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSZ}&quot; /&gt;\r\n                &lt;KeyValuePair key=&quot;GL_timestamp&quot; value=&quot;${date:yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSZ}&quot; /&gt;                                        \r\n                &lt;KeyValuePair key=&quot;GL_environment&quot; value=&quot;$${ctx:mdcenv}&quot; /&gt;\r\n                &lt;KeyValuePair key=&quot;GL_userid&quot; value=&quot;$${ctx:mdcLogAgentId}&quot; /&gt;\r\n                &lt;KeyValuePair key=&quot;GL_process&quot; value=&quot;PriPolApps&quot; /&gt;\r\n                &lt;KeyValuePair key=&quot;GL_appclass&quot; value=&quot;PriPolApps&quot; /&gt;\r\n                &lt;KeyValuePair key=&quot;GL_appid&quot; value=&quot;$${ctx:mdcappid}&quot; /&gt;\r\n                &lt;KeyValuePair key=&quot;GL_sessionId&quot; value=&quot;$${ctx:mdcLogSessionId}&quot; /&gt;\r\n                &lt;KeyValuePair key=&quot;GL_correlationId&quot; value=&quot;$${ctx:correlationId}&quot; /&gt;                \r\n                &lt;KeyValuePair key=&quot;GL_logdir&quot; value=&quot;${sys:appserver.Name}&quot; /&gt;\r\n                &lt;KeyValuePair key=&quot;GL_jvm&quot; value=&quot;$${ctx:jvm}&quot; /&gt;\r\n            &lt;/GelfLayout&gt;        \r\n        &lt;/Console&gt;   \r\n\r\n\r\nBut the output injects underscore, is there a way to remove.\r\n\r\n   &quot;_GL_correlationId&quot;:&quot;${ctx:correlationId}&quot;,\r\n   &quot;_GL_logdir&quot;:&quot;/usr/local/pfs/logs/server6/&quot;,\r\n   &quot;_GL_jvm&quot;:&quot;${ctx:jvm}&quot;,\r\n","title":"Using log4j2 gelflayout, is there a way to suppress adding the underscore in the final payload","body":"<p>We are trying to set a custom field but the GelfLayout with log4j seems to inject an under score when using the Key Value configuration.  Is there a way to override that.</p>\n<p>Here is the configuration:</p>\n<pre><code> &lt;Console name=&quot;GreyLogSysOut&quot; target=&quot;SYSTEM_OUT&quot;&gt;                \n        &lt;GelfLayout compressionType=&quot;OFF&quot; includeStackTrace=&quot;true&quot; includeThreadContext=&quot;true&quot; &gt;  \n            &lt;KeyValuePair key=&quot;host&quot; value=&quot;$${ctx:mdchost}&quot; /&gt;            \n            &lt;KeyValuePair key=&quot;level&quot; value=&quot;3&quot; /&gt;\n            &lt;KeyValuePair key=&quot;GL_timestamp&quot; value=&quot;${date:yyyy-MM-dd'T'HH:mm:ss.SSSZ}&quot; /&gt;\n            &lt;KeyValuePair key=&quot;GL_timestamp&quot; value=&quot;${date:yyyy-MM-dd'T'HH:mm:ss.SSSZ}&quot; /&gt;                                        \n            &lt;KeyValuePair key=&quot;GL_environment&quot; value=&quot;$${ctx:mdcenv}&quot; /&gt;\n            &lt;KeyValuePair key=&quot;GL_userid&quot; value=&quot;$${ctx:mdcLogAgentId}&quot; /&gt;\n            &lt;KeyValuePair key=&quot;GL_process&quot; value=&quot;PriPolApps&quot; /&gt;\n            &lt;KeyValuePair key=&quot;GL_appclass&quot; value=&quot;PriPolApps&quot; /&gt;\n            &lt;KeyValuePair key=&quot;GL_appid&quot; value=&quot;$${ctx:mdcappid}&quot; /&gt;\n            &lt;KeyValuePair key=&quot;GL_sessionId&quot; value=&quot;$${ctx:mdcLogSessionId}&quot; /&gt;\n            &lt;KeyValuePair key=&quot;GL_correlationId&quot; value=&quot;$${ctx:correlationId}&quot; /&gt;                \n            &lt;KeyValuePair key=&quot;GL_logdir&quot; value=&quot;${sys:appserver.Name}&quot; /&gt;\n            &lt;KeyValuePair key=&quot;GL_jvm&quot; value=&quot;$${ctx:jvm}&quot; /&gt;\n        &lt;/GelfLayout&gt;        \n    &lt;/Console&gt;   \n</code></pre>\n<p>But the output injects underscore, is there a way to remove.</p>\n<p>&quot;_GL_correlationId&quot;:&quot;${ctx:correlationId}&quot;,\n&quot;_GL_logdir&quot;:&quot;/usr/local/pfs/logs/server6/&quot;,\n&quot;_GL_jvm&quot;:&quot;${ctx:jvm}&quot;,</p>\n"},{"tags":["java","spring","hibernate","jpa","kotlin"],"comments":[{"owner":{"account_id":3396872,"reputation":522,"user_id":2850253,"accept_rate":33,"display_name":"yhware"},"score":0,"creation_date":1586008474,"post_id":61028673,"comment_id":107969233,"body_markdown":"which DB is this?","body":"which DB is this?"},{"owner":{"account_id":15424243,"reputation":3910,"user_id":11127438,"display_name":"Tien Do Nam"},"score":0,"creation_date":1586009235,"post_id":61028673,"comment_id":107969497,"body_markdown":"I am using Postgres","body":"I am using Postgres"}],"answers":[{"tags":[],"owner":{"account_id":10162810,"reputation":1428,"user_id":7505731,"display_name":"Hemant"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1586011599,"creation_date":1586006621,"answer_id":61028757,"question_id":61028673,"body_markdown":"You can have an abstract base class with Id like :\r\n\r\n```\r\nimport javax.persistence.GeneratedValue;\r\nimport javax.persistence.GenerationType;\r\nimport javax.persistence.Id;\r\nimport javax.persistence.MappedSuperclass;\r\n\r\n@MappedSuperclass\r\npublic abstract class BaseEntity {\r\n\r\n\t@Id \r\n\t@GeneratedValue(strategy = GenerationType.SEQUENCE)\r\n\tprivate Long id;\r\n\r\n    public Long getId() {\r\n\t\treturn id;\r\n\t}\r\n\r\n\tpublic void setId(Long id) {\r\n\t\tthis.id = id;\r\n\t}\r\n\t\r\n}\r\n```\r\n\r\nand every entity will extend this.","title":"Spring Boot: Set hibernate sequence globally","body":"<p>You can have an abstract base class with Id like :</p>\n\n<pre><code>import javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.MappedSuperclass;\n\n@MappedSuperclass\npublic abstract class BaseEntity {\n\n    @Id \n    @GeneratedValue(strategy = GenerationType.SEQUENCE)\n    private Long id;\n\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n}\n</code></pre>\n\n<p>and every entity will extend this.</p>\n"}],"owner":{"account_id":15424243,"reputation":3910,"user_id":11127438,"display_name":"Tien Do Nam"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1151,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1643727816,"creation_date":1586006199,"question_id":61028673,"body_markdown":"Currently I define the tables the following way:\r\n\r\nThe example is in Kotlin, but you can answer in Java if you want.\r\n\r\n```kotlin\r\n@Entity\r\ndata class Task(@Id @GeneratedValue(strategy = GenerationType.SEQUENCE)\r\n                var id: Int = 0,\r\n                \r\n                @ManyToOne(optional = false) @OnDelete(action = OnDeleteAction.CASCADE)\r\n                var exercise: Exercise = Exercise(),\r\n\r\n                @Column(nullable = false)\r\n                var name: String = &quot;&quot;)\r\n\r\n@Entity\r\ndata class Exercise(@Id @GeneratedValue(strategy = GenerationType.SEQUENCE)\r\n                    var id: Int = 0,\r\n\r\n                    @Column(nullable = false)\r\n                    var count: Int = 0)\r\n```\r\n\r\nUsing this example all tables are using the same sequence: `hibernate_sequence`.\r\n\r\nIf I want to configure it e.g. setting a custom `allocationSize `, then I must define it in every table, am I right?\r\n\r\n`@SequenceGenerator(name = &quot;task_seq&quot;, sequenceName = &quot;task_seq&quot;, allocationSize = 100)`\r\n\r\nIs there a Bean or anything else? Because I like the idea of using the same sequence for all tables.","title":"Spring Boot: Set hibernate sequence globally","body":"<p>Currently I define the tables the following way:</p>\n\n<p>The example is in Kotlin, but you can answer in Java if you want.</p>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>@Entity\ndata class Task(@Id @GeneratedValue(strategy = GenerationType.SEQUENCE)\n                var id: Int = 0,\n\n                @ManyToOne(optional = false) @OnDelete(action = OnDeleteAction.CASCADE)\n                var exercise: Exercise = Exercise(),\n\n                @Column(nullable = false)\n                var name: String = \"\")\n\n@Entity\ndata class Exercise(@Id @GeneratedValue(strategy = GenerationType.SEQUENCE)\n                    var id: Int = 0,\n\n                    @Column(nullable = false)\n                    var count: Int = 0)\n</code></pre>\n\n<p>Using this example all tables are using the same sequence: <code>hibernate_sequence</code>.</p>\n\n<p>If I want to configure it e.g. setting a custom <code>allocationSize</code>, then I must define it in every table, am I right?</p>\n\n<p><code>@SequenceGenerator(name = \"task_seq\", sequenceName = \"task_seq\", allocationSize = 100)</code></p>\n\n<p>Is there a Bean or anything else? Because I like the idea of using the same sequence for all tables.</p>\n"},{"tags":["java","java-text-blocks"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1643732317,"post_id":70942748,"comment_id":125415234,"body_markdown":"This is specified in the Java Language Specification [3.10.6. Text Blocks](https://docs.oracle.com/javase/specs/jls/se17/html/jls-3.html#jls-3.10.6): *&quot;Incidental white space is removed, as if by execution of `String.stripIndent`&quot;* and detailed in [`stripIndent()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#stripIndent()) or even a [Programmer&#39;s Guide to Text Blocks](https://docs.oracle.com/en/java/javase/16/text-blocks/index.html) from Oracle","body":"This is specified in the Java Language Specification <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-3.html#jls-3.10.6\" rel=\"nofollow noreferrer\">3.10.6. Text Blocks</a>: <i>&quot;Incidental white space is removed, as if by execution of <code>String.stripIndent</code>&quot;</i> and detailed in <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#stripIndent()\" rel=\"nofollow noreferrer\"><code>stripIndent()</code></a> or even a <a href=\"https://docs.oracle.com/en/java/javase/16/text-blocks/index.html\" rel=\"nofollow noreferrer\">Programmer&#39;s Guide to Text Blocks</a> from Oracle"}],"answers":[{"tags":[],"owner":{"account_id":3107900,"reputation":3965,"user_id":2630326,"accept_rate":80,"display_name":"Wojciech Wirzbicki"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1643727643,"creation_date":1643727643,"answer_id":70942749,"question_id":70942748,"body_markdown":"You can manipulate indentation by changing closing quotes position in the code (&quot;&quot;&quot;). For example \r\n\r\n    String indentedText = &quot;&quot;&quot;\r\n                    hello\r\n                        indented\r\n                    world\r\n        &quot;&quot;&quot;;\r\n    System.out.println(indentedText);\r\n   \r\nWould produce\r\n\r\n            hello\r\n                indented\r\n            world\r\nbut\r\n\r\n    String indentedText = &quot;&quot;&quot;\r\n                    hello\r\n                        indented\r\n                    world\r\n                    &quot;&quot;&quot;;\r\n    System.out.println(indentedText);\r\nwill produce\r\n\r\n    hello\r\n        indented\r\n    world","title":"Java text block indentation and leading spaces","body":"<p>You can manipulate indentation by changing closing quotes position in the code (&quot;&quot;&quot;). For example</p>\n<pre><code>String indentedText = &quot;&quot;&quot;\n                hello\n                    indented\n                world\n    &quot;&quot;&quot;;\nSystem.out.println(indentedText);\n</code></pre>\n<p>Would produce</p>\n<pre><code>        hello\n            indented\n        world\n</code></pre>\n<p>but</p>\n<pre><code>String indentedText = &quot;&quot;&quot;\n                hello\n                    indented\n                world\n                &quot;&quot;&quot;;\nSystem.out.println(indentedText);\n</code></pre>\n<p>will produce</p>\n<pre><code>hello\n    indented\nworld\n</code></pre>\n"}],"owner":{"account_id":3107900,"reputation":3965,"user_id":2630326,"accept_rate":80,"display_name":"Wojciech Wirzbicki"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1119,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":70942749,"answer_count":1,"score":2,"last_activity_date":1643727643,"creation_date":1643727643,"question_id":70942748,"body_markdown":"Given the following code\r\n\r\n    public class TextBlock {\r\n\r\n        public static void main(String[] args) {\r\n            String indentedText = &quot;&quot;&quot;\r\n                hello\r\n                    indented\r\n                world\r\n            &quot;&quot;&quot;;\r\n            System.out.println(indentedText);\r\n        }\r\n    }\r\n\r\nThe output is as follows (mind the leading spaces):\r\n\r\n        hello\r\n            indented\r\n        world\r\n\r\nHow to obtain String value like below (without unnecessary leading spaces)?\r\n\r\n    hello\r\n        indented\r\n    world","title":"Java text block indentation and leading spaces","body":"<p>Given the following code</p>\n<pre><code>public class TextBlock {\n\n    public static void main(String[] args) {\n        String indentedText = &quot;&quot;&quot;\n            hello\n                indented\n            world\n        &quot;&quot;&quot;;\n        System.out.println(indentedText);\n    }\n}\n</code></pre>\n<p>The output is as follows (mind the leading spaces):</p>\n<pre><code>    hello\n        indented\n    world\n</code></pre>\n<p>How to obtain String value like below (without unnecessary leading spaces)?</p>\n<pre><code>hello\n    indented\nworld\n</code></pre>\n"},{"tags":["java","swing","jframe","jbutton"],"comments":[{"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1642962754,"post_id":70825250,"comment_id":125207827,"body_markdown":"Also, the code you&#39;ve shown has no main method. But as @Chris states, please post code that runs and reproduces the problem for us. Please tell the details, how you run it, how you debug it (println&#39;s or use of a debugger).","body":"Also, the code you&#39;ve shown has no main method. But as @Chris states, please post code that runs and reproduces the problem for us. Please tell the details, how you run it, how you debug it (println&#39;s or use of a debugger)."},{"owner":{"account_id":9067171,"reputation":1177,"user_id":6751603,"accept_rate":100,"display_name":"JavaMan"},"score":0,"creation_date":1642963457,"post_id":70825250,"comment_id":125207993,"body_markdown":"I&#39;ve copied your code, it is working for me.","body":"I&#39;ve copied your code, it is working for me."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1642967745,"post_id":70825250,"comment_id":125209120,"body_markdown":"*`window.setSize(600,600); window.setVisible(true); window.add(button);`* should be `window.add(button); window.pack(); window.setVisible(true);`. Always add all the components before setting the window visible. `window.setSize(600,600);` is no better than a guess, whereas `window.pack();` makes the window the size it needs to be.","body":"<i><code>window.setSize(600,600); window.setVisible(true); window.add(button);</code></i> should be <code>window.add(button); window.pack(); window.setVisible(true);</code>. Always add all the components before setting the window visible. <code>window.setSize(600,600);</code> is no better than a guess, whereas <code>window.pack();</code> makes the window the size it needs to be."},{"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1642967939,"post_id":70825250,"comment_id":125209172,"body_markdown":"No need to re-open the question -- you&#39;re calling `.setVisible(true)` ***before*** adding all components, and often this won&#39;t work since you&#39;re rendering the GUI before it is complete. This is also a duplicate of a gabillion other similar questions, which is why it shouldn&#39;t be re-opened. Solution: only make the JFrame visible *after* you&#39;ve added all components and packed it.","body":"No need to re-open the question -- you&#39;re calling <code>.setVisible(true)</code> <b><i>before</i></b> adding all components, and often this won&#39;t work since you&#39;re rendering the GUI before it is complete. This is also a duplicate of a gabillion other similar questions, which is why it shouldn&#39;t be re-opened. Solution: only make the JFrame visible <i>after</i> you&#39;ve added all components and packed it."},{"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1642968423,"post_id":70825250,"comment_id":125209305,"body_markdown":"@AndrewThompson: see the above","body":"@AndrewThompson: see the above"}],"answers":[{"tags":[],"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1643727339,"creation_date":1643727339,"answer_id":70942672,"question_id":70825250,"body_markdown":"[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/t6iq4.png\r\n\r\nAs mentioned in a comment:\r\n\r\n    window.setSize(600,600); \r\n    window.setVisible(true); \r\n    window.add(button); \r\n\r\nShould instead be \r\n\r\n    window.add(button); \r\n    window.pack(); \r\n    window.setVisible(true); \r\n\r\nAlways add all the components before setting the window visible. \r\n\r\n`window.setSize(600,600);` is no better than a guess, whereas `window.pack();` makes the window the size it needs to be.\r\n\r\nThis is the code used for the above screenshot. Further details in code comments.\r\n\r\n    import java.awt.Insets;\r\n    import javax.swing.*;\r\n    \r\n    public class DisplayButton {\r\n        public static void main(String[] args) {\r\n            JFrame window = new JFrame();\r\n            JButton button = new JButton(&quot;My button&quot;);\r\n            // This is a random guess as to how big the window should be. DON&#39;T GUESS\r\n            //window.setSize(600,600);\r\n            // The button should be added before the frame is packed to size and displayed\r\n            window.add(button);\r\n            // But since you want it BIG, let&#39;s make it so, \r\n            // usefully by first increasing the text size\r\n            button.setFont(button.getFont().deriveFont(60f));\r\n            // Then add a chunk of insets - adjust to need.\r\n            button.setMargin(new Insets(20, 100, 20, 100));\r\n            // Make the window the size it NEEDS to be to display the button.\r\n            window.pack();\r\n            window.setVisible(true);\r\n        }\r\n    }\r\n\r\n","title":"Java Swing adding a JButton to a JFrame doesn&#39;t work","body":"<p><a href=\"https://i.stack.imgur.com/t6iq4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/t6iq4.png\" alt=\"enter image description here\" /></a></p>\n<p>As mentioned in a comment:</p>\n<pre><code>window.setSize(600,600); \nwindow.setVisible(true); \nwindow.add(button); \n</code></pre>\n<p>Should instead be</p>\n<pre><code>window.add(button); \nwindow.pack(); \nwindow.setVisible(true); \n</code></pre>\n<p>Always add all the components before setting the window visible.</p>\n<p><code>window.setSize(600,600);</code> is no better than a guess, whereas <code>window.pack();</code> makes the window the size it needs to be.</p>\n<p>This is the code used for the above screenshot. Further details in code comments.</p>\n<pre><code>import java.awt.Insets;\nimport javax.swing.*;\n\npublic class DisplayButton {\n    public static void main(String[] args) {\n        JFrame window = new JFrame();\n        JButton button = new JButton(&quot;My button&quot;);\n        // This is a random guess as to how big the window should be. DON'T GUESS\n        //window.setSize(600,600);\n        // The button should be added before the frame is packed to size and displayed\n        window.add(button);\n        // But since you want it BIG, let's make it so, \n        // usefully by first increasing the text size\n        button.setFont(button.getFont().deriveFont(60f));\n        // Then add a chunk of insets - adjust to need.\n        button.setMargin(new Insets(20, 100, 20, 100));\n        // Make the window the size it NEEDS to be to display the button.\n        window.pack();\n        window.setVisible(true);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":24030246,"reputation":1,"user_id":18011282,"display_name":"Kenneth Soares"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":259,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1643727574,"creation_date":1642962259,"question_id":70825250,"body_markdown":"I have been coding with Swing for a long moment in windows and when I switched to Manjaro Linux, something as basic as adding a `JButton` to a `JFrame` wouldn&#39;t work. (Also I have no output in the console, no missing libraries only a blank window).\r\n\r\nCan someone help me figure this out? \r\n\r\nHere is the code:\r\n\r\n    package test;\r\n    \r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    \r\n    public class main {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tJFrame window = new JFrame();\r\n    \t\tJButton button = new JButton(&quot;My button&quot;);\r\n    \t\twindow.setSize(600,600);\r\n    \t\twindow.setVisible(true);\r\n    \t\twindow.add(button);\r\n    \t}\r\n    }\r\n\r\n","title":"Java Swing adding a JButton to a JFrame doesn&#39;t work","body":"<p>I have been coding with Swing for a long moment in windows and when I switched to Manjaro Linux, something as basic as adding a <code>JButton</code> to a <code>JFrame</code> wouldn't work. (Also I have no output in the console, no missing libraries only a blank window).</p>\n<p>Can someone help me figure this out?</p>\n<p>Here is the code:</p>\n<pre><code>package test;\n\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\n\npublic class main {\n    public static void main(String[] args) {\n        JFrame window = new JFrame();\n        JButton button = new JButton(&quot;My button&quot;);\n        window.setSize(600,600);\n        window.setVisible(true);\n        window.add(button);\n    }\n}\n</code></pre>\n"},{"tags":["java","android","android-recyclerview","registerforactivityresult","notifyitemchanged"],"answers":[{"tags":[],"owner":{"account_id":3623345,"reputation":1219,"user_id":3021582,"display_name":"Taranmeet Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1643626514,"creation_date":1643624603,"answer_id":70924358,"question_id":70924272,"body_markdown":"For your first question &quot;to get data only if the user changes the status of one lesson&quot; you can call the LessonInfo Activity using the `registerForActivityResult()` from the MainActivity this way you can pass a result back that can be a boolean or any flag that tells MainActivity if there is any change. Check [this][1] docs for more details.\r\n\r\nFor your second question &quot;to update only the holder of that specific lesson, using its position&quot; you need to use the `notifyItemChanged()` method of recycler view adapter to only update UI of 1 item and let the others remain same. Check [this][2] docs for updating one item.\r\n\r\n\r\n  [1]: https://developer.android.com/training/basics/intents/result\r\n  [2]: https://developer.android.com/reference/android/support/v7/widget/RecyclerView.Adapter#notifyItemChanged(int,%20java.lang.Object)","title":"Passind data from child activity to recycler in previous activity","body":"<p>For your first question &quot;to get data only if the user changes the status of one lesson&quot; you can call the LessonInfo Activity using the <code>registerForActivityResult()</code> from the MainActivity this way you can pass a result back that can be a boolean or any flag that tells MainActivity if there is any change. Check <a href=\"https://developer.android.com/training/basics/intents/result\" rel=\"nofollow noreferrer\">this</a> docs for more details.</p>\n<p>For your second question &quot;to update only the holder of that specific lesson, using its position&quot; you need to use the <code>notifyItemChanged()</code> method of recycler view adapter to only update UI of 1 item and let the others remain same. Check <a href=\"https://developer.android.com/reference/android/support/v7/widget/RecyclerView.Adapter#notifyItemChanged(int,%20java.lang.Object)\" rel=\"nofollow noreferrer\">this</a> docs for updating one item.</p>\n"}],"owner":{"account_id":23597463,"reputation":13,"user_id":17634435,"display_name":"Luca13"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70924358,"answer_count":1,"score":1,"last_activity_date":1643727512,"creation_date":1643624190,"question_id":70924272,"body_markdown":"I am an android noob.\r\n\r\nMy Main Activity contains a recycler view which lists all the lessons booked by the user/student. Data comes from SQLite DB.\r\nWhen the user clicks on one of these lessons, a new activity (LessonInfo) shows its details and – only of it is in a certain status (“prenotato”, i.e. booked) – the user can change its status by pressing two different buttons.\r\n\r\nI’m trying to update the recycler view inside my MainActivity after the uses presses one of these buttons. For the moment, the view is updated on every onResume and every time featching all data from the DB. \r\n\r\n[Main Activity][1] --&gt; [LessonInfo][2] --&gt;[Main Activity Updated][3]\r\n\r\nI would like 1) to get data only if the user changes the status of one lesson, and 2) to update only the holder of that specific lesson, using its position.\r\nI’ve tried several times but I’m locked...\r\n\r\nThanks a lot\r\n\r\nMain Activity\r\n\r\n\r\n    public class MainActivity extends AppCompatActivity implements LessonsRecyclerAdapter.ClickInterface{\r\n    private TextView textViewName;\r\n    private RecyclerView recyclerViewLessons;\r\n    private ArrayList&lt;Lezioni&gt; lezioni;\r\n    private DatabaseHelper db;\r\n    private Studenti studente;\r\n\r\n    private LessonsRecyclerAdapter lessonsRecyclerAdapter;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        initViews();\r\n        initObjects();\r\n    }\r\n\r\n    private void initViews() {\r\n        textViewName = findViewById(R.id.textViewName);\r\n        recyclerViewLessons = (RecyclerView) findViewById(R.id.recyclerViewLessons);\r\n    }\r\n\r\n    private void initObjects() {\r\n        lezioni = new ArrayList&lt;&gt;();\r\n        lessonsRecyclerAdapter = new LessonsRecyclerAdapter(lezioni, this, this);\r\n        db = new DatabaseHelper(MainActivity.this);\r\n\r\n        RecyclerView.LayoutManager mLayoutManager = new LinearLayoutManager(getApplicationContext());\r\n        recyclerViewLessons.setLayoutManager(mLayoutManager);\r\n        recyclerViewLessons.setHasFixedSize(true);\r\n        recyclerViewLessons.setAdapter(lessonsRecyclerAdapter);\r\n\r\n        Gson gson = new Gson();\r\n        studente = gson.fromJson(getIntent().getStringExtra(&quot;studente&quot;), Studenti.class);\r\n        textViewName.setText(studente.getNome_st());\r\n\r\n        getLessonsFromSQLite();\r\n    }\r\n\r\n    @SuppressLint(&quot;NotifyDataSetChanged&quot;)\r\n    private void getLessonsFromSQLite() {\r\n        Executor executor = Executors.newSingleThreadExecutor();\r\n        Handler handler = new Handler(Looper.getMainLooper());\r\n\r\n        executor.execute(() -&gt; {\r\n            lezioni.clear();\r\n            lezioni.addAll(db.readLezioni(studente.getMatricola()));\r\n            handler.post(() -&gt; lessonsRecyclerAdapter.notifyDataSetChanged());\r\n        });\r\n    }\r\n\r\n    public void onItemClick(int positionOfLesson){\r\n        Intent intent = new Intent(this, LessonInfo.class);\r\n        intent.putExtra(&quot;id_lezione&quot;, lezioni.get(positionOfLesson).getId_lezione());\r\n        startActivity(intent);\r\n    }\r\n\r\n    @Override\r\n    protected void onResume() {\r\n        super.onResume();\r\n        getLessonsFromSQLite();\r\n    }\r\n\r\n\r\nLessonsRecyclerAdapter\r\n\r\n    public class LessonsRecyclerAdapter extends RecyclerView.Adapter&lt;LessonsRecyclerAdapter.LessonsViewHolder&gt; {\r\n\r\n    ArrayList&lt;Lezioni&gt; lezioni;\r\n    Context context;\r\n    ClickInterface clickInterface;\r\n\r\n    public LessonsRecyclerAdapter(ArrayList&lt;Lezioni&gt; lezioni, Context context, ClickInterface clickInterface) {\r\n        this.lezioni = lezioni;\r\n        this.context = context;\r\n        this.clickInterface = clickInterface;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public LessonsViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View itemView = LayoutInflater.from(context).inflate(R.layout.item_lessons_recycler, parent, false);\r\n        return new LessonsViewHolder(itemView);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(LessonsViewHolder holder, int position) {\r\n        DatabaseHelper db = new DatabaseHelper(context);\r\n        Materie materia = db.getMateriaFromDB(db.getDocenteFromDB(lezioni.get(position).getId_docente()).getId_materia());\r\n        holder.textViewInsegnamento.setText(materia.getNome_materia());                           \r\n        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;dd/MM/yyyy&quot;);\r\n        holder.textViewData.setText(lezioni.get(position).getParsedData().toLocalDate().format(formatter)); \r\n        holder.textViewStato.setText(lezioni.get(position).getStato_lezione()); if(lezioni.get(position).getStato_lezione().equals(&quot;disdetta&quot;)){\r\n            holder.textViewStato.setTextColor(ContextCompat.getColor(context, R.color.yellow));\r\n        }else if(lezioni.get(position).getStato_lezione().equals(&quot;frequentata&quot;)){\r\n            holder.textViewStato.setTextColor(ContextCompat.getColor(context, R.color.green));\r\n        }else{\r\n            holder.textViewStato.setTextColor(ContextCompat.getColor(context, R.color.color_text));\r\n        }\r\n\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        Log.v(LessonsRecyclerAdapter.class.getSimpleName(),&quot;&quot;+lezioni.size());\r\n        return lezioni.size();\r\n    }\r\n\r\n    public  class LessonsViewHolder extends RecyclerView.ViewHolder {\r\n        AppCompatTextView textViewInsegnamento;\r\n        AppCompatTextView textViewData;\r\n        AppCompatTextView textViewStato;\r\n\r\n        public LessonsViewHolder(View view) {\r\n            super(view);\r\n            textViewInsegnamento = (AppCompatTextView) view.findViewById(R.id.textViewInsegnamento);\r\n            textViewData = (AppCompatTextView) view.findViewById(R.id.textViewData);\r\n            textViewStato = (AppCompatTextView) view.findViewById(R.id.textViewStato);\r\n\r\n            view.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    clickInterface.onItemClick(getAdapterPosition());\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    public interface ClickInterface{\r\n        void onItemClick(int positionOfLesson);\r\n    }\r\n\r\n\r\nLessonsInfo\r\n\r\n    public class LessonInfo extends AppCompatActivity {\r\n    private TextView txtGiorno, txtOra, txtMateria, txtDocente;\r\n    private DatabaseHelper db;\r\n    private ConstraintLayout lessonContainer;\r\n    private Lezioni lezione;\r\n    private Docenti docente;\r\n    private Materie materia;\r\n    private LinearLayout interactiveButtons;\r\n    private Button btnCancel, btnConfirm;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_lesson_info);\r\n\r\n        initViews();\r\n        initObjects();\r\n\r\n        txtGiorno.setText(lezione.getData().split(&quot; &quot;)[0]);\r\n        txtOra.setText(String.format(getString(R.string.from_to_time), lezione.getFromTime(), lezione.getToTime()));\r\n        txtMateria.setText(materia.getNome_materia());\r\n        txtDocente.setText(docente.getNome_doc());\r\n\r\n        switchView();\r\n    }\r\n\r\n    private void initViews() {\r\n        lessonContainer = findViewById(R.id.lessonContainer);\r\n        txtGiorno = findViewById(R.id.txtGiorno);\r\n        txtOra = findViewById(R.id.txtOra);\r\n        txtMateria = findViewById(R.id.txtMateria);\r\n        txtDocente = findViewById(R.id.txtDocente);\r\n        interactiveButtons = findViewById(R.id.interactiveButtons);\r\n    }\r\n\r\n    private void switchView(){\r\n        GradientDrawable drawable = (GradientDrawable) lessonContainer.getBackground();\r\n        if(lezione.getStato_lezione().equals(&quot;disdetta&quot;)){\r\n            TextView txtStatus = findViewById(R.id.txtStatus);\r\n            drawable.setStroke(4, ContextCompat.getColor(this,R.color.primary));\r\n            txtStatus.setVisibility(View.VISIBLE);\r\n            interactiveButtons.setVisibility(View.GONE);\r\n        }else if(lezione.getStato_lezione().equals(&quot;frequentata&quot;)){\r\n            LinearLayout lessonFrequented = findViewById(R.id.lessonFrequented);\r\n            drawable.setStroke(4, ContextCompat.getColor(this,R.color.green));\r\n            lessonFrequented.setVisibility(View.VISIBLE);\r\n            interactiveButtons.setVisibility(View.GONE);\r\n        }else{\r\n            btnCancel = findViewById(R.id.btnCancel);\r\n            btnConfirm = findViewById(R.id.btnConfirm);\r\n            interactiveButtons.setVisibility(View.VISIBLE);\r\n            drawable.setStroke(4, ContextCompat.getColor(this,R.color.gray));\r\n            setOnClickListeners();\r\n        }\r\n    }\r\n\r\n    private void initObjects() {\r\n        db = new DatabaseHelper(getApplicationContext());\r\n        lezione = db.getLezioneFromDB(getIntent().getIntExtra(&quot;id_lezione&quot;, 0));\r\n        docente = db.getDocenteFromDB(lezione.getId_docente());\r\n        materia = db.getMateriaFromDB(docente.getId_materia());\r\n    }\r\n\r\n\r\n    private void setOnClickListeners(){\r\n        btnCancel.setOnClickListener(view -&gt; {\r\n            lezione.setStato_lezione(&quot;disdetta&quot;);\r\n            if(db.updateStatoLezione(lezione)){\r\n                LessonInfo.this.recreate();\r\n            }else{\r\n                Toast.makeText(LessonInfo.this, &quot;ERROR&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n\r\n        btnConfirm.setOnClickListener(view -&gt; {\r\n            lezione.setStato_lezione(&quot;frequentata&quot;);\r\n            if(db.updateStatoLezione(lezione)){\r\n                LessonInfo.this.recreate();\r\n            }else{\r\n                Toast.makeText(LessonInfo.this, &quot;ERROR&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n**UPDATE - SOLVED**\r\n\r\nThank to Taranmeet Singh I&#39;ve been able to find a way to accomplish my goal.\r\n\r\nI first tried the simplest approach using `startActivityForResult()` (DEPRECATED) and `notifyItemChanged()`. \r\n\r\nI than noticied I had to make some changes to the onClickListeners inside LessonsInfo: instead of recreating the activity I now recall a function (`switchView()`) witch just modifies the appearence.\r\n\r\nIn order to let the user see the changes inside the LessonInfo activity (without going automatically back to the MainActivity), I just used a boolean `isLessonUpdated` as a flag within the function `onBackPressed()`: as the user goes back to the previous activity, if and only if he has changed the status of the lesson, I set the result of the Intent. \r\n\r\nLastly, I replaced the deprecated function `registerForActivityResult()` with `registerForActivityResult`, changing the onItemClick inside the main activity accordingly.\r\n\r\nThis is the code I came up with. No relevant changes have been applied to LessonRecyclerAdapter.java. Feel free to suggest improvements.\r\n\r\n**New MainActivity**\r\n\r\n    public class MainActivity extends AppCompatActivity implements LessonsRecyclerAdapter.ClickInterface{\r\n    private TextView textViewName;\r\n    private RecyclerView recyclerViewLessons;\r\n    private ArrayList&lt;Lezioni&gt; lezioni;\r\n    private DatabaseHelper db;\r\n    private Studenti studente;\r\n    int positionClicked;\r\n    int idClicked;\r\n    private LessonsRecyclerAdapter lessonsRecyclerAdapter;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        initViews();\r\n        initObjects();\r\n    }\r\n\r\n    private void initViews() {\r\n        textViewName = findViewById(R.id.textViewName);\r\n        recyclerViewLessons = findViewById(R.id.recyclerViewLessons);\r\n    }\r\n\r\n    private void initObjects() {\r\n        lezioni = new ArrayList&lt;&gt;();\r\n        lessonsRecyclerAdapter = new LessonsRecyclerAdapter(lezioni, this, this);\r\n        db = new DatabaseHelper(MainActivity.this);\r\n\r\n        RecyclerView.LayoutManager mLayoutManager = new LinearLayoutManager(getApplicationContext());\r\n        recyclerViewLessons.setLayoutManager(mLayoutManager);\r\n        recyclerViewLessons.setHasFixedSize(true);\r\n        recyclerViewLessons.setAdapter(lessonsRecyclerAdapter);\r\n\r\n        Gson gson = new Gson();\r\n        studente = gson.fromJson(getIntent().getStringExtra(&quot;studente&quot;), Studenti.class);\r\n        textViewName.setText(studente.getNome_st());\r\n\r\n        getLessonsFromSQLite();\r\n    }\r\n\r\n    @SuppressLint(&quot;NotifyDataSetChanged&quot;)\r\n    private void getLessonsFromSQLite() {\r\n        Executor executor = Executors.newSingleThreadExecutor();\r\n        Handler handler = new Handler(Looper.getMainLooper());\r\n\r\n        executor.execute(() -&gt; {\r\n            lezioni.clear();\r\n            lezioni.addAll(db.readLezioni(studente.getMatricola()));\r\n            handler.post(() -&gt; lessonsRecyclerAdapter.notifyDataSetChanged());\r\n        });\r\n    }\r\n\r\n    public void onItemClick(int positionOfLesson){\r\n        idClicked = lezioni.get(positionOfLesson).getId_lezione();\r\n        positionClicked = positionOfLesson;\r\n        Intent intent = new Intent(this, LessonInfo.class);\r\n        intent.putExtra(&quot;id_lezione&quot;, lezioni.get(positionClicked).getId_lezione());\r\n        LessonResultLauncher.launch(intent);\r\n    }\r\n\r\n    ActivityResultLauncher&lt;Intent&gt; LessonResultLauncher = registerForActivityResult(\r\n        new ActivityResultContracts.StartActivityForResult(),\r\n        new ActivityResultCallback&lt;ActivityResult&gt;() {\r\n            @Override\r\n            public void onActivityResult(ActivityResult result) {\r\n                if (result.getResultCode() == Activity.RESULT_OK) {\r\n                    lezioni.set(positionClicked, db.getLezioneFromDB(idClicked));\r\n                    lessonsRecyclerAdapter.notifyItemChanged(positionClicked);\r\n                }\r\n            }\r\n        });\r\n\r\n\r\n**New LessonInfo**\r\n\r\n    public class LessonInfo extends AppCompatActivity {\r\n    private TextView txtGiorno, txtOra, txtMateria, txtDocente;\r\n    private DatabaseHelper db;\r\n    private ConstraintLayout lessonContainer;\r\n    private Lezioni lezione;\r\n    private Docenti docente;\r\n    private Materie materia;\r\n    private LinearLayout interactiveButtons;\r\n    private Button btnCancel, btnConfirm;\r\n    private Boolean isLessonUpdated = false;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_lesson_info);\r\n\r\n        initViews();\r\n        initObjects();\r\n\r\n        txtGiorno.setText(lezione.getData().split(&quot; &quot;)[0]);\r\n        txtOra.setText(String.format(getString(R.string.from_to_time), lezione.getFromTime(), lezione.getToTime()));\r\n        txtMateria.setText(materia.getNome_materia());\r\n        txtDocente.setText(docente.getNome_doc());\r\n\r\n        switchView();\r\n    }\r\n\r\n    private void initViews() {\r\n        lessonContainer = findViewById(R.id.lessonContainer);\r\n        txtGiorno = findViewById(R.id.txtGiorno);\r\n        txtOra = findViewById(R.id.txtOra);\r\n        txtMateria = findViewById(R.id.txtMateria);\r\n        txtDocente = findViewById(R.id.txtDocente);\r\n        interactiveButtons = findViewById(R.id.interactiveButtons);\r\n    }\r\n\r\n    private void switchView(){\r\n        GradientDrawable drawable = (GradientDrawable) lessonContainer.getBackground();\r\n        if(lezione.getStato_lezione().equals(&quot;disdetta&quot;)){\r\n            TextView txtStatus = findViewById(R.id.txtStatus);\r\n            drawable.setStroke(4, ContextCompat.getColor(this,R.color.primary));\r\n            txtStatus.setVisibility(View.VISIBLE);\r\n            interactiveButtons.setVisibility(View.GONE);\r\n        }else if(lezione.getStato_lezione().equals(&quot;frequentata&quot;)){\r\n            LinearLayout lessonFrequented = findViewById(R.id.lessonFrequented);\r\n            drawable.setStroke(4, ContextCompat.getColor(this,R.color.green));\r\n            lessonFrequented.setVisibility(View.VISIBLE);\r\n            interactiveButtons.setVisibility(View.GONE);\r\n        }else{\r\n            btnCancel = findViewById(R.id.btnCancel);\r\n            btnConfirm = findViewById(R.id.btnConfirm);\r\n            interactiveButtons.setVisibility(View.VISIBLE);\r\n            drawable.setStroke(4, ContextCompat.getColor(this,R.color.gray));\r\n            setOnClickListeners();\r\n        }\r\n    }\r\n\r\n    private void initObjects() {\r\n        db = new DatabaseHelper(getApplicationContext());\r\n        lezione = db.getLezioneFromDB(getIntent().getIntExtra(&quot;id_lezione&quot;, 0));\r\n        docente = db.getDocenteFromDB(lezione.getId_docente());\r\n        materia = db.getMateriaFromDB(docente.getId_materia());\r\n    }\r\n\r\n\r\n    private void setOnClickListeners(){\r\n        btnCancel.setOnClickListener(view -&gt; {\r\n            lezione.setStato_lezione(&quot;disdetta&quot;);\r\n            if(db.updateStatoLezione(lezione)){\r\n                isLessonUpdated = true;\r\n                switchView();\r\n            }else{\r\n                Toast.makeText(LessonInfo.this, &quot;ERROR&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n\r\n        btnConfirm.setOnClickListener(view -&gt; {\r\n            lezione.setStato_lezione(&quot;frequentata&quot;);\r\n            if(db.updateStatoLezione(lezione)){\r\n                isLessonUpdated = true;\r\n                switchView();\r\n            }else{\r\n                Toast.makeText(LessonInfo.this, &quot;ERROR&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n    }\r\n\r\n    @Override\r\n    public void onBackPressed() {\r\n        Intent intent = new Intent();\r\n        if(isLessonUpdated){\r\n            Log.d(&quot;FLAG&quot;, &quot;TRUE&quot;);\r\n            setResult(RESULT_OK, intent);\r\n        }\r\n        finish();\r\n    }\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/CBfAH.jpg\r\n  [2]: https://i.stack.imgur.com/8Ciaw.jpg\r\n  [3]: https://i.stack.imgur.com/gFDHj.jpg","title":"Passind data from child activity to recycler in previous activity","body":"<p>I am an android noob.</p>\n<p>My Main Activity contains a recycler view which lists all the lessons booked by the user/student. Data comes from SQLite DB.\nWhen the user clicks on one of these lessons, a new activity (LessonInfo) shows its details and – only of it is in a certain status (“prenotato”, i.e. booked) – the user can change its status by pressing two different buttons.</p>\n<p>I’m trying to update the recycler view inside my MainActivity after the uses presses one of these buttons. For the moment, the view is updated on every onResume and every time featching all data from the DB.</p>\n<p><a href=\"https://i.stack.imgur.com/CBfAH.jpg\" rel=\"nofollow noreferrer\">Main Activity</a> --&gt; <a href=\"https://i.stack.imgur.com/8Ciaw.jpg\" rel=\"nofollow noreferrer\">LessonInfo</a> --&gt;<a href=\"https://i.stack.imgur.com/gFDHj.jpg\" rel=\"nofollow noreferrer\">Main Activity Updated</a></p>\n<p>I would like 1) to get data only if the user changes the status of one lesson, and 2) to update only the holder of that specific lesson, using its position.\nI’ve tried several times but I’m locked...</p>\n<p>Thanks a lot</p>\n<p>Main Activity</p>\n<pre><code>public class MainActivity extends AppCompatActivity implements LessonsRecyclerAdapter.ClickInterface{\nprivate TextView textViewName;\nprivate RecyclerView recyclerViewLessons;\nprivate ArrayList&lt;Lezioni&gt; lezioni;\nprivate DatabaseHelper db;\nprivate Studenti studente;\n\nprivate LessonsRecyclerAdapter lessonsRecyclerAdapter;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    initViews();\n    initObjects();\n}\n\nprivate void initViews() {\n    textViewName = findViewById(R.id.textViewName);\n    recyclerViewLessons = (RecyclerView) findViewById(R.id.recyclerViewLessons);\n}\n\nprivate void initObjects() {\n    lezioni = new ArrayList&lt;&gt;();\n    lessonsRecyclerAdapter = new LessonsRecyclerAdapter(lezioni, this, this);\n    db = new DatabaseHelper(MainActivity.this);\n\n    RecyclerView.LayoutManager mLayoutManager = new LinearLayoutManager(getApplicationContext());\n    recyclerViewLessons.setLayoutManager(mLayoutManager);\n    recyclerViewLessons.setHasFixedSize(true);\n    recyclerViewLessons.setAdapter(lessonsRecyclerAdapter);\n\n    Gson gson = new Gson();\n    studente = gson.fromJson(getIntent().getStringExtra(&quot;studente&quot;), Studenti.class);\n    textViewName.setText(studente.getNome_st());\n\n    getLessonsFromSQLite();\n}\n\n@SuppressLint(&quot;NotifyDataSetChanged&quot;)\nprivate void getLessonsFromSQLite() {\n    Executor executor = Executors.newSingleThreadExecutor();\n    Handler handler = new Handler(Looper.getMainLooper());\n\n    executor.execute(() -&gt; {\n        lezioni.clear();\n        lezioni.addAll(db.readLezioni(studente.getMatricola()));\n        handler.post(() -&gt; lessonsRecyclerAdapter.notifyDataSetChanged());\n    });\n}\n\npublic void onItemClick(int positionOfLesson){\n    Intent intent = new Intent(this, LessonInfo.class);\n    intent.putExtra(&quot;id_lezione&quot;, lezioni.get(positionOfLesson).getId_lezione());\n    startActivity(intent);\n}\n\n@Override\nprotected void onResume() {\n    super.onResume();\n    getLessonsFromSQLite();\n}\n</code></pre>\n<p>LessonsRecyclerAdapter</p>\n<pre><code>public class LessonsRecyclerAdapter extends RecyclerView.Adapter&lt;LessonsRecyclerAdapter.LessonsViewHolder&gt; {\n\nArrayList&lt;Lezioni&gt; lezioni;\nContext context;\nClickInterface clickInterface;\n\npublic LessonsRecyclerAdapter(ArrayList&lt;Lezioni&gt; lezioni, Context context, ClickInterface clickInterface) {\n    this.lezioni = lezioni;\n    this.context = context;\n    this.clickInterface = clickInterface;\n}\n\n@NonNull\n@Override\npublic LessonsViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n    View itemView = LayoutInflater.from(context).inflate(R.layout.item_lessons_recycler, parent, false);\n    return new LessonsViewHolder(itemView);\n}\n\n@Override\npublic void onBindViewHolder(LessonsViewHolder holder, int position) {\n    DatabaseHelper db = new DatabaseHelper(context);\n    Materie materia = db.getMateriaFromDB(db.getDocenteFromDB(lezioni.get(position).getId_docente()).getId_materia());\n    holder.textViewInsegnamento.setText(materia.getNome_materia());                           \n    DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;dd/MM/yyyy&quot;);\n    holder.textViewData.setText(lezioni.get(position).getParsedData().toLocalDate().format(formatter)); \n    holder.textViewStato.setText(lezioni.get(position).getStato_lezione()); if(lezioni.get(position).getStato_lezione().equals(&quot;disdetta&quot;)){\n        holder.textViewStato.setTextColor(ContextCompat.getColor(context, R.color.yellow));\n    }else if(lezioni.get(position).getStato_lezione().equals(&quot;frequentata&quot;)){\n        holder.textViewStato.setTextColor(ContextCompat.getColor(context, R.color.green));\n    }else{\n        holder.textViewStato.setTextColor(ContextCompat.getColor(context, R.color.color_text));\n    }\n\n}\n\n@Override\npublic int getItemCount() {\n    Log.v(LessonsRecyclerAdapter.class.getSimpleName(),&quot;&quot;+lezioni.size());\n    return lezioni.size();\n}\n\npublic  class LessonsViewHolder extends RecyclerView.ViewHolder {\n    AppCompatTextView textViewInsegnamento;\n    AppCompatTextView textViewData;\n    AppCompatTextView textViewStato;\n\n    public LessonsViewHolder(View view) {\n        super(view);\n        textViewInsegnamento = (AppCompatTextView) view.findViewById(R.id.textViewInsegnamento);\n        textViewData = (AppCompatTextView) view.findViewById(R.id.textViewData);\n        textViewStato = (AppCompatTextView) view.findViewById(R.id.textViewStato);\n\n        view.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                clickInterface.onItemClick(getAdapterPosition());\n            }\n        });\n    }\n}\n\npublic interface ClickInterface{\n    void onItemClick(int positionOfLesson);\n}\n</code></pre>\n<p>LessonsInfo</p>\n<pre><code>public class LessonInfo extends AppCompatActivity {\nprivate TextView txtGiorno, txtOra, txtMateria, txtDocente;\nprivate DatabaseHelper db;\nprivate ConstraintLayout lessonContainer;\nprivate Lezioni lezione;\nprivate Docenti docente;\nprivate Materie materia;\nprivate LinearLayout interactiveButtons;\nprivate Button btnCancel, btnConfirm;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_lesson_info);\n\n    initViews();\n    initObjects();\n\n    txtGiorno.setText(lezione.getData().split(&quot; &quot;)[0]);\n    txtOra.setText(String.format(getString(R.string.from_to_time), lezione.getFromTime(), lezione.getToTime()));\n    txtMateria.setText(materia.getNome_materia());\n    txtDocente.setText(docente.getNome_doc());\n\n    switchView();\n}\n\nprivate void initViews() {\n    lessonContainer = findViewById(R.id.lessonContainer);\n    txtGiorno = findViewById(R.id.txtGiorno);\n    txtOra = findViewById(R.id.txtOra);\n    txtMateria = findViewById(R.id.txtMateria);\n    txtDocente = findViewById(R.id.txtDocente);\n    interactiveButtons = findViewById(R.id.interactiveButtons);\n}\n\nprivate void switchView(){\n    GradientDrawable drawable = (GradientDrawable) lessonContainer.getBackground();\n    if(lezione.getStato_lezione().equals(&quot;disdetta&quot;)){\n        TextView txtStatus = findViewById(R.id.txtStatus);\n        drawable.setStroke(4, ContextCompat.getColor(this,R.color.primary));\n        txtStatus.setVisibility(View.VISIBLE);\n        interactiveButtons.setVisibility(View.GONE);\n    }else if(lezione.getStato_lezione().equals(&quot;frequentata&quot;)){\n        LinearLayout lessonFrequented = findViewById(R.id.lessonFrequented);\n        drawable.setStroke(4, ContextCompat.getColor(this,R.color.green));\n        lessonFrequented.setVisibility(View.VISIBLE);\n        interactiveButtons.setVisibility(View.GONE);\n    }else{\n        btnCancel = findViewById(R.id.btnCancel);\n        btnConfirm = findViewById(R.id.btnConfirm);\n        interactiveButtons.setVisibility(View.VISIBLE);\n        drawable.setStroke(4, ContextCompat.getColor(this,R.color.gray));\n        setOnClickListeners();\n    }\n}\n\nprivate void initObjects() {\n    db = new DatabaseHelper(getApplicationContext());\n    lezione = db.getLezioneFromDB(getIntent().getIntExtra(&quot;id_lezione&quot;, 0));\n    docente = db.getDocenteFromDB(lezione.getId_docente());\n    materia = db.getMateriaFromDB(docente.getId_materia());\n}\n\n\nprivate void setOnClickListeners(){\n    btnCancel.setOnClickListener(view -&gt; {\n        lezione.setStato_lezione(&quot;disdetta&quot;);\n        if(db.updateStatoLezione(lezione)){\n            LessonInfo.this.recreate();\n        }else{\n            Toast.makeText(LessonInfo.this, &quot;ERROR&quot;, Toast.LENGTH_SHORT).show();\n        }\n    });\n\n    btnConfirm.setOnClickListener(view -&gt; {\n        lezione.setStato_lezione(&quot;frequentata&quot;);\n        if(db.updateStatoLezione(lezione)){\n            LessonInfo.this.recreate();\n        }else{\n            Toast.makeText(LessonInfo.this, &quot;ERROR&quot;, Toast.LENGTH_SHORT).show();\n        }\n    });\n}\n</code></pre>\n<p><strong>UPDATE - SOLVED</strong></p>\n<p>Thank to Taranmeet Singh I've been able to find a way to accomplish my goal.</p>\n<p>I first tried the simplest approach using <code>startActivityForResult()</code> (DEPRECATED) and <code>notifyItemChanged()</code>.</p>\n<p>I than noticied I had to make some changes to the onClickListeners inside LessonsInfo: instead of recreating the activity I now recall a function (<code>switchView()</code>) witch just modifies the appearence.</p>\n<p>In order to let the user see the changes inside the LessonInfo activity (without going automatically back to the MainActivity), I just used a boolean <code>isLessonUpdated</code> as a flag within the function <code>onBackPressed()</code>: as the user goes back to the previous activity, if and only if he has changed the status of the lesson, I set the result of the Intent.</p>\n<p>Lastly, I replaced the deprecated function <code>registerForActivityResult()</code> with <code>registerForActivityResult</code>, changing the onItemClick inside the main activity accordingly.</p>\n<p>This is the code I came up with. No relevant changes have been applied to LessonRecyclerAdapter.java. Feel free to suggest improvements.</p>\n<p><strong>New MainActivity</strong></p>\n<pre><code>public class MainActivity extends AppCompatActivity implements LessonsRecyclerAdapter.ClickInterface{\nprivate TextView textViewName;\nprivate RecyclerView recyclerViewLessons;\nprivate ArrayList&lt;Lezioni&gt; lezioni;\nprivate DatabaseHelper db;\nprivate Studenti studente;\nint positionClicked;\nint idClicked;\nprivate LessonsRecyclerAdapter lessonsRecyclerAdapter;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    initViews();\n    initObjects();\n}\n\nprivate void initViews() {\n    textViewName = findViewById(R.id.textViewName);\n    recyclerViewLessons = findViewById(R.id.recyclerViewLessons);\n}\n\nprivate void initObjects() {\n    lezioni = new ArrayList&lt;&gt;();\n    lessonsRecyclerAdapter = new LessonsRecyclerAdapter(lezioni, this, this);\n    db = new DatabaseHelper(MainActivity.this);\n\n    RecyclerView.LayoutManager mLayoutManager = new LinearLayoutManager(getApplicationContext());\n    recyclerViewLessons.setLayoutManager(mLayoutManager);\n    recyclerViewLessons.setHasFixedSize(true);\n    recyclerViewLessons.setAdapter(lessonsRecyclerAdapter);\n\n    Gson gson = new Gson();\n    studente = gson.fromJson(getIntent().getStringExtra(&quot;studente&quot;), Studenti.class);\n    textViewName.setText(studente.getNome_st());\n\n    getLessonsFromSQLite();\n}\n\n@SuppressLint(&quot;NotifyDataSetChanged&quot;)\nprivate void getLessonsFromSQLite() {\n    Executor executor = Executors.newSingleThreadExecutor();\n    Handler handler = new Handler(Looper.getMainLooper());\n\n    executor.execute(() -&gt; {\n        lezioni.clear();\n        lezioni.addAll(db.readLezioni(studente.getMatricola()));\n        handler.post(() -&gt; lessonsRecyclerAdapter.notifyDataSetChanged());\n    });\n}\n\npublic void onItemClick(int positionOfLesson){\n    idClicked = lezioni.get(positionOfLesson).getId_lezione();\n    positionClicked = positionOfLesson;\n    Intent intent = new Intent(this, LessonInfo.class);\n    intent.putExtra(&quot;id_lezione&quot;, lezioni.get(positionClicked).getId_lezione());\n    LessonResultLauncher.launch(intent);\n}\n\nActivityResultLauncher&lt;Intent&gt; LessonResultLauncher = registerForActivityResult(\n    new ActivityResultContracts.StartActivityForResult(),\n    new ActivityResultCallback&lt;ActivityResult&gt;() {\n        @Override\n        public void onActivityResult(ActivityResult result) {\n            if (result.getResultCode() == Activity.RESULT_OK) {\n                lezioni.set(positionClicked, db.getLezioneFromDB(idClicked));\n                lessonsRecyclerAdapter.notifyItemChanged(positionClicked);\n            }\n        }\n    });\n</code></pre>\n<p><strong>New LessonInfo</strong></p>\n<pre><code>public class LessonInfo extends AppCompatActivity {\nprivate TextView txtGiorno, txtOra, txtMateria, txtDocente;\nprivate DatabaseHelper db;\nprivate ConstraintLayout lessonContainer;\nprivate Lezioni lezione;\nprivate Docenti docente;\nprivate Materie materia;\nprivate LinearLayout interactiveButtons;\nprivate Button btnCancel, btnConfirm;\nprivate Boolean isLessonUpdated = false;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_lesson_info);\n\n    initViews();\n    initObjects();\n\n    txtGiorno.setText(lezione.getData().split(&quot; &quot;)[0]);\n    txtOra.setText(String.format(getString(R.string.from_to_time), lezione.getFromTime(), lezione.getToTime()));\n    txtMateria.setText(materia.getNome_materia());\n    txtDocente.setText(docente.getNome_doc());\n\n    switchView();\n}\n\nprivate void initViews() {\n    lessonContainer = findViewById(R.id.lessonContainer);\n    txtGiorno = findViewById(R.id.txtGiorno);\n    txtOra = findViewById(R.id.txtOra);\n    txtMateria = findViewById(R.id.txtMateria);\n    txtDocente = findViewById(R.id.txtDocente);\n    interactiveButtons = findViewById(R.id.interactiveButtons);\n}\n\nprivate void switchView(){\n    GradientDrawable drawable = (GradientDrawable) lessonContainer.getBackground();\n    if(lezione.getStato_lezione().equals(&quot;disdetta&quot;)){\n        TextView txtStatus = findViewById(R.id.txtStatus);\n        drawable.setStroke(4, ContextCompat.getColor(this,R.color.primary));\n        txtStatus.setVisibility(View.VISIBLE);\n        interactiveButtons.setVisibility(View.GONE);\n    }else if(lezione.getStato_lezione().equals(&quot;frequentata&quot;)){\n        LinearLayout lessonFrequented = findViewById(R.id.lessonFrequented);\n        drawable.setStroke(4, ContextCompat.getColor(this,R.color.green));\n        lessonFrequented.setVisibility(View.VISIBLE);\n        interactiveButtons.setVisibility(View.GONE);\n    }else{\n        btnCancel = findViewById(R.id.btnCancel);\n        btnConfirm = findViewById(R.id.btnConfirm);\n        interactiveButtons.setVisibility(View.VISIBLE);\n        drawable.setStroke(4, ContextCompat.getColor(this,R.color.gray));\n        setOnClickListeners();\n    }\n}\n\nprivate void initObjects() {\n    db = new DatabaseHelper(getApplicationContext());\n    lezione = db.getLezioneFromDB(getIntent().getIntExtra(&quot;id_lezione&quot;, 0));\n    docente = db.getDocenteFromDB(lezione.getId_docente());\n    materia = db.getMateriaFromDB(docente.getId_materia());\n}\n\n\nprivate void setOnClickListeners(){\n    btnCancel.setOnClickListener(view -&gt; {\n        lezione.setStato_lezione(&quot;disdetta&quot;);\n        if(db.updateStatoLezione(lezione)){\n            isLessonUpdated = true;\n            switchView();\n        }else{\n            Toast.makeText(LessonInfo.this, &quot;ERROR&quot;, Toast.LENGTH_SHORT).show();\n        }\n    });\n\n    btnConfirm.setOnClickListener(view -&gt; {\n        lezione.setStato_lezione(&quot;frequentata&quot;);\n        if(db.updateStatoLezione(lezione)){\n            isLessonUpdated = true;\n            switchView();\n        }else{\n            Toast.makeText(LessonInfo.this, &quot;ERROR&quot;, Toast.LENGTH_SHORT).show();\n        }\n    });\n}\n\n@Override\npublic void onBackPressed() {\n    Intent intent = new Intent();\n    if(isLessonUpdated){\n        Log.d(&quot;FLAG&quot;, &quot;TRUE&quot;);\n        setResult(RESULT_OK, intent);\n    }\n    finish();\n}\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1643726184,"post_id":70942275,"comment_id":125412460,"body_markdown":"What has your problem to do with that file? And what is Android version of used device?","body":"What has your problem to do with that file? And what is Android version of used device?"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1643726300,"post_id":70942275,"comment_id":125412524,"body_markdown":"Who downloaded those files? And why would media store know about author, title, artist and so?","body":"Who downloaded those files? And why would media store know about author, title, artist and so?"},{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1643726515,"post_id":70942275,"comment_id":125412630,"body_markdown":"&quot;I want the downloaded music files to be visible only to the app&quot; -- download the files to `getFilesDir()` or `getCacheDir()`, rather than a publicly-visible directory. Then, you no longer need `.nomedia`. However, neither that nor your current approach will work with `MediaStore`.","body":"&quot;I want the downloaded music files to be visible only to the app&quot; -- download the files to <code>getFilesDir()</code> or <code>getCacheDir()</code>, rather than a publicly-visible directory. Then, you no longer need <code>.nomedia</code>. However, neither that nor your current approach will work with <code>MediaStore</code>."},{"owner":{"account_id":18468327,"reputation":31,"user_id":13453899,"display_name":"Green Peters"},"score":0,"creation_date":1643726559,"post_id":70942275,"comment_id":125412655,"body_markdown":"The files are  .mp3 files which are downloaded using Android download manager to a folder inside downloads.","body":"The files are  .mp3 files which are downloaded using Android download manager to a folder inside downloads."},{"owner":{"account_id":18468327,"reputation":31,"user_id":13453899,"display_name":"Green Peters"},"score":0,"creation_date":1643727341,"post_id":70942275,"comment_id":125413010,"body_markdown":"My code allows me to download, get song list array and play, I just want to hide the downloaded media. I have update the question plus my download code","body":"My code allows me to download, get song list array and play, I just want to hide the downloaded media. I have update the question plus my download code"}],"owner":{"account_id":18468327,"reputation":31,"user_id":13453899,"display_name":"Green Peters"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":321,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1643727157,"creation_date":1643725818,"question_id":70942275,"body_markdown":"I am developing an android app that allows users to stream and download music but I want the downloaded music files to be visible only to the app so I create a .nomedia file inside the app download directory but the problem is my app cant fetch the music files in my download folder too.\r\n\r\n    File hidefile = new File(downloadsDir, &quot;SongsFolder/&quot;+&quot;.nomedia&quot;);\r\n            if (hidefile.exists()) {\r\n                Log.e(&quot;FIle&quot;, &quot;Exist&quot;);\r\n            } else {\r\n                try {\r\n                    hidefile.createNewFile();\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n\r\n \r\nAnd to fetch songs from my download folder\r\n\r\n    public static ArrayList&lt;MusicFiles&gt; getAllDownloadsAudio(final Context context) {\r\n            final ArrayList&lt;MusicFiles&gt; tempAudioList = new ArrayList&lt;&gt;();\r\n           \r\n    \r\n            Uri uri = MediaStore.Audio.Media.EXTERNAL_CONTENT_URI;\r\n            String[] projection = {\r\n                    MediaStore.Audio.Media.ALBUM,\r\n                    MediaStore.Audio.Media.TITLE,\r\n                    MediaStore.Audio.Media.DURATION,\r\n                    MediaStore.Audio.Media.DATA, //For Path\r\n                    MediaStore.Audio.Media.ARTIST,\r\n                    MediaStore.Audio.Media._ID\r\n            };\r\n    \r\n            String folder  = String.valueOf(getDownloadLocation());\r\n            Cursor c = context.getContentResolver().query(uri,\r\n                    projection,\r\n                    MediaStore.Audio.Media.DATA + &quot; like ? &quot;,\r\n                    new String[]{&quot;%&quot;+folder+&quot;%&quot;}, null);\r\n    \r\n    \r\n    \r\n            if (c != null) {\r\n                while (c.moveToNext()) {\r\n                    // Create a model object.\r\n                    MusicFiles audioModel = new MusicFiles();\r\n    \r\n                    String album = c.getString(0);\r\n                    String title = c.getString(1);\r\n                    String duration = c.getString(2);\r\n                    String path = c.getString(3);\r\n                    String artist = c.getString(4);\r\n                    String id = c.getString(5);\r\n    \r\n                    // Set data to the model object.\r\n                    MusicFiles musicFiles = new MusicFiles(path, title, artist, album, duration, id);\r\n                    Log.e(&quot;Download Path: &quot;+path, &quot;Album: &quot;+album);\r\n                    tempAudioList.add(musicFiles);\r\n                    // Add the model object to the list .\r\n                   // tempAudioList.add(audioModel);\r\n                }\r\n                c.close();\r\n            }\r\n    \r\n            // Return the list.\r\n            return tempAudioList;\r\n        }\r\n\r\nUPDATE\r\nHere is how I download the songs\r\n\r\n    public long downloadMedia(String URL) {\r\n     if (newFile.exists()) {\r\n                Toast.makeText(getApplicationContext(), &quot;Already downloaded&quot;, Toast.LENGTH_SHORT).show();\r\n            } else {\r\n                Toast.makeText(MainActivity.this,\r\n                        &quot;Downloading Song&quot;, Toast.LENGTH_SHORT).show();\r\n                Uri Download_Uri = Uri.parse(URL);\r\n                DownloadManager.Request request = new DownloadManager.Request(Download_Uri);\r\n                request.setAllowedNetworkTypes(DownloadManager.Request.NETWORK_WIFI | DownloadManager.Request.NETWORK_MOBILE);\r\n                request.setAllowedOverRoaming(false);\r\n                request.setTitle(getResources().getString(R.string.app_name));\r\n                request.setDescription(&quot;Downloding...&quot;);\r\n                request.setNotificationVisibility(DownloadManager.Request.VISIBILITY_HIDDEN);\r\n                try { //V28 Below\r\n                    request.setDestinationInExternalPublicDir(String.valueOf(getDownloadLocation()), fileName);//v 28 allow to create and it deprecated method(v28+)\r\n                } catch (Exception e) {\r\n                    request.setDestinationInExternalPublicDir(DIRECTORY_DOWNLOADS, &quot;SongsFolder/&quot;+ fileName);        }\r\n                downloadReference = downloadManager.enqueue(request);\r\n                Log.i(&quot;downloadReference&quot;, &quot;&quot; + downloadReference);\r\n            }\r\n     return downloadReference;\r\n        }\r\n","title":"How to access media files in folders with .nomedia","body":"<p>I am developing an android app that allows users to stream and download music but I want the downloaded music files to be visible only to the app so I create a .nomedia file inside the app download directory but the problem is my app cant fetch the music files in my download folder too.</p>\n<pre><code>File hidefile = new File(downloadsDir, &quot;SongsFolder/&quot;+&quot;.nomedia&quot;);\n        if (hidefile.exists()) {\n            Log.e(&quot;FIle&quot;, &quot;Exist&quot;);\n        } else {\n            try {\n                hidefile.createNewFile();\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        }\n</code></pre>\n<p>And to fetch songs from my download folder</p>\n<pre><code>public static ArrayList&lt;MusicFiles&gt; getAllDownloadsAudio(final Context context) {\n        final ArrayList&lt;MusicFiles&gt; tempAudioList = new ArrayList&lt;&gt;();\n       \n\n        Uri uri = MediaStore.Audio.Media.EXTERNAL_CONTENT_URI;\n        String[] projection = {\n                MediaStore.Audio.Media.ALBUM,\n                MediaStore.Audio.Media.TITLE,\n                MediaStore.Audio.Media.DURATION,\n                MediaStore.Audio.Media.DATA, //For Path\n                MediaStore.Audio.Media.ARTIST,\n                MediaStore.Audio.Media._ID\n        };\n\n        String folder  = String.valueOf(getDownloadLocation());\n        Cursor c = context.getContentResolver().query(uri,\n                projection,\n                MediaStore.Audio.Media.DATA + &quot; like ? &quot;,\n                new String[]{&quot;%&quot;+folder+&quot;%&quot;}, null);\n\n\n\n        if (c != null) {\n            while (c.moveToNext()) {\n                // Create a model object.\n                MusicFiles audioModel = new MusicFiles();\n\n                String album = c.getString(0);\n                String title = c.getString(1);\n                String duration = c.getString(2);\n                String path = c.getString(3);\n                String artist = c.getString(4);\n                String id = c.getString(5);\n\n                // Set data to the model object.\n                MusicFiles musicFiles = new MusicFiles(path, title, artist, album, duration, id);\n                Log.e(&quot;Download Path: &quot;+path, &quot;Album: &quot;+album);\n                tempAudioList.add(musicFiles);\n                // Add the model object to the list .\n               // tempAudioList.add(audioModel);\n            }\n            c.close();\n        }\n\n        // Return the list.\n        return tempAudioList;\n    }\n</code></pre>\n<p>UPDATE\nHere is how I download the songs</p>\n<pre><code>public long downloadMedia(String URL) {\n if (newFile.exists()) {\n            Toast.makeText(getApplicationContext(), &quot;Already downloaded&quot;, Toast.LENGTH_SHORT).show();\n        } else {\n            Toast.makeText(MainActivity.this,\n                    &quot;Downloading Song&quot;, Toast.LENGTH_SHORT).show();\n            Uri Download_Uri = Uri.parse(URL);\n            DownloadManager.Request request = new DownloadManager.Request(Download_Uri);\n            request.setAllowedNetworkTypes(DownloadManager.Request.NETWORK_WIFI | DownloadManager.Request.NETWORK_MOBILE);\n            request.setAllowedOverRoaming(false);\n            request.setTitle(getResources().getString(R.string.app_name));\n            request.setDescription(&quot;Downloding...&quot;);\n            request.setNotificationVisibility(DownloadManager.Request.VISIBILITY_HIDDEN);\n            try { //V28 Below\n                request.setDestinationInExternalPublicDir(String.valueOf(getDownloadLocation()), fileName);//v 28 allow to create and it deprecated method(v28+)\n            } catch (Exception e) {\n                request.setDestinationInExternalPublicDir(DIRECTORY_DOWNLOADS, &quot;SongsFolder/&quot;+ fileName);        }\n            downloadReference = downloadManager.enqueue(request);\n            Log.i(&quot;downloadReference&quot;, &quot;&quot; + downloadReference);\n        }\n return downloadReference;\n    }\n</code></pre>\n"},{"tags":["java","apache-flink"],"answers":[{"tags":[],"owner":{"account_id":2274094,"reputation":40354,"user_id":2000823,"display_name":"David Anderson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643727031,"creation_date":1643727031,"answer_id":70942592,"question_id":70940212,"body_markdown":"The approach taken in Flink&#39;s integration tests for the KafkaSink is to bring up a containerized instance of Kafka, rather than mocking it. For example, you could look at https://github.com/apache/flink/blob/release-1.14/flink-connectors/flink-connector-kafka/src/test/java/org/apache/flink/connector/kafka/sink/KafkaSinkITCase.java.\r\n\r\nNot sure how helpful this will prove to be in this case, but in general I find looking at Flink&#39;s own tests is a good strategy for figuring out how the developers intended the interfaces to be used.","title":"How to stub new KafkaSink on integration test","body":"<p>The approach taken in Flink's integration tests for the KafkaSink is to bring up a containerized instance of Kafka, rather than mocking it. For example, you could look at <a href=\"https://github.com/apache/flink/blob/release-1.14/flink-connectors/flink-connector-kafka/src/test/java/org/apache/flink/connector/kafka/sink/KafkaSinkITCase.java\" rel=\"nofollow noreferrer\">https://github.com/apache/flink/blob/release-1.14/flink-connectors/flink-connector-kafka/src/test/java/org/apache/flink/connector/kafka/sink/KafkaSinkITCase.java</a>.</p>\n<p>Not sure how helpful this will prove to be in this case, but in general I find looking at Flink's own tests is a good strategy for figuring out how the developers intended the interfaces to be used.</p>\n"}],"owner":{"account_id":1087922,"reputation":291,"user_id":1083214,"display_name":"disorder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":426,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1643727031,"creation_date":1643716763,"question_id":70940212,"body_markdown":"Flink 1.14 marks `FlinkKafkaProducer` deprecated and replaces it with the new `KafkaSink` class.\r\nI&#39;m trying to put a new approach into `MiniClusterWithClientResource` integration tests similar as described here: [Testing Flink jobs][1].\r\n\r\nUnfortunately, I&#39;m having issues stubbing the new `KafkaSink` class as it inherits from an awkward `Sink` interface with Flink internal generic types. Also `KafkaSink` class itself exposes only a package-private constructor - therefore it&#39;s impossible to inherit from it from the arbitrary java package and overload its behavior.\r\n\r\nI managed to overcome the issue by inheriting from `KafkaSink` class in my own `apache.flink.connector.kafka.sink` package, however, there must be a better way of handling the testing or the new API is not really test friendly.\r\n\r\n    package org.apache.flink.connector.kafka.sink;\r\n    \r\n    import org.apache.flink.api.connector.sink.Committer;\r\n    import org.apache.flink.api.connector.sink.GlobalCommitter;\r\n    import org.apache.flink.api.connector.sink.SinkWriter;\r\n    import org.apache.flink.core.io.SimpleVersionedSerializer;\r\n    \r\n    import java.util.List;\r\n    import java.util.Optional;\r\n    \r\n    public abstract class TestKafkaSink&lt;T&gt; extends KafkaSink&lt;T&gt; {\r\n        public abstract void writeValue(T value);\r\n        public abstract void clear();\r\n    \r\n        public TestKafkaSink() {\r\n            super(null, null, null, null);\r\n        }\r\n    \r\n        @Override\r\n        public SinkWriter&lt;T, KafkaCommittable, KafkaWriterState&gt; createWriter(InitContext context, List&lt;KafkaWriterState&gt; states) {\r\n            return new SinkWriter&lt;&gt;() {\r\n                @Override\r\n                public void write(T t, Context context) {\r\n                    writeValue(t);\r\n                }\r\n    \r\n                @Override\r\n                public List&lt;KafkaCommittable&gt; prepareCommit(boolean b) {\r\n                    return null;\r\n                }\r\n    \r\n                @Override\r\n                public void close() {\r\n    \r\n                }\r\n            };\r\n        }\r\n    \r\n        @Override\r\n        public Optional&lt;Committer&lt;KafkaCommittable&gt;&gt; createCommitter() {\r\n            return Optional.empty();\r\n        }\r\n    \r\n        @Override\r\n        public Optional&lt;GlobalCommitter&lt;KafkaCommittable, Void&gt;&gt; createGlobalCommitter() {\r\n            return Optional.empty();\r\n        }\r\n    \r\n        @Override\r\n        public Optional&lt;SimpleVersionedSerializer&lt;KafkaCommittable&gt;&gt; getCommittableSerializer() {\r\n            return Optional.empty();\r\n        }\r\n    \r\n        @Override\r\n        public Optional&lt;SimpleVersionedSerializer&lt;Void&gt;&gt; getGlobalCommittableSerializer() {\r\n            return Optional.empty();\r\n        }\r\n    \r\n        @Override\r\n        public Optional&lt;SimpleVersionedSerializer&lt;KafkaWriterState&gt;&gt; getWriterStateSerializer() {\r\n            return Optional.empty();\r\n        }\r\n    }\r\n\r\n\r\n\r\n  [1]: https://nightlies.apache.org/flink/flink-docs-release-1.14/docs/dev/datastream/testing/#testing-flink-jobs\r\n","title":"How to stub new KafkaSink on integration test","body":"<p>Flink 1.14 marks <code>FlinkKafkaProducer</code> deprecated and replaces it with the new <code>KafkaSink</code> class.\nI'm trying to put a new approach into <code>MiniClusterWithClientResource</code> integration tests similar as described here: <a href=\"https://nightlies.apache.org/flink/flink-docs-release-1.14/docs/dev/datastream/testing/#testing-flink-jobs\" rel=\"nofollow noreferrer\">Testing Flink jobs</a>.</p>\n<p>Unfortunately, I'm having issues stubbing the new <code>KafkaSink</code> class as it inherits from an awkward <code>Sink</code> interface with Flink internal generic types. Also <code>KafkaSink</code> class itself exposes only a package-private constructor - therefore it's impossible to inherit from it from the arbitrary java package and overload its behavior.</p>\n<p>I managed to overcome the issue by inheriting from <code>KafkaSink</code> class in my own <code>apache.flink.connector.kafka.sink</code> package, however, there must be a better way of handling the testing or the new API is not really test friendly.</p>\n<pre><code>package org.apache.flink.connector.kafka.sink;\n\nimport org.apache.flink.api.connector.sink.Committer;\nimport org.apache.flink.api.connector.sink.GlobalCommitter;\nimport org.apache.flink.api.connector.sink.SinkWriter;\nimport org.apache.flink.core.io.SimpleVersionedSerializer;\n\nimport java.util.List;\nimport java.util.Optional;\n\npublic abstract class TestKafkaSink&lt;T&gt; extends KafkaSink&lt;T&gt; {\n    public abstract void writeValue(T value);\n    public abstract void clear();\n\n    public TestKafkaSink() {\n        super(null, null, null, null);\n    }\n\n    @Override\n    public SinkWriter&lt;T, KafkaCommittable, KafkaWriterState&gt; createWriter(InitContext context, List&lt;KafkaWriterState&gt; states) {\n        return new SinkWriter&lt;&gt;() {\n            @Override\n            public void write(T t, Context context) {\n                writeValue(t);\n            }\n\n            @Override\n            public List&lt;KafkaCommittable&gt; prepareCommit(boolean b) {\n                return null;\n            }\n\n            @Override\n            public void close() {\n\n            }\n        };\n    }\n\n    @Override\n    public Optional&lt;Committer&lt;KafkaCommittable&gt;&gt; createCommitter() {\n        return Optional.empty();\n    }\n\n    @Override\n    public Optional&lt;GlobalCommitter&lt;KafkaCommittable, Void&gt;&gt; createGlobalCommitter() {\n        return Optional.empty();\n    }\n\n    @Override\n    public Optional&lt;SimpleVersionedSerializer&lt;KafkaCommittable&gt;&gt; getCommittableSerializer() {\n        return Optional.empty();\n    }\n\n    @Override\n    public Optional&lt;SimpleVersionedSerializer&lt;Void&gt;&gt; getGlobalCommittableSerializer() {\n        return Optional.empty();\n    }\n\n    @Override\n    public Optional&lt;SimpleVersionedSerializer&lt;KafkaWriterState&gt;&gt; getWriterStateSerializer() {\n        return Optional.empty();\n    }\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":17933186,"reputation":440,"user_id":13030069,"display_name":"Cat Mai"},"score":0,"creation_date":1643727181,"post_id":70942554,"comment_id":125412940,"body_markdown":"The error happens in your `isOnGrid` check. What happens when the site is at (0,0)?","body":"The error happens in your <code>isOnGrid</code> check. What happens when the site is at (0,0)?"},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1643727329,"post_id":70942554,"comment_id":125413006,"body_markdown":"&quot; Also, any suggestions on ways to improve the code and/or make it clearer&quot; Use indentation. It is currently near-impossible to see the code&#39;s structure.","body":"&quot; Also, any suggestions on ways to improve the code and/or make it clearer&quot; Use indentation. It is currently near-impossible to see the code&#39;s structure."},{"owner":{"account_id":19067362,"reputation":69,"user_id":13922226,"display_name":"Rose Ben Ann"},"score":0,"creation_date":1643818787,"post_id":70942554,"comment_id":125441747,"body_markdown":"@CatMai how do you recommend fixing this?","body":"@CatMai how do you recommend fixing this?"},{"owner":{"account_id":17933186,"reputation":440,"user_id":13030069,"display_name":"Cat Mai"},"score":0,"creation_date":1643835930,"post_id":70942554,"comment_id":125448299,"body_markdown":"Not sure why you need the shift -1, so I&#39;d recommend deleting that. Also echoing @AndyTurner, please edit with indentation or use it next time.","body":"Not sure why you need the shift -1, so I&#39;d recommend deleting that. Also echoing @AndyTurner, please edit with indentation or use it next time."}],"owner":{"account_id":19067362,"reputation":69,"user_id":13922226,"display_name":"Rose Ben Ann"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":150,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643726866,"creation_date":1643726866,"question_id":70942554,"body_markdown":"I am working on visualizing a Percolation in Java. I have the following code for the Percolation Visualizer: PercolationVisualizer.java\r\n\r\n    import edu.princeton.cs.algs4.In;\r\n    import edu.princeton.cs.algs4.StdDraw;\r\n    \r\n    import java.awt.Font;\r\n    \r\n    public class PercolationVisualizer {\r\n    \r\n    // delay in milliseconds (controls animation speed)\r\n    private static final int DELAY = 100;\r\n    \r\n    // draw n-by-n percolation system\r\n    public static void draw(Percolation percolation, int n) {\r\n    StdDraw.clear();\r\n    StdDraw.setPenColor(StdDraw.BLACK);\r\n    StdDraw.setXscale(-0.05 * n, 1.05 * n);\r\n    StdDraw.setYscale(-0.05 * n, 1.05 * n); // leave a 5% border\r\n    StdDraw.filledSquare(n / 2.0, n / 2.0, n / 2.0);\r\n\r\n    // draw n-by-n grid\r\n    for (int row = 0; row &lt; n; row++) {\r\n    for (int col = 0; col &lt; n; col++) {\r\n    if (percolation.isFull(row, col)) {\r\n    StdDraw.setPenColor(StdDraw.BOOK_LIGHT_BLUE);\r\n    }\r\n    else if (percolation.isOpen(row, col)) {\r\n    StdDraw.setPenColor(StdDraw.WHITE);\r\n    }\r\n    else {\r\n    StdDraw.setPenColor(StdDraw.BLACK);\r\n    }\r\n    StdDraw.filledSquare(col + 0.5, n - row - 0.5, 0.45);\r\n    }\r\n    }\r\n    \r\n    // write status text\r\n    StdDraw.setFont(new Font(&quot;SansSerif&quot;, Font.PLAIN, 12));\r\n    StdDraw.setPenColor(StdDraw.BLACK);\r\n    StdDraw.text(0.25 * n, -0.025 * n, percolation.numberOfOpenSites() + &quot; open sites&quot;);\r\n    if (percolation.percolates()) StdDraw.text(0.75 * n, -0.025 * n, &quot;percolates&quot;);\r\n    else StdDraw.text(0.75 * n, -0.025 * n, &quot;does not percolate&quot;);\r\n    \r\n    }\r\n    \r\n    private static void simulateFromFile(String filename) {\r\n    In in = new In(filename);\r\n    int n = in.readInt();\r\n    Percolation percolation = new Percolation(n);\r\n    \r\n    // turn on animation mode\r\n    StdDraw.enableDoubleBuffering();\r\n    \r\n    // repeatedly read in sites to open and draw resulting system\r\n    draw(percolation, n);\r\n    StdDraw.show();\r\n    StdDraw.pause(DELAY);\r\n    \r\n    while (!in.isEmpty()) {\r\n    int row = in.readInt();\r\n    int col = in.readInt();\r\n    percolation.open(row, col);\r\n    draw(percolation, n);\r\n    StdDraw.show();\r\n    StdDraw.pause(DELAY);\r\n    }\r\n    }\r\n    \r\n    public static void main(String[] args) {\r\n    String filename = args[0];\r\n    simulateFromFile(filename);\r\n    }\r\n    }    \r\n\r\n\r\nAnd I am testing it with the following input file: input20.txt\r\n\r\n    20\r\n    6 10\r\n    17 10\r\n    11 4\r\n    8 4\r\n    4 8\r\n    0 0\r\n    11 0\r\n    4 3\r\n    15 18\r\n    2 12\r\n    8 13\r\n    11 3\r\n    3 10\r\n    2 2\r\n    1 1\r\n    4 16\r\n    4 19\r\n    16 10\r\n    9 2\r\n    3 16\r\n    12 3\r\n    3 17\r\n    2 3\r\n    7 14\r\n    12 4\r\n    14 6\r\n    18 19\r\n    18 17\r\n    4 0\r\n    18 10\r\n    8 9\r\n    6 14\r\n    6 0\r\n    8 12\r\n    2 11\r\n    1 12\r\n    3 9\r\n    9 10\r\n    8 0\r\n    9 16\r\n    12 14\r\n    8 5\r\n    5 4\r\n    7 16\r\n    5 8\r\n    13 5\r\n    4 9\r\n    3 11\r\n    11 15\r\n    17 1\r\n    4 10\r\n    14 15\r\n    16 12\r\n    3 14\r\n    10 2\r\n    10 12\r\n    17 19\r\n    7 11\r\n    4 5\r\n    1 5\r\n    13 17\r\n    12 13\r\n    10 6\r\n    10 19\r\n    10 13\r\n    12 9\r\n    14 16\r\n    5 14\r\n    17 9\r\n    13 10\r\n    2 0\r\n    7 9\r\n    11 13\r\n    5 13\r\n    13 9\r\n    10 8\r\n    8 18\r\n    14 1\r\n    18 5\r\n    14 12\r\n    5 1\r\n    7 6\r\n    8 8\r\n    9 6\r\n    13 19\r\n    13 7\r\n    0 13\r\n    10 14\r\n    18 0\r\n    17 7\r\n    12 7\r\n    17 11\r\n    1 4\r\n    4 1\r\n    3 6\r\n    3 19\r\n    13 12\r\n    1 7\r\n    14 11\r\n    19 11\r\n    11 6\r\n    7 13\r\n    4 4\r\n    17 15\r\n    4 11\r\n    9 14\r\n    1 6\r\n    4 18\r\n    2 8\r\n    19 12\r\n    10 7\r\n    15 17\r\n    3 4\r\n    8 14\r\n    16 9\r\n    13 18\r\n    18 7\r\n    6 12\r\n    18 11\r\n    10 11\r\n    14 17\r\n    12 17\r\n    13 0\r\n    10 18\r\n    11 18\r\n    16 3\r\n    11 5\r\n    0 8\r\n    3 8\r\n    17 8\r\n    16 18\r\n    12 19\r\n    6 1\r\n    1 3\r\n    7 10\r\n    18 6\r\n    11 1\r\n    19 5\r\n    3 15\r\n    14 4\r\n    14 2\r\n    16 5\r\n    16 11\r\n    0 4\r\n    4 13\r\n    19 6\r\n    17 6\r\n    2 18\r\n    13 14\r\n    15 16\r\n    16 14\r\n    18 18\r\n    9 5\r\n    0 7\r\n    1 8\r\n    14 10\r\n    5 6\r\n    11 17\r\n    14 3\r\n    17 16\r\n    0 10\r\n    15 19\r\n    15 3\r\n    18 8\r\n    0 6\r\n    7 1\r\n    0 12\r\n    18 12\r\n    7 2\r\n    15 2\r\n    3 1\r\n    14 8\r\n    10 3\r\n    3 0\r\n    0 14\r\n    3 7\r\n    7 12\r\n    13 11\r\n    18 13\r\n    17 14\r\n    4 6\r\n    16 13\r\n    3 5\r\n    6 8\r\n    12 6\r\n    1 14\r\n    10 0\r\n    15 10\r\n    17 4\r\n    10 1\r\n    14 14\r\n    14 7\r\n    16 6\r\n    15 7\r\n    17 0\r\n    17 2\r\n    2 17\r\n    6 7\r\n    9 13\r\n    13 13\r\n    16 15\r\n    0 3\r\n    17 12\r\n    6 9\r\n    15 1\r\n    5 7\r\n    10 5\r\n    11 8\r\n    11 10\r\n    6 5\r\n    1 2\r\n    12 0\r\n    0 1\r\n    14 0\r\n    12 15\r\n    16 19\r\n    12 18\r\n    14 18\r\n    7 0\r\n    18 9\r\n    4 12\r\n    0 16\r\n    13 4\r\n    5 9\r\n    11 11\r\n    6 15\r\n    19 18\r\n    8 10\r\n    2 5\r\n    15 0\r\n    19 0\r\n    6 17\r\n    19 4\r\n    6 11\r\n    8 1\r\n    7 19\r\n    2 14\r\n    2 13\r\n    2 4\r\n    4 17\r\n    18 16\r\n    15 11\r\n    19 3\r\n    4 15\r\n    5 2\r\n    7 5\r\n    11 14\r\n    1 15\r\n    15 5\r\n    0 17\r\n\r\nThis is my Percolation file: Percolation.java that I need to run the visualizer.\r\n    \r\n    import edu.princeton.cs.algs4.StdOut;\r\n    import edu.princeton.cs.algs4.WeightedQuickUnionUF;\r\n    \r\n    public class Percolation {\r\n    private boolean[][] grid; // grid\r\n    private WeightedQuickUnionUF wqfGrid; // quick union for grid\r\n    private WeightedQuickUnionUF wqfFull; // quick union for full\r\n    private int gridSize; // grid size\r\n    private int virtualTop; // top virtual site\r\n    private int virtualBottom; // bottom virtual site\r\n    private int openSites; // number of open sites\r\n    \r\n    // creates n-by-n grid, with all sites initially blocked\r\n    public Percolation(int n) {\r\n    if (n &lt;= 0) throw new IllegalArgumentException();\r\n    gridSize = n;\r\n    grid = new boolean[gridSize][gridSize];\r\n    wqfGrid = new WeightedQuickUnionUF(n * n + 2);\r\n    wqfFull = new WeightedQuickUnionUF(n * n + 1);\r\n    virtualBottom = n * n + 1;\r\n    virtualTop = n * n;\r\n    openSites = 0;\r\n    }\r\n    \r\n    // opens the site (row, col) if it is not open already\r\n    public void open(int row, int col) {\r\n    validateSite(row, col);\r\n    \r\n    int shiftRow = row - 1;\r\n    int shiftCol = col - 1;\r\n    int flatIndex = flattenGrid(row, col) - 1;\r\n    \r\n    // if site is already open, stop\r\n    if (isOpen(row, col)) {\r\n    return;\r\n    }\r\n    \r\n    // open site\r\n    grid[shiftRow][shiftCol] = true;\r\n    openSites++;\r\n    \r\n    if (row == 1) { // top row\r\n    wqfGrid.union(virtualTop, flatIndex);\r\n    wqfFull.union(virtualTop, flatIndex);\r\n    }\r\n    \r\n    if (row == gridSize) { // bottom row\r\n    wqfGrid.union(virtualBottom, flatIndex);\r\n    }\r\n    \r\n    // check and open site on left\r\n    if (isOnGrid(row, col - 1) &amp;&amp; isOpen(row, col - 1)) {\r\n    wqfGrid.union(flatIndex, flattenGrid(row, col - 1) - 1);\r\n    wqfFull.union(flatIndex, flattenGrid(row, col - 1) - 1);\r\n    }\r\n    \r\n    // check and open site on right\r\n    if (isOnGrid(row, col + 1) &amp;&amp; isOpen(row, col + 1)) {\r\n    wqfGrid.union(flatIndex, flattenGrid(row, col + 1) - 1);\r\n    wqfFull.union(flatIndex, flattenGrid(row, col + 1) - 1);\r\n    }\r\n    \r\n    // check and open site on top (up)\r\n    if (isOnGrid(row - 1, col) &amp;&amp; isOpen(row - 1, col)) {\r\n    wqfGrid.union(flatIndex, flattenGrid(row - 1, col) - 1);\r\n    wqfFull.union(flatIndex, flattenGrid(row - 1, col) - 1);\r\n    }\r\n    \r\n    // check and open site on bottom (down)\r\n    if (isOnGrid(row + 1, col) &amp;&amp; isOpen(row + 1, col)) {\r\n    wqfGrid.union(flatIndex, flattenGrid(row + 1, col) - 1);\r\n    wqfFull.union(flatIndex, flattenGrid(row + 1, col) - 1);\r\n    }\r\n    }\r\n    \r\n    // is the site (row, col) open?\r\n    public boolean isOpen(int row, int col) {\r\n    validateSite(row, col);\r\n    return grid[row - 1][col - 1];\r\n    \r\n    }\r\n    \r\n    // is the site (row, col) full?\r\n    public boolean isFull(int row, int col) {\r\n    validateSite(row, col);\r\n    return wqfFull.find(virtualTop) == wqfFull.find(flattenGrid(row, col) - 1);\r\n    }\r\n    \r\n    // returns the number of open sites\r\n    public int numberOfOpenSites() {\r\n    return openSites;\r\n    }\r\n    \r\n    // does the system percolate?\r\n    public boolean percolates() {\r\n    return wqfGrid.find(virtualTop) == wqfGrid.find(virtualBottom);\r\n    }\r\n    \r\n    // unit testing (required)\r\n    public static void main(String[] args) {\r\n    int size = Integer.parseInt(args[0]);\r\n    \r\n    Percolation percolation = new Percolation(size);\r\n    int argCount = args.length;\r\n    for (int i = 1; argCount &gt;= 2; i += 2) {\r\n    int row = Integer.parseInt(args[i]);\r\n    int col = Integer.parseInt(args[i + 1]);\r\n    StdOut.printf(&quot;Adding row: %d col: %d %n&quot;, row, col);\r\n    percolation.open(row, col);\r\n    if (percolation.percolates()) {\r\n    StdOut.printf(&quot;%nThe System percolates %n&quot;);\r\n    }\r\n    argCount -= 2;\r\n    }\r\n    if (!percolation.percolates()) {\r\n    StdOut.print(&quot;Does not percolate %n&quot;);\r\n    }\r\n    \r\n    }\r\n    \r\n    // flatten grid\r\n    private int flattenGrid(int row, int col) {\r\n    return gridSize * (row - 1) + col;\r\n    }\r\n    \r\n    // check site\r\n    private void validateSite(int row, int col) {\r\n    if (!isOnGrid(row, col)) {\r\n    throw new IllegalArgumentException();\r\n    }\r\n    }\r\n    \r\n    private boolean isOnGrid(int row, int col) {\r\n    int shiftRow = row - 1;\r\n    int shiftCol = col - 1;\r\n    return (shiftRow &gt;= 0 &amp;&amp; shiftCol &gt;= 0 &amp;&amp; shiftRow &lt; gridSize &amp;&amp; shiftCol &lt; gridSize);\r\n    }\r\n    }\r\n    }\r\n    }\r\n\r\n\r\n\r\nWhen I run java-algs4 PercolationVisualizer input20.txt, I receive the following error messages:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.IllegalArgumentException\r\n    at Percolation.validateSite(Percolation.java:129)\r\n    at Percolation.isFull(Percolation.java:85)\r\n    at PercolationVisualizer.draw(PercolationVisualizer.java:40)\r\n    at PercolationVisualizer.simulateFromFile(PercolationVisualizer.java:71)\r\n    at PercolationVisualizer.main(PercolationVisualizer.java:87)\r\n\r\n**So, How can I fix this to make it work?** Also, how can I make sure that all methods are called in main()? **Also, any suggestions on ways to improve the code and/or make it clearer and more concise?**\r\n\r\n\r\n\r\n\r\n\r\n","title":"Percolation code in Java keeps throwing IllegalArgumentException","body":"<p>I am working on visualizing a Percolation in Java. I have the following code for the Percolation Visualizer: PercolationVisualizer.java</p>\n<pre><code>import edu.princeton.cs.algs4.In;\nimport edu.princeton.cs.algs4.StdDraw;\n\nimport java.awt.Font;\n\npublic class PercolationVisualizer {\n\n// delay in milliseconds (controls animation speed)\nprivate static final int DELAY = 100;\n\n// draw n-by-n percolation system\npublic static void draw(Percolation percolation, int n) {\nStdDraw.clear();\nStdDraw.setPenColor(StdDraw.BLACK);\nStdDraw.setXscale(-0.05 * n, 1.05 * n);\nStdDraw.setYscale(-0.05 * n, 1.05 * n); // leave a 5% border\nStdDraw.filledSquare(n / 2.0, n / 2.0, n / 2.0);\n\n// draw n-by-n grid\nfor (int row = 0; row &lt; n; row++) {\nfor (int col = 0; col &lt; n; col++) {\nif (percolation.isFull(row, col)) {\nStdDraw.setPenColor(StdDraw.BOOK_LIGHT_BLUE);\n}\nelse if (percolation.isOpen(row, col)) {\nStdDraw.setPenColor(StdDraw.WHITE);\n}\nelse {\nStdDraw.setPenColor(StdDraw.BLACK);\n}\nStdDraw.filledSquare(col + 0.5, n - row - 0.5, 0.45);\n}\n}\n\n// write status text\nStdDraw.setFont(new Font(&quot;SansSerif&quot;, Font.PLAIN, 12));\nStdDraw.setPenColor(StdDraw.BLACK);\nStdDraw.text(0.25 * n, -0.025 * n, percolation.numberOfOpenSites() + &quot; open sites&quot;);\nif (percolation.percolates()) StdDraw.text(0.75 * n, -0.025 * n, &quot;percolates&quot;);\nelse StdDraw.text(0.75 * n, -0.025 * n, &quot;does not percolate&quot;);\n\n}\n\nprivate static void simulateFromFile(String filename) {\nIn in = new In(filename);\nint n = in.readInt();\nPercolation percolation = new Percolation(n);\n\n// turn on animation mode\nStdDraw.enableDoubleBuffering();\n\n// repeatedly read in sites to open and draw resulting system\ndraw(percolation, n);\nStdDraw.show();\nStdDraw.pause(DELAY);\n\nwhile (!in.isEmpty()) {\nint row = in.readInt();\nint col = in.readInt();\npercolation.open(row, col);\ndraw(percolation, n);\nStdDraw.show();\nStdDraw.pause(DELAY);\n}\n}\n\npublic static void main(String[] args) {\nString filename = args[0];\nsimulateFromFile(filename);\n}\n}    \n</code></pre>\n<p>And I am testing it with the following input file: input20.txt</p>\n<pre><code>20\n6 10\n17 10\n11 4\n8 4\n4 8\n0 0\n11 0\n4 3\n15 18\n2 12\n8 13\n11 3\n3 10\n2 2\n1 1\n4 16\n4 19\n16 10\n9 2\n3 16\n12 3\n3 17\n2 3\n7 14\n12 4\n14 6\n18 19\n18 17\n4 0\n18 10\n8 9\n6 14\n6 0\n8 12\n2 11\n1 12\n3 9\n9 10\n8 0\n9 16\n12 14\n8 5\n5 4\n7 16\n5 8\n13 5\n4 9\n3 11\n11 15\n17 1\n4 10\n14 15\n16 12\n3 14\n10 2\n10 12\n17 19\n7 11\n4 5\n1 5\n13 17\n12 13\n10 6\n10 19\n10 13\n12 9\n14 16\n5 14\n17 9\n13 10\n2 0\n7 9\n11 13\n5 13\n13 9\n10 8\n8 18\n14 1\n18 5\n14 12\n5 1\n7 6\n8 8\n9 6\n13 19\n13 7\n0 13\n10 14\n18 0\n17 7\n12 7\n17 11\n1 4\n4 1\n3 6\n3 19\n13 12\n1 7\n14 11\n19 11\n11 6\n7 13\n4 4\n17 15\n4 11\n9 14\n1 6\n4 18\n2 8\n19 12\n10 7\n15 17\n3 4\n8 14\n16 9\n13 18\n18 7\n6 12\n18 11\n10 11\n14 17\n12 17\n13 0\n10 18\n11 18\n16 3\n11 5\n0 8\n3 8\n17 8\n16 18\n12 19\n6 1\n1 3\n7 10\n18 6\n11 1\n19 5\n3 15\n14 4\n14 2\n16 5\n16 11\n0 4\n4 13\n19 6\n17 6\n2 18\n13 14\n15 16\n16 14\n18 18\n9 5\n0 7\n1 8\n14 10\n5 6\n11 17\n14 3\n17 16\n0 10\n15 19\n15 3\n18 8\n0 6\n7 1\n0 12\n18 12\n7 2\n15 2\n3 1\n14 8\n10 3\n3 0\n0 14\n3 7\n7 12\n13 11\n18 13\n17 14\n4 6\n16 13\n3 5\n6 8\n12 6\n1 14\n10 0\n15 10\n17 4\n10 1\n14 14\n14 7\n16 6\n15 7\n17 0\n17 2\n2 17\n6 7\n9 13\n13 13\n16 15\n0 3\n17 12\n6 9\n15 1\n5 7\n10 5\n11 8\n11 10\n6 5\n1 2\n12 0\n0 1\n14 0\n12 15\n16 19\n12 18\n14 18\n7 0\n18 9\n4 12\n0 16\n13 4\n5 9\n11 11\n6 15\n19 18\n8 10\n2 5\n15 0\n19 0\n6 17\n19 4\n6 11\n8 1\n7 19\n2 14\n2 13\n2 4\n4 17\n18 16\n15 11\n19 3\n4 15\n5 2\n7 5\n11 14\n1 15\n15 5\n0 17\n</code></pre>\n<p>This is my Percolation file: Percolation.java that I need to run the visualizer.</p>\n<pre><code>import edu.princeton.cs.algs4.StdOut;\nimport edu.princeton.cs.algs4.WeightedQuickUnionUF;\n\npublic class Percolation {\nprivate boolean[][] grid; // grid\nprivate WeightedQuickUnionUF wqfGrid; // quick union for grid\nprivate WeightedQuickUnionUF wqfFull; // quick union for full\nprivate int gridSize; // grid size\nprivate int virtualTop; // top virtual site\nprivate int virtualBottom; // bottom virtual site\nprivate int openSites; // number of open sites\n\n// creates n-by-n grid, with all sites initially blocked\npublic Percolation(int n) {\nif (n &lt;= 0) throw new IllegalArgumentException();\ngridSize = n;\ngrid = new boolean[gridSize][gridSize];\nwqfGrid = new WeightedQuickUnionUF(n * n + 2);\nwqfFull = new WeightedQuickUnionUF(n * n + 1);\nvirtualBottom = n * n + 1;\nvirtualTop = n * n;\nopenSites = 0;\n}\n\n// opens the site (row, col) if it is not open already\npublic void open(int row, int col) {\nvalidateSite(row, col);\n\nint shiftRow = row - 1;\nint shiftCol = col - 1;\nint flatIndex = flattenGrid(row, col) - 1;\n\n// if site is already open, stop\nif (isOpen(row, col)) {\nreturn;\n}\n\n// open site\ngrid[shiftRow][shiftCol] = true;\nopenSites++;\n\nif (row == 1) { // top row\nwqfGrid.union(virtualTop, flatIndex);\nwqfFull.union(virtualTop, flatIndex);\n}\n\nif (row == gridSize) { // bottom row\nwqfGrid.union(virtualBottom, flatIndex);\n}\n\n// check and open site on left\nif (isOnGrid(row, col - 1) &amp;&amp; isOpen(row, col - 1)) {\nwqfGrid.union(flatIndex, flattenGrid(row, col - 1) - 1);\nwqfFull.union(flatIndex, flattenGrid(row, col - 1) - 1);\n}\n\n// check and open site on right\nif (isOnGrid(row, col + 1) &amp;&amp; isOpen(row, col + 1)) {\nwqfGrid.union(flatIndex, flattenGrid(row, col + 1) - 1);\nwqfFull.union(flatIndex, flattenGrid(row, col + 1) - 1);\n}\n\n// check and open site on top (up)\nif (isOnGrid(row - 1, col) &amp;&amp; isOpen(row - 1, col)) {\nwqfGrid.union(flatIndex, flattenGrid(row - 1, col) - 1);\nwqfFull.union(flatIndex, flattenGrid(row - 1, col) - 1);\n}\n\n// check and open site on bottom (down)\nif (isOnGrid(row + 1, col) &amp;&amp; isOpen(row + 1, col)) {\nwqfGrid.union(flatIndex, flattenGrid(row + 1, col) - 1);\nwqfFull.union(flatIndex, flattenGrid(row + 1, col) - 1);\n}\n}\n\n// is the site (row, col) open?\npublic boolean isOpen(int row, int col) {\nvalidateSite(row, col);\nreturn grid[row - 1][col - 1];\n\n}\n\n// is the site (row, col) full?\npublic boolean isFull(int row, int col) {\nvalidateSite(row, col);\nreturn wqfFull.find(virtualTop) == wqfFull.find(flattenGrid(row, col) - 1);\n}\n\n// returns the number of open sites\npublic int numberOfOpenSites() {\nreturn openSites;\n}\n\n// does the system percolate?\npublic boolean percolates() {\nreturn wqfGrid.find(virtualTop) == wqfGrid.find(virtualBottom);\n}\n\n// unit testing (required)\npublic static void main(String[] args) {\nint size = Integer.parseInt(args[0]);\n\nPercolation percolation = new Percolation(size);\nint argCount = args.length;\nfor (int i = 1; argCount &gt;= 2; i += 2) {\nint row = Integer.parseInt(args[i]);\nint col = Integer.parseInt(args[i + 1]);\nStdOut.printf(&quot;Adding row: %d col: %d %n&quot;, row, col);\npercolation.open(row, col);\nif (percolation.percolates()) {\nStdOut.printf(&quot;%nThe System percolates %n&quot;);\n}\nargCount -= 2;\n}\nif (!percolation.percolates()) {\nStdOut.print(&quot;Does not percolate %n&quot;);\n}\n\n}\n\n// flatten grid\nprivate int flattenGrid(int row, int col) {\nreturn gridSize * (row - 1) + col;\n}\n\n// check site\nprivate void validateSite(int row, int col) {\nif (!isOnGrid(row, col)) {\nthrow new IllegalArgumentException();\n}\n}\n\nprivate boolean isOnGrid(int row, int col) {\nint shiftRow = row - 1;\nint shiftCol = col - 1;\nreturn (shiftRow &gt;= 0 &amp;&amp; shiftCol &gt;= 0 &amp;&amp; shiftRow &lt; gridSize &amp;&amp; shiftCol &lt; gridSize);\n}\n}\n}\n}\n</code></pre>\n<p>When I run java-algs4 PercolationVisualizer input20.txt, I receive the following error messages:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.IllegalArgumentException\nat Percolation.validateSite(Percolation.java:129)\nat Percolation.isFull(Percolation.java:85)\nat PercolationVisualizer.draw(PercolationVisualizer.java:40)\nat PercolationVisualizer.simulateFromFile(PercolationVisualizer.java:71)\nat PercolationVisualizer.main(PercolationVisualizer.java:87)\n</code></pre>\n<p><strong>So, How can I fix this to make it work?</strong> Also, how can I make sure that all methods are called in main()? <strong>Also, any suggestions on ways to improve the code and/or make it clearer and more concise?</strong></p>\n"},{"tags":["java","android","kotlin","mobile"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1615828249,"post_id":66641751,"comment_id":117806974,"body_markdown":"`Uri.parse(&quot;file://$mFilePathDaily&quot;)` You cannot use file uries since Android N/7. They will produce an FileUriExposedException. Use FileProvider.getUriForFile().","body":"<code>Uri.parse(&quot;file:&#47;&#47;$mFilePathDaily&quot;)</code> You cannot use file uries since Android N/7. They will produce an FileUriExposedException. Use FileProvider.getUriForFile()."},{"owner":{"account_id":12623066,"reputation":225,"user_id":10473503,"display_name":"Tecnologia da Net"},"score":0,"creation_date":1615832621,"post_id":66641751,"comment_id":117808985,"body_markdown":"does that solve? How? @blackapps","body":"does that solve? How? @blackapps"},{"owner":{"account_id":19559005,"reputation":237,"user_id":14630265,"display_name":"Anwar Zahid"},"score":3,"creation_date":1616086995,"post_id":66641751,"comment_id":117899723,"body_markdown":"Using FileProvider to attach and share the file for android 10 and Above version.","body":"Using FileProvider to attach and share the file for android 10 and Above version."},{"owner":{"account_id":9591845,"reputation":1778,"user_id":7122438,"accept_rate":83,"display_name":"Jacob Celestine"},"score":0,"creation_date":1616168730,"post_id":66641751,"comment_id":117926663,"body_markdown":"You can store the file at the path given by `context.externalCacheDir` and then access it easily. Else, you&#39;ll have to get separate accesses. Read about it [here](https://developer.android.com/about/versions/11/privacy/storage).","body":"You can store the file at the path given by <code>context.externalCacheDir</code> and then access it easily. Else, you&#39;ll have to get separate accesses. Read about it <a href=\"https://developer.android.com/about/versions/11/privacy/storage\" rel=\"nofollow noreferrer\">here</a>."}],"answers":[{"tags":[],"owner":{"account_id":2149059,"reputation":3106,"user_id":1905965,"display_name":"Amin"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1616216138,"creation_date":1616216138,"answer_id":66718371,"question_id":66641751,"body_markdown":"You and email apps won&#39;t be able to access files on Android 11. Try to use SAF instead.\r\nhttps://stackoverflow.com/questions/18249007/how-to-use-support-fileprovider-for-sharing-content-to-other-apps","title":"couldn&#39;t attach file send email android 11","body":"<p>You and email apps won't be able to access files on Android 11. Try to use SAF instead.\n<a href=\"https://stackoverflow.com/questions/18249007/how-to-use-support-fileprovider-for-sharing-content-to-other-apps\">How to use support FileProvider for sharing content to other apps?</a></p>\n"},{"tags":[],"owner":{"account_id":11847928,"reputation":539,"user_id":9062060,"display_name":"axar"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1643515677,"creation_date":1616225986,"answer_id":66719299,"question_id":66641751,"body_markdown":"\r\n\r\n\r\nI have attached the image successfully in email i will give you a code\r\n\r\nconvert your URI to file\r\n\r\n     private void Share(File savepath) {\r\n           \r\n     if (savePath != null) {\r\n    \r\n                Uri uri = FileProvider.getUriForFile(context, context.getApplicationContext().getPackageName() + &quot;.provider&quot;, savePath);\r\n    \r\n                Intent i = new Intent(Intent.ACTION_SEND);\r\n                i.putExtra(Intent.EXTRA_EMAIL, new String[]{&quot;fake@fake.edu&quot;});\r\n                i.putExtra(Intent.EXTRA_SUBJECT,&quot;On The Job&quot;);\r\n                //Log.d(&quot;URI@!@#!#!@##!&quot;, Uri.fromFile(pic).toString() + &quot;   &quot; + pic.exists());\r\n                i.putExtra(Intent.EXTRA_TEXT,&quot;All Detail of Email are here in message&quot;);\r\n                i.putExtra(Intent.EXTRA_STREAM,uri);\r\n                i.setType(&quot;image/png&quot;);\r\n                context.startActivity(Intent.createChooser(i,&quot;Share you on the jobing&quot;));\r\n    \r\n            }\r\n\r\nhow to add provider in XML path\r\n first, you have to create an XML resource folder then create an XML resource file\r\nafter pasting this code \r\n\r\n    &lt;paths xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n        &lt;external-path name=&quot;external_files&quot; path=&quot;.&quot;/&gt;\r\n    &lt;/paths&gt;\r\n\r\n\r\nthen also add-in manifest\r\n\r\n    &lt;provider\r\n        android:name=&quot;androidx.core.content.FileProvider&quot;\r\n        android:authorities=&quot;${applicationId}.provider&quot;\r\n        android:exported=&quot;false&quot;\r\n        android:grantUriPermissions=&quot;true&quot;&gt;\r\n        &lt;meta-data\r\n            android:name=&quot;android.support.FILE_PROVIDER_PATHS&quot;\r\n            android:resource=&quot;@xml/provider_paths&quot; /&gt;\r\n    &lt;/provider&gt;\r\n\r\n[![file provider in xml][2]][2]\r\n\r\n[![decalre in manifest][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/G3OTH.png\r\n  [2]: https://i.stack.imgur.com/JZeRJ.png\r\n  [3]: https://i.stack.imgur.com/HnudU.png","title":"couldn&#39;t attach file send email android 11","body":"<p>I have attached the image successfully in email i will give you a code</p>\n<p>convert your URI to file</p>\n<pre><code> private void Share(File savepath) {\n       \n if (savePath != null) {\n\n            Uri uri = FileProvider.getUriForFile(context, context.getApplicationContext().getPackageName() + &quot;.provider&quot;, savePath);\n\n            Intent i = new Intent(Intent.ACTION_SEND);\n            i.putExtra(Intent.EXTRA_EMAIL, new String[]{&quot;fake@fake.edu&quot;});\n            i.putExtra(Intent.EXTRA_SUBJECT,&quot;On The Job&quot;);\n            //Log.d(&quot;URI@!@#!#!@##!&quot;, Uri.fromFile(pic).toString() + &quot;   &quot; + pic.exists());\n            i.putExtra(Intent.EXTRA_TEXT,&quot;All Detail of Email are here in message&quot;);\n            i.putExtra(Intent.EXTRA_STREAM,uri);\n            i.setType(&quot;image/png&quot;);\n            context.startActivity(Intent.createChooser(i,&quot;Share you on the jobing&quot;));\n\n        }\n</code></pre>\n<p>how to add provider in XML path\nfirst, you have to create an XML resource folder then create an XML resource file\nafter pasting this code</p>\n<pre><code>&lt;paths xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n    &lt;external-path name=&quot;external_files&quot; path=&quot;.&quot;/&gt;\n&lt;/paths&gt;\n</code></pre>\n<p>then also add-in manifest</p>\n<pre><code>&lt;provider\n    android:name=&quot;androidx.core.content.FileProvider&quot;\n    android:authorities=&quot;${applicationId}.provider&quot;\n    android:exported=&quot;false&quot;\n    android:grantUriPermissions=&quot;true&quot;&gt;\n    &lt;meta-data\n        android:name=&quot;android.support.FILE_PROVIDER_PATHS&quot;\n        android:resource=&quot;@xml/provider_paths&quot; /&gt;\n&lt;/provider&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/JZeRJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JZeRJ.png\" alt=\"file provider in xml\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/HnudU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HnudU.png\" alt=\"decalre in manifest\" /></a></p>\n"},{"tags":[],"owner":{"account_id":2108602,"reputation":11,"user_id":1874336,"display_name":"user1874336"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1618563537,"creation_date":1618563537,"answer_id":67122205,"question_id":66641751,"body_markdown":"I was able to send an email with pdf attachment using the code below. [screenshot][1] Crucial was granting READ_URI_PERMISSION and WRITE_URI_PERMISSION, using ACTION_SEND instead of ACTION_SENDTO and the Uri being linked to a pdf file in one of the standard directories such as Download or Documents. I did not need to convert Uri to File.:\r\n\r\n\r\n      //obtaining the uri to the pdf report when creating it\r\n      Uri pathToPdf = null;\r\n      int EmailRequestCode = 200;\r\n      ContentResolver contentresolver = getContentResolver();\r\n      ContentValues contentvalues = new ContentValues();\r\n      contentvalues.put(MediaStore.MediaColumns.DISPLAY_NAME, pdfFileName);\r\n      contentvalues.put(MediaStore.MediaColumns.MIME_TYPE, &quot;application/pdf&quot;);\r\n      contentvalues.put(MediaStore.MediaColumns.RELATIVE_PATH, Environment.DIRECTORY_DOWNLOADS + File.separator +&quot;Reports&quot;);\r\n      pathToPdf = contentresolver.insert(MediaStore.Files.getContentUri(&quot;external&quot;), contentvalues);\r\n\r\n      //... writing data to the pdf\r\n\r\n      //getting email addresses to include in the email\r\n      String[] mailto = listMailAddressTO.toArray(new String[2]);\r\n      String[] mailCC = listMailAddressCC.toArray(new String[2]);\r\n\r\n      Intent emailIntent = new Intent(Intent.ACTION_SEND);\r\n      emailIntent.setType(&quot;application/pdf&quot;);\r\n      emailIntent.putExtra(Intent.EXTRA_EMAIL, mailto);\r\n      emailIntent.putExtra(Intent.EXTRA_CC, mailCC);\r\n      emailIntent.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);\r\n      emailIntent.addFlags(Intent.FLAG_GRANT_WRITE_URI_PERMISSION);\r\n      emailIntent.putExtra(Intent.EXTRA_SUBJECT, &quot;UllageReport (Pdf)&quot;);                                \r\n      emailIntent.putExtra(Intent.EXTRA_TEXT, &quot;UllageReport&quot;);\r\n      emailIntent.putExtra(Intent.EXTRA_STREAM, pathToPdf);\r\n      try{\r\n          if (emailIntent.resolveActivity(getPackageManager()) != null) {\r\n              startActivityForResult(emailIntent, EmailRequestCode);\r\n          }\r\n      }\r\n      catch(android.content.ActivityNotFoundException e){\r\n           Toast.makeText(UllageReportPdf.this, &quot;No email client available&quot;, Toast.LENGTH_SHORT).show();\r\n      }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6oKbV.png","title":"couldn&#39;t attach file send email android 11","body":"<p>I was able to send an email with pdf attachment using the code below. <a href=\"https://i.stack.imgur.com/6oKbV.png\" rel=\"nofollow noreferrer\">screenshot</a> Crucial was granting READ_URI_PERMISSION and WRITE_URI_PERMISSION, using ACTION_SEND instead of ACTION_SENDTO and the Uri being linked to a pdf file in one of the standard directories such as Download or Documents. I did not need to convert Uri to File.:</p>\n<pre><code>  //obtaining the uri to the pdf report when creating it\n  Uri pathToPdf = null;\n  int EmailRequestCode = 200;\n  ContentResolver contentresolver = getContentResolver();\n  ContentValues contentvalues = new ContentValues();\n  contentvalues.put(MediaStore.MediaColumns.DISPLAY_NAME, pdfFileName);\n  contentvalues.put(MediaStore.MediaColumns.MIME_TYPE, &quot;application/pdf&quot;);\n  contentvalues.put(MediaStore.MediaColumns.RELATIVE_PATH, Environment.DIRECTORY_DOWNLOADS + File.separator +&quot;Reports&quot;);\n  pathToPdf = contentresolver.insert(MediaStore.Files.getContentUri(&quot;external&quot;), contentvalues);\n\n  //... writing data to the pdf\n\n  //getting email addresses to include in the email\n  String[] mailto = listMailAddressTO.toArray(new String[2]);\n  String[] mailCC = listMailAddressCC.toArray(new String[2]);\n\n  Intent emailIntent = new Intent(Intent.ACTION_SEND);\n  emailIntent.setType(&quot;application/pdf&quot;);\n  emailIntent.putExtra(Intent.EXTRA_EMAIL, mailto);\n  emailIntent.putExtra(Intent.EXTRA_CC, mailCC);\n  emailIntent.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);\n  emailIntent.addFlags(Intent.FLAG_GRANT_WRITE_URI_PERMISSION);\n  emailIntent.putExtra(Intent.EXTRA_SUBJECT, &quot;UllageReport (Pdf)&quot;);                                \n  emailIntent.putExtra(Intent.EXTRA_TEXT, &quot;UllageReport&quot;);\n  emailIntent.putExtra(Intent.EXTRA_STREAM, pathToPdf);\n  try{\n      if (emailIntent.resolveActivity(getPackageManager()) != null) {\n          startActivityForResult(emailIntent, EmailRequestCode);\n      }\n  }\n  catch(android.content.ActivityNotFoundException e){\n       Toast.makeText(UllageReportPdf.this, &quot;No email client available&quot;, Toast.LENGTH_SHORT).show();\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16245676,"reputation":41,"user_id":11730878,"display_name":"Magali Sganga"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643726657,"creation_date":1643726657,"answer_id":70942503,"question_id":66641751,"body_markdown":"The solution for me was I had to replace res/xml/file_paths.xml with:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n      &lt;paths&gt;\r\n        &lt;external-path\r\n             name=&quot;external&quot;\r\n             path=&quot;.&quot; /&gt;\r\n        &lt;external-files-path\r\n             name=&quot;external_files&quot;\r\n             path=&quot;.&quot; /&gt;\r\n        &lt;cache-path\r\n             name=&quot;cache&quot;\r\n             path=&quot;.&quot; /&gt;\r\n        &lt;external-cache-path\r\n             name=&quot;external_cache&quot;\r\n             path=&quot;.&quot; /&gt;\r\n        &lt;files-path\r\n             name=&quot;files&quot;\r\n             path=&quot;.&quot; /&gt;\r\n    &lt;/paths&gt;\r\n\r\nYou should use only the lines you need to make it work.","title":"couldn&#39;t attach file send email android 11","body":"<p>The solution for me was I had to replace res/xml/file_paths.xml with:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n  &lt;paths&gt;\n    &lt;external-path\n         name=&quot;external&quot;\n         path=&quot;.&quot; /&gt;\n    &lt;external-files-path\n         name=&quot;external_files&quot;\n         path=&quot;.&quot; /&gt;\n    &lt;cache-path\n         name=&quot;cache&quot;\n         path=&quot;.&quot; /&gt;\n    &lt;external-cache-path\n         name=&quot;external_cache&quot;\n         path=&quot;.&quot; /&gt;\n    &lt;files-path\n         name=&quot;files&quot;\n         path=&quot;.&quot; /&gt;\n&lt;/paths&gt;\n</code></pre>\n<p>You should use only the lines you need to make it work.</p>\n"}],"owner":{"account_id":12623066,"reputation":225,"user_id":10473503,"display_name":"Tecnologia da Net"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11578,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":66719299,"answer_count":4,"score":6,"last_activity_date":1643726657,"creation_date":1615825176,"question_id":66641751,"body_markdown":"I am developing an application that sends processing reports via email. When completing the processing data in the application, the user sends an email containing the processing data. However, I am facing a problem on Android 11. When attaching the report to the email, regardless of the email application, a message appears: the file could not be attached. I&#39;ve been researching a little and saw that it may be related to the permission to access the internal storage of the device on devices with version of android 11. I would like me to help you send email with file attached on android 11.\r\n\r\nMy code:\r\nManifest\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\r\n\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:networkSecurityConfig=&quot;@xml/network_security_config&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/AppTheme&quot;\r\n        android:requestLegacyExternalStorage=&quot;true&quot;\r\n        tools:ignore=&quot;AllowBackup&quot;\r\n        tools:targetApi=&quot;n&quot;&gt;\r\n\r\n        &lt;activity.....\r\n         &lt;provider\r\n            android:name=&quot;androidx.core.content.FileProvider&quot;\r\n            android:authorities=&quot;${applicationId}.provider&quot;\r\n            android:exported=&quot;false&quot;\r\n            android:grantUriPermissions=&quot;true&quot;&gt;\r\n            &lt;meta-data\r\n                android:name=&quot;android.support.FILE_PROVIDER_PATHS&quot;\r\n                android:resource=&quot;@xml/file_paths&quot; /&gt;\r\n        &lt;/provider&gt;\r\n      &lt;/application&gt;\r\n\r\n\r\nMy xml:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;paths&gt;\r\n       &lt;external-path name=&quot;external_files&quot; path=&quot;.&quot;/&gt;\r\n    &lt;/paths&gt;\r\n\r\nSave file .pdf\r\n\r\n    val mDocProc = Document()\r\n                val file =\r\n                    File(\r\n                        Environment.getExternalStorageDirectory()\r\n                            .toString() + &quot;/&quot; + &quot;Relat&#243;rio di&#225;rio&quot; + date + &quot;.pdf&quot;\r\n                    )\r\n                if (file.exists()) {\r\n                    file.delete()\r\n                }\r\n                //pdf file path\r\n                mFilePathDaily =\r\n                    Environment.getExternalStorageDirectory()\r\n                        .toString() + &quot;/&quot; + &quot;Relat&#243;rio di&#225;rio &quot; + date + &quot;.pdf&quot;\r\n\r\nClass send email:\r\n\r\n    val report = File(mFilePathDaily)\r\n                val uri = FileProvider.getUriForFile(\r\n                    activity.requireContext(),\r\n                    activity.requireContext().applicationContext.packageName + &quot;.provider&quot;,\r\n                    report\r\n                )\r\n\r\n                val i = Intent(Intent.ACTION_SENDTO)\r\n                i.data = Uri.parse(&quot;mailto:&quot;)\r\n                i.putExtra(Intent.EXTRA_EMAIL, arrayOf(&quot;testesdissertacao@gmail.com&quot;))\r\n                i.putExtra(Intent.EXTRA_SUBJECT, EMAIL_SUBJECT)\r\n                i.putExtra(Intent.EXTRA_TEXT, &quot;Segue em anexo o relat&#243;rio de Benchmark&quot;)\r\n                i.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK)\r\n                i.putExtra(Intent.EXTRA_STREAM, uri)\r\n                //i.type = &quot;image/png&quot;\r\n                activity.requireContext().startActivity(Intent.createChooser(i, null))\r\n                progressDialog.dismiss()\r\n\r\n\r\nNow the problem is that you can&#39;t find the report to attach to the email. I noticed that the report was saved inside that other folder in the emulator, and not in the root folder. I think that is why you are not finding the file to attach to the email.\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\nDo not attach the file to the email\r\n\r\n[![enter image description here][4]][4]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/GiGIV.png\r\n  [2]: https://i.stack.imgur.com/b7RE8.png\r\n  [3]: https://i.stack.imgur.com/Wrabr.png\r\n  [4]: https://i.stack.imgur.com/aGQe7.png","title":"couldn&#39;t attach file send email android 11","body":"<p>I am developing an application that sends processing reports via email. When completing the processing data in the application, the user sends an email containing the processing data. However, I am facing a problem on Android 11. When attaching the report to the email, regardless of the email application, a message appears: the file could not be attached. I've been researching a little and saw that it may be related to the permission to access the internal storage of the device on devices with version of android 11. I would like me to help you send email with file attached on android 11.</p>\n<p>My code:\nManifest</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\n\n&lt;application\n    android:allowBackup=&quot;true&quot;\n    android:icon=&quot;@mipmap/ic_launcher&quot;\n    android:label=&quot;@string/app_name&quot;\n    android:networkSecurityConfig=&quot;@xml/network_security_config&quot;\n    android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n    android:supportsRtl=&quot;true&quot;\n    android:theme=&quot;@style/AppTheme&quot;\n    android:requestLegacyExternalStorage=&quot;true&quot;\n    tools:ignore=&quot;AllowBackup&quot;\n    tools:targetApi=&quot;n&quot;&gt;\n\n    &lt;activity.....\n     &lt;provider\n        android:name=&quot;androidx.core.content.FileProvider&quot;\n        android:authorities=&quot;${applicationId}.provider&quot;\n        android:exported=&quot;false&quot;\n        android:grantUriPermissions=&quot;true&quot;&gt;\n        &lt;meta-data\n            android:name=&quot;android.support.FILE_PROVIDER_PATHS&quot;\n            android:resource=&quot;@xml/file_paths&quot; /&gt;\n    &lt;/provider&gt;\n  &lt;/application&gt;\n</code></pre>\n<p>My xml:</p>\n<p><a href=\"https://i.stack.imgur.com/GiGIV.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/GiGIV.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;paths&gt;\n   &lt;external-path name=&quot;external_files&quot; path=&quot;.&quot;/&gt;\n&lt;/paths&gt;\n</code></pre>\n<p>Save file .pdf</p>\n<pre><code>val mDocProc = Document()\n            val file =\n                File(\n                    Environment.getExternalStorageDirectory()\n                        .toString() + &quot;/&quot; + &quot;Relatório diário&quot; + date + &quot;.pdf&quot;\n                )\n            if (file.exists()) {\n                file.delete()\n            }\n            //pdf file path\n            mFilePathDaily =\n                Environment.getExternalStorageDirectory()\n                    .toString() + &quot;/&quot; + &quot;Relatório diário &quot; + date + &quot;.pdf&quot;\n</code></pre>\n<p>Class send email:</p>\n<pre><code>val report = File(mFilePathDaily)\n            val uri = FileProvider.getUriForFile(\n                activity.requireContext(),\n                activity.requireContext().applicationContext.packageName + &quot;.provider&quot;,\n                report\n            )\n\n            val i = Intent(Intent.ACTION_SENDTO)\n            i.data = Uri.parse(&quot;mailto:&quot;)\n            i.putExtra(Intent.EXTRA_EMAIL, arrayOf(&quot;testesdissertacao@gmail.com&quot;))\n            i.putExtra(Intent.EXTRA_SUBJECT, EMAIL_SUBJECT)\n            i.putExtra(Intent.EXTRA_TEXT, &quot;Segue em anexo o relatório de Benchmark&quot;)\n            i.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK)\n            i.putExtra(Intent.EXTRA_STREAM, uri)\n            //i.type = &quot;image/png&quot;\n            activity.requireContext().startActivity(Intent.createChooser(i, null))\n            progressDialog.dismiss()\n</code></pre>\n<p>Now the problem is that you can't find the report to attach to the email. I noticed that the report was saved inside that other folder in the emulator, and not in the root folder. I think that is why you are not finding the file to attach to the email.</p>\n<p><a href=\"https://i.stack.imgur.com/b7RE8.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/b7RE8.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/Wrabr.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Wrabr.png\" alt=\"enter image description here\" /></a></p>\n<p>Do not attach the file to the email</p>\n<p><a href=\"https://i.stack.imgur.com/aGQe7.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/aGQe7.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","struts"],"answers":[{"tags":[],"owner":{"account_id":60442,"reputation":3951,"user_id":180524,"accept_rate":59,"display_name":"Jason"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1264014262,"creation_date":1264014262,"answer_id":2104119,"question_id":2102594,"body_markdown":"Never mind, I hadn&#39;t configured OC4J&#39;s global-web-application.xml to search local classes first or created a custom orion-web.xml file to do the same thing.\r\n\r\nIf you run into this issue, the easiest (big hammer) approach is to add this line to (oc4j dir)\\j2ee\\home\\config\\global-web-application.xml:\r\n\r\n  `&lt;web-app-class-loader search-local-classes-first=&quot;true&quot;/&gt;`\r\n\r\nThe problem is that if you try to use Xerces or another somewhat up-to-date SAX parser, you&#39;ll run into a classpath issue with the one Oracle tries to force down your throat (same as with any of their products).","title":"Struts 1.3.10 Digester.getParser() UnsupportedOperationException","body":"<p>Never mind, I hadn't configured OC4J's global-web-application.xml to search local classes first or created a custom orion-web.xml file to do the same thing.</p>\n\n<p>If you run into this issue, the easiest (big hammer) approach is to add this line to (oc4j dir)\\j2ee\\home\\config\\global-web-application.xml:</p>\n\n<p><code>&lt;web-app-class-loader search-local-classes-first=\"true\"/&gt;</code></p>\n\n<p>The problem is that if you try to use Xerces or another somewhat up-to-date SAX parser, you'll run into a classpath issue with the one Oracle tries to force down your throat (same as with any of their products).</p>\n"},{"tags":[],"owner":{"account_id":1951203,"reputation":10695,"user_id":1755242,"accept_rate":80,"display_name":"sunleo"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1353146477,"creation_date":1353146477,"answer_id":13429509,"question_id":2102594,"body_markdown":"I faced this issue when i tried to validate xml file using xml schema. I googled and found out the root cause for this issue.\r\n\r\nJar files like xerces-2.6.2.jar, crimson.jar, xalan.jar along\r\nwith jaxp.jar has older version SAXParserFactory. So all the above jar\r\nfiles should be removed from class parh.\r\n\r\nRemove or update jar based on its jars with correct version.","title":"Struts 1.3.10 Digester.getParser() UnsupportedOperationException","body":"<p>I faced this issue when i tried to validate xml file using xml schema. I googled and found out the root cause for this issue.</p>\n\n<p>Jar files like xerces-2.6.2.jar, crimson.jar, xalan.jar along\nwith jaxp.jar has older version SAXParserFactory. So all the above jar\nfiles should be removed from class parh.</p>\n\n<p>Remove or update jar based on its jars with correct version.</p>\n"},{"tags":[],"owner":{"account_id":2466941,"reputation":1002,"user_id":2243408,"display_name":"lekant"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1433271906,"creation_date":1433271906,"answer_id":30604511,"question_id":2102594,"body_markdown":"If it helps anyone : I had a similar issues and providing the SaxParserFactory as a JVM option worked\r\n\r\n    -Djavax.xml.parsers.SAXParserFactory=com.sun.org.apache.xerces.internal.jaxp.SAXParserFactoryImpl\r\n","title":"Struts 1.3.10 Digester.getParser() UnsupportedOperationException","body":"<p>If it helps anyone : I had a similar issues and providing the SaxParserFactory as a JVM option worked</p>\n\n<pre><code>-Djavax.xml.parsers.SAXParserFactory=com.sun.org.apache.xerces.internal.jaxp.SAXParserFactoryImpl\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6865601,"reputation":2052,"user_id":5278172,"display_name":"Rohit Jain"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1442216033,"creation_date":1442216033,"answer_id":32559405,"question_id":2102594,"body_markdown":"Use Commons Digester 1.7, instead of the Commons Digester that is included with JDeveloper.\r\nhttp://jakarta.apache.org/commons/digester/","title":"Struts 1.3.10 Digester.getParser() UnsupportedOperationException","body":"<p>Use Commons Digester 1.7, instead of the Commons Digester that is included with JDeveloper.\n<a href=\"http://jakarta.apache.org/commons/digester/\" rel=\"nofollow\">http://jakarta.apache.org/commons/digester/</a></p>\n"},{"tags":[],"owner":{"account_id":8281838,"reputation":61,"user_id":6226273,"display_name":"Juliano Jos&#233; da Silva"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643726306,"creation_date":1643726306,"answer_id":70942398,"question_id":2102594,"body_markdown":"In  my case, i have dowgrade commons-digester from 2.1 to 1.8 and work fine.","title":"Struts 1.3.10 Digester.getParser() UnsupportedOperationException","body":"<p>In  my case, i have dowgrade commons-digester from 2.1 to 1.8 and work fine.</p>\n"}],"owner":{"account_id":60442,"reputation":3951,"user_id":180524,"accept_rate":59,"display_name":"Jason"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10007,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":2104119,"answer_count":5,"score":0,"last_activity_date":1643726306,"creation_date":1264001998,"question_id":2102594,"body_markdown":"I am attempting to start up a Struts 1.X (version 1.3.10) application using OC4J version 10.1.3.5. The application manages to initialize all the Spring beans, including the Struts Actions defined in action-servlet.xml. However, once all the beans are initialized, I get a rather ugly exception in the log.\r\n\r\nI suspected an issue in xalan (2.7.1), xercesImpl (2.9.1), or xml-apis (1.3.04), but all these are using the newest versions. The exception says that a dependency may be missing, but I am unable to determine what it might be.\r\n\r\nAny help is appreciated. (Note: I can&#39;t update to Struts 2.X at this time. The application is a legacy one that will likely be replaced).\r\n\r\n     Digester.getParser:                                                                             08:18:10,794 ERROR Digester(789)\r\n    java.lang.UnsupportedOperationException: This parser does not support specification &quot;null&quot; version &quot;null&quot;\r\n    \tat javax.xml.parsers.SAXParserFactory.setXIncludeAware(SAXParserFactory.java:390)\r\n    \tat org.apache.commons.digester.Digester.getFactory(Digester.java:534)\r\n    \tat org.apache.commons.digester.Digester.getParser(Digester.java:786)\r\n    \tat org.apache.commons.digester.Digester.getXMLReader(Digester.java:1058)\r\n    \tat org.apache.commons.digester.Digester.parse(Digester.java:1887)\r\n    \tat org.apache.struts.action.ActionServlet.initServlet(ActionServlet.java:1785)\r\n    \tat org.apache.struts.action.ActionServlet.init(ActionServlet.java:349)\r\n    \tat javax.servlet.GenericServlet.init(GenericServlet.java:256)\r\n    \tat com.evermind.server.http.HttpApplication.loadServlet(HttpApplication.java:2528)\r\n    \tat com.evermind.server.http.HttpApplication.findServlet(HttpApplication.java:5006)\r\n    \tat com.evermind.server.http.HttpApplication.findServlet(HttpApplication.java:4930)\r\n    \tat com.evermind.server.http.HttpApplication.initPreloadServlets(HttpApplication.java:5118)\r\n    \tat com.evermind.server.http.HttpApplication.initDynamic(HttpApplication.java:1283)\r\n    \tat com.evermind.server.http.HttpApplication.&lt;init&gt;(HttpApplication.java:848)\r\n    \tat com.evermind.server.ApplicationStateRunning.getHttpApplication(ApplicationStateRunning.java:435)\r\n    \tat com.evermind.server.Application.getHttpApplication(Application.java:592)\r\n    \tat com.evermind.server.http.HttpSite$HttpApplicationRunTimeReference.createHttpApplicationFromReference(HttpSite.java:2280)\r\n    \tat com.evermind.server.http.HttpSite$HttpApplicationRunTimeReference.&lt;init&gt;(HttpSite.java:2199)\r\n    \tat com.evermind.server.http.HttpSite.initApplications(HttpSite.java:701)\r\n    \tat com.evermind.server.http.HttpSite.setConfig(HttpSite.java:308)\r\n    \tat com.evermind.server.http.HttpServer.setSites(HttpServer.java:280)\r\n    \tat com.evermind.server.http.HttpServer.setConfig(HttpServer.java:180)\r\n    \tat com.evermind.server.ApplicationServer.initializeHttp(ApplicationServer.java:2541)\r\n    \tat com.evermind.server.ApplicationServer.setConfig(ApplicationServer.java:1058)\r\n    \tat com.evermind.server.ApplicationServerLauncher.run(ApplicationServerLauncher.java:131)\r\n    \tat java.lang.Thread.run(Thread.java:595)\r\n    Unable to initialize Struts ActionServlet due to an unexpected exception or error thrown, so marking the servlet as unavailable.  Most likely, this is due to an incorrect or missing library dependency. 08:18:10,802 ERROR ActionServlet(398)\r\n    java.lang.NullPointerException\r\n    \tat org.apache.commons.digester.Digester.getXMLReader(Digester.java:1058)\r\n    \tat org.apache.commons.digester.Digester.parse(Digester.java:1887)\r\n    \tat org.apache.struts.action.ActionServlet.initServlet(ActionServlet.java:1785)\r\n    \tat org.apache.struts.action.ActionServlet.init(ActionServlet.java:349)\r\n    \tat javax.servlet.GenericServlet.init(GenericServlet.java:256)\r\n    \tat com.evermind.server.http.HttpApplication.loadServlet(HttpApplication.java:2528)\r\n    \tat com.evermind.server.http.HttpApplication.findServlet(HttpApplication.java:5006)\r\n    \tat com.evermind.server.http.HttpApplication.findServlet(HttpApplication.java:4930)\r\n    \tat com.evermind.server.http.HttpApplication.initPreloadServlets(HttpApplication.java:5118)\r\n    \tat com.evermind.server.http.HttpApplication.initDynamic(HttpApplication.java:1283)\r\n    \tat com.evermind.server.http.HttpApplication.&lt;init&gt;(HttpApplication.java:848)\r\n    \tat com.evermind.server.ApplicationStateRunning.getHttpApplication(ApplicationStateRunning.java:435)\r\n    \tat com.evermind.server.Application.getHttpApplication(Application.java:592)\r\n    \tat com.evermind.server.http.HttpSite$HttpApplicationRunTimeReference.createHttpApplicationFromReference(HttpSite.java:2280)\r\n    \tat com.evermind.server.http.HttpSite$HttpApplicationRunTimeReference.&lt;init&gt;(HttpSite.java:2199)\r\n    \tat com.evermind.server.http.HttpSite.initApplications(HttpSite.java:701)\r\n    \tat com.evermind.server.http.HttpSite.setConfig(HttpSite.java:308)\r\n    \tat com.evermind.server.http.HttpServer.setSites(HttpServer.java:280)\r\n    \tat com.evermind.server.http.HttpServer.setConfig(HttpServer.java:180)\r\n    \tat com.evermind.server.ApplicationServer.initializeHttp(ApplicationServer.java:2541)\r\n    \tat com.evermind.server.ApplicationServer.setConfig(ApplicationServer.java:1058)\r\n    \tat com.evermind.server.ApplicationServerLauncher.run(ApplicationServerLauncher.java:131)\r\n    \tat java.lang.Thread.run(Thread.java:595)\r\n    Digester.getParser:                                                                             08:18:20,228 ERROR Digester(789)\r\n    java.lang.UnsupportedOperationException: This parser does not support specification &quot;null&quot; version &quot;null&quot;\r\n    \tat javax.xml.parsers.SAXParserFactory.setXIncludeAware(SAXParserFactory.java:390)\r\n    \tat org.apache.commons.digester.Digester.getFactory(Digester.java:534)\r\n    \tat org.apache.commons.digester.Digester.getParser(Digester.java:786)\r\n    \tat org.apache.commons.digester.Digester.getXMLReader(Digester.java:1058)\r\n    \tat org.apache.commons.digester.Digester.parse(Digester.java:1887)\r\n    \tat org.apache.struts.action.ActionServlet.initServlet(ActionServlet.java:1785)\r\n    \tat org.apache.struts.action.ActionServlet.init(ActionServlet.java:349)\r\n    \tat javax.servlet.GenericServlet.init(GenericServlet.java:256)\r\n    \tat com.evermind.server.http.HttpApplication.loadServlet(HttpApplication.java:2528)\r\n    \tat com.evermind.server.http.HttpApplication.findServlet(HttpApplication.java:5006)\r\n    \tat com.evermind.server.http.HttpApplication.findServlet(HttpApplication.java:4930)\r\n    \tat com.evermind.server.http.HttpApplication.getRequestDispatcher(HttpApplication.java:3139)\r\n    \tat com.evermind.server.http.HttpRequestHandler.doProcessRequest(HttpRequestHandler.java:775)\r\n    \tat com.evermind.server.http.HttpRequestHandler.processRequest(HttpRequestHandler.java:458)\r\n    \tat com.evermind.server.http.HttpRequestHandler.serveOneRequest(HttpRequestHandler.java:226)\r\n    \tat com.evermind.server.http.HttpRequestHandler.run(HttpRequestHandler.java:127)\r\n    \tat com.evermind.server.http.HttpRequestHandler.run(HttpRequestHandler.java:116)\r\n    \tat oracle.oc4j.network.ServerSocketReadHandler$SafeRunnable.run(ServerSocketReadHandler.java:260)\r\n    \tat oracle.oc4j.network.ServerSocketAcceptHandler.procClientSocket(ServerSocketAcceptHandler.java:234)\r\n    \tat oracle.oc4j.network.ServerSocketAcceptHandler.access$700(ServerSocketAcceptHandler.java:29)\r\n    \tat oracle.oc4j.network.ServerSocketAcceptHandler$AcceptHandlerHorse.run(ServerSocketAcceptHandler.java:879)\r\n    \tat com.evermind.util.ReleasableResourcePooledExecutor$MyWorker.run(ReleasableResourcePooledExecutor.java:303)\r\n    \tat java.lang.Thread.run(Thread.java:595)\r\n    Unable to initialize Struts ActionServlet due to an unexpected exception or error thrown, so marking the servlet as unavailable.  Most likely, this is due to an incorrect or missing library dependency. 08:18:20,231 ERROR ActionServlet(398)\r\n    java.lang.NullPointerException\r\n    \tat org.apache.commons.digester.Digester.getXMLReader(Digester.java:1058)\r\n    \tat org.apache.commons.digester.Digester.parse(Digester.java:1887)\r\n    \tat org.apache.struts.action.ActionServlet.initServlet(ActionServlet.java:1785)\r\n    \tat org.apache.struts.action.ActionServlet.init(ActionServlet.java:349)\r\n    \tat javax.servlet.GenericServlet.init(GenericServlet.java:256)\r\n    \tat com.evermind.server.http.HttpApplication.loadServlet(HttpApplication.java:2528)\r\n    \tat com.evermind.server.http.HttpApplication.findServlet(HttpApplication.java:5006)\r\n    \tat com.evermind.server.http.HttpApplication.findServlet(HttpApplication.java:4930)\r\n    \tat com.evermind.server.http.HttpApplication.getRequestDispatcher(HttpApplication.java:3139)\r\n    \tat com.evermind.server.http.HttpRequestHandler.doProcessRequest(HttpRequestHandler.java:775)\r\n    \tat com.evermind.server.http.HttpRequestHandler.processRequest(HttpRequestHandler.java:458)\r\n    \tat com.evermind.server.http.HttpRequestHandler.serveOneRequest(HttpRequestHandler.java:226)\r\n    \tat com.evermind.server.http.HttpRequestHandler.run(HttpRequestHandler.java:127)\r\n    \tat com.evermind.server.http.HttpRequestHandler.run(HttpRequestHandler.java:116)\r\n    \tat oracle.oc4j.network.ServerSocketReadHandler$SafeRunnable.run(ServerSocketReadHandler.java:260)\r\n    \tat oracle.oc4j.network.ServerSocketAcceptHandler.procClientSocket(ServerSocketAcceptHandler.java:234)\r\n    \tat oracle.oc4j.network.ServerSocketAcceptHandler.access$700(ServerSocketAcceptHandler.java:29)\r\n    \tat oracle.oc4j.network.ServerSocketAcceptHandler$AcceptHandlerHorse.run(ServerSocketAcceptHandler.java:879)\r\n    \tat com.evermind.util.ReleasableResourcePooledExecutor$MyWorker.run(ReleasableResourcePooledExecutor.java:303)\r\n    \tat java.lang.Thread.run(Thread.java:595)","title":"Struts 1.3.10 Digester.getParser() UnsupportedOperationException","body":"<p>I am attempting to start up a Struts 1.X (version 1.3.10) application using OC4J version 10.1.3.5. The application manages to initialize all the Spring beans, including the Struts Actions defined in action-servlet.xml. However, once all the beans are initialized, I get a rather ugly exception in the log.</p>\n\n<p>I suspected an issue in xalan (2.7.1), xercesImpl (2.9.1), or xml-apis (1.3.04), but all these are using the newest versions. The exception says that a dependency may be missing, but I am unable to determine what it might be.</p>\n\n<p>Any help is appreciated. (Note: I can't update to Struts 2.X at this time. The application is a legacy one that will likely be replaced).</p>\n\n<pre><code> Digester.getParser:                                                                             08:18:10,794 ERROR Digester(789)\njava.lang.UnsupportedOperationException: This parser does not support specification \"null\" version \"null\"\n    at javax.xml.parsers.SAXParserFactory.setXIncludeAware(SAXParserFactory.java:390)\n    at org.apache.commons.digester.Digester.getFactory(Digester.java:534)\n    at org.apache.commons.digester.Digester.getParser(Digester.java:786)\n    at org.apache.commons.digester.Digester.getXMLReader(Digester.java:1058)\n    at org.apache.commons.digester.Digester.parse(Digester.java:1887)\n    at org.apache.struts.action.ActionServlet.initServlet(ActionServlet.java:1785)\n    at org.apache.struts.action.ActionServlet.init(ActionServlet.java:349)\n    at javax.servlet.GenericServlet.init(GenericServlet.java:256)\n    at com.evermind.server.http.HttpApplication.loadServlet(HttpApplication.java:2528)\n    at com.evermind.server.http.HttpApplication.findServlet(HttpApplication.java:5006)\n    at com.evermind.server.http.HttpApplication.findServlet(HttpApplication.java:4930)\n    at com.evermind.server.http.HttpApplication.initPreloadServlets(HttpApplication.java:5118)\n    at com.evermind.server.http.HttpApplication.initDynamic(HttpApplication.java:1283)\n    at com.evermind.server.http.HttpApplication.&lt;init&gt;(HttpApplication.java:848)\n    at com.evermind.server.ApplicationStateRunning.getHttpApplication(ApplicationStateRunning.java:435)\n    at com.evermind.server.Application.getHttpApplication(Application.java:592)\n    at com.evermind.server.http.HttpSite$HttpApplicationRunTimeReference.createHttpApplicationFromReference(HttpSite.java:2280)\n    at com.evermind.server.http.HttpSite$HttpApplicationRunTimeReference.&lt;init&gt;(HttpSite.java:2199)\n    at com.evermind.server.http.HttpSite.initApplications(HttpSite.java:701)\n    at com.evermind.server.http.HttpSite.setConfig(HttpSite.java:308)\n    at com.evermind.server.http.HttpServer.setSites(HttpServer.java:280)\n    at com.evermind.server.http.HttpServer.setConfig(HttpServer.java:180)\n    at com.evermind.server.ApplicationServer.initializeHttp(ApplicationServer.java:2541)\n    at com.evermind.server.ApplicationServer.setConfig(ApplicationServer.java:1058)\n    at com.evermind.server.ApplicationServerLauncher.run(ApplicationServerLauncher.java:131)\n    at java.lang.Thread.run(Thread.java:595)\nUnable to initialize Struts ActionServlet due to an unexpected exception or error thrown, so marking the servlet as unavailable.  Most likely, this is due to an incorrect or missing library dependency. 08:18:10,802 ERROR ActionServlet(398)\njava.lang.NullPointerException\n    at org.apache.commons.digester.Digester.getXMLReader(Digester.java:1058)\n    at org.apache.commons.digester.Digester.parse(Digester.java:1887)\n    at org.apache.struts.action.ActionServlet.initServlet(ActionServlet.java:1785)\n    at org.apache.struts.action.ActionServlet.init(ActionServlet.java:349)\n    at javax.servlet.GenericServlet.init(GenericServlet.java:256)\n    at com.evermind.server.http.HttpApplication.loadServlet(HttpApplication.java:2528)\n    at com.evermind.server.http.HttpApplication.findServlet(HttpApplication.java:5006)\n    at com.evermind.server.http.HttpApplication.findServlet(HttpApplication.java:4930)\n    at com.evermind.server.http.HttpApplication.initPreloadServlets(HttpApplication.java:5118)\n    at com.evermind.server.http.HttpApplication.initDynamic(HttpApplication.java:1283)\n    at com.evermind.server.http.HttpApplication.&lt;init&gt;(HttpApplication.java:848)\n    at com.evermind.server.ApplicationStateRunning.getHttpApplication(ApplicationStateRunning.java:435)\n    at com.evermind.server.Application.getHttpApplication(Application.java:592)\n    at com.evermind.server.http.HttpSite$HttpApplicationRunTimeReference.createHttpApplicationFromReference(HttpSite.java:2280)\n    at com.evermind.server.http.HttpSite$HttpApplicationRunTimeReference.&lt;init&gt;(HttpSite.java:2199)\n    at com.evermind.server.http.HttpSite.initApplications(HttpSite.java:701)\n    at com.evermind.server.http.HttpSite.setConfig(HttpSite.java:308)\n    at com.evermind.server.http.HttpServer.setSites(HttpServer.java:280)\n    at com.evermind.server.http.HttpServer.setConfig(HttpServer.java:180)\n    at com.evermind.server.ApplicationServer.initializeHttp(ApplicationServer.java:2541)\n    at com.evermind.server.ApplicationServer.setConfig(ApplicationServer.java:1058)\n    at com.evermind.server.ApplicationServerLauncher.run(ApplicationServerLauncher.java:131)\n    at java.lang.Thread.run(Thread.java:595)\nDigester.getParser:                                                                             08:18:20,228 ERROR Digester(789)\njava.lang.UnsupportedOperationException: This parser does not support specification \"null\" version \"null\"\n    at javax.xml.parsers.SAXParserFactory.setXIncludeAware(SAXParserFactory.java:390)\n    at org.apache.commons.digester.Digester.getFactory(Digester.java:534)\n    at org.apache.commons.digester.Digester.getParser(Digester.java:786)\n    at org.apache.commons.digester.Digester.getXMLReader(Digester.java:1058)\n    at org.apache.commons.digester.Digester.parse(Digester.java:1887)\n    at org.apache.struts.action.ActionServlet.initServlet(ActionServlet.java:1785)\n    at org.apache.struts.action.ActionServlet.init(ActionServlet.java:349)\n    at javax.servlet.GenericServlet.init(GenericServlet.java:256)\n    at com.evermind.server.http.HttpApplication.loadServlet(HttpApplication.java:2528)\n    at com.evermind.server.http.HttpApplication.findServlet(HttpApplication.java:5006)\n    at com.evermind.server.http.HttpApplication.findServlet(HttpApplication.java:4930)\n    at com.evermind.server.http.HttpApplication.getRequestDispatcher(HttpApplication.java:3139)\n    at com.evermind.server.http.HttpRequestHandler.doProcessRequest(HttpRequestHandler.java:775)\n    at com.evermind.server.http.HttpRequestHandler.processRequest(HttpRequestHandler.java:458)\n    at com.evermind.server.http.HttpRequestHandler.serveOneRequest(HttpRequestHandler.java:226)\n    at com.evermind.server.http.HttpRequestHandler.run(HttpRequestHandler.java:127)\n    at com.evermind.server.http.HttpRequestHandler.run(HttpRequestHandler.java:116)\n    at oracle.oc4j.network.ServerSocketReadHandler$SafeRunnable.run(ServerSocketReadHandler.java:260)\n    at oracle.oc4j.network.ServerSocketAcceptHandler.procClientSocket(ServerSocketAcceptHandler.java:234)\n    at oracle.oc4j.network.ServerSocketAcceptHandler.access$700(ServerSocketAcceptHandler.java:29)\n    at oracle.oc4j.network.ServerSocketAcceptHandler$AcceptHandlerHorse.run(ServerSocketAcceptHandler.java:879)\n    at com.evermind.util.ReleasableResourcePooledExecutor$MyWorker.run(ReleasableResourcePooledExecutor.java:303)\n    at java.lang.Thread.run(Thread.java:595)\nUnable to initialize Struts ActionServlet due to an unexpected exception or error thrown, so marking the servlet as unavailable.  Most likely, this is due to an incorrect or missing library dependency. 08:18:20,231 ERROR ActionServlet(398)\njava.lang.NullPointerException\n    at org.apache.commons.digester.Digester.getXMLReader(Digester.java:1058)\n    at org.apache.commons.digester.Digester.parse(Digester.java:1887)\n    at org.apache.struts.action.ActionServlet.initServlet(ActionServlet.java:1785)\n    at org.apache.struts.action.ActionServlet.init(ActionServlet.java:349)\n    at javax.servlet.GenericServlet.init(GenericServlet.java:256)\n    at com.evermind.server.http.HttpApplication.loadServlet(HttpApplication.java:2528)\n    at com.evermind.server.http.HttpApplication.findServlet(HttpApplication.java:5006)\n    at com.evermind.server.http.HttpApplication.findServlet(HttpApplication.java:4930)\n    at com.evermind.server.http.HttpApplication.getRequestDispatcher(HttpApplication.java:3139)\n    at com.evermind.server.http.HttpRequestHandler.doProcessRequest(HttpRequestHandler.java:775)\n    at com.evermind.server.http.HttpRequestHandler.processRequest(HttpRequestHandler.java:458)\n    at com.evermind.server.http.HttpRequestHandler.serveOneRequest(HttpRequestHandler.java:226)\n    at com.evermind.server.http.HttpRequestHandler.run(HttpRequestHandler.java:127)\n    at com.evermind.server.http.HttpRequestHandler.run(HttpRequestHandler.java:116)\n    at oracle.oc4j.network.ServerSocketReadHandler$SafeRunnable.run(ServerSocketReadHandler.java:260)\n    at oracle.oc4j.network.ServerSocketAcceptHandler.procClientSocket(ServerSocketAcceptHandler.java:234)\n    at oracle.oc4j.network.ServerSocketAcceptHandler.access$700(ServerSocketAcceptHandler.java:29)\n    at oracle.oc4j.network.ServerSocketAcceptHandler$AcceptHandlerHorse.run(ServerSocketAcceptHandler.java:879)\n    at com.evermind.util.ReleasableResourcePooledExecutor$MyWorker.run(ReleasableResourcePooledExecutor.java:303)\n    at java.lang.Thread.run(Thread.java:595)\n</code></pre>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":10805595,"reputation":3025,"user_id":7947994,"display_name":"JANO"},"score":1,"creation_date":1643725788,"post_id":70942171,"comment_id":125412295,"body_markdown":"What is your error? How does your List content look like?","body":"What is your error? How does your List content look like?"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1643726467,"post_id":70942171,"comment_id":125412605,"body_markdown":"You cannot use a method reference on another reference","body":"You cannot use a method reference on another reference"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1643728323,"post_id":70942171,"comment_id":125413483,"body_markdown":"Side note: there is no point in writing `Long qtyMsgsApi = Long.valueOf(&quot;0&quot;);` You can use `Long qtyMsgsApi = 0L;` utilizing auto-boxing, but there is no reason to use `Long` objects at all when summing. So just use `long qtyMsgsApi = 0;`","body":"Side note: there is no point in writing <code>Long qtyMsgsApi = Long.valueOf(&quot;0&quot;);</code> You can use <code>Long qtyMsgsApi = 0L;</code> utilizing auto-boxing, but there is no reason to use <code>Long</code> objects at all when summing. So just use <code>long qtyMsgsApi = 0;</code>"}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643726280,"creation_date":1643726280,"answer_id":70942395,"question_id":70942171,"body_markdown":"You can do it like so.\r\n- stream the list\r\n- map to a long\r\n- sum them.\r\n```\r\nlong qtyMsgsApi = campaigns.stream()\r\n\t\t.mapToLong(campaign -&gt; campaign.getSmoochActiveCampaignReport()\r\n\t\t\t\t.getQtyPhoneConfirmed())\r\n\t\t.sum();\r\n```","title":"java stream map class with relationship","body":"<p>You can do it like so.</p>\n<ul>\n<li>stream the list</li>\n<li>map to a long</li>\n<li>sum them.</li>\n</ul>\n<pre><code>long qtyMsgsApi = campaigns.stream()\n        .mapToLong(campaign -&gt; campaign.getSmoochActiveCampaignReport()\n                .getQtyPhoneConfirmed())\n        .sum();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23710945,"reputation":57,"user_id":17732827,"display_name":"Semih Ozturk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643726287,"creation_date":1643726287,"answer_id":70942397,"question_id":70942171,"body_markdown":"You can use this code.\r\n\r\n     campaigns.stream().mapToLong(campaign-&gt; {\r\n                    return campaign.getSmoochActiveCampaignReport().getQtyPhoneConfirmed();\r\n                }).sum();","title":"java stream map class with relationship","body":"<p>You can use this code.</p>\n<pre><code> campaigns.stream().mapToLong(campaign-&gt; {\n                return campaign.getSmoochActiveCampaignReport().getQtyPhoneConfirmed();\n            }).sum();\n</code></pre>\n"}],"owner":{"account_id":5212096,"reputation":1592,"user_id":4168154,"accept_rate":76,"display_name":"sealabr"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1643726287,"creation_date":1643725421,"question_id":70942171,"body_markdown":"I&#39;m trying to to sum values of my class with join with another class with stream and map.\r\n\r\n    campaigns.stream().mapToLong(SmoochActiveCampaign::getSmoochActiveCampaignReport::getQtyPhoneConfirmed).sum();\r\n\r\nmy old code is this way...\r\n\r\n\t\tLong qtyMsgsApi = Long.valueOf(&quot;0&quot;);\r\n\t\t\r\n\t\tif (campaigns.size() &gt; 0) {\r\n\t\t\tfor (int indexTag = 0; indexTag &lt; campaigns.size(); indexTag++) {\r\n\t\t\t\t\r\n\t\r\n\t\t\t\t\tqtyMsgsApi = qtyMsgsApi + campaigns.get(indexTag).getSmoochActiveCampaignReport().getQtyPhoneConfirmed();\r\n\t\t\t\t}\r\n\t\t\t}\t\r\n\t\t}","title":"java stream map class with relationship","body":"<p>I'm trying to to sum values of my class with join with another class with stream and map.</p>\n<pre><code>campaigns.stream().mapToLong(SmoochActiveCampaign::getSmoochActiveCampaignReport::getQtyPhoneConfirmed).sum();\n</code></pre>\n<p>my old code is this way...</p>\n<pre><code>    Long qtyMsgsApi = Long.valueOf(&quot;0&quot;);\n    \n    if (campaigns.size() &gt; 0) {\n        for (int indexTag = 0; indexTag &lt; campaigns.size(); indexTag++) {\n            \n\n                qtyMsgsApi = qtyMsgsApi + campaigns.get(indexTag).getSmoochActiveCampaignReport().getQtyPhoneConfirmed();\n            }\n        }   \n    }\n</code></pre>\n"},{"tags":["java","eclipse","maven","lombok"],"comments":[{"owner":{"account_id":2139538,"reputation":42511,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":1,"creation_date":1643076481,"post_id":70842610,"comment_id":125238869,"body_markdown":"Have you setup Eclipse properly to work with Lombok? https://www.baeldung.com/lombok-ide","body":"Have you setup Eclipse properly to work with Lombok? <a href=\"https://www.baeldung.com/lombok-ide\" rel=\"nofollow noreferrer\">baeldung.com/lombok-ide</a>"},{"owner":{"account_id":20821737,"reputation":1,"user_id":15293195,"display_name":"Panayiotis Kasinos"},"score":0,"creation_date":1643105000,"post_id":70842610,"comment_id":125245527,"body_markdown":"Yes i did but it still doesn&#39;t show","body":"Yes i did but it still doesn&#39;t show"},{"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"score":0,"creation_date":1643240465,"post_id":70842610,"comment_id":125290389,"body_markdown":"I assume this is an existing project, right? Does it work properly for your colleagues? Does it compile properly when you build with Maven, i.e., not from inside Eclipse?","body":"I assume this is an existing project, right? Does it work properly for your colleagues? Does it compile properly when you build with Maven, i.e., not from inside Eclipse?"},{"owner":{"account_id":10164387,"reputation":4961,"user_id":7506820,"display_name":"Nico Van Belle"},"score":0,"creation_date":1643727021,"post_id":70842610,"comment_id":125412877,"body_markdown":"Perhaps check on how to enable annotation processors in Eclipse or check [this post](https://stackoverflow.com/questions/43404891/how-to-configure-java-annotation-processors-in-eclipse/44674739)","body":"Perhaps check on how to enable annotation processors in Eclipse or check <a href=\"https://stackoverflow.com/questions/43404891/how-to-configure-java-annotation-processors-in-eclipse/44674739\">this post</a>"}],"answers":[{"tags":[],"owner":{"account_id":19462755,"reputation":56,"user_id":14236703,"display_name":"KM PRIYA AGRAWAL"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643726261,"creation_date":1643726261,"answer_id":70942389,"question_id":70842610,"body_markdown":"    The code seems fine.May be your ide is not recognizing lombok dependency.\r\n    \r\n    Please try to add the following dependency into your pom.xml file\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n    and Download lombok.jar from the given link\r\n    https://projectlombok.org/download\r\n    \r\n    Now if it is zipped unzip it first and then copy it to the directory \r\n    where you have your SpringToolSuits(STS installed).\r\n    \r\n    Let say your STS version is 4.11.0.RELEASE then copy lombok.jar to STS \r\n    directory/sts-4.11.0.RELEASE   i.e. inside STS/sts-4.11.0.RELEASE/\r\n    \r\n    Now try to rebuild and update your project.\r\n    \r\n    https://stackoverflow.com/questions/70934552/sonar-doesnt-pick-lombok-annotations-remove-unused-private-field\r\n    \r\n    Thanks\r\n\r\n","title":"Spring boot lombok @AllArgsConstructor issue","body":"<pre><code>The code seems fine.May be your ide is not recognizing lombok dependency.\n\nPlease try to add the following dependency into your pom.xml file\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\nand Download lombok.jar from the given link\nhttps://projectlombok.org/download\n\nNow if it is zipped unzip it first and then copy it to the directory \nwhere you have your SpringToolSuits(STS installed).\n\nLet say your STS version is 4.11.0.RELEASE then copy lombok.jar to STS \ndirectory/sts-4.11.0.RELEASE   i.e. inside STS/sts-4.11.0.RELEASE/\n\nNow try to rebuild and update your project.\n\nhttps://stackoverflow.com/questions/70934552/sonar-doesnt-pick-lombok-annotations-remove-unused-private-field\n\nThanks\n</code></pre>\n"}],"owner":{"account_id":20821737,"reputation":1,"user_id":15293195,"display_name":"Panayiotis Kasinos"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643726261,"creation_date":1643075998,"question_id":70842610,"body_markdown":"This is my entity package and I have an error indicating the fields are not used and I can’t call getter and setters.\r\n\r\nIt&#39;s like Lombok is not working. What exactly is the solution?\r\n\r\n    package com.app.entity;\r\n    \r\n    import javax.persistence.Entity;\r\n    import javax.persistence.Id;\r\n    import javax.persistence.Table;\r\n    \r\n    import lombok.AllArgsConstructor;\r\n    import lombok.Data;\r\n    import lombok.NoArgsConstructor;\r\n    \r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Entity\r\n    @Table(name = &quot;userregister&quot;)\r\n    public class User {\r\n    \r\n    \tprivate String name;\r\n    \t\r\n    \t@Id\r\n    \tprivate String username;\r\n    \r\n    \tprivate String email;\r\n    \r\n    \tprivate String phone;\r\n    \r\n    \tprivate String password;\r\n    \t\r\n    \tprivate String cpassword;\r\n    \r\n    \tprivate String gender;\r\n    \r\n    }\r\n\r\n[![this is my controller class in the picture][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/nlD2c.png\r\n  [2]: https://i.stack.imgur.com/NlQkS.png","title":"Spring boot lombok @AllArgsConstructor issue","body":"<p>This is my entity package and I have an error indicating the fields are not used and I can’t call getter and setters.</p>\n<p>It's like Lombok is not working. What exactly is the solution?</p>\n<pre><code>package com.app.entity;\n\nimport javax.persistence.Entity;\nimport javax.persistence.Id;\nimport javax.persistence.Table;\n\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Entity\n@Table(name = &quot;userregister&quot;)\npublic class User {\n\n    private String name;\n    \n    @Id\n    private String username;\n\n    private String email;\n\n    private String phone;\n\n    private String password;\n    \n    private String cpassword;\n\n    private String gender;\n\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/nlD2c.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nlD2c.png\" alt=\"this is my controller class in the picture\" /></a></p>\n"},{"tags":["java","android","xml","android-studio"],"comments":[{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":0,"creation_date":1643620312,"post_id":70918563,"comment_id":125379409,"body_markdown":"why do you want to do it in xml? Why don&#39;t you do it in the `onCreate` method?","body":"why do you want to do it in xml? Why don&#39;t you do it in the <code>onCreate</code> method?"}],"answers":[{"tags":[],"owner":{"account_id":8690668,"reputation":149,"user_id":6503649,"display_name":"Yamin Yazdanpanah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643726017,"creation_date":1643726017,"answer_id":70942330,"question_id":70918563,"body_markdown":"android Text View text attribute does not accept Float value, for that you should write a custom Binding Adapter like below: \r\n\r\n     @BindingAdapter(&quot;android:text&quot;)\r\n        public static void setText(TextView view, Float value) {\r\n            view.setText(String.valueOf(value));\r\n        }\r\n\r\nand in your XML : \r\n\r\n     &lt;TextView\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:text=&quot;@{(float)2*temp}&quot;/&gt;","title":"Math operation with databinding data for XML","body":"<p>android Text View text attribute does not accept Float value, for that you should write a custom Binding Adapter like below:</p>\n<pre><code> @BindingAdapter(&quot;android:text&quot;)\n    public static void setText(TextView view, Float value) {\n        view.setText(String.valueOf(value));\n    }\n</code></pre>\n<p>and in your XML :</p>\n<pre><code> &lt;TextView\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:text=&quot;@{(float)2*temp}&quot;/&gt;\n</code></pre>\n"}],"owner":{"account_id":18082251,"reputation":57,"user_id":13144070,"display_name":"MustapTR"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":177,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643726017,"creation_date":1643574082,"question_id":70918563,"body_markdown":"I want to do math with data binding in my android studio java project. I&#39;m printing $15.00 in a TextView with the code `android:text=&quot;@{tvPlan.price}&quot;`. I need to multiply the data here by 2, so I have to print $30.00. Is it possible to do this with xml?","title":"Math operation with databinding data for XML","body":"<p>I want to do math with data binding in my android studio java project. I'm printing $15.00 in a TextView with the code <code>android:text=&quot;@{tvPlan.price}&quot;</code>. I need to multiply the data here by 2, so I have to print $30.00. Is it possible to do this with xml?</p>\n"},{"tags":["java","android","post","retrofit","retrofit2"],"comments":[{"owner":{"account_id":341129,"reputation":39091,"user_id":671543,"accept_rate":55,"display_name":"njzk2"},"score":1,"creation_date":1452740036,"post_id":34776213,"comment_id":57306763,"body_markdown":"post the full stacktrace, but the problem is likely that the response is malformed. there are plenty of debug options in retrofit, use them","body":"post the full stacktrace, but the problem is likely that the response is malformed. there are plenty of debug options in retrofit, use them"}],"answers":[{"tags":[],"owner":{"account_id":5960645,"reputation":312,"user_id":4685928,"accept_rate":57,"display_name":"Philipp Hellmayr"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1482476987,"creation_date":1452718832,"answer_id":34776921,"question_id":34776213,"body_markdown":"You should be aware of how you want to encode the post params. Important is also the `@Header` annotation in the following. It is used to define the used content type in the HTTP header.\r\n\r\n    @Headers(&quot;Content-type: application/json&quot;)\r\n    @POST(&quot;user/savetext&quot;)\r\n    \tpublic Call&lt;Id&gt; changeShortText(@Body MyObjectToSend text);\r\n\r\nYou have to encode your post params somehow. To use JSON for transmission you should add `.addConverterFactory(GsonConverterFactory.create(gson))` into your Retrofit declaration.\r\n\r\n    Retrofit restAdapter = new Retrofit.Builder()\r\n    \t\t\t\t.baseUrl(RestConstants.BASE_URL)\r\n    \t\t\t\t.addCallAdapterFactory(RxJavaCallAdapterFactory.create())\r\n    \t\t\t\t.addConverterFactory(GsonConverterFactory.create(gson))\r\n    \t\t\t\t.client(httpClient)\r\n    \t\t\t\t.build();\r\n\r\nAnother source of your problem could be that the JSON, that&#39;s coming from the rest backend seems to be not correct. You should check the json syntax with a validator, e.g. [http://jsonlint.com/][1].\r\n\r\n\r\n  [1]: http://jsonlint.com/","title":"How to make a POST request using retrofit 2?","body":"<p>You should be aware of how you want to encode the post params. Important is also the <code>@Header</code> annotation in the following. It is used to define the used content type in the HTTP header.</p>\n\n<pre><code>@Headers(\"Content-type: application/json\")\n@POST(\"user/savetext\")\n    public Call&lt;Id&gt; changeShortText(@Body MyObjectToSend text);\n</code></pre>\n\n<p>You have to encode your post params somehow. To use JSON for transmission you should add <code>.addConverterFactory(GsonConverterFactory.create(gson))</code> into your Retrofit declaration.</p>\n\n<pre><code>Retrofit restAdapter = new Retrofit.Builder()\n                .baseUrl(RestConstants.BASE_URL)\n                .addCallAdapterFactory(RxJavaCallAdapterFactory.create())\n                .addConverterFactory(GsonConverterFactory.create(gson))\n                .client(httpClient)\n                .build();\n</code></pre>\n\n<p>Another source of your problem could be that the JSON, that's coming from the rest backend seems to be not correct. You should check the json syntax with a validator, e.g. <a href=\"http://jsonlint.com/\" rel=\"nofollow noreferrer\">http://jsonlint.com/</a>.</p>\n"},{"tags":[],"owner":{"account_id":4946403,"reputation":1765,"user_id":3981638,"accept_rate":100,"display_name":"Vishal Raj"},"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1452739782,"creation_date":1452739782,"answer_id":34780859,"question_id":34776213,"body_markdown":"If you don&#39;t want JSON encoded params use this:\r\n\r\n    @FormUrlEncoded\r\n    @POST(&quot;/&quot;)\r\n    Call&lt;ApiResponse&gt; request(@Field(&quot;api_key&quot;) String apiKey, @Field(&quot;app_id&quot;) String appId);","title":"How to make a POST request using retrofit 2?","body":"<p>If you don't want JSON encoded params use this:</p>\n\n<pre><code>@FormUrlEncoded\n@POST(\"/\")\nCall&lt;ApiResponse&gt; request(@Field(\"api_key\") String apiKey, @Field(\"app_id\") String appId);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9564031,"reputation":12915,"user_id":7103882,"display_name":"Codemaker2015"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643725763,"creation_date":1643725763,"answer_id":70942252,"question_id":34776213,"body_markdown":"Let’s say we have a following JSON string and we want to use Retrofit 2 to post the string to the remote API:\r\n\r\n    { &quot;name&quot;: &quot;Introduction to Unity3D&quot;, &quot;author&quot;: &quot;Vishnu Sivan&quot; }\r\n\r\nTo post a JSON string with Retrofit 2, we can define a POJO that can represent the JSON that we need. For instance, a POJO represents the JSON can be defined in the following way:\r\n\r\n    public class Book {\r\n     \r\n      private Long id;\r\n      private String name;\r\n      private String author;\r\n     \r\n      // constructor\r\n      // getter and setter\r\n    }\r\n\r\nThen we can define the endpoint as below:\r\n\r\n    public interface GetDataService {\r\n    \r\n        @POST(&quot;post&quot;)\r\n        Call&lt;Book&gt; addBook(@Body Book book);\r\n    }\r\n\r\nBecause we annotate the parameter with the `@Body` annotation, Retrofit 2 will use the converter library to serialize the parameter into JSON.\r\n\r\nNext, let post the JSON string like we post an object with Retrofit 2:\r\n\r\n\r\n    public void testPostJson() throws IOException {\r\n    \r\n        Retrofit retrofit = new Retrofit.Builder()\r\n            .baseUrl(&quot;https://httpbin.org/&quot;)\r\n            .addConverterFactory(GsonConverterFactory.create())\r\n            .build();\r\n    \r\n        GetDataService service = retrofit.create(GetDataService.class);\r\n        Book book = new Book(1, &quot;Introduction to Unity3D&quot;, &quot;Vishnu Sivan&quot;);\r\n    \r\n        call.enqueue(new Callback&lt;Book&gt;() {\r\n            @Override\r\n            public void onResponse(Call&lt;Book&gt; call, Response&lt;Book&gt; response) {\r\n                Book book = response.body();\r\n                Log.d(&quot;book&quot;, book.getName()); //getName() is the getter method that declared in the Book model class\r\n            }\r\n    \r\n            @Override\r\n            public void onFailure(Call&lt;com.tcs.artoy.model.Response&gt; call, Throwable t) {\r\n                Log.e(&quot;error&quot;, t.toString());\r\n            }\r\n        });\r\n    }\r\n\r\n**NB**: Here the response we are getting is the same json format data that we have sent to the server. If you want different response than the same request object then create another model file in your project and mention that as the Response type.\r\n\r\nIf you want a POST request example, just check the following Github repository:\r\n* https://github.com/codemaker2015/AR-Toy/blob/master/app/src/main/java/com/tcs/artoy/activity/LoginActivity.java\r\n* https://github.com/codemaker2015/vauthenticate\r\n\r\nFor more: \r\n\r\nhttps://howtoprogram.xyz/2017/02/17/how-to-post-with-retrofit-2/\r\n\r\n","title":"How to make a POST request using retrofit 2?","body":"<p>Let’s say we have a following JSON string and we want to use Retrofit 2 to post the string to the remote API:</p>\n<pre><code>{ &quot;name&quot;: &quot;Introduction to Unity3D&quot;, &quot;author&quot;: &quot;Vishnu Sivan&quot; }\n</code></pre>\n<p>To post a JSON string with Retrofit 2, we can define a POJO that can represent the JSON that we need. For instance, a POJO represents the JSON can be defined in the following way:</p>\n<pre><code>public class Book {\n \n  private Long id;\n  private String name;\n  private String author;\n \n  // constructor\n  // getter and setter\n}\n</code></pre>\n<p>Then we can define the endpoint as below:</p>\n<pre><code>public interface GetDataService {\n\n    @POST(&quot;post&quot;)\n    Call&lt;Book&gt; addBook(@Body Book book);\n}\n</code></pre>\n<p>Because we annotate the parameter with the <code>@Body</code> annotation, Retrofit 2 will use the converter library to serialize the parameter into JSON.</p>\n<p>Next, let post the JSON string like we post an object with Retrofit 2:</p>\n<pre><code>public void testPostJson() throws IOException {\n\n    Retrofit retrofit = new Retrofit.Builder()\n        .baseUrl(&quot;https://httpbin.org/&quot;)\n        .addConverterFactory(GsonConverterFactory.create())\n        .build();\n\n    GetDataService service = retrofit.create(GetDataService.class);\n    Book book = new Book(1, &quot;Introduction to Unity3D&quot;, &quot;Vishnu Sivan&quot;);\n\n    call.enqueue(new Callback&lt;Book&gt;() {\n        @Override\n        public void onResponse(Call&lt;Book&gt; call, Response&lt;Book&gt; response) {\n            Book book = response.body();\n            Log.d(&quot;book&quot;, book.getName()); //getName() is the getter method that declared in the Book model class\n        }\n\n        @Override\n        public void onFailure(Call&lt;com.tcs.artoy.model.Response&gt; call, Throwable t) {\n            Log.e(&quot;error&quot;, t.toString());\n        }\n    });\n}\n</code></pre>\n<p><strong>NB</strong>: Here the response we are getting is the same json format data that we have sent to the server. If you want different response than the same request object then create another model file in your project and mention that as the Response type.</p>\n<p>If you want a POST request example, just check the following Github repository:</p>\n<ul>\n<li><a href=\"https://github.com/codemaker2015/AR-Toy/blob/master/app/src/main/java/com/tcs/artoy/activity/LoginActivity.java\" rel=\"nofollow noreferrer\">https://github.com/codemaker2015/AR-Toy/blob/master/app/src/main/java/com/tcs/artoy/activity/LoginActivity.java</a></li>\n<li><a href=\"https://github.com/codemaker2015/vauthenticate\" rel=\"nofollow noreferrer\">https://github.com/codemaker2015/vauthenticate</a></li>\n</ul>\n<p>For more:</p>\n<p><a href=\"https://howtoprogram.xyz/2017/02/17/how-to-post-with-retrofit-2/\" rel=\"nofollow noreferrer\">https://howtoprogram.xyz/2017/02/17/how-to-post-with-retrofit-2/</a></p>\n"}],"owner":{"account_id":1988524,"reputation":277,"user_id":3850487,"accept_rate":80,"display_name":"Cool Do"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31819,"favorite_count":0,"down_vote_count":1,"up_vote_count":16,"accepted_answer_id":34780859,"answer_count":3,"score":15,"last_activity_date":1643725763,"creation_date":1452716172,"question_id":34776213,"body_markdown":"\t\r\nI was only able to run the hello world example (GithubService) from the docs.\t\r\n\t\r\nThe problem is when I run my code, I get the following Error, inside of `onFailure()`\r\n\r\n&gt; Use JsonReader.setLenient(true) to accept malformed JSON at line 1\r\n&gt; column 1 path $\r\n\r\n\r\nMy API takes POST params value, so no need to encode them as JSON, but it does return the response in JSON.\r\n\r\nFor the response I got ApiResponse class that I generated using tools.\r\n\r\nMy interface:\r\n\r\n    public interface ApiService {\r\n    \t@POST(&quot;/&quot;)\r\n    \tCall&lt;ApiResponse&gt; request(@Body HashMap&lt;String, String&gt; parameters);\r\n    }\r\n\r\nHere is how I use the service:\r\n\r\n\r\n\tHashMap&lt;String, String&gt; parameters = new HashMap&lt;&gt;();\r\n\tparameters.put(&quot;api_key&quot;, &quot;xxxxxxxxx&quot;);\r\n\tparameters.put(&quot;app_id&quot;, &quot;xxxxxxxxxxx&quot;);\r\n\r\n\tCall&lt;ApiResponse&gt; call = client.request(parameters);\r\n\tcall.enqueue(new Callback&lt;ApiResponse&gt;() {\r\n\t\t@Override\r\n\t\tpublic void onResponse(Response&lt;ApiResponse&gt; response) {\r\n\t\t\tLog.d(LOG_TAG, &quot;message = &quot; + response.message());\r\n\t\t\tif(response.isSuccess()){\r\n\t\t\t\tLog.d(LOG_TAG, &quot;-----isSuccess----&quot;);\r\n\t\t\t}else{\r\n\t\t\t\tLog.d(LOG_TAG, &quot;-----isFalse-----&quot;);\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t\t@Override\r\n\t\tpublic void onFailure(Throwable t) {\r\n\t\t\tLog.d(LOG_TAG, &quot;----onFailure------&quot;);\r\n\t\t\tLog.e(LOG_TAG, t.getMessage());\r\n\t\t\tLog.d(LOG_TAG, &quot;----onFailure------&quot;);\r\n\t\t}\r\n\t});","title":"How to make a POST request using retrofit 2?","body":"<p>I was only able to run the hello world example (GithubService) from the docs.   </p>\n\n<p>The problem is when I run my code, I get the following Error, inside of <code>onFailure()</code></p>\n\n<blockquote>\n  <p>Use JsonReader.setLenient(true) to accept malformed JSON at line 1\n  column 1 path $</p>\n</blockquote>\n\n<p>My API takes POST params value, so no need to encode them as JSON, but it does return the response in JSON.</p>\n\n<p>For the response I got ApiResponse class that I generated using tools.</p>\n\n<p>My interface:</p>\n\n<pre><code>public interface ApiService {\n    @POST(\"/\")\n    Call&lt;ApiResponse&gt; request(@Body HashMap&lt;String, String&gt; parameters);\n}\n</code></pre>\n\n<p>Here is how I use the service:</p>\n\n<pre><code>HashMap&lt;String, String&gt; parameters = new HashMap&lt;&gt;();\nparameters.put(\"api_key\", \"xxxxxxxxx\");\nparameters.put(\"app_id\", \"xxxxxxxxxxx\");\n\nCall&lt;ApiResponse&gt; call = client.request(parameters);\ncall.enqueue(new Callback&lt;ApiResponse&gt;() {\n    @Override\n    public void onResponse(Response&lt;ApiResponse&gt; response) {\n        Log.d(LOG_TAG, \"message = \" + response.message());\n        if(response.isSuccess()){\n            Log.d(LOG_TAG, \"-----isSuccess----\");\n        }else{\n            Log.d(LOG_TAG, \"-----isFalse-----\");\n        }\n\n    }\n    @Override\n    public void onFailure(Throwable t) {\n        Log.d(LOG_TAG, \"----onFailure------\");\n        Log.e(LOG_TAG, t.getMessage());\n        Log.d(LOG_TAG, \"----onFailure------\");\n    }\n});\n</code></pre>\n"},{"tags":["java","android","user-interface","layout"],"answers":[{"tags":[],"owner":{"account_id":18920400,"reputation":373,"user_id":13804587,"display_name":"amimic11"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1643725518,"creation_date":1643725518,"answer_id":70942193,"question_id":70941697,"body_markdown":"You can try use the Layout Parameters for setting view custom params for height and width\r\n\r\nas\r\n\r\n    val linearLayout = LinearLayout(requireActivity())\r\n            val lp: LinearLayout.LayoutParams = (ParentView)findViewById(R.id.parent_view);\r\n            val left_margin: Int = 3 //e.g\r\n            val top_margin = 0\r\n            val right_margin: Int = 3 //e.g\r\n            val bottom_margin = 0\r\n            lp.setMargins(left_margin, top_margin, right_margin, bottom_margin)\r\n            val size = Point()\r\n            val w = requireActivity().windowManager\r\n            w.defaultDisplay.getSize(size)\r\n            lp.width = size.x - 40\r\n            lp.height = size.y\r\n            linearLayout.layoutParams = lp\r\n\r\nOr for better results, you can use the [recycler view][1] to achieve the same result in better handling and just to create a single instance of adapter, which will be completely dependent on you list you are passing to the recycler view. also less code work to handle and debug.\r\n\r\n\r\n  [1]: https://www.javatpoint.com/android-recyclerview-list-example","title":"Layout stretched after inserting it into a ScrollView","body":"<p>You can try use the Layout Parameters for setting view custom params for height and width</p>\n<p>as</p>\n<pre><code>val linearLayout = LinearLayout(requireActivity())\n        val lp: LinearLayout.LayoutParams = (ParentView)findViewById(R.id.parent_view);\n        val left_margin: Int = 3 //e.g\n        val top_margin = 0\n        val right_margin: Int = 3 //e.g\n        val bottom_margin = 0\n        lp.setMargins(left_margin, top_margin, right_margin, bottom_margin)\n        val size = Point()\n        val w = requireActivity().windowManager\n        w.defaultDisplay.getSize(size)\n        lp.width = size.x - 40\n        lp.height = size.y\n        linearLayout.layoutParams = lp\n</code></pre>\n<p>Or for better results, you can use the <a href=\"https://www.javatpoint.com/android-recyclerview-list-example\" rel=\"nofollow noreferrer\">recycler view</a> to achieve the same result in better handling and just to create a single instance of adapter, which will be completely dependent on you list you are passing to the recycler view. also less code work to handle and debug.</p>\n"}],"owner":{"account_id":24098120,"reputation":3,"user_id":18070321,"display_name":"FritzK"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70942193,"answer_count":1,"score":0,"last_activity_date":1643725518,"creation_date":1643723516,"question_id":70941697,"body_markdown":"I have a Layout with a ScrollView where I want to programatically insert another layout. So this\r\n```\r\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    android:layout_width=&quot;96dp&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    android:layout_weight=&quot;1&quot;\r\n    android:background=&quot;#56565A&quot;\r\n    android:orientation=&quot;vertical&quot;&gt;\r\n```\r\ninserted into this\r\n```\r\n&lt;HorizontalScrollView\r\n        android:id=&quot;@+id/live_scroll_view&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;&gt;\r\n\r\n        &lt;LinearLayout\r\n            android:id=&quot;@+id/live_view&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:orientation=&quot;horizontal&quot; /&gt;\r\n    &lt;/HorizontalScrollView&gt;\r\n```\r\n\r\nAnd I insert it like that\r\n```\r\nfor (int i = 0; i &lt; exercise.targetSets; i++) {\r\n            LayoutInflater factory = LayoutInflater.from(getContext());\r\n            View myView = factory.inflate(R.layout.live_set_item, null);\r\n            TextView setName = (TextView) myView.findViewById(R.id.current_set);\r\n            setName.setText(String.format(&quot;SET %d&quot;, i+1));\r\n\r\n            scrollView.addView(myView);\r\n        }\r\n```\r\n\r\nBut when I run the app the inserted layout is twice as wide as it should.\r\n\r\n[How it should look (How it looks in the Android Studio Editor)][1]\r\n\r\n\r\n[Vs how it looks when inserted into the ScrollView][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QiEG9.png\r\n  [2]: https://i.stack.imgur.com/fCUny.png\r\n\r\nSo far I have tried to use a ConstraintLayout which didn&#39;t work. Or using different layout weights.  \r\n\r\nI hope you can help me with this.","title":"Layout stretched after inserting it into a ScrollView","body":"<p>I have a Layout with a ScrollView where I want to programatically insert another layout. So this</p>\n<pre><code>&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    android:layout_width=&quot;96dp&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_weight=&quot;1&quot;\n    android:background=&quot;#56565A&quot;\n    android:orientation=&quot;vertical&quot;&gt;\n</code></pre>\n<p>inserted into this</p>\n<pre><code>&lt;HorizontalScrollView\n        android:id=&quot;@+id/live_scroll_view&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;&gt;\n\n        &lt;LinearLayout\n            android:id=&quot;@+id/live_view&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:orientation=&quot;horizontal&quot; /&gt;\n    &lt;/HorizontalScrollView&gt;\n</code></pre>\n<p>And I insert it like that</p>\n<pre><code>for (int i = 0; i &lt; exercise.targetSets; i++) {\n            LayoutInflater factory = LayoutInflater.from(getContext());\n            View myView = factory.inflate(R.layout.live_set_item, null);\n            TextView setName = (TextView) myView.findViewById(R.id.current_set);\n            setName.setText(String.format(&quot;SET %d&quot;, i+1));\n\n            scrollView.addView(myView);\n        }\n</code></pre>\n<p>But when I run the app the inserted layout is twice as wide as it should.</p>\n<p><a href=\"https://i.stack.imgur.com/QiEG9.png\" rel=\"nofollow noreferrer\">How it should look (How it looks in the Android Studio Editor)</a></p>\n<p><a href=\"https://i.stack.imgur.com/fCUny.png\" rel=\"nofollow noreferrer\">Vs how it looks when inserted into the ScrollView</a></p>\n<p>So far I have tried to use a ConstraintLayout which didn't work. Or using different layout weights.</p>\n<p>I hope you can help me with this.</p>\n"},{"tags":["java","spring-boot","http","spring-mvc"],"comments":[{"owner":{"account_id":13010918,"reputation":462,"user_id":11532975,"display_name":"Adrian Lagartera"},"score":1,"creation_date":1643701546,"post_id":70936945,"comment_id":125403251,"body_markdown":"If you put in your controller method the annotation @RequestParam and the proper field, every request which have more or different param will rejected. I think you don&#39;t need do nothing except, if you want a custom exception you can create one and send a specific code error for that situation.","body":"If you put in your controller method the annotation @RequestParam and the proper field, every request which have more or different param will rejected. I think you don&#39;t need do nothing except, if you want a custom exception you can create one and send a specific code error for that situation."},{"owner":{"account_id":13115303,"reputation":1248,"user_id":9474700,"display_name":"behrad"},"score":0,"creation_date":1643709492,"post_id":70936945,"comment_id":125405997,"body_markdown":"You can also create other methods with unacceptable params and return your custom error code in those methods.","body":"You can also create other methods with unacceptable params and return your custom error code in those methods."}],"answers":[{"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643725223,"creation_date":1643724832,"answer_id":70942039,"question_id":70936945,"body_markdown":"You can try to implement a `HandlerInterceptor` and validate such rule in `preHandle()`. If the request contains the query parameters that does not defined in the controller method , you just throw a specific type of `Exception` and configure a `@ControllerAdvice` to handle this exception. Something like : \r\n\r\n``` java\r\npublic class FooHandlerInterceptor implements HandlerInterceptor {\r\n\r\n\t@Override\r\n\tpublic boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler)\r\n\t\t\tthrows Exception {\r\n\r\n\t\tif (handler instanceof HandlerMethod) {\r\n\t\t\tHandlerMethod hm = (HandlerMethod) handler;\r\n\r\n\t\t\tSet&lt;String&gt; allowQueryParams = Stream.of(hm.getMethodParameters())\r\n\t\t\t\t\t.map(p -&gt; p.getParameterAnnotation(RequestParam.class))\r\n\t\t\t\t\t.map(req -&gt; req.value())\r\n\t\t\t\t\t.collect(toSet());\r\n\r\n\t\t\tfor (String currentRequestParamName : request.getParameterMap().keySet()) {\r\n\t\t\t\tif (!allowQueryParams.contains(currentRequestParamName)) {\r\n\t\t\t\t\tthrow new FooRestException();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn true;\r\n\t}\r\n}\r\n```\r\n\r\nAnd the `@ControllerAdvice` to handle the Exception :\r\n\r\n``` java\r\n@ControllerAdvice\r\npublic class FooExceptionHandler {\r\n\r\n\t@ExceptionHandler(FooRestException.class)\r\n\tpublic ResponseEntity&lt;Object&gt; handle(FooRestException ex) {\r\n\t\treturn new ResponseEntity&lt;&gt;(&quot;Some query parameter are not defined&quot;, HttpStatus.BAD_REQUEST);\r\n\t}\r\n}\r\n```\r\n\r\nFinally register `FooHandlerInterceptor` to use it :\r\n\r\n``` java\r\n@Configuration\r\npublic class WebConfig implements WebMvcConfigurer {\r\n\t@Override\r\n\tpublic void addInterceptors(InterceptorRegistry registry) {\r\n\t\tregistry.addInterceptor(new FooHandlerInterceptor());\r\n\t}\r\n} \r\n```\r\n\r\nI just show you the idea. You can further tweak the codes in `HandlerInterceptor` if you want such checking is only applied to a particular controller method. \r\n","title":"Rejecting GET requests with additional query params","body":"<p>You can try to implement a <code>HandlerInterceptor</code> and validate such rule in <code>preHandle()</code>. If the request contains the query parameters that does not defined in the controller method , you just throw a specific type of <code>Exception</code> and configure a <code>@ControllerAdvice</code> to handle this exception. Something like :</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class FooHandlerInterceptor implements HandlerInterceptor {\n\n    @Override\n    public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler)\n            throws Exception {\n\n        if (handler instanceof HandlerMethod) {\n            HandlerMethod hm = (HandlerMethod) handler;\n\n            Set&lt;String&gt; allowQueryParams = Stream.of(hm.getMethodParameters())\n                    .map(p -&gt; p.getParameterAnnotation(RequestParam.class))\n                    .map(req -&gt; req.value())\n                    .collect(toSet());\n\n            for (String currentRequestParamName : request.getParameterMap().keySet()) {\n                if (!allowQueryParams.contains(currentRequestParamName)) {\n                    throw new FooRestException();\n                }\n            }\n        }\n\n        return true;\n    }\n}\n</code></pre>\n<p>And the <code>@ControllerAdvice</code> to handle the Exception :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ControllerAdvice\npublic class FooExceptionHandler {\n\n    @ExceptionHandler(FooRestException.class)\n    public ResponseEntity&lt;Object&gt; handle(FooRestException ex) {\n        return new ResponseEntity&lt;&gt;(&quot;Some query parameter are not defined&quot;, HttpStatus.BAD_REQUEST);\n    }\n}\n</code></pre>\n<p>Finally register <code>FooHandlerInterceptor</code> to use it :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class WebConfig implements WebMvcConfigurer {\n    @Override\n    public void addInterceptors(InterceptorRegistry registry) {\n        registry.addInterceptor(new FooHandlerInterceptor());\n    }\n} \n</code></pre>\n<p>I just show you the idea. You can further tweak the codes in <code>HandlerInterceptor</code> if you want such checking is only applied to a particular controller method.</p>\n"}],"owner":{"account_id":7141303,"reputation":6626,"user_id":5458827,"accept_rate":0,"display_name":"riorio"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1451,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1643725508,"creation_date":1643700924,"question_id":70936945,"body_markdown":"I have an HTTP GET endpoint that accepts some query parameters:\r\n\r\n    @GetMapping(&quot;/cat&quot;)\r\n    public ResponseEntity&lt;Cat&gt; getCat(@RequestParam(&quot;catName&quot;) String catName){ ...\r\n\r\n\r\nIf the clients will send additional query parameters, the endpoint will ignore them.\r\n\r\n    GET .../cat?catName=Oscar                Getting Oscar\r\n    GET .../cat?catName=Oscar&amp;gender=male    Getting Oscar\r\n    GET .../cat?catName=Oscar&amp;x=y            Getting Oscar\r\n\r\n\r\nI want to **reject** HTTP requests that will send additional query parameters:\r\n\r\n    GET .../cat?catName=Oscar                OK\r\n    GET .../cat?catName=Oscar&amp;gender=male    Reject (HTTP error code XYZ)\r\n    GET .../cat?catName=Oscar&amp;x=y            Reject (HTTP error code XYZ)\r\n\r\n\r\nI can change the signature of the method to accept a map and validate the values in the map as suggested [here][1].\r\n\r\n\r\nIs there a way to do with while keeping the cleaner and self explained method signature?\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/18489124/5458827","title":"Rejecting GET requests with additional query params","body":"<p>I have an HTTP GET endpoint that accepts some query parameters:</p>\n<pre><code>@GetMapping(&quot;/cat&quot;)\npublic ResponseEntity&lt;Cat&gt; getCat(@RequestParam(&quot;catName&quot;) String catName){ ...\n</code></pre>\n<p>If the clients will send additional query parameters, the endpoint will ignore them.</p>\n<pre><code>GET .../cat?catName=Oscar                Getting Oscar\nGET .../cat?catName=Oscar&amp;gender=male    Getting Oscar\nGET .../cat?catName=Oscar&amp;x=y            Getting Oscar\n</code></pre>\n<p>I want to <strong>reject</strong> HTTP requests that will send additional query parameters:</p>\n<pre><code>GET .../cat?catName=Oscar                OK\nGET .../cat?catName=Oscar&amp;gender=male    Reject (HTTP error code XYZ)\nGET .../cat?catName=Oscar&amp;x=y            Reject (HTTP error code XYZ)\n</code></pre>\n<p>I can change the signature of the method to accept a map and validate the values in the map as suggested <a href=\"https://stackoverflow.com/a/18489124/5458827\">here</a>.</p>\n<p>Is there a way to do with while keeping the cleaner and self explained method signature?</p>\n"},{"tags":["java","azure-application-insights","micrometer"],"comments":[{"owner":{"account_id":20786268,"reputation":11,"user_id":15265417,"display_name":"Vangelis Pap"},"score":0,"creation_date":1614084190,"post_id":66330015,"comment_id":117271306,"body_markdown":"Most probably this relates to the newly registered [issue](https://github.com/micrometer-metrics/micrometer/issues/2463) in Micrometer","body":"Most probably this relates to the newly registered <a href=\"https://github.com/micrometer-metrics/micrometer/issues/2463\" rel=\"nofollow noreferrer\">issue</a> in Micrometer"}],"answers":[{"tags":[],"owner":{"account_id":20786268,"reputation":11,"user_id":15265417,"display_name":"Vangelis Pap"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1614159796,"creation_date":1614159796,"answer_id":66348289,"question_id":66330015,"body_markdown":"It&#39;s an issue in micrometer library, and a relevant [PR][1] has been created\r\n\r\n\r\n  [1]: https://github.com/micrometer-metrics/micrometer/pull/2472","title":"Micrometer metrics &amp; Application Insights java agent - Metrics accumulate although they shouldn&#39;t (or am I missing something)","body":"<p>It's an issue in micrometer library, and a relevant <a href=\"https://github.com/micrometer-metrics/micrometer/pull/2472\" rel=\"nofollow noreferrer\">PR</a> has been created</p>\n"}],"owner":{"account_id":20786268,"reputation":11,"user_id":15265417,"display_name":"Vangelis Pap"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1025,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643725473,"creation_date":1614070880,"question_id":66330015,"body_markdown":"We have a Java EE JAX-RS application (Java EE 8 hosted on WildFly 20), in which we have configured Micrometer (v1.6.4) as a metrics framework. We are trying to connect it with Azure Application Insights so that metrics are made available to the relevant Application Insights resource (and then add alerts etc.).\r\n\r\nIn order to do so, we have attached the codeless Application Insights agent (v3.0.2), which automatically publishes Micrometer metrics without any code changes. On top of that, we have added a PrometheusMeterRegistry in the globalRegistry, only for debugging purposes (we do not use Prometheus).\r\n\r\n```\r\nMetrics.globalRegistry.add(new PrometheusMeterRegistry(PrometheusConfig.DEFAULT));\r\n```\r\nOn top of that, we have configured an endpoint which returns the Prometheus data using the following snippet:\r\n\r\n```\r\nPrometheusMeterRegistry promRegistry = (PrometheusMeterRegistry) registry;\r\nresult = promRegistry.scrape();\r\n```\r\n\r\nThe agent has a configuration file attached to it in which only the connectionString and role name of the application are set.\r\n\r\nThe agent starts correctly, and data are published in the Application Insights resource. Custom metrics are available for selection in the Monitoring -&gt; Metrics area of the resource.\r\n\r\nThe issue we are facing is that the metrics data accumulate over time although they shouldn&#39;t. And to give an example:\r\n\r\n - We have a Timer setup in order to measure time of a specific operation in our application. The Timer is triggered by an @Interceptor using the @AroundInvoke method, and records the time take for the actual operation to complete. We use this code snippet to record the time\r\n\r\n```\r\n...\r\nBuilder timerBuilder = Timer.builder(timerName);\r\nTimer timer = timerBuilder.register(metricsProducer.getMetricsRegistry());\r\n\r\nreturn timer.record(() -&gt; {\r\n\ttry {\r\n\t\treturn ctx.proceed();\r\n\t} catch (Exception e) {\r\n\t\tthrow new RuntimeException(e.getMessage());\r\n\t}\r\n});\r\n```\r\n\r\n\r\n - We have a Counter also setup which is used to measure the number of times that a specific operation has been called (I know that the same can be achieved through the Timer, but it&#39;s only there for testing purposes)\r\n\r\nAssume that we call the operation that is bound to the Counter only once. We expect that the Counter value is 1, which is something that we confirm with logging.\r\nAssume also that we call the operation that is bound to the Timer only once. We expect that only this triggering gets measured and recorded.\r\n\r\nIn the Application Insights resource, we see that the metric information gets updated every time the agent publishes information, and modifies the values without though any trigger in the backend.\r\nIn particular, both of the metrics increase the Count aggregated value, but since for the Timer the duration does not change, the Average falls (suggesting that a metric value is passed with duration 0).\r\n\r\nOn the other hand, when calling the Prometheus scraping endpoint, data are returned correctly, i.e. Count for both of the metrics stays to 1 and data are the expected ones.\r\n\r\nI have tried the same using SpringBoot as the underlying framework, again with the same results.\r\n\r\nAny thoughts?\r\nAm I missing something?\r\n\r\nThank you\r\n\r\nVangelis\r\n\r\n","title":"Micrometer metrics &amp; Application Insights java agent - Metrics accumulate although they shouldn&#39;t (or am I missing something)","body":"<p>We have a Java EE JAX-RS application (Java EE 8 hosted on WildFly 20), in which we have configured Micrometer (v1.6.4) as a metrics framework. We are trying to connect it with Azure Application Insights so that metrics are made available to the relevant Application Insights resource (and then add alerts etc.).</p>\n<p>In order to do so, we have attached the codeless Application Insights agent (v3.0.2), which automatically publishes Micrometer metrics without any code changes. On top of that, we have added a PrometheusMeterRegistry in the globalRegistry, only for debugging purposes (we do not use Prometheus).</p>\n<pre><code>Metrics.globalRegistry.add(new PrometheusMeterRegistry(PrometheusConfig.DEFAULT));\n</code></pre>\n<p>On top of that, we have configured an endpoint which returns the Prometheus data using the following snippet:</p>\n<pre><code>PrometheusMeterRegistry promRegistry = (PrometheusMeterRegistry) registry;\nresult = promRegistry.scrape();\n</code></pre>\n<p>The agent has a configuration file attached to it in which only the connectionString and role name of the application are set.</p>\n<p>The agent starts correctly, and data are published in the Application Insights resource. Custom metrics are available for selection in the Monitoring -&gt; Metrics area of the resource.</p>\n<p>The issue we are facing is that the metrics data accumulate over time although they shouldn't. And to give an example:</p>\n<ul>\n<li>We have a Timer setup in order to measure time of a specific operation in our application. The Timer is triggered by an @Interceptor using the @AroundInvoke method, and records the time take for the actual operation to complete. We use this code snippet to record the time</li>\n</ul>\n<pre><code>...\nBuilder timerBuilder = Timer.builder(timerName);\nTimer timer = timerBuilder.register(metricsProducer.getMetricsRegistry());\n\nreturn timer.record(() -&gt; {\n    try {\n        return ctx.proceed();\n    } catch (Exception e) {\n        throw new RuntimeException(e.getMessage());\n    }\n});\n</code></pre>\n<ul>\n<li>We have a Counter also setup which is used to measure the number of times that a specific operation has been called (I know that the same can be achieved through the Timer, but it's only there for testing purposes)</li>\n</ul>\n<p>Assume that we call the operation that is bound to the Counter only once. We expect that the Counter value is 1, which is something that we confirm with logging.\nAssume also that we call the operation that is bound to the Timer only once. We expect that only this triggering gets measured and recorded.</p>\n<p>In the Application Insights resource, we see that the metric information gets updated every time the agent publishes information, and modifies the values without though any trigger in the backend.\nIn particular, both of the metrics increase the Count aggregated value, but since for the Timer the duration does not change, the Average falls (suggesting that a metric value is passed with duration 0).</p>\n<p>On the other hand, when calling the Prometheus scraping endpoint, data are returned correctly, i.e. Count for both of the metrics stays to 1 and data are the expected ones.</p>\n<p>I have tried the same using SpringBoot as the underlying framework, again with the same results.</p>\n<p>Any thoughts?\nAm I missing something?</p>\n<p>Thank you</p>\n<p>Vangelis</p>\n"},{"tags":["java","apache-spark","apache-kafka","avro","spark-structured-streaming"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1643723034,"post_id":70938727,"comment_id":125411072,"body_markdown":"It&#39;s null because it&#39;s parsed wrong. Where did you define schema? What actually is the Avro schema? How was the data produced? `from_avro` does not work with any Schema Registry","body":"It&#39;s null because it&#39;s parsed wrong. Where did you define schema? What actually is the Avro schema? How was the data produced? <code>from_avro</code> does not work with any Schema Registry"},{"owner":{"account_id":19534415,"reputation":539,"user_id":14293486,"display_name":"Marcin_S"},"score":0,"creation_date":1643725502,"post_id":70938727,"comment_id":125412168,"body_markdown":"@OneCricketeer\nI calling the schema registry to get the schema, I have updated the question with the schema","body":"@OneCricketeer I calling the schema registry to get the schema, I have updated the question with the schema"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1643725705,"post_id":70938727,"comment_id":125412251,"body_markdown":"Does this help? https://stackoverflow.com/questions/48882723/integrating-spark-structured-streaming-with-the-confluent-schema-registry","body":"Does this help? <a href=\"https://stackoverflow.com/questions/48882723/integrating-spark-structured-streaming-with-the-confluent-schema-registry\" title=\"integrating spark structured streaming with the confluent schema registry\">stackoverflow.com/questions/48882723/&hellip;</a>"},{"owner":{"account_id":19534415,"reputation":539,"user_id":14293486,"display_name":"Marcin_S"},"score":0,"creation_date":1643729370,"post_id":70938727,"comment_id":125414003,"body_markdown":"Tried casting to String not working in Java, any recommended method from you side ?","body":"Tried casting to String not working in Java, any recommended method from you side ?"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1643739893,"post_id":70938727,"comment_id":125418436,"body_markdown":"The data is Avro. Why did you expect strings to work? If you&#39;re using the schema registry, the linked post has all the information you should need (and does not cast anything to strings, it actually uses Confluent&#39;s KafkaAvroDeserializer methods). If you dont want to read that link, then go here https://github.com/AbsaOSS/ABRiS","body":"The data is Avro. Why did you expect strings to work? If you&#39;re using the schema registry, the linked post has all the information you should need (and does not cast anything to strings, it actually uses Confluent&#39;s KafkaAvroDeserializer methods). If you dont want to read that link, then go here <a href=\"https://github.com/AbsaOSS/ABRiS\" rel=\"nofollow noreferrer\">github.com/AbsaOSS/ABRiS</a>"}],"owner":{"account_id":19534415,"reputation":539,"user_id":14293486,"display_name":"Marcin_S"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":704,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1643725457,"creation_date":1643710213,"question_id":70938727,"body_markdown":"I reading from a Kafka Topic which has data in Avro format below is my code :\r\n\r\n     Dataset&lt;Row&gt; df = spark\r\n                    .readStream()\r\n                    .format(&quot;kafka&quot;)\r\n                    .option(&quot;kafka.bootstrap.servers&quot;, &quot;&lt;IP&gt;:9092&quot;)\r\n                    .option(&quot;subscribe&quot;, &quot;avr&#242;-data&quot;)\r\n                    .option(&quot;auto.offset.reset&quot;, &quot;latest&quot;)\r\n                    .option(&quot;checkpointLocation&quot;, &quot;/tmp&quot;)\r\n                    .load();\r\n    \r\n      Dataset&lt;Row&gt; ds2 =  df.select( from_avro(col(&quot;value&quot;), schema).as(&quot;rows&quot;),\r\n                    col(&quot;timestamp&quot;));\r\n    \r\n    // Creating a DataFrame with Timestamp \r\n    \r\n       ds2.createOrReplaceTempView(&quot;ds2&quot;);\r\n       Dataset&lt;Row&gt; ds3 = spark.sql(&quot;select rows.* , timestamp from ds2 &quot;);\r\n    \r\n    // Creating a Table\r\n\r\n       ds3.createOrReplaceTempView(&quot;table&quot;);\r\n       Dataset&lt;Row&gt; result = spark.sql(&quot;select * from table ; &quot;);\r\n    \r\n    \r\n    \r\n           \r\n    \r\n           StreamingQuery query = result\r\n                    .writeStream()\r\n                    .queryName(&quot;Test query&quot;)\r\n                    .outputMode(&quot;complete&quot;)\r\n                    .format(&quot;console&quot;)\r\n                    .outputMode(OutputMode.Update())\r\n                    .start();\r\n\r\n\r\nI am getting the value as null for my I can see the data in Kafka side but in Spark all values are coming as zero or null below is my output:\r\n\r\n       +--------+-----+-------------+-----+----+--------------------+\r\n    |event_id|value|         type|check|name|           timestamp|\r\n    +--------+-----+-------------+-----+----+--------------------+\r\n    |        |    0|2.6912392E-37|false|   |2022-02-01 15:30:...|\r\n    |        |    0|2.6912392E-37|false|   |2022-02-01 15:30:...|\r\n    |        |    0|2.6912392E-37|false|   |2022-02-01 15:30:...|\r\n    |        |    0|2.6912392E-37|false|   |2022-02-01 15:30:...|\r\n    |        |    0|2.6912392E-37|false|   |2022-02-01 15:30:...|\r\n    +--------+-----+-------------+-----+----+--------------------+\r\n\r\nIs I am doing anything wrong here ? Not able to figure out why value are coming empty ?\r\n\r\nBelow is Schema return for the schema registry: \r\n\r\n     String schema = &quot;{\\&quot;type\\&quot;:\\&quot;record\\&quot;,\\&quot;name\\&quot;:\\&quot;SparkEvent\\&quot;,\\&quot;namespace\\&quot;:\\&quot;com.Saprak\\&quot;,\\&quot;fields\\&quot;:[{\\&quot;name\\&quot;:\\&quot;event_id\\&quot;,\\&quot;type\\&quot;:{\\&quot;type\\&quot;:\\&quot;string\\&quot;,\\&quot;avro.java.string\\&quot;:\\&quot;String\\&quot;}},{\\&quot;name\\&quot;:\\&quot;value\\&quot;,\\&quot;type\\&quot;:\\&quot;int\\&quot;},{\\&quot;name\\&quot;:\\&quot;type\\&quot;,\\&quot;type\\&quot;:\\&quot;float\\&quot;},{\\&quot;name\\&quot;:\\&quot;check\\&quot;,\\&quot;type\\&quot;:\\&quot;boolean\\&quot;,\\&quot;default\\&quot;:true},{\\&quot;name\\&quot;:\\&quot;name\\&quot;,\\&quot;type\\&quot;:{\\&quot;type\\&quot;:\\&quot;string\\&quot;,\\&quot;avro.java.string\\&quot;:\\&quot;String\\&quot;}}],\\&quot;version\\&quot;:\\&quot;1\\&quot;}&quot;;","title":"Spark Avro Schema Value is Coming Null","body":"<p>I reading from a Kafka Topic which has data in Avro format below is my code :</p>\n<pre><code> Dataset&lt;Row&gt; df = spark\n                .readStream()\n                .format(&quot;kafka&quot;)\n                .option(&quot;kafka.bootstrap.servers&quot;, &quot;&lt;IP&gt;:9092&quot;)\n                .option(&quot;subscribe&quot;, &quot;avrò-data&quot;)\n                .option(&quot;auto.offset.reset&quot;, &quot;latest&quot;)\n                .option(&quot;checkpointLocation&quot;, &quot;/tmp&quot;)\n                .load();\n\n  Dataset&lt;Row&gt; ds2 =  df.select( from_avro(col(&quot;value&quot;), schema).as(&quot;rows&quot;),\n                col(&quot;timestamp&quot;));\n\n// Creating a DataFrame with Timestamp \n\n   ds2.createOrReplaceTempView(&quot;ds2&quot;);\n   Dataset&lt;Row&gt; ds3 = spark.sql(&quot;select rows.* , timestamp from ds2 &quot;);\n\n// Creating a Table\n\n   ds3.createOrReplaceTempView(&quot;table&quot;);\n   Dataset&lt;Row&gt; result = spark.sql(&quot;select * from table ; &quot;);\n\n\n\n       \n\n       StreamingQuery query = result\n                .writeStream()\n                .queryName(&quot;Test query&quot;)\n                .outputMode(&quot;complete&quot;)\n                .format(&quot;console&quot;)\n                .outputMode(OutputMode.Update())\n                .start();\n</code></pre>\n<p>I am getting the value as null for my I can see the data in Kafka side but in Spark all values are coming as zero or null below is my output:</p>\n<pre><code>   +--------+-----+-------------+-----+----+--------------------+\n|event_id|value|         type|check|name|           timestamp|\n+--------+-----+-------------+-----+----+--------------------+\n|        |    0|2.6912392E-37|false|   |2022-02-01 15:30:...|\n|        |    0|2.6912392E-37|false|   |2022-02-01 15:30:...|\n|        |    0|2.6912392E-37|false|   |2022-02-01 15:30:...|\n|        |    0|2.6912392E-37|false|   |2022-02-01 15:30:...|\n|        |    0|2.6912392E-37|false|   |2022-02-01 15:30:...|\n+--------+-----+-------------+-----+----+--------------------+\n</code></pre>\n<p>Is I am doing anything wrong here ? Not able to figure out why value are coming empty ?</p>\n<p>Below is Schema return for the schema registry:</p>\n<pre><code> String schema = &quot;{\\&quot;type\\&quot;:\\&quot;record\\&quot;,\\&quot;name\\&quot;:\\&quot;SparkEvent\\&quot;,\\&quot;namespace\\&quot;:\\&quot;com.Saprak\\&quot;,\\&quot;fields\\&quot;:[{\\&quot;name\\&quot;:\\&quot;event_id\\&quot;,\\&quot;type\\&quot;:{\\&quot;type\\&quot;:\\&quot;string\\&quot;,\\&quot;avro.java.string\\&quot;:\\&quot;String\\&quot;}},{\\&quot;name\\&quot;:\\&quot;value\\&quot;,\\&quot;type\\&quot;:\\&quot;int\\&quot;},{\\&quot;name\\&quot;:\\&quot;type\\&quot;,\\&quot;type\\&quot;:\\&quot;float\\&quot;},{\\&quot;name\\&quot;:\\&quot;check\\&quot;,\\&quot;type\\&quot;:\\&quot;boolean\\&quot;,\\&quot;default\\&quot;:true},{\\&quot;name\\&quot;:\\&quot;name\\&quot;,\\&quot;type\\&quot;:{\\&quot;type\\&quot;:\\&quot;string\\&quot;,\\&quot;avro.java.string\\&quot;:\\&quot;String\\&quot;}}],\\&quot;version\\&quot;:\\&quot;1\\&quot;}&quot;;\n</code></pre>\n"},{"tags":["java","spring","jpa","spring-data-jpa","projection"],"answers":[{"tags":[],"owner":{"account_id":21906183,"reputation":1,"user_id":16191224,"display_name":"mustafa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643725355,"creation_date":1643724484,"answer_id":70941949,"question_id":70941837,"body_markdown":"This seemed like a `FetchType` related issue to me.\r\n\r\nIf you are providing the relations with spring data jpa annotations, You might consider using `FetchType.LAZY`.\r\n\r\nLike : `@ManyToMany(fetch = FetchType.LAZY)`","title":"Spring JPA Projection inside of Projection","body":"<p>This seemed like a <code>FetchType</code> related issue to me.</p>\n<p>If you are providing the relations with spring data jpa annotations, You might consider using <code>FetchType.LAZY</code>.</p>\n<p>Like : <code>@ManyToMany(fetch = FetchType.LAZY)</code></p>\n"}],"owner":{"account_id":15772872,"reputation":477,"user_id":11381412,"display_name":"Jocasso"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":523,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643725355,"creation_date":1643723992,"question_id":70941837,"body_markdown":"i have following entities \r\n\r\nA.class\r\n```\r\n@Entity\r\npublic class A {\r\n   List&lt;B&gt; listOfB;\r\n   //getters and setters\r\n}\r\n```\r\nB.class\r\n```\r\n@Entity\r\npublic class B {\r\n   private long id;\r\n   private  List&lt;C&gt; listOfC;\r\n    //getters and setters\r\n}\r\n```\r\nC.class\r\n```\r\n@Entity\r\npublic class C {\r\n   long getId();\r\n}\r\n```\r\n\r\nIn some cases C.class is unnecessary. So I tried to ignore it at the query with projection;\r\n\r\n\r\nAView.class\r\n```\r\npublic interface AView {\r\n   List&lt;BView&gt; getB();\r\n}\r\n\r\n```\r\nBView.class\r\n```\r\npublic interface BView {\r\n   long getId();\r\n}\r\n\r\n```\r\n\r\nThe JSON Response looks fine, but the Hibernate Query log is showing the SELECT of class C.\r\nI read a custom query at solution. But the Problem is that the classes have too many fields.\r\n\r\nIs it posible to ignore the select of c in the query without writing a custom Query?","title":"Spring JPA Projection inside of Projection","body":"<p>i have following entities</p>\n<p>A.class</p>\n<pre><code>@Entity\npublic class A {\n   List&lt;B&gt; listOfB;\n   //getters and setters\n}\n</code></pre>\n<p>B.class</p>\n<pre><code>@Entity\npublic class B {\n   private long id;\n   private  List&lt;C&gt; listOfC;\n    //getters and setters\n}\n</code></pre>\n<p>C.class</p>\n<pre><code>@Entity\npublic class C {\n   long getId();\n}\n</code></pre>\n<p>In some cases C.class is unnecessary. So I tried to ignore it at the query with projection;</p>\n<p>AView.class</p>\n<pre><code>public interface AView {\n   List&lt;BView&gt; getB();\n}\n\n</code></pre>\n<p>BView.class</p>\n<pre><code>public interface BView {\n   long getId();\n}\n\n</code></pre>\n<p>The JSON Response looks fine, but the Hibernate Query log is showing the SELECT of class C.\nI read a custom query at solution. But the Problem is that the classes have too many fields.</p>\n<p>Is it posible to ignore the select of c in the query without writing a custom Query?</p>\n"},{"tags":["java","selenium","testng"],"answers":[{"tags":[],"owner":{"account_id":9083157,"reputation":56,"user_id":6762265,"display_name":"Cebbe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643725224,"creation_date":1643725224,"answer_id":70942128,"question_id":70939261,"body_markdown":"I found a solution to the issue.\r\nIt is possible to use ITestResult.getTestContext().getStartDate().getTime() to obtain the time of which the test class itself is run, rather than the current test method.\r\n\r\nThe final solution was quite simply:\r\n\r\n&gt; result.getEndMillis() - result.getTestContext().getStartDate().getTime()) / 60000\r\n\r\nWhere &quot;result&quot; corresponds to ITestResult.\r\n\r\nThis outputs the time between the start of the test and the end of the last executed method.","title":"TestNG - Getting start time of before method","body":"<p>I found a solution to the issue.\nIt is possible to use ITestResult.getTestContext().getStartDate().getTime() to obtain the time of which the test class itself is run, rather than the current test method.</p>\n<p>The final solution was quite simply:</p>\n<blockquote>\n<p>result.getEndMillis() - result.getTestContext().getStartDate().getTime()) / 60000</p>\n</blockquote>\n<p>Where &quot;result&quot; corresponds to ITestResult.</p>\n<p>This outputs the time between the start of the test and the end of the last executed method.</p>\n"}],"owner":{"account_id":9083157,"reputation":56,"user_id":6762265,"display_name":"Cebbe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":523,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643725224,"creation_date":1643712413,"question_id":70939261,"body_markdown":"I&#39;m executing a few hundred tests in test classes consisting of a singular beforeMethod test, followed by a variable amount of primary tests and occasionally an afterMethod.\r\n\r\nThe purpose of the beforMethod test, is to populate the test environment with data used in the primary tests while separating logging and recording from the primary tests, which we report on.\r\n\r\nWe have set up an automatic issue creation tool using a listener. We&#39;ve found that it would give great value to add execution time to this tool, so that it can show us how long it would take to reproduce the errors in said issues.\r\n\r\nTo this end, I have made a simple addition to this code, that uses ITestResult.getEndMillis() and getStartMillis() to get the execution time.\r\nThe problem we&#39;re experiencing with this approach, is that if the test encounters a failure during the primary tests, ITestResult.getStartMillis() will not account for the start time of the before method, but only the primary method.\r\n\r\nHow would we go about determining the start time of the test class itself (always the beforeMethod), rather than just the current method?\r\n\r\nSince we&#39;re running hundreds of tests in a massive setup, a solution that allows this without changing each separate test class, would definitely be preferable.\r\n\r\nThe setup of the java test classes look something like this (scrubbed of business specifics):\r\n\r\n```\r\npackage foobar;\r\n\r\nimport foobar\r\n\r\n@UsingTunnel\r\n@Test\r\npublic class FLOWNAME_TESTNAME extends TestBase {\r\n\r\n    private final Value&lt;String&gt; parameter;\r\n\r\n    public FLOWNAME_TESTNAME(Value&lt;String&gt; parameter) {\r\n        super(PropertyProviderImpl.get());\r\n        this.parameter = parameter;\r\n    }\r\n\r\n    @StoryCreating(test = &quot;TESTNAME&quot;)\r\n    @BeforeMethod\r\n    public void CONDITIONS() throws Throwable {\r\n        new TESTNAME_CONDITIONS(parameter).executeTest();\r\n    }\r\n\r\n    @TestCoverage(test = &quot;TESTNAME&quot;)\r\n    public void PRIMARYTESTS() throws Throwable {\r\n        TESTCASE1 testcase1 = new TESTCASE1(parameter.get());\r\n        testcase1.executeTest();\r\n        testcase1.throwSoftAsserts();\r\n\r\n        TESTCASE2 testcase2 = new TESTCASE2(parameter.get());\r\n        testcase2.executeTest();\r\n        testcase2.throwSoftAsserts();\r\n    }\r\n}\r\n```\r\nSo in this case, the problem arises when the listener detects a failure in either TESTCASE1 or TESTCASE2, because these will not include the execution time of TESTNAME_CONDITIONS because that test is inside a different method, yet practically speaking, they are part of the same test flow, aka the same test class.","title":"TestNG - Getting start time of before method","body":"<p>I'm executing a few hundred tests in test classes consisting of a singular beforeMethod test, followed by a variable amount of primary tests and occasionally an afterMethod.</p>\n<p>The purpose of the beforMethod test, is to populate the test environment with data used in the primary tests while separating logging and recording from the primary tests, which we report on.</p>\n<p>We have set up an automatic issue creation tool using a listener. We've found that it would give great value to add execution time to this tool, so that it can show us how long it would take to reproduce the errors in said issues.</p>\n<p>To this end, I have made a simple addition to this code, that uses ITestResult.getEndMillis() and getStartMillis() to get the execution time.\nThe problem we're experiencing with this approach, is that if the test encounters a failure during the primary tests, ITestResult.getStartMillis() will not account for the start time of the before method, but only the primary method.</p>\n<p>How would we go about determining the start time of the test class itself (always the beforeMethod), rather than just the current method?</p>\n<p>Since we're running hundreds of tests in a massive setup, a solution that allows this without changing each separate test class, would definitely be preferable.</p>\n<p>The setup of the java test classes look something like this (scrubbed of business specifics):</p>\n<pre><code>package foobar;\n\nimport foobar\n\n@UsingTunnel\n@Test\npublic class FLOWNAME_TESTNAME extends TestBase {\n\n    private final Value&lt;String&gt; parameter;\n\n    public FLOWNAME_TESTNAME(Value&lt;String&gt; parameter) {\n        super(PropertyProviderImpl.get());\n        this.parameter = parameter;\n    }\n\n    @StoryCreating(test = &quot;TESTNAME&quot;)\n    @BeforeMethod\n    public void CONDITIONS() throws Throwable {\n        new TESTNAME_CONDITIONS(parameter).executeTest();\n    }\n\n    @TestCoverage(test = &quot;TESTNAME&quot;)\n    public void PRIMARYTESTS() throws Throwable {\n        TESTCASE1 testcase1 = new TESTCASE1(parameter.get());\n        testcase1.executeTest();\n        testcase1.throwSoftAsserts();\n\n        TESTCASE2 testcase2 = new TESTCASE2(parameter.get());\n        testcase2.executeTest();\n        testcase2.throwSoftAsserts();\n    }\n}\n</code></pre>\n<p>So in this case, the problem arises when the listener detects a failure in either TESTCASE1 or TESTCASE2, because these will not include the execution time of TESTNAME_CONDITIONS because that test is inside a different method, yet practically speaking, they are part of the same test flow, aka the same test class.</p>\n"},{"tags":["java","php","android"],"comments":[{"owner":{"account_id":3212023,"reputation":1016,"user_id":17856705,"display_name":"Computable"},"score":0,"creation_date":1643729199,"post_id":70942052,"comment_id":125413921,"body_markdown":"Please include the stack trace in the logcat window which should provide more info on &quot;it&#39;s crashing the whole app&quot;.  Btw, `onPostExecute` already executes on the UI thread.","body":"Please include the stack trace in the logcat window which should provide more info on &quot;it&#39;s crashing the whole app&quot;.  Btw, <code>onPostExecute</code> already executes on the UI thread."},{"owner":{"account_id":23776674,"reputation":1,"user_id":17790022,"display_name":"FF GANG BD"},"score":0,"creation_date":1643730565,"post_id":70942052,"comment_id":125414496,"body_markdown":"@A__ mm i found something.. its a fragment file i am doing it like  ```Intent intent = new Intent(HomeActivity.this, NotificationFragment.class);\n                startActivity(intent);``` how to make it like if I click on the image it will go to the fragment file this isn&#39;t working and saying have you declared this activity in your AndroidManifest.xml?","body":"@A__ mm i found something.. its a fragment file i am doing it like  <code>Intent intent = new Intent(HomeActivity.this, NotificationFragment.class);                 startActivity(intent);</code> how to make it like if I click on the image it will go to the fragment file this isn&#39;t working and saying have you declared this activity in your AndroidManifest.xml?"},{"owner":{"account_id":19962129,"reputation":379,"user_id":14629458,"display_name":"Yasser CHENIK"},"score":0,"creation_date":1643736972,"post_id":70942052,"comment_id":125417269,"body_markdown":"I followed [this](https://androidjson.com/android-server-login-registration-php-mysql/) tutorial and it worked for me.","body":"I followed <a href=\"https://androidjson.com/android-server-login-registration-php-mysql/\" rel=\"nofollow noreferrer\">this</a> tutorial and it worked for me."}],"owner":{"account_id":23776674,"reputation":1,"user_id":17790022,"display_name":"FF GANG BD"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":132,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643724861,"creation_date":1643724861,"question_id":70942052,"body_markdown":"**I want to make a notification on my app I made the PHP file correctly but facing a problem on the android studio I made the following android studio code but it&#39;s crashing the whole app what to do? here&#39;s my NotificationFragment**\r\n\r\n...................................................................................................................................................................................................................................................\r\n\r\n\r\n```package com.player.battle.world.tournaments.fragment;\r\n\r\nimport android.app.ProgressDialog;\r\nimport android.content.Intent;\r\nimport android.os.AsyncTask;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport android.os.Bundle;\r\nimport android.util.Patterns;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.Toast;\r\n\r\nimport com.classes.purchaselogic.JSONParser;\r\n\r\nimport battleworld.config.config;\r\n\r\nimport org.json.JSONException;\r\nimport org.json.JSONObject;\r\n\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\nimport java.util.regex.Matcher;\r\nimport java.util.regex.Pattern;\r\n\r\npublic class NotificationFragment extends AppCompatActivity {\r\n\r\n    // Progress Dialog\r\n    private ProgressDialog pDialog;\r\n\r\n    // Creating JSON Parser object\r\n    private final JSONParser jsonParser = new JSONParser();\r\n\r\n    // url to get all products list\r\n    private static final String url = config.mainurl + &quot;get_all_noti.php&quot;;\r\n\r\n    // JSON Node names\r\n    private static final String TAG_SUCCESS = &quot;success&quot;;\r\n    private static final String TAG_NID = &quot;n_id&quot;;\r\n    private static final String TAG_NSUB = &quot;n_sub&quot;;\r\n    private static final String TAG_NMSG = &quot;n_msg&quot;;\r\n\r\n\r\n\r\n    private int success;\r\n\r\n    class OneLoadAllProducts extends AsyncTask&lt;String, String, String&gt; {\r\n\r\n        /**\r\n         * Before starting background thread Show Progress Dialog\r\n         * */\r\n        @Override\r\n        protected void onPreExecute() {\r\n            super.onPreExecute();\r\n            pDialog = new ProgressDialog(NotificationFragment.this);\r\n            pDialog.setMessage(&quot;Loading Please wait...&quot;);\r\n            pDialog.setIndeterminate(false);\r\n            pDialog.setCancelable(false);\r\n            pDialog.show();\r\n        }\r\n\r\n        /**\r\n         * getting All products from url\r\n         * */\r\n        protected String doInBackground(String... args) {\r\n            // Building Parameters\r\n            Map&lt;String, String&gt; params = new HashMap&lt;&gt;();\r\n            params.put(TAG_NID, &quot;n_id&quot;);\r\n            params.put(TAG_NSUB, &quot;n_sub&quot;);\r\n            params.put(TAG_NMSG, &quot;n_msg&quot;);\r\n\r\n            // getting JSON string from URL\r\n            JSONObject json = jsonParser.makeHttpRequest(url, &quot;GET&quot;, params);\r\n\r\n            // Check your log cat for JSON reponse\r\n//            Log.d(&quot;All Offers: &quot;, json.toString());\r\n\r\n            try {\r\n                // Checking for SUCCESS TAG\r\n                success = json.getInt(TAG_SUCCESS);\r\n\r\n            } catch (JSONException e) {\r\n                e.printStackTrace();\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n\r\n            return null;\r\n        }\r\n\r\n        /**\r\n         * After completing background task Dismiss the progress dialog\r\n         * **/\r\n        protected void onPostExecute(String file_url) {\r\n            // dismiss the dialog after getting all products\r\n            pDialog.dismiss();\r\n\r\n            // updating UI from Background Thread\r\n            runOnUiThread(new Runnable() {\r\n                public void run() {\r\n                    /*\r\n                      Updating parsed JSON data into ListView\r\n                     */\r\n                    if (success == 1) {\r\n                        // offers found\r\n                        // Getting Array of offers\r\n\r\n                        Toast.makeText(NotificationFragment.this,&quot;Msg done Succsessfully&quot;,Toast.LENGTH_LONG).show();\r\n\r\n                    } else if(success == 0){\r\n                        // no offers found\r\n                        Toast.makeText(NotificationFragment.this,&quot;test!&quot;,Toast.LENGTH_LONG).show();\r\n\r\n                    } else {\r\n                        Toast.makeText(NotificationFragment.this,&quot;we are facing some problem&quot;,Toast.LENGTH_LONG).show();\r\n\r\n                    }\r\n\r\n                }\r\n            });\r\n\r\n        }\r\n\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n**and heres my get_all_noti.php**\r\n\r\n\r\n```&lt;?php\r\n\r\n/*\r\n * Following code will create a new product row\r\n * All product details are read from HTTP POST Request\r\n */\r\n\r\n// array for JSON response\r\n$response = array();\r\n\r\n// check for required fields\r\nif (isset($_REQUEST[&#39;n_id&#39;]) &amp;&amp; isset($_REQUEST[&#39;n_sub&#39;]) &amp;&amp; isset($_REQUEST[&#39;n_msg&#39;])) {\r\n\r\n     $n_id= $_REQUEST[&#39;n_id&#39;];\r\n     $n_sub= $_REQUEST[&#39;n_sub&#39;];\r\n     $n_msg= $_REQUEST[&#39;n_msg&#39;];\r\n\r\n    // include db connect class\r\n    require_once __DIR__ . &#39;/../db_connect.php&#39;;\r\n\r\n    // connecting to db\r\n\t$db = new DB_CONNECT();\r\n\t$conn = $db-&gt;connect();\r\n\r\n\t// POST all iid from users table\r\n\t$results = mysqli_query($conn,&quot;SELECT * FROM notification&quot;) or die(mysql_error());\r\n        \r\n        // check for empty result\r\n        if (mysqli_num_rows($results) &gt; 0) {\r\n            // looping through all results\r\n            // rajan node\r\n            $response[&quot;rajanr&quot;] = array();\r\n            \r\n            while ($row = mysqli_fetch_array($results, MYSQLI_BOTH)) {\r\n                // temp user array\r\n                //     $rajan = array();        \r\n                //     $rajan[&quot;no&quot;] = $row[&quot;no&quot;];\r\n                //     $rajan[&quot;date&quot;] = $row[&quot;date&quot;];\r\n                //     $rajan[&quot;name&quot;] = $row[&quot;name&quot;];\r\n                //     $rajan[&quot;url&quot;] = $row[&quot;url&quot;];\r\n                //     $rajan[&quot;detail&quot;] = $row[&quot;detail&quot;];\r\n                // \t$rajan[&quot;category&quot;] = $row[&quot;category&quot;];\r\n                // \t$rajan[&quot;expire&quot;] = $row[&quot;expire&quot;];\r\n                // \t$rajan[&quot;view&quot;] = $row[&quot;view&quot;];\r\n        \r\n        \r\n                // push single rajan into final response array\r\n                array_push($response[&quot;rajanr&quot;], $row);\r\n            }\r\n    \t\r\n        \t// successfully inserted into database\r\n        \t$response[&quot;success&quot;] = 1;\r\n        \t$response[&quot;message&quot;] = &quot;noti get succsessfully done.&quot;;\r\n\r\n        \t// echoing JSON response\r\n        \techo json_encode($response);\r\n        }\r\n\t\r\n} else {\r\n    // required field is missing\r\n    $response[&quot;success&quot;] = 0;\r\n    $response[&quot;message&quot;] = &quot;Required field(s) is missing&quot;;\r\n\r\n    // echoing JSON response\r\n    echo json_encode($response);\r\n}\r\n?&gt;````","title":"how to make php get request on android studio","body":"<p><strong>I want to make a notification on my app I made the PHP file correctly but facing a problem on the android studio I made the following android studio code but it's crashing the whole app what to do? here's my NotificationFragment</strong></p>\n<p>...................................................................................................................................................................................................................................................</p>\n<pre><code>\nimport android.app.ProgressDialog;\nimport android.content.Intent;\nimport android.os.AsyncTask;\nimport androidx.appcompat.app.AppCompatActivity;\nimport android.os.Bundle;\nimport android.util.Patterns;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.Toast;\n\nimport com.classes.purchaselogic.JSONParser;\n\nimport battleworld.config.config;\n\nimport org.json.JSONException;\nimport org.json.JSONObject;\n\nimport java.util.HashMap;\nimport java.util.Map;\nimport java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\npublic class NotificationFragment extends AppCompatActivity {\n\n    // Progress Dialog\n    private ProgressDialog pDialog;\n\n    // Creating JSON Parser object\n    private final JSONParser jsonParser = new JSONParser();\n\n    // url to get all products list\n    private static final String url = config.mainurl + &quot;get_all_noti.php&quot;;\n\n    // JSON Node names\n    private static final String TAG_SUCCESS = &quot;success&quot;;\n    private static final String TAG_NID = &quot;n_id&quot;;\n    private static final String TAG_NSUB = &quot;n_sub&quot;;\n    private static final String TAG_NMSG = &quot;n_msg&quot;;\n\n\n\n    private int success;\n\n    class OneLoadAllProducts extends AsyncTask&lt;String, String, String&gt; {\n\n        /**\n         * Before starting background thread Show Progress Dialog\n         * */\n        @Override\n        protected void onPreExecute() {\n            super.onPreExecute();\n            pDialog = new ProgressDialog(NotificationFragment.this);\n            pDialog.setMessage(&quot;Loading Please wait...&quot;);\n            pDialog.setIndeterminate(false);\n            pDialog.setCancelable(false);\n            pDialog.show();\n        }\n\n        /**\n         * getting All products from url\n         * */\n        protected String doInBackground(String... args) {\n            // Building Parameters\n            Map&lt;String, String&gt; params = new HashMap&lt;&gt;();\n            params.put(TAG_NID, &quot;n_id&quot;);\n            params.put(TAG_NSUB, &quot;n_sub&quot;);\n            params.put(TAG_NMSG, &quot;n_msg&quot;);\n\n            // getting JSON string from URL\n            JSONObject json = jsonParser.makeHttpRequest(url, &quot;GET&quot;, params);\n\n            // Check your log cat for JSON reponse\n//            Log.d(&quot;All Offers: &quot;, json.toString());\n\n            try {\n                // Checking for SUCCESS TAG\n                success = json.getInt(TAG_SUCCESS);\n\n            } catch (JSONException e) {\n                e.printStackTrace();\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n\n            return null;\n        }\n\n        /**\n         * After completing background task Dismiss the progress dialog\n         * **/\n        protected void onPostExecute(String file_url) {\n            // dismiss the dialog after getting all products\n            pDialog.dismiss();\n\n            // updating UI from Background Thread\n            runOnUiThread(new Runnable() {\n                public void run() {\n                    /*\n                      Updating parsed JSON data into ListView\n                     */\n                    if (success == 1) {\n                        // offers found\n                        // Getting Array of offers\n\n                        Toast.makeText(NotificationFragment.this,&quot;Msg done Succsessfully&quot;,Toast.LENGTH_LONG).show();\n\n                    } else if(success == 0){\n                        // no offers found\n                        Toast.makeText(NotificationFragment.this,&quot;test!&quot;,Toast.LENGTH_LONG).show();\n\n                    } else {\n                        Toast.makeText(NotificationFragment.this,&quot;we are facing some problem&quot;,Toast.LENGTH_LONG).show();\n\n                    }\n\n                }\n            });\n\n        }\n\n    }\n}\n</code></pre>\n<p><strong>and heres my get_all_noti.php</strong></p>\n<pre><code>\n/*\n * Following code will create a new product row\n * All product details are read from HTTP POST Request\n */\n\n// array for JSON response\n$response = array();\n\n// check for required fields\nif (isset($_REQUEST['n_id']) &amp;&amp; isset($_REQUEST['n_sub']) &amp;&amp; isset($_REQUEST['n_msg'])) {\n\n     $n_id= $_REQUEST['n_id'];\n     $n_sub= $_REQUEST['n_sub'];\n     $n_msg= $_REQUEST['n_msg'];\n\n    // include db connect class\n    require_once __DIR__ . '/../db_connect.php';\n\n    // connecting to db\n    $db = new DB_CONNECT();\n    $conn = $db-&gt;connect();\n\n    // POST all iid from users table\n    $results = mysqli_query($conn,&quot;SELECT * FROM notification&quot;) or die(mysql_error());\n        \n        // check for empty result\n        if (mysqli_num_rows($results) &gt; 0) {\n            // looping through all results\n            // rajan node\n            $response[&quot;rajanr&quot;] = array();\n            \n            while ($row = mysqli_fetch_array($results, MYSQLI_BOTH)) {\n                // temp user array\n                //     $rajan = array();        \n                //     $rajan[&quot;no&quot;] = $row[&quot;no&quot;];\n                //     $rajan[&quot;date&quot;] = $row[&quot;date&quot;];\n                //     $rajan[&quot;name&quot;] = $row[&quot;name&quot;];\n                //     $rajan[&quot;url&quot;] = $row[&quot;url&quot;];\n                //     $rajan[&quot;detail&quot;] = $row[&quot;detail&quot;];\n                //  $rajan[&quot;category&quot;] = $row[&quot;category&quot;];\n                //  $rajan[&quot;expire&quot;] = $row[&quot;expire&quot;];\n                //  $rajan[&quot;view&quot;] = $row[&quot;view&quot;];\n        \n        \n                // push single rajan into final response array\n                array_push($response[&quot;rajanr&quot;], $row);\n            }\n        \n            // successfully inserted into database\n            $response[&quot;success&quot;] = 1;\n            $response[&quot;message&quot;] = &quot;noti get succsessfully done.&quot;;\n\n            // echoing JSON response\n            echo json_encode($response);\n        }\n    \n} else {\n    // required field is missing\n    $response[&quot;success&quot;] = 0;\n    $response[&quot;message&quot;] = &quot;Required field(s) is missing&quot;;\n\n    // echoing JSON response\n    echo json_encode($response);\n}\n?&gt;````\n</code></pre>\n"},{"tags":["java","gradle","build.gradle"],"comments":[{"owner":{"account_id":8423897,"reputation":1034,"user_id":7505687,"display_name":"Dilermando Lima"},"score":0,"creation_date":1643629945,"post_id":70925210,"comment_id":125382796,"body_markdown":"Try add `build.gradle` file in root sub-module folder example `directorySub/Debug/build.gradle` or include `directorySub/Debug/app` in your settings...","body":"Try add <code>build.gradle</code> file in root sub-module folder example <code>directorySub&#47;Debug&#47;build.gradle</code> or include <code>directorySub&#47;Debug&#47;app</code> in your settings..."},{"owner":{"account_id":178753,"reputation":1370,"user_id":410939,"display_name":"Alex"},"score":0,"creation_date":1643632644,"post_id":70925210,"comment_id":125383749,"body_markdown":"`But it throws : FAILURE: Build failed with an exception.` What&#39;s the exception? What&#39;s in `./build.gradle`?","body":"<code>But it throws : FAILURE: Build failed with an exception.</code> What&#39;s the exception? What&#39;s in <code>.&#47;build.gradle</code>?"}],"answers":[{"tags":[],"owner":{"account_id":17416667,"reputation":73,"user_id":12622913,"display_name":"kalopseeia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643724723,"creation_date":1643724723,"answer_id":70942008,"question_id":70925210,"body_markdown":"After searching for any **gradle** project I found answer to my question on this link\r\n\r\n&gt; https://github.com/NationalSecurityAgency/ghidra/blob/master/gradle/support/settingsUtil.gradle\r\n\r\nI change my rootProject **settings.gradle**\r\n\r\n\r\n```\r\napply from: &quot;gradle/support/settingsUtil.gradle&quot;\r\nrootProject.name = &#39;dirctorySub&#39;\r\n\r\nincludeProjects(&#39;dirctorySub/Debug&#39;)\r\nincludeProjects(&#39;dirctorySub/Framework&#39;)\r\nincludeProjects(&#39;dirctorySub/Processors&#39;)\r\nincludeProjects(&#39;dirctorySub/Utils&#39;)\r\n```\r\n\r\nCredit to NationalSecurityAgency : https://github.com/NationalSecurityAgency/ghidra","title":"Include Project Gradle","body":"<p>After searching for any <strong>gradle</strong> project I found answer to my question on this link</p>\n<blockquote>\n<p><a href=\"https://github.com/NationalSecurityAgency/ghidra/blob/master/gradle/support/settingsUtil.gradle\" rel=\"nofollow noreferrer\">https://github.com/NationalSecurityAgency/ghidra/blob/master/gradle/support/settingsUtil.gradle</a></p>\n</blockquote>\n<p>I change my rootProject <strong>settings.gradle</strong></p>\n<pre><code>apply from: &quot;gradle/support/settingsUtil.gradle&quot;\nrootProject.name = 'dirctorySub'\n\nincludeProjects('dirctorySub/Debug')\nincludeProjects('dirctorySub/Framework')\nincludeProjects('dirctorySub/Processors')\nincludeProjects('dirctorySub/Utils')\n</code></pre>\n<p>Credit to NationalSecurityAgency : <a href=\"https://github.com/NationalSecurityAgency/ghidra\" rel=\"nofollow noreferrer\">https://github.com/NationalSecurityAgency/ghidra</a></p>\n"}],"owner":{"account_id":17416667,"reputation":73,"user_id":12622913,"display_name":"kalopseeia"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":887,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1643724723,"creation_date":1643628516,"question_id":70925210,"body_markdown":"How can I **include** my **Projects** in gradle ?, \r\n\r\nI want to build **Debug, Framework, Processors , Utils**\r\n\r\nI&#39;m completely new to Gradle, but have tried the following in my build.gradle within MyProject. \r\n\r\nMy Tree Directory : \r\n\r\n    .\r\n    ├── build.gradle\r\n    ├── dirctorySub\r\n    │&#160;&#160; ├── Debug\r\n    │&#160;&#160; │&#160;&#160; └── app\r\n    │&#160;&#160; │&#160;&#160;     ├── build.gradle\r\n    │&#160;&#160; │&#160;&#160;     └── src\r\n    │&#160;&#160; │&#160;&#160;         └── main\r\n    │&#160;&#160; │&#160;&#160;             ├── java\r\n    │&#160;&#160; │&#160;&#160;             │&#160;&#160; └── debug\r\n    │&#160;&#160; │&#160;&#160;             │&#160;&#160;     └── debug.java\r\n    │&#160;&#160; │&#160;&#160;             └── resources\r\n    │&#160;&#160; ├── Framework\r\n    │&#160;&#160; │&#160;&#160; └── app\r\n    │&#160;&#160; │&#160;&#160;     ├── build.gradle\r\n    │&#160;&#160; │&#160;&#160;     └── src\r\n    │&#160;&#160; │&#160;&#160;         └── main\r\n    │&#160;&#160; │&#160;&#160;             ├── java\r\n    │&#160;&#160; │&#160;&#160;             │&#160;&#160; └── dirctorySub\r\n    │&#160;&#160; │&#160;&#160;             │&#160;&#160;     └── dirctorySub.java\r\n    │&#160;&#160; │&#160;&#160;             └── resources\r\n    │&#160;&#160; ├── Processors\r\n    │&#160;&#160; │&#160;&#160; └── app\r\n    │&#160;&#160; │&#160;&#160;     ├── build.gradle\r\n    │&#160;&#160; │&#160;&#160;     └── src\r\n    │&#160;&#160; │&#160;&#160;         └── main\r\n    │&#160;&#160; │&#160;&#160;             ├── java\r\n    │&#160;&#160; │&#160;&#160;             │&#160;&#160; └── x86\r\n    │&#160;&#160; │&#160;&#160;             │&#160;&#160;     └── x86.java\r\n    │&#160;&#160; │&#160;&#160;             └── resources\r\n    │&#160;&#160; └── Utils\r\n    │&#160;&#160;     └── app\r\n    │&#160;&#160;         ├── build.gradle\r\n    │&#160;&#160;         └── src\r\n    │&#160;&#160;             └── main\r\n    │&#160;&#160;                 ├── java\r\n    │&#160;&#160;                 │&#160;&#160; └── Utils\r\n    │&#160;&#160;                 │&#160;&#160;     └── utils.java\r\n    │&#160;&#160;                 └── resources\r\n    ├── gradle\r\n    │&#160;&#160; └── wrapper\r\n    │&#160;&#160;     ├── gradle-wrapper.jar\r\n    │&#160;&#160;     └── gradle-wrapper.properties\r\n    ├── gradlew\r\n    ├── gradlew.bat\r\n    └── settings.gradle\r\n\r\n    \r\nMy settings.gradle looks\r\n\r\n\r\n    rootProject.name = &#39;dirctorySub&#39;\r\n    include(&#39;dirctorySub/Debug&#39;, &#39;dirctorySub/Framework&#39;, &#39;dirctorySub/Processors&#39;, &#39;dirctorySub/Utils&#39;)\r\n\r\nBut it throws : FAILURE: Build failed with an exception.\r\n\r\nI catch an error like this : \r\n\r\n```\r\n* What went wrong:\r\nA problem occurred configuring project &#39;:dirctorySub/Debug/app&#39;.\r\n&gt; The project name &#39;dirctorySub/Debug/app&#39; must not contain any of the following characters: [/, \\, :, &lt;, &gt;, &quot;, ?, *, |]. Set the &#39;rootProject.name&#39; or adjust the &#39;include&#39; statement (see https://docs.gradle.org/7.3.3/dsl/org.gradle.api.initialization.Settings.html#org.gradle.api.initialization.Settings:include(java.lang.String[]) for more details).\r\n ```\r\n","title":"Include Project Gradle","body":"<p>How can I <strong>include</strong> my <strong>Projects</strong> in gradle ?,</p>\n<p>I want to build <strong>Debug, Framework, Processors , Utils</strong></p>\n<p>I'm completely new to Gradle, but have tried the following in my build.gradle within MyProject.</p>\n<p>My Tree Directory :</p>\n<pre><code>.\n├── build.gradle\n├── dirctorySub\n│   ├── Debug\n│   │   └── app\n│   │       ├── build.gradle\n│   │       └── src\n│   │           └── main\n│   │               ├── java\n│   │               │   └── debug\n│   │               │       └── debug.java\n│   │               └── resources\n│   ├── Framework\n│   │   └── app\n│   │       ├── build.gradle\n│   │       └── src\n│   │           └── main\n│   │               ├── java\n│   │               │   └── dirctorySub\n│   │               │       └── dirctorySub.java\n│   │               └── resources\n│   ├── Processors\n│   │   └── app\n│   │       ├── build.gradle\n│   │       └── src\n│   │           └── main\n│   │               ├── java\n│   │               │   └── x86\n│   │               │       └── x86.java\n│   │               └── resources\n│   └── Utils\n│       └── app\n│           ├── build.gradle\n│           └── src\n│               └── main\n│                   ├── java\n│                   │   └── Utils\n│                   │       └── utils.java\n│                   └── resources\n├── gradle\n│   └── wrapper\n│       ├── gradle-wrapper.jar\n│       └── gradle-wrapper.properties\n├── gradlew\n├── gradlew.bat\n└── settings.gradle\n</code></pre>\n<p>My settings.gradle looks</p>\n<pre><code>rootProject.name = 'dirctorySub'\ninclude('dirctorySub/Debug', 'dirctorySub/Framework', 'dirctorySub/Processors', 'dirctorySub/Utils')\n</code></pre>\n<p>But it throws : FAILURE: Build failed with an exception.</p>\n<p>I catch an error like this :</p>\n<pre><code>* What went wrong:\nA problem occurred configuring project ':dirctorySub/Debug/app'.\n&gt; The project name 'dirctorySub/Debug/app' must not contain any of the following characters: [/, \\, :, &lt;, &gt;, &quot;, ?, *, |]. Set the 'rootProject.name' or adjust the 'include' statement (see https://docs.gradle.org/7.3.3/dsl/org.gradle.api.initialization.Settings.html#org.gradle.api.initialization.Settings:include(java.lang.String[]) for more details).\n</code></pre>\n"},{"tags":["java","opencv","edge-detection","canny-operator"],"comments":[{"owner":{"account_id":15472581,"reputation":43749,"user_id":11162165,"display_name":"nathancy"},"score":1,"creation_date":1573849611,"post_id":58884116,"comment_id":104035639,"body_markdown":"Canny is mainly used for *edge* detection by determining where the brightness of the image changes drastically. Its used to extract the structure of objects in an image. Essentially an edge in computer vision is a sudden pixel change. It may be due to your thresholds. I&#39;m getting correct results with `low=100` and `high=200`. Alternative approaches to detecting lines are to use `HoughLinesP` or to construct a horizontal kernel and use morphology","body":"Canny is mainly used for <i>edge</i> detection by determining where the brightness of the image changes drastically. Its used to extract the structure of objects in an image. Essentially an edge in computer vision is a sudden pixel change. It may be due to your thresholds. I&#39;m getting correct results with <code>low=100</code> and <code>high=200</code>. Alternative approaches to detecting lines are to use <code>HoughLinesP</code> or to construct a horizontal kernel and use morphology"},{"owner":{"account_id":13849397,"reputation":2840,"user_id":10005592,"display_name":"Stephen Meschke"},"score":1,"creation_date":1573849701,"post_id":58884116,"comment_id":104035675,"body_markdown":"I just tried this in Python and it worked. Previously, I have worked with OpenCV in Java, and I found that the Canny filter does not behave the same way in OpenCV/Python as it does in OpenCV/Java.","body":"I just tried this in Python and it worked. Previously, I have worked with OpenCV in Java, and I found that the Canny filter does not behave the same way in OpenCV/Python as it does in OpenCV/Java."},{"owner":{"account_id":1082221,"reputation":7484,"user_id":1078886,"accept_rate":52,"display_name":"try-catch-finally"},"score":0,"creation_date":1573850246,"post_id":58884116,"comment_id":104035878,"body_markdown":"Valuable comment Stephen. nathancy, I tried it with other thresholds before and now with your values - no success.","body":"Valuable comment Stephen. nathancy, I tried it with other thresholds before and now with your values - no success."},{"owner":{"account_id":10305075,"reputation":3615,"user_id":7602551,"display_name":"unlut"},"score":1,"creation_date":1573905676,"post_id":58884116,"comment_id":104046748,"body_markdown":"With my Java Opencv (version 3.3) I get similar outputs with both images, although they are not as good as your output for second image but definitely better than first one. With my c++ Opencv (version 4.0) my results are identical to yours. I wonder what version @StephenMeschke tested with. I will investigate further later.","body":"With my Java Opencv (version 3.3) I get similar outputs with both images, although they are not as good as your output for second image but definitely better than first one. With my c++ Opencv (version 4.0) my results are identical to yours. I wonder what version @StephenMeschke tested with. I will investigate further later."},{"owner":{"display_name":"user1196549"},"score":0,"creation_date":1574622657,"post_id":58884116,"comment_id":104288129,"body_markdown":"What is the signifiance of the high threshold `250 x 1.66`, which is out of the gray range ?","body":"What is the signifiance of the high threshold <code>250 x 1.66</code>, which is out of the gray range ?"},{"owner":{"account_id":1082221,"reputation":7484,"user_id":1078886,"accept_rate":52,"display_name":"try-catch-finally"},"score":0,"creation_date":1574627445,"post_id":58884116,"comment_id":104289400,"body_markdown":"@YvesDaoust, well spotted. This is an artifact from the original code that made it through to the MCVE. Though it makes no difference, even with 160 x 0.66 and 160 x 1.33 (160 is the average value) or a black and white image (threshold) image and 0, 255 Canny fails the same way.","body":"@YvesDaoust, well spotted. This is an artifact from the original code that made it through to the MCVE. Though it makes no difference, even with 160 x 0.66 and 160 x 1.33 (160 is the average value) or a black and white image (threshold) image and 0, 255 Canny fails the same way."},{"owner":{"display_name":"user1196549"},"score":0,"creation_date":1574630849,"post_id":58884116,"comment_id":104290252,"body_markdown":"And what&#39;s the effect of the low threshold ?","body":"And what&#39;s the effect of the low threshold ?"},{"owner":{"account_id":6907921,"reputation":327,"user_id":5304980,"display_name":"foureyedraven"},"score":0,"creation_date":1600991260,"post_id":58884116,"comment_id":113272117,"body_markdown":"I&#39;m currently exploring a similar issue for horizontal lines, and discovered through looking at a HLS conversion that there were some artifacts along the line that caused my expected edge to disappear. May be a cause for others with this issue","body":"I&#39;m currently exploring a similar issue for horizontal lines, and discovered through looking at a HLS conversion that there were some artifacts along the line that caused my expected edge to disappear. May be a cause for others with this issue"}],"answers":[{"tags":[],"owner":{"account_id":24122085,"reputation":1,"user_id":18091092,"display_name":"funky-phyllo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643723950,"creation_date":1643723950,"answer_id":70941827,"question_id":58884116,"body_markdown":"Try saving the image and then opening the image file directly.  It may simply be an issue with how the plotter is rendering the image.\r\n\r\nI had the same issue myself, but solved it.  I was viewing my edge image through a jupyter notebook, using matplotlib.  The 100% horizontal edges would not render when displayed inside the notebook.  But when I saved it to png and opened the image file directly, the horizontal edges were in fact there.","title":"Canny edge detection does not detect 100% horizontal/un-rotated lines","body":"<p>Try saving the image and then opening the image file directly.  It may simply be an issue with how the plotter is rendering the image.</p>\n<p>I had the same issue myself, but solved it.  I was viewing my edge image through a jupyter notebook, using matplotlib.  The 100% horizontal edges would not render when displayed inside the notebook.  But when I saved it to png and opened the image file directly, the horizontal edges were in fact there.</p>\n"}],"owner":{"account_id":1082221,"reputation":7484,"user_id":1078886,"accept_rate":52,"display_name":"try-catch-finally"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":555,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":1,"score":3,"last_activity_date":1643723950,"creation_date":1573849097,"question_id":58884116,"body_markdown":"Is the Canny edge detection supposed to **not** detect _pure, non-rotated_ horizontal lines?\r\n\r\nThese are the input images:\r\n\r\n**Left:** 100% horizontal (non-rotated) non-blurry lines&lt;br&gt;\r\n**Right:** the same image 1&#176; rotated\r\n\r\n[![Pure horizontal lines, input image][1]][1]\r\n[![Horizontal lines 1&#176; rotated, input image][2]][2]\r\n\r\nThe corresponding output &quot;edges&quot; images:\r\n\r\n[![Pure horizontal lines, output image][3]][3]\r\n[![Horizontal lines 1&#176; rotated, output image][4]][4]\r\n\r\n(Images scaled here 2x with no smoothing for better judging.)\r\n\r\nThe images were processed with thresholds low=250x0.66 and high=250x1.33 and kernel size k=3.\r\n\r\nWhile the ladder image generated quiet satisfying results, the former image does not.\r\n\r\nThe images were not further pre-processed at the moment, what you see is what&#39;s going into Canny.\r\n\r\nI created the first image as test data. It might be a constructed case, although such lines might occur in real world scenarios.\r\n\r\nMCVE:\r\n\r\n    public class q58884116 {\r\n    \tpublic static void main(String[] args) throws Exception {\r\n    \t\tSystem.load(new File(Paths.get(&quot;target&quot;, &quot;classes&quot;, &quot;libopencv_java412.so&quot;).toString()).getAbsolutePath());\r\n    \r\n    \t\tFile inFile = new File(args[0]);\r\n    \t\tFile outFile = new File(args[1]);\r\n    \r\n    \t\tMat imageColor = Imgcodecs.imread(inFile.getAbsolutePath(), Imgcodecs.IMREAD_COLOR);\r\n    \t\tMat patternProbeImage = new Mat();\r\n    \t\tImgproc.cvtColor(imageColor, patternProbeImage, Imgproc.COLOR_BGR2GRAY);\r\n    \r\n    \t\tMat edges = new Mat();\r\n    \t\t// Value determined from histogram in Gimp.\r\n    \t\tImgproc.Canny(patternProbeImage, edges, 250 * 0.66, 250 * 1.33, 3, true);\r\n    \r\n    \t\tImgcodecs.imwrite(outFile.getAbsolutePath(), edges);\r\n    \t}\r\n    }\r\n\r\nThe input image (unscaled): [input.png][5]\r\n\r\n- Compiled from Git\r\n- OpenCV 4.1.2\r\n- cmake 3.7.2\r\n- gcc 6.3.0\r\n- openjdk 1.8.0_232\r\n- Using the Java library.\r\n\r\nThe build steps:\r\n\r\n    $ git clone https://github.com/opencv/opencv.git\r\n    $ cd opencv/\r\n    $ git checkout 4.1.2\r\n    $ cd cmake/\r\n    $ cmake -DCMAKE_INSTALL_PREFIX=&quot;/opt/opencv&quot; ..\r\n    $ make -j4\r\n    $ make install\r\n\r\n----\r\n\r\nI must admit, I&#39;m not familiar with the theories behind Canny or even computer vision in general. I&#39;m just getting started with it. Although I can imagine this might be caused by the row of zeros of the Gy matrix used by the [Sobel function][wp-sobel] (which was mentioned in Canny function articles).\r\n\r\nIf this is indeed a limitation of Canny, what are usual approaches to handle such scenarios (in short)?\r\n\r\n----\r\n\r\nI approached this empirically: I&#39;ve created a white to black gradient image\r\nwith a black grating pattern on top of it. The grating shall represent the\r\nlines of the original test image on top of different backgrounds.\r\n\r\nThis is our input image:\r\n\r\n[![Gradient with grating (cropped preview)][6]][6]\r\n\r\n(Cropped and resized for prettier post, [download original][8].)\r\n\r\nThe MCVE is extended to generate edges for a variety of threshold ranges (not\r\nevery possible combination there is, but a fair amount):\r\n\r\n    for (int i = 0; i &lt; 255 - 50; i++) {\r\n    \tMat edges = new Mat();\r\n    \tImgproc.Canny(patternProbeImage, edges, i, i + 50, 3, true);\r\n    \r\n    \tImgcodecs.imwrite(getOutputFile(outFile, &quot;lb-0-&quot; + String.format(&quot;%03d&quot;, i)).getAbsolutePath(), edges);\r\n    }\r\n\r\nWe can then inspect the generated edges.\r\n\r\nWith this one liner a mosaic (sprite) of all images was generated for easier\r\ninspection:\r\n\r\n    $ convert gradient-grating.out.lb-0-*.png +append  gradient-grating.out.lb.png\r\n\r\nThis is the result:\r\n\r\n[![Edge image mosaic of the above input image][9]][9]\r\n\r\nAs one can see, Canny was unable to detect more and more edges on the minimum\r\nvalue side (top) with increasing lower thresholds. I expected this. Though on the maximum value side, Canny was _never_ able to detect edges, no matter what thresholds were given.\r\n\r\n\r\n\r\n  [wp-sobel]: https://en.wikipedia.org/wiki/Sobel_operator\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1MJOx.png\r\n  [2]: https://i.stack.imgur.com/ZDAYx.png\r\n  [3]: https://i.stack.imgur.com/qrigc.png\r\n  [4]: https://i.stack.imgur.com/r7cjv.png\r\n  [5]: https://i.stack.imgur.com/nSpFt.png\r\n  [6]: https://i.stack.imgur.com/ZggR2.png\r\n  [8]: https://i.stack.imgur.com/jilSB.png\r\n  [9]: https://i.stack.imgur.com/2tQGf.png","title":"Canny edge detection does not detect 100% horizontal/un-rotated lines","body":"<p>Is the Canny edge detection supposed to <strong>not</strong> detect <em>pure, non-rotated</em> horizontal lines?</p>\n\n<p>These are the input images:</p>\n\n<p><strong>Left:</strong> 100% horizontal (non-rotated) non-blurry lines<br>\n<strong>Right:</strong> the same image 1° rotated</p>\n\n<p><a href=\"https://i.stack.imgur.com/1MJOx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1MJOx.png\" alt=\"Pure horizontal lines, input image\"></a>\n<a href=\"https://i.stack.imgur.com/ZDAYx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZDAYx.png\" alt=\"Horizontal lines 1° rotated, input image\"></a></p>\n\n<p>The corresponding output \"edges\" images:</p>\n\n<p><a href=\"https://i.stack.imgur.com/qrigc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qrigc.png\" alt=\"Pure horizontal lines, output image\"></a>\n<a href=\"https://i.stack.imgur.com/r7cjv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/r7cjv.png\" alt=\"Horizontal lines 1° rotated, output image\"></a></p>\n\n<p>(Images scaled here 2x with no smoothing for better judging.)</p>\n\n<p>The images were processed with thresholds low=250x0.66 and high=250x1.33 and kernel size k=3.</p>\n\n<p>While the ladder image generated quiet satisfying results, the former image does not.</p>\n\n<p>The images were not further pre-processed at the moment, what you see is what's going into Canny.</p>\n\n<p>I created the first image as test data. It might be a constructed case, although such lines might occur in real world scenarios.</p>\n\n<p>MCVE:</p>\n\n<pre><code>public class q58884116 {\n    public static void main(String[] args) throws Exception {\n        System.load(new File(Paths.get(\"target\", \"classes\", \"libopencv_java412.so\").toString()).getAbsolutePath());\n\n        File inFile = new File(args[0]);\n        File outFile = new File(args[1]);\n\n        Mat imageColor = Imgcodecs.imread(inFile.getAbsolutePath(), Imgcodecs.IMREAD_COLOR);\n        Mat patternProbeImage = new Mat();\n        Imgproc.cvtColor(imageColor, patternProbeImage, Imgproc.COLOR_BGR2GRAY);\n\n        Mat edges = new Mat();\n        // Value determined from histogram in Gimp.\n        Imgproc.Canny(patternProbeImage, edges, 250 * 0.66, 250 * 1.33, 3, true);\n\n        Imgcodecs.imwrite(outFile.getAbsolutePath(), edges);\n    }\n}\n</code></pre>\n\n<p>The input image (unscaled): <a href=\"https://i.stack.imgur.com/nSpFt.png\" rel=\"nofollow noreferrer\">input.png</a></p>\n\n<ul>\n<li>Compiled from Git</li>\n<li>OpenCV 4.1.2</li>\n<li>cmake 3.7.2</li>\n<li>gcc 6.3.0</li>\n<li>openjdk 1.8.0_232</li>\n<li>Using the Java library.</li>\n</ul>\n\n<p>The build steps:</p>\n\n<pre><code>$ git clone https://github.com/opencv/opencv.git\n$ cd opencv/\n$ git checkout 4.1.2\n$ cd cmake/\n$ cmake -DCMAKE_INSTALL_PREFIX=\"/opt/opencv\" ..\n$ make -j4\n$ make install\n</code></pre>\n\n<hr>\n\n<p>I must admit, I'm not familiar with the theories behind Canny or even computer vision in general. I'm just getting started with it. Although I can imagine this might be caused by the row of zeros of the Gy matrix used by the <a href=\"https://en.wikipedia.org/wiki/Sobel_operator\" rel=\"nofollow noreferrer\">Sobel function</a> (which was mentioned in Canny function articles).</p>\n\n<p>If this is indeed a limitation of Canny, what are usual approaches to handle such scenarios (in short)?</p>\n\n<hr>\n\n<p>I approached this empirically: I've created a white to black gradient image\nwith a black grating pattern on top of it. The grating shall represent the\nlines of the original test image on top of different backgrounds.</p>\n\n<p>This is our input image:</p>\n\n<p><a href=\"https://i.stack.imgur.com/ZggR2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZggR2.png\" alt=\"Gradient with grating (cropped preview)\"></a></p>\n\n<p>(Cropped and resized for prettier post, <a href=\"https://i.stack.imgur.com/jilSB.png\" rel=\"nofollow noreferrer\">download original</a>.)</p>\n\n<p>The MCVE is extended to generate edges for a variety of threshold ranges (not\nevery possible combination there is, but a fair amount):</p>\n\n<pre><code>for (int i = 0; i &lt; 255 - 50; i++) {\n    Mat edges = new Mat();\n    Imgproc.Canny(patternProbeImage, edges, i, i + 50, 3, true);\n\n    Imgcodecs.imwrite(getOutputFile(outFile, \"lb-0-\" + String.format(\"%03d\", i)).getAbsolutePath(), edges);\n}\n</code></pre>\n\n<p>We can then inspect the generated edges.</p>\n\n<p>With this one liner a mosaic (sprite) of all images was generated for easier\ninspection:</p>\n\n<pre><code>$ convert gradient-grating.out.lb-0-*.png +append  gradient-grating.out.lb.png\n</code></pre>\n\n<p>This is the result:</p>\n\n<p><a href=\"https://i.stack.imgur.com/2tQGf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2tQGf.png\" alt=\"Edge image mosaic of the above input image\"></a></p>\n\n<p>As one can see, Canny was unable to detect more and more edges on the minimum\nvalue side (top) with increasing lower thresholds. I expected this. Though on the maximum value side, Canny was <em>never</em> able to detect edges, no matter what thresholds were given.</p>\n"},{"tags":["java","spring","email","encoding"],"answers":[{"tags":[],"owner":{"account_id":9596641,"reputation":873,"user_id":7125557,"display_name":"dimirsen Z"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1500669167,"creation_date":1500669167,"answer_id":45246294,"question_id":45196491,"body_markdown":"I had a similar issue with cyrillic filenames for download. The solution is to encode filename (rfc5987):\r\n\r\n    public static String rfc5987_encode(final String s) throws UnsupportedEncodingException {\r\n            final byte[] s_bytes = s.getBytes(&quot;UTF-8&quot;);\r\n            final int len = s_bytes.length;\r\n            final StringBuilder sb = new StringBuilder(len &lt;&lt; 1);\r\n            final char[] digits = {&#39;0&#39;,&#39;1&#39;,&#39;2&#39;,&#39;3&#39;,&#39;4&#39;,&#39;5&#39;,&#39;6&#39;,&#39;7&#39;,&#39;8&#39;,&#39;9&#39;,&#39;A&#39;,&#39;B&#39;,&#39;C&#39;,&#39;D&#39;,&#39;E&#39;,&#39;F&#39;};\r\n            final byte[] attr_char = {&#39;!&#39;,&#39;#&#39;,&#39;$&#39;,&#39;&amp;&#39;,&#39;+&#39;,&#39;-&#39;,&#39;.&#39;,&#39;0&#39;,&#39;1&#39;,&#39;2&#39;,&#39;3&#39;,&#39;4&#39;,&#39;5&#39;,&#39;6&#39;,&#39;7&#39;,&#39;8&#39;,&#39;9&#39;,           &#39;A&#39;,&#39;B&#39;,&#39;C&#39;,&#39;D&#39;,&#39;E&#39;,&#39;F&#39;,&#39;G&#39;,&#39;H&#39;,&#39;I&#39;,&#39;J&#39;,&#39;K&#39;,&#39;L&#39;,&#39;M&#39;,&#39;N&#39;,&#39;O&#39;,&#39;P&#39;,&#39;Q&#39;,&#39;R&#39;,&#39;S&#39;,&#39;T&#39;,&#39;U&#39;,&#39;V&#39;,&#39;W&#39;,&#39;X&#39;,&#39;Y&#39;,&#39;Z&#39;,&#39;^&#39;,&#39;_&#39;,&#39;`&#39;,                        &#39;a&#39;,&#39;b&#39;,&#39;c&#39;,&#39;d&#39;,&#39;e&#39;,&#39;f&#39;,&#39;g&#39;,&#39;h&#39;,&#39;i&#39;,&#39;j&#39;,&#39;k&#39;,&#39;l&#39;,&#39;m&#39;,&#39;n&#39;,&#39;o&#39;,&#39;p&#39;,&#39;q&#39;,&#39;r&#39;,&#39;s&#39;,&#39;t&#39;,&#39;u&#39;,&#39;v&#39;,&#39;w&#39;,&#39;x&#39;,&#39;y&#39;,&#39;z&#39;,&#39;|&#39;, &#39;~&#39;};\r\n            for (int i = 0; i &lt; len; ++i) {\r\n                final byte b = s_bytes[i];\r\n                if (Arrays.binarySearch(attr_char, b) &gt;= 0)\r\n                    sb.append((char) b);\r\n                else {\r\n                    sb.append(&#39;%&#39;);\r\n                    sb.append(digits[0x0f &amp; (b &gt;&gt;&gt; 4)]);\r\n                    sb.append(digits[b &amp; 0x0f]);\r\n                }\r\n            }\r\n     \r\n            return sb.toString();\r\n        }\r\n    \r\nand use it this way:\r\n\r\n    \r\n    private static final String CONTENT_DISP_PREFIX = &quot;attachment; filename=&quot;;\r\n    private static final String CONTENT_DISP_EXTRA_PREFIX = &quot;attachment; filename*=UTF-8&#39;&#39;&quot;;\r\n    private static final String USER_AGENT_FIREFOX = &quot;Firefox&quot;;\r\n    ...\r\n    if (!ua.contains(USER_AGENT_FIREFOX)) {\r\n                response.setHeader(CONTENT_DISP_HEADER, CONTENT_DISP_PREFIX + &quot;\\&quot;&quot; + encodedFileName + &quot;\\&quot;&quot;);\r\n            } else {\r\n                response.setHeader(CONTENT_DISP_HEADER, CONTENT_DISP_EXTRA_PREFIX  + encodedFileName );\r\n            }\r\n\r\nI found this solution here: http://outofrange.ru/2016/11/encode-non-ascii-filename-content-disposition/","title":"Spring MimeMessageHelper attachment filename encoding","body":"<p>I had a similar issue with cyrillic filenames for download. The solution is to encode filename (rfc5987):</p>\n\n<pre><code>public static String rfc5987_encode(final String s) throws UnsupportedEncodingException {\n        final byte[] s_bytes = s.getBytes(\"UTF-8\");\n        final int len = s_bytes.length;\n        final StringBuilder sb = new StringBuilder(len &lt;&lt; 1);\n        final char[] digits = {'0','1','2','3','4','5','6','7','8','9','A','B','C','D','E','F'};\n        final byte[] attr_char = {'!','#','$','&amp;','+','-','.','0','1','2','3','4','5','6','7','8','9',           'A','B','C','D','E','F','G','H','I','J','K','L','M','N','O','P','Q','R','S','T','U','V','W','X','Y','Z','^','_','`',                        'a','b','c','d','e','f','g','h','i','j','k','l','m','n','o','p','q','r','s','t','u','v','w','x','y','z','|', '~'};\n        for (int i = 0; i &lt; len; ++i) {\n            final byte b = s_bytes[i];\n            if (Arrays.binarySearch(attr_char, b) &gt;= 0)\n                sb.append((char) b);\n            else {\n                sb.append('%');\n                sb.append(digits[0x0f &amp; (b &gt;&gt;&gt; 4)]);\n                sb.append(digits[b &amp; 0x0f]);\n            }\n        }\n\n        return sb.toString();\n    }\n</code></pre>\n\n<p>and use it this way:</p>\n\n<pre><code>private static final String CONTENT_DISP_PREFIX = \"attachment; filename=\";\nprivate static final String CONTENT_DISP_EXTRA_PREFIX = \"attachment; filename*=UTF-8''\";\nprivate static final String USER_AGENT_FIREFOX = \"Firefox\";\n...\nif (!ua.contains(USER_AGENT_FIREFOX)) {\n            response.setHeader(CONTENT_DISP_HEADER, CONTENT_DISP_PREFIX + \"\\\"\" + encodedFileName + \"\\\"\");\n        } else {\n            response.setHeader(CONTENT_DISP_HEADER, CONTENT_DISP_EXTRA_PREFIX  + encodedFileName );\n        }\n</code></pre>\n\n<p>I found this solution here: <a href=\"http://outofrange.ru/2016/11/encode-non-ascii-filename-content-disposition/\" rel=\"nofollow noreferrer\">http://outofrange.ru/2016/11/encode-non-ascii-filename-content-disposition/</a></p>\n"},{"tags":[],"owner":{"account_id":1979597,"reputation":1881,"user_id":1776520,"accept_rate":50,"display_name":"wizawu"},"down_vote_count":1,"up_vote_count":15,"is_accepted":false,"score":14,"last_activity_date":1522573665,"creation_date":1522573665,"answer_id":49596504,"question_id":45196491,"body_markdown":"I&#39;ve solved the the problem with these lines:\r\n\r\n* `System.setProperty(&quot;mail.mime.splitlongparameters&quot;, &quot;false&quot;)`\r\n* `MimeMessageHelper helper = new MimeMessageHelper(message, true, &quot;UTF-8&quot;)`\r\n* `MimeUtility.encodeWord(attachmentFilename)`\r\n\r\nHere is the example code,\r\n\r\n    System.setProperty(&quot;mail.mime.splitlongparameters&quot;, &quot;false&quot;);\r\n    MimeMessage message = sender.createMimeMessage();\r\n    MimeMessageHelper helper = new MimeMessageHelper(message, true, &quot;UTF-8&quot;);\r\n    \r\n    // Your email content\r\n    helper.setFrom(&quot;...&quot;);\r\n    helper.setTo(&quot;...&quot;);\r\n    helper.setSubject(&quot;...&quot;);\r\n    helper.setText(&quot;...&quot;);\r\n    \r\n    helper.addAttachment(\r\n        MimeUtility.encodeWord(attachmentFilename),\r\n        attachmentContent\r\n    );\r\n","title":"Spring MimeMessageHelper attachment filename encoding","body":"<p>I've solved the the problem with these lines:</p>\n\n<ul>\n<li><code>System.setProperty(\"mail.mime.splitlongparameters\", \"false\")</code></li>\n<li><code>MimeMessageHelper helper = new MimeMessageHelper(message, true, \"UTF-8\")</code></li>\n<li><code>MimeUtility.encodeWord(attachmentFilename)</code></li>\n</ul>\n\n<p>Here is the example code,</p>\n\n<pre><code>System.setProperty(\"mail.mime.splitlongparameters\", \"false\");\nMimeMessage message = sender.createMimeMessage();\nMimeMessageHelper helper = new MimeMessageHelper(message, true, \"UTF-8\");\n\n// Your email content\nhelper.setFrom(\"...\");\nhelper.setTo(\"...\");\nhelper.setSubject(\"...\");\nhelper.setText(\"...\");\n\nhelper.addAttachment(\n    MimeUtility.encodeWord(attachmentFilename),\n    attachmentContent\n);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2149592,"reputation":1,"user_id":1906393,"display_name":"Sabhtarsha Kore"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1617726245,"creation_date":1617726245,"answer_id":66972594,"question_id":45196491,"body_markdown":"Had the same problem with Japanese file name and the following steps fixed it,\r\n\r\n```\r\nMimeMessageHelper helper = new MimeMessageHelper(mimeMessage,  MimeMessageHelper.MULTIPART_MODE_MIXED_RELATED, &quot;UTF-8&quot;);\r\n//IMP steps\r\nSystem.setProperty(&quot;mail.mime.splitlongparameters&quot;, &quot;false&quot;);\r\nattachedFileName = MimeUtility.encodeText(attachedFileName, &quot;UTF-8&quot;, &quot;Q&quot;);\r\n//\r\nhelper.addAttachment(attachedFileName, attachmentFile);\r\n\r\n```\r\nThe Mimeutility.encodetext without the Q option did not work nor did it work without setting the system.setproperty.\r\nThis tells the mimeutility to encode the string in a quoted-printable - Found something here - https://stackoverflow.com/a/21575089\r\n","title":"Spring MimeMessageHelper attachment filename encoding","body":"<p>Had the same problem with Japanese file name and the following steps fixed it,</p>\n<pre><code>MimeMessageHelper helper = new MimeMessageHelper(mimeMessage,  MimeMessageHelper.MULTIPART_MODE_MIXED_RELATED, &quot;UTF-8&quot;);\n//IMP steps\nSystem.setProperty(&quot;mail.mime.splitlongparameters&quot;, &quot;false&quot;);\nattachedFileName = MimeUtility.encodeText(attachedFileName, &quot;UTF-8&quot;, &quot;Q&quot;);\n//\nhelper.addAttachment(attachedFileName, attachmentFile);\n\n</code></pre>\n<p>The Mimeutility.encodetext without the Q option did not work nor did it work without setting the system.setproperty.\nThis tells the mimeutility to encode the string in a quoted-printable - Found something here - <a href=\"https://stackoverflow.com/a/21575089\">https://stackoverflow.com/a/21575089</a></p>\n"},{"tags":[],"owner":{"account_id":2657838,"reputation":1407,"user_id":2298162,"display_name":"ognjenkl"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643723499,"creation_date":1643723499,"answer_id":70941694,"question_id":45196491,"body_markdown":"Add this line before MimeMessageHelper instantiation:\r\n\r\n    System.setProperty(&quot;mail.mime.splitlongparameters&quot;, &quot;false&quot;);\r\n\r\n","title":"Spring MimeMessageHelper attachment filename encoding","body":"<p>Add this line before MimeMessageHelper instantiation:</p>\n<pre><code>System.setProperty(&quot;mail.mime.splitlongparameters&quot;, &quot;false&quot;);\n</code></pre>\n"}],"owner":{"account_id":101108,"reputation":13957,"user_id":272180,"accept_rate":62,"display_name":"yglodt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6835,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":4,"score":5,"last_activity_date":1643723499,"creation_date":1500482877,"question_id":45196491,"body_markdown":"I am sending mail with `MimeMessageHelper` in my Spring Boot application.\r\n\r\nHow can I tell it to encode the filename, which contains the letter **`&#224;`**, so that it would display correctly?\r\n\r\nSetting the encoding to `UTF-8` when constructing `MimeMessageHelper` does not seem to help. In Gmail, the resulting attachment is displayed as \r\n\r\n    =?UTF-8?Q?ex-comp_s.=C3=A0_r.l.?= =?UTF-8?Q?-201\\&quot;; \tfilename*1=\\&quot;7-07-12_=E2=80=95_2017-07-18","title":"Spring MimeMessageHelper attachment filename encoding","body":"<p>I am sending mail with <code>MimeMessageHelper</code> in my Spring Boot application.</p>\n\n<p>How can I tell it to encode the filename, which contains the letter <strong><code>à</code></strong>, so that it would display correctly?</p>\n\n<p>Setting the encoding to <code>UTF-8</code> when constructing <code>MimeMessageHelper</code> does not seem to help. In Gmail, the resulting attachment is displayed as </p>\n\n<pre><code>=?UTF-8?Q?ex-comp_s.=C3=A0_r.l.?= =?UTF-8?Q?-201\\\";     filename*1=\\\"7-07-12_=E2=80=95_2017-07-18\n</code></pre>\n"},{"tags":["java","overriding","overloading","javac"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1643723876,"post_id":70941677,"comment_id":125411462,"body_markdown":"&quot;Once confirmed&quot; &lt;--- but `cal(int)` does not exist in `Student`... There is only the varargs method in `Student`.","body":"&quot;Once confirmed&quot; &lt;--- but <code>cal(int)</code> does not exist in <code>Student</code>... There is only the varargs method in <code>Student</code>."},{"owner":{"account_id":18085254,"reputation":43,"user_id":13146358,"display_name":"Karan Guleria"},"score":0,"creation_date":1643723995,"post_id":70941677,"comment_id":125411514,"body_markdown":"@Sweeper The var-args methods can accept 10 as a value.","body":"@Sweeper The var-args methods can accept 10 as a value."},{"owner":{"account_id":19452218,"reputation":204,"user_id":14228343,"display_name":"Aditya Arora"},"score":0,"creation_date":1643724063,"post_id":70941677,"comment_id":125411541,"body_markdown":"What type of datatype is variable `ref`?","body":"What type of datatype is variable <code>ref</code>?"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1643724272,"post_id":70941677,"comment_id":125411621,"body_markdown":"But the `cal(int...)` method is not `cal(int)`. So, the compiler selects the method `cal(int...)` and this is the method which will be invoked at runtime. Don’t make your life so hard. Just add `@Override` to `void cal(int x)` and the compiler will immediately generate an error telling you that this method *does not override* any method.","body":"But the <code>cal(int...)</code> method is not <code>cal(int)</code>. So, the compiler selects the method <code>cal(int...)</code> and this is the method which will be invoked at runtime. Don’t make your life so hard. Just add <code>@Override</code> to <code>void cal(int x)</code> and the compiler will immediately generate an error telling you that this method <i>does not override</i> any method."},{"owner":{"account_id":18085254,"reputation":43,"user_id":13146358,"display_name":"Karan Guleria"},"score":0,"creation_date":1643724780,"post_id":70941677,"comment_id":125411843,"body_markdown":"@Holger I&#39;ve got it. Thank you for your help.","body":"@Holger I&#39;ve got it. Thank you for your help."}],"owner":{"account_id":18085254,"reputation":43,"user_id":13146358,"display_name":"Karan Guleria"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643723432,"creation_date":1643723432,"question_id":70941677,"body_markdown":"    class Student \r\n    {\r\n         void cal(int ...x)\r\n         {\r\n             System.out.println(&quot;Parent&quot;);\r\n         }\r\n    \r\n    }\r\n    \r\n    \r\n    class HelloWorld extends Student \r\n    {\r\n    \r\n        void cal(int x)\r\n      {\r\n        System.out.println(&quot;Child&quot;);\r\n      }\r\n\r\n        public static void main(String... args)\r\n      {\r\n            Student ref = new HelloWorld();\r\n            ref.cal(10);\r\n      }\r\n\r\n    }\r\n\r\nOUTPUT: **Parent**\r\n\r\nWhile compiling, the compiler checks whether cal(int) is present in Student class or not. Once confirmed, when running the JVM tries to match the cal(int) based on the runtime object i.e. HelloWorld in this case. So it should match cal(int) with cal(int x) and the output should be &quot;Child&quot;.\r\n\r\nSo then why is the output &quot;Parent&quot;\r\n\r\nAbove logic derived from: https://stackoverflow.com/a/70903492/13146358\r\n\r\n","title":"How does var-arg affect overloading?","body":"<pre><code>class Student \n{\n     void cal(int ...x)\n     {\n         System.out.println(&quot;Parent&quot;);\n     }\n\n}\n\n\nclass HelloWorld extends Student \n{\n\n    void cal(int x)\n  {\n    System.out.println(&quot;Child&quot;);\n  }\n\n    public static void main(String... args)\n  {\n        Student ref = new HelloWorld();\n        ref.cal(10);\n  }\n\n}\n</code></pre>\n<p>OUTPUT: <strong>Parent</strong></p>\n<p>While compiling, the compiler checks whether cal(int) is present in Student class or not. Once confirmed, when running the JVM tries to match the cal(int) based on the runtime object i.e. HelloWorld in this case. So it should match cal(int) with cal(int x) and the output should be &quot;Child&quot;.</p>\n<p>So then why is the output &quot;Parent&quot;</p>\n<p>Above logic derived from: <a href=\"https://stackoverflow.com/a/70903492/13146358\">https://stackoverflow.com/a/70903492/13146358</a></p>\n"},{"tags":["java","rest","oauth-2.0","salesforce","apex"],"comments":[{"owner":{"account_id":2213331,"reputation":111,"user_id":1954576,"display_name":"Marco Pietersen"},"score":1,"creation_date":1599157378,"post_id":60216898,"comment_id":112694829,"body_markdown":"Ever worked out what the issue was?","body":"Ever worked out what the issue was?"}],"answers":[{"tags":[],"owner":{"account_id":288036,"reputation":574,"user_id":588214,"display_name":"wimix"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1603143916,"creation_date":1603143916,"answer_id":64435476,"question_id":60216898,"body_markdown":"With a REST service based on Jersey and a client using HttpURLConnection I can observer the same IllegalArgumentException.\r\n\r\nThe scenario is as this: \r\n\r\nThe REST service defines a resource function\r\n\r\n    @GET\r\n    public void throw401() {\r\n      throw new javax.ws.rs.NotAuthorizedException(&quot;&quot;);\r\n    }\r\n\r\nThis resource is invoked by the client as\r\n\r\n    HttpURLConncection c = (HttpURLConnection)url.openConnection();\r\n    int status = c.getResponseCode(); // throws IllegalArgumentException: invalid start or end\r\n\r\n\r\nThe solution for me was to change the resource to:\r\n\r\n    @GET\r\n    public void throw401() {\r\n      throw new javax.ws.rs.NotAuthorizedException(Response.status(Response.UNAUTHORIZED));\r\n    }\r\n\r\nI think - did not proof - the constructor NotAuthorizedException(String) generates an WWW-Authenitcate header without an authentication schema. This causes an IllegalArgumentExcption to be thrown when the HttpURLConnection tries to parse it.\r\nThe constructor NotAuthorizedException(Resonse) just sends a status 401 without a WWW-Authentication header.\r\n","title":"Error java.lang.IllegalArgumentException: invalid start or end","body":"<p>With a REST service based on Jersey and a client using HttpURLConnection I can observer the same IllegalArgumentException.</p>\n<p>The scenario is as this:</p>\n<p>The REST service defines a resource function</p>\n<pre><code>@GET\npublic void throw401() {\n  throw new javax.ws.rs.NotAuthorizedException(&quot;&quot;);\n}\n</code></pre>\n<p>This resource is invoked by the client as</p>\n<pre><code>HttpURLConncection c = (HttpURLConnection)url.openConnection();\nint status = c.getResponseCode(); // throws IllegalArgumentException: invalid start or end\n</code></pre>\n<p>The solution for me was to change the resource to:</p>\n<pre><code>@GET\npublic void throw401() {\n  throw new javax.ws.rs.NotAuthorizedException(Response.status(Response.UNAUTHORIZED));\n}\n</code></pre>\n<p>I think - did not proof - the constructor NotAuthorizedException(String) generates an WWW-Authenitcate header without an authentication schema. This causes an IllegalArgumentExcption to be thrown when the HttpURLConnection tries to parse it.\nThe constructor NotAuthorizedException(Resonse) just sends a status 401 without a WWW-Authentication header.</p>\n"}],"owner":{"account_id":3194826,"reputation":2107,"user_id":2698249,"accept_rate":91,"display_name":"trx"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2651,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1643723288,"creation_date":1581630122,"question_id":60216898,"body_markdown":"I am trying to test the Rest API Callout from Salesforce that has OAuth authentication  through the Apex code and running in to the below error\r\n`Line: 12, Column: 1\r\nSystem.UnexpectedException: java.lang.IllegalArgumentException: invalid start or end`\r\n\r\n    public with sharing class RetrieveD365Data {\r\n        //@future (callout=true)\r\n        public void getD365Data() {\r\n            RetrieveAzureToken atz = new RetrieveAzureToken();\r\n            String bearer = atz.getAzureData();\r\n            Http http = new Http();\r\n            HttpRequest req1 = new HttpRequest();\r\n            req1.setEndpoint(&#39;https://dev-xyz.com/data/Customers&#39;);\r\n            req1.setMethod(&#39;GET&#39;);\r\n            req1.setHeader(&#39;Authorization&#39;,&#39;Bearer &#39;+bearer);\r\n            HttpResponse res1 = http.send(req1);           //Error is thrown in this line\r\n            System.debug(&#39;Response Body=========&#39; + res1.getBody());\r\n        }\r\n    }\r\n\r\nWhere the `RetrieveAzureToken` class is like below and this works as expected and I am able to get back the response back with the bearer token \r\n\r\n    global class RetrieveAzureToken {\r\n    \r\n        private final String clientId = &#39;xxxxxxxxx&#39;;\r\n        private final String clientSecret = &#39;xxxxxxxxxx&#39;;\r\n        \r\n        public String getAzureData()\r\n        {\r\n            String reqbody = &#39;grant_type=client_credentials&amp;client_id=&#39;+clientId+&#39;&amp;client_secret=&#39;+clientSecret;\r\n            Http h = new Http();\r\n            HttpRequest req = new HttpRequest();\r\n            req.setBody(reqbody);\r\n            req.setMethod(&#39;POST&#39;);\r\n            req.setEndpoint(&#39;https://login.microsoftonline.com/tenant/oauth2/token&#39;);\r\n            HttpResponse res = h.send(req);\r\n            deserializeResponse resp1 = (deserializeResponse)JSON.deserialize(res.getbody(),deserializeResponse.class);\r\n            system.debug(&#39;Token from Azure :&#39; + resp1.access_token);  \r\n            return  resp1.access_token;\r\n        }\r\n                    \r\n        public class deserializeResponse\r\n        {\r\n            public String token_type;\r\n            public String expires_in;\r\n            public String ext_expires_in;\r\n            public String expires_on;\r\n            public String not_before;\r\n            public String resource;\r\n            public String access_token;\r\n        }\r\n    }\r\nPlease let help me figure what I am missing here.","title":"Error java.lang.IllegalArgumentException: invalid start or end","body":"<p>I am trying to test the Rest API Callout from Salesforce that has OAuth authentication  through the Apex code and running in to the below error\n<code>Line: 12, Column: 1\nSystem.UnexpectedException: java.lang.IllegalArgumentException: invalid start or end</code></p>\n\n<pre><code>public with sharing class RetrieveD365Data {\n    //@future (callout=true)\n    public void getD365Data() {\n        RetrieveAzureToken atz = new RetrieveAzureToken();\n        String bearer = atz.getAzureData();\n        Http http = new Http();\n        HttpRequest req1 = new HttpRequest();\n        req1.setEndpoint('https://dev-xyz.com/data/Customers');\n        req1.setMethod('GET');\n        req1.setHeader('Authorization','Bearer '+bearer);\n        HttpResponse res1 = http.send(req1);           //Error is thrown in this line\n        System.debug('Response Body=========' + res1.getBody());\n    }\n}\n</code></pre>\n\n<p>Where the <code>RetrieveAzureToken</code> class is like below and this works as expected and I am able to get back the response back with the bearer token </p>\n\n<pre><code>global class RetrieveAzureToken {\n\n    private final String clientId = 'xxxxxxxxx';\n    private final String clientSecret = 'xxxxxxxxxx';\n\n    public String getAzureData()\n    {\n        String reqbody = 'grant_type=client_credentials&amp;client_id='+clientId+'&amp;client_secret='+clientSecret;\n        Http h = new Http();\n        HttpRequest req = new HttpRequest();\n        req.setBody(reqbody);\n        req.setMethod('POST');\n        req.setEndpoint('https://login.microsoftonline.com/tenant/oauth2/token');\n        HttpResponse res = h.send(req);\n        deserializeResponse resp1 = (deserializeResponse)JSON.deserialize(res.getbody(),deserializeResponse.class);\n        system.debug('Token from Azure :' + resp1.access_token);  \n        return  resp1.access_token;\n    }\n\n    public class deserializeResponse\n    {\n        public String token_type;\n        public String expires_in;\n        public String ext_expires_in;\n        public String expires_on;\n        public String not_before;\n        public String resource;\n        public String access_token;\n    }\n}\n</code></pre>\n\n<p>Please let help me figure what I am missing here.</p>\n"},{"tags":["java","selenium","webdriver","bdd","pageobjects"],"comments":[{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":1,"creation_date":1628532162,"post_id":68716276,"comment_id":121441020,"body_markdown":"StepsSearch is creating it&#39;s own driver variable, but it&#39;s unitialized: public WebDriver driver;  Seems like you&#39;d want to pass in a reference to the one created in &quot;Hooks&quot;... public StepsSearch (WebDriver _driver) {....}","body":"StepsSearch is creating it&#39;s own driver variable, but it&#39;s unitialized: public WebDriver driver;  Seems like you&#39;d want to pass in a reference to the one created in &quot;Hooks&quot;... public StepsSearch (WebDriver _driver) {....}"},{"owner":{"account_id":4087108,"reputation":491,"user_id":3356141,"accept_rate":88,"display_name":"user3356141"},"score":0,"creation_date":1628533174,"post_id":68716276,"comment_id":121441382,"body_markdown":"@pcalkins Ok, I think I understand what you mean, but the solution is unclear... Changing public class StepsSearch {     to     public class StepSearch (Webdriver driver) doesn&#39;t seem to be working","body":"@pcalkins Ok, I think I understand what you mean, but the solution is unclear... Changing public class StepsSearch {     to     public class StepSearch (Webdriver driver) doesn&#39;t seem to be working"},{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1628539412,"post_id":68716276,"comment_id":121443514,"body_markdown":"don&#39;t change class definition, add a constructor to the class that takes a reference to webdriver as an argument to pass in... (having said that I&#39;m not familiar with your framework so maybe this isn&#39;t the correct place to do this?)","body":"don&#39;t change class definition, add a constructor to the class that takes a reference to webdriver as an argument to pass in... (having said that I&#39;m not familiar with your framework so maybe this isn&#39;t the correct place to do this?)"},{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":0,"creation_date":1628541520,"post_id":68716276,"comment_id":121444237,"body_markdown":"You need to &quot;inject&quot; webdriver object to your step definition. For classic cucumber syntax [here](http://www.thinkcode.se/blog/2017/04/01/sharing-state-between-steps-in-cucumberjvm-using-picocontainer) you can find more details and for lambda syntax you can find details [here](https://www.webelement.click/en/cucumber_java_8_selenium_pageobject_picocontainer_tutorial).","body":"You need to &quot;inject&quot; webdriver object to your step definition. For classic cucumber syntax <a href=\"http://www.thinkcode.se/blog/2017/04/01/sharing-state-between-steps-in-cucumberjvm-using-picocontainer\" rel=\"nofollow noreferrer\">here</a> you can find more details and for lambda syntax you can find details <a href=\"https://www.webelement.click/en/cucumber_java_8_selenium_pageobject_picocontainer_tutorial\" rel=\"nofollow noreferrer\">here</a>."}],"answers":[{"tags":[],"owner":{"account_id":11660809,"reputation":13,"user_id":8539189,"display_name":"B. Karatepe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643722628,"creation_date":1643722628,"answer_id":70941490,"question_id":68716276,"body_markdown":"Just extend Hooks class to StepsSearch and remove Webdriver declaration in StepsSearch","title":"BDD PageObject steps always null?","body":"<p>Just extend Hooks class to StepsSearch and remove Webdriver declaration in StepsSearch</p>\n"}],"owner":{"account_id":4087108,"reputation":491,"user_id":3356141,"accept_rate":88,"display_name":"user3356141"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":479,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643722628,"creation_date":1628530329,"question_id":68716276,"body_markdown":"It&#39;s been a very long time I&#39;ve used Selenium webdriver. I know how I want my project to be structurized, but I&#39;m getting NullPointer Exceptions, &quot;because &quot;driver&quot; is null&quot;. \r\n\r\n\r\nConsider the following code for the STEPS DEFINITION:\r\n\r\n    package Steps;\r\n\r\n    import PageObjects.ResultsPage;\r\n    import io.cucumber.java.en.Given;\r\n    import io.cucumber.java.en.Then;\r\n    import io.cucumber.java.en.When;\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.chrome.ChromeDriver;\r\n    import PageObjects.SearchPage;\r\n\r\n    public class StepsSearch {\r\n\r\n    WebDriver driver;\r\n    SearchPage Search = new SearchPage(driver);\r\n    ResultsPage Results = new ResultsPage(driver);\r\n\r\n\r\n    @Given(&quot;I go to Google.com&quot;)\r\n    public void iGoToGoogleDotCom() {\r\n        driver.manage().window().maximize();\r\n        driver.navigate().to(&quot;https://www.google.com&quot;);\r\n    }\r\n\r\n    @Then(&quot;I see that I&#39;m on the search page&quot;)\r\n    public void iSeeThatIMOnTheSearchPage() throws InterruptedException {\r\n        Search.clickAgreedButton();\r\n        Search.seeLogo();\r\n    \r\n    And some more blabla\r\n    }\r\n\r\n\r\n\r\nwith the PAGEOBJECTS for Search looking like this:\r\n\r\n    package PageObjects;\r\n\r\n    import org.openqa.selenium.By;\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.support.ui.ExpectedConditions;\r\n    import org.openqa.selenium.support.ui.WebDriverWait;\r\n    import static Helpers.Constants.setWaitingTime.fast;\r\n\r\n    public class SearchPage {\r\n    public WebDriver driver;\r\n\r\n    public SearchPage(WebDriver driver){\r\n        this.driver = driver;\r\n    }\r\n\r\n    //Here are some Elements I use to perform actions\r\n    By searchfield = By.xpath(&quot;//input[@name=&#39;q&#39;]&quot;);\r\n    By logo = By.xpath(&quot;//img[@class=&#39;lnXdpd&#39;]&quot;);\r\n    By searchButtonInAutoFill = By.xpath(&quot;(//input[@name=&#39;btnK&#39;])[1]&quot;);\r\n    By searchButtonBig = By.xpath(&quot;(//input[@name=&#39;btnK&#39;])[2]&quot;);\r\n    By AgreedButton = By.xpath(&quot;(//div[@class=&#39;jyfHyd&#39;])[2]&quot;);\r\n    By cookieStatement = By.id(&quot;CXQnmb&quot;);\r\n    By header = By.id(&quot;gb&quot;);\r\n\r\n    //Following are methods, waits, clicks, and all other actions\r\n    public void enterSearchQuery(){\r\n    WebDriverWait wait = new WebDriverWait(driver, fast);\r\n    wait.until(ExpectedConditions.elementToBeClickable(searchfield));\r\n    driver.findElement(searchfield).sendKeys(&quot;Monkey&quot;);\r\n    }\r\n    And some other stuff }\r\n\r\n\r\nWith the HOOKS looking like this:\r\npackage Steps;\r\n\r\n    import io.cucumber.java.After;\r\n    import io.cucumber.java.Before;\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.chrome.ChromeDriver;\r\n\r\n    public class Hooks {\r\n\r\n    public WebDriver driver;\r\n\r\n    @Before\r\n    public void browserSetup(){\r\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;D:\\\\Chromedriver\\\\chromedriver.exe&quot;);\r\n        driver = new ChromeDriver();\r\n    }\r\n\r\n    @After\r\n    public void tearDown(){\r\n        driver.close();\r\n        driver.quit();\r\n    }\r\n\r\n\r\n    }\r\n\r\n\r\n\r\nNow, when I change (in the Stepdefintion)\r\n \r\n     WebDriver driver; \r\nto\r\n\r\n     Webdriver driver = new ChromeDriver;\r\n\r\nit&#39;s working &quot;fine&quot;, in that two instances of chromedriver get opened (as one is started in the Hooks). When I keep it like this, I get the above mentioned \r\n\r\n     java.lang.NullPointerException: Cannot invoke &quot;org.openqa.selenium.WebDriver.manage()&quot; \r\n     because &quot;this.driver&quot; is null\r\n\r\n\r\nI&#39;m not getting it. I think I&#39;m doing something wrong with the Webdriver driver calls, but I&#39;ve hit dead ends for the last couple of hours. I hope you can help me?\r\n","title":"BDD PageObject steps always null?","body":"<p>It's been a very long time I've used Selenium webdriver. I know how I want my project to be structurized, but I'm getting NullPointer Exceptions, &quot;because &quot;driver&quot; is null&quot;.</p>\n<p>Consider the following code for the STEPS DEFINITION:</p>\n<pre><code>package Steps;\n\nimport PageObjects.ResultsPage;\nimport io.cucumber.java.en.Given;\nimport io.cucumber.java.en.Then;\nimport io.cucumber.java.en.When;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.chrome.ChromeDriver;\nimport PageObjects.SearchPage;\n\npublic class StepsSearch {\n\nWebDriver driver;\nSearchPage Search = new SearchPage(driver);\nResultsPage Results = new ResultsPage(driver);\n\n\n@Given(&quot;I go to Google.com&quot;)\npublic void iGoToGoogleDotCom() {\n    driver.manage().window().maximize();\n    driver.navigate().to(&quot;https://www.google.com&quot;);\n}\n\n@Then(&quot;I see that I'm on the search page&quot;)\npublic void iSeeThatIMOnTheSearchPage() throws InterruptedException {\n    Search.clickAgreedButton();\n    Search.seeLogo();\n\nAnd some more blabla\n}\n</code></pre>\n<p>with the PAGEOBJECTS for Search looking like this:</p>\n<pre><code>package PageObjects;\n\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.support.ui.ExpectedConditions;\nimport org.openqa.selenium.support.ui.WebDriverWait;\nimport static Helpers.Constants.setWaitingTime.fast;\n\npublic class SearchPage {\npublic WebDriver driver;\n\npublic SearchPage(WebDriver driver){\n    this.driver = driver;\n}\n\n//Here are some Elements I use to perform actions\nBy searchfield = By.xpath(&quot;//input[@name='q']&quot;);\nBy logo = By.xpath(&quot;//img[@class='lnXdpd']&quot;);\nBy searchButtonInAutoFill = By.xpath(&quot;(//input[@name='btnK'])[1]&quot;);\nBy searchButtonBig = By.xpath(&quot;(//input[@name='btnK'])[2]&quot;);\nBy AgreedButton = By.xpath(&quot;(//div[@class='jyfHyd'])[2]&quot;);\nBy cookieStatement = By.id(&quot;CXQnmb&quot;);\nBy header = By.id(&quot;gb&quot;);\n\n//Following are methods, waits, clicks, and all other actions\npublic void enterSearchQuery(){\nWebDriverWait wait = new WebDriverWait(driver, fast);\nwait.until(ExpectedConditions.elementToBeClickable(searchfield));\ndriver.findElement(searchfield).sendKeys(&quot;Monkey&quot;);\n}\nAnd some other stuff }\n</code></pre>\n<p>With the HOOKS looking like this:\npackage Steps;</p>\n<pre><code>import io.cucumber.java.After;\nimport io.cucumber.java.Before;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.chrome.ChromeDriver;\n\npublic class Hooks {\n\npublic WebDriver driver;\n\n@Before\npublic void browserSetup(){\n    System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;D:\\\\Chromedriver\\\\chromedriver.exe&quot;);\n    driver = new ChromeDriver();\n}\n\n@After\npublic void tearDown(){\n    driver.close();\n    driver.quit();\n}\n\n\n}\n</code></pre>\n<p>Now, when I change (in the Stepdefintion)</p>\n<pre><code> WebDriver driver; \n</code></pre>\n<p>to</p>\n<pre><code> Webdriver driver = new ChromeDriver;\n</code></pre>\n<p>it's working &quot;fine&quot;, in that two instances of chromedriver get opened (as one is started in the Hooks). When I keep it like this, I get the above mentioned</p>\n<pre><code> java.lang.NullPointerException: Cannot invoke &quot;org.openqa.selenium.WebDriver.manage()&quot; \n because &quot;this.driver&quot; is null\n</code></pre>\n<p>I'm not getting it. I think I'm doing something wrong with the Webdriver driver calls, but I've hit dead ends for the last couple of hours. I hope you can help me?</p>\n"},{"tags":["java","spring","jpa","criteria","hibernate-criteria"],"answers":[{"tags":[],"owner":{"account_id":7023209,"reputation":980,"user_id":5381672,"display_name":"Sridhar Patnaik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1613622091,"creation_date":1613622091,"answer_id":66253571,"question_id":66251942,"body_markdown":"If you want to filter nested object. You can write \r\n```\r\nitemRoot.get(&quot;NestedTableName&quot;).get(&quot;nestedfieldname&quot;)\r\n\r\nIn your case - itemRoot.get(&quot;B&quot;).get(&quot;type&quot;)\r\n```","title":"Java - JPA-Specification: how to create criteria/specification on a field that belongs to a nested object?","body":"<p>If you want to filter nested object. You can write</p>\n<pre><code>itemRoot.get(&quot;NestedTableName&quot;).get(&quot;nestedfieldname&quot;)\n\nIn your case - itemRoot.get(&quot;B&quot;).get(&quot;type&quot;)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24121897,"reputation":1,"user_id":18090933,"display_name":"prashant rawat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643722351,"creation_date":1643722044,"answer_id":70941343,"question_id":66251942,"body_markdown":"itemRoot.get(&quot;Name of the nested object field in the root class&quot;).get(&quot;nestedfieldname&quot;);\r\n\r\nExample:\r\ncb.equal(root.get(&quot;b&quot;).get(&quot;type&quot;),value)\r\n\r\nIn your case - itemRoot.get(&quot;b&quot;).get(&quot;type&quot;);\r\n\r\n","title":"Java - JPA-Specification: how to create criteria/specification on a field that belongs to a nested object?","body":"<p>itemRoot.get(&quot;Name of the nested object field in the root class&quot;).get(&quot;nestedfieldname&quot;);</p>\n<p>Example:\ncb.equal(root.get(&quot;b&quot;).get(&quot;type&quot;),value)</p>\n<p>In your case - itemRoot.get(&quot;b&quot;).get(&quot;type&quot;);</p>\n"}],"owner":{"account_id":873703,"reputation":2551,"user_id":923988,"accept_rate":88,"display_name":"VictorGram"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1838,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":66253571,"answer_count":2,"score":0,"last_activity_date":1643722351,"creation_date":1613608438,"question_id":66251942,"body_markdown":"I am using jdk 1.8 , hibernate and jpa in my project. And using specification/criteria to build my search query. \r\n\r\nI have a **class A** ( **an hibernate entity**) which has **class B as an attribute**. So, roughly, it looks like :\r\n\r\n    @Entity\r\n    class A {\r\n         Long id;  \r\n         String comment;\r\n\r\n         @OneToOne\r\n         B b;\r\n    }\r\n\r\n**and...**\r\n\r\n    @Entity\r\n    class B {\r\n        \r\n         Long id;\r\n         String type;\r\n    }\r\n\r\n   \r\n     \r\n\r\nMy **repository** class looks like (roughly):\r\n\r\n    public interface ARepository extends PagingAndSortingRepository&lt;A, Integer&gt;,\r\n                                                                        JpaSpecificationExecutor&lt;A&gt; {\r\n\r\n}\r\n\r\nMost of the simple JPA queries are working as expected. Even the specification/criteria based directly on Class A is working. However, I need to create a **dynamic query** and that should be executed under &quot;findAll&quot; method of PagingAndSortingRepository class. **This query should be equivalent to**\r\n\r\n    select * from A a left join B b on a.b_id = b.id \r\n       where b.type=&#39;final&#39; and a.comment=&#39;blah&#39;;\r\n    \r\nI created a similar logic as above **in a specification** like :\r\n\r\n\r\n    public Specification&lt;A&gt; getSpecification() {\r\n\r\n    return (itemRoot, query, criteriaBuilder) -&gt; {\r\n        .........\r\n        List&lt;Predicate&gt; partialQueries = new ArrayList&lt;&gt;();\r\n\r\n        partialQueries.add(criteriaBuilder.equal(itemRoot.get(&quot;b.type&quot;), &quot;final&quot;));\r\n        partialQueries.add(criteriaBuilder.equal(itemRoot.get(&quot;comment&quot;), &quot;blah&quot;));\r\n\r\n        //Other queries to be added...\r\n\r\n        return   criteriaBuilder.and(partialQueries.toArray(new Predicate[0]));\r\n      };\r\n    }\r\n\r\n**And getting error :** \r\n\r\n    Unable to locate Attribute  with the the given name [b.type] on this ManagedType [com.something.domain.A]\r\n\r\n**Any insight on how to create criteria/specification on a field that belongs to a nested object?**","title":"Java - JPA-Specification: how to create criteria/specification on a field that belongs to a nested object?","body":"<p>I am using jdk 1.8 , hibernate and jpa in my project. And using specification/criteria to build my search query.</p>\n<p>I have a <strong>class A</strong> ( <strong>an hibernate entity</strong>) which has <strong>class B as an attribute</strong>. So, roughly, it looks like :</p>\n<pre><code>@Entity\nclass A {\n     Long id;  \n     String comment;\n\n     @OneToOne\n     B b;\n}\n</code></pre>\n<p><strong>and...</strong></p>\n<pre><code>@Entity\nclass B {\n    \n     Long id;\n     String type;\n}\n\n\n \n</code></pre>\n<p>My <strong>repository</strong> class looks like (roughly):</p>\n<pre><code>public interface ARepository extends PagingAndSortingRepository&lt;A, Integer&gt;,\n                                                                    JpaSpecificationExecutor&lt;A&gt; {\n</code></pre>\n<p>}</p>\n<p>Most of the simple JPA queries are working as expected. Even the specification/criteria based directly on Class A is working. However, I need to create a <strong>dynamic query</strong> and that should be executed under &quot;findAll&quot; method of PagingAndSortingRepository class. <strong>This query should be equivalent to</strong></p>\n<pre><code>select * from A a left join B b on a.b_id = b.id \n   where b.type='final' and a.comment='blah';\n</code></pre>\n<p>I created a similar logic as above <strong>in a specification</strong> like :</p>\n<pre><code>public Specification&lt;A&gt; getSpecification() {\n\nreturn (itemRoot, query, criteriaBuilder) -&gt; {\n    .........\n    List&lt;Predicate&gt; partialQueries = new ArrayList&lt;&gt;();\n\n    partialQueries.add(criteriaBuilder.equal(itemRoot.get(&quot;b.type&quot;), &quot;final&quot;));\n    partialQueries.add(criteriaBuilder.equal(itemRoot.get(&quot;comment&quot;), &quot;blah&quot;));\n\n    //Other queries to be added...\n\n    return   criteriaBuilder.and(partialQueries.toArray(new Predicate[0]));\n  };\n}\n</code></pre>\n<p><strong>And getting error :</strong></p>\n<pre><code>Unable to locate Attribute  with the the given name [b.type] on this ManagedType [com.something.domain.A]\n</code></pre>\n<p><strong>Any insight on how to create criteria/specification on a field that belongs to a nested object?</strong></p>\n"},{"tags":["java","android","leakcanary"],"owner":{"account_id":8512900,"reputation":21,"user_id":6382394,"display_name":"hamidbayati74"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":249,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1643722333,"creation_date":1643655705,"question_id":70931443,"body_markdown":"I&#39;m trying to destroy my dialog fragment but after `onDestroy` is called leakcanary notification is appeared and this log print for me.\r\n\r\nI take this error with `BottomSheetDialogFragment` too.\r\n\r\nI&#39;m setting all object nullable and destroy all of them in `onDestroyView`\r\n```\r\n┬───\r\n│ GC Root: Thread object\r\n│\r\n├─ com.google.maps.api.android.lib6.gmm6.vector.n instance\r\n│    Leaking: NO (ac↓ is not leaking)\r\n│    Thread name: &#39;RenderDrive&#39;\r\n│    ↓ n.e\r\n├─ com.google.maps.api.android.lib6.gmm6.vector.p instance\r\n│    Leaking: NO (ac↓ is not leaking)\r\n│    ↓ p.f\r\n├─ com.google.maps.api.android.lib6.gmm6.api.ac instance\r\n│    Leaking: NO (RecyclerView↓ is not leaking and View attached)\r\n│    View is part of a window view hierarchy\r\n│    View.mAttachInfo is not null (view attached)\r\n│    View.mWindowAttachCount = 1\r\n│    mContext instance of app.delivery.client.AndroidApplication\r\n│    ↓ View.mAttachInfo\r\n├─ android.view.View$AttachInfo instance\r\n│    Leaking: NO (RecyclerView↓ is not leaking)\r\n│    ↓ View$AttachInfo.mScrollContainers\r\n├─ java.util.ArrayList instance\r\n│    Leaking: NO (RecyclerView↓ is not leaking)\r\n│    ↓ ArrayList[1]\r\n├─ androidx.recyclerview.widget.RecyclerView instance\r\n│    Leaking: NO (MainFragment↓ is not leaking and View attached)\r\n│    View is part of a window view hierarchy\r\n│    View.mAttachInfo is not null (view attached)\r\n│    View.mID = R.id.tabLayout\r\n│    View.mWindowAttachCount = 1\r\n│    mContext instance of app.delivery.client.features.MainActivity.View.\r\n│    MainActivity with mDestroyed = false\r\n│    ↓ RecyclerView.mAdapter\r\n├─ app.delivery.client.features.Main.Main.Adapter.TabAdapter instance\r\n│    Leaking: NO (MainFragment↓ is not leaking)\r\n│    ↓ TabAdapter.iSelectTab\r\n├─ app.delivery.client.features.Main.Main.View.MainFragment instance\r\n│    Leaking: NO (ProfileFragment↓ is not leaking and Fragment#mFragmentManager\r\n│    is not null)\r\n│    parentActivity instance of app.delivery.client.features.MainActivity.View.\r\n│    MainActivity with mDestroyed = false\r\n│    ↓ MainFragment.profileFragment\r\n├─ app.delivery.client.features.Main.Main.Profile.View.ProfileFragment instance\r\n│    Leaking: NO (Fragment#mFragmentManager is not null)\r\n│    parentActivity instance of app.delivery.client.features.MainActivity.View.\r\n│    MainActivity with mDestroyed = false\r\n│    ↓ ProfileFragment.addBalanceDialog\r\n│                      ~~~~~~~~~~~~~~~~\r\n╰→ app.delivery.client.features.Main.AddBalance.View.AddBalanceDialog instance\r\n​     Leaking: YES (ObjectWatcher was watching this because app.delivery.client.\r\n​     features.Main.AddBalance.View.AddBalanceDialog received\r\n​     Fragment#onDestroy() callback and Fragment#mFragmentManager is null)\r\n​     Retaining 3.3 kB in 101 objects\r\n​     key = 9f9e28af-1fdf-4810-9940-26735e1b2d1d\r\n​     watchDurationMillis = 39126\r\n​     retainedDurationMillis = 34125\r\n\r\n\r\n","title":"How to fix Dialog Fragment memory leak?","body":"<p>I'm trying to destroy my dialog fragment but after <code>onDestroy</code> is called leakcanary notification is appeared and this log print for me.</p>\n<p>I take this error with <code>BottomSheetDialogFragment</code> too.</p>\n<p>I'm setting all object nullable and destroy all of them in <code>onDestroyView</code></p>\n<pre><code>┬───\n│ GC Root: Thread object\n│\n├─ com.google.maps.api.android.lib6.gmm6.vector.n instance\n│    Leaking: NO (ac↓ is not leaking)\n│    Thread name: 'RenderDrive'\n│    ↓ n.e\n├─ com.google.maps.api.android.lib6.gmm6.vector.p instance\n│    Leaking: NO (ac↓ is not leaking)\n│    ↓ p.f\n├─ com.google.maps.api.android.lib6.gmm6.api.ac instance\n│    Leaking: NO (RecyclerView↓ is not leaking and View attached)\n│    View is part of a window view hierarchy\n│    View.mAttachInfo is not null (view attached)\n│    View.mWindowAttachCount = 1\n│    mContext instance of app.delivery.client.AndroidApplication\n│    ↓ View.mAttachInfo\n├─ android.view.View$AttachInfo instance\n│    Leaking: NO (RecyclerView↓ is not leaking)\n│    ↓ View$AttachInfo.mScrollContainers\n├─ java.util.ArrayList instance\n│    Leaking: NO (RecyclerView↓ is not leaking)\n│    ↓ ArrayList[1]\n├─ androidx.recyclerview.widget.RecyclerView instance\n│    Leaking: NO (MainFragment↓ is not leaking and View attached)\n│    View is part of a window view hierarchy\n│    View.mAttachInfo is not null (view attached)\n│    View.mID = R.id.tabLayout\n│    View.mWindowAttachCount = 1\n│    mContext instance of app.delivery.client.features.MainActivity.View.\n│    MainActivity with mDestroyed = false\n│    ↓ RecyclerView.mAdapter\n├─ app.delivery.client.features.Main.Main.Adapter.TabAdapter instance\n│    Leaking: NO (MainFragment↓ is not leaking)\n│    ↓ TabAdapter.iSelectTab\n├─ app.delivery.client.features.Main.Main.View.MainFragment instance\n│    Leaking: NO (ProfileFragment↓ is not leaking and Fragment#mFragmentManager\n│    is not null)\n│    parentActivity instance of app.delivery.client.features.MainActivity.View.\n│    MainActivity with mDestroyed = false\n│    ↓ MainFragment.profileFragment\n├─ app.delivery.client.features.Main.Main.Profile.View.ProfileFragment instance\n│    Leaking: NO (Fragment#mFragmentManager is not null)\n│    parentActivity instance of app.delivery.client.features.MainActivity.View.\n│    MainActivity with mDestroyed = false\n│    ↓ ProfileFragment.addBalanceDialog\n│                      ~~~~~~~~~~~~~~~~\n╰→ app.delivery.client.features.Main.AddBalance.View.AddBalanceDialog instance\n​     Leaking: YES (ObjectWatcher was watching this because app.delivery.client.\n​     features.Main.AddBalance.View.AddBalanceDialog received\n​     Fragment#onDestroy() callback and Fragment#mFragmentManager is null)\n​     Retaining 3.3 kB in 101 objects\n​     key = 9f9e28af-1fdf-4810-9940-26735e1b2d1d\n​     watchDurationMillis = 39126\n​     retainedDurationMillis = 34125\n\n\n</code></pre>\n"},{"tags":["java","spring","multithreading","asynchronous"],"answers":[{"tags":[],"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1643722194,"creation_date":1635328696,"answer_id":69736534,"question_id":69736311,"body_markdown":"To make it clear: The REST endpoint consists of two calls - `processUser` and `processUserSecond`. You want to get the result of the `processUser`, return its result and fire the `processUserSecond` asynchronously without waiting for its result.\r\n\r\nRemember, in that case, the first call must be synchronous since you wait for its result to be used in the subsequent call. The latter can be asynchronous.\r\n\r\n```\r\n@PostMapping(&quot;/user&quot;)\r\npublic ResponseEntity&lt;?&gt; processUser(@Valid @RequestBody UserRequestDto request,\r\n                                            @RequestHeader(&quot;Authorization&quot;) String token) \r\n{\r\n   // synchronous, waiting for the response to be used\r\n   UserResponseDto response = userService.processUser(request, token);\r\n\r\n   // asynchronous, fired without waiting for the response\r\n   CompletableFuture.runAsync(() -&gt; userService.processUserSecond(response, token));\r\n       \r\n   // return the result of the first (an only) synchronous call \r\n   return new ResponseEntity&lt;&gt;(response, HttpStatus.ACCEPTED);\r\n}\r\n```","title":"How to make Java Rest API to return response after first half of processing, then continue the second half after return response?","body":"<p>To make it clear: The REST endpoint consists of two calls - <code>processUser</code> and <code>processUserSecond</code>. You want to get the result of the <code>processUser</code>, return its result and fire the <code>processUserSecond</code> asynchronously without waiting for its result.</p>\n<p>Remember, in that case, the first call must be synchronous since you wait for its result to be used in the subsequent call. The latter can be asynchronous.</p>\n<pre><code>@PostMapping(&quot;/user&quot;)\npublic ResponseEntity&lt;?&gt; processUser(@Valid @RequestBody UserRequestDto request,\n                                            @RequestHeader(&quot;Authorization&quot;) String token) \n{\n   // synchronous, waiting for the response to be used\n   UserResponseDto response = userService.processUser(request, token);\n\n   // asynchronous, fired without waiting for the response\n   CompletableFuture.runAsync(() -&gt; userService.processUserSecond(response, token));\n       \n   // return the result of the first (an only) synchronous call \n   return new ResponseEntity&lt;&gt;(response, HttpStatus.ACCEPTED);\n}\n</code></pre>\n"}],"owner":{"account_id":10500252,"reputation":878,"user_id":7739171,"accept_rate":88,"display_name":"Sivvie Lim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3344,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":69736534,"answer_count":1,"score":0,"last_activity_date":1643722194,"creation_date":1635327872,"question_id":69736311,"body_markdown":"I have an API endpoint that&#39;s using Spring Boot. \r\nWhat this endpoint does is it calls two other API endpoints and processes their response.\r\n\r\nThe first half of the process calls one API endpoint, get the response and return this response with a 202 Accepted to the surface. \r\n\r\nAfter the 202 has been returned, the background is undergoing the second half of the process. Which is taking the response from the first API calls and further processing it. \r\n\r\nI tried with `Executor` or `CompletableFuture` but both of them stopped after its return 202 and will not run the second half or they wait until the second half to complete only return the 202. \r\n\r\nIs this possible to achieve or am I looking into wrong design?\r\n\r\nHere is some sample code:\r\n\r\n```\r\n@PostMapping(&quot;/user&quot;)\r\npublic ResponseEntity&lt;?&gt; processUser(@Valid @RequestBody UserRequestDto request,\r\n                                            @RequestHeader(&quot;Authorization&quot;) String token) throws Exception {\r\n    CompletableFuture&lt;UserResponseDto&gt; response = CompletableFuture.supplyAsync(() -&gt;\r\n            userService.processUser(request, token));\r\n        \r\n    userService.processUserSecond(response, token);\r\n\r\n    return new ResponseEntity&lt;&gt;(response, HttpStatus.ACCEPTED);\r\n}\r\n```\r\n","title":"How to make Java Rest API to return response after first half of processing, then continue the second half after return response?","body":"<p>I have an API endpoint that's using Spring Boot.\nWhat this endpoint does is it calls two other API endpoints and processes their response.</p>\n<p>The first half of the process calls one API endpoint, get the response and return this response with a 202 Accepted to the surface.</p>\n<p>After the 202 has been returned, the background is undergoing the second half of the process. Which is taking the response from the first API calls and further processing it.</p>\n<p>I tried with <code>Executor</code> or <code>CompletableFuture</code> but both of them stopped after its return 202 and will not run the second half or they wait until the second half to complete only return the 202.</p>\n<p>Is this possible to achieve or am I looking into wrong design?</p>\n<p>Here is some sample code:</p>\n<pre><code>@PostMapping(&quot;/user&quot;)\npublic ResponseEntity&lt;?&gt; processUser(@Valid @RequestBody UserRequestDto request,\n                                            @RequestHeader(&quot;Authorization&quot;) String token) throws Exception {\n    CompletableFuture&lt;UserResponseDto&gt; response = CompletableFuture.supplyAsync(() -&gt;\n            userService.processUser(request, token));\n        \n    userService.processUserSecond(response, token);\n\n    return new ResponseEntity&lt;&gt;(response, HttpStatus.ACCEPTED);\n}\n</code></pre>\n"},{"tags":["java","maven","continuous-integration","bamboo","git-flow"],"answers":[{"tags":[],"owner":{"account_id":10450190,"reputation":98,"user_id":7704072,"display_name":"Simon"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1489578715,"creation_date":1489421130,"answer_id":42768227,"question_id":42697258,"body_markdown":"I&#39;ve been facing similar issues. The only workaround I found was to stop using &quot;linked repositories&quot;. Don&#39;t know if you&#39;re familiar with this but you can either use a &quot;linked repository&quot; which is available to all Build Plans or you can create one specifically for your Plan.\r\nTo solve my issue, I had to add a repository of type &quot;Git&quot; (even though we use GitHub). This allowed me to leave the &quot;branch&quot; field empty, thereby fixing my issue.\r\n\r\n*EDIT*\r\nIn fact I had to specify a &quot;wrong&quot; branch name in this field to get it working...\r\n\r\nHope this helps.\r\nSimon","title":"Bamboo build plan on branches but not on develop (aka conditional build)","body":"<p>I've been facing similar issues. The only workaround I found was to stop using \"linked repositories\". Don't know if you're familiar with this but you can either use a \"linked repository\" which is available to all Build Plans or you can create one specifically for your Plan.\nTo solve my issue, I had to add a repository of type \"Git\" (even though we use GitHub). This allowed me to leave the \"branch\" field empty, thereby fixing my issue.</p>\n\n<p><em>EDIT</em>\nIn fact I had to specify a \"wrong\" branch name in this field to get it working...</p>\n\n<p>Hope this helps.\nSimon</p>\n"},{"tags":[],"owner":{"account_id":2413471,"reputation":105,"user_id":2108067,"display_name":"isaac-fisher"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1489650589,"creation_date":1489650589,"answer_id":42828132,"question_id":42697258,"body_markdown":"Could you make a change to the regex in the first two build plans to not be execute if it contains the string &quot;develop&quot;?\r\n\r\nsomething similar to this negative lookahead:  `^((?!develop).)*$`\r\n\r\n","title":"Bamboo build plan on branches but not on develop (aka conditional build)","body":"<p>Could you make a change to the regex in the first two build plans to not be execute if it contains the string \"develop\"?</p>\n\n<p>something similar to this negative lookahead:  <code>^((?!develop).)*$</code></p>\n"},{"tags":[],"owner":{"account_id":7363499,"reputation":27092,"user_id":5606016,"accept_rate":88,"display_name":"A_Di-Matteo"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1490088441,"creation_date":1490088086,"answer_id":42922850,"question_id":42697258,"body_markdown":"It is possible to have a build plan in Bamboo defined for branch &quot;*types*&quot; and not linked to other branches by default. Hence, a Bamboo plan configuration which will only apply to dynamic branches, with no default branch to run upon.\r\n\r\nThe main misunderstanding comes from the following points:\r\n\r\n - In the &quot;Repositories&quot; tab of a Plan Configuration, you would probably have a &quot;BitBucket / Stash&quot; repository, where you would select your repository **and** also a branch, you have to, it&#39;s a dropdown box with a mandatory default value. That&#39;s the main issue here. This option obliges you to have a build plan already defined for an existing branch (e.g. `develop`), while you actually would like to have it for dynamic branches (e.g. a feature branch not yet created).\r\n - Then, in the &quot;Branches&quot; tab, under the &quot;Automatic Branch Management&quot; section, you can indeed select a branching strategy according to a regex, to suit dynamic branches (e.g. the `(?=(feature.*|bugfix.*)).*$` I mentioned above), the build plan would be cloned accordingly, but the main issue is that the whole build plan will still also run on the default branch of the default repository, something you often don&#39;t want.\r\n - Still, in the &quot;Branches&quot; tab you can read that &quot;*Plan branches allow you to run builds across different branches in **your source repository** using the same plan configuration.*&quot;. Note the bold: the branching strategy is applied to branches in the whole repository, **not** only branches which were created from the default branch you defined in the Repositories entry, but to any branch in the repository.\r\n - That&#39;s the turning point: you can hence define a new branch, parallel to `master` and `develop`, let&#39;s call it `bamboo-management-branch`, you can even prevent its deletion or changes via Bitbucket, then use this branch as default branch of the default repository entry in the initial plan configuration. That&#39;s it. Now, you have a branch that nobody will use within the team, a build plan which will never run, **but** will be cloned according to your branch strategy on dynamic branches **within the repository**.\r\n\r\nThe option suggested [above](https://stackoverflow.com/a/42768227/5606016), to use a &quot;Git&quot; and not a &quot;Bitbucket / Stash&quot; repository is also perfect, since there the &quot;branch&quot; option is not mandatory, is an open text field (and not a dropdown list), hence you can type a non existing branch name there as workaround (note: if you leave it empty, it will point to `master` by default, as per [official documentation](https://confluence.atlassian.com/bamboo/git-289277007.html).\r\n\r\nHere is the forced branch name you need to provide for an existing branch in a &quot;Bitbucket / Stash&quot; repository entry:\r\n[![enter image description here][1]][1]\r\n\r\nAs you can see, I created a dummy `ci-branch` to make it happy, it will not be used by the dev team, it&#39;s an additional branch on top of gitflow branches, but it only serves the CI managements. \r\n\r\nThen, the branches strategy can be applied as usual:\r\n[![enter image description here][2]][2]\r\n\r\nAgain, clarifying that it&#39;s the default repository the important part, not the default branch. Branches can be created anywhere in that repository and not only from the default branch. Builds will be cloned as long as the regex will be happy.\r\n\r\nFinally, here is the additional option to use a pure &quot;Git&quot; repository entry and not the &quot;Bitbucket / Stash&quot;:\r\n[![enter image description here][3]][3]\r\n\r\nAs you can see, the branch entry here is optional, which also suits our needs, although you may miss some nice automatic Bamboo-Bitbucket integration then (that&#39;s why, although this approach is clean, a dummy branch in a bitbucket entry sounds still reasonable).\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/rIX5j.png\r\n  [2]: https://i.stack.imgur.com/aaHfq.png\r\n  [3]: https://i.stack.imgur.com/lT12i.png","title":"Bamboo build plan on branches but not on develop (aka conditional build)","body":"<p>It is possible to have a build plan in Bamboo defined for branch \"<em>types</em>\" and not linked to other branches by default. Hence, a Bamboo plan configuration which will only apply to dynamic branches, with no default branch to run upon.</p>\n\n<p>The main misunderstanding comes from the following points:</p>\n\n<ul>\n<li>In the \"Repositories\" tab of a Plan Configuration, you would probably have a \"BitBucket / Stash\" repository, where you would select your repository <strong>and</strong> also a branch, you have to, it's a dropdown box with a mandatory default value. That's the main issue here. This option obliges you to have a build plan already defined for an existing branch (e.g. <code>develop</code>), while you actually would like to have it for dynamic branches (e.g. a feature branch not yet created).</li>\n<li>Then, in the \"Branches\" tab, under the \"Automatic Branch Management\" section, you can indeed select a branching strategy according to a regex, to suit dynamic branches (e.g. the <code>(?=(feature.*|bugfix.*)).*$</code> I mentioned above), the build plan would be cloned accordingly, but the main issue is that the whole build plan will still also run on the default branch of the default repository, something you often don't want.</li>\n<li>Still, in the \"Branches\" tab you can read that \"<em>Plan branches allow you to run builds across different branches in <strong>your source repository</strong> using the same plan configuration.</em>\". Note the bold: the branching strategy is applied to branches in the whole repository, <strong>not</strong> only branches which were created from the default branch you defined in the Repositories entry, but to any branch in the repository.</li>\n<li>That's the turning point: you can hence define a new branch, parallel to <code>master</code> and <code>develop</code>, let's call it <code>bamboo-management-branch</code>, you can even prevent its deletion or changes via Bitbucket, then use this branch as default branch of the default repository entry in the initial plan configuration. That's it. Now, you have a branch that nobody will use within the team, a build plan which will never run, <strong>but</strong> will be cloned according to your branch strategy on dynamic branches <strong>within the repository</strong>.</li>\n</ul>\n\n<p>The option suggested <a href=\"https://stackoverflow.com/a/42768227/5606016\">above</a>, to use a \"Git\" and not a \"Bitbucket / Stash\" repository is also perfect, since there the \"branch\" option is not mandatory, is an open text field (and not a dropdown list), hence you can type a non existing branch name there as workaround (note: if you leave it empty, it will point to <code>master</code> by default, as per <a href=\"https://confluence.atlassian.com/bamboo/git-289277007.html\" rel=\"noreferrer\">official documentation</a>.</p>\n\n<p>Here is the forced branch name you need to provide for an existing branch in a \"Bitbucket / Stash\" repository entry:\n<a href=\"https://i.stack.imgur.com/rIX5j.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/rIX5j.png\" alt=\"enter image description here\"></a></p>\n\n<p>As you can see, I created a dummy <code>ci-branch</code> to make it happy, it will not be used by the dev team, it's an additional branch on top of gitflow branches, but it only serves the CI managements. </p>\n\n<p>Then, the branches strategy can be applied as usual:\n<a href=\"https://i.stack.imgur.com/aaHfq.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/aaHfq.png\" alt=\"enter image description here\"></a></p>\n\n<p>Again, clarifying that it's the default repository the important part, not the default branch. Branches can be created anywhere in that repository and not only from the default branch. Builds will be cloned as long as the regex will be happy.</p>\n\n<p>Finally, here is the additional option to use a pure \"Git\" repository entry and not the \"Bitbucket / Stash\":\n<a href=\"https://i.stack.imgur.com/lT12i.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/lT12i.png\" alt=\"enter image description here\"></a></p>\n\n<p>As you can see, the branch entry here is optional, which also suits our needs, although you may miss some nice automatic Bamboo-Bitbucket integration then (that's why, although this approach is clean, a dummy branch in a bitbucket entry sounds still reasonable).</p>\n"},{"tags":[],"owner":{"account_id":178753,"reputation":1370,"user_id":410939,"display_name":"Alex"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643722182,"creation_date":1643722182,"answer_id":70941366,"question_id":42697258,"body_markdown":"I wanted to leave this here and note that nowadays there&#39;s the [conditional task][1] which can be configured to run only on certain branches.\r\n\r\n  [1]: https://confluence.atlassian.com/bamkb/conditional-tasks-in-bamboo-1077907046.html","title":"Bamboo build plan on branches but not on develop (aka conditional build)","body":"<p>I wanted to leave this here and note that nowadays there's the <a href=\"https://confluence.atlassian.com/bamkb/conditional-tasks-in-bamboo-1077907046.html\" rel=\"nofollow noreferrer\">conditional task</a> which can be configured to run only on certain branches.</p>\n"}],"owner":{"account_id":7363499,"reputation":27092,"user_id":5606016,"accept_rate":88,"display_name":"A_Di-Matteo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9561,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":42768227,"answer_count":4,"score":2,"last_activity_date":1643722182,"creation_date":1489067793,"question_id":42697258,"body_markdown":"This is an attempt to implement a conditional build across branches, impossible by default because of [BAM-11257](https://jira.atlassian.com/browse/BAM-11257), open since 2012, still pending.\r\n\r\n**Context**:\r\n\r\n - Bamboo 5.10.3 \r\n - Gitflow branching strategy applied\r\n - We would like to have a certain behavior on feature branches, a different behavior on release and hotfix branches, and a third different behavior on the `develop` branch\r\n\r\n**Implemented (not working) approach**:\r\n\r\n - Three different build plan\r\n - The first provides a regex in the &quot;Branches&quot; tab of the build plan (&quot;Create plan branches for matching new branches) to only match feature and bugfix branches (`(?=(feature.*|bugfix.*)).*$`). Then it provides the desired behavior in its stages and jobs\r\n - The second one as above configured for release and hotfix branches (`(?=(hotfix.*|release.*)).*$`), then with its own behavior in stages\r\n - The third has the &quot;Do not create plan branches&quot; in its &quot;Branches&quot; control, that is, no branching, only for `develop`.\r\n\r\nThis works fine, each branch has its own build plan based on the desired behavior. However, when merging any branch into `develop`, the three build plan start in parallel, because the three of them have `develop` in their &quot;Repositories&quot; as original branch entry. \r\n\r\n**Question**: how could this side effect be avoided? How could we specify a build plan for certain branch types only and not also for the original branch (in this case `develop`)?\r\n\r\n----------------------------------\r\n\r\nI understand Bamboo needs an origin from which cloning new build plan for its branches according to a certain strategy (the regex), but how can we block it to run the build plan for the original branch as well? Or, can we define a build plan for a branch *type* independently than its origin and based on a dynamic name (e.g. `feature-something`, `feature-bob`)?\r\n\r\n(On this last point: in &quot;Repository&quot; we can specify a branch as origin, but that&#39;s a static value, we cannot put a regex there, which would fix the overall issue, I suppose)\r\n\r\n","title":"Bamboo build plan on branches but not on develop (aka conditional build)","body":"<p>This is an attempt to implement a conditional build across branches, impossible by default because of <a href=\"https://jira.atlassian.com/browse/BAM-11257\" rel=\"nofollow noreferrer\">BAM-11257</a>, open since 2012, still pending.</p>\n\n<p><strong>Context</strong>:</p>\n\n<ul>\n<li>Bamboo 5.10.3 </li>\n<li>Gitflow branching strategy applied</li>\n<li>We would like to have a certain behavior on feature branches, a different behavior on release and hotfix branches, and a third different behavior on the <code>develop</code> branch</li>\n</ul>\n\n<p><strong>Implemented (not working) approach</strong>:</p>\n\n<ul>\n<li>Three different build plan</li>\n<li>The first provides a regex in the \"Branches\" tab of the build plan (\"Create plan branches for matching new branches) to only match feature and bugfix branches (<code>(?=(feature.*|bugfix.*)).*$</code>). Then it provides the desired behavior in its stages and jobs</li>\n<li>The second one as above configured for release and hotfix branches (<code>(?=(hotfix.*|release.*)).*$</code>), then with its own behavior in stages</li>\n<li>The third has the \"Do not create plan branches\" in its \"Branches\" control, that is, no branching, only for <code>develop</code>.</li>\n</ul>\n\n<p>This works fine, each branch has its own build plan based on the desired behavior. However, when merging any branch into <code>develop</code>, the three build plan start in parallel, because the three of them have <code>develop</code> in their \"Repositories\" as original branch entry. </p>\n\n<p><strong>Question</strong>: how could this side effect be avoided? How could we specify a build plan for certain branch types only and not also for the original branch (in this case <code>develop</code>)?</p>\n\n<hr>\n\n<p>I understand Bamboo needs an origin from which cloning new build plan for its branches according to a certain strategy (the regex), but how can we block it to run the build plan for the original branch as well? Or, can we define a build plan for a branch <em>type</em> independently than its origin and based on a dynamic name (e.g. <code>feature-something</code>, <code>feature-bob</code>)?</p>\n\n<p>(On this last point: in \"Repository\" we can specify a branch as origin, but that's a static value, we cannot put a regex there, which would fix the overall issue, I suppose)</p>\n"},{"tags":["java","apache-kafka","rabbitmq","spring-cloud-stream","spring-rabbit"],"comments":[{"owner":{"account_id":480617,"reputation":2495,"user_id":893952,"accept_rate":57,"display_name":"Harry Coder"},"score":1,"creation_date":1643676900,"post_id":70934432,"comment_id":125399268,"body_markdown":"I guess it is possible, but I won&#232;t suggest you to use 2 differents tools that do the same job. It like to have a redondant not in your architecture.","body":"I guess it is possible, but I won&#232;t suggest you to use 2 differents tools that do the same job. It like to have a redondant not in your architecture."}],"answers":[{"tags":[],"owner":{"account_id":445335,"reputation":5970,"user_id":837717,"display_name":"Oleg Zhurakousky"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1643722070,"creation_date":1643722070,"answer_id":70941346,"question_id":70934432,"body_markdown":"Yes it is possible. This is what we call a multi-binder scenario and is one of the core features specifically to support the use case you are describing. \r\nHere is where you can find more information - https://docs.spring.io/spring-cloud-stream/docs/3.2.1/reference/html/spring-cloud-stream.html#multiple-binders \r\nAlso, here is an example that actually provides configuration that uses Kafka and Rabbit. While example is centered around CloudEvent, you can ignore it and strictly concentrate on configuration related to Rabbit and Kafka binders - https://github.com/spring-cloud/spring-cloud-function/tree/main/spring-cloud-function-samples/function-sample-cloudevent-stream\r\n\r\nFeel free to ask follow up questions once you get familiar with that. ","title":"Java - Is it Possible to Use Spring Cloud Stream Kafka and RabbitMQ for the Same Application","body":"<p>Yes it is possible. This is what we call a multi-binder scenario and is one of the core features specifically to support the use case you are describing.\nHere is where you can find more information - <a href=\"https://docs.spring.io/spring-cloud-stream/docs/3.2.1/reference/html/spring-cloud-stream.html#multiple-binders\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-cloud-stream/docs/3.2.1/reference/html/spring-cloud-stream.html#multiple-binders</a>\nAlso, here is an example that actually provides configuration that uses Kafka and Rabbit. While example is centered around CloudEvent, you can ignore it and strictly concentrate on configuration related to Rabbit and Kafka binders - <a href=\"https://github.com/spring-cloud/spring-cloud-function/tree/main/spring-cloud-function-samples/function-sample-cloudevent-stream\" rel=\"nofollow noreferrer\">https://github.com/spring-cloud/spring-cloud-function/tree/main/spring-cloud-function-samples/function-sample-cloudevent-stream</a></p>\n<p>Feel free to ask follow up questions once you get familiar with that.</p>\n"}],"owner":{"account_id":5723452,"reputation":1656,"user_id":4521196,"accept_rate":58,"display_name":"jlp"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1213,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70941346,"answer_count":1,"score":1,"last_activity_date":1643722070,"creation_date":1643675581,"question_id":70934432,"body_markdown":"We have an application that is already using Spring Cloud Stream with RabbitMQ, some endpoints of the application are sending messages to Rabbit MQ. Now we want new endpoints start sending messages to Kafka, hoping that the existing endpoints continue using RabbitMQ with Spring Cloud Stream.  I am not sure if this is even possible, because this means we have to include both kafka and rabbit binder dependencies in pom.xml. What configuration changes we need to make in the yml file so that the app understands what bindings are for kafka and what bindings are for Rabbit?  Many thanks.  ","title":"Java - Is it Possible to Use Spring Cloud Stream Kafka and RabbitMQ for the Same Application","body":"<p>We have an application that is already using Spring Cloud Stream with RabbitMQ, some endpoints of the application are sending messages to Rabbit MQ. Now we want new endpoints start sending messages to Kafka, hoping that the existing endpoints continue using RabbitMQ with Spring Cloud Stream.  I am not sure if this is even possible, because this means we have to include both kafka and rabbit binder dependencies in pom.xml. What configuration changes we need to make in the yml file so that the app understands what bindings are for kafka and what bindings are for Rabbit?  Many thanks.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1643666608,"post_id":70933294,"comment_id":125397118,"body_markdown":"The &quot;problem&quot; is, the user has pressed the [Enter] key, so there&#39;s a new line inserted into the consoles buffer.  I&#39;d suggest that the &quot;testing&quot; system is wrong.  You could try putting a few &quot;back spaces&quot; in, `System.out.print(&quot;\\b&quot;);`, but I&#39;d be surprised if this works","body":"The &quot;problem&quot; is, the user has pressed the [Enter] key, so there&#39;s a new line inserted into the consoles buffer.  I&#39;d suggest that the &quot;testing&quot; system is wrong.  You could try putting a few &quot;back spaces&quot; in, <code>System.out.print(&quot;\\b&quot;);</code>, but I&#39;d be surprised if this works"},{"owner":{"account_id":15777655,"reputation":1762,"user_id":11385052,"display_name":"Ryan"},"score":0,"creation_date":1643666727,"post_id":70933294,"comment_id":125397149,"body_markdown":"Your issue is you have to hit enter for the scanner to pick up the inputs.  Is there a reason you need it all on a single line?  Perhaps a better solution would be to add some tabs &quot;\\t&quot; to your text to denote ownership?","body":"Your issue is you have to hit enter for the scanner to pick up the inputs.  Is there a reason you need it all on a single line?  Perhaps a better solution would be to add some tabs &quot;\\t&quot; to your text to denote ownership?"}],"owner":{"display_name":"user18085035"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643721848,"creation_date":1643666246,"question_id":70933294,"body_markdown":"I&#39;ve been working on this assignment for my programming class where I have to write a program to solve a quadratic equation in the format of a^2+bx+c=0. I worked with a classmate to figure out how to solve the actual problem, but when I try to run it through our testing software it tells me I need the results in the console to all be on the same line. \r\n\r\nThis is the error it gives:\r\n[![Error Image][1]][1]\r\n\r\nI&#39;ll attach my code at the bottom, I&#39;m a beginner and was pretty much guided through this by my classmate so I&#39;m still trying to figure things out. Thanks so much in advance!\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\n// TODO: document this class\r\npublic class PA2a {\r\n\r\n\t// TODO: document this function\r\n\tpublic static void main(String[] args) {\r\n\t\tScanner input = new Scanner(System.in);\r\n\t\tSystem.out.print(&quot;Enter a b c: &quot;);\r\n\t\t\r\n\t\tdouble a,b,c, root_1, root_2;\r\n\t\ta = input.nextDouble();\r\n\t\tb = input.nextDouble();\r\n\t\tc = input.nextDouble();\r\n\t\t\r\n\t\tdouble discriminant = b * b - 4 * a * c;\r\n\t\t\r\n\t\tif(discriminant &gt; 0) {\r\n\t\t\troot_1 = (-b + Math.sqrt(discriminant)) / (2 * a);\r\n\t\t\troot_2 = (-b - Math.sqrt(discriminant)) / (2 * a);\r\n\t\t\tif(root_1 &lt; root_2)\r\n\t\t\t\tSystem.out.printf(&quot;Roots: %.2f, %.2f&quot;, root_1, root_2);\r\n\t\t\telse\r\n\t\t\t\tSystem.out.printf(&quot;Roots: %.2f, %.2f&quot;, root_2, root_1);\r\n\t\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\telse if (discriminant == 0) {\r\n\t\t\troot_1 = root_2 = -b / (2*a);\r\n\t\t\tSystem.out.printf(&quot;Root: %.2f&quot;, root_1);\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\telse {\r\n\t\t\tSystem.out.print(&quot;Roots: imaginiary&quot;);\r\n\t\t\t\r\n\t\t}\r\n\t\tinput.close();\r\n\t}\r\n\r\n}\r\n```\r\n\r\n[1]: https://i.stack.imgur.com/WjA9L.png","title":"How to keep results on the same line in console in java?","body":"<p>I've been working on this assignment for my programming class where I have to write a program to solve a quadratic equation in the format of a^2+bx+c=0. I worked with a classmate to figure out how to solve the actual problem, but when I try to run it through our testing software it tells me I need the results in the console to all be on the same line.</p>\n<p>This is the error it gives:\n<a href=\"https://i.stack.imgur.com/WjA9L.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WjA9L.png\" alt=\"Error Image\" /></a></p>\n<p>I'll attach my code at the bottom, I'm a beginner and was pretty much guided through this by my classmate so I'm still trying to figure things out. Thanks so much in advance!</p>\n<pre><code>import java.util.Scanner;\n\n// TODO: document this class\npublic class PA2a {\n\n    // TODO: document this function\n    public static void main(String[] args) {\n        Scanner input = new Scanner(System.in);\n        System.out.print(&quot;Enter a b c: &quot;);\n        \n        double a,b,c, root_1, root_2;\n        a = input.nextDouble();\n        b = input.nextDouble();\n        c = input.nextDouble();\n        \n        double discriminant = b * b - 4 * a * c;\n        \n        if(discriminant &gt; 0) {\n            root_1 = (-b + Math.sqrt(discriminant)) / (2 * a);\n            root_2 = (-b - Math.sqrt(discriminant)) / (2 * a);\n            if(root_1 &lt; root_2)\n                System.out.printf(&quot;Roots: %.2f, %.2f&quot;, root_1, root_2);\n            else\n                System.out.printf(&quot;Roots: %.2f, %.2f&quot;, root_2, root_1);\n                \n        }\n        \n        else if (discriminant == 0) {\n            root_1 = root_2 = -b / (2*a);\n            System.out.printf(&quot;Root: %.2f&quot;, root_1);\n            \n        }\n        \n        else {\n            System.out.print(&quot;Roots: imaginiary&quot;);\n            \n        }\n        input.close();\n    }\n\n}\n</code></pre>\n"},{"tags":["java","sql-server","oracle","spring-boot","hikaricp"],"answers":[{"tags":[],"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643721687,"creation_date":1643721687,"answer_id":70941270,"question_id":70941248,"body_markdown":"I would use a `java.sql.DataSource` interface and not expose the implementation to my application.\r\n\r\n","title":"Use HikariDatasource or DB specific datasources","body":"<p>I would use a <code>java.sql.DataSource</code> interface and not expose the implementation to my application.</p>\n"}],"owner":{"account_id":6290431,"reputation":1187,"user_id":4888323,"accept_rate":20,"display_name":"Bilgehan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1643721687,"creation_date":1643721558,"question_id":70941248,"body_markdown":"Hi I use spring boot and I need datasource to connect different databases.\r\nFor example to connect  SqlServer ,microsoft provide com.microsoft.sqlserver.jdbc and this jar has SqlServerDatasource but when I checked details this datasource doesnt have pooling mechanism.\r\n\r\nI can use hikaridatasource to connect different databases and hikaridatasource has connection pooling mechanism\r\n\r\nMy question is which is the best practice to use hikaridatasource or sqlserverdatasource, oracledatasource to connect databases specific datasource  in spring boot","title":"Use HikariDatasource or DB specific datasources","body":"<p>Hi I use spring boot and I need datasource to connect different databases.\nFor example to connect  SqlServer ,microsoft provide com.microsoft.sqlserver.jdbc and this jar has SqlServerDatasource but when I checked details this datasource doesnt have pooling mechanism.</p>\n<p>I can use hikaridatasource to connect different databases and hikaridatasource has connection pooling mechanism</p>\n<p>My question is which is the best practice to use hikaridatasource or sqlserverdatasource, oracledatasource to connect databases specific datasource  in spring boot</p>\n"},{"tags":["java","android","firebase","android-studio"],"owner":{"account_id":21101976,"reputation":21,"user_id":15511693,"display_name":"James Arockia Raj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1643721568,"creation_date":1643702245,"question_id":70937158,"body_markdown":"\r\n` \r\n\r\n        auth = FirebaseAuth.getInstance();\r\n        database = FirebaseFirestore.getInstance();\r\n\r\n        dialog = new ProgressDialog(this);\r\n        dialog.setMessage(&quot;We&#39;re creating new account...&quot;);\r\n        String email, pass, name, referCode;\r\n\r\n        email = binding.emailBox.getText().toString();\r\n        pass = binding.passwordBox.getText().toString();\r\n        name = binding.nameBox.getText().toString();\r\n        referCode = binding.referBox.getText().toString();\r\n        if((email!= null ) &amp;&amp;\r\n                ( pass!= null) &amp;&amp;\r\n                (name != null)  )\r\n        {\r\n            binding.createNewBtn.setEnabled(true);\r\n        }else{\r\n            binding.createNewBtn.setEnabled(false);\r\n        }\r\n        binding.createNewBtn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                String email, pass, name, referCode;\r\n\r\n                email = binding.emailBox.getText().toString();\r\n                pass = binding.passwordBox.getText().toString();\r\n                name = binding.nameBox.getText().toString();\r\n                referCode = binding.referBox.getText().toString();\r\n\r\n                final User user = new User(name, email, pass, referCode);\r\n                dialog.show();\r\n                auth.createUserWithEmailAndPassword(email, pass).addOnCompleteListener(new OnCompleteListener&lt;AuthResult&gt;() {\r\n                    @Override\r\n                    public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\r\n                        if(task.isSuccessful()) {\r\n                            String uid = task.getResult().getUser().getUid();\r\n\r\n                            database\r\n                                    .collection(&quot;users&quot;)\r\n                                    .document(uid)\r\n                                    .set(user).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\r\n                                @Override\r\n                                public void onComplete(@NonNull Task&lt;Void&gt; task) {\r\n                                    if(task.isSuccessful()) {\r\n                                        dialog.dismiss();\r\n                                        startActivity(new Intent(SignupActivity.this, MainActivity.class));\r\n                                        finish();\r\n                                    } else {\r\n                                        Toast.makeText(SignupActivity.this, task.getException().getLocalizedMessage(), Toast.LENGTH_SHORT).show();\r\n                                    }\r\n                                }\r\n                            });\r\n                        } else {\r\n                            dialog.dismiss();\r\n                            Toast.makeText(SignupActivity.this, task.getException().getLocalizedMessage(), Toast.LENGTH_SHORT).show();\r\n                        }\r\n                    }\r\n                });\r\n\r\n            }\r\n        });\r\n`\r\n    ** java.lang.IllegalArgumentException: Given String is empty or null\r\n        at com.google.android.gms.common.internal.Preconditions.checkNotEmpty(com.google.android.gms:play-services-basement@@17.3.0:5)\r\n        at com.google.firebase.auth.FirebaseAuth.createUserWithEmailAndPassword(com.google.firebase:firebase-auth@@20.0.2:1)\r\n        at com.james.tamilquiz.SignupActivity$1.onClick(SignupActivity.java:64)\r\n        at android.view.View.performClick(View.java:8160)\r\n        at android.widget.TextView.performClick(TextView.java:16222)\r\n        at android.view.View.performClickInternal(View.java:8137)\r\n        at android.view.View.access$3700(View.java:888)\r\n        at android.view.View$PerformClick.run(View.java:30236)\r\n        at android.os.Handler.handleCallback(Handler.java:938)\r\n        at android.os.Handler.dispatchMessage(Handler.java:99)\r\n        at android.os.Looper.loop(Looper.java:246)\r\n        at android.app.ActivityThread.main(ActivityThread.java:8633)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:602)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1130)\r\nI/Process: Sending signal. PID: 21407 SIG: 9\r\n**","title":"In Android studio, if I tried to click account creation btn without filing the required fields, the app crashes","body":"<p>`</p>\n<pre><code>    auth = FirebaseAuth.getInstance();\n    database = FirebaseFirestore.getInstance();\n\n    dialog = new ProgressDialog(this);\n    dialog.setMessage(&quot;We're creating new account...&quot;);\n    String email, pass, name, referCode;\n\n    email = binding.emailBox.getText().toString();\n    pass = binding.passwordBox.getText().toString();\n    name = binding.nameBox.getText().toString();\n    referCode = binding.referBox.getText().toString();\n    if((email!= null ) &amp;&amp;\n            ( pass!= null) &amp;&amp;\n            (name != null)  )\n    {\n        binding.createNewBtn.setEnabled(true);\n    }else{\n        binding.createNewBtn.setEnabled(false);\n    }\n    binding.createNewBtn.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            String email, pass, name, referCode;\n\n            email = binding.emailBox.getText().toString();\n            pass = binding.passwordBox.getText().toString();\n            name = binding.nameBox.getText().toString();\n            referCode = binding.referBox.getText().toString();\n\n            final User user = new User(name, email, pass, referCode);\n            dialog.show();\n            auth.createUserWithEmailAndPassword(email, pass).addOnCompleteListener(new OnCompleteListener&lt;AuthResult&gt;() {\n                @Override\n                public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\n                    if(task.isSuccessful()) {\n                        String uid = task.getResult().getUser().getUid();\n\n                        database\n                                .collection(&quot;users&quot;)\n                                .document(uid)\n                                .set(user).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\n                            @Override\n                            public void onComplete(@NonNull Task&lt;Void&gt; task) {\n                                if(task.isSuccessful()) {\n                                    dialog.dismiss();\n                                    startActivity(new Intent(SignupActivity.this, MainActivity.class));\n                                    finish();\n                                } else {\n                                    Toast.makeText(SignupActivity.this, task.getException().getLocalizedMessage(), Toast.LENGTH_SHORT).show();\n                                }\n                            }\n                        });\n                    } else {\n                        dialog.dismiss();\n                        Toast.makeText(SignupActivity.this, task.getException().getLocalizedMessage(), Toast.LENGTH_SHORT).show();\n                    }\n                }\n            });\n\n        }\n    });\n</code></pre>\n<p>`\n** java.lang.IllegalArgumentException: Given String is empty or null\nat com.google.android.gms.common.internal.Preconditions.checkNotEmpty(com.google.android.gms:play-services-basement@@17.3.0:5)\nat com.google.firebase.auth.FirebaseAuth.createUserWithEmailAndPassword(com.google.firebase:firebase-auth@@20.0.2:1)\nat com.james.tamilquiz.SignupActivity$1.onClick(SignupActivity.java:64)\nat android.view.View.performClick(View.java:8160)\nat android.widget.TextView.performClick(TextView.java:16222)\nat android.view.View.performClickInternal(View.java:8137)\nat android.view.View.access$3700(View.java:888)\nat android.view.View$PerformClick.run(View.java:30236)\nat android.os.Handler.handleCallback(Handler.java:938)\nat android.os.Handler.dispatchMessage(Handler.java:99)\nat android.os.Looper.loop(Looper.java:246)\nat android.app.ActivityThread.main(ActivityThread.java:8633)\nat java.lang.reflect.Method.invoke(Native Method)\nat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:602)\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1130)\nI/Process: Sending signal. PID: 21407 SIG: 9\n**</p>\n"},{"tags":["java","docx4j"],"comments":[{"owner":{"account_id":30580,"reputation":15467,"user_id":1031689,"accept_rate":67,"display_name":"JasonPlutext"},"score":0,"creation_date":1642534412,"post_id":70753763,"comment_id":125095076,"body_markdown":"Post your docx file somewhere please","body":"Post your docx file somewhere please"}],"owner":{"account_id":23844754,"reputation":11,"user_id":17849377,"display_name":"A.G.S Suresh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":702,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1643721545,"creation_date":1642500597,"question_id":70753763,"body_markdown":"If i am trying to convert the docx file to pdf file \r\n\r\nCode :\r\n\r\n```java\r\nInputStream is = file.getInputStream();\r\nWordprocessingMLPackage wordMLPackage = WordprocessingMLPackage.load(is);\r\nFile outputFile = new File(file.getOriginalFilename() + &quot;.pdf&quot;);\r\nFileOutputStream os = new FileOutputStream(outputFile);\r\nDocx4J.toPDF(wordMLPackage,os);\r\nos.flush();\r\nos.close();\r\n```\r\n\r\nThis is the error I am getting :\r\n\r\n```        \r\norg.apache.fop.apps.FOUserAgent - Font &quot;Times New Roman,normal,400&quot; not found. Substituting with &quot;any,normal,400&quot;.\r\no.d.convert.out.fo.FOPAreaTreeHelper - For @bpda, \r\n&lt;block bap=&quot;0 0 0 0&quot; bpd=&quot;0&quot; ipd=&quot;427522&quot; ipda=&quot;427522&quot; visibility=&quot;visible&quot;/&gt;\r\no.d.convert.out.fo.FOPAreaTreeHelper - For input string: &quot;&quot;\r\njava.lang.NumberFormatException: For input string: &quot;&quot;\r\n```              \r\n        \r\nCan anyone help me. Thanks in advance.\r\n","title":"Conversion of docx to pdf using docx4j library in java","body":"<p>If i am trying to convert the docx file to pdf file</p>\n<p>Code :</p>\n<pre class=\"lang-java prettyprint-override\"><code>InputStream is = file.getInputStream();\nWordprocessingMLPackage wordMLPackage = WordprocessingMLPackage.load(is);\nFile outputFile = new File(file.getOriginalFilename() + &quot;.pdf&quot;);\nFileOutputStream os = new FileOutputStream(outputFile);\nDocx4J.toPDF(wordMLPackage,os);\nos.flush();\nos.close();\n</code></pre>\n<p>This is the error I am getting :</p>\n<pre><code>org.apache.fop.apps.FOUserAgent - Font &quot;Times New Roman,normal,400&quot; not found. Substituting with &quot;any,normal,400&quot;.\no.d.convert.out.fo.FOPAreaTreeHelper - For @bpda, \n&lt;block bap=&quot;0 0 0 0&quot; bpd=&quot;0&quot; ipd=&quot;427522&quot; ipda=&quot;427522&quot; visibility=&quot;visible&quot;/&gt;\no.d.convert.out.fo.FOPAreaTreeHelper - For input string: &quot;&quot;\njava.lang.NumberFormatException: For input string: &quot;&quot;\n</code></pre>\n<p>Can anyone help me. Thanks in advance.</p>\n"},{"tags":["java","size","heap-memory","jvm-arguments"],"comments":[{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1263581606,"post_id":880855,"comment_id":2004009,"body_markdown":"Note, the latest Java 6 releases from Sun have increased standard heap limits.","body":"Note, the latest Java 6 releases from Sun have increased standard heap limits."}],"answers":[{"tags":[],"owner":{"account_id":13043,"reputation":9139,"user_id":25990,"accept_rate":92,"display_name":"Aditya Mukherji"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1573590164,"creation_date":1242704914,"answer_id":880886,"question_id":880855,"body_markdown":"what platform are you running?..  \r\nif its unix, maybe adding\r\n\r\n    alias java=&#39;java -Xmx1g&#39;  \r\n\r\n to .bashrc (or similar) work\r\n\r\nedit: Changing XmX to Xmx","title":"increase the java heap size permanently?","body":"<p>what platform are you running?..<br>\nif its unix, maybe adding</p>\n\n<pre><code>alias java='java -Xmx1g'  \n</code></pre>\n\n<p>to .bashrc (or similar) work</p>\n\n<p>edit: Changing XmX to Xmx</p>\n"},{"tags":[],"owner":{"account_id":877160,"reputation":323,"user_id":102055,"display_name":"The Dissonant"},"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1242705058,"creation_date":1242705058,"answer_id":880889,"question_id":880855,"body_markdown":"For Windows users, you can add a system environment variable named _JAVA_OPTIONS, and set the heap size values there. The JVM should be able to grab the virtual machine options from _JAVA_OPTIONS.","title":"increase the java heap size permanently?","body":"<p>For Windows users, you can add a system environment variable named _JAVA_OPTIONS, and set the heap size values there. The JVM should be able to grab the virtual machine options from _JAVA_OPTIONS.</p>\n"},{"tags":[],"owner":{"account_id":22980,"reputation":1293,"user_id":57217,"accept_rate":100,"display_name":"Kutzi"},"down_vote_count":1,"up_vote_count":67,"is_accepted":false,"score":66,"last_activity_date":1449073001,"creation_date":1254477640,"answer_id":1508684,"question_id":880855,"body_markdown":"Apparently, `_JAVA_OPTIONS` works on Linux, too:\r\n\r\n    $ export _JAVA_OPTIONS=&quot;-Xmx1g&quot;\r\n    $ java -jar jconsole.jar &amp;\r\n    Picked up _JAVA_OPTIONS: -Xmx1g","title":"increase the java heap size permanently?","body":"<p>Apparently, <code>_JAVA_OPTIONS</code> works on Linux, too:</p>\n\n<pre><code>$ export _JAVA_OPTIONS=\"-Xmx1g\"\n$ java -jar jconsole.jar &amp;\nPicked up _JAVA_OPTIONS: -Xmx1g\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8392737,"reputation":399,"user_id":6300957,"display_name":"Justin Chitla"},"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1496325454,"creation_date":1496322035,"answer_id":44308260,"question_id":880855,"body_markdown":"This worked for me:\r\n\r\n    export _JAVA_OPTIONS=&quot;-Xmx1g&quot;\r\n\r\nIt&#39;s important that you have no spaces because for me it did not work. I would suggest just copying and pasting. Then I ran:\r\n\r\n    java -XshowSettings:vm \r\n\r\nand it will tell you: \r\n\r\n&gt; Picked up _JAVA_OPTIONS: -Xmx1g","title":"increase the java heap size permanently?","body":"<p>This worked for me:</p>\n\n<pre><code>export _JAVA_OPTIONS=\"-Xmx1g\"\n</code></pre>\n\n<p>It's important that you have no spaces because for me it did not work. I would suggest just copying and pasting. Then I ran:</p>\n\n<pre><code>java -XshowSettings:vm \n</code></pre>\n\n<p>and it will tell you: </p>\n\n<blockquote>\n  <p>Picked up _JAVA_OPTIONS: -Xmx1g</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":12102351,"reputation":259,"user_id":8842711,"display_name":"mauryaAjay"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1643721526,"creation_date":1643720281,"answer_id":70940970,"question_id":880855,"body_markdown":"if the platform is Linux, then adding an entry in bash_profile will help.\r\n\r\n```\r\nvim ~/.bash_profile\r\n```\r\nthen add\r\n\r\n```\r\nexport _JAVA_OPTIONS=&quot;-Xmx4g&quot; \r\n```","title":"increase the java heap size permanently?","body":"<p>if the platform is Linux, then adding an entry in bash_profile will help.</p>\n<pre><code>vim ~/.bash_profile\n</code></pre>\n<p>then add</p>\n<pre><code>export _JAVA_OPTIONS=&quot;-Xmx4g&quot; \n</code></pre>\n"}],"owner":{"display_name":"rufus"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":119962,"favorite_count":0,"down_vote_count":1,"up_vote_count":52,"answer_count":5,"score":51,"last_activity_date":1643721526,"creation_date":1242704293,"question_id":880855,"body_markdown":"Is there a way that I can set the default heap size for the jvm on my own computer?  I want to set it to 1g, because I&#39;m always running custom programs that always hit the overage point in the default jvm size.\r\n\r\nI just dont want to have to remember to type -XmX1g everytime I run my java app from the command line...  \r\n\r\nThere has to be an admin way to do this right?","title":"increase the java heap size permanently?","body":"<p>Is there a way that I can set the default heap size for the jvm on my own computer?  I want to set it to 1g, because I'm always running custom programs that always hit the overage point in the default jvm size.</p>\n\n<p>I just dont want to have to remember to type -XmX1g everytime I run my java app from the command line...  </p>\n\n<p>There has to be an admin way to do this right?</p>\n"},{"tags":["java","android","file","kotlin","android-download-manager"],"answers":[{"tags":[],"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1643640911,"creation_date":1643640911,"answer_id":70928011,"question_id":70926870,"body_markdown":"## What is going wrong?\r\n---\r\nI see that in the `downloadFile` method &gt; inside `try`, you are creating the `Uri` of the url by parsing it. But, the url cannot be converted to `Uri` as it does not exist on the device!\r\n## How to solve?\r\n---\r\nReplace\r\n```\r\nfun downloadFile(activity: Activity, url: String?, fileName: String?) {\r\n        try {\r\n            if (url != null &amp;&amp; !url.isEmpty()) {\r\n                val uri: Uri = Uri.parse(url)\r\n                activity.registerReceiver(\r\n                    attachmentDownloadCompleteReceive, IntentFilter(\r\n                        DownloadManager.ACTION_DOWNLOAD_COMPLETE\r\n                    )\r\n                )\r\n                val request: DownloadManager.Request = DownloadManager.Request(uri)\r\n                request.setMimeType(getMimeType(uri.toString()))\r\n                request.setTitle(fileName)\r\n                request.setDescription(&quot;Downloading attachment..&quot;)\r\n                request.allowScanningByMediaScanner()\r\n                request.setNotificationVisibility(DownloadManager.Request.VISIBILITY_VISIBLE_NOTIFY_COMPLETED)\r\n                request.setDestinationInExternalPublicDir(Environment.DIRECTORY_DOWNLOADS, fileName)\r\n                val dm: DownloadManager =\r\n                    getSystemService(Context.DOWNLOAD_SERVICE) as DownloadManager\r\n                dm.enqueue(request)\r\n            }\r\n        } catch (e: IllegalStateException) {\r\n            Toast.makeText(\r\n                activity,\r\n                &quot;Please insert an SD card to download file&quot;,\r\n                Toast.LENGTH_SHORT\r\n            ).show()\r\n        }\r\n    }\r\n```\r\nWith\r\n```\r\nfun downloadFile(activity: Activity, url: String?, fileName: String?) {\r\n        try {\r\n            if (url != null &amp;&amp; !url.isEmpty()) {\r\n                activity.registerReceiver(\r\n                    attachmentDownloadCompleteReceive, IntentFilter(\r\n                        DownloadManager.ACTION_DOWNLOAD_COMPLETE\r\n                    )\r\n                )\r\n                val request: DownloadManager.Request = DownloadManager.Request(url)\r\n                request.setMimeType(getMimeType(uri.toString()))\r\n                request.setTitle(fileName)\r\n                request.setDescription(&quot;Downloading attachment..&quot;)\r\n                request.allowScanningByMediaScanner()\r\n                request.setNotificationVisibility(DownloadManager.Request.VISIBILITY_VISIBLE_NOTIFY_COMPLETED)\r\n                request.setDestinationInExternalPublicDir(Environment.DIRECTORY_DOWNLOADS, fileName)\r\n                val dm: DownloadManager =\r\n                    getSystemService(Context.DOWNLOAD_SERVICE) as DownloadManager\r\n                dm.enqueue(request)\r\n            }\r\n        } catch (e: IllegalStateException) {\r\n            Toast.makeText(\r\n                activity,\r\n                &quot;Please insert an SD card to download file&quot;,\r\n                Toast.LENGTH_SHORT\r\n            ).show()\r\n        }\r\n    }\r\n```\r\nHope it helps &#128512;.","title":"File is corrupted showing when open it from intent after download by download Manager android","body":"<h2>What is going wrong?</h2>\n<hr />\n<p>I see that in the <code>downloadFile</code> method &gt; inside <code>try</code>, you are creating the <code>Uri</code> of the url by parsing it. But, the url cannot be converted to <code>Uri</code> as it does not exist on the device!</p>\n<h2>How to solve?</h2>\n<hr />\n<p>Replace</p>\n<pre><code>fun downloadFile(activity: Activity, url: String?, fileName: String?) {\n        try {\n            if (url != null &amp;&amp; !url.isEmpty()) {\n                val uri: Uri = Uri.parse(url)\n                activity.registerReceiver(\n                    attachmentDownloadCompleteReceive, IntentFilter(\n                        DownloadManager.ACTION_DOWNLOAD_COMPLETE\n                    )\n                )\n                val request: DownloadManager.Request = DownloadManager.Request(uri)\n                request.setMimeType(getMimeType(uri.toString()))\n                request.setTitle(fileName)\n                request.setDescription(&quot;Downloading attachment..&quot;)\n                request.allowScanningByMediaScanner()\n                request.setNotificationVisibility(DownloadManager.Request.VISIBILITY_VISIBLE_NOTIFY_COMPLETED)\n                request.setDestinationInExternalPublicDir(Environment.DIRECTORY_DOWNLOADS, fileName)\n                val dm: DownloadManager =\n                    getSystemService(Context.DOWNLOAD_SERVICE) as DownloadManager\n                dm.enqueue(request)\n            }\n        } catch (e: IllegalStateException) {\n            Toast.makeText(\n                activity,\n                &quot;Please insert an SD card to download file&quot;,\n                Toast.LENGTH_SHORT\n            ).show()\n        }\n    }\n</code></pre>\n<p>With</p>\n<pre><code>fun downloadFile(activity: Activity, url: String?, fileName: String?) {\n        try {\n            if (url != null &amp;&amp; !url.isEmpty()) {\n                activity.registerReceiver(\n                    attachmentDownloadCompleteReceive, IntentFilter(\n                        DownloadManager.ACTION_DOWNLOAD_COMPLETE\n                    )\n                )\n                val request: DownloadManager.Request = DownloadManager.Request(url)\n                request.setMimeType(getMimeType(uri.toString()))\n                request.setTitle(fileName)\n                request.setDescription(&quot;Downloading attachment..&quot;)\n                request.allowScanningByMediaScanner()\n                request.setNotificationVisibility(DownloadManager.Request.VISIBILITY_VISIBLE_NOTIFY_COMPLETED)\n                request.setDestinationInExternalPublicDir(Environment.DIRECTORY_DOWNLOADS, fileName)\n                val dm: DownloadManager =\n                    getSystemService(Context.DOWNLOAD_SERVICE) as DownloadManager\n                dm.enqueue(request)\n            }\n        } catch (e: IllegalStateException) {\n            Toast.makeText(\n                activity,\n                &quot;Please insert an SD card to download file&quot;,\n                Toast.LENGTH_SHORT\n            ).show()\n        }\n    }\n</code></pre>\n<p>Hope it helps 😀.</p>\n"},{"tags":[],"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643721253,"creation_date":1643721253,"answer_id":70941187,"question_id":70926870,"body_markdown":"You should get a content scheme from download manager instead of that file scheme. \r\n\r\nTry:\r\n\r\n       Uri downloadmanageruri = ( (DownloadManager) context.getSystemService(Context.DOWNLOAD_SERVICE))\r\n                          .getUriForDownloadedFile(downloadId); \r\n\r\nThat should be a content scheme and you would not need FileProvider. ` ","title":"File is corrupted showing when open it from intent after download by download Manager android","body":"<p>You should get a content scheme from download manager instead of that file scheme.</p>\n<p>Try:</p>\n<pre><code>   Uri downloadmanageruri = ( (DownloadManager) context.getSystemService(Context.DOWNLOAD_SERVICE))\n                      .getUriForDownloadedFile(downloadId); \n</code></pre>\n<p>That should be a content scheme and you would not need FileProvider. `</p>\n"}],"owner":{"account_id":12712853,"reputation":446,"user_id":9235923,"display_name":"mayur.pancholi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":564,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70941187,"answer_count":2,"score":0,"last_activity_date":1643721253,"creation_date":1643636159,"question_id":70926870,"body_markdown":"In this feature, I download the file from the URL and after completing the download I open that file from intent but it shows the file is corrupted and not open\r\n\r\nhere is my code for downloading the file and opening the file from intent\r\n\r\n````\r\nfun downloadFile(activity: Activity, url: String?, fileName: String?) {\r\n        try {\r\n            if (url != null &amp;&amp; !url.isEmpty()) {\r\n                val uri: Uri = Uri.parse(url)\r\n                activity.registerReceiver(\r\n                    attachmentDownloadCompleteReceive, IntentFilter(\r\n                        DownloadManager.ACTION_DOWNLOAD_COMPLETE\r\n                    )\r\n                )\r\n                val request: DownloadManager.Request = DownloadManager.Request(uri)\r\n                request.setMimeType(getMimeType(uri.toString()))\r\n                request.setTitle(fileName)\r\n                request.setDescription(&quot;Downloading attachment..&quot;)\r\n                request.allowScanningByMediaScanner()\r\n                request.setNotificationVisibility(DownloadManager.Request.VISIBILITY_VISIBLE_NOTIFY_COMPLETED)\r\n                request.setDestinationInExternalPublicDir(Environment.DIRECTORY_DOWNLOADS, fileName)\r\n                val dm: DownloadManager =\r\n                    getSystemService(Context.DOWNLOAD_SERVICE) as DownloadManager\r\n                dm.enqueue(request)\r\n            }\r\n        } catch (e: IllegalStateException) {\r\n            Toast.makeText(\r\n                activity,\r\n                &quot;Please insert an SD card to download file&quot;,\r\n                Toast.LENGTH_SHORT\r\n            ).show()\r\n        }\r\n    }\r\n\r\n\r\n    private fun getMimeType(url: String): String? {\r\n        var type: String? = null\r\n        val extension: String = MimeTypeMap.getFileExtensionFromUrl(url)\r\n        if (extension != null) {\r\n            val mime: MimeTypeMap = MimeTypeMap.getSingleton()\r\n            type = mime.getMimeTypeFromExtension(extension)\r\n        }\r\n        return type\r\n    }\r\n\r\n    var attachmentDownloadCompleteReceive: BroadcastReceiver = object : BroadcastReceiver() {\r\n        override fun onReceive(context: Context, intent: Intent) {\r\n            val action = intent.action\r\n            if (DownloadManager.ACTION_DOWNLOAD_COMPLETE == action) {\r\n                val downloadId = intent.getLongExtra(\r\n                    DownloadManager.EXTRA_DOWNLOAD_ID, 0\r\n                )\r\n                \r\n                openDownloadedAttachment(context, downloadId)\r\n            }\r\n          \r\n        }\r\n    }\r\n\r\n    private fun openDownloadedAttachment(context: Context, downloadId: Long) {\r\n        val downloadManager: DownloadManager =\r\n            context.getSystemService(Context.DOWNLOAD_SERVICE) as DownloadManager\r\n        val query: DownloadManager.Query = DownloadManager.Query()\r\n        query.setFilterById(downloadId)\r\n        val cursor: Cursor = downloadManager.query(query)\r\n        if (cursor.moveToFirst()) {\r\n            \r\n            val downloadStatus: Int =\r\n                cursor.getInt(cursor.getColumnIndex(DownloadManager.COLUMN_STATUS))\r\n            val downloadLocalUri: String =\r\n                cursor.getString(cursor.getColumnIndex(DownloadManager.COLUMN_LOCAL_URI))\r\n            val downloadMimeType: String =\r\n                cursor.getString(cursor.getColumnIndex(DownloadManager.COLUMN_MEDIA_TYPE))\r\n            if (downloadStatus == DownloadManager.STATUS_SUCCESSFUL &amp;&amp; downloadLocalUri != null) {\r\n               \r\n                openDownloadedAttachment(context, Uri.parse(downloadLocalUri), downloadMimeType)\r\n            }\r\n        }\r\n        \r\n        cursor.close()\r\n    }\r\n\r\n    private fun openDownloadedAttachment(\r\n        context: Context,\r\n        attachmentUri: Uri,\r\n        attachmentMimeType: String\r\n    ) {\r\n        var attachmentUri: Uri? = attachmentUri\r\n        if (attachmentUri != null) {\r\n           \r\n            // Get Content Uri.\r\n            if (ContentResolver.SCHEME_FILE == attachmentUri.scheme) {\r\n                // FileUri - Convert it to contentUri.\r\n                val file = File(attachmentUri.path)\r\n                attachmentUri =\r\n                    FileProvider.getUriForFile(\r\n                        this,\r\n                        BuildConfig.APPLICATION_ID + &quot;.fileprovider&quot;,\r\n                        file\r\n                    )\r\n            }\r\n           \r\n            val openAttachmentIntent = Intent(Intent.ACTION_VIEW)\r\n            openAttachmentIntent.setDataAndType(attachmentUri, attachmentMimeType)\r\n            openAttachmentIntent.flags = Intent.FLAG_GRANT_READ_URI_PERMISSION\r\n            try {\r\n               \r\n                this.startActivity(openAttachmentIntent)\r\n            } catch (e: ActivityNotFoundException) {\r\n               \r\n                Toast.makeText(\r\n                    this,\r\n                    &quot;false&quot;,\r\n                    Toast.LENGTH_LONG\r\n                ).show()\r\n            }\r\n        }\r\n    }\r\n````\r\n\r\nSo can tell me where I made mistake on this, why it shows the file is corrupted after downloading it and I check that file by opening it from the file manager and it&#39;s working fine.","title":"File is corrupted showing when open it from intent after download by download Manager android","body":"<p>In this feature, I download the file from the URL and after completing the download I open that file from intent but it shows the file is corrupted and not open</p>\n<p>here is my code for downloading the file and opening the file from intent</p>\n<pre><code>fun downloadFile(activity: Activity, url: String?, fileName: String?) {\n        try {\n            if (url != null &amp;&amp; !url.isEmpty()) {\n                val uri: Uri = Uri.parse(url)\n                activity.registerReceiver(\n                    attachmentDownloadCompleteReceive, IntentFilter(\n                        DownloadManager.ACTION_DOWNLOAD_COMPLETE\n                    )\n                )\n                val request: DownloadManager.Request = DownloadManager.Request(uri)\n                request.setMimeType(getMimeType(uri.toString()))\n                request.setTitle(fileName)\n                request.setDescription(&quot;Downloading attachment..&quot;)\n                request.allowScanningByMediaScanner()\n                request.setNotificationVisibility(DownloadManager.Request.VISIBILITY_VISIBLE_NOTIFY_COMPLETED)\n                request.setDestinationInExternalPublicDir(Environment.DIRECTORY_DOWNLOADS, fileName)\n                val dm: DownloadManager =\n                    getSystemService(Context.DOWNLOAD_SERVICE) as DownloadManager\n                dm.enqueue(request)\n            }\n        } catch (e: IllegalStateException) {\n            Toast.makeText(\n                activity,\n                &quot;Please insert an SD card to download file&quot;,\n                Toast.LENGTH_SHORT\n            ).show()\n        }\n    }\n\n\n    private fun getMimeType(url: String): String? {\n        var type: String? = null\n        val extension: String = MimeTypeMap.getFileExtensionFromUrl(url)\n        if (extension != null) {\n            val mime: MimeTypeMap = MimeTypeMap.getSingleton()\n            type = mime.getMimeTypeFromExtension(extension)\n        }\n        return type\n    }\n\n    var attachmentDownloadCompleteReceive: BroadcastReceiver = object : BroadcastReceiver() {\n        override fun onReceive(context: Context, intent: Intent) {\n            val action = intent.action\n            if (DownloadManager.ACTION_DOWNLOAD_COMPLETE == action) {\n                val downloadId = intent.getLongExtra(\n                    DownloadManager.EXTRA_DOWNLOAD_ID, 0\n                )\n                \n                openDownloadedAttachment(context, downloadId)\n            }\n          \n        }\n    }\n\n    private fun openDownloadedAttachment(context: Context, downloadId: Long) {\n        val downloadManager: DownloadManager =\n            context.getSystemService(Context.DOWNLOAD_SERVICE) as DownloadManager\n        val query: DownloadManager.Query = DownloadManager.Query()\n        query.setFilterById(downloadId)\n        val cursor: Cursor = downloadManager.query(query)\n        if (cursor.moveToFirst()) {\n            \n            val downloadStatus: Int =\n                cursor.getInt(cursor.getColumnIndex(DownloadManager.COLUMN_STATUS))\n            val downloadLocalUri: String =\n                cursor.getString(cursor.getColumnIndex(DownloadManager.COLUMN_LOCAL_URI))\n            val downloadMimeType: String =\n                cursor.getString(cursor.getColumnIndex(DownloadManager.COLUMN_MEDIA_TYPE))\n            if (downloadStatus == DownloadManager.STATUS_SUCCESSFUL &amp;&amp; downloadLocalUri != null) {\n               \n                openDownloadedAttachment(context, Uri.parse(downloadLocalUri), downloadMimeType)\n            }\n        }\n        \n        cursor.close()\n    }\n\n    private fun openDownloadedAttachment(\n        context: Context,\n        attachmentUri: Uri,\n        attachmentMimeType: String\n    ) {\n        var attachmentUri: Uri? = attachmentUri\n        if (attachmentUri != null) {\n           \n            // Get Content Uri.\n            if (ContentResolver.SCHEME_FILE == attachmentUri.scheme) {\n                // FileUri - Convert it to contentUri.\n                val file = File(attachmentUri.path)\n                attachmentUri =\n                    FileProvider.getUriForFile(\n                        this,\n                        BuildConfig.APPLICATION_ID + &quot;.fileprovider&quot;,\n                        file\n                    )\n            }\n           \n            val openAttachmentIntent = Intent(Intent.ACTION_VIEW)\n            openAttachmentIntent.setDataAndType(attachmentUri, attachmentMimeType)\n            openAttachmentIntent.flags = Intent.FLAG_GRANT_READ_URI_PERMISSION\n            try {\n               \n                this.startActivity(openAttachmentIntent)\n            } catch (e: ActivityNotFoundException) {\n               \n                Toast.makeText(\n                    this,\n                    &quot;false&quot;,\n                    Toast.LENGTH_LONG\n                ).show()\n            }\n        }\n    }\n</code></pre>\n<p>So can tell me where I made mistake on this, why it shows the file is corrupted after downloading it and I check that file by opening it from the file manager and it's working fine.</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":5936240,"reputation":3354,"user_id":4669135,"accept_rate":40,"display_name":"Gabriel Devillers"},"score":0,"creation_date":1534021872,"post_id":51803683,"comment_id":90563620,"body_markdown":"Do you have an error message when the command fail ? If yes please add it to your question. Adding the link to the tutorial would be a good idea.","body":"Do you have an error message when the command fail ? If yes please add it to your question. Adding the link to the tutorial would be a good idea."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1534034930,"post_id":51803683,"comment_id":90565488,"body_markdown":"Yea, this is the problem with old tutorials.  They get out of date, and the person who created the tutorial is often not motivated to re-make them.","body":"Yea, this is the problem with old tutorials.  They get out of date, and the person who created the tutorial is often not motivated to re-make them."}],"answers":[{"tags":[],"owner":{"account_id":2562685,"reputation":149,"user_id":10016320,"display_name":"Vish_er"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1534021198,"creation_date":1534021198,"answer_id":51803714,"question_id":51803683,"body_markdown":"I found that the new version of Maven probably requires to mention version of archetype in the command.\r\n\r\nTherefore an addition of &quot;-DarchetypeVersion=1.3&quot; needs to be added in the command (anywhere) and then it shall run. Especially if you are having BUILD FAILURE as :\r\n\r\n&quot; The desired archetype does not exist (org.apache.maven.archetypes:maven-archetype-webapp:1.0) -&gt; [Help 1] &quot; \r\n\r\nTherefore the command should be something like: \r\nmvn archetype:generate -DgroupId=com.lynda -DartifactId=sampleWeb -DarchetypeArtifactId=maven-archetype-webapp -DarchetypeVersion=1.3\r\n\r\nReference: Check **Usage** at https://maven.apache.org/archetypes/maven-archetype-webapp/","title":"-DarchetypeArtifactId=maven-archetype-quickstart works but -DarchetypeArtifactId=maven-archetype-webapp does not?","body":"<p>I found that the new version of Maven probably requires to mention version of archetype in the command.</p>\n\n<p>Therefore an addition of \"-DarchetypeVersion=1.3\" needs to be added in the command (anywhere) and then it shall run. Especially if you are having BUILD FAILURE as :</p>\n\n<p>\" The desired archetype does not exist (org.apache.maven.archetypes:maven-archetype-webapp:1.0) -> [Help 1] \" </p>\n\n<p>Therefore the command should be something like: \nmvn archetype:generate -DgroupId=com.lynda -DartifactId=sampleWeb -DarchetypeArtifactId=maven-archetype-webapp -DarchetypeVersion=1.3</p>\n\n<p>Reference: Check <strong>Usage</strong> at <a href=\"https://maven.apache.org/archetypes/maven-archetype-webapp/\" rel=\"nofollow noreferrer\">https://maven.apache.org/archetypes/maven-archetype-webapp/</a></p>\n"},{"tags":[],"owner":{"account_id":10766290,"reputation":51,"user_id":7921149,"display_name":"XanXus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643721235,"creation_date":1643584410,"answer_id":70919783,"question_id":51803683,"body_markdown":"You can track the different ArchetypeVersion by following the link for the **maven-archetype-webapp** archetypeArtifactId:\r\nhttps://repo.maven.apache.org/maven2/org/apache/maven/archetypes/maven-archetype-webapp/\r\n\r\nHere is the one I&#39;ve used:\r\n\r\n    mvn archetype:generate -DgroupId=com.pluralsight.javaee-getting-started -DartifactId=bookstore-back -DarchetypeArtifactId=maven-archetype-webapp -DarchetypeVersion=1.4 -DinteractiveMode=false -Dpackage=com.pluralsight.bookstore\r\n\r\n\r\n","title":"-DarchetypeArtifactId=maven-archetype-quickstart works but -DarchetypeArtifactId=maven-archetype-webapp does not?","body":"<p>You can track the different ArchetypeVersion by following the link for the <strong>maven-archetype-webapp</strong> archetypeArtifactId:\n<a href=\"https://repo.maven.apache.org/maven2/org/apache/maven/archetypes/maven-archetype-webapp/\" rel=\"nofollow noreferrer\">https://repo.maven.apache.org/maven2/org/apache/maven/archetypes/maven-archetype-webapp/</a></p>\n<p>Here is the one I've used:</p>\n<pre><code>mvn archetype:generate -DgroupId=com.pluralsight.javaee-getting-started -DartifactId=bookstore-back -DarchetypeArtifactId=maven-archetype-webapp -DarchetypeVersion=1.4 -DinteractiveMode=false -Dpackage=com.pluralsight.bookstore\n</code></pre>\n"}],"owner":{"account_id":2562685,"reputation":149,"user_id":10016320,"display_name":"Vish_er"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":485,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1643721235,"creation_date":1534020930,"question_id":51803683,"body_markdown":"I was watching a tutorial and this statement totally works on the instructor&#39;s computer/cmd: \r\n\r\nmvn archetype:generate -DgroupdId=com.newApp -DartifactId=sampleWeb -DarchetypeArtifactId=maven-archetype-webapp -DinterfaceMode=false\r\n\r\nAlso, the same with -DarchetypeArtifactId=maven-archetype-quickstart.\r\n\r\nHowever, this fails to run on mine:maven-archetype-webapp but maven-archetype-quickstart works on mine. Any clues why? and what should I do?\r\n\r\nThanks for all the answers!","title":"-DarchetypeArtifactId=maven-archetype-quickstart works but -DarchetypeArtifactId=maven-archetype-webapp does not?","body":"<p>I was watching a tutorial and this statement totally works on the instructor's computer/cmd: </p>\n\n<p>mvn archetype:generate -DgroupdId=com.newApp -DartifactId=sampleWeb -DarchetypeArtifactId=maven-archetype-webapp -DinterfaceMode=false</p>\n\n<p>Also, the same with -DarchetypeArtifactId=maven-archetype-quickstart.</p>\n\n<p>However, this fails to run on mine:maven-archetype-webapp but maven-archetype-quickstart works on mine. Any clues why? and what should I do?</p>\n\n<p>Thanks for all the answers!</p>\n"},{"tags":["java","spring-boot","validation","exceptionhandler"],"comments":[{"owner":{"account_id":18586978,"reputation":2220,"user_id":15000097,"display_name":"Georgii Lvov"},"score":0,"creation_date":1643379020,"post_id":70894623,"comment_id":125330754,"body_markdown":"Can you share how you build your `ErrorResponse` for `handleMethodArgNotValidException`?","body":"Can you share how you build your <code>ErrorResponse</code> for <code>handleMethodArgNotValidException</code>?"}],"answers":[{"tags":[],"owner":{"account_id":18586978,"reputation":2220,"user_id":15000097,"display_name":"Georgii Lvov"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1643380773,"creation_date":1643380168,"answer_id":70895364,"question_id":70894623,"body_markdown":"You can get the `BindingResult` from `MethodArgumentNotValidException` and then compose a message based on all rejected fields, for example: \r\n&lt;!-- language: java --&gt;\r\n\r\n    @ControllerAdvice\r\n    public class GlobalExceptionHandler {\r\n    \r\n        @ResponseStatus(HttpStatus.BAD_REQUEST)\r\n        @ExceptionHandler(value = {MethodArgumentNotValidException.class})\r\n        protected ResponseEntity&lt;ErrorResponse&gt; handleMethodArgNotValidException(MethodArgumentNotValidException ex, Locale locale) {\r\n    \r\n            String errorMessage = ex.getBindingResult()\r\n                    .getFieldErrors()\r\n                    .stream()\r\n                    .map(fieldError -&gt; fieldError.getField() + &quot;: &quot; + fieldError.getDefaultMessage())\r\n                    .collect(Collectors.joining(&quot;; &quot;));\r\n    \r\n            // put errorMessage into ErrorResponse\r\n            // return ResponseEntity&lt;ErrorResponse&gt;\r\n        }\r\n    }\r\n\r\nExample of possible output with message:\r\n\r\n    {\r\n        &quot;timestamp&quot;: &quot;2022-01-28T17:18:53.1738558+03:00&quot;,\r\n        &quot;status&quot;: 400,\r\n        &quot;error&quot;: &quot;BadRequest&quot;,\r\n        &quot;errorMessage&quot;: &quot;userName: userName is blank; secretKey: secretKey is blank&quot;\r\n    }","title":"Can I get all validation errors in spring boot web application?","body":"<p>You can get the <code>BindingResult</code> from <code>MethodArgumentNotValidException</code> and then compose a message based on all rejected fields, for example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ControllerAdvice\npublic class GlobalExceptionHandler {\n\n    @ResponseStatus(HttpStatus.BAD_REQUEST)\n    @ExceptionHandler(value = {MethodArgumentNotValidException.class})\n    protected ResponseEntity&lt;ErrorResponse&gt; handleMethodArgNotValidException(MethodArgumentNotValidException ex, Locale locale) {\n\n        String errorMessage = ex.getBindingResult()\n                .getFieldErrors()\n                .stream()\n                .map(fieldError -&gt; fieldError.getField() + &quot;: &quot; + fieldError.getDefaultMessage())\n                .collect(Collectors.joining(&quot;; &quot;));\n\n        // put errorMessage into ErrorResponse\n        // return ResponseEntity&lt;ErrorResponse&gt;\n    }\n}\n</code></pre>\n<p>Example of possible output with message:</p>\n<pre><code>{\n    &quot;timestamp&quot;: &quot;2022-01-28T17:18:53.1738558+03:00&quot;,\n    &quot;status&quot;: 400,\n    &quot;error&quot;: &quot;BadRequest&quot;,\n    &quot;errorMessage&quot;: &quot;userName: userName is blank; secretKey: secretKey is blank&quot;\n}\n</code></pre>\n"}],"owner":{"account_id":2410972,"reputation":373,"user_id":2106025,"display_name":"asvni"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3007,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70895364,"answer_count":1,"score":2,"last_activity_date":1643721227,"creation_date":1643376927,"question_id":70894623,"body_markdown":"I have a pojo like below (please assume a controller and rest of the code. Application is in Spring boot):\r\n```\r\n@Getter  @Setter\r\n@AllArgsConstructor  @NoArgsConstructor\r\npublic class User  {\r\n    @NotBlank(message = &quot;userName is blank&quot;)\r\n    private String userName;\r\n\r\n    @NotBlank(message = &quot;secretKey is blank&quot;)\r\n    private String secretKey;\r\n}\r\n```\r\n\r\nand defined a ExceptionHandler class annotated with ```@ControllerAdvice``` and defined a method as bellow:\r\n```\r\n    @ResponseStatus(HttpStatus.BAD_REQUEST)\r\n    @ExceptionHandler(value = {MethodArgumentNotValidException.class})\r\n    protected ResponseEntity&lt;ErrorResponse&gt; handleMethodArgNotValidException(MethodArgumentNotValidException ex,Locale locale) {\r\n        // code to handle exception.\r\n    }\r\n\r\n    @ResponseStatus(HttpStatus.BAD_REQUEST)\r\n    @ExceptionHandler(value = {WebExchangeBindException.class})\r\n    protected ResponseEntity&lt;ErrorResponse&gt; handleException(WebExchangeBindException ex, Locale locale) {\r\n        // code to handle exception.\r\n    }\r\n```\r\n\r\n\r\nBut in this case even if both fields have validation errors client is getting only one.\r\n\r\nI want to ask that is there any way I can list out all the validation errors in the response of this endpoint?\r\n\r\n```\r\ncurl --location --request POST &#39;localhost/api/login&#39; \\\r\n--header &#39;Content-Type: application/json&#39; \\\r\n--data-raw &#39;{\r\n    &quot;userName&quot;: null,\r\n    &quot;secretKey&quot;: null\r\n}&#39;\r\n\r\n```","title":"Can I get all validation errors in spring boot web application?","body":"<p>I have a pojo like below (please assume a controller and rest of the code. Application is in Spring boot):</p>\n<pre><code>@Getter  @Setter\n@AllArgsConstructor  @NoArgsConstructor\npublic class User  {\n    @NotBlank(message = &quot;userName is blank&quot;)\n    private String userName;\n\n    @NotBlank(message = &quot;secretKey is blank&quot;)\n    private String secretKey;\n}\n</code></pre>\n<p>and defined a ExceptionHandler class annotated with <code>@ControllerAdvice</code> and defined a method as bellow:</p>\n<pre><code>    @ResponseStatus(HttpStatus.BAD_REQUEST)\n    @ExceptionHandler(value = {MethodArgumentNotValidException.class})\n    protected ResponseEntity&lt;ErrorResponse&gt; handleMethodArgNotValidException(MethodArgumentNotValidException ex,Locale locale) {\n        // code to handle exception.\n    }\n\n    @ResponseStatus(HttpStatus.BAD_REQUEST)\n    @ExceptionHandler(value = {WebExchangeBindException.class})\n    protected ResponseEntity&lt;ErrorResponse&gt; handleException(WebExchangeBindException ex, Locale locale) {\n        // code to handle exception.\n    }\n</code></pre>\n<p>But in this case even if both fields have validation errors client is getting only one.</p>\n<p>I want to ask that is there any way I can list out all the validation errors in the response of this endpoint?</p>\n<pre><code>curl --location --request POST 'localhost/api/login' \\\n--header 'Content-Type: application/json' \\\n--data-raw '{\n    &quot;userName&quot;: null,\n    &quot;secretKey&quot;: null\n}'\n\n</code></pre>\n"},{"tags":["java","html","css","scroll","swipe"],"comments":[{"owner":{"account_id":13459822,"reputation":1807,"user_id":9712270,"display_name":"magicmn"},"score":0,"creation_date":1642924919,"post_id":70819095,"comment_id":125199097,"body_markdown":"*that scroll function*. What scroll function are you referring too? Anything dynamic in the browsers is usually written in JavaScript. Java has other use cases.","body":"<i>that scroll function</i>. What scroll function are you referring too? Anything dynamic in the browsers is usually written in JavaScript. Java has other use cases."},{"owner":{"account_id":24025057,"reputation":1,"user_id":18006779,"display_name":"Isaac Oltean"},"score":0,"creation_date":1642964116,"post_id":70819095,"comment_id":125208157,"body_markdown":"You know how tik tok or YouTube shorts you swipe them there’s another video hope that makes sense","body":"You know how tik tok or YouTube shorts you swipe them there’s another video hope that makes sense"}],"answers":[{"tags":[],"owner":{"account_id":8902663,"reputation":1431,"user_id":6645624,"display_name":"K.Mat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1643721189,"creation_date":1643721189,"answer_id":70941177,"question_id":70819095,"body_markdown":"To create this smooth scrolling you could use [`scrollToView()`](https://developer.mozilla.org/en-US/docs/Web/API/Element/scrollIntoView) method.\r\n\r\nWhen it comes to website architecture, I would do two sections, each filling whole screen, and each with loaded video.\r\n\r\n**index.html**\r\n```html\r\n&lt;div id=&quot;first&quot;&gt;\r\n    &lt;video width=&quot;320&quot; height=&quot;240&quot; controls&gt;\r\n        &lt;source src=&quot;video1.mp4&quot; type=&quot;video/mp4&quot;&gt;\r\n    &lt;/video&gt;\r\n&lt;/div&gt;\r\n&lt;div id=&quot;second&quot;&gt;\r\n    &lt;video width=&quot;320&quot; height=&quot;240&quot; controls&gt;\r\n        &lt;source src=&quot;video2.mp4&quot; type=&quot;video/mp4&quot;&gt;\r\n    &lt;/video&gt;\r\n&lt;/div&gt;\r\n```\r\n**main.css**\r\n```css\r\n#first, #second {\r\n    width: 100vw;\r\n    heihjt: 100vh;\r\n}\r\nbody::-webkit-scrollbar {\r\n    display: none;\r\n}\r\n```\r\nNext in javascript you could listen to scroll action.\r\n\r\n**main.js**\r\n```js\r\nvar first_section  = document.getElementById(&#39;first&#39;)\r\nvar second_section = document.getElementById(&#39;second&#39;)\r\n\r\nwindow.onscroll = function(){\r\n\r\n    // scroll next into view\r\n    second_section.scrollIntoView({behavior: &quot;smooth&quot;})\r\n\r\n    // remove first_section element and create it below second_section element\r\n    section_html = first_section.innerHtml\r\n    first_section.remove()\r\n    first_section = document.createElement(div)\r\n    second_section.id = &#39;first&#39;\r\n    first_section.id = &#39;second&#39;\r\n    first_section.innerHtml = section_html\r\n    second_section.parentNode.appendChild(first_section)\r\n} \r\n```","title":"How to make a swipe/scroll function that feeds media like social media apps","body":"<p>To create this smooth scrolling you could use <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Element/scrollIntoView\" rel=\"nofollow noreferrer\"><code>scrollToView()</code></a> method.</p>\n<p>When it comes to website architecture, I would do two sections, each filling whole screen, and each with loaded video.</p>\n<p><strong>index.html</strong></p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;div id=&quot;first&quot;&gt;\n    &lt;video width=&quot;320&quot; height=&quot;240&quot; controls&gt;\n        &lt;source src=&quot;video1.mp4&quot; type=&quot;video/mp4&quot;&gt;\n    &lt;/video&gt;\n&lt;/div&gt;\n&lt;div id=&quot;second&quot;&gt;\n    &lt;video width=&quot;320&quot; height=&quot;240&quot; controls&gt;\n        &lt;source src=&quot;video2.mp4&quot; type=&quot;video/mp4&quot;&gt;\n    &lt;/video&gt;\n&lt;/div&gt;\n</code></pre>\n<p><strong>main.css</strong></p>\n<pre class=\"lang-css prettyprint-override\"><code>#first, #second {\n    width: 100vw;\n    heihjt: 100vh;\n}\nbody::-webkit-scrollbar {\n    display: none;\n}\n</code></pre>\n<p>Next in javascript you could listen to scroll action.</p>\n<p><strong>main.js</strong></p>\n<pre class=\"lang-js prettyprint-override\"><code>var first_section  = document.getElementById('first')\nvar second_section = document.getElementById('second')\n\nwindow.onscroll = function(){\n\n    // scroll next into view\n    second_section.scrollIntoView({behavior: &quot;smooth&quot;})\n\n    // remove first_section element and create it below second_section element\n    section_html = first_section.innerHtml\n    first_section.remove()\n    first_section = document.createElement(div)\n    second_section.id = 'first'\n    first_section.id = 'second'\n    first_section.innerHtml = section_html\n    second_section.parentNode.appendChild(first_section)\n} \n</code></pre>\n"}],"owner":{"account_id":24025057,"reputation":1,"user_id":18006779,"display_name":"Isaac Oltean"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":716,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":70941177,"answer_count":1,"score":-1,"last_activity_date":1643721189,"creation_date":1642911589,"question_id":70819095,"body_markdown":"I’m brain storming an app like tik tok or YouTube shorts I believe I can use my html/css to make the UI but I have know idea how I can do that scroll function preferably in Java because that’s the only other language I’m familiar with\r\n\r\nThanks! Btw this is my first question I’ve asked hope I did right ","title":"How to make a swipe/scroll function that feeds media like social media apps","body":"<p>I’m brain storming an app like tik tok or YouTube shorts I believe I can use my html/css to make the UI but I have know idea how I can do that scroll function preferably in Java because that’s the only other language I’m familiar with</p>\n<p>Thanks! Btw this is my first question I’ve asked hope I did right</p>\n"},{"tags":["java","json","jackson","json-deserialization"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1643701473,"post_id":70936895,"comment_id":125403241,"body_markdown":"Since the keys for the products seem to be arbitrary I&#39;d say you need a `Map&lt;String, Product&gt;`. To map this I&#39;d suggest you put it into `Stores` using the name `products` (and remove `productsSet` which doesn&#39;t make sense here - a set would be mapped to a JSON array and your JSON doesn&#39;t have an array at that property).","body":"Since the keys for the products seem to be arbitrary I&#39;d say you need a <code>Map&lt;String, Product&gt;</code>. To map this I&#39;d suggest you put it into <code>Stores</code> using the name <code>products</code> (and remove <code>productsSet</code> which doesn&#39;t make sense here - a set would be mapped to a JSON array and your JSON doesn&#39;t have an array at that property)."}],"answers":[{"tags":[],"owner":{"account_id":5094214,"reputation":11492,"user_id":4086177,"accept_rate":25,"display_name":"Beri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643702423,"creation_date":1643702097,"answer_id":70937133,"question_id":70936895,"body_markdown":"The main problem is that your products are dynamic, and can be any number of them. So you are not dealing with a collection (Set or List), but more with a dictionary, like a Map.\r\n\r\nThis solution might not be the desired (will need an adapter to desired model):\r\n\r\n \r\n    class Stores {\r\n\r\n        @JsonProperty(&quot;id&quot;)\r\n        private int id;\r\n\r\n        @JsonProperty(&quot;products&quot;)\r\n        private Products productsSet;\r\n    }\r\n\r\n    @Getter\r\n    @Setter\r\n    class Products extends LinkedHashMap&lt;String, String[]&gt; {\r\n    }\r\n\r\nAnd the test:\r\n\r\n       Store store = mapper.readValue(&quot;{\\&quot;store\\&quot;: ....&quot;, Store.class);\r\n\r\n        assertEquals(1, store.stores.size());\r\n\r\n        Products product = store.getStores().stream().map(Stores::getProductsSet).findFirst().orElseThrow();\r\n        product.forEach((name, prices) -&gt; {\r\n            System.out.println(name + &quot;: &quot; + Arrays.toString(prices));\r\n        });\r\n\r\nWill print:\r\n\r\n    prod1: [price, quantity]\r\n    prod2: [price, quantity]\r\n    prod3: [price, quantity]\r\n\r\n======================================================================\r\n\r\nBetter approach would be to use a collection to represent products:\r\n\r\n    {\r\n      &quot;store&quot;: [\r\n        {\r\n          &quot;id&quot;: &quot;100&quot;,\r\n          &quot;products&quot;: [\r\n            {&quot;name&quot;: &quot;prod1&quot;, &quot;prices&quot;: [&quot;price&quot;,&quot;quantity&quot;]},\r\n            {&quot;name&quot;: &quot;prod2&quot;, &quot;prices&quot;: [&quot;price&quot;,&quot;quantity&quot;]},\r\n            {&quot;name&quot;: &quot;prod3&quot;, &quot;prices&quot;: [&quot;price&quot;,&quot;quantity&quot;]}\r\n          ]\r\n        }\r\n      ]\r\n    }\r\n\r\nThe only downside of this approach would be the possibility of duplicates. But it depends if you can change the JSON structure.","title":"How to correctly map a JSON structure to an object?","body":"<p>The main problem is that your products are dynamic, and can be any number of them. So you are not dealing with a collection (Set or List), but more with a dictionary, like a Map.</p>\n<p>This solution might not be the desired (will need an adapter to desired model):</p>\n<pre><code>class Stores {\n\n    @JsonProperty(&quot;id&quot;)\n    private int id;\n\n    @JsonProperty(&quot;products&quot;)\n    private Products productsSet;\n}\n\n@Getter\n@Setter\nclass Products extends LinkedHashMap&lt;String, String[]&gt; {\n}\n</code></pre>\n<p>And the test:</p>\n<pre><code>   Store store = mapper.readValue(&quot;{\\&quot;store\\&quot;: ....&quot;, Store.class);\n\n    assertEquals(1, store.stores.size());\n\n    Products product = store.getStores().stream().map(Stores::getProductsSet).findFirst().orElseThrow();\n    product.forEach((name, prices) -&gt; {\n        System.out.println(name + &quot;: &quot; + Arrays.toString(prices));\n    });\n</code></pre>\n<p>Will print:</p>\n<pre><code>prod1: [price, quantity]\nprod2: [price, quantity]\nprod3: [price, quantity]\n</code></pre>\n<p>======================================================================</p>\n<p>Better approach would be to use a collection to represent products:</p>\n<pre><code>{\n  &quot;store&quot;: [\n    {\n      &quot;id&quot;: &quot;100&quot;,\n      &quot;products&quot;: [\n        {&quot;name&quot;: &quot;prod1&quot;, &quot;prices&quot;: [&quot;price&quot;,&quot;quantity&quot;]},\n        {&quot;name&quot;: &quot;prod2&quot;, &quot;prices&quot;: [&quot;price&quot;,&quot;quantity&quot;]},\n        {&quot;name&quot;: &quot;prod3&quot;, &quot;prices&quot;: [&quot;price&quot;,&quot;quantity&quot;]}\n      ]\n    }\n  ]\n}\n</code></pre>\n<p>The only downside of this approach would be the possibility of duplicates. But it depends if you can change the JSON structure.</p>\n"},{"tags":[],"owner":{"account_id":21467990,"reputation":11,"user_id":15817574,"display_name":"Денис Шарыпов"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643721105,"creation_date":1643721105,"answer_id":70941165,"question_id":70936895,"body_markdown":"It worked\r\n\r\n    @Data\r\n    @NoArgsConstructor\r\n    public class Stores {\r\n    \r\n        @JsonProperty(&quot;id&quot;)\r\n        private int id;\r\n    \r\n        @JsonProperty(&quot;products&quot;)\r\n        private Map&lt;String, T&gt; productsSet;\r\n    }    ","title":"How to correctly map a JSON structure to an object?","body":"<p>It worked</p>\n<pre><code>@Data\n@NoArgsConstructor\npublic class Stores {\n\n    @JsonProperty(&quot;id&quot;)\n    private int id;\n\n    @JsonProperty(&quot;products&quot;)\n    private Map&lt;String, T&gt; productsSet;\n}    \n</code></pre>\n"}],"owner":{"account_id":21467990,"reputation":11,"user_id":15817574,"display_name":"Денис Шарыпов"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":880,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1643721105,"creation_date":1643700633,"question_id":70936895,"body_markdown":"How to correctly map the following structure to an object\r\nThere is JSON:\r\n \r\n```json\r\n{&quot;store&quot;: [{\r\n      &quot;id&quot;:&quot;100&quot;,\r\n      &quot;products&quot;: {\r\n         &quot;prod1&quot;:[&quot;price&quot;,&quot;quantity&quot;],   //Maximum 2 elements\r\n         &quot;prod2&quot;:[&quot;price&quot;,&quot;quantity&quot;],   //Maximum 2 elements\r\n         &quot;prod3&quot;:[&quot;price&quot;,&quot;quantity&quot;]    //Maximum 2 elements\r\n         //There may be many (known or not..prod4, prod5....)\r\n        }}]}\r\n```\r\n\r\nClasses:\r\n\r\n```java\r\n@Data\r\n@NoArgsConstructor\r\npublic class Store {\r\n\r\n    @JsonProperty(&quot;store&quot;)\r\n    private Set&lt;Stores&gt; stores;\r\n}\r\n\r\n@Data\r\n@NoArgsConstructor\r\npublic class Stores {\r\n\r\n    @JsonProperty(&quot;id&quot;)\r\n    private int id;\r\n\r\n    @JsonProperty(&quot;products&quot;)\r\n    private Set&lt;Products&gt; productsSet;\r\n}    \r\n\r\n@Data\r\n@NoArgsConstructor\r\npublic class Products {\r\n    ??????\r\n}\r\n```\r\n\r\nHow do I need to write in class Products?\r\n\r\nMapper:\r\n```java\r\n//omit exceptions and other code\r\npublic Store toStoreFromJson(String str) {\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    return mapper.readValue(str, Store.class);\r\n\r\n}\r\n```","title":"How to correctly map a JSON structure to an object?","body":"<p>How to correctly map the following structure to an object\nThere is JSON:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{&quot;store&quot;: [{\n      &quot;id&quot;:&quot;100&quot;,\n      &quot;products&quot;: {\n         &quot;prod1&quot;:[&quot;price&quot;,&quot;quantity&quot;],   //Maximum 2 elements\n         &quot;prod2&quot;:[&quot;price&quot;,&quot;quantity&quot;],   //Maximum 2 elements\n         &quot;prod3&quot;:[&quot;price&quot;,&quot;quantity&quot;]    //Maximum 2 elements\n         //There may be many (known or not..prod4, prod5....)\n        }}]}\n</code></pre>\n<p>Classes:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\n@NoArgsConstructor\npublic class Store {\n\n    @JsonProperty(&quot;store&quot;)\n    private Set&lt;Stores&gt; stores;\n}\n\n@Data\n@NoArgsConstructor\npublic class Stores {\n\n    @JsonProperty(&quot;id&quot;)\n    private int id;\n\n    @JsonProperty(&quot;products&quot;)\n    private Set&lt;Products&gt; productsSet;\n}    \n\n@Data\n@NoArgsConstructor\npublic class Products {\n    ??????\n}\n</code></pre>\n<p>How do I need to write in class Products?</p>\n<p>Mapper:</p>\n<pre class=\"lang-java prettyprint-override\"><code>//omit exceptions and other code\npublic Store toStoreFromJson(String str) {\n    ObjectMapper mapper = new ObjectMapper();\n    return mapper.readValue(str, Store.class);\n\n}\n</code></pre>\n"},{"tags":["java","intellij-idea","io","relative-path","file-exists"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1643322171,"post_id":70886499,"comment_id":125316221,"body_markdown":"*&quot;and they are both located in the folder &quot;src&quot;&quot;* - Well, that&#39;s your problem.  The `text1.txt` file needs to reside within the working directory.  Keep in mind, when the program is exported, the contents of `src` won&#39;t be available to your program, instead, in that context (and depending on the build system and IDE) it will become and embedded resource","body":"<i>&quot;and they are both located in the folder &quot;src&quot;&quot;</i> - Well, that&#39;s your problem.  The <code>text1.txt</code> file needs to reside within the working directory.  Keep in mind, when the program is exported, the contents of <code>src</code> won&#39;t be available to your program, instead, in that context (and depending on the build system and IDE) it will become and embedded resource"},{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":0,"creation_date":1643322706,"post_id":70886499,"comment_id":125316334,"body_markdown":"To add to your question - from your code this issue is resolved if you write to the file before you check if it exists.","body":"To add to your question - from your code this issue is resolved if you write to the file before you check if it exists."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":2,"creation_date":1643584934,"post_id":70886499,"comment_id":125372980,"body_markdown":"Does this answer your question? [Java Cannot find file?](https://stackoverflow.com/questions/26056171/java-cannot-find-file)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/26056171/java-cannot-find-file\">Java Cannot find file?</a>"}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1643322680,"creation_date":1643322680,"answer_id":70886623,"question_id":70886499,"body_markdown":"An absolute path starts from the filesystem root. Compare it to an address on a letter. The postman knows where to deliver that letter.\r\n\r\nA relative path is not a target address. It is more like - when you see the gas station, turn left. Depending from which direction you come, you end up in various other locations.\r\n\r\nBack to computers: relative paths are calculated based on a current working directory. You can print that from your java program by checking\r\n\r\nhttps://stackoverflow.com/questions/4871051/how-to-get-the-current-working-directory-in-java\r\n\r\nI usually write my code to be a bit clearer about the events. The following code will not only tell whether it found the file but also let you know where exactly it was searching for it.\r\n\r\n            // File object\r\n            File myFile = new File(&quot;text1.txt&quot;);\r\n\r\n            // Prints a String, that tells you if the file exists\r\n            System.out.println(&quot;File &quot;+myFile.getAbsolutePath()+&quot; exists = &quot; + myFile.exists());","title":".exist() - file does not exist, when using relative path","body":"<p>An absolute path starts from the filesystem root. Compare it to an address on a letter. The postman knows where to deliver that letter.</p>\n<p>A relative path is not a target address. It is more like - when you see the gas station, turn left. Depending from which direction you come, you end up in various other locations.</p>\n<p>Back to computers: relative paths are calculated based on a current working directory. You can print that from your java program by checking</p>\n<p><a href=\"https://stackoverflow.com/questions/4871051/how-to-get-the-current-working-directory-in-java\">How to get the current working directory in Java?</a></p>\n<p>I usually write my code to be a bit clearer about the events. The following code will not only tell whether it found the file but also let you know where exactly it was searching for it.</p>\n<pre><code>        // File object\n        File myFile = new File(&quot;text1.txt&quot;);\n\n        // Prints a String, that tells you if the file exists\n        System.out.println(&quot;File &quot;+myFile.getAbsolutePath()+&quot; exists = &quot; + myFile.exists());\n</code></pre>\n"}],"owner":{"display_name":"user18022139"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1454,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"closed_date":1643717061,"accepted_answer_id":70886623,"answer_count":1,"score":1,"last_activity_date":1643720906,"creation_date":1643321902,"question_id":70886499,"body_markdown":"Edit: If you have landed on this question, chances are you are unfamiliar with the concept - working directory.\r\n\r\nI don&#39;t know if this is specific to IntelliJ IDEA&#39;s current working directory or I do not understand the concept of relative files well enough. I did come to a conclusion that solves my problem, but it leaves a lot of things unanswered for me, I don&#39;t like to just memorize stuff, I want to understand it. That is why I am asking this question here, thank you in advance.\r\n\r\nLet&#39;s say you have\r\n1. a Class called `Main`\r\n2. a text file called `text1.txt`\r\n\r\nand they are both located in the folder `src`\r\n\r\nIn the `Main` class you have written the following code\r\n```java\r\npublic class Main {\r\n\r\n\tpublic static void main(String[] args) {\t\t\r\n\t\t// Scanner\r\n\t\tScanner scanner = new Scanner(System.in);\t\t\r\n\t\t// File object\r\n\t\tFile myFile = new File(&quot;text1.txt&quot;);\r\n\t\t// Prints a String, that tells you if the file exists\r\n\t\tSystem.out.println(&quot;File exists = &quot; + myFile.exists());\r\n\t}\r\n\r\n}\r\n```\r\n\r\n`\r\nResult:\r\nFile exists = false\r\n`\r\n\r\nWhy does this happen?\r\n\r\n\r\nThe question has received a good answer already, however, if you find this is not enough for you, then read the article below, it goes more in-depth.\r\n\r\nhttps://www.earthdatascience.org/courses/intro-to-earth-data-science/python-code-fundamentals/work-with-files-directories-paths-in-python/","title":".exist() - file does not exist, when using relative path","body":"<p>Edit: If you have landed on this question, chances are you are unfamiliar with the concept - working directory.</p>\n<p>I don't know if this is specific to IntelliJ IDEA's current working directory or I do not understand the concept of relative files well enough. I did come to a conclusion that solves my problem, but it leaves a lot of things unanswered for me, I don't like to just memorize stuff, I want to understand it. That is why I am asking this question here, thank you in advance.</p>\n<p>Let's say you have</p>\n<ol>\n<li>a Class called <code>Main</code></li>\n<li>a text file called <code>text1.txt</code></li>\n</ol>\n<p>and they are both located in the folder <code>src</code></p>\n<p>In the <code>Main</code> class you have written the following code</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n\n    public static void main(String[] args) {        \n        // Scanner\n        Scanner scanner = new Scanner(System.in);       \n        // File object\n        File myFile = new File(&quot;text1.txt&quot;);\n        // Prints a String, that tells you if the file exists\n        System.out.println(&quot;File exists = &quot; + myFile.exists());\n    }\n\n}\n</code></pre>\n<p><code>Result: File exists = false</code></p>\n<p>Why does this happen?</p>\n<p>The question has received a good answer already, however, if you find this is not enough for you, then read the article below, it goes more in-depth.</p>\n<p><a href=\"https://www.earthdatascience.org/courses/intro-to-earth-data-science/python-code-fundamentals/work-with-files-directories-paths-in-python/\" rel=\"nofollow noreferrer\">https://www.earthdatascience.org/courses/intro-to-earth-data-science/python-code-fundamentals/work-with-files-directories-paths-in-python/</a></p>\n"},{"tags":["java","memory","heroku"],"comments":[{"owner":{"account_id":24809,"reputation":10138,"user_id":63308,"accept_rate":89,"display_name":"codefinger"},"score":0,"creation_date":1484229535,"post_id":41602749,"comment_id":70431322,"body_markdown":"Have you tried [Monitoring JVM Metrics with the Heroku Java Agent](https://devcenter.heroku.com/articles/monitoring-jvm-metrics-with-the-heroku-java-agent)? What libraries are you using? Some libraries (like Ehache use lots of off-heap memory).","body":"Have you tried <a href=\"https://devcenter.heroku.com/articles/monitoring-jvm-metrics-with-the-heroku-java-agent\" rel=\"nofollow noreferrer\">Monitoring JVM Metrics with the Heroku Java Agent</a>? What libraries are you using? Some libraries (like Ehache use lots of off-heap memory)."},{"owner":{"account_id":24809,"reputation":10138,"user_id":63308,"accept_rate":89,"display_name":"codefinger"},"score":0,"creation_date":1484229587,"post_id":41602749,"comment_id":70431366,"body_markdown":"The logs say the app is using 587M of memory, which is more than the 512M limit","body":"The logs say the app is using 587M of memory, which is more than the 512M limit"},{"owner":{"account_id":129028,"reputation":39302,"user_id":327301,"accept_rate":66,"display_name":"yankee"},"score":0,"creation_date":1485258699,"post_id":41602749,"comment_id":70841839,"body_markdown":"@codefinger: I added more logs to my question. Also I am using a lot of libraries, especially the Ecosystem around the spring framework. But I am not aware of using anything that uses off-heap memory, but maybe that is wrong. How can I find out?","body":"@codefinger: I added more logs to my question. Also I am using a lot of libraries, especially the Ecosystem around the spring framework. But I am not aware of using anything that uses off-heap memory, but maybe that is wrong. How can I find out?"}],"answers":[{"tags":[],"owner":{"account_id":24809,"reputation":10138,"user_id":63308,"accept_rate":89,"display_name":"codefinger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1485354963,"creation_date":1485354963,"answer_id":41854260,"question_id":41602749,"body_markdown":"This isn&#39;t really an answer, but may help:\r\n\r\nI looks like you have a surge (or possibly a leak) in off-heap memory consumption. The source is almost certainly the CSV processing. Here&#39;s a good article that describes a similar problem.\r\nhttp://www.evanjones.ca/java-native-leak-bug.html","title":"Why is my Java app exceeding Heroku memory limit?","body":"<p>This isn't really an answer, but may help:</p>\n\n<p>I looks like you have a surge (or possibly a leak) in off-heap memory consumption. The source is almost certainly the CSV processing. Here's a good article that describes a similar problem.\n<a href=\"http://www.evanjones.ca/java-native-leak-bug.html\" rel=\"nofollow noreferrer\">http://www.evanjones.ca/java-native-leak-bug.html</a></p>\n"},{"tags":[],"owner":{"account_id":14482915,"reputation":111,"user_id":10461682,"display_name":"Pawel W"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643720564,"creation_date":1643720564,"answer_id":70941037,"question_id":41602749,"body_markdown":"If you have exceeded about:\r\n\r\nProcess running mem=574M(111.5%)\r\n\r\nmaybe it is impossible do decrease under 500 in your app, i had similar problems with app and now my app works correct under 512MB.\r\nyou can try some of these options (my docker example):\r\n\r\n\r\n    ENTRYPOINT [&quot;java&quot;,&quot;-Dserver.port=$PORT&quot;,&quot;-Xmx268M&quot;,&quot;-Xss512K&quot;,&quot;- \r\n    XX:CICompilerCount=2&quot;,&quot;-Dfile.encoding=UTF-8&quot;,&quot;- \r\n    XX:+UseContainerSupport&quot;,&quot;-Djava.security.egd=file:/dev/./urandom&quot;,&quot;- \r\n    Xlog:gc&quot;,&quot;-jar&quot;,&quot;/app.jar&quot;]\r\n\r\nof course Xmx value you have to match to your case (maybe more maybe less)\r\n\r\n","title":"Why is my Java app exceeding Heroku memory limit?","body":"<p>If you have exceeded about:</p>\n<p>Process running mem=574M(111.5%)</p>\n<p>maybe it is impossible do decrease under 500 in your app, i had similar problems with app and now my app works correct under 512MB.\nyou can try some of these options (my docker example):</p>\n<pre><code>ENTRYPOINT [&quot;java&quot;,&quot;-Dserver.port=$PORT&quot;,&quot;-Xmx268M&quot;,&quot;-Xss512K&quot;,&quot;- \nXX:CICompilerCount=2&quot;,&quot;-Dfile.encoding=UTF-8&quot;,&quot;- \nXX:+UseContainerSupport&quot;,&quot;-Djava.security.egd=file:/dev/./urandom&quot;,&quot;- \nXlog:gc&quot;,&quot;-jar&quot;,&quot;/app.jar&quot;]\n</code></pre>\n<p>of course Xmx value you have to match to your case (maybe more maybe less)</p>\n"}],"owner":{"account_id":129028,"reputation":39302,"user_id":327301,"accept_rate":66,"display_name":"yankee"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2459,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1643720564,"creation_date":1484177825,"question_id":41602749,"body_markdown":"I have a Java web app running on heroku which keeps generating &quot;Memory quota exceeded&quot; messages. The app itself is quite big and has a lot of libraries, but it is getting only very few requests (it is only used by a handful of users so if none of the users are online the system may not get a single request for hours) and thus performance is not a primary problem.\r\n\r\nEven though the is very little happening in my app the memory consumption is consistently high:\r\n\r\n[![high memory consumption graph screenshot][1]][1]\r\n\r\nBefore deploying the app on heroku I deployed the app using docker containers and never worried much about memory setting leaving everything at the defaults. The whole container usually consumed about 300 MB.\r\n\r\nThe first thing I tried was to reduce memory consumtion by using `-Xmx256m -Xss512k` however this did not seem to have any effect.\r\n\r\nThe heroku manual suggests to log some data about garbage collection, so used the following flags to run my application: `-Xmx256m -Xss512k -XX:+PrintGCDetails -XX:+PrintGCDateStamps -XX:+PrintTenuringDistribution -XX:+UseConcMarkSweepGC`. This gives me e.g. the following output:\r\n\r\n    2017-01-11T22:43:39.605180+00:00 heroku[web.1]: Process running mem=588M(106.7%)\r\n    2017-01-11T22:43:39.605545+00:00 heroku[web.1]: Error R14 (Memory quota exceeded)\r\n    2017-01-11T22:43:40.431536+00:00 app[web.1]: 2017-01-11T22:43:40.348+0000: [GC (Allocation Failure) 2017-01-11T22:43:40.348+0000: [ParNew\r\n    2017-01-11T22:43:40.431566+00:00 app[web.1]: Desired survivor size 4456448 bytes, new threshold 1 (max 6)\r\n    2017-01-11T22:43:40.431579+00:00 app[web.1]: - age   1:    7676592 bytes,    7676592 total\r\n    2017-01-11T22:43:40.431593+00:00 app[web.1]: - age   2:     844048 bytes,    8520640 total\r\n    2017-01-11T22:43:40.431605+00:00 app[web.1]: - age   3:     153408 bytes,    8674048 total\r\n    2017-01-11T22:43:40.431772+00:00 app[web.1]: : 72382K-&gt;8704K(78656K), 0.0829189 secs] 139087K-&gt;78368K(253440K), 0.0830615 secs] [Times: user=0.06 sys=0.00, real=0.08 secs] \r\n    2017-01-11T22:43:41.298146+00:00 app[web.1]: 2017-01-11T22:43:41.195+0000: [GC (Allocation Failure) 2017-01-11T22:43:41.195+0000: [ParNew\r\n    2017-01-11T22:43:41.304519+00:00 app[web.1]: Desired survivor size 4456448 bytes, new threshold 1 (max 6)\r\n    2017-01-11T22:43:41.304537+00:00 app[web.1]: - age   1:    7271480 bytes,    7271480 total\r\n    2017-01-11T22:43:41.304705+00:00 app[web.1]: : 78656K-&gt;8704K(78656K), 0.1091697 secs] 148320K-&gt;81445K(253440K), 0.1092897 secs] [Times: user=0.10 sys=0.00, real=0.11 secs] \r\n    2017-01-11T22:43:42.589543+00:00 app[web.1]: 2017-01-11T22:43:42.526+0000: [GC (Allocation Failure) 2017-01-11T22:43:42.526+0000: [ParNew\r\n    2017-01-11T22:43:42.589562+00:00 app[web.1]: Desired survivor size 4456448 bytes, new threshold 1 (max 6)\r\n    2017-01-11T22:43:42.589564+00:00 app[web.1]: - age   1:    6901112 bytes,    6901112 total\r\n    2017-01-11T22:43:42.589695+00:00 app[web.1]: : 78656K-&gt;8704K(78656K), 0.0632178 secs] 151397K-&gt;83784K(253440K), 0.0633208 secs] [Times: user=0.06 sys=0.00, real=0.06 secs]\r\n    2017-01-11T22:43:57.653300+00:00 heroku[web.1]: Process running mem=587M(106.6%)\r\n    2017-01-11T22:43:57.653498+00:00 heroku[web.1]: Error R14 (Memory quota exceeded)\r\n\r\nUnfortunately I am no expert on reading those logs, but on a first naive look it looks like the app is actually not consuming an amount of memory that would be a problem (or am I horribly misreading the logs?).\r\n\r\nMy `Procfile` reads:\r\n\r\n    web: java $JAVA_OPTS -jar target/dependency/webapp-runner.jar --port $PORT --context-xml context.xml app.war\r\n\r\n## Update\r\n\r\nAs codefinger suggested I [added the Heroku Java agent to my app](https://devcenter.heroku.com/articles/monitoring-jvm-metrics-with-the-heroku-java-agent). For some reason after adding the java-agent the problem did not occur anymore. But now I have bean able to capture the problem. In the following except the memory limit was exceeded only for a short moment:\r\n\r\n    2017-01-24T10:30:00.143342+00:00 app[web.1]: measure.mem.jvm.heap.used=92M measure.mem.jvm.heap.committed=221M measure.mem.jvm.heap.max=233M\r\n    2017-01-24T10:30:00.143399+00:00 app[web.1]: measure.mem.jvm.nonheap.used=77M measure.mem.jvm.nonheap.committed=78M measure.mem.jvm.nonheap.max=0M\r\n    2017-01-24T10:30:00.143474+00:00 app[web.1]: measure.threads.jvm.total=41 measure.threads.jvm.daemon=24 measure.threads.jvm.nondaemon=2 measure.threads.jvm.internal=15\r\n    2017-01-24T10:30:00.147542+00:00 app[web.1]: measure.mem.linux.vsz=4449M measure.mem.linux.rss=446M\r\n    \r\n    2017-01-24T10:31:00.143196+00:00 app[web.1]: measure.mem.jvm.heap.used=103M measure.mem.jvm.heap.committed=251M measure.mem.jvm.heap.max=251M\r\n    2017-01-24T10:31:00.143346+00:00 app[web.1]: measure.mem.jvm.nonheap.used=101M measure.mem.jvm.nonheap.committed=103M measure.mem.jvm.nonheap.max=0M\r\n    2017-01-24T10:31:00.143468+00:00 app[web.1]: measure.threads.jvm.total=42 measure.threads.jvm.daemon=25 measure.threads.jvm.nondaemon=2 measure.threads.jvm.internal=15\r\n    2017-01-24T10:31:00.153106+00:00 app[web.1]: measure.mem.linux.vsz=4739M measure.mem.linux.rss=503M\r\n    \r\n    2017-01-24T10:31:24.163943+00:00 heroku[web.1]: Process running mem=517M(101.2%)\r\n    2017-01-24T10:31:24.164150+00:00 heroku[web.1]: Error R14 (Memory quota exceeded)\r\n    \r\n    2017-01-24T10:32:00.143066+00:00 app[web.1]: measure.mem.jvm.heap.used=108M measure.mem.jvm.heap.committed=248M measure.mem.jvm.heap.max=248M\r\n    2017-01-24T10:32:00.143103+00:00 app[web.1]: measure.mem.jvm.nonheap.used=108M measure.mem.jvm.nonheap.committed=110M measure.mem.jvm.nonheap.max=0M\r\n    2017-01-24T10:32:00.143173+00:00 app[web.1]: measure.threads.jvm.total=40 measure.threads.jvm.daemon=23 measure.threads.jvm.nondaemon=2 measure.threads.jvm.internal=15\r\n    2017-01-24T10:32:00.150558+00:00 app[web.1]: measure.mem.linux.vsz=4738M measure.mem.linux.rss=314M\r\n    \r\n    2017-01-24T10:33:00.142989+00:00 app[web.1]: measure.mem.jvm.heap.used=108M measure.mem.jvm.heap.committed=248M measure.mem.jvm.heap.max=248M\r\n    2017-01-24T10:33:00.143056+00:00 app[web.1]: measure.mem.jvm.nonheap.used=108M measure.mem.jvm.nonheap.committed=110M measure.mem.jvm.nonheap.max=0M\r\n    2017-01-24T10:33:00.143150+00:00 app[web.1]: measure.threads.jvm.total=40 measure.threads.jvm.daemon=23 measure.threads.jvm.nondaemon=2 measure.threads.jvm.internal=15\r\n    2017-01-24T10:33:00.146642+00:00 app[web.1]: measure.mem.linux.vsz=4738M measure.mem.linux.rss=313M\r\n\r\nIn the following case the limit was exceeded for a much longer time:\r\n\r\n    2017-01-25T08:14:06.202429+00:00 heroku[web.1]: Process running mem=574M(111.5%)\r\n    2017-01-25T08:14:06.202429+00:00 heroku[web.1]: Error R14 (Memory quota exceeded)\r\n    2017-01-25T08:14:26.924265+00:00 heroku[web.1]: Process running mem=574M(111.5%)\r\n    2017-01-25T08:14:26.924265+00:00 heroku[web.1]: Error R14 (Memory quota exceeded)\r\n    2017-01-25T08:14:48.082543+00:00 heroku[web.1]: Process running mem=574M(111.5%)\r\n    2017-01-25T08:14:48.082615+00:00 heroku[web.1]: Error R14 (Memory quota exceeded)\r\n    2017-01-25T08:15:00.142901+00:00 app[web.1]: measure.mem.jvm.heap.used=164M measure.mem.jvm.heap.committed=229M measure.mem.jvm.heap.max=233M\r\n    2017-01-25T08:15:00.142972+00:00 app[web.1]: measure.mem.jvm.nonheap.used=121M measure.mem.jvm.nonheap.committed=124M measure.mem.jvm.nonheap.max=0M\r\n    2017-01-25T08:15:00.143019+00:00 app[web.1]: measure.threads.jvm.total=40 measure.threads.jvm.daemon=23 measure.threads.jvm.nondaemon=2 measure.threads.jvm.internal=15\r\n    2017-01-25T08:15:00.149631+00:00 app[web.1]: measure.mem.linux.vsz=4740M measure.mem.linux.rss=410M\r\n    2017-01-25T08:15:09.339319+00:00 heroku[web.1]: Process running mem=574M(111.5%)\r\n    2017-01-25T08:15:09.339319+00:00 heroku[web.1]: Error R14 (Memory quota exceeded)\r\n    2017-01-25T08:15:30.398980+00:00 heroku[web.1]: Process running mem=574M(111.5%)\r\n    2017-01-25T08:15:30.399066+00:00 heroku[web.1]: Error R14 (Memory quota exceeded)\r\n    2017-01-25T08:15:51.140193+00:00 heroku[web.1]: Process running mem=574M(111.5%)\r\n    2017-01-25T08:15:51.140280+00:00 heroku[web.1]: Error R14 (Memory quota exceeded)\r\n    2017-01-25T08:16:00.143016+00:00 app[web.1]: measure.mem.jvm.heap.used=165M measure.mem.jvm.heap.committed=229M measure.mem.jvm.heap.max=233M\r\n    2017-01-25T08:16:00.143084+00:00 app[web.1]: measure.mem.jvm.nonheap.used=121M measure.mem.jvm.nonheap.committed=124M measure.mem.jvm.nonheap.max=0M\r\n    2017-01-25T08:16:00.143135+00:00 app[web.1]: measure.threads.jvm.total=40 measure.threads.jvm.daemon=23 measure.threads.jvm.nondaemon=2 measure.threads.jvm.internal=15\r\n    2017-01-25T08:16:00.148157+00:00 app[web.1]: measure.mem.linux.vsz=4740M measure.mem.linux.rss=410M\r\n\r\nFor the later log here is the bigger picture:\r\n\r\n[![memory limit exceeded][2]][2]\r\n\r\n(memory consumption dropped because I restarted the server)\r\n\r\nAt the time the memory limit is first exceeded a cron job (spring scheduled) imports CSV files. The CSV files are processed in batches of 10,000 lines, so there are never more than 10K rows referenced in memory. Nevertheless a lot of memory is of course consumed overall, as many batches are processed. Also I tried to trigger the imports manually to check whether I can reproduce the memory consumption peak, but I can&#39;t: This does not always happen.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0UeOa.png\r\n  [2]: https://i.stack.imgur.com/kMk3E.png","title":"Why is my Java app exceeding Heroku memory limit?","body":"<p>I have a Java web app running on heroku which keeps generating \"Memory quota exceeded\" messages. The app itself is quite big and has a lot of libraries, but it is getting only very few requests (it is only used by a handful of users so if none of the users are online the system may not get a single request for hours) and thus performance is not a primary problem.</p>\n\n<p>Even though the is very little happening in my app the memory consumption is consistently high:</p>\n\n<p><a href=\"https://i.stack.imgur.com/0UeOa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0UeOa.png\" alt=\"high memory consumption graph screenshot\"></a></p>\n\n<p>Before deploying the app on heroku I deployed the app using docker containers and never worried much about memory setting leaving everything at the defaults. The whole container usually consumed about 300 MB.</p>\n\n<p>The first thing I tried was to reduce memory consumtion by using <code>-Xmx256m -Xss512k</code> however this did not seem to have any effect.</p>\n\n<p>The heroku manual suggests to log some data about garbage collection, so used the following flags to run my application: <code>-Xmx256m -Xss512k -XX:+PrintGCDetails -XX:+PrintGCDateStamps -XX:+PrintTenuringDistribution -XX:+UseConcMarkSweepGC</code>. This gives me e.g. the following output:</p>\n\n<pre><code>2017-01-11T22:43:39.605180+00:00 heroku[web.1]: Process running mem=588M(106.7%)\n2017-01-11T22:43:39.605545+00:00 heroku[web.1]: Error R14 (Memory quota exceeded)\n2017-01-11T22:43:40.431536+00:00 app[web.1]: 2017-01-11T22:43:40.348+0000: [GC (Allocation Failure) 2017-01-11T22:43:40.348+0000: [ParNew\n2017-01-11T22:43:40.431566+00:00 app[web.1]: Desired survivor size 4456448 bytes, new threshold 1 (max 6)\n2017-01-11T22:43:40.431579+00:00 app[web.1]: - age   1:    7676592 bytes,    7676592 total\n2017-01-11T22:43:40.431593+00:00 app[web.1]: - age   2:     844048 bytes,    8520640 total\n2017-01-11T22:43:40.431605+00:00 app[web.1]: - age   3:     153408 bytes,    8674048 total\n2017-01-11T22:43:40.431772+00:00 app[web.1]: : 72382K-&gt;8704K(78656K), 0.0829189 secs] 139087K-&gt;78368K(253440K), 0.0830615 secs] [Times: user=0.06 sys=0.00, real=0.08 secs] \n2017-01-11T22:43:41.298146+00:00 app[web.1]: 2017-01-11T22:43:41.195+0000: [GC (Allocation Failure) 2017-01-11T22:43:41.195+0000: [ParNew\n2017-01-11T22:43:41.304519+00:00 app[web.1]: Desired survivor size 4456448 bytes, new threshold 1 (max 6)\n2017-01-11T22:43:41.304537+00:00 app[web.1]: - age   1:    7271480 bytes,    7271480 total\n2017-01-11T22:43:41.304705+00:00 app[web.1]: : 78656K-&gt;8704K(78656K), 0.1091697 secs] 148320K-&gt;81445K(253440K), 0.1092897 secs] [Times: user=0.10 sys=0.00, real=0.11 secs] \n2017-01-11T22:43:42.589543+00:00 app[web.1]: 2017-01-11T22:43:42.526+0000: [GC (Allocation Failure) 2017-01-11T22:43:42.526+0000: [ParNew\n2017-01-11T22:43:42.589562+00:00 app[web.1]: Desired survivor size 4456448 bytes, new threshold 1 (max 6)\n2017-01-11T22:43:42.589564+00:00 app[web.1]: - age   1:    6901112 bytes,    6901112 total\n2017-01-11T22:43:42.589695+00:00 app[web.1]: : 78656K-&gt;8704K(78656K), 0.0632178 secs] 151397K-&gt;83784K(253440K), 0.0633208 secs] [Times: user=0.06 sys=0.00, real=0.06 secs]\n2017-01-11T22:43:57.653300+00:00 heroku[web.1]: Process running mem=587M(106.6%)\n2017-01-11T22:43:57.653498+00:00 heroku[web.1]: Error R14 (Memory quota exceeded)\n</code></pre>\n\n<p>Unfortunately I am no expert on reading those logs, but on a first naive look it looks like the app is actually not consuming an amount of memory that would be a problem (or am I horribly misreading the logs?).</p>\n\n<p>My <code>Procfile</code> reads:</p>\n\n<pre><code>web: java $JAVA_OPTS -jar target/dependency/webapp-runner.jar --port $PORT --context-xml context.xml app.war\n</code></pre>\n\n<h2>Update</h2>\n\n<p>As codefinger suggested I <a href=\"https://devcenter.heroku.com/articles/monitoring-jvm-metrics-with-the-heroku-java-agent\" rel=\"nofollow noreferrer\">added the Heroku Java agent to my app</a>. For some reason after adding the java-agent the problem did not occur anymore. But now I have bean able to capture the problem. In the following except the memory limit was exceeded only for a short moment:</p>\n\n<pre><code>2017-01-24T10:30:00.143342+00:00 app[web.1]: measure.mem.jvm.heap.used=92M measure.mem.jvm.heap.committed=221M measure.mem.jvm.heap.max=233M\n2017-01-24T10:30:00.143399+00:00 app[web.1]: measure.mem.jvm.nonheap.used=77M measure.mem.jvm.nonheap.committed=78M measure.mem.jvm.nonheap.max=0M\n2017-01-24T10:30:00.143474+00:00 app[web.1]: measure.threads.jvm.total=41 measure.threads.jvm.daemon=24 measure.threads.jvm.nondaemon=2 measure.threads.jvm.internal=15\n2017-01-24T10:30:00.147542+00:00 app[web.1]: measure.mem.linux.vsz=4449M measure.mem.linux.rss=446M\n\n2017-01-24T10:31:00.143196+00:00 app[web.1]: measure.mem.jvm.heap.used=103M measure.mem.jvm.heap.committed=251M measure.mem.jvm.heap.max=251M\n2017-01-24T10:31:00.143346+00:00 app[web.1]: measure.mem.jvm.nonheap.used=101M measure.mem.jvm.nonheap.committed=103M measure.mem.jvm.nonheap.max=0M\n2017-01-24T10:31:00.143468+00:00 app[web.1]: measure.threads.jvm.total=42 measure.threads.jvm.daemon=25 measure.threads.jvm.nondaemon=2 measure.threads.jvm.internal=15\n2017-01-24T10:31:00.153106+00:00 app[web.1]: measure.mem.linux.vsz=4739M measure.mem.linux.rss=503M\n\n2017-01-24T10:31:24.163943+00:00 heroku[web.1]: Process running mem=517M(101.2%)\n2017-01-24T10:31:24.164150+00:00 heroku[web.1]: Error R14 (Memory quota exceeded)\n\n2017-01-24T10:32:00.143066+00:00 app[web.1]: measure.mem.jvm.heap.used=108M measure.mem.jvm.heap.committed=248M measure.mem.jvm.heap.max=248M\n2017-01-24T10:32:00.143103+00:00 app[web.1]: measure.mem.jvm.nonheap.used=108M measure.mem.jvm.nonheap.committed=110M measure.mem.jvm.nonheap.max=0M\n2017-01-24T10:32:00.143173+00:00 app[web.1]: measure.threads.jvm.total=40 measure.threads.jvm.daemon=23 measure.threads.jvm.nondaemon=2 measure.threads.jvm.internal=15\n2017-01-24T10:32:00.150558+00:00 app[web.1]: measure.mem.linux.vsz=4738M measure.mem.linux.rss=314M\n\n2017-01-24T10:33:00.142989+00:00 app[web.1]: measure.mem.jvm.heap.used=108M measure.mem.jvm.heap.committed=248M measure.mem.jvm.heap.max=248M\n2017-01-24T10:33:00.143056+00:00 app[web.1]: measure.mem.jvm.nonheap.used=108M measure.mem.jvm.nonheap.committed=110M measure.mem.jvm.nonheap.max=0M\n2017-01-24T10:33:00.143150+00:00 app[web.1]: measure.threads.jvm.total=40 measure.threads.jvm.daemon=23 measure.threads.jvm.nondaemon=2 measure.threads.jvm.internal=15\n2017-01-24T10:33:00.146642+00:00 app[web.1]: measure.mem.linux.vsz=4738M measure.mem.linux.rss=313M\n</code></pre>\n\n<p>In the following case the limit was exceeded for a much longer time:</p>\n\n<pre><code>2017-01-25T08:14:06.202429+00:00 heroku[web.1]: Process running mem=574M(111.5%)\n2017-01-25T08:14:06.202429+00:00 heroku[web.1]: Error R14 (Memory quota exceeded)\n2017-01-25T08:14:26.924265+00:00 heroku[web.1]: Process running mem=574M(111.5%)\n2017-01-25T08:14:26.924265+00:00 heroku[web.1]: Error R14 (Memory quota exceeded)\n2017-01-25T08:14:48.082543+00:00 heroku[web.1]: Process running mem=574M(111.5%)\n2017-01-25T08:14:48.082615+00:00 heroku[web.1]: Error R14 (Memory quota exceeded)\n2017-01-25T08:15:00.142901+00:00 app[web.1]: measure.mem.jvm.heap.used=164M measure.mem.jvm.heap.committed=229M measure.mem.jvm.heap.max=233M\n2017-01-25T08:15:00.142972+00:00 app[web.1]: measure.mem.jvm.nonheap.used=121M measure.mem.jvm.nonheap.committed=124M measure.mem.jvm.nonheap.max=0M\n2017-01-25T08:15:00.143019+00:00 app[web.1]: measure.threads.jvm.total=40 measure.threads.jvm.daemon=23 measure.threads.jvm.nondaemon=2 measure.threads.jvm.internal=15\n2017-01-25T08:15:00.149631+00:00 app[web.1]: measure.mem.linux.vsz=4740M measure.mem.linux.rss=410M\n2017-01-25T08:15:09.339319+00:00 heroku[web.1]: Process running mem=574M(111.5%)\n2017-01-25T08:15:09.339319+00:00 heroku[web.1]: Error R14 (Memory quota exceeded)\n2017-01-25T08:15:30.398980+00:00 heroku[web.1]: Process running mem=574M(111.5%)\n2017-01-25T08:15:30.399066+00:00 heroku[web.1]: Error R14 (Memory quota exceeded)\n2017-01-25T08:15:51.140193+00:00 heroku[web.1]: Process running mem=574M(111.5%)\n2017-01-25T08:15:51.140280+00:00 heroku[web.1]: Error R14 (Memory quota exceeded)\n2017-01-25T08:16:00.143016+00:00 app[web.1]: measure.mem.jvm.heap.used=165M measure.mem.jvm.heap.committed=229M measure.mem.jvm.heap.max=233M\n2017-01-25T08:16:00.143084+00:00 app[web.1]: measure.mem.jvm.nonheap.used=121M measure.mem.jvm.nonheap.committed=124M measure.mem.jvm.nonheap.max=0M\n2017-01-25T08:16:00.143135+00:00 app[web.1]: measure.threads.jvm.total=40 measure.threads.jvm.daemon=23 measure.threads.jvm.nondaemon=2 measure.threads.jvm.internal=15\n2017-01-25T08:16:00.148157+00:00 app[web.1]: measure.mem.linux.vsz=4740M measure.mem.linux.rss=410M\n</code></pre>\n\n<p>For the later log here is the bigger picture:</p>\n\n<p><a href=\"https://i.stack.imgur.com/kMk3E.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kMk3E.png\" alt=\"memory limit exceeded\"></a></p>\n\n<p>(memory consumption dropped because I restarted the server)</p>\n\n<p>At the time the memory limit is first exceeded a cron job (spring scheduled) imports CSV files. The CSV files are processed in batches of 10,000 lines, so there are never more than 10K rows referenced in memory. Nevertheless a lot of memory is of course consumed overall, as many batches are processed. Also I tried to trigger the imports manually to check whether I can reproduce the memory consumption peak, but I can't: This does not always happen.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1643720150,"post_id":70940499,"comment_id":125409894,"body_markdown":"The error message is quite clear: preview features from Java 13 are not supported in later Java releases. And you shouldn&#39;t be using preview features in production anyway (that&#39;s why they are *preview features*).  Luckily the preview features of Java 13 got turned in to real features in Java 14 and 15. So you need to recompile the source with those versions (and potentially fix any differences between the preview features and the final iteration of those features).","body":"The error message is quite clear: preview features from Java 13 are not supported in later Java releases. And you shouldn&#39;t be using preview features in production anyway (that&#39;s why they are <i>preview features</i>).  Luckily the preview features of Java 13 got turned in to real features in Java 14 and 15. So you need to recompile the source with those versions (and potentially fix any differences between the preview features and the final iteration of those features)."},{"owner":{"account_id":15291410,"reputation":596,"user_id":11032808,"display_name":"Akash Shah"},"score":0,"creation_date":1643723956,"post_id":70940499,"comment_id":125411493,"body_markdown":"@JoachimSauer we didn&#39;t use preview feature in plugin jar file. only compile with enabled preview. is there any way to handle that without recompile jar file?","body":"@JoachimSauer we didn&#39;t use preview feature in plugin jar file. only compile with enabled preview. is there any way to handle that without recompile jar file?"}],"answers":[{"tags":[],"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1643720154,"creation_date":1643720154,"answer_id":70940948,"question_id":70940499,"body_markdown":"Preview features for Java 13 are *only* available in Java 13. When a class is compiled with preview features enabled, it gets a minor class version of 65535. Although newer versions of Java may support the older major class version number, they intentionally do not support the &quot;preview&quot; minor class version of older major class versions.\r\n\r\nTo fix the problem, you will need to recompile your JAR in a newer version of Java, preferably without preview features enabled if the feature is already supported in that version. If the feature changed since the preview, you will need to address any compatibility issues. In the case the preview feature was retracted, you are out-of-luck and will need to rewrite your code entirely. That is the problem with relying on preview features for production code.","title":"java 13 jar file not working in java 17 getting error UnsupportedClassVersionError","body":"<p>Preview features for Java 13 are <em>only</em> available in Java 13. When a class is compiled with preview features enabled, it gets a minor class version of 65535. Although newer versions of Java may support the older major class version number, they intentionally do not support the &quot;preview&quot; minor class version of older major class versions.</p>\n<p>To fix the problem, you will need to recompile your JAR in a newer version of Java, preferably without preview features enabled if the feature is already supported in that version. If the feature changed since the preview, you will need to address any compatibility issues. In the case the preview feature was retracted, you are out-of-luck and will need to rewrite your code entirely. That is the problem with relying on preview features for production code.</p>\n"}],"owner":{"account_id":15291410,"reputation":596,"user_id":11032808,"display_name":"Akash Shah"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":729,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643720154,"creation_date":1643718142,"question_id":70940499,"body_markdown":"&gt; Caused by: java.lang.UnsupportedClassVersionError: pluginfile (class\r\n&gt; file version 57.65535) was compiled with preview features that are\r\n&gt; unsupported. This version of the Java Runtime only recognizes preview\r\n&gt; features for class file version 61.65535\r\n\r\nFirst I had a Java 13 production environment, later I changed to Java 17.\r\n\r\nIn Java 13, I created one jar, file name is `pluginfile` (using --enable-preview).\r\n\r\nNow, I upgraded my Java version run using (using --enable-preview). Using `URLClassLoader` I execute the jar file.\r\n\r\n    URLClassLoader urlcl = URLClassLoader.newInstance(new URL[] { new URL(fileUrl) },\r\n                        this.getClass().getClassLoader());\r\n    ABC hqPlugin = (ABC) urlcl\r\n                            .loadClass(&quot;com.example.abImpl&quot;).newInstance();\r\n                  \r\n\r\nThat time I am getting this error.\r\n\r\n&gt; Caused by: java.lang.UnsupportedClassVersionError: pluginfile (class\r\n&gt; file version 57.65535) was compiled with preview features that are\r\n&gt; unsupported. This version of the Java Runtime only recognizes preview\r\n&gt; features for class file version 61.65535\r\n\r\n        \r\n","title":"java 13 jar file not working in java 17 getting error UnsupportedClassVersionError","body":"<blockquote>\n<p>Caused by: java.lang.UnsupportedClassVersionError: pluginfile (class\nfile version 57.65535) was compiled with preview features that are\nunsupported. This version of the Java Runtime only recognizes preview\nfeatures for class file version 61.65535</p>\n</blockquote>\n<p>First I had a Java 13 production environment, later I changed to Java 17.</p>\n<p>In Java 13, I created one jar, file name is <code>pluginfile</code> (using --enable-preview).</p>\n<p>Now, I upgraded my Java version run using (using --enable-preview). Using <code>URLClassLoader</code> I execute the jar file.</p>\n<pre><code>URLClassLoader urlcl = URLClassLoader.newInstance(new URL[] { new URL(fileUrl) },\n                    this.getClass().getClassLoader());\nABC hqPlugin = (ABC) urlcl\n                        .loadClass(&quot;com.example.abImpl&quot;).newInstance();\n              \n</code></pre>\n<p>That time I am getting this error.</p>\n<blockquote>\n<p>Caused by: java.lang.UnsupportedClassVersionError: pluginfile (class\nfile version 57.65535) was compiled with preview features that are\nunsupported. This version of the Java Runtime only recognizes preview\nfeatures for class file version 61.65535</p>\n</blockquote>\n"},{"tags":["java","postgresql","junit","eclipselink","h2"],"comments":[{"owner":{"account_id":2617274,"reputation":6112,"user_id":2266098,"accept_rate":72,"display_name":"NeplatnyUdaj"},"score":0,"creation_date":1395080712,"post_id":22462061,"comment_id":34166151,"body_markdown":"Did you try other generation strategies like ```@GeneratedValue(generator = &quot;system-uuid&quot;)\n@GenericGenerator(name = &quot;system-uuid&quot;, strategy = &quot;uuid&quot;)``` ?","body":"Did you try other generation strategies like <code>@GeneratedValue(generator = &quot;system-uuid&quot;) @GenericGenerator(name = &quot;system-uuid&quot;, strategy = &quot;uuid&quot;)</code> ?"},{"owner":{"account_id":78549,"reputation":46986,"user_id":223478,"accept_rate":94,"display_name":"Neil McGuigan"},"score":0,"creation_date":1395082179,"post_id":22462061,"comment_id":34167052,"body_markdown":"I use IDENTITY type generated values for PostgreSQL and it works great. It uses PostgreSQL&#39;s sequences.","body":"I use IDENTITY type generated values for PostgreSQL and it works great. It uses PostgreSQL&#39;s sequences."},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1395143271,"post_id":22462061,"comment_id":34193459,"body_markdown":"I maybe misreading it, but it looks like field &quot;ID&quot; isn&#39;t included in the insert statement, so is likely set to default to null - this likely means EclipseLink thinks it is using identity to set the value instead of a sequence object somehow.  What is the DDL that is generated, and which version of EclipseLink are you using?","body":"I maybe misreading it, but it looks like field &quot;ID&quot; isn&#39;t included in the insert statement, so is likely set to default to null - this likely means EclipseLink thinks it is using identity to set the value instead of a sequence object somehow.  What is the DDL that is generated, and which version of EclipseLink are you using?"},{"owner":{"account_id":2477944,"reputation":113,"user_id":3430008,"display_name":"Jens"},"score":0,"creation_date":1395144857,"post_id":22462061,"comment_id":34194546,"body_markdown":"@Chris, you are probably on the right track!\nI found a rogue column with the name &#39;id&#39; that was forming a compound pk with &#39;systemuseridnr&#39;!\nThe question here is, where does it come from?! I have not created it!","body":"@Chris, you are probably on the right track! I found a rogue column with the name &#39;id&#39; that was forming a compound pk with &#39;systemuseridnr&#39;! The question here is, where does it come from?! I have not created it!"},{"owner":{"account_id":2477944,"reputation":113,"user_id":3430008,"display_name":"Jens"},"score":0,"creation_date":1395147916,"post_id":22462061,"comment_id":34196599,"body_markdown":"@Chris, I added the class definitions as well as the table definition of the auto generated table","body":"@Chris, I added the class definitions as well as the table definition of the auto generated table"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1395148231,"post_id":22462061,"comment_id":34196806,"body_markdown":"I&#39;m not sure how a OneToMany using mappedBy = &quot;id&quot; would work since id is an Integer basic mapping - it should throw a warning or exception.  What happens if you remove the column annotation from the ID so that it would use the &quot;ID&quot; field?  Are any other parts of the entity referencing the &quot;systemuseridnr&quot; field?","body":"I&#39;m not sure how a OneToMany using mappedBy = &quot;id&quot; would work since id is an Integer basic mapping - it should throw a warning or exception.  What happens if you remove the column annotation from the ID so that it would use the &quot;ID&quot; field?  Are any other parts of the entity referencing the &quot;systemuseridnr&quot; field?"},{"owner":{"account_id":2477944,"reputation":113,"user_id":3430008,"display_name":"Jens"},"score":0,"creation_date":1395154631,"post_id":22462061,"comment_id":34201684,"body_markdown":"I tried that already, and it kept on generating the compound primary key..","body":"I tried that already, and it kept on generating the compound primary key.."}],"answers":[{"tags":[],"owner":{"account_id":4168697,"reputation":122,"user_id":3417055,"display_name":"mig8"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1464279364,"creation_date":1395082183,"answer_id":22462824,"question_id":22462061,"body_markdown":"Your ID column is &quot;systemuseridnr&quot;.\r\n\r\n  1. You&#39;d like to fill it out automatically as you annotated in your entity with using sequence &quot;systemuser_pk_seq&quot; - Have you got this sequence in the DB?\r\n  2. All the same, you&#39;d like to fill it out directly with value &quot;-1&quot; - In an ID column you must not use negative.","title":"&quot;NULL not allowed for column &#39;id&#39;&quot; even though log says it had value bound","body":"<p>Your ID column is \"systemuseridnr\".</p>\n\n<ol>\n<li>You'd like to fill it out automatically as you annotated in your entity with using sequence \"systemuser_pk_seq\" - Have you got this sequence in the DB?</li>\n<li>All the same, you'd like to fill it out directly with value \"-1\" - In an ID column you must not use negative.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":4168697,"reputation":122,"user_id":3417055,"display_name":"mig8"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1395165374,"creation_date":1395165374,"answer_id":22487286,"question_id":22462061,"body_markdown":"it occured to me another possible solution for creating a correct CREATE TABLE statement.\r\n\r\n&lt;a&gt;http://mrbool.com/how-to-create-database-table-using-hibernate/28269&lt;/a&gt;\r\n\r\nThe great thing is that:\r\n\r\n    &lt;property name=&quot;hbmdl.auto&quot;&gt;update&lt;/property&gt;\r\n\r\nWith this solution, your code will generate a statement itself. Try it!","title":"&quot;NULL not allowed for column &#39;id&#39;&quot; even though log says it had value bound","body":"<p>it occured to me another possible solution for creating a correct CREATE TABLE statement.</p>\n\n<p><a href=\"http://mrbool.com/how-to-create-database-table-using-hibernate/28269\" rel=\"nofollow\">http://mrbool.com/how-to-create-database-table-using-hibernate/28269</a></p>\n\n<p>The great thing is that:</p>\n\n<pre><code>&lt;property name=\"hbmdl.auto\"&gt;update&lt;/property&gt;\n</code></pre>\n\n<p>With this solution, your code will generate a statement itself. Try it!</p>\n"},{"tags":[],"owner":{"account_id":2477944,"reputation":113,"user_id":3430008,"display_name":"Jens"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1395323759,"creation_date":1395323759,"answer_id":22535168,"question_id":22462061,"body_markdown":"The problem turned out to be an @Entity with a @UniqueConstraint that someone had missed completing before committing the code.\r\n\r\nAs it turns out this gave us a plethora of different behaviors and errors when generating tables for H2 &amp; postgres through both Hibernate and EclipseLink during test phase!\r\n\r\nWe finally caught the problem by remote-debugging the the maven surefire plugin through Eclipse.\r\n\r\n\t@Entity\r\n\t@Table(name = &quot;dyn_bin_constraint_group&quot;, schema = &quot;public&quot;, \r\n\t\t\tuniqueConstraints = { @UniqueConstraint(columnNames = {}) })\r\n\tpublic class BinConstraintGroup implements Serializable {\r\n\r\nThe solution was simply completing the @UniqueConstraint!\r\n\r\n\t@Entity\r\n\t@Table(name = &quot;dyn_bin_constraint_group&quot;, schema = &quot;public&quot;, \r\n\t\t\tuniqueConstraints = { @UniqueConstraint(columnNames = {BinConstraintGroup.NAME}) })\r\n\tpublic class BinConstraintGroup implements Serializable {","title":"&quot;NULL not allowed for column &#39;id&#39;&quot; even though log says it had value bound","body":"<p>The problem turned out to be an @Entity with a @UniqueConstraint that someone had missed completing before committing the code.</p>\n\n<p>As it turns out this gave us a plethora of different behaviors and errors when generating tables for H2 &amp; postgres through both Hibernate and EclipseLink during test phase!</p>\n\n<p>We finally caught the problem by remote-debugging the the maven surefire plugin through Eclipse.</p>\n\n<pre><code>@Entity\n@Table(name = \"dyn_bin_constraint_group\", schema = \"public\", \n        uniqueConstraints = { @UniqueConstraint(columnNames = {}) })\npublic class BinConstraintGroup implements Serializable {\n</code></pre>\n\n<p>The solution was simply completing the @UniqueConstraint!</p>\n\n<pre><code>@Entity\n@Table(name = \"dyn_bin_constraint_group\", schema = \"public\", \n        uniqueConstraints = { @UniqueConstraint(columnNames = {BinConstraintGroup.NAME}) })\npublic class BinConstraintGroup implements Serializable {\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1202593,"reputation":9569,"user_id":1173495,"accept_rate":46,"display_name":"SANN3"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643719989,"creation_date":1643719989,"answer_id":70940921,"question_id":22462061,"body_markdown":"Changing the `dialect` to `org.hibernate.dialect.PostgreSQLDialect` is solved the issue. This what recommended from h2database\r\n\r\n&gt; When using such a compatibility mode, use the Hibernate dialect for\r\n&gt; the corresponding database instead of the H2Dialect; but please note\r\n&gt; H2 does not support all features of all databases.\r\n\r\nhttps://h2database.com/html/tutorial.html?highlight=dialect&amp;search=dialect#using_hibernate","title":"&quot;NULL not allowed for column &#39;id&#39;&quot; even though log says it had value bound","body":"<p>Changing the <code>dialect</code> to <code>org.hibernate.dialect.PostgreSQLDialect</code> is solved the issue. This what recommended from h2database</p>\n<blockquote>\n<p>When using such a compatibility mode, use the Hibernate dialect for\nthe corresponding database instead of the H2Dialect; but please note\nH2 does not support all features of all databases.</p>\n</blockquote>\n<p><a href=\"https://h2database.com/html/tutorial.html?highlight=dialect&amp;search=dialect#using_hibernate\" rel=\"nofollow noreferrer\">https://h2database.com/html/tutorial.html?highlight=dialect&amp;search=dialect#using_hibernate</a></p>\n"}],"owner":{"account_id":2477944,"reputation":113,"user_id":3430008,"display_name":"Jens"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13848,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":22535168,"answer_count":4,"score":4,"last_activity_date":1643719989,"creation_date":1395079840,"question_id":22462061,"body_markdown":"So, I&#39;ve been bashing my head on this for hours!\r\n\r\nI&#39;ve been testing this with a lot of different settings..\r\n\r\nThe bottom line is this, when i start my EAR in JBoss, I am able to interact with the Persistence-Jar and ALL it&#39;s @Entities without a problem. The difference is that running it in JBoss a different persistence.xml is used (maven main/test catalogue structure) that connects to the PostgreSQL server through a JTA-connection.\r\n\r\nIt is only when i run my tests in maven and JUnit that they fail.\r\n\r\nI&#39;ve been trying to use a H2-database in PostgreSQL mode (but I&#39;ve run it as a database connected server without success as well)\r\n\r\nIt seems to fall handling my Systemuser-entity id-value\r\n\r\nThis is the top of my Systemuser class:\r\n\r\n    @Entity\r\n    @Table(name = &quot;systemuser&quot;)\r\n    public class SystemUser extends BaseOldStyleEntity implements Serializable {\r\n    private static final long serialVersionUID = -1L;\r\n    @Id\r\n    @SequenceGenerator(name = &quot;SYSTEMUSER_SYSTEMUSERIDNR_GENERATOR&quot;, sequenceName = &quot;systemuser_pk_seq&quot;, allocationSize = 1)\r\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;SYSTEMUSER_SYSTEMUSERIDNR_GENERATOR&quot;)\r\n    @Column(name = &quot;systemuseridnr&quot;, unique = true, nullable = false)\r\n    @BusinessKey\r\n    private Integer id;\r\n    ...\r\n\r\nThis is the BaseOldStyleEntity which almost all tables inherit from\r\n\r\n    @MappedSuperclass\r\n    @AdditionalCriteria(&quot;this.statusNr &lt; 31000&quot;)\r\n    @Customizer(value = EntityCustomizer.class)\r\n    public abstract class BaseOldStyleEntity extends BaseEntity implements Serializable {\r\n\r\n\t@Column(name = &quot;editby&quot;, length = 10, nullable = false)\r\n\tprotected String editBy;\r\n\r\n\t@Column(name = &quot;lastedittime&quot;, columnDefinition = &quot;timestamp(0) NOT NULL DEFAULT CURRENT_TIMESTAMP::timestamp(6)&quot;)\r\n\t@Temporal(TemporalType.TIMESTAMP)\r\n\tprotected Date lastEditTime = new Date();\r\n\r\n\t@Column(name = &quot;statusnr&quot;, nullable = false, columnDefinition = &quot;integer default &#39;0&#39;&quot;)\r\n\tprotected Integer statusNr = 0;\r\n\r\n\tpublic static final String EDIT_BY = &quot;editBy&quot;;\r\n\tpublic static final String LAST_EDIT_TIME = &quot;lastEditTime&quot;;\r\n\tpublic static final String STATUS_NR = &quot;statusNr&quot;;\r\n\t\r\n\tpublic String getEditBy() {\r\n\t\treturn editBy;\r\n\t}\r\n\r\n\tpublic void setEditBy(String editBy) {\r\n\t\tthis.editBy = editBy;\r\n\t\tthis.lastEditTime = new Date();\r\n\t}\r\n\r\n\tpublic Date getLastEditTime() {\r\n\t\treturn lastEditTime;\r\n\t}\r\n\r\n\tpublic void setLastEditTime(Date lastEditTime) {\r\n\t\tthis.lastEditTime = lastEditTime;\r\n\t}\r\n\r\n\tpublic Integer getStatusNr() {\r\n\t\treturn statusNr;\r\n\t}\r\n\r\n\tpublic void setStatusNr(Integer statusNr) {\r\n\t\tthis.statusNr = statusNr;\r\n\t}\r\n    }\r\n\r\nand the BaseOldStyleEntity in turn inherits from BaseEntity\r\n\r\n    @MappedSuperclass\r\n    public abstract class BaseEntity implements Serializable {\r\n    \t@Override\r\n        public boolean equals(Object obj) {\r\n            return BusinessIdentity.areEqual(this, obj);\r\n    \r\n        }\r\n        @Override\r\n        public int hashCode() {\r\n            return BusinessIdentity.getHashCode(this);\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            //return BusinessIdentity.toString(this);\r\n        \treturn &quot;toString() not set on entity &quot; + getClass().getName();\r\n        }\r\n    }\r\n\r\nAnd this is what my persistence.xml looks like:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n        &lt;persistence version=&quot;2.0&quot;\r\n            xmlns=&quot;http://java.sun.com/xml/ns/persistence&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/persistence http://java.sun.com/xml/ns/persistence/persistence_2_0.xsd&quot;&gt;\r\n            &lt;persistence-unit name=&quot;foo-test&quot; transaction-type=&quot;RESOURCE_LOCAL&quot;&gt;\r\n            &lt;provider&gt;org.eclipse.persistence.jpa.PersistenceProvider&lt;/provider&gt;\r\n\r\n    &lt;!-- ALL MY CLASSES --&gt;\r\n\r\n            &lt;properties&gt;\r\n                &lt;property name=&quot;javax.persistence.jdbc.driver&quot; value=&quot;org.h2.Driver&quot; /&gt;\r\n                &lt;property name=&quot;javax.persistence.jdbc.url&quot; value=&quot;jdbc:h2:target/test-db/foo-test;MODE=PostgreSQL&quot; /&gt;\r\n                &lt;property name=&quot;eclipselink.target-database&quot; value=&quot;org.eclipse.persistence.platform.database.H2Platform&quot; /&gt;\r\n                &lt;!-- EclipseLink should create the database schema automatically --&gt;\r\n                &lt;property name=&quot;eclipselink.ddl-generation&quot; value=&quot;drop-and-create-tables&quot; /&gt;\r\n                &lt;property name=&quot;eclipselink.ddl-generation.output-mode&quot; value=&quot;database&quot; /&gt;\r\n                &lt;!-- Configure logging --&gt;\r\n                &lt;property name=&quot;eclipselink.logging.level&quot; value=&quot;ALL&quot; /&gt;\r\n            &lt;/properties&gt;\r\n        &lt;/persistence-unit&gt;\r\n    &lt;/persistence&gt;\r\n\r\nAnd this is the log output i receive:\r\n(First 6 rows are inserts of entities for tables &quot;systemuserrole&quot; and &quot;systemusergroup&quot;)\r\n\r\n    [EL Finest]: query: 2014-03-17 18:28:42.761--UnitOfWork(134154804)--Thread(Thread[main,5,main])--Execute query InsertObjectQuery(toString() not set on entity se.point.unity.domain.SystemUserRole)\r\n    [EL Fine]: sql: 2014-03-17 18:28:42.761--ClientSession(350731153)--Connection(2020456228)--Thread(Thread[main,5,main])--INSERT INTO systemuserrole (systemuserroleidnr, editby, lastedittime, systemuserrolename, statusnr) VALUES (?, ?, ?, ?, ?)\r\n        bind =&gt; [-1, test, 2014-03-17 18:28:42.511, test, 0]\r\n    [EL Finest]: query: 2014-03-17 18:28:42.762--UnitOfWork(134154804)--Thread(Thread[main,5,main])--Execute query InsertObjectQuery(test (-1))\r\n    [EL Fine]: sql: 2014-03-17 18:28:42.762--ClientSession(350731153)--Connection(2020456228)--Thread(Thread[main,5,main])--INSERT INTO systemusergroup (systemusergroupidnr, editby, lastedittime, systemusergroupname, statusnr, systemuserroleidnr) VALUES (?, ?, ?, ?, ?, ?)\r\n        bind =&gt; [-1, test, 2014-03-17 18:28:42.512, test, 0, -1]\r\n    [EL Finest]: query: 2014-03-17 18:28:42.763--UnitOfWork(134154804)--Thread(Thread[main,5,main])--Execute query InsertObjectQuery(name (-1))\r\n    [EL Fine]: sql: 2014-03-17 18:28:42.763--ClientSession(350731153)--Connection(2020456228)--Thread(Thread[main,5,main])--INSERT INTO systemuser (systemuseridnr, editby, failedloginattempts, firstname, lastedittime, lastfailedlogindate, lastlogindate, lastname, systemusername, password, phone, statusnr, systemusergroupidnr) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)\r\n        bind =&gt; [-1, editby, 0, firstname, 2014-03-17 18:28:42.512, 2014-03-17 18:28:42.512, 2014-03-17 18:28:42.512, lastname, name, password, phone, 0, -1]\r\n    [EL Fine]: sql: 2014-03-17 18:28:42.763--ClientSession(350731153)--Thread(Thread[main,5,main])--SELECT 1\r\n    [EL Warning]: 2014-03-17 18:28:42.764--UnitOfWork(134154804)--Thread(Thread[main,5,main])--Local Exception Stack: \r\n    Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.4.1.v20121003-ad44345): org.eclipse.persistence.exceptions.DatabaseException\r\n    Internal Exception: org.h2.jdbc.JdbcSQLException: NULL not allowed for column &quot;ID&quot;; SQL statement:\r\n    INSERT INTO systemuser (systemuseridnr, editby, failedloginattempts, firstname, lastedittime, lastfailedlogindate, lastlogindate, lastname, systemusername, password, phone, statusnr, systemusergroupidnr) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) [23502-168]\r\n    Error Code: 23502\r\n    Call: INSERT INTO systemuser (systemuseridnr, editby, failedloginattempts, firstname, lastedittime, lastfailedlogindate, lastlogindate, lastname, systemusername, password, phone, statusnr, systemusergroupidnr) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)\r\n        bind =&gt; [-1, editby, 0, firstname, 2014-03-17 18:28:42.512, 2014-03-17 18:28:42.512, 2014-03-17 18:28:42.512, lastname, name, password, phone, 0, -1]\r\n    Query: InsertObjectQuery(name (-1))\r\n        at org.eclipse.persistence.exceptions.DatabaseException.sqlException(DatabaseException.java:324)\r\n        at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeDirectNoSelect(DatabaseAccessor.java:851)\r\n        at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeNoSelect(DatabaseAccessor.java:913)\r\n        at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.basicExecuteCall(DatabaseAccessor.java:594)\r\n        at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeCall(DatabaseAccessor.java:537)\r\n        at org.eclipse.persistence.internal.sessions.AbstractSession.basicExecuteCall(AbstractSession.java:1800)\r\n        at org.eclipse.persistence.sessions.server.ClientSession.executeCall(ClientSession.java:286)\r\n        at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.executeCall(DatasourceCallQueryMechanism.java:207)\r\n        at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.executeCall(DatasourceCallQueryMechanism.java:193)\r\n        at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.insertObject(DatasourceCallQueryMechanism.java:342)\r\n        at org.eclipse.persistence.internal.queries.StatementQueryMechanism.insertObject(StatementQueryMechanism.java:162)\r\n        at org.eclipse.persistence.internal.queries.StatementQueryMechanism.insertObject(StatementQueryMechanism.java:177)\r\n        at org.eclipse.persistence.internal.queries.DatabaseQueryMechanism.insertObjectForWrite(DatabaseQueryMechanism.java:471)\r\n        at org.eclipse.persistence.queries.InsertObjectQuery.executeCommit(InsertObjectQuery.java:80)\r\n        at org.eclipse.persistence.queries.InsertObjectQuery.executeCommitWithChangeSet(InsertObjectQuery.java:90)\r\n        at org.eclipse.persistence.internal.queries.DatabaseQueryMechanism.executeWriteWithChangeSet(DatabaseQueryMechanism.java:286)\r\n        at org.eclipse.persistence.queries.WriteObjectQuery.executeDatabaseQuery(WriteObjectQuery.java:58)\r\n        at org.eclipse.persistence.queries.DatabaseQuery.execute(DatabaseQuery.java:852)\r\n        at org.eclipse.persistence.queries.DatabaseQuery.executeInUnitOfWork(DatabaseQuery.java:751)\r\n        at org.eclipse.persistence.queries.ObjectLevelModifyQuery.executeInUnitOfWorkObjectLevelModifyQuery(ObjectLevelModifyQuery.java:108)\r\n        at org.eclipse.persistence.queries.ObjectLevelModifyQuery.executeInUnitOfWork(ObjectLevelModifyQuery.java:85)\r\n        at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.internalExecuteQuery(UnitOfWorkImpl.java:2875)\r\n        at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1602)\r\n        at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1584)\r\n        at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1535)\r\n        at org.eclipse.persistence.internal.sessions.CommitManager.commitNewObjectsForClassWithChangeSet(CommitManager.java:224)\r\n        at org.eclipse.persistence.internal.sessions.CommitManager.commitAllObjectsForClassWithChangeSet(CommitManager.java:191)\r\n        at org.eclipse.persistence.internal.sessions.CommitManager.commitAllObjectsWithChangeSet(CommitManager.java:136)\r\n        at org.eclipse.persistence.internal.sessions.AbstractSession.writeAllObjectsWithChangeSet(AbstractSession.java:3914)\r\n        at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.commitToDatabase(UnitOfWorkImpl.java:1419)\r\n        at org.eclipse.persistence.internal.sessions.RepeatableWriteUnitOfWork.commitToDatabase(RepeatableWriteUnitOfWork.java:634)\r\n        at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.commitToDatabaseWithPreBuiltChangeSet(UnitOfWorkImpl.java:1565)\r\n        at org.eclipse.persistence.internal.sessions.RepeatableWriteUnitOfWork.writeChanges(RepeatableWriteUnitOfWork.java:445)\r\n        at org.eclipse.persistence.internal.jpa.EntityManagerImpl.flush(EntityManagerImpl.java:798)\r\n        at se.point.unity.service.search.SearchStructureTest.setUp(SearchStructureTest.java:30)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\r\n        at java.lang.reflect.Method.invoke(Method.java:597)\r\n        at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)\r\n        at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n        at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)\r\n        at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:24)\r\n        at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)\r\n        at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:271)\r\n        at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:70)\r\n        at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:50)\r\n        at org.junit.runners.ParentRunner$3.run(ParentRunner.java:238)\r\n        at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:63)\r\n        at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:236)\r\n        at org.junit.runners.ParentRunner.access$000(ParentRunner.java:53)\r\n        at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:229)\r\n        at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)\r\n        at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)\r\n        at org.junit.runners.ParentRunner.run(ParentRunner.java:309)\r\n        at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:50)\r\n        at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)\r\n        at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:467)\r\n        at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:683)\r\n        at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:390)\r\n        at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:197)\r\n    Caused by: org.h2.jdbc.JdbcSQLException: NULL not allowed for column &quot;ID&quot;; SQL statement:\r\n    INSERT INTO systemuser (systemuseridnr, editby, failedloginattempts, firstname, lastedittime, lastfailedlogindate, lastlogindate, lastname, systemusername, password, phone, statusnr, systemusergroupidnr) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) [23502-168]\r\n        at org.h2.message.DbException.getJdbcSQLException(DbException.java:329)\r\n        at org.h2.message.DbException.get(DbException.java:169)\r\n        at org.h2.message.DbException.get(DbException.java:146)\r\n        at org.h2.table.Column.validateConvertUpdateSequence(Column.java:293)\r\n        at org.h2.table.Table.validateConvertUpdateSequence(Table.java:689)\r\n        at org.h2.command.dml.Insert.insertRows(Insert.java:120)\r\n        at org.h2.command.dml.Insert.update(Insert.java:84)\r\n        at org.h2.command.CommandContainer.update(CommandContainer.java:75)\r\n        at org.h2.command.Command.executeUpdate(Command.java:230)\r\n        at org.h2.jdbc.JdbcPreparedStatement.executeUpdateInternal(JdbcPreparedStatement.java:156)\r\n        at org.h2.jdbc.JdbcPreparedStatement.executeUpdate(JdbcPreparedStatement.java:142)\r\n        at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeDirectNoSelect(DatabaseAccessor.java:842)\r\n        ... 59 more\r\n\r\n    [EL Finer]: transaction: 2014-03-17 18:28:42.765--UnitOfWork(134154804)--Thread(Thread[main,5,main])--release unit of work\r\n    [EL Finer]: transaction: 2014-03-17 18:28:42.765--ClientSession(350731153)--Connection(2020456228)--Thread(Thread[main,5,main])--rollback transaction\r\n    [EL Finest]: connection: 2014-03-17 18:28:42.77--ServerSession(1278414937)--Connection(2020456228)--Thread(Thread[main,5,main])--Connection released to connection pool [default].\r\n    [EL Finer]: connection: 2014-03-17 18:28:42.771--ClientSession(350731153)--Thread(Thread[main,5,main])--client released\r\n    [EL Finest]: jpa: 2014-03-17 18:28:42.775--ServerSession(1278414937)--Thread(Thread[main,5,main])--Begin undeploying Persistence Unit foo-test; session file:/C:/Users/jedmin/Desktop/unity/branches/DEVELOPMENT/Persistence-Unit/target/test-classes/_foo-test; state Deployed; factoryCount 1\r\n    [EL Finest]: sequencing: 2014-03-17 18:28:42.775--ServerSession(1278414937)--Thread(Thread[main,5,main])--sequencing disconnected\r\n    [EL Config]: connection: 2014-03-17 18:28:42.775--ServerSession(1278414937)--Connection(2020456228)--Thread(Thread[main,5,main])--disconnect\r\n    [EL Finer]: cache: 2014-03-17 18:28:42.93--ServerSession(1278414937)--Thread(Thread[main,5,main])--initialize identitymaps\r\n    [EL Info]: connection: 2014-03-17 18:28:42.93--ServerSession(1278414937)--Thread(Thread[main,5,main])--file:/C:/Users/jedmin/Desktop/unity/branches/DEVELOPMENT/Persistence-Unit/target/test-classes/_foo-test logout successful\r\n    [EL Config]: connection: 2014-03-17 18:28:42.93--ServerSession(1278414937)--Connection(1864311781)--Thread(Thread[main,5,main])--disconnect\r\n    [EL Finest]: jpa: 2014-03-17 18:28:42.931--ServerSession(1278414937)--Thread(Thread[main,5,main])--End undeploying Persistence Unit foo-test; session file:/C:/Users/jedmin/Desktop/unity/branches/DEVELOPMENT/Persistence-Unit/target/test-classes/_foo-test; state Undeployed; factoryCount 0\r\n\r\nAnd from what i can glean from the log - none of the values are null..\r\nAlso, \r\n\r\nWhat is going on here?\r\n\r\nUPDATE1:\r\n-------\r\nSo I tested a few of the suggestions and discussed a bit with my coworkers, and then we noticed that the generated table has a column we did not expect; &#39;id&#39;! That is part of the compound pk with &#39;systemuseridnr&#39;!\r\n\r\nThe strange thing here is that I tried renaming the variable &#39;id&#39; to match the name-value of the @Column annotation, and the problem is still there after i droped-created the database, and let EclipseLink rebuild the tables.\r\n\r\nI&#39;ve also tried looking for other entities that might be referring @OneToMany with a static string in the mappedBy value like shown below, **But I found none**!\r\n\r\n    @OneToMany(mappedBy = &quot;id&quot;)\r\n    private List&lt;SystemUser&gt; users;\r\n\r\nUpdate2:\r\n-------\r\nThis is the definition of the table that is autogenerated by Eclipselink (and Hibernate if i use that)\r\n\r\nNotice the column named &#39;id&#39;! And how it is part of the primary key!\r\n\r\n    CREATE TABLE systemuser\r\n    (\r\n          systemuseridnr integer NOT NULL,\r\n          editby character varying(10) NOT NULL,\r\n          failedloginattempts smallint,\r\n          firstname character varying(40),\r\n          lastedittime timestamp(0) without time zone NOT NULL DEFAULT (now())::timestamp(6) without time zone,\r\n          lastfailedlogindate timestamp without time zone,\r\n          lastlogindate timestamp without time zone,\r\n          lastname character varying(40),\r\n          systemusername character varying(10) NOT NULL,\r\n          password character varying(100) NOT NULL,\r\n          phone character varying(20),\r\n          statusnr integer DEFAULT 0,\r\n          systemusergroupidnr integer NOT NULL,\r\n          id integer NOT NULL,\r\n          vismavalue integer,\r\n          terminalvendor_id integer,\r\n          CONSTRAINT systemuser_pkey PRIMARY KEY (systemuseridnr , id ),\r\n          CONSTRAINT fk_systemuser_terminalvendor_id FOREIGN KEY (terminalvendor_id)\r\n              REFERENCES terminalvendor (terminalvendoridnr) MATCH SIMPLE\r\n              ON UPDATE NO ACTION ON DELETE NO ACTION,\r\n          CONSTRAINT systemuser_systemusername_key UNIQUE (systemusername )\r\n    );","title":"&quot;NULL not allowed for column &#39;id&#39;&quot; even though log says it had value bound","body":"<p>So, I've been bashing my head on this for hours!</p>\n\n<p>I've been testing this with a lot of different settings..</p>\n\n<p>The bottom line is this, when i start my EAR in JBoss, I am able to interact with the Persistence-Jar and ALL it's @Entities without a problem. The difference is that running it in JBoss a different persistence.xml is used (maven main/test catalogue structure) that connects to the PostgreSQL server through a JTA-connection.</p>\n\n<p>It is only when i run my tests in maven and JUnit that they fail.</p>\n\n<p>I've been trying to use a H2-database in PostgreSQL mode (but I've run it as a database connected server without success as well)</p>\n\n<p>It seems to fall handling my Systemuser-entity id-value</p>\n\n<p>This is the top of my Systemuser class:</p>\n\n<pre><code>@Entity\n@Table(name = \"systemuser\")\npublic class SystemUser extends BaseOldStyleEntity implements Serializable {\nprivate static final long serialVersionUID = -1L;\n@Id\n@SequenceGenerator(name = \"SYSTEMUSER_SYSTEMUSERIDNR_GENERATOR\", sequenceName = \"systemuser_pk_seq\", allocationSize = 1)\n@GeneratedValue(strategy = GenerationType.SEQUENCE, generator = \"SYSTEMUSER_SYSTEMUSERIDNR_GENERATOR\")\n@Column(name = \"systemuseridnr\", unique = true, nullable = false)\n@BusinessKey\nprivate Integer id;\n...\n</code></pre>\n\n<p>This is the BaseOldStyleEntity which almost all tables inherit from</p>\n\n<pre><code>@MappedSuperclass\n@AdditionalCriteria(\"this.statusNr &lt; 31000\")\n@Customizer(value = EntityCustomizer.class)\npublic abstract class BaseOldStyleEntity extends BaseEntity implements Serializable {\n\n@Column(name = \"editby\", length = 10, nullable = false)\nprotected String editBy;\n\n@Column(name = \"lastedittime\", columnDefinition = \"timestamp(0) NOT NULL DEFAULT CURRENT_TIMESTAMP::timestamp(6)\")\n@Temporal(TemporalType.TIMESTAMP)\nprotected Date lastEditTime = new Date();\n\n@Column(name = \"statusnr\", nullable = false, columnDefinition = \"integer default '0'\")\nprotected Integer statusNr = 0;\n\npublic static final String EDIT_BY = \"editBy\";\npublic static final String LAST_EDIT_TIME = \"lastEditTime\";\npublic static final String STATUS_NR = \"statusNr\";\n\npublic String getEditBy() {\n    return editBy;\n}\n\npublic void setEditBy(String editBy) {\n    this.editBy = editBy;\n    this.lastEditTime = new Date();\n}\n\npublic Date getLastEditTime() {\n    return lastEditTime;\n}\n\npublic void setLastEditTime(Date lastEditTime) {\n    this.lastEditTime = lastEditTime;\n}\n\npublic Integer getStatusNr() {\n    return statusNr;\n}\n\npublic void setStatusNr(Integer statusNr) {\n    this.statusNr = statusNr;\n}\n}\n</code></pre>\n\n<p>and the BaseOldStyleEntity in turn inherits from BaseEntity</p>\n\n<pre><code>@MappedSuperclass\npublic abstract class BaseEntity implements Serializable {\n    @Override\n    public boolean equals(Object obj) {\n        return BusinessIdentity.areEqual(this, obj);\n\n    }\n    @Override\n    public int hashCode() {\n        return BusinessIdentity.getHashCode(this);\n    }\n\n    @Override\n    public String toString() {\n        //return BusinessIdentity.toString(this);\n        return \"toString() not set on entity \" + getClass().getName();\n    }\n}\n</code></pre>\n\n<p>And this is what my persistence.xml looks like:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n    &lt;persistence version=\"2.0\"\n        xmlns=\"http://java.sun.com/xml/ns/persistence\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\nxsi:schemaLocation=\"http://java.sun.com/xml/ns/persistence http://java.sun.com/xml/ns/persistence/persistence_2_0.xsd\"&gt;\n        &lt;persistence-unit name=\"foo-test\" transaction-type=\"RESOURCE_LOCAL\"&gt;\n        &lt;provider&gt;org.eclipse.persistence.jpa.PersistenceProvider&lt;/provider&gt;\n\n&lt;!-- ALL MY CLASSES --&gt;\n\n        &lt;properties&gt;\n            &lt;property name=\"javax.persistence.jdbc.driver\" value=\"org.h2.Driver\" /&gt;\n            &lt;property name=\"javax.persistence.jdbc.url\" value=\"jdbc:h2:target/test-db/foo-test;MODE=PostgreSQL\" /&gt;\n            &lt;property name=\"eclipselink.target-database\" value=\"org.eclipse.persistence.platform.database.H2Platform\" /&gt;\n            &lt;!-- EclipseLink should create the database schema automatically --&gt;\n            &lt;property name=\"eclipselink.ddl-generation\" value=\"drop-and-create-tables\" /&gt;\n            &lt;property name=\"eclipselink.ddl-generation.output-mode\" value=\"database\" /&gt;\n            &lt;!-- Configure logging --&gt;\n            &lt;property name=\"eclipselink.logging.level\" value=\"ALL\" /&gt;\n        &lt;/properties&gt;\n    &lt;/persistence-unit&gt;\n&lt;/persistence&gt;\n</code></pre>\n\n<p>And this is the log output i receive:\n(First 6 rows are inserts of entities for tables \"systemuserrole\" and \"systemusergroup\")</p>\n\n<pre><code>[EL Finest]: query: 2014-03-17 18:28:42.761--UnitOfWork(134154804)--Thread(Thread[main,5,main])--Execute query InsertObjectQuery(toString() not set on entity se.point.unity.domain.SystemUserRole)\n[EL Fine]: sql: 2014-03-17 18:28:42.761--ClientSession(350731153)--Connection(2020456228)--Thread(Thread[main,5,main])--INSERT INTO systemuserrole (systemuserroleidnr, editby, lastedittime, systemuserrolename, statusnr) VALUES (?, ?, ?, ?, ?)\n    bind =&gt; [-1, test, 2014-03-17 18:28:42.511, test, 0]\n[EL Finest]: query: 2014-03-17 18:28:42.762--UnitOfWork(134154804)--Thread(Thread[main,5,main])--Execute query InsertObjectQuery(test (-1))\n[EL Fine]: sql: 2014-03-17 18:28:42.762--ClientSession(350731153)--Connection(2020456228)--Thread(Thread[main,5,main])--INSERT INTO systemusergroup (systemusergroupidnr, editby, lastedittime, systemusergroupname, statusnr, systemuserroleidnr) VALUES (?, ?, ?, ?, ?, ?)\n    bind =&gt; [-1, test, 2014-03-17 18:28:42.512, test, 0, -1]\n[EL Finest]: query: 2014-03-17 18:28:42.763--UnitOfWork(134154804)--Thread(Thread[main,5,main])--Execute query InsertObjectQuery(name (-1))\n[EL Fine]: sql: 2014-03-17 18:28:42.763--ClientSession(350731153)--Connection(2020456228)--Thread(Thread[main,5,main])--INSERT INTO systemuser (systemuseridnr, editby, failedloginattempts, firstname, lastedittime, lastfailedlogindate, lastlogindate, lastname, systemusername, password, phone, statusnr, systemusergroupidnr) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)\n    bind =&gt; [-1, editby, 0, firstname, 2014-03-17 18:28:42.512, 2014-03-17 18:28:42.512, 2014-03-17 18:28:42.512, lastname, name, password, phone, 0, -1]\n[EL Fine]: sql: 2014-03-17 18:28:42.763--ClientSession(350731153)--Thread(Thread[main,5,main])--SELECT 1\n[EL Warning]: 2014-03-17 18:28:42.764--UnitOfWork(134154804)--Thread(Thread[main,5,main])--Local Exception Stack: \nException [EclipseLink-4002] (Eclipse Persistence Services - 2.4.1.v20121003-ad44345): org.eclipse.persistence.exceptions.DatabaseException\nInternal Exception: org.h2.jdbc.JdbcSQLException: NULL not allowed for column \"ID\"; SQL statement:\nINSERT INTO systemuser (systemuseridnr, editby, failedloginattempts, firstname, lastedittime, lastfailedlogindate, lastlogindate, lastname, systemusername, password, phone, statusnr, systemusergroupidnr) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) [23502-168]\nError Code: 23502\nCall: INSERT INTO systemuser (systemuseridnr, editby, failedloginattempts, firstname, lastedittime, lastfailedlogindate, lastlogindate, lastname, systemusername, password, phone, statusnr, systemusergroupidnr) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)\n    bind =&gt; [-1, editby, 0, firstname, 2014-03-17 18:28:42.512, 2014-03-17 18:28:42.512, 2014-03-17 18:28:42.512, lastname, name, password, phone, 0, -1]\nQuery: InsertObjectQuery(name (-1))\n    at org.eclipse.persistence.exceptions.DatabaseException.sqlException(DatabaseException.java:324)\n    at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeDirectNoSelect(DatabaseAccessor.java:851)\n    at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeNoSelect(DatabaseAccessor.java:913)\n    at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.basicExecuteCall(DatabaseAccessor.java:594)\n    at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeCall(DatabaseAccessor.java:537)\n    at org.eclipse.persistence.internal.sessions.AbstractSession.basicExecuteCall(AbstractSession.java:1800)\n    at org.eclipse.persistence.sessions.server.ClientSession.executeCall(ClientSession.java:286)\n    at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.executeCall(DatasourceCallQueryMechanism.java:207)\n    at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.executeCall(DatasourceCallQueryMechanism.java:193)\n    at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.insertObject(DatasourceCallQueryMechanism.java:342)\n    at org.eclipse.persistence.internal.queries.StatementQueryMechanism.insertObject(StatementQueryMechanism.java:162)\n    at org.eclipse.persistence.internal.queries.StatementQueryMechanism.insertObject(StatementQueryMechanism.java:177)\n    at org.eclipse.persistence.internal.queries.DatabaseQueryMechanism.insertObjectForWrite(DatabaseQueryMechanism.java:471)\n    at org.eclipse.persistence.queries.InsertObjectQuery.executeCommit(InsertObjectQuery.java:80)\n    at org.eclipse.persistence.queries.InsertObjectQuery.executeCommitWithChangeSet(InsertObjectQuery.java:90)\n    at org.eclipse.persistence.internal.queries.DatabaseQueryMechanism.executeWriteWithChangeSet(DatabaseQueryMechanism.java:286)\n    at org.eclipse.persistence.queries.WriteObjectQuery.executeDatabaseQuery(WriteObjectQuery.java:58)\n    at org.eclipse.persistence.queries.DatabaseQuery.execute(DatabaseQuery.java:852)\n    at org.eclipse.persistence.queries.DatabaseQuery.executeInUnitOfWork(DatabaseQuery.java:751)\n    at org.eclipse.persistence.queries.ObjectLevelModifyQuery.executeInUnitOfWorkObjectLevelModifyQuery(ObjectLevelModifyQuery.java:108)\n    at org.eclipse.persistence.queries.ObjectLevelModifyQuery.executeInUnitOfWork(ObjectLevelModifyQuery.java:85)\n    at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.internalExecuteQuery(UnitOfWorkImpl.java:2875)\n    at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1602)\n    at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1584)\n    at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1535)\n    at org.eclipse.persistence.internal.sessions.CommitManager.commitNewObjectsForClassWithChangeSet(CommitManager.java:224)\n    at org.eclipse.persistence.internal.sessions.CommitManager.commitAllObjectsForClassWithChangeSet(CommitManager.java:191)\n    at org.eclipse.persistence.internal.sessions.CommitManager.commitAllObjectsWithChangeSet(CommitManager.java:136)\n    at org.eclipse.persistence.internal.sessions.AbstractSession.writeAllObjectsWithChangeSet(AbstractSession.java:3914)\n    at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.commitToDatabase(UnitOfWorkImpl.java:1419)\n    at org.eclipse.persistence.internal.sessions.RepeatableWriteUnitOfWork.commitToDatabase(RepeatableWriteUnitOfWork.java:634)\n    at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.commitToDatabaseWithPreBuiltChangeSet(UnitOfWorkImpl.java:1565)\n    at org.eclipse.persistence.internal.sessions.RepeatableWriteUnitOfWork.writeChanges(RepeatableWriteUnitOfWork.java:445)\n    at org.eclipse.persistence.internal.jpa.EntityManagerImpl.flush(EntityManagerImpl.java:798)\n    at se.point.unity.service.search.SearchStructureTest.setUp(SearchStructureTest.java:30)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n    at java.lang.reflect.Method.invoke(Method.java:597)\n    at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n    at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)\n    at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:24)\n    at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)\n    at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:271)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:70)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:50)\n    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:238)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:63)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:236)\n    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:53)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:229)\n    at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)\n    at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:309)\n    at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:50)\n    at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:467)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:683)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:390)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:197)\nCaused by: org.h2.jdbc.JdbcSQLException: NULL not allowed for column \"ID\"; SQL statement:\nINSERT INTO systemuser (systemuseridnr, editby, failedloginattempts, firstname, lastedittime, lastfailedlogindate, lastlogindate, lastname, systemusername, password, phone, statusnr, systemusergroupidnr) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) [23502-168]\n    at org.h2.message.DbException.getJdbcSQLException(DbException.java:329)\n    at org.h2.message.DbException.get(DbException.java:169)\n    at org.h2.message.DbException.get(DbException.java:146)\n    at org.h2.table.Column.validateConvertUpdateSequence(Column.java:293)\n    at org.h2.table.Table.validateConvertUpdateSequence(Table.java:689)\n    at org.h2.command.dml.Insert.insertRows(Insert.java:120)\n    at org.h2.command.dml.Insert.update(Insert.java:84)\n    at org.h2.command.CommandContainer.update(CommandContainer.java:75)\n    at org.h2.command.Command.executeUpdate(Command.java:230)\n    at org.h2.jdbc.JdbcPreparedStatement.executeUpdateInternal(JdbcPreparedStatement.java:156)\n    at org.h2.jdbc.JdbcPreparedStatement.executeUpdate(JdbcPreparedStatement.java:142)\n    at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeDirectNoSelect(DatabaseAccessor.java:842)\n    ... 59 more\n\n[EL Finer]: transaction: 2014-03-17 18:28:42.765--UnitOfWork(134154804)--Thread(Thread[main,5,main])--release unit of work\n[EL Finer]: transaction: 2014-03-17 18:28:42.765--ClientSession(350731153)--Connection(2020456228)--Thread(Thread[main,5,main])--rollback transaction\n[EL Finest]: connection: 2014-03-17 18:28:42.77--ServerSession(1278414937)--Connection(2020456228)--Thread(Thread[main,5,main])--Connection released to connection pool [default].\n[EL Finer]: connection: 2014-03-17 18:28:42.771--ClientSession(350731153)--Thread(Thread[main,5,main])--client released\n[EL Finest]: jpa: 2014-03-17 18:28:42.775--ServerSession(1278414937)--Thread(Thread[main,5,main])--Begin undeploying Persistence Unit foo-test; session file:/C:/Users/jedmin/Desktop/unity/branches/DEVELOPMENT/Persistence-Unit/target/test-classes/_foo-test; state Deployed; factoryCount 1\n[EL Finest]: sequencing: 2014-03-17 18:28:42.775--ServerSession(1278414937)--Thread(Thread[main,5,main])--sequencing disconnected\n[EL Config]: connection: 2014-03-17 18:28:42.775--ServerSession(1278414937)--Connection(2020456228)--Thread(Thread[main,5,main])--disconnect\n[EL Finer]: cache: 2014-03-17 18:28:42.93--ServerSession(1278414937)--Thread(Thread[main,5,main])--initialize identitymaps\n[EL Info]: connection: 2014-03-17 18:28:42.93--ServerSession(1278414937)--Thread(Thread[main,5,main])--file:/C:/Users/jedmin/Desktop/unity/branches/DEVELOPMENT/Persistence-Unit/target/test-classes/_foo-test logout successful\n[EL Config]: connection: 2014-03-17 18:28:42.93--ServerSession(1278414937)--Connection(1864311781)--Thread(Thread[main,5,main])--disconnect\n[EL Finest]: jpa: 2014-03-17 18:28:42.931--ServerSession(1278414937)--Thread(Thread[main,5,main])--End undeploying Persistence Unit foo-test; session file:/C:/Users/jedmin/Desktop/unity/branches/DEVELOPMENT/Persistence-Unit/target/test-classes/_foo-test; state Undeployed; factoryCount 0\n</code></pre>\n\n<p>And from what i can glean from the log - none of the values are null..\nAlso, </p>\n\n<p>What is going on here?</p>\n\n<h2>UPDATE1:</h2>\n\n<p>So I tested a few of the suggestions and discussed a bit with my coworkers, and then we noticed that the generated table has a column we did not expect; 'id'! That is part of the compound pk with 'systemuseridnr'!</p>\n\n<p>The strange thing here is that I tried renaming the variable 'id' to match the name-value of the @Column annotation, and the problem is still there after i droped-created the database, and let EclipseLink rebuild the tables.</p>\n\n<p>I've also tried looking for other entities that might be referring @OneToMany with a static string in the mappedBy value like shown below, <strong>But I found none</strong>!</p>\n\n<pre><code>@OneToMany(mappedBy = \"id\")\nprivate List&lt;SystemUser&gt; users;\n</code></pre>\n\n<h2>Update2:</h2>\n\n<p>This is the definition of the table that is autogenerated by Eclipselink (and Hibernate if i use that)</p>\n\n<p>Notice the column named 'id'! And how it is part of the primary key!</p>\n\n<pre><code>CREATE TABLE systemuser\n(\n      systemuseridnr integer NOT NULL,\n      editby character varying(10) NOT NULL,\n      failedloginattempts smallint,\n      firstname character varying(40),\n      lastedittime timestamp(0) without time zone NOT NULL DEFAULT (now())::timestamp(6) without time zone,\n      lastfailedlogindate timestamp without time zone,\n      lastlogindate timestamp without time zone,\n      lastname character varying(40),\n      systemusername character varying(10) NOT NULL,\n      password character varying(100) NOT NULL,\n      phone character varying(20),\n      statusnr integer DEFAULT 0,\n      systemusergroupidnr integer NOT NULL,\n      id integer NOT NULL,\n      vismavalue integer,\n      terminalvendor_id integer,\n      CONSTRAINT systemuser_pkey PRIMARY KEY (systemuseridnr , id ),\n      CONSTRAINT fk_systemuser_terminalvendor_id FOREIGN KEY (terminalvendor_id)\n          REFERENCES terminalvendor (terminalvendoridnr) MATCH SIMPLE\n          ON UPDATE NO ACTION ON DELETE NO ACTION,\n      CONSTRAINT systemuser_systemusername_key UNIQUE (systemusername )\n);\n</code></pre>\n"},{"tags":["javascript","java","html","file","native"],"comments":[{"owner":{"account_id":2380334,"reputation":2167,"user_id":2082488,"accept_rate":32,"display_name":"benchpresser"},"score":0,"creation_date":1643720510,"post_id":70940887,"comment_id":125410043,"body_markdown":"@DankDizaster it is a different thing, it prints as an html. We want to send a text directly to a printer LPT1 (dot matrix)","body":"@DankDizaster it is a different thing, it prints as an html. We want to send a text directly to a printer LPT1 (dot matrix)"},{"owner":{"account_id":2380334,"reputation":2167,"user_id":2082488,"accept_rate":32,"display_name":"benchpresser"},"score":0,"creation_date":1643721505,"post_id":70940887,"comment_id":125410432,"body_markdown":"Therotically if you can not perform some task using pure javascript due to the browser restrictions, you can not solve it by using an extra library because it also uses some fundamental javascript, html etc. I need some native working mechanism like ActiveX which was 10 years before","body":"Therotically if you can not perform some task using pure javascript due to the browser restrictions, you can not solve it by using an extra library because it also uses some fundamental javascript, html etc. I need some native working mechanism like ActiveX which was 10 years before"}],"owner":{"account_id":2380334,"reputation":2167,"user_id":2082488,"accept_rate":32,"display_name":"benchpresser"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":270,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643719850,"creation_date":1643719850,"question_id":70940887,"body_markdown":"We have desktop java swing application which can print some content to a text printer **lpt1**\r\n\r\n    try {\r\n          FileWriter out = new FileWriter(&quot;lpt1&quot;);\r\n          out.write(&quot;Hello world&quot;);\r\n          out.write(0x0D); // CR\r\n          out.close();\r\n    }\r\n\r\nNow we have a web version of the same program to run on google chrome which is written in javascript/html/react. Because of browser limitations (security) we can not implement same mechanism. HTML5 File api is not enough for a such task I think.\r\n(10 years before it would be probably possible using ActiveX controls) \r\n\r\nHow can we trigger printing a text document to text printer where the client machine has a printer and a chrome browser is running?  I have some possibilites/alternatives, any suggestions are appreciated.\r\n\r\n1- Build a native java jar file, which encapculates and wraps a webview (an html renderer), run the html based version in the webview and if native operations such as file needed, communicate with the wrapper jar file and implement file operations as before.\r\n\r\n2- Run the web based app, and demand the clients that they run a native jar file at the same time and the jar file opens some sockets etc and listens for localhost. The web application communicates with post requests to the local jar file.\r\n\r\n3- Write a chrome plugin or extension which can handle java native file operations? Is it possible? Where can I start? \r\n\r\n**Note:** It is enough for us that the web page runs on chrome only, we can also force to latest chrome builds. Cross browser support or support to old browsers is NOT needed. ","title":"Printing to text printer using html/javascript through browser","body":"<p>We have desktop java swing application which can print some content to a text printer <strong>lpt1</strong></p>\n<pre><code>try {\n      FileWriter out = new FileWriter(&quot;lpt1&quot;);\n      out.write(&quot;Hello world&quot;);\n      out.write(0x0D); // CR\n      out.close();\n}\n</code></pre>\n<p>Now we have a web version of the same program to run on google chrome which is written in javascript/html/react. Because of browser limitations (security) we can not implement same mechanism. HTML5 File api is not enough for a such task I think.\n(10 years before it would be probably possible using ActiveX controls)</p>\n<p>How can we trigger printing a text document to text printer where the client machine has a printer and a chrome browser is running?  I have some possibilites/alternatives, any suggestions are appreciated.</p>\n<p>1- Build a native java jar file, which encapculates and wraps a webview (an html renderer), run the html based version in the webview and if native operations such as file needed, communicate with the wrapper jar file and implement file operations as before.</p>\n<p>2- Run the web based app, and demand the clients that they run a native jar file at the same time and the jar file opens some sockets etc and listens for localhost. The web application communicates with post requests to the local jar file.</p>\n<p>3- Write a chrome plugin or extension which can handle java native file operations? Is it possible? Where can I start?</p>\n<p><strong>Note:</strong> It is enough for us that the web page runs on chrome only, we can also force to latest chrome builds. Cross browser support or support to old browsers is NOT needed.</p>\n"},{"tags":["java","macos","ant"],"answers":[{"tags":[],"owner":{"account_id":43344,"reputation":6041,"user_id":126644,"display_name":"micmoo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1247337370,"creation_date":1247337370,"answer_id":1114367,"question_id":1114309,"body_markdown":"Ant(or bash, or whatever your using) doesn&#39;t know that an App bundle is suppose to be treated like a file, it just sees it as a directory (which it is). So to make your Ant file work, you would want to use a command that works for coping folders, not files. I&#39;ve never used ant, but  it is probably like the cp unix command (cp -r origApp.app newApp.app)\r\n\r\nHope this helps...","title":"How do I copy .app bundles with Ant on Mac OS X?","body":"<p>Ant(or bash, or whatever your using) doesn't know that an App bundle is suppose to be treated like a file, it just sees it as a directory (which it is). So to make your Ant file work, you would want to use a command that works for coping folders, not files. I've never used ant, but  it is probably like the cp unix command (cp -r origApp.app newApp.app)</p>\n\n<p>Hope this helps...</p>\n"},{"tags":[],"owner":{"account_id":22466,"reputation":11039,"user_id":55452,"accept_rate":100,"display_name":"David J. Liszewski"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1248209387,"creation_date":1248209387,"answer_id":1161666,"question_id":1114309,"body_markdown":"Ant&#39;s copy taskdef does not seem to have any OS X specific code for handling resource forks. Without resorting to [ditto][1] in an exec task, you might try explicitly copying the resource fork using the pathname suffix &quot;**/..namedfork/rsrc**&quot;. I don&#39;t know if that will work across all releases (Jaguar, Tiger, Leopard, etc.)\r\n\r\n\r\n  [1]: http://developer.apple.com/documentation/Darwin/Reference/ManPages/man1/ditto.1.html","title":"How do I copy .app bundles with Ant on Mac OS X?","body":"<p>Ant's copy taskdef does not seem to have any OS X specific code for handling resource forks. Without resorting to <a href=\"http://developer.apple.com/documentation/Darwin/Reference/ManPages/man1/ditto.1.html\" rel=\"nofollow noreferrer\">ditto</a> in an exec task, you might try explicitly copying the resource fork using the pathname suffix \"<strong>/..namedfork/rsrc</strong>\". I don't know if that will work across all releases (Jaguar, Tiger, Leopard, etc.)</p>\n"},{"tags":[],"owner":{"account_id":7635700,"reputation":569,"user_id":5789321,"display_name":"Whiletrue"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643719796,"creation_date":1643719796,"answer_id":70940880,"question_id":1114309,"body_markdown":"In ant this is what I use :\r\n\r\n    &lt;delete dir=&quot;${dmgdir}/${App.Out.FileName}&quot;/&gt;\r\n    &lt;mkdir dir=&quot;${dmgdir}/${App.Out.FileName}&quot;/&gt;  \r\n    &lt;echo&gt;Copy ${App.Out.FileName} from ${publishdir} to ${dmgdir}&lt;/echo&gt;\r\n      \r\n    &lt;exec executable=&quot;cp&quot;&gt;\r\n        &lt;arg value=&quot;-a&quot;/&gt;\r\n        &lt;arg value=&quot;${publishdir}/${App.Out.FileName}/&quot;/&gt;\r\n        &lt;arg value=&quot;${dmgsourcedir}/${App.Out.FileName}/&quot;/&gt;\r\n    &lt;/exec&gt;\r\nDelete the destination app folder\r\n\r\ncreate the dir app folder\r\n\r\nthen cp -a with paths with a slash at the end","title":"How do I copy .app bundles with Ant on Mac OS X?","body":"<p>In ant this is what I use :</p>\n<pre><code>&lt;delete dir=&quot;${dmgdir}/${App.Out.FileName}&quot;/&gt;\n&lt;mkdir dir=&quot;${dmgdir}/${App.Out.FileName}&quot;/&gt;  \n&lt;echo&gt;Copy ${App.Out.FileName} from ${publishdir} to ${dmgdir}&lt;/echo&gt;\n  \n&lt;exec executable=&quot;cp&quot;&gt;\n    &lt;arg value=&quot;-a&quot;/&gt;\n    &lt;arg value=&quot;${publishdir}/${App.Out.FileName}/&quot;/&gt;\n    &lt;arg value=&quot;${dmgsourcedir}/${App.Out.FileName}/&quot;/&gt;\n&lt;/exec&gt;\n</code></pre>\n<p>Delete the destination app folder</p>\n<p>create the dir app folder</p>\n<p>then cp -a with paths with a slash at the end</p>\n"}],"owner":{"display_name":"Sam Stewart"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1426,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1643719796,"creation_date":1247335787,"question_id":1114309,"body_markdown":"Hey guys, I just had a quick question about copying files on Mac os x with ant.\r\nI&#39;ve written myself a great little build script for my iPhone development. The script copies\r\nthe compiled .app files that are created from xcodebuild. Anyway, the ant &lt;copy&gt; command does not seem to work. It does not copy the .app file correctly. it copies the contents of the .app file as if it were a folder. I understand that this is because its not preserving the meta data required to keep the folder a .app when copying. I can use ditto for the copy, but I&#39;d like to know if there&#39;s something I&#39;m missing with the ant &lt;copy&gt; command. So this is the summery of my question: How do I copy .app bundles with ant on mac os x?\r\nAny tips would be appreciated.\r\nThanks,\r\nSam","title":"How do I copy .app bundles with Ant on Mac OS X?","body":"<p>Hey guys, I just had a quick question about copying files on Mac os x with ant.\nI've written myself a great little build script for my iPhone development. The script copies\nthe compiled .app files that are created from xcodebuild. Anyway, the ant  command does not seem to work. It does not copy the .app file correctly. it copies the contents of the .app file as if it were a folder. I understand that this is because its not preserving the meta data required to keep the folder a .app when copying. I can use ditto for the copy, but I'd like to know if there's something I'm missing with the ant  command. So this is the summery of my question: How do I copy .app bundles with ant on mac os x?\nAny tips would be appreciated.\nThanks,\nSam</p>\n"},{"tags":["java","php","encryption","aes","sha256"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1643737545,"post_id":70940020,"comment_id":125417504,"body_markdown":"First error `AES` in Java means `AES/ECB/PKCS7Padding` not AES-CBC as you have used in php. BTW: The modern password based ZIP encryption would have been more secure than this self-developed encyrption as it uses ECB which is known to be insecure. Therefore my suggestion: throw it away and use the existing AES based ZIP encryption using a good password.","body":"First error <code>AES</code> in Java means <code>AES&#47;ECB&#47;PKCS7Padding</code> not AES-CBC as you have used in php. BTW: The modern password based ZIP encryption would have been more secure than this self-developed encyrption as it uses ECB which is known to be insecure. Therefore my suggestion: throw it away and use the existing AES based ZIP encryption using a good password."},{"owner":{"account_id":4838250,"reputation":1,"user_id":18089962,"display_name":"Aedy"},"score":0,"creation_date":1643774988,"post_id":70940020,"comment_id":125426488,"body_markdown":"@Robert thanks for the input, I will definitely look into the method you&#39;ve mentioned. However, I can&#39;t really change anything in those Java Functions right now, as they&#39;re already in production. \n\nIf you could give me a bit more info on what MessageDigest.digest() method does, and where to look for IV, it will definitely help me move to the right direction.","body":"@Robert thanks for the input, I will definitely look into the method you&#39;ve mentioned. However, I can&#39;t really change anything in those Java Functions right now, as they&#39;re already in production.   If you could give me a bit more info on what MessageDigest.digest() method does, and where to look for IV, it will definitely help me move to the right direction."},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1643809035,"post_id":70940020,"comment_id":125437203,"body_markdown":"IV is only used by CBC mode. As the Java part uses ECB there is no IV. `MessageDigest.digest()` in yozr case simply calculates the SHA-256 on the input data in `key`.","body":"IV is only used by CBC mode. As the Java part uses ECB there is no IV. <code>MessageDigest.digest()</code> in yozr case simply calculates the SHA-256 on the input data in <code>key</code>."},{"owner":{"account_id":434266,"reputation":15464,"user_id":820127,"display_name":"rossum"},"score":0,"creation_date":1643809991,"post_id":70940020,"comment_id":125437617,"body_markdown":"As a general point, different systems use different defaults, and any mismatch will cause an error.  You are better off explicitly setting everything on both sides so you can be sure that they match.","body":"As a general point, different systems use different defaults, and any mismatch will cause an error.  You are better off explicitly setting everything on both sides so you can be sure that they match."}],"owner":{"account_id":4838250,"reputation":1,"user_id":18089962,"display_name":"Aedy"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":169,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643719297,"creation_date":1643715938,"question_id":70940020,"body_markdown":"I&#39;ve been trying to decrypt a ZIP file in PHP which was encrypted using Java.&lt;br&gt;\r\nI already have written a function in Java, which is decrypting files perfectly. However, I haven&#39;t been able to decrypt the file in PHP. \r\nPlease find the code snippet below. Please let me know if more info is required or I&#39;m unclear anywhere. \r\n\r\n**Java (Decryption Function)**\r\n```\r\nfinal SecretKeySpec aeskeySpec = this.generateKeySpec(salt);\r\nfinal Cipher AESCipher = Cipher.getInstance(&quot;AES&quot;);\r\nAESCipher.init(2, aeskeySpec);\r\nfinal CipherInputStream is = new CipherInputStream(new FileInputStream(encryptedFile), AESCipher);\r\nfinal FileOutputStream os = new FileOutputStream(outputFile);\r\nthis.copy(is, os);\r\n```\r\n\r\n**Java (generateKeySpec)**\r\n```\r\nprivate SecretKeySpec generateKeySpec(final String text) throws SecurityException {\r\n        SecretKeySpec secretKeySpec = null;\r\n        try {\r\n            byte[] key = (&quot;xxxxxxx&quot; + text).getBytes(&quot;UTF-8&quot;);\r\n            final MessageDigest sha = MessageDigest.getInstance(&quot;SHA-256&quot;);\r\n            key = sha.digest(key);\r\n            key = Arrays.copyOf(key, this.AES_KEY_SIZE / 8);\r\n            secretKeySpec = new SecretKeySpec(key, &quot;AES&quot;);\r\n        }\r\n        catch (UnsupportedEncodingException | NoSuchAlgorithmException ex2) {\r\n            final Exception ex;\r\n            final Exception e = ex;\r\n            throw new SecurityException(e);\r\n        }\r\n        return secretKeySpec;\r\n}\r\n```\r\n\r\n**PHP Code I&#39;ve written so far**\r\n```\r\nif (file_exists(&#39;file.zip&#39;)) {\r\n    $file = file_get_contents(&#39;file.zip&#39;);\r\n    $key = unpack(&#39;C*&#39;, &#39;xxxxxxxxx&#39;);\r\n    $decryptedData = openssl_decrypt($file,&#39;AES-256-CBC&#39;, hash(&#39;sha256&#39;, &#39;xxxxxxxxx&#39;));\r\n    $newFile = fopen(&#39;decrypted.zip&#39;, &#39;w+&#39;);\r\n    fwrite($newFile, $decryptedData);\r\n}\r\n```\r\nAny sort of help is most appreciated.\r\n\r\nThank you all! :) ","title":"Decrypting a ZIP file in PHP encrypted using Java","body":"<p>I've been trying to decrypt a ZIP file in PHP which was encrypted using Java.<br>\nI already have written a function in Java, which is decrypting files perfectly. However, I haven't been able to decrypt the file in PHP.\nPlease find the code snippet below. Please let me know if more info is required or I'm unclear anywhere.</p>\n<p><strong>Java (Decryption Function)</strong></p>\n<pre><code>final SecretKeySpec aeskeySpec = this.generateKeySpec(salt);\nfinal Cipher AESCipher = Cipher.getInstance(&quot;AES&quot;);\nAESCipher.init(2, aeskeySpec);\nfinal CipherInputStream is = new CipherInputStream(new FileInputStream(encryptedFile), AESCipher);\nfinal FileOutputStream os = new FileOutputStream(outputFile);\nthis.copy(is, os);\n</code></pre>\n<p><strong>Java (generateKeySpec)</strong></p>\n<pre><code>private SecretKeySpec generateKeySpec(final String text) throws SecurityException {\n        SecretKeySpec secretKeySpec = null;\n        try {\n            byte[] key = (&quot;xxxxxxx&quot; + text).getBytes(&quot;UTF-8&quot;);\n            final MessageDigest sha = MessageDigest.getInstance(&quot;SHA-256&quot;);\n            key = sha.digest(key);\n            key = Arrays.copyOf(key, this.AES_KEY_SIZE / 8);\n            secretKeySpec = new SecretKeySpec(key, &quot;AES&quot;);\n        }\n        catch (UnsupportedEncodingException | NoSuchAlgorithmException ex2) {\n            final Exception ex;\n            final Exception e = ex;\n            throw new SecurityException(e);\n        }\n        return secretKeySpec;\n}\n</code></pre>\n<p><strong>PHP Code I've written so far</strong></p>\n<pre><code>if (file_exists('file.zip')) {\n    $file = file_get_contents('file.zip');\n    $key = unpack('C*', 'xxxxxxxxx');\n    $decryptedData = openssl_decrypt($file,'AES-256-CBC', hash('sha256', 'xxxxxxxxx'));\n    $newFile = fopen('decrypted.zip', 'w+');\n    fwrite($newFile, $decryptedData);\n}\n</code></pre>\n<p>Any sort of help is most appreciated.</p>\n<p>Thank you all! :)</p>\n"},{"tags":["java","anylogic"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1643630619,"post_id":70925663,"comment_id":125383046,"body_markdown":"without seeing any code, we won&#39;t be able to respond to this","body":"without seeing any code, we won&#39;t be able to respond to this"},{"owner":{"account_id":24109784,"reputation":13,"user_id":18080520,"display_name":"Tomolesque"},"score":0,"creation_date":1643630808,"post_id":70925663,"comment_id":125383113,"body_markdown":"public boolean testConditionOf( EventCondition _e ) {\n\n    if ( _e == Upis_studenta_RI) return \nstudenti_Rijeka.inState(studenti_Rijeka.Brucoši)&lt;=studenti_Rijeka.Upisna_kvota_RI &amp;&amp;\nstudenti_Rijeka.potražnja_RI&gt;=studenti_Rijeka.Upisna_kvota_RI \n;\n    return super.testConditionOf( _e );\n  }","body":"public boolean testConditionOf( EventCondition _e ) {      if ( _e == Upis_studenta_RI) return  studenti_Rijeka.inState(studenti_Rijeka.Brucoši)&lt;=studenti_R&zwnj;&#8203;ijeka.Upisna_kvota_R&zwnj;&#8203;I &amp;&amp; studenti_Rijeka.potražnja_RI&gt;=studenti_Rijeka.Upisna_kvota_R&zwnj;&#8203;I  ;     return super.testConditionOf( _e );   }"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1643631404,"post_id":70925663,"comment_id":125383289,"body_markdown":"you should show all the relevant code, not just that bit. As far as we can see, there are no such variables declared/instantiated.","body":"you should show all the relevant code, not just that bit. As far as we can see, there are no such variables declared/instantiated."},{"owner":{"account_id":24109784,"reputation":13,"user_id":18080520,"display_name":"Tomolesque"},"score":0,"creation_date":1643632632,"post_id":70925663,"comment_id":125383745,"body_markdown":"I&#39;m confused because AnyLogic should do the coding if agents and parameters inside them are correctly created, so the error is probably that I dont know how to write condition for the event!","body":"I&#39;m confused because AnyLogic should do the coding if agents and parameters inside them are correctly created, so the error is probably that I dont know how to write condition for the event!"}],"answers":[{"tags":[],"owner":{"account_id":4999683,"reputation":3818,"user_id":4019094,"display_name":"Jaco-Ben Vosloo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1643634300,"creation_date":1643632661,"answer_id":70926079,"question_id":70925663,"body_markdown":"When you call `inState(Statename)` you should reference the Agent type not the instance of the agent in order to get the statename.\r\n\r\nFor example\r\n`count(customers,c-&gt;c.inState(Customer.greenState))`\r\n\r\nWhere `Customer` is the agent type (In capital letters)\r\n\r\nSee this question for a similar problem\r\n\r\nI assume your code must then be\r\n\r\n`studenti_Rijeka.inState(Studenti_Rijeka.Brucoši)`\r\n\r\nif `studenti_Rijeka` is an instance of `Studenti_Rijeka`\r\n\r\nRemember that you cant ask a population if it is in state, a population of agents is just a collection... you need to ask each individual agent in the state\r\n\r\nfor example\r\n\r\n```\r\nfor (Rijeka rijeka:studenti_Rijeka) {\r\n   if (riejka.inState(Rijeka.Brucoši)) {\r\n      traceln(&quot;do something&quot;);\r\n   }\r\n}\r\n\r\n```\r\n\r\nhttps://stackoverflow.com/questions/70698412/count-all-agents-that-are-in-certain-state/70698488#70698488","title":"&quot;cannot be resolved or is not a field&quot; error in Anylogic event condition","body":"<p>When you call <code>inState(Statename)</code> you should reference the Agent type not the instance of the agent in order to get the statename.</p>\n<p>For example\n<code>count(customers,c-&gt;c.inState(Customer.greenState))</code></p>\n<p>Where <code>Customer</code> is the agent type (In capital letters)</p>\n<p>See this question for a similar problem</p>\n<p>I assume your code must then be</p>\n<p><code>studenti_Rijeka.inState(Studenti_Rijeka.Brucoši)</code></p>\n<p>if <code>studenti_Rijeka</code> is an instance of <code>Studenti_Rijeka</code></p>\n<p>Remember that you cant ask a population if it is in state, a population of agents is just a collection... you need to ask each individual agent in the state</p>\n<p>for example</p>\n<pre><code>for (Rijeka rijeka:studenti_Rijeka) {\n   if (riejka.inState(Rijeka.Brucoši)) {\n      traceln(&quot;do something&quot;);\n   }\n}\n\n</code></pre>\n<p><a href=\"https://stackoverflow.com/questions/70698412/count-all-agents-that-are-in-certain-state/70698488#70698488\">Count all agents that are in certain state</a></p>\n"}],"owner":{"account_id":24109784,"reputation":13,"user_id":18080520,"display_name":"Tomolesque"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":611,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70926079,"answer_count":1,"score":1,"last_activity_date":1643719201,"creation_date":1643630592,"question_id":70925663,"body_markdown":"Please somebody help, I&#39;m very new to Java and Anylogic!\r\n\r\nI&#39;m getting errors in the Condition part of the Event named &quot;Upis_studenta_RI&quot;:\r\n&gt; Upisna_kvota_RI cannot be resolved or is not a field. Location: Model-1/Main/Upis_studenta_RI - Event  \r\n&gt; potražnja_RI cannot be resolved or is not a field. Location: Model-1/Main/Upis_studenta_RI - Event  \r\n&gt; Brucoši cannot be resolved or is not a field. Location: Model-1/Main/Upis_studenta_RI - Event  \r\n\r\nThe code in Condition is:\r\n```\r\nstudenti_Rijeka.inState(studenti_Rijeka.Brucoši)&lt;=studenti_Rijeka.Upisna_kvota_RI &amp;&amp;\r\nstudenti_Rijeka.potražnja_RI&gt;=studenti_Rijeka.Upisna_kvota_RI\r\n```\r\n\r\n&quot;studenti_Rijeka&quot; is agent in Main, &quot;Brucoši&quot; is State in statechart inside agent studenti_Rijeka,\r\n&quot;Upisna_kvota_RI&quot; and &quot;potražnja_RI&quot; are parameters in same agent.\r\n\r\nHere is the code (generated in AnyLogic)\r\n\r\n     @Override\r\n      @AnyLogicInternalCodegenAPI\r\n      public boolean testConditionOf( EventCondition _e ) {\r\n    \r\n        if ( _e == Upis_studenta_RI) return \r\n    studenti_Rijeka.inState(studenti_Rijeka.Brucoši)&lt;=studenti_Rijeka.Upisna_kvota_RI &amp;&amp;\r\n    studenti_Rijeka.potražnja_RI&gt;=studenti_Rijeka.Upisna_kvota_RI \r\n    ;\r\n        return super.testConditionOf( _e );\r\n      }\r\n    \r\n\r\nAnd parameter potražnja_RI is coded:\r\n\r\n         public \r\n    double  potražnja_RI;\r\n    \r\n      /**\r\n       * Returns default value for parameter &lt;code&gt;potražnja_RI&lt;/code&gt;.\r\n       * &lt;i&gt;This method should not be called by user&lt;/i&gt;\r\n       */\r\n      @AnyLogicInternalCodegenAPI\r\n      public double _potražnja_RI_DefaultValue_xjal() {\r\n        final Rijeka self = this;\r\n        return \r\n    50 \r\n    ;\r\n      }\r\n    \r\n      public void set_potražnja_RI( double value ) {\r\n        if (value == this.potražnja_RI) {\r\n          return;\r\n        }\r\n        double _oldValue_xjal = this.potražnja_RI;\r\n        this.potražnja_RI = value;\r\n        onChange_potražnja_RI_xjal( _oldValue_xjal );\r\n        onChange();\r\n      }\r\n\r\n \r\nI&#39;m obviously still missing the point how to use some parameter in expressions, and dont know how to properly post a question :-/\r\n\r\nHow to use parameter xy in agent abc (of type ABC) in event located in Main, if I want to make condition of event:  xy&lt;5?\r\nAnyLogic will returns error &quot;xy cannot be resolved or is not a field&quot;.\r\n\r\nPlease help!\r\n\r\n\r\n","title":"&quot;cannot be resolved or is not a field&quot; error in Anylogic event condition","body":"<p>Please somebody help, I'm very new to Java and Anylogic!</p>\n<p>I'm getting errors in the Condition part of the Event named &quot;Upis_studenta_RI&quot;:</p>\n<blockquote>\n<p>Upisna_kvota_RI cannot be resolved or is not a field. Location: Model-1/Main/Upis_studenta_RI - Event<br />\npotražnja_RI cannot be resolved or is not a field. Location: Model-1/Main/Upis_studenta_RI - Event<br />\nBrucoši cannot be resolved or is not a field. Location: Model-1/Main/Upis_studenta_RI - Event</p>\n</blockquote>\n<p>The code in Condition is:</p>\n<pre><code>studenti_Rijeka.inState(studenti_Rijeka.Brucoši)&lt;=studenti_Rijeka.Upisna_kvota_RI &amp;&amp;\nstudenti_Rijeka.potražnja_RI&gt;=studenti_Rijeka.Upisna_kvota_RI\n</code></pre>\n<p>&quot;studenti_Rijeka&quot; is agent in Main, &quot;Brucoši&quot; is State in statechart inside agent studenti_Rijeka,\n&quot;Upisna_kvota_RI&quot; and &quot;potražnja_RI&quot; are parameters in same agent.</p>\n<p>Here is the code (generated in AnyLogic)</p>\n<pre><code> @Override\n  @AnyLogicInternalCodegenAPI\n  public boolean testConditionOf( EventCondition _e ) {\n\n    if ( _e == Upis_studenta_RI) return \nstudenti_Rijeka.inState(studenti_Rijeka.Brucoši)&lt;=studenti_Rijeka.Upisna_kvota_RI &amp;&amp;\nstudenti_Rijeka.potražnja_RI&gt;=studenti_Rijeka.Upisna_kvota_RI \n;\n    return super.testConditionOf( _e );\n  }\n</code></pre>\n<p>And parameter potražnja_RI is coded:</p>\n<pre><code>     public \ndouble  potražnja_RI;\n\n  /**\n   * Returns default value for parameter &lt;code&gt;potražnja_RI&lt;/code&gt;.\n   * &lt;i&gt;This method should not be called by user&lt;/i&gt;\n   */\n  @AnyLogicInternalCodegenAPI\n  public double _potražnja_RI_DefaultValue_xjal() {\n    final Rijeka self = this;\n    return \n50 \n;\n  }\n\n  public void set_potražnja_RI( double value ) {\n    if (value == this.potražnja_RI) {\n      return;\n    }\n    double _oldValue_xjal = this.potražnja_RI;\n    this.potražnja_RI = value;\n    onChange_potražnja_RI_xjal( _oldValue_xjal );\n    onChange();\n  }\n</code></pre>\n<p>I'm obviously still missing the point how to use some parameter in expressions, and dont know how to properly post a question :-/</p>\n<p>How to use parameter xy in agent abc (of type ABC) in event located in Main, if I want to make condition of event:  xy&lt;5?\nAnyLogic will returns error &quot;xy cannot be resolved or is not a field&quot;.</p>\n<p>Please help!</p>\n"},{"tags":["java","testng"],"answers":[{"tags":[],"owner":{"account_id":7050143,"reputation":50,"user_id":5399526,"display_name":"JP13"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634047026,"creation_date":1634047026,"answer_id":69541895,"question_id":69541486,"body_markdown":"You could try to use soft assertions (see for example https://www.seleniumeasy.com/testng-tutorials/soft-asserts-in-testng-example)","title":"Next test(s) ignored when afterMethod fails","body":"<p>You could try to use soft assertions (see for example <a href=\"https://www.seleniumeasy.com/testng-tutorials/soft-asserts-in-testng-example\" rel=\"nofollow noreferrer\">https://www.seleniumeasy.com/testng-tutorials/soft-asserts-in-testng-example</a>)</p>\n"},{"tags":[],"owner":{"account_id":9207703,"reputation":28723,"user_id":9444073,"display_name":"cruisepandey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634059811,"creation_date":1634059260,"answer_id":69544593,"question_id":69541486,"body_markdown":"You are using hard assertion. If you use softAssertion like below :\r\n\r\n\r\n    softAssertion.assertTrue(false);\r\n\r\nIn code :\r\n\r\n\r\n\t\r\n    @BeforeMethod\r\n    public void setup() {\r\n        assertTrue(true);\r\n    }\r\n    \r\n    @Test\r\n    public void test1() {\r\n        System.out.println(&quot;firstTest&quot;);\r\n    }\r\n    \r\n    @Test\r\n    public void test2() {\r\n        System.out.println(&quot;secondTest&quot;);\r\n    }\r\n    \r\n    @Test\r\n    public void test3() {\r\n        System.out.println(&quot;thirdTest&quot;);\r\n    }\r\n    \r\n    @AfterMethod\r\n    public void clearData() {\r\n    \tSoftAssert softAssertion= new SoftAssert();\r\n    \tsoftAssertion.assertTrue(false);\r\n    }\r\n\r\n\r\nYou should get this output :\r\n\r\n\r\n    firstTest\r\n    secondTest\r\n    thirdTest\r\n    PASSED: test2\r\n    PASSED: test3\r\n    PASSED: test1\r\n    \r\n    ===============================================\r\n        Default test\r\n        Tests run: 3, Failures: 0, Skips: 0\r\n    ===============================================\r\n    \r\n    \r\n    ===============================================\r\n    Default suite\r\n    Total tests run: 3, Passes: 3, Failures: 0, Skips: 0\r\n    ===============================================\r\n\r\n\r\nPlease see here for [Reference][1]\r\n\r\n\r\n  [1]: https://www.javadoc.io/doc/org.testng/testng/6.8.8/org/testng/asserts/SoftAssert.html\r\n\r\nAlso, If you use `hard assertion` in a `@Test` not in `configuration annotation`, your test cases would have run if there was any failure. \r\n\r\nBut you are intentionally failing the testng `CONFIGURATION`, so when a configuration fails in testng next or other configuration are gonna be skipped, You may be seeing this kind of output. \r\n\r\n\r\n    SKIPPED CONFIGURATION: @BeforeMethod setup\r\n    SKIPPED CONFIGURATION: @AfterMethod clearData\r\n    SKIPPED CONFIGURATION: @AfterMethod clearData\r\n    SKIPPED CONFIGURATION: @BeforeMethod setup","title":"Next test(s) ignored when afterMethod fails","body":"<p>You are using hard assertion. If you use softAssertion like below :</p>\n<pre><code>softAssertion.assertTrue(false);\n</code></pre>\n<p>In code :</p>\n<pre><code>@BeforeMethod\npublic void setup() {\n    assertTrue(true);\n}\n\n@Test\npublic void test1() {\n    System.out.println(&quot;firstTest&quot;);\n}\n\n@Test\npublic void test2() {\n    System.out.println(&quot;secondTest&quot;);\n}\n\n@Test\npublic void test3() {\n    System.out.println(&quot;thirdTest&quot;);\n}\n\n@AfterMethod\npublic void clearData() {\n    SoftAssert softAssertion= new SoftAssert();\n    softAssertion.assertTrue(false);\n}\n</code></pre>\n<p>You should get this output :</p>\n<pre><code>firstTest\nsecondTest\nthirdTest\nPASSED: test2\nPASSED: test3\nPASSED: test1\n\n===============================================\n    Default test\n    Tests run: 3, Failures: 0, Skips: 0\n===============================================\n\n\n===============================================\nDefault suite\nTotal tests run: 3, Passes: 3, Failures: 0, Skips: 0\n===============================================\n</code></pre>\n<p>Please see here for <a href=\"https://www.javadoc.io/doc/org.testng/testng/6.8.8/org/testng/asserts/SoftAssert.html\" rel=\"nofollow noreferrer\">Reference</a></p>\n<p>Also, If you use <code>hard assertion</code> in a <code>@Test</code> not in <code>configuration annotation</code>, your test cases would have run if there was any failure.</p>\n<p>But you are intentionally failing the testng <code>CONFIGURATION</code>, so when a configuration fails in testng next or other configuration are gonna be skipped, You may be seeing this kind of output.</p>\n<pre><code>SKIPPED CONFIGURATION: @BeforeMethod setup\nSKIPPED CONFIGURATION: @AfterMethod clearData\nSKIPPED CONFIGURATION: @AfterMethod clearData\nSKIPPED CONFIGURATION: @BeforeMethod setup\n</code></pre>\n"}],"owner":{"account_id":15095197,"reputation":1792,"user_id":10893827,"display_name":"Norayr Sargsyan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":497,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1643718992,"creation_date":1634045477,"question_id":69541486,"body_markdown":"I want to continue test execution even if the `afterMethod` fails, is there any solution for that? I tried to use `alwaysRun = true`, but only before and after methods are executed, the tests are always ignored.\r\n\r\nHere is a simple example (used assertion only for failing the test, imagine instead of assertion some logic which can fail), where the afterMethod fails and the rest tests are ignored.\r\n\r\n\r\n    import org.testng.annotations.AfterMethod;\r\n    import org.testng.annotations.BeforeMethod;\r\n    import org.testng.annotations.Test;\r\n    \r\n    import static org.testng.Assert.assertTrue;\r\n    \r\n    public class Test1 {\r\n    \r\n        @BeforeMethod\r\n        public void setup() {\r\n            assertTrue(true);\r\n        }\r\n    \r\n        @Test\r\n        public void test1() {\r\n            System.out.println(&quot;firstTest&quot;);\r\n        }\r\n    \r\n        @Test\r\n        public void test2() {\r\n            System.out.println(&quot;secondTest&quot;);\r\n        }\r\n    \r\n        @Test\r\n        public void test3() {\r\n            System.out.println(&quot;thirdTest&quot;);\r\n        }\r\n    \r\n        @AfterMethod\r\n        public void clearData() {\r\n            assertTrue(false);\r\n        }\r\n    }\r\n\r\n","title":"Next test(s) ignored when afterMethod fails","body":"<p>I want to continue test execution even if the <code>afterMethod</code> fails, is there any solution for that? I tried to use <code>alwaysRun = true</code>, but only before and after methods are executed, the tests are always ignored.</p>\n<p>Here is a simple example (used assertion only for failing the test, imagine instead of assertion some logic which can fail), where the afterMethod fails and the rest tests are ignored.</p>\n<pre><code>import org.testng.annotations.AfterMethod;\nimport org.testng.annotations.BeforeMethod;\nimport org.testng.annotations.Test;\n\nimport static org.testng.Assert.assertTrue;\n\npublic class Test1 {\n\n    @BeforeMethod\n    public void setup() {\n        assertTrue(true);\n    }\n\n    @Test\n    public void test1() {\n        System.out.println(&quot;firstTest&quot;);\n    }\n\n    @Test\n    public void test2() {\n        System.out.println(&quot;secondTest&quot;);\n    }\n\n    @Test\n    public void test3() {\n        System.out.println(&quot;thirdTest&quot;);\n    }\n\n    @AfterMethod\n    public void clearData() {\n        assertTrue(false);\n    }\n}\n</code></pre>\n"},{"tags":["java","xml","caching"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1643704650,"post_id":70937481,"comment_id":125404235,"body_markdown":"That depends on what exactly you need to do and how long you&#39;d need to cache it. In its simpest meaning &quot;caching&quot; would just be storing the reference to that instance in some place that makes it available to the code that needs it - also depends on the scope in which it is needed, i.e. could be a method, class (for methods within that class) or some more globally available context.","body":"That depends on what exactly you need to do and how long you&#39;d need to cache it. In its simpest meaning &quot;caching&quot; would just be storing the reference to that instance in some place that makes it available to the code that needs it - also depends on the scope in which it is needed, i.e. could be a method, class (for methods within that class) or some more globally available context."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1643707135,"post_id":70937481,"comment_id":125405112,"body_markdown":"One more related note: with caching you need to think about thread-safety. If there&#39;s a chance the cached instance will be used by multiple threads concurrently - either directly or indirectly - you need to make sure it&#39;s safe to do so (check the class documentation it should normally state whether it&#39;s thread-safe or not - if it doesn&#39;t state anything assume the class isn&#39;t thread-safe). You might not have reach the level of dealing with threads yet in which case this comment might not help directly, but keep it in mind for later referal.","body":"One more related note: with caching you need to think about thread-safety. If there&#39;s a chance the cached instance will be used by multiple threads concurrently - either directly or indirectly - you need to make sure it&#39;s safe to do so (check the class documentation it should normally state whether it&#39;s thread-safe or not - if it doesn&#39;t state anything assume the class isn&#39;t thread-safe). You might not have reach the level of dealing with threads yet in which case this comment might not help directly, but keep it in mind for later referal."},{"owner":{"account_id":9136294,"reputation":186,"user_id":6795887,"accept_rate":0,"display_name":"Neo Sono"},"score":0,"creation_date":1643717156,"post_id":70937481,"comment_id":125408749,"body_markdown":"I go with Matteo&#39;s answer, because it simply means declaring an instance variable globally as member instance and the variable can only load once when class is loaded, as its a common variable to several calls. Within the class... Thank you all","body":"I go with Matteo&#39;s answer, because it simply means declaring an instance variable globally as member instance and the variable can only load once when class is loaded, as its a common variable to several calls. Within the class... Thank you all"}],"answers":[{"tags":[],"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1643708895,"creation_date":1643704810,"answer_id":70937577,"question_id":70937481,"body_markdown":"Caching means don&#39;t let the garbage collector trashing your variable after you use it, if you already know that you will need to use the same variable a bit later (but the GC does not understand that).\r\n\r\nIt really depends on how long does the `Xpath` states last (may be function-scope, instance-scope or class-scope - or even a more reduced scope like a for loop or an if block, but that&#39;s only you knowing it).\r\n\r\nThe below should help to understand:\r\n\r\n## Case 1 - inside a function ## \r\n\r\nIf you do this:\r\n\r\n    public Object doSomething() {\r\n        //code...\r\n        XPath xpath = XPathFactory.newInstance().newXPath();\r\n        //code...\r\n    }\r\n\r\n..then the garbage collector will think that once you&#39;re out of the function you don&#39;t need it anymore and so, it will trash it short after. Next time you call the function again, you will have to rebuild it from scratch.\r\n\r\n## Case 2 - as a class field ##\r\n\r\nIf you instead do this: \r\n\r\n    public class YourClass {\r\n        \r\n        private final XPath xpath = XPathFactory.newInstance().newXPath();\r\n\r\n        public Object doSomething() {\r\n            //code...\r\n            this.xpath.use(...);\r\n            //code...\r\n        }\r\n\r\n.. then you&#39;re doing the job only once per instance created. If you create 10 instances of your class, you&#39;ll do it 10 times. If you create just one, you&#39;ll do it just once.\r\nAnd the garbage collector will preserve the value of each instance as long as *that instance exists*.\r\n\r\n## Case 3 - static field ##\r\n\r\nBut if this really never depends on anything, then it should be static: \r\n\r\n    public class YourClass {\r\n        private static final XPath XPATH = XPathFactory.newInstance().newXPath();\r\n        \r\n        public Object doSomething() {\r\n            //code...\r\n            XPATH.use(...);\r\n            //code...\r\n        }        \r\n    }\r\n\r\n\r\n...  in this last case, no matter how many instances of the class you build, you&#39;ll always have one and only one instance of Xpath, and the garbage collector will let the variable live in peace *as long as your class is used / lies inside a class loader which contains used classes* \r\n\r\n(Small note: the static fields are initialized as soon as the `Class` is loaded by the `ClassLoader`, which loads that class and many others. The only case when the class becomes eligible to GC is when both that class and all the other classes of that class loader become unreachable. It is a very hard-to-reach state, meaning that usually, once a static field is initialized, you can be pretty safe it won&#39;t be collected until you shut down your application). ","title":"Caching java instance for peformance","body":"<p>Caching means don't let the garbage collector trashing your variable after you use it, if you already know that you will need to use the same variable a bit later (but the GC does not understand that).</p>\n<p>It really depends on how long does the <code>Xpath</code> states last (may be function-scope, instance-scope or class-scope - or even a more reduced scope like a for loop or an if block, but that's only you knowing it).</p>\n<p>The below should help to understand:</p>\n<h2>Case 1 - inside a function</h2>\n<p>If you do this:</p>\n<pre><code>public Object doSomething() {\n    //code...\n    XPath xpath = XPathFactory.newInstance().newXPath();\n    //code...\n}\n</code></pre>\n<p>..then the garbage collector will think that once you're out of the function you don't need it anymore and so, it will trash it short after. Next time you call the function again, you will have to rebuild it from scratch.</p>\n<h2>Case 2 - as a class field</h2>\n<p>If you instead do this:</p>\n<pre><code>public class YourClass {\n    \n    private final XPath xpath = XPathFactory.newInstance().newXPath();\n\n    public Object doSomething() {\n        //code...\n        this.xpath.use(...);\n        //code...\n    }\n</code></pre>\n<p>.. then you're doing the job only once per instance created. If you create 10 instances of your class, you'll do it 10 times. If you create just one, you'll do it just once.\nAnd the garbage collector will preserve the value of each instance as long as <em>that instance exists</em>.</p>\n<h2>Case 3 - static field</h2>\n<p>But if this really never depends on anything, then it should be static:</p>\n<pre><code>public class YourClass {\n    private static final XPath XPATH = XPathFactory.newInstance().newXPath();\n    \n    public Object doSomething() {\n        //code...\n        XPATH.use(...);\n        //code...\n    }        \n}\n</code></pre>\n<p>...  in this last case, no matter how many instances of the class you build, you'll always have one and only one instance of Xpath, and the garbage collector will let the variable live in peace <em>as long as your class is used / lies inside a class loader which contains used classes</em></p>\n<p>(Small note: the static fields are initialized as soon as the <code>Class</code> is loaded by the <code>ClassLoader</code>, which loads that class and many others. The only case when the class becomes eligible to GC is when both that class and all the other classes of that class loader become unreachable. It is a very hard-to-reach state, meaning that usually, once a static field is initialized, you can be pretty safe it won't be collected until you shut down your application).</p>\n"},{"tags":[],"owner":{"account_id":17228781,"reputation":3548,"user_id":12473843,"display_name":"Sergey Tsypanov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643704941,"creation_date":1643704941,"answer_id":70937606,"question_id":70937481,"body_markdown":"Suppose the code with the line above is called from a loop:\r\n```java\r\nvoid bar() {\r\n for (int i = 0; i &lt; 10; i++) {\r\n   XPath xpath = XPathFactory.newInstance().newXPath();\r\n   // use xpath variable\r\n  }\r\n}\r\n```\r\nHere 10 instances of `XPath` are created. Alternatively you can hoist `xpath` variable declaration out of the loop so only 1 instance will be created:\r\n```java\r\nvoid bar() {\r\n XPath xpath = XPathFactory.newInstance().newXPath();\r\n for (int i = 0; i &lt; 10; i++) {\r\n   // use xpath variable\r\n  }\r\n}\r\n```\r\nThis is the simplest case of caching, i.e. reusing some resource instead of recreating it.","title":"Caching java instance for peformance","body":"<p>Suppose the code with the line above is called from a loop:</p>\n<pre class=\"lang-java prettyprint-override\"><code>void bar() {\n for (int i = 0; i &lt; 10; i++) {\n   XPath xpath = XPathFactory.newInstance().newXPath();\n   // use xpath variable\n  }\n}\n</code></pre>\n<p>Here 10 instances of <code>XPath</code> are created. Alternatively you can hoist <code>xpath</code> variable declaration out of the loop so only 1 instance will be created:</p>\n<pre class=\"lang-java prettyprint-override\"><code>void bar() {\n XPath xpath = XPathFactory.newInstance().newXPath();\n for (int i = 0; i &lt; 10; i++) {\n   // use xpath variable\n  }\n}\n</code></pre>\n<p>This is the simplest case of caching, i.e. reusing some resource instead of recreating it.</p>\n"},{"tags":[],"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643718788,"creation_date":1643718788,"answer_id":70940643,"question_id":70937481,"body_markdown":"There are three important objects to cache:\r\n\r\n(a) the source document. If you&#39;re running many queries against the same document, you don&#39;t want to parse the XML file repeatedly for each one. Parse it once, and save the resulting tree. Most people seem to use the default DOM tree model, but there are alternatives like JDOM2 and XOM that are much more user-friendly.\r\n\r\n(b) the XPath engine. Initialising the XPath engine is generally expensive. If you&#39;re going to be evaluating many XPath expressions, you only want to be doing this once.\r\n\r\n(c) Individual XPath expressions. If you need to execute the same XPath expression repeatedly, remember that the initial compiling of the expression can take 100 times as long as each evaluation of the expression.\r\n\r\nSo you want to keep these objects in memory and reuse them if at all possible.\r\n\r\nCaching is one way of achieving this. The term &quot;caching&quot; generally means that your application always makes a new request when it wants to create an object, but some intermediate layer recognises that it&#39;s a request for an object that&#39;s already in memory, so it doesn&#39;t need to be created again from scratch.\r\n\r\nSo you might have a cache of source documents, so that when your application calls `Document doc = fetchDocument(filename)`, the implementation of `fetchDocument` keeps an in-memory hash table, and if the document is already present it gets it from the hash table, otherwise it reads and parses the file from filestore. A more sophisticated cache will discard the documents that have been least recently used to avoid the memory requirement constantly growing.\r\n\r\nFor the XPath engine it will be a trivial single-entry cache: probably something like\r\n\r\n    XPath getXPathEngine() {\r\n      if (xpath == null) xpath = XPathFactory.newInstance().newXPath();\r\n      return xpath;\r\n    }\r\n\r\nFor caching of compiled XPath expressions. If you use the Saxon API, you don&#39;t have to implement your own caching, it&#39;s done automatically behind the scenes. For example if you do:\r\n\r\n    Processor proc = new Processor();\r\n    XPathCompiler xpc = proc.newXPathCompiler();\r\n    xpc.setCaching(true);\r\n    XPathExpression exp = xpc.compile(&quot;//x&quot;);\r\n\r\nthen you can reuse the compiled expression `exp` either by referencing it directly, or by making another call to compile the same expression, in which case it will be retrieved from cache.\r\n\r\nIf you are using the same XPath expressions repeatedly, then use variables to parameterise them: use the expression `//x[name=$param]` and execute it repeatedly with different values for `$param`, rather than building expressions such as `&quot;//x[name=&#39; + param + &quot;&#39;]&quot;` where each expression has to be compiled anew. (Building expressions like this also exposes you to injection attacks.) ","title":"Caching java instance for peformance","body":"<p>There are three important objects to cache:</p>\n<p>(a) the source document. If you're running many queries against the same document, you don't want to parse the XML file repeatedly for each one. Parse it once, and save the resulting tree. Most people seem to use the default DOM tree model, but there are alternatives like JDOM2 and XOM that are much more user-friendly.</p>\n<p>(b) the XPath engine. Initialising the XPath engine is generally expensive. If you're going to be evaluating many XPath expressions, you only want to be doing this once.</p>\n<p>(c) Individual XPath expressions. If you need to execute the same XPath expression repeatedly, remember that the initial compiling of the expression can take 100 times as long as each evaluation of the expression.</p>\n<p>So you want to keep these objects in memory and reuse them if at all possible.</p>\n<p>Caching is one way of achieving this. The term &quot;caching&quot; generally means that your application always makes a new request when it wants to create an object, but some intermediate layer recognises that it's a request for an object that's already in memory, so it doesn't need to be created again from scratch.</p>\n<p>So you might have a cache of source documents, so that when your application calls <code>Document doc = fetchDocument(filename)</code>, the implementation of <code>fetchDocument</code> keeps an in-memory hash table, and if the document is already present it gets it from the hash table, otherwise it reads and parses the file from filestore. A more sophisticated cache will discard the documents that have been least recently used to avoid the memory requirement constantly growing.</p>\n<p>For the XPath engine it will be a trivial single-entry cache: probably something like</p>\n<pre><code>XPath getXPathEngine() {\n  if (xpath == null) xpath = XPathFactory.newInstance().newXPath();\n  return xpath;\n}\n</code></pre>\n<p>For caching of compiled XPath expressions. If you use the Saxon API, you don't have to implement your own caching, it's done automatically behind the scenes. For example if you do:</p>\n<pre><code>Processor proc = new Processor();\nXPathCompiler xpc = proc.newXPathCompiler();\nxpc.setCaching(true);\nXPathExpression exp = xpc.compile(&quot;//x&quot;);\n</code></pre>\n<p>then you can reuse the compiled expression <code>exp</code> either by referencing it directly, or by making another call to compile the same expression, in which case it will be retrieved from cache.</p>\n<p>If you are using the same XPath expressions repeatedly, then use variables to parameterise them: use the expression <code>//x[name=$param]</code> and execute it repeatedly with different values for <code>$param</code>, rather than building expressions such as <code>&quot;//x[name=' + param + &quot;']&quot;</code> where each expression has to be compiled anew. (Building expressions like this also exposes you to injection attacks.)</p>\n"}],"owner":{"account_id":9136294,"reputation":186,"user_id":6795887,"accept_rate":0,"display_name":"Neo Sono"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":218,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":70937577,"answer_count":3,"score":0,"last_activity_date":1643718788,"creation_date":1643704264,"question_id":70937481,"body_markdown":"Please assist, What is meant by caching this line/new instance in java for example: \r\n\r\n    XPath xpath = XPathFactory.newInstance().newXPath();\r\n\r\nI know I have to store insome sort of memory... may someone show me an example.\r\n\r\nThanks.","title":"Caching java instance for peformance","body":"<p>Please assist, What is meant by caching this line/new instance in java for example:</p>\n<pre><code>XPath xpath = XPathFactory.newInstance().newXPath();\n</code></pre>\n<p>I know I have to store insome sort of memory... may someone show me an example.</p>\n<p>Thanks.</p>\n"},{"tags":["java","jakarta-ee","ejb","javabeans","stateful-session-bean"],"answers":[{"tags":[],"owner":{"account_id":20329269,"reputation":21,"user_id":14911701,"display_name":"theafwan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643718643,"creation_date":1643718643,"answer_id":70940602,"question_id":70931074,"body_markdown":"The error was due to an incorrect lookup path. The updated code in the JSP file is \r\n\r\n    &lt;%\r\n        ShoppingCartRemote values = (ShoppingCartRemote)session.getAttribute(&quot;sessionShoppingCart&quot;);\r\n        if(values == null)\r\n        {\r\n            InitialContext ct = new InitialContext();\r\n            values = (ShoppingCartRemote) ct.lookup(&quot;java:global/ShoppingCart-1.0-SNAPSHOT/ShoppingCartEJB!com.example.shoppingcart.ShoppingCartRemote&quot;);\r\n            session.setAttribute(&quot;sessionShoppingCart&quot;, values);\r\n        }\r\n    %&gt;\r\n\r\nTo find out the lookup path, I have checked the server logs it was printed over there, after fixing that it&#39;s working fine.","title":"Getting javax.servlet.ServletException: javax.naming.NamingException: Lookup failed for &#39;java:global/ShoppingCart-1.0-SNAPSHOT/ShoppingCartRemote&#39;","body":"<p>The error was due to an incorrect lookup path. The updated code in the JSP file is</p>\n<pre><code>&lt;%\n    ShoppingCartRemote values = (ShoppingCartRemote)session.getAttribute(&quot;sessionShoppingCart&quot;);\n    if(values == null)\n    {\n        InitialContext ct = new InitialContext();\n        values = (ShoppingCartRemote) ct.lookup(&quot;java:global/ShoppingCart-1.0-SNAPSHOT/ShoppingCartEJB!com.example.shoppingcart.ShoppingCartRemote&quot;);\n        session.setAttribute(&quot;sessionShoppingCart&quot;, values);\n    }\n%&gt;\n</code></pre>\n<p>To find out the lookup path, I have checked the server logs it was printed over there, after fixing that it's working fine.</p>\n"}],"owner":{"account_id":20329269,"reputation":21,"user_id":14911701,"display_name":"theafwan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":467,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70940602,"answer_count":1,"score":1,"last_activity_date":1643718643,"creation_date":1643654000,"question_id":70931074,"body_markdown":"I am new to JAVA EE. I am trying to implement stateful session Bean via IntelliJ IDEA and glassfish server 4.0 while running the code getting below exception. Attaching the code and glassfish configuration as well. Error is coming as the lookup has been failed. Can anyone help regarding the lookup? [Glassfish Configuration][1]\r\n\r\n    javax.servlet.ServletException: javax.naming.NamingException: Lookup failed for &#39;java:global/ShoppingCart-1.0-SNAPSHOT/ShoppingCartRemote&#39; in SerialContext[myEnv={java.naming.factory.initial=com.sun.enterprise.naming.impl.SerialInitContextFactory, java.naming.factory.state=com.sun.corba.ee.impl.presentation.rmi.JNDIStateFactoryImpl, java.naming.factory.url.pkgs=com.sun.enterprise.naming} [Root exception is javax.naming.NameNotFoundException: ShoppingCartRemote not found]\r\n    javax.naming.NamingException: Lookup failed for &#39;java:global/ShoppingCart-1.0-SNAPSHOT/ShoppingCartRemote&#39; in SerialContext[myEnv={java.naming.factory.initial=com.sun.enterprise.naming.impl.SerialInitContextFactory, java.naming.factory.state=com.sun.corba.ee.impl.presentation.rmi.JNDIStateFactoryImpl, java.naming.factory.url.pkgs=com.sun.enterprise.naming} [Root exception is javax.naming.NameNotFoundException: ShoppingCartRemote not found]\r\n    javax.naming.NameNotFoundException: ShoppingCartRemote not found\r\n\r\nRemote Interface\r\n\r\n    package com.example.shoppingcart;\r\n    \r\n    import javax.ejb.Remote;\r\n    import java.util.List;\r\n    \r\n    @Remote\r\n    public interface ShoppingCartRemote {\r\n        void addItem(String e);\r\n        void removeItem(String e);\r\n        List&lt;String&gt; getItems();\r\n    }\r\n\r\nStateful Session Bean\r\n\r\n    package com.example.shoppingcart;\r\n    \r\n    import javax.ejb.LocalBean;\r\n    import javax.ejb.Stateful;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    \r\n    @Stateful(mappedName = &quot;ShoppingCart&quot;)\r\n    @LocalBean\r\n    public class ShoppingCartEJB implements ShoppingCartRemote{\r\n        List&lt;String&gt; values;\r\n    \r\n        public ShoppingCartEJB(){\r\n            values = new ArrayList&lt;String&gt;();\r\n        }\r\n    \r\n        @Override\r\n        public void addItem(String e) {\r\n            values.add(e);\r\n        }\r\n    \r\n        @Override\r\n        public void removeItem(String e) {\r\n            values.remove(e);\r\n        }\r\n    \r\n        @Override\r\n        public List&lt;String&gt; getItems() {\r\n            return values;\r\n        }\r\n    }\r\n\r\n\r\nJSP Code\r\n\r\n    &lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=ISO-8859-1&quot; pageEncoding=&quot;ISO-8859-1&quot;%&gt;\r\n    &lt;%@ page import=&quot;com.example.shoppingcart.ShoppingCartRemote&quot; %&gt;\r\n    &lt;%@ page import=&quot;javax.naming.InitialContext&quot; %&gt;\r\n    &lt;%@ page import=&quot;java.util.List&quot; %&gt;\r\n    \r\n    &lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot; &quot;http://www.w3.org/TR/html4/loose.dtd&quot;&gt;\r\n    &lt;%\r\n        ShoppingCartRemote values = (ShoppingCartRemote) session.getAttribute(&quot;sessionShoppingCart&quot;);\r\n        if(values == null) {\r\n            InitialContext ct = new InitialContext();\r\n            ShoppingCartRemote scart = (ShoppingCartRemote) ct.lookup(&quot;java:global/ShoppingCart-1.0-SNAPSHOT/ShoppingCartEJB&quot;);\r\n            session.setAttribute(&quot;sessionShoppingCart&quot;, scart);\r\n        }\r\n    \r\n    \r\n    %&gt;\r\n    &lt;html&gt;\r\n        &lt;head&gt;\r\n            &lt;title&gt;Shopping Cart&lt;/title&gt;\r\n        &lt;/head&gt;\r\n        &lt;body&gt;\r\n            &lt;h1&gt;&lt;%= &quot;Hello! Please Add the items in your cart!&quot; %&gt;\r\n                &lt;br&gt;\r\n                &lt;form name=&quot;cart&quot; method=&quot;post&quot;&gt;\r\n                    &lt;input type=&quot;text&quot; value=&quot;&quot; name=&quot;t1&quot;&gt; &lt;br&gt;\r\n                    &lt;input type=&quot;submit&quot; value=&quot;Add to Cart&quot; name=&quot;addItem&quot;&gt;&lt;br&gt;\r\n                    &lt;input type=&quot;submit&quot; value=&quot;Remove from Cart&quot; name=&quot;remItem&quot;&gt;&lt;br&gt;\r\n                    &lt;%\r\n                        if (values!=null){\r\n                            List&lt;String&gt; items = values.getItems();\r\n                            out.println(&quot;&lt;br&gt; Total Items in your Cart:: &quot;+ items.size());\r\n                            for (String item: items) {\r\n                                out.println(&quot;&lt;br&gt;&quot;+item);\r\n                            }\r\n                        }\r\n                    %&gt;\r\n                &lt;/form&gt;\r\n    \r\n                    &lt;%\r\n                        if (request.getParameter(&quot;addItem&quot;)!=null){\r\n                            String s = request.getParameter(&quot;t1&quot;);\r\n                            if(s.length()!=0) {\r\n                                values.addItem(s);\r\n                            }\r\n                        }\r\n                        if (request.getParameter(&quot;remItem&quot;)!=null){\r\n                            String s = request.getParameter(&quot;t1&quot;);\r\n                            if(s.length()!=0) {\r\n                                values.removeItem(s);\r\n                            }\r\n                         }\r\n                    %&gt;\r\n        &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/C5eSZ.png","title":"Getting javax.servlet.ServletException: javax.naming.NamingException: Lookup failed for &#39;java:global/ShoppingCart-1.0-SNAPSHOT/ShoppingCartRemote&#39;","body":"<p>I am new to JAVA EE. I am trying to implement stateful session Bean via IntelliJ IDEA and glassfish server 4.0 while running the code getting below exception. Attaching the code and glassfish configuration as well. Error is coming as the lookup has been failed. Can anyone help regarding the lookup? <a href=\"https://i.stack.imgur.com/C5eSZ.png\" rel=\"nofollow noreferrer\">Glassfish Configuration</a></p>\n<pre><code>javax.servlet.ServletException: javax.naming.NamingException: Lookup failed for 'java:global/ShoppingCart-1.0-SNAPSHOT/ShoppingCartRemote' in SerialContext[myEnv={java.naming.factory.initial=com.sun.enterprise.naming.impl.SerialInitContextFactory, java.naming.factory.state=com.sun.corba.ee.impl.presentation.rmi.JNDIStateFactoryImpl, java.naming.factory.url.pkgs=com.sun.enterprise.naming} [Root exception is javax.naming.NameNotFoundException: ShoppingCartRemote not found]\njavax.naming.NamingException: Lookup failed for 'java:global/ShoppingCart-1.0-SNAPSHOT/ShoppingCartRemote' in SerialContext[myEnv={java.naming.factory.initial=com.sun.enterprise.naming.impl.SerialInitContextFactory, java.naming.factory.state=com.sun.corba.ee.impl.presentation.rmi.JNDIStateFactoryImpl, java.naming.factory.url.pkgs=com.sun.enterprise.naming} [Root exception is javax.naming.NameNotFoundException: ShoppingCartRemote not found]\njavax.naming.NameNotFoundException: ShoppingCartRemote not found\n</code></pre>\n<p>Remote Interface</p>\n<pre><code>package com.example.shoppingcart;\n\nimport javax.ejb.Remote;\nimport java.util.List;\n\n@Remote\npublic interface ShoppingCartRemote {\n    void addItem(String e);\n    void removeItem(String e);\n    List&lt;String&gt; getItems();\n}\n</code></pre>\n<p>Stateful Session Bean</p>\n<pre><code>package com.example.shoppingcart;\n\nimport javax.ejb.LocalBean;\nimport javax.ejb.Stateful;\nimport java.util.ArrayList;\nimport java.util.List;\n\n\n@Stateful(mappedName = &quot;ShoppingCart&quot;)\n@LocalBean\npublic class ShoppingCartEJB implements ShoppingCartRemote{\n    List&lt;String&gt; values;\n\n    public ShoppingCartEJB(){\n        values = new ArrayList&lt;String&gt;();\n    }\n\n    @Override\n    public void addItem(String e) {\n        values.add(e);\n    }\n\n    @Override\n    public void removeItem(String e) {\n        values.remove(e);\n    }\n\n    @Override\n    public List&lt;String&gt; getItems() {\n        return values;\n    }\n}\n</code></pre>\n<p>JSP Code</p>\n<pre><code>&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=ISO-8859-1&quot; pageEncoding=&quot;ISO-8859-1&quot;%&gt;\n&lt;%@ page import=&quot;com.example.shoppingcart.ShoppingCartRemote&quot; %&gt;\n&lt;%@ page import=&quot;javax.naming.InitialContext&quot; %&gt;\n&lt;%@ page import=&quot;java.util.List&quot; %&gt;\n\n&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot; &quot;http://www.w3.org/TR/html4/loose.dtd&quot;&gt;\n&lt;%\n    ShoppingCartRemote values = (ShoppingCartRemote) session.getAttribute(&quot;sessionShoppingCart&quot;);\n    if(values == null) {\n        InitialContext ct = new InitialContext();\n        ShoppingCartRemote scart = (ShoppingCartRemote) ct.lookup(&quot;java:global/ShoppingCart-1.0-SNAPSHOT/ShoppingCartEJB&quot;);\n        session.setAttribute(&quot;sessionShoppingCart&quot;, scart);\n    }\n\n\n%&gt;\n&lt;html&gt;\n    &lt;head&gt;\n        &lt;title&gt;Shopping Cart&lt;/title&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;h1&gt;&lt;%= &quot;Hello! Please Add the items in your cart!&quot; %&gt;\n            &lt;br&gt;\n            &lt;form name=&quot;cart&quot; method=&quot;post&quot;&gt;\n                &lt;input type=&quot;text&quot; value=&quot;&quot; name=&quot;t1&quot;&gt; &lt;br&gt;\n                &lt;input type=&quot;submit&quot; value=&quot;Add to Cart&quot; name=&quot;addItem&quot;&gt;&lt;br&gt;\n                &lt;input type=&quot;submit&quot; value=&quot;Remove from Cart&quot; name=&quot;remItem&quot;&gt;&lt;br&gt;\n                &lt;%\n                    if (values!=null){\n                        List&lt;String&gt; items = values.getItems();\n                        out.println(&quot;&lt;br&gt; Total Items in your Cart:: &quot;+ items.size());\n                        for (String item: items) {\n                            out.println(&quot;&lt;br&gt;&quot;+item);\n                        }\n                    }\n                %&gt;\n            &lt;/form&gt;\n\n                &lt;%\n                    if (request.getParameter(&quot;addItem&quot;)!=null){\n                        String s = request.getParameter(&quot;t1&quot;);\n                        if(s.length()!=0) {\n                            values.addItem(s);\n                        }\n                    }\n                    if (request.getParameter(&quot;remItem&quot;)!=null){\n                        String s = request.getParameter(&quot;t1&quot;);\n                        if(s.length()!=0) {\n                            values.removeItem(s);\n                        }\n                     }\n                %&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":298886,"reputation":40480,"user_id":605153,"accept_rate":67,"display_name":"Mark Bramnik"},"score":0,"creation_date":1325658511,"post_id":8722878,"comment_id":21185907,"body_markdown":"[Might help](http://www.checkupdown.com/status/E411.html)","body":"<a href=\"http://www.checkupdown.com/status/E411.html\" rel=\"nofollow noreferrer\">Might help</a>"}],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":1,"up_vote_count":8,"is_accepted":true,"score":7,"last_activity_date":1325658496,"creation_date":1325658496,"answer_id":8722894,"question_id":8722878,"body_markdown":"HTTP status code 411 means &quot;length required&quot; - you&#39;ve tried to make a POST request, but you&#39;ve never provided any input data. The Java client code isn&#39;t setting a Content-Length header, and the server is rejecting a POST request with no length.\r\n\r\nWhy are you even trying to make a post at all? Why not make a GET request, or better yet a HEAD?\r\n\r\nI&#39;d also recommend that if you really need to know whether some specific site is up (e.g. a web service) that you connect to that, rather than just to Google.","title":"URLjava.io.IOException: Server returned HTTP response code: 411 in JAVA","body":"<p>HTTP status code 411 means \"length required\" - you've tried to make a POST request, but you've never provided any input data. The Java client code isn't setting a Content-Length header, and the server is rejecting a POST request with no length.</p>\n\n<p>Why are you even trying to make a post at all? Why not make a GET request, or better yet a HEAD?</p>\n\n<p>I'd also recommend that if you really need to know whether some specific site is up (e.g. a web service) that you connect to that, rather than just to Google.</p>\n"},{"tags":[],"owner":{"account_id":1054151,"reputation":24498,"user_id":1057230,"accept_rate":100,"display_name":"nIcE cOw"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1325666905,"creation_date":1325666905,"answer_id":8724155,"question_id":8722878,"body_markdown":"Try to add the following lines to your code, that might help you understand the problem a bit better : \r\n\r\n     conn.setRequestProperty(&quot;Content-Length&quot;, &quot;0&quot;);\r\n\r\nDo check what your inputStream from your **HTTP ERROR 411** states by adding this code : \r\n\r\n    InputStream is = null;\r\n    if (conn.getResponseCode() != 200) \r\n    {\r\n        is = conn.getErrorStream();\r\n    } \r\n    else \r\n    {\r\n        is = conn.getInputStream();\r\n    }\r\n\r\nHopefully that might help.\r\n\r\nRegards    ","title":"URLjava.io.IOException: Server returned HTTP response code: 411 in JAVA","body":"<p>Try to add the following lines to your code, that might help you understand the problem a bit better : </p>\n\n<pre><code> conn.setRequestProperty(\"Content-Length\", \"0\");\n</code></pre>\n\n<p>Do check what your inputStream from your <strong>HTTP ERROR 411</strong> states by adding this code : </p>\n\n<pre><code>InputStream is = null;\nif (conn.getResponseCode() != 200) \n{\n    is = conn.getErrorStream();\n} \nelse \n{\n    is = conn.getInputStream();\n}\n</code></pre>\n\n<p>Hopefully that might help.</p>\n\n<p>Regards    </p>\n"},{"tags":[],"owner":{"account_id":1323639,"reputation":1624,"user_id":1268936,"display_name":"Dibyendu Mitra Roy"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1380130675,"creation_date":1380130675,"answer_id":19011609,"question_id":8722878,"body_markdown":"Adding the following line in the code where post is performed worked:\r\n\r\n    conn.setRequestProperty(&quot;Content-Length&quot;, &quot;0&quot;);","title":"URLjava.io.IOException: Server returned HTTP response code: 411 in JAVA","body":"<p>Adding the following line in the code where post is performed worked:</p>\n\n<pre><code>conn.setRequestProperty(\"Content-Length\", \"0\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3031447,"reputation":1,"user_id":2570379,"display_name":"Amour Shmuel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1468309703,"creation_date":1468309703,"answer_id":38322898,"question_id":8722878,"body_markdown":"POST/ PUT should be use when modifying or creating a new instance on the back-end.\r\nWhen using REST call in the form on http://&lt;domain&gt;/&lt;controller&gt;/&lt;action&gt;/{parameter1}/{parameter2} (and so on), no query or body send! still it should be POST call if it modifying the data.\r\n\r\nSo, in this case we can do some Reflection.\r\n\r\n    String urlParameters = url.getQuery();\r\n    if (urlParameters == null) urlParameters = &quot;&quot;;\r\n\r\n    byte[] postData = urlParameters.getBytes(StandardCharsets.UTF_8);\r\n    int postDataLength = postData.length;\r\n    if (postDataLength &gt; 0) {\r\n    //in case that the content is not empty\r\n            conn.setRequestProperty(&quot;Content-Length&quot;, Integer.toString(postDataLength));\r\n        } else {\r\n            // Reflaction the HttpURLConnectioninstance\r\n            Class&lt;?&gt; conRef = conn.getClass();\r\n            // Fetch the [requests] field, Type of MessageHeader \r\n            Field requestsField= conRef .getDeclaredField(&quot;requests&quot;);\r\n            // The [requests] field is private, so we need to allow accessibility\r\n            requestsField.setAccessible(true);\r\n            MessageHeader messageHeader = (MessageHeader) requestsField.get(conn);\r\n           // Place the &quot;Content-Length&quot; header with &quot;0&quot; value\r\n            messageHeader.add(&quot;Content-Length&quot;, &quot;0&quot;);\r\n           // Inject the modified headers\r\n            requestsField.set(conn, messageHeader);\r\n        }\r\n\r\nIn this way we don&#39;t harm the existing model and the call will be sent with the ZERO length header.","title":"URLjava.io.IOException: Server returned HTTP response code: 411 in JAVA","body":"<p>POST/ PUT should be use when modifying or creating a new instance on the back-end.\nWhen using REST call in the form on http://///{parameter1}/{parameter2} (and so on), no query or body send! still it should be POST call if it modifying the data.</p>\n\n<p>So, in this case we can do some Reflection.</p>\n\n<pre><code>String urlParameters = url.getQuery();\nif (urlParameters == null) urlParameters = \"\";\n\nbyte[] postData = urlParameters.getBytes(StandardCharsets.UTF_8);\nint postDataLength = postData.length;\nif (postDataLength &gt; 0) {\n//in case that the content is not empty\n        conn.setRequestProperty(\"Content-Length\", Integer.toString(postDataLength));\n    } else {\n        // Reflaction the HttpURLConnectioninstance\n        Class&lt;?&gt; conRef = conn.getClass();\n        // Fetch the [requests] field, Type of MessageHeader \n        Field requestsField= conRef .getDeclaredField(\"requests\");\n        // The [requests] field is private, so we need to allow accessibility\n        requestsField.setAccessible(true);\n        MessageHeader messageHeader = (MessageHeader) requestsField.get(conn);\n       // Place the \"Content-Length\" header with \"0\" value\n        messageHeader.add(\"Content-Length\", \"0\");\n       // Inject the modified headers\n        requestsField.set(conn, messageHeader);\n    }\n</code></pre>\n\n<p>In this way we don't harm the existing model and the call will be sent with the ZERO length header.</p>\n"},{"tags":[],"owner":{"account_id":9911813,"reputation":159,"user_id":8948591,"display_name":"Mohan Teja Chitturi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643718435,"creation_date":1643718435,"answer_id":70940560,"question_id":8722878,"body_markdown":"I passed an empty object `&quot;{}&quot;` in the body this fixed it.\r\n\r\n```java\r\nHttpURLConnection connection = (HttpURLConnection) new URL(urlString).openConnection();\r\nconnection.setRequestMethod(&quot;POST&quot;);\r\nconnection.setRequestProperty(&quot;Content-Type&quot;,&quot;application/json&quot;);\r\nOutputStreamWriter writers = new OutputStreamWriter(connection.getOutputStream());\r\nwriters.write(&quot;{}&quot;); //body\r\nwriters.flush();\r\n```\r\n\r\ninstead of this you can set `Content-length` as 0 also as suggested in other answers.","title":"URLjava.io.IOException: Server returned HTTP response code: 411 in JAVA","body":"<p>I passed an empty object <code>&quot;{}&quot;</code> in the body this fixed it.</p>\n<pre class=\"lang-java prettyprint-override\"><code>HttpURLConnection connection = (HttpURLConnection) new URL(urlString).openConnection();\nconnection.setRequestMethod(&quot;POST&quot;);\nconnection.setRequestProperty(&quot;Content-Type&quot;,&quot;application/json&quot;);\nOutputStreamWriter writers = new OutputStreamWriter(connection.getOutputStream());\nwriters.write(&quot;{}&quot;); //body\nwriters.flush();\n</code></pre>\n<p>instead of this you can set <code>Content-length</code> as 0 also as suggested in other answers.</p>\n"}],"owner":{"account_id":268522,"reputation":2088,"user_id":557329,"accept_rate":61,"display_name":"Arasu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32300,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":8722894,"answer_count":5,"score":8,"last_activity_date":1643718435,"creation_date":1325658372,"question_id":8722878,"body_markdown":"I&#39;m checking whether internet is available or not \r\n\r\n    URL url = new URL(&quot;http://www.google.co.in/&quot;);\r\n                final HttpURLConnection conn = (HttpURLConnection) url.openConnection();\r\n    \r\n                // set connect timeout.\r\n                conn.setConnectTimeout(1000000);\r\n    \r\n                // set read timeout.\r\n                conn.setReadTimeout(1000000);\r\n    \r\n                conn.setRequestMethod(&quot;POST&quot;);\r\n                \r\n                conn.setRequestProperty(&quot;Content-Type&quot;,&quot;text/xml&quot;);\r\n                \r\n                conn.setDoOutput(true);\r\n                \r\n                conn.connect();\r\n                \r\n                Integer code = conn.getResponseCode();\r\n                final String contentType = conn.getContentType();\r\n\r\nWhile running this code i&#39;m getting the exception\r\n\r\n`URLjava.io.IOException: Server returned HTTP response code: 411`\r\n\r\nWhat could be the error.","title":"URLjava.io.IOException: Server returned HTTP response code: 411 in JAVA","body":"<p>I'm checking whether internet is available or not </p>\n\n<pre><code>URL url = new URL(\"http://www.google.co.in/\");\n            final HttpURLConnection conn = (HttpURLConnection) url.openConnection();\n\n            // set connect timeout.\n            conn.setConnectTimeout(1000000);\n\n            // set read timeout.\n            conn.setReadTimeout(1000000);\n\n            conn.setRequestMethod(\"POST\");\n\n            conn.setRequestProperty(\"Content-Type\",\"text/xml\");\n\n            conn.setDoOutput(true);\n\n            conn.connect();\n\n            Integer code = conn.getResponseCode();\n            final String contentType = conn.getContentType();\n</code></pre>\n\n<p>While running this code i'm getting the exception</p>\n\n<p><code>URLjava.io.IOException: Server returned HTTP response code: 411</code></p>\n\n<p>What could be the error.</p>\n"},{"tags":["java","spring","spring-boot"],"owner":{"account_id":24120118,"reputation":21,"user_id":18089441,"display_name":"Mercurio"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":363,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1643718374,"creation_date":1643718374,"question_id":70940544,"body_markdown":"As the title says, I&#39;m trying to create a multi module Spring Boot project that has different context paths for each module.\r\n\r\nLet&#39;s say I have a bunch of core functionality in one module, and let&#39;s call it &#39;core&#39;. This includes defining entities, DAOs and common functionality. I&#39;d like to add two more modules, (for instance &#39;frontend&#39; and &#39;admin&#39;), and I&#39;d like that those two modules could run independently from each other (both depending on &#39;core&#39;). But I&#39;d also like to have the possibility to run them together, and access frontend when the path is &#39;/&#39; and admin when the path is &#39;/admin&#39;, which is the part I&#39;m struggling to achieve.\r\n\r\nWhat I&#39;ve done so far:\r\nI&#39;m using Gradle. I&#39;ve created a parent module at root level. This parent module contains the just the main method for Spring Boot to init, and depends on both &#39;frontend&#39; and &#39;admin&#39; (both which, in turn, depend on &#39;core&#39;). I&#39;ve created a Controller on each of these two modules, and if the path is different they work fine. But still, they work as they belong to the same application, and both are mapped to the same context path. I want to be able to map &quot;/login&quot; on each module and let Spring decide where to execute based on context path (&quot;localhost:8080/login&quot; should be mapped to &#39;frontend&#39; module Controller, &quot;localhost:8080/admin/login&quot; should be mapped to &#39;admin&#39; module Controller).\r\n\r\nJust to clarify, if the approach I&#39;m using is not the best for what I&#39;m trying to achieve, I&#39;m happy to change it.","title":"Multi module Spring Boot project with different context paths","body":"<p>As the title says, I'm trying to create a multi module Spring Boot project that has different context paths for each module.</p>\n<p>Let's say I have a bunch of core functionality in one module, and let's call it 'core'. This includes defining entities, DAOs and common functionality. I'd like to add two more modules, (for instance 'frontend' and 'admin'), and I'd like that those two modules could run independently from each other (both depending on 'core'). But I'd also like to have the possibility to run them together, and access frontend when the path is '/' and admin when the path is '/admin', which is the part I'm struggling to achieve.</p>\n<p>What I've done so far:\nI'm using Gradle. I've created a parent module at root level. This parent module contains the just the main method for Spring Boot to init, and depends on both 'frontend' and 'admin' (both which, in turn, depend on 'core'). I've created a Controller on each of these two modules, and if the path is different they work fine. But still, they work as they belong to the same application, and both are mapped to the same context path. I want to be able to map &quot;/login&quot; on each module and let Spring decide where to execute based on context path (&quot;localhost:8080/login&quot; should be mapped to 'frontend' module Controller, &quot;localhost:8080/admin/login&quot; should be mapped to 'admin' module Controller).</p>\n<p>Just to clarify, if the approach I'm using is not the best for what I'm trying to achieve, I'm happy to change it.</p>\n"},{"tags":["java","java-8","localtime","time-format","zoneddatetime"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1541981109,"post_id":53254475,"comment_id":93393512,"body_markdown":"You know, the problem with time is just the period from midnight AM to midnight PM, it has no concept of what exists beyond those boundaries.  Instead, you should be using a `LocalDateTime` which allows for the transition from one day to another","body":"You know, the problem with time is just the period from midnight AM to midnight PM, it has no concept of what exists beyond those boundaries.  Instead, you should be using a <code>LocalDateTime</code> which allows for the transition from one day to another"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1541981181,"post_id":53254475,"comment_id":93393529,"body_markdown":"While your example is probably pretty simple, I would recommend having a look at `ZonedDateTime`, as you might be passing between different time zones, making the calculations rather ... weird :P (not unheard of arriving before you left &#129322;)","body":"While your example is probably pretty simple, I would recommend having a look at <code>ZonedDateTime</code>, as you might be passing between different time zones, making the calculations rather ... weird :P (not unheard of arriving before you left 🤪)"},{"owner":{"account_id":3783174,"reputation":1026,"user_id":3142017,"accept_rate":75,"display_name":"dorony"},"score":1,"creation_date":1541981471,"post_id":53254475,"comment_id":93393595,"body_markdown":"I don&#39;t see the issue. The results you get are correct. Why the difference between 09:05 to 14:35 should be 19 hours?","body":"I don&#39;t see the issue. The results you get are correct. Why the difference between 09:05 to 14:35 should be 19 hours?"},{"owner":{"account_id":9436096,"reputation":960,"user_id":7018054,"display_name":"Naeem Khan"},"score":0,"creation_date":1541982316,"post_id":53254475,"comment_id":93393775,"body_markdown":"@dorony Sorry I made a mistake and forgot to change my code before posting. The difference should be from 14:35 to 09:05. In this case, as MadProgrammer has mentioned, the date is changing so the values are getting lost or something.\n\nI tried the suggestion MadProgrammer suggested, but LocalDateTime only works if I provide the date with it (at least it does as far as I have tested it right now). The data I am getting does not provide me with date, it&#39;s simply two times. The dates do not matter.","body":"@dorony Sorry I made a mistake and forgot to change my code before posting. The difference should be from 14:35 to 09:05. In this case, as MadProgrammer has mentioned, the date is changing so the values are getting lost or something.  I tried the suggestion MadProgrammer suggested, but LocalDateTime only works if I provide the date with it (at least it does as far as I have tested it right now). The data I am getting does not provide me with date, it&#39;s simply two times. The dates do not matter."},{"owner":{"account_id":1912441,"reputation":2961,"user_id":1725871,"accept_rate":88,"display_name":"JoSSte"},"score":0,"creation_date":1541982625,"post_id":53254475,"comment_id":93393818,"body_markdown":"@MadProgrammer Flying concorde London-NY would make you arrive before you left. So the issue has existed, and may yet come to exist again in the future...","body":"@MadProgrammer Flying concorde London-NY would make you arrive before you left. So the issue has existed, and may yet come to exist again in the future..."},{"owner":{"account_id":3783174,"reputation":1026,"user_id":3142017,"accept_rate":75,"display_name":"dorony"},"score":2,"creation_date":1541982758,"post_id":53254475,"comment_id":93393841,"body_markdown":"If the result you get is below zero then sum it with 24*60 and you will get the correct result.","body":"If the result you get is below zero then sum it with 24*60 and you will get the correct result."},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1541984800,"post_id":53254475,"comment_id":93394164,"body_markdown":"@JoSSte Never said it didn&#39;t exist, which was my point ;)","body":"@JoSSte Never said it didn&#39;t exist, which was my point ;)"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1541985011,"post_id":53254475,"comment_id":93394202,"body_markdown":"@dorony Except there aren&#39;t actually 24 hours in every day - basic mathematics should never be applied to date/time values - you have an entire API dedicated to solving the problem, better to make use of it","body":"@dorony Except there aren&#39;t actually 24 hours in every day - basic mathematics should never be applied to date/time values - you have an entire API dedicated to solving the problem, better to make use of it"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1541985210,"post_id":53254475,"comment_id":93394229,"body_markdown":"@NaeemKhan *&quot;The format of the output above is (City, Departure Time, Flight No., Destination, Arrival Time)&quot;* - Based on what anchor date?","body":"@NaeemKhan <i>&quot;The format of the output above is (City, Departure Time, Flight No., Destination, Arrival Time)&quot;</i> - Based on what anchor date?"},{"owner":{"account_id":956558,"reputation":30924,"user_id":981744,"display_name":"Erwin Bolwidt"},"score":0,"creation_date":1541986041,"post_id":53254475,"comment_id":93394395,"body_markdown":"The Javadoc for the `between` method is clear on this: &quot;the amount of time between temporal1Inclusive and temporal2Exclusive in terms of this unit; positive if temporal2Exclusive is later than temporal1Inclusive, **negative if earlier**&quot;. You may want the output to be 19 hours, but it&#39;s actually 5 hours negative as it should be. (And 24 - 5 is 19....)","body":"The Javadoc for the <code>between</code> method is clear on this: &quot;the amount of time between temporal1Inclusive and temporal2Exclusive in terms of this unit; positive if temporal2Exclusive is later than temporal1Inclusive, <b>negative if earlier</b>&quot;. You may want the output to be 19 hours, but it&#39;s actually 5 hours negative as it should be. (And 24 - 5 is 19....)"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1542009296,"post_id":53254475,"comment_id":93400210,"body_markdown":"Does 176 make sense as the duration in minutes of the first flight? I would suppose that the times, 1139 and 1435, are local times in Edinburgh and Istanbul, and those are not in the same time zone, so their times cannot be compared like that. 19 hours, or rather 18 hours 29 minutes, is correct for the waiting time in Istanbul since both 1435 and 0906 are in the same time zone (assuming summer time (DST) doesn’t begin or end that night).","body":"Does 176 make sense as the duration in minutes of the first flight? I would suppose that the times, 1139 and 1435, are local times in Edinburgh and Istanbul, and those are not in the same time zone, so their times cannot be compared like that. 19 hours, or rather 18 hours 29 minutes, is correct for the waiting time in Istanbul since both 1435 and 0906 are in the same time zone (assuming summer time (DST) doesn’t begin or end that night)."}],"answers":[{"tags":[],"owner":{"account_id":11415719,"reputation":7030,"user_id":10584605,"display_name":"ETO"},"down_vote_count":1,"up_vote_count":20,"is_accepted":true,"score":19,"last_activity_date":1541983609,"creation_date":1541982788,"answer_id":53254640,"question_id":53254475,"body_markdown":"The total number of minutes in 24 hours is 1440. So when the difference is below zero (but you need a positive one) then you should add a whole day to your result:\r\n\r\n    int diff = MINUTES.between(arrival, a);\r\n    if (diff &lt; 0) {\r\n        diff += 1440;\r\n    }\r\n\r\nYou can achieve the same thing using this:\r\n\r\n    int diff = (MINUTES.between(arrival, a) + 1440) % 1440;\r\n","title":"LocalTime() difference between two times","body":"<p>The total number of minutes in 24 hours is 1440. So when the difference is below zero (but you need a positive one) then you should add a whole day to your result:</p>\n\n<pre><code>int diff = MINUTES.between(arrival, a);\nif (diff &lt; 0) {\n    diff += 1440;\n}\n</code></pre>\n\n<p>You can achieve the same thing using this:</p>\n\n<pre><code>int diff = (MINUTES.between(arrival, a) + 1440) % 1440;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1542009383,"creation_date":1541987083,"answer_id":53255036,"question_id":53254475,"body_markdown":"The primary issue at hand is `LocalTime` is only a representation of time between midnight AM to midnight PM, it has no concept of any range beyond those bounds.\r\n\r\nWhat you really need is a date value, associated with the time value, this would then allow you to calculate durations beyond a 24 hour period.\r\n\r\nFailing that, you will need to &quot;fudge&quot; the values yourself.  This means, that when the next time is less than previous time, you will need to manually add an additional period, maybe a day.\r\n\r\nThere are probably a few ways to do this, this is just one.\r\n\r\nIt takes a `ZonedDateTime` (set to the current date) and uses it as a &quot;anchor&quot; date.  Each `Time` of the schedule is then applied to this.  When it detects that last arrival time is before the next departure time, it adds a day to the values.\r\n\r\n    import java.time.Duration;\r\n    import java.time.LocalTime;\r\n    import java.time.ZoneId;\r\n    import java.time.ZonedDateTime;\r\n    import java.time.format.DateTimeFormatter;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    public class Test {\r\n    \r\n      public static void main(String[] args) {\r\n    \tDateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;HHmm&quot;);\r\n    \r\n    \tList&lt;Schedule&gt; route = new ArrayList&lt;&gt;(4);\r\n    \troute.add(new Schedule(LocalTime.parse(&quot;1139&quot;, formatter), LocalTime.parse(&quot;1435&quot;, formatter)));\r\n    \troute.add(new Schedule(LocalTime.parse(&quot;0906&quot;, formatter), LocalTime.parse(&quot;1937&quot;, formatter)));\r\n    \troute.add(new Schedule(LocalTime.parse(&quot;0804&quot;, formatter), LocalTime.parse(&quot;1521&quot;, formatter)));\r\n    \r\n    \t// Anchor time...\r\n    \tZonedDateTime zdt = ZonedDateTime.now(ZoneId.of(&quot;UTC&quot;));\r\n    \tZonedDateTime lastArrival = null;\r\n    \tDuration totalDuration = Duration.ZERO;\r\n    \tfor (Schedule schedule : route) {\r\n    \t  ZonedDateTime depart = zdt.with(schedule.getDepart());\r\n    \t  ZonedDateTime arrive = zdt.with(schedule.getArrive());\r\n    \r\n    \t  if (lastArrival != null) {\r\n    \t\tif (lastArrival.isAfter(depart)) {\r\n    \t\t  // Most likely, we&#39;ve shifted to a new day...\r\n    \t\t  // Updat the anchor and target values\r\n    \t\t  zdt = zdt.plusDays(1);\r\n    \t\t  depart = depart.plusDays(1);\r\n    \t\t  arrive = arrive.plusDays(1);\r\n    \t\t}\r\n    \t\tDuration duration = Duration.between(lastArrival, depart);\r\n    \t\ttotalDuration = totalDuration.plus(duration);\r\n    \t\tSystem.out.println(&quot;...Wait for &quot; + duration.toHoursPart() + &quot;h &quot; + duration.toMinutesPart() + &quot;m&quot;);\r\n    \t  }\r\n    \r\n    \t  Duration duration = Duration.between(depart, arrive);\r\n    \t  System.out.println(duration.toHoursPart() + &quot;h &quot; + duration.toMinutesPart() + &quot;m&quot;);\r\n    \t  totalDuration = totalDuration.plus(duration);\r\n    \r\n    \t  lastArrival = arrive;\r\n    \t}\r\n    \tSystem.out.println(&quot;Total duration of &quot; + totalDuration.toHoursPart() + &quot;d &quot; + totalDuration.toHoursPart() + &quot;h &quot; + totalDuration.toMinutesPart() + &quot;m&quot;);\r\n    \r\n      }\r\n    \r\n      public static class Schedule {\r\n    \r\n    \tprivate LocalTime depart;\r\n    \tprivate LocalTime arrive;\r\n    \r\n    \tpublic Schedule(LocalTime depart, LocalTime arrive) {\r\n    \t  this.depart = depart;\r\n    \t  this.arrive = arrive;\r\n    \t}\r\n    \r\n    \tpublic LocalTime getDepart() {\r\n    \t  return depart;\r\n    \t}\r\n    \r\n    \tpublic LocalTime getArrive() {\r\n    \t  return arrive;\r\n    \t}\r\n    \r\n      }\r\n    }\r\n\r\nWhich will output...\r\n\r\n    2h 56m\r\n    ...Wait for 18h 31m\r\n    10h 31m\r\n    ...Wait for 12h 27m\r\n    7h 17m\r\n    Total duration of 3d 3h 42m\r\n\r\nBut why do this?  Because date/time manipulation is a complete mess, with leap seconds, years and other stupid rules which are meant to stop it from all falling apart into chaos (this is why there are no flights at `12:00` :/) ... and don&#39;t get me started on daylight savings...\r\n\r\nThe Java date/time API takes care of all of this for us.\r\n\r\nI&#39;ve chosen to maintain the date/time information in a single unit of work, ie UTC, which allows all the values to have some kind of useful meaning.  You could easily use a different anchor time as well as convert to a different time zone for use in presentation - so you could display the times in local time at the destination, but the calculations would continue to be done against a single point of truth.","title":"LocalTime() difference between two times","body":"<p>The primary issue at hand is <code>LocalTime</code> is only a representation of time between midnight AM to midnight PM, it has no concept of any range beyond those bounds.</p>\n\n<p>What you really need is a date value, associated with the time value, this would then allow you to calculate durations beyond a 24 hour period.</p>\n\n<p>Failing that, you will need to \"fudge\" the values yourself.  This means, that when the next time is less than previous time, you will need to manually add an additional period, maybe a day.</p>\n\n<p>There are probably a few ways to do this, this is just one.</p>\n\n<p>It takes a <code>ZonedDateTime</code> (set to the current date) and uses it as a \"anchor\" date.  Each <code>Time</code> of the schedule is then applied to this.  When it detects that last arrival time is before the next departure time, it adds a day to the values.</p>\n\n<pre><code>import java.time.Duration;\nimport java.time.LocalTime;\nimport java.time.ZoneId;\nimport java.time.ZonedDateTime;\nimport java.time.format.DateTimeFormatter;\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class Test {\n\n  public static void main(String[] args) {\n    DateTimeFormatter formatter = DateTimeFormatter.ofPattern(\"HHmm\");\n\n    List&lt;Schedule&gt; route = new ArrayList&lt;&gt;(4);\n    route.add(new Schedule(LocalTime.parse(\"1139\", formatter), LocalTime.parse(\"1435\", formatter)));\n    route.add(new Schedule(LocalTime.parse(\"0906\", formatter), LocalTime.parse(\"1937\", formatter)));\n    route.add(new Schedule(LocalTime.parse(\"0804\", formatter), LocalTime.parse(\"1521\", formatter)));\n\n    // Anchor time...\n    ZonedDateTime zdt = ZonedDateTime.now(ZoneId.of(\"UTC\"));\n    ZonedDateTime lastArrival = null;\n    Duration totalDuration = Duration.ZERO;\n    for (Schedule schedule : route) {\n      ZonedDateTime depart = zdt.with(schedule.getDepart());\n      ZonedDateTime arrive = zdt.with(schedule.getArrive());\n\n      if (lastArrival != null) {\n        if (lastArrival.isAfter(depart)) {\n          // Most likely, we've shifted to a new day...\n          // Updat the anchor and target values\n          zdt = zdt.plusDays(1);\n          depart = depart.plusDays(1);\n          arrive = arrive.plusDays(1);\n        }\n        Duration duration = Duration.between(lastArrival, depart);\n        totalDuration = totalDuration.plus(duration);\n        System.out.println(\"...Wait for \" + duration.toHoursPart() + \"h \" + duration.toMinutesPart() + \"m\");\n      }\n\n      Duration duration = Duration.between(depart, arrive);\n      System.out.println(duration.toHoursPart() + \"h \" + duration.toMinutesPart() + \"m\");\n      totalDuration = totalDuration.plus(duration);\n\n      lastArrival = arrive;\n    }\n    System.out.println(\"Total duration of \" + totalDuration.toHoursPart() + \"d \" + totalDuration.toHoursPart() + \"h \" + totalDuration.toMinutesPart() + \"m\");\n\n  }\n\n  public static class Schedule {\n\n    private LocalTime depart;\n    private LocalTime arrive;\n\n    public Schedule(LocalTime depart, LocalTime arrive) {\n      this.depart = depart;\n      this.arrive = arrive;\n    }\n\n    public LocalTime getDepart() {\n      return depart;\n    }\n\n    public LocalTime getArrive() {\n      return arrive;\n    }\n\n  }\n}\n</code></pre>\n\n<p>Which will output...</p>\n\n<pre><code>2h 56m\n...Wait for 18h 31m\n10h 31m\n...Wait for 12h 27m\n7h 17m\nTotal duration of 3d 3h 42m\n</code></pre>\n\n<p>But why do this?  Because date/time manipulation is a complete mess, with leap seconds, years and other stupid rules which are meant to stop it from all falling apart into chaos (this is why there are no flights at <code>12:00</code> :/) ... and don't get me started on daylight savings...</p>\n\n<p>The Java date/time API takes care of all of this for us.</p>\n\n<p>I've chosen to maintain the date/time information in a single unit of work, ie UTC, which allows all the values to have some kind of useful meaning.  You could easily use a different anchor time as well as convert to a different time zone for use in presentation - so you could display the times in local time at the destination, but the calculations would continue to be done against a single point of truth.</p>\n"}],"owner":{"account_id":9436096,"reputation":960,"user_id":7018054,"display_name":"Naeem Khan"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10761,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":53254640,"answer_count":2,"score":11,"last_activity_date":1643718310,"creation_date":1541980977,"question_id":53254475,"body_markdown":"I have a flight itinerary program where I need to get difference between departure and arrival time. I get these specified times as String from the data. Here is my problem:\r\n\r\n    import static java.time.temporal.ChronoUnit.MINUTES;\r\n    import java.time.LocalTime;\r\n    import java.time.format.DateTimeFormatter;\r\n\r\n    public class test2 {\r\n\tpublic static void main(String[] args) {\r\n\t\t \r\n\t\tDateTimeFormatter dateFormat = DateTimeFormatter.ofPattern(&quot;HHmm&quot;);\r\n\t\tLocalTime departure = LocalTime.parse(&quot;1139&quot;, dateFormat);\r\n\t\tLocalTime arrival = LocalTime.parse(&quot;1435&quot;, dateFormat);\r\n\t\tLocalTime a = LocalTime.parse(&quot;0906&quot;, dateFormat);\r\n\t\tSystem.out.println(MINUTES.between(departure, arrival));\r\n\t\tSystem.out.println(MINUTES.between(arrival, a));\r\n\t}\r\n    }\r\n\r\nOutput:\r\n\r\n    176\r\n    -329\r\n\r\nThe first time returns the difference between 11:39 and 14:35 just fine. But the second difference is only 5 hours while it should be 19 hours. How can I fix this, what am I doing wrong here?\r\n\r\nAny help would be greatly appreciated. \r\n\r\nEDIT: I am using graphs to store my data in. An example of a shortest route between two airports is like this: \r\n\r\n    Route for Edinburgh to Sydney\r\n    1 Edinburgh, 1139, TK3245, Istanbul, 1435\r\n    2 Istanbul, 0906, TK4557, Singapore, 1937\r\n    3 Singapore, 0804, QF1721, Sydney, 1521\r\n\r\nThese are the 3 flights that takes us from EDI to SYD. The format of the output above is (City, Departure Time, Flight No., Destination, Arrival Time).","title":"LocalTime() difference between two times","body":"<p>I have a flight itinerary program where I need to get difference between departure and arrival time. I get these specified times as String from the data. Here is my problem:</p>\n\n<pre><code>import static java.time.temporal.ChronoUnit.MINUTES;\nimport java.time.LocalTime;\nimport java.time.format.DateTimeFormatter;\n\npublic class test2 {\npublic static void main(String[] args) {\n\n    DateTimeFormatter dateFormat = DateTimeFormatter.ofPattern(\"HHmm\");\n    LocalTime departure = LocalTime.parse(\"1139\", dateFormat);\n    LocalTime arrival = LocalTime.parse(\"1435\", dateFormat);\n    LocalTime a = LocalTime.parse(\"0906\", dateFormat);\n    System.out.println(MINUTES.between(departure, arrival));\n    System.out.println(MINUTES.between(arrival, a));\n}\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>176\n-329\n</code></pre>\n\n<p>The first time returns the difference between 11:39 and 14:35 just fine. But the second difference is only 5 hours while it should be 19 hours. How can I fix this, what am I doing wrong here?</p>\n\n<p>Any help would be greatly appreciated. </p>\n\n<p>EDIT: I am using graphs to store my data in. An example of a shortest route between two airports is like this: </p>\n\n<pre><code>Route for Edinburgh to Sydney\n1 Edinburgh, 1139, TK3245, Istanbul, 1435\n2 Istanbul, 0906, TK4557, Singapore, 1937\n3 Singapore, 0804, QF1721, Sydney, 1521\n</code></pre>\n\n<p>These are the 3 flights that takes us from EDI to SYD. The format of the output above is (City, Departure Time, Flight No., Destination, Arrival Time).</p>\n"},{"tags":["java","spring","spring-mvc","binding"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1643704595,"post_id":70937250,"comment_id":125404216,"body_markdown":"You don&#39;t. At least not by default, you could make this work by writing your own `WebDataBinder` along the same lines as the `BeanWrapperRowMapper` in SQL. But there is currently no default way to do so.","body":"You don&#39;t. At least not by default, you could make this work by writing your own <code>WebDataBinder</code> along the same lines as the <code>BeanWrapperRowMapper</code> in SQL. But there is currently no default way to do so."}],"answers":[{"tags":[],"owner":{"account_id":18251765,"reputation":41,"user_id":13286610,"display_name":"dimamj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643705952,"creation_date":1643705952,"answer_id":70937808,"question_id":70937250,"body_markdown":"Try to add the following constructor to your class\r\n    \r\n```\r\npublic class PassengerInformation{\r\n       String travellerAddress;\r\n       String travellerAge;\r\n       String travellerName;\r\n    \r\n       @ConstructorProperties({&quot;traveller_address&quot;, &quot;traveller_age&quot;, &quot;traveller_name&quot;})\r\n       public PassengerInformation(String travellerAddress, String travellerAge, String travellerName) {\r\n                this.travellerAddress = travellerAddress;\r\n                ...\r\n       }\r\n    \r\n    }\r\n  \r\n```\r\n\r\n","title":"How to have query string parameter(s) and field name(s) different","body":"<p>Try to add the following constructor to your class</p>\n<pre><code>public class PassengerInformation{\n       String travellerAddress;\n       String travellerAge;\n       String travellerName;\n    \n       @ConstructorProperties({&quot;traveller_address&quot;, &quot;traveller_age&quot;, &quot;traveller_name&quot;})\n       public PassengerInformation(String travellerAddress, String travellerAge, String travellerName) {\n                this.travellerAddress = travellerAddress;\n                ...\n       }\n    \n    }\n  \n</code></pre>\n"},{"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643718114,"creation_date":1643717506,"answer_id":70940364,"question_id":70937250,"body_markdown":"The best you can do by the default features without any customisation is to use  `@ConstructorProperties` : \r\n\r\n``` java\r\npublic class PassengerInformation {\r\n\tString travellerAddress;\r\n\tString travellerAge;\r\n\tString travellerName;\r\n\t\r\n\t@ConstructorProperties({ &quot;traveller_address&quot;, &quot;traveller_age&quot;, &quot;traveller_name&quot; })\r\n\tpublic PassengerInformation(String travellerAddress, String travellerAge, String travellerName) {\r\n\t\tthis.travellerAddress = travellerAddress;\r\n\t\tthis.travellerAge = travellerAge;\r\n\t\tthis.travellerName = travellerName;\r\n\r\n\t}\r\n}\r\n```\r\n\r\nThis behaviour is mentioned at the [docs][1] as follows : \r\n\r\n&gt; The `@ModelAttribute` parameter instance (i.e `PassengerInformation`) \r\n&gt; is sourced in one of the following ways:\r\n&gt; \r\n&gt; - Retrieved from the model where it may have been added by a\r\n&gt;  @ModelAttribute method.\r\n&gt; \r\n&gt; - Retrieved from the HTTP session if the model attribute was listed in\r\n&gt; the class-level @SessionAttributes annotation.\r\n&gt; \r\n&gt; - Obtained through a Converter where the model attribute name matches\r\n&gt; the name of a request value such as a path variable or a request\r\n&gt; parameter (see next example).\r\n&gt; \r\n&gt; - Instantiated using its default constructor.\r\n&gt; \r\n&gt; - Instantiated through a “primary constructor” with arguments that match\r\n&gt; to Servlet request parameters. Argument names are determined through\r\n&gt; JavaBeans @ConstructorProperties or through runtime-retained parameter\r\n&gt; names in the bytecode.\r\n\r\nThe caveat here is that you need to make sure there are no `default constructor` in the `PassengerInformation` :\r\n\r\n``` java\r\npublic class PassengerInformation {\r\n\r\n   public PassengerInformation(){}\r\n\r\n}\r\n\r\n```\r\n\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/reference/html/web.html#mvc-ann-modelattrib-method-args","title":"How to have query string parameter(s) and field name(s) different","body":"<p>The best you can do by the default features without any customisation is to use  <code>@ConstructorProperties</code> :</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class PassengerInformation {\n    String travellerAddress;\n    String travellerAge;\n    String travellerName;\n    \n    @ConstructorProperties({ &quot;traveller_address&quot;, &quot;traveller_age&quot;, &quot;traveller_name&quot; })\n    public PassengerInformation(String travellerAddress, String travellerAge, String travellerName) {\n        this.travellerAddress = travellerAddress;\n        this.travellerAge = travellerAge;\n        this.travellerName = travellerName;\n\n    }\n}\n</code></pre>\n<p>This behaviour is mentioned at the <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/web.html#mvc-ann-modelattrib-method-args\" rel=\"nofollow noreferrer\">docs</a> as follows :</p>\n<blockquote>\n<p>The <code>@ModelAttribute</code> parameter instance (i.e <code>PassengerInformation</code>)\nis sourced in one of the following ways:</p>\n<ul>\n<li><p>Retrieved from the model where it may have been added by a\n@ModelAttribute method.</p>\n</li>\n<li><p>Retrieved from the HTTP session if the model attribute was listed in\nthe class-level @SessionAttributes annotation.</p>\n</li>\n<li><p>Obtained through a Converter where the model attribute name matches\nthe name of a request value such as a path variable or a request\nparameter (see next example).</p>\n</li>\n<li><p>Instantiated using its default constructor.</p>\n</li>\n<li><p>Instantiated through a “primary constructor” with arguments that match\nto Servlet request parameters. Argument names are determined through\nJavaBeans @ConstructorProperties or through runtime-retained parameter\nnames in the bytecode.</p>\n</li>\n</ul>\n</blockquote>\n<p>The caveat here is that you need to make sure there are no <code>default constructor</code> in the <code>PassengerInformation</code> :</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class PassengerInformation {\n\n   public PassengerInformation(){}\n\n}\n\n</code></pre>\n"}],"owner":{"account_id":10965077,"reputation":43,"user_id":8057052,"display_name":"ZonesMiller"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":444,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1643718114,"creation_date":1643702856,"question_id":70937250,"body_markdown":"I have a controller which will have 3 query strings.\r\n\r\nInstead of having 3 fields in controller, I am defining them in class.\r\n\r\n    public class PassengerInformation{\r\n       String travellerAddress;\r\n       String travellerAge;\r\n       String travellerName;\r\n    }\r\n\r\nNow in controller , I am able to accept them \r\n\r\n    @GetMapping(&quot;/passenger-info)\r\n    public TravelInformation getPassengerInfo(PassengerInformation info){\r\n    //Call a service\r\n    }\r\n\r\nNow, this works as expected, if I pass the query string as is. eg: `/passenger-info?travellerAge=21`.\r\n\r\n\r\nBut, How do I accept the query parameter names different to it&#39;s corresponding fieldName.\r\n\r\nI should be able to call it as below:\r\n`/passenger-info?traveller_age=21&amp;traveller_name=JohnWick&amp;traveller_address=ST`.","title":"How to have query string parameter(s) and field name(s) different","body":"<p>I have a controller which will have 3 query strings.</p>\n<p>Instead of having 3 fields in controller, I am defining them in class.</p>\n<pre><code>public class PassengerInformation{\n   String travellerAddress;\n   String travellerAge;\n   String travellerName;\n}\n</code></pre>\n<p>Now in controller , I am able to accept them</p>\n<pre><code>@GetMapping(&quot;/passenger-info)\npublic TravelInformation getPassengerInfo(PassengerInformation info){\n//Call a service\n}\n</code></pre>\n<p>Now, this works as expected, if I pass the query string as is. eg: <code>/passenger-info?travellerAge=21</code>.</p>\n<p>But, How do I accept the query parameter names different to it's corresponding fieldName.</p>\n<p>I should be able to call it as below:\n<code>/passenger-info?traveller_age=21&amp;traveller_name=JohnWick&amp;traveller_address=ST</code>.</p>\n"},{"tags":["java","servlets","java-ee-8","url-pattern","servlet-listeners"],"comments":[{"owner":{"account_id":2258846,"reputation":1256,"user_id":1989397,"accept_rate":100,"display_name":"ramp"},"score":0,"creation_date":1637070389,"post_id":69958632,"comment_id":123723027,"body_markdown":"This may help - https://stackoverflow.com/questions/10874188/jax-rs-application-on-the-root-context-how-can-it-be-done","body":"This may help - <a href=\"https://stackoverflow.com/questions/10874188/jax-rs-application-on-the-root-context-how-can-it-be-done\" title=\"jax rs application on the root context how can it be done\">stackoverflow.com/questions/10874188/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":3340852,"reputation":1493,"user_id":2807177,"display_name":"gmanjon"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1643717717,"creation_date":1637087259,"answer_id":69994344,"question_id":69958632,"body_markdown":"Add `@Path(&quot;/&quot;)` at class level. And in the other classes you want to manage, add their specific `@Path(&quot;/asd&quot;)`.\r\n\r\nAt the end is all a hierarchy, starting by `@ApplocationPath`, followed by `@Path` at class level and ending in `@Path` at method level.\r\n\r\nWith combinations of those you should be able to manage any case.\r\n\r\nThe `@GET`, if found in a method without `@Path`, will manage `GET` requests of the `@Path` of the class level annotation.\r\n\r\n**Update:** Adding an example\r\n\r\nSo, avoiding interfaces for simplification (although I only use them if necessary), you should accomplish what you want with this 2 classes:\r\n\r\n```java\r\n@Path(&quot;/&quot;)\r\npublic class RestVersion {\r\n\r\n    @GET\r\n    @Produces(MediaType.APPLICATION_JSON)\r\n    public String getVersion() {\r\n        return &quot;1.0.0&quot;;\r\n    }\r\n}\r\n```\r\n\r\nand\r\n\r\n```java\r\n@Path(&quot;/asd&quot;)\r\npublic class ASDController {\r\n\r\n    @GET\r\n    @Produces(MediaType.APPLICATION_JSON)\r\n    public String getAsd() {\r\n        return &quot;ASD&quot;;\r\n    }\r\n}\r\n```\r\n\r\nAnd to activate JAX-RS you can do it via `web.xml` or simply by adding this other class:\r\n\r\n```java\r\n@ApplicationPath(&quot;/&quot;)\r\npublic class JaxRSActivator extends Application {\r\n}\r\n```","title":"javax.ws.rs.Path how to intercept just the project root without compromising all the other paths","body":"<p>Add <code>@Path(&quot;/&quot;)</code> at class level. And in the other classes you want to manage, add their specific <code>@Path(&quot;/asd&quot;)</code>.</p>\n<p>At the end is all a hierarchy, starting by <code>@ApplocationPath</code>, followed by <code>@Path</code> at class level and ending in <code>@Path</code> at method level.</p>\n<p>With combinations of those you should be able to manage any case.</p>\n<p>The <code>@GET</code>, if found in a method without <code>@Path</code>, will manage <code>GET</code> requests of the <code>@Path</code> of the class level annotation.</p>\n<p><strong>Update:</strong> Adding an example</p>\n<p>So, avoiding interfaces for simplification (although I only use them if necessary), you should accomplish what you want with this 2 classes:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Path(&quot;/&quot;)\npublic class RestVersion {\n\n    @GET\n    @Produces(MediaType.APPLICATION_JSON)\n    public String getVersion() {\n        return &quot;1.0.0&quot;;\n    }\n}\n</code></pre>\n<p>and</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Path(&quot;/asd&quot;)\npublic class ASDController {\n\n    @GET\n    @Produces(MediaType.APPLICATION_JSON)\n    public String getAsd() {\n        return &quot;ASD&quot;;\n    }\n}\n</code></pre>\n<p>And to activate JAX-RS you can do it via <code>web.xml</code> or simply by adding this other class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ApplicationPath(&quot;/&quot;)\npublic class JaxRSActivator extends Application {\n}\n</code></pre>\n"}],"owner":{"account_id":3778003,"reputation":6793,"user_id":3138238,"accept_rate":74,"display_name":"madx"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":459,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69994344,"answer_count":1,"score":1,"last_activity_date":1643717717,"creation_date":1636840937,"question_id":69958632,"body_markdown":"I have this `web.xml`, don&#39;t want a suffix for the `url-pattern` so I&#39;m using a `/*` pattern:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;\r\n    \txsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd&quot;\r\n    \tversion=&quot;3.1&quot;&gt;\r\n        &lt;servlet&gt;\r\n            &lt;servlet-name&gt;javax.ws.rs.core.Application&lt;/servlet-name&gt;\r\n            &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n        &lt;/servlet&gt;\r\n        &lt;servlet-mapping&gt;\r\n            &lt;servlet-name&gt;javax.ws.rs.core.Application&lt;/servlet-name&gt;\r\n            &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n        &lt;/servlet-mapping&gt;\r\n    &lt;/web-app&gt;\r\n\r\nThis is my `RestVersion.java` class that I want to manage the root requests:\r\n\r\n    import javax.ejb.EJB;\r\n    import javax.ws.rs.Path;\r\n    \r\n    @Path(&quot;/&quot;)\r\n    public class RestVersion implements IRestVersion{\r\n    \t@EJB\r\n    \tprivate VersionBean versionBean;\r\n    \t\r\n    \t@Override\r\n    \tpublic VersionInfo version() {\r\n    \t\treturn versionBean.getVersion();\r\n    \t}\r\n    }\r\n\r\nWhere `IRestVersion.java` is the following:\r\n\r\n    import javax.ejb.Local;\r\n    import javax.ws.rs.GET;\r\n    import javax.ws.rs.Path;\r\n    import javax.ws.rs.Produces;\r\n    import javax.ws.rs.core.MediaType;\r\n    \r\n    @Local\r\n    public interface IRestVersion {\r\n    \t@GET\r\n    \t@Path(&quot;/&quot;)\r\n    \t@Produces(MediaType.APPLICATION_JSON)\r\n    \tpublic VersionInfo version();\r\n    }\r\n\r\nThe problem is that any other path is intercepted by this RestVersion class, like this:\r\n\r\n - `http://localhost:8080/`    ---&gt; it answers correctly with the RestVersion.version() json\r\n - `http://localhost:8080/asd` ---&gt; it is intercepted always by RestVersion but I would like to manage this on another class which will have a `@Path(&quot;/asd&quot;)` on top (but in this moment I cannot with this configuration)\r\n\r\nHow can I intercept just the project root without compromising all the other paths?\r\n","title":"javax.ws.rs.Path how to intercept just the project root without compromising all the other paths","body":"<p>I have this <code>web.xml</code>, don't want a suffix for the <code>url-pattern</code> so I'm using a <code>/*</code> pattern:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;\n    xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd&quot;\n    version=&quot;3.1&quot;&gt;\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;javax.ws.rs.core.Application&lt;/servlet-name&gt;\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n    &lt;/servlet&gt;\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;javax.ws.rs.core.Application&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n&lt;/web-app&gt;\n</code></pre>\n<p>This is my <code>RestVersion.java</code> class that I want to manage the root requests:</p>\n<pre><code>import javax.ejb.EJB;\nimport javax.ws.rs.Path;\n\n@Path(&quot;/&quot;)\npublic class RestVersion implements IRestVersion{\n    @EJB\n    private VersionBean versionBean;\n    \n    @Override\n    public VersionInfo version() {\n        return versionBean.getVersion();\n    }\n}\n</code></pre>\n<p>Where <code>IRestVersion.java</code> is the following:</p>\n<pre><code>import javax.ejb.Local;\nimport javax.ws.rs.GET;\nimport javax.ws.rs.Path;\nimport javax.ws.rs.Produces;\nimport javax.ws.rs.core.MediaType;\n\n@Local\npublic interface IRestVersion {\n    @GET\n    @Path(&quot;/&quot;)\n    @Produces(MediaType.APPLICATION_JSON)\n    public VersionInfo version();\n}\n</code></pre>\n<p>The problem is that any other path is intercepted by this RestVersion class, like this:</p>\n<ul>\n<li><code>http://localhost:8080/</code>    ---&gt; it answers correctly with the RestVersion.version() json</li>\n<li><code>http://localhost:8080/asd</code> ---&gt; it is intercepted always by RestVersion but I would like to manage this on another class which will have a <code>@Path(&quot;/asd&quot;)</code> on top (but in this moment I cannot with this configuration)</li>\n</ul>\n<p>How can I intercept just the project root without compromising all the other paths?</p>\n"},{"tags":["java","spring","hibernate","spring-boot"],"comments":[{"owner":{"account_id":3280644,"reputation":4811,"user_id":3582831,"display_name":"0xh3xa"},"score":0,"creation_date":1589687536,"post_id":61846732,"comment_id":109390014,"body_markdown":"Did you pass values with the request?","body":"Did you pass values with the request?"},{"owner":{"account_id":18601928,"reputation":31,"user_id":13556557,"display_name":"Dasitha Sandaruwan"},"score":0,"creation_date":1589687577,"post_id":61846732,"comment_id":109390024,"body_markdown":"yes. I passed empty strings for the fileds","body":"yes. I passed empty strings for the fileds"},{"owner":{"account_id":18601928,"reputation":31,"user_id":13556557,"display_name":"Dasitha Sandaruwan"},"score":0,"creation_date":1589694604,"post_id":61846732,"comment_id":109391353,"body_markdown":"@SupunWijerathne Yes. I&#39;m getting the status correctly but not the response body.","body":"@SupunWijerathne Yes. I&#39;m getting the status correctly but not the response body."},{"owner":{"account_id":18601928,"reputation":31,"user_id":13556557,"display_name":"Dasitha Sandaruwan"},"score":0,"creation_date":1589695736,"post_id":61846732,"comment_id":109391639,"body_markdown":"@SupunWijerathne still not working. I just followed the below document, doing the same thing for the entity class that class is annotated with the entity and its working I think the issue is DTO is not having entity annotation. we cannot add entity on DTO classes so is there another way to handle validations on DTO classes?  https://www.baeldung.com/spring-boot-bean-validation","body":"@SupunWijerathne still not working. I just followed the below document, doing the same thing for the entity class that class is annotated with the entity and its working I think the issue is DTO is not having entity annotation. we cannot add entity on DTO classes so is there another way to handle validations on DTO classes?  <a href=\"https://www.baeldung.com/spring-boot-bean-validation\" rel=\"nofollow noreferrer\">baeldung.com/spring-boot-bean-validation</a>"},{"owner":{"account_id":18601928,"reputation":31,"user_id":13556557,"display_name":"Dasitha Sandaruwan"},"score":0,"creation_date":1589700933,"post_id":61846732,"comment_id":109392946,"body_markdown":"I posted the answer. Found a different way.","body":"I posted the answer. Found a different way."},{"owner":{"account_id":7525670,"reputation":12194,"user_id":5715934,"accept_rate":95,"display_name":"Supun Wijerathne"},"score":0,"creation_date":1589711653,"post_id":61846732,"comment_id":109396125,"body_markdown":"@DasithaSandaruwan there&#39;s no need for &#39;@Entity&#39; annotation for DTO classes at all. It should be working even without that. The only requirement is you should have hibernate-validators (or any other javax.validator implementation) in your class path. If you can send me a link to your full code (may be upload a zip to google drive), I&#39;m happy to help. It needs  to inspect whole code to find the actual problem.","body":"@DasithaSandaruwan there&#39;s no need for &#39;@Entity&#39; annotation for DTO classes at all. It should be working even without that. The only requirement is you should have hibernate-validators (or any other javax.validator implementation) in your class path. If you can send me a link to your full code (may be upload a zip to google drive), I&#39;m happy to help. It needs  to inspect whole code to find the actual problem."},{"owner":{"account_id":10652479,"reputation":616,"user_id":10119759,"display_name":"Sayed Uz Zaman"},"score":0,"creation_date":1600138539,"post_id":61846732,"comment_id":112986047,"body_markdown":"Why did u use a @restcontroller annotation on a validation class?","body":"Why did u use a @restcontroller annotation on a validation class?"}],"answers":[{"tags":[],"owner":{"account_id":18601928,"reputation":31,"user_id":13556557,"display_name":"Dasitha Sandaruwan"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1589700879,"creation_date":1589700879,"answer_id":61848416,"question_id":61846732,"body_markdown":"I used the below class and now it&#39;s working correctly.\r\n\r\n    @Service\r\n    public class MapValidationErrorService {\r\n        public ResponseEntity&lt;?&gt; MapValidationService(BindingResult result){\r\n    \r\n            if(result.hasErrors()){\r\n                Map&lt;String, String&gt; errorMap = new HashMap&lt;&gt;();\r\n    \r\n                for(FieldError error: result.getFieldErrors()){\r\n                    errorMap.put(error.getField(), error.getDefaultMessage());\r\n                }\r\n                return new ResponseEntity&lt;Map&lt;String, String&gt;&gt;(errorMap, HttpStatus.BAD_REQUEST);\r\n            }\r\n    \r\n            return null;\r\n    \r\n        }\r\n    \r\n    }\r\n\r\n\r\nIn COntroller \r\n\r\n   \r\n\r\n     @Autowired\r\n        private MapValidationErrorService mapValidationErrorService;\r\n    \r\n        @PostMapping(&quot;/employee/{deptId}&quot;)\r\n        public ResponseEntity&lt;?&gt; addEmployee(@PathVariable(name = &quot;deptId&quot;) String deptId,@Valid @RequestBody EmployeeDto employeeDto, BindingResult result) throws ClassNotFoundException {\r\n            ResponseEntity&lt;?&gt; errorMap = mapValidationErrorService.MapValidationService(result);\r\n            if(errorMap != null)return errorMap;\r\n            return   ResponseEntity.ok(employeeService.saveEmployee(deptId,employeeDto));\r\n    \r\n        }","title":"SpringBoot DTO Validation","body":"<p>I used the below class and now it's working correctly.</p>\n\n<pre><code>@Service\npublic class MapValidationErrorService {\n    public ResponseEntity&lt;?&gt; MapValidationService(BindingResult result){\n\n        if(result.hasErrors()){\n            Map&lt;String, String&gt; errorMap = new HashMap&lt;&gt;();\n\n            for(FieldError error: result.getFieldErrors()){\n                errorMap.put(error.getField(), error.getDefaultMessage());\n            }\n            return new ResponseEntity&lt;Map&lt;String, String&gt;&gt;(errorMap, HttpStatus.BAD_REQUEST);\n        }\n\n        return null;\n\n    }\n\n}\n</code></pre>\n\n<p>In COntroller </p>\n\n<pre><code> @Autowired\n    private MapValidationErrorService mapValidationErrorService;\n\n    @PostMapping(\"/employee/{deptId}\")\n    public ResponseEntity&lt;?&gt; addEmployee(@PathVariable(name = \"deptId\") String deptId,@Valid @RequestBody EmployeeDto employeeDto, BindingResult result) throws ClassNotFoundException {\n        ResponseEntity&lt;?&gt; errorMap = mapValidationErrorService.MapValidationService(result);\n        if(errorMap != null)return errorMap;\n        return   ResponseEntity.ok(employeeService.saveEmployee(deptId,employeeDto));\n\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2695567,"reputation":570,"user_id":2327723,"display_name":"Ehab Qadah"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1589738521,"creation_date":1589738521,"answer_id":61856366,"question_id":61846732,"body_markdown":"Try to extend the `ResponseEntityExceptionHandler` class like this: \r\n\r\n```\r\n\r\nimport org.apache.commons.collections4.CollectionUtils;\r\nimport org.apache.commons.lang3.StringUtils;\r\nimport org.springframework.http.HttpHeaders;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.web.bind.MethodArgumentNotValidException;\r\nimport org.springframework.web.bind.annotation.ControllerAdvice;\r\nimport org.springframework.web.bind.annotation.ExceptionHandler;\r\nimport org.springframework.web.context.request.WebRequest;\r\nimport org.springframework.web.servlet.mvc.method.annotation.ResponseEntityExceptionHandler;\r\n\r\nimport javax.validation.ConstraintViolationException;\r\nimport java.time.Instant;\r\nimport java.util.LinkedHashMap;\r\nimport java.util.List;\r\nimport java.util.Map;\r\nimport java.util.stream.Collectors;\r\n\r\n\r\n/**\r\n * * Handle all exceptions and java bean validation errors for all endpoints income data that use the @Valid annotation\r\n *\r\n * @author Ehab Qadah\r\n */\r\n@ControllerAdvice\r\npublic class GeneralExceptionHandler extends ResponseEntityExceptionHandler {\r\n\r\n\r\n    @Override\r\n    protected ResponseEntity&lt;Object&gt; handleMethodArgumentNotValid(MethodArgumentNotValidException exception, HttpHeaders headers,\r\n                                                                  HttpStatus status, WebRequest request) {\r\n        List&lt;String&gt; validationErrors = exception.getBindingResult()\r\n                .getFieldErrors()\r\n                .stream()\r\n                .map(error -&gt; error.getField() + &quot;: &quot; + error.getDefaultMessage())\r\n                .collect(Collectors.toList());\r\n        return getExceptionResponseEntity(HttpStatus.BAD_REQUEST, request, validationErrors);\r\n    }\r\n\r\n\r\n    @ExceptionHandler({ConstraintViolationException.class})\r\n    public ResponseEntity&lt;Object&gt; handleConstraintViolation(\r\n            ConstraintViolationException exception, WebRequest request) {\r\n        List&lt;String&gt; validationErrors = exception.getConstraintViolations().stream().\r\n                map(violation -&gt; violation.getPropertyPath() + &quot;: &quot; + violation.getMessage())\r\n                .collect(Collectors.toList());\r\n        return getExceptionResponseEntity(HttpStatus.BAD_REQUEST, request, validationErrors);\r\n    }\r\n\r\n    private ResponseEntity&lt;Object&gt; getExceptionResponseEntity(final HttpStatus status, WebRequest request, List&lt;String&gt; errors) {\r\n        final Map&lt;String, Object&gt; body = new LinkedHashMap&lt;&gt;();\r\n        final String errorsMessage = CollectionUtils.isNotEmpty(errors) ? errors.stream().filter(StringUtils::isNotEmpty).collect(Collectors.joining(&quot;,&quot;)):status.getReasonPhrase();\r\n        final String path = request.getDescription(false);\r\n        body.put(&quot;TIMESTAMP&quot;, Instant.now());\r\n        body.put(&quot;STATUS&quot;, status.value());\r\n        body.put(&quot;ERRORS&quot;, errorsMessage);\r\n        body.put(&quot;PATH&quot;, path);\r\n        body.put(&quot;MESSAGE&quot;, status.getReasonPhrase());\r\n        return new ResponseEntity&lt;&gt;(body, status);\r\n    }\r\n}\r\n\r\n```","title":"SpringBoot DTO Validation","body":"<p>Try to extend the <code>ResponseEntityExceptionHandler</code> class like this: </p>\n\n<pre><code>\nimport org.apache.commons.collections4.CollectionUtils;\nimport org.apache.commons.lang3.StringUtils;\nimport org.springframework.http.HttpHeaders;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.MethodArgumentNotValidException;\nimport org.springframework.web.bind.annotation.ControllerAdvice;\nimport org.springframework.web.bind.annotation.ExceptionHandler;\nimport org.springframework.web.context.request.WebRequest;\nimport org.springframework.web.servlet.mvc.method.annotation.ResponseEntityExceptionHandler;\n\nimport javax.validation.ConstraintViolationException;\nimport java.time.Instant;\nimport java.util.LinkedHashMap;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.stream.Collectors;\n\n\n/**\n * * Handle all exceptions and java bean validation errors for all endpoints income data that use the @Valid annotation\n *\n * @author Ehab Qadah\n */\n@ControllerAdvice\npublic class GeneralExceptionHandler extends ResponseEntityExceptionHandler {\n\n\n    @Override\n    protected ResponseEntity&lt;Object&gt; handleMethodArgumentNotValid(MethodArgumentNotValidException exception, HttpHeaders headers,\n                                                                  HttpStatus status, WebRequest request) {\n        List&lt;String&gt; validationErrors = exception.getBindingResult()\n                .getFieldErrors()\n                .stream()\n                .map(error -&gt; error.getField() + \": \" + error.getDefaultMessage())\n                .collect(Collectors.toList());\n        return getExceptionResponseEntity(HttpStatus.BAD_REQUEST, request, validationErrors);\n    }\n\n\n    @ExceptionHandler({ConstraintViolationException.class})\n    public ResponseEntity&lt;Object&gt; handleConstraintViolation(\n            ConstraintViolationException exception, WebRequest request) {\n        List&lt;String&gt; validationErrors = exception.getConstraintViolations().stream().\n                map(violation -&gt; violation.getPropertyPath() + \": \" + violation.getMessage())\n                .collect(Collectors.toList());\n        return getExceptionResponseEntity(HttpStatus.BAD_REQUEST, request, validationErrors);\n    }\n\n    private ResponseEntity&lt;Object&gt; getExceptionResponseEntity(final HttpStatus status, WebRequest request, List&lt;String&gt; errors) {\n        final Map&lt;String, Object&gt; body = new LinkedHashMap&lt;&gt;();\n        final String errorsMessage = CollectionUtils.isNotEmpty(errors) ? errors.stream().filter(StringUtils::isNotEmpty).collect(Collectors.joining(\",\")):status.getReasonPhrase();\n        final String path = request.getDescription(false);\n        body.put(\"TIMESTAMP\", Instant.now());\n        body.put(\"STATUS\", status.value());\n        body.put(\"ERRORS\", errorsMessage);\n        body.put(\"PATH\", path);\n        body.put(\"MESSAGE\", status.getReasonPhrase());\n        return new ResponseEntity&lt;&gt;(body, status);\n    }\n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11764939,"reputation":3827,"user_id":8609847,"display_name":"Satish Patro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643717709,"creation_date":1602598313,"answer_id":64336879,"question_id":61846732,"body_markdown":"I have copied the answer of @Ehab Qadah.\r\nOnly one modification is giving error fields with reason in a map of string, instead of a string (fieldErrors variable)\r\n\r\n        @ExceptionHandler({ConstraintViolationException.class})\r\n    public ResponseEntity&lt;Object&gt; handleConstraintViolation(\r\n            ConstraintViolationException exception, WebRequest request) {\r\n\t\t\t\r\n\t\tMap&lt;String, String&gt; fieldErrors = ex.getConstraintViolations().stream()\r\n\t\t\t\t.collect(Collectors.toMap(cv -&gt; cv.getPropertyPath().toString(), ConstraintViolation::getMessage));\r\n\t\t\t\r\n        return getExceptionResponseEntity(HttpStatus.BAD_REQUEST, request, fieldErrors);\r\n    }\r\n\t\r\n    private ResponseEntity&lt;Object&gt; getExceptionResponseEntity(final HttpStatus status, WebRequest request, List&lt;String&gt; errors) {\r\n        final Map&lt;String, Object&gt; body = new LinkedHashMap&lt;&gt;();\r\n        final String errorsMessage = CollectionUtils.isNotEmpty(errors) ? errors.stream().filter(StringUtils::isNotEmpty).collect(Collectors.joining(&quot;,&quot;)):status.getReasonPhrase();\r\n        final String path = request.getDescription(false);\r\n        body.put(&quot;TIMESTAMP&quot;, Instant.now());\r\n        body.put(&quot;STATUS&quot;, status.value());\r\n        body.put(&quot;ERRORS&quot;, errorsMessage);\r\n        body.put(&quot;PATH&quot;, path);\r\n        body.put(&quot;MESSAGE&quot;, status.getReasonPhrase());\r\n        return new ResponseEntity&lt;&gt;(body, status);\r\n    }\t","title":"SpringBoot DTO Validation","body":"<p>I have copied the answer of @Ehab Qadah.\nOnly one modification is giving error fields with reason in a map of string, instead of a string (fieldErrors variable)</p>\n<pre><code>    @ExceptionHandler({ConstraintViolationException.class})\npublic ResponseEntity&lt;Object&gt; handleConstraintViolation(\n        ConstraintViolationException exception, WebRequest request) {\n        \n    Map&lt;String, String&gt; fieldErrors = ex.getConstraintViolations().stream()\n            .collect(Collectors.toMap(cv -&gt; cv.getPropertyPath().toString(), ConstraintViolation::getMessage));\n        \n    return getExceptionResponseEntity(HttpStatus.BAD_REQUEST, request, fieldErrors);\n}\n\nprivate ResponseEntity&lt;Object&gt; getExceptionResponseEntity(final HttpStatus status, WebRequest request, List&lt;String&gt; errors) {\n    final Map&lt;String, Object&gt; body = new LinkedHashMap&lt;&gt;();\n    final String errorsMessage = CollectionUtils.isNotEmpty(errors) ? errors.stream().filter(StringUtils::isNotEmpty).collect(Collectors.joining(&quot;,&quot;)):status.getReasonPhrase();\n    final String path = request.getDescription(false);\n    body.put(&quot;TIMESTAMP&quot;, Instant.now());\n    body.put(&quot;STATUS&quot;, status.value());\n    body.put(&quot;ERRORS&quot;, errorsMessage);\n    body.put(&quot;PATH&quot;, path);\n    body.put(&quot;MESSAGE&quot;, status.getReasonPhrase());\n    return new ResponseEntity&lt;&gt;(body, status);\n}   \n</code></pre>\n"}],"owner":{"account_id":18601928,"reputation":31,"user_id":13556557,"display_name":"Dasitha Sandaruwan"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17259,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":61856366,"answer_count":3,"score":3,"last_activity_date":1643717709,"creation_date":1589687221,"question_id":61846732,"body_markdown":"I am new to spring-boot I&#39;m trying to add validation to my DTO class like below.\r\n\r\n    import javax.validation.constraints.NotBlank;\r\n    \r\n    @Getter\r\n    @Setter\r\n    public class EmployeeDto {\r\n        private Long id;\r\n    \r\n        @NotBlank(message = &quot;Employee first name is required&quot;)\r\n        private String firstName;\r\n    \r\n        private String lastName;\r\n    \r\n        @NotBlank(message = &quot;EmployeeNUM  is required&quot;)\r\n        private String employeeNum;\r\n     \r\n    }\r\n\r\nBelow is my REST endpoint to save employee.\r\n\r\n    import javax.validation.Valid;\r\n     @PostMapping(&quot;/employee&quot;)\r\n        public ResponseEntity&lt;?&gt; addEmployee(@Valid @RequestBody EmployeeDto employeeDto) throws ClassNotFoundException {\r\n            return   ResponseEntity.ok(employeeService.saveEmployee(deptId,employeeDto));\r\n    \r\n        }\r\n\r\nI create a Validation class like below to validate the DTO fields.\r\n\r\n    @ControllerAdvice\r\n    @RestController\r\n    public class Validation {\r\n    \r\n        @ResponseStatus(HttpStatus.BAD_REQUEST)\r\n        @ExceptionHandler(MethodArgumentNotValidException.class)\r\n        public Map&lt;String, String&gt; handleValidationExceptions(\r\n                MethodArgumentNotValidException ex) {\r\n            Map&lt;String, String&gt; errors = new HashMap&lt;&gt;();\r\n            ex.getBindingResult().getAllErrors().forEach((error) -&gt; {\r\n                String fieldName = ((FieldError) error).getField();\r\n                String errorMessage = error.getDefaultMessage();\r\n                errors.put(fieldName, errorMessage);\r\n            });\r\n            return errors;\r\n    \r\n        }\r\n    }\r\n\r\nexpected output is \r\n\r\n{\r\n  &quot;firstName&quot;:&quot;Employee first name is required&quot;,\r\n  &quot;employeeNum&quot;:&quot;EmployeeNUM is required&quot;\r\n}\r\n\r\nBut I&#39;m getting only the 400 bad request when hit the endpoint through postman.\r\nWhat is the issue with my code? How to fix and get the expected output as mentioned above?","title":"SpringBoot DTO Validation","body":"<p>I am new to spring-boot I'm trying to add validation to my DTO class like below.</p>\n\n<pre><code>import javax.validation.constraints.NotBlank;\n\n@Getter\n@Setter\npublic class EmployeeDto {\n    private Long id;\n\n    @NotBlank(message = \"Employee first name is required\")\n    private String firstName;\n\n    private String lastName;\n\n    @NotBlank(message = \"EmployeeNUM  is required\")\n    private String employeeNum;\n\n}\n</code></pre>\n\n<p>Below is my REST endpoint to save employee.</p>\n\n<pre><code>import javax.validation.Valid;\n @PostMapping(\"/employee\")\n    public ResponseEntity&lt;?&gt; addEmployee(@Valid @RequestBody EmployeeDto employeeDto) throws ClassNotFoundException {\n        return   ResponseEntity.ok(employeeService.saveEmployee(deptId,employeeDto));\n\n    }\n</code></pre>\n\n<p>I create a Validation class like below to validate the DTO fields.</p>\n\n<pre><code>@ControllerAdvice\n@RestController\npublic class Validation {\n\n    @ResponseStatus(HttpStatus.BAD_REQUEST)\n    @ExceptionHandler(MethodArgumentNotValidException.class)\n    public Map&lt;String, String&gt; handleValidationExceptions(\n            MethodArgumentNotValidException ex) {\n        Map&lt;String, String&gt; errors = new HashMap&lt;&gt;();\n        ex.getBindingResult().getAllErrors().forEach((error) -&gt; {\n            String fieldName = ((FieldError) error).getField();\n            String errorMessage = error.getDefaultMessage();\n            errors.put(fieldName, errorMessage);\n        });\n        return errors;\n\n    }\n}\n</code></pre>\n\n<p>expected output is </p>\n\n<p>{\n  \"firstName\":\"Employee first name is required\",\n  \"employeeNum\":\"EmployeeNUM is required\"\n}</p>\n\n<p>But I'm getting only the 400 bad request when hit the endpoint through postman.\nWhat is the issue with my code? How to fix and get the expected output as mentioned above?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":5119511,"reputation":954,"user_id":4103578,"display_name":"Xavier Bouclet"},"score":0,"creation_date":1515981565,"post_id":48256042,"comment_id":83494888,"body_markdown":"You have to set the variables when the loop restarts","body":"You have to set the variables when the loop restarts"}],"answers":[{"tags":[],"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1515981697,"creation_date":1515981697,"answer_id":48256078,"question_id":48256042,"body_markdown":"Change your code so that it breaks immediately after entry of the `userNum`\r\n\r\ne.g.\r\n\r\n    userNum = Integer.parseInt(suserNum); //parse user input\r\n    if (userNum == 0) {\r\n       break;\r\n    }\r\n\r\nthen you can also change your loop to a endless loop\r\n\r\n    while (true) {\r\n       // your code\r\n    }","title":"Something wrong with armstrong number java code","body":"<p>Change your code so that it breaks immediately after entry of the <code>userNum</code></p>\n\n<p>e.g.</p>\n\n<pre><code>userNum = Integer.parseInt(suserNum); //parse user input\nif (userNum == 0) {\n   break;\n}\n</code></pre>\n\n<p>then you can also change your loop to a endless loop</p>\n\n<pre><code>while (true) {\n   // your code\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9293873,"reputation":78,"user_id":6901481,"display_name":"Silvio Zanoli"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1515982837,"creation_date":1515982464,"answer_id":48256151,"question_id":48256042,"body_markdown":"It works only the first time because you don&#39;t reset your sum variable: just after the do insert: \r\n\r\n`do { \r\n    totalValue =0;..\r\n}while (userNum != 0);`\r\n\r\nplus, your code doesn&#39;t immediatly exit because the check of the condition is at the end, hence you insert the number, the code is executed and THEN you check. BTW: when you can, avoid using break statement.\r\n\r\nPut an if controll after the reading of the number, like this:\r\n\r\n    do {\r\n        System.out.print(&quot;\\nEnter a whole number (0 to quit): &quot;);\r\n        suserNum = input.nextLine(); //collect user inputuserNum = \r\n        Integer.parseInt(suserNum); //parse user input\r\n\r\n        if(userNum !=0){...your code...}\r\n    }while (userNum != 0);\r\n\r\nThere are a ton of more elegant way to code it but this should do the work ","title":"Something wrong with armstrong number java code","body":"<p>It works only the first time because you don't reset your sum variable: just after the do insert: </p>\n\n<p><code>do { \n    totalValue =0;..\n}while (userNum != 0);</code></p>\n\n<p>plus, your code doesn't immediatly exit because the check of the condition is at the end, hence you insert the number, the code is executed and THEN you check. BTW: when you can, avoid using break statement.</p>\n\n<p>Put an if controll after the reading of the number, like this:</p>\n\n<pre><code>do {\n    System.out.print(\"\\nEnter a whole number (0 to quit): \");\n    suserNum = input.nextLine(); //collect user inputuserNum = \n    Integer.parseInt(suserNum); //parse user input\n\n    if(userNum !=0){...your code...}\n}while (userNum != 0);\n</code></pre>\n\n<p>There are a ton of more elegant way to code it but this should do the work </p>\n"},{"tags":[],"owner":{"account_id":21788629,"reputation":1,"user_id":16089233,"display_name":"Samitha Athurupana"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643717703,"creation_date":1643717703,"answer_id":70940406,"question_id":48256042,"body_markdown":"    public class E1 {\r\n       public static void main(String[] args) {\r\n          int c = 0, a, temp;\r\n          int m = 153;\r\n          int n = m;\r\n          temp = n;\r\n          while (n &gt; 0) {\r\n             a = n % 10;\r\n             n = n / 10;\r\n             c = c + (a * a * a);\r\n          }\r\n          if (temp == c)\r\n             System.out.println(m + &quot; is an armstrong number&quot;);\r\n          else\r\n             System.out.println(m + &quot;is not an armstrong number&quot;);\r\n       }\r\n    }","title":"Something wrong with armstrong number java code","body":"<pre><code>public class E1 {\n   public static void main(String[] args) {\n      int c = 0, a, temp;\n      int m = 153;\n      int n = m;\n      temp = n;\n      while (n &gt; 0) {\n         a = n % 10;\n         n = n / 10;\n         c = c + (a * a * a);\n      }\n      if (temp == c)\n         System.out.println(m + &quot; is an armstrong number&quot;);\n      else\n         System.out.println(m + &quot;is not an armstrong number&quot;);\n   }\n}\n</code></pre>\n"}],"owner":{"account_id":12681301,"reputation":15,"user_id":9214872,"display_name":"Zaki Machfj - Glenforest SS 21"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":157,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":48256078,"answer_count":3,"score":0,"last_activity_date":1643717703,"creation_date":1515981326,"question_id":48256042,"body_markdown":"I wrote a code for school in java that verifies if a number is an armstrong number. I programmed it so that it runs as many times until the user inputs 0, at which the program will terminate. I am having 2 problems. \r\n\r\n1. The code only works the first time through, if the user inputs 371 (an armstrong number) the first time, it works, but after that it returns that the number is not an armstrong number.\r\n\r\n2. When the user inputs 0, it still shows the statement whether it is or is not an armstrong number, which I don&#39;t want it to. \r\n\r\nThis is the code:\r\n\r\n    import java.util.Scanner; //import Scanner for user input   \r\n\r\n    public class Ch6Project {    \r\n\r\n        public static void main(String[] args) {  \r\n  \r\n            int userNum, totalValue = 0, num, numLength; //declare variables that will be used\r\n            String suserNum; //declare user input variable\r\n            Scanner input = new Scanner(System.in); //declare a Scanner\r\n    \r\n            System.out.println(&quot;Welcome to the Armstrong Number Program.&quot;); //description\r\n            System.out.println(&quot;\\nTo calculate an Armstrong number: &quot;);\r\n            System.out.println(&quot;\\t 1. Cube each digit of the number.&quot;);\r\n            System.out.println(&quot;\\t 2. Take the sum of these cubes.&quot;);\r\n            System.out.println(&quot;\\t 3. If the sum equals the number, it is an Armstrong Number.&quot;);\r\n            System.out.println(&quot;\\t e.g. 3^3 + 1^3 + 7^3 = 317&quot;);\r\n    \r\n            do {\r\n                System.out.print(&quot;\\nEnter a whole number (0 to quit): &quot;);\r\n                suserNum = input.nextLine(); //collect user input\r\n                userNum = Integer.parseInt(suserNum); //parse user input\r\n                numLength = suserNum.length(); //calculate length of user input\r\n    \r\n                for (int i = numLength; i &gt; 0; i--) { //create loop to run for n times \r\n                    num = Integer.parseInt(suserNum.substring(numLength - 1, numLength)); //get last digit of number\r\n                    totalValue += Math.pow(num, 3); //cube a digit \r\n                    numLength--; //subtract userNum by 1 to get the rest of the digits\r\n                }\r\n    \r\n                if (totalValue == userNum) { //if total value equals user input, it is Armstrong #\r\n                    System.out.println(&quot;Your number is an Armstrong number.&quot;);\r\n                } else { //if total value does not equal user input, it is not an Armstrong #\r\n                    System.out.println(&quot;Your number is not an Armstrong number.&quot;);\r\n                }\r\n    \r\n            } while (userNum != 0); //run loop until user input == 0\r\n            input.close(); //close user input\r\n    \r\n        }\r\n    }\r\n\r\n\r\n\r\n","title":"Something wrong with armstrong number java code","body":"<p>I wrote a code for school in java that verifies if a number is an armstrong number. I programmed it so that it runs as many times until the user inputs 0, at which the program will terminate. I am having 2 problems. </p>\n\n<ol>\n<li><p>The code only works the first time through, if the user inputs 371 (an armstrong number) the first time, it works, but after that it returns that the number is not an armstrong number.</p></li>\n<li><p>When the user inputs 0, it still shows the statement whether it is or is not an armstrong number, which I don't want it to. </p></li>\n</ol>\n\n<p>This is the code:</p>\n\n<pre><code>import java.util.Scanner; //import Scanner for user input   \n\npublic class Ch6Project {    \n\n    public static void main(String[] args) {  \n\n        int userNum, totalValue = 0, num, numLength; //declare variables that will be used\n        String suserNum; //declare user input variable\n        Scanner input = new Scanner(System.in); //declare a Scanner\n\n        System.out.println(\"Welcome to the Armstrong Number Program.\"); //description\n        System.out.println(\"\\nTo calculate an Armstrong number: \");\n        System.out.println(\"\\t 1. Cube each digit of the number.\");\n        System.out.println(\"\\t 2. Take the sum of these cubes.\");\n        System.out.println(\"\\t 3. If the sum equals the number, it is an Armstrong Number.\");\n        System.out.println(\"\\t e.g. 3^3 + 1^3 + 7^3 = 317\");\n\n        do {\n            System.out.print(\"\\nEnter a whole number (0 to quit): \");\n            suserNum = input.nextLine(); //collect user input\n            userNum = Integer.parseInt(suserNum); //parse user input\n            numLength = suserNum.length(); //calculate length of user input\n\n            for (int i = numLength; i &gt; 0; i--) { //create loop to run for n times \n                num = Integer.parseInt(suserNum.substring(numLength - 1, numLength)); //get last digit of number\n                totalValue += Math.pow(num, 3); //cube a digit \n                numLength--; //subtract userNum by 1 to get the rest of the digits\n            }\n\n            if (totalValue == userNum) { //if total value equals user input, it is Armstrong #\n                System.out.println(\"Your number is an Armstrong number.\");\n            } else { //if total value does not equal user input, it is not an Armstrong #\n                System.out.println(\"Your number is not an Armstrong number.\");\n            }\n\n        } while (userNum != 0); //run loop until user input == 0\n        input.close(); //close user input\n\n    }\n}\n</code></pre>\n"},{"tags":["java","sql","jdbi"],"comments":[{"owner":{"account_id":7009242,"reputation":1636,"user_id":5372723,"accept_rate":100,"display_name":"Turtle"},"score":0,"creation_date":1498137894,"post_id":44700700,"comment_id":76384240,"body_markdown":"Then convert your map to a JSON object as you said x) check [this answer](https://stackoverflow.com/questions/8360836/gson-is-there-an-easier-way-to-serialize-a-map?noredirect=1&amp;lq=1)","body":"Then convert your map to a JSON object as you said x) check <a href=\"https://stackoverflow.com/questions/8360836/gson-is-there-an-easier-way-to-serialize-a-map?noredirect=1&amp;lq=1\">this answer</a>"},{"owner":{"account_id":959915,"reputation":251,"user_id":5691197,"accept_rate":81,"display_name":"Yantes"},"score":0,"creation_date":1498138000,"post_id":44700700,"comment_id":76384318,"body_markdown":"I cannot do that Nathan since I need it to be a Map for some other stuff I need it for. But anyway thanks for suggestion.","body":"I cannot do that Nathan since I need it to be a Map for some other stuff I need it for. But anyway thanks for suggestion."},{"owner":{"account_id":5531638,"reputation":14395,"user_id":4391450,"display_name":"AxelH"},"score":0,"creation_date":1498138036,"post_id":44700700,"comment_id":76384347,"body_markdown":"If you try to store a `Map` in a row, it&#39;s clearly not well designed... each key/value should be stored in a row into a secondary table, linked to the `Something.name` (or one row per `name + playload_key`). From that, it will be easy to iterate the Map to create each rows, but also easy to get the rows to build the map. Without the need to parse the Map into a formatted `String` of some sort","body":"If you try to store a <code>Map</code> in a row, it&#39;s clearly not well designed... each key/value should be stored in a row into a secondary table, linked to the <code>Something.name</code> (or one row per <code>name + playload_key</code>). From that, it will be easy to iterate the Map to create each rows, but also easy to get the rows to build the map. Without the need to parse the Map into a formatted <code>String</code> of some sort"},{"owner":{"account_id":959915,"reputation":251,"user_id":5691197,"accept_rate":81,"display_name":"Yantes"},"score":0,"creation_date":1498141606,"post_id":44700700,"comment_id":76387287,"body_markdown":"@AxelH thanks - yeah it is a bad design, but I am not allowed to change this now, since if changed it is going to break a lot of legacy stuff, which we are not allowed to do currently. First when we get rid of all the legacy stuff, I can do whatever changes I want to :). But I found this [post](https://stackoverflow.com/questions/12022452/does-jdbi-accept-uuid-parameters) so gonna try to do some kind of a global binding and see if that works :).","body":"@AxelH thanks - yeah it is a bad design, but I am not allowed to change this now, since if changed it is going to break a lot of legacy stuff, which we are not allowed to do currently. First when we get rid of all the legacy stuff, I can do whatever changes I want to :). But I found this <a href=\"https://stackoverflow.com/questions/12022452/does-jdbi-accept-uuid-parameters\">post</a> so gonna try to do some kind of a global binding and see if that works :)."}],"answers":[{"tags":[],"owner":{"account_id":959915,"reputation":251,"user_id":5691197,"accept_rate":81,"display_name":"Yantes"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1530879489,"creation_date":1498549729,"answer_id":44774869,"question_id":44700700,"body_markdown":"Fixed my problem with creating an ArgumentFactory binder suggested in [this post](https://stackoverflow.com/questions/12022452/does-jdbi-accept-uuid-parameters).\n\nSo what I needed was to create a class that just contained one field of type `Map&lt;String, Object&gt;` implemented the `Arugment` interface from `org.skife.jdbi.v2.tweak` so I ended up with the following \n\n    public class NotificationPayloadArgument implements Argument {\n      private NotificationPayload payload;\n\n      NotificationPayloadArgument(NotificationPayload payload) {\n          this.payload = payload;\n      }\n        \n      @Override\n      public void apply(int i, PreparedStatement preparedStatement, StatementContext statementContext)\n        throws SQLException {\n          preparedStatement.setString(i, toString());\n      }\n    \n      @Override\n      public String toString() {\n          return new JSONObject(payload).toString();\n      } \n\n    }\n\nTo make this work I of course needed to implement a Factory class which implements the `org.skife.jdbi.v2.tweak.ArgumentFactory&lt;T&gt;` interface with my newly created type, so the factory ended up as such:\n\n    public class NotificationPayloadFactory implements ArgumentFactory&lt;NotificationPayload&gt; {\n    \n        @Override\n        public boolean accepts(Class&lt;?&gt; expectedType, Object value, StatementContext ctx) {\n            return value instanceof NotificationPayload;\n        }\n    \n        @Override\n        public Argument build(Class&lt;?&gt; expectedType, NotificationPayload value, StatementContext ctx) {\n            return value;\n        }\n    \n    }\n\nand of course lastly also as mentioned in [Does JDBI accept UUID parameters?](https://stackoverflow.com/questions/12022452/does-jdbi-accept-uuid-parameters) I had to register my factory:\n\n    jdbi.registerArgumentFactory(new NotificationPayloadFactory());\n\nI tried to do this with just a factory for a `Map&lt;String, Object&gt;` but could not make it work for that, and there was a risk for NPE.\n\n# EDIT\nThe reason I am Overriding the `toString()` in `NotificationPayload` is because I need the payload in json format some places where I need a String object. But else it can be removed and then just use the `new JSONObject(payload).toString()` in the `preparedStatement.setString()` where `toString()` is called.","title":"A way to bind Java Map&lt;String, Object&gt; to sql varchar in JDBI INSERT statement","body":"<p>Fixed my problem with creating an ArgumentFactory binder suggested in <a href=\"https://stackoverflow.com/questions/12022452/does-jdbi-accept-uuid-parameters\">this post</a>.</p>\n<p>So what I needed was to create a class that just contained one field of type <code>Map&lt;String, Object&gt;</code> implemented the <code>Arugment</code> interface from <code>org.skife.jdbi.v2.tweak</code> so I ended up with the following</p>\n<pre><code>public class NotificationPayloadArgument implements Argument {\n  private NotificationPayload payload;\n\n  NotificationPayloadArgument(NotificationPayload payload) {\n      this.payload = payload;\n  }\n    \n  @Override\n  public void apply(int i, PreparedStatement preparedStatement, StatementContext statementContext)\n    throws SQLException {\n      preparedStatement.setString(i, toString());\n  }\n\n  @Override\n  public String toString() {\n      return new JSONObject(payload).toString();\n  } \n\n}\n</code></pre>\n<p>To make this work I of course needed to implement a Factory class which implements the <code>org.skife.jdbi.v2.tweak.ArgumentFactory&lt;T&gt;</code> interface with my newly created type, so the factory ended up as such:</p>\n<pre><code>public class NotificationPayloadFactory implements ArgumentFactory&lt;NotificationPayload&gt; {\n\n    @Override\n    public boolean accepts(Class&lt;?&gt; expectedType, Object value, StatementContext ctx) {\n        return value instanceof NotificationPayload;\n    }\n\n    @Override\n    public Argument build(Class&lt;?&gt; expectedType, NotificationPayload value, StatementContext ctx) {\n        return value;\n    }\n\n}\n</code></pre>\n<p>and of course lastly also as mentioned in <a href=\"https://stackoverflow.com/questions/12022452/does-jdbi-accept-uuid-parameters\">Does JDBI accept UUID parameters?</a> I had to register my factory:</p>\n<pre><code>jdbi.registerArgumentFactory(new NotificationPayloadFactory());\n</code></pre>\n<p>I tried to do this with just a factory for a <code>Map&lt;String, Object&gt;</code> but could not make it work for that, and there was a risk for NPE.</p>\n<h1>EDIT</h1>\n<p>The reason I am Overriding the <code>toString()</code> in <code>NotificationPayload</code> is because I need the payload in json format some places where I need a String object. But else it can be removed and then just use the <code>new JSONObject(payload).toString()</code> in the <code>preparedStatement.setString()</code> where <code>toString()</code> is called.</p>\n"},{"tags":[],"owner":{"account_id":5453307,"reputation":321,"user_id":4337494,"accept_rate":88,"display_name":"Arpit Agrawal"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1530899626,"creation_date":1530899626,"answer_id":51215570,"question_id":44700700,"body_markdown":"        public class MapArgument implements Argument {\r\n    \r\n        private Map&lt;String, Object&gt; payload;\r\n    \r\n        private ObjectMapper objectMapper;\r\n    \r\n        public MapArgument(ObjectMapper objectMapper, Map&lt;String, Object&gt; payload) {\r\n            this.objectMapper = objectMapper;\r\n            this.payload = payload;\r\n        }\r\n    \r\n        @Override\r\n        public void apply(int i, PreparedStatement statement, StatementContext statementContext) throws SQLException {\r\n            try {\r\n                statement.setString(i, objectMapper.writeValueAsString(payload));\r\n            } catch (JsonProcessingException e) {\r\n                log.info(&quot;Failed to serialize payload &quot;, e);\r\n            }\r\n        }\r\n    }\r\n\r\n        public class MapArgumentFactory implements ArgumentFactory&lt;Map&lt;String, Object&gt;&gt; {\r\n    \r\n        private ObjectMapper mapper;\r\n    \r\n        public MapArgumentFactory(ObjectMapper mapper) {\r\n            this.mapper = mapper;\r\n        }\r\n    \r\n        @Override\r\n        public boolean accepts(Class&lt;?&gt; type, Object value, StatementContext statementContext) {\r\n            return value instanceof Map;\r\n        }\r\n    \r\n        @Override\r\n        public Argument build(Class&lt;?&gt; type, Map&lt;String, Object&gt; map, StatementContext statementContext) {\r\n            return new MapArgument(mapper, map);\r\n        }\r\n    }","title":"A way to bind Java Map&lt;String, Object&gt; to sql varchar in JDBI INSERT statement","body":"<pre><code>    public class MapArgument implements Argument {\n\n    private Map&lt;String, Object&gt; payload;\n\n    private ObjectMapper objectMapper;\n\n    public MapArgument(ObjectMapper objectMapper, Map&lt;String, Object&gt; payload) {\n        this.objectMapper = objectMapper;\n        this.payload = payload;\n    }\n\n    @Override\n    public void apply(int i, PreparedStatement statement, StatementContext statementContext) throws SQLException {\n        try {\n            statement.setString(i, objectMapper.writeValueAsString(payload));\n        } catch (JsonProcessingException e) {\n            log.info(\"Failed to serialize payload \", e);\n        }\n    }\n}\n\n    public class MapArgumentFactory implements ArgumentFactory&lt;Map&lt;String, Object&gt;&gt; {\n\n    private ObjectMapper mapper;\n\n    public MapArgumentFactory(ObjectMapper mapper) {\n        this.mapper = mapper;\n    }\n\n    @Override\n    public boolean accepts(Class&lt;?&gt; type, Object value, StatementContext statementContext) {\n        return value instanceof Map;\n    }\n\n    @Override\n    public Argument build(Class&lt;?&gt; type, Map&lt;String, Object&gt; map, StatementContext statementContext) {\n        return new MapArgument(mapper, map);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":431512,"reputation":1366,"user_id":815627,"accept_rate":50,"display_name":"mdev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643717662,"creation_date":1643717662,"answer_id":70940399,"question_id":44700700,"body_markdown":"In kotlin-way using JDBI to insert a data class as JSONB; just create one ArgumentFactory for that datatype and register that factory with JDBI. This is  as simple as these 3 lines needed -\r\n\r\n    internal class CvMetadataArgumentFactory : AbstractArgumentFactory&lt;CvMetadata?&gt;(Types.OTHER) {\r\n    override fun build(value: CvMetadata?, config: ConfigRegistry): Argument {\r\n        return Argument { position, statement, _ -&gt; statement.setString(position, value?.toString()?:&quot;&quot;) }\r\n    }\r\n}\r\n\r\nLater register this factory -\r\n\r\n    jdbi.registerArgument(CvMetadataArgumentFactory())","title":"A way to bind Java Map&lt;String, Object&gt; to sql varchar in JDBI INSERT statement","body":"<p>In kotlin-way using JDBI to insert a data class as JSONB; just create one ArgumentFactory for that datatype and register that factory with JDBI. This is  as simple as these 3 lines needed -</p>\n<pre><code>internal class CvMetadataArgumentFactory : AbstractArgumentFactory&lt;CvMetadata?&gt;(Types.OTHER) {\noverride fun build(value: CvMetadata?, config: ConfigRegistry): Argument {\n    return Argument { position, statement, _ -&gt; statement.setString(position, value?.toString()?:&quot;&quot;) }\n}\n</code></pre>\n<p>}</p>\n<p>Later register this factory -</p>\n<pre><code>jdbi.registerArgument(CvMetadataArgumentFactory())\n</code></pre>\n"}],"owner":{"account_id":959915,"reputation":251,"user_id":5691197,"accept_rate":81,"display_name":"Yantes"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2130,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":44774869,"answer_count":3,"score":2,"last_activity_date":1643717662,"creation_date":1498137834,"question_id":44700700,"body_markdown":"Is there a way to bind a java `Map&lt;String, Object&gt;` to a varchar in the the JDBI @BindBean annotation.\r\n\r\nSo for example I have a class `Something.class` and I create a \r\n\r\n`@SqlBatch(&quot;INSERT INTO Something (name, payload) VALUES(:name, :payload)&quot;)`. \r\n\r\nNow in my java class the `name` is of type `String` and `payload` is of type `Map&lt;String, Object&gt;` and I want in the DB table the types are `varchar(...)`. Now I want the `Map` object to be inserted in the column as a JSON object, is that somehow achievable wihtout creating my own complex Binder as defined in http://jdbi.org/sql_object_api_argument_binding/ ? and other than making my payload be of type String in java. ","title":"A way to bind Java Map&lt;String, Object&gt; to sql varchar in JDBI INSERT statement","body":"<p>Is there a way to bind a java <code>Map&lt;String, Object&gt;</code> to a varchar in the the JDBI @BindBean annotation.</p>\n\n<p>So for example I have a class <code>Something.class</code> and I create a </p>\n\n<p><code>@SqlBatch(\"INSERT INTO Something (name, payload) VALUES(:name, :payload)\")</code>. </p>\n\n<p>Now in my java class the <code>name</code> is of type <code>String</code> and <code>payload</code> is of type <code>Map&lt;String, Object&gt;</code> and I want in the DB table the types are <code>varchar(...)</code>. Now I want the <code>Map</code> object to be inserted in the column as a JSON object, is that somehow achievable wihtout creating my own complex Binder as defined in <a href=\"http://jdbi.org/sql_object_api_argument_binding/\" rel=\"nofollow noreferrer\">http://jdbi.org/sql_object_api_argument_binding/</a> ? and other than making my payload be of type String in java. </p>\n"},{"tags":["java","ssl","sni"],"answers":[{"tags":[],"owner":{"account_id":3340852,"reputation":1493,"user_id":2807177,"display_name":"gmanjon"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1643717627,"creation_date":1499774989,"answer_id":45034236,"question_id":45033801,"body_markdown":"JSSE (Java Secure Socket Extension) is an API defined to implement SSL in java. All clases under `javax.net` and `javax.net.ssl` are part of this standard.\r\n\r\nServer Name Indication (SNI) is an extension the should be implemented by the specific JSSE Implementation. The SunJSSE version included in Sun Java 1.4 doesn&#39;t support SNI, so you need to register another JSSE provider that suports SNI.\r\n\r\nHere you have a list of different JSSE providers (implementators):\r\n\r\nhttps://wiki.apache.org/HttpComponents/AlternativeJSSE\r\n\r\nYou will have to register one than supports SNI.\r\n","title":"SSL compatibilty in java 1.4","body":"<p>JSSE (Java Secure Socket Extension) is an API defined to implement SSL in java. All clases under <code>javax.net</code> and <code>javax.net.ssl</code> are part of this standard.</p>\n<p>Server Name Indication (SNI) is an extension the should be implemented by the specific JSSE Implementation. The SunJSSE version included in Sun Java 1.4 doesn't support SNI, so you need to register another JSSE provider that suports SNI.</p>\n<p>Here you have a list of different JSSE providers (implementators):</p>\n<p><a href=\"https://wiki.apache.org/HttpComponents/AlternativeJSSE\" rel=\"nofollow noreferrer\">https://wiki.apache.org/HttpComponents/AlternativeJSSE</a></p>\n<p>You will have to register one than supports SNI.</p>\n"}],"owner":{"account_id":8857635,"reputation":101,"user_id":6614871,"accept_rate":71,"display_name":"Shivam Jari"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":525,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":45034236,"answer_count":1,"score":0,"last_activity_date":1643717627,"creation_date":1499773887,"question_id":45033801,"body_markdown":"I have searched for a number of posts but cannot find the answer.\r\n\r\nIs there any way possible i could use SNI in java 1.4.\r\nI checked that the API is available in java7 but is there any workaround to use SNI in java 1.4?","title":"SSL compatibilty in java 1.4","body":"<p>I have searched for a number of posts but cannot find the answer.</p>\n\n<p>Is there any way possible i could use SNI in java 1.4.\nI checked that the API is available in java7 but is there any workaround to use SNI in java 1.4?</p>\n"},{"tags":["java","gradle","ant","zip","build.gradle"],"answers":[{"tags":[],"owner":{"account_id":23889652,"reputation":16,"user_id":17889471,"display_name":"ptrhfrchtr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1643716997,"creation_date":1643712883,"answer_id":70939370,"question_id":70939217,"body_markdown":"Like this:\r\n\r\n```\r\nant.zip(destfile: &quot;$project.buildDir&quot; + &quot;/zip/&quot; + sourceDirectory.name + &quot;.zip&quot;) {\r\n    fileset(dir: sourceDirectory.path)\r\n}\r\n```","title":"change ant.zip() output directory","body":"<p>Like this:</p>\n<pre><code>ant.zip(destfile: &quot;$project.buildDir&quot; + &quot;/zip/&quot; + sourceDirectory.name + &quot;.zip&quot;) {\n    fileset(dir: sourceDirectory.path)\n}\n</code></pre>\n"}],"owner":{"account_id":1292588,"reputation":2492,"user_id":1244383,"accept_rate":80,"display_name":"Darshana"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70939370,"answer_count":1,"score":0,"last_activity_date":1643716997,"creation_date":1643712205,"question_id":70939217,"body_markdown":"I want to store output of `ant.zip()` inside build directory. I&#39;m doing it the following way for now.\r\n\r\n```\r\nant.zip(destfile: sourceDirectory.name + &quot;.zip&quot;) {\r\n    fileset(dir: sourceDirectory.path)\r\n}\r\n\r\nant.move(todir: &quot;$project.buildDir&quot; + &quot;/zip&quot;) {\r\n    fileset(dir: &quot;$project.projectDir&quot;, includes: &quot;*.zip&quot;)\r\n}\r\n```\r\nIs there way to directly do it in `ant.zip()`?","title":"change ant.zip() output directory","body":"<p>I want to store output of <code>ant.zip()</code> inside build directory. I'm doing it the following way for now.</p>\n<pre><code>ant.zip(destfile: sourceDirectory.name + &quot;.zip&quot;) {\n    fileset(dir: sourceDirectory.path)\n}\n\nant.move(todir: &quot;$project.buildDir&quot; + &quot;/zip&quot;) {\n    fileset(dir: &quot;$project.projectDir&quot;, includes: &quot;*.zip&quot;)\n}\n</code></pre>\n<p>Is there way to directly do it in <code>ant.zip()</code>?</p>\n"},{"tags":["java","spring","spring-mvc","redis","jedis"],"comments":[{"owner":{"account_id":542971,"reputation":4139,"user_id":911963,"accept_rate":74,"display_name":"Juzer Ali"},"score":0,"creation_date":1457159375,"post_id":30314055,"comment_id":59290443,"body_markdown":"Found any answers to this yet?","body":"Found any answers to this yet?"},{"owner":{"account_id":63318,"reputation":1115,"user_id":187484,"accept_rate":86,"display_name":"John Russell"},"score":1,"creation_date":1457283482,"post_id":30314055,"comment_id":59326258,"body_markdown":"Nothing. Nadda. Zilch.","body":"Nothing. Nadda. Zilch."},{"owner":{"account_id":9468052,"reputation":1,"user_id":7039675,"display_name":"Cai Xinhai"},"score":0,"creation_date":1476859146,"post_id":30314055,"comment_id":67517950,"body_markdown":"you can see http://stackoverflow.com/questions/35471666/how-to-config-redis-cluster-when-use-spring-data-redis-1-7-0-m1","body":"you can see <a href=\"http://stackoverflow.com/questions/35471666/how-to-config-redis-cluster-when-use-spring-data-redis-1-7-0-m1\" title=\"how to config redis cluster when use spring data redis 1 7 0 m1\">stackoverflow.com/questions/35471666/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1323231,"reputation":1556,"user_id":2377992,"accept_rate":100,"display_name":"ybonda"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1457869906,"creation_date":1457869906,"answer_id":35969881,"question_id":30314055,"body_markdown":"Operate through Sentinel:\r\n\r\n    &gt;     /**  * jedis  */ @Bean public RedisConnectionFactory jedisConnectionFactory() {   RedisSentinelConfiguration sentinelConfig\r\n    &gt; = new RedisSentinelConfiguration() .master(&quot;mymaster&quot;)   .sentinel(&quot;127.0.0.1&quot;, 26379) .sentinel(&quot;127.0.0.1&quot;, 26380);   return\r\n    &gt; new JedisConnectionFactory(sentinelConfig); }\r\n\r\nhttp://docs.spring.io/spring-data/redis/docs/current/reference/html/#redis:sentinel","title":"Does Spring&#39;s JedisConnectionFactory support the new JedisCluster?","body":"<p>Operate through Sentinel:</p>\n\n<pre><code>&gt;     /**  * jedis  */ @Bean public RedisConnectionFactory jedisConnectionFactory() {   RedisSentinelConfiguration sentinelConfig\n&gt; = new RedisSentinelConfiguration() .master(\"mymaster\")   .sentinel(\"127.0.0.1\", 26379) .sentinel(\"127.0.0.1\", 26380);   return\n&gt; new JedisConnectionFactory(sentinelConfig); }\n</code></pre>\n\n<p><a href=\"http://docs.spring.io/spring-data/redis/docs/current/reference/html/#redis:sentinel\" rel=\"nofollow\">http://docs.spring.io/spring-data/redis/docs/current/reference/html/#redis:sentinel</a></p>\n"},{"tags":[],"owner":{"account_id":2360824,"reputation":17691,"user_id":2067527,"display_name":"mp911de"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1457978803,"creation_date":1457978803,"answer_id":35994852,"question_id":30314055,"body_markdown":"Spring Data Redis 1.7 will support Redis Cluster using the Jedis and the lettuce driver. Release-Date ETA first of April 2016. \r\n\r\nCode samples for Spring Data Redis Cluster are already online: https://github.com/spring-projects/spring-data-examples/tree/master/redis/cluster","title":"Does Spring&#39;s JedisConnectionFactory support the new JedisCluster?","body":"<p>Spring Data Redis 1.7 will support Redis Cluster using the Jedis and the lettuce driver. Release-Date ETA first of April 2016. </p>\n\n<p>Code samples for Spring Data Redis Cluster are already online: <a href=\"https://github.com/spring-projects/spring-data-examples/tree/master/redis/cluster\" rel=\"nofollow\">https://github.com/spring-projects/spring-data-examples/tree/master/redis/cluster</a></p>\n"}],"owner":{"account_id":63318,"reputation":1115,"user_id":187484,"accept_rate":86,"display_name":"John Russell"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1618,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1643716727,"creation_date":1431989707,"question_id":30314055,"body_markdown":"We are migrating our Redis stack over to [Redis Cluster][1].\r\n\r\nIn portions of our application, this has meant that we have had to replace the [Jedis][2] object with the [JedisCluster][3] object.\r\n\r\nIn our Spring client, we use the [JedisConnectionFactory][4] to persist sessions to redis.  However, this class does not appear to support JedisCluster.\r\n\r\nAny thoughts on how one would go about wiring up a Spring application to a Redis Cluster?\r\n\r\nI noticed that this factory implements [RedisConnectionFactory][5] which requires an instance of [RedisConnection][6] to be returned.  However, this assumes that only one connection to a Redis server would be required, which is not the case in RedisCluster (it takes a set of redis servers and creates connections for all of them).  As a result, I am not sure what interfaces one would need to implement in order to bring Spring into our new stack.\r\n\r\nAny help would be greatly appreciated.  Thanks!\r\n \r\n\r\n\r\n  [1]: http://redis.io/topics/cluster-spec\r\n  [2]: http://javadox.com/redis.clients/jedis/2.6.0/redis/clients/jedis/Jedis.html\r\n  [3]: http://javadox.com/redis.clients/jedis/2.6.0/redis/clients/jedis/JedisCluster.html\r\n  [4]: http://docs.spring.io/spring-data/data-keyvalue/docs/current/api/org/springframework/data/keyvalue/redis/connection/jedis/JedisConnectionFactory.html\r\n  [5]: http://docs.spring.io/spring-data/data-keyvalue/docs/current/api/org/springframework/data/keyvalue/redis/connection/RedisConnectionFactory.html\r\n  [6]: http://docs.spring.io/spring-data/data-keyvalue/docs/current/api/org/springframework/data/keyvalue/redis/connection/RedisConnection.html","title":"Does Spring&#39;s JedisConnectionFactory support the new JedisCluster?","body":"<p>We are migrating our Redis stack over to <a href=\"http://redis.io/topics/cluster-spec\">Redis Cluster</a>.</p>\n\n<p>In portions of our application, this has meant that we have had to replace the <a href=\"http://javadox.com/redis.clients/jedis/2.6.0/redis/clients/jedis/Jedis.html\">Jedis</a> object with the <a href=\"http://javadox.com/redis.clients/jedis/2.6.0/redis/clients/jedis/JedisCluster.html\">JedisCluster</a> object.</p>\n\n<p>In our Spring client, we use the <a href=\"http://docs.spring.io/spring-data/data-keyvalue/docs/current/api/org/springframework/data/keyvalue/redis/connection/jedis/JedisConnectionFactory.html\">JedisConnectionFactory</a> to persist sessions to redis.  However, this class does not appear to support JedisCluster.</p>\n\n<p>Any thoughts on how one would go about wiring up a Spring application to a Redis Cluster?</p>\n\n<p>I noticed that this factory implements <a href=\"http://docs.spring.io/spring-data/data-keyvalue/docs/current/api/org/springframework/data/keyvalue/redis/connection/RedisConnectionFactory.html\">RedisConnectionFactory</a> which requires an instance of <a href=\"http://docs.spring.io/spring-data/data-keyvalue/docs/current/api/org/springframework/data/keyvalue/redis/connection/RedisConnection.html\">RedisConnection</a> to be returned.  However, this assumes that only one connection to a Redis server would be required, which is not the case in RedisCluster (it takes a set of redis servers and creates connections for all of them).  As a result, I am not sure what interfaces one would need to implement in order to bring Spring into our new stack.</p>\n\n<p>Any help would be greatly appreciated.  Thanks!</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":19584488,"reputation":319,"user_id":14332866,"display_name":"CHAHI Saad"},"score":0,"creation_date":1643715081,"post_id":70939794,"comment_id":125408063,"body_markdown":"all the DB have a lifetime after that they close automatically, so can you share your code here.","body":"all the DB have a lifetime after that they close automatically, so can you share your code here."},{"owner":{"account_id":23590933,"reputation":24,"user_id":17628730,"display_name":"Huik"},"score":0,"creation_date":1643715122,"post_id":70939794,"comment_id":125416008,"body_markdown":"Maybe your SQL server is down!. Or Make sure that host name is right in your app environment.","body":"Maybe your SQL server is down!. Or Make sure that host name is right in your app environment."},{"owner":{"account_id":2450346,"reputation":5181,"user_id":2136795,"display_name":"Gyro Gearless"},"score":1,"creation_date":1643715826,"post_id":70939794,"comment_id":125408292,"body_markdown":"How would you expect anyone to answer if you dont show a snippet of your code where the error occurs?","body":"How would you expect anyone to answer if you dont show a snippet of your code where the error occurs?"},{"owner":{"account_id":21827317,"reputation":11,"user_id":16122625,"display_name":"RAYAISSE Patrick"},"score":0,"creation_date":1643716951,"post_id":70939794,"comment_id":125408685,"body_markdown":"@CHAHISaad i&#39;ve added the link of my code image .. when running it , it highlights the &quot; Pm.executeUpdate();&quot; code in red","body":"@CHAHISaad i&#39;ve added the link of my code image .. when running it , it highlights the &quot; Pm.executeUpdate();&quot; code in red"},{"owner":{"account_id":21827317,"reputation":11,"user_id":16122625,"display_name":"RAYAISSE Patrick"},"score":0,"creation_date":1643716983,"post_id":70939794,"comment_id":125408696,"body_markdown":"@GyroGearless , i&#39;ve added the link of my code image .. when running it , it highlights the &quot; Pm.executeUpdate();&quot; code in red","body":"@GyroGearless , i&#39;ve added the link of my code image .. when running it , it highlights the &quot; Pm.executeUpdate();&quot; code in red"},{"owner":{"account_id":10325130,"reputation":535,"user_id":7616822,"accept_rate":50,"display_name":"procra"},"score":0,"creation_date":1643723889,"post_id":70939794,"comment_id":125411470,"body_markdown":"Have you initialised `con` somewhere? If so, it&#39;s not in your snippet (which would be more convienient to be implemented as text instead of an image).\n\nAlso, what happened between the initialising of `con` and the call of `executeUpdate()`? Do you maybe call `con.close()` or a subroutine that sends a request to your DB itself? Such things can interfere based on the DB config and your connection handling.","body":"Have you initialised <code>con</code> somewhere? If so, it&#39;s not in your snippet (which would be more convienient to be implemented as text instead of an image).  Also, what happened between the initialising of <code>con</code> and the call of <code>executeUpdate()</code>? Do you maybe call <code>con.close()</code> or a subroutine that sends a request to your DB itself? Such things can interfere based on the DB config and your connection handling."}],"owner":{"account_id":21827317,"reputation":11,"user_id":16122625,"display_name":"RAYAISSE Patrick"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":386,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643716718,"creation_date":1643714836,"question_id":70939794,"body_markdown":"[enter image description here][1]I am  trying to persist a value in my table using an update sql statement but i got this error : &quot;  execute() is called on closed connection&quot; .. Someone knows how to fix it ?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/3EcaK.png","title":"Error : &quot; execute() is called on closed connection when trying to persist value with an Update sql statement&quot; in java . Implementing Apis with jax-rs","body":"<p><a href=\"https://i.stack.imgur.com/3EcaK.png\" rel=\"nofollow noreferrer\">enter image description here</a>I am  trying to persist a value in my table using an update sql statement but i got this error : &quot;  execute() is called on closed connection&quot; .. Someone knows how to fix it ?</p>\n"},{"tags":["java","sonarqube","sonar-runner"],"comments":[{"owner":{"account_id":2929506,"reputation":917,"user_id":2510128,"accept_rate":100,"display_name":"Nick Allen"},"score":0,"creation_date":1411967637,"post_id":26092773,"comment_id":40888223,"body_markdown":"Did you see the answer at http://stackoverflow.com/questions/21204350/sonar-setup-undefined-mandatory-properties? It looks like the same problem you are having.","body":"Did you see the answer at <a href=\"http://stackoverflow.com/questions/21204350/sonar-setup-undefined-mandatory-properties\" title=\"sonar setup undefined mandatory properties\">stackoverflow.com/questions/21204350/&hellip;</a>? It looks like the same problem you are having."},{"owner":{"account_id":5099822,"reputation":513,"user_id":4089766,"accept_rate":88,"display_name":"baconSoda"},"score":0,"creation_date":1411967911,"post_id":26092773,"comment_id":40888293,"body_markdown":"Nick, Yes i have and i modified the properties file too. Still didn&#39;t work","body":"Nick, Yes i have and i modified the properties file too. Still didn&#39;t work"},{"owner":{"account_id":5099822,"reputation":513,"user_id":4089766,"accept_rate":88,"display_name":"baconSoda"},"score":0,"creation_date":1411968183,"post_id":26092773,"comment_id":40888364,"body_markdown":"@Karthikeyan, thanks for the edit. I&#39;m new to stack overflow","body":"@Karthikeyan, thanks for the edit. I&#39;m new to stack overflow"},{"owner":{"account_id":2929506,"reputation":917,"user_id":2510128,"accept_rate":100,"display_name":"Nick Allen"},"score":0,"creation_date":1411968537,"post_id":26092773,"comment_id":40888450,"body_markdown":"You might try putting the path values in quotes where there are spaces present. Like changing this, sonar.sources=D:/eclipse workspace/NoSqlDataModeling, to this sonar.sources=&quot;D:/eclipse workspace/NoSqlDataModeling&quot;","body":"You might try putting the path values in quotes where there are spaces present. Like changing this, sonar.sources=D:/eclipse workspace/NoSqlDataModeling, to this sonar.sources=&quot;D:/eclipse workspace/NoSqlDataModeling&quot;"},{"owner":{"account_id":5099822,"reputation":513,"user_id":4089766,"accept_rate":88,"display_name":"baconSoda"},"score":0,"creation_date":1411970732,"post_id":26092773,"comment_id":40889153,"body_markdown":"hey nick, nope that didn&#39;t work.I got my hands on another properties file which seems to be working fine. It&#39;s much simpler too. but i can&#39;t see the difference between the two config files.\nHere is the new config file. if you could point out what errors i was making","body":"hey nick, nope that didn&#39;t work.I got my hands on another properties file which seems to be working fine. It&#39;s much simpler too. but i can&#39;t see the difference between the two config files. Here is the new config file. if you could point out what errors i was making"},{"owner":{"account_id":5099822,"reputation":513,"user_id":4089766,"accept_rate":88,"display_name":"baconSoda"},"score":0,"creation_date":1411970860,"post_id":26092773,"comment_id":40889206,"body_markdown":"# Required metadata\nsonar.projectKey=rohan_key2\nsonar.projectName=NoSqlData\nsonar.projectVersion=1.2\n\n# Comma-separated paths to directories with sources (required)\nsonar.sources=src\nsonar.binaries=build/classes\n# Language\nsonar.language=java\n\n# Encoding of the source files\nsonar.sourceEncoding=UTF-8\n#sonar.devcockpit.userAutoMapping=true\n#sonar.scm.enabled=true","body":"# Required metadata sonar.projectKey=rohan_key2 sonar.projectName=NoSqlData sonar.projectVersion=1.2  # Comma-separated paths to directories with sources (required) sonar.sources=src sonar.binaries=build/classes # Language sonar.language=java  # Encoding of the source files sonar.sourceEncoding=UTF-8 #sonar.devcockpit.userAutoMapping=true #sonar.scm.enabled=true"},{"owner":{"account_id":913756,"reputation":973,"user_id":1366617,"accept_rate":71,"display_name":"yousafsajjad"},"score":0,"creation_date":1414100625,"post_id":26092773,"comment_id":41701577,"body_markdown":"I got similar issue when using cygwin to run the command. I ran sonar-runner from command prompt and everything started working.","body":"I got similar issue when using cygwin to run the command. I ran sonar-runner from command prompt and everything started working."}],"answers":[{"tags":[],"owner":{"account_id":2347162,"reputation":10955,"user_id":2057089,"display_name":"Gene"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1468254878,"creation_date":1468254878,"answer_id":38311944,"question_id":26092773,"body_markdown":"How to Upload a Project to SonarQube:\r\n\r\n1) Startup SonarQube. You should be able to see it if you type localhost:9000 into your browser.\r\n\r\n2) In command prompt, cd to the directory of your project\r\n[![enter image description here][1]][1]\r\n\r\n3) Make sure the root folder of your project has “sonar-project.properties” file and that it is configured. If your project doesn’t have the “sonar-project.properties” file, it will get this error= https://stackoverflow.com/questions/21204350/sonar-setup-undefined-mandatory-properties\r\n\r\nMy “sonar-project.properties” file for my VendingMachineEmulator app looks like this:\r\n[![enter image description here][2]][2]\r\n\r\n4) In command prompt, now type “C:\\sonar-scanner\\sonar-scanner-2.6.1\\bin\\sonar-scanner.bat”. Alternatively, you could’ve also type “C:\\sonar-scanner\\sonar-scanner-2.6.1\\bin\\sonar-runner.bat” too. I’m not sure what the difference is. Make sure the directory you are in is still the main folder of your project.\r\n\r\n5) Done! Refresh localhost:9000 and check if the project is there. \r\n\r\n\r\n  [1]: http://i.stack.imgur.com/6bW4I.png\r\n  [2]: http://i.stack.imgur.com/KJDCR.png","title":"Sonar: You must define the following mandatory properties for unknown not resolved","body":"<p>How to Upload a Project to SonarQube:</p>\n\n<p>1) Startup SonarQube. You should be able to see it if you type localhost:9000 into your browser.</p>\n\n<p>2) In command prompt, cd to the directory of your project\n<a href=\"https://i.stack.imgur.com/6bW4I.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/6bW4I.png\" alt=\"enter image description here\"></a></p>\n\n<p>3) Make sure the root folder of your project has “sonar-project.properties” file and that it is configured. If your project doesn’t have the “sonar-project.properties” file, it will get this error= <a href=\"https://stackoverflow.com/questions/21204350/sonar-setup-undefined-mandatory-properties\">Sonar Setup Undefined Mandatory Properties</a></p>\n\n<p>My “sonar-project.properties” file for my VendingMachineEmulator app looks like this:\n<a href=\"https://i.stack.imgur.com/KJDCR.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/KJDCR.png\" alt=\"enter image description here\"></a></p>\n\n<p>4) In command prompt, now type “C:\\sonar-scanner\\sonar-scanner-2.6.1\\bin\\sonar-scanner.bat”. Alternatively, you could’ve also type “C:\\sonar-scanner\\sonar-scanner-2.6.1\\bin\\sonar-runner.bat” too. I’m not sure what the difference is. Make sure the directory you are in is still the main folder of your project.</p>\n\n<p>5) Done! Refresh localhost:9000 and check if the project is there. </p>\n"},{"tags":[],"owner":{"account_id":8162908,"reputation":59,"user_id":6146325,"display_name":"AdityaJ"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1511868302,"creation_date":1511868302,"answer_id":47530392,"question_id":26092773,"body_markdown":"Try running sonar-scanner command from the directory where sonar-project.properties lies.\r\n\r\nI faced same problem and later found I was running the command from the different directory.","title":"Sonar: You must define the following mandatory properties for unknown not resolved","body":"<p>Try running sonar-scanner command from the directory where sonar-project.properties lies.</p>\n\n<p>I faced same problem and later found I was running the command from the different directory.</p>\n"},{"tags":[],"owner":{"account_id":11764939,"reputation":3827,"user_id":8609847,"display_name":"Satish Patro"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1643716665,"creation_date":1537883622,"answer_id":52499921,"question_id":26092773,"body_markdown":"Those who are getting &quot;EXECUTION FAILURE&quot; on running sonar-runner in the project folder add \r\n\r\n`-Dproject.settings=./sonar-project.properties`\r\n\r\nAs it can&#39;t able to find setting file, you have to mention it explicitly\r\n\r\nsonar-project.properties is the file name in my project where I have gave projectKey, projectName\r\n \r\nFor me,\r\nRun sonar runner with the above mentioned argument. Sonar runner was there in the folder path sonar-plugin\\agent\\sonar-plugin-agent\\sonar-qube-runner\\bin\\sonar-runner or add it in environment path\r\n\r\n`sonar-runner -Dproject.settings=./sonar-project.properties`\r\n","title":"Sonar: You must define the following mandatory properties for unknown not resolved","body":"<p>Those who are getting &quot;EXECUTION FAILURE&quot; on running sonar-runner in the project folder add</p>\n<p><code>-Dproject.settings=./sonar-project.properties</code></p>\n<p>As it can't able to find setting file, you have to mention it explicitly</p>\n<p>sonar-project.properties is the file name in my project where I have gave projectKey, projectName</p>\n<p>For me,\nRun sonar runner with the above mentioned argument. Sonar runner was there in the folder path sonar-plugin\\agent\\sonar-plugin-agent\\sonar-qube-runner\\bin\\sonar-runner or add it in environment path</p>\n<p><code>sonar-runner -Dproject.settings=./sonar-project.properties</code></p>\n"}],"owner":{"account_id":5099822,"reputation":513,"user_id":4089766,"accept_rate":88,"display_name":"baconSoda"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74087,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"answer_count":3,"score":20,"last_activity_date":1643716665,"creation_date":1411966522,"question_id":26092773,"body_markdown":"I&#39;m trying to run SonarQube on a project in java. I configured the sonar properties file and placed it in the project directory. On running the sonar.bat there is an error that asks to define the mandatory parameters. At first I assumed my properties file was wrong, but I&#39;ve tried everything I can think of. \r\n\r\nthis is the current properties file\r\n\r\n    # Required metadata\r\n    sonar.projectKey=_newtest2\r\n    sonar.projectName=NoSqlDataModeling\r\n    sonar.projectVersion=2.0\r\n     \r\n    # Path to the parent source code directory.\r\n    # Path is relative to the sonar-project.properties file. Replace &quot;\\&quot; by &quot;/&quot; on Windows.\r\n    # Since SonarQube 4.2, this property is optional if sonar.modules is set. \r\n    # If not set, SonarQube starts looking for source code from the directory containing \r\n    # the sonar-project.properties file.\r\n    sonar.sources=D:/eclipse workspace/NoSqlDataModeling\r\n     \r\n       \r\n    #Comma-separated paths to directories containing the binary files (directories with class files, in the case of Java).\r\n    sonar.binaries=D:/eclipse workspace/NoSqlDataModeling/build/classes\r\n    \r\n    #Comma-separated paths to files with third-party libraries (JAR files in the case of Java). Patterns #can be used.\r\n    sonar.libraries=D:/eclipse workspace/NoSqlDataModeling/WebContent/WEB-INF/lib/*.jar\r\n    \r\n    #language used\r\n    sonar.language=java\r\n     \r\n    # Encoding of the source code\r\n    sonar.sourceEncoding=UTF-8\r\n     \r\n    # Additional parameters\r\n    sonar.my.property=value\r\n\r\n\r\n\r\nthis is the error message\r\n\r\n\r\n    INFO: SonarQube Server 4.3.1\r\n    09:58:57.783 INFO  - Load batch settings\r\n    09:58:57.901 INFO  - User cache: C:\\Users\\Rohan.Kumar\\.sonar\\cache\r\n    09:58:57.907 INFO  - Install plugins\r\n    09:58:57.913 INFO  - Download sonar-maven-batch-plugin-4.3.1.jar\r\n    09:58:58.037 INFO  - Download sonar-findbugs-plugin-2.1.jar\r\n    09:58:58.436 INFO  - Download sonar-surefire-plugin-2.1.jar\r\n    09:58:58.540 INFO  - Download sonar-cpd-plugin-4.3.1.jar\r\n    09:58:58.870 INFO  - Download sonar-core-plugin-4.3.1.jar\r\n    09:58:58.956 INFO  - Download sonar-java-plugin-2.1.jar\r\n    09:58:59.097 INFO  - Download sonar-dbcleaner-plugin-4.3.1.jar\r\n    09:58:59.216 INFO  - Download sonar-jacoco-plugin-2.1.jar\r\n    09:58:59.331 INFO  - Download sonar-l10n-en-plugin-4.3.1.jar\r\n    09:58:59.350 INFO  - Download sonar-squid-java-plugin-2.1.jar\r\n    09:58:59.453 INFO  - Download sonar-email-notifications-plugin-4.3.1.jar\r\n    09:58:59.655 INFO  - Download sonar-design-plugin-4.3.1.jar\r\n    09:58:59.826 INFO  - Install JDBC driver\r\n    09:59:00.061 WARN  - H2 database should be used for evaluation purpose only\r\n    09:59:00.061 INFO  - Create JDBC datasource for jdbc:h2:tcp://localhost/sonar\r\n    09:59:00.784 INFO  - Initializing Hibernate\r\n    INFO: ------------------------------------------------------------------------\r\n    INFO: EXECUTION FAILURE\r\n    INFO: ------------------------------------------------------------------------\r\n    Total time: 7.521s\r\n    Final Memory: 5M/19M\r\n    INFO: ------------------------------------------------------------------------\r\n    ERROR: Error during Sonar runner execution\r\n    ERROR: Unable to execute Sonar\r\n    ERROR: Caused by: You must define the following mandatory properties for &#39;Unknow\r\n    n&#39;: sonar.projectKey, sonar.projectName, sonar.projectVersion, sonar.sources\r\n    ERROR:\r\n    ERROR: To see the full stack trace of the errors, re-run SonarQube Runner with t\r\n    he -e switch.\r\n    ERROR: Re-run SonarQube Runner using the -X switch to enable full debug logging.\r\n\r\n\r\nShould I provide comma separated paths to all the class files and java files? \r\nTill what depth do I provide the paths? the different class files are located in build/classes/.../.../&lt;4 different folders that have class files inside them&gt;\r\nI change the project key every time as I read it has to be unique.\r\n\r\n\r\n","title":"Sonar: You must define the following mandatory properties for unknown not resolved","body":"<p>I'm trying to run SonarQube on a project in java. I configured the sonar properties file and placed it in the project directory. On running the sonar.bat there is an error that asks to define the mandatory parameters. At first I assumed my properties file was wrong, but I've tried everything I can think of. </p>\n\n<p>this is the current properties file</p>\n\n<pre><code># Required metadata\nsonar.projectKey=_newtest2\nsonar.projectName=NoSqlDataModeling\nsonar.projectVersion=2.0\n\n# Path to the parent source code directory.\n# Path is relative to the sonar-project.properties file. Replace \"\\\" by \"/\" on Windows.\n# Since SonarQube 4.2, this property is optional if sonar.modules is set. \n# If not set, SonarQube starts looking for source code from the directory containing \n# the sonar-project.properties file.\nsonar.sources=D:/eclipse workspace/NoSqlDataModeling\n\n\n#Comma-separated paths to directories containing the binary files (directories with class files, in the case of Java).\nsonar.binaries=D:/eclipse workspace/NoSqlDataModeling/build/classes\n\n#Comma-separated paths to files with third-party libraries (JAR files in the case of Java). Patterns #can be used.\nsonar.libraries=D:/eclipse workspace/NoSqlDataModeling/WebContent/WEB-INF/lib/*.jar\n\n#language used\nsonar.language=java\n\n# Encoding of the source code\nsonar.sourceEncoding=UTF-8\n\n# Additional parameters\nsonar.my.property=value\n</code></pre>\n\n<p>this is the error message</p>\n\n<pre><code>INFO: SonarQube Server 4.3.1\n09:58:57.783 INFO  - Load batch settings\n09:58:57.901 INFO  - User cache: C:\\Users\\Rohan.Kumar\\.sonar\\cache\n09:58:57.907 INFO  - Install plugins\n09:58:57.913 INFO  - Download sonar-maven-batch-plugin-4.3.1.jar\n09:58:58.037 INFO  - Download sonar-findbugs-plugin-2.1.jar\n09:58:58.436 INFO  - Download sonar-surefire-plugin-2.1.jar\n09:58:58.540 INFO  - Download sonar-cpd-plugin-4.3.1.jar\n09:58:58.870 INFO  - Download sonar-core-plugin-4.3.1.jar\n09:58:58.956 INFO  - Download sonar-java-plugin-2.1.jar\n09:58:59.097 INFO  - Download sonar-dbcleaner-plugin-4.3.1.jar\n09:58:59.216 INFO  - Download sonar-jacoco-plugin-2.1.jar\n09:58:59.331 INFO  - Download sonar-l10n-en-plugin-4.3.1.jar\n09:58:59.350 INFO  - Download sonar-squid-java-plugin-2.1.jar\n09:58:59.453 INFO  - Download sonar-email-notifications-plugin-4.3.1.jar\n09:58:59.655 INFO  - Download sonar-design-plugin-4.3.1.jar\n09:58:59.826 INFO  - Install JDBC driver\n09:59:00.061 WARN  - H2 database should be used for evaluation purpose only\n09:59:00.061 INFO  - Create JDBC datasource for jdbc:h2:tcp://localhost/sonar\n09:59:00.784 INFO  - Initializing Hibernate\nINFO: ------------------------------------------------------------------------\nINFO: EXECUTION FAILURE\nINFO: ------------------------------------------------------------------------\nTotal time: 7.521s\nFinal Memory: 5M/19M\nINFO: ------------------------------------------------------------------------\nERROR: Error during Sonar runner execution\nERROR: Unable to execute Sonar\nERROR: Caused by: You must define the following mandatory properties for 'Unknow\nn': sonar.projectKey, sonar.projectName, sonar.projectVersion, sonar.sources\nERROR:\nERROR: To see the full stack trace of the errors, re-run SonarQube Runner with t\nhe -e switch.\nERROR: Re-run SonarQube Runner using the -X switch to enable full debug logging.\n</code></pre>\n\n<p>Should I provide comma separated paths to all the class files and java files? \nTill what depth do I provide the paths? the different class files are located in build/classes/.../.../&lt;4 different folders that have class files inside them>\nI change the project key every time as I read it has to be unique.</p>\n"},{"tags":["java","json"],"answers":[{"tags":[],"owner":{"account_id":1310803,"reputation":2557,"user_id":1258838,"accept_rate":68,"display_name":"Juliyanage Silva"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643714070,"creation_date":1643714070,"answer_id":70939644,"question_id":70939341,"body_markdown":"You can have a class representing Mrng and Evening properties and override that class&#39;s equals and hash methods for comparing for these attributes. Then have a Set&lt;YourClassWithAttributes&gt; and generate instances and put elements to this.\r\n\r\nFinally you will get a unique list and have a json string with some little research. This should be done to no.of.slots only","title":"Combine Two Json Objects in java which is in single json array","body":"<p>You can have a class representing Mrng and Evening properties and override that class's equals and hash methods for comparing for these attributes. Then have a Set and generate instances and put elements to this.</p>\n<p>Finally you will get a unique list and have a json string with some little research. This should be done to no.of.slots only</p>\n"}],"owner":{"account_id":17819892,"reputation":81,"user_id":12942508,"display_name":"Narayana Rao Kancharana"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1643716626,"creation_date":1643712784,"question_id":70939341,"body_markdown":"I have one Json array which is consist 2 or 3 json objects, now I need to combine both the json objects into single json object, 1st json object is coming from one method 2nd is coming from another method let me explain with example \r\n\r\n    response[\r\n    {\r\n    &quot;id&quot; : 1,\r\n    &quot;name&quot; : &quot;Hi&quot;,\r\n    &quot;no.of slots&quot; [\r\n      {\r\n    &quot;Mrng&quot; : 10:30,\r\n    &quot;Evening&quot; : 11:20\r\n    },\r\n    {\r\n    &quot;Mrng&quot; : 12:00,\r\n    &quot;Evening&quot; : 4:00\r\n    }\r\n    ]\r\n    },\r\n    \r\n    {\r\n    &quot;email&quot; : &quot;abc@gmail.com&quot;,\r\n    &quot;address&quot; : &quot;abc district&quot;\r\n    &quot;no.of slots&quot; [\r\n      {\r\n    &quot;Mrng&quot; : 10:30,\r\n    &quot;Evening&quot; : 11:20\r\n    }\r\n    ]\r\n    }\r\n    ]\r\n\r\nthen I need output like \r\n\r\n    response: {\r\n    \r\n    &quot;id&quot; : 1,\r\n    &quot;name&quot; : &quot;Hi&quot;,\r\n    &quot;no.of slots&quot; [\r\n      {\r\n    &quot;Mrng&quot; : 10:30,\r\n    &quot;Evening&quot; : 11:20\r\n    },\r\n    {\r\n    &quot;Mrng&quot; : 12:00,\r\n    &quot;Evening&quot; : 4:00\r\n    }\r\n    ],\r\n    &quot;email&quot; : &quot;abc@gmail.com&quot;,\r\n    &quot;address&quot; : &quot;abc district&quot;\r\n    \r\n    }\r\n\r\n\r\nIn no of slots If I have duplicates need to remove or if unique need to combine, any help will be appreciate. \r\nThanks in advance \r\n","title":"Combine Two Json Objects in java which is in single json array","body":"<p>I have one Json array which is consist 2 or 3 json objects, now I need to combine both the json objects into single json object, 1st json object is coming from one method 2nd is coming from another method let me explain with example</p>\n<pre><code>response[\n{\n&quot;id&quot; : 1,\n&quot;name&quot; : &quot;Hi&quot;,\n&quot;no.of slots&quot; [\n  {\n&quot;Mrng&quot; : 10:30,\n&quot;Evening&quot; : 11:20\n},\n{\n&quot;Mrng&quot; : 12:00,\n&quot;Evening&quot; : 4:00\n}\n]\n},\n\n{\n&quot;email&quot; : &quot;abc@gmail.com&quot;,\n&quot;address&quot; : &quot;abc district&quot;\n&quot;no.of slots&quot; [\n  {\n&quot;Mrng&quot; : 10:30,\n&quot;Evening&quot; : 11:20\n}\n]\n}\n]\n</code></pre>\n<p>then I need output like</p>\n<pre><code>response: {\n\n&quot;id&quot; : 1,\n&quot;name&quot; : &quot;Hi&quot;,\n&quot;no.of slots&quot; [\n  {\n&quot;Mrng&quot; : 10:30,\n&quot;Evening&quot; : 11:20\n},\n{\n&quot;Mrng&quot; : 12:00,\n&quot;Evening&quot; : 4:00\n}\n],\n&quot;email&quot; : &quot;abc@gmail.com&quot;,\n&quot;address&quot; : &quot;abc district&quot;\n\n}\n</code></pre>\n<p>In no of slots If I have duplicates need to remove or if unique need to combine, any help will be appreciate.\nThanks in advance</p>\n"},{"tags":["java","scala","opencv"],"comments":[{"owner":{"account_id":418219,"reputation":2066,"user_id":794653,"accept_rate":76,"display_name":"zoran jeremic"},"score":1,"creation_date":1643690072,"post_id":70935508,"comment_id":125400977,"body_markdown":"It&#39;s really difficult to make any assumption until you provide more details and at least code example showing what you tried. Based on the error only, I would assume you didn&#39;t provide native library required by opencv or it was not found. Did you check this https://stackoverflow.com/questions/39817457/opencv-3-0-0-java-lang-unsatisfiedlinkerror-in-eclipse","body":"It&#39;s really difficult to make any assumption until you provide more details and at least code example showing what you tried. Based on the error only, I would assume you didn&#39;t provide native library required by opencv or it was not found. Did you check this <a href=\"https://stackoverflow.com/questions/39817457/opencv-3-0-0-java-lang-unsatisfiedlinkerror-in-eclipse\" title=\"opencv 3 0 0 java lang unsatisfiedlinkerror in eclipse\">stackoverflow.com/questions/39817457/&hellip;</a>"},{"owner":{"account_id":8197608,"reputation":822,"user_id":6169894,"display_name":"AminM"},"score":0,"creation_date":1643694016,"post_id":70935508,"comment_id":125401605,"body_markdown":"This generally happens when your code has access to the class when you compile but not when you run. In many IDEs it&#39;s due to where you are placing the classes or how you are deploying the code.\nUnsatisfiedLinkError refers specifically to a DLL (or Lib in Linux) that it isn&#39;t finding at runtime. Does your running code have access to the dynamically linked library? (obviously not, find out why)","body":"This generally happens when your code has access to the class when you compile but not when you run. In many IDEs it&#39;s due to where you are placing the classes or how you are deploying the code. UnsatisfiedLinkError refers specifically to a DLL (or Lib in Linux) that it isn&#39;t finding at runtime. Does your running code have access to the dynamically linked library? (obviously not, find out why)"},{"owner":{"account_id":3072614,"reputation":12296,"user_id":2602877,"display_name":"Christoph Rackwitz"},"score":0,"creation_date":1643717884,"post_id":70935508,"comment_id":125408991,"body_markdown":"Does this answer your question? [OpenCV java.lang.UnsatisfiedLinkError](https://stackoverflow.com/questions/28220675/opencv-java-lang-unsatisfiedlinkerror)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/28220675/opencv-java-lang-unsatisfiedlinkerror\">OpenCV java.lang.UnsatisfiedLinkError</a>"},{"owner":{"account_id":4931726,"reputation":1203,"user_id":3971290,"accept_rate":44,"display_name":"Nicolas"},"score":0,"creation_date":1643718339,"post_id":70935508,"comment_id":125409159,"body_markdown":"Thanks @ChristophRackwitz but this not solve my issue :(","body":"Thanks @ChristophRackwitz but this not solve my issue :("}],"answers":[{"tags":[],"owner":{"account_id":8197608,"reputation":822,"user_id":6169894,"display_name":"AminM"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643694053,"creation_date":1643694053,"answer_id":70936010,"question_id":70935508,"body_markdown":"This generally happens when your code has access to the class when you compile but not when you run. In many IDEs it&#39;s due to where you are placing the classes or how you are deploying the code.\r\nUnsatisfiedLinkError refers specifically to a DLL (or Lib in Linux) that it isn&#39;t finding at runtime. Does your running code have access to the dynamically linked library? (obviously not, find out why)","title":"Open CV java.lang.UnsatisfiedLinkError","body":"<p>This generally happens when your code has access to the class when you compile but not when you run. In many IDEs it's due to where you are placing the classes or how you are deploying the code.\nUnsatisfiedLinkError refers specifically to a DLL (or Lib in Linux) that it isn't finding at runtime. Does your running code have access to the dynamically linked library? (obviously not, find out why)</p>\n"},{"tags":[],"owner":{"account_id":4931726,"reputation":1203,"user_id":3971290,"accept_rate":44,"display_name":"Nicolas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643716495,"creation_date":1643716495,"answer_id":70940157,"question_id":70935508,"body_markdown":"Hey guys thank you for the response. I try (at least I think) all the solutions I found including the onces that are in the link you mentioned @zoranjeremic.\r\n\r\nI am working with a Java project that has inside one class &quot;JDicomImageLoader&quot; that is the one who needs the opencv library. Inside of it I have a method call setup:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nNow I am using a `System.load` with absolute path but I also try doing `System.loadLibrary` with the respective &quot;java.library.path&quot;.\r\n\r\nThen I am compile this Java project (sbt compile) and publish locally (sbt publishlocal) to use in my Scala project. \r\n\r\n  [1]: https://i.stack.imgur.com/Q2KOv.png","title":"Open CV java.lang.UnsatisfiedLinkError","body":"<p>Hey guys thank you for the response. I try (at least I think) all the solutions I found including the onces that are in the link you mentioned @zoranjeremic.</p>\n<p>I am working with a Java project that has inside one class &quot;JDicomImageLoader&quot; that is the one who needs the opencv library. Inside of it I have a method call setup:</p>\n<p><a href=\"https://i.stack.imgur.com/Q2KOv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Q2KOv.png\" alt=\"enter image description here\" /></a></p>\n<p>Now I am using a <code>System.load</code> with absolute path but I also try doing <code>System.loadLibrary</code> with the respective &quot;java.library.path&quot;.</p>\n<p>Then I am compile this Java project (sbt compile) and publish locally (sbt publishlocal) to use in my Scala project.</p>\n"}],"owner":{"account_id":4931726,"reputation":1203,"user_id":3971290,"accept_rate":44,"display_name":"Nicolas"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1643716495,"creation_date":1643688991,"question_id":70935508,"body_markdown":"Hey guys I am working on a Scala/Java project and we are using OpenCv to image processing. I have been stuck for several days trying to import the library, I went through different errors but right now the one I am having in the last attempts is \r\n\r\n    Uncaught error from thread [application-akka.actor.default-dispatcher-9]: org.opencv.imgcodecs.Imgcodecs.dicomJpgMatRead_0(JII)J, shutting down JVM since &#39;akka.jvm-exit-on-fatal-error&#39; is enabled for ActorSystem[application\r\n    java.lang.UnsatisfiedLinkError: org.opencv.imgcodecs.Imgcodecs.dicomJpgMatRead_0(JII)J\r\n\r\nPlease, I would be very grateful if someone could help me. I don&#39;t know what else to try.\r\n\r\nThank you in advance!","title":"Open CV java.lang.UnsatisfiedLinkError","body":"<p>Hey guys I am working on a Scala/Java project and we are using OpenCv to image processing. I have been stuck for several days trying to import the library, I went through different errors but right now the one I am having in the last attempts is</p>\n<pre><code>Uncaught error from thread [application-akka.actor.default-dispatcher-9]: org.opencv.imgcodecs.Imgcodecs.dicomJpgMatRead_0(JII)J, shutting down JVM since 'akka.jvm-exit-on-fatal-error' is enabled for ActorSystem[application\njava.lang.UnsatisfiedLinkError: org.opencv.imgcodecs.Imgcodecs.dicomJpgMatRead_0(JII)J\n</code></pre>\n<p>Please, I would be very grateful if someone could help me. I don't know what else to try.</p>\n<p>Thank you in advance!</p>\n"},{"tags":["java","concurrency","thread-safety","datagram"],"answers":[{"tags":[],"owner":{"account_id":2054029,"reputation":12714,"user_id":1832301,"display_name":"BraveNewCurrency"},"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1368283364,"creation_date":1368283364,"answer_id":16498270,"question_id":16498223,"body_markdown":"Yes. This is only a thin layer on the native OS, which is threadsafe.\r\n\r\nSee here [http://www.velocityreviews.com/forums/t150685-is-datagramsocket-thread-safe.html](http://www.velocityreviews.com/forums/t150685-is-datagramsocket-thread-safe.html)","title":"is DatagramSocket.send thread safe?","body":"<p>Yes. This is only a thin layer on the native OS, which is threadsafe.</p>\n\n<p>See here <a href=\"http://www.velocityreviews.com/forums/t150685-is-datagramsocket-thread-safe.html\">http://www.velocityreviews.com/forums/t150685-is-datagramsocket-thread-safe.html</a></p>\n"},{"tags":[],"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"down_vote_count":2,"up_vote_count":11,"is_accepted":true,"score":9,"last_activity_date":1368322023,"creation_date":1368319859,"answer_id":16503135,"question_id":16498223,"body_markdown":"UDP guarantees that datagrams arrive intact (if at all). In other words there can be no interleaving even if there is multithreading at the sender. That&#39;s all you need. You don&#39;t actually need thread safety. However the C send() system call is thread safe, like all system calls, because they are atomic.","title":"is DatagramSocket.send thread safe?","body":"<p>UDP guarantees that datagrams arrive intact (if at all). In other words there can be no interleaving even if there is multithreading at the sender. That's all you need. You don't actually need thread safety. However the C send() system call is thread safe, like all system calls, because they are atomic.</p>\n"},{"tags":[],"owner":{"account_id":7365669,"reputation":5074,"user_id":5607457,"accept_rate":48,"display_name":"Greelings"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643716178,"creation_date":1631717995,"answer_id":69195511,"question_id":16498223,"body_markdown":"The answer is yes, the layer on the native operating system is thread safe.\r\n\r\n**BUT**, because network throughput is limited, if you send more packets than the network can handle, some packets will be dropped. ","title":"is DatagramSocket.send thread safe?","body":"<p>The answer is yes, the layer on the native operating system is thread safe.</p>\n<p><strong>BUT</strong>, because network throughput is limited, if you send more packets than the network can handle, some packets will be dropped.</p>\n"}],"owner":{"account_id":229996,"reputation":2842,"user_id":493329,"accept_rate":60,"display_name":"Shafiul"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4906,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":16503135,"answer_count":3,"score":15,"last_activity_date":1643716178,"creation_date":1368283101,"question_id":16498223,"body_markdown":"I&#39;m planning to use an instance of `DatagramSocket` and call its [send][1] method from different threads... to send UDP packets to different clients. Is the method thread safe i.e. calling this method from different threads will not create any trouble/inconsistency/race condition?\r\n\r\nThanks!\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/net/DatagramSocket.html#send%28java.net.DatagramPacket%29","title":"is DatagramSocket.send thread safe?","body":"<p>I'm planning to use an instance of <code>DatagramSocket</code> and call its <a href=\"http://docs.oracle.com/javase/7/docs/api/java/net/DatagramSocket.html#send%28java.net.DatagramPacket%29\">send</a> method from different threads... to send UDP packets to different clients. Is the method thread safe i.e. calling this method from different threads will not create any trouble/inconsistency/race condition?</p>\n\n<p>Thanks!</p>\n"},{"tags":["java","spring-boot","log4j2","waffle"],"comments":[{"owner":{"account_id":6586440,"reputation":656,"user_id":5089072,"display_name":"raj240"},"score":0,"creation_date":1643716278,"post_id":70940062,"comment_id":125408447,"body_markdown":"I think the request contains an header parameter &quot;Negotiate&quot; which your auth server is not expecting.","body":"I think the request contains an header parameter &quot;Negotiate&quot; which your auth server is not expecting."},{"owner":{"account_id":4508222,"reputation":31,"user_id":3665068,"display_name":"Suvo"},"score":0,"creation_date":1643716919,"post_id":70940062,"comment_id":125408674,"body_markdown":"But this log is being generated by the Waffle JAR that is authenticating. The error is not from the auth server.","body":"But this log is being generated by the Waffle JAR that is authenticating. The error is not from the auth server."},{"owner":{"account_id":6586440,"reputation":656,"user_id":5089072,"display_name":"raj240"},"score":0,"creation_date":1643717734,"post_id":70940062,"comment_id":125408948,"body_markdown":"So can you check the Waffle API regarding what it is expecting to contain in the header or if it is possible to configure or override the logs","body":"So can you check the Waffle API regarding what it is expecting to contain in the header or if it is possible to configure or override the logs"},{"owner":{"account_id":4508222,"reputation":31,"user_id":3665068,"display_name":"Suvo"},"score":0,"creation_date":1643722025,"post_id":70940062,"comment_id":125410628,"body_markdown":"Yes, we have checked but unable to find a workable solution or understand what is to be done.","body":"Yes, we have checked but unable to find a workable solution or understand what is to be done."}],"owner":{"account_id":4508222,"reputation":31,"user_id":3665068,"display_name":"Suvo"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":438,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643716118,"creation_date":1643716118,"question_id":70940062,"body_markdown":"Our application uses Waffle SpringBoot starter to identify the Active Directory user for user authentication of our application. However, everytime a user logs in, there is an error logged though it does not prevent authentication. This has resulted in ballooning of the log file very soon to 100s of MBs. The error I am getting is as follows\r\n\r\n    05-November 00:46:53 ERROR - Servlet.service() for servlet [dispatcherServlet] in context with path [/burganPMS] threw exception \r\n    java.lang.RuntimeException: Invalid Authorization header: Negotiate\r\n    \tat waffle.util.AuthorizationHeader.getSecurityPackage(AuthorizationHeader.java:94)\r\n    \tat waffle.spring.NegotiateSecurityFilter.doFilter(NegotiateSecurityFilter.java:104)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n    \tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n    \tat org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:92)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n    \tat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:92)\r\n    \tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:77)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n    \tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)\r\n    \r\n    Nov 05, 2021 10:13:13 PM org.apache.catalina.core.StandardHostValve custom\r\n    SEVERE: Exception Processing ErrorPage[errorCode=500, location=/custom_error_page.jsp]\r\n    java.lang.RuntimeException: Invalid Authorization header: Negotiate\r\n    \tat waffle.util.AuthorizationHeader.getSecurityPackage(AuthorizationHeader.java:94)\r\n    \tat waffle.spring.NegotiateSecurityFilter.doFilter(NegotiateSecurityFilter.java:104)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n    \tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:103)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:103)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n    \tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:103)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n    \tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)\r\n    \tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)\r\n    \tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)\r\n    \tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n    \tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:103)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:103)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n    \tat org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:713)\r\n    \tat org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:464)\r\n    \tat org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:387)\r\n    \tat org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:315)\r\n    \tat org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:394)\r\n    \tat org.apache.catalina.core.StandardHostValve.status(StandardHostValve.java:253)\r\n    \tat org.apache.catalina.core.StandardHostValve.throwable(StandardHostValve.java:348)\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:173)\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\r\n    \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:615)\r\n    \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n    \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:818)\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1627)\r\n    \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    \tat java.lang.Thread.run(Thread.java:748)\r\n\r\nI have tried to filter this error from being printed in Log4J2 by using RegexFilter on  `waffle.util.*` but that has also not worked. \r\n\r\nI need help to figure\r\n1) If this error is indicative of any wrong configuration?\r\n2) If not, how to turn off printing this error in log files using Log4J2?\r\n\r\n","title":"Waffle SpringBoot error logging - Invalid Authorization header: Negotiate","body":"<p>Our application uses Waffle SpringBoot starter to identify the Active Directory user for user authentication of our application. However, everytime a user logs in, there is an error logged though it does not prevent authentication. This has resulted in ballooning of the log file very soon to 100s of MBs. The error I am getting is as follows</p>\n<pre><code>05-November 00:46:53 ERROR - Servlet.service() for servlet [dispatcherServlet] in context with path [/burganPMS] threw exception \njava.lang.RuntimeException: Invalid Authorization header: Negotiate\n    at waffle.util.AuthorizationHeader.getSecurityPackage(AuthorizationHeader.java:94)\n    at waffle.spring.NegotiateSecurityFilter.doFilter(NegotiateSecurityFilter.java:104)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:92)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:92)\n    at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:77)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)\n\nNov 05, 2021 10:13:13 PM org.apache.catalina.core.StandardHostValve custom\nSEVERE: Exception Processing ErrorPage[errorCode=500, location=/custom_error_page.jsp]\njava.lang.RuntimeException: Invalid Authorization header: Negotiate\n    at waffle.util.AuthorizationHeader.getSecurityPackage(AuthorizationHeader.java:94)\n    at waffle.spring.NegotiateSecurityFilter.doFilter(NegotiateSecurityFilter.java:104)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:103)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:103)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:103)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:103)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:103)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:713)\n    at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:464)\n    at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:387)\n    at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:315)\n    at org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:394)\n    at org.apache.catalina.core.StandardHostValve.status(StandardHostValve.java:253)\n    at org.apache.catalina.core.StandardHostValve.throwable(StandardHostValve.java:348)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:173)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:615)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:818)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1627)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.lang.Thread.run(Thread.java:748)\n</code></pre>\n<p>I have tried to filter this error from being printed in Log4J2 by using RegexFilter on  <code>waffle.util.*</code> but that has also not worked.</p>\n<p>I need help to figure</p>\n<ol>\n<li>If this error is indicative of any wrong configuration?</li>\n<li>If not, how to turn off printing this error in log files using Log4J2?</li>\n</ol>\n"},{"tags":["java","android","android-studio","android-webview"],"answers":[{"tags":[],"owner":{"account_id":13034459,"reputation":1,"user_id":14175407,"display_name":"David Llop Roig"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643705443,"creation_date":1643705443,"answer_id":70937702,"question_id":70814846,"body_markdown":"So, somehow, I&#39;ve found a tutorial I hadn&#39;t seen before, and it seems to work just perfect. Here you have the link &lt;https://www.c-sharpcorner.com/article/create-web-browser-android-application-using-android-studio/&gt;\r\n\r\nIMPORTANT: It uses an old version of SwipeLayoutRefresh, take care of using `androidx.swiperefreshlayout.widget.SwipeRefreshLayout` insted of `android.support.v4.widget.SwipeRefreshLayout` as seen in the tutorial.\r\n","title":"Why Android Webview website menu doesn&#39;t load?","body":"<p>So, somehow, I've found a tutorial I hadn't seen before, and it seems to work just perfect. Here you have the link <a href=\"https://www.c-sharpcorner.com/article/create-web-browser-android-application-using-android-studio/\" rel=\"nofollow noreferrer\">https://www.c-sharpcorner.com/article/create-web-browser-android-application-using-android-studio/</a></p>\n<p>IMPORTANT: It uses an old version of SwipeLayoutRefresh, take care of using <code>androidx.swiperefreshlayout.widget.SwipeRefreshLayout</code> insted of <code>android.support.v4.widget.SwipeRefreshLayout</code> as seen in the tutorial.</p>\n"}],"owner":{"account_id":13034459,"reputation":1,"user_id":14175407,"display_name":"David Llop Roig"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643716083,"creation_date":1642869154,"question_id":70814846,"body_markdown":"I&#39;m working on an app that is mainly a WebView, as the main function of it is to display a website plus some other options I&#39;ve yet to add.\r\n\r\nThe problem comes with the WebView, as it doesn&#39;t show the website menus. I&#39;ve seen it&#39;s a common issue, and I&#39;ve tried all the answers I&#39;ve found, but none of them seems to work.\r\n\r\nI&#39;ve tried to run it in both api 30 and 26, it happens in both of them\r\n\r\nHere you have the code for the activity:\r\n\r\n```.java\r\npackage com.example.notificationtest;\r\nimport androidx.appcompat.app.ActionBar;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        WebView webView=(WebView) findViewById(R.id.webView);\r\n        webView.setWebChromeClient(new WebChromeClient());\r\n        webView.setWebViewClient(new WebViewClient());\r\n        webView.clearCache(true);\r\n        webView.clearHistory();\r\n        webView.getSettings().setAllowFileAccess(true);\r\n        webView.getSettings().setAllowFileAccessFromFileURLs(true);\r\n        webView.getSettings().setDomStorageEnabled(true);\r\n        webView.getSettings().setJavaScriptEnabled(true);\r\n        webView.getSettings().setAllowFileAccess(true);\r\n        webView.getSettings().setAllowContentAccess(true);\r\n        webView.getSettings().setJavaScriptCanOpenWindowsAutomatically(true);\r\n        webView.getSettings().setUseWideViewPort(true);//setting wide view\r\n        webView.getSettings().setLoadWithOverviewMode(true);//setting default zoomed out view\r\n        webView.setInitialScale(1);\r\n        webView.getSettings().setBuiltInZoomControls(true);//setting zoom controls\r\n        //webView.getSettings().setBuiltInZoomControls(true);\r\n        webView.loadUrl(&quot;https://desdelsofa.cat&quot;);\r\n        ActionBar actionBar = getSupportActionBar();\r\n        actionBar.setDisplayShowHomeEnabled(true);\r\n        actionBar.setIcon(R.mipmap.ic_launcher);\r\n    }\r\n}\r\n```\r\nIts .xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n    &lt;WebView\r\n        android:id=&quot;@+id/webView&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginStart=&quot;16dp&quot;\r\n        android:layout_marginTop=&quot;16dp&quot;\r\n        android:layout_marginEnd=&quot;16dp&quot;\r\n        android:layout_marginBottom=&quot;16dp&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\nJust to add some more fun, I&#39;ve been trying other sites, and somehow, it seems to render the side menu. I guess it&#39;s because of the website code, but when using the phone web navigation, it works fine.\r\n\r\n**This is how it should look**\r\n\r\n[![This is how it should look][1]][1]\r\n\r\n**And this is how it looks**\r\n\r\n[![And this is how it looks][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/MSdlK.png\r\n  [2]: https://i.stack.imgur.com/vEAmH.png","title":"Why Android Webview website menu doesn&#39;t load?","body":"<p>I'm working on an app that is mainly a WebView, as the main function of it is to display a website plus some other options I've yet to add.</p>\n<p>The problem comes with the WebView, as it doesn't show the website menus. I've seen it's a common issue, and I've tried all the answers I've found, but none of them seems to work.</p>\n<p>I've tried to run it in both api 30 and 26, it happens in both of them</p>\n<p>Here you have the code for the activity:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.notificationtest;\nimport androidx.appcompat.app.ActionBar;\nimport androidx.appcompat.app.AppCompatActivity;\npublic class MainActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        WebView webView=(WebView) findViewById(R.id.webView);\n        webView.setWebChromeClient(new WebChromeClient());\n        webView.setWebViewClient(new WebViewClient());\n        webView.clearCache(true);\n        webView.clearHistory();\n        webView.getSettings().setAllowFileAccess(true);\n        webView.getSettings().setAllowFileAccessFromFileURLs(true);\n        webView.getSettings().setDomStorageEnabled(true);\n        webView.getSettings().setJavaScriptEnabled(true);\n        webView.getSettings().setAllowFileAccess(true);\n        webView.getSettings().setAllowContentAccess(true);\n        webView.getSettings().setJavaScriptCanOpenWindowsAutomatically(true);\n        webView.getSettings().setUseWideViewPort(true);//setting wide view\n        webView.getSettings().setLoadWithOverviewMode(true);//setting default zoomed out view\n        webView.setInitialScale(1);\n        webView.getSettings().setBuiltInZoomControls(true);//setting zoom controls\n        //webView.getSettings().setBuiltInZoomControls(true);\n        webView.loadUrl(&quot;https://desdelsofa.cat&quot;);\n        ActionBar actionBar = getSupportActionBar();\n        actionBar.setDisplayShowHomeEnabled(true);\n        actionBar.setIcon(R.mipmap.ic_launcher);\n    }\n}\n</code></pre>\n<p>Its .xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n    &lt;WebView\n        android:id=&quot;@+id/webView&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginStart=&quot;16dp&quot;\n        android:layout_marginTop=&quot;16dp&quot;\n        android:layout_marginEnd=&quot;16dp&quot;\n        android:layout_marginBottom=&quot;16dp&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>Just to add some more fun, I've been trying other sites, and somehow, it seems to render the side menu. I guess it's because of the website code, but when using the phone web navigation, it works fine.</p>\n<p><strong>This is how it should look</strong></p>\n<p><a href=\"https://i.stack.imgur.com/MSdlK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MSdlK.png\" alt=\"This is how it should look\" /></a></p>\n<p><strong>And this is how it looks</strong></p>\n<p><a href=\"https://i.stack.imgur.com/vEAmH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vEAmH.png\" alt=\"And this is how it looks\" /></a></p>\n"},{"tags":["java","operator-keyword","ternary"],"comments":[{"owner":{"account_id":171254,"reputation":16934,"user_id":398546,"accept_rate":74,"display_name":"Aaron Anodide"},"score":0,"creation_date":1297629089,"post_id":4986654,"comment_id":5570272,"body_markdown":"try it but instead of the last test, just put &quot;:z&quot;","body":"try it but instead of the last test, just put &quot;:z&quot;"},{"owner":{"account_id":17898,"reputation":80772,"user_id":40516,"accept_rate":89,"display_name":"Juliet"},"score":0,"creation_date":1297629171,"post_id":4986654,"comment_id":5570286,"body_markdown":"At least in my experienced, just because you *can* write chained ternary statements, doesn&#39;t mean you *should*. Also, what you have so far is very complicated, you should only need to compare the variables to one another once: `int smallest = min(min(x, y), z)`.","body":"At least in my experienced, just because you <i>can</i> write chained ternary statements, doesn&#39;t mean you <i>should</i>. Also, what you have so far is very complicated, you should only need to compare the variables to one another once: <code>int smallest = min(min(x, y), z)</code>."},{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1297629263,"post_id":4986654,"comment_id":5570295,"body_markdown":"Math.min uses the ternary operator. the simplest is to staticly import this method and write `smalledNum = min(x, min(y, z))`","body":"Math.min uses the ternary operator. the simplest is to staticly import this method and write <code>smalledNum = min(x, min(y, z))</code>"},{"owner":{"account_id":1888690,"reputation":3005,"user_id":1707353,"accept_rate":91,"display_name":"Jeff Holt"},"score":0,"creation_date":1518555225,"post_id":4986654,"comment_id":84552582,"body_markdown":"Consider modifying the assignment for the likely event when the professor makes &quot;three&quot; a variable. This will likely get you extra credit.","body":"Consider modifying the assignment for the likely event when the professor makes &quot;three&quot; a variable. This will likely get you extra credit."}],"answers":[{"tags":[],"owner":{"account_id":12478,"reputation":23673,"user_id":24582,"display_name":"extraneon"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1297629136,"creation_date":1297629136,"answer_id":4986692,"question_id":4986654,"body_markdown":"The last part: `(z&lt;y &amp;&amp; z&lt;x) ? z` is missing a &#39;:&#39; :\r\n\r\n    (z&lt;y &amp;&amp; z&lt;x) ? z : some_value;","title":"Multiple conditions in ternary operators","body":"<p>The last part: <code>(z&lt;y &amp;&amp; z&lt;x) ? z</code> is missing a ':' :</p>\n\n<pre><code>(z&lt;y &amp;&amp; z&lt;x) ? z : some_value;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":68503,"reputation":3979,"user_id":199822,"accept_rate":70,"display_name":"Markus Johnsson"},"down_vote_count":0,"up_vote_count":36,"is_accepted":false,"score":36,"last_activity_date":1297629160,"creation_date":1297629160,"answer_id":4986698,"question_id":4986654,"body_markdown":"Try\r\n\r\n    int min = x &lt; y ? (x &lt; z ? x : z) : (y &lt; z ? y : z);\r\n\r\nYou can also remove the parenthesis:\r\n \r\n    int min = x &lt; y ? x &lt; z ? x : z : y &lt; z ? y : z;\r\n\r\n                      \r\n              ","title":"Multiple conditions in ternary operators","body":"<p>Try</p>\n\n<pre><code>int min = x &lt; y ? (x &lt; z ? x : z) : (y &lt; z ? y : z);\n</code></pre>\n\n<p>You can also remove the parenthesis:</p>\n\n<pre><code>int min = x &lt; y ? x &lt; z ? x : z : y &lt; z ? y : z;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24377,"reputation":818003,"user_id":61974,"display_name":"Mark Byers"},"down_vote_count":1,"up_vote_count":15,"is_accepted":false,"score":14,"last_activity_date":1297629168,"creation_date":1297629168,"answer_id":4986700,"question_id":4986654,"body_markdown":"Since this is homework I&#39;m not just going to give you the answer, but instead an algorithm so that you can work it out yourself.\r\n\r\nFirst work out how to write min(x, y) using a single ternary operator.\r\n\r\nOnce you have that, change the following code for min(x, y, z) to use a ternary operator then substitute in the code for min(x, y) that you worked out from the previous step.\r\n\r\n    int min(x, y, z) {\r\n        if (x &lt;= y) {\r\n            return min(x, z);\r\n        } else {\r\n            return min(y, z);\r\n        }\r\n    }","title":"Multiple conditions in ternary operators","body":"<p>Since this is homework I'm not just going to give you the answer, but instead an algorithm so that you can work it out yourself.</p>\n\n<p>First work out how to write min(x, y) using a single ternary operator.</p>\n\n<p>Once you have that, change the following code for min(x, y, z) to use a ternary operator then substitute in the code for min(x, y) that you worked out from the previous step.</p>\n\n<pre><code>int min(x, y, z) {\n    if (x &lt;= y) {\n        return min(x, z);\n    } else {\n        return min(y, z);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":130645,"reputation":81695,"user_id":330057,"accept_rate":77,"display_name":"corsiKa"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1297631618,"creation_date":1297629269,"answer_id":4986713,"question_id":4986654,"body_markdown":"You&#39;re testing for z, when you really don&#39;t need to. Your ternary operator must be of form cond ? ifTrue : ifFalse;\r\n\r\nso if you have multiple conditions, you have this:\r\n\r\ncond1? ifTrue1 : cond2? if True2 : ifFalse2;\r\n\r\nIf you understand this, don&#39;t look below. If you still need help, look below.\r\n\r\nI also included a version that doesn&#39;t nest them that is clearer (assuming you don&#39;t need to have them nested. I sure would hope your assignment doesn&#39;t require you to nest them because that&#39;s pretty ugly!)\r\n\r\n\r\n.\r\n\r\n\r\n.\r\n\r\n\r\nHere&#39;s what I come up with:\r\n\r\n    class QuestionNine\r\n    {\r\n        public static void main(String args[])\r\n        {\r\n            smallest(1,2,3);\r\n            smallest(4,3,2);\r\n            smallest(1,1,1);\r\n            smallest(5,4,5);\r\n            smallest(0,0,1);\r\n        }\r\n    \r\n        public static void smallest(int x, int y, int z) {\r\n            // bugfix, thanks Mark! \r\n            //int smallestNum = (x&lt;y &amp;&amp; x&lt;z) ? x : (y&lt;x &amp;&amp; y&lt;z) ? y :  z;\r\n            int smallestNum = (x&lt;=y &amp;&amp; x&lt;=z) ? x : (y&lt;=x &amp;&amp; y&lt;=z) ? y :  z;\r\n            System.out.println(smallestNum + &quot; is the smallest of the three numbers.&quot;);\r\n        }\r\n\r\n        public static void smallest2(int x, int y, int z) {\r\n           int smallest = x &lt; y ? x : y; // if they are equal, it doesn&#39;t matter which\r\n           smallest = z &lt; smallest ? z : smallest;\r\n           System.out.println(smallest + &quot; is the smallest of the three numbers.&quot;);\r\n        }\r\n    }\r\n\r\n\r\n","title":"Multiple conditions in ternary operators","body":"<p>You're testing for z, when you really don't need to. Your ternary operator must be of form cond ? ifTrue : ifFalse;</p>\n\n<p>so if you have multiple conditions, you have this:</p>\n\n<p>cond1? ifTrue1 : cond2? if True2 : ifFalse2;</p>\n\n<p>If you understand this, don't look below. If you still need help, look below.</p>\n\n<p>I also included a version that doesn't nest them that is clearer (assuming you don't need to have them nested. I sure would hope your assignment doesn't require you to nest them because that's pretty ugly!)</p>\n\n<p>.</p>\n\n<p>.</p>\n\n<p>Here's what I come up with:</p>\n\n<pre><code>class QuestionNine\n{\n    public static void main(String args[])\n    {\n        smallest(1,2,3);\n        smallest(4,3,2);\n        smallest(1,1,1);\n        smallest(5,4,5);\n        smallest(0,0,1);\n    }\n\n    public static void smallest(int x, int y, int z) {\n        // bugfix, thanks Mark! \n        //int smallestNum = (x&lt;y &amp;&amp; x&lt;z) ? x : (y&lt;x &amp;&amp; y&lt;z) ? y :  z;\n        int smallestNum = (x&lt;=y &amp;&amp; x&lt;=z) ? x : (y&lt;=x &amp;&amp; y&lt;=z) ? y :  z;\n        System.out.println(smallestNum + \" is the smallest of the three numbers.\");\n    }\n\n    public static void smallest2(int x, int y, int z) {\n       int smallest = x &lt; y ? x : y; // if they are equal, it doesn't matter which\n       smallest = z &lt; smallest ? z : smallest;\n       System.out.println(smallest + \" is the smallest of the three numbers.\");\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":286378,"reputation":1266,"user_id":585602,"accept_rate":80,"display_name":"Marcin Michalski"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1297629370,"creation_date":1297629370,"answer_id":4986718,"question_id":4986654,"body_markdown":"    int min = (x&lt;y)?((x&lt;z)?x:z):((y&lt;z)?y:z);","title":"Multiple conditions in ternary operators","body":"<pre><code>int min = (x&lt;y)?((x&lt;z)?x:z):((y&lt;z)?y:z);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":279561,"reputation":26273,"user_id":574799,"accept_rate":74,"display_name":"lukastymo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1297640999,"creation_date":1297640999,"answer_id":4987726,"question_id":4986654,"body_markdown":"\tpublic static int min(int x, int y, int z) {\r\n\t\treturn x&lt;y?Math.min(x, z):Math.min(y, z);\t\t\t\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tint smallestNum = min(10, 12, 15);\r\n\t\tSystem.out.println(smallestNum);\r\n\t}\r\n\r\n\r\n","title":"Multiple conditions in ternary operators","body":"<pre><code>public static int min(int x, int y, int z) {\n    return x&lt;y?Math.min(x, z):Math.min(y, z);           \n}\n\npublic static void main(String[] args) {\n    int smallestNum = min(10, 12, 15);\n    System.out.println(smallestNum);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1177483,"reputation":2233,"user_id":1153120,"accept_rate":67,"display_name":"muthukumar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1335165334,"creation_date":1335150853,"answer_id":10274384,"question_id":4986654,"body_markdown":"My solution:\r\n\r\n    public static void main(String args[])\r\n    {\r\n        int x = 1, y = 2, z = 3;\r\n        int smallestNum = (x &lt; y &amp;&amp; x &lt; z) ? x :\r\n            (y &lt; x &amp;&amp; y &lt; z) ? y :\r\n            (z &lt; y &amp;&amp; z &lt; x) ? z:y;\r\n        System.out.println(smallestNum + &quot; is the smallest of the three numbers.&quot;);\r\n    }","title":"Multiple conditions in ternary operators","body":"<p>My solution:</p>\n\n<pre><code>public static void main(String args[])\n{\n    int x = 1, y = 2, z = 3;\n    int smallestNum = (x &lt; y &amp;&amp; x &lt; z) ? x :\n        (y &lt; x &amp;&amp; y &lt; z) ? y :\n        (z &lt; y &amp;&amp; z &lt; x) ? z:y;\n    System.out.println(smallestNum + \" is the smallest of the three numbers.\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":257480,"reputation":5081,"user_id":538921,"accept_rate":91,"display_name":"Edward J Beckett"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1518554805,"creation_date":1351907893,"answer_id":13205262,"question_id":4986654,"body_markdown":"My contribution ... \r\n\r\n    \t\r\n\r\n    public static int getSmallestNumber( int x, int y, int z) {\r\n\r\n\t\t return x &lt; y &amp;&amp; x &lt; z ? x : y &lt; x &amp;&amp; y &lt; z ? y : z;\r\n\t}\r\n\r\n\tpublic static void main ( String ... args ) {\r\n\r\n\t    System.out.println( getSmallestNumber( 123, 234, 345 ) );\r\n\t}","title":"Multiple conditions in ternary operators","body":"<p>My contribution ... </p>\n\n<pre><code>public static int getSmallestNumber( int x, int y, int z) {\n\n     return x &lt; y &amp;&amp; x &lt; z ? x : y &lt; x &amp;&amp; y &lt; z ? y : z;\n}\n\npublic static void main ( String ... args ) {\n\n    System.out.println( getSmallestNumber( 123, 234, 345 ) );\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4064510,"reputation":1,"user_id":3339970,"display_name":"teena"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1393052473,"creation_date":1393052473,"answer_id":21951011,"question_id":4986654,"body_markdown":"best way to do this is to make an example using if and else statement and then apply the ternary operators on it\r\n **(q&lt;p&amp;&amp;q&lt;r)?q:(r&lt;p&amp;&amp;r&lt;q)?r:p)**\r\n","title":"Multiple conditions in ternary operators","body":"<p>best way to do this is to make an example using if and else statement and then apply the ternary operators on it\n (q</p>\n"},{"tags":[],"owner":{"account_id":6492159,"reputation":21,"user_id":5025892,"display_name":"Marek"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1434661860,"creation_date":1434661184,"answer_id":30925712,"question_id":4986654,"body_markdown":"I know it&#39;s late. Just for information this also works:\r\n\r\n    int smallestNum = (x&lt;y ? x : (x=y)) &lt; z ? x : z\r\n\r\n","title":"Multiple conditions in ternary operators","body":"<p>I know it's late. Just for information this also works:</p>\n\n<pre><code>int smallestNum = (x&lt;y ? x : (x=y)) &lt; z ? x : z\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2309337,"reputation":3776,"user_id":2027839,"accept_rate":71,"display_name":"Mike Warren"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1517436276,"creation_date":1517435536,"answer_id":48552049,"question_id":4986654,"body_markdown":"This answer is coming in seven years late, so I&#39;ll just give you the code:\r\n\r\n    int smallestNumber = (x &gt; y) ? \r\n    \t\t\t((y &gt; z) ? z : y) : \r\n    \t\t\t((x &gt; z) ? z : x);\r\n\r\nThe indentation should explain the code, which is simply a ternary that evaluates other ternaries on the initial condition `x &gt; y`; /* the first ternary gets evaluated if that condition is true, else the second one gets evaluated. */","title":"Multiple conditions in ternary operators","body":"<p>This answer is coming in seven years late, so I'll just give you the code:</p>\n\n<pre><code>int smallestNumber = (x &gt; y) ? \n            ((y &gt; z) ? z : y) : \n            ((x &gt; z) ? z : x);\n</code></pre>\n\n<p>The indentation should explain the code, which is simply a ternary that evaluates other ternaries on the initial condition <code>x &gt; y</code>; /* the first ternary gets evaluated if that condition is true, else the second one gets evaluated. */</p>\n"},{"tags":[],"owner":{"account_id":19868456,"reputation":1,"user_id":14555175,"display_name":"Mm Mmm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1604163673,"creation_date":1604163673,"answer_id":64624319,"question_id":4986654,"body_markdown":"you missed the value after z var\r\n smallestNum = (x&lt;y &amp;&amp; x&lt;z) ? x : (y&lt;x &amp;&amp; y&lt;z) ? y : (z&lt;y &amp;&amp; z&lt;x) ? z:0;\r\nTry this, it works ","title":"Multiple conditions in ternary operators","body":"<p>you missed the value after z var\nsmallestNum = (x&lt;y &amp;&amp; x&lt;z) ? x : (y&lt;x &amp;&amp; y&lt;z) ? y : (z&lt;y &amp;&amp; z&lt;x) ? z:0;\nTry this, it works</p>\n"},{"tags":[],"owner":{"account_id":22322766,"reputation":9,"user_id":16545189,"display_name":"News24 tak"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1627467954,"creation_date":1627467954,"answer_id":68558656,"question_id":4986654,"body_markdown":"\tpublic static void main(String args[]) {\r\n\t\tScanner sc=new Scanner(System.in);\r\n\t\tSystem.out.println(&quot;enter the number and check heigest number of three number:-&quot;);\r\n\t\tint a=sc.nextInt();\r\n\t\tint b=sc.nextInt();\r\n\t\tint c=sc.nextInt();\r\n\t\tint max;\r\n\t\tmax=(a&gt;b&amp;&amp;a&gt;c)?a:(b&gt;a&amp;&amp;b&gt;c)?b:(c&gt;a&amp;&amp;c&gt;b)?c:(a==b&amp;&amp;b==c)?a:0;\r\n\t\t\r\n\t\tSystem.out.println(&quot;the heigest number is:&quot;+max);\r\n\t\t","title":"Multiple conditions in ternary operators","body":"<pre><code>public static void main(String args[]) {\n    Scanner sc=new Scanner(System.in);\n    System.out.println(&quot;enter the number and check heigest number of three number:-&quot;);\n    int a=sc.nextInt();\n    int b=sc.nextInt();\n    int c=sc.nextInt();\n    int max;\n    max=(a&gt;b&amp;&amp;a&gt;c)?a:(b&gt;a&amp;&amp;b&gt;c)?b:(c&gt;a&amp;&amp;c&gt;b)?c:(a==b&amp;&amp;b==c)?a:0;\n    \n    System.out.println(&quot;the heigest number is:&quot;+max);\n    \n</code></pre>\n"},{"tags":[],"owner":{"account_id":24120985,"reputation":1,"user_id":18090165,"display_name":"Sushant"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643715933,"creation_date":1643715933,"answer_id":70940016,"question_id":4986654,"body_markdown":"    public class questionNine{\r\n      public static void main(String args[]){\r\n        int x = 1, y = 2, z = 3;\r\n        int smallestNum =  (x&lt;y &amp;&amp; x&lt;z) ? x : ((y &lt; x &amp;&amp; y&lt;z) ? y : z);\r\n        System.out.println(smallestNum);\r\n      }\r\n    }","title":"Multiple conditions in ternary operators","body":"<pre><code>public class questionNine{\n  public static void main(String args[]){\n    int x = 1, y = 2, z = 3;\n    int smallestNum =  (x&lt;y &amp;&amp; x&lt;z) ? x : ((y &lt; x &amp;&amp; y&lt;z) ? y : z);\n    System.out.println(smallestNum);\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":710847,"reputation":229,"user_id":615409,"display_name":"Mike"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":127185,"favorite_count":0,"down_vote_count":1,"up_vote_count":23,"answer_count":14,"score":22,"last_activity_date":1643715933,"creation_date":1297628768,"question_id":4986654,"body_markdown":"First off, the question is &quot;Write a Java program to find the smallest of three numbers using ternary operators.&quot;\r\n\r\nHere&#39;s my code:\r\n\r\n\r\n    class questionNine\r\n    {\r\n    \tpublic static void main(String args[])\r\n    \t{\r\n    \t\tint x = 1, y = 2, z = 3;\r\n    \t\tint smallestNum;\r\n    \r\n    \t\tsmallestNum = (x&lt;y &amp;&amp; x&lt;z) ? x : (y&lt;x &amp;&amp; y&lt;z) ? y : (z&lt;y &amp;&amp; z&lt;x) ? z;\r\n    \t\tSystem.out.println(smallestNum + &quot; is the smallest of the three numbers.&quot;);\r\n    \t}\r\n    }\r\n\r\nI tried to use multiple conditions in the ternary operator but that doesn&#39;t work. I was absent a few days so I&#39;m not really sure what to do and my teacher&#39;s phone is off. Any help?","title":"Multiple conditions in ternary operators","body":"<p>First off, the question is \"Write a Java program to find the smallest of three numbers using ternary operators.\"</p>\n\n<p>Here's my code:</p>\n\n<pre><code>class questionNine\n{\n    public static void main(String args[])\n    {\n        int x = 1, y = 2, z = 3;\n        int smallestNum;\n\n        smallestNum = (x&lt;y &amp;&amp; x&lt;z) ? x : (y&lt;x &amp;&amp; y&lt;z) ? y : (z&lt;y &amp;&amp; z&lt;x) ? z;\n        System.out.println(smallestNum + \" is the smallest of the three numbers.\");\n    }\n}\n</code></pre>\n\n<p>I tried to use multiple conditions in the ternary operator but that doesn't work. I was absent a few days so I'm not really sure what to do and my teacher's phone is off. Any help?</p>\n"},{"tags":["java","stream","hashmap"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1643715012,"post_id":70939718,"comment_id":125408037,"body_markdown":"You cannot dynamically create local variables like `key2` and `key3`. You need a data structure for that such as a `List`.","body":"You cannot dynamically create local variables like <code>key2</code> and <code>key3</code>. You need a data structure for that such as a <code>List</code>."}],"answers":[{"tags":[],"owner":{"account_id":16372083,"reputation":2070,"user_id":11825162,"display_name":"IQbrod"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1643714652,"creation_date":1643714652,"answer_id":70939757,"question_id":70939718,"body_markdown":"You should use a List in value like \r\n```java\r\nMap&lt;UUID, List&lt;EmployeeDTO&gt;&gt; result\r\n```\r\nAnd then \r\n```java\r\nresult.get(KEY).add(VALUE);\r\n```\r\nYou are now able to have multiple values for a single key","title":"How to assign multiple value from HashMap to variables in Java?","body":"<p>You should use a List in value like</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;UUID, List&lt;EmployeeDTO&gt;&gt; result\n</code></pre>\n<p>And then</p>\n<pre class=\"lang-java prettyprint-override\"><code>result.get(KEY).add(VALUE);\n</code></pre>\n<p>You are now able to have multiple values for a single key</p>\n"},{"tags":[],"owner":{"account_id":3034610,"reputation":3931,"user_id":2572994,"accept_rate":83,"display_name":"Ivaylo Toskov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643715753,"creation_date":1643715206,"answer_id":70939871,"question_id":70939718,"body_markdown":"You cannot create variables without knowing the size of the map, so you need to store the keys and the values in two separate data structures, for example `List`:\r\n\r\n```\r\nList&lt;UUID&gt; keys = new ArrayList&lt;&gt;();\r\nList&lt;EmployeeDTO&gt; values = new ArrayList&lt;&gt;();\r\nmap.forEach((k, v) -&gt; {\r\n    keys.add(k);\r\n    values.add(k);\r\n});\r\n```\r\n\r\nIn case the size of the map is known, you can store the entries in a list and assign the corresponding keys and values:\r\n```\r\nList&lt;Map.Entry&lt;UUID, EmployeeDTO&gt;&gt; entriesList = new ArrayList&lt;&gt;(map.entrySet());\r\n\r\nUUID key1 = entriesList.get(0).getKey();\r\nEmployeeDTO value1 = entriesList.get(0).getValue();\r\n\r\nUUID key2 = entriesList.get(1).getKey();\r\nEmployeeDTO value2 = entriesList.get(1).getValue();\r\n\r\n// etc.\r\n```\r\nObviously you need to do that for each key/value. It is theoretically possible to use a loop and some nasty reflection on the object that holds the variables, but this will do way more harm than good.","title":"How to assign multiple value from HashMap to variables in Java?","body":"<p>You cannot create variables without knowing the size of the map, so you need to store the keys and the values in two separate data structures, for example <code>List</code>:</p>\n<pre><code>List&lt;UUID&gt; keys = new ArrayList&lt;&gt;();\nList&lt;EmployeeDTO&gt; values = new ArrayList&lt;&gt;();\nmap.forEach((k, v) -&gt; {\n    keys.add(k);\n    values.add(k);\n});\n</code></pre>\n<p>In case the size of the map is known, you can store the entries in a list and assign the corresponding keys and values:</p>\n<pre><code>List&lt;Map.Entry&lt;UUID, EmployeeDTO&gt;&gt; entriesList = new ArrayList&lt;&gt;(map.entrySet());\n\nUUID key1 = entriesList.get(0).getKey();\nEmployeeDTO value1 = entriesList.get(0).getValue();\n\nUUID key2 = entriesList.get(1).getKey();\nEmployeeDTO value2 = entriesList.get(1).getValue();\n\n// etc.\n</code></pre>\n<p>Obviously you need to do that for each key/value. It is theoretically possible to use a loop and some nasty reflection on the object that holds the variables, but this will do way more harm than good.</p>\n"},{"tags":[],"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643715310,"creation_date":1643715310,"answer_id":70939903,"question_id":70939718,"body_markdown":"You cannot dynamically create local variables like `key2` and `key3`. You need a data structure for that such as a `List`. An example:\r\n\r\n    List&lt;UUID&gt; uuids = new ArrayList&lt;&gt;(result.size());\r\n    List&lt;EmployeeDTO&gt; employees = new ArrayList&lt;&gt;(result.size());\r\n    result.forEach((k,v)-&gt;{\r\n        uuids.add(k);\r\n        employees.add(v);\r\n    });\r\n\r\nYou can then access them using `uuids.get(0)`, `uuids.get(1)` and so on, same for `employees.get(i)`.","title":"How to assign multiple value from HashMap to variables in Java?","body":"<p>You cannot dynamically create local variables like <code>key2</code> and <code>key3</code>. You need a data structure for that such as a <code>List</code>. An example:</p>\n<pre><code>List&lt;UUID&gt; uuids = new ArrayList&lt;&gt;(result.size());\nList&lt;EmployeeDTO&gt; employees = new ArrayList&lt;&gt;(result.size());\nresult.forEach((k,v)-&gt;{\n    uuids.add(k);\n    employees.add(v);\n});\n</code></pre>\n<p>You can then access them using <code>uuids.get(0)</code>, <code>uuids.get(1)</code> and so on, same for <code>employees.get(i)</code>.</p>\n"}],"owner":{"display_name":"user17888319"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":662,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70939871,"answer_count":3,"score":1,"last_activity_date":1643715753,"creation_date":1643714421,"question_id":70939718,"body_markdown":"I have a HashMap and assign key-value pairs to variable as shown below:\r\n\r\n```java\r\nMap&lt;UUID, EmployeeDTO&gt; result = employeeService.getEmployees(employeeUuids);\r\n\r\nUUID key = result.entrySet().iterator().next().getKey();\r\nEmployeeDTO value = result.entrySet().iterator().next().getValue(); \r\n```\r\n\r\nHowever, I am not sure about what is a proper way to assign multiple values from this HashMap. I thought a loop of course, but for naming variables, maybe there would be a better approaches. Any idea? \r\n\r\n```\r\nmap.forEach((k, v) -&gt; {\r\n    UUID key1 = k;\r\n    EmployeeDTO value1 = v;\r\n\r\n    //  what about the other values?\r\n    UUID key2 = k;\r\n    EmployeeDTO value2 = v;\r\n});\r\n```","title":"How to assign multiple value from HashMap to variables in Java?","body":"<p>I have a HashMap and assign key-value pairs to variable as shown below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;UUID, EmployeeDTO&gt; result = employeeService.getEmployees(employeeUuids);\n\nUUID key = result.entrySet().iterator().next().getKey();\nEmployeeDTO value = result.entrySet().iterator().next().getValue(); \n</code></pre>\n<p>However, I am not sure about what is a proper way to assign multiple values from this HashMap. I thought a loop of course, but for naming variables, maybe there would be a better approaches. Any idea?</p>\n<pre><code>map.forEach((k, v) -&gt; {\n    UUID key1 = k;\n    EmployeeDTO value1 = v;\n\n    //  what about the other values?\n    UUID key2 = k;\n    EmployeeDTO value2 = v;\n});\n</code></pre>\n"},{"tags":["java","variables","methods"],"comments":[{"owner":{"account_id":6091910,"reputation":2056,"user_id":4753904,"accept_rate":75,"display_name":"CoderNeji"},"score":2,"creation_date":1437739725,"post_id":31610174,"comment_id":51169902,"body_markdown":"Pass it as a parameter... See my code below...","body":"Pass it as a parameter... See my code below..."},{"owner":{"account_id":261142,"reputation":47118,"user_id":545127,"accept_rate":69,"display_name":"Raedwald"},"score":1,"creation_date":1437739972,"post_id":31610174,"comment_id":51170054,"body_markdown":"The Q&amp;A format of this web site is unsuitable for teaching this kind of conceptual basics. To properly explain how to do this would amount to a tutorial on what an argument is and what a method is.","body":"The Q&amp;A format of this web site is unsuitable for teaching this kind of conceptual basics. To properly explain how to do this would amount to a tutorial on what an argument is and what a method is."},{"owner":{"account_id":4829578,"reputation":4682,"user_id":3898076,"accept_rate":72,"display_name":"Naman Gala"},"score":0,"creation_date":1437740068,"post_id":31610174,"comment_id":51170113,"body_markdown":"This might be helpful https://docs.oracle.com/javase/tutorial/java/javaOO/arguments.html","body":"This might be helpful <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/arguments.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/java/javaOO/arguments.html</a>"},{"owner":{"account_id":2020478,"reputation":30439,"user_id":1806780,"accept_rate":0,"display_name":"Sami Kuhmonen"},"score":0,"creation_date":1437746742,"post_id":31610174,"comment_id":51174830,"body_markdown":"I&#39;m voting to close this question as off-topic because this is a basic programming thing taught in any tutorial, book or site.","body":"I&#39;m voting to close this question as off-topic because this is a basic programming thing taught in any tutorial, book or site."}],"answers":[{"tags":[],"owner":{"account_id":1250747,"reputation":12431,"user_id":1640490,"accept_rate":92,"display_name":"nano_nano"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1437739733,"creation_date":1437739733,"answer_id":31610195,"question_id":31610174,"body_markdown":"simply pass it as parameter:\r\n\r\n    public static void main(String args[])\r\n        {\r\n            Scanner input = new Scanner(System.in);\r\n             int n;\r\n    \r\n            System.out.println(&quot;Enter no. of stars&quot;);\r\n            n = input.nextInt();\r\n            Loop(n);\r\n    \r\n        }\r\n        public static void Loop (int count)\r\n        {\r\n            for (int counter = 1; counter &lt;= count; counter++)\r\n            {\r\n                System.out.println(&quot;*&quot;);\r\n            }\r\n        }","title":"Use Variable Which is in main method in Another Method","body":"<p>simply pass it as parameter:</p>\n\n<pre><code>public static void main(String args[])\n    {\n        Scanner input = new Scanner(System.in);\n         int n;\n\n        System.out.println(\"Enter no. of stars\");\n        n = input.nextInt();\n        Loop(n);\n\n    }\n    public static void Loop (int count)\n    {\n        for (int counter = 1; counter &lt;= count; counter++)\n        {\n            System.out.println(\"*\");\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6091910,"reputation":2056,"user_id":4753904,"accept_rate":75,"display_name":"CoderNeji"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1437740758,"creation_date":1437739767,"answer_id":31610207,"question_id":31610174,"body_markdown":"Pass it as a paramteer \r\n\r\n    import java.util.Scanner;\r\n    public class Alpha \r\n    {\r\n        public static void main(String args[])\r\n        {\r\n            Scanner input = new Scanner(System.in);\r\n             int n;    \r\n            System.out.println(&quot;Enter no. of stars&quot;);\r\n            n = input.nextInt();    \r\n            loop(n); // added this\r\n    \r\n        }\r\n        public static void loop (int n) // changed here\r\n        {\r\n            for (int counter = 1; counter &lt;= n; counter++)\r\n            {\r\n                System.out.println(&quot;*&quot;);\r\n            }\r\n        }\r\n    }","title":"Use Variable Which is in main method in Another Method","body":"<p>Pass it as a paramteer </p>\n\n<pre><code>import java.util.Scanner;\npublic class Alpha \n{\n    public static void main(String args[])\n    {\n        Scanner input = new Scanner(System.in);\n         int n;    \n        System.out.println(\"Enter no. of stars\");\n        n = input.nextInt();    \n        loop(n); // added this\n\n    }\n    public static void loop (int n) // changed here\n    {\n        for (int counter = 1; counter &lt;= n; counter++)\n        {\n            System.out.println(\"*\");\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6552469,"reputation":26,"user_id":5066380,"display_name":"Antonio Marino"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1437740115,"creation_date":1437740115,"answer_id":31610319,"question_id":31610174,"body_markdown":"I also think you could declare n as a public variable.\r\nThat should make it accessible throughout the code.\r\n\r\npublic int n;\r\n\r\nBut I guess that passing it as parameter is a better practice, since you don&#39;t create a deppendance inside your code. What I mean is, if something changes with the variable you break the function. It&#39;s good practice to always keep things &quot;modular&quot; in your code, so it makes it more resilient to changes and debugging.\r\nIt&#39;s better if you get used to it from the beggining =)","title":"Use Variable Which is in main method in Another Method","body":"<p>I also think you could declare n as a public variable.\nThat should make it accessible throughout the code.</p>\n\n<p>public int n;</p>\n\n<p>But I guess that passing it as parameter is a better practice, since you don't create a deppendance inside your code. What I mean is, if something changes with the variable you break the function. It's good practice to always keep things \"modular\" in your code, so it makes it more resilient to changes and debugging.\nIt's better if you get used to it from the beggining =)</p>\n"},{"tags":[],"owner":{"account_id":3986672,"reputation":2123,"user_id":3287033,"accept_rate":49,"display_name":"OldSchool"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1437740132,"creation_date":1437740132,"answer_id":31610325,"question_id":31610174,"body_markdown":"I think you should use it as a instance variable and for better understanding name your class like `StarClass` it can provide better understanding. Good programming practice.\r\n\r\nBut you should avoid unneccesserily making instance variable without any logic behind it.","title":"Use Variable Which is in main method in Another Method","body":"<p>I think you should use it as a instance variable and for better understanding name your class like <code>StarClass</code> it can provide better understanding. Good programming practice.</p>\n\n<p>But you should avoid unneccesserily making instance variable without any logic behind it.</p>\n"},{"tags":[],"owner":{"account_id":5357823,"reputation":1831,"user_id":4270033,"accept_rate":73,"display_name":"Maslor"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1437740174,"creation_date":1437740174,"answer_id":31610345,"question_id":31610174,"body_markdown":"    import java.util.Scanner;\r\n    public class Alpha \r\n    {\r\n    public static void main(String args[])\r\n    {\r\n        Scanner input = new Scanner(System.in);\r\n         int n;\r\n\r\n        System.out.println(&quot;Enter no. of stars&quot;);\r\n        n = input.nextInt();\r\n\r\n        Loop(n); //calls Loop function and passes parameter n\r\n    }\r\n    public static void Loop(int n)  //this function now expects a number n\r\n    {\r\n        for (int counter = 1; counter &lt;= n; counter++)\r\n        {\r\n            System.out.println(&quot;*&quot;);\r\n        }\r\n    }\r\n    }\r\n     ","title":"Use Variable Which is in main method in Another Method","body":"<pre><code>import java.util.Scanner;\npublic class Alpha \n{\npublic static void main(String args[])\n{\n    Scanner input = new Scanner(System.in);\n     int n;\n\n    System.out.println(\"Enter no. of stars\");\n    n = input.nextInt();\n\n    Loop(n); //calls Loop function and passes parameter n\n}\npublic static void Loop(int n)  //this function now expects a number n\n{\n    for (int counter = 1; counter &lt;= n; counter++)\n    {\n        System.out.println(\"*\");\n    }\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6457339,"reputation":1080,"user_id":5002284,"display_name":"dly"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1437740461,"creation_date":1437740461,"answer_id":31610437,"question_id":31610174,"body_markdown":"Two ways.. one has been posted already as answer and the other one would be using the variable as a field. This way you can access (and modify) it in every method without having to pass it on.\r\n\r\n    public class Alpha \r\n    {\r\n    \r\n        static int n;\r\n        public static void main(String args[])\r\n        {\r\n            Scanner input = new Scanner(System.in);\r\n    \r\n            System.out.println(&quot;Enter no. of stars&quot;);\r\n            n = input.nextInt();\r\n            loop();\r\n        }\r\n        public static void loop ()\r\n        {\r\n            for (int counter = 0; counter &lt; n; counter++)\r\n            {\r\n                System.out.println(&quot;*&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\nAnd please start method names with lowercase and counting with 0. It&#39;s common practise and it helps a lot to use the standards right from the beginning. ","title":"Use Variable Which is in main method in Another Method","body":"<p>Two ways.. one has been posted already as answer and the other one would be using the variable as a field. This way you can access (and modify) it in every method without having to pass it on.</p>\n\n<pre><code>public class Alpha \n{\n\n    static int n;\n    public static void main(String args[])\n    {\n        Scanner input = new Scanner(System.in);\n\n        System.out.println(\"Enter no. of stars\");\n        n = input.nextInt();\n        loop();\n    }\n    public static void loop ()\n    {\n        for (int counter = 0; counter &lt; n; counter++)\n        {\n            System.out.println(\"*\");\n        }\n    }\n}\n</code></pre>\n\n<p>And please start method names with lowercase and counting with 0. It's common practise and it helps a lot to use the standards right from the beginning. </p>\n"},{"tags":[],"owner":{"account_id":8918019,"reputation":14,"user_id":12994124,"display_name":"Pawan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643715037,"creation_date":1643715037,"answer_id":70939841,"question_id":31610174,"body_markdown":"Like this you can use variable from different methods in different methods\r\n\r\n    public static void main(String[] args) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tint sum=0;\r\n\t\tint a=Sum(sum);\r\n\t\tSystem.out.println(&quot;The Average of the numbers is: &quot;+a);\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic static int Sum(int sum) {\r\n\t\tScanner sc=new Scanner(System.in);\r\n\t\tSystem.out.println(&quot;Enter the total count of number for Average: &quot;);\r\n\t\tint a=sc.nextInt();\r\n\t\tfor(int i=1;i&lt;=a;i++) {\r\n\t\t\t\r\n\t\t\tSystem.out.println(&quot;Enter the&quot;+i+&quot;Number: &quot;);\r\n\t\t\tint b=sc.nextInt();\r\n\t\t\tsum+=b;\r\n\t\t}\r\n\t\tint avg=sum/a;\r\n\t\treturn avg;\r\n\t}","title":"Use Variable Which is in main method in Another Method","body":"<p>Like this you can use variable from different methods in different methods</p>\n<pre><code>public static void main(String[] args) {\n    // TODO Auto-generated method stub\n    int sum=0;\n    int a=Sum(sum);\n    System.out.println(&quot;The Average of the numbers is: &quot;+a);\n    \n}\n\npublic static int Sum(int sum) {\n    Scanner sc=new Scanner(System.in);\n    System.out.println(&quot;Enter the total count of number for Average: &quot;);\n    int a=sc.nextInt();\n    for(int i=1;i&lt;=a;i++) {\n        \n        System.out.println(&quot;Enter the&quot;+i+&quot;Number: &quot;);\n        int b=sc.nextInt();\n        sum+=b;\n    }\n    int avg=sum/a;\n    return avg;\n}\n</code></pre>\n"}],"owner":{"account_id":6642114,"reputation":693,"user_id":5127538,"accept_rate":75,"display_name":"ichigo gyuunyuu"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16943,"favorite_count":0,"down_vote_count":2,"up_vote_count":5,"accepted_answer_id":31610345,"answer_count":7,"score":3,"last_activity_date":1643715037,"creation_date":1437739672,"question_id":31610174,"body_markdown":"I&#39;m trying to create a simple program to output the number of stars entered by user. I&#39;m trying to learn how to use more than one method to do this\r\nHere&#39;s my code\r\n\r\n    import java.util.Scanner;\r\n    public class Alpha \r\n    {\r\n    \tpublic static void main(String args[])\r\n    \t{\r\n    \t\tScanner input = new Scanner(System.in);\r\n    \t\t int n;\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;Enter no. of stars&quot;);\r\n    \t\tn = input.nextInt();\r\n    \t\t\r\n    \t}\r\n    \tpublic static void Loop ()\r\n    \t{\r\n    \t\tfor (int counter = 1; counter &lt;= n; counter++)\r\n    \t\t{\r\n    \t\t\tSystem.out.println(&quot;*&quot;);\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nThe problem I&#39;m facing is that in the Loop method, I am unable to use the variable n\r\nIs there a way to use a variable which is in the main method, in another one?\r\nTy\r\n\r\n-Pingu\r\n","title":"Use Variable Which is in main method in Another Method","body":"<p>I'm trying to create a simple program to output the number of stars entered by user. I'm trying to learn how to use more than one method to do this\nHere's my code</p>\n\n<pre><code>import java.util.Scanner;\npublic class Alpha \n{\n    public static void main(String args[])\n    {\n        Scanner input = new Scanner(System.in);\n         int n;\n\n        System.out.println(\"Enter no. of stars\");\n        n = input.nextInt();\n\n    }\n    public static void Loop ()\n    {\n        for (int counter = 1; counter &lt;= n; counter++)\n        {\n            System.out.println(\"*\");\n        }\n    }\n}\n</code></pre>\n\n<p>The problem I'm facing is that in the Loop method, I am unable to use the variable n\nIs there a way to use a variable which is in the main method, in another one?\nTy</p>\n\n<p>-Pingu</p>\n"},{"tags":["java","selenium","selenium-webdriver"],"answers":[{"tags":[],"owner":{"account_id":6788662,"reputation":2778,"user_id":5226491,"display_name":"Max Daroshchanka"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643707059,"creation_date":1643706598,"answer_id":70937958,"question_id":70931253,"body_markdown":"Start from creating a simple implementation:\r\n\r\nHow the Page class might look:\r\n\r\n```\r\nclass Page {\r\n\r\n    private WebDriver driver;\r\n\r\n    public Page(WebDriver driver) {\r\n        this.driver.driver = driver;\r\n    }\r\n\r\n    //Define locators\r\n    \r\n    //Keep elements as By on the top of the class\r\n    private By someElement1 = By.xpath(&quot;...&quot;);\r\n    private By someElement2 = By.xpath(&quot;...&quot;);\r\n\r\n\r\n    //Define page methods\r\n    \r\n    // Examples:\r\n    // public void clickSomeElement()\r\n    // public void fillSomeInput()\r\n    public void doSomeAction() {\r\n        WebElement element = driver.findElement(someElement1);\r\n        // do something with the element\r\n        // optionaly wait for something after action\r\n    }\r\n\r\n    // Examples:\r\n    // public boolean isPageLoaded()\r\n    // public boolean isSomeElementDisplayed()\r\n    // public String getSomeElementText()\r\n    // public int getSomeElementsCount()\r\n    public Object getSomeData() {\r\n        WebElement element = driver.findElement(someElement2);\r\n        // do something with the element and return\r\n    }\r\n\r\n}\r\n```\r\n\r\nUse pages in your tests, do not work with WebDriver directly.\r\n\r\n```\r\n@Test\r\npublic void someTest() {\r\n    Page page = new Page(driver);\r\n    page.doStep1();\r\n    page.doStep2();\r\n    assertEquals(page.getSomeData(), &quot;Some expected result&quot;, &quot;Optional Error message&quot;);\r\n}\r\n```\r\n\r\nAnd..\r\n\r\nStart from creating a test scenario code, create test steps, which you like to have (methods, which will be underlined in IDE as non-existing), and think about the data, which you like to check.\r\n\r\nThen just implement all the non-existing methods you need in Page classes.\r\n\r\nMaybe it sounds complicated, but try to start from simple test scenarios and it should become more clear after some practice.","title":"Java automation selenium convert to Pom or factory","body":"<p>Start from creating a simple implementation:</p>\n<p>How the Page class might look:</p>\n<pre><code>class Page {\n\n    private WebDriver driver;\n\n    public Page(WebDriver driver) {\n        this.driver.driver = driver;\n    }\n\n    //Define locators\n    \n    //Keep elements as By on the top of the class\n    private By someElement1 = By.xpath(&quot;...&quot;);\n    private By someElement2 = By.xpath(&quot;...&quot;);\n\n\n    //Define page methods\n    \n    // Examples:\n    // public void clickSomeElement()\n    // public void fillSomeInput()\n    public void doSomeAction() {\n        WebElement element = driver.findElement(someElement1);\n        // do something with the element\n        // optionaly wait for something after action\n    }\n\n    // Examples:\n    // public boolean isPageLoaded()\n    // public boolean isSomeElementDisplayed()\n    // public String getSomeElementText()\n    // public int getSomeElementsCount()\n    public Object getSomeData() {\n        WebElement element = driver.findElement(someElement2);\n        // do something with the element and return\n    }\n\n}\n</code></pre>\n<p>Use pages in your tests, do not work with WebDriver directly.</p>\n<pre><code>@Test\npublic void someTest() {\n    Page page = new Page(driver);\n    page.doStep1();\n    page.doStep2();\n    assertEquals(page.getSomeData(), &quot;Some expected result&quot;, &quot;Optional Error message&quot;);\n}\n</code></pre>\n<p>And..</p>\n<p>Start from creating a test scenario code, create test steps, which you like to have (methods, which will be underlined in IDE as non-existing), and think about the data, which you like to check.</p>\n<p>Then just implement all the non-existing methods you need in Page classes.</p>\n<p>Maybe it sounds complicated, but try to start from simple test scenarios and it should become more clear after some practice.</p>\n"},{"tags":[],"owner":{"account_id":10404084,"reputation":21,"user_id":7671539,"display_name":"Ionut Apostu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643714502,"creation_date":1643711805,"answer_id":70939116,"question_id":70931253,"body_markdown":"I had the same issue. If this is a Java project, with Eclipse and Intellij IDEA, you can right click the project and select Convert to Maven. From there, it&#39;s fine adjustments (versions) in the POM file.","title":"Java automation selenium convert to Pom or factory","body":"<p>I had the same issue. If this is a Java project, with Eclipse and Intellij IDEA, you can right click the project and select Convert to Maven. From there, it's fine adjustments (versions) in the POM file.</p>\n"}],"owner":{"account_id":24113601,"reputation":11,"user_id":18083838,"display_name":"Batka21"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1643714502,"creation_date":1643654831,"question_id":70931253,"body_markdown":"I need help with creating Java automation with Selenium Webdriver to Pom or Pomm factory.\r\nI&#39;ve read how to create pom without any success.\r\nPlease help.\r\nI need help on how to create java automation in pom. **strong text**How to conver it?\r\n\r\n    String baseUrl = &quot;https:amazon.com/&quot;;\r\n    WebDriver driver;\r\n    NavigationPom navigationPom;\r\n\r\n    private final boolean useFirefoxbrowser = false;\r\n\r\n    @BeforeClass\r\n    public static void setupClass() {\r\n        WebDriverManager.chromedriver().setup();\r\n        WebDriverManager.firefoxdriver().setup();\r\n\r\n    }\r\n\r\n    @Before\r\n    public void setUp() {\r\n\r\n        if (useFirefoxbrowser == false) {\r\n            FirefoxOptions firefoxOptions = new FirefoxOptions();\r\n            firefoxOptions.addArguments(&quot;--width=1240&quot;, &quot;--height=720&quot;);\r\n            driver = new FirefoxDriver(firefoxOptions);\r\n        } else {\r\n            ChromeOptions chromeOptions = new ChromeOptions();\r\n            chromeOptions.addArguments(&quot;--window-size=1920,1080&quot;);\r\n            driver = new ChromeDriver(chromeOptions);\r\n        }\r\n    }\r\n\r\n    @Test\r\n    public void MacbookTest1() {\r\n        driver.get(baseUrl);\r\n        driver.manage().window().maximize();\r\n        driver.findElement(By.xpath(&quot;//input[@id=&#39;twotabsearchtextbox&#39;]&quot;)).click();\r\n        driver.findElement(By.xpath(&quot;//input[@id=&#39;twotabsearchtextbox&#39;]&quot;)).sendKeys(&quot;macbook&quot;);\r\n        driver.findElement(By.xpath(&quot;//input[@id=&#39;nav-search-submit-button&#39;]&quot;)).click();\r\n        driver.findElement(By.xpath(&quot;//input[@id=&#39;nav-search-submit-button&#39;]&quot;)).click();\r\n        driver.findElement(By.xpath(&quot;//li[@id=&#39;p_89/Lenovo&#39;]/span/a/div/label/i&quot;)).click();\r\n        //Checkboxes\r\n        boolean enabled = driver.findElement(By.xpath(&quot;//li[@id=&#39;p_89/Lenovo&#39;]/span/a/div/label/i&quot;)).isEnabled();\r\n\r\n\r\n    \r\n        \r\n            ","title":"Java automation selenium convert to Pom or factory","body":"<p>I need help with creating Java automation with Selenium Webdriver to Pom or Pomm factory.\nI've read how to create pom without any success.\nPlease help.\nI need help on how to create java automation in pom. <strong>strong text</strong>How to conver it?</p>\n<pre><code>String baseUrl = &quot;https:amazon.com/&quot;;\nWebDriver driver;\nNavigationPom navigationPom;\n\nprivate final boolean useFirefoxbrowser = false;\n\n@BeforeClass\npublic static void setupClass() {\n    WebDriverManager.chromedriver().setup();\n    WebDriverManager.firefoxdriver().setup();\n\n}\n\n@Before\npublic void setUp() {\n\n    if (useFirefoxbrowser == false) {\n        FirefoxOptions firefoxOptions = new FirefoxOptions();\n        firefoxOptions.addArguments(&quot;--width=1240&quot;, &quot;--height=720&quot;);\n        driver = new FirefoxDriver(firefoxOptions);\n    } else {\n        ChromeOptions chromeOptions = new ChromeOptions();\n        chromeOptions.addArguments(&quot;--window-size=1920,1080&quot;);\n        driver = new ChromeDriver(chromeOptions);\n    }\n}\n\n@Test\npublic void MacbookTest1() {\n    driver.get(baseUrl);\n    driver.manage().window().maximize();\n    driver.findElement(By.xpath(&quot;//input[@id='twotabsearchtextbox']&quot;)).click();\n    driver.findElement(By.xpath(&quot;//input[@id='twotabsearchtextbox']&quot;)).sendKeys(&quot;macbook&quot;);\n    driver.findElement(By.xpath(&quot;//input[@id='nav-search-submit-button']&quot;)).click();\n    driver.findElement(By.xpath(&quot;//input[@id='nav-search-submit-button']&quot;)).click();\n    driver.findElement(By.xpath(&quot;//li[@id='p_89/Lenovo']/span/a/div/label/i&quot;)).click();\n    //Checkboxes\n    boolean enabled = driver.findElement(By.xpath(&quot;//li[@id='p_89/Lenovo']/span/a/div/label/i&quot;)).isEnabled();\n\n\n\n    \n        \n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1643714642,"post_id":70939663,"comment_id":125407911,"body_markdown":"&quot;throwing out the elements in a LIFO pattern.&quot; that&#39;s because you&#39;re taking out the last thing you added in both cases: addFirst/removeFirst and addLast/removeLast.","body":"&quot;throwing out the elements in a LIFO pattern.&quot; that&#39;s because you&#39;re taking out the last thing you added in both cases: addFirst/removeFirst and addLast/removeLast."}],"answers":[{"tags":[],"owner":{"account_id":16372083,"reputation":2070,"user_id":11825162,"display_name":"IQbrod"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643714285,"creation_date":1643714285,"answer_id":70939690,"question_id":70939663,"body_markdown":"It&#39;s is due to your print method being different.  \r\n```\r\nstack.removeFirst()\r\n// ...\r\nstack.removeLast()\r\n```\r\n\r\nOn the first case you print them from first to last  \r\nOn the second case you print them from last to first","title":"What is the difference between addFirst and addLast in Deque interface","body":"<p>It's is due to your print method being different.</p>\n<pre><code>stack.removeFirst()\n// ...\nstack.removeLast()\n</code></pre>\n<p>On the first case you print them from first to last<br />\nOn the second case you print them from last to first</p>\n"},{"tags":[],"owner":{"account_id":20799084,"reputation":376,"user_id":15275530,"display_name":"Sarim Sikander"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643714456,"creation_date":1643714456,"answer_id":70939725,"question_id":70939663,"body_markdown":"addFirst in deque means that it will be adding every element at the first position like:\r\nlets say there is a variable named &quot;number&quot; and number has 3 elements in it:\r\n```\r\nnumber = [10,9,8]\r\n\r\n// if i add 7 in it\r\nnumber = addFirst(7)\r\n```\r\noutput will be like [7,10,9,8]\r\nand same in addLast it will add element at the last of the list.","title":"What is the difference between addFirst and addLast in Deque interface","body":"<p>addFirst in deque means that it will be adding every element at the first position like:\nlets say there is a variable named &quot;number&quot; and number has 3 elements in it:</p>\n<pre><code>number = [10,9,8]\n\n// if i add 7 in it\nnumber = addFirst(7)\n</code></pre>\n<p>output will be like [7,10,9,8]\nand same in addLast it will add element at the last of the list.</p>\n"}],"owner":{"account_id":2296697,"reputation":97,"user_id":2017970,"display_name":"magicsign"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1643714456,"creation_date":1643714162,"question_id":70939663,"body_markdown":"They seem like behaving in the same way, throwing out the elements in a LIFO pattern.\r\n\r\n       Deque&lt;Integer&gt; stack = new ArrayDeque&lt;&gt;();\r\n       for (int i = 0; i &lt;= 10; i++) {\r\n           stack.addFirst(i);\r\n       }\r\n       while(!stack.isEmpty()) {\r\n           System.out.print(stack.removeFirst()+&quot;,&quot;);\r\n       }\r\nPrints out : 10,9,8,7,6,5,4,3,2,1,0,\r\n\r\n       Deque&lt;Integer&gt; stack = new ArrayDeque&lt;&gt;();\r\n       for (int i = 0; i &lt;= 10; i++) {\r\n           stack.addLast(i);\r\n       }\r\n       while(!stack.isEmpty()) {\r\n           System.out.print(stack.removeLast()+&quot;,&quot;);\r\n       }\r\nPrints out : 10,9,8,7,6,5,4,3,2,1,0,","title":"What is the difference between addFirst and addLast in Deque interface","body":"<p>They seem like behaving in the same way, throwing out the elements in a LIFO pattern.</p>\n<pre><code>   Deque&lt;Integer&gt; stack = new ArrayDeque&lt;&gt;();\n   for (int i = 0; i &lt;= 10; i++) {\n       stack.addFirst(i);\n   }\n   while(!stack.isEmpty()) {\n       System.out.print(stack.removeFirst()+&quot;,&quot;);\n   }\n</code></pre>\n<p>Prints out : 10,9,8,7,6,5,4,3,2,1,0,</p>\n<pre><code>   Deque&lt;Integer&gt; stack = new ArrayDeque&lt;&gt;();\n   for (int i = 0; i &lt;= 10; i++) {\n       stack.addLast(i);\n   }\n   while(!stack.isEmpty()) {\n       System.out.print(stack.removeLast()+&quot;,&quot;);\n   }\n</code></pre>\n<p>Prints out : 10,9,8,7,6,5,4,3,2,1,0,</p>\n"},{"tags":["java","apache-camel","spring-camel","camel-spring-dsl"],"answers":[{"tags":[],"owner":{"account_id":2411568,"reputation":15860,"user_id":2106516,"accept_rate":91,"display_name":"tmarwen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1643714311,"creation_date":1643636877,"answer_id":70927059,"question_id":70925484,"body_markdown":"To set an `Exchange` message header you would need to use the `name` field and not the `headerName` field:\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;setHeader name=&quot;timestampPart3&quot;&gt;\r\n        &lt;simple&gt;some-simple-expression&lt;/simple&gt;\r\n    &lt;/setHeader&gt;\r\n\r\nAdditionally you need to provide a raw `regex` expression for string `#split` method that will get sanitized (if needed) under the hood automatically by the OGNL - Camel parsing layer for you:\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;setHeader name=&quot;timestampPart3&quot;&gt;\r\n        &lt;simple&gt;${header.timestampPart2.split(&quot;\\.&quot;)[0]}&lt;/simple&gt;\r\n    &lt;/setHeader&gt;\r\n\r\n&gt; Note the single back-slack character escaping the `.` special character. In short, you should provide a regular expression without escaping control sequences as you would do when inputing the same regular expression through a compile `String` literal in Java ***(it is raw XML (input stream) after all)***","title":"How to escape regex in Java methods call in simple language in Apache&#39;s Camel Spring DSL (XML) route?","body":"<p>To set an <code>Exchange</code> message header you would need to use the <code>name</code> field and not the <code>headerName</code> field:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;setHeader name=&quot;timestampPart3&quot;&gt;\n    &lt;simple&gt;some-simple-expression&lt;/simple&gt;\n&lt;/setHeader&gt;\n</code></pre>\n<p>Additionally you need to provide a raw <code>regex</code> expression for string <code>#split</code> method that will get sanitized (if needed) under the hood automatically by the OGNL - Camel parsing layer for you:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;setHeader name=&quot;timestampPart3&quot;&gt;\n    &lt;simple&gt;${header.timestampPart2.split(&quot;\\.&quot;)[0]}&lt;/simple&gt;\n&lt;/setHeader&gt;\n</code></pre>\n<blockquote>\n<p>Note the single back-slack character escaping the <code>.</code> special character. In short, you should provide a regular expression without escaping control sequences as you would do when inputing the same regular expression through a compile <code>String</code> literal in Java <em><strong>(it is raw XML (input stream) after all)</strong></em></p>\n</blockquote>\n"}],"owner":{"account_id":1956083,"reputation":4432,"user_id":1759063,"accept_rate":53,"display_name":"Eljah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":206,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70927059,"answer_count":1,"score":1,"last_activity_date":1643714311,"creation_date":1643629820,"question_id":70925484,"body_markdown":"I have a `setHeader` tag in my route:\r\n\r\n    &lt;setHeader headerName=&quot;timestampPart3&quot;&gt;&lt;simple&gt;${header.timestampPart2.split(&quot;\\\\.&quot;)[0]}&lt;/simple&gt;&lt;/setHeader&gt;\r\n    &lt;log message=&quot;After: ${body} ${headers}&quot;/&gt;\r\n\r\nI expect, it will split the String inside the timestampPart2 header and take the first element.\r\n\r\nIn fact, it just ignores the splitting:\r\n\r\n    timestampPart2=114128.0, timestampPart3=114128.0\r\n\r\nSo how I should implement regex escaping in Spring DSL? If for some reason it is impossible, how to work that around?","title":"How to escape regex in Java methods call in simple language in Apache&#39;s Camel Spring DSL (XML) route?","body":"<p>I have a <code>setHeader</code> tag in my route:</p>\n<pre><code>&lt;setHeader headerName=&quot;timestampPart3&quot;&gt;&lt;simple&gt;${header.timestampPart2.split(&quot;\\\\.&quot;)[0]}&lt;/simple&gt;&lt;/setHeader&gt;\n&lt;log message=&quot;After: ${body} ${headers}&quot;/&gt;\n</code></pre>\n<p>I expect, it will split the String inside the timestampPart2 header and take the first element.</p>\n<p>In fact, it just ignores the splitting:</p>\n<pre><code>timestampPart2=114128.0, timestampPart3=114128.0\n</code></pre>\n<p>So how I should implement regex escaping in Spring DSL? If for some reason it is impossible, how to work that around?</p>\n"},{"tags":["java","android","android-intent"],"answers":[{"tags":[],"owner":{"account_id":68365,"reputation":3382,"user_id":199498,"accept_rate":50,"display_name":"Alex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643713417,"creation_date":1634415636,"answer_id":69599271,"question_id":69598309,"body_markdown":"You are saying *the following code executes only on a new install of the app*, but do you have an actual check around it? Based on this code snippet for me it seems like you are just passing data back and forth between the two apps and that is why you see the &quot;endless loop&quot;.\r\n\r\nIf that is not the case and you actually have some check before starting either of the app I would try to remove the key from the extras in app b after you read it out with `removeExtra(&quot;Key&quot;)`.\r\n\r\n\r\n","title":"Endless loop in onCreate()","body":"<p>You are saying <em>the following code executes only on a new install of the app</em>, but do you have an actual check around it? Based on this code snippet for me it seems like you are just passing data back and forth between the two apps and that is why you see the &quot;endless loop&quot;.</p>\n<p>If that is not the case and you actually have some check before starting either of the app I would try to remove the key from the extras in app b after you read it out with <code>removeExtra(&quot;Key&quot;)</code>.</p>\n"}],"owner":{"account_id":19203818,"reputation":483,"user_id":14031171,"display_name":"Mike087"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1643714309,"creation_date":1634407592,"question_id":69598309,"body_markdown":"I have the following code:\r\n\r\n**AppA**\r\n\r\n```\r\n@Override\r\nprotected void onCreate(Bundle savedInstanceState) {\r\n    ...\r\n    Intent i = getIntent();\r\n    if (i.hasExtra(&quot;Key&quot;)) {\r\n        Intent i1 = new Intent();\r\n        i1.putExtra(&quot;Key&quot;, someValue);\r\n        i1.setComponent(new ComponentName(&quot;com.example.AppB&quot;, &quot;com.example.AppB.MainActivity&quot;));\r\n        startActivity(i1);\r\n        finishAffinity();\r\n    }\r\n}\r\n```\r\n\r\n**AppB**\r\n\r\n```\r\n@Override\r\nprotected void onCreate(Bundle savedInstanceState) {\r\n    ...\r\n    // The following code executes only on a new install of the app\r\n    Intent i = new Intent();\r\n    i.putExtra(&quot;Key&quot;, &quot;1&quot;);\r\n    i.setComponent(new ComponentName(&quot;com.example.AppA&quot;, &quot;com.example.AppA.MainActivity&quot;);\r\n    starActivity(i);\r\n    finishAffinity();\r\n    \r\n    // The following keeps executing in an endless loop\r\n    Intent i1 = getIntent();\r\n    if (i1.hasExtra(&quot;Key&quot;)) {\r\n        long temp = i1.getLongExtra(&quot;Key&quot;, -1);\r\n        recreate();\r\n    }\r\n}\r\n```\r\n\r\nEverything works fine (I got the value from AppA succesfully), except that the code commented above keeps executing in an endless loop. I tried to change `recreate()` to `startActivity(getIntent())` and `finish()`, but I got the same result.\r\n\r\n\r\n\r\n\r\n","title":"Endless loop in onCreate()","body":"<p>I have the following code:</p>\n<p><strong>AppA</strong></p>\n<pre><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    ...\n    Intent i = getIntent();\n    if (i.hasExtra(&quot;Key&quot;)) {\n        Intent i1 = new Intent();\n        i1.putExtra(&quot;Key&quot;, someValue);\n        i1.setComponent(new ComponentName(&quot;com.example.AppB&quot;, &quot;com.example.AppB.MainActivity&quot;));\n        startActivity(i1);\n        finishAffinity();\n    }\n}\n</code></pre>\n<p><strong>AppB</strong></p>\n<pre><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    ...\n    // The following code executes only on a new install of the app\n    Intent i = new Intent();\n    i.putExtra(&quot;Key&quot;, &quot;1&quot;);\n    i.setComponent(new ComponentName(&quot;com.example.AppA&quot;, &quot;com.example.AppA.MainActivity&quot;);\n    starActivity(i);\n    finishAffinity();\n    \n    // The following keeps executing in an endless loop\n    Intent i1 = getIntent();\n    if (i1.hasExtra(&quot;Key&quot;)) {\n        long temp = i1.getLongExtra(&quot;Key&quot;, -1);\n        recreate();\n    }\n}\n</code></pre>\n<p>Everything works fine (I got the value from AppA succesfully), except that the code commented above keeps executing in an endless loop. I tried to change <code>recreate()</code> to <code>startActivity(getIntent())</code> and <code>finish()</code>, but I got the same result.</p>\n"},{"tags":["java","apache-kafka","spring-kafka","spring-cloud-stream"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1643057937,"post_id":70839994,"comment_id":125234975,"body_markdown":"1) Kafka nor Zookeeper are HTTP servives. Why have you added `http://` to the properties? 2) As I [have answered to you before](https://stackoverflow.com/questions/66834379/spring-cloud-stream-kafka-with-microservices-and-docker-compose-error)... [You shouldn&#39;t be using IP addresses to connect to Docker containers](https://stackoverflow.com/questions/51630260/connect-to-kafka-running-in-docker) on the same host 3) You should have error logs in your client for connection issues","body":"1) Kafka nor Zookeeper are HTTP servives. Why have you added <code>http:&#47;&#47;</code> to the properties? 2) As I <a href=\"https://stackoverflow.com/questions/66834379/spring-cloud-stream-kafka-with-microservices-and-docker-compose-error\">have answered to you before</a>... <a href=\"https://stackoverflow.com/questions/51630260/connect-to-kafka-running-in-docker\">You shouldn&#39;t be using IP addresses to connect to Docker containers</a> on the same host 3) You should have error logs in your client for connection issues"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1643058466,"post_id":70839994,"comment_id":125235150,"body_markdown":"Also, `listeners` and `advertised.listeners` are not valid environment variables, so I suggest going back to what you had in your previous questions, where the compose file and spring properties were more correct","body":"Also, <code>listeners</code> and <code>advertised.listeners</code> are not valid environment variables, so I suggest going back to what you had in your previous questions, where the compose file and spring properties were more correct"},{"owner":{"account_id":19818900,"reputation":69,"user_id":14515935,"display_name":"MyProblems"},"score":0,"creation_date":1643134067,"post_id":70839994,"comment_id":125257589,"body_markdown":"Hello @OneCricketeer and thanks for the answer, i managed to connect producer with kafka and zookeeper docker containers, but when i do something with my spring boot app to produce a message to kafka, i get nothing, just: [ad | producer-1] o.s.k.support.LoggingProducerListener    : Exception thrown when sending a message with key=&#39;null&#39; and payload=&#39;byte[164]&#39; to topic orgChangeTopic: org.apache.kafka.common.errors.TimeoutException: Expiring 2 record(s) for orgChangeTopic-0:120000 ms has passed since batch creation","body":"Hello @OneCricketeer and thanks for the answer, i managed to connect producer with kafka and zookeeper docker containers, but when i do something with my spring boot app to produce a message to kafka, i get nothing, just: [ad | producer-1] o.s.k.support.LoggingProducerListener    : Exception thrown when sending a message with key=&#39;null&#39; and payload=&#39;byte[164]&#39; to topic orgChangeTopic: org.apache.kafka.common.errors.TimeoutException: Expiring 2 record(s) for orgChangeTopic-0:120000 ms has passed since batch creation"},{"owner":{"account_id":19818900,"reputation":69,"user_id":14515935,"display_name":"MyProblems"},"score":0,"creation_date":1643134139,"post_id":70839994,"comment_id":125257620,"body_markdown":"and nothing else, not the message i expected... i didn&#39;t start my consumer yet but i should see the producer message to console, i guess... i can show logs from kafka and spring cloud app if it s needed","body":"and nothing else, not the message i expected... i didn&#39;t start my consumer yet but i should see the producer message to console, i guess... i can show logs from kafka and spring cloud app if it s needed"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1643136603,"post_id":70839994,"comment_id":125258626,"body_markdown":"That message means you&#39;ve not sent enough data for the producer batch to get filled, so it sits in memory. In other words, you need to call `.flush()` on the producer, or whatever the equivalent is for cloud-stream","body":"That message means you&#39;ve not sent enough data for the producer batch to get filled, so it sits in memory. In other words, you need to call <code>.flush()</code> on the producer, or whatever the equivalent is for cloud-stream"},{"owner":{"account_id":19818900,"reputation":69,"user_id":14515935,"display_name":"MyProblems"},"score":0,"creation_date":1643714302,"post_id":70839994,"comment_id":125407796,"body_markdown":"Hello @OneCricketeer and thanks for your time to answering to my stupid questions... i edited this post to see what my final locks like, but not working for a way of another... I was decreased request.timeout and batch.size to not calling flush explicitly, and it worked then, after that, i think i somehow &quot;break&quot; the entire thing trying to add slk to the services and doesn&#39;t work anymore, last 2 days i was optimistic about getting the thing done, now...i was trying with confluentic image, any error to see if i did something wrong, not a clue... please, can take a look and give an advice?","body":"Hello @OneCricketeer and thanks for your time to answering to my stupid questions... i edited this post to see what my final locks like, but not working for a way of another... I was decreased request.timeout and batch.size to not calling flush explicitly, and it worked then, after that, i think i somehow &quot;break&quot; the entire thing trying to add slk to the services and doesn&#39;t work anymore, last 2 days i was optimistic about getting the thing done, now...i was trying with confluentic image, any error to see if i did something wrong, not a clue... please, can take a look and give an advice?"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1643724040,"post_id":70839994,"comment_id":125411534,"body_markdown":"Your configs look better now. I&#39;m not sure I understand the problem anymore; what is &quot;slk&quot;? Changing a docker image shouldn&#39;t fix anything.","body":"Your configs look better now. I&#39;m not sure I understand the problem anymore; what is &quot;slk&quot;? Changing a docker image shouldn&#39;t fix anything."},{"owner":{"account_id":19818900,"reputation":69,"user_id":14515935,"display_name":"MyProblems"},"score":0,"creation_date":1643726747,"post_id":70839994,"comment_id":125412752,"body_markdown":"Hey, it was another component, problem is if i do something in my app resulting to sending a message in kafka (Making a Post Endpoint for ex) doesn&#39;t end in the expected behaviour... i wait for the message to  be published but it&#39;s not, and i don&#39;t know why or what i&#39;m doing wrong. I know it worked when that batch size thing, but now, even if i expect to pass those 120000 ms to get an error (not enough bytes) like the previous error - nothing... don&#39;t know from where to start or what to do in this regard","body":"Hey, it was another component, problem is if i do something in my app resulting to sending a message in kafka (Making a Post Endpoint for ex) doesn&#39;t end in the expected behaviour... i wait for the message to  be published but it&#39;s not, and i don&#39;t know why or what i&#39;m doing wrong. I know it worked when that batch size thing, but now, even if i expect to pass those 120000 ms to get an error (not enough bytes) like the previous error - nothing... don&#39;t know from where to start or what to do in this regard"},{"owner":{"account_id":19818900,"reputation":69,"user_id":14515935,"display_name":"MyProblems"},"score":1,"creation_date":1643742879,"post_id":70839994,"comment_id":125419516,"body_markdown":"hey @OneCricketeer it works... sorry for wasted your time with me and thanks a lot for your patience,  i&#39;m just stupid sometime","body":"hey @OneCricketeer it works... sorry for wasted your time with me and thanks a lot for your patience,  i&#39;m just stupid sometime"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1643815419,"post_id":70839994,"comment_id":125440176,"body_markdown":"Feel free to post an answer below that details what you&#39;ve changed","body":"Feel free to post an answer below that details what you&#39;ve changed"},{"owner":{"account_id":19818900,"reputation":69,"user_id":14515935,"display_name":"MyProblems"},"score":1,"creation_date":1643911259,"post_id":70839994,"comment_id":125471288,"body_markdown":"Hei... it was basically just enabling the Debug logging for Spring cloud app, with this i can see the messages being posted from producer                                                                         \n     &#39;logging:\n  level:\n    com.netflix: WARN\n    org.springframework.web: WARN\n    com.project.springmicroservicesinaction: DEBUG&#39;","body":"Hei... it was basically just enabling the Debug logging for Spring cloud app, with this i can see the messages being posted from producer                                                                               &#39;logging:   level:     com.netflix: WARN     org.springframework.web: WARN     com.project.springmicroservicesinaction: DEBUG&#39;"}],"answers":[{"tags":[],"owner":{"account_id":2365019,"reputation":5194,"user_id":2070861,"accept_rate":100,"display_name":"sobychacko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643067643,"creation_date":1643067643,"answer_id":70841800,"question_id":70839994,"body_markdown":"The annotation-based programming model (things such as `EnableBinding`, `Source`, `Sink` etc.) is deprecated in Spring Cloud Stream and going to be completely removed in the upcoming 4.0 line of the framework. \r\n\r\nYou can add a source using the functional style as below:\r\n\r\n```\r\npublic Supplier&lt; OrganizationChangeModel&gt; source() {\r\n  return () -&gt; {\r\n    //return OrganizationChangeModel here. \r\n  }\r\n}\r\n\r\n```\r\n\r\nThe binding name becomes `source-out-0` in this case since the supplier method is named as `source`. \r\n\r\nHowever, in your case, since you want to programmatically publish using the REST endpoint, I suggest you use the `StreamBridge` API for doing that. See the StreamBridge [docs][1] for more details on that. The basic idea is that you use the `send` method of `StreamBridge` to publish data through an output binding. \r\n\r\n\r\nA lot of examples in the Spring Cloud Stream [samples][2] repository use this version of the dockerized Kafka. You might want to compare how it is set up there. \r\n\r\n\r\n  [1]: https://docs.spring.io/spring-cloud-stream/docs/3.2.1/reference/html/spring-cloud-stream.html#_sending_arbitrary_data_to_an_output_e_g_foreign_event_driven_sources\r\n  [2]: https://github.com/spring-cloud/spring-cloud-stream-samples","title":"Kafka producer Spring Cloud app won&#39;t publish anything","body":"<p>The annotation-based programming model (things such as <code>EnableBinding</code>, <code>Source</code>, <code>Sink</code> etc.) is deprecated in Spring Cloud Stream and going to be completely removed in the upcoming 4.0 line of the framework.</p>\n<p>You can add a source using the functional style as below:</p>\n<pre><code>public Supplier&lt; OrganizationChangeModel&gt; source() {\n  return () -&gt; {\n    //return OrganizationChangeModel here. \n  }\n}\n\n</code></pre>\n<p>The binding name becomes <code>source-out-0</code> in this case since the supplier method is named as <code>source</code>.</p>\n<p>However, in your case, since you want to programmatically publish using the REST endpoint, I suggest you use the <code>StreamBridge</code> API for doing that. See the StreamBridge <a href=\"https://docs.spring.io/spring-cloud-stream/docs/3.2.1/reference/html/spring-cloud-stream.html#_sending_arbitrary_data_to_an_output_e_g_foreign_event_driven_sources\" rel=\"nofollow noreferrer\">docs</a> for more details on that. The basic idea is that you use the <code>send</code> method of <code>StreamBridge</code> to publish data through an output binding.</p>\n<p>A lot of examples in the Spring Cloud Stream <a href=\"https://github.com/spring-cloud/spring-cloud-stream-samples\" rel=\"nofollow noreferrer\">samples</a> repository use this version of the dockerized Kafka. You might want to compare how it is set up there.</p>\n"}],"owner":{"account_id":19818900,"reputation":69,"user_id":14515935,"display_name":"MyProblems"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":441,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643714299,"creation_date":1643055674,"question_id":70839994,"body_markdown":"i started connected my spring cloud app with kafka and zookeeper hosted in docker-compose file, they&#39;re connected, but when i run the application and expect the Producer to publish a message, get nothing... i don&#39;t know what the error is, i followed this example: https://github.com/ihuaylupo/manning-smia/tree/master/chapter10/licensing-service/src/main/java/com/optimagrowth/license/events\r\n\r\nWorkflow is that from the github repo example, when i call and endPoint Post on a Service, for example, i wish to my kafka producer to publish a message on topic and Kafka consumer to consume that message, but everything works - Endpoint execute against DB, except kafka producing and consuming messaging, not even an error to know where i did wrong...\r\n\r\nDocker-compose file: \r\n\r\n \r\n```\r\n zookeeper:\r\n    image: wurstmeister/zookeeper\r\n    container_name: zookeeper\r\n    ports:\r\n      - &quot;2181:2181&quot;\r\n    \r\n\r\n  kafkaserver:\r\n    image: wurstmeister/kafka\r\n    container_name: kafka\r\n    ports:\r\n      - &quot;9092:9092&quot;\r\n    environment:\r\n      - KAFKA_ADVERTISED_HOST_NAME=192.168.99.100 #kafka 192.168.99.100 #kafka - ip because i want to access kafka and zookeeper from outside of containers, i.e localhost\r\n      - KAFKA_ADVERTISED_PORT=9092\r\n      - KAFKA_ZOOKEEPER_CONNECT=zookeeper:2181\r\n      - KAFKA_CREATE_TOPICS=dresses:1:1, ratings:1:1\r\n      - KAFKA_SOCKET_REQUEST_MAX_BYTES=2000000000\r\n      - KAFKA_HEAP_OPTS=-Xmx512M -Xmx5g\r\n      - listeners=PLAINTEXT://:9092\r\n      - advertised.listeners=PLAINTEXT://192.168.99.100:9092\r\n    volumes:\r\n      - &quot;/var/run/docker.sock:/var/run/docker.sock&quot;\r\n    depends_on:\r\n      - zookeeper\r\n```\r\nKafka consumer spring cloud properties:\r\n\r\n    spring.cloud.stream.bindings.inboundOrgChanges.destination=orgChangeTopic\r\n    spring.cloud.stream.bindings.inboundOrgChanges.content-type=application/json\r\n    spring.cloud.stream.bindings.inboundOrgChanges.group=studentsGroup\r\n    spring.cloud.stream.kafka.binder.brokers=localhost #kafka\r\n    spring.cloud.stream.kafka.binder.zkNodes=localhost\r\n\r\nKafka producer spring cloud properties:\r\n\r\n    spring.cloud.stream.bindings.output.destination=orgChangeTopic\r\n    spring.cloud.stream.bindings.output.content-type=application/json\r\n    spring.cloud.stream.kafka.binder.zkNodes=http://192.168.99.100:2181\r\n    spring.cloud.stream.kafka.binder.brokers=http://192.168.99.100:9092\r\n\r\nKafka Producer... \r\n\r\n    @EnableBinding(Source.class) // - on my main Spring app\r\n    @Component\r\n    public class SimpleSourceBean {\r\n        private Source source;\r\n    \r\n        private static final Logger logger = LoggerFactory.getLogger(SimpleSourceBean.class);\r\n    \r\n        @Autowired\r\n        public SimpleSourceBean(Source source){\r\n            this.source = source;\r\n        }\r\n    \r\n        public void publishOrganizationChange(String action, String organizationId){\r\n           logger.debug(&quot;Sending Kafka message {} for Organization Id: {}&quot;, action, organizationId);\r\n            OrganizationChangeModel change =  new OrganizationChangeModel(\r\n                    OrganizationChangeModel.class.getTypeName(),\r\n                    action,\r\n                    organizationId,\r\n                    UserContext.getCorrelationId());\r\n    \r\n            source.output().send(MessageBuilder.withPayload(change).build());\r\n        }\r\n    }\r\n\r\n---\r\n    \r\n    @Getter @Setter @ToString\r\n    public class OrganizationChangeModel {\r\n    \tprivate String type;\r\n    \tprivate String action;\r\n    \tprivate String organizationId;\r\n    \tprivate String correlationId;\r\n    \r\n    \tpublic OrganizationChangeModel(String type, String action, String organizationId, String correlationId) {\r\n    \t\tsuper();\r\n    \t\tthis.type = type;\r\n    \t\tthis.action = action;\r\n    \t\tthis.organizationId = organizationId;\r\n    \t\tthis.correlationId = correlationId;\r\n    \t}\r\n    }\r\n    \r\n    @Service class ServiceEx {\r\n        @Autowired\r\n        SimpleSourceBean simpleSourceBean;\r\n    \r\n        public Organization findById(String organizationId) {\r\n        \tOptional&lt;Organization&gt; opt = repository.findById(organizationId);\r\n        \tsimpleSourceBean.publishOrganizationChange(&quot;GET&quot;, organizationId);\r\n            return (opt.isPresent()) ? opt.get() : null;\r\n        }\t//wont do anything }\r\n\r\nEdited:\r\nDocker-compose file:\r\n\r\n    version: &#39;3&#39;\r\n    services:\r\n      zookeeper:\r\n        image: wurstmeister/zookeeper\r\n        container_name: zookeeper\r\n        ports:\r\n          - &quot;2181:2181&quot;\r\n        networks:\r\n          - spring-cloud-network\r\n    \r\n      kafka:\r\n        image: wurstmeister/kafka\r\n        container_name: kafka\r\n        ports:\r\n          - &quot;9092:9092&quot;\r\n        environment:\r\n          - KAFKA_ADVERTISED_HOST_NAME=kafka\r\n          - KAFKA_ADVERTISED_PORT=9092\r\n          - KAFKA_ZOOKEEPER_CONNECT=zookeeper:2181\r\n          - KAFKA_CREATE_TOPICS=dresses:1:1, ratings:1:1\r\n          - KAFKA_SOCKET_REQUEST_MAX_BYTES=2000000000\r\n          - KAFKA_HEAP_OPTS=-Xmx512M -Xmx5g\r\n        volumes:\r\n          - &quot;/var/run/docker.sock:/var/run/docker.sock&quot;\r\n        depends_on:\r\n          - zookeeper\r\n        networks:\r\n          - spring-cloud-network\r\n    \r\n      facultate:\r\n        container_name: facultate\r\n        build: C:\\Users\\marius\\com.balabasciuc.springmicroservicesinaction\\facultateservice\r\n        restart: on-failure\r\n        ports:\r\n          - &quot;1002:1002&quot;\r\n        environment:\r\n          SPRING_CLOUD_CONFIG_URI: &quot;http://config:7070&quot;\r\n          EUREKA_HOST: server\r\n          EUREKA_PORT: 9001\r\n          DATABASE_HOST: database\r\n         # SPRING_CLOUD_STREAM_KAFKA_BINDER_BROKERS: kafka:9092\r\n        depends_on:\r\n          - kafka\r\n          - zookeeper\r\n          - server\r\n        networks:\r\n          - spring-cloud-network\r\n    volumes:\r\n      simple:\r\n        driver: local\r\n    networks:\r\n      spring-cloud-network:\r\n        driver: bridge\r\n\r\nSpring Cloud producer prop:\r\n\r\n    spring.cloud.stream.bindings.output.destination=orgChangeTopic\r\n    spring.cloud.stream.bindings.output.content-type=application/json\r\n    spring.cloud.stream.kafka.binder.brokers=kafka\r\n    spring.cloud.stream.kafka.binder.zkNodes=zookeeper\r\n\r\n\r\nDocker Logs:\r\n\r\n    facultate    | 2022-02-01 11:15:47.246  INFO 1 --- [           main] o.s.i.channel.PublishSubscribeChannel    : Channel &#39;application-1.errorChannel&#39; has 1 subscriber(s).\r\n    facultate    | 2022-02-01 11:15:47.247  INFO 1 --- [           main] o.s.i.endpoint.EventDrivenConsumer       : started bean &#39;_org.springframework.integration.errorLogger&#39;\r\n    facultate    | 2022-02-01 11:15:47.251  INFO 1 --- [           main] o.s.c.s.binder.DefaultBinderFactory      : Creating binder: kafka\r\n    facultate    | 2022-02-01 11:15:47.876  INFO 1 --- [           main] o.s.c.s.binder.DefaultBinderFactory      : Caching the binder: kafka\r\n    facultate    | 2022-02-01 11:15:47.876  INFO 1 --- [           main] o.s.c.s.binder.DefaultBinderFactory      : Retrieving cached binder: kafka\r\n    facultate    | 2022-02-01 11:15:48.138  INFO 1 --- [           main] o.s.c.s.b.k.p.KafkaTopicProvisioner      : Using kafka topic for outbound: orgChangeTopic\r\n    facultate    | 2022-02-01 11:15:48.150  INFO 1 --- [           main] o.a.k.clients.admin.AdminClientConfig    : AdminClientConfig values:\r\n    facultate    |  bootstrap.servers = [kafka:9092]\r\n    facultate    |  client.dns.lookup = use_all_dns_ips\r\n    facultate    |  client.id =\r\n    facultate    |  connections.max.idle.ms = 300000\r\n    facultate    |  default.api.timeout.ms = 60000\r\n    facultate    |  metadata.max.age.ms = 300000\r\n    facultate    |  metric.reporters = []\r\n    facultate    |  metrics.num.samples = 2\r\n    facultate    |  metrics.recording.level = INFO\r\n    facultate    |  metrics.sample.window.ms = 30000\r\n    facultate    |  receive.buffer.bytes = 65536\r\n    facultate    |  reconnect.backoff.max.ms = 1000\r\n    facultate    |  reconnect.backoff.ms = 50\r\n    facultate    |  request.timeout.ms = 30000\r\n    facultate    |  retries = 2147483647\r\n    facultate    |  retry.backoff.ms = 100\r\n    facultate    |  sasl.client.callback.handler.class = null\r\n    facultate    |  sasl.jaas.config = null\r\n    facultate    |  sasl.kerberos.kinit.cmd = /usr/bin/kinit\r\n    facultate    |  sasl.kerberos.min.time.before.relogin = 60000\r\n    facultate    |  sasl.kerberos.service.name = null\r\n    facultate    |  sasl.kerberos.ticket.renew.jitter = 0.05\r\n    facultate    |  sasl.kerberos.ticket.renew.window.factor = 0.8\r\n    facultate    |  sasl.login.callback.handler.class = null\r\n    facultate    |  sasl.login.class = null\r\n    facultate    |  sasl.login.refresh.buffer.seconds = 300\r\n    facultate    |  sasl.login.refresh.min.period.seconds = 60\r\n    facultate    |  sasl.login.refresh.window.factor = 0.8\r\n    facultate    |  sasl.login.refresh.window.jitter = 0.05\r\n    facultate    |  sasl.mechanism = GSSAPI\r\n    facultate    |  security.protocol = PLAINTEXT\r\n    facultate    |  security.providers = null\r\n    facultate    |  send.buffer.bytes = 131072\r\n    facultate    |  socket.connection.setup.timeout.max.ms = 30000\r\n    facultate    |  socket.connection.setup.timeout.ms = 10000\r\n    facultate    |  ssl.cipher.suites = null\r\n    facultate    |  ssl.enabled.protocols = [TLSv1.2, TLSv1.3]\r\n    facultate    |  ssl.endpoint.identification.algorithm = https\r\n    facultate    |  ssl.engine.factory.class = null\r\n    facultate    |  ssl.key.password = null\r\n    facultate    |  ssl.keymanager.algorithm = SunX509\r\n    facultate    |  ssl.keystore.certificate.chain = null\r\n    facultate    |  ssl.keystore.key = null\r\n    facultate    |  ssl.keystore.location = null\r\n    facultate    |  ssl.keystore.password = null\r\n    facultate    |  ssl.keystore.type = JKS\r\n    facultate    |  ssl.protocol = TLSv1.3\r\n    facultate    |  ssl.provider = null\r\n    facultate    |  ssl.secure.random.implementation = null\r\n    facultate    |  ssl.trustmanager.algorithm = PKIX\r\n    facultate    |  ssl.truststore.certificates = null\r\n    facultate    |  ssl.truststore.location = null\r\n    facultate    |  ssl.truststore.password = null\r\n    facultate    |  ssl.truststore.type = JKS\r\n    facultate    |\r\n    facultate    | 2022-02-01 11:15:48.614  INFO 1 --- [           main] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 3.0.0\r\n    facultate    | 2022-02-01 11:15:48.618  INFO 1 --- [           main] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: 8cb0a5e9d3441962\r\n    facultate    | 2022-02-01 11:15:48.619  INFO 1 --- [           main] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1643714148612\r\n    facultate    | 2022-02-01 11:15:53.683  INFO 1 --- [| adminclient-1] o.a.kafka.common.utils.AppInfoParser     : App info kafka.admin.client for adminclient-1 unregistered\r\n    facultate    | 2022-02-01 11:15:53.767  INFO 1 --- [| adminclient-1] org.apache.kafka.common.metrics.Metrics  : Metrics scheduler closed\r\n    facultate    | 2022-02-01 11:15:53.775  INFO 1 --- [| adminclient-1] org.apache.kafka.common.metrics.Metrics  : Closing reporter org.apache.kafka.common.metrics.JmxReporter\r\n    facultate    | 2022-02-01 11:15:53.775  INFO 1 --- [| adminclient-1] org.apache.kafka.common.metrics.Metrics  : Metrics reporters closed\r\n    facultate    | 2022-02-01 11:15:53.899  INFO 1 --- [           main] o.a.k.clients.producer.ProducerConfig    : ProducerConfig values:\r\n    facultate    |  acks = 1\r\n    facultate    |  batch.size = 16384\r\n    facultate    |  bootstrap.servers = [kafka:9092]\r\n    facultate    |  buffer.memory = 33554432\r\n    facultate    |  client.dns.lookup = use_all_dns_ips\r\n    facultate    |  client.id = producer-1\r\n    facultate    |  compression.type = none\r\n    facultate    |  connections.max.idle.ms = 540000\r\n    facultate    |  delivery.timeout.ms = 120000\r\n    facultate    |  enable.idempotence = true\r\n    facultate    |  interceptor.classes = []\r\n    facultate    |  key.serializer = class org.apache.kafka.common.serialization.ByteArraySerializer\r\n    facultate    |  linger.ms = 0\r\n    facultate    |  max.block.ms = 60000\r\n    facultate    |  max.in.flight.requests.per.connection = 5\r\n    facultate    |  max.request.size = 1048576\r\n    facultate    |  metadata.max.age.ms = 300000\r\n    facultate    |  metadata.max.idle.ms = 300000\r\n    facultate    |  metric.reporters = []\r\n    facultate    |  metrics.num.samples = 2\r\n    facultate    |  metrics.recording.level = INFO\r\n    facultate    |  metrics.sample.window.ms = 30000\r\n    facultate    |  partitioner.class = class org.apache.kafka.clients.producer.internals.DefaultPartitioner\r\n    facultate    |  receive.buffer.bytes = 32768\r\n    facultate    |  reconnect.backoff.max.ms = 1000\r\n    facultate    |  reconnect.backoff.ms = 50\r\n    facultate    |  request.timeout.ms = 30000\r\n    facultate    |  retries = 2147483647\r\n    facultate    |  retry.backoff.ms = 100\r\n    facultate    |  sasl.client.callback.handler.class = null\r\n    facultate    |  sasl.jaas.config = null\r\n    facultate    |  sasl.kerberos.kinit.cmd = /usr/bin/kinit\r\n    facultate    |  sasl.kerberos.min.time.before.relogin = 60000\r\n    facultate    |  sasl.kerberos.service.name = null\r\n    facultate    |  sasl.kerberos.ticket.renew.jitter = 0.05\r\n    facultate    |  sasl.kerberos.ticket.renew.window.factor = 0.8\r\n    facultate    |  sasl.login.callback.handler.class = null\r\n    facultate    |  sasl.login.class = null\r\n    facultate    |  sasl.login.refresh.buffer.seconds = 300\r\n    facultate    |  sasl.login.refresh.min.period.seconds = 60\r\n    facultate    |  sasl.login.refresh.window.factor = 0.8\r\n    facultate    |  sasl.login.refresh.window.jitter = 0.05\r\n    facultate    |  sasl.mechanism = GSSAPI\r\n    facultate    |  security.protocol = PLAINTEXT\r\n    facultate    |  security.providers = null\r\n    facultate    |  send.buffer.bytes = 131072\r\n    facultate    |  socket.connection.setup.timeout.max.ms = 30000\r\n    facultate    |  socket.connection.setup.timeout.ms = 10000\r\n    facultate    |  ssl.cipher.suites = null\r\n    facultate    |  ssl.enabled.protocols = [TLSv1.2, TLSv1.3]\r\n    facultate    |  ssl.endpoint.identification.algorithm = https\r\n    facultate    |  ssl.engine.factory.class = null\r\n    facultate    |  ssl.key.password = null\r\n    facultate    |  ssl.keymanager.algorithm = SunX509\r\n    facultate    |  ssl.keystore.certificate.chain = null\r\n    facultate    |  ssl.keystore.key = null\r\n    facultate    |  ssl.keystore.location = null\r\n    facultate    |  ssl.keystore.password = null\r\n    facultate    |  ssl.keystore.type = JKS\r\n    facultate    |  ssl.protocol = TLSv1.3\r\n    facultate    |  ssl.provider = null\r\n    facultate    |  ssl.secure.random.implementation = null\r\n    facultate    |  ssl.trustmanager.algorithm = PKIX\r\n    facultate    |  ssl.truststore.certificates = null\r\n    facultate    |  ssl.truststore.location = null\r\n    facultate    |  ssl.truststore.password = null\r\n    facultate    |  ssl.truststore.type = JKS\r\n    facultate    |  transaction.timeout.ms = 60000\r\n    facultate    |  transactional.id = null\r\n    facultate    |  value.serializer = class org.apache.kafka.common.serialization.ByteArraySerializer\r\n    facultate    |\r\n    facultate    | 2022-02-01 11:15:54.147  INFO 1 --- [           main] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 3.0.0\r\n    facultate    | 2022-02-01 11:15:54.148  INFO 1 --- [           main] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: 8cb0a5e9d3441962\r\n    facultate    | 2022-02-01 11:15:54.148  INFO 1 --- [           main] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1643714154147\r\n    facultate    | 2022-02-01 11:15:54.293  INFO 1 --- [ad | producer-1] org.apache.kafka.clients.Metadata        : [Producer clientId=producer-1] Cluster ID: RK0OLlwdRKK-oQ5dsWuHBw\r\n    facultate    | 2022-02-01 11:15:54.431  INFO 1 --- [           main] o.s.c.s.m.DirectWithAttributesChannel    : Channel &#39;application-1.output&#39; has 1 subscriber(s).\r\n\r\nKafka logs container:\r\n\r\n    kafka        | [2022-02-01 10:57:12,073] INFO [Partition dresses-0 broker=1001] Log loaded for partition dresses-0 with initial high watermark 0 (kafka.cluster.Partition)\r\n    zookeeper    | 2022-02-01 10:57:09,689 [myid:] - INFO  [ProcessThread(sid:0 cport:2181)::PrepRequestProcessor@596] - Got user-level KeeperException when processing sessionid:0x100001f44830000 type:multi cxid:0x4e zxid:0x31 txntype:-1 reqpath:n/a aborting remaining multi ops. Error Path:/admin/prefer\r\n    red_replica_election Error:KeeperErrorCode = NoNode for /admin/preferred_replica_election\r\n    kafka        | [2022-02-01 11:15:52,573] INFO Creating topic orgChangeTopic with configuration {} and initial partition assignment HashMap(0 -&gt; ArrayBuffer(1001)) (kafka.zk.AdminZkClient)\r\n    kafka        | [2022-02-01 11:15:53,447] INFO [ReplicaFetcherManager on broker 1001] Removed fetcher for partitions Set(orgChangeTopic-0) (kafka.server.ReplicaFetcherManager)\r\n    kafka        | [2022-02-01 11:15:53,484] INFO [Log partition=orgChangeTopic-0, dir=/kafka/kafka-logs-bde9c032b736] Loading producer state till offset 0 with message format version 2 (kafka.log.Log)\r\n    kafka        | [2022-02-01 11:15:53,488] INFO Created log for partition orgChangeTopic-0 in /kafka/kafka-logs-bde9c032b736/orgChangeTopic-0 with properties {} (kafka.log.LogManager)\r\n    kafka        | [2022-02-01 11:15:53,505] INFO [Partition orgChangeTopic-0 broker=1001] No checkpointed highwatermark is found for partition orgChangeTopic-0 (kafka.cluster.Partition)\r\n\r\nIf i post something to generate a message being produced for kafka, nothing appears in the logs... or in kafka\r\n\r\n","title":"Kafka producer Spring Cloud app won&#39;t publish anything","body":"<p>i started connected my spring cloud app with kafka and zookeeper hosted in docker-compose file, they're connected, but when i run the application and expect the Producer to publish a message, get nothing... i don't know what the error is, i followed this example: <a href=\"https://github.com/ihuaylupo/manning-smia/tree/master/chapter10/licensing-service/src/main/java/com/optimagrowth/license/events\" rel=\"nofollow noreferrer\">https://github.com/ihuaylupo/manning-smia/tree/master/chapter10/licensing-service/src/main/java/com/optimagrowth/license/events</a></p>\n<p>Workflow is that from the github repo example, when i call and endPoint Post on a Service, for example, i wish to my kafka producer to publish a message on topic and Kafka consumer to consume that message, but everything works - Endpoint execute against DB, except kafka producing and consuming messaging, not even an error to know where i did wrong...</p>\n<p>Docker-compose file:</p>\n<pre><code> zookeeper:\n    image: wurstmeister/zookeeper\n    container_name: zookeeper\n    ports:\n      - &quot;2181:2181&quot;\n    \n\n  kafkaserver:\n    image: wurstmeister/kafka\n    container_name: kafka\n    ports:\n      - &quot;9092:9092&quot;\n    environment:\n      - KAFKA_ADVERTISED_HOST_NAME=192.168.99.100 #kafka 192.168.99.100 #kafka - ip because i want to access kafka and zookeeper from outside of containers, i.e localhost\n      - KAFKA_ADVERTISED_PORT=9092\n      - KAFKA_ZOOKEEPER_CONNECT=zookeeper:2181\n      - KAFKA_CREATE_TOPICS=dresses:1:1, ratings:1:1\n      - KAFKA_SOCKET_REQUEST_MAX_BYTES=2000000000\n      - KAFKA_HEAP_OPTS=-Xmx512M -Xmx5g\n      - listeners=PLAINTEXT://:9092\n      - advertised.listeners=PLAINTEXT://192.168.99.100:9092\n    volumes:\n      - &quot;/var/run/docker.sock:/var/run/docker.sock&quot;\n    depends_on:\n      - zookeeper\n</code></pre>\n<p>Kafka consumer spring cloud properties:</p>\n<pre><code>spring.cloud.stream.bindings.inboundOrgChanges.destination=orgChangeTopic\nspring.cloud.stream.bindings.inboundOrgChanges.content-type=application/json\nspring.cloud.stream.bindings.inboundOrgChanges.group=studentsGroup\nspring.cloud.stream.kafka.binder.brokers=localhost #kafka\nspring.cloud.stream.kafka.binder.zkNodes=localhost\n</code></pre>\n<p>Kafka producer spring cloud properties:</p>\n<pre><code>spring.cloud.stream.bindings.output.destination=orgChangeTopic\nspring.cloud.stream.bindings.output.content-type=application/json\nspring.cloud.stream.kafka.binder.zkNodes=http://192.168.99.100:2181\nspring.cloud.stream.kafka.binder.brokers=http://192.168.99.100:9092\n</code></pre>\n<p>Kafka Producer...</p>\n<pre><code>@EnableBinding(Source.class) // - on my main Spring app\n@Component\npublic class SimpleSourceBean {\n    private Source source;\n\n    private static final Logger logger = LoggerFactory.getLogger(SimpleSourceBean.class);\n\n    @Autowired\n    public SimpleSourceBean(Source source){\n        this.source = source;\n    }\n\n    public void publishOrganizationChange(String action, String organizationId){\n       logger.debug(&quot;Sending Kafka message {} for Organization Id: {}&quot;, action, organizationId);\n        OrganizationChangeModel change =  new OrganizationChangeModel(\n                OrganizationChangeModel.class.getTypeName(),\n                action,\n                organizationId,\n                UserContext.getCorrelationId());\n\n        source.output().send(MessageBuilder.withPayload(change).build());\n    }\n}\n</code></pre>\n<hr />\n<pre><code>@Getter @Setter @ToString\npublic class OrganizationChangeModel {\n    private String type;\n    private String action;\n    private String organizationId;\n    private String correlationId;\n\n    public OrganizationChangeModel(String type, String action, String organizationId, String correlationId) {\n        super();\n        this.type = type;\n        this.action = action;\n        this.organizationId = organizationId;\n        this.correlationId = correlationId;\n    }\n}\n\n@Service class ServiceEx {\n    @Autowired\n    SimpleSourceBean simpleSourceBean;\n\n    public Organization findById(String organizationId) {\n        Optional&lt;Organization&gt; opt = repository.findById(organizationId);\n        simpleSourceBean.publishOrganizationChange(&quot;GET&quot;, organizationId);\n        return (opt.isPresent()) ? opt.get() : null;\n    }   //wont do anything }\n</code></pre>\n<p>Edited:\nDocker-compose file:</p>\n<pre><code>version: '3'\nservices:\n  zookeeper:\n    image: wurstmeister/zookeeper\n    container_name: zookeeper\n    ports:\n      - &quot;2181:2181&quot;\n    networks:\n      - spring-cloud-network\n\n  kafka:\n    image: wurstmeister/kafka\n    container_name: kafka\n    ports:\n      - &quot;9092:9092&quot;\n    environment:\n      - KAFKA_ADVERTISED_HOST_NAME=kafka\n      - KAFKA_ADVERTISED_PORT=9092\n      - KAFKA_ZOOKEEPER_CONNECT=zookeeper:2181\n      - KAFKA_CREATE_TOPICS=dresses:1:1, ratings:1:1\n      - KAFKA_SOCKET_REQUEST_MAX_BYTES=2000000000\n      - KAFKA_HEAP_OPTS=-Xmx512M -Xmx5g\n    volumes:\n      - &quot;/var/run/docker.sock:/var/run/docker.sock&quot;\n    depends_on:\n      - zookeeper\n    networks:\n      - spring-cloud-network\n\n  facultate:\n    container_name: facultate\n    build: C:\\Users\\marius\\com.balabasciuc.springmicroservicesinaction\\facultateservice\n    restart: on-failure\n    ports:\n      - &quot;1002:1002&quot;\n    environment:\n      SPRING_CLOUD_CONFIG_URI: &quot;http://config:7070&quot;\n      EUREKA_HOST: server\n      EUREKA_PORT: 9001\n      DATABASE_HOST: database\n     # SPRING_CLOUD_STREAM_KAFKA_BINDER_BROKERS: kafka:9092\n    depends_on:\n      - kafka\n      - zookeeper\n      - server\n    networks:\n      - spring-cloud-network\nvolumes:\n  simple:\n    driver: local\nnetworks:\n  spring-cloud-network:\n    driver: bridge\n</code></pre>\n<p>Spring Cloud producer prop:</p>\n<pre><code>spring.cloud.stream.bindings.output.destination=orgChangeTopic\nspring.cloud.stream.bindings.output.content-type=application/json\nspring.cloud.stream.kafka.binder.brokers=kafka\nspring.cloud.stream.kafka.binder.zkNodes=zookeeper\n</code></pre>\n<p>Docker Logs:</p>\n<pre><code>facultate    | 2022-02-01 11:15:47.246  INFO 1 --- [           main] o.s.i.channel.PublishSubscribeChannel    : Channel 'application-1.errorChannel' has 1 subscriber(s).\nfacultate    | 2022-02-01 11:15:47.247  INFO 1 --- [           main] o.s.i.endpoint.EventDrivenConsumer       : started bean '_org.springframework.integration.errorLogger'\nfacultate    | 2022-02-01 11:15:47.251  INFO 1 --- [           main] o.s.c.s.binder.DefaultBinderFactory      : Creating binder: kafka\nfacultate    | 2022-02-01 11:15:47.876  INFO 1 --- [           main] o.s.c.s.binder.DefaultBinderFactory      : Caching the binder: kafka\nfacultate    | 2022-02-01 11:15:47.876  INFO 1 --- [           main] o.s.c.s.binder.DefaultBinderFactory      : Retrieving cached binder: kafka\nfacultate    | 2022-02-01 11:15:48.138  INFO 1 --- [           main] o.s.c.s.b.k.p.KafkaTopicProvisioner      : Using kafka topic for outbound: orgChangeTopic\nfacultate    | 2022-02-01 11:15:48.150  INFO 1 --- [           main] o.a.k.clients.admin.AdminClientConfig    : AdminClientConfig values:\nfacultate    |  bootstrap.servers = [kafka:9092]\nfacultate    |  client.dns.lookup = use_all_dns_ips\nfacultate    |  client.id =\nfacultate    |  connections.max.idle.ms = 300000\nfacultate    |  default.api.timeout.ms = 60000\nfacultate    |  metadata.max.age.ms = 300000\nfacultate    |  metric.reporters = []\nfacultate    |  metrics.num.samples = 2\nfacultate    |  metrics.recording.level = INFO\nfacultate    |  metrics.sample.window.ms = 30000\nfacultate    |  receive.buffer.bytes = 65536\nfacultate    |  reconnect.backoff.max.ms = 1000\nfacultate    |  reconnect.backoff.ms = 50\nfacultate    |  request.timeout.ms = 30000\nfacultate    |  retries = 2147483647\nfacultate    |  retry.backoff.ms = 100\nfacultate    |  sasl.client.callback.handler.class = null\nfacultate    |  sasl.jaas.config = null\nfacultate    |  sasl.kerberos.kinit.cmd = /usr/bin/kinit\nfacultate    |  sasl.kerberos.min.time.before.relogin = 60000\nfacultate    |  sasl.kerberos.service.name = null\nfacultate    |  sasl.kerberos.ticket.renew.jitter = 0.05\nfacultate    |  sasl.kerberos.ticket.renew.window.factor = 0.8\nfacultate    |  sasl.login.callback.handler.class = null\nfacultate    |  sasl.login.class = null\nfacultate    |  sasl.login.refresh.buffer.seconds = 300\nfacultate    |  sasl.login.refresh.min.period.seconds = 60\nfacultate    |  sasl.login.refresh.window.factor = 0.8\nfacultate    |  sasl.login.refresh.window.jitter = 0.05\nfacultate    |  sasl.mechanism = GSSAPI\nfacultate    |  security.protocol = PLAINTEXT\nfacultate    |  security.providers = null\nfacultate    |  send.buffer.bytes = 131072\nfacultate    |  socket.connection.setup.timeout.max.ms = 30000\nfacultate    |  socket.connection.setup.timeout.ms = 10000\nfacultate    |  ssl.cipher.suites = null\nfacultate    |  ssl.enabled.protocols = [TLSv1.2, TLSv1.3]\nfacultate    |  ssl.endpoint.identification.algorithm = https\nfacultate    |  ssl.engine.factory.class = null\nfacultate    |  ssl.key.password = null\nfacultate    |  ssl.keymanager.algorithm = SunX509\nfacultate    |  ssl.keystore.certificate.chain = null\nfacultate    |  ssl.keystore.key = null\nfacultate    |  ssl.keystore.location = null\nfacultate    |  ssl.keystore.password = null\nfacultate    |  ssl.keystore.type = JKS\nfacultate    |  ssl.protocol = TLSv1.3\nfacultate    |  ssl.provider = null\nfacultate    |  ssl.secure.random.implementation = null\nfacultate    |  ssl.trustmanager.algorithm = PKIX\nfacultate    |  ssl.truststore.certificates = null\nfacultate    |  ssl.truststore.location = null\nfacultate    |  ssl.truststore.password = null\nfacultate    |  ssl.truststore.type = JKS\nfacultate    |\nfacultate    | 2022-02-01 11:15:48.614  INFO 1 --- [           main] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 3.0.0\nfacultate    | 2022-02-01 11:15:48.618  INFO 1 --- [           main] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: 8cb0a5e9d3441962\nfacultate    | 2022-02-01 11:15:48.619  INFO 1 --- [           main] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1643714148612\nfacultate    | 2022-02-01 11:15:53.683  INFO 1 --- [| adminclient-1] o.a.kafka.common.utils.AppInfoParser     : App info kafka.admin.client for adminclient-1 unregistered\nfacultate    | 2022-02-01 11:15:53.767  INFO 1 --- [| adminclient-1] org.apache.kafka.common.metrics.Metrics  : Metrics scheduler closed\nfacultate    | 2022-02-01 11:15:53.775  INFO 1 --- [| adminclient-1] org.apache.kafka.common.metrics.Metrics  : Closing reporter org.apache.kafka.common.metrics.JmxReporter\nfacultate    | 2022-02-01 11:15:53.775  INFO 1 --- [| adminclient-1] org.apache.kafka.common.metrics.Metrics  : Metrics reporters closed\nfacultate    | 2022-02-01 11:15:53.899  INFO 1 --- [           main] o.a.k.clients.producer.ProducerConfig    : ProducerConfig values:\nfacultate    |  acks = 1\nfacultate    |  batch.size = 16384\nfacultate    |  bootstrap.servers = [kafka:9092]\nfacultate    |  buffer.memory = 33554432\nfacultate    |  client.dns.lookup = use_all_dns_ips\nfacultate    |  client.id = producer-1\nfacultate    |  compression.type = none\nfacultate    |  connections.max.idle.ms = 540000\nfacultate    |  delivery.timeout.ms = 120000\nfacultate    |  enable.idempotence = true\nfacultate    |  interceptor.classes = []\nfacultate    |  key.serializer = class org.apache.kafka.common.serialization.ByteArraySerializer\nfacultate    |  linger.ms = 0\nfacultate    |  max.block.ms = 60000\nfacultate    |  max.in.flight.requests.per.connection = 5\nfacultate    |  max.request.size = 1048576\nfacultate    |  metadata.max.age.ms = 300000\nfacultate    |  metadata.max.idle.ms = 300000\nfacultate    |  metric.reporters = []\nfacultate    |  metrics.num.samples = 2\nfacultate    |  metrics.recording.level = INFO\nfacultate    |  metrics.sample.window.ms = 30000\nfacultate    |  partitioner.class = class org.apache.kafka.clients.producer.internals.DefaultPartitioner\nfacultate    |  receive.buffer.bytes = 32768\nfacultate    |  reconnect.backoff.max.ms = 1000\nfacultate    |  reconnect.backoff.ms = 50\nfacultate    |  request.timeout.ms = 30000\nfacultate    |  retries = 2147483647\nfacultate    |  retry.backoff.ms = 100\nfacultate    |  sasl.client.callback.handler.class = null\nfacultate    |  sasl.jaas.config = null\nfacultate    |  sasl.kerberos.kinit.cmd = /usr/bin/kinit\nfacultate    |  sasl.kerberos.min.time.before.relogin = 60000\nfacultate    |  sasl.kerberos.service.name = null\nfacultate    |  sasl.kerberos.ticket.renew.jitter = 0.05\nfacultate    |  sasl.kerberos.ticket.renew.window.factor = 0.8\nfacultate    |  sasl.login.callback.handler.class = null\nfacultate    |  sasl.login.class = null\nfacultate    |  sasl.login.refresh.buffer.seconds = 300\nfacultate    |  sasl.login.refresh.min.period.seconds = 60\nfacultate    |  sasl.login.refresh.window.factor = 0.8\nfacultate    |  sasl.login.refresh.window.jitter = 0.05\nfacultate    |  sasl.mechanism = GSSAPI\nfacultate    |  security.protocol = PLAINTEXT\nfacultate    |  security.providers = null\nfacultate    |  send.buffer.bytes = 131072\nfacultate    |  socket.connection.setup.timeout.max.ms = 30000\nfacultate    |  socket.connection.setup.timeout.ms = 10000\nfacultate    |  ssl.cipher.suites = null\nfacultate    |  ssl.enabled.protocols = [TLSv1.2, TLSv1.3]\nfacultate    |  ssl.endpoint.identification.algorithm = https\nfacultate    |  ssl.engine.factory.class = null\nfacultate    |  ssl.key.password = null\nfacultate    |  ssl.keymanager.algorithm = SunX509\nfacultate    |  ssl.keystore.certificate.chain = null\nfacultate    |  ssl.keystore.key = null\nfacultate    |  ssl.keystore.location = null\nfacultate    |  ssl.keystore.password = null\nfacultate    |  ssl.keystore.type = JKS\nfacultate    |  ssl.protocol = TLSv1.3\nfacultate    |  ssl.provider = null\nfacultate    |  ssl.secure.random.implementation = null\nfacultate    |  ssl.trustmanager.algorithm = PKIX\nfacultate    |  ssl.truststore.certificates = null\nfacultate    |  ssl.truststore.location = null\nfacultate    |  ssl.truststore.password = null\nfacultate    |  ssl.truststore.type = JKS\nfacultate    |  transaction.timeout.ms = 60000\nfacultate    |  transactional.id = null\nfacultate    |  value.serializer = class org.apache.kafka.common.serialization.ByteArraySerializer\nfacultate    |\nfacultate    | 2022-02-01 11:15:54.147  INFO 1 --- [           main] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 3.0.0\nfacultate    | 2022-02-01 11:15:54.148  INFO 1 --- [           main] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: 8cb0a5e9d3441962\nfacultate    | 2022-02-01 11:15:54.148  INFO 1 --- [           main] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1643714154147\nfacultate    | 2022-02-01 11:15:54.293  INFO 1 --- [ad | producer-1] org.apache.kafka.clients.Metadata        : [Producer clientId=producer-1] Cluster ID: RK0OLlwdRKK-oQ5dsWuHBw\nfacultate    | 2022-02-01 11:15:54.431  INFO 1 --- [           main] o.s.c.s.m.DirectWithAttributesChannel    : Channel 'application-1.output' has 1 subscriber(s).\n</code></pre>\n<p>Kafka logs container:</p>\n<pre><code>kafka        | [2022-02-01 10:57:12,073] INFO [Partition dresses-0 broker=1001] Log loaded for partition dresses-0 with initial high watermark 0 (kafka.cluster.Partition)\nzookeeper    | 2022-02-01 10:57:09,689 [myid:] - INFO  [ProcessThread(sid:0 cport:2181)::PrepRequestProcessor@596] - Got user-level KeeperException when processing sessionid:0x100001f44830000 type:multi cxid:0x4e zxid:0x31 txntype:-1 reqpath:n/a aborting remaining multi ops. Error Path:/admin/prefer\nred_replica_election Error:KeeperErrorCode = NoNode for /admin/preferred_replica_election\nkafka        | [2022-02-01 11:15:52,573] INFO Creating topic orgChangeTopic with configuration {} and initial partition assignment HashMap(0 -&gt; ArrayBuffer(1001)) (kafka.zk.AdminZkClient)\nkafka        | [2022-02-01 11:15:53,447] INFO [ReplicaFetcherManager on broker 1001] Removed fetcher for partitions Set(orgChangeTopic-0) (kafka.server.ReplicaFetcherManager)\nkafka        | [2022-02-01 11:15:53,484] INFO [Log partition=orgChangeTopic-0, dir=/kafka/kafka-logs-bde9c032b736] Loading producer state till offset 0 with message format version 2 (kafka.log.Log)\nkafka        | [2022-02-01 11:15:53,488] INFO Created log for partition orgChangeTopic-0 in /kafka/kafka-logs-bde9c032b736/orgChangeTopic-0 with properties {} (kafka.log.LogManager)\nkafka        | [2022-02-01 11:15:53,505] INFO [Partition orgChangeTopic-0 broker=1001] No checkpointed highwatermark is found for partition orgChangeTopic-0 (kafka.cluster.Partition)\n</code></pre>\n<p>If i post something to generate a message being produced for kafka, nothing appears in the logs... or in kafka</p>\n"},{"tags":["java","executorservice","threadpoolexecutor","lifo"],"comments":[{"owner":{"account_id":2423351,"reputation":1931,"user_id":2115836,"display_name":"Ali Ben Zarrouk"},"score":3,"creation_date":1643647787,"post_id":70929583,"comment_id":125390154,"body_markdown":"https://stackoverflow.com/questions/6107609/executor-service-with-lifo-ordering","body":"<a href=\"https://stackoverflow.com/questions/6107609/executor-service-with-lifo-ordering\" title=\"executor service with lifo ordering\">stackoverflow.com/questions/6107609/&hellip;</a>"}],"owner":{"account_id":4531157,"reputation":3278,"user_id":3681607,"display_name":"St&#233;phane Millien"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"closed_date":1643702888,"answer_count":0,"score":1,"last_activity_date":1643713493,"creation_date":1643647231,"question_id":70929583,"body_markdown":"I have a client application in `Java Swing` which displays a list of pictures.\r\nPictures are displayed with `JLabel`. The thumbnails are cached in a `Firebird` database and returned by a web-service `Soap/MTOM`.\r\n\r\n[Video of the behavior](https://drive.google.com/file/d/1DFYAwON6FbyI6p-BLDgQmHD2mxQ46Gua/view?usp=sharing)\r\n\r\nI create all the `Jlabel` in a `SwingWorker` and retrieve the thumbnail in the paint method of the `Jlabel` (if icon not yet assigned).\r\nI am using an Java `ExecutorService` to call the web-services which return each thumbnail.\r\n\r\nAs you can see in the video, when I scroll down a big amount lines, I have to wait that all thumbnails in `JLabel` visible during scrolling are fetched.\r\n\r\nThe `ExecutorService` is instantiated like this:\r\n\r\n``` lang-java\r\nExecutorService executor = Executors.newFixedThreadPool(20);\r\n```\r\nThe piece of code called from `paint` method when `getIcon() == null` is:\r\n``` lang-java\r\nexecutor.execute(new FutureTask&lt;Void&gt;(() -&gt; {\r\n\tvar image = EdmWS.getInstance().getThumbnail(thumbnail.date, thumbnail.name, sizeThumbnail);\r\n\tlabel.setIcon(new ImageIcon(image));\r\n\tlabel.invalidate();\r\n}, null));\r\n```\r\nIs there a way to have an executor working like a LIFO (last in first out) to get the thumbnails of displayed `JLabel` as soon as possible?\r\n\r\n\r\n----------\r\n\r\nThank for your comment, [Executor Service with LIFO ordering](https://stackoverflow.com/questions/6107609/executor-service-with-lifo-ordering)\r\n``` lang-java\r\nexecutor = new ThreadPoolExecutor(20, 20, 0L, TimeUnit.MILLISECONDS, new LinkedBlockingDeque&lt;Runnable&gt;() {\r\n\r\n\tprivate static final long serialVersionUID = 1L;\r\n\r\n\t@Override\r\n\tpublic boolean offer(Runnable e) {\r\n\t\treturn super.offerFirst(e);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic boolean offer(Runnable e, long timeout, TimeUnit unit) throws InterruptedException {\r\n\t\treturn super.offerFirst(e, timeout, unit);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic boolean add(Runnable e) {\r\n\t\treturn super.offerFirst(e);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void put(Runnable e) throws InterruptedException {\r\n\t\tsuper.putFirst(e);\r\n\t}\r\n});\r\n```\r\ndo the job.","title":"How to make an ExecutorService act as a LIFO","body":"<p>I have a client application in <code>Java Swing</code> which displays a list of pictures.\nPictures are displayed with <code>JLabel</code>. The thumbnails are cached in a <code>Firebird</code> database and returned by a web-service <code>Soap/MTOM</code>.</p>\n<p><a href=\"https://drive.google.com/file/d/1DFYAwON6FbyI6p-BLDgQmHD2mxQ46Gua/view?usp=sharing\" rel=\"nofollow noreferrer\">Video of the behavior</a></p>\n<p>I create all the <code>Jlabel</code> in a <code>SwingWorker</code> and retrieve the thumbnail in the paint method of the <code>Jlabel</code> (if icon not yet assigned).\nI am using an Java <code>ExecutorService</code> to call the web-services which return each thumbnail.</p>\n<p>As you can see in the video, when I scroll down a big amount lines, I have to wait that all thumbnails in <code>JLabel</code> visible during scrolling are fetched.</p>\n<p>The <code>ExecutorService</code> is instantiated like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ExecutorService executor = Executors.newFixedThreadPool(20);\n</code></pre>\n<p>The piece of code called from <code>paint</code> method when <code>getIcon() == null</code> is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>executor.execute(new FutureTask&lt;Void&gt;(() -&gt; {\n    var image = EdmWS.getInstance().getThumbnail(thumbnail.date, thumbnail.name, sizeThumbnail);\n    label.setIcon(new ImageIcon(image));\n    label.invalidate();\n}, null));\n</code></pre>\n<p>Is there a way to have an executor working like a LIFO (last in first out) to get the thumbnails of displayed <code>JLabel</code> as soon as possible?</p>\n<hr />\n<p>Thank for your comment, <a href=\"https://stackoverflow.com/questions/6107609/executor-service-with-lifo-ordering\">Executor Service with LIFO ordering</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>executor = new ThreadPoolExecutor(20, 20, 0L, TimeUnit.MILLISECONDS, new LinkedBlockingDeque&lt;Runnable&gt;() {\n\n    private static final long serialVersionUID = 1L;\n\n    @Override\n    public boolean offer(Runnable e) {\n        return super.offerFirst(e);\n    }\n\n    @Override\n    public boolean offer(Runnable e, long timeout, TimeUnit unit) throws InterruptedException {\n        return super.offerFirst(e, timeout, unit);\n    }\n\n    @Override\n    public boolean add(Runnable e) {\n        return super.offerFirst(e);\n    }\n\n    @Override\n    public void put(Runnable e) throws InterruptedException {\n        super.putFirst(e);\n    }\n});\n</code></pre>\n<p>do the job.</p>\n"},{"tags":["java","database","jpa","persistence.xml"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1643659805,"post_id":70922462,"comment_id":125394905,"body_markdown":"First, turn on EclipseLink&#39;s SQL logging to see what it issues and when (https://wiki.eclipse.org/EclipseLink/Examples/JPA/Logging ). EclipseLink is perfectly capable of writing out multiple inserts in a single batch insert statement with JPA objects for you with some configuration, depending on driver support, and your entities themselves. It won&#39;t work well for instance if you have sequencing using identity, where it has to get the value after each individual statement (DB/driver dependent) or with some sequencing options where the same connection must be used to get more values","body":"First, turn on EclipseLink&#39;s SQL logging to see what it issues and when (<a href=\"https://wiki.eclipse.org/EclipseLink/Examples/JPA/Logging\" rel=\"nofollow noreferrer\">wiki.eclipse.org/EclipseLink/Examples/JPA/Logging</a> ). EclipseLink is perfectly capable of writing out multiple inserts in a single batch insert statement with JPA objects for you with some configuration, depending on driver support, and your entities themselves. It won&#39;t work well for instance if you have sequencing using identity, where it has to get the value after each individual statement (DB/driver dependent) or with some sequencing options where the same connection must be used to get more values"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1643660218,"post_id":70922462,"comment_id":125395040,"body_markdown":"See https://www.eclipse.org/eclipselink/documentation/2.4/jpa/extensions/p_jdbc_batchwriting.htm for batch writing persistence properties, and try &#39;jdbc&#39; or maybe &#39;oracle-jdbc&#39; if using Oracle with older drivers (https://stackoverflow.com/a/15140521/496099 ).","body":"See <a href=\"https://www.eclipse.org/eclipselink/documentation/2.4/jpa/extensions/p_jdbc_batchwriting.htm\" rel=\"nofollow noreferrer\">eclipse.org/eclipselink/documentation/2.4/jpa/extensions/&hellip;</a> for batch writing persistence properties, and try &#39;jdbc&#39; or maybe &#39;oracle-jdbc&#39; if using Oracle with older drivers (<a href=\"https://stackoverflow.com/a/15140521/496099\">stackoverflow.com/a/15140521/496099</a> )."},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1643660367,"post_id":70922462,"comment_id":125395082,"body_markdown":"If you want to go with your own batch inserts statement approach (I don&#39;t know why you would), you didn&#39;t show where the NPE is coming from, but you have to manage the transaction and everything else or there is no connection to unwrap. Begin/commit transaction, then maybe unwrap the connection to prepare/excute your statement - but this is what EclipseLink/JPA does for you under the covers.","body":"If you want to go with your own batch inserts statement approach (I don&#39;t know why you would), you didn&#39;t show where the NPE is coming from, but you have to manage the transaction and everything else or there is no connection to unwrap. Begin/commit transaction, then maybe unwrap the connection to prepare/excute your statement - but this is what EclipseLink/JPA does for you under the covers."},{"owner":{"account_id":24034658,"reputation":35,"user_id":18015070,"display_name":"Phil"},"score":0,"creation_date":1643707297,"post_id":70922462,"comment_id":125405172,"body_markdown":"I added the extension to my xml file but still got the NullPointerException.","body":"I added the extension to my xml file but still got the NullPointerException."},{"owner":{"account_id":24034658,"reputation":35,"user_id":18015070,"display_name":"Phil"},"score":0,"creation_date":1643707365,"post_id":70922462,"comment_id":125405198,"body_markdown":"@Chris I just want to add the list from the method writeAllJobs to my DB via Batch and for this I use this Method writeAllJobs.","body":"@Chris I just want to add the list from the method writeAllJobs to my DB via Batch and for this I use this Method writeAllJobs."},{"owner":{"account_id":24034658,"reputation":35,"user_id":18015070,"display_name":"Phil"},"score":0,"creation_date":1643708328,"post_id":70922462,"comment_id":125405564,"body_markdown":"Okay the NPE comes in this line                 final PreparedStatement preparedStatement = connection.prepareStatement(compiledQuery);","body":"Okay the NPE comes in this line                 final PreparedStatement preparedStatement = connection.prepareStatement(compiledQuery);"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1643727297,"post_id":70922462,"comment_id":125412995,"body_markdown":"Your comments are over the map. No xml change are going to affect your NPE, I&#39;ve pointed you at settings to make your original for loop use batch insert statements. Why would you go with JDBC prepared statements when you are using JPA? Step back - what do you really want to accomplish now, and what have you tried.. and then what are the results you see? If you want go for a prepared statement approach, what docs are you referencing that shows you this was how to do that - https://wiki.eclipse.org/EclipseLink/Examples/JPA/EMAPI#Getting_a_JDBC_Connection_from_an_EntityManager","body":"Your comments are over the map. No xml change are going to affect your NPE, I&#39;ve pointed you at settings to make your original for loop use batch insert statements. Why would you go with JDBC prepared statements when you are using JPA? Step back - what do you really want to accomplish now, and what have you tried.. and then what are the results you see? If you want go for a prepared statement approach, what docs are you referencing that shows you this was how to do that - <a href=\"https://wiki.eclipse.org/EclipseLink/Examples/JPA/EMAPI#Getting_a_JDBC_Connection_from_an_EntityManager\" rel=\"nofollow noreferrer\">wiki.eclipse.org/EclipseLink/Examples/JPA/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":13795447,"reputation":1007,"user_id":9956773,"display_name":"frank"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643618796,"creation_date":1643618796,"answer_id":70923220,"question_id":70922462,"body_markdown":"You can unwrap the EntityManager to a java.sql.Connection: ```java.sql.Connection connection = em.unwrap(java.sql.Connection.class);```  \r\n\r\nThen you can use PreparedStatements as in this answer: https://stackoverflow.com/questions/3784197/efficient-way-to-do-batch-inserts-with-jdbc","title":"How do I do JPA Batches (Insert) in EclipseLink","body":"<p>You can unwrap the EntityManager to a java.sql.Connection: <code>java.sql.Connection connection = em.unwrap(java.sql.Connection.class);</code></p>\n<p>Then you can use PreparedStatements as in this answer: <a href=\"https://stackoverflow.com/questions/3784197/efficient-way-to-do-batch-inserts-with-jdbc\">Efficient way to do batch INSERTS with JDBC</a></p>\n"}],"owner":{"account_id":24034658,"reputation":35,"user_id":18015070,"display_name":"Phil"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":748,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70923220,"answer_count":1,"score":0,"last_activity_date":1643713445,"creation_date":1643614068,"question_id":70922462,"body_markdown":"I want do use JPA Batches in my code. \r\n\r\nI am using this Dependencies: \r\n````\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;eclipselink&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.5.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javax.persistence&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.1.0-RC1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n````\r\n\r\n**Do I have to add sth in my persistence.xml file? If yes, what do I have to add?**\r\n\r\nThis is how I wrte the Jobs in my DB at the moment: \r\n````\r\n    public void writeAllJobs(List&lt;Jobs&gt; jobs) {\r\n\r\n        final EntityManager em = factory.createEntityManager();\r\n\r\n        em.getTransaction().begin();\r\n\r\n        int counter= 0;\r\n\r\n        for (final Job j : jobs) {\r\n\r\n            if (counter++ &gt;= 100) {\r\n                em.getTransaction().commit();\r\n                em.getTransaction().begin();\r\n                counter = 0;\r\n            }\r\n\r\n            final Job job = new Job();\r\n            job.setJobkey(j.getJobkey());\r\n            job.setDescription(b.getDescription());\r\n            em.persist(job);\r\n        }\r\n        em.getTransaction().commit();\r\n\r\n        em.close();\r\n    }\r\n````\r\n\r\nAfter 100 Joby my program wirtes the values in the DB so that is not every time a DB access.\r\n\r\n\r\n**------------------------------ EDIT -----------------------------------**\r\n\r\n````\r\n    public void writeAllJobs(List&lt;Jobs&gt; jobs) throws SQLException {\r\n\r\n        final EntityManager em = factory.createEntityManager();\r\n        final java.sql.Connection connection = em.unwrap(java.sql.Connection.class);\r\n\r\n        final String compiledQuery = &quot;INSERT INTO JOB(JOBKEY ,DESCRIPTION)&quot; + &quot; VALUES&quot; + &quot;(?, ?)&quot;;\r\n        final PreparedStatement preparedStatement = connection.prepareStatement(compiledQuery);\r\n\r\n        for (final Job j : jobs) {\r\n            preparedStatement.setInt(1, j.getJobkey());\r\n            preparedStatement.setString(2, j.getDescription());\r\n\r\n            preparedStatement.addBatch();\r\n        }\r\n\r\n        preparedStatement.executeBatch();\r\n\r\n        connection.close();\r\n    }\r\n````\r\n\r\nThen I get the: ````java.lang.NullPointerException````\r\n\r\n**------------------------------ EDIT 2 -----------------------------------**\r\n\r\nI got the NPE in the line     \r\n````final java.sql.Connection connection = em.unwrap(java.sql.Connection.class);````\r\n\r\nBut how do I solve this problem? ","title":"How do I do JPA Batches (Insert) in EclipseLink","body":"<p>I want do use JPA Batches in my code.</p>\n<p>I am using this Dependencies:</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\n            &lt;artifactId&gt;eclipselink&lt;/artifactId&gt;\n            &lt;version&gt;2.5.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.persistence&lt;/artifactId&gt;\n            &lt;version&gt;2.1.0-RC1&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p><strong>Do I have to add sth in my persistence.xml file? If yes, what do I have to add?</strong></p>\n<p>This is how I wrte the Jobs in my DB at the moment:</p>\n<pre><code>    public void writeAllJobs(List&lt;Jobs&gt; jobs) {\n\n        final EntityManager em = factory.createEntityManager();\n\n        em.getTransaction().begin();\n\n        int counter= 0;\n\n        for (final Job j : jobs) {\n\n            if (counter++ &gt;= 100) {\n                em.getTransaction().commit();\n                em.getTransaction().begin();\n                counter = 0;\n            }\n\n            final Job job = new Job();\n            job.setJobkey(j.getJobkey());\n            job.setDescription(b.getDescription());\n            em.persist(job);\n        }\n        em.getTransaction().commit();\n\n        em.close();\n    }\n</code></pre>\n<p>After 100 Joby my program wirtes the values in the DB so that is not every time a DB access.</p>\n<p><strong>------------------------------ EDIT -----------------------------------</strong></p>\n<pre><code>    public void writeAllJobs(List&lt;Jobs&gt; jobs) throws SQLException {\n\n        final EntityManager em = factory.createEntityManager();\n        final java.sql.Connection connection = em.unwrap(java.sql.Connection.class);\n\n        final String compiledQuery = &quot;INSERT INTO JOB(JOBKEY ,DESCRIPTION)&quot; + &quot; VALUES&quot; + &quot;(?, ?)&quot;;\n        final PreparedStatement preparedStatement = connection.prepareStatement(compiledQuery);\n\n        for (final Job j : jobs) {\n            preparedStatement.setInt(1, j.getJobkey());\n            preparedStatement.setString(2, j.getDescription());\n\n            preparedStatement.addBatch();\n        }\n\n        preparedStatement.executeBatch();\n\n        connection.close();\n    }\n</code></pre>\n<p>Then I get the: <code>java.lang.NullPointerException</code></p>\n<p><strong>------------------------------ EDIT 2 -----------------------------------</strong></p>\n<p>I got the NPE in the line<br />\n<code>final java.sql.Connection connection = em.unwrap(java.sql.Connection.class);</code></p>\n<p>But how do I solve this problem?</p>\n"},{"tags":["java","eclipse","eclipse-plugin"],"comments":[{"owner":{"account_id":3159259,"reputation":109668,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1643716941,"post_id":70939512,"comment_id":125408682,"body_markdown":"What sort of Java program? A plain Java program - so it doesn&#39;t actually need Eclipse to run? An Eclipse plug-in? Something else? Why is an Eclipse workspace needed?","body":"What sort of Java program? A plain Java program - so it doesn&#39;t actually need Eclipse to run? An Eclipse plug-in? Something else? Why is an Eclipse workspace needed?"},{"owner":{"account_id":14124069,"reputation":129,"user_id":10203895,"display_name":"Luca95"},"score":0,"creation_date":1643727447,"post_id":70939512,"comment_id":125413066,"body_markdown":"There is tomcat servers. In this project there are two tomcats servers","body":"There is tomcat servers. In this project there are two tomcats servers"}],"owner":{"account_id":14124069,"reputation":129,"user_id":10203895,"display_name":"Luca95"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1643713441,"creation_date":1643713441,"question_id":70939512,"body_markdown":"I have a project written in Java using Eclipse and I have a lot of users (students) that every day have to install and run it.\r\n\r\nI&#39;m searching a common configuration like `npm start`. \r\n\r\nMy idea is to install something or to say to my user: go in this directory and do this command for running like for Angular (`npm install &amp; npm start`).\r\n\r\nIs it possible or no?\r\n\r\nOr to have a script that configure Eclipse workspace in automatically way.\r\n ","title":"Eclipse common launch for several machine","body":"<p>I have a project written in Java using Eclipse and I have a lot of users (students) that every day have to install and run it.</p>\n<p>I'm searching a common configuration like <code>npm start</code>.</p>\n<p>My idea is to install something or to say to my user: go in this directory and do this command for running like for Angular (<code>npm install &amp; npm start</code>).</p>\n<p>Is it possible or no?</p>\n<p>Or to have a script that configure Eclipse workspace in automatically way.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8362,"page":1630,"page_size":100}
