{"items":[{"tags":["java","maven","recursion","comparison","assertj"],"comments":[{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1678312659,"post_id":75678339,"comment_id":133510548,"body_markdown":"Why do you need to compare such big amounts of objects? Why are two owners with two or three different assignments not enough for your unit tests?","body":"Why do you need to compare such big amounts of objects? Why are two owners with two or three different assignments not enough for your unit tests?"},{"owner":{"account_id":1407336,"reputation":6523,"user_id":1348834,"display_name":"Joel Costigliola"},"score":0,"creation_date":1678393354,"post_id":75678339,"comment_id":133528691,"body_markdown":"could you raise an issue in https://github.com/assertj/assertj/issues with a test reproducing the behavior? thanks!","body":"could you raise an issue in <a href=\"https://github.com/assertj/assertj/issues\" rel=\"nofollow noreferrer\">github.com/assertj/assertj/issues</a> with a test reproducing the behavior? thanks!"},{"owner":{"account_id":5387431,"reputation":13,"user_id":4290894,"display_name":"Amit"},"score":0,"creation_date":1678527147,"post_id":75678339,"comment_id":133552554,"body_markdown":"@JoelCostigliola thanks for the response. I have raised an issue as suggested. https://github.com/assertj/assertj/issues/2979","body":"@JoelCostigliola thanks for the response. I have raised an issue as suggested. <a href=\"https://github.com/assertj/assertj/issues/2979\" rel=\"nofollow noreferrer\">github.com/assertj/assertj/issues/2979</a>"}],"owner":{"account_id":5387431,"reputation":13,"user_id":4290894,"display_name":"Amit"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678311259,"creation_date":1678310405,"question_id":75678339,"body_markdown":"I hope you would suggest me something as I am quite new to Java world and trying to work with **assertj-core** [recursive comparison APIs][1] for deep comparison between the objects as follows. But it appears that it doesn&#39;t work when we pass collections of custom objects for deep comparison when they are large in number for example even for 50 or 100, the comparison takes forever.\r\n\r\nLet me share you the code chunks to look at.\r\n\r\n```\r\nclass Owner\r\n{\r\n   String id;\r\n   String name;\r\n   ArrayList&lt;Assignment&gt; assignments;\r\n\r\n   Owner(String id,String name, ArrayList&lt;Assignment&gt; assignments)\r\n   {\r\n      this.id = id;\r\n      this.name = name;\r\n      this.assignments = assignments;\r\n   }\r\n}\r\n\r\nclass Assignment\r\n{\r\n   String assignmentName;\r\n   String assignmentDescription;\r\n   \r\n   Assignment(String assignmentName, String assignmentDescription)\r\n   {\r\n     this.assignmentName = assignmentName;\r\n     this.assignmentDescription = assignmentDescription;\r\n   }\r\n}\r\n```\r\n\r\nFrom above model, I am generating a list 100 owners and each having 20 assignments. Similarly another list 100 owners with 20 assignments each.\r\n\r\nNow when I start comparing them with **assertj** RecursiveComparisonDifferenceCalculator , the comparison takes forever.\r\n\r\nBelow is the sample code I have to get the difference between two objects.\r\n\r\n    \r\n    var config = RecursiveComparisonConfiguration();\r\n        \r\n    var difference = new RecursiveComparisonDifferenceCalculator.determineDifferences(list1owners, list2owners, config);\r\n    \r\n\r\nI have tried setting the properties of the **RecursiveComparisonConfiguration** object as follows but it doesn&#39;t seem work and the comparison is kind of stuck.\r\n\r\n    config.ignoreCollectionOrder(false);\r\n\r\nNot sure, but I thought the above setting would make list comparison to work index wise like first object of the list be compared with first object of the another list and so on, but that too doesn&#39;t seem to work either and the comparison still takes a significant time.\r\n\r\nPlease guide with all the possible suggestions/solutions you guys might have, I will try to follow them.\r\n\r\n\r\n  [1]: https://www.javadoc.io/static/org.assertj/assertj-core/3.13.2/org/assertj/core/api/recursive/comparison/RecursiveComparisonDifferenceCalculator.html#determineDifferences(java.lang.Object,java.lang.Object,org.assertj.core.api.recursive.comparison.RecursiveComparisonConfiguration)","title":"determineDifferences method of RecursiveComparisonDifferenceCalculator not able to compare the list of 100 objects","body":"<p>I hope you would suggest me something as I am quite new to Java world and trying to work with <strong>assertj-core</strong> <a href=\"https://www.javadoc.io/static/org.assertj/assertj-core/3.13.2/org/assertj/core/api/recursive/comparison/RecursiveComparisonDifferenceCalculator.html#determineDifferences(java.lang.Object,java.lang.Object,org.assertj.core.api.recursive.comparison.RecursiveComparisonConfiguration)\" rel=\"nofollow noreferrer\">recursive comparison APIs</a> for deep comparison between the objects as follows. But it appears that it doesn't work when we pass collections of custom objects for deep comparison when they are large in number for example even for 50 or 100, the comparison takes forever.</p>\n<p>Let me share you the code chunks to look at.</p>\n<pre><code>class Owner\n{\n   String id;\n   String name;\n   ArrayList&lt;Assignment&gt; assignments;\n\n   Owner(String id,String name, ArrayList&lt;Assignment&gt; assignments)\n   {\n      this.id = id;\n      this.name = name;\n      this.assignments = assignments;\n   }\n}\n\nclass Assignment\n{\n   String assignmentName;\n   String assignmentDescription;\n   \n   Assignment(String assignmentName, String assignmentDescription)\n   {\n     this.assignmentName = assignmentName;\n     this.assignmentDescription = assignmentDescription;\n   }\n}\n</code></pre>\n<p>From above model, I am generating a list 100 owners and each having 20 assignments. Similarly another list 100 owners with 20 assignments each.</p>\n<p>Now when I start comparing them with <strong>assertj</strong> RecursiveComparisonDifferenceCalculator , the comparison takes forever.</p>\n<p>Below is the sample code I have to get the difference between two objects.</p>\n<pre><code>var config = RecursiveComparisonConfiguration();\n    \nvar difference = new RecursiveComparisonDifferenceCalculator.determineDifferences(list1owners, list2owners, config);\n</code></pre>\n<p>I have tried setting the properties of the <strong>RecursiveComparisonConfiguration</strong> object as follows but it doesn't seem work and the comparison is kind of stuck.</p>\n<pre><code>config.ignoreCollectionOrder(false);\n</code></pre>\n<p>Not sure, but I thought the above setting would make list comparison to work index wise like first object of the list be compared with first object of the another list and so on, but that too doesn't seem to work either and the comparison still takes a significant time.</p>\n<p>Please guide with all the possible suggestions/solutions you guys might have, I will try to follow them.</p>\n"},{"tags":["java","spring-boot","spring-mvc","redis","spring-data-redis"],"answers":[{"tags":[],"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1678311161,"creation_date":1678311161,"answer_id":75678437,"question_id":75678054,"body_markdown":"I&#39;m pretty sure Spring Data Redis does not support the `@CreatedDate` and related annotations for automatic auditing. Those annotations don&#39;t do anything on their own, they&#39;re just markers. In order for something to actually happen, there has to be a Spring component that looks for them and takes some action. For JPA/Hibernate, there is the `@EnableJpaAuditing` annotation that you have to use to get it working. \r\n\r\nI don&#39;t find any reference to the auditing annotations in the [Spring Data Redis documentation][1], which means you probably have to implement it yourself through another mechanism. Spring Data Redis might have some callback mechanism, similar to JPA; that&#39;s where I would start with building a solution.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-data/data-redis/docs/current/reference/html/","title":"Set created and updated date in a Redis key-value pair with Spring Boot","body":"<p>I'm pretty sure Spring Data Redis does not support the <code>@CreatedDate</code> and related annotations for automatic auditing. Those annotations don't do anything on their own, they're just markers. In order for something to actually happen, there has to be a Spring component that looks for them and takes some action. For JPA/Hibernate, there is the <code>@EnableJpaAuditing</code> annotation that you have to use to get it working.</p>\n<p>I don't find any reference to the auditing annotations in the <a href=\"https://docs.spring.io/spring-data/data-redis/docs/current/reference/html/\" rel=\"nofollow noreferrer\">Spring Data Redis documentation</a>, which means you probably have to implement it yourself through another mechanism. Spring Data Redis might have some callback mechanism, similar to JPA; that's where I would start with building a solution.</p>\n"}],"owner":{"account_id":13804110,"reputation":302,"user_id":9963435,"display_name":"thenocturnalguy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":402,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678311161,"creation_date":1678308306,"question_id":75678054,"body_markdown":"I am trying to set the creation timestamp and the updation timestamp in a Redis item just like we have in Hibernate and Spring Data JPA but it is just setting those fields to null.\r\n\r\n```\r\n@CreatedDate\r\nprivate Date createdAt;\r\n\r\n@LastModifiedDate\r\nprivate Date modifiedAt;\r\n```\r\n\r\nI am using the following dependencies:\r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-data-redis&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;redis.clients&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jedis&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nBelow is the code that I am using:\r\n\r\n```\r\n@Builder\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Getter\r\n@Setter\r\n@ToString\r\n@RedisHash(value = PersistenceConstants.HASH_CART)\r\npublic class Cart implements Serializable {\r\n    \r\n    @Id\r\n    private UUID id;\r\n\r\n    @NotNull\r\n    private long customerId;\r\n\r\n    private List&lt;Item&gt; items;\r\n\r\n    @CreatedDate\r\n    private Date createdAt;\r\n\r\n    @LastModifiedDate\r\n    private Date modifiedAt;\r\n}\r\n```","title":"Set created and updated date in a Redis key-value pair with Spring Boot","body":"<p>I am trying to set the creation timestamp and the updation timestamp in a Redis item just like we have in Hibernate and Spring Data JPA but it is just setting those fields to null.</p>\n<pre><code>@CreatedDate\nprivate Date createdAt;\n\n@LastModifiedDate\nprivate Date modifiedAt;\n</code></pre>\n<p>I am using the following dependencies:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-data-redis&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;redis.clients&lt;/groupId&gt;\n    &lt;artifactId&gt;jedis&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Below is the code that I am using:</p>\n<pre><code>@Builder\n@NoArgsConstructor\n@AllArgsConstructor\n@Getter\n@Setter\n@ToString\n@RedisHash(value = PersistenceConstants.HASH_CART)\npublic class Cart implements Serializable {\n    \n    @Id\n    private UUID id;\n\n    @NotNull\n    private long customerId;\n\n    private List&lt;Item&gt; items;\n\n    @CreatedDate\n    private Date createdAt;\n\n    @LastModifiedDate\n    private Date modifiedAt;\n}\n</code></pre>\n"},{"tags":["java","spring","get-mapping"],"answers":[{"tags":[],"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1678300310,"creation_date":1678300310,"answer_id":75676901,"question_id":75676878,"body_markdown":"Set `required = false` in the annotation to make it optional.\r\n\r\n```java\r\npublic String conc(@RequestParam(&quot;c1&quot;) String con1, \r\n                   @RequestParam(name = &quot;c2&quot;, required = false) String con2){\r\n\treturn stringService.conc(con1, con2 != null ? con2 : &quot;&quot;);\r\n}\r\n```","title":"How to handle a @RequestParam not defined","body":"<p>Set <code>required = false</code> in the annotation to make it optional.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public String conc(@RequestParam(&quot;c1&quot;) String con1, \n                   @RequestParam(name = &quot;c2&quot;, required = false) String con2){\n    return stringService.conc(con1, con2 != null ? con2 : &quot;&quot;);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678300371,"creation_date":1678300371,"answer_id":75676913,"question_id":75676878,"body_markdown":"You can specify a default value in `@RequestParam`: `@RequestParam(name = &quot;yourParameterName&quot;, defaultValue = &quot;yourParameterDefaultValue&quot;)`\r\n\r\nHere, I just use an empty String as the default value:\r\n```java\r\n@GetMapping(&quot;/concat&quot;)\r\npublic String conc(@RequestParam(&quot;c1&quot;) String con1,@RequestParam(name=&quot;c2&quot;,defaultValue = &quot;&quot;) String con2){\r\n    return stringService.conc(con1, con2);\r\n}\r\n```\r\n\r\nThis will concatenate it with the empty string. Requesting `/concat?c1=a` will call `conc(&quot;a&quot;,&quot;&quot;)`.\r\n\r\nAlternatively, you can use `required=false` and do an explicit null check:\r\n\r\n```java\r\n@GetMapping(&quot;/concat&quot;)\r\npublic String conc(@RequestParam(&quot;c1&quot;) String con1,@RequestParam(name = &quot;c2&quot;, required = false) String con2){\r\n    if(con2 == null){\r\n        return con1;\r\n    }else{\r\n        return stringService.conc(con1, con2);\r\n    }\r\n}\r\n```\r\n\r\nRequesting `/concat?c1=a` will call `conc(&quot;a&quot;,null)`.","title":"How to handle a @RequestParam not defined","body":"<p>You can specify a default value in <code>@RequestParam</code>: <code>@RequestParam(name = &quot;yourParameterName&quot;, defaultValue = &quot;yourParameterDefaultValue&quot;)</code></p>\n<p>Here, I just use an empty String as the default value:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@GetMapping(&quot;/concat&quot;)\npublic String conc(@RequestParam(&quot;c1&quot;) String con1,@RequestParam(name=&quot;c2&quot;,defaultValue = &quot;&quot;) String con2){\n    return stringService.conc(con1, con2);\n}\n</code></pre>\n<p>This will concatenate it with the empty string. Requesting <code>/concat?c1=a</code> will call <code>conc(&quot;a&quot;,&quot;&quot;)</code>.</p>\n<p>Alternatively, you can use <code>required=false</code> and do an explicit null check:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@GetMapping(&quot;/concat&quot;)\npublic String conc(@RequestParam(&quot;c1&quot;) String con1,@RequestParam(name = &quot;c2&quot;, required = false) String con2){\n    if(con2 == null){\n        return con1;\n    }else{\n        return stringService.conc(con1, con2);\n    }\n}\n</code></pre>\n<p>Requesting <code>/concat?c1=a</code> will call <code>conc(&quot;a&quot;,null)</code>.</p>\n"},{"tags":[],"owner":{"account_id":14162458,"reputation":3900,"user_id":10231374,"display_name":"Toni"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678310456,"creation_date":1678310456,"answer_id":75678346,"question_id":75676878,"body_markdown":"One option is to use `required = false` as suggested, but you can also take advantage of [Optional][1] as follows:\r\n\r\n```java\r\n@GetMapping(&quot;/concat&quot;)\r\npublic String conc(@RequestParam(&quot;c1&quot;) String con1, @RequestParam(&quot;c2&quot;) Optional&lt;String&gt; con2){\r\n\treturn con2.map(i-&gt;stringService.conc(con1, i)).orElse(con1);\r\n}\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html","title":"How to handle a @RequestParam not defined","body":"<p>One option is to use <code>required = false</code> as suggested, but you can also take advantage of <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html\" rel=\"nofollow noreferrer\">Optional</a> as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@GetMapping(&quot;/concat&quot;)\npublic String conc(@RequestParam(&quot;c1&quot;) String con1, @RequestParam(&quot;c2&quot;) Optional&lt;String&gt; con2){\n    return con2.map(i-&gt;stringService.conc(con1, i)).orElse(con1);\n}\n</code></pre>\n"}],"owner":{"account_id":27745639,"reputation":3,"user_id":21181202,"display_name":"CookieXIV"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75676913,"answer_count":3,"score":0,"last_activity_date":1678310456,"creation_date":1678300109,"question_id":75676878,"body_markdown":"So, as the title says i have this piece of code here\r\n```java\r\n@GetMapping(&quot;/concat&quot;)\r\npublic String conc(@RequestParam(&quot;c1&quot;) String con1,@RequestParam(&quot;c2&quot;) String con2){\r\n    return stringService.conc(con1, con2);\r\n}\r\n```\r\nwhich just return a string concatenated  with another string. my problem here is, i want to NOT define the &quot;c2&quot; param and either says it&#39;s null or say nothing at all as it NEEDS to work with even just one param. \r\n\r\nhow do i achieve that?\r\n\r\ni tried this \r\n```java\r\n@GetMapping(&quot;/concat&quot;)\r\npublic String conc(@RequestParam(&quot;c1&quot;) String con1,@RequestParam(&quot;c2&quot;) String con2){\r\n    if(con2 == null){\r\n        return con1;\r\n    }else{\r\n        return stringService.conc(con1, con2);\r\n    }\r\n}\r\n``` \r\nit obviously didn&#39;t work and i don&#39;t know how to use `@ExceptionHandler` (if that is the solution)","title":"How to handle a @RequestParam not defined","body":"<p>So, as the title says i have this piece of code here</p>\n<pre class=\"lang-java prettyprint-override\"><code>@GetMapping(&quot;/concat&quot;)\npublic String conc(@RequestParam(&quot;c1&quot;) String con1,@RequestParam(&quot;c2&quot;) String con2){\n    return stringService.conc(con1, con2);\n}\n</code></pre>\n<p>which just return a string concatenated  with another string. my problem here is, i want to NOT define the &quot;c2&quot; param and either says it's null or say nothing at all as it NEEDS to work with even just one param.</p>\n<p>how do i achieve that?</p>\n<p>i tried this</p>\n<pre class=\"lang-java prettyprint-override\"><code>@GetMapping(&quot;/concat&quot;)\npublic String conc(@RequestParam(&quot;c1&quot;) String con1,@RequestParam(&quot;c2&quot;) String con2){\n    if(con2 == null){\n        return con1;\n    }else{\n        return stringService.conc(con1, con2);\n    }\n}\n</code></pre>\n<p>it obviously didn't work and i don't know how to use <code>@ExceptionHandler</code> (if that is the solution)</p>\n"},{"tags":["java","arrays","long-integer","bit-shift"],"answers":[{"tags":[],"owner":{"account_id":14035647,"reputation":851,"user_id":10138416,"display_name":"linker"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678310409,"creation_date":1678310037,"answer_id":75678294,"question_id":75678293,"body_markdown":"According to [Patrick][1]&#39;s answer [here][2], for a `long[]` would be \r\n\r\n**Left Shift &lt;&lt;**\r\n\r\n    public static long[] shiftLeft(long[] longArray, int shiftBitCount) {\r\n        final int shiftMod = shiftBitCount % 64;\r\n        final long carryMask = ((1 &lt;&lt; shiftMod) - 1);\r\n        final int offsetLongs = (shiftBitCount / 64);\r\n\r\n        int sourceIndex;\r\n        for (int i = 0; i &lt; longArray.length; i++) {\r\n            sourceIndex = i + offsetLongs;\r\n            if (sourceIndex &gt;= longArray.length) {\r\n                longArray[i] = 0;\r\n            } else {\r\n                long src = longArray[sourceIndex];\r\n                long dst = (long) (src &lt;&lt; shiftMod);\r\n                if (sourceIndex + 1 &lt; longArray.length) {\r\n                    dst |= longArray[sourceIndex + 1] &gt;&gt;&gt; (64 - shiftMod) &amp; carryMask;\r\n                }\r\n                longArray[i] = dst;\r\n            }\r\n        }\r\n        return longArray;\r\n    }\r\n\r\n\r\n**Unsigned Right Shift &gt;&gt;&gt;**\r\n\r\n    public static long[] shiftRight(long[] longArray, int shiftBitCount) {\r\n        final int shiftMod = shiftBitCount % 64;\r\n        final long carryMask = 0xFFFFFFFFFFFFFFFFL  &lt;&lt; (64 - shiftMod);\r\n        final int offsetLongs = (shiftBitCount / 64);\r\n\r\n        int sourceIndex;\r\n        for (int i = longArray.length - 1; i &gt;= 0; i--) {\r\n            sourceIndex = i - offsetLongs;\r\n            if (sourceIndex &lt; 0) {\r\n                longArray[i] = 0;\r\n            } else {\r\n                long src = longArray[sourceIndex];\r\n                long dst =  src &gt;&gt;&gt; shiftMod;\r\n                if (sourceIndex - 1 &gt;= 0) {\r\n                    dst |= longArray[sourceIndex - 1] &lt;&lt; (64 - shiftMod) &amp; carryMask;\r\n                }\r\n                longArray[i] = dst;\r\n            }\r\n        }\r\n        return longArray;\r\n    }\r\n\r\n**Example**\r\n        \r\n        \r\n      public static void main(String[] args) {\r\n            int shift = 18;//n\r\n            long[] values = new long[]{\r\n                    0b1011010011111111001100111000000100110011101101110010001011100001L,\r\n                    0b1011010011111111001100111000000100110011101101110010001011100001L};\r\n            show(&quot;input: &quot;,values);\r\n            \r\n            shiftRight(values,shift);\r\n            show(&quot;output{&gt;&gt;&gt;&quot;+shift+&quot;}: &quot;,values);\r\n            //shiftLeft(values,shift);\r\n            //show(&quot;output{ &lt;&lt;&quot;+shift+&quot;}: &quot;,values);\r\n        }\r\n        \r\n        public static void show(String message,long[] values){\r\n            String input = &quot;&quot;;\r\n            for (int i = 0; i &lt; values.length; i++) {\r\n                long value = values[i];\r\n                input += String.format(&quot;%64s&quot;, Long.toBinaryString(value)).replace(&#39; &#39;, &#39;0&#39;);\r\n            }System.out.println(message+input);\r\n        }\r\n\r\n  [1]: https://stackoverflow.com/users/774398/patrick\r\n  [2]: https://stackoverflow.com/a/47231300","title":"Bit shift operations on a long array in Java","body":"<p>According to <a href=\"https://stackoverflow.com/users/774398/patrick\">Patrick</a>'s answer <a href=\"https://stackoverflow.com/a/47231300\">here</a>, for a <code>long[]</code> would be</p>\n<p><strong>Left Shift &lt;&lt;</strong></p>\n<pre><code>public static long[] shiftLeft(long[] longArray, int shiftBitCount) {\n    final int shiftMod = shiftBitCount % 64;\n    final long carryMask = ((1 &lt;&lt; shiftMod) - 1);\n    final int offsetLongs = (shiftBitCount / 64);\n\n    int sourceIndex;\n    for (int i = 0; i &lt; longArray.length; i++) {\n        sourceIndex = i + offsetLongs;\n        if (sourceIndex &gt;= longArray.length) {\n            longArray[i] = 0;\n        } else {\n            long src = longArray[sourceIndex];\n            long dst = (long) (src &lt;&lt; shiftMod);\n            if (sourceIndex + 1 &lt; longArray.length) {\n                dst |= longArray[sourceIndex + 1] &gt;&gt;&gt; (64 - shiftMod) &amp; carryMask;\n            }\n            longArray[i] = dst;\n        }\n    }\n    return longArray;\n}\n</code></pre>\n<p><strong>Unsigned Right Shift &gt;&gt;&gt;</strong></p>\n<pre><code>public static long[] shiftRight(long[] longArray, int shiftBitCount) {\n    final int shiftMod = shiftBitCount % 64;\n    final long carryMask = 0xFFFFFFFFFFFFFFFFL  &lt;&lt; (64 - shiftMod);\n    final int offsetLongs = (shiftBitCount / 64);\n\n    int sourceIndex;\n    for (int i = longArray.length - 1; i &gt;= 0; i--) {\n        sourceIndex = i - offsetLongs;\n        if (sourceIndex &lt; 0) {\n            longArray[i] = 0;\n        } else {\n            long src = longArray[sourceIndex];\n            long dst =  src &gt;&gt;&gt; shiftMod;\n            if (sourceIndex - 1 &gt;= 0) {\n                dst |= longArray[sourceIndex - 1] &lt;&lt; (64 - shiftMod) &amp; carryMask;\n            }\n            longArray[i] = dst;\n        }\n    }\n    return longArray;\n}\n</code></pre>\n<p><strong>Example</strong></p>\n<pre><code>  public static void main(String[] args) {\n        int shift = 18;//n\n        long[] values = new long[]{\n                0b1011010011111111001100111000000100110011101101110010001011100001L,\n                0b1011010011111111001100111000000100110011101101110010001011100001L};\n        show(&quot;input: &quot;,values);\n        \n        shiftRight(values,shift);\n        show(&quot;output{&gt;&gt;&gt;&quot;+shift+&quot;}: &quot;,values);\n        //shiftLeft(values,shift);\n        //show(&quot;output{ &lt;&lt;&quot;+shift+&quot;}: &quot;,values);\n    }\n    \n    public static void show(String message,long[] values){\n        String input = &quot;&quot;;\n        for (int i = 0; i &lt; values.length; i++) {\n            long value = values[i];\n            input += String.format(&quot;%64s&quot;, Long.toBinaryString(value)).replace(' ', '0');\n        }System.out.println(message+input);\n    }\n</code></pre>\n"}],"owner":{"account_id":14035647,"reputation":851,"user_id":10138416,"display_name":"linker"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678310409,"creation_date":1678310037,"question_id":75678293,"body_markdown":"How does one shift a long array n positions to the right or left e.g. do a `&gt;&gt;&gt; n` or `&lt;&lt; n` on this array\r\n\r\n    long[] values = new long[]{\r\n                0b1011010011111111001100111000000100110011101101110010001011100001L,\r\n                0b1011010011111111001100111000000100110011101101110010001011100001L}; \r\n\r\n&gt; **Disclaimer**&lt;br&gt;\r\nThis question was asked since it doesn&#39;t exist, it is an extension of [this][1]. \r\n\r\n\r\n  [1]: https://stackoverflow.com/q/28997781","title":"Bit shift operations on a long array in Java","body":"<p>How does one shift a long array n positions to the right or left e.g. do a <code>&gt;&gt;&gt; n</code> or <code>&lt;&lt; n</code> on this array</p>\n<pre><code>long[] values = new long[]{\n            0b1011010011111111001100111000000100110011101101110010001011100001L,\n            0b1011010011111111001100111000000100110011101101110010001011100001L}; \n</code></pre>\n<blockquote>\n<p><strong>Disclaimer</strong><br>\nThis question was asked since it doesn't exist, it is an extension of <a href=\"https://stackoverflow.com/q/28997781\">this</a>.</p>\n</blockquote>\n"},{"tags":["java","keypress","bullet"],"comments":[{"owner":{"account_id":355666,"reputation":8624,"user_id":694736,"accept_rate":100,"display_name":"Timothy Groote"},"score":1,"creation_date":1506585396,"post_id":46463806,"comment_id":79882372,"body_markdown":"You never change anything about the `Rectangle` you are using as a bullet. if you are not *telling* it to move, it won&#39;t.","body":"You never change anything about the <code>Rectangle</code> you are using as a bullet. if you are not <i>telling</i> it to move, it won&#39;t."},{"owner":{"account_id":355666,"reputation":8624,"user_id":694736,"accept_rate":100,"display_name":"Timothy Groote"},"score":0,"creation_date":1506585652,"post_id":46463806,"comment_id":79882531,"body_markdown":"I&#39;m having a hard time figuring out how any of this code is supposed to do anything. there a variables for the position of the ship, which are updated on keypresses, but also set to predefined values for every `Draw` call. does this work at all, currently?","body":"I&#39;m having a hard time figuring out how any of this code is supposed to do anything. there a variables for the position of the ship, which are updated on keypresses, but also set to predefined values for every <code>Draw</code> call. does this work at all, currently?"},{"owner":{"account_id":11688506,"reputation":69,"user_id":8557499,"display_name":"TA_800"},"score":0,"creation_date":1506585663,"post_id":46463806,"comment_id":79882535,"body_markdown":"@TimothyGroote I&#39;m sorry but I didn&#39;t get you. Could you explain it to me further in detail? Am I not telling it to move by updating the values of the y-axis in the shoot() method?","body":"@TimothyGroote I&#39;m sorry but I didn&#39;t get you. Could you explain it to me further in detail? Am I not telling it to move by updating the values of the y-axis in the shoot() method?"},{"owner":{"account_id":11688506,"reputation":69,"user_id":8557499,"display_name":"TA_800"},"score":0,"creation_date":1506585713,"post_id":46463806,"comment_id":79882571,"body_markdown":"Yep the ship movement works fine, even the collision. Only the bullet doesn&#39;t move up when the spacebar is pressed. It just appears on the ship (image in the post) but it just won&#39;t go up!","body":"Yep the ship movement works fine, even the collision. Only the bullet doesn&#39;t move up when the spacebar is pressed. It just appears on the ship (image in the post) but it just won&#39;t go up!"},{"owner":{"account_id":355666,"reputation":8624,"user_id":694736,"accept_rate":100,"display_name":"Timothy Groote"},"score":0,"creation_date":1506585853,"post_id":46463806,"comment_id":79882656,"body_markdown":"no, unfortunately not ;) gathering from what you describe, the `shoot()` method is only called once per &quot;shot&quot;. you need to keep track of your bullets in a separate variable, then update their Y position in ( i think) `paintComponent`. something along the lines of `by -= 15;`","body":"no, unfortunately not ;) gathering from what you describe, the <code>shoot()</code> method is only called once per &quot;shot&quot;. you need to keep track of your bullets in a separate variable, then update their Y position in ( i think) <code>paintComponent</code>. something along the lines of <code>by -= 15;</code>"},{"owner":{"account_id":355666,"reputation":8624,"user_id":694736,"accept_rate":100,"display_name":"Timothy Groote"},"score":0,"creation_date":1506585874,"post_id":46463806,"comment_id":79882667,"body_markdown":"I just noticed i got confused because `Draw()` is a constructor.","body":"I just noticed i got confused because <code>Draw()</code> is a constructor."},{"owner":{"account_id":355666,"reputation":8624,"user_id":694736,"accept_rate":100,"display_name":"Timothy Groote"},"score":0,"creation_date":1506585992,"post_id":46463806,"comment_id":79882733,"body_markdown":"oooh hang on, i think i know what you meant now. took me a while to shake the idea that this was an attempt at object oriented code.","body":"oooh hang on, i think i know what you meant now. took me a while to shake the idea that this was an attempt at object oriented code."},{"owner":{"account_id":355666,"reputation":8624,"user_id":694736,"accept_rate":100,"display_name":"Timothy Groote"},"score":1,"creation_date":1506586113,"post_id":46463806,"comment_id":79882818,"body_markdown":"the code in `shoot()` looks OK, but in your `paintcomponent` method, you are setting `by = y - 15;`, effectively undoing the changes made by `shoot()`. try setting `by` only at the *start* of the game, and when you need to reset the position of the bullet.","body":"the code in <code>shoot()</code> looks OK, but in your <code>paintcomponent</code> method, you are setting <code>by = y - 15;</code>, effectively undoing the changes made by <code>shoot()</code>. try setting <code>by</code> only at the <i>start</i> of the game, and when you need to reset the position of the bullet."},{"owner":{"account_id":355666,"reputation":8624,"user_id":694736,"accept_rate":100,"display_name":"Timothy Groote"},"score":0,"creation_date":1506586165,"post_id":46463806,"comment_id":79882861,"body_markdown":"also, try not setting `bx` while the bullet has been fired, or it will move along sideways with the ship ;)","body":"also, try not setting <code>bx</code> while the bullet has been fired, or it will move along sideways with the ship ;)"},{"owner":{"account_id":11688506,"reputation":69,"user_id":8557499,"display_name":"TA_800"},"score":0,"creation_date":1506586320,"post_id":46463806,"comment_id":79882966,"body_markdown":"Okay, your suggestion did make my bullet go up but there arises another problem as well. Lemme try and fix it. Thank you so much for your help!","body":"Okay, your suggestion did make my bullet go up but there arises another problem as well. Lemme try and fix it. Thank you so much for your help!"}],"answers":[{"tags":[],"owner":{"account_id":355666,"reputation":8624,"user_id":694736,"accept_rate":100,"display_name":"Timothy Groote"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1506586687,"creation_date":1506586687,"answer_id":46464239,"question_id":46463806,"body_markdown":"The reason for the bullet not moving becomes appearant when you compare your `shoot()` method, and the `paintComponent` method.\r\n\r\nShoot checks if you have the `shot` boolean set, and if so, moves the bullet y position up by `2`.\r\n\r\nWhen the bullet leaves the top of the screen, it resets the &quot;bullet&quot;.\r\nThis is all fine, it does what it&#39;s supposed to.\r\n\r\n     public void shoot() {\r\n            if (shot == true) {\r\n                by = by - 2; //this is fine, it moves the bullet up\r\n            }\r\n            if (by &lt;= -5) {\r\n                //Resetting values\r\n                bx = x + 32;\r\n                by = y - 15;\r\n                bullet = new Rectangle(bx, by, 10, 10);\r\n                shot = false;\r\n            }\r\n        }\r\n\r\n\r\nThen comes `paintComponent`, which is executed time your game is &quot;painted&quot; to the screen.\r\n\r\nIt defines a rectangle for the bullet at its current position,\r\ndraws the ship,\r\n\r\nThen overwrites the bullet&#39;s x and y position so it sits on top of the ship.\r\n**That is where your problem is**\r\n\r\n\r\n        public void paintComponent(Graphics g) {\r\n            bullet = new Rectangle(bx, by, 10, 10);\r\n            g.setColor(Color.RED);\r\n            g.fillRect(x, y, 75, 25);\r\n            g.fillRect(x + 32, y - 15, 10, 15);\r\n\r\n            //you are messing with bx and by here.\r\n            //probably because you wanted the bullet to be in the\r\n            //same position as the ship.\r\n\r\n            //this means they will be put back into the same position\r\n            //for every time your game is painted to the screen.\r\n            //my advice is, do *not* do this here.\r\n            bx = x + 32;\r\n            by = y - 15;\r\n\r\n            if (shot == true) {\r\n                g.setColor(Color.BLACK);\r\n                g.fillRect(bx, by, bullet.width, bullet.height);\r\n            }\r\n            repaint();\r\n        }","title":"Bullet not travelling up! Java game","body":"<p>The reason for the bullet not moving becomes appearant when you compare your <code>shoot()</code> method, and the <code>paintComponent</code> method.</p>\n\n<p>Shoot checks if you have the <code>shot</code> boolean set, and if so, moves the bullet y position up by <code>2</code>.</p>\n\n<p>When the bullet leaves the top of the screen, it resets the \"bullet\".\nThis is all fine, it does what it's supposed to.</p>\n\n<pre><code> public void shoot() {\n        if (shot == true) {\n            by = by - 2; //this is fine, it moves the bullet up\n        }\n        if (by &lt;= -5) {\n            //Resetting values\n            bx = x + 32;\n            by = y - 15;\n            bullet = new Rectangle(bx, by, 10, 10);\n            shot = false;\n        }\n    }\n</code></pre>\n\n<p>Then comes <code>paintComponent</code>, which is executed time your game is \"painted\" to the screen.</p>\n\n<p>It defines a rectangle for the bullet at its current position,\ndraws the ship,</p>\n\n<p>Then overwrites the bullet's x and y position so it sits on top of the ship.\n<strong>That is where your problem is</strong></p>\n\n<pre><code>    public void paintComponent(Graphics g) {\n        bullet = new Rectangle(bx, by, 10, 10);\n        g.setColor(Color.RED);\n        g.fillRect(x, y, 75, 25);\n        g.fillRect(x + 32, y - 15, 10, 15);\n\n        //you are messing with bx and by here.\n        //probably because you wanted the bullet to be in the\n        //same position as the ship.\n\n        //this means they will be put back into the same position\n        //for every time your game is painted to the screen.\n        //my advice is, do *not* do this here.\n        bx = x + 32;\n        by = y - 15;\n\n        if (shot == true) {\n            g.setColor(Color.BLACK);\n            g.fillRect(bx, by, bullet.width, bullet.height);\n        }\n        repaint();\n    }\n</code></pre>\n"}],"owner":{"account_id":11688506,"reputation":69,"user_id":8557499,"display_name":"TA_800"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":292,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":46464239,"answer_count":1,"score":2,"last_activity_date":1678309664,"creation_date":1506585235,"question_id":46463806,"body_markdown":"I&#39;m a newbie in Java and I&#39;m trying to make a ship fire a bullet. What I want is actually make the ship fire bullets as long as the Spacebar button is being held down.\r\nI&#39;ve successfully made the ship move here and there and also fire the bullet. However the bullet just won&#39;t go up. Here&#39;s my code -\r\n\r\n    package learningPackage;\r\n    import javax.swing.*;\r\n    import java.awt.*;\r\n    import java.awt.event.KeyAdapter;\r\n    import java.awt.event.KeyEvent;\r\n    import java.awt.event.KeyListener;\r\n    import java.awt.event.MouseAdapter;\r\n    import java.awt.event.MouseEvent;\r\n    import java.awt.event.MouseMotionListener;\r\n    \r\n    public class Draw extends JFrame implements Runnable {\r\n    \r\n    \t//Variables for the x and y coordinates, xDirection for modifying the values of x only.\r\n    \tint x, y, xDirection;\r\n    \tint bx, by;\r\n    \r\n    \tImage dbImage;\r\n    \tGraphics dbGraphics;\r\n    \r\n    \tboolean shot;\r\n    \r\n    \tRectangle bullet;\r\n    \t\r\n    \t\r\n    \t//Thread run\r\n    \tpublic void run() {\r\n    \t\ttry {\r\n    \t\t\twhile (true) {\r\n    \t\t\t\tmove();\r\n    \t\t\t\tshoot();\r\n    \t\t\t\t//Setting sleep to 0 will make it light-speed!\r\n    \t\t\t\tThread.sleep(5);\r\n    \r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tcatch (Exception e) {\r\n    \t\t\tSystem.out.println(&quot;Error!&quot;);\r\n    \t\t\t}\r\n    \t}\r\n    \t\r\n    \t\r\n    \r\n    \t//Ship move\r\n    \t//Ship moves only in one direction, x - axis\r\n    \tpublic void move() {\r\n    \t\tx += xDirection;\r\n    \r\n    \t\t//Collision detection\r\n    \t\tif (x &lt;= 10) {\r\n    \t\t\tx = 10;\r\n    \t\t}\r\n    \t\tif (x &gt;= 415) {\r\n    \t\t\tx = 415;\r\n    \t\t}\r\n    \t}\r\n    \r\n    \t//KeyListeners\r\n    \tpublic class AL extends KeyAdapter {\r\n    \t\tpublic void keyPressed(KeyEvent e) {\r\n    \t\t\tint keyCode = e.getKeyCode();\r\n    \t\t\tif (keyCode == e.VK_LEFT) {\r\n    \t\t\t\txDirection = -2;\r\n    \t\t\t}\r\n    \t\t\tif (keyCode == e.VK_RIGHT) {\r\n    \t\t\t\txDirection = 2;\r\n    \t\t\t}\r\n    \t\t\tif (keyCode == e.VK_SPACE) {\r\n    \t\t\t\tshot = true;\r\n    \t\t\t\t\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t\t\tpublic void keyReleased(KeyEvent e) {\r\n    \t\t\t\tint keyCode = e.getKeyCode();\r\n    \t\t\t\tif (keyCode == e.VK_LEFT) {\r\n    \t\t\t\t\txDirection = 0;\r\n    \t\t\t\t}\r\n    \t\t\t\tif (keyCode == e.VK_RIGHT) {\r\n    \t\t\t\t\txDirection = 0;\r\n    \t\t\t\t}\r\n    \t\t\t\tif (keyCode == e.VK_SPACE) {\r\n    \t\t\t\t\tshot = false;\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \r\n    \t\t//Constructor for the game frame\r\n    \t\tpublic Draw() {\r\n    \t\t\tsuper(&quot;Game&quot;);\r\n    \t\t\tsetSize(500, 500);\r\n    \t\t\tsetLocationRelativeTo(null);\r\n    \t\t\tsetDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \t\t\tsetResizable(false);\r\n    \t\t\taddKeyListener(new AL());\r\n    \r\n    \t\t\tx = 200;\r\n    \t\t\ty = 465;\r\n    \r\n    \r\n    \t\t\tsetVisible(true);\r\n    \t\t}\r\n    \t\t\r\n    \t\t//Double - buffering\r\n    \t\tpublic void paint(Graphics g) {\r\n    \t\t\tdbImage = createImage(getWidth(), getHeight());\r\n    \t\t\tdbGraphics = dbImage.getGraphics();\r\n    \t\t\tpaintComponent(dbGraphics);\r\n    \t\t\tg.drawImage(dbImage, 0, 0, this);\r\n    \r\n    \t\t}\r\n    \r\n    \t\t//All the graphics\r\n    \t\tpublic void paintComponent(Graphics g) {\r\n    \t\t\t\r\n    \t\t\tbullet = new Rectangle(bx, by, 10, 10);\r\n    \t\t\tg.setColor(Color.RED);\r\n    \t\t\t//Ship rectangle\r\n    \t\t\tg.fillRect(x, y, 75, 25);\r\n    \t\t\t//Gun rectangle\r\n    \t\t\tg.fillRect(x + 32, y - 15, 10, 15);\r\n    \t\t\t\r\n    \t\t\t//Setting the same values for bx and by as x and y so that the bullet will start from the Gun rectangle\r\n    \t\t\tbx = x + 32;\r\n    \t\t\tby = y - 15;\r\n    \t\t\t\r\n    \t\t\tif (shot == true) {\r\n    \t\t\t\t\r\n    \t\t\t\tg.setColor(Color.BLACK);\r\n    \t\t\t\tg.fillRect(bx, by, bullet.width, bullet.height);\r\n    \r\n    \t\t\t}\r\n    \r\n    \t\t\trepaint();\r\n    \r\n    \t\t}\r\n    \r\n    \t\t\r\n    \t\tpublic void shoot() {\r\n    \t\t\tif (shot == true) {\r\n    \t\t\t\tby = by - 2;\r\n    \t\t\t}\r\n    \t\t\tif (by &lt;= -5) {\r\n    \t\t\t\t//Resetting values\r\n    \t\t\t\tbx = x + 32;\r\n    \t\t\t\tby = y - 15;\r\n    \t\t\t\tbullet = new Rectangle(bx, by, 10, 10);\r\n    \t\t\t\tshot = false;\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t\t//Main method\r\n    \t\tpublic static void main(String[] args) {\r\n    \t\t\tDraw gameTry = new Draw();\r\n    \t\t\tThread t1 = new Thread(gameTry);\r\n    \t\t\tt1.start();\r\n    \r\n    \t\t}\r\n    \t}\r\n\r\n\r\n\r\n[Here&#39;s what happens when I just move the ship, working perfectly fine -][1]\r\n\r\n[Here&#39;s what happens when I hold down space -][2]\r\n\r\nI was actually coping this code from a tutorial but since the tutorial-code wasn&#39;t working out, I decided to do this on my own, but I can&#39;t do it on my own as well!","title":"Bullet not travelling up! Java game","body":"<p>I'm a newbie in Java and I'm trying to make a ship fire a bullet. What I want is actually make the ship fire bullets as long as the Spacebar button is being held down.\nI've successfully made the ship move here and there and also fire the bullet. However the bullet just won't go up. Here's my code -</p>\n<pre><code>package learningPackage;\nimport javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.KeyAdapter;\nimport java.awt.event.KeyEvent;\nimport java.awt.event.KeyListener;\nimport java.awt.event.MouseAdapter;\nimport java.awt.event.MouseEvent;\nimport java.awt.event.MouseMotionListener;\n\npublic class Draw extends JFrame implements Runnable {\n\n    //Variables for the x and y coordinates, xDirection for modifying the values of x only.\n    int x, y, xDirection;\n    int bx, by;\n\n    Image dbImage;\n    Graphics dbGraphics;\n\n    boolean shot;\n\n    Rectangle bullet;\n    \n    \n    //Thread run\n    public void run() {\n        try {\n            while (true) {\n                move();\n                shoot();\n                //Setting sleep to 0 will make it light-speed!\n                Thread.sleep(5);\n\n            }\n        }\n        catch (Exception e) {\n            System.out.println(&quot;Error!&quot;);\n            }\n    }\n    \n    \n\n    //Ship move\n    //Ship moves only in one direction, x - axis\n    public void move() {\n        x += xDirection;\n\n        //Collision detection\n        if (x &lt;= 10) {\n            x = 10;\n        }\n        if (x &gt;= 415) {\n            x = 415;\n        }\n    }\n\n    //KeyListeners\n    public class AL extends KeyAdapter {\n        public void keyPressed(KeyEvent e) {\n            int keyCode = e.getKeyCode();\n            if (keyCode == e.VK_LEFT) {\n                xDirection = -2;\n            }\n            if (keyCode == e.VK_RIGHT) {\n                xDirection = 2;\n            }\n            if (keyCode == e.VK_SPACE) {\n                shot = true;\n                \n            }\n        }\n\n            public void keyReleased(KeyEvent e) {\n                int keyCode = e.getKeyCode();\n                if (keyCode == e.VK_LEFT) {\n                    xDirection = 0;\n                }\n                if (keyCode == e.VK_RIGHT) {\n                    xDirection = 0;\n                }\n                if (keyCode == e.VK_SPACE) {\n                    shot = false;\n                }\n            }\n        }\n\n\n        //Constructor for the game frame\n        public Draw() {\n            super(&quot;Game&quot;);\n            setSize(500, 500);\n            setLocationRelativeTo(null);\n            setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n            setResizable(false);\n            addKeyListener(new AL());\n\n            x = 200;\n            y = 465;\n\n\n            setVisible(true);\n        }\n        \n        //Double - buffering\n        public void paint(Graphics g) {\n            dbImage = createImage(getWidth(), getHeight());\n            dbGraphics = dbImage.getGraphics();\n            paintComponent(dbGraphics);\n            g.drawImage(dbImage, 0, 0, this);\n\n        }\n\n        //All the graphics\n        public void paintComponent(Graphics g) {\n            \n            bullet = new Rectangle(bx, by, 10, 10);\n            g.setColor(Color.RED);\n            //Ship rectangle\n            g.fillRect(x, y, 75, 25);\n            //Gun rectangle\n            g.fillRect(x + 32, y - 15, 10, 15);\n            \n            //Setting the same values for bx and by as x and y so that the bullet will start from the Gun rectangle\n            bx = x + 32;\n            by = y - 15;\n            \n            if (shot == true) {\n                \n                g.setColor(Color.BLACK);\n                g.fillRect(bx, by, bullet.width, bullet.height);\n\n            }\n\n            repaint();\n\n        }\n\n        \n        public void shoot() {\n            if (shot == true) {\n                by = by - 2;\n            }\n            if (by &lt;= -5) {\n                //Resetting values\n                bx = x + 32;\n                by = y - 15;\n                bullet = new Rectangle(bx, by, 10, 10);\n                shot = false;\n            }\n        }\n\n        //Main method\n        public static void main(String[] args) {\n            Draw gameTry = new Draw();\n            Thread t1 = new Thread(gameTry);\n            t1.start();\n\n        }\n    }\n</code></pre>\n<p>[Here's what happens when I just move the ship, working perfectly fine -][1]</p>\n<p>[Here's what happens when I hold down space -][2]</p>\n<p>I was actually coping this code from a tutorial but since the tutorial-code wasn't working out, I decided to do this on my own, but I can't do it on my own as well!</p>\n"},{"tags":["java","gradle","intellij-idea"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1678280712,"post_id":75673362,"comment_id":133501493,"body_markdown":"Are you sure that `file.txt` *is actually UTF-8 encoded*? Does `System.out.println(&quot;\\u0416&quot;);` successfully print Ж on your console?","body":"Are you sure that <code>file.txt</code> <i>is actually UTF-8 encoded</i>? Does <code>System.out.println(&quot;\\u0416&quot;);</code> successfully print Ж on your console?"},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1678280834,"post_id":75673362,"comment_id":133501527,"body_markdown":"Also: `new String(everything.getBytes(),StandardCharsets.UTF_8)` is dangerous cargo-cult-level &quot;try to fix this stuff, but don&#39;t know how&quot; code that I see frequently but is almost always completely wrong. If you know the encoding, specify it when you create the `FileReader`, but don&#39;t try to &quot;fix&quot; strings like this after the fact. And especially when you set `file.encoding` to UTF-8, then it&#39;s a pointless, expensive no-op.","body":"Also: <code>new String(everything.getBytes(),StandardCharsets.UTF_8)</code> is dangerous cargo-cult-level &quot;try to fix this stuff, but don&#39;t know how&quot; code that I see frequently but is almost always completely wrong. If you know the encoding, specify it when you create the <code>FileReader</code>, but don&#39;t try to &quot;fix&quot; strings like this after the fact. And especially when you set <code>file.encoding</code> to UTF-8, then it&#39;s a pointless, expensive no-op."},{"owner":{"account_id":14866733,"reputation":288,"user_id":14048134,"display_name":"Ruben Kubalyan"},"score":0,"creation_date":1678281283,"post_id":75673362,"comment_id":133501647,"body_markdown":"@JoachimSauer System.out.println(&quot;\\u0416&quot;); doesn&#39;t print Ж. It prints the same as the txt file&#39;s text. A question mark only.","body":"@JoachimSauer System.out.println(&quot;\\u0416&quot;); doesn&#39;t print Ж. It prints the same as the txt file&#39;s text. A question mark only."},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1678281674,"post_id":75673362,"comment_id":133501763,"body_markdown":"Could be that the console encoding within IDEA is not set to UTF-8: https://www.jetbrains.com/help/idea/encoding.html#console Everything you configured is about how the IDEA *editor* treats files and how the Java VM treats encodings, but something (the IDEA console) must also display the console output.","body":"Could be that the console encoding within IDEA is not set to UTF-8: <a href=\"https://www.jetbrains.com/help/idea/encoding.html#console\" rel=\"nofollow noreferrer\">jetbrains.com/help/idea/encoding.html#console</a> Everything you configured is about how the IDEA <i>editor</i> treats files and how the Java VM treats encodings, but something (the IDEA console) must also display the console output."},{"owner":{"account_id":14866733,"reputation":288,"user_id":14048134,"display_name":"Ruben Kubalyan"},"score":0,"creation_date":1678281804,"post_id":75673362,"comment_id":133501812,"body_markdown":"@a moment, please. I&#39;ll check your link.","body":"@a moment, please. I&#39;ll check your link."},{"owner":{"account_id":14866733,"reputation":288,"user_id":14048134,"display_name":"Ruben Kubalyan"},"score":0,"creation_date":1678282888,"post_id":75673362,"comment_id":133502132,"body_markdown":"@JoachimSauer I checked it. At first there was &quot;default UTF-8&quot; I set directly to UTF-8. Tried again. There are no detected positive changes.","body":"@JoachimSauer I checked it. At first there was &quot;default UTF-8&quot; I set directly to UTF-8. Tried again. There are no detected positive changes."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1678282942,"post_id":75673362,"comment_id":133502150,"body_markdown":"Well, just to say *By default, IntelliJ IDEA uses the system encoding to view console output.* (per the link @JoachimSauer posted) What *is* your default encoding?","body":"Well, just to say <i>By default, IntelliJ IDEA uses the system encoding to view console output.</i> (per the link @JoachimSauer posted) What <i>is</i> your default encoding?"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1678291824,"post_id":75673362,"comment_id":133505198,"body_markdown":"Edit your Question to include a small piece of text with a few of your problematic Cyrillic characters that we can copy-paste.","body":"Edit your Question to include a small piece of text with a few of your problematic Cyrillic characters that we can copy-paste."},{"owner":{"account_id":14866733,"reputation":288,"user_id":14048134,"display_name":"Ruben Kubalyan"},"score":0,"creation_date":1678292828,"post_id":75673362,"comment_id":133505487,"body_markdown":"@BasilBourque Just wait a moment and I&#39;ll update my question.","body":"@BasilBourque Just wait a moment and I&#39;ll update my question."},{"owner":{"account_id":14866733,"reputation":288,"user_id":14048134,"display_name":"Ruben Kubalyan"},"score":0,"creation_date":1678294003,"post_id":75673362,"comment_id":133505852,"body_markdown":"@BasilBourque and an interesting fact. I created a new txt file with Intellij Idea. Copied that part of the text from the first txt file to this new one and I was negatively surprised. In the console, all letters are displayed incorrectly. I decided to check both txt files with notepad++. For the first one it shows that the encoding is in utf-8, but for the second one - windows-1251. But it&#39;s weird. In fact, the UTF-8 one is displaying mostly correctly and the windows-1251 one not showing any correct characters. And all this happens when intellij settings are set to windows-1251, not utf-8.","body":"@BasilBourque and an interesting fact. I created a new txt file with Intellij Idea. Copied that part of the text from the first txt file to this new one and I was negatively surprised. In the console, all letters are displayed incorrectly. I decided to check both txt files with notepad++. For the first one it shows that the encoding is in utf-8, but for the second one - windows-1251. But it&#39;s weird. In fact, the UTF-8 one is displaying mostly correctly and the windows-1251 one not showing any correct characters. And all this happens when intellij settings are set to windows-1251, not utf-8."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1678305353,"post_id":75673362,"comment_id":133508869,"body_markdown":"I suggest you shorten that example text. Just enough few words to demonstrate the issue.","body":"I suggest you shorten that example text. Just enough few words to demonstrate the issue."},{"owner":{"account_id":14866733,"reputation":288,"user_id":14048134,"display_name":"Ruben Kubalyan"},"score":0,"creation_date":1678309671,"post_id":75673362,"comment_id":133509885,"body_markdown":"@BasilBourque I shortened the text.","body":"@BasilBourque I shortened the text."},{"owner":{"account_id":17693330,"reputation":3781,"user_id":12844632,"display_name":"Egor Klepikov"},"score":0,"creation_date":1678790612,"post_id":75673362,"comment_id":133597853,"body_markdown":"What JDK version and vendor are used in the project? Try using the latest IDE build from https://www.jetbrains.com/idea/download","body":"What JDK version and vendor are used in the project? Try using the latest IDE build from <a href=\"https://www.jetbrains.com/idea/download\" rel=\"nofollow noreferrer\">jetbrains.com/idea/download</a>"}],"answers":[{"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678281160,"creation_date":1678281160,"answer_id":75673495,"question_id":75673362,"body_markdown":"First try to use method `getBytes(Charset charset)` instead of just `getBytes()` in your line:\r\n\r\n    System.out.println(new String(everything.getBytes(),StandardCharsets.UTF_8));\r\nThis may solve your problem. Also, for diagnostics I would suggest to try convert your string that you think contains russian characters into unicode sequence and see if your string really contains russian characters and your problem is only display problem or that your String doesn&#39;t have the right chars to begin with. I wrote my own feature that can easily convert string into unicode sequence and vice-versa. Here how it works:\r\nThere is an Open Source java library MgntUtils written and maintained by me that has a Utility that converts Strings to unicode sequence and vise versa:\r\n\r\n    result = &quot;Hello World&quot;;\r\n    result = StringUnicodeEncoderDecoder.encodeStringToUnicodeSequence(result);\r\n    System.out.println(result);\r\n    result = StringUnicodeEncoderDecoder.decodeUnicodeSequenceToString(result);\r\n    System.out.println(result);\r\n\r\nThe output of this code is:\r\n\r\n    \\u0048\\u0065\\u006c\\u006c\\u006f\\u0020\\u0057\\u006f\\u0072\\u006c\\u0064\r\n    Hello World\r\n\r\nThe library can be found at [Maven Central][1] or at [Github][2] It comes as maven artifact and with sources and javadoc\r\n\r\nHere is javadoc for the class [StringUnicodeEncoderDecoder][3]\r\n\r\n\r\n  [1]: https://search.maven.org/artifact/com.github.michaelgantman/MgntUtils/1.5.0.2/jar\r\n  [2]: https://github.com/michaelgantman/Mgnt\r\n  [3]: http://michaelgantman.github.io/Mgnt/docs/com/mgnt/utils/StringUnicodeEncoderDecoder.html ","title":"Intellij Idea, Java, no russian letters displaying correctly, even with manually setting the encoding to UTF-8. What&#39;s going on?","body":"<p>First try to use method <code>getBytes(Charset charset)</code> instead of just <code>getBytes()</code> in your line:</p>\n<pre><code>System.out.println(new String(everything.getBytes(),StandardCharsets.UTF_8));\n</code></pre>\n<p>This may solve your problem. Also, for diagnostics I would suggest to try convert your string that you think contains russian characters into unicode sequence and see if your string really contains russian characters and your problem is only display problem or that your String doesn't have the right chars to begin with. I wrote my own feature that can easily convert string into unicode sequence and vice-versa. Here how it works:\nThere is an Open Source java library MgntUtils written and maintained by me that has a Utility that converts Strings to unicode sequence and vise versa:</p>\n<pre><code>result = &quot;Hello World&quot;;\nresult = StringUnicodeEncoderDecoder.encodeStringToUnicodeSequence(result);\nSystem.out.println(result);\nresult = StringUnicodeEncoderDecoder.decodeUnicodeSequenceToString(result);\nSystem.out.println(result);\n</code></pre>\n<p>The output of this code is:</p>\n<pre><code>\\u0048\\u0065\\u006c\\u006c\\u006f\\u0020\\u0057\\u006f\\u0072\\u006c\\u0064\nHello World\n</code></pre>\n<p>The library can be found at <a href=\"https://search.maven.org/artifact/com.github.michaelgantman/MgntUtils/1.5.0.2/jar\" rel=\"nofollow noreferrer\">Maven Central</a> or at <a href=\"https://github.com/michaelgantman/Mgnt\" rel=\"nofollow noreferrer\">Github</a> It comes as maven artifact and with sources and javadoc</p>\n<p>Here is javadoc for the class <a href=\"http://michaelgantman.github.io/Mgnt/docs/com/mgnt/utils/StringUnicodeEncoderDecoder.html\" rel=\"nofollow noreferrer\">StringUnicodeEncoderDecoder</a></p>\n"}],"owner":{"account_id":14866733,"reputation":288,"user_id":14048134,"display_name":"Ruben Kubalyan"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":567,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":1,"score":0,"last_activity_date":1678309611,"creation_date":1678280418,"question_id":75673362,"body_markdown":"I want to get the text from the txt file and print in terminal.\r\nThe Russian letters won&#39;t display correctly.\r\n\r\nI did the next things to fix the problem\r\n\r\n&gt; 1) https://stackoverflow.com/a/34717160/14048134 \r\n&gt; \r\n&gt; 2) https://stackoverflow.com/a/36932975/14048134 \r\n&gt; \r\n&gt; 3) https://stackoverflow.com/a/61205022/14048134 \r\n&gt; \r\n&gt; 4) go to Help | Edit Custom VM Options... and add (restart IDE is\r\n&gt; needed):\r\n&gt;     -Dconsole.encoding=UTF-8\r\n&gt;     -Dfile.encoding=UTF-8\r\n\r\nHere&#39;s my code:\r\n\r\n    BufferedReader br = new BufferedReader(new FileReader(&quot;file.txt&quot;));\r\n    try {\r\n        StringBuilder sb = new StringBuilder();\r\n        String line = br.readLine();\r\n    \r\n        while (line != null) {\r\n            sb.append(line);\r\n            sb.append(System.lineSeparator());\r\n            line = br.readLine();\r\n        }\r\n        String everything = sb.toString();\r\n        System.out.println(new String(everything.getBytes(),StandardCharsets.UTF_8));\r\n    } catch (IOException e) {\r\n        throw new RuntimeException(e);\r\n    } finally {\r\n        br.close();\r\n    }\r\n\r\nNo matter what I do, the Russian letter&#39;s won&#39;t be displayed. \r\n\r\n![enter image description here][1]\r\n\r\n![enter image description here][2]\r\n\r\n![enter image description here][3]\r\n\r\n![enter image description here][4]\r\n\r\n\r\nAfter all, no Russian letters are displayed correctly, but the Latin ones and numbers are correct.\r\n\r\nHow can I fix this problem? Any ideas?\r\n\r\n\r\nUPDATE 1\r\n\r\n        BufferedReader br = new BufferedReader(new FileReader(&quot;file.txt&quot;,StandardCharsets.UTF_8));\r\n        try {\r\n            StringBuilder sb = new StringBuilder();\r\n            String line = br.readLine();\r\n\r\n            while (line != null) {\r\n                sb.append(line);\r\n                sb.append(System.lineSeparator());\r\n                line = br.readLine();\r\n            }\r\n            String everything = sb.toString();\r\n            System.out.println(everything);\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n        } finally {\r\n            br.close();\r\n        }\r\n\r\nThis one doesn&#39;t work too. \r\n\r\nUPDATE 2\r\n\r\nHere&#39;s the console settings. \r\n\r\n[![enter image description here][5]][5]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/EiJt4.jpg\r\n  [2]: https://i.stack.imgur.com/1g3BS.jpg\r\n  [3]: https://i.stack.imgur.com/pQuni.jpg\r\n  [4]: https://i.stack.imgur.com/NEcn2.jpg\r\n  [5]: https://i.stack.imgur.com/zI92M.jpg\r\n\r\nThere is no benefit from this. \r\n\r\nUPDATE 3\r\n\r\n\r\nExpected result (the original text): &quot;Кстати, в Индонезии есть часть страны называемой Java...Карл, Java!!! Еще и страннее то, что как бы Индонезия кажется таким\r\nродным.... с чего это вдруг?&quot;\r\n\r\nActual result (what is displayed in console): &quot;Кстати, в �?ндонезии есть часть страны называемой Java...Карл, Java!!! Еще и страннее то, что как бы �?ндонезия кажется таким\r\nродным.... с чего это вдруг?&quot;","title":"Intellij Idea, Java, no russian letters displaying correctly, even with manually setting the encoding to UTF-8. What&#39;s going on?","body":"<p>I want to get the text from the txt file and print in terminal.\nThe Russian letters won't display correctly.</p>\n<p>I did the next things to fix the problem</p>\n<blockquote>\n<ol>\n<li><p><a href=\"https://stackoverflow.com/a/34717160/14048134\">https://stackoverflow.com/a/34717160/14048134</a></p>\n</li>\n<li><p><a href=\"https://stackoverflow.com/a/36932975/14048134\">https://stackoverflow.com/a/36932975/14048134</a></p>\n</li>\n<li><p><a href=\"https://stackoverflow.com/a/61205022/14048134\">https://stackoverflow.com/a/61205022/14048134</a></p>\n</li>\n<li><p>go to Help | Edit Custom VM Options... and add (restart IDE is\nneeded):\n-Dconsole.encoding=UTF-8\n-Dfile.encoding=UTF-8</p>\n</li>\n</ol>\n</blockquote>\n<p>Here's my code:</p>\n<pre><code>BufferedReader br = new BufferedReader(new FileReader(&quot;file.txt&quot;));\ntry {\n    StringBuilder sb = new StringBuilder();\n    String line = br.readLine();\n\n    while (line != null) {\n        sb.append(line);\n        sb.append(System.lineSeparator());\n        line = br.readLine();\n    }\n    String everything = sb.toString();\n    System.out.println(new String(everything.getBytes(),StandardCharsets.UTF_8));\n} catch (IOException e) {\n    throw new RuntimeException(e);\n} finally {\n    br.close();\n}\n</code></pre>\n<p>No matter what I do, the Russian letter's won't be displayed.</p>\n<p><img src=\"https://i.stack.imgur.com/EiJt4.jpg\" alt=\"enter image description here\" /></p>\n<p><img src=\"https://i.stack.imgur.com/1g3BS.jpg\" alt=\"enter image description here\" /></p>\n<p><img src=\"https://i.stack.imgur.com/pQuni.jpg\" alt=\"enter image description here\" /></p>\n<p><img src=\"https://i.stack.imgur.com/NEcn2.jpg\" alt=\"enter image description here\" /></p>\n<p>After all, no Russian letters are displayed correctly, but the Latin ones and numbers are correct.</p>\n<p>How can I fix this problem? Any ideas?</p>\n<p>UPDATE 1</p>\n<pre><code>    BufferedReader br = new BufferedReader(new FileReader(&quot;file.txt&quot;,StandardCharsets.UTF_8));\n    try {\n        StringBuilder sb = new StringBuilder();\n        String line = br.readLine();\n\n        while (line != null) {\n            sb.append(line);\n            sb.append(System.lineSeparator());\n            line = br.readLine();\n        }\n        String everything = sb.toString();\n        System.out.println(everything);\n    } catch (IOException e) {\n        throw new RuntimeException(e);\n    } finally {\n        br.close();\n    }\n</code></pre>\n<p>This one doesn't work too.</p>\n<p>UPDATE 2</p>\n<p>Here's the console settings.</p>\n<p><a href=\"https://i.stack.imgur.com/zI92M.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zI92M.jpg\" alt=\"enter image description here\" /></a></p>\n<p>There is no benefit from this.</p>\n<p>UPDATE 3</p>\n<p>Expected result (the original text): &quot;Кстати, в Индонезии есть часть страны называемой Java...Карл, Java!!! Еще и страннее то, что как бы Индонезия кажется таким\nродным.... с чего это вдруг?&quot;</p>\n<p>Actual result (what is displayed in console): &quot;Кстати, в �?ндонезии есть часть страны называемой Java...Карл, Java!!! Еще и страннее то, что как бы �?ндонезия кажется таким\nродным.... с чего это вдруг?&quot;</p>\n"},{"tags":["java","android","android-layout"],"comments":[{"owner":{"account_id":222134,"reputation":2003,"user_id":480536,"accept_rate":100,"display_name":"BadSkillz"},"score":0,"creation_date":1306158340,"post_id":6097795,"comment_id":7068817,"body_markdown":"How is it not working? Do you get an error message or just a black screen?","body":"How is it not working? Do you get an error message or just a black screen?"},{"owner":{"account_id":7480552,"reputation":21,"user_id":5685400,"display_name":"Masayuki Suda"},"score":0,"creation_date":1450250696,"post_id":6097795,"comment_id":95811545,"body_markdown":"[My Library Link](https://github.com/MasayukiSuda/AnimateHorizontalProgressBar) Above link is my library.\nJust use it if you want.","body":"<a href=\"https://github.com/MasayukiSuda/AnimateHorizontalProgressBar\" rel=\"nofollow noreferrer\">My Library Link</a> Above link is my library. Just use it if you want."}],"answers":[{"tags":[],"owner":{"account_id":390504,"reputation":16206,"user_id":750613,"accept_rate":73,"display_name":"Nikhil"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1489562912,"creation_date":1306157361,"answer_id":6097894,"question_id":6097795,"body_markdown":"I am not sure but please check it:\r\n\r\n    pb.setProgress(pb.getProgress() * 100);\r\n","title":"Make a ProgressBar update smoothly","body":"<p>I am not sure but please check it:</p>\n\n<pre><code>pb.setProgress(pb.getProgress() * 100);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":371054,"reputation":24474,"user_id":719363,"accept_rate":75,"display_name":"Alex Gitelman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1306158319,"creation_date":1306158319,"answer_id":6098076,"question_id":6097795,"body_markdown":"According to documentation interpolator applies to indeterminate progress.\r\nSince you set progress I think you intend to use regular one with values. \r\nI think the best for you would be to increase maximum value of progress and \r\ngo in smaller increments.","title":"Make a ProgressBar update smoothly","body":"<p>According to documentation interpolator applies to indeterminate progress.\nSince you set progress I think you intend to use regular one with values. \nI think the best for you would be to increase maximum value of progress and \ngo in smaller increments.</p>\n"},{"tags":[],"owner":{"account_id":274883,"reputation":5504,"user_id":567390,"accept_rate":89,"display_name":"Todd Davies"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1306238287,"creation_date":1306238287,"answer_id":6110027,"question_id":6097795,"body_markdown":"I worked out how to do it, by using a runnable I was able to update the progress bar several times a second and so give the sliding effect. The code is below:\r\n\r\n    private Runnable SmoothIncrement = new Runnable() {\r\n\t\t   public void run() {\r\n\t\t       final long start = mStartTime;\r\n\t\t       long millis = SystemClock.uptimeMillis() - start;\r\n\t\t       \r\n\t\t       if(track!=increase) {\r\n\t\t    \t   if((pb.getProgress()==100)&amp;&amp;(count&lt;target)) {\r\n\t\t\t    \t   pb.setProgress(0);\r\n\t\t    \t   }\r\n\t\t    \t   pb.incrementProgressBy(1);\r\n\t\t    \t   track++;\r\n\t\t\t       incrementor.postAtTime(this, start + millis);\r\n\t\t       }\r\n\t\t       else {\r\n\t\t    \t   incrementor.removeCallbacks(this);\r\n\t\t       }\r\n\t\t   }\r\n\t\t};\r\n\r\nHere, &#39;track&#39; keeps track of how many increments have been done, and increase is the total number of increments that should be done. I can dynamically increase the number of increments from the UI thread to give a smooth effect. The code only works for progress bars that won&#39;t need to decrease.\r\n\r\nTo run it, simply use this code:\r\n\r\n    \t\t\t\t    mStartTime = System.currentTimeMillis();\r\n\t\t            \tincrementor.removeCallbacks(SmoothIncrement);\r\n\t\t            \tif(track!=0) {\r\n\t\t            \t\ttrack -= increase;\r\n\t\t            \t}\r\n\t\t            \tincrementor.postDelayed(SmoothIncrement, 0);","title":"Make a ProgressBar update smoothly","body":"<p>I worked out how to do it, by using a runnable I was able to update the progress bar several times a second and so give the sliding effect. The code is below:</p>\n\n<pre><code>private Runnable SmoothIncrement = new Runnable() {\n       public void run() {\n           final long start = mStartTime;\n           long millis = SystemClock.uptimeMillis() - start;\n\n           if(track!=increase) {\n               if((pb.getProgress()==100)&amp;&amp;(count&lt;target)) {\n                   pb.setProgress(0);\n               }\n               pb.incrementProgressBy(1);\n               track++;\n               incrementor.postAtTime(this, start + millis);\n           }\n           else {\n               incrementor.removeCallbacks(this);\n           }\n       }\n    };\n</code></pre>\n\n<p>Here, 'track' keeps track of how many increments have been done, and increase is the total number of increments that should be done. I can dynamically increase the number of increments from the UI thread to give a smooth effect. The code only works for progress bars that won't need to decrease.</p>\n\n<p>To run it, simply use this code:</p>\n\n<pre><code>                    mStartTime = System.currentTimeMillis();\n                    incrementor.removeCallbacks(SmoothIncrement);\n                    if(track!=0) {\n                        track -= increase;\n                    }\n                    incrementor.postDelayed(SmoothIncrement, 0);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1003050,"reputation":4832,"user_id":1017472,"display_name":"now"},"down_vote_count":1,"up_vote_count":133,"is_accepted":true,"score":132,"last_activity_date":1574372141,"creation_date":1365961076,"answer_id":16002144,"question_id":6097795,"body_markdown":"The Interpolator has to be attached to an animation and this will work only on Honeycomb or higher:\r\n\r\n    if(android.os.Build.VERSION.SDK_INT &gt;= 11){\r\n        // will update the &quot;progress&quot; propriety of seekbar until it reaches progress\r\n        ObjectAnimator animation = ObjectAnimator.ofInt(seekbar, &quot;progress&quot;, progress); \r\n        animation.setDuration(500); // 0.5 second\r\n        animation.setInterpolator(new DecelerateInterpolator());\r\n        animation.start();\r\n    }\r\n    else \r\n        seekbar.setProgress(progress); // no animation on Gingerbread or lower\r\n\r\nIf your minimum SDK is Gingerbread or lower, add:\r\n\r\n    @TargetApi(Build.VERSION_CODES.HONEYCOMB) \r\n    // or \r\n    @SuppressLint(&quot;NewApi&quot;) \r\nto your function/class.\r\n\r\nI used a DecelerateInterpolator, but this is optional and there are others possibilities.","title":"Make a ProgressBar update smoothly","body":"<p>The Interpolator has to be attached to an animation and this will work only on Honeycomb or higher:</p>\n\n<pre><code>if(android.os.Build.VERSION.SDK_INT &gt;= 11){\n    // will update the \"progress\" propriety of seekbar until it reaches progress\n    ObjectAnimator animation = ObjectAnimator.ofInt(seekbar, \"progress\", progress); \n    animation.setDuration(500); // 0.5 second\n    animation.setInterpolator(new DecelerateInterpolator());\n    animation.start();\n}\nelse \n    seekbar.setProgress(progress); // no animation on Gingerbread or lower\n</code></pre>\n\n<p>If your minimum SDK is Gingerbread or lower, add:</p>\n\n<pre><code>@TargetApi(Build.VERSION_CODES.HONEYCOMB) \n// or \n@SuppressLint(\"NewApi\") \n</code></pre>\n\n<p>to your function/class.</p>\n\n<p>I used a DecelerateInterpolator, but this is optional and there are others possibilities.</p>\n"},{"tags":[],"owner":{"account_id":482539,"reputation":8702,"user_id":896997,"accept_rate":95,"display_name":"tom91136"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1387705934,"creation_date":1387705934,"answer_id":20728139,"question_id":6097795,"body_markdown":"Here is a self-contained drop in solution:\r\n\r\n\timport android.animation.ValueAnimator;\r\n\timport android.animation.ValueAnimator.AnimatorUpdateListener;\r\n\timport android.content.Context;\r\n\timport android.util.AttributeSet;\r\n\timport android.view.animation.AccelerateDecelerateInterpolator;\r\n\timport android.view.animation.Interpolator;\r\n\timport android.widget.ProgressBar;\r\n\r\n\tpublic class AnimatingProgressBar extends ProgressBar {\r\n\r\n\t\tprivate static final Interpolator DEFAULT_INTERPOLATER = new AccelerateDecelerateInterpolator();\r\n\r\n\t\tprivate ValueAnimator animator;\r\n\t\tprivate ValueAnimator animatorSecondary;\r\n\t\tprivate boolean animate = true;\r\n\r\n\t\tpublic AnimatingProgressBar(Context context, AttributeSet attrs, int defStyle) {\r\n\t\t\tsuper(context, attrs, defStyle);\r\n\t\t}\r\n\r\n\t\tpublic AnimatingProgressBar(Context context, AttributeSet attrs) {\r\n\t\t\tsuper(context, attrs);\r\n\t\t}\r\n\r\n\t\tpublic AnimatingProgressBar(Context context) {\r\n\t\t\tsuper(context);\r\n\t\t}\r\n\r\n\t\tpublic boolean isAnimate() {\r\n\t\t\treturn animate;\r\n\t\t}\r\n\r\n\t\tpublic void setAnimate(boolean animate) {\r\n\t\t\tthis.animate = animate;\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic synchronized void setProgress(int progress) {\r\n\t\t\tif (!animate) {\r\n\t\t\t\tsuper.setProgress(progress);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (animator != null)\r\n\t\t\t\tanimator.cancel();\r\n\t\t\tif (animator == null) {\r\n\t\t\t\tanimator = ValueAnimator.ofInt(getProgress(), progress);\r\n\t\t\t\tanimator.setInterpolator(DEFAULT_INTERPOLATER);\r\n\t\t\t\tanimator.addUpdateListener(new AnimatorUpdateListener() {\r\n\r\n\t\t\t\t\t@Override\r\n\t\t\t\t\tpublic void onAnimationUpdate(ValueAnimator animation) {\r\n\t\t\t\t\t\tAnimatingProgressBar.super.setProgress((Integer) animation.getAnimatedValue());\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t} else\r\n\t\t\t\tanimator.setIntValues(getProgress(), progress);\r\n\t\t\tanimator.start();\r\n\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic synchronized void setSecondaryProgress(int secondaryProgress) {\r\n\t\t\tif (!animate) {\r\n\t\t\t\tsuper.setSecondaryProgress(secondaryProgress);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (animatorSecondary != null)\r\n\t\t\t\tanimatorSecondary.cancel();\r\n\t\t\tif (animatorSecondary == null) {\r\n\t\t\t\tanimatorSecondary = ValueAnimator.ofInt(getProgress(), secondaryProgress);\r\n\t\t\t\tanimatorSecondary.setInterpolator(DEFAULT_INTERPOLATER);\r\n\t\t\t\tanimatorSecondary.addUpdateListener(new AnimatorUpdateListener() {\r\n\r\n\t\t\t\t\t@Override\r\n\t\t\t\t\tpublic void onAnimationUpdate(ValueAnimator animation) {\r\n\t\t\t\t\t\tAnimatingProgressBar.super.setSecondaryProgress((Integer) animation\r\n\t\t\t\t\t\t\t\t.getAnimatedValue());\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t} else\r\n\t\t\t\tanimatorSecondary.setIntValues(getProgress(), secondaryProgress);\r\n\t\t\tanimatorSecondary.start();\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tprotected void onDetachedFromWindow() {\r\n\t\t\tsuper.onDetachedFromWindow();\r\n\t\t\tif (animator != null)\r\n\t\t\t\tanimator.cancel();\r\n\t\t\tif (animatorSecondary != null)\r\n\t\t\t\tanimatorSecondary.cancel();\r\n\t\t}\r\n\r\n\t}\r\n\r\n\r\nreplace `ProgressBar` with `AnimatingProgressBar` in your layout\r\n\r\nYou many also change the type to AnimatingProgressBar to utilize `setAnimate()` to disable animation (could be useful when restoring activity state)\r\n","title":"Make a ProgressBar update smoothly","body":"<p>Here is a self-contained drop in solution:</p>\n\n<pre><code>import android.animation.ValueAnimator;\nimport android.animation.ValueAnimator.AnimatorUpdateListener;\nimport android.content.Context;\nimport android.util.AttributeSet;\nimport android.view.animation.AccelerateDecelerateInterpolator;\nimport android.view.animation.Interpolator;\nimport android.widget.ProgressBar;\n\npublic class AnimatingProgressBar extends ProgressBar {\n\n    private static final Interpolator DEFAULT_INTERPOLATER = new AccelerateDecelerateInterpolator();\n\n    private ValueAnimator animator;\n    private ValueAnimator animatorSecondary;\n    private boolean animate = true;\n\n    public AnimatingProgressBar(Context context, AttributeSet attrs, int defStyle) {\n        super(context, attrs, defStyle);\n    }\n\n    public AnimatingProgressBar(Context context, AttributeSet attrs) {\n        super(context, attrs);\n    }\n\n    public AnimatingProgressBar(Context context) {\n        super(context);\n    }\n\n    public boolean isAnimate() {\n        return animate;\n    }\n\n    public void setAnimate(boolean animate) {\n        this.animate = animate;\n    }\n\n    @Override\n    public synchronized void setProgress(int progress) {\n        if (!animate) {\n            super.setProgress(progress);\n            return;\n        }\n        if (animator != null)\n            animator.cancel();\n        if (animator == null) {\n            animator = ValueAnimator.ofInt(getProgress(), progress);\n            animator.setInterpolator(DEFAULT_INTERPOLATER);\n            animator.addUpdateListener(new AnimatorUpdateListener() {\n\n                @Override\n                public void onAnimationUpdate(ValueAnimator animation) {\n                    AnimatingProgressBar.super.setProgress((Integer) animation.getAnimatedValue());\n                }\n            });\n        } else\n            animator.setIntValues(getProgress(), progress);\n        animator.start();\n\n    }\n\n    @Override\n    public synchronized void setSecondaryProgress(int secondaryProgress) {\n        if (!animate) {\n            super.setSecondaryProgress(secondaryProgress);\n            return;\n        }\n        if (animatorSecondary != null)\n            animatorSecondary.cancel();\n        if (animatorSecondary == null) {\n            animatorSecondary = ValueAnimator.ofInt(getProgress(), secondaryProgress);\n            animatorSecondary.setInterpolator(DEFAULT_INTERPOLATER);\n            animatorSecondary.addUpdateListener(new AnimatorUpdateListener() {\n\n                @Override\n                public void onAnimationUpdate(ValueAnimator animation) {\n                    AnimatingProgressBar.super.setSecondaryProgress((Integer) animation\n                            .getAnimatedValue());\n                }\n            });\n        } else\n            animatorSecondary.setIntValues(getProgress(), secondaryProgress);\n        animatorSecondary.start();\n    }\n\n    @Override\n    protected void onDetachedFromWindow() {\n        super.onDetachedFromWindow();\n        if (animator != null)\n            animator.cancel();\n        if (animatorSecondary != null)\n            animatorSecondary.cancel();\n    }\n\n}\n</code></pre>\n\n<p>replace <code>ProgressBar</code> with <code>AnimatingProgressBar</code> in your layout</p>\n\n<p>You many also change the type to AnimatingProgressBar to utilize <code>setAnimate()</code> to disable animation (could be useful when restoring activity state)</p>\n"},{"tags":[],"owner":{"account_id":5009550,"reputation":1527,"user_id":4026208,"display_name":"Pavel Kataykin"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1467798924,"creation_date":1467798924,"answer_id":38221166,"question_id":6097795,"body_markdown":"If you change progress value each time by 1 (for example from 45 to 46) you&#39;ll not see animation. Better to change progress by 100 points, for this you just need to multiply your max value to 100 and each progress value to 100 too. For example:\r\n\r\n    private void setProgressMax(ProgressBar pb, int max) {\r\n        pb.setMax(max * 100);\r\n    }\r\n\r\n    private void setProgressAnimate(ProgressBar pb, int progressTo) \r\n    {\r\n        ObjectAnimator animation = ObjectAnimator.ofInt(pb, &quot;progress&quot;, pb.getProgress(), progressTo * 100);\r\n        animation.setDuration(500);\r\n        animation.setInterpolator(new DecelerateInterpolator());\r\n        animation.start();\r\n    }","title":"Make a ProgressBar update smoothly","body":"<p>If you change progress value each time by 1 (for example from 45 to 46) you'll not see animation. Better to change progress by 100 points, for this you just need to multiply your max value to 100 and each progress value to 100 too. For example:</p>\n\n<pre><code>private void setProgressMax(ProgressBar pb, int max) {\n    pb.setMax(max * 100);\n}\n\nprivate void setProgressAnimate(ProgressBar pb, int progressTo) \n{\n    ObjectAnimator animation = ObjectAnimator.ofInt(pb, \"progress\", pb.getProgress(), progressTo * 100);\n    animation.setDuration(500);\n    animation.setInterpolator(new DecelerateInterpolator());\n    animation.start();\n}\n</code></pre>\n"}],"owner":{"account_id":274883,"reputation":5504,"user_id":567390,"accept_rate":89,"display_name":"Todd Davies"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61618,"favorite_count":0,"down_vote_count":0,"up_vote_count":53,"accepted_answer_id":16002144,"answer_count":6,"score":53,"last_activity_date":1678309597,"creation_date":1306156996,"question_id":6097795,"body_markdown":"I&#39;m using a progress bar (in bar form). I wish to make the bar increase and decrease smoothly using an interpolator, but It&#39;s not working. This is what I have at the moment:\r\n\r\n    pb.setInterpolator(main.this, android.R.anim.bounce_interpolator);\t\t       \r\n    pb.setProgress(pb.getProgress()+10);\r\n\r\nAm I doing something really wrong?","title":"Make a ProgressBar update smoothly","body":"<p>I'm using a progress bar (in bar form). I wish to make the bar increase and decrease smoothly using an interpolator, but It's not working. This is what I have at the moment:</p>\n\n<pre><code>pb.setInterpolator(main.this, android.R.anim.bounce_interpolator);             \npb.setProgress(pb.getProgress()+10);\n</code></pre>\n\n<p>Am I doing something really wrong?</p>\n"},{"tags":["java","hibernate","heap-memory","heap-dump"],"answers":[{"tags":[],"owner":{"account_id":7810518,"reputation":465,"user_id":5906841,"display_name":"i.merkurev"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1506786990,"creation_date":1506786015,"answer_id":46504297,"question_id":46496411,"body_markdown":"There are really a lot of issues which were related with &quot;Query Plan Cache Memory usage&quot;. ([1][1], [2][2], [3][3], [4][4]). But as a solution right now we can setup some settings, one of them - *hibernate.query.plan_cache_max_size*. It&#39;s weird, that it didn&#39;t help, in my case it worked. Perhaps the issue is hiding somewhere else.\r\n\r\nIf you have a heap dump, try to check your assumption by using Memory Analyzer (MAT), run this OQL query (if you haven&#39;t done it yet):\r\n\r\n    SELECT l.query.toString() FROM INSTANCEOF org.hibernate.engine.query.spi.QueryPlanCache$HQLQueryPlanKey l\r\n\r\nIt will give you an additional information.\r\n\r\nAnd just in case. Did you try to change a value for all these settings?\r\n\r\n    &quot;hibernate.cache.query_cache_factory&quot;\r\n    &quot;hibernate.query.plan_cache_max_size&quot;\r\n    &quot;hibernate.query.plan_cache_max_soft_references&quot;\r\n    &quot;hibernate.query.plan_cache_max_strong_references&quot;\r\n    &quot;hibernate.query.plan_parameter_metadata_max_size&quot;\r\n\r\n  [1]: https://hibernate.atlassian.net/browse/HHH-5300\r\n  [2]: https://hibernate.atlassian.net/browse/HHH-2431\r\n  [3]: https://hibernate.atlassian.net/browse/HHH-3191\r\n  [4]: https://hibernate.atlassian.net/browse/HHH-4627","title":"Lots of hibernate queries in heap dump. How can I limit?","body":"<p>There are really a lot of issues which were related with \"Query Plan Cache Memory usage\". (<a href=\"https://hibernate.atlassian.net/browse/HHH-5300\" rel=\"noreferrer\">1</a>, <a href=\"https://hibernate.atlassian.net/browse/HHH-2431\" rel=\"noreferrer\">2</a>, <a href=\"https://hibernate.atlassian.net/browse/HHH-3191\" rel=\"noreferrer\">3</a>, <a href=\"https://hibernate.atlassian.net/browse/HHH-4627\" rel=\"noreferrer\">4</a>). But as a solution right now we can setup some settings, one of them - <em>hibernate.query.plan_cache_max_size</em>. It's weird, that it didn't help, in my case it worked. Perhaps the issue is hiding somewhere else.</p>\n\n<p>If you have a heap dump, try to check your assumption by using Memory Analyzer (MAT), run this OQL query (if you haven't done it yet):</p>\n\n<pre><code>SELECT l.query.toString() FROM INSTANCEOF org.hibernate.engine.query.spi.QueryPlanCache$HQLQueryPlanKey l\n</code></pre>\n\n<p>It will give you an additional information.</p>\n\n<p>And just in case. Did you try to change a value for all these settings?</p>\n\n<pre><code>\"hibernate.cache.query_cache_factory\"\n\"hibernate.query.plan_cache_max_size\"\n\"hibernate.query.plan_cache_max_soft_references\"\n\"hibernate.query.plan_cache_max_strong_references\"\n\"hibernate.query.plan_parameter_metadata_max_size\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4468566,"reputation":56,"user_id":3635428,"display_name":"Hien Nguyen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678309248,"creation_date":1560163840,"answer_id":56524973,"question_id":46496411,"body_markdown":"The &quot;hibernate.query.plan_cache_max_size&quot; works for me. This hibernate query cache can be reduced from the implementation by trying to avoid dynamic parameters sent to &quot;IN&quot; condition in the query.\r\n\r\n    SELECT * FROM TEST_TABLE WHERE A_COLUNN IN ($param1, $param2, ....)\r\nEach call to the hibernate query which generated above sample query with a specific number of parameter would store 1 row in the cache plan.\r\n\r\nInstead hibernate can be configured to send a fixed number of parameters by power of two by setting the property\r\n\r\n    hibernate.query.in_clause_parameter_padding: true\r\n\r\nAs an example if there are 5,6,7, or 8 parameters then it will use `in ($param1,$param2,$param3,$param4,$param5,$param6,$param7,$param8)`, in the case that there are only 5 parameters, then the last parameter is repeated 4 times.\r\n\r\nIn this way the number of query plans in the hibernate cache is greatly reduced. As well as reducing the amount of ram required for these very large queries, it should also increase the hit rate.  This benefit extends to the database SQL query plan cache if your RDBMS features one.\r\n\r\nReference: \r\nhttps://docs.jboss.org/hibernate/orm/5.4/userguide/html_single/Hibernate_User_Guide.html#configurations-query","title":"Lots of hibernate queries in heap dump. How can I limit?","body":"<p>The &quot;hibernate.query.plan_cache_max_size&quot; works for me. This hibernate query cache can be reduced from the implementation by trying to avoid dynamic parameters sent to &quot;IN&quot; condition in the query.</p>\n<pre><code>SELECT * FROM TEST_TABLE WHERE A_COLUNN IN ($param1, $param2, ....)\n</code></pre>\n<p>Each call to the hibernate query which generated above sample query with a specific number of parameter would store 1 row in the cache plan.</p>\n<p>Instead hibernate can be configured to send a fixed number of parameters by power of two by setting the property</p>\n<pre><code>hibernate.query.in_clause_parameter_padding: true\n</code></pre>\n<p>As an example if there are 5,6,7, or 8 parameters then it will use <code>in ($param1,$param2,$param3,$param4,$param5,$param6,$param7,$param8)</code>, in the case that there are only 5 parameters, then the last parameter is repeated 4 times.</p>\n<p>In this way the number of query plans in the hibernate cache is greatly reduced. As well as reducing the amount of ram required for these very large queries, it should also increase the hit rate.  This benefit extends to the database SQL query plan cache if your RDBMS features one.</p>\n<p>Reference:\n<a href=\"https://docs.jboss.org/hibernate/orm/5.4/userguide/html_single/Hibernate_User_Guide.html#configurations-query\" rel=\"nofollow noreferrer\">https://docs.jboss.org/hibernate/orm/5.4/userguide/html_single/Hibernate_User_Guide.html#configurations-query</a></p>\n"}],"owner":{"account_id":2774008,"reputation":18025,"user_id":2387977,"accept_rate":69,"display_name":"Dherik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5045,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":2,"score":8,"last_activity_date":1678309248,"creation_date":1506716451,"question_id":46496411,"body_markdown":"I&#39;m dealing with a big application that have hundreds of hibernate entities and `EAGER` associations. When I start this application the memory consumption is very high (more than 1 GB).\r\n\r\nLooking in the JVM heap dump of the application just after started, I analyzed and understood that the most of the memory is occupied by `char[]` with different `SELECT` statements from different entities of the application.\r\n\r\nI suppose that this `SELECT`s are generated by the query plan cache of the Hibernate.\r\n\r\nI would like to limit the size of this cache for the development environment. I tried to limit the size with some properties:\r\n\r\n    &quot;hibernate.query.plan_cache_max_size&quot;, &quot;16&quot; //default is 2048\r\n    &quot;hibernate.query.plan_parameter_metadata_max_size&quot;, &quot;16&quot; //default is 128\r\n\r\nBut there is no difference in the memory consumption.\r\n\r\nWhat I&#39;m supposed to do to limit the cache of Hibernate queries?\r\n\r\nI&#39;m using Hibernate 5.0.10.","title":"Lots of hibernate queries in heap dump. How can I limit?","body":"<p>I'm dealing with a big application that have hundreds of hibernate entities and <code>EAGER</code> associations. When I start this application the memory consumption is very high (more than 1 GB).</p>\n\n<p>Looking in the JVM heap dump of the application just after started, I analyzed and understood that the most of the memory is occupied by <code>char[]</code> with different <code>SELECT</code> statements from different entities of the application.</p>\n\n<p>I suppose that this <code>SELECT</code>s are generated by the query plan cache of the Hibernate.</p>\n\n<p>I would like to limit the size of this cache for the development environment. I tried to limit the size with some properties:</p>\n\n<pre><code>\"hibernate.query.plan_cache_max_size\", \"16\" //default is 2048\n\"hibernate.query.plan_parameter_metadata_max_size\", \"16\" //default is 128\n</code></pre>\n\n<p>But there is no difference in the memory consumption.</p>\n\n<p>What I'm supposed to do to limit the cache of Hibernate queries?</p>\n\n<p>I'm using Hibernate 5.0.10.</p>\n"},{"tags":["java","http","http-headers","vert.x","web-client"],"comments":[{"owner":{"account_id":13182557,"reputation":1084,"user_id":9521512,"display_name":"Gregoire Ducharme"},"score":0,"creation_date":1533047706,"post_id":51600666,"comment_id":90197166,"body_markdown":"Why did you had to change your HTTP method from `GET` to `POST` ? This seems pretty weird","body":"Why did you had to change your HTTP method from <code>GET</code> to <code>POST</code> ? This seems pretty weird"},{"owner":{"account_id":3151445,"reputation":2418,"user_id":2664815,"accept_rate":100,"display_name":"aCarella"},"score":0,"creation_date":1533128327,"post_id":51600666,"comment_id":90232005,"body_markdown":"Specific to the API I was using.","body":"Specific to the API I was using."}],"answers":[{"tags":[],"owner":{"account_id":23919410,"reputation":26,"user_id":17915490,"display_name":"Divanshi Mittal"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1641996739,"creation_date":1641996226,"answer_id":70682940,"question_id":51600666,"body_markdown":"You need to change \r\n\r\n    webClient.get(&quot;http://my-endpoint.com/api/get-items&quot;)\r\n\r\nto\r\n\r\n    webClient.get(80, &quot;my-endpoint.com&quot;, &quot;/api/get-items&quot;)","title":"Using Vert.x Web Client to send GET requests properly with headers","body":"<p>You need to change</p>\n<pre><code>webClient.get(&quot;http://my-endpoint.com/api/get-items&quot;)\n</code></pre>\n<p>to</p>\n<pre><code>webClient.get(80, &quot;my-endpoint.com&quot;, &quot;/api/get-items&quot;)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5478419,"reputation":148,"user_id":4355746,"display_name":"James Sutherland"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678309210,"creation_date":1678309210,"answer_id":75678171,"question_id":51600666,"body_markdown":"You can use the getAbs method if you don&#39;t want to parse the url yourself.\r\n\r\n    webClient.getAbs(&quot;http://my-endpoint.com/api/get-items&quot;)\r\n\r\nThis also applies to any request method, `postAbs`, `putAbs`, etc.","title":"Using Vert.x Web Client to send GET requests properly with headers","body":"<p>You can use the getAbs method if you don't want to parse the url yourself.</p>\n<pre><code>webClient.getAbs(&quot;http://my-endpoint.com/api/get-items&quot;)\n</code></pre>\n<p>This also applies to any request method, <code>postAbs</code>, <code>putAbs</code>, etc.</p>\n"}],"owner":{"account_id":3151445,"reputation":2418,"user_id":2664815,"accept_rate":100,"display_name":"aCarella"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1101,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":70682940,"answer_count":2,"score":0,"last_activity_date":1678309210,"creation_date":1532977506,"question_id":51600666,"body_markdown":"I have an internal endpoint that I am trying to send `GET` requests to with Vert.x Web Client with Java. So far, I am unable to successfully get any data back.\r\n\r\nIf I cURL the endpoint, it works just fine (these are internal endpoints). The service I am trying to send `GET` requests to requires a few headers , and data as well:\r\n\r\n    curl -H &quot;Accept:application/json&quot; -H &quot;Content-Type:application/json&quot; -H &quot;alpha:192.168.10.20&quot; -d &#39;{&quot;mutate&quot;:&quot;*&quot;}&#39; http://my-endpoint.com/api/get-items\r\n\r\nBut if I try to use this in one of my router endpoints in Vert.x, I get an error:\r\n\r\n    WebClient webClient = WebClient.create(vertx);\r\n        webClient.get(&quot;http://my-endpoint.com/api/get-items&quot;)\r\n            .putHeader(&quot;Accept&quot;, &quot;application/json&quot;)\r\n            .putHeader(&quot;Content-Type&quot;, &quot;application/json&quot;)\r\n            .putHeader(&quot;alpha&quot;, &quot;192.168.10.20&quot;)\r\n            .sendJsonObject(new JsonObject().put(&quot;mutate&quot;, &quot;*&quot;), ar -&gt; { \r\n                if (ar.succeeded()) {\r\n                    System.out.println(&quot;##### WEBCLIENT #####&quot;);\r\n                    System.out.println(ar);\r\n                } else {\r\n                    System.out.println(&quot;CAUSE: &quot; + ar.cause().getMessage());\r\n                    \r\n                }\r\n        });\r\n\r\nThe error message I get from the else statement is:\r\n\r\n    CAUSE: Connection refused: localhost/127.0.0.1:80\r\n\r\nWhat am I doing wrong? I&#39;ve been using this for reference: [Vert.x Web Client][1]\r\n\r\n\r\n\r\n\r\n\r\n===========================================\r\n\r\n&lt;b&gt;SOLUTION&lt;/b&gt;\r\n\r\n===========================================\r\n\r\n\r\nI had to change\r\n\r\n    webClient.get(&quot;http://my-endpoint.com/api/get-items&quot;)\r\n\r\nto\r\n\r\n    webClient.post(80, &quot;my-endpoint.com&quot;, &quot;/api/get-items&quot;)\r\n\r\nAlso had to add `.as(BodyCodec.jsonArray())` underneath the above line because the result I was getting was a Json Array.\r\n\r\n\r\n  [1]: https://vertx.io/docs/vertx-web-client/java/","title":"Using Vert.x Web Client to send GET requests properly with headers","body":"<p>I have an internal endpoint that I am trying to send <code>GET</code> requests to with Vert.x Web Client with Java. So far, I am unable to successfully get any data back.</p>\n\n<p>If I cURL the endpoint, it works just fine (these are internal endpoints). The service I am trying to send <code>GET</code> requests to requires a few headers , and data as well:</p>\n\n<pre><code>curl -H \"Accept:application/json\" -H \"Content-Type:application/json\" -H \"alpha:192.168.10.20\" -d '{\"mutate\":\"*\"}' http://my-endpoint.com/api/get-items\n</code></pre>\n\n<p>But if I try to use this in one of my router endpoints in Vert.x, I get an error:</p>\n\n<pre><code>WebClient webClient = WebClient.create(vertx);\n    webClient.get(\"http://my-endpoint.com/api/get-items\")\n        .putHeader(\"Accept\", \"application/json\")\n        .putHeader(\"Content-Type\", \"application/json\")\n        .putHeader(\"alpha\", \"192.168.10.20\")\n        .sendJsonObject(new JsonObject().put(\"mutate\", \"*\"), ar -&gt; { \n            if (ar.succeeded()) {\n                System.out.println(\"##### WEBCLIENT #####\");\n                System.out.println(ar);\n            } else {\n                System.out.println(\"CAUSE: \" + ar.cause().getMessage());\n\n            }\n    });\n</code></pre>\n\n<p>The error message I get from the else statement is:</p>\n\n<pre><code>CAUSE: Connection refused: localhost/127.0.0.1:80\n</code></pre>\n\n<p>What am I doing wrong? I've been using this for reference: <a href=\"https://vertx.io/docs/vertx-web-client/java/\" rel=\"nofollow noreferrer\">Vert.x Web Client</a></p>\n\n<p>===========================================</p>\n\n<p><b>SOLUTION</b></p>\n\n<p>===========================================</p>\n\n<p>I had to change</p>\n\n<pre><code>webClient.get(\"http://my-endpoint.com/api/get-items\")\n</code></pre>\n\n<p>to</p>\n\n<pre><code>webClient.post(80, \"my-endpoint.com\", \"/api/get-items\")\n</code></pre>\n\n<p>Also had to add <code>.as(BodyCodec.jsonArray())</code> underneath the above line because the result I was getting was a Json Array.</p>\n"},{"tags":["java","random","uuid","guid"],"comments":[{"owner":{"account_id":1700,"reputation":24591,"user_id":2291,"accept_rate":88,"display_name":"Jon Adams"},"score":3,"creation_date":1350575290,"post_id":2982748,"comment_id":17568338,"body_markdown":"The question at http://stackoverflow.com/questions/325443/generate-uuid-in-java is more about GUID collisions, then just how what the equivalent of a GUID is in the Java tech stack, which is what (I think) is more the focus of this question.","body":"The question at <a href=\"http://stackoverflow.com/questions/325443/generate-uuid-in-java\">stackoverflow.com/questions/325443/generate-uuid-in-java</a> is more about GUID collisions, then just how what the equivalent of a GUID is in the Java tech stack, which is what (I think) is more the focus of this question."}],"answers":[{"tags":[],"owner":{"account_id":24377,"reputation":818003,"user_id":61974,"display_name":"Mark Byers"},"down_vote_count":1,"up_vote_count":392,"is_accepted":true,"score":391,"last_activity_date":1437081070,"creation_date":1275786885,"answer_id":2982750,"question_id":2982748,"body_markdown":"Have a look at the [UUID class][1] bundled with Java 5 and later. \r\n\r\nFor example:\r\n\r\n* If you want a random UUID you can use the [randomUUID][2] method.\r\n* If you want a UUID initialized to a specific value you can use the [UUID constructor][3] or the [fromString][4] method.\r\n\r\n[1]: http://docs.oracle.com/javase/8/docs/api/java/util/UUID.html\r\n[2]: http://docs.oracle.com/javase/8/docs/api/java/util/UUID.html#randomUUID()\r\n[3]: http://docs.oracle.com/javase/8/docs/api/java/util/UUID.html#UUID(long,%20long)\r\n[4]: http://docs.oracle.com/javase/8/docs/api/java/util/UUID.html#fromString(java.lang.String)","title":"Create a GUID / UUID in Java","body":"<p>Have a look at the <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/UUID.html\" rel=\"noreferrer\">UUID class</a> bundled with Java 5 and later. </p>\n\n<p>For example:</p>\n\n<ul>\n<li>If you want a random UUID you can use the <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/UUID.html#randomUUID()\" rel=\"noreferrer\">randomUUID</a> method.</li>\n<li>If you want a UUID initialized to a specific value you can use the <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/UUID.html#UUID(long,%20long)\" rel=\"noreferrer\">UUID constructor</a> or the <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/UUID.html#fromString(java.lang.String)\" rel=\"noreferrer\">fromString</a> method.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":59951,"reputation":51423,"user_id":179233,"accept_rate":100,"display_name":"Kaleb Brasee"},"down_vote_count":2,"up_vote_count":501,"is_accepted":false,"score":499,"last_activity_date":1275786963,"creation_date":1275786963,"answer_id":2982751,"question_id":2982748,"body_markdown":"`java.util.UUID.randomUUID();`","title":"Create a GUID / UUID in Java","body":"<p><code>java.util.UUID.randomUUID();</code></p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":33,"is_accepted":false,"score":33,"last_activity_date":1505343360,"creation_date":1275794897,"answer_id":2983008,"question_id":2982748,"body_markdown":"It depends what kind of [UUID][1] you want.\r\n\r\n - The standard Java [`UUID`][2] class generates [Version 4][3] (random) UUIDs.  (**UPDATE** - [Version 3][4] (name) UUIDs can also be generated.) It can also handle other variants, though it cannot generate them.  (In this case, &quot;handle&quot; means construct `UUID` instances from [`long`][5], [`byte[]`][4] or [`String`][6] representations, and provide some appropriate accessors.)\r\n\r\n - The [Java UUID Generator (JUG)][7] implementation purports to support &quot;all 3 &#39;official&#39; types of UUID as defined by [RFC-4122][8]&quot; ... though the RFC actually defines 4 types and mentions a 5th type.\r\n\r\nFor more information on UUID types and variants, there is a good summary in [Wikipedia][9], and the gory details are in [RFC 4122][10] and the other specifications.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Universally_unique_identifier\r\n  [2]: http://docs.oracle.com/javase/8/docs/api/java/util/UUID.html\r\n  [3]: https://en.wikipedia.org/wiki/Universally_unique_identifier#Version_4_.28random.29\r\n  [4]: https://docs.oracle.com/javase/8/docs/api/java/util/UUID.html#nameUUIDFromBytes-byte:A-\r\n  [5]: https://docs.oracle.com/javase/8/docs/api/java/util/UUID.html#UUID-long-long-\r\n  [6]: https://docs.oracle.com/javase/8/docs/api/java/util/UUID.html#fromString-java.lang.String-\r\n  [7]: http://wiki.fasterxml.com/JugHome\r\n  [8]: https://www.rfc-editor.org/rfc/rfc4122\r\n  [9]: http://en.wikipedia.org/wiki/Uuid\r\n  [10]: https://www.rfc-editor.org/rfc/rfc4122","title":"Create a GUID / UUID in Java","body":"<p>It depends what kind of <a href=\"https://en.wikipedia.org/wiki/Universally_unique_identifier\" rel=\"nofollow noreferrer\">UUID</a> you want.</p>\n<ul>\n<li><p>The standard Java <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/UUID.html\" rel=\"nofollow noreferrer\"><code>UUID</code></a> class generates <a href=\"https://en.wikipedia.org/wiki/Universally_unique_identifier#Version_4_.28random.29\" rel=\"nofollow noreferrer\">Version 4</a> (random) UUIDs.  (<strong>UPDATE</strong> - <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/UUID.html#nameUUIDFromBytes-byte:A-\" rel=\"nofollow noreferrer\">Version 3</a> (name) UUIDs can also be generated.) It can also handle other variants, though it cannot generate them.  (In this case, &quot;handle&quot; means construct <code>UUID</code> instances from <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/UUID.html#UUID-long-long-\" rel=\"nofollow noreferrer\"><code>long</code></a>, <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/UUID.html#nameUUIDFromBytes-byte:A-\" rel=\"nofollow noreferrer\"><code>byte[]</code></a> or <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/UUID.html#fromString-java.lang.String-\" rel=\"nofollow noreferrer\"><code>String</code></a> representations, and provide some appropriate accessors.)</p>\n</li>\n<li><p>The <a href=\"http://wiki.fasterxml.com/JugHome\" rel=\"nofollow noreferrer\">Java UUID Generator (JUG)</a> implementation purports to support &quot;all 3 'official' types of UUID as defined by <a href=\"https://www.rfc-editor.org/rfc/rfc4122\" rel=\"nofollow noreferrer\">RFC-4122</a>&quot; ... though the RFC actually defines 4 types and mentions a 5th type.</p>\n</li>\n</ul>\n<p>For more information on UUID types and variants, there is a good summary in <a href=\"http://en.wikipedia.org/wiki/Uuid\" rel=\"nofollow noreferrer\">Wikipedia</a>, and the gory details are in <a href=\"https://www.rfc-editor.org/rfc/rfc4122\" rel=\"nofollow noreferrer\">RFC 4122</a> and the other specifications.</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":4,"up_vote_count":12,"is_accepted":false,"score":8,"last_activity_date":1470431679,"creation_date":1437082703,"answer_id":31464974,"question_id":2982748,"body_markdown":"The other Answers are correct, especially [this one](https://stackoverflow.com/a/2983008/642706) by [Stephen C](https://stackoverflow.com/users/139985/stephen-c).\r\n\r\n# Reaching Outside Java\r\n\r\n[Generating a UUID][1] value within Java is limited to [Version 4 (random)][2] because of security concerns. \r\n\r\nIf you want other versions of UUIDs, one avenue is to have your Java app reach outside the [JVM][3] to generate UUIDs by calling on:\r\n\r\n - **Command-line utility**&lt;br /&gt;Bundled with nearly every operating system.&lt;br /&gt; For example, [`uuidgen`][4] found in Mac OS X, BSD, and Linux.\r\n - **Database server**&lt;br /&gt;Use [JDBC][5] to retrieve a UUID generated on the database server.&lt;br /&gt;For example, the [`uuid-ossp`][6] extension often bundled with [Postgres][7]. That extension can generates Versions 1, 3, and 4 values and additionally a couple variations:\r\n  - `uuid_generate_v1mc()` –&#160;generates a version 1 UUID but uses a random multicast MAC address instead of the real MAC address of the computer.\r\n  - `uuid_generate_v5(namespace uuid, name text)` –&#160;generates a version 5 UUID, which works like a version 3 UUID except that SHA-1 is used as a hashing method.\r\n - **Web Service**&lt;br /&gt;For example, [UUID Generator](https://www.uuidgenerator.net/api) creates Versions 1 &amp; 3 as well as [nil values][8] and [GUID][9].\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/util/UUID.html#randomUUID--\r\n  [2]: https://en.wikipedia.org/wiki/Universally_unique_identifier#Version_4_.28random.29\r\n  [3]: https://www.google.com/url?sa=t&amp;rct=j&amp;q=&amp;esrc=s&amp;source=web&amp;cd=2&amp;cad=rja&amp;uact=8&amp;ved=0CCIQFjABahUKEwj1jKa_zuDGAhXEEpIKHYwoAQw&amp;url=https%3A%2F%2Fen.wikipedia.org%2Fwiki%2FJava_virtual_machine&amp;ei=kCSoVfWEDcSlyASM0YRg&amp;usg=AFQjCNE6RcWP8IuAXecy2dIl9NayBO_iBg&amp;sig2=0JkiHdYJ1SDk7s65x8N-vA&amp;bvm=bv.97949915,d.aWw\r\n  [4]: http://www.freebsd.org/cgi/man.cgi?query=uuidgen&amp;sektion=1\r\n  [5]: https://en.wikipedia.org/wiki/Java_Database_Connectivity\r\n  [6]: http://www.postgresql.org/docs/current/static/uuid-ossp.html\r\n  [7]: http://www.postgresql.org/\r\n  [8]: https://www.rfc-editor.org/rfc/rfc4122#section-4.1.7\r\n  [9]: https://en.wikipedia.org/wiki/Globally_unique_identifier","title":"Create a GUID / UUID in Java","body":"<p>The other Answers are correct, especially <a href=\"https://stackoverflow.com/a/2983008/642706\">this one</a> by <a href=\"https://stackoverflow.com/users/139985/stephen-c\">Stephen C</a>.</p>\n<h1>Reaching Outside Java</h1>\n<p><a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/UUID.html#randomUUID--\" rel=\"nofollow noreferrer\">Generating a UUID</a> value within Java is limited to <a href=\"https://en.wikipedia.org/wiki/Universally_unique_identifier#Version_4_.28random.29\" rel=\"nofollow noreferrer\">Version 4 (random)</a> because of security concerns.</p>\n<p>If you want other versions of UUIDs, one avenue is to have your Java app reach outside the <a href=\"https://www.google.com/url?sa=t&amp;rct=j&amp;q=&amp;esrc=s&amp;source=web&amp;cd=2&amp;cad=rja&amp;uact=8&amp;ved=0CCIQFjABahUKEwj1jKa_zuDGAhXEEpIKHYwoAQw&amp;url=https%3A%2F%2Fen.wikipedia.org%2Fwiki%2FJava_virtual_machine&amp;ei=kCSoVfWEDcSlyASM0YRg&amp;usg=AFQjCNE6RcWP8IuAXecy2dIl9NayBO_iBg&amp;sig2=0JkiHdYJ1SDk7s65x8N-vA&amp;bvm=bv.97949915,d.aWw\" rel=\"nofollow noreferrer\">JVM</a> to generate UUIDs by calling on:</p>\n<ul>\n<li><strong>Command-line utility</strong><br />Bundled with nearly every operating system.<br /> For example, <a href=\"http://www.freebsd.org/cgi/man.cgi?query=uuidgen&amp;sektion=1\" rel=\"nofollow noreferrer\"><code>uuidgen</code></a> found in Mac OS X, BSD, and Linux.</li>\n<li><strong>Database server</strong><br />Use <a href=\"https://en.wikipedia.org/wiki/Java_Database_Connectivity\" rel=\"nofollow noreferrer\">JDBC</a> to retrieve a UUID generated on the database server.<br />For example, the <a href=\"http://www.postgresql.org/docs/current/static/uuid-ossp.html\" rel=\"nofollow noreferrer\"><code>uuid-ossp</code></a> extension often bundled with <a href=\"http://www.postgresql.org/\" rel=\"nofollow noreferrer\">Postgres</a>. That extension can generates Versions 1, 3, and 4 values and additionally a couple variations:</li>\n<li><code>uuid_generate_v1mc()</code> – generates a version 1 UUID but uses a random multicast MAC address instead of the real MAC address of the computer.</li>\n<li><code>uuid_generate_v5(namespace uuid, name text)</code> – generates a version 5 UUID, which works like a version 3 UUID except that SHA-1 is used as a hashing method.</li>\n<li><strong>Web Service</strong><br />For example, <a href=\"https://www.uuidgenerator.net/api\" rel=\"nofollow noreferrer\">UUID Generator</a> creates Versions 1 &amp; 3 as well as <a href=\"https://www.rfc-editor.org/rfc/rfc4122#section-4.1.7\" rel=\"nofollow noreferrer\">nil values</a> and <a href=\"https://en.wikipedia.org/wiki/Globally_unique_identifier\" rel=\"nofollow noreferrer\">GUID</a>.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1598303,"reputation":12302,"user_id":1479895,"accept_rate":78,"display_name":"Anton Belev"},"down_vote_count":3,"up_vote_count":42,"is_accepted":false,"score":39,"last_activity_date":1563453778,"creation_date":1476092257,"answer_id":39955377,"question_id":2982748,"body_markdown":"Just to extend Mark Byers&#39;s answer with an example:\r\n\r\n    import java.util.UUID;\r\n    \r\n    public class RandomStringUUID {\r\n        public static void main(String[] args) {\r\n            UUID uuid = UUID.randomUUID();\r\n            System.out.println(&quot;UUID=&quot; + uuid.toString() );\r\n        }\r\n    }","title":"Create a GUID / UUID in Java","body":"<p>Just to extend Mark Byers's answer with an example:</p>\n\n<pre><code>import java.util.UUID;\n\npublic class RandomStringUUID {\n    public static void main(String[] args) {\n        UUID uuid = UUID.randomUUID();\n        System.out.println(\"UUID=\" + uuid.toString() );\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1053260,"reputation":1032,"user_id":1056610,"display_name":"fabiolimace"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1595679322,"creation_date":1595678368,"answer_id":63088064,"question_id":2982748,"body_markdown":"\r\nThis answer contains 2 generators for random-based and name-based UUIDs, compliant with RFC-4122. Feel free to use and share.\r\n\r\n**RANDOM-BASED (v4)**\r\n\r\nThis utility class that generates random-based UUIDs:\r\n\r\n```java\r\npackage your.package.name;\r\n\r\nimport java.security.SecureRandom;\r\nimport java.util.Random;\r\nimport java.util.UUID;\r\n\r\n/**\r\n * Utility class that creates random-based UUIDs.\r\n * \r\n */\r\npublic abstract class RandomUuidCreator {\r\n\r\n\tprivate static final int RANDOM_VERSION = 4;\r\n\r\n\t/**\r\n\t * Returns a random-based UUID.\r\n\t * \r\n\t * It uses a thread local {@link SecureRandom}.\r\n\t * \r\n\t * @return a random-based UUID\r\n\t */\r\n\tpublic static UUID getRandomUuid() {\r\n\t\treturn getRandomUuid(SecureRandomLazyHolder.THREAD_LOCAL_RANDOM.get());\r\n\t}\r\n\r\n\t/**\r\n\t * Returns a random-based UUID.\r\n\t * \r\n\t * It uses any instance of {@link Random}.\r\n\t * \r\n\t * @return a random-based UUID\r\n\t */\r\n\tpublic static UUID getRandomUuid(Random random) {\r\n\r\n\t\tlong msb = 0;\r\n\t\tlong lsb = 0;\r\n\r\n\t\t// (3) set all bit randomly\r\n\t\tif (random instanceof SecureRandom) {\r\n\t\t\t// Faster for instances of SecureRandom\r\n\t\t\tfinal byte[] bytes = new byte[16];\r\n\t\t\trandom.nextBytes(bytes);\r\n\t\t\tmsb = toNumber(bytes, 0, 8); // first 8 bytes for MSB\r\n\t\t\tlsb = toNumber(bytes, 8, 16); // last 8 bytes for LSB\r\n\t\t} else {\r\n\t\t\tmsb = random.nextLong(); // first 8 bytes for MSB\r\n\t\t\tlsb = random.nextLong(); // last 8 bytes for LSB\r\n\t\t}\r\n\r\n\t\t// Apply version and variant bits (required for RFC-4122 compliance)\r\n\t\tmsb = (msb &amp; 0xffffffffffff0fffL) | (RANDOM_VERSION &amp; 0x0f) &lt;&lt; 12; // apply version bits\r\n\t\tlsb = (lsb &amp; 0x3fffffffffffffffL) | 0x8000000000000000L; // apply variant bits\r\n\r\n\t\t// Return the UUID\r\n\t\treturn new UUID(msb, lsb);\r\n\t}\r\n\r\n\tprivate static long toNumber(final byte[] bytes, final int start, final int length) {\r\n\t\tlong result = 0;\r\n\t\tfor (int i = start; i &lt; length; i++) {\r\n\t\t\tresult = (result &lt;&lt; 8) | (bytes[i] &amp; 0xff);\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n\r\n\t// Holds thread local secure random\r\n\tprivate static class SecureRandomLazyHolder {\r\n\t\tstatic final ThreadLocal&lt;Random&gt; THREAD_LOCAL_RANDOM = ThreadLocal.withInitial(SecureRandom::new);\r\n\t}\r\n\r\n\t/**\r\n\t * For tests!\r\n\t */\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\tSystem.out.println(&quot;// Using thread local `java.security.SecureRandom` (DEFAULT)&quot;);\r\n\t\tSystem.out.println(&quot;RandomUuidCreator.getRandomUuid()&quot;);\r\n\t\tSystem.out.println();\r\n\t\tfor (int i = 0; i &lt; 5; i++) {\r\n\t\t\tSystem.out.println(RandomUuidCreator.getRandomUuid());\r\n\t\t}\r\n\r\n\t\tSystem.out.println();\r\n\t\tSystem.out.println(&quot;// Using `java.util.Random` (FASTER)&quot;);\r\n\t\tSystem.out.println(&quot;RandomUuidCreator.getRandomUuid(new Random())&quot;);\r\n\t\tSystem.out.println();\r\n\t\tRandom random = new Random();\r\n\t\tfor (int i = 0; i &lt; 5; i++) {\r\n\t\t\tSystem.out.println(RandomUuidCreator.getRandomUuid(random));\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\nThis is the output:\r\n\r\n```text\r\n// Using thread local `java.security.SecureRandom` (DEFAULT)\r\nRandomUuidCreator.getRandomUuid()\r\n\r\n&#39;ef4f5ad2-8147-46cb-8389-c2b8c3ef6b10&#39;\r\n&#39;adc0305a-df29-4f08-9d73-800fde2048f0&#39;\r\n&#39;4b794b59-bff8-4013-b656-5d34c33f4ce3&#39;\r\n&#39;22517093-ee24-4120-96a5-ecee943992d1&#39;\r\n&#39;899fb1fb-3e3d-4026-85a8-8a2d274a10cb&#39;\r\n\r\n// Using `java.util.Random` (FASTER)\r\nRandomUuidCreator.getRandomUuid(new Random())\r\n\r\n&#39;4dabbbc2-fcb2-4074-a91c-5e2977a5bbf8&#39;\r\n&#39;078ec231-88bc-4d74-9774-96c0b820ceda&#39;\r\n&#39;726638fa-69a6-4a18-b09f-5fd2a708059b&#39;\r\n&#39;15616ebe-1dfd-4f5c-b2ed-cea0ac1ad823&#39;\r\n&#39;affa31ad-5e55-4cde-8232-cddd4931923a&#39;\r\n```\r\n\r\n**NAME-BASED (v3 and v5)**\r\n\r\nThis utility class that generates name-based UUIDs (MD5 and SHA1):\r\n\r\n```java\r\npackage your.package.name;\r\n\r\nimport java.nio.charset.StandardCharsets;\r\nimport java.security.MessageDigest;\r\nimport java.security.NoSuchAlgorithmException;\r\nimport java.util.UUID;\r\n\r\n/**\r\n * Utility class that creates UUIDv3 (MD5) and UUIDv5 (SHA1).\r\n *\r\n */\r\npublic class HashUuidCreator {\r\n\r\n\t// Domain Name System\r\n\tpublic static final UUID NAMESPACE_DNS = new UUID(0x6ba7b8109dad11d1L, 0x80b400c04fd430c8L);\r\n\t// Uniform Resource Locator\r\n\tpublic static final UUID NAMESPACE_URL = new UUID(0x6ba7b8119dad11d1L, 0x80b400c04fd430c8L);\r\n\t// ISO Object ID\r\n\tpublic static final UUID NAMESPACE_ISO_OID = new UUID(0x6ba7b8129dad11d1L, 0x80b400c04fd430c8L);\r\n\t// X.500 Distinguished Name\r\n\tpublic static final UUID NAMESPACE_X500_DN = new UUID(0x6ba7b8149dad11d1L, 0x80b400c04fd430c8L);\r\n\r\n\tprivate static final int VERSION_3 = 3; // UUIDv3 MD5\r\n\tprivate static final int VERSION_5 = 5; // UUIDv5 SHA1\r\n\r\n\tprivate static final String MESSAGE_DIGEST_MD5 = &quot;MD5&quot;; // UUIDv3\r\n\tprivate static final String MESSAGE_DIGEST_SHA1 = &quot;SHA-1&quot;; // UUIDv5\r\n\r\n\tprivate static UUID getHashUuid(UUID namespace, String name, String algorithm, int version) {\r\n\r\n\t\tfinal byte[] hash;\r\n\t\tfinal MessageDigest hasher;\r\n\r\n\t\ttry {\r\n\t\t\t// Instantiate a message digest for the chosen algorithm\r\n\t\t\thasher = MessageDigest.getInstance(algorithm);\r\n\r\n\t\t\t// Insert name space if NOT NULL\r\n\t\t\tif (namespace != null) {\r\n\t\t\t\thasher.update(toBytes(namespace.getMostSignificantBits()));\r\n\t\t\t\thasher.update(toBytes(namespace.getLeastSignificantBits()));\r\n\t\t\t}\r\n\r\n\t\t\t// Generate the hash\r\n\t\t\thash = hasher.digest(name.getBytes(StandardCharsets.UTF_8));\r\n\r\n\t\t\t// Split the hash into two parts: MSB and LSB\r\n\t\t\tlong msb = toNumber(hash, 0, 8); // first 8 bytes for MSB\r\n\t\t\tlong lsb = toNumber(hash, 8, 16); // last 8 bytes for LSB\r\n\r\n\t\t\t// Apply version and variant bits (required for RFC-4122 compliance)\r\n\t\t\tmsb = (msb &amp; 0xffffffffffff0fffL) | (version &amp; 0x0f) &lt;&lt; 12; // apply version bits\r\n\t\t\tlsb = (lsb &amp; 0x3fffffffffffffffL) | 0x8000000000000000L; // apply variant bits\r\n\r\n\t\t\t// Return the UUID\r\n\t\t\treturn new UUID(msb, lsb);\r\n\r\n\t\t} catch (NoSuchAlgorithmException e) {\r\n\t\t\tthrow new RuntimeException(&quot;Message digest algorithm not supported.&quot;);\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static UUID getMd5Uuid(String string) {\r\n\t\treturn getHashUuid(null, string, MESSAGE_DIGEST_MD5, VERSION_3);\r\n\t}\r\n\r\n\tpublic static UUID getSha1Uuid(String string) {\r\n\t\treturn getHashUuid(null, string, MESSAGE_DIGEST_SHA1, VERSION_5);\r\n\t}\r\n\r\n\tpublic static UUID getMd5Uuid(UUID namespace, String string) {\r\n\t\treturn getHashUuid(namespace, string, MESSAGE_DIGEST_MD5, VERSION_3);\r\n\t}\r\n\r\n\tpublic static UUID getSha1Uuid(UUID namespace, String string) {\r\n\t\treturn getHashUuid(namespace, string, MESSAGE_DIGEST_SHA1, VERSION_5);\r\n\t}\r\n\r\n\tprivate static byte[] toBytes(final long number) {\r\n\t\treturn new byte[] { (byte) (number &gt;&gt;&gt; 56), (byte) (number &gt;&gt;&gt; 48), (byte) (number &gt;&gt;&gt; 40),\r\n\t\t\t\t(byte) (number &gt;&gt;&gt; 32), (byte) (number &gt;&gt;&gt; 24), (byte) (number &gt;&gt;&gt; 16), (byte) (number &gt;&gt;&gt; 8),\r\n\t\t\t\t(byte) (number) };\r\n\t}\r\n\r\n\tprivate static long toNumber(final byte[] bytes, final int start, final int length) {\r\n\t\tlong result = 0;\r\n\t\tfor (int i = start; i &lt; length; i++) {\r\n\t\t\tresult = (result &lt;&lt; 8) | (bytes[i] &amp; 0xff);\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n\r\n\t/**\r\n\t * For tests!\r\n\t */\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\tString string = &quot;JUST_A_TEST_STRING&quot;;\r\n\t\tUUID namespace = UUID.randomUUID(); // A custom name space\r\n\r\n\t\tSystem.out.println(&quot;Java&#39;s generator&quot;);\r\n\t\tSystem.out.println(&quot;UUID.nameUUIDFromBytes():      &#39;&quot; + UUID.nameUUIDFromBytes(string.getBytes()) + &quot;&#39;&quot;);\r\n\t\tSystem.out.println();\r\n\t\tSystem.out.println(&quot;This generator&quot;);\r\n\t\tSystem.out.println(&quot;HashUuidCreator.getMd5Uuid():  &#39;&quot; + HashUuidCreator.getMd5Uuid(string) + &quot;&#39;&quot;);\r\n\t\tSystem.out.println(&quot;HashUuidCreator.getSha1Uuid(): &#39;&quot; + HashUuidCreator.getSha1Uuid(string) + &quot;&#39;&quot;);\r\n\t\tSystem.out.println();\r\n\t\tSystem.out.println(&quot;This generator WITH name space&quot;);\r\n\t\tSystem.out.println(&quot;HashUuidCreator.getMd5Uuid():  &#39;&quot; + HashUuidCreator.getMd5Uuid(namespace, string) + &quot;&#39;&quot;);\r\n\t\tSystem.out.println(&quot;HashUuidCreator.getSha1Uuid(): &#39;&quot; + HashUuidCreator.getSha1Uuid(namespace, string) + &quot;&#39;&quot;);\r\n\t}\r\n}\r\n\r\n```\r\nThis is the output:\r\n\r\n```text\r\n// Java&#39;s generator\r\nUUID.nameUUIDFromBytes():      &#39;9e120341-627f-32be-8393-58b5d655b751&#39;\r\n\r\n// This generator\r\nHashUuidCreator.getMd5Uuid():  &#39;9e120341-627f-32be-8393-58b5d655b751&#39;\r\nHashUuidCreator.getSha1Uuid(): &#39;e4586bed-032a-5ae6-9883-331cd94c4ffa&#39;\r\n\r\n// This generator WITH name space\r\nHashUuidCreator.getMd5Uuid():  &#39;2b098683-03c9-3ed8-9426-cf5c81ab1f9f&#39;\r\nHashUuidCreator.getSha1Uuid(): &#39;1ef568c7-726b-58cc-a72a-7df173463bbb&#39;\r\n```\r\n\r\n**ALTERNATE GENERATOR**\r\n\r\nYou can also use the `uuid-creator` library. See these examples:\r\n\r\n```java\r\n// Create a random-based UUID\r\nUUID uuid = UuidCreator.getRandomBased();\r\n```\r\n\r\n```java\r\n// Create a name based UUID (SHA1)\r\nString name = &quot;JUST_A_TEST_STRING&quot;;\r\nUUID uuid = UuidCreator.getNameBasedSha1(name);\r\n```\r\n\r\nProject page: https://github.com/f4b6a3/uuid-creator\r\n","title":"Create a GUID / UUID in Java","body":"<p>This answer contains 2 generators for random-based and name-based UUIDs, compliant with RFC-4122. Feel free to use and share.</p>\n<p><strong>RANDOM-BASED (v4)</strong></p>\n<p>This utility class that generates random-based UUIDs:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package your.package.name;\n\nimport java.security.SecureRandom;\nimport java.util.Random;\nimport java.util.UUID;\n\n/**\n * Utility class that creates random-based UUIDs.\n * \n */\npublic abstract class RandomUuidCreator {\n\n    private static final int RANDOM_VERSION = 4;\n\n    /**\n     * Returns a random-based UUID.\n     * \n     * It uses a thread local {@link SecureRandom}.\n     * \n     * @return a random-based UUID\n     */\n    public static UUID getRandomUuid() {\n        return getRandomUuid(SecureRandomLazyHolder.THREAD_LOCAL_RANDOM.get());\n    }\n\n    /**\n     * Returns a random-based UUID.\n     * \n     * It uses any instance of {@link Random}.\n     * \n     * @return a random-based UUID\n     */\n    public static UUID getRandomUuid(Random random) {\n\n        long msb = 0;\n        long lsb = 0;\n\n        // (3) set all bit randomly\n        if (random instanceof SecureRandom) {\n            // Faster for instances of SecureRandom\n            final byte[] bytes = new byte[16];\n            random.nextBytes(bytes);\n            msb = toNumber(bytes, 0, 8); // first 8 bytes for MSB\n            lsb = toNumber(bytes, 8, 16); // last 8 bytes for LSB\n        } else {\n            msb = random.nextLong(); // first 8 bytes for MSB\n            lsb = random.nextLong(); // last 8 bytes for LSB\n        }\n\n        // Apply version and variant bits (required for RFC-4122 compliance)\n        msb = (msb &amp; 0xffffffffffff0fffL) | (RANDOM_VERSION &amp; 0x0f) &lt;&lt; 12; // apply version bits\n        lsb = (lsb &amp; 0x3fffffffffffffffL) | 0x8000000000000000L; // apply variant bits\n\n        // Return the UUID\n        return new UUID(msb, lsb);\n    }\n\n    private static long toNumber(final byte[] bytes, final int start, final int length) {\n        long result = 0;\n        for (int i = start; i &lt; length; i++) {\n            result = (result &lt;&lt; 8) | (bytes[i] &amp; 0xff);\n        }\n        return result;\n    }\n\n    // Holds thread local secure random\n    private static class SecureRandomLazyHolder {\n        static final ThreadLocal&lt;Random&gt; THREAD_LOCAL_RANDOM = ThreadLocal.withInitial(SecureRandom::new);\n    }\n\n    /**\n     * For tests!\n     */\n    public static void main(String[] args) {\n\n        System.out.println(&quot;// Using thread local `java.security.SecureRandom` (DEFAULT)&quot;);\n        System.out.println(&quot;RandomUuidCreator.getRandomUuid()&quot;);\n        System.out.println();\n        for (int i = 0; i &lt; 5; i++) {\n            System.out.println(RandomUuidCreator.getRandomUuid());\n        }\n\n        System.out.println();\n        System.out.println(&quot;// Using `java.util.Random` (FASTER)&quot;);\n        System.out.println(&quot;RandomUuidCreator.getRandomUuid(new Random())&quot;);\n        System.out.println();\n        Random random = new Random();\n        for (int i = 0; i &lt; 5; i++) {\n            System.out.println(RandomUuidCreator.getRandomUuid(random));\n        }\n    }\n}\n</code></pre>\n<p>This is the output:</p>\n<pre><code>// Using thread local `java.security.SecureRandom` (DEFAULT)\nRandomUuidCreator.getRandomUuid()\n\n'ef4f5ad2-8147-46cb-8389-c2b8c3ef6b10'\n'adc0305a-df29-4f08-9d73-800fde2048f0'\n'4b794b59-bff8-4013-b656-5d34c33f4ce3'\n'22517093-ee24-4120-96a5-ecee943992d1'\n'899fb1fb-3e3d-4026-85a8-8a2d274a10cb'\n\n// Using `java.util.Random` (FASTER)\nRandomUuidCreator.getRandomUuid(new Random())\n\n'4dabbbc2-fcb2-4074-a91c-5e2977a5bbf8'\n'078ec231-88bc-4d74-9774-96c0b820ceda'\n'726638fa-69a6-4a18-b09f-5fd2a708059b'\n'15616ebe-1dfd-4f5c-b2ed-cea0ac1ad823'\n'affa31ad-5e55-4cde-8232-cddd4931923a'\n</code></pre>\n<p><strong>NAME-BASED (v3 and v5)</strong></p>\n<p>This utility class that generates name-based UUIDs (MD5 and SHA1):</p>\n<pre class=\"lang-java prettyprint-override\"><code>package your.package.name;\n\nimport java.nio.charset.StandardCharsets;\nimport java.security.MessageDigest;\nimport java.security.NoSuchAlgorithmException;\nimport java.util.UUID;\n\n/**\n * Utility class that creates UUIDv3 (MD5) and UUIDv5 (SHA1).\n *\n */\npublic class HashUuidCreator {\n\n    // Domain Name System\n    public static final UUID NAMESPACE_DNS = new UUID(0x6ba7b8109dad11d1L, 0x80b400c04fd430c8L);\n    // Uniform Resource Locator\n    public static final UUID NAMESPACE_URL = new UUID(0x6ba7b8119dad11d1L, 0x80b400c04fd430c8L);\n    // ISO Object ID\n    public static final UUID NAMESPACE_ISO_OID = new UUID(0x6ba7b8129dad11d1L, 0x80b400c04fd430c8L);\n    // X.500 Distinguished Name\n    public static final UUID NAMESPACE_X500_DN = new UUID(0x6ba7b8149dad11d1L, 0x80b400c04fd430c8L);\n\n    private static final int VERSION_3 = 3; // UUIDv3 MD5\n    private static final int VERSION_5 = 5; // UUIDv5 SHA1\n\n    private static final String MESSAGE_DIGEST_MD5 = &quot;MD5&quot;; // UUIDv3\n    private static final String MESSAGE_DIGEST_SHA1 = &quot;SHA-1&quot;; // UUIDv5\n\n    private static UUID getHashUuid(UUID namespace, String name, String algorithm, int version) {\n\n        final byte[] hash;\n        final MessageDigest hasher;\n\n        try {\n            // Instantiate a message digest for the chosen algorithm\n            hasher = MessageDigest.getInstance(algorithm);\n\n            // Insert name space if NOT NULL\n            if (namespace != null) {\n                hasher.update(toBytes(namespace.getMostSignificantBits()));\n                hasher.update(toBytes(namespace.getLeastSignificantBits()));\n            }\n\n            // Generate the hash\n            hash = hasher.digest(name.getBytes(StandardCharsets.UTF_8));\n\n            // Split the hash into two parts: MSB and LSB\n            long msb = toNumber(hash, 0, 8); // first 8 bytes for MSB\n            long lsb = toNumber(hash, 8, 16); // last 8 bytes for LSB\n\n            // Apply version and variant bits (required for RFC-4122 compliance)\n            msb = (msb &amp; 0xffffffffffff0fffL) | (version &amp; 0x0f) &lt;&lt; 12; // apply version bits\n            lsb = (lsb &amp; 0x3fffffffffffffffL) | 0x8000000000000000L; // apply variant bits\n\n            // Return the UUID\n            return new UUID(msb, lsb);\n\n        } catch (NoSuchAlgorithmException e) {\n            throw new RuntimeException(&quot;Message digest algorithm not supported.&quot;);\n        }\n    }\n\n    public static UUID getMd5Uuid(String string) {\n        return getHashUuid(null, string, MESSAGE_DIGEST_MD5, VERSION_3);\n    }\n\n    public static UUID getSha1Uuid(String string) {\n        return getHashUuid(null, string, MESSAGE_DIGEST_SHA1, VERSION_5);\n    }\n\n    public static UUID getMd5Uuid(UUID namespace, String string) {\n        return getHashUuid(namespace, string, MESSAGE_DIGEST_MD5, VERSION_3);\n    }\n\n    public static UUID getSha1Uuid(UUID namespace, String string) {\n        return getHashUuid(namespace, string, MESSAGE_DIGEST_SHA1, VERSION_5);\n    }\n\n    private static byte[] toBytes(final long number) {\n        return new byte[] { (byte) (number &gt;&gt;&gt; 56), (byte) (number &gt;&gt;&gt; 48), (byte) (number &gt;&gt;&gt; 40),\n                (byte) (number &gt;&gt;&gt; 32), (byte) (number &gt;&gt;&gt; 24), (byte) (number &gt;&gt;&gt; 16), (byte) (number &gt;&gt;&gt; 8),\n                (byte) (number) };\n    }\n\n    private static long toNumber(final byte[] bytes, final int start, final int length) {\n        long result = 0;\n        for (int i = start; i &lt; length; i++) {\n            result = (result &lt;&lt; 8) | (bytes[i] &amp; 0xff);\n        }\n        return result;\n    }\n\n    /**\n     * For tests!\n     */\n    public static void main(String[] args) {\n\n        String string = &quot;JUST_A_TEST_STRING&quot;;\n        UUID namespace = UUID.randomUUID(); // A custom name space\n\n        System.out.println(&quot;Java's generator&quot;);\n        System.out.println(&quot;UUID.nameUUIDFromBytes():      '&quot; + UUID.nameUUIDFromBytes(string.getBytes()) + &quot;'&quot;);\n        System.out.println();\n        System.out.println(&quot;This generator&quot;);\n        System.out.println(&quot;HashUuidCreator.getMd5Uuid():  '&quot; + HashUuidCreator.getMd5Uuid(string) + &quot;'&quot;);\n        System.out.println(&quot;HashUuidCreator.getSha1Uuid(): '&quot; + HashUuidCreator.getSha1Uuid(string) + &quot;'&quot;);\n        System.out.println();\n        System.out.println(&quot;This generator WITH name space&quot;);\n        System.out.println(&quot;HashUuidCreator.getMd5Uuid():  '&quot; + HashUuidCreator.getMd5Uuid(namespace, string) + &quot;'&quot;);\n        System.out.println(&quot;HashUuidCreator.getSha1Uuid(): '&quot; + HashUuidCreator.getSha1Uuid(namespace, string) + &quot;'&quot;);\n    }\n}\n\n</code></pre>\n<p>This is the output:</p>\n<pre><code>// Java's generator\nUUID.nameUUIDFromBytes():      '9e120341-627f-32be-8393-58b5d655b751'\n\n// This generator\nHashUuidCreator.getMd5Uuid():  '9e120341-627f-32be-8393-58b5d655b751'\nHashUuidCreator.getSha1Uuid(): 'e4586bed-032a-5ae6-9883-331cd94c4ffa'\n\n// This generator WITH name space\nHashUuidCreator.getMd5Uuid():  '2b098683-03c9-3ed8-9426-cf5c81ab1f9f'\nHashUuidCreator.getSha1Uuid(): '1ef568c7-726b-58cc-a72a-7df173463bbb'\n</code></pre>\n<p><strong>ALTERNATE GENERATOR</strong></p>\n<p>You can also use the <code>uuid-creator</code> library. See these examples:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Create a random-based UUID\nUUID uuid = UuidCreator.getRandomBased();\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>// Create a name based UUID (SHA1)\nString name = &quot;JUST_A_TEST_STRING&quot;;\nUUID uuid = UuidCreator.getNameBasedSha1(name);\n</code></pre>\n<p>Project page: <a href=\"https://github.com/f4b6a3/uuid-creator\" rel=\"noreferrer\">https://github.com/f4b6a3/uuid-creator</a></p>\n"},{"tags":[],"owner":{"account_id":11825858,"reputation":1015,"user_id":8653765,"display_name":"M. Dudek"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1640333128,"creation_date":1640333128,"answer_id":70470795,"question_id":2982748,"body_markdown":"For many cases, we need global UUID for objects and especially in Event-Driven Architecture or Event Sourcing we have to sort events based on the date, but we don&#39;t need full information about timestamps.\r\n\r\nThere we can use one of the implementations of [ULID](https://github.com/ulid/spec) which is **lexicographically sortable**.\r\n\r\nThe format is different from standard UUID, but is still simple:\r\n\r\n```\r\nexample value: 01AN4Z07BY79KA1307SR9X4MV3\r\n\r\n 01AN4Z07BY      79KA1307SR9X4MV3\r\n\r\n|----------|    |----------------|\r\n Timestamp          Randomness\r\n   48bits             80bits\r\n```\r\n\r\nThere are implementations in [many languages](https://github.com/ulid/spec#implementations-in-other-languages).\r\n\r\nFor example in Java, there is simple [lib](https://github.com/huxi/sulky/tree/master/sulky-ulid) for that.\r\n\r\nCode example:\r\n\r\n```java\r\nimport de.huxhorn.sulky.ulid.ULID;\r\n\r\nULID ulid = new ULID();\r\n\r\n// with current timestamp\r\nString newId = ulid.nextULID(); \r\n\r\n// with selected timestamp\r\nString newId2 = ulid.nextULID(Instant\r\n    .parse(&quot;2021-12-01T00:00:00.00Z&quot;)\r\n    .toEpochMilli()\r\n); \r\n```\r\n\r\nWith Spring you can create Bean for ULID generator as well.\r\n\r\n```java\r\n@Configuration\r\npublic class UUIDGeneratorConfig {\r\n\r\n    @Bean\r\n    public ULID ulidGenerator() {\r\n        return new ULID();\r\n    }\r\n}\r\n```\r\n\r\n```java\r\n@Component\r\npublic class ULIDGenerator {\r\n\r\n    private final ULID ulid;\r\n\r\n    public ULIDGenerator(ULID ulid) {\r\n        this.ulid = ulid;\r\n    }\r\n\r\n    public String generateUUID() {\r\n        return ulid.nextULID();\r\n    }\r\n\r\n    public String generateUUID(Instant timestamp) {\r\n        return ulid.nextULID(timestamp.toEpochMilli());\r\n    }\r\n}\r\n\r\n```","title":"Create a GUID / UUID in Java","body":"<p>For many cases, we need global UUID for objects and especially in Event-Driven Architecture or Event Sourcing we have to sort events based on the date, but we don't need full information about timestamps.</p>\n<p>There we can use one of the implementations of <a href=\"https://github.com/ulid/spec\" rel=\"nofollow noreferrer\">ULID</a> which is <strong>lexicographically sortable</strong>.</p>\n<p>The format is different from standard UUID, but is still simple:</p>\n<pre><code>example value: 01AN4Z07BY79KA1307SR9X4MV3\n\n 01AN4Z07BY      79KA1307SR9X4MV3\n\n|----------|    |----------------|\n Timestamp          Randomness\n   48bits             80bits\n</code></pre>\n<p>There are implementations in <a href=\"https://github.com/ulid/spec#implementations-in-other-languages\" rel=\"nofollow noreferrer\">many languages</a>.</p>\n<p>For example in Java, there is simple <a href=\"https://github.com/huxi/sulky/tree/master/sulky-ulid\" rel=\"nofollow noreferrer\">lib</a> for that.</p>\n<p>Code example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import de.huxhorn.sulky.ulid.ULID;\n\nULID ulid = new ULID();\n\n// with current timestamp\nString newId = ulid.nextULID(); \n\n// with selected timestamp\nString newId2 = ulid.nextULID(Instant\n    .parse(&quot;2021-12-01T00:00:00.00Z&quot;)\n    .toEpochMilli()\n); \n</code></pre>\n<p>With Spring you can create Bean for ULID generator as well.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class UUIDGeneratorConfig {\n\n    @Bean\n    public ULID ulidGenerator() {\n        return new ULID();\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class ULIDGenerator {\n\n    private final ULID ulid;\n\n    public ULIDGenerator(ULID ulid) {\n        this.ulid = ulid;\n    }\n\n    public String generateUUID() {\n        return ulid.nextULID();\n    }\n\n    public String generateUUID(Instant timestamp) {\n        return ulid.nextULID(timestamp.toEpochMilli());\n    }\n}\n\n</code></pre>\n"}],"owner":{"account_id":30782,"reputation":48992,"user_id":84131,"accept_rate":92,"display_name":"Chris Dutrow"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":457232,"favorite_count":0,"down_vote_count":2,"up_vote_count":447,"accepted_answer_id":2982750,"answer_count":7,"score":445,"last_activity_date":1678308611,"creation_date":1275786747,"question_id":2982748,"body_markdown":"What are some of the best ways to create a GUID / UUID in Java?","title":"Create a GUID / UUID in Java","body":"<p>What are some of the best ways to create a GUID / UUID in Java?</p>\n"},{"tags":["java","swing","user-interface","awt"],"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1390188550,"post_id":21225760,"comment_id":31969937,"body_markdown":"1) Always copy/paste error &amp; exception output. 2) For better help sooner, post an [MCVE](http://stackoverflow.com/help/mcve).","body":"1) Always copy/paste error &amp; exception output. 2) For better help sooner, post an <a href=\"http://stackoverflow.com/help/mcve\">MCVE</a>."},{"owner":{"account_id":3881205,"reputation":11,"user_id":3213648,"display_name":"user3213648"},"score":0,"creation_date":1390188650,"post_id":21225760,"comment_id":31969961,"body_markdown":"Sorry I just updated the puush for it :S","body":"Sorry I just updated the puush for it :S"},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1390194591,"post_id":21225760,"comment_id":31971314,"body_markdown":"An MCVE should have just one source file where possible (but it can contain multiple classes, only 1 **`public`** class).  Further, an MCVE should not require anything that will not be available for others.  Do you really think I have a `TwistedStallions.ttf` font here?  Try testing the code you think is an MCVE on another computer before posting it.","body":"An MCVE should have just one source file where possible (but it can contain multiple classes, only 1 <b><code>public</code></b> class).  Further, an MCVE should not require anything that will not be available for others.  Do you really think I have a <code>TwistedStallions.ttf</code> font here?  Try testing the code you think is an MCVE on another computer before posting it."}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1678308578,"creation_date":1390190907,"answer_id":21226098,"question_id":21225760,"body_markdown":"There are any number of ways you might achieve this, for example, you could use some kind of delegation model.\r\n\r\nThat is, rather then trying to mange each element in a single method (or methods), you could devise a delegate which provide a simple interface method that the paint method would call and it would know how to do the rest.\r\n\r\nFor example, Swing uses this type of concept with it&#39;s cell renderers for `JList`, `JTable` and `JTree`.\r\n\r\nFor example...\r\n\r\n![Menu][1]\r\n\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.EventQueue;\r\n    import java.awt.FontMetrics;\r\n    import java.awt.Graphics;\r\n    import java.awt.Graphics2D;\r\n    import java.awt.Rectangle;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.KeyEvent;\r\n    import java.awt.event.MouseAdapter;\r\n    import java.awt.event.MouseEvent;\r\n    import java.util.ArrayList;\r\n    import java.util.HashMap;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n    import javax.swing.AbstractAction;\r\n    import javax.swing.ActionMap;\r\n    import javax.swing.InputMap;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.KeyStroke;\r\n    import javax.swing.UIManager;\r\n    import javax.swing.UnsupportedLookAndFeelException;\r\n\r\n    public class MyAwesomeMenu {\r\n\r\n        public static void main(String[] args) {\r\n            new MyAwesomeMenu();\r\n        }\r\n\r\n        public MyAwesomeMenu() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    try {\r\n                        UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\r\n                    } catch (ClassNotFoundException | InstantiationException | IllegalAccessException | UnsupportedLookAndFeelException ex) {\r\n                        ex.printStackTrace();\r\n                    }\r\n\r\n                    JFrame frame = new JFrame(&quot;Testing&quot;);\r\n                    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n                    frame.add(new TestPane());\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        public class TestPane extends JPanel {\r\n\r\n            private List&lt;String&gt; menuItems;\r\n            private String selectMenuItem;\r\n            private String focusedItem;\r\n\r\n            private MenuItemPainter painter;\r\n            private Map&lt;String, Rectangle&gt; menuBounds;\r\n\r\n            public TestPane() {\r\n                setBackground(Color.BLACK);\r\n                painter = new SimpleMenuItemPainter();\r\n                menuItems = new ArrayList&lt;&gt;(25);\r\n                menuItems.add(&quot;Start Game&quot;);\r\n                menuItems.add(&quot;Options&quot;);\r\n                menuItems.add(&quot;Exit&quot;);\r\n                selectMenuItem = menuItems.get(0);\r\n\r\n                MouseAdapter ma = new MouseAdapter() {\r\n\r\n                    @Override\r\n                    public void mouseClicked(MouseEvent e) {\r\n                        String newItem = null;\r\n                        for (String text : menuItems) {\r\n                            Rectangle bounds = menuBounds.get(text);\r\n                            if (bounds.contains(e.getPoint())) {\r\n                                newItem = text;\r\n                                break;\r\n                            }\r\n                        }\r\n                        if (newItem != null &amp;&amp; !newItem.equals(selectMenuItem)) {\r\n                            selectMenuItem = newItem;\r\n                            repaint();\r\n                        }\r\n                    }\r\n\r\n                    @Override\r\n                    public void mouseMoved(MouseEvent e) {\r\n                        focusedItem = null;\r\n                        for (String text : menuItems) {\r\n                            Rectangle bounds = menuBounds.get(text);\r\n                            if (bounds.contains(e.getPoint())) {\r\n                                focusedItem = text;\r\n                                repaint();\r\n                                break;\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                };\r\n\r\n                addMouseListener(ma);\r\n                addMouseMotionListener(ma);\r\n            \r\n                InputMap im = getInputMap(WHEN_IN_FOCUSED_WINDOW);\r\n                ActionMap am = getActionMap();\r\n            \r\n                im.put(KeyStroke.getKeyStroke(KeyEvent.VK_DOWN, 0), &quot;arrowDown&quot;);\r\n                im.put(KeyStroke.getKeyStroke(KeyEvent.VK_UP, 0), &quot;arrowUp&quot;);\r\n            \r\n                am.put(&quot;arrowDown&quot;, new MenuAction(1));\r\n                am.put(&quot;arrowUp&quot;, new MenuAction(-1));\r\n\r\n            }\r\n\r\n            @Override\r\n            public void invalidate() {\r\n                menuBounds = null;\r\n                super.invalidate();\r\n            }\r\n\r\n            @Override\r\n            public Dimension getPreferredSize() {\r\n                return new Dimension(200, 200);\r\n            }\r\n\r\n            @Override\r\n            protected void paintComponent(Graphics g) {\r\n                super.paintComponent(g);\r\n                Graphics2D g2d = (Graphics2D) g.create();\r\n                if (menuBounds == null) {\r\n                    menuBounds = new HashMap&lt;&gt;(menuItems.size());\r\n                    int width = 0;\r\n                    int height = 0;\r\n                    for (String text : menuItems) {\r\n                        Dimension dim = painter.getPreferredSize(g2d, text);\r\n                        width = Math.max(width, dim.width);\r\n                        height = Math.max(height, dim.height);\r\n                    }\r\n\r\n                    int x = (getWidth() - (width + 10)) / 2;\r\n\r\n                    int totalHeight = (height + 10) * menuItems.size();\r\n                    totalHeight += 5 * (menuItems.size() - 1);\r\n\r\n                    int y = (getHeight() - totalHeight) / 2;\r\n\r\n                    for (String text : menuItems) {\r\n                        menuBounds.put(text, new Rectangle(x, y, width + 10, height + 10));\r\n                        y += height + 10 + 5;\r\n                    }\r\n\r\n                }\r\n                for (String text : menuItems) {\r\n                    Rectangle bounds = menuBounds.get(text);\r\n                    boolean isSelected = text.equals(selectMenuItem);\r\n                    boolean isFocused = text.equals(focusedItem);\r\n                    painter.paint(g2d, text, bounds, isSelected, isFocused);\r\n                }\r\n                g2d.dispose();\r\n            }\r\n        \r\n            public class MenuAction extends AbstractAction {\r\n\r\n                private final int delta;\r\n            \r\n                public MenuAction(int delta) {\r\n                    this.delta = delta;\r\n                }\r\n\r\n                @Override\r\n                public void actionPerformed(ActionEvent e) {\r\n                    int index = menuItems.indexOf(selectMenuItem);\r\n                    if (index &lt; 0) {\r\n                        selectMenuItem = menuItems.get(0);\r\n                    }\r\n                    index += delta;\r\n                    if (index &lt; 0) {\r\n                        selectMenuItem = menuItems.get(menuItems.size() - 1);\r\n                    } else if (index &gt;= menuItems.size()) {\r\n                        selectMenuItem = menuItems.get(0);\r\n                    } else {\r\n                        selectMenuItem = menuItems.get(index);\r\n                    }\r\n                    repaint();\r\n                }\r\n            \r\n            }\r\n\r\n        }\r\n\r\n        public interface MenuItemPainter {\r\n\r\n            public void paint(Graphics2D g2d, String text, Rectangle bounds, boolean isSelected, boolean isFocused);\r\n\r\n            public Dimension getPreferredSize(Graphics2D g2d, String text);\r\n\r\n        }\r\n\r\n        public class SimpleMenuItemPainter implements MenuItemPainter {\r\n\r\n            public Dimension getPreferredSize(Graphics2D g2d, String text) {\r\n                return g2d.getFontMetrics().getStringBounds(text, g2d).getBounds().getSize();\r\n            }\r\n\r\n            @Override\r\n            public void paint(Graphics2D g2d, String text, Rectangle bounds, boolean isSelected, boolean isFocused) {\r\n                FontMetrics fm = g2d.getFontMetrics();\r\n                if (isSelected) {\r\n                    paintBackground(g2d, bounds, Color.BLUE, Color.WHITE);\r\n                } else if (isFocused) {\r\n                    paintBackground(g2d, bounds, Color.MAGENTA, Color.BLACK);\r\n                } else {\r\n                    paintBackground(g2d, bounds, Color.DARK_GRAY, Color.LIGHT_GRAY);\r\n                }\r\n                int x = bounds.x + ((bounds.width - fm.stringWidth(text)) / 2);\r\n                int y = bounds.y + ((bounds.height - fm.getHeight()) / 2) + fm.getAscent();\r\n                g2d.setColor(isSelected ? Color.WHITE : Color.LIGHT_GRAY);\r\n                g2d.drawString(text, x, y);\r\n            }\r\n\r\n            protected void paintBackground(Graphics2D g2d, Rectangle bounds, Color background, Color foreground) {\r\n                g2d.setColor(background);\r\n                g2d.fill(bounds);\r\n                g2d.setColor(foreground);\r\n                g2d.draw(bounds);\r\n            }\r\n\r\n        }\r\n\r\n    }\r\n\r\nFrom here, you could add `ActionListener`\r\n\r\n  [1]: http://i.stack.imgur.com/HDlDx.gif","title":"How do I implement Java swing GUI start screen for a game with drawString and drawImage?","body":"<p>There are any number of ways you might achieve this, for example, you could use some kind of delegation model.</p>\n<p>That is, rather then trying to mange each element in a single method (or methods), you could devise a delegate which provide a simple interface method that the paint method would call and it would know how to do the rest.</p>\n<p>For example, Swing uses this type of concept with it's cell renderers for <code>JList</code>, <code>JTable</code> and <code>JTree</code>.</p>\n<p>For example...</p>\n<p><img src=\"https://i.stack.imgur.com/HDlDx.gif\" alt=\"Menu\" /></p>\n<pre><code>import java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.FontMetrics;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.Rectangle;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.KeyEvent;\nimport java.awt.event.MouseAdapter;\nimport java.awt.event.MouseEvent;\nimport java.util.ArrayList;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\nimport javax.swing.AbstractAction;\nimport javax.swing.ActionMap;\nimport javax.swing.InputMap;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.KeyStroke;\nimport javax.swing.UIManager;\nimport javax.swing.UnsupportedLookAndFeelException;\n\npublic class MyAwesomeMenu {\n\n    public static void main(String[] args) {\n        new MyAwesomeMenu();\n    }\n\n    public MyAwesomeMenu() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                try {\n                    UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\n                } catch (ClassNotFoundException | InstantiationException | IllegalAccessException | UnsupportedLookAndFeelException ex) {\n                    ex.printStackTrace();\n                }\n\n                JFrame frame = new JFrame(&quot;Testing&quot;);\n                frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n                frame.add(new TestPane());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class TestPane extends JPanel {\n\n        private List&lt;String&gt; menuItems;\n        private String selectMenuItem;\n        private String focusedItem;\n\n        private MenuItemPainter painter;\n        private Map&lt;String, Rectangle&gt; menuBounds;\n\n        public TestPane() {\n            setBackground(Color.BLACK);\n            painter = new SimpleMenuItemPainter();\n            menuItems = new ArrayList&lt;&gt;(25);\n            menuItems.add(&quot;Start Game&quot;);\n            menuItems.add(&quot;Options&quot;);\n            menuItems.add(&quot;Exit&quot;);\n            selectMenuItem = menuItems.get(0);\n\n            MouseAdapter ma = new MouseAdapter() {\n\n                @Override\n                public void mouseClicked(MouseEvent e) {\n                    String newItem = null;\n                    for (String text : menuItems) {\n                        Rectangle bounds = menuBounds.get(text);\n                        if (bounds.contains(e.getPoint())) {\n                            newItem = text;\n                            break;\n                        }\n                    }\n                    if (newItem != null &amp;&amp; !newItem.equals(selectMenuItem)) {\n                        selectMenuItem = newItem;\n                        repaint();\n                    }\n                }\n\n                @Override\n                public void mouseMoved(MouseEvent e) {\n                    focusedItem = null;\n                    for (String text : menuItems) {\n                        Rectangle bounds = menuBounds.get(text);\n                        if (bounds.contains(e.getPoint())) {\n                            focusedItem = text;\n                            repaint();\n                            break;\n                        }\n                    }\n                }\n\n            };\n\n            addMouseListener(ma);\n            addMouseMotionListener(ma);\n        \n            InputMap im = getInputMap(WHEN_IN_FOCUSED_WINDOW);\n            ActionMap am = getActionMap();\n        \n            im.put(KeyStroke.getKeyStroke(KeyEvent.VK_DOWN, 0), &quot;arrowDown&quot;);\n            im.put(KeyStroke.getKeyStroke(KeyEvent.VK_UP, 0), &quot;arrowUp&quot;);\n        \n            am.put(&quot;arrowDown&quot;, new MenuAction(1));\n            am.put(&quot;arrowUp&quot;, new MenuAction(-1));\n\n        }\n\n        @Override\n        public void invalidate() {\n            menuBounds = null;\n            super.invalidate();\n        }\n\n        @Override\n        public Dimension getPreferredSize() {\n            return new Dimension(200, 200);\n        }\n\n        @Override\n        protected void paintComponent(Graphics g) {\n            super.paintComponent(g);\n            Graphics2D g2d = (Graphics2D) g.create();\n            if (menuBounds == null) {\n                menuBounds = new HashMap&lt;&gt;(menuItems.size());\n                int width = 0;\n                int height = 0;\n                for (String text : menuItems) {\n                    Dimension dim = painter.getPreferredSize(g2d, text);\n                    width = Math.max(width, dim.width);\n                    height = Math.max(height, dim.height);\n                }\n\n                int x = (getWidth() - (width + 10)) / 2;\n\n                int totalHeight = (height + 10) * menuItems.size();\n                totalHeight += 5 * (menuItems.size() - 1);\n\n                int y = (getHeight() - totalHeight) / 2;\n\n                for (String text : menuItems) {\n                    menuBounds.put(text, new Rectangle(x, y, width + 10, height + 10));\n                    y += height + 10 + 5;\n                }\n\n            }\n            for (String text : menuItems) {\n                Rectangle bounds = menuBounds.get(text);\n                boolean isSelected = text.equals(selectMenuItem);\n                boolean isFocused = text.equals(focusedItem);\n                painter.paint(g2d, text, bounds, isSelected, isFocused);\n            }\n            g2d.dispose();\n        }\n    \n        public class MenuAction extends AbstractAction {\n\n            private final int delta;\n        \n            public MenuAction(int delta) {\n                this.delta = delta;\n            }\n\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                int index = menuItems.indexOf(selectMenuItem);\n                if (index &lt; 0) {\n                    selectMenuItem = menuItems.get(0);\n                }\n                index += delta;\n                if (index &lt; 0) {\n                    selectMenuItem = menuItems.get(menuItems.size() - 1);\n                } else if (index &gt;= menuItems.size()) {\n                    selectMenuItem = menuItems.get(0);\n                } else {\n                    selectMenuItem = menuItems.get(index);\n                }\n                repaint();\n            }\n        \n        }\n\n    }\n\n    public interface MenuItemPainter {\n\n        public void paint(Graphics2D g2d, String text, Rectangle bounds, boolean isSelected, boolean isFocused);\n\n        public Dimension getPreferredSize(Graphics2D g2d, String text);\n\n    }\n\n    public class SimpleMenuItemPainter implements MenuItemPainter {\n\n        public Dimension getPreferredSize(Graphics2D g2d, String text) {\n            return g2d.getFontMetrics().getStringBounds(text, g2d).getBounds().getSize();\n        }\n\n        @Override\n        public void paint(Graphics2D g2d, String text, Rectangle bounds, boolean isSelected, boolean isFocused) {\n            FontMetrics fm = g2d.getFontMetrics();\n            if (isSelected) {\n                paintBackground(g2d, bounds, Color.BLUE, Color.WHITE);\n            } else if (isFocused) {\n                paintBackground(g2d, bounds, Color.MAGENTA, Color.BLACK);\n            } else {\n                paintBackground(g2d, bounds, Color.DARK_GRAY, Color.LIGHT_GRAY);\n            }\n            int x = bounds.x + ((bounds.width - fm.stringWidth(text)) / 2);\n            int y = bounds.y + ((bounds.height - fm.getHeight()) / 2) + fm.getAscent();\n            g2d.setColor(isSelected ? Color.WHITE : Color.LIGHT_GRAY);\n            g2d.drawString(text, x, y);\n        }\n\n        protected void paintBackground(Graphics2D g2d, Rectangle bounds, Color background, Color foreground) {\n            g2d.setColor(background);\n            g2d.fill(bounds);\n            g2d.setColor(foreground);\n            g2d.draw(bounds);\n        }\n\n    }\n\n}\n</code></pre>\n<p>From here, you could add <code>ActionListener</code></p>\n"},{"tags":[],"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1390273579,"creation_date":1390273579,"answer_id":21248363,"question_id":21225760,"body_markdown":"When a GUI needs a button, use a `JButton`!  The [`JButton` API](http://docs.oracle.com/javase/7/docs/api/javax/swing/JButton.html) allows the possibility to add icons for many different circumstances.  This example shows different icons for the standard icon, the hover icon, and the pressed icon.  Your GUI would obviously use icons with text on them for the required effect.\n\nThe icons are pulled directly (hot-linked) from https://stackoverflow.com/q/19209650/418556.\n\n## Standard\n\n![enter image description here][1]\n\n## Hover over triangle\n\n![enter image description here][2]\n\n## Press triangle\n\n![enter image description here][3]\n\n## Code\n\n\n    import java.awt.*;\n    import java.awt.image.BufferedImage;\n    import javax.imageio.ImageIO;\n    import javax.swing.*;\n    import javax.swing.border.EmptyBorder;\n    import java.net.URL;\n    \n    public class IconHoverFocusIndication {\n    \n        // the GUI as seen by the user (without frame)\n        // swap the 1 and 0 for single column\n        JPanel gui = new JPanel(new GridLayout(1,0,50,50));\n        public static final int GREEN = 0, YELLOW = 1, RED = 2;\n        String[][] urls = {\n            {\n                &quot;https://i.stack.imgur.com/T5uTa.png&quot;,\n                &quot;https://i.stack.imgur.com/IHARa.png&quot;,\n                &quot;https://i.stack.imgur.com/wCF8S.png&quot;\n            },\n            {\n                &quot;https://i.stack.imgur.com/gYxHm.png&quot;,\n                &quot;https://i.stack.imgur.com/8BGfi.png&quot;,\n                &quot;https://i.stack.imgur.com/5v2TX.png&quot;\n            },\n            {\n                &quot;https://i.stack.imgur.com/1lgtq.png&quot;,\n                &quot;https://i.stack.imgur.com/6ZXhi.png&quot;,\n                &quot;https://i.stack.imgur.com/F0JHK.png&quot;\n            }\n        };\n    \n        IconHoverFocusIndication() throws Exception {\n            // adjust to requirement..\n            gui.setBorder(new EmptyBorder(15, 30, 15, 30));\n            gui.setBackground(Color.BLACK);\n            Insets zeroMargin = new Insets(0,0,0,0);\n            for (int ii = 0; ii &lt; 3; ii++) {\n                JButton b = new JButton();\n                b.setBorderPainted(false);\n                b.setMargin(zeroMargin);\n                b.setContentAreaFilled(false);\n                gui.add(b);\n    \n                URL url1 = new URL(urls[ii][GREEN]);\n                BufferedImage bi1 = ImageIO.read(url1);\n                b.setIcon(new ImageIcon(bi1));\n    \n                URL url2 = new URL(urls[ii][YELLOW]);\n                BufferedImage bi2 = ImageIO.read(url2);\n                b.setRolloverIcon(new ImageIcon(bi2));\n    \n                URL url3 = new URL(urls[ii][RED]);\n                BufferedImage bi3 = ImageIO.read(url3);\n                b.setPressedIcon(new ImageIcon(bi3));\n            }\n        }\n    \n        public JComponent getGUI() {\n            return gui;\n        }\n    \n        public static void main(String[] args) {\n            Runnable r = new Runnable() {\n    \n                @Override\n                public void run() {\n                    try {\n                        IconHoverFocusIndication ihfi =\n                                new IconHoverFocusIndication();\n                        JFrame f = new JFrame(&quot;Button Icons&quot;);\n                        f.add(ihfi.getGUI());\n                        // Ensures JVM closes after frame(s) closed and\n                        // all non-daemon threads are finished\n                        f.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);\n                        // See https://stackoverflow.com/a/7143398/418556 for demo.\n                        f.setLocationByPlatform(true);\n    \n                        // ensures the frame is the minimum size it needs to be\n                        // in order display the components within it\n                        f.pack();\n                        // should be done last, to avoid flickering, moving,\n                        // resizing artifacts.\n                        f.setVisible(true);\n                    } catch (Exception ex) {\n                        ex.printStackTrace();\n                    }\n                }\n            };\n            // Swing GUIs should be created and updated on the EDT\n            // http://docs.oracle.com/javase/tutorial/uiswing/concurrency\n            SwingUtilities.invokeLater(r);\n        }\n    }\n\n  [1]: https://i.stack.imgur.com/710hE.png\n  [2]: https://i.stack.imgur.com/Rrprb.png\n  [3]: https://i.stack.imgur.com/fLgRm.png","title":"How do I implement Java swing GUI start screen for a game with drawString and drawImage?","body":"<p>When a GUI needs a button, use a <code>JButton</code>!  The <a href=\"http://docs.oracle.com/javase/7/docs/api/javax/swing/JButton.html\" rel=\"nofollow noreferrer\"><code>JButton</code> API</a> allows the possibility to add icons for many different circumstances.  This example shows different icons for the standard icon, the hover icon, and the pressed icon.  Your GUI would obviously use icons with text on them for the required effect.</p>\n<p>The icons are pulled directly (hot-linked) from <a href=\"https://stackoverflow.com/q/19209650/418556\">Example images for code and mark-up Q&amp;As</a>.</p>\n<h2>Standard</h2>\n<p><img src=\"https://i.stack.imgur.com/710hE.png\" alt=\"enter image description here\" /></p>\n<h2>Hover over triangle</h2>\n<p><img src=\"https://i.stack.imgur.com/Rrprb.png\" alt=\"enter image description here\" /></p>\n<h2>Press triangle</h2>\n<p><img src=\"https://i.stack.imgur.com/fLgRm.png\" alt=\"enter image description here\" /></p>\n<h2>Code</h2>\n<pre><code>import java.awt.*;\nimport java.awt.image.BufferedImage;\nimport javax.imageio.ImageIO;\nimport javax.swing.*;\nimport javax.swing.border.EmptyBorder;\nimport java.net.URL;\n\npublic class IconHoverFocusIndication {\n\n    // the GUI as seen by the user (without frame)\n    // swap the 1 and 0 for single column\n    JPanel gui = new JPanel(new GridLayout(1,0,50,50));\n    public static final int GREEN = 0, YELLOW = 1, RED = 2;\n    String[][] urls = {\n        {\n            &quot;https://i.stack.imgur.com/T5uTa.png&quot;,\n            &quot;https://i.stack.imgur.com/IHARa.png&quot;,\n            &quot;https://i.stack.imgur.com/wCF8S.png&quot;\n        },\n        {\n            &quot;https://i.stack.imgur.com/gYxHm.png&quot;,\n            &quot;https://i.stack.imgur.com/8BGfi.png&quot;,\n            &quot;https://i.stack.imgur.com/5v2TX.png&quot;\n        },\n        {\n            &quot;https://i.stack.imgur.com/1lgtq.png&quot;,\n            &quot;https://i.stack.imgur.com/6ZXhi.png&quot;,\n            &quot;https://i.stack.imgur.com/F0JHK.png&quot;\n        }\n    };\n\n    IconHoverFocusIndication() throws Exception {\n        // adjust to requirement..\n        gui.setBorder(new EmptyBorder(15, 30, 15, 30));\n        gui.setBackground(Color.BLACK);\n        Insets zeroMargin = new Insets(0,0,0,0);\n        for (int ii = 0; ii &lt; 3; ii++) {\n            JButton b = new JButton();\n            b.setBorderPainted(false);\n            b.setMargin(zeroMargin);\n            b.setContentAreaFilled(false);\n            gui.add(b);\n\n            URL url1 = new URL(urls[ii][GREEN]);\n            BufferedImage bi1 = ImageIO.read(url1);\n            b.setIcon(new ImageIcon(bi1));\n\n            URL url2 = new URL(urls[ii][YELLOW]);\n            BufferedImage bi2 = ImageIO.read(url2);\n            b.setRolloverIcon(new ImageIcon(bi2));\n\n            URL url3 = new URL(urls[ii][RED]);\n            BufferedImage bi3 = ImageIO.read(url3);\n            b.setPressedIcon(new ImageIcon(bi3));\n        }\n    }\n\n    public JComponent getGUI() {\n        return gui;\n    }\n\n    public static void main(String[] args) {\n        Runnable r = new Runnable() {\n\n            @Override\n            public void run() {\n                try {\n                    IconHoverFocusIndication ihfi =\n                            new IconHoverFocusIndication();\n                    JFrame f = new JFrame(&quot;Button Icons&quot;);\n                    f.add(ihfi.getGUI());\n                    // Ensures JVM closes after frame(s) closed and\n                    // all non-daemon threads are finished\n                    f.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);\n                    // See https://stackoverflow.com/a/7143398/418556 for demo.\n                    f.setLocationByPlatform(true);\n\n                    // ensures the frame is the minimum size it needs to be\n                    // in order display the components within it\n                    f.pack();\n                    // should be done last, to avoid flickering, moving,\n                    // resizing artifacts.\n                    f.setVisible(true);\n                } catch (Exception ex) {\n                    ex.printStackTrace();\n                }\n            }\n        };\n        // Swing GUIs should be created and updated on the EDT\n        // http://docs.oracle.com/javase/tutorial/uiswing/concurrency\n        SwingUtilities.invokeLater(r);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3881205,"reputation":11,"user_id":3213648,"display_name":"user3213648"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7138,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1678308578,"creation_date":1390188400,"question_id":21225760,"body_markdown":"I&#39;m not sure how I would fix the errors in my program and how I would highlight the option the user is hovering on. I want it to highlight the code for each position, i.e position 1 would be highlighted(as a different color) to start game,etc. and up/down would change position and I would change the position with up ,down, left, right. This is what I have so far. At the moment its bugged and when compiled with my window it comes out as:\r\n\r\n\r\n![enter image description here][1]\r\n\r\nWhich works for the main game and altered for this titleboard, what am I doing wrong and how do I fix it?\r\n\r\n##TitleBoard class\r\n\r\n    import javax.swing.*;\r\n    import java.awt.*;\r\n    import java.awt.event.*;\r\n    import java.awt.geom.*;\r\n    import java.util.ArrayList;\r\n    \r\n    //sound + file opening\r\n    import java.io.*;\r\n    import javax.sound.sampled.*;\r\n    public class TitleBoard extends JPanel implements ActionListener{\r\n    \r\n        private ArrayList&lt;String&gt; OptionList;\r\n        private Image background;\r\n        private ImageIcon bgImageIcon;\r\n        private String cheatString;\r\n        private int position;\r\n        private Timer timer;\r\n        \r\n        public TitleBoard(){\r\n    \t\r\n    \tsetFocusable(true);\r\n    \taddKeyListener(new TAdapter());\r\n    \tbgImageIcon = new ImageIcon(&quot;&quot;);\r\n    \tbackground = bgImageIcon.getImage();\r\n    \tString[] options = {&quot;Start Game&quot;,&quot;Options&quot;,&quot;Quit&quot;};\r\n    \tOptionList = new ArrayList&lt;String&gt;();\r\n    \toptionSetup(options);\r\n    \tposition = 1;\r\n    \ttimer = new Timer(8, this);\r\n    \ttimer.start();\r\n    \t/*\r\n    \t  1 mod 3 =&gt;1 highlight on start\r\n    \t  2 mod 3 =&gt;2 highlight on options\r\n    \t  3 mod 3 =&gt;0 highlight on quit\r\n    \t*/\r\n    \r\n    \ttry{\r\n    \t    Font numFont = Font.createFont(Font.TRUETYPE_FONT,new File(&quot;TwistedStallions.ttf&quot;));\r\n    \t    GraphicsEnvironment ge = GraphicsEnvironment.getLocalGraphicsEnvironment();\r\n    \t    ge.registerFont(numFont);\r\n    \t    setFont(numFont.deriveFont(24f)); //adjusthislater\r\n    \t}catch(IOException|FontFormatException e){\r\n    \t    e.printStackTrace();\r\n    \t}\r\n    \t\r\n        }\r\n        private void optionSetup(String[] s){\r\n    \tfor(int i=0; i&lt;s.length;i++) {\r\n    \t    OptionList.add(s[i]);\r\n    \t}\r\n        }\r\n    \r\n    \r\n    \r\n        public void paint(Graphics g){\r\n    \tsuper.paint(g);\r\n    \tGraphics g2d = (Graphics2D)g;\r\n    \r\n    \tg2d.drawImage(background,0,0,this);\r\n    \tfor (int i=0;i&lt;OptionList.size();i++){\r\n    \t    g2d.drawString(OptionList.get(i),200,120+120*i);\r\n    \t}/*\r\n    \tg2d.drawString(OptionList.get(1),400,240);\r\n    \tg2d.drawString(OptionList.get(2),400,360);\r\n    \t//instructions on start screen maybe??\r\n    \t//800x500\r\n    \t//highlighting*/\r\n    \tToolkit.getDefaultToolkit().sync();\r\n    \tg.dispose();\r\n        }\r\n    \r\n        public void actionPerformed(ActionEvent e){\r\n    \trepaint();\r\n        }\r\n    \r\n    \r\n        \r\n        public class TAdapter extends KeyAdapter {\r\n    \tpublic void keyPressed(KeyEvent e){\r\n    \t    if(e.getKeyCode() == KeyEvent.VK_UP||\r\n    \t       e.getKeyCode() == KeyEvent.VK_RIGHT){\r\n    \t\tposition++;\r\n    \t    }\r\n    \t    if(e.getKeyCode() == KeyEvent.VK_DOWN||\r\n    \t       e.getKeyCode() == KeyEvent.VK_LEFT){\r\n    \t\tposition--;\r\n    \t    }\r\n    \t}\r\n        }\r\n    \r\n    }\r\n\r\n\r\n##Window Class\r\n\r\n    import javax.swing.*;\r\n    import java.awt.*;\r\n    import java.awt.event.*;\r\n    \r\n    public class Window extends JFrame{\r\n        public Window(){\r\n    \tint width = 800, height = 600;\r\n    \t//TO DO: make a panel in TITLE MODE\r\n    \t///////////////////////////////////\r\n    \t//panel in GAME MODE.\r\n    \tadd(new TitleBoard());\r\n    \t//set default close\r\n    \tsetDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \tsetSize(width,height);\r\n    \t//centers window\r\n    \tsetLocationRelativeTo(null);\r\n    \tsetTitle(&quot;Title&quot;);\r\n    \tsetResizable(false);\r\n    \tsetVisible(true);\t\r\n        }\r\n        public static void main(String[] args){\r\n    \tnew Window();\r\n        }\r\n    }\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/CryN5.png","title":"How do I implement Java swing GUI start screen for a game with drawString and drawImage?","body":"<p>I'm not sure how I would fix the errors in my program and how I would highlight the option the user is hovering on. I want it to highlight the code for each position, i.e position 1 would be highlighted(as a different color) to start game,etc. and up/down would change position and I would change the position with up ,down, left, right. This is what I have so far. At the moment its bugged and when compiled with my window it comes out as:</p>\n\n<p><img src=\"https://i.stack.imgur.com/CryN5.png\" alt=\"enter image description here\"></p>\n\n<p>Which works for the main game and altered for this titleboard, what am I doing wrong and how do I fix it?</p>\n\n<h2>TitleBoard class</h2>\n\n<pre><code>import javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.*;\nimport java.awt.geom.*;\nimport java.util.ArrayList;\n\n//sound + file opening\nimport java.io.*;\nimport javax.sound.sampled.*;\npublic class TitleBoard extends JPanel implements ActionListener{\n\n    private ArrayList&lt;String&gt; OptionList;\n    private Image background;\n    private ImageIcon bgImageIcon;\n    private String cheatString;\n    private int position;\n    private Timer timer;\n\n    public TitleBoard(){\n\n    setFocusable(true);\n    addKeyListener(new TAdapter());\n    bgImageIcon = new ImageIcon(\"\");\n    background = bgImageIcon.getImage();\n    String[] options = {\"Start Game\",\"Options\",\"Quit\"};\n    OptionList = new ArrayList&lt;String&gt;();\n    optionSetup(options);\n    position = 1;\n    timer = new Timer(8, this);\n    timer.start();\n    /*\n      1 mod 3 =&gt;1 highlight on start\n      2 mod 3 =&gt;2 highlight on options\n      3 mod 3 =&gt;0 highlight on quit\n    */\n\n    try{\n        Font numFont = Font.createFont(Font.TRUETYPE_FONT,new File(\"TwistedStallions.ttf\"));\n        GraphicsEnvironment ge = GraphicsEnvironment.getLocalGraphicsEnvironment();\n        ge.registerFont(numFont);\n        setFont(numFont.deriveFont(24f)); //adjusthislater\n    }catch(IOException|FontFormatException e){\n        e.printStackTrace();\n    }\n\n    }\n    private void optionSetup(String[] s){\n    for(int i=0; i&lt;s.length;i++) {\n        OptionList.add(s[i]);\n    }\n    }\n\n\n\n    public void paint(Graphics g){\n    super.paint(g);\n    Graphics g2d = (Graphics2D)g;\n\n    g2d.drawImage(background,0,0,this);\n    for (int i=0;i&lt;OptionList.size();i++){\n        g2d.drawString(OptionList.get(i),200,120+120*i);\n    }/*\n    g2d.drawString(OptionList.get(1),400,240);\n    g2d.drawString(OptionList.get(2),400,360);\n    //instructions on start screen maybe??\n    //800x500\n    //highlighting*/\n    Toolkit.getDefaultToolkit().sync();\n    g.dispose();\n    }\n\n    public void actionPerformed(ActionEvent e){\n    repaint();\n    }\n\n\n\n    public class TAdapter extends KeyAdapter {\n    public void keyPressed(KeyEvent e){\n        if(e.getKeyCode() == KeyEvent.VK_UP||\n           e.getKeyCode() == KeyEvent.VK_RIGHT){\n        position++;\n        }\n        if(e.getKeyCode() == KeyEvent.VK_DOWN||\n           e.getKeyCode() == KeyEvent.VK_LEFT){\n        position--;\n        }\n    }\n    }\n\n}\n</code></pre>\n\n<h2>Window Class</h2>\n\n<pre><code>import javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.*;\n\npublic class Window extends JFrame{\n    public Window(){\n    int width = 800, height = 600;\n    //TO DO: make a panel in TITLE MODE\n    ///////////////////////////////////\n    //panel in GAME MODE.\n    add(new TitleBoard());\n    //set default close\n    setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    setSize(width,height);\n    //centers window\n    setLocationRelativeTo(null);\n    setTitle(\"Title\");\n    setResizable(false);\n    setVisible(true);   \n    }\n    public static void main(String[] args){\n    new Window();\n    }\n}\n</code></pre>\n"},{"tags":["java","mariadb","amazon-rds","amazon-aurora"],"comments":[{"owner":{"account_id":6819504,"reputation":1121,"user_id":5247096,"display_name":"Hakob Hakobyan"},"score":0,"creation_date":1591271897,"post_id":62193853,"comment_id":109996082,"body_markdown":"is aws port open, so that you can connect? \nAFAIK you need to edit inbound rules to be able to connect from outside","body":"is aws port open, so that you can connect?  AFAIK you need to edit inbound rules to be able to connect from outside"},{"owner":{"account_id":934082,"reputation":771,"user_id":963355,"display_name":"Hadi Tok"},"score":0,"creation_date":1591272488,"post_id":62193853,"comment_id":109996427,"body_markdown":"I use ssh tunneling through the nat instance. The instances does not have direct external access. You can check sshuttle  to do that.","body":"I use ssh tunneling through the nat instance. The instances does not have direct external access. You can check sshuttle  to do that."}],"answers":[{"tags":[],"owner":{"account_id":4017499,"reputation":31,"user_id":3309040,"display_name":"user3309040"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1605046335,"creation_date":1605046335,"answer_id":64777532,"question_id":62193853,"body_markdown":"I ran into the same exception. Here is what worked for me.\r\nSo the issue here is with the protocol string, it needs to be changed from jdbc:mariadb:aurora to jdbc:mariadb and it works just fine. \r\nI got this idea by looking at the mysql driver connection protocol and gave it a try and it worked!\r\n\r\nGood luck!","title":"Receiving &quot;No active connections found for master&quot; while trying to connect Aurora read instance from java","body":"<p>I ran into the same exception. Here is what worked for me.\nSo the issue here is with the protocol string, it needs to be changed from jdbc:mariadb:aurora to jdbc:mariadb and it works just fine.\nI got this idea by looking at the mysql driver connection protocol and gave it a try and it worked!</p>\n<p>Good luck!</p>\n"}],"owner":{"account_id":934082,"reputation":771,"user_id":963355,"display_name":"Hadi Tok"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2525,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678308559,"creation_date":1591271245,"question_id":62193853,"body_markdown":"I have already created a bug report(https://jira.mariadb.org/browse/CONJ-793) on MariaDB Jira but want to make sure it is a bug and there is nothing to do my side. I contacted the AWS support but they weren&#39;t very helpful.\r\n\r\nWe had problems with our lambda while connecting to the read database through read cluster URL. \r\nI was able to isolate the problem in my local tunneling through the nat instance. I have no problems running the same code against the write instance. This is the Java test code I used.\r\n``` \r\n    private static final String connectionString\r\n            = &quot;jdbc:mariadb:aurora://***.cluster-***.eu-west-1.rds.amazonaws.com:3306/db&quot;;\r\n       \r\n    public static void main(String[] args) {\r\n        Properties properties = new Properties();\r\n        properties.setProperty(&quot;user&quot;, user);\r\n        properties.setProperty(&quot;password&quot;, password);\r\n        DriverManager.setLoginTimeout(10);\r\n        try (Connection conn = DriverManager.getConnection(connectionString, properties)) {\r\n            Statement statement = conn.createStatement();\r\n            try (ResultSet resultSet = statement.executeQuery(&quot;select * from exchange limit 1&quot;)) {\r\n                resultSet.next();\r\n                System.out.println(resultSet.getString(1));\r\n            }\r\n\r\n        } catch (SQLException exception) {\r\n            exception.printStackTrace();\r\n        }\r\n    }\r\n```\r\nAnd I am receiving this exception:\r\n```\r\njava.sql.SQLException: Communications link failure with primary. No active connection found for master. \r\n\tat org.mariadb.jdbc.internal.failover.AbstractMastersListener.throwFailoverMessage(AbstractMastersListener.java:563)\r\n\tat org.mariadb.jdbc.internal.failover.impl.MastersSlavesListener.checkInitialConnection(MastersSlavesListener.java:350)\r\n\tat org.mariadb.jdbc.internal.failover.impl.MastersSlavesListener.initializeConnection(MastersSlavesListener.java:179)\r\n\tat org.mariadb.jdbc.internal.failover.FailoverProxy.&lt;init&gt;(FailoverProxy.java:120)\r\n\tat org.mariadb.jdbc.internal.util.Utils.retrieveProxy(Utils.java:607)\r\n\tat org.mariadb.jdbc.MariaDbConnection.newConnection(MariaDbConnection.java:150)\r\n\tat org.mariadb.jdbc.Driver.connect(Driver.java:89)\r\n\tat java.sql.DriverManager.getConnection(DriverManager.java:664)\r\n\tat java.sql.DriverManager.getConnection(DriverManager.java:208)\r\n\tat com.company.ConnectionTestJava.main(ConnectionTestJava.java:19)\r\n```\r\nHave anyone faced this issue? It is hard to believe that I would be the only one facing this. Is it related to my setup or it is a bug? If it is a bug is there a workaround while waiting for a solution?\r\n\r\n","title":"Receiving &quot;No active connections found for master&quot; while trying to connect Aurora read instance from java","body":"<p>I have already created a bug report(<a href=\"https://jira.mariadb.org/browse/CONJ-793\" rel=\"nofollow noreferrer\">https://jira.mariadb.org/browse/CONJ-793</a>) on MariaDB Jira but want to make sure it is a bug and there is nothing to do my side. I contacted the AWS support but they weren't very helpful.</p>\n\n<p>We had problems with our lambda while connecting to the read database through read cluster URL. \nI was able to isolate the problem in my local tunneling through the nat instance. I have no problems running the same code against the write instance. This is the Java test code I used.</p>\n\n<pre><code>    private static final String connectionString\n            = \"jdbc:mariadb:aurora://***.cluster-***.eu-west-1.rds.amazonaws.com:3306/db\";\n\n    public static void main(String[] args) {\n        Properties properties = new Properties();\n        properties.setProperty(\"user\", user);\n        properties.setProperty(\"password\", password);\n        DriverManager.setLoginTimeout(10);\n        try (Connection conn = DriverManager.getConnection(connectionString, properties)) {\n            Statement statement = conn.createStatement();\n            try (ResultSet resultSet = statement.executeQuery(\"select * from exchange limit 1\")) {\n                resultSet.next();\n                System.out.println(resultSet.getString(1));\n            }\n\n        } catch (SQLException exception) {\n            exception.printStackTrace();\n        }\n    }\n</code></pre>\n\n<p>And I am receiving this exception:</p>\n\n<pre><code>java.sql.SQLException: Communications link failure with primary. No active connection found for master. \n    at org.mariadb.jdbc.internal.failover.AbstractMastersListener.throwFailoverMessage(AbstractMastersListener.java:563)\n    at org.mariadb.jdbc.internal.failover.impl.MastersSlavesListener.checkInitialConnection(MastersSlavesListener.java:350)\n    at org.mariadb.jdbc.internal.failover.impl.MastersSlavesListener.initializeConnection(MastersSlavesListener.java:179)\n    at org.mariadb.jdbc.internal.failover.FailoverProxy.&lt;init&gt;(FailoverProxy.java:120)\n    at org.mariadb.jdbc.internal.util.Utils.retrieveProxy(Utils.java:607)\n    at org.mariadb.jdbc.MariaDbConnection.newConnection(MariaDbConnection.java:150)\n    at org.mariadb.jdbc.Driver.connect(Driver.java:89)\n    at java.sql.DriverManager.getConnection(DriverManager.java:664)\n    at java.sql.DriverManager.getConnection(DriverManager.java:208)\n    at com.company.ConnectionTestJava.main(ConnectionTestJava.java:19)\n</code></pre>\n\n<p>Have anyone faced this issue? It is hard to believe that I would be the only one facing this. Is it related to my setup or it is a bug? If it is a bug is there a workaround while waiting for a solution?</p>\n"},{"tags":["java","nested","hashmap"],"comments":[{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":1,"creation_date":1678284864,"post_id":75674002,"comment_id":133502817,"body_markdown":"Why is `errorDescription` an anonymous and _broken_ implementation of a map? You cannot store anything in this map, it will always be empty and you cannot retrieve anything from it. Just leave the property unassigned or assign an empty `new HashMap&lt;&gt;()`. The error you have posted usually indicates a problem with input JSON (invalid JSON), e.g. using an array as key (only strings can be keys)","body":"Why is <code>errorDescription</code> an anonymous and <i>broken</i> implementation of a map? You cannot store anything in this map, it will always be empty and you cannot retrieve anything from it. Just leave the property unassigned or assign an empty <code>new HashMap&lt;&gt;()</code>. The error you have posted usually indicates a problem with input JSON (invalid JSON), e.g. using an array as key (only strings can be keys)"},{"owner":{"account_id":27695576,"reputation":3,"user_id":21141382,"display_name":"Markus"},"score":0,"creation_date":1678288374,"post_id":75674002,"comment_id":133503949,"body_markdown":"@knittl if I use `HashMap&lt;String, List&lt;ErrorDescription&gt;&gt; errorDescription = new HashMap&lt;&gt;();` then error is pretty much the same expect column is 33 now","body":"@knittl if I use <code>HashMap&lt;String, List&lt;ErrorDescription&gt;&gt; errorDescription = new HashMap&lt;&gt;();</code> then error is pretty much the same expect column is 33 now"},{"owner":{"account_id":27695576,"reputation":3,"user_id":21141382,"display_name":"Markus"},"score":0,"creation_date":1678288550,"post_id":75674002,"comment_id":133504011,"body_markdown":"@knittl the json generated here `String json = mapper.writeValueAsString(error);` is actually correct, maybe the issue is here `Map&lt;String, HashMap&lt;String, String&gt;&gt; map = new Gson().fromJson(json, new TypeToken&lt;HashMap&lt;String, HashMap&lt;String, String&gt;&gt;&gt;() {}.getType());`","body":"@knittl the json generated here <code>String json = mapper.writeValueAsString(error);</code> is actually correct, maybe the issue is here <code>Map&lt;String, HashMap&lt;String, String&gt;&gt; map = new Gson().fromJson(json, new TypeToken&lt;HashMap&lt;String, HashMap&lt;String, String&gt;&gt;&gt;() {}.getType());</code>"},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1678295114,"post_id":75674002,"comment_id":133506217,"body_markdown":"The TypeToken does not match your class&#39; structure. It maps to a `Map&lt;String, List&lt;ErrorDescription&gt;`, not a `Map&lt;String, Map&lt;String, String&gt;`. The anonymous map is still wrong","body":"The TypeToken does not match your class&#39; structure. It maps to a <code>Map&lt;String, List&lt;ErrorDescription&gt;</code>, not a <code>Map&lt;String, Map&lt;String, String&gt;</code>. The anonymous map is still wrong"}],"answers":[{"tags":[],"owner":{"account_id":27695576,"reputation":3,"user_id":21141382,"display_name":"Markus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678308443,"creation_date":1678308443,"answer_id":75678073,"question_id":75674002,"body_markdown":"I found a solution for my needs in a different approach + taking into account @knittl comment\r\n\r\n    `try {\r\n                JsonFactory factory = new JsonFactory();\r\n                ObjectMapper mapper = new ObjectMapper(factory);\r\n                ErrorWithClient error = (ErrorWithClient) errorResp;\r\n                try {\r\n                    String json = mapper.writeValueAsString(error);\r\n                    JsonObject jsonObject = new Gson().fromJson(json, JsonObject.class);\r\n                    JsonObject client = jsonObject.getAsJsonObject(&quot;client&quot;);\r\n                    Map&lt;String, JsonElement&gt; map = client.asMap();\r\n                    for (Map.Entry&lt;String, JsonElement&gt; entry : map.entrySet()) {\r\n                    }\r\n    \r\n                } catch (IOException e) {\r\n                    throw new RuntimeException(e);\r\n                }\r\n            } catch (RuntimeException e) {\r\n                throw new RuntimeException(e);\r\n            }`","title":"Iterate over Nested Hashmap ( java.lang.IllegalStateException: Expected a string but was BEGIN_ARRAY )","body":"<p>I found a solution for my needs in a different approach + taking into account @knittl comment</p>\n<pre><code>`try {\n            JsonFactory factory = new JsonFactory();\n            ObjectMapper mapper = new ObjectMapper(factory);\n            ErrorWithClient error = (ErrorWithClient) errorResp;\n            try {\n                String json = mapper.writeValueAsString(error);\n                JsonObject jsonObject = new Gson().fromJson(json, JsonObject.class);\n                JsonObject client = jsonObject.getAsJsonObject(&quot;client&quot;);\n                Map&lt;String, JsonElement&gt; map = client.asMap();\n                for (Map.Entry&lt;String, JsonElement&gt; entry : map.entrySet()) {\n                }\n\n            } catch (IOException e) {\n                throw new RuntimeException(e);\n            }\n        } catch (RuntimeException e) {\n            throw new RuntimeException(e);\n        }`\n</code></pre>\n"}],"owner":{"account_id":27695576,"reputation":3,"user_id":21141382,"display_name":"Markus"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678308443,"creation_date":1678283823,"question_id":75674002,"body_markdown":"I want to iterate through the each field in &quot;client&quot; to assert that &quot;message&quot; and &quot;code&quot; is present and corresponds to the correct value in each object (first name, last name, city)\r\n\r\nClass:\r\n\r\n```lang-java\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Getter\r\n@FieldDefaults(level = AccessLevel.PRIVATE)\r\npublic class ErrorWithClient implements Iterable {\r\n\r\n    @JsonProperty(&quot;client&quot;)\r\n    Map&lt;String, List&lt;ErrorDescription&gt;&gt; errorDescription = new Map&lt;String, List&lt;ErrorDescription&gt;&gt;() {\r\n\r\n        @Override\r\n        public int size() {\r\n            return 0;\r\n        }\r\n\r\n        @Override\r\n        public boolean isEmpty() {\r\n            return false;\r\n        }\r\n\r\n        @Override\r\n        public boolean containsKey(Object key) {\r\n            return false;\r\n        }\r\n\r\n        @Override\r\n        public boolean containsValue(Object value) {\r\n            return false;\r\n        }\r\n\r\n        @Override\r\n        public List&lt;ErrorDescription&gt; get(Object key) {\r\n            return null;\r\n        }\r\n\r\n        @Override\r\n        public List&lt;ErrorDescription&gt; put(String key, List&lt;ErrorDescription&gt; value) {\r\n            return null;\r\n        }\r\n\r\n        @Override\r\n        public List&lt;ErrorDescription&gt; remove(Object key) {\r\n            return null;\r\n        }\r\n\r\n        @Override\r\n        public void putAll(Map&lt;? extends String, ? extends List&lt;ErrorDescription&gt;&gt; m) {\r\n\r\n        }\r\n\r\n        @Override\r\n        public void clear() {\r\n\r\n        }\r\n\r\n        @Override\r\n        public Set&lt;String&gt; keySet() {\r\n            return null;\r\n        }\r\n\r\n        @Override\r\n        public Collection&lt;List&lt;ErrorDescription&gt;&gt; values() {\r\n            return null;\r\n        }\r\n\r\n        @Override\r\n        public Set&lt;Entry&lt;String, List&lt;ErrorDescription&gt;&gt;&gt; entrySet() {\r\n            return null;\r\n        }\r\n    };\r\n\r\n    @Override\r\n    public Iterator iterator() {\r\n        return null;\r\n    }\r\n}\r\n```\r\n\r\nErrorDescription:\r\n\r\n```lang-java\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Getter\r\n@FieldDefaults(level = AccessLevel.PRIVATE)\r\npublic class ErrorDescription {\r\n\r\n    @JsonProperty(&quot;message&quot;)\r\n    String message;\r\n\r\n    @JsonProperty(&quot;code&quot;)\r\n    String code;\r\n\r\n}\r\n```\r\n\r\nResponse is achieved by API request to the server which consists of an empty &quot;client&quot;: {}  \r\nResponse:\r\n\r\n```lang-json\r\n{\r\n    &quot;client&quot;: {\r\n        &quot;first_name&quot;: [\r\n            {\r\n                &quot;message&quot;: &quot;This field is required.&quot;,\r\n                &quot;code&quot;: &quot;required&quot;\r\n            }\r\n        ],\r\n        &quot;last_name&quot;: [\r\n            {\r\n                &quot;message&quot;: &quot;This field is required.&quot;,\r\n                &quot;code&quot;: &quot;required&quot;\r\n            }\r\n        ],\r\n        &quot;city&quot;: [\r\n            {\r\n                &quot;message&quot;: &quot;This field is required.&quot;,\r\n                &quot;code&quot;: &quot;required&quot;\r\n            }\r\n        ]\r\n    }\r\n}\r\n```\r\n\r\nRecasting and for loop methods:\r\n\r\n```lang-java\r\ntry {\r\n    JsonFactory factory = new JsonFactory();\r\n    ObjectMapper mapper = new ObjectMapper(factory);\r\n    ErrorWithClient error = (ErrorWithClient) errorResp;\r\n    try {\r\n        String json = mapper.writeValueAsString(error);\r\n        Map&lt;String, HashMap&lt;String, String&gt;&gt; map = new Gson().fromJson(\r\n                json, \r\n                new TypeToken&lt;HashMap&lt;String, HashMap&lt;String, String&gt;&gt;&gt;() {}.getType()\r\n            );\r\n        for (Map.Entry&lt;String, HashMap&lt;String, String&gt;&gt; client : map.entrySet()) {\r\n            String firstName = client.getKey();\r\n            System.out.println(firstName);\r\n            for (Map.Entry&lt;String, String&gt; field : client.getValue().entrySet()) {\r\n                String code = field.getKey();\r\n                String message = field.getValue();\r\n                System.out.println(code + &quot; &quot; + message);\r\n            }\r\n        }\r\n    } catch (IOException e) {\r\n        throw new RuntimeException(e);\r\n    }\r\n} catch (RuntimeException e) {\r\n    throw new RuntimeException(e);\r\n}\r\n```\r\n\r\nI tried different methods of recasting and mapping the json + for looping through it  \r\nSo far described method is the closest i&#39;ve got but I&#39;m stuck with:\r\n\r\njava.lang.RuntimeException: com.google.gson.JsonSyntaxException: java.lang.IllegalStateException: Expected a string but was BEGIN_ARRAY at line 1 column 36 path $\r\n\r\nWhat could be the solution is to describe response as class with getters and setters (but i doubt thats the issue)","title":"Iterate over Nested Hashmap ( java.lang.IllegalStateException: Expected a string but was BEGIN_ARRAY )","body":"<p>I want to iterate through the each field in &quot;client&quot; to assert that &quot;message&quot; and &quot;code&quot; is present and corresponds to the correct value in each object (first name, last name, city)</p>\n<p>Class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@NoArgsConstructor\n@AllArgsConstructor\n@Getter\n@FieldDefaults(level = AccessLevel.PRIVATE)\npublic class ErrorWithClient implements Iterable {\n\n    @JsonProperty(&quot;client&quot;)\n    Map&lt;String, List&lt;ErrorDescription&gt;&gt; errorDescription = new Map&lt;String, List&lt;ErrorDescription&gt;&gt;() {\n\n        @Override\n        public int size() {\n            return 0;\n        }\n\n        @Override\n        public boolean isEmpty() {\n            return false;\n        }\n\n        @Override\n        public boolean containsKey(Object key) {\n            return false;\n        }\n\n        @Override\n        public boolean containsValue(Object value) {\n            return false;\n        }\n\n        @Override\n        public List&lt;ErrorDescription&gt; get(Object key) {\n            return null;\n        }\n\n        @Override\n        public List&lt;ErrorDescription&gt; put(String key, List&lt;ErrorDescription&gt; value) {\n            return null;\n        }\n\n        @Override\n        public List&lt;ErrorDescription&gt; remove(Object key) {\n            return null;\n        }\n\n        @Override\n        public void putAll(Map&lt;? extends String, ? extends List&lt;ErrorDescription&gt;&gt; m) {\n\n        }\n\n        @Override\n        public void clear() {\n\n        }\n\n        @Override\n        public Set&lt;String&gt; keySet() {\n            return null;\n        }\n\n        @Override\n        public Collection&lt;List&lt;ErrorDescription&gt;&gt; values() {\n            return null;\n        }\n\n        @Override\n        public Set&lt;Entry&lt;String, List&lt;ErrorDescription&gt;&gt;&gt; entrySet() {\n            return null;\n        }\n    };\n\n    @Override\n    public Iterator iterator() {\n        return null;\n    }\n}\n</code></pre>\n<p>ErrorDescription:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@NoArgsConstructor\n@AllArgsConstructor\n@Getter\n@FieldDefaults(level = AccessLevel.PRIVATE)\npublic class ErrorDescription {\n\n    @JsonProperty(&quot;message&quot;)\n    String message;\n\n    @JsonProperty(&quot;code&quot;)\n    String code;\n\n}\n</code></pre>\n<p>Response is achieved by API request to the server which consists of an empty &quot;client&quot;: {}<br />\nResponse:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;client&quot;: {\n        &quot;first_name&quot;: [\n            {\n                &quot;message&quot;: &quot;This field is required.&quot;,\n                &quot;code&quot;: &quot;required&quot;\n            }\n        ],\n        &quot;last_name&quot;: [\n            {\n                &quot;message&quot;: &quot;This field is required.&quot;,\n                &quot;code&quot;: &quot;required&quot;\n            }\n        ],\n        &quot;city&quot;: [\n            {\n                &quot;message&quot;: &quot;This field is required.&quot;,\n                &quot;code&quot;: &quot;required&quot;\n            }\n        ]\n    }\n}\n</code></pre>\n<p>Recasting and for loop methods:</p>\n<pre class=\"lang-java prettyprint-override\"><code>try {\n    JsonFactory factory = new JsonFactory();\n    ObjectMapper mapper = new ObjectMapper(factory);\n    ErrorWithClient error = (ErrorWithClient) errorResp;\n    try {\n        String json = mapper.writeValueAsString(error);\n        Map&lt;String, HashMap&lt;String, String&gt;&gt; map = new Gson().fromJson(\n                json, \n                new TypeToken&lt;HashMap&lt;String, HashMap&lt;String, String&gt;&gt;&gt;() {}.getType()\n            );\n        for (Map.Entry&lt;String, HashMap&lt;String, String&gt;&gt; client : map.entrySet()) {\n            String firstName = client.getKey();\n            System.out.println(firstName);\n            for (Map.Entry&lt;String, String&gt; field : client.getValue().entrySet()) {\n                String code = field.getKey();\n                String message = field.getValue();\n                System.out.println(code + &quot; &quot; + message);\n            }\n        }\n    } catch (IOException e) {\n        throw new RuntimeException(e);\n    }\n} catch (RuntimeException e) {\n    throw new RuntimeException(e);\n}\n</code></pre>\n<p>I tried different methods of recasting and mapping the json + for looping through it<br />\nSo far described method is the closest i've got but I'm stuck with:</p>\n<p>java.lang.RuntimeException: com.google.gson.JsonSyntaxException: java.lang.IllegalStateException: Expected a string but was BEGIN_ARRAY at line 1 column 36 path $</p>\n<p>What could be the solution is to describe response as class with getters and setters (but i doubt thats the issue)</p>\n"},{"tags":["java","android","kotlin"],"owner":{"account_id":27968707,"reputation":1,"user_id":21358931,"display_name":"Wojciech Brudniewicz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678307600,"creation_date":1678307600,"question_id":75677956,"body_markdown":"I am beginner in Android Stuio. I tried to create a remind me app. I cannot solve problem with schedule notifiaction. I have exactlly same code as guy on yt and it doesnt work.\r\n\r\nLayout I use:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:layout_margin=&quot;20dp&quot;\r\n    android:orientation=&quot;vertical&quot;&gt;\r\n\r\n\r\n    &lt;EditText\r\n        android:id=&quot;@+id/etTitle&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginTop=&quot;16dp&quot;\r\n        android:ems=&quot;10&quot;\r\n        android:hint=&quot;Title&quot;\r\n        android:minHeight=&quot;48dp&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.497&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n    &lt;EditText\r\n        android:id=&quot;@+id/etMessage&quot;\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginTop=&quot;16dp&quot;\r\n        android:ems=&quot;10&quot;\r\n        android:hint=&quot;Message&quot;\r\n        android:minHeight=&quot;48dp&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.497&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/etTitle&quot; /&gt;\r\n\r\n    &lt;DatePicker\r\n        android:id=&quot;@+id/datePicker&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_gravity=&quot;center&quot;\r\n        android:layout_marginHorizontal=&quot;-30dp&quot;\r\n        android:layout_marginTop=&quot;16dp&quot;\r\n        android:layout_weight=&quot;1&quot;\r\n        android:calendarViewShown=&quot;false&quot;\r\n        android:datePickerMode=&quot;spinner&quot;\r\n        android:scaleX=&quot;0.7&quot;\r\n        android:scaleY=&quot;0.7&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/etMessage&quot; /&gt;\r\n\r\n    &lt;TimePicker\r\n        android:id=&quot;@+id/timePicker&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_gravity=&quot;center&quot;\r\n        android:layout_marginHorizontal=&quot;-30dp&quot;\r\n        android:layout_weight=&quot;1&quot;\r\n        android:calendarViewShown=&quot;false&quot;\r\n        android:scaleX=&quot;0.7&quot;\r\n        android:scaleY=&quot;0.7&quot;\r\n        android:timePickerMode=&quot;spinner&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/datePicker&quot; /&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/submitButton&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;Schedule Notification&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/timePicker&quot; /&gt;\r\n\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\n\r\nActivity: \r\n\r\n```\r\npackage com.example.remindemeapp\r\n\r\nimport android.app.AlarmManager\r\nimport android.app.AlertDialog\r\nimport android.app.Notification\r\nimport android.app.NotificationChannel\r\nimport android.app.NotificationManager\r\nimport android.app.PendingIntent\r\nimport android.app.TaskStackBuilder\r\nimport android.content.Context\r\nimport android.content.Intent\r\nimport android.graphics.Color\r\nimport android.os.Build\r\nimport androidx.appcompat.app.AppCompatActivity\r\nimport android.os.Bundle\r\nimport android.text.format.DateFormat.getLongDateFormat\r\nimport android.util.Log\r\nimport android.widget.TextView\r\nimport androidx.core.app.NotificationCompat\r\nimport androidx.core.app.NotificationManagerCompat\r\nimport androidx.core.content.ContextCompat\r\nimport com.example.remindemeapp.databinding.ActivityMainBinding\r\nimport com.example.remindemeapp.databinding.CreateReminderLayoutBinding\r\nimport com.example.remindemeapp.databinding.CreateReminderLayoutBinding.*\r\nimport com.google.android.material.timepicker.TimeFormat\r\nimport kotlinx.android.synthetic.main.activity_main.*\r\nimport java.text.DateFormat\r\nimport java.text.SimpleDateFormat\r\nimport java.util.*\r\n\r\nclass CreateReminderActivity : AppCompatActivity() {\r\n\r\n    private lateinit var binding: CreateReminderLayoutBinding\r\n\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        binding = CreateReminderLayoutBinding.inflate(layoutInflater)\r\n        setContentView(binding.root)\r\n\r\n        createNotificationChannel()\r\n        binding.submitButton.setOnClickListener {\r\n            scheduleNotification()\r\n        }\r\n    }\r\n\r\n    private fun scheduleNotification() {\r\n        val intent = Intent(applicationContext, Notification::class.java)\r\n        val title = binding.etTitle.text.toString()\r\n        val message = binding.etMessage.text.toString()\r\n        intent.putExtra(titleExtra, title)\r\n        intent.putExtra(messageExtra, message)\r\n\r\n        val pendingIntent = PendingIntent.getBroadcast(\r\n            applicationContext,\r\n            notificationID,\r\n            intent,\r\n            PendingIntent.FLAG_IMMUTABLE or PendingIntent.FLAG_UPDATE_CURRENT\r\n        )\r\n\r\n        val alarmManager = getSystemService(Context.ALARM_SERVICE) as AlarmManager\r\n        val time = getTime()\r\n        alarmManager.setExactAndAllowWhileIdle(\r\n            AlarmManager.RTC_WAKEUP,\r\n            time,\r\n            pendingIntent\r\n        )\r\n        showAlert(time, title, message)\r\n    }\r\n\r\n    private fun showAlert(time: Long, title: String, message: String) {\r\n        val date = Date(time)\r\n        val dateFormat = android.text.format.DateFormat.getLongDateFormat(applicationContext)\r\n        val timeFormat = android.text.format.DateFormat.getTimeFormat(applicationContext)\r\n\r\n        AlertDialog.Builder(this)\r\n            .setTitle(&quot;Notification Scheduled&quot;)\r\n            .setMessage(\r\n                &quot;Title: &quot; + title +\r\n                        &quot;\\nMessage: &quot; + message +\r\n                        &quot;\\nAt: &quot; + dateFormat.format(date) + &quot; &quot; + timeFormat.format(date)\r\n            )\r\n            .setPositiveButton(&quot;Okay&quot;){_,_ -&gt;}\r\n            .show()\r\n    }\r\n\r\n    private fun getTime(): Long {\r\n        val minute = binding.timePicker.minute\r\n        val hour = binding.timePicker.hour\r\n        val day = binding.datePicker.dayOfMonth\r\n        val month = binding.datePicker.month\r\n        val year = binding.datePicker.year\r\n\r\n        val calendar = Calendar.getInstance()\r\n        calendar.set(year, month, day, hour, minute)\r\n        return calendar.timeInMillis\r\n    }\r\n\r\n    private fun createNotificationChannel() {\r\n        val name = &quot;Notif channel&quot;\r\n        val desc = &quot;A description of the Channel&quot;\r\n        val importance = NotificationManager.IMPORTANCE_DEFAULT\r\n        val channel = NotificationChannel(channelID, name, importance)\r\n        channel.description = desc\r\n        val notificationManager = getSystemService(NOTIFICATION_SERVICE) as NotificationManager\r\n        notificationManager.createNotificationChannel(channel)\r\n    }\r\n}\r\n```\r\nNotification class:\r\n\r\n```\r\npackage com.example.remindemeapp\r\n\r\nimport android.app.NotificationManager\r\nimport android.content.BroadcastReceiver\r\nimport android.content.Context\r\nimport android.content.Intent\r\nimport android.util.Log\r\nimport androidx.core.app.NotificationCompat\r\n\r\nconst val notificationID = 1\r\nconst val channelID = &quot;channel1&quot;\r\nconst val titleExtra = &quot;titleExtra&quot;\r\nconst val messageExtra = &quot;messageExtra&quot;\r\n\r\nclass Notification : BroadcastReceiver() {\r\n    override fun onReceive(context: Context, intent: Intent) {\r\n        val notification = NotificationCompat.Builder(context, channelID)\r\n            .setSmallIcon(R.drawable.ic_notification)\r\n            .setContentTitle(intent.getStringExtra(titleExtra))\r\n            .setContentText(intent.getStringExtra(messageExtra))\r\n            .build()\r\n\r\n        val manager = context.getSystemService(Context.NOTIFICATION_SERVICE) as NotificationManager\r\n        manager.notify(notificationID, notification)\r\n    }\r\n}\r\n```\r\nI added uses permission, new activity to manifest.\r\n\r\n\r\nI tried to debug it and it stops before after creating an alert.","title":"Android Studio Schedule Notifiaction doesnt work","body":"<p>I am beginner in Android Stuio. I tried to create a remind me app. I cannot solve problem with schedule notifiaction. I have exactlly same code as guy on yt and it doesnt work.</p>\n<p>Layout I use:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:layout_margin=&quot;20dp&quot;\n    android:orientation=&quot;vertical&quot;&gt;\n\n\n    &lt;EditText\n        android:id=&quot;@+id/etTitle&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginTop=&quot;16dp&quot;\n        android:ems=&quot;10&quot;\n        android:hint=&quot;Title&quot;\n        android:minHeight=&quot;48dp&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.497&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n    &lt;EditText\n        android:id=&quot;@+id/etMessage&quot;\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginTop=&quot;16dp&quot;\n        android:ems=&quot;10&quot;\n        android:hint=&quot;Message&quot;\n        android:minHeight=&quot;48dp&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.497&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/etTitle&quot; /&gt;\n\n    &lt;DatePicker\n        android:id=&quot;@+id/datePicker&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_gravity=&quot;center&quot;\n        android:layout_marginHorizontal=&quot;-30dp&quot;\n        android:layout_marginTop=&quot;16dp&quot;\n        android:layout_weight=&quot;1&quot;\n        android:calendarViewShown=&quot;false&quot;\n        android:datePickerMode=&quot;spinner&quot;\n        android:scaleX=&quot;0.7&quot;\n        android:scaleY=&quot;0.7&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/etMessage&quot; /&gt;\n\n    &lt;TimePicker\n        android:id=&quot;@+id/timePicker&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_gravity=&quot;center&quot;\n        android:layout_marginHorizontal=&quot;-30dp&quot;\n        android:layout_weight=&quot;1&quot;\n        android:calendarViewShown=&quot;false&quot;\n        android:scaleX=&quot;0.7&quot;\n        android:scaleY=&quot;0.7&quot;\n        android:timePickerMode=&quot;spinner&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/datePicker&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/submitButton&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;Schedule Notification&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/timePicker&quot; /&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>Activity:</p>\n<pre><code>package com.example.remindemeapp\n\nimport android.app.AlarmManager\nimport android.app.AlertDialog\nimport android.app.Notification\nimport android.app.NotificationChannel\nimport android.app.NotificationManager\nimport android.app.PendingIntent\nimport android.app.TaskStackBuilder\nimport android.content.Context\nimport android.content.Intent\nimport android.graphics.Color\nimport android.os.Build\nimport androidx.appcompat.app.AppCompatActivity\nimport android.os.Bundle\nimport android.text.format.DateFormat.getLongDateFormat\nimport android.util.Log\nimport android.widget.TextView\nimport androidx.core.app.NotificationCompat\nimport androidx.core.app.NotificationManagerCompat\nimport androidx.core.content.ContextCompat\nimport com.example.remindemeapp.databinding.ActivityMainBinding\nimport com.example.remindemeapp.databinding.CreateReminderLayoutBinding\nimport com.example.remindemeapp.databinding.CreateReminderLayoutBinding.*\nimport com.google.android.material.timepicker.TimeFormat\nimport kotlinx.android.synthetic.main.activity_main.*\nimport java.text.DateFormat\nimport java.text.SimpleDateFormat\nimport java.util.*\n\nclass CreateReminderActivity : AppCompatActivity() {\n\n    private lateinit var binding: CreateReminderLayoutBinding\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        binding = CreateReminderLayoutBinding.inflate(layoutInflater)\n        setContentView(binding.root)\n\n        createNotificationChannel()\n        binding.submitButton.setOnClickListener {\n            scheduleNotification()\n        }\n    }\n\n    private fun scheduleNotification() {\n        val intent = Intent(applicationContext, Notification::class.java)\n        val title = binding.etTitle.text.toString()\n        val message = binding.etMessage.text.toString()\n        intent.putExtra(titleExtra, title)\n        intent.putExtra(messageExtra, message)\n\n        val pendingIntent = PendingIntent.getBroadcast(\n            applicationContext,\n            notificationID,\n            intent,\n            PendingIntent.FLAG_IMMUTABLE or PendingIntent.FLAG_UPDATE_CURRENT\n        )\n\n        val alarmManager = getSystemService(Context.ALARM_SERVICE) as AlarmManager\n        val time = getTime()\n        alarmManager.setExactAndAllowWhileIdle(\n            AlarmManager.RTC_WAKEUP,\n            time,\n            pendingIntent\n        )\n        showAlert(time, title, message)\n    }\n\n    private fun showAlert(time: Long, title: String, message: String) {\n        val date = Date(time)\n        val dateFormat = android.text.format.DateFormat.getLongDateFormat(applicationContext)\n        val timeFormat = android.text.format.DateFormat.getTimeFormat(applicationContext)\n\n        AlertDialog.Builder(this)\n            .setTitle(&quot;Notification Scheduled&quot;)\n            .setMessage(\n                &quot;Title: &quot; + title +\n                        &quot;\\nMessage: &quot; + message +\n                        &quot;\\nAt: &quot; + dateFormat.format(date) + &quot; &quot; + timeFormat.format(date)\n            )\n            .setPositiveButton(&quot;Okay&quot;){_,_ -&gt;}\n            .show()\n    }\n\n    private fun getTime(): Long {\n        val minute = binding.timePicker.minute\n        val hour = binding.timePicker.hour\n        val day = binding.datePicker.dayOfMonth\n        val month = binding.datePicker.month\n        val year = binding.datePicker.year\n\n        val calendar = Calendar.getInstance()\n        calendar.set(year, month, day, hour, minute)\n        return calendar.timeInMillis\n    }\n\n    private fun createNotificationChannel() {\n        val name = &quot;Notif channel&quot;\n        val desc = &quot;A description of the Channel&quot;\n        val importance = NotificationManager.IMPORTANCE_DEFAULT\n        val channel = NotificationChannel(channelID, name, importance)\n        channel.description = desc\n        val notificationManager = getSystemService(NOTIFICATION_SERVICE) as NotificationManager\n        notificationManager.createNotificationChannel(channel)\n    }\n}\n</code></pre>\n<p>Notification class:</p>\n<pre><code>package com.example.remindemeapp\n\nimport android.app.NotificationManager\nimport android.content.BroadcastReceiver\nimport android.content.Context\nimport android.content.Intent\nimport android.util.Log\nimport androidx.core.app.NotificationCompat\n\nconst val notificationID = 1\nconst val channelID = &quot;channel1&quot;\nconst val titleExtra = &quot;titleExtra&quot;\nconst val messageExtra = &quot;messageExtra&quot;\n\nclass Notification : BroadcastReceiver() {\n    override fun onReceive(context: Context, intent: Intent) {\n        val notification = NotificationCompat.Builder(context, channelID)\n            .setSmallIcon(R.drawable.ic_notification)\n            .setContentTitle(intent.getStringExtra(titleExtra))\n            .setContentText(intent.getStringExtra(messageExtra))\n            .build()\n\n        val manager = context.getSystemService(Context.NOTIFICATION_SERVICE) as NotificationManager\n        manager.notify(notificationID, notification)\n    }\n}\n</code></pre>\n<p>I added uses permission, new activity to manifest.</p>\n<p>I tried to debug it and it stops before after creating an alert.</p>\n"},{"tags":["java","jar","unsupported-class-version"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":2,"creation_date":1678196867,"post_id":75662763,"comment_id":133483396,"body_markdown":"Note that one computer has Java 18 and the other has Java **1.8** (a.k.a Java 8). That&#39;s an 8 year difference in release dates. The problem is not JDK vs JRE, it&#39;s that you&#39;re using a very old Java version on the second computer. If you&#39;re not using any features/classes that weren&#39;t in Java 8 then you can switch your compiler to generate Java 8 supported class files even when compiling on Java 18.","body":"Note that one computer has Java 18 and the other has Java <b>1.8</b> (a.k.a Java 8). That&#39;s an 8 year difference in release dates. The problem is not JDK vs JRE, it&#39;s that you&#39;re using a very old Java version on the second computer. If you&#39;re not using any features/classes that weren&#39;t in Java 8 then you can switch your compiler to generate Java 8 supported class files even when compiling on Java 18."},{"owner":{"account_id":22951853,"reputation":1,"user_id":17083016,"display_name":"Janekbrze"},"score":0,"creation_date":1678197502,"post_id":75662763,"comment_id":133483595,"body_markdown":"Thanks! Is it possible to update Java on the second computer to use JRE with up-to-date Java version? Or I have to compile it for Java 8?","body":"Thanks! Is it possible to update Java on the second computer to use JRE with up-to-date Java version? Or I have to compile it for Java 8?"},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1678198429,"post_id":75662763,"comment_id":133483853,"body_markdown":"JREs are not really a thing any more (you can still get them from some vendors, but most ship only the JDK). Whether or not it&#39;s possible to install a newer Java version on that computer is not something we can answer: you need to know.","body":"JREs are not really a thing any more (you can still get them from some vendors, but most ship only the JDK). Whether or not it&#39;s possible to install a newer Java version on that computer is not something we can answer: you need to know."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1678307535,"creation_date":1678198536,"answer_id":75663132,"question_id":75662763,"body_markdown":"JRE, the concept, __is obsolete__ - JRE1.8 was the last one. Various vendors (such as Azul) make JREs for newer versions, but it&#39;s no longer a supported deployment platform.\r\n\r\nHence, no wonder your end user has it installed. JRE1.8 is __no longer supported__ and is very old, certainly too old to run what you compiled, which you compiled on the very newest java version.\r\n\r\nYou can tell your java to produce code that is JDK8 compatible with `javac --release 8 *.java` for example (or check your build tool docs for how to tell it to add this parameter), but it means you can&#39;t use any API introduced since then (and lots has been introduced), nor any java language feature introduced since then (so, no `var`, no `record`, no `&quot;&quot;&quot;` strings, etcetera).\r\n\r\n## But, your deployment model is obsolete!\r\n\r\nYour deployment model is:\r\n\r\n* You, end user, arrange for a JRE to exist. All I can do is tell you to go download one someplace.\r\n* I shall ship you a jar file.\r\n* You double click it.\r\n\r\nThis model is no longer recommended or available. Finding a JRE is now quite difficult and it is not reasonable to expect users to have it. At best you can ship extensive documentation about where they can get one (not openjdk.org or java.com, not anymore!)\r\n\r\nThere&#39;s a reason for that: It really never worked well, oracle/team OpenJDK&#39;s choice to get rid of the JRE vs JDK distribution model is perhaps more them just waking up and realizing how the real world has been deploying java apps, rather than that they are trying to annoy you by changing how things work.\r\n\r\nThe new model involves __you__ shipping the java runtime together with your app and __you__ taking on the responsibility of maintaining it.\r\n\r\nThere&#39;s various tutorials out there on how to do this, [`jlink`][1] is a key part of it (so include that in your searches). Alternatively, and this isn&#39;t particularly hard either, as this was already quite popular even 10 years ago when the JRE deployment model was still a thing: You can ship an entire JDK with your jars and make a simple installer. Things like [launch4j](https://launch4j.sourceforge.net) exist that make it real easy for your users to launch it (simply click the EXE).\r\n\r\nThe problem with the JRE deployment model in a nutshell:\r\n* Your end users would &#39;contract&#39; with oracle to download a JRE, install it on their system, and oracle+user would work together to keep it up to date. Failure to do this (for example, users getting jusched.exe out of their system start up folder) means oracle catches the heat for having a JRE that is probably insecure (due to not being updated).\r\n* All you could really do as app vendor is tell the user they need to go to oracle.com or java.com or whatnot first. This was awkward.\r\n* You have no real guarantee that the JRE they do have is compatible. Java is mostly backwards compatible but it can easily happen that, say, your app does not run on java 10 but it does on java8. If someone installs a JRE10, then your app &#39;runs&#39; and crashes. It is very difficult to test your app on JRE8,9,10,11,12,13,14,15,16,17,18, and 19, so people didn&#39;t, and this led to apps failing all the time.\r\n* Because it&#39;s a system thing, the JRE needs to announce where it is at, and register itself as being the thing to use to run any `.jar` file. This makes the security situation considerably more tricky.\r\n\r\nContrast to the new model (which is the model lots of folks already used _before_ this became the official model, because of the issues with the old model listed above):\r\n\r\n* You deploy precisely the JDK/JRE you want, and tested with.\r\n* There is no need to inform the user about needing to go to java.com\r\n* There is no need for this JDK/JRE to announce itself to the system.\r\n* There is less need to keep it updated; given that it doesn&#39;t register itself to run `.jar` files or otherwise gets involved in being executed for anything, other than your app, and most JDK security issues cannot be exploited unless the app is &#39;in on it&#39; / can be fixed app-side.\r\n* _It matches what the major java apps, such as intellij and eclipse, were already doing_.\r\n\r\nThe downside of this new model is that it&#39;s a lot more effort to write an installer. One advantage of JREs, that they are smaller in size, can be reproduced with `jlink` that, amongst other things, can make a tree-shaken JDK (a JDK with all parts that your specific app does not need, taken out of it).\r\n\r\n\r\n  [1]: https://openjdk.org/jeps/282","title":"How to run jar on different computer without JDK?","body":"<p>JRE, the concept, <strong>is obsolete</strong> - JRE1.8 was the last one. Various vendors (such as Azul) make JREs for newer versions, but it's no longer a supported deployment platform.</p>\n<p>Hence, no wonder your end user has it installed. JRE1.8 is <strong>no longer supported</strong> and is very old, certainly too old to run what you compiled, which you compiled on the very newest java version.</p>\n<p>You can tell your java to produce code that is JDK8 compatible with <code>javac --release 8 *.java</code> for example (or check your build tool docs for how to tell it to add this parameter), but it means you can't use any API introduced since then (and lots has been introduced), nor any java language feature introduced since then (so, no <code>var</code>, no <code>record</code>, no <code>&quot;&quot;&quot;</code> strings, etcetera).</p>\n<h2>But, your deployment model is obsolete!</h2>\n<p>Your deployment model is:</p>\n<ul>\n<li>You, end user, arrange for a JRE to exist. All I can do is tell you to go download one someplace.</li>\n<li>I shall ship you a jar file.</li>\n<li>You double click it.</li>\n</ul>\n<p>This model is no longer recommended or available. Finding a JRE is now quite difficult and it is not reasonable to expect users to have it. At best you can ship extensive documentation about where they can get one (not openjdk.org or java.com, not anymore!)</p>\n<p>There's a reason for that: It really never worked well, oracle/team OpenJDK's choice to get rid of the JRE vs JDK distribution model is perhaps more them just waking up and realizing how the real world has been deploying java apps, rather than that they are trying to annoy you by changing how things work.</p>\n<p>The new model involves <strong>you</strong> shipping the java runtime together with your app and <strong>you</strong> taking on the responsibility of maintaining it.</p>\n<p>There's various tutorials out there on how to do this, <a href=\"https://openjdk.org/jeps/282\" rel=\"nofollow noreferrer\"><code>jlink</code></a> is a key part of it (so include that in your searches). Alternatively, and this isn't particularly hard either, as this was already quite popular even 10 years ago when the JRE deployment model was still a thing: You can ship an entire JDK with your jars and make a simple installer. Things like <a href=\"https://launch4j.sourceforge.net\" rel=\"nofollow noreferrer\">launch4j</a> exist that make it real easy for your users to launch it (simply click the EXE).</p>\n<p>The problem with the JRE deployment model in a nutshell:</p>\n<ul>\n<li>Your end users would 'contract' with oracle to download a JRE, install it on their system, and oracle+user would work together to keep it up to date. Failure to do this (for example, users getting jusched.exe out of their system start up folder) means oracle catches the heat for having a JRE that is probably insecure (due to not being updated).</li>\n<li>All you could really do as app vendor is tell the user they need to go to oracle.com or java.com or whatnot first. This was awkward.</li>\n<li>You have no real guarantee that the JRE they do have is compatible. Java is mostly backwards compatible but it can easily happen that, say, your app does not run on java 10 but it does on java8. If someone installs a JRE10, then your app 'runs' and crashes. It is very difficult to test your app on JRE8,9,10,11,12,13,14,15,16,17,18, and 19, so people didn't, and this led to apps failing all the time.</li>\n<li>Because it's a system thing, the JRE needs to announce where it is at, and register itself as being the thing to use to run any <code>.jar</code> file. This makes the security situation considerably more tricky.</li>\n</ul>\n<p>Contrast to the new model (which is the model lots of folks already used <em>before</em> this became the official model, because of the issues with the old model listed above):</p>\n<ul>\n<li>You deploy precisely the JDK/JRE you want, and tested with.</li>\n<li>There is no need to inform the user about needing to go to java.com</li>\n<li>There is no need for this JDK/JRE to announce itself to the system.</li>\n<li>There is less need to keep it updated; given that it doesn't register itself to run <code>.jar</code> files or otherwise gets involved in being executed for anything, other than your app, and most JDK security issues cannot be exploited unless the app is 'in on it' / can be fixed app-side.</li>\n<li><em>It matches what the major java apps, such as intellij and eclipse, were already doing</em>.</li>\n</ul>\n<p>The downside of this new model is that it's a lot more effort to write an installer. One advantage of JREs, that they are smaller in size, can be reproduced with <code>jlink</code> that, amongst other things, can make a tree-shaken JDK (a JDK with all parts that your specific app does not need, taken out of it).</p>\n"}],"owner":{"account_id":22951853,"reputation":1,"user_id":17083016,"display_name":"Janekbrze"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":436,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1678205611,"answer_count":1,"score":0,"last_activity_date":1678307535,"creation_date":1678196640,"question_id":75662763,"body_markdown":"I created Java application and built a jar file. I can run this jar on my computer, but when I try to run it on other computer (with no JDK installed) by double click on jar, I&#39;m getting an error:\r\nA Java Exception has occured.\r\n\r\nWhen I run it from command line using `java -jar &lt;filename.jar&gt;`, I&#39;m getting such error:\r\n&gt; Exception in thread &quot;main&quot; java.lang.UnsupportedClassVersionError: MainWindow has been compiled by a more recent version of the Java Runtime (class file version 62.0), this version of the Java Runtime only recognizes class file versions up to 52.0\r\n\r\n\r\n\r\nI checked Java versions on both computers.\r\n\r\nFirst computer (with JDK):&lt;br&gt;\r\njava version &quot;18.0.2&quot; 2022-07-19&lt;br&gt;\r\nJava(TM) SE Runtime Environment (build 18.0.2+9-61)&lt;br&gt;\r\nJava HotSpot(TM) 64-Bit Server VM (build 18.0.2+9-61, mixed mode, sharing)\r\n\r\nSecond computer (without JDK):&lt;br&gt;\r\njava version &quot;1.8.0_361&quot;&lt;br&gt;\r\nJava(TM) SE Runtime Environment (build 1.8.0_361-b09)&lt;br&gt;\r\nJava HotSpot(TM) Client VM (build 25.361-b09, mixed mode, sharing)\r\n\r\nAs I know, it should be possible to run a Jar file without JDK installed, just JRE should be enough. But it looks like this JRE is too old version? (I don&#39;t think so, but maybe I&#39;m wrong.)\r\n\r\nSummary:&lt;br&gt;\r\nHow to run a jar on the second computer without installing JDK?","title":"How to run jar on different computer without JDK?","body":"<p>I created Java application and built a jar file. I can run this jar on my computer, but when I try to run it on other computer (with no JDK installed) by double click on jar, I'm getting an error:\nA Java Exception has occured.</p>\n<p>When I run it from command line using <code>java -jar &lt;filename.jar&gt;</code>, I'm getting such error:</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; java.lang.UnsupportedClassVersionError: MainWindow has been compiled by a more recent version of the Java Runtime (class file version 62.0), this version of the Java Runtime only recognizes class file versions up to 52.0</p>\n</blockquote>\n<p>I checked Java versions on both computers.</p>\n<p>First computer (with JDK):<br>\njava version &quot;18.0.2&quot; 2022-07-19<br>\nJava(TM) SE Runtime Environment (build 18.0.2+9-61)<br>\nJava HotSpot(TM) 64-Bit Server VM (build 18.0.2+9-61, mixed mode, sharing)</p>\n<p>Second computer (without JDK):<br>\njava version &quot;1.8.0_361&quot;<br>\nJava(TM) SE Runtime Environment (build 1.8.0_361-b09)<br>\nJava HotSpot(TM) Client VM (build 25.361-b09, mixed mode, sharing)</p>\n<p>As I know, it should be possible to run a Jar file without JDK installed, just JRE should be enough. But it looks like this JRE is too old version? (I don't think so, but maybe I'm wrong.)</p>\n<p>Summary:<br>\nHow to run a jar on the second computer without installing JDK?</p>\n"},{"tags":["java","android","android-handler"],"comments":[{"owner":{"account_id":1278157,"reputation":7585,"user_id":1232937,"accept_rate":40,"display_name":"Robin Davies"},"score":0,"creation_date":1678086081,"post_id":75647211,"comment_id":133458073,"body_markdown":"You need to narrow it down a bit. What are you calling to receive notifications. What doesn&#39;t happen?","body":"You need to narrow it down a bit. What are you calling to receive notifications. What doesn&#39;t happen?"},{"owner":{"account_id":25740044,"reputation":11,"user_id":19494186,"display_name":"HarmanPreet Singh"},"score":0,"creation_date":1678250640,"post_id":75647211,"comment_id":133495045,"body_markdown":"well I am using Handler mhandler = new Handler(new Handler.Callback() function for getting the response. This Handler is not getting called.","body":"well I am using Handler mhandler = new Handler(new Handler.Callback() function for getting the response. This Handler is not getting called."}],"answers":[{"tags":[],"owner":{"account_id":1278157,"reputation":7585,"user_id":1232937,"accept_rate":40,"display_name":"Robin Davies"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678307415,"creation_date":1678307415,"answer_id":75677931,"question_id":75647211,"body_markdown":"That&#39;s a very unconventional way to use handlers.\r\n\r\nOff the top of my head, I&#39;d guess that your message ids are colliding with system message ids. I can&#39;t find docs on how one determines a safe range for message ids; but I&#39;d be gravely concerned about using message ID values of 11 and 22. If you REALLY have to minimize allocations, you might try very high numbers for message IDs. I suspect that if you look through logs, you&#39;ll \r\nfind some very irate system handler complaining about receiving data of the \r\nwrong type. The fact that you&#39;re not getting *any* callbacks strongly suggests that the system isn&#39;t going to let you filter system messages, and it absolutely should not. There&#39;s probably all kinds of sensitive information flying around in the body of system messages.\r\n\r\nThe more conventional way to use handlers in non-system code is to use `Runnable`&#39;s. Admittedly, there&#39;s one extra memory allocation for the Runnable; and a modest amount of extra overhead for the closure capture. But it is the way posts are usually done.\r\n\r\n```\r\n    class HostClass {\r\n    \r\n        private Handler handler;\r\n    \r\n        // calback method\r\n        public void handleResponse(byte[] bytes) {\r\n           // do something on the UI thread.\r\n        }\r\n    };\r\n    \r\n    class ClientClass {\r\n\r\n        private Handle hostHandler; //set by the constructor.\r\n        private HostClass host\r\n\r\n        // code running on a background thread.\r\n        private void threadProc()\r\n        {\r\n           byte[] receivedBytes = new byte[...];\r\n    \r\n           // post a runnable to the UI thread (new shiny Java 8 syntax)\r\n           hostHandler.post(() -&gt; {\r\n               // executing on the UI thread.\r\n               host-&gt;handleResponse(receivedBytes );      \r\n           });\r\n           //  or exactly the same thing, using the more verbose legacy syntax.\r\n           hostHandler.post(new Runnable() {\r\n              @Override\r\n             public void run () {\r\n                host-&gt;handleResponse(receivedBytes );\r\n             }\r\n           });\r\n        }\r\n    };\r\n```\r\n\r\nBest practice would probably suggest that you use a callback interface for your callbacks from the client thread instead of exposing your entire host class, if for no other reason than to clarify what the interaction between the host and client object are.","title":"Android not getting response from handler","body":"<p>That's a very unconventional way to use handlers.</p>\n<p>Off the top of my head, I'd guess that your message ids are colliding with system message ids. I can't find docs on how one determines a safe range for message ids; but I'd be gravely concerned about using message ID values of 11 and 22. If you REALLY have to minimize allocations, you might try very high numbers for message IDs. I suspect that if you look through logs, you'll\nfind some very irate system handler complaining about receiving data of the\nwrong type. The fact that you're not getting <em>any</em> callbacks strongly suggests that the system isn't going to let you filter system messages, and it absolutely should not. There's probably all kinds of sensitive information flying around in the body of system messages.</p>\n<p>The more conventional way to use handlers in non-system code is to use <code>Runnable</code>'s. Admittedly, there's one extra memory allocation for the Runnable; and a modest amount of extra overhead for the closure capture. But it is the way posts are usually done.</p>\n<pre><code>    class HostClass {\n    \n        private Handler handler;\n    \n        // calback method\n        public void handleResponse(byte[] bytes) {\n           // do something on the UI thread.\n        }\n    };\n    \n    class ClientClass {\n\n        private Handle hostHandler; //set by the constructor.\n        private HostClass host\n\n        // code running on a background thread.\n        private void threadProc()\n        {\n           byte[] receivedBytes = new byte[...];\n    \n           // post a runnable to the UI thread (new shiny Java 8 syntax)\n           hostHandler.post(() -&gt; {\n               // executing on the UI thread.\n               host-&gt;handleResponse(receivedBytes );      \n           });\n           //  or exactly the same thing, using the more verbose legacy syntax.\n           hostHandler.post(new Runnable() {\n              @Override\n             public void run () {\n                host-&gt;handleResponse(receivedBytes );\n             }\n           });\n        }\n    };\n</code></pre>\n<p>Best practice would probably suggest that you use a callback interface for your callbacks from the client thread instead of exposing your entire host class, if for no other reason than to clarify what the interaction between the host and client object are.</p>\n"}],"owner":{"account_id":25740044,"reputation":11,"user_id":19494186,"display_name":"HarmanPreet Singh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678307415,"creation_date":1678079027,"question_id":75647211,"body_markdown":"I am developing an app to communicate with wifi and android and I am able to send but not able to receive any response because my response is not being called.\r\n\r\nSo, the basic gist is that I am able to send data but not able to receive any response.\r\n\r\n\r\nHere&#39;s the code for more information :- \r\n\r\nWifi terminal\r\n\r\n```\r\npublic class wifi_terminal extends AppCompatActivity {\r\n\r\n    ListView logListView;\r\n    private static ChatAdapter adapter;\r\n    private ArrayList&lt;ChatMessage&gt; chatHistory;\r\n    Button sendButton;\r\n    EditText editText;\r\n\r\n    TCPConversation wifiCommn;\r\n    byte[] resbyts;\r\n    String response;\r\n    boolean aBoolean =false;\r\n    boolean isInDiagstate =false;\r\n    boolean stopLiveParams =false;\r\n\r\n    private Context context;\r\n    private final String TAG = &quot;WIFI Terminal Activity&quot;;\r\n    Timer timer;\r\n    WifiSemaphoreService wifiSemaphoreService;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_wifi_terminal);\r\n\r\n        init();\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onBackPressed() {\r\n        super.onBackPressed();\r\n        finish();\r\n    }\r\n\r\n    private void init(){\r\n\r\n        context = wifi_terminal.this;\r\n        wifiSemaphoreService = new WifiSemaphoreService();\r\n        wifiCommn = Singletone.getTcpConversation();\r\n        wifiCommn.AssignHandler(mhandler);\r\n        TCPConversation.responseCase =1;\r\n\r\n        logListView= findViewById(R.id.loglistView);\r\n        logListView.setItemsCanFocus(true);\r\n        logListView.setTranscriptMode(ListView.TRANSCRIPT_MODE_ALWAYS_SCROLL);\r\n\r\n        loadDummyHistory();\r\n\r\n        sendButton = findViewById(R.id.sendTextid);\r\n        editText= findViewById(R.id.editTextid);\r\n\r\n        sendButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                if(wifiCommn!=null &amp;&amp; !wifiCommn.CheckConnection())\r\n                {\r\n                    String  message=editText.getText().toString();\r\n\r\n\r\n                    if(!message.equals(&quot;&quot;))\r\n                    {\r\n                        message=message+&quot;\\r\\n&quot;;\r\n                        final String finalMessage = message;\r\n                        Thread thread = new Thread(new Runnable() {\r\n                            @Override\r\n                            public void run() {\r\n                                wifiCommn.responseCase =1;\r\n\r\n                                wifiCommn.Send(finalMessage.getBytes());\r\n                                final String finalMessage1 = finalMessage.replace(&quot;\\r\\n&quot;,&quot;&quot;);\r\n                                PrintConv( finalMessage1,true);\r\n                                runOnUiThread(new Runnable() {\r\n                                    @Override\r\n                                    public void run() {\r\n                                        editText.setText(&quot;&quot;);\r\n                                    }\r\n                                });\r\n                            }\r\n                        });\r\n                        thread.start();\r\n\r\n                    }\r\n                    else\r\n                    {\r\n                        Toast.makeText(context, &quot;Enter some command!&quot;, Toast.LENGTH_SHORT).show();\r\n                    }\r\n                }\r\n                else\r\n                {\r\n                    PrintConv( &quot;SOCKET CONN LOST&quot;,true);\r\n                    Toast.makeText(wifi_terminal.this, &quot;SOCKET CONN LOST&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n            }\r\n        });\r\n\r\n\r\n    }\r\n\r\n\r\n    Handler mhandler = new Handler(new Handler.Callback()\r\n    {\r\n        @Override\r\n        public boolean handleMessage(Message message)\r\n        {\r\n            switch(message.what)\r\n            {\r\n                case 11:\r\n                    resbyts = (byte[]) message.obj;\r\n                    response= new String(resbyts);\r\n\r\n                    if(response.length()&gt;0){\r\n                        response = response.replace(&quot;\\r\\n&quot;,&quot;&quot;);\r\n                        aBoolean =true;\r\n                        PrintConv(response,false);\r\n                    }\r\n                    else{\r\n\r\n                        PrintConv(&quot;No Response&quot;,false);\r\n                    }\r\n\r\n\r\n\r\n                    break;\r\n\r\n                case 22:\r\n                    String responseString=(String) message.obj;\r\n                    if(wifiCommn!=null &amp;&amp; wifiCommn.CheckConnection())\r\n                    {\r\n                        wifiCommn.TerminateConnection();\r\n                        PrintConv(&quot;CONNECTION LOST&quot;,false);\r\n                    }\r\n                    Toast.makeText(context, responseString, Toast.LENGTH_SHORT).show();\r\n                    finish();\r\n\r\n                    break;\r\n            }\r\n            return true;\r\n        }\r\n    });\r\n\r\n    public void displayMessage(ChatMessage message)\r\n    {\r\n        adapter.add(message);\r\n        adapter.notifyDataSetChanged();\r\n        scroll();\r\n    }\r\n    private void scroll() { logListView.setSelection(logListView.getCount() - 1); }\r\n    private void loadDummyHistory()\r\n    {\r\n        chatHistory = new ArrayList&lt;&gt;();\r\n        ChatMessage msg = new ChatMessage();\r\n        msg.setId(1);\r\n        msg.setMe(false);\r\n        msg.setDate(DateFormat.getDateTimeInstance().format(new Date()));\r\n        chatHistory.add(msg);\r\n\r\n        adapter = new ChatAdapter(wifi_terminal.this, new ArrayList&lt;ChatMessage&gt;());\r\n        logListView.setAdapter(adapter);\r\n\r\n\r\n    }\r\n\r\n    public void PrintConv(final String msg, final boolean val)\r\n    {\r\n        runOnUiThread(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                ChatMessage chatMessage = new ChatMessage();\r\n                chatMessage.setId(11);//dummy\r\n                chatMessage.setMessage(msg);\r\n                chatMessage.setDate(DateFormat.getDateTimeInstance().format(new Date()));\r\n                chatMessage.setMe(val);\r\n                displayMessage(chatMessage);\r\n            }\r\n        });\r\n    }\r\n\r\n}```\r\n\r\n\r\nwifi communication :- \r\n\r\n\r\n```\r\npublic class WifiComm {\r\n\r\n    private Socket socket;\r\n    Handler handler;\r\n    private boolean minusOne =false;\r\n    public static int responseCase;\r\n    private int counter;\r\n    private Timer timer;\r\n    ArrayList&lt;Integer&gt; arr_byte = new ArrayList&lt;Integer&gt;();\r\n\r\n\r\n    static  ArrayList&lt;Byte&gt; readMessage2 = new ArrayList&lt;&gt;();\r\n\r\n    public WifiComm(Socket socket1)\r\n    {\r\n        socket = socket1;\r\n\r\n        Receiving recievingThread = new Receiving(socket);\r\n        recievingThread.start();\r\n    }\r\n\r\n\r\n    public  void AssignHandler(Handler mhandler)\r\n    {\r\n        handler = mhandler;\r\n    }\r\n    static  byte[] tempBuffer = new byte[2048];\r\n\r\n    public class Receiving extends Thread\r\n    {\r\n        private Receiving(Socket socket1) {\r\n            socket =socket1;\r\n        }\r\n\r\n        @Override\r\n        public void run()\r\n        {\r\n\r\n\r\n            boolean recieveData =false;\r\n            ArrayList&lt;Byte&gt;  readMessage1 =  new ArrayList&lt;&gt;();\r\n            StringBuilder readMessage2 = new StringBuilder();\r\n            ArrayList&lt;Byte&gt; readMessage3 = new ArrayList&lt;&gt;();\r\n            minusOne =false;\r\n            tempBuffer = new byte[2048];\r\n            while (true)\r\n            {\r\n\r\n                try {\r\n                    int size=0;\r\n                    size   = socket.getInputStream().read(tempBuffer);\r\n                    //  Log.e(&quot;E&quot;,new String(tempBuffer));\r\n                  //  Log.e(&quot;Socket res:&quot;,new String(tempBuffer));\r\n\r\n                    switch (responseCase)\r\n                    {\r\n                        case 1:/*Checks response until  &quot;\\n&quot; comes*/\r\n                            //readMessage1 = new StringBuilder();\r\n                            String read = new String(tempBuffer,0,size);\r\n                            for (int i = 0; i &lt; size; i++) {\r\n                                if (tempBuffer[i] == &#39;:&#39;) {\r\n                                    recieveData = true;\r\n                                    readMessage1.add(tempBuffer[i]);\r\n                                } else if (tempBuffer[i] == &#39;\\n&#39;) {\r\n                                    readMessage1.add(tempBuffer[i]);\r\n                                    byte[] tempByte = new byte[readMessage1.size()];\r\n                                    for (int j = 0; j &lt; readMessage1.size(); j++) {\r\n                                        tempByte[j] = readMessage1.get(j);\r\n                                    }\r\n                                    Log.e(&quot;BC1&quot;,readMessage1.toString());\r\n                                    readMessage1 = new ArrayList&lt;&gt;();\r\n\r\n                                    handler.obtainMessage(11,  tempByte).sendToTarget();\r\n                                    // CollectLogData(&quot; RX :&quot;+new String(tempByte));\r\n                                    recieveData = false;\r\n                                    tempBuffer = new byte[2048];\r\n                                } else {\r\n                                    if (recieveData) {\r\n                                        readMessage1.add(tempBuffer[i]);\r\n                                    }\r\n                                }\r\n\r\n\r\n                            }\r\n\r\n                            break;\r\n                        case 2:/*Checks response until  &quot;#&quot; comes*/\r\n                            String read2 = new String(tempBuffer);\r\n                            Log.e(&quot;BC2&quot;,read2);\r\n                            for(int i=0; i&lt;tempBuffer.length; i++)\r\n                            {\r\n                                switch (read2.charAt(i))\r\n                                {\r\n                                    case &#39;\\n&#39;:\r\n                                        readMessage2.append(read2.charAt(i));\r\n                                        tempBuffer = new byte[2048];\r\n                                        byte[] temp2 =readMessage2.toString().getBytes();\r\n\r\n                                        handler.obtainMessage(11, temp2).sendToTarget();\r\n                                        //Log.e(&quot;BC n :&quot;,readMessage2.toString());\r\n\r\n                                        readMessage2 = new StringBuilder();\r\n                                        break;\r\n\r\n\r\n\r\n                                    default:\r\n                                        readMessage2.append(read2.charAt(i));\r\n                                        break;\r\n                                }\r\n                            }\r\n                            break;\r\n\r\n                        case 3:\r\n                            try\r\n                            {\r\n                                Log.e(&quot;BC Res :&quot;,new String(tempBuffer));\r\n                                for(int i=0 ; i&lt;size ; i++)\r\n                                {\r\n                                    if(size&gt;=2 &amp;&amp; tempBuffer[i] == 4 &amp;&amp; tempBuffer[i-1]!=5)\r\n                                    {\r\n                                        readMessage3.add(tempBuffer[i]);\r\n                                        byte[] tempByte = new byte[readMessage3.size()];\r\n                                        for(int j=0;j&lt;readMessage3.size();j++)\r\n                                        {\r\n                                            tempByte[j] = readMessage3.get(j);\r\n                                        }\r\n                                        handler.obtainMessage(11, tempByte).sendToTarget();\r\n                                        Log.e(&quot;BC ResBytes STN:&quot;,new String(tempBuffer));\r\n                                        readMessage3.clear();\r\n                                        readMessage3 = new ArrayList&lt;&gt;();\r\n                                        tempBuffer = new byte[8094];\r\n                                    }\r\n                                    else {\r\n                                        readMessage3.add(tempBuffer[i]);\r\n                                    }\r\n                                }\r\n                            }\r\n                            catch (Exception e)\r\n                            {\r\n                                // CollectLogData(&quot; excp @ STN hanlder :&quot;+e.getMessage());\r\n\r\n                                e.printStackTrace();\r\n                            }\r\n                            break;\r\n                    }\r\n                }\r\n                catch (IOException e)\r\n                {\r\n                    minusOne=true;\r\n                    handler.obtainMessage(22, &quot;Socket Connection Lost!&quot;).sendToTarget();\r\n                    e.printStackTrace();\r\n                    break;\r\n                }\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n\r\n    public static void clearBuffer()\r\n    {\r\n        readMessage2 = new ArrayList&lt;&gt;();\r\n    }\r\n    public void Send(final byte[] bite)\r\n    {\r\n        final byte[] msg;\r\n        msg=bite;\r\n        Thread t =  new Thread(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                try\r\n                {\r\n                    socket.getOutputStream().write(msg);\r\n                    Log.e(&quot;BlueComm SENT &quot;,new String(msg));\r\n                }\r\n                catch (IOException e)\r\n                {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        });\r\n        t.start();\r\n    }\r\n\r\n    public void TerminateConnection()\r\n    {\r\n        if(socket.isConnected())\r\n        {\r\n            try {\r\n                socket.close();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n    public boolean CheckConnection()\r\n    {\r\n        /*Something made socket disconnected*/\r\n        return minusOne;\r\n    }\r\n\r\n}\r\n```\r\n\r\nwifi semaphore service is just calling a constructor and does not have anything related to response.\r\n","title":"Android not getting response from handler","body":"<p>I am developing an app to communicate with wifi and android and I am able to send but not able to receive any response because my response is not being called.</p>\n<p>So, the basic gist is that I am able to send data but not able to receive any response.</p>\n<p>Here's the code for more information :-</p>\n<p>Wifi terminal</p>\n<pre><code>public class wifi_terminal extends AppCompatActivity {\n\n    ListView logListView;\n    private static ChatAdapter adapter;\n    private ArrayList&lt;ChatMessage&gt; chatHistory;\n    Button sendButton;\n    EditText editText;\n\n    TCPConversation wifiCommn;\n    byte[] resbyts;\n    String response;\n    boolean aBoolean =false;\n    boolean isInDiagstate =false;\n    boolean stopLiveParams =false;\n\n    private Context context;\n    private final String TAG = &quot;WIFI Terminal Activity&quot;;\n    Timer timer;\n    WifiSemaphoreService wifiSemaphoreService;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_wifi_terminal);\n\n        init();\n\n    }\n\n    @Override\n    public void onBackPressed() {\n        super.onBackPressed();\n        finish();\n    }\n\n    private void init(){\n\n        context = wifi_terminal.this;\n        wifiSemaphoreService = new WifiSemaphoreService();\n        wifiCommn = Singletone.getTcpConversation();\n        wifiCommn.AssignHandler(mhandler);\n        TCPConversation.responseCase =1;\n\n        logListView= findViewById(R.id.loglistView);\n        logListView.setItemsCanFocus(true);\n        logListView.setTranscriptMode(ListView.TRANSCRIPT_MODE_ALWAYS_SCROLL);\n\n        loadDummyHistory();\n\n        sendButton = findViewById(R.id.sendTextid);\n        editText= findViewById(R.id.editTextid);\n\n        sendButton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                if(wifiCommn!=null &amp;&amp; !wifiCommn.CheckConnection())\n                {\n                    String  message=editText.getText().toString();\n\n\n                    if(!message.equals(&quot;&quot;))\n                    {\n                        message=message+&quot;\\r\\n&quot;;\n                        final String finalMessage = message;\n                        Thread thread = new Thread(new Runnable() {\n                            @Override\n                            public void run() {\n                                wifiCommn.responseCase =1;\n\n                                wifiCommn.Send(finalMessage.getBytes());\n                                final String finalMessage1 = finalMessage.replace(&quot;\\r\\n&quot;,&quot;&quot;);\n                                PrintConv( finalMessage1,true);\n                                runOnUiThread(new Runnable() {\n                                    @Override\n                                    public void run() {\n                                        editText.setText(&quot;&quot;);\n                                    }\n                                });\n                            }\n                        });\n                        thread.start();\n\n                    }\n                    else\n                    {\n                        Toast.makeText(context, &quot;Enter some command!&quot;, Toast.LENGTH_SHORT).show();\n                    }\n                }\n                else\n                {\n                    PrintConv( &quot;SOCKET CONN LOST&quot;,true);\n                    Toast.makeText(wifi_terminal.this, &quot;SOCKET CONN LOST&quot;, Toast.LENGTH_SHORT).show();\n                }\n            }\n        });\n\n\n    }\n\n\n    Handler mhandler = new Handler(new Handler.Callback()\n    {\n        @Override\n        public boolean handleMessage(Message message)\n        {\n            switch(message.what)\n            {\n                case 11:\n                    resbyts = (byte[]) message.obj;\n                    response= new String(resbyts);\n\n                    if(response.length()&gt;0){\n                        response = response.replace(&quot;\\r\\n&quot;,&quot;&quot;);\n                        aBoolean =true;\n                        PrintConv(response,false);\n                    }\n                    else{\n\n                        PrintConv(&quot;No Response&quot;,false);\n                    }\n\n\n\n                    break;\n\n                case 22:\n                    String responseString=(String) message.obj;\n                    if(wifiCommn!=null &amp;&amp; wifiCommn.CheckConnection())\n                    {\n                        wifiCommn.TerminateConnection();\n                        PrintConv(&quot;CONNECTION LOST&quot;,false);\n                    }\n                    Toast.makeText(context, responseString, Toast.LENGTH_SHORT).show();\n                    finish();\n\n                    break;\n            }\n            return true;\n        }\n    });\n\n    public void displayMessage(ChatMessage message)\n    {\n        adapter.add(message);\n        adapter.notifyDataSetChanged();\n        scroll();\n    }\n    private void scroll() { logListView.setSelection(logListView.getCount() - 1); }\n    private void loadDummyHistory()\n    {\n        chatHistory = new ArrayList&lt;&gt;();\n        ChatMessage msg = new ChatMessage();\n        msg.setId(1);\n        msg.setMe(false);\n        msg.setDate(DateFormat.getDateTimeInstance().format(new Date()));\n        chatHistory.add(msg);\n\n        adapter = new ChatAdapter(wifi_terminal.this, new ArrayList&lt;ChatMessage&gt;());\n        logListView.setAdapter(adapter);\n\n\n    }\n\n    public void PrintConv(final String msg, final boolean val)\n    {\n        runOnUiThread(new Runnable() {\n            @Override\n            public void run() {\n                ChatMessage chatMessage = new ChatMessage();\n                chatMessage.setId(11);//dummy\n                chatMessage.setMessage(msg);\n                chatMessage.setDate(DateFormat.getDateTimeInstance().format(new Date()));\n                chatMessage.setMe(val);\n                displayMessage(chatMessage);\n            }\n        });\n    }\n\n}```\n\n\nwifi communication :- \n\n\n</code></pre>\n<p>public class WifiComm {</p>\n<pre><code>private Socket socket;\nHandler handler;\nprivate boolean minusOne =false;\npublic static int responseCase;\nprivate int counter;\nprivate Timer timer;\nArrayList&lt;Integer&gt; arr_byte = new ArrayList&lt;Integer&gt;();\n\n\nstatic  ArrayList&lt;Byte&gt; readMessage2 = new ArrayList&lt;&gt;();\n\npublic WifiComm(Socket socket1)\n{\n    socket = socket1;\n\n    Receiving recievingThread = new Receiving(socket);\n    recievingThread.start();\n}\n\n\npublic  void AssignHandler(Handler mhandler)\n{\n    handler = mhandler;\n}\nstatic  byte[] tempBuffer = new byte[2048];\n\npublic class Receiving extends Thread\n{\n    private Receiving(Socket socket1) {\n        socket =socket1;\n    }\n\n    @Override\n    public void run()\n    {\n\n\n        boolean recieveData =false;\n        ArrayList&lt;Byte&gt;  readMessage1 =  new ArrayList&lt;&gt;();\n        StringBuilder readMessage2 = new StringBuilder();\n        ArrayList&lt;Byte&gt; readMessage3 = new ArrayList&lt;&gt;();\n        minusOne =false;\n        tempBuffer = new byte[2048];\n        while (true)\n        {\n\n            try {\n                int size=0;\n                size   = socket.getInputStream().read(tempBuffer);\n                //  Log.e(&quot;E&quot;,new String(tempBuffer));\n              //  Log.e(&quot;Socket res:&quot;,new String(tempBuffer));\n\n                switch (responseCase)\n                {\n                    case 1:/*Checks response until  &quot;\\n&quot; comes*/\n                        //readMessage1 = new StringBuilder();\n                        String read = new String(tempBuffer,0,size);\n                        for (int i = 0; i &lt; size; i++) {\n                            if (tempBuffer[i] == ':') {\n                                recieveData = true;\n                                readMessage1.add(tempBuffer[i]);\n                            } else if (tempBuffer[i] == '\\n') {\n                                readMessage1.add(tempBuffer[i]);\n                                byte[] tempByte = new byte[readMessage1.size()];\n                                for (int j = 0; j &lt; readMessage1.size(); j++) {\n                                    tempByte[j] = readMessage1.get(j);\n                                }\n                                Log.e(&quot;BC1&quot;,readMessage1.toString());\n                                readMessage1 = new ArrayList&lt;&gt;();\n\n                                handler.obtainMessage(11,  tempByte).sendToTarget();\n                                // CollectLogData(&quot; RX :&quot;+new String(tempByte));\n                                recieveData = false;\n                                tempBuffer = new byte[2048];\n                            } else {\n                                if (recieveData) {\n                                    readMessage1.add(tempBuffer[i]);\n                                }\n                            }\n\n\n                        }\n\n                        break;\n                    case 2:/*Checks response until  &quot;#&quot; comes*/\n                        String read2 = new String(tempBuffer);\n                        Log.e(&quot;BC2&quot;,read2);\n                        for(int i=0; i&lt;tempBuffer.length; i++)\n                        {\n                            switch (read2.charAt(i))\n                            {\n                                case '\\n':\n                                    readMessage2.append(read2.charAt(i));\n                                    tempBuffer = new byte[2048];\n                                    byte[] temp2 =readMessage2.toString().getBytes();\n\n                                    handler.obtainMessage(11, temp2).sendToTarget();\n                                    //Log.e(&quot;BC n :&quot;,readMessage2.toString());\n\n                                    readMessage2 = new StringBuilder();\n                                    break;\n\n\n\n                                default:\n                                    readMessage2.append(read2.charAt(i));\n                                    break;\n                            }\n                        }\n                        break;\n\n                    case 3:\n                        try\n                        {\n                            Log.e(&quot;BC Res :&quot;,new String(tempBuffer));\n                            for(int i=0 ; i&lt;size ; i++)\n                            {\n                                if(size&gt;=2 &amp;&amp; tempBuffer[i] == 4 &amp;&amp; tempBuffer[i-1]!=5)\n                                {\n                                    readMessage3.add(tempBuffer[i]);\n                                    byte[] tempByte = new byte[readMessage3.size()];\n                                    for(int j=0;j&lt;readMessage3.size();j++)\n                                    {\n                                        tempByte[j] = readMessage3.get(j);\n                                    }\n                                    handler.obtainMessage(11, tempByte).sendToTarget();\n                                    Log.e(&quot;BC ResBytes STN:&quot;,new String(tempBuffer));\n                                    readMessage3.clear();\n                                    readMessage3 = new ArrayList&lt;&gt;();\n                                    tempBuffer = new byte[8094];\n                                }\n                                else {\n                                    readMessage3.add(tempBuffer[i]);\n                                }\n                            }\n                        }\n                        catch (Exception e)\n                        {\n                            // CollectLogData(&quot; excp @ STN hanlder :&quot;+e.getMessage());\n\n                            e.printStackTrace();\n                        }\n                        break;\n                }\n            }\n            catch (IOException e)\n            {\n                minusOne=true;\n                handler.obtainMessage(22, &quot;Socket Connection Lost!&quot;).sendToTarget();\n                e.printStackTrace();\n                break;\n            }\n        }\n\n    }\n}\n\n\npublic static void clearBuffer()\n{\n    readMessage2 = new ArrayList&lt;&gt;();\n}\npublic void Send(final byte[] bite)\n{\n    final byte[] msg;\n    msg=bite;\n    Thread t =  new Thread(new Runnable() {\n        @Override\n        public void run() {\n            try\n            {\n                socket.getOutputStream().write(msg);\n                Log.e(&quot;BlueComm SENT &quot;,new String(msg));\n            }\n            catch (IOException e)\n            {\n                e.printStackTrace();\n            }\n        }\n    });\n    t.start();\n}\n\npublic void TerminateConnection()\n{\n    if(socket.isConnected())\n    {\n        try {\n            socket.close();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\npublic boolean CheckConnection()\n{\n    /*Something made socket disconnected*/\n    return minusOne;\n}\n</code></pre>\n<p>}</p>\n<pre><code>\nwifi semaphore service is just calling a constructor and does not have anything related to response.\n</code></pre>\n"},{"tags":["java","android-studio","unit-testing","kotlin"],"answers":[{"tags":[],"owner":{"account_id":10335418,"reputation":145,"user_id":7623715,"display_name":"Ahmed Gabr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666591647,"creation_date":1666591647,"answer_id":74177173,"question_id":73288956,"body_markdown":" 1. Update gradle &amp; android gradle plugins\r\n 2. Update all dependencies plugins ( I prefer to delete gradle variables and use dependencies with direct version number to avoid conflict )\r\nlike this\r\n\r\n&gt; implementation &quot;org.jetbrains.kotlinx:kotlinx-coroutines-android:1.6.1&quot;\r\n\r\n 3. Update kotolin version\r\n\r\n 4. update target sdk to 33\r\n\r\n 5. Add exported = &quot;true&quot; to the MainActivity tag in the manifest\r\n\r\n          &lt;activity\r\n            android:name=&quot;com.example.android.architecture.blueprints.todoapp.tasks.TasksActivity&quot;\r\n            android:windowSoftInputMode=&quot;adjustResize&quot;\r\n            android:exported=&quot;true&quot;\r\n            android:theme=&quot;@style/AppTheme.OverlapSystemBar&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n\r\n\r\n","title":"How to make &quot;Choose Destination Directory&quot; dialog appear after &quot;Create Test&quot; in Android Studio","body":"<ol>\n<li>Update gradle &amp; android gradle plugins</li>\n<li>Update all dependencies plugins ( I prefer to delete gradle variables and use dependencies with direct version number to avoid conflict )\nlike this</li>\n</ol>\n<blockquote>\n<p>implementation &quot;org.jetbrains.kotlinx:kotlinx-coroutines-android:1.6.1&quot;</p>\n</blockquote>\n<ol start=\"3\">\n<li><p>Update kotolin version</p>\n</li>\n<li><p>update target sdk to 33</p>\n</li>\n<li><p>Add exported = &quot;true&quot; to the MainActivity tag in the manifest</p>\n<pre><code>  &lt;activity\n    android:name=&quot;com.example.android.architecture.blueprints.todoapp.tasks.TasksActivity&quot;\n    android:windowSoftInputMode=&quot;adjustResize&quot;\n    android:exported=&quot;true&quot;\n    android:theme=&quot;@style/AppTheme.OverlapSystemBar&quot;&gt;\n    &lt;intent-filter&gt;\n        &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n        &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n    &lt;/intent-filter&gt;\n&lt;/activity&gt;\n</code></pre>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":25236240,"reputation":1,"user_id":19070706,"display_name":"Mahmoud Elkashef"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678307277,"creation_date":1678307277,"answer_id":75677914,"question_id":73288956,"body_markdown":"1- Open file &gt; project structure \r\n\r\n- update Android gradle plugin version to **4.2.2**\r\n- update gradle version to **6.7.1**\r\n\r\n\r\n\r\n\r\n2- When you create a test and the dialog appears to you then\r\nedit the destination package to the root package of the project \r\nfor example, you will find the default package like this\r\n**com.example.android.architecture.blueprints.todoapp.statistics**\r\nremove **.statistics**\r\nmake your destination package like this\r\n**com.example.android.architecture.blueprints.todoapp**","title":"How to make &quot;Choose Destination Directory&quot; dialog appear after &quot;Create Test&quot; in Android Studio","body":"<p>1- Open file &gt; project structure</p>\n<ul>\n<li>update Android gradle plugin version to <strong>4.2.2</strong></li>\n<li>update gradle version to <strong>6.7.1</strong></li>\n</ul>\n<p>2- When you create a test and the dialog appears to you then\nedit the destination package to the root package of the project\nfor example, you will find the default package like this\n<strong>com.example.android.architecture.blueprints.todoapp.statistics</strong>\nremove <strong>.statistics</strong>\nmake your destination package like this\n<strong>com.example.android.architecture.blueprints.todoapp</strong></p>\n"}],"owner":{"account_id":25608216,"reputation":31,"user_id":19382007,"display_name":"Steven Shih"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":465,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1678307277,"creation_date":1660034787,"question_id":73288956,"body_markdown":"I am studying unit-testing from Google codelab.\r\n\r\nhttps://developer.android.com/codelabs/advanced-android-kotlin-training-testing-basics#5\r\n\r\nThere is one step to choose the folder in AndroidTest/Test destination dialog\r\n[enter image description here][1]\r\n\r\nBut my Android Studio doesn&#39;t show this dialog so I need to drag my file into test package everytime.\r\n\r\nHow to set the Android Studio to let this dialog open? \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/gk7TF.png","title":"How to make &quot;Choose Destination Directory&quot; dialog appear after &quot;Create Test&quot; in Android Studio","body":"<p>I am studying unit-testing from Google codelab.</p>\n<p><a href=\"https://developer.android.com/codelabs/advanced-android-kotlin-training-testing-basics#5\" rel=\"nofollow noreferrer\">https://developer.android.com/codelabs/advanced-android-kotlin-training-testing-basics#5</a></p>\n<p>There is one step to choose the folder in AndroidTest/Test destination dialog\n<a href=\"https://i.stack.imgur.com/gk7TF.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>But my Android Studio doesn't show this dialog so I need to drag my file into test package everytime.</p>\n<p>How to set the Android Studio to let this dialog open?</p>\n"},{"tags":["java","arrays","class","nullpointerexception","frequency"],"answers":[{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678304774,"creation_date":1678304774,"answer_id":75677552,"question_id":75676861,"body_markdown":"You are only populating the first 10 elements but reading the first 101 elements. arr.length is 101 because arr = new Count[101].\r\n\r\nYour read loop, like the write loop, needs to stop at i &lt; 10","title":"What may be the problem for finding frequency of elements in array through class leading to NULL Pointer Exception?","body":"<p>You are only populating the first 10 elements but reading the first 101 elements. arr.length is 101 because arr = new Count[101].</p>\n<p>Your read loop, like the write loop, needs to stop at i &lt; 10</p>\n"},{"tags":[],"owner":{"account_id":9235242,"reputation":1488,"user_id":6860078,"display_name":"tbatch"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678307074,"creation_date":1678307074,"answer_id":75677885,"question_id":75676861,"body_markdown":"`arr[i].count` is attempting to access a field called `count` in the object at the array index of `i`.  You&#39;ve initialized the array, but it is empty.  You can check this with a simple print of the `array[0]`, which will return null.\r\n\r\nTo fix this, initialize the element of the array before you try to access it.\r\n```java\r\nfor (int i = 0 ; i &lt; 10 ; i++){\r\n  int value = lta.nextInt();\r\n  arr[value] = new Count();\r\n  arr[value].count += 1;\r\n}\r\n```\r\n\r\nNote however, that this will break the next loop. This is because you only initialize 10 indices in the array, but attempt to access all 102 of them.\r\n\r\nGenerally it&#39;s a bad programming practice to initialize a, array larger than what you need.  If you plan to only allow 10 values to be input, than initialize your array to 10.  Then use the length of the array in both loops.","title":"What may be the problem for finding frequency of elements in array through class leading to NULL Pointer Exception?","body":"<p><code>arr[i].count</code> is attempting to access a field called <code>count</code> in the object at the array index of <code>i</code>.  You've initialized the array, but it is empty.  You can check this with a simple print of the <code>array[0]</code>, which will return null.</p>\n<p>To fix this, initialize the element of the array before you try to access it.</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (int i = 0 ; i &lt; 10 ; i++){\n  int value = lta.nextInt();\n  arr[value] = new Count();\n  arr[value].count += 1;\n}\n</code></pre>\n<p>Note however, that this will break the next loop. This is because you only initialize 10 indices in the array, but attempt to access all 102 of them.</p>\n<p>Generally it's a bad programming practice to initialize a, array larger than what you need.  If you plan to only allow 10 values to be input, than initialize your array to 10.  Then use the length of the array in both loops.</p>\n"}],"owner":{"account_id":25654258,"reputation":106,"user_id":19420986,"display_name":"Samik Pandit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75677552,"answer_count":2,"score":0,"last_activity_date":1678307074,"creation_date":1678300017,"question_id":75676861,"body_markdown":"This code finds the frequency of elements in the array. But it is showing cannot read field because array is null. \r\n\r\n## Code\r\n```\r\nimport java.util.*;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        Scanner lta = new Scanner(System.in);\r\n        Count[] arr = new Count[101];\r\n        System.out.println(&quot;Enter the elements :&quot;);\r\n        for (int i = 0;i &lt; 10;i++){\r\n            int value = lta.nextInt();\r\n            arr[value].count += 1;\r\n        }\r\n        System.out.println(&quot;Frequency of the elements in the array :&quot;);\r\n        for (int i = 1;i &lt; arr.length;i++){\r\n            if (arr[i].count &gt; 0){\r\n                System.out.print(i + &quot; : &quot; + arr[i].count);\r\n                System.out.println();\r\n            }\r\n        }\r\n    }\r\n    static class Count{\r\n        long value;\r\n        long count;\r\n    }\r\n}\r\n\r\n\r\n```\r\n\r\n\r\n### Error \r\n```\r\nException in thread &quot;main&quot; java.lang.NullPointerException: Cannot read field &quot;count&quot; because &quot;arr[value]&quot; is null\r\n```\r\n\r\nIs there any solution for this program to run without any error or what is the reason behind termination of the JAVA program.","title":"What may be the problem for finding frequency of elements in array through class leading to NULL Pointer Exception?","body":"<p>This code finds the frequency of elements in the array. But it is showing cannot read field because array is null.</p>\n<h2>Code</h2>\n<pre><code>import java.util.*;\n\npublic class Main {\n    public static void main(String[] args) {\n        Scanner lta = new Scanner(System.in);\n        Count[] arr = new Count[101];\n        System.out.println(&quot;Enter the elements :&quot;);\n        for (int i = 0;i &lt; 10;i++){\n            int value = lta.nextInt();\n            arr[value].count += 1;\n        }\n        System.out.println(&quot;Frequency of the elements in the array :&quot;);\n        for (int i = 1;i &lt; arr.length;i++){\n            if (arr[i].count &gt; 0){\n                System.out.print(i + &quot; : &quot; + arr[i].count);\n                System.out.println();\n            }\n        }\n    }\n    static class Count{\n        long value;\n        long count;\n    }\n}\n\n\n</code></pre>\n<h3>Error</h3>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NullPointerException: Cannot read field &quot;count&quot; because &quot;arr[value]&quot; is null\n</code></pre>\n<p>Is there any solution for this program to run without any error or what is the reason behind termination of the JAVA program.</p>\n"},{"tags":["java","datetime","java-time"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1678306859,"post_id":75676482,"comment_id":133509221,"body_markdown":"I suspect you would need to write your own class that implements the `Temporal` interface with your needed behavior. [OpenJDK](https://en.wikipedia.org/wiki/OpenJDK) provides open source code for you to peruse, if you follow the terms of their license.  … (continued)","body":"I suspect you would need to write your own class that implements the <code>Temporal</code> interface with your needed behavior. <a href=\"https://en.wikipedia.org/wiki/OpenJDK\" rel=\"nofollow noreferrer\">OpenJDK</a> provides open source code for you to peruse, if you follow the terms of their license.  … (continued)"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":2,"creation_date":1678307082,"post_id":75676482,"comment_id":133509282,"body_markdown":"(continued) … But that may be overkill. Personally, I would just write some handlers or wrappers that make liberal use of [`truncatedTo( ChronoUnit.MINUTES )`](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/time/LocalTime.html#truncatedTo(java.time.temporal.TemporalUnit)). To detect faulty input, just compare the time value before and after truncation —&#160;if different, you received unexpected input, so throw exception.","body":"(continued) … But that may be overkill. Personally, I would just write some handlers or wrappers that make liberal use of <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/time/LocalTime.html#truncatedTo(java.time.temporal.TemporalUnit)\" rel=\"nofollow noreferrer\"><code>truncatedTo( ChronoUnit.MINUTES )</code></a>. To detect faulty input, just compare the time value before and after truncation — if different, you received unexpected input, so throw exception."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":3,"creation_date":1678307289,"post_id":75676482,"comment_id":133509320,"body_markdown":"Regarding your mention &quot;patterns explicitly support missing components&quot;… Yes *formatting patterns* support missing components. But the date-time classes, the `Temporal` Implementations such as `LocalTime`, do *not* support missing components. The gap is bridged by supplying default values such as zero for minutes, seconds, and fractional second.","body":"Regarding your mention &quot;patterns explicitly support missing components&quot;… Yes <i>formatting patterns</i> support missing components. But the date-time classes, the <code>Temporal</code> Implementations such as <code>LocalTime</code>, do <i>not</i> support missing components. The gap is bridged by supplying default values such as zero for minutes, seconds, and fractional second."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1678316526,"post_id":75676482,"comment_id":133511312,"body_markdown":"`parse()` does resolution as your docs say and in this case resolves both date and time of day, which in turn implies seconds. Use `parseUnresolved()` instead. Then you get `seconds supported: false` and consequently `java.time.temporal.UnsupportedTemporalTypeException: Unsupported field: SecondOfMinute`. Downside is it may also accept invalid dates and times. And if you can, avoid using `TemporalAccessor` at all. What do you want this for?","body":"<code>parse()</code> does resolution as your docs say and in this case resolves both date and time of day, which in turn implies seconds. Use <code>parseUnresolved()</code> instead. Then you get <code>seconds supported: false</code> and consequently <code>java.time.temporal.UnsupportedTemporalTypeException: Unsupported field: SecondOfMinute</code>. Downside is it may also accept invalid dates and times. And if you can, avoid using <code>TemporalAccessor</code> at all. What do you want this for?"},{"owner":{"account_id":2184749,"reputation":717,"user_id":1933399,"accept_rate":29,"display_name":"The Shoe Shiner"},"score":1,"creation_date":1678377459,"post_id":75676482,"comment_id":133524423,"body_markdown":"@OleV.V. I need to be able to parse a varied set of strings like &quot;01MAY2022T06:03:22&quot; , &quot;NOV-17-2022T06:03&quot; an then standardize them all while *also* maintaining the missing fields. So those two strings should produce &quot;2022-05-01T06:03:22&quot; , &quot;2022-11-17T06:03&quot;. The input format would be a set of possible ones, but the output format needs to be consistent, aside from the missing fields. XML has a similar type called &quot;partialDateTime&quot; which allows for any lesser portions of the ISO datetime to be omitted. But the java datetimeformatter precludes this because it fills in the seconds as zero.","body":"@OleV.V. I need to be able to parse a varied set of strings like &quot;01MAY2022T06:03:22&quot; , &quot;NOV-17-2022T06:03&quot; an then standardize them all while <i>also</i> maintaining the missing fields. So those two strings should produce &quot;2022-05-01T06:03:22&quot; , &quot;2022-11-17T06:03&quot;. The input format would be a set of possible ones, but the output format needs to be consistent, aside from the missing fields. XML has a similar type called &quot;partialDateTime&quot; which allows for any lesser portions of the ISO datetime to be omitted. But the java datetimeformatter precludes this because it fills in the seconds as zero."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1678378523,"post_id":75676482,"comment_id":133524789,"body_markdown":"The way I understand that XML concept it’s for conveying some rough precision, so that 06:11:00.000 would mean that you have got something like millisecond precision whereas 06:11 alone means that you don’t know what the seconds are. Something like that? I’m afraid it gets really nasty if you also need to represent how many decimals are on the seconds.","body":"The way I understand that XML concept it’s for conveying some rough precision, so that 06:11:00.000 would mean that you have got something like millisecond precision whereas 06:11 alone means that you don’t know what the seconds are. Something like that? I’m afraid it gets really nasty if you also need to represent how many decimals are on the seconds."}],"owner":{"account_id":2184749,"reputation":717,"user_id":1933399,"accept_rate":29,"display_name":"The Shoe Shiner"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":248,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1678306689,"creation_date":1678297490,"question_id":75676482,"body_markdown":"I&#39;m trying to create a formatter that parses a string and creates a temporal that *does not have* the seconds field, such that formatting the Temporal Accessor will fail if seconds are required.\r\n\r\nI would expect the following code to fail on the last line, because the temporal accessor should not have a seconds field, and the second pattern requires one, but instead the output shows the seconds field is set to zero.\r\n\r\n   \r\n\r\n \r\n\r\n   \r\n\r\n     DateTimeFormatter partialDateTimeFormatter = new DateTimeFormatterBuilder()\r\n                \t\t\t\t.appendPattern(&quot;yyyy-MM-d&#39;T&#39;HH:mm&quot;)\r\n                \t\t\t\t.toFormatter();\r\n                \t\t\r\n        DateTimeFormatter fullDateTimeFormatter = new DateTimeFormatterBuilder()\r\n                \t\t\t\t.appendPattern(&quot;yyyy-MM-d&#39;T&#39;HH:mm:ss.SSS&quot;)\r\n                \t\t\t\t.toFormatter();\r\n                \t\t\r\n        TemporalAccessor ta = partialDateTimeFormatter.parse(&quot;2020-01-02T06:11&quot;);\r\n        \r\n        LOGGER.info(&quot;seconds supported: {}&quot;,ta.isSupported(ChronoField.SECOND_OF_MINUTE));\r\n        LOGGER.info(&quot;fullDateTimeFormatter: {}&quot;,fullDateTimeFormatter.format(ta));\r\n\r\nOutput:\r\n\r\n    12:44:02.561 [main] INFO MatcherTest - seconds supported: true    \r\n    12:39:44.370 [main] INFO MatcherTest - fullDateTimeFormatter: 2020-01-2T06:11:00.000\r\n\r\n\r\nI see in the docs here: https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html that &quot;A LocalTime is formed if there is at least an hour-of-day available. This involves providing default values for minute, second and fraction of second.&quot; Which is odd to me given that patterns explicitly support missing components. \r\n\r\nSo I guess my question is: *How can I override / prevent that default behavior?*\r\n","title":"Java 8 DateTimeFormatter fills in seconds field with zero when it should be missing","body":"<p>I'm trying to create a formatter that parses a string and creates a temporal that <em>does not have</em> the seconds field, such that formatting the Temporal Accessor will fail if seconds are required.</p>\n<p>I would expect the following code to fail on the last line, because the temporal accessor should not have a seconds field, and the second pattern requires one, but instead the output shows the seconds field is set to zero.</p>\n<pre><code> DateTimeFormatter partialDateTimeFormatter = new DateTimeFormatterBuilder()\n                            .appendPattern(&quot;yyyy-MM-d'T'HH:mm&quot;)\n                            .toFormatter();\n                    \n    DateTimeFormatter fullDateTimeFormatter = new DateTimeFormatterBuilder()\n                            .appendPattern(&quot;yyyy-MM-d'T'HH:mm:ss.SSS&quot;)\n                            .toFormatter();\n                    \n    TemporalAccessor ta = partialDateTimeFormatter.parse(&quot;2020-01-02T06:11&quot;);\n    \n    LOGGER.info(&quot;seconds supported: {}&quot;,ta.isSupported(ChronoField.SECOND_OF_MINUTE));\n    LOGGER.info(&quot;fullDateTimeFormatter: {}&quot;,fullDateTimeFormatter.format(ta));\n</code></pre>\n<p>Output:</p>\n<pre><code>12:44:02.561 [main] INFO MatcherTest - seconds supported: true    \n12:39:44.370 [main] INFO MatcherTest - fullDateTimeFormatter: 2020-01-2T06:11:00.000\n</code></pre>\n<p>I see in the docs here: <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html</a> that &quot;A LocalTime is formed if there is at least an hour-of-day available. This involves providing default values for minute, second and fraction of second.&quot; Which is odd to me given that patterns explicitly support missing components.</p>\n<p>So I guess my question is: <em>How can I override / prevent that default behavior?</em></p>\n"},{"tags":["java","timezone"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1676529000,"post_id":75468224,"comment_id":133155765,"body_markdown":"&quot;but when intregrated in web application ( JVM ) its KO.&quot; I have no idea what you mean by this.","body":"&quot;but when intregrated in web application ( JVM ) its KO.&quot; I have no idea what you mean by this."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1676531484,"post_id":75468224,"comment_id":133156242,"body_markdown":"I strongly recommend you don’t use `Calendar` and `TimeZone`. Those classes are poorly designed and long outdated. Instead use `ZoneId` from [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/).","body":"I strongly recommend you don’t use <code>Calendar</code> and <code>TimeZone</code>. Those classes are poorly designed and long outdated. Instead use <code>ZoneId</code> from <a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1676531655,"post_id":75468224,"comment_id":133156281,"body_markdown":"What do you need the server time zone for? And why are you ever changing the server time zone? Can you explain your problem better, because I don’t understand it? Am I correct in assuming that the server time zone and the user’s time zone may be different?","body":"What do you need the server time zone for? And why are you ever changing the server time zone? Can you explain your problem better, because I don’t understand it? Am I correct in assuming that the server time zone and the user’s time zone may be different?"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1676531727,"post_id":75468224,"comment_id":133156292,"body_markdown":"There probably is a way to determine the operating system time zone, and it probably is OS dependent. So search for how to do it with your server OS.","body":"There probably is a way to determine the operating system time zone, and it probably is OS dependent. So search for how to do it with your server OS."},{"owner":{"account_id":272463,"reputation":1152,"user_id":563560,"accept_rate":18,"display_name":"sshet"},"score":0,"creation_date":1678294941,"post_id":75468224,"comment_id":133506158,"body_markdown":"WHat i have done , i have used Javascript to fetch users timezone ( clock) and passed that to a ajax call that stores the TZ in session , and use this TZ to convert dates to desired timezone","body":"WHat i have done , i have used Javascript to fetch users timezone ( clock) and passed that to a ajax call that stores the TZ in session , and use this TZ to convert dates to desired timezone"}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1678305977,"creation_date":1676528820,"answer_id":75468572,"question_id":75468224,"body_markdown":"# java.time\r\n\r\nYou are using terrible date-time classes that were years ago supplanted by the modern *java.time* classes defined in JSR 310.\r\n\r\n## Avoid setting default time zone\r\n\r\nNo need to set the current default time zone of your JVM. Doing so is risky as you immediately affect all other code in all threads running in all apps in that JVM. And doing so is unreliable in that any code in any thread of any app in that JVM can change the zone at any moment behind your back.\r\n\r\n## `Instant`\r\n\r\nCapture the current moment as seen in UTC (an offset from UTC of zero hours-minutes-seconds) using `Instant` class.\r\n\r\n```java\r\nInstant now = Instant.now();\r\nSystem.out.println( &quot;now = &quot; + now );\r\n```\r\n\r\n&gt;now.toString() = 2023-02-16T06:24:54.944850Z\r\n\r\n## `ZoneId`\r\n\r\nTime zones are represented by the [`ZoneId`][1] class. \r\n\r\nUse [real time zone names][2] in the format of `Continent/Region`, such as `Africa/Casablanca`, `Europe/Berlin`, `Pacific/Auckland`. Never use 2-4 character pseudo-zones such as `CST`, `IST`, etc. \r\n\r\n```java\r\nSet &lt; String &gt; zoneNames = ZoneId.getAvailableZoneIds();\r\nfor ( String zoneName : zoneNames )\r\n{\r\n    ZoneId z = ZoneId.of( zoneName );\r\n    ZonedDateTime zdt = now.atZone( z );\r\n    System.out.println( &quot;Now in zone &quot; + z + &quot; is &quot; + zdt.toString() );\r\n}\r\n```\r\n\r\n```none\r\nNow in zone Asia/Aden is 2023-02-16T09:24:54.944850+03:00[Asia/Aden]\r\nNow in zone America/Cuiaba is 2023-02-16T02:24:54.944850-04:00[America/Cuiaba]\r\n…\r\nNow in zone Pacific/Guadalcanal is 2023-02-16T17:24:54.944850+11:00[Pacific/Guadalcanal]\r\nNow in zone Europe/Athens is 2023-02-16T08:24:54.944850+02:00[Europe/Athens]\r\nNow in zone US/Pacific is 2023-02-15T22:24:54.944850-08:00[US/Pacific]\r\nNow in zone Europe/Monaco is 2023-02-16T07:24:54.944850+01:00[Europe/Monaco]\r\n```\r\n\r\n## Current moment as seen by user\r\n\r\nYou asked:\r\n\r\n&gt;need is to display date and time according to users local clock timezone\r\n\r\nCapture the [current default time zone of the JVM][3] at runtime.\r\n\r\n    ZoneId z = ZoneId.systemDefault() ;\r\n\r\nHowever, if critical, your app should confirm the user&#39;s intended time zone.\r\n\r\n[Adjust our `Instant` object to that zone][4]. Same moment, different wall-clock time.\r\n\r\n    ZonedDateTime zdt = instant.atZone( z ) ;\r\n\r\nOr skip over the `Instant` object to [get `ZonedDateTime` directly][5].\r\n\r\n    ZonedDateTime zdt = ZonedDateTime.now( z ) ;\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/time/ZoneId.html\r\n  [2]: https://en.wikipedia.org/wiki/List_of_tz_database_time_zones\r\n  [3]: https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/time/ZoneId.html#systemDefault()\r\n  [4]: https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/time/Instant.html#atZone(java.time.ZoneId)\r\n  [5]: https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/time/ZonedDateTime.html#now(java.time.ZoneId)","title":"Java 11 , get timezone of users local machine","body":"<h1>java.time</h1>\n<p>You are using terrible date-time classes that were years ago supplanted by the modern <em>java.time</em> classes defined in JSR 310.</p>\n<h2>Avoid setting default time zone</h2>\n<p>No need to set the current default time zone of your JVM. Doing so is risky as you immediately affect all other code in all threads running in all apps in that JVM. And doing so is unreliable in that any code in any thread of any app in that JVM can change the zone at any moment behind your back.</p>\n<h2><code>Instant</code></h2>\n<p>Capture the current moment as seen in UTC (an offset from UTC of zero hours-minutes-seconds) using <code>Instant</code> class.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Instant now = Instant.now();\nSystem.out.println( &quot;now = &quot; + now );\n</code></pre>\n<blockquote>\n<p>now.toString() = 2023-02-16T06:24:54.944850Z</p>\n</blockquote>\n<h2><code>ZoneId</code></h2>\n<p>Time zones are represented by the <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/time/ZoneId.html\" rel=\"nofollow noreferrer\"><code>ZoneId</code></a> class.</p>\n<p>Use <a href=\"https://en.wikipedia.org/wiki/List_of_tz_database_time_zones\" rel=\"nofollow noreferrer\">real time zone names</a> in the format of <code>Continent/Region</code>, such as <code>Africa/Casablanca</code>, <code>Europe/Berlin</code>, <code>Pacific/Auckland</code>. Never use 2-4 character pseudo-zones such as <code>CST</code>, <code>IST</code>, etc.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Set &lt; String &gt; zoneNames = ZoneId.getAvailableZoneIds();\nfor ( String zoneName : zoneNames )\n{\n    ZoneId z = ZoneId.of( zoneName );\n    ZonedDateTime zdt = now.atZone( z );\n    System.out.println( &quot;Now in zone &quot; + z + &quot; is &quot; + zdt.toString() );\n}\n</code></pre>\n<pre class=\"lang-none prettyprint-override\"><code>Now in zone Asia/Aden is 2023-02-16T09:24:54.944850+03:00[Asia/Aden]\nNow in zone America/Cuiaba is 2023-02-16T02:24:54.944850-04:00[America/Cuiaba]\n…\nNow in zone Pacific/Guadalcanal is 2023-02-16T17:24:54.944850+11:00[Pacific/Guadalcanal]\nNow in zone Europe/Athens is 2023-02-16T08:24:54.944850+02:00[Europe/Athens]\nNow in zone US/Pacific is 2023-02-15T22:24:54.944850-08:00[US/Pacific]\nNow in zone Europe/Monaco is 2023-02-16T07:24:54.944850+01:00[Europe/Monaco]\n</code></pre>\n<h2>Current moment as seen by user</h2>\n<p>You asked:</p>\n<blockquote>\n<p>need is to display date and time according to users local clock timezone</p>\n</blockquote>\n<p>Capture the <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/time/ZoneId.html#systemDefault()\" rel=\"nofollow noreferrer\">current default time zone of the JVM</a> at runtime.</p>\n<pre><code>ZoneId z = ZoneId.systemDefault() ;\n</code></pre>\n<p>However, if critical, your app should confirm the user's intended time zone.</p>\n<p><a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/time/Instant.html#atZone(java.time.ZoneId)\" rel=\"nofollow noreferrer\">Adjust our <code>Instant</code> object to that zone</a>. Same moment, different wall-clock time.</p>\n<pre><code>ZonedDateTime zdt = instant.atZone( z ) ;\n</code></pre>\n<p>Or skip over the <code>Instant</code> object to <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/time/ZonedDateTime.html#now(java.time.ZoneId)\" rel=\"nofollow noreferrer\">get <code>ZonedDateTime</code> directly</a>.</p>\n<pre><code>ZonedDateTime zdt = ZonedDateTime.now( z ) ;\n</code></pre>\n"}],"owner":{"account_id":272463,"reputation":1152,"user_id":563560,"accept_rate":18,"display_name":"sshet"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":276,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75468572,"answer_count":1,"score":0,"last_activity_date":1678305977,"creation_date":1676525780,"question_id":75468224,"body_markdown":"We are developing applications where dates are stored in GMT , and need is to display date and time according to users local clock timezone \r\n\r\nJava 11 , when i change timezone , its requires JVM restart so its taking old timezone of during start of server.\r\n\r\nIs there any ways to determine timezone of machine ( OS) without restarting JVM?\r\n\r\nCode\r\n \r\n\r\n    Calendar cal = Calendar.getInstance();\r\n            System.out.println(&quot; -- &quot; + TimeZone.getDefault());\r\n            long milliDiff = cal.get(Calendar.ZONE_OFFSET);\r\n            // Got local offset, now loop through available timezone id(s).\r\n            String[] ids = TimeZone.getAvailableIDs();\r\n            String name = null;\r\n            for (String id : ids) {\r\n                System.out.println(&quot;ID  : &quot; + id);\r\n                TimeZone tz = TimeZone.getTimeZone(id);\r\n                System.out.println(&quot;TZ : &quot; + tz.getRawOffset());\r\n                if (tz.getRawOffset() == milliDiff) {\r\n                    // Found a match.\r\n                    name = id;\r\n                    break;\r\n                }\r\n            }\r\n            System.out.println(&quot;Name &quot; + name);\r\n\r\nAbove code works OK as standalone, but when intregrated in web application ( JVM ) its KO.","title":"Java 11 , get timezone of users local machine","body":"<p>We are developing applications where dates are stored in GMT , and need is to display date and time according to users local clock timezone</p>\n<p>Java 11 , when i change timezone , its requires JVM restart so its taking old timezone of during start of server.</p>\n<p>Is there any ways to determine timezone of machine ( OS) without restarting JVM?</p>\n<p>Code</p>\n<pre><code>Calendar cal = Calendar.getInstance();\n        System.out.println(&quot; -- &quot; + TimeZone.getDefault());\n        long milliDiff = cal.get(Calendar.ZONE_OFFSET);\n        // Got local offset, now loop through available timezone id(s).\n        String[] ids = TimeZone.getAvailableIDs();\n        String name = null;\n        for (String id : ids) {\n            System.out.println(&quot;ID  : &quot; + id);\n            TimeZone tz = TimeZone.getTimeZone(id);\n            System.out.println(&quot;TZ : &quot; + tz.getRawOffset());\n            if (tz.getRawOffset() == milliDiff) {\n                // Found a match.\n                name = id;\n                break;\n            }\n        }\n        System.out.println(&quot;Name &quot; + name);\n</code></pre>\n<p>Above code works OK as standalone, but when intregrated in web application ( JVM ) its KO.</p>\n"},{"tags":["java","filter","lambda","java-8","java-stream"],"comments":[{"owner":{"account_id":1327194,"reputation":1809,"user_id":1271785,"accept_rate":67,"display_name":"pfurbacher"},"score":0,"creation_date":1678323655,"post_id":75677695,"comment_id":133512170,"body_markdown":"I don&#39;t think you should be filtering anything if I understand that if a student appears in `schoolModelInfoList` (find by `studentCd`) , fill in the `schoolInfo` for that student in `studentDataInfos` with the modelInfo data. I would approach it by streaming the schoolModelInfoList, and lookup each studentCd in the `studentDataInfos` object. If found, fill in the data. You didn&#39;t provide the Java objects that you have mapped your JSON snippets to, so it&#39;s impossible to advise further.","body":"I don&#39;t think you should be filtering anything if I understand that if a student appears in <code>schoolModelInfoList</code> (find by <code>studentCd</code>) , fill in the <code>schoolInfo</code> for that student in <code>studentDataInfos</code> with the modelInfo data. I would approach it by streaming the schoolModelInfoList, and lookup each studentCd in the <code>studentDataInfos</code> object. If found, fill in the data. You didn&#39;t provide the Java objects that you have mapped your JSON snippets to, so it&#39;s impossible to advise further."}],"owner":{"account_id":27930939,"reputation":11,"user_id":21328971,"display_name":"Sam"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1678305935,"creation_date":1678305670,"question_id":75677695,"body_markdown":"I have two JSON objects and want to do validation on studentCd value between both then retrieve the respective output using java 8 features. I have tried multiple times but Im getting\r\n**bad return type in lambda expression**\r\n\r\n# 1st JSON object\r\n\r\n    &quot;studentDataInfos&quot;: [\r\n       {\r\n          &quot;classCd&quot;:&quot;AD&quot;,\r\n          &quot;studentAtSchoolInfos&quot;:[\r\n             {\r\n                &quot;studentCd&quot;:&quot;AA&quot;,\r\n                &quot;schoolInfo&quot;:{\r\n                \r\n                }\r\n             },\r\n             {\r\n                &quot;studentCd&quot;:&quot;AK&quot;,\r\n                &quot;schoolInfo&quot;:{\r\n                \r\n                }\r\n             }\r\n          ]\r\n       },\r\n       {\r\n          &quot;classCd&quot;:&quot;KD&quot;,\r\n          &quot;studentAtSchoolInfos&quot;:[\r\n             {\r\n                &quot;studentCd&quot;:&quot;BI&quot;,\r\n                &quot;schoolInfo&quot;:{\r\n                \r\n                }\r\n             },\r\n             {\r\n                &quot;studentCd&quot;:&quot;KK&quot;,\r\n                &quot;schoolInfo&quot;:{\r\n                \r\n                }\r\n             }\r\n          ]\r\n       }\r\n    ]\r\n\r\n\r\n# 2nd Object \r\n\r\n    {\r\n    &quot;schoolModelInfoList&quot; :[\r\n       {\r\n          &quot;classCd&quot;:&quot;AR&quot;,\r\n          &quot;studentCd&quot;:&quot;AA&quot;,\r\n          &quot;heldOutsdSchlInd&quot;:&quot;N&quot;,\r\n          &quot;heldOutsdSchlDa&quot;:&quot;NULL&quot;,\r\n          &quot;schlDeclinedInd&quot;:&quot;N&quot;,\r\n          &quot;schlDeclinedDa&quot;:&quot;NULL&quot;,\r\n          &quot;schlDiscussdedInd&quot;:&quot;Y&quot;,\r\n          &quot;schlDiscussdedDa&quot;:&quot;2023-01-10&quot;\r\n       },\r\n       {\r\n          &quot;classCd&quot;:&quot;BR&quot;,\r\n          &quot;studentCd&quot;:&quot;KK&quot;,\r\n          &quot;heldOutsdSchlInd&quot;:&quot;Y&quot;,\r\n          &quot;heldOutsdSchlDa&quot;:&quot;2019-03-29&quot;,\r\n          &quot;schlDeclinedInd&quot;:&quot;N&quot;,\r\n          &quot;schlDeclinedDa&quot;:&quot;NULL&quot;,\r\n          &quot;schlDiscussdedInd&quot;:&quot;Y&quot;,\r\n          &quot;schlDiscussdedDa&quot;:&quot;2020-02-11&quot;\r\n       }\r\n    ]\r\n    }\r\n\r\nHere I want to validation 2nd object against first then set the dates and Indicator values to 1st object based in studentCd field values matches.\r\n\r\n\r\n\r\n\r\nI have tried below streams and filters but didn&#39;t work for me.\r\n\r\n        studentDataInfos.stream().filter(studentDataInfo -&gt;\r\n    studentDataInfo.studentAtSchoolInfos().stream().filter(\r\n    studentAtSchoolInfo -&gt; !studentAtSchoolInfo.getSchoolInfo().toString().isEmpty())\r\n                      .filter(schoolInfo -&gt; schoolModelInfoList.stream().\r\n                         anyMatch(schoolModelInfo -&gt; schoolModelInfo.getStudentCd().equals(schoolInfo.getStudentCd()))).collect(Collectors.toList());\r\n\r\n\r\nIm pretty much sure that above expression will have compilation errors or not in proper shape to get expected the output :) \r\n\r\n\r\n**Expected JSON output after using Java 8 filters and streams**\r\n\r\nHere 2nd object studentCd value matches with only 2 places in 1st object i.e. studentCd: AA and studentCd : KK\r\n\r\nBelow should be  the response body after streams and filters.\r\n\r\n\r\n    &quot;studentDataInfos&quot;: [\r\n       {\r\n          &quot;classCd&quot;:&quot;AD&quot;,\r\n          &quot;studentAtSchoolInfos&quot;:[\r\n             {\r\n                &quot;studentCd&quot;:&quot;AA&quot;,\r\n                &quot;schoolInfo&quot;:{\r\n                    &quot;heldOutsdSchlInd&quot;:&quot;N&quot;,\r\n                    &quot;heldOutsdSchlDa&quot;:&quot;NULL&quot;,\r\n                    &quot;schlDeclinedInd&quot;:&quot;N&quot;,\r\n                    &quot;schlDeclinedDa&quot;:&quot;NULL&quot;,\r\n                    &quot;schlDiscussdedInd&quot;:&quot;Y&quot;,\r\n                    &quot;schlDiscussdedDa&quot;:&quot;2023-01-10&quot;\r\n                }\r\n             },\r\n             {\r\n                &quot;studentCd&quot;:&quot;AK&quot;,\r\n                &quot;schoolInfo&quot;:{\r\n                \r\n                }\r\n             }\r\n          ]\r\n       },\r\n       {\r\n          &quot;classCd&quot;:&quot;KD&quot;,\r\n          &quot;studentAtSchoolInfos&quot;:[\r\n             {\r\n                &quot;studentCd&quot;:&quot;BI&quot;,\r\n                &quot;schoolInfo&quot;:{\r\n                \r\n                }\r\n             },\r\n             {\r\n                &quot;studentCd&quot;:&quot;KK&quot;,\r\n                &quot;schoolInfo&quot;:{\r\n                    &quot;heldOutsdSchlInd&quot;:&quot;Y&quot;,\r\n                    &quot;heldOutsdSchlDa&quot;:&quot;2019-03-29&quot;,\r\n                    &quot;schlDeclinedInd&quot;:&quot;N&quot;,\r\n                    &quot;schlDeclinedDa&quot;:&quot;NULL&quot;,\r\n                    &quot;schlDiscussdedInd&quot;:&quot;Y&quot;,\r\n                    &quot;schlDiscussdedDa&quot;:&quot;2020-02-11&quot;\r\n                }\r\n             }\r\n          ]\r\n       }\r\n    ]\r\n\r\n\r\nThank you advance &lt;3\r\n","title":"bad return type in lambda expression - Java Object Comparison using Java 8 features","body":"<p>I have two JSON objects and want to do validation on studentCd value between both then retrieve the respective output using java 8 features. I have tried multiple times but Im getting\n<strong>bad return type in lambda expression</strong></p>\n<h1>1st JSON object</h1>\n<pre><code>&quot;studentDataInfos&quot;: [\n   {\n      &quot;classCd&quot;:&quot;AD&quot;,\n      &quot;studentAtSchoolInfos&quot;:[\n         {\n            &quot;studentCd&quot;:&quot;AA&quot;,\n            &quot;schoolInfo&quot;:{\n            \n            }\n         },\n         {\n            &quot;studentCd&quot;:&quot;AK&quot;,\n            &quot;schoolInfo&quot;:{\n            \n            }\n         }\n      ]\n   },\n   {\n      &quot;classCd&quot;:&quot;KD&quot;,\n      &quot;studentAtSchoolInfos&quot;:[\n         {\n            &quot;studentCd&quot;:&quot;BI&quot;,\n            &quot;schoolInfo&quot;:{\n            \n            }\n         },\n         {\n            &quot;studentCd&quot;:&quot;KK&quot;,\n            &quot;schoolInfo&quot;:{\n            \n            }\n         }\n      ]\n   }\n]\n</code></pre>\n<h1>2nd Object</h1>\n<pre><code>{\n&quot;schoolModelInfoList&quot; :[\n   {\n      &quot;classCd&quot;:&quot;AR&quot;,\n      &quot;studentCd&quot;:&quot;AA&quot;,\n      &quot;heldOutsdSchlInd&quot;:&quot;N&quot;,\n      &quot;heldOutsdSchlDa&quot;:&quot;NULL&quot;,\n      &quot;schlDeclinedInd&quot;:&quot;N&quot;,\n      &quot;schlDeclinedDa&quot;:&quot;NULL&quot;,\n      &quot;schlDiscussdedInd&quot;:&quot;Y&quot;,\n      &quot;schlDiscussdedDa&quot;:&quot;2023-01-10&quot;\n   },\n   {\n      &quot;classCd&quot;:&quot;BR&quot;,\n      &quot;studentCd&quot;:&quot;KK&quot;,\n      &quot;heldOutsdSchlInd&quot;:&quot;Y&quot;,\n      &quot;heldOutsdSchlDa&quot;:&quot;2019-03-29&quot;,\n      &quot;schlDeclinedInd&quot;:&quot;N&quot;,\n      &quot;schlDeclinedDa&quot;:&quot;NULL&quot;,\n      &quot;schlDiscussdedInd&quot;:&quot;Y&quot;,\n      &quot;schlDiscussdedDa&quot;:&quot;2020-02-11&quot;\n   }\n]\n}\n</code></pre>\n<p>Here I want to validation 2nd object against first then set the dates and Indicator values to 1st object based in studentCd field values matches.</p>\n<p>I have tried below streams and filters but didn't work for me.</p>\n<pre><code>    studentDataInfos.stream().filter(studentDataInfo -&gt;\nstudentDataInfo.studentAtSchoolInfos().stream().filter(\nstudentAtSchoolInfo -&gt; !studentAtSchoolInfo.getSchoolInfo().toString().isEmpty())\n                  .filter(schoolInfo -&gt; schoolModelInfoList.stream().\n                     anyMatch(schoolModelInfo -&gt; schoolModelInfo.getStudentCd().equals(schoolInfo.getStudentCd()))).collect(Collectors.toList());\n</code></pre>\n<p>Im pretty much sure that above expression will have compilation errors or not in proper shape to get expected the output :)</p>\n<p><strong>Expected JSON output after using Java 8 filters and streams</strong></p>\n<p>Here 2nd object studentCd value matches with only 2 places in 1st object i.e. studentCd: AA and studentCd : KK</p>\n<p>Below should be  the response body after streams and filters.</p>\n<pre><code>&quot;studentDataInfos&quot;: [\n   {\n      &quot;classCd&quot;:&quot;AD&quot;,\n      &quot;studentAtSchoolInfos&quot;:[\n         {\n            &quot;studentCd&quot;:&quot;AA&quot;,\n            &quot;schoolInfo&quot;:{\n                &quot;heldOutsdSchlInd&quot;:&quot;N&quot;,\n                &quot;heldOutsdSchlDa&quot;:&quot;NULL&quot;,\n                &quot;schlDeclinedInd&quot;:&quot;N&quot;,\n                &quot;schlDeclinedDa&quot;:&quot;NULL&quot;,\n                &quot;schlDiscussdedInd&quot;:&quot;Y&quot;,\n                &quot;schlDiscussdedDa&quot;:&quot;2023-01-10&quot;\n            }\n         },\n         {\n            &quot;studentCd&quot;:&quot;AK&quot;,\n            &quot;schoolInfo&quot;:{\n            \n            }\n         }\n      ]\n   },\n   {\n      &quot;classCd&quot;:&quot;KD&quot;,\n      &quot;studentAtSchoolInfos&quot;:[\n         {\n            &quot;studentCd&quot;:&quot;BI&quot;,\n            &quot;schoolInfo&quot;:{\n            \n            }\n         },\n         {\n            &quot;studentCd&quot;:&quot;KK&quot;,\n            &quot;schoolInfo&quot;:{\n                &quot;heldOutsdSchlInd&quot;:&quot;Y&quot;,\n                &quot;heldOutsdSchlDa&quot;:&quot;2019-03-29&quot;,\n                &quot;schlDeclinedInd&quot;:&quot;N&quot;,\n                &quot;schlDeclinedDa&quot;:&quot;NULL&quot;,\n                &quot;schlDiscussdedInd&quot;:&quot;Y&quot;,\n                &quot;schlDiscussdedDa&quot;:&quot;2020-02-11&quot;\n            }\n         }\n      ]\n   }\n]\n</code></pre>\n<p>Thank you advance &lt;3</p>\n"},{"tags":["java","jmap","memory-footprint","jhat"],"owner":{"account_id":22768776,"reputation":87,"user_id":16926480,"display_name":"sr-01-01"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1678305934,"creation_date":1678305934,"question_id":75677742,"body_markdown":"I have a simple java class &quot;Tile&quot; that declares 4 fields : \r\n- two integers\r\n- two objects (pointers)\r\n\r\nI&#39;m trying to know what is the exact memory footprint of an instance of this class.\r\n\r\nUsing the `org.openjdk.jol.info.ClassLayout.parseInstance(obj)` method, I&#39;m getting this :\r\n\r\n```\r\n OFFSET  SIZE               TYPE DESCRIPTION                               VALUE\r\n      0     4               (object header)                           09 00 00 00 (00001001 00000000 00000000 00000000) (9)\r\n      4     4               (object header)                           00 00 00 00 (00000000 00000000 00000000 00000000) (0)\r\n      8     4               (object header)                           00 40 0b 01 (00000000 01000000 00001011 00000001) (17514496)\r\n     12     4                int   Tile.x                                    0\r\n     16     4                int   Tile.y                                    0\r\n     20     4                Board Tile.board                                (object)\r\n     24     4  java.util.ArrayList Tile.elements                             (object)\r\n     28     4                (loss due to the next object alignment)\r\nInstance size: 32 bytes\r\n```\r\n\r\nSo far so good, that seems to make sense.\r\n\r\nNow... I&#39;m also dumping the heap with jmap `jmap -dump:all,file=dump.dump  56311` and exploring it with jhat `jhat dump4.dump`.\r\n\r\nI&#39;m going under the Tile class, and there I read the following :\r\n\r\n```\r\nTile@0x7fbdf0da0 (40 bytes)\r\n```\r\n \r\nSo here it looks like that/jmap calculates 40 bytes instead of 32.\r\n\r\nAnd now I&#39;m going under the &quot;Heap Histogram&quot; feature, and I&#39;m getting the number of instances of each class, along with the &quot;Total Size&quot; :\r\n\r\n```\r\nclass Tile\t9\t216\r\n\r\n```\r\n\r\nThat means 24 bytes...\r\n\r\nSo... what should I believe ? 40 ? 32 ? 24 ? How to make sense of all this ?","title":"Java object memory footprint - what to believe ? jhat ? ClassLayout?","body":"<p>I have a simple java class &quot;Tile&quot; that declares 4 fields :</p>\n<ul>\n<li>two integers</li>\n<li>two objects (pointers)</li>\n</ul>\n<p>I'm trying to know what is the exact memory footprint of an instance of this class.</p>\n<p>Using the <code>org.openjdk.jol.info.ClassLayout.parseInstance(obj)</code> method, I'm getting this :</p>\n<pre><code> OFFSET  SIZE               TYPE DESCRIPTION                               VALUE\n      0     4               (object header)                           09 00 00 00 (00001001 00000000 00000000 00000000) (9)\n      4     4               (object header)                           00 00 00 00 (00000000 00000000 00000000 00000000) (0)\n      8     4               (object header)                           00 40 0b 01 (00000000 01000000 00001011 00000001) (17514496)\n     12     4                int   Tile.x                                    0\n     16     4                int   Tile.y                                    0\n     20     4                Board Tile.board                                (object)\n     24     4  java.util.ArrayList Tile.elements                             (object)\n     28     4                (loss due to the next object alignment)\nInstance size: 32 bytes\n</code></pre>\n<p>So far so good, that seems to make sense.</p>\n<p>Now... I'm also dumping the heap with jmap <code>jmap -dump:all,file=dump.dump  56311</code> and exploring it with jhat <code>jhat dump4.dump</code>.</p>\n<p>I'm going under the Tile class, and there I read the following :</p>\n<pre><code>Tile@0x7fbdf0da0 (40 bytes)\n</code></pre>\n<p>So here it looks like that/jmap calculates 40 bytes instead of 32.</p>\n<p>And now I'm going under the &quot;Heap Histogram&quot; feature, and I'm getting the number of instances of each class, along with the &quot;Total Size&quot; :</p>\n<pre><code>class Tile  9   216\n\n</code></pre>\n<p>That means 24 bytes...</p>\n<p>So... what should I believe ? 40 ? 32 ? 24 ? How to make sense of all this ?</p>\n"},{"tags":["java","string","unit-testing","junit"],"comments":[{"owner":{"account_id":1083854,"reputation":13775,"user_id":1080064,"accept_rate":43,"display_name":"tkausl"},"score":5,"creation_date":1678305476,"post_id":75677639,"comment_id":133508901,"body_markdown":"`equalsTest` always returns `true` as `number` is always `2`. The argument `boolean equals` is never used.","body":"<code>equalsTest</code> always returns <code>true</code> as <code>number</code> is always <code>2</code>. The argument <code>boolean equals</code> is never used."}],"answers":[{"tags":[],"owner":{"account_id":2876507,"reputation":786,"user_id":2468417,"display_name":"Viraj Shah"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678305931,"creation_date":1678305931,"answer_id":75677741,"question_id":75677639,"body_markdown":"You have many problems with your code.\r\n\r\n## 1) The `equals` parameter\r\n\r\nYour `JUnitTesting.equalsTest(boolean)` method does not use the argument provided. It seems like you are confusing variables and arguments. An argument should be used when passing input.\r\n\r\nYour class method should look like this:\r\n\r\n```java\r\npublic class JUnitTesting {\r\n    int number = 2;\r\n            \r\n    public boolean equalsTest(){\r\n        return number == 2;\r\n    }\r\n}\r\n```\r\n\r\n## 2) Unnecessary Scoping\r\n\r\nIt appears that you made a mistake and copied and pasted it:\r\n\r\n```java\r\nJUnitTesting equals = new JUnitTesting();{\r\n    assertTrue(equals.equalsTest(false));\r\n}\r\n```\r\n\r\nThis code scopes the assertion, when you did not intend to.\r\n\r\n## 3) You don&#39;t know what your code does\r\n\r\nIf you took the time to write your code correctly, or if you took time to read your own code, you would know that the result of `equalsTest`, in no way, relies on the input. Therefore, any unit testing you do will essentially be a useless test. This is because it returns the same thing every time.\r\n\r\nSo really, your unit tests are executing the following:\r\n\r\n1. `assertTrue(true)`\r\n2. `assertFalse(true)`\r\n\r\nBecause `true == true`, your first test **must pass**. And because `true != false`, your second test **must fail**.\r\n","title":"How does assertTrue and assertFalse work in Java?","body":"<p>You have many problems with your code.</p>\n<h2>1) The <code>equals</code> parameter</h2>\n<p>Your <code>JUnitTesting.equalsTest(boolean)</code> method does not use the argument provided. It seems like you are confusing variables and arguments. An argument should be used when passing input.</p>\n<p>Your class method should look like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class JUnitTesting {\n    int number = 2;\n            \n    public boolean equalsTest(){\n        return number == 2;\n    }\n}\n</code></pre>\n<h2>2) Unnecessary Scoping</h2>\n<p>It appears that you made a mistake and copied and pasted it:</p>\n<pre class=\"lang-java prettyprint-override\"><code>JUnitTesting equals = new JUnitTesting();{\n    assertTrue(equals.equalsTest(false));\n}\n</code></pre>\n<p>This code scopes the assertion, when you did not intend to.</p>\n<h2>3) You don't know what your code does</h2>\n<p>If you took the time to write your code correctly, or if you took time to read your own code, you would know that the result of <code>equalsTest</code>, in no way, relies on the input. Therefore, any unit testing you do will essentially be a useless test. This is because it returns the same thing every time.</p>\n<p>So really, your unit tests are executing the following:</p>\n<ol>\n<li><code>assertTrue(true)</code></li>\n<li><code>assertFalse(true)</code></li>\n</ol>\n<p>Because <code>true == true</code>, your first test <strong>must pass</strong>. And because <code>true != false</code>, your second test <strong>must fail</strong>.</p>\n"}],"owner":{"account_id":27948642,"reputation":1,"user_id":21343042,"display_name":"Nick Slack"},"comment_count":1,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":447,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"closed_date":1678394550,"accepted_answer_id":75677741,"answer_count":1,"score":-2,"last_activity_date":1678305931,"creation_date":1678305327,"question_id":75677639,"body_markdown":"I am trying to learn these and can not understand why it is not working, and the test itself is giving me no help in identifying what is wrong.\r\n\r\nI updated my code trying to \r\n\r\nHere is my class with the method:\r\n\r\n    package JUnit;\r\n    \r\n    public class JUnitTesting {\r\n    \r\n        int number = 2;\r\n        \t\t\r\n        \tpublic boolean equalsTest(boolean equals){\r\n        \t\tif(number == 2) {\r\n        \t\t\tequals = true;\r\n        \t\t}\r\n        \t\telse if(number != 2) {\r\n        \t\t\tequals = false;\r\n        \t\t}\r\n        \t\treturn equals;\r\n        \t}\r\n        }\r\n        \t\r\nHere is the test:\r\n\r\n    package JUnit;\r\n    \r\n    //Import in some functions\r\n    import static org.junit.Assert.assertFalse;\r\n    import static org.junit.Assert.assertTrue;\r\n    \r\n    import org.junit.Test;\r\n    \r\n    public class JUnitTest{\r\n    \t\r\n    @Test\r\n    \tpublic void equalsTest() {\r\n    \t\tJUnitTesting equals = new JUnitTesting();{\r\n    \t\t\tassertTrue(equals.equalsTest(false));\r\n    \t\t}\r\n    \t}\r\n    \r\n    @Test\r\n    public void equalsTestTwo() {\r\n    \tJUnitTesting equals = new JUnitTesting();{\r\n    \t\tassertFalse(equals.equalsTest(false));\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nThe first is passing the test when it should fail and I do not know why, and the second is failing when it should be passing. All it says is java.lang.AssertionError. Thanks in advance for any answers.","title":"How does assertTrue and assertFalse work in Java?","body":"<p>I am trying to learn these and can not understand why it is not working, and the test itself is giving me no help in identifying what is wrong.</p>\n<p>I updated my code trying to</p>\n<p>Here is my class with the method:</p>\n<pre><code>package JUnit;\n\npublic class JUnitTesting {\n\n    int number = 2;\n            \n        public boolean equalsTest(boolean equals){\n            if(number == 2) {\n                equals = true;\n            }\n            else if(number != 2) {\n                equals = false;\n            }\n            return equals;\n        }\n    }\n        \n</code></pre>\n<p>Here is the test:</p>\n<pre><code>package JUnit;\n\n//Import in some functions\nimport static org.junit.Assert.assertFalse;\nimport static org.junit.Assert.assertTrue;\n\nimport org.junit.Test;\n\npublic class JUnitTest{\n    \n@Test\n    public void equalsTest() {\n        JUnitTesting equals = new JUnitTesting();{\n            assertTrue(equals.equalsTest(false));\n        }\n    }\n\n@Test\npublic void equalsTestTwo() {\n    JUnitTesting equals = new JUnitTesting();{\n        assertFalse(equals.equalsTest(false));\n        }\n    }\n}\n</code></pre>\n<p>The first is passing the test when it should fail and I do not know why, and the second is failing when it should be passing. All it says is java.lang.AssertionError. Thanks in advance for any answers.</p>\n"},{"tags":["java","arrays","json","jackson","polymorphic-deserialization"],"answers":[{"tags":[],"owner":{"account_id":17741504,"reputation":1083,"user_id":12881733,"display_name":"Bill Mair"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1678305713,"creation_date":1678305713,"answer_id":75677701,"question_id":75677453,"body_markdown":"The `List` type can&#39;t be identified.\r\n\r\nYour `TypeInfo` for `AccountLedger` should identify a class that contains an array of `AccountLedger`.\r\n\r\nYou have to have a class that contains the list, something like:\r\n\r\n    AccountLedgerList {\r\n        List&lt;AccountLedger&gt; data;\r\n    }\r\n\r\nand then your `method` identifies the `List` object type:\r\n\r\n    @JsonSubTypes({\r\n        @JsonSubTypes.Type(value = AccountLedgerList.class, name = &quot;AccountLedger&quot;)\r\n    })","title":"Jackson @JsonSubTypes - Polymorphic deserialization with generics","body":"<p>The <code>List</code> type can't be identified.</p>\n<p>Your <code>TypeInfo</code> for <code>AccountLedger</code> should identify a class that contains an array of <code>AccountLedger</code>.</p>\n<p>You have to have a class that contains the list, something like:</p>\n<pre><code>AccountLedgerList {\n    List&lt;AccountLedger&gt; data;\n}\n</code></pre>\n<p>and then your <code>method</code> identifies the <code>List</code> object type:</p>\n<pre><code>@JsonSubTypes({\n    @JsonSubTypes.Type(value = AccountLedgerList.class, name = &quot;AccountLedger&quot;)\n})\n</code></pre>\n"}],"owner":{"account_id":17069157,"reputation":210,"user_id":12350428,"display_name":"bob"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":456,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75677701,"answer_count":1,"score":0,"last_activity_date":1678305713,"creation_date":1678304049,"question_id":75677453,"body_markdown":"I&#39;m trying to deserialize this json body that I don&#39;t have any control over. Because the API I&#39;m calling could provide different &quot;data&quot; (arrays of objects) depending on the &quot;method&quot; value, I thought of polymorphism and using `@JsonSubTypes`. However the current set up gives me an error. I&#39;m already using generics for another case which where &quot;data&quot; is an object and that works fine. But I&#39;m not able to solve this with arrays of objects.\r\n\r\n&gt; com.fasterxml.jackson.databind.exc.MismatchedInputException:\r\n&gt; Unexpected token (START_OBJECT), expected START_ARRAY: need JSON Array\r\n&gt; to contain As.WRAPPER_ARRAY type information for class\r\n&gt; demo.common.dto.response.data.AccountLedgerResponse\r\n\r\nNot sure what it is referring to since &quot;data&quot; json property starts with **&quot;[&quot;**.\r\n\r\n**JSON**\r\n\r\n    {\r\n        &quot;version&quot;: &quot;1.1&quot;,\r\n        &quot;result&quot;: {\r\n            &quot;signature&quot;: &quot;lCteM8iCg++7uyF...TYoY/mc7eUQ6FWNPg==&quot;,\r\n            &quot;method&quot;: &quot;AccountLedger&quot;,\r\n            &quot;data&quot;: [{\r\n                &quot;userid&quot;: &quot;3839426635&quot;,\r\n                &quot;datestamp&quot;: &quot;2014-01-30 13:28:45.652299+01&quot;,\r\n                &quot;orderid&quot;: &quot;3209647863&quot;,\r\n                &quot;accountname&quot;: &quot;SUSPENSE_ACCOUNT_CLIENT_FUNDS_SWEDEN_ESSE&quot;,\r\n                &quot;messageid&quot;: &quot;133921&quot;,\r\n                &quot;transactiontype&quot;: &quot;User deposit of client funds to CLIENT_FUNDS_SWEDEN_ESSE&quot;,\r\n                &quot;currency&quot;: &quot;EUR&quot;,\r\n                &quot;amount&quot;: &quot;5.00000000000000000000&quot;,\r\n                &quot;gluepayid&quot;: &quot;3209647863&quot;\r\n            }, {\r\n                &quot;accountname&quot;: &quot;TRANSACTION_FEE_BANK_DEPOSIT&quot;,\r\n                &quot;orderid&quot;: &quot;3209647863&quot;,\r\n                &quot;userid&quot;: &quot;3839426635&quot;,\r\n                &quot;datestamp&quot;: &quot;2014-01-30 13:28:45.652299+01&quot;,\r\n                &quot;messageid&quot;: &quot;133921&quot;,\r\n                &quot;transactiontype&quot;: &quot;User deposit of client funds to CLIENT_FUNDS_SWEDEN_ESSE&quot;,\r\n                &quot;currency&quot;: &quot;SEK&quot;,\r\n                &quot;amount&quot;: &quot;-3.01&quot;,\r\n                &quot;gluepayid&quot;: &quot;3209647863&quot;\r\n            }],\r\n            &quot;uuid&quot;: &quot;9e4345db-6093-bb35-07d3-e335f1e28793&quot;\r\n        }\r\n    }\r\n\r\n\r\nThe expected object: \r\n\r\n    public record ResultList&lt;T extends ResponseData&gt;(\r\n\r\n    \t\t@JsonProperty(&quot;signature&quot;)\r\n    \t\tString signature,\r\n    \r\n    \t\t@JsonProperty(&quot;uuid&quot;)\r\n    \t\tUUID uuid,\r\n    \r\n    \t\t@JsonProperty(&quot;method&quot;)\r\n    \t\tMethod method,\r\n    \r\n    \t\t@JsonProperty(&quot;data&quot;)\r\n    \t\t@JsonTypeInfo(\r\n    \t\t\t\tuse = JsonTypeInfo.Id.NAME,\r\n    \t\t\t\tinclude = JsonTypeInfo.As.EXTERNAL_PROPERTY,\r\n    \t\t\t\tproperty = &quot;method&quot;)\r\n    \t\t@JsonSubTypes({\r\n    \t\t\t\t@JsonSubTypes.Type(value = AccountLedgerResponse.class, name = &quot;AccountLedger&quot;)\r\n    \t\t})\r\n    \t\tList&lt;T&gt; data) {\r\n    \r\n    \t@Builder\r\n    \tpublic ResultList {\r\n    \r\n    \t}\r\n    }","title":"Jackson @JsonSubTypes - Polymorphic deserialization with generics","body":"<p>I'm trying to deserialize this json body that I don't have any control over. Because the API I'm calling could provide different &quot;data&quot; (arrays of objects) depending on the &quot;method&quot; value, I thought of polymorphism and using <code>@JsonSubTypes</code>. However the current set up gives me an error. I'm already using generics for another case which where &quot;data&quot; is an object and that works fine. But I'm not able to solve this with arrays of objects.</p>\n<blockquote>\n<p>com.fasterxml.jackson.databind.exc.MismatchedInputException:\nUnexpected token (START_OBJECT), expected START_ARRAY: need JSON Array\nto contain As.WRAPPER_ARRAY type information for class\ndemo.common.dto.response.data.AccountLedgerResponse</p>\n</blockquote>\n<p>Not sure what it is referring to since &quot;data&quot; json property starts with <strong>&quot;[&quot;</strong>.</p>\n<p><strong>JSON</strong></p>\n<pre><code>{\n    &quot;version&quot;: &quot;1.1&quot;,\n    &quot;result&quot;: {\n        &quot;signature&quot;: &quot;lCteM8iCg++7uyF...TYoY/mc7eUQ6FWNPg==&quot;,\n        &quot;method&quot;: &quot;AccountLedger&quot;,\n        &quot;data&quot;: [{\n            &quot;userid&quot;: &quot;3839426635&quot;,\n            &quot;datestamp&quot;: &quot;2014-01-30 13:28:45.652299+01&quot;,\n            &quot;orderid&quot;: &quot;3209647863&quot;,\n            &quot;accountname&quot;: &quot;SUSPENSE_ACCOUNT_CLIENT_FUNDS_SWEDEN_ESSE&quot;,\n            &quot;messageid&quot;: &quot;133921&quot;,\n            &quot;transactiontype&quot;: &quot;User deposit of client funds to CLIENT_FUNDS_SWEDEN_ESSE&quot;,\n            &quot;currency&quot;: &quot;EUR&quot;,\n            &quot;amount&quot;: &quot;5.00000000000000000000&quot;,\n            &quot;gluepayid&quot;: &quot;3209647863&quot;\n        }, {\n            &quot;accountname&quot;: &quot;TRANSACTION_FEE_BANK_DEPOSIT&quot;,\n            &quot;orderid&quot;: &quot;3209647863&quot;,\n            &quot;userid&quot;: &quot;3839426635&quot;,\n            &quot;datestamp&quot;: &quot;2014-01-30 13:28:45.652299+01&quot;,\n            &quot;messageid&quot;: &quot;133921&quot;,\n            &quot;transactiontype&quot;: &quot;User deposit of client funds to CLIENT_FUNDS_SWEDEN_ESSE&quot;,\n            &quot;currency&quot;: &quot;SEK&quot;,\n            &quot;amount&quot;: &quot;-3.01&quot;,\n            &quot;gluepayid&quot;: &quot;3209647863&quot;\n        }],\n        &quot;uuid&quot;: &quot;9e4345db-6093-bb35-07d3-e335f1e28793&quot;\n    }\n}\n</code></pre>\n<p>The expected object:</p>\n<pre><code>public record ResultList&lt;T extends ResponseData&gt;(\n\n        @JsonProperty(&quot;signature&quot;)\n        String signature,\n\n        @JsonProperty(&quot;uuid&quot;)\n        UUID uuid,\n\n        @JsonProperty(&quot;method&quot;)\n        Method method,\n\n        @JsonProperty(&quot;data&quot;)\n        @JsonTypeInfo(\n                use = JsonTypeInfo.Id.NAME,\n                include = JsonTypeInfo.As.EXTERNAL_PROPERTY,\n                property = &quot;method&quot;)\n        @JsonSubTypes({\n                @JsonSubTypes.Type(value = AccountLedgerResponse.class, name = &quot;AccountLedger&quot;)\n        })\n        List&lt;T&gt; data) {\n\n    @Builder\n    public ResultList {\n\n    }\n}\n</code></pre>\n"},{"tags":["java","mysql","sql","jdbi"],"answers":[{"tags":[],"owner":{"account_id":449795,"reputation":2023,"user_id":844786,"display_name":"talon55"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1574902920,"creation_date":1574902920,"answer_id":59080409,"question_id":55702129,"body_markdown":"It&#39;s actually quite easy to do this in JDBI3, but for some reason the solution isn&#39;t documented on [jdbi.org][1].\r\n\r\nHere it is:\r\n\r\n    List&lt;String&gt; result = handle.createQuery(getBasicQuery() + &quot; WHERE (key, val) in (&lt;query&gt;)&quot;)\r\n        .bindMethodsList(&quot;query&quot;, query, List.of(&quot;getKey&quot;, &quot;getValue&quot;))\r\n        .mapTo(String.class)\r\n        .list();\r\n\r\nNote that to use [`bindMethodsList()`][2] you&#39;ll need to have your query objects defined as instances of a class with public methods (ie. getters). Something like this would work just fine:\r\n\r\n    class Query {\r\n      String key;\r\n      String value;\r\n\r\n      Query(String key, String value) {\r\n        this.key = key;\r\n        this.value = value;\r\n      }\r\n\r\n      public String getKey() {\r\n        return key;\r\n      }\r\n\r\n      public String getValue() {\r\n        return value;\r\n      }\r\n    }\r\n\r\nAlternatively, you can skip the getters by making the properties themselves public and using [`bindBeanList()`][3].\r\n\r\n\r\n  [1]: http://jdbi.org/\r\n  [2]: http://jdbi.org/apidocs/org/jdbi/v3/core/statement/SqlStatement.html#bindMethodsList-java.lang.String-java.lang.Iterable-java.util.List-\r\n  [3]: http://jdbi.org/apidocs/org/jdbi/v3/core/statement/SqlStatement.html#bindBeanList-java.lang.String-java.util.List-java.util.List-","title":"How do I bind a list of tuples in jdbi?","body":"<p>It's actually quite easy to do this in JDBI3, but for some reason the solution isn't documented on <a href=\"http://jdbi.org/\" rel=\"noreferrer\">jdbi.org</a>.</p>\n\n<p>Here it is:</p>\n\n<pre><code>List&lt;String&gt; result = handle.createQuery(getBasicQuery() + \" WHERE (key, val) in (&lt;query&gt;)\")\n    .bindMethodsList(\"query\", query, List.of(\"getKey\", \"getValue\"))\n    .mapTo(String.class)\n    .list();\n</code></pre>\n\n<p>Note that to use <a href=\"http://jdbi.org/apidocs/org/jdbi/v3/core/statement/SqlStatement.html#bindMethodsList-java.lang.String-java.lang.Iterable-java.util.List-\" rel=\"noreferrer\"><code>bindMethodsList()</code></a> you'll need to have your query objects defined as instances of a class with public methods (ie. getters). Something like this would work just fine:</p>\n\n<pre><code>class Query {\n  String key;\n  String value;\n\n  Query(String key, String value) {\n    this.key = key;\n    this.value = value;\n  }\n\n  public String getKey() {\n    return key;\n  }\n\n  public String getValue() {\n    return value;\n  }\n}\n</code></pre>\n\n<p>Alternatively, you can skip the getters by making the properties themselves public and using <a href=\"http://jdbi.org/apidocs/org/jdbi/v3/core/statement/SqlStatement.html#bindBeanList-java.lang.String-java.util.List-java.util.List-\" rel=\"noreferrer\"><code>bindBeanList()</code></a>.</p>\n"},{"tags":[],"owner":{"account_id":4908550,"reputation":475,"user_id":3954514,"display_name":"Sebastian Cardona Osorio"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641387490,"creation_date":1641387490,"answer_id":70593264,"question_id":55702129,"body_markdown":"As @talon55 said, [bindBeanList][1] method is an alternative:\r\n\r\n```java\r\n\r\nString QRY_STRING = &quot;SELECT id FROM settlement_report WHERE (user_id, reference_id, has_type_id, record_type) IN (&lt;conditions&gt;)&quot;;\r\n\r\nList&lt;String&gt; fieldsBean = Arrays.asList(&quot;userId&quot;, &quot;referenceId&quot;, &quot;hasTypeId&quot;, &quot;recordType&quot;);\r\n\r\nhandle.createQuery(QRY_STRING)\r\n.bindBeanList(&quot;conditions&quot;, records, fieldsBean);\r\n```\r\n\r\n\r\n  [1]: http://jdbi.org/apidocs/org/jdbi/v3/core/statement/SqlStatement.html#bindBeanList(java.lang.String,java.util.List,java.util.List)","title":"How do I bind a list of tuples in jdbi?","body":"<p>As @talon55 said, <a href=\"http://jdbi.org/apidocs/org/jdbi/v3/core/statement/SqlStatement.html#bindBeanList(java.lang.String,java.util.List,java.util.List)\" rel=\"nofollow noreferrer\">bindBeanList</a> method is an alternative:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nString QRY_STRING = &quot;SELECT id FROM settlement_report WHERE (user_id, reference_id, has_type_id, record_type) IN (&lt;conditions&gt;)&quot;;\n\nList&lt;String&gt; fieldsBean = Arrays.asList(&quot;userId&quot;, &quot;referenceId&quot;, &quot;hasTypeId&quot;, &quot;recordType&quot;);\n\nhandle.createQuery(QRY_STRING)\n.bindBeanList(&quot;conditions&quot;, records, fieldsBean);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6830518,"reputation":301,"user_id":5254706,"display_name":"Gaurav Grover"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678305602,"creation_date":1678305602,"answer_id":75677681,"question_id":55702129,"body_markdown":"You can also use annotated interface methods for this query. Following mentioning my findings extending the example given by @talon55.\r\n\r\n```\r\n@RegisterRowMapper(xyzMapper.class)\r\npublic interface xyzDAO {\r\n\r\n    @SqlQuery(&quot;SELECT * FROM xyz WHERE (key, value) in (&lt;query&gt;)&quot;)\r\n    List&lt;String&gt; findAll(@BindMethodsList(value = &quot;query&quot;, methodNames = {&quot;getKey&quot;, &quot;getValue&quot;}) List&lt;Query&gt; query) throws UnableToExecuteStatementException;\r\n\r\n}\r\n```","title":"How do I bind a list of tuples in jdbi?","body":"<p>You can also use annotated interface methods for this query. Following mentioning my findings extending the example given by @talon55.</p>\n<pre><code>@RegisterRowMapper(xyzMapper.class)\npublic interface xyzDAO {\n\n    @SqlQuery(&quot;SELECT * FROM xyz WHERE (key, value) in (&lt;query&gt;)&quot;)\n    List&lt;String&gt; findAll(@BindMethodsList(value = &quot;query&quot;, methodNames = {&quot;getKey&quot;, &quot;getValue&quot;}) List&lt;Query&gt; query) throws UnableToExecuteStatementException;\n\n}\n</code></pre>\n"}],"owner":{"account_id":6472558,"reputation":91,"user_id":5012226,"display_name":"Monica Gangwar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1931,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1678305602,"creation_date":1555397248,"question_id":55702129,"body_markdown":"I have a mysql query in this format\r\n```\r\nSELECT * from xyz where (key1, key2) in ((&#39;val1&#39;, &#39;val2&#39;), (&#39;val3&#39;, &#39;val4&#39;));\r\n```\r\nI&#39;m using jdbi to make this query. How do I bind the list of tuples in jdbi ?\r\nI was trying to use something like this\r\n```\r\nList&lt;String[]&gt; query = new ArrayList&lt;&gt;();\r\nfor(String key: vars.keySet()){\r\n  String[] entry = {key, vars.get(key)};\r\n  query.add(entry);\r\n}\r\nList&lt;String&gt; result = getBasicQuery() + &quot; WHERE (key, val) in (&lt;query&gt;)&quot;.bindList(&quot;query&quot;, query);\r\n```\r\n\r\nGetting this error on using bind this way\r\n```\r\n No argument factory registered for &#39;[Ljava.lang.String;@11fa461a&#39; of type class [Ljava.lang.String;\r\n```","title":"How do I bind a list of tuples in jdbi?","body":"<p>I have a mysql query in this format</p>\n\n<pre><code>SELECT * from xyz where (key1, key2) in (('val1', 'val2'), ('val3', 'val4'));\n</code></pre>\n\n<p>I'm using jdbi to make this query. How do I bind the list of tuples in jdbi ?\nI was trying to use something like this</p>\n\n<pre><code>List&lt;String[]&gt; query = new ArrayList&lt;&gt;();\nfor(String key: vars.keySet()){\n  String[] entry = {key, vars.get(key)};\n  query.add(entry);\n}\nList&lt;String&gt; result = getBasicQuery() + \" WHERE (key, val) in (&lt;query&gt;)\".bindList(\"query\", query);\n</code></pre>\n\n<p>Getting this error on using bind this way</p>\n\n<pre><code> No argument factory registered for '[Ljava.lang.String;@11fa461a' of type class [Ljava.lang.String;\n</code></pre>\n"},{"tags":["java","raspberry-pi","gpio","raspberry-pi4","pi4j"],"comments":[{"owner":{"account_id":104307,"reputation":5969,"user_id":278949,"accept_rate":97,"display_name":"Frank"},"score":0,"creation_date":1678349067,"post_id":75677559,"comment_id":133515837,"body_markdown":"There seems to be a 32- versus 64-bit mismatch. Did you compile with the right version and running it with a similar version?","body":"There seems to be a 32- versus 64-bit mismatch. Did you compile with the right version and running it with a similar version?"},{"owner":{"account_id":27664854,"reputation":153,"user_id":21116910,"display_name":"Alexander Gorodilov"},"score":0,"creation_date":1678350452,"post_id":75677559,"comment_id":133516145,"body_markdown":"@Frank, I thought also that the problem is in the OS versions.  But today I saw some youtube videos and no one compiles the projects direct on the Pi. Every compiles the project on a normal desktop and than launches the executable jar file on the pi. Maybe this is the trouble? The project must be compiled external and launch on the pi as a jar but can not be launch direct from the intellij idea. What do you think about it? I use 64 bit raspbian for the development and for the tests.","body":"@Frank, I thought also that the problem is in the OS versions.  But today I saw some youtube videos and no one compiles the projects direct on the Pi. Every compiles the project on a normal desktop and than launches the executable jar file on the pi. Maybe this is the trouble? The project must be compiled external and launch on the pi as a jar but can not be launch direct from the intellij idea. What do you think about it? I use 64 bit raspbian for the development and for the tests."},{"owner":{"account_id":104307,"reputation":5969,"user_id":278949,"accept_rate":97,"display_name":"Frank"},"score":0,"creation_date":1678432087,"post_id":75677559,"comment_id":133534615,"body_markdown":"That could indeed be the problem. Did you check this tutorial about uploading code from IntelliJ IDEA and run/debug it on a RPi? https://pi4j.com/getting-started/crowpi/develop-with-intellij/","body":"That could indeed be the problem. Did you check this tutorial about uploading code from IntelliJ IDEA and run/debug it on a RPi? <a href=\"https://pi4j.com/getting-started/crowpi/develop-with-intellij/\" rel=\"nofollow noreferrer\">pi4j.com/getting-started/crowpi/develop-with-intellij</a>"},{"owner":{"account_id":27664854,"reputation":153,"user_id":21116910,"display_name":"Alexander Gorodilov"},"score":0,"creation_date":1679212058,"post_id":75677559,"comment_id":133678260,"body_markdown":"@Frank, I have launched successfully the simple example as Gradle project. Thanks, but I have not understood how could I make this. This library is not so simple as processing embedded IO library, but I think more powerful.","body":"@Frank, I have launched successfully the simple example as Gradle project. Thanks, but I have not understood how could I make this. This library is not so simple as processing embedded IO library, but I think more powerful."}],"owner":{"account_id":27664854,"reputation":153,"user_id":21116910,"display_name":"Alexander Gorodilov"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":111,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1678304821,"creation_date":1678304821,"question_id":75677559,"body_markdown":"I need to create a project for the RPI3. It must control external devices, read signals from a coin acceptor and output the graphic of a videogame to a screen 1920x1080 px. I used Processing libraries (www.processing.org) for all the purposes but it renders the graphic very slow and without Open GL ES support (I think this is the main reason). I want to transfer from processing to LibGDX to complete the project and am selecting for a library for simple interaction with the GPIO. I have founded only Pi4J project but can not even run tests.\r\n\r\nI get the next error message when I launch the first example of the Pi4J library on my RPI4B (Raspberry Pi OS 64bit):\r\n\r\n    /root/.jdks/liberica-11.0.18/bin/java -javaagent:/home/MGDSStudio/Software/idea-IC-223.8617.56/lib/idea_rt.jar=34803:/home/MGDSStudio/Software/idea-IC-223.8617.56/bin -Dfile.encoding=UTF-8 -classpath /home/MGDSStudio/GD/Tests/Pi4j/pi4j-v1/pi4j-example/target/classes:/home/MGDSStudio/GD/Tests/Pi4j/pi4j-v1/pi4j-core/target/classes:/root/.m2/repository/javax/xml/bind/jaxb-api/2.3.1/jaxb-api-2.3.1.jar:/root/.m2/repository/javax/activation/javax.activation-api/1.2.0/javax.activation-api-1.2.0.jar BlinkGpioExample\r\n    &lt;--Pi4J--&gt; GPIO Blink Example ... started.\r\n    Mar 08, 2023 7:27:37 PM com.pi4j.util.NativeLibraryLoader load\r\n    SEVERE: Unable to load [libpi4j] using path: [/lib/raspberrypi/dynamic/libpi4j-aarch64.so]\r\n    java.io.FileNotFoundException: File /lib/raspberrypi/dynamic/libpi4j-aarch64.so was not found in classpath.\r\n\r\nI use liberica jdk-11. What is wrong with it or my SBC? I have tested also on my Khadas Vim3 pro (Ubuntu 20.04 64 bit) but without success.","title":"Can not launch examples of the Pi4J from the Intellij IDEA on Raspberry Pi 4B","body":"<p>I need to create a project for the RPI3. It must control external devices, read signals from a coin acceptor and output the graphic of a videogame to a screen 1920x1080 px. I used Processing libraries (<a href=\"http://www.processing.org\" rel=\"nofollow noreferrer\">www.processing.org</a>) for all the purposes but it renders the graphic very slow and without Open GL ES support (I think this is the main reason). I want to transfer from processing to LibGDX to complete the project and am selecting for a library for simple interaction with the GPIO. I have founded only Pi4J project but can not even run tests.</p>\n<p>I get the next error message when I launch the first example of the Pi4J library on my RPI4B (Raspberry Pi OS 64bit):</p>\n<pre><code>/root/.jdks/liberica-11.0.18/bin/java -javaagent:/home/MGDSStudio/Software/idea-IC-223.8617.56/lib/idea_rt.jar=34803:/home/MGDSStudio/Software/idea-IC-223.8617.56/bin -Dfile.encoding=UTF-8 -classpath /home/MGDSStudio/GD/Tests/Pi4j/pi4j-v1/pi4j-example/target/classes:/home/MGDSStudio/GD/Tests/Pi4j/pi4j-v1/pi4j-core/target/classes:/root/.m2/repository/javax/xml/bind/jaxb-api/2.3.1/jaxb-api-2.3.1.jar:/root/.m2/repository/javax/activation/javax.activation-api/1.2.0/javax.activation-api-1.2.0.jar BlinkGpioExample\n&lt;--Pi4J--&gt; GPIO Blink Example ... started.\nMar 08, 2023 7:27:37 PM com.pi4j.util.NativeLibraryLoader load\nSEVERE: Unable to load [libpi4j] using path: [/lib/raspberrypi/dynamic/libpi4j-aarch64.so]\njava.io.FileNotFoundException: File /lib/raspberrypi/dynamic/libpi4j-aarch64.so was not found in classpath.\n</code></pre>\n<p>I use liberica jdk-11. What is wrong with it or my SBC? I have tested also on my Khadas Vim3 pro (Ubuntu 20.04 64 bit) but without success.</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":10805595,"reputation":3025,"user_id":7947994,"display_name":"JANO"},"score":1,"creation_date":1678304954,"post_id":75677558,"comment_id":133508750,"body_markdown":"Have a look at [this question](https://stackoverflow.com/questions/12850143/android-basics-running-code-in-the-ui-thread)","body":"Have a look at <a href=\"https://stackoverflow.com/questions/12850143/android-basics-running-code-in-the-ui-thread\">this question</a>"},{"owner":{"account_id":10814854,"reputation":4137,"user_id":7954210,"accept_rate":73,"display_name":"Mouaad Abdelghafour AITALI"},"score":0,"creation_date":1678320517,"post_id":75677558,"comment_id":133511802,"body_markdown":"You can&#39;t modify the `gameButton` from the background thread you should modify it in the main thread, try `runOnUIThread` method","body":"You can&#39;t modify the <code>gameButton</code> from the background thread you should modify it in the main thread, try <code>runOnUIThread</code> method"}],"owner":{"account_id":2345937,"reputation":3332,"user_id":2056201,"accept_rate":23,"display_name":"Mich"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1678304821,"creation_date":1678304821,"question_id":75677558,"body_markdown":"I need to change the value of an element from a different thread\r\n\r\nThe error is on function `gameButton.setText(String.valueOf(out));`, I am aware I am not allowed to change main UI elements from external threads. \r\n\r\nWhat is the least complicated way to change the value of this element from an external thread?\r\n\r\n     public class MainActivity extends Activity {\r\n\r\n        DFT sProc = new DFT();\r\n        Button gameButton;\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n\r\n            super.onCreate(savedInstanceState);\r\n\r\n            RelativeLayout gameLayout = new RelativeLayout(this);\r\n            gameButton = new Button(this);\r\n\r\n            //Add the start Button\r\n            gameButton.setText(&quot;Start&quot;);\r\n            gameButton.setBackgroundColor(Color.MAGENTA);\r\n            gameLayout.setBackgroundColor(Color.LTGRAY);\r\n            RelativeLayout.LayoutParams buttonDetails = new RelativeLayout.LayoutParams(\r\n                    RelativeLayout.LayoutParams.WRAP_CONTENT,\r\n                    RelativeLayout.LayoutParams.WRAP_CONTENT\r\n            );\r\n            buttonDetails.addRule(RelativeLayout.CENTER_HORIZONTAL);\r\n            buttonDetails.addRule(RelativeLayout.ALIGN_PARENT_BOTTOM);\r\n            gameLayout.addView(gameButton, buttonDetails);\r\n            setContentView(gameLayout);\r\n\r\n            final Thread t = new Thread(this::soundThread);\r\n            t.start();\r\n        }\r\n\r\n        private void soundThread(){\r\n            for(ini i = 0; i &lt; 100; i++)\r\n            {\r\n                sProc.start(this);\r\n                try {\r\n                    Thread.sleep(1000);\r\n                    double out = sProc.getAmplitude();\r\n                    gameButton.setText(String.valueOf(out));\r\n                } catch (InterruptedException e) {\r\n                    throw new RuntimeException(e);\r\n                }\r\n                sProc.stop();\r\n            };\r\n        }\r\n    }","title":"Change property of Button from another thread within the same class in Android","body":"<p>I need to change the value of an element from a different thread</p>\n<p>The error is on function <code>gameButton.setText(String.valueOf(out));</code>, I am aware I am not allowed to change main UI elements from external threads.</p>\n<p>What is the least complicated way to change the value of this element from an external thread?</p>\n<pre><code> public class MainActivity extends Activity {\n\n    DFT sProc = new DFT();\n    Button gameButton;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n\n        super.onCreate(savedInstanceState);\n\n        RelativeLayout gameLayout = new RelativeLayout(this);\n        gameButton = new Button(this);\n\n        //Add the start Button\n        gameButton.setText(&quot;Start&quot;);\n        gameButton.setBackgroundColor(Color.MAGENTA);\n        gameLayout.setBackgroundColor(Color.LTGRAY);\n        RelativeLayout.LayoutParams buttonDetails = new RelativeLayout.LayoutParams(\n                RelativeLayout.LayoutParams.WRAP_CONTENT,\n                RelativeLayout.LayoutParams.WRAP_CONTENT\n        );\n        buttonDetails.addRule(RelativeLayout.CENTER_HORIZONTAL);\n        buttonDetails.addRule(RelativeLayout.ALIGN_PARENT_BOTTOM);\n        gameLayout.addView(gameButton, buttonDetails);\n        setContentView(gameLayout);\n\n        final Thread t = new Thread(this::soundThread);\n        t.start();\n    }\n\n    private void soundThread(){\n        for(ini i = 0; i &lt; 100; i++)\n        {\n            sProc.start(this);\n            try {\n                Thread.sleep(1000);\n                double out = sProc.getAmplitude();\n                gameButton.setText(String.valueOf(out));\n            } catch (InterruptedException e) {\n                throw new RuntimeException(e);\n            }\n            sProc.stop();\n        };\n    }\n}\n</code></pre>\n"},{"tags":["java","kotlin","swing","intellij-plugin","jtree"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1678308461,"post_id":75677508,"comment_id":133509607,"body_markdown":"`nodeStructureChanged` basically informs the `JTree` that the underlying structure has completely changed, so any expanded or selection information will be discarded.  The expanded state is maintained internally by the `JTree` and the selection via the `TreeSelectionModel`. If you want to maintain this state between updates, you have two basic choices. You either devise a delta update approach which can add/remove/update the nodes between the new and old models or try and restore the expended and selected states after the update - the first will likely produce a nicer UX","body":"<code>nodeStructureChanged</code> basically informs the <code>JTree</code> that the underlying structure has completely changed, so any expanded or selection information will be discarded.  The expanded state is maintained internally by the <code>JTree</code> and the selection via the <code>TreeSelectionModel</code>. If you want to maintain this state between updates, you have two basic choices. You either devise a delta update approach which can add/remove/update the nodes between the new and old models or try and restore the expended and selected states after the update - the first will likely produce a nicer UX"}],"owner":{"account_id":14398683,"reputation":505,"user_id":10401124,"display_name":"AmirHossein Abdolmotallebi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1678304445,"creation_date":1678304445,"question_id":75677508,"body_markdown":"\r\nI have a `JTree` that I want to update its node based on a list that I have receiving from remote (some of its data is already in Tree ,so they are some repeatations)\r\n\r\nHere is my data model that comes from remote\r\n```kotlin\r\ndata class VariableInfo(\r\n    val name: String,\r\n    val type: String,\r\n    val value: String,\r\n    val children: List&lt;VariableInfo&gt;? = null,\r\n)\r\n```\r\nAnd here is &quot;VariableInfoTreeNode&quot;\r\n```kotlin\r\nclass VariableInfoTreeNode(\r\n    private val variableInfo: VariableInfo,\r\n    private val myParentNode: TreeNode?,\r\n) : TreeNode {\r\n    override fun toString(): String {\r\n        return &quot;${variableInfo.name}:${variableInfo.type} ${variableInfo.value}&quot;\r\n    }\r\n\r\n    override fun getChildAt(childIndex: Int): TreeNode {\r\n        return _children[childIndex]\r\n    }\r\n\r\n    override fun getChildCount(): Int {\r\n        return _children.size\r\n    }\r\n\r\n    override fun getParent(): TreeNode? {\r\n        return myParentNode\r\n    }\r\n\r\n    override fun getIndex(node: TreeNode?): Int {\r\n        return _children.indexOfFirst {\r\n            if (node is VariableInfoTreeNode) {\r\n                it == node\r\n            } else {\r\n                false\r\n            }\r\n        }\r\n    }\r\n\r\n    override fun getAllowsChildren(): Boolean {\r\n        return true\r\n    }\r\n\r\n    override fun isLeaf(): Boolean {\r\n        return false\r\n    }\r\n\r\n    private val _children by lazy {\r\n        variableInfo.children?.map {\r\n            VariableInfoTreeNode(it, this)\r\n        } ?: emptyList()\r\n    }\r\n\r\n    override fun children(): Enumeration&lt;out TreeNode&gt; {\r\n        return Collections.enumeration(_children)\r\n    }\r\n}\r\n```\r\nI also have a RootNode for containing `VariableInfoTreeNode` nodes\r\n```kotlin\r\nclass VariableInfoRootNode:TreeNode{\r\n    private var children= emptyList&lt;VariableInfo&gt;()\r\n    private lateinit var childrenNodes:List&lt;VariableInfoTreeNode&gt;\r\n    init {\r\n        refreshChildTree()\r\n    }\r\n    fun setVariableInfo(variableInfoList: List&lt;VariableInfo&gt;){\r\n        children=variableInfoList\r\n        refreshChildTree()\r\n    }\r\n\r\n    private fun refreshChildTree(){\r\n        childrenNodes=children.map {\r\n            VariableInfoTreeNode(it,this)\r\n        }\r\n    }\r\n\r\n\r\n    override fun getChildAt(childIndex: Int): TreeNode {\r\n        return childrenNodes[childIndex]\r\n    }\r\n\r\n    override fun getChildCount(): Int {\r\n        return childrenNodes.size\r\n    }\r\n\r\n    override fun getParent(): TreeNode? {\r\n        return null\r\n    }\r\n\r\n    override fun getIndex(node: TreeNode?): Int {\r\n        return childrenNodes.indexOfFirst {\r\n            it==node\r\n        }\r\n    }\r\n\r\n    override fun getAllowsChildren(): Boolean {\r\n        return true\r\n    }\r\n\r\n    override fun isLeaf(): Boolean {\r\n        return false\r\n    }\r\n\r\n    override fun children(): Enumeration&lt;out TreeNode&gt; {\r\n        return Collections.enumeration(childrenNodes)\r\n    }\r\n}\r\n\r\n```\r\n\r\nand here is my MainTreeContainer class\r\n```kotlin\r\nclass DebugBoardView : JPanel(GridLayout()) {\r\n    private val rootNode = VariableInfoRootNode()\r\n\r\n    private val treeModel = DefaultTreeModel(rootNode)\r\n    private val tree: Tree = Tree(treeModel).apply {\r\n        isRootVisible = false\r\n    }\r\n    \r\n    // I call this method somewhere else and I want \r\n    // Tree to update itself and does not lose selection and expansion state\r\n    fun onVariablesUpdate(list: List&lt;VariableInfo&gt;) {\r\n        rootNode.setVariableInfo(list)\r\n        treeModel.nodeStructureChanged(rootNode)\r\n    }\r\n\r\n    init {\r\n        add(tree)\r\n        //periodically update with same fake data!\r\n        javax.swing.Timer(5000) {\r\n            onVariablesUpdate(fakeInfo)\r\n        }.start()\r\n    }\r\n}\r\n\r\n```\r\n\r\nmy problem is when I call `DebugBoardView::onVariablesUpdate` my tree will updated but all of selected paths and expanded paths will be gone!\r\n\r\nHow can I fix that?\r\n\r\nIt&#39;s worth to mention that I am developing `Intelij Idea Plugin` so any solution for this platform could be useful too\r\n\r\n\r\n","title":"update JTree nodes with a full TreeNode hierarchy instead of update","body":"<p>I have a <code>JTree</code> that I want to update its node based on a list that I have receiving from remote (some of its data is already in Tree ,so they are some repeatations)</p>\n<p>Here is my data model that comes from remote</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>data class VariableInfo(\n    val name: String,\n    val type: String,\n    val value: String,\n    val children: List&lt;VariableInfo&gt;? = null,\n)\n</code></pre>\n<p>And here is &quot;VariableInfoTreeNode&quot;</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>class VariableInfoTreeNode(\n    private val variableInfo: VariableInfo,\n    private val myParentNode: TreeNode?,\n) : TreeNode {\n    override fun toString(): String {\n        return &quot;${variableInfo.name}:${variableInfo.type} ${variableInfo.value}&quot;\n    }\n\n    override fun getChildAt(childIndex: Int): TreeNode {\n        return _children[childIndex]\n    }\n\n    override fun getChildCount(): Int {\n        return _children.size\n    }\n\n    override fun getParent(): TreeNode? {\n        return myParentNode\n    }\n\n    override fun getIndex(node: TreeNode?): Int {\n        return _children.indexOfFirst {\n            if (node is VariableInfoTreeNode) {\n                it == node\n            } else {\n                false\n            }\n        }\n    }\n\n    override fun getAllowsChildren(): Boolean {\n        return true\n    }\n\n    override fun isLeaf(): Boolean {\n        return false\n    }\n\n    private val _children by lazy {\n        variableInfo.children?.map {\n            VariableInfoTreeNode(it, this)\n        } ?: emptyList()\n    }\n\n    override fun children(): Enumeration&lt;out TreeNode&gt; {\n        return Collections.enumeration(_children)\n    }\n}\n</code></pre>\n<p>I also have a RootNode for containing <code>VariableInfoTreeNode</code> nodes</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>class VariableInfoRootNode:TreeNode{\n    private var children= emptyList&lt;VariableInfo&gt;()\n    private lateinit var childrenNodes:List&lt;VariableInfoTreeNode&gt;\n    init {\n        refreshChildTree()\n    }\n    fun setVariableInfo(variableInfoList: List&lt;VariableInfo&gt;){\n        children=variableInfoList\n        refreshChildTree()\n    }\n\n    private fun refreshChildTree(){\n        childrenNodes=children.map {\n            VariableInfoTreeNode(it,this)\n        }\n    }\n\n\n    override fun getChildAt(childIndex: Int): TreeNode {\n        return childrenNodes[childIndex]\n    }\n\n    override fun getChildCount(): Int {\n        return childrenNodes.size\n    }\n\n    override fun getParent(): TreeNode? {\n        return null\n    }\n\n    override fun getIndex(node: TreeNode?): Int {\n        return childrenNodes.indexOfFirst {\n            it==node\n        }\n    }\n\n    override fun getAllowsChildren(): Boolean {\n        return true\n    }\n\n    override fun isLeaf(): Boolean {\n        return false\n    }\n\n    override fun children(): Enumeration&lt;out TreeNode&gt; {\n        return Collections.enumeration(childrenNodes)\n    }\n}\n\n</code></pre>\n<p>and here is my MainTreeContainer class</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>class DebugBoardView : JPanel(GridLayout()) {\n    private val rootNode = VariableInfoRootNode()\n\n    private val treeModel = DefaultTreeModel(rootNode)\n    private val tree: Tree = Tree(treeModel).apply {\n        isRootVisible = false\n    }\n    \n    // I call this method somewhere else and I want \n    // Tree to update itself and does not lose selection and expansion state\n    fun onVariablesUpdate(list: List&lt;VariableInfo&gt;) {\n        rootNode.setVariableInfo(list)\n        treeModel.nodeStructureChanged(rootNode)\n    }\n\n    init {\n        add(tree)\n        //periodically update with same fake data!\n        javax.swing.Timer(5000) {\n            onVariablesUpdate(fakeInfo)\n        }.start()\n    }\n}\n\n</code></pre>\n<p>my problem is when I call <code>DebugBoardView::onVariablesUpdate</code> my tree will updated but all of selected paths and expanded paths will be gone!</p>\n<p>How can I fix that?</p>\n<p>It's worth to mention that I am developing <code>Intelij Idea Plugin</code> so any solution for this platform could be useful too</p>\n"},{"tags":["java","spring","spring-data","spring-retry"],"comments":[{"owner":{"account_id":232145,"reputation":1695,"user_id":496792,"accept_rate":74,"display_name":"pakman"},"score":0,"creation_date":1581126072,"post_id":49678581,"comment_id":106337583,"body_markdown":"A more interesting question, I think, is if @ Transacional will work with a @ Recover annotated method.... it seems it does not!","body":"A more interesting question, I think, is if @ Transacional will work with a @ Recover annotated method.... it seems it does not!"}],"answers":[{"tags":[],"owner":{"account_id":2076676,"reputation":12739,"user_id":1849837,"accept_rate":88,"display_name":"Bartosz Bilicki"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1522952525,"creation_date":1522951660,"answer_id":49678800,"question_id":49678581,"body_markdown":"If you want to test it independenty and be sure how it behaves then you may have @Transactional @Service, then another service that uses transaction one and just adds retries.\r\n\r\nIn this case, no matter how much you test you are relying on undocumented behaviour (how exactly annotations processing is ordered). This may change between minor releases, based on order in which independent Spring beans are created, etc etc. In short, you are asking for problems when you mix @Transactional and @Retry on same method.\r\n\r\nedit: There is similar answered question https://stackoverflow.com/a/45514794/1849837 with code\r\n\r\n    @Retryable(StaleStateException.class)\r\n    @Transactional\r\n    public void doSomethingWithFoo(Long fooId){\r\n        // read your entity again before changes!\r\n        Foo foo = fooRepository.findOne(fooId);\r\n        foo.setStatus(REJECTED)  // &lt;- sample foo modification\r\n    } // commit on method end\r\n\r\nIn that case it seems to be fine, because no matter what order is (retry then transaction, or transaction or retry) observable behaviour will be the same. \r\n\r\n","title":"Spring Retry with Transactional","body":"<p>If you want to test it independenty and be sure how it behaves then you may have @Transactional @Service, then another service that uses transaction one and just adds retries.</p>\n\n<p>In this case, no matter how much you test you are relying on undocumented behaviour (how exactly annotations processing is ordered). This may change between minor releases, based on order in which independent Spring beans are created, etc etc. In short, you are asking for problems when you mix @Transactional and @Retry on same method.</p>\n\n<p>edit: There is similar answered question <a href=\"https://stackoverflow.com/a/45514794/1849837\">https://stackoverflow.com/a/45514794/1849837</a> with code</p>\n\n<pre><code>@Retryable(StaleStateException.class)\n@Transactional\npublic void doSomethingWithFoo(Long fooId){\n    // read your entity again before changes!\n    Foo foo = fooRepository.findOne(fooId);\n    foo.setStatus(REJECTED)  // &lt;- sample foo modification\n} // commit on method end\n</code></pre>\n\n<p>In that case it seems to be fine, because no matter what order is (retry then transaction, or transaction or retry) observable behaviour will be the same. </p>\n"},{"tags":[],"owner":{"account_id":1355667,"reputation":1242,"user_id":1294116,"accept_rate":62,"display_name":"Cobra1117"},"down_vote_count":0,"up_vote_count":22,"is_accepted":true,"score":22,"last_activity_date":1645019707,"creation_date":1522962965,"answer_id":49681641,"question_id":49678581,"body_markdown":"Found the answer here:\r\nhttps://docs.spring.io/spring-framework/docs/4.2.x/spring-framework-reference/html/transaction.html#tx-decl-explained\r\nTable 2 indicates that the advice for the `Transactional` annotation has an order of `Ordered.LOWEST_PRECEDENCE`, which means that it is safe to combine `Retryable` with `Transactional` as long as you aren&#39;t overriding the order of the advice for either of those annotations. In other words, you can safely use this form:\r\n\r\n\r\n    @Retryable(StaleStateException.class)\r\n    @Transactional\r\n    public void performDatabaseActions() {\r\n        //Database updates here that may cause an optimistic locking failure \r\n        //when the transaction closes\r\n    }\r\n\r\n","title":"Spring Retry with Transactional","body":"<p>Found the answer here:\n<a href=\"https://docs.spring.io/spring-framework/docs/4.2.x/spring-framework-reference/html/transaction.html#tx-decl-explained\" rel=\"noreferrer\">https://docs.spring.io/spring-framework/docs/4.2.x/spring-framework-reference/html/transaction.html#tx-decl-explained</a>\nTable 2 indicates that the advice for the <code>Transactional</code> annotation has an order of <code>Ordered.LOWEST_PRECEDENCE</code>, which means that it is safe to combine <code>Retryable</code> with <code>Transactional</code> as long as you aren't overriding the order of the advice for either of those annotations. In other words, you can safely use this form:</p>\n<pre><code>@Retryable(StaleStateException.class)\n@Transactional\npublic void performDatabaseActions() {\n    //Database updates here that may cause an optimistic locking failure \n    //when the transaction closes\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2790923,"reputation":623,"user_id":2401173,"display_name":"oceansize"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1544108885,"creation_date":1544108885,"answer_id":53654301,"question_id":49678581,"body_markdown":"By default Spring Retry builds advice with the same LOWEST_PRECEDENCE order - take a look at the RetryConfiguration.\r\nHowever, there is a pretty simple way to override this order:\r\n\r\n    @Configuration\r\n    public class MyRetryConfiguration extends RetryConfiguration {\r\n       @Override\r\n       public int getOrder() {\r\n          return Ordered.HIGHEST_PRECEDENCE;\r\n       }\r\n    }\r\n\r\n\r\n\r\nMake sure to omit the @EnableRetry annotation to avoid default RetryConfiguration be taken into account.","title":"Spring Retry with Transactional","body":"<p>By default Spring Retry builds advice with the same LOWEST_PRECEDENCE order - take a look at the RetryConfiguration.\nHowever, there is a pretty simple way to override this order:</p>\n\n<pre><code>@Configuration\npublic class MyRetryConfiguration extends RetryConfiguration {\n   @Override\n   public int getOrder() {\n      return Ordered.HIGHEST_PRECEDENCE;\n   }\n}\n</code></pre>\n\n<p>Make sure to omit the @EnableRetry annotation to avoid default RetryConfiguration be taken into account.</p>\n"},{"tags":[],"owner":{"account_id":2195409,"reputation":2824,"user_id":2420718,"display_name":"Julian Espinel"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1595793947,"creation_date":1595793947,"answer_id":63105134,"question_id":49678581,"body_markdown":"In case you are using Spring Boot and you want to use `@Retryable`, this is what you need to do:\r\n\r\n1. Add the dependency to the pom:\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.retry&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-retry&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n2. Enable retries in your Spring Boot application:\r\n```java\r\n@EnableRetry // &lt;-- Add This\r\n@SpringBootApplication\r\npublic class SomeApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(SomeApplication.class, args);\r\n\t}\r\n\r\n}\r\n```\r\n\r\n3. Annotate your method with `@Retryable`:\r\n```java\r\n@Retryable(value = CannotAcquireLockException.class,\r\n        backoff = @Backoff(delay = 100, maxDelay = 300))\r\n@Transactional(isolation = Isolation.SERIALIZABLE)\r\npublic boolean someMethod(String someArg, long otherArg) {\r\n    ...\r\n}\r\n```\r\n\r\nYou can annotate the same method with both `@Retryable` and `@Transactional` and it will work as expected.","title":"Spring Retry with Transactional","body":"<p>In case you are using Spring Boot and you want to use <code>@Retryable</code>, this is what you need to do:</p>\n<ol>\n<li>Add the dependency to the pom:</li>\n</ol>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.retry&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-retry&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<ol start=\"2\">\n<li>Enable retries in your Spring Boot application:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>@EnableRetry // &lt;-- Add This\n@SpringBootApplication\npublic class SomeApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(SomeApplication.class, args);\n    }\n\n}\n</code></pre>\n<ol start=\"3\">\n<li>Annotate your method with <code>@Retryable</code>:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>@Retryable(value = CannotAcquireLockException.class,\n        backoff = @Backoff(delay = 100, maxDelay = 300))\n@Transactional(isolation = Isolation.SERIALIZABLE)\npublic boolean someMethod(String someArg, long otherArg) {\n    ...\n}\n</code></pre>\n<p>You can annotate the same method with both <code>@Retryable</code> and <code>@Transactional</code> and it will work as expected.</p>\n"},{"tags":[],"owner":{"account_id":395827,"reputation":5063,"user_id":758991,"accept_rate":55,"display_name":"Ruslan Stelmachenko"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1678304033,"creation_date":1678295468,"answer_id":75676138,"question_id":49678581,"body_markdown":"At the moment (spring-retry version &lt; 2.0.1), by default the order is **undefined** as both advices for `@Retryable` and `@Transactional` annotations have `order = Ordered.LOWEST_PRECEDENCE`.\r\n\r\nIt happens that `RetryConfiguration` advice implements `IntroductionAdvisor` interface. There is also method `org.springframework.aop.support.AopUtils.findAdvisorsThatCanApply` that adds into list all found advisors, but it does it using 2 consecutive loops: at first it adds all advisors that implement `IntroductionAdvisor` interface and then all other avisors (this is why `RetryConfiguration` advisor always happen to be before `BeanFactoryTransactionAttributeSourceAdvisor` in this list). Then `org.springframework.core.annotation.AnnotationAwareOrderComparator.sort` method is called, but because both advisors have the same order, the method keeps the order of advisors in the list.\r\n\r\nSo, basically, the reason why `@Retryable` advisor is applied before `@Transactional` advisor at the moment is just &quot;by accident&quot;, or &quot;implementation detail&quot;. It could be changed any moment by changing implementation of `AopUtils.findAdvisorsThatCanApply` method or `AnnotationAwareOrderComparator` etc. So, it&#39;s better to not rely on this implementation detail in your code. :)\r\n\r\nStarting from `spring-retry` version `2.0.1` (not released yet) there is new `order` attribute of `@EnableRetry` annotation that is equal to `Ordered.LOWEST_PRECEDENCE - 1` by default to make sure `@Retryable` advice will always be ordered before `@Transactional` advice (when `@Transactional` advice order is default).\r\n\r\nThe `order` attribute could also be set to any other value, according to your needs, e.g. `Ordered.LOWEST_PRECEDENCE - 4`.\r\n\r\n    @EnableRetry(order = Ordered.LOWEST_PRECEDENCE - 4)\r\n    @Configuration\r\n    public class MyAppConfiguration {}\r\n\r\nWith this configuration (and starting from spring-retry 2.0.1 - by default) the order of applying advices will be as this:\r\n\r\n    @Retryable\r\n      @Transactional\r\n        Your method body\r\n      End of @Transactional\r\n    End of @Retryable\r\n\r\n","title":"Spring Retry with Transactional","body":"<p>At the moment (spring-retry version &lt; 2.0.1), by default the order is <strong>undefined</strong> as both advices for <code>@Retryable</code> and <code>@Transactional</code> annotations have <code>order = Ordered.LOWEST_PRECEDENCE</code>.</p>\n<p>It happens that <code>RetryConfiguration</code> advice implements <code>IntroductionAdvisor</code> interface. There is also method <code>org.springframework.aop.support.AopUtils.findAdvisorsThatCanApply</code> that adds into list all found advisors, but it does it using 2 consecutive loops: at first it adds all advisors that implement <code>IntroductionAdvisor</code> interface and then all other avisors (this is why <code>RetryConfiguration</code> advisor always happen to be before <code>BeanFactoryTransactionAttributeSourceAdvisor</code> in this list). Then <code>org.springframework.core.annotation.AnnotationAwareOrderComparator.sort</code> method is called, but because both advisors have the same order, the method keeps the order of advisors in the list.</p>\n<p>So, basically, the reason why <code>@Retryable</code> advisor is applied before <code>@Transactional</code> advisor at the moment is just &quot;by accident&quot;, or &quot;implementation detail&quot;. It could be changed any moment by changing implementation of <code>AopUtils.findAdvisorsThatCanApply</code> method or <code>AnnotationAwareOrderComparator</code> etc. So, it's better to not rely on this implementation detail in your code. :)</p>\n<p>Starting from <code>spring-retry</code> version <code>2.0.1</code> (not released yet) there is new <code>order</code> attribute of <code>@EnableRetry</code> annotation that is equal to <code>Ordered.LOWEST_PRECEDENCE - 1</code> by default to make sure <code>@Retryable</code> advice will always be ordered before <code>@Transactional</code> advice (when <code>@Transactional</code> advice order is default).</p>\n<p>The <code>order</code> attribute could also be set to any other value, according to your needs, e.g. <code>Ordered.LOWEST_PRECEDENCE - 4</code>.</p>\n<pre><code>@EnableRetry(order = Ordered.LOWEST_PRECEDENCE - 4)\n@Configuration\npublic class MyAppConfiguration {}\n</code></pre>\n<p>With this configuration (and starting from spring-retry 2.0.1 - by default) the order of applying advices will be as this:</p>\n<pre><code>@Retryable\n  @Transactional\n    Your method body\n  End of @Transactional\nEnd of @Retryable\n</code></pre>\n"}],"owner":{"account_id":1355667,"reputation":1242,"user_id":1294116,"accept_rate":62,"display_name":"Cobra1117"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26218,"favorite_count":0,"down_vote_count":0,"up_vote_count":37,"accepted_answer_id":49681641,"answer_count":5,"score":37,"last_activity_date":1678304033,"creation_date":1522950823,"question_id":49678581,"body_markdown":"Is Spring Retry guaranteed to work with Spring&#39;s `@Transactional` annotation?\r\n\r\nSpecifically, I&#39;m trying to use `@Retryable` for optimistic locking. It seems like it would be dependent on the ordering of the AOP proxies that were created. For example, if the calls look like this:\r\n\r\nCalling code -&gt; Retry Proxy -&gt; Transaction Proxy -&gt; Actual DB Code\r\n\r\nThen it would work correctly, but if the proxies were structured like this:\r\n\r\nCalling code -&gt; Transaction Proxy -&gt; Retry Proxy -&gt; Actual DB Code\r\n\r\nThen the retry wouldn&#39;t work, because the act of closing the transaction is what throws the optmistic locking exception.\r\n\r\nIn testing, it appeared to generate the first case (retry, then transaction), but I couldn&#39;t tell if this was a guaranteed behavior or just lucky.\r\n","title":"Spring Retry with Transactional","body":"<p>Is Spring Retry guaranteed to work with Spring's <code>@Transactional</code> annotation?</p>\n\n<p>Specifically, I'm trying to use <code>@Retryable</code> for optimistic locking. It seems like it would be dependent on the ordering of the AOP proxies that were created. For example, if the calls look like this:</p>\n\n<p>Calling code -> Retry Proxy -> Transaction Proxy -> Actual DB Code</p>\n\n<p>Then it would work correctly, but if the proxies were structured like this:</p>\n\n<p>Calling code -> Transaction Proxy -> Retry Proxy -> Actual DB Code</p>\n\n<p>Then the retry wouldn't work, because the act of closing the transaction is what throws the optmistic locking exception.</p>\n\n<p>In testing, it appeared to generate the first case (retry, then transaction), but I couldn't tell if this was a guaranteed behavior or just lucky.</p>\n"},{"tags":["java","android","firebase","firebase-storage"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1653742822,"post_id":37374868,"comment_id":127927959,"body_markdown":"This [article](https://medium.com/firebase-tips-tricks/how-to-upload-an-image-to-cloud-storage-and-save-the-url-in-firestore-42711ca1df46) and this [repo](https://github.com/alexmamo/CloudStorageJetpackCompose/) will help for sure.","body":"This <a href=\"https://medium.com/firebase-tips-tricks/how-to-upload-an-image-to-cloud-storage-and-save-the-url-in-firestore-42711ca1df46\" rel=\"nofollow noreferrer\">article</a> and this <a href=\"https://github.com/alexmamo/CloudStorageJetpackCompose/\" rel=\"nofollow noreferrer\">repo</a> will help for sure."}],"answers":[{"tags":[],"owner":{"account_id":7115118,"reputation":1725,"user_id":5441705,"display_name":"Benjamin Wulfe"},"down_vote_count":0,"up_vote_count":41,"is_accepted":true,"score":41,"last_activity_date":1567961159,"creation_date":1463948484,"answer_id":37379251,"question_id":37374868,"body_markdown":"Please refer to the [documentation for getting a download URL][1].\r\n\r\nWhen you call `getDownloadUrl()`, the call is asynchronous and you must subscribe on a success callback to obtain the results:\r\n\r\n    // Calls the server to securely obtain an unguessable download Url\r\n    private void getUrlAsync (String date){\r\n        // Points to the root reference\r\n        StorageReference storageRef = FirebaseStorage.getInstance().getReference();\r\n        StorageReference dateRef = storageRef.child(&quot;/&quot; + date+ &quot;.csv&quot;);\r\n        dateRef.getDownloadUrl().addOnSuccessListener(new OnSuccessListener&lt;Uri&gt;()\r\n        {\r\n            @Override\r\n            public void onSuccess(Uri downloadUrl) \r\n            {                \r\n               //do something with downloadurl\r\n            } \r\n        });\r\n    }\r\n\r\nThis will return a public unguessable download url. If you just uploaded a file, this public url will be in the success callback of the upload (you do not need to call another async method after you&#39;ve uploaded).\r\n\r\nHowever, if all you want is a `String` representation of the reference, you can just call `.toString()`\r\n\r\n    // Returns a Uri of the form gs://bucket/path that can be used\r\n    // in future calls to getReferenceFromUrl to perform additional\r\n    // actions\r\n    private String niceRefLink (String date){\r\n        // Points to the root reference\r\n        StorageReference storageRef = FirebaseStorage.getInstance().getReference();\r\n        StorageReference dateRef = storageRef.child(&quot;/&quot; + date+ &quot;.csv&quot;);\r\n        return dateRef.toString();\r\n    }\r\n\r\n\r\n  [1]: https://firebase.google.com/docs/storage/android/download-files#download_data_via_url","title":"How to get URL from Firebase Storage getDownloadURL","body":"<p>Please refer to the <a href=\"https://firebase.google.com/docs/storage/android/download-files#download_data_via_url\" rel=\"noreferrer\">documentation for getting a download URL</a>.</p>\n\n<p>When you call <code>getDownloadUrl()</code>, the call is asynchronous and you must subscribe on a success callback to obtain the results:</p>\n\n<pre><code>// Calls the server to securely obtain an unguessable download Url\nprivate void getUrlAsync (String date){\n    // Points to the root reference\n    StorageReference storageRef = FirebaseStorage.getInstance().getReference();\n    StorageReference dateRef = storageRef.child(\"/\" + date+ \".csv\");\n    dateRef.getDownloadUrl().addOnSuccessListener(new OnSuccessListener&lt;Uri&gt;()\n    {\n        @Override\n        public void onSuccess(Uri downloadUrl) \n        {                \n           //do something with downloadurl\n        } \n    });\n}\n</code></pre>\n\n<p>This will return a public unguessable download url. If you just uploaded a file, this public url will be in the success callback of the upload (you do not need to call another async method after you've uploaded).</p>\n\n<p>However, if all you want is a <code>String</code> representation of the reference, you can just call <code>.toString()</code></p>\n\n<pre><code>// Returns a Uri of the form gs://bucket/path that can be used\n// in future calls to getReferenceFromUrl to perform additional\n// actions\nprivate String niceRefLink (String date){\n    // Points to the root reference\n    StorageReference storageRef = FirebaseStorage.getInstance().getReference();\n    StorageReference dateRef = storageRef.child(\"/\" + date+ \".csv\");\n    return dateRef.toString();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9445775,"reputation":3008,"user_id":7024599,"display_name":"Raj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1536935458,"creation_date":1536935458,"answer_id":52334062,"question_id":37374868,"body_markdown":"\r\n    StorageReference mStorageRef = FirebaseStorage.getInstance().getReference();\r\n\r\n    final   StorageReference fileupload=mStorageRef.child(&quot;Photos&quot;).child(fileUri.getLastPathSegment());\r\n    UploadTask uploadTask = fileupload.putFile(fileUri);\r\n    \r\n    Task&lt;Uri&gt; urlTask = uploadTask.continueWithTask(new Continuation&lt;UploadTask.TaskSnapshot, Task&lt;Uri&gt;&gt;() {\r\n        @Override\r\n        public Task&lt;Uri&gt; then(@NonNull Task&lt;UploadTask.TaskSnapshot&gt; task) throws Exception {\r\n            if (!task.isSuccessful()) {\r\n                throw task.getException();\r\n            }\r\n            return ref.getDownloadUrl();\r\n    \r\n        }\r\n        }).addOnCompleteListener(new OnCompleteListener&lt;Uri&gt;() {\r\n            @Override\r\n            public void onComplete(@NonNull Task&lt;Uri&gt; task) {\r\n                if (task.isSuccessful()) {\r\n                    Uri downloadUri = task.getResult();\r\n                    Picasso.get().load(downloadUri.toString()).into(image);\r\n    \r\n                } else {\r\n                     // Handle failures\r\n                }\r\n           }\r\n    });","title":"How to get URL from Firebase Storage getDownloadURL","body":"<pre><code>StorageReference mStorageRef = FirebaseStorage.getInstance().getReference();\n\nfinal   StorageReference fileupload=mStorageRef.child(\"Photos\").child(fileUri.getLastPathSegment());\nUploadTask uploadTask = fileupload.putFile(fileUri);\n\nTask&lt;Uri&gt; urlTask = uploadTask.continueWithTask(new Continuation&lt;UploadTask.TaskSnapshot, Task&lt;Uri&gt;&gt;() {\n    @Override\n    public Task&lt;Uri&gt; then(@NonNull Task&lt;UploadTask.TaskSnapshot&gt; task) throws Exception {\n        if (!task.isSuccessful()) {\n            throw task.getException();\n        }\n        return ref.getDownloadUrl();\n\n    }\n    }).addOnCompleteListener(new OnCompleteListener&lt;Uri&gt;() {\n        @Override\n        public void onComplete(@NonNull Task&lt;Uri&gt; task) {\n            if (task.isSuccessful()) {\n                Uri downloadUri = task.getResult();\n                Picasso.get().load(downloadUri.toString()).into(image);\n\n            } else {\n                 // Handle failures\n            }\n       }\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14491845,"reputation":170,"user_id":10467779,"display_name":"Subhojit Halder"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1581333596,"creation_date":1541635965,"answer_id":53199791,"question_id":37374868,"body_markdown":"&gt; //Firebase Storage - Easy to Working with uploads and downloads.\r\n\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable final Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n        if(requestCode == RC_SIGN_IN){\r\n            if(resultCode == RESULT_OK){\r\n                Toast.makeText(this,&quot;Signed in!&quot;, LENGTH_SHORT).show();\r\n            } else if(resultCode == RESULT_CANCELED){\r\n                Toast.makeText(this,&quot;Signed in canceled!&quot;, LENGTH_SHORT).show();\r\n                finish();\r\n            }\r\n        } else if(requestCode == RC_PHOTO_PICKER &amp;&amp; resultCode == RESULT_OK){\r\n            \r\n            // HERE I CALLED THAT METHOD\r\n            uploadPhotoInFirebase(data);\r\n\r\n        }\r\n    }\r\n\r\n    private void uploadPhotoInFirebase(@Nullable Intent data) {\r\n        Uri selectedImageUri = data.getData();\r\n\r\n        // Get a reference to store file at chat_photos/&lt;FILENAME&gt;\r\n        final StorageReference photoRef = mChatPhotoStorageReference\r\n                        .child(selectedImageUri\r\n                        .getLastPathSegment());\r\n\r\n        // Upload file to Firebase Storage\r\n        photoRef.putFile(selectedImageUri)\r\n                .addOnSuccessListener(new OnSuccessListener&lt;UploadTask.TaskSnapshot&gt;() {\r\n                    @Override\r\n                    public void onSuccess(UploadTask.TaskSnapshot taskSnapshot) {\r\n\r\n                        // Download file From Firebase Storage\r\n                        photoRef.getDownloadUrl().addOnSuccessListener(new OnSuccessListener&lt;Uri&gt;() {\r\n                            @Override\r\n                            public void onSuccess(Uri downloadPhotoUrl) {\r\n                                //Now play with downloadPhotoUrl\r\n                                //Store data into Firebase Realtime Database\r\n                                FriendlyMessage friendlyMessage = new FriendlyMessage\r\n                                        (null, mUsername, downloadPhotoUrl.toString());\r\n                                mDatabaseReference.push().setValue(friendlyMessage);\r\n                            }\r\n                        });\r\n                    }\r\n                });\r\n    }\r\n","title":"How to get URL from Firebase Storage getDownloadURL","body":"<blockquote>\n  <p>//Firebase Storage - Easy to Working with uploads and downloads.</p>\n</blockquote>\n\n<pre><code>@Override\nprotected void onActivityResult(int requestCode, int resultCode, @Nullable final Intent data) {\n    super.onActivityResult(requestCode, resultCode, data);\n    if(requestCode == RC_SIGN_IN){\n        if(resultCode == RESULT_OK){\n            Toast.makeText(this,\"Signed in!\", LENGTH_SHORT).show();\n        } else if(resultCode == RESULT_CANCELED){\n            Toast.makeText(this,\"Signed in canceled!\", LENGTH_SHORT).show();\n            finish();\n        }\n    } else if(requestCode == RC_PHOTO_PICKER &amp;&amp; resultCode == RESULT_OK){\n\n        // HERE I CALLED THAT METHOD\n        uploadPhotoInFirebase(data);\n\n    }\n}\n\nprivate void uploadPhotoInFirebase(@Nullable Intent data) {\n    Uri selectedImageUri = data.getData();\n\n    // Get a reference to store file at chat_photos/&lt;FILENAME&gt;\n    final StorageReference photoRef = mChatPhotoStorageReference\n                    .child(selectedImageUri\n                    .getLastPathSegment());\n\n    // Upload file to Firebase Storage\n    photoRef.putFile(selectedImageUri)\n            .addOnSuccessListener(new OnSuccessListener&lt;UploadTask.TaskSnapshot&gt;() {\n                @Override\n                public void onSuccess(UploadTask.TaskSnapshot taskSnapshot) {\n\n                    // Download file From Firebase Storage\n                    photoRef.getDownloadUrl().addOnSuccessListener(new OnSuccessListener&lt;Uri&gt;() {\n                        @Override\n                        public void onSuccess(Uri downloadPhotoUrl) {\n                            //Now play with downloadPhotoUrl\n                            //Store data into Firebase Realtime Database\n                            FriendlyMessage friendlyMessage = new FriendlyMessage\n                                    (null, mUsername, downloadPhotoUrl.toString());\n                            mDatabaseReference.push().setValue(friendlyMessage);\n                        }\n                    });\n                }\n            });\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12170600,"reputation":849,"user_id":8885420,"display_name":"Shrawan Thakur"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1550168457,"creation_date":1550167958,"answer_id":54696675,"question_id":37374868,"body_markdown":"**here i am uploading and getting the image url at the same time...**\r\n\r\n               final StorageReference profileImageRef = FirebaseStorage.getInstance().getReference(&quot;profilepics/&quot; + System.currentTimeMillis() + &quot;.jpg&quot;);\r\n        \r\n                if (uriProfileImage != null) {\r\n             \r\n                profileImageRef.putFile(uriProfileImage)\r\n                            .addOnSuccessListener(new OnSuccessListener&lt;UploadTask.TaskSnapshot&gt;() {\r\n                                @Override\r\n                                public void onSuccess(UploadTask.TaskSnapshot taskSnapshot) {\r\n                                   // profileImageUrl taskSnapshot.getDownloadUrl().toString(); //this is depreciated\r\n                                    \r\n                              //this is the new way to do it\r\n                       profileImageRef.getDownloadUrl().addOnCompleteListener(new OnCompleteListener&lt;Uri&gt;() {\r\n                                        @Override\r\n                                        public void onComplete(@NonNull Task&lt;Uri&gt; task) {\r\n                                           String profileImageUrl=task.getResult().toString();\r\n                                            Log.i(&quot;URL&quot;,profileImageUrl);\r\n                                        }\r\n                                    });\r\n                                }\r\n                            })\r\n                            .addOnFailureListener(new OnFailureListener() {\r\n                                @Override\r\n                                public void onFailure(@NonNull Exception e) {\r\n                                    progressBar.setVisibility(View.GONE);\r\n                                    Toast.makeText(ProfileActivity.this, &quot;aaa &quot;+e.getMessage(), Toast.LENGTH_SHORT).show();\r\n                                }\r\n                            });\r\n                }","title":"How to get URL from Firebase Storage getDownloadURL","body":"<p><strong>here i am uploading and getting the image url at the same time...</strong></p>\n\n<pre><code>           final StorageReference profileImageRef = FirebaseStorage.getInstance().getReference(\"profilepics/\" + System.currentTimeMillis() + \".jpg\");\n\n            if (uriProfileImage != null) {\n\n            profileImageRef.putFile(uriProfileImage)\n                        .addOnSuccessListener(new OnSuccessListener&lt;UploadTask.TaskSnapshot&gt;() {\n                            @Override\n                            public void onSuccess(UploadTask.TaskSnapshot taskSnapshot) {\n                               // profileImageUrl taskSnapshot.getDownloadUrl().toString(); //this is depreciated\n\n                          //this is the new way to do it\n                   profileImageRef.getDownloadUrl().addOnCompleteListener(new OnCompleteListener&lt;Uri&gt;() {\n                                    @Override\n                                    public void onComplete(@NonNull Task&lt;Uri&gt; task) {\n                                       String profileImageUrl=task.getResult().toString();\n                                        Log.i(\"URL\",profileImageUrl);\n                                    }\n                                });\n                            }\n                        })\n                        .addOnFailureListener(new OnFailureListener() {\n                            @Override\n                            public void onFailure(@NonNull Exception e) {\n                                progressBar.setVisibility(View.GONE);\n                                Toast.makeText(ProfileActivity.this, \"aaa \"+e.getMessage(), Toast.LENGTH_SHORT).show();\n                            }\n                        });\n            }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4911774,"reputation":539,"user_id":7011829,"display_name":"Vikash Sharma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1559143802,"creation_date":1559143802,"answer_id":56364026,"question_id":37374868,"body_markdown":"    Clean And Simple\r\n    private void putImageInStorage(StorageReference storageReference, Uri uri, final String key) {\r\n            storageReference.putFile(uri).addOnCompleteListener(MainActivity.this,\r\n                    new OnCompleteListener&lt;UploadTask.TaskSnapshot&gt;() {\r\n                        @Override\r\n                        public void onComplete(@NonNull Task&lt;UploadTask.TaskSnapshot&gt; task) {\r\n                            if (task.isSuccessful()) {\r\n                                task.getResult().getMetadata().getReference().getDownloadUrl()\r\n                                        .addOnCompleteListener(MainActivity.this, \r\n                                                new OnCompleteListener&lt;Uri&gt;() {\r\n                                    @Override\r\n                                    public void onComplete(@NonNull Task&lt;Uri&gt; task) {\r\n                                        if (task.isSuccessful()) {\r\n                                            FriendlyMessage friendlyMessage =\r\n                                                    new FriendlyMessage(null, mUsername, mPhotoUrl,\r\n                                                            task.getResult().toString());\r\n                                            mFirebaseDatabaseReference.child(MESSAGES_CHILD).child(key)\r\n                                                    .setValue(friendlyMessage);\r\n                                        }\r\n                                    }\r\n                                });\r\n                            } else {\r\n                                Log.w(TAG, &quot;Image upload task was not successful.&quot;,\r\n                                        task.getException());\r\n                            }\r\n                        }\r\n                    });\r\n        }","title":"How to get URL from Firebase Storage getDownloadURL","body":"<pre><code>Clean And Simple\nprivate void putImageInStorage(StorageReference storageReference, Uri uri, final String key) {\n        storageReference.putFile(uri).addOnCompleteListener(MainActivity.this,\n                new OnCompleteListener&lt;UploadTask.TaskSnapshot&gt;() {\n                    @Override\n                    public void onComplete(@NonNull Task&lt;UploadTask.TaskSnapshot&gt; task) {\n                        if (task.isSuccessful()) {\n                            task.getResult().getMetadata().getReference().getDownloadUrl()\n                                    .addOnCompleteListener(MainActivity.this, \n                                            new OnCompleteListener&lt;Uri&gt;() {\n                                @Override\n                                public void onComplete(@NonNull Task&lt;Uri&gt; task) {\n                                    if (task.isSuccessful()) {\n                                        FriendlyMessage friendlyMessage =\n                                                new FriendlyMessage(null, mUsername, mPhotoUrl,\n                                                        task.getResult().toString());\n                                        mFirebaseDatabaseReference.child(MESSAGES_CHILD).child(key)\n                                                .setValue(friendlyMessage);\n                                    }\n                                }\n                            });\n                        } else {\n                            Log.w(TAG, \"Image upload task was not successful.\",\n                                    task.getException());\n                        }\n                    }\n                });\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16296359,"reputation":11,"user_id":11768495,"display_name":"DeveLion"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1562828230,"creation_date":1562826807,"answer_id":56982917,"question_id":37374868,"body_markdown":"The getDownloadUrl method was removed in firebase versions greater than 11.0.5\r\nI recommend using version 11.0.2 that still uses this method. \r\n\r\n","title":"How to get URL from Firebase Storage getDownloadURL","body":"<p>The getDownloadUrl method was removed in firebase versions greater than 11.0.5\nI recommend using version 11.0.2 that still uses this method. </p>\n"},{"tags":[],"owner":{"account_id":13428791,"reputation":51,"user_id":9689202,"display_name":"TwistenTiger"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1564056056,"creation_date":1564056056,"answer_id":57201506,"question_id":37374868,"body_markdown":"For me, I did my code in Kotlin and I had the same error &quot;getDownload()&quot;. Here are both the dependencies that worked for me and the Kotlin code.\r\n\r\n   `implementation &#39;com.google.firebase:firebase-storage:18.1.0&#39;` firebase storage dependencies\r\n\r\nThis what I added and it worked for me in Kotlin. Storage() would come before Download()\r\n\r\n    profileImageUri = taskSnapshot.storage.downloadUrl.toString()\r\n","title":"How to get URL from Firebase Storage getDownloadURL","body":"<p>For me, I did my code in Kotlin and I had the same error \"getDownload()\". Here are both the dependencies that worked for me and the Kotlin code.</p>\n\n<p><code>implementation 'com.google.firebase:firebase-storage:18.1.0'</code> firebase storage dependencies</p>\n\n<p>This what I added and it worked for me in Kotlin. Storage() would come before Download()</p>\n\n<pre><code>profileImageUri = taskSnapshot.storage.downloadUrl.toString()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13374715,"reputation":11,"user_id":9651898,"display_name":"epiphmo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1565291073,"creation_date":1565291073,"answer_id":57419190,"question_id":37374868,"body_markdown":"The getDownloadUrl method has now been depreciated in the new firebase update. Instead use the following method.\r\n***taskSnapshot.getMetadata().getReference().getDownloadUrl().toString()***","title":"How to get URL from Firebase Storage getDownloadURL","body":"<p>The getDownloadUrl method has now been depreciated in the new firebase update. Instead use the following method.\n<strong><em>taskSnapshot.getMetadata().getReference().getDownloadUrl().toString()</em></strong></p>\n"},{"tags":[],"owner":{"account_id":12601487,"reputation":304,"user_id":9164064,"display_name":"chris"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1573656614,"creation_date":1573656614,"answer_id":58839692,"question_id":37374868,"body_markdown":"change the received **URI** to **URL**\r\n\r\n```\r\n val urlTask = uploadTask.continueWith { task -&gt;\r\n            if (!task.isSuccessful) {\r\n                task.exception?.let {\r\n                    throw it\r\n                }\r\n            }\r\n\r\n            \r\n            spcaeRef.downloadUrl\r\n        }.addOnCompleteListener { task -&gt;\r\n            if (task.isSuccessful) {\r\n                \r\n                val downloadUri = task.result\r\n                \r\n                //URL\r\n                val url = downloadUri!!.result\r\n                \r\n            } else {\r\n                //handle failure here\r\n            }\r\n        }\r\n\r\n```","title":"How to get URL from Firebase Storage getDownloadURL","body":"<p>change the received <strong>URI</strong> to <strong>URL</strong></p>\n\n<pre><code> val urlTask = uploadTask.continueWith { task -&gt;\n            if (!task.isSuccessful) {\n                task.exception?.let {\n                    throw it\n                }\n            }\n\n\n            spcaeRef.downloadUrl\n        }.addOnCompleteListener { task -&gt;\n            if (task.isSuccessful) {\n\n                val downloadUri = task.result\n\n                //URL\n                val url = downloadUri!!.result\n\n            } else {\n                //handle failure here\n            }\n        }\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9045334,"reputation":11,"user_id":6737900,"display_name":"Hamza Khliefat"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1577102965,"creation_date":1577102965,"answer_id":59455132,"question_id":37374868,"body_markdown":"You can Upload images to firestore and get it&#39;s download URL as below function:\r\n\r\n```\r\n  Future&lt;String&gt; uploadPic(File _image) async {\r\n\r\n    String fileName = basename(_image.path);\r\n    StorageReference firebaseStorageRef = FirebaseStorage.instance.ref().child(fileName);\r\n    StorageUploadTask uploadTask = firebaseStorageRef.putFile(_image);\r\n    var downloadURL = await(await uploadTask.onComplete).ref.getDownloadURL();\r\n    var url =downloadURL.toString();\r\n\r\n   return url;\r\n\r\n  }\r\n```","title":"How to get URL from Firebase Storage getDownloadURL","body":"<p>You can Upload images to firestore and get it's download URL as below function:</p>\n\n<pre><code>  Future&lt;String&gt; uploadPic(File _image) async {\n\n    String fileName = basename(_image.path);\n    StorageReference firebaseStorageRef = FirebaseStorage.instance.ref().child(fileName);\n    StorageUploadTask uploadTask = firebaseStorageRef.putFile(_image);\n    var downloadURL = await(await uploadTask.onComplete).ref.getDownloadURL();\n    var url =downloadURL.toString();\n\n   return url;\n\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21158437,"reputation":1,"user_id":15557225,"display_name":"Bharat Kumawat"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1617624212,"creation_date":1617624212,"answer_id":66952747,"question_id":37374868,"body_markdown":"     private void getDownloadUrl(){\r\n            FirebaseStorage storage     = FirebaseStorage.getInstance();\r\n            StorageReference storageRef = storage.getReference();\r\n            StorageReference imageRef   = storageRef.child(&quot;image.jpg&quot;);\r\n            imageRef.getDownloadUrl().addOnCompleteListener(new OnCompleteListener&lt;Uri&gt;() {\r\n                @Override\r\n                public void onComplete(@NonNull Task&lt;Uri&gt; task) {\r\n                    String profileimageurl =task.getResult().toString();\r\n                    Log.e(&quot;URL&quot;,profileimageurl);\r\n                    ShowPathTextView.setText(profileimageurl);\r\n                }\r\n            });\r\n        }","title":"How to get URL from Firebase Storage getDownloadURL","body":"<pre><code> private void getDownloadUrl(){\n        FirebaseStorage storage     = FirebaseStorage.getInstance();\n        StorageReference storageRef = storage.getReference();\n        StorageReference imageRef   = storageRef.child(&quot;image.jpg&quot;);\n        imageRef.getDownloadUrl().addOnCompleteListener(new OnCompleteListener&lt;Uri&gt;() {\n            @Override\n            public void onComplete(@NonNull Task&lt;Uri&gt; task) {\n                String profileimageurl =task.getResult().toString();\n                Log.e(&quot;URL&quot;,profileimageurl);\n                ShowPathTextView.setText(profileimageurl);\n            }\n        });\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11126922,"reputation":2368,"user_id":8168140,"display_name":"gsm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1622533576,"creation_date":1622533576,"answer_id":67784726,"question_id":37374868,"body_markdown":"**Also you can do as follows In latest Firebase_storage version nullsafe,**\r\n\r\n    //Import\r\n    import &#39;package:firebase_storage/firebase_storage.dart&#39; as firebase_storage;\r\n    \r\n    Future&lt;void&gt; _downloadLink(firebase_storage.Reference ref) async {\r\n        //Getting link make sure call await to make sure this function returned a value\r\n        final link = await ref.getDownloadURL();\r\n    \r\n        await Clipboard.setData(ClipboardData(\r\n          text: link,\r\n        ));\r\n    \r\n        ScaffoldMessenger.of(context).showSnackBar(\r\n          const SnackBar(\r\n            content: Text(\r\n              &#39;Success!\\n Copied download URL to Clipboard!&#39;,\r\n            ),\r\n          ),\r\n        );\r\n      }","title":"How to get URL from Firebase Storage getDownloadURL","body":"<p><strong>Also you can do as follows In latest Firebase_storage version nullsafe,</strong></p>\n<pre><code>//Import\nimport 'package:firebase_storage/firebase_storage.dart' as firebase_storage;\n\nFuture&lt;void&gt; _downloadLink(firebase_storage.Reference ref) async {\n    //Getting link make sure call await to make sure this function returned a value\n    final link = await ref.getDownloadURL();\n\n    await Clipboard.setData(ClipboardData(\n      text: link,\n    ));\n\n    ScaffoldMessenger.of(context).showSnackBar(\n      const SnackBar(\n        content: Text(\n          'Success!\\n Copied download URL to Clipboard!',\n        ),\n      ),\n    );\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11944134,"reputation":49,"user_id":8888720,"display_name":"Aman Thakur"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634553924,"creation_date":1634553924,"answer_id":69614705,"question_id":37374868,"body_markdown":"    implementation &#39;com.google.firebase:firebase-storage:19.2.0&#39;\r\nRecently getting url from upload task wasn&#39;t working so I tried this and worked for me on above dependency. \r\nSo inside where you use firebase upload method use this.\r\nfilepath is the reference of Firebase Stoarage.\r\n    \r\n    filePath.putFile(imageUri).addOnSuccessListener(new OnSuccessListener&lt;UploadTask.TaskSnapshot&gt;() {\r\n        @Override\r\n        public void onSuccess(UploadTask.TaskSnapshot taskSnapshot) {\r\n            filePath.getDownloadUrl().addOnSuccessListener(new OnSuccessListener&lt;Uri&gt;() {\r\n                @Override\r\n                public void onSuccess(Uri uri) {\r\n                    Log.d(TAG, &quot;onSuccess: uri= &quot;+ uri.toString());\r\n                }\r\n            });\r\n        }\r\n    });","title":"How to get URL from Firebase Storage getDownloadURL","body":"<pre><code>implementation 'com.google.firebase:firebase-storage:19.2.0'\n</code></pre>\n<p>Recently getting url from upload task wasn't working so I tried this and worked for me on above dependency.\nSo inside where you use firebase upload method use this.\nfilepath is the reference of Firebase Stoarage.</p>\n<pre><code>filePath.putFile(imageUri).addOnSuccessListener(new OnSuccessListener&lt;UploadTask.TaskSnapshot&gt;() {\n    @Override\n    public void onSuccess(UploadTask.TaskSnapshot taskSnapshot) {\n        filePath.getDownloadUrl().addOnSuccessListener(new OnSuccessListener&lt;Uri&gt;() {\n            @Override\n            public void onSuccess(Uri uri) {\n                Log.d(TAG, &quot;onSuccess: uri= &quot;+ uri.toString());\n            }\n        });\n    }\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27441342,"reputation":1,"user_id":20936185,"display_name":"DEL"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678304031,"creation_date":1678304031,"answer_id":75677451,"question_id":37374868,"body_markdown":"firebase.storage().ref(`/users/${userUID}${path}/${newPostKey}`)\r\n                    .getDownloadURL()\r\n                    .then(url =&gt; object.imageUrl = url)","title":"How to get URL from Firebase Storage getDownloadURL","body":"<p>firebase.storage().ref(<code>/users/${userUID}${path}/${newPostKey}</code>)\n.getDownloadURL()\n.then(url =&gt; object.imageUrl = url)</p>\n"}],"owner":{"account_id":5495580,"reputation":533,"user_id":4366818,"display_name":"Jonathan Fager"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":121335,"favorite_count":0,"down_vote_count":0,"up_vote_count":43,"accepted_answer_id":37379251,"answer_count":14,"score":43,"last_activity_date":1678304031,"creation_date":1463922968,"question_id":37374868,"body_markdown":"I&#39;m trying to get the &quot;long term persistent download link&quot; to files in our Firebase storage bucket.\r\nI&#39;ve changed the permissions of this to\r\n \r\n    service firebase.storage {\r\n      match /b/project-xxx.appspot.com/o {\r\n        match /{allPaths=**} {\r\n          allow read, write;\r\n        }\r\n      }\r\n    }\r\n\r\nAnd my javacode looks like this:\r\n\r\n    private String niceLink (String date){\r\n        String link;\r\n        // Points to the root reference\r\n        StorageReference storageRef = FirebaseStorage.getInstance().getReference();\r\n        StorageReference dateRef = storageRef.child(&quot;/&quot; + date+ &quot;.csv&quot;);\r\n        link = dateRef.getDownloadUrl().toString();\r\n        return link;\r\n    }\r\n\r\n\r\nWhen I run this I get the uri link that looks something like\r\n*com.google.android.gms.tasks.zzh@xxx*\r\n\r\n**Question 1.** Can I from this get the download link similar to: *https://firebasestorage.googleapis.com/v0/b/project-xxxx.appspot.com/o/20-5-2016.csv?alt=media&amp;token=b5d45a7f-3ab7-4f9b-b661-3a2187adxxxx*\r\n\r\nWhen trying to get the link above I changed the last row before my return, like this:\r\n\r\n    private String niceLink (String date){\r\n        String link;\r\n        // Points to the root reference\r\n        StorageReference storageRef = FirebaseStorage.getInstance().getReference();\r\n        StorageReference dateRef = storageRef.child(&quot;/&quot; + date+ &quot;.csv&quot;);\r\n        link = dateRef.getDownloadUrl().getResult().toString();\r\n        return link;\r\n    }\r\n\r\nBut when doing this i get a 403 error, and the app crashing. The consol tells me this is bc user is not logged in /auth.\r\n&quot;Please sign in before asking for token&quot;\r\n\r\n\r\n**Question 2.** How do I fix this?","title":"How to get URL from Firebase Storage getDownloadURL","body":"<p>I'm trying to get the \"long term persistent download link\" to files in our Firebase storage bucket.\nI've changed the permissions of this to</p>\n\n<pre><code>service firebase.storage {\n  match /b/project-xxx.appspot.com/o {\n    match /{allPaths=**} {\n      allow read, write;\n    }\n  }\n}\n</code></pre>\n\n<p>And my javacode looks like this:</p>\n\n<pre><code>private String niceLink (String date){\n    String link;\n    // Points to the root reference\n    StorageReference storageRef = FirebaseStorage.getInstance().getReference();\n    StorageReference dateRef = storageRef.child(\"/\" + date+ \".csv\");\n    link = dateRef.getDownloadUrl().toString();\n    return link;\n}\n</code></pre>\n\n<p>When I run this I get the uri link that looks something like\n<em>com.google.android.gms.tasks.zzh@xxx</em></p>\n\n<p><strong>Question 1.</strong> Can I from this get the download link similar to: <em><a href=\"https://firebasestorage.googleapis.com/v0/b/project-xxxx.appspot.com/o/20-5-2016.csv?alt=media&amp;token=b5d45a7f-3ab7-4f9b-b661-3a2187adxxxx\" rel=\"noreferrer\">https://firebasestorage.googleapis.com/v0/b/project-xxxx.appspot.com/o/20-5-2016.csv?alt=media&amp;token=b5d45a7f-3ab7-4f9b-b661-3a2187adxxxx</a></em></p>\n\n<p>When trying to get the link above I changed the last row before my return, like this:</p>\n\n<pre><code>private String niceLink (String date){\n    String link;\n    // Points to the root reference\n    StorageReference storageRef = FirebaseStorage.getInstance().getReference();\n    StorageReference dateRef = storageRef.child(\"/\" + date+ \".csv\");\n    link = dateRef.getDownloadUrl().getResult().toString();\n    return link;\n}\n</code></pre>\n\n<p>But when doing this i get a 403 error, and the app crashing. The consol tells me this is bc user is not logged in /auth.\n\"Please sign in before asking for token\"</p>\n\n<p><strong>Question 2.</strong> How do I fix this?</p>\n"},{"tags":["java","spring-boot","maven"],"owner":{"account_id":9016679,"reputation":13,"user_id":6719272,"display_name":"Marcell Barbacena"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678303527,"creation_date":1678303527,"question_id":75677380,"body_markdown":"I need to add a dependecy JAR (with JNI classes) and the DLLs libraries used in a Spring Boot 3.1.0-M1 rest server project.\r\n\r\nI manage to put then in the local maven repository.\r\n\r\nCode compiles and run. But a error at runtime points that the dependency is not it java.library.path:\r\n\r\n`java.lang.UnsatisfiedLinkError: no &lt;lib&gt; in java.library.path`\r\n\r\nMy pom is:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;custom&lt;/groupId&gt;\r\n        &lt;artifactId&gt;libjni&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;custom&lt;/groupId&gt;\r\n        &lt;artifactId&gt;libdll&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0&lt;/version&gt;\r\n        &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;type&gt;dll&lt;/type&gt;\r\n    &lt;/dependency&gt;\r\n\r\nI don&#39;t know if this is the right approach. I could have used a system scope, but that shows a warning for deprecated and also not managed to make it work.\r\n\r\nI do not use `System.LoadLibrary`.","title":"JNI and DLL dependency in Spring Boot 3.1","body":"<p>I need to add a dependecy JAR (with JNI classes) and the DLLs libraries used in a Spring Boot 3.1.0-M1 rest server project.</p>\n<p>I manage to put then in the local maven repository.</p>\n<p>Code compiles and run. But a error at runtime points that the dependency is not it java.library.path:</p>\n<p><code>java.lang.UnsatisfiedLinkError: no &lt;lib&gt; in java.library.path</code></p>\n<p>My pom is:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;custom&lt;/groupId&gt;\n    &lt;artifactId&gt;libjni&lt;/artifactId&gt;\n    &lt;version&gt;1.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;custom&lt;/groupId&gt;\n    &lt;artifactId&gt;libdll&lt;/artifactId&gt;\n    &lt;version&gt;1.0&lt;/version&gt;\n    &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;type&gt;dll&lt;/type&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I don't know if this is the right approach. I could have used a system scope, but that shows a warning for deprecated and also not managed to make it work.</p>\n<p>I do not use <code>System.LoadLibrary</code>.</p>\n"},{"tags":["java","spring-boot","intellij-idea","graphql","netflix-dgs"],"answers":[{"tags":[],"owner":{"account_id":6116642,"reputation":21,"user_id":4771437,"display_name":"mark-henry"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678303355,"creation_date":1678303355,"answer_id":75677355,"question_id":72784016,"body_markdown":"I had this issue in IntelliJ. Installing the Kotlin plugin [1] fixed it.\r\n\r\n[1] https://plugins.jetbrains.com/plugin/6954-kotlin","title":"Missing import in graphqldgs springboot application","body":"<p>I had this issue in IntelliJ. Installing the Kotlin plugin [1] fixed it.</p>\n<p>[1] <a href=\"https://plugins.jetbrains.com/plugin/6954-kotlin\" rel=\"nofollow noreferrer\">https://plugins.jetbrains.com/plugin/6954-kotlin</a></p>\n"}],"owner":{"account_id":23217247,"reputation":67,"user_id":17310004,"display_name":"DanDevO"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":307,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678303355,"creation_date":1656408805,"question_id":72784016,"body_markdown":"I have installed and setup graphqldgs on a spring boot project following the guide here: https://netflix.github.io/dgs/getting-started/\r\n\r\nWhen i try to write a test case - following the guide here: https://netflix.github.io/dgs/query-execution-testing/ - I am unable to import one of the values, as shown below\r\n\r\n`import com.netflix.graphql.dgs.autoconfig.DgsAutoConfiguration`\r\n\r\nI cannot locate DgsAutoConfiguration. The only thing i have is an asterix (*) after dot notation below:\r\n\r\n`import com.netflix.graphql.dgs.autoconfig.`\r\n\r\nI have these graphqldgs pom dependencies below:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.netflix.graphql.dgs&lt;/groupId&gt;\r\n      &lt;artifactId&gt;graphql-dgs-spring-boot-starter&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.netflix.graphql.dgs&lt;/groupId&gt;\r\n      &lt;artifactId&gt;graphql-dgs-platform-dependencies&lt;/artifactId&gt;\r\n      &lt;!-- The DGS BOM/platform dependency. This is the only place you set version of DGS --&gt;\r\n      &lt;version&gt;4.9.16&lt;/version&gt;\r\n      &lt;type&gt;pom&lt;/type&gt;\r\n      &lt;scope&gt;import&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nAny help is appreciated. Thanks!","title":"Missing import in graphqldgs springboot application","body":"<p>I have installed and setup graphqldgs on a spring boot project following the guide here: <a href=\"https://netflix.github.io/dgs/getting-started/\" rel=\"nofollow noreferrer\">https://netflix.github.io/dgs/getting-started/</a></p>\n<p>When i try to write a test case - following the guide here: <a href=\"https://netflix.github.io/dgs/query-execution-testing/\" rel=\"nofollow noreferrer\">https://netflix.github.io/dgs/query-execution-testing/</a> - I am unable to import one of the values, as shown below</p>\n<p><code>import com.netflix.graphql.dgs.autoconfig.DgsAutoConfiguration</code></p>\n<p>I cannot locate DgsAutoConfiguration. The only thing i have is an asterix (*) after dot notation below:</p>\n<p><code>import com.netflix.graphql.dgs.autoconfig.</code></p>\n<p>I have these graphqldgs pom dependencies below:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;dependency&gt;\n  &lt;groupId&gt;com.netflix.graphql.dgs&lt;/groupId&gt;\n  &lt;artifactId&gt;graphql-dgs-spring-boot-starter&lt;/artifactId&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n  &lt;groupId&gt;com.netflix.graphql.dgs&lt;/groupId&gt;\n  &lt;artifactId&gt;graphql-dgs-platform-dependencies&lt;/artifactId&gt;\n  &lt;!-- The DGS BOM/platform dependency. This is the only place you set version of DGS --&gt;\n  &lt;version&gt;4.9.16&lt;/version&gt;\n  &lt;type&gt;pom&lt;/type&gt;\n  &lt;scope&gt;import&lt;/scope&gt;\n&lt;/dependency&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>Any help is appreciated. Thanks!</p>\n"},{"tags":["java","iterator"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":1,"creation_date":1678303553,"post_id":75677282,"comment_id":133508374,"body_markdown":"It created an array of iterators per vertex. each iterator for the vertex came from `G.adj(v).iterator()`, which I&#39;d assume to be the adjacency list for that vertex. The `Stack` is available vertices (starting with a single vertex), wherein while you are iterating the `Stack` for available vertices, you are adding the neighbors of the vertices to the stack to be considered next. It uses `marked` to track if a vertex was &quot;visited&quot; yet or not, and the stack to determine if its neighbors are exhausted. Since it considers the next available neighbor furthest in the chain first, you have DFS.","body":"It created an array of iterators per vertex. each iterator for the vertex came from <code>G.adj(v).iterator()</code>, which I&#39;d assume to be the adjacency list for that vertex. The <code>Stack</code> is available vertices (starting with a single vertex), wherein while you are iterating the <code>Stack</code> for available vertices, you are adding the neighbors of the vertices to the stack to be considered next. It uses <code>marked</code> to track if a vertex was &quot;visited&quot; yet or not, and the stack to determine if its neighbors are exhausted. Since it considers the next available neighbor furthest in the chain first, you have DFS."}],"owner":{"account_id":16286108,"reputation":1,"user_id":16783510,"display_name":"Makabaka"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1679060196,"answer_count":0,"score":0,"last_activity_date":1678302839,"creation_date":1678302839,"question_id":75677282,"body_markdown":"I am reading code of [implementing depth-first search in an undirected graph without using recursion ](https://algs4.cs.princeton.edu/41graph/NonrecursiveDFS.java) and am confused of how the iteration goes in the code. `hasNext()` and `next()` are used on one array for one iteration and then the code switches to iterating on some other array with `next()`. \r\n\r\nDoes the code know where the iteration is when it goes back and how?\r\n\r\n```\r\npublic class NonrecursiveDFS {\r\n    private boolean[] marked;  // marked[v] = is there an s-v path?\r\n    /**\r\n     * Computes the vertices connected to the source vertex {@code s} in the graph {@code G}.\r\n     * @param G the graph\r\n     * @param s the source vertex\r\n     * @throws IllegalArgumentException unless {@code 0 &lt;= s &lt; V}\r\n     */\r\n    public NonrecursiveDFS(Graph G, int s) {\r\n        marked = new boolean[G.V()];\r\n\r\n        validateVertex(s);\r\n\r\n        // to be able to iterate over each adjacency list, keeping track of which\r\n        // vertex in each adjacency list needs to be explored next\r\n        Iterator&lt;Integer&gt;[] adj = (Iterator&lt;Integer&gt;[]) new Iterator[G.V()];\r\n        for (int v = 0; v &lt; G.V(); v++)\r\n            adj[v] = G.adj(v).iterator();\r\n\r\n        // depth-first search using an explicit stack\r\n        Stack&lt;Integer&gt; stack = new Stack&lt;Integer&gt;();\r\n        marked[s] = true;\r\n        stack.push(s);\r\n        while (!stack.isEmpty()) {\r\n            int v = stack.peek();\r\n            if (adj[v].hasNext()) {\r\n                int w = adj[v].next();\r\n                // StdOut.printf(&quot;check %d\\n&quot;, w);\r\n                if (!marked[w]) {\r\n                    // discovered vertex w for the first time\r\n                    marked[w] = true;\r\n                    // edgeTo[w] = v;\r\n                    stack.push(w);\r\n                    // StdOut.printf(&quot;dfs(%d)\\n&quot;, w);\r\n                }\r\n            }\r\n            else {\r\n                // StdOut.printf(&quot;%d done\\n&quot;, v);\r\n                stack.pop();\r\n            }\r\n        }\r\n    }\r\n```","title":"Does next() and hasNext() have &quot;memory&quot; in java","body":"<p>I am reading code of <a href=\"https://algs4.cs.princeton.edu/41graph/NonrecursiveDFS.java\" rel=\"nofollow noreferrer\">implementing depth-first search in an undirected graph without using recursion </a> and am confused of how the iteration goes in the code. <code>hasNext()</code> and <code>next()</code> are used on one array for one iteration and then the code switches to iterating on some other array with <code>next()</code>.</p>\n<p>Does the code know where the iteration is when it goes back and how?</p>\n<pre><code>public class NonrecursiveDFS {\n    private boolean[] marked;  // marked[v] = is there an s-v path?\n    /**\n     * Computes the vertices connected to the source vertex {@code s} in the graph {@code G}.\n     * @param G the graph\n     * @param s the source vertex\n     * @throws IllegalArgumentException unless {@code 0 &lt;= s &lt; V}\n     */\n    public NonrecursiveDFS(Graph G, int s) {\n        marked = new boolean[G.V()];\n\n        validateVertex(s);\n\n        // to be able to iterate over each adjacency list, keeping track of which\n        // vertex in each adjacency list needs to be explored next\n        Iterator&lt;Integer&gt;[] adj = (Iterator&lt;Integer&gt;[]) new Iterator[G.V()];\n        for (int v = 0; v &lt; G.V(); v++)\n            adj[v] = G.adj(v).iterator();\n\n        // depth-first search using an explicit stack\n        Stack&lt;Integer&gt; stack = new Stack&lt;Integer&gt;();\n        marked[s] = true;\n        stack.push(s);\n        while (!stack.isEmpty()) {\n            int v = stack.peek();\n            if (adj[v].hasNext()) {\n                int w = adj[v].next();\n                // StdOut.printf(&quot;check %d\\n&quot;, w);\n                if (!marked[w]) {\n                    // discovered vertex w for the first time\n                    marked[w] = true;\n                    // edgeTo[w] = v;\n                    stack.push(w);\n                    // StdOut.printf(&quot;dfs(%d)\\n&quot;, w);\n                }\n            }\n            else {\n                // StdOut.printf(&quot;%d done\\n&quot;, v);\n                stack.pop();\n            }\n        }\n    }\n</code></pre>\n"},{"tags":["java","spring-ws"],"answers":[{"tags":[],"owner":{"account_id":1854272,"reputation":2117,"user_id":1680196,"display_name":"kasoban"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675512279,"creation_date":1675512279,"answer_id":75344964,"question_id":72609542,"body_markdown":"The fact that the current documentation still mentions Axiom as a solution even while it appears to be removed seems to be an error and is quite irritating indeed. In December [a blog post about updated samples][1] was published that mentions that support for Axiom was removed from spring-ws and mentions some details as to why:\r\n\r\n&gt; Axiom doesn’t support Jakarta EE 9+\r\n&gt;\r\n&gt; Spring Web Services 4.0 had to, unfortunately, drop its support for Apache Axiom. Its most recently version (1.4) still taps the old version of Java EE Activation, not the Jakarta EE version.\r\n\r\nWould be curious to hear whether you found a solution for this situation, or which one you chose. Using the `AxiomSoapMessageFactory` was a convenient way for me to utilise a StAX based processing with spring-ws that I am now sort of missing.\r\n\r\n  [1]: https://spring.io/blog/2022/12/02/spring-ws-samples-upgraded-for-spring-boot-3-0","title":"Missing Axiom support in spring-ws 4.0.0-M1","body":"<p>The fact that the current documentation still mentions Axiom as a solution even while it appears to be removed seems to be an error and is quite irritating indeed. In December <a href=\"https://spring.io/blog/2022/12/02/spring-ws-samples-upgraded-for-spring-boot-3-0\" rel=\"nofollow noreferrer\">a blog post about updated samples</a> was published that mentions that support for Axiom was removed from spring-ws and mentions some details as to why:</p>\n<blockquote>\n<p>Axiom doesn’t support Jakarta EE 9+</p>\n<p>Spring Web Services 4.0 had to, unfortunately, drop its support for Apache Axiom. Its most recently version (1.4) still taps the old version of Java EE Activation, not the Jakarta EE version.</p>\n</blockquote>\n<p>Would be curious to hear whether you found a solution for this situation, or which one you chose. Using the <code>AxiomSoapMessageFactory</code> was a convenient way for me to utilise a StAX based processing with spring-ws that I am now sort of missing.</p>\n"}],"owner":{"account_id":8303170,"reputation":1,"user_id":6241190,"display_name":"pauld"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":754,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678302136,"creation_date":1655157881,"question_id":72609542,"body_markdown":"Is Axiom support planned for spring-ws 4.x?  I tried upgrading my spring-ws 2.2.4 project to spring-ws 4.0.0-M1 (since 3.x is at End Of Support) and noticed that org.springframework.ws.soap.axiom package is missing from spring-ws-core module.  Reference Documentation still mentions AxiomSoapMessageFactory.\r\nThanks!","title":"Missing Axiom support in spring-ws 4.0.0-M1","body":"<p>Is Axiom support planned for spring-ws 4.x?  I tried upgrading my spring-ws 2.2.4 project to spring-ws 4.0.0-M1 (since 3.x is at End Of Support) and noticed that org.springframework.ws.soap.axiom package is missing from spring-ws-core module.  Reference Documentation still mentions AxiomSoapMessageFactory.\nThanks!</p>\n"},{"tags":["java","multithreading","sockets","ssl","connection-pooling"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1440131034,"post_id":32092733,"comment_id":52155369,"body_markdown":"There is no connection pooling of any kind here. The code you&#39;ve posted creates one connection and then exits. It doesn&#39;t have any need for connection pooling. It&#39;s entirely unclear what you&#39;re asking here, or whether you know what connection pooling really is, or why you think you need it.","body":"There is no connection pooling of any kind here. The code you&#39;ve posted creates one connection and then exits. It doesn&#39;t have any need for connection pooling. It&#39;s entirely unclear what you&#39;re asking here, or whether you know what connection pooling really is, or why you think you need it."}],"answers":[{"tags":[],"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1439981735,"creation_date":1439981735,"answer_id":32093528,"question_id":32092733,"body_markdown":"Connection pooling is implenented at the client.\r\n\r\nAt the server end, all you can do is accept connections and not terminate them until closed by the client, or until some read timeout occurs trying to read the second or subsequent request.","title":"SSL socket Connection Pooling in JAVA","body":"<p>Connection pooling is implenented at the client.</p>\n\n<p>At the server end, all you can do is accept connections and not terminate them until closed by the client, or until some read timeout occurs trying to read the second or subsequent request.</p>\n"},{"tags":[],"owner":{"account_id":4196468,"reputation":3437,"user_id":3437758,"accept_rate":83,"display_name":"Niklas P"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1439988307,"creation_date":1439988307,"answer_id":32095902,"question_id":32092733,"body_markdown":"Your server is able to connect to multiple clients. In your code you&#39;ve initialized a `SSLServerSocket` who&#39;s task it is to wait for additional clients - each of them will get it&#39;s own `SSLSocket`.\r\n\r\nIf your server isn&#39;t able to handle all clients, you&#39;d use something like a **loadbalancer** which spreads the incoming requests to different server.\r\n\r\n**Connection Pooling** is typically used inside a server - e.g. for talking to a database.\r\n\r\nDoes this answer your question? If not, is your intention to spread the requests to more than one server or to get to know what connection pooling is for?","title":"SSL socket Connection Pooling in JAVA","body":"<p>Your server is able to connect to multiple clients. In your code you've initialized a <code>SSLServerSocket</code> who's task it is to wait for additional clients - each of them will get it's own <code>SSLSocket</code>.</p>\n\n<p>If your server isn't able to handle all clients, you'd use something like a <strong>loadbalancer</strong> which spreads the incoming requests to different server.</p>\n\n<p><strong>Connection Pooling</strong> is typically used inside a server - e.g. for talking to a database.</p>\n\n<p>Does this answer your question? If not, is your intention to spread the requests to more than one server or to get to know what connection pooling is for?</p>\n"},{"tags":[],"owner":{"account_id":1627501,"reputation":43,"user_id":1502707,"display_name":"Karthik_Rajendiran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678301672,"creation_date":1678301672,"answer_id":75677127,"question_id":32092733,"body_markdown":"With Respect to Connection Pooling , As per your statement, i guess, you want to do in Client Side\r\n **Server Side** : THis can be implemented by using MultiThreading \r\n - A Long Running Thread,which waits on accept() method on Socket/Socketchannel\r\n\r\nBelow is a code Snippet\r\nServer side\r\n\r\n         ExecutorService threadPool = Executors.newFixedThreadPool(threadCount);\r\n            while(!isStopped()){\r\n        \t\t\ttry {\r\n        ServerSocketChannel socChnl1 = ServerSocketChannel.open();\r\n        \t\tsocChnl1.socket().bind(new InetSocketAddress(port));\r\n        \t\t\t\tSocketChannel obj=socChnl1 .accept();\r\n        \t\t\t\t\r\n        \t\t\t\tthreadPool.execute(new WorkerThread(obj);\r\n        \t\t\t\t\r\n        \t\t\t\t\r\n        \t\t\t} catch (IOException e) {\r\n        \t\t\t\te.printStackTrace();\r\n        \t\t\t}\r\n\r\n\r\nFor Client Side\r\n\r\n - Option 1 - to use Apache commons Client Pool \r\n - [sample code][1]\r\n\r\n \r\n\r\n\r\n  [1]: https://github.com/AdamGamboa/socket-pool","title":"SSL socket Connection Pooling in JAVA","body":"<p>With Respect to Connection Pooling , As per your statement, i guess, you want to do in Client Side\n<strong>Server Side</strong> : THis can be implemented by using MultiThreading</p>\n<ul>\n<li>A Long Running Thread,which waits on accept() method on Socket/Socketchannel</li>\n</ul>\n<p>Below is a code Snippet\nServer side</p>\n<pre><code>     ExecutorService threadPool = Executors.newFixedThreadPool(threadCount);\n        while(!isStopped()){\n                try {\n    ServerSocketChannel socChnl1 = ServerSocketChannel.open();\n            socChnl1.socket().bind(new InetSocketAddress(port));\n                    SocketChannel obj=socChnl1 .accept();\n                    \n                    threadPool.execute(new WorkerThread(obj);\n                    \n                    \n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n</code></pre>\n<p>For Client Side</p>\n<ul>\n<li>Option 1 - to use Apache commons Client Pool</li>\n<li><a href=\"https://github.com/AdamGamboa/socket-pool\" rel=\"nofollow noreferrer\">sample code</a></li>\n</ul>\n"}],"owner":{"account_id":2857042,"reputation":5165,"user_id":2453089,"accept_rate":72,"display_name":"vish4071"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2095,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":32095902,"answer_count":3,"score":0,"last_activity_date":1678301672,"creation_date":1439979554,"question_id":32092733,"body_markdown":"I am creating a SSL server-client. Till now, what I have implemented is a simple server which can talk to a single client (no threading, that is). Now, I want to scale this application for multiple clients and I want to use connection pooling for that. Now, do I need to use threading for that or is there inbuilt library that I can use. Any examples, link etc would work.\r\n\r\nPS: I have tried googling but have not found a suitable link.\r\n\r\nBelow is my code if required:\r\n\r\nServer:\r\n\r\n\timport java.io.BufferedReader;\r\n\timport java.io.BufferedWriter;\r\n\timport java.io.FileInputStream;\r\n\timport java.io.FileNotFoundException;\r\n\timport java.io.IOException;\r\n\timport java.io.InputStreamReader;\r\n\timport java.io.OutputStreamWriter;\r\n\timport java.security.KeyManagementException;\r\n\timport java.security.KeyStore;\r\n\timport java.security.KeyStoreException;\r\n\timport java.security.NoSuchAlgorithmException;\r\n\timport java.security.UnrecoverableKeyException;\r\n\timport java.security.cert.CertificateException;\r\n\r\n\timport javax.net.ssl.*;\r\n\r\n\tpublic class SSLServer {\r\n\t\r\n\t\tpublic static void main(String args[]){\r\n\t\t\tString ksname = &quot;file.jks&quot;;\r\n\t\t\tchar kspass[] = &quot;pass&quot;.toCharArray();\r\n\t\t\tchar ctpass[] = &quot;pass&quot;.toCharArray();\r\n\t\t\r\n\t\t\ttry {\r\n\t\t\t\tKeyStore ks = KeyStore.getInstance(&quot;JKS&quot;);\r\n\t\t\t\tks.load(new FileInputStream(ksname), kspass);\r\n\t\t\t\tKeyManagerFactory kmf = KeyManagerFactory.getInstance(&quot;SunX509&quot;);\r\n\t\t\t\tkmf.init(ks, ctpass);\r\n\t\t\t\tSSLContext sc = SSLContext.getInstance(&quot;TLS&quot;);\r\n\t\t\t\tsc.init(kmf.getKeyManagers(), null, null);\r\n\t\t\t\tSSLServerSocketFactory ssf = sc.getServerSocketFactory();\r\n\t\t\t\tSSLServerSocket s = (SSLServerSocket) ssf.createServerSocket(4321);\r\n\t\t\t\t//printServerSocketInfo(s);\r\n\t\t\t\tSSLSocket c = (SSLSocket) s.accept();\r\n\t\t\t\t//printSocketInfo(c);\r\n\t\t\t\r\n\t\t\t\tBufferedReader r = new BufferedReader(new InputStreamReader(c.getInputStream()));\r\n\t\t\t\tBufferedWriter w = new BufferedWriter(new OutputStreamWriter(c.getOutputStream()));\r\n\t\t\t\r\n\t\t\t\tw.write(&quot;Server starts\\n&quot;);\r\n\t\t\t\r\n\t\t\t\tw.flush();\r\n\t\t\t\tString k = null;\r\n\t\t\t\twhile((k = r.readLine()) != null){\r\n\t\t\t\t\t//do something\r\n\t\t\t\t\tif(k.equals(&quot;end&quot;))\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tw.write(resolve(k));\r\n\t\t\t\t\tw.newLine();\r\n\t\t\t\t\tw.flush();\r\n\t\t\t\t}\r\n\t\t\t\tw.close();\r\n\t\t\t\tr.close();\r\n\t\t\t\tc.close();\r\n\t\t\t\ts.close();\r\n\t\t\t\r\n\t\t\t} catch (KeyStoreException e) {\r\n\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t} catch (NoSuchAlgorithmException e) {\r\n\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t} catch (CertificateException e) {\r\n\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t} catch (FileNotFoundException e) {\r\n\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t} catch (IOException e) {\r\n\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t} catch (UnrecoverableKeyException e) {\r\n\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t} catch (KeyManagementException e) {\r\n\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\t\r\n\t\t}\r\n\t\r\n\t\tprivate static void printSocketInfo(SSLSocket s) {\r\n\t\t\t  System.out.println(&quot;Socket class: &quot;+s.getClass());\r\n\t\t\t  System.out.println(&quot;   Remote address = &quot;\r\n\t\t\t     +s.getInetAddress().toString());\r\n\t\t\t  System.out.println(&quot;   Remote port = &quot;+s.getPort());\r\n\t\t\t  System.out.println(&quot;   Local socket address = &quot;\r\n\t\t\t     +s.getLocalSocketAddress().toString());\r\n\t\t\t  System.out.println(&quot;   Local address = &quot;\r\n\t\t\t     +s.getLocalAddress().toString());\r\n\t\t\t  System.out.println(&quot;   Local port = &quot;+s.getLocalPort());\r\n\t\t\t  System.out.println(&quot;   Need client authentication = &quot;\r\n\t\t\t     +s.getNeedClientAuth());\r\n\t\t\t  SSLSession ss = s.getSession();\r\n\t\t\t  System.out.println(&quot;   Cipher suite = &quot;+ss.getCipherSuite());\r\n\t\t\t  System.out.println(&quot;   Protocol = &quot;+ss.getProtocol());\r\n\t\t}\r\n\t\r\n\t\tprivate static void printServerSocketInfo(SSLServerSocket s) {\r\n\t\t\t  System.out.println(&quot;Server socket class: &quot;+s.getClass());\r\n\t\t\t  System.out.println(&quot;   Socket address = &quot;\r\n\t\t\t     +s.getInetAddress().toString());\r\n\t\t\t  System.out.println(&quot;   Socket port = &quot;\r\n\t\t\t     +s.getLocalPort());\r\n\t\t\t  System.out.println(&quot;   Need client authentication = &quot;\r\n\t\t\t     +s.getNeedClientAuth());\r\n\t\t\t  System.out.println(&quot;   Want client authentication = &quot;\r\n\t\t\t     +s.getWantClientAuth());\r\n\t\t\t  System.out.println(&quot;   Use client mode = &quot;\r\n\t\t\t     +s.getUseClientMode());\r\n\t\t}\r\n\t\r\n\t\tprivate static String resolve(String p){\r\n\t\t\t//some implementation\r\n            return &quot;something&quot;;\r\n\t\t}\r\n\t\r\n\t    }\r\n\r\nClient:\r\n\r\n\timport java.io.BufferedReader;\r\n\timport java.io.BufferedWriter;\r\n\timport java.io.IOException;\r\n\timport java.io.InputStreamReader;\r\n\timport java.io.OutputStreamWriter;\r\n\timport java.net.UnknownHostException;\r\n\r\n\timport javax.net.ssl.SSLSession;\r\n\timport javax.net.ssl.SSLSocket;\r\n\timport javax.net.ssl.SSLSocketFactory;\r\n\r\n\tpublic class SSLClient {\r\n\t\r\n\t\tpublic static void main(String[] args){\r\n\t\t\r\n\t\t\tSSLSocketFactory f = (SSLSocketFactory) SSLSocketFactory.getDefault();\r\n\t\t\r\n\t\t\ttry {\r\n\t\t\t\tSSLSocket c = (SSLSocket) f.createSocket(&quot;localhost&quot;, 4321);\r\n\t\t\t\tprintSocketInfo(c);\r\n\t\t\t\tc.startHandshake();\r\n\t\t\t\tBufferedWriter w = new BufferedWriter(new OutputStreamWriter(c.getOutputStream()));\r\n\t\t\t\tBufferedReader r = new BufferedReader(new InputStreamReader(c.getInputStream()));\r\n\t\t\t\r\n\t\t\t\t//to input hex code message\r\n\t\t\t\tBufferedReader in = new BufferedReader(new InputStreamReader(System.in));\r\n\t\t\t\tString k = null;\r\n\t\t\t\twhile((k = r.readLine()) != null){\r\n\t\t\t\t\t//send message to server\r\n\t\t\t\t\tSystem.out.println(k);\r\n\t\t\t\t\tSystem.out.flush();\r\n\t\t\t\t\tk = in.readLine();\r\n\t\t\t\t\tif(k.equals(&quot;.&quot;))\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tSystem.out.println(k);\r\n\t\t\t\t\tSystem.out.flush();\r\n\t\t\t\t\tw.write(k);\r\n\t\t\t\t\tw.newLine();\r\n\t\t\t\t\tw.flush();\r\n\t\t\t\t}\r\n\t\t\t\tw.close();\r\n\t\t\t\tr.close();\r\n\t\t\t\tc.close();\r\n\t\t\t} catch (UnknownHostException e) {\r\n\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t} catch (IOException e) {\r\n\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t}","title":"SSL socket Connection Pooling in JAVA","body":"<p>I am creating a SSL server-client. Till now, what I have implemented is a simple server which can talk to a single client (no threading, that is). Now, I want to scale this application for multiple clients and I want to use connection pooling for that. Now, do I need to use threading for that or is there inbuilt library that I can use. Any examples, link etc would work.</p>\n\n<p>PS: I have tried googling but have not found a suitable link.</p>\n\n<p>Below is my code if required:</p>\n\n<p>Server:</p>\n\n<pre><code>import java.io.BufferedReader;\nimport java.io.BufferedWriter;\nimport java.io.FileInputStream;\nimport java.io.FileNotFoundException;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.io.OutputStreamWriter;\nimport java.security.KeyManagementException;\nimport java.security.KeyStore;\nimport java.security.KeyStoreException;\nimport java.security.NoSuchAlgorithmException;\nimport java.security.UnrecoverableKeyException;\nimport java.security.cert.CertificateException;\n\nimport javax.net.ssl.*;\n\npublic class SSLServer {\n\n    public static void main(String args[]){\n        String ksname = \"file.jks\";\n        char kspass[] = \"pass\".toCharArray();\n        char ctpass[] = \"pass\".toCharArray();\n\n        try {\n            KeyStore ks = KeyStore.getInstance(\"JKS\");\n            ks.load(new FileInputStream(ksname), kspass);\n            KeyManagerFactory kmf = KeyManagerFactory.getInstance(\"SunX509\");\n            kmf.init(ks, ctpass);\n            SSLContext sc = SSLContext.getInstance(\"TLS\");\n            sc.init(kmf.getKeyManagers(), null, null);\n            SSLServerSocketFactory ssf = sc.getServerSocketFactory();\n            SSLServerSocket s = (SSLServerSocket) ssf.createServerSocket(4321);\n            //printServerSocketInfo(s);\n            SSLSocket c = (SSLSocket) s.accept();\n            //printSocketInfo(c);\n\n            BufferedReader r = new BufferedReader(new InputStreamReader(c.getInputStream()));\n            BufferedWriter w = new BufferedWriter(new OutputStreamWriter(c.getOutputStream()));\n\n            w.write(\"Server starts\\n\");\n\n            w.flush();\n            String k = null;\n            while((k = r.readLine()) != null){\n                //do something\n                if(k.equals(\"end\"))\n                    break;\n                w.write(resolve(k));\n                w.newLine();\n                w.flush();\n            }\n            w.close();\n            r.close();\n            c.close();\n            s.close();\n\n        } catch (KeyStoreException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        } catch (NoSuchAlgorithmException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        } catch (CertificateException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        } catch (FileNotFoundException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        } catch (IOException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        } catch (UnrecoverableKeyException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        } catch (KeyManagementException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }   \n    }\n\n    private static void printSocketInfo(SSLSocket s) {\n          System.out.println(\"Socket class: \"+s.getClass());\n          System.out.println(\"   Remote address = \"\n             +s.getInetAddress().toString());\n          System.out.println(\"   Remote port = \"+s.getPort());\n          System.out.println(\"   Local socket address = \"\n             +s.getLocalSocketAddress().toString());\n          System.out.println(\"   Local address = \"\n             +s.getLocalAddress().toString());\n          System.out.println(\"   Local port = \"+s.getLocalPort());\n          System.out.println(\"   Need client authentication = \"\n             +s.getNeedClientAuth());\n          SSLSession ss = s.getSession();\n          System.out.println(\"   Cipher suite = \"+ss.getCipherSuite());\n          System.out.println(\"   Protocol = \"+ss.getProtocol());\n    }\n\n    private static void printServerSocketInfo(SSLServerSocket s) {\n          System.out.println(\"Server socket class: \"+s.getClass());\n          System.out.println(\"   Socket address = \"\n             +s.getInetAddress().toString());\n          System.out.println(\"   Socket port = \"\n             +s.getLocalPort());\n          System.out.println(\"   Need client authentication = \"\n             +s.getNeedClientAuth());\n          System.out.println(\"   Want client authentication = \"\n             +s.getWantClientAuth());\n          System.out.println(\"   Use client mode = \"\n             +s.getUseClientMode());\n    }\n\n    private static String resolve(String p){\n        //some implementation\n        return \"something\";\n    }\n\n    }\n</code></pre>\n\n<p>Client:</p>\n\n<pre><code>import java.io.BufferedReader;\nimport java.io.BufferedWriter;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.io.OutputStreamWriter;\nimport java.net.UnknownHostException;\n\nimport javax.net.ssl.SSLSession;\nimport javax.net.ssl.SSLSocket;\nimport javax.net.ssl.SSLSocketFactory;\n\npublic class SSLClient {\n\n    public static void main(String[] args){\n\n        SSLSocketFactory f = (SSLSocketFactory) SSLSocketFactory.getDefault();\n\n        try {\n            SSLSocket c = (SSLSocket) f.createSocket(\"localhost\", 4321);\n            printSocketInfo(c);\n            c.startHandshake();\n            BufferedWriter w = new BufferedWriter(new OutputStreamWriter(c.getOutputStream()));\n            BufferedReader r = new BufferedReader(new InputStreamReader(c.getInputStream()));\n\n            //to input hex code message\n            BufferedReader in = new BufferedReader(new InputStreamReader(System.in));\n            String k = null;\n            while((k = r.readLine()) != null){\n                //send message to server\n                System.out.println(k);\n                System.out.flush();\n                k = in.readLine();\n                if(k.equals(\".\"))\n                    break;\n                System.out.println(k);\n                System.out.flush();\n                w.write(k);\n                w.newLine();\n                w.flush();\n            }\n            w.close();\n            r.close();\n            c.close();\n        } catch (UnknownHostException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        } catch (IOException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":6074897,"reputation":2892,"user_id":4742570,"display_name":"jsheeran"},"score":1,"creation_date":1499674163,"post_id":45006727,"comment_id":76987041,"body_markdown":"You could use a `map` operation to map them to `Math.max(0, n)` and `Math.min(0, n)` respectively.","body":"You could use a <code>map</code> operation to map them to <code>Math.max(0, n)</code> and <code>Math.min(0, n)</code> respectively."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1499674218,"post_id":45006727,"comment_id":76987075,"body_markdown":"It would take two iterations with streams. You&#39;re better off with a single old-fashioned loop.","body":"It would take two iterations with streams. You&#39;re better off with a single old-fashioned loop."},{"owner":{"account_id":7759936,"reputation":727,"user_id":5873039,"accept_rate":91,"display_name":"drJava"},"score":0,"creation_date":1499674291,"post_id":45006727,"comment_id":76987123,"body_markdown":"@jsheeran I have also thought of Map but the problem in my case that this operation will be executed in a for loop and the number of iteration will be decided on runtime. I prefer less operation.","body":"@jsheeran I have also thought of Map but the problem in my case that this operation will be executed in a for loop and the number of iteration will be decided on runtime. I prefer less operation."}],"answers":[{"tags":[],"owner":{"account_id":10299696,"reputation":2315,"user_id":7598776,"display_name":"Robin Topper"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1499677070,"creation_date":1499674435,"answer_id":45006922,"question_id":45006727,"body_markdown":"As shmosel already pointed out in the comments, you&#39;ll need two iterations using streams:\r\n\r\n\tList&lt;Integer&gt; list = Arrays.asList(10, -2, 23, 5, -11, 287, 5, -99);\r\n\tList&lt;Integer&gt; positives = list.stream().map(i -&gt; i &lt; 0 ? 0 : i).collect(Collectors.toList());\r\n\tList&lt;Integer&gt; negatives = list.stream().map(i -&gt; i &lt; 0 ? i : 0).collect(Collectors.toList());\r\n\r\n----------\r\n\r\nAll in one stream is possible if your list is modifiable. This is not better than a for-loop\r\n\r\n    List&lt;Integer&gt; list = Arrays.asList(10, -2, 23, 5, -11, 287, 5, -99);\r\n    List&lt;Integer&gt; list2 = new ArrayList&lt;&gt;();\r\n\t\t\r\n\tIntStream.range(0, list.size()).forEach(i -&gt; {\r\n\t   int j;\r\n\t   if ((j = list.get(i)) &lt; 0) {\r\n\t\t   list2.add(j);\r\n\t\t   list.set(i, 0);\r\n\t   } else {\r\n\t\t   list2.add(0);\r\n\t   }});\t","title":"Split a list into sublists based on a condition with Stream api","body":"<p>As shmosel already pointed out in the comments, you'll need two iterations using streams:</p>\n\n<pre><code>List&lt;Integer&gt; list = Arrays.asList(10, -2, 23, 5, -11, 287, 5, -99);\nList&lt;Integer&gt; positives = list.stream().map(i -&gt; i &lt; 0 ? 0 : i).collect(Collectors.toList());\nList&lt;Integer&gt; negatives = list.stream().map(i -&gt; i &lt; 0 ? i : 0).collect(Collectors.toList());\n</code></pre>\n\n<hr>\n\n<p>All in one stream is possible if your list is modifiable. This is not better than a for-loop</p>\n\n<pre><code>List&lt;Integer&gt; list = Arrays.asList(10, -2, 23, 5, -11, 287, 5, -99);\nList&lt;Integer&gt; list2 = new ArrayList&lt;&gt;();\n\nIntStream.range(0, list.size()).forEach(i -&gt; {\n   int j;\n   if ((j = list.get(i)) &lt; 0) {\n       list2.add(j);\n       list.set(i, 0);\n   } else {\n       list2.add(0);\n   }}); \n</code></pre>\n"},{"tags":[],"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1499677162,"creation_date":1499675812,"answer_id":45007340,"question_id":45006727,"body_markdown":"Well you could do that in place:\r\n\r\n      List&lt;Integer&gt; left = Arrays.asList(10, -2, 23, 5, -11, 287, 5, -99);\r\n        int[] right = new int[left.size()];\r\n\r\n        IntStream.range(0, left.size())\r\n                .filter(i -&gt; left.get(i) &lt; 0)\r\n                .forEach(x -&gt; {\r\n                    right[x] = left.get(x);\r\n                    left.set(x, 0);\r\n                });\r\n        System.out.println(left);\r\n        System.out.println(Arrays.toString(right));\r\n\r\nThat is a side-effect, but as far as I can tell, it is a safe side-effect. ","title":"Split a list into sublists based on a condition with Stream api","body":"<p>Well you could do that in place:</p>\n\n<pre><code>  List&lt;Integer&gt; left = Arrays.asList(10, -2, 23, 5, -11, 287, 5, -99);\n    int[] right = new int[left.size()];\n\n    IntStream.range(0, left.size())\n            .filter(i -&gt; left.get(i) &lt; 0)\n            .forEach(x -&gt; {\n                right[x] = left.get(x);\n                left.set(x, 0);\n            });\n    System.out.println(left);\n    System.out.println(Arrays.toString(right));\n</code></pre>\n\n<p>That is a side-effect, but as far as I can tell, it is a safe side-effect. </p>\n"},{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":1,"up_vote_count":18,"is_accepted":true,"score":17,"last_activity_date":1499676040,"creation_date":1499676040,"answer_id":45007405,"question_id":45006727,"body_markdown":"If you want to do it in a single Stream operation, you need a custom collector:\r\n\r\n    List&lt;Integer&gt; list = Arrays.asList(10, -2, 23, 5, -11, 287, 5, -99);\r\n\r\n    List&lt;List&lt;Integer&gt;&gt; result = list.stream().collect(\r\n        () -&gt; Arrays.asList(new ArrayList&lt;&gt;(), new ArrayList&lt;&gt;()),\r\n        (l,i) -&gt; { l.get(0).add(Math.max(0, i)); l.get(1).add(Math.min(0, i)); },\r\n        (a,b) -&gt; { a.get(0).addAll(b.get(0)); a.get(1).addAll(b.get(1)); });\r\n\r\n    System.out.println(result.get(0));\r\n    System.out.println(result.get(1));\r\n","title":"Split a list into sublists based on a condition with Stream api","body":"<p>If you want to do it in a single Stream operation, you need a custom collector:</p>\n\n<pre><code>List&lt;Integer&gt; list = Arrays.asList(10, -2, 23, 5, -11, 287, 5, -99);\n\nList&lt;List&lt;Integer&gt;&gt; result = list.stream().collect(\n    () -&gt; Arrays.asList(new ArrayList&lt;&gt;(), new ArrayList&lt;&gt;()),\n    (l,i) -&gt; { l.get(0).add(Math.max(0, i)); l.get(1).add(Math.min(0, i)); },\n    (a,b) -&gt; { a.get(0).addAll(b.get(0)); a.get(1).addAll(b.get(1)); });\n\nSystem.out.println(result.get(0));\nSystem.out.println(result.get(1));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9443335,"reputation":15252,"user_id":7023245,"accept_rate":25,"display_name":"Timothy Truckle"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1499676156,"creation_date":1499676156,"answer_id":45007441,"question_id":45006727,"body_markdown":"Java-Streams are a *functional programming* feature.\n\nThe essential pattern of functional programming is that you convert *one* collection to *one* other collection. This means your requirement is does not suit to a functional approach and hence java streams are the second best solution (after legacy for(each) loop). \n\n\n----------\n\n\n**But**  \nOf cause you can split the problem into two separate FP friendly operations. \n\nThe downside it that this requires an additional loop over the input collection. \nFor small collections (up to roughly 100000 items) this may not be a problem but for bigger collections you may raise a performance issue.   \n&lt;sup&gt;**Disclaimer:** do not choose or deny an approach for performance reasons unless you have justified your decision by *measurement with a profiling tool*!&lt;/sup&gt;\n\n# conclusion:\nI&#39;d consider the &quot;legacy loop&quot; the better approach since it may be more readable in the sense that it better expresses your intent (to split up the collection).","title":"Split a list into sublists based on a condition with Stream api","body":"<p>Java-Streams are a <em>functional programming</em> feature.</p>\n<p>The essential pattern of functional programming is that you convert <em>one</em> collection to <em>one</em> other collection. This means your requirement is does not suit to a functional approach and hence java streams are the second best solution (after legacy for(each) loop).</p>\n<hr />\n<p><strong>But</strong><br />\nOf cause you can split the problem into two separate FP friendly operations.</p>\n<p>The downside it that this requires an additional loop over the input collection.\nFor small collections (up to roughly 100000 items) this may not be a problem but for bigger collections you may raise a performance issue.<br />\n<sup><strong>Disclaimer:</strong> do not choose or deny an approach for performance reasons unless you have justified your decision by <em>measurement with a profiling tool</em>!</sup></p>\n<h1>conclusion:</h1>\n<p>I'd consider the &quot;legacy loop&quot; the better approach since it may be more readable in the sense that it better expresses your intent (to split up the collection).</p>\n"},{"tags":[],"owner":{"account_id":2111403,"reputation":33698,"user_id":1876620,"accept_rate":94,"display_name":"fps"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1499706668,"creation_date":1499706668,"answer_id":45017977,"question_id":45006727,"body_markdown":"A generic solution without streams might consist of choosing between two possible consumers, based on a condition:\r\n\r\n    private static &lt;T&gt; Consumer&lt;T&gt; splitBy(\r\n            Predicate&lt;T&gt; condition,\r\n            Consumer&lt;T&gt; action1,\r\n            Consumer&lt;T&gt; action2,\r\n            T zero) {\r\n        return n -&gt; {\r\n            if (condition.test(n)) {\r\n                action1.accept(n);\r\n                action2.accept(zero);\r\n            } else {\r\n                action1.accept(zero);\r\n                action2.accept(n);\r\n            }\r\n        };\r\n    }\r\n\r\nFor your specific problem, you could use the `splitBy` method as follows:\r\n\r\n    List&lt;Integer&gt; list = Arrays.asList(10, -2, 23, 5, -11, 287, 5, -99);\r\n\r\n    List&lt;Integer&gt; list1 = new ArrayList&lt;&gt;();\r\n    List&lt;Integer&gt; list2 = new ArrayList&lt;&gt;();\r\n\r\n    list.forEach(splitBy(n -&gt; n &gt; 0, list1::add, list2::add, 0));\r\n\r\n    System.out.println(list1); // [10, 0, 23, 5, 0, 287, 5, 0]\r\n    System.out.println(list2); // [0, -2, 0, 0, -11, 0, 0, -99]\r\n\r\n\r\n","title":"Split a list into sublists based on a condition with Stream api","body":"<p>A generic solution without streams might consist of choosing between two possible consumers, based on a condition:</p>\n\n<pre><code>private static &lt;T&gt; Consumer&lt;T&gt; splitBy(\n        Predicate&lt;T&gt; condition,\n        Consumer&lt;T&gt; action1,\n        Consumer&lt;T&gt; action2,\n        T zero) {\n    return n -&gt; {\n        if (condition.test(n)) {\n            action1.accept(n);\n            action2.accept(zero);\n        } else {\n            action1.accept(zero);\n            action2.accept(n);\n        }\n    };\n}\n</code></pre>\n\n<p>For your specific problem, you could use the <code>splitBy</code> method as follows:</p>\n\n<pre><code>List&lt;Integer&gt; list = Arrays.asList(10, -2, 23, 5, -11, 287, 5, -99);\n\nList&lt;Integer&gt; list1 = new ArrayList&lt;&gt;();\nList&lt;Integer&gt; list2 = new ArrayList&lt;&gt;();\n\nlist.forEach(splitBy(n -&gt; n &gt; 0, list1::add, list2::add, 0));\n\nSystem.out.println(list1); // [10, 0, 23, 5, 0, 287, 5, 0]\nSystem.out.println(list2); // [0, -2, 0, 0, -11, 0, 0, -99]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14409138,"reputation":831,"user_id":10408449,"display_name":"Tamas"},"down_vote_count":0,"up_vote_count":83,"is_accepted":false,"score":83,"last_activity_date":1537802670,"creation_date":1537799382,"answer_id":52481600,"question_id":45006727,"body_markdown":"    Map&lt;Boolean, List&lt;Integer&gt;&gt; results=\r\n      List1.stream().collect(Collectors.partitioningBy( n -&gt; n &lt; 0));\r\n\r\nI think that this one is prettier and easy to read. (You can then get the negative and non-negative list from the map.)\r\n   \r\n","title":"Split a list into sublists based on a condition with Stream api","body":"<pre><code>Map&lt;Boolean, List&lt;Integer&gt;&gt; results=\n  List1.stream().collect(Collectors.partitioningBy( n -&gt; n &lt; 0));\n</code></pre>\n\n<p>I think that this one is prettier and easy to read. (You can then get the negative and non-negative list from the map.)</p>\n"},{"tags":[],"owner":{"account_id":1479379,"reputation":1127,"user_id":1389089,"display_name":"shapiy"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1551859902,"creation_date":1551859902,"answer_id":55018350,"question_id":45006727,"body_markdown":"There are pros and cons in each solution. \r\n\r\n - `for` loop is the obvious answer, but your question explicitly\r\n   mentions Streams API. \r\n - Using different predicates a) causes code duplication, b) is error prone, c) results in additional processing time — 2N\r\n - Custom `Collector` is difficult to implement, and gives the impression of redundant work while the problem seems so straightforward, even na&#239;ve. \r\n\r\nI haven&#39;t seen anyone else mentioning this, but you can collect your numbers in a `Map&lt;Boolean,List&lt;Integer&gt;&gt;` map, where key corresponds to your grouping criterion, and `List` is the selection of items matching the criterion, for example:\r\n\r\n    List&lt;Integer&gt; numbers = List.of(10, -2, 23, 5, -11, 287, 5, -99);\r\n    Map&lt;Boolean, List&lt;Integer&gt;&gt; numbersByIsPositive = numbers.stream()\r\n        .collect(Collectors.groupingBy(number -&gt; number &gt;= 0));\r\n\r\n    List&lt;Integer&gt; positiveNumbers = numbersByIsPositive.get(true);\r\n    List&lt;Integer&gt; negativeNumbers = numbersByIsPositive.get(false);\r\n\r\nThink of auto-boxing and -unboxing when applying this approach.\r\n\r\nOutput: \r\n\r\n    Positive numbers: [10, 23, 5, 287, 5]\r\n    Negative numbers: [-2, -11, -99]","title":"Split a list into sublists based on a condition with Stream api","body":"<p>There are pros and cons in each solution. </p>\n\n<ul>\n<li><code>for</code> loop is the obvious answer, but your question explicitly\nmentions Streams API. </li>\n<li>Using different predicates a) causes code duplication, b) is error prone, c) results in additional processing time — 2N</li>\n<li>Custom <code>Collector</code> is difficult to implement, and gives the impression of redundant work while the problem seems so straightforward, even naïve. </li>\n</ul>\n\n<p>I haven't seen anyone else mentioning this, but you can collect your numbers in a <code>Map&lt;Boolean,List&lt;Integer&gt;&gt;</code> map, where key corresponds to your grouping criterion, and <code>List</code> is the selection of items matching the criterion, for example:</p>\n\n<pre><code>List&lt;Integer&gt; numbers = List.of(10, -2, 23, 5, -11, 287, 5, -99);\nMap&lt;Boolean, List&lt;Integer&gt;&gt; numbersByIsPositive = numbers.stream()\n    .collect(Collectors.groupingBy(number -&gt; number &gt;= 0));\n\nList&lt;Integer&gt; positiveNumbers = numbersByIsPositive.get(true);\nList&lt;Integer&gt; negativeNumbers = numbersByIsPositive.get(false);\n</code></pre>\n\n<p>Think of auto-boxing and -unboxing when applying this approach.</p>\n\n<p>Output: </p>\n\n<pre><code>Positive numbers: [10, 23, 5, 287, 5]\nNegative numbers: [-2, -11, -99]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11171121,"reputation":2994,"user_id":8198056,"display_name":"Adrian"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1593087125,"creation_date":1554289167,"answer_id":55493545,"question_id":45006727,"body_markdown":"Since Java 12 it can be done very simple by using [`Collectors::teeing`][1]:\r\n\r\n    var divided = List.of(10, -2, 23, 5, -11, 287, 5, -99)\r\n                .stream()\r\n                .collect(Collectors.teeing(\r\n                        Collectors.mapping(i -&gt; Math.max(0, i), Collectors.toList()),\r\n                        Collectors.mapping(i -&gt; Math.min(0, i), Collectors.toList()),\r\n                        List::of\r\n                ));\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/util/stream/Collectors.html#teeing(java.util.stream.Collector,java.util.stream.Collector,java.util.function.BiFunction)","title":"Split a list into sublists based on a condition with Stream api","body":"<p>Since Java 12 it can be done very simple by using <a href=\"https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/util/stream/Collectors.html#teeing(java.util.stream.Collector,java.util.stream.Collector,java.util.function.BiFunction)\" rel=\"noreferrer\"><code>Collectors::teeing</code></a>:</p>\n<pre><code>var divided = List.of(10, -2, 23, 5, -11, 287, 5, -99)\n            .stream()\n            .collect(Collectors.teeing(\n                    Collectors.mapping(i -&gt; Math.max(0, i), Collectors.toList()),\n                    Collectors.mapping(i -&gt; Math.min(0, i), Collectors.toList()),\n                    List::of\n            ));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1628102,"reputation":3602,"user_id":1503163,"display_name":"Sanjay Bharwani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678301490,"creation_date":1678301490,"answer_id":75677093,"question_id":45006727,"body_markdown":"I have found two solutions for splitting the stream based on condition\r\n\r\nYour List is List1 = {10, -2, 23, 5, -11, 287, 5, -99}\r\n\r\n    List1.stream().collect(Collectors.partitioningBy(num -&gt; num &lt;0))\r\n\r\nThis would give a Map with below key values\r\n\r\n    &quot;true&quot; : 10,24,5,287,5\r\n    &quot;false&quot;: -2,-11,-99\r\n\r\nAnother solution is on the same line, but instead of using `partitioningBy`, use `groupingBy`\r\n\r\n    List2.stream().collect(Collectors.groupingBy(num -&gt; num &lt;0))","title":"Split a list into sublists based on a condition with Stream api","body":"<p>I have found two solutions for splitting the stream based on condition</p>\n<p>Your List is List1 = {10, -2, 23, 5, -11, 287, 5, -99}</p>\n<pre><code>List1.stream().collect(Collectors.partitioningBy(num -&gt; num &lt;0))\n</code></pre>\n<p>This would give a Map with below key values</p>\n<pre><code>&quot;true&quot; : 10,24,5,287,5\n&quot;false&quot;: -2,-11,-99\n</code></pre>\n<p>Another solution is on the same line, but instead of using <code>partitioningBy</code>, use <code>groupingBy</code></p>\n<pre><code>List2.stream().collect(Collectors.groupingBy(num -&gt; num &lt;0))\n</code></pre>\n"}],"owner":{"account_id":7759936,"reputation":727,"user_id":5873039,"accept_rate":91,"display_name":"drJava"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54009,"favorite_count":0,"down_vote_count":0,"up_vote_count":36,"accepted_answer_id":45007405,"answer_count":9,"score":36,"last_activity_date":1678301490,"creation_date":1499673813,"question_id":45006727,"body_markdown":"I have a specific question. There are some similar questions but these are either with Python, not with Java, or the requirements are different even if the question sounds similar. \r\n\r\nI have a list of values.\r\n\r\n    List1 = {10, -2, 23, 5, -11, 287, 5, -99}\r\n\r\nAt the end of the day, I would like to split lists based on their values. I mean if the value is bigger than zero, it will be stay in the original list and the corresponding index in the negative values list will be set zero. If the value is smaller than zero, it will go to the negative values list and the negative values in the original list will be replaced with zero.\r\n\r\nThe resulting lists should be like that;\r\n\r\n    List1 = {10, 0, 23, 5, 0, 287, 5, 0}\r\n    List2 = {0, -2, 0, 0, -11, 0, 0, -99}\r\nIs there any way to solve this with Stream api in Java?\r\n\r\n","title":"Split a list into sublists based on a condition with Stream api","body":"<p>I have a specific question. There are some similar questions but these are either with Python, not with Java, or the requirements are different even if the question sounds similar. </p>\n\n<p>I have a list of values.</p>\n\n<pre><code>List1 = {10, -2, 23, 5, -11, 287, 5, -99}\n</code></pre>\n\n<p>At the end of the day, I would like to split lists based on their values. I mean if the value is bigger than zero, it will be stay in the original list and the corresponding index in the negative values list will be set zero. If the value is smaller than zero, it will go to the negative values list and the negative values in the original list will be replaced with zero.</p>\n\n<p>The resulting lists should be like that;</p>\n\n<pre><code>List1 = {10, 0, 23, 5, 0, 287, 5, 0}\nList2 = {0, -2, 0, 0, -11, 0, 0, -99}\n</code></pre>\n\n<p>Is there any way to solve this with Stream api in Java?</p>\n"},{"tags":["java","jmapviewer"],"answers":[{"tags":[],"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1678300955,"creation_date":1411178009,"answer_id":25944439,"question_id":25940174,"body_markdown":"Override the `getToolTipText()` method of `JMapViewer`. In your implementation, use `getPosition()` to convert the `MouseEvent` coordinates into geodetic coordinates. The example below simply displays the unformatted coordinates; you&#39;ll want to find the nearest `MapMarker` and return the appropriate text.\r\n\r\n    JMapViewer map = new JMapViewer() {\r\n\r\n        @Override\r\n        public String getToolTipText(MouseEvent e) {\r\n            Coordinate c = getPosition(e.getX(), e.getY());\r\n            return c.getLat() + &quot; &quot; + c.getLon();\r\n        }\r\n    };\r\n    map.setToolTipText(&quot;&quot;); // initialize \r\n\r\nAddendum: _Is there a way of adding a tooltip directly to an image?_\r\n\r\nNo; `JMapViewer` is the enclosing `JComponent` that handles tool tips.\r\n\r\n_I have about 50 markers on the map…that&#39;s a lot of iterations._\r\n\r\nYou definitely can&#39;t load images in your `MapMarker` implementation; use a [`SWingWorker`][1] to load images in the background, for [example][2].\r\n\r\nAs a concrete iteration example, `JFreeChart` easily handles tool tips for scores of entities in this way. Here&#39;s the enclosing panel&#39;s [`getToolTipText()`][3] implementation, and here&#39;s the [loop][4] that invokes `Shape#contains()`. A simplified example that illustrates the approach is seen [here][5].\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/uiswing/concurrency/worker.html\r\n  [2]: https://stackoverflow.com/a/4530659/230513\r\n  [3]: https://github.com/jfree/jfreechart/blob/master/src/main/java/org/jfree/chart/swing/ChartPanel.java#L1277\r\n  [4]: https://github.com/jfree/jfreechart/blob/master/src/main/java/org/jfree/chart/entity/StandardEntityCollection.java#L135\r\n  [5]: https://stackoverflow.com/a/53609066/230513","title":"How to add a ToolTip to MapMarker in JMapViewer","body":"<p>Override the <code>getToolTipText()</code> method of <code>JMapViewer</code>. In your implementation, use <code>getPosition()</code> to convert the <code>MouseEvent</code> coordinates into geodetic coordinates. The example below simply displays the unformatted coordinates; you'll want to find the nearest <code>MapMarker</code> and return the appropriate text.</p>\n<pre><code>JMapViewer map = new JMapViewer() {\n\n    @Override\n    public String getToolTipText(MouseEvent e) {\n        Coordinate c = getPosition(e.getX(), e.getY());\n        return c.getLat() + &quot; &quot; + c.getLon();\n    }\n};\nmap.setToolTipText(&quot;&quot;); // initialize \n</code></pre>\n<p>Addendum: <em>Is there a way of adding a tooltip directly to an image?</em></p>\n<p>No; <code>JMapViewer</code> is the enclosing <code>JComponent</code> that handles tool tips.</p>\n<p><em>I have about 50 markers on the map…that's a lot of iterations.</em></p>\n<p>You definitely can't load images in your <code>MapMarker</code> implementation; use a <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/concurrency/worker.html\" rel=\"nofollow noreferrer\"><code>SWingWorker</code></a> to load images in the background, for <a href=\"https://stackoverflow.com/a/4530659/230513\">example</a>.</p>\n<p>As a concrete iteration example, <code>JFreeChart</code> easily handles tool tips for scores of entities in this way. Here's the enclosing panel's <a href=\"https://github.com/jfree/jfreechart/blob/master/src/main/java/org/jfree/chart/swing/ChartPanel.java#L1277\" rel=\"nofollow noreferrer\"><code>getToolTipText()</code></a> implementation, and here's the <a href=\"https://github.com/jfree/jfreechart/blob/master/src/main/java/org/jfree/chart/entity/StandardEntityCollection.java#L135\" rel=\"nofollow noreferrer\">loop</a> that invokes <code>Shape#contains()</code>. A simplified example that illustrates the approach is seen <a href=\"https://stackoverflow.com/a/53609066/230513\">here</a>.</p>\n"}],"owner":{"account_id":4973882,"reputation":35,"user_id":4000830,"display_name":"KieranS"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1514,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":25944439,"answer_count":1,"score":2,"last_activity_date":1678300955,"creation_date":1411151067,"question_id":25940174,"body_markdown":"I&#39;m trying to add a `ToolTip` to a custom `MapMarker` on *JMapViewer*. But repeaded searches on are not helping me solve this.\r\n\r\nThe custom *MapMarker* is:\r\n\r\n    public class MapMarkerUnit extends MapObjectImpl implements MapMarker\r\n\r\nand the Paint Method overide is \r\n\r\n    public void paint(Graphics g, Point position, int radio) {\r\n        String filename = &quot;marker.png&quot;;\r\n        //System.out.print(filename);\r\n        BufferedImage x = null;\r\n        try {\r\n            x = ImageIO.read(getClass().getResource(filename));\r\n        } catch (IOException ex) {\r\n            Logger.getLogger(MapMarkerUnit.class.getName()).log(Level.SEVERE, null, ex);\r\n        }\r\n        \r\n        g.drawImage(x, position.x-16, position.y-37,null);\r\n        \r\n        //if(getLayer()==null||getLayer().isVisibleTexts()) paintText(g, new       Point(position.x+20,position.y));\r\n    }\r\n\r\nThanks for any help your able to offer.","title":"How to add a ToolTip to MapMarker in JMapViewer","body":"<p>I'm trying to add a <code>ToolTip</code> to a custom <code>MapMarker</code> on <em>JMapViewer</em>. But repeaded searches on are not helping me solve this.</p>\n\n<p>The custom <em>MapMarker</em> is:</p>\n\n<pre><code>public class MapMarkerUnit extends MapObjectImpl implements MapMarker\n</code></pre>\n\n<p>and the Paint Method overide is </p>\n\n<pre><code>public void paint(Graphics g, Point position, int radio) {\n    String filename = \"marker.png\";\n    //System.out.print(filename);\n    BufferedImage x = null;\n    try {\n        x = ImageIO.read(getClass().getResource(filename));\n    } catch (IOException ex) {\n        Logger.getLogger(MapMarkerUnit.class.getName()).log(Level.SEVERE, null, ex);\n    }\n\n    g.drawImage(x, position.x-16, position.y-37,null);\n\n    //if(getLayer()==null||getLayer().isVisibleTexts()) paintText(g, new       Point(position.x+20,position.y));\n}\n</code></pre>\n\n<p>Thanks for any help your able to offer.</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":1507268,"reputation":144,"user_id":1410365,"display_name":"vmayatskii"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678300781,"creation_date":1678300781,"answer_id":75676978,"question_id":75676683,"body_markdown":"You have to use `RelativeLayout.ALIGN_PARENT_BOTTOM` instead of `RelativeLayout.ALIGN_BOTTOM`. To set margins please use `setMargins()` method.\r\n\r\n    buttonDetails.addRule(RelativeLayout.ALIGN_PARENT_BOTTOM);\r\n    buttonDetails.setMargins(0, 0, 0, 10);\r\n\r\n","title":"How to align button to bottom with Java","body":"<p>You have to use <code>RelativeLayout.ALIGN_PARENT_BOTTOM</code> instead of <code>RelativeLayout.ALIGN_BOTTOM</code>. To set margins please use <code>setMargins()</code> method.</p>\n<pre><code>buttonDetails.addRule(RelativeLayout.ALIGN_PARENT_BOTTOM);\nbuttonDetails.setMargins(0, 0, 0, 10);\n</code></pre>\n"}],"owner":{"account_id":2345937,"reputation":3332,"user_id":2056201,"accept_rate":23,"display_name":"Mich"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678300781,"creation_date":1678298802,"question_id":75676683,"body_markdown":"I cannot get the button to align at the bottom of the screen with `RelativeLayout.ALIGN_BOTTOM` how can I get it to position correctly at the bottom of the screen?\r\n\r\nAlso, how I can create a margin, for example, 10 pixels from the bottom of the screen? I don&#39;t see an option to be able to add a positional offset anywhere in the layout rules.\r\n\r\n    RelativeLayout gameLayout = new RelativeLayout(this);\r\n    Button gameButton = new Button(this);\r\n    gameButton.setText(&quot;Start&quot;);\r\n    gameButton.setBackgroundColor(Color.MAGENTA);\r\n    gameLayout.setBackgroundColor(Color.LTGRAY);\r\n    //gameButton.\r\n    RelativeLayout.LayoutParams buttonDetails = new RelativeLayout.LayoutParams(\r\n            RelativeLayout.LayoutParams.WRAP_CONTENT,\r\n            RelativeLayout.LayoutParams.WRAP_CONTENT\r\n    );\r\n    buttonDetails.addRule(RelativeLayout.CENTER_HORIZONTAL);\r\n    buttonDetails.addRule(RelativeLayout.ALIGN_BOTTOM);\r\n\r\n    gameLayout.addView(gameButton, buttonDetails);\r\n    setContentView(gameLayout);\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/uvU8t.png","title":"How to align button to bottom with Java","body":"<p>I cannot get the button to align at the bottom of the screen with <code>RelativeLayout.ALIGN_BOTTOM</code> how can I get it to position correctly at the bottom of the screen?</p>\n<p>Also, how I can create a margin, for example, 10 pixels from the bottom of the screen? I don't see an option to be able to add a positional offset anywhere in the layout rules.</p>\n<pre><code>RelativeLayout gameLayout = new RelativeLayout(this);\nButton gameButton = new Button(this);\ngameButton.setText(&quot;Start&quot;);\ngameButton.setBackgroundColor(Color.MAGENTA);\ngameLayout.setBackgroundColor(Color.LTGRAY);\n//gameButton.\nRelativeLayout.LayoutParams buttonDetails = new RelativeLayout.LayoutParams(\n        RelativeLayout.LayoutParams.WRAP_CONTENT,\n        RelativeLayout.LayoutParams.WRAP_CONTENT\n);\nbuttonDetails.addRule(RelativeLayout.CENTER_HORIZONTAL);\nbuttonDetails.addRule(RelativeLayout.ALIGN_BOTTOM);\n\ngameLayout.addView(gameButton, buttonDetails);\nsetContentView(gameLayout);\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/uvU8t.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uvU8t.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring","spring-boot","rest","jackson"],"comments":[{"owner":{"account_id":2729259,"reputation":6968,"user_id":2353403,"accept_rate":82,"display_name":"Coder"},"score":0,"creation_date":1677759062,"post_id":75615034,"comment_id":133403225,"body_markdown":"If the json is always having similar attribute and type, why don&#39;t you use a DTO class having BigDecimal value? Or will it be different","body":"If the json is always having similar attribute and type, why don&#39;t you use a DTO class having BigDecimal value? Or will it be different"},{"owner":{"account_id":26249263,"reputation":21,"user_id":20039263,"display_name":"Vandit Shah"},"score":0,"creation_date":1677759309,"post_id":75615034,"comment_id":133403300,"body_markdown":"We can&#39;t use a DTO class as we our request is not static or pre defined, our request is based on versions, i.e request r1 for version v1 and so on.","body":"We can&#39;t use a DTO class as we our request is not static or pre defined, our request is based on versions, i.e request r1 for version v1 and so on."}],"answers":[{"tags":[],"owner":{"account_id":2729259,"reputation":6968,"user_id":2353403,"accept_rate":82,"display_name":"Coder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677760041,"creation_date":1677760041,"answer_id":75615406,"question_id":75615034,"body_markdown":"Jackson takes the value as Double. This behavior can be modified to obtain a BigDecimal object instead of a Double during deserialization. Enable the feature on the ObjectMapper object.\r\n\r\n    ObjectMapper objectMapper = new ObjectMapper();\r\n    objectMapper.enable(DeserializationFeature.USE_BIG_DECIMAL_FOR_FLOATS);","title":"Json String Mapping containing a field having big decimal field","body":"<p>Jackson takes the value as Double. This behavior can be modified to obtain a BigDecimal object instead of a Double during deserialization. Enable the feature on the ObjectMapper object.</p>\n<pre><code>ObjectMapper objectMapper = new ObjectMapper();\nobjectMapper.enable(DeserializationFeature.USE_BIG_DECIMAL_FOR_FLOATS);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19567278,"reputation":89,"user_id":14319127,"display_name":"reddy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678300706,"creation_date":1677761902,"answer_id":75615734,"question_id":75615034,"body_markdown":"   \r\n\r\n    public class Test {\r\n    \r\n        public static void main(String[] args) throws IOException {\r\n    \r\n           ObjectMapper mapper = new ObjectMapper();\r\n           String json = &quot;{\\&quot;amount\\&quot;:600.014545218781256,\\&quot;currency\\&quot;:\\&quot;SATS\\&quot;}&quot;;\r\n           mapper.configure(DeserializationFeature.USE_BIG_DECIMAL_FOR_FLOATS,true);\r\n    \r\n           Map&lt;String, String&gt; map = mapper.readValue(json, Map.class);\r\n           System.out.println(map);\r\n       }        \r\n    }","title":"Json String Mapping containing a field having big decimal field","body":"<pre><code>public class Test {\n\n    public static void main(String[] args) throws IOException {\n\n       ObjectMapper mapper = new ObjectMapper();\n       String json = &quot;{\\&quot;amount\\&quot;:600.014545218781256,\\&quot;currency\\&quot;:\\&quot;SATS\\&quot;}&quot;;\n       mapper.configure(DeserializationFeature.USE_BIG_DECIMAL_FOR_FLOATS,true);\n\n       Map&lt;String, String&gt; map = mapper.readValue(json, Map.class);\n       System.out.println(map);\n   }        \n}\n</code></pre>\n"}],"owner":{"account_id":26249263,"reputation":21,"user_id":20039263,"display_name":"Vandit Shah"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":812,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1678300706,"creation_date":1677757834,"question_id":75615034,"body_markdown":"There is a scenario in which we are trying to convert a JSON string to a map, but during the conversion, values having big decimal value is truncated and converted to double. We need the actual big decimal value instead\r\n\r\nExample\r\n\r\n```javascript\r\n{\r\n    &quot;amount&quot;:600.014545218781256,\r\n    &quot;currency&quot;: &quot;SATS&quot;\r\n} \r\n```\r\n\r\nthis is the request\r\nbut the **amount** gets truncated to **600.0145452187812**. \r\n\r\n\r\nWe tried using object mapper, but as the incoming data is a string, we weren&#39;t able to use the features of object mapper such as :\r\n`objectMapper.configure(JsonWriteFeature.WRITE_NUMBERS_AS_STRINGS.mappedFeature(), true);`\r\n","title":"Json String Mapping containing a field having big decimal field","body":"<p>There is a scenario in which we are trying to convert a JSON string to a map, but during the conversion, values having big decimal value is truncated and converted to double. We need the actual big decimal value instead</p>\n<p>Example</p>\n<pre class=\"lang-js prettyprint-override\"><code>{\n    &quot;amount&quot;:600.014545218781256,\n    &quot;currency&quot;: &quot;SATS&quot;\n} \n</code></pre>\n<p>this is the request\nbut the <strong>amount</strong> gets truncated to <strong>600.0145452187812</strong>.</p>\n<p>We tried using object mapper, but as the incoming data is a string, we weren't able to use the features of object mapper such as :\n<code>objectMapper.configure(JsonWriteFeature.WRITE_NUMBERS_AS_STRINGS.mappedFeature(), true);</code></p>\n"},{"tags":["java","interface","abstract-class","junit5","allure"],"comments":[{"owner":{"account_id":15361,"reputation":4976,"user_id":32352,"accept_rate":62,"display_name":"johanneslink"},"score":0,"creation_date":1678369957,"post_id":75676962,"comment_id":133521847,"body_markdown":"Have you looked at Jupiter&#39;s way to support extensions like TestWatcher and AfterAllCallback? It&#39;s here: https://junit.org/junit5/docs/current/user-guide/#extensions and it does NOT work through subclass but through annotation `@ExtendWith`.","body":"Have you looked at Jupiter&#39;s way to support extensions like TestWatcher and AfterAllCallback? It&#39;s here: <a href=\"https://junit.org/junit5/docs/current/user-guide/#extensions\" rel=\"nofollow noreferrer\">junit.org/junit5/docs/current/user-guide/#extensions</a> and it does NOT work through subclass but through annotation <code>@ExtendWith</code>."},{"owner":{"account_id":16624382,"reputation":1,"user_id":12013862,"display_name":"Antonio Cosic"},"score":0,"creation_date":1678391472,"post_id":75676962,"comment_id":133528278,"body_markdown":"Thank you, will try it tomorrow.","body":"Thank you, will try it tomorrow."}],"owner":{"account_id":16624382,"reputation":1,"user_id":12013862,"display_name":"Antonio Cosic"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678300679,"creation_date":1678300679,"question_id":75676962,"body_markdown":"I am trying to migrate my Selenium project from jUnit4 to jUnit5 and I am kind of stuck with this issue. In jUnit4 I had a TestWatcher rule in a abstract class which all of my test classes extended. The rule was like this and the most important part in it was taking a screenshot of a test when it fails:\r\n\r\n\r\nThis is how the rule looked like in my abstract class for jUnit4.\r\n```\r\n@Rule\r\n\tpublic TestRule watchman = new TestWatcher() {\r\n\r\n\t\t@Override\r\n\t\tpublic Statement apply(Statement base, Description description) {\r\n\r\n\t\t\treturn super.apply(base, description);\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tprotected void succeeded(Description description) {\r\n\t\t\tmainLogger.info(description.getDisplayName() + &quot; &quot; + &quot;success!&quot;);\r\n\t\t}\r\n\r\n\t\t/* U slučaju greške ispiši ju prema logger pravilima i uzmi screenshot */\r\n\t\t@Override\r\n\t\tprotected void failed(Throwable e, Description description) {\r\n\t\t\tmainLogger.error(&quot;Test ({}) failed because of exception {}&quot;, description, e);\r\n\t\t\tscreenshothandler.takeScreenshotForAllure();\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tprotected void starting(Description description) {\r\n\t\t\tsuper.starting(description);\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tprotected void finished(Description description) {\r\n\t\t\tsuper.finished(description);\r\n\t\t\tif (getDriver() != null) {\r\n\t\t\t\tscreenshothandler.tearDown();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t};\r\n```\r\n\r\nSo now in jUnit5 my abstract class is extending the new TestWatcher interface that contains all of the methods like the rule above (testFailed, testAborted etc..) and my test class extends the abstract class but the TestWatcher methods do not execute and i don&#39;t know why.\r\n\r\n```\r\npublic abstract class SeleniumTestWrapper implements TestWatcher, AfterAllCallback{\r\n\r\n\tfinal static Logger log = LoggerFactory.getLogger(SeleniumTestWrapper.class);\r\n\tprotected static final TestConfig testConfig = new TestConfig();\r\n\tprivate final WebDriverConfig webDriverConfig = new WebDriverConfig();\r\n\tprotected final WebDriverProvider webDriverProvider;\r\n\tpublic DatabaseProvider dbProvider;\r\n\tprotected ScreenshotHandler screenshothandler;\r\n\tpublic List&lt;TestResultStatus&gt; testResultsStatus = new ArrayList&lt;&gt;();\r\n\t\r\n\tfinal static boolean CERTIFICATES_ENABLED = new TypedProperties(&quot;/test_config.properties&quot;).getBoolean(&quot;certificate.login&quot;);\r\n\tfinal static boolean IS_REMOTE_DRIVER = new TypedProperties(&quot;/driver_config.properties&quot;).getBoolean(&quot;driver_remote&quot;);\r\n\r\n\tpublic SeleniumTestWrapper() {\r\n\t\tsuper();\r\n\t\tthis.webDriverProvider = new WebDriverProvider(this.webDriverConfig);\r\n\t\tthis.screenshothandler = new ScreenshotHandler(this.getDriver());\r\n\t\tthis.dbProvider = new DatabaseProvider();\r\n\t\t\r\n\t\t// Inicijaliziraj dbProvider ako je property = true\r\n\t\tboolean jdbcEnabled = new TypedProperties(&quot;/test_config.properties&quot;).getBoolean(&quot;jdbc.enable&quot;);\r\n\t\tif (jdbcEnabled) {\r\n\t\t\tthis.dbProvider.initialize();\r\n\t\t}\r\n\t}\r\n\r\n\tprotected enum TestResultStatus {\r\n\t\tSUCCESSFUL, ABORTED, FAILED, DISABLED;\r\n\t}\r\n\t\r\n\r\n\t@Override\r\n\tpublic void afterAll(ExtensionContext context) throws Exception {\r\n\t\tMap&lt;TestResultStatus, Long&gt; summary = testResultsStatus.stream()\r\n\t\t\t\t.collect(Collectors.groupingBy(Function.identity(), Collectors.counting()));\r\n\r\n\t\tlog.info(&quot;Test result summary for {} {}&quot;, context.getDisplayName(), summary.toString());\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void testDisabled(ExtensionContext context, Optional&lt;String&gt; reason) {\r\n\t\tlog.info(&quot;Test Disabled for test {}: with reason :- {}&quot;,\r\n\t\t\t\tcontext.getDisplayName(),\r\n\t\t\t\treason.orElse(&quot;No reason&quot;));\r\n\r\n\t\ttestResultsStatus.add(TestResultStatus.DISABLED);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void testSuccessful(ExtensionContext context) {\r\n\t\tlog.info(&quot;\\u001B[32m&quot; + &quot;Test Successful for test {}: &quot;, context.getDisplayName() + &quot;\\u001B[37m&quot;);\r\n\r\n\t\ttestResultsStatus.add(TestResultStatus.SUCCESSFUL);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void testAborted(ExtensionContext context, Throwable cause) {\r\n\t\tlog.info(&quot;Test Aborted for test {}: &quot;, context.getDisplayName());\r\n\r\n\t\ttestResultsStatus.add(TestResultStatus.ABORTED);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void testFailed(ExtensionContext context, Throwable cause) {\r\n\t\tlog.info(&quot;\\u001B[31m&quot; + &quot;Test Failed for test {}: &quot;, context.getDisplayName() + &quot;\\u001B[37m&quot;);\r\n\t\tlog.error(&quot;Test ({}) failed because of exception {}&quot;, cause);\r\n\t\tscreenshothandler.takeScreenshotForAllure();\r\n\t\ttestResultsStatus.add(TestResultStatus.FAILED);\r\n\t}\r\n\r\n}\r\n```\r\n\r\nHere is the test class:\r\n\r\n\r\n```\r\npublic class ObracunDrugogDohotkaTests extends SeleniumTestWrapper {\r\n\tprivate CopBasePage startPage = PageFactory.initElements(getDriver(), CopBasePage.class);\r\n\tfinal static Logger logger = LoggerFactory.getLogger(ObracunDrugogDohotkaTests.class);\r\n\tprivate MenuPage menu = new MenuPage(getDriver());\r\n\tprivate TestUtils testUtils = new TestUtils();\r\n\tprivate OtvaranjeObracunaPage otvaranjeObracunaPage = new OtvaranjeObracunaPage(getDriver());\r\n\tprivate PripremaParameteraPrimateljaPage pripremaParameteraPrimateljaPage = new PripremaParameteraPrimateljaPage(getDriver());\r\n\tprivate EvidencijaPrimitakaPage evidencijaPrimitakaPage = new EvidencijaPrimitakaPage(getDriver());\r\n\tprivate ObracuniDrugogDohotkaPage obracuniDrugogDohotkaPage = new ObracuniDrugogDohotkaPage(getDriver());\r\n\tprivate ObracunDAO obracunDao = new ObracunDAO(dbProvider);\r\n\tprivate CopSpecificUtils copUtils = new CopSpecificUtils(dbProvider);\r\n\r\n\t@BeforeEach\r\n\tpublic void setup() {\r\n\r\n\t\tClientCertificateSetup ccs = new ClientCertificateSetup(getDriver());\r\n\t\tccs.setChromeCertificate(UserRoles.RESOLVER);\r\n\t\t\r\n\t\ttestUtils.testStartLog(this.getClass().getSimpleName());\r\n\t\tassertTrue(startPage.enterApplication());\r\n\t\tobracunDao.sveObracuneDrugogDohotkaZaRazdobljeDeaktiviraj(DrugiDohodakContent.INST_AGENCIJA_ZA_ZAST_OSOB_POD, 2008);\r\n\t}\r\n\r\n\r\n\t@Test\t\r\n\t@Description(&quot;Obracun drugog dohotka do statusa 100 i natrag. Ispis obrazaca PDF, kontrolno, XML&quot;)\r\n\tpublic void Obracunaj_Drugi_Dohodak_do_statusa_100_pregledaj_Izvjesca() {\r\n\t\tmenu.clickMenuDDObracuni();\r\n\t\tmenu.clickSubMenuOtvaranjeObracunaDD();\r\n\t\tassertEquals(DrugiDohodakContent.RADNJA_USPJESNO_OBAVLJENA, otvaranjeObracunaPage.otvoriOdaberiObracun(DrugiDohodakContent.AGENCIJA_ZA_ZAST_OSOB_POD, &quot;8&quot;, &quot;2020&quot;, &quot;obracun1&quot;, copUtils.dohvatiPrviSljedeciRadniDan()));\r\n\t\tmenu.clickSubMenuPripremaParametaraPrimateljaDD();\r\n\t\tpripremaParameteraPrimateljaPage.pripremiParametre();\r\n\t\tmenu.clickSubMenuEvidencijaPrimitakaDD();\r\n\t\tassertEquals(DrugiDohodakContent.UNOS_EVIDENCIJE_USPJESNO_ZAVRSEN_BR_UGOVORA_4, evidencijaPrimitakaPage.unesiPodatkeIzEvidUgovora());\r\n\t\tmenu.clickSubMenuObracunDrugogDohotka();\r\n\t\tobracuniDrugogDohotkaPage.provjeriGreskeObracuna(); \r\n\t\tassertEquals(DrugiDohodakContent.OBRACUN_DOVRSEN_3_PRIMATELJA, obracuniDrugogDohotkaPage.obracunajDrugiDohodak());\r\n\t\t// testiraj xml, pdf\r\n\t\t// TODO assertaj jesu li datoteke stvarno skinute, izdvoji to u drugi test, \r\n\t\tobracuniDrugogDohotkaPage.ispisiPDFObrazacZaSvePrimatelje();\r\n\t\tobracuniDrugogDohotkaPage.ispisiKontrolneIzvjestajeCSV();\r\n\t\tobracuniDrugogDohotkaPage.ispisiKontrolneIzvjestajePDF();\r\n\t\tobracuniDrugogDohotkaPage.ispisiPDFObrazacZaPojedinogPrim();\r\n\t\tobracuniDrugogDohotkaPage.ispisiXMLObrazacZaPojedinogPrim();\r\n\t\t// TODO usmjerit ove ispise na neki uzorak gdje ne mora obračunavat cijeli obračun\r\n\t\t\r\n\t\tobracuniDrugogDohotkaPage.ponistiVerifikacijuiIzmjeniObracun();\r\n\t\t// počisti obračun iz tablice\r\n\t\tmenu.clickSubMenuEvidencijaPrimitakaDD();\r\n\t\tevidencijaPrimitakaPage.unesiPodatkeIzEvidUgovora();\r\n\t\tevidencijaPrimitakaPage.brisiEvidenciju();\r\n\t\tmenu.clickSubMenuPripremaParametaraPrimateljaDD();\r\n\t\tpripremaParameteraPrimateljaPage.pripremiParametre();\r\n\t\tpripremaParameteraPrimateljaPage.uskladiParametre();\r\n\t\tmenu.clickSubMenuOtvaranjeObracunaDD();\r\n\t\tassertEquals(DrugiDohodakContent.RADNJA_USPJESNO_OBAVLJENA, otvaranjeObracunaPage.obrisiPrviObracunUTablici());\r\n\t}\r\n\r\n\t@AfterEach\r\n\tpublic void after() {\r\n\t\tassertFalse(startPage.fatalExceptionOccured());\r\n\t\ttestUtils.testEndLog(this.getClass().getSimpleName());\r\n\t}\r\n}```\r\n\r\n","title":"Can TestWatcher interface be implemented in a abstract class that all Test classes extend (jUnit5)","body":"<p>I am trying to migrate my Selenium project from jUnit4 to jUnit5 and I am kind of stuck with this issue. In jUnit4 I had a TestWatcher rule in a abstract class which all of my test classes extended. The rule was like this and the most important part in it was taking a screenshot of a test when it fails:</p>\n<p>This is how the rule looked like in my abstract class for jUnit4.</p>\n<pre><code>@Rule\n    public TestRule watchman = new TestWatcher() {\n\n        @Override\n        public Statement apply(Statement base, Description description) {\n\n            return super.apply(base, description);\n        }\n\n        @Override\n        protected void succeeded(Description description) {\n            mainLogger.info(description.getDisplayName() + &quot; &quot; + &quot;success!&quot;);\n        }\n\n        /* U slučaju greške ispiši ju prema logger pravilima i uzmi screenshot */\n        @Override\n        protected void failed(Throwable e, Description description) {\n            mainLogger.error(&quot;Test ({}) failed because of exception {}&quot;, description, e);\n            screenshothandler.takeScreenshotForAllure();\n        }\n\n        @Override\n        protected void starting(Description description) {\n            super.starting(description);\n        }\n\n        @Override\n        protected void finished(Description description) {\n            super.finished(description);\n            if (getDriver() != null) {\n                screenshothandler.tearDown();\n            }\n        }\n\n    };\n</code></pre>\n<p>So now in jUnit5 my abstract class is extending the new TestWatcher interface that contains all of the methods like the rule above (testFailed, testAborted etc..) and my test class extends the abstract class but the TestWatcher methods do not execute and i don't know why.</p>\n<pre><code>public abstract class SeleniumTestWrapper implements TestWatcher, AfterAllCallback{\n\n    final static Logger log = LoggerFactory.getLogger(SeleniumTestWrapper.class);\n    protected static final TestConfig testConfig = new TestConfig();\n    private final WebDriverConfig webDriverConfig = new WebDriverConfig();\n    protected final WebDriverProvider webDriverProvider;\n    public DatabaseProvider dbProvider;\n    protected ScreenshotHandler screenshothandler;\n    public List&lt;TestResultStatus&gt; testResultsStatus = new ArrayList&lt;&gt;();\n    \n    final static boolean CERTIFICATES_ENABLED = new TypedProperties(&quot;/test_config.properties&quot;).getBoolean(&quot;certificate.login&quot;);\n    final static boolean IS_REMOTE_DRIVER = new TypedProperties(&quot;/driver_config.properties&quot;).getBoolean(&quot;driver_remote&quot;);\n\n    public SeleniumTestWrapper() {\n        super();\n        this.webDriverProvider = new WebDriverProvider(this.webDriverConfig);\n        this.screenshothandler = new ScreenshotHandler(this.getDriver());\n        this.dbProvider = new DatabaseProvider();\n        \n        // Inicijaliziraj dbProvider ako je property = true\n        boolean jdbcEnabled = new TypedProperties(&quot;/test_config.properties&quot;).getBoolean(&quot;jdbc.enable&quot;);\n        if (jdbcEnabled) {\n            this.dbProvider.initialize();\n        }\n    }\n\n    protected enum TestResultStatus {\n        SUCCESSFUL, ABORTED, FAILED, DISABLED;\n    }\n    \n\n    @Override\n    public void afterAll(ExtensionContext context) throws Exception {\n        Map&lt;TestResultStatus, Long&gt; summary = testResultsStatus.stream()\n                .collect(Collectors.groupingBy(Function.identity(), Collectors.counting()));\n\n        log.info(&quot;Test result summary for {} {}&quot;, context.getDisplayName(), summary.toString());\n    }\n\n    @Override\n    public void testDisabled(ExtensionContext context, Optional&lt;String&gt; reason) {\n        log.info(&quot;Test Disabled for test {}: with reason :- {}&quot;,\n                context.getDisplayName(),\n                reason.orElse(&quot;No reason&quot;));\n\n        testResultsStatus.add(TestResultStatus.DISABLED);\n    }\n\n    @Override\n    public void testSuccessful(ExtensionContext context) {\n        log.info(&quot;\\u001B[32m&quot; + &quot;Test Successful for test {}: &quot;, context.getDisplayName() + &quot;\\u001B[37m&quot;);\n\n        testResultsStatus.add(TestResultStatus.SUCCESSFUL);\n    }\n\n    @Override\n    public void testAborted(ExtensionContext context, Throwable cause) {\n        log.info(&quot;Test Aborted for test {}: &quot;, context.getDisplayName());\n\n        testResultsStatus.add(TestResultStatus.ABORTED);\n    }\n\n    @Override\n    public void testFailed(ExtensionContext context, Throwable cause) {\n        log.info(&quot;\\u001B[31m&quot; + &quot;Test Failed for test {}: &quot;, context.getDisplayName() + &quot;\\u001B[37m&quot;);\n        log.error(&quot;Test ({}) failed because of exception {}&quot;, cause);\n        screenshothandler.takeScreenshotForAllure();\n        testResultsStatus.add(TestResultStatus.FAILED);\n    }\n\n}\n</code></pre>\n<p>Here is the test class:</p>\n<pre><code>public class ObracunDrugogDohotkaTests extends SeleniumTestWrapper {\n    private CopBasePage startPage = PageFactory.initElements(getDriver(), CopBasePage.class);\n    final static Logger logger = LoggerFactory.getLogger(ObracunDrugogDohotkaTests.class);\n    private MenuPage menu = new MenuPage(getDriver());\n    private TestUtils testUtils = new TestUtils();\n    private OtvaranjeObracunaPage otvaranjeObracunaPage = new OtvaranjeObracunaPage(getDriver());\n    private PripremaParameteraPrimateljaPage pripremaParameteraPrimateljaPage = new PripremaParameteraPrimateljaPage(getDriver());\n    private EvidencijaPrimitakaPage evidencijaPrimitakaPage = new EvidencijaPrimitakaPage(getDriver());\n    private ObracuniDrugogDohotkaPage obracuniDrugogDohotkaPage = new ObracuniDrugogDohotkaPage(getDriver());\n    private ObracunDAO obracunDao = new ObracunDAO(dbProvider);\n    private CopSpecificUtils copUtils = new CopSpecificUtils(dbProvider);\n\n    @BeforeEach\n    public void setup() {\n\n        ClientCertificateSetup ccs = new ClientCertificateSetup(getDriver());\n        ccs.setChromeCertificate(UserRoles.RESOLVER);\n        \n        testUtils.testStartLog(this.getClass().getSimpleName());\n        assertTrue(startPage.enterApplication());\n        obracunDao.sveObracuneDrugogDohotkaZaRazdobljeDeaktiviraj(DrugiDohodakContent.INST_AGENCIJA_ZA_ZAST_OSOB_POD, 2008);\n    }\n\n\n    @Test   \n    @Description(&quot;Obracun drugog dohotka do statusa 100 i natrag. Ispis obrazaca PDF, kontrolno, XML&quot;)\n    public void Obracunaj_Drugi_Dohodak_do_statusa_100_pregledaj_Izvjesca() {\n        menu.clickMenuDDObracuni();\n        menu.clickSubMenuOtvaranjeObracunaDD();\n        assertEquals(DrugiDohodakContent.RADNJA_USPJESNO_OBAVLJENA, otvaranjeObracunaPage.otvoriOdaberiObracun(DrugiDohodakContent.AGENCIJA_ZA_ZAST_OSOB_POD, &quot;8&quot;, &quot;2020&quot;, &quot;obracun1&quot;, copUtils.dohvatiPrviSljedeciRadniDan()));\n        menu.clickSubMenuPripremaParametaraPrimateljaDD();\n        pripremaParameteraPrimateljaPage.pripremiParametre();\n        menu.clickSubMenuEvidencijaPrimitakaDD();\n        assertEquals(DrugiDohodakContent.UNOS_EVIDENCIJE_USPJESNO_ZAVRSEN_BR_UGOVORA_4, evidencijaPrimitakaPage.unesiPodatkeIzEvidUgovora());\n        menu.clickSubMenuObracunDrugogDohotka();\n        obracuniDrugogDohotkaPage.provjeriGreskeObracuna(); \n        assertEquals(DrugiDohodakContent.OBRACUN_DOVRSEN_3_PRIMATELJA, obracuniDrugogDohotkaPage.obracunajDrugiDohodak());\n        // testiraj xml, pdf\n        // TODO assertaj jesu li datoteke stvarno skinute, izdvoji to u drugi test, \n        obracuniDrugogDohotkaPage.ispisiPDFObrazacZaSvePrimatelje();\n        obracuniDrugogDohotkaPage.ispisiKontrolneIzvjestajeCSV();\n        obracuniDrugogDohotkaPage.ispisiKontrolneIzvjestajePDF();\n        obracuniDrugogDohotkaPage.ispisiPDFObrazacZaPojedinogPrim();\n        obracuniDrugogDohotkaPage.ispisiXMLObrazacZaPojedinogPrim();\n        // TODO usmjerit ove ispise na neki uzorak gdje ne mora obračunavat cijeli obračun\n        \n        obracuniDrugogDohotkaPage.ponistiVerifikacijuiIzmjeniObracun();\n        // počisti obračun iz tablice\n        menu.clickSubMenuEvidencijaPrimitakaDD();\n        evidencijaPrimitakaPage.unesiPodatkeIzEvidUgovora();\n        evidencijaPrimitakaPage.brisiEvidenciju();\n        menu.clickSubMenuPripremaParametaraPrimateljaDD();\n        pripremaParameteraPrimateljaPage.pripremiParametre();\n        pripremaParameteraPrimateljaPage.uskladiParametre();\n        menu.clickSubMenuOtvaranjeObracunaDD();\n        assertEquals(DrugiDohodakContent.RADNJA_USPJESNO_OBAVLJENA, otvaranjeObracunaPage.obrisiPrviObracunUTablici());\n    }\n\n    @AfterEach\n    public void after() {\n        assertFalse(startPage.fatalExceptionOccured());\n        testUtils.testEndLog(this.getClass().getSimpleName());\n    }\n}```\n\n</code></pre>\n"},{"tags":["java","jackson","jackson-databind","jackson2","jackson-dataformat-xml"],"comments":[{"owner":{"account_id":17813347,"reputation":1635,"user_id":12937443,"display_name":"DEV"},"score":0,"creation_date":1678108835,"post_id":75651295,"comment_id":133463944,"body_markdown":"this might help https://stackoverflow.com/questions/68443664/xstream-unmarshalling-xmlgregoriancalendar","body":"this might help <a href=\"https://stackoverflow.com/questions/68443664/xstream-unmarshalling-xmlgregoriancalendar\" title=\"xstream unmarshalling xmlgregoriancalendar\">stackoverflow.com/questions/68443664/&hellip;</a>"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1678108916,"post_id":75651295,"comment_id":133463971,"body_markdown":"&quot;JSON like this&quot; though valid is problematic,   ... `0001-01-01T00:00:00` gets a &quot;key&quot; (while in xml it is a &quot;value&quot;)... A subtle change like `[&quot;0001-01-01T00:00:00&quot;]` (`{}-&gt;[]` ... object-&gt;array) would be far easier to transform/implement. (Is it an option?)","body":"&quot;JSON like this&quot; though valid is problematic,   ... <code>0001-01-01T00:00:00</code> gets a &quot;key&quot; (while in xml it is a &quot;value&quot;)... A subtle change like <code>[&quot;0001-01-01T00:00:00&quot;]</code> (<code>{}-&gt;[]</code> ... object-&gt;array) would be far easier to transform/implement. (Is it an option?)"},{"owner":{"account_id":63767,"reputation":1635,"user_id":188587,"accept_rate":44,"display_name":"djb"},"score":2,"creation_date":1678108918,"post_id":75651295,"comment_id":133463972,"body_markdown":"thanks, that&#39;s me asking that question, with xstream, years ago","body":"thanks, that&#39;s me asking that question, with xstream, years ago"},{"owner":{"account_id":63767,"reputation":1635,"user_id":188587,"accept_rate":44,"display_name":"djb"},"score":0,"creation_date":1678109118,"post_id":75651295,"comment_id":133464043,"body_markdown":"@xerx593 I mostly want to get rid of &#39;class&#39; and &#39;resolves-to&#39;","body":"@xerx593 I mostly want to get rid of &#39;class&#39; and &#39;resolves-to&#39;"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1678109245,"post_id":75651295,"comment_id":133464091,"body_markdown":"If you *need* this format: You have a to extract the date from XML and put it (as a key!) into desired JSON structure(/map) (with `value=null`)","body":"If you <i>need</i> this format: You have a to extract the date from XML and put it (as a key!) into desired JSON structure(/map) (with <code>value=null</code>)"},{"owner":{"account_id":63767,"reputation":1635,"user_id":188587,"accept_rate":44,"display_name":"djb"},"score":0,"creation_date":1678109296,"post_id":75651295,"comment_id":133464108,"body_markdown":"I  don&#39;t understand.  dateIssuedField is the key.","body":"I  don&#39;t understand.  dateIssuedField is the key."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1678109424,"post_id":75651295,"comment_id":133464148,"body_markdown":"And &quot;sub key&quot;?... (Is in XML &quot;lexicalValue&quot;..in (desired) JSON the value is a/the (sub) key )","body":"And &quot;sub key&quot;?... (Is in XML &quot;lexicalValue&quot;..in (desired) JSON the value is a/the (sub) key )"},{"owner":{"account_id":63767,"reputation":1635,"user_id":188587,"accept_rate":44,"display_name":"djb"},"score":0,"creation_date":1678109534,"post_id":75651295,"comment_id":133464195,"body_markdown":"i can keep the sub-key lexicalValue if necessary.   the date is still a value though.","body":"i can keep the sub-key lexicalValue if necessary.   the date is still a value though."}],"answers":[{"tags":[],"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678117138,"creation_date":1678117138,"answer_id":75652841,"question_id":75651295,"body_markdown":"As I commented: The desired output format \r\n\r\n```lang-json\r\n{&quot;dateIssuedField&quot;: {&quot;0001-01-01T00:00:00&quot;}}\r\n```\r\n\r\nis not really/fully [valid JSON][1]...\r\n\r\n(1) null value:\r\n```\r\n{&quot;dateIssuedField&quot;: {&quot;0001-01-01T00:00:00&quot;: null}}\r\n```\r\nor (2) single element array:\r\n```\r\n{&quot;dateIssuedField&quot;: [&quot;0001-01-01T00:00:00&quot;]}\r\n```\r\nor just (my fav 3):\r\n```\r\n{&quot;dateIssuedField&quot;: &quot;0001-01-01T00:00:00&quot;}\r\n```\r\nwould be.\r\n\r\n\r\n----------\r\n\r\n\r\nWith `in.xml`:\r\n```lang-xml\r\n&lt;myRoot&gt;\r\n  &lt;dateIssuedField class=&quot;foo.bar.Baz&quot; resolves-to=&quot;com.example.Ignore&quot;&gt;\r\n    &lt;lexicalValue&gt;0001-01-01T00:00:00&lt;/lexicalValue&gt;\r\n  &lt;/dateIssuedField&gt;\r\n&lt;/myRoot&gt;\r\n```\r\n(jdk:19, jackson-databind+jackson-dataformat-xml:2.14.2), we can navigate and modify the object tree as see fit.\r\n\r\nTo achieve (1):\r\n```lang-java\r\npackage com.acme.jackson;\r\n\r\nimport com.fasterxml.jackson.databind.DeserializationFeature;\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\nimport com.fasterxml.jackson.databind.node.ObjectNode;\r\nimport com.fasterxml.jackson.dataformat.xml.XmlMapper;\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\n\r\npublic class Demo1 {\r\n\r\n  public static void main(String[] args) {\r\n    XmlMapper xmlMapper = new XmlMapper();\r\n    ObjectMapper objectMapper = new ObjectMapper();\r\n    // xmlMapper.configure ...\r\n    try (InputStream xml = Thread.currentThread().getContextClassLoader().getResourceAsStream(&quot;in.xml&quot;)) {\r\n      // navigate the structure...:\r\n      ObjectNode root = (ObjectNode) xmlMapper.readTree(xml);\r\n      ObjectNode node = (ObjectNode) root.get(&quot;dateIssuedField&quot;);\r\n\r\n      // ..and modify to our needs:\r\n      node.remove(&quot;class&quot;);\r\n      node.remove(&quot;resolves-to&quot;); // ...\r\n\r\n      // ...value to key:\r\n      String val = node.get(&quot;lexicalValue&quot;).textValue();\r\n      node.remove(&quot;lexicalValue&quot;);\r\n      node.put(val, (String) null);\r\n\r\n      // and verify:\r\n      System.err.println(objectMapper.writeValueAsString(root));\r\n    } catch (IOException ex) {\r\n      System.err.println(&quot;ohoh:&quot;);\r\n      System.err.println(ex.getLocalizedMessage());\r\n    }\r\n\r\n  }\r\n}\r\n```\r\nprints:\r\n```lang-json\r\n{&quot;dateIssuedField&quot;:{&quot;0001-01-01T00:00:00&quot;:null}}\r\n```\r\n\r\n\r\n----------\r\n\r\n\r\nFor (my fav 3) we can:\r\n```lang-java\r\n// ...\r\ntry (InputStream xml = Thread.currentThread().getContextClassLoader().getResourceAsStream(&quot;in.xml&quot;)) {\r\n  ObjectNode root = (ObjectNode) xmlMapper.readTree(xml);\r\n  root.replace(&quot;dateIssuedField&quot;,\r\n    new TextNode(\r\n      ((ObjectNode) root.get(&quot;dateIssuedField&quot;)).get(&quot;lexicalValue&quot;).textValue()\r\n    )\r\n  );\r\n  // verify:\r\n  System.err.println(objectMapper.writeValueAsString(root));\r\n} catch (IOException ex) { // ...\r\n```\r\nprints:\r\n```lang-json\r\n{&quot;dateIssuedField&quot;:&quot;0001-01-01T00:00:00&quot;}\r\n```\r\n\r\n\r\n----------\r\n\r\n\r\nEven better: Map your model (of interest) as objects!\r\n\r\nFor larger models, it is worth to cope with (model/object/schema) &quot;generation&quot;. And always an option: To model &quot;manually&quot;.\r\n\r\nAdvantages: \r\n- No need to cast\r\n- Accessor navigation\r\n- More flexible de-/serialization\r\n- OO advantages/modeling flexibility\r\n- ...\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/JSON","title":"Jackson XML to JSON, ignore attributes","body":"<p>As I commented: The desired output format</p>\n<pre class=\"lang-json prettyprint-override\"><code>{&quot;dateIssuedField&quot;: {&quot;0001-01-01T00:00:00&quot;}}\n</code></pre>\n<p>is not really/fully <a href=\"https://en.wikipedia.org/wiki/JSON\" rel=\"nofollow noreferrer\">valid JSON</a>...</p>\n<p>(1) null value:</p>\n<pre><code>{&quot;dateIssuedField&quot;: {&quot;0001-01-01T00:00:00&quot;: null}}\n</code></pre>\n<p>or (2) single element array:</p>\n<pre><code>{&quot;dateIssuedField&quot;: [&quot;0001-01-01T00:00:00&quot;]}\n</code></pre>\n<p>or just (my fav 3):</p>\n<pre><code>{&quot;dateIssuedField&quot;: &quot;0001-01-01T00:00:00&quot;}\n</code></pre>\n<p>would be.</p>\n<hr />\n<p>With <code>in.xml</code>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;myRoot&gt;\n  &lt;dateIssuedField class=&quot;foo.bar.Baz&quot; resolves-to=&quot;com.example.Ignore&quot;&gt;\n    &lt;lexicalValue&gt;0001-01-01T00:00:00&lt;/lexicalValue&gt;\n  &lt;/dateIssuedField&gt;\n&lt;/myRoot&gt;\n</code></pre>\n<p>(jdk:19, jackson-databind+jackson-dataformat-xml:2.14.2), we can navigate and modify the object tree as see fit.</p>\n<p>To achieve (1):</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.acme.jackson;\n\nimport com.fasterxml.jackson.databind.DeserializationFeature;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport com.fasterxml.jackson.databind.node.ObjectNode;\nimport com.fasterxml.jackson.dataformat.xml.XmlMapper;\nimport java.io.IOException;\nimport java.io.InputStream;\n\npublic class Demo1 {\n\n  public static void main(String[] args) {\n    XmlMapper xmlMapper = new XmlMapper();\n    ObjectMapper objectMapper = new ObjectMapper();\n    // xmlMapper.configure ...\n    try (InputStream xml = Thread.currentThread().getContextClassLoader().getResourceAsStream(&quot;in.xml&quot;)) {\n      // navigate the structure...:\n      ObjectNode root = (ObjectNode) xmlMapper.readTree(xml);\n      ObjectNode node = (ObjectNode) root.get(&quot;dateIssuedField&quot;);\n\n      // ..and modify to our needs:\n      node.remove(&quot;class&quot;);\n      node.remove(&quot;resolves-to&quot;); // ...\n\n      // ...value to key:\n      String val = node.get(&quot;lexicalValue&quot;).textValue();\n      node.remove(&quot;lexicalValue&quot;);\n      node.put(val, (String) null);\n\n      // and verify:\n      System.err.println(objectMapper.writeValueAsString(root));\n    } catch (IOException ex) {\n      System.err.println(&quot;ohoh:&quot;);\n      System.err.println(ex.getLocalizedMessage());\n    }\n\n  }\n}\n</code></pre>\n<p>prints:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{&quot;dateIssuedField&quot;:{&quot;0001-01-01T00:00:00&quot;:null}}\n</code></pre>\n<hr />\n<p>For (my fav 3) we can:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// ...\ntry (InputStream xml = Thread.currentThread().getContextClassLoader().getResourceAsStream(&quot;in.xml&quot;)) {\n  ObjectNode root = (ObjectNode) xmlMapper.readTree(xml);\n  root.replace(&quot;dateIssuedField&quot;,\n    new TextNode(\n      ((ObjectNode) root.get(&quot;dateIssuedField&quot;)).get(&quot;lexicalValue&quot;).textValue()\n    )\n  );\n  // verify:\n  System.err.println(objectMapper.writeValueAsString(root));\n} catch (IOException ex) { // ...\n</code></pre>\n<p>prints:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{&quot;dateIssuedField&quot;:&quot;0001-01-01T00:00:00&quot;}\n</code></pre>\n<hr />\n<p>Even better: Map your model (of interest) as objects!</p>\n<p>For larger models, it is worth to cope with (model/object/schema) &quot;generation&quot;. And always an option: To model &quot;manually&quot;.</p>\n<p>Advantages:</p>\n<ul>\n<li>No need to cast</li>\n<li>Accessor navigation</li>\n<li>More flexible de-/serialization</li>\n<li>OO advantages/modeling flexibility</li>\n<li>...</li>\n</ul>\n"}],"owner":{"account_id":63767,"reputation":1635,"user_id":188587,"accept_rate":44,"display_name":"djb"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":498,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75652841,"answer_count":1,"score":1,"last_activity_date":1678300540,"creation_date":1678108413,"question_id":75651295,"body_markdown":"I have XML like this:\r\n\r\n    ....\r\n      &lt;dateIssuedField class=&quot;org.apache.xerces.jaxp.datatype.XMLGregorianCalendarImpl&quot; resolves-to=&quot;org.apache.xerces.jaxp.datatype.SerializedXMLGregorianCalendar&quot;&gt;\r\n        &lt;lexicalValue&gt;0001-01-01T00:00:00&lt;/lexicalValue&gt;\r\n      &lt;/dateIssuedField&gt;\r\n    ....\r\n\r\nand I&#39;d like to get JSON like this:\r\n\r\n    &quot;dateIssuedField&quot;: {&quot;0001-01-01T00:00:00&quot;}\r\n\r\n\r\nI&#39;ve tried so many things.  Unfortunately this &#39;class&#39; and &#39;resolves-to&#39; don&#39;t actually match any existing class.  So I can&#39;t add a serializer/deserializer that matches these classes.\r\n\r\nThe simplest fix would be to get rid of all attributes.  Then I&#39;ll just deal with &#39;lexicalValue&#39;. \r\n But I can&#39;t even work that out.\r\n\r\n\r\n\r\n\tXmlMapper xmlMapper = new XmlMapper();\r\n\txmlMapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\r\n\r\n\tJsonNode node = xmlMapper.readTree(xml.getBytes());\r\n\tObjectMapper objectMapper = new ObjectMapper();\r\n\tString jsonOutput = objectMapper.writeValueAsString(node);\r\n\t\t\t\r\n\r\nI don&#39;t have the classes generated, so I can&#39;t use annotations to ignore the fields.\r\n\r\nIt looks like there is a MixIn technique, but I can&#39;t work out how to use it in this case.\r\n","title":"Jackson XML to JSON, ignore attributes","body":"<p>I have XML like this:</p>\n<pre><code>....\n  &lt;dateIssuedField class=&quot;org.apache.xerces.jaxp.datatype.XMLGregorianCalendarImpl&quot; resolves-to=&quot;org.apache.xerces.jaxp.datatype.SerializedXMLGregorianCalendar&quot;&gt;\n    &lt;lexicalValue&gt;0001-01-01T00:00:00&lt;/lexicalValue&gt;\n  &lt;/dateIssuedField&gt;\n....\n</code></pre>\n<p>and I'd like to get JSON like this:</p>\n<pre><code>&quot;dateIssuedField&quot;: {&quot;0001-01-01T00:00:00&quot;}\n</code></pre>\n<p>I've tried so many things.  Unfortunately this 'class' and 'resolves-to' don't actually match any existing class.  So I can't add a serializer/deserializer that matches these classes.</p>\n<p>The simplest fix would be to get rid of all attributes.  Then I'll just deal with 'lexicalValue'.\nBut I can't even work that out.</p>\n<pre><code>XmlMapper xmlMapper = new XmlMapper();\nxmlMapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\n\nJsonNode node = xmlMapper.readTree(xml.getBytes());\nObjectMapper objectMapper = new ObjectMapper();\nString jsonOutput = objectMapper.writeValueAsString(node);\n        \n</code></pre>\n<p>I don't have the classes generated, so I can't use annotations to ignore the fields.</p>\n<p>It looks like there is a MixIn technique, but I can't work out how to use it in this case.</p>\n"},{"tags":["java","jackson"],"answers":[{"tags":[],"owner":{"account_id":1905059,"reputation":1845,"user_id":1720101,"accept_rate":37,"display_name":"Shvalb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678300498,"creation_date":1678156279,"answer_id":75657559,"question_id":75655505,"body_markdown":"The way to do this is by injecting the parameter using the ObjectMapper + @JsonInject annotation. Hope this helps anyone..\r\n\r\nhttps://www.tutorialspoint.com/jackson_annotations/jackson_annotations_jacksoninject.html\r\n","title":"Pass arguments to JsonDeserializer not via Annotations","body":"<p>The way to do this is by injecting the parameter using the ObjectMapper + @JsonInject annotation. Hope this helps anyone..</p>\n<p><a href=\"https://www.tutorialspoint.com/jackson_annotations/jackson_annotations_jacksoninject.html\" rel=\"nofollow noreferrer\">https://www.tutorialspoint.com/jackson_annotations/jackson_annotations_jacksoninject.html</a></p>\n"}],"owner":{"account_id":1905059,"reputation":1845,"user_id":1720101,"accept_rate":37,"display_name":"Shvalb"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678300498,"creation_date":1678134280,"question_id":75655505,"body_markdown":"I&#39;ve the following requirement:\r\nWrite a `JsonDeserializer` that is invoked when doing something like:\r\n\r\n```\r\npublic CustomConfiguration deserialize(User user, String data) {\r\n    objectMapper.readValue(data, CustomConfiguration.class);\r\n}\r\n```\r\n\r\n*AND* I would like to pass the `user` instance to the `deserialize` method.\r\n\r\nP.S: I&#39;m using SpringBoot 2.7.3, so my CustomDeserializes class uses the `@JsonComponent` annotation, so I&#39;m able to `@Autowired` objects.\r\n\r\nIs there a nice way to make this happen?\r\n\r\nThank you!","title":"Pass arguments to JsonDeserializer not via Annotations","body":"<p>I've the following requirement:\nWrite a <code>JsonDeserializer</code> that is invoked when doing something like:</p>\n<pre><code>public CustomConfiguration deserialize(User user, String data) {\n    objectMapper.readValue(data, CustomConfiguration.class);\n}\n</code></pre>\n<p><em>AND</em> I would like to pass the <code>user</code> instance to the <code>deserialize</code> method.</p>\n<p>P.S: I'm using SpringBoot 2.7.3, so my CustomDeserializes class uses the <code>@JsonComponent</code> annotation, so I'm able to <code>@Autowired</code> objects.</p>\n<p>Is there a nice way to make this happen?</p>\n<p>Thank you!</p>\n"},{"tags":["java","android","reverse-engineering"],"owner":{"account_id":23479798,"reputation":11,"user_id":17532119,"display_name":"Noah Osterholz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678300459,"creation_date":1678300459,"question_id":75676929,"body_markdown":"The title about sums it up. In my case I want to have a link (for usage in a QR-Code) that opens a specific route planner app and directly enters the current location as starting point and a fixed location as destination. The app allows me to add shortcuts for specific connections to my homescreen but I couldn&#39;t figure out how to extract the link from these shortcuts. I did some reverse engineering in the past but never on a mobile app but that wouldn&#39;t be too much if it was needed. Also the app is very simple, presumably written in java and you don&#39;t need an account to use it so it should be exactly the same for every user. Can someone point me in the right direction here?\r\n\r\nI haven&#39;t yet tried anything but searching the app for the desired function. I frankly don&#39;t know where to start with this as I don&#39;t have a clue about anything mobile related.","title":"How can I extract an applink for an app that doesn&#39;t have a function for this itself?","body":"<p>The title about sums it up. In my case I want to have a link (for usage in a QR-Code) that opens a specific route planner app and directly enters the current location as starting point and a fixed location as destination. The app allows me to add shortcuts for specific connections to my homescreen but I couldn't figure out how to extract the link from these shortcuts. I did some reverse engineering in the past but never on a mobile app but that wouldn't be too much if it was needed. Also the app is very simple, presumably written in java and you don't need an account to use it so it should be exactly the same for every user. Can someone point me in the right direction here?</p>\n<p>I haven't yet tried anything but searching the app for the desired function. I frankly don't know where to start with this as I don't have a clue about anything mobile related.</p>\n"},{"tags":["java","json","spring-boot","jackson","spring-restcontroller"],"comments":[{"owner":{"account_id":2453179,"reputation":1066,"user_id":2138953,"accept_rate":83,"display_name":"PAX"},"score":0,"creation_date":1678265688,"post_id":75670577,"comment_id":133497611,"body_markdown":"Does this annotation is effective on method/class level? `@JsonFormat(prettyPrint = true)`","body":"Does this annotation is effective on method/class level? <code>@JsonFormat(prettyPrint = true)</code>"},{"owner":{"account_id":27963203,"reputation":1,"user_id":21354545,"display_name":"Y&#39;Kotyk"},"score":0,"creation_date":1678272385,"post_id":75670577,"comment_id":133499324,"body_markdown":"@PAX JsonFormat has not property prettyPrint","body":"@PAX JsonFormat has not property prettyPrint"}],"answers":[{"tags":[],"owner":{"account_id":16518376,"reputation":11,"user_id":11935193,"display_name":"TIM BERR"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678266063,"creation_date":1678266063,"answer_id":75671075,"question_id":75670577,"body_markdown":"Let&#39;s say you have a simple `Person` class with 2 properties, `name` and `age`:\r\n\r\n    public class Person {\r\n\r\n       private String name;\r\n       private int age;\r\n\r\n       public Person(String name, int age) {\r\n           this.name = name;\r\n           this.age = age;\r\n       }\r\n\r\n       public String getName() {\r\n           return name;\r\n       }\r\n\r\n       public int getAge() {\r\n           return age;\r\n       }\r\n    }\r\n\r\nAnd let&#39;s say you have a spring `RestController` that returns a `Person` object as JSON:\r\n\r\n    @RestController\r\n    public class MyRestController {\r\n\r\n       @GetMapping(&quot;/person&quot;)\r\n       public Person getPerson() {\r\n          return new Person(&quot;John Doe&quot;, 30);\r\n       }\r\n    }\r\n\r\nBy default, the JSON output will be compact and not indented:\r\n\r\n    {&quot;name&quot;:&quot;John Doe&quot;,&quot;age&quot;:30}\r\n\r\nTo pretty-print the JSON output, you can use the `@JsonFormat` annotation on the `Person` class:\r\n\r\n    @JsonFormat(shape = JsonFormat.Shape.OBJECT)\r\n    public class Person {\r\n        //...\r\n    }\r\n\r\nThe `shape` property of the annotation specifics the shape of the serialized JSON. In this case, we set it to `JsonFormat.Shape.OBJECT` to indicate that the output should be formatted as a JSON object.\r\n\r\nNow, when you call the `/Person` endpoint, the JSON output will be pretty-printed\r\n\r\n    {\r\n      &quot;name&quot; : &quot;John Doe&quot;,\r\n      &quot;age&quot; : 30\r\n    }\r\n\r\nAs you can see, the JSON output is now indented and easier to read.\r\n\r\n","title":"How to make Indent output JSONs by annotations in RestController?","body":"<p>Let's say you have a simple <code>Person</code> class with 2 properties, <code>name</code> and <code>age</code>:</p>\n<pre><code>public class Person {\n\n   private String name;\n   private int age;\n\n   public Person(String name, int age) {\n       this.name = name;\n       this.age = age;\n   }\n\n   public String getName() {\n       return name;\n   }\n\n   public int getAge() {\n       return age;\n   }\n}\n</code></pre>\n<p>And let's say you have a spring <code>RestController</code> that returns a <code>Person</code> object as JSON:</p>\n<pre><code>@RestController\npublic class MyRestController {\n\n   @GetMapping(&quot;/person&quot;)\n   public Person getPerson() {\n      return new Person(&quot;John Doe&quot;, 30);\n   }\n}\n</code></pre>\n<p>By default, the JSON output will be compact and not indented:</p>\n<pre><code>{&quot;name&quot;:&quot;John Doe&quot;,&quot;age&quot;:30}\n</code></pre>\n<p>To pretty-print the JSON output, you can use the <code>@JsonFormat</code> annotation on the <code>Person</code> class:</p>\n<pre><code>@JsonFormat(shape = JsonFormat.Shape.OBJECT)\npublic class Person {\n    //...\n}\n</code></pre>\n<p>The <code>shape</code> property of the annotation specifics the shape of the serialized JSON. In this case, we set it to <code>JsonFormat.Shape.OBJECT</code> to indicate that the output should be formatted as a JSON object.</p>\n<p>Now, when you call the <code>/Person</code> endpoint, the JSON output will be pretty-printed</p>\n<pre><code>{\n  &quot;name&quot; : &quot;John Doe&quot;,\n  &quot;age&quot; : 30\n}\n</code></pre>\n<p>As you can see, the JSON output is now indented and easier to read.</p>\n"}],"owner":{"account_id":27963203,"reputation":1,"user_id":21354545,"display_name":"Y&#39;Kotyk"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":263,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678300373,"creation_date":1678262637,"question_id":75670577,"body_markdown":"I need to pretty output JSONs. Is there an annotation for RestController that will help to do this? This is a spring boot application that produces = MediaType.APPLICATION_JSON_VALUE in @RequestMapping.\r\n\r\nI found one way with the configuration in application.yml\r\n```\r\njackson:\r\n  serialization:\r\n    indent-output: true\r\n```\r\nHowever, this solution imposes this rule on the entire project, and I want to do this for only one class.\r\nAlso, I think @JsonSerialize can help me, but I couldn&#39;t set up an annotation for pretty print","title":"How to make Indent output JSONs by annotations in RestController?","body":"<p>I need to pretty output JSONs. Is there an annotation for RestController that will help to do this? This is a spring boot application that produces = MediaType.APPLICATION_JSON_VALUE in @RequestMapping.</p>\n<p>I found one way with the configuration in application.yml</p>\n<pre><code>jackson:\n  serialization:\n    indent-output: true\n</code></pre>\n<p>However, this solution imposes this rule on the entire project, and I want to do this for only one class.\nAlso, I think @JsonSerialize can help me, but I couldn't set up an annotation for pretty print</p>\n"},{"tags":["java","spring","spring-boot","wildfly"],"answers":[{"tags":[],"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678300112,"creation_date":1678300112,"answer_id":75676880,"question_id":75651961,"body_markdown":"You&#39;re using Spring Boot 3 which requires Jakarta EE 9+. WildFly 24 is a Jakarta EE 8 container. You need to use WildFly 27 which is Jakarta EE 10 or optionally WildFly 24 Preview which is Jakarta EE 9.1. I would suggest using WildFly 27.0.1.Final which can be found on the [WildFly downloads][1] page..\r\n\r\n[1]: https://www.wildfly.org/downloads/","title":"Not installing optional component org.springframework.web.servlet.tags.form.X due to an exception","body":"<p>You're using Spring Boot 3 which requires Jakarta EE 9+. WildFly 24 is a Jakarta EE 8 container. You need to use WildFly 27 which is Jakarta EE 10 or optionally WildFly 24 Preview which is Jakarta EE 9.1. I would suggest using WildFly 27.0.1.Final which can be found on the <a href=\"https://www.wildfly.org/downloads/\" rel=\"nofollow noreferrer\">WildFly downloads</a> page..</p>\n"}],"owner":{"account_id":20927538,"reputation":5,"user_id":15374648,"display_name":"denisxoctavian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1109,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75676880,"answer_count":1,"score":0,"last_activity_date":1678300112,"creation_date":1678112435,"question_id":75651961,"body_markdown":"I am trying to deploy app.war file to Wildfly 24.0. I get no errors when I am generating the WAR file with mvn clean install. I am using Spring Boot 3.0.4, Maven and Java 17. Everything works fine until I try to deploy the WAR file on Wildfly server I get this warn message:\r\n```\r\n(MSC service thread 1-2) WFLYEE0007: Not installing optional component org.springframework.web.servlet.tags.form.HiddenInputTag due to an exception (enable DEBUG log level to see the cause)\r\n16:04:59,240 INFO  [org.infinispan.CONTAINER] (ServerService Thread Pool -- 78) ISPN000128: Infinispan version: Infinispan &#39;Taedonggang&#39; 12.1.4.Final\r\n16:04:59,303 INFO  [org.infinispan.CONFIG] (MSC service thread 1-1) ISPN000152: Passivation configured without an eviction policy being selected. Only manually evicted entities will be passivated.\r\n16:04:59,306 INFO  [org.infinispan.CONFIG] (MSC service thread 1-1) ISPN000152: Passivation configured without an eviction policy being selected. Only manually evicted entities will be passivated.\r\n16:04:59,362 INFO  [org.infinispan.CONTAINER] (ServerService Thread Pool -- 78) ISPN000556: Starting user marshaller &#39;org.wildfly.clustering.infinispan.spi.marshalling.InfinispanProtoStreamMarshaller&#39;\r\n16:04:59,471 INFO  [org.infinispan.CONTAINER] (ServerService Thread Pool -- 78) ISPN000025: wakeUpInterval is &lt;= 0, not starting expired purge thread\r\n16:04:59,509 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 78) WFLYCLINF0002: Started http-remoting-connector cache from ejb container\r\n16:04:59,548 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-2) MSC000001: Failed to start service jboss.deployment.unit.&quot;wrapper.war&quot;.undertow-deployment.UndertowDeploymentInfoService: org.jboss.msc.service.StartException in service jboss.deployment.unit.&quot;wrapper.war&quot;.undertow-deployment.UndertowDeploymentInfoService: Failed to start service\r\n        at org.jboss.msc@1.4.12.Final//org.jboss.msc.service.ServiceControllerImpl$StartTask.execute(ServiceControllerImpl.java:1731)\r\n        at org.jboss.msc@1.4.12.Final//org.jboss.msc.service.ServiceControllerImpl$ControllerTask.run(ServiceControllerImpl.java:1559)\r\n        at org.jboss.threads@2.4.0.Final//org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\r\n        at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)\r\n        at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)\r\n        at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1363)\r\n        at java.base/java.lang.Thread.run(Thread.java:833)\r\nCaused by: java.lang.IllegalArgumentException: UT010009: Servlet app of type class org.springframework.web.servlet.DispatcherServlet does not implement javax.servlet.Servlet\r\n        at io.undertow.servlet@2.2.8.Final//io.undertow.servlet.api.ServletInfo.&lt;init&gt;(ServletInfo.java:98)\r\n        at org.wildfly.extension.undertow@24.0.1.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService.createServletConfig(UndertowDeploymentInfoService.java:753)\r\n        at org.wildfly.extension.undertow@24.0.1.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService.start(UndertowDeploymentInfoService.java:305)\r\n        at org.jboss.msc@1.4.12.Final//org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1739)\r\n        at org.jboss.msc@1.4.12.Final//org.jboss.msc.service.ServiceControllerImpl$StartTask.execute(ServiceControllerImpl.java:1701)\r\n        ... 6 more\r\n```\r\nAnd because of that I have multiple warning messages. I have checked and org.springframework.web is in my project and also in the module of the wildfly server. This is how my mvn dependency:tree looks like:\r\n\r\n```\r\n[INFO] +- com.splunk:splunk:jar:1.9.3:compile\r\n[INFO] |  +- commons-cli:commons-cli:jar:1.2:compile\r\n[INFO] |  +- com.google.code.gson:gson:jar:2.9.1:compile\r\n[INFO] |  \\- net.sf.opencsv:opencsv:jar:2.3:compile\r\n[INFO] +- org.springframework.boot:spring-boot-starter-web:jar:3.0.4:compile\r\n[INFO] |  +- org.springframework.boot:spring-boot-starter:jar:3.0.4:compile\r\n[INFO] |  |  +- org.springframework.boot:spring-boot:jar:3.0.4:compile\r\n[INFO] |  |  +- org.springframework.boot:spring-boot-autoconfigure:jar:3.0.4:compile\r\n[INFO] |  |  +- org.springframework.boot:spring-boot-starter-logging:jar:3.0.4:compile\r\n[INFO] |  |  |  +- ch.qos.logback:logback-classic:jar:1.4.5:compile\r\n[INFO] |  |  |  |  \\- ch.qos.logback:logback-core:jar:1.4.5:compile\r\n[INFO] |  |  |  +- org.apache.logging.log4j:log4j-to-slf4j:jar:2.19.0:compile\r\n[INFO] |  |  |  |  \\- org.apache.logging.log4j:log4j-api:jar:2.19.0:compile\r\n[INFO] |  |  |  \\- org.slf4j:jul-to-slf4j:jar:2.0.6:compile\r\n[INFO] |  |  \\- org.yaml:snakeyaml:jar:1.33:compile\r\n[INFO] |  +- org.springframework.boot:spring-boot-starter-json:jar:3.0.4:compile\r\n[INFO] |  |  +- com.fasterxml.jackson.core:jackson-databind:jar:2.14.2:compile\r\n[INFO] |  |  |  +- com.fasterxml.jackson.core:jackson-annotations:jar:2.14.2:compile\r\n[INFO] |  |  |  \\- com.fasterxml.jackson.core:jackson-core:jar:2.14.2:compile\r\n[INFO] |  |  +- com.fasterxml.jackson.datatype:jackson-datatype-jdk8:jar:2.14.2:compile\r\n[INFO] |  |  +- com.fasterxml.jackson.datatype:jackson-datatype-jsr310:jar:2.14.2:compile\r\n[INFO] |  |  \\- com.fasterxml.jackson.module:jackson-module-parameter-names:jar:2.14.2:compile\r\n[INFO] |  +- org.springframework:spring-web:jar:6.0.6:compile\r\n[INFO] |  |  +- org.springframework:spring-beans:jar:6.0.6:compile\r\n[INFO] |  |  \\- io.micrometer:micrometer-observation:jar:1.10.4:compile\r\n[INFO] |  |     \\- io.micrometer:micrometer-commons:jar:1.10.4:compile\r\n[INFO] |  \\- org.springframework:spring-webmvc:jar:6.0.6:compile\r\n[INFO] |     +- org.springframework:spring-aop:jar:6.0.6:compile\r\n[INFO] |     +- org.springframework:spring-context:jar:6.0.6:compile\r\n[INFO] |     \\- org.springframework:spring-expression:jar:6.0.6:compile\r\n[INFO] +- org.springframework.boot:spring-boot-starter-tomcat:jar:3.0.4:provided\r\n[INFO] |  +- jakarta.annotation:jakarta.annotation-api:jar:2.1.1:compile\r\n[INFO] |  +- org.apache.tomcat.embed:tomcat-embed-core:jar:10.1.5:provided\r\n[INFO] |  +- org.apache.tomcat.embed:tomcat-embed-el:jar:10.1.5:provided\r\n[INFO] |  \\- org.apache.tomcat.embed:tomcat-embed-websocket:jar:10.1.5:provided\r\n[INFO] \\- org.springframework.boot:spring-boot-starter-test:jar:3.0.4:test\r\n[INFO]    +- org.springframework.boot:spring-boot-test:jar:3.0.4:test\r\n[INFO]    +- org.springframework.boot:spring-boot-test-autoconfigure:jar:3.0.4:test\r\n[INFO]    +- com.jayway.jsonpath:json-path:jar:2.7.0:test\r\n[INFO]    |  +- net.minidev:json-smart:jar:2.4.8:test\r\n[INFO]    |  |  \\- net.minidev:accessors-smart:jar:2.4.8:test\r\n[INFO]    |  |     \\- org.ow2.asm:asm:jar:9.1:test\r\n[INFO]    |  \\- org.slf4j:slf4j-api:jar:2.0.6:compile\r\n[INFO]    +- jakarta.xml.bind:jakarta.xml.bind-api:jar:4.0.0:test\r\n[INFO]    |  \\- jakarta.activation:jakarta.activation-api:jar:2.1.1:test\r\n[INFO]    +- org.assertj:assertj-core:jar:3.23.1:test\r\n[INFO]    |  \\- net.bytebuddy:byte-buddy:jar:1.12.23:test\r\n[INFO]    +- org.hamcrest:hamcrest:jar:2.2:test\r\n[INFO]    +- org.junit.jupiter:junit-jupiter:jar:5.9.2:test\r\n[INFO]    |  +- org.junit.jupiter:junit-jupiter-api:jar:5.9.2:test\r\n[INFO]    |  |  +- org.opentest4j:opentest4j:jar:1.2.0:test\r\n[INFO]    |  |  +- org.junit.platform:junit-platform-commons:jar:1.9.2:test\r\n[INFO]    |  |  \\- org.apiguardian:apiguardian-api:jar:1.1.2:test\r\n[INFO]    |  +- org.junit.jupiter:junit-jupiter-params:jar:5.9.2:test\r\n[INFO]    |  \\- org.junit.jupiter:junit-jupiter-engine:jar:5.9.2:test\r\n[INFO]    |     \\- org.junit.platform:junit-platform-engine:jar:1.9.2:test\r\n[INFO]    +- org.mockito:mockito-core:jar:4.8.1:test\r\n[INFO]    |  +- net.bytebuddy:byte-buddy-agent:jar:1.12.23:test\r\n[INFO]    |  \\- org.objenesis:objenesis:jar:3.2:test\r\n[INFO]    +- org.mockito:mockito-junit-jupiter:jar:4.8.1:test\r\n[INFO]    +- org.skyscreamer:jsonassert:jar:1.5.1:test\r\n[INFO]    |  \\- com.vaadin.external.google:android-json:jar:0.0.20131108.vaadin1:test\r\n[INFO]    +- org.springframework:spring-core:jar:6.0.6:compile\r\n[INFO]    |  \\- org.springframework:spring-jcl:jar:6.0.6:compile\r\n[INFO]    +- org.springframework:spring-test:jar:6.0.6:test\r\n[INFO]    \\- org.xmlunit:xmlunit-core:jar:2.9.1:test\r\n```\r\n\r\nAnd this is how the module.xml of the wildfly server looks like:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot;?&gt;\r\n&lt;module xmlns=&quot;urn:jboss:module:1.1&quot; name=&quot;org.springframework.spring&quot;&gt;\r\n  &lt;resources&gt;\r\n    &lt;resource-root path=&quot;spring-boot-maven-plugin-3.0.3.jar&quot;/&gt;\r\n    &lt;resource-root path=&quot;spring-boot-starter-3.0.3.jar&quot;/&gt;\r\n    &lt;resource-root path=&quot;spring-boot-starter-tomcat-3.0.3.jar&quot;/&gt;\r\n    &lt;resource-root path=&quot;spring-boot-starter-web-3.0.3.jar&quot;/&gt;\r\n    &lt;resource-root path=&quot;spring-boot-test-3.0.3.jar&quot;/&gt;\r\n\t&lt;resource-root path=&quot;spring-core-6.0.5.jar&quot;/&gt;\r\n\t&lt;resource-root path=&quot;spring-web-6.0.5.jar&quot;/&gt;\r\n\t&lt;resource-root path=&quot;spring-webmvc-6.0.6.jar&quot;/&gt;\r\n  &lt;/resources&gt;\r\n  &lt;dependencies&gt;\r\n    &lt;module name=&quot;javax.api&quot;/&gt;\r\n    &lt;module name=&quot;org.apache.commons.logging&quot;/&gt;\r\n  &lt;/dependencies&gt;\r\n&lt;/module&gt;\r\n```\r\nHow can I get rid of this problem ?\r\n\r\n\r\n\r\nI tried to change things in web.xml but no results.","title":"Not installing optional component org.springframework.web.servlet.tags.form.X due to an exception","body":"<p>I am trying to deploy app.war file to Wildfly 24.0. I get no errors when I am generating the WAR file with mvn clean install. I am using Spring Boot 3.0.4, Maven and Java 17. Everything works fine until I try to deploy the WAR file on Wildfly server I get this warn message:</p>\n<pre><code>(MSC service thread 1-2) WFLYEE0007: Not installing optional component org.springframework.web.servlet.tags.form.HiddenInputTag due to an exception (enable DEBUG log level to see the cause)\n16:04:59,240 INFO  [org.infinispan.CONTAINER] (ServerService Thread Pool -- 78) ISPN000128: Infinispan version: Infinispan 'Taedonggang' 12.1.4.Final\n16:04:59,303 INFO  [org.infinispan.CONFIG] (MSC service thread 1-1) ISPN000152: Passivation configured without an eviction policy being selected. Only manually evicted entities will be passivated.\n16:04:59,306 INFO  [org.infinispan.CONFIG] (MSC service thread 1-1) ISPN000152: Passivation configured without an eviction policy being selected. Only manually evicted entities will be passivated.\n16:04:59,362 INFO  [org.infinispan.CONTAINER] (ServerService Thread Pool -- 78) ISPN000556: Starting user marshaller 'org.wildfly.clustering.infinispan.spi.marshalling.InfinispanProtoStreamMarshaller'\n16:04:59,471 INFO  [org.infinispan.CONTAINER] (ServerService Thread Pool -- 78) ISPN000025: wakeUpInterval is &lt;= 0, not starting expired purge thread\n16:04:59,509 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 78) WFLYCLINF0002: Started http-remoting-connector cache from ejb container\n16:04:59,548 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-2) MSC000001: Failed to start service jboss.deployment.unit.&quot;wrapper.war&quot;.undertow-deployment.UndertowDeploymentInfoService: org.jboss.msc.service.StartException in service jboss.deployment.unit.&quot;wrapper.war&quot;.undertow-deployment.UndertowDeploymentInfoService: Failed to start service\n        at org.jboss.msc@1.4.12.Final//org.jboss.msc.service.ServiceControllerImpl$StartTask.execute(ServiceControllerImpl.java:1731)\n        at org.jboss.msc@1.4.12.Final//org.jboss.msc.service.ServiceControllerImpl$ControllerTask.run(ServiceControllerImpl.java:1559)\n        at org.jboss.threads@2.4.0.Final//org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\n        at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)\n        at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)\n        at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1363)\n        at java.base/java.lang.Thread.run(Thread.java:833)\nCaused by: java.lang.IllegalArgumentException: UT010009: Servlet app of type class org.springframework.web.servlet.DispatcherServlet does not implement javax.servlet.Servlet\n        at io.undertow.servlet@2.2.8.Final//io.undertow.servlet.api.ServletInfo.&lt;init&gt;(ServletInfo.java:98)\n        at org.wildfly.extension.undertow@24.0.1.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService.createServletConfig(UndertowDeploymentInfoService.java:753)\n        at org.wildfly.extension.undertow@24.0.1.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService.start(UndertowDeploymentInfoService.java:305)\n        at org.jboss.msc@1.4.12.Final//org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1739)\n        at org.jboss.msc@1.4.12.Final//org.jboss.msc.service.ServiceControllerImpl$StartTask.execute(ServiceControllerImpl.java:1701)\n        ... 6 more\n</code></pre>\n<p>And because of that I have multiple warning messages. I have checked and org.springframework.web is in my project and also in the module of the wildfly server. This is how my mvn dependency:tree looks like:</p>\n<pre><code>[INFO] +- com.splunk:splunk:jar:1.9.3:compile\n[INFO] |  +- commons-cli:commons-cli:jar:1.2:compile\n[INFO] |  +- com.google.code.gson:gson:jar:2.9.1:compile\n[INFO] |  \\- net.sf.opencsv:opencsv:jar:2.3:compile\n[INFO] +- org.springframework.boot:spring-boot-starter-web:jar:3.0.4:compile\n[INFO] |  +- org.springframework.boot:spring-boot-starter:jar:3.0.4:compile\n[INFO] |  |  +- org.springframework.boot:spring-boot:jar:3.0.4:compile\n[INFO] |  |  +- org.springframework.boot:spring-boot-autoconfigure:jar:3.0.4:compile\n[INFO] |  |  +- org.springframework.boot:spring-boot-starter-logging:jar:3.0.4:compile\n[INFO] |  |  |  +- ch.qos.logback:logback-classic:jar:1.4.5:compile\n[INFO] |  |  |  |  \\- ch.qos.logback:logback-core:jar:1.4.5:compile\n[INFO] |  |  |  +- org.apache.logging.log4j:log4j-to-slf4j:jar:2.19.0:compile\n[INFO] |  |  |  |  \\- org.apache.logging.log4j:log4j-api:jar:2.19.0:compile\n[INFO] |  |  |  \\- org.slf4j:jul-to-slf4j:jar:2.0.6:compile\n[INFO] |  |  \\- org.yaml:snakeyaml:jar:1.33:compile\n[INFO] |  +- org.springframework.boot:spring-boot-starter-json:jar:3.0.4:compile\n[INFO] |  |  +- com.fasterxml.jackson.core:jackson-databind:jar:2.14.2:compile\n[INFO] |  |  |  +- com.fasterxml.jackson.core:jackson-annotations:jar:2.14.2:compile\n[INFO] |  |  |  \\- com.fasterxml.jackson.core:jackson-core:jar:2.14.2:compile\n[INFO] |  |  +- com.fasterxml.jackson.datatype:jackson-datatype-jdk8:jar:2.14.2:compile\n[INFO] |  |  +- com.fasterxml.jackson.datatype:jackson-datatype-jsr310:jar:2.14.2:compile\n[INFO] |  |  \\- com.fasterxml.jackson.module:jackson-module-parameter-names:jar:2.14.2:compile\n[INFO] |  +- org.springframework:spring-web:jar:6.0.6:compile\n[INFO] |  |  +- org.springframework:spring-beans:jar:6.0.6:compile\n[INFO] |  |  \\- io.micrometer:micrometer-observation:jar:1.10.4:compile\n[INFO] |  |     \\- io.micrometer:micrometer-commons:jar:1.10.4:compile\n[INFO] |  \\- org.springframework:spring-webmvc:jar:6.0.6:compile\n[INFO] |     +- org.springframework:spring-aop:jar:6.0.6:compile\n[INFO] |     +- org.springframework:spring-context:jar:6.0.6:compile\n[INFO] |     \\- org.springframework:spring-expression:jar:6.0.6:compile\n[INFO] +- org.springframework.boot:spring-boot-starter-tomcat:jar:3.0.4:provided\n[INFO] |  +- jakarta.annotation:jakarta.annotation-api:jar:2.1.1:compile\n[INFO] |  +- org.apache.tomcat.embed:tomcat-embed-core:jar:10.1.5:provided\n[INFO] |  +- org.apache.tomcat.embed:tomcat-embed-el:jar:10.1.5:provided\n[INFO] |  \\- org.apache.tomcat.embed:tomcat-embed-websocket:jar:10.1.5:provided\n[INFO] \\- org.springframework.boot:spring-boot-starter-test:jar:3.0.4:test\n[INFO]    +- org.springframework.boot:spring-boot-test:jar:3.0.4:test\n[INFO]    +- org.springframework.boot:spring-boot-test-autoconfigure:jar:3.0.4:test\n[INFO]    +- com.jayway.jsonpath:json-path:jar:2.7.0:test\n[INFO]    |  +- net.minidev:json-smart:jar:2.4.8:test\n[INFO]    |  |  \\- net.minidev:accessors-smart:jar:2.4.8:test\n[INFO]    |  |     \\- org.ow2.asm:asm:jar:9.1:test\n[INFO]    |  \\- org.slf4j:slf4j-api:jar:2.0.6:compile\n[INFO]    +- jakarta.xml.bind:jakarta.xml.bind-api:jar:4.0.0:test\n[INFO]    |  \\- jakarta.activation:jakarta.activation-api:jar:2.1.1:test\n[INFO]    +- org.assertj:assertj-core:jar:3.23.1:test\n[INFO]    |  \\- net.bytebuddy:byte-buddy:jar:1.12.23:test\n[INFO]    +- org.hamcrest:hamcrest:jar:2.2:test\n[INFO]    +- org.junit.jupiter:junit-jupiter:jar:5.9.2:test\n[INFO]    |  +- org.junit.jupiter:junit-jupiter-api:jar:5.9.2:test\n[INFO]    |  |  +- org.opentest4j:opentest4j:jar:1.2.0:test\n[INFO]    |  |  +- org.junit.platform:junit-platform-commons:jar:1.9.2:test\n[INFO]    |  |  \\- org.apiguardian:apiguardian-api:jar:1.1.2:test\n[INFO]    |  +- org.junit.jupiter:junit-jupiter-params:jar:5.9.2:test\n[INFO]    |  \\- org.junit.jupiter:junit-jupiter-engine:jar:5.9.2:test\n[INFO]    |     \\- org.junit.platform:junit-platform-engine:jar:1.9.2:test\n[INFO]    +- org.mockito:mockito-core:jar:4.8.1:test\n[INFO]    |  +- net.bytebuddy:byte-buddy-agent:jar:1.12.23:test\n[INFO]    |  \\- org.objenesis:objenesis:jar:3.2:test\n[INFO]    +- org.mockito:mockito-junit-jupiter:jar:4.8.1:test\n[INFO]    +- org.skyscreamer:jsonassert:jar:1.5.1:test\n[INFO]    |  \\- com.vaadin.external.google:android-json:jar:0.0.20131108.vaadin1:test\n[INFO]    +- org.springframework:spring-core:jar:6.0.6:compile\n[INFO]    |  \\- org.springframework:spring-jcl:jar:6.0.6:compile\n[INFO]    +- org.springframework:spring-test:jar:6.0.6:test\n[INFO]    \\- org.xmlunit:xmlunit-core:jar:2.9.1:test\n</code></pre>\n<p>And this is how the module.xml of the wildfly server looks like:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot;?&gt;\n&lt;module xmlns=&quot;urn:jboss:module:1.1&quot; name=&quot;org.springframework.spring&quot;&gt;\n  &lt;resources&gt;\n    &lt;resource-root path=&quot;spring-boot-maven-plugin-3.0.3.jar&quot;/&gt;\n    &lt;resource-root path=&quot;spring-boot-starter-3.0.3.jar&quot;/&gt;\n    &lt;resource-root path=&quot;spring-boot-starter-tomcat-3.0.3.jar&quot;/&gt;\n    &lt;resource-root path=&quot;spring-boot-starter-web-3.0.3.jar&quot;/&gt;\n    &lt;resource-root path=&quot;spring-boot-test-3.0.3.jar&quot;/&gt;\n    &lt;resource-root path=&quot;spring-core-6.0.5.jar&quot;/&gt;\n    &lt;resource-root path=&quot;spring-web-6.0.5.jar&quot;/&gt;\n    &lt;resource-root path=&quot;spring-webmvc-6.0.6.jar&quot;/&gt;\n  &lt;/resources&gt;\n  &lt;dependencies&gt;\n    &lt;module name=&quot;javax.api&quot;/&gt;\n    &lt;module name=&quot;org.apache.commons.logging&quot;/&gt;\n  &lt;/dependencies&gt;\n&lt;/module&gt;\n</code></pre>\n<p>How can I get rid of this problem ?</p>\n<p>I tried to change things in web.xml but no results.</p>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":1079173,"reputation":42590,"user_id":1076640,"display_name":"yshavit"},"score":0,"creation_date":1678299928,"post_id":75676590,"comment_id":133507491,"body_markdown":"This sounds a lot like dependency injection. You may want to google for that term, and see some of the common libraries/frameworks for it in Java. (I&#39;ve used Guice and Spring-Boot in the past, but there are others.)","body":"This sounds a lot like dependency injection. You may want to google for that term, and see some of the common libraries/frameworks for it in Java. (I&#39;ve used Guice and Spring-Boot in the past, but there are others.)"}],"answers":[{"tags":[],"owner":{"account_id":27393528,"reputation":353,"user_id":20896122,"display_name":"undefined symbol"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678298565,"creation_date":1678298565,"answer_id":75676650,"question_id":75676590,"body_markdown":"Not as written.  The static return type is &#39;AnimalImpl&#39;.  But generics may be able to solve your problem; something like\r\n\r\n    class zoo {\r\n        &lt;T&gt; T getAnimal(Class&lt;T&gt; clazz);\r\n    }\r\n\r\n","title":"Can a I control the type of the return value of a method by passing different parameters to it?","body":"<p>Not as written.  The static return type is 'AnimalImpl'.  But generics may be able to solve your problem; something like</p>\n<pre><code>class zoo {\n    &lt;T&gt; T getAnimal(Class&lt;T&gt; clazz);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678300085,"creation_date":1678300085,"answer_id":75676874,"question_id":75676590,"body_markdown":"Generics, but, you don&#39;t want to use instances of `java.lang.Class` as the carrier of choice like this. It&#39;s extremely inflexible. For example, the job &#39;hey, here is an instance of `Class&lt;Lion&gt;`, now you get to make a lion&#39; __does not work__ - you have to hack your way out of the typesystem do to that, and just.. at runtime use reflection to ask for the no-args constructor, call it, and pray that it works. There is no way to tell the compiler that `Lion` (the class) _must_ have a no-args public constructor, and that it can&#39;t be abstract either.\r\n\r\nThe better solution is to make... a factory! (Yes, java is the clich&#233;d &#39;oooh factories everywhere&#39; language, but that&#39;s just people who misunderstand what this is or cribbing notes off of code bases that took it too far. The concept is quite useful, don&#39;t let the memes mislead you).\r\n\r\nYou want the concept of &#39;a thing that can describe an animal and make new instances of that animal, using this specific type-system-based specification&#39;.\r\n\r\nThus, you want something like:\r\n\r\n```\r\npublic interface AnimalMaker&lt;A extends Animal&gt; {\r\n  A create();\r\n  String describe();\r\n}\r\n\r\npublic abstract class Animal {}\r\n\r\npublic class Lion extends Animal {}\r\n\r\npublic class LionMaker implements AnimalMaker&lt;Lion&gt; {\r\n  public Lion create() { return new Lion(); }\r\n  public String describe() { return &quot;Describe lion here&quot;; }\r\n}\r\n```\r\n\r\nand then you can make a method that makes lions like so:\r\n\r\n```\r\npublic class Zoo {\r\n  public &lt;A extends Animal&gt; A importAnimal(AnimalMaker&lt;A&gt; maker) {\r\n    A animal = maker.create();\r\n    animals.add(animal);\r\n    return animal;\r\n  }\r\n}\r\n```\r\n\r\nand use _that_ like so:\r\n\r\n```\r\nvoid specializeAsLionZoo() {\r\n  LionMaker maker = new LionMaker();\r\n  Lion newLion = zoo.importAnimal(maker);\r\n}\r\n```\r\n","title":"Can a I control the type of the return value of a method by passing different parameters to it?","body":"<p>Generics, but, you don't want to use instances of <code>java.lang.Class</code> as the carrier of choice like this. It's extremely inflexible. For example, the job 'hey, here is an instance of <code>Class&lt;Lion&gt;</code>, now you get to make a lion' <strong>does not work</strong> - you have to hack your way out of the typesystem do to that, and just.. at runtime use reflection to ask for the no-args constructor, call it, and pray that it works. There is no way to tell the compiler that <code>Lion</code> (the class) <em>must</em> have a no-args public constructor, and that it can't be abstract either.</p>\n<p>The better solution is to make... a factory! (Yes, java is the clichéd 'oooh factories everywhere' language, but that's just people who misunderstand what this is or cribbing notes off of code bases that took it too far. The concept is quite useful, don't let the memes mislead you).</p>\n<p>You want the concept of 'a thing that can describe an animal and make new instances of that animal, using this specific type-system-based specification'.</p>\n<p>Thus, you want something like:</p>\n<pre><code>public interface AnimalMaker&lt;A extends Animal&gt; {\n  A create();\n  String describe();\n}\n\npublic abstract class Animal {}\n\npublic class Lion extends Animal {}\n\npublic class LionMaker implements AnimalMaker&lt;Lion&gt; {\n  public Lion create() { return new Lion(); }\n  public String describe() { return &quot;Describe lion here&quot;; }\n}\n</code></pre>\n<p>and then you can make a method that makes lions like so:</p>\n<pre><code>public class Zoo {\n  public &lt;A extends Animal&gt; A importAnimal(AnimalMaker&lt;A&gt; maker) {\n    A animal = maker.create();\n    animals.add(animal);\n    return animal;\n  }\n}\n</code></pre>\n<p>and use <em>that</em> like so:</p>\n<pre><code>void specializeAsLionZoo() {\n  LionMaker maker = new LionMaker();\n  Lion newLion = zoo.importAnimal(maker);\n}\n</code></pre>\n"}],"owner":{"account_id":400648,"reputation":5518,"user_id":766736,"accept_rate":49,"display_name":"Jer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1678300085,"creation_date":1678298147,"question_id":75676590,"body_markdown":"To give a concrete example, I am looking to do something like the following (contrived example, of course):\r\n\r\n    Interface Animal {}\r\n    Interface AnimalImpl {}\r\n    Interface Lion extends Animal {}\r\n    Interface Hippo extends Animal {}\r\n    Class LionImpl implements Lion, AnimalImpl {}\r\n    Class HippoImpl implements Hippo, AnimalImpl {}\r\n\r\nThen we have a zoo which can have at most one Animal of each type.  It contains something like a map from class to AnimalImpl.\r\n\r\nThen I would want to call something like \r\n\r\n`zoo.getAnimal(Lion.class)` and have it return a Lion.  I can have it return an AnimalImpl, but then I have to cast to a Lion - I&#39;m looking to avoid that cast.  (And likewise, if I called `zoo.getAnimal(Hippo.class)`, it should return a Hippo.)\r\n\r\n","title":"Can a I control the type of the return value of a method by passing different parameters to it?","body":"<p>To give a concrete example, I am looking to do something like the following (contrived example, of course):</p>\n<pre><code>Interface Animal {}\nInterface AnimalImpl {}\nInterface Lion extends Animal {}\nInterface Hippo extends Animal {}\nClass LionImpl implements Lion, AnimalImpl {}\nClass HippoImpl implements Hippo, AnimalImpl {}\n</code></pre>\n<p>Then we have a zoo which can have at most one Animal of each type.  It contains something like a map from class to AnimalImpl.</p>\n<p>Then I would want to call something like</p>\n<p><code>zoo.getAnimal(Lion.class)</code> and have it return a Lion.  I can have it return an AnimalImpl, but then I have to cast to a Lion - I'm looking to avoid that cast.  (And likewise, if I called <code>zoo.getAnimal(Hippo.class)</code>, it should return a Hippo.)</p>\n"},{"tags":["java","jax-rs","open-liberty"],"comments":[{"owner":{"account_id":6890847,"reputation":2050,"user_id":5294422,"display_name":"F Rowe"},"score":0,"creation_date":1678225090,"post_id":75667179,"comment_id":133491464,"body_markdown":"What&#39;s in your feature list?  When you enable servlet-3.1, it enables jaxrs-1.1 and jaxrs-2.0 (see https://www.ibm.com/docs/en/was-liberty/base?topic=features-java-servlets-31)","body":"What&#39;s in your feature list?  When you enable servlet-3.1, it enables jaxrs-1.1 and jaxrs-2.0 (see <a href=\"https://www.ibm.com/docs/en/was-liberty/base?topic=features-java-servlets-31\" rel=\"nofollow noreferrer\">ibm.com/docs/en/was-liberty/&hellip;</a>)"},{"owner":{"account_id":4558101,"reputation":17722,"user_id":3701228,"display_name":"Gas"},"score":0,"creation_date":1678288652,"post_id":75667179,"comment_id":133504045,"body_markdown":"@FRowe it it the other way around - jaxrs enables servlets (not servlets jaxrs), as one may just use servlets without rest services. There is no embedded JAXRS, but maybe you are using default config which enables some features (eg webprofile)","body":"@FRowe it it the other way around - jaxrs enables servlets (not servlets jaxrs), as one may just use servlets without rest services. There is no embedded JAXRS, but maybe you are using default config which enables some features (eg webprofile)"},{"owner":{"account_id":4558101,"reputation":17722,"user_id":3701228,"display_name":"Gas"},"score":0,"creation_date":1678288767,"post_id":75667179,"comment_id":133504088,"body_markdown":"@Uzair add your `server.xml` to the question. If you want to use rest you need to add jaxrs feature.","body":"@Uzair add your <code>server.xml</code> to the question. If you want to use rest you need to add jaxrs feature."},{"owner":{"account_id":26460746,"reputation":1,"user_id":20102736,"display_name":"Uzair Hassan"},"score":0,"creation_date":1678300291,"post_id":75667179,"comment_id":133507595,"body_markdown":"updated with server.xml file. @Gas","body":"updated with server.xml file. @Gas"},{"owner":{"account_id":1623729,"reputation":5190,"user_id":1499766,"accept_rate":86,"display_name":"Scott Kurz"},"score":0,"creation_date":1678385305,"post_id":75667179,"comment_id":133526802,"body_markdown":"@Uzair I can see why the error messages caused you to ask the question wondering if there was &quot;embedded JAXRS&quot; (though is that message coming from the server?).  But in any case, the feature set exposed to applications is carefully documented in the Open Liberty docs.  Sometimes one feature enables another, e.g. `jaxrs-2.0` enables `servlet-3.1`:   https://openliberty.io/docs/latest/reference/feature/jaxrs-2.0.html#_features_that_this_feature_enables, and as I noted in a comment in the answer, EE 6 -level features like jaxrs-1.1 are only available in WebSphere Liberty not Open Liberty.","body":"@Uzair I can see why the error messages caused you to ask the question wondering if there was &quot;embedded JAXRS&quot; (though is that message coming from the server?).  But in any case, the feature set exposed to applications is carefully documented in the Open Liberty docs.  Sometimes one feature enables another, e.g. <code>jaxrs-2.0</code> enables <code>servlet-3.1</code>:   <a href=\"https://openliberty.io/docs/latest/reference/feature/jaxrs-2.0.html#_features_that_this_feature_enables\" rel=\"nofollow noreferrer\">openliberty.io/docs/latest/reference/feature/&hellip;</a>, and as I noted in a comment in the answer, EE 6 -level features like jaxrs-1.1 are only available in WebSphere Liberty not Open Liberty."},{"owner":{"account_id":1623729,"reputation":5190,"user_id":1499766,"accept_rate":86,"display_name":"Scott Kurz"},"score":0,"creation_date":1678385372,"post_id":75667179,"comment_id":133526815,"body_markdown":"Even if the Liberty server were to use some JAX-RS function internally without a JAX-RS feature being enabled, it would not be carefully guarded and not accessible for application use, without the appropriate features being enabled (in server.xml, etc.)","body":"Even if the Liberty server were to use some JAX-RS function internally without a JAX-RS feature being enabled, it would not be carefully guarded and not accessible for application use, without the appropriate features being enabled (in server.xml, etc.)"}],"answers":[{"tags":[],"owner":{"account_id":17741504,"reputation":1083,"user_id":12881733,"display_name":"Bill Mair"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1678290980,"creation_date":1678290980,"answer_id":75675306,"question_id":75667179,"body_markdown":"When Liberty was first build, they made a concious decision to only support the more current standards. They didn&#39;t want to get bogged down with old and obsolete specifications.\r\n\r\nSo, as I understand it, OpenLiberty only supports JaxRS 2.0 and above, so the answer is no.\r\n\r\nSee:\r\n* https://openliberty.io/docs/latest/reference/feature/jaxrs-2.0.html\r\n* https://openliberty.io/docs/latest/reference/feature/jaxrs-2.1.html\r\n* https://openliberty.io/docs/latest/reference/feature/restfulWS-3.0.html\r\n\r\n","title":"Is it possible to develop on OpenLiberty using JAXRS-1.1 feature? Does openliberty come embedded with specific feature sets that are abstracted away?","body":"<p>When Liberty was first build, they made a concious decision to only support the more current standards. They didn't want to get bogged down with old and obsolete specifications.</p>\n<p>So, as I understand it, OpenLiberty only supports JaxRS 2.0 and above, so the answer is no.</p>\n<p>See:</p>\n<ul>\n<li><a href=\"https://openliberty.io/docs/latest/reference/feature/jaxrs-2.0.html\" rel=\"nofollow noreferrer\">https://openliberty.io/docs/latest/reference/feature/jaxrs-2.0.html</a></li>\n<li><a href=\"https://openliberty.io/docs/latest/reference/feature/jaxrs-2.1.html\" rel=\"nofollow noreferrer\">https://openliberty.io/docs/latest/reference/feature/jaxrs-2.1.html</a></li>\n<li><a href=\"https://openliberty.io/docs/latest/reference/feature/restfulWS-3.0.html\" rel=\"nofollow noreferrer\">https://openliberty.io/docs/latest/reference/feature/restfulWS-3.0.html</a></li>\n</ul>\n"}],"owner":{"account_id":26460746,"reputation":1,"user_id":20102736,"display_name":"Uzair Hassan"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678300075,"creation_date":1678223311,"question_id":75667179,"body_markdown":"I am trying to build using JAXRS-1.1 feature along with servlet-3.1 and transportSecurity-1.0\r\nI am having a hard time with the set up.\r\n\r\nIf I do not include JAXRS-1.1, I still see many errors when making simple PUT calls to the server such as \r\n```\r\n[INFO] (org.codehaus.mojo.pluginsupport.ant.AntHelper) org.apache.cxf.interceptor.Fault\r\n[INFO] (org.codehaus.mojo.pluginsupport.ant.AntHelper) [WARNING ] Exception in handleFault on interceptor org.apache.cxf.jaxrs.interceptor.JAXRSDefaultFaultOutInterceptor@ccb42500\r\n```\r\n\r\nand this makes me think JAXRS comes embedded. \r\n\r\nI have not been able to figure out how to check if OpenLiberty comes embedded with JAXRS-2.0\r\n\r\nHere is the server.xml\r\n\r\n    &lt;server description=&quot;Sample Servlet server&quot;&gt;\r\n        &lt;featureManager&gt;\r\n            \r\n            &lt;!-- https://openliberty.io/docs/latest/reference/feature/microProfile-1.0.html --&gt;\r\n            \r\n            &lt;feature&gt;servlet-3.1&lt;/feature&gt;\r\n            &lt;feature&gt;transportSecurity-1.0&lt;/feature&gt;    \r\n        &lt;/featureManager&gt;\r\n    \r\n        &lt;variable name=&quot;default.https.port&quot; defaultValue=&quot;9443&quot; /&gt;\r\n        &lt;variable name=&quot;app.context.root&quot; defaultValue=&quot;ServletSample&quot; /&gt;\r\n        &lt;variable name=&quot;keystore.path&quot; defaultValue=&quot;${WLP_OUTPUT_DIR}/resources/security/key.p12&quot; /&gt;\r\n    \r\n        &lt;!-- tag::httpEndpoint[] --&gt;\r\n        &lt;httpEndpoint httpPort=&quot;-1&quot; httpsPort=&quot;${default.https.port}&quot; id=&quot;defaultHttpEndpoint&quot; host=&quot;*&quot; /&gt;\r\n        &lt;!-- end::httpEndpoint[] --&gt;\r\n    \r\n        &lt;webApplication location=&quot;ServletSample.war&quot; contextRoot=&quot;/&quot; /&gt;\r\n    \r\n        &lt;keyStore id=&quot;defaultKeyStore&quot; password=&quot;${env.GARBLED_KEYSTORE}&quot; /&gt;\r\n        &lt;ssl id=&quot;defaultSSLConfig&quot; keyStoreRef=&quot;defaultKeyStore&quot; trustStoreRef=&quot;defaultKeyStore&quot; clientAuthenticationSupported=&quot;true&quot; sslProtocol=&quot;TLSv1.2&quot; /&gt;\r\n        &lt;ssl id=&quot;controllerConnectionConfig&quot; keyStoreRef=&quot;defaultKeyStore&quot; trustStoreRef=&quot;defaultKeyStore&quot; sslProtocol=&quot;TLSv1.2&quot; /&gt;\r\n        &lt;ssl id=&quot;memberConnectionConfig&quot; keyStoreRef=&quot;defaultKeyStore&quot; trustStoreRef=&quot;defaultKeyStore&quot; sslProtocol=&quot;TLSv1.2&quot; /&gt;\r\n    \r\n    &lt;/server&gt;\r\nand since it is a requirement to build with JAXRS-1.1, I have simply added that as a dependency in maven. Maven&#39;s pom.xml dependency section look like this:\r\n\r\n    &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;javax&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javaee-api&lt;/artifactId&gt;\r\n                &lt;version&gt;6.0&lt;/version&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;javax.ws.rs&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jsr311-api&lt;/artifactId&gt;\r\n                &lt;version&gt;1.1.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;","title":"Is it possible to develop on OpenLiberty using JAXRS-1.1 feature? Does openliberty come embedded with specific feature sets that are abstracted away?","body":"<p>I am trying to build using JAXRS-1.1 feature along with servlet-3.1 and transportSecurity-1.0\nI am having a hard time with the set up.</p>\n<p>If I do not include JAXRS-1.1, I still see many errors when making simple PUT calls to the server such as</p>\n<pre><code>[INFO] (org.codehaus.mojo.pluginsupport.ant.AntHelper) org.apache.cxf.interceptor.Fault\n[INFO] (org.codehaus.mojo.pluginsupport.ant.AntHelper) [WARNING ] Exception in handleFault on interceptor org.apache.cxf.jaxrs.interceptor.JAXRSDefaultFaultOutInterceptor@ccb42500\n</code></pre>\n<p>and this makes me think JAXRS comes embedded.</p>\n<p>I have not been able to figure out how to check if OpenLiberty comes embedded with JAXRS-2.0</p>\n<p>Here is the server.xml</p>\n<pre><code>&lt;server description=&quot;Sample Servlet server&quot;&gt;\n    &lt;featureManager&gt;\n        \n        &lt;!-- https://openliberty.io/docs/latest/reference/feature/microProfile-1.0.html --&gt;\n        \n        &lt;feature&gt;servlet-3.1&lt;/feature&gt;\n        &lt;feature&gt;transportSecurity-1.0&lt;/feature&gt;    \n    &lt;/featureManager&gt;\n\n    &lt;variable name=&quot;default.https.port&quot; defaultValue=&quot;9443&quot; /&gt;\n    &lt;variable name=&quot;app.context.root&quot; defaultValue=&quot;ServletSample&quot; /&gt;\n    &lt;variable name=&quot;keystore.path&quot; defaultValue=&quot;${WLP_OUTPUT_DIR}/resources/security/key.p12&quot; /&gt;\n\n    &lt;!-- tag::httpEndpoint[] --&gt;\n    &lt;httpEndpoint httpPort=&quot;-1&quot; httpsPort=&quot;${default.https.port}&quot; id=&quot;defaultHttpEndpoint&quot; host=&quot;*&quot; /&gt;\n    &lt;!-- end::httpEndpoint[] --&gt;\n\n    &lt;webApplication location=&quot;ServletSample.war&quot; contextRoot=&quot;/&quot; /&gt;\n\n    &lt;keyStore id=&quot;defaultKeyStore&quot; password=&quot;${env.GARBLED_KEYSTORE}&quot; /&gt;\n    &lt;ssl id=&quot;defaultSSLConfig&quot; keyStoreRef=&quot;defaultKeyStore&quot; trustStoreRef=&quot;defaultKeyStore&quot; clientAuthenticationSupported=&quot;true&quot; sslProtocol=&quot;TLSv1.2&quot; /&gt;\n    &lt;ssl id=&quot;controllerConnectionConfig&quot; keyStoreRef=&quot;defaultKeyStore&quot; trustStoreRef=&quot;defaultKeyStore&quot; sslProtocol=&quot;TLSv1.2&quot; /&gt;\n    &lt;ssl id=&quot;memberConnectionConfig&quot; keyStoreRef=&quot;defaultKeyStore&quot; trustStoreRef=&quot;defaultKeyStore&quot; sslProtocol=&quot;TLSv1.2&quot; /&gt;\n\n&lt;/server&gt;\n</code></pre>\n<p>and since it is a requirement to build with JAXRS-1.1, I have simply added that as a dependency in maven. Maven's pom.xml dependency section look like this:</p>\n<pre><code>&lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax&lt;/groupId&gt;\n            &lt;artifactId&gt;javaee-api&lt;/artifactId&gt;\n            &lt;version&gt;6.0&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.ws.rs&lt;/groupId&gt;\n            &lt;artifactId&gt;jsr311-api&lt;/artifactId&gt;\n            &lt;version&gt;1.1.1&lt;/version&gt;\n        &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n"},{"tags":["java","spring-boot","spring-cloud-feign","feign","openfeign"],"comments":[{"owner":{"account_id":2591194,"reputation":673,"user_id":2245872,"accept_rate":63,"display_name":"Jo&#227;o Pereira"},"score":0,"creation_date":1682629964,"post_id":75542802,"comment_id":134250454,"body_markdown":"Did you find a fix to this?","body":"Did you find a fix to this?"}],"owner":{"account_id":27858689,"reputation":21,"user_id":21271673,"display_name":"robhok"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1809,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1678299942,"creation_date":1677144175,"question_id":75542802,"body_markdown":"I am using Spring-Boot 3.0.2 with openfeign 4.0.1 in a small Spring-boot application.\r\n\r\n```\r\n&lt;parent&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    &lt;version&gt;3.0.2&lt;/version&gt;\r\n    &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n&lt;/parent&gt;\r\n\r\n...\r\n\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-cloud-starter-openfeign&lt;/artifactId&gt;\r\n    &lt;version&gt;4.0.1&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n\r\nMy feign client looks fairly easy:\r\n\r\n\r\n```\r\n@FeignClient\r\npublic interface MyFeignClient {\r\n\r\n    @RequestLine(&quot;GET /Users&quot;)\r\n    @CollectionFormat(feign.CollectionFormat.CSV)\r\n    BaseResponseWithResultSetDto&lt;UserResponseDto&gt; getAllowedUsers(@SpringQueryMap QueryDTO query);\r\n//...\r\n```\r\n\r\nThe query dto consists of 2 fields, select and filter which both are list of strings.\r\n\r\n```\r\npublic class QueryDTO{\r\n\r\n    @JsonProperty(&quot;$select&quot;)\r\n    private List&lt;String&gt; select;\r\n    @JsonProperty(&quot;$filter&quot;)\r\n    private List&lt;String&gt; filter;\r\n\r\n// getters + setters + add\r\n```\r\n\r\n\r\nAfter I built the client with the feign builder I try to call my getAllowedUsers method and pass my dto for filtering and selecting fields for the response.\r\n\r\n \r\n```\r\nQueryDTO dto = new QueryDTO ();\r\ndto.addSelect(&quot;UserCode&quot;);\r\ndto.addSelect(&quot;InternalKey&quot;);\r\ndto.addFilter(&quot;IsAllowed eq &#39;Y&#39;&quot;);\r\nBaseResponseWithResultSetDto&lt;UserResponseDto&gt; result = this.myFeignClient.getAllowedUsers(dto);\r\n```\r\n\r\nThe expected request URL would be:\r\n/Users?$select=UserCode,InternalKey&amp;$filter=IsAllowed eq &#39;Y&#39;\r\n\r\nBut instead feign only generates /Users and passes the query map as body in the GET request. This can be seen in the DEBUG log:\r\n\r\n```\r\n2023-02-23T09:53:52.840+01:00 DEBUG 9236 --- [  restartedMain] org.apache.http.headers                  : http-outgoing-0 &gt;&gt; GET /b1s/v2/Users HTTP/1.1\r\n...\r\n2023-02-23T09:53:52.856+01:00 DEBUG 9236 --- [  restartedMain] org.apache.http.wire                     : http-outgoing-0 &gt;&gt; &quot;[\\r][\\n]&quot;\r\n2023-02-23T09:53:52.857+01:00 DEBUG 9236 --- [  restartedMain] org.apache.http.wire                     : http-outgoing-0 &gt;&gt; &quot;{[\\r][\\n]&quot;\r\n2023-02-23T09:53:52.858+01:00 DEBUG 9236 --- [  restartedMain] org.apache.http.wire                     : http-outgoing-0 &gt;&gt; &quot;  &quot;$select&quot; : [ &quot;UserCode&quot;, &quot;InternalKey&quot; ],[\\r][\\n]&quot;\r\n2023-02-23T09:53:52.858+01:00 DEBUG 9236 --- [  restartedMain] org.apache.http.wire                     : http-outgoing-0 &gt;&gt; &quot;  &quot;$filter&quot; : [ &quot;IsAllowed eq &#39;Y&#39;&quot; ][\\r][\\n]&quot;\r\n2023-02-23T09:53:52.859+01:00 DEBUG 9236 --- [  restartedMain] org.apache.http.wire                     : http-outgoing-0 &gt;&gt; &quot;}&quot;\r\n\r\n```\r\n\r\nAlso in the access log of the corresponding service I only see requests to /Users\r\n[23/Feb/2023:09:53:52 +0100] 127.0.0.1 290582 &quot;GET /b1s/v2/Users HTTP/1.1&quot; 200 18291 ssl=TLSv1.2 t=0s pid=5232 sid=- sid2=- n=- +\r\n\r\n\r\nAny ideas what I am missing? I am aware, that I could possibly use a PathParam, RequestParam, Param approach, but this is not what I intend for future use.\r\n\r\n\r\n\r\n\r\nI read the docs for Spring Open Feign, but the docs are a bit meager about the use and the result of this implementation. \r\n\r\nI expected that the resulting URL would be /Users?$select=UserCode,InternalKey&amp;$filter=IsAllowed eq &#39;Y&#39;\r\nbut instead the query params were passed as body in my GET request.","title":"SpringQueryMap adds query params as body instead passing them in the url","body":"<p>I am using Spring-Boot 3.0.2 with openfeign 4.0.1 in a small Spring-boot application.</p>\n<pre><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;3.0.2&lt;/version&gt;\n    &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n&lt;/parent&gt;\n\n...\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-cloud-starter-openfeign&lt;/artifactId&gt;\n    &lt;version&gt;4.0.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>My feign client looks fairly easy:</p>\n<pre><code>@FeignClient\npublic interface MyFeignClient {\n\n    @RequestLine(&quot;GET /Users&quot;)\n    @CollectionFormat(feign.CollectionFormat.CSV)\n    BaseResponseWithResultSetDto&lt;UserResponseDto&gt; getAllowedUsers(@SpringQueryMap QueryDTO query);\n//...\n</code></pre>\n<p>The query dto consists of 2 fields, select and filter which both are list of strings.</p>\n<pre><code>public class QueryDTO{\n\n    @JsonProperty(&quot;$select&quot;)\n    private List&lt;String&gt; select;\n    @JsonProperty(&quot;$filter&quot;)\n    private List&lt;String&gt; filter;\n\n// getters + setters + add\n</code></pre>\n<p>After I built the client with the feign builder I try to call my getAllowedUsers method and pass my dto for filtering and selecting fields for the response.</p>\n<pre><code>QueryDTO dto = new QueryDTO ();\ndto.addSelect(&quot;UserCode&quot;);\ndto.addSelect(&quot;InternalKey&quot;);\ndto.addFilter(&quot;IsAllowed eq 'Y'&quot;);\nBaseResponseWithResultSetDto&lt;UserResponseDto&gt; result = this.myFeignClient.getAllowedUsers(dto);\n</code></pre>\n<p>The expected request URL would be:\n/Users?$select=UserCode,InternalKey&amp;$filter=IsAllowed eq 'Y'</p>\n<p>But instead feign only generates /Users and passes the query map as body in the GET request. This can be seen in the DEBUG log:</p>\n<pre><code>2023-02-23T09:53:52.840+01:00 DEBUG 9236 --- [  restartedMain] org.apache.http.headers                  : http-outgoing-0 &gt;&gt; GET /b1s/v2/Users HTTP/1.1\n...\n2023-02-23T09:53:52.856+01:00 DEBUG 9236 --- [  restartedMain] org.apache.http.wire                     : http-outgoing-0 &gt;&gt; &quot;[\\r][\\n]&quot;\n2023-02-23T09:53:52.857+01:00 DEBUG 9236 --- [  restartedMain] org.apache.http.wire                     : http-outgoing-0 &gt;&gt; &quot;{[\\r][\\n]&quot;\n2023-02-23T09:53:52.858+01:00 DEBUG 9236 --- [  restartedMain] org.apache.http.wire                     : http-outgoing-0 &gt;&gt; &quot;  &quot;$select&quot; : [ &quot;UserCode&quot;, &quot;InternalKey&quot; ],[\\r][\\n]&quot;\n2023-02-23T09:53:52.858+01:00 DEBUG 9236 --- [  restartedMain] org.apache.http.wire                     : http-outgoing-0 &gt;&gt; &quot;  &quot;$filter&quot; : [ &quot;IsAllowed eq 'Y'&quot; ][\\r][\\n]&quot;\n2023-02-23T09:53:52.859+01:00 DEBUG 9236 --- [  restartedMain] org.apache.http.wire                     : http-outgoing-0 &gt;&gt; &quot;}&quot;\n\n</code></pre>\n<p>Also in the access log of the corresponding service I only see requests to /Users\n[23/Feb/2023:09:53:52 +0100] 127.0.0.1 290582 &quot;GET /b1s/v2/Users HTTP/1.1&quot; 200 18291 ssl=TLSv1.2 t=0s pid=5232 sid=- sid2=- n=- +</p>\n<p>Any ideas what I am missing? I am aware, that I could possibly use a PathParam, RequestParam, Param approach, but this is not what I intend for future use.</p>\n<p>I read the docs for Spring Open Feign, but the docs are a bit meager about the use and the result of this implementation.</p>\n<p>I expected that the resulting URL would be /Users?$select=UserCode,InternalKey&amp;$filter=IsAllowed eq 'Y'\nbut instead the query params were passed as body in my GET request.</p>\n"},{"tags":["java","jlink"],"comments":[{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":1,"creation_date":1678306253,"post_id":75676783,"comment_id":133509068,"body_markdown":"From `jlink --list-plugins`: &quot;--strip-native-commands Exclude native commands (such as java/java.exe) from the image.&quot; If you want it included, don&#39;t exclude it.","body":"From <code>jlink --list-plugins</code>: &quot;--strip-native-commands Exclude native commands (such as java/java.exe) from the image.&quot; If you want it included, don&#39;t exclude it."}],"owner":{"account_id":4311991,"reputation":3414,"user_id":3522818,"accept_rate":67,"display_name":"kerner1000"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678299421,"creation_date":1678299421,"question_id":75676783,"body_markdown":"I am trying to generate a JRE using jlink.\r\n\r\nI do so by executing:\r\n\r\n    /Library/Java/JavaVirtualMachines/temurin-18.jdk/Contents/Home/bin/jlink\r\n    --verbose --output /Users/alex/sources/project/target/runtime\r\n    --module-path /Users/alex/sources/project/target/mods\r\n    --add-modules java.desktop,java.base,java.logging,java.xml,java.scripting,java.compiler,java.instrument,jdk.unsupported,javafx.base,javafx.graphics,javafx.controls,javafx.fxml,java.sql,java.naming\r\n    --strip-native-commands\r\n    --no-header-files\r\n    --no-man-pages\r\n    --strip-debug\r\n    --compress=1\r\n\r\nthis is the generated runtime image:\r\n\r\n    out\r\n    ├── conf\r\n    │&#160;&#160; ├── logging.properties\r\n    │&#160;&#160; ├── net.properties\r\n    │&#160;&#160; ├── security\r\n    │&#160;&#160; │&#160;&#160; ├── java.policy\r\n    │&#160;&#160; │&#160;&#160; ├── java.security\r\n    │&#160;&#160; │&#160;&#160; └── policy\r\n    │&#160;&#160; │&#160;&#160;     ├── README.txt\r\n    │&#160;&#160; │&#160;&#160;     ├── limited\r\n    │&#160;&#160; │&#160;&#160;     │&#160;&#160; ├── default_US_export.policy\r\n    │&#160;&#160; │&#160;&#160;     │&#160;&#160; ├── default_local.policy\r\n    │&#160;&#160; │&#160;&#160;     │&#160;&#160; └── exempt_local.policy\r\n    │&#160;&#160; │&#160;&#160;     └── unlimited\r\n    │&#160;&#160; │&#160;&#160;         ├── default_US_export.policy\r\n    │&#160;&#160; │&#160;&#160;         └── default_local.policy\r\n    │&#160;&#160; └── sound.properties\r\n    ├── legal\r\n    │&#160;&#160; ├── java.base\r\n    │&#160;&#160; │&#160;&#160; ├── ADDITIONAL_LICENSE_INFO\r\n    │&#160;&#160; │&#160;&#160; ├── ASSEMBLY_EXCEPTION\r\n    │&#160;&#160; │&#160;&#160; ├── LICENSE\r\n    │&#160;&#160; │&#160;&#160; ├── aes.md\r\n    │&#160;&#160; │&#160;&#160; ├── asm.md\r\n    │&#160;&#160; │&#160;&#160; ├── c-libutl.md\r\n    │&#160;&#160; │&#160;&#160; ├── cldr.md\r\n    │&#160;&#160; │&#160;&#160; ├── icu.md\r\n    │&#160;&#160; │&#160;&#160; ├── public_suffix.md\r\n    │&#160;&#160; │&#160;&#160; └── unicode.md\r\n    │&#160;&#160; ├── java.compiler\r\n    │&#160;&#160; │&#160;&#160; ├── ADDITIONAL_LICENSE_INFO -&gt; ../java.base/ADDITIONAL_LICENSE_INFO\r\n    │&#160;&#160; │&#160;&#160; ├── ASSEMBLY_EXCEPTION -&gt; ../java.base/ASSEMBLY_EXCEPTION\r\n    │&#160;&#160; │&#160;&#160; └── LICENSE -&gt; ../java.base/LICENSE\r\n    │&#160;&#160; ├── java.datatransfer\r\n    │&#160;&#160; │&#160;&#160; ├── ADDITIONAL_LICENSE_INFO -&gt; ../java.base/ADDITIONAL_LICENSE_INFO\r\n    │&#160;&#160; │&#160;&#160; ├── ASSEMBLY_EXCEPTION -&gt; ../java.base/ASSEMBLY_EXCEPTION\r\n    │&#160;&#160; │&#160;&#160; └── LICENSE -&gt; ../java.base/LICENSE\r\n    │&#160;&#160; ├── java.desktop\r\n    │&#160;&#160; │&#160;&#160; ├── ADDITIONAL_LICENSE_INFO -&gt; ../java.base/ADDITIONAL_LICENSE_INFO\r\n    │&#160;&#160; │&#160;&#160; ├── ASSEMBLY_EXCEPTION -&gt; ../java.base/ASSEMBLY_EXCEPTION\r\n    │&#160;&#160; │&#160;&#160; ├── LICENSE -&gt; ../java.base/LICENSE\r\n    │&#160;&#160; │&#160;&#160; ├── colorimaging.md\r\n    │&#160;&#160; │&#160;&#160; ├── freetype.md\r\n    │&#160;&#160; │&#160;&#160; ├── giflib.md\r\n    │&#160;&#160; │&#160;&#160; ├── harfbuzz.md\r\n    │&#160;&#160; │&#160;&#160; ├── jpeg.md\r\n    │&#160;&#160; │&#160;&#160; ├── lcms.md\r\n    │&#160;&#160; │&#160;&#160; ├── libpng.md\r\n    │&#160;&#160; │&#160;&#160; ├── mesa3d.md\r\n    │&#160;&#160; │&#160;&#160; └── xwd.md\r\n    │&#160;&#160; ├── java.instrument\r\n    │&#160;&#160; │&#160;&#160; ├── ADDITIONAL_LICENSE_INFO -&gt; ../java.base/ADDITIONAL_LICENSE_INFO\r\n    │&#160;&#160; │&#160;&#160; ├── ASSEMBLY_EXCEPTION -&gt; ../java.base/ASSEMBLY_EXCEPTION\r\n    │&#160;&#160; │&#160;&#160; └── LICENSE -&gt; ../java.base/LICENSE\r\n    │&#160;&#160; ├── java.logging\r\n    │&#160;&#160; │&#160;&#160; ├── ADDITIONAL_LICENSE_INFO -&gt; ../java.base/ADDITIONAL_LICENSE_INFO\r\n    │&#160;&#160; │&#160;&#160; ├── ASSEMBLY_EXCEPTION -&gt; ../java.base/ASSEMBLY_EXCEPTION\r\n    │&#160;&#160; │&#160;&#160; └── LICENSE -&gt; ../java.base/LICENSE\r\n    │&#160;&#160; ├── java.naming\r\n    │&#160;&#160; │&#160;&#160; ├── ADDITIONAL_LICENSE_INFO -&gt; ../java.base/ADDITIONAL_LICENSE_INFO\r\n    │&#160;&#160; │&#160;&#160; ├── ASSEMBLY_EXCEPTION -&gt; ../java.base/ASSEMBLY_EXCEPTION\r\n    │&#160;&#160; │&#160;&#160; └── LICENSE -&gt; ../java.base/LICENSE\r\n    │&#160;&#160; ├── java.prefs\r\n    │&#160;&#160; │&#160;&#160; ├── ADDITIONAL_LICENSE_INFO -&gt; ../java.base/ADDITIONAL_LICENSE_INFO\r\n    │&#160;&#160; │&#160;&#160; ├── ASSEMBLY_EXCEPTION -&gt; ../java.base/ASSEMBLY_EXCEPTION\r\n    │&#160;&#160; │&#160;&#160; └── LICENSE -&gt; ../java.base/LICENSE\r\n    │&#160;&#160; ├── java.scripting\r\n    │&#160;&#160; │&#160;&#160; ├── ADDITIONAL_LICENSE_INFO -&gt; ../java.base/ADDITIONAL_LICENSE_INFO\r\n    │&#160;&#160; │&#160;&#160; ├── ASSEMBLY_EXCEPTION -&gt; ../java.base/ASSEMBLY_EXCEPTION\r\n    │&#160;&#160; │&#160;&#160; └── LICENSE -&gt; ../java.base/LICENSE\r\n    │&#160;&#160; ├── java.security.sasl\r\n    │&#160;&#160; │&#160;&#160; ├── ADDITIONAL_LICENSE_INFO -&gt; ../java.base/ADDITIONAL_LICENSE_INFO\r\n    │&#160;&#160; │&#160;&#160; ├── ASSEMBLY_EXCEPTION -&gt; ../java.base/ASSEMBLY_EXCEPTION\r\n    │&#160;&#160; │&#160;&#160; └── LICENSE -&gt; ../java.base/LICENSE\r\n    │&#160;&#160; ├── java.sql\r\n    │&#160;&#160; │&#160;&#160; ├── ADDITIONAL_LICENSE_INFO -&gt; ../java.base/ADDITIONAL_LICENSE_INFO\r\n    │&#160;&#160; │&#160;&#160; ├── ASSEMBLY_EXCEPTION -&gt; ../java.base/ASSEMBLY_EXCEPTION\r\n    │&#160;&#160; │&#160;&#160; └── LICENSE -&gt; ../java.base/LICENSE\r\n    │&#160;&#160; ├── java.transaction.xa\r\n    │&#160;&#160; │&#160;&#160; ├── ADDITIONAL_LICENSE_INFO -&gt; ../java.base/ADDITIONAL_LICENSE_INFO\r\n    │&#160;&#160; │&#160;&#160; ├── ASSEMBLY_EXCEPTION -&gt; ../java.base/ASSEMBLY_EXCEPTION\r\n    │&#160;&#160; │&#160;&#160; └── LICENSE -&gt; ../java.base/LICENSE\r\n    │&#160;&#160; ├── java.xml\r\n    │&#160;&#160; │&#160;&#160; ├── ADDITIONAL_LICENSE_INFO -&gt; ../java.base/ADDITIONAL_LICENSE_INFO\r\n    │&#160;&#160; │&#160;&#160; ├── ASSEMBLY_EXCEPTION -&gt; ../java.base/ASSEMBLY_EXCEPTION\r\n    │&#160;&#160; │&#160;&#160; ├── LICENSE -&gt; ../java.base/LICENSE\r\n    │&#160;&#160; │&#160;&#160; ├── bcel.md\r\n    │&#160;&#160; │&#160;&#160; ├── dom.md\r\n    │&#160;&#160; │&#160;&#160; ├── jcup.md\r\n    │&#160;&#160; │&#160;&#160; ├── xalan.md\r\n    │&#160;&#160; │&#160;&#160; └── xerces.md\r\n    │&#160;&#160; └── jdk.unsupported\r\n    │&#160;&#160;     ├── ADDITIONAL_LICENSE_INFO -&gt; ../java.base/ADDITIONAL_LICENSE_INFO\r\n    │&#160;&#160;     ├── ASSEMBLY_EXCEPTION -&gt; ../java.base/ASSEMBLY_EXCEPTION\r\n    │&#160;&#160;     └── LICENSE -&gt; ../java.base/LICENSE\r\n    ├── lib\r\n    │&#160;&#160; ├── classlist\r\n    │&#160;&#160; ├── fontconfig.bfc\r\n    │&#160;&#160; ├── fontconfig.properties.src\r\n    │&#160;&#160; ├── jrt-fs.jar\r\n    │&#160;&#160; ├── jspawnhelper\r\n    │&#160;&#160; ├── jvm.cfg\r\n    │&#160;&#160; ├── libawt.dylib\r\n    │&#160;&#160; ├── libawt_lwawt.dylib\r\n    │&#160;&#160; ├── libfontmanager.dylib\r\n    │&#160;&#160; ├── libfreetype.dylib\r\n    │&#160;&#160; ├── libinstrument.dylib\r\n    │&#160;&#160; ├── libjava.dylib\r\n    │&#160;&#160; ├── libjavajpeg.dylib\r\n    │&#160;&#160; ├── libjawt.dylib\r\n    │&#160;&#160; ├── libjimage.dylib\r\n    │&#160;&#160; ├── libjli.dylib\r\n    │&#160;&#160; ├── libjsig.dylib\r\n    │&#160;&#160; ├── libjsound.dylib\r\n    │&#160;&#160; ├── liblcms.dylib\r\n    │&#160;&#160; ├── libmlib_image.dylib\r\n    │&#160;&#160; ├── libnet.dylib\r\n    │&#160;&#160; ├── libnio.dylib\r\n    │&#160;&#160; ├── libosx.dylib\r\n    │&#160;&#160; ├── libosxapp.dylib\r\n    │&#160;&#160; ├── libosxsecurity.dylib\r\n    │&#160;&#160; ├── libosxui.dylib\r\n    │&#160;&#160; ├── libprefs.dylib\r\n    │&#160;&#160; ├── libsplashscreen.dylib\r\n    │&#160;&#160; ├── libverify.dylib\r\n    │&#160;&#160; ├── libzip.dylib\r\n    │&#160;&#160; ├── modules\r\n    │&#160;&#160; ├── psfont.properties.ja\r\n    │&#160;&#160; ├── psfontj2d.properties\r\n    │&#160;&#160; ├── security\r\n    │&#160;&#160; │&#160;&#160; ├── blocked.certs\r\n    │&#160;&#160; │&#160;&#160; ├── cacerts\r\n    │&#160;&#160; │&#160;&#160; ├── default.policy\r\n    │&#160;&#160; │&#160;&#160; └── public_suffix_list.dat\r\n    │&#160;&#160; ├── server\r\n    │&#160;&#160; │&#160;&#160; ├── libjsig.dylib\r\n    │&#160;&#160; │&#160;&#160; └── libjvm.dylib\r\n    │&#160;&#160; ├── shaders.metallib\r\n    │&#160;&#160; └── tzdb.dat\r\n    └── release\r\n\r\nWhat I am missing here is `bin/java`. How do I start Java using this runtime?\r\n\r\n","title":"jlink generated runtime does not contain Java binary","body":"<p>I am trying to generate a JRE using jlink.</p>\n<p>I do so by executing:</p>\n<pre><code>/Library/Java/JavaVirtualMachines/temurin-18.jdk/Contents/Home/bin/jlink\n--verbose --output /Users/alex/sources/project/target/runtime\n--module-path /Users/alex/sources/project/target/mods\n--add-modules java.desktop,java.base,java.logging,java.xml,java.scripting,java.compiler,java.instrument,jdk.unsupported,javafx.base,javafx.graphics,javafx.controls,javafx.fxml,java.sql,java.naming\n--strip-native-commands\n--no-header-files\n--no-man-pages\n--strip-debug\n--compress=1\n</code></pre>\n<p>this is the generated runtime image:</p>\n<pre><code>out\n├── conf\n│   ├── logging.properties\n│   ├── net.properties\n│   ├── security\n│   │   ├── java.policy\n│   │   ├── java.security\n│   │   └── policy\n│   │       ├── README.txt\n│   │       ├── limited\n│   │       │   ├── default_US_export.policy\n│   │       │   ├── default_local.policy\n│   │       │   └── exempt_local.policy\n│   │       └── unlimited\n│   │           ├── default_US_export.policy\n│   │           └── default_local.policy\n│   └── sound.properties\n├── legal\n│   ├── java.base\n│   │   ├── ADDITIONAL_LICENSE_INFO\n│   │   ├── ASSEMBLY_EXCEPTION\n│   │   ├── LICENSE\n│   │   ├── aes.md\n│   │   ├── asm.md\n│   │   ├── c-libutl.md\n│   │   ├── cldr.md\n│   │   ├── icu.md\n│   │   ├── public_suffix.md\n│   │   └── unicode.md\n│   ├── java.compiler\n│   │   ├── ADDITIONAL_LICENSE_INFO -&gt; ../java.base/ADDITIONAL_LICENSE_INFO\n│   │   ├── ASSEMBLY_EXCEPTION -&gt; ../java.base/ASSEMBLY_EXCEPTION\n│   │   └── LICENSE -&gt; ../java.base/LICENSE\n│   ├── java.datatransfer\n│   │   ├── ADDITIONAL_LICENSE_INFO -&gt; ../java.base/ADDITIONAL_LICENSE_INFO\n│   │   ├── ASSEMBLY_EXCEPTION -&gt; ../java.base/ASSEMBLY_EXCEPTION\n│   │   └── LICENSE -&gt; ../java.base/LICENSE\n│   ├── java.desktop\n│   │   ├── ADDITIONAL_LICENSE_INFO -&gt; ../java.base/ADDITIONAL_LICENSE_INFO\n│   │   ├── ASSEMBLY_EXCEPTION -&gt; ../java.base/ASSEMBLY_EXCEPTION\n│   │   ├── LICENSE -&gt; ../java.base/LICENSE\n│   │   ├── colorimaging.md\n│   │   ├── freetype.md\n│   │   ├── giflib.md\n│   │   ├── harfbuzz.md\n│   │   ├── jpeg.md\n│   │   ├── lcms.md\n│   │   ├── libpng.md\n│   │   ├── mesa3d.md\n│   │   └── xwd.md\n│   ├── java.instrument\n│   │   ├── ADDITIONAL_LICENSE_INFO -&gt; ../java.base/ADDITIONAL_LICENSE_INFO\n│   │   ├── ASSEMBLY_EXCEPTION -&gt; ../java.base/ASSEMBLY_EXCEPTION\n│   │   └── LICENSE -&gt; ../java.base/LICENSE\n│   ├── java.logging\n│   │   ├── ADDITIONAL_LICENSE_INFO -&gt; ../java.base/ADDITIONAL_LICENSE_INFO\n│   │   ├── ASSEMBLY_EXCEPTION -&gt; ../java.base/ASSEMBLY_EXCEPTION\n│   │   └── LICENSE -&gt; ../java.base/LICENSE\n│   ├── java.naming\n│   │   ├── ADDITIONAL_LICENSE_INFO -&gt; ../java.base/ADDITIONAL_LICENSE_INFO\n│   │   ├── ASSEMBLY_EXCEPTION -&gt; ../java.base/ASSEMBLY_EXCEPTION\n│   │   └── LICENSE -&gt; ../java.base/LICENSE\n│   ├── java.prefs\n│   │   ├── ADDITIONAL_LICENSE_INFO -&gt; ../java.base/ADDITIONAL_LICENSE_INFO\n│   │   ├── ASSEMBLY_EXCEPTION -&gt; ../java.base/ASSEMBLY_EXCEPTION\n│   │   └── LICENSE -&gt; ../java.base/LICENSE\n│   ├── java.scripting\n│   │   ├── ADDITIONAL_LICENSE_INFO -&gt; ../java.base/ADDITIONAL_LICENSE_INFO\n│   │   ├── ASSEMBLY_EXCEPTION -&gt; ../java.base/ASSEMBLY_EXCEPTION\n│   │   └── LICENSE -&gt; ../java.base/LICENSE\n│   ├── java.security.sasl\n│   │   ├── ADDITIONAL_LICENSE_INFO -&gt; ../java.base/ADDITIONAL_LICENSE_INFO\n│   │   ├── ASSEMBLY_EXCEPTION -&gt; ../java.base/ASSEMBLY_EXCEPTION\n│   │   └── LICENSE -&gt; ../java.base/LICENSE\n│   ├── java.sql\n│   │   ├── ADDITIONAL_LICENSE_INFO -&gt; ../java.base/ADDITIONAL_LICENSE_INFO\n│   │   ├── ASSEMBLY_EXCEPTION -&gt; ../java.base/ASSEMBLY_EXCEPTION\n│   │   └── LICENSE -&gt; ../java.base/LICENSE\n│   ├── java.transaction.xa\n│   │   ├── ADDITIONAL_LICENSE_INFO -&gt; ../java.base/ADDITIONAL_LICENSE_INFO\n│   │   ├── ASSEMBLY_EXCEPTION -&gt; ../java.base/ASSEMBLY_EXCEPTION\n│   │   └── LICENSE -&gt; ../java.base/LICENSE\n│   ├── java.xml\n│   │   ├── ADDITIONAL_LICENSE_INFO -&gt; ../java.base/ADDITIONAL_LICENSE_INFO\n│   │   ├── ASSEMBLY_EXCEPTION -&gt; ../java.base/ASSEMBLY_EXCEPTION\n│   │   ├── LICENSE -&gt; ../java.base/LICENSE\n│   │   ├── bcel.md\n│   │   ├── dom.md\n│   │   ├── jcup.md\n│   │   ├── xalan.md\n│   │   └── xerces.md\n│   └── jdk.unsupported\n│       ├── ADDITIONAL_LICENSE_INFO -&gt; ../java.base/ADDITIONAL_LICENSE_INFO\n│       ├── ASSEMBLY_EXCEPTION -&gt; ../java.base/ASSEMBLY_EXCEPTION\n│       └── LICENSE -&gt; ../java.base/LICENSE\n├── lib\n│   ├── classlist\n│   ├── fontconfig.bfc\n│   ├── fontconfig.properties.src\n│   ├── jrt-fs.jar\n│   ├── jspawnhelper\n│   ├── jvm.cfg\n│   ├── libawt.dylib\n│   ├── libawt_lwawt.dylib\n│   ├── libfontmanager.dylib\n│   ├── libfreetype.dylib\n│   ├── libinstrument.dylib\n│   ├── libjava.dylib\n│   ├── libjavajpeg.dylib\n│   ├── libjawt.dylib\n│   ├── libjimage.dylib\n│   ├── libjli.dylib\n│   ├── libjsig.dylib\n│   ├── libjsound.dylib\n│   ├── liblcms.dylib\n│   ├── libmlib_image.dylib\n│   ├── libnet.dylib\n│   ├── libnio.dylib\n│   ├── libosx.dylib\n│   ├── libosxapp.dylib\n│   ├── libosxsecurity.dylib\n│   ├── libosxui.dylib\n│   ├── libprefs.dylib\n│   ├── libsplashscreen.dylib\n│   ├── libverify.dylib\n│   ├── libzip.dylib\n│   ├── modules\n│   ├── psfont.properties.ja\n│   ├── psfontj2d.properties\n│   ├── security\n│   │   ├── blocked.certs\n│   │   ├── cacerts\n│   │   ├── default.policy\n│   │   └── public_suffix_list.dat\n│   ├── server\n│   │   ├── libjsig.dylib\n│   │   └── libjvm.dylib\n│   ├── shaders.metallib\n│   └── tzdb.dat\n└── release\n</code></pre>\n<p>What I am missing here is <code>bin/java</code>. How do I start Java using this runtime?</p>\n"},{"tags":["java","spring","spring-boot","rabbitmq","queue"],"owner":{"account_id":15286938,"reputation":317,"user_id":11029695,"display_name":"khalD"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678299324,"creation_date":1678293785,"question_id":75675855,"body_markdown":"I need to manage my API using a queue (RabbitMQ). In order to do this, I need to perform the following operations:\r\n\r\n1. Receive a request body in my API, which will be sent to the consumer. (The controller acts as the &quot;Producer.&quot;)\r\n2. Perform all operations inside the receiveMessage() function in the consumer class.\r\n3. Return a specific object that was processed inside the receiveMessage() function as a response in my controller.\r\n\r\nI am currently stuck on point 3 and I need something that logically works like this (on my controller I have only convertAndSend as void):\r\n\r\n```\r\n@RequestMapping(value = &quot;/api&quot;, method = RequestMethod.POST, consumes=&quot;application/json&quot;, produces=&quot;application/json&quot;)\r\npublic ResponseEntity&lt;DTO&gt; apiController(@RequestBody Request body, HttpServletRequest request) {\r\n\r\n\t// send the message to the queue\r\n\trabbitTemplate.convertAndSend(RabbitMQConfig.EXCHANGE_NAME, RabbitMQConfig.QUEUE_NAME, body);\r\n    // how could I get the value returned from convertAndSend ?\r\n\r\n    // idelly i need to send the message to the queue and return the value like that, but i know that is not possible\r\n\t// DTO response = rabbitTemplate.convertAndSend(RabbitMQConfig.EXCHANGE_NAME, RabbitMQConfig.QUEUE_NAME, body);\r\n\t\t\r\n\treturn new ResponseEntity&lt;&gt;(response, HttpStatus.OK);\r\n}\r\n```\r\n\r\nBut i now that `rabbitTemplate.convertAndSend()` must be a void. Honestly i don&#39;t know how to figure it out, maybe I misunderstood something ?\r\n","title":"How to get object handled by consumer (RabbitMq using Spring Boot)","body":"<p>I need to manage my API using a queue (RabbitMQ). In order to do this, I need to perform the following operations:</p>\n<ol>\n<li>Receive a request body in my API, which will be sent to the consumer. (The controller acts as the &quot;Producer.&quot;)</li>\n<li>Perform all operations inside the receiveMessage() function in the consumer class.</li>\n<li>Return a specific object that was processed inside the receiveMessage() function as a response in my controller.</li>\n</ol>\n<p>I am currently stuck on point 3 and I need something that logically works like this (on my controller I have only convertAndSend as void):</p>\n<pre><code>@RequestMapping(value = &quot;/api&quot;, method = RequestMethod.POST, consumes=&quot;application/json&quot;, produces=&quot;application/json&quot;)\npublic ResponseEntity&lt;DTO&gt; apiController(@RequestBody Request body, HttpServletRequest request) {\n\n    // send the message to the queue\n    rabbitTemplate.convertAndSend(RabbitMQConfig.EXCHANGE_NAME, RabbitMQConfig.QUEUE_NAME, body);\n    // how could I get the value returned from convertAndSend ?\n\n    // idelly i need to send the message to the queue and return the value like that, but i know that is not possible\n    // DTO response = rabbitTemplate.convertAndSend(RabbitMQConfig.EXCHANGE_NAME, RabbitMQConfig.QUEUE_NAME, body);\n        \n    return new ResponseEntity&lt;&gt;(response, HttpStatus.OK);\n}\n</code></pre>\n<p>But i now that <code>rabbitTemplate.convertAndSend()</code> must be a void. Honestly i don't know how to figure it out, maybe I misunderstood something ?</p>\n"},{"tags":["java","database","oracle","hibernate","stored-procedures"],"owner":{"account_id":936903,"reputation":727,"user_id":965682,"accept_rate":54,"display_name":"Jack1987"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678298836,"creation_date":1678296600,"question_id":75676330,"body_markdown":"I&#39;m working in improving some performance issues in my Application. I have a stored procedure, in Oracle, using Java, Spring and Hibernate, I&#39;m calling the procedure, which creates a table, that table is mapped in an entity. Now, using this method, it takes almost a minute to complete, but executing directly in SQL Developer, takes 10 times less. Are there any tips or info out there about performance troubles using this tech stack to call the procedure? Code below:\r\n\r\n    public interface DRptRepository extends JpaRepository&lt;TgHyDetail, Long&gt; {  \r\n        @Procedure(procedureName = &quot;PKG_RPT.RPT&quot;)\r\n        public void executeReportPackage(@Param(&quot;P_ID&quot;) Long Id, @Param(&quot;Y&quot;) String y,\r\n                @Param(&quot;D&quot;) String d, @Param(&quot;A&quot;) String a, \r\n                @Param(&quot;N&quot;) Long n, @Param(&quot;R&quot;) Integer r, @Param(&quot;H&quot;) String h);   \r\n    }\r\n\r\n\r\n    @Entity\r\n    @Table(name = &quot;T&quot;)\r\n    public class TgHyDetail extends Domain {\r\n\r\n","title":"Calling stored procedure using Java and Hibernate takes to much time","body":"<p>I'm working in improving some performance issues in my Application. I have a stored procedure, in Oracle, using Java, Spring and Hibernate, I'm calling the procedure, which creates a table, that table is mapped in an entity. Now, using this method, it takes almost a minute to complete, but executing directly in SQL Developer, takes 10 times less. Are there any tips or info out there about performance troubles using this tech stack to call the procedure? Code below:</p>\n<pre><code>public interface DRptRepository extends JpaRepository&lt;TgHyDetail, Long&gt; {  \n    @Procedure(procedureName = &quot;PKG_RPT.RPT&quot;)\n    public void executeReportPackage(@Param(&quot;P_ID&quot;) Long Id, @Param(&quot;Y&quot;) String y,\n            @Param(&quot;D&quot;) String d, @Param(&quot;A&quot;) String a, \n            @Param(&quot;N&quot;) Long n, @Param(&quot;R&quot;) Integer r, @Param(&quot;H&quot;) String h);   \n}\n\n\n@Entity\n@Table(name = &quot;T&quot;)\npublic class TgHyDetail extends Domain {\n</code></pre>\n"},{"tags":["java","spring-boot","webserver","swagger-ui","springdoc"],"comments":[{"owner":{"account_id":12565083,"reputation":115,"user_id":11727348,"display_name":"mbluke"},"score":0,"creation_date":1678286880,"post_id":75602241,"comment_id":133503479,"body_markdown":"What is the behavior on a server, does it also pick up the IP address and not the host name?","body":"What is the behavior on a server, does it also pick up the IP address and not the host name?"}],"answers":[{"tags":[],"owner":{"account_id":12565083,"reputation":115,"user_id":11727348,"display_name":"mbluke"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1678298788,"creation_date":1678298788,"answer_id":75676680,"question_id":75602241,"body_markdown":"Spring Boot 3.0.4 (which uses Spring Framework 6.0.6) fixes the issue. It was a Spring regression, see [https://github.com/spring-projects/spring-framework/issues/30033][1]\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-framework/issues/30033","title":"After upgrade to Spring Boot 3 and Springdoc 2, server address changes from &quot;localhost&quot; to &quot;[0:0:0:0:0:0:0:1]&quot; or &quot;127.0.0.1&quot;","body":"<p>Spring Boot 3.0.4 (which uses Spring Framework 6.0.6) fixes the issue. It was a Spring regression, see <a href=\"https://github.com/spring-projects/spring-framework/issues/30033\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-framework/issues/30033</a></p>\n"}],"owner":{"account_id":3446101,"reputation":11345,"user_id":2886891,"accept_rate":75,"display_name":"Honza Zidek"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":440,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75676680,"answer_count":1,"score":0,"last_activity_date":1678298788,"creation_date":1677665454,"question_id":75602241,"body_markdown":"We recently upgraded our application to Spring Boot 3 and Springdoc 2:\r\n\r\n```xml\r\n&lt;parent&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    &lt;version&gt;3.0.3&lt;/version&gt;\r\n&lt;/parent&gt;\r\n...\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n    &lt;artifactId&gt;springdoc-openapi-starter-webflux-ui&lt;/artifactId&gt;\r\n    &lt;version&gt;2.0.2&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n`application.properties` contain the port definition:\r\n\r\n```\r\nserver.port=8096\r\n```\r\n\r\nEverything works fine, the server is listening at the same endpoints as before, but OpenApi works differently than before.\r\n\r\nWhen I run SwaggerUI on the address `http://localhost:8096/swagger-ui.html` as usual, it generates the OpenApi definition with server address not as `http://localhost:8096` as before the upgrade, but as `http://[0:0:0:0:0:0:0:1]:8096`. For some reason it decides to use IPv6.\r\n\r\nWhen I modify `application.properties` to explicitly contain the server address:\r\n\r\n```\r\nserver.address=localhost\r\nserver.port=8096\r\n```\r\n\r\nOpenApi now willfuly replaces it with its IPv4 address, so the server address is now `http://127.0.0.1:8096`.\r\n\r\nThen I cannot test the endpoints from within SwaggerUI, because it causes CORS! (Swagger UI running in the browser at `http://localhost:8096`, however HTTP requests called from within the UI go to `http://127.0.0.1:8096`.)\r\n\r\nI would somehow accept it and call Swagger UI via the IP address, but it is awkward, and *most of all*, it **used to work smoothly before the upgrade**.\r\n\r\nI am running under Windows 11. For the record, I didn&#39;t do any changes in the operating system settings, and my Spring Boot 2 version still works as expected!\r\n\r\nI came with a workaround which is functional, but I am not happy with it as it is an ugly hack:\r\n\r\n```java\r\nimport org.apache.commons.lang3.StringUtils;\r\nimport org.springdoc.core.customizers.ServerBaseUrlCustomizer;\r\nimport org.springframework.beans.factory.annotation.Value;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\n\r\n@Configuration\r\npublic class OpenApi30Config {\r\n    @Value(&quot;${spring.profiles.active}&quot;)\r\n    private String profile;\r\n\r\n    @Bean\r\n    public ServerBaseUrlCustomizer serverBaseUrlCustomizer() {\r\n        return serverBaseUrl -&gt; {\r\n            if (StringUtils.contains(profile, &quot;local&quot;)) {\r\n                String newServerBaseUrl = StringUtils.replace(serverBaseUrl, &quot;[0:0:0:0:0:0:0:1]&quot;, &quot;localhost&quot;);\r\n                newServerBaseUrl = StringUtils.replace(newServerBaseUrl, &quot;127.0.0.1&quot;, &quot;localhost&quot;);\r\n                return newServerBaseUrl;\r\n            }\r\n            return serverBaseUrl;\r\n        };\r\n    }\r\n}\r\n```\r\n\r\n### Questions (strongly related):\r\n\r\n1. Why did Spring Boot 3 / OpenApi 2 change this behaviour?\r\n2. Is there a more &quot;canonical&quot; way to return it back to using `localhost` in the server address?","title":"After upgrade to Spring Boot 3 and Springdoc 2, server address changes from &quot;localhost&quot; to &quot;[0:0:0:0:0:0:0:1]&quot; or &quot;127.0.0.1&quot;","body":"<p>We recently upgraded our application to Spring Boot 3 and Springdoc 2:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;3.0.3&lt;/version&gt;\n&lt;/parent&gt;\n...\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n    &lt;artifactId&gt;springdoc-openapi-starter-webflux-ui&lt;/artifactId&gt;\n    &lt;version&gt;2.0.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p><code>application.properties</code> contain the port definition:</p>\n<pre><code>server.port=8096\n</code></pre>\n<p>Everything works fine, the server is listening at the same endpoints as before, but OpenApi works differently than before.</p>\n<p>When I run SwaggerUI on the address <code>http://localhost:8096/swagger-ui.html</code> as usual, it generates the OpenApi definition with server address not as <code>http://localhost:8096</code> as before the upgrade, but as <code>http://[0:0:0:0:0:0:0:1]:8096</code>. For some reason it decides to use IPv6.</p>\n<p>When I modify <code>application.properties</code> to explicitly contain the server address:</p>\n<pre><code>server.address=localhost\nserver.port=8096\n</code></pre>\n<p>OpenApi now willfuly replaces it with its IPv4 address, so the server address is now <code>http://127.0.0.1:8096</code>.</p>\n<p>Then I cannot test the endpoints from within SwaggerUI, because it causes CORS! (Swagger UI running in the browser at <code>http://localhost:8096</code>, however HTTP requests called from within the UI go to <code>http://127.0.0.1:8096</code>.)</p>\n<p>I would somehow accept it and call Swagger UI via the IP address, but it is awkward, and <em>most of all</em>, it <strong>used to work smoothly before the upgrade</strong>.</p>\n<p>I am running under Windows 11. For the record, I didn't do any changes in the operating system settings, and my Spring Boot 2 version still works as expected!</p>\n<p>I came with a workaround which is functional, but I am not happy with it as it is an ugly hack:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.apache.commons.lang3.StringUtils;\nimport org.springdoc.core.customizers.ServerBaseUrlCustomizer;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n\n@Configuration\npublic class OpenApi30Config {\n    @Value(&quot;${spring.profiles.active}&quot;)\n    private String profile;\n\n    @Bean\n    public ServerBaseUrlCustomizer serverBaseUrlCustomizer() {\n        return serverBaseUrl -&gt; {\n            if (StringUtils.contains(profile, &quot;local&quot;)) {\n                String newServerBaseUrl = StringUtils.replace(serverBaseUrl, &quot;[0:0:0:0:0:0:0:1]&quot;, &quot;localhost&quot;);\n                newServerBaseUrl = StringUtils.replace(newServerBaseUrl, &quot;127.0.0.1&quot;, &quot;localhost&quot;);\n                return newServerBaseUrl;\n            }\n            return serverBaseUrl;\n        };\n    }\n}\n</code></pre>\n<h3>Questions (strongly related):</h3>\n<ol>\n<li>Why did Spring Boot 3 / OpenApi 2 change this behaviour?</li>\n<li>Is there a more &quot;canonical&quot; way to return it back to using <code>localhost</code> in the server address?</li>\n</ol>\n"},{"tags":["java","properties","configuration","struts2","app-config"],"answers":[{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678298739,"creation_date":1677781495,"answer_id":75619459,"question_id":75591111,"body_markdown":"Struts2 keeps it&#39;s configuration in the `struts.xml` or `struts.properties` files that have loaded and parced on application startup. These properties can be accessible everywhere in you application, even via dependency injection.\r\n\r\nBut there&#39;s another way to configure your actions with properties files. It&#39;s known as Message Resource properties. You can configure them either in `struts.xml` or `struts.properties` file. The key/values are loaded via the\r\n\r\n&gt; Within action classes that extend `ActionSupport` through the `getText()` method\r\n\r\nThere&#39;s a lot of places and properties where you can configure. Everything about it is described in the [Localization Guide][1].\r\n\r\nFor your purpose you can use global properties, or custom text provider.\r\n\r\n\r\n\r\n&gt;Global Resources (`struts.custom.i18n.resource`s) in `struts.properties`\r\nA global resource bundle could be specified programmatically, as well as the locale.\r\n&gt;\r\n&gt;Comparison with Struts 1\r\nStruts 1 users should be familiar with the `application.properties` resource bundle, where you can put all the messages in the application that are going to be translated. Struts 2, though, splits the resource bundles \r\n&gt;\r\n&gt;Using only global bundles\r\nIf you don’t need to use the package-scan-functionality and only base on the global bundles (those provided by the framework and via `struts.custom.i18n.resources`) you can use existing `GlobalLocalizedTextProvider` implementation. To use this please define the following option in your `struts.xml`:\r\n&gt;\r\n&gt;```\r\n&gt;&lt;constant name=&quot;struts.localizedTextProvider&quot; value=&quot;global-only&quot; /&gt;\r\n&gt;```\r\n&gt;Custom `TextProvider` and `TextProviderFactory`\r\n&gt;If you want to use a different logic to search for localized messages, or you want to use a database or just want to search default bundles, you must implement both those interfaces (or subclass the existing implementations). You can check a small example app how to use both. Please remember that the `TextProvider`. \r\n\r\n\r\n\r\n  [1]: https://struts.apache.org/core-developers/localization.html","title":"Application properties for a struts2 java web application","body":"<p>Struts2 keeps it's configuration in the <code>struts.xml</code> or <code>struts.properties</code> files that have loaded and parced on application startup. These properties can be accessible everywhere in you application, even via dependency injection.</p>\n<p>But there's another way to configure your actions with properties files. It's known as Message Resource properties. You can configure them either in <code>struts.xml</code> or <code>struts.properties</code> file. The key/values are loaded via the</p>\n<blockquote>\n<p>Within action classes that extend <code>ActionSupport</code> through the <code>getText()</code> method</p>\n</blockquote>\n<p>There's a lot of places and properties where you can configure. Everything about it is described in the <a href=\"https://struts.apache.org/core-developers/localization.html\" rel=\"nofollow noreferrer\">Localization Guide</a>.</p>\n<p>For your purpose you can use global properties, or custom text provider.</p>\n<blockquote>\n<p>Global Resources (<code>struts.custom.i18n.resource</code>s) in <code>struts.properties</code>\nA global resource bundle could be specified programmatically, as well as the locale.</p>\n<p>Comparison with Struts 1\nStruts 1 users should be familiar with the <code>application.properties</code> resource bundle, where you can put all the messages in the application that are going to be translated. Struts 2, though, splits the resource bundles</p>\n<p>Using only global bundles\nIf you don’t need to use the package-scan-functionality and only base on the global bundles (those provided by the framework and via <code>struts.custom.i18n.resources</code>) you can use existing <code>GlobalLocalizedTextProvider</code> implementation. To use this please define the following option in your <code>struts.xml</code>:</p>\n<pre><code>&lt;constant name=&quot;struts.localizedTextProvider&quot; value=&quot;global-only&quot; /&gt;\n</code></pre>\n<p>Custom <code>TextProvider</code> and <code>TextProviderFactory</code>\nIf you want to use a different logic to search for localized messages, or you want to use a database or just want to search default bundles, you must implement both those interfaces (or subclass the existing implementations). You can check a small example app how to use both. Please remember that the <code>TextProvider</code>.</p>\n</blockquote>\n"}],"owner":{"account_id":15607679,"reputation":827,"user_id":11259999,"display_name":"soumitra goswami"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":179,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75619459,"answer_count":1,"score":1,"last_activity_date":1678298739,"creation_date":1677582020,"question_id":75591111,"body_markdown":"I am new to Struts2 framework and I am trying to add some configuration properties like `applicationId`, `timeout` etc which will be used for calling some 3rd party APIs. In a Springboot project, we usually keep the `application.properties/application.yml` file and we are able to access the values using the `@Value` or `@ConfigurationProperties` annotations, what is the equivalent functionality in Struts2? Also, is it secure to store these keys in a property file(no passwords only unique identifiers) ","title":"Application properties for a struts2 java web application","body":"<p>I am new to Struts2 framework and I am trying to add some configuration properties like <code>applicationId</code>, <code>timeout</code> etc which will be used for calling some 3rd party APIs. In a Springboot project, we usually keep the <code>application.properties/application.yml</code> file and we are able to access the values using the <code>@Value</code> or <code>@ConfigurationProperties</code> annotations, what is the equivalent functionality in Struts2? Also, is it secure to store these keys in a property file(no passwords only unique identifiers)</p>\n"},{"tags":["java","json"],"comments":[{"owner":{"account_id":15847779,"reputation":4627,"user_id":11434552,"display_name":"Nexevis"},"score":2,"creation_date":1678299008,"post_id":75676649,"comment_id":133507269,"body_markdown":"`&quot;John Smith&quot;` is a `String`.  A JSON object would be enclosed by curly braces -- `{  }`.  For example `billTo` and `shipTo` would be JSON objects.","body":"<code>&quot;John Smith&quot;</code> is a <code>String</code>.  A JSON object would be enclosed by curly braces -- <code>{  }</code>.  For example <code>billTo</code> and <code>shipTo</code> would be JSON objects."}],"owner":{"account_id":27785102,"reputation":11,"user_id":21212734,"display_name":"ScottG"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678298588,"creation_date":1678298551,"question_id":75676649,"body_markdown":"I am trying to write a function that is able to convert a JSON String to a different JSON string (based on what the user wants to change). I am encountering the error:\r\n\r\n    org.json.JSONException: JSONObject[&quot;name&quot;] is not a JSONObject (class java.lang.String : John Smith).\r\n\r\nI am not quite sure why as I thought that name would be a JSONObject. Below is my class where the transformation is made and my handler where it is called. The payload that is passed in is a String variable that is received as a JSON Body from an Http Request. That body is also below. Thanks for the help!\r\n\r\nimport org.json.*; \r\n\r\n    public class Transform {\r\n        public JSONObject JsonToJson(String payload) {\r\n            JSONObject myPayload = new JSONObject(payload);\r\n            JSONObject name = myPayload.getJSONObject(&quot;name&quot;);\r\n            JSONObject sku = myPayload.getJSONObject(&quot;sku&quot;);\r\n            JSONObject price = myPayload.getJSONObject(&quot;price&quot;);\r\n            JSONObject shipTo = myPayload.getJSONObject(&quot;shipTo&quot;);\r\n            JSONObject shipToName = shipTo.getJSONObject(&quot;name&quot;);\r\n            JSONObject address = shipTo.getJSONObject(&quot;address&quot;);\r\n            JSONObject city = shipTo.getJSONObject(&quot;city&quot;);\r\n            JSONObject state = shipTo.getJSONObject(&quot;state&quot;);\r\n            JSONObject zip = shipTo.getJSONObject(&quot;zip&quot;);\r\n            JSONObject billTo = myPayload.getJSONObject(&quot;billTo&quot;);\r\n            JSONObject billToName = billTo.getJSONObject(&quot;name&quot;);\r\n            JSONObject billToAddress = billTo.getJSONObject(&quot;address&quot;);\r\n            JSONObject billToCity = billTo.getJSONObject(&quot;city&quot;);\r\n            JSONObject billToState = billTo.getJSONObject(&quot;state&quot;);\r\n            JSONObject billToZip = billTo.getJSONObject(&quot;zip&quot;);\r\n    \r\n            shipTo.put(&quot;name&quot;, &quot;Scott G&quot;);\r\n            return myPayload;\r\n        } \r\n    }\r\n\r\n    context.getLogger().info(&quot;\\n===========================================\\n&quot;);\r\n    context.getLogger().info(payload);\r\n    Transform p = new Transform();\r\n    JSONObject tPayload = p.JsonToJson(payload);\r\n    context.getLogger().info(&quot;\\n===========================================\\n&quot;);\r\n    context.getLogger().info(tPayload.toString());\r\n    context.getLogger().info(&quot;\\n===========================================\\n&quot;);\r\n\r\n    { &quot;name&quot;   : &quot;John Smith&quot;,\r\n      &quot;sku&quot;    : &quot;20223&quot;,\r\n      &quot;price&quot;  : 23.95,\r\n      &quot;shipTo&quot; : { &quot;name&quot; : &quot;Jane Smith&quot;,\r\n                   &quot;address&quot; : &quot;123 Maple Street&quot;,\r\n                   &quot;city&quot; : &quot;Pretendville&quot;,\r\n                   &quot;state&quot; : &quot;NY&quot;,\r\n                   &quot;zip&quot;   : &quot;12345&quot; },\r\n      &quot;billTo&quot; : { &quot;name&quot; : &quot;John Smith&quot;,\r\n                   &quot;address&quot; : &quot;123 Maple Street&quot;,\r\n                   &quot;city&quot; : &quot;Pretendville&quot;,\r\n                   &quot;state&quot; : &quot;NY&quot;,\r\n                   &quot;zip&quot;   : &quot;12345&quot; }\r\n    }","title":"JSON Conversion In Java","body":"<p>I am trying to write a function that is able to convert a JSON String to a different JSON string (based on what the user wants to change). I am encountering the error:</p>\n<pre><code>org.json.JSONException: JSONObject[&quot;name&quot;] is not a JSONObject (class java.lang.String : John Smith).\n</code></pre>\n<p>I am not quite sure why as I thought that name would be a JSONObject. Below is my class where the transformation is made and my handler where it is called. The payload that is passed in is a String variable that is received as a JSON Body from an Http Request. That body is also below. Thanks for the help!</p>\n<p>import org.json.*;</p>\n<pre><code>public class Transform {\n    public JSONObject JsonToJson(String payload) {\n        JSONObject myPayload = new JSONObject(payload);\n        JSONObject name = myPayload.getJSONObject(&quot;name&quot;);\n        JSONObject sku = myPayload.getJSONObject(&quot;sku&quot;);\n        JSONObject price = myPayload.getJSONObject(&quot;price&quot;);\n        JSONObject shipTo = myPayload.getJSONObject(&quot;shipTo&quot;);\n        JSONObject shipToName = shipTo.getJSONObject(&quot;name&quot;);\n        JSONObject address = shipTo.getJSONObject(&quot;address&quot;);\n        JSONObject city = shipTo.getJSONObject(&quot;city&quot;);\n        JSONObject state = shipTo.getJSONObject(&quot;state&quot;);\n        JSONObject zip = shipTo.getJSONObject(&quot;zip&quot;);\n        JSONObject billTo = myPayload.getJSONObject(&quot;billTo&quot;);\n        JSONObject billToName = billTo.getJSONObject(&quot;name&quot;);\n        JSONObject billToAddress = billTo.getJSONObject(&quot;address&quot;);\n        JSONObject billToCity = billTo.getJSONObject(&quot;city&quot;);\n        JSONObject billToState = billTo.getJSONObject(&quot;state&quot;);\n        JSONObject billToZip = billTo.getJSONObject(&quot;zip&quot;);\n\n        shipTo.put(&quot;name&quot;, &quot;Scott G&quot;);\n        return myPayload;\n    } \n}\n\ncontext.getLogger().info(&quot;\\n===========================================\\n&quot;);\ncontext.getLogger().info(payload);\nTransform p = new Transform();\nJSONObject tPayload = p.JsonToJson(payload);\ncontext.getLogger().info(&quot;\\n===========================================\\n&quot;);\ncontext.getLogger().info(tPayload.toString());\ncontext.getLogger().info(&quot;\\n===========================================\\n&quot;);\n\n{ &quot;name&quot;   : &quot;John Smith&quot;,\n  &quot;sku&quot;    : &quot;20223&quot;,\n  &quot;price&quot;  : 23.95,\n  &quot;shipTo&quot; : { &quot;name&quot; : &quot;Jane Smith&quot;,\n               &quot;address&quot; : &quot;123 Maple Street&quot;,\n               &quot;city&quot; : &quot;Pretendville&quot;,\n               &quot;state&quot; : &quot;NY&quot;,\n               &quot;zip&quot;   : &quot;12345&quot; },\n  &quot;billTo&quot; : { &quot;name&quot; : &quot;John Smith&quot;,\n               &quot;address&quot; : &quot;123 Maple Street&quot;,\n               &quot;city&quot; : &quot;Pretendville&quot;,\n               &quot;state&quot; : &quot;NY&quot;,\n               &quot;zip&quot;   : &quot;12345&quot; }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-mvc","thymeleaf"],"answers":[{"tags":[],"owner":{"account_id":17750,"reputation":25470,"user_id":40064,"accept_rate":69,"display_name":"Wim Deblauwe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678298570,"creation_date":1678095381,"answer_id":75649176,"question_id":75644504,"body_markdown":"It is generally a bad idea trying to put your whole class contents as a path or query parameter. I would advice to just put the id of the product into the URL and then in the controller, or in the service, fetch the product using the id.\r\n\r\nSomething like this:\r\n\r\n```\r\n@PostMapping(&quot;/add/{item}&quot;)\r\npublic String addProductToCart(@PathVariable(name = &quot;item&quot;) Long productId,\r\n                                   @ModelAttribute(&quot;cart&quot;) Cart cart,\r\n                                   RedirectAttributes attributes) {\r\n    Product product = productService.getProduct(productId);\r\n    cart.addProduct(product);\r\n    log.info(&quot;Processing cart {}&quot;, cart);\r\n    return &quot;redirect:/&quot;;\r\n}\r\n```","title":"Thymeleaf+ spring: MethodArgumentTypeMismatchException","body":"<p>It is generally a bad idea trying to put your whole class contents as a path or query parameter. I would advice to just put the id of the product into the URL and then in the controller, or in the service, fetch the product using the id.</p>\n<p>Something like this:</p>\n<pre><code>@PostMapping(&quot;/add/{item}&quot;)\npublic String addProductToCart(@PathVariable(name = &quot;item&quot;) Long productId,\n                                   @ModelAttribute(&quot;cart&quot;) Cart cart,\n                                   RedirectAttributes attributes) {\n    Product product = productService.getProduct(productId);\n    cart.addProduct(product);\n    log.info(&quot;Processing cart {}&quot;, cart);\n    return &quot;redirect:/&quot;;\n}\n</code></pre>\n"}],"owner":{"account_id":25940493,"reputation":105,"user_id":19660081,"display_name":"Ivan Dvurechenskiy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75649176,"answer_count":1,"score":0,"last_activity_date":1678298570,"creation_date":1678041620,"question_id":75644504,"body_markdown":"I&#39;m creating a simple web application(clothes shop) and having a problem with passing objects from view to controller. This is a piece of html code that displays all the items of clothing on the screen in the form of cards. Each of them has a button, clicking on which should invoke ```POST``` request and put this item in user&#39;s cart.\r\n```\r\n&lt;div class=&quot;container&quot;&gt;\r\n  &lt;div class=&quot;row row-cols-1 row-cols-sm-2 row-cols-md-4&quot;&gt;\r\n    &lt;form class=&quot;card rounded-0 mt-1 px-2&quot; method=&quot;post&quot; th:action=&quot;@{/main/add/{item}(item = ${item})}&quot; \r\n          th:each=&quot;item:${products}&quot;&gt;\r\n      &lt;img class=&quot;card-img-top&quot; src=&quot;/img/duetddoskonaly.jpg&quot; alt=&quot;Card image cap&quot;&gt;\r\n      &lt;div class=&quot;card-body&quot;&gt;\r\n        &lt;h4 class=&quot;card-title&quot; th:text=&quot;${item.name}&quot;&gt;Card title&lt;/h4&gt;\r\n        &lt;p class=&quot;card-text&quot; th:text=&quot;${item.description}&quot;&gt;\r\n          No Description\r\n        &lt;/p&gt;\r\n        &lt;button type=&quot;submit&quot; class=&quot;btn btn-dark&quot;&gt;Добавить&lt;/button&gt;\r\n      &lt;/div&gt;\r\n    &lt;/form&gt;\r\n  &lt;/div&gt;\r\n&lt;/div&gt;\r\n```\r\n@PostMapping itself:\r\n```\r\n@PostMapping(&quot;/add/{item}&quot;)\r\npublic String addProductToCart(@PathVariable(name = &quot;item&quot;) Product product,\r\n                                   @ModelAttribute(&quot;cart&quot;) Cart cart,\r\n                                   RedirectAttributes attributes) {\r\n    cart.addProduct(product);\r\n    log.info(&quot;Processing cart {}&quot;, cart);\r\n    return &quot;redirect:/&quot;;\r\n}\r\n```\r\n\r\n However, once I click the button I get this output:\r\n\r\n&gt; 2023-03-05 21:21:26.148  WARN 584 --- [nio-8080-exec-1]\r\n&gt; .w.s.m.s.DefaultHandlerExceptionResolver : Resolved\r\n&gt; [org.springframework.web.method.annotation.MethodArgumentTypeMismatchException:\r\n&gt; Failed to convert value of type &#39;java.lang.String&#39; to required type\r\n&gt; &#39;com.ivand.shopfullstack.model.Product&#39;; nested exception is\r\n&gt; org.springframework.core.convert.ConversionFailedException: Failed to\r\n&gt; convert from type [java.lang.String] to type [java.lang.Long] for\r\n&gt; value &#39;Product(id=25, name=Sneaker1, description=An amazing sneakers,\r\n&gt; sex=male, price=null, oldPrice=null, discount=null, hotProduct=null,\r\n&gt; image=null, category=Category(id=19, type=SHOES, name=Sneakers))&#39;;\r\n&gt; nested exception is java.lang.NumberFormatException: For input string:\r\n&gt; &quot;Product(id=25,name=Sneaker1,description=Anamazingsneakers,sex=male,price=null,oldPrice=null,discount=null,hotProduct=null,image=null,category=Category(id=19,type=SHOES,name=Sneakers))&quot;]\r\n\r\nI understand that the problem lies in the inability to convert query string parameters to object(with type Product). Is there any way to pass the object not the string query from view to controller? Please correct my question if it is incorrect.","title":"Thymeleaf+ spring: MethodArgumentTypeMismatchException","body":"<p>I'm creating a simple web application(clothes shop) and having a problem with passing objects from view to controller. This is a piece of html code that displays all the items of clothing on the screen in the form of cards. Each of them has a button, clicking on which should invoke <code>POST</code> request and put this item in user's cart.</p>\n<pre><code>&lt;div class=&quot;container&quot;&gt;\n  &lt;div class=&quot;row row-cols-1 row-cols-sm-2 row-cols-md-4&quot;&gt;\n    &lt;form class=&quot;card rounded-0 mt-1 px-2&quot; method=&quot;post&quot; th:action=&quot;@{/main/add/{item}(item = ${item})}&quot; \n          th:each=&quot;item:${products}&quot;&gt;\n      &lt;img class=&quot;card-img-top&quot; src=&quot;/img/duetddoskonaly.jpg&quot; alt=&quot;Card image cap&quot;&gt;\n      &lt;div class=&quot;card-body&quot;&gt;\n        &lt;h4 class=&quot;card-title&quot; th:text=&quot;${item.name}&quot;&gt;Card title&lt;/h4&gt;\n        &lt;p class=&quot;card-text&quot; th:text=&quot;${item.description}&quot;&gt;\n          No Description\n        &lt;/p&gt;\n        &lt;button type=&quot;submit&quot; class=&quot;btn btn-dark&quot;&gt;Добавить&lt;/button&gt;\n      &lt;/div&gt;\n    &lt;/form&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n<p>@PostMapping itself:</p>\n<pre><code>@PostMapping(&quot;/add/{item}&quot;)\npublic String addProductToCart(@PathVariable(name = &quot;item&quot;) Product product,\n                                   @ModelAttribute(&quot;cart&quot;) Cart cart,\n                                   RedirectAttributes attributes) {\n    cart.addProduct(product);\n    log.info(&quot;Processing cart {}&quot;, cart);\n    return &quot;redirect:/&quot;;\n}\n</code></pre>\n<p>However, once I click the button I get this output:</p>\n<blockquote>\n<p>2023-03-05 21:21:26.148  WARN 584 --- [nio-8080-exec-1]\n.w.s.m.s.DefaultHandlerExceptionResolver : Resolved\n[org.springframework.web.method.annotation.MethodArgumentTypeMismatchException:\nFailed to convert value of type 'java.lang.String' to required type\n'com.ivand.shopfullstack.model.Product'; nested exception is\norg.springframework.core.convert.ConversionFailedException: Failed to\nconvert from type [java.lang.String] to type [java.lang.Long] for\nvalue 'Product(id=25, name=Sneaker1, description=An amazing sneakers,\nsex=male, price=null, oldPrice=null, discount=null, hotProduct=null,\nimage=null, category=Category(id=19, type=SHOES, name=Sneakers))';\nnested exception is java.lang.NumberFormatException: For input string:\n&quot;Product(id=25,name=Sneaker1,description=Anamazingsneakers,sex=male,price=null,oldPrice=null,discount=null,hotProduct=null,image=null,category=Category(id=19,type=SHOES,name=Sneakers))&quot;]</p>\n</blockquote>\n<p>I understand that the problem lies in the inability to convert query string parameters to object(with type Product). Is there any way to pass the object not the string query from view to controller? Please correct my question if it is incorrect.</p>\n"},{"tags":["java","active-directory","ldap","keycloak","event-listener"],"owner":{"account_id":27833218,"reputation":1,"user_id":21251233,"display_name":"Vineeth C Sreepad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":130,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678298386,"creation_date":1678277562,"question_id":75672884,"body_markdown":"UseCase:\r\nWe have implemented custom keycloak LDAP Storage Mapper for LDAP/User Federation Sync. Followed the same aritcle as pasted here : https://medium.com/@ivancheahkf/keycloak-event-listener-spi-for-ldap-user-federation-sync-62fa17c573bc\r\n\r\nThis works absolutely fine for a new user added/updated to AD and a periodic sync will trriger the override method &quot;onImportUserFromLDAP&quot; in LDAPStorageMapper. We have implemented the same in our POC and have tested it as well.\r\n\r\nCurious to know if there is anything similar if/when a user is deleted from AD and syncd to keycloak, any override method exists user LDAPStorageMapper.\r\n\r\nCurrently we see this message &quot;Sync changed users finished: 0 imported users, 0 updated users&quot; after a sync from AD keycloak is initiated. User is also deleted from keycloak, never we which override method is called onDelete.","title":"Keycloak: Does/Can LDAPStorageMapper have a onDeleteUserFromLDAP override method?","body":"<p>UseCase:\nWe have implemented custom keycloak LDAP Storage Mapper for LDAP/User Federation Sync. Followed the same aritcle as pasted here : <a href=\"https://medium.com/@ivancheahkf/keycloak-event-listener-spi-for-ldap-user-federation-sync-62fa17c573bc\" rel=\"nofollow noreferrer\">https://medium.com/@ivancheahkf/keycloak-event-listener-spi-for-ldap-user-federation-sync-62fa17c573bc</a></p>\n<p>This works absolutely fine for a new user added/updated to AD and a periodic sync will trriger the override method &quot;onImportUserFromLDAP&quot; in LDAPStorageMapper. We have implemented the same in our POC and have tested it as well.</p>\n<p>Curious to know if there is anything similar if/when a user is deleted from AD and syncd to keycloak, any override method exists user LDAPStorageMapper.</p>\n<p>Currently we see this message &quot;Sync changed users finished: 0 imported users, 0 updated users&quot; after a sync from AD keycloak is initiated. User is also deleted from keycloak, never we which override method is called onDelete.</p>\n"},{"tags":["java","certificate","pdfbox","digital-signature","aatl"],"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1678298559,"post_id":75676607,"comment_id":133507156,"body_markdown":"PDFBox does not retrieve or parse Adobe trust lists. You can retrieve and parse the TLs yourself, use PDFBox to parse and cryptographically validate the signatures, and then check the certificates found by PDFBox against the TLs you have.","body":"PDFBox does not retrieve or parse Adobe trust lists. You can retrieve and parse the TLs yourself, use PDFBox to parse and cryptographically validate the signatures, and then check the certificates found by PDFBox against the TLs you have."}],"owner":{"account_id":24771967,"reputation":33,"user_id":18655652,"display_name":"Tanmay Sharma"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1678298231,"creation_date":1678298231,"question_id":75676607,"body_markdown":"For enabling LTV while digitally signing the document, we should also verify whether the certificate (used for signing) is registered in AATL (Adobe Approved Trust List) or EUTL (European Union Trust List) or not. How we can verify this using java Apache PDFBox.\r\n\r\nWhen I opened the LTV enabled document (generated using PDFBox) in Adobe Acrobat it is already coming that the &quot;Source of trust is obtained from Adobe Approved Trust List&quot;. But how I can verify the same using java PDFBox. Is it already performed internally in PDFBox?","title":"How java PDFBox check whether certificate is registered in AATL or EUTL","body":"<p>For enabling LTV while digitally signing the document, we should also verify whether the certificate (used for signing) is registered in AATL (Adobe Approved Trust List) or EUTL (European Union Trust List) or not. How we can verify this using java Apache PDFBox.</p>\n<p>When I opened the LTV enabled document (generated using PDFBox) in Adobe Acrobat it is already coming that the &quot;Source of trust is obtained from Adobe Approved Trust List&quot;. But how I can verify the same using java PDFBox. Is it already performed internally in PDFBox?</p>\n"},{"tags":["java","generics","vert.x"],"answers":[{"tags":[],"owner":{"account_id":8025171,"reputation":1,"user_id":6052451,"display_name":"Bahram Zaeri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678293895,"creation_date":1678293895,"answer_id":75675876,"question_id":75675558,"body_markdown":"The idea of a generic handler would work for sure. When you construct the `EventProducerService` instance, you know the generic type and in the handler you can specify what you want to do with it without modifying the EventProducerService logic. Another idea is to make T implement an interface that includes all the methods that you want to access from EventProducerService. \r\n\r\n`public class EventProducerService&lt;T extends MyInterface&gt;{...`\r\n\r\nThe downside of the idea is that all the T types must implement the interface methods that might not be relevant to all the concrete classes.\r\n\r\nAll in all, I would recommend the idea of a generic handler. It comes from functional programming principles and is much more flexible than narrowing the generic type by implementing an interface.\r\n\r\n    public interface MyHandler&lt;T&gt; {\r\n        void handle(Future&lt;Void&gt; f, List&lt;T&gt; events);\r\n    }\r\n\r\n    public class EventProducerService&lt;T&gt;{\r\n    MyHandler&lt;T&gt; handler;\r\n    private Future&lt;Void&gt; publish(List&lt;T&gt; events) {\r\n            final String topicPublishURL = Url + String.format(PUBLISH_EVENT_URI_TEMPLATE, this.topic);\r\n    \r\n            final String body;\r\n            try {\r\n                body = JacksonUtils.toJson(events);\r\n            } catch (JsonProcessingException e) {\r\n                return Future.failedFuture(e);\r\n            }\r\n    \r\n            Future&lt;Void&gt; f = httpRequester.postAsync(httpClientWrapper.getOrCreateClient(), topicPublishURL, body);\r\n            handler.handle(f, events);\r\n            return f;\r\n        }\r\n    }\r\n\r\nand you can pass the handler as a Java 8+ function to the constructor.\r\n\r\n    new EventProducerService(httpClientWrapper, tokensFacade, WRITE_URL,\r\n                topic, BUFFER_SIZE, vertx, metricRegistry, (f, events) -&gt; {\r\n                // your code\r\n                });","title":"How to access methods of a concrete class in a Generic class in Java without casting","body":"<p>The idea of a generic handler would work for sure. When you construct the <code>EventProducerService</code> instance, you know the generic type and in the handler you can specify what you want to do with it without modifying the EventProducerService logic. Another idea is to make T implement an interface that includes all the methods that you want to access from EventProducerService.</p>\n<p><code>public class EventProducerService&lt;T extends MyInterface&gt;{...</code></p>\n<p>The downside of the idea is that all the T types must implement the interface methods that might not be relevant to all the concrete classes.</p>\n<p>All in all, I would recommend the idea of a generic handler. It comes from functional programming principles and is much more flexible than narrowing the generic type by implementing an interface.</p>\n<pre><code>public interface MyHandler&lt;T&gt; {\n    void handle(Future&lt;Void&gt; f, List&lt;T&gt; events);\n}\n\npublic class EventProducerService&lt;T&gt;{\nMyHandler&lt;T&gt; handler;\nprivate Future&lt;Void&gt; publish(List&lt;T&gt; events) {\n        final String topicPublishURL = Url + String.format(PUBLISH_EVENT_URI_TEMPLATE, this.topic);\n\n        final String body;\n        try {\n            body = JacksonUtils.toJson(events);\n        } catch (JsonProcessingException e) {\n            return Future.failedFuture(e);\n        }\n\n        Future&lt;Void&gt; f = httpRequester.postAsync(httpClientWrapper.getOrCreateClient(), topicPublishURL, body);\n        handler.handle(f, events);\n        return f;\n    }\n}\n</code></pre>\n<p>and you can pass the handler as a Java 8+ function to the constructor.</p>\n<pre><code>new EventProducerService(httpClientWrapper, tokensFacade, WRITE_URL,\n            topic, BUFFER_SIZE, vertx, metricRegistry, (f, events) -&gt; {\n            // your code\n            });\n</code></pre>\n"}],"owner":{"account_id":27966877,"reputation":1,"user_id":21357539,"display_name":"Lokraj Ahuja"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678298115,"creation_date":1678292294,"question_id":75675558,"body_markdown":"I have a method that publishes List of events in Kafka:-    \r\n```\r\npublic class EventProducerService&lt;T&gt;{\r\nprivate Future&lt;Void&gt; publish(List&lt;T&gt; events) {\r\n        final String topicPublishURL = Url + String.format(PUBLISH_EVENT_URI_TEMPLATE, this.topic);\r\n\r\n        final String body;\r\n        try {\r\n            body = JacksonUtils.toJson(events);\r\n        } catch (JsonProcessingException e) {\r\n            return Future.failedFuture(e);\r\n        }\r\n\r\n        return httpRequester.postAsync(httpClientWrapper.getOrCreateClient(), topicPublishURL, body);\r\n    }\r\n}\r\n```\r\n\r\nand this class is defined using :-\r\n\r\n```\r\nnew EventProducerService(httpClientWrapper, tokensFacade, WRITE_URL,\r\n            topic, BUFFER_SIZE, vertx, metricRegistry);\r\n```\r\n\r\nI want to send the event info to a tracking service after a successful publish. The T in List&lt;T&gt; events can have different classes with their own unique methods. I want to track one of them **OrderTrackingInfoEvent**.\r\n\r\nSo, How do I access methods of **TrackingInfoEvent** inside the above publish method?\r\n\r\nPlease note that casting cannot be used.\r\n\r\n\r\n\r\nPlease help. I am new to Java.\r\n\r\n\r\n\r\n\r\nI was told to specify some publisher handler on EventProducerService, something that is called after httpRequester.postAsync(...), with the future returned, and the list of events.\r\n\r\nand the handler would be specified when constructing the EventProducerService instance.","title":"How to access methods of a concrete class in a Generic class in Java without casting","body":"<p>I have a method that publishes List of events in Kafka:-</p>\n<pre><code>public class EventProducerService&lt;T&gt;{\nprivate Future&lt;Void&gt; publish(List&lt;T&gt; events) {\n        final String topicPublishURL = Url + String.format(PUBLISH_EVENT_URI_TEMPLATE, this.topic);\n\n        final String body;\n        try {\n            body = JacksonUtils.toJson(events);\n        } catch (JsonProcessingException e) {\n            return Future.failedFuture(e);\n        }\n\n        return httpRequester.postAsync(httpClientWrapper.getOrCreateClient(), topicPublishURL, body);\n    }\n}\n</code></pre>\n<p>and this class is defined using :-</p>\n<pre><code>new EventProducerService(httpClientWrapper, tokensFacade, WRITE_URL,\n            topic, BUFFER_SIZE, vertx, metricRegistry);\n</code></pre>\n<p>I want to send the event info to a tracking service after a successful publish. The T in List events can have different classes with their own unique methods. I want to track one of them <strong>OrderTrackingInfoEvent</strong>.</p>\n<p>So, How do I access methods of <strong>TrackingInfoEvent</strong> inside the above publish method?</p>\n<p>Please note that casting cannot be used.</p>\n<p>Please help. I am new to Java.</p>\n<p>I was told to specify some publisher handler on EventProducerService, something that is called after httpRequester.postAsync(...), with the future returned, and the list of events.</p>\n<p>and the handler would be specified when constructing the EventProducerService instance.</p>\n"},{"tags":["java","char","uppercase"],"comments":[{"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"score":0,"creation_date":1284323087,"post_id":3696441,"comment_id":3896525,"body_markdown":"which part of the answers to your previous question you didn&#39;t understand? My answer there contains an answer to this question.","body":"which part of the answers to your previous question you didn&#39;t understand? My answer there contains an answer to this question."},{"owner":{"account_id":3539723,"reputation":3951,"user_id":2957169,"display_name":"charles-allen"},"score":0,"creation_date":1507515555,"post_id":3696441,"comment_id":80225197,"body_markdown":"@shep - Can you accept BalusC&#39;s answer? It will help future searchers.","body":"@shep - Can you accept BalusC&#39;s answer? It will help future searchers."}],"answers":[{"tags":[],"owner":{"account_id":49781,"reputation":10062,"user_id":148381,"accept_rate":89,"display_name":"DaveJohnston"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1284322838,"creation_date":1284322838,"answer_id":3696455,"question_id":3696441,"body_markdown":"    f = Character.toUpperCase(f);\r\n    l = Character.toUpperCase(l);","title":"Converting a char to uppercase in Java","body":"<pre><code>f = Character.toUpperCase(f);\nl = Character.toUpperCase(l);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":36858,"reputation":113744,"user_id":105224,"accept_rate":73,"display_name":"Andreas Dolk"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1284322855,"creation_date":1284322855,"answer_id":3696457,"question_id":3696441,"body_markdown":"Have a look at the `java.lang.Character` class, it provides a lot of useful methods to convert or test chars.","title":"Converting a char to uppercase in Java","body":"<p>Have a look at the <code>java.lang.Character</code> class, it provides a lot of useful methods to convert or test chars.</p>\n"},{"tags":[],"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"down_vote_count":0,"up_vote_count":159,"is_accepted":false,"score":159,"last_activity_date":1415000072,"creation_date":1284322858,"answer_id":3696458,"question_id":3696441,"body_markdown":"You can use [`Character#toUpperCase()`][1] for this.\r\n\r\n    char fUpper = Character.toUpperCase(f);\r\n    char lUpper = Character.toUpperCase(l);\r\n\r\nIt has however some limitations since the world is aware of many more characters than can ever fit in 16bit `char` range. See also the following excerpt of the [javadoc][2]:\r\n\r\n&gt; Note: This method cannot handle  [supplementary characters][3]. To support all Unicode characters, including supplementary characters, use the [`toUpperCase(int)`][4] method. \r\n\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/lang/Character.html#toUpperCase%28char%29\r\n  [2]: http://download.oracle.com/javase/6/docs/api/java/lang/Character.html#toUpperCase%28char%29\r\n  [3]: http://download.oracle.com/javase/6/docs/api/java/lang/Character.html#supplementary\r\n  [4]: http://download.oracle.com/javase/6/docs/api/java/lang/Character.html#toUpperCase%28int%29","title":"Converting a char to uppercase in Java","body":"<p>You can use <a href=\"http://download.oracle.com/javase/6/docs/api/java/lang/Character.html#toUpperCase%28char%29\" rel=\"noreferrer\"><code>Character#toUpperCase()</code></a> for this.</p>\n\n<pre><code>char fUpper = Character.toUpperCase(f);\nchar lUpper = Character.toUpperCase(l);\n</code></pre>\n\n<p>It has however some limitations since the world is aware of many more characters than can ever fit in 16bit <code>char</code> range. See also the following excerpt of the <a href=\"http://download.oracle.com/javase/6/docs/api/java/lang/Character.html#toUpperCase%28char%29\" rel=\"noreferrer\">javadoc</a>:</p>\n\n<blockquote>\n  <p>Note: This method cannot handle  <a href=\"http://download.oracle.com/javase/6/docs/api/java/lang/Character.html#supplementary\" rel=\"noreferrer\">supplementary characters</a>. To support all Unicode characters, including supplementary characters, use the <a href=\"http://download.oracle.com/javase/6/docs/api/java/lang/Character.html#toUpperCase%28int%29\" rel=\"noreferrer\"><code>toUpperCase(int)</code></a> method. </p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":35487,"reputation":64776,"user_id":100516,"accept_rate":69,"display_name":"Roman"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1284322920,"creation_date":1284322920,"answer_id":3696463,"question_id":3696441,"body_markdown":"The easiest solution for your case - change the first line, let it do just the opposite thing:\r\n\r\n    String lower = Name.toUpperCase ();\r\n\r\nOf course, it&#39;s worth to change its name too.\r\n","title":"Converting a char to uppercase in Java","body":"<p>The easiest solution for your case - change the first line, let it do just the opposite thing:</p>\n\n<pre><code>String lower = Name.toUpperCase ();\n</code></pre>\n\n<p>Of course, it's worth to change its name too.</p>\n"},{"tags":[],"owner":{"account_id":178996,"reputation":6452,"user_id":411326,"accept_rate":75,"display_name":"Asaf"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1373147708,"creation_date":1284323553,"answer_id":3696495,"question_id":3696441,"body_markdown":"If you are including the apache commons lang jar in your project than the easiest solution would be to do:\r\n\r\n    WordUtils.capitalize(Name)\r\n\r\ntakes care of all the dirty work for you.\r\nSee the javadoc [here][1]\r\n\r\nAlternatively, you also have a capitalizeFully(String) method which also lower cases the rest of the characters.\r\n\r\n\r\n  [1]: http://commons.apache.org/proper/commons-lang/javadocs/api-release/org/apache/commons/lang3/text/WordUtils.html#capitalize(java.lang.String)","title":"Converting a char to uppercase in Java","body":"<p>If you are including the apache commons lang jar in your project than the easiest solution would be to do:</p>\n\n<pre><code>WordUtils.capitalize(Name)\n</code></pre>\n\n<p>takes care of all the dirty work for you.\nSee the javadoc <a href=\"http://commons.apache.org/proper/commons-lang/javadocs/api-release/org/apache/commons/lang3/text/WordUtils.html#capitalize(java.lang.String)\" rel=\"nofollow noreferrer\">here</a></p>\n\n<p>Alternatively, you also have a capitalizeFully(String) method which also lower cases the rest of the characters.</p>\n"},{"tags":[],"owner":{"account_id":5753148,"reputation":1525,"user_id":4542084,"display_name":"Burrito"},"down_vote_count":5,"up_vote_count":11,"is_accepted":false,"score":6,"last_activity_date":1423363326,"creation_date":1423363326,"answer_id":28390007,"question_id":3696441,"body_markdown":"Since you know the chars are lower case, you can subtract the according ASCII value to make them uppercase:\r\n\r\n    char a = &#39;a&#39;;\r\n    a -= 32;\r\n    System.out.println(&quot;a is &quot; + a); //a is A\r\n\r\nHere is an [ASCII table][1] for reference\r\n\r\n\r\n  [1]: https://www.cs.cmu.edu/~pattis/15-1XX/common/handouts/ascii.html","title":"Converting a char to uppercase in Java","body":"<p>Since you know the chars are lower case, you can subtract the according ASCII value to make them uppercase:</p>\n\n<pre><code>char a = 'a';\na -= 32;\nSystem.out.println(\"a is \" + a); //a is A\n</code></pre>\n\n<p>Here is an <a href=\"https://www.cs.cmu.edu/~pattis/15-1XX/common/handouts/ascii.html\" rel=\"noreferrer\">ASCII table</a> for reference</p>\n"},{"tags":[],"owner":{"account_id":8320328,"reputation":29,"user_id":6252267,"display_name":"امون بسام"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1461603063,"creation_date":1461599214,"answer_id":36845299,"question_id":3696441,"body_markdown":"You can apply the .toUpperCase() directly on String variables or as an attribute to text fields. Ex: - \r\n\r\n    String str;\r\n    TextView txt;\r\n\r\n    str.toUpperCase();// will change it to all upper case OR\r\n    txt.append(str.toUpperCase());\r\n    txt.setText(str.toUpperCase());\r\n","title":"Converting a char to uppercase in Java","body":"<p>You can apply the .toUpperCase() directly on String variables or as an attribute to text fields. Ex: - </p>\n\n<pre><code>String str;\nTextView txt;\n\nstr.toUpperCase();// will change it to all upper case OR\ntxt.append(str.toUpperCase());\ntxt.setText(str.toUpperCase());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2233894,"reputation":5674,"user_id":1970832,"accept_rate":83,"display_name":"Rahul Sharma"},"down_vote_count":1,"up_vote_count":48,"is_accepted":false,"score":47,"last_activity_date":1518934069,"creation_date":1470080998,"answer_id":38707004,"question_id":3696441,"body_markdown":"Instead of using existing utilities, you may try below conversion using boolean operation:\r\n\r\n**To upper case:**\r\n\r\n     char upperChar = &#39;l&#39; &amp; 0x5f\r\n\r\n**To lower case:**\r\n\r\n       char lowerChar = &#39;L&#39; ^ 0x20\r\n\r\n\r\n------------------\r\n**How it works:**\r\n\r\nBinary, hex and decimal table:\r\n\r\n    ------------------------------------------\r\n    | Binary   |   Hexadecimal     | Decimal |\r\n    -----------------------------------------\r\n    | 1011111  |    0x5f           |  95     |\r\n    ------------------------------------------\r\n    | 100000   |    0x20           |  32     |\r\n    ------------------------------------------\r\n\r\n**Let&#39;s take an example of small `l` to `L` conversion:**&lt;br&gt;\r\n\r\nThe binary AND operation: `(l &amp; 0x5f)`\r\n\r\n`l` character has **ASCII** 108 and `01101100` is binary represenation. \r\n\r\n\r\n       1101100\r\n    &amp;  1011111\r\n    -----------\r\n       1001100 = 76 in decimal which is **ASCII** code of L\r\n\r\n\r\n**Similarly the `L` to `l` conversion:** \r\n\r\nThe binary XOR operation: `(L ^ 0x20)`\r\n\r\n       1001100\r\n    ^  0100000\r\n    -----------\r\n       1101100 = 108 in decimal which is **ASCII** code of l\r\n","title":"Converting a char to uppercase in Java","body":"<p>Instead of using existing utilities, you may try below conversion using boolean operation:</p>\n\n<p><strong>To upper case:</strong></p>\n\n<pre><code> char upperChar = 'l' &amp; 0x5f\n</code></pre>\n\n<p><strong>To lower case:</strong></p>\n\n<pre><code>   char lowerChar = 'L' ^ 0x20\n</code></pre>\n\n<hr>\n\n<p><strong>How it works:</strong></p>\n\n<p>Binary, hex and decimal table:</p>\n\n<pre><code>------------------------------------------\n| Binary   |   Hexadecimal     | Decimal |\n-----------------------------------------\n| 1011111  |    0x5f           |  95     |\n------------------------------------------\n| 100000   |    0x20           |  32     |\n------------------------------------------\n</code></pre>\n\n<p><strong>Let's take an example of small <code>l</code> to <code>L</code> conversion:</strong><br></p>\n\n<p>The binary AND operation: <code>(l &amp; 0x5f)</code></p>\n\n<p><code>l</code> character has <strong>ASCII</strong> 108 and <code>01101100</code> is binary represenation. </p>\n\n<pre><code>   1101100\n&amp;  1011111\n-----------\n   1001100 = 76 in decimal which is **ASCII** code of L\n</code></pre>\n\n<p><strong>Similarly the <code>L</code> to <code>l</code> conversion:</strong> </p>\n\n<p>The binary XOR operation: <code>(L ^ 0x20)</code></p>\n\n<pre><code>   1001100\n^  0100000\n-----------\n   1101100 = 108 in decimal which is **ASCII** code of l\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9978043,"reputation":161,"user_id":7381898,"display_name":"Likhith Kumar"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1483860812,"creation_date":1483853130,"answer_id":41529776,"question_id":3696441,"body_markdown":"    System.out.println(first.substring(0,1).toUpperCase()); \r\n    System.out.println(last.substring(0,1).toUpperCase());","title":"Converting a char to uppercase in Java","body":"<pre><code>System.out.println(first.substring(0,1).toUpperCase()); \nSystem.out.println(last.substring(0,1).toUpperCase());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5834336,"reputation":1811,"user_id":4597890,"accept_rate":78,"display_name":"Praveen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1512633453,"creation_date":1512633453,"answer_id":47690204,"question_id":3696441,"body_markdown":"I think you are trying to capitalize first and last character of each word in a sentence with space as delimiter.&lt;br&gt;\r\n\r\n**Can be done through `StringBuffer`:**&lt;br&gt;\r\n\r\n    public static String toFirstLastCharUpperAll(String string){\r\n        StringBuffer sb=new StringBuffer(string);\r\n            for(int i=0;i&lt;sb.length();i++)\r\n            \tif(i==0 || sb.charAt(i-1)==&#39; &#39; //for first character of string/each word\r\n       \t    \t\t|| i==sb.length()-1 || sb.charAt(i+1)==&#39; &#39;) //for last character of string/each word\r\n       \t    \t\tsb.setCharAt(i, Character.toUpperCase(sb.charAt(i)));\r\n       \t return sb.toString();\r\n    }","title":"Converting a char to uppercase in Java","body":"<p>I think you are trying to capitalize first and last character of each word in a sentence with space as delimiter.<br></p>\n\n<p><strong>Can be done through <code>StringBuffer</code>:</strong><br></p>\n\n<pre><code>public static String toFirstLastCharUpperAll(String string){\n    StringBuffer sb=new StringBuffer(string);\n        for(int i=0;i&lt;sb.length();i++)\n            if(i==0 || sb.charAt(i-1)==' ' //for first character of string/each word\n                || i==sb.length()-1 || sb.charAt(i+1)==' ') //for last character of string/each word\n                sb.setCharAt(i, Character.toUpperCase(sb.charAt(i)));\n     return sb.toString();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16267255,"reputation":771,"user_id":11746909,"display_name":"MUGABA"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649926837,"creation_date":1649926837,"answer_id":71869040,"question_id":3696441,"body_markdown":"Lets assume you have a variable you want split\r\n\r\n    String name = &quot;Your name variable&quot;;\r\n    char nameChar = Character.toUpperCase(name.charAt(0));","title":"Converting a char to uppercase in Java","body":"<p>Lets assume you have a variable you want split</p>\n<pre><code>String name = &quot;Your name variable&quot;;\nchar nameChar = Character.toUpperCase(name.charAt(0));\n</code></pre>\n"}],"owner":{"account_id":649117,"reputation":879,"user_id":445738,"display_name":"shep"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":383684,"favorite_count":0,"down_vote_count":1,"up_vote_count":87,"answer_count":11,"score":86,"last_activity_date":1678298030,"creation_date":1284322648,"question_id":3696441,"body_markdown":"How could I get the `f` and `l` variables converted to uppercase?\r\n\r\n    String lower = Name.toLowerCase();\r\n    int a = Name.indexOf(&quot; &quot;,0);\r\n    String first = lower.substring(0, a);\r\n    String last = lower.substring(a+1);\r\n\r\n    char f = first.charAt(0);\r\n    char l = last.charAt(0);\r\n\r\n    System.out.println(l);\r\n","title":"Converting a char to uppercase in Java","body":"<p>How could I get the <code>f</code> and <code>l</code> variables converted to uppercase?</p>\n<pre><code>String lower = Name.toLowerCase();\nint a = Name.indexOf(&quot; &quot;,0);\nString first = lower.substring(0, a);\nString last = lower.substring(a+1);\n\nchar f = first.charAt(0);\nchar l = last.charAt(0);\n\nSystem.out.println(l);\n</code></pre>\n"},{"tags":["java","spring-boot","maven","twitter","twitter4j"],"owner":{"account_id":18271327,"reputation":35,"user_id":13313938,"display_name":"Iv&#225;n Jes&#250;s Monferrer Marz&#225;"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":133,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1678297828,"creation_date":1678297828,"question_id":75676541,"body_markdown":"A year ago, I was working on a project using twitter4j library on a Java Springboot project. When I finished the project it was working OK. But now, I would like to make some incremental developments and an unusual error has been appeared. I show the different components below.\r\n\r\nI have been searching for the solution some days but I cannot found it. Any comment would be helpful. Thanks in advance\r\n\r\n\r\n**1. Main class:**\r\n\r\n```\r\n@SpringBootApplication\r\npublic class TweetManagerApplication {\r\n\t\r\n\tpublic static void main(String[] args) throws TwitterException {\r\n\t\tSpringApplication.run(TweetManagerApplication.class, args);\r\n\t}\r\n\t\r\n\t@EventListener(ApplicationReadyEvent.class)\r\n\tpublic TwitterStream streamFeed() throws TwitterException {\r\n\t\t\r\n\t\tStatusListener listener = new StatusListener(){\r\n            @Override\r\n            public void onStatus(Status status) {\r\n                System.out.println(&quot;%s : %s&quot;.formatted(status.getUser().getName(), status.getText()));\r\n            }\r\n\r\n            @Override\r\n            public void onTrackLimitationNotice(int numberOfLimitedStatuses) {}\r\n\r\n            @Override\r\n            public void onScrubGeo(long userId, long upToStatusId) {}\r\n\r\n            @Override\r\n            public void onException(Exception ex) {\r\n                ex.printStackTrace();\r\n            }\r\n\t\t\t@Override\r\n\t\t\tpublic void onDeletionNotice(StatusDeletionNotice statusDeletionNotice) {\r\n\t\t\t\t// TODO Auto-generated method stub\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t@Override\r\n\t\t\tpublic void onStallWarning(StallWarning warning) {\r\n\t\t\t\t// TODO Auto-generated method stub\r\n\t\t\t\t\r\n\t\t\t}\r\n        };\r\n        TwitterStream twitterStream = Twitter.newBuilder()\r\n                .listener(listener).build().v1().stream();\r\n        return twitterStream.sample();\r\n\t\r\n\t}\r\n}\r\n```\r\n\r\n**2. Configuration class**\r\n\r\n```\r\n@SpringBootConfiguration\r\n@EnableAsync\r\npublic class AsyncConfiguration {\r\n\r\n    private static final Logger LOGGER = LoggerFactory.getLogger(AsyncConfiguration.class);\r\n\r\n    @Bean(name = &quot;taskExecutor&quot;)\r\n    public Executor taskExecutor() {\r\n        LOGGER.debug(&quot;Creating Async Task Executor&quot;);\r\n        final ThreadPoolTaskExecutor executor = new ThreadPoolTaskExecutor();\r\n        executor.setCorePoolSize(2);\r\n        executor.setMaxPoolSize(2);\r\n        executor.setQueueCapacity(100);\r\n        executor.setThreadNamePrefix(&quot;CarThread-&quot;);\r\n        executor.initialize();\r\n        return executor;\r\n    }\r\n}\r\n```\r\n\r\n\r\n**3. Maven dependency**\r\n\r\n```\r\n\t&lt;dependency&gt;\r\n        &lt;groupId&gt;org.twitter4j&lt;/groupId&gt;\r\n        &lt;artifactId&gt;twitter4j-core&lt;/artifactId&gt;\r\n        &lt;version&gt;4.1.1&lt;/version&gt;\r\n```\r\n\r\n\r\n**4. The last logs and the information about this issue are the following:**\r\n\r\n```\r\n2023-03-08 17:22:18.980  INFO 55335 --- [][initializing]] twitter4j.TwitterStreamImpl              : Establishing connection.\r\n2023-03-08 17:22:20.036  INFO 55335 --- [ing connection]] twitter4j.TwitterStreamImpl              : https://stream.twitter.com/1.1/statuses/sample.json?stall_warnings=true\r\nhttps://stream.twitter.com/1.1/statuses/sample.json?stall_warnings=true\r\nRelevant discussions can be found on the Internet at:\r\n\thttp://www.google.co.jp/search?q=ee74468e or\r\n\thttp://www.google.co.jp/search?q=9eaf216e\r\nTwitterException{exceptionCode=[ee74468e-9eaf216e 69215812-3735082c 69215812-3735081d], statusCode=-1, message=null, code=-1, retryAfter=-1, rateLimitStatus=null, version=4.1.1}\r\n\tat twitter4j.HttpClient.handleRequest(HttpClient.java:191)\r\n\tat twitter4j.HttpClient.request(HttpClient.java:72)\r\n\tat twitter4j.HttpClient.get(HttpClient.java:279)\r\n\tat twitter4j.TwitterStreamImpl.getSampleStream(TwitterStreamImpl.java:209)\r\n\tat twitter4j.TwitterStreamImpl$4.getStream(TwitterStreamImpl.java:180)\r\n\tat twitter4j.TwitterStreamImpl$TwitterStreamConsumer.run(TwitterStreamImpl.java:387)\r\n2023-03-08 17:22:20.046  INFO 55335 --- [ing connection]] twitter4j.TwitterStreamImpl              : Waiting for 250 milliseconds\r\nCaused by: java.io.FileNotFoundException: https://stream.twitter.com/1.1/statuses/sample.json?stall_warnings=true\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\r\n\tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\r\n\tat java.base/sun.net.www.protocol.http.HttpURLConnection$10.run(HttpURLConnection.java:2048)\r\n\tat java.base/sun.net.www.protocol.http.HttpURLConnection$10.run(HttpURLConnection.java:2043)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:569)\r\n\tat java.base/sun.net.www.protocol.http.HttpURLConnection.getChainedException(HttpURLConnection.java:2042)\r\n\tat java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1609)\r\n\tat java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1589)\r\n\tat java.base/sun.net.www.protocol.https.HttpsURLConnectionImpl.getInputStream(HttpsURLConnectionImpl.java:224)\r\n\tat twitter4j.HttpResponse.&lt;init&gt;(HttpResponse.java:54)\r\n\tat twitter4j.HttpClient.handleRequest(HttpClient.java:155)\r\n\t... 5 more\r\nCaused by: java.io.FileNotFoundException: https://stream.twitter.com/1.1/statuses/sample.json?stall_warnings=true\r\n\tat java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1993)\r\n\tat java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1589)\r\n\tat java.base/java.net.HttpURLConnection.getResponseCode(HttpURLConnection.java:529)\r\n\tat java.base/sun.net.www.protocol.https.HttpsURLConnectionImpl.getResponseCode(HttpsURLConnectionImpl.java:308)\r\n\tat twitter4j.HttpResponse.&lt;init&gt;(HttpResponse.java:39)\r\n\t... 6 more\r\n```\r\n\r\nI am trying to use the twitter4j stream as it works a year ago","title":"Issue getting the stream (TwitterStreamImpl) using Java SpringBoot + twitter4j","body":"<p>A year ago, I was working on a project using twitter4j library on a Java Springboot project. When I finished the project it was working OK. But now, I would like to make some incremental developments and an unusual error has been appeared. I show the different components below.</p>\n<p>I have been searching for the solution some days but I cannot found it. Any comment would be helpful. Thanks in advance</p>\n<p><strong>1. Main class:</strong></p>\n<pre><code>@SpringBootApplication\npublic class TweetManagerApplication {\n    \n    public static void main(String[] args) throws TwitterException {\n        SpringApplication.run(TweetManagerApplication.class, args);\n    }\n    \n    @EventListener(ApplicationReadyEvent.class)\n    public TwitterStream streamFeed() throws TwitterException {\n        \n        StatusListener listener = new StatusListener(){\n            @Override\n            public void onStatus(Status status) {\n                System.out.println(&quot;%s : %s&quot;.formatted(status.getUser().getName(), status.getText()));\n            }\n\n            @Override\n            public void onTrackLimitationNotice(int numberOfLimitedStatuses) {}\n\n            @Override\n            public void onScrubGeo(long userId, long upToStatusId) {}\n\n            @Override\n            public void onException(Exception ex) {\n                ex.printStackTrace();\n            }\n            @Override\n            public void onDeletionNotice(StatusDeletionNotice statusDeletionNotice) {\n                // TODO Auto-generated method stub\n                \n            }\n            @Override\n            public void onStallWarning(StallWarning warning) {\n                // TODO Auto-generated method stub\n                \n            }\n        };\n        TwitterStream twitterStream = Twitter.newBuilder()\n                .listener(listener).build().v1().stream();\n        return twitterStream.sample();\n    \n    }\n}\n</code></pre>\n<p><strong>2. Configuration class</strong></p>\n<pre><code>@SpringBootConfiguration\n@EnableAsync\npublic class AsyncConfiguration {\n\n    private static final Logger LOGGER = LoggerFactory.getLogger(AsyncConfiguration.class);\n\n    @Bean(name = &quot;taskExecutor&quot;)\n    public Executor taskExecutor() {\n        LOGGER.debug(&quot;Creating Async Task Executor&quot;);\n        final ThreadPoolTaskExecutor executor = new ThreadPoolTaskExecutor();\n        executor.setCorePoolSize(2);\n        executor.setMaxPoolSize(2);\n        executor.setQueueCapacity(100);\n        executor.setThreadNamePrefix(&quot;CarThread-&quot;);\n        executor.initialize();\n        return executor;\n    }\n}\n</code></pre>\n<p><strong>3. Maven dependency</strong></p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.twitter4j&lt;/groupId&gt;\n        &lt;artifactId&gt;twitter4j-core&lt;/artifactId&gt;\n        &lt;version&gt;4.1.1&lt;/version&gt;\n</code></pre>\n<p><strong>4. The last logs and the information about this issue are the following:</strong></p>\n<pre><code>2023-03-08 17:22:18.980  INFO 55335 --- [][initializing]] twitter4j.TwitterStreamImpl              : Establishing connection.\n2023-03-08 17:22:20.036  INFO 55335 --- [ing connection]] twitter4j.TwitterStreamImpl              : https://stream.twitter.com/1.1/statuses/sample.json?stall_warnings=true\nhttps://stream.twitter.com/1.1/statuses/sample.json?stall_warnings=true\nRelevant discussions can be found on the Internet at:\n    http://www.google.co.jp/search?q=ee74468e or\n    http://www.google.co.jp/search?q=9eaf216e\nTwitterException{exceptionCode=[ee74468e-9eaf216e 69215812-3735082c 69215812-3735081d], statusCode=-1, message=null, code=-1, retryAfter=-1, rateLimitStatus=null, version=4.1.1}\n    at twitter4j.HttpClient.handleRequest(HttpClient.java:191)\n    at twitter4j.HttpClient.request(HttpClient.java:72)\n    at twitter4j.HttpClient.get(HttpClient.java:279)\n    at twitter4j.TwitterStreamImpl.getSampleStream(TwitterStreamImpl.java:209)\n    at twitter4j.TwitterStreamImpl$4.getStream(TwitterStreamImpl.java:180)\n    at twitter4j.TwitterStreamImpl$TwitterStreamConsumer.run(TwitterStreamImpl.java:387)\n2023-03-08 17:22:20.046  INFO 55335 --- [ing connection]] twitter4j.TwitterStreamImpl              : Waiting for 250 milliseconds\nCaused by: java.io.FileNotFoundException: https://stream.twitter.com/1.1/statuses/sample.json?stall_warnings=true\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\n    at java.base/sun.net.www.protocol.http.HttpURLConnection$10.run(HttpURLConnection.java:2048)\n    at java.base/sun.net.www.protocol.http.HttpURLConnection$10.run(HttpURLConnection.java:2043)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:569)\n    at java.base/sun.net.www.protocol.http.HttpURLConnection.getChainedException(HttpURLConnection.java:2042)\n    at java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1609)\n    at java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1589)\n    at java.base/sun.net.www.protocol.https.HttpsURLConnectionImpl.getInputStream(HttpsURLConnectionImpl.java:224)\n    at twitter4j.HttpResponse.&lt;init&gt;(HttpResponse.java:54)\n    at twitter4j.HttpClient.handleRequest(HttpClient.java:155)\n    ... 5 more\nCaused by: java.io.FileNotFoundException: https://stream.twitter.com/1.1/statuses/sample.json?stall_warnings=true\n    at java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1993)\n    at java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1589)\n    at java.base/java.net.HttpURLConnection.getResponseCode(HttpURLConnection.java:529)\n    at java.base/sun.net.www.protocol.https.HttpsURLConnectionImpl.getResponseCode(HttpsURLConnectionImpl.java:308)\n    at twitter4j.HttpResponse.&lt;init&gt;(HttpResponse.java:39)\n    ... 6 more\n</code></pre>\n<p>I am trying to use the twitter4j stream as it works a year ago</p>\n"},{"tags":["java","intellij-idea","plugins"],"answers":[{"tags":[],"owner":{"account_id":2706223,"reputation":3719,"user_id":2335775,"accept_rate":100,"display_name":"Vasyl Sarzhynskyi"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1496421627,"creation_date":1496421627,"answer_id":44333738,"question_id":44329121,"body_markdown":"if I understand you correctly, please try the following:   \r\nopen Preferences &gt;&gt; Keymap &gt;&gt; Plug-ins &gt;&gt; select your plug-in &gt;&gt; double click on plug-in&#39;s item &gt;&gt; Add Mouse shortcut &gt;&gt; save your right click option.","title":"How to add plugin item to IntelliJ IDEA context menu?","body":"<p>if I understand you correctly, please try the following:<br>\nopen Preferences >> Keymap >> Plug-ins >> select your plug-in >> double click on plug-in's item >> Add Mouse shortcut >> save your right click option.</p>\n"},{"tags":[],"owner":{"account_id":9600222,"reputation":774,"user_id":7128028,"display_name":"Sean K"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678297787,"creation_date":1678297787,"answer_id":75676532,"question_id":44329121,"body_markdown":"In the \\&lt;actions\\&gt; section of your plugin.xml, you need to register your action to that context menu (which happens to be called &quot;ProjectViewPopupMenu&quot;)\r\n\r\n        &lt;action id=&quot;com.example.someaction&quot; class=&quot;com.example.someaction&quot; text=&quot;Do Something&quot;\r\n                description=&quot;Does Something&quot;&gt;\r\n            &lt;add-to-group group-id=&quot;ProjectViewPopupMenu&quot; anchor=&quot;last&quot;/&gt;\r\n        &lt;/action&gt;\r\n\r\nAlso, when editing your action class, there is a helper action when your cursor is on an AnAction class name that isn&#39;t registered, which gives you a very nice UI to help you register your action and fill in the plugin.xml details for you, which includes a full listing of action groups to help you find the specific group you are looking for.","title":"How to add plugin item to IntelliJ IDEA context menu?","body":"<p>In the &lt;actions&gt; section of your plugin.xml, you need to register your action to that context menu (which happens to be called &quot;ProjectViewPopupMenu&quot;)</p>\n<pre><code>    &lt;action id=&quot;com.example.someaction&quot; class=&quot;com.example.someaction&quot; text=&quot;Do Something&quot;\n            description=&quot;Does Something&quot;&gt;\n        &lt;add-to-group group-id=&quot;ProjectViewPopupMenu&quot; anchor=&quot;last&quot;/&gt;\n    &lt;/action&gt;\n</code></pre>\n<p>Also, when editing your action class, there is a helper action when your cursor is on an AnAction class name that isn't registered, which gives you a very nice UI to help you register your action and fill in the plugin.xml details for you, which includes a full listing of action groups to help you find the specific group you are looking for.</p>\n"}],"owner":{"account_id":10626702,"reputation":1,"user_id":7826134,"display_name":"John Vahanyan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":637,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1678297787,"creation_date":1496406879,"question_id":44329121,"body_markdown":"I have written a plugin for **IntelliJ IDEA** . It works when I press **alt + insert** .\r\n\r\n[![works with alt + insert][1]][1]\r\n\r\n\r\nBut I want it to create icon in this menu ,so that I can run my plugin from here.\r\n\r\n[![I want to add somewhere here][2]][2]\r\n\r\nHow can I config it?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wZhbL.jpg\r\n  [2]: https://i.stack.imgur.com/5zDMs.jpg","title":"How to add plugin item to IntelliJ IDEA context menu?","body":"<p>I have written a plugin for <strong>IntelliJ IDEA</strong> . It works when I press <strong>alt + insert</strong> .</p>\n\n<p><a href=\"https://i.stack.imgur.com/wZhbL.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wZhbL.jpg\" alt=\"works with alt + insert\"></a></p>\n\n<p>But I want it to create icon in this menu ,so that I can run my plugin from here.</p>\n\n<p><a href=\"https://i.stack.imgur.com/5zDMs.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5zDMs.jpg\" alt=\"I want to add somewhere here\"></a></p>\n\n<p>How can I config it?</p>\n"},{"tags":["java","conditional-statements","conditional-operator"],"comments":[{"owner":{"account_id":2399479,"reputation":6729,"user_id":2097529,"accept_rate":76,"display_name":"Kick Buttowski"},"score":0,"creation_date":1386286746,"post_id":20413076,"comment_id":30486659,"body_markdown":"why do not you regular expression for that\n\nhttp://stackoverflow.com/questions/5034580/comparing-chars-in-java","body":"why do not you regular expression for that  <a href=\"http://stackoverflow.com/questions/5034580/comparing-chars-in-java\" title=\"comparing chars in java\">stackoverflow.com/questions/5034580/comparing-chars-in-java</a>"}],"answers":[{"tags":[],"owner":{"account_id":2159502,"reputation":2327,"user_id":1914005,"accept_rate":100,"display_name":"Vitruvie"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1386286724,"creation_date":1386286724,"answer_id":20413106,"question_id":20413076,"body_markdown":"Just use the char primitive:\r\n\r\n    if (command.charAt(index) == &#39;[&#39;){ //Note the single quotes; double quotes won&#39;t work\r\nProduces much clearer code and always works.","title":"Java special character in conditional check","body":"<p>Just use the char primitive:</p>\n\n<pre><code>if (command.charAt(index) == '['){ //Note the single quotes; double quotes won't work\n</code></pre>\n\n<p>Produces much clearer code and always works.</p>\n"},{"tags":[],"owner":{"account_id":36759,"reputation":38034,"user_id":104950,"accept_rate":93,"display_name":"Amir Afghani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1386287258,"creation_date":1386287258,"answer_id":20413210,"question_id":20413076,"body_markdown":"Try running this experiment:\r\n\r\n    public class Test {\r\n        public static void main(String[] args) {\r\n            System.out.println(Character.getNumericValue(&#39;[&#39;));\r\n        }\r\n    }\r\n\r\nand notice that it returns -1.\r\n\r\nFrom the API:\r\n\r\n&gt; Returns: the numeric value of the character, as a nonnegative int\r\n&gt; value; -2 if the character has a numeric value that is not a\r\n&gt; nonnegative integer; -1 if the character has no numeric value.\r\n\r\nSo the correct way to do this is \r\n\r\n`command.charAt(index) == &#39;[&#39;` as has been pointed out.","title":"Java special character in conditional check","body":"<p>Try running this experiment:</p>\n\n<pre><code>public class Test {\n    public static void main(String[] args) {\n        System.out.println(Character.getNumericValue('['));\n    }\n}\n</code></pre>\n\n<p>and notice that it returns -1.</p>\n\n<p>From the API:</p>\n\n<blockquote>\n  <p>Returns: the numeric value of the character, as a nonnegative int\n  value; -2 if the character has a numeric value that is not a\n  nonnegative integer; -1 if the character has no numeric value.</p>\n</blockquote>\n\n<p>So the correct way to do this is </p>\n\n<p><code>command.charAt(index) == '['</code> as has been pointed out.</p>\n"}],"owner":{"account_id":2435370,"reputation":925,"user_id":2125416,"accept_rate":69,"display_name":"Son of a Sailor"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":151,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":20413106,"answer_count":2,"score":1,"last_activity_date":1678297524,"creation_date":1386286576,"question_id":20413076,"body_markdown":"I have some lines of code that check for brackets in a string.  \r\n\r\n    while (index &lt;= command.length()-1 &amp;&amp; done == false) {\r\n        if (command.charAt(index) == 123) { // ASCII value for open bracket\r\n            braces++;\r\n            token = token + command.charAt(index);\r\n            index++;\r\n        } else if (command.charAt(index) == 125) {\r\n            braces--;\r\n            token = token + command.charAt(index);\r\n            index++;\r\n        } else if (braces &gt; 0) {\r\n            if (command.charAt(index) &gt; 47 &amp;&amp; command.charAt(index) &lt; 58 || command.charAt(index) &gt; 64 &amp;&amp; command.charAt(index) &lt; 123) {\r\n                token = token + command.charAt(index);\r\n                index++;\r\n            } else \r\n                index++;\r\n        } else if (braces == 0) {\r\n            if (command.charAt(index) &gt; 47 &amp;&amp; command.charAt(index) &lt; 58) {\r\n                token = token + command.charAt(index);\r\n                index++;\r\n                if (command.charAt(index) == 123)\r\n                    done = true;\r\n                } else {\r\n                    index++;\r\n                    done = true;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nThe issue I have is with this line: `if (command.charAt(index) == 123)`   \r\n\r\nUsing the ASCII values for checking for a-Z and 0-9 worked perfectly, but when I step through the debugger, the conditional for the brackets fail every time.  \r\n\r\nIs it illegal to use conditional checking like this?","title":"Java special character in conditional check","body":"<p>I have some lines of code that check for brackets in a string.</p>\n<pre><code>while (index &lt;= command.length()-1 &amp;&amp; done == false) {\n    if (command.charAt(index) == 123) { // ASCII value for open bracket\n        braces++;\n        token = token + command.charAt(index);\n        index++;\n    } else if (command.charAt(index) == 125) {\n        braces--;\n        token = token + command.charAt(index);\n        index++;\n    } else if (braces &gt; 0) {\n        if (command.charAt(index) &gt; 47 &amp;&amp; command.charAt(index) &lt; 58 || command.charAt(index) &gt; 64 &amp;&amp; command.charAt(index) &lt; 123) {\n            token = token + command.charAt(index);\n            index++;\n        } else \n            index++;\n    } else if (braces == 0) {\n        if (command.charAt(index) &gt; 47 &amp;&amp; command.charAt(index) &lt; 58) {\n            token = token + command.charAt(index);\n            index++;\n            if (command.charAt(index) == 123)\n                done = true;\n            } else {\n                index++;\n                done = true;\n            }\n        }\n    }\n}\n</code></pre>\n<p>The issue I have is with this line: <code>if (command.charAt(index) == 123)</code></p>\n<p>Using the ASCII values for checking for a-Z and 0-9 worked perfectly, but when I step through the debugger, the conditional for the brackets fail every time.</p>\n<p>Is it illegal to use conditional checking like this?</p>\n"},{"tags":["java","tomcat","grails","character-encoding","gsp"],"answers":[{"tags":[],"owner":{"account_id":1062540,"reputation":123,"user_id":8215811,"display_name":"ionised"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678297366,"creation_date":1678297366,"answer_id":75676459,"question_id":75673595,"body_markdown":"Answered my own question.\r\n\r\nMy particular issue is related to RenderTagLib encoding, and the behaviour seems to differ between local/dev execution and other environments (like production) like I found in this other question (unfortunately after I had spent days searching for a solution, ultimately successfully):\r\n\r\nhttps://stackoverflow.com/questions/67244682/grails-gsp-expressions-encoded-only-in-production\r\n\r\nAnyway, in dev the application worked as expected and \r\n\r\n    g.render(template: template, model: model)\r\n\r\nworked as expected. However in TEST/PROD environments this same function would return a character stream that was full of escape sequences.\r\n\r\nThe solution was to call the method like so:\r\n\r\n    g.render(template: template, model: model, encodeAs: &#39;raw&#39;)\r\n\r\nwhich gave me the desired behaviour in any environment. Initially I tried this, unsuccessfully:\r\n\r\n    views:\r\n        default:\r\n            codec: none # none, html, base64\r\n        gsp:\r\n            encoding: UTF-8\r\n            codecs:\r\n                taglib: raw   \r\n\r\nWhich did fix part of my application, but was too broad a solution and broke other things.\r\n\r\nThe first example I gave above `g.render(encodeAs: &#39;raw&#39;)` needed to be used selectively.\r\n\r\nAgain, very annoying that this behaviour changes when non-dev profiles are used. I couldn&#39;t find any documentation explaining it either.\r\n","title":"Grails TagLib encoding different when running on Tomcat 9","body":"<p>Answered my own question.</p>\n<p>My particular issue is related to RenderTagLib encoding, and the behaviour seems to differ between local/dev execution and other environments (like production) like I found in this other question (unfortunately after I had spent days searching for a solution, ultimately successfully):</p>\n<p><a href=\"https://stackoverflow.com/questions/67244682/grails-gsp-expressions-encoded-only-in-production\">Grails GSP expressions encoded only in production</a></p>\n<p>Anyway, in dev the application worked as expected and</p>\n<pre><code>g.render(template: template, model: model)\n</code></pre>\n<p>worked as expected. However in TEST/PROD environments this same function would return a character stream that was full of escape sequences.</p>\n<p>The solution was to call the method like so:</p>\n<pre><code>g.render(template: template, model: model, encodeAs: 'raw')\n</code></pre>\n<p>which gave me the desired behaviour in any environment. Initially I tried this, unsuccessfully:</p>\n<pre><code>views:\n    default:\n        codec: none # none, html, base64\n    gsp:\n        encoding: UTF-8\n        codecs:\n            taglib: raw   \n</code></pre>\n<p>Which did fix part of my application, but was too broad a solution and broke other things.</p>\n<p>The first example I gave above <code>g.render(encodeAs: 'raw')</code> needed to be used selectively.</p>\n<p>Again, very annoying that this behaviour changes when non-dev profiles are used. I couldn't find any documentation explaining it either.</p>\n"}],"owner":{"account_id":1062540,"reputation":123,"user_id":8215811,"display_name":"ionised"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678297366,"creation_date":1678281672,"question_id":75673595,"body_markdown":"\r\n\r\nI&#39;ve recently upgraded a Grails 2 application to Grails 5 and have one outstanding problem before I&#39;m ready to put this into our test environment.\r\n\r\nWe call the\r\n\r\n    g.render(template: template, model: model)\r\n\r\nmethod where the template is just a string reference to a GSP, and the model is a `Map&lt;String, String&gt;` that is used to populate that GSP.\r\n\r\nBehaviour differs between local run-app (in IntelliJ IDEA) and Tomcat 9 on Ubuntu, in a way that breaks the view referenced in template.\r\n\r\nThe crux of the matter is; given the exact same inputs to the `g.render()` method, the outputs differ like:\r\n\r\nIntelliJ IDEA run-app:\r\n\r\n    &#39;EUR (MSRP: 85.34, Range from 79.90 - 106.90, Avg.: 88.94)&#39;\r\n\r\nTomcat 9:\r\n\r\n    &#39;EUR \\u0028MSRP: 85.34\\u002c Range from 79.90 - 106.90\\u002c Avg.: 88.94\\u0029&#39;\r\n\r\nThere is obviously some character encoding issue going on, but I&#39;m not sure how to override the behaviour of Tomcat or the deployed WAR to make `g.render()` consistent with local `grails run-app`.\r\n\r\nWe already have this config in our Grails 5 YML:\r\n\r\n        views:\r\n            default:\r\n                codec: none # none, html, base64\r\n            gsp:\r\n                encoding: UTF-8\r\n                codecs:\r\n                    expression: none\r\n                    scriptlet: none\r\n                    taglib: none\r\n                    staticparts: none\r\n\r\nWhat could be the reason for this change in behaviour when running under Tomcat?\r\n\r\nThanks in advance for any suggestions.\r\n","title":"Grails TagLib encoding different when running on Tomcat 9","body":"<p>I've recently upgraded a Grails 2 application to Grails 5 and have one outstanding problem before I'm ready to put this into our test environment.</p>\n<p>We call the</p>\n<pre><code>g.render(template: template, model: model)\n</code></pre>\n<p>method where the template is just a string reference to a GSP, and the model is a <code>Map&lt;String, String&gt;</code> that is used to populate that GSP.</p>\n<p>Behaviour differs between local run-app (in IntelliJ IDEA) and Tomcat 9 on Ubuntu, in a way that breaks the view referenced in template.</p>\n<p>The crux of the matter is; given the exact same inputs to the <code>g.render()</code> method, the outputs differ like:</p>\n<p>IntelliJ IDEA run-app:</p>\n<pre><code>'EUR (MSRP: 85.34, Range from 79.90 - 106.90, Avg.: 88.94)'\n</code></pre>\n<p>Tomcat 9:</p>\n<pre><code>'EUR \\u0028MSRP: 85.34\\u002c Range from 79.90 - 106.90\\u002c Avg.: 88.94\\u0029'\n</code></pre>\n<p>There is obviously some character encoding issue going on, but I'm not sure how to override the behaviour of Tomcat or the deployed WAR to make <code>g.render()</code> consistent with local <code>grails run-app</code>.</p>\n<p>We already have this config in our Grails 5 YML:</p>\n<pre><code>    views:\n        default:\n            codec: none # none, html, base64\n        gsp:\n            encoding: UTF-8\n            codecs:\n                expression: none\n                scriptlet: none\n                taglib: none\n                staticparts: none\n</code></pre>\n<p>What could be the reason for this change in behaviour when running under Tomcat?</p>\n<p>Thanks in advance for any suggestions.</p>\n"},{"tags":["java","android","kotlin","web","webview"],"answers":[{"tags":[],"owner":{"account_id":14727726,"reputation":16,"user_id":10636070,"display_name":"Alireza Khosroabadi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678294930,"creation_date":1678294930,"answer_id":75676046,"question_id":75675936,"body_markdown":"Before\r\n     `getSupportActionBar().hide()`\r\nyou should call\r\n `setSupportActionBar()`\r\n\r\nBecause `getSupportActionBar()` is Null by default and you couldn&#39;t call `hide()` and it throws NullPointerException","title":"How to fix APP has stopped in android studio","body":"<p>Before\n<code>getSupportActionBar().hide()</code>\nyou should call\n<code>setSupportActionBar()</code></p>\n<p>Because <code>getSupportActionBar()</code> is Null by default and you couldn't call <code>hide()</code> and it throws NullPointerException</p>\n"},{"tags":[],"owner":{"account_id":19682641,"reputation":80,"user_id":14409408,"display_name":"Lookyus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678297363,"creation_date":1678297363,"answer_id":75676458,"question_id":75675936,"body_markdown":"I think you could be using NoActionBar theme. Check that and if your theme is NoActionBar then you don’t need to call `getSupportActionBar()`","title":"How to fix APP has stopped in android studio","body":"<p>I think you could be using NoActionBar theme. Check that and if your theme is NoActionBar then you don’t need to call <code>getSupportActionBar()</code></p>\n"}],"owner":{"account_id":19362870,"reputation":3,"user_id":14157804,"display_name":"Khalfan Mohamed"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75676458,"answer_count":2,"score":-1,"last_activity_date":1678297363,"creation_date":1678294256,"question_id":75675936,"body_markdown":"I have been creating a webView APP using Android Studio, I have tried building the project, the build ends up successful, but when I try running the APP via an emulator the APP crashes, Bun when I click on run to see what happens I get this error\r\n\r\n    E/AndroidRuntime: FATAL EXCEPTION: main\r\n        Process: com.newvemo.newvemo, PID: 4628\r\n        java.lang.RuntimeException: Unable to start activity ComponentInfo{com.newvemo.newvemo/com.newvemo.newvemo.SplashActivity}: java.lang.NullPointerException: Attempt to invoke virtual method &#39;void androidx.appcompat.app.ActionBar.hide()&#39; on a null object reference\r\n            at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2817)\r\n            at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2892)\r\n            at android.app.ActivityThread.-wrap11(Unknown Source:0)\r\n            at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1593)\r\n            at android.os.Handler.dispatchMessage(Handler.java:105)\r\n            at android.os.Looper.loop(Looper.java:164)\r\n            at android.app.ActivityThread.main(ActivityThread.java:6541)\r\n            at java.lang.reflect.Method.invoke(Native Method)\r\n            at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:240)\r\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:767)\r\n         Caused by: java.lang.NullPointerException: Attempt to invoke virtual method &#39;void androidx.appcompat.app.ActionBar.hide()&#39; on a null object reference\r\n            at com.newvemo.newvemo.SplashActivity.onCreate(SplashActivity.java:19)\r\n            at android.app.Activity.performCreate(Activity.java:6975)\r\n            at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1213)\r\n            at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2770)\r\n            at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2892)&#160;\r\n            at android.app.ActivityThread.-wrap11(Unknown Source:0)&#160;\r\n            at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1593)&#160;\r\n            at android.os.Handler.dispatchMessage(Handler.java:105)&#160;\r\n            at android.os.Looper.loop(Looper.java:164)&#160;\r\n            at android.app.ActivityThread.main(ActivityThread.java:6541)&#160;\r\n            at java.lang.reflect.Method.invoke(Native Method)&#160;\r\n            at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:240)&#160;\r\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:767)&#160;\r\n\r\nMore Specific the error is\r\n\r\n      Caused by: java.lang.NullPointerException: Attempt to invoke virtual method &#39;void androidx.appcompat.app.ActionBar.hide()&#39; on a null object reference\r\n            at com.newvemo.newvemo.SplashActivity.onCreate(SplashActivity.java:19)\r\n\r\nHere is my SplashScreen.java\r\n\r\n    package com.newvemo.newvemo;\r\n    \r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    \r\n    import android.content.Intent;\r\n    import android.os.Bundle;\r\n    import android.view.Window;\r\n    import android.view.WindowManager;\r\n    \r\n    public class SplashActivity extends AppCompatActivity {\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            Window window = getWindow();\r\n            window.addFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN);\r\n            getSupportActionBar().hide();\r\n            setContentView(R.layout.activity_splash);\r\n    \r\n            Thread splashThread = new Thread(){\r\n                @Override\r\n                public void run() {\r\n                    try {\r\n                        sleep(300);\r\n                        startActivity(new Intent(getApplicationContext(),MainActivity.class));\r\n                        finish();\r\n                    } catch (InterruptedException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n            };\r\n            splashThread.start();\r\n        }\r\n    }\r\nHere is the AndroidManifest.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        package=&quot;com.newvemo.newvemo&quot;&gt;\r\n    \r\n        &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.CAMERA&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\r\n    \r\n        &lt;application\r\n            android:allowBackup=&quot;true&quot;\r\n            android:icon=&quot;@mipmap/ic_launcher&quot;\r\n            android:label=&quot;@string/app_name&quot;\r\n            android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n            android:supportsRtl=&quot;true&quot;\r\n            android:theme=&quot;@style/AppTheme&quot;&gt;\r\n            &lt;activity android:name=&quot;.MainActivity&quot;&gt;&lt;/activity&gt;\r\n            &lt;activity android:name=&quot;.SplashActivity&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n    \r\n                    &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/activity&gt;\r\n        &lt;/application&gt;\r\n    \r\n    &lt;/manifest&gt;\r\n\r\nAnd here is the activity_splash.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        tools:context=&quot;.SplashActivity&quot;&gt;\r\n    \r\n        &lt;ImageView\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;363dp&quot;\r\n            android:scaleType=&quot;centerCrop&quot;\r\n            android:src=&quot;@drawable/splash_logo&quot;\r\n            android:padding=&quot;50dp&quot;\r\n            android:layout_marginTop=&quot;30dp&quot;/&gt;\r\n    \r\n        &lt;ProgressBar\r\n            android:layout_width=&quot;220dp&quot;\r\n            android:layout_height=&quot;10dp&quot;\r\n            android:layout_gravity=&quot;center_horizontal&quot;\r\n            style=&quot;?android:attr/progressBarStyleHorizontal&quot;\r\n            android:max=&quot;100&quot;\r\n            android:indeterminate=&quot;true&quot;\r\n            android:progress=&quot;0&quot;\r\n            android:layout_marginTop=&quot;150dp&quot;\r\n            /&gt;\r\n    \r\n    &lt;/LinearLayout&gt;\r\n\r\nI tried the followings but still a problem persists\r\n1. Invalidate and Restart\r\n2. Commenting `getSupportActionBar().hide();`\r\n\r\nHelp me how to solve such scenario so that my app runs well","title":"How to fix APP has stopped in android studio","body":"<p>I have been creating a webView APP using Android Studio, I have tried building the project, the build ends up successful, but when I try running the APP via an emulator the APP crashes, Bun when I click on run to see what happens I get this error</p>\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.newvemo.newvemo, PID: 4628\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.newvemo.newvemo/com.newvemo.newvemo.SplashActivity}: java.lang.NullPointerException: Attempt to invoke virtual method 'void androidx.appcompat.app.ActionBar.hide()' on a null object reference\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2817)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2892)\n        at android.app.ActivityThread.-wrap11(Unknown Source:0)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1593)\n        at android.os.Handler.dispatchMessage(Handler.java:105)\n        at android.os.Looper.loop(Looper.java:164)\n        at android.app.ActivityThread.main(ActivityThread.java:6541)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:240)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:767)\n     Caused by: java.lang.NullPointerException: Attempt to invoke virtual method 'void androidx.appcompat.app.ActionBar.hide()' on a null object reference\n        at com.newvemo.newvemo.SplashActivity.onCreate(SplashActivity.java:19)\n        at android.app.Activity.performCreate(Activity.java:6975)\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1213)\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2770)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2892) \n        at android.app.ActivityThread.-wrap11(Unknown Source:0) \n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1593) \n        at android.os.Handler.dispatchMessage(Handler.java:105) \n        at android.os.Looper.loop(Looper.java:164) \n        at android.app.ActivityThread.main(ActivityThread.java:6541) \n        at java.lang.reflect.Method.invoke(Native Method) \n        at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:240) \n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:767) \n</code></pre>\n<p>More Specific the error is</p>\n<pre><code>  Caused by: java.lang.NullPointerException: Attempt to invoke virtual method 'void androidx.appcompat.app.ActionBar.hide()' on a null object reference\n        at com.newvemo.newvemo.SplashActivity.onCreate(SplashActivity.java:19)\n</code></pre>\n<p>Here is my SplashScreen.java</p>\n<pre><code>package com.newvemo.newvemo;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.view.Window;\nimport android.view.WindowManager;\n\npublic class SplashActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        Window window = getWindow();\n        window.addFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN);\n        getSupportActionBar().hide();\n        setContentView(R.layout.activity_splash);\n\n        Thread splashThread = new Thread(){\n            @Override\n            public void run() {\n                try {\n                    sleep(300);\n                    startActivity(new Intent(getApplicationContext(),MainActivity.class));\n                    finish();\n                } catch (InterruptedException e) {\n                    e.printStackTrace();\n                }\n            }\n        };\n        splashThread.start();\n    }\n}\n</code></pre>\n<p>Here is the AndroidManifest.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    package=&quot;com.newvemo.newvemo&quot;&gt;\n\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.CAMERA&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\n\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/AppTheme&quot;&gt;\n        &lt;activity android:name=&quot;.MainActivity&quot;&gt;&lt;/activity&gt;\n        &lt;activity android:name=&quot;.SplashActivity&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n<p>And here is the activity_splash.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:orientation=&quot;vertical&quot;\n    tools:context=&quot;.SplashActivity&quot;&gt;\n\n    &lt;ImageView\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;363dp&quot;\n        android:scaleType=&quot;centerCrop&quot;\n        android:src=&quot;@drawable/splash_logo&quot;\n        android:padding=&quot;50dp&quot;\n        android:layout_marginTop=&quot;30dp&quot;/&gt;\n\n    &lt;ProgressBar\n        android:layout_width=&quot;220dp&quot;\n        android:layout_height=&quot;10dp&quot;\n        android:layout_gravity=&quot;center_horizontal&quot;\n        style=&quot;?android:attr/progressBarStyleHorizontal&quot;\n        android:max=&quot;100&quot;\n        android:indeterminate=&quot;true&quot;\n        android:progress=&quot;0&quot;\n        android:layout_marginTop=&quot;150dp&quot;\n        /&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n<p>I tried the followings but still a problem persists</p>\n<ol>\n<li>Invalidate and Restart</li>\n<li>Commenting <code>getSupportActionBar().hide();</code></li>\n</ol>\n<p>Help me how to solve such scenario so that my app runs well</p>\n"},{"tags":["java","postgresql","spring-boot","docker"],"comments":[{"owner":{"account_id":6951632,"reputation":289,"user_id":5334094,"display_name":"Lo&#239;c Madi&#232;s"},"score":0,"creation_date":1678143083,"post_id":75656524,"comment_id":133473194,"body_markdown":"Did you tried to put the image name of your DB instead of localhost? It should work between docker images","body":"Did you tried to put the image name of your DB instead of localhost? It should work between docker images"},{"owner":{"account_id":18094858,"reputation":23,"user_id":14326167,"display_name":"Daviel S&#225;nchez"},"score":0,"creation_date":1678145104,"post_id":75656524,"comment_id":133473534,"body_markdown":"not work. I try with the name of image..\n\nspring:\n  main:\n    banner-mode: off\n  datasource:\n    url: jdbc:postgresql://materia_postgres_1:5432/materia\n\nFor get the name of image, i use &quot;docker ps -a&quot; and the last columns is the name. It&#39;s ok?","body":"not work. I try with the name of image..  spring:   main:     banner-mode: off   datasource:     url: jdbc:postgresql://materia_postgres_1:5432/materia  For get the name of image, i use &quot;docker ps -a&quot; and the last columns is the name. It&#39;s ok?"},{"owner":{"account_id":13863020,"reputation":137023,"user_id":10008173,"display_name":"David Maze"},"score":1,"creation_date":1678152529,"post_id":75656524,"comment_id":133474578,"body_markdown":"For similar questions, it&#39;s been useful to know the connection string, which parts are running in containers, and how you started the containers involved.  Please search for similar questions, though: basic database connectivity questions come up very often, and the database connection string will be different if both the application and database are running in containers.","body":"For similar questions, it&#39;s been useful to know the connection string, which parts are running in containers, and how you started the containers involved.  Please search for similar questions, though: basic database connectivity questions come up very often, and the database connection string will be different if both the application and database are running in containers."},{"owner":{"account_id":14429279,"reputation":130,"user_id":10423076,"display_name":"Govil Kumar"},"score":0,"creation_date":1678176868,"post_id":75656524,"comment_id":133478093,"body_markdown":"Share your property file, please and the dockerfile.","body":"Share your property file, please and the dockerfile."},{"owner":{"account_id":18094858,"reputation":23,"user_id":14326167,"display_name":"Daviel S&#225;nchez"},"score":0,"creation_date":1678185579,"post_id":75656524,"comment_id":133480513,"body_markdown":"I had update the message with dockerfile and docker-compose.yml content","body":"I had update the message with dockerfile and docker-compose.yml content"},{"owner":{"account_id":195169,"reputation":2946,"user_id":1128593,"display_name":"David Jones"},"score":0,"creation_date":1678297661,"post_id":75656524,"comment_id":133506890,"body_markdown":"@DavielS&#225;nchez Are you using the name of the _service_ in your jdbc connection string, which in this case is `postgres`?","body":"@DavielS&#225;nchez Are you using the name of the <i>service</i> in your jdbc connection string, which in this case is <code>postgres</code>?"},{"owner":{"account_id":18094858,"reputation":23,"user_id":14326167,"display_name":"Daviel S&#225;nchez"},"score":0,"creation_date":1678355880,"post_id":75656524,"comment_id":133517707,"body_markdown":"in this case is ... nameofproject_postgres_1","body":"in this case is ... nameofproject_postgres_1"}],"owner":{"account_id":18094858,"reputation":23,"user_id":14326167,"display_name":"Daviel S&#225;nchez"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":143,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678296879,"creation_date":1678142743,"question_id":75656524,"body_markdown":"i have a Little question/issue. I have one api created with springboot, and this little app use a postgress db, when I try to put in a docker the java application, I receive the next error:\r\n\r\n&gt; 2023-03-06 17:23:55,369 ERROR com.zaxxer.hikari.pool.HikariPool : BackendHikariPool - Exception during pool initialization.\r\n&gt; org.postgresql.util.PSQLException: The connection attempt failed.\r\n&gt; at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:331)\r\n&gt; at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:49)\r\n&gt; at org.postgresql.jdbc.PgConnection.&lt;init&gt;(PgConnection.java:223)\r\n&gt; at org.postgresql.Driver.makeConnection(Driver.java:402)\r\n&gt; at org.postgresql.Driver.connect(Driver.java:261)\r\n&gt; at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)\r\n&gt; at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364)\r\n&gt; at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206)\r\n&gt; at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476)\r\n&gt; at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)\r\n&gt; at com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:115)\r\n&gt; at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)\r\n&gt; at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:266)\r\n\r\nI review all de logic and stuff, and i think is connection problem. The database is another image running in docker. From the local machine I can connect using localhost, or the IP assigned in the docker network, but from another docker image (java) when try to run, always receive that error\r\n\r\n\r\n\r\nI review all de logic and stuff, and i think is connection problem. The database is another image running in docker. From the local machine I can connect using localhost, or the IP assigned in the docker network, but from another docker image (java) when try to run, always receive that error\r\n\r\n\r\nUpdated:\r\n\r\n  Dockerfile\r\n\r\n    FROM openjdk:17-jdk-slim \r\n    ADD target/fitness-0.0.1-SNAPSHOT.jar app.jar\r\n    ENTRYPOINT [&quot;java&quot;, &quot;-jar&quot;, &quot;app.jar&quot;]\r\n\r\nDatabase and another services\r\ndocker-compose.yml\r\n\r\n    version: &#39;3.1&#39;\r\n    services:\r\n      postgres:\r\n        image: &#39;postgres:12-alpine&#39;\r\n        ports:\r\n          - &quot;5432:5432&quot;\r\n        environment:\r\n          POSTGRES_USER: myuser\r\n          POSTGRES_PASSWORD: mypassword\r\n          POSTGRES_DB: fitness\r\n        volumes:\r\n          - &#39;postgres_data:/var/lib/postgresql/data&#39;\r\n      localstack:\r\n        image: &#39;localstack/localstack:0.12.14&#39;\r\n        ports:\r\n          - &quot;4566:4566&quot;\r\n        environment:\r\n          - DEFAULT_REGION=eu-central-1\r\n          - SERVICES=sqs\r\n          - DATA_DIR=/tmp/localstack/data\r\n          - DOCKER_HOST=unix:///var/run/docker.sock\r\n        volumes:\r\n          - /tmp/localstack:/tmp/localstack\r\n          - ./config/localstack/sqs/setup-local-env.sh:/docker-entrypoint-initaws.d/setup-local-env.sh\r\n    \r\n    volumes:\r\n      postgres_data:\r\n      localstack_data:","title":"Docker springboot + postgresql","body":"<p>i have a Little question/issue. I have one api created with springboot, and this little app use a postgress db, when I try to put in a docker the java application, I receive the next error:</p>\n<blockquote>\n<p>2023-03-06 17:23:55,369 ERROR com.zaxxer.hikari.pool.HikariPool : BackendHikariPool - Exception during pool initialization.\norg.postgresql.util.PSQLException: The connection attempt failed.\nat org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:331)\nat org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:49)\nat org.postgresql.jdbc.PgConnection.(PgConnection.java:223)\nat org.postgresql.Driver.makeConnection(Driver.java:402)\nat org.postgresql.Driver.connect(Driver.java:261)\nat com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)\nat com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364)\nat com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206)\nat com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476)\nat com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)\nat com.zaxxer.hikari.pool.HikariPool.(HikariPool.java:115)\nat com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)\nat liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:266)</p>\n</blockquote>\n<p>I review all de logic and stuff, and i think is connection problem. The database is another image running in docker. From the local machine I can connect using localhost, or the IP assigned in the docker network, but from another docker image (java) when try to run, always receive that error</p>\n<p>I review all de logic and stuff, and i think is connection problem. The database is another image running in docker. From the local machine I can connect using localhost, or the IP assigned in the docker network, but from another docker image (java) when try to run, always receive that error</p>\n<p>Updated:</p>\n<p>Dockerfile</p>\n<pre><code>FROM openjdk:17-jdk-slim \nADD target/fitness-0.0.1-SNAPSHOT.jar app.jar\nENTRYPOINT [&quot;java&quot;, &quot;-jar&quot;, &quot;app.jar&quot;]\n</code></pre>\n<p>Database and another services\ndocker-compose.yml</p>\n<pre><code>version: '3.1'\nservices:\n  postgres:\n    image: 'postgres:12-alpine'\n    ports:\n      - &quot;5432:5432&quot;\n    environment:\n      POSTGRES_USER: myuser\n      POSTGRES_PASSWORD: mypassword\n      POSTGRES_DB: fitness\n    volumes:\n      - 'postgres_data:/var/lib/postgresql/data'\n  localstack:\n    image: 'localstack/localstack:0.12.14'\n    ports:\n      - &quot;4566:4566&quot;\n    environment:\n      - DEFAULT_REGION=eu-central-1\n      - SERVICES=sqs\n      - DATA_DIR=/tmp/localstack/data\n      - DOCKER_HOST=unix:///var/run/docker.sock\n    volumes:\n      - /tmp/localstack:/tmp/localstack\n      - ./config/localstack/sqs/setup-local-env.sh:/docker-entrypoint-initaws.d/setup-local-env.sh\n\nvolumes:\n  postgres_data:\n  localstack_data:\n</code></pre>\n"},{"tags":["java","amazon-web-services","spring-boot","docker","amazon-sqs"],"comments":[{"owner":{"account_id":1674328,"reputation":2652,"user_id":1540177,"display_name":"grekier"},"score":0,"creation_date":1678302416,"post_id":75676356,"comment_id":133508091,"body_markdown":"I think your end-point.uri is wrong. It should be something like `https://sqs.us-central-1.amazonaws.com/&lt;some id&gt;/&lt;queue name&gt;`","body":"I think your end-point.uri is wrong. It should be something like <code>https:&#47;&#47;sqs.us-central-1.amazonaws.com&#47;&lt;some id&gt;&#47;&lt;queue name&gt;</code>"},{"owner":{"account_id":18094858,"reputation":23,"user_id":14326167,"display_name":"Daviel S&#225;nchez"},"score":0,"creation_date":1678383579,"post_id":75676356,"comment_id":133526283,"body_markdown":"I try with your recommendations and have the same error. In my local computer work very fine (using IntelijIDEA with docker). In this machine, this case i try to use a localstack with a machine for dev enviroments","body":"I try with your recommendations and have the same error. In my local computer work very fine (using IntelijIDEA with docker). In this machine, this case i try to use a localstack with a machine for dev enviroments"}],"owner":{"account_id":18094858,"reputation":23,"user_id":14326167,"display_name":"Daviel S&#225;nchez"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678296764,"creation_date":1678296764,"question_id":75676356,"body_markdown":"I have a api in docker, and when i try to run the docker always get the next error:\r\n\r\n\r\n```\r\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;taxesController&#39; defined in URL [jar:file:/app.jar!/BOOT-INF/classes!/com/xxxxxx/xxxxx/fitness/taxes/rest/XxxxxController.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;taxesService&#39; defined in URL [jar:file:/app.jar!/BOOT-INF/classes!/com/xxxxxx/xxxxxxx/fitness/xxxxxxxx/service/XxxxxxService.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;historyService&#39; defined in URL [jar:file:/app.jar!/BOOT-INF/classes!/com/xxxxxx/xxxxxxx/fitness/xxxxxxx/service/XxxxxxService.class]: Unsatisfied dependency expressed through constructor parameter 1; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;SQSProducerService&#39; defined in URL [jar:file:/app.jar!/BOOT-INF/classes!/com/xxxxxx/xxxxxx/fitness/sqs/service/SQSProducerService.class]: Unsatisfied dependency expressed through constructor parameter 1; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;amazonSQSAsync&#39; defined in class path resource [com/xxxxxxx/xxxxxxxxx/fitness/config/SQSConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.amazonaws.services.sqs.AmazonSQSAsync]: Factory method &#39;amazonSQSAsync&#39; threw exception; nested exception is java.lang.IllegalArgumentException: hostname cannot be null\r\n        at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800)\r\n        at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1372)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\r\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\r\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955)\r\n        at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)\r\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\r\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)\r\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)\r\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)\r\n        at com.xxxxx.xxxxx.xxxxx.FitnessApplication.main(FitnessApplication.java:22)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n        at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49)\r\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:108)\r\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:58)\r\n        at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:65)\r\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;taxesService&#39; defined in URL [jar:file:/app.jar!/BOOT-INF/classes!/com/xxxxx/xxxxxxxx/fitness/xxxxxx/service/XxxxxService.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;historyService&#39; defined in URL [jar:file:/app.jar!/BOOT-INF/classes!/com/xxxxxx/xxxxxxx/fitness/xxxxxxx/service/HistoryService.class]: Unsatisfied dependency expressed through constructor paramete\r\n```\r\n\r\nThat is my application.yml (I was tried with the name of image, with localhost, with the ip in network from docker...) \r\n\r\n```\r\ncloud:\r\n  aws:\r\n    stack:\r\n      auto: false\r\n    region:\r\n      static: eu-central-1\r\n    credentials:\r\n      access-key: MyAPIKEY\r\n      secret-key: MySecretKey\r\n    end-point:\r\n      uri: http://172.18.0.3:4566\r\nsqs:\r\n  history:\r\n    url: http://172.18.0.3:4566/000000000000/local_material_deportivo_fitness_history\r\n    name: local_fitness_history\r\n```\r\n\r\nI was tried with the name of image, with localhost, with the ip in network from docker... always got the same error. (sorry for my english)","title":"Issue with docker + springboot + aws sqs","body":"<p>I have a api in docker, and when i try to run the docker always get the next error:</p>\n<pre><code>org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'taxesController' defined in URL [jar:file:/app.jar!/BOOT-INF/classes!/com/xxxxxx/xxxxx/fitness/taxes/rest/XxxxxController.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'taxesService' defined in URL [jar:file:/app.jar!/BOOT-INF/classes!/com/xxxxxx/xxxxxxx/fitness/xxxxxxxx/service/XxxxxxService.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'historyService' defined in URL [jar:file:/app.jar!/BOOT-INF/classes!/com/xxxxxx/xxxxxxx/fitness/xxxxxxx/service/XxxxxxService.class]: Unsatisfied dependency expressed through constructor parameter 1; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'SQSProducerService' defined in URL [jar:file:/app.jar!/BOOT-INF/classes!/com/xxxxxx/xxxxxx/fitness/sqs/service/SQSProducerService.class]: Unsatisfied dependency expressed through constructor parameter 1; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'amazonSQSAsync' defined in class path resource [com/xxxxxxx/xxxxxxxxx/fitness/config/SQSConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.amazonaws.services.sqs.AmazonSQSAsync]: Factory method 'amazonSQSAsync' threw exception; nested exception is java.lang.IllegalArgumentException: hostname cannot be null\n        at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800)\n        at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1372)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955)\n        at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)\n        at com.xxxxx.xxxxx.xxxxx.FitnessApplication.main(FitnessApplication.java:22)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n        at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49)\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:108)\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:58)\n        at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:65)\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'taxesService' defined in URL [jar:file:/app.jar!/BOOT-INF/classes!/com/xxxxx/xxxxxxxx/fitness/xxxxxx/service/XxxxxService.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'historyService' defined in URL [jar:file:/app.jar!/BOOT-INF/classes!/com/xxxxxx/xxxxxxx/fitness/xxxxxxx/service/HistoryService.class]: Unsatisfied dependency expressed through constructor paramete\n</code></pre>\n<p>That is my application.yml (I was tried with the name of image, with localhost, with the ip in network from docker...)</p>\n<pre><code>cloud:\n  aws:\n    stack:\n      auto: false\n    region:\n      static: eu-central-1\n    credentials:\n      access-key: MyAPIKEY\n      secret-key: MySecretKey\n    end-point:\n      uri: http://172.18.0.3:4566\nsqs:\n  history:\n    url: http://172.18.0.3:4566/000000000000/local_material_deportivo_fitness_history\n    name: local_fitness_history\n</code></pre>\n<p>I was tried with the name of image, with localhost, with the ip in network from docker... always got the same error. (sorry for my english)</p>\n"},{"tags":["java","spring","postgresql","hibernate","dto"],"comments":[{"owner":{"account_id":10335627,"reputation":13845,"user_id":7623856,"display_name":"Belayer"},"score":0,"creation_date":1677696032,"post_id":75607086,"comment_id":133390730,"body_markdown":"Storing a list of products is a very poor design and additionally you **cannot** have that list defined as a FK  (relationship). You need to create another table something like sale_product where each row contains (sale_id,product_id). Search for and study *data normalization*.","body":"Storing a list of products is a very poor design and additionally you <b>cannot</b> have that list defined as a FK  (relationship). You need to create another table something like sale_product where each row contains (sale_id,product_id). Search for and study <i>data normalization</i>."},{"owner":{"account_id":24263775,"reputation":11,"user_id":18212993,"display_name":"Cristian Osorio"},"score":0,"creation_date":1677787059,"post_id":75607086,"comment_id":133411431,"body_markdown":"Whe I use the OneToMany annotation, spring automatically create a new table (sale_product) where is saved the sale_id and product_id. I made this relationship (sale_product) unidirectional, the problems is when I add the products to the sale and the save the sale (using saleRepository to update the database).","body":"Whe I use the OneToMany annotation, spring automatically create a new table (sale_product) where is saved the sale_id and product_id. I made this relationship (sale_product) unidirectional, the problems is when I add the products to the sale and the save the sale (using saleRepository to update the database)."}],"answers":[{"tags":[],"owner":{"account_id":24263775,"reputation":11,"user_id":18212993,"display_name":"Cristian Osorio"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678296730,"creation_date":1678296730,"answer_id":75676351,"question_id":75607086,"body_markdown":"I had used wrong the relationship (annotation), I was using OneToMany I changed it for ManyToMany.\r\nso, one product only can in one sale not in another sale.","title":"How can I create a entity with a list of entities that has already been created","body":"<p>I had used wrong the relationship (annotation), I was using OneToMany I changed it for ManyToMany.\nso, one product only can in one sale not in another sale.</p>\n"}],"owner":{"account_id":24263775,"reputation":11,"user_id":18212993,"display_name":"Cristian Osorio"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678296730,"creation_date":1677691710,"question_id":75607086,"body_markdown":"I&#39;m trying create a new entity (sale) with its attributes, one of them is a list of products that have already been created. When I try to save the sale with the repository I get a error\r\n\r\n```\r\norg.h2.jdbc.JdbcSQLIntegrityConstraintViolationException: Unique index or primary key violation: &quot;PUBLIC.UK_PENFKDX7890EQY3I2RH0BA4WV_INDEX_4 ON PUBLIC.SALE_PRODUCTS(PRODUCTS_ID NULLS FIRST) VALUES ( /* 7 */ CAST(7 AS BIGINT) )&quot;; SQL statement:\r\ninsert into sale_products (sale_id, products_id) values (?, ?) [23505-214]\r\n```\r\nTherefore, I realize that the error is because spring try to do the relationship between sale and product and sale doesn&#39;t has a id (is null). But the repository (SaleRepository) is supposed to generate the id, so I used the   @GeneratedValue(strategy = GenerationType.IDENTITY).\r\n\r\nI don&#39;t know what I should do, someone know how I can fix it?\r\n\r\ncode:\r\n\r\nsale\r\n```\r\n@Entity\r\npublic class Sale {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n    private String concept;\r\n    @Temporal(TemporalType.DATE)\r\n    private Date created_at;\r\n    private Double price;\r\n    @OneToOne(cascade = CascadeType.REFRESH)\r\n    private Customer customer;\r\n    @OneToMany\r\n    private Set&lt;Product&gt; products;\r\n public Sale(){}\r\n\r\n    public Sale(String concept, Customer customer, Set&lt;Product&gt; products) {\r\n        this.concept = concept;\r\n        this.customer = customer;\r\n        this.products = products;\r\n        this.price=0.0;\r\n        onPrePersist();\r\n    }\r\n\r\n    @PrePersist  void onPrePersist() {created_at = new java.util.Date();}\r\n\r\n    //get and setter\r\n}\r\n```\r\nproduct\r\n\r\n```\r\n@Entity\r\npublic class Product {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n    private String name;\r\n    private String description;\r\n    private Double price;\r\n    private Integer amount;\r\n    private String barCode;\r\n    private String origin;\r\n\r\n    public Product(){}\r\n\r\n    public Product(String name, String description, Double price, Integer amount, String barCode, String origin) {\r\n        this.name = name;\r\n        this.description = description;\r\n        this.price = price;\r\n        this.amount = amount;\r\n        this.barCode = barCode;\r\n        this.origin = origin;\r\n    }\r\n//get and setter\r\n}\r\n```\r\n\r\nsaleServiceImp (method where I create a sale)\r\n```\r\n   public SaleDTO save(SaleRegistrationRequest saleRegistrationRequest) {\r\n        Sale sale= new Sale(\r\n                saleRegistrationRequest.concept(),\r\n                findCustomerOfSale(saleRegistrationRequest.customerDTO()),\r\n                convertProductsDTOToProduct(saleRegistrationRequest.productsDTO())\r\n        );\r\n        LOGGER.info(&quot;SALE: &quot;+sale.toString());\r\n        saleRepository.save(sale);  // HERE FAIL!\r\n        LOGGER.info(&quot;Sale saved successfully &quot;+sale.toString() );\r\n        return saleDTOMapper.apply(sale);\r\n    }\r\n\r\n    private Customer findCustomerOfSale(CustomerDTO customerDTO){\r\n            return customerRepository.findById(customerDTO.id()).orElse(null);\r\n\r\n    }\r\n\r\n    private Set&lt;Product&gt; convertProductsDTOToProduct(Set&lt;ProductDTO&gt; productDTOS){\r\n\r\n        if(productDTOS ==null || productDTOS.isEmpty())\r\n            return null;\r\n\r\n        return productDTOS.stream().map(productDTO -&gt; {\r\n            return iProductService.findProductById(productDTO.id());\r\n        }).collect(Collectors.toSet());\r\n    }\r\n```\r\n\r\nThe error\r\n```\r\n2023-03-01 17:18:15.064 ERROR 8422 --- [nio-8080-exec-2] o.h.engine.jdbc.spi.SqlExceptionHelper   : Unique index or primary key violation: &quot;PUBLIC.UK_PENFKDX7890EQY3I2RH0BA4WV_INDEX_4 ON PUBLIC.SALE_PRODUCTS(PRODUCTS_ID NULLS FIRST) VALUES ( /* 7 */ CAST(7 AS BIGINT) )&quot;; SQL statement:\r\ninsert into sale_products (sale_id, products_id) values (?, ?) [23505-214]\r\n2023-03-01 17:18:15.065  INFO 8422 --- [nio-8080-exec-2] o.h.e.j.b.internal.AbstractBatchImpl     : HHH000010: On release of batch it still contained JDBC statements\r\n2023-03-01 17:18:15.086 ERROR 8422 --- [nio-8080-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [&quot;PUBLIC.UK_PENFKDX7890EQY3I2RH0BA4WV_INDEX_4 ON PUBLIC.SALE_PRODUCTS(PRODUCTS_ID NULLS FIRST) VALUES ( /* 7 */ CAST(7 AS BIGINT) )&quot;; SQL statement:\r\ninsert into sale_products (sale_id, products_id) values (?, ?) [23505-214]]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement] with root cause\r\n\r\norg.h2.jdbc.JdbcSQLIntegrityConstraintViolationException: Unique index or primary key violation: &quot;PUBLIC.UK_PENFKDX7890EQY3I2RH0BA4WV_INDEX_4 ON PUBLIC.SALE_PRODUCTS(PRODUCTS_ID NULLS FIRST) VALUES ( /* 7 */ CAST(7 AS BIGINT) )&quot;; SQL statement:\r\ninsert into sale_products (sale_id, products_id) values (?, ?) [23505-214]\r\n\tat org.h2.message.DbException.getJdbcSQLException(DbException.java:508) ~[h2-2.1.214.jar:2.1.214]\r\n\tat org.h2.message.DbException.getJdbcSQLException(DbException.java:477) ~[h2-2.1.214.jar:2.1.214]\r\n\tat org.h2.message.DbException.get(DbException.java:223) ~[h2-2.1.214.jar:2.1.214]\r\n\tat org.h2.message.DbException.get(DbException.java:199) ~[h2-2.1.214.jar:2.1.214]\r\n\tat org.h2.index.Index.getDuplicateKeyException(Index.java:525) ~[h2-2.1.214.jar:2.1.214]\r\n\tat org.h2.mvstore.db.MVSecondaryIndex.checkUnique(MVSecondaryIndex.java:223) ~[h2-2.1.214.jar:2.1.214]\r\n\tat org.h2.mvstore.db.MVSecondaryIndex.add(MVSecondaryIndex.java:184) ~[h2-2.1.214.jar:2.1.214]\r\n\tat org.h2.mvstore.db.MVTable.addRow(MVTable.java:519) ~[h2-2.1.214.jar:2.1.214]\r\n\tat org.h2.command.dml.Insert.insertRows(Insert.java:174) ~[h2-2.1.214.jar:2.1.214]\r\n\tat org.h2.command.dml.Insert.update(Insert.java:135) ~[h2-2.1.214.jar:2.1.214]\r\n\tat org.h2.command.dml.DataChangeStatement.update(DataChangeStatement.java:74) ~[h2-2.1.214.jar:2.1.214]\r\n\tat org.h2.command.CommandContainer.update(CommandContainer.java:169) ~[h2-2.1.214.jar:2.1.214]\r\n\tat org.h2.command.Command.executeUpdate(Command.java:252) ~[h2-2.1.214.jar:2.1.214]\r\n\tat org.h2.jdbc.JdbcPreparedStatement.executeUpdateInternal(JdbcPreparedStatement.java:209) ~[h2-2.1.214.jar:2.1.214]\r\n\tat org.h2.jdbc.JdbcPreparedStatement.executeUpdate(JdbcPreparedStatement.java:169) ~[h2-2.1.214.jar:2.1.214]\r\n\tat com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61) ~[HikariCP-4.0.3.jar:na]\r\n\tat com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java) ~[HikariCP-4.0.3.jar:na]\r\n\tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.engine.jdbc.batch.internal.NonBatchingBatch.addToBatch(NonBatchingBatch.java:46) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.persister.collection.AbstractCollectionPersister.recreate(AbstractCollectionPersister.java:1352) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.action.internal.CollectionRecreateAction.execute(CollectionRecreateAction.java:50) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:604) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.engine.spi.ActionQueue.lambda$executeActions$1(ActionQueue.java:478) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:721) ~[na:na]\r\n\tat org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:475) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:344) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:40) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1407) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:489) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:3303) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2438) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:449) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:183) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$300(JdbcResourceLocalTransactionCoordinatorImpl.java:40) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:281) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:562) ~[spring-orm-5.3.23.jar:5.3.23]\r\n\tat org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:743) ~[spring-tx-5.3.23.jar:5.3.23]\r\n\tat org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:711) ~[spring-tx-5.3.23.jar:5.3.23]\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:654) ~[spring-tx-5.3.23.jar:5.3.23]\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:407) ~[spring-tx-5.3.23.jar:5.3.23]\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.23.jar:5.3.23]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.23.jar:5.3.23]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]\r\n\tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174) ~[spring-data-jpa-2.7.5.jar:2.7.5]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]\r\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.23.jar:5.3.23]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.23.jar:5.3.23]\r\n\tat jdk.proxy2/jdk.proxy2.$Proxy108.save(Unknown Source) ~[na:na]\r\n\tat com.api.store.service.SaleServiceImp.save(SaleServiceImp.java:43) ~[classes/:na]\r\n\tat com.api.store.controller.SaleController.save(SaleController.java:21) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.23.jar:5.3.23]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.23.jar:5.3.23]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.23.jar:5.3.23]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.23.jar:5.3.23]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.23.jar:5.3.23]\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.23.jar:5.3.23]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1071) ~[spring-webmvc-5.3.23.jar:5.3.23]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:964) ~[spring-webmvc-5.3.23.jar:5.3.23]\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.23.jar:5.3.23]\r\n\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.23.jar:5.3.23]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:696) ~[tomcat-embed-core-9.0.68.jar:4.0.FR]\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.23.jar:5.3.23]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:779) ~[tomcat-embed-core-9.0.68.jar:4.0.FR]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.23.jar:5.3.23]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.23.jar:5.3.23]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.23.jar:5.3.23]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\n\r\n2023-03-01 17:23:29.979  INFO 8422 --- [ionShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n2023-03-01 17:23:29.979  INFO 8422 --- [ionShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down&#39;\r\n2023-03-01 17:23:30.191  INFO 8422 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...\r\n2023-03-01 17:23:30.195  INFO 8422 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.\r\n\r\nProcess finished with exit code 130 (interrupted by signal 2: SIGINT)\r\n\r\n```\r\n","title":"How can I create a entity with a list of entities that has already been created","body":"<p>I'm trying create a new entity (sale) with its attributes, one of them is a list of products that have already been created. When I try to save the sale with the repository I get a error</p>\n<pre><code>org.h2.jdbc.JdbcSQLIntegrityConstraintViolationException: Unique index or primary key violation: &quot;PUBLIC.UK_PENFKDX7890EQY3I2RH0BA4WV_INDEX_4 ON PUBLIC.SALE_PRODUCTS(PRODUCTS_ID NULLS FIRST) VALUES ( /* 7 */ CAST(7 AS BIGINT) )&quot;; SQL statement:\ninsert into sale_products (sale_id, products_id) values (?, ?) [23505-214]\n</code></pre>\n<p>Therefore, I realize that the error is because spring try to do the relationship between sale and product and sale doesn't has a id (is null). But the repository (SaleRepository) is supposed to generate the id, so I used the   @GeneratedValue(strategy = GenerationType.IDENTITY).</p>\n<p>I don't know what I should do, someone know how I can fix it?</p>\n<p>code:</p>\n<p>sale</p>\n<pre><code>@Entity\npublic class Sale {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    private String concept;\n    @Temporal(TemporalType.DATE)\n    private Date created_at;\n    private Double price;\n    @OneToOne(cascade = CascadeType.REFRESH)\n    private Customer customer;\n    @OneToMany\n    private Set&lt;Product&gt; products;\n public Sale(){}\n\n    public Sale(String concept, Customer customer, Set&lt;Product&gt; products) {\n        this.concept = concept;\n        this.customer = customer;\n        this.products = products;\n        this.price=0.0;\n        onPrePersist();\n    }\n\n    @PrePersist  void onPrePersist() {created_at = new java.util.Date();}\n\n    //get and setter\n}\n</code></pre>\n<p>product</p>\n<pre><code>@Entity\npublic class Product {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    private String name;\n    private String description;\n    private Double price;\n    private Integer amount;\n    private String barCode;\n    private String origin;\n\n    public Product(){}\n\n    public Product(String name, String description, Double price, Integer amount, String barCode, String origin) {\n        this.name = name;\n        this.description = description;\n        this.price = price;\n        this.amount = amount;\n        this.barCode = barCode;\n        this.origin = origin;\n    }\n//get and setter\n}\n</code></pre>\n<p>saleServiceImp (method where I create a sale)</p>\n<pre><code>   public SaleDTO save(SaleRegistrationRequest saleRegistrationRequest) {\n        Sale sale= new Sale(\n                saleRegistrationRequest.concept(),\n                findCustomerOfSale(saleRegistrationRequest.customerDTO()),\n                convertProductsDTOToProduct(saleRegistrationRequest.productsDTO())\n        );\n        LOGGER.info(&quot;SALE: &quot;+sale.toString());\n        saleRepository.save(sale);  // HERE FAIL!\n        LOGGER.info(&quot;Sale saved successfully &quot;+sale.toString() );\n        return saleDTOMapper.apply(sale);\n    }\n\n    private Customer findCustomerOfSale(CustomerDTO customerDTO){\n            return customerRepository.findById(customerDTO.id()).orElse(null);\n\n    }\n\n    private Set&lt;Product&gt; convertProductsDTOToProduct(Set&lt;ProductDTO&gt; productDTOS){\n\n        if(productDTOS ==null || productDTOS.isEmpty())\n            return null;\n\n        return productDTOS.stream().map(productDTO -&gt; {\n            return iProductService.findProductById(productDTO.id());\n        }).collect(Collectors.toSet());\n    }\n</code></pre>\n<p>The error</p>\n<pre><code>2023-03-01 17:18:15.064 ERROR 8422 --- [nio-8080-exec-2] o.h.engine.jdbc.spi.SqlExceptionHelper   : Unique index or primary key violation: &quot;PUBLIC.UK_PENFKDX7890EQY3I2RH0BA4WV_INDEX_4 ON PUBLIC.SALE_PRODUCTS(PRODUCTS_ID NULLS FIRST) VALUES ( /* 7 */ CAST(7 AS BIGINT) )&quot;; SQL statement:\ninsert into sale_products (sale_id, products_id) values (?, ?) [23505-214]\n2023-03-01 17:18:15.065  INFO 8422 --- [nio-8080-exec-2] o.h.e.j.b.internal.AbstractBatchImpl     : HHH000010: On release of batch it still contained JDBC statements\n2023-03-01 17:18:15.086 ERROR 8422 --- [nio-8080-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [&quot;PUBLIC.UK_PENFKDX7890EQY3I2RH0BA4WV_INDEX_4 ON PUBLIC.SALE_PRODUCTS(PRODUCTS_ID NULLS FIRST) VALUES ( /* 7 */ CAST(7 AS BIGINT) )&quot;; SQL statement:\ninsert into sale_products (sale_id, products_id) values (?, ?) [23505-214]]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement] with root cause\n\norg.h2.jdbc.JdbcSQLIntegrityConstraintViolationException: Unique index or primary key violation: &quot;PUBLIC.UK_PENFKDX7890EQY3I2RH0BA4WV_INDEX_4 ON PUBLIC.SALE_PRODUCTS(PRODUCTS_ID NULLS FIRST) VALUES ( /* 7 */ CAST(7 AS BIGINT) )&quot;; SQL statement:\ninsert into sale_products (sale_id, products_id) values (?, ?) [23505-214]\n    at org.h2.message.DbException.getJdbcSQLException(DbException.java:508) ~[h2-2.1.214.jar:2.1.214]\n    at org.h2.message.DbException.getJdbcSQLException(DbException.java:477) ~[h2-2.1.214.jar:2.1.214]\n    at org.h2.message.DbException.get(DbException.java:223) ~[h2-2.1.214.jar:2.1.214]\n    at org.h2.message.DbException.get(DbException.java:199) ~[h2-2.1.214.jar:2.1.214]\n    at org.h2.index.Index.getDuplicateKeyException(Index.java:525) ~[h2-2.1.214.jar:2.1.214]\n    at org.h2.mvstore.db.MVSecondaryIndex.checkUnique(MVSecondaryIndex.java:223) ~[h2-2.1.214.jar:2.1.214]\n    at org.h2.mvstore.db.MVSecondaryIndex.add(MVSecondaryIndex.java:184) ~[h2-2.1.214.jar:2.1.214]\n    at org.h2.mvstore.db.MVTable.addRow(MVTable.java:519) ~[h2-2.1.214.jar:2.1.214]\n    at org.h2.command.dml.Insert.insertRows(Insert.java:174) ~[h2-2.1.214.jar:2.1.214]\n    at org.h2.command.dml.Insert.update(Insert.java:135) ~[h2-2.1.214.jar:2.1.214]\n    at org.h2.command.dml.DataChangeStatement.update(DataChangeStatement.java:74) ~[h2-2.1.214.jar:2.1.214]\n    at org.h2.command.CommandContainer.update(CommandContainer.java:169) ~[h2-2.1.214.jar:2.1.214]\n    at org.h2.command.Command.executeUpdate(Command.java:252) ~[h2-2.1.214.jar:2.1.214]\n    at org.h2.jdbc.JdbcPreparedStatement.executeUpdateInternal(JdbcPreparedStatement.java:209) ~[h2-2.1.214.jar:2.1.214]\n    at org.h2.jdbc.JdbcPreparedStatement.executeUpdate(JdbcPreparedStatement.java:169) ~[h2-2.1.214.jar:2.1.214]\n    at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java) ~[HikariCP-4.0.3.jar:na]\n    at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\n    at org.hibernate.engine.jdbc.batch.internal.NonBatchingBatch.addToBatch(NonBatchingBatch.java:46) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\n    at org.hibernate.persister.collection.AbstractCollectionPersister.recreate(AbstractCollectionPersister.java:1352) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\n    at org.hibernate.action.internal.CollectionRecreateAction.execute(CollectionRecreateAction.java:50) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\n    at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:604) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\n    at org.hibernate.engine.spi.ActionQueue.lambda$executeActions$1(ActionQueue.java:478) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\n    at java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:721) ~[na:na]\n    at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:475) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\n    at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:344) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\n    at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:40) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\n    at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\n    at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1407) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\n    at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:489) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\n    at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:3303) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\n    at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2438) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\n    at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:449) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\n    at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:183) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\n    at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$300(JdbcResourceLocalTransactionCoordinatorImpl.java:40) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\n    at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:281) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\n    at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\n    at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:562) ~[spring-orm-5.3.23.jar:5.3.23]\n    at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:743) ~[spring-tx-5.3.23.jar:5.3.23]\n    at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:711) ~[spring-tx-5.3.23.jar:5.3.23]\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:654) ~[spring-tx-5.3.23.jar:5.3.23]\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:407) ~[spring-tx-5.3.23.jar:5.3.23]\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.23.jar:5.3.23]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.23.jar:5.3.23]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]\n    at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174) ~[spring-data-jpa-2.7.5.jar:2.7.5]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.23.jar:5.3.23]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.23.jar:5.3.23]\n    at jdk.proxy2/jdk.proxy2.$Proxy108.save(Unknown Source) ~[na:na]\n    at com.api.store.service.SaleServiceImp.save(SaleServiceImp.java:43) ~[classes/:na]\n    at com.api.store.controller.SaleController.save(SaleController.java:21) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.23.jar:5.3.23]\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.23.jar:5.3.23]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.23.jar:5.3.23]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.23.jar:5.3.23]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.23.jar:5.3.23]\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.23.jar:5.3.23]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1071) ~[spring-webmvc-5.3.23.jar:5.3.23]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:964) ~[spring-webmvc-5.3.23.jar:5.3.23]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.23.jar:5.3.23]\n    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.23.jar:5.3.23]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:696) ~[tomcat-embed-core-9.0.68.jar:4.0.FR]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.23.jar:5.3.23]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:779) ~[tomcat-embed-core-9.0.68.jar:4.0.FR]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.23.jar:5.3.23]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.23.jar:5.3.23]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.23.jar:5.3.23]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\n    at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\n\n2023-03-01 17:23:29.979  INFO 8422 --- [ionShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'\n2023-03-01 17:23:29.979  INFO 8422 --- [ionShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'\n2023-03-01 17:23:30.191  INFO 8422 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...\n2023-03-01 17:23:30.195  INFO 8422 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.\n\nProcess finished with exit code 130 (interrupted by signal 2: SIGINT)\n\n</code></pre>\n"},{"tags":["java","apache-poi","comments"],"comments":[{"owner":{"account_id":19171994,"reputation":127,"user_id":14005535,"display_name":"Shephard"},"score":0,"creation_date":1675942404,"post_id":74061338,"comment_id":133038165,"body_markdown":"Could you solve this problem?","body":"Could you solve this problem?"}],"answers":[{"tags":[],"owner":{"account_id":4520505,"reputation":1,"user_id":3673915,"display_name":"user3673915"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678296714,"creation_date":1678296714,"answer_id":75676345,"question_id":74061338,"body_markdown":"    package com.dev.ananth;\r\n    \r\n    import java.io.FileInputStream;\r\n    import java.io.IOException;\r\n    import java.util.LinkedHashMap;\r\n    import java.util.LinkedList;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n    \r\n    import org.apache.poi.openxml4j.exceptions.InvalidFormatException;\r\n    import org.apache.poi.openxml4j.opc.OPCPackage;\r\n    import org.apache.poi.xwpf.usermodel.IBodyElement;\r\n    import org.apache.poi.xwpf.usermodel.XWPFComment;\r\n    import org.apache.poi.xwpf.usermodel.XWPFDocument;\r\n    import org.apache.poi.xwpf.usermodel.XWPFParagraph;\r\n    import org.apache.xmlbeans.XmlCursor;\r\n    import org.openxmlformats.schemas.wordprocessingml.x2006.main.CTMarkupRange;\r\n    import org.w3c.dom.Attr;\r\n    import org.w3c.dom.Node;\r\n    \r\n    public class ExtractCommentText {\r\n    \tpublic static void main(String[] a) throws InvalidFormatException, IOException {\r\n    \t\tString fileName = &quot;D:\\\\test.docx&quot;;\r\n    \t\tFileInputStream fis = new FileInputStream(fileName);\r\n    \t\tXWPFDocument xdoc = new XWPFDocument(OPCPackage.open(fis));\r\n    \t\tList&lt;XWPFParagraph&gt; paragraphs = xdoc.getParagraphs();\r\n    \t\tMap&lt;String, CommentDto&gt; map=new LinkedHashMap&lt;&gt;();\r\n    \t\tMap&lt;String, Boolean&gt; checkMap=new LinkedHashMap&lt;&gt;();\r\n    \t\tList&lt;CommentDto&gt; list=new LinkedList&lt;&gt;();\r\n    \t\t\r\n    \t\tfor (XWPFParagraph p : paragraphs) {\r\n    \t\t\tList&lt;CTMarkupRange&gt; markups = p.getCTP().getCommentRangeStartList();\r\n    \t\t\tfor (CTMarkupRange markup : markups) {\r\n    \t\t\t\tSystem.out.println(&quot;Comment Id: &quot;+markup.getId());\r\n    \t\t\t\tboolean hasComment=false;\r\n    \t\t\t\tString commentReferenceText = &quot;&quot;;\r\n    \t\t\t\tString startId=&quot;&quot;;\r\n    \t\t\t\tString endId=&quot;&quot;;\r\n    \t\t\t\tXmlCursor xmlCursor =markup.newCursor();\r\n    \t\t\t\twhile (\txmlCursor.hasNextToken()){\r\n    \t\t\t\t\r\n    \t\t\t\t\t Node node = xmlCursor.getDomNode();\r\n    \t\t\t\t\t\r\n    \t\t\t\t\t if(hasComment) {\r\n    \t\t\t\t\t\t if(node.getNodeName().contains(&quot;#text&quot;) ) {\r\n    \t\t\t\t\t\t\t commentReferenceText +=  node.getNodeValue();\r\n    \t\t\t\t\t\t }\r\n    \t\t\t\t\t\t \r\n    \t\t\t\t\t }\r\n    \t\t\t\t\t if(node.getNodeName().contains(&quot;w:commentRangeStart&quot;)) {\r\n    \t\t\t\t\t\t Attr attr = (Attr) node.getAttributes().getNamedItem(&quot;w:id&quot;);\r\n    \t\t\t\t\t        if (attr != null) {\r\n    \t\t\t\t\t             startId = attr.getValue();\r\n    \t\t\t\t\t        }\r\n    \t\t\t\t\t\t \r\n    \t\t\t\t\t\t if(markup.getId().toString() .equals(startId)) {\r\n    \t\t\t\t\t\t\t hasComment=true;\r\n    \t\t\t\t\t\t }\r\n    \t\t\t\t\t }\r\n    \t\t\t\t\t else if(node.getNodeName().contains(&quot;w:commentRangeEnd&quot;)) {\r\n    \t\t\t\t\t\t Attr attr = (Attr) node.getAttributes().getNamedItem(&quot;w:id&quot;);\r\n    \t\t\t\t\t        if (attr != null) {\r\n    \t\t\t\t\t             endId = attr.getValue();\r\n    \t\t\t\t\t            //System.out.println(&quot;endId: &quot; + endId);\r\n    \t\t\t\t\t        }\r\n    \t\t\t\t\t\t \r\n    \t\t\t\t\t\t\t if(markup.getId().toString() .equals(endId)) {\r\n    \t\t\t\t\t\t\t\t hasComment=false;\r\n    \t\t\t\t\t\t\t\t XWPFComment comment = xdoc.getCommentByID(markup.getId().toString());\r\n    \t\t\t\t\t\t\t\t \tSystem.out.println(&quot;comment text: &quot;+commentReferenceText);\r\n    \t\t\t\t\t\t\t\t \tSystem.out.println(&quot;comment: &quot;+comment.getText());\r\n    \t\t\t\t\t\t\t\t \t\r\n    \t\t\t\t\t\t\t\t break;\r\n    \t\t\t\t\t\t\t }\r\n    \t\t\t\t\t }\r\n    \t\t\t\t\t xmlCursor.toNextToken();\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\t\t\r\n    \t\t}\r\n    \t\t\r\n    \t}\r\n        \r\n    }\r\n\r\n","title":"Apache POI: Retrieve highlighted text for comment","body":"<pre><code>package com.dev.ananth;\n\nimport java.io.FileInputStream;\nimport java.io.IOException;\nimport java.util.LinkedHashMap;\nimport java.util.LinkedList;\nimport java.util.List;\nimport java.util.Map;\n\nimport org.apache.poi.openxml4j.exceptions.InvalidFormatException;\nimport org.apache.poi.openxml4j.opc.OPCPackage;\nimport org.apache.poi.xwpf.usermodel.IBodyElement;\nimport org.apache.poi.xwpf.usermodel.XWPFComment;\nimport org.apache.poi.xwpf.usermodel.XWPFDocument;\nimport org.apache.poi.xwpf.usermodel.XWPFParagraph;\nimport org.apache.xmlbeans.XmlCursor;\nimport org.openxmlformats.schemas.wordprocessingml.x2006.main.CTMarkupRange;\nimport org.w3c.dom.Attr;\nimport org.w3c.dom.Node;\n\npublic class ExtractCommentText {\n    public static void main(String[] a) throws InvalidFormatException, IOException {\n        String fileName = &quot;D:\\\\test.docx&quot;;\n        FileInputStream fis = new FileInputStream(fileName);\n        XWPFDocument xdoc = new XWPFDocument(OPCPackage.open(fis));\n        List&lt;XWPFParagraph&gt; paragraphs = xdoc.getParagraphs();\n        Map&lt;String, CommentDto&gt; map=new LinkedHashMap&lt;&gt;();\n        Map&lt;String, Boolean&gt; checkMap=new LinkedHashMap&lt;&gt;();\n        List&lt;CommentDto&gt; list=new LinkedList&lt;&gt;();\n        \n        for (XWPFParagraph p : paragraphs) {\n            List&lt;CTMarkupRange&gt; markups = p.getCTP().getCommentRangeStartList();\n            for (CTMarkupRange markup : markups) {\n                System.out.println(&quot;Comment Id: &quot;+markup.getId());\n                boolean hasComment=false;\n                String commentReferenceText = &quot;&quot;;\n                String startId=&quot;&quot;;\n                String endId=&quot;&quot;;\n                XmlCursor xmlCursor =markup.newCursor();\n                while ( xmlCursor.hasNextToken()){\n                \n                     Node node = xmlCursor.getDomNode();\n                    \n                     if(hasComment) {\n                         if(node.getNodeName().contains(&quot;#text&quot;) ) {\n                             commentReferenceText +=  node.getNodeValue();\n                         }\n                         \n                     }\n                     if(node.getNodeName().contains(&quot;w:commentRangeStart&quot;)) {\n                         Attr attr = (Attr) node.getAttributes().getNamedItem(&quot;w:id&quot;);\n                            if (attr != null) {\n                                 startId = attr.getValue();\n                            }\n                         \n                         if(markup.getId().toString() .equals(startId)) {\n                             hasComment=true;\n                         }\n                     }\n                     else if(node.getNodeName().contains(&quot;w:commentRangeEnd&quot;)) {\n                         Attr attr = (Attr) node.getAttributes().getNamedItem(&quot;w:id&quot;);\n                            if (attr != null) {\n                                 endId = attr.getValue();\n                                //System.out.println(&quot;endId: &quot; + endId);\n                            }\n                         \n                             if(markup.getId().toString() .equals(endId)) {\n                                 hasComment=false;\n                                 XWPFComment comment = xdoc.getCommentByID(markup.getId().toString());\n                                    System.out.println(&quot;comment text: &quot;+commentReferenceText);\n                                    System.out.println(&quot;comment: &quot;+comment.getText());\n                                    \n                                 break;\n                             }\n                     }\n                     xmlCursor.toNextToken();\n            }\n        }\n            \n        }\n        \n    }\n    \n}\n</code></pre>\n"}],"owner":{"account_id":3119090,"reputation":193,"user_id":2639243,"display_name":"ccudmore"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678296714,"creation_date":1665692173,"question_id":74061338,"body_markdown":"I&#39;m trying to retrieve all comments in a document using Apache POI along with the text that was selected for the comment. I can retrieve the text of the comments, but can&#39;t figure out how to determine the text that was highlighted/selected for the comment.\r\n\r\nThe code below will provide the comment text.\r\n\r\nAny direction on how to retrieve the selected text?\r\n\r\n```\r\nString fileName = &quot;test.docx&quot;;\r\nFileInputStream fis = new FileInputStream(fileName);\r\nXWPFDocument xdoc = new XWPFDocument(OPCPackage.open(fis));\r\nList&lt;XWPFParagraph&gt; pl = xdoc.getParagraphs();\r\nfor (XWPFParagraph p : pl) {\r\n\tList&lt;CTMarkupRange&gt; markups = p.getCTP().getCommentRangeStartList();\r\n\tfor (CTMarkupRange markup: markups) {\r\n\t\tXWPFComment commentText = xdoc.getCommentByID(markup.getId().toString());\r\n\t\tSystem.out.println(commentText.getText());\r\n\t}\r\n}\r\n```\r\n","title":"Apache POI: Retrieve highlighted text for comment","body":"<p>I'm trying to retrieve all comments in a document using Apache POI along with the text that was selected for the comment. I can retrieve the text of the comments, but can't figure out how to determine the text that was highlighted/selected for the comment.</p>\n<p>The code below will provide the comment text.</p>\n<p>Any direction on how to retrieve the selected text?</p>\n<pre><code>String fileName = &quot;test.docx&quot;;\nFileInputStream fis = new FileInputStream(fileName);\nXWPFDocument xdoc = new XWPFDocument(OPCPackage.open(fis));\nList&lt;XWPFParagraph&gt; pl = xdoc.getParagraphs();\nfor (XWPFParagraph p : pl) {\n    List&lt;CTMarkupRange&gt; markups = p.getCTP().getCommentRangeStartList();\n    for (CTMarkupRange markup: markups) {\n        XWPFComment commentText = xdoc.getCommentByID(markup.getId().toString());\n        System.out.println(commentText.getText());\n    }\n}\n</code></pre>\n"},{"tags":["java","arrays","methods"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1678277903,"post_id":75672710,"comment_id":133500668,"body_markdown":"Your code has this same 2D array declared and initialized 4 times, not good.  Better would be to declare the array once and passed to where it is needed.  Making changes on one object (one of the arrays) won&#39;t magically change a completely different object (the other arrays) since Java doesn&#39;t work that way. You should give your methods a 2D array parameter so that one single array can be created and then be passed into the methods.","body":"Your code has this same 2D array declared and initialized 4 times, not good.  Better would be to declare the array once and passed to where it is needed.  Making changes on one object (one of the arrays) won&#39;t magically change a completely different object (the other arrays) since Java doesn&#39;t work that way. You should give your methods a 2D array parameter so that one single array can be created and then be passed into the methods."},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1678282499,"post_id":75672710,"comment_id":133502013,"body_markdown":"Each method has its own arrays, so obviously the changes in one method do not propagate to the other method","body":"Each method has its own arrays, so obviously the changes in one method do not propagate to the other method"}],"answers":[{"tags":[],"owner":{"account_id":9537825,"reputation":1490,"user_id":7275056,"display_name":"vsfDawg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678296501,"creation_date":1678296501,"answer_id":75676311,"question_id":75672710,"body_markdown":"If the arrays are intended to be a shared resource then you will need to share them.  You could do this in a number of ways. \r\n\r\n - You could define the array as static as well and then work with it\r\n   within static methods.\r\n   \r\n - You could define the array as an instance variable, instantiate an\r\n   instance within your driver (i.e. `main`), and work with the class\r\n   instance.\r\n   \r\n - You could define the array within the `main` method and then\r\n   pass it as an argument to those methods that work with it.\r\n\r\n","title":"How do you update an array that is inside a method so an array inside another method can perform accordingly","body":"<p>If the arrays are intended to be a shared resource then you will need to share them.  You could do this in a number of ways.</p>\n<ul>\n<li><p>You could define the array as static as well and then work with it\nwithin static methods.</p>\n</li>\n<li><p>You could define the array as an instance variable, instantiate an\ninstance within your driver (i.e. <code>main</code>), and work with the class\ninstance.</p>\n</li>\n<li><p>You could define the array within the <code>main</code> method and then\npass it as an argument to those methods that work with it.</p>\n</li>\n</ul>\n"}],"owner":{"account_id":23303016,"reputation":1,"user_id":17383387,"display_name":"Yumeth Weerasekera"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1678296501,"creation_date":1678276488,"question_id":75672710,"body_markdown":"The Java code that I&#39;m building has two methods in it which has 3 arrays in it. The first method&#39;s 3 arrays after the method is called is updated accordingly. After calling the second method, the changes that happened in the first method are not represented in the second method.\r\n\r\nFor example:\r\n\r\n```java\r\npublic class ticket_reservation {\r\n\r\n    public static int [][] method1(){\r\n        int [] array1 = { 1, 2, 3};\r\n        int [] array2 = { 4, 5, 6, 7};\r\n        int [] array3 = { 8, 9, 10, 11, 12};\r\n\r\n        //code that involve the above 3 arrays\r\n\r\n        int [][] array = { array1, array2, array3};\r\n    \r\n        return array;\r\n    }\r\n\r\n    public static int [][] method2(){\r\n        int [] array1 = { 1, 2, 3};\r\n        int [] array2 = { 4, 5, 6, 7};\r\n        int [] array3 = { 8, 9, 10, 11, 12};\r\n    \r\n        //code that involve the above 3 arrays\r\n    \r\n        int [][] array = { array1, array2, array3};\r\n    \r\n        return array;\r\n   }\r\n\r\n    public static void main(String [] args) {\r\n        int [] array1 = { 1, 2, 3};\r\n        int [] array2 = { 4, 5, 6, 7};\r\n        int [] array3 = { 8, 9, 10, 11, 12};\r\n\r\n        int [][] method1_array = method1();\r\n\r\n        //code to make the 2D method1_array into 3 single dimention arrays\r\n    \r\n        int [][] method2_array = method2();\r\n    \r\n        //code to make the 2D method2_array into 3 single dimention arrays\r\n    \r\n        //this is where the problem arise. as the changes i made in the first method don&#39;t \r\n        //show in the second method\r\n   }\r\n}\r\n```\r\n\r\nI find it hard to find a solution here, as I expected the changes I made in the first method to also be made in the second method. I tried to write the code in the methods without using the arrays, but found it difficult.\r\n","title":"How do you update an array that is inside a method so an array inside another method can perform accordingly","body":"<p>The Java code that I'm building has two methods in it which has 3 arrays in it. The first method's 3 arrays after the method is called is updated accordingly. After calling the second method, the changes that happened in the first method are not represented in the second method.</p>\n<p>For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ticket_reservation {\n\n    public static int [][] method1(){\n        int [] array1 = { 1, 2, 3};\n        int [] array2 = { 4, 5, 6, 7};\n        int [] array3 = { 8, 9, 10, 11, 12};\n\n        //code that involve the above 3 arrays\n\n        int [][] array = { array1, array2, array3};\n    \n        return array;\n    }\n\n    public static int [][] method2(){\n        int [] array1 = { 1, 2, 3};\n        int [] array2 = { 4, 5, 6, 7};\n        int [] array3 = { 8, 9, 10, 11, 12};\n    \n        //code that involve the above 3 arrays\n    \n        int [][] array = { array1, array2, array3};\n    \n        return array;\n   }\n\n    public static void main(String [] args) {\n        int [] array1 = { 1, 2, 3};\n        int [] array2 = { 4, 5, 6, 7};\n        int [] array3 = { 8, 9, 10, 11, 12};\n\n        int [][] method1_array = method1();\n\n        //code to make the 2D method1_array into 3 single dimention arrays\n    \n        int [][] method2_array = method2();\n    \n        //code to make the 2D method2_array into 3 single dimention arrays\n    \n        //this is where the problem arise. as the changes i made in the first method don't \n        //show in the second method\n   }\n}\n</code></pre>\n<p>I find it hard to find a solution here, as I expected the changes I made in the first method to also be made in the second method. I tried to write the code in the methods without using the arrays, but found it difficult.</p>\n"},{"tags":["java","excel","spring-boot","apache-poi","export-to-excel"],"comments":[{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":0,"creation_date":1678297772,"post_id":75676263,"comment_id":133506924,"body_markdown":"Have two cell styles, one for your &quot;normal&quot; cells, and a different one for you date cells, then take care about which one you apply where?","body":"Have two cell styles, one for your &quot;normal&quot; cells, and a different one for you date cells, then take care about which one you apply where?"},{"owner":{"account_id":27814456,"reputation":21,"user_id":21236173,"display_name":"cesar pereira"},"score":0,"creation_date":1678304149,"post_id":75676263,"comment_id":133508542,"body_markdown":"Thank you very much, I understood how to do it, I created one\n`CellStyle cellStyleData = workbook.createCellStyle();` separated and I replaced the cell8 one and what I needed came, which was just her.","body":"Thank you very much, I understood how to do it, I created one <code>CellStyle cellStyleData = workbook.createCellStyle();</code> separated and I replaced the cell8 one and what I needed came, which was just her."}],"owner":{"account_id":27814456,"reputation":21,"user_id":21236173,"display_name":"cesar pereira"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":213,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1678296262,"creation_date":1678296262,"question_id":75676263,"body_markdown":"I am currently formatting a date in a cell, but this formatting is leaking to other cells, transforming some cells into dates, I wanted to know how to format only a single cell without affecting the others.\r\n\r\n[![enter image description here](https://i.stack.imgur.com/SV97Q.png)](https://i.stack.imgur.com/SV97Q.png)\r\n\r\nThe Date formatting would only be in my last column I due date, but as in the image above it formatted my column C file 3 something that should not happen\r\n\r\nI followed this tutorial but it doesn&#39;t solve my problem because the date formatting is going to other fields\r\n[Link](https://www.baeldung.com/java-apache-poi-date-format)\r\n\r\n\r\n \r\n           `\r\n                  \r\n                  import com.xxxxxxxxxxxxxxxxxxxxxx.entity.xxxxxxxxx.xxxxxxxxx;\r\n                  import org.apache.poi.ss.usermodel.*;\r\n                  import org.apache.poi.xssf.usermodel.XSSFWorkbook;\r\n                  import org.springframework.beans.factory.annotation.Autowired;\r\n\r\n                  import javax.servlet.http.HttpServletResponse;\r\n                  import java.io.IOException;\r\n                  import java.util.List;\r\n\r\n                  public class xxxxxxxxxxxxxxxxxx {\r\n\r\n                  @Autowired\r\n                  private xxxxxxxxxxxxxxxxDTO xxxxxxxxxxxxxxxxxxxxxDTO;\r\n\r\n\r\n\r\n                 public static void xxxxxxxx(HttpServletResponse response,    List&lt;xxxxxxxxxxxxxxxxxxxxDTO&gt; xxxxxxx) {\r\n                 try(Workbook workbook = new XSSFWorkbook()){\r\n                  Sheet sheet = workbook.createSheet(&quot;xxxxxx a xxxxxx&quot;);\r\n\r\n                 CellStyle cellStyle = workbook.createCellStyle();\r\n\r\n\r\n\r\n\r\n                cellStyle.setBorderTop(BorderStyle.MEDIUM);\r\n                cellStyle.setBorderRight(BorderStyle.MEDIUM);\r\n                cellStyle.setBorderBottom(BorderStyle.MEDIUM);\r\n                cellStyle.setBorderLeft(BorderStyle.MEDIUM);\r\n                cellStyle.setAlignment(HorizontalAlignment.LEFT);\r\n\r\n\r\n                Row row = sheet.createRow(0);\r\n                Cell cell = row.createCell(0);\r\n                cell.setCellValue(&quot;file&quot;);\r\n                cell.setCellStyle(cellStyle);\r\n\r\n\r\n                Cell cell1 = row.createCell(1);\r\n                cell1.setCellValue(&quot;file1&quot;);\r\n                cell1.setCellStyle(cellStyle);\r\n\r\n\r\n                Cell cell2 = row.createCell(2);\r\n                cell2.setCellValue(&quot;file2&quot;);\r\n                cell2.setCellStyle(cellStyle);\r\n\r\n                Cell cell3 = row.createCell(3);\r\n                cell3.setCellValue(&quot;file3&quot;);\r\n                cell3.setCellStyle(cellStyle);\r\n\r\n                Cell cell4 = row.createCell(4);\r\n                cell4.setCellValue(&quot;file4&quot;);\r\n                cell4.setCellStyle(cellStyle);\r\n\r\n                Cell cell5 = row.createCell(5);\r\n                cell5.setCellValue(&quot;file5&quot;);\r\n                cell5.setCellStyle(cellStyle);\r\n\r\n\r\n                Cell cell6 = row.createCell(6);\r\n                cell6.setCellValue(&quot;file6&quot;);\r\n                cell6.setCellStyle(cellStyle);\r\n\r\n\r\n                Cell cell7 = row.createCell(7);\r\n                cell7.setCellValue(&quot;file7&quot;);\r\n                cell7.setCellStyle(cellStyle);\r\n\r\n\r\n                Cell cell8 = row.createCell(8);\r\n                cell8.setCellValue(&quot;file8&quot;);\r\n                cell8.setCellStyle(cellStyle);\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n                int rowNum = 1;\r\n                for (xxxxxxxxxxxxxxxDTO integ : xxxx) {\r\n                Row intDataRow = sheet.createRow(rowNum++);\r\n\r\n                Cell empCell = intDataRow.createCell(0);\r\n                empCell.setCellStyle(cellStyle);\r\n                empCell.setCellValue(integ.getFile());\r\n\r\n                Cell filNameCell = intDataRow.createCell(1);\r\n                filNameCell.setCellStyle(cellStyle);\r\n                filNameCell.setCellValue(integ.getFile1());\r\n\r\n                Cell cdCell = intDataRow.createCell(2);\r\n                cdCell.setCellStyle(cellStyle);\r\n                cdCell.setCellValue(integ.getFile2());\r\n\r\n                Cell coCell = intDataRow.createCell(3);\r\n                coCell.setCellStyle(cellStyle);\r\n                coCell.setCellValue(integ.getFile3());\r\n\r\n                Cell poCell = intDataRow.createCell(4);\r\n                poCell.setCellStyle(cellStyle);\r\n                poCell.setCellValue(integ.getFile4());\r\n\r\n                Cell tiCell = intDataRow.createCell(5);\r\n                tiCell.setCellStyle(cellStyle);\r\n                tiCell.setCellValue(integ.getFile5());\r\n\r\n\r\n                Cell saCell = intDataRow.createCell(6);\r\n                saCell.setCellStyle(cellStyle);\r\n                saCell.setCellValue(integ.getFile6());\r\n\r\n                Cell comCell = intDataRow.createCell(7);\r\n                comCell.setCellStyle(cellStyle);\r\n                comCell.setCellValue(integ.getFile7());\r\n\r\n\r\n                Cell venCell = intDataRow.createCell(8);\r\n                venCell.setCellStyle(cellStyle);\r\n                venCell.setCellValue(integ.getFile8());\r\n\t\t\t\tcellStyle.setDataFormat((short) 14);\r\n                \r\n\r\n\r\n            }\r\n\r\n\r\n            workbook.write(response.getOutputStream());\r\n\r\n            } catch (IOException e) {\r\n            e.printStackTrace();\r\n            }\r\n\r\n          }\r\n\r\n\r\n      }`\r\n\r\n\r\n","title":"How to apply formatting to just one cell in Apache Poi in Spring Boot with Java","body":"<p>I am currently formatting a date in a cell, but this formatting is leaking to other cells, transforming some cells into dates, I wanted to know how to format only a single cell without affecting the others.</p>\n<p><a href=\"https://i.stack.imgur.com/SV97Q.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SV97Q.png\" alt=\"enter image description here\" /></a></p>\n<p>The Date formatting would only be in my last column I due date, but as in the image above it formatted my column C file 3 something that should not happen</p>\n<p>I followed this tutorial but it doesn't solve my problem because the date formatting is going to other fields\n<a href=\"https://www.baeldung.com/java-apache-poi-date-format\" rel=\"nofollow noreferrer\">Link</a></p>\n<pre><code>       `\n              \n              import com.xxxxxxxxxxxxxxxxxxxxxx.entity.xxxxxxxxx.xxxxxxxxx;\n              import org.apache.poi.ss.usermodel.*;\n              import org.apache.poi.xssf.usermodel.XSSFWorkbook;\n              import org.springframework.beans.factory.annotation.Autowired;\n\n              import javax.servlet.http.HttpServletResponse;\n              import java.io.IOException;\n              import java.util.List;\n\n              public class xxxxxxxxxxxxxxxxxx {\n\n              @Autowired\n              private xxxxxxxxxxxxxxxxDTO xxxxxxxxxxxxxxxxxxxxxDTO;\n\n\n\n             public static void xxxxxxxx(HttpServletResponse response,    List&lt;xxxxxxxxxxxxxxxxxxxxDTO&gt; xxxxxxx) {\n             try(Workbook workbook = new XSSFWorkbook()){\n              Sheet sheet = workbook.createSheet(&quot;xxxxxx a xxxxxx&quot;);\n\n             CellStyle cellStyle = workbook.createCellStyle();\n\n\n\n\n            cellStyle.setBorderTop(BorderStyle.MEDIUM);\n            cellStyle.setBorderRight(BorderStyle.MEDIUM);\n            cellStyle.setBorderBottom(BorderStyle.MEDIUM);\n            cellStyle.setBorderLeft(BorderStyle.MEDIUM);\n            cellStyle.setAlignment(HorizontalAlignment.LEFT);\n\n\n            Row row = sheet.createRow(0);\n            Cell cell = row.createCell(0);\n            cell.setCellValue(&quot;file&quot;);\n            cell.setCellStyle(cellStyle);\n\n\n            Cell cell1 = row.createCell(1);\n            cell1.setCellValue(&quot;file1&quot;);\n            cell1.setCellStyle(cellStyle);\n\n\n            Cell cell2 = row.createCell(2);\n            cell2.setCellValue(&quot;file2&quot;);\n            cell2.setCellStyle(cellStyle);\n\n            Cell cell3 = row.createCell(3);\n            cell3.setCellValue(&quot;file3&quot;);\n            cell3.setCellStyle(cellStyle);\n\n            Cell cell4 = row.createCell(4);\n            cell4.setCellValue(&quot;file4&quot;);\n            cell4.setCellStyle(cellStyle);\n\n            Cell cell5 = row.createCell(5);\n            cell5.setCellValue(&quot;file5&quot;);\n            cell5.setCellStyle(cellStyle);\n\n\n            Cell cell6 = row.createCell(6);\n            cell6.setCellValue(&quot;file6&quot;);\n            cell6.setCellStyle(cellStyle);\n\n\n            Cell cell7 = row.createCell(7);\n            cell7.setCellValue(&quot;file7&quot;);\n            cell7.setCellStyle(cellStyle);\n\n\n            Cell cell8 = row.createCell(8);\n            cell8.setCellValue(&quot;file8&quot;);\n            cell8.setCellStyle(cellStyle);\n\n\n\n\n\n\n\n            int rowNum = 1;\n            for (xxxxxxxxxxxxxxxDTO integ : xxxx) {\n            Row intDataRow = sheet.createRow(rowNum++);\n\n            Cell empCell = intDataRow.createCell(0);\n            empCell.setCellStyle(cellStyle);\n            empCell.setCellValue(integ.getFile());\n\n            Cell filNameCell = intDataRow.createCell(1);\n            filNameCell.setCellStyle(cellStyle);\n            filNameCell.setCellValue(integ.getFile1());\n\n            Cell cdCell = intDataRow.createCell(2);\n            cdCell.setCellStyle(cellStyle);\n            cdCell.setCellValue(integ.getFile2());\n\n            Cell coCell = intDataRow.createCell(3);\n            coCell.setCellStyle(cellStyle);\n            coCell.setCellValue(integ.getFile3());\n\n            Cell poCell = intDataRow.createCell(4);\n            poCell.setCellStyle(cellStyle);\n            poCell.setCellValue(integ.getFile4());\n\n            Cell tiCell = intDataRow.createCell(5);\n            tiCell.setCellStyle(cellStyle);\n            tiCell.setCellValue(integ.getFile5());\n\n\n            Cell saCell = intDataRow.createCell(6);\n            saCell.setCellStyle(cellStyle);\n            saCell.setCellValue(integ.getFile6());\n\n            Cell comCell = intDataRow.createCell(7);\n            comCell.setCellStyle(cellStyle);\n            comCell.setCellValue(integ.getFile7());\n\n\n            Cell venCell = intDataRow.createCell(8);\n            venCell.setCellStyle(cellStyle);\n            venCell.setCellValue(integ.getFile8());\n            cellStyle.setDataFormat((short) 14);\n            \n\n\n        }\n\n\n        workbook.write(response.getOutputStream());\n\n        } catch (IOException e) {\n        e.printStackTrace();\n        }\n\n      }\n\n\n  }`\n</code></pre>\n"},{"tags":["java","gradle","visual-studio-code","lombok"],"comments":[{"owner":{"account_id":6308914,"reputation":2176,"user_id":4901118,"display_name":"isAif"},"score":0,"creation_date":1597479092,"post_id":63418817,"comment_id":112150416,"body_markdown":"Which instructions you followed, can you provide the link? Also when mentioning the plugins please provide the links. Did you include the *Lombok* dependency to your `pom.xml` file ?","body":"Which instructions you followed, can you provide the link? Also when mentioning the plugins please provide the links. Did you include the <i>Lombok</i> dependency to your <code>pom.xml</code> file ?"}],"answers":[{"tags":[],"owner":{"account_id":2758758,"reputation":813,"user_id":2376087,"display_name":"sercheo_87"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1597515598,"creation_date":1597515598,"answer_id":63429449,"question_id":63418817,"body_markdown":"Use next plugin [Lombok Annotations Support for VS Code][1]\r\n\r\n  [1]: https://marketplace.visualstudio.com/items?itemName=GabrielBB.vscode-lombok","title":"How do I get lombok to work with Visual Studio Code?","body":"<p>Use next plugin <a href=\"https://marketplace.visualstudio.com/items?itemName=GabrielBB.vscode-lombok\" rel=\"noreferrer\">Lombok Annotations Support for VS Code</a></p>\n"},{"tags":[],"owner":{"account_id":462189,"reputation":5436,"user_id":864358,"accept_rate":67,"display_name":"Phillip"},"down_vote_count":1,"up_vote_count":15,"is_accepted":true,"score":14,"last_activity_date":1597773046,"creation_date":1597773046,"answer_id":63474071,"question_id":63418817,"body_markdown":"Turns out I had to run the following command in VS Code:\r\n\r\n    &gt; Java: Clean the Java language server workspace","title":"How do I get lombok to work with Visual Studio Code?","body":"<p>Turns out I had to run the following command in VS Code:</p>\n<pre><code>&gt; Java: Clean the Java language server workspace\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2337675,"reputation":143,"user_id":2049626,"display_name":"Sudeep Krishnan M"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638678718,"creation_date":1638676824,"answer_id":70231366,"question_id":63418817,"body_markdown":"Try to exclude transitive dependency for better control\r\n    \r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n      &lt;exclusions&gt;\r\n        &lt;exclusion&gt;\r\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\r\n        &lt;/exclusion&gt;\r\n      &lt;/exclusions&gt;\r\n    &lt;/dependency&gt;\r\n    \r\nI am using VScode editor try to add lombok for from the extension window. After that clean the workspace it worked for me. ","title":"How do I get lombok to work with Visual Studio Code?","body":"<p>Try to exclude transitive dependency for better control</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n  &lt;exclusions&gt;\n    &lt;exclusion&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\n    &lt;/exclusion&gt;\n  &lt;/exclusions&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I am using VScode editor try to add lombok for from the extension window. After that clean the workspace it worked for me.</p>\n"},{"tags":[],"owner":{"account_id":1414063,"reputation":1696,"user_id":1340069,"display_name":"James O&#39;Brien"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678296104,"creation_date":1678296104,"answer_id":75676239,"question_id":63418817,"body_markdown":"As of Dec. 2022, according to this announcement https://devblogs.microsoft.com/java/java-on-visual-studio-code-update-december-2022/ , quote: &quot;Starting in July, our Java extensions can directly support projects that are using Lombok without installing any additional extensions.&quot;\r\n\r\nOf course, lombok must be in your classpath, either as a jar or part of a build tool configuration like maven or gradle.\r\n\r\nSetup:\r\n * maven: https://projectlombok.org/setup/maven\r\n * gradle: https://projectlombok.org/setup/gradle\r\n\r\nIt must be enabled in settings though. I&#39;m not sure if it is by default. This screenshot shows how to enable.\r\n\r\n[![Settings for enabling lombok][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/melXe.png","title":"How do I get lombok to work with Visual Studio Code?","body":"<p>As of Dec. 2022, according to this announcement <a href=\"https://devblogs.microsoft.com/java/java-on-visual-studio-code-update-december-2022/\" rel=\"nofollow noreferrer\">https://devblogs.microsoft.com/java/java-on-visual-studio-code-update-december-2022/</a> , quote: &quot;Starting in July, our Java extensions can directly support projects that are using Lombok without installing any additional extensions.&quot;</p>\n<p>Of course, lombok must be in your classpath, either as a jar or part of a build tool configuration like maven or gradle.</p>\n<p>Setup:</p>\n<ul>\n<li>maven: <a href=\"https://projectlombok.org/setup/maven\" rel=\"nofollow noreferrer\">https://projectlombok.org/setup/maven</a></li>\n<li>gradle: <a href=\"https://projectlombok.org/setup/gradle\" rel=\"nofollow noreferrer\">https://projectlombok.org/setup/gradle</a></li>\n</ul>\n<p>It must be enabled in settings though. I'm not sure if it is by default. This screenshot shows how to enable.</p>\n<p><a href=\"https://i.stack.imgur.com/melXe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/melXe.png\" alt=\"Settings for enabling lombok\" /></a></p>\n"}],"owner":{"account_id":462189,"reputation":5436,"user_id":864358,"accept_rate":67,"display_name":"Phillip"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14016,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":63474071,"answer_count":4,"score":7,"last_activity_date":1678296104,"creation_date":1597432377,"question_id":63418817,"body_markdown":"I have a java gradle project in vscode, and I followed the instructions on the site to use the gradle plugin and the vscode lombok extension. However, vscode is still unable to resolve the lombok.Data java import. What am I missing?","title":"How do I get lombok to work with Visual Studio Code?","body":"<p>I have a java gradle project in vscode, and I followed the instructions on the site to use the gradle plugin and the vscode lombok extension. However, vscode is still unable to resolve the lombok.Data java import. What am I missing?</p>\n"},{"tags":["java","spring","spring-webflux","reactive-programming","completable-future"],"comments":[{"owner":{"account_id":19395247,"reputation":3208,"user_id":14183092,"display_name":"kerbermeister"},"score":1,"creation_date":1678294552,"post_id":75675668,"comment_id":133506031,"body_markdown":"could you show the code that calls getApplicationSettings() method?","body":"could you show the code that calls getApplicationSettings() method?"},{"owner":{"account_id":10907310,"reputation":2214,"user_id":8017666,"display_name":"SRJ"},"score":0,"creation_date":1678295912,"post_id":75675668,"comment_id":133506457,"body_markdown":"Added details in EDIT","body":"Added details in EDIT"}],"owner":{"account_id":10907310,"reputation":2214,"user_id":8017666,"display_name":"SRJ"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":337,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678295809,"creation_date":1678292841,"question_id":75675668,"body_markdown":"I am using spring webflux client to call reactive apis.\r\nIt is resulting into this error\r\n```\r\njava.lang.IllegalStateException: Spec. Rule 2.12 - Subscriber.onSubscribe MUST NOT be called more than once (based on object equality)\r\n\tat reactor.core.Exceptions.duplicateOnSubscribeException(Exceptions.java:181)\r\n\tat reactor.core.publisher.Operators.reportSubscriptionSet(Operators.java:1083)\r\n\tat reactor.core.publisher.Operators.setOnce(Operators.java:1188)\r\n\tat reactor.core.publisher.MonoFlatMap.onSubscribe(MonoFlatMap.java:102)\r\n\tat reactor.core.publisher.Operators.reportThrowInSubscribe(Operators.java:225)\r\n\tat reactor.core.publisher.Mono.subscribe(Mono.java:4255)\r\n\tat reactor.core.publisher.Mono.subscribeWith(Mono.java:4363)\r\n\tat reactor.core.publisher.Mono.toFuture(Mono.java:4697)\r\n\tat abc.bcd.cde.fgh.SettingsRepositoryImplP2.getApplicationSettings(SettingsRepositoryImplP2.java:32)\r\n\tat java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1705)\r\n\tat abc.bcd.cde.fgh.ApplicationSettingsCache.hasMaxCapture(ApplicationSettingsCache.java:38)\r\n\tat abc.bcd.cde.fgh.ApplicationDebugService.shouldBeCaptured(ApplicationDebugService.java:20)\r\n\tat abc.bcd.cde.fgh.ApplicationDebugService.lambdaf865c(ApplicationDebugService.java:26)\r\n\tat akka.stream.javadsl.Flow.(Flow.scala:739)\r\n\tat akka.stream.impl.fusing.MapAsync96775anon.onPush(Ops.scala:1307)\r\n\tat akka.stream.impl.fusing.GraphInterpreter.processPush(GraphInterpreter.scala:542)\r\n\tat akka.stream.impl.fusing.GraphInterpreter.execute(GraphInterpreter.scala:423)\r\n\tat akka.stream.impl.fusing.GraphInterpreterShell.runBatch(ActorGraphInterpreter.scala:650)\r\n\tat akka.stream.impl.fusing.GraphInterpreterShell.execute(ActorGraphInterpreter.scala:521)\r\n\tat akka.stream.impl.fusing.GraphInterpreterShell.processEvent(ActorGraphInterpreter.scala:625)\r\n\tat akka.stream.impl.fusing.ActorGraphInterpreter.akka96775processEvent(ActorGraphInterpreter.scala:800)\r\n\tat akka.stream.impl.fusing.ActorGraphInterpreter.akka96775shortCircuitBatch(ActorGraphInterpreter.scala:787)\r\n\tat akka.stream.impl.fusing.ActorGraphInterpreter96775anonfun.applyOrElse(ActorGraphInterpreter.scala:819)\r\n\tat akka.actor.Actor.aroundReceive(Actor.scala:537)\r\n\tat akka.actor.Actor.aroundReceive\r\n\tat akka.stream.impl.fusing.ActorGraphInterpreter.aroundReceive(ActorGraphInterpreter.scala:716)\r\n\tat akka.actor.ActorCell.receiveMessage96775(ActorCell.scala:580)\r\n\tat akka.actor.ActorCell.receiveMessage(ActorCell.scala)\r\n\tat akka.actor.ActorCell.invoke(ActorCell.scala:548)\r\n\tat akka.dispatch.Mailbox.processMailbox(Mailbox.scala:270)\r\n\tat akka.dispatch.Mailbox.run(Mailbox.scala:231)\r\n\tat akka.dispatch.Mailbox.exec(Mailbox.scala:243)\r\n\tat java.util.concurrent.ForkJoinTask.doExec96775(ForkJoinTask.java:290)\r\n\tat java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java)\r\n\tat java.util.concurrent.ForkJoinPool.topLevelExec(ForkJoinPool.java:1020)\r\n\tat java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1656)\r\n\tat java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1594)\r\n\tat java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:183)\r\n```\r\n\r\nMy Call looks like this\r\n```\r\npublic Mono&lt;TestSettings&gt; retrieveApplicationConfiguration(String applicationId) {\r\n\r\n        var url = applicationConfigurationServiceUrl.concat(&quot;/conf&quot;).concat(&quot;/{id}&quot;);\r\n\r\n        return webClient.get()\r\n                .uri(url, applicationId)\r\n                .retrieve()\r\n                .onStatus(HttpStatus::is4xxClientError,\r\n                        (clientResponse -&gt; {\r\n                            log.info(&quot;Status code : {}&quot;, clientResponse.statusCode().value());\r\n                            if (clientResponse.statusCode().equals(HttpStatus.NOT_FOUND)) {\r\n                                //return TestSettings.captureABC();\r\n                                return Mono.error(new ApplicationConfigServiceException(&quot;Error fetching Applications for application &quot; + applicationId, clientResponse.statusCode().value()));\r\n                            }\r\n                            return clientResponse.bodyToMono(String.class)\r\n                                    .flatMap(response -&gt; Mono.error(new ApplicationConfigServiceException(&quot; Error fetching Applications for &quot; + applicationId + response, clientResponse.statusCode().value())));\r\n                        }))\r\n                .onStatus(HttpStatus::is5xxServerError,\r\n                        (clientResponse -&gt; {\r\n                        log.info(&quot;Status code : {}&quot;, clientResponse.statusCode().value());\r\n                        return clientResponse.bodyToMono(String.class)\r\n                            .flatMap(response -&gt; Mono.error(new ApplicationConfigServiceException(response, clientResponse.statusCode().value())));\r\n                }))\r\n                .bodyToMono(ApplicationConfigurationResponse.class)\r\n                .map(a -&gt; {\r\n                    log.info(&quot;LOG : {}&quot;, a);\r\n                    return TestSettings.create(a);\r\n                })\r\n                //.retryWhen(WebClientRetryUtil.retrySpec())\r\n                .log();\r\n    }\r\n```\r\n\r\nand webclient call is then used as below. here i am converting `Mono` to `CompletableFuture`.\r\n```\r\n    @Override\r\n    public CompletableFuture&lt;TestSettings&gt; getApplicationSettings(String application) {\r\n        return webClient.retrieveApplicationConfiguration(application)\r\n                .toFuture();\r\n    }\r\n```\r\n\r\n## EDIT 1\r\nThere is one method upstream which is calling `getApplicationSettings()` and from where error is originating.\r\n`fetchSettings::fetch` is a function passed as an argument.\r\n\r\n```\r\nreturn testSettingsMap\r\n    .computeIfAbsent(app, testSettings::fetch)\r\n    .thenApply(TestSettings::debugSettings)\r\n    .thenApply(s -&gt; s.equals(MAXIMUM));\r\n```\r\n\r\nNote :testSettingsMap is a ConcurrentHashMap `private final ConcurrentHashMap&lt;String, CompletableFuture&lt;TestSettings&gt;&gt; testSettingsMap;`\r\n\r\nHow can I debug or fix this problem ?","title":"ERROR : Duplicate Subscription has been detected while using Reactive webclient","body":"<p>I am using spring webflux client to call reactive apis.\nIt is resulting into this error</p>\n<pre><code>java.lang.IllegalStateException: Spec. Rule 2.12 - Subscriber.onSubscribe MUST NOT be called more than once (based on object equality)\n    at reactor.core.Exceptions.duplicateOnSubscribeException(Exceptions.java:181)\n    at reactor.core.publisher.Operators.reportSubscriptionSet(Operators.java:1083)\n    at reactor.core.publisher.Operators.setOnce(Operators.java:1188)\n    at reactor.core.publisher.MonoFlatMap.onSubscribe(MonoFlatMap.java:102)\n    at reactor.core.publisher.Operators.reportThrowInSubscribe(Operators.java:225)\n    at reactor.core.publisher.Mono.subscribe(Mono.java:4255)\n    at reactor.core.publisher.Mono.subscribeWith(Mono.java:4363)\n    at reactor.core.publisher.Mono.toFuture(Mono.java:4697)\n    at abc.bcd.cde.fgh.SettingsRepositoryImplP2.getApplicationSettings(SettingsRepositoryImplP2.java:32)\n    at java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1705)\n    at abc.bcd.cde.fgh.ApplicationSettingsCache.hasMaxCapture(ApplicationSettingsCache.java:38)\n    at abc.bcd.cde.fgh.ApplicationDebugService.shouldBeCaptured(ApplicationDebugService.java:20)\n    at abc.bcd.cde.fgh.ApplicationDebugService.lambdaf865c(ApplicationDebugService.java:26)\n    at akka.stream.javadsl.Flow.(Flow.scala:739)\n    at akka.stream.impl.fusing.MapAsync96775anon.onPush(Ops.scala:1307)\n    at akka.stream.impl.fusing.GraphInterpreter.processPush(GraphInterpreter.scala:542)\n    at akka.stream.impl.fusing.GraphInterpreter.execute(GraphInterpreter.scala:423)\n    at akka.stream.impl.fusing.GraphInterpreterShell.runBatch(ActorGraphInterpreter.scala:650)\n    at akka.stream.impl.fusing.GraphInterpreterShell.execute(ActorGraphInterpreter.scala:521)\n    at akka.stream.impl.fusing.GraphInterpreterShell.processEvent(ActorGraphInterpreter.scala:625)\n    at akka.stream.impl.fusing.ActorGraphInterpreter.akka96775processEvent(ActorGraphInterpreter.scala:800)\n    at akka.stream.impl.fusing.ActorGraphInterpreter.akka96775shortCircuitBatch(ActorGraphInterpreter.scala:787)\n    at akka.stream.impl.fusing.ActorGraphInterpreter96775anonfun.applyOrElse(ActorGraphInterpreter.scala:819)\n    at akka.actor.Actor.aroundReceive(Actor.scala:537)\n    at akka.actor.Actor.aroundReceive\n    at akka.stream.impl.fusing.ActorGraphInterpreter.aroundReceive(ActorGraphInterpreter.scala:716)\n    at akka.actor.ActorCell.receiveMessage96775(ActorCell.scala:580)\n    at akka.actor.ActorCell.receiveMessage(ActorCell.scala)\n    at akka.actor.ActorCell.invoke(ActorCell.scala:548)\n    at akka.dispatch.Mailbox.processMailbox(Mailbox.scala:270)\n    at akka.dispatch.Mailbox.run(Mailbox.scala:231)\n    at akka.dispatch.Mailbox.exec(Mailbox.scala:243)\n    at java.util.concurrent.ForkJoinTask.doExec96775(ForkJoinTask.java:290)\n    at java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java)\n    at java.util.concurrent.ForkJoinPool.topLevelExec(ForkJoinPool.java:1020)\n    at java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1656)\n    at java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1594)\n    at java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:183)\n</code></pre>\n<p>My Call looks like this</p>\n<pre><code>public Mono&lt;TestSettings&gt; retrieveApplicationConfiguration(String applicationId) {\n\n        var url = applicationConfigurationServiceUrl.concat(&quot;/conf&quot;).concat(&quot;/{id}&quot;);\n\n        return webClient.get()\n                .uri(url, applicationId)\n                .retrieve()\n                .onStatus(HttpStatus::is4xxClientError,\n                        (clientResponse -&gt; {\n                            log.info(&quot;Status code : {}&quot;, clientResponse.statusCode().value());\n                            if (clientResponse.statusCode().equals(HttpStatus.NOT_FOUND)) {\n                                //return TestSettings.captureABC();\n                                return Mono.error(new ApplicationConfigServiceException(&quot;Error fetching Applications for application &quot; + applicationId, clientResponse.statusCode().value()));\n                            }\n                            return clientResponse.bodyToMono(String.class)\n                                    .flatMap(response -&gt; Mono.error(new ApplicationConfigServiceException(&quot; Error fetching Applications for &quot; + applicationId + response, clientResponse.statusCode().value())));\n                        }))\n                .onStatus(HttpStatus::is5xxServerError,\n                        (clientResponse -&gt; {\n                        log.info(&quot;Status code : {}&quot;, clientResponse.statusCode().value());\n                        return clientResponse.bodyToMono(String.class)\n                            .flatMap(response -&gt; Mono.error(new ApplicationConfigServiceException(response, clientResponse.statusCode().value())));\n                }))\n                .bodyToMono(ApplicationConfigurationResponse.class)\n                .map(a -&gt; {\n                    log.info(&quot;LOG : {}&quot;, a);\n                    return TestSettings.create(a);\n                })\n                //.retryWhen(WebClientRetryUtil.retrySpec())\n                .log();\n    }\n</code></pre>\n<p>and webclient call is then used as below. here i am converting <code>Mono</code> to <code>CompletableFuture</code>.</p>\n<pre><code>    @Override\n    public CompletableFuture&lt;TestSettings&gt; getApplicationSettings(String application) {\n        return webClient.retrieveApplicationConfiguration(application)\n                .toFuture();\n    }\n</code></pre>\n<h2>EDIT 1</h2>\n<p>There is one method upstream which is calling <code>getApplicationSettings()</code> and from where error is originating.\n<code>fetchSettings::fetch</code> is a function passed as an argument.</p>\n<pre><code>return testSettingsMap\n    .computeIfAbsent(app, testSettings::fetch)\n    .thenApply(TestSettings::debugSettings)\n    .thenApply(s -&gt; s.equals(MAXIMUM));\n</code></pre>\n<p>Note :testSettingsMap is a ConcurrentHashMap <code>private final ConcurrentHashMap&lt;String, CompletableFuture&lt;TestSettings&gt;&gt; testSettingsMap;</code></p>\n<p>How can I debug or fix this problem ?</p>\n"},{"tags":["java","android","tablelayout","landscape"],"answers":[{"tags":[],"owner":{"account_id":6229528,"reputation":94,"user_id":4846768,"display_name":"Pedro Val&#233;rio"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1497387271,"creation_date":1497387271,"answer_id":44531377,"question_id":44526027,"body_markdown":"Not sure why it&#39;s displaying different, from what I can understand it&#39;s displaying as it should be considering the layout attributes (i.e. all wrap_content), there is nothing to indicate it should fill the parent.\r\nHowever changing the fillViewPort attribute of the horizontal ScrollView and it&#39;s width to match_parent do the trick work. \r\n\r\nhttps://developer.android.com/reference/android/widget/ScrollView.html#attr_android:fillViewport\r\n\r\n        ...\r\n        &lt;HorizontalScrollView\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:fillViewport=&quot;true&quot;&gt;\r\n        ...","title":"Android 23 and smaller don&#39;t fill all screen in landscape mode","body":"<p>Not sure why it's displaying different, from what I can understand it's displaying as it should be considering the layout attributes (i.e. all wrap_content), there is nothing to indicate it should fill the parent.\nHowever changing the fillViewPort attribute of the horizontal ScrollView and it's width to match_parent do the trick work. </p>\n\n<p><a href=\"https://developer.android.com/reference/android/widget/ScrollView.html#attr_android:fillViewport\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/android/widget/ScrollView.html#attr_android:fillViewport</a></p>\n\n<pre><code>    ...\n    &lt;HorizontalScrollView\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    android:fillViewport=\"true\"&gt;\n    ...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9523529,"reputation":53,"user_id":7077549,"accept_rate":25,"display_name":"Gonzalo Le&#243;n"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678295048,"creation_date":1678295048,"answer_id":75676071,"question_id":44526027,"body_markdown":"If work for someone, the solution was change `RelativeLayout` to `CoordinatorLayout` and change `HorizontalScrollView` to `NestedScrollView`:\r\n\r\n    &lt;android.support.design.widget.CoordinatorLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:fitsSystemWindows=&quot;true&quot;&gt;\r\n    \r\n    &lt;include\r\n        android:id=&quot;@id/action_bar&quot;\r\n        layout=&quot;@layout/actionbar_toolbar&quot; /&gt;\r\n    \r\n    &lt;android.support.v4.widget.NestedScrollView\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        app:layout_behavior=&quot;@string/appbar_scrolling_view_behavior&quot;&gt;\r\n    \r\n        &lt;HorizontalScrollView\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;&gt;\r\n    \r\n            &lt;TableLayout\r\n                android:id=&quot;@+id/table&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:stretchColumns=&quot;*&quot; /&gt;\r\n        &lt;/HorizontalScrollView&gt;\r\n    \r\n    &lt;/android.support.v4.widget.NestedScrollView&gt;","title":"Android 23 and smaller don&#39;t fill all screen in landscape mode","body":"<p>If work for someone, the solution was change <code>RelativeLayout</code> to <code>CoordinatorLayout</code> and change <code>HorizontalScrollView</code> to <code>NestedScrollView</code>:</p>\n<pre><code>&lt;android.support.design.widget.CoordinatorLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nxmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;match_parent&quot;\nandroid:fitsSystemWindows=&quot;true&quot;&gt;\n\n&lt;include\n    android:id=&quot;@id/action_bar&quot;\n    layout=&quot;@layout/actionbar_toolbar&quot; /&gt;\n\n&lt;android.support.v4.widget.NestedScrollView\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    app:layout_behavior=&quot;@string/appbar_scrolling_view_behavior&quot;&gt;\n\n    &lt;HorizontalScrollView\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;&gt;\n\n        &lt;TableLayout\n            android:id=&quot;@+id/table&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:stretchColumns=&quot;*&quot; /&gt;\n    &lt;/HorizontalScrollView&gt;\n\n&lt;/android.support.v4.widget.NestedScrollView&gt;\n</code></pre>\n"}],"owner":{"account_id":9523529,"reputation":53,"user_id":7077549,"accept_rate":25,"display_name":"Gonzalo Le&#243;n"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1678295048,"creation_date":1497368502,"question_id":44526027,"body_markdown":"I make an app which uses dynamic tables, my XML code is:\r\n\r\n    &lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:layout_weight=&quot;1&quot;\r\n    android:scrollbars=&quot;none&quot;&gt;\r\n\r\n    &lt;include\r\n        android:id=&quot;@id/action_bar&quot;\r\n        layout=&quot;@layout/actionbar_toolbar&quot; /&gt;\r\n\r\n    &lt;HorizontalScrollView\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_below=&quot;@id/action_bar&quot;&gt;\r\n\r\n        &lt;ScrollView\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;&gt;\r\n\r\n            &lt;TableLayout\r\n                android:id=&quot;@+id/table&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                 android:stretchColumns=&quot;*&quot;&gt;\r\n\r\n            &lt;/TableLayout&gt;\r\n        &lt;/ScrollView&gt;\r\n    &lt;/HorizontalScrollView&gt;\r\n&lt;/RelativeLayout&gt;\r\n\r\nThe table take all values from code. My problem is that in Android 23 and less, when you put screen orientation in landscape mode, the screen looks like:\r\n\r\n[![landscape 23][1]][1]\r\n\r\nBut in Android version 24 and above, the screen looks good:\r\n\r\n[![landscape 24][2]][2]\r\n\r\nP.D: `match_parent` property don&#39;t work.\r\n\r\n  [1]: https://i.stack.imgur.com/mTejv.png\r\n  [2]: https://i.stack.imgur.com/3sQG1.png","title":"Android 23 and smaller don&#39;t fill all screen in landscape mode","body":"<p>I make an app which uses dynamic tables, my XML code is:</p>\n\n<pre><code>&lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"\nandroid:layout_weight=\"1\"\nandroid:scrollbars=\"none\"&gt;\n\n&lt;include\n    android:id=\"@id/action_bar\"\n    layout=\"@layout/actionbar_toolbar\" /&gt;\n\n&lt;HorizontalScrollView\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:layout_below=\"@id/action_bar\"&gt;\n\n    &lt;ScrollView\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"&gt;\n\n        &lt;TableLayout\n            android:id=\"@+id/table\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n             android:stretchColumns=\"*\"&gt;\n\n        &lt;/TableLayout&gt;\n    &lt;/ScrollView&gt;\n&lt;/HorizontalScrollView&gt;\n</code></pre>\n\n<p></p>\n\n<p>The table take all values from code. My problem is that in Android 23 and less, when you put screen orientation in landscape mode, the screen looks like:</p>\n\n<p><a href=\"https://i.stack.imgur.com/mTejv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mTejv.png\" alt=\"landscape 23\"></a></p>\n\n<p>But in Android version 24 and above, the screen looks good:</p>\n\n<p><a href=\"https://i.stack.imgur.com/3sQG1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3sQG1.png\" alt=\"landscape 24\"></a></p>\n\n<p>P.D: <code>match_parent</code> property don't work.</p>\n"},{"tags":["python","java","windows","optapy"],"comments":[{"owner":{"account_id":13441459,"reputation":1433,"user_id":9698517,"display_name":"Christopher Chianelli"},"score":0,"creation_date":1678131061,"post_id":75622934,"comment_id":133470570,"body_markdown":"What the exception above &quot;During the handling of the above exception, another exception occur&quot;? The traceback in the image does not point to any optapy code (and seems to be related to prettifying the actual traceback). Can you give the full traceback please?","body":"What the exception above &quot;During the handling of the above exception, another exception occur&quot;? The traceback in the image does not point to any optapy code (and seems to be related to prettifying the actual traceback). Can you give the full traceback please?"}],"answers":[{"tags":[],"owner":{"account_id":13441459,"reputation":1433,"user_id":9698517,"display_name":"Christopher Chianelli"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678294959,"creation_date":1678294959,"answer_id":75676054,"question_id":75622934,"body_markdown":"From the top error message, it appears Java 8 is being used; OptaPlanner and OptaPy require Java 11. The environment variable that need to be set is `JAVA_HOME`, not `JAVA-HOME`; ensure `JAVA_HOME` is set to the path where Java JDK-17.0.6.10 is installed.","title":"Optapy error with getting the rigth JAVA version and couldn&#39;t get source code in a ipynb","body":"<p>From the top error message, it appears Java 8 is being used; OptaPlanner and OptaPy require Java 11. The environment variable that need to be set is <code>JAVA_HOME</code>, not <code>JAVA-HOME</code>; ensure <code>JAVA_HOME</code> is set to the path where Java JDK-17.0.6.10 is installed.</p>\n"}],"owner":{"account_id":27923646,"reputation":1,"user_id":21323198,"display_name":"vctrgv"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678294959,"creation_date":1677814298,"question_id":75622934,"body_markdown":"I am trying to use the library optapy with a conda environment created locally. I have installed all of the libraries I needes to, also installed Java JDK-17.0.6.10 and created a JAVA-HOME variable. But when I try to run and try to use optapy it doesn&#39;t let me and all I get is a big error where it says the OSError: could not get source code.\r\n\r\npd: I&#39;m using python 3.9\r\n\r\n[error message](https://i.stack.imgur.com/Wh1oh.png)\r\n[error message 2](https://i.stack.imgur.com/LWluE.png)\r\n\r\nI hope someone can help me with this problem and tell me what to do","title":"Optapy error with getting the rigth JAVA version and couldn&#39;t get source code in a ipynb","body":"<p>I am trying to use the library optapy with a conda environment created locally. I have installed all of the libraries I needes to, also installed Java JDK-17.0.6.10 and created a JAVA-HOME variable. But when I try to run and try to use optapy it doesn't let me and all I get is a big error where it says the OSError: could not get source code.</p>\n<p>pd: I'm using python 3.9</p>\n<p><a href=\"https://i.stack.imgur.com/Wh1oh.png\" rel=\"nofollow noreferrer\">error message</a>\n<a href=\"https://i.stack.imgur.com/LWluE.png\" rel=\"nofollow noreferrer\">error message 2</a></p>\n<p>I hope someone can help me with this problem and tell me what to do</p>\n"},{"tags":["java","kotlin","android-tv","leanback"],"owner":{"account_id":27873048,"reputation":1,"user_id":21283114,"display_name":"dev123456"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678294941,"creation_date":1678294941,"question_id":75676048,"body_markdown":"I need to add a banner (that is not selectable or focusable) between two rows.\r\n\r\nWhen I add it as an ImageView to FrameLayout xml, the view is in the background with the rows scrolling on top. \r\n\r\nIf I add the view to FrameLayout programmatically like [this](https://stackoverflow.com/questions/54287201/add-custom-view-to-androidtvs-leanback-rowssupportfragment), the view is in the foreground with rows scrolling in the background. \r\n\r\nI want the view to scroll with the rows. \r\n\r\nIf I create a custom FrameLayout and add the view would it scroll with the content? Or is there another way to achieve this?","title":"Add view to RowsSupportFragment AndroidTV Leanback?","body":"<p>I need to add a banner (that is not selectable or focusable) between two rows.</p>\n<p>When I add it as an ImageView to FrameLayout xml, the view is in the background with the rows scrolling on top.</p>\n<p>If I add the view to FrameLayout programmatically like <a href=\"https://stackoverflow.com/questions/54287201/add-custom-view-to-androidtvs-leanback-rowssupportfragment\">this</a>, the view is in the foreground with rows scrolling in the background.</p>\n<p>I want the view to scroll with the rows.</p>\n<p>If I create a custom FrameLayout and add the view would it scroll with the content? Or is there another way to achieve this?</p>\n"},{"tags":["java","selenium","selenium-webdriver","geckodriver","selenium-java"],"comments":[{"owner":{"account_id":1856464,"reputation":514,"user_id":1681917,"accept_rate":100,"display_name":"Ahamed Abdul Rahman"},"score":0,"creation_date":1687665345,"post_id":72185792,"comment_id":134967392,"body_markdown":"As far as I know, devtools support only Chrome as of now. We may either use old LogType.PERFORMANCE such entities or wait for BiDi.","body":"As far as I know, devtools support only Chrome as of now. We may either use old LogType.PERFORMANCE such entities or wait for BiDi."}],"owner":{"account_id":2378991,"reputation":100,"user_id":2081492,"display_name":"Lucas"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1605,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1678294611,"creation_date":1652183412,"question_id":72185792,"body_markdown":"In my Selenium tests using Firefox I always get an error when I try to get the browser console logs. Same code works fine for Chrome and Edge.\r\n\r\nFor the tests I am using:\r\n\r\n - Firefox 100.0\r\n - geckodriver 0.31\r\n - Selenium 4.1.4\r\n\r\n```\r\npublic static void main(String... args) {\r\n    \r\n    WebDriver webDriver = WebDriverManager.firefoxdriver().create();\r\n\r\n    try {\r\n        \r\n        DevTools devTools = ((HasDevTools) webDriver).getDevTools();\r\n        devTools.createSessionIfThereIsNotOne();\r\n        devTools.send(Log.enable());\r\n        devTools.addListener(Log.entryAdded(), logEntry -&gt; System.out.println(logEntry.getText()));\r\n\r\n        webDriver.navigate().to(&quot;https://stackoverflow.com&quot;);\r\n\r\n    } finally {\r\n        webDriver.quit();   \r\n    }\r\n}\r\n```\r\n\r\nRunning the previous snippet will always raise the following errors.\r\n\r\n```\r\nJavaScript error: chrome://remote/content/server/WebSocketHandshake.jsm, line 182: Error: The handshake request has incorrect Origin header http://localhost:60734\r\nMay 10, 2022 1:32:16 PM org.openqa.selenium.remote.http.WebSocket$Listener onError\r\nWARNING: Invalid Status code=400 text=Bad Request\r\njava.io.IOException: Invalid Status code=400 text=Bad Request\r\n\tat org.asynchttpclient.netty.handler.WebSocketHandler.abort(WebSocketHandler.java:92)\r\n\tat org.asynchttpclient.netty.handler.WebSocketHandler.handleRead(WebSocketHandler.java:118)\r\n\tat org.asynchttpclient.netty.handler.AsyncHttpClientHandler.channelRead(AsyncHttpClientHandler.java:78)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\r\n\tat io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:327)\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:314)\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:435)\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:279)\r\n\tat io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\r\n\tat io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n\tat io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)\r\n\tat io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:722)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584)\r\n\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496)\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:986)\r\n\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n\tat java.base/java.lang.Thread.run(Thread.java:834)\r\n```\r\n\r\n```\r\nUnable to establish websocket connection to http://localhost:60734/devtools/browser/69e68eb4-b5c5-45c4-b53f-62023f856b44\r\nBuild info: version: &#39;4.1.4&#39;, revision: &#39;535d840ee2&#39;\r\nSystem info: os.name: &#39;Windows 10&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;10.0&#39;, java.version: &#39;11.0.13&#39;\r\nDriver info: driver.version: FirefoxDriver\r\n```","title":"Unable to establish websocket connection error getting Firefox console logs using Selenium for Java","body":"<p>In my Selenium tests using Firefox I always get an error when I try to get the browser console logs. Same code works fine for Chrome and Edge.</p>\n<p>For the tests I am using:</p>\n<ul>\n<li>Firefox 100.0</li>\n<li>geckodriver 0.31</li>\n<li>Selenium 4.1.4</li>\n</ul>\n<pre><code>public static void main(String... args) {\n    \n    WebDriver webDriver = WebDriverManager.firefoxdriver().create();\n\n    try {\n        \n        DevTools devTools = ((HasDevTools) webDriver).getDevTools();\n        devTools.createSessionIfThereIsNotOne();\n        devTools.send(Log.enable());\n        devTools.addListener(Log.entryAdded(), logEntry -&gt; System.out.println(logEntry.getText()));\n\n        webDriver.navigate().to(&quot;https://stackoverflow.com&quot;);\n\n    } finally {\n        webDriver.quit();   \n    }\n}\n</code></pre>\n<p>Running the previous snippet will always raise the following errors.</p>\n<pre><code>JavaScript error: chrome://remote/content/server/WebSocketHandshake.jsm, line 182: Error: The handshake request has incorrect Origin header http://localhost:60734\nMay 10, 2022 1:32:16 PM org.openqa.selenium.remote.http.WebSocket$Listener onError\nWARNING: Invalid Status code=400 text=Bad Request\njava.io.IOException: Invalid Status code=400 text=Bad Request\n    at org.asynchttpclient.netty.handler.WebSocketHandler.abort(WebSocketHandler.java:92)\n    at org.asynchttpclient.netty.handler.WebSocketHandler.handleRead(WebSocketHandler.java:118)\n    at org.asynchttpclient.netty.handler.AsyncHttpClientHandler.channelRead(AsyncHttpClientHandler.java:78)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\n    at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)\n    at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:327)\n    at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:314)\n    at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:435)\n    at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:279)\n    at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\n    at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\n    at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)\n    at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:722)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584)\n    at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496)\n    at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:986)\n    at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n    at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n    at java.base/java.lang.Thread.run(Thread.java:834)\n</code></pre>\n<pre><code>Unable to establish websocket connection to http://localhost:60734/devtools/browser/69e68eb4-b5c5-45c4-b53f-62023f856b44\nBuild info: version: '4.1.4', revision: '535d840ee2'\nSystem info: os.name: 'Windows 10', os.arch: 'amd64', os.version: '10.0', java.version: '11.0.13'\nDriver info: driver.version: FirefoxDriver\n</code></pre>\n"},{"tags":["java","arrays","indexof"],"comments":[{"owner":{"account_id":1220345,"reputation":2383,"user_id":1187098,"accept_rate":62,"display_name":"art vanderlay"},"score":1,"creation_date":1337315037,"post_id":10646520,"comment_id":13804481,"body_markdown":"jmort&#39;s answer does give the position, the other two are good for doing something when it is found. thx for the quick respnses","body":"jmort&#39;s answer does give the position, the other two are good for doing something when it is found. thx for the quick respnses"}],"answers":[{"tags":[],"owner":{"account_id":265671,"reputation":33764,"user_id":552792,"accept_rate":43,"display_name":"jamesmortensen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1337313989,"creation_date":1337313989,"answer_id":10646562,"question_id":10646520,"body_markdown":"You have to check each item in the array individually, as each array item is a separate string:\r\n\r\n    String[] full = { &quot;a1a&quot;, &quot;b2b&quot;, &quot;c3c&quot; };\r\n    String doT = &quot;b2&quot;;\r\n   \r\n    for(int i = 0; i &lt; full.length; i++) {\r\n        if(full[i].contains(doT)) {\r\n            System.out.println(&quot;Found item at index &quot; + i);\r\n        }\r\n    }","title":"Java - find indexof for part of a needle in array haystack","body":"<p>You have to check each item in the array individually, as each array item is a separate string:</p>\n\n<pre><code>String[] full = { \"a1a\", \"b2b\", \"c3c\" };\nString doT = \"b2\";\n\nfor(int i = 0; i &lt; full.length; i++) {\n    if(full[i].contains(doT)) {\n        System.out.println(\"Found item at index \" + i);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":980255,"reputation":2416,"user_id":1000159,"accept_rate":84,"display_name":"dann.dev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1337314003,"creation_date":1337314003,"answer_id":10646565,"question_id":10646520,"body_markdown":"You are matching on the entire string, you are going to have to loop through the whole list or array, and then check each indexOf on each of those strings.\r\n\r\n    for (String s : FullDirPrt) {\r\n        if (s.indexOf(&quot;bs&quot;) &gt; 0) {\r\n            // do something\r\n        }\r\n    }","title":"Java - find indexof for part of a needle in array haystack","body":"<p>You are matching on the entire string, you are going to have to loop through the whole list or array, and then check each indexOf on each of those strings.</p>\n\n<pre><code>for (String s : FullDirPrt) {\n    if (s.indexOf(\"bs\") &gt; 0) {\n        // do something\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1028895,"reputation":8390,"user_id":1037609,"accept_rate":100,"display_name":"Balaswamy Vaddeman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1337314183,"creation_date":1337314183,"answer_id":10646584,"question_id":10646520,"body_markdown":"With Simple String array without using List also you can do like below.\r\n\r\n    String[] full={&quot;a1a&quot;, &quot;b2b&quot;, &quot;c3c&quot;};\r\n    String doT = &quot;b2&quot;;\r\n    for(String str:full){\r\n    if(str.contains(doT)){\r\n    System.out.println(str+&quot; contains &quot;+doT);\r\n    }\r\n    }","title":"Java - find indexof for part of a needle in array haystack","body":"<p>With Simple String array without using List also you can do like below.</p>\n\n<pre><code>String[] full={\"a1a\", \"b2b\", \"c3c\"};\nString doT = \"b2\";\nfor(String str:full){\nif(str.contains(doT)){\nSystem.out.println(str+\" contains \"+doT);\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22811207,"reputation":1,"user_id":16962469,"display_name":"Aditya Parihar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678294080,"creation_date":1677862311,"answer_id":75629824,"question_id":10646520,"body_markdown":"    public int stringFinder(String haystack, String needle) {\r\n        return haystack.indexOf(needle);       \r\n    } \r\n\r\n&gt; haystack is String\r\n&gt; needle which is to find in It\r\n\r\n    string.indexOf(stringTofind)","title":"Java - find indexof for part of a needle in array haystack","body":"<pre><code>public int stringFinder(String haystack, String needle) {\n    return haystack.indexOf(needle);       \n} \n</code></pre>\n<blockquote>\n<p>haystack is String\nneedle which is to find in It</p>\n</blockquote>\n<pre><code>string.indexOf(stringTofind)\n</code></pre>\n"}],"owner":{"account_id":1220345,"reputation":2383,"user_id":1187098,"accept_rate":62,"display_name":"art vanderlay"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1454,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":10646562,"answer_count":4,"score":1,"last_activity_date":1678294080,"creation_date":1337313626,"question_id":10646520,"body_markdown":"I am trying to find what array index position contains part of a string.\r\n\r\n    FullDirPrt = &quot;a1a&quot; &quot;b2b&quot; &quot;c3c&quot;\r\n\r\n    String doT =&quot;b2&quot;;\r\n    int DotPos = Arrays.asList(FullDirPrt).indexOf(doT);\r\n\r\nIf I search for b2b it returns indexOf. If I search for only b2, it returns -1.\r\n","title":"Java - find indexof for part of a needle in array haystack","body":"<p>I am trying to find what array index position contains part of a string.</p>\n\n<pre><code>FullDirPrt = \"a1a\" \"b2b\" \"c3c\"\n\nString doT =\"b2\";\nint DotPos = Arrays.asList(FullDirPrt).indexOf(doT);\n</code></pre>\n\n<p>If I search for b2b it returns indexOf. If I search for only b2, it returns -1.</p>\n"},{"tags":["java","scala","apache-spark"],"comments":[{"owner":{"account_id":5335286,"reputation":39826,"user_id":4254517,"accept_rate":48,"display_name":"Dima"},"score":1,"creation_date":1678284913,"post_id":75673879,"comment_id":133502832,"body_markdown":"Most likely, `func1` is called twice (perhaps, with different arguments) .. you&#39;d have to show (a lot) more of the code for it to be a [MRE](https://stackoverflow.com/help/minimal-reproducible-example). \nThe root problem with your code (aside from overusing `vars`) is that `func1` is side-effecting. Having `accum` as a  mutable class member whose state changes when a method is invoked is fundamentally what causes all of the badness you experience here.","body":"Most likely, <code>func1</code> is called twice (perhaps, with different arguments) .. you&#39;d have to show (a lot) more of the code for it to be a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">MRE</a>.  The root problem with your code (aside from overusing <code>vars</code>) is that <code>func1</code> is side-effecting. Having <code>accum</code> as a  mutable class member whose state changes when a method is invoked is fundamentally what causes all of the badness you experience here."},{"owner":{"account_id":4469491,"reputation":1200,"user_id":3744997,"accept_rate":83,"display_name":"Abhishek Agarwal"},"score":0,"creation_date":1678293764,"post_id":75673879,"comment_id":133505779,"body_markdown":"what could be a better way to achieve the goal of counting the requests here?\n\nHave verified that func1 is being called just once but it calls another function func3 which has a map call to func2 but the df being passed for that is empty. Updating the code to reflect this","body":"what could be a better way to achieve the goal of counting the requests here?  Have verified that func1 is being called just once but it calls another function func3 which has a map call to func2 but the df being passed for that is empty. Updating the code to reflect this"},{"owner":{"account_id":5335286,"reputation":39826,"user_id":4254517,"accept_rate":48,"display_name":"Dima"},"score":0,"creation_date":1678300405,"post_id":75673879,"comment_id":133507620,"body_markdown":"I am not sure what are the &quot;requests&quot; you are counting  ... Seems like `df.count()` would do what you are looking for &#129335;","body":"I am not sure what are the &quot;requests&quot; you are counting  ... Seems like <code>df.count()</code> would do what you are looking for 🤷"},{"owner":{"account_id":4469491,"reputation":1200,"user_id":3744997,"accept_rate":83,"display_name":"Abhishek Agarwal"},"score":0,"creation_date":1678343227,"post_id":75673879,"comment_id":133514595,"body_markdown":"there is actually a logic in func2 which does not make it a add(1) call every time. func2 call could result in either adding 1 or 2 to the accumulator and I need this accumulator value later in the code to compare against a request breach limit","body":"there is actually a logic in func2 which does not make it a add(1) call every time. func2 call could result in either adding 1 or 2 to the accumulator and I need this accumulator value later in the code to compare against a request breach limit"},{"owner":{"account_id":5335286,"reputation":39826,"user_id":4254517,"accept_rate":48,"display_name":"Dima"},"score":0,"creation_date":1678372955,"post_id":75673879,"comment_id":133522862,"body_markdown":"I dunno ... then maybe you are adding 2 too often &#129335;\nLook, your question is essentially this: &quot;I have some code that I won&#39;t show, with some logic that I won&#39;t explain, and it doesn&#39;t work. Why?&quot;","body":"I dunno ... then maybe you are adding 2 too often 🤷 Look, your question is essentially this: &quot;I have some code that I won&#39;t show, with some logic that I won&#39;t explain, and it doesn&#39;t work. Why?&quot;"}],"owner":{"account_id":4469491,"reputation":1200,"user_id":3744997,"accept_rate":83,"display_name":"Abhishek Agarwal"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678294040,"creation_date":1678283138,"question_id":75673879,"body_markdown":"I have a piece of code where I am declaring an accumulator in the parent class. I have a function in this parent class which maps a DataFrame to a function defined in the child classes. I have the accumulator increment by 1 in the child class function, so that every time the mapping function is called the accumulator increments by 1. So if the mapping function is called x times, accumulator should hold the value x. However I am seeing accumulator shows approx 2x on logging. The code looks something like below: \r\n\r\n    abstract class A{\r\n      var accum = sparkCtx.accumulator(0)\r\n      def func1(df) {\r\n        var df2 = df.map(func2)\r\n        func3(df2)\r\n      }\r\n      def func3(df2) {\r\n        //filter operation on df2 which basically makes the count 0\r\n        var df3 = df2.filter(&quot;Condition which never satisfies&quot;)\r\n        var df4 = df3.map(func2)\r\n    }\r\n    class B extends A{\r\n      def func2() {\r\n        accum.add(1)\r\n       //return df\r\n      }\r\n    }\r\n\r\nWhat am I doing wrong here?\r\n","title":"Spark accumulator giving twice the sum","body":"<p>I have a piece of code where I am declaring an accumulator in the parent class. I have a function in this parent class which maps a DataFrame to a function defined in the child classes. I have the accumulator increment by 1 in the child class function, so that every time the mapping function is called the accumulator increments by 1. So if the mapping function is called x times, accumulator should hold the value x. However I am seeing accumulator shows approx 2x on logging. The code looks something like below:</p>\n<pre><code>abstract class A{\n  var accum = sparkCtx.accumulator(0)\n  def func1(df) {\n    var df2 = df.map(func2)\n    func3(df2)\n  }\n  def func3(df2) {\n    //filter operation on df2 which basically makes the count 0\n    var df3 = df2.filter(&quot;Condition which never satisfies&quot;)\n    var df4 = df3.map(func2)\n}\nclass B extends A{\n  def func2() {\n    accum.add(1)\n   //return df\n  }\n}\n</code></pre>\n<p>What am I doing wrong here?</p>\n"},{"tags":["java","spring","spring-data-jpa"],"owner":{"account_id":9896308,"reputation":143,"user_id":7327706,"display_name":"Arczi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678294016,"creation_date":1678294016,"question_id":75675890,"body_markdown":"Hello I have problem to solve, I have class:\r\n\r\n    @Entity\r\n    public class Test {\r\n      private String a;\r\n      private String b;\r\n      private String c;\r\n      private String d;\r\n      private String e;\r\n    }\r\n\r\nThis entity is saved into database.\r\nNow I have (list may be changed)\r\n\r\n    List&lt;String&gt; w = List.of(&quot;a&quot;,&quot;b&quot;,&quot;d&quot;);\r\n\r\nNow database should return object with this aggregated ID from field (a,b,d);\r\nIs it way to resolve it via repository, specification etc ?\r\n\r\nActually I resolving it by switch and I check string and return correct field, but I it looks messy.\r\n\r\nAny idea to do it in better way ?\r\n","title":"Best way to dynamic aggregate field","body":"<p>Hello I have problem to solve, I have class:</p>\n<pre><code>@Entity\npublic class Test {\n  private String a;\n  private String b;\n  private String c;\n  private String d;\n  private String e;\n}\n</code></pre>\n<p>This entity is saved into database.\nNow I have (list may be changed)</p>\n<pre><code>List&lt;String&gt; w = List.of(&quot;a&quot;,&quot;b&quot;,&quot;d&quot;);\n</code></pre>\n<p>Now database should return object with this aggregated ID from field (a,b,d);\nIs it way to resolve it via repository, specification etc ?</p>\n<p>Actually I resolving it by switch and I check string and return correct field, but I it looks messy.</p>\n<p>Any idea to do it in better way ?</p>\n"},{"tags":["java","keystore","client-certificates","pem","pkcs#12"],"comments":[{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1678308285,"post_id":75665942,"comment_id":133509559,"body_markdown":"PEM is not a keystore format supported by Java. You can (1) use OpenSSL to _convert_ to PKCS12, which Java can read (except OpenSSL 3.0.0 up uses PKCS12 options that older versions of Java can&#39;t read, in that case use `openssl pkcs12 -export -legacy`) (2) use a program that handles PEM, like https://keystore-explorer.org (3) use https://www.BouncyCastle.org to read the PEM . Only (3) is now in scope for Stack, but there are hundreds of existing Qs and As from past years on all of these, just put &#39;convert PEM to Java&#39; or &#39;read PEM in Java&#39; or similar in the search box.","body":"PEM is not a keystore format supported by Java. You can (1) use OpenSSL to <i>convert</i> to PKCS12, which Java can read (except OpenSSL 3.0.0 up uses PKCS12 options that older versions of Java can&#39;t read, in that case use <code>openssl pkcs12 -export -legacy</code>) (2) use a program that handles PEM, like <a href=\"https://keystore-explorer.org\" rel=\"nofollow noreferrer\">keystore-explorer.org</a> (3) use <a href=\"https://www.BouncyCastle.org\" rel=\"nofollow noreferrer\">BouncyCastle.org</a> to read the PEM . Only (3) is now in scope for Stack, but there are hundreds of existing Qs and As from past years on all of these, just put &#39;convert PEM to Java&#39; or &#39;read PEM in Java&#39; or similar in the search box."}],"owner":{"account_id":26085885,"reputation":1,"user_id":19783418,"display_name":"User 3598"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":547,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678293718,"creation_date":1678214168,"question_id":75665942,"body_markdown":"I have a base-64 encoded PEM string which contains a certificate chain and private key. When I am trying to load the same in &quot;JKS&quot; type keystore its giving &quot;java.io.IOException: Invalid keystore format&quot; error.\r\n\r\nI also tried the same with &quot;PKCS12&quot; keystore and it gives the error &quot;java.io.IOException: toDerInputStream rejects tag type 45&quot;\r\n\r\n    String keyStorePassword = destination.get(&quot;keyStorePassword&quot;).get().toString();\r\n    String certificateContent = certificateObject.getContent(); //Base 64 encoded pem string\r\n    KeyStore keyStore = KeyStore.getInstance(&quot;JKS&quot;); //KeyStore.getInstance(&quot;PKCS12&quot;);\r\n    byte[] stream = Base64.getDecoder().decode(certificateContent);\r\n    InputStream input = new ByteArrayInputStream(stream);\r\n    keyStore.load(input,keyStorePassword.toCharArray());\r\n\r\nHow can I import this into KeyStore? Any advice or hints are much welcome.","title":"Import of PEM certificate chain and key to Java Keystore","body":"<p>I have a base-64 encoded PEM string which contains a certificate chain and private key. When I am trying to load the same in &quot;JKS&quot; type keystore its giving &quot;java.io.IOException: Invalid keystore format&quot; error.</p>\n<p>I also tried the same with &quot;PKCS12&quot; keystore and it gives the error &quot;java.io.IOException: toDerInputStream rejects tag type 45&quot;</p>\n<pre><code>String keyStorePassword = destination.get(&quot;keyStorePassword&quot;).get().toString();\nString certificateContent = certificateObject.getContent(); //Base 64 encoded pem string\nKeyStore keyStore = KeyStore.getInstance(&quot;JKS&quot;); //KeyStore.getInstance(&quot;PKCS12&quot;);\nbyte[] stream = Base64.getDecoder().decode(certificateContent);\nInputStream input = new ByteArrayInputStream(stream);\nkeyStore.load(input,keyStorePassword.toCharArray());\n</code></pre>\n<p>How can I import this into KeyStore? Any advice or hints are much welcome.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":1064228,"reputation":16042,"user_id":1065180,"accept_rate":92,"display_name":"Nandkumar Tekale"},"score":2,"creation_date":1350714144,"post_id":12985827,"comment_id":17614188,"body_markdown":"@VincenzoSanchez : I didn&#39;t feel so...","body":"@VincenzoSanchez : I didn&#39;t feel so..."},{"owner":{"account_id":1064228,"reputation":16042,"user_id":1065180,"accept_rate":92,"display_name":"Nandkumar Tekale"},"score":2,"creation_date":1350714200,"post_id":12985827,"comment_id":17614194,"body_markdown":"Priyanka please edit your question, format code. It is difficult to read your code.","body":"Priyanka please edit your question, format code. It is difficult to read your code."},{"owner":{"account_id":1494484,"reputation":56249,"user_id":1400768,"display_name":"nhahtdh"},"score":0,"creation_date":1350714259,"post_id":12985827,"comment_id":17614201,"body_markdown":"What system are you trying to login to?","body":"What system are you trying to login to?"},{"owner":{"account_id":1958727,"reputation":1,"user_id":1761003,"accept_rate":82,"display_name":"Maveňツ"},"score":0,"creation_date":1350714657,"post_id":12985827,"comment_id":17614251,"body_markdown":"I am trying to login using user name Priyanka and password Priyanka but is showing in correct user name and password","body":"I am trying to login using user name Priyanka and password Priyanka but is showing in correct user name and password"}],"answers":[{"tags":[],"owner":{"account_id":1428198,"reputation":1965,"user_id":1386998,"accept_rate":62,"display_name":"Zombie"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677788268,"creation_date":1350715212,"answer_id":12985963,"question_id":12985827,"body_markdown":"    private class LoginTask extends AsyncTask &lt; Void, Void, Void &gt; {\r\n    private final ProgressDialog dialog = new ProgressDialog(Rig_ParkingActivity.this);@Override\r\n    protected void onPreExecute() {\r\n      this.dialog.setMessage(&quot;Loading ...&quot;);\r\n      this.dialog.show();\r\n    }\r\n    @Override\r\n    protected Void doInBackground(final Void...unused) {\r\n      Log.i(&quot;Priyanka&quot;, &quot;username&quot;\r\n        username);\r\n      Log.i(&quot;Priyanka&quot;, &quot;password&quot;\r\n        password);\r\n      String auth = BusinessLogic_login.candidatelogin(username, password);\r\n      String userid = auth;\r\n      Log.i(&quot;priyanka&quot;, &quot;auth&quot;\r\n        auth);\r\n      if (auth.equals(&quot;0&quot;) || (auth.equals(&quot;&quot;))) {\r\n        flag = true;\r\n        Rig_ParkingActivity.this.runOnUiThread(new Runnable() {\r\n          public void run() {\r\n            final AlertDialog alertDialog51;\r\n            alertDialog51 = new AlertDialog.Builder(Rig_ParkingActivity.this).create();\r\n            alertDialog51.setMessage(Html.fromHtml(&quot;&lt;font color=&#39;#00beb4&#39;&gt;&lt;b&gt;Enter correct Email or Password&lt;/b&gt;&lt;/font&gt;&quot;));\r\n            alertDialog51.setButton(&quot;Ok&quot;, new DialogInterface.OnClickListener() {\r\n              public void onClick(DialogInterface dialog, int which) {\r\n                alertDialog51.dismiss();\r\n              }\r\n            });\r\n            alertDialog51.setButton2(&quot;Cancel&quot;, new DialogInterface.OnClickListener() {\r\n              public void onClick(DialogInterface dialog, int which) {\r\n                alertDialog51.dismiss();\r\n              }\r\n            });\r\n            alertDialog51.show();\r\n          }\r\n        });\r\n      }\r\n      return null;\r\n    }\r\n    @Override\r\n    protected void onPostExecute(Void result) {\r\n      if (!flag) {\r\n        Intent intnt = new Intent(getBaseContext(), Tab.class);\r\n        startActivity(intnt);\r\n      }\r\n      if (this.dialog.isShowing()) {\r\n        this.dialog.dismiss();\r\n      }\r\n     }\r\n    }\r\n\r\ntry this code... Have a `boolean` value called **flag** and set it to false. I have just used it.. you have to initialize it.\r\n\r\n`onPostExecute()` will run in the UI thread.. if you call intent in `doInBackground()` method it doesnt change in `UIThread` and you cant see the changes is what i got to know from your code.. check this","title":"Issue while navigating to new activity when using async task","body":"<pre><code>private class LoginTask extends AsyncTask &lt; Void, Void, Void &gt; {\nprivate final ProgressDialog dialog = new ProgressDialog(Rig_ParkingActivity.this);@Override\nprotected void onPreExecute() {\n  this.dialog.setMessage(&quot;Loading ...&quot;);\n  this.dialog.show();\n}\n@Override\nprotected Void doInBackground(final Void...unused) {\n  Log.i(&quot;Priyanka&quot;, &quot;username&quot;\n    username);\n  Log.i(&quot;Priyanka&quot;, &quot;password&quot;\n    password);\n  String auth = BusinessLogic_login.candidatelogin(username, password);\n  String userid = auth;\n  Log.i(&quot;priyanka&quot;, &quot;auth&quot;\n    auth);\n  if (auth.equals(&quot;0&quot;) || (auth.equals(&quot;&quot;))) {\n    flag = true;\n    Rig_ParkingActivity.this.runOnUiThread(new Runnable() {\n      public void run() {\n        final AlertDialog alertDialog51;\n        alertDialog51 = new AlertDialog.Builder(Rig_ParkingActivity.this).create();\n        alertDialog51.setMessage(Html.fromHtml(&quot;&lt;font color='#00beb4'&gt;&lt;b&gt;Enter correct Email or Password&lt;/b&gt;&lt;/font&gt;&quot;));\n        alertDialog51.setButton(&quot;Ok&quot;, new DialogInterface.OnClickListener() {\n          public void onClick(DialogInterface dialog, int which) {\n            alertDialog51.dismiss();\n          }\n        });\n        alertDialog51.setButton2(&quot;Cancel&quot;, new DialogInterface.OnClickListener() {\n          public void onClick(DialogInterface dialog, int which) {\n            alertDialog51.dismiss();\n          }\n        });\n        alertDialog51.show();\n      }\n    });\n  }\n  return null;\n}\n@Override\nprotected void onPostExecute(Void result) {\n  if (!flag) {\n    Intent intnt = new Intent(getBaseContext(), Tab.class);\n    startActivity(intnt);\n  }\n  if (this.dialog.isShowing()) {\n    this.dialog.dismiss();\n  }\n }\n}\n</code></pre>\n<p>try this code... Have a <code>boolean</code> value called <strong>flag</strong> and set it to false. I have just used it.. you have to initialize it.</p>\n<p><code>onPostExecute()</code> will run in the UI thread.. if you call intent in <code>doInBackground()</code> method it doesnt change in <code>UIThread</code> and you cant see the changes is what i got to know from your code.. check this</p>\n"}],"owner":{"account_id":1958727,"reputation":1,"user_id":1761003,"accept_rate":82,"display_name":"Maveňツ"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":194,"favorite_count":0,"down_vote_count":5,"up_vote_count":1,"accepted_answer_id":12985963,"answer_count":1,"score":-4,"last_activity_date":1678293331,"creation_date":1350713846,"question_id":12985827,"body_markdown":"Can anyone please tell me how to login? I am trying to login in with the user name `Priyanka` and password `Priyanka` but it is unsuccessful.\r\n\r\nCan anyone help me out?\r\n\r\n\tpackage org.example.rig_parking;\r\n \r\n\timport android.app.Activity;\r\n\timport android.app.AlertDialog;\r\n\timport android.app.ProgressDialog;\r\n\timport android.content.Context;\r\n\timport android.content.DialogInterface;\r\n\timport android.content.Intent;\r\n\timport android.graphics.Typeface;\r\n\timport android.os.AsyncTask;\r\n\timport android.os.Bundle;\r\n\timport android.text.Html;\r\n\timport android.util.Log;\r\n\timport android.view.View;\r\n\timport android.view.View.OnClickListener;\r\n\timport android.widget.Button;\r\n\timport android.widget.EditText;\r\n\timport android.widget.TextView;\r\n\timport android.widget.Toast;\r\n\r\n\t public class Rig_ParkingActivity extends Activity {\r\n    \r\n\tString username,password;\r\n\t\r\n\t    @Override\r\n\t    public void onCreate(Bundle savedInstanceState) {\r\n\t        super.onCreate(savedInstanceState);\r\n\t        setContentView(R.layout.main);\r\n        \r\n\r\n\t        Typeface myTypeface = Typeface.createFromAsset(getAssets(), &quot;fonts/semibold.ttf&quot;);\r\n\t        TextView myTextView = (TextView)findViewById(R.id.rig_parkmain);\r\n\t        myTextView.setTypeface(myTypeface);\r\n\t        TextView forget_main = (TextView)findViewById(R.id.forget_main);\r\n\t        forget_main.setTypeface(myTypeface);\r\n\t        final EditText email_main = (EditText)findViewById(R.id.email_main);\r\n\t        email_main.setTypeface(myTypeface);\r\n\t        final EditText password_main = (EditText)findViewById(R.id.password_main);\r\n\t        password_main.setTypeface(myTypeface);\r\n        \r\n        \tButton copy=(Button) findViewById(R.id.copyright);\r\n\t        copy.setText(&quot;(c)Rig Parking 2010-2012,All Rights Reserved&quot;);\r\n\t        copy.setTypeface(myTypeface);\r\n        \r\n        \tTextView register=(TextView) findViewById(R.id.register_main);       \r\n       \t register.setTypeface(myTypeface);\r\n       \r\n\t        register.setOnClickListener(new OnClickListener() {\t\t\t\r\n\t\t\tpublic void onClick(View arg0) {\r\n\t\t\t\r\n\t\t Intent register=new Intent(getApplicationContext(),Register.class);\t\r\n\t\t startActivity(register);\t\t\t\t\r\n\t\t\t}\r\n\t\t});\r\n        \r\n\t /*      forget_main.setOnClickListener(new OnClickListener() {\t\t\t\r\n\t\t\tpublic void onClick(View arg0) {\r\n\t\t\t\r\n\t\t Intent register=new Intent(getApplicationContext(),Tab.class);\t\r\n\t\t startActivity(register);\t\t\t\t\r\n\t\t\t}\r\n\t\t});\r\n\t        */\r\n\t        TextView login=(TextView) findViewById(R.id.login_main);       \r\n\t        login.setTypeface(myTypeface);\r\n\t        login.setOnClickListener(new OnClickListener() {\r\n\t\t\t\r\n\t\t\tpublic void onClick(View arg0) {\r\n\t\t\t\r\n\t\t\t\tusername=email_main.getText().toString();\r\n\t\t\t\tpassword=password_main.getText().toString();\r\n\t\t\t\t\r\n\t\t\t\tif(username.equals(&quot;&quot;)&amp;&amp;password.equals(&quot;&quot;))\r\n\t            {\r\n\t\t\t\t\tfinal AlertDialog alertDialog51;\t  \t\t\t\t\r\n\t\t\t \t  \t  alertDialog51 = new AlertDialog.Builder(Rig_ParkingActivity.this).create();\r\n\t\t\t \t  \t\talertDialog51.setMessage(Html\r\n\t\t                   .fromHtml(&quot;&lt;font color=&#39;#00beb4&#39;&gt;&lt;b&gt; Enter Email and Password&lt;/b&gt;&lt;/font&gt;&quot;));\t\t  \t  \t\t\t\t\t\t\t\t\t\t\t\t\t \t\t        \t  \t\t\t\t\t\r\n\t\t\t \t  \t\talertDialog51.setButton(&quot;Ok&quot;,\r\n\t\t\t \t  \t\t\tnew DialogInterface.OnClickListener() {\r\n\t\t\t \t  \t\t\t\tpublic void onClick(DialogInterface dialog,\r\n\t\t\t \t  \t\t\t\t\tint which) {\t\t\t \t  \t\t\t\r\n\t\t\t \t  \t\t\talertDialog51.dismiss();\t\r\n\t\t\t \t  \t\t           }\r\n\t\t\t \t  \t\t     });\t  \t\t\r\n\t\t\t \t  \t\talertDialog51.setButton2(&quot;Cancel&quot;, new DialogInterface.OnClickListener() {\r\n\t\t\t \t  \t\t\t\t\t\tpublic void onClick(DialogInterface dialog,\r\n\t\t\t \t  \t\t\t\t\t\t\t\tint which) {\r\n\t\t\t \t  \t\t\t\t\t\t\talertDialog51.dismiss();\t\t\t\t\t\t\t\t\t\t\t    \r\n\t\t\t \t  \t\t   }\r\n\t\t\t \t  \t\t});\t\t\t  \t\t\t\t\r\n\t\t\t \t  \t\talertDialog51.show();                      \t\t\r\n\t            }\t\t\t\t\t\t\t\t\t\r\n\t\t\t\telse if(username.equals(&quot;&quot;))\r\n\t\t\t\t {\r\n\t\t\t\t\tfinal AlertDialog alertDialog51;\t  \t\t\t\t\r\n\t\t\t \t  \t  alertDialog51 = new AlertDialog.Builder(Rig_ParkingActivity.this).create();\r\n\t\t\t \t  \t\talertDialog51.setMessage(Html\r\n\t\t                   .fromHtml(&quot;&lt;font color=&#39;#00beb4&#39;&gt;&lt;b&gt;    Enter Email    &lt;/b&gt;&lt;/font&gt;&quot;));\t\t  \t  \t\t\t\t\t\t\t\t\t\t\t\t\t \t\t        \t  \t\t\t\t\t\r\n\t\t\t \t  \t\talertDialog51.setButton(&quot;Ok&quot;,\r\n\t\t\t \t  \t\t\tnew DialogInterface.OnClickListener() {\r\n\t\t\t \t  \t\t\t\tpublic void onClick(DialogInterface dialog,\r\n\t\t\t \t  \t\t\t\t\tint which) {\t\t\t \t  \t\t\t\r\n\t\t\t \t  \t\t\talertDialog51.dismiss();\t\r\n\t\t\t \t  \t\t           }\r\n\t\t\t \t  \t\t     });\t  \t\t\r\n\t\t\t \t  \t\talertDialog51.setButton2(&quot;Cancel&quot;, new DialogInterface.OnClickListener() {\r\n\t\t\t \t  \t\t\t\t\t\tpublic void onClick(DialogInterface dialog,\r\n\t\t\t \t  \t\t\t\t\t\t\t\tint which) {\r\n\t\t\t \t  \t\t\t\t\t\t\talertDialog51.dismiss();\t\t\t\t\t\t\t\t\t\t\t    \r\n\t\t\t \t  \t\t   }\r\n\t\t\t \t  \t\t});\t\t\t  \t\t\t\t\r\n\t\t\t \t  \t\talertDialog51.show(); \r\n\t\t\t\t }\r\n\t\t\t\telse if(password.equals(&quot;&quot;))\r\n\t\t\t\t {\r\n\t\t\t\t\tfinal AlertDialog alertDialog51;\t  \t\t\t\t\r\n\t\t\t \t  \t  alertDialog51 = new AlertDialog.Builder(Rig_ParkingActivity.this).create();\r\n\t\t\t \t  \t\talertDialog51.setMessage(Html\r\n\t\t                   .fromHtml(&quot;&lt;font color=&#39;#00beb4&#39;&gt;&lt;b&gt;    Enter  Password   &lt;/b&gt;&lt;/font&gt;&quot;));\t\t  \t  \t\t\t\t\t\t\t\t\t\t\t\t\t \t\t        \t  \t\t\t\t\t\r\n\t\t\t \t  \t\talertDialog51.setButton(&quot;Ok&quot;,\r\n\t\t\t \t  \t\t\tnew DialogInterface.OnClickListener() {\r\n\t\t\t \t  \t\t\t\tpublic void onClick(DialogInterface dialog,\r\n\t\t\t \t  \t\t\t\t\tint which) {\t\t\t \t  \t\t\t\r\n\t\t\t \t  \t\t\talertDialog51.dismiss();\t\r\n\t\t\t \t  \t\t           }\r\n\t\t\t \t  \t\t     });\t  \t\t\r\n\t\t\t \t  \t\talertDialog51.setButton2(&quot;Cancel&quot;, new DialogInterface.OnClickListener() {\r\n\t\t\t \t  \t\t\t\t\t\tpublic void onClick(DialogInterface dialog,\r\n\t\t\t \t  \t\t\t\t\t\t\t\tint which) {\r\n\t\t\t \t  \t\t\t\t\t\t\talertDialog51.dismiss();\t\t\t\t\t\t\t\t\t\t\t    \r\n\t\t\t \t  \t\t   }\r\n\t\t\t \t  \t\t});\t\t\t  \t\t\t\t\r\n\t\t\t \t  \t\talertDialog51.show(); \r\n\t\t\t\t }\r\n\t\t\t\telse{\r\n\t\t\t\tLoginTask logintsk=new LoginTask();\r\n\t\t\t\tlogintsk.execute();\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t});\r\n        \r\n\t    }\r\n\t    private class LoginTask extends AsyncTask&lt;Void, Void, Void&gt; { \r\n   \t \r\n\t        private final ProgressDialog dialog = new ProgressDialog(Rig_ParkingActivity.this);\r\n        \r\n        \t@Override\r\n    \tprotected void onPreExecute() { \r\n\r\n                this.dialog.setMessage(&quot;Loading ...&quot;); \r\n                this.dialog.show(); \r\n\t        } \r\n\r\n        \r\n        @Override\r\n    \tprotected Void doInBackground(final Void... unused) { \r\n        \t\r\n          Log.i(&quot;Priyanka&quot;, &quot;username&quot;+username);\r\n          Log.i(&quot;Priyanka&quot;, &quot;password&quot;+password);\r\n          String auth=BusinessLogic_login.candidatelogin(username, password); \r\n          String userid=auth; \r\n            Log.i(&quot;priyanka&quot;, &quot;auth&quot;+auth);\r\n            if(auth.equals(&quot;0&quot;)||(auth.equals(&quot;&quot;)))\r\n    \t\t{\r\n    \t\t\tRig_ParkingActivity.this.runOnUiThread(new Runnable() {\t\t\t\t\r\n    \t\t\t\tpublic void run() {\t\t\t\t\t\r\n    \t\t\t\t\tfinal AlertDialog alertDialog51;\t  \t\t\t\t\r\n  \t\t\t \t  \t  alertDialog51 = new AlertDialog.Builder(Rig_ParkingActivity.this).create();\r\n  \t\t\t \t  \t\talertDialog51.setMessage(Html\r\n  \t\t                   .fromHtml(&quot;&lt;font color=&#39;#00beb4&#39;&gt;&lt;b&gt;Enter correct Email or Password&lt;/b&gt;&lt;/font&gt;&quot;));\t\t  \t  \t\t\t\t\t\t\t\t\t\t\t\t\t \t\t        \t  \t\t\t\t\t\r\n  \t\t\t \t  \t\talertDialog51.setButton(&quot;Ok&quot;,\r\n  \t\t\t \t  \t\t\tnew DialogInterface.OnClickListener() {\r\n  \t\t\t \t  \t\t\t\tpublic void onClick(DialogInterface dialog,\r\n  \t\t\t \t  \t\t\t\t\tint which) {\t\t\t \t  \t\t\t\r\n  \t\t\t \t  \t\t\talertDialog51.dismiss();\t\r\n  \t\t\t \t  \t\t           }\r\n  \t\t\t \t  \t\t     });\t  \t\t\r\n  \t\t\t \t  \t\talertDialog51.setButton2(&quot;Cancel&quot;, new DialogInterface.OnClickListener() {\r\n  \t\t\t \t  \t\t\t\t\t\tpublic void onClick(DialogInterface dialog,\r\n  \t\t\t \t  \t\t\t\t\t\t\t\tint which) {\r\n  \t\t\t \t  \t\t\t\t\t\t\talertDialog51.dismiss();\t\t\t\t\t\t\t\t\t\t\t    \r\n  \t\t\t \t  \t\t   }\r\n  \t\t\t \t  \t\t});\t\t\t  \t\t\t\t\r\n  \t\t\t \t  \t\talertDialog51.show(); \t\t\t\t\r\n    \t\t\t\t}\r\n    \t\t\t});\t\t\r\n    \t\t}\r\n    \t\telse {\t\t\t\r\n    \t\t\r\n    \t\tIntent intnt=new Intent(getBaseContext(), Tab.class);\r\n    \t\tstartActivity(intnt);    \t\t\r\n    \t\t\t\t\t\t\t\t\t\t\r\n    \t\t}\r\n            return null; // don&#39;t interact with the ui! \r\n        } \r\n         \r\n        @Override\r\n    \tprotected void onPostExecute(Void result)  \r\n        {  \r\n                if (this.dialog.isShowing()) \r\n                { \r\n                this.dialog.dismiss(); \r\n                }\r\n          } \r\n      }  \r\n      }","title":"Issue while navigating to new activity when using async task","body":"<p>Can anyone please tell me how to login? I am trying to login in with the user name <code>Priyanka</code> and password <code>Priyanka</code> but it is unsuccessful.</p>\n<p>Can anyone help me out?</p>\n<pre><code>package org.example.rig_parking;\n\nimport android.app.Activity;\nimport android.app.AlertDialog;\nimport android.app.ProgressDialog;\nimport android.content.Context;\nimport android.content.DialogInterface;\nimport android.content.Intent;\nimport android.graphics.Typeface;\nimport android.os.AsyncTask;\nimport android.os.Bundle;\nimport android.text.Html;\nimport android.util.Log;\nimport android.view.View;\nimport android.view.View.OnClickListener;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\n public class Rig_ParkingActivity extends Activity {\n\nString username,password;\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.main);\n    \n\n        Typeface myTypeface = Typeface.createFromAsset(getAssets(), &quot;fonts/semibold.ttf&quot;);\n        TextView myTextView = (TextView)findViewById(R.id.rig_parkmain);\n        myTextView.setTypeface(myTypeface);\n        TextView forget_main = (TextView)findViewById(R.id.forget_main);\n        forget_main.setTypeface(myTypeface);\n        final EditText email_main = (EditText)findViewById(R.id.email_main);\n        email_main.setTypeface(myTypeface);\n        final EditText password_main = (EditText)findViewById(R.id.password_main);\n        password_main.setTypeface(myTypeface);\n    \n        Button copy=(Button) findViewById(R.id.copyright);\n        copy.setText(&quot;(c)Rig Parking 2010-2012,All Rights Reserved&quot;);\n        copy.setTypeface(myTypeface);\n    \n        TextView register=(TextView) findViewById(R.id.register_main);       \n     register.setTypeface(myTypeface);\n   \n        register.setOnClickListener(new OnClickListener() {         \n        public void onClick(View arg0) {\n        \n     Intent register=new Intent(getApplicationContext(),Register.class);    \n     startActivity(register);               \n        }\n    });\n    \n /*      forget_main.setOnClickListener(new OnClickListener() {         \n        public void onClick(View arg0) {\n        \n     Intent register=new Intent(getApplicationContext(),Tab.class); \n     startActivity(register);               \n        }\n    });\n        */\n        TextView login=(TextView) findViewById(R.id.login_main);       \n        login.setTypeface(myTypeface);\n        login.setOnClickListener(new OnClickListener() {\n        \n        public void onClick(View arg0) {\n        \n            username=email_main.getText().toString();\n            password=password_main.getText().toString();\n            \n            if(username.equals(&quot;&quot;)&amp;&amp;password.equals(&quot;&quot;))\n            {\n                final AlertDialog alertDialog51;                    \n                  alertDialog51 = new AlertDialog.Builder(Rig_ParkingActivity.this).create();\n                    alertDialog51.setMessage(Html\n                       .fromHtml(&quot;&lt;font color='#00beb4'&gt;&lt;b&gt; Enter Email and Password&lt;/b&gt;&lt;/font&gt;&quot;));                                                                                                     \n                    alertDialog51.setButton(&quot;Ok&quot;,\n                        new DialogInterface.OnClickListener() {\n                            public void onClick(DialogInterface dialog,\n                                int which) {                            \n                        alertDialog51.dismiss();    \n                               }\n                         });            \n                    alertDialog51.setButton2(&quot;Cancel&quot;, new DialogInterface.OnClickListener() {\n                                    public void onClick(DialogInterface dialog,\n                                            int which) {\n                                        alertDialog51.dismiss();                                                \n                       }\n                    });                         \n                    alertDialog51.show();                           \n            }                                   \n            else if(username.equals(&quot;&quot;))\n             {\n                final AlertDialog alertDialog51;                    \n                  alertDialog51 = new AlertDialog.Builder(Rig_ParkingActivity.this).create();\n                    alertDialog51.setMessage(Html\n                       .fromHtml(&quot;&lt;font color='#00beb4'&gt;&lt;b&gt;    Enter Email    &lt;/b&gt;&lt;/font&gt;&quot;));                                                                                                       \n                    alertDialog51.setButton(&quot;Ok&quot;,\n                        new DialogInterface.OnClickListener() {\n                            public void onClick(DialogInterface dialog,\n                                int which) {                            \n                        alertDialog51.dismiss();    \n                               }\n                         });            \n                    alertDialog51.setButton2(&quot;Cancel&quot;, new DialogInterface.OnClickListener() {\n                                    public void onClick(DialogInterface dialog,\n                                            int which) {\n                                        alertDialog51.dismiss();                                                \n                       }\n                    });                         \n                    alertDialog51.show(); \n             }\n            else if(password.equals(&quot;&quot;))\n             {\n                final AlertDialog alertDialog51;                    \n                  alertDialog51 = new AlertDialog.Builder(Rig_ParkingActivity.this).create();\n                    alertDialog51.setMessage(Html\n                       .fromHtml(&quot;&lt;font color='#00beb4'&gt;&lt;b&gt;    Enter  Password   &lt;/b&gt;&lt;/font&gt;&quot;));                                                                                                        \n                    alertDialog51.setButton(&quot;Ok&quot;,\n                        new DialogInterface.OnClickListener() {\n                            public void onClick(DialogInterface dialog,\n                                int which) {                            \n                        alertDialog51.dismiss();    \n                               }\n                         });            \n                    alertDialog51.setButton2(&quot;Cancel&quot;, new DialogInterface.OnClickListener() {\n                                    public void onClick(DialogInterface dialog,\n                                            int which) {\n                                        alertDialog51.dismiss();                                                \n                       }\n                    });                         \n                    alertDialog51.show(); \n             }\n            else{\n            LoginTask logintsk=new LoginTask();\n            logintsk.execute();             \n            }\n            \n        }\n    });\n    \n    }\n    private class LoginTask extends AsyncTask&lt;Void, Void, Void&gt; { \n \n        private final ProgressDialog dialog = new ProgressDialog(Rig_ParkingActivity.this);\n    \n        @Override\n    protected void onPreExecute() { \n\n            this.dialog.setMessage(&quot;Loading ...&quot;); \n            this.dialog.show(); \n        } \n\n    \n    @Override\n    protected Void doInBackground(final Void... unused) { \n        \n      Log.i(&quot;Priyanka&quot;, &quot;username&quot;+username);\n      Log.i(&quot;Priyanka&quot;, &quot;password&quot;+password);\n      String auth=BusinessLogic_login.candidatelogin(username, password); \n      String userid=auth; \n        Log.i(&quot;priyanka&quot;, &quot;auth&quot;+auth);\n        if(auth.equals(&quot;0&quot;)||(auth.equals(&quot;&quot;)))\n        {\n            Rig_ParkingActivity.this.runOnUiThread(new Runnable() {             \n                public void run() {                 \n                    final AlertDialog alertDialog51;                    \n                  alertDialog51 = new AlertDialog.Builder(Rig_ParkingActivity.this).create();\n                    alertDialog51.setMessage(Html\n                       .fromHtml(&quot;&lt;font color='#00beb4'&gt;&lt;b&gt;Enter correct Email or Password&lt;/b&gt;&lt;/font&gt;&quot;));                                                                                                       \n                    alertDialog51.setButton(&quot;Ok&quot;,\n                        new DialogInterface.OnClickListener() {\n                            public void onClick(DialogInterface dialog,\n                                int which) {                            \n                        alertDialog51.dismiss();    \n                               }\n                         });            \n                    alertDialog51.setButton2(&quot;Cancel&quot;, new DialogInterface.OnClickListener() {\n                                    public void onClick(DialogInterface dialog,\n                                            int which) {\n                                        alertDialog51.dismiss();                                                \n                       }\n                    });                         \n                    alertDialog51.show();               \n                }\n            });     \n        }\n        else {          \n        \n        Intent intnt=new Intent(getBaseContext(), Tab.class);\n        startActivity(intnt);           \n                                        \n        }\n        return null; // don't interact with the ui! \n    } \n     \n    @Override\n    protected void onPostExecute(Void result)  \n    {  \n            if (this.dialog.isShowing()) \n            { \n            this.dialog.dismiss(); \n            }\n      } \n  }  \n  }\n</code></pre>\n"},{"tags":["java","kotlin","android-listfragment"],"comments":[{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1678293489,"post_id":75675714,"comment_id":133505683,"body_markdown":"What is your question? Have you tried anything yourself? Which part are you having difficulty with? Have you looked at the official Android documentation to find anything there that will help?","body":"What is your question? Have you tried anything yourself? Which part are you having difficulty with? Have you looked at the official Android documentation to find anything there that will help?"}],"owner":{"account_id":15375821,"reputation":1,"user_id":11092577,"display_name":"Andres Mora"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678293328,"creation_date":1678293084,"question_id":75675714,"body_markdown":"I need to clone this list view fragment to build to the store section of the basket only with the selected items, if it reaches 0 the item should not be displayed.\r\n\r\n\r\n```\r\nclass CharacterRecyclerViewAdapter(private var characters: List&lt;Character&gt;, private var tvTotalPrice: TextView) :\r\n    RecyclerView.Adapter&lt;CharacterRecyclerViewAdapter.ViewHolder&gt;() {\r\n\r\n\r\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): ViewHolder {\r\n        val binding =\r\n            CharacterItemBinding.inflate(LayoutInflater.from(parent.context), parent, false)\r\n        return ViewHolder(binding)\r\n    }\r\n\r\n    override fun getItemCount(): Int {\r\n        return characters.size\r\n    }\r\n\r\n    override fun onBindViewHolder(holder: ViewHolder, position: Int) {\r\n        val character = characters[position]\r\n        holder.name.text = character.name\r\n        holder.quantity.text = character.quantity.toString()\r\n\r\n        val currentPrice = (12000 * character.quantity)\r\n        holder.price.text = currentPrice.toString()\r\n\r\n        Glide.with(holder.itemView)\r\n            .load(character.image)\r\n            .thumbnail(0.1f)\r\n            .into(holder.image)\r\n\r\n        holder.btnAdd.setOnClickListener{\r\n            ++character.quantity\r\n            updateFields(holder, position)\r\n        }\r\n        holder.btnRemove.setOnClickListener{\r\n            if (character.quantity &gt; 0){\r\n                --character.quantity\r\n                updateFields(holder, position)\r\n            }\r\n        }\r\n    }\r\n\r\n    private fun updateTotal(){\r\n        var total = 0\r\n\r\n        characters.forEach { character -&gt;\r\n            total += when(character.status) {\r\n                &quot;Alive&quot; -&gt; character.quantity * 14400\r\n                &quot;Dead&quot; -&gt; character.quantity * 9600\r\n                else -&gt; character.quantity * 12000\r\n            }\r\n        }\r\n        tvTotalPrice.text =  &quot;\\$$total&quot;\r\n    }\r\n\r\n    private fun updateFields(holder: ViewHolder, position: Int){\r\n        val character = characters[position]\r\n        holder.quantity.text = character.quantity.toString()\r\n        val currentPrice = (12000 * character.quantity)\r\n        var totalBalance = 0\r\n        totalBalance = when(characters[position].status) {\r\n            &quot;Alive&quot; -&gt; ((currentPrice * 1.20).toInt())\r\n            &quot;Dead&quot; -&gt; (currentPrice - (currentPrice * 0.20)).toInt()\r\n            else -&gt; currentPrice\r\n        }\r\n        holder.price.text = totalBalance.toString()\r\n        updateTotal()\r\n    }\r\n\r\n    inner class ViewHolder(binding: CharacterItemBinding) : RecyclerView.ViewHolder(binding.root) {\r\n        val image: ImageView = binding.characterImage\r\n        val name: TextView = binding.characterName\r\n        val price: TextView = binding.tvPrice\r\n        val quantity: TextView = binding.tvCurrentQuantity\r\n        val btnAdd: Button = binding.buttonAdd\r\n        val btnRemove: Button = binding.buttonRemove\r\n    }\r\n\r\n    fun updateCharacters(characters: List&lt;Character&gt;) {\r\n        this.characters = characters\r\n        notifyDataSetChanged()\r\n    }\r\n\r\n}\r\n```\r\n\r\nI have to build a button that allows to click to go to a new fragment view and only display the selected elements.","title":"I need clone this fragment list view to build to cart shop section only the elements selected","body":"<p>I need to clone this list view fragment to build to the store section of the basket only with the selected items, if it reaches 0 the item should not be displayed.</p>\n<pre><code>class CharacterRecyclerViewAdapter(private var characters: List&lt;Character&gt;, private var tvTotalPrice: TextView) :\n    RecyclerView.Adapter&lt;CharacterRecyclerViewAdapter.ViewHolder&gt;() {\n\n\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): ViewHolder {\n        val binding =\n            CharacterItemBinding.inflate(LayoutInflater.from(parent.context), parent, false)\n        return ViewHolder(binding)\n    }\n\n    override fun getItemCount(): Int {\n        return characters.size\n    }\n\n    override fun onBindViewHolder(holder: ViewHolder, position: Int) {\n        val character = characters[position]\n        holder.name.text = character.name\n        holder.quantity.text = character.quantity.toString()\n\n        val currentPrice = (12000 * character.quantity)\n        holder.price.text = currentPrice.toString()\n\n        Glide.with(holder.itemView)\n            .load(character.image)\n            .thumbnail(0.1f)\n            .into(holder.image)\n\n        holder.btnAdd.setOnClickListener{\n            ++character.quantity\n            updateFields(holder, position)\n        }\n        holder.btnRemove.setOnClickListener{\n            if (character.quantity &gt; 0){\n                --character.quantity\n                updateFields(holder, position)\n            }\n        }\n    }\n\n    private fun updateTotal(){\n        var total = 0\n\n        characters.forEach { character -&gt;\n            total += when(character.status) {\n                &quot;Alive&quot; -&gt; character.quantity * 14400\n                &quot;Dead&quot; -&gt; character.quantity * 9600\n                else -&gt; character.quantity * 12000\n            }\n        }\n        tvTotalPrice.text =  &quot;\\$$total&quot;\n    }\n\n    private fun updateFields(holder: ViewHolder, position: Int){\n        val character = characters[position]\n        holder.quantity.text = character.quantity.toString()\n        val currentPrice = (12000 * character.quantity)\n        var totalBalance = 0\n        totalBalance = when(characters[position].status) {\n            &quot;Alive&quot; -&gt; ((currentPrice * 1.20).toInt())\n            &quot;Dead&quot; -&gt; (currentPrice - (currentPrice * 0.20)).toInt()\n            else -&gt; currentPrice\n        }\n        holder.price.text = totalBalance.toString()\n        updateTotal()\n    }\n\n    inner class ViewHolder(binding: CharacterItemBinding) : RecyclerView.ViewHolder(binding.root) {\n        val image: ImageView = binding.characterImage\n        val name: TextView = binding.characterName\n        val price: TextView = binding.tvPrice\n        val quantity: TextView = binding.tvCurrentQuantity\n        val btnAdd: Button = binding.buttonAdd\n        val btnRemove: Button = binding.buttonRemove\n    }\n\n    fun updateCharacters(characters: List&lt;Character&gt;) {\n        this.characters = characters\n        notifyDataSetChanged()\n    }\n\n}\n</code></pre>\n<p>I have to build a button that allows to click to go to a new fragment view and only display the selected elements.</p>\n"},{"tags":["java","spring","spring-boot","hibernate"],"answers":[{"tags":[],"owner":{"account_id":309603,"reputation":2817,"user_id":622145,"accept_rate":95,"display_name":"Twistleton"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678293315,"creation_date":1678292197,"answer_id":75675538,"question_id":75675470,"body_markdown":"Set in application.properties the path to the data file:\r\n\r\n\r\n    spring.datasource.platform=h2\r\n    spring.datasource.schema=classpath:/h2/schema-h2.sql\r\n    spring.datasource.data=classpath:/h2/data-h2.sql\r\n\r\n\r\nThe data file is located in the resources/h2 directory with the name data-h2.sql for this example.","title":"Spring boot Rest API give empty data in browser","body":"<p>Set in application.properties the path to the data file:</p>\n<pre><code>spring.datasource.platform=h2\nspring.datasource.schema=classpath:/h2/schema-h2.sql\nspring.datasource.data=classpath:/h2/data-h2.sql\n</code></pre>\n<p>The data file is located in the resources/h2 directory with the name data-h2.sql for this example.</p>\n"}],"owner":{"account_id":25565227,"reputation":5,"user_id":19346828,"display_name":"Othmane Boudali"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678293315,"creation_date":1678291829,"question_id":75675470,"body_markdown":"Ineed to help I have a spring boot project with h2 database. I added data in the data.sql but the data wasn&#39;t inserted into the database however tables are created successfully when I call the findAll API I get an empty data.\r\n\r\nthis is application.properties\r\n```\r\nserver.port=8080\r\nspring.h2.console.enabled=true\r\nspring.jpa.show-sql=true\r\nspring.datasource.driverClassName=org.h2.Driver\r\nspring.datasource.url=jdbc:h2:mem:todo\r\nspring.datasource.username=to\r\nspring.datasource.password=\r\nspring.jpa.defer-datasource-initialization=true\r\nspring.jpa.database-platform=org.hibernate.dialect.H2Dialect\r\nlogging.level.org.springframework.jdbc.core.JdbcTemplate=DEBUG\r\nlogging.level.org.springframework.jdbc.core.StatementCreatorUtils=TRACE \r\n\r\n\r\n```\r\nthis is todo.java\r\n```\r\npackage todo.model;\r\n\r\nimport java.time.LocalDate;\r\n\r\nimport jakarta.persistence.Entity;\r\nimport jakarta.persistence.GeneratedValue;\r\nimport jakarta.persistence.GenerationType;\r\nimport jakarta.persistence.Id;\r\nimport jakarta.persistence.Table;\r\n\r\n@Entity\r\n@Table(name = &quot;todo&quot;)\r\npublic class Todo {\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\tprivate Integer id;\r\n\tprivate String task;\r\n\tprivate LocalDate date;\r\n\tprivate boolean isDone;\r\n\r\n}\r\n\r\n```\r\nthis todo.repository\r\n```\r\npackage todo.repositories;\r\n\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport org.springframework.stereotype.Repository;\r\n\r\nimport todo.model.Todo;\r\n\r\n@Repository\r\npublic interface TodoRepository extends JpaRepository&lt;Todo, Integer&gt; {\r\n\r\n}\r\n```\r\nthis is todo.controller\r\n```\r\n\r\npackage todo.controller;\r\n\r\nimport java.util.List;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.RequestBody;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\nimport todo.model.Todo;\r\nimport todo.repositories.TodoRepository;\r\n\r\n@RestController\r\n@RequestMapping(&quot;/todo&quot;)\r\npublic class TodoController {\r\n\r\n\t@Autowired\r\n\tTodoRepository todoRepository;\r\n\r\n\t@GetMapping(&quot;/findall&quot;)\r\n\tpublic List&lt;Todo&gt; fetchAll() {\r\n\r\n\t\treturn this.todoRepository.findAll();\r\n\r\n\t}\r\n\r\n\t@PostMapping(&quot;/add&quot;)\r\n\tpublic ResponseEntity&lt;?&gt; addTodo(@RequestBody Todo todo) {\r\n\r\n\t\treturn new ResponseEntity&lt;&gt;(this.todoRepository.save(todo), HttpStatus.CREATED);\r\n\r\n\t}\r\n}\r\n\r\n```\r\nthis is data.sql\r\n```\r\nINSERT INTO todo (task,date,is_done) VALUES (&#39;sleep&#39;,&#39;200-12-05&#39;,false);\r\nINSERT INTO todo (task,date,is_done) VALUES (&#39;down&#39;,&#39;2001-12-05&#39;,true);\r\n\r\n\r\n```\r\n\r\n","title":"Spring boot Rest API give empty data in browser","body":"<p>Ineed to help I have a spring boot project with h2 database. I added data in the data.sql but the data wasn't inserted into the database however tables are created successfully when I call the findAll API I get an empty data.</p>\n<p>this is application.properties</p>\n<pre><code>server.port=8080\nspring.h2.console.enabled=true\nspring.jpa.show-sql=true\nspring.datasource.driverClassName=org.h2.Driver\nspring.datasource.url=jdbc:h2:mem:todo\nspring.datasource.username=to\nspring.datasource.password=\nspring.jpa.defer-datasource-initialization=true\nspring.jpa.database-platform=org.hibernate.dialect.H2Dialect\nlogging.level.org.springframework.jdbc.core.JdbcTemplate=DEBUG\nlogging.level.org.springframework.jdbc.core.StatementCreatorUtils=TRACE \n\n\n</code></pre>\n<p>this is todo.java</p>\n<pre><code>package todo.model;\n\nimport java.time.LocalDate;\n\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.GeneratedValue;\nimport jakarta.persistence.GenerationType;\nimport jakarta.persistence.Id;\nimport jakarta.persistence.Table;\n\n@Entity\n@Table(name = &quot;todo&quot;)\npublic class Todo {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer id;\n    private String task;\n    private LocalDate date;\n    private boolean isDone;\n\n}\n\n</code></pre>\n<p>this todo.repository</p>\n<pre><code>package todo.repositories;\n\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\n\nimport todo.model.Todo;\n\n@Repository\npublic interface TodoRepository extends JpaRepository&lt;Todo, Integer&gt; {\n\n}\n</code></pre>\n<p>this is todo.controller</p>\n<pre><code>\npackage todo.controller;\n\nimport java.util.List;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport todo.model.Todo;\nimport todo.repositories.TodoRepository;\n\n@RestController\n@RequestMapping(&quot;/todo&quot;)\npublic class TodoController {\n\n    @Autowired\n    TodoRepository todoRepository;\n\n    @GetMapping(&quot;/findall&quot;)\n    public List&lt;Todo&gt; fetchAll() {\n\n        return this.todoRepository.findAll();\n\n    }\n\n    @PostMapping(&quot;/add&quot;)\n    public ResponseEntity&lt;?&gt; addTodo(@RequestBody Todo todo) {\n\n        return new ResponseEntity&lt;&gt;(this.todoRepository.save(todo), HttpStatus.CREATED);\n\n    }\n}\n\n</code></pre>\n<p>this is data.sql</p>\n<pre><code>INSERT INTO todo (task,date,is_done) VALUES ('sleep','200-12-05',false);\nINSERT INTO todo (task,date,is_done) VALUES ('down','2001-12-05',true);\n\n\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":5181005,"reputation":2233,"user_id":4146722,"display_name":"Pratik Tank"},"score":1,"creation_date":1505554738,"post_id":46252389,"comment_id":79468288,"body_markdown":"Possible duplicate of [Simple way to count character occurrences in a string](https://stackoverflow.com/questions/6100712/simple-way-to-count-character-occurrences-in-a-string)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/6100712/simple-way-to-count-character-occurrences-in-a-string\">Simple way to count character occurrences in a string</a>"},{"owner":{"account_id":1600690,"reputation":926,"user_id":1481766,"accept_rate":44,"display_name":"Amit Sharma"},"score":0,"creation_date":1505554874,"post_id":46252389,"comment_id":79468334,"body_markdown":"@PratikTank i have checked this one but the problem is it is count only single charter which user must know, It is not fulfill my need","body":"@PratikTank i have checked this one but the problem is it is count only single charter which user must know, It is not fulfill my need"},{"owner":{"account_id":3365385,"reputation":22807,"user_id":2826147,"accept_rate":60,"display_name":"Amit Vaghela"},"score":1,"creation_date":1505555077,"post_id":46252389,"comment_id":79468399,"body_markdown":"Possible duplicate of [Find occurrences of characters in a Java String](https://stackoverflow.com/questions/3763970/find-occurrences-of-characters-in-a-java-string)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/3763970/find-occurrences-of-characters-in-a-java-string\">Find occurrences of characters in a Java String</a>"},{"owner":{"account_id":1600690,"reputation":926,"user_id":1481766,"accept_rate":44,"display_name":"Amit Sharma"},"score":0,"creation_date":1505555626,"post_id":46252389,"comment_id":79468560,"body_markdown":"Who has down voted my question , Please dnt do this again without reading the question. \nI am not new to stack overflow i know how to ask question and after research i have come here , Please read the question carefully i have mention a word &quot;in sequence&quot;","body":"Who has down voted my question , Please dnt do this again without reading the question.  I am not new to stack overflow i know how to ask question and after research i have come here , Please read the question carefully i have mention a word &quot;in sequence&quot;"}],"answers":[{"tags":[],"owner":{"account_id":10396927,"reputation":68267,"user_id":7666442,"display_name":"AskNilesh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1505555898,"creation_date":1505554911,"answer_id":46252436,"question_id":46252389,"body_markdown":"try this\r\n\r\n    String one=&quot;ABCDEFGHIJK&quot;;\r\n    String two=&quot;ZANDEFGHOPQ&quot;;\r\n    int cnt=0;\r\n       for (int i=0;i&lt;one.length();i++){\r\n           for (int j=0;j&lt;two.length();j++){\r\n                if(one.charAt(i) == two.charAt(j) ){\r\n                    cnt++;\r\n                }\r\n            }\r\n        }\r\n\r\n    Toast.makeText(this, &quot;count&quot;+cnt, Toast.LENGTH_SHORT).show();","title":"Count of of characters matched in sequence of two string","body":"<p>try this</p>\n\n<pre><code>String one=\"ABCDEFGHIJK\";\nString two=\"ZANDEFGHOPQ\";\nint cnt=0;\n   for (int i=0;i&lt;one.length();i++){\n       for (int j=0;j&lt;two.length();j++){\n            if(one.charAt(i) == two.charAt(j) ){\n                cnt++;\n            }\n        }\n    }\n\nToast.makeText(this, \"count\"+cnt, Toast.LENGTH_SHORT).show();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5524527,"reputation":42811,"user_id":4386427,"accept_rate":100,"display_name":"Support Ukraine"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1505556589,"creation_date":1505554971,"answer_id":46252448,"question_id":46252389,"body_markdown":"Maybe something like this will do it.\r\n\r\n    String one=&quot;ABCDEFGHIJK&quot;;\r\n    String two=&quot;ZANDEFGHOPQ&quot;;\r\n    int counter = 0;\r\n\r\n    // Iterate over the string character by character - stop when reaching the\r\n    // end of the shortest string\r\n    for( int i=0; i&lt;one.length() &amp;&amp; i&lt;two.length(); i++ ) {\r\n        // Compare the strings character at the current position/index\r\n        if(one.charAt(i) == two.charAt(i)) {\r\n            // The characters matched so increment the counter\r\n            counter++;\r\n        } \r\n    }","title":"Count of of characters matched in sequence of two string","body":"<p>Maybe something like this will do it.</p>\n\n<pre><code>String one=\"ABCDEFGHIJK\";\nString two=\"ZANDEFGHOPQ\";\nint counter = 0;\n\n// Iterate over the string character by character - stop when reaching the\n// end of the shortest string\nfor( int i=0; i&lt;one.length() &amp;&amp; i&lt;two.length(); i++ ) {\n    // Compare the strings character at the current position/index\n    if(one.charAt(i) == two.charAt(i)) {\n        // The characters matched so increment the counter\n        counter++;\n    } \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8017626,"reputation":2089,"user_id":6613299,"accept_rate":75,"display_name":"Rohit-Pandey"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1505555056,"creation_date":1505555056,"answer_id":46252459,"question_id":46252389,"body_markdown":"\r\n    import java.io.*;\r\n    import java.util.*;\r\n    class happy {\r\n        public static void main(String args[])\r\n        {\r\n            String one=&quot;ABCDEFGHIJK&quot;;\r\n            String two=&quot;ZANDEFGHOPQ&quot;;\r\n            int a=0,c=0;\r\n            if(one.length()&lt;two.length())\r\n                a=one.length();\r\n            else\r\n                a=two.length();\r\n\t        for(int i=0;i&lt;a;i++)\r\n            {\r\n                if(one.charAt(i)==(two.charAt(i)))\r\n                    c++;\r\n            }\r\n            System.out.println(c);\r\n        }\r\n    }\r\n","title":"Count of of characters matched in sequence of two string","body":"<pre><code>import java.io.*;\nimport java.util.*;\nclass happy {\n    public static void main(String args[])\n    {\n        String one=\"ABCDEFGHIJK\";\n        String two=\"ZANDEFGHOPQ\";\n        int a=0,c=0;\n        if(one.length()&lt;two.length())\n            a=one.length();\n        else\n            a=two.length();\n        for(int i=0;i&lt;a;i++)\n        {\n            if(one.charAt(i)==(two.charAt(i)))\n                c++;\n        }\n        System.out.println(c);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user8537036"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1505555575,"creation_date":1505555575,"answer_id":46252542,"question_id":46252389,"body_markdown":"    public class Test {\r\n\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\tString one=&quot;ABCDEFGHIJK&quot;;\r\n\t\tString two=&quot;ZANDEFGHOPQ&quot;;\r\n\t\tint size1 = one.length();\r\n\t\tint size2 = two.length();\r\n\t\tint i = 0;\r\n\t\tint j = (size1 &gt;= size2 ? size2 : size1);\r\n\t\tchar[] oneTab = one.toCharArray();\r\n\t\tchar[] twoTab = two.toCharArray();\r\n\t\tint k = 0;\r\n\t\tfor(i = 0; i&lt; j; i++){\r\n\t\t\tif((String.valueOf(oneTab[i])).equals(String.valueOf(twoTab[i]))){\r\n\t\t\t\tk = k+1;\r\n\t\t\t};\r\n\t\t};\r\n\t\tSystem.out.println(k);\t\t\r\n\t}\r\n}","title":"Count of of characters matched in sequence of two string","body":"<pre><code>public class Test {\n\npublic static void main(String[] args) {\n\n    String one=\"ABCDEFGHIJK\";\n    String two=\"ZANDEFGHOPQ\";\n    int size1 = one.length();\n    int size2 = two.length();\n    int i = 0;\n    int j = (size1 &gt;= size2 ? size2 : size1);\n    char[] oneTab = one.toCharArray();\n    char[] twoTab = two.toCharArray();\n    int k = 0;\n    for(i = 0; i&lt; j; i++){\n        if((String.valueOf(oneTab[i])).equals(String.valueOf(twoTab[i]))){\n            k = k+1;\n        };\n    };\n    System.out.println(k);      \n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":9785479,"reputation":101,"user_id":7829081,"display_name":"I_Really_Want_To_Heal_Myself"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678292938,"creation_date":1678292938,"answer_id":75675690,"question_id":46252389,"body_markdown":"I know it is a rather old question, but perhaps someone will find this &quot;if-less&quot; answer a nice one. One can shorten it a bit further by replacing *len* in the loop by its definition.\r\n\r\n```java\r\npublic class TestClass {\r\n    public static void main(String[] args) {\r\n        String one = &quot;ABCDEFGHIJK&quot;;\r\n        String two = &quot;ZANDEFGHOPQ&quot;;\r\n        int len = Math.min(one.length(), two.length());\r\n        int counter = 0;\r\n        for (int i = 0; i &lt; len; i++) {\r\n            counter += (one.charAt(i) == two.charAt(i)) ? 1 : 0;\r\n        }\r\n        System.out.println(counter);\r\n    }\r\n}\r\n```","title":"Count of of characters matched in sequence of two string","body":"<p>I know it is a rather old question, but perhaps someone will find this &quot;if-less&quot; answer a nice one. One can shorten it a bit further by replacing <em>len</em> in the loop by its definition.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class TestClass {\n    public static void main(String[] args) {\n        String one = &quot;ABCDEFGHIJK&quot;;\n        String two = &quot;ZANDEFGHOPQ&quot;;\n        int len = Math.min(one.length(), two.length());\n        int counter = 0;\n        for (int i = 0; i &lt; len; i++) {\n            counter += (one.charAt(i) == two.charAt(i)) ? 1 : 0;\n        }\n        System.out.println(counter);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1600690,"reputation":926,"user_id":1481766,"accept_rate":44,"display_name":"Amit Sharma"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":894,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":5,"score":0,"last_activity_date":1678292938,"creation_date":1505554531,"question_id":46252389,"body_markdown":"I want to match two string  and get how many chars matched in sequence. \r\nLike :\r\n\r\n    String one=&quot;ABCDEFGHIJK&quot;;\r\n    String two=&quot;ZANDEFGHOPQ&quot;;\r\n\r\nlike you can see that it must return 5 chars in sequence matched because **DEFGH** are exist on both sequence.\r\n\r\n\r\nThanks","title":"Count of of characters matched in sequence of two string","body":"<p>I want to match two string  and get how many chars matched in sequence. \nLike :</p>\n\n<pre><code>String one=\"ABCDEFGHIJK\";\nString two=\"ZANDEFGHOPQ\";\n</code></pre>\n\n<p>like you can see that it must return 5 chars in sequence matched because <strong>DEFGH</strong> are exist on both sequence.</p>\n\n<p>Thanks</p>\n"},{"tags":["java","time","libgdx"],"comments":[{"owner":{"account_id":1933470,"reputation":647,"user_id":1742376,"display_name":"doomsdaymachine"},"score":0,"creation_date":1388974837,"post_id":20941866,"comment_id":31450788,"body_markdown":"getPosition() &quot;returns the playback position in seconds&quot;. what exactly do you mean by duration?","body":"getPosition() &quot;returns the playback position in seconds&quot;. what exactly do you mean by duration?"},{"owner":{"account_id":2753111,"reputation":1235,"user_id":2372006,"accept_rate":89,"display_name":"LeSam"},"score":2,"creation_date":1389050158,"post_id":20941866,"comment_id":31486994,"body_markdown":"duration is the final time of the music : e.g 3 mins 30","body":"duration is the final time of the music : e.g 3 mins 30"},{"owner":{"account_id":1933470,"reputation":647,"user_id":1742376,"display_name":"doomsdaymachine"},"score":0,"creation_date":1389059814,"post_id":20941866,"comment_id":31489987,"body_markdown":"yea, i don&#39;t think libgdx has built-in functions to simple get that info.","body":"yea, i don&#39;t think libgdx has built-in functions to simple get that info."},{"owner":{"account_id":6450014,"reputation":11895,"user_id":4997239,"accept_rate":61,"display_name":"Hasen"},"score":0,"creation_date":1607508045,"post_id":20941866,"comment_id":115291937,"body_markdown":"@doomsdaymachine I think by the &#39;duration&#39; of the music, he was referring to the duration of the music. But I&#39;m only guessing.","body":"@doomsdaymachine I think by the &#39;duration&#39; of the music, he was referring to the duration of the music. But I&#39;m only guessing."}],"answers":[{"tags":[],"owner":{"account_id":930575,"reputation":24689,"user_id":960524,"accept_rate":89,"display_name":"P.T."},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1388978289,"creation_date":1388978289,"answer_id":20942424,"question_id":20941866,"body_markdown":"To be clear by &quot;duration&quot; you mean the total time the music would play without looping.\r\n\r\nI don&#39;t think the Libgdx sound APIs expose this (the lowest common denominator sound API across desktop, Android and Web is pretty low ...).\r\n\r\nYou may be able to get this information out of the files you&#39;re loading into system, though (e.g., if they&#39;re wav or mp3 files there should be APIs to query their duration).","title":"Libgdx get duration of a Music","body":"<p>To be clear by \"duration\" you mean the total time the music would play without looping.</p>\n\n<p>I don't think the Libgdx sound APIs expose this (the lowest common denominator sound API across desktop, Android and Web is pretty low ...).</p>\n\n<p>You may be able to get this information out of the files you're loading into system, though (e.g., if they're wav or mp3 files there should be APIs to query their duration).</p>\n"},{"tags":[],"owner":{"account_id":3259572,"reputation":301,"user_id":2745392,"accept_rate":83,"display_name":"srikanth"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1389037155,"creation_date":1389037155,"answer_id":20957878,"question_id":20941866,"body_markdown":"if ur looking to stop the music when u want then by using\r\n\r\n    music.stop(); \r\nor pause the music by \r\n\r\n    music.pause(); \r\nor for other tasks refer to this link  https://github.com/libgdx/libgdx/wiki/Streaming-music \r\n","title":"Libgdx get duration of a Music","body":"<p>if ur looking to stop the music when u want then by using</p>\n\n<pre><code>music.stop(); \n</code></pre>\n\n<p>or pause the music by </p>\n\n<pre><code>music.pause(); \n</code></pre>\n\n<p>or for other tasks refer to this link  <a href=\"https://github.com/libgdx/libgdx/wiki/Streaming-music\" rel=\"nofollow\">https://github.com/libgdx/libgdx/wiki/Streaming-music</a> </p>\n"},{"tags":[],"owner":{"account_id":1220565,"reputation":3341,"user_id":1187293,"accept_rate":88,"display_name":"SteveL"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1409245990,"creation_date":1409232220,"answer_id":25549916,"question_id":20941866,"body_markdown":"Its an old question but I will give my answer for the future visitors\r\n\r\nTo get the duration of a music file you can use the gdx-audio extension.\r\n\r\n\t\tFileHandle file=Gdx.files.internal(filepath);\r\n\t\tFileHandle external=Gdx.files.external(&quot;mygame/&quot;+filepath);\r\n\t\tif(!external.exists())file.copyTo(external); //copy the file to the external storage \r\n\t\tMpg123Decoder\tdecoder = new Mpg123Decoder(external);\r\n\t\tSystem.out.println(&quot;name:&quot;+filepath+&quot;  duration:&quot;+decoder.getLength());","title":"Libgdx get duration of a Music","body":"<p>Its an old question but I will give my answer for the future visitors</p>\n\n<p>To get the duration of a music file you can use the gdx-audio extension.</p>\n\n<pre><code>    FileHandle file=Gdx.files.internal(filepath);\n    FileHandle external=Gdx.files.external(\"mygame/\"+filepath);\n    if(!external.exists())file.copyTo(external); //copy the file to the external storage \n    Mpg123Decoder   decoder = new Mpg123Decoder(external);\n    System.out.println(\"name:\"+filepath+\"  duration:\"+decoder.getLength());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3273973,"reputation":5791,"user_id":2756574,"accept_rate":89,"display_name":"Sebastian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678292898,"creation_date":1678292898,"answer_id":75675682,"question_id":20941866,"body_markdown":"You can seek to the end of the song to get the duration if you want to do it with libGDX tools alone:\r\n\r\n        float pos = 0;\r\n\t\tboolean repeat = true;\r\n\t\tmusic.play(); // no real sound output expected here\r\n\t\twhile (repeat) {\r\n\t\t\tpos += 1F; // seek second by second\r\n\t\t\tmusic.setPosition(pos);\r\n\t\t\trepeat = music.getPosition() != 0; // will reset to 0 when completed\r\n\t\t}\r\n\t\tmusic.stop();\r\n\t\tSystem.out.println(&quot;Duration is: &quot; + pos + &quot; seconds&quot;);\r\n\r\nBut it&#39;s a little ugly. Maybe better use a library like [Jaudiotagger][1] as recommended here: https://stackoverflow.com/questions/33610055/check-audio-file-duration-in-java\r\n\r\n\r\n  [1]: https://www.jthink.net/jaudiotagger/","title":"Libgdx get duration of a Music","body":"<p>You can seek to the end of the song to get the duration if you want to do it with libGDX tools alone:</p>\n<pre><code>    float pos = 0;\n    boolean repeat = true;\n    music.play(); // no real sound output expected here\n    while (repeat) {\n        pos += 1F; // seek second by second\n        music.setPosition(pos);\n        repeat = music.getPosition() != 0; // will reset to 0 when completed\n    }\n    music.stop();\n    System.out.println(&quot;Duration is: &quot; + pos + &quot; seconds&quot;);\n</code></pre>\n<p>But it's a little ugly. Maybe better use a library like <a href=\"https://www.jthink.net/jaudiotagger/\" rel=\"nofollow noreferrer\">Jaudiotagger</a> as recommended here: <a href=\"https://stackoverflow.com/questions/33610055/check-audio-file-duration-in-java\">Check audio file duration in java</a></p>\n"}],"owner":{"account_id":2753111,"reputation":1235,"user_id":2372006,"accept_rate":89,"display_name":"LeSam"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1745,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":4,"score":7,"last_activity_date":1678292898,"creation_date":1388974284,"question_id":20941866,"body_markdown":"Im trying to get the duration of a Music, in libgdx\r\n\r\nIm **not** talking about :\r\n\r\n \tgetPosition();\r\n\r\nWhat I want is the Duration of the music. (in seconds)\r\n\r\nThanks","title":"Libgdx get duration of a Music","body":"<p>Im trying to get the duration of a Music, in libgdx</p>\n\n<p>Im <strong>not</strong> talking about :</p>\n\n<pre><code>getPosition();\n</code></pre>\n\n<p>What I want is the Duration of the music. (in seconds)</p>\n\n<p>Thanks</p>\n"},{"tags":["java","apache-kafka","apache-zookeeper","acl"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1678326973,"post_id":75675666,"comment_id":133512602,"body_markdown":"Try setting `listeners=PLAINTEXT://0.0.0.0:9092` instead if you want to be able to connect remotely. Also, you don&#39;t need sudo","body":"Try setting <code>listeners=PLAINTEXT:&#47;&#47;0.0.0.0:9092</code> instead if you want to be able to connect remotely. Also, you don&#39;t need sudo"}],"owner":{"account_id":27100332,"reputation":3,"user_id":20647019,"display_name":"snigln"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":539,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678292838,"creation_date":1678292838,"question_id":75675666,"body_markdown":"So I&#180;m running zookeeper and kafka on the same machine, I&#180;ve modified the server.properties file as the following\r\n\r\n\r\n```\r\n# Licensed to the Apache Software Foundation (ASF) under one or more\r\n# contributor license agreements.  See the NOTICE file distributed with\r\n# this work for additional information regarding copyright ownership.\r\n# The ASF licenses this file to You under the Apache License, Version 2.0\r\n# (the &quot;License&quot;); you may not use this file except in compliance with\r\n# the License.  You may obtain a copy of the License at\r\n#\r\n#    http://www.apache.org/licenses/LICENSE-2.0\r\n#\r\n# Unless required by applicable law or agreed to in writing, software\r\n# distributed under the License is distributed on an &quot;AS IS&quot; BASIS,\r\n# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n# See the License for the specific language governing permissions and\r\n# limitations under the License.\r\n\r\n#\r\n# This configuration file is intended for use in ZK-based mode, where Apache ZooKeeper is required.\r\n# See kafka.server.KafkaConfig for additional details and defaults\r\n#\r\n\r\n############################# Server Basics #############################\r\n\r\n# The id of the broker. This must be set to a unique integer for each broker.\r\nbroker.id=0\r\n\r\n############################# Socket Server Settings #############################\r\n\r\n# The address the socket server listens on. If not configured, the host name will be equal to the value of\r\n# java.net.InetAddress.getCanonicalHostName(), with PLAINTEXT listener name, and port 9092.\r\n#   FORMAT:\r\n#     listeners = listener_name://host_name:port\r\n#   EXAMPLE:\r\n#     listeners = PLAINTEXT://your.host.name:9092\r\nlisteners=PLAINTEXT://192.168.1.88:9092\r\n\r\n# Listener name, hostname and port the broker will advertise to clients.\r\n# If not set, it uses the value for &quot;listeners&quot;.\r\nadvertised.listeners=PLAINTEXT://192.168.1.88:9092\r\n\r\n# Maps listener names to security protocols, the default is for them to be the same. See the config documentation for more details\r\n#listener.security.protocol.map=PLAINTEXT:PLAINTEXT,SSL:SSL,SASL_PLAINTEXT:SASL_PLAINTEXT,SASL_SSL:SASL_SSL\r\n\r\n# The number of threads that the server uses for receiving requests from the network and sending responses to the network\r\nnum.network.threads=3\r\n\r\n# The number of threads that the server uses for processing requests, which may include disk I/O\r\nnum.io.threads=8\r\n\r\n# The send buffer (SO_SNDBUF) used by the socket server\r\nsocket.send.buffer.bytes=102400\r\n\r\n# The receive buffer (SO_RCVBUF) used by the socket server\r\nsocket.receive.buffer.bytes=102400\r\n\r\n# The maximum size of a request that the socket server will accept (protection against OOM)\r\nsocket.request.max.bytes=104857600\r\n\r\n# Enables ACL authorizer by configuring class name\r\nauthorizer.class.name=kafka.security.authorizer.AclAuthorizer\r\n\r\n############################# Log Basics #############################\r\n\r\n# A comma separated list of directories under which to store log files\r\nlog.dirs=/tmp/kafka-logs\r\n\r\n# The default number of log partitions per topic. More partitions allow greater\r\n# parallelism for consumption, but this will also result in more files across\r\n# the brokers.\r\nnum.partitions=1\r\n\r\n# The number of threads per data directory to be used for log recovery at startup and flushing at shutdown.\r\n# This value is recommended to be increased for installations with data dirs located in RAID array.\r\nnum.recovery.threads.per.data.dir=1\r\n\r\n############################# Internal Topic Settings  #############################\r\n# The replication factor for the group metadata internal topics &quot;__consumer_offsets&quot; and &quot;__transaction_state&quot;\r\n# For anything other than development testing, a value greater than 1 is recommended to ensure availability such as 3.\r\noffsets.topic.replication.factor=1\r\ntransaction.state.log.replication.factor=1\r\ntransaction.state.log.min.isr=1\r\n\r\n############################# Log Flush Policy #############################\r\n\r\n# Messages are immediately written to the filesystem but by default we only fsync() to sync\r\n# the OS cache lazily. The following configurations control the flush of data to disk.\r\n# There are a few important trade-offs here:\r\n#    1. Durability: Unflushed data may be lost if you are not using replication.\r\n#    2. Latency: Very large flush intervals may lead to latency spikes when the flush does occur as there will be a lot of data to flush.\r\n#    3. Throughput: The flush is generally the most expensive operation, and a small flush interval may lead to excessive seeks.\r\n# The settings below allow one to configure the flush policy to flush data after a period of time or\r\n# every N messages (or both). This can be done globally and overridden on a per-topic basis.\r\n\r\n# The number of messages to accept before forcing a flush of data to disk\r\n#log.flush.interval.messages=10000\r\n\r\n# The maximum amount of time a message can sit in a log before we force a flush\r\n#log.flush.interval.ms=1000\r\n\r\n############################# Log Retention Policy #############################\r\n\r\n# The following configurations control the disposal of log segments. The policy can\r\n# be set to delete segments after a period of time, or after a given size has accumulated.\r\n# A segment will be deleted whenever *either* of these criteria are met. Deletion always happens\r\n# from the end of the log.\r\n\r\n# The minimum age of a log file to be eligible for deletion due to age\r\nlog.retention.hours=168\r\n\r\n# A size-based retention policy for logs. Segments are pruned from the log unless the remaining\r\n# segments drop below log.retention.bytes. Functions independently of log.retention.hours.\r\n#log.retention.bytes=1073741824\r\n\r\n# The maximum size of a log segment file. When this size is reached a new log segment will be created.\r\n#log.segment.bytes=1073741824\r\n\r\n# The interval at which log segments are checked to see if they can be deleted according\r\n# to the retention policies\r\nlog.retention.check.interval.ms=300000\r\n\r\n############################# Zookeeper #############################\r\n\r\n# Zookeeper connection string (see zookeeper docs for details).\r\n# This is a comma separated host:port pairs, each corresponding to a zk\r\n# server. e.g. &quot;127.0.0.1:3000,127.0.0.1:3001,127.0.0.1:3002&quot;.\r\n# You can also append an optional chroot string to the urls to specify the\r\n# root directory for all kafka znodes.\r\nzookeeper.connect=localhost:2181\r\n\r\n# Timeout in ms for connecting to zookeeper\r\nzookeeper.connection.timeout.ms=18000\r\n\r\n\r\n############################# Group Coordinator Settings #############################\r\n\r\n# The following configuration specifies the time, in milliseconds, that the GroupCoordinator will delay the initial consumer rebalance.\r\n# The rebalance will be further delayed by the value of group.initial.rebalance.delay.ms as new members join the group, up to a maximum of max.poll.interval.ms.\r\n# The default value for this is 3 seconds.\r\n# We override this to 0 here as it makes for a better out-of-the-box experience for development and testing.\r\n# However, in production environments the default value of 3 seconds is more suitable as this will help to avoid unnecessary, and potentially expensive, rebalances during application startup.\r\ngroup.initial.rebalance.delay.ms=0\r\n\r\n# Grant permissions to the Kafka admin user\r\nsuperUser=User:*;\r\n\r\n# Allow all clients to connect to the broker\r\nUser:*;Host:*,Permission:allow,Operation:All;\r\n\r\n# Grant read and write permissions to a specific topic\r\nTopic:test-topic,PermissionType:Allow,Principal:User:test-user,Operation:Read,Write;\r\n\r\n```\r\n\r\n\r\nSo when i try add a ACL with this command for example:\r\n&gt; sudo /usr/local/kafka/bin/kafka-acls.sh --bootstrap-server 192.168.1.88:9092 --add --allow-principal User:producer --allow-host 10.20.20.33 --operation write --topic test\r\n\r\nI get this crash message:\r\n\r\n```\r\nAdding ACLs for resource `ResourcePattern(resourceType=TOPIC, name=test, patternType=LITERAL)`:\r\n        (principal=User:producer, host=10.20.20.33, operation=WRITE, permissionType=ALLOW)\r\n\r\nError while executing ACL command: org.apache.kafka.common.errors.TimeoutException: Timed out waiting for a node assignment. Call: createAcls\r\njava.util.concurrent.ExecutionException: org.apache.kafka.common.errors.TimeoutException: Timed out waiting for a node assignment. Call: createAcls\r\n        at java.base/java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:395)\r\n        at java.base/java.util.concurrent.CompletableFuture.get(CompletableFuture.java:1999)\r\n        at org.apache.kafka.common.internals.KafkaFutureImpl.get(KafkaFutureImpl.java:165)\r\n        at kafka.admin.AclCommand$AdminClientService.$anonfun$addAcls$3(AclCommand.scala:115)\r\n        at scala.collection.TraversableLike$WithFilter.$anonfun$foreach$1(TraversableLike.scala:985)\r\n        at scala.collection.immutable.Map$Map1.foreach(Map.scala:193)\r\n        at scala.collection.TraversableLike$WithFilter.foreach(TraversableLike.scala:984)\r\n        at kafka.admin.AclCommand$AdminClientService.$anonfun$addAcls$1(AclCommand.scala:112)\r\n        at kafka.admin.AclCommand$AdminClientService.addAcls(AclCommand.scala:111)\r\n        at kafka.admin.AclCommand$.main(AclCommand.scala:73)\r\n        at kafka.admin.AclCommand.main(AclCommand.scala)\r\nCaused by: org.apache.kafka.common.errors.TimeoutException: Timed out waiting for a node assignment. Call: createAcls\r\n```\r\n\r\n\r\nIt seems aswell that i cant even describe the topic that I created earlier after I added the &quot;authorizer.class.name=kafka.security.authorizer.AclAuthorizer&quot; line to the server.properties file. Everything worked fine before this and I was able to stream data without any authorization, but I can&#180;t seem to find the issue about this line and every guide that I could find have the exact same line. \r\n\r\nI&#180;ve checked that kafka and zookeeper are running properly since I can do everything with out the authorizer class in the properties file. I tried to give root user on the broker machine all permisions on the cluster and that resulted in the same crash. Any help would be amazing and let me know if you need any further infromation.","title":"Error whilst creating ACL on Apache Kafka","body":"<p>So I´m running zookeeper and kafka on the same machine, I´ve modified the server.properties file as the following</p>\n<pre><code># Licensed to the Apache Software Foundation (ASF) under one or more\n# contributor license agreements.  See the NOTICE file distributed with\n# this work for additional information regarding copyright ownership.\n# The ASF licenses this file to You under the Apache License, Version 2.0\n# (the &quot;License&quot;); you may not use this file except in compliance with\n# the License.  You may obtain a copy of the License at\n#\n#    http://www.apache.org/licenses/LICENSE-2.0\n#\n# Unless required by applicable law or agreed to in writing, software\n# distributed under the License is distributed on an &quot;AS IS&quot; BASIS,\n# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n# See the License for the specific language governing permissions and\n# limitations under the License.\n\n#\n# This configuration file is intended for use in ZK-based mode, where Apache ZooKeeper is required.\n# See kafka.server.KafkaConfig for additional details and defaults\n#\n\n############################# Server Basics #############################\n\n# The id of the broker. This must be set to a unique integer for each broker.\nbroker.id=0\n\n############################# Socket Server Settings #############################\n\n# The address the socket server listens on. If not configured, the host name will be equal to the value of\n# java.net.InetAddress.getCanonicalHostName(), with PLAINTEXT listener name, and port 9092.\n#   FORMAT:\n#     listeners = listener_name://host_name:port\n#   EXAMPLE:\n#     listeners = PLAINTEXT://your.host.name:9092\nlisteners=PLAINTEXT://192.168.1.88:9092\n\n# Listener name, hostname and port the broker will advertise to clients.\n# If not set, it uses the value for &quot;listeners&quot;.\nadvertised.listeners=PLAINTEXT://192.168.1.88:9092\n\n# Maps listener names to security protocols, the default is for them to be the same. See the config documentation for more details\n#listener.security.protocol.map=PLAINTEXT:PLAINTEXT,SSL:SSL,SASL_PLAINTEXT:SASL_PLAINTEXT,SASL_SSL:SASL_SSL\n\n# The number of threads that the server uses for receiving requests from the network and sending responses to the network\nnum.network.threads=3\n\n# The number of threads that the server uses for processing requests, which may include disk I/O\nnum.io.threads=8\n\n# The send buffer (SO_SNDBUF) used by the socket server\nsocket.send.buffer.bytes=102400\n\n# The receive buffer (SO_RCVBUF) used by the socket server\nsocket.receive.buffer.bytes=102400\n\n# The maximum size of a request that the socket server will accept (protection against OOM)\nsocket.request.max.bytes=104857600\n\n# Enables ACL authorizer by configuring class name\nauthorizer.class.name=kafka.security.authorizer.AclAuthorizer\n\n############################# Log Basics #############################\n\n# A comma separated list of directories under which to store log files\nlog.dirs=/tmp/kafka-logs\n\n# The default number of log partitions per topic. More partitions allow greater\n# parallelism for consumption, but this will also result in more files across\n# the brokers.\nnum.partitions=1\n\n# The number of threads per data directory to be used for log recovery at startup and flushing at shutdown.\n# This value is recommended to be increased for installations with data dirs located in RAID array.\nnum.recovery.threads.per.data.dir=1\n\n############################# Internal Topic Settings  #############################\n# The replication factor for the group metadata internal topics &quot;__consumer_offsets&quot; and &quot;__transaction_state&quot;\n# For anything other than development testing, a value greater than 1 is recommended to ensure availability such as 3.\noffsets.topic.replication.factor=1\ntransaction.state.log.replication.factor=1\ntransaction.state.log.min.isr=1\n\n############################# Log Flush Policy #############################\n\n# Messages are immediately written to the filesystem but by default we only fsync() to sync\n# the OS cache lazily. The following configurations control the flush of data to disk.\n# There are a few important trade-offs here:\n#    1. Durability: Unflushed data may be lost if you are not using replication.\n#    2. Latency: Very large flush intervals may lead to latency spikes when the flush does occur as there will be a lot of data to flush.\n#    3. Throughput: The flush is generally the most expensive operation, and a small flush interval may lead to excessive seeks.\n# The settings below allow one to configure the flush policy to flush data after a period of time or\n# every N messages (or both). This can be done globally and overridden on a per-topic basis.\n\n# The number of messages to accept before forcing a flush of data to disk\n#log.flush.interval.messages=10000\n\n# The maximum amount of time a message can sit in a log before we force a flush\n#log.flush.interval.ms=1000\n\n############################# Log Retention Policy #############################\n\n# The following configurations control the disposal of log segments. The policy can\n# be set to delete segments after a period of time, or after a given size has accumulated.\n# A segment will be deleted whenever *either* of these criteria are met. Deletion always happens\n# from the end of the log.\n\n# The minimum age of a log file to be eligible for deletion due to age\nlog.retention.hours=168\n\n# A size-based retention policy for logs. Segments are pruned from the log unless the remaining\n# segments drop below log.retention.bytes. Functions independently of log.retention.hours.\n#log.retention.bytes=1073741824\n\n# The maximum size of a log segment file. When this size is reached a new log segment will be created.\n#log.segment.bytes=1073741824\n\n# The interval at which log segments are checked to see if they can be deleted according\n# to the retention policies\nlog.retention.check.interval.ms=300000\n\n############################# Zookeeper #############################\n\n# Zookeeper connection string (see zookeeper docs for details).\n# This is a comma separated host:port pairs, each corresponding to a zk\n# server. e.g. &quot;127.0.0.1:3000,127.0.0.1:3001,127.0.0.1:3002&quot;.\n# You can also append an optional chroot string to the urls to specify the\n# root directory for all kafka znodes.\nzookeeper.connect=localhost:2181\n\n# Timeout in ms for connecting to zookeeper\nzookeeper.connection.timeout.ms=18000\n\n\n############################# Group Coordinator Settings #############################\n\n# The following configuration specifies the time, in milliseconds, that the GroupCoordinator will delay the initial consumer rebalance.\n# The rebalance will be further delayed by the value of group.initial.rebalance.delay.ms as new members join the group, up to a maximum of max.poll.interval.ms.\n# The default value for this is 3 seconds.\n# We override this to 0 here as it makes for a better out-of-the-box experience for development and testing.\n# However, in production environments the default value of 3 seconds is more suitable as this will help to avoid unnecessary, and potentially expensive, rebalances during application startup.\ngroup.initial.rebalance.delay.ms=0\n\n# Grant permissions to the Kafka admin user\nsuperUser=User:*;\n\n# Allow all clients to connect to the broker\nUser:*;Host:*,Permission:allow,Operation:All;\n\n# Grant read and write permissions to a specific topic\nTopic:test-topic,PermissionType:Allow,Principal:User:test-user,Operation:Read,Write;\n\n</code></pre>\n<p>So when i try add a ACL with this command for example:</p>\n<blockquote>\n<p>sudo /usr/local/kafka/bin/kafka-acls.sh --bootstrap-server 192.168.1.88:9092 --add --allow-principal User:producer --allow-host 10.20.20.33 --operation write --topic test</p>\n</blockquote>\n<p>I get this crash message:</p>\n<pre><code>Adding ACLs for resource `ResourcePattern(resourceType=TOPIC, name=test, patternType=LITERAL)`:\n        (principal=User:producer, host=10.20.20.33, operation=WRITE, permissionType=ALLOW)\n\nError while executing ACL command: org.apache.kafka.common.errors.TimeoutException: Timed out waiting for a node assignment. Call: createAcls\njava.util.concurrent.ExecutionException: org.apache.kafka.common.errors.TimeoutException: Timed out waiting for a node assignment. Call: createAcls\n        at java.base/java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:395)\n        at java.base/java.util.concurrent.CompletableFuture.get(CompletableFuture.java:1999)\n        at org.apache.kafka.common.internals.KafkaFutureImpl.get(KafkaFutureImpl.java:165)\n        at kafka.admin.AclCommand$AdminClientService.$anonfun$addAcls$3(AclCommand.scala:115)\n        at scala.collection.TraversableLike$WithFilter.$anonfun$foreach$1(TraversableLike.scala:985)\n        at scala.collection.immutable.Map$Map1.foreach(Map.scala:193)\n        at scala.collection.TraversableLike$WithFilter.foreach(TraversableLike.scala:984)\n        at kafka.admin.AclCommand$AdminClientService.$anonfun$addAcls$1(AclCommand.scala:112)\n        at kafka.admin.AclCommand$AdminClientService.addAcls(AclCommand.scala:111)\n        at kafka.admin.AclCommand$.main(AclCommand.scala:73)\n        at kafka.admin.AclCommand.main(AclCommand.scala)\nCaused by: org.apache.kafka.common.errors.TimeoutException: Timed out waiting for a node assignment. Call: createAcls\n</code></pre>\n<p>It seems aswell that i cant even describe the topic that I created earlier after I added the &quot;authorizer.class.name=kafka.security.authorizer.AclAuthorizer&quot; line to the server.properties file. Everything worked fine before this and I was able to stream data without any authorization, but I can´t seem to find the issue about this line and every guide that I could find have the exact same line.</p>\n<p>I´ve checked that kafka and zookeeper are running properly since I can do everything with out the authorizer class in the properties file. I tried to give root user on the broker machine all permisions on the cluster and that resulted in the same crash. Any help would be amazing and let me know if you need any further infromation.</p>\n"},{"tags":["java","testcontainers","localstack"],"answers":[{"tags":[],"owner":{"account_id":27965298,"reputation":86,"user_id":21356283,"display_name":"bentsku"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678291898,"creation_date":1678291866,"answer_id":75675478,"question_id":75660363,"body_markdown":"It might be that LocalStack is not recognising your incoming request as a Virtual Host addressed one.\r\nCould try replacing the network alias with the followings?\r\n\r\n```\r\npublic class LocalStackContainerExtended extends LocalStackContainer {\r\n   public static final String BUCKET_NAME = &quot;testBucket&quot;;\r\n   // Need to include bucket in network alias as we&#39;re not running any DNS resolver in test\r\n   public static final String LOCALSTACK_S3_NETWORK_ALIAS = &quot;s3.localhost.localstack.cloud&quot;;\r\n   // You need to also include an alias for the to-be-created bucket\r\n   public static final String BUCKET_LOCALSTACK_S3_NETWORK_ALIAS = BUCKET_NAME + &quot;.&quot; + LOCALSTACK_S3_NETWORK_ALIAS\r\n\r\n   public LocalStackContainerExtended(DockerImageName dockerImageName) {\r\n       super(dockerImageName);\r\n\r\n       withServices(Service.S3);\r\n       withNetworkAliases(LOCALSTACK_S3_NETWORK_ALIAS);\r\n       withNetworkAliases(BUCKET_LOCALSTACK_S3_NETWORK_ALIAS);\r\n   }\r\n\r\n   @Override\r\n   public void start() {\r\n       super.start();\r\n       try {\r\n           execInContainer(&quot;awslocal&quot;, &quot;s3api&quot;, &quot;create-bucket&quot;, &quot;--bucket&quot;, BUCKET_NAME);\r\n       } catch (Exception e) {\r\n           throw new RuntimeException();\r\n    }\r\n}\r\n```\r\n\r\nWhen receiving a request with this host, S3 should recognise the request and parse it properly. What is happening right now is that it does not recognise the bucket in your request, as it does not extract it from the host because it does not follow the pattern.\r\n\r\nMore informations about virtual host addressing in LocalStack: https://docs.localstack.cloud/user-guide/aws/s3/#getting-started\r\n\r\nYou then need to also configure the client to use the right endpoint. Your S3 client will take care of prefixing your endpoint with the bucket name when targeting S3, so you need to use `LOCALSTACK_S3_NETWORK_ALIAS ` as the `overrideEndpoint` (but beware, only for the client targeting S3!). Most other clients can use the endpoint `localstack:4566` pointing to your container. \r\n\r\n```\r\npublic class AppContainer extends GenericContainer&lt;AppContainer&gt;{\r\n   ...\r\n   public void setLocalstackConfig(LocalStackContainerExtended localstack) {\r\n      withEnv(&quot;awsConfigService.region&quot;, localstack.getRegion());\r\n      String overrideEndpoint = String.format(&quot;http://%s:%s&quot;, LOCALSTACK_S3_NETWORK_ALIAS,&quot;4566&quot;);\r\n      withEnv(&quot;awsConfigService.override.endpoint&quot;, overrideEndpoint);\r\n   }\r\n   ...\r\n}\r\n```","title":"Testcontainers - Localstack - S3 - Virtual Host Addressing Not Working","body":"<p>It might be that LocalStack is not recognising your incoming request as a Virtual Host addressed one.\nCould try replacing the network alias with the followings?</p>\n<pre><code>public class LocalStackContainerExtended extends LocalStackContainer {\n   public static final String BUCKET_NAME = &quot;testBucket&quot;;\n   // Need to include bucket in network alias as we're not running any DNS resolver in test\n   public static final String LOCALSTACK_S3_NETWORK_ALIAS = &quot;s3.localhost.localstack.cloud&quot;;\n   // You need to also include an alias for the to-be-created bucket\n   public static final String BUCKET_LOCALSTACK_S3_NETWORK_ALIAS = BUCKET_NAME + &quot;.&quot; + LOCALSTACK_S3_NETWORK_ALIAS\n\n   public LocalStackContainerExtended(DockerImageName dockerImageName) {\n       super(dockerImageName);\n\n       withServices(Service.S3);\n       withNetworkAliases(LOCALSTACK_S3_NETWORK_ALIAS);\n       withNetworkAliases(BUCKET_LOCALSTACK_S3_NETWORK_ALIAS);\n   }\n\n   @Override\n   public void start() {\n       super.start();\n       try {\n           execInContainer(&quot;awslocal&quot;, &quot;s3api&quot;, &quot;create-bucket&quot;, &quot;--bucket&quot;, BUCKET_NAME);\n       } catch (Exception e) {\n           throw new RuntimeException();\n    }\n}\n</code></pre>\n<p>When receiving a request with this host, S3 should recognise the request and parse it properly. What is happening right now is that it does not recognise the bucket in your request, as it does not extract it from the host because it does not follow the pattern.</p>\n<p>More informations about virtual host addressing in LocalStack: <a href=\"https://docs.localstack.cloud/user-guide/aws/s3/#getting-started\" rel=\"nofollow noreferrer\">https://docs.localstack.cloud/user-guide/aws/s3/#getting-started</a></p>\n<p>You then need to also configure the client to use the right endpoint. Your S3 client will take care of prefixing your endpoint with the bucket name when targeting S3, so you need to use <code>LOCALSTACK_S3_NETWORK_ALIAS </code> as the <code>overrideEndpoint</code> (but beware, only for the client targeting S3!). Most other clients can use the endpoint <code>localstack:4566</code> pointing to your container.</p>\n<pre><code>public class AppContainer extends GenericContainer&lt;AppContainer&gt;{\n   ...\n   public void setLocalstackConfig(LocalStackContainerExtended localstack) {\n      withEnv(&quot;awsConfigService.region&quot;, localstack.getRegion());\n      String overrideEndpoint = String.format(&quot;http://%s:%s&quot;, LOCALSTACK_S3_NETWORK_ALIAS,&quot;4566&quot;);\n      withEnv(&quot;awsConfigService.override.endpoint&quot;, overrideEndpoint);\n   }\n   ...\n}\n</code></pre>\n"}],"owner":{"account_id":2219863,"reputation":191,"user_id":1959534,"accept_rate":95,"display_name":"David S"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":943,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678291898,"creation_date":1678182722,"question_id":75660363,"body_markdown":"Been trying to get Testcontainers to work with virtual host addressing for the last couple of days as path style addressing is on the way out. But for the life of me I can&#39;t get the AWS SDK V2 for Java to work with Testcontainers.LocalStackContainer.\r\n\r\nMy extended Testcontainer looks like this:\r\n\r\n    public class LocalStackContainerExtended extends LocalStackContainer {\r\n       public static final String BUCKET_NAME = &quot;testBucket&quot;;\r\n       // Need to include bucket in network alias as we&#39;re not running any DNS resolver in test\r\n       public static final String LOCALSTACK_NETWORK_ALIAS = BUCKET_NAME + &quot;.&quot; + &quot;localstack&quot;;\r\n\r\n       public LocalStackContainerExtended(DockerImageName dockerImageName) {\r\n           super(dockerImageName);\r\n\r\n           withServices(Service.S3);\r\n           withNetworkAliases(LOCALSTACK_NETWORK_ALIAS);\r\n       }\r\n\r\n       @Override\r\n       public void start() {\r\n           super.start();\r\n           try {\r\n               execInContainer(&quot;awslocal&quot;, &quot;s3api&quot;, &quot;create-bucket&quot;, &quot;--bucket&quot;, BUCKET_NAME);\r\n           } catch (Exception e) {\r\n               throw new RuntimeException();\r\n        }\r\n    }\r\n\r\nAWS SDK client config for the component that needs to talk with Localstack:\r\n\r\n    @Bean\r\n    // AwsConfigService collection class of aws override values\r\n    public S3Client getS3Client(AwsConfigService awsConfigService) {\r\n        S3ClientBuilder builder = S3Client.builder()\r\n            .region(awsConfigService.getRegion());\r\n\r\n        return awsConfigService.getOverrideEndpoint()\r\n            .map(URI::create)\r\n            .map(builder::endpointOverride)\r\n            .orElse(builder).build();\r\n    }\r\n\r\nTestcontainer setup for the component:\r\n\r\n    public class AppContainer extends GenericContainer&lt;AppContainer&gt;{\r\n       ...\r\n       public void setLocalstackConfig(LocalStackContainerExtended localstack) {\r\n          withEnv(&quot;awsConfigService.region&quot;, localstack.getRegion());\r\n          String overrideEndpoint = String.format(&quot;http://%s:%s&quot;, LOCALSTACK_NETWORK_ALIAS,&quot;4566&quot;);\r\n          withEnv(&quot;awsConfigService.override.endpoint&quot;, overrideEndpoint);\r\n       }\r\n       ...\r\n    }\r\n\r\nBut when running tests between the the client and Testcontainer I always get the following error:\r\n\r\n&gt; The specified bucket does not exist (Service: S3, Status Code: 404, Request ID: 7a62c49f-347e-4fc4-9331-6e8eEXAMPLE, Extended Request ID: MzRISOwyjmnupEEE949DD2EAF7F477/JypPGXLh0OVFGcJaaO3KW/hRAqKOpIEEp\r\n\r\nWhat have I miss-configured or what is missing?","title":"Testcontainers - Localstack - S3 - Virtual Host Addressing Not Working","body":"<p>Been trying to get Testcontainers to work with virtual host addressing for the last couple of days as path style addressing is on the way out. But for the life of me I can't get the AWS SDK V2 for Java to work with Testcontainers.LocalStackContainer.</p>\n<p>My extended Testcontainer looks like this:</p>\n<pre><code>public class LocalStackContainerExtended extends LocalStackContainer {\n   public static final String BUCKET_NAME = &quot;testBucket&quot;;\n   // Need to include bucket in network alias as we're not running any DNS resolver in test\n   public static final String LOCALSTACK_NETWORK_ALIAS = BUCKET_NAME + &quot;.&quot; + &quot;localstack&quot;;\n\n   public LocalStackContainerExtended(DockerImageName dockerImageName) {\n       super(dockerImageName);\n\n       withServices(Service.S3);\n       withNetworkAliases(LOCALSTACK_NETWORK_ALIAS);\n   }\n\n   @Override\n   public void start() {\n       super.start();\n       try {\n           execInContainer(&quot;awslocal&quot;, &quot;s3api&quot;, &quot;create-bucket&quot;, &quot;--bucket&quot;, BUCKET_NAME);\n       } catch (Exception e) {\n           throw new RuntimeException();\n    }\n}\n</code></pre>\n<p>AWS SDK client config for the component that needs to talk with Localstack:</p>\n<pre><code>@Bean\n// AwsConfigService collection class of aws override values\npublic S3Client getS3Client(AwsConfigService awsConfigService) {\n    S3ClientBuilder builder = S3Client.builder()\n        .region(awsConfigService.getRegion());\n\n    return awsConfigService.getOverrideEndpoint()\n        .map(URI::create)\n        .map(builder::endpointOverride)\n        .orElse(builder).build();\n}\n</code></pre>\n<p>Testcontainer setup for the component:</p>\n<pre><code>public class AppContainer extends GenericContainer&lt;AppContainer&gt;{\n   ...\n   public void setLocalstackConfig(LocalStackContainerExtended localstack) {\n      withEnv(&quot;awsConfigService.region&quot;, localstack.getRegion());\n      String overrideEndpoint = String.format(&quot;http://%s:%s&quot;, LOCALSTACK_NETWORK_ALIAS,&quot;4566&quot;);\n      withEnv(&quot;awsConfigService.override.endpoint&quot;, overrideEndpoint);\n   }\n   ...\n}\n</code></pre>\n<p>But when running tests between the the client and Testcontainer I always get the following error:</p>\n<blockquote>\n<p>The specified bucket does not exist (Service: S3, Status Code: 404, Request ID: 7a62c49f-347e-4fc4-9331-6e8eEXAMPLE, Extended Request ID: MzRISOwyjmnupEEE949DD2EAF7F477/JypPGXLh0OVFGcJaaO3KW/hRAqKOpIEEp</p>\n</blockquote>\n<p>What have I miss-configured or what is missing?</p>\n"},{"tags":["java","android","ios","kotlin"],"answers":[{"tags":[],"owner":{"account_id":18571239,"reputation":4748,"user_id":13533028,"display_name":"Narendra_Nath"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678291186,"creation_date":1678291186,"answer_id":75675343,"question_id":75675247,"body_markdown":"You can create a link to your playstore app and have an icon with your other app&#39;s icon. Post that fire a intent to go to the market and open your app install page\r\n\r\n```\r\nstartActivity(new Intent(Intent.ACTION_VIEW, Uri.parse(&quot;market://details?id=&quot; + packageNameOfYourOtherApp)));\r\n```","title":"Equivalent of SKStoreProductViewController for Android?","body":"<p>You can create a link to your playstore app and have an icon with your other app's icon. Post that fire a intent to go to the market and open your app install page</p>\n<pre><code>startActivity(new Intent(Intent.ACTION_VIEW, Uri.parse(&quot;market://details?id=&quot; + packageNameOfYourOtherApp)));\n</code></pre>\n"}],"owner":{"account_id":169667,"reputation":14696,"user_id":395869,"accept_rate":51,"display_name":"toto_tata"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1678291186,"creation_date":1678290619,"question_id":75675247,"body_markdown":"I want to cross promote another of my apps from inside my app, with an interstitial inside my app, as it can be done on iOS with SKStoreProductViewController.\r\n\r\nIs it possible to do that on Android ?\r\n\r\nThanks.","title":"Equivalent of SKStoreProductViewController for Android?","body":"<p>I want to cross promote another of my apps from inside my app, with an interstitial inside my app, as it can be done on iOS with SKStoreProductViewController.</p>\n<p>Is it possible to do that on Android ?</p>\n<p>Thanks.</p>\n"},{"tags":["java","lazy-loading"],"comments":[{"owner":{"account_id":3436929,"reputation":2608,"user_id":2879838,"display_name":"David Fleeman"},"score":0,"creation_date":1386347000,"post_id":20428560,"comment_id":30514054,"body_markdown":"&quot;all 50 properties are instantiated as well&quot; -- could you modify this constructor so that instead of instantiating objects that you simply store null if the property does not exist or is not to be used?","body":"&quot;all 50 properties are instantiated as well&quot; -- could you modify this constructor so that instead of instantiating objects that you simply store null if the property does not exist or is not to be used?"},{"owner":{"account_id":264830,"reputation":70811,"user_id":551406,"accept_rate":95,"display_name":"Michael Berry"},"score":0,"creation_date":1386347003,"post_id":20428560,"comment_id":30514057,"body_markdown":"`totalMemory()` may not be doing exactly what you think it is - &quot;the total amount of memory currently available for current **and future** objects, measured in bytes.&quot; (http://docs.oracle.com/javase/7/docs/api/java/lang/Runtime.html#totalMemory())","body":"<code>totalMemory()</code> may not be doing exactly what you think it is - &quot;the total amount of memory currently available for current <b>and future</b> objects, measured in bytes.&quot; (<a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Runtime.html#totalMemory()\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/lang/&hellip;</a>)"},{"owner":{"account_id":253003,"reputation":10963,"user_id":531398,"accept_rate":93,"display_name":"William Morrison"},"score":2,"creation_date":1386347017,"post_id":20428560,"comment_id":30514074,"body_markdown":"Only idea I have is maybe something with reflection.  Try write one method for all 50 calls.  Other than that, try refactoring your object.  If there are many properties its not using, that&#39;s a sign it has too much state, too much responsibility.","body":"Only idea I have is maybe something with reflection.  Try write one method for all 50 calls.  Other than that, try refactoring your object.  If there are many properties its not using, that&#39;s a sign it has too much state, too much responsibility."},{"owner":{"account_id":3490045,"reputation":3759,"user_id":2919971,"accept_rate":100,"display_name":"MadConan"},"score":0,"creation_date":1386347313,"post_id":20428560,"comment_id":30514238,"body_markdown":"My &quot;answer&quot; wasn&#39;t really going to work.  It would help if we saw the structure of the NodeProperty type and how ConfigNode references them.","body":"My &quot;answer&quot; wasn&#39;t really going to work.  It would help if we saw the structure of the NodeProperty type and how ConfigNode references them."},{"owner":{"account_id":256108,"reputation":19126,"user_id":536607,"accept_rate":88,"display_name":"MxLDevs"},"score":0,"creation_date":1386347763,"post_id":20428560,"comment_id":30514515,"body_markdown":"I&#39;ve added an example of how it looks with a couple sample properties.","body":"I&#39;ve added an example of how it looks with a couple sample properties."},{"owner":{"account_id":204659,"reputation":37539,"user_id":453005,"accept_rate":100,"display_name":"DwB"},"score":0,"creation_date":1386348203,"post_id":20428560,"comment_id":30514790,"body_markdown":"Lazy loading will not solve your memory issue; it will delay it.  Assuming that you need a million config objects, then you really need 2.5gig of memory to hold them.  For memory constraints, consider the flyweight pattern.","body":"Lazy loading will not solve your memory issue; it will delay it.  Assuming that you need a million config objects, then you really need 2.5gig of memory to hold them.  For memory constraints, consider the flyweight pattern."},{"owner":{"account_id":256108,"reputation":19126,"user_id":536607,"accept_rate":88,"display_name":"MxLDevs"},"score":0,"creation_date":1386348583,"post_id":20428560,"comment_id":30515018,"body_markdown":"@DwB For certain applications, any properties that aren&#39;t used, do not need to be instantiated. I imagine there should be considerable savings here. For other applications, they will instantiate everything. Perhaps I can consider both lazy loading and the flyweight pattern.","body":"@DwB For certain applications, any properties that aren&#39;t used, do not need to be instantiated. I imagine there should be considerable savings here. For other applications, they will instantiate everything. Perhaps I can consider both lazy loading and the flyweight pattern."}],"answers":[{"tags":[],"owner":{"account_id":208605,"reputation":5884,"user_id":459185,"accept_rate":100,"display_name":"Amit Sharma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1386348193,"creation_date":1386347625,"answer_id":20428942,"question_id":20428560,"body_markdown":"**Approach 1**&lt;br&gt;\r\nHere&#39;s another approach you could use given the `NodeConfig` code: \r\n    public class NodeConfig {\r\n\r\n        public NodeProperty pTwoWay;\r\n        public NodeProperty pBinary;\r\n\r\n        // more properties\r\n\r\n        public NodeConfig() {\r\n            // \r\n        }\r\n        \r\n        public NodeProperty getProperty(NodePropertyEnum nodeProp) {\r\n            switch(nodeProp) {\r\n                case TWO_WAY: \r\n                    if (pTwoWay != null) {return pTwoWay;}\r\n                    pTwoWay = new NodeProperty( &quot;Two way&quot;, Status.OPTIONAL, Visibility.VISIBLE ); \r\n                case BINARY_MODE: \r\n                    if (pBinary != null) {return pBinary;}\r\n                    pBinary = new NodeProperty( &quot;Binary mode&quot;, Status.OPTIONAL, Visibility.VISIBLE); \r\n                // other cases\r\n                default: \r\n                    throw new IllegalArgumentException();\r\n            }\r\n        }\r\n    }\r\n\r\n**Approach 2**&lt;BR&gt;\r\nLooks like a case for `Singleton` design pattern. Rather than checking for `propOne` instance to be `null`, it will be better if you make all Property classes singleton. Something like: \r\n\r\n    public class NodeProperty {\r\n        \r\n        private static volatile NodeProperty instance = null;\r\n        \r\n        private NodeProperty() {\r\n            // instantiatin logic\r\n        }\r\n        \r\n        public NodeProperty getInstance() {\r\n            if(instance == null) {\r\n                synchronized(NodeProperty.class) {\r\n                    if(instance==null) {\r\n                        instance = new NodeProperty();\r\n                    }\r\n                } \r\n            }\r\n        }\r\n\r\n    }\r\n\r\n","title":"Less verbose way to do lazy loading","body":"<p><strong>Approach 1</strong><br>\nHere's another approach you could use given the <code>NodeConfig</code> code: \n    public class NodeConfig {</p>\n\n<pre><code>    public NodeProperty pTwoWay;\n    public NodeProperty pBinary;\n\n    // more properties\n\n    public NodeConfig() {\n        // \n    }\n\n    public NodeProperty getProperty(NodePropertyEnum nodeProp) {\n        switch(nodeProp) {\n            case TWO_WAY: \n                if (pTwoWay != null) {return pTwoWay;}\n                pTwoWay = new NodeProperty( \"Two way\", Status.OPTIONAL, Visibility.VISIBLE ); \n            case BINARY_MODE: \n                if (pBinary != null) {return pBinary;}\n                pBinary = new NodeProperty( \"Binary mode\", Status.OPTIONAL, Visibility.VISIBLE); \n            // other cases\n            default: \n                throw new IllegalArgumentException();\n        }\n    }\n}\n</code></pre>\n\n<p><strong>Approach 2</strong><BR>\nLooks like a case for <code>Singleton</code> design pattern. Rather than checking for <code>propOne</code> instance to be <code>null</code>, it will be better if you make all Property classes singleton. Something like: </p>\n\n<pre><code>public class NodeProperty {\n\n    private static volatile NodeProperty instance = null;\n\n    private NodeProperty() {\n        // instantiatin logic\n    }\n\n    public NodeProperty getInstance() {\n        if(instance == null) {\n            synchronized(NodeProperty.class) {\n                if(instance==null) {\n                    instance = new NodeProperty();\n                }\n            } \n        }\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":446208,"reputation":8611,"user_id":839128,"accept_rate":75,"display_name":"MikeFHay"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1678290657,"creation_date":1386347757,"answer_id":20428998,"question_id":20428560,"body_markdown":"Guava&#39;s [Suppliers][1] library can do all the logic of lazy-loading for you (including thread-safety, which your example doesn&#39;t have).\r\n\r\n    import com.google.common.base.Supplier;\r\n    import com.google.common.base.Suppliers;\r\n\r\n    private Supplier&lt;NodeProperty&gt; propOneSupplier =\r\n        Suppliers.memoize(() -&gt; new NodeProperty(...));\r\n\r\n    public NodeProperty propOne() {\r\n        return propOneSupplier.get();\r\n    }\r\n\r\n\r\n  [1]: https://guava.dev/releases/snapshot-jre/api/docs/com/google/common/base/Suppliers.html","title":"Less verbose way to do lazy loading","body":"<p>Guava's <a href=\"https://guava.dev/releases/snapshot-jre/api/docs/com/google/common/base/Suppliers.html\" rel=\"nofollow noreferrer\">Suppliers</a> library can do all the logic of lazy-loading for you (including thread-safety, which your example doesn't have).</p>\n<pre><code>import com.google.common.base.Supplier;\nimport com.google.common.base.Suppliers;\n\nprivate Supplier&lt;NodeProperty&gt; propOneSupplier =\n    Suppliers.memoize(() -&gt; new NodeProperty(...));\n\npublic NodeProperty propOne() {\n    return propOneSupplier.get();\n}\n</code></pre>\n"}],"owner":{"account_id":256108,"reputation":19126,"user_id":536607,"accept_rate":88,"display_name":"MxLDevs"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":176,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":20428942,"answer_count":2,"score":1,"last_activity_date":1678290657,"creation_date":1386346440,"question_id":20428560,"body_markdown":"I am refactoring a class called `ConfigNode` that stores 50 &quot;properties&quot;. Each property is an object of its own. All properties are optional, and most of the time, many of them are not set.\r\n\r\nCurrently, the class is written so that when it is instantiated, all 50 properties are instantiated as well. When you create a million `Config` objects, Java tells me I&#39;m using 2.5 gigs of memory. When I comment out the property instantiation, Java says I&#39;m using 300 MB.\r\n\r\nThe benchmark code I&#39;m using is\r\n\r\n    Runtime.getRuntime().gc();\r\n    // do my stuff\r\n    Runtime.getRuntime().gc();\r\n    long memory = Runtime.getRuntime().totalMemory();\r\n    System.out.println(&quot;Memory used: &quot; + memory / 1000000 + &quot; MB&quot;);\r\n\r\nSo I&#39;m thinking of rewriting the class to lazy load a property when it&#39;s accessed, but having to write something like \r\n\r\n    // This is probably not thread safe, so it could be even more verbose\r\n    public NodeProperty propOne() {\r\n       if (propOne == null) {\r\n          propOne = new NodeProperty( ... )\r\n       }\r\n       return propOne\r\n    }\r\n\r\nAnd then do it for all of the properties seems kind of verbose. Is there anything in Java that can help me reduce the amount of code I have to write (and consequently, maintain)?\r\n\r\nHere is how the NodeConfig looks like\r\n\r\n    public class NodeConfig {\r\n\r\n        public NodeProperty pVersion = new NodeProperty( &quot;Spec Version&quot;, Status.REQUIRED, Visibility.HIDDEN);\r\n        public NodeProperty pTwoWay = new NodeProperty( &quot;Two way&quot;, Status.OPTIONAL, Visibility.VISIBLE );\r\n        public NodeProperty pBinary = new NodeProperty( &quot;Binary mode&quot;, Status.OPTIONAL, Visibility.HIDDEN);\r\n\r\n        // more properties\r\n\r\n        public NodeConfig() {\r\n            // \r\n        }\r\n    }\r\n","title":"Less verbose way to do lazy loading","body":"<p>I am refactoring a class called <code>ConfigNode</code> that stores 50 \"properties\". Each property is an object of its own. All properties are optional, and most of the time, many of them are not set.</p>\n\n<p>Currently, the class is written so that when it is instantiated, all 50 properties are instantiated as well. When you create a million <code>Config</code> objects, Java tells me I'm using 2.5 gigs of memory. When I comment out the property instantiation, Java says I'm using 300 MB.</p>\n\n<p>The benchmark code I'm using is</p>\n\n<pre><code>Runtime.getRuntime().gc();\n// do my stuff\nRuntime.getRuntime().gc();\nlong memory = Runtime.getRuntime().totalMemory();\nSystem.out.println(\"Memory used: \" + memory / 1000000 + \" MB\");\n</code></pre>\n\n<p>So I'm thinking of rewriting the class to lazy load a property when it's accessed, but having to write something like </p>\n\n<pre><code>// This is probably not thread safe, so it could be even more verbose\npublic NodeProperty propOne() {\n   if (propOne == null) {\n      propOne = new NodeProperty( ... )\n   }\n   return propOne\n}\n</code></pre>\n\n<p>And then do it for all of the properties seems kind of verbose. Is there anything in Java that can help me reduce the amount of code I have to write (and consequently, maintain)?</p>\n\n<p>Here is how the NodeConfig looks like</p>\n\n<pre><code>public class NodeConfig {\n\n    public NodeProperty pVersion = new NodeProperty( \"Spec Version\", Status.REQUIRED, Visibility.HIDDEN);\n    public NodeProperty pTwoWay = new NodeProperty( \"Two way\", Status.OPTIONAL, Visibility.VISIBLE );\n    public NodeProperty pBinary = new NodeProperty( \"Binary mode\", Status.OPTIONAL, Visibility.HIDDEN);\n\n    // more properties\n\n    public NodeConfig() {\n        // \n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-webflux","project-reactor"],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678288719,"creation_date":1678288719,"answer_id":75674917,"question_id":75674802,"body_markdown":"The `Mono` has this operator:\r\n\r\n\r\n\t/**\r\n\t * Transform the item emitted by this {@link Mono} into a Publisher, then forward\r\n\t * its emissions into the returned {@link Flux}.\r\n\t *\r\n\t * &lt;p&gt;\r\n\t * &lt;img class=&quot;marble&quot; src=&quot;doc-files/marbles/flatMapMany.svg&quot; alt=&quot;&quot;&gt;\r\n\t *\r\n\t * @param mapper the\r\n\t * {@link Function} to produce a sequence of R from the eventual passed {@link Subscriber#onNext}\r\n\t * @param &lt;R&gt; the merged sequence type\r\n\t *\r\n\t * @return a new {@link Flux} as the sequence is not guaranteed to be single at most\r\n\t */\r\n\tpublic final &lt;R&gt; Flux&lt;R&gt; flatMapMany(Function&lt;? super T, ? extends Publisher&lt;? extends R&gt;&gt; mapper) {","title":"How to return Flux of objects after calling a mono boolean method","body":"<p>The <code>Mono</code> has this operator:</p>\n<pre><code>/**\n * Transform the item emitted by this {@link Mono} into a Publisher, then forward\n * its emissions into the returned {@link Flux}.\n *\n * &lt;p&gt;\n * &lt;img class=&quot;marble&quot; src=&quot;doc-files/marbles/flatMapMany.svg&quot; alt=&quot;&quot;&gt;\n *\n * @param mapper the\n * {@link Function} to produce a sequence of R from the eventual passed {@link Subscriber#onNext}\n * @param &lt;R&gt; the merged sequence type\n *\n * @return a new {@link Flux} as the sequence is not guaranteed to be single at most\n */\npublic final &lt;R&gt; Flux&lt;R&gt; flatMapMany(Function&lt;? super T, ? extends Publisher&lt;? extends R&gt;&gt; mapper) {\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19395247,"reputation":3208,"user_id":14183092,"display_name":"kerbermeister"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678290041,"creation_date":1678289007,"answer_id":75674956,"question_id":75674802,"body_markdown":"In your first example nothing happens with `validate(id1,id2);` because no one subscribes to it. You should build your reactive chain from the start to the end.\r\n\r\nTo return `Flux` after the successful validation you should use `flatMapMany()`\r\n&lt;!-- language: java --&gt;\r\n    return validate(id1,id2)\r\n            .filter(valid -&gt; valid)\r\n            .flatMapMany(__ -&gt; facilityService.getFacilityResponse(id1,id2));\r\n\r\nFrom `flatMapMany()` docs:\r\n\r\n     * Transform the item emitted by this {@link Mono} into a Publisher, then forward  * its emissions into the returned {@link Flux}.","title":"How to return Flux of objects after calling a mono boolean method","body":"<p>In your first example nothing happens with <code>validate(id1,id2);</code> because no one subscribes to it. You should build your reactive chain from the start to the end.</p>\n<p>To return <code>Flux</code> after the successful validation you should use <code>flatMapMany()</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>return validate(id1,id2)\n        .filter(valid -&gt; valid)\n        .flatMapMany(__ -&gt; facilityService.getFacilityResponse(id1,id2));\n</code></pre>\n<p>From <code>flatMapMany()</code> docs:</p>\n<pre><code> * Transform the item emitted by this {@link Mono} into a Publisher, then forward  * its emissions into the returned {@link Flux}.\n</code></pre>\n"}],"owner":{"account_id":2237989,"reputation":3237,"user_id":1973779,"accept_rate":27,"display_name":"Rahul Raj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":546,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75674956,"answer_count":2,"score":0,"last_activity_date":1678290296,"creation_date":1678288121,"question_id":75674802,"body_markdown":"I have a validator method that returns a `Mono&lt;Boolean&gt;`. \r\nThe validation is happening as expected and returns bad request exception in case of invalid `id1` or `id2`. \r\n\r\n```\r\npublic static Mono&lt;Boolean&gt; validate(String id1, String id2) {\r\n   //some condition to check id1 &amp; id2.\r\n   // either return Mono.just(false)/mono.just(true)\r\n   // or return Mono.error(new BadRequestException(&quot;&quot;)); \r\n}\r\n```\r\n\r\nHowever, the control is going to the next line instead of returning from the execution. \r\nHere is the method where the validator method is referred: \r\n\r\n```\r\npublic Flux&lt;FacilitiesResponse&gt; validateAndGetFacilityResponse(String id1, String id2) {\r\n    validate(id1,id2);\r\n    return facilityService.getFacilityResponse(id1,id2);  \r\n }\r\n```\r\n\r\nThe validator method returns `Mono&lt;Boolean&gt;`, but the method returns `Flux&lt;FacilitiesResponse&gt;`. How to re-write this whole method in `reactive` way such that it returns `Flux&lt; FacilitiesResponse&gt;` ? \r\n\r\nI tried something like below:\r\n```\r\nreturn validate(id1,id2)\r\n       .filter(valid -&gt; valid)\r\n       .map(valid -&gt; facilityService.getFacilityResponse(id1,id2)) \r\n```\r\n\r\nbut it gives me `Mono&lt;Flux&lt; FacilitiesResponse&gt;&gt;` instead. \r\n\r\nUnfortunately,  I cannot change the return type of `facilityService.getFacilityResponse(id1,id2)`.\r\n\r\n\r\n","title":"How to return Flux of objects after calling a mono boolean method","body":"<p>I have a validator method that returns a <code>Mono&lt;Boolean&gt;</code>.\nThe validation is happening as expected and returns bad request exception in case of invalid <code>id1</code> or <code>id2</code>.</p>\n<pre><code>public static Mono&lt;Boolean&gt; validate(String id1, String id2) {\n   //some condition to check id1 &amp; id2.\n   // either return Mono.just(false)/mono.just(true)\n   // or return Mono.error(new BadRequestException(&quot;&quot;)); \n}\n</code></pre>\n<p>However, the control is going to the next line instead of returning from the execution.\nHere is the method where the validator method is referred:</p>\n<pre><code>public Flux&lt;FacilitiesResponse&gt; validateAndGetFacilityResponse(String id1, String id2) {\n    validate(id1,id2);\n    return facilityService.getFacilityResponse(id1,id2);  \n }\n</code></pre>\n<p>The validator method returns <code>Mono&lt;Boolean&gt;</code>, but the method returns <code>Flux&lt;FacilitiesResponse&gt;</code>. How to re-write this whole method in <code>reactive</code> way such that it returns <code>Flux&lt; FacilitiesResponse&gt;</code> ?</p>\n<p>I tried something like below:</p>\n<pre><code>return validate(id1,id2)\n       .filter(valid -&gt; valid)\n       .map(valid -&gt; facilityService.getFacilityResponse(id1,id2)) \n</code></pre>\n<p>but it gives me <code>Mono&lt;Flux&lt; FacilitiesResponse&gt;&gt;</code> instead.</p>\n<p>Unfortunately,  I cannot change the return type of <code>facilityService.getFacilityResponse(id1,id2)</code>.</p>\n"},{"tags":["java","eclipse","excel","syntax","apache-poi"],"answers":[{"tags":[],"owner":{"account_id":794766,"reputation":158675,"user_id":871026,"accept_rate":76,"display_name":"Reimeus"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1391652611,"creation_date":1391638848,"answer_id":21589821,"question_id":21589784,"body_markdown":"You need to place all statements after the declarations in a code block, e.g. method rather than the class block. Logically it probably makes sense to place all statements in the code block but the non-declarative statements need to be enclosed within the new block\r\n\r\n    private void processFile() {\r\n        data.put(&quot;1&quot;, new Object[]{&quot;ID&quot;,&quot;NAME&quot;, &quot;LASTNAME&quot;}); // &lt;--Syntax error  \r\n         ...//snip\r\n      } catch (Exception e) {\r\n         e.printStackTrace();\r\n      } \r\n    }\r\n\r\n","title":"Syntax error on token(s), misplaced construct(s)","body":"<p>You need to place all statements after the declarations in a code block, e.g. method rather than the class block. Logically it probably makes sense to place all statements in the code block but the non-declarative statements need to be enclosed within the new block</p>\n\n<pre><code>private void processFile() {\n    data.put(\"1\", new Object[]{\"ID\",\"NAME\", \"LASTNAME\"}); // &lt;--Syntax error  \n     ...//snip\n  } catch (Exception e) {\n     e.printStackTrace();\n  } \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":368269,"reputation":93629,"user_id":714969,"accept_rate":86,"display_name":"Kevin Bowersox"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1391638920,"creation_date":1391638920,"answer_id":21589838,"question_id":21589784,"body_markdown":"Place all of your code within a main method:\r\n\r\n \tpublic static void main(String[] args) {\r\n            //All of your code goes here\r\n\r\n\t}\r\n\r\nStatements (this does not include declarations) must be executed inside a block.  It appears that you are conducting a test of some code and that this is not meant to be an actual object in your code, so you must place it within the main method.","title":"Syntax error on token(s), misplaced construct(s)","body":"<p>Place all of your code within a main method:</p>\n\n<pre><code>public static void main(String[] args) {\n        //All of your code goes here\n\n}\n</code></pre>\n\n<p>Statements (this does not include declarations) must be executed inside a block.  It appears that you are conducting a test of some code and that this is not meant to be an actual object in your code, so you must place it within the main method.</p>\n"},{"tags":[],"owner":{"account_id":3973269,"reputation":129,"user_id":3277243,"display_name":"user3277243"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1391734768,"creation_date":1391734768,"answer_id":21617379,"question_id":21589784,"body_markdown":"Issue resolved. I created a new project in Eclipse, added the POI (jar) to the libraries and the syntax error is no longer displayed.","title":"Syntax error on token(s), misplaced construct(s)","body":"<p>Issue resolved. I created a new project in Eclipse, added the POI (jar) to the libraries and the syntax error is no longer displayed.</p>\n"},{"tags":[],"owner":{"account_id":7363021,"reputation":1618,"user_id":5605687,"accept_rate":100,"display_name":"Onic Team"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1524215997,"creation_date":1524215997,"answer_id":49938253,"question_id":21589784,"body_markdown":"**Paste try and catch block inside any method**. Above question your try block only inside the class that&#39;s why your getting **Syntax Error message** or Learn deeply about try \r\n\r\n \r\n\r\n    public void yourMethod(){    \r\n            try \r\n             {\r\n               //Write the workbook in file system\r\n               FileOutputStream out = new FileOutputStream(new File(&quot;C:\\\\Documents and Settings\\\\admin\\\\Desktop\\\\imp data\\\\howtodoinjava_demo.xlsx&quot;));\r\n                        workbook.write(out);\r\n                        out.close();\r\n                        System.out.println(&quot;howtodoinjava_demo.xlsx written successfully on disk.&quot;);\r\n                    } \r\n                    catch (Exception e)\r\n                    {\r\n                        e.printStackTrace();\r\n                }\r\n            }","title":"Syntax error on token(s), misplaced construct(s)","body":"<p><strong>Paste try and catch block inside any method</strong>. Above question your try block only inside the class that's why your getting <strong>Syntax Error message</strong> or Learn deeply about try </p>\n\n<pre><code>public void yourMethod(){    \n        try \n         {\n           //Write the workbook in file system\n           FileOutputStream out = new FileOutputStream(new File(\"C:\\\\Documents and Settings\\\\admin\\\\Desktop\\\\imp data\\\\howtodoinjava_demo.xlsx\"));\n                    workbook.write(out);\n                    out.close();\n                    System.out.println(\"howtodoinjava_demo.xlsx written successfully on disk.\");\n                } \n                catch (Exception e)\n                {\n                    e.printStackTrace();\n            }\n        }\n</code></pre>\n"}],"owner":{"account_id":3973269,"reputation":129,"user_id":3277243,"display_name":"user3277243"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":109549,"favorite_count":0,"down_vote_count":1,"up_vote_count":10,"answer_count":4,"score":9,"last_activity_date":1678290190,"creation_date":1391638731,"question_id":21589784,"body_markdown":"How to fix this error ---&gt; Syntax error on token(s), misplaced construct(s) \r\nThe error is at the line below indicated.\r\nNote: This code was copied on the web and trying to get it to work as a learning tool \r\nI&#39;m using Eclipse\r\nThanks!\r\n\r\n\r\n    import java.io.File;\r\n    import java.io.FileOutputStream;\r\n    import java.util.Map;\r\n    import java.util.Set;\r\n    import java.util.TreeMap;\r\n    \r\n    import org.apache.poi.ss.usermodel.Cell;\r\n    import org.apache.poi.ss.usermodel.Row;\r\n    import org.apache.poi.xssf.usermodel.XSSFSheet;\r\n    import org.apache.poi.xssf.usermodel.XSSFWorkbook;\r\n    \r\n    public class EcellTest22 {\r\n    \t //Blank workbook\r\n        XSSFWorkbook workbook = new XSSFWorkbook();\r\n    \r\n        //Create a blank sheet\r\n        XSSFSheet sheet = workbook.createSheet(&quot;Employee Data&quot;);\r\n    \r\n        //This data needs to be written (Object[])\r\n        Map&lt;String, Object[]&gt; data = new TreeMap&lt;String, Object[]&gt;();\r\n         //\r\n        data.put(&quot;1&quot;, new Object[]{&quot;ID&quot;,&quot;NAME&quot;, &quot;LASTNAME&quot;}); &lt;--Syntax error on token(s), misplaced construct(s) \r\n    \r\n    \r\n        data.put(&quot;2&quot;, new Object[]{1, &quot;Amit&quot;, &quot;Shukla&quot;});\r\n        data.put(&quot;3&quot;, new Object[]{2, &quot;Lokesh&quot;, &quot;Gupta&quot;});\r\n        data.put(&quot;4&quot;, new Object[]{3, &quot;John&quot;, &quot;Adwards&quot;});\r\n        data.put(&quot;5&quot;, new Object[]{4, &quot;Brian&quot;, &quot;Schultz&quot;});\r\n    \r\n        //Iterate over data and write to sheet\r\n        Set&lt;String&gt; keyset = data.keySet();\r\n    \r\n        int rownum = 0;\r\n        for (String key : keyset) \r\n        {\r\n            //create a row of excelsheet\r\n            Row row = sheet.createRow(rownum++);\r\n    \r\n            //get object array of prerticuler key\r\n            Object[] objArr = data.get(key);\r\n    \r\n            int cellnum = 0;\r\n    \r\n            for (Object obj : objArr) \r\n            {\r\n                Cell cell = row.createCell(cellnum++);\r\n                if (obj instanceof String) \r\n                {\r\n                    cell.setCellValue((String) obj);\r\n                }\r\n                else if (obj instanceof Integer) \r\n                {\r\n                    cell.setCellValue((Integer) obj);\r\n                }\r\n            }\r\n        }\r\n        try \r\n        {\r\n            //Write the workbook in file system\r\n            FileOutputStream out = new FileOutputStream(new File(&quot;C:\\\\Documents and Settings\\\\admin\\\\Desktop\\\\imp data\\\\howtodoinjava_demo.xlsx&quot;));\r\n            workbook.write(out);\r\n            out.close();\r\n            System.out.println(&quot;howtodoinjava_demo.xlsx written successfully on disk.&quot;);\r\n        } \r\n        catch (Exception e)\r\n        {\r\n            e.printStackTrace();\r\n        }\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"Syntax error on token(s), misplaced construct(s)","body":"<p>How to fix this error ---> Syntax error on token(s), misplaced construct(s) \nThe error is at the line below indicated.\nNote: This code was copied on the web and trying to get it to work as a learning tool \nI'm using Eclipse\nThanks!</p>\n\n<pre><code>import java.io.File;\nimport java.io.FileOutputStream;\nimport java.util.Map;\nimport java.util.Set;\nimport java.util.TreeMap;\n\nimport org.apache.poi.ss.usermodel.Cell;\nimport org.apache.poi.ss.usermodel.Row;\nimport org.apache.poi.xssf.usermodel.XSSFSheet;\nimport org.apache.poi.xssf.usermodel.XSSFWorkbook;\n\npublic class EcellTest22 {\n     //Blank workbook\n    XSSFWorkbook workbook = new XSSFWorkbook();\n\n    //Create a blank sheet\n    XSSFSheet sheet = workbook.createSheet(\"Employee Data\");\n\n    //This data needs to be written (Object[])\n    Map&lt;String, Object[]&gt; data = new TreeMap&lt;String, Object[]&gt;();\n     //\n    data.put(\"1\", new Object[]{\"ID\",\"NAME\", \"LASTNAME\"}); &lt;--Syntax error on token(s), misplaced construct(s) \n\n\n    data.put(\"2\", new Object[]{1, \"Amit\", \"Shukla\"});\n    data.put(\"3\", new Object[]{2, \"Lokesh\", \"Gupta\"});\n    data.put(\"4\", new Object[]{3, \"John\", \"Adwards\"});\n    data.put(\"5\", new Object[]{4, \"Brian\", \"Schultz\"});\n\n    //Iterate over data and write to sheet\n    Set&lt;String&gt; keyset = data.keySet();\n\n    int rownum = 0;\n    for (String key : keyset) \n    {\n        //create a row of excelsheet\n        Row row = sheet.createRow(rownum++);\n\n        //get object array of prerticuler key\n        Object[] objArr = data.get(key);\n\n        int cellnum = 0;\n\n        for (Object obj : objArr) \n        {\n            Cell cell = row.createCell(cellnum++);\n            if (obj instanceof String) \n            {\n                cell.setCellValue((String) obj);\n            }\n            else if (obj instanceof Integer) \n            {\n                cell.setCellValue((Integer) obj);\n            }\n        }\n    }\n    try \n    {\n        //Write the workbook in file system\n        FileOutputStream out = new FileOutputStream(new File(\"C:\\\\Documents and Settings\\\\admin\\\\Desktop\\\\imp data\\\\howtodoinjava_demo.xlsx\"));\n        workbook.write(out);\n        out.close();\n        System.out.println(\"howtodoinjava_demo.xlsx written successfully on disk.\");\n    } \n    catch (Exception e)\n    {\n        e.printStackTrace();\n    }\n\n    }\n\n}\n</code></pre>\n"},{"tags":["java","couchbase"],"answers":[{"tags":[],"owner":{"account_id":17736,"reputation":25458,"user_id":40015,"accept_rate":84,"display_name":"Matthew Groves"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1678289910,"creation_date":1678289910,"answer_id":75675118,"question_id":75672712,"body_markdown":"You can&#39;t set a TTL on a scope ([see documentation here][1]): &quot;TTL can be established on collections: it cannot be established on scopes.&quot;\r\n\r\nAs for TTL on a collection, expiration will NOT delete the collection. Setting a TTL on a collection specifies the TTL for *all documents* in the collection.\r\n\r\nYou can also set TTL on individual documents (using the KV API).\r\n\r\n\r\n  [1]: https://docs.couchbase.com/server/current/learn/data/expiration.html","title":"Using scope with TTL in Couchbase","body":"<p>You can't set a TTL on a scope (<a href=\"https://docs.couchbase.com/server/current/learn/data/expiration.html\" rel=\"nofollow noreferrer\">see documentation here</a>): &quot;TTL can be established on collections: it cannot be established on scopes.&quot;</p>\n<p>As for TTL on a collection, expiration will NOT delete the collection. Setting a TTL on a collection specifies the TTL for <em>all documents</em> in the collection.</p>\n<p>You can also set TTL on individual documents (using the KV API).</p>\n"}],"owner":{"account_id":4750084,"reputation":2919,"user_id":3840344,"accept_rate":73,"display_name":"Raghuveer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75675118,"answer_count":1,"score":1,"last_activity_date":1678289910,"creation_date":1678276495,"question_id":75672712,"body_markdown":"I have a couple of questions in couchbase 7 version :\r\n\r\n1. What will a TTL set on scope do ? I assume it will delete the data and collections within it because its not clearly described.\r\n\r\n2. What will a TTL set on collection do ? I know it will delete the collection but seems we will also have to delete the K,V first which is the data.","title":"Using scope with TTL in Couchbase","body":"<p>I have a couple of questions in couchbase 7 version :</p>\n<ol>\n<li><p>What will a TTL set on scope do ? I assume it will delete the data and collections within it because its not clearly described.</p>\n</li>\n<li><p>What will a TTL set on collection do ? I know it will delete the collection but seems we will also have to delete the K,V first which is the data.</p>\n</li>\n</ol>\n"},{"tags":["java","spring-data","matcher","query-by-example"],"answers":[{"tags":[],"owner":{"account_id":8324875,"reputation":11755,"user_id":6413377,"accept_rate":25,"display_name":"pirho"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1551334752,"creation_date":1551293007,"answer_id":54912452,"question_id":54911363,"body_markdown":"Try this:\r\n\r\n    Teacher t = new Teacher(&quot;Peter&quot;);\r\n    Example&lt;Teacher&gt; te = Example.of(t,\r\n        ExampleMatcher.matching()\r\n            .withStringMatcher(StringMatcher.CONTAINING)\r\n            .withIgnoreCase());\r\n\r\nWith `ExampleMatcher.matching()` or `ExampleMatcher.matchingAll()` comparison is done against all non-null fields in your example teacher `t` so just name (assumed from &quot;Peter&quot;).\r\n\r\n**NOTE**: with primitive values you just need to add them to `withIgnorePaths(..)` or change them to boxed types like `int -&gt; Integer`, there are no other easy workarounds.\r\n\r\nIf you need to search only by `int area` set no name but are\r\n in your example `t`\r\n\r\n    t.setArea(55);\r\n\r\nor if you had `Date created`, searching by created:\r\n\r\n    t.setCreated(someDate);\r\n\r\nyou can even set them all to narrow the search by applying them all.\r\n\r\nFrom [the docs](https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/domain/ExampleMatcher.html#matching--)\r\n\r\n&gt; static ExampleMatcher matching()    \r\n&gt; ( &amp; static ExampleMatcher matchingAll() )    \r\n\r\n&gt;Create a new ExampleMatcher including all non-null properties by default matching all predicates derived from the example.","title":"How to make ExampleMatcher to match just one property?","body":"<p>Try this:</p>\n\n<pre><code>Teacher t = new Teacher(\"Peter\");\nExample&lt;Teacher&gt; te = Example.of(t,\n    ExampleMatcher.matching()\n        .withStringMatcher(StringMatcher.CONTAINING)\n        .withIgnoreCase());\n</code></pre>\n\n<p>With <code>ExampleMatcher.matching()</code> or <code>ExampleMatcher.matchingAll()</code> comparison is done against all non-null fields in your example teacher <code>t</code> so just name (assumed from \"Peter\").</p>\n\n<p><strong>NOTE</strong>: with primitive values you just need to add them to <code>withIgnorePaths(..)</code> or change them to boxed types like <code>int -&gt; Integer</code>, there are no other easy workarounds.</p>\n\n<p>If you need to search only by <code>int area</code> set no name but are\n in your example <code>t</code></p>\n\n<pre><code>t.setArea(55);\n</code></pre>\n\n<p>or if you had <code>Date created</code>, searching by created:</p>\n\n<pre><code>t.setCreated(someDate);\n</code></pre>\n\n<p>you can even set them all to narrow the search by applying them all.</p>\n\n<p>From <a href=\"https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/domain/ExampleMatcher.html#matching--\" rel=\"noreferrer\">the docs</a></p>\n\n<blockquote>\n  <p>static ExampleMatcher matching()<br>\n  ( &amp; static ExampleMatcher matchingAll() )    </p>\n  \n  <p>Create a new ExampleMatcher including all non-null properties by default matching all predicates derived from the example.</p>\n</blockquote>\n"}],"owner":{"account_id":9240345,"reputation":145,"user_id":6863816,"display_name":"Jigu Jigu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8178,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":54912452,"answer_count":1,"score":8,"last_activity_date":1678289852,"creation_date":1551288989,"question_id":54911363,"body_markdown":"How to implement ExampleMatcher, to match just one property randomly from my class and ignore the other properties?\r\n\r\nAssume my class like this :\r\n\r\n    Public Class Teacher() {\r\n    \tString id;\r\n    \tString name;\r\n    \tString address;\r\n    \tString phone;\r\n    \tint area;\r\n    \t..other properties is here...\r\n    }\r\n\r\nIf I want to match by the name:\r\n\r\n    Teacher TeacherExample = new Teacher(&quot;Peter&quot;);\r\n    \r\n    ExampleMatcher matcher = ExampleMatcher.matchingAny()\r\n    .withStringMatcher(ExampleMatcher.StringMatcher.CONTAINING)\r\n    .withIgnoreCase()\r\n    .withIgnorePaths(&quot;id&quot;, &quot;address&quot;, &quot;phone&quot;,&quot;area&quot;,...);   //no name \r\n\r\nand if I want to match by the address:\r\n\r\n    ExampleMatcher matcher = ExampleMatcher.matchingAny()\r\n    .withStringMatcher(ExampleMatcher.StringMatcher.CONTAINING)\r\n    .withIgnoreCase()\r\n    .withIgnorePaths(&quot;id&quot;, &quot;name&quot;, &quot;phone&quot;,&quot;area&quot;,...); //no address\r\n\r\nso I need to repeat the `withIgnorePaths(..)` How to avoid that?\r\n\r\n\r\n","title":"How to make ExampleMatcher to match just one property?","body":"<p>How to implement ExampleMatcher, to match just one property randomly from my class and ignore the other properties?</p>\n<p>Assume my class like this :</p>\n<pre><code>Public Class Teacher() {\n    String id;\n    String name;\n    String address;\n    String phone;\n    int area;\n    ..other properties is here...\n}\n</code></pre>\n<p>If I want to match by the name:</p>\n<pre><code>Teacher TeacherExample = new Teacher(&quot;Peter&quot;);\n\nExampleMatcher matcher = ExampleMatcher.matchingAny()\n.withStringMatcher(ExampleMatcher.StringMatcher.CONTAINING)\n.withIgnoreCase()\n.withIgnorePaths(&quot;id&quot;, &quot;address&quot;, &quot;phone&quot;,&quot;area&quot;,...);   //no name \n</code></pre>\n<p>and if I want to match by the address:</p>\n<pre><code>ExampleMatcher matcher = ExampleMatcher.matchingAny()\n.withStringMatcher(ExampleMatcher.StringMatcher.CONTAINING)\n.withIgnoreCase()\n.withIgnorePaths(&quot;id&quot;, &quot;name&quot;, &quot;phone&quot;,&quot;area&quot;,...); //no address\n</code></pre>\n<p>so I need to repeat the <code>withIgnorePaths(..)</code> How to avoid that?</p>\n"},{"tags":["java","spring","hibernate","backend"],"comments":[{"owner":{"account_id":4395013,"reputation":1126,"user_id":3582362,"accept_rate":100,"display_name":"Calvin P."},"score":0,"creation_date":1678290966,"post_id":75675015,"comment_id":133504891,"body_markdown":"You should assign the value of the optional to a new object before adding the new keyword/item relationship and then call the repository&#39;s `save()` method to update the object. Depending on your cascade settings, saving one of the objects should update all related tables, otherwise you may need to save both.","body":"You should assign the value of the optional to a new object before adding the new keyword/item relationship and then call the repository&#39;s <code>save()</code> method to update the object. Depending on your cascade settings, saving one of the objects should update all related tables, otherwise you may need to save both."}],"owner":{"account_id":15543294,"reputation":23,"user_id":18222922,"display_name":"aalvisj"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678289338,"creation_date":1678289338,"question_id":75675015,"body_markdown":"I&#39;m trying to implement a webshop type app that has items with specific keywords. Since an item can have multiple keywords and a keyword can be applied to multiple items, I used the &quot;@ManyToMany&quot; annotation.\r\n\r\nThis looks like this in the &quot;Item&quot; class:\r\n\r\n```\r\n@ManyToMany()\r\n@JoinTable(\r\n\tname = &quot;item_keywords&quot;,\r\n\tjoinColumns = @JoinColumn(name = &quot;item_id&quot;),\r\n\tinverseJoinColumns = @JoinColumn(name = &quot;keyword_id&quot;))\r\nprivate List&lt;Keyword&gt; keywords = new ArrayList&lt;&gt;();\r\n```\r\n\r\nAnd like this in the &quot;Keyword&quot; class:\r\n\r\n```\r\n@ManyToMany(mappedBy = &quot;keywords&quot;)\r\nprivate List&lt;Item&gt; items = new ArrayList&lt;&gt;();\r\n```\r\n\r\nMy problem is then creating a function that makes it possible to link an existing Item to an existing Keyword. \r\n\r\nI used a function that takes the item&#39;s ID as well as a keyword as input, and tries to achieve this by running the following code snippet:\r\n\r\n```\r\nOptional&lt;Item&gt; optionalItem = itemRepository.findById(itemId);\r\nOptional&lt;Keyword&gt; keywordInTable = keywordRepository.findByName(keyword);\r\n\r\n\r\nif (keywordInTable.isPresent()) {\r\n    optionalItem.get().addKeyword(keywordInTable.get());\r\n    keywordInTable.get().addItem(optionalItem.get());\r\n    return true;\r\n    }\r\n```\r\n\r\nThe addKeyword and addItem functions simply append a Keyword Item to the lists defined above. Running this code snippet does return &quot;true&quot;. I expected the &quot;item_keywords&quot; database to obtain a new entry with the item and keyword id after execution. However, nothing changes in the &quot;item_keywords&quot; database after execution.\r\n\r\nAlso, the item and keyword repositories extend org.springframework.data.jpa.repository.JpaRepository, if that is useful information.\r\n\r\nCould anyone perhaps explain me why this might be the case and provide me some directions for how to change it? I would be very grateful.","title":"Java &amp; Spring Boot: Adding a new &quot;link&quot; in a ManyToMany relationship?","body":"<p>I'm trying to implement a webshop type app that has items with specific keywords. Since an item can have multiple keywords and a keyword can be applied to multiple items, I used the &quot;@ManyToMany&quot; annotation.</p>\n<p>This looks like this in the &quot;Item&quot; class:</p>\n<pre><code>@ManyToMany()\n@JoinTable(\n    name = &quot;item_keywords&quot;,\n    joinColumns = @JoinColumn(name = &quot;item_id&quot;),\n    inverseJoinColumns = @JoinColumn(name = &quot;keyword_id&quot;))\nprivate List&lt;Keyword&gt; keywords = new ArrayList&lt;&gt;();\n</code></pre>\n<p>And like this in the &quot;Keyword&quot; class:</p>\n<pre><code>@ManyToMany(mappedBy = &quot;keywords&quot;)\nprivate List&lt;Item&gt; items = new ArrayList&lt;&gt;();\n</code></pre>\n<p>My problem is then creating a function that makes it possible to link an existing Item to an existing Keyword.</p>\n<p>I used a function that takes the item's ID as well as a keyword as input, and tries to achieve this by running the following code snippet:</p>\n<pre><code>Optional&lt;Item&gt; optionalItem = itemRepository.findById(itemId);\nOptional&lt;Keyword&gt; keywordInTable = keywordRepository.findByName(keyword);\n\n\nif (keywordInTable.isPresent()) {\n    optionalItem.get().addKeyword(keywordInTable.get());\n    keywordInTable.get().addItem(optionalItem.get());\n    return true;\n    }\n</code></pre>\n<p>The addKeyword and addItem functions simply append a Keyword Item to the lists defined above. Running this code snippet does return &quot;true&quot;. I expected the &quot;item_keywords&quot; database to obtain a new entry with the item and keyword id after execution. However, nothing changes in the &quot;item_keywords&quot; database after execution.</p>\n<p>Also, the item and keyword repositories extend org.springframework.data.jpa.repository.JpaRepository, if that is useful information.</p>\n<p>Could anyone perhaps explain me why this might be the case and provide me some directions for how to change it? I would be very grateful.</p>\n"},{"tags":["java","maven","gradle","querydsl"],"answers":[{"tags":[],"owner":{"account_id":288740,"reputation":36420,"user_id":589329,"accept_rate":40,"display_name":"Vampire"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678289162,"creation_date":1678289162,"answer_id":75674987,"question_id":75625807,"body_markdown":"Because Maven throws together things that should not be thrown together which Gradle properly separates.\r\nThe class using the services you define is run as part of annotation processing.\r\nSo your services are not needed as `implementation` dependencies, but as `annotationProcessor` dependencies.\r\n\r\nReplace\r\n```groovy\r\nimplementation project(&#39;:querydsl-ext-apt&#39;)\r\n```\r\nby\r\n```groovy\r\nannotationProcessor project(&#39;:querydsl-ext-apt&#39;)\r\n```\r\nand your services are found where necessary.","title":"Service loader not can&#39;t find providers when using gradle but works with maven","body":"<p>Because Maven throws together things that should not be thrown together which Gradle properly separates.\nThe class using the services you define is run as part of annotation processing.\nSo your services are not needed as <code>implementation</code> dependencies, but as <code>annotationProcessor</code> dependencies.</p>\n<p>Replace</p>\n<pre><code>implementation project(':querydsl-ext-apt')\n</code></pre>\n<p>by</p>\n<pre><code>annotationProcessor project(':querydsl-ext-apt')\n</code></pre>\n<p>and your services are found where necessary.</p>\n"}],"owner":{"account_id":429938,"reputation":1918,"user_id":813102,"accept_rate":74,"display_name":"big"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75674987,"answer_count":1,"score":0,"last_activity_date":1678289162,"creation_date":1677838791,"question_id":75625807,"body_markdown":"I have created a repository here https://github.com/bigbang4u2/query-dsl-hibernate-types (This has been copied from [here][1]). \r\n\r\nRepository created by me [here][2] contains both gradle and maven. When using maven all providers are loaded correctly in service loader (see querydsl-ext-apt where providers are present and also listed in META-INF/services). For some reason don&#39;t know why maven is able to generate all querydsl QClass with extensions listed in META-INF but when I use gradle all these are ignored and just generate QClasses which are native to querydsl\r\n\r\nI need to to work with gradle as that&#39;s what I am using in my project\r\n\r\nKindly help\r\n\r\n\r\n  [1]: https://github.com/jwgmeligmeyling/hibernate-types-querydsl-apt\r\n  [2]: https://github.com/bigbang4u2/query-dsl-hibernate-types","title":"Service loader not can&#39;t find providers when using gradle but works with maven","body":"<p>I have created a repository here <a href=\"https://github.com/bigbang4u2/query-dsl-hibernate-types\" rel=\"nofollow noreferrer\">https://github.com/bigbang4u2/query-dsl-hibernate-types</a> (This has been copied from <a href=\"https://github.com/jwgmeligmeyling/hibernate-types-querydsl-apt\" rel=\"nofollow noreferrer\">here</a>).</p>\n<p>Repository created by me <a href=\"https://github.com/bigbang4u2/query-dsl-hibernate-types\" rel=\"nofollow noreferrer\">here</a> contains both gradle and maven. When using maven all providers are loaded correctly in service loader (see querydsl-ext-apt where providers are present and also listed in META-INF/services). For some reason don't know why maven is able to generate all querydsl QClass with extensions listed in META-INF but when I use gradle all these are ignored and just generate QClasses which are native to querydsl</p>\n<p>I need to to work with gradle as that's what I am using in my project</p>\n<p>Kindly help</p>\n"},{"tags":["java","kotlin","http2","bidi"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1678281750,"post_id":75672933,"comment_id":133501789,"body_markdown":"This sounds like it might be a good use case for gRPC.","body":"This sounds like it might be a good use case for gRPC."},{"owner":{"account_id":2346611,"reputation":1008,"user_id":2056697,"accept_rate":94,"display_name":"Thomas"},"score":0,"creation_date":1678282200,"post_id":75672933,"comment_id":133501926,"body_markdown":"You should take a look to Server Sent Event https://developer.mozilla.org/en-US/docs/Web/API/Server-sent_events/Using_server-sent_events. Using  base64-encoding you will be able to send multiple file on the same connection.","body":"You should take a look to Server Sent Event <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Server-sent_events/Using_server-sent_events\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/API/Server-sent_events/&zwnj;&#8203;&hellip;</a>. Using  base64-encoding you will be able to send multiple file on the same connection."},{"owner":{"account_id":20817839,"reputation":396,"user_id":15290244,"display_name":"Simao Gomes Viana"},"score":0,"creation_date":1678282239,"post_id":75672933,"comment_id":133501941,"body_markdown":"@LouisWasserman Does gRPC support streaming, let&#39;s say, 1 GB of data without keeping all of it in memory until it has been processed further?","body":"@LouisWasserman Does gRPC support streaming, let&#39;s say, 1 GB of data without keeping all of it in memory until it has been processed further?"},{"owner":{"account_id":20817839,"reputation":396,"user_id":15290244,"display_name":"Simao Gomes Viana"},"score":0,"creation_date":1678282376,"post_id":75672933,"comment_id":133501975,"body_markdown":"@Thomas Server Sent Events, as the name suggests, is for sending data from server to client but this does not seem to support having the client send data repeatedly. The server only responds to data sent by the client but it does not send events on its own without client interaction.","body":"@Thomas Server Sent Events, as the name suggests, is for sending data from server to client but this does not seem to support having the client send data repeatedly. The server only responds to data sent by the client but it does not send events on its own without client interaction."},{"owner":{"account_id":2346611,"reputation":1008,"user_id":2056697,"accept_rate":94,"display_name":"Thomas"},"score":0,"creation_date":1678283132,"post_id":75672933,"comment_id":133502210,"body_markdown":"@SimaoGomesViana I mean, one way SSE throw a single canal and other way use classic http with a reference of the request.","body":"@SimaoGomesViana I mean, one way SSE throw a single canal and other way use classic http with a reference of the request."},{"owner":{"account_id":20817839,"reputation":396,"user_id":15290244,"display_name":"Simao Gomes Viana"},"score":0,"creation_date":1678284466,"post_id":75672933,"comment_id":133502662,"body_markdown":"@Thomas Sorry, I don&#39;t understand your suggestion. Could you elaborate?","body":"@Thomas Sorry, I don&#39;t understand your suggestion. Could you elaborate?"},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1678285612,"post_id":75672933,"comment_id":133503064,"body_markdown":"Sure.  Just use a bidirectional streaming RPC with modest individual chunks of data.","body":"Sure.  Just use a bidirectional streaming RPC with modest individual chunks of data."},{"owner":{"account_id":20817839,"reputation":396,"user_id":15290244,"display_name":"Simao Gomes Viana"},"score":0,"creation_date":1678288046,"post_id":75672933,"comment_id":133503819,"body_markdown":"@LouisWasserman Okay, thank you, I&#39;ll try to look into that later. For now, is there a way to do that using HTTP/2 only?","body":"@LouisWasserman Okay, thank you, I&#39;ll try to look into that later. For now, is there a way to do that using HTTP/2 only?"}],"answers":[{"tags":[],"owner":{"account_id":1255537,"reputation":17217,"user_id":1215076,"display_name":"sbordet"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678288973,"creation_date":1678288973,"answer_id":75674952,"question_id":75672933,"body_markdown":"[Disclaimer, I work on the Jetty Project.]\r\n\r\nThis is possible with Jetty&#39;s `HttpClient`, exactly like you want:\r\n\r\n```java\r\nHTTP2Client http2Client = new HTTP2Client();\r\nHttpClient client = new HttpClient(new HttpClientTransportOverHTTP2(http2Client));\r\nclient.start();\r\n\r\nOutputStreamRequestContent content = new OutputStreamRequestContent();\r\nInputStreamResponseListener listener = new InputStreamResponseListener();\r\n\r\nclient.newRequest(&quot;http://localhost:8080/path&quot;)\r\n    .method(HttpMethod.POST)\r\n    .body(content)\r\n    .send(listener);\r\n\r\n// Optionally, get the response (with headers) \r\n// from the server and verify it is a 200.\r\nResponse response = listener.get(5, TimeUnit.SECONDS);\r\nassertEquals(HttpStatus.OK_200, response.getStatus());\r\n\r\nInputStream input = listener.getInputStream();\r\nOutputStream output = content.getOutputStream();\r\n\r\n// Write some content and expect the response\r\n// (assuming it is echoed back in this example).\r\noutput.write(&#39;a&#39;);\r\nint read = input.read();\r\nassertEquals(&#39;a&#39;, read);\r\n\r\noutput.write(&#39;b&#39;);\r\nread = input.read();\r\nassertEquals(&#39;b&#39;, read);\r\n\r\n// Terminate.\r\noutput.close();\r\nread = input.read();\r\nassertEquals(-1, read);\r\n\r\nclient.stop();\r\n```","title":"How to implement bidirectional HTTP/2 communication in Java/Kotlin","body":"<p>[Disclaimer, I work on the Jetty Project.]</p>\n<p>This is possible with Jetty's <code>HttpClient</code>, exactly like you want:</p>\n<pre class=\"lang-java prettyprint-override\"><code>HTTP2Client http2Client = new HTTP2Client();\nHttpClient client = new HttpClient(new HttpClientTransportOverHTTP2(http2Client));\nclient.start();\n\nOutputStreamRequestContent content = new OutputStreamRequestContent();\nInputStreamResponseListener listener = new InputStreamResponseListener();\n\nclient.newRequest(&quot;http://localhost:8080/path&quot;)\n    .method(HttpMethod.POST)\n    .body(content)\n    .send(listener);\n\n// Optionally, get the response (with headers) \n// from the server and verify it is a 200.\nResponse response = listener.get(5, TimeUnit.SECONDS);\nassertEquals(HttpStatus.OK_200, response.getStatus());\n\nInputStream input = listener.getInputStream();\nOutputStream output = content.getOutputStream();\n\n// Write some content and expect the response\n// (assuming it is echoed back in this example).\noutput.write('a');\nint read = input.read();\nassertEquals('a', read);\n\noutput.write('b');\nread = input.read();\nassertEquals('b', read);\n\n// Terminate.\noutput.close();\nread = input.read();\nassertEquals(-1, read);\n\nclient.stop();\n</code></pre>\n"}],"owner":{"account_id":20817839,"reputation":396,"user_id":15290244,"display_name":"Simao Gomes Viana"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":246,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678288973,"creation_date":1678277831,"question_id":75672933,"body_markdown":"I have a PHP script which accepts a long-running HTTP/2 connection and processes pieces of data as they are streamed from the client. The amount of data streamed from client to server until the connection is closed is expected to be in realm of 5 GB.\r\n\r\nAfter each piece of data, the server responds with a JSON, containing the related information.\r\n\r\nThe requirements are as follows:\r\n- The PHP script cannot be a standalone application (i .e. a separate PHP server with WebSocket support is not an option hence the HTTP/2 attempt)\r\n- This must happen on a single connection and can&#39;t be split up into multiple requests (for reasons I am not going to disclose now)\r\n- The data being streamed is binary.\r\n\r\nI have tried using Ktor, OkHttp and the Java 11 HTTP Client but the problem I get is that the response body can&#39;t be used until the request has finished. The important aspect here is that it is  bidirectional and interleaved. The RFC for HTTP/2 says that this behavior is supported.\r\n\r\nThe idea is that some thread writes data into an OutputStream, which is fed into the HTTP client using a pipe. Same thread uses the InputStream from the connection to receive the response. From what I understood, the second part never happens because the HTTP client is waiting for the OutputStream to be closed.\r\n\r\n\r\nHere is my current attempt at OkHttp:\r\n\r\n```kotlin\r\nval request = Request.Builder()\r\n    .url(&quot;/media&quot;.customApiUrl)\r\n    .post(object : RequestBody() {\r\n        override fun contentType(): MediaType = &quot;application/octet-stream&quot;.toMediaType()\r\n\r\n        override fun writeTo(sink: BufferedSink) {\r\n            sink.writeAll(pipeIn.source())\r\n        }\r\n    })\r\n    .build()\r\nOkHttpClient().newBuilder()\r\n    .protocols(listOf(Protocol.H2_PRIOR_KNOWLEDGE))\r\n    .build()\r\n    .newCall(request).enqueue(object : Callback {\r\n        override fun onFailure(call: Call, e: IOException) {\r\n            TODO(&quot;Not yet implemented&quot;)\r\n        }\r\n\r\n        override fun onResponse(call: Call, response: Response) {\r\n            // this is never called\r\n            logger.debug(&quot;Media session executing&quot;)\r\n        }\r\n\r\n    })\r\n```\r\n\r\nThis was my attempt at Ktor:\r\n\r\n```kotlin\r\n        logger.debug(&quot;Making HTTP call&quot;)\r\n        httpClient.preparePut(&quot;/media&quot;.customApiUrl) {\r\n            contentType(ContentType(&quot;application&quot;, &quot;octet-stream&quot;))\r\n            setBody(pipeIn)\r\n            logger.debug(&quot;Media session ready to execute&quot;)\r\n        }.execute {\r\n            // This is never called (checked using breakpoint)\r\n            logger.debug(&quot;Media session executing&quot;)\r\n        }\r\n        // this is also never called but that&#39;s fine\r\n        logger.info(&quot;Media session closed&quot;)\r\n```\r\n\r\nThis is how the streams are created:\r\n\r\n```kotlin\r\n        val pipeOut = PipedOutputStream()\r\n        val pipeIn = PipedInputStream().also { it.connect(pipeOut) }\r\n```\r\n\r\nHow `pipeOut` is used and where it is stored has been omitted for brevity as it is irrelevant. The debug log statement should be called, even if no byte has been transmitted yet in either direction so that the InputStream from the response can be used.\r\n\r\nI would accept any Java or Kotlin response that runs on the JVM and supports HTTP/2. The InputStream and OutputStream of the connection should be readable and writable, respectively, at any time, even if not all of the bytes have been transmitted to the server yet.\r\n\r\n**Edit:** I am also debugging the PHP script at the moment. A suggestion for a solution of above mentioned scenario or correction of my code would be appreciated.","title":"How to implement bidirectional HTTP/2 communication in Java/Kotlin","body":"<p>I have a PHP script which accepts a long-running HTTP/2 connection and processes pieces of data as they are streamed from the client. The amount of data streamed from client to server until the connection is closed is expected to be in realm of 5 GB.</p>\n<p>After each piece of data, the server responds with a JSON, containing the related information.</p>\n<p>The requirements are as follows:</p>\n<ul>\n<li>The PHP script cannot be a standalone application (i .e. a separate PHP server with WebSocket support is not an option hence the HTTP/2 attempt)</li>\n<li>This must happen on a single connection and can't be split up into multiple requests (for reasons I am not going to disclose now)</li>\n<li>The data being streamed is binary.</li>\n</ul>\n<p>I have tried using Ktor, OkHttp and the Java 11 HTTP Client but the problem I get is that the response body can't be used until the request has finished. The important aspect here is that it is  bidirectional and interleaved. The RFC for HTTP/2 says that this behavior is supported.</p>\n<p>The idea is that some thread writes data into an OutputStream, which is fed into the HTTP client using a pipe. Same thread uses the InputStream from the connection to receive the response. From what I understood, the second part never happens because the HTTP client is waiting for the OutputStream to be closed.</p>\n<p>Here is my current attempt at OkHttp:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val request = Request.Builder()\n    .url(&quot;/media&quot;.customApiUrl)\n    .post(object : RequestBody() {\n        override fun contentType(): MediaType = &quot;application/octet-stream&quot;.toMediaType()\n\n        override fun writeTo(sink: BufferedSink) {\n            sink.writeAll(pipeIn.source())\n        }\n    })\n    .build()\nOkHttpClient().newBuilder()\n    .protocols(listOf(Protocol.H2_PRIOR_KNOWLEDGE))\n    .build()\n    .newCall(request).enqueue(object : Callback {\n        override fun onFailure(call: Call, e: IOException) {\n            TODO(&quot;Not yet implemented&quot;)\n        }\n\n        override fun onResponse(call: Call, response: Response) {\n            // this is never called\n            logger.debug(&quot;Media session executing&quot;)\n        }\n\n    })\n</code></pre>\n<p>This was my attempt at Ktor:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>        logger.debug(&quot;Making HTTP call&quot;)\n        httpClient.preparePut(&quot;/media&quot;.customApiUrl) {\n            contentType(ContentType(&quot;application&quot;, &quot;octet-stream&quot;))\n            setBody(pipeIn)\n            logger.debug(&quot;Media session ready to execute&quot;)\n        }.execute {\n            // This is never called (checked using breakpoint)\n            logger.debug(&quot;Media session executing&quot;)\n        }\n        // this is also never called but that's fine\n        logger.info(&quot;Media session closed&quot;)\n</code></pre>\n<p>This is how the streams are created:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>        val pipeOut = PipedOutputStream()\n        val pipeIn = PipedInputStream().also { it.connect(pipeOut) }\n</code></pre>\n<p>How <code>pipeOut</code> is used and where it is stored has been omitted for brevity as it is irrelevant. The debug log statement should be called, even if no byte has been transmitted yet in either direction so that the InputStream from the response can be used.</p>\n<p>I would accept any Java or Kotlin response that runs on the JVM and supports HTTP/2. The InputStream and OutputStream of the connection should be readable and writable, respectively, at any time, even if not all of the bytes have been transmitted to the server yet.</p>\n<p><strong>Edit:</strong> I am also debugging the PHP script at the moment. A suggestion for a solution of above mentioned scenario or correction of my code would be appreciated.</p>\n"},{"tags":["java","java-8","java-stream","atomicinteger","atomic-values"],"comments":[{"owner":{"account_id":7380656,"reputation":1500,"user_id":5617485,"display_name":"tsamridh86"},"score":0,"creation_date":1629258503,"post_id":68826181,"comment_id":121636342,"body_markdown":"all the code that you write inside a lambda function must be `functional` what that means is : any code that is executing inside the lambda function should not have an impact anywhere else. Your code has that impact on the variable `bool` this is why it&#39;s preventing it from doing the same. Please use a different logic like : `list.stream().any( c -&gt; c.getName != null )`","body":"all the code that you write inside a lambda function must be <code>functional</code> what that means is : any code that is executing inside the lambda function should not have an impact anywhere else. Your code has that impact on the variable <code>bool</code> this is why it&#39;s preventing it from doing the same. Please use a different logic like : <code>list.stream().any( c -&gt; c.getName != null )</code>"},{"owner":{"account_id":5584931,"reputation":2048,"user_id":4425643,"accept_rate":64,"display_name":"CausingUnderflowsEverywhere"},"score":0,"creation_date":1629259617,"post_id":68826181,"comment_id":121636486,"body_markdown":"Please post a [https://stackoverflow.com/help/minimal-reproducible-example](https://stackoverflow.com/help/minimal-reproducible-example) I can&#39;t reproduce your problem.","body":"Please post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">https://stackoverflow.com/help/minimal-reproducible-example</a> I can&#39;t reproduce your problem."},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1629297656,"post_id":68826181,"comment_id":121650459,"body_markdown":"The three most upvoted answers of the [duplicate link](https://stackoverflow.com/questions/34865383/variable-used-in-lambda-expression-should-be-final-or-effectively-final) should provide you with enough information.","body":"The three most upvoted answers of the <a href=\"https://stackoverflow.com/questions/34865383/variable-used-in-lambda-expression-should-be-final-or-effectively-final\">duplicate link</a> should provide you with enough information."},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1629327148,"post_id":68826181,"comment_id":121660810,"body_markdown":"The &quot;performance&quot; impact of using `AtomicBoolean` is so tiny it would be nearly impossible to measure. However, the performance impact of using a stream that iterates over every element when it doesn&#39;t need to, instead of using a simple loop that exits early when the first `getName != null` is found is quite large and easily measurable even with very modestly size lists.","body":"The &quot;performance&quot; impact of using <code>AtomicBoolean</code> is so tiny it would be nearly impossible to measure. However, the performance impact of using a stream that iterates over every element when it doesn&#39;t need to, instead of using a simple loop that exits early when the first <code>getName != null</code> is found is quite large and easily measurable even with very modestly size lists."},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1629328378,"post_id":68826181,"comment_id":121661036,"body_markdown":"The *effectively final* restriction only applies to local variables. Because you are setting an instance field, you can simply use: `boolean bool = true;` and set it from within the lambda.","body":"The <i>effectively final</i> restriction only applies to local variables. Because you are setting an instance field, you can simply use: <code>boolean bool = true;</code> and set it from within the lambda."},{"owner":{"account_id":5584931,"reputation":2048,"user_id":4425643,"accept_rate":64,"display_name":"CausingUnderflowsEverywhere"},"score":0,"creation_date":1629483762,"post_id":68826181,"comment_id":121707702,"body_markdown":"@Bohemian your comment is very informative and would be awesome as an answer. I converted my answer into community wiki and would be glad if you insert this valuable information at the start of the answer or allow me to incorporate it.","body":"@Bohemian your comment is very informative and would be awesome as an answer. I converted my answer into community wiki and would be glad if you insert this valuable information at the start of the answer or allow me to incorporate it."},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1629484160,"post_id":68826181,"comment_id":121707817,"body_markdown":"@CausingUnderflowsEverywhere use my comments as you like.","body":"@CausingUnderflowsEverywhere use my comments as you like."},{"owner":{"account_id":12586219,"reputation":107,"user_id":9155008,"display_name":"Neela"},"score":0,"creation_date":1630375294,"post_id":68826181,"comment_id":121932791,"body_markdown":"I have used a list with fixed size and it is working fine List&lt;Boolean&gt; list = new ArrayList&lt;&gt;(1);\n list.add(true);\n list.get(0);","body":"I have used a list with fixed size and it is working fine List&lt;Boolean&gt; list = new ArrayList&lt;&gt;(1);  list.add(true);  list.get(0);"}],"answers":[{"tags":[],"owner":{"account_id":1029091,"reputation":307,"user_id":1037770,"display_name":"Omeri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678288889,"creation_date":1629259018,"answer_id":68826376,"question_id":68826181,"body_markdown":"You could avoid the problem by using the lambda expression to return true or false if there are any names that are not null, and assign the result to your boolean.\r\n\r\nSomething like this:\r\n\r\n    boolean hasAnyWithNames = list.stream().anyMatch(c -&gt; c.getName() != null);\r\n\r\nThe choice `bool` is not a good one for variable name by the way.\r\n\r\nEdit:  \r\n- Replaced Boolean with base type per comment.\r\n- Used `anyMatch()` instead of `filter()` count per comment\r\nThanks\r\n","title":"Java 8 variable should be final or effectively final issue","body":"<p>You could avoid the problem by using the lambda expression to return true or false if there are any names that are not null, and assign the result to your boolean.</p>\n<p>Something like this:</p>\n<pre><code>boolean hasAnyWithNames = list.stream().anyMatch(c -&gt; c.getName() != null);\n</code></pre>\n<p>The choice <code>bool</code> is not a good one for variable name by the way.</p>\n<p>Edit:</p>\n<ul>\n<li>Replaced Boolean with base type per comment.</li>\n<li>Used <code>anyMatch()</code> instead of <code>filter()</code> count per comment\nThanks</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":5584931,"reputation":2048,"user_id":4425643,"accept_rate":64,"display_name":"CausingUnderflowsEverywhere"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1629484690,"creation_date":1629260216,"answer_id":68826482,"question_id":68826181,"body_markdown":"The effectively final restriction only applies to local variables.   \r\nSince you are setting an instance field, you can simply use: \r\n`boolean bool = true;` and set it from within the lambda. \r\n\r\nIf you need to use a local variable, add the `final` modifier to the declaration.\r\n\r\nRegarding the overhead of using `AtomicBoolean`, keep in mind that streams also have overhead and if you&#39;re only using them for iteration you&#39;re better off using a for loop instead:\r\n\r\n```\r\nboolean bool = true;\r\n\r\n    public void testBool(){\r\n        for (var c : list) {\r\n            if (c.getName() != null) {\r\n                bool = true;\r\n                break;\r\n            }\r\n        }\r\n    }\r\n```    \r\n\r\nLastly, as @Neela mentioned in a comment, a more efficient use of streams would be with the following code*:\r\n\r\n```\r\nboolean bool = list.stream().anyMatch(c -&gt; c.getName() != null);\r\n```\r\n\r\n**Note, the original code has an error that results in bool always being true and this is avoided by not presetting true and directly putting the result of anyMatch.*","title":"Java 8 variable should be final or effectively final issue","body":"<p>The effectively final restriction only applies to local variables.<br />\nSince you are setting an instance field, you can simply use:\n<code>boolean bool = true;</code> and set it from within the lambda.</p>\n<p>If you need to use a local variable, add the <code>final</code> modifier to the declaration.</p>\n<p>Regarding the overhead of using <code>AtomicBoolean</code>, keep in mind that streams also have overhead and if you're only using them for iteration you're better off using a for loop instead:</p>\n<pre><code>boolean bool = true;\n\n    public void testBool(){\n        for (var c : list) {\n            if (c.getName() != null) {\n                bool = true;\n                break;\n            }\n        }\n    }\n</code></pre>\n<p>Lastly, as @Neela mentioned in a comment, a more efficient use of streams would be with the following code*:</p>\n<pre><code>boolean bool = list.stream().anyMatch(c -&gt; c.getName() != null);\n</code></pre>\n<p>*<em>Note, the original code has an error that results in bool always being true and this is avoided by not presetting true and directly putting the result of anyMatch.</em></p>\n"}],"owner":{"account_id":12586219,"reputation":107,"user_id":9155008,"display_name":"Neela"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1295,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1629297547,"accepted_answer_id":68826376,"answer_count":2,"score":0,"last_activity_date":1678288889,"creation_date":1629257127,"question_id":68826181,"body_markdown":"I am using Java 8 stream Iteration with a variable that should be used in other classes also. So I have used the below code.\r\n\r\n    AtomicBoolean bool = new AtomicBoolean(true);\r\n    public void testBool(){\r\n    list.stream().forEach(c-&gt;{ \r\n          if( c.getName() != null){\r\n    \tbool.set(true);\r\n    \t}\r\n    });\r\n    \r\n    }\r\n    \r\n    public void test(){\r\n      if(bool.get()){\r\n    \tSystem.out.println(&quot;value is there&quot;);\r\n      }\r\n    }\r\n\r\nBut I heard like using the Atomic Object will be a performance hit sometimes. Is there any alternate approach to use the variables outside the forEach block with Java 8 usage? \r\nWithout this am getting the error as a variable should be a final or effectively final error.\r\n\r\nPlease help me to resolve this issue.\r\n\r\nThanks in advance.\r\n\r\n","title":"Java 8 variable should be final or effectively final issue","body":"<p>I am using Java 8 stream Iteration with a variable that should be used in other classes also. So I have used the below code.</p>\n<pre><code>AtomicBoolean bool = new AtomicBoolean(true);\npublic void testBool(){\nlist.stream().forEach(c-&gt;{ \n      if( c.getName() != null){\n    bool.set(true);\n    }\n});\n\n}\n\npublic void test(){\n  if(bool.get()){\n    System.out.println(&quot;value is there&quot;);\n  }\n}\n</code></pre>\n<p>But I heard like using the Atomic Object will be a performance hit sometimes. Is there any alternate approach to use the variables outside the forEach block with Java 8 usage?\nWithout this am getting the error as a variable should be a final or effectively final error.</p>\n<p>Please help me to resolve this issue.</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","regex","parsing","active-directory","ldap"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1504312753,"post_id":31309673,"comment_id":78979791,"body_markdown":"Does this really need doing fi you supply the arguments via the `{0}` mechanism?","body":"Does this really need doing fi you supply the arguments via the <code>{0}</code> mechanism?"}],"answers":[{"tags":[],"owner":{"account_id":1633932,"reputation":2930,"user_id":1507941,"accept_rate":83,"display_name":"Pluto"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1515115920,"creation_date":1484853202,"answer_id":41749853,"question_id":31309673,"body_markdown":"For escaping LDAP filters, I relied on this page to write the code below: http://social.technet.microsoft.com/wiki/contents/articles/5392.active-directory-ldap-syntax-filters.aspx#Special_Characters\r\n\r\n    String LdapEscape(String ldap)\r\n    {\r\n        if(ldap == null) return &quot;&quot;;\r\n        return ldap.replace(&quot;\\\\&quot;, &quot;\\\\5C&quot;).replace(&quot;*&quot;, &quot;\\\\2A&quot;).replace(&quot;(&quot;, &quot;\\\\28&quot;).replace(&quot;)&quot;, &quot;\\\\29&quot;).replace(&quot;\\000&quot;, &quot;\\\\00&quot;);\r\n    }\r\n\r\nThe most important thing to keep in mind here is that replacing `\\` with `\\5C` must happen first so that you don&#39;t double escape any characters. Otherwise it&#39;s very straightforward; there aren&#39;t any special tricks to watch out for.\r\n\r\nI&#39;d like to point out that this is meant to escape individual values placed in LDAP filters, not the entire LDAP filter. However if you wanted, you could use that function to escape something like this so it can be searched for:\r\n\r\n    LdapEscape(&quot;(!(sn=m*))&quot;); // \\28!\\28sn=m\\2A\\29\r\n\r\n","title":"Parse ldap filter to escape special characters","body":"<p>For escaping LDAP filters, I relied on this page to write the code below: <a href=\"http://social.technet.microsoft.com/wiki/contents/articles/5392.active-directory-ldap-syntax-filters.aspx#Special_Characters\" rel=\"noreferrer\">http://social.technet.microsoft.com/wiki/contents/articles/5392.active-directory-ldap-syntax-filters.aspx#Special_Characters</a></p>\n\n<pre><code>String LdapEscape(String ldap)\n{\n    if(ldap == null) return \"\";\n    return ldap.replace(\"\\\\\", \"\\\\5C\").replace(\"*\", \"\\\\2A\").replace(\"(\", \"\\\\28\").replace(\")\", \"\\\\29\").replace(\"\\000\", \"\\\\00\");\n}\n</code></pre>\n\n<p>The most important thing to keep in mind here is that replacing <code>\\</code> with <code>\\5C</code> must happen first so that you don't double escape any characters. Otherwise it's very straightforward; there aren't any special tricks to watch out for.</p>\n\n<p>I'd like to point out that this is meant to escape individual values placed in LDAP filters, not the entire LDAP filter. However if you wanted, you could use that function to escape something like this so it can be searched for:</p>\n\n<pre><code>LdapEscape(\"(!(sn=m*))\"); // \\28!\\28sn=m\\2A\\29\n</code></pre>\n"},{"tags":[],"owner":{"account_id":904582,"reputation":521,"user_id":939742,"display_name":"Chris Janicki"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1678288551,"creation_date":1504305600,"answer_id":46008789,"question_id":31309673,"body_markdown":"The answer by Pluto is great and concise, but non-ASCII UTF-8 characters (e.g. &#233;, &#225;, &#246;, etc.) need special handling too.  Here&#39;s my verbose solution.  \r\n\r\n    /** \r\n\t * Filter components need to escape special chars.\r\n\t * Note that each piece of the filter needs to be escaped, \r\n\t * not the whole filter expression, for example:\r\n\t * \r\n\t * &quot;(&amp;(cn=&quot;+ esc(&quot;Admins&quot;) +&quot;)(member=&quot;+ esc(&quot;CN=Doe\\\\, J&#246;hn,OU=ImPeople,DC=ds,DC=augur,DC=com&quot;) +&quot;))&quot;\r\n\t * \r\n\t * @see Oracle Directory Server Enterprise Edition 11g Reference doc\r\n\t * @see http://docs.oracle.com/cd/E29127_01/doc.111170/e28969/ds-ldif-search-filters.htm#gdxoy\r\n\t * @param s A String field within the search expression\r\n\t * @return The escaped string, safe for use in the search expression.\r\n\t */\r\n\tpublic static String esc(String s)\r\n\t{\r\n\t\tif(s == null) return &quot;&quot;;\r\n\t\tStringBuilder sb = new StringBuilder(s.length());\r\n\t\tfor (byte c : s.getBytes(StandardCharsets.UTF_8))\r\n\t\t{\r\n\t\t\tif (c==&#39;\\\\&#39;) { sb.append(&quot;\\\\5c&quot;); }\r\n\t\t\telse if (c==&#39;*&#39;) { sb.append(&quot;\\\\2a&quot;); }\r\n\t\t\telse if (c==&#39;(&#39;) { sb.append(&quot;\\\\28&quot;); }\r\n\t\t\telse if (c==&#39;)&#39;) { sb.append(&quot;\\\\29&quot;); }\r\n\t\t\telse if (c==0) { sb.append(&quot;\\\\00&quot;); }\r\n\t\t\telse if ((c&amp;0xff)&gt;127) { sb.append(&quot;\\\\&quot;).append(to2CharHexString((c))); } // UTF-8&#39;s non-7-bit characters, e.g. &#233;, &#225;, etc...\r\n\t\t\telse { sb.append((char)c); }\r\n\t\t}\r\n\t\treturn sb.toString();\r\n\t}\r\n\t\r\n\t/** \r\n\t * @return The least significant 16 bits as a two-character hex string, \r\n\t * padded by a leading &#39;0&#39; if necessary.\r\n\t */\r\n\tpublic static String to2CharHexString(int i)\r\n\t{\r\n\t\tString s = Integer.toHexString(i &amp; 0xff);\r\n\t\tif (s.length()==1) return &quot;0&quot;+s;\r\n\t\telse return s;\r\n\t}\r\n","title":"Parse ldap filter to escape special characters","body":"<p>The answer by Pluto is great and concise, but non-ASCII UTF-8 characters (e.g. é, á, ö, etc.) need special handling too.  Here's my verbose solution.</p>\n<pre><code>/** \n * Filter components need to escape special chars.\n * Note that each piece of the filter needs to be escaped, \n * not the whole filter expression, for example:\n * \n * &quot;(&amp;(cn=&quot;+ esc(&quot;Admins&quot;) +&quot;)(member=&quot;+ esc(&quot;CN=Doe\\\\, Jöhn,OU=ImPeople,DC=ds,DC=augur,DC=com&quot;) +&quot;))&quot;\n * \n * @see Oracle Directory Server Enterprise Edition 11g Reference doc\n * @see http://docs.oracle.com/cd/E29127_01/doc.111170/e28969/ds-ldif-search-filters.htm#gdxoy\n * @param s A String field within the search expression\n * @return The escaped string, safe for use in the search expression.\n */\npublic static String esc(String s)\n{\n    if(s == null) return &quot;&quot;;\n    StringBuilder sb = new StringBuilder(s.length());\n    for (byte c : s.getBytes(StandardCharsets.UTF_8))\n    {\n        if (c=='\\\\') { sb.append(&quot;\\\\5c&quot;); }\n        else if (c=='*') { sb.append(&quot;\\\\2a&quot;); }\n        else if (c=='(') { sb.append(&quot;\\\\28&quot;); }\n        else if (c==')') { sb.append(&quot;\\\\29&quot;); }\n        else if (c==0) { sb.append(&quot;\\\\00&quot;); }\n        else if ((c&amp;0xff)&gt;127) { sb.append(&quot;\\\\&quot;).append(to2CharHexString((c))); } // UTF-8's non-7-bit characters, e.g. é, á, etc...\n        else { sb.append((char)c); }\n    }\n    return sb.toString();\n}\n\n/** \n * @return The least significant 16 bits as a two-character hex string, \n * padded by a leading '0' if necessary.\n */\npublic static String to2CharHexString(int i)\n{\n    String s = Integer.toHexString(i &amp; 0xff);\n    if (s.length()==1) return &quot;0&quot;+s;\n    else return s;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10102165,"reputation":2457,"user_id":7465947,"display_name":"horstr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1591425930,"creation_date":1591271720,"answer_id":62193991,"question_id":31309673,"body_markdown":"You can&#39;t reliably escape values in an LDAP filter provided by the caller if that filter represents the final filter to be used for the query. Consider the following filter assembled by the caller:\r\n\r\n```\r\nString value = &quot;*)(objectClass=*&quot;;\r\nString filter = &quot;(|(attr1=constvalue)(attr2=&quot; + value + &quot;))&quot;;\r\nsearch(filter);\r\n```\r\n\r\nThe resulting filter matches all objects because the code does not escape `value`:\r\n\r\n```\r\n(|(attr1=constvalue)(attr2=*)(objectClass=*))\r\n```\r\n\r\nThere is no way to escape `value` based on the final filter because the start and end position cannot be identified anymore.\r\n\r\nTo resolve this ambiguity and filter injection issue, the input values must be escaped while building the filter, not afterwards. However, this does not mean that the caller has to deal with escaping details directly - that&#39;s error-prone, so I don&#39;t recommend that.\r\n\r\nAll it takes for the EJB to handle escaping is knowing the desired filter including placeholders instead of actual values and a list of values. Java&#39;s `DirContext` already provides a mechanism you can take advantage of. `DirContext.search` has a `filterExpr` parameter that represents a filter template that can contain placeholders and a `filterArgs` parameter representing a list of corresponding values.\r\n\r\nWith that, the example above would turn into:\r\n\r\n```\r\nString value = &quot;*)(objectClass=*&quot;;\r\nString filter = &quot;(|(attr1=constvalue)(attr2={0}))&quot;;\r\nsearch(filter, new String[] { value });\r\n```\r\nImplementation of `search`:\r\n```\r\ndircontext.search(basedn, filter, valuearray, null);\r\n```\r\n\r\nThat is the best compromise I can think of. It fully addresses LDAP filter injection issues, yet it does not require the caller to handle escaping, the caller only has to provide a filter template and a list of values.\r\n\r\nGenerally, using library facilities for escaping should be preferred over custom code to ensure that all cases are handled correctly. The other two answers illustrate that.","title":"Parse ldap filter to escape special characters","body":"<p>You can't reliably escape values in an LDAP filter provided by the caller if that filter represents the final filter to be used for the query. Consider the following filter assembled by the caller:</p>\n\n<pre><code>String value = \"*)(objectClass=*\";\nString filter = \"(|(attr1=constvalue)(attr2=\" + value + \"))\";\nsearch(filter);\n</code></pre>\n\n<p>The resulting filter matches all objects because the code does not escape <code>value</code>:</p>\n\n<pre><code>(|(attr1=constvalue)(attr2=*)(objectClass=*))\n</code></pre>\n\n<p>There is no way to escape <code>value</code> based on the final filter because the start and end position cannot be identified anymore.</p>\n\n<p>To resolve this ambiguity and filter injection issue, the input values must be escaped while building the filter, not afterwards. However, this does not mean that the caller has to deal with escaping details directly - that's error-prone, so I don't recommend that.</p>\n\n<p>All it takes for the EJB to handle escaping is knowing the desired filter including placeholders instead of actual values and a list of values. Java's <code>DirContext</code> already provides a mechanism you can take advantage of. <code>DirContext.search</code> has a <code>filterExpr</code> parameter that represents a filter template that can contain placeholders and a <code>filterArgs</code> parameter representing a list of corresponding values.</p>\n\n<p>With that, the example above would turn into:</p>\n\n<pre><code>String value = \"*)(objectClass=*\";\nString filter = \"(|(attr1=constvalue)(attr2={0}))\";\nsearch(filter, new String[] { value });\n</code></pre>\n\n<p>Implementation of <code>search</code>:</p>\n\n<pre><code>dircontext.search(basedn, filter, valuearray, null);\n</code></pre>\n\n<p>That is the best compromise I can think of. It fully addresses LDAP filter injection issues, yet it does not require the caller to handle escaping, the caller only has to provide a filter template and a list of values.</p>\n\n<p>Generally, using library facilities for escaping should be preferred over custom code to ensure that all cases are handled correctly. The other two answers illustrate that.</p>\n"},{"tags":[],"owner":{"account_id":76597,"reputation":60197,"user_id":219159,"accept_rate":75,"display_name":"Seva Alekseyev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1591970331,"creation_date":1591970331,"answer_id":62345781,"question_id":31309673,"body_markdown":"Here&#39;s mine:\r\n\r\n\t\tstatic public string LDAPEscape(string s)\r\n\t\t{\r\n\t\t\tStringBuilder sb = new StringBuilder(s.Length);\r\n\t\t\tint i;\r\n\t\t\tfor (i = 0; i &lt; s.Length; i++)\r\n\t\t\t{\r\n\t\t\t\tchar c = s[i];\r\n\t\t\t\tif (&quot;/*)(\\\\\\0&quot;.IndexOf(c) &gt;= 0)\r\n\t\t\t\t\tsb.Append(&#39;\\\\&#39;).Append(((uint)c).ToString(&quot;x2&quot;));\r\n\t\t\t\telse\r\n\t\t\t\t\tsb.Append(c);\r\n\t\t\t}\r\n\t\t\treturn sb.ToString();\r\n\t\t}","title":"Parse ldap filter to escape special characters","body":"<p>Here's mine:</p>\n\n<pre><code>    static public string LDAPEscape(string s)\n    {\n        StringBuilder sb = new StringBuilder(s.Length);\n        int i;\n        for (i = 0; i &lt; s.Length; i++)\n        {\n            char c = s[i];\n            if (\"/*)(\\\\\\0\".IndexOf(c) &gt;= 0)\n                sb.Append('\\\\').Append(((uint)c).ToString(\"x2\"));\n            else\n                sb.Append(c);\n        }\n        return sb.ToString();\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5100890,"reputation":2796,"user_id":4090550,"display_name":"Anil Agrawal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1619532335,"creation_date":1619532335,"answer_id":67284683,"question_id":31309673,"body_markdown":"If using maven repository [apache-ldap-api][1] as LDAP client library, we can use Util class [FilterEncoder][2] to handle encoding of special characters in LDAP search filter values as below\r\n\r\n    filter = &quot;(attributeKey=&quot; + FilterEncoder.encodeFilterValue(attributeValue) + &quot;)&quot;;\r\n\r\n\r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/org.apache.directory.api/apache-ldap-api\r\n  [2]: https://nightlies.apache.org/directory/api/1.0.2/apidocs/org/apache/directory/api/ldap/model/filter/FilterEncoder.html","title":"Parse ldap filter to escape special characters","body":"<p>If using maven repository <a href=\"https://mvnrepository.com/artifact/org.apache.directory.api/apache-ldap-api\" rel=\"nofollow noreferrer\">apache-ldap-api</a> as LDAP client library, we can use Util class <a href=\"https://nightlies.apache.org/directory/api/1.0.2/apidocs/org/apache/directory/api/ldap/model/filter/FilterEncoder.html\" rel=\"nofollow noreferrer\">FilterEncoder</a> to handle encoding of special characters in LDAP search filter values as below</p>\n<pre><code>filter = &quot;(attributeKey=&quot; + FilterEncoder.encodeFilterValue(attributeValue) + &quot;)&quot;;\n</code></pre>\n"}],"owner":{"account_id":3135547,"reputation":1278,"user_id":2652122,"accept_rate":71,"display_name":"Robert Mugattarov"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15014,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":41749853,"answer_count":5,"score":7,"last_activity_date":1678288551,"creation_date":1436423215,"question_id":31309673,"body_markdown":"An ejb service takes a ldap filter as string and returns a result from ActiveDirectory.\r\n&lt;br&gt;&lt;br&gt;The problem is that sometimes attribute values contain special characters that need to be escaped for the entire filter as specified here:\r\n&lt;br&gt;https://msdn.microsoft.com/en-us/library/aa746475(v=vs.85).aspx\r\n&lt;br&gt;and for distinguished name attibute values as specified here:\r\n&lt;br&gt;https://msdn.microsoft.com/en-us/library/aa366101(v=vs.85).aspx\r\n&lt;br&gt;In order to accomplish this the service must do the following:\r\n\r\n 1. Analyze the string for dn values, separate them and escape them as per dn escape rules if they are not already escaped.\r\n 2. Search the remainder of the string for special characters in attribute values and escape them as per general filter escape rules if they are not already escaped.\r\n 3. Combine the results as the new escaped filter and pass it on.\r\n\r\nJava native `javax.naming.ldap.Rdn` escapes dn values all right but is not idempotent. As for the other tasks, so far I have been unable to find a library that would allow me to accomplish them.\r\n&lt;br&gt;&lt;br&gt;Right now I am inclined to think that the job of escaping the ldap filter should be done by the user of the service rather than by the service itself as it is very hard for the service to tell escapes from actual values. Also, parsing a complex string such as a ldap filter without a well tested library seems to me error prone.\r\n&lt;br&gt;&lt;br&gt;Any ideas on how to solve this? Can this task be automated at all?","title":"Parse ldap filter to escape special characters","body":"<p>An ejb service takes a ldap filter as string and returns a result from ActiveDirectory.\n<br><br>The problem is that sometimes attribute values contain special characters that need to be escaped for the entire filter as specified here:\n<br><a href=\"https://msdn.microsoft.com/en-us/library/aa746475(v=vs.85).aspx\" rel=\"noreferrer\">https://msdn.microsoft.com/en-us/library/aa746475(v=vs.85).aspx</a>\n<br>and for distinguished name attibute values as specified here:\n<br><a href=\"https://msdn.microsoft.com/en-us/library/aa366101(v=vs.85).aspx\" rel=\"noreferrer\">https://msdn.microsoft.com/en-us/library/aa366101(v=vs.85).aspx</a>\n<br>In order to accomplish this the service must do the following:</p>\n\n<ol>\n<li>Analyze the string for dn values, separate them and escape them as per dn escape rules if they are not already escaped.</li>\n<li>Search the remainder of the string for special characters in attribute values and escape them as per general filter escape rules if they are not already escaped.</li>\n<li>Combine the results as the new escaped filter and pass it on.</li>\n</ol>\n\n<p>Java native <code>javax.naming.ldap.Rdn</code> escapes dn values all right but is not idempotent. As for the other tasks, so far I have been unable to find a library that would allow me to accomplish them.\n<br><br>Right now I am inclined to think that the job of escaping the ldap filter should be done by the user of the service rather than by the service itself as it is very hard for the service to tell escapes from actual values. Also, parsing a complex string such as a ldap filter without a well tested library seems to me error prone.\n<br><br>Any ideas on how to solve this? Can this task be automated at all?</p>\n"},{"tags":["java","spring","spring-mvc","localization","internationalization"],"answers":[{"tags":[],"owner":{"account_id":1130089,"reputation":24025,"user_id":1116391,"display_name":"Bogdan"},"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1504292732,"creation_date":1345835142,"answer_id":12115254,"question_id":12107317,"body_markdown":"I think you need to write your own [LocaleResolver][1] that wraps a list of Spring&#39;s locale resolvers. You call them one after the other until a `Locale` is resolved. If the list does not produce a `Locale`, you provide a default behavior in your `LocaleResolver`.\r\n\r\nHere are some links you might find useful:\r\n\r\nhttp://code.lds.org/maven-sites/stack/modules/web-spring/3.0.8-SNAPSHOT/apidocs/org/lds/stack/web/spring/i18n/ChainedLocaleResolver.html\r\n\r\nhttps://mvnrepository.com/artifact/org.lds.stack.web/stack-web-spring/3.0.8\r\n\r\nOr if you prefer a view from both the links:\r\n\r\n    package org.lds.stack.web.spring.i18n;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import java.util.Locale;\r\n    \r\n    import javax.servlet.http.HttpServletRequest;\r\n    import javax.servlet.http.HttpServletResponse;\r\n    \r\n    import org.springframework.web.servlet.LocaleResolver;\r\n    import org.springframework.web.servlet.i18n.AcceptHeaderLocaleResolver;\r\n    import org.springframework.web.servlet.i18n.FixedLocaleResolver;\r\n    \r\n    /**\r\n     * This locale resolver provides the ability to define a list of resolvers from which to determine\r\n     * the locale.  This allows us to give preference to certain locale resolution schemes by putting\r\n     * them earlier in the list.  \r\n     * &lt;p/&gt;\r\n     * \r\n     * The order of resolvers from which to find the given locale (or set a specified locale) could be\r\n     * defined in the spring context file with something like:\r\n     * \r\n     * &lt;pre&gt;\r\n     * &amp;lt;bean id=&amp;quot;localeResolver&amp;quot; class=&amp;quot;org.lds.stack.web.spring.i18n.ChainedLocaleResolver&amp;quot;&amp;gt;\r\n     * \t\t&amp;lt;property name=&amp;quot;localeResolvers&amp;quot;&amp;gt;\r\n     * \t\t\t&amp;lt;list&amp;gt;\r\n     * \t\t\t\t&amp;lt;bean class=&amp;quot;org.lds.stack.web.spring.i18n.UrlLocaleResolver&amp;quot; /&amp;gt;\r\n     * \t\t\t\t&amp;lt;bean class=&amp;quot;org.lds.stack.web.spring.i18n.NoDefaultSessionLocaleResolver&amp;quot; /&amp;gt;\r\n     * \t\t\t\t&amp;lt;bean class=&amp;quot;org.lds.stack.web.spring.i18n.NoDefaultCookieLocaleResolver&amp;quot;&amp;gt;\r\n     * \t\t\t\t\t&amp;lt;property name=&amp;quot;cookieMaxAge&amp;quot; value=&amp;quot;31536000&amp;quot;/&amp;gt;\r\n     * \t\t\t\t&amp;lt;/bean&amp;gt;\r\n     * \t\t\t\t&amp;lt;bean class=&amp;quot;org.springframework.web.servlet.i18n.AcceptHeaderLocaleResolver&amp;quot; /&amp;gt;\r\n     * \t\t\t\t&amp;lt;bean class=&amp;quot;org.springframework.web.servlet.i18n.FixedLocaleResolver&amp;quot; /&amp;gt;\r\n     * \t\t\t&amp;lt;/list&amp;gt;\r\n     * \t\t&amp;lt;/property&amp;gt;\r\n     * \t&amp;lt;/bean&amp;gt;\r\n     * &lt;/pre&gt;\r\n     * \r\n     * This allows you to remove, or re-order the locale resolution schemes to meet your needs.\r\n     * Also note that the id of localeResolver is significant.  The Spring Framework knows to use this\r\n     * resolver as the LocaleResolver by virtue of the id being &quot;localeResolver&quot;.\r\n     * &lt;p/&gt;\r\n     * \r\n     * NOTE: If the default resolver order, shown above, will work for your application, then you can \r\n     * skip this verbose definition by utilizing the stack-web namespace handler, providing any exposed \r\n     * attribute values for minor customizations.  The namespace handler is defined as follows:\r\n     * \r\n     * &lt;pre&gt;\r\n     * &amp;lt;stack-web:locale-resolver /&amp;gt;\r\n     * &lt;/pre&gt;\r\n     * \r\n     * Additionally, in order to change the locale based on a url parameter, you can configure a\r\n     * LocaleChangeInterceptor, which will call the set method of all of the locales in the chained\r\n     * resolver, so that they can be found when resolveLocale(...) is called on them.  \r\n     * &lt;p/&gt;\r\n     * \r\n     * The interceptor configuration might look as follows:\r\n     * &lt;pre&gt;\r\n     * \t&amp;lt;mvc:interceptors&amp;gt;\r\n     *\t\t&amp;lt;bean id=&amp;quot;localeChangeInterceptor&amp;quot; class=&amp;quot;org.springframework.web.servlet.i18n.LocaleChangeInterceptor&amp;quot; /&amp;gt;\r\n     *\t&amp;lt;/mvc:interceptors&amp;gt;\r\n     * &lt;/pre&gt;\r\n     */\r\n    public class ChainedLocaleResolver implements LocaleResolver {\r\n    \t\r\n    \tprivate List&lt;LocaleResolver&gt; localeResolvers;\r\n    \t\r\n    \tpublic ChainedLocaleResolver() {\r\n    \t\t//if anything other than this default order or set is desired, the list of resolvers\r\n    \t\t//to be chained should be set up in the bean definition as shown above\r\n    \t\tlocaleResolvers = new ArrayList&lt;LocaleResolver&gt;();\r\n    \t\t//TODO: Is the Url resolver necessary if we have an interceptor that changes the locale from the url?\r\n    \t\tlocaleResolvers.add(new UrlLocaleResolver());\r\n    \t\tlocaleResolvers.add(new NoDefaultSessionLocaleResolver());\r\n    \t\tNoDefaultCookieLocaleResolver cookieLocaleResolver = new NoDefaultCookieLocaleResolver();\r\n    \t\tcookieLocaleResolver.setCookieMaxAge(31536000);\r\n    \t\tlocaleResolvers.add(cookieLocaleResolver);\r\n    \t\t//TODO: may need to create a NoDefault, but that seems difficult as the implementation is provided\r\n    \t\t//by the javax.servlet, ..., Also, maybe we could just remove the fixedLocaleResolver, as this one\r\n    \t\t//gets the default, and then if people did not use this one, they could add the fixed one back in.\r\n    \t\tlocaleResolvers.add(new AcceptHeaderLocaleResolver());\r\n    \t\tlocaleResolvers.add(new FixedLocaleResolver());\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tpublic Locale resolveLocale(HttpServletRequest request) {\r\n    \t\tLocale locale = null;\r\n    \t\tfor (LocaleResolver resolver : getLocaleResolvers()) {\r\n    \t\t\tlocale = resolver.resolveLocale(request);\r\n    \t\t\tif (locale != null) {\r\n    \t\t\t\treturn locale;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn locale;\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tpublic void setLocale(HttpServletRequest request, HttpServletResponse response, Locale locale) {\r\n    \t\tfor (LocaleResolver resolver : getLocaleResolvers()) {\r\n    \t\t\ttry {\r\n    \t\t\t\tresolver.setLocale(request, response, locale);\r\n    \t\t\t} catch (UnsupportedOperationException uoe) {}\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tpublic List&lt;LocaleResolver&gt; getLocaleResolvers() {\r\n    \t\treturn localeResolvers;\r\n    \t}\r\n    \tpublic void setLocaleResolvers(List&lt;LocaleResolver&gt; localeResolvers) {\r\n    \t\tthis.localeResolvers = localeResolvers;\r\n    \t}\r\n    }\r\n\r\n\r\n  [1]: http://static.springsource.org/spring/docs/3.0.x/api/org/springframework/web/servlet/LocaleResolver.html","title":"Spring LocaleResolver chaining","body":"<p>I think you need to write your own <a href=\"http://static.springsource.org/spring/docs/3.0.x/api/org/springframework/web/servlet/LocaleResolver.html\" rel=\"nofollow noreferrer\">LocaleResolver</a> that wraps a list of Spring's locale resolvers. You call them one after the other until a <code>Locale</code> is resolved. If the list does not produce a <code>Locale</code>, you provide a default behavior in your <code>LocaleResolver</code>.</p>\n\n<p>Here are some links you might find useful:</p>\n\n<p><a href=\"http://code.lds.org/maven-sites/stack/modules/web-spring/3.0.8-SNAPSHOT/apidocs/org/lds/stack/web/spring/i18n/ChainedLocaleResolver.html\" rel=\"nofollow noreferrer\">http://code.lds.org/maven-sites/stack/modules/web-spring/3.0.8-SNAPSHOT/apidocs/org/lds/stack/web/spring/i18n/ChainedLocaleResolver.html</a></p>\n\n<p><a href=\"https://mvnrepository.com/artifact/org.lds.stack.web/stack-web-spring/3.0.8\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/org.lds.stack.web/stack-web-spring/3.0.8</a></p>\n\n<p>Or if you prefer a view from both the links:</p>\n\n<pre><code>package org.lds.stack.web.spring.i18n;\n\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Locale;\n\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\n\nimport org.springframework.web.servlet.LocaleResolver;\nimport org.springframework.web.servlet.i18n.AcceptHeaderLocaleResolver;\nimport org.springframework.web.servlet.i18n.FixedLocaleResolver;\n\n/**\n * This locale resolver provides the ability to define a list of resolvers from which to determine\n * the locale.  This allows us to give preference to certain locale resolution schemes by putting\n * them earlier in the list.  \n * &lt;p/&gt;\n * \n * The order of resolvers from which to find the given locale (or set a specified locale) could be\n * defined in the spring context file with something like:\n * \n * &lt;pre&gt;\n * &amp;lt;bean id=&amp;quot;localeResolver&amp;quot; class=&amp;quot;org.lds.stack.web.spring.i18n.ChainedLocaleResolver&amp;quot;&amp;gt;\n *      &amp;lt;property name=&amp;quot;localeResolvers&amp;quot;&amp;gt;\n *          &amp;lt;list&amp;gt;\n *              &amp;lt;bean class=&amp;quot;org.lds.stack.web.spring.i18n.UrlLocaleResolver&amp;quot; /&amp;gt;\n *              &amp;lt;bean class=&amp;quot;org.lds.stack.web.spring.i18n.NoDefaultSessionLocaleResolver&amp;quot; /&amp;gt;\n *              &amp;lt;bean class=&amp;quot;org.lds.stack.web.spring.i18n.NoDefaultCookieLocaleResolver&amp;quot;&amp;gt;\n *                  &amp;lt;property name=&amp;quot;cookieMaxAge&amp;quot; value=&amp;quot;31536000&amp;quot;/&amp;gt;\n *              &amp;lt;/bean&amp;gt;\n *              &amp;lt;bean class=&amp;quot;org.springframework.web.servlet.i18n.AcceptHeaderLocaleResolver&amp;quot; /&amp;gt;\n *              &amp;lt;bean class=&amp;quot;org.springframework.web.servlet.i18n.FixedLocaleResolver&amp;quot; /&amp;gt;\n *          &amp;lt;/list&amp;gt;\n *      &amp;lt;/property&amp;gt;\n *  &amp;lt;/bean&amp;gt;\n * &lt;/pre&gt;\n * \n * This allows you to remove, or re-order the locale resolution schemes to meet your needs.\n * Also note that the id of localeResolver is significant.  The Spring Framework knows to use this\n * resolver as the LocaleResolver by virtue of the id being \"localeResolver\".\n * &lt;p/&gt;\n * \n * NOTE: If the default resolver order, shown above, will work for your application, then you can \n * skip this verbose definition by utilizing the stack-web namespace handler, providing any exposed \n * attribute values for minor customizations.  The namespace handler is defined as follows:\n * \n * &lt;pre&gt;\n * &amp;lt;stack-web:locale-resolver /&amp;gt;\n * &lt;/pre&gt;\n * \n * Additionally, in order to change the locale based on a url parameter, you can configure a\n * LocaleChangeInterceptor, which will call the set method of all of the locales in the chained\n * resolver, so that they can be found when resolveLocale(...) is called on them.  \n * &lt;p/&gt;\n * \n * The interceptor configuration might look as follows:\n * &lt;pre&gt;\n *  &amp;lt;mvc:interceptors&amp;gt;\n *      &amp;lt;bean id=&amp;quot;localeChangeInterceptor&amp;quot; class=&amp;quot;org.springframework.web.servlet.i18n.LocaleChangeInterceptor&amp;quot; /&amp;gt;\n *  &amp;lt;/mvc:interceptors&amp;gt;\n * &lt;/pre&gt;\n */\npublic class ChainedLocaleResolver implements LocaleResolver {\n\n    private List&lt;LocaleResolver&gt; localeResolvers;\n\n    public ChainedLocaleResolver() {\n        //if anything other than this default order or set is desired, the list of resolvers\n        //to be chained should be set up in the bean definition as shown above\n        localeResolvers = new ArrayList&lt;LocaleResolver&gt;();\n        //TODO: Is the Url resolver necessary if we have an interceptor that changes the locale from the url?\n        localeResolvers.add(new UrlLocaleResolver());\n        localeResolvers.add(new NoDefaultSessionLocaleResolver());\n        NoDefaultCookieLocaleResolver cookieLocaleResolver = new NoDefaultCookieLocaleResolver();\n        cookieLocaleResolver.setCookieMaxAge(31536000);\n        localeResolvers.add(cookieLocaleResolver);\n        //TODO: may need to create a NoDefault, but that seems difficult as the implementation is provided\n        //by the javax.servlet, ..., Also, maybe we could just remove the fixedLocaleResolver, as this one\n        //gets the default, and then if people did not use this one, they could add the fixed one back in.\n        localeResolvers.add(new AcceptHeaderLocaleResolver());\n        localeResolvers.add(new FixedLocaleResolver());\n    }\n\n    @Override\n    public Locale resolveLocale(HttpServletRequest request) {\n        Locale locale = null;\n        for (LocaleResolver resolver : getLocaleResolvers()) {\n            locale = resolver.resolveLocale(request);\n            if (locale != null) {\n                return locale;\n            }\n        }\n        return locale;\n    }\n\n    @Override\n    public void setLocale(HttpServletRequest request, HttpServletResponse response, Locale locale) {\n        for (LocaleResolver resolver : getLocaleResolvers()) {\n            try {\n                resolver.setLocale(request, response, locale);\n            } catch (UnsupportedOperationException uoe) {}\n        }\n    }\n\n    public List&lt;LocaleResolver&gt; getLocaleResolvers() {\n        return localeResolvers;\n    }\n    public void setLocaleResolvers(List&lt;LocaleResolver&gt; localeResolvers) {\n        this.localeResolvers = localeResolvers;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1030240,"reputation":365,"user_id":1038698,"accept_rate":31,"display_name":"Fred"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678288222,"creation_date":1678288222,"answer_id":75674825,"question_id":12107317,"body_markdown":"this is useful and a good start.  An ideal chained resolver from my perspective would go in this order of precedence\r\n\r\n 1. if LocaleIterceptor finds a &#39;lang&#39; request parameter, use that locale and also set a cookie \r\n2. Else, if there&#39;s a cookie, use that as the locale\r\n3. otherwise, fall back to the browser&#39;s locale.\r\n\r\nThis allows users and testers to quickly change the locale by just adding a &#39;?lang={locale} query parameter one time.  That&#39;ll set a cookie for future requests.  Otherwise the pages will just go with locale sent by the browser.","title":"Spring LocaleResolver chaining","body":"<p>this is useful and a good start.  An ideal chained resolver from my perspective would go in this order of precedence</p>\n<ol>\n<li>if LocaleIterceptor finds a 'lang' request parameter, use that locale and also set a cookie</li>\n<li>Else, if there's a cookie, use that as the locale</li>\n<li>otherwise, fall back to the browser's locale.</li>\n</ol>\n<p>This allows users and testers to quickly change the locale by just adding a '?lang={locale} query parameter one time.  That'll set a cookie for future requests.  Otherwise the pages will just go with locale sent by the browser.</p>\n"}],"owner":{"account_id":1126566,"reputation":3898,"user_id":1113715,"accept_rate":90,"display_name":"Jordi P.S."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2770,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":12115254,"answer_count":2,"score":7,"last_activity_date":1678288222,"creation_date":1345802899,"question_id":12107317,"body_markdown":"Is it possible to chain locale resolvers?\r\n\r\nI&#39;d like to take the locale value from:\r\n\r\n 1. The session if maps with my accepted languages\r\n\r\n 2. The cookie if maps with my accepted languages\r\n\r\n 3. If both don&#39;t contain locale information extract it from the accept language and do the best match with my accepted locales.\r\n\r\nHow would you do that?","title":"Spring LocaleResolver chaining","body":"<p>Is it possible to chain locale resolvers?</p>\n\n<p>I'd like to take the locale value from:</p>\n\n<ol>\n<li><p>The session if maps with my accepted languages</p></li>\n<li><p>The cookie if maps with my accepted languages</p></li>\n<li><p>If both don't contain locale information extract it from the accept language and do the best match with my accepted locales.</p></li>\n</ol>\n\n<p>How would you do that?</p>\n"},{"tags":["java","extjs"],"comments":[{"owner":{"account_id":65891,"reputation":278,"user_id":193606,"accept_rate":50,"display_name":"Josh"},"score":0,"creation_date":1687366268,"post_id":74428533,"comment_id":134928007,"body_markdown":"Similar to https://stackoverflow.com/questions/43067454/ant-running-from-maven-antrun-plugin-cant-find-scripting-engine-on-java-9","body":"Similar to <a href=\"https://stackoverflow.com/questions/43067454/ant-running-from-maven-antrun-plugin-cant-find-scripting-engine-on-java-9\" title=\"ant running from maven antrun plugin cant find scripting engine on java 9\">stackoverflow.com/questions/43067454/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":27966383,"reputation":9,"user_id":21357137,"display_name":"lonke_junior"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1678288175,"creation_date":1678288175,"answer_id":75674809,"question_id":74428533,"body_markdown":"I had same issue, but with Java 17. \r\n\r\nI changed Java to version 8 and I restarted all terminals and it resolved my problem. ","title":"&quot;Unable to create javax script engine for javascript&quot; extjs","body":"<p>I had same issue, but with Java 17.</p>\n<p>I changed Java to version 8 and I restarted all terminals and it resolved my problem.</p>\n"}],"owner":{"account_id":1421719,"reputation":4330,"user_id":1346203,"accept_rate":13,"display_name":"klodoma"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":745,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1678288175,"creation_date":1668413063,"question_id":74428533,"body_markdown":"Following the &quot;default&quot; installation of extjs, I can&#39;t get it running with any Java &gt; version 14.\r\n\r\nWith Java 14 the main warning is:\r\n```\r\n[ERR] Warning: Nashorn engine is planned to be removed from a future JDK release\r\n```\r\n\r\nWith Java 15 the `ant` build is failing:\r\n```\r\nException information:\r\n=======================\r\n/home/ubuntu/my-ext-gen-app/node_modules/@sencha/cmd/dist/plugin.xml:378: The following error occurred while executing this line:\r\n/home/ubuntu/my-ext-gen-app/build.xml:15: Unable to create javax script engine for javascript\r\n     at com.sencha.ant.AntScript.execute(AntScript.java:121)\r\n     at com.sencha.command.plugin.PluginManager.execute(PluginManager.java:104)\r\n     at com.sencha.command.plugin.PluginManager.executeReverseFirst(PluginManager.java:145)\r\n     at com.sencha.command.environment.BuildEnvironment.execute(BuildEnvironment.java:309)\r\n     at com.sencha.command.environment.AppOrPackageEnvironment.execute(AppOrPackageEnvironment.java:729)\r\n     at com.sencha.command.BasePluginCommands$BasePluginCommand.doExecute(BasePluginCommands.java:125)\r\n     at com.sencha.command.app.AppCommands$BuildCommand.execute(AppCommands.java:470)\r\n     at com.sencha.command.app.AppCommands$WatchCommand.execute(AppCommands.java:909)\r\n     at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n     at java.base/java.lang.reflect.Method.invoke(Method.java:577)\r\n     at com.sencha.util.MethodInvoker$Arguments.invoke(MethodInvoker.java:175)\r\n     at com.sencha.cli.Command.dispatch(Command.java:43)\r\n     at com.sencha.command.BasePluginCommands$BasePluginCommand.dispatch(BasePluginCommands.java:289)\r\n     at com.sencha.cli.Commands.dispatch(Commands.java:64)\r\n     at com.sencha.cli.Commands.dispatch(Commands.java:64)\r\n     at com.sencha.command.Sencha.dispatch(Sencha.java:80)\r\n     at com.sencha.command.Sencha.main(Sencha.java:151)\r\n```\r\n\r\nhttps://docs.sencha.com/extjs/7.6.0/guides/getting_started/getting_started_with_npm.html\r\n\r\nAny way to fix this?","title":"&quot;Unable to create javax script engine for javascript&quot; extjs","body":"<p>Following the &quot;default&quot; installation of extjs, I can't get it running with any Java &gt; version 14.</p>\n<p>With Java 14 the main warning is:</p>\n<pre><code>[ERR] Warning: Nashorn engine is planned to be removed from a future JDK release\n</code></pre>\n<p>With Java 15 the <code>ant</code> build is failing:</p>\n<pre><code>Exception information:\n=======================\n/home/ubuntu/my-ext-gen-app/node_modules/@sencha/cmd/dist/plugin.xml:378: The following error occurred while executing this line:\n/home/ubuntu/my-ext-gen-app/build.xml:15: Unable to create javax script engine for javascript\n     at com.sencha.ant.AntScript.execute(AntScript.java:121)\n     at com.sencha.command.plugin.PluginManager.execute(PluginManager.java:104)\n     at com.sencha.command.plugin.PluginManager.executeReverseFirst(PluginManager.java:145)\n     at com.sencha.command.environment.BuildEnvironment.execute(BuildEnvironment.java:309)\n     at com.sencha.command.environment.AppOrPackageEnvironment.execute(AppOrPackageEnvironment.java:729)\n     at com.sencha.command.BasePluginCommands$BasePluginCommand.doExecute(BasePluginCommands.java:125)\n     at com.sencha.command.app.AppCommands$BuildCommand.execute(AppCommands.java:470)\n     at com.sencha.command.app.AppCommands$WatchCommand.execute(AppCommands.java:909)\n     at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n     at java.base/java.lang.reflect.Method.invoke(Method.java:577)\n     at com.sencha.util.MethodInvoker$Arguments.invoke(MethodInvoker.java:175)\n     at com.sencha.cli.Command.dispatch(Command.java:43)\n     at com.sencha.command.BasePluginCommands$BasePluginCommand.dispatch(BasePluginCommands.java:289)\n     at com.sencha.cli.Commands.dispatch(Commands.java:64)\n     at com.sencha.cli.Commands.dispatch(Commands.java:64)\n     at com.sencha.command.Sencha.dispatch(Sencha.java:80)\n     at com.sencha.command.Sencha.main(Sencha.java:151)\n</code></pre>\n<p><a href=\"https://docs.sencha.com/extjs/7.6.0/guides/getting_started/getting_started_with_npm.html\" rel=\"noreferrer\">https://docs.sencha.com/extjs/7.6.0/guides/getting_started/getting_started_with_npm.html</a></p>\n<p>Any way to fix this?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9401,"page":591,"page_size":100}
