{"items":[{"tags":["java","android","xml"],"comments":[{"owner":{"account_id":220539,"reputation":10492,"user_id":477997,"display_name":"Leonidos"},"score":0,"creation_date":1656959822,"post_id":72860565,"comment_id":128692331,"body_markdown":"first post on SO in google on SetAnimation query answers your question.\nuse startAnimation","body":"first post on SO in google on SetAnimation query answers your question. use startAnimation"},{"owner":{"account_id":220539,"reputation":10492,"user_id":477997,"display_name":"Leonidos"},"score":0,"creation_date":1656962076,"post_id":72860565,"comment_id":128692820,"body_markdown":"Does this answer your question? [setAnimation vs startAnimation in android](https://stackoverflow.com/questions/10909865/setanimation-vs-startanimation-in-android)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/10909865/setanimation-vs-startanimation-in-android\">setAnimation vs startAnimation in android</a>"},{"owner":{"account_id":20574320,"reputation":15,"user_id":17701239,"display_name":"Yadigar Yusifov"},"score":0,"creation_date":1656965104,"post_id":72860565,"comment_id":128693527,"body_markdown":"Yes, but I still have not got what is the point to use setAnimation() if it will not demonstrate anything on the screen. I mean when do we need to use setAnimation().","body":"Yes, but I still have not got what is the point to use setAnimation() if it will not demonstrate anything on the screen. I mean when do we need to use setAnimation()."},{"owner":{"account_id":220539,"reputation":10492,"user_id":477997,"display_name":"Leonidos"},"score":0,"creation_date":1656966497,"post_id":72860565,"comment_id":128693872,"body_markdown":"ok. I will add an aswer","body":"ok. I will add an aswer"}],"answers":[{"tags":[],"owner":{"account_id":220539,"reputation":10492,"user_id":477997,"display_name":"Leonidos"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1656967516,"creation_date":1656967516,"answer_id":72861868,"question_id":72860565,"body_markdown":"Every android `View` has a protected property `mCurrentAnimation`. You can use methods `setAnimation`, `getAnimation` and `clearAnimation` to access this property and attach/detach animation to a view. Generally, аnimation wont start playing if you just set it.\r\n\r\nLet&#39;s check `startAnimation` code:\r\n\r\n            public void startAnimation(Animation animation) {\r\n                animation.setStartTime(Animation.START_ON_FIRST_FRAME);\r\n                setAnimation(animation);\r\n                invalidateParentCaches();\r\n                invalidate(true);\r\n            }\r\n\r\nYou see? It sets start time for your animation to run next frame (immediately), attaches animation to a view with `setAnimation` method and calls invalidate (ask android to redraw this view). Without invalidate, animation could not start.\r\n\r\nP.S. This is an old API for animation. Check android dev site for up to date API.","title":"Shake animation does not appear on the app","body":"<p>Every android <code>View</code> has a protected property <code>mCurrentAnimation</code>. You can use methods <code>setAnimation</code>, <code>getAnimation</code> and <code>clearAnimation</code> to access this property and attach/detach animation to a view. Generally, аnimation wont start playing if you just set it.</p>\n<p>Let's check <code>startAnimation</code> code:</p>\n<pre><code>        public void startAnimation(Animation animation) {\n            animation.setStartTime(Animation.START_ON_FIRST_FRAME);\n            setAnimation(animation);\n            invalidateParentCaches();\n            invalidate(true);\n        }\n</code></pre>\n<p>You see? It sets start time for your animation to run next frame (immediately), attaches animation to a view with <code>setAnimation</code> method and calls invalidate (ask android to redraw this view). Without invalidate, animation could not start.</p>\n<p>P.S. This is an old API for animation. Check android dev site for up to date API.</p>\n"}],"owner":{"account_id":20574320,"reputation":15,"user_id":17701239,"display_name":"Yadigar Yusifov"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72861868,"answer_count":1,"score":1,"last_activity_date":1656967516,"creation_date":1656957846,"question_id":72860565,"body_markdown":"I am new in android. So I tried to apply shake animation for wrong answers in a quiz app. But it does not work. I also checked similar questions on this website but I could not find my \r\nmistake on my code. In terms of syntax, I guess everything is correct. Could you please help me on this?\r\n\r\n&#39;&#39;&#39;\r\n\r\n    package com.example.trivaapp;\r\n    \r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    import androidx.databinding.DataBindingUtil;\r\n    \r\n    import android.os.Bundle;\r\n    import android.util.Log;\r\n    import android.view.View;\r\n    import android.view.animation.Animation;\r\n    import android.view.animation.AnimationUtils;\r\n    import android.widget.Toast;\r\n    import com.example.trivaapp.data.Repository;\r\n    \r\n    import com.example.trivaapp.databinding.ActivityMainBinding;\r\n    import com.example.trivaapp.model.Question;\r\n    import java.util.List;\r\n    \r\n    public class MainActivity extends AppCompatActivity{\r\n\r\n    List&lt;Question&gt; questionArrayList;\r\n\r\n    ActivityMainBinding binding;\r\n    int questionNumber = 0;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n\r\n        super.onCreate(savedInstanceState);\r\n\r\n        setContentView(R.layout.activity_main);\r\n\r\n        binding = DataBindingUtil.setContentView(this, R.layout.activity_main);\r\n\r\n        questionArrayList = new Repository().getQuestionList(az -&gt;{\r\n\r\n            binding.questionText.setText(az.get(questionNumber).getAnswer());\r\n\r\n            binding.QuestionNumber.setText(questionNumber + &quot;/&quot; + az.size());\r\n        });\r\n        binding.trueButton.setOnClickListener(view -&gt; {\r\n\r\n            if(true == questionArrayList.get(questionNumber).isTruenswer()){\r\n                Toast.makeText(MainActivity.this, R.string.correct, Toast.LENGTH_SHORT).show();\r\n            }\r\n            else{\r\n                Toast.makeText(MainActivity.this, R.string.incorrect, Toast.LENGTH_SHORT).show();\r\n                ShakeAnimation();\r\n            }\r\n        });\r\n\r\n        binding.falseButton.setOnClickListener(view -&gt; {\r\n\r\n            if(false == questionArrayList.get(questionNumber).isTruenswer()){\r\n                Toast.makeText(MainActivity.this, R.string.correct, Toast.LENGTH_SHORT).show();\r\n            }\r\n            else{\r\n                Toast.makeText(MainActivity.this, R.string.incorrect, Toast.LENGTH_SHORT).show();\r\n                ShakeAnimation();\r\n            }\r\n        });\r\n    }\r\n\r\n    private void ShakeAnimation() {\r\n        Animation shakeAnimation = AnimationUtils.loadAnimation(MainActivity.this, R.anim.shake);\r\n        binding.cardView.setAnimation(shakeAnimation);\r\n    }\r\n\r\n    public void Next(View view) {\r\n        questionNumber = (questionNumber &lt; questionArrayList.size()) ? ++questionNumber : questionNumber;\r\n\r\n\r\n        binding.questionText.setText(questionArrayList.get(questionNumber).getAnswer());\r\n\r\n        binding.QuestionNumber.setText(questionNumber + &quot;/&quot; + questionArrayList.size());\r\n    }\r\n        }\r\n&#39;&#39;&#39;\r\n\r\n\r\n\r\nMy shake.xml code:\r\n\r\n&#39;&#39;&#39;\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;rotate xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:duration=&quot;150&quot;\r\n        android:fromDegrees=&quot;-10&quot;\r\n        android:pivotX=&quot;10%&quot;\r\n        android:pivotY=&quot;10%&quot;\r\n        android:repeatCount=&quot;1&quot;\r\n        android:repeatMode=&quot;reverse&quot;\r\n        android:toDegrees=&quot;10&quot;\r\n    /&gt;","title":"Shake animation does not appear on the app","body":"<p>I am new in android. So I tried to apply shake animation for wrong answers in a quiz app. But it does not work. I also checked similar questions on this website but I could not find my\nmistake on my code. In terms of syntax, I guess everything is correct. Could you please help me on this?</p>\n<p>'''</p>\n<pre><code>package com.example.trivaapp;\n\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.databinding.DataBindingUtil;\n\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.view.View;\nimport android.view.animation.Animation;\nimport android.view.animation.AnimationUtils;\nimport android.widget.Toast;\nimport com.example.trivaapp.data.Repository;\n\nimport com.example.trivaapp.databinding.ActivityMainBinding;\nimport com.example.trivaapp.model.Question;\nimport java.util.List;\n\npublic class MainActivity extends AppCompatActivity{\n\nList&lt;Question&gt; questionArrayList;\n\nActivityMainBinding binding;\nint questionNumber = 0;\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n\n    super.onCreate(savedInstanceState);\n\n    setContentView(R.layout.activity_main);\n\n    binding = DataBindingUtil.setContentView(this, R.layout.activity_main);\n\n    questionArrayList = new Repository().getQuestionList(az -&gt;{\n\n        binding.questionText.setText(az.get(questionNumber).getAnswer());\n\n        binding.QuestionNumber.setText(questionNumber + &quot;/&quot; + az.size());\n    });\n    binding.trueButton.setOnClickListener(view -&gt; {\n\n        if(true == questionArrayList.get(questionNumber).isTruenswer()){\n            Toast.makeText(MainActivity.this, R.string.correct, Toast.LENGTH_SHORT).show();\n        }\n        else{\n            Toast.makeText(MainActivity.this, R.string.incorrect, Toast.LENGTH_SHORT).show();\n            ShakeAnimation();\n        }\n    });\n\n    binding.falseButton.setOnClickListener(view -&gt; {\n\n        if(false == questionArrayList.get(questionNumber).isTruenswer()){\n            Toast.makeText(MainActivity.this, R.string.correct, Toast.LENGTH_SHORT).show();\n        }\n        else{\n            Toast.makeText(MainActivity.this, R.string.incorrect, Toast.LENGTH_SHORT).show();\n            ShakeAnimation();\n        }\n    });\n}\n\nprivate void ShakeAnimation() {\n    Animation shakeAnimation = AnimationUtils.loadAnimation(MainActivity.this, R.anim.shake);\n    binding.cardView.setAnimation(shakeAnimation);\n}\n\npublic void Next(View view) {\n    questionNumber = (questionNumber &lt; questionArrayList.size()) ? ++questionNumber : questionNumber;\n\n\n    binding.questionText.setText(questionArrayList.get(questionNumber).getAnswer());\n\n    binding.QuestionNumber.setText(questionNumber + &quot;/&quot; + questionArrayList.size());\n}\n    }\n</code></pre>\n<p>'''</p>\n<p>My shake.xml code:</p>\n<p>'''</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;rotate xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:duration=&quot;150&quot;\n    android:fromDegrees=&quot;-10&quot;\n    android:pivotX=&quot;10%&quot;\n    android:pivotY=&quot;10%&quot;\n    android:repeatCount=&quot;1&quot;\n    android:repeatMode=&quot;reverse&quot;\n    android:toDegrees=&quot;10&quot;\n/&gt;\n</code></pre>\n"},{"tags":["python","java","pyspark","apache-spark-sql","collect"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1656971550,"post_id":72861743,"comment_id":128694928,"body_markdown":"`[Errno 111] Connection refused` - The server you are trying to connect to is not running, or is not running on that port.","body":"<code>[Errno 111] Connection refused</code> - The server you are trying to connect to is not running, or is not running on that port."},{"owner":{"account_id":14822130,"reputation":853,"user_id":10994166,"display_name":"Chris_007"},"score":0,"creation_date":1656975502,"post_id":72861743,"comment_id":128695532,"body_markdown":"@JimGarrison when I load the different file in same place, it&#39;s running fine, it&#39;s just this file which is throwing error.","body":"@JimGarrison when I load the different file in same place, it&#39;s running fine, it&#39;s just this file which is throwing error."}],"owner":{"account_id":14822130,"reputation":853,"user_id":10994166,"display_name":"Chris_007"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1710,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1656966471,"creation_date":1656966471,"question_id":72861743,"body_markdown":"I have pyspark dataframe like this:\r\n\r\n```\r\nx     y\r\n656  78\r\n766  87\r\n677  63\r\n.    .\r\n.    .\r\n.    .\r\n```\r\nWhere I have around 72 million rows. Now I want to plot histogram for this pyspark df for column ```y```.\r\nI have tried ```collect()``` and ```toPandas()```.\r\nBut ```collect``` method is throwing error.\r\n\r\n```\r\n[val.y for val in df.select(&#39;y&#39;).collect()]\r\n\r\nOut:\r\nERROR:root:Exception while sending command.\r\nTraceback (most recent call last):\r\n  File &quot;/opt/lib/bfdms-ien/dp1.5/lib/spark-2.4.8-bin-hadoop2.7/python/lib/py4j-0.10.7-src.zip/py4j/java_gateway.py&quot;, line 1159, in send_command\r\n    raise Py4JNetworkError(&quot;Answer from Java side is empty&quot;)\r\npy4j.protocol.Py4JNetworkError: Answer from Java side is empty\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File &quot;/opt/lib/bfdms-ien/dp1.5/lib/spark-2.4.8-bin-hadoop2.7/python/lib/py4j-0.10.7-src.zip/py4j/java_gateway.py&quot;, line 985, in send_command\r\n    response = connection.send_command(command)\r\n  File &quot;/opt/lib/bfdms-ien/dp1.5/lib/spark-2.4.8-bin-hadoop2.7/python/lib/py4j-0.10.7-src.zip/py4j/java_gateway.py&quot;, line 1164, in send_command\r\n    &quot;Error while receiving&quot;, e, proto.ERROR_ON_RECEIVE)\r\npy4j.protocol.Py4JNetworkError: Error while receiving\r\nERROR:py4j.java_gateway:An error occurred while trying to connect to the Java server (127.0.0.1:32778)\r\nTraceback (most recent call last):\r\n  File &quot;/opt/lib/bfdms-ien/dp1.5/lib/spark-2.4.8-bin-hadoop2.7/python/pyspark/sql/dataframe.py&quot;, line 535, in collect\r\n    sock_info = self._jdf.collectToPython()\r\n  File &quot;/opt/lib/bfdms-ien/dp1.5/lib/spark-2.4.8-bin-hadoop2.7/python/lib/py4j-0.10.7-src.zip/py4j/java_gateway.py&quot;, line 1257, in __call__\r\n    answer, self.gateway_client, self.target_id, self.name)\r\n  File &quot;/opt/lib/bfdms-ien/dp1.5/lib/spark-2.4.8-bin-hadoop2.7/python/pyspark/sql/utils.py&quot;, line 63, in deco\r\n    return f(*a, **kw)\r\n  File &quot;/opt/lib/bfdms-ien/dp1.5/lib/spark-2.4.8-bin-hadoop2.7/python/lib/py4j-0.10.7-src.zip/py4j/protocol.py&quot;, line 336, in get_return_value\r\n    format(target_id, &quot;.&quot;, name))\r\npy4j.protocol.Py4JError: An error occurred while calling o180.collectToPython\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File &quot;/opt/lib/bfdms-ien/dp1.5/lib/spark-2.4.8-bin-hadoop2.7/python/lib/py4j-0.10.7-src.zip/py4j/java_gateway.py&quot;, line 929, in _get_connection\r\n    connection = self.deque.pop()\r\nIndexError: pop from an empty deque\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File &quot;/opt/lib/bfdms-ien/dp1.5/lib/spark-2.4.8-bin-hadoop2.7/python/lib/py4j-0.10.7-src.zip/py4j/java_gateway.py&quot;, line 1067, in start\r\n    self.socket.connect((self.address, self.port))\r\nConnectionRefusedError: [Errno 111] Connection refused\r\n---------------------------------------------------------------------------\r\nPy4JError                                 Traceback (most recent call last)\r\n/opt/lib/bfdms-ien/dp1.5/lib/spark-2.4.8-bin-hadoop2.7/python/pyspark/sql/dataframe.py in collect(self)\r\n    534         with SCCallSiteSync(self._sc) as css:\r\n--&gt; 535             sock_info = self._jdf.collectToPython()\r\n    536         return list(_load_from_socket(sock_info, BatchedSerializer(PickleSerializer())))\r\n\r\n/opt/lib/bfdms-ien/dp1.5/lib/spark-2.4.8-bin-hadoop2.7/python/lib/py4j-0.10.7-src.zip/py4j/java_gateway.py in __call__(self, *args)\r\n   1256         return_value = get_return_value(\r\n-&gt; 1257             answer, self.gateway_client, self.target_id, self.name)\r\n   1258 \r\n\r\n/opt/lib/bfdms-ien/dp1.5/lib/spark-2.4.8-bin-hadoop2.7/python/pyspark/sql/utils.py in deco(*a, **kw)\r\n     62         try:\r\n---&gt; 63             return f(*a, **kw)\r\n     64         except py4j.protocol.Py4JJavaError as e:\r\n\r\n/opt/lib/bfdms-ien/dp1.5/lib/spark-2.4.8-bin-hadoop2.7/python/lib/py4j-0.10.7-src.zip/py4j/protocol.py in get_return_value(answer, gateway_client, target_id, name)\r\n    335                 &quot;An error occurred while calling {0}{1}{2}&quot;.\r\n--&gt; 336                 format(target_id, &quot;.&quot;, name))\r\n    337     else:\r\n\r\nPy4JError: An error occurred while calling o180.collectToPython\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nIndexError                                Traceback (most recent call last)\r\n/opt/lib/bfdms-ien/dp1.5/lib/spark-2.4.8-bin-hadoop2.7/python/lib/py4j-0.10.7-src.zip/py4j/java_gateway.py in _get_connection(self)\r\n    928         try:\r\n--&gt; 929             connection = self.deque.pop()\r\n    930         except IndexError:\r\n\r\nIndexError: pop from an empty deque\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nConnectionRefusedError                    Traceback (most recent call last)\r\n/opt/lib/bfdms-ien/dp1.5/lib/spark-2.4.8-bin-hadoop2.7/python/lib/py4j-0.10.7-src.zip/py4j/java_gateway.py in start(self)\r\n   1066         try:\r\n-&gt; 1067             self.socket.connect((self.address, self.port))\r\n   1068             self.stream = self.socket.makefile(&quot;rb&quot;)\r\n\r\nConnectionRefusedError: [Errno 111] Connection refused\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nPy4JNetworkError                          Traceback (most recent call last)\r\n/tmp/ipykernel_29360/1990936990.py in &lt;module&gt;\r\n----&gt; 1 non_routine_saving = [val.savingsPercent for val in non_routine.select(&#39;savingsPercent&#39;).collect()]\r\n\r\n/opt/lib/bfdms-ien/dp1.5/lib/spark-2.4.8-bin-hadoop2.7/python/pyspark/sql/dataframe.py in collect(self)\r\n    533         &quot;&quot;&quot;\r\n    534         with SCCallSiteSync(self._sc) as css:\r\n--&gt; 535             sock_info = self._jdf.collectToPython()\r\n    536         return list(_load_from_socket(sock_info, BatchedSerializer(PickleSerializer())))\r\n    537 \r\n\r\n/opt/lib/bfdms-ien/dp1.5/lib/spark-2.4.8-bin-hadoop2.7/python/pyspark/traceback_utils.py in __exit__(self, type, value, tb)\r\n     76         SCCallSiteSync._spark_stack_depth -= 1\r\n     77         if SCCallSiteSync._spark_stack_depth == 0:\r\n---&gt; 78             self._context._jsc.setCallSite(None)\r\n\r\n/opt/lib/bfdms-ien/dp1.5/lib/spark-2.4.8-bin-hadoop2.7/python/lib/py4j-0.10.7-src.zip/py4j/java_gateway.py in __call__(self, *args)\r\n   1253             proto.END_COMMAND_PART\r\n   1254 \r\n-&gt; 1255         answer = self.gateway_client.send_command(command)\r\n   1256         return_value = get_return_value(\r\n   1257             answer, self.gateway_client, self.target_id, self.name)\r\n\r\n/opt/lib/bfdms-ien/dp1.5/lib/spark-2.4.8-bin-hadoop2.7/python/lib/py4j-0.10.7-src.zip/py4j/java_gateway.py in send_command(self, command, retry, binary)\r\n    981          if `binary` is `True`.\r\n    982         &quot;&quot;&quot;\r\n--&gt; 983         connection = self._get_connection()\r\n    984         try:\r\n    985             response = connection.send_command(command)\r\n\r\n/opt/lib/bfdms-ien/dp1.5/lib/spark-2.4.8-bin-hadoop2.7/python/lib/py4j-0.10.7-src.zip/py4j/java_gateway.py in _get_connection(self)\r\n    929             connection = self.deque.pop()\r\n    930         except IndexError:\r\n--&gt; 931             connection = self._create_connection()\r\n    932         return connection\r\n    933 \r\n\r\n/opt/lib/bfdms-ien/dp1.5/lib/spark-2.4.8-bin-hadoop2.7/python/lib/py4j-0.10.7-src.zip/py4j/java_gateway.py in _create_connection(self)\r\n    935         connection = GatewayConnection(\r\n    936             self.gateway_parameters, self.gateway_property)\r\n--&gt; 937         connection.start()\r\n    938         return connection\r\n    939 \r\n\r\n/opt/lib/bfdms-ien/dp1.5/lib/spark-2.4.8-bin-hadoop2.7/python/lib/py4j-0.10.7-src.zip/py4j/java_gateway.py in start(self)\r\n   1077                 &quot;server ({0}:{1})&quot;.format(self.address, self.port)\r\n   1078             logger.exception(msg)\r\n-&gt; 1079             raise Py4JNetworkError(msg, e)\r\n   1080 \r\n   1081     def _authenticate_connection(self):\r\n\r\nPy4JNetworkError: An error occurred while trying to connect to the Java server (127.0.0.1:32778)\r\n```\r\n\r\nSpark Config:\r\n```\r\nfrom __future__ import print_function\r\nfrom platform import python_version\r\nimport os\r\n\r\nimport numpy as np\r\nimport matplotlib.pyplot as plt\r\nimport pandas as pd\r\nimport numpy as np\r\nimport json\r\nimport csv\r\nimport pickle as pkl\r\nimport seaborn as sns\r\nimport plotly.express as px\r\nfrom datetime import date, datetime, timedelta\r\n\r\nimport findspark\r\nfindspark.init()\r\n\r\nfrom pyspark import SparkConf\r\nfrom pyspark.sql import SparkSession\r\nimport pyspark.sql.types as T\r\nfrom pyspark.sql import functions as f\r\nfrom pyspark.sql.functions import col, countDistinct\r\n\r\n\r\nfrom pyspark.sql.window import Window\r\n\r\npd.set_option(&#39;display.max_columns&#39;, None)\r\n\r\n# Constants for application\r\nAPPLICATION_NAME = &quot;p13n_data_introduction&quot;\r\nCHECKPOINT_DIRECTORY = &quot;gs://p13n-storage2/user/s1b0jec&quot;\r\n\r\nspark_config = {}\r\nspark_config[&quot;spark.executor.memory&quot;] = &quot;32G&quot;\r\n# spark_config[&quot;spark.executor.memoryOverhead&quot;] = &quot;4G&quot;\r\nspark_config[&quot;spark.executor.cores&quot;] = &quot;32&quot;\r\nspark_config[&quot;spark.driver.memory&quot;] = &quot;32G&quot;\r\n# spark_config[&quot;spark.shuffle.memoryFraction&quot;] = &quot;0&quot; \r\n\r\n\r\n# Executor config\r\nspark_config[&quot;spark.dyamicAllocation.enable&quot;] = &quot;true&quot;\r\nspark_config[&quot;spark.dynamicAllocation.minExecutors&quot;] = &quot;100&quot;\r\nspark_config[&quot;spark.dynamicAllocation.maxExecutors&quot;] = &quot;300&quot;\r\n\r\nspark_config[&quot;spark.submit.deployMode&quot;] = &quot;client&quot;\r\nspark_config[&quot;spark.hive.mapred.supports.subdirectories&quot;] = &quot;true&quot;\r\nspark_config[&quot;spark.yarn.queue&quot;] = &quot;default&quot;\r\nspark_config[&quot;spark.hadoop.mapreduce.input.fileinputformat.input.dir.recursive&quot;] = &quot;true&quot;\r\nspark_config[&quot;spark.hadoop.hive.exec.dynamic.partition&quot;] = &quot;true&quot;\r\nspark_config[&quot;spark.hadoop.hive.exec.dynamic.partition.mode&quot;] = &quot;nonstrict&quot;\r\nspark_config[&quot;spark.hadoop.hive.exec.max.dynamic.partitions.pernode&quot;] = &quot;100&quot;\r\n\r\nspark_config[&quot;spark.yarn.dist.archives&quot;] = &quot;gs://p13n-storage2/user/s1b0jec/envs/spark.zip#mypython&quot;\r\n# spark_config[&quot;spark.yarn.appMasterEnv.PYSPARK_PYTHON&quot;] = \r\n\r\n# spark_config[&quot;spark.yarn.appMasterEnv.PYSPARK_DRIVER_PYTHON&quot;] = &quot;python&quot; # For client mode it&#39;s the default `python` executable, whereas for cluster mode we use the distributed python environment\r\n\r\nos.environ[&#39;PYSPARK_PYTHON&#39;] = &quot;./mypython/spark/bin/python&quot;\r\nos.environ[&#39;PYSPARK_DRIVER_PYTHON&#39;] = &quot;python&quot;\r\n\r\nspark_config[&quot;spark.jars&quot;] = &quot;/opt/lib/bfdms-ien/dp1.5/lib/apache-hive-1.3.0-SNAPSHOT-bin/hcatalog/share/hcatalog/hive-hcatalog-core-1.3.0-SNAPSHOT.jar,/opt/lib/bfdms-ien/dp1.5/lib/spark-2.4.8-bin-hadoop2.7/jars/datanucleus-api-jdo-3.2.6.jar,/opt/lib/bfdms-ien/dp1.5/lib/spark-2.4.8-bin-hadoop2.7/jars/datanucleus-rdbms-3.2.9.jar,/opt/lib/bfdms-ien/dp1.5/lib/spark-2.4.8-bin-hadoop2.7/jars/datanucleus-core-3.2.10.jar&quot;\r\nspark_conf = SparkConf().setAll(spark_config.items())\r\n\r\n\r\nspark = SparkSession.builder.appName(APPLICATION_NAME) \\\r\n    .config(conf=spark_conf).enableHiveSupport().getOrCreate()\r\n\r\nprint(&quot;Spark session created: &quot;, spark.sparkContext.applicationId)\r\nspark.sparkContext.setCheckpointDir(CHECKPOINT_DIRECTORY)\r\n\r\nimport warnings\r\nwarnings.filterwarnings(&quot;ignore&quot;)\r\n```","title":"Py4JNetworkError: An error occurred while trying to connect to the Java server (127.0.0.1:32778)","body":"<p>I have pyspark dataframe like this:</p>\n<pre><code>x     y\n656  78\n766  87\n677  63\n.    .\n.    .\n.    .\n</code></pre>\n<p>Where I have around 72 million rows. Now I want to plot histogram for this pyspark df for column <code>y</code>.\nI have tried <code>collect()</code> and <code>toPandas()</code>.\nBut <code>collect</code> method is throwing error.</p>\n<pre><code>[val.y for val in df.select('y').collect()]\n\nOut:\nERROR:root:Exception while sending command.\nTraceback (most recent call last):\n  File &quot;/opt/lib/bfdms-ien/dp1.5/lib/spark-2.4.8-bin-hadoop2.7/python/lib/py4j-0.10.7-src.zip/py4j/java_gateway.py&quot;, line 1159, in send_command\n    raise Py4JNetworkError(&quot;Answer from Java side is empty&quot;)\npy4j.protocol.Py4JNetworkError: Answer from Java side is empty\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &quot;/opt/lib/bfdms-ien/dp1.5/lib/spark-2.4.8-bin-hadoop2.7/python/lib/py4j-0.10.7-src.zip/py4j/java_gateway.py&quot;, line 985, in send_command\n    response = connection.send_command(command)\n  File &quot;/opt/lib/bfdms-ien/dp1.5/lib/spark-2.4.8-bin-hadoop2.7/python/lib/py4j-0.10.7-src.zip/py4j/java_gateway.py&quot;, line 1164, in send_command\n    &quot;Error while receiving&quot;, e, proto.ERROR_ON_RECEIVE)\npy4j.protocol.Py4JNetworkError: Error while receiving\nERROR:py4j.java_gateway:An error occurred while trying to connect to the Java server (127.0.0.1:32778)\nTraceback (most recent call last):\n  File &quot;/opt/lib/bfdms-ien/dp1.5/lib/spark-2.4.8-bin-hadoop2.7/python/pyspark/sql/dataframe.py&quot;, line 535, in collect\n    sock_info = self._jdf.collectToPython()\n  File &quot;/opt/lib/bfdms-ien/dp1.5/lib/spark-2.4.8-bin-hadoop2.7/python/lib/py4j-0.10.7-src.zip/py4j/java_gateway.py&quot;, line 1257, in __call__\n    answer, self.gateway_client, self.target_id, self.name)\n  File &quot;/opt/lib/bfdms-ien/dp1.5/lib/spark-2.4.8-bin-hadoop2.7/python/pyspark/sql/utils.py&quot;, line 63, in deco\n    return f(*a, **kw)\n  File &quot;/opt/lib/bfdms-ien/dp1.5/lib/spark-2.4.8-bin-hadoop2.7/python/lib/py4j-0.10.7-src.zip/py4j/protocol.py&quot;, line 336, in get_return_value\n    format(target_id, &quot;.&quot;, name))\npy4j.protocol.Py4JError: An error occurred while calling o180.collectToPython\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &quot;/opt/lib/bfdms-ien/dp1.5/lib/spark-2.4.8-bin-hadoop2.7/python/lib/py4j-0.10.7-src.zip/py4j/java_gateway.py&quot;, line 929, in _get_connection\n    connection = self.deque.pop()\nIndexError: pop from an empty deque\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &quot;/opt/lib/bfdms-ien/dp1.5/lib/spark-2.4.8-bin-hadoop2.7/python/lib/py4j-0.10.7-src.zip/py4j/java_gateway.py&quot;, line 1067, in start\n    self.socket.connect((self.address, self.port))\nConnectionRefusedError: [Errno 111] Connection refused\n---------------------------------------------------------------------------\nPy4JError                                 Traceback (most recent call last)\n/opt/lib/bfdms-ien/dp1.5/lib/spark-2.4.8-bin-hadoop2.7/python/pyspark/sql/dataframe.py in collect(self)\n    534         with SCCallSiteSync(self._sc) as css:\n--&gt; 535             sock_info = self._jdf.collectToPython()\n    536         return list(_load_from_socket(sock_info, BatchedSerializer(PickleSerializer())))\n\n/opt/lib/bfdms-ien/dp1.5/lib/spark-2.4.8-bin-hadoop2.7/python/lib/py4j-0.10.7-src.zip/py4j/java_gateway.py in __call__(self, *args)\n   1256         return_value = get_return_value(\n-&gt; 1257             answer, self.gateway_client, self.target_id, self.name)\n   1258 \n\n/opt/lib/bfdms-ien/dp1.5/lib/spark-2.4.8-bin-hadoop2.7/python/pyspark/sql/utils.py in deco(*a, **kw)\n     62         try:\n---&gt; 63             return f(*a, **kw)\n     64         except py4j.protocol.Py4JJavaError as e:\n\n/opt/lib/bfdms-ien/dp1.5/lib/spark-2.4.8-bin-hadoop2.7/python/lib/py4j-0.10.7-src.zip/py4j/protocol.py in get_return_value(answer, gateway_client, target_id, name)\n    335                 &quot;An error occurred while calling {0}{1}{2}&quot;.\n--&gt; 336                 format(target_id, &quot;.&quot;, name))\n    337     else:\n\nPy4JError: An error occurred while calling o180.collectToPython\n\nDuring handling of the above exception, another exception occurred:\n\nIndexError                                Traceback (most recent call last)\n/opt/lib/bfdms-ien/dp1.5/lib/spark-2.4.8-bin-hadoop2.7/python/lib/py4j-0.10.7-src.zip/py4j/java_gateway.py in _get_connection(self)\n    928         try:\n--&gt; 929             connection = self.deque.pop()\n    930         except IndexError:\n\nIndexError: pop from an empty deque\n\nDuring handling of the above exception, another exception occurred:\n\nConnectionRefusedError                    Traceback (most recent call last)\n/opt/lib/bfdms-ien/dp1.5/lib/spark-2.4.8-bin-hadoop2.7/python/lib/py4j-0.10.7-src.zip/py4j/java_gateway.py in start(self)\n   1066         try:\n-&gt; 1067             self.socket.connect((self.address, self.port))\n   1068             self.stream = self.socket.makefile(&quot;rb&quot;)\n\nConnectionRefusedError: [Errno 111] Connection refused\n\nDuring handling of the above exception, another exception occurred:\n\nPy4JNetworkError                          Traceback (most recent call last)\n/tmp/ipykernel_29360/1990936990.py in &lt;module&gt;\n----&gt; 1 non_routine_saving = [val.savingsPercent for val in non_routine.select('savingsPercent').collect()]\n\n/opt/lib/bfdms-ien/dp1.5/lib/spark-2.4.8-bin-hadoop2.7/python/pyspark/sql/dataframe.py in collect(self)\n    533         &quot;&quot;&quot;\n    534         with SCCallSiteSync(self._sc) as css:\n--&gt; 535             sock_info = self._jdf.collectToPython()\n    536         return list(_load_from_socket(sock_info, BatchedSerializer(PickleSerializer())))\n    537 \n\n/opt/lib/bfdms-ien/dp1.5/lib/spark-2.4.8-bin-hadoop2.7/python/pyspark/traceback_utils.py in __exit__(self, type, value, tb)\n     76         SCCallSiteSync._spark_stack_depth -= 1\n     77         if SCCallSiteSync._spark_stack_depth == 0:\n---&gt; 78             self._context._jsc.setCallSite(None)\n\n/opt/lib/bfdms-ien/dp1.5/lib/spark-2.4.8-bin-hadoop2.7/python/lib/py4j-0.10.7-src.zip/py4j/java_gateway.py in __call__(self, *args)\n   1253             proto.END_COMMAND_PART\n   1254 \n-&gt; 1255         answer = self.gateway_client.send_command(command)\n   1256         return_value = get_return_value(\n   1257             answer, self.gateway_client, self.target_id, self.name)\n\n/opt/lib/bfdms-ien/dp1.5/lib/spark-2.4.8-bin-hadoop2.7/python/lib/py4j-0.10.7-src.zip/py4j/java_gateway.py in send_command(self, command, retry, binary)\n    981          if `binary` is `True`.\n    982         &quot;&quot;&quot;\n--&gt; 983         connection = self._get_connection()\n    984         try:\n    985             response = connection.send_command(command)\n\n/opt/lib/bfdms-ien/dp1.5/lib/spark-2.4.8-bin-hadoop2.7/python/lib/py4j-0.10.7-src.zip/py4j/java_gateway.py in _get_connection(self)\n    929             connection = self.deque.pop()\n    930         except IndexError:\n--&gt; 931             connection = self._create_connection()\n    932         return connection\n    933 \n\n/opt/lib/bfdms-ien/dp1.5/lib/spark-2.4.8-bin-hadoop2.7/python/lib/py4j-0.10.7-src.zip/py4j/java_gateway.py in _create_connection(self)\n    935         connection = GatewayConnection(\n    936             self.gateway_parameters, self.gateway_property)\n--&gt; 937         connection.start()\n    938         return connection\n    939 \n\n/opt/lib/bfdms-ien/dp1.5/lib/spark-2.4.8-bin-hadoop2.7/python/lib/py4j-0.10.7-src.zip/py4j/java_gateway.py in start(self)\n   1077                 &quot;server ({0}:{1})&quot;.format(self.address, self.port)\n   1078             logger.exception(msg)\n-&gt; 1079             raise Py4JNetworkError(msg, e)\n   1080 \n   1081     def _authenticate_connection(self):\n\nPy4JNetworkError: An error occurred while trying to connect to the Java server (127.0.0.1:32778)\n</code></pre>\n<p>Spark Config:</p>\n<pre><code>from __future__ import print_function\nfrom platform import python_version\nimport os\n\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport pandas as pd\nimport numpy as np\nimport json\nimport csv\nimport pickle as pkl\nimport seaborn as sns\nimport plotly.express as px\nfrom datetime import date, datetime, timedelta\n\nimport findspark\nfindspark.init()\n\nfrom pyspark import SparkConf\nfrom pyspark.sql import SparkSession\nimport pyspark.sql.types as T\nfrom pyspark.sql import functions as f\nfrom pyspark.sql.functions import col, countDistinct\n\n\nfrom pyspark.sql.window import Window\n\npd.set_option('display.max_columns', None)\n\n# Constants for application\nAPPLICATION_NAME = &quot;p13n_data_introduction&quot;\nCHECKPOINT_DIRECTORY = &quot;gs://p13n-storage2/user/s1b0jec&quot;\n\nspark_config = {}\nspark_config[&quot;spark.executor.memory&quot;] = &quot;32G&quot;\n# spark_config[&quot;spark.executor.memoryOverhead&quot;] = &quot;4G&quot;\nspark_config[&quot;spark.executor.cores&quot;] = &quot;32&quot;\nspark_config[&quot;spark.driver.memory&quot;] = &quot;32G&quot;\n# spark_config[&quot;spark.shuffle.memoryFraction&quot;] = &quot;0&quot; \n\n\n# Executor config\nspark_config[&quot;spark.dyamicAllocation.enable&quot;] = &quot;true&quot;\nspark_config[&quot;spark.dynamicAllocation.minExecutors&quot;] = &quot;100&quot;\nspark_config[&quot;spark.dynamicAllocation.maxExecutors&quot;] = &quot;300&quot;\n\nspark_config[&quot;spark.submit.deployMode&quot;] = &quot;client&quot;\nspark_config[&quot;spark.hive.mapred.supports.subdirectories&quot;] = &quot;true&quot;\nspark_config[&quot;spark.yarn.queue&quot;] = &quot;default&quot;\nspark_config[&quot;spark.hadoop.mapreduce.input.fileinputformat.input.dir.recursive&quot;] = &quot;true&quot;\nspark_config[&quot;spark.hadoop.hive.exec.dynamic.partition&quot;] = &quot;true&quot;\nspark_config[&quot;spark.hadoop.hive.exec.dynamic.partition.mode&quot;] = &quot;nonstrict&quot;\nspark_config[&quot;spark.hadoop.hive.exec.max.dynamic.partitions.pernode&quot;] = &quot;100&quot;\n\nspark_config[&quot;spark.yarn.dist.archives&quot;] = &quot;gs://p13n-storage2/user/s1b0jec/envs/spark.zip#mypython&quot;\n# spark_config[&quot;spark.yarn.appMasterEnv.PYSPARK_PYTHON&quot;] = \n\n# spark_config[&quot;spark.yarn.appMasterEnv.PYSPARK_DRIVER_PYTHON&quot;] = &quot;python&quot; # For client mode it's the default `python` executable, whereas for cluster mode we use the distributed python environment\n\nos.environ['PYSPARK_PYTHON'] = &quot;./mypython/spark/bin/python&quot;\nos.environ['PYSPARK_DRIVER_PYTHON'] = &quot;python&quot;\n\nspark_config[&quot;spark.jars&quot;] = &quot;/opt/lib/bfdms-ien/dp1.5/lib/apache-hive-1.3.0-SNAPSHOT-bin/hcatalog/share/hcatalog/hive-hcatalog-core-1.3.0-SNAPSHOT.jar,/opt/lib/bfdms-ien/dp1.5/lib/spark-2.4.8-bin-hadoop2.7/jars/datanucleus-api-jdo-3.2.6.jar,/opt/lib/bfdms-ien/dp1.5/lib/spark-2.4.8-bin-hadoop2.7/jars/datanucleus-rdbms-3.2.9.jar,/opt/lib/bfdms-ien/dp1.5/lib/spark-2.4.8-bin-hadoop2.7/jars/datanucleus-core-3.2.10.jar&quot;\nspark_conf = SparkConf().setAll(spark_config.items())\n\n\nspark = SparkSession.builder.appName(APPLICATION_NAME) \\\n    .config(conf=spark_conf).enableHiveSupport().getOrCreate()\n\nprint(&quot;Spark session created: &quot;, spark.sparkContext.applicationId)\nspark.sparkContext.setCheckpointDir(CHECKPOINT_DIRECTORY)\n\nimport warnings\nwarnings.filterwarnings(&quot;ignore&quot;)\n</code></pre>\n"},{"tags":["java","intellij-idea"],"answers":[{"tags":[],"owner":{"account_id":79673,"reputation":40911,"user_id":225757,"accept_rate":72,"display_name":"Roland Illig"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1656966459,"creation_date":1656959102,"answer_id":72860749,"question_id":72860537,"body_markdown":"These empty lines you see are placeholders for additional information about the code in the editor. They are called &#39;Inlay Hints&#39; and you can configure them in the Settings dialog.\r\n\r\nIf they are non-empty, these lines may look like this:\r\n\r\n[![Non-empty inlay hint][1]][1]\r\n\r\nThat these lines appear as empty placeholders is indeed irritating. &lt;strike&gt;Maybe it will be fixed&lt;/strike&gt; [It is already fixed](https://youtrack.jetbrains.com/issue/IDEA-297058/Code-vision-hints-give-an-impression-of-yet-another-empty-line-between-members) in 2022.2.\r\n\r\n  [1]: https://i.stack.imgur.com/CZ7kC.png","title":"Intellij changing line spacing automatically","body":"<p>These empty lines you see are placeholders for additional information about the code in the editor. They are called 'Inlay Hints' and you can configure them in the Settings dialog.</p>\n<p>If they are non-empty, these lines may look like this:</p>\n<p><a href=\"https://i.stack.imgur.com/CZ7kC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CZ7kC.png\" alt=\"Non-empty inlay hint\" /></a></p>\n<p>That these lines appear as empty placeholders is indeed irritating. <strike>Maybe it will be fixed</strike> <a href=\"https://youtrack.jetbrains.com/issue/IDEA-297058/Code-vision-hints-give-an-impression-of-yet-another-empty-line-between-members\" rel=\"nofollow noreferrer\">It is already fixed</a> in 2022.2.</p>\n"},{"tags":[],"owner":{"account_id":25354128,"reputation":3100,"user_id":19170534,"display_name":"Andreas Violaris"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1656960355,"creation_date":1656959493,"answer_id":72860797,"question_id":72860537,"body_markdown":"It&#39;s a known issue that the `JetBrains` team claims has been resolved.\r\nThe fix is available in version `2022.2 EAP 1`, as indicated in the [relevant ticket][1].\r\n\r\nBecause this is an early access version, you have to install it from `JetBrains Toolbox` (at your own risk), following the steps below: \r\n\r\n[![enter image description here][2]][2]\r\n\r\nOtherwise you can wait until it is released as a stable version.\r\n\r\n\r\n  [1]: https://youtrack.jetbrains.com/issue/IDEA-291945/Spurious-un-cursorable-white-line-between-javadoc-and-method\r\n  [2]: https://i.stack.imgur.com/nFN6O.png","title":"Intellij changing line spacing automatically","body":"<p>It's a known issue that the <code>JetBrains</code> team claims has been resolved.\nThe fix is available in version <code>2022.2 EAP 1</code>, as indicated in the <a href=\"https://youtrack.jetbrains.com/issue/IDEA-291945/Spurious-un-cursorable-white-line-between-javadoc-and-method\" rel=\"noreferrer\">relevant ticket</a>.</p>\n<p>Because this is an early access version, you have to install it from <code>JetBrains Toolbox</code> (at your own risk), following the steps below:</p>\n<p><a href=\"https://i.stack.imgur.com/nFN6O.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/nFN6O.png\" alt=\"enter image description here\" /></a></p>\n<p>Otherwise you can wait until it is released as a stable version.</p>\n"}],"owner":{"account_id":450931,"reputation":1641,"user_id":846535,"accept_rate":33,"display_name":"marcellorvalle"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":283,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":72860749,"answer_count":2,"score":5,"last_activity_date":1656966459,"creation_date":1656957698,"question_id":72860537,"body_markdown":"I have recently migrated to Intellij 2022.1.2 and sometimes the IDE will just change the line spacing randomly between different code sections: annotation / function definition, imports / class definition etc.\r\n\r\nThis behavior seems to be very erratic, sometimes I just restart the IDE and all lines are ok again, sometimes the changes are persistent.\r\n\r\nHere is an example:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\nThis is a little bit irritating. Is there any way to disable it?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/BCCcp.png\r\n  [2]: https://i.stack.imgur.com/tQ2NH.png","title":"Intellij changing line spacing automatically","body":"<p>I have recently migrated to Intellij 2022.1.2 and sometimes the IDE will just change the line spacing randomly between different code sections: annotation / function definition, imports / class definition etc.</p>\n<p>This behavior seems to be very erratic, sometimes I just restart the IDE and all lines are ok again, sometimes the changes are persistent.</p>\n<p>Here is an example:</p>\n<p><a href=\"https://i.stack.imgur.com/BCCcp.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/BCCcp.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/tQ2NH.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/tQ2NH.png\" alt=\"enter image description here\" /></a></p>\n<p>This is a little bit irritating. Is there any way to disable it?</p>\n"},{"tags":["java","arraylist","save"],"comments":[{"owner":{"account_id":65789,"reputation":14127,"user_id":193376,"accept_rate":98,"display_name":"Pez Cuckow"},"score":1,"creation_date":1354713014,"post_id":13723940,"comment_id":18852338,"body_markdown":"Where&#39;s the printProps method?","body":"Where&#39;s the printProps method?"},{"owner":{"account_id":1382821,"reputation":1037,"user_id":1315476,"accept_rate":88,"display_name":"htz"},"score":0,"creation_date":1354713062,"post_id":13723940,"comment_id":18852364,"body_markdown":"Without the printProps method we can not help you","body":"Without the printProps method we can not help you"}],"answers":[{"tags":[],"owner":{"account_id":1246269,"reputation":3386,"user_id":1207655,"accept_rate":83,"display_name":"Martin Wilson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1354713301,"creation_date":1354713301,"answer_id":13724096,"question_id":13723940,"body_markdown":"In processProperty you are instantiating a new `Organize` object. Therefore, each Property (which you create for each row) is ending up in a different ArrayList (as the first element).\r\n\r\nOne solution would be to instantiate one `Organize` object before you start your loop and then pass this into your processProperty method as a parameter.","title":"Code is only saving one line of a text file to the array","body":"<p>In processProperty you are instantiating a new <code>Organize</code> object. Therefore, each Property (which you create for each row) is ending up in a different ArrayList (as the first element).</p>\n\n<p>One solution would be to instantiate one <code>Organize</code> object before you start your loop and then pass this into your processProperty method as a parameter.</p>\n"},{"tags":[],"owner":{"account_id":1382821,"reputation":1037,"user_id":1315476,"accept_rate":88,"display_name":"htz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1354713303,"creation_date":1354713303,"answer_id":13724098,"question_id":13723940,"body_markdown":"When one line in your text file is an empty String, your while-loop will break.\r\n\r\nThis is the right way to implement the loop:\r\n\r\n    String line = &quot;&quot;;\r\n    while ((line = reader.readLine()) != null) {\r\n        // your code here\r\n    }","title":"Code is only saving one line of a text file to the array","body":"<p>When one line in your text file is an empty String, your while-loop will break.</p>\n\n<p>This is the right way to implement the loop:</p>\n\n<pre><code>String line = \"\";\nwhile ((line = reader.readLine()) != null) {\n    // your code here\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25722964,"reputation":1,"user_id":19479741,"display_name":"Nasih"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656965619,"creation_date":1656965619,"answer_id":72861628,"question_id":13723940,"body_markdown":"In processProperty you are instantiating a new Organize object. Therefore, each Property (which you create for each row) is ending up in a different ArrayList (as the first element).\r\n\r\nOne solution would be to instantiate one Organize object before you start your loop and then pass this into your processProperty method as a parameter.\r\n\r\n    String line = &quot;&quot;;\r\n    while ((line = reader.readLine()) != null) {\r\n    // your code here\r\n    }","title":"Code is only saving one line of a text file to the array","body":"<p>In processProperty you are instantiating a new Organize object. Therefore, each Property (which you create for each row) is ending up in a different ArrayList (as the first element).</p>\n<p>One solution would be to instantiate one Organize object before you start your loop and then pass this into your processProperty method as a parameter.</p>\n<pre><code>String line = &quot;&quot;;\nwhile ((line = reader.readLine()) != null) {\n// your code here\n}\n</code></pre>\n"}],"owner":{"account_id":2114505,"reputation":15,"user_id":1879092,"display_name":"Charlie Adair"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":238,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":13724096,"answer_count":3,"score":1,"last_activity_date":1656965619,"creation_date":1354712853,"question_id":13723940,"body_markdown":"The code I have produced is meant to provide functionality of reading a text file line by line, saving each line into an array. It seems to read in each line correctly but when I use the printProps() method it only displays one...\r\n\r\nCode is only saving one line of a text file to the array, what&#39;s wrong with my code? \r\n\r\n\r\n    /*reading in each line of text from text file and passing it to the processProperty() method.*/\r\n    Public void readProperties(String filename) {\r\n\t\ttry {\r\n\t\t\tBufferedReader reader = new BufferedReader(new FileReader(filename));\r\n\t\t\tint i = 0;\r\n\t\t\tString line;\r\n\t\t\tline = reader.readLine();\r\n\t\t\twhile (line != null &amp;&amp; !line.equals(&quot;&quot;)) {\r\n\t\t\t\ti++;\r\n\t\t\t\tprocessProperty(line);\r\n\t\t\t\tline = reader.readLine();\r\n\t\t\t}\r\n\t\t\tSystem.out.println(&quot;&quot; + i + &quot; properties read&quot;);\r\n\t\t} catch (Exception e) {\r\n\t\t\tSystem.err.println(e.getMessage());\r\n\t\t\te.printStackTrace();\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n\r\n    /*Breaks up the line of text in order to save the value to an array (at this point it only saves one line to the array). org.newProp(newProp) passes the new property to the Organize class where it saves it to an array.\r\n    \r\n    public void processProperty(String line) {\r\n    \t\t org = new Organize();\r\n    \t\tint id = nextPropertyID;\r\n    \t\tnextPropertyID++;\r\n    \t\t\r\n    \t\tString[] parts = line.split(&quot;:&quot;);\r\n    \t\tint propNo = Integer.parseInt(parts[0]);\t\t\t\r\n    \t\tString postcode = parts[1];\r\n    \t\tString type = parts[2];\r\n    \t\tint bedrooms = Integer.parseInt(parts[3]);\r\n    \t\tint year = Integer.parseInt(parts[4]);\r\n    \t\tint rental = Integer.parseInt(parts[5]);\r\n    \t\tLandlord landlord = theLandlord;\r\n    \t\tTenant tenant = null;\r\n    \t\torg.propUniqueCheck(id);\r\n    \t\tpropNoCheck(propNo, postcode);\r\n    \t\tpostcodeCheck(postcode,propNo);\r\n    \t\ttypeCheck(postcode, propNo, type);\r\n    \t\tbedroomsCheck(bedrooms, postcode, propNo);\r\n    \t\tyearCheck(propNo, postcode, year);\r\n    \t\tSystem.out.println(&quot;Creating property &quot; + id);\r\n    \t\t\r\n    \t\tProperty newProp = new Property(id, propNo, postcode, type, bedrooms, year,\r\n    \t\t\t\trental, landlord, tenant);\r\n    \t\torg.newProp(newProp);\r\n    \t\torg.printProps();\r\n    \t}\r\n    \r\n    /*From here down it is the code to save the value to the array*/\r\n    \r\n    public Organize() {\r\n    \t\tprops = new ArrayList&lt;Property&gt;();\r\n    \t\tPTs = new ArrayList&lt;PotentialTenant&gt;(); \r\n    \t\twaitingList = new LinkedList&lt;String&gt;();\r\n    \t\t//myList.add(new prop(Property.toString()));\r\n    \t\t\r\n    \t}\r\n    \tpublic void newProp(Property p)\r\n    \t{\r\n    \t\tprops.add(p);\r\n    \t}\r\n    \r\n    \r\nI have actively been seeking help in my seminar with this problem and I can&#39;t seem to find a solution, any advice would be very much appreciated!\r\n\r\n","title":"Code is only saving one line of a text file to the array","body":"<p>The code I have produced is meant to provide functionality of reading a text file line by line, saving each line into an array. It seems to read in each line correctly but when I use the printProps() method it only displays one...</p>\n\n<p>Code is only saving one line of a text file to the array, what's wrong with my code? </p>\n\n<pre><code>/*reading in each line of text from text file and passing it to the processProperty() method.*/\nPublic void readProperties(String filename) {\n    try {\n        BufferedReader reader = new BufferedReader(new FileReader(filename));\n        int i = 0;\n        String line;\n        line = reader.readLine();\n        while (line != null &amp;&amp; !line.equals(\"\")) {\n            i++;\n            processProperty(line);\n            line = reader.readLine();\n        }\n        System.out.println(\"\" + i + \" properties read\");\n    } catch (Exception e) {\n        System.err.println(e.getMessage());\n        e.printStackTrace();\n\n    }\n}\n\n/*Breaks up the line of text in order to save the value to an array (at this point it only saves one line to the array). org.newProp(newProp) passes the new property to the Organize class where it saves it to an array.\n\npublic void processProperty(String line) {\n         org = new Organize();\n        int id = nextPropertyID;\n        nextPropertyID++;\n\n        String[] parts = line.split(\":\");\n        int propNo = Integer.parseInt(parts[0]);            \n        String postcode = parts[1];\n        String type = parts[2];\n        int bedrooms = Integer.parseInt(parts[3]);\n        int year = Integer.parseInt(parts[4]);\n        int rental = Integer.parseInt(parts[5]);\n        Landlord landlord = theLandlord;\n        Tenant tenant = null;\n        org.propUniqueCheck(id);\n        propNoCheck(propNo, postcode);\n        postcodeCheck(postcode,propNo);\n        typeCheck(postcode, propNo, type);\n        bedroomsCheck(bedrooms, postcode, propNo);\n        yearCheck(propNo, postcode, year);\n        System.out.println(\"Creating property \" + id);\n\n        Property newProp = new Property(id, propNo, postcode, type, bedrooms, year,\n                rental, landlord, tenant);\n        org.newProp(newProp);\n        org.printProps();\n    }\n\n/*From here down it is the code to save the value to the array*/\n\npublic Organize() {\n        props = new ArrayList&lt;Property&gt;();\n        PTs = new ArrayList&lt;PotentialTenant&gt;(); \n        waitingList = new LinkedList&lt;String&gt;();\n        //myList.add(new prop(Property.toString()));\n\n    }\n    public void newProp(Property p)\n    {\n        props.add(p);\n    }\n</code></pre>\n\n<p>I have actively been seeking help in my seminar with this problem and I can't seem to find a solution, any advice would be very much appreciated!</p>\n"},{"tags":["java","json","jsonschema","everit"],"comments":[{"owner":{"account_id":8063342,"reputation":681,"user_id":6078268,"display_name":"vladtkachuk"},"score":0,"creation_date":1656963974,"post_id":72860981,"comment_id":128693258,"body_markdown":"are you sure it is supposed to work?","body":"are you sure it is supposed to work?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1656973375,"post_id":72860981,"comment_id":128695227,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":19397040,"reputation":3,"user_id":14184483,"display_name":"N1kk1"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656965273,"creation_date":1656965223,"answer_id":72861557,"question_id":72860981,"body_markdown":"I&#39;ve resolved the problem.\r\nInstead of ```.schemaJson(referenceSchema)``` there should be \r\n```\r\n.registerSchemaByURI(new URI(&quot;https://test.com/someRefSchema.json&quot;), referenceSchemaObject)\r\n.resolutionScope(&quot;https://test.com&quot;)\r\n````","title":"Everit schema dereferencing","body":"<p>I've resolved the problem.\nInstead of <code>.schemaJson(referenceSchema)</code> there should be</p>\n<pre><code>.registerSchemaByURI(new URI(&quot;https://test.com/someRefSchema.json&quot;), referenceSchemaObject)\n.resolutionScope(&quot;https://test.com&quot;)\n</code></pre>\n"}],"owner":{"account_id":19397040,"reputation":3,"user_id":14184483,"display_name":"N1kk1"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":223,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656965273,"creation_date":1656960918,"question_id":72860981,"body_markdown":"I have the following schema:\r\n```\r\nString schema = &quot;{\\n&quot; +\r\n  &quot;  \\&quot;$schema\\&quot;: \\&quot;http://json-schema.org/draft-07/schema#\\&quot;,\\n&quot; +\r\n  &quot;  \\&quot;$id\\&quot;: \\&quot;https://test.com/someSchema.json&quot;,\\n&quot; +\r\n  &quot;  \\&quot;title\\&quot;: \\&quot;test\\&quot;,\\n&quot; +\r\n  &quot;  \\&quot;description\\&quot;: \\&quot;test\\&quot;,\\n&quot; +\r\n  &quot;  \\&quot;type\\&quot;: \\&quot;object\\&quot;,\\n&quot; +\r\n  &quot;  \\&quot;properties\\&quot;: {\\n&quot; +\r\n  &quot;    \\&quot;message\\&quot;: {\\n&quot; +\r\n  .............\r\n  &quot;    },\\n&quot; +\r\n  &quot;    \\&quot;reference\\&quot;: {\\n&quot; +\r\n  &quot;      \\&quot;$ref\\&quot;: \\&quot;someRefSchema.json\\&quot;\\n&quot; +\r\n  &quot;    }\\n&quot; +\r\n  &quot;  },\\n&quot; +\r\n  &quot;}\\n&quot;;\r\n```\r\n\r\nAlso I have separated schema:\r\n```\r\nString referenceSchema = &quot;{\\n&quot; +\r\n  &quot;  \\&quot;$id\\&quot;: \\&quot;https://test.com/someRefSchema.json\\&quot;,\\n&quot; +\r\n  &quot;  \\&quot;$schema\\&quot;: \\&quot;http://json-schema.org/draft-07/schema#\\&quot;,\\n&quot; +\r\n  &quot;  \\&quot;title\\&quot;: \\&quot;test\\&quot;,\\n&quot; +\r\n  &quot;  \\&quot;description\\&quot;: \\&quot;test\\&quot;,\\n&quot; +\r\n  &quot;  \\&quot;type\\&quot;: \\&quot;object\\&quot;,\\n&quot; +\r\n  &quot;  \\&quot;properties\\&quot;: {\\n&quot; +\r\n  &quot;    \\&quot;message\\&quot;: {\\n&quot; +\r\n        .....\r\n  &quot;    },\\n&quot; +\r\n  &quot;}&quot;;\r\n```\r\n\r\nWhen I&#39;m trying to validate some object with this schema, using everit I get the following exception: ```Exception in thread &quot;main&quot; java.io.UncheckedIOException: java.io.FileNotFoundException: https://test.com/someRefSchema.json```\r\n\r\n```\r\nJSONObject schemaObject = new JSONObject(schema);\r\nJSONObject referenceSchemaObject = new JSONObject(referenceSchema);\r\nSchema schemaTarget = SchemaLoader.builder()\r\n        .draftV7Support()\r\n        .schemaJson(referenceSchema)\r\n        .schemaJson(schemaObject)\r\n        .build()\r\n        .load()\r\n        .build();\r\ntry {\r\n  schemaTarget.validate(new JSONObject(subject));\r\n} catch (ValidationException e) {\r\n  throw new ValidationException(schema, &quot;Error occurred: &quot; + e.getMessage(), e.getKeyword(), e.getSchemaLocation());\r\n}\r\n```\r\n\r\nI&#39;ve tried to add ```.resolutionScope(&quot;https://test.com/&quot;)``` but the result is the same.\r\nHow should I dereference inner schema correctly, which is located in separate JSON?","title":"Everit schema dereferencing","body":"<p>I have the following schema:</p>\n<pre><code>String schema = &quot;{\\n&quot; +\n  &quot;  \\&quot;$schema\\&quot;: \\&quot;http://json-schema.org/draft-07/schema#\\&quot;,\\n&quot; +\n  &quot;  \\&quot;$id\\&quot;: \\&quot;https://test.com/someSchema.json&quot;,\\n&quot; +\n  &quot;  \\&quot;title\\&quot;: \\&quot;test\\&quot;,\\n&quot; +\n  &quot;  \\&quot;description\\&quot;: \\&quot;test\\&quot;,\\n&quot; +\n  &quot;  \\&quot;type\\&quot;: \\&quot;object\\&quot;,\\n&quot; +\n  &quot;  \\&quot;properties\\&quot;: {\\n&quot; +\n  &quot;    \\&quot;message\\&quot;: {\\n&quot; +\n  .............\n  &quot;    },\\n&quot; +\n  &quot;    \\&quot;reference\\&quot;: {\\n&quot; +\n  &quot;      \\&quot;$ref\\&quot;: \\&quot;someRefSchema.json\\&quot;\\n&quot; +\n  &quot;    }\\n&quot; +\n  &quot;  },\\n&quot; +\n  &quot;}\\n&quot;;\n</code></pre>\n<p>Also I have separated schema:</p>\n<pre><code>String referenceSchema = &quot;{\\n&quot; +\n  &quot;  \\&quot;$id\\&quot;: \\&quot;https://test.com/someRefSchema.json\\&quot;,\\n&quot; +\n  &quot;  \\&quot;$schema\\&quot;: \\&quot;http://json-schema.org/draft-07/schema#\\&quot;,\\n&quot; +\n  &quot;  \\&quot;title\\&quot;: \\&quot;test\\&quot;,\\n&quot; +\n  &quot;  \\&quot;description\\&quot;: \\&quot;test\\&quot;,\\n&quot; +\n  &quot;  \\&quot;type\\&quot;: \\&quot;object\\&quot;,\\n&quot; +\n  &quot;  \\&quot;properties\\&quot;: {\\n&quot; +\n  &quot;    \\&quot;message\\&quot;: {\\n&quot; +\n        .....\n  &quot;    },\\n&quot; +\n  &quot;}&quot;;\n</code></pre>\n<p>When I'm trying to validate some object with this schema, using everit I get the following exception: <code>Exception in thread &quot;main&quot; java.io.UncheckedIOException: java.io.FileNotFoundException: https://test.com/someRefSchema.json</code></p>\n<pre><code>JSONObject schemaObject = new JSONObject(schema);\nJSONObject referenceSchemaObject = new JSONObject(referenceSchema);\nSchema schemaTarget = SchemaLoader.builder()\n        .draftV7Support()\n        .schemaJson(referenceSchema)\n        .schemaJson(schemaObject)\n        .build()\n        .load()\n        .build();\ntry {\n  schemaTarget.validate(new JSONObject(subject));\n} catch (ValidationException e) {\n  throw new ValidationException(schema, &quot;Error occurred: &quot; + e.getMessage(), e.getKeyword(), e.getSchemaLocation());\n}\n</code></pre>\n<p>I've tried to add <code>.resolutionScope(&quot;https://test.com/&quot;)</code> but the result is the same.\nHow should I dereference inner schema correctly, which is located in separate JSON?</p>\n"},{"tags":["java","spring","spring-integration"],"comments":[{"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1657028652,"post_id":72861527,"comment_id":128708394,"body_markdown":"Can we see, please, more stack trace to determine the place where you exactly got that ClassCast? Either way the error channel receives an `ErrorMessage` which payload is an `Exception`. So, I&#39;m not sure how you expect a `byte[]`...","body":"Can we see, please, more stack trace to determine the place where you exactly got that ClassCast? Either way the error channel receives an <code>ErrorMessage</code> which payload is an <code>Exception</code>. So, I&#39;m not sure how you expect a <code>byte[]</code>..."}],"owner":{"account_id":405181,"reputation":2782,"user_id":773921,"accept_rate":61,"display_name":"Rafael Carrillo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1656965019,"creation_date":1656965019,"question_id":72861527,"body_markdown":"I&#39;m having some issues with Spring Integration. \r\n\r\nI have an error channel that is supposed to consume an error dedicated queue in case other flows have an error, this handler allows us to log some important data in a very specific format, and then the message is discarded.\r\n\r\nThe problem is, that this flow is configured to receive a specific message type, like a FailedMessage class.\r\n\r\nWhenever the message is consumed, I get a class cast exception saying that `[B cannot be cast to FailedMessage`.\r\n\r\nSo, after doing some research I implemented the following transformer:\r\n\r\n```\r\n    private FailedMessage parseFailedMessage(byte[] genericMessage){\r\n        try {\r\n            ByteArrayInputStream in = new ByteArrayInputStream(genericMessage);\r\n            ObjectInputStream is = new ObjectInputStream(in);\r\n            return (FailedMessage) is.readObject();\r\n        } catch (IOException | ClassNotFoundException e) {\r\n            throw new RuntimeException(&quot;An unexpected error occurred parsing FailedMessage&quot;, e);\r\n        }\r\n    }\r\n```\r\n\r\nAnd the IntegrationFlow spec is :\r\n\r\n```\r\n    @Bean\r\n    public IntegrationFlow errorHandlingFlow(XmlMessageTransformer transformer) {\r\n        return IntegrationFlows.from(&quot;ErrorChannel&quot;)\r\n                .transform(this::parseFailedMessage)\r\n                .&lt;FailedMessage&gt;handle((p, h) -&gt; {\r\n                    processFailedMessage(p, transformer);\r\n                    return p;\r\n                })\r\n                .channel(&quot;discard&quot;)\r\n                .get();\r\n    }\r\n```\r\n\r\nIs this an acceptable way to handle this kind of message or there&#39;s a way to automatize the transform step?","title":"How can I handle a bytearray message in a Spring Integration Flow","body":"<p>I'm having some issues with Spring Integration.</p>\n<p>I have an error channel that is supposed to consume an error dedicated queue in case other flows have an error, this handler allows us to log some important data in a very specific format, and then the message is discarded.</p>\n<p>The problem is, that this flow is configured to receive a specific message type, like a FailedMessage class.</p>\n<p>Whenever the message is consumed, I get a class cast exception saying that <code>[B cannot be cast to FailedMessage</code>.</p>\n<p>So, after doing some research I implemented the following transformer:</p>\n<pre><code>    private FailedMessage parseFailedMessage(byte[] genericMessage){\n        try {\n            ByteArrayInputStream in = new ByteArrayInputStream(genericMessage);\n            ObjectInputStream is = new ObjectInputStream(in);\n            return (FailedMessage) is.readObject();\n        } catch (IOException | ClassNotFoundException e) {\n            throw new RuntimeException(&quot;An unexpected error occurred parsing FailedMessage&quot;, e);\n        }\n    }\n</code></pre>\n<p>And the IntegrationFlow spec is :</p>\n<pre><code>    @Bean\n    public IntegrationFlow errorHandlingFlow(XmlMessageTransformer transformer) {\n        return IntegrationFlows.from(&quot;ErrorChannel&quot;)\n                .transform(this::parseFailedMessage)\n                .&lt;FailedMessage&gt;handle((p, h) -&gt; {\n                    processFailedMessage(p, transformer);\n                    return p;\n                })\n                .channel(&quot;discard&quot;)\n                .get();\n    }\n</code></pre>\n<p>Is this an acceptable way to handle this kind of message or there's a way to automatize the transform step?</p>\n"},{"tags":["java","android","calculator","degrees","radians"],"answers":[{"tags":[],"owner":{"account_id":13821922,"reputation":3012,"user_id":9977151,"display_name":"ATP"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1656964074,"creation_date":1656963931,"answer_id":72861384,"question_id":72861363,"body_markdown":"use `Math.toRadians()`, You want to convert the degrees to radians because the Math trigonometric functions parameters should be in radians:\r\n\r\n    public class Main {\r\n    \r\n     public static void main(String[] args) {\r\n         \r\n      Scanner scanner = new Scanner(System.in);\r\n      \r\n    \r\n      // END USER INPUT VALUE IN DEGREES\r\n      System.out.println(&quot;Please input a value to recieve the Trigonemetric value in degrees &quot;);\r\n    \r\n      double degrees = scanner.nextDouble();\r\n      \r\n      double sineOfAngle = Math.sin(Math.toRadians(degrees)); \r\n      double cosOfAngle = Math.cos(Math.toRadians(degrees)); \r\n      double tanOfAngle = Math.tan(Math.toRadians(degrees));\r\n    \r\n      System.out.println();\r\n      System.out.println(&quot;The Sine of &quot; + degrees + &quot; degrees is : &quot;\r\n        + sineOfAngle);\r\n      System.out.println(&quot;The Cosine of &quot; + degrees + &quot; degrees is : &quot;\r\n        + cosOfAngle);\r\n      System.out.println(&quot;The Tangent of &quot; + degrees + &quot; degrees is : &quot;\r\n        + tanOfAngle);\r\n        \r\n     }\r\n    }","title":"How do I make my calculator this to calculate in degrees rather than radians","body":"<p>use <code>Math.toRadians()</code>, You want to convert the degrees to radians because the Math trigonometric functions parameters should be in radians:</p>\n<pre><code>public class Main {\n\n public static void main(String[] args) {\n     \n  Scanner scanner = new Scanner(System.in);\n  \n\n  // END USER INPUT VALUE IN DEGREES\n  System.out.println(&quot;Please input a value to recieve the Trigonemetric value in degrees &quot;);\n\n  double degrees = scanner.nextDouble();\n  \n  double sineOfAngle = Math.sin(Math.toRadians(degrees)); \n  double cosOfAngle = Math.cos(Math.toRadians(degrees)); \n  double tanOfAngle = Math.tan(Math.toRadians(degrees));\n\n  System.out.println();\n  System.out.println(&quot;The Sine of &quot; + degrees + &quot; degrees is : &quot;\n    + sineOfAngle);\n  System.out.println(&quot;The Cosine of &quot; + degrees + &quot; degrees is : &quot;\n    + cosOfAngle);\n  System.out.println(&quot;The Tangent of &quot; + degrees + &quot; degrees is : &quot;\n    + tanOfAngle);\n    \n }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25725870,"reputation":1,"user_id":19482259,"display_name":"Aleksandar"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1656964240,"creation_date":1656964240,"answer_id":72861423,"question_id":72861363,"body_markdown":"Why you need that? Programming language will always use radians for calculation. You can accept input in degrees, then convert it to radians, make calculation and convert it back to degrees on output.","title":"How do I make my calculator this to calculate in degrees rather than radians","body":"<p>Why you need that? Programming language will always use radians for calculation. You can accept input in degrees, then convert it to radians, make calculation and convert it back to degrees on output.</p>\n"}],"owner":{"account_id":18967205,"reputation":1,"user_id":13841489,"display_name":"bruh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":72861384,"answer_count":2,"score":-1,"last_activity_date":1656964240,"creation_date":1656963747,"question_id":72861363,"body_markdown":" I have been stuck on this for a very long bit of time. How do I make my calculator calculate in degrees rather than radians. I tried Math.toDegrees but it did not work. Thank you if you decide to help.\r\n\r\n   import java.util.Scanner;\r\n\r\n    public class Main {\r\n    \r\n     public static void main(String[] args) {\r\n         \r\n      Scanner scanner = new Scanner(System.in);\r\n      \r\n    \r\n      // END USER INPUT VALUE IN DEGREES\r\n      System.out.println(&quot;Please input a value to recieve the Trigonemetric value in degrees &quot;);\r\n    \r\n      double degrees = scanner.nextDouble();\r\n      \r\n      double sineOfAngle = Math.sin(degrees); \r\n      double cosOfAngle = Math.cos(degrees); \r\n      double tanOfAngle = Math.tan(degrees);\r\n    \r\n      System.out.println();\r\n      System.out.println(&quot;The Sine of &quot; + degrees + &quot; degrees is : &quot;\r\n        + sineOfAngle);\r\n      System.out.println(&quot;The Cosine of &quot; + degrees + &quot; degrees is : &quot;\r\n        + cosOfAngle);\r\n      System.out.println(&quot;The Tangent of &quot; + degrees + &quot; degrees is : &quot;\r\n        + tanOfAngle);\r\n        \r\n     }\r\n    }","title":"How do I make my calculator this to calculate in degrees rather than radians","body":"<p>I have been stuck on this for a very long bit of time. How do I make my calculator calculate in degrees rather than radians. I tried Math.toDegrees but it did not work. Thank you if you decide to help.</p>\n<p>import java.util.Scanner;</p>\n<pre><code>public class Main {\n\n public static void main(String[] args) {\n     \n  Scanner scanner = new Scanner(System.in);\n  \n\n  // END USER INPUT VALUE IN DEGREES\n  System.out.println(&quot;Please input a value to recieve the Trigonemetric value in degrees &quot;);\n\n  double degrees = scanner.nextDouble();\n  \n  double sineOfAngle = Math.sin(degrees); \n  double cosOfAngle = Math.cos(degrees); \n  double tanOfAngle = Math.tan(degrees);\n\n  System.out.println();\n  System.out.println(&quot;The Sine of &quot; + degrees + &quot; degrees is : &quot;\n    + sineOfAngle);\n  System.out.println(&quot;The Cosine of &quot; + degrees + &quot; degrees is : &quot;\n    + cosOfAngle);\n  System.out.println(&quot;The Tangent of &quot; + degrees + &quot; degrees is : &quot;\n    + tanOfAngle);\n    \n }\n}\n</code></pre>\n"},{"tags":["java","classpath"],"comments":[{"owner":{"account_id":8063342,"reputation":681,"user_id":6078268,"display_name":"vladtkachuk"},"score":0,"creation_date":1656962374,"post_id":72861126,"comment_id":128692889,"body_markdown":"is your class inside a package?","body":"is your class inside a package?"}],"answers":[{"tags":[],"owner":{"account_id":8063342,"reputation":681,"user_id":6078268,"display_name":"vladtkachuk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656962582,"creation_date":1656962582,"answer_id":72861208,"question_id":72861126,"body_markdown":"Current directory (`.`) is a default classpath. But it does not include subdirectories automatically. So if you have packages, the directories should be added to classpath explicitly.\r\n\r\nSee a bit more info here https://stackoverflow.com/questions/8227682/whats-the-default-classpath-when-not-specifying-classpath ","title":"Java Classpath not using current directory","body":"<p>Current directory (<code>.</code>) is a default classpath. But it does not include subdirectories automatically. So if you have packages, the directories should be added to classpath explicitly.</p>\n<p>See a bit more info here <a href=\"https://stackoverflow.com/questions/8227682/whats-the-default-classpath-when-not-specifying-classpath\">What&#39;s the default classpath when not specifying classpath?</a></p>\n"},{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1656963534,"creation_date":1656963534,"answer_id":72861335,"question_id":72861126,"body_markdown":"Relying on the `CLASSPATH` system variable is a bad idea. One machine can be used to run many varied apps, so the concept of a &#39;global setting&#39; is silly.\r\n\r\nTry `java -cp . Main`.\r\n\r\n## If that DOES work\r\n\r\nThen you&#39;ve been messing with your `CLASSPATH` environment var and removed `.` from it. Put it back. Or better yet forget about CLASSPATH; always use `-cp`; use `-cp .` if you like. Or make `jar` files and run them with `java -jar thejar.jar`, which ignores both `CLASSPATH` and the `-cp` parameter (instead that will look at the `Class-Path` entry in the jar manifest).\r\n\r\n\r\n## If that does not work\r\n\r\nThen you were not in the appropriate directory. Or, you&#39;re confused about packages. Let&#39;s say your `Main.java` looks like this:\r\n\r\n```\r\npackage com.foo;\r\n\r\npublic class Main {\r\n  public static void main(String[] args) {\r\n    System.out.println(&quot;Hello&quot;);\r\n  }\r\n}\r\n```\r\n\r\nAnd you compile it; a `Main.class` file shows up.\r\n\r\n`java` __cannot__ run this unless `Main.class` is in a directory named `foo`, and that directory is in turn in a directory named `com`. Then, you put _the directory that contains `com`_ on the classpath. __Not__ the directory that contains `Main.class`. And then you run `java -cp theDirThatContainsCom com.foo.Main`. It is not possible to run this file with `java -(does not matter what you try it cannot be done) Main` - because you provide the full name of the class you want to run to `java`, and the full name is `com.foo.Main`.\r\n\r\n","title":"Java Classpath not using current directory","body":"<p>Relying on the <code>CLASSPATH</code> system variable is a bad idea. One machine can be used to run many varied apps, so the concept of a 'global setting' is silly.</p>\n<p>Try <code>java -cp . Main</code>.</p>\n<h2>If that DOES work</h2>\n<p>Then you've been messing with your <code>CLASSPATH</code> environment var and removed <code>.</code> from it. Put it back. Or better yet forget about CLASSPATH; always use <code>-cp</code>; use <code>-cp .</code> if you like. Or make <code>jar</code> files and run them with <code>java -jar thejar.jar</code>, which ignores both <code>CLASSPATH</code> and the <code>-cp</code> parameter (instead that will look at the <code>Class-Path</code> entry in the jar manifest).</p>\n<h2>If that does not work</h2>\n<p>Then you were not in the appropriate directory. Or, you're confused about packages. Let's say your <code>Main.java</code> looks like this:</p>\n<pre><code>package com.foo;\n\npublic class Main {\n  public static void main(String[] args) {\n    System.out.println(&quot;Hello&quot;);\n  }\n}\n</code></pre>\n<p>And you compile it; a <code>Main.class</code> file shows up.</p>\n<p><code>java</code> <strong>cannot</strong> run this unless <code>Main.class</code> is in a directory named <code>foo</code>, and that directory is in turn in a directory named <code>com</code>. Then, you put <em>the directory that contains <code>com</code></em> on the classpath. <strong>Not</strong> the directory that contains <code>Main.class</code>. And then you run <code>java -cp theDirThatContainsCom com.foo.Main</code>. It is not possible to run this file with <code>java -(does not matter what you try it cannot be done) Main</code> - because you provide the full name of the class you want to run to <code>java</code>, and the full name is <code>com.foo.Main</code>.</p>\n"}],"owner":{"account_id":23644163,"reputation":40,"user_id":18596910,"display_name":"Yuri"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":443,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72861335,"answer_count":2,"score":0,"last_activity_date":1656963534,"creation_date":1656961945,"question_id":72861126,"body_markdown":"Yes... Again question about classpath. I compiled class file using command `javac Main.java`, then i tried to execute it by `java Main` And what do you think? I got that famous error: `Error: Could not find or load main class Main`. Why? I set the classpath env var to &quot;.;&quot; (without &quot; of course). Whats wrong? Im using jdk 1.8.0_51.\r\nIn IDE (im using intellij idea 2021.3) everything is ok.\r\nThe only imported class is java.io.File.\r\nIt only works if i run it using command `java -cp &lt;path to dir not including package folders&gt; &lt;full qualified class name&gt;`\r\nWindows 8.1","title":"Java Classpath not using current directory","body":"<p>Yes... Again question about classpath. I compiled class file using command <code>javac Main.java</code>, then i tried to execute it by <code>java Main</code> And what do you think? I got that famous error: <code>Error: Could not find or load main class Main</code>. Why? I set the classpath env var to &quot;.;&quot; (without &quot; of course). Whats wrong? Im using jdk 1.8.0_51.\nIn IDE (im using intellij idea 2021.3) everything is ok.\nThe only imported class is java.io.File.\nIt only works if i run it using command <code>java -cp &lt;path to dir not including package folders&gt; &lt;full qualified class name&gt;</code>\nWindows 8.1</p>\n"},{"tags":["java","json","jackson","gson"],"comments":[{"owner":{"account_id":297814,"reputation":25314,"user_id":603516,"accept_rate":100,"display_name":"Vadzim"},"score":0,"creation_date":1398617923,"post_id":1688099,"comment_id":35716091,"body_markdown":"See also http://stackoverflow.com/questions/338586/a-better-java-json-library","body":"See also <a href=\"http://stackoverflow.com/questions/338586/a-better-java-json-library\" title=\"a better java json library\">stackoverflow.com/questions/338586/a-better-java-json-librar&zwnj;&#8203;y</a>"},{"owner":{"account_id":4080163,"reputation":8401,"user_id":3602446,"accept_rate":76,"display_name":"Arlind Hajredinaj"},"score":0,"creation_date":1448841879,"post_id":1688099,"comment_id":55735089,"body_markdown":"Here is an example http://thegeekyland.blogspot.com/2015/11/serializing-and-deserializing-json-from.html","body":"Here is an example <a href=\"http://thegeekyland.blogspot.com/2015/11/serializing-and-deserializing-json-from.html\" rel=\"nofollow noreferrer\">thegeekyland.blogspot.com/2015/11/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"down_vote_count":0,"up_vote_count":367,"is_accepted":true,"score":367,"last_activity_date":1459539172,"creation_date":1257519969,"answer_id":1688182,"question_id":1688099,"body_markdown":"&gt; *I looked at Google&#39;s Gson as a potential JSON plugin. Can anyone offer some form of guidance as to how I can generate Java from this JSON string?*\n\n[Google Gson][1] supports generics and nested beans. The `[]` in JSON represents an array and should map to a Java collection such as [`List`][2] or just a plain Java array. The `{}` in JSON represents an object and should map to a Java [`Map`][3] or just some JavaBean class.\n\nYou have a JSON object with several properties of which the `groups` property represents an array of nested objects of the very same type. This can be parsed with Gson the following way:\n\n    package com.stackoverflow.q1688099;\n    \n    import java.util.List;\n    import com.google.gson.Gson;\n    \n    public class Test {\n    \n        public static void main(String... args) throws Exception {\n            String json = \n                &quot;{&quot;\n                    + &quot;&#39;title&#39;: &#39;Computing and Information systems&#39;,&quot;\n                    + &quot;&#39;id&#39; : 1,&quot;\n                    + &quot;&#39;children&#39; : &#39;true&#39;,&quot;\n                    + &quot;&#39;groups&#39; : [{&quot;\n                        + &quot;&#39;title&#39; : &#39;Level one CIS&#39;,&quot;\n                        + &quot;&#39;id&#39; : 2,&quot;\n                        + &quot;&#39;children&#39; : &#39;true&#39;,&quot;\n                        + &quot;&#39;groups&#39; : [{&quot;\n                            + &quot;&#39;title&#39; : &#39;Intro To Computing and Internet&#39;,&quot;\n                            + &quot;&#39;id&#39; : 3,&quot;\n                            + &quot;&#39;children&#39;: &#39;false&#39;,&quot;\n                            + &quot;&#39;groups&#39;:[]&quot;\n                        + &quot;}]&quot; \n                    + &quot;}]&quot;\n                + &quot;}&quot;;\n\n            // Now do the magic.\n            Data data = new Gson().fromJson(json, Data.class);\n\n            // Show it.\n            System.out.println(data);\n        }\n    \n    }\n    \n    class Data {\n        private String title;\n        private Long id;\n        private Boolean children;\n        private List&lt;Data&gt; groups;\n    \n        public String getTitle() { return title; }\n        public Long getId() { return id; }\n        public Boolean getChildren() { return children; }\n        public List&lt;Data&gt; getGroups() { return groups; }\n    \n        public void setTitle(String title) { this.title = title; }\n        public void setId(Long id) { this.id = id; }\n        public void setChildren(Boolean children) { this.children = children; }\n        public void setGroups(List&lt;Data&gt; groups) { this.groups = groups; }\n        \n        public String toString() {\n            return String.format(&quot;title:%s,id:%d,children:%s,groups:%s&quot;, title, id, children, groups);\n        }\n    }\n\nFairly simple, isn&#39;t it? Just have a suitable JavaBean and call [`Gson#fromJson()`][4].\n\n### See also:\n\n- [Json.org][5] - Introduction to JSON\n- [Gson User Guide][6] - Introduction to Gson\n\n\n  [1]: http://code.google.com/p/google-gson/\n  [2]: http://docs.oracle.com/javase/6/docs/api/java/util/List.html\n  [3]: http://docs.oracle.com/javase/6/docs/api/java/util/Map.html\n  [4]: http://google-gson.googlecode.com/svn/tags/1.3/docs/javadocs/com/google/gson/Gson.html#fromJson%28java.lang.String,%20java.lang.Class%29\n  [5]: http://json.org/\n  [6]: https://github.com/google/gson/blob/master/UserGuide.md","title":"Converting JSON data to Java object","body":"<blockquote>\n<p><em>I looked at Google's Gson as a potential JSON plugin. Can anyone offer some form of guidance as to how I can generate Java from this JSON string?</em></p>\n</blockquote>\n<p><a href=\"http://code.google.com/p/google-gson/\" rel=\"noreferrer\">Google Gson</a> supports generics and nested beans. The <code>[]</code> in JSON represents an array and should map to a Java collection such as <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/List.html\" rel=\"noreferrer\"><code>List</code></a> or just a plain Java array. The <code>{}</code> in JSON represents an object and should map to a Java <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/Map.html\" rel=\"noreferrer\"><code>Map</code></a> or just some JavaBean class.</p>\n<p>You have a JSON object with several properties of which the <code>groups</code> property represents an array of nested objects of the very same type. This can be parsed with Gson the following way:</p>\n<pre><code>package com.stackoverflow.q1688099;\n\nimport java.util.List;\nimport com.google.gson.Gson;\n\npublic class Test {\n\n    public static void main(String... args) throws Exception {\n        String json = \n            &quot;{&quot;\n                + &quot;'title': 'Computing and Information systems',&quot;\n                + &quot;'id' : 1,&quot;\n                + &quot;'children' : 'true',&quot;\n                + &quot;'groups' : [{&quot;\n                    + &quot;'title' : 'Level one CIS',&quot;\n                    + &quot;'id' : 2,&quot;\n                    + &quot;'children' : 'true',&quot;\n                    + &quot;'groups' : [{&quot;\n                        + &quot;'title' : 'Intro To Computing and Internet',&quot;\n                        + &quot;'id' : 3,&quot;\n                        + &quot;'children': 'false',&quot;\n                        + &quot;'groups':[]&quot;\n                    + &quot;}]&quot; \n                + &quot;}]&quot;\n            + &quot;}&quot;;\n\n        // Now do the magic.\n        Data data = new Gson().fromJson(json, Data.class);\n\n        // Show it.\n        System.out.println(data);\n    }\n\n}\n\nclass Data {\n    private String title;\n    private Long id;\n    private Boolean children;\n    private List&lt;Data&gt; groups;\n\n    public String getTitle() { return title; }\n    public Long getId() { return id; }\n    public Boolean getChildren() { return children; }\n    public List&lt;Data&gt; getGroups() { return groups; }\n\n    public void setTitle(String title) { this.title = title; }\n    public void setId(Long id) { this.id = id; }\n    public void setChildren(Boolean children) { this.children = children; }\n    public void setGroups(List&lt;Data&gt; groups) { this.groups = groups; }\n    \n    public String toString() {\n        return String.format(&quot;title:%s,id:%d,children:%s,groups:%s&quot;, title, id, children, groups);\n    }\n}\n</code></pre>\n<p>Fairly simple, isn't it? Just have a suitable JavaBean and call <a href=\"http://google-gson.googlecode.com/svn/tags/1.3/docs/javadocs/com/google/gson/Gson.html#fromJson%28java.lang.String,%20java.lang.Class%29\" rel=\"noreferrer\"><code>Gson#fromJson()</code></a>.</p>\n<h3>See also:</h3>\n<ul>\n<li><a href=\"http://json.org/\" rel=\"noreferrer\">Json.org</a> - Introduction to JSON</li>\n<li><a href=\"https://github.com/google/gson/blob/master/UserGuide.md\" rel=\"noreferrer\">Gson User Guide</a> - Introduction to Gson</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":607231,"reputation":31,"user_id":324623,"display_name":"Juanma"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1272058575,"creation_date":1272058575,"answer_id":2702114,"question_id":1688099,"body_markdown":"If you use any kind of special maps with keys or values also of special maps, you will find it&#39;s not contemplated by the implementation of google.","title":"Converting JSON data to Java object","body":"<p>If you use any kind of special maps with keys or values also of special maps, you will find it's not contemplated by the implementation of google.</p>\n"},{"tags":[],"owner":{"account_id":803850,"reputation":521,"user_id":471170,"display_name":"Jor"},"down_vote_count":0,"up_vote_count":51,"is_accepted":false,"score":51,"last_activity_date":1358880201,"creation_date":1286678980,"answer_id":3898812,"question_id":1688099,"body_markdown":"Bewaaaaare of Gson! It&#39;s very cool, very great, but the second you want to do anything other than simple objects, you could easily need to start building your own serializers (which isn&#39;t *that* hard).\r\n\r\nAlso, if you have an array of Objects, and you deserialize some json into that array of Objects, the true types are LOST! The full objects won&#39;t even be copied! Use XStream.. Which, if using the jsondriver and setting the proper settings, will encode ugly types into the actual json, so that you don&#39;t loose anything. A small price to pay (ugly json) for true serialization. \r\n\r\nNote that [Jackson][1] fixes these issues, and is [faster][2] than GSON.\r\n\r\n\r\n  [1]: http://wiki.fasterxml.com/JacksonHome\r\n  [2]: https://github.com/eishay/jvm-serializers/wiki","title":"Converting JSON data to Java object","body":"<p>Bewaaaaare of Gson! It's very cool, very great, but the second you want to do anything other than simple objects, you could easily need to start building your own serializers (which isn't <em>that</em> hard).</p>\n\n<p>Also, if you have an array of Objects, and you deserialize some json into that array of Objects, the true types are LOST! The full objects won't even be copied! Use XStream.. Which, if using the jsondriver and setting the proper settings, will encode ugly types into the actual json, so that you don't loose anything. A small price to pay (ugly json) for true serialization. </p>\n\n<p>Note that <a href=\"http://wiki.fasterxml.com/JacksonHome\" rel=\"noreferrer\">Jackson</a> fixes these issues, and is <a href=\"https://github.com/eishay/jvm-serializers/wiki\" rel=\"noreferrer\">faster</a> than GSON.</p>\n"},{"tags":[],"owner":{"account_id":23674,"reputation":114076,"user_id":59501,"accept_rate":75,"display_name":"StaxMan"},"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1424862770,"creation_date":1296669199,"answer_id":4877958,"question_id":1688099,"body_markdown":"Oddly, the only decent JSON processor mentioned so far has been GSON.\r\n\r\nHere are more good choices:\r\n\r\n* [Jackson][1] ([Github][4]) -- powerful data binding (JSON to/from POJOs), streaming (ultra fast), tree model (convenient for untyped access) \r\n* [Flex-JSON][2] -- highly configurable serialization\r\n\r\nEDIT (Aug/2013):\r\n\r\nOne more to consider:\r\n\r\n* [Genson][3] -- functionality similar to Jackson, aimed to be easier to configure by developer\r\n\r\n\r\n  [1]: http://wiki.fasterxml.com/JacksonHome\r\n  [2]: http://flexjson.sourceforge.net/\r\n  [3]: https://github.com/owlike/genson\r\n  [4]: https://github.com/FasterXML/jackson","title":"Converting JSON data to Java object","body":"<p>Oddly, the only decent JSON processor mentioned so far has been GSON.</p>\n\n<p>Here are more good choices:</p>\n\n<ul>\n<li><a href=\"http://wiki.fasterxml.com/JacksonHome\" rel=\"noreferrer\">Jackson</a> (<a href=\"https://github.com/FasterXML/jackson\" rel=\"noreferrer\">Github</a>) -- powerful data binding (JSON to/from POJOs), streaming (ultra fast), tree model (convenient for untyped access) </li>\n<li><a href=\"http://flexjson.sourceforge.net/\" rel=\"noreferrer\">Flex-JSON</a> -- highly configurable serialization</li>\n</ul>\n\n<p>EDIT (Aug/2013):</p>\n\n<p>One more to consider:</p>\n\n<ul>\n<li><a href=\"https://github.com/owlike/genson\" rel=\"noreferrer\">Genson</a> -- functionality similar to Jackson, aimed to be easier to configure by developer</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":27445,"reputation":31727,"user_id":72478,"accept_rate":76,"display_name":"cherouvim"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1301577224,"creation_date":1301577224,"answer_id":5500424,"question_id":1688099,"body_markdown":"If, by any change, you are in an application which already uses http://restfb.com/ then you can do:\r\n\r\n    import com.restfb.json.JsonObject;\r\n    \r\n    ...\r\n    \r\n    JsonObject json = new JsonObject(jsonString);\r\n    json.get(&quot;title&quot;);\r\n\r\netc.","title":"Converting JSON data to Java object","body":"<p>If, by any change, you are in an application which already uses <a href=\"http://restfb.com/\" rel=\"noreferrer\">http://restfb.com/</a> then you can do:</p>\n\n<pre><code>import com.restfb.json.JsonObject;\n\n...\n\nJsonObject json = new JsonObject(jsonString);\njson.get(\"title\");\n</code></pre>\n\n<p>etc.</p>\n"},{"tags":[],"owner":{"account_id":178126,"reputation":3688,"user_id":409891,"accept_rate":23,"display_name":"Gene De Lisa"},"down_vote_count":1,"up_vote_count":24,"is_accepted":false,"score":23,"last_activity_date":1618909598,"creation_date":1308759311,"answer_id":6443140,"question_id":1688099,"body_markdown":"Or with Jackson:\r\n\r\n    String json = &quot;...&quot;;\r\n    ObjectMapper m = new ObjectMapper();\r\n    Set&lt;Product&gt; products = m.readValue(json, new TypeReference&lt;Set&lt;Product&gt;&gt;() {});","title":"Converting JSON data to Java object","body":"<p>Or with Jackson:</p>\n<pre><code>String json = &quot;...&quot;;\nObjectMapper m = new ObjectMapper();\nSet&lt;Product&gt; products = m.readValue(json, new TypeReference&lt;Set&lt;Product&gt;&gt;() {});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1404897,"reputation":289,"user_id":1332879,"display_name":"HEAT"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1560271327,"creation_date":1368007450,"answer_id":16437857,"question_id":1688099,"body_markdown":"    HashMap keyArrayList = new HashMap();\r\n    Iterator itr = yourJson.keys();\r\n    while (itr.hasNext())\r\n    {\r\n        String key = (String) itr.next();\r\n        keyArrayList.put(key, yourJson.get(key).toString());\r\n    }\r\n","title":"Converting JSON data to Java object","body":"<pre><code>HashMap keyArrayList = new HashMap();\nIterator itr = yourJson.keys();\nwhile (itr.hasNext())\n{\n    String key = (String) itr.next();\n    keyArrayList.put(key, yourJson.get(key).toString());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1046397,"reputation":2748,"user_id":1051292,"accept_rate":80,"display_name":"Kevin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1382537166,"creation_date":1382537166,"answer_id":19543985,"question_id":1688099,"body_markdown":"What&#39;s wrong with the standard stuff?  \r\n\r\n    JSONObject jsonObject = new JSONObject(someJsonString);\r\n    JSONArray jsonArray = jsonObject.getJSONArray(&quot;someJsonArray&quot;);\r\n    String value = jsonArray.optJSONObject(i).getString(&quot;someJsonValue&quot;);","title":"Converting JSON data to Java object","body":"<p>What's wrong with the standard stuff?  </p>\n\n<pre><code>JSONObject jsonObject = new JSONObject(someJsonString);\nJSONArray jsonArray = jsonObject.getJSONArray(\"someJsonArray\");\nString value = jsonArray.optJSONObject(i).getString(\"someJsonValue\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3432851,"reputation":1818,"user_id":2876739,"display_name":"RickHigh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1387006706,"creation_date":1387006706,"answer_id":20580870,"question_id":1688099,"body_markdown":"Give boon a try:\r\n\r\nhttps://github.com/RichardHightower/boon\r\n\r\nIt is wicked fast:\r\n\r\nhttps://github.com/RichardHightower/json-parsers-benchmark\r\n\r\n\r\nDon&#39;t take my word for it... check out the gatling benchmark.\r\n\r\n\r\nhttps://github.com/gatling/json-parsers-benchmark\r\n\r\n(Up to 4x is some cases, and out of the 100s of test. It also has a index overlay mode that is even faster. It is young but already has some users.)\r\n\r\n\r\nIt can parse JSON to Maps and Lists faster than any other lib can parse to a JSON DOM and that is without Index Overlay mode. With Boon Index Overlay mode, it is even faster. \r\n\r\nIt also has a very fast JSON lax mode and a PLIST parser mode. :) (and has a super low memory, direct from bytes mode with UTF-8 encoding on the fly).\r\n\r\nIt also has the fastest JSON to JavaBean mode too. \r\n\r\nIt is new, but if speed and simple API is what you are looking for, I don&#39;t think there is a faster or more minimalist API. \r\n\r\n","title":"Converting JSON data to Java object","body":"<p>Give boon a try:</p>\n\n<p><a href=\"https://github.com/RichardHightower/boon\" rel=\"nofollow\">https://github.com/RichardHightower/boon</a></p>\n\n<p>It is wicked fast:</p>\n\n<p><a href=\"https://github.com/RichardHightower/json-parsers-benchmark\" rel=\"nofollow\">https://github.com/RichardHightower/json-parsers-benchmark</a></p>\n\n<p>Don't take my word for it... check out the gatling benchmark.</p>\n\n<p><a href=\"https://github.com/gatling/json-parsers-benchmark\" rel=\"nofollow\">https://github.com/gatling/json-parsers-benchmark</a></p>\n\n<p>(Up to 4x is some cases, and out of the 100s of test. It also has a index overlay mode that is even faster. It is young but already has some users.)</p>\n\n<p>It can parse JSON to Maps and Lists faster than any other lib can parse to a JSON DOM and that is without Index Overlay mode. With Boon Index Overlay mode, it is even faster. </p>\n\n<p>It also has a very fast JSON lax mode and a PLIST parser mode. :) (and has a super low memory, direct from bytes mode with UTF-8 encoding on the fly).</p>\n\n<p>It also has the fastest JSON to JavaBean mode too. </p>\n\n<p>It is new, but if speed and simple API is what you are looking for, I don't think there is a faster or more minimalist API. </p>\n"},{"tags":[],"owner":{"account_id":3005841,"reputation":483,"user_id":2550410,"display_name":"Shailendra Singh"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1597151000,"creation_date":1448005623,"answer_id":33821459,"question_id":1688099,"body_markdown":"Depending on the input JSON format(string/file) create a jSONString. Sample Message class object corresponding to JSON can be obtained as below:\r\n\r\n    Message msgFromJSON = new ObjectMapper().readValue(jSONString, Message.class);","title":"Converting JSON data to Java object","body":"<p>Depending on the input JSON format(string/file) create a jSONString. Sample Message class object corresponding to JSON can be obtained as below:</p>\n<pre><code>Message msgFromJSON = new ObjectMapper().readValue(jSONString, Message.class);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3368068,"reputation":3372,"user_id":2828087,"display_name":"Rahul Raina"},"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1461741921,"creation_date":1461741921,"answer_id":36883077,"question_id":1688099,"body_markdown":"Easy and working java code to convert `JSONObject` to `Java Object`\r\n---------------------------------------------------------------\r\n\r\n**Employee.java**\r\n\r\n\r\n\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    \r\n    import javax.annotation.Generated;\r\n    \r\n    import com.fasterxml.jackson.annotation.JsonAnyGetter;\r\n    import com.fasterxml.jackson.annotation.JsonAnySetter;\r\n    import com.fasterxml.jackson.annotation.JsonIgnore;\r\n    import com.fasterxml.jackson.annotation.JsonInclude;\r\n    import com.fasterxml.jackson.annotation.JsonProperty;\r\n    import com.fasterxml.jackson.annotation.JsonPropertyOrder;\r\n    \r\n    @JsonInclude(JsonInclude.Include.NON_NULL)\r\n    @Generated(&quot;org.jsonschema2pojo&quot;)\r\n    @JsonPropertyOrder({\r\n    &quot;id&quot;,\r\n    &quot;firstName&quot;,\r\n    &quot;lastName&quot;\r\n    })\r\n    public class Employee {\r\n    \r\n    @JsonProperty(&quot;id&quot;)\r\n    private Integer id;\r\n    @JsonProperty(&quot;firstName&quot;)\r\n    private String firstName;\r\n    @JsonProperty(&quot;lastName&quot;)\r\n    private String lastName;\r\n    @JsonIgnore\r\n    private Map&lt;String, Object&gt; additionalProperties = new HashMap&lt;String, Object&gt;();\r\n    \r\n    /**\r\n    *\r\n    * @return\r\n    * The id\r\n    */\r\n    @JsonProperty(&quot;id&quot;)\r\n    public Integer getId() {\r\n    return id;\r\n    }\r\n    \r\n    /**\r\n    *\r\n    * @param id\r\n    * The id\r\n    */\r\n    @JsonProperty(&quot;id&quot;)\r\n    public void setId(Integer id) {\r\n    this.id = id;\r\n    }\r\n    \r\n    /**\r\n    *\r\n    * @return\r\n    * The firstName\r\n    */\r\n    @JsonProperty(&quot;firstName&quot;)\r\n    public String getFirstName() {\r\n    return firstName;\r\n    }\r\n    \r\n    /**\r\n    *\r\n    * @param firstName\r\n    * The firstName\r\n    */\r\n    @JsonProperty(&quot;firstName&quot;)\r\n    public void setFirstName(String firstName) {\r\n    this.firstName = firstName;\r\n    }\r\n    \r\n    /**\r\n    *\r\n    * @return\r\n    * The lastName\r\n    */\r\n    @JsonProperty(&quot;lastName&quot;)\r\n    public String getLastName() {\r\n    return lastName;\r\n    }\r\n    \r\n    /**\r\n    *\r\n    * @param lastName\r\n    * The lastName\r\n    */\r\n    @JsonProperty(&quot;lastName&quot;)\r\n    public void setLastName(String lastName) {\r\n    this.lastName = lastName;\r\n    }\r\n    \r\n    @JsonAnyGetter\r\n    public Map&lt;String, Object&gt; getAdditionalProperties() {\r\n    return this.additionalProperties;\r\n    }\r\n    \r\n    @JsonAnySetter\r\n    public void setAdditionalProperty(String name, Object value) {\r\n    this.additionalProperties.put(name, value);\r\n    }\r\n    \r\n    }\r\n\r\n\r\n**LoadFromJSON.java**\r\n\r\n    import org.codehaus.jettison.json.JSONObject;\r\n    \r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    \r\n    public class LoadFromJSON {\r\n    \r\n    \tpublic static void main(String args[]) throws Exception {\r\n    \t\tJSONObject json = new JSONObject();\r\n    \t\tjson.put(&quot;id&quot;, 2);\r\n    \t\tjson.put(&quot;firstName&quot;, &quot;hello&quot;);\r\n    \t\tjson.put(&quot;lastName&quot;, &quot;world&quot;);\r\n    \r\n    \t\tbyte[] jsonData = json.toString().getBytes();\r\n    \r\n    \t\tObjectMapper mapper = new ObjectMapper();\r\n    \t\tEmployee employee = mapper.readValue(jsonData, Employee.class);\r\n    \r\n    \t\tSystem.out.print(employee.getLastName());\r\n    \r\n    \t}\r\n    }\r\n\r\n","title":"Converting JSON data to Java object","body":"<h2>Easy and working java code to convert <code>JSONObject</code> to <code>Java Object</code></h2>\n\n<p><strong>Employee.java</strong></p>\n\n<pre><code>import java.util.HashMap;\nimport java.util.Map;\n\nimport javax.annotation.Generated;\n\nimport com.fasterxml.jackson.annotation.JsonAnyGetter;\nimport com.fasterxml.jackson.annotation.JsonAnySetter;\nimport com.fasterxml.jackson.annotation.JsonIgnore;\nimport com.fasterxml.jackson.annotation.JsonInclude;\nimport com.fasterxml.jackson.annotation.JsonProperty;\nimport com.fasterxml.jackson.annotation.JsonPropertyOrder;\n\n@JsonInclude(JsonInclude.Include.NON_NULL)\n@Generated(\"org.jsonschema2pojo\")\n@JsonPropertyOrder({\n\"id\",\n\"firstName\",\n\"lastName\"\n})\npublic class Employee {\n\n@JsonProperty(\"id\")\nprivate Integer id;\n@JsonProperty(\"firstName\")\nprivate String firstName;\n@JsonProperty(\"lastName\")\nprivate String lastName;\n@JsonIgnore\nprivate Map&lt;String, Object&gt; additionalProperties = new HashMap&lt;String, Object&gt;();\n\n/**\n*\n* @return\n* The id\n*/\n@JsonProperty(\"id\")\npublic Integer getId() {\nreturn id;\n}\n\n/**\n*\n* @param id\n* The id\n*/\n@JsonProperty(\"id\")\npublic void setId(Integer id) {\nthis.id = id;\n}\n\n/**\n*\n* @return\n* The firstName\n*/\n@JsonProperty(\"firstName\")\npublic String getFirstName() {\nreturn firstName;\n}\n\n/**\n*\n* @param firstName\n* The firstName\n*/\n@JsonProperty(\"firstName\")\npublic void setFirstName(String firstName) {\nthis.firstName = firstName;\n}\n\n/**\n*\n* @return\n* The lastName\n*/\n@JsonProperty(\"lastName\")\npublic String getLastName() {\nreturn lastName;\n}\n\n/**\n*\n* @param lastName\n* The lastName\n*/\n@JsonProperty(\"lastName\")\npublic void setLastName(String lastName) {\nthis.lastName = lastName;\n}\n\n@JsonAnyGetter\npublic Map&lt;String, Object&gt; getAdditionalProperties() {\nreturn this.additionalProperties;\n}\n\n@JsonAnySetter\npublic void setAdditionalProperty(String name, Object value) {\nthis.additionalProperties.put(name, value);\n}\n\n}\n</code></pre>\n\n<p><strong>LoadFromJSON.java</strong></p>\n\n<pre><code>import org.codehaus.jettison.json.JSONObject;\n\nimport com.fasterxml.jackson.databind.ObjectMapper;\n\npublic class LoadFromJSON {\n\n    public static void main(String args[]) throws Exception {\n        JSONObject json = new JSONObject();\n        json.put(\"id\", 2);\n        json.put(\"firstName\", \"hello\");\n        json.put(\"lastName\", \"world\");\n\n        byte[] jsonData = json.toString().getBytes();\n\n        ObjectMapper mapper = new ObjectMapper();\n        Employee employee = mapper.readValue(jsonData, Employee.class);\n\n        System.out.print(employee.getLastName());\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7020430,"reputation":341,"user_id":5380038,"display_name":"Dipen Chawla"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1560271279,"creation_date":1557908796,"answer_id":56144755,"question_id":1688099,"body_markdown":"The easiest way is that you can use this softconvertvalue method which is a custom method in which you can convert jsonData into your specific Dto class.    \r\n\r\n    Dto response = softConvertValue(jsonData, Dto.class);\r\n        \r\n        \r\n    public static &lt;T&gt; T softConvertValue(Object fromValue, Class&lt;T&gt; toValueType) \r\n    {\r\n        ObjectMapper objMapper = new ObjectMapper();\r\n        return objMapper\r\n            .configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false)\r\n            .convertValue(fromValue, toValueType);\r\n    }","title":"Converting JSON data to Java object","body":"<p>The easiest way is that you can use this softconvertvalue method which is a custom method in which you can convert jsonData into your specific Dto class.    </p>\n\n<pre><code>Dto response = softConvertValue(jsonData, Dto.class);\n\n\npublic static &lt;T&gt; T softConvertValue(Object fromValue, Class&lt;T&gt; toValueType) \n{\n    ObjectMapper objMapper = new ObjectMapper();\n    return objMapper\n        .configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false)\n        .convertValue(fromValue, toValueType);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2093262,"reputation":9483,"user_id":1862590,"display_name":"Sathiamoorthy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653420472,"creation_date":1653420472,"answer_id":72368459,"question_id":1688099,"body_markdown":"Pass your JSON file in this way, it will return the object. \r\n    \r\n    File file = new File(&quot;D:\\\\Coding\\\\tickets\\\\temp.json&quot;);\r\n    ObjectMapper om = new ObjectMapper();\r\n    Profile profile = om.readValue(file, new TypeReference&lt;Profile&gt;() {});","title":"Converting JSON data to Java object","body":"<p>Pass your JSON file in this way, it will return the object.</p>\n<pre><code>File file = new File(&quot;D:\\\\Coding\\\\tickets\\\\temp.json&quot;);\nObjectMapper om = new ObjectMapper();\nProfile profile = om.readValue(file, new TypeReference&lt;Profile&gt;() {});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16731772,"reputation":1574,"user_id":12093975,"display_name":"skyho"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656963301,"creation_date":1656963301,"answer_id":72861310,"question_id":1688099,"body_markdown":"```xml\r\n\r\n        &lt;!-- GSON --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n            &lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n            &lt;version&gt;2.8.7&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\n\r\n```java\r\n  @Test\r\n    void readListJsonFromFileTest() throws IOException {\r\n\r\n        Type type = new TypeToken&lt;List&lt;SimplePojo&gt;&gt;(){}.getType();\r\n\r\n        String fromJsonFile = readFromJsonFile(&quot;json/simplePojoJsonList.json&quot;);\r\n\r\n        List&lt;SimplePojo&gt; pojoList = gson.fromJson(fromJsonFile, type);\r\n\r\n        Assertions.assertNotNull(pojoList);\r\n    }\r\n\r\n    @Test\r\n    void readJsonFromFileTest() throws IOException {\r\n\r\n        Type type = new TypeToken&lt;SimplePojo&gt;(){}.getType();\r\n\r\n        String fromJsonFile = readFromJsonFile(&quot;json/simplePojoJson.json&quot;);\r\n\r\n        SimplePojo simplePojo = gson.fromJson(fromJsonFile, type);\r\n\r\n        Assertions.assertNotNull(simplePojo);\r\n    }\r\n\r\n     String readFromJsonFile(String pathToJson) throws IOException {\r\n\r\n        InputStream resource = new ClassPathResource(pathToJson).getInputStream();\r\n\r\n        String json = StreamUtils.copyToString(resource, StandardCharsets.UTF_8);\r\n\r\n        return json;\r\n    }\r\n```","title":"Converting JSON data to Java object","body":"<pre class=\"lang-xml prettyprint-override\"><code>\n        &lt;!-- GSON --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n            &lt;artifactId&gt;gson&lt;/artifactId&gt;\n            &lt;version&gt;2.8.7&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>  @Test\n    void readListJsonFromFileTest() throws IOException {\n\n        Type type = new TypeToken&lt;List&lt;SimplePojo&gt;&gt;(){}.getType();\n\n        String fromJsonFile = readFromJsonFile(&quot;json/simplePojoJsonList.json&quot;);\n\n        List&lt;SimplePojo&gt; pojoList = gson.fromJson(fromJsonFile, type);\n\n        Assertions.assertNotNull(pojoList);\n    }\n\n    @Test\n    void readJsonFromFileTest() throws IOException {\n\n        Type type = new TypeToken&lt;SimplePojo&gt;(){}.getType();\n\n        String fromJsonFile = readFromJsonFile(&quot;json/simplePojoJson.json&quot;);\n\n        SimplePojo simplePojo = gson.fromJson(fromJsonFile, type);\n\n        Assertions.assertNotNull(simplePojo);\n    }\n\n     String readFromJsonFile(String pathToJson) throws IOException {\n\n        InputStream resource = new ClassPathResource(pathToJson).getInputStream();\n\n        String json = StreamUtils.copyToString(resource, StandardCharsets.UTF_8);\n\n        return json;\n    }\n</code></pre>\n"}],"owner":{"account_id":43494,"reputation":5361,"user_id":127160,"accept_rate":75,"display_name":"Faiyet"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":546375,"favorite_count":0,"down_vote_count":0,"up_vote_count":297,"accepted_answer_id":1688182,"answer_count":14,"score":297,"last_activity_date":1656963301,"creation_date":1257519244,"question_id":1688099,"body_markdown":"I want to be able to access properties from a JSON string within my Java action method. The string is available by simply saying `myJsonString = object.getJson()`. Below is an example of what the string can look like:\r\n\r\n    {\r\n        &#39;title&#39;: &#39;ComputingandInformationsystems&#39;,\r\n        &#39;id&#39;: 1,\r\n        &#39;children&#39;: &#39;true&#39;,\r\n        &#39;groups&#39;: [{\r\n            &#39;title&#39;: &#39;LeveloneCIS&#39;,\r\n            &#39;id&#39;: 2,\r\n            &#39;children&#39;: &#39;true&#39;,\r\n            &#39;groups&#39;: [{\r\n                &#39;title&#39;: &#39;IntroToComputingandInternet&#39;,\r\n                &#39;id&#39;: 3,\r\n                &#39;children&#39;: &#39;false&#39;,\r\n                &#39;groups&#39;: []\r\n            }]\r\n        }]\r\n    }\r\n\r\nIn this string every JSON object contains an array of other JSON objects. The intention is to extract a list of IDs where any given object possessing a group property that contains other JSON objects. I looked at Google&#39;s Gson as a potential JSON plugin. Can anyone offer some form of guidance as to how I can generate Java from this JSON string?","title":"Converting JSON data to Java object","body":"<p>I want to be able to access properties from a JSON string within my Java action method. The string is available by simply saying <code>myJsonString = object.getJson()</code>. Below is an example of what the string can look like:</p>\n\n<pre><code>{\n    'title': 'ComputingandInformationsystems',\n    'id': 1,\n    'children': 'true',\n    'groups': [{\n        'title': 'LeveloneCIS',\n        'id': 2,\n        'children': 'true',\n        'groups': [{\n            'title': 'IntroToComputingandInternet',\n            'id': 3,\n            'children': 'false',\n            'groups': []\n        }]\n    }]\n}\n</code></pre>\n\n<p>In this string every JSON object contains an array of other JSON objects. The intention is to extract a list of IDs where any given object possessing a group property that contains other JSON objects. I looked at Google's Gson as a potential JSON plugin. Can anyone offer some form of guidance as to how I can generate Java from this JSON string?</p>\n"},{"tags":["java","spring","cassandra","spring-data","spring-data-cassandra"],"answers":[{"tags":[],"owner":{"account_id":2360824,"reputation":17691,"user_id":2067527,"display_name":"mp911de"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1506075123,"creation_date":1506075123,"answer_id":46362223,"question_id":46357924,"body_markdown":"Calling arbitrary CQL using query methods is possible but you need to align the return type (e.g. `Row`). Also, an `UPDATE` command does not return any rows hence you won&#39;t receive any result.\r\n\r\nThe confirmation that your call was successful is the normal termination of the query method.","title":"How to know if data is updated in database with spring data cassandra","body":"<p>Calling arbitrary CQL using query methods is possible but you need to align the return type (e.g. <code>Row</code>). Also, an <code>UPDATE</code> command does not return any rows hence you won't receive any result.</p>\n\n<p>The confirmation that your call was successful is the normal termination of the query method.</p>\n"},{"tags":[],"owner":{"account_id":5144524,"reputation":1739,"user_id":4120875,"accept_rate":75,"display_name":"Sathyendran a"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656962800,"creation_date":1506085478,"answer_id":46365541,"question_id":46357924,"body_markdown":"`@Query` is used in Spring Data to select the values from the DB. \r\n\r\nYou can use the `@Modifying` along with `@Query`, which will trigger at the annotated method an &quot;update query&quot; instead of a &quot;select one&quot;.\r\n\r\nSo the final form of that would be:\r\n\r\n```java\r\n@Modifying\r\n@Query(&quot;update User set firstName=?0 where id=?1&quot;)\r\nInteger updateFirstName(String firstName,String id);\r\n```\r\n\r\n","title":"How to know if data is updated in database with spring data cassandra","body":"<p><code>@Query</code> is used in Spring Data to select the values from the DB.</p>\n<p>You can use the <code>@Modifying</code> along with <code>@Query</code>, which will trigger at the annotated method an &quot;update query&quot; instead of a &quot;select one&quot;.</p>\n<p>So the final form of that would be:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Modifying\n@Query(&quot;update User set firstName=?0 where id=?1&quot;)\nInteger updateFirstName(String firstName,String id);\n</code></pre>\n"}],"owner":{"account_id":6932710,"reputation":3956,"user_id":5321729,"accept_rate":67,"display_name":"Ajit Soman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1838,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1656962800,"creation_date":1506060561,"question_id":46357924,"body_markdown":"With spring data JPA if i write query like this:\r\n\r\n\t@Query(&quot;update User u set  u.firstName=?1 where u.id=?2&quot;)\r\n\tInteger updateFirstName(String firstName,String id);\r\n\r\n`updateFirstName` method return either 0 or 1 based on update. But in spring data cassandra with this query:\r\n\r\n\t@Query(&quot;update User set  firstName=?0 where id=?1&quot;)\r\n\tInteger updateFirstName(String firstName,String id);\r\n\r\nI am getting `null` . Is there is any way i can get confirmation that update operation is completed successfully.","title":"How to know if data is updated in database with spring data cassandra","body":"<p>With spring data JPA if i write query like this:</p>\n\n<pre><code>@Query(\"update User u set  u.firstName=?1 where u.id=?2\")\nInteger updateFirstName(String firstName,String id);\n</code></pre>\n\n<p><code>updateFirstName</code> method return either 0 or 1 based on update. But in spring data cassandra with this query:</p>\n\n<pre><code>@Query(\"update User set  firstName=?0 where id=?1\")\nInteger updateFirstName(String firstName,String id);\n</code></pre>\n\n<p>I am getting <code>null</code> . Is there is any way i can get confirmation that update operation is completed successfully.</p>\n"},{"tags":["java","html","authentication","htmlunit"],"answers":[{"tags":[],"owner":{"account_id":6163228,"reputation":2754,"user_id":4804091,"display_name":"RBRi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1500532996,"creation_date":1500532996,"answer_id":45207119,"question_id":45202673,"body_markdown":"Your button is of type button (not submit). In this case the browser renders only a button but the application developer is responsible for doing something if the user clicks the button. In you case the button will trigger some javascript.\r\n\r\nBut you have disabled Javscript by\r\n\r\n    wclient.getOptions().setJavaScriptEnabled(false);\r\n\r\nMaybe your problem goes away if you enable javascript.\r\n\r\nIn general it is a good idea to start with the default setting when facing any problems. The defaults are set in a way to be as close as possible to the real browsers.","title":"button click() does not provide any response","body":"<p>Your button is of type button (not submit). In this case the browser renders only a button but the application developer is responsible for doing something if the user clicks the button. In you case the button will trigger some javascript.</p>\n\n<p>But you have disabled Javscript by</p>\n\n<pre><code>wclient.getOptions().setJavaScriptEnabled(false);\n</code></pre>\n\n<p>Maybe your problem goes away if you enable javascript.</p>\n\n<p>In general it is a good idea to start with the default setting when facing any problems. The defaults are set in a way to be as close as possible to the real browsers.</p>\n"}],"owner":{"account_id":11011515,"reputation":23,"user_id":8088726,"display_name":"Canert"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":814,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656962744,"creation_date":1500506901,"question_id":45202673,"body_markdown":"I&#39;m having issues with logging into specific website via HtmlUnit methods.\r\nThe site form&#39;s submit button looks like this:\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;td&gt;\r\n    \t&lt;input type=&quot;button&quot; value=&quot;Login!&quot; onclick=&quot;encPass(UTM_STUDIO_ADMIN);&quot; class=&quot;normalButton&quot;&gt;\r\n    &lt;/td&gt;\r\n\r\nMine code snippet:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    final HtmlButtonInput submitLogin = form.getInputByValue(&quot;Login!&quot;);\r\n    \r\n    HtmlPage returnPage = submitLogin.click();\r\n    System.out.println(returnPage.asText());\r\n\r\nYet, it prints the logging site with username and password fields fulfilled, that&#39;s all.\r\n\r\nWebClient config:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    wclient.getOptions().setPrintContentOnFailingStatusCode(false);\r\n    wclient.getOptions().setCssEnabled(false);\r\n    wclient.getOptions().setThrowExceptionOnFailingStatusCode(false);\r\n    wclient.getOptions().setThrowExceptionOnScriptError(false);\r\n    wclient.getOptions().setUseInsecureSSL(true);\r\n    wclient.getOptions().setJavaScriptEnabled(false);\r\n    \r\nI&#39;ve been already trying to log via my own added button, and played with ideas of waiting, enabling JS, redirecting etc., but I&#39;m new in the topic so it does not guarantee I can uncheck any ideas as already tried.","title":"button click() does not provide any response","body":"<p>I'm having issues with logging into specific website via HtmlUnit methods.\nThe site form's submit button looks like this:</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;td&gt;\n    &lt;input type=&quot;button&quot; value=&quot;Login!&quot; onclick=&quot;encPass(UTM_STUDIO_ADMIN);&quot; class=&quot;normalButton&quot;&gt;\n&lt;/td&gt;\n</code></pre>\n<p>Mine code snippet:</p>\n<pre class=\"lang-java prettyprint-override\"><code>final HtmlButtonInput submitLogin = form.getInputByValue(&quot;Login!&quot;);\n\nHtmlPage returnPage = submitLogin.click();\nSystem.out.println(returnPage.asText());\n</code></pre>\n<p>Yet, it prints the logging site with username and password fields fulfilled, that's all.</p>\n<p>WebClient config:</p>\n<pre class=\"lang-java prettyprint-override\"><code>wclient.getOptions().setPrintContentOnFailingStatusCode(false);\nwclient.getOptions().setCssEnabled(false);\nwclient.getOptions().setThrowExceptionOnFailingStatusCode(false);\nwclient.getOptions().setThrowExceptionOnScriptError(false);\nwclient.getOptions().setUseInsecureSSL(true);\nwclient.getOptions().setJavaScriptEnabled(false);\n</code></pre>\n<p>I've been already trying to log via my own added button, and played with ideas of waiting, enabling JS, redirecting etc., but I'm new in the topic so it does not guarantee I can uncheck any ideas as already tried.</p>\n"},{"tags":["java","android","kotlin-coroutines"],"answers":[{"tags":[],"owner":{"account_id":1919838,"reputation":28264,"user_id":1731626,"display_name":"Sergio"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656004810,"creation_date":1656004810,"answer_id":72734214,"question_id":72734048,"body_markdown":"It&#39;s because `delay()` function internally also checks for cancellations, and if the cancellation happens during its execution it stops a coroutine by throwing a cancellation exception. To get the result you want try to use `Thread.sleep()` or similar blocking sleeping methods instead of `delay` or try to wrap calling `delay()` into `try-catch` block.","title":"Coroutine Lifecycle Scope and isActive not working?","body":"<p>It's because <code>delay()</code> function internally also checks for cancellations, and if the cancellation happens during its execution it stops a coroutine by throwing a cancellation exception. To get the result you want try to use <code>Thread.sleep()</code> or similar blocking sleeping methods instead of <code>delay</code> or try to wrap calling <code>delay()</code> into <code>try-catch</code> block.</p>\n"},{"tags":[],"owner":{"account_id":12721843,"reputation":16003,"user_id":9241978,"display_name":"Pawel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656005393,"creation_date":1656005393,"answer_id":72734331,"question_id":72734048,"body_markdown":"Cancellation in coroutines is indeed [cooperative][1] and checking `isActive` is one way to do it properly.\r\n\r\nBut you&#39;ve missed the part that built in suspending functions (in this case `delay`) check and throw a `CancellationException` internally so you won&#39;t get another loop execution after cancellation.\r\n\r\nIf you want to react to cancellation you can set a [`CompletionHandler`][2]:\r\n\r\n```\r\njob.invokeOnCompletion {\r\n    when(it?.message) {\r\n        null -&gt; Log.d(&quot;Completed normally&quot;)\r\n        &quot;ButtonPressed&quot; -&gt; Log.d(&quot;Cancelled by button press&quot;)\r\n        else -&gt; Log.d(&quot;Cancelled: ${it.message}&quot;)\r\n    }\r\n}\r\n```\r\n\r\nAnd alter your cancellation code so you can discern the cancellation message:\r\n\r\n```\r\njob.cancel(&quot;ButtonPressed&quot;)\r\n```\r\n\r\n\r\n  [1]: https://kotlinlang.org/docs/cancellation-and-timeouts.html#cancellation-is-cooperative\r\n  [2]: https://kotlin.github.io/kotlinx.coroutines/kotlinx-coroutines-core/kotlinx.coroutines/-job/invoke-on-completion.html","title":"Coroutine Lifecycle Scope and isActive not working?","body":"<p>Cancellation in coroutines is indeed <a href=\"https://kotlinlang.org/docs/cancellation-and-timeouts.html#cancellation-is-cooperative\" rel=\"nofollow noreferrer\">cooperative</a> and checking <code>isActive</code> is one way to do it properly.</p>\n<p>But you've missed the part that built in suspending functions (in this case <code>delay</code>) check and throw a <code>CancellationException</code> internally so you won't get another loop execution after cancellation.</p>\n<p>If you want to react to cancellation you can set a <a href=\"https://kotlin.github.io/kotlinx.coroutines/kotlinx-coroutines-core/kotlinx.coroutines/-job/invoke-on-completion.html\" rel=\"nofollow noreferrer\"><code>CompletionHandler</code></a>:</p>\n<pre><code>job.invokeOnCompletion {\n    when(it?.message) {\n        null -&gt; Log.d(&quot;Completed normally&quot;)\n        &quot;ButtonPressed&quot; -&gt; Log.d(&quot;Cancelled by button press&quot;)\n        else -&gt; Log.d(&quot;Cancelled: ${it.message}&quot;)\n    }\n}\n</code></pre>\n<p>And alter your cancellation code so you can discern the cancellation message:</p>\n<pre><code>job.cancel(&quot;ButtonPressed&quot;)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":31084,"reputation":128384,"user_id":85134,"display_name":"araqnid"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656962352,"creation_date":1656962352,"answer_id":72861178,"question_id":72734048,"body_markdown":"If the coroutine is cancelled, then `delay()` or practically any other suspend call may throw `CancellationException`. So one approach is to simply use try-catch-finally to clean up on exit, as those are still run.\r\n\r\nIf you need to call suspend functions during cleanup, you need to use `withContext(NonCancellable) { ... }` so that the suspend functions inside that don&#39;t immediately throw `CancellationException` again.\r\n\r\n```kotlin\r\n  try {\r\n     (1..120).forEach {\r\n        // big long operation e.g. writing a large data file\r\n        Log.d(tag, &quot;ticking $it&quot;)\r\n        delay(1000)\r\n     }\r\n  } catch (ex: CancellationException) {\r\n    withContext(NonCancellable) {\r\n       Log.d(tag, &quot;ticking cancelled&quot;)\r\n       // clean up interrupted file generation\r\n    }\r\n    throw ex\r\n  }\r\n```\r\n","title":"Coroutine Lifecycle Scope and isActive not working?","body":"<p>If the coroutine is cancelled, then <code>delay()</code> or practically any other suspend call may throw <code>CancellationException</code>. So one approach is to simply use try-catch-finally to clean up on exit, as those are still run.</p>\n<p>If you need to call suspend functions during cleanup, you need to use <code>withContext(NonCancellable) { ... }</code> so that the suspend functions inside that don't immediately throw <code>CancellationException</code> again.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>  try {\n     (1..120).forEach {\n        // big long operation e.g. writing a large data file\n        Log.d(tag, &quot;ticking $it&quot;)\n        delay(1000)\n     }\n  } catch (ex: CancellationException) {\n    withContext(NonCancellable) {\n       Log.d(tag, &quot;ticking cancelled&quot;)\n       // clean up interrupted file generation\n    }\n    throw ex\n  }\n</code></pre>\n"}],"owner":{"account_id":2275252,"reputation":499,"user_id":2001705,"accept_rate":88,"display_name":"Ken"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":934,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1656962352,"creation_date":1656003851,"question_id":72734048,"body_markdown":"I&#39;ve been working with Coroutines thinking they work like Java Threads where the isAlive boolean is the same as checking for isInterrupted() in a long running operation such as writing a large file.\r\n\r\nIn the past the Coroutine has worked as expected but in the current version 1.6.1-native-mt it doesn&#39;t seem to work like that any more. In the code below, the code inside the isAlive check doesn&#39;t seem to run even when I switch to the 1.6.1 non-multithreaded library.\r\n\r\nIf this is the way it&#39;s supposed to work? What should the correct way of performing a clean-up after a job is cancelled?\r\n\r\nAlso when attaching a Coroutine to a scope, in this case the Activity, shouldn&#39;t it be auto-cancelled when a new Activity is started? It seems to keep running if it isn&#39;t cancelled manually like in Java during the onPause()/onStop() phase.\r\n\r\nKotlin Coroutine:\r\n```lang-kotlin\r\nimport android.os.Bundle\r\nimport android.util.Log\r\nimport android.widget.Button\r\nimport androidx.appcompat.app.AppCompatActivity\r\nimport androidx.lifecycle.lifecycleScope\r\nimport kotlinx.coroutines.*\r\n\r\nclass TestActivity : AppCompatActivity() {\r\n\r\n    private val tag = &quot;TEST&quot;\r\n    lateinit var job: Job\r\n\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        setContentView(R.layout.activity_test)\r\n\r\n        val button = findViewById&lt;Button&gt;(R.id.stopbutton)\r\n\r\n        job = lifecycleScope.launch(Dispatchers.IO) {\r\n\r\n            (1..120).forEach {\r\n\r\n                // big long operation e.g. writing a large data file\r\n                Log.d(tag, &quot;ticking $it&quot;)\r\n\r\n                if ( !isActive ) {\r\n                    // this code never happens after....\r\n                    // 1. button is clicked to cancel job\r\n                    // 2. app is killed\r\n                    Log.d(tag, &quot;ticking stopped by button&quot;)\r\n                    // clean up the partially written file\r\n                    return@launch\r\n                }\r\n\r\n                delay(1000)\r\n            }\r\n\r\n        }\r\n\r\n        button.setOnClickListener {\r\n            job.cancel()\r\n        }\r\n\r\n    }\r\n\r\n}\r\n```\r\n\r\nExpected Output (Should be same as Java Thread code):\r\n```\r\nticking 1\r\nticking 2\r\nticking 3\r\nticking stopped\r\n```\r\n\r\nActual Coroutine Output:\r\n```\r\nticking 1\r\nticking 2\r\nticking 3\r\n```\r\n\r\nAnd the Java code for handling thread interrupts.\r\n```lang-java\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.os.Bundle;\r\nimport android.os.SystemClock;\r\nimport android.util.Log;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    protected Thread t = null;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        t = new Thread(){\r\n\r\n            @Override\r\n            public void run() {\r\n\r\n                for ( int x = 0; x &lt; 120; x++ ) {\r\n                    Log.d(&quot;TEST&quot;, &quot;ticking &quot; + x);\r\n\r\n                    if ( interrupted() ) {\r\n                        Log.d(&quot;TEST&quot;, &quot;ticking stopped by button&quot;);\r\n                        return;\r\n                    }\r\n\r\n                    // just for demoing\r\n                    SystemClock.sleep(1000);\r\n\r\n                }\r\n\r\n            }\r\n        };\r\n        t.start();\r\n\r\n        Button btn = findViewById(R.id.button);\r\n        btn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                t.interrupt();\r\n            }\r\n        });\r\n    }\r\n}\r\n```\r\n\r\n**Update 1**\r\n\r\nAfter following @Sergio and @Pawel&#39;s quick replies I have removed delay() and replaced it with SystemClock.sleep() just like in Java to simulate long operations. Now it works as expected although I wonder why so many tutorials use it without highlighting the issue.\r\n\r\nStill trying to figure out what is the point of attaching a coroutine to a lifecycle scope if it doesn&#39;t auto cancel() onstop() such as described here:\r\n\r\nhttps://medium.com/androiddevelopers/cancellation-in-coroutines-aa6b90163629\r\n\r\nOr maybe I&#39;m missing the point?","title":"Coroutine Lifecycle Scope and isActive not working?","body":"<p>I've been working with Coroutines thinking they work like Java Threads where the isAlive boolean is the same as checking for isInterrupted() in a long running operation such as writing a large file.</p>\n<p>In the past the Coroutine has worked as expected but in the current version 1.6.1-native-mt it doesn't seem to work like that any more. In the code below, the code inside the isAlive check doesn't seem to run even when I switch to the 1.6.1 non-multithreaded library.</p>\n<p>If this is the way it's supposed to work? What should the correct way of performing a clean-up after a job is cancelled?</p>\n<p>Also when attaching a Coroutine to a scope, in this case the Activity, shouldn't it be auto-cancelled when a new Activity is started? It seems to keep running if it isn't cancelled manually like in Java during the onPause()/onStop() phase.</p>\n<p>Kotlin Coroutine:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>import android.os.Bundle\nimport android.util.Log\nimport android.widget.Button\nimport androidx.appcompat.app.AppCompatActivity\nimport androidx.lifecycle.lifecycleScope\nimport kotlinx.coroutines.*\n\nclass TestActivity : AppCompatActivity() {\n\n    private val tag = &quot;TEST&quot;\n    lateinit var job: Job\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_test)\n\n        val button = findViewById&lt;Button&gt;(R.id.stopbutton)\n\n        job = lifecycleScope.launch(Dispatchers.IO) {\n\n            (1..120).forEach {\n\n                // big long operation e.g. writing a large data file\n                Log.d(tag, &quot;ticking $it&quot;)\n\n                if ( !isActive ) {\n                    // this code never happens after....\n                    // 1. button is clicked to cancel job\n                    // 2. app is killed\n                    Log.d(tag, &quot;ticking stopped by button&quot;)\n                    // clean up the partially written file\n                    return@launch\n                }\n\n                delay(1000)\n            }\n\n        }\n\n        button.setOnClickListener {\n            job.cancel()\n        }\n\n    }\n\n}\n</code></pre>\n<p>Expected Output (Should be same as Java Thread code):</p>\n<pre><code>ticking 1\nticking 2\nticking 3\nticking stopped\n</code></pre>\n<p>Actual Coroutine Output:</p>\n<pre><code>ticking 1\nticking 2\nticking 3\n</code></pre>\n<p>And the Java code for handling thread interrupts.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import androidx.appcompat.app.AppCompatActivity;\n\nimport android.os.Bundle;\nimport android.os.SystemClock;\nimport android.util.Log;\nimport android.view.View;\nimport android.widget.Button;\n\npublic class MainActivity extends AppCompatActivity {\n\n    protected Thread t = null;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        t = new Thread(){\n\n            @Override\n            public void run() {\n\n                for ( int x = 0; x &lt; 120; x++ ) {\n                    Log.d(&quot;TEST&quot;, &quot;ticking &quot; + x);\n\n                    if ( interrupted() ) {\n                        Log.d(&quot;TEST&quot;, &quot;ticking stopped by button&quot;);\n                        return;\n                    }\n\n                    // just for demoing\n                    SystemClock.sleep(1000);\n\n                }\n\n            }\n        };\n        t.start();\n\n        Button btn = findViewById(R.id.button);\n        btn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                t.interrupt();\n            }\n        });\n    }\n}\n</code></pre>\n<p><strong>Update 1</strong></p>\n<p>After following @Sergio and @Pawel's quick replies I have removed delay() and replaced it with SystemClock.sleep() just like in Java to simulate long operations. Now it works as expected although I wonder why so many tutorials use it without highlighting the issue.</p>\n<p>Still trying to figure out what is the point of attaching a coroutine to a lifecycle scope if it doesn't auto cancel() onstop() such as described here:</p>\n<p><a href=\"https://medium.com/androiddevelopers/cancellation-in-coroutines-aa6b90163629\" rel=\"nofollow noreferrer\">https://medium.com/androiddevelopers/cancellation-in-coroutines-aa6b90163629</a></p>\n<p>Or maybe I'm missing the point?</p>\n"},{"tags":["java","android-studio","kotlin","android-jetpack-compose"],"comments":[{"owner":{"account_id":9822073,"reputation":737,"user_id":7276442,"display_name":"Priyank Jain"},"score":0,"creation_date":1657000965,"post_id":72861090,"comment_id":128699009,"body_markdown":"Note that according to [TextDelegate](https://cs.android.com/androidx/platform/frameworks/support/+/androidx-main:compose/foundation/foundation/src/commonMain/kotlin/androidx/compose/foundation/text/TextDelegate.kt;l=58) if you want to use both withStyle() on AnnotatedString and the style = MaterialTheme.typography.body2. The AnnotatedString style will always have the higher priority. Means withStyle() will always take priority over the passed style attribute on ClickableText.","body":"Note that according to <a href=\"https://cs.android.com/androidx/platform/frameworks/support/+/androidx-main:compose/foundation/foundation/src/commonMain/kotlin/androidx/compose/foundation/text/TextDelegate.kt;l=58\" rel=\"nofollow noreferrer\">TextDelegate</a> if you want to use both withStyle() on AnnotatedString and the style = MaterialTheme.typography.body2. The AnnotatedString style will always have the higher priority. Means withStyle() will always take priority over the passed style attribute on ClickableText."},{"owner":{"account_id":12538756,"reputation":968,"user_id":9124515,"display_name":"Ibramazin"},"score":0,"creation_date":1657024111,"post_id":72861090,"comment_id":128706560,"body_markdown":"I cant even pass &#39;style&#39; attribute to ClickableText","body":"I cant even pass &#39;style&#39; attribute to ClickableText"},{"owner":{"account_id":9822073,"reputation":737,"user_id":7276442,"display_name":"Priyank Jain"},"score":0,"creation_date":1657083056,"post_id":72861090,"comment_id":128721985,"body_markdown":"You can pass the style attribute, can you post your entire code so that I can have a look?","body":"You can pass the style attribute, can you post your entire code so that I can have a look?"}],"owner":{"account_id":12538756,"reputation":968,"user_id":9124515,"display_name":"Ibramazin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1656961704,"creation_date":1656961704,"question_id":72861090,"body_markdown":"I can use:\r\n\r\n\r\n    Text(\r\n        ...........\r\n         style = MaterialTheme.typography.body2,\r\n         .........\r\n       )\r\n\r\nBut I cant use:\r\n\r\n     ClickableText(\r\n        ...........\r\n        style = MaterialTheme.typography.body2. //not working\r\n    )\r\n\r\nI need to use the `&#39;style&#39;` attribute for text related UI composables like `ClickableText` and while building annotated strings using `withStyle(...)`\r\n\r\nAlso I should be able to call my theme - `Materialtheme.typography.whatever` on the style","title":"Unable to use style on other UI composables aside Text","body":"<p>I can use:</p>\n<pre><code>Text(\n    ...........\n     style = MaterialTheme.typography.body2,\n     .........\n   )\n</code></pre>\n<p>But I cant use:</p>\n<pre><code> ClickableText(\n    ...........\n    style = MaterialTheme.typography.body2. //not working\n)\n</code></pre>\n<p>I need to use the <code>'style'</code> attribute for text related UI composables like <code>ClickableText</code> and while building annotated strings using <code>withStyle(...)</code></p>\n<p>Also I should be able to call my theme - <code>Materialtheme.typography.whatever</code> on the style</p>\n"},{"tags":["java","apache-spark","offsetdatetime"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1656958848,"post_id":72859243,"comment_id":128692082,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1656952588,"creation_date":1656950060,"answer_id":72859351,"question_id":72859243,"body_markdown":"# `OffsetDateTime` not supported by `Encoders`\r\n\r\nAs per `Encoder` [doc][1], supported type for bean fields are:\r\n\r\n&gt; supported types for java bean field: - primitive types: boolean, int,\r\n&gt; double, etc. - boxed types: Boolean, Integer, Double, etc. - String -\r\n&gt; java.math.BigDecimal, java.math.BigInteger - time related:\r\n&gt; java.sql.Date, java.sql.Timestamp, java.time.LocalDate,\r\n&gt; java.time.Instant - collection types: array, java.util.List, and map -\r\n&gt; nested java bean.\r\n\r\n\r\nSo it looks like it may not be possible to use `OffsetDateTime` as far as I can see.\r\n`ZoneOffset` is part of `OffsetDateTime` field so call `Encoders.bean` might be generating code which keeps referring `ZoneOffset` in circular manner.\r\n\r\n# Use `Instant`\r\n\r\nYou can convert a `OffsetDateTime` object to the more basic class, [`Instant`][2]. \r\n\r\n    Instant instant = odt.toInstant() ;\r\n\r\n\r\nAnd back again.\r\n\r\n    ZoneOffset offset = ZoneOffset.ofHours( -8 ) ;\r\n    OffsetDateTime odt = instant.atOffset( offset ) ;\r\n\r\n\r\n  [1]: https://spark.apache.org/docs/latest/api/java/org/apache/spark/sql/Encoders.html#bean-java.lang.Class-\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Instant.html","title":"java.lang.UnsupportedOperationException: Cannot have circular references in bean class but got the circular reference of class java.time.ZoneOffset","body":"<h1><code>OffsetDateTime</code> not supported by <code>Encoders</code></h1>\n<p>As per <code>Encoder</code> <a href=\"https://spark.apache.org/docs/latest/api/java/org/apache/spark/sql/Encoders.html#bean-java.lang.Class-\" rel=\"nofollow noreferrer\">doc</a>, supported type for bean fields are:</p>\n<blockquote>\n<p>supported types for java bean field: - primitive types: boolean, int,\ndouble, etc. - boxed types: Boolean, Integer, Double, etc. - String -\njava.math.BigDecimal, java.math.BigInteger - time related:\njava.sql.Date, java.sql.Timestamp, java.time.LocalDate,\njava.time.Instant - collection types: array, java.util.List, and map -\nnested java bean.</p>\n</blockquote>\n<p>So it looks like it may not be possible to use <code>OffsetDateTime</code> as far as I can see.\n<code>ZoneOffset</code> is part of <code>OffsetDateTime</code> field so call <code>Encoders.bean</code> might be generating code which keeps referring <code>ZoneOffset</code> in circular manner.</p>\n<h1>Use <code>Instant</code></h1>\n<p>You can convert a <code>OffsetDateTime</code> object to the more basic class, <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Instant.html\" rel=\"nofollow noreferrer\"><code>Instant</code></a>.</p>\n<pre><code>Instant instant = odt.toInstant() ;\n</code></pre>\n<p>And back again.</p>\n<pre><code>ZoneOffset offset = ZoneOffset.ofHours( -8 ) ;\nOffsetDateTime odt = instant.atOffset( offset ) ;\n</code></pre>\n"}],"owner":{"account_id":25723804,"reputation":23,"user_id":19480452,"display_name":"Vidhi Agarwal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":963,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72859351,"answer_count":1,"score":2,"last_activity_date":1656961225,"creation_date":1656949375,"question_id":72859243,"body_markdown":"While executing the below command \r\n\r\n```StructType obs = Encoders.bean(Test.class).schema();```\r\n\r\nI am getting the below error\r\n\r\n```java.lang.UnsupportedOperationException: Cannot have circular references in bean class, but got the circular reference of class class java.time.ZoneOffset```\r\n\r\nclass Test has ```OffsetDateTime``` field, which is causing the error. If I remove this field the error also goes away.\r\nIs there a way by which I can avoid this circular reference error and also use OffsetDateTime?\r\n\r\n\r\n```java.lang.UnsupportedOperationException: Cannot have circular references in bean class, but got the circular reference of class class java.time.ZoneOffset\r\njava.lang.UnsupportedOperationException: Cannot have circular references in bean class, but got the circular reference of class class java.time.ZoneOffset\r\n\tat org.apache.spark.sql.errors.QueryExecutionErrors$.cannotHaveCircularReferencesInBeanClassError(QueryExecutionErrors.scala:984)\r\n\tat org.apache.spark.sql.catalyst.JavaTypeInference$.inferDataType(JavaTypeInference.scala:148)\r\n\tat org.apache.spark.sql.catalyst.JavaTypeInference$.$anonfun$inferDataType$1(JavaTypeInference.scala:156)\r\n\tat scala.collection.TraversableLike.$anonfun$map$1(TraversableLike.scala:286)\r\n\tat scala.collection.IndexedSeqOptimized.foreach(IndexedSeqOptimized.scala:36)\r\n\tat scala.collection.IndexedSeqOptimized.foreach$(IndexedSeqOptimized.scala:33)\r\n\tat scala.collection.mutable.ArrayOps$ofRef.foreach(ArrayOps.scala:198)\r\n\tat scala.collection.TraversableLike.map(TraversableLike.scala:286)\r\n\tat scala.collection.TraversableLike.map$(TraversableLike.scala:279)\r\n\tat scala.collection.mutable.ArrayOps$ofRef.map(ArrayOps.scala:198)\r\n\tat org.apache.spark.sql.catalyst.JavaTypeInference$.inferDataType(JavaTypeInference.scala:154)\r\n\tat org.apache.spark.sql.catalyst.JavaTypeInference$.inferDataType(JavaTypeInference.scala:134)\r\n\tat org.apache.spark.sql.catalyst.JavaTypeInference$.$anonfun$inferDataType$1(JavaTypeInference.scala:156)\r\n\tat scala.collection.TraversableLike.$anonfun$map$1(TraversableLike.scala:286)\r\n\tat scala.collection.IndexedSeqOptimized.foreach(IndexedSeqOptimized.scala:36)\r\n\tat scala.collection.IndexedSeqOptimized.foreach$(IndexedSeqOptimized.scala:33)\r\n\tat scala.collection.mutable.ArrayOps$ofRef.foreach(ArrayOps.scala:198)\r\n\tat scala.collection.TraversableLike.map(TraversableLike.scala:286)\r\n\tat scala.collection.TraversableLike.map$(TraversableLike.scala:279)\r\n\tat scala.collection.mutable.ArrayOps$ofRef.map(ArrayOps.scala:198)\r\n\tat org.apache.spark.sql.catalyst.JavaTypeInference$.inferDataType(JavaTypeInference.scala:154)\r\n\tat org.apache.spark.sql.catalyst.JavaTypeInference$.$anonfun$inferDataType$1(JavaTypeInference.scala:156)\r\n\tat scala.collection.TraversableLike.$anonfun$map$1(TraversableLike.scala:286)\r\n\tat scala.collection.IndexedSeqOptimized.foreach(IndexedSeqOptimized.scala:36)\r\n\tat scala.collection.IndexedSeqOptimized.foreach$(IndexedSeqOptimized.scala:33)\r\n\tat scala.collection.mutable.ArrayOps$ofRef.foreach(ArrayOps.scala:198)\r\n\tat scala.collection.TraversableLike.map(TraversableLike.scala:286)\r\n\tat scala.collection.TraversableLike.map$(TraversableLike.scala:279)\r\n\tat scala.collection.mutable.ArrayOps$ofRef.map(ArrayOps.scala:198)\r\n\tat org.apache.spark.sql.catalyst.JavaTypeInference$.inferDataType(JavaTypeInference.scala:154)\r\n\tat org.apache.spark.sql.catalyst.JavaTypeInference$.$anonfun$inferDataType$1(JavaTypeInference.scala:156)\r\n\tat scala.collection.TraversableLike.$anonfun$map$1(TraversableLike.scala:286)\r\n\tat scala.collection.IndexedSeqOptimized.foreach(IndexedSeqOptimized.scala:36)\r\n\tat scala.collection.IndexedSeqOptimized.foreach$(IndexedSeqOptimized.scala:33)\r\n\tat scala.collection.mutable.ArrayOps$ofRef.foreach(ArrayOps.scala:198)\r\n\tat scala.collection.TraversableLike.map(TraversableLike.scala:286)\r\n\tat scala.collection.TraversableLike.map$(TraversableLike.scala:279)\r\n\tat scala.collection.mutable.ArrayOps$ofRef.map(ArrayOps.scala:198)\r\n\tat org.apache.spark.sql.catalyst.JavaTypeInference$.inferDataType(JavaTypeInference.scala:154)\r\n\tat org.apache.spark.sql.catalyst.JavaTypeInference$.$anonfun$inferDataType$1(JavaTypeInference.scala:156)\r\n\tat scala.collection.TraversableLike.$anonfun$map$1(TraversableLike.scala:286)\r\n\tat scala.collection.IndexedSeqOptimized.foreach(IndexedSeqOptimized.scala:36)\r\n\tat scala.collection.IndexedSeqOptimized.foreach$(IndexedSeqOptimized.scala:33)\r\n\tat scala.collection.mutable.ArrayOps$ofRef.foreach(ArrayOps.scala:198)\r\n\tat scala.collection.TraversableLike.map(TraversableLike.scala:286)\r\n\tat scala.collection.TraversableLike.map$(TraversableLike.scala:279)\r\n\tat scala.collection.mutable.ArrayOps$ofRef.map(ArrayOps.scala:198)\r\n\tat org.apache.spark.sql.catalyst.JavaTypeInference$.inferDataType(JavaTypeInference.scala:154)\r\n\tat org.apache.spark.sql.catalyst.JavaTypeInference$.inferDataType(JavaTypeInference.scala:70)\r\n\tat org.apache.spark.sql.catalyst.encoders.ExpressionEncoder$.javaBean(ExpressionEncoder.scala:66)\r\n\tat org.apache.spark.sql.Encoders$.bean(Encoders.scala:171)\r\n\tat org.apache.spark.sql.Encoders.bean(Encoders.scala)```\r\n\r\n","title":"java.lang.UnsupportedOperationException: Cannot have circular references in bean class but got the circular reference of class java.time.ZoneOffset","body":"<p>While executing the below command</p>\n<p><code>StructType obs = Encoders.bean(Test.class).schema();</code></p>\n<p>I am getting the below error</p>\n<p><code>java.lang.UnsupportedOperationException: Cannot have circular references in bean class, but got the circular reference of class class java.time.ZoneOffset</code></p>\n<p>class Test has <code>OffsetDateTime</code> field, which is causing the error. If I remove this field the error also goes away.\nIs there a way by which I can avoid this circular reference error and also use OffsetDateTime?</p>\n<pre><code>java.lang.UnsupportedOperationException: Cannot have circular references in bean class, but got the circular reference of class class java.time.ZoneOffset\n    at org.apache.spark.sql.errors.QueryExecutionErrors$.cannotHaveCircularReferencesInBeanClassError(QueryExecutionErrors.scala:984)\n    at org.apache.spark.sql.catalyst.JavaTypeInference$.inferDataType(JavaTypeInference.scala:148)\n    at org.apache.spark.sql.catalyst.JavaTypeInference$.$anonfun$inferDataType$1(JavaTypeInference.scala:156)\n    at scala.collection.TraversableLike.$anonfun$map$1(TraversableLike.scala:286)\n    at scala.collection.IndexedSeqOptimized.foreach(IndexedSeqOptimized.scala:36)\n    at scala.collection.IndexedSeqOptimized.foreach$(IndexedSeqOptimized.scala:33)\n    at scala.collection.mutable.ArrayOps$ofRef.foreach(ArrayOps.scala:198)\n    at scala.collection.TraversableLike.map(TraversableLike.scala:286)\n    at scala.collection.TraversableLike.map$(TraversableLike.scala:279)\n    at scala.collection.mutable.ArrayOps$ofRef.map(ArrayOps.scala:198)\n    at org.apache.spark.sql.catalyst.JavaTypeInference$.inferDataType(JavaTypeInference.scala:154)\n    at org.apache.spark.sql.catalyst.JavaTypeInference$.inferDataType(JavaTypeInference.scala:134)\n    at org.apache.spark.sql.catalyst.JavaTypeInference$.$anonfun$inferDataType$1(JavaTypeInference.scala:156)\n    at scala.collection.TraversableLike.$anonfun$map$1(TraversableLike.scala:286)\n    at scala.collection.IndexedSeqOptimized.foreach(IndexedSeqOptimized.scala:36)\n    at scala.collection.IndexedSeqOptimized.foreach$(IndexedSeqOptimized.scala:33)\n    at scala.collection.mutable.ArrayOps$ofRef.foreach(ArrayOps.scala:198)\n    at scala.collection.TraversableLike.map(TraversableLike.scala:286)\n    at scala.collection.TraversableLike.map$(TraversableLike.scala:279)\n    at scala.collection.mutable.ArrayOps$ofRef.map(ArrayOps.scala:198)\n    at org.apache.spark.sql.catalyst.JavaTypeInference$.inferDataType(JavaTypeInference.scala:154)\n    at org.apache.spark.sql.catalyst.JavaTypeInference$.$anonfun$inferDataType$1(JavaTypeInference.scala:156)\n    at scala.collection.TraversableLike.$anonfun$map$1(TraversableLike.scala:286)\n    at scala.collection.IndexedSeqOptimized.foreach(IndexedSeqOptimized.scala:36)\n    at scala.collection.IndexedSeqOptimized.foreach$(IndexedSeqOptimized.scala:33)\n    at scala.collection.mutable.ArrayOps$ofRef.foreach(ArrayOps.scala:198)\n    at scala.collection.TraversableLike.map(TraversableLike.scala:286)\n    at scala.collection.TraversableLike.map$(TraversableLike.scala:279)\n    at scala.collection.mutable.ArrayOps$ofRef.map(ArrayOps.scala:198)\n    at org.apache.spark.sql.catalyst.JavaTypeInference$.inferDataType(JavaTypeInference.scala:154)\n    at org.apache.spark.sql.catalyst.JavaTypeInference$.$anonfun$inferDataType$1(JavaTypeInference.scala:156)\n    at scala.collection.TraversableLike.$anonfun$map$1(TraversableLike.scala:286)\n    at scala.collection.IndexedSeqOptimized.foreach(IndexedSeqOptimized.scala:36)\n    at scala.collection.IndexedSeqOptimized.foreach$(IndexedSeqOptimized.scala:33)\n    at scala.collection.mutable.ArrayOps$ofRef.foreach(ArrayOps.scala:198)\n    at scala.collection.TraversableLike.map(TraversableLike.scala:286)\n    at scala.collection.TraversableLike.map$(TraversableLike.scala:279)\n    at scala.collection.mutable.ArrayOps$ofRef.map(ArrayOps.scala:198)\n    at org.apache.spark.sql.catalyst.JavaTypeInference$.inferDataType(JavaTypeInference.scala:154)\n    at org.apache.spark.sql.catalyst.JavaTypeInference$.$anonfun$inferDataType$1(JavaTypeInference.scala:156)\n    at scala.collection.TraversableLike.$anonfun$map$1(TraversableLike.scala:286)\n    at scala.collection.IndexedSeqOptimized.foreach(IndexedSeqOptimized.scala:36)\n    at scala.collection.IndexedSeqOptimized.foreach$(IndexedSeqOptimized.scala:33)\n    at scala.collection.mutable.ArrayOps$ofRef.foreach(ArrayOps.scala:198)\n    at scala.collection.TraversableLike.map(TraversableLike.scala:286)\n    at scala.collection.TraversableLike.map$(TraversableLike.scala:279)\n    at scala.collection.mutable.ArrayOps$ofRef.map(ArrayOps.scala:198)\n    at org.apache.spark.sql.catalyst.JavaTypeInference$.inferDataType(JavaTypeInference.scala:154)\n    at org.apache.spark.sql.catalyst.JavaTypeInference$.inferDataType(JavaTypeInference.scala:70)\n    at org.apache.spark.sql.catalyst.encoders.ExpressionEncoder$.javaBean(ExpressionEncoder.scala:66)\n    at org.apache.spark.sql.Encoders$.bean(Encoders.scala:171)\n    at org.apache.spark.sql.Encoders.bean(Encoders.scala)```\n\n</code></pre>\n"},{"tags":["java","c#","printing","thermal-printer","printer-control-language"],"answers":[{"tags":[],"owner":{"account_id":14924576,"reputation":337,"user_id":10775846,"display_name":"Rajiv Reddy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1656961127,"creation_date":1656961127,"answer_id":72861007,"question_id":72737579,"body_markdown":"settings on the printer need to be set to &quot;Label mode&quot;","title":"Toshiba thermal Printer(B-EP4DL) command code, issue in JAVA","body":"<p>settings on the printer need to be set to &quot;Label mode&quot;</p>\n"}],"owner":{"account_id":14924576,"reputation":337,"user_id":10775846,"display_name":"Rajiv Reddy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":434,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72861007,"answer_count":1,"score":0,"last_activity_date":1656961127,"creation_date":1656026892,"question_id":72737579,"body_markdown":"I have been stuck on this print command code related to Toshiba printer, here based on the previous C# code im trying to write the same in Java, where I&#39;m unable to figure out where I&#39;m doing wrong where the Toshiba printer is giving me an error \r\n\r\n&gt; &quot;??AY;-00,1&quot;\r\n\r\n .\r\n\r\nIf I try to change the ESC sequence format then it will print the all data as a Text(not as expected). \r\n\r\nKindly help me with this query, I&#39;m stuck with this Printer related command code.\r\n\r\nPrinter Model : Toshiba thermal printer B-EP4DL\r\n\r\nDocument reffered :\r\n\r\nhttps://www.toshibaprinters.com/technical_information/programmermanuals/B415%20programmers%20guide%205th.pdf\r\n \r\n\r\nOther reference :\r\nhttps://www.toshibaprinters.com/technical_information/programmermanuals/B415%20programmers%20guide%205th.pdf\r\n\r\nhttps://www.manualslib.com/manual/579619/Toshiba-B-Sx4t-Series.html?page=103#manual\r\n\r\nDecimal value for byte[n] = https://bournetocode.com/projects/GCSE_Computing_Fundamentals/pages/3-3-5-ascii.html\r\n\r\n\r\n    DataOutputStream outToPrt = new DataOutputStream(prtSocket.getOutputStream());\r\n    \r\n    \r\n            outToPrt.writeUTF(&quot;\\u001bD1780,0140,1600\\n\\u0000&quot;);\r\n            outToPrt.writeUTF(&quot;\\u001bAY;+20,1\\n\\u0000&quot;);\r\n            outToPrt.writeUTF(&quot;\\u001bC\\n\\u0000&quot;);\r\n    \r\n            outToPrt.writeUTF(&quot;\\u001bD0715,1040,0635\\n\\u0000&quot;);\r\n            outToPrt.writeUTF(&quot;\\u001bAY;-00,1\\n\\u0000&quot;);\r\n            outToPrt.writeUTF(&quot;\\u001bAX;+012\\n\\u0000&quot;);\r\n            outputStreamWriter.write(&quot;\\u001bC\\n\\u0000&quot;);\r\n    \r\n    \r\n            // send printer formatting sequence\r\n            outToPrt.writeUTF(&quot;\\u001bPC00;0030,0015,1,1,G,00,B,00,1,0\\n\\u0000&quot;);             // Blank\r\n            outToPrt.writeUTF(&quot;\\u001bPC01;0010,0145,3,3,S,00,B,00,1,0\\n\\u0000&quot;);                // Scan Date &amp; Time\r\n    \r\n    \r\n            outToPrt.writeUTF(&quot;\\u001bPV03;0010,0390,0130,0210,B,00,B,00,1,0\\n\\u0000&quot;);      \r\n\r\n            outToPrt.writeUTF(&quot;\\u001bPV04;0365,0360,0175,0275,B,00,B,00,1,0\\n\\u0000&quot;);      \r\n\r\n            outToPrt.writeUTF(&quot;\\u001bPV05;0450,0440,0070,0080,B,00,W,00,1,0\\n\\u0000&quot;);     \r\n    \r\n            outToPrt.writeUTF(&quot;\\u001bXB07;0055,0460,9,3,03,0,0060,000,0,00,1,0\\n\\u0000&quot;);   // Barcode (Code 128)\r\n    \r\n            outToPrt.writeUTF(&quot;\\u001bPC06;0010,0575,2,2,S,00,B,00,1,0\\n\\u0000&quot;);                \r\n\r\n            outToPrt.writeUTF(&quot;\\u001bPC08;0800,0575,2,2,S,00,B,00,1,0\\n\\u0000&quot;);                \r\n\r\n    \r\n            //tell printer end of formatting sequence\r\n            outToPrt.writeUTF(&quot;\\u001bXP\\n\\u0000&quot;);\r\n    \r\n            // send the remote machine name\r\n    \r\n            outToPrt.writeUTF(String.format(&quot;\\u001b\\u0058\\u0000\\u0000\\u0001%1$s\\n%2$s\\n%3$s\\n%4$s\\n%5$s\\n%6$s\\n%7$s\\n%8$s - %9$s - %10$s\\n%11$s\\n\\u0000&quot;,\r\n                    &quot;&quot;,                   // Blank  {0}\r\n                    &quot;26Apr22 11:40&quot;,           \r\n                    &quot;023 Data&quot;,        \r\n                    &quot;ABC&quot;,            \r\n                    &quot;AB-06&quot;,               \r\n                    &quot;Print-Mode&quot;,        // Mode\r\n                    &quot;1234567890&quot;,        // barcode\r\n                    &quot;319241&quot;,     \r\n                    &quot;HAP2211461&quot;,      \r\n                    &quot;3.0.1&quot;,   \r\n                    &quot;aprday0329c&quot;));\r\n    //         flush all writes\r\n            outToPrt.flush();\r\n\r\n\r\n\r\nC# Code for reference :\r\n\r\n    private void toshibaPrinterCodes(StreamWriter sw, LabelData labelData){\r\n    \r\n                // send label and format\r\n    \r\n                sw.Write(&quot;\\x1bD0715,1040,0635\\n\\x00&quot;);\r\n                sw.Write(&quot;\\x1bAY;-00,1\\n\\x00&quot;);\r\n    \r\n                sw.Write(&quot;\\x1bAX;+012\\n\\x00&quot;);\r\n                // send printer formatting sequence\r\n                sw.Write(&quot;\\x1bPC00;0030,0015,1,1,G,00,B,00,1,0\\n\\x00&quot;);         \r\n    \r\n                sw.Write(&quot;\\x1bPC01;0010,0145,3,3,S,00,B,00,1,0\\n\\x00&quot;);                   \r\n    \r\n                sw.Write(&quot;\\x1bPV03;0010,0390,0130,0210,B,00,B,00,1,0\\n\\x00&quot;);          \r\n    \r\n                sw.Write(&quot;\\x1bPV04;0365,0360,0175,0275,B,00,B,00,1,0\\n\\x00&quot;);     \r\n    \r\n                sw.Write(&quot;\\x1bPV05;0450,0440,0070,0080,B,00,W,00,1,0\\n\\x00&quot;);          \r\n    \r\n                sw.Write(&quot;\\x1bXB07;0055,0460,9,3,03,0,0060,000,0,00,1,0\\n\\x00&quot;);\r\n    \r\n                sw.Write(&quot;\\x1bPC06;0010,0575,2,2,S,00,B,00,1,0\\n\\x00&quot;);                    \r\n    \r\n                sw.Write(&quot;\\x1bPC08;0800,0575,2,2,S,00,B,00,1,0\\n\\x00&quot;);             \r\n    \r\n                //tell printer end of formatting sequence\r\n    \r\n                sw.Write(&quot;\\x1bXP\\n\\00&quot;);\r\n    \r\n                // send the remote machine name\r\n    \r\n                sw.Write(string.Format(&quot;\\x1b\\x58\\x00\\x00\\x01{0}\\x0a{1}\\x0a{2}\\x0a{3}\\x0a{4}\\x0a{5}\\x0a{6}\\x0a{7} - {8} - {9}\\x0a{10}\\x0a\\00&quot;,\r\n    \r\n                    &quot;&quot;,                                 // Blank  {0}\r\n    \r\n                    labelData.getDataXXX(),           \r\n    \r\n                    labelData. getDataXXX (),         \r\n    \r\n                    labelData. getDataX (),           \r\n    \r\n                    labelData. getDataX (),             \r\n    \r\n                    labelData. getDataX (),       \r\n    \r\n                    labelData. getDataX (),           \r\n    \r\n                    labelData. getDataX (),     \r\n    \r\n                    labelData. getDataX (),         \r\n    \r\n                    labelData. getDataX (),     \r\n    \r\n                    labelData. getDataX ()));         \r\n    \r\n                   \r\n    \r\n                // flush all writes\r\n    \r\n     \r\n    \r\n                sw.Flush();","title":"Toshiba thermal Printer(B-EP4DL) command code, issue in JAVA","body":"<p>I have been stuck on this print command code related to Toshiba printer, here based on the previous C# code im trying to write the same in Java, where I'm unable to figure out where I'm doing wrong where the Toshiba printer is giving me an error</p>\n<blockquote>\n<p>&quot;??AY;-00,1&quot;</p>\n</blockquote>\n<p>.</p>\n<p>If I try to change the ESC sequence format then it will print the all data as a Text(not as expected).</p>\n<p>Kindly help me with this query, I'm stuck with this Printer related command code.</p>\n<p>Printer Model : Toshiba thermal printer B-EP4DL</p>\n<p>Document reffered :</p>\n<p><a href=\"https://www.toshibaprinters.com/technical_information/programmermanuals/B415%20programmers%20guide%205th.pdf\" rel=\"nofollow noreferrer\">https://www.toshibaprinters.com/technical_information/programmermanuals/B415%20programmers%20guide%205th.pdf</a></p>\n<p>Other reference :\n<a href=\"https://www.toshibaprinters.com/technical_information/programmermanuals/B415%20programmers%20guide%205th.pdf\" rel=\"nofollow noreferrer\">https://www.toshibaprinters.com/technical_information/programmermanuals/B415%20programmers%20guide%205th.pdf</a></p>\n<p><a href=\"https://www.manualslib.com/manual/579619/Toshiba-B-Sx4t-Series.html?page=103#manual\" rel=\"nofollow noreferrer\">https://www.manualslib.com/manual/579619/Toshiba-B-Sx4t-Series.html?page=103#manual</a></p>\n<p>Decimal value for byte[n] = <a href=\"https://bournetocode.com/projects/GCSE_Computing_Fundamentals/pages/3-3-5-ascii.html\" rel=\"nofollow noreferrer\">https://bournetocode.com/projects/GCSE_Computing_Fundamentals/pages/3-3-5-ascii.html</a></p>\n<pre><code>DataOutputStream outToPrt = new DataOutputStream(prtSocket.getOutputStream());\n\n\n        outToPrt.writeUTF(&quot;\\u001bD1780,0140,1600\\n\\u0000&quot;);\n        outToPrt.writeUTF(&quot;\\u001bAY;+20,1\\n\\u0000&quot;);\n        outToPrt.writeUTF(&quot;\\u001bC\\n\\u0000&quot;);\n\n        outToPrt.writeUTF(&quot;\\u001bD0715,1040,0635\\n\\u0000&quot;);\n        outToPrt.writeUTF(&quot;\\u001bAY;-00,1\\n\\u0000&quot;);\n        outToPrt.writeUTF(&quot;\\u001bAX;+012\\n\\u0000&quot;);\n        outputStreamWriter.write(&quot;\\u001bC\\n\\u0000&quot;);\n\n\n        // send printer formatting sequence\n        outToPrt.writeUTF(&quot;\\u001bPC00;0030,0015,1,1,G,00,B,00,1,0\\n\\u0000&quot;);             // Blank\n        outToPrt.writeUTF(&quot;\\u001bPC01;0010,0145,3,3,S,00,B,00,1,0\\n\\u0000&quot;);                // Scan Date &amp; Time\n\n\n        outToPrt.writeUTF(&quot;\\u001bPV03;0010,0390,0130,0210,B,00,B,00,1,0\\n\\u0000&quot;);      \n\n        outToPrt.writeUTF(&quot;\\u001bPV04;0365,0360,0175,0275,B,00,B,00,1,0\\n\\u0000&quot;);      \n\n        outToPrt.writeUTF(&quot;\\u001bPV05;0450,0440,0070,0080,B,00,W,00,1,0\\n\\u0000&quot;);     \n\n        outToPrt.writeUTF(&quot;\\u001bXB07;0055,0460,9,3,03,0,0060,000,0,00,1,0\\n\\u0000&quot;);   // Barcode (Code 128)\n\n        outToPrt.writeUTF(&quot;\\u001bPC06;0010,0575,2,2,S,00,B,00,1,0\\n\\u0000&quot;);                \n\n        outToPrt.writeUTF(&quot;\\u001bPC08;0800,0575,2,2,S,00,B,00,1,0\\n\\u0000&quot;);                \n\n\n        //tell printer end of formatting sequence\n        outToPrt.writeUTF(&quot;\\u001bXP\\n\\u0000&quot;);\n\n        // send the remote machine name\n\n        outToPrt.writeUTF(String.format(&quot;\\u001b\\u0058\\u0000\\u0000\\u0001%1$s\\n%2$s\\n%3$s\\n%4$s\\n%5$s\\n%6$s\\n%7$s\\n%8$s - %9$s - %10$s\\n%11$s\\n\\u0000&quot;,\n                &quot;&quot;,                   // Blank  {0}\n                &quot;26Apr22 11:40&quot;,           \n                &quot;023 Data&quot;,        \n                &quot;ABC&quot;,            \n                &quot;AB-06&quot;,               \n                &quot;Print-Mode&quot;,        // Mode\n                &quot;1234567890&quot;,        // barcode\n                &quot;319241&quot;,     \n                &quot;HAP2211461&quot;,      \n                &quot;3.0.1&quot;,   \n                &quot;aprday0329c&quot;));\n//         flush all writes\n        outToPrt.flush();\n</code></pre>\n<p>C# Code for reference :</p>\n<pre><code>private void toshibaPrinterCodes(StreamWriter sw, LabelData labelData){\n\n            // send label and format\n\n            sw.Write(&quot;\\x1bD0715,1040,0635\\n\\x00&quot;);\n            sw.Write(&quot;\\x1bAY;-00,1\\n\\x00&quot;);\n\n            sw.Write(&quot;\\x1bAX;+012\\n\\x00&quot;);\n            // send printer formatting sequence\n            sw.Write(&quot;\\x1bPC00;0030,0015,1,1,G,00,B,00,1,0\\n\\x00&quot;);         \n\n            sw.Write(&quot;\\x1bPC01;0010,0145,3,3,S,00,B,00,1,0\\n\\x00&quot;);                   \n\n            sw.Write(&quot;\\x1bPV03;0010,0390,0130,0210,B,00,B,00,1,0\\n\\x00&quot;);          \n\n            sw.Write(&quot;\\x1bPV04;0365,0360,0175,0275,B,00,B,00,1,0\\n\\x00&quot;);     \n\n            sw.Write(&quot;\\x1bPV05;0450,0440,0070,0080,B,00,W,00,1,0\\n\\x00&quot;);          \n\n            sw.Write(&quot;\\x1bXB07;0055,0460,9,3,03,0,0060,000,0,00,1,0\\n\\x00&quot;);\n\n            sw.Write(&quot;\\x1bPC06;0010,0575,2,2,S,00,B,00,1,0\\n\\x00&quot;);                    \n\n            sw.Write(&quot;\\x1bPC08;0800,0575,2,2,S,00,B,00,1,0\\n\\x00&quot;);             \n\n            //tell printer end of formatting sequence\n\n            sw.Write(&quot;\\x1bXP\\n\\00&quot;);\n\n            // send the remote machine name\n\n            sw.Write(string.Format(&quot;\\x1b\\x58\\x00\\x00\\x01{0}\\x0a{1}\\x0a{2}\\x0a{3}\\x0a{4}\\x0a{5}\\x0a{6}\\x0a{7} - {8} - {9}\\x0a{10}\\x0a\\00&quot;,\n\n                &quot;&quot;,                                 // Blank  {0}\n\n                labelData.getDataXXX(),           \n\n                labelData. getDataXXX (),         \n\n                labelData. getDataX (),           \n\n                labelData. getDataX (),             \n\n                labelData. getDataX (),       \n\n                labelData. getDataX (),           \n\n                labelData. getDataX (),     \n\n                labelData. getDataX (),         \n\n                labelData. getDataX (),     \n\n                labelData. getDataX ()));         \n\n               \n\n            // flush all writes\n\n \n\n            sw.Flush();\n</code></pre>\n"},{"tags":["java","android","android-fragments"],"answers":[{"tags":[],"owner":{"account_id":7031093,"reputation":517,"user_id":8772085,"display_name":"Dreamer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1656961047,"creation_date":1656960739,"answer_id":72860962,"question_id":72859902,"body_markdown":"You can try this on your way\r\n\r\nMainActivity.java\r\n\r\n    static SwitchMaterial switchMaterial;\r\n\r\n\r\nFragment.java\r\n\r\n    if (MainActivity.switchMaterial.isChecked()){\r\n            Toast.makeText(getActivity(), &quot;checked&quot;, Toast.LENGTH_SHORT).show();\r\n        }else {\r\n            Toast.makeText(getActivity(), &quot;not checked&quot;, Toast.LENGTH_SHORT).show();\r\n        }\r\n\r\nThis should work but can make memory leak in some cases .. You may also try using SharedPreferences for example to avoid memory leaks\r\n\r\n","title":"How can I get MaterialSwitch id from activity in fragment in android?","body":"<p>You can try this on your way</p>\n<p>MainActivity.java</p>\n<pre><code>static SwitchMaterial switchMaterial;\n</code></pre>\n<p>Fragment.java</p>\n<pre><code>if (MainActivity.switchMaterial.isChecked()){\n        Toast.makeText(getActivity(), &quot;checked&quot;, Toast.LENGTH_SHORT).show();\n    }else {\n        Toast.makeText(getActivity(), &quot;not checked&quot;, Toast.LENGTH_SHORT).show();\n    }\n</code></pre>\n<p>This should work but can make memory leak in some cases .. You may also try using SharedPreferences for example to avoid memory leaks</p>\n"}],"owner":{"account_id":19885834,"reputation":173,"user_id":14568825,"display_name":"Aisha Kumari"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72860962,"answer_count":1,"score":0,"last_activity_date":1656961047,"creation_date":1656953455,"question_id":72859902,"body_markdown":"How can I get materialSwitch id in fragment from activity. switch which is in mainActivity but i want to check in fragment whether the switch is on or off. for example &quot;if(switchMaterial.ischecked){\r\ncode...\r\n}&quot; by calling the id from the mainActivity in fragment\r\n\r\nI have tried this but it doesn&#39;t worked \r\n\r\nMainActivity.java\r\n\r\n        public SwitchMaterial switchMaterial;\r\n\r\n\r\n\r\n Fragment.java\r\n\r\n     if (((MainActivity) getActivity()).switchMaterial.isChecked()){\r\n            Toast.makeText(getActivity(), &quot;checked&quot;, Toast.LENGTH_SHORT).show();\r\n        }else {\r\n            Toast.makeText(getActivity(), &quot;not checked&quot;, Toast.LENGTH_SHORT).show();\r\n        }\r\n\r\n\r\nIs this possible to call id from activity to fragment. If possible please help me out. \r\n","title":"How can I get MaterialSwitch id from activity in fragment in android?","body":"<p>How can I get materialSwitch id in fragment from activity. switch which is in mainActivity but i want to check in fragment whether the switch is on or off. for example &quot;if(switchMaterial.ischecked){\ncode...\n}&quot; by calling the id from the mainActivity in fragment</p>\n<p>I have tried this but it doesn't worked</p>\n<p>MainActivity.java</p>\n<pre><code>    public SwitchMaterial switchMaterial;\n</code></pre>\n<p>Fragment.java</p>\n<pre><code> if (((MainActivity) getActivity()).switchMaterial.isChecked()){\n        Toast.makeText(getActivity(), &quot;checked&quot;, Toast.LENGTH_SHORT).show();\n    }else {\n        Toast.makeText(getActivity(), &quot;not checked&quot;, Toast.LENGTH_SHORT).show();\n    }\n</code></pre>\n<p>Is this possible to call id from activity to fragment. If possible please help me out.</p>\n"},{"tags":["java","jnp"],"answers":[{"tags":[],"owner":{"account_id":1324402,"reputation":3807,"user_id":1269558,"display_name":"diogo"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1656960913,"creation_date":1470166941,"answer_id":38729176,"question_id":26843104,"body_markdown":"In short, **JNP** is the official JNDI naming implementation of JBoss AS prior to its version &lt; 7.x, based on the JNP project (refer to [the code repo URL][1]).\r\n\r\nFrom the [new AS7 documentation][2]:\r\n\r\n&gt; Previous versions of JBoss AS (versions &lt; 7.x) used [JNP project][3]\r\n&gt; as the JNDI\r\n&gt; naming implementation. Developers of client applications of previous\r\n&gt; versions of JBoss AS will be familiar with the `jnp:// PROVIDER_URL URL`\r\n&gt; they used to use in their applications for communicating with the JNDI\r\n&gt; server on the JBoss server. \r\n&gt;\r\n&gt; Starting AS7, the JNP project is not used.\r\n&gt; Neither on the server side nor on the client side. The client side of\r\n&gt; the JNP project has now been replaced by [jboss-remote-naming project][4].\r\n&gt;\r\n&gt; There were various\r\n&gt; reasons why the JNP client was replaced by jboss-remote-naming\r\n&gt; project. One of them was the JNP project did not allow fine grained\r\n&gt; security configurations while communicating with the JNDI server. The\r\n&gt; jboss-remote-naming project is backed by the [jboss-remoting project][5]\r\n&gt; which allows much\r\n&gt; more and better control over security.\r\n\r\nIts specification is poor, most of the references we find about it are located at JBoss docs prior to the version 7, like in https://docs.jboss.org/jbossas/jboss4guide/r1/html/ch3.chapter.html\r\n\r\n\r\n  [1]: http://anonsvn.jboss.org/repos/jbossas/projects/naming/trunk/\r\n  [2]: https://docs.jboss.org/author/display/AS71/Remote+EJB+invocations+via+JNDI+-+EJB+client+API+or+remote-naming+project\r\n  [3]: http://anonsvn.jboss.org/repos/jbossas/projects/naming/\r\n  [4]: https://github.com/jbossas/jboss-remote-naming\r\n  [5]: https://github.com/jboss-remoting/jboss-remoting","title":"What is the &quot;JNP&quot; protocol?","body":"<p>In short, <strong>JNP</strong> is the official JNDI naming implementation of JBoss AS prior to its version &lt; 7.x, based on the JNP project (refer to <a href=\"http://anonsvn.jboss.org/repos/jbossas/projects/naming/trunk/\" rel=\"nofollow noreferrer\">the code repo URL</a>).</p>\n<p>From the <a href=\"https://docs.jboss.org/author/display/AS71/Remote+EJB+invocations+via+JNDI+-+EJB+client+API+or+remote-naming+project\" rel=\"nofollow noreferrer\">new AS7 documentation</a>:</p>\n<blockquote>\n<p>Previous versions of JBoss AS (versions &lt; 7.x) used <a href=\"http://anonsvn.jboss.org/repos/jbossas/projects/naming/\" rel=\"nofollow noreferrer\">JNP project</a>\nas the JNDI\nnaming implementation. Developers of client applications of previous\nversions of JBoss AS will be familiar with the <code>jnp:// PROVIDER_URL URL</code>\nthey used to use in their applications for communicating with the JNDI\nserver on the JBoss server.</p>\n<p>Starting AS7, the JNP project is not used.\nNeither on the server side nor on the client side. The client side of\nthe JNP project has now been replaced by <a href=\"https://github.com/jbossas/jboss-remote-naming\" rel=\"nofollow noreferrer\">jboss-remote-naming project</a>.</p>\n<p>There were various\nreasons why the JNP client was replaced by jboss-remote-naming\nproject. One of them was the JNP project did not allow fine grained\nsecurity configurations while communicating with the JNDI server. The\njboss-remote-naming project is backed by the <a href=\"https://github.com/jboss-remoting/jboss-remoting\" rel=\"nofollow noreferrer\">jboss-remoting project</a>\nwhich allows much\nmore and better control over security.</p>\n</blockquote>\n<p>Its specification is poor, most of the references we find about it are located at JBoss docs prior to the version 7, like in <a href=\"https://docs.jboss.org/jbossas/jboss4guide/r1/html/ch3.chapter.html\" rel=\"nofollow noreferrer\">https://docs.jboss.org/jbossas/jboss4guide/r1/html/ch3.chapter.html</a></p>\n"}],"owner":{"account_id":81519,"reputation":34798,"user_id":229792,"accept_rate":63,"display_name":"jameshfisher"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8170,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"answer_count":1,"score":12,"last_activity_date":1656960913,"creation_date":1415619912,"question_id":26843104,"body_markdown":"I see URLs like `jnp://localhost:1099/` mentioned when reading about HornetQ. What is the `jnp` protocol? What does it stand for? Where is the specification?\r\n\r\nAll I could find was [this forum thread, &quot;What is JNP&quot;](https://developer.jboss.org/thread/75457), in which the question does not get answered.","title":"What is the &quot;JNP&quot; protocol?","body":"<p>I see URLs like <code>jnp://localhost:1099/</code> mentioned when reading about HornetQ. What is the <code>jnp</code> protocol? What does it stand for? Where is the specification?</p>\n\n<p>All I could find was <a href=\"https://developer.jboss.org/thread/75457\">this forum thread, \"What is JNP\"</a>, in which the question does not get answered.</p>\n"},{"tags":["java","screen","resolution","monitor"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1656974935,"post_id":72860779,"comment_id":128695442,"body_markdown":"Are you sure you need this?  The most common reasons for wanting the screen bounds are usually cases that are properly handled by other methods.  To center a window, use setLocationRelativeTo(null).  To fill a screen, use Frame.setExtendedState(Frame.MAXIMIZED_BOTH) or GraphicsDevice.setFullScreenWindow.","body":"Are you sure you need this?  The most common reasons for wanting the screen bounds are usually cases that are properly handled by other methods.  To center a window, use setLocationRelativeTo(null).  To fill a screen, use Frame.setExtendedState(Frame.MAXIMIZED_BOTH) or GraphicsDevice.setFullScreenWindow."},{"owner":{"account_id":3376802,"reputation":317,"user_id":2834788,"accept_rate":78,"display_name":"Nico Wawrzyniak"},"score":0,"creation_date":1657033097,"post_id":72860779,"comment_id":128710258,"body_markdown":"First I need to read in an image file, scale it down if it is too big and calculate the size of the frames. Window state is supposed to be non-maximized (the frame fills ~80% of the screen), so for this specific case it now works as intended.","body":"First I need to read in an image file, scale it down if it is too big and calculate the size of the frames. Window state is supposed to be non-maximized (the frame fills ~80% of the screen), so for this specific case it now works as intended."},{"owner":{"account_id":3376802,"reputation":317,"user_id":2834788,"accept_rate":78,"display_name":"Nico Wawrzyniak"},"score":0,"creation_date":1657052217,"post_id":72860779,"comment_id":128716610,"body_markdown":"Centering is done later, when the frame size is already calculated.","body":"Centering is done later, when the frame size is already calculated."}],"answers":[{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656959492,"creation_date":1656959492,"answer_id":72860795,"question_id":72860779,"body_markdown":"You need to use [GraphicsConfiguration][1]. The documentation shows how to get the screen bounds.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/18/docs/api/java.desktop/java/awt/GraphicsConfiguration.html\r\n","title":"How do I get the dimensions of each individual screen in Java","body":"<p>You need to use <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.desktop/java/awt/GraphicsConfiguration.html\" rel=\"nofollow noreferrer\">GraphicsConfiguration</a>. The documentation shows how to get the screen bounds.</p>\n"},{"tags":[],"owner":{"account_id":3376802,"reputation":317,"user_id":2834788,"accept_rate":78,"display_name":"Nico Wawrzyniak"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1656960870,"creation_date":1656960870,"answer_id":72860975,"question_id":72860779,"body_markdown":"I just found out the same, while Rob Spoor answered, so I&#39;m gonna give a full answer to my question:\r\n\r\n```GraphicsDevice``` has a function ```getDefaultConfiguration()``` which returns a ```GraphicsConfiguration``` which has a ```getBounds()``` method which again returns the values as a ```Rectangle```.\r\n\r\nAn implementation of my function header would therefore be:\r\n```\r\n/**\r\n * Returns the Dimension of all available screen devices in order of appearance in  \r\n * GraphicsEnvironment.getLocalGraphicsEnvironment().getScreenDevices()\r\n * \r\n * @return the Dimensions of all available screen devices.\r\n */\r\npublic Dimension[] getScreenResolutions() {\r\n    // step 1: get amount of screens and allocate space\r\n    int deviceAmount = GraphicsEnvironment.getLocalGraphicsEnvironment().getScreenDevices().length;\r\n    Dimension[] dimensions = new Dimension[deviceAmount];\r\n    Rectangle[] rectangles = new Rectangle[deviceAmount];\r\n    // step 2: get values as Rectangle[]\r\n    for (int i = 0; i &lt; deviceAmount; i++) { \r\n        rectangles[i] = GraphicsEnvironment.getLocalGraphicsEnvironment().getScreenDevices()[i].getDefaultConfiguration().getBounds();\r\n    }\r\n    // step 3: convert to Dimension[]\r\n    for (int i = 0; i &lt; rectangles.length; i++) {\r\n        dimensions[i] = new Dimension(r.getWidth(), r.getHeight());\r\n    }\r\n    // step 4: return\r\n    return dimensions;\r\n}\r\n```","title":"How do I get the dimensions of each individual screen in Java","body":"<p>I just found out the same, while Rob Spoor answered, so I'm gonna give a full answer to my question:</p>\n<p><code>GraphicsDevice</code> has a function <code>getDefaultConfiguration()</code> which returns a <code>GraphicsConfiguration</code> which has a <code>getBounds()</code> method which again returns the values as a <code>Rectangle</code>.</p>\n<p>An implementation of my function header would therefore be:</p>\n<pre><code>/**\n * Returns the Dimension of all available screen devices in order of appearance in  \n * GraphicsEnvironment.getLocalGraphicsEnvironment().getScreenDevices()\n * \n * @return the Dimensions of all available screen devices.\n */\npublic Dimension[] getScreenResolutions() {\n    // step 1: get amount of screens and allocate space\n    int deviceAmount = GraphicsEnvironment.getLocalGraphicsEnvironment().getScreenDevices().length;\n    Dimension[] dimensions = new Dimension[deviceAmount];\n    Rectangle[] rectangles = new Rectangle[deviceAmount];\n    // step 2: get values as Rectangle[]\n    for (int i = 0; i &lt; deviceAmount; i++) { \n        rectangles[i] = GraphicsEnvironment.getLocalGraphicsEnvironment().getScreenDevices()[i].getDefaultConfiguration().getBounds();\n    }\n    // step 3: convert to Dimension[]\n    for (int i = 0; i &lt; rectangles.length; i++) {\n        dimensions[i] = new Dimension(r.getWidth(), r.getHeight());\n    }\n    // step 4: return\n    return dimensions;\n}\n</code></pre>\n"}],"owner":{"account_id":3376802,"reputation":317,"user_id":2834788,"accept_rate":78,"display_name":"Nico Wawrzyniak"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72860975,"answer_count":2,"score":0,"last_activity_date":1656960870,"creation_date":1656959369,"question_id":72860779,"body_markdown":"I need a function that gives me the resolutions of my individual monitors.\r\n\r\nI do know that ```Toolkit.getDefaultToolkit().getScreenSize()``` gives me the cumulative resolution of all monitors, but to limit the size of some frames I draw I want to know the resolutions of the individual screens.\r\n\r\nI tried using ```GraphicsEnvironment.getLocalGraphicsEnvironment().getScreenDevices()``` which returns an array of all screens, but I could not find any resolution information in there.\r\n\r\nThe header of the function should be something like\r\n```\r\n/**\r\n * Returns the Dimension of all available screen devices in order of appearance in  \r\n * GraphicsEnvironment.getLocalGraphicsEnvironment().getScreenDevices()\r\n * \r\n * @return the Dimensions of all available screen devices.\r\n */\r\npublic Dimension[] getScreenResolutions() {\r\n    [ . . . ]\r\n}\r\n```","title":"How do I get the dimensions of each individual screen in Java","body":"<p>I need a function that gives me the resolutions of my individual monitors.</p>\n<p>I do know that <code>Toolkit.getDefaultToolkit().getScreenSize()</code> gives me the cumulative resolution of all monitors, but to limit the size of some frames I draw I want to know the resolutions of the individual screens.</p>\n<p>I tried using <code>GraphicsEnvironment.getLocalGraphicsEnvironment().getScreenDevices()</code> which returns an array of all screens, but I could not find any resolution information in there.</p>\n<p>The header of the function should be something like</p>\n<pre><code>/**\n * Returns the Dimension of all available screen devices in order of appearance in  \n * GraphicsEnvironment.getLocalGraphicsEnvironment().getScreenDevices()\n * \n * @return the Dimensions of all available screen devices.\n */\npublic Dimension[] getScreenResolutions() {\n    [ . . . ]\n}\n</code></pre>\n"},{"tags":["java","json"],"comments":[{"owner":{"account_id":5414395,"reputation":1313,"user_id":4309985,"accept_rate":14,"display_name":"Andrew Fan"},"score":0,"creation_date":1544129121,"post_id":53658273,"comment_id":94177105,"body_markdown":"To clarify, you want an empty line between messages, correct?","body":"To clarify, you want an empty line between messages, correct?"},{"owner":{"display_name":"user10756513"},"score":0,"creation_date":1544130979,"post_id":53658273,"comment_id":94177835,"body_markdown":"https://i.imgur.com/50j7Lxa.png I want to have it so that empty line is also below the broadcast message, there is already one on top, and I want to have another one at bottom. Pretty much inbetween the broadcast message.","body":"<a href=\"https://i.imgur.com/50j7Lxa.png\" rel=\"nofollow noreferrer\">i.imgur.com/50j7Lxa.png</a> I want to have it so that empty line is also below the broadcast message, there is already one on top, and I want to have another one at bottom. Pretty much inbetween the broadcast message."},{"owner":{"account_id":5414395,"reputation":1313,"user_id":4309985,"accept_rate":14,"display_name":"Andrew Fan"},"score":0,"creation_date":1544131239,"post_id":53658273,"comment_id":94177933,"body_markdown":"I&#39;m not familiar with Minecraft modding or if messages are automatically padded, but have you tried adding another \\n at the end of your message?","body":"I&#39;m not familiar with Minecraft modding or if messages are automatically padded, but have you tried adding another \\n at the end of your message?"},{"owner":{"display_name":"user10756513"},"score":0,"creation_date":1544131433,"post_id":53658273,"comment_id":94178000,"body_markdown":"I have, and it is the same result as the image shown.","body":"I have, and it is the same result as the image shown."},{"owner":{"account_id":5414395,"reputation":1313,"user_id":4309985,"accept_rate":14,"display_name":"Andrew Fan"},"score":0,"creation_date":1544131540,"post_id":53658273,"comment_id":94178039,"body_markdown":"Hmm. Unfortunately I&#39;m not familiar with the interface you&#39;re using. You might want to ask on a Minecraft-specific forum, since this issue probably depends on how the messaging system in Minecraft works.","body":"Hmm. Unfortunately I&#39;m not familiar with the interface you&#39;re using. You might want to ask on a Minecraft-specific forum, since this issue probably depends on how the messaging system in Minecraft works."},{"owner":{"display_name":"user10756513"},"score":0,"creation_date":1544131708,"post_id":53658273,"comment_id":94178113,"body_markdown":"Yea, by just googling the system, apparently \\n makes an extra line according to https://minecraft.gamepedia.com/Formatting_codes but i&#39;m still unsure as to why that wouldn&#39;t work in the start and end of the message.","body":"Yea, by just googling the system, apparently \\n makes an extra line according to <a href=\"https://minecraft.gamepedia.com/Formatting_codes\" rel=\"nofollow noreferrer\">minecraft.gamepedia.com/Formatting_codes</a> but i&#39;m still unsure as to why that wouldn&#39;t work in the start and end of the message."},{"owner":{"account_id":3593143,"reputation":159,"user_id":2998655,"accept_rate":67,"display_name":"Dom"},"score":0,"creation_date":1544473967,"post_id":53658273,"comment_id":94280937,"body_markdown":"It makes a new line at the top and not the bottom?","body":"It makes a new line at the top and not the bottom?"},{"owner":{"display_name":"user10756513"},"score":0,"creation_date":1547417787,"post_id":53658273,"comment_id":95176407,"body_markdown":"sorry for late reply, but yeah, it only makes one at top, but not at bottom.","body":"sorry for late reply, but yeah, it only makes one at top, but not at bottom."}],"answers":[{"tags":[],"owner":{"account_id":17582022,"reputation":138,"user_id":12755627,"display_name":"micartey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656960803,"creation_date":1656960803,"answer_id":72860967,"question_id":53658273,"body_markdown":"I think the way I used to do this was either having a space at the end or some color-code which won&#39;t be visible since there is no letter following. This means something like this:\r\n\r\n`\\n %player% has been kicked [...] \\n $c$l`\r\n\r\nHowever, you can also just send an empty second message, thus having a new empty line. You could also try some invisible characters, or check if another line break will have the desired outcome (I think I remember that only the last one will be ignored)\r\n\r\nLet me know which solution worked for you!","title":"How can I create it so that it can do 2 new lines and then the main message between the new lines?","body":"<p>I think the way I used to do this was either having a space at the end or some color-code which won't be visible since there is no letter following. This means something like this:</p>\n<p><code>\\n %player% has been kicked [...] \\n $c$l</code></p>\n<p>However, you can also just send an empty second message, thus having a new empty line. You could also try some invisible characters, or check if another line break will have the desired outcome (I think I remember that only the last one will be ignored)</p>\n<p>Let me know which solution worked for you!</p>\n"}],"owner":{"display_name":"user10756513"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656960803,"creation_date":1544124102,"question_id":53658273,"body_markdown":"**`&quot;broadcastMessage&quot;: &quot;\\n\\u2717 \\u00A74%player%\\u00264 was kicked by AntiCheat for cheating.\\n&quot;`**\r\nThis is JSON ( config for a Minecraft anticheat ), but apparently when using the \\n at the start and end only makes one new line, and not two.\r\nI want it so that it makes 2 new lines, then it broadcasts that message in between the new lines.\r\nHopefully, I&#39;m explaining enough.\r\n","title":"How can I create it so that it can do 2 new lines and then the main message between the new lines?","body":"<p><strong><code>\"broadcastMessage\": \"\\n\\u2717 \\u00A74%player%\\u00264 was kicked by AntiCheat for cheating.\\n\"</code></strong>\nThis is JSON ( config for a Minecraft anticheat ), but apparently when using the \\n at the start and end only makes one new line, and not two.\nI want it so that it makes 2 new lines, then it broadcasts that message in between the new lines.\nHopefully, I'm explaining enough.</p>\n"},{"tags":["java","spring","spring-boot","logging","logback"],"comments":[{"owner":{"account_id":3352154,"reputation":206,"user_id":2815984,"display_name":"Roopesh Payyanath"},"score":0,"creation_date":1656409516,"post_id":72645492,"comment_id":128559345,"body_markdown":"Unless you have environment specific config, I would advise over-riding  log level  `&lt;root level=&quot;${logback.loglevel:-INFO}&quot;&gt;` using system property of each enviroment/runtime as `-Dlogback.loglevel=DEBUG`. Default INFO if system property passed then DEBUG","body":"Unless you have environment specific config, I would advise over-riding  log level  <code>&lt;root level=&quot;${logback.loglevel:-INFO}&quot;&gt;</code> using system property of each enviroment/runtime as <code>-Dlogback.loglevel=DEBUG</code>. Default INFO if system property passed then DEBUG"}],"answers":[{"tags":[],"owner":{"account_id":7707690,"reputation":534,"user_id":5838151,"display_name":"QuickSort"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656244934,"creation_date":1656244934,"answer_id":72761419,"question_id":72645492,"body_markdown":"You can use *springProfiles* for that. An example `logback-spring.xml`:\r\n\r\n    &lt;configuration&gt;\r\n        &lt;include resource=&quot;org/springframework/boot/logging/logback/defaults.xml&quot;/&gt;\r\n        &lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n            &lt;encoder&gt;\r\n                &lt;pattern&gt;%d{HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n\r\n                &lt;/pattern&gt;\r\n            &lt;/encoder&gt;\r\n        &lt;/appender&gt;\r\n        &lt;springProfile name=&quot;production&quot;&gt;\r\n            &lt;root level=&quot;warn&quot;&gt;\r\n                &lt;appender-ref ref=&quot;STDOUT&quot;/&gt;\r\n            &lt;/root&gt;\r\n        &lt;/springProfile&gt;\r\n        &lt;springProfile name=&quot;default,local,develop,qa&quot;&gt;\r\n            &lt;root level=&quot;INFO&quot;&gt;\r\n                &lt;appender-ref ref=&quot;STDOUT&quot;/&gt;\r\n            &lt;/root&gt;\r\n        &lt;/springProfile&gt;\r\n    &lt;/configuration&gt;\r\n\r\nThe resources folder:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Lj6mD.png\r\n\r\n\r\nWhether you start `spring` in `production` or either (`default, local, develop, qa`) it will use the right log level.\r\n\r\nStarting the application with the arguments `java -jar -Dspring.profiles.active=production` will set the log-level to `warn`.","title":"Externalize loglevel in logback xml in a spring boot project","body":"<p>You can use <em>springProfiles</em> for that. An example <code>logback-spring.xml</code>:</p>\n<pre><code>&lt;configuration&gt;\n    &lt;include resource=&quot;org/springframework/boot/logging/logback/defaults.xml&quot;/&gt;\n    &lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n        &lt;encoder&gt;\n            &lt;pattern&gt;%d{HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n\n            &lt;/pattern&gt;\n        &lt;/encoder&gt;\n    &lt;/appender&gt;\n    &lt;springProfile name=&quot;production&quot;&gt;\n        &lt;root level=&quot;warn&quot;&gt;\n            &lt;appender-ref ref=&quot;STDOUT&quot;/&gt;\n        &lt;/root&gt;\n    &lt;/springProfile&gt;\n    &lt;springProfile name=&quot;default,local,develop,qa&quot;&gt;\n        &lt;root level=&quot;INFO&quot;&gt;\n            &lt;appender-ref ref=&quot;STDOUT&quot;/&gt;\n        &lt;/root&gt;\n    &lt;/springProfile&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p>The resources folder:</p>\n<p><a href=\"https://i.stack.imgur.com/Lj6mD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Lj6mD.png\" alt=\"enter image description here\" /></a></p>\n<p>Whether you start <code>spring</code> in <code>production</code> or either (<code>default, local, develop, qa</code>) it will use the right log level.</p>\n<p>Starting the application with the arguments <code>java -jar -Dspring.profiles.active=production</code> will set the log-level to <code>warn</code>.</p>\n"},{"tags":[],"owner":{"account_id":4635391,"reputation":1131,"user_id":3756780,"display_name":"slindenau"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656246811,"creation_date":1656246811,"answer_id":72761646,"question_id":72645492,"body_markdown":"As an alternative you can also externalize the logback log level like this: https://logback.qos.ch/manual/configuration.html#definingPropsOnTheFly\r\n\r\n&gt; You may define properties dynamically using the &lt;define&gt; element. The define element takes two mandatory attributes: name and class. The name attribute designates the name of the property to set whereas the class attribute designates any class implementing the PropertyDefiner interface.\r\n\r\nFor example with a configuration file like this:\r\n```\r\n&lt;configuration&gt;\r\n\r\n  &lt;define name=&quot;rootLevel&quot; class=&quot;a.class.implementing.PropertyDefiner&quot;/&gt;\r\n\r\n  &lt;root level=&quot;${rootLevel}&quot;/&gt;\r\n&lt;/configuration&gt;\r\n```\r\n\r\nAnd your `a.class.implementing.PropertyDefiner` could look like this:\r\n```\r\npackage a.class.implementing;\r\n\r\nimport ch.qos.logback.core.PropertyDefinerBase;\r\n\r\npublic class PropertyDefiner extends PropertyDefinerBase {\r\n    @Override\r\n    public String getPropertyValue() {\r\n        // todo: retrieve the property from your application context\r\n        return &quot;WARN&quot;;\r\n    }\r\n}\r\n```\r\nWith this setup you can have any system wide available property at runtime define the loglevel.","title":"Externalize loglevel in logback xml in a spring boot project","body":"<p>As an alternative you can also externalize the logback log level like this: <a href=\"https://logback.qos.ch/manual/configuration.html#definingPropsOnTheFly\" rel=\"nofollow noreferrer\">https://logback.qos.ch/manual/configuration.html#definingPropsOnTheFly</a></p>\n<blockquote>\n<p>You may define properties dynamically using the  element. The define element takes two mandatory attributes: name and class. The name attribute designates the name of the property to set whereas the class attribute designates any class implementing the PropertyDefiner interface.</p>\n</blockquote>\n<p>For example with a configuration file like this:</p>\n<pre><code>&lt;configuration&gt;\n\n  &lt;define name=&quot;rootLevel&quot; class=&quot;a.class.implementing.PropertyDefiner&quot;/&gt;\n\n  &lt;root level=&quot;${rootLevel}&quot;/&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p>And your <code>a.class.implementing.PropertyDefiner</code> could look like this:</p>\n<pre><code>package a.class.implementing;\n\nimport ch.qos.logback.core.PropertyDefinerBase;\n\npublic class PropertyDefiner extends PropertyDefinerBase {\n    @Override\n    public String getPropertyValue() {\n        // todo: retrieve the property from your application context\n        return &quot;WARN&quot;;\n    }\n}\n</code></pre>\n<p>With this setup you can have any system wide available property at runtime define the loglevel.</p>\n"},{"tags":[],"owner":{"account_id":25296580,"reputation":2100,"user_id":19121623,"display_name":"Eskandar Abedini"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656269101,"creation_date":1656269101,"answer_id":72764292,"question_id":72645492,"body_markdown":"[Unable to use Spring Property Placeholders in logback.xml][1]\r\n\r\n&gt; Good to know about the difference between Spring EL and Logback&#39;s\r\n&gt; variables...I had assumed it was Spring that was in charge of parsing\r\n&gt; those variables for me. I did have the element, but that got me to\r\n&gt; thinking.\r\n&gt; \r\n&gt; My `application.properties` file was outside of the jar, so Logback had\r\n&gt; no idea where to find it. By keeping my Spring-related properties in\r\n&gt; my external `application.properties` file, moving the logging-related\r\n&gt; properties into an `application-internal.properties` file (located\r\n&gt; inside the jar), and pointing Logback to that file (&lt;property\r\n&gt; resource=&quot;application-internal.properties&quot; /&gt;) got everything working\r\n&gt; as expected!\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/29322709/unable-to-use-spring-property-placeholders-in-logback-xml","title":"Externalize loglevel in logback xml in a spring boot project","body":"<p><a href=\"https://stackoverflow.com/questions/29322709/unable-to-use-spring-property-placeholders-in-logback-xml\">Unable to use Spring Property Placeholders in logback.xml</a></p>\n<blockquote>\n<p>Good to know about the difference between Spring EL and Logback's\nvariables...I had assumed it was Spring that was in charge of parsing\nthose variables for me. I did have the element, but that got me to\nthinking.</p>\n<p>My <code>application.properties</code> file was outside of the jar, so Logback had\nno idea where to find it. By keeping my Spring-related properties in\nmy external <code>application.properties</code> file, moving the logging-related\nproperties into an <code>application-internal.properties</code> file (located\ninside the jar), and pointing Logback to that file () got everything working\nas expected!</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1656431827,"creation_date":1656431827,"answer_id":72789689,"question_id":72645492,"body_markdown":"It seems that the type of configuration externalization you are trying to achieve is based on the Spring `application.yml` configuration files.\r\n\r\nIf that is the case, [Spring Boot provides](https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#features.logging.log-levels) out of the box different configuration properties you can use to define the appropriate logging level, no matter the underlying logging library implementation you are using.\r\n\r\nYou can provide the appropriate configuration in your different `application.properties` or `application.yaml`, something like:\r\n\r\n```yaml\r\nlogging:\r\n  level:\r\n    root: &quot;warn&quot;\r\n    org.springframework.web: &quot;debug&quot;\r\n    org.hibernate: &quot;error&quot;\r\n```\r\n\r\nBe aware that using a custom `logback-spring.xml` file is unnecessary.\r\n\r\nPlease, consider review the aforementioned [documentation](https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#features.logging.log-levels) if you need more information.","title":"Externalize loglevel in logback xml in a spring boot project","body":"<p>It seems that the type of configuration externalization you are trying to achieve is based on the Spring <code>application.yml</code> configuration files.</p>\n<p>If that is the case, <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#features.logging.log-levels\" rel=\"nofollow noreferrer\">Spring Boot provides</a> out of the box different configuration properties you can use to define the appropriate logging level, no matter the underlying logging library implementation you are using.</p>\n<p>You can provide the appropriate configuration in your different <code>application.properties</code> or <code>application.yaml</code>, something like:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>logging:\n  level:\n    root: &quot;warn&quot;\n    org.springframework.web: &quot;debug&quot;\n    org.hibernate: &quot;error&quot;\n</code></pre>\n<p>Be aware that using a custom <code>logback-spring.xml</code> file is unnecessary.</p>\n<p>Please, consider review the aforementioned <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#features.logging.log-levels\" rel=\"nofollow noreferrer\">documentation</a> if you need more information.</p>\n"},{"tags":[],"owner":{"account_id":21260902,"reputation":984,"user_id":15641685,"display_name":"Huu Phuong Vu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656695082,"creation_date":1656695082,"answer_id":72832572,"question_id":72645492,"body_markdown":"If what you want is just changing log level, then should follow the approach in jccampanero&#39;s answer. That is provided by Spring boot out of the box to make things simple for developers.\r\n\r\n\r\nHowever, if you want to do more customization on the logging, and you want to  have the flexibility to pass config values from `application.properties` or `application.yml` to your `logback-spring.xml`. It is also very simple.\r\n\r\nFor example in `application.properties` you have this config `my.logging.level=WARN`\r\nIn your `logback-spring.xml` you can simply retrieve it by this\r\n```xml\r\n&lt;springProperty scope=&quot;context&quot; name=&quot;logLevel&quot; source=&quot;my.logging.level&quot; defaultValue=&quot;INFO&quot;/&gt;\r\n```\r\n\r\nAnd now you can use `logLevel` (as defined in the springProperty tag above) in your `logback-spring.xml` file like this:\r\n```xml\r\n&lt;root level=&quot;${loglevel}&quot;&gt;\r\n        &lt;appender-ref ref=&quot;CONSOLE&quot;/&gt;\r\n&lt;/root&gt;\r\n```\r\n\r\nHope you find this helpful.\r\n\r\n\r\n","title":"Externalize loglevel in logback xml in a spring boot project","body":"<p>If what you want is just changing log level, then should follow the approach in jccampanero's answer. That is provided by Spring boot out of the box to make things simple for developers.</p>\n<p>However, if you want to do more customization on the logging, and you want to  have the flexibility to pass config values from <code>application.properties</code> or <code>application.yml</code> to your <code>logback-spring.xml</code>. It is also very simple.</p>\n<p>For example in <code>application.properties</code> you have this config <code>my.logging.level=WARN</code>\nIn your <code>logback-spring.xml</code> you can simply retrieve it by this</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;springProperty scope=&quot;context&quot; name=&quot;logLevel&quot; source=&quot;my.logging.level&quot; defaultValue=&quot;INFO&quot;/&gt;\n</code></pre>\n<p>And now you can use <code>logLevel</code> (as defined in the springProperty tag above) in your <code>logback-spring.xml</code> file like this:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;root level=&quot;${loglevel}&quot;&gt;\n        &lt;appender-ref ref=&quot;CONSOLE&quot;/&gt;\n&lt;/root&gt;\n</code></pre>\n<p>Hope you find this helpful.</p>\n"}],"owner":{"account_id":114905,"reputation":7357,"user_id":301957,"accept_rate":50,"display_name":"Harshana"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1592,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":72789689,"answer_count":5,"score":4,"last_activity_date":1656960526,"creation_date":1655380819,"question_id":72645492,"body_markdown":"I would like to externalize the log level in `logback-spring.xml` as below,\r\n\r\n \r\n```xml\r\n&lt;root level=&quot;${logback.loglevel}&quot;&gt;\r\n        &lt;appender-ref ref=&quot;CONSOLE&quot;/&gt;\r\n&lt;/root&gt;\r\n```\r\n\r\nIn my `application.yml` file I have:\r\n\r\n```yaml\r\nlogback:\r\n    loglevel: WARN\r\n```\r\n\r\nBut this value is not picked from Logback XML and runs with `DEBUG` level instead. If I hard coded the value there as `WARN` only it runs as `WARN` level.\r\n\r\n","title":"Externalize loglevel in logback xml in a spring boot project","body":"<p>I would like to externalize the log level in <code>logback-spring.xml</code> as below,</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;root level=&quot;${logback.loglevel}&quot;&gt;\n        &lt;appender-ref ref=&quot;CONSOLE&quot;/&gt;\n&lt;/root&gt;\n</code></pre>\n<p>In my <code>application.yml</code> file I have:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>logback:\n    loglevel: WARN\n</code></pre>\n<p>But this value is not picked from Logback XML and runs with <code>DEBUG</code> level instead. If I hard coded the value there as <code>WARN</code> only it runs as <code>WARN</code> level.</p>\n"},{"tags":["java","intellij-idea","crash-reports","java-runtime-compiler"],"comments":[{"owner":{"account_id":17693330,"reputation":3781,"user_id":12844632,"display_name":"Egor Klepikov"},"score":1,"creation_date":1657002081,"post_id":72860874,"comment_id":128699280,"body_markdown":"The problem could be related to https://youtrack.jetbrains.com/issue/JBR-4351 . Please update the IDE to the latest version from https://www.jetbrains.com/idea/download .","body":"The problem could be related to <a href=\"https://youtrack.jetbrains.com/issue/JBR-4351\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/JBR-4351</a> . Please update the IDE to the latest version from <a href=\"https://www.jetbrains.com/idea/download\" rel=\"nofollow noreferrer\">jetbrains.com/idea/download</a> ."}],"owner":{"account_id":11344664,"reputation":11,"user_id":8317493,"display_name":"ravi_reddy_07"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":969,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1656960045,"creation_date":1656960045,"question_id":72860874,"body_markdown":"I&#39;m getting this error and my editor is getting closed automatically. \r\n\r\n```\r\nA fatal error has been detected by the Java Runtime Environment:\r\n#\r\n#  SIGSEGV (0xb) at pc=0x00007ff81779403f, pid=94133, tid=259\r\n#\r\n# JRE version: OpenJDK Runtime Environment JBR-11.0.14.1.1-2043.25-jcef (11.0.14.1+1) (build 11.0.14.1+1-b2043.25)\r\n# Java VM: OpenJDK 64-Bit Server VM JBR-11.0.14.1.1-2043.25-jcef (11.0.14.1+1-b2043.25, mixed mode, tiered, compressed oops, g1 gc, bsd-amd64)\r\n# Problematic frame:\r\n# C  [libobjc.A.dylib+0xd03f]  objc_release+0x1f\r\n#\r\n# No core dump will be written. Core dumps have been disabled. To enable core dumping, try &quot;ulimit -c unlimited&quot; before starting Java again\r\n#\r\n```\r\n\r\nI&#39;m running this command ```ulimit -c unlimited```, but every time I open the editor, I need to run this command which sucks. Is there any permanent solution for this?\r\n\r\n*Here is the complete error - [gist][1]*\r\n\r\n\r\n  [1]: https://gist.github.com/ravireddy07/ad81c4da4c586e03370e422d80642dd5","title":"A fatal error has been detected by the Java Runtime Environment: # # SIGSEGV (0xb) at pc=0x00007ff81779403f, pid=94133, tid=259","body":"<p>I'm getting this error and my editor is getting closed automatically.</p>\n<pre><code>A fatal error has been detected by the Java Runtime Environment:\n#\n#  SIGSEGV (0xb) at pc=0x00007ff81779403f, pid=94133, tid=259\n#\n# JRE version: OpenJDK Runtime Environment JBR-11.0.14.1.1-2043.25-jcef (11.0.14.1+1) (build 11.0.14.1+1-b2043.25)\n# Java VM: OpenJDK 64-Bit Server VM JBR-11.0.14.1.1-2043.25-jcef (11.0.14.1+1-b2043.25, mixed mode, tiered, compressed oops, g1 gc, bsd-amd64)\n# Problematic frame:\n# C  [libobjc.A.dylib+0xd03f]  objc_release+0x1f\n#\n# No core dump will be written. Core dumps have been disabled. To enable core dumping, try &quot;ulimit -c unlimited&quot; before starting Java again\n#\n</code></pre>\n<p>I'm running this command <code>ulimit -c unlimited</code>, but every time I open the editor, I need to run this command which sucks. Is there any permanent solution for this?</p>\n<p><em>Here is the complete error - <a href=\"https://gist.github.com/ravireddy07/ad81c4da4c586e03370e422d80642dd5\" rel=\"nofollow noreferrer\">gist</a></em></p>\n"},{"tags":["java","android","firebase","google-cloud-firestore","android-activity"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1657099662,"post_id":72796215,"comment_id":128726797,"body_markdown":"There is no way you can do that. Firebase API is asynchronous. So please check the duplicate to see how can you solve this using a callback. You might also be interested in reading this [resource](https://medium.com/firebase-tips-tricks/how-to-read-data-from-cloud-firestore-using-get-bf03b6ee4953).","body":"There is no way you can do that. Firebase API is asynchronous. So please check the duplicate to see how can you solve this using a callback. You might also be interested in reading this <a href=\"https://medium.com/firebase-tips-tricks/how-to-read-data-from-cloud-firestore-using-get-bf03b6ee4953\" rel=\"nofollow noreferrer\">resource</a>."}],"answers":[{"tags":[],"owner":{"account_id":25582727,"reputation":123,"user_id":19360970,"display_name":"Bob Hogg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656959514,"creation_date":1656955493,"answer_id":72860215,"question_id":72796215,"body_markdown":"The reason `c` is seemingly always 0 is that it is being added to the list outside of the asynchronous task.\r\n\r\nTo fix this, you can move the call to `man.add()` into the `onSuccess` listener:\r\n\r\n```\r\ndb.collection(&quot;individuals&quot;).whereEqualTo(&quot;m&quot;,obj.getUid()).whereEqualTo(&quot;ctrApproved2&quot;,&quot;&quot;).whereEqualTo(&quot;ctrApproved&quot;,&quot;&quot;).get()\r\n    .addOnSuccessListener(new OnSuccessListener&lt;QuerySnapshot&gt;() {\r\n    @Override\r\n    public void onSuccess(QuerySnapshot queryDocumentSnapshots) {\r\n        c=queryDocumentSnapshots.size();\r\n        Log.d(&quot;Lenght&quot;,String.valueOf(c));\r\n        man.add(obj.getUid()+&quot; (&quot;+c+&quot;)&quot;);\r\n    }\r\n});\r\n```\r\n\r\nI do not see any problems with your use of `whereEqualTo()` here. When calls to `whereEqualTo()` are chained together the way you did here, they **do** use a logical AND when combining the filters. (Source: https://firebase.google.com/docs/firestore/query-data/queries#compound_queries)\r\n\r\nCould you perhaps check, and give us an example of, which document(s) you expect to be included and which you expect to be excluded?","title":"How to use Logical AND in cloud firestore for ANDROID?","body":"<p>The reason <code>c</code> is seemingly always 0 is that it is being added to the list outside of the asynchronous task.</p>\n<p>To fix this, you can move the call to <code>man.add()</code> into the <code>onSuccess</code> listener:</p>\n<pre><code>db.collection(&quot;individuals&quot;).whereEqualTo(&quot;m&quot;,obj.getUid()).whereEqualTo(&quot;ctrApproved2&quot;,&quot;&quot;).whereEqualTo(&quot;ctrApproved&quot;,&quot;&quot;).get()\n    .addOnSuccessListener(new OnSuccessListener&lt;QuerySnapshot&gt;() {\n    @Override\n    public void onSuccess(QuerySnapshot queryDocumentSnapshots) {\n        c=queryDocumentSnapshots.size();\n        Log.d(&quot;Lenght&quot;,String.valueOf(c));\n        man.add(obj.getUid()+&quot; (&quot;+c+&quot;)&quot;);\n    }\n});\n</code></pre>\n<p>I do not see any problems with your use of <code>whereEqualTo()</code> here. When calls to <code>whereEqualTo()</code> are chained together the way you did here, they <strong>do</strong> use a logical AND when combining the filters. (Source: <a href=\"https://firebase.google.com/docs/firestore/query-data/queries#compound_queries\" rel=\"nofollow noreferrer\">https://firebase.google.com/docs/firestore/query-data/queries#compound_queries</a>)</p>\n<p>Could you perhaps check, and give us an example of, which document(s) you expect to be included and which you expect to be excluded?</p>\n"}],"owner":{"account_id":25326498,"reputation":1,"user_id":19147062,"display_name":"Vikas Konaparthi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1657099634,"answer_count":1,"score":0,"last_activity_date":1656959514,"creation_date":1656480700,"question_id":72796215,"body_markdown":"Hi I would like to use logical AND in the firebase firestore query and add the particular count to the array object. I would like to get the count according to my logical and condition but the query which I wrote was giving me the whole count for m=obj.getUid().More over the value &quot;c&quot; is not getting added to the arraylist instead 0 is getting added up there. In the end I would like to use logical and, get the count assign to the &quot;c&quot; that c need to be added up to an arraylist.\r\n\r\n                                c=0;\r\n                                obj.setUid(d.getId().toString());\r\n                                db.collection(&quot;individuals&quot;).whereEqualTo(&quot;m&quot;,obj.getUid()).whereEqualTo(&quot;ctrApproved2&quot;,&quot;&quot;).whereEqualTo(&quot;ctrApproved&quot;,&quot;&quot;).get()\r\n                                        .addOnSuccessListener(new OnSuccessListener&lt;QuerySnapshot&gt;() {\r\n                                            @Override\r\n                                            public void onSuccess(QuerySnapshot queryDocumentSnapshots) {\r\n                                                    c=queryDocumentSnapshots.size();\r\n                                                    Log.d(&quot;Lenght&quot;,String.valueOf(c));\r\n    \r\n                                            }\r\n                                        });\r\n    \r\n                                man.add(obj.getUid()+&quot; (&quot;+c+&quot;)&quot;);","title":"How to use Logical AND in cloud firestore for ANDROID?","body":"<p>Hi I would like to use logical AND in the firebase firestore query and add the particular count to the array object. I would like to get the count according to my logical and condition but the query which I wrote was giving me the whole count for m=obj.getUid().More over the value &quot;c&quot; is not getting added to the arraylist instead 0 is getting added up there. In the end I would like to use logical and, get the count assign to the &quot;c&quot; that c need to be added up to an arraylist.</p>\n<pre><code>                            c=0;\n                            obj.setUid(d.getId().toString());\n                            db.collection(&quot;individuals&quot;).whereEqualTo(&quot;m&quot;,obj.getUid()).whereEqualTo(&quot;ctrApproved2&quot;,&quot;&quot;).whereEqualTo(&quot;ctrApproved&quot;,&quot;&quot;).get()\n                                    .addOnSuccessListener(new OnSuccessListener&lt;QuerySnapshot&gt;() {\n                                        @Override\n                                        public void onSuccess(QuerySnapshot queryDocumentSnapshots) {\n                                                c=queryDocumentSnapshots.size();\n                                                Log.d(&quot;Lenght&quot;,String.valueOf(c));\n\n                                        }\n                                    });\n\n                            man.add(obj.getUid()+&quot; (&quot;+c+&quot;)&quot;);\n</code></pre>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":2318297,"reputation":1653,"user_id":9231518,"display_name":"User9123"},"score":0,"creation_date":1650384492,"post_id":71927684,"comment_id":127100070,"body_markdown":"Check this: https://stackoverflow.com/questions/19654557/how-to-set-specific-java-version-to-maven#:~:text=Maven%20uses%20the%20JAVA_HOME%20parameter,(non%2Dwindows)%2F%20mvn.","body":"Check this: <a href=\"https://stackoverflow.com/questions/19654557/how-to-set-specific-java-version-to-maven#:~:text=Maven%20uses%20the%20JAVA_HOME%20parameter,(non%2Dwindows)%2F%20mvn\" title=\"how to set specific java version to maven%23%3a%7e%3atext%3dMaven%2520uses%2520the%2520JAVA_HOME%2520parameter%2c(non%252Dwindows)%252F%2520mvn\">stackoverflow.com/questions/19654557/&hellip;</a>."},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":1,"creation_date":1650384494,"post_id":71927684,"comment_id":127100071,"body_markdown":"Java is backwardly compatible: Jars built using older versions will run in newer JREs. 1) Build in Java 8. 2) Upgrade all runtime envs. 3) Upgrade build server. 4) Upgrade developer env.","body":"Java is backwardly compatible: Jars built using older versions will run in newer JREs. 1) Build in Java 8. 2) Upgrade all runtime envs. 3) Upgrade build server. 4) Upgrade developer env."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1650385066,"post_id":71927684,"comment_id":127100294,"body_markdown":"Build with JDK11 and use `--release 8` that will work... using `&lt;maven.compiler.release&gt;8&lt;/maven.compiler.release&gt;` and make maven-enforcer rule to require at minimum to build with JDK11....","body":"Build with JDK11 and use <code>--release 8</code> that will work... using <code>&lt;maven.compiler.release&gt;8&lt;&#47;maven.compiler.release&gt;</code> and make maven-enforcer rule to require at minimum to build with JDK11...."},{"owner":{"account_id":890118,"reputation":335,"user_id":928563,"accept_rate":90,"display_name":"Sushil"},"score":0,"creation_date":1650413263,"post_id":71927684,"comment_id":127108306,"body_markdown":"I think it should work for me -\nhttps://stackoverflow.com/questions/10920142/how-to-configure-maven-to-build-two-versions-of-an-artifact-each-one-for-a-diff","body":"I think it should work for me - <a href=\"https://stackoverflow.com/questions/10920142/how-to-configure-maven-to-build-two-versions-of-an-artifact-each-one-for-a-diff\" title=\"how to configure maven to build two versions of an artifact each one for a diff\">stackoverflow.com/questions/10920142/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":183306,"reputation":9428,"user_id":418599,"accept_rate":52,"display_name":"Antonio Petricca"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650384434,"creation_date":1650384434,"answer_id":71927999,"question_id":71927684,"body_markdown":"You should:\r\n\r\n - Remove from you POM, if present, `maven.compiler.source` and `maven.compiler.target`.\r\n - Set `JAVA_HOME=&lt;&lt;JAVA_8_HOME_FOLDER&gt;&gt;`.\r\n - Build from Java 8 by `mvn clean install`.\r\n - Take the Java 8 artifact. \r\n - Set `JAVA_HOME=&lt;&lt;JAVA_11_HOME_FOLDER&gt;&gt;`.\r\n - Build from Java 11 by `mvn clean install`.\r\n - Take the Java 11 artifact. ","title":"Create Java 8 and Java 11 build for single API","body":"<p>You should:</p>\n<ul>\n<li>Remove from you POM, if present, <code>maven.compiler.source</code> and <code>maven.compiler.target</code>.</li>\n<li>Set <code>JAVA_HOME=&lt;&lt;JAVA_8_HOME_FOLDER&gt;&gt;</code>.</li>\n<li>Build from Java 8 by <code>mvn clean install</code>.</li>\n<li>Take the Java 8 artifact.</li>\n<li>Set <code>JAVA_HOME=&lt;&lt;JAVA_11_HOME_FOLDER&gt;&gt;</code>.</li>\n<li>Build from Java 11 by <code>mvn clean install</code>.</li>\n<li>Take the Java 11 artifact.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":11222708,"reputation":589,"user_id":8233361,"display_name":"Claudio Weiler"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1650467544,"creation_date":1650405031,"answer_id":71931739,"question_id":71927684,"body_markdown":"**TL;DR**\r\n\r\nYou don&#39;t need that, just build to Java 8 and be happy!\r\n\r\n---\r\n\r\n**Solving**\r\n\r\nYou can use Maven Build Profiles for this:\r\nhttps://maven.apache.org/guides/introduction/introduction-to-profiles.html\r\n\r\n**1.** Set your properties to Java 11:\r\n\r\n```xml\r\n&lt;properties&gt;\r\n  &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n  &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n  &lt;maven.compiler.release&gt;11&lt;/maven.compiler.release&gt;\r\n&lt;/properties&gt;\r\n```\r\n\r\n**2.** Set your final name:\r\n```xml\r\n&lt;build&gt;\r\n  &lt;finalName&gt;${project.artifactId}-jdk11-${project.version}&lt;/finalName&gt;\r\n&lt;/build&gt;\r\n```\r\n\r\n**3.** Add a profile:\r\n\r\n```xml\r\n&lt;profile&gt;\r\n  &lt;id&gt;jdk-8&lt;/id&gt;\r\n  &lt;properties&gt;\r\n    &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n    &lt;maven.compiler.release&gt;1.8&lt;/maven.compiler.release&gt;\r\n  &lt;/properties&gt;\r\n  &lt;build&gt;\r\n    &lt;finalName&gt;${project.artifactId}-jdk8-${project.version}&lt;/finalName&gt;\r\n  &lt;/build&gt;\r\n&lt;/profile&gt;\r\n```\r\n\r\n**4.** Build:\r\n\r\nYou will need to run 2 builds, one normal, and other activating the JDK 8 profile:\r\n\r\n```cmd\r\n$ mvn ...\r\n$ mvn ... -P jdk-8\r\n```\r\n\r\n**Considerations:**\r\n\r\n- Always use JDK 11 as it can confidently build Java 8 targets;\r\n- You don&#39;t need **target** and **source** properties, but if some plugin fails, put it back.\r\n","title":"Create Java 8 and Java 11 build for single API","body":"<p><strong>TL;DR</strong></p>\n<p>You don't need that, just build to Java 8 and be happy!</p>\n<hr />\n<p><strong>Solving</strong></p>\n<p>You can use Maven Build Profiles for this:\n<a href=\"https://maven.apache.org/guides/introduction/introduction-to-profiles.html\" rel=\"nofollow noreferrer\">https://maven.apache.org/guides/introduction/introduction-to-profiles.html</a></p>\n<p><strong>1.</strong> Set your properties to Java 11:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;properties&gt;\n  &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n  &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n  &lt;maven.compiler.release&gt;11&lt;/maven.compiler.release&gt;\n&lt;/properties&gt;\n</code></pre>\n<p><strong>2.</strong> Set your final name:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;build&gt;\n  &lt;finalName&gt;${project.artifactId}-jdk11-${project.version}&lt;/finalName&gt;\n&lt;/build&gt;\n</code></pre>\n<p><strong>3.</strong> Add a profile:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;profile&gt;\n  &lt;id&gt;jdk-8&lt;/id&gt;\n  &lt;properties&gt;\n    &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n    &lt;maven.compiler.release&gt;1.8&lt;/maven.compiler.release&gt;\n  &lt;/properties&gt;\n  &lt;build&gt;\n    &lt;finalName&gt;${project.artifactId}-jdk8-${project.version}&lt;/finalName&gt;\n  &lt;/build&gt;\n&lt;/profile&gt;\n</code></pre>\n<p><strong>4.</strong> Build:</p>\n<p>You will need to run 2 builds, one normal, and other activating the JDK 8 profile:</p>\n<pre><code>$ mvn ...\n$ mvn ... -P jdk-8\n</code></pre>\n<p><strong>Considerations:</strong></p>\n<ul>\n<li>Always use JDK 11 as it can confidently build Java 8 targets;</li>\n<li>You don't need <strong>target</strong> and <strong>source</strong> properties, but if some plugin fails, put it back.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":5261242,"reputation":7685,"user_id":4214921,"display_name":"potame"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656959279,"creation_date":1656959279,"answer_id":72860767,"question_id":71927684,"body_markdown":"I found a way to do that, which lies somewhat in the middle of Java 8 and Java 11. The main problem with the above solution occurs in case you have (or want to define) a `module-info.java` that can&#39;t be parsed in Java 8.\r\n\r\nI started considering a solution with `&lt;classifier&gt;`s, likewise Claudio Weiler above answer but did not wanted to bother having two separate builds (and even two separate branches because I wanted to manage module-info).\r\n\r\nI also noticed that some libraries like the JAXB API or activation API (`jakarta.xml.bind:jakarta.xml.bind-api:2.3.3`) shows a `module-info` when you use it in Java 11, but is compatible with Java 8 &#128558;.\r\n\r\nDigging into how the details of how the build of the `com.sun.activiation:jakarta.activation` library was made, I found the following solution :\r\n\r\n* compile the `module-info.java` with Java 11\r\n* compile the rest of your code (including tests) with Java 8. Of course, this has the drawback of not being able to use fully Java 11 features...\r\n\r\nYou thus need to add the following snippet in the `&lt;build&gt;` section of your pom.xml:\r\n\r\n    &lt;plugin&gt;\r\n\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t&lt;executions&gt;\r\n\t\t    &lt;execution&gt;\r\n\t\t\t&lt;id&gt;default-compile&lt;/id&gt;\r\n\t\t\t&lt;configuration&gt;\r\n\t\t\t    &lt;source&gt;1.8&lt;/source&gt;\r\n\t\t\t    &lt;target&gt;1.8&lt;/target&gt;\r\n\t\t\t    &lt;excludes&gt;\r\n\t\t\t\t&lt;exclude&gt;module-info.java&lt;/exclude&gt;\r\n\t\t\t    &lt;/excludes&gt;\r\n\t\t\t&lt;/configuration&gt;\r\n\t\t    &lt;/execution&gt;\r\n\t\t    &lt;execution&gt;\r\n\t\t\t&lt;id&gt;module-info-compile&lt;/id&gt;\r\n\t\t\t&lt;goals&gt;\r\n\t\t\t    &lt;goal&gt;compile&lt;/goal&gt;\r\n\t\t\t&lt;/goals&gt;\r\n\t\t\t&lt;configuration&gt;\r\n\t\t\t    &lt;release&gt;11&lt;/release&gt;\r\n\t\t\t    &lt;includes&gt;\r\n\t\t\t\t&lt;include&gt;module-info.java&lt;/include&gt;\r\n\t\t\t    &lt;/includes&gt;\r\n\t\t\t&lt;/configuration&gt;\r\n\t\t    &lt;/execution&gt;\r\n\t\t    &lt;execution&gt;\r\n\t\t\t&lt;id&gt;default-testCompile&lt;/id&gt;\r\n\t\t\t&lt;configuration&gt;\r\n\t\t\t    &lt;release&gt;11&lt;/release&gt;\r\n\t\t\t&lt;/configuration&gt;\r\n\t\t    &lt;/execution&gt;\r\n\t\t&lt;/executions&gt;\r\n\t&lt;/plugin&gt;\r\n\r\n\r\nI hope that helps.\r\n","title":"Create Java 8 and Java 11 build for single API","body":"<p>I found a way to do that, which lies somewhat in the middle of Java 8 and Java 11. The main problem with the above solution occurs in case you have (or want to define) a <code>module-info.java</code> that can't be parsed in Java 8.</p>\n<p>I started considering a solution with <code>&lt;classifier&gt;</code>s, likewise Claudio Weiler above answer but did not wanted to bother having two separate builds (and even two separate branches because I wanted to manage module-info).</p>\n<p>I also noticed that some libraries like the JAXB API or activation API (<code>jakarta.xml.bind:jakarta.xml.bind-api:2.3.3</code>) shows a <code>module-info</code> when you use it in Java 11, but is compatible with Java 8 😮.</p>\n<p>Digging into how the details of how the build of the <code>com.sun.activiation:jakarta.activation</code> library was made, I found the following solution :</p>\n<ul>\n<li>compile the <code>module-info.java</code> with Java 11</li>\n<li>compile the rest of your code (including tests) with Java 8. Of course, this has the drawback of not being able to use fully Java 11 features...</li>\n</ul>\n<p>You thus need to add the following snippet in the <code>&lt;build&gt;</code> section of your pom.xml:</p>\n<pre><code>&lt;plugin&gt;\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n        &lt;id&gt;default-compile&lt;/id&gt;\n        &lt;configuration&gt;\n            &lt;source&gt;1.8&lt;/source&gt;\n            &lt;target&gt;1.8&lt;/target&gt;\n            &lt;excludes&gt;\n            &lt;exclude&gt;module-info.java&lt;/exclude&gt;\n            &lt;/excludes&gt;\n        &lt;/configuration&gt;\n        &lt;/execution&gt;\n        &lt;execution&gt;\n        &lt;id&gt;module-info-compile&lt;/id&gt;\n        &lt;goals&gt;\n            &lt;goal&gt;compile&lt;/goal&gt;\n        &lt;/goals&gt;\n        &lt;configuration&gt;\n            &lt;release&gt;11&lt;/release&gt;\n            &lt;includes&gt;\n            &lt;include&gt;module-info.java&lt;/include&gt;\n            &lt;/includes&gt;\n        &lt;/configuration&gt;\n        &lt;/execution&gt;\n        &lt;execution&gt;\n        &lt;id&gt;default-testCompile&lt;/id&gt;\n        &lt;configuration&gt;\n            &lt;release&gt;11&lt;/release&gt;\n        &lt;/configuration&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>I hope that helps.</p>\n"}],"owner":{"account_id":890118,"reputation":335,"user_id":928563,"accept_rate":90,"display_name":"Sushil"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1768,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1656959279,"creation_date":1650382944,"question_id":71927684,"body_markdown":"We are working to upgrade our API from Java 8 to Java 11. \r\n\r\nHowever we need to support Java 8 and Java 11 both at same time because all clients are not ready to move on Java 11. \r\n\r\nIs it possible if we can create maven build with Java 8 and Java 11 without duplicate our repository and without any change in pom.xml each time before create build for Java 8 and Java 11?\r\n\r\nGenerated artifact should have different name to distinguish Java 8 and Java 11 versions something like xyz-jdk8-0.0.1.jar and xyz-jdk11-.0.1.jar","title":"Create Java 8 and Java 11 build for single API","body":"<p>We are working to upgrade our API from Java 8 to Java 11.</p>\n<p>However we need to support Java 8 and Java 11 both at same time because all clients are not ready to move on Java 11.</p>\n<p>Is it possible if we can create maven build with Java 8 and Java 11 without duplicate our repository and without any change in pom.xml each time before create build for Java 8 and Java 11?</p>\n<p>Generated artifact should have different name to distinguish Java 8 and Java 11 versions something like xyz-jdk8-0.0.1.jar and xyz-jdk11-.0.1.jar</p>\n"},{"tags":["java","lambda","signature","method-reference","functional-interface"],"comments":[{"owner":{"account_id":2139538,"reputation":42511,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":8,"creation_date":1656933845,"post_id":72855888,"comment_id":128684153,"body_markdown":"The first one explicitly says &quot;I&#39;ll happily accept an Event but I&#39;m going to ignore it&quot; (e is inferred to the type Event). The second one doesn&#39;t. Java could support your case and ditch the input argument automatically but there would probably be just as many, if not more, cases where that behaviour would mask a genuine mistake/bug. If you want to ignore an input, it is better to be explicit about that intention.","body":"The first one explicitly says &quot;I&#39;ll happily accept an Event but I&#39;m going to ignore it&quot; (e is inferred to the type Event). The second one doesn&#39;t. Java could support your case and ditch the input argument automatically but there would probably be just as many, if not more, cases where that behaviour would mask a genuine mistake/bug. If you want to ignore an input, it is better to be explicit about that intention."},{"owner":{"account_id":189447,"reputation":1115,"user_id":428780,"display_name":"Vinicius"},"score":5,"creation_date":1656934092,"post_id":72855888,"comment_id":128684225,"body_markdown":"`track::play` is _like_ a shortcut to `e -&gt; track.play(e)`, it is clearly not the same as `e -&gt; track.play()`.","body":"<code>track::play</code> is <i>like</i> a shortcut to <code>e -&gt; track.play(e)</code>, it is clearly not the same as <code>e -&gt; track.play()</code>."},{"owner":{"account_id":189447,"reputation":1115,"user_id":428780,"display_name":"Vinicius"},"score":0,"creation_date":1656934269,"post_id":72855888,"comment_id":128684280,"body_markdown":"You should study functional interfaces to better understand these syntaxes. Both lambdas and method references are treated like functional interfaces implementations by the compiler.","body":"You should study functional interfaces to better understand these syntaxes. Both lambdas and method references are treated like functional interfaces implementations by the compiler."},{"owner":{"account_id":15910041,"reputation":592,"user_id":11480221,"display_name":"AddeusExMachina"},"score":1,"creation_date":1656938295,"post_id":72855888,"comment_id":128685559,"body_markdown":"Does this answer your question? [:: (double colon) operator in Java 8](https://stackoverflow.com/questions/20001427/double-colon-operator-in-java-8)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/20001427/double-colon-operator-in-java-8\">:: (double colon) operator in Java 8</a>"}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1656957574,"creation_date":1656939475,"answer_id":72857157,"question_id":72855888,"body_markdown":"Here is a quote from the [*Java language specification*](https://docs.oracle.com/javase/specs/jls/se17/html/jls-15.html#jls-15.12.2.1):\r\n\r\n&gt; A method reference expression (&#167;15.13) is potentially compatible with\r\n&gt; a functional interface type `T` if, where the arity of the function type\r\n&gt; of `T` is `n`, there exists at least one potentially applicable method\r\n&gt; when the method reference expression targets the function type with\r\n&gt; arity `n` (&#167;15.13.1), and one of the following is true:\r\n&gt; \r\n&gt;    * The method reference expression has the form `ReferenceType :: [TypeArguments] Identifier` and at least one potentially applicable\r\n&gt; method is either (`i`) static and supports arity `n`, or (`ii`) not static\r\n&gt; and supports arity `n-1`.\r\n&gt; \r\n&gt;    * The method reference expression has some other form and at least one potentially applicable method is not static.\r\n&gt; \r\n&gt; ...\r\n&gt; \r\n&gt; The definition of potential applicability goes beyond a **basic arity**\r\n&gt; check to also take into account the **presence** and **&quot;shape&quot;** of *functional\r\n&gt; interface target types*.\r\n\r\nEvery *method reference* should conform to a *function interface* (which is an interface that declares a single `abstract` method, non-overriding methods from `Object` class). The compiler needs to verify whether the provided reference resolves to a single existing method that has required arity (number of parameters) and their types match the types of the method declared by the target *functional interface*.\r\n\r\nLet&#39;s have a look at the prior Java 8 code ([*code-sample from JavaFX tutorial by created Oracle*](https://docs.oracle.com/javafx/2/ui_controls/button.htm)):\r\n```\r\nbutton2.setOnAction(new EventHandler&lt;ActionEvent&gt;() {\r\n    @Override public void handle(ActionEvent e) {\r\n        label.setText(&quot;Accepted&quot;);\r\n    }\r\n});\r\n```\r\n\r\nThat is the &quot;shape&quot; that needs to be filled with a code describing an action. Method `handle()` of the `EventHandler` interface expects an `event` as an argument. Whether it would be used or not, that&#39;s up to you, the key point is that the `abstract` method of the *target interface* expects this argument to be **provided**.\r\n\r\nBy using a lambda expression `e -&gt; track.play()` you&#39;re explicitly telling to ignore it.\r\n\r\nAnd when you&#39;re passing a method reference `track::play`, which should be classified as a *reference to an instance method of a particular object* ([*see*](https://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html)), the compiler will try to resolve it to a method `play(Event)` and you&#39;re getting a compilation error because it fails to find one.\r\n\r\nIn this case, reference `track::play` is not an equivalent of lambda `e -&gt; track.play()`, but `() -&gt; track.play()`, which doesn&#39;t conform to the target functional interface `EventHandler`.\r\n\r\nIn case if you wonder, how a method reference which can be applicable to a non-static method of arity `n-1` mentioned in the specification (*see case* `ii`) can look like, here is an example:\r\n\r\n```\r\nBiPredicate&lt;String, String&gt; startsWith = String::startsWith; // the same as (str1, str2) -&gt; str1.strarsWith(str2);\r\n\r\nSystem.out.println(startsWith.test(&quot;abc&quot;, &quot;a&quot;));    // =&gt; true\r\nSystem.out.println(startsWith.test(&quot;fooBar&quot;, &quot;a&quot;)); // =&gt; false\r\n```\r\n\r\nAnd you can construct a similar reference which conforms to `EventHandler` interface and applicable an instance method of arity `n-1` using one of the parameterless methods of the `Event` type. It&#39;s not likely to be useful in practice, but it would be valid from the compiler perspective of view, so feel free to try it as an exercise.","title":"Method reference notation vs &quot;standard&quot; Lambda notation","body":"<p>Here is a quote from the <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-15.html#jls-15.12.2.1\" rel=\"nofollow noreferrer\"><em>Java language specification</em></a>:</p>\n<blockquote>\n<p>A method reference expression (§15.13) is potentially compatible with\na functional interface type <code>T</code> if, where the arity of the function type\nof <code>T</code> is <code>n</code>, there exists at least one potentially applicable method\nwhen the method reference expression targets the function type with\narity <code>n</code> (§15.13.1), and one of the following is true:</p>\n<ul>\n<li><p>The method reference expression has the form <code>ReferenceType :: [TypeArguments] Identifier</code> and at least one potentially applicable\nmethod is either (<code>i</code>) static and supports arity <code>n</code>, or (<code>ii</code>) not static\nand supports arity <code>n-1</code>.</p>\n</li>\n<li><p>The method reference expression has some other form and at least one potentially applicable method is not static.</p>\n</li>\n</ul>\n<p>...</p>\n<p>The definition of potential applicability goes beyond a <strong>basic arity</strong>\ncheck to also take into account the <strong>presence</strong> and <strong>&quot;shape&quot;</strong> of <em>functional\ninterface target types</em>.</p>\n</blockquote>\n<p>Every <em>method reference</em> should conform to a <em>function interface</em> (which is an interface that declares a single <code>abstract</code> method, non-overriding methods from <code>Object</code> class). The compiler needs to verify whether the provided reference resolves to a single existing method that has required arity (number of parameters) and their types match the types of the method declared by the target <em>functional interface</em>.</p>\n<p>Let's have a look at the prior Java 8 code (<a href=\"https://docs.oracle.com/javafx/2/ui_controls/button.htm\" rel=\"nofollow noreferrer\"><em>code-sample from JavaFX tutorial by created Oracle</em></a>):</p>\n<pre><code>button2.setOnAction(new EventHandler&lt;ActionEvent&gt;() {\n    @Override public void handle(ActionEvent e) {\n        label.setText(&quot;Accepted&quot;);\n    }\n});\n</code></pre>\n<p>That is the &quot;shape&quot; that needs to be filled with a code describing an action. Method <code>handle()</code> of the <code>EventHandler</code> interface expects an <code>event</code> as an argument. Whether it would be used or not, that's up to you, the key point is that the <code>abstract</code> method of the <em>target interface</em> expects this argument to be <strong>provided</strong>.</p>\n<p>By using a lambda expression <code>e -&gt; track.play()</code> you're explicitly telling to ignore it.</p>\n<p>And when you're passing a method reference <code>track::play</code>, which should be classified as a <em>reference to an instance method of a particular object</em> (<a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html\" rel=\"nofollow noreferrer\"><em>see</em></a>), the compiler will try to resolve it to a method <code>play(Event)</code> and you're getting a compilation error because it fails to find one.</p>\n<p>In this case, reference <code>track::play</code> is not an equivalent of lambda <code>e -&gt; track.play()</code>, but <code>() -&gt; track.play()</code>, which doesn't conform to the target functional interface <code>EventHandler</code>.</p>\n<p>In case if you wonder, how a method reference which can be applicable to a non-static method of arity <code>n-1</code> mentioned in the specification (<em>see case</em> <code>ii</code>) can look like, here is an example:</p>\n<pre><code>BiPredicate&lt;String, String&gt; startsWith = String::startsWith; // the same as (str1, str2) -&gt; str1.strarsWith(str2);\n\nSystem.out.println(startsWith.test(&quot;abc&quot;, &quot;a&quot;));    // =&gt; true\nSystem.out.println(startsWith.test(&quot;fooBar&quot;, &quot;a&quot;)); // =&gt; false\n</code></pre>\n<p>And you can construct a similar reference which conforms to <code>EventHandler</code> interface and applicable an instance method of arity <code>n-1</code> using one of the parameterless methods of the <code>Event</code> type. It's not likely to be useful in practice, but it would be valid from the compiler perspective of view, so feel free to try it as an exercise.</p>\n"}],"owner":{"account_id":22353974,"reputation":121,"user_id":19478919,"display_name":"scripta"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":142,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":72857157,"answer_count":1,"score":1,"last_activity_date":1656957574,"creation_date":1656933661,"question_id":72855888,"body_markdown":"I was expecting these to be simple drop-in replacements for each other, but they&#39;re not. Clearly I&#39;m not understanding the notation. \r\n\r\nCan anyone explain why does that happen?\r\n \r\n```\r\nplayButton.setOnAction(e -&gt; track.play());\r\n```\r\n\r\nHere, compiler is happy with `play()` having a signature of\r\n\r\n```\r\nvoid play()\r\n```\r\n\r\nbut here\r\n\r\n```\r\nplayButton.setOnAction(track::play);\r\n```\r\n\r\nit requires\r\n\r\n```\r\nvoid play(Event e)\r\n```","title":"Method reference notation vs &quot;standard&quot; Lambda notation","body":"<p>I was expecting these to be simple drop-in replacements for each other, but they're not. Clearly I'm not understanding the notation.</p>\n<p>Can anyone explain why does that happen?</p>\n<pre><code>playButton.setOnAction(e -&gt; track.play());\n</code></pre>\n<p>Here, compiler is happy with <code>play()</code> having a signature of</p>\n<pre><code>void play()\n</code></pre>\n<p>but here</p>\n<pre><code>playButton.setOnAction(track::play);\n</code></pre>\n<p>it requires</p>\n<pre><code>void play(Event e)\n</code></pre>\n"},{"tags":["java","apache-spark","pyspark","blas"],"answers":[{"tags":[],"owner":{"account_id":18573918,"reputation":5022,"user_id":13535120,"display_name":"Matt Andruff"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656956755,"creation_date":1656956755,"answer_id":72860390,"question_id":72847202,"body_markdown":"It seems this is really just a badly described error message.  I had different sized vectors being compared.  Once I corrected that issue this error message stopped happening.","title":"Pyspark &amp; conda : &#39;DGEMV&#39; parameter number 6 had an illegal value","body":"<p>It seems this is really just a badly described error message.  I had different sized vectors being compared.  Once I corrected that issue this error message stopped happening.</p>\n"}],"owner":{"account_id":18573918,"reputation":5022,"user_id":13535120,"display_name":"Matt Andruff"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656956755,"creation_date":1656857761,"question_id":72847202,"body_markdown":"On spark 3.2:(via conda install)\r\n\r\nJust upgraded and now I&#39;m getting:`java.lang.IllegalArgumentException: ** On entry to &#39;DGEMV&#39; parameter number 6 had an illegal value`\r\n\r\n```\r\nDriver stacktrace:\r\n        at org.apache.spark.scheduler.DAGScheduler.failJobAndIndependentStages(DAGScheduler.scala:2403)\r\n        at org.apache.spark.scheduler.DAGScheduler.$anonfun$abortStage$2(DAGScheduler.scala:2352)\r\n        at org.apache.spark.scheduler.DAGScheduler.$anonfun$abortStage$2$adapted(DAGScheduler.scala:2351)\r\n        at scala.collection.mutable.ResizableArray.foreach(ResizableArray.scala:62)\r\n        at scala.collection.mutable.ResizableArray.foreach$(ResizableArray.scala:55)\r\n        at scala.collection.mutable.ArrayBuffer.foreach(ArrayBuffer.scala:49)\r\n        at org.apache.spark.scheduler.DAGScheduler.abortStage(DAGScheduler.scala:2351)        at org.apache.spark.scheduler.DAGScheduler.$anonfun$handleTaskSetFailed$1(DAGScheduler.scala:1109)\r\n        at org.apache.spark.scheduler.DAGScheduler.$anonfun$handleTaskSetFailed$1$adapted(DAGScheduler.scala:1109)\r\n        at scala.Option.foreach(Option.scala:407)\r\n        at org.apache.spark.scheduler.DAGScheduler.handleTaskSetFailed(DAGScheduler.scala:1109)\r\n        at org.apache.spark.scheduler.DAGSchedulerEventProcessLoop.doOnReceive(DAGScheduler.scala:2591)\r\n        at org.apache.spark.scheduler.DAGSchedulerEventProcessLoop.onReceive(DAGScheduler.scala:2533)\r\n        at org.apache.spark.scheduler.DAGSchedulerEventProcessLoop.onReceive(DAGScheduler.scala:2522)\r\n        at org.apache.spark.util.EventLoop$$anon$1.run(EventLoop.scala:49)\r\nCaused by: org.apache.spark.SparkException: Failed to execute user defined function (LSHModel$$Lambda$3787/1853968316: (struct&lt;type:tinyint,size:int,indices:array&lt;int&gt;,values:array&lt;double&gt;&gt;) =&gt; array&lt;struct&lt;type:tinyint,size:int,indices:array&lt;int&gt;,values:array&lt;double&gt;&gt;&gt;)\r\n        at org.apache.spark.sql.errors.QueryExecutionErrors$.failedExecuteUserDefinedFunctionError(QueryExecutionErrors.scala:136)\r\n        at org.apache.spark.sql.errors.QueryExecutionErrors.failedExecuteUserDefinedFunctionError(QueryExecutionErrors.scala)\r\n        at org.apache.spark.sql.catalyst.expressions.GeneratedClass$GeneratedIteratorForCodegenStage2.processNext(Unknown Source)        at org.apache.spark.sql.execution.BufferedRowIterator.hasNext(BufferedRowIterator.java:43)\r\n        at org.apache.spark.sql.execution.WholeStageCodegenExec$$anon$1.hasNext(WholeStageCodegenExec.scala:759)\r\n        at scala.collection.Iterator$$anon$10.hasNext(Iterator.scala:460)\r\n        at org.apache.spark.shuffle.sort.BypassMergeSortShuffleWriter.write(BypassMergeSortShuffleWriter.java:140)\r\n        at org.apache.spark.shuffle.ShuffleWriteProcessor.write(ShuffleWriteProcessor.scala:59)\r\n        at org.apache.spark.scheduler.ShuffleMapTask.runTask(ShuffleMapTask.scala:99)\r\n        at org.apache.spark.scheduler.ShuffleMapTask.runTask(ShuffleMapTask.scala:52)\r\n        at org.apache.spark.scheduler.Task.run(Task.scala:131)\r\n        at org.apache.spark.executor.Executor$TaskRunner.$anonfun$run$3(Executor.scala:506)\r\n        at org.apache.spark.util.Utils$.tryWithSafeFinally(Utils.scala:1462)\r\n        at org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:509)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n        at java.lang.Thread.run(Thread.java:750)\r\nCaused by: java.lang.IllegalArgumentException: ** On entry to &#39;DGEMV&#39; parameter number 6 had an illegal value\r\n        at dev.ludovic.netlib.blas.AbstractBLAS.checkArgument(AbstractBLAS.java:46)\r\n        at dev.ludovic.netlib.blas.AbstractBLAS.dgemv(AbstractBLAS.java:345)\r\n        at dev.ludovic.netlib.blas.Java8BLAS.dgemv(Java8BLAS.java:30)\r\n        at dev.ludovic.netlib.blas.AbstractBLAS.dgemv(AbstractBLAS.java:336)\r\n        at dev.ludovic.netlib.blas.Java8BLAS.dgemv(Java8BLAS.java:30)\r\n        at org.apache.spark.ml.linalg.BLAS$.gemvImpl(BLAS.scala:631)\r\n        at org.apache.spark.ml.linalg.BLAS$.gemv(BLAS.scala:614)\r\n        at org.apache.spark.ml.linalg.BLAS$.gemv(BLAS.scala:594)\r\n        at org.apache.spark.ml.feature.BucketedRandomProjectionLSHModel.hashFunction(BucketedRandomProjectionLSH.scala:87)\r\n        at org.apache.spark.ml.feature.LSHModel.$anonfun$transform$1(LSH.scala:99)\r\n        ... 15 more\r\n```\r\nFrom commandline Java:\r\n```\r\njava -version\r\nopenjdk version &quot;1.8.0_332&quot;\r\nOpenJDK Runtime Environment (build 1.8.0_332-b09)\r\nOpenJDK 64-Bit Server VM (build 25.332-b09, mixed mode)\r\n```\r\n\r\nMy research points to a java mismatch issue, but my java version seems to match. I did not enable native BLAS. Any suggestions welcome.\r\n\r\nTried: setting java home\r\n`export JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.332.b09-1.el7_9.x86_64/jre/`\r\nNo change.\r\n \r\nBuried warning:\r\n```\r\nWARN InstanceBuilder$NativeBLAS: Failed to load implementation from:dev.ludovic.netlib.blas.JNIBLAS\r\n22/07/03 14:00:07 WARN InstanceBuilder$NativeBLAS: Failed to load implementation from:dev.ludovic.netlib.blas.ForeignLinkerBLAS\r\n```\r\nFollowed [these directions to use blas with spark][1].  (Using native library.)\r\n\r\n  [1]: https://gist.github.com/dusenberrymw/d24fcefcd245cfacbc60d3b4caccc560","title":"Pyspark &amp; conda : &#39;DGEMV&#39; parameter number 6 had an illegal value","body":"<p>On spark 3.2:(via conda install)</p>\n<p>Just upgraded and now I'm getting:<code>java.lang.IllegalArgumentException: ** On entry to 'DGEMV' parameter number 6 had an illegal value</code></p>\n<pre><code>Driver stacktrace:\n        at org.apache.spark.scheduler.DAGScheduler.failJobAndIndependentStages(DAGScheduler.scala:2403)\n        at org.apache.spark.scheduler.DAGScheduler.$anonfun$abortStage$2(DAGScheduler.scala:2352)\n        at org.apache.spark.scheduler.DAGScheduler.$anonfun$abortStage$2$adapted(DAGScheduler.scala:2351)\n        at scala.collection.mutable.ResizableArray.foreach(ResizableArray.scala:62)\n        at scala.collection.mutable.ResizableArray.foreach$(ResizableArray.scala:55)\n        at scala.collection.mutable.ArrayBuffer.foreach(ArrayBuffer.scala:49)\n        at org.apache.spark.scheduler.DAGScheduler.abortStage(DAGScheduler.scala:2351)        at org.apache.spark.scheduler.DAGScheduler.$anonfun$handleTaskSetFailed$1(DAGScheduler.scala:1109)\n        at org.apache.spark.scheduler.DAGScheduler.$anonfun$handleTaskSetFailed$1$adapted(DAGScheduler.scala:1109)\n        at scala.Option.foreach(Option.scala:407)\n        at org.apache.spark.scheduler.DAGScheduler.handleTaskSetFailed(DAGScheduler.scala:1109)\n        at org.apache.spark.scheduler.DAGSchedulerEventProcessLoop.doOnReceive(DAGScheduler.scala:2591)\n        at org.apache.spark.scheduler.DAGSchedulerEventProcessLoop.onReceive(DAGScheduler.scala:2533)\n        at org.apache.spark.scheduler.DAGSchedulerEventProcessLoop.onReceive(DAGScheduler.scala:2522)\n        at org.apache.spark.util.EventLoop$$anon$1.run(EventLoop.scala:49)\nCaused by: org.apache.spark.SparkException: Failed to execute user defined function (LSHModel$$Lambda$3787/1853968316: (struct&lt;type:tinyint,size:int,indices:array&lt;int&gt;,values:array&lt;double&gt;&gt;) =&gt; array&lt;struct&lt;type:tinyint,size:int,indices:array&lt;int&gt;,values:array&lt;double&gt;&gt;&gt;)\n        at org.apache.spark.sql.errors.QueryExecutionErrors$.failedExecuteUserDefinedFunctionError(QueryExecutionErrors.scala:136)\n        at org.apache.spark.sql.errors.QueryExecutionErrors.failedExecuteUserDefinedFunctionError(QueryExecutionErrors.scala)\n        at org.apache.spark.sql.catalyst.expressions.GeneratedClass$GeneratedIteratorForCodegenStage2.processNext(Unknown Source)        at org.apache.spark.sql.execution.BufferedRowIterator.hasNext(BufferedRowIterator.java:43)\n        at org.apache.spark.sql.execution.WholeStageCodegenExec$$anon$1.hasNext(WholeStageCodegenExec.scala:759)\n        at scala.collection.Iterator$$anon$10.hasNext(Iterator.scala:460)\n        at org.apache.spark.shuffle.sort.BypassMergeSortShuffleWriter.write(BypassMergeSortShuffleWriter.java:140)\n        at org.apache.spark.shuffle.ShuffleWriteProcessor.write(ShuffleWriteProcessor.scala:59)\n        at org.apache.spark.scheduler.ShuffleMapTask.runTask(ShuffleMapTask.scala:99)\n        at org.apache.spark.scheduler.ShuffleMapTask.runTask(ShuffleMapTask.scala:52)\n        at org.apache.spark.scheduler.Task.run(Task.scala:131)\n        at org.apache.spark.executor.Executor$TaskRunner.$anonfun$run$3(Executor.scala:506)\n        at org.apache.spark.util.Utils$.tryWithSafeFinally(Utils.scala:1462)\n        at org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:509)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n        at java.lang.Thread.run(Thread.java:750)\nCaused by: java.lang.IllegalArgumentException: ** On entry to 'DGEMV' parameter number 6 had an illegal value\n        at dev.ludovic.netlib.blas.AbstractBLAS.checkArgument(AbstractBLAS.java:46)\n        at dev.ludovic.netlib.blas.AbstractBLAS.dgemv(AbstractBLAS.java:345)\n        at dev.ludovic.netlib.blas.Java8BLAS.dgemv(Java8BLAS.java:30)\n        at dev.ludovic.netlib.blas.AbstractBLAS.dgemv(AbstractBLAS.java:336)\n        at dev.ludovic.netlib.blas.Java8BLAS.dgemv(Java8BLAS.java:30)\n        at org.apache.spark.ml.linalg.BLAS$.gemvImpl(BLAS.scala:631)\n        at org.apache.spark.ml.linalg.BLAS$.gemv(BLAS.scala:614)\n        at org.apache.spark.ml.linalg.BLAS$.gemv(BLAS.scala:594)\n        at org.apache.spark.ml.feature.BucketedRandomProjectionLSHModel.hashFunction(BucketedRandomProjectionLSH.scala:87)\n        at org.apache.spark.ml.feature.LSHModel.$anonfun$transform$1(LSH.scala:99)\n        ... 15 more\n</code></pre>\n<p>From commandline Java:</p>\n<pre><code>java -version\nopenjdk version &quot;1.8.0_332&quot;\nOpenJDK Runtime Environment (build 1.8.0_332-b09)\nOpenJDK 64-Bit Server VM (build 25.332-b09, mixed mode)\n</code></pre>\n<p>My research points to a java mismatch issue, but my java version seems to match. I did not enable native BLAS. Any suggestions welcome.</p>\n<p>Tried: setting java home\n<code>export JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.332.b09-1.el7_9.x86_64/jre/</code>\nNo change.</p>\n<p>Buried warning:</p>\n<pre><code>WARN InstanceBuilder$NativeBLAS: Failed to load implementation from:dev.ludovic.netlib.blas.JNIBLAS\n22/07/03 14:00:07 WARN InstanceBuilder$NativeBLAS: Failed to load implementation from:dev.ludovic.netlib.blas.ForeignLinkerBLAS\n</code></pre>\n<p>Followed <a href=\"https://gist.github.com/dusenberrymw/d24fcefcd245cfacbc60d3b4caccc560\" rel=\"nofollow noreferrer\">these directions to use blas with spark</a>.  (Using native library.)</p>\n"},{"tags":["java","jackson","jackson-databind"],"answers":[{"tags":[],"owner":{"account_id":15910691,"reputation":1091,"user_id":11480721,"display_name":"Ausgefuchster"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1656956728,"creation_date":1656956310,"answer_id":72860328,"question_id":72859517,"body_markdown":"You can use `@JsonAlias` like this:\r\n```java\r\n@Getter\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class Item {\r\n\r\n  @JsonAlias(&quot;someItemId&quot;)\r\n  private UUID itemId;\r\n}\r\n```","title":"How do I teach Jackson to source the same field from two disjunctive JSON objects?","body":"<p>You can use <code>@JsonAlias</code> like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Getter\n@NoArgsConstructor\n@AllArgsConstructor\npublic class Item {\n\n  @JsonAlias(&quot;someItemId&quot;)\n  private UUID itemId;\n}\n</code></pre>\n"}],"owner":{"account_id":968743,"reputation":3452,"user_id":991710,"accept_rate":82,"display_name":"filpa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72860328,"answer_count":1,"score":0,"last_activity_date":1656956728,"creation_date":1656951048,"question_id":72859517,"body_markdown":"I have the case where I have some existing data which is present in multiple forms, but needs to be read into the same class.\r\n\r\nFor example, given the class:\r\n\r\n```java\r\n@Getter\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class Item {\r\n\r\n  private UUID itemId;\r\n}\r\n```\r\n\r\nI might have some JSON that is well-formed and is parseable out-of-the-box (e.g. `List&lt;Item&gt;`):\r\n\r\n```json\r\n{\r\n  &quot;items&quot;: [\r\n    {\r\n      &quot;itemId&quot;: &quot;&lt;uuid&gt;&quot;\r\n    }\r\n  ]\r\n}\r\n```\r\n\r\nbut also some which is not: \r\n```json\r\n{\r\n  &quot;items&quot;: [\r\n    {\r\n      &quot;someItemId&quot;: &quot;&lt;uuid&gt;&quot;\r\n    }\r\n  ]\r\n}\r\n```\r\n\r\nI do not have source JSON which contains both of these fields at the same time.\r\n\r\nI tried to do this using a custom deserialization handler as described in [this](https://stackoverflow.com/questions/18313323/how-do-i-call-the-default-deserializer-from-a-custom-deserializer-in-jackson) question, but my use case is a bit different since I will be essentially doing something like:\r\n\r\n```java\r\ntry {\r\n  Item item = defaultDeserializer.deserialize(...);\r\n} catch (UnrecognizedPropertyException e) {\r\n  // try to rebuild object manually by traversing the tree\r\n}\r\n```\r\n\r\nwhich would be rather difficult to get right since I can&#39;t let Jackson do the heavy lifting anymore. Are there alternative ways? Is there perhaps an annotation-based approach that would allow something like &quot;source this field from either one of these JSON fields, but not both&quot;?","title":"How do I teach Jackson to source the same field from two disjunctive JSON objects?","body":"<p>I have the case where I have some existing data which is present in multiple forms, but needs to be read into the same class.</p>\n<p>For example, given the class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Getter\n@NoArgsConstructor\n@AllArgsConstructor\npublic class Item {\n\n  private UUID itemId;\n}\n</code></pre>\n<p>I might have some JSON that is well-formed and is parseable out-of-the-box (e.g. <code>List&lt;Item&gt;</code>):</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;items&quot;: [\n    {\n      &quot;itemId&quot;: &quot;&lt;uuid&gt;&quot;\n    }\n  ]\n}\n</code></pre>\n<p>but also some which is not:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;items&quot;: [\n    {\n      &quot;someItemId&quot;: &quot;&lt;uuid&gt;&quot;\n    }\n  ]\n}\n</code></pre>\n<p>I do not have source JSON which contains both of these fields at the same time.</p>\n<p>I tried to do this using a custom deserialization handler as described in <a href=\"https://stackoverflow.com/questions/18313323/how-do-i-call-the-default-deserializer-from-a-custom-deserializer-in-jackson\">this</a> question, but my use case is a bit different since I will be essentially doing something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>try {\n  Item item = defaultDeserializer.deserialize(...);\n} catch (UnrecognizedPropertyException e) {\n  // try to rebuild object manually by traversing the tree\n}\n</code></pre>\n<p>which would be rather difficult to get right since I can't let Jackson do the heavy lifting anymore. Are there alternative ways? Is there perhaps an annotation-based approach that would allow something like &quot;source this field from either one of these JSON fields, but not both&quot;?</p>\n"},{"tags":["java","spring-boot","jsessionid"],"answers":[{"tags":[],"owner":{"account_id":7739148,"reputation":3345,"user_id":5859654,"display_name":"Nemanja"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656793527,"creation_date":1656793527,"answer_id":72842212,"question_id":72842156,"body_markdown":"Spring Framework provides the [@CookieValue][1] annotation to read any cookie by specifying the name.\r\n\r\nSo you can use this annotation with `required` property set to `false`. \r\nIf you use don&#39;t set `required` property default value will be `true`,and  an exception will be thrown if the cookie is missing in the request. \r\n\r\nAlternatively, provide a `defaultValue()`, which implicitly sets this flag to false.\r\n\r\n    @PostMapping(&quot;/login&quot;)\r\n        @ResponseBody\r\n        public ResponseEntity&lt;Account&gt; login( @CookieValue(name = &quot;JSESSIONID&quot;, required=false) String cookie,@RequestParam(name =&quot;username&quot;) String name, @RequestParam(name =&quot;password&quot;) String password) {\r\n            if(name == &quot;user&quot; || password == &quot;password&quot;)\r\n            {\r\n                System.out.println(&quot;Matched!&quot;);\r\n                return new ResponseEntity&lt;&gt;(HttpStatus.OK);\r\n            }\r\n            return new ResponseEntity&lt;&gt;(HttpStatus.UNAUTHORIZED);\r\n        }\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/bind/annotation/CookieValue.html\r\n","title":"How to add JSESSIONID as optional cookie as parameter using post in Java Spring Boot","body":"<p>Spring Framework provides the <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/bind/annotation/CookieValue.html\" rel=\"nofollow noreferrer\">@CookieValue</a> annotation to read any cookie by specifying the name.</p>\n<p>So you can use this annotation with <code>required</code> property set to <code>false</code>.\nIf you use don't set <code>required</code> property default value will be <code>true</code>,and  an exception will be thrown if the cookie is missing in the request.</p>\n<p>Alternatively, provide a <code>defaultValue()</code>, which implicitly sets this flag to false.</p>\n<pre><code>@PostMapping(&quot;/login&quot;)\n    @ResponseBody\n    public ResponseEntity&lt;Account&gt; login( @CookieValue(name = &quot;JSESSIONID&quot;, required=false) String cookie,@RequestParam(name =&quot;username&quot;) String name, @RequestParam(name =&quot;password&quot;) String password) {\n        if(name == &quot;user&quot; || password == &quot;password&quot;)\n        {\n            System.out.println(&quot;Matched!&quot;);\n            return new ResponseEntity&lt;&gt;(HttpStatus.OK);\n        }\n        return new ResponseEntity&lt;&gt;(HttpStatus.UNAUTHORIZED);\n    }\n</code></pre>\n"}],"owner":{"account_id":23076992,"reputation":91,"user_id":17189808,"display_name":"ftslaptop pc"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":805,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1656956585,"creation_date":1656792882,"question_id":72842156,"body_markdown":"How to add JSESSIONID as optional cookie when posting username and password for login in controller?\r\n\r\n*LoginController:*\r\n```\r\n@PostMapping(&quot;/login&quot;)\r\n@ResponseBody\r\npublic ResponseEntity&lt;Account&gt; login(@RequestParam(name =&quot;username&quot;) String name, @RequestParam(name =&quot;password&quot;) String password) {\r\n    if(name == &quot;user&quot; || password == &quot;password&quot;)\r\n    {\r\n        System.out.println(&quot;Matched!&quot;);\r\n        return new ResponseEntity&lt;&gt;(HttpStatus.OK);\r\n    }\r\n    return new ResponseEntity&lt;&gt;(HttpStatus.UNAUTHORIZED);\r\n}\r\n```","title":"How to add JSESSIONID as optional cookie as parameter using post in Java Spring Boot","body":"<p>How to add JSESSIONID as optional cookie when posting username and password for login in controller?</p>\n<p><em>LoginController:</em></p>\n<pre><code>@PostMapping(&quot;/login&quot;)\n@ResponseBody\npublic ResponseEntity&lt;Account&gt; login(@RequestParam(name =&quot;username&quot;) String name, @RequestParam(name =&quot;password&quot;) String password) {\n    if(name == &quot;user&quot; || password == &quot;password&quot;)\n    {\n        System.out.println(&quot;Matched!&quot;);\n        return new ResponseEntity&lt;&gt;(HttpStatus.OK);\n    }\n    return new ResponseEntity&lt;&gt;(HttpStatus.UNAUTHORIZED);\n}\n</code></pre>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":22249835,"reputation":1973,"user_id":16482938,"display_name":"j_b"},"score":0,"creation_date":1656335293,"post_id":72771657,"comment_id":128539402,"body_markdown":"Can you post the body of your `techRep.save` method as well?  Does that method return a fully refreshed instance of the Technology object?","body":"Can you post the body of your <code>techRep.save</code> method as well?  Does that method return a fully refreshed instance of the Technology object?"},{"owner":{"account_id":24029209,"reputation":13,"user_id":18010405,"display_name":"CodingPandaBear"},"score":0,"creation_date":1656336321,"post_id":72771657,"comment_id":128539856,"body_markdown":"I updated the info in the question, since formatting in the comments was awful","body":"I updated the info in the question, since formatting in the comments was awful"}],"answers":[{"tags":[],"owner":{"account_id":24029209,"reputation":13,"user_id":18010405,"display_name":"CodingPandaBear"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1656956570,"creation_date":1656956570,"answer_id":72860372,"question_id":72771657,"body_markdown":"For who ever reads this:\r\nI did solve the issue by not solving it:\r\n\r\nInstead of using the &quot;mappedBy&quot; of the bi-directional relationship, I changed the relationship to be two one-directional manyToMany relations. \r\n\r\nI then changed the Services to update the corresponding items to contain the link.","title":"Java SpringBoot: CRUD method returns value before called Service finishes","body":"<p>For who ever reads this:\nI did solve the issue by not solving it:</p>\n<p>Instead of using the &quot;mappedBy&quot; of the bi-directional relationship, I changed the relationship to be two one-directional manyToMany relations.</p>\n<p>I then changed the Services to update the corresponding items to contain the link.</p>\n"}],"owner":{"account_id":24029209,"reputation":13,"user_id":18010405,"display_name":"CodingPandaBear"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72860372,"answer_count":1,"score":0,"last_activity_date":1656956570,"creation_date":1656330844,"question_id":72771657,"body_markdown":"I have several Items that are linked together in ManyToMany relations like this:\r\n\r\nIn Technologies:\r\n\r\n        @ManyToMany(mappedBy = &quot;internalTechnologies&quot;)\r\n    private List&lt;Project&gt; internalProjects = new ArrayList&lt;&gt;();\r\n\r\nIn Projects\r\n\r\n    @ManyToMany(cascade = {CascadeType.MERGE})\r\n    @JoinTable(\r\n            name = &quot;project_technology&quot;,\r\n            joinColumns = @JoinColumn(name = &quot;project_id&quot;, referencedColumnName = &quot;id&quot;),\r\n            inverseJoinColumns = @JoinColumn(name = &quot;technology_id&quot;, referencedColumnName = &quot;id&quot;)\r\n    )\r\n    private List&lt;Technology&gt; internalTechnologies = new ArrayList&lt;&gt;();\r\n\r\nWhen editing the technology to add or remove the links between the technology and projects, I use helper classes that use the @Service notion and are @Autowired into the controller.\r\n\r\nFor removing the links:\r\n\r\n        public void removeTechnologyFromProjects(Technology technologyToRemove, List&lt;Project&gt; projects){\r\n        List&lt;Project&gt; projectsToEdit = new ArrayList&lt;&gt;(projects);\r\n        for ( Project project: projectsToEdit) {\r\n            List&lt;Technology&gt; internalTechnologies = project.getInternalTechnologies();\r\n            internalTechnologies.remove(technologyToRemove);\r\n            project.setInternalTechnologies(internalTechnologies);\r\n            projectRepository.save(project);\r\n        }\r\n    }\r\n\r\nNote: I create a new ArrayList to avoid ConcurrentModificationException.\r\n \r\nFor adding Links:\r\n\r\n  \r\n    public void linkTechnologyToProjects(Technology technologyToAdd, List&lt;Long&gt; ids) throws ResponseStatusException {\r\n        for (Long id : ids) {\r\n            Optional&lt;Project&gt; project = projectRepository.findById(id);\r\n            if (project.isPresent()) {\r\n                Project projectToEdit = project.get();\r\n                List&lt;Technology&gt; technologyList = projectToEdit.getInternalTechnologies();\r\n\r\n                technologyList.add(technologyToAdd);\r\n                projectToEdit.setInternalTechnologies(technologyList);\r\n                projectRepository.save(projectToEdit);\r\n            } else {\r\n                throw new ResponseStatusException(HttpStatus.NOT_FOUND,\r\n                        String.format(PROJECT_NOT_FOUND, id));\r\n            }\r\n        }\r\n    }\r\n\r\nIn the Technology controller the following commands are executed:\r\n\r\n     @PutMapping(&quot;/tech/{id}&quot;)\r\n    public TechReturnDTO updateTech(@PathVariable(&quot;id&quot;) long id, @Valid @RequestBody TechCreationDTO requestBody) {\r\n        Technology techToUpdate = techRep.findById(id);\r\n        (other fields edited)\r\n            if (requestBody.getInternalProjects()!=null){\r\n                linkRemover.removeTechnologyFromProjects(techToUpdate, techToUpdate.getInternalProjects());\r\n                itemLinker.linkTechnologyToProjects(techToUpdate, requestBody.getInternalProjects());\r\n            }else{\r\n                linkRemover.removeTechnologyFromProjects(techToUpdate, techToUpdate.getInternalProjects());\r\n            }\r\n\r\n            (other lists edited)\r\n\r\n\r\n            Technology savedTech = techRep.save(techToUpdate);\r\n            return new TechReturnDTO(savedTech);\r\n        }\r\n        throw new ResponseStatusException(HttpStatus.NOT_FOUND,\r\n                String.format(&quot;Technology with Id %s not found!&quot;, id));\r\n    }\r\n\r\nFor some reason, the method return the TechReturnDTO before the itemLinker does its job:\r\n\r\n - The ReturnDTO does not contain the changes in the linked items\r\n - Sending a GET request afterwards does return the changes.\r\n\r\nHow do I &#39;force&#39; the method to wait until the service has finished?\r\n\r\nEdit: Additional details as requested:\r\n\r\nThe technologyRepository simply is an extension of the CrudRepository Class:\r\n\r\n`public interface TechnologyRepository extends CrudRepository&lt;Technology, Long&gt; {\r\n    Technology findById(long id);\r\n}`\r\n\r\nIt does return a fully Updated Object normally. When editing a Project the changes are immediately shown. Only when editing the tech to update the relation the error occurs.","title":"Java SpringBoot: CRUD method returns value before called Service finishes","body":"<p>I have several Items that are linked together in ManyToMany relations like this:</p>\n<p>In Technologies:</p>\n<pre><code>    @ManyToMany(mappedBy = &quot;internalTechnologies&quot;)\nprivate List&lt;Project&gt; internalProjects = new ArrayList&lt;&gt;();\n</code></pre>\n<p>In Projects</p>\n<pre><code>@ManyToMany(cascade = {CascadeType.MERGE})\n@JoinTable(\n        name = &quot;project_technology&quot;,\n        joinColumns = @JoinColumn(name = &quot;project_id&quot;, referencedColumnName = &quot;id&quot;),\n        inverseJoinColumns = @JoinColumn(name = &quot;technology_id&quot;, referencedColumnName = &quot;id&quot;)\n)\nprivate List&lt;Technology&gt; internalTechnologies = new ArrayList&lt;&gt;();\n</code></pre>\n<p>When editing the technology to add or remove the links between the technology and projects, I use helper classes that use the @Service notion and are @Autowired into the controller.</p>\n<p>For removing the links:</p>\n<pre><code>    public void removeTechnologyFromProjects(Technology technologyToRemove, List&lt;Project&gt; projects){\n    List&lt;Project&gt; projectsToEdit = new ArrayList&lt;&gt;(projects);\n    for ( Project project: projectsToEdit) {\n        List&lt;Technology&gt; internalTechnologies = project.getInternalTechnologies();\n        internalTechnologies.remove(technologyToRemove);\n        project.setInternalTechnologies(internalTechnologies);\n        projectRepository.save(project);\n    }\n}\n</code></pre>\n<p>Note: I create a new ArrayList to avoid ConcurrentModificationException.</p>\n<p>For adding Links:</p>\n<pre><code>public void linkTechnologyToProjects(Technology technologyToAdd, List&lt;Long&gt; ids) throws ResponseStatusException {\n    for (Long id : ids) {\n        Optional&lt;Project&gt; project = projectRepository.findById(id);\n        if (project.isPresent()) {\n            Project projectToEdit = project.get();\n            List&lt;Technology&gt; technologyList = projectToEdit.getInternalTechnologies();\n\n            technologyList.add(technologyToAdd);\n            projectToEdit.setInternalTechnologies(technologyList);\n            projectRepository.save(projectToEdit);\n        } else {\n            throw new ResponseStatusException(HttpStatus.NOT_FOUND,\n                    String.format(PROJECT_NOT_FOUND, id));\n        }\n    }\n}\n</code></pre>\n<p>In the Technology controller the following commands are executed:</p>\n<pre><code> @PutMapping(&quot;/tech/{id}&quot;)\npublic TechReturnDTO updateTech(@PathVariable(&quot;id&quot;) long id, @Valid @RequestBody TechCreationDTO requestBody) {\n    Technology techToUpdate = techRep.findById(id);\n    (other fields edited)\n        if (requestBody.getInternalProjects()!=null){\n            linkRemover.removeTechnologyFromProjects(techToUpdate, techToUpdate.getInternalProjects());\n            itemLinker.linkTechnologyToProjects(techToUpdate, requestBody.getInternalProjects());\n        }else{\n            linkRemover.removeTechnologyFromProjects(techToUpdate, techToUpdate.getInternalProjects());\n        }\n\n        (other lists edited)\n\n\n        Technology savedTech = techRep.save(techToUpdate);\n        return new TechReturnDTO(savedTech);\n    }\n    throw new ResponseStatusException(HttpStatus.NOT_FOUND,\n            String.format(&quot;Technology with Id %s not found!&quot;, id));\n}\n</code></pre>\n<p>For some reason, the method return the TechReturnDTO before the itemLinker does its job:</p>\n<ul>\n<li>The ReturnDTO does not contain the changes in the linked items</li>\n<li>Sending a GET request afterwards does return the changes.</li>\n</ul>\n<p>How do I 'force' the method to wait until the service has finished?</p>\n<p>Edit: Additional details as requested:</p>\n<p>The technologyRepository simply is an extension of the CrudRepository Class:</p>\n<p><code>public interface TechnologyRepository extends CrudRepository&lt;Technology, Long&gt; { Technology findById(long id); }</code></p>\n<p>It does return a fully Updated Object normally. When editing a Project the changes are immediately shown. Only when editing the tech to update the relation the error occurs.</p>\n"},{"tags":["java","spring-boot","whatsapp"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1656957721,"post_id":72860075,"comment_id":128691775,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"answers":[{"tags":[],"owner":{"account_id":3729317,"reputation":1797,"user_id":3102234,"display_name":"Horațiu Udrea"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1656956509,"creation_date":1656956509,"answer_id":72860364,"question_id":72860075,"body_markdown":"Yes, Java Spring can handle HTTP requests and hence webhooks.  \r\nYou might want to start with a [tutorial][1].\r\n\r\n\r\n  [1]: https://spring.io/guides/gs/rest-service/","title":"Webhook endpoint listener with java","body":"<p>Yes, Java Spring can handle HTTP requests and hence webhooks.<br />\nYou might want to start with a <a href=\"https://spring.io/guides/gs/rest-service/\" rel=\"nofollow noreferrer\">tutorial</a>.</p>\n"}],"owner":{"account_id":24027917,"reputation":3,"user_id":18009292,"display_name":"Cypix"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6452,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72860364,"answer_count":1,"score":0,"last_activity_date":1656956509,"creation_date":1656954511,"question_id":72860075,"body_markdown":"I want to get the webhook from whatsapp businnes api with the messages directly in java. \r\nIs there a way without Node.js ? \r\nCould maybe java spring work ?","title":"Webhook endpoint listener with java","body":"<p>I want to get the webhook from whatsapp businnes api with the messages directly in java.\nIs there a way without Node.js ?\nCould maybe java spring work ?</p>\n"},{"tags":["java","spring","unit-testing","spring-mvc","mockmvc"],"answers":[{"tags":[],"owner":{"account_id":20225179,"reputation":1,"user_id":14833310,"display_name":"NoelKhan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656956432,"creation_date":1656956432,"answer_id":72860346,"question_id":72859309,"body_markdown":"In the Test, i named the mockFile &quot;company","title":"Why doesn&#39;t Spring find the file?","body":"<p>In the Test, i named the mockFile &quot;company</p>\n"}],"owner":{"account_id":20225179,"reputation":1,"user_id":14833310,"display_name":"NoelKhan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656956432,"creation_date":1656949794,"question_id":72859309,"body_markdown":"I am trying to unit test my fileUpload, after manually testing it with postman, and it working fine. [Postman Request][1]\r\n\r\n    @Test\r\n    public void uploadCompany() throws Exception {\r\n\r\n        File companyFile = new File(baseDir + &quot;company.json&quot;);\r\n\r\n        MockMultipartFile file = new MockMultipartFile(&quot;company&quot;, &quot;company.json&quot;, String.valueOf(MediaType.MULTIPART_FORM_DATA), Files.readAllBytes(companyFile.toPath()));\r\n        MvcResult result = mockMvc.perform(multipart(&quot;/fileUpload/&quot;).file(file))\r\n                .andReturn();\r\n\r\n    }\r\n\r\nAnd the method called:\r\n\r\n       private  Object createObject(MultipartFile file){\r\n        JSONObject jsonObject = createJsonObjectFromFile(file);\r\n        Object returnObject;\r\n\r\n        Type type = getType(jsonObject);\r\n\r\n        returnObject  = switch (type) {\r\n            case NOTSET -&gt; null;\r\n            case TREND -&gt; createTrend(jsonObject);\r\n            case COMPANY -&gt; createCompany(jsonObject);\r\n            case TECHNOLOGY -&gt; createTechnology(jsonObject);\r\n            case PROJECT -&gt; createProject(jsonObject);\r\n        };\r\n\r\n        return returnObject;\r\n    }\r\n\r\nWhen executed this is shown in the console:\r\n\r\n&gt; 2022-07-04 17:44:08.078 DEBUG 88988 --- [    Test worker] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to de.fraunhofer.DigiTales2Go.file.FileController#fileUpload(MultipartFile)\r\n2022-07-04 17:44:08.090 DEBUG 88988 --- [    Test worker] o.s.web.method.HandlerMethod             : Could not resolve parameter [0] in public org.springframework.http.ResponseEntity&lt;java.lang.Object&gt; de.fraunhofer.DigiTales2Go.file.FileController.fileUpload(org.springframework.web.multipart.MultipartFile): Required request part &#39;File&#39; is not present\r\n2022-07-04 17:44:08.092  WARN 88988 --- [    Test worker] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.multipart.support.MissingServletRequestPartException: Required request part &#39;File&#39; is not present]\r\n\r\nThe multipartFile can&#39;t be resolved, why?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/sJTWD.png","title":"Why doesn&#39;t Spring find the file?","body":"<p>I am trying to unit test my fileUpload, after manually testing it with postman, and it working fine. <a href=\"https://i.stack.imgur.com/sJTWD.png\" rel=\"nofollow noreferrer\">Postman Request</a></p>\n<pre><code>@Test\npublic void uploadCompany() throws Exception {\n\n    File companyFile = new File(baseDir + &quot;company.json&quot;);\n\n    MockMultipartFile file = new MockMultipartFile(&quot;company&quot;, &quot;company.json&quot;, String.valueOf(MediaType.MULTIPART_FORM_DATA), Files.readAllBytes(companyFile.toPath()));\n    MvcResult result = mockMvc.perform(multipart(&quot;/fileUpload/&quot;).file(file))\n            .andReturn();\n\n}\n</code></pre>\n<p>And the method called:</p>\n<pre><code>   private  Object createObject(MultipartFile file){\n    JSONObject jsonObject = createJsonObjectFromFile(file);\n    Object returnObject;\n\n    Type type = getType(jsonObject);\n\n    returnObject  = switch (type) {\n        case NOTSET -&gt; null;\n        case TREND -&gt; createTrend(jsonObject);\n        case COMPANY -&gt; createCompany(jsonObject);\n        case TECHNOLOGY -&gt; createTechnology(jsonObject);\n        case PROJECT -&gt; createProject(jsonObject);\n    };\n\n    return returnObject;\n}\n</code></pre>\n<p>When executed this is shown in the console:</p>\n<blockquote>\n<p>2022-07-04 17:44:08.078 DEBUG 88988 --- [    Test worker] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to de.fraunhofer.DigiTales2Go.file.FileController#fileUpload(MultipartFile)\n2022-07-04 17:44:08.090 DEBUG 88988 --- [    Test worker] o.s.web.method.HandlerMethod             : Could not resolve parameter [0] in public org.springframework.http.ResponseEntity&lt;java.lang.Object&gt; de.fraunhofer.DigiTales2Go.file.FileController.fileUpload(org.springframework.web.multipart.MultipartFile): Required request part 'File' is not present\n2022-07-04 17:44:08.092  WARN 88988 --- [    Test worker] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.multipart.support.MissingServletRequestPartException: Required request part 'File' is not present]</p>\n</blockquote>\n<p>The multipartFile can't be resolved, why?</p>\n"},{"tags":["java","spring","spring-boot","rest","endpoint"],"comments":[{"owner":{"account_id":2182934,"reputation":2525,"user_id":1932011,"accept_rate":71,"display_name":"JayC667"},"score":0,"creation_date":1656751165,"post_id":72837652,"comment_id":128651941,"body_markdown":"If all the data is contained in one class, for example `final Reservation reservation`, it&#39;s better to only pass that class as parameter (your solution #2). This way the method can never accept invalid states (unless `reservation` in itself is already invalid). The case that implements multiple parameters to define additional info is rather unlikely, because all configuration should be done inside the `Reservation`.","body":"If all the data is contained in one class, for example <code>final Reservation reservation</code>, it&#39;s better to only pass that class as parameter (your solution #2). This way the method can never accept invalid states (unless <code>reservation</code> in itself is already invalid). The case that implements multiple parameters to define additional info is rather unlikely, because all configuration should be done inside the <code>Reservation</code>."},{"owner":{"account_id":1383225,"reputation":1976,"user_id":1315787,"accept_rate":61,"display_name":"VeryNiceArgumentException"},"score":0,"creation_date":1656752246,"post_id":72837652,"comment_id":128652133,"body_markdown":"option two, but I would create a ReservationRequest and a ReservationResponse. Request  would have all the necessary information to do a reservation (room, dates, number of guests ...) and response would be a lighter object informing the operation status (reserved successfully or not) along with some unique reservation id. It is just a suggestion, it really depends on your use case.","body":"option two, but I would create a ReservationRequest and a ReservationResponse. Request  would have all the necessary information to do a reservation (room, dates, number of guests ...) and response would be a lighter object informing the operation status (reserved successfully or not) along with some unique reservation id. It is just a suggestion, it really depends on your use case."}],"answers":[{"tags":[],"owner":{"account_id":12890665,"reputation":19,"user_id":9322776,"display_name":"Amritesh Khare"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656753940,"creation_date":1656753940,"answer_id":72837947,"question_id":72837652,"body_markdown":"The suggestions in the comments are for sure helpful. I would suggest to go with calling the calling the service class for the implementation. You can autowire the service class inside the controller class and then implement the functionality. Additionally, I can suggest that you can use ResponseEntity object for sending the response.","title":"What is the good practice for writing REST endpoints?","body":"<p>The suggestions in the comments are for sure helpful. I would suggest to go with calling the calling the service class for the implementation. You can autowire the service class inside the controller class and then implement the functionality. Additionally, I can suggest that you can use ResponseEntity object for sending the response.</p>\n"},{"tags":[],"owner":{"account_id":7406122,"reputation":21,"user_id":5635004,"display_name":"Patrickoo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656756123,"creation_date":1656756123,"answer_id":72838184,"question_id":72837652,"body_markdown":"I think it depends on the structure of the database after all, although following pure REST rules, I would choose option 1, why? because if I want to review the booking list for a room later, I use the same endpoint as I used to create a booking for that room.\r\n\r\nIn addition, we do not know what is in the ReservationApi - do we also provide the hotel id and room id there, or only the information that is needed to create a reservation?\r\n\r\nI agree with the previous comments that it&#39;s worth creating a ReservationResponse\r\n\r\nif I had to create such an api, I would choose option 1","title":"What is the good practice for writing REST endpoints?","body":"<p>I think it depends on the structure of the database after all, although following pure REST rules, I would choose option 1, why? because if I want to review the booking list for a room later, I use the same endpoint as I used to create a booking for that room.</p>\n<p>In addition, we do not know what is in the ReservationApi - do we also provide the hotel id and room id there, or only the information that is needed to create a reservation?</p>\n<p>I agree with the previous comments that it's worth creating a ReservationResponse</p>\n<p>if I had to create such an api, I would choose option 1</p>\n"}],"owner":{"account_id":22609560,"reputation":41,"user_id":16789960,"display_name":"Олександр Житарюк"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":123,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1656956273,"creation_date":1656750820,"question_id":72837652,"body_markdown":"I want to add a REST endpoint that will add reservations for some rooms in a hotel. What is the better way to do it? I have 2 solutions:\r\n```\r\n@RequestMapping(&quot;api/v1/hotels/hotelId/rooms/roomId/reservations&quot;)\r\nsome Class Endpoint\r\n\r\n    @PostMapping\r\n    public ReservationApi save(final @RequestBody ReservationApi reservationApi,\r\n                               final @PathVariable(&quot;hotelId&quot;) String hotelId,\r\n                               final @PathVariable(&quot;roomId&quot;) String roomId) {\r\n        final Reservation reservation = reservationMapper.toDomain(reservationApi);\r\n        return reservationMapper.toApi(reservationService.save(reservation, hotelId, roomId));\r\n    }\r\n\r\n```\r\nAnd build `Reservation` on the service side:\r\n\r\n\r\nOr I have an alternative solution where we do not use paths, only an API class is used for creating:\r\n```\r\n@RequestMapping(&quot;api/v1/reservations&quot;)\r\n\r\n    @PostMapping\r\n    public ReservationApi save(final @RequestBody ReservationApi reservationApi) {\r\n        final Reservation reservation = reservationMapper.toDomain(reservationApi);\r\n        return reservationMapper.toApi(reservationService.save(reservation));\r\n    }\r\n```","title":"What is the good practice for writing REST endpoints?","body":"<p>I want to add a REST endpoint that will add reservations for some rooms in a hotel. What is the better way to do it? I have 2 solutions:</p>\n<pre><code>@RequestMapping(&quot;api/v1/hotels/hotelId/rooms/roomId/reservations&quot;)\nsome Class Endpoint\n\n    @PostMapping\n    public ReservationApi save(final @RequestBody ReservationApi reservationApi,\n                               final @PathVariable(&quot;hotelId&quot;) String hotelId,\n                               final @PathVariable(&quot;roomId&quot;) String roomId) {\n        final Reservation reservation = reservationMapper.toDomain(reservationApi);\n        return reservationMapper.toApi(reservationService.save(reservation, hotelId, roomId));\n    }\n\n</code></pre>\n<p>And build <code>Reservation</code> on the service side:</p>\n<p>Or I have an alternative solution where we do not use paths, only an API class is used for creating:</p>\n<pre><code>@RequestMapping(&quot;api/v1/reservations&quot;)\n\n    @PostMapping\n    public ReservationApi save(final @RequestBody ReservationApi reservationApi) {\n        final Reservation reservation = reservationMapper.toDomain(reservationApi);\n        return reservationMapper.toApi(reservationService.save(reservation));\n    }\n</code></pre>\n"},{"tags":["java","javafx"],"answers":[{"tags":[],"owner":{"account_id":922885,"reputation":2206,"user_id":954224,"accept_rate":90,"display_name":"Rawr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1566589364,"creation_date":1566589364,"answer_id":57632171,"question_id":57631938,"body_markdown":"Good question. I&#39;d suggest passing the `totalPercent` Label to the new class so that you can modify it. As an example,\r\n\r\n    public class FirstClass {\r\n        Label totalPercent;\r\n        SecondClass secondClass = new SecondClass();\r\n    \r\n        public void start(Stage primaryStage) throws Exception {\r\n          totalPercent = new Label(Methods.getTotalPercent());\r\n          totalPercent.setTextFill(Color.web(&quot;#4ecf17&quot;));\r\n          secondClass.setTotalPercent(totalPercent);\r\n        }\r\n    }\r\n    \r\n    public class SecondClass {\r\n        Label totalPercent;\r\n    \r\n        //next code is in a different class\r\n        public void setPercentColor() {\r\n            if(percent &lt;  50){\r\n                totalPercent.setTextFill(Color.web(&quot;#ff0000&quot;));\r\n            }else if(percent &gt;=  50 &amp;&amp; percent &lt;  60){\r\n                totalPercent.setTextFill(Color.web(&quot;#ff7700&quot;));\r\n            }else if (percent &gt;=  60 &amp;&amp; percent &lt;  100){\r\n                totalPercent.setTextFill(Color.web(&quot;#59ff00&quot;));\r\n            }else{\r\n                totalPercent.setTextFill(Color.web(&quot;#000000&quot;));\r\n            }\r\n        }\r\n    \r\n        public void setTotalPercent(Label totalPercent) {\r\n            this.totalPercent = totalPercent;\r\n        }\r\n    }\r\n\r\nLastly, as just an opinion of my own. I&#39;d suggest naming your variables a little more descriptively. As an example, you name your Label variable `totalPercent`, but I&#39;d suggest `totalPercentLabel`. I&#39;d also suggest `setPercentColor()` to be something like `setTotalPercentLabelColor()`. It&#39;s a little more descriptive and when I look at that method alone it&#39;s immediately clear what&#39;s going on. The method is descriptive, and I know what you&#39;re doing to `totalPercentLabel`. Right now I&#39;m not sure what `setPercentColor()` is doing and I&#39;m not sure what object the `totalPercent` is representing unless I look at the other parts of your code.","title":"How do you edit the color of a label in main class from a different class?","body":"<p>Good question. I'd suggest passing the <code>totalPercent</code> Label to the new class so that you can modify it. As an example,</p>\n\n<pre><code>public class FirstClass {\n    Label totalPercent;\n    SecondClass secondClass = new SecondClass();\n\n    public void start(Stage primaryStage) throws Exception {\n      totalPercent = new Label(Methods.getTotalPercent());\n      totalPercent.setTextFill(Color.web(\"#4ecf17\"));\n      secondClass.setTotalPercent(totalPercent);\n    }\n}\n\npublic class SecondClass {\n    Label totalPercent;\n\n    //next code is in a different class\n    public void setPercentColor() {\n        if(percent &lt;  50){\n            totalPercent.setTextFill(Color.web(\"#ff0000\"));\n        }else if(percent &gt;=  50 &amp;&amp; percent &lt;  60){\n            totalPercent.setTextFill(Color.web(\"#ff7700\"));\n        }else if (percent &gt;=  60 &amp;&amp; percent &lt;  100){\n            totalPercent.setTextFill(Color.web(\"#59ff00\"));\n        }else{\n            totalPercent.setTextFill(Color.web(\"#000000\"));\n        }\n    }\n\n    public void setTotalPercent(Label totalPercent) {\n        this.totalPercent = totalPercent;\n    }\n}\n</code></pre>\n\n<p>Lastly, as just an opinion of my own. I'd suggest naming your variables a little more descriptively. As an example, you name your Label variable <code>totalPercent</code>, but I'd suggest <code>totalPercentLabel</code>. I'd also suggest <code>setPercentColor()</code> to be something like <code>setTotalPercentLabelColor()</code>. It's a little more descriptive and when I look at that method alone it's immediately clear what's going on. The method is descriptive, and I know what you're doing to <code>totalPercentLabel</code>. Right now I'm not sure what <code>setPercentColor()</code> is doing and I'm not sure what object the <code>totalPercent</code> is representing unless I look at the other parts of your code.</p>\n"},{"tags":[],"owner":{"account_id":3583958,"reputation":80987,"user_id":2991525,"display_name":"fabian"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1566595802,"creation_date":1566595802,"answer_id":57633219,"question_id":57631938,"body_markdown":"The design of your classes is not done well considering the `setPercentColor` method: It controls the details of the representation of some view managed by another class.\n\nI recommend redesigning `Methods` to provide a property and letting the other class decide on what to do with this value.\n\nIn this case you could add a `ReadOnlyIntegerProperty percent` instead of using a field. This way the other class can use bindings/listeners to update the view and the only thing `Methods` needs to worry about is updating the property.\n\n### In `Methods`\n\n    // private int percent;\n    private final ReadOnlyIntegerWrapper percent = new ReadOnlyIntegerWrapper();\n    \n    public ReadOnlyIntegerProperty percentProperty() {\n        return percent.getReadOnlyProperty();\n    }\n\n    public int getPercent() {\n        return percent.get();\n    }\n    \n    ...\n    // percent = i\n    percent.set(i); // replace assinment to int field with setting the property\n\n### Other class\n\n    public void start(Stage primaryStage)throws Exception{\n        totalPercent = new Label();\n\n        totalPercent.textProperty().bind(Methods.percentProperty().asString());\n\n        final Color color560 = Color.web(&quot;#ff7700&quot;);\n        final Color color100 = Color.web(&quot;#59ff00&quot;);\n        totalPercent.textFillProperty().bind(Bindings.createObjectBinding(() -&gt; {\n                  int percent = Methods.getPercent();\n                  if(percent &lt;  50) {\n                      return Color.RED;\n                  } else if(percent &lt; 60) {\n                      return color60;\n                  }else if (percent &lt; 100){\n                      return color100;\n                  } else {\n                      return Color.BLACK;\n                  }\n              }, Methods.percentProperty()));\n    }\n\nBTW: I recommend choosing a more meaningful name for the `Methods` class: Most classes contain method implementations, so the name contains basically no valuable info to someone reading the code. ","title":"How do you edit the color of a label in main class from a different class?","body":"<p>The design of your classes is not done well considering the <code>setPercentColor</code> method: It controls the details of the representation of some view managed by another class.</p>\n<p>I recommend redesigning <code>Methods</code> to provide a property and letting the other class decide on what to do with this value.</p>\n<p>In this case you could add a <code>ReadOnlyIntegerProperty percent</code> instead of using a field. This way the other class can use bindings/listeners to update the view and the only thing <code>Methods</code> needs to worry about is updating the property.</p>\n<h3>In <code>Methods</code></h3>\n<pre><code>// private int percent;\nprivate final ReadOnlyIntegerWrapper percent = new ReadOnlyIntegerWrapper();\n\npublic ReadOnlyIntegerProperty percentProperty() {\n    return percent.getReadOnlyProperty();\n}\n\npublic int getPercent() {\n    return percent.get();\n}\n\n...\n// percent = i\npercent.set(i); // replace assinment to int field with setting the property\n</code></pre>\n<h3>Other class</h3>\n<pre><code>public void start(Stage primaryStage)throws Exception{\n    totalPercent = new Label();\n\n    totalPercent.textProperty().bind(Methods.percentProperty().asString());\n\n    final Color color560 = Color.web(&quot;#ff7700&quot;);\n    final Color color100 = Color.web(&quot;#59ff00&quot;);\n    totalPercent.textFillProperty().bind(Bindings.createObjectBinding(() -&gt; {\n              int percent = Methods.getPercent();\n              if(percent &lt;  50) {\n                  return Color.RED;\n              } else if(percent &lt; 60) {\n                  return color60;\n              }else if (percent &lt; 100){\n                  return color100;\n              } else {\n                  return Color.BLACK;\n              }\n          }, Methods.percentProperty()));\n}\n</code></pre>\n<p>BTW: I recommend choosing a more meaningful name for the <code>Methods</code> class: Most classes contain method implementations, so the name contains basically no valuable info to someone reading the code.</p>\n"}],"owner":{"account_id":16536474,"reputation":5,"user_id":11948345,"display_name":"Mathis H."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":57633219,"answer_count":2,"score":0,"last_activity_date":1656956150,"creation_date":1566588124,"question_id":57631938,"body_markdown":"I&#39;m a beginner java programmer and I&#39;m making a small app where I can enter my school marks and see my total score. I have 2 classes in total (1 for javafx layout and 1 for my Methods), and I&#39;m trying to change the color of a label (.setTextFill) which is in the main class with a method in the methods class. \r\n\r\nI have tried making an object of the main class but this gives an error: java.lang.reflect.InvocationTargetException.\r\n\r\n\r\n    public void start(Stage primaryStage)throws Exception{\r\n      totalPercent = new Label(Methods.getTotalPercent());\r\n      totalPercent.setTextFill(Color.web(&quot;#4ecf17&quot;));\r\n    }\r\n\r\n    //next code is in a different class\r\n    public void setPercentColor(){\r\n\t\tif(percent &lt;  50){\r\n\t\t\ttotalPercent.setTextFill(Color.web(&quot;#ff0000&quot;));\r\n\t\t}else if(percent &gt;=  50 &amp;&amp; percent &lt;  60){\r\n\t\t\ttotalPercent.setTextFill(Color.web(&quot;#ff7700&quot;));\r\n\t\t}else if (percent &gt;=  60 &amp;&amp; percent &lt;  100){\r\n\t\t\ttotalPercent.setTextFill(Color.web(&quot;#59ff00&quot;));\r\n\t\t}else{\r\n\t\t\ttotalPercent.setTextFill(Color.web(&quot;#000000&quot;));\r\n\t\t}\r\n\t}\r\n    \r\n\r\nSo basically I don&#39;t know how to change the color from the label &#39;totalPercent&#39; with a method that&#39;s located in a different class.","title":"How do you edit the color of a label in main class from a different class?","body":"<p>I'm a beginner java programmer and I'm making a small app where I can enter my school marks and see my total score. I have 2 classes in total (1 for javafx layout and 1 for my Methods), and I'm trying to change the color of a label (.setTextFill) which is in the main class with a method in the methods class.</p>\n<p>I have tried making an object of the main class but this gives an error: java.lang.reflect.InvocationTargetException.</p>\n<pre><code>public void start(Stage primaryStage)throws Exception{\n  totalPercent = new Label(Methods.getTotalPercent());\n  totalPercent.setTextFill(Color.web(&quot;#4ecf17&quot;));\n}\n\n//next code is in a different class\npublic void setPercentColor(){\n    if(percent &lt;  50){\n        totalPercent.setTextFill(Color.web(&quot;#ff0000&quot;));\n    }else if(percent &gt;=  50 &amp;&amp; percent &lt;  60){\n        totalPercent.setTextFill(Color.web(&quot;#ff7700&quot;));\n    }else if (percent &gt;=  60 &amp;&amp; percent &lt;  100){\n        totalPercent.setTextFill(Color.web(&quot;#59ff00&quot;));\n    }else{\n        totalPercent.setTextFill(Color.web(&quot;#000000&quot;));\n    }\n}\n</code></pre>\n<p>So basically I don't know how to change the color from the label 'totalPercent' with a method that's located in a different class.</p>\n"},{"tags":["java","string","object","iterable"],"answers":[{"tags":[],"owner":{"account_id":1595843,"reputation":12869,"user_id":1477994,"accept_rate":72,"display_name":"royB"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1656955858,"creation_date":1656947068,"answer_id":72858748,"question_id":72858640,"body_markdown":"The compile error is because your method expects a class Iterable of type String and you pass it a class Iterable of type Object.\r\n\r\nJust use generics (or whildcard as suggested by @Stephen c)\r\n\r\n```\r\n&lt;T&gt; boolean  iterableContains(Iterable&lt;T&gt; iterable, Object matcher) {\r\n    return StreamSupport.stream(iterable.spliterator(), false).anyMatch(i -&gt; i.equals(matcher));\r\n}\r\n\r\n//or\r\nboolean iterableContains(Iterable&lt;?&gt; iterable, Object matcher) {\r\n ...\r\n}\r\n```\r\nand then\r\n```\r\nIterable&lt;String&gt; iter = List.of(&quot;aaa&quot;);\r\nSystem.out.println(iterableContains(iter, &quot;aaa&quot;)); //true\r\nSystem.out.println(iterableContains(iter, &quot;bbb&quot;)); //false\r\n```\r\n","title":"Is there a way to use a common method to take Iterable of String and Long","body":"<p>The compile error is because your method expects a class Iterable of type String and you pass it a class Iterable of type Object.</p>\n<p>Just use generics (or whildcard as suggested by @Stephen c)</p>\n<pre><code>&lt;T&gt; boolean  iterableContains(Iterable&lt;T&gt; iterable, Object matcher) {\n    return StreamSupport.stream(iterable.spliterator(), false).anyMatch(i -&gt; i.equals(matcher));\n}\n\n//or\nboolean iterableContains(Iterable&lt;?&gt; iterable, Object matcher) {\n ...\n}\n</code></pre>\n<p>and then</p>\n<pre><code>Iterable&lt;String&gt; iter = List.of(&quot;aaa&quot;);\nSystem.out.println(iterableContains(iter, &quot;aaa&quot;)); //true\nSystem.out.println(iterableContains(iter, &quot;bbb&quot;)); //false\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17813347,"reputation":1635,"user_id":12937443,"display_name":"DEV"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656947408,"creation_date":1656947408,"answer_id":72858823,"question_id":72858640,"body_markdown":"You can try use generic method, matcher also should be T :\r\n\r\n\r\n    static &lt;T&gt; boolean iterableContains2(Iterable&lt;T&gt; iterable, T matcher) {\r\n        return StreamSupport.stream(iterable.spliterator(), false).anyMatch(i -&gt; i.equals(matcher));\r\n    }","title":"Is there a way to use a common method to take Iterable of String and Long","body":"<p>You can try use generic method, matcher also should be T :</p>\n<pre><code>static &lt;T&gt; boolean iterableContains2(Iterable&lt;T&gt; iterable, T matcher) {\n    return StreamSupport.stream(iterable.spliterator(), false).anyMatch(i -&gt; i.equals(matcher));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656947512,"creation_date":1656947512,"answer_id":72858850,"question_id":72858640,"body_markdown":"    boolean iteContains(Iterable&lt;?&gt; itr, Object matcher) {\r\n    \t\treturn StreamSupport.stream(itr.spliterator(), false).anyMatch(i -&gt; i.equals(matcher));\r\n    \t}\r\n\r\n\r\nYou can use `?` wildcard type in your method","title":"Is there a way to use a common method to take Iterable of String and Long","body":"<pre><code>boolean iteContains(Iterable&lt;?&gt; itr, Object matcher) {\n        return StreamSupport.stream(itr.spliterator(), false).anyMatch(i -&gt; i.equals(matcher));\n    }\n</code></pre>\n<p>You can use <code>?</code> wildcard type in your method</p>\n"}],"owner":{"account_id":4504119,"reputation":1834,"user_id":3706638,"accept_rate":100,"display_name":"S.Dan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72858748,"answer_count":3,"score":1,"last_activity_date":1656955858,"creation_date":1656946514,"question_id":72858640,"body_markdown":"I have the following 2 methods:\r\n\r\n```\r\nboolean iterableContainsStr(Iterable&lt;String&gt; iterable, Object matcher) {\r\n        return StreamSupport.stream(iterable.spliterator(), false).anyMatch(i -&gt; i.equals(matcher));\r\n    }\r\n\r\nboolean iterableContainsLong(Iterable&lt;Long&gt; iterable, Object matcher) {\r\n        return StreamSupport.stream(iterable.spliterator(), false).anyMatch(i -&gt; i.equals(matcher));\r\n    }\r\n```\r\n\r\nThe content is equal in both methods, and I tried to use the following:\r\n```\r\nboolean iterableContains(Iterable&lt;Object&gt; iterable, Object matcher) {\r\n        return StreamSupport.stream(iterable.spliterator(), false).anyMatch(i -&gt; i.equals(matcher));\r\n    }\r\n```\r\n\r\nbut it throws a compilation error when I try to use it with String or Long iterable. Any solution?","title":"Is there a way to use a common method to take Iterable of String and Long","body":"<p>I have the following 2 methods:</p>\n<pre><code>boolean iterableContainsStr(Iterable&lt;String&gt; iterable, Object matcher) {\n        return StreamSupport.stream(iterable.spliterator(), false).anyMatch(i -&gt; i.equals(matcher));\n    }\n\nboolean iterableContainsLong(Iterable&lt;Long&gt; iterable, Object matcher) {\n        return StreamSupport.stream(iterable.spliterator(), false).anyMatch(i -&gt; i.equals(matcher));\n    }\n</code></pre>\n<p>The content is equal in both methods, and I tried to use the following:</p>\n<pre><code>boolean iterableContains(Iterable&lt;Object&gt; iterable, Object matcher) {\n        return StreamSupport.stream(iterable.spliterator(), false).anyMatch(i -&gt; i.equals(matcher));\n    }\n</code></pre>\n<p>but it throws a compilation error when I try to use it with String or Long iterable. Any solution?</p>\n"},{"tags":["java","generics","jackson","deserialization","json-deserialization"],"answers":[{"tags":[],"owner":{"account_id":7413926,"reputation":5474,"user_id":11374957,"display_name":"Kaan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1656955838,"creation_date":1656955355,"answer_id":72860195,"question_id":72859969,"body_markdown":"&gt; _While consuming, what is the best way to deserialise and identify the message type as Cricket or Football, so that the corresponding service is called._\r\n\r\nThis isn&#39;t possible. Generics don&#39;t work that way.\r\n\r\nGenerics are involved only at compile-time. When your program runs, the type information from generics is no longer present. There is great information and examples in the [Java Tutorial on generics](https://docs.oracle.com/javase/tutorial/java/generics/index.html).\r\n\r\nAs a brief example, here are two simple classes:\r\n\r\n```\r\nclass MessageModel&lt;T&gt; {\r\n}\r\n\r\nclass Cricket {\r\n}\r\n```\r\n\r\nIf we create a new `MessageModel&lt;Cricket&gt;`, it compiles and runs fine.\r\n```\r\nMessageModel&lt;Cricket&gt; cricket = new MessageModel&lt;&gt;();\r\n```\r\n\r\nBut at runtime, `cricket` is identified only as an instance of `MessageModel` – there is no evidence that the `Cricket` class was associated in any way. As a bit of evidence, asking the `cricket` object to report its own class at runtime it will print itself as `MessageModel`:\r\n```\r\nSystem.out.println(&quot;runtime: &quot; + cricket.getClass());\r\n\r\nruntime: class MessageModel\r\n```\r\n\r\nThis behavior is within a single JVM, but nothing changes if your program serializes an object and sends it to some other program. That other program also has no ability to determine the original `Cricket` generic type from the serialized object.\r\n\r\n\r\n----------\r\n\r\n\r\nIf you need the original class later, you could do something like below, capturing the original class at object construction. Later, when the receiving program needs to know `Cricket` was the original class, it can call `getConcreteClass()`:\r\n\r\nFirst, modify `MessageModel`: require a `Class` at object construction, save that class as a private member, add `getConcreteClass()` to expose it:\r\n```\r\nclass MessageModel&lt;T&gt; {\r\n    private final Class concreteClass;\r\n\r\n    MessageModel(Class concreteClass) {\r\n        this.concreteClass = concreteClass;\r\n    }\r\n\r\n    public Class getConcreteClass() {\r\n        return concreteClass;\r\n    }\r\n}\r\n```\r\nFrom there, the original class is avaiable at runtime:\r\n```\r\nMessageModel&lt;Cricket&gt; cricket = new MessageModel&lt;&gt;(Cricket.class);\r\nSystem.out.println(&quot;getClass()         : &quot; + cricket.getClass());\r\nSystem.out.println(&quot;getConcreteClass() : &quot; + cricket.getConcreteClass());\r\n\r\ngetClass()         : class MessageModel\r\ngetConcreteClass() : class Cricket\r\n```\r\n\r\n","title":"Deserialise a generic class , with unknown generic type - Jackson","body":"<blockquote>\n<p><em>While consuming, what is the best way to deserialise and identify the message type as Cricket or Football, so that the corresponding service is called.</em></p>\n</blockquote>\n<p>This isn't possible. Generics don't work that way.</p>\n<p>Generics are involved only at compile-time. When your program runs, the type information from generics is no longer present. There is great information and examples in the <a href=\"https://docs.oracle.com/javase/tutorial/java/generics/index.html\" rel=\"nofollow noreferrer\">Java Tutorial on generics</a>.</p>\n<p>As a brief example, here are two simple classes:</p>\n<pre><code>class MessageModel&lt;T&gt; {\n}\n\nclass Cricket {\n}\n</code></pre>\n<p>If we create a new <code>MessageModel&lt;Cricket&gt;</code>, it compiles and runs fine.</p>\n<pre><code>MessageModel&lt;Cricket&gt; cricket = new MessageModel&lt;&gt;();\n</code></pre>\n<p>But at runtime, <code>cricket</code> is identified only as an instance of <code>MessageModel</code> – there is no evidence that the <code>Cricket</code> class was associated in any way. As a bit of evidence, asking the <code>cricket</code> object to report its own class at runtime it will print itself as <code>MessageModel</code>:</p>\n<pre><code>System.out.println(&quot;runtime: &quot; + cricket.getClass());\n\nruntime: class MessageModel\n</code></pre>\n<p>This behavior is within a single JVM, but nothing changes if your program serializes an object and sends it to some other program. That other program also has no ability to determine the original <code>Cricket</code> generic type from the serialized object.</p>\n<hr />\n<p>If you need the original class later, you could do something like below, capturing the original class at object construction. Later, when the receiving program needs to know <code>Cricket</code> was the original class, it can call <code>getConcreteClass()</code>:</p>\n<p>First, modify <code>MessageModel</code>: require a <code>Class</code> at object construction, save that class as a private member, add <code>getConcreteClass()</code> to expose it:</p>\n<pre><code>class MessageModel&lt;T&gt; {\n    private final Class concreteClass;\n\n    MessageModel(Class concreteClass) {\n        this.concreteClass = concreteClass;\n    }\n\n    public Class getConcreteClass() {\n        return concreteClass;\n    }\n}\n</code></pre>\n<p>From there, the original class is avaiable at runtime:</p>\n<pre><code>MessageModel&lt;Cricket&gt; cricket = new MessageModel&lt;&gt;(Cricket.class);\nSystem.out.println(&quot;getClass()         : &quot; + cricket.getClass());\nSystem.out.println(&quot;getConcreteClass() : &quot; + cricket.getConcreteClass());\n\ngetClass()         : class MessageModel\ngetConcreteClass() : class Cricket\n</code></pre>\n"}],"owner":{"account_id":11498901,"reputation":144,"user_id":8427285,"display_name":"Adil Khan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":177,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72860195,"answer_count":1,"score":0,"last_activity_date":1656955838,"creation_date":1656953836,"question_id":72859969,"body_markdown":"    public class MessageModel&lt;T&gt; {\r\n        T body;\r\n    }\r\n\r\nNow `T` could be object of type say `Cricket` or `Football`. Now this class is serialised and published to a queue.\r\nWhile consuming, what is the best way to deserialise and identify the message type as Cricket or Football, so that the corresponding service is called. I am using jackson to serialise.\r\n\r\nI tried introducing a new property `Type` during serialisation and during deserialisation will first read as json object, identify the Type and again use jackson to deserialise as the type is known. \r\nEx:\r\n\r\n    JSONObject jsonObject = new JSONObject(message);\r\n    String messageType = jsonObject.optString(&quot;message_type&quot;);\r\n    objectMapper.readValue(message,new TypeReference&lt;MessageModel&lt;messageType&gt;&gt;(){});\r\n\r\nBut looking for better approaches.","title":"Deserialise a generic class , with unknown generic type - Jackson","body":"<pre><code>public class MessageModel&lt;T&gt; {\n    T body;\n}\n</code></pre>\n<p>Now <code>T</code> could be object of type say <code>Cricket</code> or <code>Football</code>. Now this class is serialised and published to a queue.\nWhile consuming, what is the best way to deserialise and identify the message type as Cricket or Football, so that the corresponding service is called. I am using jackson to serialise.</p>\n<p>I tried introducing a new property <code>Type</code> during serialisation and during deserialisation will first read as json object, identify the Type and again use jackson to deserialise as the type is known.\nEx:</p>\n<pre><code>JSONObject jsonObject = new JSONObject(message);\nString messageType = jsonObject.optString(&quot;message_type&quot;);\nobjectMapper.readValue(message,new TypeReference&lt;MessageModel&lt;messageType&gt;&gt;(){});\n</code></pre>\n<p>But looking for better approaches.</p>\n"},{"tags":["java","tomcat"],"answers":[{"tags":[],"owner":{"account_id":294406,"reputation":24602,"user_id":598289,"accept_rate":85,"display_name":"SJuan76"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1304331971,"creation_date":1304331971,"answer_id":5856034,"question_id":5856024,"body_markdown":"It usually works by default in the home directory.\r\n\r\nIn order to read properties, you should use Class.getResourceAsStream(String)\r\n\r\nBTW, a more proper place would be META-INF dir","title":"In which folder is FileInputStream looking?","body":"<p>It usually works by default in the home directory.</p>\n\n<p>In order to read properties, you should use Class.getResourceAsStream(String)</p>\n\n<p>BTW, a more proper place would be META-INF dir</p>\n"},{"tags":[],"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"down_vote_count":0,"up_vote_count":24,"is_accepted":true,"score":24,"last_activity_date":1304332095,"creation_date":1304332095,"answer_id":5856046,"question_id":5856024,"body_markdown":"It will look in the folder that is is the result of\r\n\r\n    System.getProperty(&quot;user.dir&quot;)\r\n\r\nand this could be anywhere. That depends the current working directory when the tomcat server is started.\r\n\r\nTry to load a small servlet that prints that info at loading if you cannot figure out from standard logs or the tomcat start procedure.","title":"In which folder is FileInputStream looking?","body":"<p>It will look in the folder that is is the result of</p>\n\n<pre><code>System.getProperty(\"user.dir\")\n</code></pre>\n\n<p>and this could be anywhere. That depends the current working directory when the tomcat server is started.</p>\n\n<p>Try to load a small servlet that prints that info at loading if you cannot figure out from standard logs or the tomcat start procedure.</p>\n"},{"tags":[],"owner":{"account_id":11089,"reputation":400030,"user_id":21234,"accept_rate":91,"display_name":"skaffman"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1304332723,"creation_date":1304332153,"answer_id":5856057,"question_id":5856024,"body_markdown":"It will look in the working directory of the JVM process, not the root directory of the WAR. Where that working directory is depends on how the Tomcat process was started.\r\n\r\nAs such, you shouldn&#39;t do this. You should obtain references to resources from inside the WAR by asking the [`ServletContext`][1] object (which has various methods to look up resource streams), e.g. from inside a Servlet:\r\n\r\n    InputStream stream = getServletContext().getResourceAsStream(&quot;myfile.properties&quot;);\r\n\r\nAlso, it&#39;s bad practice to refer to resources inside a WAR as actual files. This will only work if the WAR is exploded into a directory structure, and won&#39;t work if the servlet contain decided to run the WAR as an un-exploded `.WAR` file. By sticking to the `getResource...()` methods, you keep things neutral and portable.\r\n\r\nHowever if, as you say, you cannot change the code, then that&#39;s a problem, because the code is broken and badly written.  You&#39;ll need to figure out how to launch Tomcat so that the working directory is in the &quot;correct&quot; place.  That might entail hacking the startup scripts.\r\n\r\n\r\n  [1]: http://download.oracle.com/javaee/5/api/javax/servlet/ServletContext.html","title":"In which folder is FileInputStream looking?","body":"<p>It will look in the working directory of the JVM process, not the root directory of the WAR. Where that working directory is depends on how the Tomcat process was started.</p>\n\n<p>As such, you shouldn't do this. You should obtain references to resources from inside the WAR by asking the <a href=\"http://download.oracle.com/javaee/5/api/javax/servlet/ServletContext.html\" rel=\"noreferrer\"><code>ServletContext</code></a> object (which has various methods to look up resource streams), e.g. from inside a Servlet:</p>\n\n<pre><code>InputStream stream = getServletContext().getResourceAsStream(\"myfile.properties\");\n</code></pre>\n\n<p>Also, it's bad practice to refer to resources inside a WAR as actual files. This will only work if the WAR is exploded into a directory structure, and won't work if the servlet contain decided to run the WAR as an un-exploded <code>.WAR</code> file. By sticking to the <code>getResource...()</code> methods, you keep things neutral and portable.</p>\n\n<p>However if, as you say, you cannot change the code, then that's a problem, because the code is broken and badly written.  You'll need to figure out how to launch Tomcat so that the working directory is in the \"correct\" place.  That might entail hacking the startup scripts.</p>\n"},{"tags":[],"owner":{"account_id":26560,"reputation":13354,"user_id":69224,"accept_rate":71,"display_name":"corlettk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1304332352,"creation_date":1304332352,"answer_id":5856086,"question_id":5856024,"body_markdown":"**If I recall correctly:** Tomcat searches the classpath for ALL resources... therefore &quot;myfile.properties&quot; (with no path) would be in any &quot;top&quot; directory in the classpath. The &quot;default top&quot; (if you don&#39;t specify a classpath) is WEB-INF/classes; infact I think Tomcat allways (logically) adds WEB-INF/classes to the classpath, even if you don&#39;t want it to... haven&#39;t played with Tomcat in years.","title":"In which folder is FileInputStream looking?","body":"<p><strong>If I recall correctly:</strong> Tomcat searches the classpath for ALL resources... therefore \"myfile.properties\" (with no path) would be in any \"top\" directory in the classpath. The \"default top\" (if you don't specify a classpath) is WEB-INF/classes; infact I think Tomcat allways (logically) adds WEB-INF/classes to the classpath, even if you don't want it to... haven't played with Tomcat in years.</p>\n"},{"tags":[],"owner":{"account_id":3729650,"reputation":1020,"user_id":3102471,"accept_rate":71,"display_name":"mbmast"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656955490,"creation_date":1656955490,"answer_id":72860213,"question_id":5856024,"body_markdown":"In general, whenever I have a &quot;where is the JVM looking for this file&quot; type of question, I launch the excellent Microsoft utility Procmon.  Of course, this only works if you&#39;re developing under Windows.  Procmon allows you to set filters on many System events, such as file I/O.\r\n\r\nThis lets you do things like monitor all I/O coming from application whose name you specify, e.g. `javaw.exe`.  You can add path filters, e.g. include all files with names ending  in &quot;`.properties`&quot;.  It shows exactly where, on the file system, the JVM is looking for I/O matching your filter.\r\n\r\nHere&#39;s an example of setting filters.  Here I&#39;m looking for executables named `javaw.exe` and any file whose name ends with &quot;`.xml`&quot;.\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nAnd here is the output after running some Java code that is trying to open an XML file (unsuccessfully - note the NAME-NOT-FOUND error):\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\nThe utility is available at [sysinternals.com][3], which is a Microsoft owned site.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/DxWPW.png\r\n  [2]: https://i.stack.imgur.com/zRLbs.png\r\n  [3]: https://www.sysinternals.com","title":"In which folder is FileInputStream looking?","body":"<p>In general, whenever I have a &quot;where is the JVM looking for this file&quot; type of question, I launch the excellent Microsoft utility Procmon.  Of course, this only works if you're developing under Windows.  Procmon allows you to set filters on many System events, such as file I/O.</p>\n<p>This lets you do things like monitor all I/O coming from application whose name you specify, e.g. <code>javaw.exe</code>.  You can add path filters, e.g. include all files with names ending  in &quot;<code>.properties</code>&quot;.  It shows exactly where, on the file system, the JVM is looking for I/O matching your filter.</p>\n<p>Here's an example of setting filters.  Here I'm looking for executables named <code>javaw.exe</code> and any file whose name ends with &quot;<code>.xml</code>&quot;.</p>\n<p><a href=\"https://i.stack.imgur.com/DxWPW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DxWPW.png\" alt=\"enter image description here\" /></a></p>\n<p>And here is the output after running some Java code that is trying to open an XML file (unsuccessfully - note the NAME-NOT-FOUND error):</p>\n<p><a href=\"https://i.stack.imgur.com/zRLbs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zRLbs.png\" alt=\"enter image description here\" /></a></p>\n<p>The utility is available at <a href=\"https://www.sysinternals.com\" rel=\"nofollow noreferrer\">sysinternals.com</a>, which is a Microsoft owned site.</p>\n"}],"owner":{"account_id":108774,"reputation":33384,"user_id":288568,"accept_rate":74,"display_name":"Alex"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22406,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":5856046,"answer_count":5,"score":15,"last_activity_date":1656955490,"creation_date":1304331876,"question_id":5856024,"body_markdown":"I use the line \r\n\r\n    FileInputStream stream = new FileInputStream(&quot;myfile.properties&quot;);\r\n\r\nto open a properties file without specifying a path.\r\n\r\nWhen running it on Apache Tomcat, the file can not be found.\r\nI placed the file into the root folder of the application.\r\n\r\nIn which folder is Java looking?\r\n\r\nI can not change the path because the code is not by me.","title":"In which folder is FileInputStream looking?","body":"<p>I use the line </p>\n\n<pre><code>FileInputStream stream = new FileInputStream(\"myfile.properties\");\n</code></pre>\n\n<p>to open a properties file without specifying a path.</p>\n\n<p>When running it on Apache Tomcat, the file can not be found.\nI placed the file into the root folder of the application.</p>\n\n<p>In which folder is Java looking?</p>\n\n<p>I can not change the path because the code is not by me.</p>\n"},{"tags":["java","excel","performance","apache-poi"],"comments":[{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":0,"creation_date":1432300930,"post_id":30374248,"comment_id":48883362,"body_markdown":"What happens if you try with Apache POI 3.12?","body":"What happens if you try with Apache POI 3.12?"},{"owner":{"account_id":873136,"reputation":31,"user_id":923541,"display_name":"6w3n"},"score":0,"creation_date":1432301438,"post_id":30374248,"comment_id":48883746,"body_markdown":"@Gagravarr: I didn&#39;t try with POI 3.12. Did you seen any correction about this issue? As soon as possible I will try it.","body":"@Gagravarr: I didn&#39;t try with POI 3.12. Did you seen any correction about this issue? As soon as possible I will try it."},{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":0,"creation_date":1432311083,"post_id":30374248,"comment_id":48890348,"body_markdown":"The [POI changelog is here](http://poi.apache.org/changes.html), there&#39;s a lot of fixes mentioned since 3.10!","body":"The <a href=\"http://poi.apache.org/changes.html\" rel=\"nofollow noreferrer\">POI changelog is here</a>, there&#39;s a lot of fixes mentioned since 3.10!"},{"owner":{"account_id":873136,"reputation":31,"user_id":923541,"display_name":"6w3n"},"score":0,"creation_date":1433492978,"post_id":30374248,"comment_id":49385952,"body_markdown":"I tried POI 3.12. Not better.","body":"I tried POI 3.12. Not better."}],"answers":[{"tags":[],"owner":{"account_id":6361292,"reputation":668,"user_id":4936713,"display_name":"sudipta06"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1432724771,"creation_date":1432724771,"answer_id":30480683,"question_id":30374248,"body_markdown":"Even after using Apache POI 3.12, I was facing the same issue for auto-sizing. Also auto-size doesn&#39;t work in Unix/Linux.\r\nWhat I learnt from various forums is this:\r\n1.You can try is using the SXSSF API, usually works much faster. \r\n2. If not, then go for setColumnWidth method(I know its literally manual work for 20 columns)","title":"APACHE POI autoSizeColumn with useMergedCells too slow","body":"<p>Even after using Apache POI 3.12, I was facing the same issue for auto-sizing. Also auto-size doesn't work in Unix/Linux.\nWhat I learnt from various forums is this:\n1.You can try is using the SXSSF API, usually works much faster. \n2. If not, then go for setColumnWidth method(I know its literally manual work for 20 columns)</p>\n"},{"tags":[],"owner":{"account_id":1897577,"reputation":199,"user_id":1714178,"display_name":"Taian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1552491344,"creation_date":1552491344,"answer_id":55145733,"question_id":30374248,"body_markdown":"My solution was only use Autosize on the last Excel line, like this:\r\n\r\n    if (i &gt;= abaExcel.Itens.Count)\r\n        sheet.AutoSizeColumn(j);","title":"APACHE POI autoSizeColumn with useMergedCells too slow","body":"<p>My solution was only use Autosize on the last Excel line, like this:</p>\n\n<pre><code>if (i &gt;= abaExcel.Itens.Count)\n    sheet.AutoSizeColumn(j);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10385608,"reputation":30,"user_id":10926939,"display_name":"Andrew Samsonov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656955019,"creation_date":1656955019,"answer_id":72860145,"question_id":30374248,"body_markdown":"Because merged regions cannot overlap without producing a corrupt document, POI may be checking the list of merged regions on a sheet for potential intersections before adding a merged region. This gives O(N) behavior for adding one region instead of the expected O(1).\r\n\r\n 1. **addMergedRegion** - with  checking but slow\r\n\r\n 2. **addMergedRegionUnsafe** - without  checking but fast\r\n\r\nDocumentation: [read more about addMergedRegionUnsafe(...)][1]\r\n\r\n\r\n  [1]: https://poi-apache-org.translate.goog/apidocs/dev/org/apache/poi/xssf/streaming/SXSSFSheet.html?_x_tr_sl=en&amp;_x_tr_tl=ru&amp;_x_tr_hl=ru&amp;_x_tr_pto=wapp","title":"APACHE POI autoSizeColumn with useMergedCells too slow","body":"<p>Because merged regions cannot overlap without producing a corrupt document, POI may be checking the list of merged regions on a sheet for potential intersections before adding a merged region. This gives O(N) behavior for adding one region instead of the expected O(1).</p>\n<ol>\n<li><p><strong>addMergedRegion</strong> - with  checking but slow</p>\n</li>\n<li><p><strong>addMergedRegionUnsafe</strong> - without  checking but fast</p>\n</li>\n</ol>\n<p>Documentation: <a href=\"https://poi-apache-org.translate.goog/apidocs/dev/org/apache/poi/xssf/streaming/SXSSFSheet.html?_x_tr_sl=en&amp;_x_tr_tl=ru&amp;_x_tr_hl=ru&amp;_x_tr_pto=wapp\" rel=\"nofollow noreferrer\">read more about addMergedRegionUnsafe(...)</a></p>\n"}],"owner":{"account_id":873136,"reputation":31,"user_id":923541,"display_name":"6w3n"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2168,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1656955019,"creation_date":1432212495,"question_id":30374248,"body_markdown":"I try to apply autoSizeColumn on an Excel sheet. I&#39;m using POI 3.10.1.&lt;br&gt;\r\nI apply autoSizeColumn at the end but the problem is than the process is too slow/long anyway: \r\nOn the sheet I&#39;ve approximately 1000 lines and 20 columns... After 5 hours, I kill the process ...&lt;br&gt;\r\nI don&#39;t understand what is taking so long, 1000 lines and 20 columns doesn&#39;t appear so huge: Did I miss something? (nb: on a smaller file, it&#39;s working)&lt;br&gt;\r\nMy simplified code below:\r\n\r\n        Workbook vWorkbook = getWorkbook();\r\n\r\n        Sheet vSheet = vWorkbook.createSheet(&quot;sheet&quot;);\r\n        CreationHelper vHelper = vWorkbook.getCreationHelper();\r\n        Drawing drawing = vSheet.createDrawingPatriarch();\r\n\r\n        Set&lt;CellRangeAddress&gt; vRegions = new HashSet&lt;CellRangeAddress&gt;();\r\n\r\n        //Parcours des lignes du document\r\n        MatrixDocument vMatrixDocument = getMatrixDocument();\r\n        List&lt;MatrixRow&gt; vListMatrixRows = vMatrixDocument.getRows();\r\n        int maxColNb = 0;\r\n\r\n        //Parcours des lignes de la grille.\r\n        for (MatrixRow vMatrixRow : vListMatrixRows)\r\n        {\r\n            //(...)\r\n            //create cells \r\n            //(...)\r\n        }\r\n\r\n        initColSpan(vListMatrixRows, vRegions);\r\n\r\n        //Gestion des colSpan et des RowSpan\r\n        for (CellRangeAddress vRegion : vRegions)\r\n        {\r\n            vSheet.addMergedRegion(vRegion);\r\n        }\r\n\r\n        for (int i = 0; i &lt; maxColNb; ++i)\r\n        {\r\n            vSheet.autoSizeColumn(i, true);//Here the problem. spent more than 5 hour for 1000 lines and 20 columns\r\n        }\r\n\r\nI&#39;ve already read threads below : \r\n&lt;ul&gt;http://stackoverflow.com/questions/16943493/apache-poi-autosizecolumn-resizes-incorrectly&lt;/ul&gt;\r\n&lt;ul&gt;http://stackoverflow.com/questions/15740100/apache-poi-autosizecolumn-not-working-right&lt;/ul&gt;\r\n&lt;ul&gt;http://stackoverflow.com/questions/23366606/autosizecolumn-performance-effect-in-apache-poi&lt;/ul&gt;\r\n&lt;ul&gt;http://stackoverflow.com/questions/18984785/a-poi-related-code-block-running-dead-slow&lt;/ul&gt;\r\n&lt;ul&gt;http://stackoverflow.com/questions/28564045/apache-poi-autosizecolumn-behaving-weird&lt;/ul&gt;\r\n&lt;ul&gt;http://stackoverflow.com/questions/18456474/apache-poi-autosizecolumn-is-not-working&lt;/ul&gt;\r\nBut none solve my issue.&lt;br&gt;\r\nAny idea ?\r\nPS : I tried to upload an example image of the Excel file but I don&#39;t find how to upload it.","title":"APACHE POI autoSizeColumn with useMergedCells too slow","body":"<p>I try to apply autoSizeColumn on an Excel sheet. I'm using POI 3.10.1.<br>\nI apply autoSizeColumn at the end but the problem is than the process is too slow/long anyway: \nOn the sheet I've approximately 1000 lines and 20 columns... After 5 hours, I kill the process ...<br>\nI don't understand what is taking so long, 1000 lines and 20 columns doesn't appear so huge: Did I miss something? (nb: on a smaller file, it's working)<br>\nMy simplified code below:</p>\n\n<pre><code>    Workbook vWorkbook = getWorkbook();\n\n    Sheet vSheet = vWorkbook.createSheet(\"sheet\");\n    CreationHelper vHelper = vWorkbook.getCreationHelper();\n    Drawing drawing = vSheet.createDrawingPatriarch();\n\n    Set&lt;CellRangeAddress&gt; vRegions = new HashSet&lt;CellRangeAddress&gt;();\n\n    //Parcours des lignes du document\n    MatrixDocument vMatrixDocument = getMatrixDocument();\n    List&lt;MatrixRow&gt; vListMatrixRows = vMatrixDocument.getRows();\n    int maxColNb = 0;\n\n    //Parcours des lignes de la grille.\n    for (MatrixRow vMatrixRow : vListMatrixRows)\n    {\n        //(...)\n        //create cells \n        //(...)\n    }\n\n    initColSpan(vListMatrixRows, vRegions);\n\n    //Gestion des colSpan et des RowSpan\n    for (CellRangeAddress vRegion : vRegions)\n    {\n        vSheet.addMergedRegion(vRegion);\n    }\n\n    for (int i = 0; i &lt; maxColNb; ++i)\n    {\n        vSheet.autoSizeColumn(i, true);//Here the problem. spent more than 5 hour for 1000 lines and 20 columns\n    }\n</code></pre>\n\n<p>I've already read threads below : </p>\n\n<ul>http://stackoverflow.com/questions/16943493/apache-poi-autosizecolumn-resizes-incorrectly</ul>\n\n<ul>http://stackoverflow.com/questions/15740100/apache-poi-autosizecolumn-not-working-right</ul>\n\n<ul>http://stackoverflow.com/questions/23366606/autosizecolumn-performance-effect-in-apache-poi</ul>\n\n<ul>http://stackoverflow.com/questions/18984785/a-poi-related-code-block-running-dead-slow</ul>\n\n<ul>http://stackoverflow.com/questions/28564045/apache-poi-autosizecolumn-behaving-weird</ul>\n\n<ul>http://stackoverflow.com/questions/18456474/apache-poi-autosizecolumn-is-not-working</ul>\n\n<p>But none solve my issue.<br>\nAny idea ?\nPS : I tried to upload an example image of the Excel file but I don't find how to upload it.</p>\n"},{"tags":["java","functional-programming","java-stream","rx-java2","reactive"],"answers":[{"tags":[],"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656658141,"creation_date":1656658141,"answer_id":72825344,"question_id":72821462,"body_markdown":"Not in RxJava proper. \r\n\r\nNote though that `result = result.flatMap` may result in StackOverflow if you append too many operators.\r\n\r\nIn general, I&#39;d suggest bringing the functions to the data instead:\r\n\r\n```java\r\nSingle.defer(() -&gt; {\r\n    AtomicReference&lt;T&gt; ref = new AtomicReference&lt;&gt;(data);\r\n\r\n    return Flowable.fromArray(validators)\r\n        .concatMapSingle(func -&gt; {\r\n            return func.apply(ref.get())\r\n                   .doOnSuccess(ref::set);\r\n        })\r\n        .ignoreElements()\r\n        .andThen(Single.fromCallable(ref::get));\r\n});\r\n```","title":"chaining reactive functions rxjava","body":"<p>Not in RxJava proper.</p>\n<p>Note though that <code>result = result.flatMap</code> may result in StackOverflow if you append too many operators.</p>\n<p>In general, I'd suggest bringing the functions to the data instead:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Single.defer(() -&gt; {\n    AtomicReference&lt;T&gt; ref = new AtomicReference&lt;&gt;(data);\n\n    return Flowable.fromArray(validators)\n        .concatMapSingle(func -&gt; {\n            return func.apply(ref.get())\n                   .doOnSuccess(ref::set);\n        })\n        .ignoreElements()\n        .andThen(Single.fromCallable(ref::get));\n});\n</code></pre>\n"}],"owner":{"account_id":11652494,"reputation":182,"user_id":10508681,"display_name":"chavalife17"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656954801,"creation_date":1656619672,"question_id":72821462,"body_markdown":"I have this interface that then I create a List of implementation in order to execute sequentially, but this implementations are variable because in future releases we can add or delete several validations.\r\n\r\nThis is my interface:\r\n```\r\nimport java.util.function.Function;\r\n\r\nimport io.reactivex.Single;\r\n\r\npublic interface Validator&lt;T&gt; {\r\n\r\n  Single&lt;T&gt; validate(T data);\r\n\r\n  default Function&lt;T,Single&lt;T&gt;&gt; reactiveFunction() {\r\n    return (a) -&gt; this.validate(a) ;\r\n  }\r\n\r\n  default Single&lt;T&gt; chainFunctions(T data, Function&lt;T,Single&lt;T&gt;&gt;... validators) {\r\n    if (validators.length == 1) {\r\n      return validators[0].apply(data);\r\n    }\r\n    else {\r\n      Single&lt;T&gt; result = Single.just(data);\r\n      for(Function&lt;T,Single&lt;T&gt;&gt; validator: validators) {\r\n        result = result.flatMap(x -&gt; validator.apply(x));\r\n      }\r\n      return result;\r\n    }\r\n  }\r\n  \r\n}\r\n```\r\n\r\nCan I do ```chainFunctions``` more reactive and functional like this [answer](https://stackoverflow.com/a/44521687/10508681)?\r\n\r\n```\r\n@SafeVarargs\r\nprivate static &lt;T&gt; Function&lt;T, T&gt; combineF(Function&lt;T, T&gt;... funcs) {\r\n    return Arrays.stream(funcs).reduce(Function.identity(), Function::andThen);\r\n}\r\n```\r\n[Edit with suggestions]\r\n----------\r\nI changed my interface like this:\r\n\r\n```\r\nimport java.util.function.Function;\r\n\r\nimport io.reactivex.Single;\r\n\r\npublic interface Validator&lt;T&gt; {\r\n\r\n  Single&lt;T&gt; validate(final T data);\r\n\r\n  default Function&lt;Single&lt;T&gt;,Single&lt;T&gt;&gt; reactiveFunction() {\r\n    return x -&gt; x.flatMap(this::stepValidator) ;\r\n  }\r\n\r\n  default Single&lt;T&gt; chainFunctions(final T data, Function&lt;Single&lt;T&gt;,Single&lt;T&gt;&gt;... validators) {\r\n    return Flowable.fromArray(validators)\r\n                   .reduce((s1,s2) -&gt; s1.andThen(s2))\r\n                   .switchIfEmpty(Single.fromCallable(() -&gt; a -&gt; a))\r\n                   .flatMap(f -&gt; f.apply(Single.just(data));\r\n\r\n  }\r\n  \r\n}\r\n\r\n```\r\n","title":"chaining reactive functions rxjava","body":"<p>I have this interface that then I create a List of implementation in order to execute sequentially, but this implementations are variable because in future releases we can add or delete several validations.</p>\n<p>This is my interface:</p>\n<pre><code>import java.util.function.Function;\n\nimport io.reactivex.Single;\n\npublic interface Validator&lt;T&gt; {\n\n  Single&lt;T&gt; validate(T data);\n\n  default Function&lt;T,Single&lt;T&gt;&gt; reactiveFunction() {\n    return (a) -&gt; this.validate(a) ;\n  }\n\n  default Single&lt;T&gt; chainFunctions(T data, Function&lt;T,Single&lt;T&gt;&gt;... validators) {\n    if (validators.length == 1) {\n      return validators[0].apply(data);\n    }\n    else {\n      Single&lt;T&gt; result = Single.just(data);\n      for(Function&lt;T,Single&lt;T&gt;&gt; validator: validators) {\n        result = result.flatMap(x -&gt; validator.apply(x));\n      }\n      return result;\n    }\n  }\n  \n}\n</code></pre>\n<p>Can I do <code>chainFunctions</code> more reactive and functional like this <a href=\"https://stackoverflow.com/a/44521687/10508681\">answer</a>?</p>\n<pre><code>@SafeVarargs\nprivate static &lt;T&gt; Function&lt;T, T&gt; combineF(Function&lt;T, T&gt;... funcs) {\n    return Arrays.stream(funcs).reduce(Function.identity(), Function::andThen);\n}\n</code></pre>\n<h2>[Edit with suggestions]</h2>\n<p>I changed my interface like this:</p>\n<pre><code>import java.util.function.Function;\n\nimport io.reactivex.Single;\n\npublic interface Validator&lt;T&gt; {\n\n  Single&lt;T&gt; validate(final T data);\n\n  default Function&lt;Single&lt;T&gt;,Single&lt;T&gt;&gt; reactiveFunction() {\n    return x -&gt; x.flatMap(this::stepValidator) ;\n  }\n\n  default Single&lt;T&gt; chainFunctions(final T data, Function&lt;Single&lt;T&gt;,Single&lt;T&gt;&gt;... validators) {\n    return Flowable.fromArray(validators)\n                   .reduce((s1,s2) -&gt; s1.andThen(s2))\n                   .switchIfEmpty(Single.fromCallable(() -&gt; a -&gt; a))\n                   .flatMap(f -&gt; f.apply(Single.just(data));\n\n  }\n  \n}\n\n</code></pre>\n"},{"tags":["java","kotlin"],"answers":[{"tags":[],"owner":{"account_id":10873224,"reputation":23,"user_id":7994433,"display_name":"Ragin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656944237,"creation_date":1656944237,"answer_id":72858177,"question_id":72856068,"body_markdown":"In gradle you can add \r\n\r\n```groovy\r\ndependencies {\r\n  implementation &quot;org.jetbrains.kotlin:kotlin-stdlib-jdk8:$kotlin_version&quot;\r\n}\r\n```\r\n\r\nThe generated pom.xml should contain this dependency.\r\n\r\nSee:\r\n- https://mvnrepository.com/artifact/io.github.ragin-lundf/bdd-cucumber-gherkin-lib/1.48.0\r\n  - -&gt; under runtime dependencies\r\n- https://github.com/Ragin-LundF/bbd-cucumber-gherkin-lib/blob/main/build.gradle\r\n  - -&gt; as an example how to generate the pom for publishing to maven central in gradle\r\n\r\n","title":"How to let kotlin library support java project friendly","body":"<p>In gradle you can add</p>\n<pre><code>dependencies {\n  implementation &quot;org.jetbrains.kotlin:kotlin-stdlib-jdk8:$kotlin_version&quot;\n}\n</code></pre>\n<p>The generated pom.xml should contain this dependency.</p>\n<p>See:</p>\n<ul>\n<li><a href=\"https://mvnrepository.com/artifact/io.github.ragin-lundf/bdd-cucumber-gherkin-lib/1.48.0\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/io.github.ragin-lundf/bdd-cucumber-gherkin-lib/1.48.0</a>\n<ul>\n<li>-&gt; under runtime dependencies</li>\n</ul>\n</li>\n<li><a href=\"https://github.com/Ragin-LundF/bbd-cucumber-gherkin-lib/blob/main/build.gradle\" rel=\"nofollow noreferrer\">https://github.com/Ragin-LundF/bbd-cucumber-gherkin-lib/blob/main/build.gradle</a>\n<ul>\n<li>-&gt; as an example how to generate the pom for publishing to maven central in gradle</li>\n</ul>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":7225879,"reputation":227,"user_id":5514444,"display_name":"Tao Chen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656954678,"creation_date":1656954678,"answer_id":72860100,"question_id":72856068,"body_markdown":"I find the reason.\r\n\r\nimplemetation(kotlin(&quot;reflect&quot;))\r\n\r\nis not OK,\r\n\r\napi(kotlin(&quot;reflect&quot;))\r\n\r\nmust be used.\r\n\r\n","title":"How to let kotlin library support java project friendly","body":"<p>I find the reason.</p>\n<p>implemetation(kotlin(&quot;reflect&quot;))</p>\n<p>is not OK,</p>\n<p>api(kotlin(&quot;reflect&quot;))</p>\n<p>must be used.</p>\n"}],"owner":{"account_id":7225879,"reputation":227,"user_id":5514444,"display_name":"Tao Chen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":174,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1656954678,"creation_date":1656934575,"question_id":72856068,"body_markdown":"I create an kotlin library and published into maven central.\r\n\r\nHowever, if this library is used by pure java project, user must add the dependency “kotlin-stdlib” explicitly.\r\n\r\nIt looks like that the “koitlin-stdlib” is automatically excluded from grade/maven dependency tree because it is treated as provided dependency.\r\n\r\nHow to resolve this problem?","title":"How to let kotlin library support java project friendly","body":"<p>I create an kotlin library and published into maven central.</p>\n<p>However, if this library is used by pure java project, user must add the dependency “kotlin-stdlib” explicitly.</p>\n<p>It looks like that the “koitlin-stdlib” is automatically excluded from grade/maven dependency tree because it is treated as provided dependency.</p>\n<p>How to resolve this problem?</p>\n"},{"tags":["java","gradle","kotlin"],"answers":[{"tags":[],"owner":{"account_id":4519550,"reputation":5971,"user_id":3673259,"accept_rate":94,"display_name":"Joshua"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1527154924,"creation_date":1527154924,"answer_id":50506023,"question_id":50502666,"body_markdown":"See [Kotlin docuementation][1].\r\n\r\n&gt; On the Java platform, the runtime component required for using the reflection features is distributed as a separate JAR file (kotlin-reflect.jar). This is done to reduce the required size of the runtime library for applications that do not use reflection features. **If you do use reflection, please make sure that the .jar file is added to the classpath of your project.**\r\n\r\nOr you can choose to add it to your dependencies. Read more [here][2].\r\n\r\n    compile &quot;org.jetbrains.kotlin:kotlin-reflect&quot;\r\n    testCompile &quot;org.jetbrains.kotlin:kotlin-test&quot;\r\n    testCompile &quot;org.jetbrains.kotlin:kotlin-test-junit&quot;\r\n\r\n\r\n  [1]: https://kotlinlang.org/docs/reference/reflection.html\r\n  [2]: https://kotlinlang.org/docs/reference/using-gradle.html#configuring-dependencies","title":"Cannot find kotlin-reflection.jar when calling Kotlin from a Java program","body":"<p>See <a href=\"https://kotlinlang.org/docs/reference/reflection.html\" rel=\"nofollow noreferrer\">Kotlin docuementation</a>.</p>\n\n<blockquote>\n  <p>On the Java platform, the runtime component required for using the reflection features is distributed as a separate JAR file (kotlin-reflect.jar). This is done to reduce the required size of the runtime library for applications that do not use reflection features. <strong>If you do use reflection, please make sure that the .jar file is added to the classpath of your project.</strong></p>\n</blockquote>\n\n<p>Or you can choose to add it to your dependencies. Read more <a href=\"https://kotlinlang.org/docs/reference/using-gradle.html#configuring-dependencies\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<pre><code>compile \"org.jetbrains.kotlin:kotlin-reflect\"\ntestCompile \"org.jetbrains.kotlin:kotlin-test\"\ntestCompile \"org.jetbrains.kotlin:kotlin-test-junit\"\n</code></pre>\n"}],"owner":{"account_id":174588,"reputation":3274,"user_id":404051,"accept_rate":92,"display_name":"Burleigh Bear"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3266,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1656954433,"creation_date":1527144269,"question_id":50502666,"body_markdown":"I am trying to use a Typescript generation library called ts-generator. It lives at https://github.com/ntrrgc/ts-generator. It looks pretty cool.\r\n\r\nMy problem is that when try to use the library, I get a \r\n\r\n    kotlin.jvm.KotlinReflectionNotSupportedError\r\n\r\nThe error message also says that I&#39;m likely missing kotlin-reflect.jar\r\n\r\nThe jar, however, does appear to be on my classpath. I&#39;ve made a SSCE that I think demonstrates my problem, as follows.\r\n\r\nMy gradle file is \r\n\r\n    jar {\r\n        baseName = &#39;eiep_codegen&#39;\r\n        version = &#39;1&#39; \r\n    }\r\n    repositories {\r\n         maven { url &#39;https://jitpack.io&#39; }\r\n    }\r\n    dependencies {\r\n        compile &#39;com.github.ntrrgc:ts-generator:1.1.0&#39; \r\n    }\r\n    task execute(type:JavaExec) {\r\n       main = mainClass\r\n       classpath = sourceSets.main.runtimeClasspath\r\n    }\r\n\r\nand my code I want to run is\r\n\r\n    package testing;\r\n\r\n    import java.net.URL;\r\n    import java.net.URLClassLoader;\r\n    import java.util.ArrayList;\r\n    import java.util.HashMap;\r\n    import java.util.HashSet;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n\r\n    import kotlin.jvm.internal.ClassReference;\r\n    import kotlin.reflect.KClass;\r\n    import me.ntrrgc.tsGenerator.TypeScriptGenerator;\r\n    import me.ntrrgc.tsGenerator.VoidType;\r\n\r\n    public class GenerateTSClasses \r\n    {\r\n        public static void main(String []args)\r\n        {\r\n            ClassLoader cl = ClassLoader.getSystemClassLoader();\r\n\r\n            URL[] urls = ((URLClassLoader)cl).getURLs();\r\n\r\n            for(URL url: urls){\r\n                System.out.println(url.getFile());\r\n            }\r\n        \r\n            List&lt;KClass&lt;?&gt;&gt; roots = new ArrayList&lt;&gt;();\r\n            Map&lt;KClass&lt;?&gt;, String&gt; mappings = new HashMap&lt;&gt;();\r\n        \r\n            roots.add(new ClassReference(GenerateMe.class));\r\n        \r\n            System.out.println\r\n            (\r\n                new TypeScriptGenerator\r\n                (\r\n                        roots,\r\n                        mappings,\r\n                        new ArrayList&lt;&gt;(),\r\n                        new HashSet&lt;&gt;(),\r\n                        &quot;Hey There&quot;, \r\n                        VoidType.NULL\r\n                ).getDefinitionsText()\r\n            );\r\n        }\r\n    }\r\n\r\n\r\nThe output when I run the task is as follows. The first bit is a dump of the classpath, which has kotlin-reflect-1.2.10.jar in the list. The second part is the exception.\r\n\r\n    /Users/joe/git/4.x/ei-sources/eiep_codegen/build/classes/java/main/\r\n    /Users/joe/git/4.x/ei-sources/eiep_codegen/build/resources/main\r\n    /Users/joe/.gradle/caches/modules-2/files-2.1/com.github.ntrrgc/ts-generator/1.1.0/3c9db2d2350dae022e3d4c8e77589a3e7f50db2b/ts-generator-1.1.0.jar\r\n    /Users/joe/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-reflect/1.2.10/19bc012f8c4cd6b705bd6512263777cc19bcf259/kotlin-reflect-1.2.10.jar\r\n    /Users/joe/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-stdlib/1.2.10/b9bf650516989595a5390e5a54181e16347208ac/kotlin-stdlib-1.2.10.jar\r\n    /Users/joe/.gradle/caches/modules-2/files-2.1/org.jetbrains/annotations/13.0/919f0dfe192fb4e063e7dacadee7f8bb9a2672a9/annotations-13.0.jar\r\n    Exception in thread &quot;main&quot; kotlin.jvm.KotlinReflectionNotSupportedError: Kotlin reflection implementation is not found at runtime. Make sure you have kotlin-reflect.jar in the classpath\r\n            at kotlin.jvm.internal.ClassReference.error(ClassReference.kt:86)\r\n    ...\r\n\r\nMy question is - does anyone know what could be causing this problem? (I&#39;m assuming that it can&#39;t be the version number after the jar file, but I&#39;ll verify that, too).\r\n\r\nEDIT - I also coped the jar files across manually and ran the program from the command line using java --classpath. The names of the jar files (as you&#39;d imagine) make no difference to the outcome.\r\n","title":"Cannot find kotlin-reflection.jar when calling Kotlin from a Java program","body":"<p>I am trying to use a Typescript generation library called ts-generator. It lives at <a href=\"https://github.com/ntrrgc/ts-generator\" rel=\"nofollow noreferrer\">https://github.com/ntrrgc/ts-generator</a>. It looks pretty cool.</p>\n\n<p>My problem is that when try to use the library, I get a </p>\n\n<pre><code>kotlin.jvm.KotlinReflectionNotSupportedError\n</code></pre>\n\n<p>The error message also says that I'm likely missing kotlin-reflect.jar</p>\n\n<p>The jar, however, does appear to be on my classpath. I've made a SSCE that I think demonstrates my problem, as follows.</p>\n\n<p>My gradle file is </p>\n\n<pre><code>jar {\n    baseName = 'eiep_codegen'\n    version = '1' \n}\nrepositories {\n     maven { url 'https://jitpack.io' }\n}\ndependencies {\n    compile 'com.github.ntrrgc:ts-generator:1.1.0' \n}\ntask execute(type:JavaExec) {\n   main = mainClass\n   classpath = sourceSets.main.runtimeClasspath\n}\n</code></pre>\n\n<p>and my code I want to run is</p>\n\n<pre><code>package testing;\n\nimport java.net.URL;\nimport java.net.URLClassLoader;\nimport java.util.ArrayList;\nimport java.util.HashMap;\nimport java.util.HashSet;\nimport java.util.List;\nimport java.util.Map;\n\nimport kotlin.jvm.internal.ClassReference;\nimport kotlin.reflect.KClass;\nimport me.ntrrgc.tsGenerator.TypeScriptGenerator;\nimport me.ntrrgc.tsGenerator.VoidType;\n\npublic class GenerateTSClasses \n{\n    public static void main(String []args)\n    {\n        ClassLoader cl = ClassLoader.getSystemClassLoader();\n\n        URL[] urls = ((URLClassLoader)cl).getURLs();\n\n        for(URL url: urls){\n            System.out.println(url.getFile());\n        }\n\n        List&lt;KClass&lt;?&gt;&gt; roots = new ArrayList&lt;&gt;();\n        Map&lt;KClass&lt;?&gt;, String&gt; mappings = new HashMap&lt;&gt;();\n\n        roots.add(new ClassReference(GenerateMe.class));\n\n        System.out.println\n        (\n            new TypeScriptGenerator\n            (\n                    roots,\n                    mappings,\n                    new ArrayList&lt;&gt;(),\n                    new HashSet&lt;&gt;(),\n                    \"Hey There\", \n                    VoidType.NULL\n            ).getDefinitionsText()\n        );\n    }\n}\n</code></pre>\n\n<p>The output when I run the task is as follows. The first bit is a dump of the classpath, which has kotlin-reflect-1.2.10.jar in the list. The second part is the exception.</p>\n\n<pre><code>/Users/joe/git/4.x/ei-sources/eiep_codegen/build/classes/java/main/\n/Users/joe/git/4.x/ei-sources/eiep_codegen/build/resources/main\n/Users/joe/.gradle/caches/modules-2/files-2.1/com.github.ntrrgc/ts-generator/1.1.0/3c9db2d2350dae022e3d4c8e77589a3e7f50db2b/ts-generator-1.1.0.jar\n/Users/joe/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-reflect/1.2.10/19bc012f8c4cd6b705bd6512263777cc19bcf259/kotlin-reflect-1.2.10.jar\n/Users/joe/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-stdlib/1.2.10/b9bf650516989595a5390e5a54181e16347208ac/kotlin-stdlib-1.2.10.jar\n/Users/joe/.gradle/caches/modules-2/files-2.1/org.jetbrains/annotations/13.0/919f0dfe192fb4e063e7dacadee7f8bb9a2672a9/annotations-13.0.jar\nException in thread \"main\" kotlin.jvm.KotlinReflectionNotSupportedError: Kotlin reflection implementation is not found at runtime. Make sure you have kotlin-reflect.jar in the classpath\n        at kotlin.jvm.internal.ClassReference.error(ClassReference.kt:86)\n...\n</code></pre>\n\n<p>My question is - does anyone know what could be causing this problem? (I'm assuming that it can't be the version number after the jar file, but I'll verify that, too).</p>\n\n<p>EDIT - I also coped the jar files across manually and ran the program from the command line using java --classpath. The names of the jar files (as you'd imagine) make no difference to the outcome.</p>\n"},{"tags":["java","multithreading","async-await","signals"],"answers":[{"tags":[],"owner":{"account_id":4012793,"reputation":1627,"user_id":3305737,"display_name":"Jonasz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656954418,"creation_date":1656942775,"answer_id":72857863,"question_id":72853247,"body_markdown":"The code does not execute any further because it is in a [deadlock][1] state.\r\n\r\n 1. Student executes the `ask` method on the Professor object. The printing code is executed and the lock condition `forStudent` is starting to block (`await`) the thread until a signal.\r\n 2. Assistant executes the `ask` method on the Professor object. The printing code is executed an the lock condition `foJoGyo` is starting to block (`await`) the thread until an await signal.\r\n\r\nBoth threads are now waiting for a signal from the other one. None can reach the signal code, so the threads are locked forever (deadlock) - in this case until the sleep time before returning from the `main` method is reached.\r\n\r\nThe signal unlocking the other thread should be emitted before starting the waiting for the signal from the other thread, otherwise both threads will wait forever.\r\n\r\n```java\r\nif (name.contains(&quot;assistant&quot;)) {\r\n    forStudent.signal();\r\n    try {\r\n        forJoGyo.await();\r\n    } catch (InterruptedException e) {\r\n        e.printStackTrace();\r\n    }\r\n} else if (name.contains(&quot;student&quot;)) {\r\n    forJoGyo.signal();\r\n    try {\r\n        forStudent.await();\r\n    } catch (InterruptedException e) {\r\n        e.printStackTrace();\r\n    }\r\n}\r\n```\r\n\r\nResult:\r\n```\r\nstudent kim: have a question. professor!\r\nprofessor: explaining..0 student kim listening..\r\nprofessor: explaining..1 student kim listening..\r\nprofessor: explaining..2 student kim listening..\r\nprofessor: explaining..3 student kim listening..\r\nprofessor: explaining..4 student kim listening..\r\nstudent kim: thanks professor\r\nassistant choi: have a question. professor!\r\nprofessor: explaining..0 assistant choi listening..\r\nprofessor: explaining..1 assistant choi listening..\r\nprofessor: explaining..2 assistant choi listening..\r\nprofessor: explaining..3 assistant choi listening..\r\nprofessor: explaining..4 assistant choi listening..\r\nassistant choi: thanks professor\r\nstudent kim: have a question. professor!\r\nprofessor: explaining..0 student kim listening..\r\nprofessor: explaining..1 student kim listening..\r\nprofessor: explaining..2 student kim listening..\r\nprofessor: explaining..3 student kim listening..\r\nprofessor: explaining..4 student kim listening..\r\nstudent kim: thanks professor\r\nassistant choi: have a question. professor!\r\nprofessor: explaining..0 assistant choi listening..\r\nprofessor: explaining..1 assistant choi listening..\r\nprofessor: explaining..2 assistant choi listening..\r\nprofessor: explaining..3 assistant choi listening..\r\nprofessor: explaining..4 assistant choi listening..\r\nassistant choi: thanks professor\r\nstudent kim: have a question. professor!\r\nprofessor: explaining..0 student kim listening..\r\nprofessor: explaining..1 student kim listening..\r\nprofessor: explaining..2 student kim listening..\r\nprofessor: explaining..3 student kim listening..\r\nprofessor: explaining..4 student kim listening..\r\nstudent kim: thanks professor\r\nassistant choi: have a question. professor!\r\nprofessor: explaining..0 assistant choi listening..\r\nprofessor: explaining..1 assistant choi listening..\r\nprofessor: explaining..2 assistant choi listening..\r\nprofessor: explaining..3 assistant choi listening..\r\nprofessor: explaining..4 assistant choi listening..\r\nassistant choi: thanks professor\r\nstudent kim: have a question. professor!\r\nprofessor: explaining..0 student kim listening..\r\nprofessor: explaining..1 student kim listening..\r\nprofessor: explaining..2 student kim listening..\r\nprofessor: explaining..3 student kim listening..\r\nprofessor: explaining..4 student kim listening..\r\nstudent kim: thanks professor\r\n```\r\n\r\n**Important sidenote: `unlock` call should be placed inside a `finally` block with `try` block containing the code after `lock` to avoid a situation when the lock is never unlocked in case of an exception or an early return**. \r\n\r\n  [1]: https://en.wikipedia.org/wiki/Deadlock","title":"why ReentrantLock signal() isn&#39;t working?","body":"<p>The code does not execute any further because it is in a <a href=\"https://en.wikipedia.org/wiki/Deadlock\" rel=\"nofollow noreferrer\">deadlock</a> state.</p>\n<ol>\n<li>Student executes the <code>ask</code> method on the Professor object. The printing code is executed and the lock condition <code>forStudent</code> is starting to block (<code>await</code>) the thread until a signal.</li>\n<li>Assistant executes the <code>ask</code> method on the Professor object. The printing code is executed an the lock condition <code>foJoGyo</code> is starting to block (<code>await</code>) the thread until an await signal.</li>\n</ol>\n<p>Both threads are now waiting for a signal from the other one. None can reach the signal code, so the threads are locked forever (deadlock) - in this case until the sleep time before returning from the <code>main</code> method is reached.</p>\n<p>The signal unlocking the other thread should be emitted before starting the waiting for the signal from the other thread, otherwise both threads will wait forever.</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (name.contains(&quot;assistant&quot;)) {\n    forStudent.signal();\n    try {\n        forJoGyo.await();\n    } catch (InterruptedException e) {\n        e.printStackTrace();\n    }\n} else if (name.contains(&quot;student&quot;)) {\n    forJoGyo.signal();\n    try {\n        forStudent.await();\n    } catch (InterruptedException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p>Result:</p>\n<pre><code>student kim: have a question. professor!\nprofessor: explaining..0 student kim listening..\nprofessor: explaining..1 student kim listening..\nprofessor: explaining..2 student kim listening..\nprofessor: explaining..3 student kim listening..\nprofessor: explaining..4 student kim listening..\nstudent kim: thanks professor\nassistant choi: have a question. professor!\nprofessor: explaining..0 assistant choi listening..\nprofessor: explaining..1 assistant choi listening..\nprofessor: explaining..2 assistant choi listening..\nprofessor: explaining..3 assistant choi listening..\nprofessor: explaining..4 assistant choi listening..\nassistant choi: thanks professor\nstudent kim: have a question. professor!\nprofessor: explaining..0 student kim listening..\nprofessor: explaining..1 student kim listening..\nprofessor: explaining..2 student kim listening..\nprofessor: explaining..3 student kim listening..\nprofessor: explaining..4 student kim listening..\nstudent kim: thanks professor\nassistant choi: have a question. professor!\nprofessor: explaining..0 assistant choi listening..\nprofessor: explaining..1 assistant choi listening..\nprofessor: explaining..2 assistant choi listening..\nprofessor: explaining..3 assistant choi listening..\nprofessor: explaining..4 assistant choi listening..\nassistant choi: thanks professor\nstudent kim: have a question. professor!\nprofessor: explaining..0 student kim listening..\nprofessor: explaining..1 student kim listening..\nprofessor: explaining..2 student kim listening..\nprofessor: explaining..3 student kim listening..\nprofessor: explaining..4 student kim listening..\nstudent kim: thanks professor\nassistant choi: have a question. professor!\nprofessor: explaining..0 assistant choi listening..\nprofessor: explaining..1 assistant choi listening..\nprofessor: explaining..2 assistant choi listening..\nprofessor: explaining..3 assistant choi listening..\nprofessor: explaining..4 assistant choi listening..\nassistant choi: thanks professor\nstudent kim: have a question. professor!\nprofessor: explaining..0 student kim listening..\nprofessor: explaining..1 student kim listening..\nprofessor: explaining..2 student kim listening..\nprofessor: explaining..3 student kim listening..\nprofessor: explaining..4 student kim listening..\nstudent kim: thanks professor\n</code></pre>\n<p><strong>Important sidenote: <code>unlock</code> call should be placed inside a <code>finally</code> block with <code>try</code> block containing the code after <code>lock</code> to avoid a situation when the lock is never unlocked in case of an exception or an early return</strong>.</p>\n"}],"owner":{"account_id":19598570,"reputation":25,"user_id":14343971,"display_name":"codingcodingman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656954418,"creation_date":1656920371,"question_id":72853247,"body_markdown":"Although i waked the Thread by signal(), Thread still in waiting pool(i think) and it  works only once. \r\n    \r\n    while(true){\r\n    professor.ask();\r\n    }\r\n\r\nbecause of the code  i thought it shoud repeat ask again and again\r\n\r\n\r\ni have two Threads &quot;Student&quot;,&quot;Jogyo&quot;\r\nif Student asks then, Jogyo get signal().vice versa.\r\n\r\nbelow is my code\r\n\r\n    public class LockEx1 {\r\n    public static void main(String[] args) {\r\n        Professor professor = new Professor();\r\n\r\n        new Thread(new Student(professor), &quot;student kim&quot;).start();\r\n        new Thread(new JoGyo(professor), &quot;assistant choi&quot;).start();\r\n\r\n        try{Thread.sleep(20000);}catch (InterruptedException e){}\r\n        System.exit(0);\r\n    }\r\n    }\r\n\r\n    class Student implements Runnable {\r\n    Professor professor; // shared resource\r\n\r\n    Student(Professor professor) {\r\n        this.professor = professor;\r\n    }\r\n\r\n    @Override\r\n    public void run() {\r\n        while (true) {\r\n            professor.ask();\r\n        }\r\n    }\r\n    }\r\n\r\n    class JoGyo implements Runnable {\r\n    Professor professor; // shared resource\r\n\r\n    JoGyo(Professor professor) {\r\n        this.professor = professor;\r\n    }\r\n\r\n    @Override\r\n    public void run() {\r\n        while (true) {\r\n            try {Thread.sleep(100);} catch (InterruptedException e) {}//catch\r\n            professor.ask();\r\n        }\r\n    }\r\n    }\r\n\r\n\r\n    class Professor {\r\n    private final ReentrantLock lock = new ReentrantLock();\r\n\r\n    Condition forJoGyo = lock.newCondition();\r\n    Condition forStudent = lock.newCondition();\r\n\r\n    // 교수님께 질문하기\r\n    public void ask() {\r\n        lock.lock(); // sync -- start\r\n        String name = Thread.currentThread().getName();\r\n        System.out.println(name + &quot;: have a question. professor!&quot;);\r\n        for (int i = 0; i &lt; 5; i++) {\r\n            try {Thread.sleep(500);} catch (InterruptedException e) {}\r\n            System.out.println(&quot;professor: &quot; + &quot;explaining..&quot; + i + &quot; &quot; + name + &quot; listening..&quot; );\r\n        }//for\r\n        System.out.println(name + &quot;: thanks professor&quot;);\r\n        if (name.contains(&quot;assistant&quot;)) {\r\n            try{forJoGyo.await();}catch (InterruptedException e){} // 조교 재우기\r\n\r\n            forStudent.signal(); // 학생 깨우기\r\n        }\r\n        else if (name.contains(&quot;student&quot;)) {\r\n            try{forStudent.await();}catch (InterruptedException e){} // 학생 재우기\r\n\r\n            forJoGyo.signal(); // 조교 깨우기\r\n        }\r\n        lock.unlock(); // sync -- end\r\n    }//ask\r\n    }\r\n\r\n[![enter image description here][1]][1]\r\n\r\nas you see..it works(ask to professor each only onces at all) only once. is this because signal() is not working? why it doesn&#39;t repeat asking to  professor..\r\n    \r\n\r\n    \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bclD6.png","title":"why ReentrantLock signal() isn&#39;t working?","body":"<p>Although i waked the Thread by signal(), Thread still in waiting pool(i think) and it  works only once.</p>\n<pre><code>while(true){\nprofessor.ask();\n}\n</code></pre>\n<p>because of the code  i thought it shoud repeat ask again and again</p>\n<p>i have two Threads &quot;Student&quot;,&quot;Jogyo&quot;\nif Student asks then, Jogyo get signal().vice versa.</p>\n<p>below is my code</p>\n<pre><code>public class LockEx1 {\npublic static void main(String[] args) {\n    Professor professor = new Professor();\n\n    new Thread(new Student(professor), &quot;student kim&quot;).start();\n    new Thread(new JoGyo(professor), &quot;assistant choi&quot;).start();\n\n    try{Thread.sleep(20000);}catch (InterruptedException e){}\n    System.exit(0);\n}\n}\n\nclass Student implements Runnable {\nProfessor professor; // shared resource\n\nStudent(Professor professor) {\n    this.professor = professor;\n}\n\n@Override\npublic void run() {\n    while (true) {\n        professor.ask();\n    }\n}\n}\n\nclass JoGyo implements Runnable {\nProfessor professor; // shared resource\n\nJoGyo(Professor professor) {\n    this.professor = professor;\n}\n\n@Override\npublic void run() {\n    while (true) {\n        try {Thread.sleep(100);} catch (InterruptedException e) {}//catch\n        professor.ask();\n    }\n}\n}\n\n\nclass Professor {\nprivate final ReentrantLock lock = new ReentrantLock();\n\nCondition forJoGyo = lock.newCondition();\nCondition forStudent = lock.newCondition();\n\n// 교수님께 질문하기\npublic void ask() {\n    lock.lock(); // sync -- start\n    String name = Thread.currentThread().getName();\n    System.out.println(name + &quot;: have a question. professor!&quot;);\n    for (int i = 0; i &lt; 5; i++) {\n        try {Thread.sleep(500);} catch (InterruptedException e) {}\n        System.out.println(&quot;professor: &quot; + &quot;explaining..&quot; + i + &quot; &quot; + name + &quot; listening..&quot; );\n    }//for\n    System.out.println(name + &quot;: thanks professor&quot;);\n    if (name.contains(&quot;assistant&quot;)) {\n        try{forJoGyo.await();}catch (InterruptedException e){} // 조교 재우기\n\n        forStudent.signal(); // 학생 깨우기\n    }\n    else if (name.contains(&quot;student&quot;)) {\n        try{forStudent.await();}catch (InterruptedException e){} // 학생 재우기\n\n        forJoGyo.signal(); // 조교 깨우기\n    }\n    lock.unlock(); // sync -- end\n}//ask\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/bclD6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bclD6.png\" alt=\"enter image description here\" /></a></p>\n<p>as you see..it works(ask to professor each only onces at all) only once. is this because signal() is not working? why it doesn't repeat asking to  professor..</p>\n"},{"tags":["java","string","algorithm","hashmap","treeview"],"comments":[{"owner":{"account_id":1507181,"reputation":13906,"user_id":1410303,"accept_rate":40,"display_name":"SomeDude"},"score":1,"creation_date":1654708858,"post_id":72546002,"comment_id":128158330,"body_markdown":"Can you show your initial attempt?","body":"Can you show your initial attempt?"},{"owner":{"account_id":18297878,"reputation":51,"user_id":13323411,"display_name":"ZeeCos"},"score":0,"creation_date":1654765068,"post_id":72546002,"comment_id":128171594,"body_markdown":"I don&#39;t find a correct algo to initiate something.","body":"I don&#39;t find a correct algo to initiate something."}],"answers":[{"tags":[],"owner":{"account_id":5569841,"reputation":3750,"user_id":4415625,"display_name":"dani-vta"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1655411310,"creation_date":1654807483,"answer_id":72566455,"question_id":72546002,"body_markdown":"&lt;h4&gt;Edit&lt;/h4&gt;\r\n\r\nAt this point to answer your edited question, I had to use a `List` instead of a `Map` to store the input since multiple values share the same key and a `Map&lt;String, List&lt;String&gt;&gt;` wouldn&#39;t maintain the insertion order.  In fact, the values from 3 to 6 would be alternated with the values from 11 to 14. \r\n\r\nBesides, since the same chain of tags can appear several times (ex: TAG1.TAG2.TAG3), I had to implement two custom classes: `MyTag` and `Record`. \r\n\r\nThe first class represents a custom tag made of two fields: `tag` and `tagNumbered`. The first field holds the tag chain that must be shown to the user, while the second is used as the actual identifier to group by in the stream operation. `tagNumbered` is basically a copy of `tag` where at the end of each nested tag is added its number of appearances.\r\n\r\nInstead, the class `Record` is used to represent a value accompanied by its tag chain and numbered tag chain.\r\n\r\nSo, the following XML is represented as follows by the respective classes:\r\n\r\n```\r\n&lt;x&gt;\r\n    &lt;y&gt;\r\n        &lt;z&gt;value1&lt;/z&gt;\r\n    &lt;/y&gt;\r\n    &lt;y&gt;\r\n        &lt;z&gt;value2&lt;/z&gt;\r\n    &lt;/y&gt;\r\n&lt;/x&gt;\r\n```\r\n\r\n&lt;b&gt;Record&lt;/b&gt;:\r\n\r\n```\r\nRecord1:\r\n    - tag: x.y.z\r\n    - tagNumbered: x1.y1.z1\r\n    - value: value1\r\n\r\nRecord2:\r\n    - tag: x.y.z\r\n    - tagNumbered: x1.y2.z1  //because y appears twice within x\r\n    - value: value2\r\n```\r\n\r\n&lt;b&gt;MyTag&lt;/b&gt; (`MyTag` is created from `Record`):\r\n\r\n```\r\nMyTag1:\r\n    - tag: x.y.z\r\n    - tagNumbered: x1.y1.z1\r\n\r\nMyTag2:\r\n    - tag: x.y.z\r\n    - tagNumbered: x1.y2.z1  //because y appears twice within x\r\n```\r\n\r\nHere is an XML sample based on your question&#39;s input, that I&#39;ve used for the code below.\r\n\r\n```\r\n&lt;root&gt;\r\n\t&lt;TAG1&gt;\r\n\t\t&lt;TAG2&gt;\r\n\t\t\t&lt;TAG11&gt;value1&lt;/TAG11&gt;\r\n\t\t\t&lt;TAG12&gt;value2&lt;/TAG12&gt;\r\n\t\t\t&lt;TAG3&gt;\r\n\t\t\t\t&lt;TAG131&gt;value3&lt;/TAG131&gt;\r\n\t\t\t\t&lt;TAG132&gt;value4&lt;/TAG132&gt;\r\n\t\t\t\t&lt;TAG133&gt;value5&lt;/TAG133&gt;\r\n\t\t\t\t&lt;TAG134&gt;value6&lt;/TAG134&gt;\r\n\t\t\t&lt;/TAG3&gt;\r\n\t\t\t&lt;TAG3&gt;\r\n\t\t\t\t&lt;TAG131&gt;value11&lt;/TAG131&gt;\r\n\t\t\t\t&lt;TAG132&gt;value12&lt;/TAG132&gt;\r\n\t\t\t\t&lt;TAG133&gt;value13&lt;/TAG133&gt;\r\n\t\t\t\t&lt;TAG134&gt;value14&lt;/TAG134&gt;\r\n\t\t\t&lt;/TAG3&gt;\r\n\t\t&lt;/TAG2&gt;\r\n\t\t&lt;TAG4&gt;\r\n\t\t\t&lt;TAG5&gt;\r\n\t\t\t\t&lt;TAG21&gt;value7&lt;/TAG21&gt;\r\n\t\t\t\t&lt;TAG22&gt;value8&lt;/TAG22&gt;\r\n\t\t\t\t&lt;TAG23&gt;value9&lt;/TAG23&gt;\r\n\t\t\t&lt;/TAG5&gt;\r\n\t\t&lt;/TAG4&gt;\r\n\t&lt;/TAG1&gt;\r\n\t&lt;TAG6&gt;value10&lt;/TAG6&gt;\r\n&lt;/root&gt;\r\n```\r\n___\r\n\r\n&lt;h4&gt;Original Answer Updated&lt;/h4&gt;\r\n\r\nThe first part of the problem consists in creating a `List&lt;Record&gt;` while reading from the XML file which is achieved with the `visitXMLFile` method.\r\n\r\nAfter reading the records from the file, we need to create a `Set` of unique numbered tag chains to identify each group of values. This is actually done with a `Set&lt;MyTag&gt;`; however `MyTag`&#39;s `equals()` and `hashCode()` are based exclusively on `tagNumbered`. \r\n\r\nAfter creating the `Set` of unique numbered tags, we need to stream the input list of entries with a single operation: `collect(Collectors.toMap())`. In this operation, each record is mapped to a `MyTag` (i.e., a numbered tag) of the `Set` previously created.\r\n\r\nFinally, to maintain the original insertion order, the resulting `Map` has been implemented as a `TreeMap` initialized with a `Comparator` defined on the order of the input list&#39;s records.\r\n\r\nHere is an implementation with detailed comments explaining the whole logic step by step:\r\n\r\n```\r\npublic class Main {\r\n    public static void main(String[] args) throws ParserConfigurationException, IOException, SAXException {\r\n        //Accessing the xml file\r\n        DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();\r\n        DocumentBuilder builder = factory.newDocumentBuilder();\r\n\r\n        Document document = builder.parse(new File(&quot;data.xml&quot;));\r\n\r\n        document.getDocumentElement().normalize();\r\n        Element root = document.getDocumentElement();\r\n\r\n        //Retrieving a List of records where each record contains: the original chain of tags, the numbered chain of tags and the value\r\n        String tagSep = &quot;.&quot;;\r\n        List&lt;Record&gt; listRecords = new ArrayList&lt;&gt;();\r\n        visitXMLFile(listRecords, root.getChildNodes(), tagSep, &quot;&quot;, &quot;&quot;, new HashMap&lt;&gt;());\r\n\r\n        //Queue sorted by the numbered tag&#39;s length in descending order (from the longest to the shortest)\r\n        PriorityQueue&lt;Record&gt; queue = new PriorityQueue&lt;&gt;(Comparator.comparing(Record::getTagNumberedLen).reversed());\r\n        queue.addAll(listRecords);\r\n\r\n        //Using a set to have unique numbered tags (no duplicates) to group by in the resulting map\r\n        Set&lt;MyTag&gt; setMyTags = new HashSet&lt;&gt;();\r\n\r\n        //Checking for each numbered tag if its largest substring is equal to any other numbered tag&#39;s beginning:\r\n        //  - if it does, then the substring is collected as a key to group by within the final map\r\n        //\r\n        //  - if it doesn&#39;t, then another substring is generated from the previous substring until a matching value is found.\r\n        //          If no value is found, then the numbered tag is collected entirely as a key for the resulting map.\r\n        while (!queue.isEmpty()) {\r\n            Record rec = queue.poll();\r\n\r\n            //This loop keeps creating substrings of the current numbered tag until:\r\n            //  - the substring matches another numbered tag&#39;s beginning\r\n            //  - or no more substrings can be generated\r\n            int lastIndexTagNum = rec.getTagNumbered().lastIndexOf(tagSep);\r\n            int lastIndexTag = rec.getTag().lastIndexOf(tagSep);\r\n            while (lastIndexTagNum &gt; 0) {\r\n\r\n                //Checking if the substring matches the beginning of any numbered tag except the current one\r\n                String subStrTagNum = rec.getTagNumbered().substring(0, lastIndexTagNum);\r\n                if (listRecords.stream().anyMatch(r -&gt; !r.getTagNumbered().equals(rec.getTagNumbered()) &amp;&amp; r.getTagNumbered().startsWith(subStrTagNum + tagSep))) {\r\n\r\n                    String subStrTag = rec.getTag().substring(0, lastIndexTag);\r\n                    int appearanceOrder = listRecords.stream().filter(r -&gt; r.getTagNumbered().startsWith(subStrTagNum + tagSep)).map(r -&gt; r.getAppearanceOrder()).min(Comparator.naturalOrder()).orElse(0);\r\n\r\n                    //If a match is found then the current substring is added to the set and the substring iteration is interrupted\r\n                    setMyTags.add(new MyTag(subStrTag, subStrTagNum + tagSep, appearanceOrder));\r\n                    break;\r\n                }\r\n\r\n                //Creating a new substring from the previous substring if no match has been found\r\n                lastIndexTagNum = rec.getTagNumbered().substring(0, lastIndexTagNum).lastIndexOf(tagSep);\r\n                lastIndexTag = rec.getTag().substring(0, lastIndexTag).lastIndexOf(tagSep);\r\n            }\r\n\r\n            //If no substrings of the current numbered tag matches the beginning of any other numbered tag,\r\n            //then the current numbered tag is collected as a key for the resulting map\r\n            if (lastIndexTagNum &lt; 0) {\r\n                int appearanceOrder = listRecords.stream().filter(r -&gt; r.getTagNumbered().startsWith(rec.getTagNumbered())).map(r -&gt; r.getAppearanceOrder()).min(Comparator.naturalOrder()).orElse(0);\r\n                setMyTags.add(new MyTag(rec.getTag(), rec.getTagNumbered(), appearanceOrder));\r\n            }\r\n        }\r\n\r\n        //Creating a temporary resulting map (not sorted as the input)\r\n        Map&lt;MyTag, List&lt;String&gt;&gt; mapTemp = listRecords.stream()\r\n                .collect(Collectors.toMap(\r\n                                rec -&gt; {\r\n                                    //Looking for the longest numbered tag which matches the beginning of the current record&#39;s numbered tag.\r\n                                    //The reason why we need the longest match (i.e. the most accurate) is because some elements\r\n                                    //may share the same parents but be on different levels, for example the values 3, 4, 5 and 6\r\n                                    //have a key whose beginning matches both &quot;TAG1.TAG2&quot; and &quot;TAG1.TAG2.TAG3&quot;, but only the longest\r\n                                    //match is actually the right one.\r\n                                    return setMyTags.stream().filter(mt -&gt; rec.getTagNumbered().startsWith(mt.getTagNumbered())).max(Comparator.comparingInt(MyTag::getTagNumberedLen)).orElseThrow(() -&gt; new RuntimeException(&quot;No key found&quot;));\r\n                                },\r\n                                rec -&gt; {\r\n                                    //Retrieving, like above, the numbered tag that will be used to map the current value\r\n                                    MyTag myTag = setMyTags.stream().filter(mt -&gt; rec.getTagNumbered().startsWith(mt.getTagNumbered())).max(Comparator.comparingInt(MyTag::getTagNumberedLen)).orElseThrow(() -&gt; new RuntimeException(&quot;No key found&quot;));\r\n\r\n                                    //If the new numbered tag and the record&#39;s numbered tag are equal then a List with the current value is returned\r\n                                    if (myTag.getTagNumbered().equals(rec.getTagNumbered())) {\r\n                                        return new ArrayList&lt;&gt;(List.of(rec.getValue()));\r\n                                    } else {    //If the new numbered tag is a substring of the record&#39;s numbered tag then the rest of the current (non-numbered) tag is added to the value\r\n                                        return new ArrayList&lt;&gt;(List.of(rec.getTag().substring(myTag.getTag().length() + 1) + &quot; : &quot; + rec.getValue()));\r\n                                    }\r\n                                },\r\n                                //Handling colliding cases by merging the lists together\r\n                                (list1, list2) -&gt; {\r\n                                    list1.addAll(list2);\r\n                                    return list1;\r\n                                }\r\n                        )\r\n                );\r\n\r\n        //Creating a TreeMap whose ordering is based on the insertion order of the input\r\n        Map&lt;MyTag, List&lt;String&gt;&gt; mapRes = new TreeMap&lt;&gt;(Comparator.comparingInt(MyTag::getAppearanceOrder));\r\n        mapRes.putAll(mapTemp);\r\n\r\n        //Printing the resulting map\r\n        for (Map.Entry&lt;MyTag, List&lt;String&gt;&gt; entry : mapRes.entrySet()) {\r\n            System.out.println(entry.getKey());\r\n            for (String value : entry.getValue()) {\r\n                System.out.println(&quot;\\t&quot; + value);\r\n            }\r\n        }\r\n    }\r\n\r\n    private static void visitXMLFile(List&lt;Record&gt; listInput, NodeList nodeList, String tagSep, String tag, String tagNumbered, Map&lt;String, Integer&gt; mapTagOccurrence) {\r\n        for (int i = 0; i &lt; nodeList.getLength(); i++) {\r\n            Node node = nodeList.item(i);\r\n            if (node.hasChildNodes()) {\r\n                String newTag = tag.isEmpty() ? node.getNodeName() : tag + tagSep + node.getNodeName();\r\n\r\n                //Setting or incrementing the number of appearances of a tag chain\r\n                //(sometimes a same chain of tags can be repeated, ex: TAG1.TAG2.TAG3)\r\n                if (!mapTagOccurrence.containsKey(newTag)) {\r\n                    mapTagOccurrence.put(newTag, 1);\r\n                } else {\r\n                    mapTagOccurrence.computeIfPresent(newTag, (key, val) -&gt; val + 1);\r\n                }\r\n\r\n                //Creating a numbered version of the tag where its number of appearances is added at the end.\r\n                //This is done to uniquely identify different groups of tag chain when these are repeated (ex: TAG1.TAG2.TAG3)\r\n                String newTagNum = tagNumbered.isEmpty() ? node.getNodeName() + mapTagOccurrence.get(newTag) : tagNumbered + tagSep + node.getNodeName() + mapTagOccurrence.get(newTag);\r\n\r\n                visitXMLFile(listInput, node.getChildNodes(), tagSep, newTag, newTagNum, mapTagOccurrence);\r\n            } else {\r\n                if (!node.getTextContent().trim().equals(&quot;&quot;)) {\r\n                    int appearanceOrder = listInput.size() + 1;\r\n                    listInput.add(new Record(tag, tagNumbered, node.getTextContent().trim(), appearanceOrder));\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nclass MyTag {\r\n\r\n    //Tag chain for the user\r\n    private String tag;\r\n\r\n    //Unique tag chain for identification\r\n    private String tagNumbered;\r\n\r\n    private int appearanceOrder;\r\n\r\n    public MyTag(String tag, String tagNumbered, int appearanceOrder) {\r\n        this.tag = tag;\r\n        this.tagNumbered = tagNumbered;\r\n        this.appearanceOrder = appearanceOrder;\r\n    }\r\n\r\n    public String getTag() {\r\n        return tag;\r\n    }\r\n\r\n    public String getTagNumbered() {\r\n        return tagNumbered;\r\n    }\r\n\r\n    public int getTagNumberedLen() {\r\n        return tagNumbered == null ? 0 : tagNumbered.length();\r\n    }\r\n\r\n    public int getAppearanceOrder() {\r\n        return appearanceOrder;\r\n    }\r\n\r\n    @Override\r\n    public boolean equals(Object o) {\r\n        if (this == o) return true;\r\n        if (o == null || getClass() != o.getClass()) return false;\r\n        MyTag tagPair = (MyTag) o;\r\n        return Objects.equals(tagNumbered, tagPair.tagNumbered);\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        return Objects.hash(tagNumbered);\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return tag;\r\n    }\r\n}\r\n\r\nclass Record {\r\n\r\n    //Tag chain for the user\r\n    private String tag;\r\n\r\n    //Unique tag chain for identification\r\n    private String tagNumbered;\r\n\r\n    private String value;\r\n\r\n    private int appearanceOrder;\r\n\r\n    public Record(String tag, String tagNumbered, String value, int appearanceOrder) {\r\n        this.tag = tag;\r\n        this.tagNumbered = tagNumbered;\r\n        this.value = value;\r\n        this.appearanceOrder = appearanceOrder;\r\n    }\r\n\r\n    public String getTag() {\r\n        return tag;\r\n    }\r\n\r\n    public String getTagNumbered() {\r\n        return tagNumbered;\r\n    }\r\n\r\n    public int getTagNumberedLen() {\r\n        return tagNumbered == null ? 0 : tagNumbered.length();\r\n    }\r\n\r\n    public String getValue() {\r\n        return value;\r\n    }\r\n\r\n    public int getAppearanceOrder() {\r\n        return appearanceOrder;\r\n    }\r\n\r\n    @Override\r\n    public boolean equals(Object o) {\r\n        if (this == o) return true;\r\n        if (o == null || getClass() != o.getClass()) return false;\r\n        Record record = (Record) o;\r\n        return Objects.equals(tagNumbered, record.tagNumbered);\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        return Objects.hash(tagNumbered);\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return tag + &quot; - &quot; + tagNumbered + &quot; - &quot; + value;\r\n    }\r\n}\r\n```\r\n\r\n&lt;h4&gt;Output&lt;/h4&gt;\r\n\r\n```\r\nTAG1.TAG2\r\n\tTAG11 : value1\r\n\tTAG12 : value2\r\nTAG1.TAG2.TAG3\r\n\tTAG131 : value3\r\n\tTAG132 : value4\r\n\tTAG133 : value5\r\n\tTAG134 : value6\r\nTAG1.TAG2.TAG3\r\n\tTAG131 : value11\r\n\tTAG132 : value12\r\n\tTAG133 : value13\r\n\tTAG134 : value14\r\nTAG1.TAG4.TAG5\r\n\tTAG21 : value7\r\n\tTAG22 : value8\r\n\tTAG23 : value9\r\nTAG6\r\n\tvalue10\r\n```","title":"Display HashMap content in tree view","body":"<h4>Edit</h4>\n<p>At this point to answer your edited question, I had to use a <code>List</code> instead of a <code>Map</code> to store the input since multiple values share the same key and a <code>Map&lt;String, List&lt;String&gt;&gt;</code> wouldn't maintain the insertion order.  In fact, the values from 3 to 6 would be alternated with the values from 11 to 14.</p>\n<p>Besides, since the same chain of tags can appear several times (ex: TAG1.TAG2.TAG3), I had to implement two custom classes: <code>MyTag</code> and <code>Record</code>.</p>\n<p>The first class represents a custom tag made of two fields: <code>tag</code> and <code>tagNumbered</code>. The first field holds the tag chain that must be shown to the user, while the second is used as the actual identifier to group by in the stream operation. <code>tagNumbered</code> is basically a copy of <code>tag</code> where at the end of each nested tag is added its number of appearances.</p>\n<p>Instead, the class <code>Record</code> is used to represent a value accompanied by its tag chain and numbered tag chain.</p>\n<p>So, the following XML is represented as follows by the respective classes:</p>\n<pre><code>&lt;x&gt;\n    &lt;y&gt;\n        &lt;z&gt;value1&lt;/z&gt;\n    &lt;/y&gt;\n    &lt;y&gt;\n        &lt;z&gt;value2&lt;/z&gt;\n    &lt;/y&gt;\n&lt;/x&gt;\n</code></pre>\n<p><b>Record</b>:</p>\n<pre><code>Record1:\n    - tag: x.y.z\n    - tagNumbered: x1.y1.z1\n    - value: value1\n\nRecord2:\n    - tag: x.y.z\n    - tagNumbered: x1.y2.z1  //because y appears twice within x\n    - value: value2\n</code></pre>\n<p><b>MyTag</b> (<code>MyTag</code> is created from <code>Record</code>):</p>\n<pre><code>MyTag1:\n    - tag: x.y.z\n    - tagNumbered: x1.y1.z1\n\nMyTag2:\n    - tag: x.y.z\n    - tagNumbered: x1.y2.z1  //because y appears twice within x\n</code></pre>\n<p>Here is an XML sample based on your question's input, that I've used for the code below.</p>\n<pre><code>&lt;root&gt;\n    &lt;TAG1&gt;\n        &lt;TAG2&gt;\n            &lt;TAG11&gt;value1&lt;/TAG11&gt;\n            &lt;TAG12&gt;value2&lt;/TAG12&gt;\n            &lt;TAG3&gt;\n                &lt;TAG131&gt;value3&lt;/TAG131&gt;\n                &lt;TAG132&gt;value4&lt;/TAG132&gt;\n                &lt;TAG133&gt;value5&lt;/TAG133&gt;\n                &lt;TAG134&gt;value6&lt;/TAG134&gt;\n            &lt;/TAG3&gt;\n            &lt;TAG3&gt;\n                &lt;TAG131&gt;value11&lt;/TAG131&gt;\n                &lt;TAG132&gt;value12&lt;/TAG132&gt;\n                &lt;TAG133&gt;value13&lt;/TAG133&gt;\n                &lt;TAG134&gt;value14&lt;/TAG134&gt;\n            &lt;/TAG3&gt;\n        &lt;/TAG2&gt;\n        &lt;TAG4&gt;\n            &lt;TAG5&gt;\n                &lt;TAG21&gt;value7&lt;/TAG21&gt;\n                &lt;TAG22&gt;value8&lt;/TAG22&gt;\n                &lt;TAG23&gt;value9&lt;/TAG23&gt;\n            &lt;/TAG5&gt;\n        &lt;/TAG4&gt;\n    &lt;/TAG1&gt;\n    &lt;TAG6&gt;value10&lt;/TAG6&gt;\n&lt;/root&gt;\n</code></pre>\n<hr />\n<h4>Original Answer Updated</h4>\n<p>The first part of the problem consists in creating a <code>List&lt;Record&gt;</code> while reading from the XML file which is achieved with the <code>visitXMLFile</code> method.</p>\n<p>After reading the records from the file, we need to create a <code>Set</code> of unique numbered tag chains to identify each group of values. This is actually done with a <code>Set&lt;MyTag&gt;</code>; however <code>MyTag</code>'s <code>equals()</code> and <code>hashCode()</code> are based exclusively on <code>tagNumbered</code>.</p>\n<p>After creating the <code>Set</code> of unique numbered tags, we need to stream the input list of entries with a single operation: <code>collect(Collectors.toMap())</code>. In this operation, each record is mapped to a <code>MyTag</code> (i.e., a numbered tag) of the <code>Set</code> previously created.</p>\n<p>Finally, to maintain the original insertion order, the resulting <code>Map</code> has been implemented as a <code>TreeMap</code> initialized with a <code>Comparator</code> defined on the order of the input list's records.</p>\n<p>Here is an implementation with detailed comments explaining the whole logic step by step:</p>\n<pre><code>public class Main {\n    public static void main(String[] args) throws ParserConfigurationException, IOException, SAXException {\n        //Accessing the xml file\n        DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();\n        DocumentBuilder builder = factory.newDocumentBuilder();\n\n        Document document = builder.parse(new File(&quot;data.xml&quot;));\n\n        document.getDocumentElement().normalize();\n        Element root = document.getDocumentElement();\n\n        //Retrieving a List of records where each record contains: the original chain of tags, the numbered chain of tags and the value\n        String tagSep = &quot;.&quot;;\n        List&lt;Record&gt; listRecords = new ArrayList&lt;&gt;();\n        visitXMLFile(listRecords, root.getChildNodes(), tagSep, &quot;&quot;, &quot;&quot;, new HashMap&lt;&gt;());\n\n        //Queue sorted by the numbered tag's length in descending order (from the longest to the shortest)\n        PriorityQueue&lt;Record&gt; queue = new PriorityQueue&lt;&gt;(Comparator.comparing(Record::getTagNumberedLen).reversed());\n        queue.addAll(listRecords);\n\n        //Using a set to have unique numbered tags (no duplicates) to group by in the resulting map\n        Set&lt;MyTag&gt; setMyTags = new HashSet&lt;&gt;();\n\n        //Checking for each numbered tag if its largest substring is equal to any other numbered tag's beginning:\n        //  - if it does, then the substring is collected as a key to group by within the final map\n        //\n        //  - if it doesn't, then another substring is generated from the previous substring until a matching value is found.\n        //          If no value is found, then the numbered tag is collected entirely as a key for the resulting map.\n        while (!queue.isEmpty()) {\n            Record rec = queue.poll();\n\n            //This loop keeps creating substrings of the current numbered tag until:\n            //  - the substring matches another numbered tag's beginning\n            //  - or no more substrings can be generated\n            int lastIndexTagNum = rec.getTagNumbered().lastIndexOf(tagSep);\n            int lastIndexTag = rec.getTag().lastIndexOf(tagSep);\n            while (lastIndexTagNum &gt; 0) {\n\n                //Checking if the substring matches the beginning of any numbered tag except the current one\n                String subStrTagNum = rec.getTagNumbered().substring(0, lastIndexTagNum);\n                if (listRecords.stream().anyMatch(r -&gt; !r.getTagNumbered().equals(rec.getTagNumbered()) &amp;&amp; r.getTagNumbered().startsWith(subStrTagNum + tagSep))) {\n\n                    String subStrTag = rec.getTag().substring(0, lastIndexTag);\n                    int appearanceOrder = listRecords.stream().filter(r -&gt; r.getTagNumbered().startsWith(subStrTagNum + tagSep)).map(r -&gt; r.getAppearanceOrder()).min(Comparator.naturalOrder()).orElse(0);\n\n                    //If a match is found then the current substring is added to the set and the substring iteration is interrupted\n                    setMyTags.add(new MyTag(subStrTag, subStrTagNum + tagSep, appearanceOrder));\n                    break;\n                }\n\n                //Creating a new substring from the previous substring if no match has been found\n                lastIndexTagNum = rec.getTagNumbered().substring(0, lastIndexTagNum).lastIndexOf(tagSep);\n                lastIndexTag = rec.getTag().substring(0, lastIndexTag).lastIndexOf(tagSep);\n            }\n\n            //If no substrings of the current numbered tag matches the beginning of any other numbered tag,\n            //then the current numbered tag is collected as a key for the resulting map\n            if (lastIndexTagNum &lt; 0) {\n                int appearanceOrder = listRecords.stream().filter(r -&gt; r.getTagNumbered().startsWith(rec.getTagNumbered())).map(r -&gt; r.getAppearanceOrder()).min(Comparator.naturalOrder()).orElse(0);\n                setMyTags.add(new MyTag(rec.getTag(), rec.getTagNumbered(), appearanceOrder));\n            }\n        }\n\n        //Creating a temporary resulting map (not sorted as the input)\n        Map&lt;MyTag, List&lt;String&gt;&gt; mapTemp = listRecords.stream()\n                .collect(Collectors.toMap(\n                                rec -&gt; {\n                                    //Looking for the longest numbered tag which matches the beginning of the current record's numbered tag.\n                                    //The reason why we need the longest match (i.e. the most accurate) is because some elements\n                                    //may share the same parents but be on different levels, for example the values 3, 4, 5 and 6\n                                    //have a key whose beginning matches both &quot;TAG1.TAG2&quot; and &quot;TAG1.TAG2.TAG3&quot;, but only the longest\n                                    //match is actually the right one.\n                                    return setMyTags.stream().filter(mt -&gt; rec.getTagNumbered().startsWith(mt.getTagNumbered())).max(Comparator.comparingInt(MyTag::getTagNumberedLen)).orElseThrow(() -&gt; new RuntimeException(&quot;No key found&quot;));\n                                },\n                                rec -&gt; {\n                                    //Retrieving, like above, the numbered tag that will be used to map the current value\n                                    MyTag myTag = setMyTags.stream().filter(mt -&gt; rec.getTagNumbered().startsWith(mt.getTagNumbered())).max(Comparator.comparingInt(MyTag::getTagNumberedLen)).orElseThrow(() -&gt; new RuntimeException(&quot;No key found&quot;));\n\n                                    //If the new numbered tag and the record's numbered tag are equal then a List with the current value is returned\n                                    if (myTag.getTagNumbered().equals(rec.getTagNumbered())) {\n                                        return new ArrayList&lt;&gt;(List.of(rec.getValue()));\n                                    } else {    //If the new numbered tag is a substring of the record's numbered tag then the rest of the current (non-numbered) tag is added to the value\n                                        return new ArrayList&lt;&gt;(List.of(rec.getTag().substring(myTag.getTag().length() + 1) + &quot; : &quot; + rec.getValue()));\n                                    }\n                                },\n                                //Handling colliding cases by merging the lists together\n                                (list1, list2) -&gt; {\n                                    list1.addAll(list2);\n                                    return list1;\n                                }\n                        )\n                );\n\n        //Creating a TreeMap whose ordering is based on the insertion order of the input\n        Map&lt;MyTag, List&lt;String&gt;&gt; mapRes = new TreeMap&lt;&gt;(Comparator.comparingInt(MyTag::getAppearanceOrder));\n        mapRes.putAll(mapTemp);\n\n        //Printing the resulting map\n        for (Map.Entry&lt;MyTag, List&lt;String&gt;&gt; entry : mapRes.entrySet()) {\n            System.out.println(entry.getKey());\n            for (String value : entry.getValue()) {\n                System.out.println(&quot;\\t&quot; + value);\n            }\n        }\n    }\n\n    private static void visitXMLFile(List&lt;Record&gt; listInput, NodeList nodeList, String tagSep, String tag, String tagNumbered, Map&lt;String, Integer&gt; mapTagOccurrence) {\n        for (int i = 0; i &lt; nodeList.getLength(); i++) {\n            Node node = nodeList.item(i);\n            if (node.hasChildNodes()) {\n                String newTag = tag.isEmpty() ? node.getNodeName() : tag + tagSep + node.getNodeName();\n\n                //Setting or incrementing the number of appearances of a tag chain\n                //(sometimes a same chain of tags can be repeated, ex: TAG1.TAG2.TAG3)\n                if (!mapTagOccurrence.containsKey(newTag)) {\n                    mapTagOccurrence.put(newTag, 1);\n                } else {\n                    mapTagOccurrence.computeIfPresent(newTag, (key, val) -&gt; val + 1);\n                }\n\n                //Creating a numbered version of the tag where its number of appearances is added at the end.\n                //This is done to uniquely identify different groups of tag chain when these are repeated (ex: TAG1.TAG2.TAG3)\n                String newTagNum = tagNumbered.isEmpty() ? node.getNodeName() + mapTagOccurrence.get(newTag) : tagNumbered + tagSep + node.getNodeName() + mapTagOccurrence.get(newTag);\n\n                visitXMLFile(listInput, node.getChildNodes(), tagSep, newTag, newTagNum, mapTagOccurrence);\n            } else {\n                if (!node.getTextContent().trim().equals(&quot;&quot;)) {\n                    int appearanceOrder = listInput.size() + 1;\n                    listInput.add(new Record(tag, tagNumbered, node.getTextContent().trim(), appearanceOrder));\n                }\n            }\n        }\n    }\n}\n\nclass MyTag {\n\n    //Tag chain for the user\n    private String tag;\n\n    //Unique tag chain for identification\n    private String tagNumbered;\n\n    private int appearanceOrder;\n\n    public MyTag(String tag, String tagNumbered, int appearanceOrder) {\n        this.tag = tag;\n        this.tagNumbered = tagNumbered;\n        this.appearanceOrder = appearanceOrder;\n    }\n\n    public String getTag() {\n        return tag;\n    }\n\n    public String getTagNumbered() {\n        return tagNumbered;\n    }\n\n    public int getTagNumberedLen() {\n        return tagNumbered == null ? 0 : tagNumbered.length();\n    }\n\n    public int getAppearanceOrder() {\n        return appearanceOrder;\n    }\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (o == null || getClass() != o.getClass()) return false;\n        MyTag tagPair = (MyTag) o;\n        return Objects.equals(tagNumbered, tagPair.tagNumbered);\n    }\n\n    @Override\n    public int hashCode() {\n        return Objects.hash(tagNumbered);\n    }\n\n    @Override\n    public String toString() {\n        return tag;\n    }\n}\n\nclass Record {\n\n    //Tag chain for the user\n    private String tag;\n\n    //Unique tag chain for identification\n    private String tagNumbered;\n\n    private String value;\n\n    private int appearanceOrder;\n\n    public Record(String tag, String tagNumbered, String value, int appearanceOrder) {\n        this.tag = tag;\n        this.tagNumbered = tagNumbered;\n        this.value = value;\n        this.appearanceOrder = appearanceOrder;\n    }\n\n    public String getTag() {\n        return tag;\n    }\n\n    public String getTagNumbered() {\n        return tagNumbered;\n    }\n\n    public int getTagNumberedLen() {\n        return tagNumbered == null ? 0 : tagNumbered.length();\n    }\n\n    public String getValue() {\n        return value;\n    }\n\n    public int getAppearanceOrder() {\n        return appearanceOrder;\n    }\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (o == null || getClass() != o.getClass()) return false;\n        Record record = (Record) o;\n        return Objects.equals(tagNumbered, record.tagNumbered);\n    }\n\n    @Override\n    public int hashCode() {\n        return Objects.hash(tagNumbered);\n    }\n\n    @Override\n    public String toString() {\n        return tag + &quot; - &quot; + tagNumbered + &quot; - &quot; + value;\n    }\n}\n</code></pre>\n<h4>Output</h4>\n<pre><code>TAG1.TAG2\n    TAG11 : value1\n    TAG12 : value2\nTAG1.TAG2.TAG3\n    TAG131 : value3\n    TAG132 : value4\n    TAG133 : value5\n    TAG134 : value6\nTAG1.TAG2.TAG3\n    TAG131 : value11\n    TAG132 : value12\n    TAG133 : value13\n    TAG134 : value14\nTAG1.TAG4.TAG5\n    TAG21 : value7\n    TAG22 : value8\n    TAG23 : value9\nTAG6\n    value10\n</code></pre>\n"}],"owner":{"account_id":18297878,"reputation":51,"user_id":13323411,"display_name":"ZeeCos"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":237,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":72566455,"answer_count":1,"score":-1,"last_activity_date":1656954410,"creation_date":1654692545,"question_id":72546002,"body_markdown":"I need your help because I don&#39;t find the solution in Java for my problem.\r\n\r\nI stored in object `LinkedHashMap&lt;String, String&gt;` this content:\r\n\r\n    TAG1.TAG2.TAG11 : value1\r\n    TAG1.TAG2.TAG12 : value2\r\n    TAG1.TAG2.TAG3.TAG131 : value3\r\n    TAG1.TAG2.TAG3.TAG132 : value4\r\n    TAG1.TAG2.TAG3.TAG133 : value5\r\n    TAG1.TAG2.TAG3.TAG134 : value6\r\n    TAG1.TAG4.TAG5.TAG21 : value7\r\n    TAG1.TAG4.TAG5.TAG22 : value8\r\n    TAG1.TAG4.TAG5.TAG23 : value9\r\n    TAG6 : value10\r\n\r\nI need to display if a tag has 2 or more children, the list of child.\r\nHere is the expected result:\r\n\r\n    TAG1.TAG2\r\n    \tTAG11 : value1\r\n    \tTAG12 : value2\r\n    TAG1.TAG2.TAG3\r\n    \tTAG131 : value3\r\n    \tTAG132 : value4\r\n    \tTAG133 : value5\r\n    \tTAG134 : value6\r\n    TAG1.TAG4.TAG5\r\n    \tTAG21 : value7\r\n    \tTAG22 : value8\r\n    \tTAG23 : value9\r\n    TAG6 : value10\r\n\r\n\r\n----------\r\n\r\n**EDIT 14/06/2022 :**\r\n\r\nIn fact, my original analyse is bad because initialy I have a XML file :\r\n\r\n    &lt;TAG1&gt;\r\n     &lt;TAG2&gt;\r\n      &lt;TAG11&gt;value1&lt;/TAG11&gt;\r\n      &lt;TAG12&gt;value2&lt;/TAG12&gt;\r\n      &lt;TAG3&gt;\r\n       &lt;TAG131&gt;value3&lt;/TAG131&gt;\r\n       &lt;TAG132&gt;value4&lt;/TAG132&gt;\r\n       &lt;TAG133&gt;value5&lt;/TAG133&gt;\r\n       &lt;TAG134&gt;value6&lt;/TAG134&gt;\r\n      &lt;/TAG3&gt;\r\n     &lt;/TAG2&gt;\r\n     &lt;TAG4&gt;\r\n      &lt;TAG5&gt;\r\n       &lt;TAG21&gt;value7&lt;/TAG21&gt;\r\n       &lt;TAG22&gt;value8&lt;/TAG22&gt;\r\n       &lt;TAG23&gt;value9&lt;/TAG23&gt;\r\n      &lt;/TAG5&gt;\r\n     &lt;/TAG4&gt;\r\n    &lt;/TAG1&gt;\r\n    &lt;TAG6&gt;value10&lt;/TAG6&gt;\r\n\r\nAnd I created a map to store it :\r\n\r\n    TAG1.TAG2.TAG11 : value1\r\n    TAG1.TAG2.TAG12 : value2\r\n    TAG1.TAG2.TAG3.TAG131 : value3\r\n    TAG1.TAG2.TAG3.TAG132 : value4\r\n    TAG1.TAG2.TAG3.TAG133 : value5\r\n    TAG1.TAG2.TAG3.TAG134 : value6\r\n    TAG1.TAG4.TAG5.TAG21 : value7\r\n    TAG1.TAG4.TAG5.TAG22 : value8\r\n    TAG1.TAG4.TAG5.TAG23 : value9\r\n    TAG6 : value10\r\n\r\nBut, today I have a this case :\r\n\r\n    &lt;TAG1&gt;\r\n     &lt;TAG2&gt;\r\n      &lt;TAG11&gt;value1&lt;/TAG11&gt;\r\n      &lt;TAG12&gt;value2&lt;/TAG12&gt;\r\n      &lt;TAG3&gt;\r\n       &lt;TAG131&gt;value3&lt;/TAG131&gt;\r\n       &lt;TAG132&gt;value4&lt;/TAG132&gt;\r\n       &lt;TAG133&gt;value5&lt;/TAG133&gt;\r\n       &lt;TAG134&gt;value6&lt;/TAG134&gt;\r\n      &lt;/TAG3&gt;\r\n      &lt;TAG3&gt;\r\n       &lt;TAG131&gt;value11&lt;/TAG131&gt;\r\n       &lt;TAG132&gt;value12&lt;/TAG132&gt;\r\n       &lt;TAG133&gt;value13&lt;/TAG133&gt;\r\n       &lt;TAG134&gt;value14&lt;/TAG134&gt;\r\n      &lt;/TAG3&gt;\r\n     &lt;/TAG2&gt;\r\n     &lt;TAG4&gt;\r\n      &lt;TAG5&gt;\r\n       &lt;TAG21&gt;value7&lt;/TAG21&gt;\r\n       &lt;TAG22&gt;value8&lt;/TAG22&gt;\r\n       &lt;TAG23&gt;value9&lt;/TAG23&gt;\r\n      &lt;/TAG5&gt;\r\n     &lt;/TAG4&gt;\r\n    &lt;/TAG1&gt;\r\n    &lt;TAG6&gt;value10&lt;/TAG6&gt;\r\n\r\nBut the Map object does not allow to store many keys (in the example many TAG3). Have you got an idea how I can resolve this problem ?\r\n\r\n----------\r\n\r\n**EDIT 15/06/2022 :**\r\n\r\nIn fact the expected result needs to keep the original XML structure.\r\nHere the result of last sample :\r\n\r\n    TAG1.TAG2\r\n        TAG11 : value1\r\n        TAG12 : value2\r\n    TAG1.TAG2.TAG3\r\n        TAG131 : value3\r\n        TAG132 : value4\r\n        TAG133 : value5\r\n        TAG134 : value6\r\n    TAG1.TAG2.TAG3\r\n        TAG131 : value11\r\n        TAG132 : value12\r\n        TAG133 : value13\r\n        TAG134 : value14\r\n    TAG1.TAG4.TAG5\r\n        TAG21 : value7\r\n        TAG22 : value8\r\n        TAG23 : value9\r\n    TAG6 : value10\r\n\r\nIt&#39;s to display xml more human reader.\r\n\r\n\r\n----------\r\n\r\n**EDIT 04/07/2022 :**\r\n\r\nI detect a problem of inconsistent with &quot;new TreeMap&lt;&gt;(Comparator.comparingInt(MyTag::getAppearanceOrder)&quot;. Indeed, some MyTag object are the same AppearanceOrder, so there is a problem of inconsistent ordering. Some value in Map are so removed.\r\nTo resolve I used :\r\n\r\n    map.entrySet().stream().sorted(Map.Entry.comparingByKey(. . .))\r\n\r\nAnd I store the result in Map with collect().\r\n\r\nBelow the working code :\r\n\r\n    public class Main {\r\n        public static void main(String[] args) throws ParserConfigurationException, IOException, SAXException {\r\n            //Accessing the xml file\r\n            DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();\r\n            DocumentBuilder builder = factory.newDocumentBuilder();\r\n    \r\n            Document document = builder.parse(new File(&quot;data.xml&quot;));\r\n    \r\n            document.getDocumentElement().normalize();\r\n            Element root = document.getDocumentElement();\r\n    \r\n            //Retrieving a List of records where each record contains: the original chain of tags, the numbered chain of tags and the value\r\n            String tagSep = &quot;.&quot;;\r\n            List&lt;Record&gt; listRecords = new ArrayList&lt;&gt;();\r\n            visitXMLFile(listRecords, root.getChildNodes(), tagSep, &quot;&quot;, &quot;&quot;, new HashMap&lt;&gt;());\r\n    \r\n            //Queue sorted by the numbered tag&#39;s length in descending order (from the longest to the shortest)\r\n            PriorityQueue&lt;Record&gt; queue = new PriorityQueue&lt;&gt;(Comparator.comparing(Record::getTagNumberedLen).reversed());\r\n            queue.addAll(listRecords);\r\n    \r\n            //Using a set to have unique numbered tags (no duplicates) to group by in the resulting map\r\n            Set&lt;MyTag&gt; setMyTags = new HashSet&lt;&gt;();\r\n    \r\n            //Checking for each numbered tag if its largest substring is equal to any other numbered tag&#39;s beginning:\r\n            //  - if it does, then the substring is collected as a key to group by within the final map\r\n            //\r\n            //  - if it doesn&#39;t, then another substring is generated from the previous substring until a matching value is found.\r\n            //          If no value is found, then the numbered tag is collected entirely as a key for the resulting map.\r\n            while (!queue.isEmpty()) {\r\n                Record rec = queue.poll();\r\n    \r\n                //This loop keeps creating substrings of the current numbered tag until:\r\n                //  - the substring matches another numbered tag&#39;s beginning\r\n                //  - or no more substrings can be generated\r\n                int lastIndexTagNum = rec.getTagNumbered().lastIndexOf(tagSep);\r\n                int lastIndexTag = rec.getTag().lastIndexOf(tagSep);\r\n                while (lastIndexTagNum &gt; 0) {\r\n    \r\n                    //Checking if the substring matches the beginning of any numbered tag except the current one\r\n                    String subStrTagNum = rec.getTagNumbered().substring(0, lastIndexTagNum);\r\n                    if (listRecords.stream().anyMatch(r -&gt; !r.getTagNumbered().equals(rec.getTagNumbered()) &amp;&amp; r.getTagNumbered().startsWith(subStrTagNum + tagSep))) {\r\n    \r\n                        String subStrTag = rec.getTag().substring(0, lastIndexTag);\r\n                        int appearanceOrder = listRecords.stream().filter(r -&gt; r.getTagNumbered().startsWith(subStrTagNum + tagSep)).map(r -&gt; r.getAppearanceOrder()).min(Comparator.naturalOrder()).orElse(0);\r\n    \r\n                        //If a match is found then the current substring is added to the set and the substring iteration is interrupted\r\n                        setMyTags.add(new MyTag(subStrTag, subStrTagNum + tagSep, appearanceOrder));\r\n                        break;\r\n                    }\r\n    \r\n                    //Creating a new substring from the previous substring if no match has been found\r\n                    lastIndexTagNum = rec.getTagNumbered().substring(0, lastIndexTagNum).lastIndexOf(tagSep);\r\n                    lastIndexTag = rec.getTag().substring(0, lastIndexTag).lastIndexOf(tagSep);\r\n                }\r\n    \r\n                //If no substrings of the current numbered tag matches the beginning of any other numbered tag,\r\n                //then the current numbered tag is collected as a key for the resulting map\r\n                if (lastIndexTagNum &lt; 0) {\r\n                    int appearanceOrder = listRecords.stream().filter(r -&gt; r.getTagNumbered().startsWith(rec.getTagNumbered())).map(r -&gt; r.getAppearanceOrder()).min(Comparator.naturalOrder()).orElse(0);\r\n                    setMyTags.add(new MyTag(rec.getTag(), rec.getTagNumbered(), appearanceOrder));\r\n                }\r\n            }\r\n    \r\n            //Creating a temporary resulting map (not sorted as the input)\r\n            Map&lt;MyTag, List&lt;String&gt;&gt; mapTemp = listRecords.stream()\r\n                    .collect(Collectors.toMap(\r\n                                    rec -&gt; {\r\n                                        //Looking for the longest numbered tag which matches the beginning of the current record&#39;s numbered tag.\r\n                                        //The reason why we need the longest match (i.e. the most accurate) is because some elements\r\n                                        //may share the same parents but be on different levels, for example the values 3, 4, 5 and 6\r\n                                        //have a key whose beginning matches both &quot;TAG1.TAG2&quot; and &quot;TAG1.TAG2.TAG3&quot;, but only the longest\r\n                                        //match is actually the right one.\r\n                                        return setMyTags.stream().filter(mt -&gt; rec.getTagNumbered().startsWith(mt.getTagNumbered())).max(Comparator.comparingInt(MyTag::getTagNumberedLen)).orElseThrow(() -&gt; new RuntimeException(&quot;No key found&quot;));\r\n                                    },\r\n                                    rec -&gt; {\r\n                                        //Retrieving, like above, the numbered tag that will be used to map the current value\r\n                                        MyTag myTag = setMyTags.stream().filter(mt -&gt; rec.getTagNumbered().startsWith(mt.getTagNumbered())).max(Comparator.comparingInt(MyTag::getTagNumberedLen)).orElseThrow(() -&gt; new RuntimeException(&quot;No key found&quot;));\r\n    \r\n                                        //If the new numbered tag and the record&#39;s numbered tag are equal then a List with the current value is returned\r\n                                        if (myTag.getTagNumbered().equals(rec.getTagNumbered())) {\r\n                                            return new ArrayList&lt;&gt;(List.of(rec.getValue()));\r\n                                        } else {    //If the new numbered tag is a substring of the record&#39;s numbered tag then the rest of the current (non-numbered) tag is added to the value\r\n                                            return new ArrayList&lt;&gt;(List.of(rec.getTag().substring(myTag.getTag().length() + 1) + &quot; : &quot; + rec.getValue()));\r\n                                        }\r\n                                    },\r\n                                    //Handling colliding cases by merging the lists together\r\n                                    (list1, list2) -&gt; {\r\n                                        list1.addAll(list2);\r\n                                        return list1;\r\n                                    }\r\n                            )\r\n                    );\r\n    \r\n            //Creating a TreeMap whose ordering is based on the insertion order of the input\r\n            Map&lt;MyTag, List&lt;String&gt;&gt; mapRes =\r\n                    mapTemp.entrySet().stream()\r\n                            .sorted(Map.Entry.comparingByKey(Comparator.comparingInt(MyTag::getAppearanceOrder)))\r\n                            .collect(Collectors.toMap(\r\n                                    Map.Entry::getKey, Map.Entry::getValue, (e1, e2) -&gt; e1, LinkedHashMap::new));\r\n    \r\n            //Printing the resulting map\r\n            for (Map.Entry&lt;MyTag, List&lt;String&gt;&gt; entry : mapRes.entrySet()) {\r\n                System.out.println(entry.getKey());\r\n                for (String value : entry.getValue()) {\r\n                    System.out.println(&quot;\\t&quot; + value);\r\n                }\r\n            }\r\n        }\r\n    \r\n        private static void visitXMLFile(List&lt;Record&gt; listInput, NodeList nodeList, String tagSep, String tag, String tagNumbered, Map&lt;String, Integer&gt; mapTagOccurrence) {\r\n            for (int i = 0; i &lt; nodeList.getLength(); i++) {\r\n                Node node = nodeList.item(i);\r\n                if (node.hasChildNodes()) {\r\n                    String newTag = tag.isEmpty() ? node.getNodeName() : tag + tagSep + node.getNodeName();\r\n    \r\n                    //Setting or incrementing the number of appearances of a tag chain\r\n                    //(sometimes a same chain of tags can be repeated, ex: TAG1.TAG2.TAG3)\r\n                    if (!mapTagOccurrence.containsKey(newTag)) {\r\n                        mapTagOccurrence.put(newTag, 1);\r\n                    } else {\r\n                        mapTagOccurrence.computeIfPresent(newTag, (key, val) -&gt; val + 1);\r\n                    }\r\n    \r\n                    //Creating a numbered version of the tag where its number of appearances is added at the end.\r\n                    //This is done to uniquely identify different groups of tag chain when these are repeated (ex: TAG1.TAG2.TAG3)\r\n                    String newTagNum = tagNumbered.isEmpty() ? node.getNodeName() + mapTagOccurrence.get(newTag) : tagNumbered + tagSep + node.getNodeName() + mapTagOccurrence.get(newTag);\r\n    \r\n                    visitXMLFile(listInput, node.getChildNodes(), tagSep, newTag, newTagNum, mapTagOccurrence);\r\n                } else {\r\n                    if (!node.getTextContent().trim().equals(&quot;&quot;)) {\r\n                        int appearanceOrder = listInput.size() + 1;\r\n                        listInput.add(new Record(tag, tagNumbered, node.getTextContent().trim(), appearanceOrder));\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    \r\n    class MyTag {\r\n    \r\n        //Tag chain for the user\r\n        private String tag;\r\n    \r\n        //Unique tag chain for identification\r\n        private String tagNumbered;\r\n    \r\n        private int appearanceOrder;\r\n    \r\n        public MyTag(String tag, String tagNumbered, int appearanceOrder) {\r\n            this.tag = tag;\r\n            this.tagNumbered = tagNumbered;\r\n            this.appearanceOrder = appearanceOrder;\r\n        }\r\n    \r\n        public String getTag() {\r\n            return tag;\r\n        }\r\n    \r\n        public String getTagNumbered() {\r\n            return tagNumbered;\r\n        }\r\n    \r\n        public int getTagNumberedLen() {\r\n            return tagNumbered == null ? 0 : tagNumbered.length();\r\n        }\r\n    \r\n        public int getAppearanceOrder() {\r\n            return appearanceOrder;\r\n        }\r\n    \r\n        @Override\r\n        public boolean equals(Object o) {\r\n            if (this == o) return true;\r\n            if (o == null || getClass() != o.getClass()) return false;\r\n            MyTag tagPair = (MyTag) o;\r\n            return Objects.equals(tagNumbered, tagPair.tagNumbered);\r\n        }\r\n    \r\n        @Override\r\n        public int hashCode() {\r\n            return Objects.hash(tagNumbered);\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return tag;\r\n        }\r\n    }\r\n    \r\n    class Record {\r\n    \r\n        //Tag chain for the user\r\n        private String tag;\r\n    \r\n        //Unique tag chain for identification\r\n        private String tagNumbered;\r\n    \r\n        private String value;\r\n    \r\n        private int appearanceOrder;\r\n    \r\n        public Record(String tag, String tagNumbered, String value, int appearanceOrder) {\r\n            this.tag = tag;\r\n            this.tagNumbered = tagNumbered;\r\n            this.value = value;\r\n            this.appearanceOrder = appearanceOrder;\r\n        }\r\n    \r\n        public String getTag() {\r\n            return tag;\r\n        }\r\n    \r\n        public String getTagNumbered() {\r\n            return tagNumbered;\r\n        }\r\n    \r\n        public int getTagNumberedLen() {\r\n            return tagNumbered == null ? 0 : tagNumbered.length();\r\n        }\r\n    \r\n        public String getValue() {\r\n            return value;\r\n        }\r\n    \r\n        public int getAppearanceOrder() {\r\n            return appearanceOrder;\r\n        }\r\n    \r\n        @Override\r\n        public boolean equals(Object o) {\r\n            if (this == o) return true;\r\n            if (o == null || getClass() != o.getClass()) return false;\r\n            Record record = (Record) o;\r\n            return Objects.equals(tagNumbered, record.tagNumbered);\r\n        }\r\n    \r\n        @Override\r\n        public int hashCode() {\r\n            return Objects.hash(tagNumbered);\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return tag + &quot; - &quot; + tagNumbered + &quot; - &quot; + value;\r\n        }\r\n    }","title":"Display HashMap content in tree view","body":"<p>I need your help because I don't find the solution in Java for my problem.</p>\n<p>I stored in object <code>LinkedHashMap&lt;String, String&gt;</code> this content:</p>\n<pre><code>TAG1.TAG2.TAG11 : value1\nTAG1.TAG2.TAG12 : value2\nTAG1.TAG2.TAG3.TAG131 : value3\nTAG1.TAG2.TAG3.TAG132 : value4\nTAG1.TAG2.TAG3.TAG133 : value5\nTAG1.TAG2.TAG3.TAG134 : value6\nTAG1.TAG4.TAG5.TAG21 : value7\nTAG1.TAG4.TAG5.TAG22 : value8\nTAG1.TAG4.TAG5.TAG23 : value9\nTAG6 : value10\n</code></pre>\n<p>I need to display if a tag has 2 or more children, the list of child.\nHere is the expected result:</p>\n<pre><code>TAG1.TAG2\n    TAG11 : value1\n    TAG12 : value2\nTAG1.TAG2.TAG3\n    TAG131 : value3\n    TAG132 : value4\n    TAG133 : value5\n    TAG134 : value6\nTAG1.TAG4.TAG5\n    TAG21 : value7\n    TAG22 : value8\n    TAG23 : value9\nTAG6 : value10\n</code></pre>\n<hr />\n<p><strong>EDIT 14/06/2022 :</strong></p>\n<p>In fact, my original analyse is bad because initialy I have a XML file :</p>\n<pre><code>&lt;TAG1&gt;\n &lt;TAG2&gt;\n  &lt;TAG11&gt;value1&lt;/TAG11&gt;\n  &lt;TAG12&gt;value2&lt;/TAG12&gt;\n  &lt;TAG3&gt;\n   &lt;TAG131&gt;value3&lt;/TAG131&gt;\n   &lt;TAG132&gt;value4&lt;/TAG132&gt;\n   &lt;TAG133&gt;value5&lt;/TAG133&gt;\n   &lt;TAG134&gt;value6&lt;/TAG134&gt;\n  &lt;/TAG3&gt;\n &lt;/TAG2&gt;\n &lt;TAG4&gt;\n  &lt;TAG5&gt;\n   &lt;TAG21&gt;value7&lt;/TAG21&gt;\n   &lt;TAG22&gt;value8&lt;/TAG22&gt;\n   &lt;TAG23&gt;value9&lt;/TAG23&gt;\n  &lt;/TAG5&gt;\n &lt;/TAG4&gt;\n&lt;/TAG1&gt;\n&lt;TAG6&gt;value10&lt;/TAG6&gt;\n</code></pre>\n<p>And I created a map to store it :</p>\n<pre><code>TAG1.TAG2.TAG11 : value1\nTAG1.TAG2.TAG12 : value2\nTAG1.TAG2.TAG3.TAG131 : value3\nTAG1.TAG2.TAG3.TAG132 : value4\nTAG1.TAG2.TAG3.TAG133 : value5\nTAG1.TAG2.TAG3.TAG134 : value6\nTAG1.TAG4.TAG5.TAG21 : value7\nTAG1.TAG4.TAG5.TAG22 : value8\nTAG1.TAG4.TAG5.TAG23 : value9\nTAG6 : value10\n</code></pre>\n<p>But, today I have a this case :</p>\n<pre><code>&lt;TAG1&gt;\n &lt;TAG2&gt;\n  &lt;TAG11&gt;value1&lt;/TAG11&gt;\n  &lt;TAG12&gt;value2&lt;/TAG12&gt;\n  &lt;TAG3&gt;\n   &lt;TAG131&gt;value3&lt;/TAG131&gt;\n   &lt;TAG132&gt;value4&lt;/TAG132&gt;\n   &lt;TAG133&gt;value5&lt;/TAG133&gt;\n   &lt;TAG134&gt;value6&lt;/TAG134&gt;\n  &lt;/TAG3&gt;\n  &lt;TAG3&gt;\n   &lt;TAG131&gt;value11&lt;/TAG131&gt;\n   &lt;TAG132&gt;value12&lt;/TAG132&gt;\n   &lt;TAG133&gt;value13&lt;/TAG133&gt;\n   &lt;TAG134&gt;value14&lt;/TAG134&gt;\n  &lt;/TAG3&gt;\n &lt;/TAG2&gt;\n &lt;TAG4&gt;\n  &lt;TAG5&gt;\n   &lt;TAG21&gt;value7&lt;/TAG21&gt;\n   &lt;TAG22&gt;value8&lt;/TAG22&gt;\n   &lt;TAG23&gt;value9&lt;/TAG23&gt;\n  &lt;/TAG5&gt;\n &lt;/TAG4&gt;\n&lt;/TAG1&gt;\n&lt;TAG6&gt;value10&lt;/TAG6&gt;\n</code></pre>\n<p>But the Map object does not allow to store many keys (in the example many TAG3). Have you got an idea how I can resolve this problem ?</p>\n<hr />\n<p><strong>EDIT 15/06/2022 :</strong></p>\n<p>In fact the expected result needs to keep the original XML structure.\nHere the result of last sample :</p>\n<pre><code>TAG1.TAG2\n    TAG11 : value1\n    TAG12 : value2\nTAG1.TAG2.TAG3\n    TAG131 : value3\n    TAG132 : value4\n    TAG133 : value5\n    TAG134 : value6\nTAG1.TAG2.TAG3\n    TAG131 : value11\n    TAG132 : value12\n    TAG133 : value13\n    TAG134 : value14\nTAG1.TAG4.TAG5\n    TAG21 : value7\n    TAG22 : value8\n    TAG23 : value9\nTAG6 : value10\n</code></pre>\n<p>It's to display xml more human reader.</p>\n<hr />\n<p><strong>EDIT 04/07/2022 :</strong></p>\n<p>I detect a problem of inconsistent with &quot;new TreeMap&lt;&gt;(Comparator.comparingInt(MyTag::getAppearanceOrder)&quot;. Indeed, some MyTag object are the same AppearanceOrder, so there is a problem of inconsistent ordering. Some value in Map are so removed.\nTo resolve I used :</p>\n<pre><code>map.entrySet().stream().sorted(Map.Entry.comparingByKey(. . .))\n</code></pre>\n<p>And I store the result in Map with collect().</p>\n<p>Below the working code :</p>\n<pre><code>public class Main {\n    public static void main(String[] args) throws ParserConfigurationException, IOException, SAXException {\n        //Accessing the xml file\n        DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();\n        DocumentBuilder builder = factory.newDocumentBuilder();\n\n        Document document = builder.parse(new File(&quot;data.xml&quot;));\n\n        document.getDocumentElement().normalize();\n        Element root = document.getDocumentElement();\n\n        //Retrieving a List of records where each record contains: the original chain of tags, the numbered chain of tags and the value\n        String tagSep = &quot;.&quot;;\n        List&lt;Record&gt; listRecords = new ArrayList&lt;&gt;();\n        visitXMLFile(listRecords, root.getChildNodes(), tagSep, &quot;&quot;, &quot;&quot;, new HashMap&lt;&gt;());\n\n        //Queue sorted by the numbered tag's length in descending order (from the longest to the shortest)\n        PriorityQueue&lt;Record&gt; queue = new PriorityQueue&lt;&gt;(Comparator.comparing(Record::getTagNumberedLen).reversed());\n        queue.addAll(listRecords);\n\n        //Using a set to have unique numbered tags (no duplicates) to group by in the resulting map\n        Set&lt;MyTag&gt; setMyTags = new HashSet&lt;&gt;();\n\n        //Checking for each numbered tag if its largest substring is equal to any other numbered tag's beginning:\n        //  - if it does, then the substring is collected as a key to group by within the final map\n        //\n        //  - if it doesn't, then another substring is generated from the previous substring until a matching value is found.\n        //          If no value is found, then the numbered tag is collected entirely as a key for the resulting map.\n        while (!queue.isEmpty()) {\n            Record rec = queue.poll();\n\n            //This loop keeps creating substrings of the current numbered tag until:\n            //  - the substring matches another numbered tag's beginning\n            //  - or no more substrings can be generated\n            int lastIndexTagNum = rec.getTagNumbered().lastIndexOf(tagSep);\n            int lastIndexTag = rec.getTag().lastIndexOf(tagSep);\n            while (lastIndexTagNum &gt; 0) {\n\n                //Checking if the substring matches the beginning of any numbered tag except the current one\n                String subStrTagNum = rec.getTagNumbered().substring(0, lastIndexTagNum);\n                if (listRecords.stream().anyMatch(r -&gt; !r.getTagNumbered().equals(rec.getTagNumbered()) &amp;&amp; r.getTagNumbered().startsWith(subStrTagNum + tagSep))) {\n\n                    String subStrTag = rec.getTag().substring(0, lastIndexTag);\n                    int appearanceOrder = listRecords.stream().filter(r -&gt; r.getTagNumbered().startsWith(subStrTagNum + tagSep)).map(r -&gt; r.getAppearanceOrder()).min(Comparator.naturalOrder()).orElse(0);\n\n                    //If a match is found then the current substring is added to the set and the substring iteration is interrupted\n                    setMyTags.add(new MyTag(subStrTag, subStrTagNum + tagSep, appearanceOrder));\n                    break;\n                }\n\n                //Creating a new substring from the previous substring if no match has been found\n                lastIndexTagNum = rec.getTagNumbered().substring(0, lastIndexTagNum).lastIndexOf(tagSep);\n                lastIndexTag = rec.getTag().substring(0, lastIndexTag).lastIndexOf(tagSep);\n            }\n\n            //If no substrings of the current numbered tag matches the beginning of any other numbered tag,\n            //then the current numbered tag is collected as a key for the resulting map\n            if (lastIndexTagNum &lt; 0) {\n                int appearanceOrder = listRecords.stream().filter(r -&gt; r.getTagNumbered().startsWith(rec.getTagNumbered())).map(r -&gt; r.getAppearanceOrder()).min(Comparator.naturalOrder()).orElse(0);\n                setMyTags.add(new MyTag(rec.getTag(), rec.getTagNumbered(), appearanceOrder));\n            }\n        }\n\n        //Creating a temporary resulting map (not sorted as the input)\n        Map&lt;MyTag, List&lt;String&gt;&gt; mapTemp = listRecords.stream()\n                .collect(Collectors.toMap(\n                                rec -&gt; {\n                                    //Looking for the longest numbered tag which matches the beginning of the current record's numbered tag.\n                                    //The reason why we need the longest match (i.e. the most accurate) is because some elements\n                                    //may share the same parents but be on different levels, for example the values 3, 4, 5 and 6\n                                    //have a key whose beginning matches both &quot;TAG1.TAG2&quot; and &quot;TAG1.TAG2.TAG3&quot;, but only the longest\n                                    //match is actually the right one.\n                                    return setMyTags.stream().filter(mt -&gt; rec.getTagNumbered().startsWith(mt.getTagNumbered())).max(Comparator.comparingInt(MyTag::getTagNumberedLen)).orElseThrow(() -&gt; new RuntimeException(&quot;No key found&quot;));\n                                },\n                                rec -&gt; {\n                                    //Retrieving, like above, the numbered tag that will be used to map the current value\n                                    MyTag myTag = setMyTags.stream().filter(mt -&gt; rec.getTagNumbered().startsWith(mt.getTagNumbered())).max(Comparator.comparingInt(MyTag::getTagNumberedLen)).orElseThrow(() -&gt; new RuntimeException(&quot;No key found&quot;));\n\n                                    //If the new numbered tag and the record's numbered tag are equal then a List with the current value is returned\n                                    if (myTag.getTagNumbered().equals(rec.getTagNumbered())) {\n                                        return new ArrayList&lt;&gt;(List.of(rec.getValue()));\n                                    } else {    //If the new numbered tag is a substring of the record's numbered tag then the rest of the current (non-numbered) tag is added to the value\n                                        return new ArrayList&lt;&gt;(List.of(rec.getTag().substring(myTag.getTag().length() + 1) + &quot; : &quot; + rec.getValue()));\n                                    }\n                                },\n                                //Handling colliding cases by merging the lists together\n                                (list1, list2) -&gt; {\n                                    list1.addAll(list2);\n                                    return list1;\n                                }\n                        )\n                );\n\n        //Creating a TreeMap whose ordering is based on the insertion order of the input\n        Map&lt;MyTag, List&lt;String&gt;&gt; mapRes =\n                mapTemp.entrySet().stream()\n                        .sorted(Map.Entry.comparingByKey(Comparator.comparingInt(MyTag::getAppearanceOrder)))\n                        .collect(Collectors.toMap(\n                                Map.Entry::getKey, Map.Entry::getValue, (e1, e2) -&gt; e1, LinkedHashMap::new));\n\n        //Printing the resulting map\n        for (Map.Entry&lt;MyTag, List&lt;String&gt;&gt; entry : mapRes.entrySet()) {\n            System.out.println(entry.getKey());\n            for (String value : entry.getValue()) {\n                System.out.println(&quot;\\t&quot; + value);\n            }\n        }\n    }\n\n    private static void visitXMLFile(List&lt;Record&gt; listInput, NodeList nodeList, String tagSep, String tag, String tagNumbered, Map&lt;String, Integer&gt; mapTagOccurrence) {\n        for (int i = 0; i &lt; nodeList.getLength(); i++) {\n            Node node = nodeList.item(i);\n            if (node.hasChildNodes()) {\n                String newTag = tag.isEmpty() ? node.getNodeName() : tag + tagSep + node.getNodeName();\n\n                //Setting or incrementing the number of appearances of a tag chain\n                //(sometimes a same chain of tags can be repeated, ex: TAG1.TAG2.TAG3)\n                if (!mapTagOccurrence.containsKey(newTag)) {\n                    mapTagOccurrence.put(newTag, 1);\n                } else {\n                    mapTagOccurrence.computeIfPresent(newTag, (key, val) -&gt; val + 1);\n                }\n\n                //Creating a numbered version of the tag where its number of appearances is added at the end.\n                //This is done to uniquely identify different groups of tag chain when these are repeated (ex: TAG1.TAG2.TAG3)\n                String newTagNum = tagNumbered.isEmpty() ? node.getNodeName() + mapTagOccurrence.get(newTag) : tagNumbered + tagSep + node.getNodeName() + mapTagOccurrence.get(newTag);\n\n                visitXMLFile(listInput, node.getChildNodes(), tagSep, newTag, newTagNum, mapTagOccurrence);\n            } else {\n                if (!node.getTextContent().trim().equals(&quot;&quot;)) {\n                    int appearanceOrder = listInput.size() + 1;\n                    listInput.add(new Record(tag, tagNumbered, node.getTextContent().trim(), appearanceOrder));\n                }\n            }\n        }\n    }\n}\n\nclass MyTag {\n\n    //Tag chain for the user\n    private String tag;\n\n    //Unique tag chain for identification\n    private String tagNumbered;\n\n    private int appearanceOrder;\n\n    public MyTag(String tag, String tagNumbered, int appearanceOrder) {\n        this.tag = tag;\n        this.tagNumbered = tagNumbered;\n        this.appearanceOrder = appearanceOrder;\n    }\n\n    public String getTag() {\n        return tag;\n    }\n\n    public String getTagNumbered() {\n        return tagNumbered;\n    }\n\n    public int getTagNumberedLen() {\n        return tagNumbered == null ? 0 : tagNumbered.length();\n    }\n\n    public int getAppearanceOrder() {\n        return appearanceOrder;\n    }\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (o == null || getClass() != o.getClass()) return false;\n        MyTag tagPair = (MyTag) o;\n        return Objects.equals(tagNumbered, tagPair.tagNumbered);\n    }\n\n    @Override\n    public int hashCode() {\n        return Objects.hash(tagNumbered);\n    }\n\n    @Override\n    public String toString() {\n        return tag;\n    }\n}\n\nclass Record {\n\n    //Tag chain for the user\n    private String tag;\n\n    //Unique tag chain for identification\n    private String tagNumbered;\n\n    private String value;\n\n    private int appearanceOrder;\n\n    public Record(String tag, String tagNumbered, String value, int appearanceOrder) {\n        this.tag = tag;\n        this.tagNumbered = tagNumbered;\n        this.value = value;\n        this.appearanceOrder = appearanceOrder;\n    }\n\n    public String getTag() {\n        return tag;\n    }\n\n    public String getTagNumbered() {\n        return tagNumbered;\n    }\n\n    public int getTagNumberedLen() {\n        return tagNumbered == null ? 0 : tagNumbered.length();\n    }\n\n    public String getValue() {\n        return value;\n    }\n\n    public int getAppearanceOrder() {\n        return appearanceOrder;\n    }\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (o == null || getClass() != o.getClass()) return false;\n        Record record = (Record) o;\n        return Objects.equals(tagNumbered, record.tagNumbered);\n    }\n\n    @Override\n    public int hashCode() {\n        return Objects.hash(tagNumbered);\n    }\n\n    @Override\n    public String toString() {\n        return tag + &quot; - &quot; + tagNumbered + &quot; - &quot; + value;\n    }\n}\n</code></pre>\n"},{"tags":["java","kotlin","jasper-reports","ktor"],"comments":[{"owner":{"account_id":469619,"reputation":22464,"user_id":876298,"display_name":"Alex K"},"score":0,"creation_date":1656933717,"post_id":72854781,"comment_id":128684117,"body_markdown":"It is better to post the full stack trace","body":"It is better to post the full stack trace"},{"owner":{"account_id":469619,"reputation":22464,"user_id":876298,"display_name":"Alex K"},"score":0,"creation_date":1656950352,"post_id":72854781,"comment_id":128689865,"body_markdown":"Maybe this post will help you: [JasperReports: filling a report throws an exception &quot;Class not found when loading object from file&quot;](https://stackoverflow.com/q/6649886/876298)","body":"Maybe this post will help you: <a href=\"https://stackoverflow.com/q/6649886/876298\">JasperReports: filling a report throws an exception &quot;Class not found when loading object from file&quot;</a>"}],"owner":{"account_id":25264420,"reputation":3,"user_id":19094834,"display_name":"CuffsCPS"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":238,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1656953934,"creation_date":1656928113,"question_id":72854781,"body_markdown":"I got stuck in creating PDF reports. I created a report with Jaspersoft Studio. Now, I want to fill the reports using my Ktor back-end. To activate the function, I&#39;m using postman. I send this  [ /report/1 ] with get to my back-end.\r\n\r\nAs result, i get this error message:\r\n\r\n&gt; net.sf.jasperreports.engine.JRException:  Class not found when loading\r\n&gt; object from file: C:\\path\\Test.jasper.\r\n\r\nTo fill the report, I use these functions:\r\n\r\n```\r\nfun createReport (userID: String) {\r\n    val id = userID\r\n    JasperCreate(id)\r\n}\r\n\r\nfun JasperCreate (userid: String) {\r\n    val parameters = HashMap&lt;String, Any&gt;()\r\n    parameters.put(&quot;ID&quot;, userid)\r\n    val path = &quot;C://MyFlowDemo/Jasper/Vorlage/Test.jasper&quot;\r\n    val connection = DriverManager.getConnection(&quot;jdbc:mysql://localhost/htz&quot;, &quot;android&quot;, &quot;myflow&quot;)\r\n    val jasperPrint = JasperFillManager.fillReport(path, parameters, connection)\r\n    JasperReport(jasperPrint)\r\n}\r\n\r\nfun JasperReport (jasperPrint: JasperPrint) {\r\n    val exporter = JRPdfExporter()\r\n    exporter.setExporterInput(SimpleExporterInput(jasperPrint))\r\n    exporter.setExporterOutput(SimpleOutputStreamExporterOutput(&quot;C://MyFlowDemo/Dokument/Test.pdf&quot;))\r\n    val configuration = SimplePdfExporterConfiguration()\r\n    exporter.setConfiguration(configuration)\r\n    exporter.exportReport()\r\n}\r\n\r\n// JasperReport\r\nget(&quot;/report/{p1}&quot;) {\r\n    val pUserID = call.parameters[&quot;p1&quot;]\r\n    db.createReport(pUserID!!)\r\n    call.respondText { &quot;Report finished&quot; }\r\n}\r\n```\r\n\r\nWhen I create a PDF of Test.jasper with Jaspersoft Studio, I send ID 1 to create a PDF and it works. \r\n\r\nAnyone knows, which class is not found or how I find out which class is needed?\r\n\r\n\r\n\r\n","title":"Using Ktor Backend for create Jasperreports","body":"<p>I got stuck in creating PDF reports. I created a report with Jaspersoft Studio. Now, I want to fill the reports using my Ktor back-end. To activate the function, I'm using postman. I send this  [ /report/1 ] with get to my back-end.</p>\n<p>As result, i get this error message:</p>\n<blockquote>\n<p>net.sf.jasperreports.engine.JRException:  Class not found when loading\nobject from file: C:\\path\\Test.jasper.</p>\n</blockquote>\n<p>To fill the report, I use these functions:</p>\n<pre><code>fun createReport (userID: String) {\n    val id = userID\n    JasperCreate(id)\n}\n\nfun JasperCreate (userid: String) {\n    val parameters = HashMap&lt;String, Any&gt;()\n    parameters.put(&quot;ID&quot;, userid)\n    val path = &quot;C://MyFlowDemo/Jasper/Vorlage/Test.jasper&quot;\n    val connection = DriverManager.getConnection(&quot;jdbc:mysql://localhost/htz&quot;, &quot;android&quot;, &quot;myflow&quot;)\n    val jasperPrint = JasperFillManager.fillReport(path, parameters, connection)\n    JasperReport(jasperPrint)\n}\n\nfun JasperReport (jasperPrint: JasperPrint) {\n    val exporter = JRPdfExporter()\n    exporter.setExporterInput(SimpleExporterInput(jasperPrint))\n    exporter.setExporterOutput(SimpleOutputStreamExporterOutput(&quot;C://MyFlowDemo/Dokument/Test.pdf&quot;))\n    val configuration = SimplePdfExporterConfiguration()\n    exporter.setConfiguration(configuration)\n    exporter.exportReport()\n}\n\n// JasperReport\nget(&quot;/report/{p1}&quot;) {\n    val pUserID = call.parameters[&quot;p1&quot;]\n    db.createReport(pUserID!!)\n    call.respondText { &quot;Report finished&quot; }\n}\n</code></pre>\n<p>When I create a PDF of Test.jasper with Jaspersoft Studio, I send ID 1 to create a PDF and it works.</p>\n<p>Anyone knows, which class is not found or how I find out which class is needed?</p>\n"},{"tags":["java","spring-boot","apache-kafka","video-streaming"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1656952680,"post_id":72853095,"comment_id":128690600,"body_markdown":"Kafka isn&#39;t really a proper solution for this. RTMP protocol would be better","body":"Kafka isn&#39;t really a proper solution for this. RTMP protocol would be better"}],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656953740,"creation_date":1656953740,"answer_id":72859953,"question_id":72853095,"body_markdown":"&gt; send byte by byte of a video from producer  \r\n\r\nLiterally? Don&#39;t use StringSerializer. You&#39;d loop over the array and use ByteArraySerializer \r\n\r\n```\r\nbyte[] array = Files.readAllBytes(Paths.get(&quot;Test.webm&quot;));\r\nString kafkaTopic = &quot;testTopic&quot;;\r\n           \r\nfor (byte b : bytes) {\r\n    kafkaTemplate.send(kafkaTopic, new byte[] {b});\r\n} \r\n \r\n```\r\n\r\nBut\r\n\r\n1. You can only ever produce one file into the same topic at a time - multiple producers will have mixed file bytes \r\n2. You must modify Kafka producer properties to use transactions, no retries, and only one in flight request max. Otherwise, bytes get dropped, duplicated, or reordered. \r\n3. Your topic can only have one partition. Otherwise, bytes get reordered\r\n\r\nNow, you could chunk the file into larger byte slices, but then re-ordering matters even more. \r\n\r\nAs far as the consumer goes - there&#39;s no straightforward way to know which byte is the end of the file/stream, but you&#39;d need to have some if statement in the listener/poll loop.\r\n\r\n---\r\n\r\nUltimately, Kafka is not designed for file transfers or A/V streaming, and largest reasonable record size would only be a few MB. ","title":"How can send byte by byte of a video from producer and collect each byte and convert it to the array","body":"<blockquote>\n<p>send byte by byte of a video from producer</p>\n</blockquote>\n<p>Literally? Don't use StringSerializer. You'd loop over the array and use ByteArraySerializer</p>\n<pre><code>byte[] array = Files.readAllBytes(Paths.get(&quot;Test.webm&quot;));\nString kafkaTopic = &quot;testTopic&quot;;\n           \nfor (byte b : bytes) {\n    kafkaTemplate.send(kafkaTopic, new byte[] {b});\n} \n \n</code></pre>\n<p>But</p>\n<ol>\n<li>You can only ever produce one file into the same topic at a time - multiple producers will have mixed file bytes</li>\n<li>You must modify Kafka producer properties to use transactions, no retries, and only one in flight request max. Otherwise, bytes get dropped, duplicated, or reordered.</li>\n<li>Your topic can only have one partition. Otherwise, bytes get reordered</li>\n</ol>\n<p>Now, you could chunk the file into larger byte slices, but then re-ordering matters even more.</p>\n<p>As far as the consumer goes - there's no straightforward way to know which byte is the end of the file/stream, but you'd need to have some if statement in the listener/poll loop.</p>\n<hr />\n<p>Ultimately, Kafka is not designed for file transfers or A/V streaming, and largest reasonable record size would only be a few MB.</p>\n"}],"owner":{"account_id":25690825,"reputation":1,"user_id":19452266,"display_name":"Prakash Singh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":446,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656953740,"creation_date":1656919523,"question_id":72853095,"body_markdown":"This is producer config.\r\n``` package com.kafka.kafkavideostreaming.KafkaConfig;\r\n\r\nimport org.apache.kafka.clients.producer.ProducerConfig;\r\nimport org.apache.kafka.common.serialization.StringSerializer;\r\nimport org.springframework.beans.factory.annotation.Value;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.kafka.core.DefaultKafkaProducerFactory;\r\nimport org.springframework.kafka.core.KafkaTemplate;\r\nimport org.springframework.kafka.core.ProducerFactory;\r\n\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\n\r\n@Configuration\r\npublic class KafkaProducerConfig {\r\n\r\n\t@Value(&quot;${spring.kafka.bootstrap-servers}&quot;)\r\n\tprivate String bootStrapServers;\r\n\r\n\tpublic Map&lt;String, Object&gt; producerConfig() {\r\n\t\tHashMap&lt;String, Object&gt; props = new HashMap&lt;&gt;();\r\n\t\tprops.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, bootStrapServers);\r\n\t\tprops.put(&quot;key.serializer&quot;, &quot;org.apache.kafka.common.serialization.StringSerializer&quot;);\r\n\t\tprops.put(&quot;value.serializer&quot;, &quot;org.apache.kafka.common.serialization.StringSerializer&quot;);\r\n\t\tprops.put(ProducerConfig.MAX_REQUEST_SIZE_CONFIG, &quot;20971520&quot;);\r\n\t\treturn props;\r\n\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic ProducerFactory&lt;String, String&gt; producerFactory() {\r\n\r\n\t\treturn new DefaultKafkaProducerFactory&lt;String, String&gt;(producerConfig());\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic KafkaTemplate&lt;String, String&gt; kafkaTemplate(ProducerFactory&lt;String, String&gt; producerFactory) {\r\n\t\treturn new KafkaTemplate&lt;String, String&gt;(producerFactory);\r\n\r\n\t}\r\n}\r\n```\r\n\r\n\r\nThis is consumer config\r\n\r\n```package com.kafka.kafkavideostreaming.KafkaConfig;\r\n\r\nimport org.apache.kafka.clients.consumer.ConsumerConfig;\r\nimport org.apache.kafka.common.serialization.StringSerializer;\r\nimport org.springframework.beans.factory.annotation.Value;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.kafka.config.ConcurrentKafkaListenerContainerFactory;\r\nimport org.springframework.kafka.config.KafkaListenerContainerFactory;\r\nimport org.springframework.kafka.core.ConsumerFactory;\r\nimport org.springframework.kafka.core.DefaultKafkaConsumerFactory;\r\nimport org.springframework.kafka.listener.ConcurrentMessageListenerContainer;\r\n\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\n\r\n@Configuration\r\npublic class KafkaConsumerConfig {\r\n\r\n\t@Value(&quot;${spring.kafka.bootstrap-servers}&quot;)\r\n\tprivate String bootStrapServers;\r\n\r\n\tpublic Map&lt;String, Object&gt; consumerConfig() {\r\n\t\tHashMap&lt;String, Object&gt; props = new HashMap&lt;&gt;();\r\n\t\tprops.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, bootStrapServers);\r\n\t\tprops.put(&quot;key.deserializer&quot;, &quot;org.apache.kafka.common.serialization.StringDeserializer&quot;);\r\n\t\tprops.put(&quot;value.deserializer&quot;, &quot;org.apache.kafka.common.serialization.ByteArrayDeserializer&quot;);\r\n\t\treturn props;\r\n\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic ConsumerFactory&lt;String, String&gt; consumerFactory() {\r\n\r\n\t\treturn new DefaultKafkaConsumerFactory&lt;String, String&gt;(consumerConfig());\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic KafkaListenerContainerFactory&lt;ConcurrentMessageListenerContainer&lt;String, String&gt;&gt; factory() {\r\n\r\n\t\tConcurrentKafkaListenerContainerFactory&lt;String, String&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\r\n\t\tfactory.setConsumerFactory(consumerFactory());\r\n\t\treturn factory;\r\n\t}\r\n}\r\n ```\r\n\r\nThis is kafka template.\r\n\r\n``` package com.kafka.kafkavideostreaming.Services;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.kafka.core.KafkaTemplate;\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport java.io.IOException;\r\nimport java.nio.charset.StandardCharsets;\r\nimport java.nio.file.Files;\r\nimport java.nio.file.Paths;\r\n\r\n@Service\r\npublic class KafkaSender {\r\n\r\n    @Autowired\r\n    private KafkaTemplate&lt;String, String&gt; kafkaTemplate;\r\n    String kafkaTopic = &quot;testTopic&quot;;\r\n    public void send() {\r\n        byte[] array = null;\r\n\r\n        try {\r\n            array = Files.readAllBytes(Paths.get(&quot;Test.webm&quot;));\r\n            String kafkaTopic = &quot;testTopic&quot;;\r\n            String encoded = java.util.Base64.getEncoder().encodeToString(array);\r\n            kafkaTemplate.send(kafkaTopic, encoded);\r\n\r\n        } catch (IOException e) {\r\n            // TODO Auto-generated catch block\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\nThis is listener.\r\n``` package com.kafka.kafkavideostreaming.KafkaConfig;\r\n\r\nimport org.springframework.kafka.annotation.KafkaListener;\r\nimport org.springframework.stereotype.Component;\r\n\r\nimport java.io.FileOutputStream;\r\nimport java.io.IOException;\r\nimport java.lang.reflect.Array;\r\nimport java.nio.charset.StandardCharsets;\r\nimport java.util.Base64;\r\n\r\n@Component\r\npublic class Listener {\r\n\r\n\t@KafkaListener(topics = &quot;testTopic&quot;, groupId = &quot;foo&quot;)\r\n\tpublic void listenGroupFoo(String message){\r\n\r\n\t\t\tbyte[] decoded = java.util.Base64.getDecoder().decode(message);\r\n\r\n\t\ttry {\r\n\t\t\tFileOutputStream out;\r\n\t\t\tout = new FileOutputStream(&quot;video1.mp4&quot;);\r\n\t\t\tout.write(decoded);\r\n\t\t\tout.close();\r\n\t\t} catch (IOException e) {\r\n\t\t\tthrow new RuntimeException(e);\r\n\t\t}\r\n\r\n\t}\r\n}\r\n```\r\n\r\n\r\nCurrently I am sending whole byte array but it there is size limitation on kafka I could not sent larger size for eg: 1GB\r\nPlease let me know how can we implementation so that i can send byte by byte of a video from producer and collect at consumer and convert all the bytes to a array.","title":"How can send byte by byte of a video from producer and collect each byte and convert it to the array","body":"<p>This is producer config.</p>\n<pre><code>\nimport org.apache.kafka.clients.producer.ProducerConfig;\nimport org.apache.kafka.common.serialization.StringSerializer;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.kafka.core.DefaultKafkaProducerFactory;\nimport org.springframework.kafka.core.KafkaTemplate;\nimport org.springframework.kafka.core.ProducerFactory;\n\nimport java.util.HashMap;\nimport java.util.Map;\n\n@Configuration\npublic class KafkaProducerConfig {\n\n    @Value(&quot;${spring.kafka.bootstrap-servers}&quot;)\n    private String bootStrapServers;\n\n    public Map&lt;String, Object&gt; producerConfig() {\n        HashMap&lt;String, Object&gt; props = new HashMap&lt;&gt;();\n        props.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, bootStrapServers);\n        props.put(&quot;key.serializer&quot;, &quot;org.apache.kafka.common.serialization.StringSerializer&quot;);\n        props.put(&quot;value.serializer&quot;, &quot;org.apache.kafka.common.serialization.StringSerializer&quot;);\n        props.put(ProducerConfig.MAX_REQUEST_SIZE_CONFIG, &quot;20971520&quot;);\n        return props;\n\n    }\n\n    @Bean\n    public ProducerFactory&lt;String, String&gt; producerFactory() {\n\n        return new DefaultKafkaProducerFactory&lt;String, String&gt;(producerConfig());\n    }\n\n    @Bean\n    public KafkaTemplate&lt;String, String&gt; kafkaTemplate(ProducerFactory&lt;String, String&gt; producerFactory) {\n        return new KafkaTemplate&lt;String, String&gt;(producerFactory);\n\n    }\n}\n</code></pre>\n<p>This is consumer config</p>\n<pre><code>\nimport org.apache.kafka.clients.consumer.ConsumerConfig;\nimport org.apache.kafka.common.serialization.StringSerializer;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.kafka.config.ConcurrentKafkaListenerContainerFactory;\nimport org.springframework.kafka.config.KafkaListenerContainerFactory;\nimport org.springframework.kafka.core.ConsumerFactory;\nimport org.springframework.kafka.core.DefaultKafkaConsumerFactory;\nimport org.springframework.kafka.listener.ConcurrentMessageListenerContainer;\n\nimport java.util.HashMap;\nimport java.util.Map;\n\n@Configuration\npublic class KafkaConsumerConfig {\n\n    @Value(&quot;${spring.kafka.bootstrap-servers}&quot;)\n    private String bootStrapServers;\n\n    public Map&lt;String, Object&gt; consumerConfig() {\n        HashMap&lt;String, Object&gt; props = new HashMap&lt;&gt;();\n        props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, bootStrapServers);\n        props.put(&quot;key.deserializer&quot;, &quot;org.apache.kafka.common.serialization.StringDeserializer&quot;);\n        props.put(&quot;value.deserializer&quot;, &quot;org.apache.kafka.common.serialization.ByteArrayDeserializer&quot;);\n        return props;\n\n    }\n\n    @Bean\n    public ConsumerFactory&lt;String, String&gt; consumerFactory() {\n\n        return new DefaultKafkaConsumerFactory&lt;String, String&gt;(consumerConfig());\n    }\n\n    @Bean\n    public KafkaListenerContainerFactory&lt;ConcurrentMessageListenerContainer&lt;String, String&gt;&gt; factory() {\n\n        ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\n        factory.setConsumerFactory(consumerFactory());\n        return factory;\n    }\n}\n</code></pre>\n<p>This is kafka template.</p>\n<pre><code>\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.kafka.core.KafkaTemplate;\nimport org.springframework.stereotype.Service;\n\nimport java.io.IOException;\nimport java.nio.charset.StandardCharsets;\nimport java.nio.file.Files;\nimport java.nio.file.Paths;\n\n@Service\npublic class KafkaSender {\n\n    @Autowired\n    private KafkaTemplate&lt;String, String&gt; kafkaTemplate;\n    String kafkaTopic = &quot;testTopic&quot;;\n    public void send() {\n        byte[] array = null;\n\n        try {\n            array = Files.readAllBytes(Paths.get(&quot;Test.webm&quot;));\n            String kafkaTopic = &quot;testTopic&quot;;\n            String encoded = java.util.Base64.getEncoder().encodeToString(array);\n            kafkaTemplate.send(kafkaTopic, encoded);\n\n        } catch (IOException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n    }\n}\n\n</code></pre>\n<p>This is listener.</p>\n<pre><code>\nimport org.springframework.kafka.annotation.KafkaListener;\nimport org.springframework.stereotype.Component;\n\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.lang.reflect.Array;\nimport java.nio.charset.StandardCharsets;\nimport java.util.Base64;\n\n@Component\npublic class Listener {\n\n    @KafkaListener(topics = &quot;testTopic&quot;, groupId = &quot;foo&quot;)\n    public void listenGroupFoo(String message){\n\n            byte[] decoded = java.util.Base64.getDecoder().decode(message);\n\n        try {\n            FileOutputStream out;\n            out = new FileOutputStream(&quot;video1.mp4&quot;);\n            out.write(decoded);\n            out.close();\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n\n    }\n}\n</code></pre>\n<p>Currently I am sending whole byte array but it there is size limitation on kafka I could not sent larger size for eg: 1GB\nPlease let me know how can we implementation so that i can send byte by byte of a video from producer and collect at consumer and convert all the bytes to a array.</p>\n"},{"tags":["java","spring","spring-boot","jdbc","datasource"],"answers":[{"tags":[],"owner":{"account_id":897020,"reputation":2337,"user_id":934040,"display_name":"Anton N"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1527058628,"creation_date":1527040282,"answer_id":50478730,"question_id":50478467,"body_markdown":"The Spring Security configuration should applied with the `Configuration` annotation.\r\nRemove `@RequestMapping(&quot;cheese&quot;)` from `SecurityConfig` \r\n\r\n\r\nThe correct configuration:\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class SecurityConfig extends WebSecurityConfigurerAdapter ","title":"Cannot Autowire DataSource in Spring Boot Project","body":"<p>The Spring Security configuration should applied with the <code>Configuration</code> annotation.\nRemove <code>@RequestMapping(\"cheese\")</code> from <code>SecurityConfig</code> </p>\n\n<p>The correct configuration:</p>\n\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class SecurityConfig extends WebSecurityConfigurerAdapter \n</code></pre>\n"},{"tags":[],"owner":{"account_id":5814697,"reputation":41,"user_id":4584722,"display_name":"Bilal Abdulkany"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1527069890,"creation_date":1527069890,"answer_id":50485442,"question_id":50478467,"body_markdown":"Apart from the `@Configuration` annotation, add `@EnableAutoConfiguration` which would attempt and configure code.\r\n\r\n\r\n        @Configuration\r\n        @EnableAutoConfiguration\r\n        public class SecurityConfig extends WebSecurityConfigurerAdapter \r\nAlso, rebuild your sources afterwards.","title":"Cannot Autowire DataSource in Spring Boot Project","body":"<p>Apart from the <code>@Configuration</code> annotation, add <code>@EnableAutoConfiguration</code> which would attempt and configure code.</p>\n\n<pre><code>    @Configuration\n    @EnableAutoConfiguration\n    public class SecurityConfig extends WebSecurityConfigurerAdapter \n</code></pre>\n\n<p>Also, rebuild your sources afterwards.</p>\n"},{"tags":[],"owner":{"account_id":25724794,"reputation":1,"user_id":19481325,"display_name":"entfane"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656953542,"creation_date":1656953542,"answer_id":72859917,"question_id":50478467,"body_markdown":"Had the same issue, I created a separate config class where I defined a DataSource bean\r\n\r\n    @Bean\r\n        DataSource dataSource() {\r\n            DriverManagerDataSource dataSource = new DriverManagerDataSource();\r\n            dataSource.setUrl(&quot;database_url&quot;);\r\n            dataSource.setUsername(&quot;username&quot;);\r\n            dataSource.setPassword(&quot;password&quot;);\r\n            dataSource.setDriverClassName(&quot;com.mysql.jdbc.Driver&quot;);\r\n            return dataSource;\r\n        }\r\n\r\nand in the main config file (in your case Security config) left DataSource @Autowired.\r\n\r\n    @Autowired\r\n        DataSource dataSource;\r\n    \r\n        @Autowired\r\n        protected void configAuthentication(AuthenticationManagerBuilder auth) throws Exception {\r\n            auth.jdbcAuthentication().dataSource(dataSource);\r\n        }\r\n\r\nAnd it worked. In case it is useful, I used these Gradle dependencies - \r\n\r\n    implementation &#39;mysql:mysql-connector-java:8.0.18&#39;\r\n    implementation group: &#39;org.springframework&#39;, name: &#39;spring-jdbc&#39;, version: &#39;5.3.21&#39;","title":"Cannot Autowire DataSource in Spring Boot Project","body":"<p>Had the same issue, I created a separate config class where I defined a DataSource bean</p>\n<pre><code>@Bean\n    DataSource dataSource() {\n        DriverManagerDataSource dataSource = new DriverManagerDataSource();\n        dataSource.setUrl(&quot;database_url&quot;);\n        dataSource.setUsername(&quot;username&quot;);\n        dataSource.setPassword(&quot;password&quot;);\n        dataSource.setDriverClassName(&quot;com.mysql.jdbc.Driver&quot;);\n        return dataSource;\n    }\n</code></pre>\n<p>and in the main config file (in your case Security config) left DataSource @Autowired.</p>\n<pre><code>@Autowired\n    DataSource dataSource;\n\n    @Autowired\n    protected void configAuthentication(AuthenticationManagerBuilder auth) throws Exception {\n        auth.jdbcAuthentication().dataSource(dataSource);\n    }\n</code></pre>\n<p>And it worked. In case it is useful, I used these Gradle dependencies -</p>\n<pre><code>implementation 'mysql:mysql-connector-java:8.0.18'\nimplementation group: 'org.springframework', name: 'spring-jdbc', version: '5.3.21'\n</code></pre>\n"}],"owner":{"account_id":2803565,"reputation":641,"user_id":2411290,"accept_rate":68,"display_name":"user2411290"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3807,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1656953542,"creation_date":1527037882,"question_id":50478467,"body_markdown":"I am trying to build a simple Spring Boot CRUD application that also has login and signup options with spring boot security. I&#39;m already working with a MySQL database and its working fine to persist the data for my application.\r\n\r\nThe problem is that, in trying to create my jdbcAuthentication, in my securityConfig class, it says that I cannot autowire Datasource, and that there are no beans of &#39;DataSource&#39; type found (again, I have used my MySQL database successfully for this project, for a while now). It also automatically imports the javax.sql.DataSource import when I type it in, so it does recognize it.\r\n\r\nI tried to search through similar questions, but just could not get it to work.\r\n\r\nHere is my code:\r\n\r\n**Test2Application.java**\r\n\r\n    package com.example.demo;\r\n\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n \r\n    @SpringBootApplication\r\n    public class Test2Application {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(Test2Application.class, args);\r\n\t}\r\n    }\r\n\r\n**SecurityConfig.java**\r\n\r\n    package com.example.demo;\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\r\n    import org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\n    import org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\n    import org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    \r\n    import javax.sql.DataSource;\r\n    \r\n    @EnableWebSecurity\r\n    @RequestMapping(&quot;cheese&quot;)\r\n    public class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n    \r\n        @Autowired\r\n        private DataSource dataSource;\r\n    \r\n        @Override\r\n        protected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n            auth.jdbcAuthentication().dataSource(dataSource)\r\n                    .usersByUsernameQuery(&quot;select email as principal, password as credentials, true from user where email=?&quot;);\r\n        }\r\n    \r\n        @Override\r\n        protected void configure(HttpSecurity http) throws Exception{\r\n            http\r\n                    .authorizeRequests()\r\n                    .antMatchers(\r\n                            &quot;/cheese/index&quot;,\r\n                            &quot;/cheese/&quot;,\r\n                            &quot;/**/webjars/**&quot;,\r\n                            &quot;/cheese/signup&quot;,\r\n                            &quot;/cheese/login&quot;,\r\n                            &quot;/cheese/account&quot;,\r\n                            &quot;/cheese/add&quot;,\r\n                            &quot;/cheese/remove&quot;,\r\n                            &quot;/cheese/success&quot;).permitAll()\r\n                    .anyRequest().authenticated()\r\n                    .and()\r\n                    .formLogin().loginPage(&quot;/cheese/login&quot;)\r\n                    .permitAll();\r\n    \r\n           http.csrf().disable();\r\n        }\r\n    }\r\n\r\n**UserController.java**\r\n\r\n    package com.example.demo.controllers;\r\n    \r\n    import com.example.demo.models.Customer;\r\n    import com.example.demo.models.data.CustomerDao;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Controller;\r\n    import org.springframework.ui.Model;\r\n    import org.springframework.validation.Errors;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.ModelAttribute;\r\n    import org.springframework.web.bind.annotation.PostMapping;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    \r\n    @Controller\r\n    @RequestMapping(&quot;cheese&quot;)\r\n    public class UserController {\r\n    \r\n        @Autowired\r\n        private CustomerDao customerDao;\r\n    \r\n        @RequestMapping(value = &quot;login&quot;)\r\n        public String loginPage(Model model) {\r\n            model.addAttribute(&quot;title&quot;, &quot;Login Page&quot;);\r\n            return &quot;cheese/login&quot;;\r\n        }\r\n    \r\n        @RequestMapping(value = &quot;account&quot;)\r\n        public String accountInfo(Model model) {\r\n            model.addAttribute(&quot;title&quot;, &quot;Account Page&quot;);\r\n            return &quot;cheese/account&quot;;\r\n        }\r\n    \r\n        @GetMapping(&quot;signup&quot;)\r\n        public String displaySignUpForm(Model model) {\r\n            model.addAttribute(&quot;title&quot;, &quot;Sign Up&quot;);\r\n            model.addAttribute(&quot;customer&quot;, new Customer());\r\n            return &quot;cheese/signup&quot;;\r\n        }\r\n    \r\n        @PostMapping(value = &quot;signup&quot;)\r\n        public String processSignUp(Model model, @ModelAttribute Customer customer, Errors errors) {\r\n    \r\n            if (errors.hasErrors()) {\r\n                return &quot;cheese/signup&quot;;\r\n            }\r\n    \r\n            customerDao.save(customer);\r\n            return &quot;cheese/success&quot;;\r\n        }\r\n    }\r\n\r\n**Application.Properties**\r\n\r\n    spring.datasource.url=jdbc:mysql://localhost:8889/******?useSSL=false\r\n    spring.datasource.username=****\r\n    spring.datasource.password=******\r\n    \r\n    spring.jpa.database=MYSQL\r\n    \r\n    spring.jpa.hibernate.ddl-auto = update\r\n    \r\n    spring.jpa.show-sql=false\r\n    \r\n    spring.jpa.properties.hibernate.dialect = org.hibernate.dialect.MySQL5Dialect\r\n\r\n**Pom.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n    \t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;test2&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n    \r\n    \t&lt;name&gt;test2&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.0.2.RELEASE&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    \t\t&lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n    \t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.webjars&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;bootstrap&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.webjars&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jquery&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.webjars&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;webjars-locator&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;addResources&gt;true&lt;/addResources&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\n","title":"Cannot Autowire DataSource in Spring Boot Project","body":"<p>I am trying to build a simple Spring Boot CRUD application that also has login and signup options with spring boot security. I'm already working with a MySQL database and its working fine to persist the data for my application.</p>\n\n<p>The problem is that, in trying to create my jdbcAuthentication, in my securityConfig class, it says that I cannot autowire Datasource, and that there are no beans of 'DataSource' type found (again, I have used my MySQL database successfully for this project, for a while now). It also automatically imports the javax.sql.DataSource import when I type it in, so it does recognize it.</p>\n\n<p>I tried to search through similar questions, but just could not get it to work.</p>\n\n<p>Here is my code:</p>\n\n<p><strong>Test2Application.java</strong></p>\n\n<pre><code>package com.example.demo;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class Test2Application {\n\npublic static void main(String[] args) {\n    SpringApplication.run(Test2Application.class, args);\n}\n}\n</code></pre>\n\n<p><strong>SecurityConfig.java</strong></p>\n\n<pre><code>package com.example.demo;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\nimport org.springframework.web.bind.annotation.RequestMapping;\n\nimport javax.sql.DataSource;\n\n@EnableWebSecurity\n@RequestMapping(\"cheese\")\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n\n    @Autowired\n    private DataSource dataSource;\n\n    @Override\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n        auth.jdbcAuthentication().dataSource(dataSource)\n                .usersByUsernameQuery(\"select email as principal, password as credentials, true from user where email=?\");\n    }\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception{\n        http\n                .authorizeRequests()\n                .antMatchers(\n                        \"/cheese/index\",\n                        \"/cheese/\",\n                        \"/**/webjars/**\",\n                        \"/cheese/signup\",\n                        \"/cheese/login\",\n                        \"/cheese/account\",\n                        \"/cheese/add\",\n                        \"/cheese/remove\",\n                        \"/cheese/success\").permitAll()\n                .anyRequest().authenticated()\n                .and()\n                .formLogin().loginPage(\"/cheese/login\")\n                .permitAll();\n\n       http.csrf().disable();\n    }\n}\n</code></pre>\n\n<p><strong>UserController.java</strong></p>\n\n<pre><code>package com.example.demo.controllers;\n\nimport com.example.demo.models.Customer;\nimport com.example.demo.models.data.CustomerDao;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.Model;\nimport org.springframework.validation.Errors;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.ModelAttribute;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestMapping;\n\n@Controller\n@RequestMapping(\"cheese\")\npublic class UserController {\n\n    @Autowired\n    private CustomerDao customerDao;\n\n    @RequestMapping(value = \"login\")\n    public String loginPage(Model model) {\n        model.addAttribute(\"title\", \"Login Page\");\n        return \"cheese/login\";\n    }\n\n    @RequestMapping(value = \"account\")\n    public String accountInfo(Model model) {\n        model.addAttribute(\"title\", \"Account Page\");\n        return \"cheese/account\";\n    }\n\n    @GetMapping(\"signup\")\n    public String displaySignUpForm(Model model) {\n        model.addAttribute(\"title\", \"Sign Up\");\n        model.addAttribute(\"customer\", new Customer());\n        return \"cheese/signup\";\n    }\n\n    @PostMapping(value = \"signup\")\n    public String processSignUp(Model model, @ModelAttribute Customer customer, Errors errors) {\n\n        if (errors.hasErrors()) {\n            return \"cheese/signup\";\n        }\n\n        customerDao.save(customer);\n        return \"cheese/success\";\n    }\n}\n</code></pre>\n\n<p><strong>Application.Properties</strong></p>\n\n<pre><code>spring.datasource.url=jdbc:mysql://localhost:8889/******?useSSL=false\nspring.datasource.username=****\nspring.datasource.password=******\n\nspring.jpa.database=MYSQL\n\nspring.jpa.hibernate.ddl-auto = update\n\nspring.jpa.show-sql=false\n\nspring.jpa.properties.hibernate.dialect = org.hibernate.dialect.MySQL5Dialect\n</code></pre>\n\n<p><strong>Pom.xml</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;test2&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;name&gt;test2&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.0.2.RELEASE&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.webjars&lt;/groupId&gt;\n            &lt;artifactId&gt;bootstrap&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.webjars&lt;/groupId&gt;\n            &lt;artifactId&gt;jquery&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.webjars&lt;/groupId&gt;\n            &lt;artifactId&gt;webjars-locator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;addResources&gt;true&lt;/addResources&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","generics","wildcard"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1656951878,"post_id":72859651,"comment_id":128690365,"body_markdown":"What do you mean by &quot;nicest&quot;?","body":"What do you mean by &quot;nicest&quot;?"},{"owner":{"account_id":9503843,"reputation":485,"user_id":7064042,"display_name":"kotycheese"},"score":0,"creation_date":1656952325,"post_id":72859651,"comment_id":128690494,"body_markdown":"cleanest, easiest to use/understand, most practical... something like this","body":"cleanest, easiest to use/understand, most practical... something like this"},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1656952865,"post_id":72859651,"comment_id":128690645,"body_markdown":"Well, `&lt;?&gt;` means *&quot;an unknown but specific type&quot;*. But with `?`, you also don&#39;t really (seem to) care about the type. However, adding to the list suggests you *do* care about the type of list. If you want to retain compiler safety, you should just add a type argument to the class, if that particular class has a field with a generic type. So, #3.","body":"Well, <code>&lt;?&gt;</code> means <i>&quot;an unknown but specific type&quot;</i>. But with <code>?</code>, you also don&#39;t really (seem to) care about the type. However, adding to the list suggests you <i>do</i> care about the type of list. If you want to retain compiler safety, you should just add a type argument to the class, if that particular class has a field with a generic type. So, #3."},{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1656952963,"post_id":72859651,"comment_id":128690671,"body_markdown":"@MCEmperor that&#39;s a bit myopic. What OP wants to do is &#39;accept any list, I do not care about its type, it has no bearing whatsoever on the semantics of this method and/or type the method is in whatosever&#39; - as well as &#39;I would like to copy one of the elements in the list to the end&#39;, which is eminently safe, type-wise, on any `j.u.List`. As OP concluded, you can&#39;t without some workarounds. It&#39;s fair to ask if there&#39;s a workaround that they missed.","body":"@MCEmperor that&#39;s a bit myopic. What OP wants to do is &#39;accept any list, I do not care about its type, it has no bearing whatsoever on the semantics of this method and/or type the method is in whatosever&#39; - as well as &#39;I would like to copy one of the elements in the list to the end&#39;, which is eminently safe, type-wise, on any <code>j.u.List</code>. As OP concluded, you can&#39;t without some workarounds. It&#39;s fair to ask if there&#39;s a workaround that they missed."},{"owner":{"account_id":5916600,"reputation":2324,"user_id":4655217,"display_name":"geobreze"},"score":0,"creation_date":1656953745,"post_id":72859651,"comment_id":128690847,"body_markdown":"I would say that there is no &quot;ideal&quot; approach to accomplishing that. Java std library goes with raw casting in `java.util.Collections#swap(java.util.List&lt;?&gt;, int, int)` method. But also in this class, there is a helper method `java.util.Collections#rotate1` which uses generics to get in one line and set in another.","body":"I would say that there is no &quot;ideal&quot; approach to accomplishing that. Java std library goes with raw casting in <code>java.util.Collections#swap(java.util.List&lt;?&gt;, int, int)</code> method. But also in this class, there is a helper method <code>java.util.Collections#rotate1</code> which uses generics to get in one line and set in another."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1656953439,"creation_date":1656953439,"answer_id":72859901,"question_id":72859651,"body_markdown":"&gt; As I understand it, Java compiler should internally store the type as &quot;capture of ?&quot; and it should recognize, that the types used in add/get match.\r\n\r\nThat&#39;s not what the capturing system does. Unfortunately.\r\n\r\n&gt; this works but it would be impractical to have these methods for all possible combinations\r\n\r\n&#39;all possible combinations&#39;? There&#39;s just the one combination, really. Or rather, the amount of times you perform such an interaction, where you feed the result of invoking a method on _thing_ directly as parameter to another method on _thing_ isn&#39;t exactly a common task. You&#39;d have to write a method each time it happens, but, given that its rare, I don&#39;t see how that is impractical. Note that you can, of course, make that `0` a parameter if you like.\r\n\r\n&gt; Creating type\r\n\r\nThis is a really bad idea. Not because its overkill. Because it leaks. Your generics are __public__. You&#39;d want this aspect of it to be hidden. Or rather, the semantics of your type, whatever it might be, either involves including the type or not - and &#39;I have a need to copy an element in the list to the end of that list&#39; should play absolutely no part whatsoever in your design decision about whether or not the type itself should have generics or not to represent the type of this list field/parameter you get.\r\n\r\n&gt; what is the &quot;nicest&quot; workaround?\r\n\r\nPretty much the helper method, I think. Note that you if you really really want to, you can shove it in a local:\r\n\r\n```\r\nimport java.util.*;\r\n\r\nclass Test {\r\n  public static void main(String[] args) {\r\n    List&lt;String&gt; a = new ArrayList&lt;String&gt;();\r\n    a.add(&quot;Hello&quot;); a.add(&quot;World&quot;);\r\n    copyFirstToEnd(a);\r\n    System.out.println(a);\r\n  }\r\n\r\n  private static void copyFirstToEnd(List&lt;?&gt; in) {\r\n    class Helper {\r\n      &lt;S&gt; void help(List&lt;S&gt; a) { a.add(a.get(0)); }\r\n    }\r\n\r\n    new Helper().help(in);\r\n  }\r\n}\r\n```\r\n\r\nworks great. Unwieldy; code is kinda ugly. But absolutely nothing whatsoever can &#39;see&#39; this other than your own eyeballs and only when explicitly looking at the _code_ that powers this method. You won&#39;t see it in your outline. You won&#39;t see it in your javadoc. You won&#39;t see it in your auto-complete dialogs (other than when editing code _inside_ `copyFirstToEnd` where that&#39;s a good thing), and of course anybody working on a source file that isn&#39;t this `Test.java` itself cannot even know you&#39;ve made a type for this, even if they try to employ reflection*.\r\n\r\n*) They can hack around and find the `Test$Helper.class` artefact but at this point that feels academic. That class screams in all possible ways that you shouldn&#39;t consider it as existing in the first place, and tooling and IDEs do indeed act exactly like that (keeping it entirely out of type finding dialogs and the like).\r\n\r\nIt&#39;s a shame you get an object alloc but it&#39;s got a single ref field at worst, and is thread-localized fast garbage. It&#39;s as cheap an alloc as you could possibly make, so the cost is probably effectively nil, given java&#39;s generation garbage collection systems and clear focus on supporting &#39;lots of small immutable objects&#39; as a coding model fairly well.\r\n","title":"Read/write operations with capture of ? in Java","body":"<blockquote>\n<p>As I understand it, Java compiler should internally store the type as &quot;capture of ?&quot; and it should recognize, that the types used in add/get match.</p>\n</blockquote>\n<p>That's not what the capturing system does. Unfortunately.</p>\n<blockquote>\n<p>this works but it would be impractical to have these methods for all possible combinations</p>\n</blockquote>\n<p>'all possible combinations'? There's just the one combination, really. Or rather, the amount of times you perform such an interaction, where you feed the result of invoking a method on <em>thing</em> directly as parameter to another method on <em>thing</em> isn't exactly a common task. You'd have to write a method each time it happens, but, given that its rare, I don't see how that is impractical. Note that you can, of course, make that <code>0</code> a parameter if you like.</p>\n<blockquote>\n<p>Creating type</p>\n</blockquote>\n<p>This is a really bad idea. Not because its overkill. Because it leaks. Your generics are <strong>public</strong>. You'd want this aspect of it to be hidden. Or rather, the semantics of your type, whatever it might be, either involves including the type or not - and 'I have a need to copy an element in the list to the end of that list' should play absolutely no part whatsoever in your design decision about whether or not the type itself should have generics or not to represent the type of this list field/parameter you get.</p>\n<blockquote>\n<p>what is the &quot;nicest&quot; workaround?</p>\n</blockquote>\n<p>Pretty much the helper method, I think. Note that you if you really really want to, you can shove it in a local:</p>\n<pre><code>import java.util.*;\n\nclass Test {\n  public static void main(String[] args) {\n    List&lt;String&gt; a = new ArrayList&lt;String&gt;();\n    a.add(&quot;Hello&quot;); a.add(&quot;World&quot;);\n    copyFirstToEnd(a);\n    System.out.println(a);\n  }\n\n  private static void copyFirstToEnd(List&lt;?&gt; in) {\n    class Helper {\n      &lt;S&gt; void help(List&lt;S&gt; a) { a.add(a.get(0)); }\n    }\n\n    new Helper().help(in);\n  }\n}\n</code></pre>\n<p>works great. Unwieldy; code is kinda ugly. But absolutely nothing whatsoever can 'see' this other than your own eyeballs and only when explicitly looking at the <em>code</em> that powers this method. You won't see it in your outline. You won't see it in your javadoc. You won't see it in your auto-complete dialogs (other than when editing code <em>inside</em> <code>copyFirstToEnd</code> where that's a good thing), and of course anybody working on a source file that isn't this <code>Test.java</code> itself cannot even know you've made a type for this, even if they try to employ reflection*.</p>\n<p>*) They can hack around and find the <code>Test$Helper.class</code> artefact but at this point that feels academic. That class screams in all possible ways that you shouldn't consider it as existing in the first place, and tooling and IDEs do indeed act exactly like that (keeping it entirely out of type finding dialogs and the like).</p>\n<p>It's a shame you get an object alloc but it's got a single ref field at worst, and is thread-localized fast garbage. It's as cheap an alloc as you could possibly make, so the cost is probably effectively nil, given java's generation garbage collection systems and clear focus on supporting 'lots of small immutable objects' as a coding model fairly well.</p>\n"}],"owner":{"account_id":9503843,"reputation":485,"user_id":7064042,"display_name":"kotycheese"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72859901,"answer_count":1,"score":2,"last_activity_date":1656953439,"creation_date":1656951707,"question_id":72859651,"body_markdown":"I have a generic class with type T, that has both read a write methods using T. Let&#39;s illustrate it on List&lt;T&gt;.\r\n\r\nWhen I use it with a wildcard type, I come across a specific problem:\r\n\r\n```java\r\nList&lt;?&gt; list = ...\r\nlist.add(list.get(0)); //here I get a compiler error\r\n```\r\n\r\nAs I understand it, Java compiler should internally store the type as &quot;capture of ?&quot; and it should recognize, that the types used in add/get match.\r\n\r\nIf this is impossible to do, what is the &quot;nicest&quot; workaround? My thoughts:\r\n\r\n1. **Helper methods**\r\n\r\n    ```java\r\n    private &lt;S&gt; void aaa(List&lt;S&gt; list) {\r\n        list.add(list.get(0));\r\n    }\r\n    ```\r\n\r\n    This works, but it would be impractical to have these methods for all possible combinations.\r\n\r\n2. **Casting**\r\n\r\n    ```java\r\n    List&lt;?&gt; list;\r\n\r\n    private &lt;S&gt; void aaa() {\r\n        List&lt;S&gt; list = (List&lt;S&gt;)this.list\r\n        list.add(list.get(0));\r\n    }\r\n    ```\r\n\r\n    This works as well, but I don&#39;t like it either, plus I get an *unchecked cast* warning.\r\n\r\n3. **Creating type**\r\n\r\n    ```java\r\n    class Foo&lt;T&gt; {\r\n        List&lt;T&gt; list;\r\n\r\n        private void aaa() {\r\n            list.add(list.get(0));\r\n        }\r\n    }\r\n    ```\r\n\r\n    This works too, but it seems like a total overkill to define a type just for this purpose.\r\n\r\nThanks for your thoughts!","title":"Read/write operations with capture of ? in Java","body":"<p>I have a generic class with type T, that has both read a write methods using T. Let's illustrate it on List.</p>\n<p>When I use it with a wildcard type, I come across a specific problem:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;?&gt; list = ...\nlist.add(list.get(0)); //here I get a compiler error\n</code></pre>\n<p>As I understand it, Java compiler should internally store the type as &quot;capture of ?&quot; and it should recognize, that the types used in add/get match.</p>\n<p>If this is impossible to do, what is the &quot;nicest&quot; workaround? My thoughts:</p>\n<ol>\n<li><p><strong>Helper methods</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>private &lt;S&gt; void aaa(List&lt;S&gt; list) {\n    list.add(list.get(0));\n}\n</code></pre>\n<p>This works, but it would be impractical to have these methods for all possible combinations.</p>\n</li>\n<li><p><strong>Casting</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;?&gt; list;\n\nprivate &lt;S&gt; void aaa() {\n    List&lt;S&gt; list = (List&lt;S&gt;)this.list\n    list.add(list.get(0));\n}\n</code></pre>\n<p>This works as well, but I don't like it either, plus I get an <em>unchecked cast</em> warning.</p>\n</li>\n<li><p><strong>Creating type</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>class Foo&lt;T&gt; {\n    List&lt;T&gt; list;\n\n    private void aaa() {\n        list.add(list.get(0));\n    }\n}\n</code></pre>\n<p>This works too, but it seems like a total overkill to define a type just for this purpose.</p>\n</li>\n</ol>\n<p>Thanks for your thoughts!</p>\n"},{"tags":["java","generics"],"answers":[{"tags":[],"owner":{"account_id":15910691,"reputation":1091,"user_id":11480721,"display_name":"Ausgefuchster"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1656863990,"creation_date":1656863990,"answer_id":72847991,"question_id":72847847,"body_markdown":"So it looks like that what you need is inheritance and not generics.\r\nIn your if condition you always cast and call the same method on the Object.\r\nSo what you can do is e.g. define an interface looking something like this:\r\n```java\r\npublic interface MyInterface {\r\n    String getDataElement(String name);\r\n}\r\n```\r\nAnd implement it in your Employee, Department and other classes you have.\r\n\r\n\r\n----------\r\n\r\nIf the method always does the same you can use default or an abstract class to not always write the same:\r\n\r\n```java \r\npublic interface MyInterface {\r\n    default String getDataElement(String name) {\r\n        //do your thing\r\n        return value;\r\n   }\r\n}\r\n```\r\n\r\n```java\r\npublic abstract class MyAbstractClass {\r\n    public String getDataElement(String name) {\r\n        //do your thing\r\n        return value;\r\n   }\r\n}\r\n```\r\n\r\nNow you can change your `meth` method to this:\r\n```java\r\nprivate void meth(MyObj ds, MultiValueMap&lt;String, List&gt; mvm) {\r\n    List&lt;MyInterface&gt; list = (List&lt;MyInterface&gt;) mvm.get(0).get(1));\r\n\r\n    for (MyInterface rd : list) {\r\n        List&lt;String&gt; cNames = (List&lt;String&gt;) mvm.get(0).get(0);\r\n        for (String cName : cNames) {\r\n            ds.setCellValue((String) rd.getDataElement(cName));\r\n        }\r\n    } \r\n}\r\n```","title":"how to avoid duplicate in the code using generics or Function classes","body":"<p>So it looks like that what you need is inheritance and not generics.\nIn your if condition you always cast and call the same method on the Object.\nSo what you can do is e.g. define an interface looking something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface MyInterface {\n    String getDataElement(String name);\n}\n</code></pre>\n<p>And implement it in your Employee, Department and other classes you have.</p>\n<hr />\n<p>If the method always does the same you can use default or an abstract class to not always write the same:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface MyInterface {\n    default String getDataElement(String name) {\n        //do your thing\n        return value;\n   }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public abstract class MyAbstractClass {\n    public String getDataElement(String name) {\n        //do your thing\n        return value;\n   }\n}\n</code></pre>\n<p>Now you can change your <code>meth</code> method to this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private void meth(MyObj ds, MultiValueMap&lt;String, List&gt; mvm) {\n    List&lt;MyInterface&gt; list = (List&lt;MyInterface&gt;) mvm.get(0).get(1));\n\n    for (MyInterface rd : list) {\n        List&lt;String&gt; cNames = (List&lt;String&gt;) mvm.get(0).get(0);\n        for (String cName : cNames) {\n            ds.setCellValue((String) rd.getDataElement(cName));\n        }\n    } \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7413926,"reputation":5474,"user_id":11374957,"display_name":"Kaan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1656953225,"creation_date":1656866174,"answer_id":72848235,"question_id":72847847,"body_markdown":"While generic methods can be applied, they won&#39;t solve the actual scenario you&#39;re trying to solve for (an earlier edit of this answer was an attempt before I thought through it more).\r\n\r\nTaking a step back, this looks like the problem statement (&quot;what&quot; you&#39;re solving for, not &quot;how&quot;):\r\n* Iterate all lists present in a map – in your posted code, this would be: `MultiValueMap&lt;String, List&gt; mvm`\r\n* Accomodate different object types – you posted Employee and Department as examples\r\n* Whatever the list contains (Employee, Department, etc), you want to call `getDataElement()`\r\n\r\nAs the other answer by Ausgefuchster describes, this can be solved with interfaces. I voted that answer up, but wanted to provide more\r\nmore detail and examples.\r\n\r\n## Step 1: define an interface\r\n\r\nRegardless of concrete class, your map contains lists of things which have `getDataElement()`, so make an interface which captures that:\r\n```\r\ninterface HasDataElement {\r\n    String getDataElement();\r\n}\r\n```\r\n\r\n## Step 2: classes implement the interface\r\n\r\nFor this answer, I made up a few simple classes – A, B, and C – which implement the interface, but otherwise only return a string when `getDataElement()` is called. In your code, you would modify Employee, Department, etc. to implement your new interface.\r\n\r\n```\r\nclass A implements HasDataElement {\r\n    @Override\r\n    public String getDataElement() {\r\n        return &quot;A&quot;;\r\n    }\r\n}\r\n\r\nclass B implements HasDataElement {\r\n    @Override\r\n    public String getDataElement() {\r\n        return &quot;B&quot;;\r\n    }\r\n}\r\n\r\nclass C implements HasDataElement {\r\n    @Override\r\n    public String getDataElement() {\r\n        return &quot;C&quot;;\r\n    }\r\n}\r\n```\r\n\r\n## Step 3: handle the map\r\n\r\nI&#39;m using built-in types, so `Map&lt;String, List&gt;` instead of your posted code which uses `MultiValueMap&lt;String, List&gt;`. I think this difference is not significant, but pointing it out anyway.\r\n\r\nThe method signature below specifies that the map isn&#39;t just `&lt;String, List&gt;`, but further specifies that the list itself must contain things which extend the `HasDataElement` interface: `List&lt;? extends HasDataElement&gt;`.\r\n\r\nInside the method, the same `List&lt;? extends HasDataElement&gt;` type shows up in the first loop.\r\n\r\nOnce inside, the concrete class of `item` isn&#39;t relevant – we know it conforms to the `HasDataElement` interface, so we can call `item.getDataElement()`.\r\n\r\n```\r\nprivate static void processAllDataElements(Map&lt;String, List&lt;? extends HasDataElement&gt;&gt; map) {\r\n    for (List&lt;? extends HasDataElement&gt; list : map.values()) {\r\n        for (HasDataElement item : list) {\r\n            System.out.println(item.getDataElement());\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n## Example usage\r\n\r\nHere&#39;s a simple example, along with output, that creates a few different lists of the various classes A, B, and C. It then creates a map and adds all three lists.\r\n\r\n\r\n```\r\nList&lt;A&gt; listOfA = List.of(new A[]{new A()});\r\nList&lt;B&gt; listOfB = List.of(new B[]{new B(), new B()});\r\nList&lt;C&gt; listOfC = List.of(new C[]{new C(), new C(), new C()});\r\n\r\nMap&lt;String, List&lt;? extends HasDataElement&gt;&gt; map = new HashMap&lt;&gt;();\r\nmap.put(&quot;A&quot;, listOfA);\r\nmap.put(&quot;B&quot;, listOfB);\r\nmap.put(&quot;C&quot;, listOfC);\r\n\r\nprocessAllDataElements(map);\r\n\r\nA\r\nB\r\nB\r\nC\r\nC\r\nC\r\n```\r\n","title":"how to avoid duplicate in the code using generics or Function classes","body":"<p>While generic methods can be applied, they won't solve the actual scenario you're trying to solve for (an earlier edit of this answer was an attempt before I thought through it more).</p>\n<p>Taking a step back, this looks like the problem statement (&quot;what&quot; you're solving for, not &quot;how&quot;):</p>\n<ul>\n<li>Iterate all lists present in a map – in your posted code, this would be: <code>MultiValueMap&lt;String, List&gt; mvm</code></li>\n<li>Accomodate different object types – you posted Employee and Department as examples</li>\n<li>Whatever the list contains (Employee, Department, etc), you want to call <code>getDataElement()</code></li>\n</ul>\n<p>As the other answer by Ausgefuchster describes, this can be solved with interfaces. I voted that answer up, but wanted to provide more\nmore detail and examples.</p>\n<h2>Step 1: define an interface</h2>\n<p>Regardless of concrete class, your map contains lists of things which have <code>getDataElement()</code>, so make an interface which captures that:</p>\n<pre><code>interface HasDataElement {\n    String getDataElement();\n}\n</code></pre>\n<h2>Step 2: classes implement the interface</h2>\n<p>For this answer, I made up a few simple classes – A, B, and C – which implement the interface, but otherwise only return a string when <code>getDataElement()</code> is called. In your code, you would modify Employee, Department, etc. to implement your new interface.</p>\n<pre><code>class A implements HasDataElement {\n    @Override\n    public String getDataElement() {\n        return &quot;A&quot;;\n    }\n}\n\nclass B implements HasDataElement {\n    @Override\n    public String getDataElement() {\n        return &quot;B&quot;;\n    }\n}\n\nclass C implements HasDataElement {\n    @Override\n    public String getDataElement() {\n        return &quot;C&quot;;\n    }\n}\n</code></pre>\n<h2>Step 3: handle the map</h2>\n<p>I'm using built-in types, so <code>Map&lt;String, List&gt;</code> instead of your posted code which uses <code>MultiValueMap&lt;String, List&gt;</code>. I think this difference is not significant, but pointing it out anyway.</p>\n<p>The method signature below specifies that the map isn't just <code>&lt;String, List&gt;</code>, but further specifies that the list itself must contain things which extend the <code>HasDataElement</code> interface: <code>List&lt;? extends HasDataElement&gt;</code>.</p>\n<p>Inside the method, the same <code>List&lt;? extends HasDataElement&gt;</code> type shows up in the first loop.</p>\n<p>Once inside, the concrete class of <code>item</code> isn't relevant – we know it conforms to the <code>HasDataElement</code> interface, so we can call <code>item.getDataElement()</code>.</p>\n<pre><code>private static void processAllDataElements(Map&lt;String, List&lt;? extends HasDataElement&gt;&gt; map) {\n    for (List&lt;? extends HasDataElement&gt; list : map.values()) {\n        for (HasDataElement item : list) {\n            System.out.println(item.getDataElement());\n        }\n    }\n}\n</code></pre>\n<h2>Example usage</h2>\n<p>Here's a simple example, along with output, that creates a few different lists of the various classes A, B, and C. It then creates a map and adds all three lists.</p>\n<pre><code>List&lt;A&gt; listOfA = List.of(new A[]{new A()});\nList&lt;B&gt; listOfB = List.of(new B[]{new B(), new B()});\nList&lt;C&gt; listOfC = List.of(new C[]{new C(), new C(), new C()});\n\nMap&lt;String, List&lt;? extends HasDataElement&gt;&gt; map = new HashMap&lt;&gt;();\nmap.put(&quot;A&quot;, listOfA);\nmap.put(&quot;B&quot;, listOfB);\nmap.put(&quot;C&quot;, listOfC);\n\nprocessAllDataElements(map);\n\nA\nB\nB\nC\nC\nC\n</code></pre>\n"}],"owner":{"account_id":25705862,"reputation":45,"user_id":19465144,"display_name":"John"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":142,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72848235,"answer_count":2,"score":2,"last_activity_date":1656953225,"creation_date":1656862904,"question_id":72847847,"body_markdown":"    private &lt;Y&gt; void meth(\r\n                MyObj ds, MultiValueMap&lt;String, List&gt; mvm, Class&lt;Y&gt; data) {\r\n    \r\n                \r\n    \r\n            if(data.isAssignableFrom(Employee.class)) {\r\n                for (Employee rd : (List&lt;Employee&gt;) mvm.get(0).get(1)) {\r\n                   \r\n                    for (String cName : (List&lt;String&gt;) mvm.get(0).get(0)) {\r\n                        ds.setCellValue((String)rd.getDataElement(cName));\r\n                       \r\n                    }\r\n                   \r\n                }\r\n            }\r\n    \r\n            if(data.isAssignableFrom(Department.class)) {\r\n                for (Department rd : (List&lt;Department&gt;) mvm.get(0).get(1)) {\r\n                   \r\n                    for (String cName : (List&lt;String&gt;) mvm.get(0).get(0)) {\r\n                        ds.setCellValue((String)rd.getDataElement(cName));\r\n                        \r\n                    }\r\n                   \r\n                }\r\n            }\r\n    \t\t\r\n    \t\t\r\n    \t\t//some more similar if conditions as above\r\n    \t\t\r\n    }\r\n\r\nIn above, I have like similar 10 if conditions, how to avoid duplicate code in above? Do I need to use any Java 8 Function classes as parameters to avoid duplicate code (or) have to use any extra generics code?","title":"how to avoid duplicate in the code using generics or Function classes","body":"<pre><code>private &lt;Y&gt; void meth(\n            MyObj ds, MultiValueMap&lt;String, List&gt; mvm, Class&lt;Y&gt; data) {\n\n            \n\n        if(data.isAssignableFrom(Employee.class)) {\n            for (Employee rd : (List&lt;Employee&gt;) mvm.get(0).get(1)) {\n               \n                for (String cName : (List&lt;String&gt;) mvm.get(0).get(0)) {\n                    ds.setCellValue((String)rd.getDataElement(cName));\n                   \n                }\n               \n            }\n        }\n\n        if(data.isAssignableFrom(Department.class)) {\n            for (Department rd : (List&lt;Department&gt;) mvm.get(0).get(1)) {\n               \n                for (String cName : (List&lt;String&gt;) mvm.get(0).get(0)) {\n                    ds.setCellValue((String)rd.getDataElement(cName));\n                    \n                }\n               \n            }\n        }\n        \n        \n        //some more similar if conditions as above\n        \n}\n</code></pre>\n<p>In above, I have like similar 10 if conditions, how to avoid duplicate code in above? Do I need to use any Java 8 Function classes as parameters to avoid duplicate code (or) have to use any extra generics code?</p>\n"},{"tags":["java","junit","mockito"],"answers":[{"tags":[],"owner":{"account_id":15060836,"reputation":106,"user_id":10869670,"display_name":"user10869670"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656941122,"creation_date":1656940359,"answer_id":72857346,"question_id":72857133,"body_markdown":"You can use an ArgumentCaptor to capture the argument(your mock instance pCar). Then use that value in your test. Below is pseudo code but essentially how argueMent captor works \r\n\r\n    @Mock\r\n    Car pcar;\r\n    @Captor\r\n    ArgumentCaptor&lt;Car&gt; carCaptor;\r\n\r\n  \r\n\r\n    when(myMethod.polishCar(\r\n    any(Car.class))).thenReturn(pCar);\r\n\r\n     Mockito.verify(car)\r\n    .polishCar(carCaptor.capture());\r\n\r\nThe captured argument would be the pCar which you can then use through out the test ","title":"How to make Mockito call different method but return same object instance","body":"<p>You can use an ArgumentCaptor to capture the argument(your mock instance pCar). Then use that value in your test. Below is pseudo code but essentially how argueMent captor works</p>\n<pre><code>@Mock\nCar pcar;\n@Captor\nArgumentCaptor&lt;Car&gt; carCaptor;\n\n\n\nwhen(myMethod.polishCar(\nany(Car.class))).thenReturn(pCar);\n\n Mockito.verify(car)\n.polishCar(carCaptor.capture());\n</code></pre>\n<p>The captured argument would be the pCar which you can then use through out the test</p>\n"},{"tags":[],"owner":{"account_id":2357057,"reputation":428,"user_id":2064634,"accept_rate":33,"display_name":"Sureshkumar Natarajan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656940957,"creation_date":1656940957,"answer_id":72857465,"question_id":72857133,"body_markdown":"Use `any` Matcher like `any(ParamClass.class)`.\r\n\r\nIn your case `when(myMethod.washCar(any(Car.class))).thenReturn(wCar);`","title":"How to make Mockito call different method but return same object instance","body":"<p>Use <code>any</code> Matcher like <code>any(ParamClass.class)</code>.</p>\n<p>In your case <code>when(myMethod.washCar(any(Car.class))).thenReturn(wCar);</code></p>\n"},{"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656953158,"creation_date":1656942096,"answer_id":72857705,"question_id":72857133,"body_markdown":"There is no sense to use mock in this case. Just create a real SUT and the real car. Simply call the test method for the real car instance and directly verify the car &#39;s state.\r\n\r\n``` java\r\n@Test\r\npublic polishAndCarTest(){\r\n\t\r\n   Car car = new Car();\r\n\r\n   Date now = new Date();\r\n   sut.polishCar(car);\r\n   sut.washCar(car);\r\n\r\n   assertThat(car.isPolish()).isTrue();\r\n   assertThat(car.getPolishDate()).isCloseTo(now,2);\r\n   assertThat(car.isWash()).isTrue();\r\n   assertThat(car.getWashDate()).isCloseTo(now,2);\r\n\r\n}\r\n```\r\n\r\nNotes :  \r\n\r\n- It is better that you can refactor `polishCar()` and `washCar()` such that it can accept a given date as the input argument rather than hardcode it as the current time . After that , you can pass a testing date when calling these methods in the test case and can easily verify the polish date and wash date is really updated to this date. \r\n\r\n- If you don&#39;t like this , you can use [assertj][1] to verify these date is close to within 2 millisecond after the moment when `polishCar()` / `washCar()` is called which is fine enough to me.\r\n\r\n\r\n  [1]: https://assertj.github.io/doc/","title":"How to make Mockito call different method but return same object instance","body":"<p>There is no sense to use mock in this case. Just create a real SUT and the real car. Simply call the test method for the real car instance and directly verify the car 's state.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\npublic polishAndCarTest(){\n    \n   Car car = new Car();\n\n   Date now = new Date();\n   sut.polishCar(car);\n   sut.washCar(car);\n\n   assertThat(car.isPolish()).isTrue();\n   assertThat(car.getPolishDate()).isCloseTo(now,2);\n   assertThat(car.isWash()).isTrue();\n   assertThat(car.getWashDate()).isCloseTo(now,2);\n\n}\n</code></pre>\n<p>Notes :</p>\n<ul>\n<li><p>It is better that you can refactor <code>polishCar()</code> and <code>washCar()</code> such that it can accept a given date as the input argument rather than hardcode it as the current time . After that , you can pass a testing date when calling these methods in the test case and can easily verify the polish date and wash date is really updated to this date.</p>\n</li>\n<li><p>If you don't like this , you can use <a href=\"https://assertj.github.io/doc/\" rel=\"nofollow noreferrer\">assertj</a> to verify these date is close to within 2 millisecond after the moment when <code>polishCar()</code> / <code>washCar()</code> is called which is fine enough to me.</p>\n</li>\n</ul>\n"}],"owner":{"account_id":1030703,"reputation":155,"user_id":1039047,"accept_rate":9,"display_name":"Tony_Ynot"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":265,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1656953158,"creation_date":1656939373,"question_id":72857133,"body_markdown":"I have the following methods\r\n    \r\n    //my method\r\n    public Car polishCar(Car car){\r\n    \tcar.setPolish(true);\r\n    \tcar.setPolishDate(new Date());\r\n    \t\r\n    \treturn car;\r\n    }\r\n    \r\n    //myMethod\r\n    public Car washCar(Car car){\r\n    \tcar.setWash(true);\r\n    \tcar.setWashDate(new Date());\r\n    \t\r\n    \treturn car;\r\n    }\r\n\r\n    // mainMethod\r\n    public Car serviceCar(){\r\n        Car car = new Car();\r\n        myMethod.polishCar(car);\r\n        myMethod.washCar(car);\r\n        ......\r\n\r\n        return Car;\r\n    }\r\n\r\n\r\nThis is what I have code for my unit test with mockito, I need to create 2 different Car objects which look redundant and keep adding new value to it.\r\n\r\n    Car pCar = new Car();\r\n    pCar.setPolish(true);\r\n    pCar.setPolishDate(new Date());\r\n    \r\n    //first call\r\n    when(myMethod.polishCar(any(Car.class))).thenReturn(pCar);\r\n    \r\n    Car wCar = new Car();\r\n    wCar.setPolish(true);\r\n    wCar.setPolishDate(new Date());\r\n    wCar.setWash(true);\r\n    wCar.setWashDate(new Date());\r\n    \r\n    //second call with same car object from previous, and return same car object with additional value\r\n    when(myMethod.washCar(eq(pCar))).thenReturn(wCar);\r\n\r\n    Car testCar = mainMethod.serviceCar();\r\n \r\n    // check if they are same instance\r\n    assertEquals(testCar, wCar);\r\n    assertEquals(&quot;true&quot;, wCar.getWash());\r\n    assertEquals(&quot;true&quot;, wCar.polish());\r\n\r\nHow can I better handle this scenario to make mockito return the same &amp; updated object (same instance) and keep passing to the next method call?\r\n\r\nSo the main point is I want to have 1 car object and this car object will pass to number of method to update this car object.\r\n\r\n    // Create 1 car object\r\n    Car singleCar = new Car();\r\n    \r\n    //pass to first method, and return singleCar with updated polish &amp; polishDate\r\n    when(myMethod.polishCar(eq(singleCar))).thenReturn(singleCar);\r\n    \r\n    //pass to second method, and return singleCar with updated wash and washDate\r\n    when(myMethod.washCar(eq(singleCar))).thenReturn(singleCar);\r\n    \r\n    // call main method for testing\r\n    Car testCar = mainMethod.serviceCar();\r\n    \r\n    // assert testCar == singleCar\r\n    // assert singleCar is updated (wash == true &amp; polish == true) \r\n\r\nIs there any way to reuse the same object here ?\r\n\r\nThank you.","title":"How to make Mockito call different method but return same object instance","body":"<p>I have the following methods</p>\n<pre><code>//my method\npublic Car polishCar(Car car){\n    car.setPolish(true);\n    car.setPolishDate(new Date());\n    \n    return car;\n}\n\n//myMethod\npublic Car washCar(Car car){\n    car.setWash(true);\n    car.setWashDate(new Date());\n    \n    return car;\n}\n\n// mainMethod\npublic Car serviceCar(){\n    Car car = new Car();\n    myMethod.polishCar(car);\n    myMethod.washCar(car);\n    ......\n\n    return Car;\n}\n</code></pre>\n<p>This is what I have code for my unit test with mockito, I need to create 2 different Car objects which look redundant and keep adding new value to it.</p>\n<pre><code>Car pCar = new Car();\npCar.setPolish(true);\npCar.setPolishDate(new Date());\n\n//first call\nwhen(myMethod.polishCar(any(Car.class))).thenReturn(pCar);\n\nCar wCar = new Car();\nwCar.setPolish(true);\nwCar.setPolishDate(new Date());\nwCar.setWash(true);\nwCar.setWashDate(new Date());\n\n//second call with same car object from previous, and return same car object with additional value\nwhen(myMethod.washCar(eq(pCar))).thenReturn(wCar);\n\nCar testCar = mainMethod.serviceCar();\n\n// check if they are same instance\nassertEquals(testCar, wCar);\nassertEquals(&quot;true&quot;, wCar.getWash());\nassertEquals(&quot;true&quot;, wCar.polish());\n</code></pre>\n<p>How can I better handle this scenario to make mockito return the same &amp; updated object (same instance) and keep passing to the next method call?</p>\n<p>So the main point is I want to have 1 car object and this car object will pass to number of method to update this car object.</p>\n<pre><code>// Create 1 car object\nCar singleCar = new Car();\n\n//pass to first method, and return singleCar with updated polish &amp; polishDate\nwhen(myMethod.polishCar(eq(singleCar))).thenReturn(singleCar);\n\n//pass to second method, and return singleCar with updated wash and washDate\nwhen(myMethod.washCar(eq(singleCar))).thenReturn(singleCar);\n\n// call main method for testing\nCar testCar = mainMethod.serviceCar();\n\n// assert testCar == singleCar\n// assert singleCar is updated (wash == true &amp; polish == true) \n</code></pre>\n<p>Is there any way to reuse the same object here ?</p>\n<p>Thank you.</p>\n"},{"tags":["java","mocking","mockito"],"comments":[{"owner":{"account_id":41282,"reputation":659,"user_id":119918,"display_name":"Olli"},"score":0,"creation_date":1656943515,"post_id":72857882,"comment_id":128687482,"body_markdown":"You probably need to use the `ArgumentMatcher` to inspect and compare the argument passed to the method because the actual argument is not the same from the Mockito&#39;s point-of-view.  See https://javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/ArgumentMatcher.html","body":"You probably need to use the <code>ArgumentMatcher</code> to inspect and compare the argument passed to the method because the actual argument is not the same from the Mockito&#39;s point-of-view.  See <a href=\"https://javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/ArgumentMatcher.html\" rel=\"nofollow noreferrer\">javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":4504119,"reputation":1834,"user_id":3706638,"accept_rate":100,"display_name":"S.Dan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656946676,"creation_date":1656946676,"answer_id":72858671,"question_id":72857882,"body_markdown":"Found the solution:\r\n```\r\nwhen(myService.getTypes(any(TypeRequest.class)))\r\n    .thenAnswer(invocationOnMock -&gt; {\r\n        TypeRequest r = invocationOnMock.getArgument(0);\r\n        //if r contains &quot;15&quot;\r\n            return Lists.newArrayList(type1, type2);\r\n        } else {\r\n            return Lists.newArrayList(type3, type2);\r\n        }\r\n});\r\n```\r\n","title":"Using mockito when thenReturn with a new object","body":"<p>Found the solution:</p>\n<pre><code>when(myService.getTypes(any(TypeRequest.class)))\n    .thenAnswer(invocationOnMock -&gt; {\n        TypeRequest r = invocationOnMock.getArgument(0);\n        //if r contains &quot;15&quot;\n            return Lists.newArrayList(type1, type2);\n        } else {\n            return Lists.newArrayList(type3, type2);\n        }\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656952802,"creation_date":1656952802,"answer_id":72859824,"question_id":72857882,"body_markdown":"By default, it uses `equals()` of the input argument to check if it is matched with any stubbed parameters. Most probably you do not implement  `TypeRequest` &#39;s `equals()` , so no stubbed parameters are matched and hence it returns the default result for the unstubbed invocation which is an empty list.\r\n\r\nIf you do not want to implement `equals()` for `TypeRequest` , the correct way is to use `argThat()` to define a `ArgumentMatcher` for the input argument :\r\n\r\n``` java\r\n@Test\r\npublic void someTest(){\r\n\t\r\n\twhen(myService.getTypes(argThat(requestListContainAll(Lists.newArrayList(&quot;15&quot;, &quot;16&quot;)))))\r\n                  .thenReturn(Lists.newArrayList(type1, type2));\r\n\tmyService.getTypes(Lists.newArrayList(&quot;15&quot;, &quot;16&quot;))); //it should return the above stubbed value\r\n}\r\n\r\n\r\nprivate ArgumentMatcher&lt;TypeRequest&gt; requestListContainAll(List&lt;String&gt; list){\r\n\treturn arg-&gt; arg.getList().containsAll(list);\r\n}\r\n```\r\n","title":"Using mockito when thenReturn with a new object","body":"<p>By default, it uses <code>equals()</code> of the input argument to check if it is matched with any stubbed parameters. Most probably you do not implement  <code>TypeRequest</code> 's <code>equals()</code> , so no stubbed parameters are matched and hence it returns the default result for the unstubbed invocation which is an empty list.</p>\n<p>If you do not want to implement <code>equals()</code> for <code>TypeRequest</code> , the correct way is to use <code>argThat()</code> to define a <code>ArgumentMatcher</code> for the input argument :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\npublic void someTest(){\n    \n    when(myService.getTypes(argThat(requestListContainAll(Lists.newArrayList(&quot;15&quot;, &quot;16&quot;)))))\n                  .thenReturn(Lists.newArrayList(type1, type2));\n    myService.getTypes(Lists.newArrayList(&quot;15&quot;, &quot;16&quot;))); //it should return the above stubbed value\n}\n\n\nprivate ArgumentMatcher&lt;TypeRequest&gt; requestListContainAll(List&lt;String&gt; list){\n    return arg-&gt; arg.getList().containsAll(list);\n}\n</code></pre>\n"}],"owner":{"account_id":4504119,"reputation":1834,"user_id":3706638,"accept_rate":100,"display_name":"S.Dan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":469,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1656952802,"creation_date":1656942834,"question_id":72857882,"body_markdown":"I&#39;ve got the following line of code in my implementation:\r\n\r\n```\r\nmyService.getTypes(new TypeRequest(myList.stream().map(Object::toString)\r\n                        .collect(Collectors.toList())))\r\n```\r\nand I tried to mock the above in my test class as follows: \r\n```\r\nwhen(myService.getTypes(new TypeRequest(Lists.newArrayList(&quot;15&quot;, &quot;16&quot;))))\r\n                .thenReturn(Lists.newArrayList(type1, type2));\r\nwhen(myService.getTypes(new TypeRequest(Lists.newArrayList(&quot;25&quot;, &quot;26&quot;))))\r\n                .thenReturn(Lists.newArrayList(type3, type4));\r\n```\r\n\r\nBut when I debug the test code, I can see that `myService.getTypes` is returning an empty list. What could be the problem? \r\n\r\nAlso, is there a way to use args to simplify the above mocking? All I found was using `args` passed into the method, not the args of args passed into the method.","title":"Using mockito when thenReturn with a new object","body":"<p>I've got the following line of code in my implementation:</p>\n<pre><code>myService.getTypes(new TypeRequest(myList.stream().map(Object::toString)\n                        .collect(Collectors.toList())))\n</code></pre>\n<p>and I tried to mock the above in my test class as follows:</p>\n<pre><code>when(myService.getTypes(new TypeRequest(Lists.newArrayList(&quot;15&quot;, &quot;16&quot;))))\n                .thenReturn(Lists.newArrayList(type1, type2));\nwhen(myService.getTypes(new TypeRequest(Lists.newArrayList(&quot;25&quot;, &quot;26&quot;))))\n                .thenReturn(Lists.newArrayList(type3, type4));\n</code></pre>\n<p>But when I debug the test code, I can see that <code>myService.getTypes</code> is returning an empty list. What could be the problem?</p>\n<p>Also, is there a way to use args to simplify the above mocking? All I found was using <code>args</code> passed into the method, not the args of args passed into the method.</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":13837518,"reputation":673,"user_id":9988706,"display_name":"Gobu CSG"},"score":0,"creation_date":1656936491,"post_id":72856284,"comment_id":128685014,"body_markdown":"First create preference for your app. once the user goes intro screen save the the state Boolean or  something... Then launch main activity... After sometimes user launch the app check in splash screen user visited or not if yes mean launch main activity","body":"First create preference for your app. once the user goes intro screen save the the state Boolean or  something... Then launch main activity... After sometimes user launch the app check in splash screen user visited or not if yes mean launch main activity"},{"owner":{"account_id":25721574,"reputation":1,"user_id":19478516,"display_name":"Onedouble1"},"score":0,"creation_date":1656951314,"post_id":72856284,"comment_id":128690188,"body_markdown":"can you help me and show a code on how to make this possible","body":"can you help me and show a code on how to make this possible"}],"answers":[{"tags":[],"owner":{"account_id":22521805,"reputation":91,"user_id":16715236,"display_name":"Roland"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656952740,"creation_date":1656952740,"answer_id":72859812,"question_id":72856284,"body_markdown":"Shared preference will be of help here. You should save a Boolean value with shared preference when you click *DONE*.\r\n\r\nIn **IntroScreen.java**, do this.\r\nPermit my Kotlin please.\r\n\r\n    done.setOnClickListener {\r\n       initialize()\r\n       // Save a value to shared preference\r\n       PreferenceManager.getDefaultSharedPreference(context).edit()\r\n          .putBoolean(&quot;first_time&quot;, true)\r\n          .commit()\r\n    }\r\n\r\nThen when next splash screen launches, check the value in shared preference. If it&#39;s *true*, then the app is not launching for the first time, launch MainActivity next.\r\n\r\nIn SplashScreen.java, do this;\r\n\r\n       private initialize() {\r\n           val handler = Handler()\r\n           val runnable = Runnable() {\r\n              // check if it&#39;s the first launch, from shared preference.\r\n              val isNotFirstTime = Preference manager.getDefaultSharedPreference(context)\r\n                       .getBoolean(&quot;first_time&quot;, false)\r\n              val intent = if (isNotFirstTime) {\r\n                  // If it&#39;s not the first time, launch MainActivity\r\n                  Intent(this@SplashScreen, MainActivity::class.java)\r\n              } else {\r\n                  // If it&#39;s the first time, launch IntroScreen\r\n                  Intent(this@SplashScreen, IntroScreen::class.java)\r\n              }\r\n              //start your activity here\r\n              startActivity(intent)\r\n              finish()\r\n           } \r\n           handler.postDelayed(runnable, 2000)\r\n       }\r\n\r\n\r\nHope this helps. :)","title":"intro screen still shows after first time app run","body":"<p>Shared preference will be of help here. You should save a Boolean value with shared preference when you click <em>DONE</em>.</p>\n<p>In <strong>IntroScreen.java</strong>, do this.\nPermit my Kotlin please.</p>\n<pre><code>done.setOnClickListener {\n   initialize()\n   // Save a value to shared preference\n   PreferenceManager.getDefaultSharedPreference(context).edit()\n      .putBoolean(&quot;first_time&quot;, true)\n      .commit()\n}\n</code></pre>\n<p>Then when next splash screen launches, check the value in shared preference. If it's <em>true</em>, then the app is not launching for the first time, launch MainActivity next.</p>\n<p>In SplashScreen.java, do this;</p>\n<pre><code>   private initialize() {\n       val handler = Handler()\n       val runnable = Runnable() {\n          // check if it's the first launch, from shared preference.\n          val isNotFirstTime = Preference manager.getDefaultSharedPreference(context)\n                   .getBoolean(&quot;first_time&quot;, false)\n          val intent = if (isNotFirstTime) {\n              // If it's not the first time, launch MainActivity\n              Intent(this@SplashScreen, MainActivity::class.java)\n          } else {\n              // If it's the first time, launch IntroScreen\n              Intent(this@SplashScreen, IntroScreen::class.java)\n          }\n          //start your activity here\n          startActivity(intent)\n          finish()\n       } \n       handler.postDelayed(runnable, 2000)\n   }\n</code></pre>\n<p>Hope this helps. :)</p>\n"}],"owner":{"account_id":25721574,"reputation":1,"user_id":19478516,"display_name":"Onedouble1"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":312,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656952740,"creation_date":1656935637,"question_id":72856284,"body_markdown":"When I launch my app for the first time the splash screen opens then the intro screen opens and when I press done the main activity opens but when I exit the app and reopen it the intro screen still shows up I&#39;ve been searching for a solution for ages and I&#39;m a newbie can you please help me.\r\n\r\n**Splash Screen.java**\r\n\r\n    public class SplashScreen extends AppCompatActivity {\r\n        VideoView vidHolder;\r\n        Handler handler;\r\n        Runnable runnable;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_splash_screen);\r\n            initialize();\r\n    \r\n        }\r\n    \r\n        private void initialize() {\r\n            handler = new Handler();\r\n            runnable = new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    //start your activity here\r\n                    startActivity(new Intent(SplashScreen.this, introscreen.class));\r\n                    finish();\r\n                }\r\n            };\r\n            handler.postDelayed(runnable, 2000);\r\n        }\r\n    \r\n        @Override\r\n        public void onBackPressed() {\r\n            super.onBackPressed();\r\n            handler.removeCallbacks(runnable);\r\n        }\r\n    }\r\n\r\n**Intro Screen.java**\r\n\r\n      ViewPager viewpager;\r\n        Handler handler;\r\n        Runnable runnable;\r\n       @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_introscreen);\r\n            initialize();\r\n    \r\n            viewpager = findViewById(R.id.viewpager);\r\n    \r\n            introAdapter adapter = new introAdapter(getSupportFragmentManager());\r\n            viewpager.setAdapter(adapter);\r\n    \r\n        }\r\n        private void initialize() {\r\n            handler = new Handler();\r\n            runnable = new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    //start your activity here\r\n                    startActivity(new Intent(introscreen.this, MainActivity.class));\r\n                    finish();\r\n                }\r\n            };\r\n            handler.postDelayed(runnable,1200000);\r\n        }\r\n    \r\n        @Override\r\n        public void onBackPressed() {\r\n            super.onBackPressed();\r\n            handler.removeCallbacks(runnable);\r\n        }\r\n    }\r\n\r\n**MainActivity.java**\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n\r\n**AndroidManifest.xml**\r\n\r\n     &lt;activity\r\n                android:name=&quot;.MainActivity&quot;\r\n                android:exported=&quot;true&quot; /&gt;\r\n    \r\n            &lt;activity android:name=&quot;.SplashScreen&quot;\r\n                android:exported=&quot;true&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n    \r\n                    &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/activity&gt;\r\n            &lt;activity\r\n                android:name=&quot;.introscreen&quot;\r\n                android:exported=&quot;true&quot;&gt;\r\n    \r\n    \r\n            &lt;/activity&gt;\r\n\r\n\r\n\r\n\r\n","title":"intro screen still shows after first time app run","body":"<p>When I launch my app for the first time the splash screen opens then the intro screen opens and when I press done the main activity opens but when I exit the app and reopen it the intro screen still shows up I've been searching for a solution for ages and I'm a newbie can you please help me.</p>\n<p><strong>Splash Screen.java</strong></p>\n<pre><code>public class SplashScreen extends AppCompatActivity {\n    VideoView vidHolder;\n    Handler handler;\n    Runnable runnable;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_splash_screen);\n        initialize();\n\n    }\n\n    private void initialize() {\n        handler = new Handler();\n        runnable = new Runnable() {\n            @Override\n            public void run() {\n                //start your activity here\n                startActivity(new Intent(SplashScreen.this, introscreen.class));\n                finish();\n            }\n        };\n        handler.postDelayed(runnable, 2000);\n    }\n\n    @Override\n    public void onBackPressed() {\n        super.onBackPressed();\n        handler.removeCallbacks(runnable);\n    }\n}\n</code></pre>\n<p><strong>Intro Screen.java</strong></p>\n<pre><code>  ViewPager viewpager;\n    Handler handler;\n    Runnable runnable;\n   @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_introscreen);\n        initialize();\n\n        viewpager = findViewById(R.id.viewpager);\n\n        introAdapter adapter = new introAdapter(getSupportFragmentManager());\n        viewpager.setAdapter(adapter);\n\n    }\n    private void initialize() {\n        handler = new Handler();\n        runnable = new Runnable() {\n            @Override\n            public void run() {\n                //start your activity here\n                startActivity(new Intent(introscreen.this, MainActivity.class));\n                finish();\n            }\n        };\n        handler.postDelayed(runnable,1200000);\n    }\n\n    @Override\n    public void onBackPressed() {\n        super.onBackPressed();\n        handler.removeCallbacks(runnable);\n    }\n}\n</code></pre>\n<p><strong>MainActivity.java</strong></p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n</code></pre>\n<p><strong>AndroidManifest.xml</strong></p>\n<pre><code> &lt;activity\n            android:name=&quot;.MainActivity&quot;\n            android:exported=&quot;true&quot; /&gt;\n\n        &lt;activity android:name=&quot;.SplashScreen&quot;\n            android:exported=&quot;true&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n        &lt;activity\n            android:name=&quot;.introscreen&quot;\n            android:exported=&quot;true&quot;&gt;\n\n\n        &lt;/activity&gt;\n</code></pre>\n"},{"tags":["java","exception"],"answers":[{"tags":[],"owner":{"account_id":22886030,"reputation":1849,"user_id":17026900,"display_name":"Oussama ZAGHDOUD"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656951816,"creation_date":1656951816,"answer_id":72859673,"question_id":72859672,"body_markdown":"From the Java documentaiton [here][1] : `A thread can take full control of how it responds to uncaught exceptions by having its uncaught exception handler explicitly set`. So you can simply call the setUncaughtExceptionHandler method of the current thread and create your own UncaughtExceptionHandler instance, passing this instance to the method as argument exactly like that :\r\n\r\n    import java.lang.Thread.UncaughtExceptionHandler;\r\n\r\n    public class Tester {\r\n    \tpublic static void main(String[] args) {\r\n    \r\n    \t\tThread.currentThread().setUncaughtExceptionHandler(new UncaughtExceptionHandler() {\r\n    \t\t\t@Override\r\n    \t\t\tpublic void uncaughtException(Thread t, Throwable e) {\r\n    \t\t\t\t// write here the new behaviour and it will be applied for all the uncaughted Exceptions\r\n    \t\t\t\tSystem.out.println(&quot;No output here !&quot;);\r\n    \t\t\t}\r\n    \t\t});\r\n    \r\n    \t\tthrow new RuntimeException(&quot;my message&quot;);\r\n    \t}\r\n    }\r\n-------------\r\n\r\nOutput :\r\n\r\n    No output here !\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/lang/Thread.html#setUncaughtExceptionHandler(java.lang.Thread.UncaughtExceptionHandler):~:text=A%20thread%20can%20take%20full%20control%20of%20how%20it%20responds%20to%20uncaught%20exceptions%20by%20having%20its%20uncaught%20exception%20handler%20explicitly%20set.%20If%20no%20such%20handler%20is%20set%20then%20the%20thread%27s%20ThreadGroup%20object%20acts%20as%20its%20handler.","title":"How to stop printing the StackTrace of exceptions in the console","body":"<p>From the Java documentaiton <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Thread.html#setUncaughtExceptionHandler(java.lang.Thread.UncaughtExceptionHandler):%7E:text=A%20thread%20can%20take%20full%20control%20of%20how%20it%20responds%20to%20uncaught%20exceptions%20by%20having%20its%20uncaught%20exception%20handler%20explicitly%20set.%20If%20no%20such%20handler%20is%20set%20then%20the%20thread%27s%20ThreadGroup%20object%20acts%20as%20its%20handler.\" rel=\"nofollow noreferrer\">here</a> : <code>A thread can take full control of how it responds to uncaught exceptions by having its uncaught exception handler explicitly set</code>. So you can simply call the setUncaughtExceptionHandler method of the current thread and create your own UncaughtExceptionHandler instance, passing this instance to the method as argument exactly like that :</p>\n<pre><code>import java.lang.Thread.UncaughtExceptionHandler;\n\npublic class Tester {\n    public static void main(String[] args) {\n\n        Thread.currentThread().setUncaughtExceptionHandler(new UncaughtExceptionHandler() {\n            @Override\n            public void uncaughtException(Thread t, Throwable e) {\n                // write here the new behaviour and it will be applied for all the uncaughted Exceptions\n                System.out.println(&quot;No output here !&quot;);\n            }\n        });\n\n        throw new RuntimeException(&quot;my message&quot;);\n    }\n}\n</code></pre>\n<hr />\n<p>Output :</p>\n<pre><code>No output here !\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21765216,"reputation":109,"user_id":16069214,"display_name":"Enes Sabi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656952396,"creation_date":1656952396,"answer_id":72859773,"question_id":72859672,"body_markdown":"A good way of programming is that you capsulate the critical code in a try-catch.\r\n```\r\ntry {\r\n    File.open();\r\n} catch (Exception ex) {\r\n    System.err.println(&quot;ErrorMessage: No Output here!&quot;);\r\n}\r\n```\r\nThe Exception catches everything, but you could always specify it for a RuntimeException. That&#39;s what works best for me and my code.","title":"How to stop printing the StackTrace of exceptions in the console","body":"<p>A good way of programming is that you capsulate the critical code in a try-catch.</p>\n<pre><code>try {\n    File.open();\n} catch (Exception ex) {\n    System.err.println(&quot;ErrorMessage: No Output here!&quot;);\n}\n</code></pre>\n<p>The Exception catches everything, but you could always specify it for a RuntimeException. That's what works best for me and my code.</p>\n"}],"owner":{"account_id":22886030,"reputation":1849,"user_id":17026900,"display_name":"Oussama ZAGHDOUD"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1656952698,"creation_date":1656951816,"question_id":72859672,"body_markdown":"If an exception is thrown without catching it, the default behaviour is to print the exception stack trace in the console.\r\nHow to do to change this behaviour for example to write something else in the console or do some tasks wihtout catching those excpetions.\r\n\r\n**The goal is to stop writing the stackTrace for all the Exceptions and do any other task , for example write &quot;No output here !&quot; if an Exception is thrown .**\r\n\r\n    public class Tester {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tthrow new RuntimeException(&quot;my message&quot;);\r\n     \t}\r\n    }\r\n---------------\r\nOutput :\r\n\r\n    Exception in thread &quot;main&quot; java.lang.RuntimeException: my message\r\n    \tat src.Tester.main(Tester.java:17)\r\n\r\n-----------------\r\n\r\nExcpected Output:\r\n\r\n    No output here !\r\n\r\n\r\n","title":"How to stop printing the StackTrace of exceptions in the console","body":"<p>If an exception is thrown without catching it, the default behaviour is to print the exception stack trace in the console.\nHow to do to change this behaviour for example to write something else in the console or do some tasks wihtout catching those excpetions.</p>\n<p><strong>The goal is to stop writing the stackTrace for all the Exceptions and do any other task , for example write &quot;No output here !&quot; if an Exception is thrown .</strong></p>\n<pre><code>public class Tester {\n    public static void main(String[] args) {\n        throw new RuntimeException(&quot;my message&quot;);\n    }\n}\n</code></pre>\n<hr />\n<p>Output :</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.RuntimeException: my message\n    at src.Tester.main(Tester.java:17)\n</code></pre>\n<hr />\n<p>Excpected Output:</p>\n<pre><code>No output here !\n</code></pre>\n"},{"tags":["java","spring","unit-testing"],"answers":[{"tags":[],"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656952358,"creation_date":1656946877,"answer_id":72858711,"question_id":72858582,"body_markdown":"If I understand you correctly, then your requirement is to use reference of `testSender ` in each of method. For this I can suggest you to use @BeforeEach in `FeedbackServiceTest `\r\n:\r\n\r\n\r\n    public class FeedbackServiceTest {\r\n        @Autowired\r\n          private BeanFactory beanFactory;\r\n        \r\n          //I&#39;d like to use this in the various methods:\r\n          private AppUser testSender;\r\n        \r\n          \r\n          @BeforeEach\r\n          public void setBean(){\r\n           testSender= beanFactory.getBean(&quot;sender&quot;, AppUser.class);\r\n          }\r\n    ...//rest other class\r\n\r\n&amp; then use `testSender` in each of your test method.\r\n\r\nEdit: \r\nAlternatively, you can use Qualifier bean if your TestConfiguration is correctly creating bean (Here no need to use @BeforeEach in this case): \r\n\r\n \r\n\r\n    public class FeedbackServiceTest {\r\n        @Autowired\r\n        @Qualifier(value=&quot;sender&quot;)\r\n        private AppUser testSender;\r\n       ...\r\n\r\n\r\n","title":"How can I use BeanFactory.getBean() in a test class field?","body":"<p>If I understand you correctly, then your requirement is to use reference of <code>testSender </code> in each of method. For this I can suggest you to use @BeforeEach in <code>FeedbackServiceTest </code>\n:</p>\n<pre><code>public class FeedbackServiceTest {\n    @Autowired\n      private BeanFactory beanFactory;\n    \n      //I'd like to use this in the various methods:\n      private AppUser testSender;\n    \n      \n      @BeforeEach\n      public void setBean(){\n       testSender= beanFactory.getBean(&quot;sender&quot;, AppUser.class);\n      }\n...//rest other class\n</code></pre>\n<p>&amp; then use <code>testSender</code> in each of your test method.</p>\n<p>Edit:\nAlternatively, you can use Qualifier bean if your TestConfiguration is correctly creating bean (Here no need to use @BeforeEach in this case):</p>\n<pre><code>public class FeedbackServiceTest {\n    @Autowired\n    @Qualifier(value=&quot;sender&quot;)\n    private AppUser testSender;\n   ...\n</code></pre>\n"}],"owner":{"account_id":24646248,"reputation":11,"user_id":18543885,"display_name":"Tam&#225;s Kir&#225;ly"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":260,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1656952358,"creation_date":1656946223,"question_id":72858582,"body_markdown":"I&#39;m writing test cases in which I would like to use the same BeanFactory.getBean() instance with only small changes - so I don&#39;t want to write e.g.: `Class class = factory.getBean(&quot;someName&quot;, Class.class);` every single time, but I&#39;d rather just put it in a private field and use the `class` variable in the various test cases.\r\n\r\nThe test class looks like this: \r\n```\r\n@ExtendWith(SpringExtension.class)\r\n@SpringBootTest\r\n@AutoConfigureMockMvc\r\n@ActiveProfiles(value = &quot;test&quot;)\r\n@Import(TestConfiguration.class)\r\npublic class FeedbackServiceTest {\r\n\r\n  @Autowired\r\n  private BeanFactory beanFactory;\r\n\r\n  //I&#39;d like to use this in the various methods:\r\n  private AppUser testSender = beanFactory.getBean(&quot;sender&quot;, AppUser.class);\r\n  \r\n  //other fields to be cleared up with BeanFactory:\r\n  private final FeedbackRepository feedbackRepository = Mockito.mock(FeedbackRepository.class);\r\n  private final AppUserRepository appUserRepository = Mockito.mock(AppUserRepository.class);\r\n  private final ValueRepository valueRepository = Mockito.mock(ValueRepository.class);\r\n  private final FeedbackService feedbackService = new FeedbackServiceImpl(feedbackRepository, appUserRepository,\r\n      valueRepository);\r\n  private final AppUser testTarget = new AppUser(&quot;someUserDatas&quot;));\r\n  private final Value testValue = new Value(&quot;someValueDatas&quot;);\r\n  private final Feedback testFeedback = new Feedback(testSender, testValue, testTarget, &quot;otherDatas&quot;);\r\n\r\n  @Test\r\n  public void saveNewFeedback_WithValidParams_ShouldSaveFeedback() {\r\n\r\n    Mockito.when(appUserRepository.findById(testSender.getId()))\r\n        .thenReturn(Optional.of(testSender));\r\n    Mockito.when(appUserRepository.findById(testTarget.getId()))\r\n        .thenReturn(Optional.of(testTarget));\r\n    Mockito.when(valueRepository.findById(testValue.getId()))\r\n        .thenReturn(Optional.of(testValue));\r\n    feedbackService.saveNewFeedback(testFeedback);\r\n    Mockito.verify(feedbackRepository, times(1)).save(Mockito.any(Feedback.class));\r\n  }\r\n```\r\n\r\nAnd the TestConfiguration class is this:\r\n\r\n```\r\n@Configuration\r\npublic class TestConfiguration {\r\n\r\n  @Bean(name = &quot;sender&quot;)\r\n  @Scope(value = ConfigurableBeanFactory.SCOPE_PROTOTYPE)\r\n  public AppUser getAppUser() {\r\n    return new AppUser(&quot;Pista&quot;, &quot;pista@pista.com&quot;, Gender.MALE, &quot;p123_ABC&quot;, &quot;USER&quot;,\r\n        LocalDate.parse(&quot;1967-10-12&quot;));\r\n  }\r\n}\r\n```\r\n\r\nIf I put the `private AppUser testSender = beanFactory.getBean(&quot;sender&quot;, AppUser.class);` line in the method scope, it runs fine, otherwise it throws the glorious `NullPointerException`","title":"How can I use BeanFactory.getBean() in a test class field?","body":"<p>I'm writing test cases in which I would like to use the same BeanFactory.getBean() instance with only small changes - so I don't want to write e.g.: <code>Class class = factory.getBean(&quot;someName&quot;, Class.class);</code> every single time, but I'd rather just put it in a private field and use the <code>class</code> variable in the various test cases.</p>\n<p>The test class looks like this:</p>\n<pre><code>@ExtendWith(SpringExtension.class)\n@SpringBootTest\n@AutoConfigureMockMvc\n@ActiveProfiles(value = &quot;test&quot;)\n@Import(TestConfiguration.class)\npublic class FeedbackServiceTest {\n\n  @Autowired\n  private BeanFactory beanFactory;\n\n  //I'd like to use this in the various methods:\n  private AppUser testSender = beanFactory.getBean(&quot;sender&quot;, AppUser.class);\n  \n  //other fields to be cleared up with BeanFactory:\n  private final FeedbackRepository feedbackRepository = Mockito.mock(FeedbackRepository.class);\n  private final AppUserRepository appUserRepository = Mockito.mock(AppUserRepository.class);\n  private final ValueRepository valueRepository = Mockito.mock(ValueRepository.class);\n  private final FeedbackService feedbackService = new FeedbackServiceImpl(feedbackRepository, appUserRepository,\n      valueRepository);\n  private final AppUser testTarget = new AppUser(&quot;someUserDatas&quot;));\n  private final Value testValue = new Value(&quot;someValueDatas&quot;);\n  private final Feedback testFeedback = new Feedback(testSender, testValue, testTarget, &quot;otherDatas&quot;);\n\n  @Test\n  public void saveNewFeedback_WithValidParams_ShouldSaveFeedback() {\n\n    Mockito.when(appUserRepository.findById(testSender.getId()))\n        .thenReturn(Optional.of(testSender));\n    Mockito.when(appUserRepository.findById(testTarget.getId()))\n        .thenReturn(Optional.of(testTarget));\n    Mockito.when(valueRepository.findById(testValue.getId()))\n        .thenReturn(Optional.of(testValue));\n    feedbackService.saveNewFeedback(testFeedback);\n    Mockito.verify(feedbackRepository, times(1)).save(Mockito.any(Feedback.class));\n  }\n</code></pre>\n<p>And the TestConfiguration class is this:</p>\n<pre><code>@Configuration\npublic class TestConfiguration {\n\n  @Bean(name = &quot;sender&quot;)\n  @Scope(value = ConfigurableBeanFactory.SCOPE_PROTOTYPE)\n  public AppUser getAppUser() {\n    return new AppUser(&quot;Pista&quot;, &quot;pista@pista.com&quot;, Gender.MALE, &quot;p123_ABC&quot;, &quot;USER&quot;,\n        LocalDate.parse(&quot;1967-10-12&quot;));\n  }\n}\n</code></pre>\n<p>If I put the <code>private AppUser testSender = beanFactory.getBean(&quot;sender&quot;, AppUser.class);</code> line in the method scope, it runs fine, otherwise it throws the glorious <code>NullPointerException</code></p>\n"},{"tags":["java","timing","execution-time"],"comments":[{"owner":{"account_id":8977,"reputation":18862,"user_id":16404,"accept_rate":95,"display_name":"Mike Pone"},"score":0,"creation_date":1223416038,"post_id":180158,"comment_id":68822430,"body_markdown":"JAMon API is a free, simple, high performance, thread safe, Java API that allows developers to easily monitor the performance and scalability of production applications. JAMon tracks hits, execution times (total, avg, min, max, std dev), and more. [http://jamonapi.sourceforge.net/](http://jamonapi.sourceforge.net/) download :\n[http://sourceforge.net/project/showfiles.php?group_id=96550](http://sourceforge.net/project/showfiles.php?group_id=96550)","body":"JAMon API is a free, simple, high performance, thread safe, Java API that allows developers to easily monitor the performance and scalability of production applications. JAMon tracks hits, execution times (total, avg, min, max, std dev), and more. <a href=\"http://jamonapi.sourceforge.net/\" rel=\"nofollow noreferrer\">http://jamonapi.sourceforge.net/</a> download : <a href=\"http://sourceforge.net/project/showfiles.php?group_id=96550\" rel=\"nofollow noreferrer\">http://sourceforge.net/project/showfiles.php?group_id=96550</a>"},{"owner":{"display_name":"user101561"},"score":2,"creation_date":1241529021,"post_id":180158,"comment_id":68946419,"body_markdown":"You might also want to look at the [Apache Commons Lang StopWatch](http://commons.apache.org/proper/commons-lang/javadocs/api-release/org/apache/commons/lang3/time/StopWatch.html) class. A simple but useful utility class.","body":"You might also want to look at the <a href=\"http://commons.apache.org/proper/commons-lang/javadocs/api-release/org/apache/commons/lang3/time/StopWatch.html\" rel=\"nofollow noreferrer\">Apache Commons Lang StopWatch</a> class. A simple but useful utility class."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1467413331,"post_id":180158,"comment_id":63738781,"body_markdown":"Later similar Question: [How do I write a correct micro-benchmark in Java?](http://stackoverflow.com/q/504103/642706)","body":"Later similar Question: <a href=\"http://stackoverflow.com/q/504103/642706\">How do I write a correct micro-benchmark in Java?</a>"},{"owner":{"account_id":1257650,"reputation":23479,"user_id":1216775,"accept_rate":54,"display_name":"akhil_mittal"},"score":0,"creation_date":1564659374,"post_id":180158,"comment_id":101108653,"body_markdown":"Java 8 using `Instant` class: https://stackoverflow.com/a/30975902/1216775","body":"Java 8 using <code>Instant</code> class: <a href=\"https://stackoverflow.com/a/30975902/1216775\">stackoverflow.com/a/30975902/1216775</a>"}],"answers":[{"tags":[],"owner":{"account_id":11089,"reputation":400030,"user_id":21234,"accept_rate":91,"display_name":"skaffman"},"down_vote_count":1,"up_vote_count":44,"is_accepted":false,"score":43,"last_activity_date":1327567020,"creation_date":1223410380,"answer_id":180171,"question_id":180158,"body_markdown":"This probably isn&#39;t what you wanted me to say, but this is a good use of AOP. Whip an proxy interceptor around your method, and do the timing in there.\r\n\r\nThe what, why and how of AOP is rather beyond the scope of this answer, sadly, but that&#39;s how I&#39;d likely do it. \r\n\r\nEdit: [Here&#39;s a link][1] to Spring AOP to get you started, if you&#39;re keen. This is the most accessible implementation of AOP that Iive come across for java.\r\n\r\nAlso, given everyone else&#39;s very simple suggestions, I should add that AOP is for when you don&#39;t want stuff like timing to invade your code. But in many cases, that sort of simple and easy approach is fine.\r\n\r\n\r\n  [1]: http://static.springframework.org/spring/docs/2.5.x/reference/aop.html","title":"How do I time a method&#39;s execution in Java?","body":"<p>This probably isn't what you wanted me to say, but this is a good use of AOP. Whip an proxy interceptor around your method, and do the timing in there.</p>\n\n<p>The what, why and how of AOP is rather beyond the scope of this answer, sadly, but that's how I'd likely do it. </p>\n\n<p>Edit: <a href=\"http://static.springframework.org/spring/docs/2.5.x/reference/aop.html\" rel=\"noreferrer\">Here's a link</a> to Spring AOP to get you started, if you're keen. This is the most accessible implementation of AOP that Iive come across for java.</p>\n\n<p>Also, given everyone else's very simple suggestions, I should add that AOP is for when you don't want stuff like timing to invade your code. But in many cases, that sort of simple and easy approach is fine.</p>\n"},{"tags":[],"owner":{"account_id":9775,"reputation":14444,"user_id":18189,"accept_rate":80,"display_name":"MBCook"},"down_vote_count":3,"up_vote_count":258,"is_accepted":false,"score":255,"last_activity_date":1223410469,"creation_date":1223410469,"answer_id":180179,"question_id":180158,"body_markdown":"I go with the simple answer. Works for me.\r\n\r\n    long startTime = System.currentTimeMillis();\r\n\r\n    doReallyLongThing();\r\n\r\n    long endTime = System.currentTimeMillis();\r\n\r\n    System.out.println(&quot;That took &quot; + (endTime - startTime) + &quot; milliseconds&quot;);\r\n\r\nIt works quite well. The resolution is obviously only to the millisecond, you can do better with System.nanoTime(). There are some limitations to both (operating system schedule slices, etc.) but this works pretty well.\r\n\r\nAverage across a couple of runs (the more the better) and you&#39;ll get a decent idea.\r\n\r\n","title":"How do I time a method&#39;s execution in Java?","body":"<p>I go with the simple answer. Works for me.</p>\n\n<pre><code>long startTime = System.currentTimeMillis();\n\ndoReallyLongThing();\n\nlong endTime = System.currentTimeMillis();\n\nSystem.out.println(\"That took \" + (endTime - startTime) + \" milliseconds\");\n</code></pre>\n\n<p>It works quite well. The resolution is obviously only to the millisecond, you can do better with System.nanoTime(). There are some limitations to both (operating system schedule slices, etc.) but this works pretty well.</p>\n\n<p>Average across a couple of runs (the more the better) and you'll get a decent idea.</p>\n"},{"tags":[],"owner":{"account_id":8022,"reputation":21441,"user_id":14167,"accept_rate":83,"display_name":"David Nehme"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1223410478,"creation_date":1223410478,"answer_id":180180,"question_id":180158,"body_markdown":"If you want wall-clock time\r\n\r\n    long start_time = System.currentTimeMillis();\r\n    object.method();\r\n    long end_time = System.currentTimeMillis();\r\n    long execution_time = end_time - start_time;\r\n\r\n","title":"How do I time a method&#39;s execution in Java?","body":"<p>If you want wall-clock time</p>\n\n<pre><code>long start_time = System.currentTimeMillis();\nobject.method();\nlong end_time = System.currentTimeMillis();\nlong execution_time = end_time - start_time;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9728,"reputation":15219,"user_id":18093,"display_name":"Diastrophism"},"down_vote_count":5,"up_vote_count":1458,"is_accepted":true,"score":1453,"last_activity_date":1468014594,"creation_date":1223410576,"answer_id":180191,"question_id":180158,"body_markdown":"There is always the old-fashioned way:\r\n\r\n    long startTime = System.nanoTime();\r\n    methodToTime();\r\n    long endTime = System.nanoTime();\r\n\r\n    long duration = (endTime - startTime);  //divide by 1000000 to get milliseconds.\r\n\r\n","title":"How do I time a method&#39;s execution in Java?","body":"<p>There is always the old-fashioned way:</p>\n\n<pre><code>long startTime = System.nanoTime();\nmethodToTime();\nlong endTime = System.nanoTime();\n\nlong duration = (endTime - startTime);  //divide by 1000000 to get milliseconds.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12492,"reputation":5576,"user_id":1444511,"accept_rate":88,"display_name":"Ryan Rodemoyer"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1223410932,"creation_date":1223410585,"answer_id":180192,"question_id":180158,"body_markdown":"    long startTime = System.currentTimeMillis();\r\n    // code goes here\r\n    long finishTime = System.currentTimeMillis();\r\n    long elapsedTime = finishTime - startTime; // elapsed time in milliseconds","title":"How do I time a method&#39;s execution in Java?","body":"<pre><code>long startTime = System.currentTimeMillis();\n// code goes here\nlong finishTime = System.currentTimeMillis();\nlong elapsedTime = finishTime - startTime; // elapsed time in milliseconds\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13018,"reputation":14568,"user_id":25920,"accept_rate":88,"display_name":"luke"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1223410667,"creation_date":1223410667,"answer_id":180200,"question_id":180158,"body_markdown":"I basically do variations of this, but considering how hotspot compilation works, if you want to get accurate results you need to throw out the first few measurements and make sure you are using the method in a real world (read application specific) application.  \r\n\r\nIf the JIT decides to compile it your numbers will vary heavily.  so just be aware","title":"How do I time a method&#39;s execution in Java?","body":"<p>I basically do variations of this, but considering how hotspot compilation works, if you want to get accurate results you need to throw out the first few measurements and make sure you are using the method in a real world (read application specific) application.  </p>\n\n<p>If the JIT decides to compile it your numbers will vary heavily.  so just be aware</p>\n"},{"tags":[],"owner":{"account_id":11549,"reputation":10960,"user_id":22312,"accept_rate":62,"display_name":"Horst Gutmann"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1223410713,"creation_date":1223410713,"answer_id":180204,"question_id":180158,"body_markdown":"There are a couple of ways to do that. I normally fall back to just using something like this: \r\n\r\n    long start = System.currentTimeMillis();\r\n    // ... do something ...\r\n    long end = System.currentTimeMillis();\r\n\r\nor the same thing with System.nanoTime();\r\n\r\nFor something more on the benchmarking side of things there seems also to be this one: &lt;http://jetm.void.fm/&gt; Never tried it though.","title":"How do I time a method&#39;s execution in Java?","body":"<p>There are a couple of ways to do that. I normally fall back to just using something like this: </p>\n\n<pre><code>long start = System.currentTimeMillis();\n// ... do something ...\nlong end = System.currentTimeMillis();\n</code></pre>\n\n<p>or the same thing with System.nanoTime();</p>\n\n<p>For something more on the benchmarking side of things there seems also to be this one: <a href=\"http://jetm.void.fm/\" rel=\"noreferrer\">http://jetm.void.fm/</a> Never tried it though.</p>\n"},{"tags":[],"owner":{"account_id":6590,"reputation":13159,"user_id":11142,"accept_rate":49,"display_name":"anjanb"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1223410879,"creation_date":1223410879,"answer_id":180222,"question_id":180158,"body_markdown":"As &quot;skaffman&quot; said, use AOP OR you can use run time bytecode weaving, just like unit test method coverage tools use to transparently add timing info to methods invoked.\r\n\r\nYou can look at code used by open source tools tools like Emma (http://downloads.sourceforge.net/emma/emma-2.0.5312-src.zip?modtime=1118607545&amp;big_mirror=0). The other opensource coverage tool is http://prdownloads.sourceforge.net/cobertura/cobertura-1.9-src.zip?download.\r\n\r\nIf you eventually manage to do what you set out for, pls. share it back with the community here with your ant task/jars.","title":"How do I time a method&#39;s execution in Java?","body":"<p>As \"skaffman\" said, use AOP OR you can use run time bytecode weaving, just like unit test method coverage tools use to transparently add timing info to methods invoked.</p>\n\n<p>You can look at code used by open source tools tools like Emma (<a href=\"http://downloads.sourceforge.net/emma/emma-2.0.5312-src.zip?modtime=1118607545&amp;big_mirror=0\" rel=\"noreferrer\">http://downloads.sourceforge.net/emma/emma-2.0.5312-src.zip?modtime=1118607545&amp;big_mirror=0</a>). The other opensource coverage tool is <a href=\"http://prdownloads.sourceforge.net/cobertura/cobertura-1.9-src.zip?download\" rel=\"noreferrer\">http://prdownloads.sourceforge.net/cobertura/cobertura-1.9-src.zip?download</a>.</p>\n\n<p>If you eventually manage to do what you set out for, pls. share it back with the community here with your ant task/jars.</p>\n"},{"tags":[],"owner":{"account_id":9626,"reputation":17894,"user_id":17871,"accept_rate":86,"display_name":"James Schek"},"down_vote_count":1,"up_vote_count":92,"is_accepted":false,"score":91,"last_activity_date":1223421853,"creation_date":1223415358,"answer_id":180543,"question_id":180158,"body_markdown":"Use a profiler (JProfiler, Netbeans Profiler, Visual VM, Eclipse Profiler, etc). You&#39;ll get the most accurate results and is the least intrusive. They use the built-in JVM mechanism for profiling which can also give you extra information like stack traces, execution paths, and more comprehensive results if necessary.\r\n\r\nWhen using a fully integrated profiler, it&#39;s faily trivial to profile a method. Right click, Profiler -&gt; Add to Root Methods. Then run the profiler just like you were doing a test run or debugger.","title":"How do I time a method&#39;s execution in Java?","body":"<p>Use a profiler (JProfiler, Netbeans Profiler, Visual VM, Eclipse Profiler, etc). You'll get the most accurate results and is the least intrusive. They use the built-in JVM mechanism for profiling which can also give you extra information like stack traces, execution paths, and more comprehensive results if necessary.</p>\n\n<p>When using a fully integrated profiler, it's faily trivial to profile a method. Right click, Profiler -> Add to Root Methods. Then run the profiler just like you were doing a test run or debugger.</p>\n"},{"tags":[],"owner":{"display_name":"murdochjohn"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1223448038,"creation_date":1223448038,"answer_id":181571,"question_id":180158,"body_markdown":"We are using AspectJ and Java annotations for this purpose. If we need to know to execution time for a method, we simple annotate it. A more advanced version could use an own log level that can enabled and disabled at runtime.\r\n\r\n\r\n\r\n    public @interface Trace {\r\n      boolean showParameters();\r\n    }\r\n    \r\n    @Aspect\r\n    public class TraceAspect {\r\n      [...]\r\n      @Around(&quot;tracePointcut() &amp;&amp; @annotation(trace) &amp;&amp; !within(TraceAspect)&quot;)\r\n      public Object traceAdvice ( ProceedingJintPoint jP, Trace trace ) {\r\n    \r\n        Object result;\r\n        // initilize timer\r\n    \r\n        try { \r\n          result = jp.procced();\r\n        } finally { \r\n          // calculate execution time \r\n        }\r\n    \r\n        return result;\r\n      }\r\n      [...]\r\n    }","title":"How do I time a method&#39;s execution in Java?","body":"<p>We are using AspectJ and Java annotations for this purpose. If we need to know to execution time for a method, we simple annotate it. A more advanced version could use an own log level that can enabled and disabled at runtime.</p>\n\n<pre><code>public @interface Trace {\n  boolean showParameters();\n}\n\n@Aspect\npublic class TraceAspect {\n  [...]\n  @Around(\"tracePointcut() &amp;&amp; @annotation(trace) &amp;&amp; !within(TraceAspect)\")\n  public Object traceAdvice ( ProceedingJintPoint jP, Trace trace ) {\n\n    Object result;\n    // initilize timer\n\n    try { \n      result = jp.procced();\n    } finally { \n      // calculate execution time \n    }\n\n    return result;\n  }\n  [...]\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11209,"reputation":25528,"user_id":21499,"accept_rate":56,"display_name":"Dr. Hans-Peter St&#246;rr"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1436953638,"creation_date":1225869610,"answer_id":264547,"question_id":180158,"body_markdown":"Just a small twist, if you don&#39;t use tooling and want to time methods with low execution time: execute it many times, each time doubling the number of times it is executed until you reach a second, or so. Thus, the time of the Call to System.nanoTime and so forth, nor the accuracy of System.nanoTime does affect the result much.\r\n\r\n        int runs = 0, runsPerRound = 10;\r\n        long begin = System.nanoTime(), end;\r\n        do {\r\n            for (int i=0; i&lt;runsPerRound; ++i) timedMethod();\r\n            end = System.nanoTime();\r\n            runs += runsPerRound;\r\n            runsPerRound *= 2;\r\n        } while (runs &lt; Integer.MAX_VALUE / 2 &amp;&amp; 1000000000L &gt; end - begin);\r\n        System.out.println(&quot;Time for timedMethod() is &quot; + \r\n            0.000000001 * (end-begin) / runs + &quot; seconds&quot;);\r\n\r\nOf course, the caveats about using the wall clock apply: influences of JIT-compilation, multiple threads / processes etc. Thus, you need to first execute the method *a lot* of times first, such that the JIT compiler does its work, and then repeat this test multiple times and take the lowest execution time.","title":"How do I time a method&#39;s execution in Java?","body":"<p>Just a small twist, if you don't use tooling and want to time methods with low execution time: execute it many times, each time doubling the number of times it is executed until you reach a second, or so. Thus, the time of the Call to System.nanoTime and so forth, nor the accuracy of System.nanoTime does affect the result much.</p>\n\n<pre><code>    int runs = 0, runsPerRound = 10;\n    long begin = System.nanoTime(), end;\n    do {\n        for (int i=0; i&lt;runsPerRound; ++i) timedMethod();\n        end = System.nanoTime();\n        runs += runsPerRound;\n        runsPerRound *= 2;\n    } while (runs &lt; Integer.MAX_VALUE / 2 &amp;&amp; 1000000000L &gt; end - begin);\n    System.out.println(\"Time for timedMethod() is \" + \n        0.000000001 * (end-begin) / runs + \" seconds\");\n</code></pre>\n\n<p>Of course, the caveats about using the wall clock apply: influences of JIT-compilation, multiple threads / processes etc. Thus, you need to first execute the method <em>a lot</em> of times first, such that the JIT compiler does its work, and then repeat this test multiple times and take the lowest execution time.</p>\n"},{"tags":[],"owner":{"account_id":1081852,"reputation":211,"user_id":1078611,"display_name":"Narayan"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1322887241,"creation_date":1322887044,"answer_id":8365561,"question_id":180158,"body_markdown":"Also We can use StopWatch class of Apache commons for measuring the time.\r\n\r\nSample code\r\n\r\n\r\n    org.apache.commons.lang.time.StopWatch sw = new org.apache.commons.lang.time.StopWatch();\r\n\r\n    System.out.println(&quot;getEventFilterTreeData :: Start Time : &quot; + sw.getTime());\r\n    sw.start();\r\n\r\n    // Method execution code\r\n\r\n    sw.stop();\r\n    System.out.println(&quot;getEventFilterTreeData :: End Time : &quot; + sw.getTime());","title":"How do I time a method&#39;s execution in Java?","body":"<p>Also We can use StopWatch class of Apache commons for measuring the time.</p>\n\n<p>Sample code</p>\n\n<pre><code>org.apache.commons.lang.time.StopWatch sw = new org.apache.commons.lang.time.StopWatch();\n\nSystem.out.println(\"getEventFilterTreeData :: Start Time : \" + sw.getTime());\nsw.start();\n\n// Method execution code\n\nsw.stop();\nSystem.out.println(\"getEventFilterTreeData :: End Time : \" + sw.getTime());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1278287,"reputation":1129,"user_id":1233031,"display_name":"mergenchik"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1464136753,"creation_date":1330268873,"answer_id":9454173,"question_id":180158,"body_markdown":"You can use [Perf4j][1]. Very cool utility. Usage is simple\r\n\r\n    String watchTag = &quot;target.SomeMethod&quot;;\r\n    StopWatch stopWatch = new LoggingStopWatch(watchTag);\r\n    Result result = null; // Result is a type of a return value of a method\r\n    try {\r\n        result = target.SomeMethod();\r\n        stopWatch.stop(watchTag + &quot;.success&quot;);\r\n    } catch (Exception e) {\r\n        stopWatch.stop(watchTag + &quot;.fail&quot;, &quot;Exception was &quot; + e);\r\n        throw e; \r\n    }\r\n\r\n&lt;del&gt;More information can be found in [Developer Guide](http://perf4j.codehaus.org/devguide.html)&lt;/del&gt;\r\n\r\nEdit: [Project seems dead](https://github.com/perf4j/perf4j/issues/18)\r\n\r\n[1]: https://github.com/perf4j/perf4j","title":"How do I time a method&#39;s execution in Java?","body":"<p>You can use <a href=\"https://github.com/perf4j/perf4j\" rel=\"nofollow noreferrer\">Perf4j</a>. Very cool utility. Usage is simple</p>\n\n<pre><code>String watchTag = \"target.SomeMethod\";\nStopWatch stopWatch = new LoggingStopWatch(watchTag);\nResult result = null; // Result is a type of a return value of a method\ntry {\n    result = target.SomeMethod();\n    stopWatch.stop(watchTag + \".success\");\n} catch (Exception e) {\n    stopWatch.stop(watchTag + \".fail\", \"Exception was \" + e);\n    throw e; \n}\n</code></pre>\n\n<p><del>More information can be found in <a href=\"http://perf4j.codehaus.org/devguide.html\" rel=\"nofollow noreferrer\">Developer Guide</a></del></p>\n\n<p>Edit: <a href=\"https://github.com/perf4j/perf4j/issues/18\" rel=\"nofollow noreferrer\">Project seems dead</a></p>\n"},{"tags":[],"owner":{"account_id":1542378,"reputation":1951,"user_id":1436703,"accept_rate":60,"display_name":"iceberg"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1339750247,"creation_date":1339750247,"answer_id":11047430,"question_id":180158,"body_markdown":"Really good code.\r\n\r\nhttp://www.rgagnon.com/javadetails/java-0585.html\r\n\r\n    import java.util.concurrent.TimeUnit;\r\n   \r\n    long startTime = System.currentTimeMillis();\r\n    ........\r\n    ........\r\n    ........\r\n    long finishTime = System.currentTimeMillis();\r\n\r\n    String diff = millisToShortDHMS(finishTime - startTime);\r\n\r\n    \r\n      /**\r\n       * converts time (in milliseconds) to human-readable format\r\n       *  &quot;&lt;dd:&gt;hh:mm:ss&quot;\r\n       */\r\n      public static String millisToShortDHMS(long duration) {\r\n        String res = &quot;&quot;;\r\n        long days  = TimeUnit.MILLISECONDS.toDays(duration);\r\n        long hours = TimeUnit.MILLISECONDS.toHours(duration)\r\n                       - TimeUnit.DAYS.toHours(TimeUnit.MILLISECONDS.toDays(duration));\r\n        long minutes = TimeUnit.MILLISECONDS.toMinutes(duration)\r\n                         - TimeUnit.HOURS.toMinutes(TimeUnit.MILLISECONDS.toHours(duration));\r\n        long seconds = TimeUnit.MILLISECONDS.toSeconds(duration)\r\n                       - TimeUnit.MINUTES.toSeconds(TimeUnit.MILLISECONDS.toMinutes(duration));\r\n        if (days == 0) {\r\n          res = String.format(&quot;%02d:%02d:%02d&quot;, hours, minutes, seconds);\r\n        }\r\n        else {\r\n          res = String.format(&quot;%dd%02d:%02d:%02d&quot;, days, hours, minutes, seconds);\r\n        }\r\n        return res;\r\n      }","title":"How do I time a method&#39;s execution in Java?","body":"<p>Really good code.</p>\n\n<p><a href=\"http://www.rgagnon.com/javadetails/java-0585.html\" rel=\"noreferrer\">http://www.rgagnon.com/javadetails/java-0585.html</a></p>\n\n<pre><code>import java.util.concurrent.TimeUnit;\n\nlong startTime = System.currentTimeMillis();\n........\n........\n........\nlong finishTime = System.currentTimeMillis();\n\nString diff = millisToShortDHMS(finishTime - startTime);\n\n\n  /**\n   * converts time (in milliseconds) to human-readable format\n   *  \"&lt;dd:&gt;hh:mm:ss\"\n   */\n  public static String millisToShortDHMS(long duration) {\n    String res = \"\";\n    long days  = TimeUnit.MILLISECONDS.toDays(duration);\n    long hours = TimeUnit.MILLISECONDS.toHours(duration)\n                   - TimeUnit.DAYS.toHours(TimeUnit.MILLISECONDS.toDays(duration));\n    long minutes = TimeUnit.MILLISECONDS.toMinutes(duration)\n                     - TimeUnit.HOURS.toMinutes(TimeUnit.MILLISECONDS.toHours(duration));\n    long seconds = TimeUnit.MILLISECONDS.toSeconds(duration)\n                   - TimeUnit.MINUTES.toSeconds(TimeUnit.MILLISECONDS.toMinutes(duration));\n    if (days == 0) {\n      res = String.format(\"%02d:%02d:%02d\", hours, minutes, seconds);\n    }\n    else {\n      res = String.format(\"%dd%02d:%02d:%02d\", days, hours, minutes, seconds);\n    }\n    return res;\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":63162,"reputation":102381,"user_id":187141,"accept_rate":82,"display_name":"yegor256"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1421655881,"creation_date":1357503142,"answer_id":14186259,"question_id":180158,"body_markdown":"Using AOP/AspectJ and [`@Loggable`](http://aspects.jcabi.com/apidocs-0.7.6/com/jcabi/aspects/Loggable.html) annotation from [jcabi-aspects](http://aspects.jcabi.com/) you can do it easy and compact:\r\n\r\n    @Loggable(Loggable.DEBUG)\r\n    public String getSomeResult() {\r\n      // return some value\r\n    }\r\n\r\nEvery call to this method will be sent to SLF4J logging facility with `DEBUG` logging level. And every log message will include execution time.","title":"How do I time a method&#39;s execution in Java?","body":"<p>Using AOP/AspectJ and <a href=\"http://aspects.jcabi.com/apidocs-0.7.6/com/jcabi/aspects/Loggable.html\" rel=\"noreferrer\"><code>@Loggable</code></a> annotation from <a href=\"http://aspects.jcabi.com/\" rel=\"noreferrer\">jcabi-aspects</a> you can do it easy and compact:</p>\n\n<pre><code>@Loggable(Loggable.DEBUG)\npublic String getSomeResult() {\n  // return some value\n}\n</code></pre>\n\n<p>Every call to this method will be sent to SLF4J logging facility with <code>DEBUG</code> logging level. And every log message will include execution time.</p>\n"},{"tags":[],"owner":{"account_id":457699,"reputation":2031,"user_id":857165,"display_name":"Dmitry Kalashnikov"},"down_vote_count":0,"up_vote_count":203,"is_accepted":false,"score":203,"last_activity_date":1403663855,"creation_date":1363205484,"answer_id":15395499,"question_id":180158,"body_markdown":"Come on guys! Nobody mentioned the [Guava][1] way to do that (which is arguably awesome):\r\n\r\n\r\n    import com.google.common.base.Stopwatch;\r\n\r\n    Stopwatch timer = Stopwatch.createStarted();\r\n    //method invocation\r\n    LOG.info(&quot;Method took: &quot; + timer.stop());\r\n\r\nThe nice thing is that Stopwatch.toString() does a good job of selecting time units for the measurement. I.e. if the value is small, it&#39;ll output 38 ns, if it&#39;s long, it&#39;ll show 5m 3s\r\n\r\n\r\nEven nicer:\r\n\r\n    Stopwatch timer = Stopwatch.createUnstarted();\r\n    for (...) {\r\n       timer.start();\r\n       methodToTrackTimeFor();\r\n       timer.stop();\r\n       methodNotToTrackTimeFor();\r\n    }\r\n    LOG.info(&quot;Method took: &quot; + timer);\r\n\r\n*Note: Google Guava requires Java 1.6+*\r\n\r\n  [1]: http://code.google.com/p/guava-libraries/","title":"How do I time a method&#39;s execution in Java?","body":"<p>Come on guys! Nobody mentioned the <a href=\"http://code.google.com/p/guava-libraries/\" rel=\"noreferrer\">Guava</a> way to do that (which is arguably awesome):</p>\n\n<pre><code>import com.google.common.base.Stopwatch;\n\nStopwatch timer = Stopwatch.createStarted();\n//method invocation\nLOG.info(\"Method took: \" + timer.stop());\n</code></pre>\n\n<p>The nice thing is that Stopwatch.toString() does a good job of selecting time units for the measurement. I.e. if the value is small, it'll output 38 ns, if it's long, it'll show 5m 3s</p>\n\n<p>Even nicer:</p>\n\n<pre><code>Stopwatch timer = Stopwatch.createUnstarted();\nfor (...) {\n   timer.start();\n   methodToTrackTimeFor();\n   timer.stop();\n   methodNotToTrackTimeFor();\n}\nLOG.info(\"Method took: \" + timer);\n</code></pre>\n\n<p><em>Note: Google Guava requires Java 1.6+</em></p>\n"},{"tags":[],"owner":{"account_id":70018,"reputation":882,"user_id":203459,"display_name":"Maciek Kreft"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1364998413,"creation_date":1364998413,"answer_id":15789819,"question_id":180158,"body_markdown":"    new Timer(&quot;&quot;){{\r\n        // code to time\t\r\n    }}.timeMe();\r\n\r\n\r\n   \r\n    public class Timer {\r\n    \r\n    \tprivate final String timerName;\r\n    \tprivate long started;\r\n    \r\n    \tpublic Timer(String timerName) {\r\n    \t\tthis.timerName = timerName;\r\n    \t\tthis.started = System.currentTimeMillis();\r\n    \t}\r\n    \t\r\n    \tpublic void timeMe() {\r\n    \t\tSystem.out.println(\r\n    \t\tString.format(&quot;Execution of &#39;%s&#39; takes %dms.&quot;, \r\n                    timerName, \r\n                    started-System.currentTimeMillis()));\r\n    \t}\r\n    \r\n    }\r\n","title":"How do I time a method&#39;s execution in Java?","body":"<pre><code>new Timer(\"\"){{\n    // code to time \n}}.timeMe();\n\n\n\npublic class Timer {\n\n    private final String timerName;\n    private long started;\n\n    public Timer(String timerName) {\n        this.timerName = timerName;\n        this.started = System.currentTimeMillis();\n    }\n\n    public void timeMe() {\n        System.out.println(\n        String.format(\"Execution of '%s' takes %dms.\", \n                timerName, \n                started-System.currentTimeMillis()));\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2576142,"reputation":343,"user_id":2545547,"accept_rate":25,"display_name":"hmitcs"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1372838134,"creation_date":1372838134,"answer_id":17442594,"question_id":180158,"body_markdown":"`System.nanoTime()` is a pretty precise system utility to measure execution time. But be careful, if you&#39;re running on pre-emptive scheduler mode (default), this utility actually measures wall-clock time and not CPU time. Therefore, you may notice different execution time values from run to run, depending on system loads. If you look for CPU time, I think that running your program in real-time mode will do the trick. You have to use RT linux. link: https://stackoverflow.com/questions/10502508/real-time-programming-with-linux ","title":"How do I time a method&#39;s execution in Java?","body":"<p><code>System.nanoTime()</code> is a pretty precise system utility to measure execution time. But be careful, if you're running on pre-emptive scheduler mode (default), this utility actually measures wall-clock time and not CPU time. Therefore, you may notice different execution time values from run to run, depending on system loads. If you look for CPU time, I think that running your program in real-time mode will do the trick. You have to use RT linux. link: <a href=\"https://stackoverflow.com/questions/10502508/real-time-programming-with-linux\">Real-time programming with Linux</a> </p>\n"},{"tags":[],"owner":{"account_id":2394954,"reputation":4617,"user_id":2093934,"accept_rate":67,"display_name":"gifpif"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1422384273,"creation_date":1386308931,"answer_id":20416934,"question_id":180158,"body_markdown":"You can try this way if just want know the time.    \r\n\r\n\r\n    long startTime = System.currentTimeMillis();\r\n    //@ Method call\r\n    System.out.println(&quot;Total time [ms]: &quot; + (System.currentTimeMillis() - startTime));    ","title":"How do I time a method&#39;s execution in Java?","body":"<p>You can try this way if just want know the time.    </p>\n\n<pre><code>long startTime = System.currentTimeMillis();\n//@ Method call\nSystem.out.println(\"Total time [ms]: \" + (System.currentTimeMillis() - startTime));    \n</code></pre>\n"},{"tags":[],"owner":{"account_id":391142,"reputation":15526,"user_id":751641,"accept_rate":72,"display_name":"Denis Kutlubaev"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1388157530,"creation_date":1388157530,"answer_id":20803059,"question_id":180158,"body_markdown":"I modified the code from correct answer to get result in seconds: \r\n\r\n    long startTime = System.nanoTime();\r\n\r\n    methodCode ...\r\n\r\n    long endTime = System.nanoTime();\r\n    double duration = (double)(endTime - startTime) / (Math.pow(10, 9));\r\n    Log.v(TAG, &quot;MethodName time (s) = &quot; + duration);","title":"How do I time a method&#39;s execution in Java?","body":"<p>I modified the code from correct answer to get result in seconds: </p>\n\n<pre><code>long startTime = System.nanoTime();\n\nmethodCode ...\n\nlong endTime = System.nanoTime();\ndouble duration = (double)(endTime - startTime) / (Math.pow(10, 9));\nLog.v(TAG, \"MethodName time (s) = \" + duration);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2624937,"reputation":2650,"user_id":2272158,"accept_rate":100,"display_name":"TondaCZE"},"down_vote_count":0,"up_vote_count":52,"is_accepted":false,"score":52,"last_activity_date":1592324157,"creation_date":1396791961,"answer_id":22894871,"question_id":180158,"body_markdown":"`System.currentTimeMillis();` IS NOT a good approach for measuring the performance of your algorithms. It measures the total time you experience as a user watching the computer screen. It includes also time consumed by everything else running on your computer in the background. This could make a huge difference in case you have a lot of programs running on your workstation.\r\n\r\nProper approach is  using `java.lang.management` package.\r\n\r\nFrom http://nadeausoftware.com/articles/2008/03/java_tip_how_get_cpu_and_user_time_benchmarking website ([archive link][1]):\r\n\r\n - &quot;User time&quot; is the time spent running your application&#39;s own code.\r\n - &quot;System time&quot; is the time spent running OS code on behalf of your application (such as for I/O).\r\n\r\n`getCpuTime()` method gives you sum of those:\r\n\r\n\r\n    import java.lang.management.ManagementFactory;\r\n    import java.lang.management.ThreadMXBean;\r\n    \r\n    public class CPUUtils {\r\n    \r\n    \t/** Get CPU time in nanoseconds. */\r\n    \tpublic static long getCpuTime( ) {\r\n    \t    ThreadMXBean bean = ManagementFactory.getThreadMXBean( );\r\n    \t    return bean.isCurrentThreadCpuTimeSupported( ) ?\r\n    \t        bean.getCurrentThreadCpuTime( ) : 0L;\r\n    \t}\r\n    \t\r\n    \t/** Get user time in nanoseconds. */\r\n    \tpublic static long getUserTime( ) {\r\n    \t    ThreadMXBean bean = ManagementFactory.getThreadMXBean( );\r\n    \t    return bean.isCurrentThreadCpuTimeSupported( ) ?\r\n    \t        bean.getCurrentThreadUserTime( ) : 0L;\r\n    \t}\r\n    \t\r\n    \t/** Get system time in nanoseconds. */\r\n    \tpublic static long getSystemTime( ) {\r\n    \t    ThreadMXBean bean = ManagementFactory.getThreadMXBean( );\r\n    \t    return bean.isCurrentThreadCpuTimeSupported( ) ?\r\n    \t        (bean.getCurrentThreadCpuTime( ) - bean.getCurrentThreadUserTime( )) : 0L;\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n  [1]: https://web.archive.org/web/20190413083329/http://nadeausoftware.com/articles/2008/03/java_tip_how_get_cpu_and_user_time_benchmarking","title":"How do I time a method&#39;s execution in Java?","body":"<p><code>System.currentTimeMillis();</code> IS NOT a good approach for measuring the performance of your algorithms. It measures the total time you experience as a user watching the computer screen. It includes also time consumed by everything else running on your computer in the background. This could make a huge difference in case you have a lot of programs running on your workstation.</p>\n\n<p>Proper approach is  using <code>java.lang.management</code> package.</p>\n\n<p>From <a href=\"http://nadeausoftware.com/articles/2008/03/java_tip_how_get_cpu_and_user_time_benchmarking\" rel=\"noreferrer\">http://nadeausoftware.com/articles/2008/03/java_tip_how_get_cpu_and_user_time_benchmarking</a> website (<a href=\"https://web.archive.org/web/20190413083329/http://nadeausoftware.com/articles/2008/03/java_tip_how_get_cpu_and_user_time_benchmarking\" rel=\"noreferrer\">archive link</a>):</p>\n\n<ul>\n<li>\"User time\" is the time spent running your application's own code.</li>\n<li>\"System time\" is the time spent running OS code on behalf of your application (such as for I/O).</li>\n</ul>\n\n<p><code>getCpuTime()</code> method gives you sum of those:</p>\n\n<pre><code>import java.lang.management.ManagementFactory;\nimport java.lang.management.ThreadMXBean;\n\npublic class CPUUtils {\n\n    /** Get CPU time in nanoseconds. */\n    public static long getCpuTime( ) {\n        ThreadMXBean bean = ManagementFactory.getThreadMXBean( );\n        return bean.isCurrentThreadCpuTimeSupported( ) ?\n            bean.getCurrentThreadCpuTime( ) : 0L;\n    }\n\n    /** Get user time in nanoseconds. */\n    public static long getUserTime( ) {\n        ThreadMXBean bean = ManagementFactory.getThreadMXBean( );\n        return bean.isCurrentThreadCpuTimeSupported( ) ?\n            bean.getCurrentThreadUserTime( ) : 0L;\n    }\n\n    /** Get system time in nanoseconds. */\n    public static long getSystemTime( ) {\n        ThreadMXBean bean = ManagementFactory.getThreadMXBean( );\n        return bean.isCurrentThreadCpuTimeSupported( ) ?\n            (bean.getCurrentThreadCpuTime( ) - bean.getCurrentThreadUserTime( )) : 0L;\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":240376,"reputation":3567,"user_id":510583,"accept_rate":80,"display_name":"leo"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1597174045,"creation_date":1410937468,"answer_id":25884289,"question_id":180158,"body_markdown":"Performance measurements on my machine\r\n\r\n - `System.nanoTime() : 750ns`\r\n - `System.currentTimeMillis() : 18ns`\r\n\r\nAs mentioned, `System.nanoTime()` is thought to measure elapsed time. Just be aware of the cost if used inside a loop or the like.","title":"How do I time a method&#39;s execution in Java?","body":"<p>Performance measurements on my machine</p>\n<ul>\n<li><code>System.nanoTime() : 750ns</code></li>\n<li><code>System.currentTimeMillis() : 18ns</code></li>\n</ul>\n<p>As mentioned, <code>System.nanoTime()</code> is thought to measure elapsed time. Just be aware of the cost if used inside a loop or the like.</p>\n"},{"tags":[],"owner":{"account_id":2910751,"reputation":151,"user_id":2495060,"display_name":"Alexey Pismenskiy"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1421431595,"creation_date":1421431595,"answer_id":27990107,"question_id":180158,"body_markdown":"It would be nice if java had a better functional support, so that the action, that needs to be measured, could be wrapped into a block: \r\n\r\n    measure {\r\n       // your operation here\r\n    }\r\n\r\nIn java this could be done by anonymous functions, that look too verbose\r\n\r\n    public interface Timer {\r\n        void wrap();\r\n    }\r\n\r\n\r\n    public class Logger {\r\n    \r\n        public static void logTime(Timer timer) {\r\n            long start = System.currentTimeMillis();\r\n            timer.wrap();\r\n            System.out.println(&quot;&quot; + (System.currentTimeMillis() - start) + &quot;ms&quot;);\r\n        }\r\n    \r\n        public static void main(String a[]) {\r\n            Logger.logTime(new Timer() {\r\n                public void wrap() {\r\n                    // Your method here\r\n                    timeConsumingOperation();\r\n                }\r\n            });\r\n    \r\n        }\r\n    \r\n        public static void timeConsumingOperation() {\r\n            for (int i = 0; i&lt;=10000; i++) {\r\n               System.out.println(&quot;i=&quot; +i);\r\n            }\r\n        }\r\n    }","title":"How do I time a method&#39;s execution in Java?","body":"<p>It would be nice if java had a better functional support, so that the action, that needs to be measured, could be wrapped into a block: </p>\n\n<pre><code>measure {\n   // your operation here\n}\n</code></pre>\n\n<p>In java this could be done by anonymous functions, that look too verbose</p>\n\n<pre><code>public interface Timer {\n    void wrap();\n}\n\n\npublic class Logger {\n\n    public static void logTime(Timer timer) {\n        long start = System.currentTimeMillis();\n        timer.wrap();\n        System.out.println(\"\" + (System.currentTimeMillis() - start) + \"ms\");\n    }\n\n    public static void main(String a[]) {\n        Logger.logTime(new Timer() {\n            public void wrap() {\n                // Your method here\n                timeConsumingOperation();\n            }\n        });\n\n    }\n\n    public static void timeConsumingOperation() {\n        for (int i = 0; i&lt;=10000; i++) {\n           System.out.println(\"i=\" +i);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2597730,"reputation":2015,"user_id":2251011,"accept_rate":50,"display_name":"msysmilu"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1422384293,"creation_date":1422384293,"answer_id":28177737,"question_id":180158,"body_markdown":"Ok, this is a simple class to be used for simple simple timing of your functions. There is an example below it.\r\n\r\n    public class Stopwatch {\r\n        static long startTime;\r\n        static long splitTime;\r\n        static long endTime;\r\n    \r\n        public Stopwatch() {\r\n            start();\r\n        }\r\n    \r\n        public void start() {\r\n            startTime = System.currentTimeMillis();\r\n            splitTime = System.currentTimeMillis();\r\n            endTime = System.currentTimeMillis();\r\n        }\r\n    \r\n        public void split() {\r\n            split(&quot;&quot;);\r\n        }\r\n    \r\n        public void split(String tag) {\r\n            endTime = System.currentTimeMillis();\r\n            System.out.println(&quot;Split time for [&quot; + tag + &quot;]: &quot; + (endTime - splitTime) + &quot; ms&quot;);\r\n            splitTime = endTime;\r\n        }\r\n    \r\n        public void end() {\r\n            end(&quot;&quot;);\r\n        }\r\n        public void end(String tag) {\r\n            endTime = System.currentTimeMillis();\r\n            System.out.println(&quot;Final time for [&quot; + tag + &quot;]: &quot; + (endTime - startTime) + &quot; ms&quot;);\r\n        }\r\n    }\r\n\r\nSample of use:\r\n\r\n    public static Schedule getSchedule(Activity activity_context) {\r\n            String scheduleJson = null;\r\n            Schedule schedule = null;\r\n    /*-&gt;*/  Stopwatch stopwatch = new Stopwatch();\r\n\r\n            InputStream scheduleJsonInputStream = activity_context.getResources().openRawResource(R.raw.skating_times);\r\n    /*-&gt;*/  stopwatch.split(&quot;open raw resource&quot;);\r\n\r\n            scheduleJson = FileToString.convertStreamToString(scheduleJsonInputStream);\r\n    /*-&gt;*/  stopwatch.split(&quot;file to string&quot;);\r\n\r\n            schedule = new Gson().fromJson(scheduleJson, Schedule.class);\r\n    /*-&gt;*/  stopwatch.split(&quot;parse Json&quot;);\r\n    /*-&gt;*/  stopwatch.end(&quot;Method getSchedule&quot;); \r\n        return schedule;\r\n    }\r\n\r\nSample of console output:\r\n\r\n    Split time for [file to string]: 672 ms\r\n    Split time for [parse Json]: 893 ms\r\n    Final time for [get Schedule]: 1565 ms","title":"How do I time a method&#39;s execution in Java?","body":"<p>Ok, this is a simple class to be used for simple simple timing of your functions. There is an example below it.</p>\n\n<pre><code>public class Stopwatch {\n    static long startTime;\n    static long splitTime;\n    static long endTime;\n\n    public Stopwatch() {\n        start();\n    }\n\n    public void start() {\n        startTime = System.currentTimeMillis();\n        splitTime = System.currentTimeMillis();\n        endTime = System.currentTimeMillis();\n    }\n\n    public void split() {\n        split(\"\");\n    }\n\n    public void split(String tag) {\n        endTime = System.currentTimeMillis();\n        System.out.println(\"Split time for [\" + tag + \"]: \" + (endTime - splitTime) + \" ms\");\n        splitTime = endTime;\n    }\n\n    public void end() {\n        end(\"\");\n    }\n    public void end(String tag) {\n        endTime = System.currentTimeMillis();\n        System.out.println(\"Final time for [\" + tag + \"]: \" + (endTime - startTime) + \" ms\");\n    }\n}\n</code></pre>\n\n<p>Sample of use:</p>\n\n<pre><code>public static Schedule getSchedule(Activity activity_context) {\n        String scheduleJson = null;\n        Schedule schedule = null;\n/*-&gt;*/  Stopwatch stopwatch = new Stopwatch();\n\n        InputStream scheduleJsonInputStream = activity_context.getResources().openRawResource(R.raw.skating_times);\n/*-&gt;*/  stopwatch.split(\"open raw resource\");\n\n        scheduleJson = FileToString.convertStreamToString(scheduleJsonInputStream);\n/*-&gt;*/  stopwatch.split(\"file to string\");\n\n        schedule = new Gson().fromJson(scheduleJson, Schedule.class);\n/*-&gt;*/  stopwatch.split(\"parse Json\");\n/*-&gt;*/  stopwatch.end(\"Method getSchedule\"); \n    return schedule;\n}\n</code></pre>\n\n<p>Sample of console output:</p>\n\n<pre><code>Split time for [file to string]: 672 ms\nSplit time for [parse Json]: 893 ms\nFinal time for [get Schedule]: 1565 ms\n</code></pre>\n"},{"tags":[],"owner":{"account_id":266703,"reputation":18305,"user_id":1149423,"accept_rate":83,"display_name":"Sufiyan Ghori"},"down_vote_count":1,"up_vote_count":172,"is_accepted":false,"score":171,"last_activity_date":1434963807,"creation_date":1422868773,"answer_id":28274381,"question_id":180158,"body_markdown":"Using [Instant][1] and [Duration][2] from Java 8&#39;s new API,\r\n\r\n    Instant start = Instant.now();\r\n    Thread.sleep(5000);\r\n    Instant end = Instant.now();\r\n    System.out.println(Duration.between(start, end));\r\n\r\noutputs,\r\n\r\n    PT5S\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/time/Duration.html","title":"How do I time a method&#39;s execution in Java?","body":"<p>Using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html\">Instant</a> and <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/Duration.html\">Duration</a> from Java 8's new API,</p>\n\n<pre><code>Instant start = Instant.now();\nThread.sleep(5000);\nInstant end = Instant.now();\nSystem.out.println(Duration.between(start, end));\n</code></pre>\n\n<p>outputs,</p>\n\n<pre><code>PT5S\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1257650,"reputation":23479,"user_id":1216775,"accept_rate":54,"display_name":"akhil_mittal"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1434963769,"creation_date":1434963769,"answer_id":30975902,"question_id":180158,"body_markdown":"In Java 8 a new class named `Instant` is introduced. As per doc:\r\n\r\n&gt; Instant represents the start of a nanosecond on the time line. This\r\n&gt; class is useful for generating a time stamp to represent machine time.\r\n&gt; The range of an instant requires the storage of a number larger than a\r\n&gt; long. To achieve this, the class stores a long representing\r\n&gt; epoch-seconds and an int representing nanosecond-of-second, which will\r\n&gt; always be between 0 and 999,999,999. The epoch-seconds are measured\r\n&gt; from the standard Java epoch of 1970-01-01T00:00:00Z where instants\r\n&gt; after the epoch have positive values, and earlier instants have\r\n&gt; negative values. For both the epoch-second and nanosecond parts, a\r\n&gt; larger value is always later on the time-line than a smaller value.\r\n\r\nThis can be used as:\r\n\r\n    Instant start = Instant.now();\r\n    try {\r\n    \tThread.sleep(7000);\r\n    } catch (InterruptedException e) {\r\n    \te.printStackTrace();\r\n    }\r\n    Instant end = Instant.now();\r\n    System.out.println(Duration.between(start, end));\r\n\r\nIt prints `PT7.001S`.","title":"How do I time a method&#39;s execution in Java?","body":"<p>In Java 8 a new class named <code>Instant</code> is introduced. As per doc:</p>\n\n<blockquote>\n  <p>Instant represents the start of a nanosecond on the time line. This\n  class is useful for generating a time stamp to represent machine time.\n  The range of an instant requires the storage of a number larger than a\n  long. To achieve this, the class stores a long representing\n  epoch-seconds and an int representing nanosecond-of-second, which will\n  always be between 0 and 999,999,999. The epoch-seconds are measured\n  from the standard Java epoch of 1970-01-01T00:00:00Z where instants\n  after the epoch have positive values, and earlier instants have\n  negative values. For both the epoch-second and nanosecond parts, a\n  larger value is always later on the time-line than a smaller value.</p>\n</blockquote>\n\n<p>This can be used as:</p>\n\n<pre><code>Instant start = Instant.now();\ntry {\n    Thread.sleep(7000);\n} catch (InterruptedException e) {\n    e.printStackTrace();\n}\nInstant end = Instant.now();\nSystem.out.println(Duration.between(start, end));\n</code></pre>\n\n<p>It prints <code>PT7.001S</code>.</p>\n"},{"tags":[],"owner":{"account_id":114256,"reputation":2333,"user_id":300538,"display_name":"Sunil Manheri"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1445412902,"creation_date":1438856792,"answer_id":31853341,"question_id":180158,"body_markdown":"Spring provides a utility class [org.springframework.util.StopWatch][1], as per JavaDoc:\r\n\r\n&gt; Simple stop watch, allowing for timing of a number of tasks, exposing\r\n&gt; total running time and running time for each named task.\r\n\r\nUsage:\r\n\r\n    StopWatch stopWatch = new StopWatch(&quot;Performance Test Result&quot;);\r\n    \r\n    stopWatch.start(&quot;Method 1&quot;);\r\n    doSomething1();//method to test\r\n    stopWatch.stop();\r\n    \r\n    stopWatch.start(&quot;Method 2&quot;);\r\n    doSomething2();//method to test\r\n    stopWatch.stop();\r\n    \r\n    System.out.println(stopWatch.prettyPrint());\r\n\r\nOutput:\r\n\r\n    StopWatch &#39;Performance Test Result&#39;: running time (millis) = 12829\r\n    -----------------------------------------\r\n    ms     %     Task name\r\n    -----------------------------------------\r\n    11907  036%  Method 1\r\n    00922  064%  Method 2\r\n\r\n**With Aspects:**\r\n\r\n    @Around(&quot;execution(* my.package..*.*(..))&quot;)\r\n    public Object logTime(ProceedingJoinPoint joinPoint) throws Throwable {\r\n    \tStopWatch stopWatch = new StopWatch();\r\n    \tstopWatch.start();\r\n    \tObject retVal = joinPoint.proceed();\r\n    \tstopWatch.stop();\r\n    \tlog.info(&quot; execution time: &quot; + stopWatch.getTotalTimeMillis() + &quot; ms&quot;);\r\n    \treturn retVal;\r\n    }\r\n\r\n  [1]: https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/util/StopWatch.html","title":"How do I time a method&#39;s execution in Java?","body":"<p>Spring provides a utility class <a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/util/StopWatch.html\" rel=\"noreferrer\">org.springframework.util.StopWatch</a>, as per JavaDoc:</p>\n\n<blockquote>\n  <p>Simple stop watch, allowing for timing of a number of tasks, exposing\n  total running time and running time for each named task.</p>\n</blockquote>\n\n<p>Usage:</p>\n\n<pre><code>StopWatch stopWatch = new StopWatch(\"Performance Test Result\");\n\nstopWatch.start(\"Method 1\");\ndoSomething1();//method to test\nstopWatch.stop();\n\nstopWatch.start(\"Method 2\");\ndoSomething2();//method to test\nstopWatch.stop();\n\nSystem.out.println(stopWatch.prettyPrint());\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>StopWatch 'Performance Test Result': running time (millis) = 12829\n-----------------------------------------\nms     %     Task name\n-----------------------------------------\n11907  036%  Method 1\n00922  064%  Method 2\n</code></pre>\n\n<p><strong>With Aspects:</strong></p>\n\n<pre><code>@Around(\"execution(* my.package..*.*(..))\")\npublic Object logTime(ProceedingJoinPoint joinPoint) throws Throwable {\n    StopWatch stopWatch = new StopWatch();\n    stopWatch.start();\n    Object retVal = joinPoint.proceed();\n    stopWatch.stop();\n    log.info(\" execution time: \" + stopWatch.getTotalTimeMillis() + \" ms\");\n    return retVal;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3731942,"reputation":367,"user_id":3103993,"accept_rate":40,"display_name":"dingjsh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1504928013,"creation_date":1442845734,"answer_id":32697799,"question_id":180158,"body_markdown":"You can use **javaagent** to modify the java class bytes ,add the monitor codes dynamically.there is some open source tools on the github that can do this for you.  \r\nIf you want to do it by yourself, just implements the **javaagent**,use **javassist** to modify the methods you want to monitor,and the monitor code before your method return.it&#39;s clean and you can monitor systems that you even don&#39;t have source code.","title":"How do I time a method&#39;s execution in Java?","body":"<p>You can use <strong>javaagent</strong> to modify the java class bytes ,add the monitor codes dynamically.there is some open source tools on the github that can do this for you.<br>\nIf you want to do it by yourself, just implements the <strong>javaagent</strong>,use <strong>javassist</strong> to modify the methods you want to monitor,and the monitor code before your method return.it's clean and you can monitor systems that you even don't have source code.</p>\n"},{"tags":[],"owner":{"account_id":3898532,"reputation":438,"user_id":3226909,"display_name":"Stefan"},"down_vote_count":0,"up_vote_count":34,"is_accepted":false,"score":34,"last_activity_date":1448739370,"creation_date":1448491662,"answer_id":33927764,"question_id":180158,"body_markdown":"With Java 8 you can do also something like this with every normal **methods**:\r\n\r\n    Object returnValue = TimeIt.printTime(() -&gt; methodeWithReturnValue());\r\n    //do stuff with your returnValue\r\n\r\nwith TimeIt like:\r\n\r\n    public class TimeIt {\r\n\r\n\tpublic static &lt;T&gt; T printTime(Callable&lt;T&gt; task) {\r\n\t\tT call = null;\r\n\t\ttry {\r\n            long startTime = System.currentTimeMillis();\r\n\t\t\tcall = task.call();\r\n\t\t\tSystem.out.print((System.currentTimeMillis() - startTime) / 1000d + &quot;s&quot;);\r\n\t\t} catch (Exception e) {\r\n\t\t\t//...\r\n\t\t}\r\n        return call;\r\n\t}\r\n    }\r\n\r\nWith this methode you can make easy time measurement anywhere in your code without breaking it. In this simple example i just print the time. May you add a Switch for TimeIt, e.g. to only print the time in DebugMode or something.\r\n\r\nIf you are working with **Function** you can do somthing like this:\r\n\r\n    Function&lt;Integer, Integer&gt; yourFunction= (n) -&gt; {\r\n\t\t\treturn IntStream.range(0, n).reduce(0, (a, b) -&gt; a + b);\r\n\t\t};\r\n\r\n\tInteger returnValue = TimeIt.printTime2(yourFunction).apply(10000);\r\n    //do stuff with your returnValue\r\n\r\n    public static &lt;T, R&gt; Function&lt;T, R&gt; printTime2(Function&lt;T, R&gt; task) {\r\n\t\treturn (t) -&gt; {\r\n\t\t\tlong startTime = System.currentTimeMillis();\r\n\t\t\tR apply = task.apply(t);\r\n\t\t\tSystem.out.print((System.currentTimeMillis() - startTime) / 1000d\r\n\t\t\t\t\t+ &quot;s&quot;);\r\n\t\t\treturn apply;\r\n\t\t};\r\n\t}","title":"How do I time a method&#39;s execution in Java?","body":"<p>With Java 8 you can do also something like this with every normal <strong>methods</strong>:</p>\n\n<pre><code>Object returnValue = TimeIt.printTime(() -&gt; methodeWithReturnValue());\n//do stuff with your returnValue\n</code></pre>\n\n<p>with TimeIt like:</p>\n\n<pre><code>public class TimeIt {\n\npublic static &lt;T&gt; T printTime(Callable&lt;T&gt; task) {\n    T call = null;\n    try {\n        long startTime = System.currentTimeMillis();\n        call = task.call();\n        System.out.print((System.currentTimeMillis() - startTime) / 1000d + \"s\");\n    } catch (Exception e) {\n        //...\n    }\n    return call;\n}\n}\n</code></pre>\n\n<p>With this methode you can make easy time measurement anywhere in your code without breaking it. In this simple example i just print the time. May you add a Switch for TimeIt, e.g. to only print the time in DebugMode or something.</p>\n\n<p>If you are working with <strong>Function</strong> you can do somthing like this:</p>\n\n<pre><code>Function&lt;Integer, Integer&gt; yourFunction= (n) -&gt; {\n        return IntStream.range(0, n).reduce(0, (a, b) -&gt; a + b);\n    };\n\nInteger returnValue = TimeIt.printTime2(yourFunction).apply(10000);\n//do stuff with your returnValue\n\npublic static &lt;T, R&gt; Function&lt;T, R&gt; printTime2(Function&lt;T, R&gt; task) {\n    return (t) -&gt; {\n        long startTime = System.currentTimeMillis();\n        R apply = task.apply(t);\n        System.out.print((System.currentTimeMillis() - startTime) / 1000d\n                + \"s\");\n        return apply;\n    };\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6575754,"reputation":9298,"user_id":5081877,"accept_rate":92,"display_name":"Yash"},"down_vote_count":0,"up_vote_count":161,"is_accepted":false,"score":161,"last_activity_date":1524734418,"creation_date":1449225823,"answer_id":34086460,"question_id":180158,"body_markdown":"*Gathered all possible ways together into one place.*\r\n\r\n**[Date][1]**\r\n        \r\n    Date startDate = Calendar.getInstance().getTime();\r\n\tlong d_StartTime = new Date().getTime();\r\n\tThread.sleep(1000 * 4);\r\n\tDate endDate = Calendar.getInstance().getTime();\r\n\tlong d_endTime = new Date().getTime();\r\n\tSystem.out.format(&quot;StartDate : %s, EndDate : %s \\n&quot;, startDate, endDate);\r\n\tSystem.out.format(&quot;Milli = %s, ( D_Start : %s, D_End : %s ) \\n&quot;, (d_endTime - d_StartTime),d_StartTime, d_endTime);\r\n\r\n**System.[currentTimeMillis()][2]**\r\n\r\n    long startTime = System.currentTimeMillis();\r\n\tThread.sleep(1000 * 4);\r\n\tlong endTime = System.currentTimeMillis();\r\n\tlong duration = (endTime - startTime);  \r\n\tSystem.out.format(&quot;Milli = %s, ( S_Start : %s, S_End : %s ) \\n&quot;, duration, startTime, endTime );\r\n\tSystem.out.println(&quot;Human-Readable format : &quot;+millisToShortDHMS( duration ) );\r\n\r\n**Human Readable [Format][7]**\r\n\r\n\tpublic static String millisToShortDHMS(long duration) {\r\n\t    String res = &quot;&quot;;\t// java.util.concurrent.TimeUnit;\r\n\t    long days\t\t= TimeUnit.MILLISECONDS.toDays(duration);\r\n\t    long hours\t\t= TimeUnit.MILLISECONDS.toHours(duration) -\r\n\t    \t\t\t\t  TimeUnit.DAYS.toHours(TimeUnit.MILLISECONDS.toDays(duration));\r\n\t    long minutes\t= TimeUnit.MILLISECONDS.toMinutes(duration) -\r\n\t    \t\t\t\t  TimeUnit.HOURS.toMinutes(TimeUnit.MILLISECONDS.toHours(duration));\r\n\t    long seconds \t= TimeUnit.MILLISECONDS.toSeconds(duration) -\r\n\t    \t\t\t\t  TimeUnit.MINUTES.toSeconds(TimeUnit.MILLISECONDS.toMinutes(duration));\r\n\t    long millis \t= TimeUnit.MILLISECONDS.toMillis(duration) - \r\n\t    \t\t\t\t  TimeUnit.SECONDS.toMillis(TimeUnit.MILLISECONDS.toSeconds(duration));\r\n\t   \r\n\t    if (days == 0)\t\tres = String.format(&quot;%02d:%02d:%02d.%04d&quot;, hours, minutes, seconds, millis);\r\n\t    else\t\t\t\tres = String.format(&quot;%dd %02d:%02d:%02d.%04d&quot;, days, hours, minutes, seconds, millis);\r\n\t    return res;\r\n\t}\r\n\r\n**Guava: Google** [**Stopwatch**](https://google.github.io/guava/releases/24.0-jre/api/docs/com/google/common/base/Stopwatch.html)&lt;sup&gt;[JAR](http://mvnrepository.com/artifact/com.google.guava/guava/24.1-jre)&lt;/sup&gt; &#171; An object of Stopwatch is to measures elapsed time in nanoseconds.\r\n\r\n    com.google.common.base.Stopwatch g_SW = Stopwatch.createUnstarted();\r\n\tg_SW.start();\r\n\tThread.sleep(1000 * 4);\r\n\tg_SW.stop();\r\n\tSystem.out.println(&quot;Google StopWatch  : &quot;+g_SW);\r\n\r\n**Apache Commons Lang&lt;sup&gt;[JAR](http://mvnrepository.com/artifact/org.apache.commons/commons-lang3/3.4)&lt;/sup&gt;\r\n &#171; [StopWatch](https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/time/StopWatch.html)** provides a convenient API for timings.\r\n\r\n    org.apache.commons.lang3.time.StopWatch sw = new StopWatch();\r\n\tsw.start();\t\t\r\n\tThread.sleep(1000 * 4);\t\t\r\n\tsw.stop();\r\n\tSystem.out.println(&quot;Apache StopWatch  : &quot;+ millisToShortDHMS(sw.getTime()) );\r\n\r\n**[JODA][8]-TIME**\r\n\r\n    public static void jodaTime() throws InterruptedException, ParseException{\r\n\t\tjava.text.SimpleDateFormat ms_SDF = new SimpleDateFormat(&quot;yyyy/MM/dd HH:mm:ss.SSS&quot;);\r\n\t\tString start = ms_SDF.format( new Date() ); // java.util.Date\r\n\t\t\t\t\r\n\t\tThread.sleep(10000);\r\n\t\t\r\n\t\tString end = ms_SDF.format( new Date() );\t\t\r\n\t\tSystem.out.println(&quot;Start:&quot;+start+&quot;\\t Stop:&quot;+end);\r\n\t\t\r\n\t\tDate date_1 = ms_SDF.parse(start);\r\n\t\tDate date_2 = ms_SDF.parse(end);\t\t\r\n\t\tInterval interval = new org.joda.time.Interval( date_1.getTime(), date_2.getTime() );\r\n\t\tPeriod period = interval.toPeriod(); //org.joda.time.Period\r\n\t\t  \r\n\t\tSystem.out.format(&quot;%dY/%dM/%dD, %02d:%02d:%02d.%04d \\n&quot;, \r\n\t\t\tperiod.getYears(), period.getMonths(), period.getDays(),\r\n\t\t\tperiod.getHours(), period.getMinutes(), period.getSeconds(), period.getMillis());\r\n\t}\r\n\r\n**Java date time API from Java 8** &#171; A [Duration](https://docs.oracle.com/javase/tutorial/datetime/iso/period.html) object represents a period of time between two [Instant](https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html) objects.\r\n\r\n\tInstant start = java.time.Instant.now();\r\n\t\tThread.sleep(1000);\r\n\tInstant end = java.time.Instant.now();\r\n\tDuration between = java.time.Duration.between(start, end);\r\n\tSystem.out.println( between ); // PT1.001S\r\n\tSystem.out.format(&quot;%dD, %02d:%02d:%02d.%04d \\n&quot;, between.toDays(),\r\n\t\t\tbetween.toHours(), between.toMinutes(), between.getSeconds(), between.toMillis()); // 0D, 00:00:01.1001 \r\n\r\n-----\r\n\r\n[**Spring Framework**](https://spring.io/) provides [StopWatch](https://docs.spring.io/spring/docs/2.0.x/javadoc-api/org/springframework/util/StopWatch.html) utility class to measure elapsed time in Java.\r\n\r\n&lt;!-- language-all: lang-java --&gt;\r\n\r\n\tStopWatch sw = new org.springframework.util.StopWatch();\r\n\tsw.start(&quot;Method-1&quot;); // Start a named task\r\n\t\tThread.sleep(500);\r\n\tsw.stop();\r\n\t\r\n\tsw.start(&quot;Method-2&quot;);\r\n\t\tThread.sleep(300);\r\n\tsw.stop();\r\n\t\r\n\tsw.start(&quot;Method-3&quot;);\r\n\t\tThread.sleep(200);\r\n\tsw.stop();\r\n\t\r\n\tSystem.out.println(&quot;Total time in milliseconds for all tasks :\\n&quot;+sw.getTotalTimeMillis());\r\n\tSystem.out.println(&quot;Table describing all tasks performed :\\n&quot;+sw.prettyPrint());\r\n\t\r\n\tSystem.out.format(&quot;Time taken by the last task : [%s]:[%d]&quot;, \r\n\t\t\tsw.getLastTaskName(),sw.getLastTaskTimeMillis());\r\n\t\r\n\tSystem.out.println(&quot;\\n Array of the data for tasks performed &#171; Task Name: Time Taken&quot;);\r\n\tTaskInfo[] listofTasks = sw.getTaskInfo();\r\n\tfor (TaskInfo task : listofTasks) {\r\n\t\tSystem.out.format(&quot;[%s]:[%d]\\n&quot;, \r\n\t\t\t\ttask.getTaskName(), task.getTimeMillis());\r\n\t}\r\n\r\n&lt;!-- language-all: lang-java --&gt;\r\n\r\nOutPut:\r\n\r\n\tTotal time in milliseconds for all tasks :\r\n\t999\r\n\tTable describing all tasks performed :\r\n\tStopWatch &#39;&#39;: running time (millis) = 999\r\n\t-----------------------------------------\r\n\tms     %     Task name\r\n\t-----------------------------------------\r\n\t00500  050%  Method-1\r\n\t00299  030%  Method-2\r\n\t00200  020%  Method-3\r\n\r\n\tTime taken by the last task : [Method-3]:[200]\r\n\t Array of the data for tasks performed &#171; Task Name: Time Taken\r\n\t[Method-1]:[500]\r\n\t[Method-2]:[299]\r\n\t[Method-3]:[200]\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/Date.html\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/lang/System.html#currentTimeMillis()\r\n  \r\n  [7]: http://www.rgagnon.com/javadetails/java-0585.html\r\n  [8]: http://mvnrepository.com/artifact/joda-time/joda-time\r\n  [9]: https://stackoverflow.com/a/28274381/1813669","title":"How do I time a method&#39;s execution in Java?","body":"<p><em>Gathered all possible ways together into one place.</em></p>\n\n<p><strong><a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Date.html\" rel=\"noreferrer\">Date</a></strong></p>\n\n<pre><code>Date startDate = Calendar.getInstance().getTime();\nlong d_StartTime = new Date().getTime();\nThread.sleep(1000 * 4);\nDate endDate = Calendar.getInstance().getTime();\nlong d_endTime = new Date().getTime();\nSystem.out.format(\"StartDate : %s, EndDate : %s \\n\", startDate, endDate);\nSystem.out.format(\"Milli = %s, ( D_Start : %s, D_End : %s ) \\n\", (d_endTime - d_StartTime),d_StartTime, d_endTime);\n</code></pre>\n\n<p><strong>System.<a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/System.html#currentTimeMillis()\" rel=\"noreferrer\">currentTimeMillis()</a></strong></p>\n\n<pre><code>long startTime = System.currentTimeMillis();\nThread.sleep(1000 * 4);\nlong endTime = System.currentTimeMillis();\nlong duration = (endTime - startTime);  \nSystem.out.format(\"Milli = %s, ( S_Start : %s, S_End : %s ) \\n\", duration, startTime, endTime );\nSystem.out.println(\"Human-Readable format : \"+millisToShortDHMS( duration ) );\n</code></pre>\n\n<p><strong>Human Readable <a href=\"http://www.rgagnon.com/javadetails/java-0585.html\" rel=\"noreferrer\">Format</a></strong></p>\n\n<pre><code>public static String millisToShortDHMS(long duration) {\n    String res = \"\";    // java.util.concurrent.TimeUnit;\n    long days       = TimeUnit.MILLISECONDS.toDays(duration);\n    long hours      = TimeUnit.MILLISECONDS.toHours(duration) -\n                      TimeUnit.DAYS.toHours(TimeUnit.MILLISECONDS.toDays(duration));\n    long minutes    = TimeUnit.MILLISECONDS.toMinutes(duration) -\n                      TimeUnit.HOURS.toMinutes(TimeUnit.MILLISECONDS.toHours(duration));\n    long seconds    = TimeUnit.MILLISECONDS.toSeconds(duration) -\n                      TimeUnit.MINUTES.toSeconds(TimeUnit.MILLISECONDS.toMinutes(duration));\n    long millis     = TimeUnit.MILLISECONDS.toMillis(duration) - \n                      TimeUnit.SECONDS.toMillis(TimeUnit.MILLISECONDS.toSeconds(duration));\n\n    if (days == 0)      res = String.format(\"%02d:%02d:%02d.%04d\", hours, minutes, seconds, millis);\n    else                res = String.format(\"%dd %02d:%02d:%02d.%04d\", days, hours, minutes, seconds, millis);\n    return res;\n}\n</code></pre>\n\n<p><strong>Guava: Google</strong> <a href=\"https://google.github.io/guava/releases/24.0-jre/api/docs/com/google/common/base/Stopwatch.html\" rel=\"noreferrer\"><strong>Stopwatch</strong></a><sup><a href=\"http://mvnrepository.com/artifact/com.google.guava/guava/24.1-jre\" rel=\"noreferrer\">JAR</a></sup> « An object of Stopwatch is to measures elapsed time in nanoseconds.</p>\n\n<pre><code>com.google.common.base.Stopwatch g_SW = Stopwatch.createUnstarted();\ng_SW.start();\nThread.sleep(1000 * 4);\ng_SW.stop();\nSystem.out.println(\"Google StopWatch  : \"+g_SW);\n</code></pre>\n\n<p><strong>Apache Commons Lang<sup><a href=\"http://mvnrepository.com/artifact/org.apache.commons/commons-lang3/3.4\" rel=\"noreferrer\">JAR</a></sup>\n « <a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/time/StopWatch.html\" rel=\"noreferrer\">StopWatch</a></strong> provides a convenient API for timings.</p>\n\n<pre><code>org.apache.commons.lang3.time.StopWatch sw = new StopWatch();\nsw.start();     \nThread.sleep(1000 * 4);     \nsw.stop();\nSystem.out.println(\"Apache StopWatch  : \"+ millisToShortDHMS(sw.getTime()) );\n</code></pre>\n\n<p><strong><a href=\"http://mvnrepository.com/artifact/joda-time/joda-time\" rel=\"noreferrer\">JODA</a>-TIME</strong></p>\n\n<pre><code>public static void jodaTime() throws InterruptedException, ParseException{\n    java.text.SimpleDateFormat ms_SDF = new SimpleDateFormat(\"yyyy/MM/dd HH:mm:ss.SSS\");\n    String start = ms_SDF.format( new Date() ); // java.util.Date\n\n    Thread.sleep(10000);\n\n    String end = ms_SDF.format( new Date() );       \n    System.out.println(\"Start:\"+start+\"\\t Stop:\"+end);\n\n    Date date_1 = ms_SDF.parse(start);\n    Date date_2 = ms_SDF.parse(end);        \n    Interval interval = new org.joda.time.Interval( date_1.getTime(), date_2.getTime() );\n    Period period = interval.toPeriod(); //org.joda.time.Period\n\n    System.out.format(\"%dY/%dM/%dD, %02d:%02d:%02d.%04d \\n\", \n        period.getYears(), period.getMonths(), period.getDays(),\n        period.getHours(), period.getMinutes(), period.getSeconds(), period.getMillis());\n}\n</code></pre>\n\n<p><strong>Java date time API from Java 8</strong> « A <a href=\"https://docs.oracle.com/javase/tutorial/datetime/iso/period.html\" rel=\"noreferrer\">Duration</a> object represents a period of time between two <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html\" rel=\"noreferrer\">Instant</a> objects.</p>\n\n<pre><code>Instant start = java.time.Instant.now();\n    Thread.sleep(1000);\nInstant end = java.time.Instant.now();\nDuration between = java.time.Duration.between(start, end);\nSystem.out.println( between ); // PT1.001S\nSystem.out.format(\"%dD, %02d:%02d:%02d.%04d \\n\", between.toDays(),\n        between.toHours(), between.toMinutes(), between.getSeconds(), between.toMillis()); // 0D, 00:00:01.1001 \n</code></pre>\n\n<hr>\n\n<p><a href=\"https://spring.io/\" rel=\"noreferrer\"><strong>Spring Framework</strong></a> provides <a href=\"https://docs.spring.io/spring/docs/2.0.x/javadoc-api/org/springframework/util/StopWatch.html\" rel=\"noreferrer\">StopWatch</a> utility class to measure elapsed time in Java.</p>\n\n\n\n<pre class=\"lang-java prettyprint-override\"><code>StopWatch sw = new org.springframework.util.StopWatch();\nsw.start(\"Method-1\"); // Start a named task\n    Thread.sleep(500);\nsw.stop();\n\nsw.start(\"Method-2\");\n    Thread.sleep(300);\nsw.stop();\n\nsw.start(\"Method-3\");\n    Thread.sleep(200);\nsw.stop();\n\nSystem.out.println(\"Total time in milliseconds for all tasks :\\n\"+sw.getTotalTimeMillis());\nSystem.out.println(\"Table describing all tasks performed :\\n\"+sw.prettyPrint());\n\nSystem.out.format(\"Time taken by the last task : [%s]:[%d]\", \n        sw.getLastTaskName(),sw.getLastTaskTimeMillis());\n\nSystem.out.println(\"\\n Array of the data for tasks performed « Task Name: Time Taken\");\nTaskInfo[] listofTasks = sw.getTaskInfo();\nfor (TaskInfo task : listofTasks) {\n    System.out.format(\"[%s]:[%d]\\n\", \n            task.getTaskName(), task.getTimeMillis());\n}\n</code></pre>\n\n\n\n<p>OutPut:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>Total time in milliseconds for all tasks :\n999\nTable describing all tasks performed :\nStopWatch '': running time (millis) = 999\n-----------------------------------------\nms     %     Task name\n-----------------------------------------\n00500  050%  Method-1\n00299  030%  Method-2\n00200  020%  Method-3\n\nTime taken by the last task : [Method-3]:[200]\n Array of the data for tasks performed « Task Name: Time Taken\n[Method-1]:[500]\n[Method-2]:[299]\n[Method-3]:[200]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":1,"up_vote_count":20,"is_accepted":false,"score":19,"last_activity_date":1557757529,"creation_date":1467413958,"answer_id":38154825,"question_id":180158,"body_markdown":"# JEP 230: Microbenchmark Suite\r\n\r\nFYI, [JEP 230: Microbenchmark Suite][1] is an [OpenJDK][2] project to:\r\n\r\n&gt;Add a basic suite of microbenchmarks to the JDK source code, and make it easy for developers to run existing microbenchmarks and create new ones.\r\n\r\nThis feature arrived in [Java 12][3].\r\n\r\n# Java Microbenchmark Harness (JMH)\r\n\r\nFor earlier versions of Java, take a look at the [Java Microbenchmark Harness (JMH)][4] project on which JEP 230 is based.\r\n\r\n\r\n\r\n\r\n\r\n\n\n  [1]: http://openjdk.java.net/jeps/230\n  [2]: http://openjdk.java.net/\n  [3]: https://en.wikipedia.org/wiki/Java_version_history#Java_SE_12\n  [4]: http://openjdk.java.net/projects/code-tools/jmh","title":"How do I time a method&#39;s execution in Java?","body":"<h1>JEP 230: Microbenchmark Suite</h1>\n\n<p>FYI, <a href=\"http://openjdk.java.net/jeps/230\" rel=\"noreferrer\">JEP 230: Microbenchmark Suite</a> is an <a href=\"http://openjdk.java.net/\" rel=\"noreferrer\">OpenJDK</a> project to:</p>\n\n<blockquote>\n  <p>Add a basic suite of microbenchmarks to the JDK source code, and make it easy for developers to run existing microbenchmarks and create new ones.</p>\n</blockquote>\n\n<p>This feature arrived in <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_12\" rel=\"noreferrer\">Java 12</a>.</p>\n\n<h1>Java Microbenchmark Harness (JMH)</h1>\n\n<p>For earlier versions of Java, take a look at the <a href=\"http://openjdk.java.net/projects/code-tools/jmh\" rel=\"noreferrer\">Java Microbenchmark Harness (JMH)</a> project on which JEP 230 is based.</p>\n"},{"tags":[],"owner":{"account_id":1601099,"reputation":967,"user_id":1482105,"accept_rate":0,"display_name":"Tim Siwula"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1481793922,"creation_date":1481793922,"answer_id":41160571,"question_id":180158,"body_markdown":"Here is pretty printed string ready formated seconds elapsed similar to google search time took to search:\r\n\r\n\t\t\tlong startTime = System.nanoTime();\r\n            //\t... methodToTime();\r\n            long endTime = System.nanoTime();\r\n\t\t\tlong duration = (endTime - startTime);\r\n\t\t\tlong seconds = (duration / 1000) % 60;\r\n\t\t\t// formatedSeconds = (0.xy seconds)\r\n\t\t\tString formatedSeconds = String.format(&quot;(0.%d seconds)&quot;, seconds);\r\n\t\t\tSystem.out.println(&quot;formatedSeconds = &quot;+ formatedSeconds);\r\n\t\t\t// i.e actual formatedSeconds = (0.52 seconds)\r\n","title":"How do I time a method&#39;s execution in Java?","body":"<p>Here is pretty printed string ready formated seconds elapsed similar to google search time took to search:</p>\n\n<pre><code>        long startTime = System.nanoTime();\n        //  ... methodToTime();\n        long endTime = System.nanoTime();\n        long duration = (endTime - startTime);\n        long seconds = (duration / 1000) % 60;\n        // formatedSeconds = (0.xy seconds)\n        String formatedSeconds = String.format(\"(0.%d seconds)\", seconds);\n        System.out.println(\"formatedSeconds = \"+ formatedSeconds);\n        // i.e actual formatedSeconds = (0.52 seconds)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2538287,"reputation":1449,"user_id":2204803,"accept_rate":84,"display_name":"StationaryTraveller"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1483019445,"creation_date":1483002623,"answer_id":41376436,"question_id":180158,"body_markdown":"I implemented a simple timer, And I think it&#39;s really useful:\r\n\r\n\tpublic class Timer{\r\n\t\tprivate static long start_time;\r\n\t\t\r\n\t\tpublic static double tic(){\r\n\t\t\treturn start_time = System.nanoTime();\r\n\t\t}\r\n\t\t\r\n\t\tpublic static double toc(){\r\n\t\t\treturn (System.nanoTime()-start_time)/1000000000.0;\r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\nThat way you can time one or more actions:\r\n   \r\n    Timer.tic();\r\n    // Code 1\r\n    System.out.println(&quot;Code 1 runtime: &quot;+Timer.toc()+&quot; seconds.&quot;);\r\n    // Code 2\r\n    System.out.println(&quot;(Code 1 + Code 2) runtime: &quot;+Timer.toc()+&quot;seconds&quot;);\r\n    Timer.tic();\r\n    // Code 3\r\n    System.out.println(&quot;Code 3 runtime: &quot;+Timer.toc()+&quot; seconds.&quot;);\r\n\r\n","title":"How do I time a method&#39;s execution in Java?","body":"<p>I implemented a simple timer, And I think it's really useful:</p>\n\n<pre><code>public class Timer{\n    private static long start_time;\n\n    public static double tic(){\n        return start_time = System.nanoTime();\n    }\n\n    public static double toc(){\n        return (System.nanoTime()-start_time)/1000000000.0;\n    }\n\n}\n</code></pre>\n\n<p>That way you can time one or more actions:</p>\n\n<pre><code>Timer.tic();\n// Code 1\nSystem.out.println(\"Code 1 runtime: \"+Timer.toc()+\" seconds.\");\n// Code 2\nSystem.out.println(\"(Code 1 + Code 2) runtime: \"+Timer.toc()+\"seconds\");\nTimer.tic();\n// Code 3\nSystem.out.println(\"Code 3 runtime: \"+Timer.toc()+\" seconds.\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1104656,"reputation":1228,"user_id":1096326,"display_name":"Maciel Escudero Bombonato"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1499345275,"creation_date":1499345275,"answer_id":44949335,"question_id":180158,"body_markdown":"A strategy that works to me in java ee was:\r\n\r\n 1. Create a class with a method annotated with `@AroundInvoke`;\r\n\r\n        @Singleton\r\n        public class TimedInterceptor implements Serializable {\r\n    \r\n    \t    @AroundInvoke\r\n            public Object logMethod(InvocationContext ic) throws Exception {\r\n        \t    Date start = new Date();\r\n                Object result = ic.proceed();\r\n            \tDate end = new Date();\r\n            \tSystem.out.println(&quot;time: &quot; + (end.getTime - start.getTime()));\r\n                return result;\r\n            }\r\n        }\r\n\r\n 2. Annotate the method that you want to monitoring:\r\n\r\n        @Interceptors(TimedInterceptor.class)\r\n        public void onMessage(final Message message) { ... \r\n\r\nI hope this can help.","title":"How do I time a method&#39;s execution in Java?","body":"<p>A strategy that works to me in java ee was:</p>\n\n<ol>\n<li><p>Create a class with a method annotated with <code>@AroundInvoke</code>;</p>\n\n<pre><code>@Singleton\npublic class TimedInterceptor implements Serializable {\n\n    @AroundInvoke\n    public Object logMethod(InvocationContext ic) throws Exception {\n        Date start = new Date();\n        Object result = ic.proceed();\n        Date end = new Date();\n        System.out.println(\"time: \" + (end.getTime - start.getTime()));\n        return result;\n    }\n}\n</code></pre></li>\n<li><p>Annotate the method that you want to monitoring:</p>\n\n<pre><code>@Interceptors(TimedInterceptor.class)\npublic void onMessage(final Message message) { ... \n</code></pre></li>\n</ol>\n\n<p>I hope this can help.</p>\n"},{"tags":[],"owner":{"account_id":7893242,"reputation":8350,"user_id":5962766,"accept_rate":87,"display_name":"Justinas Jakavonis"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1501498393,"creation_date":1501498393,"answer_id":45413916,"question_id":180158,"body_markdown":"You can use [Metrics][1] library which provides various measuring instruments. Add dependency:\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.dropwizard.metrics&lt;/groupId&gt;\r\n            &lt;artifactId&gt;metrics-core&lt;/artifactId&gt;\r\n            &lt;version&gt;${metrics.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\nAnd configure it for your environment. \r\n\r\nMethods can be annotated with [@Timed][2]:\r\n\r\n    @Timed\r\n    public void exampleMethod(){\r\n        // some code\r\n    }\r\n\r\n\r\nor piece of code wrapped with [Timer][3]:\r\n\r\n    final Timer timer = metricsRegistry.timer(&quot;some_name&quot;);\r\n    final Timer.Context context = timer.time();\r\n    // timed code\r\n    context.stop();\r\n\r\nAggregated metrics can exported to console, JMX, CSV or other.\r\n\r\n`@Timed` metrics output example:\r\n\r\n    com.example.ExampleService.exampleMethod\r\n                 count = 2\r\n             mean rate = 3.11 calls/minute\r\n         1-minute rate = 0.96 calls/minute\r\n         5-minute rate = 0.20 calls/minute\r\n        15-minute rate = 0.07 calls/minute\r\n                   min = 17.01 milliseconds\r\n                   max = 1006.68 milliseconds\r\n                  mean = 511.84 milliseconds\r\n                stddev = 699.80 milliseconds\r\n                median = 511.84 milliseconds\r\n                  75% &lt;= 1006.68 milliseconds\r\n                  95% &lt;= 1006.68 milliseconds\r\n                  98% &lt;= 1006.68 milliseconds\r\n                  99% &lt;= 1006.68 milliseconds\r\n                99.9% &lt;= 1006.68 milliseconds\r\n\r\n\r\n  [1]: http://metrics.dropwizard.io/3.2.3/getting-started.html\r\n  [2]: http://metrics.dropwizard.io/3.1.0/apidocs/com/codahale/metrics/annotation/Timed.html\r\n  [3]: http://metrics.dropwizard.io/3.1.0/manual/core/#timers","title":"How do I time a method&#39;s execution in Java?","body":"<p>You can use <a href=\"http://metrics.dropwizard.io/3.2.3/getting-started.html\" rel=\"noreferrer\">Metrics</a> library which provides various measuring instruments. Add dependency:</p>\n\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.dropwizard.metrics&lt;/groupId&gt;\n        &lt;artifactId&gt;metrics-core&lt;/artifactId&gt;\n        &lt;version&gt;${metrics.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n\n<p>And configure it for your environment. </p>\n\n<p>Methods can be annotated with <a href=\"http://metrics.dropwizard.io/3.1.0/apidocs/com/codahale/metrics/annotation/Timed.html\" rel=\"noreferrer\">@Timed</a>:</p>\n\n<pre><code>@Timed\npublic void exampleMethod(){\n    // some code\n}\n</code></pre>\n\n<p>or piece of code wrapped with <a href=\"http://metrics.dropwizard.io/3.1.0/manual/core/#timers\" rel=\"noreferrer\">Timer</a>:</p>\n\n<pre><code>final Timer timer = metricsRegistry.timer(\"some_name\");\nfinal Timer.Context context = timer.time();\n// timed code\ncontext.stop();\n</code></pre>\n\n<p>Aggregated metrics can exported to console, JMX, CSV or other.</p>\n\n<p><code>@Timed</code> metrics output example:</p>\n\n<pre><code>com.example.ExampleService.exampleMethod\n             count = 2\n         mean rate = 3.11 calls/minute\n     1-minute rate = 0.96 calls/minute\n     5-minute rate = 0.20 calls/minute\n    15-minute rate = 0.07 calls/minute\n               min = 17.01 milliseconds\n               max = 1006.68 milliseconds\n              mean = 511.84 milliseconds\n            stddev = 699.80 milliseconds\n            median = 511.84 milliseconds\n              75% &lt;= 1006.68 milliseconds\n              95% &lt;= 1006.68 milliseconds\n              98% &lt;= 1006.68 milliseconds\n              99% &lt;= 1006.68 milliseconds\n            99.9% &lt;= 1006.68 milliseconds\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2264381,"reputation":778,"user_id":1993534,"accept_rate":85,"display_name":"praveen jain"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1520497134,"creation_date":1520497134,"answer_id":49168439,"question_id":180158,"body_markdown":"You can use stopwatch class from spring core project: \r\n\r\nCode:\r\n\r\n    StopWatch stopWatch = new StopWatch()\r\n    stopWatch.start();  //start stopwatch\r\n    // write your function or line of code.\r\n    stopWatch.stop();  //stop stopwatch\r\n    stopWatch.getTotalTimeMillis() ; ///get total time\r\n\r\nDocumentation for Stopwatch:\r\n**Simple stop watch, allowing for timing of a number of tasks, exposing total running time and running time for each named task. \r\nConceals use of System.currentTimeMillis(), improving the readability of application code and reducing the likelihood of calculation errors. \r\nNote that this object is not designed to be thread-safe and does not use synchronization. \r\nThis class is normally used to verify performance during proof-of-concepts and in development, rather than as part of production applications.**\r\n","title":"How do I time a method&#39;s execution in Java?","body":"<p>You can use stopwatch class from spring core project: </p>\n\n<p>Code:</p>\n\n<pre><code>StopWatch stopWatch = new StopWatch()\nstopWatch.start();  //start stopwatch\n// write your function or line of code.\nstopWatch.stop();  //stop stopwatch\nstopWatch.getTotalTimeMillis() ; ///get total time\n</code></pre>\n\n<p>Documentation for Stopwatch:\n<strong>Simple stop watch, allowing for timing of a number of tasks, exposing total running time and running time for each named task. \nConceals use of System.currentTimeMillis(), improving the readability of application code and reducing the likelihood of calculation errors. \nNote that this object is not designed to be thread-safe and does not use synchronization. \nThis class is normally used to verify performance during proof-of-concepts and in development, rather than as part of production applications.</strong></p>\n"},{"tags":[],"owner":{"account_id":6119232,"reputation":3692,"user_id":4773290,"accept_rate":86,"display_name":"Pratik Patil"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1542366782,"creation_date":1540840700,"answer_id":53052361,"question_id":180158,"body_markdown":"I have written a method to print the method execution time in a much readable form.\r\nFor example, to calculate the factorial of 1 Million, it takes approximately 9 minutes. So the execution time get printed as:\r\n\r\n    Execution Time: 9 Minutes, 36 Seconds, 237 MicroSeconds, 806193 NanoSeconds\r\n\r\nThe code is here:\r\n\r\n    public class series\r\n    {\r\n    \tpublic static void main(String[] args)\r\n    \t{\r\n    \t\tlong startTime = System.nanoTime();\r\n    \r\n    \t\tlong n = 10_00_000;\r\n    \t\tprintFactorial(n);\r\n    \r\n    \t\tlong endTime = System.nanoTime();\r\n    \t\tprintExecutionTime(startTime, endTime);\r\n    \r\n    \t}\r\n    \r\n    \tpublic static void printExecutionTime(long startTime, long endTime)\r\n    \t{\r\n    \t\tlong time_ns = endTime - startTime;\r\n    \t\tlong time_ms = TimeUnit.NANOSECONDS.toMillis(time_ns);\r\n    \t\tlong time_sec = TimeUnit.NANOSECONDS.toSeconds(time_ns);\r\n    \t\tlong time_min = TimeUnit.NANOSECONDS.toMinutes(time_ns);\r\n    \t\tlong time_hour = TimeUnit.NANOSECONDS.toHours(time_ns);\r\n    \r\n    \t\tSystem.out.print(&quot;\\nExecution Time: &quot;);\r\n    \t\tif(time_hour &gt; 0)\r\n    \t\t    System.out.print(time_hour + &quot; Hours, &quot;);\r\n    \t\tif(time_min &gt; 0)\r\n    \t\t    System.out.print(time_min % 60 + &quot; Minutes, &quot;);\r\n    \t\tif(time_sec &gt; 0)\r\n    \t\t    System.out.print(time_sec % 60 + &quot; Seconds, &quot;);\r\n    \t\tif(time_ms &gt; 0)\r\n    \t\t    System.out.print(time_ms % 1E+3 + &quot; MicroSeconds, &quot;);\r\n    \t\tif(time_ns &gt; 0)\r\n    \t\t    System.out.print(time_ns % 1E+6 + &quot; NanoSeconds&quot;);\r\n    \t}\r\n    }","title":"How do I time a method&#39;s execution in Java?","body":"<p>I have written a method to print the method execution time in a much readable form.\nFor example, to calculate the factorial of 1 Million, it takes approximately 9 minutes. So the execution time get printed as:</p>\n\n<pre><code>Execution Time: 9 Minutes, 36 Seconds, 237 MicroSeconds, 806193 NanoSeconds\n</code></pre>\n\n<p>The code is here:</p>\n\n<pre><code>public class series\n{\n    public static void main(String[] args)\n    {\n        long startTime = System.nanoTime();\n\n        long n = 10_00_000;\n        printFactorial(n);\n\n        long endTime = System.nanoTime();\n        printExecutionTime(startTime, endTime);\n\n    }\n\n    public static void printExecutionTime(long startTime, long endTime)\n    {\n        long time_ns = endTime - startTime;\n        long time_ms = TimeUnit.NANOSECONDS.toMillis(time_ns);\n        long time_sec = TimeUnit.NANOSECONDS.toSeconds(time_ns);\n        long time_min = TimeUnit.NANOSECONDS.toMinutes(time_ns);\n        long time_hour = TimeUnit.NANOSECONDS.toHours(time_ns);\n\n        System.out.print(\"\\nExecution Time: \");\n        if(time_hour &gt; 0)\n            System.out.print(time_hour + \" Hours, \");\n        if(time_min &gt; 0)\n            System.out.print(time_min % 60 + \" Minutes, \");\n        if(time_sec &gt; 0)\n            System.out.print(time_sec % 60 + \" Seconds, \");\n        if(time_ms &gt; 0)\n            System.out.print(time_ms % 1E+3 + \" MicroSeconds, \");\n        if(time_ns &gt; 0)\n            System.out.print(time_ns % 1E+6 + \" NanoSeconds\");\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7833713,"reputation":321,"user_id":5922688,"display_name":"Aska Fed"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1569842914,"creation_date":1569842914,"answer_id":58167003,"question_id":180158,"body_markdown":"For java 8+, another possible solution (more general, func-style and without aspects) could be to create some utility method accepting code as a parameter  \r\n\r\n    public static &lt;T&gt; T timed (String description, Consumer&lt;String&gt; out, Supplier&lt;T&gt; code) {\r\n        final LocalDateTime start = LocalDateTime.now ();\r\n        T res = code.get ();\r\n        final long execTime = Duration.between (start, LocalDateTime.now ()).toMillis ();\r\n        out.accept (String.format (&quot;%s: %d ms&quot;, description, execTime));\r\n        return res;\r\n    }\r\n\r\nAnd the calling code could be smth like that:\r\n\r\n    public static void main (String[] args) throws InterruptedException {\r\n        timed (&quot;Simple example&quot;, System.out::println, Timing::myCode);\r\n    }\r\n\r\n    public static Object myCode () {\r\n        try {\r\n            Thread.sleep (1500);\r\n        } catch (InterruptedException e) {\r\n            e.printStackTrace ();\r\n        }\r\n        return null;\r\n    }\r\n","title":"How do I time a method&#39;s execution in Java?","body":"<p>For java 8+, another possible solution (more general, func-style and without aspects) could be to create some utility method accepting code as a parameter  </p>\n\n<pre><code>public static &lt;T&gt; T timed (String description, Consumer&lt;String&gt; out, Supplier&lt;T&gt; code) {\n    final LocalDateTime start = LocalDateTime.now ();\n    T res = code.get ();\n    final long execTime = Duration.between (start, LocalDateTime.now ()).toMillis ();\n    out.accept (String.format (\"%s: %d ms\", description, execTime));\n    return res;\n}\n</code></pre>\n\n<p>And the calling code could be smth like that:</p>\n\n<pre><code>public static void main (String[] args) throws InterruptedException {\n    timed (\"Simple example\", System.out::println, Timing::myCode);\n}\n\npublic static Object myCode () {\n    try {\n        Thread.sleep (1500);\n    } catch (InterruptedException e) {\n        e.printStackTrace ();\n    }\n    return null;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2591647,"reputation":145,"user_id":2246238,"display_name":"Ahmad Hoghooghi"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1588062820,"creation_date":1588062178,"answer_id":61475752,"question_id":180158,"body_markdown":"**Pure Java SE code**, no need for adding dependency, using `TimeTracedExecuter` :\r\n\r\n```\r\npublic static void main(String[] args) {\r\n\r\n    Integer square = new TimeTracedExecutor&lt;&gt;(Main::calculateSquare)\r\n                .executeWithInput(&quot;calculate square of num&quot;,5,logger);\r\n    \r\n}\r\npublic static int calculateSquare(int num){\r\n    return num*num;\r\n}\r\n```\r\nWill produce result like this:\r\n\r\n`INFO: It took 3 milliseconds to calculate square of num`\r\n\r\nCustom reusable class: **TimeTracedExecutor**\r\n```\r\nimport java.text.NumberFormat;\r\nimport java.time.Duration;\r\nimport java.time.Instant;\r\nimport java.util.function.Function;\r\nimport java.util.logging.Logger;\r\n\r\npublic class TimeTracedExecutor&lt;T,R&gt; {\r\n    Function&lt;T,R&gt; methodToExecute;\r\n\r\n    public TimeTracedExecutor(Function&lt;T, R&gt; methodToExecute) {\r\n        this.methodToExecute = methodToExecute;\r\n    }\r\n\r\n    public R executeWithInput(String taskDescription, T t, Logger logger){\r\n        Instant start = Instant.now();\r\n        R r= methodToExecute.apply(t);\r\n        Instant finish = Instant.now();\r\n        String format = &quot;It took %s milliseconds to &quot;+taskDescription;\r\n        String elapsedTime = NumberFormat.getNumberInstance().format(Duration.between(start, finish).toMillis());\r\n        logger.info(String.format(format, elapsedTime));\r\n        return r;\r\n    }\r\n}\r\n```","title":"How do I time a method&#39;s execution in Java?","body":"<p><strong>Pure Java SE code</strong>, no need for adding dependency, using <code>TimeTracedExecuter</code> :</p>\n\n<pre><code>public static void main(String[] args) {\n\n    Integer square = new TimeTracedExecutor&lt;&gt;(Main::calculateSquare)\n                .executeWithInput(\"calculate square of num\",5,logger);\n\n}\npublic static int calculateSquare(int num){\n    return num*num;\n}\n</code></pre>\n\n<p>Will produce result like this:</p>\n\n<p><code>INFO: It took 3 milliseconds to calculate square of num</code></p>\n\n<p>Custom reusable class: <strong>TimeTracedExecutor</strong></p>\n\n<pre><code>import java.text.NumberFormat;\nimport java.time.Duration;\nimport java.time.Instant;\nimport java.util.function.Function;\nimport java.util.logging.Logger;\n\npublic class TimeTracedExecutor&lt;T,R&gt; {\n    Function&lt;T,R&gt; methodToExecute;\n\n    public TimeTracedExecutor(Function&lt;T, R&gt; methodToExecute) {\n        this.methodToExecute = methodToExecute;\n    }\n\n    public R executeWithInput(String taskDescription, T t, Logger logger){\n        Instant start = Instant.now();\n        R r= methodToExecute.apply(t);\n        Instant finish = Instant.now();\n        String format = \"It took %s milliseconds to \"+taskDescription;\n        String elapsedTime = NumberFormat.getNumberInstance().format(Duration.between(start, finish).toMillis());\n        logger.info(String.format(format, elapsedTime));\n        return r;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6212671,"reputation":1582,"user_id":4838509,"accept_rate":75,"display_name":"Bhaskara Arani"},"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1656952300,"creation_date":1589605466,"answer_id":61832131,"question_id":180158,"body_markdown":"In Spring framework we have a call called StopWatch (org.springframework.util.StopWatch)\r\n\r\n    //measuring elapsed time using Spring StopWatch\r\n            StopWatch watch = new StopWatch();\r\n            watch.start();\r\n            for(int i=0; i&lt; 1000; i++){\r\n                Object obj = new Object();\r\n            }\r\n            watch.stop();\r\n            System.out.println(&quot;Total execution time to create 1000 objects in Java using StopWatch in millis: &quot;\r\n                    + watch.getTotalTimeMillis());","title":"How do I time a method&#39;s execution in Java?","body":"<p>In Spring framework we have a call called StopWatch (org.springframework.util.StopWatch)</p>\n<pre><code>//measuring elapsed time using Spring StopWatch\n        StopWatch watch = new StopWatch();\n        watch.start();\n        for(int i=0; i&lt; 1000; i++){\n            Object obj = new Object();\n        }\n        watch.stop();\n        System.out.println(&quot;Total execution time to create 1000 objects in Java using StopWatch in millis: &quot;\n                + watch.getTotalTimeMillis());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2343332,"reputation":399,"user_id":2054164,"accept_rate":65,"display_name":"jhenya-d"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655572682,"creation_date":1631881535,"answer_id":69223408,"question_id":180158,"body_markdown":"Also could be implemented `Timer` interface and executed on any method of your class\r\n```\r\nimport java.util.function.*;\r\n\r\npublic interface Timer {\r\n\r\n\tdefault void timeIt(Runnable r) {\r\n\t\ttimeIt(() -&gt; { r.run(); return 0;});\r\n\t}\r\n\r\n\tdefault &lt;S,T&gt; T timeIt(Function&lt;S,T&gt; fun, S arg) {\r\n\t\tlong start = System.nanoTime();\r\n\t\tT result = fun.apply(arg);\r\n\t\tlong stop = System.nanoTime();\r\n\t\tSystem.out.println(&quot;Time: &quot; + (stop-start)/1000000.0 + &quot; msec&quot;);\r\n\t\treturn result;\r\n\t}\r\n\r\n\tdefault &lt;T&gt; T timeIt(Supplier&lt;T&gt; s) {\r\n\t\treturn timeIt(obj -&gt; s.get(), null);\r\n\t}\r\n}\r\n```\r\n\r\nUsage:\r\n\r\n```\r\nclass MyClass implements Timer ..\r\n\r\ntimeIt(this::myFunction); \r\n```","title":"How do I time a method&#39;s execution in Java?","body":"<p>Also could be implemented <code>Timer</code> interface and executed on any method of your class</p>\n<pre><code>import java.util.function.*;\n\npublic interface Timer {\n\n    default void timeIt(Runnable r) {\n        timeIt(() -&gt; { r.run(); return 0;});\n    }\n\n    default &lt;S,T&gt; T timeIt(Function&lt;S,T&gt; fun, S arg) {\n        long start = System.nanoTime();\n        T result = fun.apply(arg);\n        long stop = System.nanoTime();\n        System.out.println(&quot;Time: &quot; + (stop-start)/1000000.0 + &quot; msec&quot;);\n        return result;\n    }\n\n    default &lt;T&gt; T timeIt(Supplier&lt;T&gt; s) {\n        return timeIt(obj -&gt; s.get(), null);\n    }\n}\n</code></pre>\n<p>Usage:</p>\n<pre><code>class MyClass implements Timer ..\n\ntimeIt(this::myFunction); \n</code></pre>\n"},{"tags":[],"owner":{"account_id":47296,"reputation":27247,"user_id":140037,"accept_rate":74,"display_name":"Brett Ryan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639204265,"creation_date":1639204265,"answer_id":70313074,"question_id":180158,"body_markdown":"There&#39;s a lot of valid answers here, all of which are implemented within the method. To make a general purpose method for timing I generally have a `Timing` class consisting of the following.\r\n\r\n    public record TimedResult&lt;T&gt;(T result, Duration duration) {}\r\n\r\n    public static Duration time(Runnable r) {\r\n        var s = Instant.now();\r\n        r.run();\r\n        var dur = Duration.between(s, Instant.now());\r\n        return dur;\r\n    }\r\n\r\n    public static &lt;T&gt; TimedResult&lt;T&gt; time(Callable&lt;T&gt; r) throws Exception {\r\n        var s = Instant.now();\r\n        T res = r.call();\r\n        var dur = Duration.between(s, Instant.now());\r\n        return new TimedResult&lt;&gt;(res, dur);\r\n    }\r\n\r\nThis is general enough to pass a [Runnable][1] or [Callable][2].\r\n\r\n    Duration result = Timing.time(() -&gt; {\r\n        // do some work.\r\n    });\r\n\r\n    TimedResult&lt;String&gt; result = Timing.time(() -&gt; {\r\n        // do some work.\r\n        return &quot;answer&quot;;\r\n    });\r\n\r\n    Duration timeTaken = result.duration();\r\n    String answer = result.result();\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Runnable.html\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/Callable.html","title":"How do I time a method&#39;s execution in Java?","body":"<p>There's a lot of valid answers here, all of which are implemented within the method. To make a general purpose method for timing I generally have a <code>Timing</code> class consisting of the following.</p>\n<pre><code>public record TimedResult&lt;T&gt;(T result, Duration duration) {}\n\npublic static Duration time(Runnable r) {\n    var s = Instant.now();\n    r.run();\n    var dur = Duration.between(s, Instant.now());\n    return dur;\n}\n\npublic static &lt;T&gt; TimedResult&lt;T&gt; time(Callable&lt;T&gt; r) throws Exception {\n    var s = Instant.now();\n    T res = r.call();\n    var dur = Duration.between(s, Instant.now());\n    return new TimedResult&lt;&gt;(res, dur);\n}\n</code></pre>\n<p>This is general enough to pass a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Runnable.html\" rel=\"nofollow noreferrer\">Runnable</a> or <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/Callable.html\" rel=\"nofollow noreferrer\">Callable</a>.</p>\n<pre><code>Duration result = Timing.time(() -&gt; {\n    // do some work.\n});\n\nTimedResult&lt;String&gt; result = Timing.time(() -&gt; {\n    // do some work.\n    return &quot;answer&quot;;\n});\n\nDuration timeTaken = result.duration();\nString answer = result.result();\n</code></pre>\n"}],"owner":{"account_id":7539,"reputation":21506,"user_id":13140,"accept_rate":89,"display_name":"Ogre Psalm33"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":943950,"favorite_count":0,"down_vote_count":1,"up_vote_count":1019,"accepted_answer_id":180191,"answer_count":42,"score":1018,"last_activity_date":1656952300,"creation_date":1223410225,"question_id":180158,"body_markdown":" 1. How do I get a method&#39;s execution time?  \r\n 2. Is there a `Timer` utility class for things like timing how long a task takes, etc?  \r\n\r\nMost of the searches on Google return results for timers that schedule threads and tasks, which is not what I want.\r\n","title":"How do I time a method&#39;s execution in Java?","body":"<ol>\n<li>How do I get a method's execution time?  </li>\n<li>Is there a <code>Timer</code> utility class for things like timing how long a task takes, etc?  </li>\n</ol>\n\n<p>Most of the searches on Google return results for timers that schedule threads and tasks, which is not what I want.</p>\n"},{"tags":["java","arrays","serialization","json"],"comments":[{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1438291395,"post_id":31734264,"comment_id":51404000,"body_markdown":"You&#39;ve shown incomplete JSON. `products` is a JSON array that will map to a `List&lt;Produkt&gt;`. But the JSON containing `products` will not.","body":"You&#39;ve shown incomplete JSON. <code>products</code> is a JSON array that will map to a <code>List&lt;Produkt&gt;</code>. But the JSON containing <code>products</code> will not."},{"owner":{"account_id":6628237,"reputation":101,"user_id":5117717,"display_name":"Ash"},"score":0,"creation_date":1438291928,"post_id":31734264,"comment_id":51404247,"body_markdown":"try matching the variable names to the json keys","body":"try matching the variable names to the json keys"}],"answers":[{"tags":[],"owner":{"account_id":1790446,"reputation":36,"user_id":1630986,"display_name":"mkk"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1438294511,"creation_date":1438294511,"answer_id":31735002,"question_id":31734264,"body_markdown":"Try creating a class that has a list of products. Here is a complete example:\r\n\r\nAdd brackets around your json data like this:\r\n\r\n    {\r\n    \t&quot;products&quot;: [\r\n    \t\t{\r\n    \t\t  &quot;pid&quot;: &quot;0&quot;,\r\n    \t\t  &quot;name&quot;: &quot;Product Na&quot;,\r\n    \t\t  &quot;kategorie&quot;: &quot;Category&quot;,\r\n    \t\t  &quot;beschreibung&quot;: &quot;Description&quot;,\r\n    \t\t  &quot;bild&quot;: &quot;http:\\/\\/arsdecora.net\\/wp-content\\/uploads\\/2015\\/04\\/B1696.jpg&quot;,\r\n    \t\t  &quot;preis&quot;: &quot;0&quot;\r\n    \t\t},\r\n    \t\t{\r\n    \t\t  &quot;pid&quot;: &quot;1160&quot;,\r\n    \t\t  &quot;name&quot;: &quot;Beispiel B&quot;,\r\n    \t\t  &quot;kategorie&quot;: null,\r\n    \t\t  &quot;beschreibung&quot;: null,\r\n    \t\t  &quot;bild&quot;: &quot;http:\\/\\/arsdecora.net\\/wp-content\\/uploads\\/2015\\/04\\/B1696.jpg&quot;,\r\n    \t\t  &quot;preis&quot;: &quot;0&quot;\r\n    \t\t}\r\n    \t]\r\n    }\r\n\r\nHere are the classes you need:\r\n\r\nData class:\r\n\r\n    public class Data {\r\n        private List&lt;Product&gt; products;\r\n    \r\n    \tpublic List&lt;Product&gt; getProducts() {\r\n    \t\treturn products;\r\n    \t}\r\n    \r\n    \tpublic void setProducts(List&lt;Product&gt; products) {\r\n    \t\tthis.products = products;\r\n    \t}\r\n    }\r\n\r\nProduct class:\r\n\r\n    public class Product {\r\n    \tprivate String pid;\r\n    \tprivate String name;\r\n    \tprivate String kategorie;\r\n    \tprivate String beschreigung;\r\n    \tprivate String bild;\r\n    \tprivate String preis;\r\n    \r\n    \tpublic String getPid() {\r\n    \t\treturn pid;\r\n    \t}\r\n    \r\n    \tpublic void setPid(String pid) {\r\n    \t\tthis.pid = pid;\r\n    \t}\r\n    \r\n    \tpublic String getName() {\r\n    \t\treturn name;\r\n    \t}\r\n    \r\n    \tpublic void setName(String name) {\r\n    \t\tthis.name = name;\r\n    \t}\r\n    \r\n    \tpublic String getKategorie() {\r\n    \t\treturn kategorie;\r\n    \t}\r\n    \r\n    \tpublic void setKategorie(String kategorie) {\r\n    \t\tthis.kategorie = kategorie;\r\n    \t}\r\n    \r\n    \tpublic String getBeschreigung() {\r\n    \t\treturn beschreigung;\r\n    \t}\r\n    \r\n    \tpublic void setBeschreigung(String beschreigung) {\r\n    \t\tthis.beschreigung = beschreigung;\r\n    \t}\r\n    \r\n    \tpublic String getBild() {\r\n    \t\treturn bild;\r\n    \t}\r\n    \r\n    \tpublic void setBild(String bild) {\r\n    \t\tthis.bild = bild;\r\n    \t}\r\n    \r\n    \tpublic String getPreis() {\r\n    \t\treturn preis;\r\n    \t}\r\n    \r\n    \tpublic void setPreis(String preis) {\r\n    \t\tthis.preis = preis;\r\n    \t}\r\n    }\r\n\r\nGsonTest class:\r\n\r\n    public class GsonTest {\r\n    \tpublic static void main(String[] args) {\r\n            Gson gson = new Gson();\r\n    \r\n            Object obj;\r\n            try {\r\n                JsonParser parser = new JsonParser();\r\n                obj = parser.parse(new FileReader(&quot;C:\\data.json&quot;));\r\n                JsonObject jsonObject = (JsonObject) obj;\r\n    \r\n                Data data = gson.fromJson(jsonObject, Data.class);\r\n            } catch (JsonIOException e) {\r\n                // TODO Auto-generated catch block\r\n                e.printStackTrace();\r\n            } catch (JsonSyntaxException e) {\r\n                // TODO Auto-generated catch block\r\n                e.printStackTrace();\r\n            } catch (FileNotFoundException e) {\r\n                // TODO Auto-generated catch block\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    } ","title":"converting JSONObject to Object list","body":"<p>Try creating a class that has a list of products. Here is a complete example:</p>\n\n<p>Add brackets around your json data like this:</p>\n\n<pre><code>{\n    \"products\": [\n        {\n          \"pid\": \"0\",\n          \"name\": \"Product Na\",\n          \"kategorie\": \"Category\",\n          \"beschreibung\": \"Description\",\n          \"bild\": \"http:\\/\\/arsdecora.net\\/wp-content\\/uploads\\/2015\\/04\\/B1696.jpg\",\n          \"preis\": \"0\"\n        },\n        {\n          \"pid\": \"1160\",\n          \"name\": \"Beispiel B\",\n          \"kategorie\": null,\n          \"beschreibung\": null,\n          \"bild\": \"http:\\/\\/arsdecora.net\\/wp-content\\/uploads\\/2015\\/04\\/B1696.jpg\",\n          \"preis\": \"0\"\n        }\n    ]\n}\n</code></pre>\n\n<p>Here are the classes you need:</p>\n\n<p>Data class:</p>\n\n<pre><code>public class Data {\n    private List&lt;Product&gt; products;\n\n    public List&lt;Product&gt; getProducts() {\n        return products;\n    }\n\n    public void setProducts(List&lt;Product&gt; products) {\n        this.products = products;\n    }\n}\n</code></pre>\n\n<p>Product class:</p>\n\n<pre><code>public class Product {\n    private String pid;\n    private String name;\n    private String kategorie;\n    private String beschreigung;\n    private String bild;\n    private String preis;\n\n    public String getPid() {\n        return pid;\n    }\n\n    public void setPid(String pid) {\n        this.pid = pid;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getKategorie() {\n        return kategorie;\n    }\n\n    public void setKategorie(String kategorie) {\n        this.kategorie = kategorie;\n    }\n\n    public String getBeschreigung() {\n        return beschreigung;\n    }\n\n    public void setBeschreigung(String beschreigung) {\n        this.beschreigung = beschreigung;\n    }\n\n    public String getBild() {\n        return bild;\n    }\n\n    public void setBild(String bild) {\n        this.bild = bild;\n    }\n\n    public String getPreis() {\n        return preis;\n    }\n\n    public void setPreis(String preis) {\n        this.preis = preis;\n    }\n}\n</code></pre>\n\n<p>GsonTest class:</p>\n\n<pre><code>public class GsonTest {\n    public static void main(String[] args) {\n        Gson gson = new Gson();\n\n        Object obj;\n        try {\n            JsonParser parser = new JsonParser();\n            obj = parser.parse(new FileReader(\"C:\\data.json\"));\n            JsonObject jsonObject = (JsonObject) obj;\n\n            Data data = gson.fromJson(jsonObject, Data.class);\n        } catch (JsonIOException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        } catch (JsonSyntaxException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        } catch (FileNotFoundException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n    }\n} \n</code></pre>\n"},{"tags":[],"owner":{"account_id":10712907,"reputation":221,"user_id":7884616,"display_name":"Superman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656951813,"creation_date":1656951813,"answer_id":72859670,"question_id":31734264,"body_markdown":"Considering that your request or string data is in `JSONObject jsonArray`. Below code can help you get the response in List using **TypeToken**.\r\n\r\n    JSONArray jsonArray = jsonResponse.getJSONArray(&quot;products&quot;);\r\n    String newList = jsonArray.toString();\r\n    Gson gson = new Gson();\r\n    Type typeOfProduktList = new TypeToken&lt;ArrayList&lt;Produkt&gt;&gt;() {}.getType();\r\n    List&lt;Produkt&gt; finalList = gson.fromJson(newList, typeOfProduktList);\r\n\r\nNow, you can return the `finalList` in the end or process it as per your wish.","title":"converting JSONObject to Object list","body":"<p>Considering that your request or string data is in <code>JSONObject jsonArray</code>. Below code can help you get the response in List using <strong>TypeToken</strong>.</p>\n<pre><code>JSONArray jsonArray = jsonResponse.getJSONArray(&quot;products&quot;);\nString newList = jsonArray.toString();\nGson gson = new Gson();\nType typeOfProduktList = new TypeToken&lt;ArrayList&lt;Produkt&gt;&gt;() {}.getType();\nList&lt;Produkt&gt; finalList = gson.fromJson(newList, typeOfProduktList);\n</code></pre>\n<p>Now, you can return the <code>finalList</code> in the end or process it as per your wish.</p>\n"}],"owner":{"account_id":3099859,"reputation":107,"user_id":2624267,"accept_rate":73,"display_name":"Markus Schmitz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7192,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":31735002,"answer_count":2,"score":1,"last_activity_date":1656951813,"creation_date":1438291212,"question_id":31734264,"body_markdown":"I want to convert a JSONObject (array) to a list of Objects.\r\nAs I am very new with java i am having quite some problems.\r\n\r\nJSON:\r\n\r\n    &quot;products&quot;: [\r\n    {\r\n      &quot;pid&quot;: &quot;0&quot;,\r\n      &quot;name&quot;: &quot;Product Na&quot;,\r\n      &quot;kategorie&quot;: &quot;Category&quot;,\r\n      &quot;beschreibung&quot;: &quot;Description&quot;,\r\n      &quot;bild&quot;: &quot;http:\\/\\/arsdecora.net\\/wp-content\\/uploads\\/2015\\/04\\/B1696.jpg&quot;,\r\n      &quot;preis&quot;: &quot;0&quot;\r\n    },\r\n    {\r\n      &quot;pid&quot;: &quot;1160&quot;,\r\n      &quot;name&quot;: &quot;Beispiel B&quot;,\r\n      &quot;kategorie&quot;: null,\r\n      &quot;beschreibung&quot;: null,\r\n      &quot;bild&quot;: &quot;http:\\/\\/arsdecora.net\\/wp-content\\/uploads\\/2015\\/04\\/B1696.jpg&quot;,\r\n      &quot;preis&quot;: &quot;0&quot;\r\n    },\r\n\r\nProduct class:\r\n\r\n    public class Produkt {\r\n\r\n    public String id;\r\n    public String name;\r\n    public String categorie;\r\n    public String description;\r\n    public String image;\r\n    public double price;\r\n    }\r\n\r\nI have tried several things with gson, but ultimately nothing worked.\r\nI don&#39;t need a working code, just a hint on how to deserialize the JSON by the tags. \r\n\r\nI hope you can help me. Thanks in advance!","title":"converting JSONObject to Object list","body":"<p>I want to convert a JSONObject (array) to a list of Objects.\nAs I am very new with java i am having quite some problems.</p>\n\n<p>JSON:</p>\n\n<pre><code>\"products\": [\n{\n  \"pid\": \"0\",\n  \"name\": \"Product Na\",\n  \"kategorie\": \"Category\",\n  \"beschreibung\": \"Description\",\n  \"bild\": \"http:\\/\\/arsdecora.net\\/wp-content\\/uploads\\/2015\\/04\\/B1696.jpg\",\n  \"preis\": \"0\"\n},\n{\n  \"pid\": \"1160\",\n  \"name\": \"Beispiel B\",\n  \"kategorie\": null,\n  \"beschreibung\": null,\n  \"bild\": \"http:\\/\\/arsdecora.net\\/wp-content\\/uploads\\/2015\\/04\\/B1696.jpg\",\n  \"preis\": \"0\"\n},\n</code></pre>\n\n<p>Product class:</p>\n\n<pre><code>public class Produkt {\n\npublic String id;\npublic String name;\npublic String categorie;\npublic String description;\npublic String image;\npublic double price;\n}\n</code></pre>\n\n<p>I have tried several things with gson, but ultimately nothing worked.\nI don't need a working code, just a hint on how to deserialize the JSON by the tags. </p>\n\n<p>I hope you can help me. Thanks in advance!</p>\n"},{"tags":["java","string","beanshell"],"answers":[{"tags":[],"owner":{"account_id":1592666,"reputation":386,"user_id":1475652,"accept_rate":80,"display_name":"Tostis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1393095529,"creation_date":1393095529,"answer_id":21958967,"question_id":21950729,"body_markdown":"According to documentation, the eval method returns an Object containing the result of evaluation. Try to cast it to String.","title":"Using beanshell to run java code","body":"<p>According to documentation, the eval method returns an Object containing the result of evaluation. Try to cast it to String.</p>\n"},{"tags":[],"owner":{"account_id":2405099,"reputation":91,"user_id":2101798,"accept_rate":0,"display_name":"Jack Sullivan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1393186231,"creation_date":1393186231,"answer_id":21973861,"question_id":21950729,"body_markdown":"Solved using the following solution.\r\n\r\n    \tInterpreter i = new Interpreter(); // Create a new BeanShell interpreter.\r\n\t\tByteArrayOutputStream baos = new ByteArrayOutputStream(); \r\n\t\tPrintStream ps = new PrintStream(baos); \r\n\t\tPrintStream stdout = System.out; // Save System.out \r\n\t\tSystem.setOut(ps); // Set the out to the PrintStream\r\n\t\ttry{\r\n\t\t\ti.eval(s);\r\n\t\t}catch (Exception e){\r\n\t\t\treturn &quot;Error&quot;;\r\n\t\t}\r\n\t\tString out = baos.toString(); // Get the output\r\n\t\tSystem.setOut(stdout); // Reset the output\r\n","title":"Using beanshell to run java code","body":"<p>Solved using the following solution.</p>\n\n<pre><code>    Interpreter i = new Interpreter(); // Create a new BeanShell interpreter.\n    ByteArrayOutputStream baos = new ByteArrayOutputStream(); \n    PrintStream ps = new PrintStream(baos); \n    PrintStream stdout = System.out; // Save System.out \n    System.setOut(ps); // Set the out to the PrintStream\n    try{\n        i.eval(s);\n    }catch (Exception e){\n        return \"Error\";\n    }\n    String out = baos.toString(); // Get the output\n    System.setOut(stdout); // Reset the output\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23785974,"reputation":23,"user_id":17798036,"display_name":"GreenOwl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656951796,"creation_date":1656951796,"answer_id":72859665,"question_id":21950729,"body_markdown":"**Main.java**\r\n\r\n```Java\r\npackage org.example; // Your package \r\n\r\nimport bsh.EvalError;\r\nimport bsh.Interpreter;\r\n\r\npublic class Main {\r\n\r\n    public static void main(String[] args) throws EvalError {\r\n        String s = &quot;int x = 5; System.out.println(x);&quot;;\r\n        Interpreter i = new Interpreter();\r\n        i.eval(s);\r\n    }\r\n}\r\n```\r\n\r\n**build.gradle**\r\n\r\n```\r\nimplementation &#39;org.beanshell:bsh:2.0b5&#39;\r\n```","title":"Using beanshell to run java code","body":"<p><strong>Main.java</strong></p>\n<pre><code>package org.example; // Your package \n\nimport bsh.EvalError;\nimport bsh.Interpreter;\n\npublic class Main {\n\n    public static void main(String[] args) throws EvalError {\n        String s = &quot;int x = 5; System.out.println(x);&quot;;\n        Interpreter i = new Interpreter();\n        i.eval(s);\n    }\n}\n</code></pre>\n<p><strong>build.gradle</strong></p>\n<pre><code>implementation 'org.beanshell:bsh:2.0b5'\n</code></pre>\n"}],"owner":{"account_id":2405099,"reputation":91,"user_id":2101798,"accept_rate":0,"display_name":"Jack Sullivan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1394,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1656951796,"creation_date":1393050897,"question_id":21950729,"body_markdown":"Okay so I have some simple code I would like to run using the beanshell interpreter, and I am trying to figure out how I could do something like:\r\n\r\n    String s = &quot;int x = 5; System.out.println(x);&quot; \r\n    Interpreter i = new Interpreter();\r\n    i.eval(s); //THIS\r\n\r\nNow the real question arises, how could I convert the output of the &quot;i.eval(s)&quot; back to a string so I can use the output elsewhere? \r\n \r\n\r\nI apologize if this has already been asked or if there is simple documentation somewhere. I could not find anything that helped.\r\n\r\nThank you very much.  \r\n","title":"Using beanshell to run java code","body":"<p>Okay so I have some simple code I would like to run using the beanshell interpreter, and I am trying to figure out how I could do something like:</p>\n\n<pre><code>String s = \"int x = 5; System.out.println(x);\" \nInterpreter i = new Interpreter();\ni.eval(s); //THIS\n</code></pre>\n\n<p>Now the real question arises, how could I convert the output of the \"i.eval(s)\" back to a string so I can use the output elsewhere? </p>\n\n<p>I apologize if this has already been asked or if there is simple documentation somewhere. I could not find anything that helped.</p>\n\n<p>Thank you very much.  </p>\n"},{"tags":["java","database","sqlite"],"comments":[{"owner":{"account_id":21765216,"reputation":109,"user_id":16069214,"display_name":"Enes Sabi"},"score":0,"creation_date":1656950899,"post_id":72859480,"comment_id":128690082,"body_markdown":"Could you specify what you have tried and where the first appearing problem is.","body":"Could you specify what you have tried and where the first appearing problem is."},{"owner":{"account_id":9744358,"reputation":39903,"user_id":10138734,"display_name":"Akina"},"score":0,"creation_date":1656951082,"post_id":72859480,"comment_id":128690117,"body_markdown":"Write FOREIGN KEY references completely, do not shorten them.","body":"Write FOREIGN KEY references completely, do not shorten them."}],"answers":[{"tags":[],"owner":{"account_id":10929,"reputation":545317,"user_id":20860,"accept_rate":92,"display_name":"Bill Karwin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656951147,"creation_date":1656951147,"answer_id":72859542,"question_id":72859480,"body_markdown":"In foreign key syntax, you must name the column(s) in the table that are the foreign key. You also need to define a column first, so you can define the data type or other options for that column.\r\n\r\nWRONG:\r\n\r\n    FOREIGN KEY fk_events_ID REFERENCES School(ID)\r\n\r\nRIGHT:\r\n\r\n    school_id INTEGER,\r\n    FOREIGN KEY fk_events_ID (school_id) REFERENCES School(ID)\r\n\r\nRead https://sqlite.org/foreignkeys.html for more information about foreign keys in SQLite.\r\n","title":"when i try to run this code in dbeaver it give me this error &quot; [SQLITE_ERROR] SQL error or missing database (near &quot;fk_GRADES_ID&quot;: syntax error)&quot;","body":"<p>In foreign key syntax, you must name the column(s) in the table that are the foreign key. You also need to define a column first, so you can define the data type or other options for that column.</p>\n<p>WRONG:</p>\n<pre><code>FOREIGN KEY fk_events_ID REFERENCES School(ID)\n</code></pre>\n<p>RIGHT:</p>\n<pre><code>school_id INTEGER,\nFOREIGN KEY fk_events_ID (school_id) REFERENCES School(ID)\n</code></pre>\n<p>Read <a href=\"https://sqlite.org/foreignkeys.html\" rel=\"nofollow noreferrer\">https://sqlite.org/foreignkeys.html</a> for more information about foreign keys in SQLite.</p>\n"},{"tags":[],"owner":{"account_id":21765216,"reputation":109,"user_id":16069214,"display_name":"Enes Sabi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656951322,"creation_date":1656951322,"answer_id":72859577,"question_id":72859480,"body_markdown":"In foreign keys you need brackets and it is a good habit to specify everything that could go wrong with constraints, so you know exactly what was the problem\r\nIn many cases, the manuals could help you in the first place.\r\nhttps://www.sqlite.org/docs.html\r\n\r\n\r\n```CREATE TABLE School(\r\n\tID INTEGER PRIMARY KEY, \r\n    Name TEXT NOT NULL\r\n    ); \r\nCREATE TABLE events ( \r\n\tID INTEGER PRIMARY KEY,\r\n    details TEXT NOT NULL,\r\n    start_data TEXT NOT NULL,\r\n    end_data TEXT NOT NULL,\r\n    title TEXT NOT NULL, \r\n    CONSTRAINT fk_events FOREIGN KEY (fk_events_ID) REFERENCES School(ID)\r\n);\r\n\r\nCREATE TABLE CALENDAR (\r\n\tID INTEGER PRIMARY KEY,\r\n    title TEXT NOT NULL,\r\n    details TEXT NOT NULL,\r\n    start_data TEXT NOT NULL,\r\n    end_data TEXT NOT NULL,\r\n    subject INTEGER NOT NULL,\r\n    CONSTRAINT fk_calendar FOREIGN KEY (fk_CALENDAR_ID) REFERENCES School(ID)\r\n);\r\n\r\nCREATE TABLE GRADES (\r\n\tID INTEGER PRIMARY KEY, \r\n    title TEXT NOT NULL, \r\n    coefficent REAL NOT NULL, \r\n    value REAL NOT NULL, \r\n    date_time TEXT NOT NULL, \r\n    Subject INTEGER NOT NULL, \r\n    CONSTRAINT fk_grades FOREIGN KEY (fk_GRADES_ID) REFERENCES School(ID)\r\n);```\r\n","title":"when i try to run this code in dbeaver it give me this error &quot; [SQLITE_ERROR] SQL error or missing database (near &quot;fk_GRADES_ID&quot;: syntax error)&quot;","body":"<p>In foreign keys you need brackets and it is a good habit to specify everything that could go wrong with constraints, so you know exactly what was the problem\nIn many cases, the manuals could help you in the first place.\n<a href=\"https://www.sqlite.org/docs.html\" rel=\"nofollow noreferrer\">https://www.sqlite.org/docs.html</a></p>\n<pre><code>    ID INTEGER PRIMARY KEY, \n    Name TEXT NOT NULL\n    ); \nCREATE TABLE events ( \n    ID INTEGER PRIMARY KEY,\n    details TEXT NOT NULL,\n    start_data TEXT NOT NULL,\n    end_data TEXT NOT NULL,\n    title TEXT NOT NULL, \n    CONSTRAINT fk_events FOREIGN KEY (fk_events_ID) REFERENCES School(ID)\n);\n\nCREATE TABLE CALENDAR (\n    ID INTEGER PRIMARY KEY,\n    title TEXT NOT NULL,\n    details TEXT NOT NULL,\n    start_data TEXT NOT NULL,\n    end_data TEXT NOT NULL,\n    subject INTEGER NOT NULL,\n    CONSTRAINT fk_calendar FOREIGN KEY (fk_CALENDAR_ID) REFERENCES School(ID)\n);\n\nCREATE TABLE GRADES (\n    ID INTEGER PRIMARY KEY, \n    title TEXT NOT NULL, \n    coefficent REAL NOT NULL, \n    value REAL NOT NULL, \n    date_time TEXT NOT NULL, \n    Subject INTEGER NOT NULL, \n    CONSTRAINT fk_grades FOREIGN KEY (fk_GRADES_ID) REFERENCES School(ID)\n);```\n</code></pre>\n"}],"owner":{"account_id":24672573,"reputation":11,"user_id":18567414,"display_name":"Edoardo Pierezza"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":732,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1656951322,"creation_date":1656950810,"question_id":72859480,"body_markdown":"   \r\n CREATE TABLE School (\r\n ID INTEGER PRIMARY KEY ,\r\n Name TEXT NOT NULL\r\n\r\n ); \r\nCREATE TABLE events (\r\n  ID INTEGER PRIMARY KEY ,\r\n  details TEXT NOT NULL,\r\n  start_data TEXT NOT NULL,\r\n  end_data  TEXT NOT NULL,\r\n  title TEXT NOT NULL,\r\n   FOREIGN KEY fk_events_ID REFERENCES School(ID)\r\n  \r\n);\r\n\r\nCREATE TABLE CALENDAR (\r\n  ID INTEGER PRIMARY KEY,\r\n  title TEXT NOT NULL,\r\n  details TEXT NOT NULL,\r\n  start_data TEXT NOT NULL,\r\n  end_data  TEXT NOT NULL,\r\n  subject INTEGER NOT NULL,\r\n  FOREIGN KEY fk_CALENDAR_ID REFERENCES School(ID)\r\n  \r\n);\r\n\r\nCREATE TABLE GRADES (\r\n  ID INTEGER PRIMARY KEY ,\r\n  title TEXT NOT NULL,\r\n  coefficent REAL NOT NULL,\r\n  value REAL NOT NULL,\r\n  date_time TEXT NOT NULL,\r\n  Subject INTEGER NOT NULL,\r\n  FOREIGN KEY fk_GRADES_ID REFERENCES School(ID)\r\n  ","title":"when i try to run this code in dbeaver it give me this error &quot; [SQLITE_ERROR] SQL error or missing database (near &quot;fk_GRADES_ID&quot;: syntax error)&quot;","body":"<p>CREATE TABLE School (\nID INTEGER PRIMARY KEY ,\nName TEXT NOT NULL</p>\n<p>);\nCREATE TABLE events (\nID INTEGER PRIMARY KEY ,\ndetails TEXT NOT NULL,\nstart_data TEXT NOT NULL,\nend_data  TEXT NOT NULL,\ntitle TEXT NOT NULL,\nFOREIGN KEY fk_events_ID REFERENCES School(ID)</p>\n<p>);</p>\n<p>CREATE TABLE CALENDAR (\nID INTEGER PRIMARY KEY,\ntitle TEXT NOT NULL,\ndetails TEXT NOT NULL,\nstart_data TEXT NOT NULL,\nend_data  TEXT NOT NULL,\nsubject INTEGER NOT NULL,\nFOREIGN KEY fk_CALENDAR_ID REFERENCES School(ID)</p>\n<p>);</p>\n<p>CREATE TABLE GRADES (\nID INTEGER PRIMARY KEY ,\ntitle TEXT NOT NULL,\ncoefficent REAL NOT NULL,\nvalue REAL NOT NULL,\ndate_time TEXT NOT NULL,\nSubject INTEGER NOT NULL,\nFOREIGN KEY fk_GRADES_ID REFERENCES School(ID)</p>\n"},{"tags":["java","postgresql","hibernate","spring-data"],"comments":[{"owner":{"account_id":8781643,"reputation":25950,"user_id":6565093,"accept_rate":47,"display_name":"pvpkiran"},"score":0,"creation_date":1517735108,"post_id":48606366,"comment_id":84209053,"body_markdown":"Instead of hardocding DELIMITER and ENCODING in query with &#39; &#39; , you can add that as method arguments like fileName and send it from the class where you call this method","body":"Instead of hardocding DELIMITER and ENCODING in query with &#39; &#39; , you can add that as method arguments like fileName and send it from the class where you call this method"},{"owner":{"account_id":2073335,"reputation":101,"user_id":1847323,"display_name":"dd-developer"},"score":0,"creation_date":1517777662,"post_id":48606366,"comment_id":84222451,"body_markdown":"Yes, thanks for the tip.","body":"Yes, thanks for the tip."},{"owner":{"account_id":2073335,"reputation":101,"user_id":1847323,"display_name":"dd-developer"},"score":0,"creation_date":1517832085,"post_id":48606366,"comment_id":84240638,"body_markdown":"But any clue why it is not acception my query-parameter for the filename? Thats the main issue here. I dont see why...","body":"But any clue why it is not acception my query-parameter for the filename? Thats the main issue here. I dont see why..."}],"answers":[{"tags":[],"owner":{"account_id":2073335,"reputation":101,"user_id":1847323,"display_name":"dd-developer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1518088893,"creation_date":1518088893,"answer_id":48684284,"question_id":48606366,"body_markdown":"Well i could not find any answer to this question. So i had to switch to JdbcTemplate to make it work.\r\nBut still in JdbcTemplate. Using named parameters, i get exactly the same error as above. \r\nBut just hard coding the file-path into the statement works fine. So got it working. But its not very elegant..","title":"Copy table FROM CSV (postgresql, spring data/hibernate)","body":"<p>Well i could not find any answer to this question. So i had to switch to JdbcTemplate to make it work.\nBut still in JdbcTemplate. Using named parameters, i get exactly the same error as above. \nBut just hard coding the file-path into the statement works fine. So got it working. But its not very elegant..</p>\n"},{"tags":[],"owner":{"account_id":4625005,"reputation":1,"user_id":3749071,"display_name":"user3749071"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656950724,"creation_date":1656950724,"answer_id":72859463,"question_id":48606366,"body_markdown":"This is not a full answer, but if you replace &#39;:fileName&#39; parameter with a hard-coded filename, the JPA query will work.","title":"Copy table FROM CSV (postgresql, spring data/hibernate)","body":"<p>This is not a full answer, but if you replace ':fileName' parameter with a hard-coded filename, the JPA query will work.</p>\n"}],"owner":{"account_id":2073335,"reputation":101,"user_id":1847323,"display_name":"dd-developer"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2208,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":48684284,"answer_count":2,"score":1,"last_activity_date":1656950724,"creation_date":1517734539,"question_id":48606366,"body_markdown":"Im using Spring Boot with Spring Data / Hibernate against PostgreSQL db.\r\nIm loading a CSV file directly into a table.\r\nThe following statement works like a charm when run directly in the db:\r\n\r\n    COPY temp_import_hovedenheter FROM &#39;mycsvfile.csv&#39; DELIMITER &#39;;&#39; CSV HEADER ENCODING &#39;UTF8&#39;;\r\n\r\nBut when exactly the same is run inside my application it throws an error:\r\n\r\n    @Modifying\r\n    @Query(value = &quot;COPY temp_import_hovedenheter FROM :fileName DELIMITER &#39;;&#39; CSV HEADER ENCODING &#39;UTF8&#39;;&quot;,\r\n            nativeQuery = true)\r\n    void loadHovedenhetFileIntoTable(@Param(&quot;fileName&quot;) String fileName);\r\n\r\nError:\r\n\r\n    09:39:55.673 [pool-2-thread-1] WARN  o.h.e.jdbc.spi.SqlExceptionHelper(127) - SQL Error: 0, SQLState: 42601\r\n    09:39:55.673 [pool-2-thread-1] ERROR o.h.e.jdbc.spi.SqlExceptionHelper(129) - ERROR: syntax error at or near &quot;$1&quot;\r\n      Position: 36\r\n    09:39:55.683 [pool-2-thread-1] ERROR o.s.s.s.TaskUtils$LoggingErrorHandler(95) - Unexpected error occurred in scheduled task.\r\n    org.springframework.dao.InvalidDataAccessResourceUsageException: could not execute statement; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not execute statement\r\n    \tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:261)\r\n    \tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:244)\r\n    \tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:488)\r\n    \tat org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:59)\r\n    \tat org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:213)\r\n    \tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:147)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n    \tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:133)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n    \tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n    \tat org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:57)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n    \tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213)\r\n    \tat com.sun.proxy.$Proxy122.loadHovedenhetFileIntoTable(Unknown Source)\r\n    \tat no.dahlsdata.service.OrganizationService.loadHovedenhetFileIntoTable(OrganizationService.java:279)\r\n    \tat no.dahlsdata.service.OrganizationService$$FastClassBySpringCGLIB$$fdd2d4ca.invoke(&lt;generated&gt;)\r\n    \tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)\r\n    \tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99)\r\n    \tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282)\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n    \tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673)\r\n    \tat no.dahlsdata.service.OrganizationService$$EnhancerBySpringCGLIB$$4243d4b.loadHovedenhetFileIntoTable(&lt;generated&gt;)\r\n    \tat no.dahlsdata.scheduled.OrganizationUpdateScheduler.loadIntoTempDatabase(OrganizationUpdateScheduler.java:193)\r\n    \tat no.dahlsdata.scheduled.OrganizationUpdateScheduler.scheduledImportToDatabase(OrganizationUpdateScheduler.java:93)\r\n    \tat no.dahlsdata.scheduled.OrganizationUpdateScheduler$$FastClassBySpringCGLIB$$d5ae54bf.invoke(&lt;generated&gt;)\r\n    \tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)\r\n    \tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:669)\r\n    \tat no.dahlsdata.scheduled.OrganizationUpdateScheduler$$EnhancerBySpringCGLIB$$5727a52e.scheduledImportToDatabase(&lt;generated&gt;)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:65)\r\n    \tat org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)\r\n    \tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\r\n    \tat java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)\r\n    \tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)\r\n    \tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n    \tat java.lang.Thread.run(Thread.java:748)\r\n    Caused by: org.hibernate.exception.SQLGrammarException: could not execute statement\r\n    \tat org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:106)\r\n    \tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42)\r\n    \tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:109)\r\n    \tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:95)\r\n    \tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:207)\r\n    \tat org.hibernate.engine.query.spi.NativeSQLQueryPlan.performExecuteUpdate(NativeSQLQueryPlan.java:194)\r\n    \tat org.hibernate.internal.SessionImpl.executeNativeUpdate(SessionImpl.java:1373)\r\n    \tat org.hibernate.internal.SQLQueryImpl.executeUpdate(SQLQueryImpl.java:373)\r\n    \tat org.hibernate.jpa.internal.QueryImpl.internalExecuteUpdate(QueryImpl.java:405)\r\n    \tat org.hibernate.jpa.spi.AbstractQueryImpl.executeUpdate(AbstractQueryImpl.java:61)\r\n    \tat org.springframework.data.jpa.repository.query.JpaQueryExecution$ModifyingExecution.doExecute(JpaQueryExecution.java:238)\r\n    \tat org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:85)\r\n    \tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:116)\r\n    \tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:106)\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.doInvoke(RepositoryFactorySupport.java:483)\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.invoke(RepositoryFactorySupport.java:461)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n    \tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:56)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99)\r\n    \tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282)\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n    \tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136)\r\n    \t... 39 common frames omitted\r\n    Caused by: org.postgresql.util.PSQLException: ERROR: syntax error at or near &quot;$1&quot;\r\n      Position: 36\r\n    \tat org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2422)\r\n    \tat org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2167)\r\n    \tat org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:306)\r\n    \tat org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:441)\r\n    \tat org.postgresql.jdbc.PgStatement.execute(PgStatement.java:365)\r\n    \tat org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:155)\r\n    \tat org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:132)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.apache.tomcat.jdbc.pool.StatementFacade$StatementProxy.invoke(StatementFacade.java:114)\r\n    \tat com.sun.proxy.$Proxy76.executeUpdate(Unknown Source)\r\n    \tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:204)\r\n    \t... 58 common frames omitted\r\n\r\n","title":"Copy table FROM CSV (postgresql, spring data/hibernate)","body":"<p>Im using Spring Boot with Spring Data / Hibernate against PostgreSQL db.\nIm loading a CSV file directly into a table.\nThe following statement works like a charm when run directly in the db:</p>\n\n<pre><code>COPY temp_import_hovedenheter FROM 'mycsvfile.csv' DELIMITER ';' CSV HEADER ENCODING 'UTF8';\n</code></pre>\n\n<p>But when exactly the same is run inside my application it throws an error:</p>\n\n<pre><code>@Modifying\n@Query(value = \"COPY temp_import_hovedenheter FROM :fileName DELIMITER ';' CSV HEADER ENCODING 'UTF8';\",\n        nativeQuery = true)\nvoid loadHovedenhetFileIntoTable(@Param(\"fileName\") String fileName);\n</code></pre>\n\n<p>Error:</p>\n\n<pre><code>09:39:55.673 [pool-2-thread-1] WARN  o.h.e.jdbc.spi.SqlExceptionHelper(127) - SQL Error: 0, SQLState: 42601\n09:39:55.673 [pool-2-thread-1] ERROR o.h.e.jdbc.spi.SqlExceptionHelper(129) - ERROR: syntax error at or near \"$1\"\n  Position: 36\n09:39:55.683 [pool-2-thread-1] ERROR o.s.s.s.TaskUtils$LoggingErrorHandler(95) - Unexpected error occurred in scheduled task.\norg.springframework.dao.InvalidDataAccessResourceUsageException: could not execute statement; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not execute statement\n    at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:261)\n    at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:244)\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:488)\n    at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:59)\n    at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:213)\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:147)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\n    at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:133)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\n    at org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:57)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213)\n    at com.sun.proxy.$Proxy122.loadHovedenhetFileIntoTable(Unknown Source)\n    at no.dahlsdata.service.OrganizationService.loadHovedenhetFileIntoTable(OrganizationService.java:279)\n    at no.dahlsdata.service.OrganizationService$$FastClassBySpringCGLIB$$fdd2d4ca.invoke(&lt;generated&gt;)\n    at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\n    at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282)\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673)\n    at no.dahlsdata.service.OrganizationService$$EnhancerBySpringCGLIB$$4243d4b.loadHovedenhetFileIntoTable(&lt;generated&gt;)\n    at no.dahlsdata.scheduled.OrganizationUpdateScheduler.loadIntoTempDatabase(OrganizationUpdateScheduler.java:193)\n    at no.dahlsdata.scheduled.OrganizationUpdateScheduler.scheduledImportToDatabase(OrganizationUpdateScheduler.java:93)\n    at no.dahlsdata.scheduled.OrganizationUpdateScheduler$$FastClassBySpringCGLIB$$d5ae54bf.invoke(&lt;generated&gt;)\n    at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:669)\n    at no.dahlsdata.scheduled.OrganizationUpdateScheduler$$EnhancerBySpringCGLIB$$5727a52e.scheduledImportToDatabase(&lt;generated&gt;)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:65)\n    at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)\n    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\n    at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)\n    at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)\n    at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at java.lang.Thread.run(Thread.java:748)\nCaused by: org.hibernate.exception.SQLGrammarException: could not execute statement\n    at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:106)\n    at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42)\n    at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:109)\n    at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:95)\n    at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:207)\n    at org.hibernate.engine.query.spi.NativeSQLQueryPlan.performExecuteUpdate(NativeSQLQueryPlan.java:194)\n    at org.hibernate.internal.SessionImpl.executeNativeUpdate(SessionImpl.java:1373)\n    at org.hibernate.internal.SQLQueryImpl.executeUpdate(SQLQueryImpl.java:373)\n    at org.hibernate.jpa.internal.QueryImpl.internalExecuteUpdate(QueryImpl.java:405)\n    at org.hibernate.jpa.spi.AbstractQueryImpl.executeUpdate(AbstractQueryImpl.java:61)\n    at org.springframework.data.jpa.repository.query.JpaQueryExecution$ModifyingExecution.doExecute(JpaQueryExecution.java:238)\n    at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:85)\n    at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:116)\n    at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:106)\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.doInvoke(RepositoryFactorySupport.java:483)\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.invoke(RepositoryFactorySupport.java:461)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\n    at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:56)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\n    at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282)\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136)\n    ... 39 common frames omitted\nCaused by: org.postgresql.util.PSQLException: ERROR: syntax error at or near \"$1\"\n  Position: 36\n    at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2422)\n    at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2167)\n    at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:306)\n    at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:441)\n    at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:365)\n    at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:155)\n    at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:132)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.apache.tomcat.jdbc.pool.StatementFacade$StatementProxy.invoke(StatementFacade.java:114)\n    at com.sun.proxy.$Proxy76.executeUpdate(Unknown Source)\n    at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:204)\n    ... 58 common frames omitted\n</code></pre>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1656827092,"post_id":72844076,"comment_id":128663436,"body_markdown":"You&#39;ll have to make a class to hold those two arrays, and return an instance of that.  That&#39;s pretty much how it works in Java.","body":"You&#39;ll have to make a class to hold those two arrays, and return an instance of that.  That&#39;s pretty much how it works in Java."},{"owner":{"account_id":25624630,"reputation":9,"user_id":19395904,"display_name":"ffffffff"},"score":0,"creation_date":1656827545,"post_id":72844076,"comment_id":128663481,"body_markdown":"Java is good to pratice? @LouisWasserman or JS is better?","body":"Java is good to pratice? @LouisWasserman or JS is better?"},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1656865932,"post_id":72844076,"comment_id":128670516,"body_markdown":"There is no useful way to answer that question.","body":"There is no useful way to answer that question."},{"owner":{"account_id":18088193,"reputation":595,"user_id":13148560,"display_name":"Japhei"},"score":0,"creation_date":1656881395,"post_id":72844076,"comment_id":128673678,"body_markdown":"@jamilzin you can use a `Pair&lt;&gt;` of both components or an array with two entries to return different items at once. Still there are some better ways that needs big changes in your code, so I would recommend the array.","body":"@jamilzin you can use a <code>Pair&lt;&gt;</code> of both components or an array with two entries to return different items at once. Still there are some better ways that needs big changes in your code, so I would recommend the array."}],"answers":[{"tags":[],"owner":{"account_id":23837295,"reputation":308,"user_id":17842877,"display_name":"xthe_white_lionx"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656950526,"creation_date":1656950526,"answer_id":72859429,"question_id":72844076,"body_markdown":"Enum Suit\r\n\r\n    public enum Suit {\r\n        DIAMONDS, CLUBS, SPADES, HEARTS\r\n    }\r\n\r\nCassino  \r\n\r\n    public class Cassino {\r\n        public static void main(String[] args) {\r\n            Blackjack game = new Blackjack(2);\r\n    \r\n            System.out.println(game);\r\n        }\r\n    }\r\n\r\nBlackjack\r\n\r\n    public class Blackjack {\r\n        private final Player[] players;\r\n        private final Deck deck;\r\n\r\n        public Blackjack(int player) {\r\n            this.players = createPlayer(player);\r\n            this.deck = new Deck();\r\n        }\r\n\r\n        public Player[] createPlayer(int player){\r\n            Player[] players = new Player[player];\r\n            for (int i = 0; i &lt; player; i++) {\r\n                List&lt;Card&gt; cards = new ArrayList&lt;&gt;();\r\n                for (int j = 0; j &lt; 5; j++) {\r\n                    cards.add(deck.provideCard());\r\n                }\r\n                players[i] = new Player(cards);\r\n            }\r\n            return players;\r\n        }\r\n\r\n        public Player[] getPlayers() {\r\n            return players.clone();\r\n        }\r\n\r\n        public Deck getDeck() {\r\n            return deck;\r\n        }\r\n\r\n        @Override\r\n        public String toString() {\r\n            return &quot;Blackjack{&quot; +\r\n                    &quot;players=&quot; + Arrays.toString(players) +\r\n                    &quot;, deck=&quot; + deck +\r\n                    &#39;}&#39;;\r\n        }\r\n    }\r\n\r\nDeck\r\n\r\n    public class Deck {\r\n        private final LinkedList&lt;Card&gt; deck;\r\n\r\n        public Deck() {\r\n            Suit[] suits = Suit.values();\r\n            List&lt;Card&gt; cards = new ArrayList&lt;&gt;();\r\n            for (Suit suit : suits) { // Idea: create a 13 cards for each suits\r\n                for (int j = 0; j &lt; 13; j++) {\r\n                    cards.add(new Card((j + 1), suit));\r\n                }\r\n            }\r\n            Collections.shuffle(cards); // randomize the deck\r\n            deck = new LinkedList&lt;&gt;(cards) {\r\n            };\r\n        } // deck()\r\n\r\n        public Card provideCard() {\r\n            return deck.pollFirst();\r\n        }\r\n\r\n        @Override\r\n        public String toString() {\r\n            return &quot;Deck{&quot; +\r\n                    &quot;deck=&quot; + deck +\r\n                    &#39;}&#39;;\r\n        }\r\n    }\r\n\r\nCard\r\n\r\n        public class Card {\r\n        private final Suit suit;\r\n        private final int value;\r\n\r\n        Card(int value, Suit suit) {\r\n            this.value = value;\r\n            this.suit = suit;\r\n        }\r\n\r\n        public Suit getSuit() {\r\n            return suit;\r\n        }\r\n\r\n        public int getValue() {\r\n            return value;\r\n        }\r\n\r\n        @Override\r\n        public String toString() {\r\n            return getValue() + getSuit().toString();\r\n            //return Integer.toString(getValue());\r\n        }\r\n    }\r\n\r\nPlayer\r\n\r\n        public class Player {\r\n        List&lt;Card&gt; hand;\r\n\r\n        public Player(List&lt;Card&gt; cards) {\r\n            this.hand = cards;\r\n        }\r\n\r\n\r\n        public List&lt;Card&gt; getHand() {\r\n            return hand;\r\n        }\r\n\r\n        public void setHand(List&lt;Card&gt; hand) {\r\n            this.hand = hand;\r\n        }\r\n\r\n        public void addToHand(Card card){\r\n            this.hand.add(card);\r\n        }\r\n\r\n        @Override\r\n        public String toString() {\r\n            return &quot;Player{&quot; +\r\n                    &quot;hand=&quot; + hand +\r\n                    &#39;}&#39;;\r\n        }\r\n    }\r\n\r\n\r\nSome Recommendations\r\n--------------------\r\n\r\n 1. Use the more general type for your variables and methods as you can, because it doesn&#39;t change the logic if you would use an LinkedList instaed  \r\n 2. You don&#39;t need Random because your deck is already shuffeld so you don&#39;t need to get a random one of the shuffeld list.  Instead you should use a explicit LinkedList this will offer you the methode pollFirst which polls out the first/head of the list and reduce the list aka you deck.   \r\n 3. Suits should be an Enum and not a List of strings because it is a not changing enumeration. So new Enum Suits. \r\n 4. Is there a reason why the hand of the players should not be in the player class?\r\n 5. And you need more classes to give the game a structure for the logic and things like that \r\n\r\n ","title":"How to code a method to return 2 different arrays to another class?","body":"<p>Enum Suit</p>\n<pre><code>public enum Suit {\n    DIAMONDS, CLUBS, SPADES, HEARTS\n}\n</code></pre>\n<p>Cassino</p>\n<pre><code>public class Cassino {\n    public static void main(String[] args) {\n        Blackjack game = new Blackjack(2);\n\n        System.out.println(game);\n    }\n}\n</code></pre>\n<p>Blackjack</p>\n<pre><code>public class Blackjack {\n    private final Player[] players;\n    private final Deck deck;\n\n    public Blackjack(int player) {\n        this.players = createPlayer(player);\n        this.deck = new Deck();\n    }\n\n    public Player[] createPlayer(int player){\n        Player[] players = new Player[player];\n        for (int i = 0; i &lt; player; i++) {\n            List&lt;Card&gt; cards = new ArrayList&lt;&gt;();\n            for (int j = 0; j &lt; 5; j++) {\n                cards.add(deck.provideCard());\n            }\n            players[i] = new Player(cards);\n        }\n        return players;\n    }\n\n    public Player[] getPlayers() {\n        return players.clone();\n    }\n\n    public Deck getDeck() {\n        return deck;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Blackjack{&quot; +\n                &quot;players=&quot; + Arrays.toString(players) +\n                &quot;, deck=&quot; + deck +\n                '}';\n    }\n}\n</code></pre>\n<p>Deck</p>\n<pre><code>public class Deck {\n    private final LinkedList&lt;Card&gt; deck;\n\n    public Deck() {\n        Suit[] suits = Suit.values();\n        List&lt;Card&gt; cards = new ArrayList&lt;&gt;();\n        for (Suit suit : suits) { // Idea: create a 13 cards for each suits\n            for (int j = 0; j &lt; 13; j++) {\n                cards.add(new Card((j + 1), suit));\n            }\n        }\n        Collections.shuffle(cards); // randomize the deck\n        deck = new LinkedList&lt;&gt;(cards) {\n        };\n    } // deck()\n\n    public Card provideCard() {\n        return deck.pollFirst();\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Deck{&quot; +\n                &quot;deck=&quot; + deck +\n                '}';\n    }\n}\n</code></pre>\n<p>Card</p>\n<pre><code>    public class Card {\n    private final Suit suit;\n    private final int value;\n\n    Card(int value, Suit suit) {\n        this.value = value;\n        this.suit = suit;\n    }\n\n    public Suit getSuit() {\n        return suit;\n    }\n\n    public int getValue() {\n        return value;\n    }\n\n    @Override\n    public String toString() {\n        return getValue() + getSuit().toString();\n        //return Integer.toString(getValue());\n    }\n}\n</code></pre>\n<p>Player</p>\n<pre><code>    public class Player {\n    List&lt;Card&gt; hand;\n\n    public Player(List&lt;Card&gt; cards) {\n        this.hand = cards;\n    }\n\n\n    public List&lt;Card&gt; getHand() {\n        return hand;\n    }\n\n    public void setHand(List&lt;Card&gt; hand) {\n        this.hand = hand;\n    }\n\n    public void addToHand(Card card){\n        this.hand.add(card);\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Player{&quot; +\n                &quot;hand=&quot; + hand +\n                '}';\n    }\n}\n</code></pre>\n<h2>Some Recommendations</h2>\n<ol>\n<li>Use the more general type for your variables and methods as you can, because it doesn't change the logic if you would use an LinkedList instaed</li>\n<li>You don't need Random because your deck is already shuffeld so you don't need to get a random one of the shuffeld list.  Instead you should use a explicit LinkedList this will offer you the methode pollFirst which polls out the first/head of the list and reduce the list aka you deck.</li>\n<li>Suits should be an Enum and not a List of strings because it is a not changing enumeration. So new Enum Suits.</li>\n<li>Is there a reason why the hand of the players should not be in the player class?</li>\n<li>And you need more classes to give the game a structure for the logic and things like that</li>\n</ol>\n"}],"owner":{"account_id":25624630,"reputation":9,"user_id":19395904,"display_name":"ffffffff"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656950526,"creation_date":1656825467,"question_id":72844076,"body_markdown":"i have a code with 4 class, Deck, Card, Player and Test. \r\n\r\nMy idea is create a blackjack game where a Player have your &quot;hands&quot; with cards provided by deck. \r\nMy code is working, but i want only 1 method to return 2 different arrays.\r\n\r\n*Resume of my code:*\r\n\r\n**Card:** a card(value,suit)\r\n\r\n**Deck:** create a array of cards with 52 cards. a class with method provideCards() to get cards for players.\r\n\r\n**Player:** a class with array of cards &quot;hands&quot;\r\n\r\n*Where is the problem?* \r\n\r\nLook the class &quot;Deck&quot; i&#39;m using 2 methods, provideCards() and provideNewCards(), both methods are equals however returning different arrays for each player.\r\nI can&#39;t use in my method provideCards() &quot; ArrayList&lt;Card&gt; player = new ArrayList&lt;&gt;();\r\n&quot; because i need save my old array to add a new card before. How can I code only 1 method to return 1 array of &quot;hands&quot; for each player?\r\n\r\nMy code:\r\n\r\n\r\n**Deck Class:**\r\n\r\n        package jamilzin.cassino;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.Arrays;\r\n    import java.util.Collections;\r\n    import java.util.Random;\r\n    \r\n     // /*\r\n       public class Deck {\r\n        private ArrayList&lt;Card&gt; deck = new ArrayList&lt;&gt;();\r\n        public  ArrayList&lt;Card&gt; playerA = new ArrayList&lt;&gt;();\r\n        public  ArrayList&lt;Card&gt; playerB = new ArrayList&lt;&gt;();\r\n    \r\n        private ArrayList&lt;String&gt; suits = new ArrayList(Arrays.asList(&quot; Diamonds&quot;, &quot; Clubs&quot;, &quot; Spades&quot;, &quot; Hearts&quot;));\r\n        Random gerador = new Random();\r\n        \r\n        public Deck(){\r\n      for(int j=0; j&lt;suits.size(); j++){ // Idea: create a 13 cards for each suits\r\n          for(int i=0; i&lt;13; i++){ \r\n     deck.add(new Card((i + 1), suits.get(j))); \r\n        } // for i\r\n      } // for j\r\n       Collections.shuffle(deck); // randomize the deck\r\n    } // deck()\r\n        \r\n    public ArrayList&lt;Card&gt; provideCards(){\r\n       int  number = gerador.nextInt(52);\r\n       while(deck.get(number)==null){ \r\n            number = gerador.nextInt(52);}\r\n       Card card = (deck.get(number));\r\n      playerA.add(card);\r\n       deck.set(number, null);\r\n            return  playerA ;} \r\n    \r\n    public ArrayList&lt;Card&gt; provideNewCards(){\r\n       int  number = gerador.nextInt(52);\r\n       while(deck.get(number)==null){ \r\n            number = gerador.nextInt(52);}\r\n       Card card = (deck.get(number));\r\n      playerB.add(card);\r\n       deck.set(number, null);\r\n            return  playerB ;} \r\n    \r\n    \r\n    @Override\r\n    public String toString(){\r\n        return deck.toString();\r\n        }   \r\n       } \r\n\r\n\r\n**Card Class:**\r\n\r\n    package jamilzin.cassino;\r\n    \r\n    public class Card {\r\n        \r\n        private String suit;\r\n        private int value;\r\n        \r\n        Card(int value, String suit){\r\n        this.value = value;\r\n        this.suit = suit;\r\n        }\r\n    \r\n        public String getSuit() {\r\n            return suit;\r\n        }\r\n    \r\n        public int getValue() {\r\n            return value;\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n         return getValue() + getSuit();\r\n        //return Integer.toString(getValue());\r\n    }\r\n    }\r\n\r\n**Player Class:**\r\n\r\n    package jamilzin.cassino;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import java.util.stream.*;\r\n    public class Player {\r\n     ArrayList&lt;Card&gt;  hands = new ArrayList&lt;&gt;();\r\n    \r\n     \r\n       public Player(){\r\n    this.hands = new ArrayList&lt;&gt;();\r\n        }\r\n    \r\n       \r\n        public ArrayList&lt;Card&gt; getHands() {\r\n        return hands;\r\n        }\r\n        \r\n        public void setHands(ArrayList&lt;Card&gt; hands) {\r\n            this.hands = hands;\r\n        }\r\n    }\r\n\r\n**Test Class:**\r\n\r\n    package jamilzin.cassino;\r\n    import java.util.ArrayList;\r\n    import java.util.Arrays;\r\n    import java.util.Collections;\r\n    import java.util.List;\r\n    import java.util.Random;\r\n    import java.util.Scanner;\r\n    import java.util.stream.Collectors;\r\n    import java.util.stream.Stream;\r\n    \r\n    public class Cassino {\r\n        \r\n        public static void main(String[] args) {\r\n     Deck deckMaster = new Deck();\r\n    Player PlayerA = new Player();\r\n    Player PlayerB = new Player();\r\n    for(int i=1;i&lt;=5;i++){\r\n     PlayerA.setHands(deckMaster.provideCards());}\r\n    for(int i=1;i&lt;=5;i++){\r\n    PlayerB.setHands(deckMaster.provideNewCards());}\r\n    \r\n            System.out.println(PlayerA.getHands());\r\n            System.out.println(PlayerB.getHands());\r\n            \r\n            System.out.println(deckMaster);\r\n        }\r\n     }\r\n\r\nclass Test results: [Run Project result][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Q2gnj.png","title":"How to code a method to return 2 different arrays to another class?","body":"<p>i have a code with 4 class, Deck, Card, Player and Test.</p>\n<p>My idea is create a blackjack game where a Player have your &quot;hands&quot; with cards provided by deck.\nMy code is working, but i want only 1 method to return 2 different arrays.</p>\n<p><em>Resume of my code:</em></p>\n<p><strong>Card:</strong> a card(value,suit)</p>\n<p><strong>Deck:</strong> create a array of cards with 52 cards. a class with method provideCards() to get cards for players.</p>\n<p><strong>Player:</strong> a class with array of cards &quot;hands&quot;</p>\n<p><em>Where is the problem?</em></p>\n<p>Look the class &quot;Deck&quot; i'm using 2 methods, provideCards() and provideNewCards(), both methods are equals however returning different arrays for each player.\nI can't use in my method provideCards() &quot; ArrayList player = new ArrayList&lt;&gt;();\n&quot; because i need save my old array to add a new card before. How can I code only 1 method to return 1 array of &quot;hands&quot; for each player?</p>\n<p>My code:</p>\n<p><strong>Deck Class:</strong></p>\n<pre><code>    package jamilzin.cassino;\n\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.Collections;\nimport java.util.Random;\n\n // /*\n   public class Deck {\n    private ArrayList&lt;Card&gt; deck = new ArrayList&lt;&gt;();\n    public  ArrayList&lt;Card&gt; playerA = new ArrayList&lt;&gt;();\n    public  ArrayList&lt;Card&gt; playerB = new ArrayList&lt;&gt;();\n\n    private ArrayList&lt;String&gt; suits = new ArrayList(Arrays.asList(&quot; Diamonds&quot;, &quot; Clubs&quot;, &quot; Spades&quot;, &quot; Hearts&quot;));\n    Random gerador = new Random();\n    \n    public Deck(){\n  for(int j=0; j&lt;suits.size(); j++){ // Idea: create a 13 cards for each suits\n      for(int i=0; i&lt;13; i++){ \n deck.add(new Card((i + 1), suits.get(j))); \n    } // for i\n  } // for j\n   Collections.shuffle(deck); // randomize the deck\n} // deck()\n    \npublic ArrayList&lt;Card&gt; provideCards(){\n   int  number = gerador.nextInt(52);\n   while(deck.get(number)==null){ \n        number = gerador.nextInt(52);}\n   Card card = (deck.get(number));\n  playerA.add(card);\n   deck.set(number, null);\n        return  playerA ;} \n\npublic ArrayList&lt;Card&gt; provideNewCards(){\n   int  number = gerador.nextInt(52);\n   while(deck.get(number)==null){ \n        number = gerador.nextInt(52);}\n   Card card = (deck.get(number));\n  playerB.add(card);\n   deck.set(number, null);\n        return  playerB ;} \n\n\n@Override\npublic String toString(){\n    return deck.toString();\n    }   \n   } \n</code></pre>\n<p><strong>Card Class:</strong></p>\n<pre><code>package jamilzin.cassino;\n\npublic class Card {\n    \n    private String suit;\n    private int value;\n    \n    Card(int value, String suit){\n    this.value = value;\n    this.suit = suit;\n    }\n\n    public String getSuit() {\n        return suit;\n    }\n\n    public int getValue() {\n        return value;\n    }\n\n    @Override\n    public String toString() {\n     return getValue() + getSuit();\n    //return Integer.toString(getValue());\n}\n}\n</code></pre>\n<p><strong>Player Class:</strong></p>\n<pre><code>package jamilzin.cassino;\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.stream.*;\npublic class Player {\n ArrayList&lt;Card&gt;  hands = new ArrayList&lt;&gt;();\n\n \n   public Player(){\nthis.hands = new ArrayList&lt;&gt;();\n    }\n\n   \n    public ArrayList&lt;Card&gt; getHands() {\n    return hands;\n    }\n    \n    public void setHands(ArrayList&lt;Card&gt; hands) {\n        this.hands = hands;\n    }\n}\n</code></pre>\n<p><strong>Test Class:</strong></p>\n<pre><code>package jamilzin.cassino;\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.Collections;\nimport java.util.List;\nimport java.util.Random;\nimport java.util.Scanner;\nimport java.util.stream.Collectors;\nimport java.util.stream.Stream;\n\npublic class Cassino {\n    \n    public static void main(String[] args) {\n Deck deckMaster = new Deck();\nPlayer PlayerA = new Player();\nPlayer PlayerB = new Player();\nfor(int i=1;i&lt;=5;i++){\n PlayerA.setHands(deckMaster.provideCards());}\nfor(int i=1;i&lt;=5;i++){\nPlayerB.setHands(deckMaster.provideNewCards());}\n\n        System.out.println(PlayerA.getHands());\n        System.out.println(PlayerB.getHands());\n        \n        System.out.println(deckMaster);\n    }\n }\n</code></pre>\n<p>class Test results: <a href=\"https://i.stack.imgur.com/Q2gnj.png\" rel=\"nofollow noreferrer\">Run Project result</a></p>\n"},{"tags":["java","selenium"],"answers":[{"tags":[],"owner":{"account_id":9232584,"reputation":433,"user_id":9823031,"display_name":"Hendrik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1558176267,"creation_date":1558176267,"answer_id":56198211,"question_id":52126247,"body_markdown":"It is highly likely that the file `com/google/common/collect/ImmutableMap` is corrupted.\r\n\r\nI have already provided a solution how to solve this problem:\r\n\r\nhttps://stackoverflow.com/questions/50172479/java-lang-noclassdeffounderror-com-google-common-collect-immutablemap-while-usi/56198182#56198182","title":"Selenium java error com/google/common/collect/ImmutableMap in ubuntu","body":"<p>It is highly likely that the file <code>com/google/common/collect/ImmutableMap</code> is corrupted.</p>\n\n<p>I have already provided a solution how to solve this problem:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/50172479/java-lang-noclassdeffounderror-com-google-common-collect-immutablemap-while-usi/56198182#56198182\">java.lang.NoClassDefFoundError: com/google/common/collect/ImmutableMap while using WebDriver with Maven Dependencies in Java Selenium</a></p>\n"},{"tags":[],"owner":{"account_id":1709041,"reputation":316,"user_id":1567461,"display_name":"MayTheSForceBeWithYou"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656949834,"creation_date":1656949834,"answer_id":72859316,"question_id":52126247,"body_markdown":"I was able to resolve this by separately including the [31.1-jre version of com.google.guava][1], but it didn&#39;t want the \r\n\r\n    &lt;type&gt;bundle&lt;/type&gt;\r\n\r\nline in the snippet.\r\nOn MacOS Monterey 12.4, M1 Apple Silicon chip\r\n\r\nEntire pom dependency section:\r\n\r\n      &lt;dependencies&gt;\r\n        &lt;!-- https://search.maven.org/artifact/io.cucumber/cucumber-java/7.4.1/jar --&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n          &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\r\n          &lt;version&gt;7.4.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n        &lt;!-- https://search.maven.org/artifact/io.cucumber/cucumber-junit/7.4.1/jar --&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n          &lt;artifactId&gt;cucumber-junit&lt;/artifactId&gt;\r\n          &lt;version&gt;7.4.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n        &lt;!-- https://search.maven.org/artifact/org.robolectric/junit/4.8.1/jar --&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.robolectric&lt;/groupId&gt;\r\n          &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n          &lt;version&gt;4.8.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n        &lt;!-- https://search.maven.org/artifact/org.seleniumhq.selenium/selenium-java/4.3.0/jar --&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n          &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n          &lt;version&gt;4.3.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n        &lt;!-- https://search.maven.org/artifact/com.google.guava/guava/31.1-jre/bundle --&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n          &lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n          &lt;version&gt;31.1-jre&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n            \r\n      &lt;/dependencies&gt;\r\n\r\n\r\n  [1]: https://search.maven.org/artifact/com.google.guava/guava/31.1-jre/bundle\r\n","title":"Selenium java error com/google/common/collect/ImmutableMap in ubuntu","body":"<p>I was able to resolve this by separately including the <a href=\"https://search.maven.org/artifact/com.google.guava/guava/31.1-jre/bundle\" rel=\"nofollow noreferrer\">31.1-jre version of com.google.guava</a>, but it didn't want the</p>\n<pre><code>&lt;type&gt;bundle&lt;/type&gt;\n</code></pre>\n<p>line in the snippet.\nOn MacOS Monterey 12.4, M1 Apple Silicon chip</p>\n<p>Entire pom dependency section:</p>\n<pre><code>  &lt;dependencies&gt;\n    &lt;!-- https://search.maven.org/artifact/io.cucumber/cucumber-java/7.4.1/jar --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n      &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\n      &lt;version&gt;7.4.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    \n    &lt;!-- https://search.maven.org/artifact/io.cucumber/cucumber-junit/7.4.1/jar --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n      &lt;artifactId&gt;cucumber-junit&lt;/artifactId&gt;\n      &lt;version&gt;7.4.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    \n    &lt;!-- https://search.maven.org/artifact/org.robolectric/junit/4.8.1/jar --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.robolectric&lt;/groupId&gt;\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\n      &lt;version&gt;4.8.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    \n    &lt;!-- https://search.maven.org/artifact/org.seleniumhq.selenium/selenium-java/4.3.0/jar --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n      &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n      &lt;version&gt;4.3.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    \n    &lt;!-- https://search.maven.org/artifact/com.google.guava/guava/31.1-jre/bundle --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n      &lt;artifactId&gt;guava&lt;/artifactId&gt;\n      &lt;version&gt;31.1-jre&lt;/version&gt;\n    &lt;/dependency&gt;\n        \n  &lt;/dependencies&gt;\n</code></pre>\n"}],"owner":{"account_id":5776348,"reputation":2162,"user_id":4558302,"accept_rate":67,"display_name":"Bopsi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":5169,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1656949834,"creation_date":1535789502,"question_id":52126247,"body_markdown":"Hey I was writing a basic selenium program in java in my 64 bit ubuntu 16.04 system. \r\n\r\n    package test;\r\n    \r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.chrome.ChromeDriver;\r\n    \r\n    public class App {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tSystem.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;/home/bopsi/webdriver/chromedriver/2.40/chromedriver&quot;);\r\n    \t\tWebDriver driver = new ChromeDriver();\r\n    \r\n    \t\tString baseUrl = &quot;http://demo.guru99.com/test/newtours/&quot;;\r\n    \t\tString expectedTitle = &quot;Welcome: Mercury Tours&quot;;\r\n    \t\tString actualTitle = &quot;&quot;;\r\n    \r\n    \t\tdriver.get(baseUrl);\r\n    \r\n    \t\tactualTitle = driver.getTitle();\r\n    \r\n    \t\tif (actualTitle.contentEquals(expectedTitle)) {\r\n    \t\t\tSystem.out.println(&quot;Test Passed!&quot;);\r\n    \t\t} else {\r\n    \t\t\tSystem.out.println(&quot;Test Failed&quot;);\r\n    \t\t}\r\n    \r\n    \t\tdriver.close();\r\n    \t}\r\n    }\r\nIt&#39;s maven project, here are the dependencies -\r\n\r\n    &lt;dependencies&gt;\r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-server --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;selenium-server&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.13.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\nIt&#39;s giving me following error - \r\n\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: com/google/common/collect/ImmutableMap\r\n    \tat org.openqa.selenium.remote.service.DriverService$Builder.&lt;init&gt;(DriverService.java:250)\r\n    \tat org.openqa.selenium.chrome.ChromeDriverService$Builder.&lt;init&gt;(ChromeDriverService.java:98)\r\n    \tat org.openqa.selenium.chrome.ChromeDriverService.createDefaultService(ChromeDriverService.java:91)\r\n    \tat org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:123)\r\n    \tat org.qlikhain.auto_liker.App.main(App.java:11)\r\n    Caused by: java.lang.ClassNotFoundException: com.google.common.collect.ImmutableMap\r\n    \tat java.net.URLClassLoader.findClass(URLClassLoader.java:381)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:424)\r\n    \tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:349)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:357)\r\n    \t... 5 more\r\nI double checked driver path and mase sure it exists in the folder.\r\nThe exact same code worked in my windows 10 system. In both sytems I am using chrome v68, chromedriver 2.40 and jdk 1.8 . Any idea why its not working in ubuntu? AmI missing any vital steps?","title":"Selenium java error com/google/common/collect/ImmutableMap in ubuntu","body":"<p>Hey I was writing a basic selenium program in java in my 64 bit ubuntu 16.04 system. </p>\n\n<pre><code>package test;\n\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.chrome.ChromeDriver;\n\npublic class App {\n    public static void main(String[] args) {\n        System.setProperty(\"webdriver.chrome.driver\", \"/home/bopsi/webdriver/chromedriver/2.40/chromedriver\");\n        WebDriver driver = new ChromeDriver();\n\n        String baseUrl = \"http://demo.guru99.com/test/newtours/\";\n        String expectedTitle = \"Welcome: Mercury Tours\";\n        String actualTitle = \"\";\n\n        driver.get(baseUrl);\n\n        actualTitle = driver.getTitle();\n\n        if (actualTitle.contentEquals(expectedTitle)) {\n            System.out.println(\"Test Passed!\");\n        } else {\n            System.out.println(\"Test Failed\");\n        }\n\n        driver.close();\n    }\n}\n</code></pre>\n\n<p>It's maven project, here are the dependencies -</p>\n\n<pre><code>&lt;dependencies&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-server --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-server&lt;/artifactId&gt;\n            &lt;version&gt;3.13.0&lt;/version&gt;\n        &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n\n<p>It's giving me following error - </p>\n\n<pre><code>Exception in thread \"main\" java.lang.NoClassDefFoundError: com/google/common/collect/ImmutableMap\n    at org.openqa.selenium.remote.service.DriverService$Builder.&lt;init&gt;(DriverService.java:250)\n    at org.openqa.selenium.chrome.ChromeDriverService$Builder.&lt;init&gt;(ChromeDriverService.java:98)\n    at org.openqa.selenium.chrome.ChromeDriverService.createDefaultService(ChromeDriverService.java:91)\n    at org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:123)\n    at org.qlikhain.auto_liker.App.main(App.java:11)\nCaused by: java.lang.ClassNotFoundException: com.google.common.collect.ImmutableMap\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:381)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:349)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\n    ... 5 more\n</code></pre>\n\n<p>I double checked driver path and mase sure it exists in the folder.\nThe exact same code worked in my windows 10 system. In both sytems I am using chrome v68, chromedriver 2.40 and jdk 1.8 . Any idea why its not working in ubuntu? AmI missing any vital steps?</p>\n"},{"tags":["java","logging","java.util.logging"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1656372348,"post_id":72779044,"comment_id":128551317,"body_markdown":"You have to write your own [`Formatter`](https://docs.oracle.com/javase/8/docs/api/java/util/logging/Formatter.html) implementation. The `SimpleFormatter` takes a configurable format string but does not make the thread available. The underlying `Formatter.formatMessage()` does, because it receives a `LogRecord` containing everything that is available.","body":"You have to write your own <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/logging/Formatter.html\" rel=\"nofollow noreferrer\"><code>Formatter</code></a> implementation. The <code>SimpleFormatter</code> takes a configurable format string but does not make the thread available. The underlying <code>Formatter.formatMessage()</code> does, because it receives a <code>LogRecord</code> containing everything that is available."},{"owner":{"account_id":3498688,"reputation":487,"user_id":2926020,"accept_rate":67,"display_name":"Vinny Gray"},"score":0,"creation_date":1656378938,"post_id":72779044,"comment_id":128552228,"body_markdown":"@user207421 so are you saying this cannot be controlled via a config file, you need to create a formatted?","body":"@user207421 so are you saying this cannot be controlled via a config file, you need to create a formatted?"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1656381309,"post_id":72779044,"comment_id":128552521,"body_markdown":"That&#39;s what I said.","body":"That&#39;s what I said."}],"answers":[{"tags":[],"owner":{"account_id":2826194,"reputation":10795,"user_id":2428802,"display_name":"jmehrens"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1656437596,"creation_date":1656437596,"answer_id":72790878,"question_id":72779044,"body_markdown":"By &quot;display thread&quot; do you mean thread name or thread id?  The more standard formatters are only going to include what the log record provides which is the thread id and not the name.  As @user207421 said, the SimpleFormatter doesn&#39;t include all LogRecord properties.\r\n\r\nThe [java.util.logging.XMLFormatter][1] includes thread id, source class, and method names.  That can work for file output which and later be styled to make it look nice.\r\n\r\nIf you have dependencies on Angus-Mail or JavaMail they have the [com.sun.mail.util.logging.CompactFormatter][2] which can output the thread id and source (simpleclassname.methodname).  However, this formatter will hide some additional information that the SimpleFormatter provides.\r\n\r\nYou may have to find a 3rd party formatter or write your own formatter to display what you need.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.logging/java/util/logging/XMLFormatter.html\r\n  [2]: https://javadoc.io/doc/org.eclipse.angus/jakarta.mail/latest/jakarta.mail/com/sun/mail/util/logging/CompactFormatter.html","title":"How can I add thread and class name to Java Util Logging API via configuration files?","body":"<p>By &quot;display thread&quot; do you mean thread name or thread id?  The more standard formatters are only going to include what the log record provides which is the thread id and not the name.  As @user207421 said, the SimpleFormatter doesn't include all LogRecord properties.</p>\n<p>The <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.logging/java/util/logging/XMLFormatter.html\" rel=\"nofollow noreferrer\">java.util.logging.XMLFormatter</a> includes thread id, source class, and method names.  That can work for file output which and later be styled to make it look nice.</p>\n<p>If you have dependencies on Angus-Mail or JavaMail they have the <a href=\"https://javadoc.io/doc/org.eclipse.angus/jakarta.mail/latest/jakarta.mail/com/sun/mail/util/logging/CompactFormatter.html\" rel=\"nofollow noreferrer\">com.sun.mail.util.logging.CompactFormatter</a> which can output the thread id and source (simpleclassname.methodname).  However, this formatter will hide some additional information that the SimpleFormatter provides.</p>\n<p>You may have to find a 3rd party formatter or write your own formatter to display what you need.</p>\n"},{"tags":[],"owner":{"account_id":247773,"reputation":15733,"user_id":522729,"accept_rate":69,"display_name":"Victor Grazi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656949723,"creation_date":1656949723,"answer_id":72859296,"question_id":72779044,"body_markdown":"According to the documentation, you can&#39;t get thread name, but you can get a log via configuration as follows:\r\nThe formatting can be customized by specifying the format string in the java.util.logging.SimpleFormatter.format property. The given LogRecord will be formatted as if by calling:\r\n\r\n    String.format(format, date, source, logger, level, message, thrown);\r\n \r\nwhere the arguments are:\r\n\r\n 1. format - the java.util.Formatter format string specified in the\r\n    java.util.logging.SimpleFormatter.format property or the default\r\n    format. \r\n 2. date - a Date object representing event time of the log\r\n    record. \r\n 3. source - a string representing the caller, if available;\r\n    otherwise, the logger&#39;s name. \r\n 4. logger - the logger&#39;s name. \r\n 5. level - the log level. \r\n 6. message - the formatted log message returned from the Formatter.formatMessage(LogRecord) method. It uses java.text formatting and does not use the java.util.Formatter format argument.\r\n 7. thrown - a string representing the throwable associated with the log record and its backtrace beginning with a newline character, if any; otherwise, an empty string.\r\nFor more details see\r\nhttps://docs.oracle.com/javase/7/docs/api/java/util/logging/SimpleFormatter.html#format(java.util.logging.LogRecord)","title":"How can I add thread and class name to Java Util Logging API via configuration files?","body":"<p>According to the documentation, you can't get thread name, but you can get a log via configuration as follows:\nThe formatting can be customized by specifying the format string in the java.util.logging.SimpleFormatter.format property. The given LogRecord will be formatted as if by calling:</p>\n<pre><code>String.format(format, date, source, logger, level, message, thrown);\n</code></pre>\n<p>where the arguments are:</p>\n<ol>\n<li>format - the java.util.Formatter format string specified in the\njava.util.logging.SimpleFormatter.format property or the default\nformat.</li>\n<li>date - a Date object representing event time of the log\nrecord.</li>\n<li>source - a string representing the caller, if available;\notherwise, the logger's name.</li>\n<li>logger - the logger's name.</li>\n<li>level - the log level.</li>\n<li>message - the formatted log message returned from the Formatter.formatMessage(LogRecord) method. It uses java.text formatting and does not use the java.util.Formatter format argument.</li>\n<li>thrown - a string representing the throwable associated with the log record and its backtrace beginning with a newline character, if any; otherwise, an empty string.\nFor more details see\n<a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/logging/SimpleFormatter.html#format(java.util.logging.LogRecord)\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/7/docs/api/java/util/logging/SimpleFormatter.html#format(java.util.logging.LogRecord)</a></li>\n</ol>\n"}],"owner":{"account_id":3498688,"reputation":487,"user_id":2926020,"accept_rate":67,"display_name":"Vinny Gray"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":320,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1656949723,"creation_date":1656370254,"question_id":72779044,"body_markdown":"If I want to display thread, class, and method names in Java Util Logging API, can this be configured in the logging.properties file, or do I need to modify the code?","title":"How can I add thread and class name to Java Util Logging API via configuration files?","body":"<p>If I want to display thread, class, and method names in Java Util Logging API, can this be configured in the logging.properties file, or do I need to modify the code?</p>\n"},{"tags":["java","xml"],"comments":[{"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"score":0,"creation_date":1656944004,"post_id":72858057,"comment_id":128687639,"body_markdown":"Your question is not very clear and you&#39;re casting Student to Employee which I guess is a mistake. But generally speaking I think you want to filter distinct students and you don&#39;t manage to do it. So my quetion: did you implement equals and hashCode for the class Student?","body":"Your question is not very clear and you&#39;re casting Student to Employee which I guess is a mistake. But generally speaking I think you want to filter distinct students and you don&#39;t manage to do it. So my quetion: did you implement equals and hashCode for the class Student?"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1656944297,"post_id":72858057,"comment_id":128687762,"body_markdown":"I don&#39;t understand your question.  What is not working?  Creating the list of distinct objects ... or printing the list?   I note that the code you showed us doesn&#39;t even attempt to print the list.","body":"I don&#39;t understand your question.  What is not working?  Creating the list of distinct objects ... or printing the list?   I note that the code you showed us doesn&#39;t even attempt to print the list."},{"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"score":1,"creation_date":1656944442,"post_id":72858057,"comment_id":128687826,"body_markdown":"@StephenC I think he expects two Student instances having the same fields to be equal, but they&#39;re not because he didn&#39;t implement equals and hashCode in the Student class. Also, I don&#39;t think the code is a reproducible example but just some copy paste (the collected list is of Employee, not of Student, I think he randomly copied some test variables)","body":"@StephenC I think he expects two Student instances having the same fields to be equal, but they&#39;re not because he didn&#39;t implement equals and hashCode in the Student class. Also, I don&#39;t think the code is a reproducible example but just some copy paste (the collected list is of Employee, not of Student, I think he randomly copied some test variables)"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1656944814,"post_id":72858057,"comment_id":128687970,"body_markdown":"@MatteoNNZ - It does not matter what you think the OP is asking.  What matters is what the OP is *actually* asking.  (Besides, if that is what this is really asking, then this is simply a dup of thousands of other questions.  And should be closed as a dup.)","body":"@MatteoNNZ - It does not matter what you think the OP is asking.  What matters is what the OP is <i>actually</i> asking.  (Besides, if that is what this is really asking, then this is simply a dup of thousands of other questions.  And should be closed as a dup.)"},{"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"score":0,"creation_date":1656944888,"post_id":72858057,"comment_id":128687993,"body_markdown":"@StephenC agree with all you said. But I&#39;m pretty sure that&#39;s it (he&#39;s also talking about using Set instead of List to remove duplicates)","body":"@StephenC agree with all you said. But I&#39;m pretty sure that&#39;s it (he&#39;s also talking about using Set instead of List to remove duplicates)"},{"owner":{"account_id":25691636,"reputation":27,"user_id":19452963,"display_name":"newtoJava"},"score":0,"creation_date":1656945810,"post_id":72858057,"comment_id":128688316,"body_markdown":"@StephenC I have updated my code and query. Hope this is understandable right now. I am new to the platform.","body":"@StephenC I have updated my code and query. Hope this is understandable right now. I am new to the platform."},{"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"score":0,"creation_date":1656946341,"post_id":72858057,"comment_id":128688466,"body_markdown":"@newtoJava , refer my code &amp; generate `equals` &amp; `hashcode` from your editor for `Student`. You should be able to get distinct vals","body":"@newtoJava , refer my code &amp; generate <code>equals</code> &amp; <code>hashcode</code> from your editor for <code>Student</code>. You should be able to get distinct vals"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1656946649,"post_id":72858057,"comment_id":128688602,"body_markdown":"OK ... so Matteo guessed correctly.  And the problem is that you need to override the `equals` and `hashCode` methods in your `Student` class ... so that `HashSet` has the correct notion of what equality means for the class.","body":"OK ... so Matteo guessed correctly.  And the problem is that you need to override the <code>equals</code> and <code>hashCode</code> methods in your <code>Student</code> class ... so that <code>HashSet</code> has the correct notion of what equality means for the class."}],"answers":[{"tags":[],"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1656944986,"creation_date":1656944632,"answer_id":72858247,"question_id":72858057,"body_markdown":"Lets say your `Student` class has name &amp; sex fields, then to use `distinct()` of streams you have to override `equals` , something like below: \r\n\r\n    public class Student {\r\n    \tprivate String name;\r\n    \tprivate String sex;\r\n        // getters &amp; setters\r\n        @Override\r\n\t    public int hashCode() {\r\n\t\treturn Objects.hash(name, sex);\r\n\t    }\r\n    \t@Override\r\n    \tpublic boolean equals(Object obj) {\r\n    \t\tif (this == obj)\r\n    \t\t\treturn true;\r\n    \t\tif (obj == null)\r\n    \t\t\treturn false;\r\n    \t\tif (getClass() != obj.getClass())\r\n    \t\t\treturn false;\r\n    \t\tStudent other = (Student) obj;\r\n    \t\treturn Objects.equals(name, other.name) &amp;&amp; Objects.equals(sex, other.sex);\r\n    \t}\r\n    }\r\n\r\n\r\nThen while using list:\r\n\r\n   \r\n\r\n     Student stu= new Student();\r\n    \tstu.setName(&quot;A&quot;);\r\n    \tstu.setSex(&quot;M&quot;);\r\n    \tStudent stu1= new Student();\r\n    \tstu1.setName(&quot;B&quot;);\r\n    \tstu1.setSex(&quot;F&quot;);\r\n    \tStudent stu2= new Student();\r\n    \tstu2.setName(&quot;C&quot;);\r\n    \tstu2.setSex(&quot;F&quot;);\r\n    \tStudent stu3= new Student();\r\n    \tstu3.setName(&quot;A&quot;);\r\n    \tstu3.setSex(&quot;M&quot;);\r\n    \tList&lt;Student&gt; list =new ArrayList&lt;Student&gt;();\r\n        System.out.println(list.stream().distinct().collect(Collectors.toList()));\r\n\r\nwill give you 3 records instead of 4 as one `Student` object is duplicate as per `equals`.\r\n\r\nSo please check if you have `equals` method present in your POJO &amp; if it is not, then please have one &amp; then use `distict` within streams.","title":"Unable to print distinct values from list of object type in java","body":"<p>Lets say your <code>Student</code> class has name &amp; sex fields, then to use <code>distinct()</code> of streams you have to override <code>equals</code> , something like below:</p>\n<pre><code>public class Student {\n    private String name;\n    private String sex;\n    // getters &amp; setters\n    @Override\n    public int hashCode() {\n    return Objects.hash(name, sex);\n    }\n    @Override\n    public boolean equals(Object obj) {\n        if (this == obj)\n            return true;\n        if (obj == null)\n            return false;\n        if (getClass() != obj.getClass())\n            return false;\n        Student other = (Student) obj;\n        return Objects.equals(name, other.name) &amp;&amp; Objects.equals(sex, other.sex);\n    }\n}\n</code></pre>\n<p>Then while using list:</p>\n<pre><code> Student stu= new Student();\n    stu.setName(&quot;A&quot;);\n    stu.setSex(&quot;M&quot;);\n    Student stu1= new Student();\n    stu1.setName(&quot;B&quot;);\n    stu1.setSex(&quot;F&quot;);\n    Student stu2= new Student();\n    stu2.setName(&quot;C&quot;);\n    stu2.setSex(&quot;F&quot;);\n    Student stu3= new Student();\n    stu3.setName(&quot;A&quot;);\n    stu3.setSex(&quot;M&quot;);\n    List&lt;Student&gt; list =new ArrayList&lt;Student&gt;();\n    System.out.println(list.stream().distinct().collect(Collectors.toList()));\n</code></pre>\n<p>will give you 3 records instead of 4 as one <code>Student</code> object is duplicate as per <code>equals</code>.</p>\n<p>So please check if you have <code>equals</code> method present in your POJO &amp; if it is not, then please have one &amp; then use <code>distict</code> within streams.</p>\n"}],"owner":{"account_id":25691636,"reputation":27,"user_id":19452963,"display_name":"newtoJava"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72858247,"answer_count":1,"score":0,"last_activity_date":1656949531,"creation_date":1656943687,"question_id":72858057,"body_markdown":"Unable to print distinct values from list of object type in java. This is my current parser code and am checking for the duplicate values. \r\n\r\nIn the below code I am trying to fetch unique values from newList.\r\n\r\nXML - sample\r\n\r\n    &lt;?xml version=&quot;1.0&quot;?&gt;\r\n    &lt;company&gt;\r\n        &lt;student&gt; \r\n           &lt;fname&gt;aaa&lt;/fname&gt; \r\n           &lt;lname&gt;aaa&lt;/lname&gt;  \r\n         \r\n           &lt;gender&gt;M&lt;gender&gt; \r\n           &lt;Address&gt;\r\n             &lt;City&gt;Auckland&lt;/City&gt;\r\n             &lt;Zipcode&gt;2310`enter code here`&lt;/Zipcode&gt;\r\n            &lt;/Address&gt;\r\n        &lt;student/&gt; \r\n        &lt;student&gt;  \r\n        &lt;fname&gt;abc&lt;/fname&gt; \r\n           &lt;lname&gt;aaa&lt;/lname&gt;  \r\n        &lt;gender&gt;f&lt;/gender&gt; \r\n          &lt;Address&gt;\r\n             &lt;City&gt;Wellington&lt;/City&gt;\r\n             &lt;Zipcode&gt;2310&lt;/Zipcode&gt;\r\n            &lt;/Address&gt;\r\n        \r\n        &lt;/student&gt; \r\n        &lt;student&gt;  \r\n        &lt;fname&gt;aaa&lt;/fname&gt; \r\n           &lt;lname&gt;aaa&lt;/lname&gt;  \r\n        &lt;gender&gt;f&lt;/gender&gt;\r\n          &lt;Address&gt;\r\n             &lt;City&gt;NorthIsland&lt;/City&gt;\r\n             &lt;Zipcode&gt;5671&lt;/Zipcode&gt;\r\n            &lt;/Address&gt;\r\n        &lt;/student&gt;\r\n    &lt;/company&gt;\r\n\r\nBelow is the student pojo class and similarly there is one address pojo class having addrress details and Company class having list of students\r\n \r\n\r\n    public class Student {\r\n                private String FirstName;\r\n                private String LastName;\r\n                private String Gender;\r\n                private List&lt;Address&gt; address;\r\n                public Object student;\r\n    \r\n                \r\n                \r\n                public Student() {}\r\n                public Student(String FirstName, String LastName, String Gender,List&lt;Address&gt; address) {\r\n                super();\r\n                \tthis.FirstName = FirstName;\r\n                .\r\n                .\r\n                .\r\n                .\t\r\n                \r\n                }\r\n                \r\n                getters/setter\r\n                \r\n                @Override\r\n                public String toString() {\r\n                     return &quot;&lt;&quot; + FirstName + &quot;, &quot; + LastName + &quot;, &quot; + Gender + &quot;, &quot; + address +  &quot;&gt;&quot;;\r\n                }\r\n                \r\n        @Override\r\n        public int hashCode() {\r\n        \treturn Objects.hash(student);\r\n        }\r\n        @Override\r\n        public boolean equals(Object obj) {\r\n        \tif (this == obj)\r\n        \t\treturn true;\r\n        \tif (obj == null)\r\n        \t\treturn false;\r\n        \tif (getClass() != obj.getClass())\r\n        \t\treturn false;\r\n        \tstudent other = (student) obj;\r\n        \treturn  Objects.equals(student, other.student);\r\n        }\r\n            }\r\n\r\n```java parser code\r\n\r\n    \r\n\r\npublic static void main(String[] args) {\r\n             try {\r\n                  List&lt;Student&gt; student = new ArrayList&lt;Student&gt;();\r\n    \r\n                File file = new File(&quot;/Downloads/student.xml&quot;);\r\n                JAXBContext jaxbContext = JAXBContext.newInstance(Company.class);\r\n         \r\n                Unmarshaller jaxbUnmarshaller = jaxbContext.createUnmarshaller();\r\n                Student com= (Student) jaxbUnmarshaller.unmarshal(file);\r\n                \r\n                List&lt;Student&gt; list = com.getStudent();\r\n                for(Student stu:list) {\r\n        \r\n                student.add(new Student(stu.getFirstName()+&quot; &quot;+stu.getLastName()+&quot; &quot;+stu.getContactNo()+&quot; &quot;+stu.getGender());\r\n                }\r\n    \r\n    \r\n            List&lt;Student&gt; newList = list.stream().distinct().collect(Collectors.toList());\r\n         System.out.println(newList);\r\n} catch (JAXBException e) {\r\n\t\te.printStackTrace();\r\n\t  }\r\n \r\n\t}\r\n}\r\n\r\n\r\n\r\n\r\n","title":"Unable to print distinct values from list of object type in java","body":"<p>Unable to print distinct values from list of object type in java. This is my current parser code and am checking for the duplicate values.</p>\n<p>In the below code I am trying to fetch unique values from newList.</p>\n<p>XML - sample</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot;?&gt;\n&lt;company&gt;\n    &lt;student&gt; \n       &lt;fname&gt;aaa&lt;/fname&gt; \n       &lt;lname&gt;aaa&lt;/lname&gt;  \n     \n       &lt;gender&gt;M&lt;gender&gt; \n       &lt;Address&gt;\n         &lt;City&gt;Auckland&lt;/City&gt;\n         &lt;Zipcode&gt;2310`enter code here`&lt;/Zipcode&gt;\n        &lt;/Address&gt;\n    &lt;student/&gt; \n    &lt;student&gt;  \n    &lt;fname&gt;abc&lt;/fname&gt; \n       &lt;lname&gt;aaa&lt;/lname&gt;  \n    &lt;gender&gt;f&lt;/gender&gt; \n      &lt;Address&gt;\n         &lt;City&gt;Wellington&lt;/City&gt;\n         &lt;Zipcode&gt;2310&lt;/Zipcode&gt;\n        &lt;/Address&gt;\n    \n    &lt;/student&gt; \n    &lt;student&gt;  \n    &lt;fname&gt;aaa&lt;/fname&gt; \n       &lt;lname&gt;aaa&lt;/lname&gt;  \n    &lt;gender&gt;f&lt;/gender&gt;\n      &lt;Address&gt;\n         &lt;City&gt;NorthIsland&lt;/City&gt;\n         &lt;Zipcode&gt;5671&lt;/Zipcode&gt;\n        &lt;/Address&gt;\n    &lt;/student&gt;\n&lt;/company&gt;\n</code></pre>\n<p>Below is the student pojo class and similarly there is one address pojo class having addrress details and Company class having list of students</p>\n<pre><code>public class Student {\n            private String FirstName;\n            private String LastName;\n            private String Gender;\n            private List&lt;Address&gt; address;\n            public Object student;\n\n            \n            \n            public Student() {}\n            public Student(String FirstName, String LastName, String Gender,List&lt;Address&gt; address) {\n            super();\n                this.FirstName = FirstName;\n            .\n            .\n            .\n            .   \n            \n            }\n            \n            getters/setter\n            \n            @Override\n            public String toString() {\n                 return &quot;&lt;&quot; + FirstName + &quot;, &quot; + LastName + &quot;, &quot; + Gender + &quot;, &quot; + address +  &quot;&gt;&quot;;\n            }\n            \n    @Override\n    public int hashCode() {\n        return Objects.hash(student);\n    }\n    @Override\n    public boolean equals(Object obj) {\n        if (this == obj)\n            return true;\n        if (obj == null)\n            return false;\n        if (getClass() != obj.getClass())\n            return false;\n        student other = (student) obj;\n        return  Objects.equals(student, other.student);\n    }\n        }\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>\n    \n\npublic static void main(String[] args) {\n             try {\n                  List&lt;Student&gt; student = new ArrayList&lt;Student&gt;();\n    \n                File file = new File(&quot;/Downloads/student.xml&quot;);\n                JAXBContext jaxbContext = JAXBContext.newInstance(Company.class);\n         \n                Unmarshaller jaxbUnmarshaller = jaxbContext.createUnmarshaller();\n                Student com= (Student) jaxbUnmarshaller.unmarshal(file);\n                \n                List&lt;Student&gt; list = com.getStudent();\n                for(Student stu:list) {\n        \n                student.add(new Student(stu.getFirstName()+&quot; &quot;+stu.getLastName()+&quot; &quot;+stu.getContactNo()+&quot; &quot;+stu.getGender());\n                }\n    \n    \n            List&lt;Student&gt; newList = list.stream().distinct().collect(Collectors.toList());\n         System.out.println(newList);\n} catch (JAXBException e) {\n        e.printStackTrace();\n      }\n \n    }\n}\n\n\n\n\n</code></pre>\n"},{"tags":["java","replace","char","character"],"comments":[{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":2,"creation_date":1656943673,"post_id":72857996,"comment_id":128687538,"body_markdown":"You are not using the `line` that you read. And you probably just get a stack print and ignore it.","body":"You are not using the <code>line</code> that you read. And you probably just get a stack print and ignore it."},{"owner":{"account_id":10192070,"reputation":2256,"user_id":7525132,"display_name":"Izruo"},"score":0,"creation_date":1656944018,"post_id":72857996,"comment_id":128687644,"body_markdown":"Also, in the `main` method an instance of type `Main1` is instatiated, but the code shown here is the type `Replace`. So, actually, this may even not be the code that is executed.","body":"Also, in the <code>main</code> method an instance of type <code>Main1</code> is instatiated, but the code shown here is the type <code>Replace</code>. So, actually, this may even not be the code that is executed."}],"answers":[{"tags":[],"owner":{"account_id":25629892,"reputation":1,"user_id":19400431,"display_name":"TaiiKii"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656944821,"creation_date":1656943755,"answer_id":72858071,"question_id":72857996,"body_markdown":"I have little knowledge about this topic, but can it be that your program doesn&#39;t detect the br FileReader path due to 4 backslashes? Change them to two (FileReader(&quot;C:\\\\\\Users\\\\\\PC\\\\\\Desktop\\\\\\new-words.txt&quot;))\r\nand try again. Maybe that helps something.","title":"Replace multiplce characters in a file","body":"<p>I have little knowledge about this topic, but can it be that your program doesn't detect the br FileReader path due to 4 backslashes? Change them to two (FileReader(&quot;C:\\\\Users\\\\PC\\\\Desktop\\\\new-words.txt&quot;))\nand try again. Maybe that helps something.</p>\n"}],"owner":{"account_id":20706765,"reputation":5,"user_id":15204441,"display_name":"2021"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1656949369,"creation_date":1656943387,"question_id":72857996,"body_markdown":"I want to replace turkisch characters `{ &#39;&#231;&#39;, &#39;&#199;&#39;, &#39;İ&#39;, &#39;ı&#39;, &#39;Ğ&#39;, &#39;ğ&#39;, &#39;Ş&#39;, &#39;ş&#39; }`  with new english characters `{ &#39;c&#39;, &#39;C&#39;, &#39;I&#39;, &#39;i&#39;, &#39;G&#39;, &#39;g&#39;, &#39;S&#39;, &#39;s&#39; }`  in a textfile.\r\n\r\n\r\nHere is my code. I get only the original content without changes on the Console and it does not creat a new file.\r\n\r\n    import java.io.BufferedReader;\r\n    import java.io.BufferedWriter;\r\n    import java.io.File;\r\n    import java.io.FileOutputStream;\r\n    import java.io.FileReader;\r\n    import java.io.FileWriter;\r\n    import java.io.IOException;\r\n    \r\n    public class Replace {\r\n    \r\n    \tString line = null;\r\n    \tString ret = null;\r\n    \r\n    \tpublic void doIt() {\r\n    \t\ttry {\r\n    \r\n    \t\t\tFile f1 = new File(&quot;C:\\\\Users\\\\PC\\\\Desktop\\\\new-words2.txt&quot;);\r\n    \t\t\tFileOutputStream fop = new FileOutputStream(f1);\r\n    \t\t\tFileReader fr = new FileReader(f1);\r\n    \t\t\tBufferedReader br = new BufferedReader(new \r\n                FileReader(&quot;C:\\\\\\\\Users\\\\\\\\PC\\\\\\\\Desktop\\\\new-words.txt&quot;));\r\n    \r\n    \t\t\tFileWriter fw = new FileWriter(f1);\r\n    \t\t\tBufferedWriter out = new BufferedWriter(fw);\r\n    \r\n    \t\t\twhile ((line = br.readLine()) != null) {\r\n    \t\t\t\tchar[] turkishChars = new char[] { &#39;&#231;&#39;, &#39;&#199;&#39;, &#39;İ&#39;, &#39;ı&#39;, &#39;Ğ&#39;, &#39;ğ&#39;, &#39;Ş&#39;, &#39;ş&#39; };\r\n    \t\t\t\tchar[] englishChars = new char[] { &#39;c&#39;, &#39;C&#39;, &#39;I&#39;, &#39;i&#39;, &#39;G&#39;, &#39;g&#39;, &#39;S&#39;, &#39;s&#39; };\r\n    \t\t\t\tfor (int i = 0; i &lt; turkishChars.length; i++) {\r\n    \t\t\t\t\tret = ret.replaceAll(new String(new char[] { turkishChars[i] }),\r\n    \t\t\t\t\t\t\tnew String(new char[] { englishChars[i] }));\r\n    \t\t\t\t\tout.write(ret);\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \r\n    \t\t\tfr.close();\r\n    \t\t\tbr.close();\r\n    \t\t\tout.flush();\r\n    \t\t\tout.close();\r\n    \t\t} catch (Exception ex) {\r\n    \t\t\tex.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic static void main(String args[]) {\r\n    \t\tMain1 fr = new Main1();\r\n    \t\tfr.doIt();\r\n    \r\n    \t}\r\n    }\r\n\r\n\r\nEdit:\r\n\r\nThis is the new code that works for me. But I would like to use a shorter code for the replace method. \r\n\r\n\r\n    import java.io.BufferedReader;\r\n    import java.io.BufferedWriter;\r\n    import java.io.File;\r\n    import java.io.FileOutputStream;\r\n    import java.io.FileReader;\r\n    import java.io.FileWriter;\r\n    import java.io.IOException;\r\n    \r\n    public class Replace {\r\n    \r\n    \tString line = null;\r\n    \tString ret = null;\r\n    \r\n    \tpublic void doIt() {\r\n    \t\ttry {\r\n    \r\n    \t\t\tFile f1 = new File(&quot;C:\\\\Users\\\\PC\\\\Desktop\\\\new-words2.txt&quot;);\r\n    \t\t\tFileOutputStream fop = new FileOutputStream(f1);\r\n    \t\t\tFileReader fr = new FileReader(f1);\r\n    \t\t\tBufferedReader br = new BufferedReader(new \r\n                FileReader(&quot;C:\\\\Users\\\\PC\\\\Desktop\\\\new-words.txt&quot;));\r\n    \r\n    \t\t\tFileWriter fw = new FileWriter(f1);\r\n    \t\t\tBufferedWriter out = new BufferedWriter(fw);\r\n    \r\n    \t\t\twhile ((line = br.readLine()) != null) {\r\n    \t\t\t\tret = line.replace(&quot;&#231;&quot;, &quot;c&quot;).replace(&quot;&#199;&quot;, &quot;C&quot;).replace(&quot;İ&quot;, &quot;I&quot;).replace(&quot;ı&quot;, &quot;i&quot;).replace(&quot;Ğ&quot;, &quot;G&quot;)\r\n    \t\t\t\t\t\t.replace(&quot;ğ&quot;, &quot;g&quot;).replace(&quot;Ş&quot;, &quot;S&quot;).replace(&quot;ş&quot;, &quot;s&quot;);\r\n    \t\t\t\tout.write(ret + &quot;\\n&quot;);\r\n    \t\t\t}\r\n    \r\n    \t\t\tfr.close();\r\n    \t\t\tbr.close();\r\n    \t\t\tout.flush();\r\n    \t\t\tout.close();\r\n    \t\t} catch (Exception ex) {\r\n    \t\t\tex.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic static void main(String args[]) {\r\n    \t\tReplace fr = new Replace();\r\n    \t\tfr.doIt();\r\n    \r\n    \t}\r\n    }","title":"Replace multiplce characters in a file","body":"<p>I want to replace turkisch characters <code>{ 'ç', 'Ç', 'İ', 'ı', 'Ğ', 'ğ', 'Ş', 'ş' }</code>  with new english characters <code>{ 'c', 'C', 'I', 'i', 'G', 'g', 'S', 's' }</code>  in a textfile.</p>\n<p>Here is my code. I get only the original content without changes on the Console and it does not creat a new file.</p>\n<pre><code>import java.io.BufferedReader;\nimport java.io.BufferedWriter;\nimport java.io.File;\nimport java.io.FileOutputStream;\nimport java.io.FileReader;\nimport java.io.FileWriter;\nimport java.io.IOException;\n\npublic class Replace {\n\n    String line = null;\n    String ret = null;\n\n    public void doIt() {\n        try {\n\n            File f1 = new File(&quot;C:\\\\Users\\\\PC\\\\Desktop\\\\new-words2.txt&quot;);\n            FileOutputStream fop = new FileOutputStream(f1);\n            FileReader fr = new FileReader(f1);\n            BufferedReader br = new BufferedReader(new \n            FileReader(&quot;C:\\\\\\\\Users\\\\\\\\PC\\\\\\\\Desktop\\\\new-words.txt&quot;));\n\n            FileWriter fw = new FileWriter(f1);\n            BufferedWriter out = new BufferedWriter(fw);\n\n            while ((line = br.readLine()) != null) {\n                char[] turkishChars = new char[] { 'ç', 'Ç', 'İ', 'ı', 'Ğ', 'ğ', 'Ş', 'ş' };\n                char[] englishChars = new char[] { 'c', 'C', 'I', 'i', 'G', 'g', 'S', 's' };\n                for (int i = 0; i &lt; turkishChars.length; i++) {\n                    ret = ret.replaceAll(new String(new char[] { turkishChars[i] }),\n                            new String(new char[] { englishChars[i] }));\n                    out.write(ret);\n                }\n            }\n\n            fr.close();\n            br.close();\n            out.flush();\n            out.close();\n        } catch (Exception ex) {\n            ex.printStackTrace();\n        }\n    }\n\n    public static void main(String args[]) {\n        Main1 fr = new Main1();\n        fr.doIt();\n\n    }\n}\n</code></pre>\n<p>Edit:</p>\n<p>This is the new code that works for me. But I would like to use a shorter code for the replace method.</p>\n<pre><code>import java.io.BufferedReader;\nimport java.io.BufferedWriter;\nimport java.io.File;\nimport java.io.FileOutputStream;\nimport java.io.FileReader;\nimport java.io.FileWriter;\nimport java.io.IOException;\n\npublic class Replace {\n\n    String line = null;\n    String ret = null;\n\n    public void doIt() {\n        try {\n\n            File f1 = new File(&quot;C:\\\\Users\\\\PC\\\\Desktop\\\\new-words2.txt&quot;);\n            FileOutputStream fop = new FileOutputStream(f1);\n            FileReader fr = new FileReader(f1);\n            BufferedReader br = new BufferedReader(new \n            FileReader(&quot;C:\\\\Users\\\\PC\\\\Desktop\\\\new-words.txt&quot;));\n\n            FileWriter fw = new FileWriter(f1);\n            BufferedWriter out = new BufferedWriter(fw);\n\n            while ((line = br.readLine()) != null) {\n                ret = line.replace(&quot;ç&quot;, &quot;c&quot;).replace(&quot;Ç&quot;, &quot;C&quot;).replace(&quot;İ&quot;, &quot;I&quot;).replace(&quot;ı&quot;, &quot;i&quot;).replace(&quot;Ğ&quot;, &quot;G&quot;)\n                        .replace(&quot;ğ&quot;, &quot;g&quot;).replace(&quot;Ş&quot;, &quot;S&quot;).replace(&quot;ş&quot;, &quot;s&quot;);\n                out.write(ret + &quot;\\n&quot;);\n            }\n\n            fr.close();\n            br.close();\n            out.flush();\n            out.close();\n        } catch (Exception ex) {\n            ex.printStackTrace();\n        }\n    }\n\n    public static void main(String args[]) {\n        Replace fr = new Replace();\n        fr.doIt();\n\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","rest","java-8"],"comments":[{"owner":{"account_id":13707369,"reputation":181,"user_id":9890573,"display_name":"Hargun Suri"},"score":0,"creation_date":1656836876,"post_id":72835357,"comment_id":128664682,"body_markdown":"Hello could you please provide the use case what you are trying to achieve?  Is your application acting as server and client at the same time?","body":"Hello could you please provide the use case what you are trying to achieve?  Is your application acting as server and client at the same time?"},{"owner":{"account_id":25684479,"reputation":11,"user_id":19446777,"display_name":"jashoa leninski"},"score":0,"creation_date":1656891862,"post_id":72835357,"comment_id":128675185,"body_markdown":"I am just trying to make a get request for the server","body":"I am just trying to make a get request for the server"}],"owner":{"account_id":25684479,"reputation":11,"user_id":19446777,"display_name":"jashoa leninski"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1656949102,"creation_date":1656717317,"question_id":72835357,"body_markdown":"I am trying to use service with HttpClient, but I do not know how to use Get method. Below is my example code.\r\n\r\nMy Controller\r\n\r\n\r\n     public interface ReadCaseByCaseNumberController {\r\n    \r\n        @GetMapping(&quot;/case&quot;)\r\n        ResponseEntity&lt;ReadCaseByCaseNumberResponse&gt; getReadCaseByCaseNumberResponse(@RequestParam String caseNumbers) throws IOException;\r\n    }\r\n\r\nMy ControllerImpl\r\n\r\n    @RestController\r\n    @RequiredArgsConstructor\r\n    public class ReadCaseByCaseNumberControllerImpl implements ReadCaseByCaseNumberController {\r\n    \r\n        private final ReadCaseByCaseNumberService readCaseByCaseNumberService;\r\n    \r\n        @Override\r\n        public ResponseEntity&lt;ReadCaseByCaseNumberResponse&gt; getReadCaseByCaseNumberResponse(String caseNumbers) throws IOException {\r\n    \r\n            return ResponseEntity.ok(readCaseByCaseNumberService.getReadCaseByCaseNumberResponse(caseNumbers));\r\n        }\r\n\r\nMy Service\r\n\r\n    public interface ReadCaseByCaseNumberService {\r\n    \r\n         ReadCaseByCaseNumberResponse getReadCaseByCaseNumberResponse(String caseNumbers) throws IOException;\r\n    }\r\n\r\nMy ServiceImpl\r\n \r\n\r\n    @Value(&quot;${servce.urlBasePath}&quot;)\r\n    private String urlBasePath;\r\n    \r\n    @Value(&quot;${service.getCaseByCaseNumberPath}&quot;)\r\n    private String getMessageByCaseNumberURL;\r\n    \r\n    @Override\r\n    public ReadCaseByCaseNumberResponse getReadCaseByCaseNumberResponse(String caseNumbers) throws IOException {\r\n    \r\n        CloseableHttpClient client = HttpClients.createDefault();\r\n    \r\n        HttpGet httpGet = new HttpGet(urlBasePath.concat(getMessageByCaseNumberURL));\r\n        httpGet.setHeader(&quot;Key&quot;, &quot;somekey&quot;);\r\n        httpGet.setHeader(&quot;Authorization&quot;, &quot;Bearer some Bearer&quot;);\r\n       \r\n        client.close();\r\n\r\nso how can I change my service Impl accordigly. \r\n\r\nThank you","title":"How To Use HttpClient get method with ResponseBody and along with RequestParam","body":"<p>I am trying to use service with HttpClient, but I do not know how to use Get method. Below is my example code.</p>\n<p>My Controller</p>\n<pre><code> public interface ReadCaseByCaseNumberController {\n\n    @GetMapping(&quot;/case&quot;)\n    ResponseEntity&lt;ReadCaseByCaseNumberResponse&gt; getReadCaseByCaseNumberResponse(@RequestParam String caseNumbers) throws IOException;\n}\n</code></pre>\n<p>My ControllerImpl</p>\n<pre><code>@RestController\n@RequiredArgsConstructor\npublic class ReadCaseByCaseNumberControllerImpl implements ReadCaseByCaseNumberController {\n\n    private final ReadCaseByCaseNumberService readCaseByCaseNumberService;\n\n    @Override\n    public ResponseEntity&lt;ReadCaseByCaseNumberResponse&gt; getReadCaseByCaseNumberResponse(String caseNumbers) throws IOException {\n\n        return ResponseEntity.ok(readCaseByCaseNumberService.getReadCaseByCaseNumberResponse(caseNumbers));\n    }\n</code></pre>\n<p>My Service</p>\n<pre><code>public interface ReadCaseByCaseNumberService {\n\n     ReadCaseByCaseNumberResponse getReadCaseByCaseNumberResponse(String caseNumbers) throws IOException;\n}\n</code></pre>\n<p>My ServiceImpl</p>\n<pre><code>@Value(&quot;${servce.urlBasePath}&quot;)\nprivate String urlBasePath;\n\n@Value(&quot;${service.getCaseByCaseNumberPath}&quot;)\nprivate String getMessageByCaseNumberURL;\n\n@Override\npublic ReadCaseByCaseNumberResponse getReadCaseByCaseNumberResponse(String caseNumbers) throws IOException {\n\n    CloseableHttpClient client = HttpClients.createDefault();\n\n    HttpGet httpGet = new HttpGet(urlBasePath.concat(getMessageByCaseNumberURL));\n    httpGet.setHeader(&quot;Key&quot;, &quot;somekey&quot;);\n    httpGet.setHeader(&quot;Authorization&quot;, &quot;Bearer some Bearer&quot;);\n   \n    client.close();\n</code></pre>\n<p>so how can I change my service Impl accordigly.</p>\n<p>Thank you</p>\n"},{"tags":["java","kotlin"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1656948885,"post_id":72859074,"comment_id":128689376,"body_markdown":"Can you change the Kotlin code? It is incorrect to return `Void` *in Kotlin*.","body":"Can you change the Kotlin code? It is incorrect to return <code>Void</code> <i>in Kotlin</i>."},{"owner":{"account_id":974077,"reputation":4004,"user_id":995931,"accept_rate":49,"display_name":"user-44651"},"score":0,"creation_date":1656948915,"post_id":72859074,"comment_id":128689387,"body_markdown":"I can change the Kotlin code @Sweeper. I originally had Unit as the return type.","body":"I can change the Kotlin code @Sweeper. I originally had Unit as the return type."}],"answers":[{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1656949063,"creation_date":1656949063,"answer_id":72859177,"question_id":72859074,"body_markdown":"In Kotlin, a function that doesn&#39;t return a value should return `Unit`, not `java.lang.Void`. In fact, this is true in Java too - in Java you should return `void`, not `java.lang.Void`.\r\n\r\nSo change the Kotlin code to:\r\n\r\n    var onItemSelected: ((String) -&gt; Unit)? = null\r\n\r\nNow in the Java code, you need to return `kotlin.Unit.INSTANCE`, because that is the only instance of `Unit` there exists (`Unit` is declared as an `object`). Returning `Unit.INSTANCE` is implicit if you are doing this in Kotlin, but you need to do this explicitly in Java.\r\n\r\n    import kotlin.Unit;\r\n\r\n    // ...\r\n\r\n    binding.setOnItemSelected(item -&gt; {\r\n        System.out.println(item);\r\n        // do your thing with item...\r\n        return Unit.INSTANCE;\r\n    });\r\n\r\n","title":"Consuming a Kotlin Function with an Argument in a Java file using the correct syntax","body":"<p>In Kotlin, a function that doesn't return a value should return <code>Unit</code>, not <code>java.lang.Void</code>. In fact, this is true in Java too - in Java you should return <code>void</code>, not <code>java.lang.Void</code>.</p>\n<p>So change the Kotlin code to:</p>\n<pre><code>var onItemSelected: ((String) -&gt; Unit)? = null\n</code></pre>\n<p>Now in the Java code, you need to return <code>kotlin.Unit.INSTANCE</code>, because that is the only instance of <code>Unit</code> there exists (<code>Unit</code> is declared as an <code>object</code>). Returning <code>Unit.INSTANCE</code> is implicit if you are doing this in Kotlin, but you need to do this explicitly in Java.</p>\n<pre><code>import kotlin.Unit;\n\n// ...\n\nbinding.setOnItemSelected(item -&gt; {\n    System.out.println(item);\n    // do your thing with item...\n    return Unit.INSTANCE;\n});\n</code></pre>\n"}],"owner":{"account_id":974077,"reputation":4004,"user_id":995931,"accept_rate":49,"display_name":"user-44651"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72859177,"answer_count":1,"score":1,"last_activity_date":1656949063,"creation_date":1656948618,"question_id":72859074,"body_markdown":"I have a variable called `onItemSelected` in a **Kotlin** file\r\n\r\n       var onItemSelected: ((String) -&gt; Void)? = null\r\n\r\nIn a **Java** file I am trying to set that variable, but am unable to figure out the correct syntax. \r\n\r\nThe lambda expression keeps wanting to return a Void, however, when I return a void, then it doesn&#39;t compile. \r\n\r\n\r\n        binding.myCustomView.getOnItemSelected() = (item, Void) -&gt; {\r\n            //What should happen here?\r\n            Log.i(&quot;Test&quot;, item);\r\n            return;\r\n        };\r\n\r\n\r\n\r\nI have tried various syntax, but I can&#39;t seem to get it correct.\r\n\r\nWhat is the proper way to set a variable with a function that has an argument?\r\n","title":"Consuming a Kotlin Function with an Argument in a Java file using the correct syntax","body":"<p>I have a variable called <code>onItemSelected</code> in a <strong>Kotlin</strong> file</p>\n<pre><code>   var onItemSelected: ((String) -&gt; Void)? = null\n</code></pre>\n<p>In a <strong>Java</strong> file I am trying to set that variable, but am unable to figure out the correct syntax.</p>\n<p>The lambda expression keeps wanting to return a Void, however, when I return a void, then it doesn't compile.</p>\n<pre><code>    binding.myCustomView.getOnItemSelected() = (item, Void) -&gt; {\n        //What should happen here?\n        Log.i(&quot;Test&quot;, item);\n        return;\n    };\n</code></pre>\n<p>I have tried various syntax, but I can't seem to get it correct.</p>\n<p>What is the proper way to set a variable with a function that has an argument?</p>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1656900620,"post_id":72851113,"comment_id":128676127,"body_markdown":"Was the source file saved using e.g., UTF-8? Did you compile with e.g., `-encoding UTF-8`? Can your terminal handle Chinese characters?","body":"Was the source file saved using e.g., UTF-8? Did you compile with e.g., <code>-encoding UTF-8</code>? Can your terminal handle Chinese characters?"},{"owner":{"account_id":25718299,"reputation":21,"user_id":19475671,"display_name":"aimster132"},"score":0,"creation_date":1656900856,"post_id":72851113,"comment_id":128676155,"body_markdown":"yes it was compiles with -encoding UTF-8 but how can I check if it can handle Chinese characters","body":"yes it was compiles with -encoding UTF-8 but how can I check if it can handle Chinese characters"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1656910063,"post_id":72851113,"comment_id":128677222,"body_markdown":"Good question. I can get my terminal to display `你好` just fine (e.g., with `echo`), but cannot get it to work when Java prints out the characters...","body":"Good question. I can get my terminal to display <code>你好</code> just fine (e.g., with <code>echo</code>), but cannot get it to work when Java prints out the characters..."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1656922003,"post_id":72851113,"comment_id":128679986,"body_markdown":"Does the Chinese text appear properly in the code editor of IntelliJ? Have you read the documentation page [on encoding](https://www.jetbrains.com/help/idea/encoding.html)?","body":"Does the Chinese text appear properly in the code editor of IntelliJ? Have you read the documentation page <a href=\"https://www.jetbrains.com/help/idea/encoding.html\" rel=\"nofollow noreferrer\">on encoding</a>?"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1656922365,"post_id":72851113,"comment_id":128680119,"body_markdown":"Works in Java 12 [on Ideone.com](https://ideone.com/oifbup).","body":"Works in Java 12 <a href=\"https://ideone.com/oifbup\" rel=\"nofollow noreferrer\">on Ideone.com</a>."},{"owner":{"account_id":25718299,"reputation":21,"user_id":19475671,"display_name":"aimster132"},"score":0,"creation_date":1656923830,"post_id":72851113,"comment_id":128680697,"body_markdown":"@BasilBourque my old laptop was able to display chinese characters after installing\nedit - it replaces the chinese text with question marks (?)","body":"@BasilBourque my old laptop was able to display chinese characters after installing edit - it replaces the chinese text with question marks (?)"},{"owner":{"account_id":4012793,"reputation":1627,"user_id":3305737,"display_name":"Jonasz"},"score":0,"creation_date":1656944186,"post_id":72851113,"comment_id":128687706,"body_markdown":"It seems that it depends on the JDK version you&#39;re using. [Here](https://www.jdoodle.com/online-java-compiler/) with JDK 11+ it works fine and `Charset.defaultCharset()` returns `UTF-8`, with older JDKs it does not work (errors with question marks) and the `defaultCharset` method returns `US-ASCII`.","body":"It seems that it depends on the JDK version you&#39;re using. <a href=\"https://www.jdoodle.com/online-java-compiler/\" rel=\"nofollow noreferrer\">Here</a> with JDK 11+ it works fine and <code>Charset.defaultCharset()</code> returns <code>UTF-8</code>, with older JDKs it does not work (errors with question marks) and the <code>defaultCharset</code> method returns <code>US-ASCII</code>."},{"owner":{"account_id":25718299,"reputation":21,"user_id":19475671,"display_name":"aimster132"},"score":0,"creation_date":1656959490,"post_id":72851113,"comment_id":128692228,"body_markdown":"@Jonarz I am using JDK 18 I&#39;ve tried downloading JDK 17 but it was still showing question marks in place of the chinese characters","body":"@Jonarz I am using JDK 18 I&#39;ve tried downloading JDK 17 but it was still showing question marks in place of the chinese characters"}],"answers":[{"tags":[],"owner":{"account_id":11179248,"reputation":11900,"user_id":8203759,"display_name":"Konstantin Annikov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656948648,"creation_date":1656948648,"answer_id":72859085,"question_id":72851113,"body_markdown":"This seems to be a known issue of IntelliJ IDEA: \r\n\r\nhttps://youtrack.jetbrains.com/issue/IDEA-291006/Running-the-Java-project-by-using-the-JDK-18-prints-the-garbled-characters-in-console-when-try-printing-the-non-ASCII-characters\r\n\r\nTry the workaround from the issue description: \r\n\r\n&gt; Click Run | Edit configurations, add the -Dfile.encoding=&lt;your_system_default_encoding&gt; (example: -Dfile.encoding=gbk in Chinese encoding) in this application&#39;s VM options.","title":"Intellij IDEA community can&#39;t compile Chinese characters instead it displays &quot;?&quot; Question marks","body":"<p>This seems to be a known issue of IntelliJ IDEA:</p>\n<p><a href=\"https://youtrack.jetbrains.com/issue/IDEA-291006/Running-the-Java-project-by-using-the-JDK-18-prints-the-garbled-characters-in-console-when-try-printing-the-non-ASCII-characters\" rel=\"nofollow noreferrer\">https://youtrack.jetbrains.com/issue/IDEA-291006/Running-the-Java-project-by-using-the-JDK-18-prints-the-garbled-characters-in-console-when-try-printing-the-non-ASCII-characters</a></p>\n<p>Try the workaround from the issue description:</p>\n<blockquote>\n<p>Click Run | Edit configurations, add the -Dfile.encoding=&lt;your_system_default_encoding&gt; (example: -Dfile.encoding=gbk in Chinese encoding) in this application's VM options.</p>\n</blockquote>\n"}],"owner":{"account_id":25718299,"reputation":21,"user_id":19475671,"display_name":"aimster132"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":368,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1656948648,"creation_date":1656900143,"question_id":72851113,"body_markdown":"System.out.print(&quot;你好&quot;);\r\n\r\n\r\n--------------------------------------------------\r\noutput:\r\n??\r\n\r\nProcess finished with exit code 0","title":"Intellij IDEA community can&#39;t compile Chinese characters instead it displays &quot;?&quot; Question marks","body":"<p>System.out.print(&quot;你好&quot;);</p>\n<hr />\n<p>output:\n??</p>\n<p>Process finished with exit code 0</p>\n"},{"tags":["java","eclipse","tdd"],"comments":[{"owner":{"account_id":71985,"reputation":7903,"user_id":208013,"display_name":"Mirek Pluta"},"score":0,"creation_date":1638117115,"post_id":70145359,"comment_id":123996575,"body_markdown":"What did you add as a dependency to your project? What does your test look like? Do you have only tests using junit5 (jupiter)? Or do you have also a junit4 tests?","body":"What did you add as a dependency to your project? What does your test look like? Do you have only tests using junit5 (jupiter)? Or do you have also a junit4 tests?"},{"owner":{"account_id":23472650,"reputation":1,"user_id":17525908,"display_name":"YAYAFAILINGUNI"},"score":0,"creation_date":1638117863,"post_id":70145359,"comment_id":123996766,"body_markdown":"i have only junit 5 tests","body":"i have only junit 5 tests"}],"answers":[{"tags":[],"owner":{"account_id":4905548,"reputation":81,"user_id":3952407,"display_name":"Bodo Teichmann"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656948618,"creation_date":1656948588,"answer_id":72859071,"question_id":70145359,"body_markdown":"It looks like your test runner did not found the test.\r\n\r\n1. Find you what your test runner is: (eg. junit4 or junit5, started via Eclipse, IntelliJ, or via command line and maven(pom.xml) or gradle ?\r\n\r\n2. Find out what are the default file-path and filename-pattern the test runner considers. \r\n\r\nFor example: in most java projects you should have your tests in &quot;projectroot/src/test/java/&lt;packagename&gt;/MyClassTest.java&quot;\r\nand all Tests should end in &quot;*Test.java&quot; \r\n\r\nBut when the pom.xml defines other path/filename pattern then the default pattern for the  maven-surefire-plugin in the &lt;plugins&gt; section , you might need change you path and/or test-file-names.\r\n\r\n```xml\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;2.22.0&lt;/version&gt;\r\n    &lt;configuration&gt;\r\n      &lt;includes&gt;**/*Test.java&lt;/includes&gt;\r\n      &lt;argLine&gt;-Duser.language=en -Duser.region=nl -Djava.locale.providers=COMPAT ${surefireArgLine}&lt;/argLine&gt;\r\n&lt;!--&gt;....&lt;--!&gt;\r\n```\r\n \t\t\t\t\t\r\nif you are using maven: try &quot;mvn test&quot; and look after the line\r\n\r\n    &quot;[INFO] ---  maven-surefire-plugin:x.xx.x:test&quot;\r\n\r\nIf there are any tests found.\r\n\r\n","title":"tdd tests not running in eclipse","body":"<p>It looks like your test runner did not found the test.</p>\n<ol>\n<li><p>Find you what your test runner is: (eg. junit4 or junit5, started via Eclipse, IntelliJ, or via command line and maven(pom.xml) or gradle ?</p>\n</li>\n<li><p>Find out what are the default file-path and filename-pattern the test runner considers.</p>\n</li>\n</ol>\n<p>For example: in most java projects you should have your tests in &quot;projectroot/src/test/java//MyClassTest.java&quot;\nand all Tests should end in &quot;*Test.java&quot;</p>\n<p>But when the pom.xml defines other path/filename pattern then the default pattern for the  maven-surefire-plugin in the  section , you might need change you path and/or test-file-names.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.22.0&lt;/version&gt;\n    &lt;configuration&gt;\n      &lt;includes&gt;**/*Test.java&lt;/includes&gt;\n      &lt;argLine&gt;-Duser.language=en -Duser.region=nl -Djava.locale.providers=COMPAT ${surefireArgLine}&lt;/argLine&gt;\n&lt;!--&gt;....&lt;--!&gt;\n</code></pre>\n<p>if you are using maven: try &quot;mvn test&quot; and look after the line</p>\n<pre><code>&quot;[INFO] ---  maven-surefire-plugin:x.xx.x:test&quot;\n</code></pre>\n<p>If there are any tests found.</p>\n"}],"owner":{"account_id":23472650,"reputation":1,"user_id":17525908,"display_name":"YAYAFAILINGUNI"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656948618,"creation_date":1638116797,"question_id":70145359,"body_markdown":"the tests itself do not run and here what the error message shows me \r\n[the tests itself do not run and here what the error message shows me ][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/I9dXA.png\r\n\r\n    java.lang.NoClassDefFoundError: org/junit/platform/engine/ConfigurationParameters\r\n\tat org.eclipse.jdt.internal.junit5.runner.JUnit5TestLoader.&lt;init&gt;(JUnit5TestLoader.java:34)\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:500)\r\n\tat java.base/java.lang.reflect.ReflectAccess.newInstance(ReflectAccess.java:124)\r\n\tat java.base/jdk.internal.reflect.ReflectionFactory.newInstance(ReflectionFactory.java:346)\r\n\tat java.base/java.lang.Class.newInstance(Class.java:604)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.createRawTestLoader(RemoteTestRunner.java:371)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.createLoader(RemoteTestRunner.java:366)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.defaultInit(RemoteTestRunner.java:310)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.init(RemoteTestRunner.java:225)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:209)\r\nCaused by: java.lang.ClassNotFoundException: org.junit.platform.engine.ConfigurationParameters\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:602)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\r\n\t... 13 more\r\n\r\nthis is the test i&#39;m trying to run\r\n\r\n    \t@Test\r\n\tpublic void testAddition() {\r\n\t\tCalculator calculator = new Calculator();\r\n\t\tdouble result = calculator.solve(&quot;12 20 +&quot;);\r\n\t\tdouble expected = 32;\r\n\t\tassertEquals(result, expected, 0.00001);\r\n\t\t\r\n\t\tresult = calculator.solve(&quot;100 200 +&quot;);\r\n\t\texpected = 300;\r\n\t\tassertEquals(result, expected, 0.00001);\r\n\t}\r\n}","title":"tdd tests not running in eclipse","body":"<p>the tests itself do not run and here what the error message shows me\n<a href=\"https://i.stack.imgur.com/I9dXA.png\" rel=\"nofollow noreferrer\">the tests itself do not run and here what the error message shows me </a></p>\n<pre><code>java.lang.NoClassDefFoundError: org/junit/platform/engine/ConfigurationParameters\nat org.eclipse.jdt.internal.junit5.runner.JUnit5TestLoader.&lt;init&gt;(JUnit5TestLoader.java:34)\nat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\nat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\nat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\nat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:500)\nat java.base/java.lang.reflect.ReflectAccess.newInstance(ReflectAccess.java:124)\nat java.base/jdk.internal.reflect.ReflectionFactory.newInstance(ReflectionFactory.java:346)\nat java.base/java.lang.Class.newInstance(Class.java:604)\nat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.createRawTestLoader(RemoteTestRunner.java:371)\nat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.createLoader(RemoteTestRunner.java:366)\nat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.defaultInit(RemoteTestRunner.java:310)\nat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.init(RemoteTestRunner.java:225)\nat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:209)\n</code></pre>\n<p>Caused by: java.lang.ClassNotFoundException: org.junit.platform.engine.ConfigurationParameters\nat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:602)\nat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\nat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\n... 13 more</p>\n<p>this is the test i'm trying to run</p>\n<pre><code>    @Test\npublic void testAddition() {\n    Calculator calculator = new Calculator();\n    double result = calculator.solve(&quot;12 20 +&quot;);\n    double expected = 32;\n    assertEquals(result, expected, 0.00001);\n    \n    result = calculator.solve(&quot;100 200 +&quot;);\n    expected = 300;\n    assertEquals(result, expected, 0.00001);\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","resultset"],"comments":[{"owner":{"account_id":45934,"reputation":203659,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":1,"creation_date":1656945811,"post_id":72858426,"comment_id":128688317,"body_markdown":"The idea of mapping query results to objects is called [object-relational mapping](https://en.wikipedia.org/wiki/Object%E2%80%93relational_mapping) and in Java the standard way to do this is by using an implementation of the [Java Persistence API (JPA)](https://en.wikipedia.org/wiki/Jakarta_Persistence), for example [Hibernate](https://hibernate.org/).","body":"The idea of mapping query results to objects is called <a href=\"https://en.wikipedia.org/wiki/Object%E2%80%93relational_mapping\" rel=\"nofollow noreferrer\">object-relational mapping</a> and in Java the standard way to do this is by using an implementation of the <a href=\"https://en.wikipedia.org/wiki/Jakarta_Persistence\" rel=\"nofollow noreferrer\">Java Persistence API (JPA)</a>, for example <a href=\"https://hibernate.org/\" rel=\"nofollow noreferrer\">Hibernate</a>."},{"owner":{"account_id":21330249,"reputation":297,"user_id":15702124,"display_name":"LenglBoy"},"score":0,"creation_date":1656946764,"post_id":72858426,"comment_id":128688642,"body_markdown":"@Jesper It can be an advantage to do the mapping manually and set by step in order of performance and resource usage. If that is the case you should avoid to blow up the app with JPA Antonio. If you dont care yet use JPA and do it default and &quot;basic&quot; without taking everything manually into account.","body":"@Jesper It can be an advantage to do the mapping manually and set by step in order of performance and resource usage. If that is the case you should avoid to blow up the app with JPA Antonio. If you dont care yet use JPA and do it default and &quot;basic&quot; without taking everything manually into account."},{"owner":{"account_id":4465040,"reputation":175,"user_id":6695579,"accept_rate":0,"display_name":"Antonio Roque"},"score":0,"creation_date":1656947175,"post_id":72858426,"comment_id":128688806,"body_markdown":"Hi thank you all , my problem is that a I&#180;m working on a very old legacy system .. I will look at &quot; object-relational mapping &quot;  technique .. I can&#180;t use hibernate or jpa for this","body":"Hi thank you all , my problem is that a I&#180;m working on a very old legacy system .. I will look at &quot; object-relational mapping &quot;  technique .. I can&#180;t use hibernate or jpa for this"},{"owner":{"account_id":4465040,"reputation":175,"user_id":6695579,"accept_rate":0,"display_name":"Antonio Roque"},"score":0,"creation_date":1656947785,"post_id":72858426,"comment_id":128689013,"body_markdown":"the other thing is that all class the field&#180;s ( just one id / one class ) are a set of +/- 200  record&#180;s in the database ... witch database record contain&#180;s only one class field , the class as about 200 field&#180;s","body":"the other thing is that all class the field&#180;s ( just one id / one class ) are a set of +/- 200  record&#180;s in the database ... witch database record contain&#180;s only one class field , the class as about 200 field&#180;s"}],"answers":[{"tags":[],"owner":{"display_name":"user19443549"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656948588,"creation_date":1656948588,"answer_id":72859072,"question_id":72858426,"body_markdown":"You can use reflection then, where you can create a map at application runtime and throughout your application lifecycle ypu can use that for setting fields values like this -\r\n\r\n    public class Main {\r\n    static final Map&lt;String, Field&gt; fieldMap = new HashMap&lt;&gt;();\r\n\r\n    public static void main(String[] args) {\r\n\r\n        for (Field field : DMSClass.class.getDeclaredFields()) {\r\n            field.setAccessible(true);\r\n            fieldMap.put(field.getName(), field);\r\n        }\r\n    }\r\n\r\n    public static void getFromDB(){\r\n        ..........\r\n        .........\r\n        while (rs.next()) {\r\n            tag   =rs.getString(&quot;TAG&quot;).trim();\r\n            fieldMap.get(tag).set(dmsClass, rs.getString(&quot;value&quot;));\r\n        }\r\n    }\r\n    }","title":"how to map a resultset field&#39;s into a class field&#180;s","body":"<p>You can use reflection then, where you can create a map at application runtime and throughout your application lifecycle ypu can use that for setting fields values like this -</p>\n<pre><code>public class Main {\nstatic final Map&lt;String, Field&gt; fieldMap = new HashMap&lt;&gt;();\n\npublic static void main(String[] args) {\n\n    for (Field field : DMSClass.class.getDeclaredFields()) {\n        field.setAccessible(true);\n        fieldMap.put(field.getName(), field);\n    }\n}\n\npublic static void getFromDB(){\n    ..........\n    .........\n    while (rs.next()) {\n        tag   =rs.getString(&quot;TAG&quot;).trim();\n        fieldMap.get(tag).set(dmsClass, rs.getString(&quot;value&quot;));\n    }\n}\n}\n</code></pre>\n"}],"owner":{"account_id":4465040,"reputation":175,"user_id":6695579,"accept_rate":0,"display_name":"Antonio Roque"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":262,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656948588,"creation_date":1656945442,"question_id":72858426,"body_markdown":"I looking for more &quot;improved way&quot; of doing this, i have this method that get&#180;s all record&#180;s from one id , and then &quot;maps&quot; then into a class, I have about 200 &quot;tags&quot; to map , it will a very very long chain of if&#180;s ...example  :\r\n        \r\n                        Connection conn = ServerJDBCConnection.getInstance().getConnection(....);\r\n                        PreparedStatement pstmt = null;\r\n                        ResultSet rs = null;\r\n                        StringBuffer SQL = new StringBuffer(&quot;&quot;);\r\n\r\n                        SQL.append(&quot; select tag,value from dms_table where id =?&quot;); \r\n                        pstmt = conn.prepareStatement(SQL.toString());\r\n                        pstmt.setString(1, myid);\r\n                                \r\n                        DMSClass dmsClass = new DMSClass(myid);\r\n                        String tag   = &quot;&quot;;\r\n                        \r\n                        rs = pstmt.executeQuery();\r\n                        while (rs.next()) {\r\n                                        tag   =rs.getString(&quot;TAG&quot;).trim();\r\n                         \r\n                                        if (tag.equals(&quot;Q1&quot;))\r\n                                                dmsClass.setQ1(rs.getString(&quot;value&quot;));\r\n                                        \r\n                                        if (tag.equals(&quot;Q2&quot;))\r\n                                                dmsClass.setQ2(rs.getString(&quot;value&quot;));\r\n                                        \r\n                                        if (tag.equals(&quot;Q3&quot;))\r\n                                                dmsClass.setQ3(rs.getString(&quot;value&quot;));\r\n                                        \r\n                                        if (tag.equals(&quot;Q4&quot;))\r\n                                                dmsClass.setQ4(rs.getString(&quot;value&quot;));\r\n                                        .....\r\n                        }\r\n     ","title":"how to map a resultset field&#39;s into a class field&#180;s","body":"<p>I looking for more &quot;improved way&quot; of doing this, i have this method that get´s all record´s from one id , and then &quot;maps&quot; then into a class, I have about 200 &quot;tags&quot; to map , it will a very very long chain of if´s ...example  :</p>\n<pre><code>                    Connection conn = ServerJDBCConnection.getInstance().getConnection(....);\n                    PreparedStatement pstmt = null;\n                    ResultSet rs = null;\n                    StringBuffer SQL = new StringBuffer(&quot;&quot;);\n\n                    SQL.append(&quot; select tag,value from dms_table where id =?&quot;); \n                    pstmt = conn.prepareStatement(SQL.toString());\n                    pstmt.setString(1, myid);\n                            \n                    DMSClass dmsClass = new DMSClass(myid);\n                    String tag   = &quot;&quot;;\n                    \n                    rs = pstmt.executeQuery();\n                    while (rs.next()) {\n                                    tag   =rs.getString(&quot;TAG&quot;).trim();\n                     \n                                    if (tag.equals(&quot;Q1&quot;))\n                                            dmsClass.setQ1(rs.getString(&quot;value&quot;));\n                                    \n                                    if (tag.equals(&quot;Q2&quot;))\n                                            dmsClass.setQ2(rs.getString(&quot;value&quot;));\n                                    \n                                    if (tag.equals(&quot;Q3&quot;))\n                                            dmsClass.setQ3(rs.getString(&quot;value&quot;));\n                                    \n                                    if (tag.equals(&quot;Q4&quot;))\n                                            dmsClass.setQ4(rs.getString(&quot;value&quot;));\n                                    .....\n                    }\n \n</code></pre>\n"},{"tags":["java","spring","spring-mvc","thymeleaf"],"answers":[{"tags":[],"owner":{"account_id":16312931,"reputation":266,"user_id":11781006,"display_name":"Patrick Zamarian"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1592572808,"creation_date":1592572808,"answer_id":62471210,"question_id":62470752,"body_markdown":"&gt; Thymeleaf Template in src/resources/templates/new-short-url-form.html\r\n\r\nThe path for templates should be src/**main**/resources/templates/","title":"Thymeleaf Controller Not Rendering","body":"<blockquote>\n  <p>Thymeleaf Template in src/resources/templates/new-short-url-form.html</p>\n</blockquote>\n\n<p>The path for templates should be src/<strong>main</strong>/resources/templates/</p>\n"},{"tags":[],"owner":{"account_id":1504399,"reputation":1046,"user_id":1408156,"accept_rate":27,"display_name":"stk1234"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1592584334,"creation_date":1592575882,"answer_id":62472128,"question_id":62470752,"body_markdown":"I realized my editor wasn&#39;t picking up the view name. I have no idea, why, as the folder structure seemed correct. I tried renaming it to &quot;some-form&quot; and it suddenly works. Not sure if there is a length restriction on html file names top be picked up. \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/sJlyl.png","title":"Thymeleaf Controller Not Rendering","body":"<p>I realized my editor wasn't picking up the view name. I have no idea, why, as the folder structure seemed correct. I tried renaming it to \"some-form\" and it suddenly works. Not sure if there is a length restriction on html file names top be picked up. </p>\n\n<p><a href=\"https://i.stack.imgur.com/sJlyl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sJlyl.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":5573654,"reputation":5164,"user_id":4417924,"display_name":"Jason"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1592576420,"creation_date":1592576420,"answer_id":62472282,"question_id":62470752,"body_markdown":"You&#39;re using a `GetMapping` instead of a `RequestMapping`. Use `RequestMapping` if you expect to provide a template. `GetMapping` is only for a get request which explains why you&#39;re receiving the literal String and not the template.","title":"Thymeleaf Controller Not Rendering","body":"<p>You're using a <code>GetMapping</code> instead of a <code>RequestMapping</code>. Use <code>RequestMapping</code> if you expect to provide a template. <code>GetMapping</code> is only for a get request which explains why you're receiving the literal String and not the template.</p>\n"},{"tags":[],"owner":{"account_id":10681943,"reputation":167,"user_id":10430513,"display_name":"Zishan Khan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1593406056,"creation_date":1593406056,"answer_id":62631377,"question_id":62470752,"body_markdown":"\r\nTry using ModelAndView\r\n\r\n\r\n    @Controller \r\n    @RequestMapping(&quot;/api/v1&quot;) \r\n    public class UrlShorteningController {\r\n    \r\n        @GetMapping(&quot;/create_short_url&quot;)\r\n    public ModelAndView newShortUrl() {\r\n     ModelAndView modelAndView = new ModelAndView();\r\n        System.out.println(&quot;^^^^^^^&quot;);\r\n    modelAndView.addObject(&quot;longUrl&quot;,\r\n            new String());\r\n    modelAndView.setViewName(&quot;new-short-url-form&quot;)\r\n    return modelAndView;\r\n    }\r\n\r\n\r\nAnd replace your `html` tag with `&lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;` ","title":"Thymeleaf Controller Not Rendering","body":"<p>Try using ModelAndView</p>\n<pre><code>@Controller \n@RequestMapping(&quot;/api/v1&quot;) \npublic class UrlShorteningController {\n\n    @GetMapping(&quot;/create_short_url&quot;)\npublic ModelAndView newShortUrl() {\n ModelAndView modelAndView = new ModelAndView();\n    System.out.println(&quot;^^^^^^^&quot;);\nmodelAndView.addObject(&quot;longUrl&quot;,\n        new String());\nmodelAndView.setViewName(&quot;new-short-url-form&quot;)\nreturn modelAndView;\n}\n</code></pre>\n<p>And replace your <code>html</code> tag with <code>&lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;</code></p>\n"}],"owner":{"account_id":1504399,"reputation":1046,"user_id":1408156,"accept_rate":27,"display_name":"stk1234"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1440,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1656947011,"creation_date":1592571182,"question_id":62470752,"body_markdown":"UPDATE: Switched the annotation from @RestController to @Controller and now I simply get a 404 when trying to hit http://localhost:8080/api/v1/create_short_url. I added a System.out.println into the controller and see it being printed, so I know it&#39;s making it into the controller. I think it just can&#39;t find the template. \r\n\r\n    @Controller \r\n    @RequestMapping(&quot;/api/v1&quot;) \r\n    public class UrlShorteningController {\r\n\r\n        @GetMapping(&quot;/create_short_url&quot;)\r\n    public String newShortUrl(Model model) {\r\n        System.out.println(&quot;^^^^^^^&quot;);\r\n        model.addAttribute(&quot;longUrl&quot;,\r\n            new String());\r\n        return &quot;new-short-url-form&quot;;\r\n    }\r\n\r\nRequest \r\n[![enter image description here][1]][1]\r\n\r\n\r\n---------------------------------------------------------------------\r\n\r\nI have the a controller which I expect to render an HTML template. Instead, it just returns the name of the controller. What am I doing wrong here? \r\n\r\n**Actual**:\r\n[![Actual][2]][2]\r\n\r\n**Expected**:\r\nRendering of the html page\r\n\r\n### Code ###\r\n[![enter image description here][3]][3]\r\n\r\nController in src/main/java/com/example/urlshortener/api/UrlShorteningController.java:\r\n\r\n    @RestController\r\n    ....\r\n    @GetMapping(&quot;/create_short_url&quot;)\r\n    public String newShortUrl(Model model) {\r\n        model.addAttribute(&quot;longUrl&quot;,\r\n            new String());\r\n        return &quot;new-short-url-form&quot;;\r\n    }\r\n\r\nbuild.gradle:\r\n\r\n    ... \r\n    dependencies {\r\n    ...\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-thymeleaf&#39;\r\n    ...\r\n    }\r\n\r\n\r\nThymeleaf Template in src/main/resources/templates/new-short-url-form.html\r\n\r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.w3.org/1999/xhtml&quot;&gt;\r\n    &lt;head&gt;\r\n        &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n        &lt;title&gt;New Short Url&lt;/title&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n    &lt;form method=&quot;POST&quot; th:action=&quot;@{/create_short_url_thymeleaf}&quot; th:object=&quot;${String}&quot;&gt;\r\n        &lt;h1&gt;Enter a url to shorten&lt;/h1&gt;\r\n        &lt;input type=&quot;text&quot; id=&quot;longUrl&quot; th:field=&quot;*{String}&quot;/&gt;\r\n    &lt;/form&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n     \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/k0M0f.png\r\n  [2]: https://i.stack.imgur.com/WUiQ4.png\r\n  [3]: https://i.stack.imgur.com/rapuB.png","title":"Thymeleaf Controller Not Rendering","body":"<p>UPDATE: Switched the annotation from @RestController to @Controller and now I simply get a 404 when trying to hit <a href=\"http://localhost:8080/api/v1/create_short_url\" rel=\"nofollow noreferrer\">http://localhost:8080/api/v1/create_short_url</a>. I added a System.out.println into the controller and see it being printed, so I know it's making it into the controller. I think it just can't find the template. </p>\n\n<pre><code>@Controller \n@RequestMapping(\"/api/v1\") \npublic class UrlShorteningController {\n\n    @GetMapping(\"/create_short_url\")\npublic String newShortUrl(Model model) {\n    System.out.println(\"^^^^^^^\");\n    model.addAttribute(\"longUrl\",\n        new String());\n    return \"new-short-url-form\";\n}\n</code></pre>\n\n<p>Request \n<a href=\"https://i.stack.imgur.com/k0M0f.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/k0M0f.png\" alt=\"enter image description here\"></a></p>\n\n<hr>\n\n<p>I have the a controller which I expect to render an HTML template. Instead, it just returns the name of the controller. What am I doing wrong here? </p>\n\n<p><strong>Actual</strong>:\n<a href=\"https://i.stack.imgur.com/WUiQ4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WUiQ4.png\" alt=\"Actual\"></a></p>\n\n<p><strong>Expected</strong>:\nRendering of the html page</p>\n\n<h3>Code</h3>\n\n<p><a href=\"https://i.stack.imgur.com/rapuB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rapuB.png\" alt=\"enter image description here\"></a></p>\n\n<p>Controller in src/main/java/com/example/urlshortener/api/UrlShorteningController.java:</p>\n\n<pre><code>@RestController\n....\n@GetMapping(\"/create_short_url\")\npublic String newShortUrl(Model model) {\n    model.addAttribute(\"longUrl\",\n        new String());\n    return \"new-short-url-form\";\n}\n</code></pre>\n\n<p>build.gradle:</p>\n\n<pre><code>... \ndependencies {\n...\n    implementation 'org.springframework.boot:spring-boot-starter-thymeleaf'\n...\n}\n</code></pre>\n\n<p>Thymeleaf Template in src/main/resources/templates/new-short-url-form.html</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\" xmlns:th=\"http://www.w3.org/1999/xhtml\"&gt;\n&lt;head&gt;\n    &lt;meta charset=\"UTF-8\"&gt;\n    &lt;title&gt;New Short Url&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;form method=\"POST\" th:action=\"@{/create_short_url_thymeleaf}\" th:object=\"${String}\"&gt;\n    &lt;h1&gt;Enter a url to shorten&lt;/h1&gt;\n    &lt;input type=\"text\" id=\"longUrl\" th:field=\"*{String}\"/&gt;\n&lt;/form&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":14283811,"reputation":6405,"user_id":10317684,"display_name":"Ricky Mo"},"score":0,"creation_date":1630481797,"post_id":69009368,"comment_id":121964421,"body_markdown":"Are the files created by your app meaningful to other application? If not, removing them along with uninstallation is a better practice. Make a proper backup/restore feature in your app to export/import the data if you really need to. That being said, you can still use the [shared storage](https://developer.android.com/training/data-storage/shared)","body":"Are the files created by your app meaningful to other application? If not, removing them along with uninstallation is a better practice. Make a proper backup/restore feature in your app to export/import the data if you really need to. That being said, you can still use the <a href=\"https://developer.android.com/training/data-storage/shared\" rel=\"nofollow noreferrer\">shared storage</a>"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1630482270,"post_id":69009368,"comment_id":121964610,"body_markdown":"`access to the external sd card storage. We are creating folder in that location` Two times unclear. Do you mean a removable micro sd card? And which location exactly?","body":"<code>access to the external sd card storage. We are creating folder in that location</code> Two times unclear. Do you mean a removable micro sd card? And which location exactly?"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1630482791,"post_id":69009368,"comment_id":121964829,"body_markdown":"`with scoped storage all the data in the apps internal storage will be deleted` No  you can set a flag in manifest file and doing so the user is asked at uninstall if private data should be kept.","body":"<code>with scoped storage all the data in the apps internal storage will be deleted</code> No  you can set a flag in manifest file and doing so the user is asked at uninstall if private data should be kept."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1630484347,"post_id":69009368,"comment_id":121965438,"body_markdown":"`The customer support team will be there who will manage this storage and push files to this location manually.` That i do not understand. I thought the app would create its files. How can they be equal to what support has?","body":"<code>The customer support team will be there who will manage this storage and push files to this location manually.</code> That i do not understand. I thought the app would create its files. How can they be equal to what support has?"},{"owner":{"account_id":15283965,"reputation":159,"user_id":11027500,"display_name":"vijaya zararia"},"score":0,"creation_date":1630486279,"post_id":69009368,"comment_id":121966181,"body_markdown":"App files generated by our app is not meaningful to other app. But those files contains the configuration files of some hardware and uninstalling the app will delete all this file if we opt for scoped storage, but we cannot afford deleting these files and losing all our configured data.","body":"App files generated by our app is not meaningful to other app. But those files contains the configuration files of some hardware and uninstalling the app will delete all this file if we opt for scoped storage, but we cannot afford deleting these files and losing all our configured data."},{"owner":{"account_id":15283965,"reputation":159,"user_id":11027500,"display_name":"vijaya zararia"},"score":0,"creation_date":1630486428,"post_id":69009368,"comment_id":121966232,"body_markdown":"Yes, we are creating one folder under shared storage","body":"Yes, we are creating one folder under shared storage"},{"owner":{"account_id":15283965,"reputation":159,"user_id":11027500,"display_name":"vijaya zararia"},"score":0,"creation_date":1630486542,"post_id":69009368,"comment_id":121966286,"body_markdown":"There are multiple ways of file stored in our app shared storage folder. Some files are generated from the app itself but some are manually pushed into the created folder.","body":"There are multiple ways of file stored in our app shared storage folder. Some files are generated from the app itself but some are manually pushed into the created folder."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1630486854,"post_id":69009368,"comment_id":121966407,"body_markdown":"I have no idea what you mean by shared storage. Please mention full path. And you did not react on `removable micro sd card`. You are supposed to react on all comments. We have to know what you do.","body":"I have no idea what you mean by shared storage. Please mention full path. And you did not react on <code>removable micro sd card</code>. You are supposed to react on all comments. We have to know what you do."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1630486962,"post_id":69009368,"comment_id":121966452,"body_markdown":"`App files generated by our app is not meaningful to other app. But those files contains the configuration files of some hardware and uninstalling the app will delete all this file if we opt for scoped storage, but we cannot afford deleting these files and losing all our configured data.` Yes that we know already. That was the problem described in your post. Why are you repeating it? Better react on the things i ask you to explain. Are you telling that support will push files to scoped storage (apps private storage)?","body":"<code>App files generated by our app is not meaningful to other app. But those files contains the configuration files of some hardware and uninstalling the app will delete all this file if we opt for scoped storage, but we cannot afford deleting these files and losing all our configured data.</code> Yes that we know already. That was the problem described in your post. Why are you repeating it? Better react on the things i ask you to explain. Are you telling that support will push files to scoped storage (apps private storage)?"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1630487119,"post_id":69009368,"comment_id":121966524,"body_markdown":"You better explain how all starts. Is it that for all new devices your app is installed and support pushes files to them? Then what about files create by your app? I asked if they were different ones but you did not react.","body":"You better explain how all starts. Is it that for all new devices your app is installed and support pushes files to them? Then what about files create by your app? I asked if they were different ones but you did not react."}],"answers":[{"tags":[],"owner":{"account_id":10719206,"reputation":34,"user_id":7888825,"display_name":"Kunal Pandey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1630481279,"creation_date":1630481279,"answer_id":69009461,"question_id":69009368,"body_markdown":"As per new guidelines, we don&#39;t require permissions for Version 10 and above. Please check scoped storage in android - https://developer.android.com/about/versions/11/privacy/storage","title":"ALL FILE ACCESS permission for android app","body":"<p>As per new guidelines, we don't require permissions for Version 10 and above. Please check scoped storage in android - <a href=\"https://developer.android.com/about/versions/11/privacy/storage\" rel=\"nofollow noreferrer\">https://developer.android.com/about/versions/11/privacy/storage</a></p>\n"},{"tags":[],"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1630484007,"creation_date":1630484007,"answer_id":69010079,"question_id":69009368,"body_markdown":"There are at least five scenarios to get what you want.\r\n\r\n1. Add `android:hasFragileUserData=&quot;true&quot;` to application tag in manifest file. At uninstall the user will be asked to preserve data. The user can spoil it, yes.\r\n\r\n2. Create a folder in public Documents directory and write your files there using classic file means. After reinstall let the user choose the folder with `ACTION_OPEN_DOCUMENT_TREE`. You have full access to the files using further `Storage Access Framework` methods.\r\n\r\n3. The same as 2. but now using Storage Access Framework to create folders and files.\r\n\r\n4. The same as 2. but now using the MediaStore to create folder and files.\r\n\r\n5. Hmmm.. at the moment it wil not come to mind .. ;-)\r\n","title":"ALL FILE ACCESS permission for android app","body":"<p>There are at least five scenarios to get what you want.</p>\n<ol>\n<li><p>Add <code>android:hasFragileUserData=&quot;true&quot;</code> to application tag in manifest file. At uninstall the user will be asked to preserve data. The user can spoil it, yes.</p>\n</li>\n<li><p>Create a folder in public Documents directory and write your files there using classic file means. After reinstall let the user choose the folder with <code>ACTION_OPEN_DOCUMENT_TREE</code>. You have full access to the files using further <code>Storage Access Framework</code> methods.</p>\n</li>\n<li><p>The same as 2. but now using Storage Access Framework to create folders and files.</p>\n</li>\n<li><p>The same as 2. but now using the MediaStore to create folder and files.</p>\n</li>\n<li><p>Hmmm.. at the moment it wil not come to mind .. ;-)</p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":25724011,"reputation":1,"user_id":19480639,"display_name":"Ken"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1656946957,"creation_date":1656946957,"answer_id":72858724,"question_id":69009368,"body_markdown":"On a Samsung Galaxy Tab S8, with a One Terabyte SD card, note that it takes a little while after boot for the card to get fully mounted.\r\n\r\nIf one opens the app too quickly, you will get this message.\r\n\r\nFix:  when you boot the tablet, check the SD card in a file manager.  If it is there and shows free space, you will be able to use it.","title":"ALL FILE ACCESS permission for android app","body":"<p>On a Samsung Galaxy Tab S8, with a One Terabyte SD card, note that it takes a little while after boot for the card to get fully mounted.</p>\n<p>If one opens the app too quickly, you will get this message.</p>\n<p>Fix:  when you boot the tablet, check the SD card in a file manager.  If it is there and shows free space, you will be able to use it.</p>\n"}],"owner":{"account_id":15283965,"reputation":159,"user_id":11027500,"display_name":"vijaya zararia"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3239,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1656946957,"creation_date":1630480900,"question_id":69009368,"body_markdown":"I am changing target sdk to 30 for my project but little bothering about using ALL FILE ACCESS permission in the code. As per the google, apps who are using this permission without any proper usage will be removed from the play store. But my app needs access to the external sd card storage. We are creating folder in that location and placing all the app related files there. We don&#39;t have any application server so we cannot even implement scoped storage because with scoped storage all the data in the apps internal storage will be deleted.Once this data is deleted, it can resync from app server and restore all the data but we cannot do this , our app is offline so we are using this external storage. The customer support team will be there who will manage this storage and push files to this location manually. All our devices configuration will be saved there. So we don&#39;t want it to get deleted even the app is removed. So what should I do here? Should I continue implementing ALL FILE ACCESS permission in the android code? Will the app be removed?\r\n","title":"ALL FILE ACCESS permission for android app","body":"<p>I am changing target sdk to 30 for my project but little bothering about using ALL FILE ACCESS permission in the code. As per the google, apps who are using this permission without any proper usage will be removed from the play store. But my app needs access to the external sd card storage. We are creating folder in that location and placing all the app related files there. We don't have any application server so we cannot even implement scoped storage because with scoped storage all the data in the apps internal storage will be deleted.Once this data is deleted, it can resync from app server and restore all the data but we cannot do this , our app is offline so we are using this external storage. The customer support team will be there who will manage this storage and push files to this location manually. All our devices configuration will be saved there. So we don't want it to get deleted even the app is removed. So what should I do here? Should I continue implementing ALL FILE ACCESS permission in the android code? Will the app be removed?</p>\n"},{"tags":["java","spring-boot","eclipse","spring-tool-suite"],"comments":[{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1656667344,"post_id":72826807,"comment_id":128633296,"body_markdown":"Did you do a rebuild?","body":"Did you do a rebuild?"},{"owner":{"account_id":3614596,"reputation":2212,"user_id":3014817,"display_name":"Shailesh Chandra"},"score":0,"creation_date":1656670001,"post_id":72826807,"comment_id":128634201,"body_markdown":"can you also  provide details of your target folder (assuming you are using maven)  or build output","body":"can you also  provide details of your target folder (assuming you are using maven)  or build output"},{"owner":{"account_id":7938311,"reputation":537,"user_id":6164682,"display_name":"sub"},"score":0,"creation_date":1656671926,"post_id":72826807,"comment_id":128634870,"body_markdown":"@SimonMartinelli Yes, I tried that... but didn&#39;t help","body":"@SimonMartinelli Yes, I tried that... but didn&#39;t help"},{"owner":{"account_id":7938311,"reputation":537,"user_id":6164682,"display_name":"sub"},"score":0,"creation_date":1656672252,"post_id":72826807,"comment_id":128634969,"body_markdown":"@ShaileshChandra it is having \n\n`target\n\tgenerated-sources\n\t\tannotations\n\tgenerated-test-sources\n\t\ttest-annotations\n\tmaven-status\n\t\tmaven-compiler-plugin`","body":"@ShaileshChandra it is having   <code>target \tgenerated-sources \t\tannotations \tgenerated-test-sources \t\ttest-annotations \tmaven-status \t\tmaven-compiler-plugin</code>"},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1656676159,"post_id":72826807,"comment_id":128636142,"body_markdown":"and you can see the config directory in target/classes/config?","body":"and you can see the config directory in target/classes/config?"},{"owner":{"account_id":7938311,"reputation":537,"user_id":6164682,"display_name":"sub"},"score":0,"creation_date":1656678631,"post_id":72826807,"comment_id":128637000,"body_markdown":"I don&#39;t see the target/classes folder","body":"I don&#39;t see the target/classes folder"},{"owner":{"account_id":3614596,"reputation":2212,"user_id":3014817,"display_name":"Shailesh Chandra"},"score":0,"creation_date":1656743631,"post_id":72826807,"comment_id":128650903,"body_markdown":"I think you don’t have a JDK configured for your eclipse","body":"I think you don’t have a JDK configured for your eclipse"},{"owner":{"account_id":7938311,"reputation":537,"user_id":6164682,"display_name":"sub"},"score":0,"creation_date":1656779157,"post_id":72826807,"comment_id":128656967,"body_markdown":"I had already configured JDK in window-&gt;preferences-&gt;Java-&gt;installed JREs... do you mean the same or something else?","body":"I had already configured JDK in window-&gt;preferences-&gt;Java-&gt;installed JREs... do you mean the same or something else?"},{"owner":{"account_id":3614596,"reputation":2212,"user_id":3014817,"display_name":"Shailesh Chandra"},"score":0,"creation_date":1657799713,"post_id":72826807,"comment_id":128899170,"body_markdown":"is your problem solved with below answer, I upvoted it, as I think it fits your problem","body":"is your problem solved with below answer, I upvoted it, as I think it fits your problem"}],"answers":[{"tags":[],"owner":{"account_id":2082386,"reputation":6063,"user_id":1854124,"display_name":"Martin Lippert"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1656946607,"creation_date":1656946607,"answer_id":72858655,"question_id":72826807,"body_markdown":"I tried this myself with a simple Spring Boot project inside of Spring Tools 4 on Eclipse and the underlying mechanism of Spring Boot seems to work fine.\r\n\r\nThe config file is picked up from `src/main/resources` as well as `src/main/resources/config`. But you have to keep in mind that Spring Boot maps the identifier that you have in the name behind the `application-` to the active profiles. So the file `application-test.yml` will only be taken into account when you have the setting `spring.profiles.active=test` active (https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#features.external-config.files.profile-specific). This allows you to have multiple property files for various environments around.\r\n\r\nIn case you have a totally different name for your config file, you need to specify that via `spring.config.name`.\r\n\r\nMore details can be found here:\r\nhttps://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#features.external-config.files","title":"How to configure eclipse to pick config file?","body":"<p>I tried this myself with a simple Spring Boot project inside of Spring Tools 4 on Eclipse and the underlying mechanism of Spring Boot seems to work fine.</p>\n<p>The config file is picked up from <code>src/main/resources</code> as well as <code>src/main/resources/config</code>. But you have to keep in mind that Spring Boot maps the identifier that you have in the name behind the <code>application-</code> to the active profiles. So the file <code>application-test.yml</code> will only be taken into account when you have the setting <code>spring.profiles.active=test</code> active (<a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#features.external-config.files.profile-specific\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#features.external-config.files.profile-specific</a>). This allows you to have multiple property files for various environments around.</p>\n<p>In case you have a totally different name for your config file, you need to specify that via <code>spring.config.name</code>.</p>\n<p>More details can be found here:\n<a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#features.external-config.files\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#features.external-config.files</a></p>\n"}],"owner":{"account_id":7938311,"reputation":537,"user_id":6164682,"display_name":"sub"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":570,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1656946607,"creation_date":1656665968,"question_id":72826807,"body_markdown":"I am using eclipse for spring boot development. In my project, the environment configuration file is inside in the config folder in resources folder. But when I run eclipse it is not picking the files.\r\n\r\nAs per spring documentation, the configuration files can be in config folder.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n- **Eclipse version:** 2022-06 (4.24.0)\r\n- **Spring boot version:** 2.6.8\r\n- **working:** project/src/main/resources/application-test.yaml\r\n- **not working:** project/src/main/resources/config/application-test.yaml\r\n- **not working:** project/src/main/resources/config/some-other-config.yaml\r\n\r\ncould you please suggest how to make eclipse support this one?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/eEiSW.jpg","title":"How to configure eclipse to pick config file?","body":"<p>I am using eclipse for spring boot development. In my project, the environment configuration file is inside in the config folder in resources folder. But when I run eclipse it is not picking the files.</p>\n<p>As per spring documentation, the configuration files can be in config folder.</p>\n<p><a href=\"https://i.stack.imgur.com/eEiSW.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eEiSW.jpg\" alt=\"enter image description here\" /></a></p>\n<ul>\n<li><strong>Eclipse version:</strong> 2022-06 (4.24.0)</li>\n<li><strong>Spring boot version:</strong> 2.6.8</li>\n<li><strong>working:</strong> project/src/main/resources/application-test.yaml</li>\n<li><strong>not working:</strong> project/src/main/resources/config/application-test.yaml</li>\n<li><strong>not working:</strong> project/src/main/resources/config/some-other-config.yaml</li>\n</ul>\n<p>could you please suggest how to make eclipse support this one?</p>\n"},{"tags":["java","android","replace"],"answers":[{"tags":[],"owner":{"account_id":9791561,"reputation":577,"user_id":7255999,"display_name":"Muhammad Muzammil Sharif"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656945901,"creation_date":1656945553,"answer_id":72858455,"question_id":72858351,"body_markdown":"An apk can contain only one manifest when we use multiple dependencies/libraries/modules which has their own manifest files then during building the application, gradle marges all the manifests to one, during merging if one or more dependencies has some conflict then this error comes up [read this article for more][1] \r\n\r\n\r\n  [1]: https://developer.android.com/studio/build/manage-manifests#merge-manifests","title":"Adroid Studio: what is the difference in tools:replace and tools:ignore mean in the AndroidManifest","body":"<p>An apk can contain only one manifest when we use multiple dependencies/libraries/modules which has their own manifest files then during building the application, gradle marges all the manifests to one, during merging if one or more dependencies has some conflict then this error comes up <a href=\"https://developer.android.com/studio/build/manage-manifests#merge-manifests\" rel=\"nofollow noreferrer\">read this article for more</a></p>\n"},{"tags":[],"owner":{"account_id":16095471,"reputation":2336,"user_id":11617754,"display_name":"Mohamed Rejeb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656946497,"creation_date":1656946497,"answer_id":72858635,"question_id":72858351,"body_markdown":"Your app can only have one single manifest file, but every library you add to your app can have it&#39;s own manifest file, also when you work with multiple module project every module can have it&#39;s own manifest file, so when you build you app, all those manifest files are going to be merged into a single file.\r\nYou main manifest file has higher priority, so you can force what parameters should be passed and replace parameters of other manifest files with `tools:replace`, let&#39;s say for example that you have two manifest files.\r\n\r\n**Low priority manifest ( from a library) :**\r\n\r\n    &lt;activity android:name=&quot;com.example.ActivityOne&quot;\r\n        android:theme=&quot;@oldtheme&quot;\r\n        android:exported=&quot;false&quot;\r\n        android:windowSoftInputMode=&quot;stateUnchanged&quot;&gt;\r\n\r\n**High priority manifest ( your main manifest ):**\r\n\r\n    &lt;activity android:name=&quot;com.example.ActivityOne&quot;\r\n        android:theme=&quot;@newtheme&quot;\r\n        android:exported=&quot;true&quot;\r\n        android:screenOrientation=&quot;portrait&quot;\r\n        tools:replace=&quot;android:theme,android:exported&quot;&gt;\r\n\r\nHere in your main manifest file, you are forcing the `android:theme` and `android:exported` of your main manifest file so the merged manifest result will be like that:\r\n\r\n    &lt;activity android:name=&quot;com.example.ActivityOne&quot;\r\n        android:theme=&quot;@newtheme&quot;\r\n        android:exported=&quot;true&quot;\r\n        android:screenOrientation=&quot;portrait&quot;\r\n        android:windowSoftInputMode=&quot;stateUnchanged&quot;&gt;\r\n\r\nThese examples are from google documentation [here][1]\r\n\r\n\r\n\r\n\r\n\r\nNow for the attribute `tools:ignore`, it can be used in xml files to dismiss lint warnings. It&#39;s not fixing any problem but just hiding the error and ignoring it. So fixing problems with this technique is most of the time the wrong way to proceed so when you use it. You should have a strong reason to ignore that error (i.e. requesting the protected permission and ignoring the lint warning because you know that in your case the permission will be granted)\r\n\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n          xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n          ...&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.SET_TIME&quot;\r\n            tools:ignore=&quot;ProtectedPermissions&quot;/&gt;\r\n\r\nYou can read about `tools:ignore` in google documentation [here][2]\r\n\r\n\r\n  [1]: https://developer.android.com/studio/build/manage-manifests\r\n  [2]: https://developer.android.com/studio/write/tool-attributes#toolsignore","title":"Adroid Studio: what is the difference in tools:replace and tools:ignore mean in the AndroidManifest","body":"<p>Your app can only have one single manifest file, but every library you add to your app can have it's own manifest file, also when you work with multiple module project every module can have it's own manifest file, so when you build you app, all those manifest files are going to be merged into a single file.\nYou main manifest file has higher priority, so you can force what parameters should be passed and replace parameters of other manifest files with <code>tools:replace</code>, let's say for example that you have two manifest files.</p>\n<p><strong>Low priority manifest ( from a library) :</strong></p>\n<pre><code>&lt;activity android:name=&quot;com.example.ActivityOne&quot;\n    android:theme=&quot;@oldtheme&quot;\n    android:exported=&quot;false&quot;\n    android:windowSoftInputMode=&quot;stateUnchanged&quot;&gt;\n</code></pre>\n<p><strong>High priority manifest ( your main manifest ):</strong></p>\n<pre><code>&lt;activity android:name=&quot;com.example.ActivityOne&quot;\n    android:theme=&quot;@newtheme&quot;\n    android:exported=&quot;true&quot;\n    android:screenOrientation=&quot;portrait&quot;\n    tools:replace=&quot;android:theme,android:exported&quot;&gt;\n</code></pre>\n<p>Here in your main manifest file, you are forcing the <code>android:theme</code> and <code>android:exported</code> of your main manifest file so the merged manifest result will be like that:</p>\n<pre><code>&lt;activity android:name=&quot;com.example.ActivityOne&quot;\n    android:theme=&quot;@newtheme&quot;\n    android:exported=&quot;true&quot;\n    android:screenOrientation=&quot;portrait&quot;\n    android:windowSoftInputMode=&quot;stateUnchanged&quot;&gt;\n</code></pre>\n<p>These examples are from google documentation <a href=\"https://developer.android.com/studio/build/manage-manifests\" rel=\"nofollow noreferrer\">here</a></p>\n<p>Now for the attribute <code>tools:ignore</code>, it can be used in xml files to dismiss lint warnings. It's not fixing any problem but just hiding the error and ignoring it. So fixing problems with this technique is most of the time the wrong way to proceed so when you use it. You should have a strong reason to ignore that error (i.e. requesting the protected permission and ignoring the lint warning because you know that in your case the permission will be granted)</p>\n<pre><code>&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n      xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n      ...&gt;\n    &lt;uses-permission android:name=&quot;android.permission.SET_TIME&quot;\n        tools:ignore=&quot;ProtectedPermissions&quot;/&gt;\n</code></pre>\n<p>You can read about <code>tools:ignore</code> in google documentation <a href=\"https://developer.android.com/studio/write/tool-attributes#toolsignore\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"account_id":25723657,"reputation":17,"user_id":19480325,"display_name":"Szabolcs Fekete"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1656946497,"creation_date":1656945041,"question_id":72858351,"body_markdown":"I&quot;ve just fixed a bug as &quot;Manifest Merger Failed&quot; with the help of this forum. \r\nThe solution was to change tools:replace into tools:ingore under the &lt;application in the AndroidManfifest.xlm.\r\nI am happy that it solved my problem but I want to learn what is the idea behind it, I&#39;ve just started coding.","title":"Adroid Studio: what is the difference in tools:replace and tools:ignore mean in the AndroidManifest","body":"<p>I&quot;ve just fixed a bug as &quot;Manifest Merger Failed&quot; with the help of this forum.\nThe solution was to change tools:replace into tools:ingore under the &lt;application in the AndroidManfifest.xlm.\nI am happy that it solved my problem but I want to learn what is the idea behind it, I've just started coding.</p>\n"},{"tags":["java","bpmn","camunda","camunda-modeler"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1656956275,"post_id":72858624,"comment_id":128691415,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":1612994,"reputation":7243,"user_id":1491439,"display_name":"rob2universe"},"score":0,"creation_date":1656992281,"post_id":72858624,"comment_id":128697545,"body_markdown":"I understand your issue is that the candidate group filter value does not get saved when you save the filter. Sorry, I cannot reproduce this on 7.17.0. Both filter criteria get saved when i save such a  filter. Try on 7.17.0? Or did I misunderstand the issue?","body":"I understand your issue is that the candidate group filter value does not get saved when you save the filter. Sorry, I cannot reproduce this on 7.17.0. Both filter criteria get saved when i save such a  filter. Try on 7.17.0? Or did I misunderstand the issue?"},{"owner":{"account_id":1612994,"reputation":7243,"user_id":1491439,"display_name":"rob2universe"},"score":0,"creation_date":1656992361,"post_id":72858624,"comment_id":128697555,"body_markdown":"cliff2310 and community - I have to disagree with your comments. The wording is not brilliant, but For someone who knows Camunda I believe the question is sufficiently clear.","body":"cliff2310 and community - I have to disagree with your comments. The wording is not brilliant, but For someone who knows Camunda I believe the question is sufficiently clear."},{"owner":{"account_id":25723521,"reputation":31,"user_id":19480206,"display_name":"Diego Yednak"},"score":0,"creation_date":1657027617,"post_id":72858624,"comment_id":128707932,"body_markdown":"try to consult the filter to make sure your criteria are really saved @rob2universe","body":"try to consult the filter to make sure your criteria are really saved @rob2universe"}],"owner":{"account_id":25723521,"reputation":31,"user_id":19480206,"display_name":"Diego Yednak"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":155,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1656946450,"creation_date":1656946450,"question_id":72858624,"body_markdown":"Camunda just saves the candidate user and discards the candidate group.\r\n\r\nAm I doing something wrong?\r\n\r\n[trying to save two criteria: candidate group and user][1]\r\n\r\n\r\n[save only one][2]\r\n\r\n  [1]: https://i.stack.imgur.com/gY6Bs.png\r\n  [2]: https://i.stack.imgur.com/L3aPj.png\r\n","title":"Camunda does not save filter with candidate group and candidate user","body":"<p>Camunda just saves the candidate user and discards the candidate group.</p>\n<p>Am I doing something wrong?</p>\n<p><a href=\"https://i.stack.imgur.com/gY6Bs.png\" rel=\"nofollow noreferrer\">trying to save two criteria: candidate group and user</a></p>\n<p><a href=\"https://i.stack.imgur.com/L3aPj.png\" rel=\"nofollow noreferrer\">save only one</a></p>\n"},{"tags":["java","spring","spring-boot","graalvm","graalvm-native-image"],"answers":[{"tags":[],"owner":{"account_id":25661568,"reputation":43,"user_id":19427242,"display_name":"BigMouse"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656946447,"creation_date":1656946447,"answer_id":72858622,"question_id":71558843,"body_markdown":"I don&#39;t have enough reputation to post a simple comment: my answer is not complete...\r\n\r\nFirst I think you should drop the notion of profile, it is recommended in the [official documentation][1]. Also, the concept of profile is contrary to the Ahead Of Time compilation. If you still want to, the documentation suggests to explicitly specify your active profiles in a configuration file. I guess with `spring.profiles.active=default,dev` for example. \r\n\r\nOn the other hand, I think you should specify on the command line the path of the configuration file with this option: `--spring.config.location=classpath:/default.properties,classpath:/override.properties`.\r\nSee [this other documentation][2]. \r\n\r\nIn an &quot;enterprise&quot; context, we don&#39;t include the configuration file in the .jar executable: the configuration is externalized. So I think that with a native image it&#39;s always the case. \r\n\r\nDon&#39;t hesitate to share your solution if you find one\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-native/docs/current/reference/htmlsingle/#aot-bean-factory-preparation\r\n  [2]: https://docs.spring.io/spring-boot/docs/1.0.1.RELEASE/reference/html/boot-features-external-config.html#boot-features-external-config","title":"Spring boot native configuration","body":"<p>I don't have enough reputation to post a simple comment: my answer is not complete...</p>\n<p>First I think you should drop the notion of profile, it is recommended in the <a href=\"https://docs.spring.io/spring-native/docs/current/reference/htmlsingle/#aot-bean-factory-preparation\" rel=\"nofollow noreferrer\">official documentation</a>. Also, the concept of profile is contrary to the Ahead Of Time compilation. If you still want to, the documentation suggests to explicitly specify your active profiles in a configuration file. I guess with <code>spring.profiles.active=default,dev</code> for example.</p>\n<p>On the other hand, I think you should specify on the command line the path of the configuration file with this option: <code>--spring.config.location=classpath:/default.properties,classpath:/override.properties</code>.\nSee <a href=\"https://docs.spring.io/spring-boot/docs/1.0.1.RELEASE/reference/html/boot-features-external-config.html#boot-features-external-config\" rel=\"nofollow noreferrer\">this other documentation</a>.</p>\n<p>In an &quot;enterprise&quot; context, we don't include the configuration file in the .jar executable: the configuration is externalized. So I think that with a native image it's always the case.</p>\n<p>Don't hesitate to share your solution if you find one</p>\n"}],"owner":{"account_id":1788336,"reputation":9155,"user_id":1629262,"accept_rate":77,"display_name":"doptimusprime"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1518,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1656946447,"creation_date":1647871065,"question_id":71558843,"body_markdown":"I am trying to migrate existing spring boot application to spring native. In this case, I have `application.properties` and `application-dev.properties`. \r\n\r\n    package com.test;\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import org.apache.http.impl.client.HttpClientBuilder;\r\n    import org.apache.http.impl.conn.PoolingHttpClientConnectionManager;\r\n    import org.springframework.beans.factory.annotation.Value;\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.boot.web.client.RestTemplateBuilder;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Primary;\r\n    import org.springframework.http.client.ClientHttpRequestInterceptor;\r\n    import org.springframework.http.client.HttpComponentsClientHttpRequestFactory;\r\n    import org.springframework.util.CollectionUtils;\r\n    import org.springframework.web.client.RestTemplate;\r\n    import com.test.RestTemplateHeaderModifierInterceptor;\r\n    \r\n    @SpringBootApplication(proxyBeanMethods = false)\r\n    public class TestApplication {\r\n    \r\n    \t@Value(&quot;${rest.template.connect.timeout}&quot;)\r\n    \tprivate Integer CONNECT_TIMEOUT;\r\n    \r\n    \t@Value(&quot;${rest.template.connect.request.timeout}&quot;)\r\n    \tprivate Integer CONNECT_REQUEST_TIMEOUT;\r\n    \r\n    \t@Value(&quot;${rest.template.read.timeout}&quot;)\r\n    \tprivate Integer READ_TIMEOUT;\r\n    \r\n    \t@Value(&quot;${rest.template.max.conn.per.route}&quot;)\r\n    \tprivate Integer MAX_CONN_PER_ROUTE;\r\n    \r\n    \t@Value(&quot;${rest.template.max.conn}&quot;)\r\n    \tprivate Integer MAX_CONN;\r\n    \r\n    \t@Value(&quot;${slow.rest.template.read.timeout}&quot;)\r\n    \tprivate Integer SLOW_READ_TIMEOUT;\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(TestApplication.class, args);\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \t@Primary\r\n    \tpublic RestTemplate restTemplate(RestTemplateBuilder builder) {\r\n    \t\treturn getRestTemplateWithTimeout(READ_TIMEOUT);\r\n    \t}\r\n    \r\n    \t@Bean(&quot;slowRestTemplate&quot;)\r\n    \tpublic RestTemplate slowRestTemplate(RestTemplateBuilder builder) {\r\n    \t\treturn getRestTemplateWithTimeout(SLOW_READ_TIMEOUT);\r\n    \t}\r\n    \r\n    \tprivate RestTemplate restTemplate(HttpComponentsClientHttpRequestFactory requestFactory) {\r\n    \t\tRestTemplate restTemplate = new RestTemplate(requestFactory);\r\n    \r\n    \t\tList&lt;ClientHttpRequestInterceptor&gt; interceptors = restTemplate.getInterceptors();\r\n    \t\tif (CollectionUtils.isEmpty(interceptors)) {\r\n    \t\t\tinterceptors = new ArrayList&lt;&gt;();\r\n    \t\t}\r\n    \t\tinterceptors.add(new RestTemplateHeaderModifierInterceptor());\r\n    \t\trestTemplate.setInterceptors(interceptors);\r\n    \t\treturn restTemplate;\r\n    \t}\r\n    \r\n    \r\n    \tprivate RestTemplate getRestTemplateWithTimeout(Integer readTimeout) {\r\n    \t\tHttpComponentsClientHttpRequestFactory requestFactory = getRequestFactory(readTimeout);\r\n    \t\treturn this.restTemplate(requestFactory);\r\n    \t}\r\n    \r\n    \tprivate HttpComponentsClientHttpRequestFactory getRequestFactory(Integer readTimeout) {\r\n    \t\tHttpComponentsClientHttpRequestFactory requestFactory = getConnectionSettings();\r\n    \t\trequestFactory.setReadTimeout(readTimeout);\r\n    \t\treturn requestFactory;\r\n    \t}\r\n    \r\n    \tprivate HttpComponentsClientHttpRequestFactory getConnectionSettings() {\r\n    \t\tPoolingHttpClientConnectionManager connectionManager = new PoolingHttpClientConnectionManager();\r\n    \t\tconnectionManager.setDefaultMaxPerRoute(MAX_CONN_PER_ROUTE);\r\n    \t\tconnectionManager.setMaxTotal(MAX_CONN);\r\n    \t\tHttpComponentsClientHttpRequestFactory requestFactory =\r\n    \t\t\t\tnew HttpComponentsClientHttpRequestFactory(\r\n    \t\t\t\t\t\tHttpClientBuilder.create().setConnectionManager(connectionManager).build());\r\n    \t\trequestFactory.setConnectionRequestTimeout(CONNECT_REQUEST_TIMEOUT);\r\n    \t\trequestFactory.setConnectTimeout(CONNECT_TIMEOUT);\r\n    \t\treturn requestFactory;\r\n    \t}\r\n    }\r\n\r\n \r\nAppConfig.java\r\n\r\n    @Configuration(proxyBeanMethods = false)\r\n    @Component\r\n    @EnableAspectJAutoProxy\r\n    @EnableAutoConfiguration\r\n    @EnableRetry\r\n    public class AppConfig {\r\n    }\r\n\r\nConfig.java\r\n\r\n    @Configuration(proxyBeanMethods = false)\r\n    @PropertySource(&quot;classpath:application-${environment_region}.properties&quot;)\r\n    public class Config {\r\n    \r\n      private Map&lt;String, String&gt; map = new HashMap&lt;String, String&gt;();\r\n    \r\n      public String get(String key) {\r\n        AnnotationConfigApplicationContext context =\r\n            new AnnotationConfigApplicationContext(Config.class);\r\n        ConfigurableEnvironment env = context.getEnvironment();\r\n        if (!map.containsKey(key) || map.get(key) == null) {\r\n          map.put(key, env.getProperty(key));\r\n        }\r\n        String propertyValue = map.get(key);\r\n        context.close();\r\n        return propertyValue;\r\n      }\r\n    }\r\n\r\nAfter building image using \r\n\r\n`./mvnw package -Pnative -DskipTests`\r\n\r\nwhen I am running the application, I am getting following error:\r\n\r\n    Caused by: java.lang.IllegalArgumentException: Could not resolve placeholder &#39;rest.template.connect.timeout&#39; in value &quot;${rest.template.connect.timeout}&quot;\r\n            at org.springframework.util.PropertyPlaceholderHelper.parseStringValue(PropertyPlaceholderHelper.java:180) ~[na:na]\r\n            at org.springframework.util.PropertyPlaceholderHelper.replacePlaceholders(PropertyPlaceholderHelper.java:126) ~[na:na]\r\n            at org.springframework.core.env.AbstractPropertyResolver.doResolvePlaceholders(AbstractPropertyResolver.java:239) ~[na:na]\r\n            at org.springframework.core.env.AbstractPropertyResolver.resolveRequiredPlaceholders(AbstractPropertyResolver.java:210) ~[na:na]\r\n            at org.springframework.context.support.PropertySourcesPlaceholderConfigurer.lambda$processProperties$0(PropertySourcesPlaceholderConfigurer.java:191) ~[na:na]\r\n            at org.springframework.beans.factory.support.AbstractBeanFactory.resolveEmbeddedValue(AbstractBeanFactory.java:936) ~[na:na]\r\n            at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1330) ~[na:na]\r\n            at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309) ~[na:na]\r\n            at org.springframework.aot.beans.factory.InjectedFieldResolver.resolve(InjectedFieldResolver.java:43) ~[na:na]\r\n            at org.springframework.aot.beans.factory.InjectedElementResolver.resolve(InjectedElementResolver.java:35) ~[na:na]\r\n            at org.springframework.aot.beans.factory.InjectedElementResolver.invoke(InjectedElementResolver.java:53) ~[na:na]\r\n            at com.oyo.boltkeeper.ContextBootstrapInitializer.lambda$registerBoltKeeperApplication$6(ContextBootstrapInitializer.java:15) ~[na:na]\r\n            at org.springframework.aot.beans.factory.BeanDefinitionRegistrar$ThrowableFunction.apply(BeanDefinitionRegistrar.java:294) ~[na:na]\r\n            at org.springframework.aot.beans.factory.BeanDefinitionRegistrar.lambda$instanceSupplier$0(BeanDefinitionRegistrar.java:115) ~[na:na]\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.obtainFromSupplier(AbstractAutowireCapableBeanFactory.java:1249) ~[na:na]\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1191) ~[na:na]\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[na:na]\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[na:na]\r\n            ... 13 common frames omitted\r\n\r\nWhat is the way to pass the configuration in spring boot native application? Or there is different way? Is something wrong being done here?\r\n","title":"Spring boot native configuration","body":"<p>I am trying to migrate existing spring boot application to spring native. In this case, I have <code>application.properties</code> and <code>application-dev.properties</code>.</p>\n<pre><code>package com.test;\n\nimport java.util.ArrayList;\nimport java.util.List;\nimport org.apache.http.impl.client.HttpClientBuilder;\nimport org.apache.http.impl.conn.PoolingHttpClientConnectionManager;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.web.client.RestTemplateBuilder;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Primary;\nimport org.springframework.http.client.ClientHttpRequestInterceptor;\nimport org.springframework.http.client.HttpComponentsClientHttpRequestFactory;\nimport org.springframework.util.CollectionUtils;\nimport org.springframework.web.client.RestTemplate;\nimport com.test.RestTemplateHeaderModifierInterceptor;\n\n@SpringBootApplication(proxyBeanMethods = false)\npublic class TestApplication {\n\n    @Value(&quot;${rest.template.connect.timeout}&quot;)\n    private Integer CONNECT_TIMEOUT;\n\n    @Value(&quot;${rest.template.connect.request.timeout}&quot;)\n    private Integer CONNECT_REQUEST_TIMEOUT;\n\n    @Value(&quot;${rest.template.read.timeout}&quot;)\n    private Integer READ_TIMEOUT;\n\n    @Value(&quot;${rest.template.max.conn.per.route}&quot;)\n    private Integer MAX_CONN_PER_ROUTE;\n\n    @Value(&quot;${rest.template.max.conn}&quot;)\n    private Integer MAX_CONN;\n\n    @Value(&quot;${slow.rest.template.read.timeout}&quot;)\n    private Integer SLOW_READ_TIMEOUT;\n\n    public static void main(String[] args) {\n        SpringApplication.run(TestApplication.class, args);\n    }\n\n    @Bean\n    @Primary\n    public RestTemplate restTemplate(RestTemplateBuilder builder) {\n        return getRestTemplateWithTimeout(READ_TIMEOUT);\n    }\n\n    @Bean(&quot;slowRestTemplate&quot;)\n    public RestTemplate slowRestTemplate(RestTemplateBuilder builder) {\n        return getRestTemplateWithTimeout(SLOW_READ_TIMEOUT);\n    }\n\n    private RestTemplate restTemplate(HttpComponentsClientHttpRequestFactory requestFactory) {\n        RestTemplate restTemplate = new RestTemplate(requestFactory);\n\n        List&lt;ClientHttpRequestInterceptor&gt; interceptors = restTemplate.getInterceptors();\n        if (CollectionUtils.isEmpty(interceptors)) {\n            interceptors = new ArrayList&lt;&gt;();\n        }\n        interceptors.add(new RestTemplateHeaderModifierInterceptor());\n        restTemplate.setInterceptors(interceptors);\n        return restTemplate;\n    }\n\n\n    private RestTemplate getRestTemplateWithTimeout(Integer readTimeout) {\n        HttpComponentsClientHttpRequestFactory requestFactory = getRequestFactory(readTimeout);\n        return this.restTemplate(requestFactory);\n    }\n\n    private HttpComponentsClientHttpRequestFactory getRequestFactory(Integer readTimeout) {\n        HttpComponentsClientHttpRequestFactory requestFactory = getConnectionSettings();\n        requestFactory.setReadTimeout(readTimeout);\n        return requestFactory;\n    }\n\n    private HttpComponentsClientHttpRequestFactory getConnectionSettings() {\n        PoolingHttpClientConnectionManager connectionManager = new PoolingHttpClientConnectionManager();\n        connectionManager.setDefaultMaxPerRoute(MAX_CONN_PER_ROUTE);\n        connectionManager.setMaxTotal(MAX_CONN);\n        HttpComponentsClientHttpRequestFactory requestFactory =\n                new HttpComponentsClientHttpRequestFactory(\n                        HttpClientBuilder.create().setConnectionManager(connectionManager).build());\n        requestFactory.setConnectionRequestTimeout(CONNECT_REQUEST_TIMEOUT);\n        requestFactory.setConnectTimeout(CONNECT_TIMEOUT);\n        return requestFactory;\n    }\n}\n</code></pre>\n<p>AppConfig.java</p>\n<pre><code>@Configuration(proxyBeanMethods = false)\n@Component\n@EnableAspectJAutoProxy\n@EnableAutoConfiguration\n@EnableRetry\npublic class AppConfig {\n}\n</code></pre>\n<p>Config.java</p>\n<pre><code>@Configuration(proxyBeanMethods = false)\n@PropertySource(&quot;classpath:application-${environment_region}.properties&quot;)\npublic class Config {\n\n  private Map&lt;String, String&gt; map = new HashMap&lt;String, String&gt;();\n\n  public String get(String key) {\n    AnnotationConfigApplicationContext context =\n        new AnnotationConfigApplicationContext(Config.class);\n    ConfigurableEnvironment env = context.getEnvironment();\n    if (!map.containsKey(key) || map.get(key) == null) {\n      map.put(key, env.getProperty(key));\n    }\n    String propertyValue = map.get(key);\n    context.close();\n    return propertyValue;\n  }\n}\n</code></pre>\n<p>After building image using</p>\n<p><code>./mvnw package -Pnative -DskipTests</code></p>\n<p>when I am running the application, I am getting following error:</p>\n<pre><code>Caused by: java.lang.IllegalArgumentException: Could not resolve placeholder 'rest.template.connect.timeout' in value &quot;${rest.template.connect.timeout}&quot;\n        at org.springframework.util.PropertyPlaceholderHelper.parseStringValue(PropertyPlaceholderHelper.java:180) ~[na:na]\n        at org.springframework.util.PropertyPlaceholderHelper.replacePlaceholders(PropertyPlaceholderHelper.java:126) ~[na:na]\n        at org.springframework.core.env.AbstractPropertyResolver.doResolvePlaceholders(AbstractPropertyResolver.java:239) ~[na:na]\n        at org.springframework.core.env.AbstractPropertyResolver.resolveRequiredPlaceholders(AbstractPropertyResolver.java:210) ~[na:na]\n        at org.springframework.context.support.PropertySourcesPlaceholderConfigurer.lambda$processProperties$0(PropertySourcesPlaceholderConfigurer.java:191) ~[na:na]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.resolveEmbeddedValue(AbstractBeanFactory.java:936) ~[na:na]\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1330) ~[na:na]\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309) ~[na:na]\n        at org.springframework.aot.beans.factory.InjectedFieldResolver.resolve(InjectedFieldResolver.java:43) ~[na:na]\n        at org.springframework.aot.beans.factory.InjectedElementResolver.resolve(InjectedElementResolver.java:35) ~[na:na]\n        at org.springframework.aot.beans.factory.InjectedElementResolver.invoke(InjectedElementResolver.java:53) ~[na:na]\n        at com.oyo.boltkeeper.ContextBootstrapInitializer.lambda$registerBoltKeeperApplication$6(ContextBootstrapInitializer.java:15) ~[na:na]\n        at org.springframework.aot.beans.factory.BeanDefinitionRegistrar$ThrowableFunction.apply(BeanDefinitionRegistrar.java:294) ~[na:na]\n        at org.springframework.aot.beans.factory.BeanDefinitionRegistrar.lambda$instanceSupplier$0(BeanDefinitionRegistrar.java:115) ~[na:na]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.obtainFromSupplier(AbstractAutowireCapableBeanFactory.java:1249) ~[na:na]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1191) ~[na:na]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[na:na]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[na:na]\n        ... 13 common frames omitted\n</code></pre>\n<p>What is the way to pass the configuration in spring boot native application? Or there is different way? Is something wrong being done here?</p>\n"},{"tags":["java","arrays","z-index","indexoutofboundsexception","bounds"],"comments":[{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1656947021,"post_id":72858272,"comment_id":128688745,"body_markdown":"Hint: are you sure that `int i=0; int j=0; int k=0;` are right initial values? What if you want to merge other sections of array, not the beginning of it? Note that left portion is indexed from `l` to `mid-1` and right portion is indexed from `mid` to `r`.","body":"Hint: are you sure that <code>int i=0; int j=0; int k=0;</code> are right initial values? What if you want to merge other sections of array, not the beginning of it? Note that left portion is indexed from <code>l</code> to <code>mid-1</code> and right portion is indexed from <code>mid</code> to <code>r</code>."}],"answers":[{"tags":[],"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1656946242,"creation_date":1656946242,"answer_id":72858591,"question_id":72858272,"body_markdown":"Your `merge` method is failing because you are not validating `k` against size of `temp` array.\r\n\r\nI am suggesting below small modifications in your `merge` method which will give you correct answer:\r\n\r\n\r\n    while (i &lt;= mid - 1 &amp;&amp; j &lt;= r &amp;&amp; k&lt;temp.length) {\r\n    \t\t\tif (arr[i] &lt;= arr[j] ) {\r\n    \t\t\t\ttemp[k++] = arr[i++];\r\n    \r\n    \t\t\t} else {\r\n    \t\t\t\ttemp[k++] = arr[j++];\r\n    \t\t\t\tswap += (mid - i);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\twhile (i &lt;= mid - 1 &amp;&amp; k &lt; temp.length) {\r\n    \t\t\ttemp[k++] = arr[i++];\r\n    \r\n    \t\t}\r\n    \r\n    \t\twhile (j &lt;= r &amp;&amp; k &lt; temp.length) {\r\n    \t\t\ttemp[k++] = arr[j++];\r\n    \r\n    \t\t}","title":"index 4 is out of bounds for 4 length","body":"<p>Your <code>merge</code> method is failing because you are not validating <code>k</code> against size of <code>temp</code> array.</p>\n<p>I am suggesting below small modifications in your <code>merge</code> method which will give you correct answer:</p>\n<pre><code>while (i &lt;= mid - 1 &amp;&amp; j &lt;= r &amp;&amp; k&lt;temp.length) {\n            if (arr[i] &lt;= arr[j] ) {\n                temp[k++] = arr[i++];\n\n            } else {\n                temp[k++] = arr[j++];\n                swap += (mid - i);\n            }\n        }\n        while (i &lt;= mid - 1 &amp;&amp; k &lt; temp.length) {\n            temp[k++] = arr[i++];\n\n        }\n\n        while (j &lt;= r &amp;&amp; k &lt; temp.length) {\n            temp[k++] = arr[j++];\n\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656946441,"creation_date":1656946441,"answer_id":72858619,"question_id":72858272,"body_markdown":"Hints:\r\n\r\n0. The actual error is that you are attempting to get an array element 1 position beyond the end of the array.  (Array indexes go from `0` to `array.length - 1`.)\r\n\r\n1. Use the line numbers in the stacktrace to work out exactly which line of your code the exception occurs on.  It is happening in an array indexing operation in the `merge` method.  There are 6 lines where that could be happening.\r\n\r\n2. Add some trace prints to print out the values of critical variables at key points in the `merge` method; e.g. what `l`, `r` and `mid` are, and what `i`, `j` and `k` are.\r\n\r\n3. Run the modified code, look at the values output by the trace prints, and try to *visualize* what the code is doing.\r\n\r\n4. Spot where and why you are going beyond the end of an array ... and figure out what you need to change.\r\n\r\n","title":"index 4 is out of bounds for 4 length","body":"<p>Hints:</p>\n<ol start=\"0\">\n<li><p>The actual error is that you are attempting to get an array element 1 position beyond the end of the array.  (Array indexes go from <code>0</code> to <code>array.length - 1</code>.)</p>\n</li>\n<li><p>Use the line numbers in the stacktrace to work out exactly which line of your code the exception occurs on.  It is happening in an array indexing operation in the <code>merge</code> method.  There are 6 lines where that could be happening.</p>\n</li>\n<li><p>Add some trace prints to print out the values of critical variables at key points in the <code>merge</code> method; e.g. what <code>l</code>, <code>r</code> and <code>mid</code> are, and what <code>i</code>, <code>j</code> and <code>k</code> are.</p>\n</li>\n<li><p>Run the modified code, look at the values output by the trace prints, and try to <em>visualize</em> what the code is doing.</p>\n</li>\n<li><p>Spot where and why you are going beyond the end of an array ... and figure out what you need to change.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":19574667,"reputation":1,"user_id":14324990,"display_name":"Mohammad Aamir"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":596,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1656946441,"creation_date":1656944742,"question_id":72858272,"body_markdown":"```\r\npackage dsa450;\r\n\r\nimport java.util.*;\r\n\r\npublic class countInversion {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tScanner sc=new Scanner(System.in);\r\n\t\tSystem.out.println(&quot;Enter the size of Array&quot;);\r\n\t\tint n=sc.nextInt();\r\n\t\tint arr[]=new int[n];\r\n\t\tSystem.out.println(&quot;Enter the size of Array&quot;);\r\n\t\tfor(int i=0;i&lt;n;i++){\r\n\t\t    arr[i]=sc.nextInt();\r\n\t\t}\r\n\r\n\t\tint p=arr.length;\r\n\t\tint temp[]=new int[n];\r\n\t\tint ans=mergeSort(arr,temp,0,n-1);\r\n\t\tSystem.out.println(ans);\r\n\r\n\t}\r\n\r\n\tstatic int mergeSort(int[] arr,int[]temp,int l,int r) {\r\n\t\t int inv=0;\r\n\t\t int mid;\r\n\t\tif (l&lt;r) {\r\n\t\t\r\n\t        mid=(l+r)/2;\r\n\t        inv+= mergeSort(arr,temp,l, mid);\r\n\t        inv+= mergeSort(arr,temp,mid+1,r);\r\n\t        inv+= merge(arr,temp,l,mid+1,r);\r\n\t\t}\r\n\t       return inv;\r\n\t}\r\n\r\n\tprivate static int merge(int []arr,int []temp,int l,int mid,int r) {\r\n\t\t\r\n\t       \r\n\t\tint i=0;\r\n\t\tint j=0;\r\n\t\tint k=0;\r\n\t\tint swap=0;\r\n\t\twhile(i&lt;=mid-1 &amp;&amp; j&lt;=r) {\r\n\t\t\tif(arr[i]&lt;=arr[j]) {\r\n\t\t\t\ttemp[k++]=arr[i++];\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\ttemp[k++]=arr[j++];\r\n\t\t\t\tswap+=(mid-i);\r\n\t\t\t}\r\n\t\t}\r\n\t\twhile(i&lt;=mid-1) {\r\n\t\t\ttemp[k++]=arr[i++];\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\twhile(j&lt;=r) {\r\n\t\t\ttemp[k++]=arr[j++];\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\tfor(i=l;i&lt;=r;i++) {\r\n\t\t\tarr[i]=temp[i];\r\n\t\t}\r\n\t\t\r\n\t\treturn swap;\r\n\t}\r\n\r\n}\r\n```\r\n\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8b8wD.png\r\n\r\n\r\nthis is my code I am trying to solve it for 5 hours but I am not getting what is the problem can anybody help. I check resources also but the code is the same as a source but it is not running.","title":"index 4 is out of bounds for 4 length","body":"<pre><code>package dsa450;\n\nimport java.util.*;\n\npublic class countInversion {\n\n    public static void main(String[] args) {\n        Scanner sc=new Scanner(System.in);\n        System.out.println(&quot;Enter the size of Array&quot;);\n        int n=sc.nextInt();\n        int arr[]=new int[n];\n        System.out.println(&quot;Enter the size of Array&quot;);\n        for(int i=0;i&lt;n;i++){\n            arr[i]=sc.nextInt();\n        }\n\n        int p=arr.length;\n        int temp[]=new int[n];\n        int ans=mergeSort(arr,temp,0,n-1);\n        System.out.println(ans);\n\n    }\n\n    static int mergeSort(int[] arr,int[]temp,int l,int r) {\n         int inv=0;\n         int mid;\n        if (l&lt;r) {\n        \n            mid=(l+r)/2;\n            inv+= mergeSort(arr,temp,l, mid);\n            inv+= mergeSort(arr,temp,mid+1,r);\n            inv+= merge(arr,temp,l,mid+1,r);\n        }\n           return inv;\n    }\n\n    private static int merge(int []arr,int []temp,int l,int mid,int r) {\n        \n           \n        int i=0;\n        int j=0;\n        int k=0;\n        int swap=0;\n        while(i&lt;=mid-1 &amp;&amp; j&lt;=r) {\n            if(arr[i]&lt;=arr[j]) {\n                temp[k++]=arr[i++];\n                \n            }\n            else {\n                temp[k++]=arr[j++];\n                swap+=(mid-i);\n            }\n        }\n        while(i&lt;=mid-1) {\n            temp[k++]=arr[i++];\n            \n        }\n        \n        while(j&lt;=r) {\n            temp[k++]=arr[j++];\n            \n        }\n        \n        for(i=l;i&lt;=r;i++) {\n            arr[i]=temp[i];\n        }\n        \n        return swap;\n    }\n\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/8b8wD.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>this is my code I am trying to solve it for 5 hours but I am not getting what is the problem can anybody help. I check resources also but the code is the same as a source but it is not running.</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":23077061,"reputation":119,"user_id":17189874,"display_name":"Dan Chirita"},"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1656945037,"creation_date":1656945037,"answer_id":72858348,"question_id":72858288,"body_markdown":"In your actionPerformed method, use equals in the if statement, like this:\r\n\r\n    if (e.getSource().equals(button)) {\r\n       System.out.println(&quot;Display if you work&quot;);\r\n    }\r\n\r\nIt should work. == doesn&#39;t work in this case.","title":"Trying to create a really simple button for my Panel, but even though i implement the action listener in the class, it isn&#39;t working","body":"<p>In your actionPerformed method, use equals in the if statement, like this:</p>\n<pre><code>if (e.getSource().equals(button)) {\n   System.out.println(&quot;Display if you work&quot;);\n}\n</code></pre>\n<p>It should work. == doesn't work in this case.</p>\n"},{"tags":[],"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1656946368,"creation_date":1656945092,"answer_id":72858358,"question_id":72858288,"body_markdown":"This code creates two JButtons, one the button field inside of the class, that you add the action listener to:\r\n```\r\npublic class Button extends JButton implements ActionListener {\r\n\tJButton button; // here!\r\n\r\n\tButton (){\r\n\t\tbutton = new JButton();  // here!\r\n\t\tthis.setText(&quot;Click NOW&quot;);\r\n\t\tbutton.addActionListener(this); // and add the listener here\r\n```\r\n\r\nand the other which is the instance of this class that extends JButton:\r\n\r\n```\r\n// here !!!\r\npublic class Button extends JButton implements ActionListener {\r\n    // ....\r\n```\t\r\n\r\nand which is likely the one that is displayed as elsewhere you likely have this code:\r\n\r\n```\r\nButton button = new Button();\r\n```\r\n\r\nand then add this button to the GUI.  Again, this &quot;button&quot; is from your Button class which extends JButton but doesn&#39;t have the action listener added to it.\r\n_______________ \r\n\r\nYou can solve this in one of two ways:\r\n\r\n1. Don&#39;t create the new JButton button field inside of your new class and instead add the ActionListener to the `this` JButton, the instance of this class, \r\nfor example:\r\n\r\n```\r\npublic class Button1 extends JButton implements ActionListener {\r\n    // JButton button;\r\n\r\n\tButton1() {\r\n        // button = new JButton();\r\n\t\tthis.setText(&quot;Click NOW&quot;);\r\n\t\t// button.addActionListener(this);\r\n\t\tthis.addActionListener(this);\r\n\r\n\t\tthis.setForeground(Color.white);\r\n\t\t// button.setBounds(300, 100, 100, 50); // You really don&#39;t want to do\r\n\t\t// this\r\n\t\tthis.setBackground(Color.red);\r\n\t\tthis.setBorder(null);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t// no need for the if block\r\n\t\t// if (e.getSource() == button) {\r\n\t\tSystem.out.println(&quot;Display if you work&quot;);\r\n\t\t// }\r\n\t}\r\n}\r\n```\r\n\r\n2. Don&#39;t create a class that extends JButton but instead create code that creates a single JButton (not two) and add the ActionListener to the same object that is added to the GUI. \r\n\r\nI&#39;d go with number 2 myself and make it a method that returns a button with my properties of interest:\r\n\r\n```\r\nprivate JButton createMyButton(String text) {\r\n\tJButton button = new JButton(text);\r\n\tbutton.setForeground(Color.WHITE);\r\n\tbutton.setBackground(Color.RED);\r\n\tbutton.setBorder(null);\r\n\tbutton.addActionListener(e -&gt; {\r\n\t    System.out.println(&quot;Display if you work&quot;);\r\n\t});\r\n\t\r\n\treturn button;\r\n}\r\n```\r\n\r\nSide notes:\r\n* Avoid giving your class names that clash with core Java classes, such as `class Button` which clashes with the `java.awt.Button` class.\r\n* Avoid use of null layouts and setBounds. While null layouts and `setBounds()` might seem to Swing newbies like the easiest and best way to create complex GUI&#39;s, the more Swing GUI&#39;S you create the more serious difficulties you will run into when using them. They won&#39;t resize your components when the GUI resizes, they are a royal witch to enhance or maintain, they fail completely when placed in scrollpanes, they look gawd-awful when viewed on all platforms or screen resolutions that are different from the original one.\r\n\r\nFor that reason you&#39;re far better off learning about and using the layout managers. You can find the layout manager tutorial here: [Layout Manager Tutorial](http://docs.oracle.com/javase/tutorial/uiswing/layout/index.html), and you can find links to the Swing tutorials and to other Swing resources here: [Swing Info](https://stackoverflow.com/tags/swing/info).\r\n\r\n","title":"Trying to create a really simple button for my Panel, but even though i implement the action listener in the class, it isn&#39;t working","body":"<p>This code creates two JButtons, one the button field inside of the class, that you add the action listener to:</p>\n<pre><code>public class Button extends JButton implements ActionListener {\n    JButton button; // here!\n\n    Button (){\n        button = new JButton();  // here!\n        this.setText(&quot;Click NOW&quot;);\n        button.addActionListener(this); // and add the listener here\n</code></pre>\n<p>and the other which is the instance of this class that extends JButton:</p>\n<pre><code>// here !!!\npublic class Button extends JButton implements ActionListener {\n    // ....\n</code></pre>\n<p>and which is likely the one that is displayed as elsewhere you likely have this code:</p>\n<pre><code>Button button = new Button();\n</code></pre>\n<p>and then add this button to the GUI.  Again, this &quot;button&quot; is from your Button class which extends JButton but doesn't have the action listener added to it.</p>\n<hr />\n<p>You can solve this in one of two ways:</p>\n<ol>\n<li>Don't create the new JButton button field inside of your new class and instead add the ActionListener to the <code>this</code> JButton, the instance of this class,\nfor example:</li>\n</ol>\n<pre><code>public class Button1 extends JButton implements ActionListener {\n    // JButton button;\n\n    Button1() {\n        // button = new JButton();\n        this.setText(&quot;Click NOW&quot;);\n        // button.addActionListener(this);\n        this.addActionListener(this);\n\n        this.setForeground(Color.white);\n        // button.setBounds(300, 100, 100, 50); // You really don't want to do\n        // this\n        this.setBackground(Color.red);\n        this.setBorder(null);\n    }\n\n    @Override\n    public void actionPerformed(ActionEvent e) {\n        // no need for the if block\n        // if (e.getSource() == button) {\n        System.out.println(&quot;Display if you work&quot;);\n        // }\n    }\n}\n</code></pre>\n<ol start=\"2\">\n<li>Don't create a class that extends JButton but instead create code that creates a single JButton (not two) and add the ActionListener to the same object that is added to the GUI.</li>\n</ol>\n<p>I'd go with number 2 myself and make it a method that returns a button with my properties of interest:</p>\n<pre><code>private JButton createMyButton(String text) {\n    JButton button = new JButton(text);\n    button.setForeground(Color.WHITE);\n    button.setBackground(Color.RED);\n    button.setBorder(null);\n    button.addActionListener(e -&gt; {\n        System.out.println(&quot;Display if you work&quot;);\n    });\n    \n    return button;\n}\n</code></pre>\n<p>Side notes:</p>\n<ul>\n<li>Avoid giving your class names that clash with core Java classes, such as <code>class Button</code> which clashes with the <code>java.awt.Button</code> class.</li>\n<li>Avoid use of null layouts and setBounds. While null layouts and <code>setBounds()</code> might seem to Swing newbies like the easiest and best way to create complex GUI's, the more Swing GUI'S you create the more serious difficulties you will run into when using them. They won't resize your components when the GUI resizes, they are a royal witch to enhance or maintain, they fail completely when placed in scrollpanes, they look gawd-awful when viewed on all platforms or screen resolutions that are different from the original one.</li>\n</ul>\n<p>For that reason you're far better off learning about and using the layout managers. You can find the layout manager tutorial here: <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/layout/index.html\" rel=\"nofollow noreferrer\">Layout Manager Tutorial</a>, and you can find links to the Swing tutorials and to other Swing resources here: <a href=\"https://stackoverflow.com/tags/swing/info\">Swing Info</a>.</p>\n"}],"owner":{"account_id":25652863,"reputation":23,"user_id":19419851,"display_name":"Costantino Tessera"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1656954026,"accepted_answer_id":72858358,"answer_count":2,"score":-1,"last_activity_date":1656946368,"creation_date":1656944795,"question_id":72858288,"body_markdown":"I am trying just to get the button to display some text in the console, but whatever i do it isn&#39;t working here is the code for the Button class:\r\n\r\n    public class Button extends JButton implements ActionListener {\r\n\tJButton button;\r\n\tButton (){\r\n\t\tbutton = new JButton();\r\n\t\tthis.setText(&quot;Click NOW&quot;);\r\n\t\tbutton.addActionListener(this);\r\n\t\t\r\n\t\tthis.setForeground(Color.white);\r\n\t\tbutton.setBounds(300, 100, 100, 50);\r\n\t\tthis.setBackground(Color.red);\r\n\t\tthis.setBorder(null);\r\n\t}\r\n\t@Override\r\n\tpublic void actionPerformed(ActionEvent e) {\r\n\t\tif (e.getSource()== button) {\r\n\t\t\tSystem.out.println(&quot;Display if you work&quot;);\r\n\t\t}\r\n\t  }\r\n    }\r\nThere are no errors displayed and the code compiles correctly, it just isn&#39;t displaying the text in the terminal.","title":"Trying to create a really simple button for my Panel, but even though i implement the action listener in the class, it isn&#39;t working","body":"<p>I am trying just to get the button to display some text in the console, but whatever i do it isn't working here is the code for the Button class:</p>\n<pre><code>public class Button extends JButton implements ActionListener {\nJButton button;\nButton (){\n    button = new JButton();\n    this.setText(&quot;Click NOW&quot;);\n    button.addActionListener(this);\n    \n    this.setForeground(Color.white);\n    button.setBounds(300, 100, 100, 50);\n    this.setBackground(Color.red);\n    this.setBorder(null);\n}\n@Override\npublic void actionPerformed(ActionEvent e) {\n    if (e.getSource()== button) {\n        System.out.println(&quot;Display if you work&quot;);\n    }\n  }\n}\n</code></pre>\n<p>There are no errors displayed and the code compiles correctly, it just isn't displaying the text in the terminal.</p>\n"},{"tags":["java","selenium","automated-tests"],"comments":[{"owner":{"account_id":12360572,"reputation":1730,"user_id":9014957,"accept_rate":17,"display_name":"pburgr"},"score":0,"creation_date":1656921634,"post_id":72852133,"comment_id":128679884,"body_markdown":"Does this answer your question? [is there a way i can fix this invalid module name error?](https://stackoverflow.com/questions/62765500/is-there-a-way-i-can-fix-this-invalid-module-name-error)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/62765500/is-there-a-way-i-can-fix-this-invalid-module-name-error\">is there a way i can fix this invalid module name error?</a>"}],"owner":{"account_id":14131804,"reputation":11,"user_id":10209609,"display_name":"Shailja dubey"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1656946087,"creation_date":1656912705,"question_id":72852133,"body_markdown":"I am running my selenium program after 2 weeks and following error occurs. how to resolve following?\r\n\r\n&gt; Error occurred during initialization of boot layer\r\n\r\nerror while running the program.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1thbo.png","title":"How to solve the following error as Error occurred during initialization of boot layer","body":"<p>I am running my selenium program after 2 weeks and following error occurs. how to resolve following?</p>\n<blockquote>\n<p>Error occurred during initialization of boot layer</p>\n</blockquote>\n<p>error while running the program.</p>\n<p><a href=\"https://i.stack.imgur.com/1thbo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1thbo.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","tomcat","intellij-idea","connection-pooling","context.xml"],"comments":[{"owner":{"account_id":284615,"reputation":3307,"user_id":582829,"accept_rate":86,"display_name":"Jose Luis"},"score":0,"creation_date":1558431139,"post_id":55055932,"comment_id":99089404,"body_markdown":"I have exactly the same issue...","body":"I have exactly the same issue..."},{"owner":{"account_id":1850189,"reputation":571,"user_id":1676880,"accept_rate":80,"display_name":"Yaiba"},"score":0,"creation_date":1597295873,"post_id":55055932,"comment_id":112087006,"body_markdown":"@Jack J: Have you managed to solve this yet?","body":"@Jack J: Have you managed to solve this yet?"},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1603882849,"post_id":55055932,"comment_id":114175037,"body_markdown":"I would recommend looking at the WAR file created by IntelliJ.   Mrty guess is that you assume that the META-INF is being added to the WAR correctly, but your assumption is wrong.  Look at the Project-&gt;Artifacts tab and see what is being added to the WAR.","body":"I would recommend looking at the WAR file created by IntelliJ.   Mrty guess is that you assume that the META-INF is being added to the WAR correctly, but your assumption is wrong.  Look at the Project-&gt;Artifacts tab and see what is being added to the WAR."}],"answers":[{"tags":[],"owner":{"account_id":15567507,"reputation":216,"user_id":11230823,"display_name":"msTam"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1656945932,"creation_date":1603881372,"answer_id":64571064,"question_id":55055932,"body_markdown":"I had the same issue and adding context lookup to my java code to use the resource defined in context.xml did the job. \r\n\r\nIt&#39;s the accepted solution from: https://stackoverflow.com/questions/9212806/tomcat-and-jdbc-connection-pooling?noredirect=1&amp;lq=1\r\n\r\nStill works with Tomcat 9.0.39","title":"How to get a context.xml working with Tomcat and IntelliJ IDEA","body":"<p>I had the same issue and adding context lookup to my java code to use the resource defined in context.xml did the job.</p>\n<p>It's the accepted solution from: <a href=\"https://stackoverflow.com/questions/9212806/tomcat-and-jdbc-connection-pooling?noredirect=1&amp;lq=1\">Tomcat and JDBC connection pooling</a></p>\n<p>Still works with Tomcat 9.0.39</p>\n"}],"owner":{"account_id":2313596,"reputation":1534,"user_id":2031150,"accept_rate":92,"display_name":"Jack J"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3587,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":64571064,"answer_count":1,"score":5,"last_activity_date":1656945932,"creation_date":1552012649,"question_id":55055932,"body_markdown":"I&#39;ve been learning about connection pools, and I have gotten one working by [using Tomcat&#39;s PoolProperties][1].  Now I would like to set one up using a context.xml file with Tomcat and IntelliJ, but I can&#39;t get this to work.  How is this done?\r\n\r\nA new project with a 4.0 Web Application framework can automatically create a web/WEB-INF directory with a web.xml file, but the web/META-INF directory containing a context.xml file is not created.  If I do create web/META-INF/context.xml myself through the Tool Window &gt; Project, and I use this to set up a connection pool as shown below, the file seems to be ignored.\r\n\r\nThis is my guess as to what might be happening, though I&#39;m sure this is filled with errors:  A WAR file is a packaged directory that is sent to Tomcat in an arrangement that Tomcat understands.  web/WEB-INF/web.xml is a required file that is needed for a variety of reasons, one of which is to set up servlets.  web/META-INF/context.xml is optional, and thus by default, IntelliJ does not create it.  When a web/META-INF/context.xml is created manually, it must also be included into the WAR file otherwise IntelliJ will not send it to Tomcat.\r\n\r\nEven if the previous paragraph is true though, I still have not gotten Tomcat to use context.xml after trying to add it to the WAR.  Maybe I didn&#39;t add it correctly.\r\n\r\n&lt;h2&gt;context.xml&lt;/h2&gt;\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\r\n    &lt;Context&gt;\r\n    \r\n        &lt;Resource name=&quot;jdbc/sql_connection_03&quot; auth=&quot;Container&quot;\r\n                  driverClassName=&quot;com.mysql.jdbc.Driver&quot;\r\n                  url=&quot;jdbc:mysql://localhost:3306/follow_db_01&quot;\r\n                  username=&quot;root&quot; password=&quot;pass&quot;\r\n                  maxactive=&quot;100&quot; maxIdle=&quot;30&quot; maxWait=&quot;10000&quot;\r\n                  logAbandoned=&quot;true&quot; removeAbandoned=&quot;true&quot;\r\n                  removeAbandonedTimeout=&quot;60&quot; type=&quot;java.sql.DataSource&quot;/&gt;\r\n    \r\n    &lt;/Context&gt;\r\n\r\n&lt;h2&gt;index.jsp&lt;/h2&gt;\r\n\r\n    &lt;%@taglib prefix=&quot;c&quot; uri=&quot;http://java.sun.com/jsp/jstl/core&quot; %&gt;\r\n    &lt;%@taglib prefix=&quot;sql&quot; uri=&quot;http://java.sun.com/jsp/jstl/sql&quot; %&gt;\r\n    &lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; %&gt;\r\n    \r\n    &lt;sql:query var=&quot;rs&quot; dataSource=&quot;jdbc/sql_connection_03&quot;&gt;\r\n        select ID, Description, PackageSize from products;\r\n    &lt;/sql:query&gt;\r\n    \r\n    &lt;html&gt;\r\n      &lt;head&gt;\r\n        &lt;title&gt;Index&lt;/title&gt;\r\n      &lt;/head&gt;\r\n      &lt;body&gt;\r\n    \r\n        &lt;c:forEach var=&quot;row&quot; items=&quot;${rs.rows}&quot;&gt;\r\n            ${row.ID}&lt;br&gt;\r\n            ${row.Description}&lt;br&gt;\r\n            ${row.PackageSize}&lt;br&gt;\r\n        &lt;/c:forEach&gt;\r\n    \r\n      &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/15632353/2031150","title":"How to get a context.xml working with Tomcat and IntelliJ IDEA","body":"<p>I've been learning about connection pools, and I have gotten one working by <a href=\"https://stackoverflow.com/a/15632353/2031150\">using Tomcat's PoolProperties</a>.  Now I would like to set one up using a context.xml file with Tomcat and IntelliJ, but I can't get this to work.  How is this done?</p>\n\n<p>A new project with a 4.0 Web Application framework can automatically create a web/WEB-INF directory with a web.xml file, but the web/META-INF directory containing a context.xml file is not created.  If I do create web/META-INF/context.xml myself through the Tool Window > Project, and I use this to set up a connection pool as shown below, the file seems to be ignored.</p>\n\n<p>This is my guess as to what might be happening, though I'm sure this is filled with errors:  A WAR file is a packaged directory that is sent to Tomcat in an arrangement that Tomcat understands.  web/WEB-INF/web.xml is a required file that is needed for a variety of reasons, one of which is to set up servlets.  web/META-INF/context.xml is optional, and thus by default, IntelliJ does not create it.  When a web/META-INF/context.xml is created manually, it must also be included into the WAR file otherwise IntelliJ will not send it to Tomcat.</p>\n\n<p>Even if the previous paragraph is true though, I still have not gotten Tomcat to use context.xml after trying to add it to the WAR.  Maybe I didn't add it correctly.</p>\n\n<h2>context.xml</h2>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\" ?&gt;\n&lt;Context&gt;\n\n    &lt;Resource name=\"jdbc/sql_connection_03\" auth=\"Container\"\n              driverClassName=\"com.mysql.jdbc.Driver\"\n              url=\"jdbc:mysql://localhost:3306/follow_db_01\"\n              username=\"root\" password=\"pass\"\n              maxactive=\"100\" maxIdle=\"30\" maxWait=\"10000\"\n              logAbandoned=\"true\" removeAbandoned=\"true\"\n              removeAbandonedTimeout=\"60\" type=\"java.sql.DataSource\"/&gt;\n\n&lt;/Context&gt;\n</code></pre>\n\n<h2>index.jsp</h2>\n\n<pre><code>&lt;%@taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\" %&gt;\n&lt;%@taglib prefix=\"sql\" uri=\"http://java.sun.com/jsp/jstl/sql\" %&gt;\n&lt;%@ page contentType=\"text/html;charset=UTF-8\" language=\"java\" %&gt;\n\n&lt;sql:query var=\"rs\" dataSource=\"jdbc/sql_connection_03\"&gt;\n    select ID, Description, PackageSize from products;\n&lt;/sql:query&gt;\n\n&lt;html&gt;\n  &lt;head&gt;\n    &lt;title&gt;Index&lt;/title&gt;\n  &lt;/head&gt;\n  &lt;body&gt;\n\n    &lt;c:forEach var=\"row\" items=\"${rs.rows}\"&gt;\n        ${row.ID}&lt;br&gt;\n        ${row.Description}&lt;br&gt;\n        ${row.PackageSize}&lt;br&gt;\n    &lt;/c:forEach&gt;\n\n  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"},{"tags":["java","android","countdowntimer"],"comments":[{"owner":{"account_id":4435814,"reputation":2773,"user_id":3611700,"display_name":"Laffen"},"score":0,"creation_date":1455110642,"post_id":35315272,"comment_id":58341604,"body_markdown":"Please provide some code to give us something to work with..","body":"Please provide some code to give us something to work with.."},{"owner":{"account_id":6408267,"reputation":259,"user_id":4968776,"accept_rate":45,"display_name":"Piku"},"score":0,"creation_date":1455112115,"post_id":35315272,"comment_id":58342695,"body_markdown":"Please check my updated code","body":"Please check my updated code"}],"answers":[{"tags":[],"owner":{"account_id":6613753,"reputation":1120,"user_id":5107823,"accept_rate":55,"display_name":"Spirrow"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1455109812,"creation_date":1455109205,"answer_id":35316020,"question_id":35315272,"body_markdown":"I have been looking around and I have found [this post][1] where they call to the cancel() method in the onTick() using an alternative to the Android countDownTimer. \r\n\r\nI had also this problem, and I created a global variable of a countDownTimer and I called to the cancel method in the activity when I needed, like `myCountDownTimer.cancel()`. \r\n\r\n    private CountDownTimer mCountDownTimer;\r\n\r\n\r\n    private CountDownTimer createTimer(){\r\n       return new CountDownTimer(30000, 1000) {\r\n\r\n        public void onTick(long millisUntilFinished) {\r\n          \r\n           //do what you want\r\n        }\r\n\r\n        public void onFinish() {\r\n           //do what you want\r\n        }\r\n\r\n        }.start();\r\n    }\r\n\r\nIn your activity call:\r\n\r\n    mCountDownTimer = this.createTimer();\r\n\r\nAnd if you want to cancel it:\r\n\r\n    mCountDownTimer.cancel();\r\n\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/11322633/how-to-clear-countdowntimer-from-ontick-method","title":"How to countDownTimer.cancel(); in OnTick(); function","body":"<p>I have been looking around and I have found <a href=\"https://stackoverflow.com/questions/11322633/how-to-clear-countdowntimer-from-ontick-method\">this post</a> where they call to the cancel() method in the onTick() using an alternative to the Android countDownTimer. </p>\n\n<p>I had also this problem, and I created a global variable of a countDownTimer and I called to the cancel method in the activity when I needed, like <code>myCountDownTimer.cancel()</code>. </p>\n\n<pre><code>private CountDownTimer mCountDownTimer;\n\n\nprivate CountDownTimer createTimer(){\n   return new CountDownTimer(30000, 1000) {\n\n    public void onTick(long millisUntilFinished) {\n\n       //do what you want\n    }\n\n    public void onFinish() {\n       //do what you want\n    }\n\n    }.start();\n}\n</code></pre>\n\n<p>In your activity call:</p>\n\n<pre><code>mCountDownTimer = this.createTimer();\n</code></pre>\n\n<p>And if you want to cancel it:</p>\n\n<pre><code>mCountDownTimer.cancel();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13102668,"reputation":234,"user_id":9466500,"display_name":"A.sobhdel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1535356686,"creation_date":1535355209,"answer_id":52034612,"question_id":35315272,"body_markdown":"Somehow if you call `countdowntimer.cancel` of a `CountDownTimer` object in its own `onTick` method it won&#39;t work!\r\n\r\nThe simplest way to solve your problem is defining another `CountDownTimer`, same as the main one, in order to check the condition to call `countdowntimer.cancel`. The point is that you are calling objects cancel method from outside of its own `onTick` method.\r\n\r\nCheck the example below:\r\n\r\n    CountDownTimer countdowntimer;\r\n    CountDownTimer assist;\r\n    long millisuntillfinish = 10000;\r\n    int interval = 100;\r\n    countdowntimer = new CountDownTimer(millisuntillfinish, interval) {\r\n        @Override\r\n        public void onTick(long millisUntilFinished) {\r\n            // if(true) countdowntimer.cancel(); (doesnt work)\r\n        }\r\n\r\n        @Override\r\n        public void onFinish() {\r\n        }\r\n    };\r\n\r\n    assist = new CountDownTimer(timertillfinish, timerinterval) {\r\n        @Override\r\n        public void onTick(long millisUntilFinished) {\r\n            if (true) {\r\n                countdowntimer.cancel();\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public void onFinish() {\r\n            assist.cancel();\r\n        }\r\n    };","title":"How to countDownTimer.cancel(); in OnTick(); function","body":"<p>Somehow if you call <code>countdowntimer.cancel</code> of a <code>CountDownTimer</code> object in its own <code>onTick</code> method it won't work!</p>\n\n<p>The simplest way to solve your problem is defining another <code>CountDownTimer</code>, same as the main one, in order to check the condition to call <code>countdowntimer.cancel</code>. The point is that you are calling objects cancel method from outside of its own <code>onTick</code> method.</p>\n\n<p>Check the example below:</p>\n\n<pre><code>CountDownTimer countdowntimer;\nCountDownTimer assist;\nlong millisuntillfinish = 10000;\nint interval = 100;\ncountdowntimer = new CountDownTimer(millisuntillfinish, interval) {\n    @Override\n    public void onTick(long millisUntilFinished) {\n        // if(true) countdowntimer.cancel(); (doesnt work)\n    }\n\n    @Override\n    public void onFinish() {\n    }\n};\n\nassist = new CountDownTimer(timertillfinish, timerinterval) {\n    @Override\n    public void onTick(long millisUntilFinished) {\n        if (true) {\n            countdowntimer.cancel();\n        }\n    }\n\n    @Override\n    public void onFinish() {\n        assist.cancel();\n    }\n};\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1186523,"reputation":659,"user_id":1160367,"accept_rate":93,"display_name":"pjdupreez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653509750,"creation_date":1653509444,"answer_id":72383632,"question_id":35315272,"body_markdown":"I know this question is more than 6 years old, but calling `super.cancel();` within `onTick()` did the trick for me.\r\n\r\nLeaving this here for the next unfortunate soul looking for an answer to this question.\r\n\r\nie.\r\n\r\n\r\n    new CountDownTimer(5000, 1000) {\r\n        public void onTick(long millisUntilFinished) {\r\n            if(someCondition)\r\n                super.cancel();\r\n        }\r\n    \r\n        public void onFinish() {\r\n            //do something else \r\n        }\r\n    }.start();\r\n\r\n","title":"How to countDownTimer.cancel(); in OnTick(); function","body":"<p>I know this question is more than 6 years old, but calling <code>super.cancel();</code> within <code>onTick()</code> did the trick for me.</p>\n<p>Leaving this here for the next unfortunate soul looking for an answer to this question.</p>\n<p>ie.</p>\n<pre><code>new CountDownTimer(5000, 1000) {\n    public void onTick(long millisUntilFinished) {\n        if(someCondition)\n            super.cancel();\n    }\n\n    public void onFinish() {\n        //do something else \n    }\n}.start();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17455391,"reputation":1,"user_id":12654394,"display_name":"AxeL"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656945895,"creation_date":1656945895,"answer_id":72858523,"question_id":35315272,"body_markdown":"    new CountDownTimer(time, 1000) {\r\n                        \r\n                        public void onTick(long millisUntilFinished) {\r\n                            \r\n                            if (((millisUntilFinished/1000)%5)==0){ //every 5 sec\r\n                                if(true)\r\n                                {\r\n                                    this.cancel();\r\n                                }\r\n                            }\r\n                        }\r\n                        public void onFinish() {\r\n                            //do somethhing\r\n                        }\r\n                    }.start();","title":"How to countDownTimer.cancel(); in OnTick(); function","body":"<pre><code>new CountDownTimer(time, 1000) {\n                    \n                    public void onTick(long millisUntilFinished) {\n                        \n                        if (((millisUntilFinished/1000)%5)==0){ //every 5 sec\n                            if(true)\n                            {\n                                this.cancel();\n                            }\n                        }\n                    }\n                    public void onFinish() {\n                        //do somethhing\n                    }\n                }.start();\n</code></pre>\n"}],"owner":{"account_id":6408267,"reputation":259,"user_id":4968776,"accept_rate":45,"display_name":"Piku"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2487,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":4,"score":3,"last_activity_date":1656945895,"creation_date":1455107153,"question_id":35315272,"body_markdown":"Hi i am trying to cancel a countdown timer in On-tick function, It is working fine in lollipop but not working in Kitkat and below. How cancel it from a OnTick() function.\r\n\r\n\r\n    private void startTimer(final int minuti) {\r\n    \r\n    \t\tcountDownTimer = new CountDownTimer(60 * minuti * 1000 + sec * 1000,\r\n    \t\t\t\t500) {\r\n    \r\n    \t\t\t\r\n    \t\t\t@Override\r\n    \t\t\tpublic void onTick(long leftTimeInMilliseconds) {\r\n    \r\n    \t\t\t\t\r\n    \t\tCountDownTimer.cancel();\r\n    \t\t\t\r\n    \t\t\t}\r\n    \r\n    \t\t\t@Override\r\n    \t\t\tpublic void onFinish() {\r\n    \r\n    \t\t\t}\r\n    \t\t}.start();\r\n    \r\n    \t}","title":"How to countDownTimer.cancel(); in OnTick(); function","body":"<p>Hi i am trying to cancel a countdown timer in On-tick function, It is working fine in lollipop but not working in Kitkat and below. How cancel it from a OnTick() function.</p>\n\n<pre><code>private void startTimer(final int minuti) {\n\n        countDownTimer = new CountDownTimer(60 * minuti * 1000 + sec * 1000,\n                500) {\n\n\n            @Override\n            public void onTick(long leftTimeInMilliseconds) {\n\n\n        CountDownTimer.cancel();\n\n            }\n\n            @Override\n            public void onFinish() {\n\n            }\n        }.start();\n\n    }\n</code></pre>\n"},{"tags":["java","glassfish","ejb","payara","java-ee-8"],"answers":[{"tags":[],"owner":{"account_id":21188911,"reputation":1,"user_id":15581746,"display_name":"ThomasVoss"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656945422,"creation_date":1656944888,"answer_id":72858303,"question_id":71175408,"body_markdown":"Have you made sure that the ejb-invoker is up and running as described in &quot;Configuring HTTP(S) for Remote EJBs&quot; in the [documentation][1]?\r\n\r\nIf this is the case, please check the path payara\\glassfish\\domains\\[your_domain]\\endpoints. A folder and a file, indicating deployment or failure of doing so, should be available.\r\n\r\nSince this should be an additional service being deployed check if an extra service is running alongside your service at 44080, for reference see the [Screenshot][2]\r\n\r\n\r\n  [1]: https://docs.payara.fish/community/docs/documentation/payara-server/ejb/lite-remote-ejb.html\r\n\r\n  [2]: https://i.stack.imgur.com/gPRRB.png","title":"Why EJB not found when ejb-invoker endpoint used with payara server for EJB remote calls via http","body":"<p>Have you made sure that the ejb-invoker is up and running as described in &quot;Configuring HTTP(S) for Remote EJBs&quot; in the <a href=\"https://docs.payara.fish/community/docs/documentation/payara-server/ejb/lite-remote-ejb.html\" rel=\"nofollow noreferrer\">documentation</a>?</p>\n<p>If this is the case, please check the path payara\\glassfish\\domains[your_domain]\\endpoints. A folder and a file, indicating deployment or failure of doing so, should be available.</p>\n<p>Since this should be an additional service being deployed check if an extra service is running alongside your service at 44080, for reference see the <a href=\"https://i.stack.imgur.com/gPRRB.png\" rel=\"nofollow noreferrer\">Screenshot</a></p>\n"}],"owner":{"account_id":18714862,"reputation":121,"user_id":13644126,"display_name":"akudama"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":316,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656945422,"creation_date":1645195767,"question_id":71175408,"body_markdown":"I have prepared simply web services in JavaEE with payara as a web server to check if EJB can be called via http like here: https://docs.payara.fish/community/docs/5.2021.7/documentation/payara-server/ejb/lite-remote-ejb.html\r\n\r\nIn the service 1: &quot;ejb_a&quot; created module api:\r\n```\r\nimport javax.ejb.Remote;\r\n\r\n@Remote\r\npublic interface HelloWorld {\r\n    String getHelloWorld();\r\n}\r\n```\r\nand module impl:\r\n\r\n```\r\nimport java.io.Serializable;\r\n\r\nimport javax.annotation.Resource;\r\nimport javax.ejb.SessionContext;\r\nimport javax.ejb.Stateless;\r\n\r\n@Stateless(name = &quot;HelloWorld&quot;, mappedName = &quot;HelloWorldBean&quot;)\r\npublic class HelloWorldBean implements HelloWorld, Serializable {\r\n\r\n    private static final long serialVersionUID = 1L;\r\n\r\n    @Resource\r\n    private SessionContext context;\r\n\r\n    @Override\r\n    public String getHelloWorld() {\r\n        return &quot;Welcome to EJB Tutorial!&quot;;\r\n    }\r\n}\r\n```\r\nexposed web service on port 44080\r\n\r\nservice is archived as war file\r\n\r\nand enabled ejb-invocer in payara:\r\nasadmin &gt; set-ejb-invoker-configuration --enabled=true\r\n\r\nIn the service 2: &quot;ejb_b&quot; created one module\r\n```\r\nimport static javax.naming.Context.INITIAL_CONTEXT_FACTORY;\r\nimport static javax.naming.Context.PROVIDER_URL;\r\n\r\nimport java.util.Properties;\r\n\r\nimport javax.ejb.Singleton;\r\nimport javax.naming.InitialContext;\r\nimport javax.naming.NamingException;\r\n\r\nimport com.ejb.a.HelloWorld;\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\n\r\n@Singleton\r\npublic class RemoteEjbClient {\r\n\r\n    private static final Logger log = LoggerFactory.getLogger(RemoteEjbClient.class);\r\n\r\n    private HelloWorld remoteEjb;\r\n\r\n    public RemoteEjbClient() throws NamingException {\r\n        initRemoteServiceViaHttp();\r\n    }\r\n\r\n    public HelloWorld getRemoteEjb() {\r\n        return remoteEjb;\r\n    }\r\n\r\n    private void initRemoteServiceViaHttp() throws NamingException {\r\n        String host = &quot;localhost&quot;;\r\n        String port = &quot;44080&quot;;\r\n        Properties environment = new Properties();\r\n        environment.put(INITIAL_CONTEXT_FACTORY, &quot;fish.payara.ejb.rest.client.RemoteEJBContextFactory&quot;);\r\n        environment.put(PROVIDER_URL, String.format(&quot;http://%s:%s/ejb-invoker&quot;, host, port));\r\n\r\n        InitialContext context = new InitialContext(environment);\r\n        remoteEjb = (HelloWorld) context.lookup(&quot;java:global/impl-1.0-SNAPSHOT/HelloWorld&quot;);\r\n\r\n        log.info(&quot;RemoteEJBMessage: {}&quot;, remoteEjb.getHelloWorld());\r\n    }\r\n}\r\n```\r\nand if enable payara with debug and set breakpoint to make evaluate, got exception:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/BuXmi.png\r\n\r\npom.xml also contains dependency with artifact: ejb-http-client, version 5.2021.7.\r\n\r\nWhy RemoteEjbClient in service 2 can&#39;t lookup EJB HelloWorld in service 1 via http endpoint: localhost:44080/ejb-invoker ?\r\n","title":"Why EJB not found when ejb-invoker endpoint used with payara server for EJB remote calls via http","body":"<p>I have prepared simply web services in JavaEE with payara as a web server to check if EJB can be called via http like here: <a href=\"https://docs.payara.fish/community/docs/5.2021.7/documentation/payara-server/ejb/lite-remote-ejb.html\" rel=\"nofollow noreferrer\">https://docs.payara.fish/community/docs/5.2021.7/documentation/payara-server/ejb/lite-remote-ejb.html</a></p>\n<p>In the service 1: &quot;ejb_a&quot; created module api:</p>\n<pre><code>import javax.ejb.Remote;\n\n@Remote\npublic interface HelloWorld {\n    String getHelloWorld();\n}\n</code></pre>\n<p>and module impl:</p>\n<pre><code>import java.io.Serializable;\n\nimport javax.annotation.Resource;\nimport javax.ejb.SessionContext;\nimport javax.ejb.Stateless;\n\n@Stateless(name = &quot;HelloWorld&quot;, mappedName = &quot;HelloWorldBean&quot;)\npublic class HelloWorldBean implements HelloWorld, Serializable {\n\n    private static final long serialVersionUID = 1L;\n\n    @Resource\n    private SessionContext context;\n\n    @Override\n    public String getHelloWorld() {\n        return &quot;Welcome to EJB Tutorial!&quot;;\n    }\n}\n</code></pre>\n<p>exposed web service on port 44080</p>\n<p>service is archived as war file</p>\n<p>and enabled ejb-invocer in payara:\nasadmin &gt; set-ejb-invoker-configuration --enabled=true</p>\n<p>In the service 2: &quot;ejb_b&quot; created one module</p>\n<pre><code>import static javax.naming.Context.INITIAL_CONTEXT_FACTORY;\nimport static javax.naming.Context.PROVIDER_URL;\n\nimport java.util.Properties;\n\nimport javax.ejb.Singleton;\nimport javax.naming.InitialContext;\nimport javax.naming.NamingException;\n\nimport com.ejb.a.HelloWorld;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\n@Singleton\npublic class RemoteEjbClient {\n\n    private static final Logger log = LoggerFactory.getLogger(RemoteEjbClient.class);\n\n    private HelloWorld remoteEjb;\n\n    public RemoteEjbClient() throws NamingException {\n        initRemoteServiceViaHttp();\n    }\n\n    public HelloWorld getRemoteEjb() {\n        return remoteEjb;\n    }\n\n    private void initRemoteServiceViaHttp() throws NamingException {\n        String host = &quot;localhost&quot;;\n        String port = &quot;44080&quot;;\n        Properties environment = new Properties();\n        environment.put(INITIAL_CONTEXT_FACTORY, &quot;fish.payara.ejb.rest.client.RemoteEJBContextFactory&quot;);\n        environment.put(PROVIDER_URL, String.format(&quot;http://%s:%s/ejb-invoker&quot;, host, port));\n\n        InitialContext context = new InitialContext(environment);\n        remoteEjb = (HelloWorld) context.lookup(&quot;java:global/impl-1.0-SNAPSHOT/HelloWorld&quot;);\n\n        log.info(&quot;RemoteEJBMessage: {}&quot;, remoteEjb.getHelloWorld());\n    }\n}\n</code></pre>\n<p>and if enable payara with debug and set breakpoint to make evaluate, got exception:\n<a href=\"https://i.stack.imgur.com/BuXmi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BuXmi.png\" alt=\"enter image description here\" /></a></p>\n<p>pom.xml also contains dependency with artifact: ejb-http-client, version 5.2021.7.</p>\n<p>Why RemoteEjbClient in service 2 can't lookup EJB HelloWorld in service 1 via http endpoint: localhost:44080/ejb-invoker ?</p>\n"},{"tags":["java","android","processbuilder"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":2,"creation_date":1656947726,"post_id":72858405,"comment_id":128688992,"body_markdown":"That should be the cause: https://developer.android.com/about/versions/10/behavior-changes-10#execute-permission","body":"That should be the cause: <a href=\"https://developer.android.com/about/versions/10/behavior-changes-10#execute-permission\" rel=\"nofollow noreferrer\">developer.android.com/about/versions/10/&hellip;</a>"},{"owner":{"account_id":1440688,"reputation":539,"user_id":1360939,"accept_rate":67,"display_name":"HiteshGs"},"score":0,"creation_date":1657027829,"post_id":72858405,"comment_id":128708022,"body_markdown":"@Robert so do you think if I change access location like external storage or anything else way to achieve it?","body":"@Robert so do you think if I change access location like external storage or anything else way to achieve it?"},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1657028681,"post_id":72858405,"comment_id":128708412,"body_markdown":"sdcard and external storage are always folders where apps can not execute something. The last path I know which you could try is `/data/local/tmp`. Note that apps can not list the content of this folder on Android 11+ but they should be able to write and may be execute (don&#39;t know, never tried from within an app). Alternative could be to pack the executables into the matching `lib/arm64-v8a` folder in the APK so that they are getting extracted upon APK installation","body":"sdcard and external storage are always folders where apps can not execute something. The last path I know which you could try is <code>&#47;data&#47;local&#47;tmp</code>. Note that apps can not list the content of this folder on Android 11+ but they should be able to write and may be execute (don&#39;t know, never tried from within an app). Alternative could be to pack the executables into the matching <code>lib&#47;arm64-v8a</code> folder in the APK so that they are getting extracted upon APK installation"},{"owner":{"account_id":1440688,"reputation":539,"user_id":1360939,"accept_rate":67,"display_name":"HiteshGs"},"score":0,"creation_date":1657030090,"post_id":72858405,"comment_id":128709042,"body_markdown":"Hey, @Robert thank you for instance replay let me try both ways and update.","body":"Hey, @Robert thank you for instance replay let me try both ways and update."},{"owner":{"account_id":1440688,"reputation":539,"user_id":1360939,"accept_rate":67,"display_name":"HiteshGs"},"score":0,"creation_date":1657101061,"post_id":72858405,"comment_id":128727332,"body_markdown":"hey, @Robert I try &quot;could try is /data/local/tmp&quot; but look like not accessible for read-write.\nand another way &quot;lib/arm64-v8a folder in the APK&quot; got the same error as asked in the question.","body":"hey, @Robert I try &quot;could try is /data/local/tmp&quot; but look like not accessible for read-write. and another way &quot;lib/arm64-v8a folder in the APK&quot; got the same error as asked in the question."},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1657101868,"post_id":72858405,"comment_id":128727682,"body_markdown":"So the only chance seems to be to set `android:targetSdkVersion` to 28 which of course prohibits APK distribution via PlayStore. Now I understand why Termux app is no longer updated in PlayStore...","body":"So the only chance seems to be to set <code>android:targetSdkVersion</code> to 28 which of course prohibits APK distribution via PlayStore. Now I understand why Termux app is no longer updated in PlayStore..."}],"owner":{"account_id":1440688,"reputation":539,"user_id":1360939,"accept_rate":67,"display_name":"HiteshGs"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":992,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1656945333,"creation_date":1656945333,"question_id":72858405,"body_markdown":"I have executable files made through the tool-chain via the rust platform.\r\nwhich is right now arm arch supported.\r\n\r\nnow my code snipers as per below \r\n\r\n     try {\r\n            File binFilePath1 = new File(getFilesDir() + Util.BinPath);\r\n\r\n            ProcessBuilder processBuilder = new ProcessBuilder();\r\n            processBuilder.command(pluginFilePath.getCanonicalPath(), &quot;-c&quot;, pingPath.getCanonicalPath(), &quot;-lp&quot;\r\n                    , binFilePath1.getCanonicalPath(), &quot;-o&quot;, resultPath.getCanonicalPath());\r\n\r\n            Process process = processBuilder.start();\r\n            Log.i(&quot;&quot;, process.toString());\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\nso basically my command is \r\n./plugintest -c in.conf -lp /data/data/***.****.*****/files/bin/lib -o results.txt\r\n\r\nIt smoothly works on android API 24,25 \r\n\r\nBut when I try to load in android 31 / 32 API level it gives me an error like below\r\n\r\n**System.err: java.io.IOException: Cannot run program &quot;/data/data/***.****.*****/files/verifier/bin/plugin-testapp&quot;: error=13, Permission denied**\r\n\r\n - try all permission but with any of permission no luck.\r\n\r\nLet me know if need more information. ","title":"Execute binary file on android API 31 and 32","body":"<p>I have executable files made through the tool-chain via the rust platform.\nwhich is right now arm arch supported.</p>\n<p>now my code snipers as per below</p>\n<pre><code> try {\n        File binFilePath1 = new File(getFilesDir() + Util.BinPath);\n\n        ProcessBuilder processBuilder = new ProcessBuilder();\n        processBuilder.command(pluginFilePath.getCanonicalPath(), &quot;-c&quot;, pingPath.getCanonicalPath(), &quot;-lp&quot;\n                , binFilePath1.getCanonicalPath(), &quot;-o&quot;, resultPath.getCanonicalPath());\n\n        Process process = processBuilder.start();\n        Log.i(&quot;&quot;, process.toString());\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n</code></pre>\n<p>so basically my command is\n./plugintest -c in.conf -lp /data/data/<em><strong>.</strong></em>*.*****/files/bin/lib -o results.txt</p>\n<p>It smoothly works on android API 24,25</p>\n<p>But when I try to load in android 31 / 32 API level it gives me an error like below</p>\n<p><strong>System.err: java.io.IOException: Cannot run program &quot;/data/data/</strong><em>.</em><em><strong>.</strong></em><strong>/files/verifier/bin/plugin-testapp&quot;: error=13, Permission denied</strong></p>\n<ul>\n<li>try all permission but with any of permission no luck.</li>\n</ul>\n<p>Let me know if need more information.</p>\n"},{"tags":["java","mysql","spring","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1656945715,"post_id":72858359,"comment_id":128688287,"body_markdown":"A `subselect` should do the trick, as it can return a list of values","body":"A <code>subselect</code> should do the trick, as it can return a list of values"},{"owner":{"account_id":17629753,"reputation":89,"user_id":12794090,"display_name":"Martin Kršek"},"score":0,"creation_date":1656947046,"post_id":72858359,"comment_id":128688757,"body_markdown":"Can you elaborate please ?\n[I do not thing it works](https://stackoverflow.com/questions/9743011/springdata-is-it-possible-to-have-subqueries-in-the-query-annotation). Also can not see it in documentation.\nSELECT NEW dto.DashboardWithPermissionTypesDTO(d.id, d.name, d.creator, (SELECT NEW Permission(p1) FROM Permission AS p1)) FROM Dashboard AS d LEFT OUTER JOIN Permission AS p ON p.dashboard.id = d.id","body":"Can you elaborate please ? <a href=\"https://stackoverflow.com/questions/9743011/springdata-is-it-possible-to-have-subqueries-in-the-query-annotation\">I do not thing it works</a>. Also can not see it in documentation. SELECT NEW dto.DashboardWithPermissionTypesDTO(d.id, d.name, d.creator, (SELECT NEW Permission(p1) FROM Permission AS p1)) FROM Dashboard AS d LEFT OUTER JOIN Permission AS p ON p.dashboard.id = d.id"}],"owner":{"account_id":17629753,"reputation":89,"user_id":12794090,"display_name":"Martin Kršek"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":337,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1656945099,"creation_date":1656945099,"question_id":72858359,"body_markdown":"I have two JPA entities, Dashboard and Permission.\r\n\r\n```\r\npublic class Dashboard {\r\n  private String id;\r\n  private String name;\r\n```\r\n```\r\npublic class Permission {\r\n  private String id;\r\n  @Enumerated(STRING)\r\n  private PermissionType type;\r\n  @ManyToOne\r\n  private Dashboard dashboard;\r\n```\r\nI want to select all Dashboards with their Permission types(only list of string values). So I created DTO.\r\n```\r\npublic class DashboardWithPermissionTypesDTO {\r\n  private String id;\r\n  private String name;\r\n  private String creator;\r\n  private List&lt;String&gt; permissionTypes;\r\n}\r\n```\r\n\r\nI am able to query similar object(same as DashboardWithPermissionTypesDTO, but instead of List&lt;String&gt; it has String only)\r\n*@Query(&quot;SELECT NEW dto.DashboardWithPermissionTypesDTO(d.id, d.name, d.creator, p.type) FROM Dashboard AS d LEFT OUTER JOIN Permission AS p ON p.dashboard.id = d.id&quot;)*\r\n\r\n**Is it possible to query result straight to DashboardWithPermissionTypesDTO object?**\r\n\r\nThanks !  \r\n\r\n","title":"Spring JPA join parent with child object into custom DTO","body":"<p>I have two JPA entities, Dashboard and Permission.</p>\n<pre><code>public class Dashboard {\n  private String id;\n  private String name;\n</code></pre>\n<pre><code>public class Permission {\n  private String id;\n  @Enumerated(STRING)\n  private PermissionType type;\n  @ManyToOne\n  private Dashboard dashboard;\n</code></pre>\n<p>I want to select all Dashboards with their Permission types(only list of string values). So I created DTO.</p>\n<pre><code>public class DashboardWithPermissionTypesDTO {\n  private String id;\n  private String name;\n  private String creator;\n  private List&lt;String&gt; permissionTypes;\n}\n</code></pre>\n<p>I am able to query similar object(same as DashboardWithPermissionTypesDTO, but instead of List it has String only)\n<em>@Query(&quot;SELECT NEW dto.DashboardWithPermissionTypesDTO(d.id, d.name, d.creator, p.type) FROM Dashboard AS d LEFT OUTER JOIN Permission AS p ON p.dashboard.id = d.id&quot;)</em></p>\n<p><strong>Is it possible to query result straight to DashboardWithPermissionTypesDTO object?</strong></p>\n<p>Thanks !</p>\n"},{"tags":["java","json","tomcat"],"comments":[{"owner":{"account_id":1912441,"reputation":2961,"user_id":1725871,"accept_rate":88,"display_name":"JoSSte"},"score":0,"creation_date":1656945024,"post_id":72858242,"comment_id":128688039,"body_markdown":"Can you update your question with a `curl` describing how you POST your JSON? (or whatever language you coded in)","body":"Can you update your question with a <code>curl</code> describing how you POST your JSON? (or whatever language you coded in)"},{"owner":{"account_id":7701,"reputation":47163,"user_id":13447,"accept_rate":100,"display_name":"Olaf Kock"},"score":0,"creation_date":1656946322,"post_id":72858242,"comment_id":128688461,"body_markdown":"...and the code that handles the upload. Tomcat doesn&#39;t shutdown upon random post requests, you&#39;d have to trigger something else, e.g. from within the handler for your request.","body":"...and the code that handles the upload. Tomcat doesn&#39;t shutdown upon random post requests, you&#39;d have to trigger something else, e.g. from within the handler for your request."}],"owner":{"account_id":8854867,"reputation":31,"user_id":6612943,"display_name":"Pentolone"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":401,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1656944960,"creation_date":1656944590,"question_id":72858242,"body_markdown":"I have a strange tomcat behaviour after posting a request in Json format.\r\n\r\nTomcat shutdown without any exception and/or error\r\n\r\nThis is the extract of the log file\r\n\r\n    \r\n```\r\n02-Jul-2022 18:50:10.470 FINE [http-nio-8082-exec-1190] org.apache.catalina.authenticator.AuthenticatorBase.invoke Security checking request POST /xxxx/xxxx/xxxxxx\r\n02-Jul-2022 18:50:10.470 FINE [http-nio-8082-exec-1190] org.apache.catalina.realm.RealmBase.findSecurityConstraints No applicable constraints defined\r\n02-Jul-2022 18:50:10.470 FINE [http-nio-8082-exec-1190] org.apache.catalina.authenticator.AuthenticatorBase.invoke Not subject to any constraint\r\n02-Jul-2022 18:50:10.486 FINE [http-nio-8082-Acceptor-0] org.apache.tomcat.util.threads.LimitLatch.countUpOrAwait Counting up[http-nio-8082-Acceptor-0] latch=204\r\n02-Jul-2022 18:50:10.580 FINE [http-nio-8082-exec-1190] org.apache.coyote.http11.Http11InputBuffer.fill Before fill(): parsingHeader: [false], parsingRequestLine: [false], parsingRequestLinePhase: [0], parsingRequestLineStart: [0], byteBuffer.position(): [319], byteBuffer.limit(): [319], end: [319]\r\n02-Jul-2022 18:50:10.580 FINE [http-nio-8082-exec-1190] org.apache.tomcat.util.net.SocketWrapperBase.populateReadBuffer Socket: [org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper@6b17f64e:org.apache.tomcat.util.net.NioChannel@4d13a076:java.nio.channels.SocketChannel[connected local=/xx.xx.xx.xx:8082 remote=/192.168.99.12:53693]], Read from buffer: [0]\r\n02-Jul-2022 18:50:10.580 FINE [http-nio-8082-exec-1190] org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.read Socket: [org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper@6b17f64e:org.apache.tomcat.util.net.NioChannel@4d13a076:java.nio.channels.SocketChannel[connected local=/xx.xx.xx.xx:8082 remote=/xx.xx.xx.xx:53693]], Read direct from socket: [255]\r\n02-Jul-2022 18:50:10.580 FINE [http-nio-8082-exec-1190] org.apache.coyote.http11.Http11InputBuffer.fill Received [{&quot;Email&quot;:&quot;xxxxx@gmail.com&quot;,&quot;Fields&quot;:[{&quot;Id&quot;:1,&quot;Description&quot;:&quot;nome&quot;,&quot;Value&quot;:&quot;xxxxxx&quot;},{&quot;Id&quot;:2,&quot;Description&quot;:&quot;cognome&quot;,&quot;Value&quot;:&quot;xxxxxxx&quot;},{&quot;Id&quot;:8,&quot;Description&quot;:&quot;paese&quot;,&quot;Value&quot;:&quot;Italia&quot;},{&quot;Id&quot;:27,&quot;Description&quot;:&quot;compleanno&quot;,&quot;Value&quot;:&quot;yyyy-mm-dd&quot;}]}]\r\n02-Jul-2022 18:50:13.940 FINE [http-nio-8082-Acceptor-0] org.apache.tomcat.util.threads.LimitLatch.countUpOrAwait Counting up[http-nio-8082-Acceptor-0] latch=205\r\n02-Jul-2022 18:50:17.909 FINE [http-nio-8082-Acceptor-0] org.apache.tomcat.util.threads.LimitLatch.countUpOrAwait Counting up[http-nio-8082-Acceptor-0] latch=206\r\n02-Jul-2022 18:50:18.252 FINE [http-nio-8082-Acceptor-0] org.apache.tomcat.util.threads.LimitLatch.countUpOrAwait Counting up[http-nio-8082-Acceptor-0] latch=207\r\n02-Jul-2022 18:50:18.956 FINE [http-nio-8082-Acceptor-0] org.apache.tomcat.util.threads.LimitLatch.countUpOrAwait Counting up[http-nio-8082-Acceptor-0] latch=208\r\n02-Jul-2022 18:58:57.810 FINE [Thread-17] org.apache.catalina.util.LifecycleBase.setStateInternal Setting state for [StandardServer[-1]] to [STOPPING_PREP]\r\n02-Jul-2022 18:58:57.815 FINE [Thread-17] org.apache.catalina.util.LifecycleBase.setStateInternal Setting state for [StandardServer[-1]] to [STOPPING]\r\n02-Jul-2022 18:58:57.816 FINE [Thread-17] org.apache.catalina.mbeans.GlobalResourcesLifecycleListener.destroyMBeans Destroying MBeans for Global JNDI Resources\r\n02-Jul-2022 18:58:57.822 FINE [Thread-17] org.apache.catalina.util.LifecycleBase.setStateInternal Setting state for [StandardService[Catalina]] to [STOPPING_PREP]\r\n02-Jul-2022 18:58:57.822 INFO [Thread-17] org.apache.coyote.AbstractProtocol.pause Pausing ProtocolHandler [&quot;http-nio-8082&quot;]\r\n\r\n[2022-07-02 18:58:44] [debug] ( prunsrv.c:1032) [ 8012] reportServiceStatusE: dwCurrentState = 4, dwWin32ExitCode = 0, dwWaitHint = 0, dwServiceSpecificExitCode = 0.\r\n[2022-07-02 18:58:53] [debug] ( prunsrv.c:1032) [ 8012] reportServiceStatusE: dwCurrentState = 4, dwWin32ExitCode = 0, dwWaitHint = 0, dwServiceSpecificExitCode = 0.\r\n[2022-07-02 18:58:54] [debug] ( prunsrv.c:1032) [ 8012] reportServiceStatusE: dwCurrentState = 4, dwWin32ExitCode = 0, dwWaitHint = 0, dwServiceSpecificExitCode = 0.\r\n[2022-07-02 18:58:54] [debug] ( prunsrv.c:1032) [ 8012] reportServiceStatusE: dwCurrentState = 4, dwWin32ExitCode = 0, dwWaitHint = 0, dwServiceSpecificExitCode = 0.\r\n-&gt;&gt;&gt;&gt;&gt;&gt; [2022-07-02 18:58:57] [debug] ( prunsrv.c:1032) [ 8012] reportServiceStatusE: dwCurrentState = 3, dwWin32ExitCode = 0, dwWaitHint = 3000, dwServiceSpecificExitCode = 0.\r\n[2022-07-02 18:58:57] [info] ( prunsrv.c:1132) [ 4112] Stopping service...\r\n[2022-07-02 18:58:57] [debug] ( javajni.c:414 ) [ 4112] Loaded JVM DLL &#39;C:\\Program Files\\JAVA\\bin\\server\\jvm.dll&#39;, home &#39;&#39;.\r\n[2022-07-02 18:58:57] [debug] ( javajni.c:419 ) [ 4112] JNI_GetCreatedJavaVMs...\r\n[2022-07-02 18:58:57] [debug] ( javajni.c:1003) [10616] argv[0] = stop\r\n```\r\n\r\nJSON payload:\r\n```json\r\n[\r\n {&quot;Email&quot;:&quot;xxxxx@gmail.com&quot;,&quot;Fields&quot;:\r\n [\r\n  {&quot;Id&quot;:1,&quot;Description&quot;:&quot;nome&quot;,&quot;Value&quot;:&quot;xxxxxx&quot;},\r\n  {&quot;Id&quot;:2,&quot;Description&quot;:&quot;cognome&quot;,&quot;Value&quot;:&quot;xxxxxxx&quot;},\r\n  {&quot;Id&quot;:8,&quot;Description&quot;:&quot;paese&quot;,&quot;Value&quot;:&quot;Italia&quot;},\r\n  {&quot;Id&quot;:27,&quot;Description&quot;:&quot;compleanno&quot;,&quot;Value&quot;:&quot;yyyy-mm-dd&quot;}\r\n ]\r\n }\r\n]\r\n```","title":"Apache Tomcat unexpectedly gracefully stops after a POST","body":"<p>I have a strange tomcat behaviour after posting a request in Json format.</p>\n<p>Tomcat shutdown without any exception and/or error</p>\n<p>This is the extract of the log file</p>\n<pre><code>02-Jul-2022 18:50:10.470 FINE [http-nio-8082-exec-1190] org.apache.catalina.authenticator.AuthenticatorBase.invoke Security checking request POST /xxxx/xxxx/xxxxxx\n02-Jul-2022 18:50:10.470 FINE [http-nio-8082-exec-1190] org.apache.catalina.realm.RealmBase.findSecurityConstraints No applicable constraints defined\n02-Jul-2022 18:50:10.470 FINE [http-nio-8082-exec-1190] org.apache.catalina.authenticator.AuthenticatorBase.invoke Not subject to any constraint\n02-Jul-2022 18:50:10.486 FINE [http-nio-8082-Acceptor-0] org.apache.tomcat.util.threads.LimitLatch.countUpOrAwait Counting up[http-nio-8082-Acceptor-0] latch=204\n02-Jul-2022 18:50:10.580 FINE [http-nio-8082-exec-1190] org.apache.coyote.http11.Http11InputBuffer.fill Before fill(): parsingHeader: [false], parsingRequestLine: [false], parsingRequestLinePhase: [0], parsingRequestLineStart: [0], byteBuffer.position(): [319], byteBuffer.limit(): [319], end: [319]\n02-Jul-2022 18:50:10.580 FINE [http-nio-8082-exec-1190] org.apache.tomcat.util.net.SocketWrapperBase.populateReadBuffer Socket: [org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper@6b17f64e:org.apache.tomcat.util.net.NioChannel@4d13a076:java.nio.channels.SocketChannel[connected local=/xx.xx.xx.xx:8082 remote=/192.168.99.12:53693]], Read from buffer: [0]\n02-Jul-2022 18:50:10.580 FINE [http-nio-8082-exec-1190] org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.read Socket: [org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper@6b17f64e:org.apache.tomcat.util.net.NioChannel@4d13a076:java.nio.channels.SocketChannel[connected local=/xx.xx.xx.xx:8082 remote=/xx.xx.xx.xx:53693]], Read direct from socket: [255]\n02-Jul-2022 18:50:10.580 FINE [http-nio-8082-exec-1190] org.apache.coyote.http11.Http11InputBuffer.fill Received [{&quot;Email&quot;:&quot;xxxxx@gmail.com&quot;,&quot;Fields&quot;:[{&quot;Id&quot;:1,&quot;Description&quot;:&quot;nome&quot;,&quot;Value&quot;:&quot;xxxxxx&quot;},{&quot;Id&quot;:2,&quot;Description&quot;:&quot;cognome&quot;,&quot;Value&quot;:&quot;xxxxxxx&quot;},{&quot;Id&quot;:8,&quot;Description&quot;:&quot;paese&quot;,&quot;Value&quot;:&quot;Italia&quot;},{&quot;Id&quot;:27,&quot;Description&quot;:&quot;compleanno&quot;,&quot;Value&quot;:&quot;yyyy-mm-dd&quot;}]}]\n02-Jul-2022 18:50:13.940 FINE [http-nio-8082-Acceptor-0] org.apache.tomcat.util.threads.LimitLatch.countUpOrAwait Counting up[http-nio-8082-Acceptor-0] latch=205\n02-Jul-2022 18:50:17.909 FINE [http-nio-8082-Acceptor-0] org.apache.tomcat.util.threads.LimitLatch.countUpOrAwait Counting up[http-nio-8082-Acceptor-0] latch=206\n02-Jul-2022 18:50:18.252 FINE [http-nio-8082-Acceptor-0] org.apache.tomcat.util.threads.LimitLatch.countUpOrAwait Counting up[http-nio-8082-Acceptor-0] latch=207\n02-Jul-2022 18:50:18.956 FINE [http-nio-8082-Acceptor-0] org.apache.tomcat.util.threads.LimitLatch.countUpOrAwait Counting up[http-nio-8082-Acceptor-0] latch=208\n02-Jul-2022 18:58:57.810 FINE [Thread-17] org.apache.catalina.util.LifecycleBase.setStateInternal Setting state for [StandardServer[-1]] to [STOPPING_PREP]\n02-Jul-2022 18:58:57.815 FINE [Thread-17] org.apache.catalina.util.LifecycleBase.setStateInternal Setting state for [StandardServer[-1]] to [STOPPING]\n02-Jul-2022 18:58:57.816 FINE [Thread-17] org.apache.catalina.mbeans.GlobalResourcesLifecycleListener.destroyMBeans Destroying MBeans for Global JNDI Resources\n02-Jul-2022 18:58:57.822 FINE [Thread-17] org.apache.catalina.util.LifecycleBase.setStateInternal Setting state for [StandardService[Catalina]] to [STOPPING_PREP]\n02-Jul-2022 18:58:57.822 INFO [Thread-17] org.apache.coyote.AbstractProtocol.pause Pausing ProtocolHandler [&quot;http-nio-8082&quot;]\n\n[2022-07-02 18:58:44] [debug] ( prunsrv.c:1032) [ 8012] reportServiceStatusE: dwCurrentState = 4, dwWin32ExitCode = 0, dwWaitHint = 0, dwServiceSpecificExitCode = 0.\n[2022-07-02 18:58:53] [debug] ( prunsrv.c:1032) [ 8012] reportServiceStatusE: dwCurrentState = 4, dwWin32ExitCode = 0, dwWaitHint = 0, dwServiceSpecificExitCode = 0.\n[2022-07-02 18:58:54] [debug] ( prunsrv.c:1032) [ 8012] reportServiceStatusE: dwCurrentState = 4, dwWin32ExitCode = 0, dwWaitHint = 0, dwServiceSpecificExitCode = 0.\n[2022-07-02 18:58:54] [debug] ( prunsrv.c:1032) [ 8012] reportServiceStatusE: dwCurrentState = 4, dwWin32ExitCode = 0, dwWaitHint = 0, dwServiceSpecificExitCode = 0.\n-&gt;&gt;&gt;&gt;&gt;&gt; [2022-07-02 18:58:57] [debug] ( prunsrv.c:1032) [ 8012] reportServiceStatusE: dwCurrentState = 3, dwWin32ExitCode = 0, dwWaitHint = 3000, dwServiceSpecificExitCode = 0.\n[2022-07-02 18:58:57] [info] ( prunsrv.c:1132) [ 4112] Stopping service...\n[2022-07-02 18:58:57] [debug] ( javajni.c:414 ) [ 4112] Loaded JVM DLL 'C:\\Program Files\\JAVA\\bin\\server\\jvm.dll', home ''.\n[2022-07-02 18:58:57] [debug] ( javajni.c:419 ) [ 4112] JNI_GetCreatedJavaVMs...\n[2022-07-02 18:58:57] [debug] ( javajni.c:1003) [10616] argv[0] = stop\n</code></pre>\n<p>JSON payload:</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n {&quot;Email&quot;:&quot;xxxxx@gmail.com&quot;,&quot;Fields&quot;:\n [\n  {&quot;Id&quot;:1,&quot;Description&quot;:&quot;nome&quot;,&quot;Value&quot;:&quot;xxxxxx&quot;},\n  {&quot;Id&quot;:2,&quot;Description&quot;:&quot;cognome&quot;,&quot;Value&quot;:&quot;xxxxxxx&quot;},\n  {&quot;Id&quot;:8,&quot;Description&quot;:&quot;paese&quot;,&quot;Value&quot;:&quot;Italia&quot;},\n  {&quot;Id&quot;:27,&quot;Description&quot;:&quot;compleanno&quot;,&quot;Value&quot;:&quot;yyyy-mm-dd&quot;}\n ]\n }\n]\n</code></pre>\n"},{"tags":["java","swing","javafx","jframe"],"answers":[{"tags":[],"owner":{"account_id":2005516,"reputation":17831,"user_id":1795530,"accept_rate":100,"display_name":"dic19"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1656944880,"creation_date":1421413059,"answer_id":27984482,"question_id":27984081,"body_markdown":"The equivalent of a Swing `JFrame` in JavaFX is the [Stage][1] class which extends from [Window][2] and can be made visible by calling [show()][3] method. The [Scene][4] is more like the frame&#39;s content pane (not *exactly* the same but similar in concept).\r\n\r\n### Off-topic ###\r\n\r\nFor details on components similar to `JDialog` have a read to this Marco Jakob&#39;s post: [JavaFX Dialogs (official)][9]\r\n\r\nOn the other hand there are third-party options available such as [ControlsFX][5] and Marco Jakob&#39;s [JavaFX dialogs][6], or we can play with stage&#39;s [Modality][7] to achieve something close as exemplified [here][8].\r\n\r\n [1]: http://docs.oracle.com/javase/8/javafx/api/javafx/stage/Stage.html\r\n [2]: http://docs.oracle.com/javase/8/javafx/api/javafx/stage/Window.html\r\n [3]: http://docs.oracle.com/javase/8/javafx/api/javafx/stage/Window.html#show--\r\n [4]: http://docs.oracle.com/javase/8/javafx/api/javafx/scene/Scene.html\r\n [5]: http://fxexperience.com/controlsfx/\r\n [6]: http://code.makery.ch/blog/javafx-2-dialogs/\r\n [7]: http://docs.oracle.com/javase/8/javafx/api/javafx/stage/Modality.html\r\n [8]: https://stackoverflow.com/a/8310446/1795530\r\n [9]: http://code.makery.ch/blog/javafx-dialogs-official/","title":"JavaFx equivalent of Swing JFrame","body":"<p>The equivalent of a Swing <code>JFrame</code> in JavaFX is the <a href=\"http://docs.oracle.com/javase/8/javafx/api/javafx/stage/Stage.html\" rel=\"nofollow noreferrer\">Stage</a> class which extends from <a href=\"http://docs.oracle.com/javase/8/javafx/api/javafx/stage/Window.html\" rel=\"nofollow noreferrer\">Window</a> and can be made visible by calling <a href=\"http://docs.oracle.com/javase/8/javafx/api/javafx/stage/Window.html#show--\" rel=\"nofollow noreferrer\">show()</a> method. The <a href=\"http://docs.oracle.com/javase/8/javafx/api/javafx/scene/Scene.html\" rel=\"nofollow noreferrer\">Scene</a> is more like the frame's content pane (not <em>exactly</em> the same but similar in concept).</p>\n<h3>Off-topic</h3>\n<p>For details on components similar to <code>JDialog</code> have a read to this Marco Jakob's post: <a href=\"http://code.makery.ch/blog/javafx-dialogs-official/\" rel=\"nofollow noreferrer\">JavaFX Dialogs (official)</a></p>\n<p>On the other hand there are third-party options available such as <a href=\"http://fxexperience.com/controlsfx/\" rel=\"nofollow noreferrer\">ControlsFX</a> and Marco Jakob's <a href=\"http://code.makery.ch/blog/javafx-2-dialogs/\" rel=\"nofollow noreferrer\">JavaFX dialogs</a>, or we can play with stage's <a href=\"http://docs.oracle.com/javase/8/javafx/api/javafx/stage/Modality.html\" rel=\"nofollow noreferrer\">Modality</a> to achieve something close as exemplified <a href=\"https://stackoverflow.com/a/8310446/1795530\">here</a>.</p>\n"}],"owner":{"account_id":5079214,"reputation":1115,"user_id":4075832,"accept_rate":73,"display_name":"CN1002"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13872,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":27984482,"answer_count":1,"score":7,"last_activity_date":1656944880,"creation_date":1421411630,"question_id":27984081,"body_markdown":"I am learning JavaFX. I have encountered a problem; I cannot figure out what is the equivalent of a Swing JFrame in JavaFX. Is it the Scene or the Stage?","title":"JavaFx equivalent of Swing JFrame","body":"<p>I am learning JavaFX. I have encountered a problem; I cannot figure out what is the equivalent of a Swing JFrame in JavaFX. Is it the Scene or the Stage?</p>\n"},{"tags":["java","android","react-native","buildconfig","react-native-config"],"comments":[{"owner":{"account_id":9172301,"reputation":4168,"user_id":6819340,"accept_rate":39,"display_name":"darshan"},"score":0,"creation_date":1656945279,"post_id":72858269,"comment_id":128688142,"body_markdown":"`BuildConfig.*` fields are not encrypted, you need to implement your own logic for encryption &amp; decryption of important keys.","body":"<code>BuildConfig.*</code> fields are not encrypted, you need to implement your own logic for encryption &amp; decryption of important keys."},{"owner":{"account_id":1324769,"reputation":305,"user_id":1269850,"accept_rate":50,"display_name":"Mallikarjun Hampannavar"},"score":0,"creation_date":1656945472,"post_id":72858269,"comment_id":128688211,"body_markdown":"How do we implement @DarShan.. Can you please let me know if you know","body":"How do we implement @DarShan.. Can you please let me know if you know"}],"owner":{"account_id":1324769,"reputation":305,"user_id":1269850,"accept_rate":50,"display_name":"Mallikarjun Hampannavar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":459,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1656944734,"creation_date":1656944734,"question_id":72858269,"body_markdown":"I have created .env file in react native and from native side i&#39;m able access the BuildConfig.KEY_NAME in MainApplication.java file \r\nBut security team hS decompiled the app/APK using MobSF and can able to access the all keys from the BuildConfig.Java source file.\r\nHow do we hide the values in BuildConfig file and how can we prevent accessing the BuildConfig.java file\r\nI have added proguard rules and minifyEnabled true.\r\n\r\n      buildTypes {\r\n        debug {\r\n            signingConfig signingConfigs.debug\r\n        }\r\n        release {\r\n            \r\n            // see https://reactnative.dev/docs/signed-apk-android.\r\n            signingConfig signingConfigs.release\r\n            minifyEnabled enableProguardInReleaseBuilds\r\n            proguardFiles getDefaultProguardFile(&quot;proguard-android.txt&quot;), \r\n            &quot;proguard-rules.pro&quot;\r\n        }\r\n    }\r\n\r\nDid all the possible way But no luck yet.\r\nCould any body help me on this ?\r\n\r\nMy manager said don&#39;t use the NKD implementation using c/c++ approach\r\nAny help much appreciated\r\n\r\n\r\n","title":"After decompile the apk BuildConfig.java file values are accessible","body":"<p>I have created .env file in react native and from native side i'm able access the BuildConfig.KEY_NAME in MainApplication.java file\nBut security team hS decompiled the app/APK using MobSF and can able to access the all keys from the BuildConfig.Java source file.\nHow do we hide the values in BuildConfig file and how can we prevent accessing the BuildConfig.java file\nI have added proguard rules and minifyEnabled true.</p>\n<pre><code>  buildTypes {\n    debug {\n        signingConfig signingConfigs.debug\n    }\n    release {\n        \n        // see https://reactnative.dev/docs/signed-apk-android.\n        signingConfig signingConfigs.release\n        minifyEnabled enableProguardInReleaseBuilds\n        proguardFiles getDefaultProguardFile(&quot;proguard-android.txt&quot;), \n        &quot;proguard-rules.pro&quot;\n    }\n}\n</code></pre>\n<p>Did all the possible way But no luck yet.\nCould any body help me on this ?</p>\n<p>My manager said don't use the NKD implementation using c/c++ approach\nAny help much appreciated</p>\n"},{"tags":["java","xml","attributes","tags","jaxb"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1656942807,"post_id":72857806,"comment_id":128687213,"body_markdown":"Can you post the code that you use to marshal the object to xml?","body":"Can you post the code that you use to marshal the object to xml?"},{"owner":{"account_id":21654267,"reputation":1,"user_id":15974378,"display_name":"CeoUnit"},"score":0,"creation_date":1657016640,"post_id":72857806,"comment_id":128703950,"body_markdown":"@f1sh Updated\nForgot about it","body":"@f1sh Updated Forgot about it"}],"owner":{"account_id":21654267,"reputation":1,"user_id":15974378,"display_name":"CeoUnit"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":150,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1656944008,"creation_date":1656942534,"question_id":72857806,"body_markdown":"I have some class generated by jaxb mave plugin like this: \r\n```@XmlAccessorType(XmlAccessType.FIELD)\r\n@XmlType\r\n@XmlRootElement(name = &quot;Foo&quot;, namespace = &quot;urn://some-urn&quot;)\r\npublic class Foo {\r\n    @XmlAttribute(name = &quot;id&quot;, required = true)\r\n    protected String id;\r\n    @XmlAttribute(name = &quot;name&quot;, required = true)\r\n    protected BigInteger name;\r\n    @XmlAttribute(name = &quot;age&quot;, required = true)\r\n    protected String age;\r\n```\r\nI need to marshal object from this class, but JAXB marshaling attributes as an elements.\r\n\r\nRequired:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\r\n&lt;ns2:Foo xmlns:ns2=&quot;urn://some-urn&quot; id=&quot;1&quot; name=&quot;Boris&quot; age=&quot;43&quot;&gt;\r\n    //some elements in the root element\r\n&lt;/ns2:Foo&gt;\r\n```\r\nProvided:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\r\n&lt;ns2:Foo xmlns:ns2=&quot;urn://some-urn&quot;&gt;\r\n    &lt;id&gt;1&lt;/id&gt;\r\n    &lt;name&gt;Boris&lt;/name&gt;\r\n    &lt;age&gt;43&lt;/age&gt;\r\n&lt;/ns2:Foo&gt;\r\n```\r\nMarshalling method:\r\n```\r\npublic String marshalToXml(Foo foo) {\r\n        StringWriter stringWriter = new StringWriter();\r\n        try {\r\n            Marshaller marshaller = JAXBContext.newInstance(Foo.class).createMarshaller();\r\n            marshaller.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT, Boolean.TRUE);\r\n            QName qName = new QName(&quot;urn://some-urn&quot;,\r\n                    &quot;Foo&quot;);\r\n            JAXBElement&lt;Foo&gt; bar = new JAXBElement&lt;&gt;(qName, Foo.class, foo);\r\n            marshaller.marshal(bar, stringWriter);\r\n            return stringWriter.toString();\r\n        } catch (JAXBException e) {\r\n            log.error(e.getMessage(), e);\r\n        }\r\n        return null;\r\n    }\r\n```","title":"JAXB don&#39;t marshal attribute","body":"<p>I have some class generated by jaxb mave plugin like this:</p>\n<pre><code>@XmlType\n@XmlRootElement(name = &quot;Foo&quot;, namespace = &quot;urn://some-urn&quot;)\npublic class Foo {\n    @XmlAttribute(name = &quot;id&quot;, required = true)\n    protected String id;\n    @XmlAttribute(name = &quot;name&quot;, required = true)\n    protected BigInteger name;\n    @XmlAttribute(name = &quot;age&quot;, required = true)\n    protected String age;\n</code></pre>\n<p>I need to marshal object from this class, but JAXB marshaling attributes as an elements.</p>\n<p>Required:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\n&lt;ns2:Foo xmlns:ns2=&quot;urn://some-urn&quot; id=&quot;1&quot; name=&quot;Boris&quot; age=&quot;43&quot;&gt;\n    //some elements in the root element\n&lt;/ns2:Foo&gt;\n</code></pre>\n<p>Provided:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\n&lt;ns2:Foo xmlns:ns2=&quot;urn://some-urn&quot;&gt;\n    &lt;id&gt;1&lt;/id&gt;\n    &lt;name&gt;Boris&lt;/name&gt;\n    &lt;age&gt;43&lt;/age&gt;\n&lt;/ns2:Foo&gt;\n</code></pre>\n<p>Marshalling method:</p>\n<pre><code>public String marshalToXml(Foo foo) {\n        StringWriter stringWriter = new StringWriter();\n        try {\n            Marshaller marshaller = JAXBContext.newInstance(Foo.class).createMarshaller();\n            marshaller.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT, Boolean.TRUE);\n            QName qName = new QName(&quot;urn://some-urn&quot;,\n                    &quot;Foo&quot;);\n            JAXBElement&lt;Foo&gt; bar = new JAXBElement&lt;&gt;(qName, Foo.class, foo);\n            marshaller.marshal(bar, stringWriter);\n            return stringWriter.toString();\n        } catch (JAXBException e) {\n            log.error(e.getMessage(), e);\n        }\n        return null;\n    }\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":25716391,"reputation":11,"user_id":19474104,"display_name":"kalyan roy"},"score":0,"creation_date":1656874745,"post_id":72849107,"comment_id":128672317,"body_markdown":"Figured out my mistake, I didnt, use dialog.findViewById which after using problem got resolved","body":"Figured out my mistake, I didnt, use dialog.findViewById which after using problem got resolved"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1656935588,"post_id":72849107,"comment_id":128684701,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"answers":[{"tags":[],"owner":{"account_id":24082191,"reputation":54,"user_id":18056715,"display_name":"Isuru udayanga"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656943993,"creation_date":1656943993,"answer_id":72858116,"question_id":72849107,"body_markdown":"I think your actionButton not initialize properly.why because occur null pointer exception.always use methods for structure your code as best practies.study bellow code and modify your code. \r\n\r\n\r\n    private void showDialog(){\r\n    \r\n    View v = LayoutInfilator.from(this).infilate(R.layout.update_contact_dialog_layout,null);\r\n    \r\n      AlertDialog.Builder builder = new AlertDialog.Builder(this, R.style.CustomDialogImage);\r\n            builder.setView(v);\r\n    \r\n    Dialog dialog = builder.create();\r\n    \r\n      EditText addTxtName = v.findViewById(R.id.addTxtName);\r\n      EditText addTxtNumber = v.findViewById(R.id.addTxtNumber);\r\n      Button btnAction = v.findViewById(R.id.problmBtn);\r\n    \r\n    \r\n     btnAction.setOnClickListener(new View.OnClickListener() {\r\n                        @Override\r\n                        public void onClick(View view) {\r\n                                String name = &quot;&quot;, number = &quot;&quot;;\r\n                                if (!addTxtName.getText().toString().equals(&quot;&quot;)){\r\n                                    name = addTxtName.getText().toString();\r\n                                } else{\r\n                                    Toast.makeText(MainActivity.this, &quot;Please add a valid name&quot;, Toast.LENGTH_SHORT).show();\r\n                                }\r\n                                if (!addTxtNumber.getText().toString().equals(&quot;&quot;)){\r\n                                    number = addTxtNumber.getText().toString();\r\n                                } else {\r\n                                    Toast.makeText(MainActivity.this, &quot;Please add valid contact number&quot;, Toast.LENGTH_SHORT).show();\r\n                                }\r\n                                list.add(new ContactModel(name, number));\r\n                                adapter.notifyItemInserted(list.size() - 1);\r\n                                recyclerView.scrollToPosition(list.size() - 1);\r\n    \r\n                        }\r\n                    });\r\n    \r\n    dialog.show();\r\n    }\r\n\r\ncall this method in side your btnOpenDialog onclicklistener . like bellow.\r\n\r\n     btnOpenDialog.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n    \r\n        showDialog();\r\n    \r\n    }});\r\n\r\nAnd also dont forget add bellow style in your style.xml file.\r\n\r\n   \r\n\r\n     &lt;style name=&quot;CustomDialogImage&quot; parent=&quot;Theme.AppCompat.Dialog&quot;&gt;\r\n            &lt;item name=&quot;colorAccent&quot;&gt;@color/color_primary&lt;/item&gt;\r\n            &lt;item name=&quot;windowNoTitle&quot;&gt;true&lt;/item&gt;\r\n            &lt;item name=&quot;android:windowBackground&quot;&gt;@android:color/transparent&lt;/item&gt;\r\n            &lt;item name=&quot;android:windowIsFloating&quot;&gt;true&lt;/item&gt;\r\n            &lt;item name=&quot;android:windowMinWidthMajor&quot;&gt;90%&lt;/item&gt;\r\n            &lt;item name=&quot;android:windowMinWidthMinor&quot;&gt;90%&lt;/item&gt;\r\n        &lt;/style&gt;\r\n\r\n","title":"Caling a clickListener inside a clickListener return error null object reference error","body":"<p>I think your actionButton not initialize properly.why because occur null pointer exception.always use methods for structure your code as best practies.study bellow code and modify your code.</p>\n<pre><code>private void showDialog(){\n\nView v = LayoutInfilator.from(this).infilate(R.layout.update_contact_dialog_layout,null);\n\n  AlertDialog.Builder builder = new AlertDialog.Builder(this, R.style.CustomDialogImage);\n        builder.setView(v);\n\nDialog dialog = builder.create();\n\n  EditText addTxtName = v.findViewById(R.id.addTxtName);\n  EditText addTxtNumber = v.findViewById(R.id.addTxtNumber);\n  Button btnAction = v.findViewById(R.id.problmBtn);\n\n\n btnAction.setOnClickListener(new View.OnClickListener() {\n                    @Override\n                    public void onClick(View view) {\n                            String name = &quot;&quot;, number = &quot;&quot;;\n                            if (!addTxtName.getText().toString().equals(&quot;&quot;)){\n                                name = addTxtName.getText().toString();\n                            } else{\n                                Toast.makeText(MainActivity.this, &quot;Please add a valid name&quot;, Toast.LENGTH_SHORT).show();\n                            }\n                            if (!addTxtNumber.getText().toString().equals(&quot;&quot;)){\n                                number = addTxtNumber.getText().toString();\n                            } else {\n                                Toast.makeText(MainActivity.this, &quot;Please add valid contact number&quot;, Toast.LENGTH_SHORT).show();\n                            }\n                            list.add(new ContactModel(name, number));\n                            adapter.notifyItemInserted(list.size() - 1);\n                            recyclerView.scrollToPosition(list.size() - 1);\n\n                    }\n                });\n\ndialog.show();\n}\n</code></pre>\n<p>call this method in side your btnOpenDialog onclicklistener . like bellow.</p>\n<pre><code> btnOpenDialog.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n\n    showDialog();\n\n}});\n</code></pre>\n<p>And also dont forget add bellow style in your style.xml file.</p>\n<pre><code> &lt;style name=&quot;CustomDialogImage&quot; parent=&quot;Theme.AppCompat.Dialog&quot;&gt;\n        &lt;item name=&quot;colorAccent&quot;&gt;@color/color_primary&lt;/item&gt;\n        &lt;item name=&quot;windowNoTitle&quot;&gt;true&lt;/item&gt;\n        &lt;item name=&quot;android:windowBackground&quot;&gt;@android:color/transparent&lt;/item&gt;\n        &lt;item name=&quot;android:windowIsFloating&quot;&gt;true&lt;/item&gt;\n        &lt;item name=&quot;android:windowMinWidthMajor&quot;&gt;90%&lt;/item&gt;\n        &lt;item name=&quot;android:windowMinWidthMinor&quot;&gt;90%&lt;/item&gt;\n    &lt;/style&gt;\n</code></pre>\n"}],"owner":{"account_id":25716391,"reputation":11,"user_id":19474104,"display_name":"kalyan roy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656943993,"creation_date":1656874220,"question_id":72849107,"body_markdown":"**I&#39;m getting the error [Attempt to invoke virtual method &#39;void android.widget.Button.setOnClickListener(android.view.View$OnClickListener)&#39; on a null object reference] on running the below code and from Logcat I checked the error is at line when calling the setOnClickListener() on the button id &quot;problmBtn&quot; at line 47**\r\n```\r\n\r\n    package com.royslab.recview;\r\n\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.recyclerview.widget.LinearLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\n\r\nimport android.app.Dialog;\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.Toast;\r\n\r\n\r\nimport com.google.android.material.floatingactionbutton.FloatingActionButton;\r\n\r\nimport java.util.ArrayList;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    ArrayList&lt;ContactModel&gt; list = new ArrayList&lt;&gt;();\r\n    RecyclerView recyclerView;\r\n    ContactRecyclerAdapter adapter;\r\n    FloatingActionButton btnOpenDialog;\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        recyclerView = findViewById(R.id.recyclerView);\r\n        btnOpenDialog = findViewById(R.id.btnOpenDialog);\r\n\r\n        btnOpenDialog.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Dialog dialog = new Dialog(MainActivity.this);\r\n                dialog.setContentView(R.layout.update_contact_dialog_layout);\r\n\r\n                EditText addTxtName = findViewById(R.id.addTxtName);\r\n                EditText addTxtNumber = findViewById(R.id.addTxtNumber);\r\n                Button btnAction = findViewById(R.id.problmBtn);\r\n\r\n                btnAction.setOnClickListener(new View.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(View view) {\r\n                            String name = &quot;&quot;, number = &quot;&quot;;\r\n                            if (!addTxtName.getText().toString().equals(&quot;&quot;)){\r\n                                name = addTxtName.getText().toString();\r\n                            } else{\r\n                                Toast.makeText(MainActivity.this, &quot;Please add a valid name&quot;, Toast.LENGTH_SHORT).show();\r\n                            }\r\n                            if (!addTxtNumber.getText().toString().equals(&quot;&quot;)){\r\n                                number = addTxtNumber.getText().toString();\r\n                            } else {\r\n                                Toast.makeText(MainActivity.this, &quot;Please add valid contact number&quot;, Toast.LENGTH_SHORT).show();\r\n                            }\r\n                            list.add(new ContactModel(name, number));\r\n                            adapter.notifyItemInserted(list.size() - 1);\r\n                            recyclerView.scrollToPosition(list.size() - 1);\r\n\r\n                    }\r\n                });\r\n                dialog.show();\r\n            }\r\n        });\r\n\r\n\r\n\r\n\r\n        list.add(new ContactModel(R.drawable.a, &quot;Kalyan&quot;,&quot;9999999999&quot;));\r\n        list.add(new ContactModel(R.drawable.b, &quot;Uttam&quot;,&quot;8888888888&quot;));\r\n        list.add(new ContactModel(R.drawable.c, &quot;Bulu&quot;,&quot;99999999999&quot;));\r\n        list.add(new ContactModel(R.drawable.d, &quot;Pampa&quot;,&quot;00000000000&quot;));\r\n        list.add(new ContactModel(R.drawable.a, &quot;Kalyan&quot;,&quot;9999999999&quot;));\r\n        list.add(new ContactModel(R.drawable.b, &quot;Uttam&quot;,&quot;8888888888&quot;));\r\n        list.add(new ContactModel(R.drawable.c, &quot;Bulu&quot;,&quot;99999999999&quot;));\r\n        list.add(new ContactModel(R.drawable.d, &quot;Pampa&quot;,&quot;00000000000&quot;));\r\n        \r\n\r\n\r\n        adapter = new ContactRecyclerAdapter(this, list);\r\n        recyclerView.setAdapter(adapter);\r\n        recyclerView.setLayoutManager(new LinearLayoutManager(this));\r\n\r\n    }\r\n}\r\n\r\n\r\n```\r\n**The XML code is as follows-**\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;300dp&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    android:orientation=&quot;vertical&quot;\r\n    android:gravity=&quot;center_vertical&quot;\r\n    android:background=&quot;@color/teal_700&quot;&gt;\r\n    &lt;TextView\r\n        android:layout_width=&quot;270dp&quot;\r\n        android:layout_height=&quot;3dp&quot;\r\n        android:background=&quot;@color/black&quot;\r\n        android:layout_gravity=&quot;center&quot;/&gt;\r\n    &lt;TextView\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;@string/add_new_contact&quot;\r\n        android:gravity=&quot;center&quot;\r\n        android:textSize=&quot;30sp&quot;\r\n        android:textStyle=&quot;bold&quot;\r\n        android:textColor=&quot;@color/white&quot;/&gt;\r\n\r\n    &lt;androidx.cardview.widget.CardView\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        app:cardCornerRadius=&quot;7dp&quot;\r\n        android:layout_margin=&quot;5dp&quot;\r\n        app:cardBackgroundColor=&quot;@color/teal_200&quot;&gt;\r\n        &lt;LinearLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:gravity=&quot;center_vertical&quot;\r\n            android:id=&quot;@+id/llRow&quot;\r\n            android:padding=&quot;11dp&quot;&gt;\r\n            &lt;androidx.cardview.widget.CardView\r\n                android:layout_width=&quot;100dp&quot;\r\n                android:layout_height=&quot;100dp&quot;\r\n                app:cardCornerRadius=&quot;50dp&quot;&gt;\r\n                &lt;ImageView\r\n                    android:id=&quot;@+id/addImgContact&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;match_parent&quot;\r\n                    android:contentDescription=&quot;@string/contact_image&quot;\r\n                    android:src=&quot;@drawable/ic_user&quot;\r\n                    android:background=&quot;@color/white&quot;\r\n                    /&gt;\r\n            &lt;/androidx.cardview.widget.CardView&gt;\r\n            &lt;LinearLayout\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginStart=&quot;11dp&quot;\r\n                android:orientation=&quot;vertical&quot;\r\n                tools:ignore=&quot;UselessLeaf&quot;\r\n                android:background=&quot;@color/white&quot;&gt;\r\n                &lt;EditText\r\n                    android:id=&quot;@+id/addTxtName&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:hint=&quot;@string/contact&quot;\r\n                    android:textSize=&quot;18sp&quot;\r\n                    android:textStyle=&quot;bold&quot;\r\n                    android:textColor=&quot;@color/material_dynamic_primary40&quot;\r\n                    android:textColorHint=&quot;@color/black&quot;\r\n                    android:layout_marginBottom=&quot;3dp&quot;\r\n                    android:background=&quot;@color/white&quot;\r\n                    android:inputType=&quot;text&quot;\r\n                    android:padding=&quot;3dp&quot;\r\n                    android:autofillHints=&quot;name&quot; /&gt;\r\n                &lt;EditText\r\n                    android:id=&quot;@+id/addTxtNumber&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:hint=&quot;@string/contact_number&quot;\r\n                    android:textSize=&quot;16sp&quot;\r\n                    android:textStyle=&quot;bold&quot;\r\n                    android:textColor=&quot;@color/white&quot;\r\n                    android:textColorHint=&quot;@color/white&quot;\r\n                    android:padding=&quot;3dp&quot;\r\n                    android:background=&quot;@color/material_dynamic_neutral30&quot;\r\n                    android:inputType=&quot;number&quot;\r\n                    android:autofillHints=&quot;phone&quot; /&gt;\r\n\r\n            &lt;/LinearLayout&gt;\r\n        &lt;/LinearLayout&gt;\r\n\r\n    &lt;/androidx.cardview.widget.CardView&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/problmBtn&quot;\r\n        android:layout_width=&quot;280dp&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_gravity=&quot;center&quot;\r\n        android:text=&quot;@string/add_new_contact&quot;\r\n        android:textStyle=&quot;bold&quot;\r\n        android:backgroundTint=&quot;@color/material_dynamic_primary20&quot;\r\n        android:layout_marginBottom=&quot;10dp&quot;\r\n        /&gt;\r\n    &lt;TextView\r\n        android:layout_width=&quot;310dp&quot;\r\n        android:layout_height=&quot;3dp&quot;\r\n        android:background=&quot;@color/white&quot;\r\n        android:layout_gravity=&quot;center&quot;/&gt;\r\n&lt;/LinearLayout&gt;\r\n\r\n```","title":"Caling a clickListener inside a clickListener return error null object reference error","body":"<p><strong>I'm getting the error [Attempt to invoke virtual method 'void android.widget.Button.setOnClickListener(android.view.View$OnClickListener)' on a null object reference] on running the below code and from Logcat I checked the error is at line when calling the setOnClickListener() on the button id &quot;problmBtn&quot; at line 47</strong></p>\n<pre><code>\n    package com.royslab.recview;\n\n\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.recyclerview.widget.LinearLayoutManager;\nimport androidx.recyclerview.widget.RecyclerView;\n\n\nimport android.app.Dialog;\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.Toast;\n\n\nimport com.google.android.material.floatingactionbutton.FloatingActionButton;\n\nimport java.util.ArrayList;\n\npublic class MainActivity extends AppCompatActivity {\n\n    ArrayList&lt;ContactModel&gt; list = new ArrayList&lt;&gt;();\n    RecyclerView recyclerView;\n    ContactRecyclerAdapter adapter;\n    FloatingActionButton btnOpenDialog;\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        recyclerView = findViewById(R.id.recyclerView);\n        btnOpenDialog = findViewById(R.id.btnOpenDialog);\n\n        btnOpenDialog.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Dialog dialog = new Dialog(MainActivity.this);\n                dialog.setContentView(R.layout.update_contact_dialog_layout);\n\n                EditText addTxtName = findViewById(R.id.addTxtName);\n                EditText addTxtNumber = findViewById(R.id.addTxtNumber);\n                Button btnAction = findViewById(R.id.problmBtn);\n\n                btnAction.setOnClickListener(new View.OnClickListener() {\n                    @Override\n                    public void onClick(View view) {\n                            String name = &quot;&quot;, number = &quot;&quot;;\n                            if (!addTxtName.getText().toString().equals(&quot;&quot;)){\n                                name = addTxtName.getText().toString();\n                            } else{\n                                Toast.makeText(MainActivity.this, &quot;Please add a valid name&quot;, Toast.LENGTH_SHORT).show();\n                            }\n                            if (!addTxtNumber.getText().toString().equals(&quot;&quot;)){\n                                number = addTxtNumber.getText().toString();\n                            } else {\n                                Toast.makeText(MainActivity.this, &quot;Please add valid contact number&quot;, Toast.LENGTH_SHORT).show();\n                            }\n                            list.add(new ContactModel(name, number));\n                            adapter.notifyItemInserted(list.size() - 1);\n                            recyclerView.scrollToPosition(list.size() - 1);\n\n                    }\n                });\n                dialog.show();\n            }\n        });\n\n\n\n\n        list.add(new ContactModel(R.drawable.a, &quot;Kalyan&quot;,&quot;9999999999&quot;));\n        list.add(new ContactModel(R.drawable.b, &quot;Uttam&quot;,&quot;8888888888&quot;));\n        list.add(new ContactModel(R.drawable.c, &quot;Bulu&quot;,&quot;99999999999&quot;));\n        list.add(new ContactModel(R.drawable.d, &quot;Pampa&quot;,&quot;00000000000&quot;));\n        list.add(new ContactModel(R.drawable.a, &quot;Kalyan&quot;,&quot;9999999999&quot;));\n        list.add(new ContactModel(R.drawable.b, &quot;Uttam&quot;,&quot;8888888888&quot;));\n        list.add(new ContactModel(R.drawable.c, &quot;Bulu&quot;,&quot;99999999999&quot;));\n        list.add(new ContactModel(R.drawable.d, &quot;Pampa&quot;,&quot;00000000000&quot;));\n        \n\n\n        adapter = new ContactRecyclerAdapter(this, list);\n        recyclerView.setAdapter(adapter);\n        recyclerView.setLayoutManager(new LinearLayoutManager(this));\n\n    }\n}\n\n\n</code></pre>\n<p><strong>The XML code is as follows-</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;300dp&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    android:orientation=&quot;vertical&quot;\n    android:gravity=&quot;center_vertical&quot;\n    android:background=&quot;@color/teal_700&quot;&gt;\n    &lt;TextView\n        android:layout_width=&quot;270dp&quot;\n        android:layout_height=&quot;3dp&quot;\n        android:background=&quot;@color/black&quot;\n        android:layout_gravity=&quot;center&quot;/&gt;\n    &lt;TextView\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;@string/add_new_contact&quot;\n        android:gravity=&quot;center&quot;\n        android:textSize=&quot;30sp&quot;\n        android:textStyle=&quot;bold&quot;\n        android:textColor=&quot;@color/white&quot;/&gt;\n\n    &lt;androidx.cardview.widget.CardView\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        app:cardCornerRadius=&quot;7dp&quot;\n        android:layout_margin=&quot;5dp&quot;\n        app:cardBackgroundColor=&quot;@color/teal_200&quot;&gt;\n        &lt;LinearLayout\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:gravity=&quot;center_vertical&quot;\n            android:id=&quot;@+id/llRow&quot;\n            android:padding=&quot;11dp&quot;&gt;\n            &lt;androidx.cardview.widget.CardView\n                android:layout_width=&quot;100dp&quot;\n                android:layout_height=&quot;100dp&quot;\n                app:cardCornerRadius=&quot;50dp&quot;&gt;\n                &lt;ImageView\n                    android:id=&quot;@+id/addImgContact&quot;\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;match_parent&quot;\n                    android:contentDescription=&quot;@string/contact_image&quot;\n                    android:src=&quot;@drawable/ic_user&quot;\n                    android:background=&quot;@color/white&quot;\n                    /&gt;\n            &lt;/androidx.cardview.widget.CardView&gt;\n            &lt;LinearLayout\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_marginStart=&quot;11dp&quot;\n                android:orientation=&quot;vertical&quot;\n                tools:ignore=&quot;UselessLeaf&quot;\n                android:background=&quot;@color/white&quot;&gt;\n                &lt;EditText\n                    android:id=&quot;@+id/addTxtName&quot;\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:hint=&quot;@string/contact&quot;\n                    android:textSize=&quot;18sp&quot;\n                    android:textStyle=&quot;bold&quot;\n                    android:textColor=&quot;@color/material_dynamic_primary40&quot;\n                    android:textColorHint=&quot;@color/black&quot;\n                    android:layout_marginBottom=&quot;3dp&quot;\n                    android:background=&quot;@color/white&quot;\n                    android:inputType=&quot;text&quot;\n                    android:padding=&quot;3dp&quot;\n                    android:autofillHints=&quot;name&quot; /&gt;\n                &lt;EditText\n                    android:id=&quot;@+id/addTxtNumber&quot;\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:hint=&quot;@string/contact_number&quot;\n                    android:textSize=&quot;16sp&quot;\n                    android:textStyle=&quot;bold&quot;\n                    android:textColor=&quot;@color/white&quot;\n                    android:textColorHint=&quot;@color/white&quot;\n                    android:padding=&quot;3dp&quot;\n                    android:background=&quot;@color/material_dynamic_neutral30&quot;\n                    android:inputType=&quot;number&quot;\n                    android:autofillHints=&quot;phone&quot; /&gt;\n\n            &lt;/LinearLayout&gt;\n        &lt;/LinearLayout&gt;\n\n    &lt;/androidx.cardview.widget.CardView&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/problmBtn&quot;\n        android:layout_width=&quot;280dp&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_gravity=&quot;center&quot;\n        android:text=&quot;@string/add_new_contact&quot;\n        android:textStyle=&quot;bold&quot;\n        android:backgroundTint=&quot;@color/material_dynamic_primary20&quot;\n        android:layout_marginBottom=&quot;10dp&quot;\n        /&gt;\n    &lt;TextView\n        android:layout_width=&quot;310dp&quot;\n        android:layout_height=&quot;3dp&quot;\n        android:background=&quot;@color/white&quot;\n        android:layout_gravity=&quot;center&quot;/&gt;\n&lt;/LinearLayout&gt;\n\n</code></pre>\n"},{"tags":["java","spring","spring-security","spring-webflux","project-reactor"],"comments":[{"owner":{"account_id":8023174,"reputation":9194,"user_id":6051176,"display_name":"Martin Tarj&#225;nyi"},"score":0,"creation_date":1656958482,"post_id":72857726,"comment_id":128691984,"body_markdown":"The thread pool is not infinite. As its name says it is bounded. Its size depends on the number of CPU cores. IIRC it is 10 times of number of CPU cores.","body":"The thread pool is not infinite. As its name says it is bounded. Its size depends on the number of CPU cores. IIRC it is 10 times of number of CPU cores."}],"answers":[{"tags":[],"owner":{"account_id":11253290,"reputation":1289,"user_id":9167731,"display_name":"Semyon Kirekov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1656943930,"creation_date":1656943930,"answer_id":72858103,"question_id":72857726,"body_markdown":"Ok, I got it. `WebSessionManager` is auto-configured. I have to declare my own no-op implementation. Here is the [similar question](https://stackoverflow.com/questions/56056404/disable-websession-creation-when-using-spring-security-with-spring-webflux).","title":"Spring Webflux: Schedulers.boundedElastic grows infinetely","body":"<p>Ok, I got it. <code>WebSessionManager</code> is auto-configured. I have to declare my own no-op implementation. Here is the <a href=\"https://stackoverflow.com/questions/56056404/disable-websession-creation-when-using-spring-security-with-spring-webflux\">similar question</a>.</p>\n"}],"owner":{"account_id":11253290,"reputation":1289,"user_id":9167731,"display_name":"Semyon Kirekov"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":872,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72858103,"answer_count":1,"score":1,"last_activity_date":1656943930,"creation_date":1656942214,"question_id":72857726,"body_markdown":"I&#39;m monitoring my Spring WebFlux app with VisualVM and I&#39;m noticing a strange thing.\r\n\r\nThe `boundedElastic` threads are keeps increasing.\r\n\r\n[![bounded elastic threads][1]][1]\r\n\r\nThe thing is that I don&#39;t use `boundedElastic` scheduler in my app app manually.\r\n\r\nAfter debugging I found this\r\n\r\n[![boundedElastic method stacktract][2]][2]\r\n\r\n  [1]: https://i.stack.imgur.com/lOoSb.png\r\n  [2]: https://i.stack.imgur.com/Yf4Cv.png\r\n\r\nSeems that `InMemoryWebSessionStore` requests the `Schedulers.boundedElastic`. The thing is that this method does not require any authorization though I have Spring Security in the dependencies.\r\n\r\nHow can I disable this behavior? I don&#39;t want my app to grow some thread pool size infinitely. Especially when those threads aren&#39;t even used.\r\n\r\nP.S. Maybe this issue comes from the fact that I inject `ServerWebExchange` as the controller method parameter. But I need it to retrieve the request&#39;s cookies and headers","title":"Spring Webflux: Schedulers.boundedElastic grows infinetely","body":"<p>I'm monitoring my Spring WebFlux app with VisualVM and I'm noticing a strange thing.</p>\n<p>The <code>boundedElastic</code> threads are keeps increasing.</p>\n<p><a href=\"https://i.stack.imgur.com/lOoSb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lOoSb.png\" alt=\"bounded elastic threads\" /></a></p>\n<p>The thing is that I don't use <code>boundedElastic</code> scheduler in my app app manually.</p>\n<p>After debugging I found this</p>\n<p><a href=\"https://i.stack.imgur.com/Yf4Cv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Yf4Cv.png\" alt=\"boundedElastic method stacktract\" /></a></p>\n<p>Seems that <code>InMemoryWebSessionStore</code> requests the <code>Schedulers.boundedElastic</code>. The thing is that this method does not require any authorization though I have Spring Security in the dependencies.</p>\n<p>How can I disable this behavior? I don't want my app to grow some thread pool size infinitely. Especially when those threads aren't even used.</p>\n<p>P.S. Maybe this issue comes from the fact that I inject <code>ServerWebExchange</code> as the controller method parameter. But I need it to retrieve the request's cookies and headers</p>\n"},{"tags":["java","arrays","string"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":5,"creation_date":1656938469,"post_id":72856928,"comment_id":128685608,"body_markdown":"Those spaces are added by `Arrays.toString`, they are not part of your `String[]`. You can create your custom output by copying what `Arrays.toString` does and leaving out the space. Or write your own code such as `Arrays.stream(arr).collect(Collectors.joining(&quot;,&quot;)); `","body":"Those spaces are added by <code>Arrays.toString</code>, they are not part of your <code>String[]</code>. You can create your custom output by copying what <code>Arrays.toString</code> does and leaving out the space. Or write your own code such as <code>Arrays.stream(arr).collect(Collectors.joining(&quot;,&quot;)); </code>"}],"answers":[{"tags":[],"owner":{"account_id":25694056,"reputation":101,"user_id":19461429,"display_name":"RohithPg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1656943876,"creation_date":1656943876,"answer_id":72858092,"question_id":72856928,"body_markdown":"To achieve this, you have to implement your own toString(). The Arrays.toString() method appends &quot;, &quot; after each element of the array. You have to change it like below. Here you will be using toString() method in your own class instead of toString method in Arrays class.\r\n```\r\npublic static void main(String[] args) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tString n= &quot;   Hello world This is me , Hello&quot;;\r\n\t\tSystem.out.println(toString(n.trim().split(&quot; &quot;)));\r\n\t\t \r\n\t\t\r\n\t}\r\n\t\r\n\t  public static String toString(String[] a) {\r\n\t        if (a == null)\r\n\t            return &quot;null&quot;;\r\n\r\n\t        int iMax = a.length - 1;\r\n\t        if (iMax == -1)\r\n\t            return &quot;[]&quot;;\r\n\r\n\t        StringBuilder b = new StringBuilder();\r\n\t        b.append(&#39;[&#39;);\r\n\t        for (int i = 0; ; i++) {\r\n\t            b.append(String.valueOf(a[i]));\r\n\t            if (i == iMax)\r\n\t                return b.append(&#39;]&#39;).toString();\r\n\t            b.append(&quot;,&quot;);\r\n\t        }\r\n\t    }","title":"How to remove space in front of each element in array?","body":"<p>To achieve this, you have to implement your own toString(). The Arrays.toString() method appends &quot;, &quot; after each element of the array. You have to change it like below. Here you will be using toString() method in your own class instead of toString method in Arrays class.</p>\n<pre><code>public static void main(String[] args) {\n        // TODO Auto-generated method stub\n        String n= &quot;   Hello world This is me , Hello&quot;;\n        System.out.println(toString(n.trim().split(&quot; &quot;)));\n         \n        \n    }\n    \n      public static String toString(String[] a) {\n            if (a == null)\n                return &quot;null&quot;;\n\n            int iMax = a.length - 1;\n            if (iMax == -1)\n                return &quot;[]&quot;;\n\n            StringBuilder b = new StringBuilder();\n            b.append('[');\n            for (int i = 0; ; i++) {\n                b.append(String.valueOf(a[i]));\n                if (i == iMax)\n                    return b.append(']').toString();\n                b.append(&quot;,&quot;);\n            }\n        }\n</code></pre>\n"}],"owner":{"display_name":"user19379961"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":72858092,"answer_count":1,"score":-1,"last_activity_date":1656943876,"creation_date":1656938371,"question_id":72856928,"body_markdown":"    String n= &quot;   Hello world This is me , Hello&quot;;\r\n    System.out.println(Arrays.toString(n.trim().split(&quot; &quot;)));\r\n\r\noutput \r\n   \r\n\r\n    [Hello, world, This, is, me, ,, Hello]\r\n\r\nwhat I want is (space before each element should be removed) \r\n\r\n    [Hello,world,This,is,me,,,Hello]","title":"How to remove space in front of each element in array?","body":"<pre><code>String n= &quot;   Hello world This is me , Hello&quot;;\nSystem.out.println(Arrays.toString(n.trim().split(&quot; &quot;)));\n</code></pre>\n<p>output</p>\n<pre><code>[Hello, world, This, is, me, ,, Hello]\n</code></pre>\n<p>what I want is (space before each element should be removed)</p>\n<pre><code>[Hello,world,This,is,me,,,Hello]\n</code></pre>\n"},{"tags":["java","docker","maven","jetty"],"comments":[{"owner":{"account_id":10297068,"reputation":1003,"user_id":7596874,"accept_rate":20,"display_name":"Rathan Naik"},"score":0,"creation_date":1656876251,"post_id":72848828,"comment_id":128672602,"body_markdown":"Are you sure this error is arising from the docker issue?\nThe scripts seem fine to me, may be some problem in the code ?\nCan you post the java code if possible ?\nAlso can you let us know how are you running the docker image ?","body":"Are you sure this error is arising from the docker issue? The scripts seem fine to me, may be some problem in the code ? Can you post the java code if possible ? Also can you let us know how are you running the docker image ?"},{"owner":{"account_id":2188579,"reputation":1604,"user_id":1936343,"accept_rate":48,"display_name":"voila"},"score":0,"creation_date":1656876445,"post_id":72848828,"comment_id":128672639,"body_markdown":"@RathanNaik : I have updated the java code. I am just building my docker file like `docker build -t latest .`","body":"@RathanNaik : I have updated the java code. I am just building my docker file like <code>docker build -t latest .</code>"}],"answers":[{"tags":[],"owner":{"account_id":2188579,"reputation":1604,"user_id":1936343,"accept_rate":48,"display_name":"voila"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656932740,"creation_date":1656932740,"answer_id":72855733,"question_id":72848828,"body_markdown":"Problem got resolved for me. Actually problem was with my jetty image. Instead of using `FROM jetty:latest`, I should be using `FROM jetty:9-jre8-openjdk` then only `classes and servlet jars` would be available for my application. \r\n\r\nHere it the complete `Dockerfile` \r\n\r\n```\r\nFROM maven as build\r\n\r\nCOPY src /home/app/src\r\nCOPY pom.xml /home/app\r\nRUN mvn -f /home/app/pom.xml clean package\r\n\r\n\r\nFROM jetty:9-jre8-openjdk\r\nCOPY --from=build /home/app/target/root.war /var/lib/jetty/webapps\r\nEXPOSE 8080\r\nCMD java -jar &quot;$JETTY_HOME/start.jar&quot;\r\n```\r\n","title":"Running Java Maven project using Jetty docker image","body":"<p>Problem got resolved for me. Actually problem was with my jetty image. Instead of using <code>FROM jetty:latest</code>, I should be using <code>FROM jetty:9-jre8-openjdk</code> then only <code>classes and servlet jars</code> would be available for my application.</p>\n<p>Here it the complete <code>Dockerfile</code></p>\n<pre><code>FROM maven as build\n\nCOPY src /home/app/src\nCOPY pom.xml /home/app\nRUN mvn -f /home/app/pom.xml clean package\n\n\nFROM jetty:9-jre8-openjdk\nCOPY --from=build /home/app/target/root.war /var/lib/jetty/webapps\nEXPOSE 8080\nCMD java -jar &quot;$JETTY_HOME/start.jar&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":406289,"reputation":47511,"user_id":775715,"accept_rate":100,"display_name":"Joakim Erdfelt"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1656943858,"creation_date":1656943858,"answer_id":72858087,"question_id":72848828,"body_markdown":"Jetty 9 is at End of Community Support.\r\n\r\nSee: https://github.com/eclipse/jetty.project/issues/7958\r\n\r\nYou should upgrade, to at least Jetty 10.\r\n\r\nThe problem you have is the combination of `jetty-11.0.11` and `javax/servlet/http/HttpServlet`.\r\n\r\nJetty 11 supports Servlet 5.0, which underwent the Jakarta &quot;Big Bang&quot; and changed namespace to `jakarta.servlet.*`\r\n\r\nSee Past Question for details (including table in accepted answer for support levels for the combination of Jetty version, Servlet Spec version, EE governing body, and Servlet namespace)\r\n\r\n* https://stackoverflow.com/questions/66361859/jetty-11-doesnt-detect-servlets\r\n\r\n","title":"Running Java Maven project using Jetty docker image","body":"<p>Jetty 9 is at End of Community Support.</p>\n<p>See: <a href=\"https://github.com/eclipse/jetty.project/issues/7958\" rel=\"nofollow noreferrer\">https://github.com/eclipse/jetty.project/issues/7958</a></p>\n<p>You should upgrade, to at least Jetty 10.</p>\n<p>The problem you have is the combination of <code>jetty-11.0.11</code> and <code>javax/servlet/http/HttpServlet</code>.</p>\n<p>Jetty 11 supports Servlet 5.0, which underwent the Jakarta &quot;Big Bang&quot; and changed namespace to <code>jakarta.servlet.*</code></p>\n<p>See Past Question for details (including table in accepted answer for support levels for the combination of Jetty version, Servlet Spec version, EE governing body, and Servlet namespace)</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/66361859/jetty-11-doesnt-detect-servlets\">Jetty 11 Doesn&#39;t Detect Servlets</a></li>\n</ul>\n"}],"owner":{"account_id":2188579,"reputation":1604,"user_id":1936343,"accept_rate":48,"display_name":"voila"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":725,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72858087,"answer_count":2,"score":0,"last_activity_date":1656943858,"creation_date":1656871583,"question_id":72848828,"body_markdown":"I am having a simple java maven project which generates some user Ids for a given `GET` request. I am using `javax.servlet` package. \r\n\r\nEverything works fine when I am packaging and deploying the `war` file in local `jetty` server. \r\n\r\nHowever things are not working when I am using the `docker jetty` image and deploying the `war` file. I am getting the below error \r\n\r\n```\r\nMacBook-Pro-3:UIDGenerators unbxd$ docker run 0xvoila/uid-generator:latest \r\n2022-07-03 17:50:09.448:INFO :oejs.Server:main: jetty-11.0.11; built: 2022-06-21T21:42:55.454Z; git: 58487315cb75e0f5c81cc6fa50096cbeb3b9554e; jvm 17.0.3+7\r\n2022-07-03 17:50:09.523:INFO :oejdp.ScanningAppProvider:main: Deployment monitor [file:///var/lib/jetty/webapps/]\r\n2022-07-03 17:50:10.234:INFO :oejss.DefaultSessionIdManager:main: Session workerName=node0\r\n2022-07-03 17:50:10.291:WARN :oejw.WebAppContext:main: Failed startup of context o.e.j.w.WebAppContext@4f67eb2a{Archetype Created Web Application,/uid-generator,file:///tmp/jetty-0_0_0_0-8080-uid-generator_war-_uid-generator-any-15856705197144621036/webapp/,UNAVAILABLE}{/var/lib/jetty/webapps/uid-generator.war}\r\njava.lang.NoClassDefFoundError: javax/servlet/http/HttpServlet\r\n\tat java.base/java.lang.ClassLoader.defineClass1(Native Method)\r\n\tat java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1012)\r\n\tat java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:150)\r\n\tat java.base/java.net.URLClassLoader.defineClass(URLClassLoader.java:524)\r\n\tat java.base/java.net.URLClassLoader$1.run(URLClassLoader.java:427)\r\n\tat java.base/java.net.URLClassLoader$1.run(URLClassLoader.java:421)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:712)\r\n\r\n\r\n```\r\n\r\nHere is my `pom.xml` file \r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n  &lt;groupId&gt;org.amit.system&lt;/groupId&gt;\r\n  &lt;artifactId&gt;UIDGenerators&lt;/artifactId&gt;\r\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n  &lt;packaging&gt;war&lt;/packaging&gt;\r\n\r\n  &lt;name&gt;UIDGenerators Maven Webapp&lt;/name&gt;\r\n  &lt;!-- FIXME change it to the project&#39;s website --&gt;\r\n  &lt;url&gt;http://www.example.com&lt;/url&gt;\r\n\r\n  &lt;properties&gt;\r\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;maven.compiler.source&gt;1.7&lt;/maven.compiler.source&gt;\r\n    &lt;maven.compiler.target&gt;1.7&lt;/maven.compiler.target&gt;\r\n  &lt;/properties&gt;\r\n\r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;junit&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n      &lt;version&gt;4.11&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n      &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n      &lt;version&gt;3.1.0&lt;/version&gt;\r\n      &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n\r\n  &lt;build&gt;\r\n    &lt;finalName&gt;uid-generator&lt;/finalName&gt;\r\n    &lt;pluginManagement&gt;&lt;!-- lock down plugins versions to avoid using Maven defaults (may be moved to parent pom) --&gt;\r\n      &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.1.0&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;!-- see http://maven.apache.org/ref/current/maven-core/default-bindings.html#Plugin_bindings_for_war_packaging --&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.0.2&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.8.0&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;2.22.1&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.2.2&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;2.5.2&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;2.8.2&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n\r\n&lt;!--        &lt;plugin&gt;--&gt;\r\n&lt;!--          &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;--&gt;\r\n&lt;!--          &lt;artifactId&gt;jetty-maven-plugin&lt;/artifactId&gt;--&gt;\r\n&lt;!--          &lt;version&gt;9.4.28.v20200408&lt;/version&gt;--&gt;\r\n&lt;!--        &lt;/plugin&gt;--&gt;\r\n\r\n      &lt;/plugins&gt;\r\n    &lt;/pluginManagement&gt;\r\n  &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nHere is my `Dockerfile` \r\n\r\n```\r\nFROM maven as build\r\n\r\nCOPY src /home/app/src\r\nCOPY pom.xml /home/app\r\nRUN mvn -f /home/app/pom.xml clean package\r\n\r\n\r\nFROM jetty:latest\r\nCOPY --from=build /home/app/target/uid-generator.war /var/lib/jetty/webapps\r\nCMD java -jar &quot;$JETTY_HOME/start.jar&quot;\r\n\r\n```\r\n\r\nI tried to debug myself and it seems like `javax. servlet` is not present in the `jetty` docker image. But in my `pom.xml` file I had given `javax.servlet` as dependencies. \r\n\r\nCan anyone help me with the solution. \r\n\r\nUPDATED\r\n\r\nHere is the java code \r\n\r\n```\r\npackage org.amit.system;\r\n\r\nimport java.io.IOException;\r\nimport javax.servlet.annotation.WebServlet;\r\nimport javax.servlet.http.HttpServlet;\r\nimport javax.servlet.http.HttpServletRequest;\r\nimport javax.servlet.http.HttpServletResponse;\r\n\r\n\r\npublic class UIDGenerator extends HttpServlet {\r\n\r\n    int sequence = 0;\r\n    final static int sequenceBits = 12; // max is 4096\r\n    final static int maxSequence = (int)Math.pow(2, sequenceBits) - 1;\r\n\r\n    final static int nodeId = 11;\r\n    final static int nodeBits = 10; // max is 1024\r\n\r\n    public synchronized int generateSequence(long runningMillisecond){\r\n\r\n        this.sequence = this.sequence + 1;\r\n\r\n        if (this.sequence &gt;= maxSequence &amp;&amp; runningMillisecond == System.currentTimeMillis()){\r\n            waitOneMillisecond(runningMillisecond);\r\n            this.sequence = 0;\r\n        }\r\n\r\n        return this.sequence;\r\n    }\r\n\r\n    private void waitOneMillisecond(long runningMillisecond){\r\n\r\n        while(runningMillisecond == System.currentTimeMillis()){\r\n            continue;\r\n        }\r\n    }\r\n\r\n    public int generateNodeId(){\r\n        return this.nodeId;\r\n    }\r\n\r\n    public void run(){\r\n        int nodeNumber = this.generateNodeId();\r\n\r\n        long epoch = System.currentTimeMillis();\r\n        int sequence = this.generateSequence(epoch);\r\n\r\n//        System.out.println(&quot;Echo before shift &quot; + epoch);\r\n        epoch = epoch &lt;&lt; (this.nodeBits + this.sequenceBits);\r\n        epoch = epoch | nodeNumber &lt;&lt; this.sequenceBits;\r\n        epoch = epoch | sequence;\r\n\r\n        System.out.println(&quot;Echo after shift &quot; + epoch);\r\n    }\r\n\r\n\r\n\r\n    public void doGet(HttpServletRequest request, HttpServletResponse response)\r\n            throws IOException\r\n    {\r\n        int nodeNumber = this.generateNodeId();\r\n\r\n        long epoch = System.currentTimeMillis();\r\n        int sequence = this.generateSequence(epoch);\r\n\r\n        epoch = epoch &lt;&lt; (this.nodeBits + this.sequenceBits);\r\n        epoch = epoch | nodeNumber &lt;&lt; this.sequenceBits;\r\n        epoch = epoch | sequence;\r\n\r\n        response.getOutputStream().print(&quot;Echo after shift &quot; + epoch);\r\n\r\n    }\r\n}\r\n```\r\n","title":"Running Java Maven project using Jetty docker image","body":"<p>I am having a simple java maven project which generates some user Ids for a given <code>GET</code> request. I am using <code>javax.servlet</code> package.</p>\n<p>Everything works fine when I am packaging and deploying the <code>war</code> file in local <code>jetty</code> server.</p>\n<p>However things are not working when I am using the <code>docker jetty</code> image and deploying the <code>war</code> file. I am getting the below error</p>\n<pre><code>MacBook-Pro-3:UIDGenerators unbxd$ docker run 0xvoila/uid-generator:latest \n2022-07-03 17:50:09.448:INFO :oejs.Server:main: jetty-11.0.11; built: 2022-06-21T21:42:55.454Z; git: 58487315cb75e0f5c81cc6fa50096cbeb3b9554e; jvm 17.0.3+7\n2022-07-03 17:50:09.523:INFO :oejdp.ScanningAppProvider:main: Deployment monitor [file:///var/lib/jetty/webapps/]\n2022-07-03 17:50:10.234:INFO :oejss.DefaultSessionIdManager:main: Session workerName=node0\n2022-07-03 17:50:10.291:WARN :oejw.WebAppContext:main: Failed startup of context o.e.j.w.WebAppContext@4f67eb2a{Archetype Created Web Application,/uid-generator,file:///tmp/jetty-0_0_0_0-8080-uid-generator_war-_uid-generator-any-15856705197144621036/webapp/,UNAVAILABLE}{/var/lib/jetty/webapps/uid-generator.war}\njava.lang.NoClassDefFoundError: javax/servlet/http/HttpServlet\n    at java.base/java.lang.ClassLoader.defineClass1(Native Method)\n    at java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1012)\n    at java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:150)\n    at java.base/java.net.URLClassLoader.defineClass(URLClassLoader.java:524)\n    at java.base/java.net.URLClassLoader$1.run(URLClassLoader.java:427)\n    at java.base/java.net.URLClassLoader$1.run(URLClassLoader.java:421)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:712)\n\n\n</code></pre>\n<p>Here is my <code>pom.xml</code> file</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;groupId&gt;org.amit.system&lt;/groupId&gt;\n  &lt;artifactId&gt;UIDGenerators&lt;/artifactId&gt;\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n  &lt;packaging&gt;war&lt;/packaging&gt;\n\n  &lt;name&gt;UIDGenerators Maven Webapp&lt;/name&gt;\n  &lt;!-- FIXME change it to the project's website --&gt;\n  &lt;url&gt;http://www.example.com&lt;/url&gt;\n\n  &lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;maven.compiler.source&gt;1.7&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;1.7&lt;/maven.compiler.target&gt;\n  &lt;/properties&gt;\n\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;junit&lt;/groupId&gt;\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\n      &lt;version&gt;4.11&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n      &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n      &lt;version&gt;3.1.0&lt;/version&gt;\n      &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n\n  &lt;build&gt;\n    &lt;finalName&gt;uid-generator&lt;/finalName&gt;\n    &lt;pluginManagement&gt;&lt;!-- lock down plugins versions to avoid using Maven defaults (may be moved to parent pom) --&gt;\n      &lt;plugins&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;!-- see http://maven.apache.org/ref/current/maven-core/default-bindings.html#Plugin_bindings_for_war_packaging --&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.0.2&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.8.0&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n          &lt;version&gt;2.22.1&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.2.2&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\n          &lt;version&gt;2.5.2&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\n          &lt;version&gt;2.8.2&lt;/version&gt;\n        &lt;/plugin&gt;\n\n&lt;!--        &lt;plugin&gt;--&gt;\n&lt;!--          &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;--&gt;\n&lt;!--          &lt;artifactId&gt;jetty-maven-plugin&lt;/artifactId&gt;--&gt;\n&lt;!--          &lt;version&gt;9.4.28.v20200408&lt;/version&gt;--&gt;\n&lt;!--        &lt;/plugin&gt;--&gt;\n\n      &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>Here is my <code>Dockerfile</code></p>\n<pre><code>FROM maven as build\n\nCOPY src /home/app/src\nCOPY pom.xml /home/app\nRUN mvn -f /home/app/pom.xml clean package\n\n\nFROM jetty:latest\nCOPY --from=build /home/app/target/uid-generator.war /var/lib/jetty/webapps\nCMD java -jar &quot;$JETTY_HOME/start.jar&quot;\n\n</code></pre>\n<p>I tried to debug myself and it seems like <code>javax. servlet</code> is not present in the <code>jetty</code> docker image. But in my <code>pom.xml</code> file I had given <code>javax.servlet</code> as dependencies.</p>\n<p>Can anyone help me with the solution.</p>\n<p>UPDATED</p>\n<p>Here is the java code</p>\n<pre><code>package org.amit.system;\n\nimport java.io.IOException;\nimport javax.servlet.annotation.WebServlet;\nimport javax.servlet.http.HttpServlet;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\n\n\npublic class UIDGenerator extends HttpServlet {\n\n    int sequence = 0;\n    final static int sequenceBits = 12; // max is 4096\n    final static int maxSequence = (int)Math.pow(2, sequenceBits) - 1;\n\n    final static int nodeId = 11;\n    final static int nodeBits = 10; // max is 1024\n\n    public synchronized int generateSequence(long runningMillisecond){\n\n        this.sequence = this.sequence + 1;\n\n        if (this.sequence &gt;= maxSequence &amp;&amp; runningMillisecond == System.currentTimeMillis()){\n            waitOneMillisecond(runningMillisecond);\n            this.sequence = 0;\n        }\n\n        return this.sequence;\n    }\n\n    private void waitOneMillisecond(long runningMillisecond){\n\n        while(runningMillisecond == System.currentTimeMillis()){\n            continue;\n        }\n    }\n\n    public int generateNodeId(){\n        return this.nodeId;\n    }\n\n    public void run(){\n        int nodeNumber = this.generateNodeId();\n\n        long epoch = System.currentTimeMillis();\n        int sequence = this.generateSequence(epoch);\n\n//        System.out.println(&quot;Echo before shift &quot; + epoch);\n        epoch = epoch &lt;&lt; (this.nodeBits + this.sequenceBits);\n        epoch = epoch | nodeNumber &lt;&lt; this.sequenceBits;\n        epoch = epoch | sequence;\n\n        System.out.println(&quot;Echo after shift &quot; + epoch);\n    }\n\n\n\n    public void doGet(HttpServletRequest request, HttpServletResponse response)\n            throws IOException\n    {\n        int nodeNumber = this.generateNodeId();\n\n        long epoch = System.currentTimeMillis();\n        int sequence = this.generateSequence(epoch);\n\n        epoch = epoch &lt;&lt; (this.nodeBits + this.sequenceBits);\n        epoch = epoch | nodeNumber &lt;&lt; this.sequenceBits;\n        epoch = epoch | sequence;\n\n        response.getOutputStream().print(&quot;Echo after shift &quot; + epoch);\n\n    }\n}\n</code></pre>\n"},{"tags":["java","oracle","nls-lang"],"comments":[{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1656942389,"post_id":72857696,"comment_id":128687043,"body_markdown":"imo, that is not an encoding issue on client side, just ISO 8859-5 encoding does not have those symbols (&#171; and &#187;) - database unable to store them as varchar. Have you any issues with cyrillic symbols?","body":"imo, that is not an encoding issue on client side, just ISO 8859-5 encoding does not have those symbols (&#171; and &#187;) - database unable to store them as varchar. Have you any issues with cyrillic symbols?"},{"owner":{"account_id":17295938,"reputation":69,"user_id":13218437,"display_name":"Daniil Baev"},"score":0,"creation_date":1656942839,"post_id":72857696,"comment_id":128687225,"body_markdown":"Yep, it doesn`t contains it, i have`t any troubles with any &quot;cyrillic symbols&quot;","body":"Yep, it doesn<code>t contains it, i have</code>t any troubles with any &quot;cyrillic symbols&quot;"},{"owner":{"account_id":3631143,"reputation":55363,"user_id":3027266,"accept_rate":75,"display_name":"Wernfried Domscheit"},"score":0,"creation_date":1656943223,"post_id":72857696,"comment_id":128687381,"body_markdown":"Java/JDBC does not use `NLS_LANG`, see [Database JDBC Developer&#39;s Guide - Globalization Support](https://docs.oracle.com/database/121/JJDBC/global.htm#JJDBC28643): *Starting from Oracle Database 10g, the `NLS_LANG` variable is no longer part of the JDBC globalization mechanism. The JDBC driver does not check NLS environment. So, setting it has no effect.*","body":"Java/JDBC does not use <code>NLS_LANG</code>, see <a href=\"https://docs.oracle.com/database/121/JJDBC/global.htm#JJDBC28643\" rel=\"nofollow noreferrer\">Database JDBC Developer&#39;s Guide - Globalization Support</a>: <i>Starting from Oracle Database 10g, the <code>NLS_LANG</code> variable is no longer part of the JDBC globalization mechanism. The JDBC driver does not check NLS environment. So, setting it has no effect.</i>"}],"answers":[{"tags":[],"owner":{"account_id":3631143,"reputation":55363,"user_id":3027266,"accept_rate":75,"display_name":"Wernfried Domscheit"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1656943474,"creation_date":1656943474,"answer_id":72858013,"question_id":72857696,"body_markdown":"`&#171;` and `&#187;` do not exit in ISO 8859-5 (aka. `CL8ISO8859P5`). If you cannot change the characters set then there is no solution.\r\n\r\nEither do not use `&#171;` and `&#187;` or try `NCHAR`/`NVARCHAR2` data type, which typically supports a wider set of characters.\r\n\r\n\r\n","title":"How set NLS_LANG for every connection (ojdbc8)","body":"<p><code>«</code> and <code>»</code> do not exit in ISO 8859-5 (aka. <code>CL8ISO8859P5</code>). If you cannot change the characters set then there is no solution.</p>\n<p>Either do not use <code>«</code> and <code>»</code> or try <code>NCHAR</code>/<code>NVARCHAR2</code> data type, which typically supports a wider set of characters.</p>\n"}],"owner":{"account_id":17295938,"reputation":69,"user_id":13218437,"display_name":"Daniil Baev"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":460,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72858013,"answer_count":1,"score":0,"last_activity_date":1656943474,"creation_date":1656942032,"question_id":72857696,"body_markdown":"I using java application and using ojdbc8 to connecting to DB and \r\nI have a legacy database set with NLS_LANG set to CL8ISO8859P5. This I cannot change.\r\n\r\nAnd i got problem, when i sending data to DB, it`s replacing unknow characters like **&#171;** and **&#187;** to **?**\r\n\r\nHow i can change NLS_LANG for all connections in app or fix this problome on other way?","title":"How set NLS_LANG for every connection (ojdbc8)","body":"<p>I using java application and using ojdbc8 to connecting to DB and\nI have a legacy database set with NLS_LANG set to CL8ISO8859P5. This I cannot change.</p>\n<p>And i got problem, when i sending data to DB, it`s replacing unknow characters like <strong>«</strong> and <strong>»</strong> to <strong>?</strong></p>\n<p>How i can change NLS_LANG for all connections in app or fix this problome on other way?</p>\n"},{"tags":["java","rest","multipartform-data","rest-assured","multipart"],"comments":[{"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"score":1,"creation_date":1655821748,"post_id":72701477,"comment_id":128419338,"body_markdown":"I&#39;d guess the double quotes are a curl-display-thing and are not part of the raw request. How does the endpoint interpret the form data it receives; can you show the code for that?","body":"I&#39;d guess the double quotes are a curl-display-thing and are not part of the raw request. How does the endpoint interpret the form data it receives; can you show the code for that?"},{"owner":{"account_id":4515002,"reputation":25,"user_id":3670127,"display_name":"user3670127"},"score":0,"creation_date":1655903120,"post_id":72701477,"comment_id":128441936,"body_markdown":"Thank you for your input. Indeed, after configuring the service to show logs of what requests are arriving, I found out that the quotation marks are not duplicated. So it is as you say, a curl display thing. The request is still not passing, but that is a totally different problem, which I need to investigate.","body":"Thank you for your input. Indeed, after configuring the service to show logs of what requests are arriving, I found out that the quotation marks are not duplicated. So it is as you say, a curl display thing. The request is still not passing, but that is a totally different problem, which I need to investigate."}],"answers":[{"tags":[],"owner":{"account_id":4515002,"reputation":25,"user_id":3670127,"display_name":"user3670127"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1656942941,"creation_date":1656942941,"answer_id":72857904,"question_id":72701477,"body_markdown":"After configuring the service to show logs of what requests are arriving, I found out that the quotation marks are not duplicated. It turns out the curl logger was responsible for that. And the request did not pas due to a bug in the API","title":"duplicated quotation marks in java multipart request","body":"<p>After configuring the service to show logs of what requests are arriving, I found out that the quotation marks are not duplicated. It turns out the curl logger was responsible for that. And the request did not pas due to a bug in the API</p>\n"}],"owner":{"account_id":4515002,"reputation":25,"user_id":3670127,"display_name":"user3670127"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":144,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72857904,"answer_count":1,"score":0,"last_activity_date":1656942941,"creation_date":1655817353,"question_id":72701477,"body_markdown":"I&#39;m trying to make a multipart request using restassured. The request fails with the tested API telling me that the &quot;information&quot; part of the request is not an object. Here is my code:\r\n\r\n```\r\nRequestSpecification request;\r\n\r\n\r\n        Options options = Options.builder()\r\n                .printMultiliner()\r\n                .build();\r\n        RestAssuredConfig config = CurlLoggingRestAssuredConfigFactory.createConfig(options).multiPartConfig(MultiPartConfig.multiPartConfig().defaultCharset(StandardCharsets.UTF_8));\r\n\r\nrequest = given()\r\n                .relaxedHTTPSValidation()\r\n                .config(config)\r\n                .header(&quot;Authorization&quot;, &quot;Bearer &quot; + LoginSteps.accessToken)\r\n                .queryParam(&quot;memberId&quot;, memberId)\r\n                .queryParam(&quot;policyId&quot;, policyId)\r\n                .contentType(String.valueOf(ContentType.MULTIPART_FORM_DATA))\r\n                .multiPart(&quot;information&quot;, &quot;{\\&quot;description\\&quot;:\\&quot;info\\&quot;}&quot;)\r\n                .multiPart(&quot;documents&quot;, new File(filePath), contentType)\r\n        .log().everything();\r\n\r\n        return request.post(baseUrl + endpoint);\r\n```\r\n\r\nand now here is the weird part. The standard restassured log looks like this:\r\n\r\n```\r\nRequest method:\tPOST\r\nRequest URI:\tmyUri/?param1=149479812&amp;param2=19281999\r\nProxy:\t\t\t&lt;none&gt;\r\nRequest params:\t&lt;none&gt;\r\nQuery params:\tparam1=149479812\r\n\t\t\t\tparam2=19281999\r\nForm params:\t&lt;none&gt;\r\nPath params:\t&lt;none&gt;\r\nHeaders:\t\tAuthorization=Bearer aToken\r\n\t\t\t\tAccept=*/*\r\n\t\t\t\tContent-Type=multipart/form-data; charset=ISO-8859-1\r\nCookies:\t\t&lt;none&gt;\r\nMultiparts:\t\t------------\r\n\t\t\t\tContent-Disposition: form-data; charset=ISO-8859-1; name = information; filename = file\r\n\t\t\t\tContent-Type: text/plain\r\n\r\n\t\t\t\t{&quot;description&quot;:&quot;info&quot;}\r\n\t\t\t\t------------\r\n\t\t\t\tContent-Disposition: form-data; charset=ISO-8859-1; name = documents; filename = testFile.jpg\r\n\t\t\t\tContent-Type: image/jpg\r\n\r\n\t\t\t\tsrc\\test\\resources\\testData\\testFile.jpg\r\nBody:\t\t\t&lt;none&gt;\r\n```\r\n\r\nBeing a bit desperate to determine the cause of the issue, I also turned on curl logging and here&#39;s what I saw:\r\n\r\n```\r\n13:58:05.312 [main] DEBUG curl - curl &quot;myUri/?param1=149479812&amp;param2=19281999&quot; ^\r\n  --request POST ^\r\n  --header &quot;Authorization: Bearer aToken ^\r\n  --header &quot;Accept: */*&quot; ^\r\n  --header &quot;Host: theHost&quot; ^\r\n  --header &quot;Connection: Keep-Alive&quot; ^\r\n  --header &quot;User-Agent: Apache-HttpClient/4.5.13 (Java/11)&quot; ^\r\n  --form &quot;information={&quot;&quot;description&quot;&quot;:&quot;&quot;info&quot;&quot;};type=text/plain; charset=US-ASCII&quot; ^\r\n  --form &quot;documents=@testFile.jpg;type=image/jpg&quot; ^\r\n  --compressed ^\r\n  --insecure ^\r\n  --verbose\r\n```\r\n\r\nAs you can see, the content of &quot;information&quot; here has duplicated quotation marks. Which seems to be the cause of why this is failing. I also copy-pasted everything into Postman and it passes, and returns a 201 as expected. Log and screenshot below:\r\n\r\n```\r\nPOST myUri/?param1=149479812&amp;param2=19281999 {\r\n  \r\n  &quot;Request Headers&quot;: {\r\n    &quot;authorization&quot;: &quot;Bearer aToken&quot;\r\n\t&quot;user-agent&quot;: &quot;PostmanRuntime/7.29.0&quot;,\r\n    &quot;accept&quot;: &quot;*/*&quot;,\r\n    &quot;postman-token&quot;: &quot;bb25e9db-87c0-4fdd-959a-e4229ed36e7a&quot;,\r\n    &quot;host&quot;: &quot;host&quot;,\r\n    &quot;accept-encoding&quot;: &quot;gzip, deflate, br&quot;,\r\n    &quot;connection&quot;: &quot;keep-alive&quot;,\r\n    &quot;content-type&quot;: &quot;multipart/form-data; boundary=--------------------------115811667537577795637808&quot;,\r\n    &quot;content-length&quot;: &quot;28196&quot;\r\n  },\r\n  &quot;Request Body&quot;: {\r\n    &quot;information&quot;: &quot;{\\&quot;description\\&quot;:\\&quot;info\\&quot;}&quot;,\r\n    &quot;documents&quot;: &quot;&quot;\r\n  }\r\n```\r\n[![enter image description here][1]][1]\r\n\r\nI have honestly no idea what I&#39;m doing wrong here. When I remove the quotation marks, I get no quotation marks. when I insert one I get two in the curl log. I don&#39;t think the API is at fault, as the same request works using postman. Can anyone help, please?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/uWl6r.png","title":"duplicated quotation marks in java multipart request","body":"<p>I'm trying to make a multipart request using restassured. The request fails with the tested API telling me that the &quot;information&quot; part of the request is not an object. Here is my code:</p>\n<pre><code>RequestSpecification request;\n\n\n        Options options = Options.builder()\n                .printMultiliner()\n                .build();\n        RestAssuredConfig config = CurlLoggingRestAssuredConfigFactory.createConfig(options).multiPartConfig(MultiPartConfig.multiPartConfig().defaultCharset(StandardCharsets.UTF_8));\n\nrequest = given()\n                .relaxedHTTPSValidation()\n                .config(config)\n                .header(&quot;Authorization&quot;, &quot;Bearer &quot; + LoginSteps.accessToken)\n                .queryParam(&quot;memberId&quot;, memberId)\n                .queryParam(&quot;policyId&quot;, policyId)\n                .contentType(String.valueOf(ContentType.MULTIPART_FORM_DATA))\n                .multiPart(&quot;information&quot;, &quot;{\\&quot;description\\&quot;:\\&quot;info\\&quot;}&quot;)\n                .multiPart(&quot;documents&quot;, new File(filePath), contentType)\n        .log().everything();\n\n        return request.post(baseUrl + endpoint);\n</code></pre>\n<p>and now here is the weird part. The standard restassured log looks like this:</p>\n<pre><code>Request method: POST\nRequest URI:    myUri/?param1=149479812&amp;param2=19281999\nProxy:          &lt;none&gt;\nRequest params: &lt;none&gt;\nQuery params:   param1=149479812\n                param2=19281999\nForm params:    &lt;none&gt;\nPath params:    &lt;none&gt;\nHeaders:        Authorization=Bearer aToken\n                Accept=*/*\n                Content-Type=multipart/form-data; charset=ISO-8859-1\nCookies:        &lt;none&gt;\nMultiparts:     ------------\n                Content-Disposition: form-data; charset=ISO-8859-1; name = information; filename = file\n                Content-Type: text/plain\n\n                {&quot;description&quot;:&quot;info&quot;}\n                ------------\n                Content-Disposition: form-data; charset=ISO-8859-1; name = documents; filename = testFile.jpg\n                Content-Type: image/jpg\n\n                src\\test\\resources\\testData\\testFile.jpg\nBody:           &lt;none&gt;\n</code></pre>\n<p>Being a bit desperate to determine the cause of the issue, I also turned on curl logging and here's what I saw:</p>\n<pre><code>13:58:05.312 [main] DEBUG curl - curl &quot;myUri/?param1=149479812&amp;param2=19281999&quot; ^\n  --request POST ^\n  --header &quot;Authorization: Bearer aToken ^\n  --header &quot;Accept: */*&quot; ^\n  --header &quot;Host: theHost&quot; ^\n  --header &quot;Connection: Keep-Alive&quot; ^\n  --header &quot;User-Agent: Apache-HttpClient/4.5.13 (Java/11)&quot; ^\n  --form &quot;information={&quot;&quot;description&quot;&quot;:&quot;&quot;info&quot;&quot;};type=text/plain; charset=US-ASCII&quot; ^\n  --form &quot;documents=@testFile.jpg;type=image/jpg&quot; ^\n  --compressed ^\n  --insecure ^\n  --verbose\n</code></pre>\n<p>As you can see, the content of &quot;information&quot; here has duplicated quotation marks. Which seems to be the cause of why this is failing. I also copy-pasted everything into Postman and it passes, and returns a 201 as expected. Log and screenshot below:</p>\n<pre><code>POST myUri/?param1=149479812&amp;param2=19281999 {\n  \n  &quot;Request Headers&quot;: {\n    &quot;authorization&quot;: &quot;Bearer aToken&quot;\n    &quot;user-agent&quot;: &quot;PostmanRuntime/7.29.0&quot;,\n    &quot;accept&quot;: &quot;*/*&quot;,\n    &quot;postman-token&quot;: &quot;bb25e9db-87c0-4fdd-959a-e4229ed36e7a&quot;,\n    &quot;host&quot;: &quot;host&quot;,\n    &quot;accept-encoding&quot;: &quot;gzip, deflate, br&quot;,\n    &quot;connection&quot;: &quot;keep-alive&quot;,\n    &quot;content-type&quot;: &quot;multipart/form-data; boundary=--------------------------115811667537577795637808&quot;,\n    &quot;content-length&quot;: &quot;28196&quot;\n  },\n  &quot;Request Body&quot;: {\n    &quot;information&quot;: &quot;{\\&quot;description\\&quot;:\\&quot;info\\&quot;}&quot;,\n    &quot;documents&quot;: &quot;&quot;\n  }\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/uWl6r.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uWl6r.png\" alt=\"enter image description here\" /></a></p>\n<p>I have honestly no idea what I'm doing wrong here. When I remove the quotation marks, I get no quotation marks. when I insert one I get two in the curl log. I don't think the API is at fault, as the same request works using postman. Can anyone help, please?</p>\n"},{"tags":["java","python-3.x","azure-functions"],"answers":[{"tags":[],"owner":{"account_id":25723012,"reputation":1,"user_id":19479784,"display_name":"toothbrook"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656942940,"creation_date":1656942940,"answer_id":72857903,"question_id":72857772,"body_markdown":"Setting a environment variable in an azure function is done by:\r\n\r\n 1. Navigating to your azure function in the azure portal\r\n 2. Under settings go to &quot;configuration&quot;\r\n 3. Click the &quot;+ new application setting&quot; to add the variable\r\n 4. Enter the name and value and then save\r\n 5. The variable can now be used as an environment variable in the code","title":"how to set environment variable in azure function python","body":"<p>Setting a environment variable in an azure function is done by:</p>\n<ol>\n<li>Navigating to your azure function in the azure portal</li>\n<li>Under settings go to &quot;configuration&quot;</li>\n<li>Click the &quot;+ new application setting&quot; to add the variable</li>\n<li>Enter the name and value and then save</li>\n<li>The variable can now be used as an environment variable in the code</li>\n</ol>\n"}],"owner":{"account_id":25535973,"reputation":1,"user_id":19323039,"display_name":"Sufyan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2625,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1656942940,"creation_date":1656942391,"question_id":72857772,"body_markdown":"I am trying to install jdk in python azure function with \r\n\r\n*pip install install-jdk* \r\n\r\nimport jdk\r\n\r\npath_to_java_home = jdk.install(&#39;15&#39;, jre=true)\r\n\r\nnow I am trying to set the path for JAVA_HOME\r\n\r\nhow can I do it?\r\n","title":"how to set environment variable in azure function python","body":"<p>I am trying to install jdk in python azure function with</p>\n<p><em>pip install install-jdk</em></p>\n<p>import jdk</p>\n<p>path_to_java_home = jdk.install('15', jre=true)</p>\n<p>now I am trying to set the path for JAVA_HOME</p>\n<p>how can I do it?</p>\n"},{"tags":["java","xml","spring"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1656920686,"post_id":72853225,"comment_id":128679566,"body_markdown":"And what is your question?","body":"And what is your question?"},{"owner":{"account_id":25691636,"reputation":27,"user_id":19452963,"display_name":"newtoJava"},"score":0,"creation_date":1656923747,"post_id":72853225,"comment_id":128680671,"body_markdown":"@BasilBourque a) I need to read the XML. b) Need to write the student data based on their gender in different text files. \n\nI am able to parse XML but unable to find the logic to iterate and compare gender values so that I could put gender with &#39;f&#39; in one file and gender with &#39;m&#39; in another file.","body":"@BasilBourque a) I need to read the XML. b) Need to write the student data based on their gender in different text files.   I am able to parse XML but unable to find the logic to iterate and compare gender values so that I could put gender with &#39;f&#39; in one file and gender with &#39;m&#39; in another file."},{"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"score":0,"creation_date":1656924259,"post_id":72853225,"comment_id":128680852,"body_markdown":"@newtoJava   Can you share your parser code? And also once parsed, what you are getting as output? as list of just Student object","body":"@newtoJava   Can you share your parser code? And also once parsed, what you are getting as output? as list of just Student object"},{"owner":{"account_id":25691636,"reputation":27,"user_id":19452963,"display_name":"newtoJava"},"score":0,"creation_date":1656924904,"post_id":72853225,"comment_id":128681066,"body_markdown":"@AshishPatil I have added the snippet. Please check.","body":"@AshishPatil I have added the snippet. Please check."}],"answers":[{"tags":[],"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1656929092,"creation_date":1656925821,"answer_id":72854308,"question_id":72853225,"body_markdown":"Well, as per comments &amp; question it looks like you need to do below:\r\n\r\n\r\n    public static void main(String[] args) {\r\n               \r\n         try {\r\n     \r\n            File file = new File(&quot;/Downloads/student.xml&quot;);\r\n            JAXBContext jaxbContext = JAXBContext.newInstance(Company.class);\r\n     \r\n            Unmarshaller jaxbUnmarshaller = jaxbContext.createUnmarshaller();\r\n            Student com= (Student) jaxbUnmarshaller.unmarshal(file);\r\n            List&lt;Student&gt; list = com.getStudent();\r\n            list.stream().forEach(stu-&gt;{\r\n             if(stu.getGender().equalsIgnoreCase(&quot;M&quot;)){\r\n              //write to file where Male gender details can be stored.\r\n               \r\n              }\r\n             else {\r\n              //write to file where Male gender details can be stored.\r\n             }\r\n             });\r\n            \r\n            }\r\n         }}\r\n\r\n\r\nHere, you can obtain stream &amp; compare each element &amp; write to your respective files element by element. \r\n\r\nPlease note, you can declare your files at beginning of `main`.\r\n\r\nEdit: As you are looking for multilevel grouping then below is what I am suggesting:\r\n\r\n\r\n \r\n\r\n    Map&lt;String, Map&lt;String, List&lt;Student&gt;&gt;&gt; map = list.stream()\r\n\t\t\t\t.collect(Collectors.groupingBy(x -&gt; x.getGender(), Collectors.groupingBy(y -&gt; y.getAddress().getZipCode())));\r\n\r\n This map has aggregation of data based on gender and zip. Iterate this map &amp; put details into different files. ","title":"how to convert XML to Collection and iterate based on the indexing? as I need to further perform operation on the collection in Java","body":"<p>Well, as per comments &amp; question it looks like you need to do below:</p>\n<pre><code>public static void main(String[] args) {\n           \n     try {\n \n        File file = new File(&quot;/Downloads/student.xml&quot;);\n        JAXBContext jaxbContext = JAXBContext.newInstance(Company.class);\n \n        Unmarshaller jaxbUnmarshaller = jaxbContext.createUnmarshaller();\n        Student com= (Student) jaxbUnmarshaller.unmarshal(file);\n        List&lt;Student&gt; list = com.getStudent();\n        list.stream().forEach(stu-&gt;{\n         if(stu.getGender().equalsIgnoreCase(&quot;M&quot;)){\n          //write to file where Male gender details can be stored.\n           \n          }\n         else {\n          //write to file where Male gender details can be stored.\n         }\n         });\n        \n        }\n     }}\n</code></pre>\n<p>Here, you can obtain stream &amp; compare each element &amp; write to your respective files element by element.</p>\n<p>Please note, you can declare your files at beginning of <code>main</code>.</p>\n<p>Edit: As you are looking for multilevel grouping then below is what I am suggesting:</p>\n<pre><code>Map&lt;String, Map&lt;String, List&lt;Student&gt;&gt;&gt; map = list.stream()\n            .collect(Collectors.groupingBy(x -&gt; x.getGender(), Collectors.groupingBy(y -&gt; y.getAddress().getZipCode())));\n</code></pre>\n<p>This map has aggregation of data based on gender and zip. Iterate this map &amp; put details into different files.</p>\n"}],"owner":{"account_id":25691636,"reputation":27,"user_id":19452963,"display_name":"newtoJava"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72854308,"answer_count":1,"score":1,"last_activity_date":1656942835,"creation_date":1656920202,"question_id":72853225,"body_markdown":"\r\nI need to filter and aggregate the nodes having same value in a xml file using the java code. \r\n\r\nIn the below code, i need to aggregate and write the details of students having  same gender in different files. \r\n\r\n`enter code here`\r\n\r\n    &lt;?xml version=&quot;1.0&quot;?&gt;\r\n    \r\n    &lt;student&gt; \r\n       &lt;name&gt;aaa&lt;/name&gt;  \r\n       &lt;gender&gt;M&lt;gender&gt; \r\n       &lt;Address&gt;\r\n         &lt;City&gt;Auckland&lt;/City&gt;\r\n         &lt;Zipcode&gt;2310`enter code here`&lt;/Zipcode&gt;\r\n        &lt;/Address&gt;\r\n    &lt;student/&gt; \r\n    &lt;student&gt;  \r\n      &lt;name&gt;bbb&lt;/name&gt; \r\n      &lt;gender&gt;f&lt;/gender&gt; \r\n      &lt;Address&gt;\r\n         &lt;City&gt;Wellington&lt;/City&gt;\r\n         &lt;Zipcode&gt;2310&lt;/Zipcode&gt;\r\n        &lt;/Address&gt;\r\n\r\n    &lt;/student&gt; \r\n    &lt;student&gt;  \r\n      &lt;name&gt;ccc&lt;/name&gt;  \r\n      &lt;gender&gt;f&lt;/gender&gt;\r\n      &lt;Address&gt;\r\n         &lt;City&gt;NorthIsland&lt;/City&gt;\r\n         &lt;Zipcode&gt;5671&lt;/Zipcode&gt;\r\n        &lt;/Address&gt;\r\n    &lt;/student&gt;\r\n\r\n\r\nThis is the current parser code. I am unable to print distinct values. I tried using hashset but no luck. \r\n\r\n        public static void main(String[] args) {\r\n         \r\n        \t try {\r\n                  List&lt;Student&gt; student = new ArrayList&lt;Student&gt;();\r\n    \r\n        \t\tFile file = new File(&quot;/Downloads/student.xml&quot;);\r\n        \t\tJAXBContext jaxbContext = JAXBContext.newInstance(Company.class);\r\n         \r\n        \t\tUnmarshaller jaxbUnmarshaller = jaxbContext.createUnmarshaller();\r\n        \t\tStudent com= (Student) jaxbUnmarshaller.unmarshal(file);\r\n        \t\t\r\n        \t//\tArrayList&lt;Student&gt; list=(ArrayList&lt;Student&gt;) com.getStudent();\r\n        \t\tList&lt;Student&gt; list = com.getStudent();\r\n        \t\tfor(Student stu:list) {\r\n        \r\n        \t\tstudent.add(new Student(stu.getFirstName()+&quot; &quot;+stu.getLastName()+&quot; &quot;+stu.getContactNo()+&quot; &quot;+stu.getGender()+&quot; &quot;+stu.getGender());\r\n        \t\t}\r\n  \r\n    \r\n    \t\tList&lt;Employee&gt; newList = list.stream().distinct().collect(Collectors.toList());\r\n\r\n\r\nOutput\r\n\r\n    John Green 1234567890 m\r\n\r\n\r\nNeed to check for the distinct records. This is not printing the distinct values. \r\n\r\n\t\t\r\n\r\n    List&lt;Student&gt; newList = list.stream().distinct().collect(Collectors.toList());\r\n\r\n\r\n","title":"how to convert XML to Collection and iterate based on the indexing? as I need to further perform operation on the collection in Java","body":"<p>I need to filter and aggregate the nodes having same value in a xml file using the java code.</p>\n<p>In the below code, i need to aggregate and write the details of students having  same gender in different files.</p>\n<p><code>enter code here</code></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot;?&gt;\n\n&lt;student&gt; \n   &lt;name&gt;aaa&lt;/name&gt;  \n   &lt;gender&gt;M&lt;gender&gt; \n   &lt;Address&gt;\n     &lt;City&gt;Auckland&lt;/City&gt;\n     &lt;Zipcode&gt;2310`enter code here`&lt;/Zipcode&gt;\n    &lt;/Address&gt;\n&lt;student/&gt; \n&lt;student&gt;  \n  &lt;name&gt;bbb&lt;/name&gt; \n  &lt;gender&gt;f&lt;/gender&gt; \n  &lt;Address&gt;\n     &lt;City&gt;Wellington&lt;/City&gt;\n     &lt;Zipcode&gt;2310&lt;/Zipcode&gt;\n    &lt;/Address&gt;\n\n&lt;/student&gt; \n&lt;student&gt;  \n  &lt;name&gt;ccc&lt;/name&gt;  \n  &lt;gender&gt;f&lt;/gender&gt;\n  &lt;Address&gt;\n     &lt;City&gt;NorthIsland&lt;/City&gt;\n     &lt;Zipcode&gt;5671&lt;/Zipcode&gt;\n    &lt;/Address&gt;\n&lt;/student&gt;\n</code></pre>\n<p>This is the current parser code. I am unable to print distinct values. I tried using hashset but no luck.</p>\n<pre><code>    public static void main(String[] args) {\n     \n         try {\n              List&lt;Student&gt; student = new ArrayList&lt;Student&gt;();\n\n            File file = new File(&quot;/Downloads/student.xml&quot;);\n            JAXBContext jaxbContext = JAXBContext.newInstance(Company.class);\n     \n            Unmarshaller jaxbUnmarshaller = jaxbContext.createUnmarshaller();\n            Student com= (Student) jaxbUnmarshaller.unmarshal(file);\n            \n        //  ArrayList&lt;Student&gt; list=(ArrayList&lt;Student&gt;) com.getStudent();\n            List&lt;Student&gt; list = com.getStudent();\n            for(Student stu:list) {\n    \n            student.add(new Student(stu.getFirstName()+&quot; &quot;+stu.getLastName()+&quot; &quot;+stu.getContactNo()+&quot; &quot;+stu.getGender()+&quot; &quot;+stu.getGender());\n            }\n\n\n        List&lt;Employee&gt; newList = list.stream().distinct().collect(Collectors.toList());\n</code></pre>\n<p>Output</p>\n<pre><code>John Green 1234567890 m\n</code></pre>\n<p>Need to check for the distinct records. This is not printing the distinct values.</p>\n<pre><code>List&lt;Student&gt; newList = list.stream().distinct().collect(Collectors.toList());\n</code></pre>\n"},{"tags":["java","javafx","controller","nested","fxml"],"comments":[{"owner":{"account_id":6934,"reputation":6724,"user_id":11813,"accept_rate":86,"display_name":"Amir Arad"},"score":1,"creation_date":1408188697,"post_id":12543487,"comment_id":39505965,"body_markdown":"The second answer is the right solution for this question, It should be marked &quot;Accepted&quot;","body":"The second answer is the right solution for this question, It should be marked &quot;Accepted&quot;"},{"owner":{"account_id":112612,"reputation":89615,"user_id":296974,"accept_rate":100,"display_name":"glglgl"},"score":1,"creation_date":1500032506,"post_id":12543487,"comment_id":77175157,"body_markdown":"@AmirArad Which one is the &quot;second one&quot;?","body":"@AmirArad Which one is the &quot;second one&quot;?"}],"answers":[{"tags":[],"owner":{"account_id":1873894,"reputation":431,"user_id":1695542,"display_name":"Antonello"},"down_vote_count":0,"up_vote_count":43,"is_accepted":false,"score":43,"last_activity_date":1450459437,"creation_date":1348518681,"answer_id":12572450,"question_id":12543487,"body_markdown":"Thanks to Daniel (from OTN) I found the error in my code, the names of my controller variables were wrong. They should be `&lt;fx:id&gt;Controller`.\r\nIn other words it should be:\r\n\r\n**MainController.java**\r\n\r\n    public class MainController extends Controller {\r\n    @FXML private Window dialog1;\r\n    @FXML private DialogController dialog1Controller;\r\n    @FXML private Window dialog2;\r\n    @FXML private DialogController dialog2Controller;\r\n\r\nBut studying the [changes][1] introduced in version 2.2 I found that everything can be easily solved by using `&lt;fx:root&gt;` tag \r\n ([like this tutorial][2]).\r\nI entered my component in FXML simply declaring it like this:\r\n\r\n    &lt;HBox&gt;\r\n        &lt;Dialog id=&quot;dialog1&quot; text=&quot;Hello World!&quot;/&gt;\r\n        &lt;Dialog id=&quot;dialog2&quot; text=&quot;Hello World!&quot;/&gt;\r\n    &lt;/HBox&gt;\r\nI hope to be helpful\r\n\r\n  [1]: http://docs.oracle.com/javafx/2/fxml_get_started/whats_new2.htm\r\n  [2]: http://docs.oracle.com/javafx/2/fxml_get_started/custom_control.htm#BABDAAHE","title":"JavaFX Nested Controllers (FXML &lt;include&gt;)","body":"<p>Thanks to Daniel (from OTN) I found the error in my code, the names of my controller variables were wrong. They should be <code>&lt;fx:id&gt;Controller</code>.\nIn other words it should be:</p>\n\n<p><strong>MainController.java</strong></p>\n\n<pre><code>public class MainController extends Controller {\n@FXML private Window dialog1;\n@FXML private DialogController dialog1Controller;\n@FXML private Window dialog2;\n@FXML private DialogController dialog2Controller;\n</code></pre>\n\n<p>But studying the <a href=\"http://docs.oracle.com/javafx/2/fxml_get_started/whats_new2.htm\" rel=\"noreferrer\">changes</a> introduced in version 2.2 I found that everything can be easily solved by using <code>&lt;fx:root&gt;</code> tag \n (<a href=\"http://docs.oracle.com/javafx/2/fxml_get_started/custom_control.htm#BABDAAHE\" rel=\"noreferrer\">like this tutorial</a>).\nI entered my component in FXML simply declaring it like this:</p>\n\n<pre><code>&lt;HBox&gt;\n    &lt;Dialog id=\"dialog1\" text=\"Hello World!\"/&gt;\n    &lt;Dialog id=\"dialog2\" text=\"Hello World!\"/&gt;\n&lt;/HBox&gt;\n</code></pre>\n\n<p>I hope to be helpful</p>\n"},{"tags":[],"owner":{"account_id":2797594,"reputation":186,"user_id":2406525,"display_name":"SamHuman"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1450459312,"creation_date":1403616139,"answer_id":24387797,"question_id":12543487,"body_markdown":"There seems to be a bug in netbeans 8.0 with nested fxmls as well. Cannot count on netbeans to create the nested fxml&#39;s controller object for you, it has to be manually inserted into your MainController. Every time the controller is updated in netbeans it gets wiped out so it can be kind of tedious. \r\nFor this example that would be inserting the\r\n\r\n    @FXML private DialogController dialog1Controller;\r\n\r\nline manually into the main controller in this case, then it works normally. Very useful for organizing large fxmls/controllers.","title":"JavaFX Nested Controllers (FXML &lt;include&gt;)","body":"<p>There seems to be a bug in netbeans 8.0 with nested fxmls as well. Cannot count on netbeans to create the nested fxml's controller object for you, it has to be manually inserted into your MainController. Every time the controller is updated in netbeans it gets wiped out so it can be kind of tedious. \nFor this example that would be inserting the</p>\n\n<pre><code>@FXML private DialogController dialog1Controller;\n</code></pre>\n\n<p>line manually into the main controller in this case, then it works normally. Very useful for organizing large fxmls/controllers.</p>\n"}],"owner":{"account_id":1625320,"reputation":321,"user_id":1500997,"display_name":"Antonello"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38491,"favorite_count":0,"down_vote_count":0,"up_vote_count":29,"answer_count":2,"score":29,"last_activity_date":1656942771,"creation_date":1348314739,"question_id":12543487,"body_markdown":"In [this][1] tutorial, there is an example of how to include custom components and use their controllers from the controller of the container.\r\n\r\n*main_window_content.fxml*\r\n\r\n    &lt;VBox fx:controller=&quot;com.foo.MainController&quot;&gt;\r\n       &lt;fx:include fx:id=&quot;dialog&quot; source=&quot;dialog.fxml&quot;/&gt;\r\n       ...\r\n    &lt;/VBox&gt;\r\n\r\n*MainController.java*\r\n\r\n    public class MainController extends Controller {\r\n        @FXML private Window dialog;\r\n        @FXML private DialogController dialogController;\r\n    \r\n        ..\r\nIf the component is included only once, it works fine.\r\nIf the same component is included twice, the controllers are not initialized.\r\nBoth controllers are null.\r\n\r\n \r\n\r\n*main_window_content.fxml*\r\n\r\n        &lt;VBox fx:controller=&quot;com.foo.MainController&quot;&gt;\r\n           &lt;fx:include fx:id=&quot;dialog1&quot; source=&quot;dialog.fxml&quot;/&gt;\r\n           &lt;fx:include fx:id=&quot;dialog2&quot; source=&quot;dialog.fxml&quot;/&gt;\r\n           ...\r\n        &lt;/VBox&gt;\r\n    \r\n*MainController.java*\r\n\r\n        public class MainController extends Controller {\r\n            @FXML private Window dialog1;\r\n            @FXML private DialogController dialogController1;\r\n            @FXML private Window dialog2;\r\n            @FXML private DialogController dialogController2;\r\n\r\nCould someone help me to solve the problem?\r\nThanks\r\n\r\nThis is my FXML loading code. It is executed in the main application method: \r\n\r\n    public void start(Stage stage) throws Exception { \r\n        Parent root = FXMLLoader.load(getClass().getResource(&quot;main_window_content.fxml&quot;));\r\n        stage.setTitle(&quot;FXML Welcome&quot;); \r\n        stage.setScene(new Scene(root, 300, 275));\r\n        stage.show(); \r\n    }\r\n\r\n  [1]: http://docs.oracle.com/javafx/2/api/javafx/fxml/doc-files/introduction_to_fxml.html#nested_controllers","title":"JavaFX Nested Controllers (FXML &lt;include&gt;)","body":"<p>In <a href=\"http://docs.oracle.com/javafx/2/api/javafx/fxml/doc-files/introduction_to_fxml.html#nested_controllers\" rel=\"nofollow noreferrer\">this</a> tutorial, there is an example of how to include custom components and use their controllers from the controller of the container.</p>\n<p><em>main_window_content.fxml</em></p>\n<pre><code>&lt;VBox fx:controller=&quot;com.foo.MainController&quot;&gt;\n   &lt;fx:include fx:id=&quot;dialog&quot; source=&quot;dialog.fxml&quot;/&gt;\n   ...\n&lt;/VBox&gt;\n</code></pre>\n<p><em>MainController.java</em></p>\n<pre><code>public class MainController extends Controller {\n    @FXML private Window dialog;\n    @FXML private DialogController dialogController;\n\n    ..\n</code></pre>\n<p>If the component is included only once, it works fine.\nIf the same component is included twice, the controllers are not initialized.\nBoth controllers are null.</p>\n<p><em>main_window_content.fxml</em></p>\n<pre><code>    &lt;VBox fx:controller=&quot;com.foo.MainController&quot;&gt;\n       &lt;fx:include fx:id=&quot;dialog1&quot; source=&quot;dialog.fxml&quot;/&gt;\n       &lt;fx:include fx:id=&quot;dialog2&quot; source=&quot;dialog.fxml&quot;/&gt;\n       ...\n    &lt;/VBox&gt;\n</code></pre>\n<p><em>MainController.java</em></p>\n<pre><code>    public class MainController extends Controller {\n        @FXML private Window dialog1;\n        @FXML private DialogController dialogController1;\n        @FXML private Window dialog2;\n        @FXML private DialogController dialogController2;\n</code></pre>\n<p>Could someone help me to solve the problem?\nThanks</p>\n<p>This is my FXML loading code. It is executed in the main application method:</p>\n<pre><code>public void start(Stage stage) throws Exception { \n    Parent root = FXMLLoader.load(getClass().getResource(&quot;main_window_content.fxml&quot;));\n    stage.setTitle(&quot;FXML Welcome&quot;); \n    stage.setScene(new Scene(root, 300, 275));\n    stage.show(); \n}\n</code></pre>\n"},{"tags":["java","docker","docker-compose","microservices","netflix-zuul"],"comments":[{"owner":{"account_id":7441676,"reputation":860,"user_id":5659278,"display_name":"Kushwaha"},"score":0,"creation_date":1656675597,"post_id":72785972,"comment_id":128635975,"body_markdown":"Any help please. I am stuck here","body":"Any help please. I am stuck here"}],"answers":[{"tags":[],"owner":{"account_id":7441676,"reputation":860,"user_id":5659278,"display_name":"Kushwaha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656942633,"creation_date":1656942633,"answer_id":72857828,"question_id":72785972,"body_markdown":"I have resolved this issue, problem was happening in each microservice where it was validating token, to do this; it will go to gateway and then request will redirect to auth service. While resolving DNS name in each microservice it was mapping with default IP i.e. 127.0.0.1. I have changed each miceroservice&#39;s container  /etc/hosts as below \r\n\r\n    172.17.0.1 &#39;my domain name&#39; \r\n\r\nand this resolved my issue.  \r\nNow I need to understand how I can make it generic so that if I remove container and run again docker-compose up then below details should auto update to container&#39;s host file \r\n\r\n    172.17.0.1 &#39;my domain name&#39;\r\n\r\n Any suggestion is much appreciable. ","title":"Zuul Redirect Issue in Docker container","body":"<p>I have resolved this issue, problem was happening in each microservice where it was validating token, to do this; it will go to gateway and then request will redirect to auth service. While resolving DNS name in each microservice it was mapping with default IP i.e. 127.0.0.1. I have changed each miceroservice's container  /etc/hosts as below</p>\n<pre><code>172.17.0.1 'my domain name' \n</code></pre>\n<p>and this resolved my issue.<br />\nNow I need to understand how I can make it generic so that if I remove container and run again docker-compose up then below details should auto update to container's host file</p>\n<pre><code>172.17.0.1 'my domain name'\n</code></pre>\n<p>Any suggestion is much appreciable.</p>\n"}],"owner":{"account_id":7441676,"reputation":860,"user_id":5659278,"display_name":"Kushwaha"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656942633,"creation_date":1656417388,"question_id":72785972,"body_markdown":"I am using Grail application and couple of microservices are written which is accessible by grails application. Request comes from grails to Gateway which is on 4000 port. Now based on request gateway will redirect request to respectives services like auth, notification, report, these are the microservices. \r\n\r\nNow I am spinning up microservices in docker container, service discovery is on 8761,config server is on 8888, zuul gateway is on 4000 port. Notification service is running on 8755 port and when request comes to Gateway for notification, it redirect first to notification which is working fine for me, as per application flow, notification will validate token hence it will call auth service which is exposed on 8282 port. The moment notification is sending request to auth via gateway its failing ... \r\n\r\neverything is working when all services are up and running on &#39;localhost&#39; this issue is happening when I am starting services in docker container as container will not recognize localhost hence I am changing zuul conifguration as below \r\n\r\n\r\n    zuul:\r\n      ignoredServices: &#39;*&#39;\r\n      host:\r\n        connect-timeout-millis: 120000\r\n        socket-timeout-millis: 120000\r\n      routes:\r\n        notification-service:\r\n          path: /notification/**\r\n          url: http://${NOTIFICATION_SERVICE_HOST:127.0.0.1}:8755\r\n          stripPrefix: true\r\n          sensitiveHeaders:\r\n        report-service:\r\n          path: /report/**\r\n          url: http://${REPORT_SERVICE_HOST:127.0.0.1}:8762\r\n          stripPrefix: true\r\n          sensitiveHeaders:\r\n        p2p-auth-service:\r\n          path: /authService/**\r\n          url: http://${AUTH_SERVICE_HOST:172.17.0.1}:8282\r\n          stripPrefix: true\r\n          sensitiveHeaders:\r\n\r\nWhen request comes to notification, its coming properly, it mean constant which I added NOTIFICATION_SERVICE_HOST is replaced by the IP which I am passing. But same is not happening when its calling auth service where I have given constant AUTH_SERVICE_HOST. Always it is failing with 500 null message. \r\n\r\nmy docker compose file is as below \r\n\r\n    version: &#39;3.7&#39;\r\n    \r\n    services:\r\n    \r\n      configserver:\r\n        image: config\r\n        container_name: configserver\r\n        ports:\r\n          - &quot;8888:8888&quot;\r\n        networks:\r\n          - bridge-abc\r\n        environment:\r\n          SPRING.PROFILES.ACTIVE: native\r\n          EUREKA.CLIENT.SERVICEURL.DEFAULTZONE: http://registry:8761/eureka\r\n    \r\n      registry:\r\n        image: registry\r\n        container_name: registry\r\n        ports:\r\n          - &quot;8762:8761&quot;\r\n        networks:\r\n          - bridge-abc\r\n        depends_on:\r\n          - configserver\r\n        restart: on-failure\r\n        environment:\r\n          SPRING.PROFILES.ACTIVE: dev\r\n          SPRING.CLOUD.CONFIG.URI: http://configserver:8888/\r\n          EUREKA.CLIENT.SERVICEURL.DEFAULTZONE: http://registry:8761/eureka\r\n    \r\n      gateway:\r\n        image: gateway\r\n        container_name: gateway\r\n        ports:\r\n          - &quot;4000:4000&quot;\r\n        networks:\r\n          - bridge-abc\r\n        depends_on:\r\n          - configserver\r\n          - registry\r\n        restart: on-failure\r\n        environment:\r\n          SPRING.PROFILES.ACTIVE: dev\r\n          SPRING.CLOUD.CONFIG.URI: http://configserver:8888/\r\n          EUREKA.CLIENT.SERVICEURL.DEFAULTZONE: http://registry:8761/eureka\r\n          REGISTRY_SERVER: registry\r\n          REGISTRY_PORT: 8761\r\n          NOTIFICATION_SERVICE_HOST: 172.17.0.1\r\n          AUTH_SERVICE_HOST: 172.17.0.1\r\n    \r\n      authservice:\r\n        image: auth-service\r\n        container_name: authservice\r\n        ports:\r\n          - &quot;8282:8282&quot;\r\n        networks:\r\n          - bridge-abc\r\n        depends_on:\r\n          - configserver\r\n          - registry\r\n        restart: on-failure\r\n        environment:\r\n          SPRING.PROFILES.ACTIVE: dev\r\n          SPRING.CLOUD.CONFIG.URI: http://configserver:8888/\r\n          EUREKA.CLIENT.SERVICEURL.DEFAULTZONE: http://registry:8761/eureka\r\n          DB_HOST: 1.2.3.4\r\n          DB_PORT: 1234\r\n          DB_NAME: my-db-name\r\n          DB_USERNAME: user\r\n          DB_PASSWORD: password\r\n          REGISTRY_SERVER: registry\r\n          REGISTRY_PORT: 8761\r\n          \r\n    \r\n      notification:\r\n        image: notification-service\r\n        container_name: notification\r\n        ports:\r\n          - 8755:8755\r\n        networks:\r\n          - bridge-perfios\r\n        depends_on:\r\n          - configserver\r\n          - registry\r\n        restart: on-failure\r\n        environment:\r\n          SPRING.PROFILES.ACTIVE: dev\r\n          SPRING.CLOUD.CONFIG.URI: http://configserver:8888/\r\n          EUREKA.CLIENT.SERVICEURL.DEFAULTZONE: http://registry:8761/eureka\r\n          REGISTRY_SERVER: registry\r\n          REGISTRY_PORT: 8761\r\n          DB_HOST: 1.2.3.4\r\n          DB_PORT: 1234\r\n          DB_NAME: my-db-name\r\n          DB_USERNAME: user\r\n          DB_PASSWORD: password\r\n          REGISTRY_SERVER: registry\r\n          REGISTRY_PORT: 8761\r\n\r\nIn above docker compose file I am passing NOTIFICATION_SERVICE_HOST and AUTH_SERVICE_HOST value as 172.17.0.1 so that container can talk to each other, constant AUTH_SERVICE_HOST is not working and always assuming 127.0.0.1 (constant value is not replaced by 172.17.0.1, always it is assuming 127.0.0.1) whereas constant NOTIFICATION_SERVICE_HOST works properly and this constant value is replaced by 172.17.0.1 \r\n\r\nI am not sure what is wrong here or please suggest if some configuration is missing or I am doing any mistakes. ","title":"Zuul Redirect Issue in Docker container","body":"<p>I am using Grail application and couple of microservices are written which is accessible by grails application. Request comes from grails to Gateway which is on 4000 port. Now based on request gateway will redirect request to respectives services like auth, notification, report, these are the microservices.</p>\n<p>Now I am spinning up microservices in docker container, service discovery is on 8761,config server is on 8888, zuul gateway is on 4000 port. Notification service is running on 8755 port and when request comes to Gateway for notification, it redirect first to notification which is working fine for me, as per application flow, notification will validate token hence it will call auth service which is exposed on 8282 port. The moment notification is sending request to auth via gateway its failing ...</p>\n<p>everything is working when all services are up and running on 'localhost' this issue is happening when I am starting services in docker container as container will not recognize localhost hence I am changing zuul conifguration as below</p>\n<pre><code>zuul:\n  ignoredServices: '*'\n  host:\n    connect-timeout-millis: 120000\n    socket-timeout-millis: 120000\n  routes:\n    notification-service:\n      path: /notification/**\n      url: http://${NOTIFICATION_SERVICE_HOST:127.0.0.1}:8755\n      stripPrefix: true\n      sensitiveHeaders:\n    report-service:\n      path: /report/**\n      url: http://${REPORT_SERVICE_HOST:127.0.0.1}:8762\n      stripPrefix: true\n      sensitiveHeaders:\n    p2p-auth-service:\n      path: /authService/**\n      url: http://${AUTH_SERVICE_HOST:172.17.0.1}:8282\n      stripPrefix: true\n      sensitiveHeaders:\n</code></pre>\n<p>When request comes to notification, its coming properly, it mean constant which I added NOTIFICATION_SERVICE_HOST is replaced by the IP which I am passing. But same is not happening when its calling auth service where I have given constant AUTH_SERVICE_HOST. Always it is failing with 500 null message.</p>\n<p>my docker compose file is as below</p>\n<pre><code>version: '3.7'\n\nservices:\n\n  configserver:\n    image: config\n    container_name: configserver\n    ports:\n      - &quot;8888:8888&quot;\n    networks:\n      - bridge-abc\n    environment:\n      SPRING.PROFILES.ACTIVE: native\n      EUREKA.CLIENT.SERVICEURL.DEFAULTZONE: http://registry:8761/eureka\n\n  registry:\n    image: registry\n    container_name: registry\n    ports:\n      - &quot;8762:8761&quot;\n    networks:\n      - bridge-abc\n    depends_on:\n      - configserver\n    restart: on-failure\n    environment:\n      SPRING.PROFILES.ACTIVE: dev\n      SPRING.CLOUD.CONFIG.URI: http://configserver:8888/\n      EUREKA.CLIENT.SERVICEURL.DEFAULTZONE: http://registry:8761/eureka\n\n  gateway:\n    image: gateway\n    container_name: gateway\n    ports:\n      - &quot;4000:4000&quot;\n    networks:\n      - bridge-abc\n    depends_on:\n      - configserver\n      - registry\n    restart: on-failure\n    environment:\n      SPRING.PROFILES.ACTIVE: dev\n      SPRING.CLOUD.CONFIG.URI: http://configserver:8888/\n      EUREKA.CLIENT.SERVICEURL.DEFAULTZONE: http://registry:8761/eureka\n      REGISTRY_SERVER: registry\n      REGISTRY_PORT: 8761\n      NOTIFICATION_SERVICE_HOST: 172.17.0.1\n      AUTH_SERVICE_HOST: 172.17.0.1\n\n  authservice:\n    image: auth-service\n    container_name: authservice\n    ports:\n      - &quot;8282:8282&quot;\n    networks:\n      - bridge-abc\n    depends_on:\n      - configserver\n      - registry\n    restart: on-failure\n    environment:\n      SPRING.PROFILES.ACTIVE: dev\n      SPRING.CLOUD.CONFIG.URI: http://configserver:8888/\n      EUREKA.CLIENT.SERVICEURL.DEFAULTZONE: http://registry:8761/eureka\n      DB_HOST: 1.2.3.4\n      DB_PORT: 1234\n      DB_NAME: my-db-name\n      DB_USERNAME: user\n      DB_PASSWORD: password\n      REGISTRY_SERVER: registry\n      REGISTRY_PORT: 8761\n      \n\n  notification:\n    image: notification-service\n    container_name: notification\n    ports:\n      - 8755:8755\n    networks:\n      - bridge-perfios\n    depends_on:\n      - configserver\n      - registry\n    restart: on-failure\n    environment:\n      SPRING.PROFILES.ACTIVE: dev\n      SPRING.CLOUD.CONFIG.URI: http://configserver:8888/\n      EUREKA.CLIENT.SERVICEURL.DEFAULTZONE: http://registry:8761/eureka\n      REGISTRY_SERVER: registry\n      REGISTRY_PORT: 8761\n      DB_HOST: 1.2.3.4\n      DB_PORT: 1234\n      DB_NAME: my-db-name\n      DB_USERNAME: user\n      DB_PASSWORD: password\n      REGISTRY_SERVER: registry\n      REGISTRY_PORT: 8761\n</code></pre>\n<p>In above docker compose file I am passing NOTIFICATION_SERVICE_HOST and AUTH_SERVICE_HOST value as 172.17.0.1 so that container can talk to each other, constant AUTH_SERVICE_HOST is not working and always assuming 127.0.0.1 (constant value is not replaced by 172.17.0.1, always it is assuming 127.0.0.1) whereas constant NOTIFICATION_SERVICE_HOST works properly and this constant value is replaced by 172.17.0.1</p>\n<p>I am not sure what is wrong here or please suggest if some configuration is missing or I am doing any mistakes.</p>\n"},{"tags":["java","postgresql","spring-boot","jpa"],"answers":[{"tags":[],"owner":{"account_id":2357057,"reputation":428,"user_id":2064634,"accept_rate":33,"display_name":"Sureshkumar Natarajan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1656941952,"creation_date":1656941952,"answer_id":72857685,"question_id":72857514,"body_markdown":"By default `@ManyToOne` doesn&#39;t `cascade` the changes (as it refers to a parent which may be have other child associations).\r\n\r\nYou can do either of below,\r\n\r\n 1. save the changes of Address entity via your `AddressDao` like `addressDao.save(addressEntity)` \r\n 2. use `@ManyToOne(cascade = CascadeType.ALL)`.\r\n\r\n1st options is preferable.\r\n\r\nRead about `CascadeType` to utilize wisefully.","title":"Updating a &quot;complex&quot; Entity in JPA","body":"<p>By default <code>@ManyToOne</code> doesn't <code>cascade</code> the changes (as it refers to a parent which may be have other child associations).</p>\n<p>You can do either of below,</p>\n<ol>\n<li>save the changes of Address entity via your <code>AddressDao</code> like <code>addressDao.save(addressEntity)</code></li>\n<li>use <code>@ManyToOne(cascade = CascadeType.ALL)</code>.</li>\n</ol>\n<p>1st options is preferable.</p>\n<p>Read about <code>CascadeType</code> to utilize wisefully.</p>\n"}],"owner":{"account_id":25227059,"reputation":45,"user_id":19062771,"display_name":"amongosus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72857685,"answer_count":1,"score":0,"last_activity_date":1656941952,"creation_date":1656941192,"question_id":72857514,"body_markdown":"    entity = MainDao.findByUUID(getEntityManager(), dto.getUuid());\r\n\r\n                \r\n    Adress i = new AdressDao().findById(dto.getIdAdress());\r\n    i.setPhone(dto.getPhone());\r\n    entity.setAdress(i);\r\n    return MainDao.update(getEntityManager(), entity);\r\n\r\n\r\nI have a main Entity in which there is a @ManytoOne relationship to Adress. I want to update the field &quot;phone&quot; inside adress, how do I do it? My code fails to do so.\r\n\r\nHope you can help me out, it seems there is no &quot;patch&quot; method inside JPA. I would love to know the best practices.","title":"Updating a &quot;complex&quot; Entity in JPA","body":"<pre><code>entity = MainDao.findByUUID(getEntityManager(), dto.getUuid());\n\n            \nAdress i = new AdressDao().findById(dto.getIdAdress());\ni.setPhone(dto.getPhone());\nentity.setAdress(i);\nreturn MainDao.update(getEntityManager(), entity);\n</code></pre>\n<p>I have a main Entity in which there is a @ManytoOne relationship to Adress. I want to update the field &quot;phone&quot; inside adress, how do I do it? My code fails to do so.</p>\n<p>Hope you can help me out, it seems there is no &quot;patch&quot; method inside JPA. I would love to know the best practices.</p>\n"},{"tags":["java","selenium-webdriver","selenium-chromedriver","automated-tests"],"answers":[{"tags":[],"owner":{"account_id":25717391,"reputation":35,"user_id":19474927,"display_name":"Katerina Zharkaya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656941874,"creation_date":1656941874,"answer_id":72857661,"question_id":72850923,"body_markdown":"Check the state of the browser window when the first test has passed. I guess that you forget to create appropriate after method and restore app state for the next tests. Real code example can be useful to understand what goes wrong.","title":"Selenium Java - entire class fail but individual testcase pass","body":"<p>Check the state of the browser window when the first test has passed. I guess that you forget to create appropriate after method and restore app state for the next tests. Real code example can be useful to understand what goes wrong.</p>\n"}],"owner":{"account_id":19983955,"reputation":11,"user_id":14646461,"display_name":"ChengAthie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656941874,"creation_date":1656897241,"question_id":72850923,"body_markdown":"```\r\npublic class testClassName(){\r\n  @BeforeClass\r\n  public void setup(){}\r\n\r\n  @AfterClass\r\n  public void cleanup(){}\r\n\r\n  @test\r\n  @step(value = 1)\r\n  public void testcase1() throws exception{\r\n  }\r\n\r\n  @test\r\n  @step(value = 2)\r\n  public void testcase2() throws exception{}\r\n\r\n  @test\r\n  @step(value = 3)\r\n  public void testcase3() throws exception{}\r\n\r\n}\r\n```\r\n\r\nMy Selenium test have the above format and everytime when I run the individual testcases, they all pass. However, when I run the entire class, the first testcase pass and the other two testcases fail. \r\n\r\nFor each testcase, it starts with open the same url page and click on a new button. However, when I run the entire class, the execution stops at the second testcase and complains that it cannot find the new button. Can anyone help me with this? The new button xpath and the url xpath are shared variables. ","title":"Selenium Java - entire class fail but individual testcase pass","body":"<pre><code>public class testClassName(){\n  @BeforeClass\n  public void setup(){}\n\n  @AfterClass\n  public void cleanup(){}\n\n  @test\n  @step(value = 1)\n  public void testcase1() throws exception{\n  }\n\n  @test\n  @step(value = 2)\n  public void testcase2() throws exception{}\n\n  @test\n  @step(value = 3)\n  public void testcase3() throws exception{}\n\n}\n</code></pre>\n<p>My Selenium test have the above format and everytime when I run the individual testcases, they all pass. However, when I run the entire class, the first testcase pass and the other two testcases fail.</p>\n<p>For each testcase, it starts with open the same url page and click on a new button. However, when I run the entire class, the execution stops at the second testcase and complains that it cannot find the new button. Can anyone help me with this? The new button xpath and the url xpath are shared variables.</p>\n"},{"tags":["java","java-8","java-stream"],"comments":[{"owner":{"account_id":2111403,"reputation":33698,"user_id":1876620,"accept_rate":94,"display_name":"fps"},"score":4,"creation_date":1521833114,"post_id":49456768,"comment_id":85916990,"body_markdown":"`Stream.collect` is not a short-circuting operation, so the answer is *No*. However, you can emulate that short-circuiting behavior by throwing an unchecked exception when you want to finish processing and then catching it. It&#39;s certainly quite a nasty workaround...","body":"<code>Stream.collect</code> is not a short-circuting operation, so the answer is <i>No</i>. However, you can emulate that short-circuiting behavior by throwing an unchecked exception when you want to finish processing and then catching it. It&#39;s certainly quite a nasty workaround..."},{"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"score":0,"creation_date":1521845232,"post_id":49456768,"comment_id":85921389,"body_markdown":"Thanks to all who have responded. In the absence of new information it looks as if the answer is going to be no. I don&#39;t think exceptions will work because (apart from the general messiness of the approach) I want the short-circuiting to be an internal optimization that isn&#39;t visible to the user of my Collector.","body":"Thanks to all who have responded. In the absence of new information it looks as if the answer is going to be no. I don&#39;t think exceptions will work because (apart from the general messiness of the approach) I want the short-circuiting to be an internal optimization that isn&#39;t visible to the user of my Collector."},{"owner":{"account_id":2111403,"reputation":33698,"user_id":1876620,"accept_rate":94,"display_name":"fps"},"score":1,"creation_date":1521845434,"post_id":49456768,"comment_id":85921455,"body_markdown":"Take a look at [StreamEx.collect(...)](https://github.com/amaembo/streamex/blob/master/src/main/java/one/util/streamex/AbstractStreamEx.java) This implementation uses this approach, hiding it from the user. It uses a `Predicate` to check whether to &quot;short-circuit&quot; or not on each accumulation step.","body":"Take a look at <a href=\"https://github.com/amaembo/streamex/blob/master/src/main/java/one/util/streamex/AbstractStreamEx.java\" rel=\"nofollow noreferrer\">StreamEx.collect(...)</a> This implementation uses this approach, hiding it from the user. It uses a <code>Predicate</code> to check whether to &quot;short-circuit&quot; or not on each accumulation step."},{"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"score":1,"creation_date":1521885937,"post_id":49456768,"comment_id":85929673,"body_markdown":"Thanks for the pointer to StreamEx - it looks very interesting. I&#39;m not sure I want to bring in the whole of StreamEx as a dependency, but I think there might be ideas there that I can use.","body":"Thanks for the pointer to StreamEx - it looks very interesting. I&#39;m not sure I want to bring in the whole of StreamEx as a dependency, but I think there might be ideas there that I can use."}],"answers":[{"tags":[],"owner":{"account_id":9847667,"reputation":29054,"user_id":7294647,"accept_rate":67,"display_name":"Jacob G."},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1521834979,"creation_date":1521834579,"answer_id":49457364,"question_id":49456768,"body_markdown":"In addition to Federico&#39;s comment, it is possible to *emulate* a short-circuiting `Collector` by ceasing accumulation once a certain condition has been met.  Though, this method will only be beneficial if accumulation is expensive.  Here&#39;s an example, but keep in mind that there are flaws with this implementation:\r\n\r\n    public class AveragingCollector implements Collector&lt;Double, double[], Double&gt; {\r\n        private final AtomicBoolean hasFoundNaN = new AtomicBoolean();\r\n\r\n        @Override\r\n        public Supplier&lt;double[]&gt; supplier() {\r\n            return () -&gt; new double[2];\r\n        }\r\n\r\n        @Override\r\n        public BiConsumer&lt;double[], Double&gt; accumulator() {\r\n            return (a, b) -&gt; {\r\n                if (hasFoundNaN.get()) {\r\n                    return;\r\n                }\r\n\r\n                if (b.equals(Double.NaN)) {\r\n                    hasFoundNaN.set(true);\r\n                    return;\r\n                }\r\n\r\n                a[0] += b;\r\n                a[1]++;\r\n            };\r\n        }\r\n\r\n        @Override\r\n        public BinaryOperator&lt;double[]&gt; combiner() {\r\n            return (a, b) -&gt; {\r\n                a[0] += b[0];\r\n                a[1] += b[1];\r\n\r\n                return a;\r\n            };\r\n        }\r\n\r\n        @Override\r\n        public Function&lt;double[], Double&gt; finisher() {\r\n            return average -&gt; average[0] / average[1];\r\n        }\r\n\r\n        @Override\r\n        public Set&lt;Characteristics&gt; characteristics() {\r\n            return new HashSet&lt;&gt;();\r\n        }\r\n    }\r\n\r\nThe following use-case returns `Double.NaN`, as expected:\r\n\r\n    public static void main(String args[]) throws IOException {\r\n        DoubleStream.of(1, 2, 3, 4, 5, 6, 7, Double.NaN)\r\n                    .boxed()\r\n                    .collect(new AveragingCollector()));\r\n    }","title":"Is it possible to write a Java Collector that does early exit when it has a result?","body":"<p>In addition to Federico's comment, it is possible to <em>emulate</em> a short-circuiting <code>Collector</code> by ceasing accumulation once a certain condition has been met.  Though, this method will only be beneficial if accumulation is expensive.  Here's an example, but keep in mind that there are flaws with this implementation:</p>\n\n<pre><code>public class AveragingCollector implements Collector&lt;Double, double[], Double&gt; {\n    private final AtomicBoolean hasFoundNaN = new AtomicBoolean();\n\n    @Override\n    public Supplier&lt;double[]&gt; supplier() {\n        return () -&gt; new double[2];\n    }\n\n    @Override\n    public BiConsumer&lt;double[], Double&gt; accumulator() {\n        return (a, b) -&gt; {\n            if (hasFoundNaN.get()) {\n                return;\n            }\n\n            if (b.equals(Double.NaN)) {\n                hasFoundNaN.set(true);\n                return;\n            }\n\n            a[0] += b;\n            a[1]++;\n        };\n    }\n\n    @Override\n    public BinaryOperator&lt;double[]&gt; combiner() {\n        return (a, b) -&gt; {\n            a[0] += b[0];\n            a[1] += b[1];\n\n            return a;\n        };\n    }\n\n    @Override\n    public Function&lt;double[], Double&gt; finisher() {\n        return average -&gt; average[0] / average[1];\n    }\n\n    @Override\n    public Set&lt;Characteristics&gt; characteristics() {\n        return new HashSet&lt;&gt;();\n    }\n}\n</code></pre>\n\n<p>The following use-case returns <code>Double.NaN</code>, as expected:</p>\n\n<pre><code>public static void main(String args[]) throws IOException {\n    DoubleStream.of(1, 2, 3, 4, 5, 6, 7, Double.NaN)\n                .boxed()\n                .collect(new AveragingCollector()));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":477949,"reputation":5596,"user_id":889742,"accept_rate":28,"display_name":"Gonen I"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1521835532,"creation_date":1521835532,"answer_id":49457547,"question_id":49456768,"body_markdown":"For the case of NaN, it might be acceptable to consider this an Exceptional outcome, and so throw a custom NaNAverageException, short circuiting the collection operation. Normally using exceptions for normal control flow is a bad practice, however, it may be justified in this case.","title":"Is it possible to write a Java Collector that does early exit when it has a result?","body":"<p>For the case of NaN, it might be acceptable to consider this an Exceptional outcome, and so throw a custom NaNAverageException, short circuiting the collection operation. Normally using exceptions for normal control flow is a bad practice, however, it may be justified in this case.</p>\n"},{"tags":[],"owner":{"account_id":3842325,"reputation":96,"user_id":3185032,"display_name":"ddinde"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1521836391,"creation_date":1521836391,"answer_id":49457725,"question_id":49456768,"body_markdown":"    Stream&lt;String&gt; s = Stream.of(&quot;1&quot;,&quot;2&quot;,&quot;ABC&quot;, &quot;3&quot;);\r\n        try\r\n        {\r\n            double result = s.collect(Collectors.averagingInt(n -&gt; Integer.parseInt(n)));\r\n            System.err.println(&quot;Average :&quot;+ result);\r\n        }\r\n        catch (NumberFormatException e)\r\n        {\r\n            // exception will be thrown it encounters ABC and collector won&#39;t go for &quot;3&quot;\r\n            e.printStackTrace();\r\n        }","title":"Is it possible to write a Java Collector that does early exit when it has a result?","body":"<pre><code>Stream&lt;String&gt; s = Stream.of(\"1\",\"2\",\"ABC\", \"3\");\n    try\n    {\n        double result = s.collect(Collectors.averagingInt(n -&gt; Integer.parseInt(n)));\n        System.err.println(\"Average :\"+ result);\n    }\n    catch (NumberFormatException e)\n    {\n        // exception will be thrown it encounters ABC and collector won't go for \"3\"\n        e.printStackTrace();\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1522054600,"creation_date":1522054600,"answer_id":49487527,"question_id":49456768,"body_markdown":"Thanks for the responses. The comments pointed the way to a solution, which I will describe here. It&#39;s very much inspired by StreamEx, but adapted to my particular situation.\r\n\r\nFirstly, I define an implementation of Stream called XdmStream which in general delegates all methods to an underlying Stream which it wraps.\r\n\r\nThis immediately gives me the opportunity to define new methods, so for example my users can do `stream.last()` instead of `stream.reduce((first,second)-&gt;second)`, which is a useful convenience.\r\n\r\nAs an example of a short-circuiting method I have implemented `XdmStream.untilFirst(Predicate)` as follows (`base` is the wrapped Stream). The idea of this method is to return a stream that delivers the same results as the original stream, except that when a predicate is satisfied, no more results are delivered.\r\n\r\n    public XdmStream&lt;T&gt; untilFirst(Predicate&lt;? super XdmItem&gt; predicate) {\r\n        Stream&lt;T&gt; stoppable = base.peek(item -&gt; {\r\n            if (predicate.test(item)) {\r\n                base.close();\r\n            }\r\n        });\r\n        return new XdmStream&lt;T&gt;(stoppable);\r\n    }\r\n\r\nWhen I first create the base Stream I call its `onClose()` method so that a call on close() triggers the supplier of data to stop supplying data.\r\n\r\nThe `close()` mechanism doesn&#39;t seem particularly well documented (it relies on the concept of a &quot;stream pipeline&quot; and it&#39;s not entirely clear when a new stream returned by some method is part of the same pipeline as the original stream) - but it&#39;s working for me. I guess I should probably ensure that this is only an optimization, so that the results will still be correct even if the flow of data isn&#39;t immediately turned off (e.g. if there is any buffering in the stream). ","title":"Is it possible to write a Java Collector that does early exit when it has a result?","body":"<p>Thanks for the responses. The comments pointed the way to a solution, which I will describe here. It's very much inspired by StreamEx, but adapted to my particular situation.</p>\n\n<p>Firstly, I define an implementation of Stream called XdmStream which in general delegates all methods to an underlying Stream which it wraps.</p>\n\n<p>This immediately gives me the opportunity to define new methods, so for example my users can do <code>stream.last()</code> instead of <code>stream.reduce((first,second)-&gt;second)</code>, which is a useful convenience.</p>\n\n<p>As an example of a short-circuiting method I have implemented <code>XdmStream.untilFirst(Predicate)</code> as follows (<code>base</code> is the wrapped Stream). The idea of this method is to return a stream that delivers the same results as the original stream, except that when a predicate is satisfied, no more results are delivered.</p>\n\n<pre><code>public XdmStream&lt;T&gt; untilFirst(Predicate&lt;? super XdmItem&gt; predicate) {\n    Stream&lt;T&gt; stoppable = base.peek(item -&gt; {\n        if (predicate.test(item)) {\n            base.close();\n        }\n    });\n    return new XdmStream&lt;T&gt;(stoppable);\n}\n</code></pre>\n\n<p>When I first create the base Stream I call its <code>onClose()</code> method so that a call on close() triggers the supplier of data to stop supplying data.</p>\n\n<p>The <code>close()</code> mechanism doesn't seem particularly well documented (it relies on the concept of a \"stream pipeline\" and it's not entirely clear when a new stream returned by some method is part of the same pipeline as the original stream) - but it's working for me. I guess I should probably ensure that this is only an optimization, so that the results will still be correct even if the flow of data isn't immediately turned off (e.g. if there is any buffering in the stream). </p>\n"},{"tags":[],"owner":{"account_id":4396854,"reputation":1866,"user_id":3583589,"display_name":"benez"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656941447,"creation_date":1656941447,"answer_id":72857565,"question_id":49456768,"body_markdown":"Instead of using a `Collector`, you could use `Stream.allMatch(..)` to terminate the `Stream` early and use the util classes like `LongSummaryStatistics` directly. If all values (and at least one) were present, you return them, e.g.:\r\n\r\n    Optional&lt;LongSummaryStatistics&gt; toLongStats(Stream&lt;OptionalLong&gt; stream) {\r\n        LongSummaryStatistics stat = new LongSummaryStatistics();\r\n        boolean allPresent = stream.allMatch(opt -&gt; {\r\n            if (opt.isEmpty()) return false;\r\n            stat.accept(opt.getAsLong());\r\n            return true;\r\n        });\r\n        return allPresent &amp;&amp; stat.getCount() &gt; 0 ? Optional.of(stat) : Optional.empty();\r\n    }\r\n\r\nInstead of a `Stream&lt;OptionalLong&gt;` you might use a `DoubleStream` and check for your *NaN* case.","title":"Is it possible to write a Java Collector that does early exit when it has a result?","body":"<p>Instead of using a <code>Collector</code>, you could use <code>Stream.allMatch(..)</code> to terminate the <code>Stream</code> early and use the util classes like <code>LongSummaryStatistics</code> directly. If all values (and at least one) were present, you return them, e.g.:</p>\n<pre><code>Optional&lt;LongSummaryStatistics&gt; toLongStats(Stream&lt;OptionalLong&gt; stream) {\n    LongSummaryStatistics stat = new LongSummaryStatistics();\n    boolean allPresent = stream.allMatch(opt -&gt; {\n        if (opt.isEmpty()) return false;\n        stat.accept(opt.getAsLong());\n        return true;\n    });\n    return allPresent &amp;&amp; stat.getCount() &gt; 0 ? Optional.of(stat) : Optional.empty();\n}\n</code></pre>\n<p>Instead of a <code>Stream&lt;OptionalLong&gt;</code> you might use a <code>DoubleStream</code> and check for your <em>NaN</em> case.</p>\n"}],"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":456,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":49487527,"answer_count":5,"score":7,"last_activity_date":1656941447,"creation_date":1521831935,"question_id":49456768,"body_markdown":"Is it possible to implement a Collector that stops processing of the stream as soon as an answer is available?\r\n\r\nFor example, if the Collector is computing an average, and one of the values is NaN, I know the answer is going to be NaN without seeing any more values, so further computation is pointless.","title":"Is it possible to write a Java Collector that does early exit when it has a result?","body":"<p>Is it possible to implement a Collector that stops processing of the stream as soon as an answer is available?</p>\n\n<p>For example, if the Collector is computing an average, and one of the values is NaN, I know the answer is going to be NaN without seeing any more values, so further computation is pointless.</p>\n"},{"tags":["java","spring","spring-security","oauth-2.0","auth0"],"comments":[{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1656945528,"post_id":72857223,"comment_id":128688230,"body_markdown":"best practice is to not hand out JWT tokens to browser clients as it was never their purpose. Having long JWT lifetimes is a MAJOR security risk and should be avoided at all costs. Only way to log out a JWT token is to manually keep track of all JWTs server side in a store/database and invalidate them server side. And by so you have basically implemented session based authentication.","body":"best practice is to not hand out JWT tokens to browser clients as it was never their purpose. Having long JWT lifetimes is a MAJOR security risk and should be avoided at all costs. Only way to log out a JWT token is to manually keep track of all JWTs server side in a store/database and invalidate them server side. And by so you have basically implemented session based authentication."}],"answers":[{"tags":[],"owner":{"account_id":13239430,"reputation":167,"user_id":9560502,"display_name":"bojackhorseman99"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656940616,"creation_date":1656940310,"answer_id":72857336,"question_id":72857223,"body_markdown":"It depends, if you use Spring Session you can use this property `spring.session.timeout` or if not then you could use `server.servlet.session.timeout` for a servlet application. \r\n\r\nAlso paraphrasing from the docs, on that property, you set the duration suffix or if not it will use seconds.\r\n\r\nSetting that property will timeout the session on the time that you specified on the Spring backend when the session is idle.","title":"Web application session timeout using Spring security OAuth2 authentication","body":"<p>It depends, if you use Spring Session you can use this property <code>spring.session.timeout</code> or if not then you could use <code>server.servlet.session.timeout</code> for a servlet application.</p>\n<p>Also paraphrasing from the docs, on that property, you set the duration suffix or if not it will use seconds.</p>\n<p>Setting that property will timeout the session on the time that you specified on the Spring backend when the session is idle.</p>\n"}],"owner":{"account_id":1485868,"reputation":676,"user_id":1394172,"display_name":"hillel_guy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1245,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656941274,"creation_date":1656939801,"question_id":72857223,"body_markdown":"I have a web-application on Java Spring server which serves a react client.\r\nI use spring security OAuth2 for user authentication (using Auth0).\r\n\r\nI want to make sure that idle sessions are logged out after 15 minutes. \r\n\r\nI&#39;ve read about some specific technical configuration options like:\r\n\r\n - spring session timeout property\r\n - JWT lifetime\r\n - refresh tokens\r\n\r\nBut I didn&#39;t see any complete solution explanation.\r\n\r\nWhat are the best practices to achieve this requirement?","title":"Web application session timeout using Spring security OAuth2 authentication","body":"<p>I have a web-application on Java Spring server which serves a react client.\nI use spring security OAuth2 for user authentication (using Auth0).</p>\n<p>I want to make sure that idle sessions are logged out after 15 minutes.</p>\n<p>I've read about some specific technical configuration options like:</p>\n<ul>\n<li>spring session timeout property</li>\n<li>JWT lifetime</li>\n<li>refresh tokens</li>\n</ul>\n<p>But I didn't see any complete solution explanation.</p>\n<p>What are the best practices to achieve this requirement?</p>\n"},{"tags":["java","spring","kotlin","backend"],"comments":[{"owner":{"account_id":25481526,"reputation":336,"user_id":19277782,"display_name":"CaptainPyscho"},"score":1,"creation_date":1656868120,"post_id":72848154,"comment_id":128670979,"body_markdown":"Why your repository return a List?","body":"Why your repository return a List?"},{"owner":{"account_id":21599668,"reputation":111,"user_id":15928044,"display_name":"Damian Lisas"},"score":0,"creation_date":1656987766,"post_id":72848154,"comment_id":128697026,"body_markdown":"Can you please share the Conversation class?","body":"Can you please share the Conversation class?"}],"answers":[{"tags":[],"owner":{"account_id":18810664,"reputation":61,"user_id":13718918,"display_name":"seongkyulim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656940191,"creation_date":1656940191,"answer_id":72857308,"question_id":72848154,"body_markdown":"query method changes Conversation data by id, which is one data.\r\nSo it will be return one Conversation object. \r\n\r\ntry to change List&lt;Conversation&gt; to Conversation.\r\n\r\nor, I don&#39;t know well, but quertymethod naming convention is exist, so try to check out.","title":"Spring Boot - update data","body":"<p>query method changes Conversation data by id, which is one data.\nSo it will be return one Conversation object.</p>\n<p>try to change List to Conversation.</p>\n<p>or, I don't know well, but quertymethod naming convention is exist, so try to check out.</p>\n"}],"owner":{"account_id":16835133,"reputation":1,"user_id":12172032,"display_name":"Krystian Szozda"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656940191,"creation_date":1656865448,"question_id":72848154,"body_markdown":"I have a little problem. \r\nI try update in repository one column. \r\n\r\nRepository\r\n\r\n    @Modifying\r\n    @Query(&quot;UPDATE Conversation conversation SET conversation.friend = ?1 WHERE conversation.id = ?2&quot;)\r\n    fun setConversationInfoById(friend: Boolean, id: UUID): List&lt;Conversation&gt;\r\n\r\nService\r\n\r\n    fun addDeleteFriend(conversation: Conversation) {\r\n        val openedConversation = db.findByIdOrNull(conversation.id)\r\n\r\n        if (openedConversation == null) db.save(conversation)\r\n        else db.setConversationInfoById(openedConversation.friend, openedConversation.id)\r\n    }\r\n\r\nControler\r\n\r\n    @PostMapping(&quot;/friend&quot;, consumes = [MediaType.APPLICATION_JSON_VALUE])\r\n            @ResponseBody\r\n            fun friend(@RequestBody conversation: Conversation) = service.addDeleteFriend(conversation)\r\n\r\nIt&#39;s about the flag - boolean whos will change status column &quot;friend&quot;. \r\n\r\nWhen I&#39;m starting BE the console shows me this error: \r\n\r\n        org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with\r\n     name &#39;conversationController&#39; defined in file [####]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name\r\n     &#39;conversationService&#39; defined in file [####]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name \r\n    &#39;conversationRepository&#39; defined in com.###.backend.repository.ConversationRepository defined in \r\n    @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration:\r\n     Invocation of init method failed; nested exception is org.springframework.data.repository.query.QueryCreationException: Could not create query for \r\n    public abstract java.util.List com.###.backend.repository.ConversationRepository.setConversationInfoById(boolean,java.util.UUID)!\r\n     Reason: Failed to create query for method public abstract java.util.List \r\n    com.##.backend.repository.ConversationRepository.setConversationInfoById(boolean,java.util.UUID)!\r\n     No property &#39;setConversationInfoById&#39; found for type &#39;Conversation&#39;!; nested exception is \r\n    java.lang.IllegalArgumentException: Failed to create query for method public abstract \r\n    java.util.List com.###.backend.repository.ConversationRepository.setConversationInfoById(boolean,java.util.UUID)!\r\n     No property &#39;setConversationInfoById&#39; found for type &#39;Conversation&#39;!\r\n\r\nI tried all option, but I don&#39;t know what is the problem ..","title":"Spring Boot - update data","body":"<p>I have a little problem.\nI try update in repository one column.</p>\n<p>Repository</p>\n<pre><code>@Modifying\n@Query(&quot;UPDATE Conversation conversation SET conversation.friend = ?1 WHERE conversation.id = ?2&quot;)\nfun setConversationInfoById(friend: Boolean, id: UUID): List&lt;Conversation&gt;\n</code></pre>\n<p>Service</p>\n<pre><code>fun addDeleteFriend(conversation: Conversation) {\n    val openedConversation = db.findByIdOrNull(conversation.id)\n\n    if (openedConversation == null) db.save(conversation)\n    else db.setConversationInfoById(openedConversation.friend, openedConversation.id)\n}\n</code></pre>\n<p>Controler</p>\n<pre><code>@PostMapping(&quot;/friend&quot;, consumes = [MediaType.APPLICATION_JSON_VALUE])\n        @ResponseBody\n        fun friend(@RequestBody conversation: Conversation) = service.addDeleteFriend(conversation)\n</code></pre>\n<p>It's about the flag - boolean whos will change status column &quot;friend&quot;.</p>\n<p>When I'm starting BE the console shows me this error:</p>\n<pre><code>    org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with\n name 'conversationController' defined in file [####]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name\n 'conversationService' defined in file [####]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name \n'conversationRepository' defined in com.###.backend.repository.ConversationRepository defined in \n@EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration:\n Invocation of init method failed; nested exception is org.springframework.data.repository.query.QueryCreationException: Could not create query for \npublic abstract java.util.List com.###.backend.repository.ConversationRepository.setConversationInfoById(boolean,java.util.UUID)!\n Reason: Failed to create query for method public abstract java.util.List \ncom.##.backend.repository.ConversationRepository.setConversationInfoById(boolean,java.util.UUID)!\n No property 'setConversationInfoById' found for type 'Conversation'!; nested exception is \njava.lang.IllegalArgumentException: Failed to create query for method public abstract \njava.util.List com.###.backend.repository.ConversationRepository.setConversationInfoById(boolean,java.util.UUID)!\n No property 'setConversationInfoById' found for type 'Conversation'!\n</code></pre>\n<p>I tried all option, but I don't know what is the problem ..</p>\n"},{"tags":["java","minecraft"],"comments":[{"owner":{"account_id":8819821,"reputation":1674,"user_id":7492795,"display_name":"TheKingElessar"},"score":0,"creation_date":1596250321,"post_id":63196614,"comment_id":111759868,"body_markdown":"Do you get any error message? How far does the program get in that section before it stops working?","body":"Do you get any error message? How far does the program get in that section before it stops working?"}],"answers":[{"tags":[],"owner":{"display_name":"user13241190"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1596310900,"creation_date":1596310900,"answer_id":63209379,"question_id":63196614,"body_markdown":"So the mouseClicked event isnt firing when you click the spot? For 1.12.2 Atleast the @Override is called mouseClicked not mouseClick if your not calling that from somewhere else. But idk what version ur on\r\n\r\nAlso im not sure about this but i think you need to call \r\n\r\n    super.mouseClicked(i, j, k);\r\n\r\nSo if these are the coordinates of your button location --&gt; 0, 5000, 5000, 300 It should look something like this.\r\n\r\n    @Override\r\n\tprotected void mouseClicked(int MouseX, int MouseY, int button) {\r\n        super.mouseClicked(MouseX, MouseY, button);\r\n        if (0 &lt; MouseX &amp;&amp; 5000 &gt; MouseX &amp;&amp; 5000 &lt; MouseY &amp;&amp; 300 &gt; MouseY) {\r\n            //Do stuff\r\n\t\t}\r\n    }","title":"I am trying to make a custom minecraft start screen singleplayer button but it wont work?","body":"<p>So the mouseClicked event isnt firing when you click the spot? For 1.12.2 Atleast the @Override is called mouseClicked not mouseClick if your not calling that from somewhere else. But idk what version ur on</p>\n<p>Also im not sure about this but i think you need to call</p>\n<pre><code>super.mouseClicked(i, j, k);\n</code></pre>\n<p>So if these are the coordinates of your button location --&gt; 0, 5000, 5000, 300 It should look something like this.</p>\n<pre><code>@Override\nprotected void mouseClicked(int MouseX, int MouseY, int button) {\n    super.mouseClicked(MouseX, MouseY, button);\n    if (0 &lt; MouseX &amp;&amp; 5000 &gt; MouseX &amp;&amp; 5000 &lt; MouseY &amp;&amp; 300 &gt; MouseY) {\n        //Do stuff\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20140824,"reputation":1,"user_id":14770660,"display_name":"cat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656940053,"creation_date":1607193878,"answer_id":65160664,"question_id":63196614,"body_markdown":"Change:\r\n\r\n    public void mouseClick\r\n\r\nto:\r\n\r\n    public void onMouseClick","title":"I am trying to make a custom minecraft start screen singleplayer button but it wont work?","body":"<p>Change:</p>\n<pre><code>public void mouseClick\n</code></pre>\n<p>to:</p>\n<pre><code>public void onMouseClick\n</code></pre>\n"}],"owner":{"account_id":19202158,"reputation":11,"user_id":14029869,"display_name":"LETOURNEAU6"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":504,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1656940053,"creation_date":1596217231,"question_id":63196614,"body_markdown":"```\r\npackage skink.ui;\r\n\r\nimport net.minecraft.client.gui.GuiScreen;\r\nimport net.minecraft.client.gui.GuiSelectWorld;\r\nimport net.minecraft.client.renderer.GlStateManager;\r\nimport net.minecraft.util.ResourceLocation;\r\nimport skink.Client;\r\n\r\npublic class MainMenu extends GuiScreen {\r\n\r\n\tpublic MainMenu() {\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic void initGui() {\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic void drawScreen(int mouseX, int mouseY, float partialTicks) {\r\n\t\tmc.getTextureManager().bindTexture(new ResourceLocation(&quot;Skink/background.png&quot;));\r\n\t\tthis.drawModalRectWithCustomSizedTexture(0, 0, 0, 0, this.width, this.height, this.width, this.height);\r\n\t\t\r\n\t\tthis.drawRect(0, 5000, 5000, 300, 0xff162922);\r\n\t\t\r\n\t\tString[] buttons = { &quot;Singleplayer&quot;, &quot;Multiplayer&quot;, &quot;Settings&quot;, &quot;Language&quot;, &quot;Quit&quot;};\r\n\t\t\r\n\t\tint count = 0;\r\n\t\tfor(String name : buttons) {\r\n\t\t\tthis.drawCenteredString(mc.fontRendererObj, name, (width/buttons.length)*count + (width/buttons.length)/2f + 8, height - 20, -1);\r\n\t\t\tcount++;\r\n\t\t}\r\n\t\t\r\n\t\tGlStateManager.pushMatrix();\r\n\t\tGlStateManager.translate(width/2f, height/5f, 0);\r\n\t\tGlStateManager.scale(3, 3, 1);\r\n\t\tGlStateManager.translate(-(width/2f), -(height/5f), 0);\r\n\t\tthis.drawCenteredString(mc.fontRendererObj, Client.name + &quot; Client &quot; + Client.version, width/2f, height/5f - mc.fontRendererObj.FONT_HEIGHT/2f, -1);\r\n\t\tGlStateManager.popMatrix();\r\n\t}\r\n\t\r\n\tpublic void mouseClick(int mouseX, int mouseY, int button) {\r\n\t\tString[] buttons = { &quot;Singleplayer&quot;, &quot;Multiplayer&quot;, &quot;Settings&quot;, &quot;Language&quot;, &quot;Quit&quot;};\r\n\t\t\r\n\t\tint count = 0;\r\n\t\tfor(String name : buttons) {\r\n\t\t\tfloat x = (width/buttons.length)*count + (width/buttons.length)/2f + 8 - mc.fontRendererObj.getStringWidth(name)/2f;\r\n\t\t\tfloat y =  height - 20;\r\n\t\t\t\r\n\t\t\tif(mouseX &gt;= x &amp;&amp; mouseY &gt;= y &amp;&amp; mouseX &lt; x + mc.fontRendererObj.getStringWidth(name) &amp;&amp; mouseY &lt; y + mc.fontRendererObj.FONT_HEIGHT) {\r\n\t\t\t\tswitch(name) {\r\n\t\t\t\t\tcase &quot;Singleplayer&quot;:\r\n\t\t\t\t\t\tmc.displayGuiScreen(new GuiSelectWorld(this));\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tcount++;\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic void onGuiClosed() {\r\n\t\t\r\n\t}\r\n\t\r\n}\r\n```\r\neverything shows up right its just the buttons wont work, when i click singleplayer its suppost to open up the select worlds screen.\r\n\r\ni have been working on this project for a week now and i have speant so many hours and have written thousands of lines of code to get to this point, it would mean the world to me if you spent some time to help me with this error, tysm!\r\n\r\nImage of main menu :\r\n[Start menu][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/RjbC8.jpg","title":"I am trying to make a custom minecraft start screen singleplayer button but it wont work?","body":"<pre><code>package skink.ui;\n\nimport net.minecraft.client.gui.GuiScreen;\nimport net.minecraft.client.gui.GuiSelectWorld;\nimport net.minecraft.client.renderer.GlStateManager;\nimport net.minecraft.util.ResourceLocation;\nimport skink.Client;\n\npublic class MainMenu extends GuiScreen {\n\n    public MainMenu() {\n        \n    }\n    \n    public void initGui() {\n        \n    }\n    \n    public void drawScreen(int mouseX, int mouseY, float partialTicks) {\n        mc.getTextureManager().bindTexture(new ResourceLocation(&quot;Skink/background.png&quot;));\n        this.drawModalRectWithCustomSizedTexture(0, 0, 0, 0, this.width, this.height, this.width, this.height);\n        \n        this.drawRect(0, 5000, 5000, 300, 0xff162922);\n        \n        String[] buttons = { &quot;Singleplayer&quot;, &quot;Multiplayer&quot;, &quot;Settings&quot;, &quot;Language&quot;, &quot;Quit&quot;};\n        \n        int count = 0;\n        for(String name : buttons) {\n            this.drawCenteredString(mc.fontRendererObj, name, (width/buttons.length)*count + (width/buttons.length)/2f + 8, height - 20, -1);\n            count++;\n        }\n        \n        GlStateManager.pushMatrix();\n        GlStateManager.translate(width/2f, height/5f, 0);\n        GlStateManager.scale(3, 3, 1);\n        GlStateManager.translate(-(width/2f), -(height/5f), 0);\n        this.drawCenteredString(mc.fontRendererObj, Client.name + &quot; Client &quot; + Client.version, width/2f, height/5f - mc.fontRendererObj.FONT_HEIGHT/2f, -1);\n        GlStateManager.popMatrix();\n    }\n    \n    public void mouseClick(int mouseX, int mouseY, int button) {\n        String[] buttons = { &quot;Singleplayer&quot;, &quot;Multiplayer&quot;, &quot;Settings&quot;, &quot;Language&quot;, &quot;Quit&quot;};\n        \n        int count = 0;\n        for(String name : buttons) {\n            float x = (width/buttons.length)*count + (width/buttons.length)/2f + 8 - mc.fontRendererObj.getStringWidth(name)/2f;\n            float y =  height - 20;\n            \n            if(mouseX &gt;= x &amp;&amp; mouseY &gt;= y &amp;&amp; mouseX &lt; x + mc.fontRendererObj.getStringWidth(name) &amp;&amp; mouseY &lt; y + mc.fontRendererObj.FONT_HEIGHT) {\n                switch(name) {\n                    case &quot;Singleplayer&quot;:\n                        mc.displayGuiScreen(new GuiSelectWorld(this));\n                        break;\n                }\n            }\n            \n            count++;\n        }\n    }\n    \n    public void onGuiClosed() {\n        \n    }\n    \n}\n</code></pre>\n<p>everything shows up right its just the buttons wont work, when i click singleplayer its suppost to open up the select worlds screen.</p>\n<p>i have been working on this project for a week now and i have speant so many hours and have written thousands of lines of code to get to this point, it would mean the world to me if you spent some time to help me with this error, tysm!</p>\n<p>Image of main menu :\n<a href=\"https://i.stack.imgur.com/RjbC8.jpg\" rel=\"nofollow noreferrer\">Start menu</a></p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8780,"page":1212,"page_size":100}
