{"items":[{"tags":["java","xml","xslt","xpath","xslt-3.0"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1641295765,"post_id":70577657,"comment_id":124762803,"body_markdown":"Your xslt does not match the xml (`age` vs `value`). Regarding the tokenize: `tokenize` returns a sequence of strings, can you really compare that using `=`?","body":"Your xslt does not match the xml (<code>age</code> vs <code>value</code>). Regarding the tokenize: <code>tokenize</code> returns a sequence of strings, can you really compare that using <code>=</code>?"},{"owner":{"account_id":91947,"reputation":161814,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"score":0,"creation_date":1641303394,"post_id":70577657,"comment_id":124765860,"body_markdown":"`tokenize` is part of XPath 2 and later so the default JAXP XPath API which tends to implement only XPath 1 doesn&#39;t support it. Saxon 9 or 10, however, can be used in Java, to have XPath 3 support. It is not recommended to do it using the JAXP API, in particular if you want results that don&#39;t fit that API. Your code is unclear, it seems, assuming XPath 2, you just want `/root/customer/personalDetails[value=(20, 30)]/name` but of course as a node list not as a boolean.","body":"<code>tokenize</code> is part of XPath 2 and later so the default JAXP XPath API which tends to implement only XPath 1 doesn&#39;t support it. Saxon 9 or 10, however, can be used in Java, to have XPath 3 support. It is not recommended to do it using the JAXP API, in particular if you want results that don&#39;t fit that API. Your code is unclear, it seems, assuming XPath 2, you just want <code>&#47;root&#47;customer&#47;personalDetails[value=(20, 30)]&#47;name</code> but of course as a node list not as a boolean."}],"answers":[{"tags":[],"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641315839,"creation_date":1641314755,"answer_id":70582223,"question_id":70577657,"body_markdown":"Yes, you can use the `tokenize()` function in XPath, provided your XPath processor supports XPath 2.0 or later.\r\n\r\nFor Java, the popular choice of XPath 2.0+ processor is Saxon.\r\n\r\nYou can use the JAXP API with Saxon, however, it&#39;s not really designed to work well with XPath 2.0+, so it&#39;s preferable to use Saxon&#39;s own API (called s9api).\r\n\r\nFor this particular example, you don&#39;t need `tokenize()`. In XPath 2.0+ you can write\r\n\r\n`[age=(&#39;20&#39;, &#39;30&#39;)]`\r\n","title":"How to use tokenize function in Xpath","body":"<p>Yes, you can use the <code>tokenize()</code> function in XPath, provided your XPath processor supports XPath 2.0 or later.</p>\n<p>For Java, the popular choice of XPath 2.0+ processor is Saxon.</p>\n<p>You can use the JAXP API with Saxon, however, it's not really designed to work well with XPath 2.0+, so it's preferable to use Saxon's own API (called s9api).</p>\n<p>For this particular example, you don't need <code>tokenize()</code>. In XPath 2.0+ you can write</p>\n<p><code>[age=('20', '30')]</code></p>\n"}],"owner":{"account_id":23823572,"reputation":21,"user_id":17830953,"display_name":"Vishal Dattaram Patil"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":377,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1641315839,"creation_date":1641293773,"question_id":70577657,"body_markdown":"can we use tokenize function in XPath\r\n\r\nThe general java code i use to process XSLT and XML files are :\r\n\r\n\r\n\r\n    XPath xPath = XPathFactory.newInstance().newXPath();\r\n    InputSource inputXML = new InputSource(new StringReader(xml));\r\n    String expression = &quot;/root/customer/personalDetails[age=tokenize(&#39;20|30&#39;,&#39;|&#39;)]/name&quot;;\r\n    boolean evaluate1 = (boolean) xPath.compile(expression).evaluate(inputXML, XPathConstants.BOOLEAN);\r\n\r\nXML :-\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;ISO-8859-15&quot;?&gt;\r\n    &lt;root&gt;\r\n    \t&lt;customer&gt;\r\n    \t\t&lt;personalDetails&gt;\r\n    \t\t\t&lt;name&gt;ABC&lt;/name&gt;\r\n    \t\t\t&lt;value&gt;20&lt;/value&gt;\r\n    \t\t&lt;/personalDetails&gt;\r\n    \t\t&lt;personalDetails&gt;\r\n    \t\t\t&lt;name&gt;XYZ&lt;/name&gt;\r\n    \t\t\t&lt;value&gt;21&lt;/value&gt;\r\n    \t\t&lt;/personalDetails&gt;\r\n    \t\t&lt;personalDetails&gt;\r\n    \t\t\t&lt;name&gt;PQR&lt;/name&gt;\r\n    \t\t\t&lt;value&gt;30&lt;/value&gt;\r\n    \t\t&lt;/personalDetails&gt;\r\n    \t&lt;/customer&gt;\r\n    &lt;/root&gt;\r\n\r\nExpected Response :- ABC,PQR\r\n\r\n","title":"How to use tokenize function in Xpath","body":"<p>can we use tokenize function in XPath</p>\n<p>The general java code i use to process XSLT and XML files are :</p>\n<pre><code>XPath xPath = XPathFactory.newInstance().newXPath();\nInputSource inputXML = new InputSource(new StringReader(xml));\nString expression = &quot;/root/customer/personalDetails[age=tokenize('20|30','|')]/name&quot;;\nboolean evaluate1 = (boolean) xPath.compile(expression).evaluate(inputXML, XPathConstants.BOOLEAN);\n</code></pre>\n<p>XML :-</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;ISO-8859-15&quot;?&gt;\n&lt;root&gt;\n    &lt;customer&gt;\n        &lt;personalDetails&gt;\n            &lt;name&gt;ABC&lt;/name&gt;\n            &lt;value&gt;20&lt;/value&gt;\n        &lt;/personalDetails&gt;\n        &lt;personalDetails&gt;\n            &lt;name&gt;XYZ&lt;/name&gt;\n            &lt;value&gt;21&lt;/value&gt;\n        &lt;/personalDetails&gt;\n        &lt;personalDetails&gt;\n            &lt;name&gt;PQR&lt;/name&gt;\n            &lt;value&gt;30&lt;/value&gt;\n        &lt;/personalDetails&gt;\n    &lt;/customer&gt;\n&lt;/root&gt;\n</code></pre>\n<p>Expected Response :- ABC,PQR</p>\n"},{"tags":["java","object","hashmap","hashset","hashcode"],"comments":[{"owner":{"account_id":5722140,"reputation":1187,"user_id":4520274,"accept_rate":38,"display_name":"Mansoor"},"score":0,"creation_date":1641313878,"post_id":70581958,"comment_id":124770656,"body_markdown":"What do you mean by the `actual object`","body":"What do you mean by the <code>actual object</code>"},{"owner":{"account_id":18095443,"reputation":305,"user_id":13153841,"display_name":"danield"},"score":0,"creation_date":1641314103,"post_id":70581958,"comment_id":124770759,"body_markdown":"The memory address of the object.","body":"The memory address of the object."},{"owner":{"account_id":5715690,"reputation":2296,"user_id":4515989,"accept_rate":78,"display_name":"Felix"},"score":0,"creation_date":1641314193,"post_id":70581958,"comment_id":124770804,"body_markdown":"You can use `System.identityHashCode(lst1)`and `System.identityHashCode(lst2)`","body":"You can use <code>System.identityHashCode(lst1)</code>and <code>System.identityHashCode(lst2)</code>"}],"answers":[{"tags":[],"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641313909,"creation_date":1641313909,"answer_id":70582026,"question_id":70581958,"body_markdown":"Not generally in collections, because you generally want two collections with all the same items to be equal (which is why they implement it like this-  equals will return true and the hash codes are the same).\r\n\r\nYou can subclass a list and have it not do that, it would just not be widely useful and would cause a lot of confusion if other programmers read your code.  In that case, you&#39;d just want equals to return the result of == and hashCode to return the integer value of the reference (the same thing that Object.equals does).","title":"How can I take into consideration the object itself when calculating a hash for an object in Java?","body":"<p>Not generally in collections, because you generally want two collections with all the same items to be equal (which is why they implement it like this-  equals will return true and the hash codes are the same).</p>\n<p>You can subclass a list and have it not do that, it would just not be widely useful and would cause a lot of confusion if other programmers read your code.  In that case, you'd just want equals to return the result of == and hashCode to return the integer value of the reference (the same thing that Object.equals does).</p>\n"},{"tags":[],"owner":{"account_id":69443,"reputation":85343,"user_id":202009,"accept_rate":79,"display_name":"Andy Thomas"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1641314327,"creation_date":1641314327,"answer_id":70582120,"question_id":70581958,"body_markdown":"Yes, you can use java&#39;s [java.util.IdentityHashMap][1], or [guava&#39;s identity hash set][2].\r\n\r\nThe hashes of the two lists [must be equal][3], because the objects are equal. But the identity map and set above are based on the identity of the list objects, not their hash.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/IdentityHashMap.html\r\n  [2]: https://guava.dev/releases/22.0/api/docs/com/google/common/collect/Sets.html#newIdentityHashSet--\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#hashCode()","title":"How can I take into consideration the object itself when calculating a hash for an object in Java?","body":"<p>Yes, you can use java's <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/IdentityHashMap.html\" rel=\"nofollow noreferrer\">java.util.IdentityHashMap</a>, or <a href=\"https://guava.dev/releases/22.0/api/docs/com/google/common/collect/Sets.html#newIdentityHashSet--\" rel=\"nofollow noreferrer\">guava's identity hash set</a>.</p>\n<p>The hashes of the two lists <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#hashCode()\" rel=\"nofollow noreferrer\">must be equal</a>, because the objects are equal. But the identity map and set above are based on the identity of the list objects, not their hash.</p>\n"},{"tags":[],"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641315693,"creation_date":1641315367,"answer_id":70582367,"question_id":70581958,"body_markdown":"&gt; If I have two lists (so two different objects), with the same values, the hashcode is the same. After some reading, I understand that this is how it should behave.\r\n\r\nYes, this is part of the specification of `java.util.List`.\r\n\r\n&gt; Is there a structure (like a HashSet for example) that takes into consideration the actual object and not only the values inside the object when calculating the hashcode for something?\r\n&gt;\r\n&gt; My purpose would be to differentiate between lst1 and lst2 in a list for example\r\n\r\nIt is unclear what &quot;in a list&quot; means here.  For example, `Collection.contains()` and `List.equals()` are defined in terms or members&#39; `equals()` methods, and likewise the behavior of `List.remove(Object)`.  Although distinct objects, your two `List`s will compare equal to each other, so those methods will not distinguish between them, neither directly nor as members of another list.  You can always compare them for reference equality (`==`), however, to determine that they are not the same object despite being `equals()` each other.\r\n\r\nAs far as a collection that takes members&#39; object identity into account, you could consider [`java.util.IdentityHashMap`][1].  Two such maps having keys and associated values that are pairwise `equals()` each other but not identical will not compare `equals()` to each other.  Such sets will typically have different hash codes than each other, though that cannot be guaranteed.  Note well, however, the warnings throughout the documentation of `IdentityHashMap` that although it implements the `Map` API, many of the behavioral details are inconsistent with the requirements of that interface.\r\n\r\n----\r\n\r\nNote also that\r\n\r\n - most of the above is relevant only for collections whose members are of a type that overrides `equals()` and `hashCode()`.  The implementations of or inherited from `Object` differentiate between objects on a reference-equality basis, so the ordinary collections classes have no surprises for you there.\r\n\r\n - identical string literals are not required to represent distinct objects, so the `lst1` and `lst2` in your example  code may in fact contain identical elements, in the reference equality sense.\r\n\r\n  [1]: https://download.java.net/java/early_access/loom/docs/api/java.base/java/util/IdentityHashMap.html","title":"How can I take into consideration the object itself when calculating a hash for an object in Java?","body":"<blockquote>\n<p>If I have two lists (so two different objects), with the same values, the hashcode is the same. After some reading, I understand that this is how it should behave.</p>\n</blockquote>\n<p>Yes, this is part of the specification of <code>java.util.List</code>.</p>\n<blockquote>\n<p>Is there a structure (like a HashSet for example) that takes into consideration the actual object and not only the values inside the object when calculating the hashcode for something?</p>\n<p>My purpose would be to differentiate between lst1 and lst2 in a list for example</p>\n</blockquote>\n<p>It is unclear what &quot;in a list&quot; means here.  For example, <code>Collection.contains()</code> and <code>List.equals()</code> are defined in terms or members' <code>equals()</code> methods, and likewise the behavior of <code>List.remove(Object)</code>.  Although distinct objects, your two <code>List</code>s will compare equal to each other, so those methods will not distinguish between them, neither directly nor as members of another list.  You can always compare them for reference equality (<code>==</code>), however, to determine that they are not the same object despite being <code>equals()</code> each other.</p>\n<p>As far as a collection that takes members' object identity into account, you could consider <a href=\"https://download.java.net/java/early_access/loom/docs/api/java.base/java/util/IdentityHashMap.html\" rel=\"nofollow noreferrer\"><code>java.util.IdentityHashMap</code></a>.  Two such maps having keys and associated values that are pairwise <code>equals()</code> each other but not identical will not compare <code>equals()</code> to each other.  Such sets will typically have different hash codes than each other, though that cannot be guaranteed.  Note well, however, the warnings throughout the documentation of <code>IdentityHashMap</code> that although it implements the <code>Map</code> API, many of the behavioral details are inconsistent with the requirements of that interface.</p>\n<hr />\n<p>Note also that</p>\n<ul>\n<li><p>most of the above is relevant only for collections whose members are of a type that overrides <code>equals()</code> and <code>hashCode()</code>.  The implementations of or inherited from <code>Object</code> differentiate between objects on a reference-equality basis, so the ordinary collections classes have no surprises for you there.</p>\n</li>\n<li><p>identical string literals are not required to represent distinct objects, so the <code>lst1</code> and <code>lst2</code> in your example  code may in fact contain identical elements, in the reference equality sense.</p>\n</li>\n</ul>\n"}],"owner":{"account_id":18095443,"reputation":305,"user_id":13153841,"display_name":"danield"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":99,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":70582120,"answer_count":3,"score":-1,"last_activity_date":1641315693,"creation_date":1641313617,"question_id":70581958,"body_markdown":"I was working on some algorithmic problems when I got to this and it seemed interesting to me. If I have two lists (so two different objects), with the same values, the hashcode is the same. After some reading, I understand that this is how it should behave. For example:\r\n\r\n```\r\n        List&lt;String&gt; lst1 = new LinkedList&lt;&gt;(Arrays.asList(&quot;str1&quot;, &quot;str2&quot;));\r\n        List&lt;String&gt; lst2 = new LinkedList&lt;&gt;(Arrays.asList(&quot;str1&quot;, &quot;str2&quot;));\r\n        System.out.println(lst1.hashCode() + &quot; &quot; + lst2.hashCode());\r\n        ...........\r\n        Result: 2640541 2640541\r\n```\r\nMy purpose would be to differentiate between lst1 and lst2 in a list for example.\r\n\r\nIs there a structure (like a HashSet for example) that takes into consideration the actual object and not only the values inside the object when calculating the hashcode for something?","title":"How can I take into consideration the object itself when calculating a hash for an object in Java?","body":"<p>I was working on some algorithmic problems when I got to this and it seemed interesting to me. If I have two lists (so two different objects), with the same values, the hashcode is the same. After some reading, I understand that this is how it should behave. For example:</p>\n<pre><code>        List&lt;String&gt; lst1 = new LinkedList&lt;&gt;(Arrays.asList(&quot;str1&quot;, &quot;str2&quot;));\n        List&lt;String&gt; lst2 = new LinkedList&lt;&gt;(Arrays.asList(&quot;str1&quot;, &quot;str2&quot;));\n        System.out.println(lst1.hashCode() + &quot; &quot; + lst2.hashCode());\n        ...........\n        Result: 2640541 2640541\n</code></pre>\n<p>My purpose would be to differentiate between lst1 and lst2 in a list for example.</p>\n<p>Is there a structure (like a HashSet for example) that takes into consideration the actual object and not only the values inside the object when calculating the hashcode for something?</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":7172249,"reputation":8197,"user_id":5479362,"accept_rate":48,"display_name":"9ilsdx 9rvj 0lo"},"score":2,"creation_date":1641297804,"post_id":70578481,"comment_id":124763593,"body_markdown":"You shouldn&#39;t make wrong assumptions about default character encoding in the first line. It&#39;s easier to control your own code than to control external environment.","body":"You shouldn&#39;t make wrong assumptions about default character encoding in the first line. It&#39;s easier to control your own code than to control external environment."},{"owner":{"account_id":15253330,"reputation":1225,"user_id":11005990,"display_name":"yoon"},"score":0,"creation_date":1641298706,"post_id":70578481,"comment_id":124763971,"body_markdown":"@9ilsdx9rvj0lo What do you mean by &quot;control your own code&quot;? Referring https://stackoverflow.com/questions/361975/setting-the-default-java-character-encoding, I thought setting default charset cannot be done by code level. If I&#39;m getting anything wrong, please let me know.","body":"@9ilsdx9rvj0lo What do you mean by &quot;control your own code&quot;? Referring <a href=\"https://stackoverflow.com/questions/361975/setting-the-default-java-character-encoding\" title=\"setting the default java character encoding\">stackoverflow.com/questions/361975/&hellip;</a>, I thought setting default charset cannot be done by code level. If I&#39;m getting anything wrong, please let me know."},{"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"score":0,"creation_date":1641299559,"post_id":70578481,"comment_id":124764323,"body_markdown":"The answer may depend on your goal - why you want to change it? In tests? Resource filtering? Sources encoding?","body":"The answer may depend on your goal - why you want to change it? In tests? Resource filtering? Sources encoding?"},{"owner":{"account_id":15253330,"reputation":1225,"user_id":11005990,"display_name":"yoon"},"score":0,"creation_date":1641300105,"post_id":70578481,"comment_id":124764491,"body_markdown":"@Lesiak In a log file, a certain language is logged as `???`. I found that it&#39;s properly logged when given `Dfile.encoding=utf-8` option, so I want to achieve it without passing Dfile.encoding option everytime I run the app.","body":"@Lesiak In a log file, a certain language is logged as <code>???</code>. I found that it&#39;s properly logged when given <code>Dfile.encoding=utf-8</code> option, so I want to achieve it without passing Dfile.encoding option everytime I run the app."},{"owner":{"account_id":3618847,"reputation":867,"user_id":17695211,"display_name":"Alexey Veleshko"},"score":0,"creation_date":1641306208,"post_id":70578481,"comment_id":124767184,"body_markdown":"@yoon Do you write this log file in your own code? Then you might just define the `Charset` argument for your `OutputStreamWriter`/`PrintWriter` constructor.","body":"@yoon Do you write this log file in your own code? Then you might just define the <code>Charset</code> argument for your <code>OutputStreamWriter</code>/<code>PrintWriter</code> constructor."},{"owner":{"account_id":7172249,"reputation":8197,"user_id":5479362,"accept_rate":48,"display_name":"9ilsdx 9rvj 0lo"},"score":0,"creation_date":1641313321,"post_id":70578481,"comment_id":124770426,"body_markdown":"@yoon you should never use default encoding!","body":"@yoon you should never use default encoding!"}],"answers":[{"tags":[],"owner":{"account_id":6788662,"reputation":2778,"user_id":5226491,"display_name":"Max Daroshchanka"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1641315456,"creation_date":1641299350,"answer_id":70578822,"question_id":70578481,"body_markdown":"The question is how to pass JVM args for Maven build before runtime.\r\n\r\n&gt; Starting with Maven 3.3.1+ you can define JVM configuration via ${maven.projectBasedir}/.mvn/jvm.config file which means you can define the options for your build on a per project base. This file will become part of your project and will be checked in along with your project.\r\n\r\n\r\nSo, create .mvn/jvm.config in your project root with content:\r\n\r\n```\r\n-Dfile.encoding=utf-8\r\n```\r\n\r\nSee the reference: https://maven.apache.org/configure.html#mvn-jvm-config-file\r\n","title":"How can I set Dfile.encoding=utf-8 when building maven project?","body":"<p>The question is how to pass JVM args for Maven build before runtime.</p>\n<blockquote>\n<p>Starting with Maven 3.3.1+ you can define JVM configuration via ${maven.projectBasedir}/.mvn/jvm.config file which means you can define the options for your build on a per project base. This file will become part of your project and will be checked in along with your project.</p>\n</blockquote>\n<p>So, create .mvn/jvm.config in your project root with content:</p>\n<pre><code>-Dfile.encoding=utf-8\n</code></pre>\n<p>See the reference: <a href=\"https://maven.apache.org/configure.html#mvn-jvm-config-file\" rel=\"nofollow noreferrer\">https://maven.apache.org/configure.html#mvn-jvm-config-file</a></p>\n"},{"tags":[],"owner":{"account_id":3618847,"reputation":867,"user_id":17695211,"display_name":"Alexey Veleshko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641301395,"creation_date":1641301395,"answer_id":70579277,"question_id":70578481,"body_markdown":"You can [define](https://superuser.com/questions/284342/what-are-path-and-other-environment-variables-and-how-can-i-set-or-use-them) `JDK_JAVA_OPTIONS` environment variable as `-Dfile.encoding=utf-8` to avoid typing it every time. See the [java command documentation](https://docs.oracle.com/en/java/javase/17/docs/specs/man/java.html#using-the-jdk_java_options-launcher-environment-variable) for details.\r\n\r\nIn OpenJDK 18 UTF-8 will be default for all operating systems: [JEP 400](https://openjdk.java.net/jeps/400).\r\n\r\n","title":"How can I set Dfile.encoding=utf-8 when building maven project?","body":"<p>You can <a href=\"https://superuser.com/questions/284342/what-are-path-and-other-environment-variables-and-how-can-i-set-or-use-them\">define</a> <code>JDK_JAVA_OPTIONS</code> environment variable as <code>-Dfile.encoding=utf-8</code> to avoid typing it every time. See the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/specs/man/java.html#using-the-jdk_java_options-launcher-environment-variable\" rel=\"nofollow noreferrer\">java command documentation</a> for details.</p>\n<p>In OpenJDK 18 UTF-8 will be default for all operating systems: <a href=\"https://openjdk.java.net/jeps/400\" rel=\"nofollow noreferrer\">JEP 400</a>.</p>\n"}],"owner":{"account_id":15253330,"reputation":1225,"user_id":11005990,"display_name":"yoon"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":798,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1641315456,"creation_date":1641297638,"question_id":70578481,"body_markdown":"`System.out.println(Charset.defaultCharset().displayName());` prints `ISO-8859-1`, so I want to set the defaultCharset to UTF-8.\r\n\r\nWhen tried with `java -Dfile.encoding=utf-8 -jar XXX.jar`, I checked that default charset is set to UTF-8.\r\n\r\nBut is there a way to set `Dfile.encoding=utf-8` option at maven packaging level, so that I can just run `java -jar XXX.jar`?\r\n\r\nWhat I tried:\r\n- `mvn clean package -Dfile.encoding=utf-8`\r\n\r\n- pom.xml\r\n```\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.19.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;argLine&gt;-Dfile.encoding=utf-8&lt;/argLine&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n```\r\n- `MAVEN_OPTS=&quot;-Dfile.encoding=utf-8&quot; mvn clean package`\r\n\r\n\r\nI prefer controlling with pom.xml file.\r\n","title":"How can I set Dfile.encoding=utf-8 when building maven project?","body":"<p><code>System.out.println(Charset.defaultCharset().displayName());</code> prints <code>ISO-8859-1</code>, so I want to set the defaultCharset to UTF-8.</p>\n<p>When tried with <code>java -Dfile.encoding=utf-8 -jar XXX.jar</code>, I checked that default charset is set to UTF-8.</p>\n<p>But is there a way to set <code>Dfile.encoding=utf-8</code> option at maven packaging level, so that I can just run <code>java -jar XXX.jar</code>?</p>\n<p>What I tried:</p>\n<ul>\n<li><p><code>mvn clean package -Dfile.encoding=utf-8</code></p>\n</li>\n<li><p>pom.xml</p>\n</li>\n</ul>\n<pre><code>            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.19.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;argLine&gt;-Dfile.encoding=utf-8&lt;/argLine&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n</code></pre>\n<ul>\n<li><code>MAVEN_OPTS=&quot;-Dfile.encoding=utf-8&quot; mvn clean package</code></li>\n</ul>\n<p>I prefer controlling with pom.xml file.</p>\n"},{"tags":["java","graphql"],"answers":[{"tags":[],"owner":{"account_id":7837244,"reputation":372,"user_id":5924810,"display_name":"Dzmitry Atkayey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1565961449,"creation_date":1565961449,"answer_id":57525377,"question_id":57525225,"body_markdown":"After some research, I found resolvers for the java types in the `graphql-java-9.2.jar!/graphql/Scalars.class` and inspired of it. ","title":"Use Date type in the graphql scheme","body":"<p>After some research, I found resolvers for the java types in the <code>graphql-java-9.2.jar!/graphql/Scalars.class</code> and inspired of it. </p>\n"},{"tags":[],"owner":{"account_id":14031877,"reputation":41,"user_id":10135548,"display_name":"assistantToTheRegionalMngr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641315386,"creation_date":1641315386,"answer_id":70582373,"question_id":57525225,"body_markdown":"Not sure what your setup looks like but for me this is how I quickly resolved that exception: \r\n\r\nI extended the GraphQlHttpServlet and there is where I load my graphql schema (overriding the getConfiguration() method etc to start the servlet... sorry I can&#39;t go into much detail but I&#39;m sure looking at the docs will make what I just said make sense). In getConfiguration() I have: \r\n\r\n    return GraphQLConfiguration.with(createSchema())\r\n            .with(customGraphQLContextBuilder)\r\n            .build();\r\n\r\nand in createSchema I load the graphql schema and I PARSE it: \r\n\r\n    .\r\n    .\r\n                return SchemaParser.newParser()\r\n                        .schemaString(schemaString)\r\n                        .scalars(CustomDateTimeScalar.getDateTimeScalar())\r\n                        .resolvers(myQueryResolverXYZ)\r\n                        .build()\r\n                        .makeExecutableSchema();\r\n    .\r\n    .\r\n\r\n\r\nJust in case this sheds light on someone else that runs into this. ","title":"Use Date type in the graphql scheme","body":"<p>Not sure what your setup looks like but for me this is how I quickly resolved that exception:</p>\n<p>I extended the GraphQlHttpServlet and there is where I load my graphql schema (overriding the getConfiguration() method etc to start the servlet... sorry I can't go into much detail but I'm sure looking at the docs will make what I just said make sense). In getConfiguration() I have:</p>\n<pre><code>return GraphQLConfiguration.with(createSchema())\n        .with(customGraphQLContextBuilder)\n        .build();\n</code></pre>\n<p>and in createSchema I load the graphql schema and I PARSE it:</p>\n<pre><code>.\n.\n            return SchemaParser.newParser()\n                    .schemaString(schemaString)\n                    .scalars(CustomDateTimeScalar.getDateTimeScalar())\n                    .resolvers(myQueryResolverXYZ)\n                    .build()\n                    .makeExecutableSchema();\n.\n.\n</code></pre>\n<p>Just in case this sheds light on someone else that runs into this.</p>\n"}],"owner":{"account_id":7837244,"reputation":372,"user_id":5924810,"display_name":"Dzmitry Atkayey"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10147,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":57525377,"answer_count":2,"score":3,"last_activity_date":1641315386,"creation_date":1565960812,"question_id":57525225,"body_markdown":"I want to introduce a scalar type to the graphql scheme and provide resolver for it.\r\n\r\n\r\n\r\nI believe what I need to do is to provide the corresponding resolver for the new type as described [here](https://stackoverflow.com/a/53824982/5924810)\r\n\r\n\r\nI use spring boot starter to implement the server.\r\n`com.graphql-java:graphql-spring-boot-starter:5.0.2`\r\n\r\nThere is `schema.graphqls`:\r\n```\r\ntype Query {\r\n    pets(last: Int): [Pet]\r\n}\r\ntype Pet {\r\n    id: ID\r\n    name: String\r\n}\r\n```\r\n\r\nand `QueryResolver`:\r\n```\r\n@Component\r\npublic class Query implements GraphQLQueryResolver {\r\n\r\n    @Autowired\r\n    PetStore petStore;\r\n\r\n    public Pet pet(long id) {\r\n        return petStore.pet(id);\r\n    }\r\n\r\n    public List&lt;Pet&gt; pets(Integer last) {\r\n        return petStore.pets().stream()\r\n                .limit(last != null ? last : Integer.MAX_VALUE)\r\n                .collect(Collectors.toList());\r\n    }\r\n}\r\n```\r\n\r\nI believe that there is a way to update a scheme like this:\r\n```\r\ntype Pet {\r\n    id: ID\r\n    name: String\r\n    dateOfBirth: LocalDateTime\r\n}\r\n\r\nscalar LocalDateTime\r\n```\r\n\r\nand provide resolver to define how new field value should be processed, like this:\r\n```\r\n@Component\r\npublic class DateResolver extends GraphQLScalarType {\r\n\r\n    // serialize/deserialize logic\r\n\r\n}\r\n```\r\n\r\nUnfochinatly I get following exception:\r\n```\r\ncom.coxautodev.graphql.tools.SchemaClassScannerError: Expected a user-defined GraphQL scalar type with name &#39;LocalDateTime&#39; but found none!\r\n```","title":"Use Date type in the graphql scheme","body":"<p>I want to introduce a scalar type to the graphql scheme and provide resolver for it.</p>\n\n<p>I believe what I need to do is to provide the corresponding resolver for the new type as described <a href=\"https://stackoverflow.com/a/53824982/5924810\">here</a></p>\n\n<p>I use spring boot starter to implement the server.\n<code>com.graphql-java:graphql-spring-boot-starter:5.0.2</code></p>\n\n<p>There is <code>schema.graphqls</code>:</p>\n\n<pre><code>type Query {\n    pets(last: Int): [Pet]\n}\ntype Pet {\n    id: ID\n    name: String\n}\n</code></pre>\n\n<p>and <code>QueryResolver</code>:</p>\n\n<pre><code>@Component\npublic class Query implements GraphQLQueryResolver {\n\n    @Autowired\n    PetStore petStore;\n\n    public Pet pet(long id) {\n        return petStore.pet(id);\n    }\n\n    public List&lt;Pet&gt; pets(Integer last) {\n        return petStore.pets().stream()\n                .limit(last != null ? last : Integer.MAX_VALUE)\n                .collect(Collectors.toList());\n    }\n}\n</code></pre>\n\n<p>I believe that there is a way to update a scheme like this:</p>\n\n<pre><code>type Pet {\n    id: ID\n    name: String\n    dateOfBirth: LocalDateTime\n}\n\nscalar LocalDateTime\n</code></pre>\n\n<p>and provide resolver to define how new field value should be processed, like this:</p>\n\n<pre><code>@Component\npublic class DateResolver extends GraphQLScalarType {\n\n    // serialize/deserialize logic\n\n}\n</code></pre>\n\n<p>Unfochinatly I get following exception:</p>\n\n<pre><code>com.coxautodev.graphql.tools.SchemaClassScannerError: Expected a user-defined GraphQL scalar type with name 'LocalDateTime' but found none!\n</code></pre>\n"},{"tags":["java","swing","jfreechart","timeserieschart"],"answers":[{"tags":[],"owner":{"account_id":2507550,"reputation":10975,"user_id":2180785,"accept_rate":90,"display_name":"Frakcool"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1641315028,"creation_date":1641315028,"answer_id":70582288,"question_id":70581772,"body_markdown":"There are a lot of issues on your program:\r\n\r\n\r\n1. You&#39;re not modifying any of the properties of a `JFrame`, so there&#39;s no need to extend from it, rather create an instance of a `JFrame`. See https://stackoverflow.com/questions/22003802/extends-jframe-vs-creating-it-inside-the-program\r\n\r\n       extends JFrame\r\n\r\n2. You&#39;re making use of `null-layouts`, this will give you more troubles than solutions, using `setBounds` and `null-layouts` might seem like the easiest approach to build complex GUIs at first, but it really isn&#39;t, because Swing has to deal with different OS, PLAFs, screen sizes and resolutions. See https://stackoverflow.com/questions/6592468/why-is-it-frowned-upon-to-use-a-null-layout-in-swing and this [answer](https://stackoverflow.com/a/42521097/2180785) for an example of what could happen if you insist on using `null-layout` instead of proper [Layout Managers](https://docs.oracle.com/javase/tutorial/uiswing/layout/visual.html).\r\n\r\n       panel.setLayout(null);\r\n\r\n3. &gt; the program opens up the correct GUI but doesn&#39;t get rid of the &quot;LiftAnalysis&quot; GUI\r\n\r\n   The above line, makes me think that you&#39;re using multiple `JFrames`, which isn&#39;t a good practice. See https://stackoverflow.com/questions/9554636/the-use-of-multiple-jframes-good-or-bad-practice (Bad), you&#39;re going to keep popping windows in different places for the user or have multiple instances of your program running or showing up in the task bar, instead you could be using [CardLayout](https://docs.oracle.com/javase/tutorial/uiswing/layout/card.html) or use [Dialogs](https://docs.oracle.com/javase/tutorial/uiswing/components/dialog.html) to display information to the user, here&#39;s an [example](https://stackoverflow.com/a/63121986/2180785) that uses both of them.\r\n\r\n   If you insist on keeping the multiple `JFrames` you have to call `dispose();` instead of `panel.setVisible(false);`","title":"My Java Swing GUI which contains a JFreeChart won&#39;t close","body":"<p>There are a lot of issues on your program:</p>\n<ol>\n<li><p>You're not modifying any of the properties of a <code>JFrame</code>, so there's no need to extend from it, rather create an instance of a <code>JFrame</code>. See <a href=\"https://stackoverflow.com/questions/22003802/extends-jframe-vs-creating-it-inside-the-program\">Extends JFrame vs. creating it inside the program</a></p>\n<pre><code>extends JFrame\n</code></pre>\n</li>\n<li><p>You're making use of <code>null-layouts</code>, this will give you more troubles than solutions, using <code>setBounds</code> and <code>null-layouts</code> might seem like the easiest approach to build complex GUIs at first, but it really isn't, because Swing has to deal with different OS, PLAFs, screen sizes and resolutions. See <a href=\"https://stackoverflow.com/questions/6592468/why-is-it-frowned-upon-to-use-a-null-layout-in-swing\">Why is it frowned upon to use a null layout in Swing?</a> and this <a href=\"https://stackoverflow.com/a/42521097/2180785\">answer</a> for an example of what could happen if you insist on using <code>null-layout</code> instead of proper <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/visual.html\" rel=\"nofollow noreferrer\">Layout Managers</a>.</p>\n<pre><code>panel.setLayout(null);\n</code></pre>\n</li>\n<li>\n<blockquote>\n<p>the program opens up the correct GUI but doesn't get rid of the &quot;LiftAnalysis&quot; GUI</p>\n</blockquote>\n<p>The above line, makes me think that you're using multiple <code>JFrames</code>, which isn't a good practice. See <a href=\"https://stackoverflow.com/questions/9554636/the-use-of-multiple-jframes-good-or-bad-practice\">The Use of Multiple JFrames: Good or Bad Practice?</a> (Bad), you're going to keep popping windows in different places for the user or have multiple instances of your program running or showing up in the task bar, instead you could be using <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/card.html\" rel=\"nofollow noreferrer\">CardLayout</a> or use <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/dialog.html\" rel=\"nofollow noreferrer\">Dialogs</a> to display information to the user, here's an <a href=\"https://stackoverflow.com/a/63121986/2180785\">example</a> that uses both of them.</p>\n<p>If you insist on keeping the multiple <code>JFrames</code> you have to call <code>dispose();</code> instead of <code>panel.setVisible(false);</code></p>\n</li>\n</ol>\n"}],"owner":{"account_id":19801649,"reputation":47,"user_id":14502522,"display_name":"Joshua John"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":131,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70582288,"answer_count":1,"score":0,"last_activity_date":1641315028,"creation_date":1641312668,"question_id":70581772,"body_markdown":"The problem I have is when I press the &quot;back&quot; button, the program opens up the correct GUI but doesn&#39;t get rid of the &quot;LiftAnalysis&quot; GUI. I have almost no experience with JFreeChart or using TimeSeriesCharts. Please suggest a method to hide the current GUI when the back button is pressed.\r\nCode is below \r\n\r\n```\r\nimport java.awt.Color;  \r\nimport javax.swing.JFrame;\r\nimport javax.swing.JLabel;\r\nimport javax.swing.SwingUtilities;  \r\nimport javax.swing.WindowConstants;  \r\nimport org.jfree.chart.ChartFactory;  \r\nimport org.jfree.chart.ChartPanel;  \r\nimport org.jfree.chart.JFreeChart;\r\nimport org.jfree.chart.axis.Axis;\r\nimport org.jfree.chart.plot.CategoryPlot;\r\nimport org.jfree.chart.plot.Plot;\r\nimport org.jfree.chart.plot.XYPlot;  \r\nimport org.jfree.data.time.Day;  \r\nimport org.jfree.data.time.TimeSeries;  \r\nimport org.jfree.data.time.TimeSeriesCollection;  \r\nimport org.jfree.data.xy.XYDataset;\r\n\r\nimport javax.swing.ImageIcon;\r\nimport javax.swing.JButton;\r\nimport java.awt.Font;\r\nimport java.awt.Image;\r\nimport java.awt.event.ActionListener;\r\nimport java.awt.event.ActionEvent;  \r\n  \r\npublic class LiftAnalysis extends JFrame {  \r\n  \r\n  private static final long serialVersionUID = 1L;  \r\n  \r\n  public LiftAnalysis(){  \r\n    //super(title);  \r\n    // Create dataset  \r\n    XYDataset dataset = createDataset();  \r\n    // Create chart  \r\n    JFreeChart chart = ChartFactory.createTimeSeriesChart(  \r\n        &quot;Lift Analysis&quot;, // Chart  \r\n        &quot;Date&quot;, // X-Axis Label  \r\n        &quot;Number&quot;, // Y-Axis Label  \r\n        dataset);  \r\n  \r\n    //Changes background color  \r\n    //XYPlot plot = (XYPlot)chart.getPlot();  \r\n    Plot plot = chart.getPlot();\r\n\r\n    plot.setBackgroundPaint(new Color(255,228,196));  \r\n    chart.setBackgroundPaint(Color.DARK_GRAY);\r\n\r\n    ChartPanel panel = new ChartPanel(chart);  \r\n    setContentPane(panel);  \r\n    panel.setLayout(null);\r\n    \r\n    if (plot instanceof CategoryPlot) {\r\n        setAxisFontColor(((CategoryPlot) plot).getDomainAxis(), Color.white);\r\n        setAxisFontColor(((CategoryPlot) plot).getRangeAxis(), Color.white);\r\n    } else if (plot instanceof XYPlot) {\r\n        setAxisFontColor(((XYPlot) plot).getDomainAxis(), Color.white);\r\n        setAxisFontColor(((XYPlot) plot).getRangeAxis(), Color.white);\r\n    }\r\n    \r\n    ImageIcon helfIcon = new ImageIcon(&quot;C:\\\\Users\\\\joshu\\\\Desktop\\\\School\\\\Computer Science\\\\logo_small_icon_only_inverted.png&quot;);\r\n\t\r\n\tImage helfImage = helfIcon.getImage();\r\n\tImage modifiedHelfImage = helfImage.getScaledInstance(50, 50, java.awt.Image.SCALE_SMOOTH);\r\n\thelfIcon = new ImageIcon(modifiedHelfImage);\r\n\t\r\n\tJLabel lblNewLabel = new JLabel(&quot;&quot;);\r\n\tlblNewLabel.setIcon(helfIcon);\r\n\tlblNewLabel.setBounds(736, -14, 62, 69);\r\n\t\r\n\tpanel.add(lblNewLabel);\r\n    \r\n\t\r\n    JButton btnBack = new JButton(&quot;Back&quot;);\r\n\r\n    \tbtnBack.addActionListener(new ActionListener() {\r\n\t\t\tpublic void actionPerformed(ActionEvent arg0) {\r\n\t\t\t\tAnalysisPage p10 = new AnalysisPage();\r\n\t\t\t\tpanel.setVisible(false);\r\n\t\t\t\tp10.run(); //Opens a different GUI\r\n\t\t\t}\r\n\t\t});\r\n    btnBack.setBackground(Color.GRAY);\r\n    btnBack.setFont(new Font(&quot;Tahoma&quot;, Font.BOLD, 18));\r\n    btnBack.setBounds(43, 318, 120, 34);\r\n    panel.add(btnBack);\r\n  }  \r\n  \r\n  private XYDataset createDataset() {  \r\n    TimeSeriesCollection dataset = new TimeSeriesCollection();  \r\n  \r\n    TimeSeries series1 = new TimeSeries(&quot;Bench&quot;);  \r\n    series1.add(new Day(15, 12, 2021), 675);\r\n    series1.add(new Day(18, 12, 2021), 675);\r\n    series1.add(new Day(21, 12, 2021), 702);\r\n    series1.add(new Day(28, 12, 2021), 720);\r\n    series1.add(new Day(03, 01, 2022), 738);\r\n    dataset.addSeries(series1);  \r\n  \r\n    TimeSeries series2 = new TimeSeries(&quot;Squat&quot;);  \r\n    series2.add(new Day(16, 12, 2021), 1750);\r\n    series2.add(new Day(19, 12, 2021), 1800);\r\n    series2.add(new Day(22, 12, 2021), 1850);\r\n    series2.add(new Day(29, 12, 2021), 1850);\r\n    series2.add(new Day(04, 01, 2022), 1900);\r\n    dataset.addSeries(series2);\r\n    \r\n    TimeSeries series3 = new TimeSeries(&quot;Deadlift&quot;);  \r\n    series3.add(new Day(17, 12, 2021), 1425);\r\n    series3.add(new Day(20, 12, 2021), 1455);\r\n    series3.add(new Day(23, 12, 2021), 1500);\r\n    series3.add(new Day(30, 12, 2021), 1575);\r\n    series3.add(new Day(05, 01, 2022), 1650);\r\n    dataset.addSeries(series3);\r\n      \r\n    \r\n  \r\n    return dataset;  \r\n  }  \r\n  private void setAxisFontColor(Axis axis, Color fontColor) {\r\n\t    if (!fontColor.equals(axis.getLabelPaint()))\r\n\t        axis.setLabelPaint(fontColor);\r\n\t    if (!fontColor.equals(axis.getTickLabelPaint()))\r\n\t        axis.setTickLabelPaint(fontColor);\r\n\t}\r\n\r\n  \r\n  public static void main(String[] args) {  \r\n\t \r\n    SwingUtilities.invokeLater(() -&gt; {  \r\n      LiftAnalysis example = new LiftAnalysis();  \r\n      example.setSize(800, 400);  \r\n      example.setLocationRelativeTo(null);  \r\n      example.setVisible(true);  \r\n      example.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);  \r\n      \r\n    });  \r\n  }\r\n\r\n\r\n  \r\npublic void run() {\r\n\t// TODO Auto-generated method stub\r\n\tSwingUtilities.invokeLater(() -&gt; {  \r\n\t      LiftAnalysis example = new LiftAnalysis();  \r\n\t      example.setSize(800, 400);  \r\n\t      example.setLocationRelativeTo(null);  \r\n\t      example.setVisible(true);  \r\n\t      example.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);  \r\n\t    });\r\n}  \r\n} \r\n```","title":"My Java Swing GUI which contains a JFreeChart won&#39;t close","body":"<p>The problem I have is when I press the &quot;back&quot; button, the program opens up the correct GUI but doesn't get rid of the &quot;LiftAnalysis&quot; GUI. I have almost no experience with JFreeChart or using TimeSeriesCharts. Please suggest a method to hide the current GUI when the back button is pressed.\nCode is below</p>\n<pre><code>import java.awt.Color;  \nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.SwingUtilities;  \nimport javax.swing.WindowConstants;  \nimport org.jfree.chart.ChartFactory;  \nimport org.jfree.chart.ChartPanel;  \nimport org.jfree.chart.JFreeChart;\nimport org.jfree.chart.axis.Axis;\nimport org.jfree.chart.plot.CategoryPlot;\nimport org.jfree.chart.plot.Plot;\nimport org.jfree.chart.plot.XYPlot;  \nimport org.jfree.data.time.Day;  \nimport org.jfree.data.time.TimeSeries;  \nimport org.jfree.data.time.TimeSeriesCollection;  \nimport org.jfree.data.xy.XYDataset;\n\nimport javax.swing.ImageIcon;\nimport javax.swing.JButton;\nimport java.awt.Font;\nimport java.awt.Image;\nimport java.awt.event.ActionListener;\nimport java.awt.event.ActionEvent;  \n  \npublic class LiftAnalysis extends JFrame {  \n  \n  private static final long serialVersionUID = 1L;  \n  \n  public LiftAnalysis(){  \n    //super(title);  \n    // Create dataset  \n    XYDataset dataset = createDataset();  \n    // Create chart  \n    JFreeChart chart = ChartFactory.createTimeSeriesChart(  \n        &quot;Lift Analysis&quot;, // Chart  \n        &quot;Date&quot;, // X-Axis Label  \n        &quot;Number&quot;, // Y-Axis Label  \n        dataset);  \n  \n    //Changes background color  \n    //XYPlot plot = (XYPlot)chart.getPlot();  \n    Plot plot = chart.getPlot();\n\n    plot.setBackgroundPaint(new Color(255,228,196));  \n    chart.setBackgroundPaint(Color.DARK_GRAY);\n\n    ChartPanel panel = new ChartPanel(chart);  \n    setContentPane(panel);  \n    panel.setLayout(null);\n    \n    if (plot instanceof CategoryPlot) {\n        setAxisFontColor(((CategoryPlot) plot).getDomainAxis(), Color.white);\n        setAxisFontColor(((CategoryPlot) plot).getRangeAxis(), Color.white);\n    } else if (plot instanceof XYPlot) {\n        setAxisFontColor(((XYPlot) plot).getDomainAxis(), Color.white);\n        setAxisFontColor(((XYPlot) plot).getRangeAxis(), Color.white);\n    }\n    \n    ImageIcon helfIcon = new ImageIcon(&quot;C:\\\\Users\\\\joshu\\\\Desktop\\\\School\\\\Computer Science\\\\logo_small_icon_only_inverted.png&quot;);\n    \n    Image helfImage = helfIcon.getImage();\n    Image modifiedHelfImage = helfImage.getScaledInstance(50, 50, java.awt.Image.SCALE_SMOOTH);\n    helfIcon = new ImageIcon(modifiedHelfImage);\n    \n    JLabel lblNewLabel = new JLabel(&quot;&quot;);\n    lblNewLabel.setIcon(helfIcon);\n    lblNewLabel.setBounds(736, -14, 62, 69);\n    \n    panel.add(lblNewLabel);\n    \n    \n    JButton btnBack = new JButton(&quot;Back&quot;);\n\n        btnBack.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent arg0) {\n                AnalysisPage p10 = new AnalysisPage();\n                panel.setVisible(false);\n                p10.run(); //Opens a different GUI\n            }\n        });\n    btnBack.setBackground(Color.GRAY);\n    btnBack.setFont(new Font(&quot;Tahoma&quot;, Font.BOLD, 18));\n    btnBack.setBounds(43, 318, 120, 34);\n    panel.add(btnBack);\n  }  \n  \n  private XYDataset createDataset() {  \n    TimeSeriesCollection dataset = new TimeSeriesCollection();  \n  \n    TimeSeries series1 = new TimeSeries(&quot;Bench&quot;);  \n    series1.add(new Day(15, 12, 2021), 675);\n    series1.add(new Day(18, 12, 2021), 675);\n    series1.add(new Day(21, 12, 2021), 702);\n    series1.add(new Day(28, 12, 2021), 720);\n    series1.add(new Day(03, 01, 2022), 738);\n    dataset.addSeries(series1);  \n  \n    TimeSeries series2 = new TimeSeries(&quot;Squat&quot;);  \n    series2.add(new Day(16, 12, 2021), 1750);\n    series2.add(new Day(19, 12, 2021), 1800);\n    series2.add(new Day(22, 12, 2021), 1850);\n    series2.add(new Day(29, 12, 2021), 1850);\n    series2.add(new Day(04, 01, 2022), 1900);\n    dataset.addSeries(series2);\n    \n    TimeSeries series3 = new TimeSeries(&quot;Deadlift&quot;);  \n    series3.add(new Day(17, 12, 2021), 1425);\n    series3.add(new Day(20, 12, 2021), 1455);\n    series3.add(new Day(23, 12, 2021), 1500);\n    series3.add(new Day(30, 12, 2021), 1575);\n    series3.add(new Day(05, 01, 2022), 1650);\n    dataset.addSeries(series3);\n      \n    \n  \n    return dataset;  \n  }  \n  private void setAxisFontColor(Axis axis, Color fontColor) {\n        if (!fontColor.equals(axis.getLabelPaint()))\n            axis.setLabelPaint(fontColor);\n        if (!fontColor.equals(axis.getTickLabelPaint()))\n            axis.setTickLabelPaint(fontColor);\n    }\n\n  \n  public static void main(String[] args) {  \n     \n    SwingUtilities.invokeLater(() -&gt; {  \n      LiftAnalysis example = new LiftAnalysis();  \n      example.setSize(800, 400);  \n      example.setLocationRelativeTo(null);  \n      example.setVisible(true);  \n      example.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);  \n      \n    });  \n  }\n\n\n  \npublic void run() {\n    // TODO Auto-generated method stub\n    SwingUtilities.invokeLater(() -&gt; {  \n          LiftAnalysis example = new LiftAnalysis();  \n          example.setSize(800, 400);  \n          example.setLocationRelativeTo(null);  \n          example.setVisible(true);  \n          example.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);  \n        });\n}  \n} \n</code></pre>\n"},{"tags":["java","performance","arraylist","collections","timing"],"comments":[{"owner":{"account_id":9378325,"reputation":1402,"user_id":6962183,"display_name":"al3c"},"score":5,"creation_date":1641312928,"post_id":70581310,"comment_id":124770269,"body_markdown":"well there might be a ton of reasons. In general this is not a good benchmark, the JVM has to warm up, load classes and compile the code. And that might happen in some unspecified order.","body":"well there might be a ton of reasons. In general this is not a good benchmark, the JVM has to warm up, load classes and compile the code. And that might happen in some unspecified order."},{"owner":{"account_id":11180480,"reputation":7021,"user_id":8207228,"display_name":"Ralf Kleberhoff"},"score":0,"creation_date":1641378088,"post_id":70581310,"comment_id":124787124,"body_markdown":"The difference is 3&#181;s, surely not noticable even in hard real-time environments. To get more relevant results, create a test program where the execution times are some seconds, and then see whether there&#39;s still a significant difference between first and second addition (still probably not a valid benchmark, but much better than the current test). And then use a profiler to see what part of the program consumes the CPU time.","body":"The difference is 3&#181;s, surely not noticable even in hard real-time environments. To get more relevant results, create a test program where the execution times are some seconds, and then see whether there&#39;s still a significant difference between first and second addition (still probably not a valid benchmark, but much better than the current test). And then use a profiler to see what part of the program consumes the CPU time."}],"answers":[{"tags":[],"owner":{"account_id":3446101,"reputation":11355,"user_id":2886891,"accept_rate":75,"display_name":"Honza Zidek"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1641315012,"creation_date":1641312843,"answer_id":70581809,"question_id":70581310,"body_markdown":"All your three guesses are correct :)\r\n\r\nYou are asking a good question. Just be warned: Microbenchmarks are **so treacherous** that you may easily come to a completely wrong assumption about the speed of the parts of your code. You were right with the lazy initialization, but it was rather a good luck :)\r\n\r\nThe most important thing is that you are right with your guess that you &quot;used the wrong way to measure performance&quot;. \r\n\r\nYou cannot measure the speed of a Java application like this. It is simply not possible. The process is too random and too dependent on many other factors, especially JIT (Just in Time optimization) in runtime.\r\n\r\nTry have a look e.g. here: https://www.baeldung.com/java-microbenchmark-harness, try to run it and think how it works.\r\n\r\nTL;DR: The JVM must be be first &quot;warmed-up&quot;, then you have to run the tested code multiple times and calculate an average time. And still there might be a lot of optimization which causes that some code is not executed at all :)\r\n\r\nIf you don&#39;t want to play with the microbenchmark library, at least move your code into a method and call the method 20 times. I just did it (only replaced `\\n` with `---`) and the result is like this:\r\n\r\n```lang-plaintext\r\n10800---1400\r\n1500---200\r\n600---100\r\n500---100\r\n700---100\r\n400---100\r\n400---100\r\n400---100\r\n400---100\r\n500---100\r\n400---100\r\n400---100\r\n400---100\r\n400---100\r\n300---100\r\n400---100\r\n300---100\r\n500---100\r\n400---100\r\n300---100\r\n```\r\n\r\nAs you can see, the warming up was the most significant factor. However the influence of the lazy initialization is also visible.\r\n\r\n","title":"why adding first item into collection much slower than second?","body":"<p>All your three guesses are correct :)</p>\n<p>You are asking a good question. Just be warned: Microbenchmarks are <strong>so treacherous</strong> that you may easily come to a completely wrong assumption about the speed of the parts of your code. You were right with the lazy initialization, but it was rather a good luck :)</p>\n<p>The most important thing is that you are right with your guess that you &quot;used the wrong way to measure performance&quot;.</p>\n<p>You cannot measure the speed of a Java application like this. It is simply not possible. The process is too random and too dependent on many other factors, especially JIT (Just in Time optimization) in runtime.</p>\n<p>Try have a look e.g. here: <a href=\"https://www.baeldung.com/java-microbenchmark-harness\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-microbenchmark-harness</a>, try to run it and think how it works.</p>\n<p>TL;DR: The JVM must be be first &quot;warmed-up&quot;, then you have to run the tested code multiple times and calculate an average time. And still there might be a lot of optimization which causes that some code is not executed at all :)</p>\n<p>If you don't want to play with the microbenchmark library, at least move your code into a method and call the method 20 times. I just did it (only replaced <code>\\n</code> with <code>---</code>) and the result is like this:</p>\n<pre class=\"lang-plaintext prettyprint-override\"><code>10800---1400\n1500---200\n600---100\n500---100\n700---100\n400---100\n400---100\n400---100\n400---100\n500---100\n400---100\n400---100\n400---100\n400---100\n300---100\n400---100\n300---100\n500---100\n400---100\n300---100\n</code></pre>\n<p>As you can see, the warming up was the most significant factor. However the influence of the lazy initialization is also visible.</p>\n"},{"tags":[],"owner":{"account_id":12727247,"reputation":54,"user_id":9245306,"display_name":"Avinash"},"down_vote_count":1,"up_vote_count":4,"is_accepted":true,"score":3,"last_activity_date":1641312851,"creation_date":1641312851,"answer_id":70581811,"question_id":70581310,"body_markdown":"This is because Of lazily initialized. when you are running this line \r\n\r\n    ArrayList&lt;String&gt; collection = new ArrayList&lt;&gt;();\r\n\r\nit is only holding a reference to the list but the actual memory allocation does not happen for that list. But when you are adding the very first element to the collection then it is first allocating memory for the next 10 elements of the  List (10 is the default size of array list) after that adding the first value. \r\nResults of the next 9 elements will take less time to insert but again for the 11th element, it will take more time than previous.\r\n\r\n    \tpublic static void main(String[] args) {\r\n\r\n\t\tArrayList&lt;String&gt; collection = new ArrayList&lt;&gt;();\r\n        \r\n        for (int i = 0; i &lt; 12; i++) {\r\n        \t  long t1 = System.nanoTime();\r\n              collection.add(&quot;a&quot;);\r\n              long t2 = System.nanoTime();\r\n              System.out.println(&quot;Index : &quot;+ (i+1) +&quot;: Time: &quot;+ String.valueOf(t2 - t1));\r\n\t\t}\r\n        /** Output:\r\n         *  Index : 1: Time: 6800\r\n\t\t\tIndex : 2: Time: 800\r\n\t\t\tIndex : 3: Time: 500\r\n\t\t\tIndex : 4: Time: 700\r\n\t\t\tIndex : 5: Time: 600\r\n\t\t\tIndex : 6: Time: 500\r\n\t\t\tIndex : 7: Time: 600\r\n\t\t\tIndex : 8: Time: 600\r\n\t\t\tIndex : 9: Time: 500\r\n\t\t\tIndex : 10: Time: 500\r\n\t\t\tIndex : 11: Time: 2800\r\n\t\t\tIndex : 12: Time: 500\r\n         */\r\n    \r\n\t}\r\n\r\n\r\n","title":"why adding first item into collection much slower than second?","body":"<p>This is because Of lazily initialized. when you are running this line</p>\n<pre><code>ArrayList&lt;String&gt; collection = new ArrayList&lt;&gt;();\n</code></pre>\n<p>it is only holding a reference to the list but the actual memory allocation does not happen for that list. But when you are adding the very first element to the collection then it is first allocating memory for the next 10 elements of the  List (10 is the default size of array list) after that adding the first value.\nResults of the next 9 elements will take less time to insert but again for the 11th element, it will take more time than previous.</p>\n<pre><code>    public static void main(String[] args) {\n\n    ArrayList&lt;String&gt; collection = new ArrayList&lt;&gt;();\n    \n    for (int i = 0; i &lt; 12; i++) {\n          long t1 = System.nanoTime();\n          collection.add(&quot;a&quot;);\n          long t2 = System.nanoTime();\n          System.out.println(&quot;Index : &quot;+ (i+1) +&quot;: Time: &quot;+ String.valueOf(t2 - t1));\n    }\n    /** Output:\n     *  Index : 1: Time: 6800\n        Index : 2: Time: 800\n        Index : 3: Time: 500\n        Index : 4: Time: 700\n        Index : 5: Time: 600\n        Index : 6: Time: 500\n        Index : 7: Time: 600\n        Index : 8: Time: 600\n        Index : 9: Time: 500\n        Index : 10: Time: 500\n        Index : 11: Time: 2800\n        Index : 12: Time: 500\n     */\n\n}\n</code></pre>\n"}],"owner":{"account_id":1646676,"reputation":4100,"user_id":1518100,"accept_rate":96,"display_name":"Lei Yang"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":70581811,"answer_count":2,"score":3,"last_activity_date":1641315012,"creation_date":1641310601,"question_id":70581310,"body_markdown":"I came across huge performance difference between adding 1st and 2nd item into a collection(tried `ArrayList` and `HashSet`), but I cannot explain why. Have searched but didn&#39;t find any answer.\r\n\r\n```java\r\npublic class Main {\r\n\r\n    public static void main(String[] args) {\r\n        // also tried HashSet\r\n        // also tried new ArrayList&lt;&gt;(2)\r\n        ArrayList&lt;String&gt; collection = new ArrayList&lt;&gt;();\r\n        long t1 = System.nanoTime();\r\n        collection.add(&quot;a&quot;);\r\n        long t2 = System.nanoTime();\r\n        collection.add(&quot;b&quot;);\r\n        long t3 = System.nanoTime();\r\n        System.out.println(String.valueOf(t2 - t1) + &quot;\\n&quot;\r\n                + String.valueOf(t3 - t2));\r\n        //typical output:\r\n        //4399\r\n        //1201\r\n    }\r\n}\r\n```\r\n\r\nSome guess:\r\n- because collection is lazily initialzed when adding 1st item?\r\n- or I used the wrong way to measure performance?\r\n- or related to how jvm works(which is beyond my knowledge)?\r\n\r\nEnvironment: jdk11, win10, intellij.\r\n","title":"why adding first item into collection much slower than second?","body":"<p>I came across huge performance difference between adding 1st and 2nd item into a collection(tried <code>ArrayList</code> and <code>HashSet</code>), but I cannot explain why. Have searched but didn't find any answer.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n\n    public static void main(String[] args) {\n        // also tried HashSet\n        // also tried new ArrayList&lt;&gt;(2)\n        ArrayList&lt;String&gt; collection = new ArrayList&lt;&gt;();\n        long t1 = System.nanoTime();\n        collection.add(&quot;a&quot;);\n        long t2 = System.nanoTime();\n        collection.add(&quot;b&quot;);\n        long t3 = System.nanoTime();\n        System.out.println(String.valueOf(t2 - t1) + &quot;\\n&quot;\n                + String.valueOf(t3 - t2));\n        //typical output:\n        //4399\n        //1201\n    }\n}\n</code></pre>\n<p>Some guess:</p>\n<ul>\n<li>because collection is lazily initialzed when adding 1st item?</li>\n<li>or I used the wrong way to measure performance?</li>\n<li>or related to how jvm works(which is beyond my knowledge)?</li>\n</ul>\n<p>Environment: jdk11, win10, intellij.</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":17806508,"reputation":71,"user_id":12932111,"display_name":"agarwalsukant"},"score":0,"creation_date":1633350042,"post_id":69435527,"comment_id":122728154,"body_markdown":"I have already set a default schema. If I provide schema as a prefix it will become X.SCHEMA.PNO_SEQ.","body":"I have already set a default schema. If I provide schema as a prefix it will become X.SCHEMA.PNO_SEQ."}],"answers":[{"tags":[],"owner":{"account_id":21806003,"reputation":96,"user_id":16104195,"display_name":"Billy"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1633353185,"creation_date":1633353185,"answer_id":69436584,"question_id":69435527,"body_markdown":"You need to define your entity schema before its declaration. Ex:\r\n\r\n    @Table(name = &quot;MY_TABLE_NAME&quot;, schema = &quot;MY_SCHEMA&quot;)\r\n    public class PMEntity {}","title":"How to explicitly pass schema name in @GenericGenerator?","body":"<p>You need to define your entity schema before its declaration. Ex:</p>\n<pre><code>@Table(name = &quot;MY_TABLE_NAME&quot;, schema = &quot;MY_SCHEMA&quot;)\npublic class PMEntity {}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8520141,"reputation":3492,"user_id":6387370,"accept_rate":55,"display_name":"zakaria amine"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641314908,"creation_date":1641314908,"answer_id":70582251,"question_id":69435527,"body_markdown":"Billy&#39;s answer did not work for me. Here is what worked for:\r\n\r\n```\r\n  @Id\r\n  @GenericGenerator(name = &quot;generator&quot;, strategy = &quot;sequence-identity&quot;, parameters = {\r\n@Parameter(name = &quot;sequence&quot;, value = &quot;SCHEMA.PNO_SEQ&quot;)\r\n@org.hibernate.annotations.Parameter(name = &quot;initial_value&quot;, value = &quot;1&quot;),\r\n@org.hibernate.annotations.Parameter(name = &quot;increment_size&quot;, value = &quot;1&quot;)\r\n})\r\n@GeneratedValue(generator = &quot;generator&quot;)    \r\n@Column(name = &quot;CPNO&quot;)\r\nprivate String plyNumber\r\n\r\n```","title":"How to explicitly pass schema name in @GenericGenerator?","body":"<p>Billy's answer did not work for me. Here is what worked for:</p>\n<pre><code>  @Id\n  @GenericGenerator(name = &quot;generator&quot;, strategy = &quot;sequence-identity&quot;, parameters = {\n@Parameter(name = &quot;sequence&quot;, value = &quot;SCHEMA.PNO_SEQ&quot;)\n@org.hibernate.annotations.Parameter(name = &quot;initial_value&quot;, value = &quot;1&quot;),\n@org.hibernate.annotations.Parameter(name = &quot;increment_size&quot;, value = &quot;1&quot;)\n})\n@GeneratedValue(generator = &quot;generator&quot;)    \n@Column(name = &quot;CPNO&quot;)\nprivate String plyNumber\n\n</code></pre>\n"}],"owner":{"account_id":17806508,"reputation":71,"user_id":12932111,"display_name":"agarwalsukant"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":698,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1641314908,"creation_date":1633348268,"question_id":69435527,"body_markdown":"I am trying to generate an auto-increment string using @GeneratedValue and @GenericGenerator. Everything is working fine except it is using my default schema. How to use a specific schema with @GenericGenerator\r\n```\r\npublic class PMEntity {\r\n @Id\r\n\t@GeneratedValue (strategy =  GenerationType.SEQUENCE, generator = &quot;PNO_SEQ&quot;)\r\n\t@GenericGenerator(name = &quot;PNO_SEQ&quot;, strategy = &quot;org.hibernate.id.enhanced.SequenceStyleGenerator&quot;,\r\n\t\t    parameters = {\r\n\t\t            @org.hibernate.annotations.Parameter(name = &quot;sequence_name&quot;,value = &quot;PNO_SEQ&quot;),\r\n\t\t            @org.hibernate.annotations.Parameter(name = &quot;initial_value&quot;, value = &quot;1&quot;),\r\n\t\t            @org.hibernate.annotations.Parameter(name = &quot;increment_size&quot;, value = &quot;1&quot;)\r\n\t\t    })\r\n\t@Column(name = &quot;CPNO&quot;)\r\n\tprivate String plyNumber;\r\n}\r\n","title":"How to explicitly pass schema name in @GenericGenerator?","body":"<p>I am trying to generate an auto-increment string using @GeneratedValue and @GenericGenerator. Everything is working fine except it is using my default schema. How to use a specific schema with @GenericGenerator</p>\n<pre><code>public class PMEntity {\n @Id\n    @GeneratedValue (strategy =  GenerationType.SEQUENCE, generator = &quot;PNO_SEQ&quot;)\n    @GenericGenerator(name = &quot;PNO_SEQ&quot;, strategy = &quot;org.hibernate.id.enhanced.SequenceStyleGenerator&quot;,\n            parameters = {\n                    @org.hibernate.annotations.Parameter(name = &quot;sequence_name&quot;,value = &quot;PNO_SEQ&quot;),\n                    @org.hibernate.annotations.Parameter(name = &quot;initial_value&quot;, value = &quot;1&quot;),\n                    @org.hibernate.annotations.Parameter(name = &quot;increment_size&quot;, value = &quot;1&quot;)\n            })\n    @Column(name = &quot;CPNO&quot;)\n    private String plyNumber;\n}\n</code></pre>\n"},{"tags":["java","maven","jackson","httpresponse","objectmapper"],"answers":[{"tags":[],"owner":{"account_id":16211352,"reputation":4324,"user_id":11713777,"display_name":"dariosicily"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641313740,"creation_date":1641313740,"answer_id":70581979,"question_id":70580873,"body_markdown":"Because you are interested just to the *stats* part of your json file you can read the [`JsonNode`](https://fasterxml.github.io/jackson-databind/javadoc/2.12/com/fasterxml/jackson/databind/JsonNode.html) *stat*s with the [`JsonNode#at`](https://fasterxml.github.io/jackson-databind/javadoc/2.12/com/fasterxml/jackson/databind/JsonNode.html#at-java.lang.String-) method and subsequently convert it to `Map&lt;String,Integer&gt;` with the [`ObjectMapper#treeToValue`](https://fasterxml.github.io/jackson-databind/javadoc/2.12/com/fasterxml/jackson/databind/ObjectMapper.html#treeToValue-com.fasterxml.jackson.core.TreeNode-java.lang.Class-) method :\r\n\r\n~~~\r\nObjectMapper objectMapper = new ObjectMapper();\r\nJsonNode tree = mapper.readTree(json);\r\nJsonNode stats = tree.at(&quot;/data/attributes/stats&quot;);\r\n//map will be {harmless=84, malicious=0, suspicious=0, undetected=9, timeout=0}\r\nMap&lt;String, Integer&gt; map = mapper.treeToValue(stats, Map.class);\r\n~~~","title":"Java Jackson `readValue()` arguments not applicable","body":"<p>Because you are interested just to the <em>stats</em> part of your json file you can read the <a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.12/com/fasterxml/jackson/databind/JsonNode.html\" rel=\"nofollow noreferrer\"><code>JsonNode</code></a> <em>stat</em>s with the <a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.12/com/fasterxml/jackson/databind/JsonNode.html#at-java.lang.String-\" rel=\"nofollow noreferrer\"><code>JsonNode#at</code></a> method and subsequently convert it to <code>Map&lt;String,Integer&gt;</code> with the <a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.12/com/fasterxml/jackson/databind/ObjectMapper.html#treeToValue-com.fasterxml.jackson.core.TreeNode-java.lang.Class-\" rel=\"nofollow noreferrer\"><code>ObjectMapper#treeToValue</code></a> method :</p>\n<pre><code>ObjectMapper objectMapper = new ObjectMapper();\nJsonNode tree = mapper.readTree(json);\nJsonNode stats = tree.at(&quot;/data/attributes/stats&quot;);\n//map will be {harmless=84, malicious=0, suspicious=0, undetected=9, timeout=0}\nMap&lt;String, Integer&gt; map = mapper.treeToValue(stats, Map.class);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11215575,"reputation":41,"user_id":8228322,"display_name":"RazBenya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641313825,"creation_date":1641313825,"answer_id":70582008,"question_id":70580873,"body_markdown":"seems like you are trying to desriailize the httpResponse instead of the body\r\n\r\ntry this\r\n\r\n```java\r\nHttpRequest urlAnalysisRequest = HttpRequest.newBuilder()\r\n                    .uri(URI.create(&quot;https://www.virustotal.com/api/v3/analyses/....(I put the id here)&quot;))\r\n                    .header(&quot;Accept&quot;, &quot;application/json&quot;)\r\n                    .header(&quot;x-apikey&quot;, &quot;....(I put api key here)&quot;)\r\n                    .method(&quot;GET&quot;, HttpRequest.BodyPublishers.noBody())\r\n                    .build();\r\n                HttpResponse&lt;String&gt; urlAnalysisResponse;\r\n                try {\r\n                    urlAnalysisResponse = HttpClient.newHttpClient().send(urlAnalysisRequest, HttpResponse.BodyHandlers.ofString());\r\n                    ObjectMapper objectMapper = new ObjectMapper();\r\n                    \r\n                     objectMapper.readValue(urlAnalysisResponse.body(), new TypeReference&lt;Map&lt;String,Object&gt;&gt;(){}); \r\n\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                } catch (InterruptedException e) {\r\n                    e.printStackTrace();\r\n                }\r\n\r\n```\r\n\r\nThat should work but I suggest to use an implicit object instead of map for deserialization.  ","title":"Java Jackson `readValue()` arguments not applicable","body":"<p>seems like you are trying to desriailize the httpResponse instead of the body</p>\n<p>try this</p>\n<pre class=\"lang-java prettyprint-override\"><code>HttpRequest urlAnalysisRequest = HttpRequest.newBuilder()\n                    .uri(URI.create(&quot;https://www.virustotal.com/api/v3/analyses/....(I put the id here)&quot;))\n                    .header(&quot;Accept&quot;, &quot;application/json&quot;)\n                    .header(&quot;x-apikey&quot;, &quot;....(I put api key here)&quot;)\n                    .method(&quot;GET&quot;, HttpRequest.BodyPublishers.noBody())\n                    .build();\n                HttpResponse&lt;String&gt; urlAnalysisResponse;\n                try {\n                    urlAnalysisResponse = HttpClient.newHttpClient().send(urlAnalysisRequest, HttpResponse.BodyHandlers.ofString());\n                    ObjectMapper objectMapper = new ObjectMapper();\n                    \n                     objectMapper.readValue(urlAnalysisResponse.body(), new TypeReference&lt;Map&lt;String,Object&gt;&gt;(){}); \n\n                } catch (IOException e) {\n                    e.printStackTrace();\n                } catch (InterruptedException e) {\n                    e.printStackTrace();\n                }\n\n</code></pre>\n<p>That should work but I suggest to use an implicit object instead of map for deserialization.</p>\n"}],"owner":{"account_id":17529855,"reputation":101,"user_id":12714124,"display_name":"Shiranox"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2387,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1641313825,"creation_date":1641308699,"question_id":70580873,"body_markdown":"I ran into an issue when trying to use `readValue()` of Jackson. \r\nI&#39;m trying to get some value from my response. But I get &quot;The method `readValue(JsonParser, Class&lt;T&gt;) in the type ObjectMapper` is not applicable for the arguments (`HttpResponse&lt;String&gt;, new TypeReference&lt;Map&lt;String,Object&gt;&gt;(){}`)&quot;   Error.\r\nI tried to look up this error and couldn&#39;t find a solution. \r\n\r\nI imported the below: \r\n```\r\nimport com.fasterxml.jackson.core.type.TypeReference;\r\nimport com.fasterxml.jackson.core.util.JsonParserSequence;\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\n```\r\n\r\nThis is my code:\r\n```\r\n\r\nHttpRequest urlAnalysisRequest = HttpRequest.newBuilder()\r\n\t\t\t\t    .uri(URI.create(&quot;https://www.virustotal.com/api/v3/analyses/....(I put the id here)&quot;))\r\n\t\t\t\t    .header(&quot;Accept&quot;, &quot;application/json&quot;)\r\n\t\t\t\t    .header(&quot;x-apikey&quot;, &quot;....(I put api key here)&quot;)\r\n\t\t\t\t    .method(&quot;GET&quot;, HttpRequest.BodyPublishers.noBody())\r\n\t\t\t\t    .build();\r\n\t\t\t\tHttpResponse&lt;String&gt; urlAnalysisResponse;\r\n\t\t\t\ttry {\r\n\t\t\t\t\turlAnalysisResponse = HttpClient.newHttpClient().send(urlAnalysisRequest, HttpResponse.BodyHandlers.ofString());\r\n\t\t\t\t\tObjectMapper objectMapper = new ObjectMapper();\r\n\t\t\t\t\t\r\n\t\t\t\t\t//**Didn&#39;t work:** List&lt;String&gt; listStats = ObjectMapper.readValue(urlAnalysisResponse, new TypeReference&lt;List&lt;String&gt;&gt;(){});\r\n                    //Also didn&#39;t work:  Map&lt;String, Object&gt; map = objectMapper.readValue(urlAnalysisResponse, new TypeReference&lt;Map&lt;String,Object&gt;&gt;(){});\r\n                   //Also didn&#39;t work: \tString resp = objectMapper.writeValueAsString(urlAnalysisResponse);\r\n\t\t\t\t\tSystem.out.println(resp);\r\n\r\n\t\t\t\t} catch (IOException e) {\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t} catch (InterruptedException e) {\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t}\r\n```\r\n\r\nThis is my response. I&#39;m trying to get &quot;stats&quot;:\r\n\r\n```\r\n\r\n{\r\n    &quot;meta&quot;: {\r\n        &quot;url_info&quot;: {\r\n            &quot;url&quot;: &quot;http://www.facebook.com/&quot;,\r\n            &quot;id&quot;: &quot;114fb86b9b4e868f8bac2249eb5c444b545f0240c3dadd23312a0bc1622b5488&quot;\r\n        }\r\n    },\r\n    &quot;data&quot;: {\r\n        &quot;attributes&quot;: {\r\n            &quot;date&quot;: 1641238171,\r\n            &quot;status&quot;: &quot;completed&quot;,\r\n            &quot;stats&quot;: {\r\n                &quot;harmless&quot;: 84,\r\n                &quot;malicious&quot;: 0,\r\n                &quot;suspicious&quot;: 0,\r\n                &quot;undetected&quot;: 9,\r\n                &quot;timeout&quot;: 0\r\n            },\r\n....\r\n```\r\n\r\nAnd I have these dependencies: \r\n```\r\nJackson-core-2.13.0.jar\r\njackson-annotations-2.13.0.jar\r\njackson-databind-2.13.0.jar\r\n```","title":"Java Jackson `readValue()` arguments not applicable","body":"<p>I ran into an issue when trying to use <code>readValue()</code> of Jackson.\nI'm trying to get some value from my response. But I get &quot;The method <code>readValue(JsonParser, Class&lt;T&gt;) in the type ObjectMapper</code> is not applicable for the arguments (<code>HttpResponse&lt;String&gt;, new TypeReference&lt;Map&lt;String,Object&gt;&gt;(){}</code>)&quot;   Error.\nI tried to look up this error and couldn't find a solution.</p>\n<p>I imported the below:</p>\n<pre><code>import com.fasterxml.jackson.core.type.TypeReference;\nimport com.fasterxml.jackson.core.util.JsonParserSequence;\nimport com.fasterxml.jackson.databind.ObjectMapper;\n</code></pre>\n<p>This is my code:</p>\n<pre><code>\nHttpRequest urlAnalysisRequest = HttpRequest.newBuilder()\n                    .uri(URI.create(&quot;https://www.virustotal.com/api/v3/analyses/....(I put the id here)&quot;))\n                    .header(&quot;Accept&quot;, &quot;application/json&quot;)\n                    .header(&quot;x-apikey&quot;, &quot;....(I put api key here)&quot;)\n                    .method(&quot;GET&quot;, HttpRequest.BodyPublishers.noBody())\n                    .build();\n                HttpResponse&lt;String&gt; urlAnalysisResponse;\n                try {\n                    urlAnalysisResponse = HttpClient.newHttpClient().send(urlAnalysisRequest, HttpResponse.BodyHandlers.ofString());\n                    ObjectMapper objectMapper = new ObjectMapper();\n                    \n                    //**Didn't work:** List&lt;String&gt; listStats = ObjectMapper.readValue(urlAnalysisResponse, new TypeReference&lt;List&lt;String&gt;&gt;(){});\n                    //Also didn't work:  Map&lt;String, Object&gt; map = objectMapper.readValue(urlAnalysisResponse, new TypeReference&lt;Map&lt;String,Object&gt;&gt;(){});\n                   //Also didn't work:  String resp = objectMapper.writeValueAsString(urlAnalysisResponse);\n                    System.out.println(resp);\n\n                } catch (IOException e) {\n                    e.printStackTrace();\n                } catch (InterruptedException e) {\n                    e.printStackTrace();\n                }\n</code></pre>\n<p>This is my response. I'm trying to get &quot;stats&quot;:</p>\n<pre><code>\n{\n    &quot;meta&quot;: {\n        &quot;url_info&quot;: {\n            &quot;url&quot;: &quot;http://www.facebook.com/&quot;,\n            &quot;id&quot;: &quot;114fb86b9b4e868f8bac2249eb5c444b545f0240c3dadd23312a0bc1622b5488&quot;\n        }\n    },\n    &quot;data&quot;: {\n        &quot;attributes&quot;: {\n            &quot;date&quot;: 1641238171,\n            &quot;status&quot;: &quot;completed&quot;,\n            &quot;stats&quot;: {\n                &quot;harmless&quot;: 84,\n                &quot;malicious&quot;: 0,\n                &quot;suspicious&quot;: 0,\n                &quot;undetected&quot;: 9,\n                &quot;timeout&quot;: 0\n            },\n....\n</code></pre>\n<p>And I have these dependencies:</p>\n<pre><code>Jackson-core-2.13.0.jar\njackson-annotations-2.13.0.jar\njackson-databind-2.13.0.jar\n</code></pre>\n"},{"tags":["java","spring","spring-boot","microservices","resttemplate"],"comments":[{"owner":{"account_id":1646676,"reputation":4100,"user_id":1518100,"accept_rate":96,"display_name":"Lei Yang"},"score":0,"creation_date":1641345804,"post_id":70581327,"comment_id":124780015,"body_markdown":"&#39;if my service is running&#39; --- it&#39;s often called health check, and in springboot there&#39;s [Actuator](https://docs.spring.io/spring-boot/docs/current/reference/html/actuator.html)","body":"&#39;if my service is running&#39; --- it&#39;s often called health check, and in springboot there&#39;s <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/actuator.html\" rel=\"nofollow noreferrer\">Actuator</a>"}],"answers":[{"tags":[],"owner":{"account_id":12727247,"reputation":54,"user_id":9245306,"display_name":"Avinash"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641313791,"creation_date":1641311350,"answer_id":70581472,"question_id":70581327,"body_markdown":"Try this one \r\n\r\n    RestResponse response = HttpRestClient.getWithStatusCode(&quot;URL&quot;, \r\n     headers).getStatusCode();\r\n-------------------------------------------------------------------------\r\n\r\n    public final class HttpRestClient {\r\n    /**\r\n     * Issue an HTTP GET and assert the response status code.\r\n     *\r\n     * @param url to GET.\r\n     * @return the body of the response.\r\n     */\r\n       public static RestResponse getWithStatusCode(String url, Map&lt;String, \r\n        String&gt; customHeaders) throws RestClientException {\r\n        HttpGet get = new HttpGet(url);\r\n        LOG.info(&quot;Call url &quot; + url);\r\n        get.addHeader(&quot;Accept&quot;, &quot;application/json&quot;);\r\n        if (customHeaders != null)\r\n            for (Map.Entry&lt;String, String&gt; entry : customHeaders.entrySet()) {\r\n                get.addHeader(entry.getKey(), entry.getValue());\r\n            }\r\n        return methodWithStatusCode(get, -1);\r\n     }\r\n}\r\n\r\n ","title":"How to get status code from running service?","body":"<p>Try this one</p>\n<pre><code>RestResponse response = HttpRestClient.getWithStatusCode(&quot;URL&quot;, \n headers).getStatusCode();\n</code></pre>\n<hr />\n<pre><code>public final class HttpRestClient {\n/**\n * Issue an HTTP GET and assert the response status code.\n *\n * @param url to GET.\n * @return the body of the response.\n */\n   public static RestResponse getWithStatusCode(String url, Map&lt;String, \n    String&gt; customHeaders) throws RestClientException {\n    HttpGet get = new HttpGet(url);\n    LOG.info(&quot;Call url &quot; + url);\n    get.addHeader(&quot;Accept&quot;, &quot;application/json&quot;);\n    if (customHeaders != null)\n        for (Map.Entry&lt;String, String&gt; entry : customHeaders.entrySet()) {\n            get.addHeader(entry.getKey(), entry.getValue());\n        }\n    return methodWithStatusCode(get, -1);\n }\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":15345283,"reputation":105,"user_id":11160974,"display_name":"Programmer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":712,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1641313791,"creation_date":1641310710,"question_id":70581327,"body_markdown":"I have my own microservice with the URL in the network and I have created a REST API for it.\r\n\r\nIf I launch it locally, it has URL like `http://localhost:8585`.\r\n\r\nIf I run it f.e. on the development stage , it has microservice URL.\r\n\r\nIt works fine I can add objects, get objects etc. from my database but I want to create additional check whether my service is running or not.\r\n\r\nFor example, if my service is running, I can add new Object to database. If not, I can&#39;t add and throw some exception.\r\n\r\nI tried to do it `HttpStatus statusCode = restTemplate.getForEntity(currentUri, String.class).getStatusCode();`\r\n\r\nBut I received exception `HttpClientExceptionNotFound: 404 Not Found Request Was Not Matched`","title":"How to get status code from running service?","body":"<p>I have my own microservice with the URL in the network and I have created a REST API for it.</p>\n<p>If I launch it locally, it has URL like <code>http://localhost:8585</code>.</p>\n<p>If I run it f.e. on the development stage , it has microservice URL.</p>\n<p>It works fine I can add objects, get objects etc. from my database but I want to create additional check whether my service is running or not.</p>\n<p>For example, if my service is running, I can add new Object to database. If not, I can't add and throw some exception.</p>\n<p>I tried to do it <code>HttpStatus statusCode = restTemplate.getForEntity(currentUri, String.class).getStatusCode();</code></p>\n<p>But I received exception <code>HttpClientExceptionNotFound: 404 Not Found Request Was Not Matched</code></p>\n"},{"tags":["java","selenium","arraylist","automation"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1641307179,"post_id":70580437,"comment_id":124767653,"body_markdown":"You mean `assertFalse(navigate.MethodA().containsAll(navigate.MethodB()) /*&amp;&amp; vice versa!?*/);` !?","body":"You mean <code>assertFalse(navigate.MethodA().containsAll(navigate.MethodB(&zwnj;&#8203;)) &#47;*&amp;&amp; vice versa!?*&#47;);</code> !?"}],"answers":[{"tags":[],"owner":{"account_id":13919742,"reputation":964,"user_id":10342150,"display_name":"robertobatts"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641307380,"creation_date":1641307380,"answer_id":70580525,"question_id":70580437,"body_markdown":"You should do\r\n\r\n    Assert.assertFalse(navigate.MethodA().equals(navigate.MethodB()));\r\n\r\nor\r\n\r\n    Assert.assertTrue(!navigate.MethodA().equals(navigate.MethodB()));\r\n\r\nThe assertions will throw an exception when the condition is not respected, so you need to assert that the two values are not equal. In this case, if they&#39;re not equal the assertion will pass\r\n","title":"How to assert a List in Java","body":"<p>You should do</p>\n<pre><code>Assert.assertFalse(navigate.MethodA().equals(navigate.MethodB()));\n</code></pre>\n<p>or</p>\n<pre><code>Assert.assertTrue(!navigate.MethodA().equals(navigate.MethodB()));\n</code></pre>\n<p>The assertions will throw an exception when the condition is not respected, so you need to assert that the two values are not equal. In this case, if they're not equal the assertion will pass</p>\n"},{"tags":[],"owner":{"account_id":10412104,"reputation":21,"user_id":7677200,"display_name":"Smeki"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641308396,"creation_date":1641308396,"answer_id":70580777,"question_id":70580437,"body_markdown":"Does order play role or not? That is something very important if you want to state if they are &quot;same&quot; or not.\r\n\r\nAlso I miss information what library and what version of this library are you trying to use....\r\n\r\nNevetheless - you still can compare those to lists as Strings.\r\n\r\n    String listAsString = list.stream()\r\n      .map(n -&gt; String.valueOf(n))\r\n      .collect(Collectors.joining(&quot;,&quot;, &quot;[&quot;, &quot;]&quot;));\r\n\r\nthat will result into [x,y,z,...] format. If order matter, you will not sort it before (also list is not best structure for something where order matters), if order does not matter - sort it first, and then compare String representations.\r\n\r\n","title":"How to assert a List in Java","body":"<p>Does order play role or not? That is something very important if you want to state if they are &quot;same&quot; or not.</p>\n<p>Also I miss information what library and what version of this library are you trying to use....</p>\n<p>Nevetheless - you still can compare those to lists as Strings.</p>\n<pre><code>String listAsString = list.stream()\n  .map(n -&gt; String.valueOf(n))\n  .collect(Collectors.joining(&quot;,&quot;, &quot;[&quot;, &quot;]&quot;));\n</code></pre>\n<p>that will result into [x,y,z,...] format. If order matter, you will not sort it before (also list is not best structure for something where order matters), if order does not matter - sort it first, and then compare String representations.</p>\n"},{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641313556,"creation_date":1641313556,"answer_id":70581938,"question_id":70580437,"body_markdown":"If you know the exact expected result, you can \r\n- compare for the expected list length\r\n- check relevant elements from the list\r\n\r\nIf order does not matter, apply some sorting first as suggested by @Smeki.","title":"How to assert a List in Java","body":"<p>If you know the exact expected result, you can</p>\n<ul>\n<li>compare for the expected list length</li>\n<li>check relevant elements from the list</li>\n</ul>\n<p>If order does not matter, apply some sorting first as suggested by @Smeki.</p>\n"}],"owner":{"account_id":17747201,"reputation":47,"user_id":12886232,"display_name":"King Don father"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":710,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1641313556,"creation_date":1641307025,"question_id":70580437,"body_markdown":"I have two methods in a separate class in type List&lt;Integer&gt;(). The are both returning lists , however on my test I want to assert results of both methods. Both these methods are in a Class Called navigate. My assert statement isnt working :(  - I want my test to fail if the values are the same and to pass if the values are not the same \r\n\r\n```\r\n    public List&lt;Integer&gt; methodA() {\r\n        List&lt;Integer&gt; overallDurationAndTimeAfterWayPoint = new ArrayList&lt;&gt;();\r\n\r\n        if (routeOptions.size() != 0) {\r\n            for (int i = 0; i &lt; routeOptionDescriptions.size(); i++) {\r\n                overallDurationAndTimeAfterWayPoint.add(Integer.parseInt(routeOptionDescriptions.get(i).getText()\r\n                        .replaceAll(&quot;[^\\\\d.]&quot;, &quot;&quot;).trim()));\r\n                overallDurationAndTimeAfterWayPoint.add(Integer.parseInt(routeOptionTravelTimes.get(i).getText()\r\n                        .replaceAll(&quot;[^\\\\d.]&quot;, &quot;&quot;).trim()));\r\n            }\r\n        }\r\nreturn overallDurationAndTimeAfterWayPoint;\r\n    }\r\n\r\n    public List&lt;Integer&gt; Method B() {\r\n        List&lt;Integer&gt; overallDurationAndTimeAfterWayPoint = new ArrayList&lt;&gt;();\r\n\r\n        if (routeOptions.size() != 0) {\r\n            for (int i = 0; i &lt; routeOptionDescriptions.size(); i++) {\r\n                overallDurationAndTimeAfterWayPoint.add(Integer.parseInt(routeOptionDescriptions.get(i).getText()\r\n                        .replaceAll(&quot;[^\\\\d.]&quot;, &quot;&quot;).trim()));\r\n                overallDurationAndTimeAfterWayPoint.add(Integer.parseInt(routeOptionTravelTimes.get(i).getText()\r\n                        .replaceAll(&quot;[^\\\\d.]&quot;, &quot;&quot;).trim()));\r\n            }\r\n        }\r\n        System.out.println(&quot;After &quot; + overallDurationAndTimeAfterWayPoint);\r\n        return overallDurationAndTimeAfterWayPoint;\r\n    }\r\n\r\n\r\n Assert.assertTrue(navigate.MethodA().equals(navigate.MethodB()));\r\n","title":"How to assert a List in Java","body":"<p>I have two methods in a separate class in type List(). The are both returning lists , however on my test I want to assert results of both methods. Both these methods are in a Class Called navigate. My assert statement isnt working :(  - I want my test to fail if the values are the same and to pass if the values are not the same</p>\n<pre><code>    public List&lt;Integer&gt; methodA() {\n        List&lt;Integer&gt; overallDurationAndTimeAfterWayPoint = new ArrayList&lt;&gt;();\n\n        if (routeOptions.size() != 0) {\n            for (int i = 0; i &lt; routeOptionDescriptions.size(); i++) {\n                overallDurationAndTimeAfterWayPoint.add(Integer.parseInt(routeOptionDescriptions.get(i).getText()\n                        .replaceAll(&quot;[^\\\\d.]&quot;, &quot;&quot;).trim()));\n                overallDurationAndTimeAfterWayPoint.add(Integer.parseInt(routeOptionTravelTimes.get(i).getText()\n                        .replaceAll(&quot;[^\\\\d.]&quot;, &quot;&quot;).trim()));\n            }\n        }\nreturn overallDurationAndTimeAfterWayPoint;\n    }\n\n    public List&lt;Integer&gt; Method B() {\n        List&lt;Integer&gt; overallDurationAndTimeAfterWayPoint = new ArrayList&lt;&gt;();\n\n        if (routeOptions.size() != 0) {\n            for (int i = 0; i &lt; routeOptionDescriptions.size(); i++) {\n                overallDurationAndTimeAfterWayPoint.add(Integer.parseInt(routeOptionDescriptions.get(i).getText()\n                        .replaceAll(&quot;[^\\\\d.]&quot;, &quot;&quot;).trim()));\n                overallDurationAndTimeAfterWayPoint.add(Integer.parseInt(routeOptionTravelTimes.get(i).getText()\n                        .replaceAll(&quot;[^\\\\d.]&quot;, &quot;&quot;).trim()));\n            }\n        }\n        System.out.println(&quot;After &quot; + overallDurationAndTimeAfterWayPoint);\n        return overallDurationAndTimeAfterWayPoint;\n    }\n\n\n Assert.assertTrue(navigate.MethodA().equals(navigate.MethodB()));\n</code></pre>\n"},{"tags":["java","sparql","jena","geosparql"],"comments":[{"owner":{"account_id":6077505,"reputation":8407,"user_id":4744359,"display_name":"UninformedUser"},"score":1,"creation_date":1641234954,"post_id":70569610,"comment_id":124748778,"body_markdown":"order by forces to compute all solutions first, then just take the first according to the ĹIMIT 1&#180; - you have to put your initial query into a subquery, and in the outer query you can apply your custom function. Or you just use your function in the projection part","body":"order by forces to compute all solutions first, then just take the first according to the ĹIMIT 1&#180; - you have to put your initial query into a subquery, and in the outer query you can apply your custom function. Or you just use your function in the projection part"},{"owner":{"account_id":6077505,"reputation":8407,"user_id":4744359,"display_name":"UninformedUser"},"score":1,"creation_date":1641235092,"post_id":70569610,"comment_id":124748830,"body_markdown":"`SELECT ?label ?distance (my:visibility(?wpt) AS ?visibility)\nWHERE {\n  ?wpt rdf:type inav:Waypoint .\n  ?wpt inav:Label ?label .\n  ?ac  rdf:type inav:Aircraft .\n  ?ac  inav:Label &quot;myAircraft&quot; .\n  ?wpt inav:hasExactGeometry ?geom .\n  ?geom inav:asWKT ?wkt .\n  ?ac inav:hasExactGeometry ?geom2 .\n  ?geom2 inav:asWKT ?wkt2 .\n  BIND (geof:distance(?wkt, ?wkt2, &lt;http://www.opengis.net/def/uom/OGC/1.0/nauticalMile&gt;) as ?distance)\n}\nORDER BY ASC(?distance )\nLIMIT 1`","body":"<code>SELECT ?label ?distance (my:visibility(?wpt) AS ?visibility) WHERE {   ?wpt rdf:type inav:Waypoint .   ?wpt inav:Label ?label .   ?ac  rdf:type inav:Aircraft .   ?ac  inav:Label &quot;myAircraft&quot; .   ?wpt inav:hasExactGeometry ?geom .   ?geom inav:asWKT ?wkt .   ?ac inav:hasExactGeometry ?geom2 .   ?geom2 inav:asWKT ?wkt2 .   BIND (geof:distance(?wkt, ?wkt2, &lt;http:&#47;&#47;www.opengis.net&#47;def&#47;uom&#47;OGC&#47;1.0&#47;nauticalMile&gt;) as ?distance) } ORDER BY ASC(?distance ) LIMIT 1</code>"},{"owner":{"account_id":6077505,"reputation":8407,"user_id":4744359,"display_name":"UninformedUser"},"score":1,"creation_date":1641235292,"post_id":70569610,"comment_id":124748900,"body_markdown":"`SELECT ?label ?distance ?visibility \n{{SELECT ?label ?distance \nWHERE {\n  ?wpt rdf:type inav:Waypoint .\n  ?wpt inav:Label ?label .\n  ?ac  rdf:type inav:Aircraft .\n  ?ac  inav:Label &quot;myAircraft&quot; .\n  ?wpt inav:hasExactGeometry ?geom .\n  ?geom inav:asWKT ?wkt .\n  ?ac inav:hasExactGeometry ?geom2 .\n  ?geom2 inav:asWKT ?wkt2 .\n  BIND (geof:distance(?wkt, ?wkt2, &lt;http://www.opengis.net/def/uom/OGC/1.0/nauticalMile&gt;) as ?distance)\n\n}\nORDER BY ASC(?distance )\nLIMIT 1}   BIND (my:visibility(?wpt) as ?visibility)}`","body":"<code>SELECT ?label ?distance ?visibility  {{SELECT ?label ?distance  WHERE {   ?wpt rdf:type inav:Waypoint .   ?wpt inav:Label ?label .   ?ac  rdf:type inav:Aircraft .   ?ac  inav:Label &quot;myAircraft&quot; .   ?wpt inav:hasExactGeometry ?geom .   ?geom inav:asWKT ?wkt .   ?ac inav:hasExactGeometry ?geom2 .   ?geom2 inav:asWKT ?wkt2 .   BIND (geof:distance(?wkt, ?wkt2, &lt;http:&#47;&#47;www.opengis.net&#47;def&#47;uom&#47;OGC&#47;1.0&#47;nauticalMile&gt;) as ?distance)  } ORDER BY ASC(?distance ) LIMIT 1}   BIND (my:visibility(?wpt) as ?visibility)}</code>"},{"owner":{"account_id":6077505,"reputation":8407,"user_id":4744359,"display_name":"UninformedUser"},"score":1,"creation_date":1641235416,"post_id":70569610,"comment_id":124748946,"body_markdown":"by the way, is there any reason for not using the common property `rdfs:label` What is the point of defining your own label property when it is part of the standard RDF vocabulary?","body":"by the way, is there any reason for not using the common property <code>rdfs:label</code> What is the point of defining your own label property when it is part of the standard RDF vocabulary?"},{"owner":{"account_id":6077505,"reputation":8407,"user_id":4744359,"display_name":"UninformedUser"},"score":1,"creation_date":1641235444,"post_id":70569610,"comment_id":124748958,"body_markdown":"and what you added is not a custom vocabulary but a custom &quot;function&quot;","body":"and what you added is not a custom vocabulary but a custom &quot;function&quot;"},{"owner":{"account_id":8204014,"reputation":513,"user_id":6174386,"display_name":"Herv&#233; Girod"},"score":0,"creation_date":1641247498,"post_id":70569610,"comment_id":124752400,"body_markdown":"Yes sorry I changed the title for accuracy","body":"Yes sorry I changed the title for accuracy"},{"owner":{"account_id":8204014,"reputation":513,"user_id":6174386,"display_name":"Herv&#233; Girod"},"score":0,"creation_date":1641247560,"post_id":70569610,"comment_id":124752412,"body_markdown":"For the Label, there are no good reason for that, I reused an old Ontology where this Label was there, but it was not there for a good reason","body":"For the Label, there are no good reason for that, I reused an old Ontology where this Label was there, but it was not there for a good reason"}],"answers":[{"tags":[],"owner":{"account_id":8204014,"reputation":513,"user_id":6174386,"display_name":"Herv&#233; Girod"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1641313554,"creation_date":1641313554,"answer_id":70581937,"question_id":70569610,"body_markdown":"Per the very informative answer of UninformedUser:\r\n\r\n    SELECT ?label ?distance ?visibility  \r\n    {\r\n       {SELECT ?label ?distance  \r\n        WHERE {   \r\n          ?wpt rdf:type inav:Waypoint .   \r\n          ?wpt inav:Label ?label .  \r\n          ?ac  rdf:type inav:Aircraft . \r\n          ?ac  inav:Label &quot;myAircraft&quot; . \r\n          ?wpt inav:hasExactGeometry ?geom .   \r\n          ?geom inav:asWKT ?wkt .   \r\n          ?ac inav:hasExactGeometry ?geom2 .   \r\n          ?geom2 inav:asWKT ?wkt2 .   \r\n          BIND (geof:distance(?wkt, ?wkt2, &lt;http://www.opengis.net/def/uom/OGC/1.0/nauticalMile&gt;) as ?distance)  \r\n       } ORDER BY ASC(?distance ) LIMIT 1\r\n    }  BIND (my:visibility(?wpt) as ?visibility)\r\n    }","title":"optimizing a SPARQL query when using a custom function in Jena","body":"<p>Per the very informative answer of UninformedUser:</p>\n<pre><code>SELECT ?label ?distance ?visibility  \n{\n   {SELECT ?label ?distance  \n    WHERE {   \n      ?wpt rdf:type inav:Waypoint .   \n      ?wpt inav:Label ?label .  \n      ?ac  rdf:type inav:Aircraft . \n      ?ac  inav:Label &quot;myAircraft&quot; . \n      ?wpt inav:hasExactGeometry ?geom .   \n      ?geom inav:asWKT ?wkt .   \n      ?ac inav:hasExactGeometry ?geom2 .   \n      ?geom2 inav:asWKT ?wkt2 .   \n      BIND (geof:distance(?wkt, ?wkt2, &lt;http://www.opengis.net/def/uom/OGC/1.0/nauticalMile&gt;) as ?distance)  \n   } ORDER BY ASC(?distance ) LIMIT 1\n}  BIND (my:visibility(?wpt) as ?visibility)\n}\n</code></pre>\n"}],"owner":{"account_id":8204014,"reputation":513,"user_id":6174386,"display_name":"Herv&#233; Girod"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70581937,"answer_count":1,"score":0,"last_activity_date":1641313554,"creation_date":1641232160,"question_id":70569610,"body_markdown":"I have the following SPARQL query on a Owl Ontology, using Jena:\r\n\r\n    SELECT ?label ?distance\r\n    WHERE {\r\n      ?wpt rdf:type inav:Waypoint .\r\n      ?wpt inav:Label ?label .\r\n      ?ac  rdf:type inav:Aircraft .\r\n      ?ac  inav:Label &quot;myAircraft&quot; .\r\n      ?wpt inav:hasExactGeometry ?geom .\r\n      ?geom inav:asWKT ?wkt .\r\n      ?ac inav:hasExactGeometry ?geom2 .\r\n      ?geom2 inav:asWKT ?wkt2 .\r\n      BIND (geof:distance(?wkt, ?wkt2, &lt;http://www.opengis.net/def/uom/OGC/1.0/nauticalMile&gt;) as ?distance)\r\n    }\r\n    ORDER BY ASC(?distance )\r\n    LIMIT 1\r\n\r\nThe idea is that:\r\n\r\n - I have an `Aircraft` called &quot;myAircraft&quot;\r\n - I have several Waypoints\r\n - I search for the closest `Waypoint` using GeoSPARQL \r\n - I want to return the label of the closest `Waypoint`, and it&#39;s distance to the &quot;myAircraft&quot; `Aircraft`\r\n\r\nThis query works without any problem.\r\n\r\nNow I am adding a custom vocabulary using Jena `FunctionFactory`. In my case I want to retrieve in real time the visibility of the meteo in meters at the position of the waypoint  (to take an example). In order to do that, I created a custom vocabulary with one `visibility` word. It has only one argument which is the `Label` of the `Waypoint` in my case.\r\n\r\nI then changed my query as following:\r\n\r\n    SELECT ?label ?distance ?visibility\r\n    WHERE {\r\n      ?wpt rdf:type inav:Waypoint .\r\n      ?wpt inav:Label ?label .\r\n      ?ac  rdf:type inav:Aircraft .\r\n      ?ac  inav:Label &quot;myAircraft&quot; .\r\n      ?wpt inav:hasExactGeometry ?geom .\r\n      ?geom inav:asWKT ?wkt .\r\n      ?ac inav:hasExactGeometry ?geom2 .\r\n      ?geom2 inav:asWKT ?wkt2 .\r\n      BIND (geof:distance(?wkt, ?wkt2, &lt;http://www.opengis.net/def/uom/OGC/1.0/nauticalMile&gt;) as ?distance)\r\n      BIND (my:visibility(?wpt) as ?visibility)\r\n    }\r\n    ORDER BY ASC(?distance )\r\n    LIMIT 1\r\n\r\nIt also works without any problem, but I remarked in my Debugger that the Java `visibility` function is called for every `Waypoint` in the Ontology, not only the closest one. If I have a lot of waypoints, I will have to call my Java function for `Waypoint`, when ideally I would like to do that for only one of them, the closest one. \r\n\r\nIs there a way to do that to speed-up this query? (the idea is that in real-life I would call a meteo service for my Waypoint, but I do not want to do that for every `Waypoint`, but only the one I found in my query).","title":"optimizing a SPARQL query when using a custom function in Jena","body":"<p>I have the following SPARQL query on a Owl Ontology, using Jena:</p>\n<pre><code>SELECT ?label ?distance\nWHERE {\n  ?wpt rdf:type inav:Waypoint .\n  ?wpt inav:Label ?label .\n  ?ac  rdf:type inav:Aircraft .\n  ?ac  inav:Label &quot;myAircraft&quot; .\n  ?wpt inav:hasExactGeometry ?geom .\n  ?geom inav:asWKT ?wkt .\n  ?ac inav:hasExactGeometry ?geom2 .\n  ?geom2 inav:asWKT ?wkt2 .\n  BIND (geof:distance(?wkt, ?wkt2, &lt;http://www.opengis.net/def/uom/OGC/1.0/nauticalMile&gt;) as ?distance)\n}\nORDER BY ASC(?distance )\nLIMIT 1\n</code></pre>\n<p>The idea is that:</p>\n<ul>\n<li>I have an <code>Aircraft</code> called &quot;myAircraft&quot;</li>\n<li>I have several Waypoints</li>\n<li>I search for the closest <code>Waypoint</code> using GeoSPARQL</li>\n<li>I want to return the label of the closest <code>Waypoint</code>, and it's distance to the &quot;myAircraft&quot; <code>Aircraft</code></li>\n</ul>\n<p>This query works without any problem.</p>\n<p>Now I am adding a custom vocabulary using Jena <code>FunctionFactory</code>. In my case I want to retrieve in real time the visibility of the meteo in meters at the position of the waypoint  (to take an example). In order to do that, I created a custom vocabulary with one <code>visibility</code> word. It has only one argument which is the <code>Label</code> of the <code>Waypoint</code> in my case.</p>\n<p>I then changed my query as following:</p>\n<pre><code>SELECT ?label ?distance ?visibility\nWHERE {\n  ?wpt rdf:type inav:Waypoint .\n  ?wpt inav:Label ?label .\n  ?ac  rdf:type inav:Aircraft .\n  ?ac  inav:Label &quot;myAircraft&quot; .\n  ?wpt inav:hasExactGeometry ?geom .\n  ?geom inav:asWKT ?wkt .\n  ?ac inav:hasExactGeometry ?geom2 .\n  ?geom2 inav:asWKT ?wkt2 .\n  BIND (geof:distance(?wkt, ?wkt2, &lt;http://www.opengis.net/def/uom/OGC/1.0/nauticalMile&gt;) as ?distance)\n  BIND (my:visibility(?wpt) as ?visibility)\n}\nORDER BY ASC(?distance )\nLIMIT 1\n</code></pre>\n<p>It also works without any problem, but I remarked in my Debugger that the Java <code>visibility</code> function is called for every <code>Waypoint</code> in the Ontology, not only the closest one. If I have a lot of waypoints, I will have to call my Java function for <code>Waypoint</code>, when ideally I would like to do that for only one of them, the closest one.</p>\n<p>Is there a way to do that to speed-up this query? (the idea is that in real-life I would call a meteo service for my Waypoint, but I do not want to do that for every <code>Waypoint</code>, but only the one I found in my query).</p>\n"},{"tags":["java","android","sqlite","android-cursor"],"answers":[{"tags":[],"owner":{"account_id":8111885,"reputation":41,"user_id":6111715,"display_name":"Stevie Wonder"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1513760657,"creation_date":1459529586,"answer_id":36361776,"question_id":36344930,"body_markdown":"    \r\n    private void getContacts() {\r\n        List&lt;String&gt; addresses = new ArrayList&lt;String&gt;();    \r\n        \r\n        // Run query\r\n        \r\n        Uri uri = Contact.CONTENT_URI;\r\n        String[] projection = new String[] { Contact.COLUMN_EMAIL };\r\n        String selection = null;\r\n        String[] selectionArgs = null;\r\n        String sortOrder = Contact.COLUMN_EMAIL\r\n                + &quot; COLLATE LOCALIZED ASC&quot;;\r\n        Cursor cursor = getContentResolver().query(uri, projection, selection, selectionArgs,\r\n                sortOrder);\r\n        TextView emailText = (TextView) findViewById(R.id.emailText);\r\n        if (cursor != null) {\r\n            cursor.moveToFirst();\r\n            String category;\r\n            for (int i = 0; i &lt; cursor.getCount(); i++){\r\n                category = cursor.getString(cursor\r\n                .getColumnIndexOrThrow(Contact.COLUMN_EMAIL));\r\n                addresses.add(category);\r\n                cursor.moveToNext();\r\n            }\r\n            // always close the cursor\r\n            cursor.close();\r\n        }\r\n    }","title":"Returning all rows of a column from my content provider","body":"<pre><code>private void getContacts() {\n    List&lt;String&gt; addresses = new ArrayList&lt;String&gt;();    \n\n    // Run query\n\n    Uri uri = Contact.CONTENT_URI;\n    String[] projection = new String[] { Contact.COLUMN_EMAIL };\n    String selection = null;\n    String[] selectionArgs = null;\n    String sortOrder = Contact.COLUMN_EMAIL\n            + \" COLLATE LOCALIZED ASC\";\n    Cursor cursor = getContentResolver().query(uri, projection, selection, selectionArgs,\n            sortOrder);\n    TextView emailText = (TextView) findViewById(R.id.emailText);\n    if (cursor != null) {\n        cursor.moveToFirst();\n        String category;\n        for (int i = 0; i &lt; cursor.getCount(); i++){\n            category = cursor.getString(cursor\n            .getColumnIndexOrThrow(Contact.COLUMN_EMAIL));\n            addresses.add(category);\n            cursor.moveToNext();\n        }\n        // always close the cursor\n        cursor.close();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":8111885,"reputation":41,"user_id":6111715,"display_name":"Stevie Wonder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3407,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":36361776,"answer_count":1,"score":2,"last_activity_date":1641313432,"creation_date":1459463348,"question_id":36344930,"body_markdown":"I&#39;m trying to access a Content Provider I already made (which I made by very closely following a tutorial, I&#39;ve tested it with the code the tutorial walked me through and it works fine) and read the email addresses that I&#39;ve added into a SQLite database. In the database is the ID, a COLUMN_NAME, and a COLUMN_EMAIL. I want to get all the rows for the email column and have that be an ArrayList of strings that&#39;s returned into this activity.\r\n\r\nSo far my best guess is that somewhere somehow I&#39;ll query the database using the query method from the content provider, return the cursor to the activity, and then collect all the Strings from the rows and either manage to send a query with a projection for just that column or filter out all the @lorem.com&#39;s or second index of the cursor or some kind of post data retrieval filter.\r\n\r\nBasically I&#39;m just pretty stuck.\r\n\r\nOkay so here&#39;s my code: \r\n```\r\npublic class EmailScheduler extends AppCompatActivity implements LoaderManager\r\n        .LoaderCallbacks&lt;Cursor&gt; {\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_email_scheduler);\r\n        Toolbar toolbar = (Toolbar) findViewById(R.id.toolbar);\r\n        setSupportActionBar(toolbar);\r\n        final TextView emailText = (TextView) findViewById(R.id.emailText);\r\n        FloatingActionButton fab = (FloatingActionButton) findViewById(R.id.fab);\r\n        fab.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Cursor cursor = getContacts();\r\n                Log.i(&quot;TAG&quot;, cursor.getColumnName(2));\r\n                emailText.append(cursor.toString());\r\n            }\r\n        });\r\n    }\r\n\r\n    private static final int CONTACT_LOADER = 0;\r\n    public Uri contactUri;\r\n    ArrayList&lt;String&gt; addresses = new ArrayList&lt;&gt;();\r\n    Cursor cursor;\r\n\r\n    private Cursor getContacts() {\r\n        // Run query\r\n        Uri uri = Contact.CONTENT_URI;\r\n        String[] projection = new String[] { Contact._ID,\r\n                Contact.COLUMN_NAME };\r\n        String selection = Contact.COLUMN_EMAIL + &quot; = &#39;&quot;\r\n                + (&quot;1&quot;) + &quot;&#39;&quot;;\r\n        String[] selectionArgs = null;\r\n        String sortOrder = Contact.COLUMN_NAME\r\n                + &quot; COLLATE LOCALIZED ASC&quot;;\r\n        return getContentResolver().query(uri, projection, selection, selectionArgs,\r\n                sortOrder);\r\n    }\r\n    // called by LoaderManager to create a Loader\r\n    @Override\r\n    public Loader&lt;Cursor&gt; onCreateLoader(int id, Bundle args) {\r\n        CursorLoader cursorLoader;\r\n\r\n        switch (id) {\r\n            case CONTACT_LOADER:\r\n                cursorLoader = new CursorLoader(this,\r\n                        contactUri, // Uri of contact to display\r\n                        null, // null projection returns all columns\r\n                        null, // null selection returns all rows\r\n                        null, // no selection arguments\r\n                        null); // sort order\r\n                break;\r\n            default:\r\n                cursorLoader = null;\r\n                break;\r\n        }\r\n\r\n        return cursorLoader;\r\n    }\r\n\r\n    @Override\r\n    public void onLoadFinished(Loader&lt;Cursor&gt; loader, Cursor data) {\r\n\r\n        Log.i(&quot;TAG&quot;, &quot;got to the beginning of onloadfinish &quot; + data);\r\n        if (data != null &amp;&amp; data.moveToFirst()) {\r\n            int nameIndex = data.getColumnIndex(Contact.COLUMN_NAME);\r\n            int emailIndex = data.getColumnIndex(Contact.COLUMN_EMAIL);\r\n            String address = data.getString(emailIndex);\r\n            Log.i(&quot;TAG&quot;, address);\r\n\r\n            while (data.getString(emailIndex) != null){\r\n                addresses.add(cursor.getString(cursor.getColumnIndex(\r\n                        Contact.COLUMN_EMAIL)));\r\n                Log.i(&quot;TAG&quot;, addresses.toString());}\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onLoaderReset(Loader&lt;Cursor&gt; loader) { }\r\n}\r\n```\r\n\r\nIn the onCreate method it returns this data when I run it:  android.content.ContentResolver$CursorWrapperInner@60c9bd2\r\n\r\nHow do I get the information I need from that? Everything I try turns into a dead end.","title":"Returning all rows of a column from my content provider","body":"<p>I'm trying to access a Content Provider I already made (which I made by very closely following a tutorial, I've tested it with the code the tutorial walked me through and it works fine) and read the email addresses that I've added into a SQLite database. In the database is the ID, a COLUMN_NAME, and a COLUMN_EMAIL. I want to get all the rows for the email column and have that be an ArrayList of strings that's returned into this activity.</p>\n<p>So far my best guess is that somewhere somehow I'll query the database using the query method from the content provider, return the cursor to the activity, and then collect all the Strings from the rows and either manage to send a query with a projection for just that column or filter out all the @lorem.com's or second index of the cursor or some kind of post data retrieval filter.</p>\n<p>Basically I'm just pretty stuck.</p>\n<p>Okay so here's my code:</p>\n<pre><code>public class EmailScheduler extends AppCompatActivity implements LoaderManager\n        .LoaderCallbacks&lt;Cursor&gt; {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_email_scheduler);\n        Toolbar toolbar = (Toolbar) findViewById(R.id.toolbar);\n        setSupportActionBar(toolbar);\n        final TextView emailText = (TextView) findViewById(R.id.emailText);\n        FloatingActionButton fab = (FloatingActionButton) findViewById(R.id.fab);\n        fab.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Cursor cursor = getContacts();\n                Log.i(&quot;TAG&quot;, cursor.getColumnName(2));\n                emailText.append(cursor.toString());\n            }\n        });\n    }\n\n    private static final int CONTACT_LOADER = 0;\n    public Uri contactUri;\n    ArrayList&lt;String&gt; addresses = new ArrayList&lt;&gt;();\n    Cursor cursor;\n\n    private Cursor getContacts() {\n        // Run query\n        Uri uri = Contact.CONTENT_URI;\n        String[] projection = new String[] { Contact._ID,\n                Contact.COLUMN_NAME };\n        String selection = Contact.COLUMN_EMAIL + &quot; = '&quot;\n                + (&quot;1&quot;) + &quot;'&quot;;\n        String[] selectionArgs = null;\n        String sortOrder = Contact.COLUMN_NAME\n                + &quot; COLLATE LOCALIZED ASC&quot;;\n        return getContentResolver().query(uri, projection, selection, selectionArgs,\n                sortOrder);\n    }\n    // called by LoaderManager to create a Loader\n    @Override\n    public Loader&lt;Cursor&gt; onCreateLoader(int id, Bundle args) {\n        CursorLoader cursorLoader;\n\n        switch (id) {\n            case CONTACT_LOADER:\n                cursorLoader = new CursorLoader(this,\n                        contactUri, // Uri of contact to display\n                        null, // null projection returns all columns\n                        null, // null selection returns all rows\n                        null, // no selection arguments\n                        null); // sort order\n                break;\n            default:\n                cursorLoader = null;\n                break;\n        }\n\n        return cursorLoader;\n    }\n\n    @Override\n    public void onLoadFinished(Loader&lt;Cursor&gt; loader, Cursor data) {\n\n        Log.i(&quot;TAG&quot;, &quot;got to the beginning of onloadfinish &quot; + data);\n        if (data != null &amp;&amp; data.moveToFirst()) {\n            int nameIndex = data.getColumnIndex(Contact.COLUMN_NAME);\n            int emailIndex = data.getColumnIndex(Contact.COLUMN_EMAIL);\n            String address = data.getString(emailIndex);\n            Log.i(&quot;TAG&quot;, address);\n\n            while (data.getString(emailIndex) != null){\n                addresses.add(cursor.getString(cursor.getColumnIndex(\n                        Contact.COLUMN_EMAIL)));\n                Log.i(&quot;TAG&quot;, addresses.toString());}\n        }\n    }\n\n    @Override\n    public void onLoaderReset(Loader&lt;Cursor&gt; loader) { }\n}\n</code></pre>\n<p>In the onCreate method it returns this data when I run it:  android.content.ContentResolver$CursorWrapperInner@60c9bd2</p>\n<p>How do I get the information I need from that? Everything I try turns into a dead end.</p>\n"},{"tags":["java","performance","collections","addition","removeall"],"comments":[{"owner":{"account_id":55050,"reputation":190509,"user_id":164835,"accept_rate":80,"display_name":"Kent"},"score":2,"creation_date":1641305570,"post_id":70580012,"comment_id":124766850,"body_markdown":"which implementation you&#39;ve used for the Collection&lt;String&gt; interface? try hashSet instead of List.","body":"which implementation you&#39;ve used for the Collection&lt;String&gt; interface? try hashSet instead of List."},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":2,"creation_date":1641305595,"post_id":70580012,"comment_id":124766866,"body_markdown":"This community is more about &quot;not working&quot; code. You rather want a review regarding performance aspects, so https://codereview.stackexchange.com/ might be a better place. Having said that, there are many aspects here. For example: does order matter? If you use Set objects instead of Lists, section/intersection would be much more efficient. But then you might lose the order you had in your file. Long story short: the optimal solution depends on your exact requirements.","body":"This community is more about &quot;not working&quot; code. You rather want a review regarding performance aspects, so <a href=\"https://codereview.stackexchange.com/\">codereview.stackexchange.com</a> might be a better place. Having said that, there are many aspects here. For example: does order matter? If you use Set objects instead of Lists, section/intersection would be much more efficient. But then you might lose the order you had in your file. Long story short: the optimal solution depends on your exact requirements."},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":1,"creation_date":1641305819,"post_id":70580012,"comment_id":124766984,"body_markdown":"Following up on order: if order doesnt matter, you could sort your SORT the lists after reading them in from file. Doing such &quot;delta&quot; computations on SORTED content boils down to iterating the 2 lists in lockstep, just once, and avoid the overhead of calling `removeAll()` twice for example. Also note: sorting is something that you could already BEFOE even reading in the files, like using some command line tuning. So, as said: there are a lot of options, but they are all different depending on your exact scenario.","body":"Following up on order: if order doesnt matter, you could sort your SORT the lists after reading them in from file. Doing such &quot;delta&quot; computations on SORTED content boils down to iterating the 2 lists in lockstep, just once, and avoid the overhead of calling <code>removeAll()</code> twice for example. Also note: sorting is something that you could already BEFOE even reading in the files, like using some command line tuning. So, as said: there are a lot of options, but they are all different depending on your exact scenario."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1641305867,"post_id":70580012,"comment_id":124767005,"body_markdown":"If the files are unordered I&#39;d say you need to create a set of guids in file 1 and then check which are present in file 2 (you could use a stream here). A simple approach would be to build the entire set for file 1 and then process file 2. If the files have similar ordering you could also try a more sophisticated approach that reads the files in parallel (e.g. smaller batches) but this can get very complex.","body":"If the files are unordered I&#39;d say you need to create a set of guids in file 1 and then check which are present in file 2 (you could use a stream here). A simple approach would be to build the entire set for file 1 and then process file 2. If the files have similar ordering you could also try a more sophisticated approach that reads the files in parallel (e.g. smaller batches) but this can get very complex."},{"owner":{"account_id":12197139,"reputation":31,"user_id":8902405,"display_name":"Ronaldo Sabin"},"score":1,"creation_date":1641305985,"post_id":70580012,"comment_id":124767060,"body_markdown":"@GhostCat you are completely right about the website and now I feel a little ashamed. I dont need order, just the lines. The files are unordered at first.","body":"@GhostCat you are completely right about the website and now I feel a little ashamed. I dont need order, just the lines. The files are unordered at first."},{"owner":{"account_id":2127682,"reputation":236,"user_id":6903028,"display_name":"augur"},"score":1,"creation_date":1641306087,"post_id":70580012,"comment_id":124767115,"body_markdown":"As stated above, to return the `Set&lt;String&gt;` from `readFileGuid` is better.\nThen you can iterate through the first set, and if the element is found in second set, remove it from both.","body":"As stated above, to return the <code>Set&lt;String&gt;</code> from <code>readFileGuid</code> is better. Then you can iterate through the first set, and if the element is found in second set, remove it from both."},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":1,"creation_date":1641306850,"post_id":70580012,"comment_id":124767517,"body_markdown":"No need to feel ashamed. You got as many facts into your question as possible for you; you are doing way better than the average first questions that show up here each day.  Also note: the real answer here would be: start experimenting. You can solve this problem in many different ways, so, to get the most out of it: **try** them one by one. You can do this with sets. You can do this by using lists, and ordering them. Beyond that , this is most likely a &quot;solved&quot; problem that has a defined &quot;optimal solution&quot;","body":"No need to feel ashamed. You got as many facts into your question as possible for you; you are doing way better than the average first questions that show up here each day.  Also note: the real answer here would be: start experimenting. You can solve this problem in many different ways, so, to get the most out of it: <b>try</b> them one by one. You can do this with sets. You can do this by using lists, and ordering them. Beyond that , this is most likely a &quot;solved&quot; problem that has a defined &quot;optimal solution&quot;"},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":1,"creation_date":1641306998,"post_id":70580012,"comment_id":124767585,"body_markdown":"Like: https://stackoverflow.com/questions/3462143/get-difference-between-two-lists for python ...","body":"Like: <a href=\"https://stackoverflow.com/questions/3462143/get-difference-between-two-lists\" title=\"get difference between two lists\">stackoverflow.com/questions/3462143/&hellip;</a> for python ..."},{"owner":{"account_id":14624090,"reputation":116,"user_id":10561893,"display_name":"Mariusz W."},"score":0,"creation_date":1641895617,"post_id":70580012,"comment_id":124921095,"body_markdown":"Have a look at my implementation here https://github.com/walaniam/java-sandbox/blob/main/src/main/java/walaniam/stack/TwoExclusiveSets.java with the test covering the performance https://github.com/walaniam/java-sandbox/blob/main/src/test/java/walaniam/stack/TwoExclusiveSetsTest.java For values I&#39;ve randomly generated two sets, 600k elements each of them. On average I was getting ~95ms to search unique values.","body":"Have a look at my implementation here <a href=\"https://github.com/walaniam/java-sandbox/blob/main/src/main/java/walaniam/stack/TwoExclusiveSets.java\" rel=\"nofollow noreferrer\">github.com/walaniam/java-sandbox/blob/main/src/main/java/&hellip;</a> with the test covering the performance <a href=\"https://github.com/walaniam/java-sandbox/blob/main/src/test/java/walaniam/stack/TwoExclusiveSetsTest.java\" rel=\"nofollow noreferrer\">github.com/walaniam/java-sandbox/blob/main/src/test/java/&hellip;</a> For values I&#39;ve randomly generated two sets, 600k elements each of them. On average I was getting ~95ms to search unique values."}],"answers":[{"tags":[],"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1641313329,"creation_date":1641313329,"answer_id":70581895,"question_id":70580012,"body_markdown":"In your code, the `removeAll` is the most expensive operation.  If both files are 100 lines long, then `removeAll` would perform 20,000x operations.  If you include addAll, then it would perform a total of 20,200 operations.  What you want is 200 operations.  The way to do that is to use a Set.  \r\n\r\n```\r\n  static HashSet&lt;String&gt; readFileGuid(String path) throws IOException{\r\n      HashSet&lt;String&gt; guidFile = new HashSet&lt;&gt;();\r\n      Scanner s = new Scanner(new File(path));\r\n      while(s.hasNextLine()) \r\n        guidFile.add(s.nextLine());\r\n      s.close();\r\n      return guidFile;\r\n  }\r\n  \r\n  static List&lt;String&gt; subtract(HashSet&lt;String&gt; s1, HashSet&lt;String&gt; s2){\r\n      List&lt;String&gt; result = new ArrayList&lt;&gt;();\r\n      Iterator&lt;String&gt; it = s1.iterator();\r\n      while(it.hasNext()){\r\n          String item = it.next();\r\n          if (!s2.contains(item))\r\n            result.add(item);\r\n      }\r\n      return result;\r\n  }\r\n  \r\n  public static void main (String[]args) throws IOException{\r\n      HashSet&lt;String&gt; guidFile1 = readFileGuid(&quot;input1.txt&quot;);\r\n      HashSet&lt;String&gt; guidFile2 = readFileGuid(&quot;input2.txt&quot;);\r\n      \r\n      List&lt;String&gt; leftFromFile1 = subtract(guidFile1, guidFile2);\r\n      List&lt;String&gt; leftFromFile2 = subtract(guidFile2, guidFile1);\r\n      \r\n      System.out.println(&quot;file1:&quot; + leftFromFile1);\r\n      System.out.println(&quot;file2:&quot; + leftFromFile2);\r\n  }\r\n```","title":"Fast way to get different lines from 2 big files in Java","body":"<p>In your code, the <code>removeAll</code> is the most expensive operation.  If both files are 100 lines long, then <code>removeAll</code> would perform 20,000x operations.  If you include addAll, then it would perform a total of 20,200 operations.  What you want is 200 operations.  The way to do that is to use a Set.</p>\n<pre><code>  static HashSet&lt;String&gt; readFileGuid(String path) throws IOException{\n      HashSet&lt;String&gt; guidFile = new HashSet&lt;&gt;();\n      Scanner s = new Scanner(new File(path));\n      while(s.hasNextLine()) \n        guidFile.add(s.nextLine());\n      s.close();\n      return guidFile;\n  }\n  \n  static List&lt;String&gt; subtract(HashSet&lt;String&gt; s1, HashSet&lt;String&gt; s2){\n      List&lt;String&gt; result = new ArrayList&lt;&gt;();\n      Iterator&lt;String&gt; it = s1.iterator();\n      while(it.hasNext()){\n          String item = it.next();\n          if (!s2.contains(item))\n            result.add(item);\n      }\n      return result;\n  }\n  \n  public static void main (String[]args) throws IOException{\n      HashSet&lt;String&gt; guidFile1 = readFileGuid(&quot;input1.txt&quot;);\n      HashSet&lt;String&gt; guidFile2 = readFileGuid(&quot;input2.txt&quot;);\n      \n      List&lt;String&gt; leftFromFile1 = subtract(guidFile1, guidFile2);\n      List&lt;String&gt; leftFromFile2 = subtract(guidFile2, guidFile1);\n      \n      System.out.println(&quot;file1:&quot; + leftFromFile1);\n      System.out.println(&quot;file2:&quot; + leftFromFile2);\n  }\n</code></pre>\n"}],"owner":{"account_id":12197139,"reputation":31,"user_id":8902405,"display_name":"Ronaldo Sabin"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"closed_date":1641333407,"accepted_answer_id":70581895,"answer_count":1,"score":2,"last_activity_date":1641313329,"creation_date":1641305204,"question_id":70580012,"body_markdown":"In Java, I have a method that reads two files, with each line being a GUID. The lines are unordered. The output is two new files with the lines that appear only on each file.\r\n\r\nExample files:\r\n```none\r\n| Input_1 | Input_2 |         | Output_1 | Output_2 |\r\n| ------- | ------- |         | -------- | -------- |\r\n| abcdef  | uvwxyz  |    &gt;    | mnopqr   | uvwxyz   |\r\n| ghijkl  | ghijkl  |\r\n| mnopqr  | abcdef  |\r\n```\r\n\r\nI managed to do it fine with one `Collection&lt;String&gt;` for each file and some `addAll()` + `removeAll()` shenanigans, however the files are growing in size and this whole thing is taking some time now. Each file has about 600k lines.  \r\n\r\nIs there a fast way to improve this code just using another type of collection or I need to refactor my way of doing?\r\n\r\nCode in question:\r\n\r\n    //Read two files\r\n    Collection&lt;String&gt; guidFile1 = readFileGuid(pathFile1);\r\n    Collection&lt;String&gt; guidFile2 = readFileGuid(pathFile2);\r\n\r\n    //Add file1 and remove file2\r\n    Collection&lt;String&gt; leftFromFile1 = new ArrayList&lt;String&gt;();\r\n    leftFromFile1.addAll(guidFile1);\r\n    leftFromFile1.removeAll(guidFile2);\r\n\r\n    //Add file2 and remove file1\r\n    Collection&lt;String&gt; leftFromFile2 = new ArrayList&lt;String&gt;();\r\n    leftFromFile2.addAll(guidFile2);\r\n    leftFromFile2.removeAll(guidFile1);\r\n\r\n    //Outputs\r\n    System.out.println(&quot;Leftover from file1: &quot; + leftFromFile1.size());\r\n    System.out.println(&quot;Leftover from file2: &quot; + leftFromFile2.size());\r\n \r\n","title":"Fast way to get different lines from 2 big files in Java","body":"<p>In Java, I have a method that reads two files, with each line being a GUID. The lines are unordered. The output is two new files with the lines that appear only on each file.</p>\n<p>Example files:</p>\n<pre class=\"lang-none prettyprint-override\"><code>| Input_1 | Input_2 |         | Output_1 | Output_2 |\n| ------- | ------- |         | -------- | -------- |\n| abcdef  | uvwxyz  |    &gt;    | mnopqr   | uvwxyz   |\n| ghijkl  | ghijkl  |\n| mnopqr  | abcdef  |\n</code></pre>\n<p>I managed to do it fine with one <code>Collection&lt;String&gt;</code> for each file and some <code>addAll()</code> + <code>removeAll()</code> shenanigans, however the files are growing in size and this whole thing is taking some time now. Each file has about 600k lines.</p>\n<p>Is there a fast way to improve this code just using another type of collection or I need to refactor my way of doing?</p>\n<p>Code in question:</p>\n<pre><code>//Read two files\nCollection&lt;String&gt; guidFile1 = readFileGuid(pathFile1);\nCollection&lt;String&gt; guidFile2 = readFileGuid(pathFile2);\n\n//Add file1 and remove file2\nCollection&lt;String&gt; leftFromFile1 = new ArrayList&lt;String&gt;();\nleftFromFile1.addAll(guidFile1);\nleftFromFile1.removeAll(guidFile2);\n\n//Add file2 and remove file1\nCollection&lt;String&gt; leftFromFile2 = new ArrayList&lt;String&gt;();\nleftFromFile2.addAll(guidFile2);\nleftFromFile2.removeAll(guidFile1);\n\n//Outputs\nSystem.out.println(&quot;Leftover from file1: &quot; + leftFromFile1.size());\nSystem.out.println(&quot;Leftover from file2: &quot; + leftFromFile2.size());\n</code></pre>\n"},{"tags":["java","spring","spring-boot","caching","redis"],"comments":[{"owner":{"account_id":7678097,"reputation":304,"user_id":5818270,"display_name":"Tim Tong"},"score":1,"creation_date":1641239139,"post_id":70570357,"comment_id":124750070,"body_markdown":"If Redis is running outside of the Spring application&#39;s docker container, you may need to do some port mapping. Take a look at https://docs.docker.com/config/containers/container-networking/","body":"If Redis is running outside of the Spring application&#39;s docker container, you may need to do some port mapping. Take a look at <a href=\"https://docs.docker.com/config/containers/container-networking/\" rel=\"nofollow noreferrer\">docs.docker.com/config/containers/container-networking</a>"}],"answers":[{"tags":[],"owner":{"account_id":529477,"reputation":1533,"user_id":1234412,"display_name":"BSB"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641312964,"creation_date":1641312964,"answer_id":70581826,"question_id":70570357,"body_markdown":"Can you check if you can connect to your Redis docker container using the redis-cli on port 6379?","title":"Redis Connection refused When Run Spring Boot","body":"<p>Can you check if you can connect to your Redis docker container using the redis-cli on port 6379?</p>\n"}],"owner":{"account_id":19020553,"reputation":675,"user_id":13884720,"display_name":"Abdalrhman Alkraien"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":988,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1641312964,"creation_date":1641237081,"question_id":70570357,"body_markdown":"hello all i have Redis run as a docker images by following command \r\n\r\n    docker run   -e REDIS_PASSWORD=password123   -v /home/abed/project/Redis-Cache-Using-Spring-Boot/volume:/bitnami/redis/data    bitnami/redis:latest\r\n\r\nand setup configuration inside spring boot application but i cant connection with **Redis** from spring boot i have this error when run application and call API , this API will use **Redis**\r\n\r\n        \r\n    java.net.ConnectException: Connection refused\r\n    \tat java.base/sun.nio.ch.SocketChannelImpl.checkConnect(Native Method) ~[na:na]\r\n    \tat java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:777) ~[na:na]\r\n    \tat io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:330) ~[netty-transport-4.1.72.Final.jar:4.1.72.Final]\r\n    \tat io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:334) ~[netty-transport-4.1.72.Final.jar:4.1.72.Final]\r\n    \tat io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:710) ~[netty-transport-4.1.72.Final.jar:4.1.72.Final]\r\n    \tat io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658) ~[netty-transport-4.1.72.Final.jar:4.1.72.Final]\r\n\r\ni used this configuration inside spring boot application\r\n\r\n        @Bean(name = &quot;redisTemplate&quot;)\r\n    public RedisTemplate&lt;String,String&gt; redisTemplate(RedisConnectionFactory factory){\r\n        final RedisTemplate&lt;String,String&gt; template=new RedisTemplate&lt;String, String&gt;();\r\n        template.setKeySerializer(new StringRedisSerializer());\r\n        template.setHashKeySerializer(new GenericToStringSerializer&lt;String&gt;(String.class));\r\n        template.setHashValueSerializer(new Jackson2JsonRedisSerializer&lt;String&gt;(String.class));\r\n        template.setValueSerializer(new Jackson2JsonRedisSerializer&lt;String&gt;(String.class));\r\n        RedisStandaloneConfiguration configuration=new RedisStandaloneConfiguration(host,port);\r\n        template.setConnectionFactory(factory);\r\n        return template;\r\n    }\r\n\r\nand inject it ```RedisTemplate``` inside ```RedisUtility``` class look at the following code \r\n \r\n\r\n        \r\n    @Service\r\n    public class RedisUtility {\r\n    \r\n    \r\n        private final RedisTemplate&lt;String,String&gt; redisTemplate;\r\n    \r\n        private final Gson gson;\r\n    \r\n        public RedisUtility(RedisTemplate&lt;String,String&gt; redisTemplate,Gson gson)\r\n        {\r\n            this.redisTemplate=redisTemplate;\r\n            this.gson=gson;\r\n        }\r\n    \r\n    \r\n        public void setValue(final  String key, UserDto authUserDto)\r\n        {\r\n            redisTemplate.opsForValue().set(key,gson.toJson(authUserDto));\r\n            redisTemplate.expire(key,10, TimeUnit.MINUTES);\r\n        }\r\n    \r\n        public UserDto getValue(final String key)\r\n        {\r\n            return gson.fromJson(redisTemplate.opsForValue().get(key),UserDto.class);\r\n        }\r\n    \r\n        public void deleteKeyFormed(String key)\r\n        {\r\n            redisTemplate.delete(key);\r\n        }\r\n    }\r\n\r\nand i forget application.yml\r\n\r\n    server.port=8088\r\n    spring.redis.database=0\r\n    spring.redis.host=localhost\r\n    spring.redis.port=6379\r\n    spring.redis.password=password123\r\n    spring.redis.timeout=60000\r\n\r\n","title":"Redis Connection refused When Run Spring Boot","body":"<p>hello all i have Redis run as a docker images by following command</p>\n<pre><code>docker run   -e REDIS_PASSWORD=password123   -v /home/abed/project/Redis-Cache-Using-Spring-Boot/volume:/bitnami/redis/data    bitnami/redis:latest\n</code></pre>\n<p>and setup configuration inside spring boot application but i cant connection with <strong>Redis</strong> from spring boot i have this error when run application and call API , this API will use <strong>Redis</strong></p>\n<pre><code>java.net.ConnectException: Connection refused\n    at java.base/sun.nio.ch.SocketChannelImpl.checkConnect(Native Method) ~[na:na]\n    at java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:777) ~[na:na]\n    at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:330) ~[netty-transport-4.1.72.Final.jar:4.1.72.Final]\n    at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:334) ~[netty-transport-4.1.72.Final.jar:4.1.72.Final]\n    at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:710) ~[netty-transport-4.1.72.Final.jar:4.1.72.Final]\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658) ~[netty-transport-4.1.72.Final.jar:4.1.72.Final]\n</code></pre>\n<p>i used this configuration inside spring boot application</p>\n<pre><code>    @Bean(name = &quot;redisTemplate&quot;)\npublic RedisTemplate&lt;String,String&gt; redisTemplate(RedisConnectionFactory factory){\n    final RedisTemplate&lt;String,String&gt; template=new RedisTemplate&lt;String, String&gt;();\n    template.setKeySerializer(new StringRedisSerializer());\n    template.setHashKeySerializer(new GenericToStringSerializer&lt;String&gt;(String.class));\n    template.setHashValueSerializer(new Jackson2JsonRedisSerializer&lt;String&gt;(String.class));\n    template.setValueSerializer(new Jackson2JsonRedisSerializer&lt;String&gt;(String.class));\n    RedisStandaloneConfiguration configuration=new RedisStandaloneConfiguration(host,port);\n    template.setConnectionFactory(factory);\n    return template;\n}\n</code></pre>\n<p>and inject it <code>RedisTemplate</code> inside <code>RedisUtility</code> class look at the following code</p>\n<pre><code>@Service\npublic class RedisUtility {\n\n\n    private final RedisTemplate&lt;String,String&gt; redisTemplate;\n\n    private final Gson gson;\n\n    public RedisUtility(RedisTemplate&lt;String,String&gt; redisTemplate,Gson gson)\n    {\n        this.redisTemplate=redisTemplate;\n        this.gson=gson;\n    }\n\n\n    public void setValue(final  String key, UserDto authUserDto)\n    {\n        redisTemplate.opsForValue().set(key,gson.toJson(authUserDto));\n        redisTemplate.expire(key,10, TimeUnit.MINUTES);\n    }\n\n    public UserDto getValue(final String key)\n    {\n        return gson.fromJson(redisTemplate.opsForValue().get(key),UserDto.class);\n    }\n\n    public void deleteKeyFormed(String key)\n    {\n        redisTemplate.delete(key);\n    }\n}\n</code></pre>\n<p>and i forget application.yml</p>\n<pre><code>server.port=8088\nspring.redis.database=0\nspring.redis.host=localhost\nspring.redis.port=6379\nspring.redis.password=password123\nspring.redis.timeout=60000\n</code></pre>\n"},{"tags":["java","windows","mouse-cursor"],"comments":[{"owner":{"account_id":4060,"reputation":301914,"user_id":5987,"accept_rate":55,"display_name":"Mark Ransom"},"score":0,"creation_date":1335201469,"post_id":10284849,"comment_id":13231643,"body_markdown":"Even if you get the API to work it isn&#39;t going to give you the type of cursor, only its picture. You would have to compare it to all the standard cursors HCURSOR and hope that the application isn&#39;t using a custom cursor.","body":"Even if you get the API to work it isn&#39;t going to give you the type of cursor, only its picture. You would have to compare it to all the standard cursors HCURSOR and hope that the application isn&#39;t using a custom cursor."}],"answers":[{"tags":[],"owner":{"account_id":1022150,"reputation":1,"user_id":1032210,"display_name":"david.ch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1335201232,"creation_date":1335201232,"answer_id":10285072,"question_id":10284849,"body_markdown":"You can use JNA - java native access. It provides access to native libraries, like DLL in windows.\r\nhttps://github.com/twall/jna#readme","title":"How to get current mouse cursor type using windows API in java?","body":"<p>You can use JNA - java native access. It provides access to native libraries, like DLL in windows.\n<a href=\"https://github.com/twall/jna#readme\" rel=\"nofollow\">https://github.com/twall/jna#readme</a></p>\n"},{"tags":[],"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1335201275,"creation_date":1335201275,"answer_id":10285081,"question_id":10284849,"body_markdown":"I think the closest you&#39;re going to get is thru:\r\n\r\n1. Find the component in your java app that is the focusOwner\r\n2. Call getCursor().getType();\r\n\r\n","title":"How to get current mouse cursor type using windows API in java?","body":"<p>I think the closest you're going to get is thru:</p>\n\n<ol>\n<li>Find the component in your java app that is the focusOwner</li>\n<li>Call getCursor().getType();</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":2063075,"reputation":4873,"user_id":1839209,"accept_rate":80,"display_name":"Michael Herrmann"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1365679129,"creation_date":1365678774,"answer_id":15947291,"question_id":10284849,"body_markdown":"This works quite well for me on Win7. The script is in Python but should be easy enough to translate into any other language. Of course, it only works if the respective application isn&#39;t using custom cursors:\r\n\r\n    from win32con import IDC_APPSTARTING, IDC_ARROW, IDC_CROSS, IDC_HAND, \\\r\n        IDC_HELP, IDC_IBEAM, IDC_ICON, IDC_NO, IDC_SIZE, IDC_SIZEALL, \\\r\n        IDC_SIZENESW, IDC_SIZENS, IDC_SIZENWSE, IDC_SIZEWE, IDC_UPARROW, IDC_WAIT\r\n    from win32gui import LoadCursor, GetCursorInfo\r\n    \r\n    def get_current_cursor():\r\n        curr_cursor_handle = GetCursorInfo()[1]\r\n        return Cursor.from_handle(curr_cursor_handle)\r\n    \r\n    class Cursor(object):\r\n        @classmethod\r\n        def from_handle(cls, handle):\r\n            for cursor in DEFAULT_CURSORS:\r\n                if cursor.handle == handle:\r\n                    return cursor\r\n            return cls(handle=handle)\r\n        def __init__(self, cursor_type=None, handle=None):\r\n            if handle is None:\r\n                handle = LoadCursor(0, cursor_type)\r\n            self.type = cursor_type\r\n            self.handle = handle\r\n    \r\n    DEFAULT_CURSORS \\\r\n        = APPSTARTING, ARROW, CROSS, HAND, HELP, IBEAM, ICON, NO, SIZE, SIZEALL, \\\r\n          SIZENESW, SIZENS, SIZENWSE, SIZEWE, UPARROW, WAIT \\\r\n        = Cursor(IDC_APPSTARTING), Cursor(IDC_ARROW), Cursor(IDC_CROSS), \\\r\n          Cursor(IDC_HAND), Cursor(IDC_HELP), Cursor(IDC_IBEAM), Cursor(IDC_ICON), \\\r\n          Cursor(IDC_NO), Cursor(IDC_SIZE), Cursor(IDC_SIZEALL), \\\r\n          Cursor(IDC_SIZENESW), Cursor(IDC_SIZENS), Cursor(IDC_SIZENWSE), \\\r\n          Cursor(IDC_SIZEWE), Cursor(IDC_UPARROW), Cursor(IDC_WAIT)","title":"How to get current mouse cursor type using windows API in java?","body":"<p>This works quite well for me on Win7. The script is in Python but should be easy enough to translate into any other language. Of course, it only works if the respective application isn't using custom cursors:</p>\n\n<pre><code>from win32con import IDC_APPSTARTING, IDC_ARROW, IDC_CROSS, IDC_HAND, \\\n    IDC_HELP, IDC_IBEAM, IDC_ICON, IDC_NO, IDC_SIZE, IDC_SIZEALL, \\\n    IDC_SIZENESW, IDC_SIZENS, IDC_SIZENWSE, IDC_SIZEWE, IDC_UPARROW, IDC_WAIT\nfrom win32gui import LoadCursor, GetCursorInfo\n\ndef get_current_cursor():\n    curr_cursor_handle = GetCursorInfo()[1]\n    return Cursor.from_handle(curr_cursor_handle)\n\nclass Cursor(object):\n    @classmethod\n    def from_handle(cls, handle):\n        for cursor in DEFAULT_CURSORS:\n            if cursor.handle == handle:\n                return cursor\n        return cls(handle=handle)\n    def __init__(self, cursor_type=None, handle=None):\n        if handle is None:\n            handle = LoadCursor(0, cursor_type)\n        self.type = cursor_type\n        self.handle = handle\n\nDEFAULT_CURSORS \\\n    = APPSTARTING, ARROW, CROSS, HAND, HELP, IBEAM, ICON, NO, SIZE, SIZEALL, \\\n      SIZENESW, SIZENS, SIZENWSE, SIZEWE, UPARROW, WAIT \\\n    = Cursor(IDC_APPSTARTING), Cursor(IDC_ARROW), Cursor(IDC_CROSS), \\\n      Cursor(IDC_HAND), Cursor(IDC_HELP), Cursor(IDC_IBEAM), Cursor(IDC_ICON), \\\n      Cursor(IDC_NO), Cursor(IDC_SIZE), Cursor(IDC_SIZEALL), \\\n      Cursor(IDC_SIZENESW), Cursor(IDC_SIZENS), Cursor(IDC_SIZENWSE), \\\n      Cursor(IDC_SIZEWE), Cursor(IDC_UPARROW), Cursor(IDC_WAIT)\n</code></pre>\n"}],"owner":{"account_id":295243,"reputation":546,"user_id":599552,"accept_rate":81,"display_name":"fean"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2850,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1641312499,"creation_date":1335200137,"question_id":10284849,"body_markdown":"How can i get the current mouse cursor type using windows API in java ?\r\n(Cursor type means : pointer, text cursor , busy cursor and the rest of the categories)\r\n\r\nI&#39;ve found a link [Here][1]\r\n\r\nwhere the api is given as \r\n    \r\n    BOOL WINAPI GetCursorInfo(\r\n      __inout  PCURSORINFO pci\r\n    );\r\n\r\n\r\nBut how to use the api in java\r\n\r\n  [1]: http://msdn.microsoft.com/en-us/library/windows/desktop/ms648389%28v=vs.85%29.aspx","title":"How to get current mouse cursor type using windows API in java?","body":"<p>How can i get the current mouse cursor type using windows API in java ?\n(Cursor type means : pointer, text cursor , busy cursor and the rest of the categories)</p>\n\n<p>I've found a link <a href=\"http://msdn.microsoft.com/en-us/library/windows/desktop/ms648389%28v=vs.85%29.aspx\" rel=\"nofollow\">Here</a></p>\n\n<p>where the api is given as </p>\n\n<pre><code>BOOL WINAPI GetCursorInfo(\n  __inout  PCURSORINFO pci\n);\n</code></pre>\n\n<p>But how to use the api in java</p>\n"},{"tags":["java","algorithm","image-processing","image-manipulation"],"answers":[{"tags":[],"owner":{"account_id":323,"reputation":25104,"user_id":404,"accept_rate":73,"display_name":"Chris Farmer"},"down_vote_count":1,"up_vote_count":7,"is_accepted":true,"score":6,"last_activity_date":1226978416,"creation_date":1226978416,"answer_id":297768,"question_id":297762,"body_markdown":"You said your image may not be exactly the same, but then say you don&#39;t want &quot;fuzzy&quot; algorithms.  I&#39;m not sure those are compatible.  In general, though, I think you want to look at [image registration](http://en.wikipedia.org/wiki/Image_registration) algorithms.  There&#39;s an open source C++ package called [ITK](http://itk.org/) that might provide some hints.  Also [ImageJ](http://rsbweb.nih.gov/ij/) is a popular open source Java package.  Both of these have at least some registration capabilities available if you poke around.","title":"Find known sub image in larger image","body":"<p>You said your image may not be exactly the same, but then say you don't want \"fuzzy\" algorithms.  I'm not sure those are compatible.  In general, though, I think you want to look at <a href=\"http://en.wikipedia.org/wiki/Image_registration\" rel=\"noreferrer\">image registration</a> algorithms.  There's an open source C++ package called <a href=\"http://itk.org/\" rel=\"noreferrer\">ITK</a> that might provide some hints.  Also <a href=\"http://rsbweb.nih.gov/ij/\" rel=\"noreferrer\">ImageJ</a> is a popular open source Java package.  Both of these have at least some registration capabilities available if you poke around.</p>\n"},{"tags":[],"owner":{"account_id":12659,"reputation":109857,"user_id":25050,"accept_rate":78,"display_name":"Mr Fooz"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1641312276,"creation_date":1226981020,"answer_id":297820,"question_id":297762,"body_markdown":"Here&#39;s the skeleton of code you&#39;d want to use:\r\n\r\n    // look for all (x,y) positions where target appears in desktop\r\n    List&lt;Loc&gt; findMatches(Image desktop, Image target, float threshold) {\r\n      List&lt;Loc&gt; locs;\r\n      for (int y=0; y&lt;desktop.height()-target.height(); y++) {\r\n          for (int x=0; x&lt;desktop.width()-target.width(); x++) {\r\n              if (imageDistance(desktop, x, y, target) &lt; threshold) {\r\n                  locs.append(Loc(x,y));\r\n              }\r\n          }\r\n       }\r\n       return locs;\r\n    }\r\n\r\n    // computes the root mean squared error between a rectangular window in \r\n    // bigImg and target.\r\n    float imageDistance(Image bigImg, int bx, int by, Image target) {\r\n        float sum_dist2 = 0.0;\r\n        for (int y=0; y&lt;target.height(); y++) {\r\n            for (int x=0; x&lt;target.width(); x++) {\r\n                // assume RGB images...\r\n                for (int colorChannel=0; colorChannel&lt;3; colorChannel++) {\r\n                    float dist = target.getPixel(x,y) - bigImg.getPixel(bx+x,by+y);\r\n                    sum_dist2 += dist * dist;\r\n                }\r\n             }\r\n        }\r\n        return Math.sqrt(sum_dist2 / target.width() / target.height());\r\n    }\r\n\r\nYou could consider other image distances (see &lt;a href=&quot;https://stackoverflow.com/questions/189943/how-can-i-quantify-difference-between-two-images#190061&quot;&gt;a similar question&lt;/a&gt;).  For your application, the RMS error is probably a good choice.\r\n\r\nThere are probably various Java libraries that compute this distance for you efficiently.\r\n","title":"Find known sub image in larger image","body":"<p>Here's the skeleton of code you'd want to use:</p>\n<pre><code>// look for all (x,y) positions where target appears in desktop\nList&lt;Loc&gt; findMatches(Image desktop, Image target, float threshold) {\n  List&lt;Loc&gt; locs;\n  for (int y=0; y&lt;desktop.height()-target.height(); y++) {\n      for (int x=0; x&lt;desktop.width()-target.width(); x++) {\n          if (imageDistance(desktop, x, y, target) &lt; threshold) {\n              locs.append(Loc(x,y));\n          }\n      }\n   }\n   return locs;\n}\n\n// computes the root mean squared error between a rectangular window in \n// bigImg and target.\nfloat imageDistance(Image bigImg, int bx, int by, Image target) {\n    float sum_dist2 = 0.0;\n    for (int y=0; y&lt;target.height(); y++) {\n        for (int x=0; x&lt;target.width(); x++) {\n            // assume RGB images...\n            for (int colorChannel=0; colorChannel&lt;3; colorChannel++) {\n                float dist = target.getPixel(x,y) - bigImg.getPixel(bx+x,by+y);\n                sum_dist2 += dist * dist;\n            }\n         }\n    }\n    return Math.sqrt(sum_dist2 / target.width() / target.height());\n}\n</code></pre>\n<p>You could consider other image distances (see <a href=\"https://stackoverflow.com/questions/189943/how-can-i-quantify-difference-between-two-images#190061\">a similar question</a>).  For your application, the RMS error is probably a good choice.</p>\n<p>There are probably various Java libraries that compute this distance for you efficiently.</p>\n"},{"tags":[],"owner":{"display_name":"user458577"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1356500519,"creation_date":1285484077,"answer_id":3796883,"question_id":297762,"body_markdown":"Have a look at the paper I wrote: http://werner.yellowcouch.org/Papers/subimg/index.html. It&#39;s highly detailed and appears to be the only article discussing how to apply fourier transformation to the problem of subimage finding.\r\n\r\nIn short, if you want to use the fourier transform one could apply the following formula: the correlation between image A and image B when image A is shifted over dx,dy is given in the following matrix: C=ifft(fft(A) x conjugate(fft(B)). So, the position in image C that has the highest value, has the highest correlation and that position reflects dx,dy. \r\n\r\nThis result works well for subimages that are relatively large. For smaller images, some more work is necessary as explained in the article. Nevertheless, such fourier transforms are quite fast. It results in around 3*sx*sy*log_2(sx*sy)+3*sx*sy operations.","title":"Find known sub image in larger image","body":"<p>Have a look at the paper I wrote: <a href=\"http://werner.yellowcouch.org/Papers/subimg/index.html\" rel=\"noreferrer\">http://werner.yellowcouch.org/Papers/subimg/index.html</a>. It's highly detailed and appears to be the only article discussing how to apply fourier transformation to the problem of subimage finding.</p>\n\n<p>In short, if you want to use the fourier transform one could apply the following formula: the correlation between image A and image B when image A is shifted over dx,dy is given in the following matrix: C=ifft(fft(A) x conjugate(fft(B)). So, the position in image C that has the highest value, has the highest correlation and that position reflects dx,dy. </p>\n\n<p>This result works well for subimages that are relatively large. For smaller images, some more work is necessary as explained in the article. Nevertheless, such fourier transforms are quite fast. It results in around 3*sx<em>sy</em>log_2(sx*sy)+3*sx*sy operations.</p>\n"},{"tags":[],"owner":{"account_id":1353984,"reputation":3369,"user_id":1365260,"accept_rate":71,"display_name":"example"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1389653392,"creation_date":1389653392,"answer_id":21102960,"question_id":297762,"body_markdown":"Your don&#39;t need fuzzy as in &quot;neural network&quot; because (as I understand) you don&#39;t have rotation, tilts or similar. If OS display differences are the only modifications the difference should be minimal.\r\nSo WernerVanBelle&#39;s paper is nice but not really necessary and MrFooz&#39;s code works - but is terribly innefficient (`O(width * height * patter_width * pattern_height)`!).\r\n\r\nThe best algorithm I can think of is the Boyer-Moore algorithm for string searching, modified to allow 2 dimensional searches.\r\nhttp://en.wikipedia.org/wiki/Boyer%E2%80%93Moore_string_search_algorithm\r\n\r\nInstead of one displacement you will have to store a pair of displacements `dx` and `dy` for each color. When checking a pixel you move only in the x direction `x = x + dx` and store only the minimum of the dy&#39;s `DY = min(DY, dy)` to set the new y value after a whole line has been tested (ie `x &gt; width`).\r\n\r\nCreating a table for all possible colors probably is prohibitve due to the imense number of possible colors, so either use a map to store the rules (and default to the pattern dimensions if a color is not inside the map) or create tables for each color seperately and set `dx = max(dx(red), dx(green), dx(blue))` - which is only an approximation but removes the overhead of a map.\r\n\r\nIn the preprocessing of the bad-character rule, you can account for small deviations of colors by spreading rules from all colors to their &quot;neighbouring&quot; colors (however you wish to define neighbouring). ","title":"Find known sub image in larger image","body":"<p>Your don't need fuzzy as in \"neural network\" because (as I understand) you don't have rotation, tilts or similar. If OS display differences are the only modifications the difference should be minimal.\nSo WernerVanBelle's paper is nice but not really necessary and MrFooz's code works - but is terribly innefficient (<code>O(width * height * patter_width * pattern_height)</code>!).</p>\n\n<p>The best algorithm I can think of is the Boyer-Moore algorithm for string searching, modified to allow 2 dimensional searches.\n<a href=\"http://en.wikipedia.org/wiki/Boyer%E2%80%93Moore_string_search_algorithm\" rel=\"nofollow\">http://en.wikipedia.org/wiki/Boyer%E2%80%93Moore_string_search_algorithm</a></p>\n\n<p>Instead of one displacement you will have to store a pair of displacements <code>dx</code> and <code>dy</code> for each color. When checking a pixel you move only in the x direction <code>x = x + dx</code> and store only the minimum of the dy's <code>DY = min(DY, dy)</code> to set the new y value after a whole line has been tested (ie <code>x &gt; width</code>).</p>\n\n<p>Creating a table for all possible colors probably is prohibitve due to the imense number of possible colors, so either use a map to store the rules (and default to the pattern dimensions if a color is not inside the map) or create tables for each color seperately and set <code>dx = max(dx(red), dx(green), dx(blue))</code> - which is only an approximation but removes the overhead of a map.</p>\n\n<p>In the preprocessing of the bad-character rule, you can account for small deviations of colors by spreading rules from all colors to their \"neighbouring\" colors (however you wish to define neighbouring). </p>\n"},{"tags":[],"owner":{"account_id":4160052,"reputation":440,"user_id":3410351,"accept_rate":25,"display_name":"xamid"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1394626291,"creation_date":1394623825,"answer_id":22350138,"question_id":297762,"body_markdown":"I considered the solution of Werner Van Belle (since all other approaches are incredible slow - not practicable at all): \r\n\r\n&gt; An Adaptive Filter for the Correct Localization of Subimages: FFT\r\n&gt; based Subimage Localization Requires Image Normalization to work\r\n&gt; properly\r\n\r\nI wrote the code in C# where I need my solution, but I am getting highly inaccurate results. Does it really not work well, in contrary to Van Belle&#39;s statement, or did I do something wrong? I used https://github.com/tszalay/FFTWSharp as a C# wrapper for FFTW.\r\n\r\nHere is my translated code: (original in C++ at http://werner.yellowcouch.org/Papers/subimg/index.html)\r\n\r\n    using System.Diagnostics;\r\n    using System;\r\n    using System.Runtime.InteropServices;\r\n    using System.Drawing;\r\n    using System.Drawing.Imaging;\r\n    using System.IO;\r\n    \r\n    using FFTWSharp;\r\n    \r\n    using unsigned1 = System.Byte;\r\n    using signed2 = System.Int16;\r\n    using signed8 = System.Int64;\r\n    \r\n    public class Subimage\r\n    {\r\n        /**\r\n         * This program finds a subimage in a larger image. It expects two arguments.\r\n         * The first is the image in which it must look. The secon dimage is the\r\n         * image that is to be found. The program relies on a number of different\r\n         * steps to perform the calculation.\r\n         *\r\n         * It will first normalize the input images in order to improve the\r\n         * crosscorrelation matching. Once the best crosscorrelation is found\r\n         * a sad-matchers is applied in a grid over the larger image.\r\n         *\r\n         * The following two article explains the details:\r\n         *\r\n         *   Werner Van Belle; An Adaptive Filter for the Correct Localization\r\n         *   of Subimages: FFT based Subimage Localization Requires Image\r\n         *   Normalization to work properly; 11 pages; October 2007.\r\n         *   http://werner.yellowcouch.org/Papers/subimg/\r\n         *\r\n         *   Werner Van Belle; Correlation between the inproduct and the sum\r\n         *   of absolute differences is -0.8485 for uniform sampled signals on\r\n         *   [-1:1]; November 2006\r\n         */\r\n        unsafe public static Point FindSubimage_fftw(string[] args)\r\n        {\r\n            if (args == null || args.Length != 2)\r\n            {\r\n                Console.Write(&quot;Usage: subimg\\n&quot; + &quot;\\n&quot; + &quot;  subimg is an image matcher. It requires two arguments. The first\\n&quot; + &quot;  image should be the larger of the two. The program will search\\n&quot; + &quot;  for the best position to superimpose the needle image over the\\n&quot; + &quot;  haystack image. The output of the the program are the X and Y\\n&quot; + &quot;  coordinates.\\n\\n&quot; + &quot;  http://werner.yellowouch.org/Papers/subimg/\\n&quot;);\r\n                return new Point();\r\n            }\r\n    \r\n            /**\r\n             * The larger image will be called A. The smaller image will be called B.\r\n             *\r\n             * The code below relies heavily upon fftw. The indices necessary for the\r\n             * fast r2c and c2r transforms are at best confusing. Especially regarding\r\n             * the number of rows and colums (watch our for Asx vs Asx2 !).\r\n             *\r\n             * After obtaining all the crosscorrelations we will scan through the image\r\n             * to find the best sad match. As such we make a backup of the original data\r\n             * in advance\r\n             *\r\n             */\r\n            int Asx = 0, Asy = 0;\r\n            signed2[] A = read_image(args[0], ref Asx, ref Asy);\r\n            int Asx2 = Asx / 2 + 1;\r\n    \r\n            int Bsx = 0, Bsy = 0;\r\n            signed2[] B = read_image(args[1], ref Bsx, ref Bsy);\r\n    \r\n            unsigned1[] Asad = new unsigned1[Asx * Asy];\r\n            unsigned1[] Bsad = new unsigned1[Bsx * Bsy];\r\n    \r\n            for (int i = 0; i &lt; Bsx * Bsy; i++)\r\n            {\r\n                Bsad[i] = (unsigned1)B[i];\r\n                Asad[i] = (unsigned1)A[i];\r\n            }\r\n            for (int i = Bsx * Bsy; i &lt; Asx * Asy; i++)\r\n                Asad[i] = (unsigned1)A[i];\r\n    \r\n            /**\r\n             * Normalization and windowing of the images.\r\n             *\r\n             * The window size (wx,wy) is half the size of the smaller subimage. This\r\n             * is useful to have as much good information from the subimg.\r\n             */\r\n            int wx = Bsx / 2;\r\n            int wy = Bsy / 2;\r\n            normalize(ref B, Bsx, Bsy, wx, wy);\r\n            normalize(ref A, Asx, Asy, wx, wy);\r\n    \r\n            /**\r\n             * Preparation of the fourier transforms.\r\n             * Aa is the amplitude of image A. Af is the frequence of image A\r\n             * Similar for B. crosscors will hold the crosscorrelations.\r\n             */\r\n            IntPtr Aa = fftw.malloc(sizeof(double) * Asx * Asy);\r\n            IntPtr Af = fftw.malloc(sizeof(double) * 2 * Asx2 * Asy);\r\n            IntPtr Ba = fftw.malloc(sizeof(double) * Asx * Asy);\r\n            IntPtr Bf = fftw.malloc(sizeof(double) * 2 * Asx2 * Asy);\r\n    \r\n            /**\r\n             * The forward transform of A goes from Aa to Af\r\n             * The forward tansform of B goes from Ba to Bf\r\n             * In Bf we will also calculate the inproduct of Af and Bf\r\n             * The backward transform then goes from Bf to Aa again. That\r\n             * variable is aliased as crosscors;\r\n             */\r\n            //#original: fftw_plan_dft_r2c_2d\r\n            //IntPtr forwardA = fftwf.dft(2, new int[] { Asy, Asx }, Aa, Af, fftw_direction.Forward, fftw_flags.Estimate);//equal results\r\n            IntPtr forwardA = fftwf.dft_r2c_2d(Asy, Asx, Aa, Af, fftw_flags.Estimate);\r\n            //#original: fftw_plan_dft_r2c_2d\r\n            //IntPtr forwardB = fftwf.dft(2, new int[] { Asy, Asx }, Ba, Bf, fftw_direction.Forward, fftw_flags.Estimate);//equal results\r\n            IntPtr forwardB = fftwf.dft_r2c_2d(Asy, Asx, Ba, Bf, fftw_flags.Estimate);\r\n            double* crosscorrs = (double*)Aa;\r\n            //#original: fftw_plan_dft_c2r_2d\r\n            //IntPtr backward = fftwf.dft(2, new int[] { Asy, Asx }, Bf, Aa, fftw_direction.Backward, fftw_flags.Estimate);//equal results\r\n            IntPtr backward = fftwf.dft_c2r_2d(Asy, Asx, Bf, Aa, fftw_flags.Estimate);\r\n    \r\n            /**\r\n             * The two forward transforms of A and B. Before we do so we copy the normalized\r\n             * data into the double array. For B we also pad the data with 0\r\n             */\r\n            for (int row = 0; row &lt; Asy; row++)\r\n                for (int col = 0; col &lt; Asx; col++)\r\n                    ((double*)Aa)[col + Asx * row] = A[col + Asx * row];\r\n            fftw.execute(forwardA);\r\n    \r\n            for (int j = 0; j &lt; Asx * Asy; j++)\r\n                ((double*)Ba)[j] = 0;\r\n            for (int row = 0; row &lt; Bsy; row++)\r\n                for (int col = 0; col &lt; Bsx; col++)\r\n                    ((double*)Ba)[col + Asx * row] = B[col + Bsx * row];\r\n            fftw.execute(forwardB);\r\n    \r\n            /**\r\n             * The inproduct of the two frequency domains and calculation\r\n             * of the crosscorrelations\r\n             */\r\n            double norm = Asx * Asy;\r\n            for (int j = 0; j &lt; Asx2 * Asy; j++)\r\n            {\r\n                double a = ((double*)Af)[j * 2];//#Af[j][0];\r\n                double b = ((double*)Af)[j * 2 + 1];//#Af[j][1];\r\n                double c = ((double*)Bf)[j * 2];//#Bf[j][0];\r\n                double d = ((double*)Bf)[j * 2 + 1];//#-Bf[j][1];\r\n                double e = a * c - b * d;\r\n                double f = a * d + b * c;\r\n                ((double*)Bf)[j * 2] = (double)(e / norm);//#Bf[j][0] = (fftw_real)(e / norm);\r\n                ((double*)Bf)[j * 2 + 1] = (double)(f / norm);//Bf[j][1] = (fftw_real)(f / norm);\r\n            }\r\n            fftw.execute(backward);\r\n    \r\n            /**\r\n             * We now have a correlation map. We can spent one more pass\r\n             * over the entire image to actually find the best matching images\r\n             * as defined by the SAD.\r\n             * We calculate this by gridding the entire image according to the\r\n             * size of the subimage. In each cel we want to know what the best\r\n             * match is.\r\n             */\r\n            int sa = 1 + Asx / Bsx;\r\n            int sb = 1 + Asy / Bsy;\r\n            int sadx = 0;\r\n            int sady = 0;\r\n            signed8 minsad = Bsx * Bsy * 256L;\r\n            for (int a = 0; a &lt; sa; a++)\r\n            {\r\n                int xl = a * Bsx;\r\n                int xr = xl + Bsx;\r\n                if (xr &gt; Asx) continue;\r\n                for (int b = 0; b &lt; sb; b++)\r\n                {\r\n                    int yl = b * Bsy;\r\n                    int yr = yl + Bsy;\r\n                    if (yr &gt; Asy) continue;\r\n    \r\n                    // find the maximum correlation in this cell\r\n                    int cormxat = xl + yl * Asx;\r\n                    double cormx = crosscorrs[cormxat];\r\n                    for (int x = xl; x &lt; xr; x++)\r\n                        for (int y = yl; y &lt; yr; y++)\r\n                        {\r\n                            int j = x + y * Asx;\r\n                            if (crosscorrs[j] &gt; cormx)\r\n                                cormx = crosscorrs[cormxat = j];\r\n                        }\r\n                    int corx = cormxat % Asx;\r\n                    int cory = cormxat / Asx;\r\n    \r\n                    // We dont want subimages that fall of the larger image\r\n                    if (corx + Bsx &gt; Asx) continue;\r\n                    if (cory + Bsy &gt; Asy) continue;\r\n    \r\n                    signed8 sad = 0;\r\n                    for (int x = 0; sad &lt; minsad &amp;&amp; x &lt; Bsx; x++)\r\n                        for (int y = 0; y &lt; Bsy; y++)\r\n                        {\r\n                            int j = (x + corx) + (y + cory) * Asx;\r\n                            int i = x + y * Bsx;\r\n                            sad += Math.Abs((int)Bsad[i] - (int)Asad[j]);\r\n                        }\r\n    \r\n                    if (sad &lt; minsad)\r\n                    {\r\n                        minsad = sad;\r\n                        sadx = corx;\r\n                        sady = cory;\r\n                        // printf(&quot;* &quot;);\r\n                    }\r\n                    // printf(&quot;Grid (%d,%d) (%d,%d) Sip=%g Sad=%lld\\n&quot;,a,b,corx,cory,cormx,sad);\r\n                }\r\n            }\r\n            //Console.Write(&quot;{0:D}\\t{1:D}\\n&quot;, sadx, sady);\r\n            /**\r\n             * Aa, Ba, Af and Bf were allocated in this function\r\n             * crosscorrs was an alias for Aa and does not require deletion.\r\n             */\r\n            fftw.free(Aa);\r\n            fftw.free(Ba);\r\n            fftw.free(Af);\r\n            fftw.free(Bf);\r\n            return new Point(sadx, sady);\r\n        }\r\n    \r\n        private static void normalize(ref signed2[] img, int sx, int sy, int wx, int wy)\r\n        {\r\n            /**\r\n             * Calculate the mean background. We will subtract this\r\n             * from img to make sure that it has a mean of zero\r\n             * over a window size of wx x wy. Afterwards we calculate\r\n             * the square of the difference, which will then be used\r\n             * to normalize the local variance of img.\r\n             */\r\n            signed2[] mean = boxaverage(img, sx, sy, wx, wy);\r\n            signed2[] sqr = new signed2[sx * sy];\r\n            for (int j = 0; j &lt; sx * sy; j++)\r\n            {\r\n                img[j] -= mean[j];\r\n                signed2 v = img[j];\r\n                sqr[j] = (signed2)(v * v);\r\n            }\r\n            signed2[] var = boxaverage(sqr, sx, sy, wx, wy);\r\n            /**\r\n             * The normalization process. Currenlty still\r\n             * calculated as doubles. Could probably be fixed\r\n             * to integers too. The only problem is the sqrt\r\n             */\r\n            for (int j = 0; j &lt; sx * sy; j++)\r\n            {\r\n                double v = Math.Sqrt(Math.Abs((double)var[j]));//#double v = sqrt(fabs(var[j])); &lt;- ambigous\r\n                Debug.Assert(!double.IsInfinity(v) &amp;&amp; v &gt;= 0);\r\n                if (v &lt; 0.0001) v = 0.0001;\r\n                img[j] = (signed2)(img[j] * (32 / v));\r\n                if (img[j] &gt; 127) img[j] = 127;\r\n                if (img[j] &lt; -127) img[j] = -127;\r\n            }\r\n            /**\r\n             * As a last step in the normalization we\r\n             * window the sub image around the borders\r\n             * to become 0\r\n             */\r\n            window(ref img, sx, sy, wx, wy);\r\n        }\r\n    \r\n        private static signed2[] boxaverage(signed2[] input, int sx, int sy, int wx, int wy)\r\n        {\r\n            signed2[] horizontalmean = new signed2[sx * sy];\r\n    \r\n            Debug.Assert(horizontalmean != null);\r\n            int wx2 = wx / 2;\r\n            int wy2 = wy / 2;\r\n            int from = (sy - 1) * sx;\r\n            int to = (sy - 1) * sx;\r\n            int initcount = wx - wx2;\r\n            if (sx &lt; initcount) initcount = sx;\r\n            int xli = -wx2;\r\n            int xri = wx - wx2;\r\n            for (; from &gt;= 0; from -= sx, to -= sx)\r\n            {\r\n                signed8 sum = 0;\r\n                int count = initcount;\r\n                for (int c = 0; c &lt; count; c++)\r\n                    sum += (signed8)input[c + from];\r\n                horizontalmean[to] = (signed2)(sum / count);\r\n                int xl = xli, x = 1, xr = xri;\r\n                /**\r\n                 * The area where the window is slightly outside the\r\n                 * left boundary. Beware: the right bnoundary could be\r\n                 * outside on the other side already\r\n                 */\r\n                for (; x &lt; sx; x++, xl++, xr++)\r\n                {\r\n                    if (xl &gt;= 0) break;\r\n                    if (xr &lt; sx)\r\n                    {\r\n                        sum += (signed8)input[xr + from];\r\n                        count++;\r\n                    }\r\n                    horizontalmean[x + to] = (signed2)(sum / count);\r\n                }\r\n                /**\r\n                 * both bounds of the sliding window\r\n                 * are fully inside the images\r\n                 */\r\n                for (; xr &lt; sx; x++, xl++, xr++)\r\n                {\r\n                    sum -= (signed8)input[xl + from];\r\n                    sum += (signed8)input[xr + from];\r\n                    horizontalmean[x + to] = (signed2)(sum / count);\r\n                }\r\n                /**\r\n                 * the right bound is falling of the page\r\n                 */\r\n                for (; x &lt; sx; x++, xl++)\r\n                {\r\n                    sum -= (signed8)input[xl + from];\r\n                    count--;\r\n                    horizontalmean[x + to] = (signed2)(sum / count);\r\n                }\r\n            }\r\n    \r\n            /**\r\n             * The same process as aboe but for the vertical dimension now\r\n             */\r\n            int ssy = (sy - 1) * sx + 1;\r\n            from = sx - 1;\r\n            signed2[] verticalmean = new signed2[sx * sy];\r\n            Debug.Assert(verticalmean != null);\r\n            to = sx - 1;\r\n            initcount = wy - wy2;\r\n            if (sy &lt; initcount) initcount = sy;\r\n            int initstopat = initcount * sx;\r\n            int yli = -wy2 * sx;\r\n            int yri = (wy - wy2) * sx;\r\n            for (; from &gt;= 0; from--, to--)\r\n            {\r\n                signed8 sum = 0;\r\n                int count = initcount;\r\n                for (int d = 0; d &lt; initstopat; d += sx)\r\n                    sum += (signed8)horizontalmean[d + from];\r\n                verticalmean[to] = (signed2)(sum / count);\r\n                int yl = yli, y = 1, yr = yri;\r\n                for (; y &lt; ssy; y += sx, yl += sx, yr += sx)\r\n                {\r\n                    if (yl &gt;= 0) break;\r\n                    if (yr &lt; ssy)\r\n                    {\r\n                        sum += (signed8)horizontalmean[yr + from];\r\n                        count++;\r\n                    }\r\n                    verticalmean[y + to] = (signed2)(sum / count);\r\n                }\r\n                for (; yr &lt; ssy; y += sx, yl += sx, yr += sx)\r\n                {\r\n                    sum -= (signed8)horizontalmean[yl + from];\r\n                    sum += (signed8)horizontalmean[yr + from];\r\n                    verticalmean[y + to] = (signed2)(sum / count);\r\n                }\r\n                for (; y &lt; ssy; y += sx, yl += sx)\r\n                {\r\n                    sum -= (signed8)horizontalmean[yl + from];\r\n                    count--;\r\n                    verticalmean[y + to] = (signed2)(sum / count);\r\n                }\r\n            }\r\n            return verticalmean;\r\n        }\r\n    \r\n        private static void window(ref signed2[] img, int sx, int sy, int wx, int wy)\r\n        {\r\n            int wx2 = wx / 2;\r\n            int sxsy = sx * sy;\r\n            int sx1 = sx - 1;\r\n            for (int x = 0; x &lt; wx2; x++)\r\n                for (int y = 0; y &lt; sxsy; y += sx)\r\n                {\r\n                    img[x + y] = (signed2)(img[x + y] * x / wx2);\r\n                    img[sx1 - x + y] = (signed2)(img[sx1 - x + y] * x / wx2);\r\n                }\r\n    \r\n            int wy2 = wy / 2;\r\n            int syb = (sy - 1) * sx;\r\n            int syt = 0;\r\n            for (int y = 0; y &lt; wy2; y++)\r\n            {\r\n                for (int x = 0; x &lt; sx; x++)\r\n                {\r\n                    /**\r\n                     * here we need to recalculate the stuff (*y/wy2)\r\n                     * to preserve the discrete nature of integers.\r\n                     */\r\n                    img[x + syt] = (signed2)(img[x + syt] * y / wy2);\r\n                    img[x + syb] = (signed2)(img[x + syb] * y / wy2);\r\n                }\r\n                /**\r\n                 * The next row for the top rows\r\n                 * The previous row for the bottom rows\r\n                 */\r\n                syt += sx;\r\n                syb -= sx;\r\n            }\r\n        }\r\n    \r\n        private static signed2[] read_image(string filename, ref int sx, ref int sy)\r\n        {\r\n            Bitmap image = new Bitmap(filename);\r\n            sx = image.Width;\r\n            sy = image.Height;\r\n            signed2[] GreyImage = new signed2[sx * sy];\r\n            BitmapData bitmapData1 = image.LockBits(new Rectangle(0, 0, image.Width, image.Height), ImageLockMode.ReadOnly, PixelFormat.Format32bppArgb);\r\n            unsafe\r\n            {\r\n                byte* imagePointer = (byte*)bitmapData1.Scan0;\r\n    \r\n                for (int y = 0; y &lt; bitmapData1.Height; y++)\r\n                {\r\n                    for (int x = 0; x &lt; bitmapData1.Width; x++)\r\n                    {\r\n                        GreyImage[x + y * sx] = (signed2)((imagePointer[0] + imagePointer[1] + imagePointer[2]) / 3.0);\r\n                        //4 bytes per pixel\r\n                        imagePointer += 4;\r\n                    }//end for x\r\n                    //4 bytes per pixel\r\n                    imagePointer += bitmapData1.Stride - (bitmapData1.Width * 4);\r\n                }//end for y\r\n            }//end unsafe\r\n            image.UnlockBits(bitmapData1);\r\n            return GreyImage;\r\n        }\r\n    }","title":"Find known sub image in larger image","body":"<p>I considered the solution of Werner Van Belle (since all other approaches are incredible slow - not practicable at all): </p>\n\n<blockquote>\n  <p>An Adaptive Filter for the Correct Localization of Subimages: FFT\n  based Subimage Localization Requires Image Normalization to work\n  properly</p>\n</blockquote>\n\n<p>I wrote the code in C# where I need my solution, but I am getting highly inaccurate results. Does it really not work well, in contrary to Van Belle's statement, or did I do something wrong? I used <a href=\"https://github.com/tszalay/FFTWSharp\" rel=\"nofollow\">https://github.com/tszalay/FFTWSharp</a> as a C# wrapper for FFTW.</p>\n\n<p>Here is my translated code: (original in C++ at <a href=\"http://werner.yellowcouch.org/Papers/subimg/index.html\" rel=\"nofollow\">http://werner.yellowcouch.org/Papers/subimg/index.html</a>)</p>\n\n<pre><code>using System.Diagnostics;\nusing System;\nusing System.Runtime.InteropServices;\nusing System.Drawing;\nusing System.Drawing.Imaging;\nusing System.IO;\n\nusing FFTWSharp;\n\nusing unsigned1 = System.Byte;\nusing signed2 = System.Int16;\nusing signed8 = System.Int64;\n\npublic class Subimage\n{\n    /**\n     * This program finds a subimage in a larger image. It expects two arguments.\n     * The first is the image in which it must look. The secon dimage is the\n     * image that is to be found. The program relies on a number of different\n     * steps to perform the calculation.\n     *\n     * It will first normalize the input images in order to improve the\n     * crosscorrelation matching. Once the best crosscorrelation is found\n     * a sad-matchers is applied in a grid over the larger image.\n     *\n     * The following two article explains the details:\n     *\n     *   Werner Van Belle; An Adaptive Filter for the Correct Localization\n     *   of Subimages: FFT based Subimage Localization Requires Image\n     *   Normalization to work properly; 11 pages; October 2007.\n     *   http://werner.yellowcouch.org/Papers/subimg/\n     *\n     *   Werner Van Belle; Correlation between the inproduct and the sum\n     *   of absolute differences is -0.8485 for uniform sampled signals on\n     *   [-1:1]; November 2006\n     */\n    unsafe public static Point FindSubimage_fftw(string[] args)\n    {\n        if (args == null || args.Length != 2)\n        {\n            Console.Write(\"Usage: subimg\\n\" + \"\\n\" + \"  subimg is an image matcher. It requires two arguments. The first\\n\" + \"  image should be the larger of the two. The program will search\\n\" + \"  for the best position to superimpose the needle image over the\\n\" + \"  haystack image. The output of the the program are the X and Y\\n\" + \"  coordinates.\\n\\n\" + \"  http://werner.yellowouch.org/Papers/subimg/\\n\");\n            return new Point();\n        }\n\n        /**\n         * The larger image will be called A. The smaller image will be called B.\n         *\n         * The code below relies heavily upon fftw. The indices necessary for the\n         * fast r2c and c2r transforms are at best confusing. Especially regarding\n         * the number of rows and colums (watch our for Asx vs Asx2 !).\n         *\n         * After obtaining all the crosscorrelations we will scan through the image\n         * to find the best sad match. As such we make a backup of the original data\n         * in advance\n         *\n         */\n        int Asx = 0, Asy = 0;\n        signed2[] A = read_image(args[0], ref Asx, ref Asy);\n        int Asx2 = Asx / 2 + 1;\n\n        int Bsx = 0, Bsy = 0;\n        signed2[] B = read_image(args[1], ref Bsx, ref Bsy);\n\n        unsigned1[] Asad = new unsigned1[Asx * Asy];\n        unsigned1[] Bsad = new unsigned1[Bsx * Bsy];\n\n        for (int i = 0; i &lt; Bsx * Bsy; i++)\n        {\n            Bsad[i] = (unsigned1)B[i];\n            Asad[i] = (unsigned1)A[i];\n        }\n        for (int i = Bsx * Bsy; i &lt; Asx * Asy; i++)\n            Asad[i] = (unsigned1)A[i];\n\n        /**\n         * Normalization and windowing of the images.\n         *\n         * The window size (wx,wy) is half the size of the smaller subimage. This\n         * is useful to have as much good information from the subimg.\n         */\n        int wx = Bsx / 2;\n        int wy = Bsy / 2;\n        normalize(ref B, Bsx, Bsy, wx, wy);\n        normalize(ref A, Asx, Asy, wx, wy);\n\n        /**\n         * Preparation of the fourier transforms.\n         * Aa is the amplitude of image A. Af is the frequence of image A\n         * Similar for B. crosscors will hold the crosscorrelations.\n         */\n        IntPtr Aa = fftw.malloc(sizeof(double) * Asx * Asy);\n        IntPtr Af = fftw.malloc(sizeof(double) * 2 * Asx2 * Asy);\n        IntPtr Ba = fftw.malloc(sizeof(double) * Asx * Asy);\n        IntPtr Bf = fftw.malloc(sizeof(double) * 2 * Asx2 * Asy);\n\n        /**\n         * The forward transform of A goes from Aa to Af\n         * The forward tansform of B goes from Ba to Bf\n         * In Bf we will also calculate the inproduct of Af and Bf\n         * The backward transform then goes from Bf to Aa again. That\n         * variable is aliased as crosscors;\n         */\n        //#original: fftw_plan_dft_r2c_2d\n        //IntPtr forwardA = fftwf.dft(2, new int[] { Asy, Asx }, Aa, Af, fftw_direction.Forward, fftw_flags.Estimate);//equal results\n        IntPtr forwardA = fftwf.dft_r2c_2d(Asy, Asx, Aa, Af, fftw_flags.Estimate);\n        //#original: fftw_plan_dft_r2c_2d\n        //IntPtr forwardB = fftwf.dft(2, new int[] { Asy, Asx }, Ba, Bf, fftw_direction.Forward, fftw_flags.Estimate);//equal results\n        IntPtr forwardB = fftwf.dft_r2c_2d(Asy, Asx, Ba, Bf, fftw_flags.Estimate);\n        double* crosscorrs = (double*)Aa;\n        //#original: fftw_plan_dft_c2r_2d\n        //IntPtr backward = fftwf.dft(2, new int[] { Asy, Asx }, Bf, Aa, fftw_direction.Backward, fftw_flags.Estimate);//equal results\n        IntPtr backward = fftwf.dft_c2r_2d(Asy, Asx, Bf, Aa, fftw_flags.Estimate);\n\n        /**\n         * The two forward transforms of A and B. Before we do so we copy the normalized\n         * data into the double array. For B we also pad the data with 0\n         */\n        for (int row = 0; row &lt; Asy; row++)\n            for (int col = 0; col &lt; Asx; col++)\n                ((double*)Aa)[col + Asx * row] = A[col + Asx * row];\n        fftw.execute(forwardA);\n\n        for (int j = 0; j &lt; Asx * Asy; j++)\n            ((double*)Ba)[j] = 0;\n        for (int row = 0; row &lt; Bsy; row++)\n            for (int col = 0; col &lt; Bsx; col++)\n                ((double*)Ba)[col + Asx * row] = B[col + Bsx * row];\n        fftw.execute(forwardB);\n\n        /**\n         * The inproduct of the two frequency domains and calculation\n         * of the crosscorrelations\n         */\n        double norm = Asx * Asy;\n        for (int j = 0; j &lt; Asx2 * Asy; j++)\n        {\n            double a = ((double*)Af)[j * 2];//#Af[j][0];\n            double b = ((double*)Af)[j * 2 + 1];//#Af[j][1];\n            double c = ((double*)Bf)[j * 2];//#Bf[j][0];\n            double d = ((double*)Bf)[j * 2 + 1];//#-Bf[j][1];\n            double e = a * c - b * d;\n            double f = a * d + b * c;\n            ((double*)Bf)[j * 2] = (double)(e / norm);//#Bf[j][0] = (fftw_real)(e / norm);\n            ((double*)Bf)[j * 2 + 1] = (double)(f / norm);//Bf[j][1] = (fftw_real)(f / norm);\n        }\n        fftw.execute(backward);\n\n        /**\n         * We now have a correlation map. We can spent one more pass\n         * over the entire image to actually find the best matching images\n         * as defined by the SAD.\n         * We calculate this by gridding the entire image according to the\n         * size of the subimage. In each cel we want to know what the best\n         * match is.\n         */\n        int sa = 1 + Asx / Bsx;\n        int sb = 1 + Asy / Bsy;\n        int sadx = 0;\n        int sady = 0;\n        signed8 minsad = Bsx * Bsy * 256L;\n        for (int a = 0; a &lt; sa; a++)\n        {\n            int xl = a * Bsx;\n            int xr = xl + Bsx;\n            if (xr &gt; Asx) continue;\n            for (int b = 0; b &lt; sb; b++)\n            {\n                int yl = b * Bsy;\n                int yr = yl + Bsy;\n                if (yr &gt; Asy) continue;\n\n                // find the maximum correlation in this cell\n                int cormxat = xl + yl * Asx;\n                double cormx = crosscorrs[cormxat];\n                for (int x = xl; x &lt; xr; x++)\n                    for (int y = yl; y &lt; yr; y++)\n                    {\n                        int j = x + y * Asx;\n                        if (crosscorrs[j] &gt; cormx)\n                            cormx = crosscorrs[cormxat = j];\n                    }\n                int corx = cormxat % Asx;\n                int cory = cormxat / Asx;\n\n                // We dont want subimages that fall of the larger image\n                if (corx + Bsx &gt; Asx) continue;\n                if (cory + Bsy &gt; Asy) continue;\n\n                signed8 sad = 0;\n                for (int x = 0; sad &lt; minsad &amp;&amp; x &lt; Bsx; x++)\n                    for (int y = 0; y &lt; Bsy; y++)\n                    {\n                        int j = (x + corx) + (y + cory) * Asx;\n                        int i = x + y * Bsx;\n                        sad += Math.Abs((int)Bsad[i] - (int)Asad[j]);\n                    }\n\n                if (sad &lt; minsad)\n                {\n                    minsad = sad;\n                    sadx = corx;\n                    sady = cory;\n                    // printf(\"* \");\n                }\n                // printf(\"Grid (%d,%d) (%d,%d) Sip=%g Sad=%lld\\n\",a,b,corx,cory,cormx,sad);\n            }\n        }\n        //Console.Write(\"{0:D}\\t{1:D}\\n\", sadx, sady);\n        /**\n         * Aa, Ba, Af and Bf were allocated in this function\n         * crosscorrs was an alias for Aa and does not require deletion.\n         */\n        fftw.free(Aa);\n        fftw.free(Ba);\n        fftw.free(Af);\n        fftw.free(Bf);\n        return new Point(sadx, sady);\n    }\n\n    private static void normalize(ref signed2[] img, int sx, int sy, int wx, int wy)\n    {\n        /**\n         * Calculate the mean background. We will subtract this\n         * from img to make sure that it has a mean of zero\n         * over a window size of wx x wy. Afterwards we calculate\n         * the square of the difference, which will then be used\n         * to normalize the local variance of img.\n         */\n        signed2[] mean = boxaverage(img, sx, sy, wx, wy);\n        signed2[] sqr = new signed2[sx * sy];\n        for (int j = 0; j &lt; sx * sy; j++)\n        {\n            img[j] -= mean[j];\n            signed2 v = img[j];\n            sqr[j] = (signed2)(v * v);\n        }\n        signed2[] var = boxaverage(sqr, sx, sy, wx, wy);\n        /**\n         * The normalization process. Currenlty still\n         * calculated as doubles. Could probably be fixed\n         * to integers too. The only problem is the sqrt\n         */\n        for (int j = 0; j &lt; sx * sy; j++)\n        {\n            double v = Math.Sqrt(Math.Abs((double)var[j]));//#double v = sqrt(fabs(var[j])); &lt;- ambigous\n            Debug.Assert(!double.IsInfinity(v) &amp;&amp; v &gt;= 0);\n            if (v &lt; 0.0001) v = 0.0001;\n            img[j] = (signed2)(img[j] * (32 / v));\n            if (img[j] &gt; 127) img[j] = 127;\n            if (img[j] &lt; -127) img[j] = -127;\n        }\n        /**\n         * As a last step in the normalization we\n         * window the sub image around the borders\n         * to become 0\n         */\n        window(ref img, sx, sy, wx, wy);\n    }\n\n    private static signed2[] boxaverage(signed2[] input, int sx, int sy, int wx, int wy)\n    {\n        signed2[] horizontalmean = new signed2[sx * sy];\n\n        Debug.Assert(horizontalmean != null);\n        int wx2 = wx / 2;\n        int wy2 = wy / 2;\n        int from = (sy - 1) * sx;\n        int to = (sy - 1) * sx;\n        int initcount = wx - wx2;\n        if (sx &lt; initcount) initcount = sx;\n        int xli = -wx2;\n        int xri = wx - wx2;\n        for (; from &gt;= 0; from -= sx, to -= sx)\n        {\n            signed8 sum = 0;\n            int count = initcount;\n            for (int c = 0; c &lt; count; c++)\n                sum += (signed8)input[c + from];\n            horizontalmean[to] = (signed2)(sum / count);\n            int xl = xli, x = 1, xr = xri;\n            /**\n             * The area where the window is slightly outside the\n             * left boundary. Beware: the right bnoundary could be\n             * outside on the other side already\n             */\n            for (; x &lt; sx; x++, xl++, xr++)\n            {\n                if (xl &gt;= 0) break;\n                if (xr &lt; sx)\n                {\n                    sum += (signed8)input[xr + from];\n                    count++;\n                }\n                horizontalmean[x + to] = (signed2)(sum / count);\n            }\n            /**\n             * both bounds of the sliding window\n             * are fully inside the images\n             */\n            for (; xr &lt; sx; x++, xl++, xr++)\n            {\n                sum -= (signed8)input[xl + from];\n                sum += (signed8)input[xr + from];\n                horizontalmean[x + to] = (signed2)(sum / count);\n            }\n            /**\n             * the right bound is falling of the page\n             */\n            for (; x &lt; sx; x++, xl++)\n            {\n                sum -= (signed8)input[xl + from];\n                count--;\n                horizontalmean[x + to] = (signed2)(sum / count);\n            }\n        }\n\n        /**\n         * The same process as aboe but for the vertical dimension now\n         */\n        int ssy = (sy - 1) * sx + 1;\n        from = sx - 1;\n        signed2[] verticalmean = new signed2[sx * sy];\n        Debug.Assert(verticalmean != null);\n        to = sx - 1;\n        initcount = wy - wy2;\n        if (sy &lt; initcount) initcount = sy;\n        int initstopat = initcount * sx;\n        int yli = -wy2 * sx;\n        int yri = (wy - wy2) * sx;\n        for (; from &gt;= 0; from--, to--)\n        {\n            signed8 sum = 0;\n            int count = initcount;\n            for (int d = 0; d &lt; initstopat; d += sx)\n                sum += (signed8)horizontalmean[d + from];\n            verticalmean[to] = (signed2)(sum / count);\n            int yl = yli, y = 1, yr = yri;\n            for (; y &lt; ssy; y += sx, yl += sx, yr += sx)\n            {\n                if (yl &gt;= 0) break;\n                if (yr &lt; ssy)\n                {\n                    sum += (signed8)horizontalmean[yr + from];\n                    count++;\n                }\n                verticalmean[y + to] = (signed2)(sum / count);\n            }\n            for (; yr &lt; ssy; y += sx, yl += sx, yr += sx)\n            {\n                sum -= (signed8)horizontalmean[yl + from];\n                sum += (signed8)horizontalmean[yr + from];\n                verticalmean[y + to] = (signed2)(sum / count);\n            }\n            for (; y &lt; ssy; y += sx, yl += sx)\n            {\n                sum -= (signed8)horizontalmean[yl + from];\n                count--;\n                verticalmean[y + to] = (signed2)(sum / count);\n            }\n        }\n        return verticalmean;\n    }\n\n    private static void window(ref signed2[] img, int sx, int sy, int wx, int wy)\n    {\n        int wx2 = wx / 2;\n        int sxsy = sx * sy;\n        int sx1 = sx - 1;\n        for (int x = 0; x &lt; wx2; x++)\n            for (int y = 0; y &lt; sxsy; y += sx)\n            {\n                img[x + y] = (signed2)(img[x + y] * x / wx2);\n                img[sx1 - x + y] = (signed2)(img[sx1 - x + y] * x / wx2);\n            }\n\n        int wy2 = wy / 2;\n        int syb = (sy - 1) * sx;\n        int syt = 0;\n        for (int y = 0; y &lt; wy2; y++)\n        {\n            for (int x = 0; x &lt; sx; x++)\n            {\n                /**\n                 * here we need to recalculate the stuff (*y/wy2)\n                 * to preserve the discrete nature of integers.\n                 */\n                img[x + syt] = (signed2)(img[x + syt] * y / wy2);\n                img[x + syb] = (signed2)(img[x + syb] * y / wy2);\n            }\n            /**\n             * The next row for the top rows\n             * The previous row for the bottom rows\n             */\n            syt += sx;\n            syb -= sx;\n        }\n    }\n\n    private static signed2[] read_image(string filename, ref int sx, ref int sy)\n    {\n        Bitmap image = new Bitmap(filename);\n        sx = image.Width;\n        sy = image.Height;\n        signed2[] GreyImage = new signed2[sx * sy];\n        BitmapData bitmapData1 = image.LockBits(new Rectangle(0, 0, image.Width, image.Height), ImageLockMode.ReadOnly, PixelFormat.Format32bppArgb);\n        unsafe\n        {\n            byte* imagePointer = (byte*)bitmapData1.Scan0;\n\n            for (int y = 0; y &lt; bitmapData1.Height; y++)\n            {\n                for (int x = 0; x &lt; bitmapData1.Width; x++)\n                {\n                    GreyImage[x + y * sx] = (signed2)((imagePointer[0] + imagePointer[1] + imagePointer[2]) / 3.0);\n                    //4 bytes per pixel\n                    imagePointer += 4;\n                }//end for x\n                //4 bytes per pixel\n                imagePointer += bitmapData1.Stride - (bitmapData1.Width * 4);\n            }//end for y\n        }//end unsafe\n        image.UnlockBits(bitmapData1);\n        return GreyImage;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2815364,"reputation":4577,"user_id":2420599,"display_name":"Gabriel Archanjo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1480528872,"creation_date":1480528872,"answer_id":40895168,"question_id":297762,"body_markdown":"You could use unique visual elements of this target area to determine its position. These unique visual elements are like a &quot;signature&quot;. Examples: unique icons, images and symbols. This approach works independently of the window resolution if you have unique elements in the corners. For fixed sized windows, just one element is sufficient to find all window coordinates. \r\n\r\nBelow I illustrate the idea with a simple example using [Marvin Framework][1].\r\n\r\n**Unique elements:** &lt;br/&gt;\r\n\r\n[![enter image description here][2]][2] &lt;br/&gt;\r\n[![enter image description here][3]][3]\r\n\r\n**Program output:**\r\n\r\n[![enter image description here][4]][4]\r\n\r\n**Original Image:**&lt;br/&gt;\r\n[window.png][5]\r\n\r\n**Source code:**\r\n\r\n    import static marvin.MarvinPluginCollection.*;\r\n\t\r\n\tpublic class FindSubimageWindow {\r\n\t\tpublic FindSubimageWindow(){\r\n\t\t\tMarvinImage window = MarvinImageIO.loadImage(&quot;./res/window.png&quot;);\r\n\t\t\tMarvinImage eclipse = MarvinImageIO.loadImage(&quot;./res/eclipse_icon.png&quot;);\r\n\t\t\tMarvinImage progress = MarvinImageIO.loadImage(&quot;./res/progress_icon.png&quot;);\r\n\t\t\t\r\n\t\t\tMarvinSegment seg1, seg2;\r\n\t\t\tseg1 = findSubimage(eclipse, window, 0, 0);\r\n\t\t\tdrawRect(window, seg1.x1, seg1.y1, seg1.x2-seg1.x1, seg1.y2-seg1.y1);\r\n\t\t\t\r\n\t\t\tseg2 = findSubimage(progress, window, 0, 0);\r\n\t\t\tdrawRect(window, seg2.x1, seg2.y1, seg2.x2-seg2.x1, seg2.y2-seg2.y1);\r\n\t\t\t\r\n\t\t\tdrawRect(window, seg1.x1-10, seg1.y1-10, (seg2.x2-seg1.x1)+25, (seg2.y2-seg1.y1)+20);\r\n\t\t\t\r\n\t\t\tMarvinImageIO.saveImage(window, &quot;./res/window_out.png&quot;);\r\n\t\t}\r\n\t\tprivate void drawRect(MarvinImage image, int x, int y, int width, int height){\r\n\t\t\tx-=4; y-=4; width+=8; height+=8;\r\n\t\t\timage.drawRect(x, y, width, height, Color.red);\r\n\t\t\timage.drawRect(x+1, y+1, width-2, height-2, Color.red);\r\n\t\t\timage.drawRect(x+2, y+2, width-4, height-4, Color.red);\r\n\t\t}\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tnew FindSubimageWindow();\r\n\t\t}\t\r\n\t}\r\n\r\n\r\n  [1]: http://marvinproject.sourceforge.net\r\n  [2]: https://i.stack.imgur.com/YvUr7.png\r\n  [3]: https://i.stack.imgur.com/Vd4XK.png\r\n  [4]: https://i.stack.imgur.com/FlTQR.png\r\n  [5]: http://marvinproject.sourceforge.net/other/window.png","title":"Find known sub image in larger image","body":"<p>You could use unique visual elements of this target area to determine its position. These unique visual elements are like a \"signature\". Examples: unique icons, images and symbols. This approach works independently of the window resolution if you have unique elements in the corners. For fixed sized windows, just one element is sufficient to find all window coordinates. </p>\n\n<p>Below I illustrate the idea with a simple example using <a href=\"http://marvinproject.sourceforge.net\" rel=\"nofollow noreferrer\">Marvin Framework</a>.</p>\n\n<p><strong>Unique elements:</strong> <br/></p>\n\n<p><a href=\"https://i.stack.imgur.com/YvUr7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YvUr7.png\" alt=\"enter image description here\"></a> <br/>\n<a href=\"https://i.stack.imgur.com/Vd4XK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Vd4XK.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>Program output:</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/FlTQR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FlTQR.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>Original Image:</strong><br/>\n<a href=\"http://marvinproject.sourceforge.net/other/window.png\" rel=\"nofollow noreferrer\">window.png</a></p>\n\n<p><strong>Source code:</strong></p>\n\n<pre><code>import static marvin.MarvinPluginCollection.*;\n\npublic class FindSubimageWindow {\n    public FindSubimageWindow(){\n        MarvinImage window = MarvinImageIO.loadImage(\"./res/window.png\");\n        MarvinImage eclipse = MarvinImageIO.loadImage(\"./res/eclipse_icon.png\");\n        MarvinImage progress = MarvinImageIO.loadImage(\"./res/progress_icon.png\");\n\n        MarvinSegment seg1, seg2;\n        seg1 = findSubimage(eclipse, window, 0, 0);\n        drawRect(window, seg1.x1, seg1.y1, seg1.x2-seg1.x1, seg1.y2-seg1.y1);\n\n        seg2 = findSubimage(progress, window, 0, 0);\n        drawRect(window, seg2.x1, seg2.y1, seg2.x2-seg2.x1, seg2.y2-seg2.y1);\n\n        drawRect(window, seg1.x1-10, seg1.y1-10, (seg2.x2-seg1.x1)+25, (seg2.y2-seg1.y1)+20);\n\n        MarvinImageIO.saveImage(window, \"./res/window_out.png\");\n    }\n    private void drawRect(MarvinImage image, int x, int y, int width, int height){\n        x-=4; y-=4; width+=8; height+=8;\n        image.drawRect(x, y, width, height, Color.red);\n        image.drawRect(x+1, y+1, width-2, height-2, Color.red);\n        image.drawRect(x+2, y+2, width-4, height-4, Color.red);\n    }\n    public static void main(String[] args) {\n        new FindSubimageWindow();\n    }   \n}\n</code></pre>\n"}],"owner":{"account_id":14199,"reputation":1160,"user_id":29009,"accept_rate":71,"display_name":"Benjamin Lee"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24575,"favorite_count":0,"down_vote_count":0,"up_vote_count":26,"accepted_answer_id":297768,"answer_count":6,"score":26,"last_activity_date":1641312276,"creation_date":1226977996,"question_id":297762,"body_markdown":"**Does anyone know of an algorithm (or search terms / descriptions) to locate a known image within a larger image?**\r\n\r\ne.g.\r\n\r\nI have an image of a single desktop window containing various buttons and areas (target).  I also have code to capture a screen shot of the current desktop.  I would like an algorithm that will help me find the target image within the larger desktop image (what exact x and y coordinates the window is located at).  The target image may be located anywhere in the larger image and may not be 100% exactly the same (very similar but not exact possibly b/c of OS display differences)\r\n\r\nDoes anyone know of such an algorithm or class of algorithms?\r\n\r\nI have found various image segmentation and computer vision algorithms but they seem geared to &quot;fuzzy&quot; classification of regions and not locating a specific image within another.\r\n\r\n** *My goal is to create a framework that, given some seed target images, can find &quot;look&quot; at the desktop, find the target area and &quot;watch&quot; it for changes.* **","title":"Find known sub image in larger image","body":"<p><strong>Does anyone know of an algorithm (or search terms / descriptions) to locate a known image within a larger image?</strong></p>\n\n<p>e.g.</p>\n\n<p>I have an image of a single desktop window containing various buttons and areas (target).  I also have code to capture a screen shot of the current desktop.  I would like an algorithm that will help me find the target image within the larger desktop image (what exact x and y coordinates the window is located at).  The target image may be located anywhere in the larger image and may not be 100% exactly the same (very similar but not exact possibly b/c of OS display differences)</p>\n\n<p>Does anyone know of such an algorithm or class of algorithms?</p>\n\n<p>I have found various image segmentation and computer vision algorithms but they seem geared to \"fuzzy\" classification of regions and not locating a specific image within another.</p>\n\n<p>** <em>My goal is to create a framework that, given some seed target images, can find \"look\" at the desktop, find the target area and \"watch\" it for changes.</em> **</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1641312191,"post_id":70581494,"comment_id":124769943,"body_markdown":"Vague title. Rewrite to summarize your specific technical issue.","body":"Vague title. Rewrite to summarize your specific technical issue."},{"owner":{"account_id":526476,"reputation":27861,"user_id":1790644,"accept_rate":80,"display_name":"Matt Clark"},"score":0,"creation_date":1641312616,"post_id":70581494,"comment_id":124770138,"body_markdown":"Maybe look into a library like [iTextPDF](https://github.com/itext/itext7) - a Java library for building custom PDF documents.","body":"Maybe look into a library like <a href=\"https://github.com/itext/itext7\" rel=\"nofollow noreferrer\">iTextPDF</a> - a Java library for building custom PDF documents."}],"answers":[{"tags":[],"owner":{"account_id":2182934,"reputation":2525,"user_id":1932011,"accept_rate":71,"display_name":"JayC667"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641312003,"creation_date":1641312003,"answer_id":70581621,"question_id":70581494,"body_markdown":"Print to a PDF file. You can use Flying Saucer for that, or similar libraries.\r\nPDF is famous for sticking to definitions and is especially fitted to the needs of proper scaling and displaying.\r\n\r\nYou could even get away from the doc template and only use (X)HTML to design and fill the page.\r\nSimply fill in some HTML, link an image (`&lt;img src=&#39;rel.jpg&#39;&gt;`), send all that to FlyingSaucer, and you&#39;re done.","title":"Creating documents programmatically","body":"<p>Print to a PDF file. You can use Flying Saucer for that, or similar libraries.\nPDF is famous for sticking to definitions and is especially fitted to the needs of proper scaling and displaying.</p>\n<p>You could even get away from the doc template and only use (X)HTML to design and fill the page.\nSimply fill in some HTML, link an image (<code>&lt;img src='rel.jpg'&gt;</code>), send all that to FlyingSaucer, and you're done.</p>\n"}],"owner":{"account_id":6911300,"reputation":127,"user_id":5307050,"display_name":"Nelson Lopes"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1641312003,"creation_date":1641311428,"question_id":70581494,"body_markdown":"I have an Android app that generates documents with each client&#39;s info based in a template, and that the client can sign. The signature is then jointed into the document, and the whole doc is converted to image and uploaded to a server.\r\n\r\nDespite being converted to image, the objective is to be as similar as possible to the A4 format.\r\n\r\nFor this I use WebView, and then I convert it to Bitmap based on the width and height of an ScrollView.\r\nFor the signature I use Canvas.\r\n\r\nBut I&#39;m not sure this approach is the best, as it is very difficult to simulate an A4 document. Depending on the device, the dimensions of the doc are not proportional and to be I would have to be adjusting based on each device display size. Because of that, this component of the app is not available in some devices, purposefully. But now we want to make it available to every device.\r\n\r\nWhat approach do you recommend? Is there some way of develop one doc fits all with correct proportions and similar aspect?\r\n\r\nThanks in advance.\r\n\r\n","title":"Creating documents programmatically","body":"<p>I have an Android app that generates documents with each client's info based in a template, and that the client can sign. The signature is then jointed into the document, and the whole doc is converted to image and uploaded to a server.</p>\n<p>Despite being converted to image, the objective is to be as similar as possible to the A4 format.</p>\n<p>For this I use WebView, and then I convert it to Bitmap based on the width and height of an ScrollView.\nFor the signature I use Canvas.</p>\n<p>But I'm not sure this approach is the best, as it is very difficult to simulate an A4 document. Depending on the device, the dimensions of the doc are not proportional and to be I would have to be adjusting based on each device display size. Because of that, this component of the app is not available in some devices, purposefully. But now we want to make it available to every device.</p>\n<p>What approach do you recommend? Is there some way of develop one doc fits all with correct proportions and similar aspect?</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","concurrency","arraylist","hashmap"],"answers":[{"tags":[],"owner":{"account_id":116580,"reputation":118713,"user_id":305644,"accept_rate":75,"display_name":"hvgotcodes"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1304824323,"creation_date":1304796088,"answer_id":5923442,"question_id":5923405,"body_markdown":"yes, there can be a problem.  The ConcurrentHashMap will be thread safe for accesses into the Map, but the Lists served out need to be thread-safe, *if* multiple threads can operate on the same List instances concurrently.\r\n\r\nSo use a thread-safe list if that is true.\r\n\r\nEdit -- now that i think about it, the rabbit-hole goes further.  You have your Map, you have your List, and you have the objects in the list.  Anything multiple threads can modify should be thread safe.  So if many threads can modify the Map, Lists, and Objects in the Lists, then all of those should have thread-safety guards.  If only the Map and List instances can be modified concurrently, only they need thread safety.  If multiple threads can read everything, but not modify, then you don&#39;t need any thread safety (I think, someone will correct me if this is wrong)","title":"ConcurrentHashMap with ArrayList as value","body":"<p>yes, there can be a problem.  The ConcurrentHashMap will be thread safe for accesses into the Map, but the Lists served out need to be thread-safe, <em>if</em> multiple threads can operate on the same List instances concurrently.</p>\n\n<p>So use a thread-safe list if that is true.</p>\n\n<p>Edit -- now that i think about it, the rabbit-hole goes further.  You have your Map, you have your List, and you have the objects in the list.  Anything multiple threads can modify should be thread safe.  So if many threads can modify the Map, Lists, and Objects in the Lists, then all of those should have thread-safety guards.  If only the Map and List instances can be modified concurrently, only they need thread safety.  If multiple threads can read everything, but not modify, then you don't need any thread safety (I think, someone will correct me if this is wrong)</p>\n"},{"tags":[],"owner":{"account_id":4409801,"reputation":4386,"user_id":3593084,"accept_rate":40,"display_name":"Mr.Q"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641311196,"creation_date":1641311196,"answer_id":70581434,"question_id":5923405,"body_markdown":"ConcurrentHashMap guarantees atomicity in its mutating methods e.g. putIfAbsent, computeIfAbsent, computeIfPresent so if all the modification is done through these methods no problems will arise. \r\n\r\nBut at the same time, multiple threads can read the same map entry (concurrent reads are allowed). therefore multiple threads can access and modify an unsafe collection (map value)  ","title":"ConcurrentHashMap with ArrayList as value","body":"<p>ConcurrentHashMap guarantees atomicity in its mutating methods e.g. putIfAbsent, computeIfAbsent, computeIfPresent so if all the modification is done through these methods no problems will arise.</p>\n<p>But at the same time, multiple threads can read the same map entry (concurrent reads are allowed). therefore multiple threads can access and modify an unsafe collection (map value)</p>\n"}],"owner":{"account_id":728421,"reputation":205,"user_id":669449,"accept_rate":100,"display_name":"Moshe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8756,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":5923442,"answer_count":2,"score":6,"last_activity_date":1641311196,"creation_date":1304795760,"question_id":5923405,"body_markdown":"I need to use a HashMap of the form `&lt;String, ArrayList&lt;String&gt;&gt;` that is going to be \r\naccessed by several different threads. From what I&#39;ve managed to understand, ConcurrentHashMap is the preferred method. But will there be any problem with the fact that the value of the map is an ArrayList? Do I have to define the value as a synchronized ArrayList or something like that?","title":"ConcurrentHashMap with ArrayList as value","body":"<p>I need to use a HashMap of the form <code>&lt;String, ArrayList&lt;String&gt;&gt;</code> that is going to be \naccessed by several different threads. From what I've managed to understand, ConcurrentHashMap is the preferred method. But will there be any problem with the fact that the value of the map is an ArrayList? Do I have to define the value as a synchronized ArrayList or something like that?</p>\n"},{"tags":["java","android","performance","android-studio"],"answers":[{"tags":[],"owner":{"account_id":13099052,"reputation":747,"user_id":9464051,"display_name":"deluxe1"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1641311126,"creation_date":1641311126,"answer_id":70581413,"question_id":70580322,"body_markdown":"Avoid nesting anonymous objects, things can escalate quickly (as you can see). What I&#39;d recommend you do is make your Activity/Fragment or whatever is containing this logic implement the OnEditorActionListener interface. \r\n\r\nIn the onEditorAction method check the id of the view. Do something like \r\n\r\n    if (actionId == EditorInfo.IME_ACTION_DONE) {    \r\n         switch (v.id) {  \r\n             case R.id.*id_of_your_first_edit_text* :\r\n               //do what you need to do for your first edit text - preferably extract in a separate method\r\n               break;\r\n             case R.id.*id_of_your_second_edit_text* :\r\n               //do what you need to do for your second edit text - preferably extract in a separate method\r\n               break;\r\n             ....\r\n        } \r\n             \r\n\r\nAnd then for the set the OnEditorActionListener of your views to the Activity/Fragment that implements this interface. Now you will have a better structured code that is easier to understand. \r\n\r\nI hope this gives you an idea on how to proceed.\r\n","title":"This code is repetitive and works perfect. Can somebody help me make it more simple?","body":"<p>Avoid nesting anonymous objects, things can escalate quickly (as you can see). What I'd recommend you do is make your Activity/Fragment or whatever is containing this logic implement the OnEditorActionListener interface.</p>\n<p>In the onEditorAction method check the id of the view. Do something like</p>\n<pre><code>if (actionId == EditorInfo.IME_ACTION_DONE) {    \n     switch (v.id) {  \n         case R.id.*id_of_your_first_edit_text* :\n           //do what you need to do for your first edit text - preferably extract in a separate method\n           break;\n         case R.id.*id_of_your_second_edit_text* :\n           //do what you need to do for your second edit text - preferably extract in a separate method\n           break;\n         ....\n    } \n         \n</code></pre>\n<p>And then for the set the OnEditorActionListener of your views to the Activity/Fragment that implements this interface. Now you will have a better structured code that is easier to understand.</p>\n<p>I hope this gives you an idea on how to proceed.</p>\n"}],"owner":{"account_id":14102283,"reputation":337,"user_id":10187359,"display_name":"fathi93"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1641312772,"accepted_answer_id":70581413,"answer_count":1,"score":0,"last_activity_date":1641311126,"creation_date":1641306554,"question_id":70580322,"body_markdown":"i&#39;ve this code :\r\n\r\n        nameInputLayout.requestFocus();\r\n        argentInputLayout.getEditText().setOnEditorActionListener((v, actionId, event) -&gt; {\r\n            boolean handled = false;\r\n            if (actionId == EditorInfo.IME_ACTION_DONE) {\r\n                addNewFields(this,layoutNewDepenses);\r\n                handled = true;\r\n\r\n                View lastChargeView = layoutNewDepenses.getChildAt(layoutNewDepenses.getChildCount() - 1);\r\n                TextInputLayout nameInputLayout = lastChargeView.findViewById(R.id.nom);\r\n                nameInputLayout.requestFocus();\r\n\r\n                TextInputLayout argentInputLayout = lastChargeView.findViewById(R.id.argent);\r\n                argentInputLayout.getEditText().setOnEditorActionListener((v2, actionId2, event2) -&gt; {\r\n                    boolean handled2 = false;\r\n                    if (actionId2 == EditorInfo.IME_ACTION_DONE) {\r\n                        addNewFields(this,layoutNewDepenses);\r\n                        handled2 = true;\r\n\r\n                        View lastChargeView2 = layoutNewDepenses.getChildAt(layoutNewDepenses.getChildCount() - 1);\r\n                        TextInputLayout nameInputLayout2 = lastChargeView2.findViewById(R.id.nom);\r\n                        nameInputLayout2.requestFocus();\r\n\r\n                        TextInputLayout argentInputLayout2 = lastChargeView2.findViewById(R.id.argent);\r\n                        argentInputLayout2.getEditText().setOnEditorActionListener((v3, actionId3, event3) -&gt; {\r\n                            boolean handled3 = false;\r\n                            if (actionId3 == EditorInfo.IME_ACTION_DONE) {\r\n                                addNewFields(this,layoutNewDepenses);\r\n                                handled3 = true;\r\n                            }\r\n                            return handled3;\r\n                        });\r\n                    }\r\n                    return handled2;\r\n                });\r\n            }\r\n            return handled;\r\n        });\r\n\r\nIt works perfectly but it&#39;s very repetitive. What i want to do is that whenever the user finishes writing in argentInputLayout Field and he clicks on the carriage return button, two more TextInputLayout Fields must be added.\r\n\r\nThe problem is that i don&#39;t know what number of fields could want the user and i don&#39;t want to do in the way i did it now because it will be too many lines of code. So can anybody help find how can i make it more simple ?","title":"This code is repetitive and works perfect. Can somebody help me make it more simple?","body":"<p>i've this code :</p>\n<pre><code>    nameInputLayout.requestFocus();\n    argentInputLayout.getEditText().setOnEditorActionListener((v, actionId, event) -&gt; {\n        boolean handled = false;\n        if (actionId == EditorInfo.IME_ACTION_DONE) {\n            addNewFields(this,layoutNewDepenses);\n            handled = true;\n\n            View lastChargeView = layoutNewDepenses.getChildAt(layoutNewDepenses.getChildCount() - 1);\n            TextInputLayout nameInputLayout = lastChargeView.findViewById(R.id.nom);\n            nameInputLayout.requestFocus();\n\n            TextInputLayout argentInputLayout = lastChargeView.findViewById(R.id.argent);\n            argentInputLayout.getEditText().setOnEditorActionListener((v2, actionId2, event2) -&gt; {\n                boolean handled2 = false;\n                if (actionId2 == EditorInfo.IME_ACTION_DONE) {\n                    addNewFields(this,layoutNewDepenses);\n                    handled2 = true;\n\n                    View lastChargeView2 = layoutNewDepenses.getChildAt(layoutNewDepenses.getChildCount() - 1);\n                    TextInputLayout nameInputLayout2 = lastChargeView2.findViewById(R.id.nom);\n                    nameInputLayout2.requestFocus();\n\n                    TextInputLayout argentInputLayout2 = lastChargeView2.findViewById(R.id.argent);\n                    argentInputLayout2.getEditText().setOnEditorActionListener((v3, actionId3, event3) -&gt; {\n                        boolean handled3 = false;\n                        if (actionId3 == EditorInfo.IME_ACTION_DONE) {\n                            addNewFields(this,layoutNewDepenses);\n                            handled3 = true;\n                        }\n                        return handled3;\n                    });\n                }\n                return handled2;\n            });\n        }\n        return handled;\n    });\n</code></pre>\n<p>It works perfectly but it's very repetitive. What i want to do is that whenever the user finishes writing in argentInputLayout Field and he clicks on the carriage return button, two more TextInputLayout Fields must be added.</p>\n<p>The problem is that i don't know what number of fields could want the user and i don't want to do in the way i did it now because it will be too many lines of code. So can anybody help find how can i make it more simple ?</p>\n"},{"tags":["java","spring-boot","hibernate","jpa","spring-data-jpa"],"comments":[{"owner":{"display_name":"user6073886"},"score":1,"creation_date":1641230350,"post_id":70569207,"comment_id":124747263,"body_markdown":"`mappedBy = &quot;logoId&quot;` &lt;- The mappedBy annotation should point to the attribute that maps the relation on the other side. In your case i can&#39;t see andy `logoId` attribute, instead it seems to be `emprendimiento`","body":"<code>mappedBy = &quot;logoId&quot;</code> &lt;- The mappedBy annotation should point to the attribute that maps the relation on the other side. In your case i can&#39;t see andy <code>logoId</code> attribute, instead it seems to be <code>emprendimiento</code>"},{"owner":{"account_id":12010290,"reputation":145,"user_id":8787267,"display_name":"Diego Izquierdo Dussan"},"score":0,"creation_date":1641242699,"post_id":70569207,"comment_id":124751082,"body_markdown":"Hi @OHGODSPIDERS I fix it but start with and infinite loop","body":"Hi @OHGODSPIDERS I fix it but start with and infinite loop"}],"answers":[{"tags":[],"owner":{"account_id":3988115,"reputation":1606,"user_id":3288041,"display_name":"gkatiforis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641244573,"creation_date":1641244573,"answer_id":70571539,"question_id":70569207,"body_markdown":"In `@OneToMany` relationship, the `mappedBy` is the field&#39;s name on the other class. In this case is `emprendimiento`:\r\n\r\n    public class Emprendimientos implements Serializable {\r\n    .\r\n    .\r\n    .\r\n    @OneToMany(cascade = CascadeType.ALL, mappedBy = &quot;emprendimiento&quot;)\r\n    private Collection&lt;LogosEmprendimientos&gt; logosEmprendimientos;\r\n\r\n\r\n\r\nFor `@ManyToOne` relationship you have to add also `@JoinColumn(name=&quot;EMPRENDIMIENTOS_ID&quot;)` where the `EMPRENDIMIENTOS_ID` is the primary key in `Emprendimientos` table which is the foreign key in `LogosEmprendimientos` table.\r\n\r\n    public class LogosEmprendimientos implements Serializable {\r\n    .\r\n    .\r\n    .\r\n    @ManyToOne(optional = false)\r\n    @JoinColumn(name=&quot;EMPRENDIMIENTOS_ID&quot;)\r\n    private Emprendimientos emprendimiento;","title":"Why jpa return empty in a @OneToMany if there are data in the other table","body":"<p>In <code>@OneToMany</code> relationship, the <code>mappedBy</code> is the field's name on the other class. In this case is <code>emprendimiento</code>:</p>\n<pre><code>public class Emprendimientos implements Serializable {\n.\n.\n.\n@OneToMany(cascade = CascadeType.ALL, mappedBy = &quot;emprendimiento&quot;)\nprivate Collection&lt;LogosEmprendimientos&gt; logosEmprendimientos;\n</code></pre>\n<p>For <code>@ManyToOne</code> relationship you have to add also <code>@JoinColumn(name=&quot;EMPRENDIMIENTOS_ID&quot;)</code> where the <code>EMPRENDIMIENTOS_ID</code> is the primary key in <code>Emprendimientos</code> table which is the foreign key in <code>LogosEmprendimientos</code> table.</p>\n<pre><code>public class LogosEmprendimientos implements Serializable {\n.\n.\n.\n@ManyToOne(optional = false)\n@JoinColumn(name=&quot;EMPRENDIMIENTOS_ID&quot;)\nprivate Emprendimientos emprendimiento;\n</code></pre>\n"}],"owner":{"account_id":12010290,"reputation":145,"user_id":8787267,"display_name":"Diego Izquierdo Dussan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":856,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1641310451,"creation_date":1641229794,"question_id":70569207,"body_markdown":"Hi I have a OneToMany relationchip in a entity. when I do the findAll JPA bring me the data from all the  @ManyToOne but bring me [] empty for the @OneToMany (the collection come empty).\r\n\r\nThis is the how is the relation in the main entity: \r\n\r\n    public class Emprendimientos implements Serializable {\r\n    .\r\n    .\r\n    .\r\n    @OneToMany(cascade = CascadeType.ALL, mappedBy = &quot;logoId&quot;)\r\n    private Collection&lt;LogosEmprendimientos&gt; logosEmprendimientos;\r\n\r\nThe code in the other entity: \r\n\r\n    public class LogosEmprendimientos implements Serializable {\r\n    .\r\n    .\r\n    .\r\n    @ManyToOne(optional = false)\r\n    private Emprendimientos emprendimiento;\r\n\r\nThe result of the findAll of Emprendimientos for the collection is \r\n\r\n    .\r\n    .\r\n    &quot;logosEmprendimientos&quot;: [],\r\n\r\nI have tow records in tha data base in the LogosEmprendimientos related to the Emprendimientos record in colsulting\r\n[![enter image description here][1]][1]\r\n\r\n\r\nWhy it retur empty and how can i solve it?\r\n\r\nThanks!\r\n\r\nthe father class (Emprendimientos)\r\n[![enter image description here][2]][2]\r\n\r\nthe son class (Cofundadores)\r\n[![enter image description here][3]][3]\r\n\r\nthat birng a infinite loop when I consult it\r\n\r\n  [1]: https://i.stack.imgur.com/7kMiY.png\r\n  [2]: https://i.stack.imgur.com/lyqgS.png\r\n  [3]: https://i.stack.imgur.com/ha7ww.png","title":"Why jpa return empty in a @OneToMany if there are data in the other table","body":"<p>Hi I have a OneToMany relationchip in a entity. when I do the findAll JPA bring me the data from all the  @ManyToOne but bring me [] empty for the @OneToMany (the collection come empty).</p>\n<p>This is the how is the relation in the main entity:</p>\n<pre><code>public class Emprendimientos implements Serializable {\n.\n.\n.\n@OneToMany(cascade = CascadeType.ALL, mappedBy = &quot;logoId&quot;)\nprivate Collection&lt;LogosEmprendimientos&gt; logosEmprendimientos;\n</code></pre>\n<p>The code in the other entity:</p>\n<pre><code>public class LogosEmprendimientos implements Serializable {\n.\n.\n.\n@ManyToOne(optional = false)\nprivate Emprendimientos emprendimiento;\n</code></pre>\n<p>The result of the findAll of Emprendimientos for the collection is</p>\n<pre><code>.\n.\n&quot;logosEmprendimientos&quot;: [],\n</code></pre>\n<p>I have tow records in tha data base in the LogosEmprendimientos related to the Emprendimientos record in colsulting\n<a href=\"https://i.stack.imgur.com/7kMiY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7kMiY.png\" alt=\"enter image description here\" /></a></p>\n<p>Why it retur empty and how can i solve it?</p>\n<p>Thanks!</p>\n<p>the father class (Emprendimientos)\n<a href=\"https://i.stack.imgur.com/lyqgS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lyqgS.png\" alt=\"enter image description here\" /></a></p>\n<p>the son class (Cofundadores)\n<a href=\"https://i.stack.imgur.com/ha7ww.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ha7ww.png\" alt=\"enter image description here\" /></a></p>\n<p>that birng a infinite loop when I consult it</p>\n"},{"tags":["java","sql","mariadb"],"comments":[{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1601167335,"post_id":64083261,"comment_id":113321222,"body_markdown":"What database dialect is this? Oracle? SQL Server? MySQL? PostgreSQL? Something else? Please tag appropriate dialect.","body":"What database dialect is this? Oracle? SQL Server? MySQL? PostgreSQL? Something else? Please tag appropriate dialect."},{"owner":{"account_id":13015872,"reputation":165,"user_id":9407148,"display_name":"Geoff"},"score":0,"creation_date":1601175405,"post_id":64083261,"comment_id":113322365,"body_markdown":"Andreas it is MariaDB.","body":"Andreas it is MariaDB."},{"owner":{"account_id":13015872,"reputation":165,"user_id":9407148,"display_name":"Geoff"},"score":0,"creation_date":1601221493,"post_id":64083261,"comment_id":113332554,"body_markdown":"And now the question is closed for no apparent reason.\nAndreas the question was tagged with SQL from the beginning.","body":"And now the question is closed for no apparent reason. Andreas the question was tagged with SQL from the beginning."},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1601784458,"post_id":64083261,"comment_id":113510784,"body_markdown":"I know it was tagged SQL from the beginning, but `SET` is not a standard SQL type, so we needed to know which proprietary dialect you&#39;re using, so we could adequately answer your question. We certainly shouldn&#39;t have to hunt around all the common dialects to figure out what you&#39;re taking about.","body":"I know it was tagged SQL from the beginning, but <code>SET</code> is not a standard SQL type, so we needed to know which proprietary dialect you&#39;re using, so we could adequately answer your question. We certainly shouldn&#39;t have to hunt around all the common dialects to figure out what you&#39;re taking about."},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1601784938,"post_id":64083261,"comment_id":113510824,"body_markdown":"As the following related question shows, you treat the `SET` data type as a `String`, using comma-separation when multiple values are present in the set: [jdbc how to insert mysql SET type?](https://stackoverflow.com/q/5398133/5221149)","body":"As the following related question shows, you treat the <code>SET</code> data type as a <code>String</code>, using comma-separation when multiple values are present in the set: <a href=\"https://stackoverflow.com/q/5398133/5221149\">jdbc how to insert mysql SET type?</a>"},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1601784968,"post_id":64083261,"comment_id":113510828,"body_markdown":"See also the **documentation** of the [`SET`](https://dev.mysql.com/doc/refman/8.0/en/set.html) data type, which says: *&quot;A `SET` is a **string** object that can have zero or more values, each of which must be chosen from a list of permitted values specified when the table is created. `SET` column values that consist of multiple set members are specified with **members separated by commas (`,`)**. A consequence of this is that `SET` member values should not themselves contain commas.&quot;*","body":"See also the <b>documentation</b> of the <a href=\"https://dev.mysql.com/doc/refman/8.0/en/set.html\" rel=\"nofollow noreferrer\"><code>SET</code></a> data type, which says: <i>&quot;A <code>SET</code> is a <b>string</b> object that can have zero or more values, each of which must be chosen from a list of permitted values specified when the table is created. <code>SET</code> column values that consist of multiple set members are specified with <b>members separated by commas (<code>,</code>)</b>. A consequence of this is that <code>SET</code> member values should not themselves contain commas.&quot;</i>"}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1601168851,"creation_date":1601162600,"answer_id":64083380,"question_id":64083261,"body_markdown":"I assume this is MySQL&#39;s SET thing?\r\n\r\nIt&#39;s not part of JDBC, but JDBC has facilities for JDBC drivers to offer support for non-standard types. To set them:\r\n\r\n```\r\npreparedStatement.setObject(idx/name, value, targetSqlType);\r\n```\r\n\r\nwhere targetSqlType is optional (if omitted, the type of `value` is used to try to figure it out), and an int. What value should be there? &#175;\\\\_(ツ)_/&#175;  - Let&#39;s hope the JDBC driver has an int constant. What should `value` be? &#175;\\\\_(ツ)_/&#175; - the docs of the mysql JDBC driver should tell you, because the JDBC spec won&#39;t.\r\n\r\nTo fetch them:\r\n\r\n```\r\nresultSet.getObject(idx/colname, SomeType.class);\r\n```\r\n\r\nWhere, again, what `SomeType` is supposed to be is up to the MySQL JDBC driver.\r\n\r\nNote that the implementation of MySQL&#39;s &#39;set list&#39; is as a bitset with a single long (64-bit) value. Possibly then, pass longs, or maybe `BitSet`, but most likely the MySQL JDBC driver just doesn&#39;t support this at all.\r\n\r\nAccording to the MySQL JDBC driver (which is called Connector/J for some reason) documentation [it is set with, and returns, a String](https://dev.mysql.com/doc/connector-j/5.1/en/connector-j-reference-type-conversions.html).\r\n\r\nThat seems bizarre to me. Give it a try: Make a set, set a few things, and go query it.\r\n\r\nEDIT: See also the [MySQL SET type](https://dev.mysql.com/doc/refman/8.0/en/set.html) docs, which seem to suggest you just.. `.setString(1, &quot;clubs,spades&quot;)` and that you get em with `.getString(1)` which would return `&quot;clubs,spades&quot;`. Sooo, no commas in those things and excruciating lack of performance, I guess? Oof.\r\n\r\nThe good news is, you can interact with MySQL SET types from JDBC. The bad news is, in the most silly way possible.","title":"What Java Class are SQL Sets?","body":"<p>I assume this is MySQL's SET thing?</p>\n<p>It's not part of JDBC, but JDBC has facilities for JDBC drivers to offer support for non-standard types. To set them:</p>\n<pre><code>preparedStatement.setObject(idx/name, value, targetSqlType);\n</code></pre>\n<p>where targetSqlType is optional (if omitted, the type of <code>value</code> is used to try to figure it out), and an int. What value should be there? ¯\\<em>(ツ)</em>/¯  - Let's hope the JDBC driver has an int constant. What should <code>value</code> be? ¯\\<em>(ツ)</em>/¯ - the docs of the mysql JDBC driver should tell you, because the JDBC spec won't.</p>\n<p>To fetch them:</p>\n<pre><code>resultSet.getObject(idx/colname, SomeType.class);\n</code></pre>\n<p>Where, again, what <code>SomeType</code> is supposed to be is up to the MySQL JDBC driver.</p>\n<p>Note that the implementation of MySQL's 'set list' is as a bitset with a single long (64-bit) value. Possibly then, pass longs, or maybe <code>BitSet</code>, but most likely the MySQL JDBC driver just doesn't support this at all.</p>\n<p>According to the MySQL JDBC driver (which is called Connector/J for some reason) documentation <a href=\"https://dev.mysql.com/doc/connector-j/5.1/en/connector-j-reference-type-conversions.html\" rel=\"nofollow noreferrer\">it is set with, and returns, a String</a>.</p>\n<p>That seems bizarre to me. Give it a try: Make a set, set a few things, and go query it.</p>\n<p>EDIT: See also the <a href=\"https://dev.mysql.com/doc/refman/8.0/en/set.html\" rel=\"nofollow noreferrer\">MySQL SET type</a> docs, which seem to suggest you just.. <code>.setString(1, &quot;clubs,spades&quot;)</code> and that you get em with <code>.getString(1)</code> which would return <code>&quot;clubs,spades&quot;</code>. Sooo, no commas in those things and excruciating lack of performance, I guess? Oof.</p>\n<p>The good news is, you can interact with MySQL SET types from JDBC. The bad news is, in the most silly way possible.</p>\n"}],"owner":{"account_id":13015872,"reputation":165,"user_id":9407148,"display_name":"Geoff"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1601194421,"accepted_answer_id":64083380,"answer_count":1,"score":-1,"last_activity_date":1641310441,"creation_date":1601161287,"question_id":64083261,"body_markdown":"When I do an SQL query in java what method do I use to get an SQL set from the result set?\r\nSo if I have a table like this:&lt;br&gt;\r\n\r\n`CREATE TABLE mytable (id int, myset set(&quot;value0&quot;,&quot;value1&quot;,&quot;value2&quot;));`&lt;br&gt;\r\n\r\nHow would I get the value in the `myset` column in Java? Would it just be a string or would it be a list or something else?","title":"What Java Class are SQL Sets?","body":"<p>When I do an SQL query in java what method do I use to get an SQL set from the result set?\nSo if I have a table like this:<br></p>\n<p><code>CREATE TABLE mytable (id int, myset set(&quot;value0&quot;,&quot;value1&quot;,&quot;value2&quot;));</code><br></p>\n<p>How would I get the value in the <code>myset</code> column in Java? Would it just be a string or would it be a list or something else?</p>\n"},{"tags":["java","kotlin","generics"],"comments":[{"owner":{"account_id":951981,"reputation":14760,"user_id":977919,"accept_rate":92,"display_name":"sidgate"},"score":1,"creation_date":1641191685,"post_id":70562152,"comment_id":124735008,"body_markdown":"you can cast the type to `type as Class&lt;Enum&lt;*&gt;&gt;`","body":"you can cast the type to <code>type as Class&lt;Enum&lt;*&gt;&gt;</code>"},{"owner":{"account_id":9149557,"reputation":1927,"user_id":6804605,"accept_rate":75,"display_name":"FredSuvn"},"score":0,"creation_date":1641192610,"post_id":70562152,"comment_id":124735161,"body_markdown":"@sidgate Is there a more elegant way? cast will occure a yellow warning","body":"@sidgate Is there a more elegant way? cast will occure a yellow warning"},{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1641220582,"post_id":70562152,"comment_id":124743571,"body_markdown":"The compiler isn&#39;t sophisticated enough to tell if this is a safe cast so it shows the warning. Since you can see that the class is obviously an Enum by the `isEnum` check, it&#39;s safe to suppress the warning.","body":"The compiler isn&#39;t sophisticated enough to tell if this is a safe cast so it shows the warning. Since you can see that the class is obviously an Enum by the <code>isEnum</code> check, it&#39;s safe to suppress the warning."}],"answers":[{"tags":[],"owner":{"account_id":951981,"reputation":14760,"user_id":977919,"accept_rate":92,"display_name":"sidgate"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641309731,"creation_date":1641309731,"answer_id":70581100,"question_id":70562152,"body_markdown":"You need to cast the `type` \r\n\r\n    type as Class&lt;Enum&lt;*&gt;&gt;\r\n\r\nCompiler gives warning, but you just have to ignore it as compiler cannot tell if it is a safe cast. As Tenfour04 mentioned you are already validating the type with `isEnum` hence it is safe to suppress the warning.","title":"How to get value of enum without generic type statement?","body":"<p>You need to cast the <code>type</code></p>\n<pre><code>type as Class&lt;Enum&lt;*&gt;&gt;\n</code></pre>\n<p>Compiler gives warning, but you just have to ignore it as compiler cannot tell if it is a safe cast. As Tenfour04 mentioned you are already validating the type with <code>isEnum</code> hence it is safe to suppress the warning.</p>\n"}],"owner":{"account_id":9149557,"reputation":1927,"user_id":6804605,"accept_rate":75,"display_name":"FredSuvn"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":150,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1641310422,"creation_date":1641189657,"question_id":70562152,"body_markdown":"In normal way I define this function to get an enum value:\r\n\r\n```kotlin\r\nfun &lt;T : Enum&lt;T&gt;&gt; Class&lt;T&gt;.enumValue(name: String): T {\r\n    return java.lang.Enum.valueOf(this, name)\r\n}\r\n```\r\n\r\nBut sometimes I don&#39;t know actual type of given `Class&lt;*&gt;` parameter:\r\n\r\n```kotlin\r\nfun String.toObject(type: Class&lt;*&gt;): Any {\r\n    if (type.isEnum) {\r\n        // Error: Type mismatch.\r\n        // Required: Enum&lt;TypeVariable(T)!&gt;!\r\n        // Found: Any!\r\n        return java.lang.Enum.valueOf(type, this)\r\n    }\r\n    return this\r\n}\r\n```\r\n\r\n`String.toObject` convert `String` to `Object` if given `type` is an enum type, but an error occurs:\r\n\r\n    Error: Type mismatch.\r\n    Required: Enum&lt;TypeVariable(T)!&gt;!\r\n    Found: Any!\r\n\r\nHow to solve this problem?","title":"How to get value of enum without generic type statement?","body":"<p>In normal way I define this function to get an enum value:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>fun &lt;T : Enum&lt;T&gt;&gt; Class&lt;T&gt;.enumValue(name: String): T {\n    return java.lang.Enum.valueOf(this, name)\n}\n</code></pre>\n<p>But sometimes I don't know actual type of given <code>Class&lt;*&gt;</code> parameter:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>fun String.toObject(type: Class&lt;*&gt;): Any {\n    if (type.isEnum) {\n        // Error: Type mismatch.\n        // Required: Enum&lt;TypeVariable(T)!&gt;!\n        // Found: Any!\n        return java.lang.Enum.valueOf(type, this)\n    }\n    return this\n}\n</code></pre>\n<p><code>String.toObject</code> convert <code>String</code> to <code>Object</code> if given <code>type</code> is an enum type, but an error occurs:</p>\n<pre><code>Error: Type mismatch.\nRequired: Enum&lt;TypeVariable(T)!&gt;!\nFound: Any!\n</code></pre>\n<p>How to solve this problem?</p>\n"},{"tags":["java","arraylist","indexing","indexoutofboundsexception"],"comments":[{"owner":{"account_id":5084916,"reputation":303,"user_id":4079977,"accept_rate":50,"display_name":"MishraJi"},"score":0,"creation_date":1641123539,"post_id":70555595,"comment_id":124722723,"body_markdown":"Is it something that cannot be done by iterating through the ArrayList of Card and find the correct one with an check ?\nIf yes, then better to use Map instead of array list and override the hashCode and equals method using cardCode in Card class to make it faster.","body":"Is it something that cannot be done by iterating through the ArrayList of Card and find the correct one with an check ? If yes, then better to use Map instead of array list and override the hashCode and equals method using cardCode in Card class to make it faster."},{"owner":{"account_id":21909989,"reputation":23,"user_id":16194553,"display_name":"elliotSmith "},"score":0,"creation_date":1641209754,"post_id":70555595,"comment_id":124739930,"body_markdown":"Hi to clarify there are 3 ArrayLists playerHand, deck and topPile, First card","body":"Hi to clarify there are 3 ArrayLists playerHand, deck and topPile, First card"}],"answers":[{"tags":[],"owner":{"account_id":5084916,"reputation":303,"user_id":4079977,"accept_rate":50,"display_name":"MishraJi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641310022,"creation_date":1641310022,"answer_id":70581187,"question_id":70555595,"body_markdown":"Instead of \r\n\r\n    public Card getCard(int index)         \r\n    {             \r\n    return pHand.get(index);         \r\n    } \r\n \r\n\r\nIf you change it to \r\n\r\n    public Card getCard(int cardCode){             \r\n        for(Card card: pHand) {               \r\n            if(cardCode == card.getCardCode().intValue()){\r\n              return card;             \r\n            }         \r\n        }\r\n     return null;         \r\n    }\r\n\r\n   This will return the `Card` with matching `cardCode`.\r\nTo optimise this code  you can make `pHand` a `Map`.&lt;br&gt;\r\n`Map&lt;Integer,Card&gt; pHand ;` Where the key would be the `cardCode`;","title":"How to get a User to choose a uno card by cardCode, and not by index. EG: 1 - You picked Red 1","body":"<p>Instead of</p>\n<pre><code>public Card getCard(int index)         \n{             \nreturn pHand.get(index);         \n} \n</code></pre>\n<p>If you change it to</p>\n<pre><code>public Card getCard(int cardCode){             \n    for(Card card: pHand) {               \n        if(cardCode == card.getCardCode().intValue()){\n          return card;             \n        }         \n    }\n return null;         \n}\n</code></pre>\n<p>This will return the <code>Card</code> with matching <code>cardCode</code>.\nTo optimise this code  you can make <code>pHand</code> a <code>Map</code>.<br>\n<code>Map&lt;Integer,Card&gt; pHand ;</code> Where the key would be the <code>cardCode</code>;</p>\n"}],"owner":{"account_id":21909989,"reputation":23,"user_id":16194553,"display_name":"elliotSmith "},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":190,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1641310022,"creation_date":1641123146,"question_id":70555595,"body_markdown":"My question is how to get a User to choose uno card by cardCode, and not by index.\r\n\r\nThis game of uno contains number, colour and cardCode - user is to choose a card to play by cardCode 1-41, \r\n\r\nThe games runs fine when the user chooses the card by index, however when tying to get the user to enter the cardCode  Struggling with searching for the index of the specified card code in player Array-list hand.  \r\nCard ArrayList contains number, colour and cardCode.I hope this question is clear enough!\r\n\r\nThank you in advance    \r\n\r\n \r\n\r\n\r\n    ``int choice = 0; //The index of the card the user picks\r\n                try {\r\n                    choice = askForInput();\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n        \r\n                if (choice == -1) { //User wants to draw a card\r\n                    user.addToHand(deck1.drawCard());\r\n                    System.out.println(&quot;You drew a card!&quot;);\r\n                    upNext = checkNextPlayer();\r\n                    computersPlay();\r\n        \r\n                } else if (choice == -2) { //User wants to quit\r\n                    winner = &quot;No one&quot;;\r\n                    try {\r\n                        in2.close();\r\n                    } catch (IOException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                    System.out.println(&quot;You quit!&quot;);\r\n                    return;\r\n        \r\n                } else { //User wants to play a card\r\n        \r\n                    if (!validInput(user, choice)) {\r\n                        userTurn();\r\n                    } else {\r\n        \r\n                        centerCard = user.getCard(choice);\r\n                        user.removeFromHand(choice);\r\n                        System.out.println(&quot;You played: &quot; + centerCard);\r\n        \r\n        **\r\n        //Think the issue is calling index and not passing a card?\r\n        \r\n    HAND CLASS\r\n        \t * Shows the card at that index in your hand without removing it\r\n        \t */\r\n        \tpublic Card getCard(int index)\r\n        \t{\r\n        \t\treturn pHand.get(index);\r\n        \t}\r\n        \r\n        ```","title":"How to get a User to choose a uno card by cardCode, and not by index. EG: 1 - You picked Red 1","body":"<p>My question is how to get a User to choose uno card by cardCode, and not by index.</p>\n<p>This game of uno contains number, colour and cardCode - user is to choose a card to play by cardCode 1-41,</p>\n<p>The games runs fine when the user chooses the card by index, however when tying to get the user to enter the cardCode  Struggling with searching for the index of the specified card code in player Array-list hand.<br />\nCard ArrayList contains number, colour and cardCode.I hope this question is clear enough!</p>\n<p>Thank you in advance</p>\n<pre><code>``int choice = 0; //The index of the card the user picks\n            try {\n                choice = askForInput();\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n    \n            if (choice == -1) { //User wants to draw a card\n                user.addToHand(deck1.drawCard());\n                System.out.println(&quot;You drew a card!&quot;);\n                upNext = checkNextPlayer();\n                computersPlay();\n    \n            } else if (choice == -2) { //User wants to quit\n                winner = &quot;No one&quot;;\n                try {\n                    in2.close();\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n                System.out.println(&quot;You quit!&quot;);\n                return;\n    \n            } else { //User wants to play a card\n    \n                if (!validInput(user, choice)) {\n                    userTurn();\n                } else {\n    \n                    centerCard = user.getCard(choice);\n                    user.removeFromHand(choice);\n                    System.out.println(&quot;You played: &quot; + centerCard);\n    \n    **\n    //Think the issue is calling index and not passing a card?\n    \nHAND CLASS\n         * Shows the card at that index in your hand without removing it\n         */\n        public Card getCard(int index)\n        {\n            return pHand.get(index);\n        }\n    \n    ```\n</code></pre>\n"},{"tags":["java","spring","spring-mvc","properties"],"comments":[{"owner":{"account_id":8564,"reputation":235714,"user_id":15498,"accept_rate":76,"display_name":"Damien_The_Unbeliever"},"score":0,"creation_date":1375436960,"post_id":18013833,"comment_id":26343795,"body_markdown":"Java? Or some other technology? Please add a suitable language/tech tag","body":"Java? Or some other technology? Please add a suitable language/tech tag"},{"owner":{"account_id":479111,"reputation":4637,"user_id":891589,"accept_rate":100,"display_name":"Baby Groot"},"score":0,"creation_date":1375436975,"post_id":18013833,"comment_id":26343803,"body_markdown":"Which technology u r talking about?","body":"Which technology u r talking about?"},{"owner":{"account_id":2217729,"reputation":363,"user_id":1957944,"display_name":"Nani"},"score":0,"creation_date":1375438461,"post_id":18013833,"comment_id":26344685,"body_markdown":"i am using java, spring..","body":"i am using java, spring.."}],"answers":[{"tags":[],"owner":{"account_id":1622859,"reputation":2292,"user_id":1499066,"display_name":"John Smith"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1375441995,"creation_date":1375441995,"answer_id":18015493,"question_id":18013833,"body_markdown":"the `Properties` class in java does not have a functionality to *reference* other properties. If you have ever seen a `.properties` file, that uses references, the application that interprets that `.properties` file adds this functionality on top of the `Properties` class. E.g. you have to look up the property path yourself, if you find a value that begins with `{` and ends with `}`.\r\n\r\nOn the other hand, when using a specific configuration file format (like spring&#39;s bean.xml) of a certain library, that library may have added references inside their format. It is quite possible, that you can find a library that adds references on top of java&#39;s `Properties` facility or that `Spring` has something in it&#39;s huge pack of &quot;whatever you need&quot; already.","title":"Can One property value be assigned to another property in other properties file","body":"<p>the <code>Properties</code> class in java does not have a functionality to <em>reference</em> other properties. If you have ever seen a <code>.properties</code> file, that uses references, the application that interprets that <code>.properties</code> file adds this functionality on top of the <code>Properties</code> class. E.g. you have to look up the property path yourself, if you find a value that begins with <code>{</code> and ends with <code>}</code>.</p>\n\n<p>On the other hand, when using a specific configuration file format (like spring's bean.xml) of a certain library, that library may have added references inside their format. It is quite possible, that you can find a library that adds references on top of java's <code>Properties</code> facility or that <code>Spring</code> has something in it's huge pack of \"whatever you need\" already.</p>\n"},{"tags":[],"owner":{"account_id":5795564,"reputation":698,"user_id":4571486,"accept_rate":31,"display_name":"chepaiytrath"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1450177174,"creation_date":1450177174,"answer_id":34287455,"question_id":18013833,"body_markdown":"In my project, EncryptablePropertySourcesPlaceholderConfigurer has been used and then &#39;Resource [] locations&#39; property of its parent &#39;PropertiesLoaderSupport&#39; has been assigned each of the properties file that I want to load. I guess this is the reason I don&#39;t face any error.\r\n\r\nFor Example:\r\n\r\n    &lt;bean id=&quot;frameworkPropertyPlaceholderConfigurer&quot;\r\n\t\tclass=&quot;org.jasypt.spring31.properties.EncryptablePropertySourcesPlaceholderConfigurer&quot;&gt;\r\n\t\t&lt;constructor-arg ref=&quot;stringEncryptor&quot; /&gt;\r\n\t\t&lt;property name=&quot;ignoreUnresolvablePlaceholders&quot; value=&quot;true&quot; /&gt;\r\n\t\t&lt;property name=&quot;locations&quot;&gt;\r\n\t\t\t&lt;list&gt;\r\n\t\t\t\t&lt;bean parent=&quot;frameworkConfigResourceFactoryBean&quot;&gt;\r\n\t\t\t\t\t&lt;property name=&quot;resourceName&quot; value=&quot;framework-config.properties&quot; /&gt;\r\n\t\t\t\t&lt;/bean&gt;\r\n                &lt;bean ................&gt; &lt;/bean&gt;\r\n            &lt;/list&gt;\r\n\t\t&lt;/property&gt;\r\n\t&lt;/bean&gt;\r\n\r\n\r\nAnd in database-config.properties:\r\n\r\n     database.driver.class=com.mysql.jdbc.Driver\r\n     database.connection.url=${database.connection.url}\r\n     database.username=root\r\n     database.password=${database.password}\r\n\r\nAlso in filter.properties:\r\n\r\n     database.connection.url=jdbc:mysql://localhost:3306/MySQLDBName?rewriteBatchedStatements=true\r\n     database.password=root","title":"Can One property value be assigned to another property in other properties file","body":"<p>In my project, EncryptablePropertySourcesPlaceholderConfigurer has been used and then 'Resource [] locations' property of its parent 'PropertiesLoaderSupport' has been assigned each of the properties file that I want to load. I guess this is the reason I don't face any error.</p>\n\n<p>For Example:</p>\n\n<pre><code>&lt;bean id=\"frameworkPropertyPlaceholderConfigurer\"\n    class=\"org.jasypt.spring31.properties.EncryptablePropertySourcesPlaceholderConfigurer\"&gt;\n    &lt;constructor-arg ref=\"stringEncryptor\" /&gt;\n    &lt;property name=\"ignoreUnresolvablePlaceholders\" value=\"true\" /&gt;\n    &lt;property name=\"locations\"&gt;\n        &lt;list&gt;\n            &lt;bean parent=\"frameworkConfigResourceFactoryBean\"&gt;\n                &lt;property name=\"resourceName\" value=\"framework-config.properties\" /&gt;\n            &lt;/bean&gt;\n            &lt;bean ................&gt; &lt;/bean&gt;\n        &lt;/list&gt;\n    &lt;/property&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>And in database-config.properties:</p>\n\n<pre><code> database.driver.class=com.mysql.jdbc.Driver\n database.connection.url=${database.connection.url}\n database.username=root\n database.password=${database.password}\n</code></pre>\n\n<p>Also in filter.properties:</p>\n\n<pre><code> database.connection.url=jdbc:mysql://localhost:3306/MySQLDBName?rewriteBatchedStatements=true\n database.password=root\n</code></pre>\n"}],"owner":{"account_id":2217729,"reputation":363,"user_id":1957944,"display_name":"Nani"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7166,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1641309986,"creation_date":1375436911,"question_id":18013833,"body_markdown":"I have two `.properties` files in which i have same value for two properties each file. So I thought to refer one value to other as for example:\r\n\r\n1.config.properties  \r\n\r\n     path= /opt/logs/bundle\r\n\r\n2.default.properties\r\n\r\n`default =/opt/logs/bundle` (same as path in config.properties) \r\n\r\nNow here as default property value is same as path so i thought to give like:\r\n\r\n    default = {path}\r\n\r\nbut here i am not able to get that path. Can anyone please help me out. Thanks","title":"Can One property value be assigned to another property in other properties file","body":"<p>I have two <code>.properties</code> files in which i have same value for two properties each file. So I thought to refer one value to other as for example:</p>\n\n<p>1.config.properties  </p>\n\n<pre><code> path= /opt/logs/bundle\n</code></pre>\n\n<p>2.default.properties</p>\n\n<p><code>default =/opt/logs/bundle</code> (same as path in config.properties) </p>\n\n<p>Now here as default property value is same as path so i thought to give like:</p>\n\n<pre><code>default = {path}\n</code></pre>\n\n<p>but here i am not able to get that path. Can anyone please help me out. Thanks</p>\n"},{"tags":["java","gradle","build.gradle","noclassdeffounderror"],"answers":[{"tags":[],"owner":{"account_id":7719031,"reputation":2254,"user_id":5845802,"display_name":"PrasadU"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641309901,"creation_date":1641309901,"answer_id":70581156,"question_id":70576421,"body_markdown":"I see you are using spring-boot; you need to run `bootJar` or `bootWar` based on your needs which creates a uber (fat) jar ","title":"Gradle build successful but jar is showing NoClassDefFoundError","body":"<p>I see you are using spring-boot; you need to run <code>bootJar</code> or <code>bootWar</code> based on your needs which creates a uber (fat) jar</p>\n"}],"owner":{"account_id":16572433,"reputation":418,"user_id":11975168,"display_name":"Raj Singh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":697,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1641309901,"creation_date":1641287597,"question_id":70576421,"body_markdown":"I am new to gradle, when i run my application the build is successful and jar file is created but when I run the jar file, it gives me this NoClassDefFoundError error\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/s58nz.png\r\n\r\nI am trying to convert a maven project to Gradle, i first used gradle init to convert it into this,The pipeline succeeds on jenkins but on rancher it shows the same error in pod so i thought it might be a Docker issue so downloaded and ran the repo On Intelllij Locally. please help! I have been stuck on this issue for sometime.\r\nThis is my build.gradle file\r\n\r\n```\r\n\r\nbuildscript {\r\n    ext {\r\n        springBootVersion = &#39;2.5.5&#39;\r\n    }\r\n    repositories {\r\n        maven {\r\n            url = &#39;xyz/artifactory/edai-maven-virtual&#39;\r\n        }\r\n        maven {\r\n            url = &#39;xyz/artifactory/edai-maven-virtual&#39;\r\n        }\r\n        mavenCentral()\r\n        maven {\r\n            url &quot;https://plugins.gradle.org/m2/&quot;\r\n        }\r\n    }\r\n    dependencies {\r\n        classpath &quot;gradle.plugin.com.google.protobuf:protobuf-gradle-plugin:0.8.17&quot;\r\n    }\r\n    dependencies {\r\n        classpath(&quot;org.springframework.boot:spring-boot-gradle-plugin:${springBootVersion}&quot;)\r\n    }\r\n}\r\n\r\napply plugin: &#39;application&#39;\r\napply plugin: &#39;java&#39;\r\napply plugin: &#39;org.springframework.boot&#39;\r\napply plugin: &#39;io.spring.dependency-management&#39;\r\n\r\n//apply plugin: &#39;org.apache.maven.plugins&#39;\r\n//apply plugin: &#39;com.google.code.maven-replacer-plugin&#39;\r\n\r\n//mainClassName = &#39;DdBuildConfigServiceApplication&#39;\r\n\r\nrepositories {\r\n    maven {\r\n        maven {\r\n            url = &#39;xyz/artifactory/edai-maven-virtual&#39;\r\n        }\r\n    }\r\n    mavenCentral()\r\n    maven {\r\n        url &quot;https://plugins.gradle.org/m2/&quot;\r\n    }\r\n}\r\n\r\nversion= &#39;0.0.1&#39;\r\n\r\ndef grpcVersion = &#39;1.39.0&#39;\r\ndependencies {\r\n    implementation group: &#39;io.grpc&#39;, name: &#39;grpc-netty-shaded&#39;, version: &quot;${grpcVersion}&quot; // For SSL security\r\n    implementation group: &#39;io.grpc&#39;, name: &#39;grpc-protobuf&#39;, version: &quot;${grpcVersion}&quot;\r\n    implementation group: &#39;io.grpc&#39;, name: &#39;grpc-stub&#39;, version: &quot;${grpcVersion}&quot;\r\n    implementation group: &#39;com.google.api.grpc&#39;, name: &#39;googleapis-common-protos&#39;, version: &quot;0.0.3&quot;\r\n    implementation &#39;javax.annotation:javax.annotation-api:1.3.2&#39;\r\n\r\n    //SpringBoot dependency\r\n    implementation group: &#39;org.springframework.boot&#39;, name: &#39;spring-boot-starter-web&#39;, version: &#39;2.5.5&#39;\r\n    implementation group: &#39;org.springframework.boot&#39;, name: &#39;spring-boot-configuration-processor&#39;, version: &#39;2.5.5&#39;\r\n    implementation group: &#39;org.springframework.boot&#39;, name: &#39;spring-boot-starter&#39;, version: &#39;2.5.5&#39;\r\n    implementation group: &#39;org.springframework.boot&#39;, name: &#39;spring-boot-starter-actuator&#39;, version: &#39;2.5.5&#39;\r\n    implementation group: &#39;org.springframework.boot&#39;, name: &#39;spring-boot-starter-security&#39;, version: &#39;2.5.5&#39;\r\n    implementation group: &#39;org.springframework.boot&#39;, name: &#39;spring-boot-devtools&#39;, version: &#39;2.5.5&#39;\r\n    implementation group: &#39;org.springframework.boot&#39;, name: &#39;spring-boot-starter-tomcat&#39;, version: &#39;2.5.5&#39;\r\n    //implementation group: &#39;org.springframework.boot&#39;, name: &#39;spring-core&#39;, version: &#39;5.3.7&#39;\r\n    implementation group: &#39;org.springframework.boot&#39;, name: &#39;spring-boot-starter-logging&#39;, version: &#39;2.5.5&#39;\r\n    implementation group: &#39;org.springframework.boot&#39;, name: &#39;spring-boot-starter-webflux&#39;, version: &#39;2.5.5&#39;\r\n    implementation group: &#39;org.springframework.boot&#39;, name: &#39;spring-boot-starter-mail&#39;, version: &#39;2.5.5&#39;\r\n    implementation group: &#39;org.springframework.boot&#39;, name: &#39;spring-boot-starter-thymeleaf&#39;, version: &#39;2.5.5&#39;\r\n    testImplementation group: &#39;org.springframework.boot&#39;, name: &#39;spring-boot-starter-test&#39;, version: &#39;2.5.5&#39;\r\n\r\n    \r\n\r\n}\r\n\r\n\r\njar {\r\n  manifest {\r\n    attributes(&#39;Main-Class&#39;:&#39;com.xyz.ddconfig.DdBuildConfigServiceApplication&#39;)\r\n       \r\n  } \r\n}\r\nsourceSets {\r\n    main {\r\n        java {\r\n            srcDirs = [&#39;/src/main/java&#39;]\r\n        }\r\n        resources {\r\n            srcDirs = [&#39;/src/main/resources&#39;]\r\n        }\r\n    }\r\n}\r\n\r\ntasks.jar {\r\n    enabled = true\r\n    // Remove `plain` postfix from jar file name\r\n    archiveClassifier.set(&quot;&quot;)\r\n}\r\n\r\ntasks.named(&#39;test&#39;) {\r\n    useJUnitPlatform()\r\n}\r\n\r\napplication {\r\n    // Define the main class for the application.\r\n  mainClass = &#39;com.xyz.ddconfig.DdBuildConfigServiceApplication&#39;\r\n}\r\n\r\n```","title":"Gradle build successful but jar is showing NoClassDefFoundError","body":"<p>I am new to gradle, when i run my application the build is successful and jar file is created but when I run the jar file, it gives me this NoClassDefFoundError error\n<a href=\"https://i.stack.imgur.com/s58nz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/s58nz.png\" alt=\"enter image description here\" /></a></p>\n<p>I am trying to convert a maven project to Gradle, i first used gradle init to convert it into this,The pipeline succeeds on jenkins but on rancher it shows the same error in pod so i thought it might be a Docker issue so downloaded and ran the repo On Intelllij Locally. please help! I have been stuck on this issue for sometime.\nThis is my build.gradle file</p>\n<pre><code>\nbuildscript {\n    ext {\n        springBootVersion = '2.5.5'\n    }\n    repositories {\n        maven {\n            url = 'xyz/artifactory/edai-maven-virtual'\n        }\n        maven {\n            url = 'xyz/artifactory/edai-maven-virtual'\n        }\n        mavenCentral()\n        maven {\n            url &quot;https://plugins.gradle.org/m2/&quot;\n        }\n    }\n    dependencies {\n        classpath &quot;gradle.plugin.com.google.protobuf:protobuf-gradle-plugin:0.8.17&quot;\n    }\n    dependencies {\n        classpath(&quot;org.springframework.boot:spring-boot-gradle-plugin:${springBootVersion}&quot;)\n    }\n}\n\napply plugin: 'application'\napply plugin: 'java'\napply plugin: 'org.springframework.boot'\napply plugin: 'io.spring.dependency-management'\n\n//apply plugin: 'org.apache.maven.plugins'\n//apply plugin: 'com.google.code.maven-replacer-plugin'\n\n//mainClassName = 'DdBuildConfigServiceApplication'\n\nrepositories {\n    maven {\n        maven {\n            url = 'xyz/artifactory/edai-maven-virtual'\n        }\n    }\n    mavenCentral()\n    maven {\n        url &quot;https://plugins.gradle.org/m2/&quot;\n    }\n}\n\nversion= '0.0.1'\n\ndef grpcVersion = '1.39.0'\ndependencies {\n    implementation group: 'io.grpc', name: 'grpc-netty-shaded', version: &quot;${grpcVersion}&quot; // For SSL security\n    implementation group: 'io.grpc', name: 'grpc-protobuf', version: &quot;${grpcVersion}&quot;\n    implementation group: 'io.grpc', name: 'grpc-stub', version: &quot;${grpcVersion}&quot;\n    implementation group: 'com.google.api.grpc', name: 'googleapis-common-protos', version: &quot;0.0.3&quot;\n    implementation 'javax.annotation:javax.annotation-api:1.3.2'\n\n    //SpringBoot dependency\n    implementation group: 'org.springframework.boot', name: 'spring-boot-starter-web', version: '2.5.5'\n    implementation group: 'org.springframework.boot', name: 'spring-boot-configuration-processor', version: '2.5.5'\n    implementation group: 'org.springframework.boot', name: 'spring-boot-starter', version: '2.5.5'\n    implementation group: 'org.springframework.boot', name: 'spring-boot-starter-actuator', version: '2.5.5'\n    implementation group: 'org.springframework.boot', name: 'spring-boot-starter-security', version: '2.5.5'\n    implementation group: 'org.springframework.boot', name: 'spring-boot-devtools', version: '2.5.5'\n    implementation group: 'org.springframework.boot', name: 'spring-boot-starter-tomcat', version: '2.5.5'\n    //implementation group: 'org.springframework.boot', name: 'spring-core', version: '5.3.7'\n    implementation group: 'org.springframework.boot', name: 'spring-boot-starter-logging', version: '2.5.5'\n    implementation group: 'org.springframework.boot', name: 'spring-boot-starter-webflux', version: '2.5.5'\n    implementation group: 'org.springframework.boot', name: 'spring-boot-starter-mail', version: '2.5.5'\n    implementation group: 'org.springframework.boot', name: 'spring-boot-starter-thymeleaf', version: '2.5.5'\n    testImplementation group: 'org.springframework.boot', name: 'spring-boot-starter-test', version: '2.5.5'\n\n    \n\n}\n\n\njar {\n  manifest {\n    attributes('Main-Class':'com.xyz.ddconfig.DdBuildConfigServiceApplication')\n       \n  } \n}\nsourceSets {\n    main {\n        java {\n            srcDirs = ['/src/main/java']\n        }\n        resources {\n            srcDirs = ['/src/main/resources']\n        }\n    }\n}\n\ntasks.jar {\n    enabled = true\n    // Remove `plain` postfix from jar file name\n    archiveClassifier.set(&quot;&quot;)\n}\n\ntasks.named('test') {\n    useJUnitPlatform()\n}\n\napplication {\n    // Define the main class for the application.\n  mainClass = 'com.xyz.ddconfig.DdBuildConfigServiceApplication'\n}\n\n</code></pre>\n"},{"tags":["java","sql","oracle","timeout"],"comments":[{"owner":{"account_id":1938802,"reputation":12091,"user_id":1745544,"accept_rate":23,"display_name":"OldProgrammer"},"score":0,"creation_date":1641309915,"post_id":70581122,"comment_id":124768957,"body_markdown":"You need to show some relevant debugging details.","body":"You need to show some relevant debugging details."},{"owner":{"account_id":5226322,"reputation":2046,"user_id":4178262,"display_name":"Mark Stewart"},"score":0,"creation_date":1641310558,"post_id":70581122,"comment_id":124769265,"body_markdown":"And besides debugging details you&#39;ve done, please [edit] your question to include what version of Oracle.  Are all input files causing problems?  Did this process ever work in the past?","body":"And besides debugging details you&#39;ve done, please <a href=\"https://stackoverflow.com/posts/70581122/edit\">edit</a> your question to include what version of Oracle.  Are all input files causing problems?  Did this process ever work in the past?"}],"owner":{"account_id":21654740,"reputation":17,"user_id":15974760,"display_name":"Caleb Board"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1641309795,"creation_date":1641309795,"question_id":70581122,"body_markdown":"A website I help operate has a problem where when they need to upload a certain file, to run sql commands based off of data in it, it keeps giving them a gateway timeout error.\r\n\r\nI tried running it locally and I get the same error in the same place, but the debug states that the sql commands are still running in the background when the timeout occurrs, and they appear to be successful.\r\n\r\nI would believe it is a server error, but it concerns me that it happens only at this part. Could it be some kind of error in the code that causes this? If so, how can I fix it?\r\n\r\nThe program uses Java 6 and connects to an Oracle SQL Database.\r\n\r\nAny kind of advice as to what could cause this kind of problem would be appreciated.","title":"Gateway Timeout Error Occurrs at Exact Same Spot in Program","body":"<p>A website I help operate has a problem where when they need to upload a certain file, to run sql commands based off of data in it, it keeps giving them a gateway timeout error.</p>\n<p>I tried running it locally and I get the same error in the same place, but the debug states that the sql commands are still running in the background when the timeout occurrs, and they appear to be successful.</p>\n<p>I would believe it is a server error, but it concerns me that it happens only at this part. Could it be some kind of error in the code that causes this? If so, how can I fix it?</p>\n<p>The program uses Java 6 and connects to an Oracle SQL Database.</p>\n<p>Any kind of advice as to what could cause this kind of problem would be appreciated.</p>\n"},{"tags":["java","enums"],"comments":[{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":1,"creation_date":1638379356,"post_id":70188503,"comment_id":124074277,"body_markdown":"What about argument like `Arrays.asList(&quot;ST&quot;, &quot;RC&quot;)`? Is such case possible? If yes what should be result (`MA_ON`, `CODE` or something else)?","body":"What about argument like <code>Arrays.asList(&quot;ST&quot;, &quot;RC&quot;)</code>? Is such case possible? If yes what should be result (<code>MA_ON</code>, <code>CODE</code> or something else)?"},{"owner":{"account_id":1471077,"reputation":5601,"user_id":1382647,"accept_rate":43,"display_name":"fatherazrael"},"score":0,"creation_date":1638379547,"post_id":70188503,"comment_id":124074363,"body_markdown":"@Pshemo: Yes i asked this, then they said pick the first one","body":"@Pshemo: Yes i asked this, then they said pick the first one"}],"answers":[{"tags":[],"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1641309688,"creation_date":1638381326,"answer_id":70189050,"question_id":70188503,"body_markdown":"If I understood your problem correctly all you need is to \r\n\r\n- know how many common strings has `codes` and `values` (for each enum)\r\n- filter out those with no common elements\r\n- pick one with maximum amount of common elements (or in case of many maxes first one from them)\r\n\r\nTo simplify our job we can create helper method to find only common elements in two lists. It can look like (I am assuming your Lists will have only unique elements)\r\n\r\n    private static List&lt;String&gt; commonElements(List&lt;String&gt; list1, List&lt;String&gt; list2) {\r\n        List&lt;String&gt; common = new ArrayList&lt;&gt;(list1); // to avoid modifying `list1`\r\n        common.retainAll(list2); // leaves in `common` only elements from `list2`\r\n        return common;\r\n    }\r\n\r\nWith this we can\r\n \r\n- map each enum to pair containing `enum, amountOfCommonElements` (we can use `Map.entry` to create pairs), \r\n- filter pairs where `amountOfCommonElements` is 0, \r\n- pick pair with max `amountOfCommonElements`\r\n- get from that pair only `enum`.\r\n\r\nDemo:\r\n\r\n```\r\nenum Rara {\r\n    MA_ON(&quot;ST&quot;),\r\n    MA_MAN(&quot;ST&quot;, &quot;YS&quot;),\r\n    MA_IP(&quot;ST&quot;, &quot;YS&quot;, &quot;IC&quot;),\r\n    CODE(&quot;RC&quot;);\r\n\r\n    Rara(String... codes) {\r\n        this.codes = List.of(codes);\r\n    }\r\n\r\n    private List&lt;String&gt; codes;\r\n\r\n    private static List&lt;String&gt; commonElements(List&lt;String&gt; list1, List&lt;String&gt; list2) {\r\n        List&lt;String&gt; common = new ArrayList&lt;&gt;(list1); // to avoid modifying `list1`\r\n        common.retainAll(list2); // leaves in `common` only elements from `list2`\r\n        return common;\r\n    }\r\n\r\n    public static Optional&lt;Rara&gt; getValue(List&lt;String&gt; values){\r\n        return Arrays.stream(values())\r\n                .map(en -&gt; Map.entry(en, commonElements(en.codes, values).size()))\r\n                .filter(entry -&gt; entry.getValue()&gt;0)\r\n                .max(Comparator.comparing(Map.Entry::getValue))\r\n                .map(Map.Entry::getKey);\r\n    }\r\n\r\n}\r\n\r\n class Main {\r\n    public static void main(String args[]){\r\n        System.out.println(Rara.getValue(Arrays.asList(&quot;ST&quot;, &quot;YS&quot;)));\r\n        // Optional[MA_MAN]\r\n\r\n        System.out.println(Rara.getValue(Arrays.asList(&quot;ST&quot;)));\r\n        // Optional[MA_ON]\r\n\r\n        System.out.println(Rara.getValue(Arrays.asList(&quot;ST&quot;, &quot;RC&quot;)));\r\n        // Optional[MA_ON]\r\n\r\n        System.out.println(Rara.getValue(Arrays.asList(&quot;STB&quot;, &quot;RCC&quot;)));\r\n        //Optional.empty\r\n    }\r\n}\r\n```","title":"How to compare &#39;list of string&#39; with &#39;enum string values&#39; to return maximum match?","body":"<p>If I understood your problem correctly all you need is to</p>\n<ul>\n<li>know how many common strings has <code>codes</code> and <code>values</code> (for each enum)</li>\n<li>filter out those with no common elements</li>\n<li>pick one with maximum amount of common elements (or in case of many maxes first one from them)</li>\n</ul>\n<p>To simplify our job we can create helper method to find only common elements in two lists. It can look like (I am assuming your Lists will have only unique elements)</p>\n<pre><code>private static List&lt;String&gt; commonElements(List&lt;String&gt; list1, List&lt;String&gt; list2) {\n    List&lt;String&gt; common = new ArrayList&lt;&gt;(list1); // to avoid modifying `list1`\n    common.retainAll(list2); // leaves in `common` only elements from `list2`\n    return common;\n}\n</code></pre>\n<p>With this we can</p>\n<ul>\n<li>map each enum to pair containing <code>enum, amountOfCommonElements</code> (we can use <code>Map.entry</code> to create pairs),</li>\n<li>filter pairs where <code>amountOfCommonElements</code> is 0,</li>\n<li>pick pair with max <code>amountOfCommonElements</code></li>\n<li>get from that pair only <code>enum</code>.</li>\n</ul>\n<p>Demo:</p>\n<pre><code>enum Rara {\n    MA_ON(&quot;ST&quot;),\n    MA_MAN(&quot;ST&quot;, &quot;YS&quot;),\n    MA_IP(&quot;ST&quot;, &quot;YS&quot;, &quot;IC&quot;),\n    CODE(&quot;RC&quot;);\n\n    Rara(String... codes) {\n        this.codes = List.of(codes);\n    }\n\n    private List&lt;String&gt; codes;\n\n    private static List&lt;String&gt; commonElements(List&lt;String&gt; list1, List&lt;String&gt; list2) {\n        List&lt;String&gt; common = new ArrayList&lt;&gt;(list1); // to avoid modifying `list1`\n        common.retainAll(list2); // leaves in `common` only elements from `list2`\n        return common;\n    }\n\n    public static Optional&lt;Rara&gt; getValue(List&lt;String&gt; values){\n        return Arrays.stream(values())\n                .map(en -&gt; Map.entry(en, commonElements(en.codes, values).size()))\n                .filter(entry -&gt; entry.getValue()&gt;0)\n                .max(Comparator.comparing(Map.Entry::getValue))\n                .map(Map.Entry::getKey);\n    }\n\n}\n\n class Main {\n    public static void main(String args[]){\n        System.out.println(Rara.getValue(Arrays.asList(&quot;ST&quot;, &quot;YS&quot;)));\n        // Optional[MA_MAN]\n\n        System.out.println(Rara.getValue(Arrays.asList(&quot;ST&quot;)));\n        // Optional[MA_ON]\n\n        System.out.println(Rara.getValue(Arrays.asList(&quot;ST&quot;, &quot;RC&quot;)));\n        // Optional[MA_ON]\n\n        System.out.println(Rara.getValue(Arrays.asList(&quot;STB&quot;, &quot;RCC&quot;)));\n        //Optional.empty\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1471077,"reputation":5601,"user_id":1382647,"accept_rate":43,"display_name":"fatherazrael"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70189050,"answer_count":1,"score":0,"last_activity_date":1641309688,"creation_date":1638378921,"question_id":70188503,"body_markdown":"The current code send `List&lt;String&gt;` but returns Enum if all values matches\r\n\r\n    import java.util.Arrays;\r\n    import java.util.List;\r\n    import java.util.Optional;\r\n    \r\n    public enum Rara {\r\n        MA_ON(&quot;ST&quot;),\r\n        MA_MAN(&quot;ST&quot;, &quot;YS&quot;),\r\n        MA_IP(&quot;ST&quot;, &quot;YS&quot;, &quot;IC&quot;),\r\n        CODE(&quot;RC&quot;);\r\n    \r\n        Rara(String... codes) {\r\n            this.codes = List.of(codes);\r\n        }\r\n    \r\n        private List&lt;String&gt; codes;\r\n    \r\n        public static Optional&lt;Rara&gt; getValue(List&lt;String&gt; values){\r\n            return Arrays.stream(values())\r\n                    .filter(rara -&gt; rara.codes.containsAll(values))\r\n                    .findFirst();\r\n        }\r\n    }\r\n\r\n    public class Main {\r\n      public static void main(String args[]){\r\n        System.out.println(Rara.getValue(Arrays.asList(&quot;ST&quot;, &quot;YS&quot;)));  \r\n              // Optional[MA_MAN]\r\n\r\n        System.out.println(Rara.getValue(Arrays.asList(&quot;ST&quot;)));  \r\n              // Optional[MA_ON]\r\n      }\r\n    }\r\n\r\nBut now requirements are if we get List as then max match enum should be returned\r\n\r\n    System.out.println(Rara.getValue(Arrays.asList(&quot;ST&quot;, &quot;YS&quot;, &quot;IC&quot;, &quot;BLABLA&quot;)));  \r\n     //Should return MA_IP\r\n    System.out.println(Rara.getValue(Arrays.asList(&quot;ST&quot;, &quot;Bla&quot;, &quot;Blabla&quot;, &quot;BLABLA&quot;)));  \r\n    //Should return MA_ON\r\n\r\nNote: IN case of ST &amp; RC or any conflicting We need to pick the first one. (Like ST, RC we can pick MA_ON)\r\n\r\ncan anyone suggest how to achieve in same enum in getValue? (In place of containsALL if i add contains then it doesn&#39;t work. Not sure if it requires some maxmatch etc)\r\n\r\n","title":"How to compare &#39;list of string&#39; with &#39;enum string values&#39; to return maximum match?","body":"<p>The current code send <code>List&lt;String&gt;</code> but returns Enum if all values matches</p>\n<pre><code>import java.util.Arrays;\nimport java.util.List;\nimport java.util.Optional;\n\npublic enum Rara {\n    MA_ON(&quot;ST&quot;),\n    MA_MAN(&quot;ST&quot;, &quot;YS&quot;),\n    MA_IP(&quot;ST&quot;, &quot;YS&quot;, &quot;IC&quot;),\n    CODE(&quot;RC&quot;);\n\n    Rara(String... codes) {\n        this.codes = List.of(codes);\n    }\n\n    private List&lt;String&gt; codes;\n\n    public static Optional&lt;Rara&gt; getValue(List&lt;String&gt; values){\n        return Arrays.stream(values())\n                .filter(rara -&gt; rara.codes.containsAll(values))\n                .findFirst();\n    }\n}\n\npublic class Main {\n  public static void main(String args[]){\n    System.out.println(Rara.getValue(Arrays.asList(&quot;ST&quot;, &quot;YS&quot;)));  \n          // Optional[MA_MAN]\n\n    System.out.println(Rara.getValue(Arrays.asList(&quot;ST&quot;)));  \n          // Optional[MA_ON]\n  }\n}\n</code></pre>\n<p>But now requirements are if we get List as then max match enum should be returned</p>\n<pre><code>System.out.println(Rara.getValue(Arrays.asList(&quot;ST&quot;, &quot;YS&quot;, &quot;IC&quot;, &quot;BLABLA&quot;)));  \n //Should return MA_IP\nSystem.out.println(Rara.getValue(Arrays.asList(&quot;ST&quot;, &quot;Bla&quot;, &quot;Blabla&quot;, &quot;BLABLA&quot;)));  \n//Should return MA_ON\n</code></pre>\n<p>Note: IN case of ST &amp; RC or any conflicting We need to pick the first one. (Like ST, RC we can pick MA_ON)</p>\n<p>can anyone suggest how to achieve in same enum in getValue? (In place of containsALL if i add contains then it doesn't work. Not sure if it requires some maxmatch etc)</p>\n"},{"tags":["java","android","android-studio","settings"],"answers":[{"tags":[],"owner":{"account_id":9141547,"reputation":573,"user_id":6799230,"display_name":"Pierre Janineh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1641309313,"creation_date":1641309313,"answer_id":70581010,"question_id":70580688,"body_markdown":"Try this:\r\n---------\r\n\r\n```kotlin\r\nfun getLockscreenNotificationsEnabled(context: Context) =\r\n    android.provider.Settings.Secure.getInt(\r\n        context.contentResolver,\r\n        &quot;lock_screen_show_notifications&quot;, 0\r\n    ) != 0\r\n```","title":"How can i check lock screen notifcation is enabled or not programmatically","body":"<h2>Try this:</h2>\n<pre class=\"lang-kotlin prettyprint-override\"><code>fun getLockscreenNotificationsEnabled(context: Context) =\n    android.provider.Settings.Secure.getInt(\n        context.contentResolver,\n        &quot;lock_screen_show_notifications&quot;, 0\n    ) != 0\n</code></pre>\n"}],"owner":{"account_id":19458785,"reputation":5,"user_id":14233487,"display_name":"Geetika Sachdeva"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":135,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70581010,"answer_count":1,"score":0,"last_activity_date":1641309313,"creation_date":1641308045,"question_id":70580688,"body_markdown":"I want to check that user has enabled lock screen notifications or not.\r\nSettings -&gt; Notifications -&gt; Lock Screen Notifications\r\n\r\n\r\nBut I am not able to find any code regarding this. ","title":"How can i check lock screen notifcation is enabled or not programmatically","body":"<p>I want to check that user has enabled lock screen notifications or not.\nSettings -&gt; Notifications -&gt; Lock Screen Notifications</p>\n<p>But I am not able to find any code regarding this.</p>\n"},{"tags":["java","android","debugging","android-version"],"comments":[{"owner":{"account_id":1654563,"reputation":57569,"user_id":1524450,"display_name":"Michael"},"score":1,"creation_date":1634318506,"post_id":69588381,"comment_id":123000676,"body_markdown":"You may want to use [the AndroidX libraries](https://developer.android.com/jetpack/androidx) as much as possible instead of using the corresponding Android platform APIs directly. As far as testing on different devices is concerned, you could look into using Firebase Test Lab or other similar services.","body":"You may want to use <a href=\"https://developer.android.com/jetpack/androidx\" rel=\"nofollow noreferrer\">the AndroidX libraries</a> as much as possible instead of using the corresponding Android platform APIs directly. As far as testing on different devices is concerned, you could look into using Firebase Test Lab or other similar services."},{"owner":{"account_id":22447115,"reputation":108,"user_id":16650865,"display_name":"UserOfStackOverFlow"},"score":0,"creation_date":1634318572,"post_id":69588381,"comment_id":123000697,"body_markdown":"As I know Firebase Test Lab not work well, but I&#39;ll check.","body":"As I know Firebase Test Lab not work well, but I&#39;ll check."}],"owner":{"account_id":22447115,"reputation":108,"user_id":16650865,"display_name":"UserOfStackOverFlow"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1641308974,"creation_date":1634318147,"question_id":69588381,"body_markdown":"Some Android codes (Java) work on specific versions and others throw exceptions/errors.\r\n\r\nThis is very common, so much so that achieving a stable version of an application usually requires a lot of testing and in several different versions.\r\n\r\nWhat would be the tip to solve this problem? I heard that developing testing on a device with the latest version would guarantee compatibility compatibility for the olders, is this true?\r\n\r\nAre there any `tags` where we can organize questions regarding version compatibility?","title":"How to maintain application compatibility between Android versions?","body":"<p>Some Android codes (Java) work on specific versions and others throw exceptions/errors.</p>\n<p>This is very common, so much so that achieving a stable version of an application usually requires a lot of testing and in several different versions.</p>\n<p>What would be the tip to solve this problem? I heard that developing testing on a device with the latest version would guarantee compatibility compatibility for the olders, is this true?</p>\n<p>Are there any <code>tags</code> where we can organize questions regarding version compatibility?</p>\n"},{"tags":["java","android","android-recyclerview","androidx"],"answers":[{"tags":[],"owner":{"account_id":13099052,"reputation":747,"user_id":9464051,"display_name":"deluxe1"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1641308922,"creation_date":1641308546,"answer_id":70580818,"question_id":70580202,"body_markdown":"As far as I can see, you have a problem with your references. First you declare your adapter with an empty instance of the ArrayList, which is okay. The adapter is now connected with this ArrayList. But then you reassign the list to another instance, that is, the one returned from \r\n\r\n    mSqliteOpenHelper.getHistory()\r\n\r\nIf you compare the two instances, you&#39;d notice that they are not the same. What you should do is add the results from &#39;mSqliteOpenHelper.getHistory()&#39; to the list that is already connected with the adapter (the empty ArrayList you have already defined), using &#39;addAll()&#39;.\r\n\r\n\r\nEDIT:\r\nJust to make myself clearer: \r\nIn the beginning you declare and initialize your list\r\n\r\n    private ArrayList&lt;HistoryType&gt; mHistoryList = new ArrayList&lt;&gt;();\r\nLet&#39;s call this instance Instance#1. You set Instance#1 as the data source to the adapter. The adapter now has an empty data source.\r\n\r\nAfterwards, you reassign this list\r\n\r\n            mHistoryList = mSqliteOpenHelper.getHistory();\r\nThis is a different ArrayList instance, let&#39;s call it Instance#2. And although the mHistoryList variable holds this instance, the adapter is still linked with Instance#1, only you don&#39;t have a reference to it anymore. So the adapter is linked with the empty ArrayList (Instance#1), rather than the one that has data (Instance#2). \r\nDon&#39;t reassign the variable, make it final. ArrayList is mutable, so you can add data to it. So, add the data to it and notify the adapter that it has been changed.\r\n\r\nLet me know if you have any questions","title":"Android RecyclerView is showing nothing","body":"<p>As far as I can see, you have a problem with your references. First you declare your adapter with an empty instance of the ArrayList, which is okay. The adapter is now connected with this ArrayList. But then you reassign the list to another instance, that is, the one returned from</p>\n<pre><code>mSqliteOpenHelper.getHistory()\n</code></pre>\n<p>If you compare the two instances, you'd notice that they are not the same. What you should do is add the results from 'mSqliteOpenHelper.getHistory()' to the list that is already connected with the adapter (the empty ArrayList you have already defined), using 'addAll()'.</p>\n<p>EDIT:\nJust to make myself clearer:\nIn the beginning you declare and initialize your list</p>\n<pre><code>private ArrayList&lt;HistoryType&gt; mHistoryList = new ArrayList&lt;&gt;();\n</code></pre>\n<p>Let's call this instance Instance#1. You set Instance#1 as the data source to the adapter. The adapter now has an empty data source.</p>\n<p>Afterwards, you reassign this list</p>\n<pre><code>        mHistoryList = mSqliteOpenHelper.getHistory();\n</code></pre>\n<p>This is a different ArrayList instance, let's call it Instance#2. And although the mHistoryList variable holds this instance, the adapter is still linked with Instance#1, only you don't have a reference to it anymore. So the adapter is linked with the empty ArrayList (Instance#1), rather than the one that has data (Instance#2).\nDon't reassign the variable, make it final. ArrayList is mutable, so you can add data to it. So, add the data to it and notify the adapter that it has been changed.</p>\n<p>Let me know if you have any questions</p>\n"}],"owner":{"account_id":23825383,"reputation":25,"user_id":17832519,"display_name":"Benne"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":140,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70580818,"answer_count":1,"score":1,"last_activity_date":1641308922,"creation_date":1641305992,"question_id":70580202,"body_markdown":"I created an app which has an RecyclerView inside a Fragment to display data from a database.\r\nSome weeks ago I created another app with a RecyclerView with android support package and everything was fine. Now, with androidx, the view shows nothing. \r\nHere is my RecyclerViewAdapter class: \r\n\r\n```\r\npublic class HistoryRecyclerViewAdapter extends RecyclerView.Adapter&lt;HistoryRecyclerViewAdapter.ViewHolder&gt; {\r\n    private static final String TAG = &quot;HistoryRecyclerView&quot;;\r\n\r\n    private List&lt;HistoryType&gt; mHistory;\r\n\r\n    HistoryRecyclerViewAdapter(List&lt;HistoryType&gt; history){\r\n        mHistory = history;\r\n    }\r\n\r\n    @Override\r\n    public ViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\r\n        Context context = parent.getContext();\r\n        LayoutInflater inflater = LayoutInflater.from(context);\r\n\r\n        View historyView = inflater.inflate(R.layout.history_list_item,parent,false);\r\n\r\n        ViewHolder viewHolder = new ViewHolder(historyView);\r\n        return viewHolder;\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull ViewHolder holder, int position) {\r\n        HistoryType history = mHistory.get(position);\r\n\r\n        SimpleDateFormat formatter;\r\n        Calendar calendar;\r\n\r\n\r\n        TextView nameText = holder.mNameText;\r\n        nameText.setText(history.getName());\r\n\r\n        TextView durationText = holder.mDurationText;\r\n        formatter = new SimpleDateFormat(&quot;HH:mm:ss&quot;);\r\n        calendar = Calendar.getInstance();\r\n        calendar.setTimeInMillis(history.getDuration());\r\n        String durationString = formatter.format(calendar.getTime());\r\n        durationText.setText(durationString);\r\n\r\n        TextView distanceText = holder.mDistanceText;\r\n        distanceText.setText(String.format(&quot;%.2f km&quot;,history.getDistance()));\r\n\r\n        TextView totalAirTimeText = holder.mTotalAirTimeText;\r\n        formatter = new SimpleDateFormat(&quot;mm:ss.SS&quot;);\r\n        calendar = Calendar.getInstance();\r\n        calendar.setTimeInMillis(history.getTotalAirTime());\r\n        String totalAirTimeString = formatter.format(calendar.getTime());\r\n        totalAirTimeText.setText(totalAirTimeString);\r\n\r\n        TextView dateText= holder.mDateText;\r\n        formatter = new SimpleDateFormat(&quot;dd MMMM yyyy&quot;);\r\n        String dateString = formatter.format(history.getDate());\r\n        dateText.setText(dateString);\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return mHistory.size();\r\n    }\r\n\r\n\r\n    public class ViewHolder extends RecyclerView.ViewHolder{\r\n\r\n        public TextView mNameText;\r\n        public TextView mDurationText;\r\n        public TextView mDistanceText;\r\n        public TextView mTotalAirTimeText;\r\n        public TextView mDateText;\r\n\r\n        public ViewHolder(View itemView) {\r\n            super(itemView);\r\n\r\n            mNameText = (TextView) itemView.findViewById(R.id.history_name);\r\n            mDurationText = (TextView) itemView.findViewById(R.id.history_duration);\r\n            mDistanceText = (TextView) itemView.findViewById(R.id.history_distance);\r\n            mTotalAirTimeText = (TextView) itemView.findViewById(R.id.history_airtime);\r\n            mDateText = (TextView) itemView.findViewById(R.id.history_date);\r\n\r\n        }\r\n    }\r\n```\r\n\r\nAnd here the fragment, calling the adapter (the ArrayList has one item): \r\n```\r\npublic class HistoryFragment extends Fragment {\r\n\r\n    private ArrayList&lt;HistoryType&gt; mHistoryList = new ArrayList&lt;&gt;();\r\n    private RecyclerView mRecyclerView;\r\n    private HistoryRecyclerViewAdapter mHistoryAdapter;\r\n    private SQLiteOpenHelper mSqliteOpenHelper;\r\n    @Nullable\r\n    @Override\r\n    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\r\n        View view = inflater.inflate(R.layout.fragment_history, container, false);\r\n\r\n        mRecyclerView = (RecyclerView) view.findViewById(R.id.history_recycler);\r\n\r\n        return view;\r\n    }\r\n\r\n    @Override\r\n    public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\r\n        super.onViewCreated(view, savedInstanceState);\r\n        mHistoryAdapter = new HistoryRecyclerViewAdapter(mHistoryList);\r\n\r\n        mRecyclerView.setLayoutManager(new LinearLayoutManager(view.getContext()));\r\n        mRecyclerView.setAdapter(mHistoryAdapter);\r\n\r\n        mSqliteOpenHelper = new SQLiteOpenHelper(getActivity());\r\n        mHistoryList = mSqliteOpenHelper.getHistory();\r\n\r\n        for (HistoryType dataSet: mHistoryList) {\r\n            mHistoryAdapter.notifyItemInserted(mHistoryList.indexOf(dataSet));\r\n        }\r\n\r\n    }\r\n```\r\n\r\n**fragment_history.xml**\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.recyclerview.widget.RecyclerView\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:id=&quot;@+id/history_recycler&quot;\r\n    android:layout_marginLeft=&quot;@dimen/text_margin&quot;\r\n    android:layout_marginRight=&quot;@dimen/text_margin&quot;\r\n    app:layoutManager=&quot;androidx.recyclerview.widget.LinearLayoutManager&quot;/&gt;\r\n```\r\n\r\n**history_list_item.xml**\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\r\n\r\n    //Name\r\n    &lt;TextView\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:id=&quot;@+id/history_name&quot;\r\n        android:layout_margin=&quot;@dimen/text_margin&quot;\r\n        android:text=&quot;activity name&quot;\r\n        app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        android:textSize=&quot;@dimen/big_text_size&quot;\r\n        android:textStyle=&quot;bold&quot;\r\n        /&gt;\r\n\r\n    //Duration\r\n    &lt;ImageView\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:id=&quot;@+id/history_duration_icon&quot;\r\n        android:layout_marginTop=&quot;@dimen/text_margin&quot;\r\n        android:layout_marginRight=&quot;@dimen/icon_margin&quot;\r\n        android:layout_marginLeft=&quot;@dimen/text_margin&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@id/history_name&quot;\r\n        app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n        android:background=&quot;@drawable/timer_24&quot; /&gt;\r\n\r\n    &lt;TextView\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:id=&quot;@+id/history_duration&quot;\r\n        android:text=&quot;01.01.2021&quot;\r\n        android:layout_margin=&quot;@dimen/text_margin&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@id/history_name&quot;\r\n        app:layout_constraintLeft_toRightOf=&quot;@id/history_duration_icon&quot;\r\n        android:textSize=&quot;@dimen/medium_text_size&quot;/&gt;\r\n\r\n    //Distance\r\n    &lt;ImageView\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:id=&quot;@+id/history_distance_icon&quot;\r\n        android:layout_marginTop=&quot;@dimen/text_margin&quot;\r\n        android:layout_marginLeft=&quot;@dimen/text_margin&quot;\r\n        android:layout_marginRight=&quot;@dimen/icon_margin&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@id/history_name&quot;\r\n        app:layout_constraintLeft_toRightOf=&quot;@id/history_duration&quot;\r\n        android:background=&quot;@drawable/arrow_right_alt_24&quot;/&gt;\r\n\r\n    &lt;TextView\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:id=&quot;@+id/history_distance&quot;\r\n        android:text=&quot;1h 35min&quot;\r\n        android:layout_marginTop=&quot;@dimen/text_margin&quot;\r\n        android:layout_marginLeft=&quot;@dimen/icon_margin&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@id/history_name&quot;\r\n        app:layout_constraintLeft_toRightOf=&quot;@id/history_distance_icon&quot;\r\n        android:textSize=&quot;@dimen/medium_text_size&quot;/&gt;\r\n\r\n    //Total Airtime\r\n    &lt;ImageView\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:id=&quot;@+id/history_airtime_icon&quot;\r\n        android:layout_marginTop=&quot;@dimen/text_margin&quot;\r\n        android:layout_marginLeft=&quot;@dimen/text_margin&quot;\r\n        android:layout_marginRight=&quot;@dimen/icon_margin&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@id/history_name&quot;\r\n        app:layout_constraintLeft_toRightOf=&quot;@id/history_distance&quot;\r\n        android:background=&quot;@drawable/keyboard_arrow_up_24&quot;/&gt;\r\n\r\n    &lt;TextView\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:id=&quot;@+id/history_airtime&quot;\r\n        android:text=&quot;1h 35min&quot;\r\n        android:layout_marginTop=&quot;@dimen/text_margin&quot;\r\n        android:layout_marginLeft=&quot;@dimen/icon_margin&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@id/history_name&quot;\r\n        app:layout_constraintLeft_toRightOf=&quot;@id/history_airtime_icon&quot;\r\n        android:textSize=&quot;@dimen/medium_text_size&quot;/&gt;\r\n\r\n    //Date\r\n    &lt;TextView\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:id=&quot;@+id/history_date&quot;\r\n        android:text=&quot;01.01.2021&quot;\r\n        android:layout_margin=&quot;@dimen/text_margin&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@id/history_duration_icon&quot;\r\n        app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n        android:textSize=&quot;@dimen/small_text_size&quot; /&gt;\r\n\r\n\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\n\r\n\r\nDoes somebody help me? \r\nThanks a lot\r\n","title":"Android RecyclerView is showing nothing","body":"<p>I created an app which has an RecyclerView inside a Fragment to display data from a database.\nSome weeks ago I created another app with a RecyclerView with android support package and everything was fine. Now, with androidx, the view shows nothing.\nHere is my RecyclerViewAdapter class:</p>\n<pre><code>public class HistoryRecyclerViewAdapter extends RecyclerView.Adapter&lt;HistoryRecyclerViewAdapter.ViewHolder&gt; {\n    private static final String TAG = &quot;HistoryRecyclerView&quot;;\n\n    private List&lt;HistoryType&gt; mHistory;\n\n    HistoryRecyclerViewAdapter(List&lt;HistoryType&gt; history){\n        mHistory = history;\n    }\n\n    @Override\n    public ViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\n        Context context = parent.getContext();\n        LayoutInflater inflater = LayoutInflater.from(context);\n\n        View historyView = inflater.inflate(R.layout.history_list_item,parent,false);\n\n        ViewHolder viewHolder = new ViewHolder(historyView);\n        return viewHolder;\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull ViewHolder holder, int position) {\n        HistoryType history = mHistory.get(position);\n\n        SimpleDateFormat formatter;\n        Calendar calendar;\n\n\n        TextView nameText = holder.mNameText;\n        nameText.setText(history.getName());\n\n        TextView durationText = holder.mDurationText;\n        formatter = new SimpleDateFormat(&quot;HH:mm:ss&quot;);\n        calendar = Calendar.getInstance();\n        calendar.setTimeInMillis(history.getDuration());\n        String durationString = formatter.format(calendar.getTime());\n        durationText.setText(durationString);\n\n        TextView distanceText = holder.mDistanceText;\n        distanceText.setText(String.format(&quot;%.2f km&quot;,history.getDistance()));\n\n        TextView totalAirTimeText = holder.mTotalAirTimeText;\n        formatter = new SimpleDateFormat(&quot;mm:ss.SS&quot;);\n        calendar = Calendar.getInstance();\n        calendar.setTimeInMillis(history.getTotalAirTime());\n        String totalAirTimeString = formatter.format(calendar.getTime());\n        totalAirTimeText.setText(totalAirTimeString);\n\n        TextView dateText= holder.mDateText;\n        formatter = new SimpleDateFormat(&quot;dd MMMM yyyy&quot;);\n        String dateString = formatter.format(history.getDate());\n        dateText.setText(dateString);\n    }\n\n    @Override\n    public int getItemCount() {\n        return mHistory.size();\n    }\n\n\n    public class ViewHolder extends RecyclerView.ViewHolder{\n\n        public TextView mNameText;\n        public TextView mDurationText;\n        public TextView mDistanceText;\n        public TextView mTotalAirTimeText;\n        public TextView mDateText;\n\n        public ViewHolder(View itemView) {\n            super(itemView);\n\n            mNameText = (TextView) itemView.findViewById(R.id.history_name);\n            mDurationText = (TextView) itemView.findViewById(R.id.history_duration);\n            mDistanceText = (TextView) itemView.findViewById(R.id.history_distance);\n            mTotalAirTimeText = (TextView) itemView.findViewById(R.id.history_airtime);\n            mDateText = (TextView) itemView.findViewById(R.id.history_date);\n\n        }\n    }\n</code></pre>\n<p>And here the fragment, calling the adapter (the ArrayList has one item):</p>\n<pre><code>public class HistoryFragment extends Fragment {\n\n    private ArrayList&lt;HistoryType&gt; mHistoryList = new ArrayList&lt;&gt;();\n    private RecyclerView mRecyclerView;\n    private HistoryRecyclerViewAdapter mHistoryAdapter;\n    private SQLiteOpenHelper mSqliteOpenHelper;\n    @Nullable\n    @Override\n    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\n        View view = inflater.inflate(R.layout.fragment_history, container, false);\n\n        mRecyclerView = (RecyclerView) view.findViewById(R.id.history_recycler);\n\n        return view;\n    }\n\n    @Override\n    public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\n        super.onViewCreated(view, savedInstanceState);\n        mHistoryAdapter = new HistoryRecyclerViewAdapter(mHistoryList);\n\n        mRecyclerView.setLayoutManager(new LinearLayoutManager(view.getContext()));\n        mRecyclerView.setAdapter(mHistoryAdapter);\n\n        mSqliteOpenHelper = new SQLiteOpenHelper(getActivity());\n        mHistoryList = mSqliteOpenHelper.getHistory();\n\n        for (HistoryType dataSet: mHistoryList) {\n            mHistoryAdapter.notifyItemInserted(mHistoryList.indexOf(dataSet));\n        }\n\n    }\n</code></pre>\n<p><strong>fragment_history.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.recyclerview.widget.RecyclerView\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:id=&quot;@+id/history_recycler&quot;\n    android:layout_marginLeft=&quot;@dimen/text_margin&quot;\n    android:layout_marginRight=&quot;@dimen/text_margin&quot;\n    app:layoutManager=&quot;androidx.recyclerview.widget.LinearLayoutManager&quot;/&gt;\n</code></pre>\n<p><strong>history_list_item.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\n\n    //Name\n    &lt;TextView\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:id=&quot;@+id/history_name&quot;\n        android:layout_margin=&quot;@dimen/text_margin&quot;\n        android:text=&quot;activity name&quot;\n        app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        android:textSize=&quot;@dimen/big_text_size&quot;\n        android:textStyle=&quot;bold&quot;\n        /&gt;\n\n    //Duration\n    &lt;ImageView\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:id=&quot;@+id/history_duration_icon&quot;\n        android:layout_marginTop=&quot;@dimen/text_margin&quot;\n        android:layout_marginRight=&quot;@dimen/icon_margin&quot;\n        android:layout_marginLeft=&quot;@dimen/text_margin&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@id/history_name&quot;\n        app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\n        android:background=&quot;@drawable/timer_24&quot; /&gt;\n\n    &lt;TextView\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:id=&quot;@+id/history_duration&quot;\n        android:text=&quot;01.01.2021&quot;\n        android:layout_margin=&quot;@dimen/text_margin&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@id/history_name&quot;\n        app:layout_constraintLeft_toRightOf=&quot;@id/history_duration_icon&quot;\n        android:textSize=&quot;@dimen/medium_text_size&quot;/&gt;\n\n    //Distance\n    &lt;ImageView\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:id=&quot;@+id/history_distance_icon&quot;\n        android:layout_marginTop=&quot;@dimen/text_margin&quot;\n        android:layout_marginLeft=&quot;@dimen/text_margin&quot;\n        android:layout_marginRight=&quot;@dimen/icon_margin&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@id/history_name&quot;\n        app:layout_constraintLeft_toRightOf=&quot;@id/history_duration&quot;\n        android:background=&quot;@drawable/arrow_right_alt_24&quot;/&gt;\n\n    &lt;TextView\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:id=&quot;@+id/history_distance&quot;\n        android:text=&quot;1h 35min&quot;\n        android:layout_marginTop=&quot;@dimen/text_margin&quot;\n        android:layout_marginLeft=&quot;@dimen/icon_margin&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@id/history_name&quot;\n        app:layout_constraintLeft_toRightOf=&quot;@id/history_distance_icon&quot;\n        android:textSize=&quot;@dimen/medium_text_size&quot;/&gt;\n\n    //Total Airtime\n    &lt;ImageView\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:id=&quot;@+id/history_airtime_icon&quot;\n        android:layout_marginTop=&quot;@dimen/text_margin&quot;\n        android:layout_marginLeft=&quot;@dimen/text_margin&quot;\n        android:layout_marginRight=&quot;@dimen/icon_margin&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@id/history_name&quot;\n        app:layout_constraintLeft_toRightOf=&quot;@id/history_distance&quot;\n        android:background=&quot;@drawable/keyboard_arrow_up_24&quot;/&gt;\n\n    &lt;TextView\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:id=&quot;@+id/history_airtime&quot;\n        android:text=&quot;1h 35min&quot;\n        android:layout_marginTop=&quot;@dimen/text_margin&quot;\n        android:layout_marginLeft=&quot;@dimen/icon_margin&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@id/history_name&quot;\n        app:layout_constraintLeft_toRightOf=&quot;@id/history_airtime_icon&quot;\n        android:textSize=&quot;@dimen/medium_text_size&quot;/&gt;\n\n    //Date\n    &lt;TextView\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:id=&quot;@+id/history_date&quot;\n        android:text=&quot;01.01.2021&quot;\n        android:layout_margin=&quot;@dimen/text_margin&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@id/history_duration_icon&quot;\n        app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\n        android:textSize=&quot;@dimen/small_text_size&quot; /&gt;\n\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>Does somebody help me?\nThanks a lot</p>\n"},{"tags":["java","swing","mouseevent","double-click"],"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":2,"creation_date":1330803208,"post_id":9549108,"comment_id":12101816,"body_markdown":"What is `component`?  In fact, don&#39;t bother to answer that.  For better help sooner, post an [SSCCE](http://sscce.org/) (which will answer that, as well as 4 out of 5 of the other questions I might ask).","body":"What is <code>component</code>?  In fact, don&#39;t bother to answer that.  For better help sooner, post an <a href=\"http://sscce.org/\" rel=\"nofollow noreferrer\">SSCCE</a> (which will answer that, as well as 4 out of 5 of the other questions I might ask)."},{"owner":{"display_name":"user330315"},"score":1,"creation_date":1330810177,"post_id":9549108,"comment_id":12103163,"body_markdown":"Faking events is usually a bad idea. Why don&#39;t you move the code that handles the doubleclick into a separate method and call that method directly?","body":"Faking events is usually a bad idea. Why don&#39;t you move the code that handles the doubleclick into a separate method and call that method directly?"},{"owner":{"account_id":358449,"reputation":42107,"user_id":699224,"accept_rate":67,"display_name":"DNA"},"score":0,"creation_date":1330815348,"post_id":9549108,"comment_id":12104163,"body_markdown":"Why are you doing this? Is it for testing?","body":"Why are you doing this? Is it for testing?"}],"answers":[{"tags":[],"owner":{"account_id":336748,"reputation":22028,"user_id":664577,"accept_rate":98,"display_name":"Anthony Accioly"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1330871728,"creation_date":1330805519,"answer_id":9549469,"question_id":9549108,"body_markdown":"Considering:\r\n\r\n    final JButton clickTwiceButton = new JButton();\r\n    final JButton fireEventButton = new JButton();\r\n\r\nListeners: \r\n\r\n    clickTwiceButton.addMouseListener(new java.awt.event.MouseAdapter() {\r\n        public void mouseClicked(java.awt.event.MouseEvent evt) {\r\n            if (evt.getClickCount() == 2) {\r\n                JOptionPane.showMessageDialog(null, &quot;Double clicked!&quot;);\r\n            }\r\n        }\r\n    });\r\n\r\n    fireEventButton.addActionListener(new java.awt.event.ActionListener() {\r\n        public void actionPerformed(java.awt.event.ActionEvent evt) {\r\n            // Invoking later for no reason, just to simulate your code\r\n            SwingUtilities.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    clickTwiceButton.dispatchEvent(new MouseEvent(\r\n                         fireEventButton,\r\n                         MouseEvent.MOUSE_CLICKED, \r\n                         1,\r\n                         MouseEvent.BUTTON1, \r\n                         0, 0, \r\n                         2, \r\n                         false\r\n                    ));\r\n                }\r\n            });\r\n        }         \r\n    });\r\n\r\nWhen I click `fireEventButton` the `MouseEvent` gets correctly dispatched to `clickTwiceButton`, and the dialog appears as expected. \r\n\r\nSo, as @Andrew pointed out, the problem seems to be that either you are firing the event to the wrong component or that something is not right with the registered `MouseListener` / `MouseAdapter` code.\r\n\r\nUse [component.getMouseListeners()](http://docs.oracle.com/javase/7/docs/api/java/awt/Component.html#getMouseListeners%28%29) to check for your component Listeners and debug the code that handles its events. ","title":"Generate a double click mouse event in Java Swing","body":"<p>Considering:</p>\n\n<pre><code>final JButton clickTwiceButton = new JButton();\nfinal JButton fireEventButton = new JButton();\n</code></pre>\n\n<p>Listeners: </p>\n\n<pre><code>clickTwiceButton.addMouseListener(new java.awt.event.MouseAdapter() {\n    public void mouseClicked(java.awt.event.MouseEvent evt) {\n        if (evt.getClickCount() == 2) {\n            JOptionPane.showMessageDialog(null, \"Double clicked!\");\n        }\n    }\n});\n\nfireEventButton.addActionListener(new java.awt.event.ActionListener() {\n    public void actionPerformed(java.awt.event.ActionEvent evt) {\n        // Invoking later for no reason, just to simulate your code\n        SwingUtilities.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                clickTwiceButton.dispatchEvent(new MouseEvent(\n                     fireEventButton,\n                     MouseEvent.MOUSE_CLICKED, \n                     1,\n                     MouseEvent.BUTTON1, \n                     0, 0, \n                     2, \n                     false\n                ));\n            }\n        });\n    }         \n});\n</code></pre>\n\n<p>When I click <code>fireEventButton</code> the <code>MouseEvent</code> gets correctly dispatched to <code>clickTwiceButton</code>, and the dialog appears as expected. </p>\n\n<p>So, as @Andrew pointed out, the problem seems to be that either you are firing the event to the wrong component or that something is not right with the registered <code>MouseListener</code> / <code>MouseAdapter</code> code.</p>\n\n<p>Use <a href=\"http://docs.oracle.com/javase/7/docs/api/java/awt/Component.html#getMouseListeners%28%29\" rel=\"nofollow\">component.getMouseListeners()</a> to check for your component Listeners and debug the code that handles its events. </p>\n"},{"tags":[],"owner":{"account_id":1913235,"reputation":152,"user_id":1726464,"accept_rate":50,"display_name":"Anonymous"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1467877269,"creation_date":1467877269,"answer_id":38240000,"question_id":9549108,"body_markdown":"       public class TestMouseListener implements MouseListener {    \r\n          private boolean leftClick;\r\n          private int clickCount;\r\n          private boolean doubleClick;\r\n          private boolean tripleClick;\r\n          public void mouseClicked(MouseEvent evt) {\r\n            if (evt.getButton()==MouseEvent.BUTTON1){\r\n                leftClick = true; clickCount = 0;\r\n                if(evt.getClickCount() == 2) doubleClick=true;\r\n                if(evt.getClickCount() == 3){\r\n                    doubleClick = false;\r\n                    tripleClick = true;\r\n                }\r\n                Integer timerinterval = (Integer)Toolkit.getDefaultToolkit().getDesktopProperty(&quot;awt.multiClickInterval&quot;);\r\n\r\n                         Timer  timer = new Timer(timerinterval, new ActionListener() {\r\n                            public void actionPerformed(ActionEvent evt) { \r\n\r\n                                if(doubleClick){\r\n                                    System.out.println(&quot;double click.&quot;);                                    \r\n                                    clickCount++;\r\n                                    if(clickCount == 2){\r\n                                        doubleClick();   //your doubleClick method\r\n                                        clickCount=0;\r\n                                        doubleClick = false;\r\n                                        leftClick = false;\r\n                                    }\r\n\r\n                                }else if (tripleClick) { \r\n\r\n                                    System.out.println(&quot;Triple Click.&quot;);\r\n                                    clickCount++;\r\n                                    if(clickCount == 3) {\r\n                                       tripleClick();  //your tripleClick method\r\n                                        clickCount=0;\r\n                                        tripleClick = false;\r\n                                        leftClick = false;\r\n                                    }\r\n\r\n                                } else if(leftClick) {                                      \r\n                                    System.out.println(&quot;single click.&quot;);\r\n                                    leftClick = false;\r\n                                }\r\n                            }               \r\n                        });\r\n                        timer.setRepeats(false);\r\n                        timer.start();\r\n                        if(evt.getID()==MouseEvent.MOUSE_RELEASED) timer.stop();\r\n            }           \r\n      }\r\n\r\n\r\n          public static void main(String[] argv) throws Exception {\r\n\r\n            JTextField component = new JTextField();\r\n            component.addMouseListener(new TestMouseListener());\r\n            JFrame f = new JFrame();\r\n\r\n            f.add(component);\r\n            f.setSize(300, 300);\r\n            f.setVisible(true);\r\n\r\n            component.addMouseListener(new TestMouseListener());\r\n          }\r\n   }","title":"Generate a double click mouse event in Java Swing","body":"<pre><code>   public class TestMouseListener implements MouseListener {    \n      private boolean leftClick;\n      private int clickCount;\n      private boolean doubleClick;\n      private boolean tripleClick;\n      public void mouseClicked(MouseEvent evt) {\n        if (evt.getButton()==MouseEvent.BUTTON1){\n            leftClick = true; clickCount = 0;\n            if(evt.getClickCount() == 2) doubleClick=true;\n            if(evt.getClickCount() == 3){\n                doubleClick = false;\n                tripleClick = true;\n            }\n            Integer timerinterval = (Integer)Toolkit.getDefaultToolkit().getDesktopProperty(\"awt.multiClickInterval\");\n\n                     Timer  timer = new Timer(timerinterval, new ActionListener() {\n                        public void actionPerformed(ActionEvent evt) { \n\n                            if(doubleClick){\n                                System.out.println(\"double click.\");                                    \n                                clickCount++;\n                                if(clickCount == 2){\n                                    doubleClick();   //your doubleClick method\n                                    clickCount=0;\n                                    doubleClick = false;\n                                    leftClick = false;\n                                }\n\n                            }else if (tripleClick) { \n\n                                System.out.println(\"Triple Click.\");\n                                clickCount++;\n                                if(clickCount == 3) {\n                                   tripleClick();  //your tripleClick method\n                                    clickCount=0;\n                                    tripleClick = false;\n                                    leftClick = false;\n                                }\n\n                            } else if(leftClick) {                                      \n                                System.out.println(\"single click.\");\n                                leftClick = false;\n                            }\n                        }               \n                    });\n                    timer.setRepeats(false);\n                    timer.start();\n                    if(evt.getID()==MouseEvent.MOUSE_RELEASED) timer.stop();\n        }           \n  }\n\n\n      public static void main(String[] argv) throws Exception {\n\n        JTextField component = new JTextField();\n        component.addMouseListener(new TestMouseListener());\n        JFrame f = new JFrame();\n\n        f.add(component);\n        f.setSize(300, 300);\n        f.setVisible(true);\n\n        component.addMouseListener(new TestMouseListener());\n      }\n</code></pre>\n\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":23343849,"reputation":11,"user_id":17418428,"display_name":"iheb_chaari"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641308424,"creation_date":1641308424,"answer_id":70580785,"question_id":9549108,"body_markdown":"The method is very simple. You should get the time of the first click and the time of the second click, then you can do a condition in between.\r\nMethod code as below:\r\n\r\n    private boolean state=false;\r\n    private long first_pressed;\r\n    JButton btnAdd = new JButton(&quot;add&quot;);\r\n    btnAdd.addMouseListener(new MouseAdapter() {\r\n\t    \t@Override\r\n\t    \tpublic void mousePressed(MouseEvent e) {\r\n\t    \t\t\r\n\t    \t\tif(state==false) {\r\n\t    \t\t\tfirst_pressed=e.getWhen();\r\n\t\t    \t\tstate=true;\r\n\t    \t\t}\r\n\t    \t\tif(first_pressed!=e.getWhen())\r\n\t    \t\t{\r\n\t    \t\t\tJOptionPane.showConfirmDialog(null,&quot;doubel click&quot;,&quot;Click&quot;,JOptionPane.YES_NO_OPTION);\r\n\t    \t\t\tstate=false;\r\n\t    \t\t}\r\n\t    \t}\r\n     });","title":"Generate a double click mouse event in Java Swing","body":"<p>The method is very simple. You should get the time of the first click and the time of the second click, then you can do a condition in between.\nMethod code as below:</p>\n<pre><code>private boolean state=false;\nprivate long first_pressed;\nJButton btnAdd = new JButton(&quot;add&quot;);\nbtnAdd.addMouseListener(new MouseAdapter() {\n        @Override\n        public void mousePressed(MouseEvent e) {\n            \n            if(state==false) {\n                first_pressed=e.getWhen();\n                state=true;\n            }\n            if(first_pressed!=e.getWhen())\n            {\n                JOptionPane.showConfirmDialog(null,&quot;doubel click&quot;,&quot;Click&quot;,JOptionPane.YES_NO_OPTION);\n                state=false;\n            }\n        }\n });\n</code></pre>\n"}],"owner":{"account_id":1295081,"reputation":315,"user_id":1246353,"accept_rate":24,"display_name":"tsure"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12939,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1641308424,"creation_date":1330802680,"question_id":9549108,"body_markdown":"I am trying to generate a double click mouse event on the EDT as follows:\r\n \r\n\r\n    SwingUtilities.invokeLater(new Runnable() {\r\n        public void run() {\r\n            component.dispatchEvent(new MouseEvent(\r\n                component,                                      \r\n                MouseEvent.MOUSE_CLICKED,\r\n                System.currentTimeMillis(),\r\n                InputEvent.BUTTON1_MASK,\r\n                x, y,\r\n                2, // click count\r\n                false\r\n            ));\r\n        }\r\n    });\r\n\r\nThis does not seem to dispatch a double click event, even though I am setting the click count to 2.\r\n\r\nAny suggestions or examples?\r\n","title":"Generate a double click mouse event in Java Swing","body":"<p>I am trying to generate a double click mouse event on the EDT as follows:</p>\n\n<pre><code>SwingUtilities.invokeLater(new Runnable() {\n    public void run() {\n        component.dispatchEvent(new MouseEvent(\n            component,                                      \n            MouseEvent.MOUSE_CLICKED,\n            System.currentTimeMillis(),\n            InputEvent.BUTTON1_MASK,\n            x, y,\n            2, // click count\n            false\n        ));\n    }\n});\n</code></pre>\n\n<p>This does not seem to dispatch a double click event, even though I am setting the click count to 2.</p>\n\n<p>Any suggestions or examples?</p>\n"},{"tags":["java","android","api","for-loop","okhttp"],"comments":[{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":1,"creation_date":1641311449,"post_id":70580686,"comment_id":124769635,"body_markdown":"Your question doesn&#39;t make sense.  You don&#39;t refresh an HTTP request.  Do you mean you want to make continual HTTP requests until you get a response?  That&#39;s probably a bad idea.  Or do you mean you want to wait for the http request to finish?  Which makes a lot more sense, but isn&#39;t generally what you want to do-  you use multithreading with a callback or observable instead.","body":"Your question doesn&#39;t make sense.  You don&#39;t refresh an HTTP request.  Do you mean you want to make continual HTTP requests until you get a response?  That&#39;s probably a bad idea.  Or do you mean you want to wait for the http request to finish?  Which makes a lot more sense, but isn&#39;t generally what you want to do-  you use multithreading with a callback or observable instead."},{"owner":{"account_id":9225068,"reputation":55,"user_id":11229979,"display_name":"Raman saab"},"score":0,"creation_date":1641328603,"post_id":70580686,"comment_id":124775962,"body_markdown":"Yes, I want to make continual HTTP requests unit I get desired response if it is a bad idea then what else I can use?","body":"Yes, I want to make continual HTTP requests unit I get desired response if it is a bad idea then what else I can use?"},{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":1,"creation_date":1641328992,"post_id":70580686,"comment_id":124776107,"body_markdown":"Why would you think a second request to the same API will get you different results?  Generally it would return the same thing.  If you&#39;re waiting for some data to change on the back end, you&#39;re better off using some form of push notification.","body":"Why would you think a second request to the same API will get you different results?  Generally it would return the same thing.  If you&#39;re waiting for some data to change on the back end, you&#39;re better off using some form of push notification."},{"owner":{"account_id":9225068,"reputation":55,"user_id":11229979,"display_name":"Raman saab"},"score":0,"creation_date":1641343211,"post_id":70580686,"comment_id":124779575,"body_markdown":"So, I’m grabbing some data which can available anytime any second so that’s the reason I’m refreshing it.","body":"So, I’m grabbing some data which can available anytime any second so that’s the reason I’m refreshing it."},{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":1,"creation_date":1641351132,"post_id":70580686,"comment_id":124780820,"body_markdown":"Then you should be using push notifications.  Grabbing it constantly will drain your device&#39;s battery, and will also use up their data allowance at a horrific rate.  Not everyone has unlimited, and even if they do they may get throttled after a certain amount.  If this is your backend, it will also cause you to have an INSANE transactions per second rate and overload your servers and databases.  If its a 3rd party API, its a good way to get your app blocked.  Possibly even you sued, because that behavior is indistinguishable from a DOS attack","body":"Then you should be using push notifications.  Grabbing it constantly will drain your device&#39;s battery, and will also use up their data allowance at a horrific rate.  Not everyone has unlimited, and even if they do they may get throttled after a certain amount.  If this is your backend, it will also cause you to have an INSANE transactions per second rate and overload your servers and databases.  If its a 3rd party API, its a good way to get your app blocked.  Possibly even you sued, because that behavior is indistinguishable from a DOS attack"},{"owner":{"account_id":9225068,"reputation":55,"user_id":11229979,"display_name":"Raman saab"},"score":0,"creation_date":1641354556,"post_id":70580686,"comment_id":124781325,"body_markdown":"Could you please elaborate how can I use push notifications with it?","body":"Could you please elaborate how can I use push notifications with it?"}],"owner":{"account_id":9225068,"reputation":55,"user_id":11229979,"display_name":"Raman saab"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":141,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1641308041,"creation_date":1641308041,"question_id":70580686,"body_markdown":"What is the best way to keep refresh API GET request till you get response and also gonna use it as background service in java Android\r\n\r\nWYT?","title":"How to refresh API url till don’t get response","body":"<p>What is the best way to keep refresh API GET request till you get response and also gonna use it as background service in java Android</p>\n<p>WYT?</p>\n"},{"tags":["java","arrays","methods"],"comments":[{"owner":{"account_id":2801755,"reputation":4423,"user_id":2409886,"accept_rate":90,"display_name":"Denis Itskovich"},"score":0,"creation_date":1641307299,"post_id":70580442,"comment_id":124767703,"body_markdown":"You are filling the entire array with the same &quot;default&quot; instance of Person. So then when you change this single instance&#39;s field - you will see the same value in all array entries (since all of them still point to the same instance)","body":"You are filling the entire array with the same &quot;default&quot; instance of Person. So then when you change this single instance&#39;s field - you will see the same value in all array entries (since all of them still point to the same instance)"}],"answers":[{"tags":[],"owner":{"account_id":2801755,"reputation":4423,"user_id":2409886,"accept_rate":90,"display_name":"Denis Itskovich"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1641307767,"creation_date":1641307767,"answer_id":70580617,"question_id":70580442,"body_markdown":"It happens because you create only 1 instance of `Person` and fill the entire array with the pointer to this single instance.\r\n\r\nIn order to fix the behavior you describe, you need to create a separate instance for each array entry:\r\n\r\n```java\r\n// ...\r\n  for(int i = 0; i&lt;howMany; i++) {\r\n    Person p = createPatient(false, false, true); //filling out the array with default values\r\n    addPatientRecord(a, p); \r\n  }\r\n// ...\r\n```","title":"Problem with changing a field in one item in an ADT array","body":"<p>It happens because you create only 1 instance of <code>Person</code> and fill the entire array with the pointer to this single instance.</p>\n<p>In order to fix the behavior you describe, you need to create a separate instance for each array entry:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// ...\n  for(int i = 0; i&lt;howMany; i++) {\n    Person p = createPatient(false, false, true); //filling out the array with default values\n    addPatientRecord(a, p); \n  }\n// ...\n</code></pre>\n"}],"owner":{"account_id":23479199,"reputation":3,"user_id":17531582,"display_name":"Amir S."},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70580617,"answer_count":1,"score":0,"last_activity_date":1641307767,"creation_date":1641307036,"question_id":70580442,"body_markdown":"I am trying to edit one item in the Person[] array but for some reason, whenever the setHasVirus is called, the whole array is changed to &quot;having the virus&quot;. Literally every single item&#39;s hasVirus variable is changed to true from false. I am trying to edit only the second item but it doesn&#39;t work. Could you please tell me what&#39;s the problem?\r\n```\r\nclass Person{\r\n    boolean vaccine;\r\n    boolean hasVirus;\r\n    boolean alive;\r\n}\r\n\r\nclass arrayADT{\r\n    Person[] people;\r\n    int count; \r\n}\r\n\r\n\r\n\r\n\r\npublic static String inputString(String message)\r\n    {\r\n        Scanner scanner = new Scanner(System.in);\r\n        System.out.println(message);\r\n        return scanner.nextLine();\r\n    }\r\n    \r\n    public static int inputInt(String message)\r\n    {\r\n        return Integer.parseInt(inputString(message));\r\n    }\r\n    \r\n    public static int inputIntRange(String message, int min, int max)\r\n    {\r\n        int result = Integer.parseInt(inputString(message));\r\n        while((result &lt; min) | (result &gt; max))\r\n        {\r\n            result = Integer.parseInt(inputString(message));\r\n        }\r\n    return result;\r\n    }\r\n    \r\n    public static Person setVaccine(Person a, boolean b){ //accessor method\r\n        a.vaccine = b;\r\n        return a;\r\n    }\r\n    \r\n    public static Person setHasVirus(Person a, boolean b){ //accessor method\r\n        a.hasVirus = b;\r\n        return a;\r\n    }\r\n    \r\n    public static Person setAlive(Person a, boolean b){ //accessor method\r\n        a.alive = b;\r\n        return a;\r\n    }\r\n    \r\n    public static Person createPatient(boolean a, boolean b, boolean c){ //initialises the object\r\n        Person d = new Person();\r\n        d = setVaccine(d, a);\r\n        d = setHasVirus(d, b);\r\n        d = setAlive(d, c);\r\n        return d;\r\n    }\r\n\r\npublic static Person getSingleRecord(arrayADT ap, int number) \r\n    { \r\n        return ap.people[number]; \r\n    }\r\n\r\npublic static arrayADT addPatientRecord(arrayADT ap, Person a) //adds one record to the existing array adt\r\n    {\r\n        ap.people[ap.count] = a; \r\n        ap.count = ap.count + 1; \r\n        return ap;     \r\n    }\r\n\r\npublic static arrayADT inputPeople(){\r\narrayADT a = new arrayADT();\r\nint howMany = inputIntRange(&quot;Number of people to simulate?(between 100 and 1000)&quot;, 100, 1000);\r\na.people = new Person[howMany];\r\nPerson d = createPatient(false, false, true);\r\n        for(int i = 0; i&lt;howMany; i++){\r\n            addPatientRecord(a, d); //filling out the array with default values\r\n        }\r\nsetHasVirus(getSingleRecord(a, 2),true); //trying to edit only one item in the whole array\r\nreturn a;\r\n}\r\n```","title":"Problem with changing a field in one item in an ADT array","body":"<p>I am trying to edit one item in the Person[] array but for some reason, whenever the setHasVirus is called, the whole array is changed to &quot;having the virus&quot;. Literally every single item's hasVirus variable is changed to true from false. I am trying to edit only the second item but it doesn't work. Could you please tell me what's the problem?</p>\n<pre><code>class Person{\n    boolean vaccine;\n    boolean hasVirus;\n    boolean alive;\n}\n\nclass arrayADT{\n    Person[] people;\n    int count; \n}\n\n\n\n\npublic static String inputString(String message)\n    {\n        Scanner scanner = new Scanner(System.in);\n        System.out.println(message);\n        return scanner.nextLine();\n    }\n    \n    public static int inputInt(String message)\n    {\n        return Integer.parseInt(inputString(message));\n    }\n    \n    public static int inputIntRange(String message, int min, int max)\n    {\n        int result = Integer.parseInt(inputString(message));\n        while((result &lt; min) | (result &gt; max))\n        {\n            result = Integer.parseInt(inputString(message));\n        }\n    return result;\n    }\n    \n    public static Person setVaccine(Person a, boolean b){ //accessor method\n        a.vaccine = b;\n        return a;\n    }\n    \n    public static Person setHasVirus(Person a, boolean b){ //accessor method\n        a.hasVirus = b;\n        return a;\n    }\n    \n    public static Person setAlive(Person a, boolean b){ //accessor method\n        a.alive = b;\n        return a;\n    }\n    \n    public static Person createPatient(boolean a, boolean b, boolean c){ //initialises the object\n        Person d = new Person();\n        d = setVaccine(d, a);\n        d = setHasVirus(d, b);\n        d = setAlive(d, c);\n        return d;\n    }\n\npublic static Person getSingleRecord(arrayADT ap, int number) \n    { \n        return ap.people[number]; \n    }\n\npublic static arrayADT addPatientRecord(arrayADT ap, Person a) //adds one record to the existing array adt\n    {\n        ap.people[ap.count] = a; \n        ap.count = ap.count + 1; \n        return ap;     \n    }\n\npublic static arrayADT inputPeople(){\narrayADT a = new arrayADT();\nint howMany = inputIntRange(&quot;Number of people to simulate?(between 100 and 1000)&quot;, 100, 1000);\na.people = new Person[howMany];\nPerson d = createPatient(false, false, true);\n        for(int i = 0; i&lt;howMany; i++){\n            addPatientRecord(a, d); //filling out the array with default values\n        }\nsetHasVirus(getSingleRecord(a, 2),true); //trying to edit only one item in the whole array\nreturn a;\n}\n</code></pre>\n"},{"tags":["java","position","lwjgl","glfw","mouse-cursor"],"answers":[{"tags":[],"owner":{"account_id":5723206,"reputation":2441,"user_id":4521040,"display_name":"javac"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1507987938,"creation_date":1447014775,"answer_id":33598739,"question_id":33592499,"body_markdown":"Java does not directly support pointers, so LWJGL uses buffers as a workaround. These just wrap a memory address that can be read from and written to through methods on the object. This allows you to pass buffers to functions which write values into them, so you can then read these values.\r\n\r\nThe key point here is that you actually have to create a buffer beforehand for storing the value.\r\n\r\n    public static double getCursorPosX(long windowID) {\r\n        DoubleBuffer posX = BufferUtils.createDoubleBuffer(1);\r\n        glfwGetCursorPos(windowID, posX, null);\r\n        return posX.get(0);\r\n    }\r\n\r\n`BufferUtils.createDoubleBuffer(length)` is a utility function that creates a buffer. There are different buffers for different primitives, like int, long, char, float, double etc. In this case we need a buffer that can store doubles. The number (`1`) we pass to the method is the number of values the buffer should be able to store. We can use a buffer with a larger size for storing multiple values like in an array, but here we only want a single value.\r\n\r\nThe `get(index)` method returns the value at the given index. We only want to read the first value so we specify 0. You can also use `put(index, value)` to store values in a buffer.\r\n\r\n**Note**: It might be tempting to do something like the following if you want to get both x and y values:\r\n\r\n    DoubleBuffer coords = BufferUtils.createDoubleBuffer(2);\r\n    glfwGetCursorPos(windowID, coords, coords);\r\n    double x = coords.get(0);\r\n    double y = coords.get(1);\r\n\r\nHowever, this will not work as intended: It will write the y value to index 0 and leave a garbage (read: random) value at index 1. If you want to get both coords, you have to create a separate buffer for each.\r\n\r\n    DoubleBuffer xBuffer = BufferUtils.createDoubleBuffer(1);\r\n    DoubleBuffer yBuffer = BufferUtils.createDoubleBuffer(1);\r\n    glfwGetCursorPos(windowID, xBuffer, yBuffer);\r\n    double x = xBuffer.get(0);\r\n    double y = yBuffer.get(0);","title":"LWJGL 3 get cursor position","body":"<p>Java does not directly support pointers, so LWJGL uses buffers as a workaround. These just wrap a memory address that can be read from and written to through methods on the object. This allows you to pass buffers to functions which write values into them, so you can then read these values.</p>\n\n<p>The key point here is that you actually have to create a buffer beforehand for storing the value.</p>\n\n<pre><code>public static double getCursorPosX(long windowID) {\n    DoubleBuffer posX = BufferUtils.createDoubleBuffer(1);\n    glfwGetCursorPos(windowID, posX, null);\n    return posX.get(0);\n}\n</code></pre>\n\n<p><code>BufferUtils.createDoubleBuffer(length)</code> is a utility function that creates a buffer. There are different buffers for different primitives, like int, long, char, float, double etc. In this case we need a buffer that can store doubles. The number (<code>1</code>) we pass to the method is the number of values the buffer should be able to store. We can use a buffer with a larger size for storing multiple values like in an array, but here we only want a single value.</p>\n\n<p>The <code>get(index)</code> method returns the value at the given index. We only want to read the first value so we specify 0. You can also use <code>put(index, value)</code> to store values in a buffer.</p>\n\n<p><strong>Note</strong>: It might be tempting to do something like the following if you want to get both x and y values:</p>\n\n<pre><code>DoubleBuffer coords = BufferUtils.createDoubleBuffer(2);\nglfwGetCursorPos(windowID, coords, coords);\ndouble x = coords.get(0);\ndouble y = coords.get(1);\n</code></pre>\n\n<p>However, this will not work as intended: It will write the y value to index 0 and leave a garbage (read: random) value at index 1. If you want to get both coords, you have to create a separate buffer for each.</p>\n\n<pre><code>DoubleBuffer xBuffer = BufferUtils.createDoubleBuffer(1);\nDoubleBuffer yBuffer = BufferUtils.createDoubleBuffer(1);\nglfwGetCursorPos(windowID, xBuffer, yBuffer);\ndouble x = xBuffer.get(0);\ndouble y = yBuffer.get(0);\n</code></pre>\n"}],"owner":{"account_id":6558644,"reputation":1004,"user_id":5070552,"accept_rate":100,"display_name":"Samuel Kodytek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4790,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":33598739,"answer_count":1,"score":6,"last_activity_date":1641307470,"creation_date":1446974796,"question_id":33592499,"body_markdown":"How do I get the position of a cursor? I looked in the documentation of GLFW, and there is a method `glfwGetCursorPos(window, &amp;xpos, &amp;ypos)` but Java does not have pointers so when I tried this method in Java there were DoubleBuffers as the arguments. Now when I write something like this: \r\n\r\n    public static double getCursorPosX(long windowID){\r\n        DoubleBuffer posX = null;\r\n        DoubleBuffer posY = null;\r\n        glfwGetCursorPos(windowID, posX, posY);\r\n        return posX != null ? posX.get() : 0;\r\n    }\r\n\r\nposX is null and I can&#39;t figure out why (yes, I am setting up the callback in my display class).","title":"LWJGL 3 get cursor position","body":"<p>How do I get the position of a cursor? I looked in the documentation of GLFW, and there is a method <code>glfwGetCursorPos(window, &amp;xpos, &amp;ypos)</code> but Java does not have pointers so when I tried this method in Java there were DoubleBuffers as the arguments. Now when I write something like this: </p>\n\n<pre><code>public static double getCursorPosX(long windowID){\n    DoubleBuffer posX = null;\n    DoubleBuffer posY = null;\n    glfwGetCursorPos(windowID, posX, posY);\n    return posX != null ? posX.get() : 0;\n}\n</code></pre>\n\n<p>posX is null and I can't figure out why (yes, I am setting up the callback in my display class).</p>\n"},{"tags":["java","swing","button","jtextpane","mouse-cursor"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":2,"creation_date":1640877910,"post_id":70533106,"comment_id":124681733,"body_markdown":"Your CustomTextPane class is all wrong. 1) When you extend a class don&#39;t create an instance of that class. 2) Don&#39;t create any other components in the class. All your class should do is change the functionality/properties of the the text pane. Other issue: 1) don&#39;t use a null layout. Swing was designed to be used with layout managers. 2) Don&#39;t use static variables. This also indicates poor design.  3) Don&#39;t add a MouseListener to a JButton. Instead use an ActionListener to handle clicking the button.","body":"Your CustomTextPane class is all wrong. 1) When you extend a class don&#39;t create an instance of that class. 2) Don&#39;t create any other components in the class. All your class should do is change the functionality/properties of the the text pane. Other issue: 1) don&#39;t use a null layout. Swing was designed to be used with layout managers. 2) Don&#39;t use static variables. This also indicates poor design.  3) Don&#39;t add a MouseListener to a JButton. Instead use an ActionListener to handle clicking the button."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":2,"creation_date":1640877958,"post_id":70533106,"comment_id":124681742,"body_markdown":"Read the [Swing tutorial](https://docs.oracle.com/javase/tutorial/uiswing/TOC.html) for Swing basics. The demo code will show you how to better structure your code and use Swing features.","body":"Read the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/TOC.html\" rel=\"nofollow noreferrer\">Swing tutorial</a> for Swing basics. The demo code will show you how to better structure your code and use Swing features."}],"owner":{"account_id":23654789,"reputation":29,"user_id":17683241,"display_name":"LeonN"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":311,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1641307219,"creation_date":1640875256,"question_id":70533106,"body_markdown":"Well, I created a custom jbutton and a custom jtextpane. Originally they were placed on a panel and setCursor() worked perfectly. But later, I had to add a JScrollPane that contains the original panel. Since I did that, when I place the mouse on the button or the textpane, the cursor doesn&#39;t change, it is still an arrow. I tried adding mouse listener events for both the button and the textpane, but it doesn&#39;t work either.\r\n\r\n```\r\npublic class CreacionPrincipal extends javax.swing.JFrame {\r\n    static JPanel textfields = new JPanel();\r\n    static JScrollPane scrollPane = new JScrollPane();\r\n    static JPanel panelNombres;\r\n\r\n    public CreacionPrincipal() {\r\n       initComponents();\r\n\r\n       panelNombres = new JPanel();\r\n       //jscrollPane\r\n       panelNombres.add(scrollPane);\r\n       scrollPane.setViewportView(textfields);\r\n       textfields.setLayout(null);\r\n       scrollPane.setBounds(40, 190, 440, 230);\r\n       scrollPane.setBorder(null);\r\n       textfields.setBackground(Color.black);\r\n       textfields.setBorder(null);\r\n\r\n       CustomButton boton1 = new CustomButton(posYBoton);\r\n       CustomTextPane campo1 = new CustomTextPane(posYPanel);\r\n       CustomTextPane NombrePrincipal = new CustomTextPane();\r\n    }\r\n}\r\n\r\npublic class CustomButton extends JButton{\r\n\r\n   public CustomButtom (int posY) {\r\n      \r\n      boton = new JButton(&quot;+&quot;);\r\n      boton.setCursor(new java.awt.Cursor(java.awt.Cursor.HAND_CURSOR));\r\n      boton.setBounds(390, posY, 30, 30);\r\n      boton.setBackground(new java.awt.Color(0, 0, 0));\r\n      boton.setFont(new java.awt.Font(&quot;Cascadia Mono&quot;, 1, 20));\r\n      boton.setForeground(new java.awt.Color(255, 255, 255));\r\n      boton.setFocusPainted(false);\r\n      boton.setOpaque(false);\r\n      boton.setBorder(javax.swing.BorderFactory.createLineBorder(new java.awt.Color(255, 255, 255)));\r\n      boton.setVisible(true);\r\n      boton.setContentAreaFilled(false);\r\n      boton.addMouseListener(mouse);\r\n      textfields.add(boton);\r\n\r\n      MouseListener mouse = new MouseListener() {\r\n            @Override\r\n            public void mouseClicked(MouseEvent e) {\r\n                posYPanel = posYPanel + 60;\r\n                posYBoton = posYBoton + 60;\r\n                CustomTextPane panel = new CustomTextPane(posYPanel);\r\n                boton.setBounds(390, posYBoton, 30, 30);  \r\n\r\n                textfields.add(panel);\r\n            }\r\n        };\r\n   }\r\n}\r\n\r\npublic class CustsomTextPane extends JTextPane {\r\n   JTextPane areaOpcional;\r\n   JTextPane nombrePrincipal;\r\n    \r\n    public CustomTextPane(int PosY) {\r\n        areaOpcional = new JTextPane();\r\n        areaOpcional.setVisible(true);\r\n        areaOpcional.setBackground(new java.awt.Color(51, 51, 51));\r\n        areaOpcional.setForeground(new java.awt.Color(255, 179, 0));\r\n        areaOpcional.setFont(new java.awt.Font(&quot;Dialog&quot;, 0, 24));\r\n        areaOpcional.setBorder(null);\r\n        areaOpcional.setCaretColor(new java.awt.Color(255, 255, 255));\r\n        areaOpcional.setBounds(0, PosY, 380, 40);\r\n        areaOpcional.setSelectedTextColor(new java.awt.Color(187,187,187));\r\n        areaOpcional.setSelectionColor(new java.awt.Color(75,110,175));\r\n        areaOpcional.setFocusable(true);\r\n        areaOpcional.setCursor(new java.awt.Cursor(java.awt.Cursor.TEXT_CURSOR));\r\n        areaOpcional.setEditable(true);\r\n        areaOpcional.setOpaque(true);\r\n        areaOpcional.setEnabled(true);\r\n        textfields.add(areaOpcional);\r\n        textfields.repaint();\r\n        textfields.revalidate();\r\n        areaOpcional.repaint();\r\n        areaOpcional.revalidate();\r\n    }\r\n}\r\n```\r\n\r\n","title":"SetCursor() in java doesn&#39;t change the cursor","body":"<p>Well, I created a custom jbutton and a custom jtextpane. Originally they were placed on a panel and setCursor() worked perfectly. But later, I had to add a JScrollPane that contains the original panel. Since I did that, when I place the mouse on the button or the textpane, the cursor doesn't change, it is still an arrow. I tried adding mouse listener events for both the button and the textpane, but it doesn't work either.</p>\n<pre><code>public class CreacionPrincipal extends javax.swing.JFrame {\n    static JPanel textfields = new JPanel();\n    static JScrollPane scrollPane = new JScrollPane();\n    static JPanel panelNombres;\n\n    public CreacionPrincipal() {\n       initComponents();\n\n       panelNombres = new JPanel();\n       //jscrollPane\n       panelNombres.add(scrollPane);\n       scrollPane.setViewportView(textfields);\n       textfields.setLayout(null);\n       scrollPane.setBounds(40, 190, 440, 230);\n       scrollPane.setBorder(null);\n       textfields.setBackground(Color.black);\n       textfields.setBorder(null);\n\n       CustomButton boton1 = new CustomButton(posYBoton);\n       CustomTextPane campo1 = new CustomTextPane(posYPanel);\n       CustomTextPane NombrePrincipal = new CustomTextPane();\n    }\n}\n\npublic class CustomButton extends JButton{\n\n   public CustomButtom (int posY) {\n      \n      boton = new JButton(&quot;+&quot;);\n      boton.setCursor(new java.awt.Cursor(java.awt.Cursor.HAND_CURSOR));\n      boton.setBounds(390, posY, 30, 30);\n      boton.setBackground(new java.awt.Color(0, 0, 0));\n      boton.setFont(new java.awt.Font(&quot;Cascadia Mono&quot;, 1, 20));\n      boton.setForeground(new java.awt.Color(255, 255, 255));\n      boton.setFocusPainted(false);\n      boton.setOpaque(false);\n      boton.setBorder(javax.swing.BorderFactory.createLineBorder(new java.awt.Color(255, 255, 255)));\n      boton.setVisible(true);\n      boton.setContentAreaFilled(false);\n      boton.addMouseListener(mouse);\n      textfields.add(boton);\n\n      MouseListener mouse = new MouseListener() {\n            @Override\n            public void mouseClicked(MouseEvent e) {\n                posYPanel = posYPanel + 60;\n                posYBoton = posYBoton + 60;\n                CustomTextPane panel = new CustomTextPane(posYPanel);\n                boton.setBounds(390, posYBoton, 30, 30);  \n\n                textfields.add(panel);\n            }\n        };\n   }\n}\n\npublic class CustsomTextPane extends JTextPane {\n   JTextPane areaOpcional;\n   JTextPane nombrePrincipal;\n    \n    public CustomTextPane(int PosY) {\n        areaOpcional = new JTextPane();\n        areaOpcional.setVisible(true);\n        areaOpcional.setBackground(new java.awt.Color(51, 51, 51));\n        areaOpcional.setForeground(new java.awt.Color(255, 179, 0));\n        areaOpcional.setFont(new java.awt.Font(&quot;Dialog&quot;, 0, 24));\n        areaOpcional.setBorder(null);\n        areaOpcional.setCaretColor(new java.awt.Color(255, 255, 255));\n        areaOpcional.setBounds(0, PosY, 380, 40);\n        areaOpcional.setSelectedTextColor(new java.awt.Color(187,187,187));\n        areaOpcional.setSelectionColor(new java.awt.Color(75,110,175));\n        areaOpcional.setFocusable(true);\n        areaOpcional.setCursor(new java.awt.Cursor(java.awt.Cursor.TEXT_CURSOR));\n        areaOpcional.setEditable(true);\n        areaOpcional.setOpaque(true);\n        areaOpcional.setEnabled(true);\n        textfields.add(areaOpcional);\n        textfields.repaint();\n        textfields.revalidate();\n        areaOpcional.repaint();\n        areaOpcional.revalidate();\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","hibernate","playframework"],"comments":[{"owner":{"account_id":124832,"reputation":21488,"user_id":320180,"accept_rate":80,"display_name":"ndeverge"},"score":1,"creation_date":1365077234,"post_id":15808147,"comment_id":22486305,"body_markdown":"possible duplicate of [Integrating Play framework 2.0 and Spring framework](http://stackoverflow.com/questions/9703714/integrating-play-framework-2-0-and-spring-framework)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/9703714/integrating-play-framework-2-0-and-spring-framework\">Integrating Play framework 2.0 and Spring framework</a>"},{"owner":{"account_id":28851,"reputation":29373,"user_id":77409,"accept_rate":100,"display_name":"James Ward"},"score":0,"creation_date":1365078910,"post_id":15808147,"comment_id":22487394,"body_markdown":"It&#39;s actually a totally different answer in 2.1 compared to 2.0 so this isn&#39;t a duplicate.","body":"It&#39;s actually a totally different answer in 2.1 compared to 2.0 so this isn&#39;t a duplicate."}],"answers":[{"tags":[],"owner":{"account_id":28851,"reputation":29373,"user_id":77409,"accept_rate":100,"display_name":"James Ward"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1365078883,"creation_date":1365078883,"answer_id":15811315,"question_id":15808147,"body_markdown":"It&#39;s very easy now in Play 2.1 with the `getControllerInstance` interceptor.  Here is a sample application which has Play 2.1, Spring (with Java Config), and JPA:\r\nhttps://github.com/jamesward/play2bars/tree/java-spring","title":"Integrate Spring and Hibernate in Play framework 2.1?","body":"<p>It's very easy now in Play 2.1 with the <code>getControllerInstance</code> interceptor.  Here is a sample application which has Play 2.1, Spring (with Java Config), and JPA:\n<a href=\"https://github.com/jamesward/play2bars/tree/java-spring\" rel=\"noreferrer\">https://github.com/jamesward/play2bars/tree/java-spring</a></p>\n"},{"tags":[],"owner":{"account_id":1327786,"reputation":1754,"user_id":1272268,"accept_rate":71,"display_name":"Gonfi den Tschal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1366382197,"creation_date":1366382197,"answer_id":16107151,"question_id":15808147,"body_markdown":"I recommend the answer from James Ward. Here is some information for upgrading from a Spring Java 2.0 play app to 2.1.\r\n\r\nIn 2.0.4 I&#39;ve used the Spring4Play2 dependency, see https://github.com/scott-phillips/Spring4Play2/blob/master/README.markdown but I could not get this to work when upgrading to play 2.1.1 even though there is a 2.1-SNAPSHOT jar of this module at https://maven.library.tamu.edu/content/repositories/snapshots/play/spring_2.9.1/2.1-SNAPSHOT/ \r\n\r\nThe error I got was &quot;Plugin [play.api.db.BoneCPPlugin] cannot been instantiated.&quot; and &quot;java.lang.IncompatibleClassChangeError: Found interface play.api.Application, but class was expected&quot; and googling did not bring any answer.\r\n\r\nSo I went ahead and looked at the nice example from James Ward, dropped that plugin, and just added\r\n\r\n&quot;org.springframework&quot; % &quot;spring-context&quot; % &quot;3.2.1.RELEASE&quot;,\r\n\r\nto my Build.scala as you can see here https://github.com/jamesward/play2bars/blob/java-spring/project/Build.scala\r\n\r\nthen created the Global.java class similar to the example, and that was about it.\r\n\r\nI&#39;ve added this answer for people running into the same situation so that googling for the error message could bring up a solution.\r\n","title":"Integrate Spring and Hibernate in Play framework 2.1?","body":"<p>I recommend the answer from James Ward. Here is some information for upgrading from a Spring Java 2.0 play app to 2.1.</p>\n\n<p>In 2.0.4 I've used the Spring4Play2 dependency, see <a href=\"https://github.com/scott-phillips/Spring4Play2/blob/master/README.markdown\" rel=\"nofollow\">https://github.com/scott-phillips/Spring4Play2/blob/master/README.markdown</a> but I could not get this to work when upgrading to play 2.1.1 even though there is a 2.1-SNAPSHOT jar of this module at <a href=\"https://maven.library.tamu.edu/content/repositories/snapshots/play/spring_2.9.1/2.1-SNAPSHOT/\" rel=\"nofollow\">https://maven.library.tamu.edu/content/repositories/snapshots/play/spring_2.9.1/2.1-SNAPSHOT/</a> </p>\n\n<p>The error I got was \"Plugin [play.api.db.BoneCPPlugin] cannot been instantiated.\" and \"java.lang.IncompatibleClassChangeError: Found interface play.api.Application, but class was expected\" and googling did not bring any answer.</p>\n\n<p>So I went ahead and looked at the nice example from James Ward, dropped that plugin, and just added</p>\n\n<p>\"org.springframework\" % \"spring-context\" % \"3.2.1.RELEASE\",</p>\n\n<p>to my Build.scala as you can see here <a href=\"https://github.com/jamesward/play2bars/blob/java-spring/project/Build.scala\" rel=\"nofollow\">https://github.com/jamesward/play2bars/blob/java-spring/project/Build.scala</a></p>\n\n<p>then created the Global.java class similar to the example, and that was about it.</p>\n\n<p>I've added this answer for people running into the same situation so that googling for the error message could bring up a solution.</p>\n"},{"tags":[],"owner":{"account_id":2641595,"reputation":1817,"user_id":2285111,"accept_rate":70,"display_name":"Vladimir Nabokov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1396793425,"creation_date":1396773640,"answer_id":22891769,"question_id":15808147,"body_markdown":"I integrated spring (with Hibernate) within Play 2, you can see an example (full working source) and explanation here:\r\nhttp://serverbabyblog.wordpress.com/2014/03/26/activiti-on-play-2-with-spring-and-hibernate-jpa-example/\r\n\r\nJust skip all stuff, relative to &quot;Activiti&quot; framework.\r\n\r\nBasically, I was forced to throw out jpa and jdbc plugins of Play!.\r\nReplacing their functionality by known open-source 3-d parties.\r\nIt&#39;s OK.\r\nPlay JPA plugin is too narrow-scoped for my case.\r\n\r\nAs result transaction managed by Spring transaction manager and entire example works with spring JPA annotations(using Hibernate JPA). It is really cross-platform example, because you can take all the spring stuff and move from play to other framework.\r\n\r\nGood luck!\r\n\r\n\r\n","title":"Integrate Spring and Hibernate in Play framework 2.1?","body":"<p>I integrated spring (with Hibernate) within Play 2, you can see an example (full working source) and explanation here:\n<a href=\"http://serverbabyblog.wordpress.com/2014/03/26/activiti-on-play-2-with-spring-and-hibernate-jpa-example/\" rel=\"nofollow\">http://serverbabyblog.wordpress.com/2014/03/26/activiti-on-play-2-with-spring-and-hibernate-jpa-example/</a></p>\n\n<p>Just skip all stuff, relative to \"Activiti\" framework.</p>\n\n<p>Basically, I was forced to throw out jpa and jdbc plugins of Play!.\nReplacing their functionality by known open-source 3-d parties.\nIt's OK.\nPlay JPA plugin is too narrow-scoped for my case.</p>\n\n<p>As result transaction managed by Spring transaction manager and entire example works with spring JPA annotations(using Hibernate JPA). It is really cross-platform example, because you can take all the spring stuff and move from play to other framework.</p>\n\n<p>Good luck!</p>\n"}],"owner":{"account_id":412799,"reputation":99,"user_id":786074,"accept_rate":0,"display_name":"Jack Holmes"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4834,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":3,"score":5,"last_activity_date":1641307050,"creation_date":1365069733,"question_id":15808147,"body_markdown":"I have to build an web application that integrate Spring and Hibernate in Play Framework 2.1. I integrated Hibernate successfully, but how can I do it with Spring?","title":"Integrate Spring and Hibernate in Play framework 2.1?","body":"<p>I have to build an web application that integrate Spring and Hibernate in Play Framework 2.1. I integrated Hibernate successfully, but how can I do it with Spring?</p>\n"},{"tags":["java","json","spring-boot","exception"],"comments":[{"owner":{"account_id":17750,"reputation":25470,"user_id":40064,"accept_rate":69,"display_name":"Wim Deblauwe"},"score":0,"creation_date":1641284815,"post_id":70575422,"comment_id":124759012,"body_markdown":"You might be interested in my [error handling library](https://github.com/wimdeblauwe/error-handling-spring-boot-starter). See https://foojay.io/today/better-error-handling-for-your-spring-boot-rest-apis/ for an introduction.","body":"You might be interested in my <a href=\"https://github.com/wimdeblauwe/error-handling-spring-boot-starter\" rel=\"nofollow noreferrer\">error handling library</a>. See <a href=\"https://foojay.io/today/better-error-handling-for-your-spring-boot-rest-apis/\" rel=\"nofollow noreferrer\">foojay.io/today/&hellip;</a> for an introduction."}],"answers":[{"tags":[],"owner":{"account_id":9951088,"reputation":413,"user_id":7363699,"display_name":"Krishna"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641304267,"creation_date":1641304267,"answer_id":70579819,"question_id":70575422,"body_markdown":"Create an ErrorHandler(as per your naming convention) class and extend spring class ResponseEntityExceptionHandler which receives all method exceptions. Check spring documentation for more details on this class.\r\n\r\nIn your class add handleTechincalException method as below for required exceptions.\r\n\r\n    @ExceptionHandler({ Exception.class, AbcException.class, XyzException.class })\r\n    public ResponseEntity&lt;Object&gt; handleTechnicalException(Exception e, WebRequest webRequest) {\r\n    // prepare response entity object as required based on type of exception \r\n    // return ResponseEntity&lt;Object&gt;\r\n    }","title":"Create custom exception with custom json response in spring boot api","body":"<p>Create an ErrorHandler(as per your naming convention) class and extend spring class ResponseEntityExceptionHandler which receives all method exceptions. Check spring documentation for more details on this class.</p>\n<p>In your class add handleTechincalException method as below for required exceptions.</p>\n<pre><code>@ExceptionHandler({ Exception.class, AbcException.class, XyzException.class })\npublic ResponseEntity&lt;Object&gt; handleTechnicalException(Exception e, WebRequest webRequest) {\n// prepare response entity object as required based on type of exception \n// return ResponseEntity&lt;Object&gt;\n}\n</code></pre>\n"}],"owner":{"account_id":10383212,"reputation":333,"user_id":7657219,"display_name":"Varox"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":867,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1641306880,"creation_date":1641282029,"question_id":70575422,"body_markdown":"I would like to throw different exceptions with different Strings (giving details of the error via message) with a very specific JSON structure, something like:\r\n\r\n       [\r\n          {\r\n            &quot;error&quot;: [\r\n              {\r\n                &quot;statusCode&quot;: 400,\r\n                &quot;customMessage&quot;: &quot;xxx&quot;,\r\n                &quot;timestamp&quot;: &quot;time&quot;\r\n              }\r\n            ]\r\n          }\r\n        ]\r\n\r\nIs this possible to achieve with Spring Boot? I haven&#39;t found how to do it.\r\n","title":"Create custom exception with custom json response in spring boot api","body":"<p>I would like to throw different exceptions with different Strings (giving details of the error via message) with a very specific JSON structure, something like:</p>\n<pre><code>   [\n      {\n        &quot;error&quot;: [\n          {\n            &quot;statusCode&quot;: 400,\n            &quot;customMessage&quot;: &quot;xxx&quot;,\n            &quot;timestamp&quot;: &quot;time&quot;\n          }\n        ]\n      }\n    ]\n</code></pre>\n<p>Is this possible to achieve with Spring Boot? I haven't found how to do it.</p>\n"},{"tags":["java","primefaces","jsf-2"],"comments":[{"owner":{"account_id":235505,"reputation":10708,"user_id":502366,"display_name":"Melloware"},"score":0,"creation_date":1641405795,"post_id":70580350,"comment_id":124798717,"body_markdown":"It sounds like in IceFaces you were doing something with extensionless URL&#39;s or something like that?","body":"It sounds like in IceFaces you were doing something with extensionless URL&#39;s or something like that?"},{"owner":{"account_id":472248,"reputation":19503,"user_id":880619,"accept_rate":100,"display_name":"Jasper de Vries"},"score":0,"creation_date":1641540913,"post_id":70580350,"comment_id":124835135,"body_markdown":"If you are migrating, why not use the most recent version of PrimeFaces?","body":"If you are migrating, why not use the most recent version of PrimeFaces?"},{"owner":{"account_id":17746891,"reputation":1,"user_id":17831503,"display_name":"Matteo Keli"},"score":0,"creation_date":1641802489,"post_id":70580350,"comment_id":124892358,"body_markdown":"@Melloware as far as I know, but could I could be wrong, my URL figures out as `Login.xhtml`, so If there&#39;s not something that I&#39;m missing, maybe, in my `web.xml`, the extension shows out.","body":"@Melloware as far as I know, but could I could be wrong, my URL figures out as <code>Login.xhtml</code>, so If there&#39;s not something that I&#39;m missing, maybe, in my <code>web.xml</code>, the extension shows out."},{"owner":{"account_id":17746891,"reputation":1,"user_id":17831503,"display_name":"Matteo Keli"},"score":0,"creation_date":1641802599,"post_id":70580350,"comment_id":124892393,"body_markdown":"@JasperdeVries I&#39;m using this version to adeguate with another product we have in our company, but we&#39;re thinking of switching in the next future","body":"@JasperdeVries I&#39;m using this version to adeguate with another product we have in our company, but we&#39;re thinking of switching in the next future"},{"owner":{"account_id":235505,"reputation":10708,"user_id":502366,"display_name":"Melloware"},"score":0,"creation_date":1641907034,"post_id":70580350,"comment_id":124925447,"body_markdown":"Yep I think you are missing something in your web.xml for the Servlet Mapping OR it was something magic IceFaces was doing or if you were using the JSF Rewrite project.  Something like that","body":"Yep I think you are missing something in your web.xml for the Servlet Mapping OR it was something magic IceFaces was doing or if you were using the JSF Rewrite project.  Something like that"}],"owner":{"account_id":17746891,"reputation":1,"user_id":17831503,"display_name":"Matteo Keli"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":148,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1641306655,"creation_date":1641306655,"question_id":70580350,"body_markdown":"I&#39;m quite new at PrimeFaces as I am migrating from IceFaces.\r\nMy IceFaces application shows with a single url, page content changes and when hitting F5, current view get refreshed, without reloading the page referred by the url.\r\nI expect this behaviour in my Primefaces app too, but this doesn&#39;t happen, as I go back to the page referred by the url, the login page in my case. \r\n\r\nIs this an expected behaviour? \r\n\r\nBelow the  ```web.xml```:\r\n\r\n```&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;web-app xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd&quot; version=&quot;4.0&quot;&gt;\r\n    &lt;display-name&gt;oweb20-mainweb&lt;/display-name&gt;\r\n    &lt;context-param&gt;\r\n        &lt;param-name&gt;primefaces.THEME&lt;/param-name&gt;\r\n        &lt;param-value&gt;none&lt;/param-value&gt;\r\n    &lt;/context-param&gt;\r\n    &lt;context-param&gt;\r\n        &lt;param-name&gt;com.sun.faces.validateXml&lt;/param-name&gt;\r\n        &lt;param-value&gt;true&lt;/param-value&gt;\r\n    &lt;/context-param&gt;\r\n    &lt;context-param&gt;\r\n        &lt;param-name&gt;com.sun.faces.verifyObjects&lt;/param-name&gt;\r\n        &lt;param-value&gt;false&lt;/param-value&gt;\r\n    &lt;/context-param&gt;\r\n    &lt;context-param&gt;\r\n        &lt;param-name&gt;javax.faces.STATE_SAVING_METHOD&lt;/param-name&gt;\r\n        &lt;param-value&gt;server&lt;/param-value&gt;\r\n    &lt;/context-param&gt;\r\n    &lt;context-param&gt;\r\n        &lt;param-name&gt;com.sun.faces.enableRestoreView11Compatibility&lt;/param-name&gt;\r\n        &lt;param-value&gt;true&lt;/param-value&gt;\r\n    &lt;/context-param&gt;\r\n    &lt;context-param&gt;\r\n        &lt;param-name&gt;javax.faces.DEFAULT_SUFFIX&lt;/param-name&gt;\r\n        &lt;param-value&gt;.xhtml&lt;/param-value&gt;\r\n    &lt;/context-param&gt;\r\n    &lt;context-param&gt;\r\n        &lt;param-name&gt;facelets.DEVELOPMENT&lt;/param-name&gt;\r\n        &lt;param-value&gt;false&lt;/param-value&gt;\r\n    &lt;/context-param&gt;\r\n    &lt;context-param&gt;\r\n        &lt;param-name&gt;facelets.SKIP_COMMENTS&lt;/param-name&gt;\r\n        &lt;param-value&gt;true&lt;/param-value&gt;\r\n    &lt;/context-param&gt;\r\n    &lt;context-param&gt;\r\n        &lt;param-name&gt;javax.faces.FACELETS_LIBRARIES&lt;/param-name&gt;\r\n        &lt;param-value&gt;/WEB-INF/extras/extras.xml&lt;/param-value&gt;\r\n    &lt;/context-param&gt;\r\n    &lt;servlet&gt;\r\n        &lt;servlet-name&gt;Faces Servlet&lt;/servlet-name&gt;\r\n        &lt;servlet-class&gt;javax.faces.webapp.FacesServlet&lt;/servlet-class&gt;\r\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n    &lt;/servlet&gt;\r\n    &lt;servlet&gt;\r\n        &lt;servlet-name&gt;StickyCaptcha&lt;/servlet-name&gt;\r\n        &lt;servlet-class&gt;nl.captcha.servlet.StickyCaptchaServlet&lt;/servlet-class&gt;\r\n        &lt;init-param&gt;\r\n            &lt;param-name&gt;width&lt;/param-name&gt;\r\n            &lt;param-value&gt;250&lt;/param-value&gt;\r\n        &lt;/init-param&gt;\r\n        &lt;init-param&gt;\r\n            &lt;param-name&gt;height&lt;/param-name&gt;\r\n            &lt;param-value&gt;75&lt;/param-value&gt;\r\n        &lt;/init-param&gt;\r\n    &lt;/servlet&gt;\r\n    &lt;servlet-mapping&gt;\r\n        &lt;servlet-name&gt;StickyCaptcha&lt;/servlet-name&gt;\r\n        &lt;url-pattern&gt;/stickyImg&lt;/url-pattern&gt;\r\n    &lt;/servlet-mapping&gt;\r\n    &lt;servlet-mapping&gt;\r\n        &lt;servlet-name&gt;Faces Servlet&lt;/servlet-name&gt;\r\n        &lt;url-pattern&gt;*.xhtml&lt;/url-pattern&gt;\r\n    &lt;/servlet-mapping&gt;\r\n    &lt;servlet-mapping&gt;\r\n        &lt;servlet-name&gt;Faces Servlet&lt;/servlet-name&gt;\r\n        &lt;url-pattern&gt;/faces/*&lt;/url-pattern&gt;\r\n    &lt;/servlet-mapping&gt;\r\n    &lt;session-config&gt;\r\n        &lt;session-timeout&gt;30&lt;/session-timeout&gt;\r\n    &lt;/session-config&gt;\r\n    &lt;welcome-file-list&gt;\r\n        &lt;welcome-file&gt;index.html&lt;/welcome-file&gt;\r\n    &lt;/welcome-file-list&gt;\r\n&lt;/web-app&gt;\r\n```\r\nThe ```faces-config.xml``` contains beans and navigation cases and rules, here&#39;s an example:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;faces-config version=&quot;2.0&quot; xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-facesconfig_2_0.xsd&quot;&gt;\r\n    &lt;managed-bean&gt;\r\n\t\t&lt;managed-bean-name&gt;SessionBean&lt;/managed-bean-name&gt;\r\n\t\t&lt;managed-bean-class&gt;com.sia.mainweb.web.SessionBean&lt;/managed-bean-class&gt;\r\n\t\t&lt;managed-bean-scope&gt;session&lt;/managed-bean-scope&gt;\r\n\t\t&lt;managed-property&gt;\r\n\t\t\t&lt;property-name&gt;updateManager&lt;/property-name&gt;\r\n\t\t\t&lt;value&gt;#{UIUpdateManager}&lt;/value&gt;\r\n\t\t&lt;/managed-property&gt;\r\n\t&lt;/managed-bean&gt;\r\n\t&lt;navigation-rule&gt;\r\n\t\t&lt;from-view-id&gt;/*&lt;/from-view-id&gt;\r\n        &lt;navigation-case&gt;\r\n\t\t\t&lt;from-outcome&gt;caseHome&lt;/from-outcome&gt;\r\n\t\t\t&lt;to-view-id&gt;/Home.xhtml&lt;/to-view-id&gt;\r\n\t\t&lt;/navigation-case&gt;\r\n    &lt;/navigation-rule&gt;\r\n&lt;/faces-config&gt;\r\n```\r\n\r\nTo navigate between pages, in actions, I use to return the case of the page I want to go, without redirecting to that page:\r\n```\r\n    public String home_action() {\r\n        logger.info(BaseLogging.methodName() + getTraceEnteringUser());\r\n        String caseName;\r\n        if (userAuthenticated()) {\r\n            boolean canContinue = checkUserFingerprint();\r\n            if (canContinue) {\r\n                caseName = &quot;caseHome&quot;;\r\n            }\r\n        } else {\r\n            caseName = &quot;caseNotLoggedOn&quot;;\r\n        }\r\n        logger.info(BaseLogging.methodName() + getTraceExitingUser());\r\n        return this.getNavigationManager().navigateTo(caseName);    //returns caseName\r\n    }\r\n```\r\n","title":"Problems with browser refresh and PrimeFaces 8","body":"<p>I'm quite new at PrimeFaces as I am migrating from IceFaces.\nMy IceFaces application shows with a single url, page content changes and when hitting F5, current view get refreshed, without reloading the page referred by the url.\nI expect this behaviour in my Primefaces app too, but this doesn't happen, as I go back to the page referred by the url, the login page in my case.</p>\n<p>Is this an expected behaviour?</p>\n<p>Below the  <code>web.xml</code>:</p>\n<pre><code>&lt;web-app xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd&quot; version=&quot;4.0&quot;&gt;\n    &lt;display-name&gt;oweb20-mainweb&lt;/display-name&gt;\n    &lt;context-param&gt;\n        &lt;param-name&gt;primefaces.THEME&lt;/param-name&gt;\n        &lt;param-value&gt;none&lt;/param-value&gt;\n    &lt;/context-param&gt;\n    &lt;context-param&gt;\n        &lt;param-name&gt;com.sun.faces.validateXml&lt;/param-name&gt;\n        &lt;param-value&gt;true&lt;/param-value&gt;\n    &lt;/context-param&gt;\n    &lt;context-param&gt;\n        &lt;param-name&gt;com.sun.faces.verifyObjects&lt;/param-name&gt;\n        &lt;param-value&gt;false&lt;/param-value&gt;\n    &lt;/context-param&gt;\n    &lt;context-param&gt;\n        &lt;param-name&gt;javax.faces.STATE_SAVING_METHOD&lt;/param-name&gt;\n        &lt;param-value&gt;server&lt;/param-value&gt;\n    &lt;/context-param&gt;\n    &lt;context-param&gt;\n        &lt;param-name&gt;com.sun.faces.enableRestoreView11Compatibility&lt;/param-name&gt;\n        &lt;param-value&gt;true&lt;/param-value&gt;\n    &lt;/context-param&gt;\n    &lt;context-param&gt;\n        &lt;param-name&gt;javax.faces.DEFAULT_SUFFIX&lt;/param-name&gt;\n        &lt;param-value&gt;.xhtml&lt;/param-value&gt;\n    &lt;/context-param&gt;\n    &lt;context-param&gt;\n        &lt;param-name&gt;facelets.DEVELOPMENT&lt;/param-name&gt;\n        &lt;param-value&gt;false&lt;/param-value&gt;\n    &lt;/context-param&gt;\n    &lt;context-param&gt;\n        &lt;param-name&gt;facelets.SKIP_COMMENTS&lt;/param-name&gt;\n        &lt;param-value&gt;true&lt;/param-value&gt;\n    &lt;/context-param&gt;\n    &lt;context-param&gt;\n        &lt;param-name&gt;javax.faces.FACELETS_LIBRARIES&lt;/param-name&gt;\n        &lt;param-value&gt;/WEB-INF/extras/extras.xml&lt;/param-value&gt;\n    &lt;/context-param&gt;\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;Faces Servlet&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;javax.faces.webapp.FacesServlet&lt;/servlet-class&gt;\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n    &lt;/servlet&gt;\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;StickyCaptcha&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;nl.captcha.servlet.StickyCaptchaServlet&lt;/servlet-class&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;width&lt;/param-name&gt;\n            &lt;param-value&gt;250&lt;/param-value&gt;\n        &lt;/init-param&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;height&lt;/param-name&gt;\n            &lt;param-value&gt;75&lt;/param-value&gt;\n        &lt;/init-param&gt;\n    &lt;/servlet&gt;\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;StickyCaptcha&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/stickyImg&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;Faces Servlet&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;*.xhtml&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;Faces Servlet&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/faces/*&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n    &lt;session-config&gt;\n        &lt;session-timeout&gt;30&lt;/session-timeout&gt;\n    &lt;/session-config&gt;\n    &lt;welcome-file-list&gt;\n        &lt;welcome-file&gt;index.html&lt;/welcome-file&gt;\n    &lt;/welcome-file-list&gt;\n&lt;/web-app&gt;\n</code></pre>\n<p>The <code>faces-config.xml</code> contains beans and navigation cases and rules, here's an example:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;faces-config version=&quot;2.0&quot; xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-facesconfig_2_0.xsd&quot;&gt;\n    &lt;managed-bean&gt;\n        &lt;managed-bean-name&gt;SessionBean&lt;/managed-bean-name&gt;\n        &lt;managed-bean-class&gt;com.sia.mainweb.web.SessionBean&lt;/managed-bean-class&gt;\n        &lt;managed-bean-scope&gt;session&lt;/managed-bean-scope&gt;\n        &lt;managed-property&gt;\n            &lt;property-name&gt;updateManager&lt;/property-name&gt;\n            &lt;value&gt;#{UIUpdateManager}&lt;/value&gt;\n        &lt;/managed-property&gt;\n    &lt;/managed-bean&gt;\n    &lt;navigation-rule&gt;\n        &lt;from-view-id&gt;/*&lt;/from-view-id&gt;\n        &lt;navigation-case&gt;\n            &lt;from-outcome&gt;caseHome&lt;/from-outcome&gt;\n            &lt;to-view-id&gt;/Home.xhtml&lt;/to-view-id&gt;\n        &lt;/navigation-case&gt;\n    &lt;/navigation-rule&gt;\n&lt;/faces-config&gt;\n</code></pre>\n<p>To navigate between pages, in actions, I use to return the case of the page I want to go, without redirecting to that page:</p>\n<pre><code>    public String home_action() {\n        logger.info(BaseLogging.methodName() + getTraceEnteringUser());\n        String caseName;\n        if (userAuthenticated()) {\n            boolean canContinue = checkUserFingerprint();\n            if (canContinue) {\n                caseName = &quot;caseHome&quot;;\n            }\n        } else {\n            caseName = &quot;caseNotLoggedOn&quot;;\n        }\n        logger.info(BaseLogging.methodName() + getTraceExitingUser());\n        return this.getNavigationManager().navigateTo(caseName);    //returns caseName\n    }\n</code></pre>\n"},{"tags":["java","javafx","model-view-controller","observer-pattern"],"answers":[{"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1641306552,"creation_date":1641304545,"answer_id":70579867,"question_id":70578343,"body_markdown":"In the standard MVC architecture, your model should contain a list of listeners, and should notify those listeners of events as needed. Your controller (which in JavaFX with FXML is more like a MVP presenter) should be a listener and should register itself with the model.\r\n\r\nSo:\r\n\r\n    public interface WatchListener {\r\n        public void startedProcessing();\r\n        public void fileProcessed(String data);\r\n        public void notFound();\r\n    }\r\n\r\n&lt;!-- --&gt;\r\n\r\n    public class WatchController extends Thread {\r\n        \r\n        private String pathDirectory;\r\n        \r\n        private final List&lt;WatchListener&gt; listeners = new ArrayList&lt;&gt;();\r\n    \r\n        public void addListener(WatchListener listener) {\r\n            listeners.add(listener);\r\n        }\r\n    \r\n        public void removeListener(WatchListener listener) {\r\n            listeners.remove(listener);\r\n        }\r\n    \r\n        public void run() {\r\n            if(!found) {\r\n                Platform.runLater(() -&gt; {\r\n                    listeners.forEach(WatchListener::notFound);\r\n                }); \r\n            } else {\r\n                final JsonFile firstJCopy = firstJ;\r\n                Platform.runLater(() -&gt; {\r\n                    listeners.forEach(WatchListener::startedProcessing);\r\n                });\r\n                \r\n                fullPathFile = pathDirectory + &quot;\\\\&quot; + firstJ.getNameFile();\r\n                System.out.println(fullPathFile);\r\n                strJ = readFileAsList(fullPathFile);\r\n                String strJCopy = strJ;\r\n                Platform.runLater(() -&gt; {\r\n                    listeners.forEach(listener -&gt; listener.fileProcessed(strJCopy));\r\n                });\r\n            }\r\n        }\r\n    }\r\n\r\nThen in your controller:\r\n\r\n    public class JsonOverviewController implements WatchListener {\r\n        \r\n        // fields and initialize method as before\r\n        \r\n        \r\n        @FXML\r\n        private void handleButtonAction(ActionEvent event) {\r\n            // Button was clicked, do something...\r\n            System.out.println(&quot;myButton premuto&quot;);\r\n            DirectoryChooser directoryChooser = new DirectoryChooser();\r\n            Node node = (Node) event.getSource();\r\n            File selectedDirectory;\r\n            Stage thisStage = (Stage) node.getScene().getWindow();\r\n            String absPathSelDir;\r\n            \r\n            selectedDirectory = directoryChooser.showDialog(thisStage);\r\n            if(selectedDirectory == null ) return;\r\n            \r\n            absPathSelDir = selectedDirectory.getAbsolutePath();\r\n            \r\n            myDirWatch.setText(absPathSelDir);\r\n                \r\n            if(jfWatch != null) jfWatch.interrupt();\r\n            \r\n            jfWatch = new WatchController();\r\n            watchController.addListener(this);\r\n            jfWatch.setPathDirectory(absPathSelDir);\r\n            \r\n            jfWatch.start();\r\n            \r\n            myStateLabel.setText(&quot;La cartella &quot; + \r\n                                 absPathSelDir + \r\n                                 &quot; &#232; monitorata.&quot;);    \r\n        }\r\n        \r\n        @Override\r\n        public void startedProcessing() {\r\n            myCurrentJsonFileId.setText(&quot;&quot;);\r\n            myCurrentJsonFileName.setText(&quot;&quot;);\r\n            myCurrentJsonFileContent.setText(&quot;Anteprima file json non disponibile.&quot;);\r\n        }\r\n    \r\n        @Override\r\n        public void fileProcessed(String data) {\r\n            myCurrentJsonFileContent.setText(data);\r\n        }\r\n    \r\n        @Override\r\n        public void notFound() {\r\n            myCurrentJsonFileId.setText(&quot;&quot;);\r\n            myCurrentJsonFileName.setText(&quot;&quot;);\r\n            myCurrentJsonFileContent.setText(&quot;Anteprima file json non disponibile.&quot;);  \r\n        }\r\n    }\r\n\r\n---\r\n\r\nA better approach than using a plain thread here may be to use the JavaFX concurrent API and implement `WatchController` as a [`Task`](https://openjfx.io/javadoc/16/javafx.graphics/javafx/concurrent/Task.html). This has support for executing code for when the task is started, completes, etc., on the FX Application Thread (it basically handles all the `Platform.runLater()` calls for you as the state changes). This would look something like:\r\n\r\n    public class WatchController extends Task&lt;String&gt; {\r\n    \r\n        private final String pathDirectory;\r\n    \r\n        public WatchController(String pathDirectory) {\r\n            this.pathDirectory = pathDirectory ;\r\n        }\r\n    \r\n        @Override\r\n        public String call() throws Exception {\r\n            if(!found) {\r\n                throw new FileNotFoundException(pathDirectory + &quot; not found&quot;);\r\n            } else {\r\n                final JsonFile firstJCopy = firstJ;\r\n                fullPathFile = pathDirectory + &quot;\\\\&quot; + firstJ.getNameFile();\r\n                System.out.println(fullPathFile);\r\n                return readFileAsList(fullPathFile);\r\n            }\r\n        }\r\n    }\r\n\r\nand then in the controller:\r\n\r\n    public class JsonOverviewController implements WatchListener {\r\n    \r\n        // fields and initialize method as before\r\n    \r\n        private final Executor exec = Executors.newCachedThreadPool();\r\n    \r\n    \r\n        @FXML\r\n        private void handleButtonAction(ActionEvent event) {\r\n            // Button was clicked, do something...\r\n            System.out.println(&quot;myButton premuto&quot;);\r\n            DirectoryChooser directoryChooser = new DirectoryChooser();\r\n    \r\n            File selectedDirectory = directoryChooser.showDialog(myButton.getScene().getWindow());\r\n            if(selectedDirectory == null ) return;\r\n    \r\n            String absPathSelDir = selectedDirectory.getAbsolutePath();\r\n    \r\n            myDirWatch.setText(absPathSelDir);\r\n    \r\n            if(jfWatch != null) jfWatch.cancel();\r\n    \r\n            jfWatch = new WatchController(absPathSelDir);\r\n            watchController.setOnRunning(evt -&gt; startedProcessing());\r\n            watchController.setOnFailed(evt -&gt; notFound());\r\n            watchController.setOnSucceeded(evt -&gt; fileProcessed(jfWatch.getValue());\r\n    \r\n            exec.execute(jfWatch);\r\n    \r\n            myStateLabel.setText(&quot;La cartella &quot; + \r\n                                 absPathSelDir + \r\n                                 &quot; &#232; monitorata.&quot;);    \r\n        }\r\n    \r\n        @Override\r\n        public void startedProcessing() {\r\n            myCurrentJsonFileId.setText(&quot;&quot;);\r\n            myCurrentJsonFileName.setText(&quot;&quot;);\r\n            myCurrentJsonFileContent.setText(&quot;Anteprima file json non disponibile.&quot;);\r\n        }\r\n    \r\n        @Override\r\n        public void fileProcessed(String data) {\r\n            myCurrentJsonFileContent.setText(data);\r\n        }\r\n    \r\n        @Override\r\n        public void notFound() {\r\n            myCurrentJsonFileId.setText(&quot;&quot;);\r\n            myCurrentJsonFileName.setText(&quot;&quot;);\r\n            myCurrentJsonFileContent.setText(&quot;Anteprima file json non disponibile.&quot;);  \r\n        }\r\n    }\r\n\r\nYou probably need to do a little more work in the `Task` implementation to fully support cancelling the task in an appropriate way. See the [`Task` documentation](https://openjfx.io/javadoc/16/javafx.graphics/javafx/concurrent/Task.html) for more details.","title":"Javafx from a thread notify events to controller class for setting Label,Textfield based on model","body":"<p>In the standard MVC architecture, your model should contain a list of listeners, and should notify those listeners of events as needed. Your controller (which in JavaFX with FXML is more like a MVP presenter) should be a listener and should register itself with the model.</p>\n<p>So:</p>\n<pre><code>public interface WatchListener {\n    public void startedProcessing();\n    public void fileProcessed(String data);\n    public void notFound();\n}\n</code></pre>\n\n<pre><code>public class WatchController extends Thread {\n    \n    private String pathDirectory;\n    \n    private final List&lt;WatchListener&gt; listeners = new ArrayList&lt;&gt;();\n\n    public void addListener(WatchListener listener) {\n        listeners.add(listener);\n    }\n\n    public void removeListener(WatchListener listener) {\n        listeners.remove(listener);\n    }\n\n    public void run() {\n        if(!found) {\n            Platform.runLater(() -&gt; {\n                listeners.forEach(WatchListener::notFound);\n            }); \n        } else {\n            final JsonFile firstJCopy = firstJ;\n            Platform.runLater(() -&gt; {\n                listeners.forEach(WatchListener::startedProcessing);\n            });\n            \n            fullPathFile = pathDirectory + &quot;\\\\&quot; + firstJ.getNameFile();\n            System.out.println(fullPathFile);\n            strJ = readFileAsList(fullPathFile);\n            String strJCopy = strJ;\n            Platform.runLater(() -&gt; {\n                listeners.forEach(listener -&gt; listener.fileProcessed(strJCopy));\n            });\n        }\n    }\n}\n</code></pre>\n<p>Then in your controller:</p>\n<pre><code>public class JsonOverviewController implements WatchListener {\n    \n    // fields and initialize method as before\n    \n    \n    @FXML\n    private void handleButtonAction(ActionEvent event) {\n        // Button was clicked, do something...\n        System.out.println(&quot;myButton premuto&quot;);\n        DirectoryChooser directoryChooser = new DirectoryChooser();\n        Node node = (Node) event.getSource();\n        File selectedDirectory;\n        Stage thisStage = (Stage) node.getScene().getWindow();\n        String absPathSelDir;\n        \n        selectedDirectory = directoryChooser.showDialog(thisStage);\n        if(selectedDirectory == null ) return;\n        \n        absPathSelDir = selectedDirectory.getAbsolutePath();\n        \n        myDirWatch.setText(absPathSelDir);\n            \n        if(jfWatch != null) jfWatch.interrupt();\n        \n        jfWatch = new WatchController();\n        watchController.addListener(this);\n        jfWatch.setPathDirectory(absPathSelDir);\n        \n        jfWatch.start();\n        \n        myStateLabel.setText(&quot;La cartella &quot; + \n                             absPathSelDir + \n                             &quot; è monitorata.&quot;);    \n    }\n    \n    @Override\n    public void startedProcessing() {\n        myCurrentJsonFileId.setText(&quot;&quot;);\n        myCurrentJsonFileName.setText(&quot;&quot;);\n        myCurrentJsonFileContent.setText(&quot;Anteprima file json non disponibile.&quot;);\n    }\n\n    @Override\n    public void fileProcessed(String data) {\n        myCurrentJsonFileContent.setText(data);\n    }\n\n    @Override\n    public void notFound() {\n        myCurrentJsonFileId.setText(&quot;&quot;);\n        myCurrentJsonFileName.setText(&quot;&quot;);\n        myCurrentJsonFileContent.setText(&quot;Anteprima file json non disponibile.&quot;);  \n    }\n}\n</code></pre>\n<hr />\n<p>A better approach than using a plain thread here may be to use the JavaFX concurrent API and implement <code>WatchController</code> as a <a href=\"https://openjfx.io/javadoc/16/javafx.graphics/javafx/concurrent/Task.html\" rel=\"nofollow noreferrer\"><code>Task</code></a>. This has support for executing code for when the task is started, completes, etc., on the FX Application Thread (it basically handles all the <code>Platform.runLater()</code> calls for you as the state changes). This would look something like:</p>\n<pre><code>public class WatchController extends Task&lt;String&gt; {\n\n    private final String pathDirectory;\n\n    public WatchController(String pathDirectory) {\n        this.pathDirectory = pathDirectory ;\n    }\n\n    @Override\n    public String call() throws Exception {\n        if(!found) {\n            throw new FileNotFoundException(pathDirectory + &quot; not found&quot;);\n        } else {\n            final JsonFile firstJCopy = firstJ;\n            fullPathFile = pathDirectory + &quot;\\\\&quot; + firstJ.getNameFile();\n            System.out.println(fullPathFile);\n            return readFileAsList(fullPathFile);\n        }\n    }\n}\n</code></pre>\n<p>and then in the controller:</p>\n<pre><code>public class JsonOverviewController implements WatchListener {\n\n    // fields and initialize method as before\n\n    private final Executor exec = Executors.newCachedThreadPool();\n\n\n    @FXML\n    private void handleButtonAction(ActionEvent event) {\n        // Button was clicked, do something...\n        System.out.println(&quot;myButton premuto&quot;);\n        DirectoryChooser directoryChooser = new DirectoryChooser();\n\n        File selectedDirectory = directoryChooser.showDialog(myButton.getScene().getWindow());\n        if(selectedDirectory == null ) return;\n\n        String absPathSelDir = selectedDirectory.getAbsolutePath();\n\n        myDirWatch.setText(absPathSelDir);\n\n        if(jfWatch != null) jfWatch.cancel();\n\n        jfWatch = new WatchController(absPathSelDir);\n        watchController.setOnRunning(evt -&gt; startedProcessing());\n        watchController.setOnFailed(evt -&gt; notFound());\n        watchController.setOnSucceeded(evt -&gt; fileProcessed(jfWatch.getValue());\n\n        exec.execute(jfWatch);\n\n        myStateLabel.setText(&quot;La cartella &quot; + \n                             absPathSelDir + \n                             &quot; è monitorata.&quot;);    \n    }\n\n    @Override\n    public void startedProcessing() {\n        myCurrentJsonFileId.setText(&quot;&quot;);\n        myCurrentJsonFileName.setText(&quot;&quot;);\n        myCurrentJsonFileContent.setText(&quot;Anteprima file json non disponibile.&quot;);\n    }\n\n    @Override\n    public void fileProcessed(String data) {\n        myCurrentJsonFileContent.setText(data);\n    }\n\n    @Override\n    public void notFound() {\n        myCurrentJsonFileId.setText(&quot;&quot;);\n        myCurrentJsonFileName.setText(&quot;&quot;);\n        myCurrentJsonFileContent.setText(&quot;Anteprima file json non disponibile.&quot;);  \n    }\n}\n</code></pre>\n<p>You probably need to do a little more work in the <code>Task</code> implementation to fully support cancelling the task in an appropriate way. See the <a href=\"https://openjfx.io/javadoc/16/javafx.graphics/javafx/concurrent/Task.html\" rel=\"nofollow noreferrer\"><code>Task</code> documentation</a> for more details.</p>\n"}],"owner":{"account_id":22290225,"reputation":7,"user_id":16517227,"display_name":"Nicola Paganotti"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":258,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70579867,"answer_count":1,"score":0,"last_activity_date":1641306552,"creation_date":1641296992,"question_id":70578343,"body_markdown":"\r\nIn thread I run some code and I need update javafx ui elements that are in JsonOverviewController.\r\nI don&#39;t want to pass ui elements in model or class controller.\r\nI don&#39;t want this\r\n```\r\n\t\tjfWatch = new WatchController();\r\n\t\tjfWatch.setPathDirectory(absPathSelDir);\r\n\t\tjfWatch.setMyJsonFilesTable(myJsonFilesTable);\r\n\t\tjfWatch.setMyIdTableColumn(myIdTableColumn);\r\n\t\t...\r\n\t\t\r\n\t\tjfWatch.setMyStateLabel(myStateLabel);\r\n\t\t\r\n\t\tjfWatch.start();\r\n```\r\nThe code below show that Label.TextField are pass to thread and in run method update them.\r\n```\r\npackage it.einaudi.storejson;\r\n\r\nimport java.io.File;\r\nimport java.io.FileNotFoundException;\r\nimport java.io.IOException;\r\nimport java.sql.SQLException;\r\n\r\nimport com.fasterxml.jackson.core.JsonParseException;\r\n\r\nimport javafx.application.Platform;\r\nimport javafx.event.ActionEvent;\r\nimport javafx.fxml.FXML;\r\nimport javafx.scene.Node;\r\nimport javafx.scene.control.Button;\r\nimport javafx.scene.control.Label;\r\nimport javafx.scene.control.MenuItem;\r\nimport javafx.scene.control.TableColumn;\r\nimport javafx.scene.control.TableView;\r\nimport javafx.scene.control.TextArea;\r\nimport javafx.scene.control.TextField;\r\nimport javafx.scene.control.cell.PropertyValueFactory;\r\nimport javafx.stage.DirectoryChooser;\r\nimport javafx.stage.Stage;\r\nimport it.einaudi.storejson.model.ConnectionConfig;\r\nimport it.einaudi.storejson.model.JsonFile;\r\nimport it.einaudi.storejson.model.JsonFileManager;\r\n\r\npublic class JsonOverviewController {\r\n\t\r\n\t@FXML\r\n\tprivate Button myButton;\r\n\t\r\n\t@FXML\r\n\tprivate Label myDirWatch;\r\n\t\r\n\t@FXML\r\n\tprivate Label myCurrentJsonFileId;\r\n\t\r\n\t@FXML\r\n\tprivate Label myCurrentJsonFileName;\r\n\t\r\n\t@FXML\r\n\tprivate TextArea myCurrentJsonFileContent;\r\n\t\r\n\t@FXML\r\n\tprivate Button myImportButton;\r\n\t\r\n\t@FXML\r\n\tprivate TableView&lt;JsonFile&gt; myJsonFilesTable;\r\n\t\r\n\t@FXML\r\n\tprivate TableColumn&lt;JsonFile, String&gt; myIdTableColumn;\r\n\t\r\n\t@FXML\r\n\tprivate TableColumn&lt;JsonFile, String&gt; myNameFileTableColumn;\r\n\t\r\n\t@FXML\r\n\tprivate TableColumn&lt;JsonFile, String&gt; myStateTableColumn;\r\n\t\r\n\t@FXML\r\n\tprivate TextField myConnFullurlField;\r\n\t\r\n\t@FXML\r\n\tprivate TextField myConnUsernameField;\r\n\t\r\n\t@FXML\r\n\tprivate TextField myConnPasswordField;\r\n\t\r\n\t@FXML\r\n\tprivate TextField myConnNamedbField;\r\n\t\r\n\t@FXML\r\n\tprivate Label myStateLabel;\r\n\t\r\n\t//private JsonWatchService threadJsonWatch;\r\n\tprivate WatchController jfWatch;\r\n\t\r\n\tprivate JsonFileManager jfManager;\r\n\t\r\n\t/**\r\n\t * The constructor (is called before the initialize()-method).\r\n\t */\r\n\tpublic JsonOverviewController() {\t\t\r\n\t\t//threadJsonWatch = null;\r\n\t\tjfManager = null;\r\n\t\tjfWatch = null;\r\n\t}\r\n\t\r\n\t\r\n\t@FXML\r\n\tprivate void handleButtonAction(ActionEvent event) {\r\n        // Button was clicked, do something...\r\n\t\tSystem.out.println(&quot;myButton premuto&quot;);\r\n\t\tDirectoryChooser directoryChooser = new DirectoryChooser();\r\n\t\tNode node = (Node) event.getSource();\r\n\t\tFile selectedDirectory;\r\n\t    Stage thisStage = (Stage) node.getScene().getWindow();\r\n\t    String absPathSelDir;\r\n\t    \r\n\t    selectedDirectory = directoryChooser.showDialog(thisStage);\r\n\t    if(selectedDirectory == null ) return;\r\n\t    \r\n\t    absPathSelDir = selectedDirectory.getAbsolutePath();\r\n\t    \r\n\t\tmyDirWatch.setText(absPathSelDir);\r\n\t\t\t\r\n\t\tif(jfWatch != null) jfWatch.interrupt();\r\n\t\t\r\n\t\tjfWatch = new WatchController();\r\n\t\tjfWatch.setPathDirectory(absPathSelDir);\r\n\t\tjfWatch.setMyJsonFilesTable(myJsonFilesTable);\r\n\t\tjfWatch.setMyIdTableColumn(myIdTableColumn);\r\n\t\tjfWatch.setMyNameFileTableColumn(myNameFileTableColumn);\r\n\t\tjfWatch.setMyStateTableColumn(myStateTableColumn);\r\n\t\t\r\n\t\tjfWatch.setMyCurrentJsonFileId(myCurrentJsonFileId);\r\n\t\tjfWatch.setMyCurrentJsonFileName(myCurrentJsonFileName);\r\n\t\tjfWatch.setMyCurrentJsonFileContent(myCurrentJsonFileContent);\r\n\t\t\r\n\t\tjfWatch.setMyStateLabel(myStateLabel);\r\n\t\t\r\n\t\tjfWatch.start();\r\n\t\t\r\n    \tmyStateLabel.setText(&quot;La cartella &quot; + \r\n    \t\t\t\t\t\t absPathSelDir + \r\n\t\t\t\t \t\t\t &quot; &#232; monitorata.&quot;);\t   \r\n\t}\r\n\t\r\n\t/**\r\n\t * Initializes the controller class. This method is automatically called\r\n\t * after the fxml file has been loaded.\r\n\t */\r\n\t\r\n\t/**\r\n\t * Initializes the controller class. This method is automatically called\r\n\t * after the fxml file has been loaded.\r\n\t */\r\n\t@FXML\r\n\tprivate void initialize() {\r\n\t\t// Handle Button event.\r\n\t\tmyButton.setOnAction(this::handleButtonAction);\r\n\t\t\r\n        myIdTableColumn.setCellValueFactory(new PropertyValueFactory&lt;JsonFile,String&gt;(&quot;idFile&quot;));\r\n        myNameFileTableColumn.setCellValueFactory(new PropertyValueFactory&lt;JsonFile,String&gt;(&quot;nameFile&quot;));\r\n        myStateTableColumn.setCellValueFactory(new PropertyValueFactory&lt;JsonFile,String&gt;(&quot;stateFile&quot;));\r\n        \r\n\t}\r\n\t\r\n}\r\n\r\npublic class WatchController extends Thread {\r\n\t\r\n\tprivate String pathDirectory;\r\n\t\r\n\tprivate Label myCurrentJsonFileId;\r\n\t\r\n\tprivate Label myCurrentJsonFileName;\r\n\t\r\n\tprivate TextArea myCurrentJsonFileContent; \r\n\t\r\n\tprivate TableView&lt;JsonFile&gt; myJsonFilesTable;\r\n\t\r\n\tprivate TableColumn&lt;JsonFile, String&gt; myIdTableColumn;\r\n\t\r\n\tprivate TableColumn&lt;JsonFile, String&gt; myNameFileTableColumn;\r\n\t\r\n\tprivate TableColumn&lt;JsonFile, String&gt; myStateTableColumn;\r\n\t\r\n\tprivate Label myStateLabel;\r\n\r\n\tpublic void run() {\r\n\t\tif(!found) {\r\n\t\t\tPlatform.runLater(() -&gt; myCurrentJsonFileId.setText(&quot;&quot;));\r\n\t\t\tPlatform.runLater(() -&gt; myCurrentJsonFileName.setText(&quot;&quot;));\r\n\t\t\tPlatform.runLater(() -&gt; myCurrentJsonFileContent.setText(&quot;Anteprima file json non disponibile.&quot;));\t\r\n\t\t}else {\r\n\t\t\tfinal JsonFile firstJCopy = firstJ;\r\n\t\t\tPlatform.runLater(() -&gt; myCurrentJsonFileId.setText(firstJCopy.getIdFile()));\r\n\t\t\tPlatform.runLater(() -&gt; myCurrentJsonFileName.setText(firstJCopy.getNameFile()));\r\n\t\t\t\r\n\t\t\tfullPathFile = pathDirectory + &quot;\\\\&quot; + firstJ.getNameFile();\r\n\t\t\tSystem.out.println(fullPathFile);\r\n\t\t\tstrJ = readFileAsList(fullPathFile);\r\n\t\t\tString strJCopy = strJ;\r\n\t\t\tPlatform.runLater(() -&gt; myCurrentJsonFileContent.setText(strJCopy));\r\n\t\t}\r\n    }\r\n}\r\n```\r\nOn the contrary I want that my thread notify to controller that has occurred and send to controller some data of model. Thus in controller class based on data model a set Label,Textfield correctly.\r\n ","title":"Javafx from a thread notify events to controller class for setting Label,Textfield based on model","body":"<p>In thread I run some code and I need update javafx ui elements that are in JsonOverviewController.\nI don't want to pass ui elements in model or class controller.\nI don't want this</p>\n<pre><code>        jfWatch = new WatchController();\n        jfWatch.setPathDirectory(absPathSelDir);\n        jfWatch.setMyJsonFilesTable(myJsonFilesTable);\n        jfWatch.setMyIdTableColumn(myIdTableColumn);\n        ...\n        \n        jfWatch.setMyStateLabel(myStateLabel);\n        \n        jfWatch.start();\n</code></pre>\n<p>The code below show that Label.TextField are pass to thread and in run method update them.</p>\n<pre><code>package it.einaudi.storejson;\n\nimport java.io.File;\nimport java.io.FileNotFoundException;\nimport java.io.IOException;\nimport java.sql.SQLException;\n\nimport com.fasterxml.jackson.core.JsonParseException;\n\nimport javafx.application.Platform;\nimport javafx.event.ActionEvent;\nimport javafx.fxml.FXML;\nimport javafx.scene.Node;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.Label;\nimport javafx.scene.control.MenuItem;\nimport javafx.scene.control.TableColumn;\nimport javafx.scene.control.TableView;\nimport javafx.scene.control.TextArea;\nimport javafx.scene.control.TextField;\nimport javafx.scene.control.cell.PropertyValueFactory;\nimport javafx.stage.DirectoryChooser;\nimport javafx.stage.Stage;\nimport it.einaudi.storejson.model.ConnectionConfig;\nimport it.einaudi.storejson.model.JsonFile;\nimport it.einaudi.storejson.model.JsonFileManager;\n\npublic class JsonOverviewController {\n    \n    @FXML\n    private Button myButton;\n    \n    @FXML\n    private Label myDirWatch;\n    \n    @FXML\n    private Label myCurrentJsonFileId;\n    \n    @FXML\n    private Label myCurrentJsonFileName;\n    \n    @FXML\n    private TextArea myCurrentJsonFileContent;\n    \n    @FXML\n    private Button myImportButton;\n    \n    @FXML\n    private TableView&lt;JsonFile&gt; myJsonFilesTable;\n    \n    @FXML\n    private TableColumn&lt;JsonFile, String&gt; myIdTableColumn;\n    \n    @FXML\n    private TableColumn&lt;JsonFile, String&gt; myNameFileTableColumn;\n    \n    @FXML\n    private TableColumn&lt;JsonFile, String&gt; myStateTableColumn;\n    \n    @FXML\n    private TextField myConnFullurlField;\n    \n    @FXML\n    private TextField myConnUsernameField;\n    \n    @FXML\n    private TextField myConnPasswordField;\n    \n    @FXML\n    private TextField myConnNamedbField;\n    \n    @FXML\n    private Label myStateLabel;\n    \n    //private JsonWatchService threadJsonWatch;\n    private WatchController jfWatch;\n    \n    private JsonFileManager jfManager;\n    \n    /**\n     * The constructor (is called before the initialize()-method).\n     */\n    public JsonOverviewController() {       \n        //threadJsonWatch = null;\n        jfManager = null;\n        jfWatch = null;\n    }\n    \n    \n    @FXML\n    private void handleButtonAction(ActionEvent event) {\n        // Button was clicked, do something...\n        System.out.println(&quot;myButton premuto&quot;);\n        DirectoryChooser directoryChooser = new DirectoryChooser();\n        Node node = (Node) event.getSource();\n        File selectedDirectory;\n        Stage thisStage = (Stage) node.getScene().getWindow();\n        String absPathSelDir;\n        \n        selectedDirectory = directoryChooser.showDialog(thisStage);\n        if(selectedDirectory == null ) return;\n        \n        absPathSelDir = selectedDirectory.getAbsolutePath();\n        \n        myDirWatch.setText(absPathSelDir);\n            \n        if(jfWatch != null) jfWatch.interrupt();\n        \n        jfWatch = new WatchController();\n        jfWatch.setPathDirectory(absPathSelDir);\n        jfWatch.setMyJsonFilesTable(myJsonFilesTable);\n        jfWatch.setMyIdTableColumn(myIdTableColumn);\n        jfWatch.setMyNameFileTableColumn(myNameFileTableColumn);\n        jfWatch.setMyStateTableColumn(myStateTableColumn);\n        \n        jfWatch.setMyCurrentJsonFileId(myCurrentJsonFileId);\n        jfWatch.setMyCurrentJsonFileName(myCurrentJsonFileName);\n        jfWatch.setMyCurrentJsonFileContent(myCurrentJsonFileContent);\n        \n        jfWatch.setMyStateLabel(myStateLabel);\n        \n        jfWatch.start();\n        \n        myStateLabel.setText(&quot;La cartella &quot; + \n                             absPathSelDir + \n                             &quot; è monitorata.&quot;);    \n    }\n    \n    /**\n     * Initializes the controller class. This method is automatically called\n     * after the fxml file has been loaded.\n     */\n    \n    /**\n     * Initializes the controller class. This method is automatically called\n     * after the fxml file has been loaded.\n     */\n    @FXML\n    private void initialize() {\n        // Handle Button event.\n        myButton.setOnAction(this::handleButtonAction);\n        \n        myIdTableColumn.setCellValueFactory(new PropertyValueFactory&lt;JsonFile,String&gt;(&quot;idFile&quot;));\n        myNameFileTableColumn.setCellValueFactory(new PropertyValueFactory&lt;JsonFile,String&gt;(&quot;nameFile&quot;));\n        myStateTableColumn.setCellValueFactory(new PropertyValueFactory&lt;JsonFile,String&gt;(&quot;stateFile&quot;));\n        \n    }\n    \n}\n\npublic class WatchController extends Thread {\n    \n    private String pathDirectory;\n    \n    private Label myCurrentJsonFileId;\n    \n    private Label myCurrentJsonFileName;\n    \n    private TextArea myCurrentJsonFileContent; \n    \n    private TableView&lt;JsonFile&gt; myJsonFilesTable;\n    \n    private TableColumn&lt;JsonFile, String&gt; myIdTableColumn;\n    \n    private TableColumn&lt;JsonFile, String&gt; myNameFileTableColumn;\n    \n    private TableColumn&lt;JsonFile, String&gt; myStateTableColumn;\n    \n    private Label myStateLabel;\n\n    public void run() {\n        if(!found) {\n            Platform.runLater(() -&gt; myCurrentJsonFileId.setText(&quot;&quot;));\n            Platform.runLater(() -&gt; myCurrentJsonFileName.setText(&quot;&quot;));\n            Platform.runLater(() -&gt; myCurrentJsonFileContent.setText(&quot;Anteprima file json non disponibile.&quot;));  \n        }else {\n            final JsonFile firstJCopy = firstJ;\n            Platform.runLater(() -&gt; myCurrentJsonFileId.setText(firstJCopy.getIdFile()));\n            Platform.runLater(() -&gt; myCurrentJsonFileName.setText(firstJCopy.getNameFile()));\n            \n            fullPathFile = pathDirectory + &quot;\\\\&quot; + firstJ.getNameFile();\n            System.out.println(fullPathFile);\n            strJ = readFileAsList(fullPathFile);\n            String strJCopy = strJ;\n            Platform.runLater(() -&gt; myCurrentJsonFileContent.setText(strJCopy));\n        }\n    }\n}\n</code></pre>\n<p>On the contrary I want that my thread notify to controller that has occurred and send to controller some data of model. Thus in controller class based on data model a set Label,Textfield correctly.</p>\n"},{"tags":["java","android","android-studio","opencv","kotlin"],"answers":[{"tags":[],"owner":{"account_id":23825469,"reputation":79,"user_id":17832591,"display_name":"phoster.de"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1641306528,"creation_date":1641306528,"answer_id":70580315,"question_id":69823467,"body_markdown":"I ran into the same error with Android Studio 2020.3.1 and fixed the error by adding  this on top of the skd&#39;s build gradle (above &#39;apply plugin...&#39;): \r\n\r\n    buildscript {\r\n        ext {\r\n            kotlinVersion = &quot;1.4.0&quot;\r\n        }\r\n        dependencies {\r\n            classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlinVersion&quot;\r\n        }\r\n        repositories {\r\n            mavenCentral()\r\n        }\r\n    }\r\n\r\n","title":"Error:Plugin with id &#39;kotlin-android&#39; not found. on android studio","body":"<p>I ran into the same error with Android Studio 2020.3.1 and fixed the error by adding  this on top of the skd's build gradle (above 'apply plugin...'):</p>\n<pre><code>buildscript {\n    ext {\n        kotlinVersion = &quot;1.4.0&quot;\n    }\n    dependencies {\n        classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlinVersion&quot;\n    }\n    repositories {\n        mavenCentral()\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23008027,"reputation":21,"user_id":17130948,"display_name":"user17130948"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6347,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1641306528,"creation_date":1635936222,"question_id":69823467,"body_markdown":"I get this error when I add this to Android Studio\r\n \r\n\r\n    &quot;Error:Plugin with id &#39;kotlin-android&#39; not found.&quot;.\r\n\r\nI am trying to install opencv on my android, but it will not work.\r\nI made a new project in my Android that is empty but works\r\n\r\n\r\nMy build gradle\r\n    \r\n    apply plugin: &#39;com.android.library&#39;\r\n    apply plugin: &#39;kotlin-android&#39;\r\n\r\n    def openCVersionName = &quot;4.5.4&quot;\r\n    def openCVersionCode = ((4 * 100 + 5) * 100 + 4) * 10 + 0\r\n\r\n    println &quot;OpenCV: &quot; +openCVersionName + &quot; &quot; + project.buildscript.sourceFile\r\n\r\n    android {\r\n    compileSdkVersion 26\r\n\r\n    defaultConfig {\r\n        minSdkVersion 21\r\n        targetSdkVersion 26\r\n\r\n        versionCode openCVersionCode\r\n        versionName openCVersionName\r\n\r\n        externalNativeBuild {\r\n            cmake {\r\n                arguments &quot;-DANDROID_STL=c++_shared&quot;\r\n                targets &quot;opencv_jni_shared&quot;\r\n            }\r\n        }\r\n    }\r\n\r\n    buildTypes {\r\n        debug {\r\n            packagingOptions {\r\n                doNotStrip &#39;**/*.so&#39;  // controlled by OpenCV CMake scripts\r\n            }\r\n        }\r\n        release {\r\n            packagingOptions {\r\n                doNotStrip &#39;**/*.so&#39;  // controlled by OpenCV CMake scripts\r\n            }\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.txt&#39;\r\n        }\r\n    }\r\n\r\n    sourceSets {\r\n        main {\r\n            jniLibs.srcDirs = [&#39;native/libs&#39;]\r\n            java.srcDirs = [&#39;java/src&#39;]\r\n            aidl.srcDirs = [&#39;java/src&#39;]\r\n            res.srcDirs = [&#39;java/res&#39;]\r\n            manifest.srcFile &#39;java/AndroidManifest.xml&#39;\r\n        }\r\n    }\r\n\r\n    externalNativeBuild {\r\n        cmake {\r\n            path (project.projectDir.toString() + &#39;/libcxx_helper/CMakeLists.txt&#39;)\r\n        }\r\n    }\r\n    }\r\n\r\n    dependencies {\r\n    }","title":"Error:Plugin with id &#39;kotlin-android&#39; not found. on android studio","body":"<p>I get this error when I add this to Android Studio</p>\n<pre><code>&quot;Error:Plugin with id 'kotlin-android' not found.&quot;.\n</code></pre>\n<p>I am trying to install opencv on my android, but it will not work.\nI made a new project in my Android that is empty but works</p>\n<p>My build gradle</p>\n<pre><code>apply plugin: 'com.android.library'\napply plugin: 'kotlin-android'\n\ndef openCVersionName = &quot;4.5.4&quot;\ndef openCVersionCode = ((4 * 100 + 5) * 100 + 4) * 10 + 0\n\nprintln &quot;OpenCV: &quot; +openCVersionName + &quot; &quot; + project.buildscript.sourceFile\n\nandroid {\ncompileSdkVersion 26\n\ndefaultConfig {\n    minSdkVersion 21\n    targetSdkVersion 26\n\n    versionCode openCVersionCode\n    versionName openCVersionName\n\n    externalNativeBuild {\n        cmake {\n            arguments &quot;-DANDROID_STL=c++_shared&quot;\n            targets &quot;opencv_jni_shared&quot;\n        }\n    }\n}\n\nbuildTypes {\n    debug {\n        packagingOptions {\n            doNotStrip '**/*.so'  // controlled by OpenCV CMake scripts\n        }\n    }\n    release {\n        packagingOptions {\n            doNotStrip '**/*.so'  // controlled by OpenCV CMake scripts\n        }\n        minifyEnabled false\n        proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.txt'\n    }\n}\n\nsourceSets {\n    main {\n        jniLibs.srcDirs = ['native/libs']\n        java.srcDirs = ['java/src']\n        aidl.srcDirs = ['java/src']\n        res.srcDirs = ['java/res']\n        manifest.srcFile 'java/AndroidManifest.xml'\n    }\n}\n\nexternalNativeBuild {\n    cmake {\n        path (project.projectDir.toString() + '/libcxx_helper/CMakeLists.txt')\n    }\n}\n}\n\ndependencies {\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":1,"creation_date":1641304167,"post_id":70579692,"comment_id":124766223,"body_markdown":"Try to add the student to the task instead of the reverse","body":"Try to add the student to the task instead of the reverse"},{"owner":{"account_id":11951849,"reputation":55,"user_id":8745309,"display_name":"Noah Di Gesu"},"score":0,"creation_date":1641304580,"post_id":70579692,"comment_id":124766429,"body_markdown":"@MauricePerry It worked ! Any idea why ? Is it because the `students` attribute uses a `JoinTable` ? &#129488;","body":"@MauricePerry It worked ! Any idea why ? Is it because the <code>students</code> attribute uses a <code>JoinTable</code> ? 🧐"}],"answers":[{"tags":[],"owner":{"account_id":11951849,"reputation":55,"user_id":8745309,"display_name":"Noah Di Gesu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1641306330,"creation_date":1641304537,"answer_id":70579863,"question_id":70579692,"body_markdown":"As @MauricePerry commented, adding the student to the task instead of adding the task to the student worked &#129488;\r\n\r\nFor anyone encountering the same issue, I now have the following code :\r\n```java\r\n@Service\r\n@Slf4j\r\npublic class Exercises {\r\n    @Autowired\r\n    private StudentDB studentDB;\r\n    @Autowired\r\n    private TaskDB taskDB;\r\n\r\n    public void completeTask(long studentId, long taskId) {\r\n        var student = studentDB.findById(studentId).orElse(null);\r\n        var task = taskDB.findById(taskId).orElse(null);\r\n\r\n        task.getStudents().add(student);\r\n\r\n        taskDB.save(task);\r\n    }\r\n}\r\n```\r\n","title":"Spring Boot CrudRepository not saving entities to my database","body":"<p>As @MauricePerry commented, adding the student to the task instead of adding the task to the student worked 🧐</p>\n<p>For anyone encountering the same issue, I now have the following code :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\n@Slf4j\npublic class Exercises {\n    @Autowired\n    private StudentDB studentDB;\n    @Autowired\n    private TaskDB taskDB;\n\n    public void completeTask(long studentId, long taskId) {\n        var student = studentDB.findById(studentId).orElse(null);\n        var task = taskDB.findById(taskId).orElse(null);\n\n        task.getStudents().add(student);\n\n        taskDB.save(task);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":11951849,"reputation":55,"user_id":8745309,"display_name":"Noah Di Gesu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":344,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70579863,"answer_count":1,"score":0,"last_activity_date":1641306330,"creation_date":1641303635,"question_id":70579692,"body_markdown":"I&#39;ve been at this for a few hours now and can&#39;t seem to find the issue.  \r\n\r\nFor a bit of context, here is my database schema :\r\n\r\n[![Database schema][1]][1]\r\n\r\nHere is my `Student` class :\r\n```java\r\n@Entity\r\n@NoArgsConstructor\r\n@Data\r\npublic class Student {\r\n    @NotNull\r\n    @Id\r\n    private long number;\r\n\r\n    @NotBlank\r\n    @NotNull\r\n    private String name;\r\n\r\n    @ManyToMany(fetch = FetchType.LAZY, mappedBy = &quot;students&quot;, cascade = CascadeType.ALL)\r\n    @JsonIgnore\r\n    private List&lt;Task&gt; tasks;\r\n}\r\n```\r\n\r\nAnd here is my `Task` class :\r\n```java\r\npublic class Task {\r\n    @NotNull\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private long id;\r\n\r\n    @NotBlank\r\n    @NotNull\r\n    private String description;\r\n\r\n    @ManyToMany\r\n    @JoinTable(\r\n            name = &quot;student_tasks&quot;,\r\n            joinColumns = @JoinColumn(name = &quot;tasks_id&quot;),\r\n            inverseJoinColumns = @JoinColumn(name = &quot;student_number&quot;)\r\n    )\r\n    @JsonIgnore\r\n    private List&lt;Student&gt; students;\r\n}\r\n```\r\n\r\nMy H2 Database structure therefore looks like this :\r\n\r\n[![H2 Database structure][2]][2]\r\n\r\nI am trying to **add a task to a student** through a rest controller (the rest controller works fine) :\r\n```java\r\n@RestController\r\n@CrossOrigin(origins = &quot;*&quot;)\r\n@RequestMapping(&quot;/api&quot;)\r\npublic class MyRestController {\r\n    @Autowired\r\n    private Exercises exercises;\r\n\r\n    [...]\r\n\r\n    @PostMapping(value = &quot;/students/student/{studentId}/complete/{taskId}&quot;)\r\n    public void completeTask(\r\n            @PathVariable(value = &quot;studentId&quot;) long studentId,\r\n            @PathVariable(value = &quot;taskId&quot;) long taskId\r\n    ) {\r\n        exercises.completeTask(studentId, taskId);\r\n    }\r\n}\r\n```\r\n\r\nHere is my `Exercises` class :\r\n```java\r\n@Service\r\n@Slf4j\r\npublic class Exercises {\r\n    @Autowired\r\n    private StudentDB studentDB;\r\n    @Autowired\r\n    private TaskDB taskDB;\r\n\r\n    [...]\r\n\r\n    public void completeTask(long studentId, long taskId) {\r\n        var student = studentDB.findById(studentId).orElse(null);\r\n        var task = taskDB.findById(taskId).orElse(null);\r\n\r\n        log.info(student.toString());\r\n        log.info(task.toString());\r\n\r\n        log.info(student.getTasks().toString());\r\n        student.getTasks().add(task);\r\n\r\n        studentDB.save(student);\r\n        log.info(studentDB.findById(studentId).orElse(null).getTasks().toString());\r\n    }\r\n}\r\n```\r\n\r\nHere are the logs from the code :\r\n```\r\n2022-01-04 14:29:42.827  INFO : Student{number=3, name=&#39;StudentC&#39;}\r\n2022-01-04 14:29:42.828  INFO : Task{id=4, description=&#39;Exercice 4&#39;}\r\n2022-01-04 14:18:54.180  INFO : [Task{id=1, description=&#39;Exercice 1&#39;}, Task{id=2, description=&#39;Exercice 2&#39;}, Task{id=3, description=&#39;Exercice 3&#39;}]\r\n2022-01-04 14:18:54.189  INFO : [Task{id=1, description=&#39;Exercice 1&#39;}, Task{id=2, description=&#39;Exercice 2&#39;}, Task{id=3, description=&#39;Exercice 3&#39;}, Task{id=4, description=&#39;Exercice 4&#39;}]\r\n```\r\nAs you can see, the Task does seem to be added to the database - except it doesn&#39;t :(\r\n\r\n[![Database data][3]][3]  \r\n&gt; ☝️ There should be a &quot;4, 3&quot; (4 being the task id and 3 the student &quot;number&quot;).\r\n\r\nOh, and while I&#39;m at it, here is my `StudentDB` class :\r\n```java\r\npublic interface StudentDB extends CrudRepository&lt;Student, Long&gt; {}\r\n```\r\n\r\nI&#39;m still quite new to Spring so it&#39;s probably just me missing something :/  \r\nThanks in advance for your help !\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ZZGVg.png\r\n  [2]: https://i.stack.imgur.com/cUAVV.png\r\n  [3]: https://i.stack.imgur.com/6QU2B.png","title":"Spring Boot CrudRepository not saving entities to my database","body":"<p>I've been at this for a few hours now and can't seem to find the issue.</p>\n<p>For a bit of context, here is my database schema :</p>\n<p><a href=\"https://i.stack.imgur.com/ZZGVg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZZGVg.png\" alt=\"Database schema\" /></a></p>\n<p>Here is my <code>Student</code> class :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@NoArgsConstructor\n@Data\npublic class Student {\n    @NotNull\n    @Id\n    private long number;\n\n    @NotBlank\n    @NotNull\n    private String name;\n\n    @ManyToMany(fetch = FetchType.LAZY, mappedBy = &quot;students&quot;, cascade = CascadeType.ALL)\n    @JsonIgnore\n    private List&lt;Task&gt; tasks;\n}\n</code></pre>\n<p>And here is my <code>Task</code> class :</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Task {\n    @NotNull\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private long id;\n\n    @NotBlank\n    @NotNull\n    private String description;\n\n    @ManyToMany\n    @JoinTable(\n            name = &quot;student_tasks&quot;,\n            joinColumns = @JoinColumn(name = &quot;tasks_id&quot;),\n            inverseJoinColumns = @JoinColumn(name = &quot;student_number&quot;)\n    )\n    @JsonIgnore\n    private List&lt;Student&gt; students;\n}\n</code></pre>\n<p>My H2 Database structure therefore looks like this :</p>\n<p><a href=\"https://i.stack.imgur.com/cUAVV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cUAVV.png\" alt=\"H2 Database structure\" /></a></p>\n<p>I am trying to <strong>add a task to a student</strong> through a rest controller (the rest controller works fine) :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\n@CrossOrigin(origins = &quot;*&quot;)\n@RequestMapping(&quot;/api&quot;)\npublic class MyRestController {\n    @Autowired\n    private Exercises exercises;\n\n    [...]\n\n    @PostMapping(value = &quot;/students/student/{studentId}/complete/{taskId}&quot;)\n    public void completeTask(\n            @PathVariable(value = &quot;studentId&quot;) long studentId,\n            @PathVariable(value = &quot;taskId&quot;) long taskId\n    ) {\n        exercises.completeTask(studentId, taskId);\n    }\n}\n</code></pre>\n<p>Here is my <code>Exercises</code> class :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\n@Slf4j\npublic class Exercises {\n    @Autowired\n    private StudentDB studentDB;\n    @Autowired\n    private TaskDB taskDB;\n\n    [...]\n\n    public void completeTask(long studentId, long taskId) {\n        var student = studentDB.findById(studentId).orElse(null);\n        var task = taskDB.findById(taskId).orElse(null);\n\n        log.info(student.toString());\n        log.info(task.toString());\n\n        log.info(student.getTasks().toString());\n        student.getTasks().add(task);\n\n        studentDB.save(student);\n        log.info(studentDB.findById(studentId).orElse(null).getTasks().toString());\n    }\n}\n</code></pre>\n<p>Here are the logs from the code :</p>\n<pre><code>2022-01-04 14:29:42.827  INFO : Student{number=3, name='StudentC'}\n2022-01-04 14:29:42.828  INFO : Task{id=4, description='Exercice 4'}\n2022-01-04 14:18:54.180  INFO : [Task{id=1, description='Exercice 1'}, Task{id=2, description='Exercice 2'}, Task{id=3, description='Exercice 3'}]\n2022-01-04 14:18:54.189  INFO : [Task{id=1, description='Exercice 1'}, Task{id=2, description='Exercice 2'}, Task{id=3, description='Exercice 3'}, Task{id=4, description='Exercice 4'}]\n</code></pre>\n<p>As you can see, the Task does seem to be added to the database - except it doesn't :(</p>\n<p><a href=\"https://i.stack.imgur.com/6QU2B.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6QU2B.png\" alt=\"Database data\" /></a></p>\n<blockquote>\n<p>☝️ There should be a &quot;4, 3&quot; (4 being the task id and 3 the student &quot;number&quot;).</p>\n</blockquote>\n<p>Oh, and while I'm at it, here is my <code>StudentDB</code> class :</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface StudentDB extends CrudRepository&lt;Student, Long&gt; {}\n</code></pre>\n<p>I'm still quite new to Spring so it's probably just me missing something :/<br />\nThanks in advance for your help !</p>\n"},{"tags":["java","properties","configuration","log4j","log4j2"],"answers":[{"tags":[],"owner":{"account_id":336749,"reputation":87,"user_id":664579,"display_name":"Enrico Scantamburlo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641306208,"creation_date":1641306208,"answer_id":70580249,"question_id":70566829,"body_markdown":"I opened a issue on the Log4j tracker and I discovered it was a bug on their end\r\n\r\nhttps://issues.apache.org/jira/browse/LOG4J2-3312","title":"Log4J Bridge 1 to 2.17.1 properties are not resolved","body":"<p>I opened a issue on the Log4j tracker and I discovered it was a bug on their end</p>\n<p><a href=\"https://issues.apache.org/jira/browse/LOG4J2-3312\" rel=\"nofollow noreferrer\">https://issues.apache.org/jira/browse/LOG4J2-3312</a></p>\n"}],"owner":{"account_id":336749,"reputation":87,"user_id":664579,"display_name":"Enrico Scantamburlo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":499,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1641306208,"creation_date":1641218163,"question_id":70566829,"body_markdown":"I am trying to use the log4j bridge to migrate my application. \r\nI have added the jars and set the configuration properties that are found and loaded.\r\n\r\nThe first problem was that log4j was not able to find the FileAppender class, I checked  in the bridge jar and it is not present. I took the one from the original 1.2 release and made it compile and it works. I do not know if it is the right way because *the migration tutorial says it should be handled automatically.*\r\n\r\nThe thing that is causing me problems now is that when log4j loads the properties, they are not resolved correctly; I have\r\n```\r\nlog4j.appender.FULL.file\t\t\t= ${user.home}/${user.name}\r\n```\r\n\r\nbut it does not work. I also tried \r\n\r\n```\r\nlog4j.appender.FULL.file\t\t\t= ${sys:user.home}/${sys:user.name}\r\n```\r\nand\r\n\r\n```\r\nlog4j.appender.FULL.file\t\t\t= $${sys:user.home}/$${sys:user.name}\r\n```\r\nwithout luck\r\n\r\nI am using a custom appender that extends FileAppender and the value that is passed is not &quot;expanded&quot; .\r\n\r\nThanks\r\n","title":"Log4J Bridge 1 to 2.17.1 properties are not resolved","body":"<p>I am trying to use the log4j bridge to migrate my application.\nI have added the jars and set the configuration properties that are found and loaded.</p>\n<p>The first problem was that log4j was not able to find the FileAppender class, I checked  in the bridge jar and it is not present. I took the one from the original 1.2 release and made it compile and it works. I do not know if it is the right way because <em>the migration tutorial says it should be handled automatically.</em></p>\n<p>The thing that is causing me problems now is that when log4j loads the properties, they are not resolved correctly; I have</p>\n<pre><code>log4j.appender.FULL.file            = ${user.home}/${user.name}\n</code></pre>\n<p>but it does not work. I also tried</p>\n<pre><code>log4j.appender.FULL.file            = ${sys:user.home}/${sys:user.name}\n</code></pre>\n<p>and</p>\n<pre><code>log4j.appender.FULL.file            = $${sys:user.home}/$${sys:user.name}\n</code></pre>\n<p>without luck</p>\n<p>I am using a custom appender that extends FileAppender and the value that is passed is not &quot;expanded&quot; .</p>\n<p>Thanks</p>\n"},{"tags":["java","asynchronous","rabbitmq","timeout","spring-amqp"],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1641305494,"creation_date":1641305494,"answer_id":70580081,"question_id":70579558,"body_markdown":"It does wait indefinitely. There is just no any opinion and everything is delegated directly to the `java.util.concurrent.FutureTask` internally in the `org.springframework.util.concurrent.SettableListenableFuture` implementation.\r\n\r\nNot sure why the question, but in normal situation when broker is UP, it is going to answer to confirm during reasonable finite time. If broker is not available, you are going to fail much earlier than you reach a `CorrelationData.getFuture()` in your code.","title":"Does Spring AMQP CorrelationData getFuture wait indefinitely without timeout?","body":"<p>It does wait indefinitely. There is just no any opinion and everything is delegated directly to the <code>java.util.concurrent.FutureTask</code> internally in the <code>org.springframework.util.concurrent.SettableListenableFuture</code> implementation.</p>\n<p>Not sure why the question, but in normal situation when broker is UP, it is going to answer to confirm during reasonable finite time. If broker is not available, you are going to fail much earlier than you reach a <code>CorrelationData.getFuture()</code> in your code.</p>\n"}],"owner":{"account_id":23824995,"reputation":3,"user_id":17832176,"display_name":"MidasVODev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":262,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70580081,"answer_count":1,"score":0,"last_activity_date":1641305494,"creation_date":1641302942,"question_id":70579558,"body_markdown":"In the context of Publisher confirms, when waiting for the CorrelationData&#39;s future (SettableListenableFuture#get()) - does it wait indefinitely or is there a timeout configured under the water? ","title":"Does Spring AMQP CorrelationData getFuture wait indefinitely without timeout?","body":"<p>In the context of Publisher confirms, when waiting for the CorrelationData's future (SettableListenableFuture#get()) - does it wait indefinitely or is there a timeout configured under the water?</p>\n"},{"tags":["java","simpledateformat"],"comments":[{"owner":{"account_id":1041463,"reputation":3845,"user_id":1047418,"display_name":"Torben"},"score":1,"creation_date":1641298004,"post_id":70578512,"comment_id":124763687,"body_markdown":"Have you read the documentation or at the minimum examined the results of your code? What the parser does is completely correct and especially it is what it is expected to do. You&#39;re asking it to parse the 98th year since year 0 (not the 1998th year) and it does exactly that.","body":"Have you read the documentation or at the minimum examined the results of your code? What the parser does is completely correct and especially it is what it is expected to do. You&#39;re asking it to parse the 98th year since year 0 (not the 1998th year) and it does exactly that."},{"owner":{"account_id":3023214,"reputation":20362,"user_id":2563754,"display_name":"Seelenvirtuose"},"score":4,"creation_date":1641298065,"post_id":70578512,"comment_id":124763709,"body_markdown":"From the [docs](https://docs.oracle.com/javase/10/docs/api/java/text/SimpleDateFormat.html): For parsing, if the number of pattern letters is more than 2, the year is interpreted literally, regardless of the number of digits. So using the pattern &quot;MM/dd/yyyy&quot;, &quot;01/11/12&quot; parses to Jan 11, 12 A.D.","body":"From the <a href=\"https://docs.oracle.com/javase/10/docs/api/java/text/SimpleDateFormat.html\" rel=\"nofollow noreferrer\">docs</a>: For parsing, if the number of pattern letters is more than 2, the year is interpreted literally, regardless of the number of digits. So using the pattern &quot;MM/dd/yyyy&quot;, &quot;01/11/12&quot; parses to Jan 11, 12 A.D."},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1641298503,"post_id":70578512,"comment_id":124763887,"body_markdown":"Well, your application shouldn&#39;t use `SimpleDateFormat` at all. Use classes from the `java.time` package instead. In your case, `DateTimeFormatter` and `LocalDate`.","body":"Well, your application shouldn&#39;t use <code>SimpleDateFormat</code> at all. Use classes from the <code>java.time</code> package instead. In your case, <code>DateTimeFormatter</code> and <code>LocalDate</code>."},{"owner":{"account_id":204659,"reputation":37539,"user_id":453005,"accept_rate":100,"display_name":"DwB"},"score":0,"creation_date":1641305884,"post_id":70578512,"comment_id":124767015,"body_markdown":"Consider spending some time and learning the new date stuff (it is in the java.time package).  The old stuff (that you are using) was terrible when it was first written and has been replaced by something that is not terrible (the java.time package).","body":"Consider spending some time and learning the new date stuff (it is in the java.time package).  The old stuff (that you are using) was terrible when it was first written and has been replaced by something that is not terrible (the java.time package)."}],"answers":[{"tags":[],"owner":{"account_id":9537825,"reputation":1490,"user_id":7275056,"display_name":"vsfDawg"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1641305367,"creation_date":1641305367,"answer_id":70580053,"question_id":70578512,"body_markdown":"No.  `SimpleDateFormat` is used for both parsing a Date from a String and generating a String from a Date.  The interpretation of the format String varies between these usages.  In your case, you are parsing a Date from a String.   The `98` is a legitimate value and is interpreted literally (i.e. 98 AD) because you are using `yyyy`.  If you replace the `yyyy` with `yy` or `y` then the parsing should interpret the 98 as 1998.  If you want require 4-digit dates then you will need to add some verification code to do that.\r\n\r\nNote that `setLenient` doesn&#39;t affect anything here because the values in each position are legitimate.  You are not required to have 4 digits in the year position (nor are you limited to 4 digits).  If the interpretation is not-lenient and you pass it &quot;1998/04/12&quot; it will throw an exception because 1998 is not in the range of 1-12.  If you set lenient then it will mod the value to get it into range (1998 becomes 6) and charge forward.  Since the year has no real bounds it has no effect on the year position.\r\n\r\n\r\n\r\n","title":"SimpleDateFormat seems to allow a year of yy when the format is set to dd/mm/yyyy","body":"<p>No.  <code>SimpleDateFormat</code> is used for both parsing a Date from a String and generating a String from a Date.  The interpretation of the format String varies between these usages.  In your case, you are parsing a Date from a String.   The <code>98</code> is a legitimate value and is interpreted literally (i.e. 98 AD) because you are using <code>yyyy</code>.  If you replace the <code>yyyy</code> with <code>yy</code> or <code>y</code> then the parsing should interpret the 98 as 1998.  If you want require 4-digit dates then you will need to add some verification code to do that.</p>\n<p>Note that <code>setLenient</code> doesn't affect anything here because the values in each position are legitimate.  You are not required to have 4 digits in the year position (nor are you limited to 4 digits).  If the interpretation is not-lenient and you pass it &quot;1998/04/12&quot; it will throw an exception because 1998 is not in the range of 1-12.  If you set lenient then it will mod the value to get it into range (1998 becomes 6) and charge forward.  Since the year has no real bounds it has no effect on the year position.</p>\n"}],"owner":{"account_id":10642398,"reputation":6164,"user_id":7836976,"accept_rate":95,"display_name":"runnerpaul"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":612,"favorite_count":0,"down_vote_count":4,"up_vote_count":1,"closed_date":1641320933,"accepted_answer_id":70580053,"answer_count":1,"score":-3,"last_activity_date":1641305367,"creation_date":1641297833,"question_id":70578512,"body_markdown":"If I have this:\r\n\r\n```Java\r\nprivate static final String DATE_FORMAT = &quot;dd/MM/yyyy&quot;;\r\nDateFormat formatter = new SimpleDateFormat(DATE_FORMAT);\r\nformatter.setLenient(false);\r\nformatter.parse(&quot;01/01/98&quot;);\r\n```\r\n\r\nShould my application throw an exception if a 2 digit year is passed in? It doesn&#39;t seem to have any issue with this.","title":"SimpleDateFormat seems to allow a year of yy when the format is set to dd/mm/yyyy","body":"<p>If I have this:</p>\n<pre><code>private static final String DATE_FORMAT = &quot;dd/MM/yyyy&quot;;\nDateFormat formatter = new SimpleDateFormat(DATE_FORMAT);\nformatter.setLenient(false);\nformatter.parse(&quot;01/01/98&quot;);\n</code></pre>\n<p>Should my application throw an exception if a 2 digit year is passed in? It doesn't seem to have any issue with this.</p>\n"},{"tags":["java","random","switch-statement"],"comments":[{"owner":{"account_id":9725613,"reputation":53334,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"score":0,"creation_date":1641116900,"post_id":70554994,"comment_id":124721609,"body_markdown":"What line raises it ? Can you share a reproducible code : include `ran` instanciation/definition","body":"What line raises it ? Can you share a reproducible code : include <code>ran</code> instanciation/definition"},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1641117000,"post_id":70554994,"comment_id":124721621,"body_markdown":"Assumption: `ran` is `null`. Solution: Change `int i = ran.nextInt(4);` to `int i = ThreadLocalRandom.current().nextInt(4);` it should probably be `int i = ThreadLocalRandom.current().nextInt(4) + 1;`","body":"Assumption: <code>ran</code> is <code>null</code>. Solution: Change <code>int i = ran.nextInt(4);</code> to <code>int i = ThreadLocalRandom.current().nextInt(4);</code> it should probably be <code>int i = ThreadLocalRandom.current().nextInt(4) + 1;</code>"},{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":0,"creation_date":1641120444,"post_id":70554994,"comment_id":124722202,"body_markdown":"You need to add the `break;` statement in each `case` block otherwise you get fall-through right to `default`. Also change the `int i = rnd.nextInt(4);` to `int i = rnd.nextInt(3) + 1;` as already suggested. Use `3` instead of `4` then you don&#39;t need to worry about default, or...is that a requirement in the game?. I like @Alex&#39;s array suggestion.","body":"You need to add the <code>break;</code> statement in each <code>case</code> block otherwise you get fall-through right to <code>default</code>. Also change the <code>int i = rnd.nextInt(4);</code> to <code>int i = rnd.nextInt(3) + 1;</code> as already suggested. Use <code>3</code> instead of <code>4</code> then you don&#39;t need to worry about default, or...is that a requirement in the game?. I like @Alex&#39;s array suggestion."}],"answers":[{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641118273,"creation_date":1641118273,"answer_id":70555142,"question_id":70554994,"body_markdown":"Therre are several issues in your code:\r\n1. It does not show that the `Random` instance `ran` is initialized and this should be the root cause of `NullPointerException`\r\n2. `switch` statement is written _without_ `break` or `return`, therefore, `&quot;not valid&quot;` would be always returned after fixing the NPE\r\n3. Only _three valid_ options should be generated and used in this rock-scissors-stone generator.\r\n\r\nPossible fixes:\r\n1. Use Java 12 `switch` expression syntax:\r\n```java\r\n\r\npublic String computerChoice() {   \r\n    return switch (new Random().nextInt(3)) {  // values in range [0..2]\r\n        case 0 -&gt; &quot;paper&quot;;\r\n        case 1 -&gt; &quot;rock&quot;;\r\n        default -&gt; &quot;scissors&quot;; // the only remaining value 2 should be default\r\n    }\r\n} \r\n```\r\n2. Use `return` in older `switch` statement:\r\n```java\r\npublic String computerChoice() {   \r\n    switch (new Random().nextInt(3)) {  // values in range [0..2]\r\n        case 0: return &quot;paper&quot;;\r\n        case 1: return &quot;rock&quot;;\r\n        default: return &quot;scissors&quot;;\r\n    }\r\n} \r\n```\r\n\r\n3. Create and use an array of possible values without any `switch` at all to reduce the code complexity:\r\n```java\r\nprivate static final String PRS = {&quot;paper&quot;, &quot;rock&quot;, &quot;scissors&quot;};\r\n\r\npublic String computerChoice() {   \r\n    return PRS[new Random().nextInt(PRS.length)];\r\n} \r\n```","title":"How do I pass in the random int into my switch","body":"<p>Therre are several issues in your code:</p>\n<ol>\n<li>It does not show that the <code>Random</code> instance <code>ran</code> is initialized and this should be the root cause of <code>NullPointerException</code></li>\n<li><code>switch</code> statement is written <em>without</em> <code>break</code> or <code>return</code>, therefore, <code>&quot;not valid&quot;</code> would be always returned after fixing the NPE</li>\n<li>Only <em>three valid</em> options should be generated and used in this rock-scissors-stone generator.</li>\n</ol>\n<p>Possible fixes:</p>\n<ol>\n<li>Use Java 12 <code>switch</code> expression syntax:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>\npublic String computerChoice() {   \n    return switch (new Random().nextInt(3)) {  // values in range [0..2]\n        case 0 -&gt; &quot;paper&quot;;\n        case 1 -&gt; &quot;rock&quot;;\n        default -&gt; &quot;scissors&quot;; // the only remaining value 2 should be default\n    }\n} \n</code></pre>\n<ol start=\"2\">\n<li>Use <code>return</code> in older <code>switch</code> statement:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>public String computerChoice() {   \n    switch (new Random().nextInt(3)) {  // values in range [0..2]\n        case 0: return &quot;paper&quot;;\n        case 1: return &quot;rock&quot;;\n        default: return &quot;scissors&quot;;\n    }\n} \n</code></pre>\n<ol start=\"3\">\n<li>Create and use an array of possible values without any <code>switch</code> at all to reduce the code complexity:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>private static final String PRS = {&quot;paper&quot;, &quot;rock&quot;, &quot;scissors&quot;};\n\npublic String computerChoice() {   \n    return PRS[new Random().nextInt(PRS.length)];\n} \n</code></pre>\n"}],"owner":{"account_id":23804578,"reputation":11,"user_id":17814292,"display_name":"jimmt_TKO"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1641305267,"answer_count":1,"score":-1,"last_activity_date":1641305244,"creation_date":1641116723,"question_id":70554994,"body_markdown":"I just can&#39;t figure out why I&#39;m getting a NullPointerException. The program gets to the first case and says `i` is not pointing to anything.\r\n\r\n\r\n    public String computerChoice()\r\n    {   \r\n        int i = ran.nextInt(4);\r\n        String str;\r\n        switch (i){\r\n        case 1:  \r\n            str = &quot;paper&quot;;\r\n        case 2: \r\n            str = &quot;rock&quot;;\r\n        case 3: \r\n            str = &quot;scissors&quot;;\r\n        default:\r\n            str = &quot;not valid&quot;;   \r\n        }\r\n        return str;\r\n    } ","title":"How do I pass in the random int into my switch","body":"<p>I just can't figure out why I'm getting a NullPointerException. The program gets to the first case and says <code>i</code> is not pointing to anything.</p>\n<pre><code>public String computerChoice()\n{   \n    int i = ran.nextInt(4);\n    String str;\n    switch (i){\n    case 1:  \n        str = &quot;paper&quot;;\n    case 2: \n        str = &quot;rock&quot;;\n    case 3: \n        str = &quot;scissors&quot;;\n    default:\n        str = &quot;not valid&quot;;   \n    }\n    return str;\n} \n</code></pre>\n"},{"tags":["java","apache-kafka","apache-storm"],"comments":[{"owner":{"account_id":6228220,"reputation":323,"user_id":4845821,"accept_rate":80,"display_name":"SUT"},"score":0,"creation_date":1641303946,"post_id":70579456,"comment_id":124766132,"body_markdown":"Yes, I mean the spout of Storm Kafka.\n\nI added the consumer-code.","body":"Yes, I mean the spout of Storm Kafka.  I added the consumer-code."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1641304185,"post_id":70579456,"comment_id":124766234,"body_markdown":"In your producer code, please show where `key` is defined and set","body":"In your producer code, please show where <code>key</code> is defined and set"},{"owner":{"account_id":6228220,"reputation":323,"user_id":4845821,"accept_rate":80,"display_name":"SUT"},"score":0,"creation_date":1641304342,"post_id":70579456,"comment_id":124766320,"body_markdown":"`Pair data = new Pair&lt;&gt;((long) id, result); // where result is a String\nString result = (String) data.getValue1();\nproduceMessage((Long) data.getValue0(), result);`\n\nThis is a simplified overview. `id` and `result` is from a SQL select.","body":"<code>Pair data = new Pair&lt;&gt;((long) id, result); &#47;&#47; where result is a String String result = (String) data.getValue1(); produceMessage((Long) data.getValue0(), result);</code>  This is a simplified overview. <code>id</code> and <code>result</code> is from a SQL select."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1641304447,"post_id":70579456,"comment_id":124766376,"body_markdown":"Okay, not really clear what `data` or `id` is. Please show a [mcve]. Also look into setting the Strom record translator. For instance, sounds like you&#39;re only getting values because of this https://storm.apache.org/releases/current/javadocs/org/apache/storm/flux/examples/OnlyValueRecordTranslator.html","body":"Okay, not really clear what <code>data</code> or <code>id</code> is. Please show a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. Also look into setting the Strom record translator. For instance, sounds like you&#39;re only getting values because of this <a href=\"https://storm.apache.org/releases/current/javadocs/org/apache/storm/flux/examples/OnlyValueRecordTranslator.html\" rel=\"nofollow noreferrer\">storm.apache.org/releases/current/javadocs/org/apache/storm/&zwnj;&#8203;&hellip;</a>"},{"owner":{"account_id":6228220,"reputation":323,"user_id":4845821,"accept_rate":80,"display_name":"SUT"},"score":0,"creation_date":1641305334,"post_id":70579456,"comment_id":124766735,"body_markdown":"I added to real code I use. I hope that is not too much code","body":"I added to real code I use. I hope that is not too much code"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1641305720,"post_id":70579456,"comment_id":124766932,"body_markdown":"It&#39;s okay. You say your key is either &quot;nothing or tab&quot;, which would indicate there&#39;s a problem in the resultset/data parsing. By the way, use a PreparedStatement rather than string concatenation to prevent sql injection. And still, I think setting the record translator will fix the problem","body":"It&#39;s okay. You say your key is either &quot;nothing or tab&quot;, which would indicate there&#39;s a problem in the resultset/data parsing. By the way, use a PreparedStatement rather than string concatenation to prevent sql injection. And still, I think setting the record translator will fix the problem"},{"owner":{"account_id":6228220,"reputation":323,"user_id":4845821,"accept_rate":80,"display_name":"SUT"},"score":0,"creation_date":1641372872,"post_id":70579456,"comment_id":124785122,"body_markdown":"Thank you for the info with SQLInjections!!\nUnfortunatly it is not clear for me, what I should do with/how I set the record translator.","body":"Thank you for the info with SQLInjections!! Unfortunatly it is not clear for me, what I should do with/how I set the record translator."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1641390548,"post_id":70579456,"comment_id":124792041,"body_markdown":"Read the Javadoc? https://storm.apache.org/releases/current/javadocs/org/apache/storm/kafka/spout/internal/CommonKafkaSpoutConfig.Builder.html#setRecordTranslator-org.apache.storm.kafka.spout.RecordTranslator-","body":"Read the Javadoc? <a href=\"https://storm.apache.org/releases/current/javadocs/org/apache/storm/kafka/spout/internal/CommonKafkaSpoutConfig.Builder.html#setRecordTranslator-org.apache.storm.kafka.spout.RecordTranslator-\" rel=\"nofollow noreferrer\">storm.apache.org/releases/current/javadocs/org/apache/storm/&zwnj;&#8203;&hellip;</a>"},{"owner":{"account_id":6228220,"reputation":323,"user_id":4845821,"accept_rate":80,"display_name":"SUT"},"score":0,"creation_date":1641485505,"post_id":70579456,"comment_id":124820907,"body_markdown":"I changed the message structure from Long:String to String:String. It seems that this is default. Unfortunately I didn&#39;t managed to changed the consumer to Long:String.","body":"I changed the message structure from Long:String to String:String. It seems that this is default. Unfortunately I didn&#39;t managed to changed the consumer to Long:String."}],"owner":{"account_id":6228220,"reputation":323,"user_id":4845821,"accept_rate":80,"display_name":"SUT"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1641305187,"creation_date":1641302397,"question_id":70579456,"body_markdown":"By using **org.apache.kafka.clients.producer.*** I try to send kafka-messages to a Storm Kafka Spout wit key:long value:String.\r\n\r\nBy checking the created record befor sending, key and value are set but at the receiving kafka spout, just the values are received. The value of the key is nothing or a tab.\r\n\r\nDoes anybody know such an issue?\r\n\r\nMy producer looks like:\r\n\r\n    Properties props = new Properties();\r\n    props.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, BOOTSTRAP_SERVERS);\r\n    props.put(ProducerConfig.CLIENT_ID_CONFIG, &quot;KafkaDataProducer&quot;);\r\n    props.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, LongSerializer.class.getName());\r\n    props.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, StringSerializer.class.getName());\r\n\r\nThe record is created and sent by\r\n\r\n    final ProducerRecord&lt;Long, String&gt; record = new ProducerRecord&lt;&gt;(TOPIC, key, value);\r\n    RecordMetadata metadata = producer.send(record).get();\r\n\r\nAt the CLI I receive messages with `kafka-console-consumer.sh --topic taxi --from-beginning --property print.key=true --property key.separator=&quot; : &quot; --bootstrap-server kafka1:9092`\r\n\r\n**EDIT1:**\r\nThe Storm Kafka Consumer looks like that\r\n\r\n    Properties props = new Properties();\r\n    props.put(ConsumerConfig.GROUP_ID_CONFIG, &quot;1&quot;);\r\n    KafkaSpoutConfig spoutConfig = KafkaSpoutConfig.\r\n\t\tbuilder(&quot;PLAINTEXT://kafka1:9092,PLAINTEXT://kafka2:9092,PLAINTEXT://kafka3:9092,&quot;, TOPIC)\r\n\t\t.setProp(props)\r\n\t\t.setFirstPollOffsetStrategy(FirstPollOffsetStrategy.EARLIEST)\r\n\t\t.setProcessingGuarantee(KafkaSpoutConfig.ProcessingGuarantee.AT_MOST_ONCE)\r\n\t\t.setOffsetCommitPeriodMs(100)\r\n\t\t.build();\r\n\r\n    builder.setSpout(&quot;kafka_spout&quot;, new KafkaSpout(spoutConfig), 1);\r\n\r\n\r\n**EDIT2:**\r\nThe procedure of the producer data is like:\r\nSelect from database and add to an ArrayList&lt;Pair&gt;:\r\n\r\n    private static ArrayList&lt;Pair&lt;Long, String&gt;&gt; selectData(String start, String end) {\r\n        Statement statement = null;\r\n        ResultSet resultSet;\r\n        ArrayList&lt;Pair&lt;Long, String&gt;&gt; results = new ArrayList&lt;&gt;();\r\n\r\n        try {\r\n\r\n            if (conn != null) {\r\n                statement = conn.createStatement();\r\n            }\r\n\r\n            resultSet = statement.executeQuery(&quot;SELECT data1, data2, data3, data4 FROM &quot; +\r\n                    &quot;tdrive &quot; +\r\n                    &quot;where date_time between &#39;&quot; +\r\n                    start +\r\n                    &quot;&#39; and &#39;&quot; +\r\n                    end +\r\n                    &quot;&#39; order by date_time asc;&quot;);\r\n\r\n\r\n            while ( resultSet.next() ) {\r\n                int id = resultSet.getInt(&quot;data1&quot;);\r\n                String result = &quot;&quot;;\r\n                result += id;\r\n                    result += &quot;;&quot;;\r\n                result += resultSet.getTimestamp(&quot;data2&quot;);\r\n                result += &quot;;&quot;;\r\n                result += resultSet.getDouble(&quot;data3&quot;);\r\n                    result += &quot;;&quot;;\r\n            result += resultSet.getDouble(&quot;data4&quot;);\r\n\r\n                results.add(new Pair&lt;&gt;((long) id, result));\r\n            }     \r\n        } catch (SQLException e) {\r\n            e.printStackTrace();\r\n        }\r\n    return results;\r\n\r\nAfter the data were stored into the ArrayList&lt;Pair&gt; all data are sent by Kafka:\r\n\r\n    for (Pair data : selectData(covertTime(selectStartTime), covertTime(selectEndTime))) {\r\n         String result = (String) data.getValue1();\r\n         produceMessage((Long) data.getValue0(), result);\r\n     }\r\n     producer.flush();\r\n\r\nproduceMessage is like:\r\n\r\n    private static void produceMessage(long key, String value) {\r\n        long time = System.currentTimeMillis();\r\n\r\n        try {\r\n            final ProducerRecord&lt;Long, String&gt; record = new ProducerRecord&lt;&gt;(TOPIC, key, value);\r\n\r\n            RecordMetadata metadata = producer.send(record).get();\r\n\r\n            long elapsedTime = System.currentTimeMillis() - time;\r\n            System.out.printf(&quot;sent record(key=%s value=%s) &quot; +\r\n                            &quot;meta(partition=%d, offset=%d) time=%d\\n&quot;, // key:id, value:&quot;id;timestamp;long;lat&quot;\r\n                    record.key(), record.value(), metadata.partition(),\r\n                    metadata.offset(), elapsedTime);\r\n\r\n        } catch (Exception e) {\r\n            System.err.println(e);\r\n        }\r\n    }\r\n\r\nI hope after **EDIT2**, there is not too much code.\r\n\r\nThank you in advance","title":"Storm KafkaSpout does not get key (only value)","body":"<p>By using <strong>org.apache.kafka.clients.producer.</strong>* I try to send kafka-messages to a Storm Kafka Spout wit key:long value:String.</p>\n<p>By checking the created record befor sending, key and value are set but at the receiving kafka spout, just the values are received. The value of the key is nothing or a tab.</p>\n<p>Does anybody know such an issue?</p>\n<p>My producer looks like:</p>\n<pre><code>Properties props = new Properties();\nprops.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, BOOTSTRAP_SERVERS);\nprops.put(ProducerConfig.CLIENT_ID_CONFIG, &quot;KafkaDataProducer&quot;);\nprops.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, LongSerializer.class.getName());\nprops.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, StringSerializer.class.getName());\n</code></pre>\n<p>The record is created and sent by</p>\n<pre><code>final ProducerRecord&lt;Long, String&gt; record = new ProducerRecord&lt;&gt;(TOPIC, key, value);\nRecordMetadata metadata = producer.send(record).get();\n</code></pre>\n<p>At the CLI I receive messages with <code>kafka-console-consumer.sh --topic taxi --from-beginning --property print.key=true --property key.separator=&quot; : &quot; --bootstrap-server kafka1:9092</code></p>\n<p><strong>EDIT1:</strong>\nThe Storm Kafka Consumer looks like that</p>\n<pre><code>Properties props = new Properties();\nprops.put(ConsumerConfig.GROUP_ID_CONFIG, &quot;1&quot;);\nKafkaSpoutConfig spoutConfig = KafkaSpoutConfig.\n    builder(&quot;PLAINTEXT://kafka1:9092,PLAINTEXT://kafka2:9092,PLAINTEXT://kafka3:9092,&quot;, TOPIC)\n    .setProp(props)\n    .setFirstPollOffsetStrategy(FirstPollOffsetStrategy.EARLIEST)\n    .setProcessingGuarantee(KafkaSpoutConfig.ProcessingGuarantee.AT_MOST_ONCE)\n    .setOffsetCommitPeriodMs(100)\n    .build();\n\nbuilder.setSpout(&quot;kafka_spout&quot;, new KafkaSpout(spoutConfig), 1);\n</code></pre>\n<p><strong>EDIT2:</strong>\nThe procedure of the producer data is like:\nSelect from database and add to an ArrayList:</p>\n<pre><code>private static ArrayList&lt;Pair&lt;Long, String&gt;&gt; selectData(String start, String end) {\n    Statement statement = null;\n    ResultSet resultSet;\n    ArrayList&lt;Pair&lt;Long, String&gt;&gt; results = new ArrayList&lt;&gt;();\n\n    try {\n\n        if (conn != null) {\n            statement = conn.createStatement();\n        }\n\n        resultSet = statement.executeQuery(&quot;SELECT data1, data2, data3, data4 FROM &quot; +\n                &quot;tdrive &quot; +\n                &quot;where date_time between '&quot; +\n                start +\n                &quot;' and '&quot; +\n                end +\n                &quot;' order by date_time asc;&quot;);\n\n\n        while ( resultSet.next() ) {\n            int id = resultSet.getInt(&quot;data1&quot;);\n            String result = &quot;&quot;;\n            result += id;\n                result += &quot;;&quot;;\n            result += resultSet.getTimestamp(&quot;data2&quot;);\n            result += &quot;;&quot;;\n            result += resultSet.getDouble(&quot;data3&quot;);\n                result += &quot;;&quot;;\n        result += resultSet.getDouble(&quot;data4&quot;);\n\n            results.add(new Pair&lt;&gt;((long) id, result));\n        }     \n    } catch (SQLException e) {\n        e.printStackTrace();\n    }\nreturn results;\n</code></pre>\n<p>After the data were stored into the ArrayList all data are sent by Kafka:</p>\n<pre><code>for (Pair data : selectData(covertTime(selectStartTime), covertTime(selectEndTime))) {\n     String result = (String) data.getValue1();\n     produceMessage((Long) data.getValue0(), result);\n }\n producer.flush();\n</code></pre>\n<p>produceMessage is like:</p>\n<pre><code>private static void produceMessage(long key, String value) {\n    long time = System.currentTimeMillis();\n\n    try {\n        final ProducerRecord&lt;Long, String&gt; record = new ProducerRecord&lt;&gt;(TOPIC, key, value);\n\n        RecordMetadata metadata = producer.send(record).get();\n\n        long elapsedTime = System.currentTimeMillis() - time;\n        System.out.printf(&quot;sent record(key=%s value=%s) &quot; +\n                        &quot;meta(partition=%d, offset=%d) time=%d\\n&quot;, // key:id, value:&quot;id;timestamp;long;lat&quot;\n                record.key(), record.value(), metadata.partition(),\n                metadata.offset(), elapsedTime);\n\n    } catch (Exception e) {\n        System.err.println(e);\n    }\n}\n</code></pre>\n<p>I hope after <strong>EDIT2</strong>, there is not too much code.</p>\n<p>Thank you in advance</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc"],"comments":[{"owner":{"account_id":5344327,"reputation":1074,"user_id":6771708,"accept_rate":71,"display_name":"namila007"},"score":0,"creation_date":1640987732,"post_id":70544365,"comment_id":124705090,"body_markdown":"try keeping a session cookies/ tokens (save user info there) and when u visit users/current read the session get the userid and preview the relevant user profile","body":"try keeping a session cookies/ tokens (save user info there) and when u visit users/current read the session get the userid and preview the relevant user profile"},{"owner":{"account_id":17480531,"reputation":56,"user_id":12674724,"display_name":"Toshimichi"},"score":0,"creation_date":1641024611,"post_id":70544365,"comment_id":124708403,"body_markdown":"can you please provide me an example?","body":"can you please provide me an example?"},{"owner":{"account_id":1464652,"reputation":12323,"user_id":1377895,"accept_rate":100,"display_name":"Roman Vottner"},"score":1,"creation_date":1641025886,"post_id":70544365,"comment_id":124708537,"body_markdown":"There are no `RESTful URLs`! URIs/URLs are just a sequence of characters that as a whole act as a pointer to a resource. The URI itself is i.e. not enough to determine whether a remote service adheres to RESTful principles and a single URI can&#39;t state whether its path segments form a parent-child relationship or not. URIs/URLs shouldn&#39;t be used to convey meaning from server to clients which the latter ones attempt to extract as the server is free to change its URIs/URLs anytime it sees fits. If so, link relation names should be used to convey the intention of the URI","body":"There are no <code>RESTful URLs</code>! URIs/URLs are just a sequence of characters that as a whole act as a pointer to a resource. The URI itself is i.e. not enough to determine whether a remote service adheres to RESTful principles and a single URI can&#39;t state whether its path segments form a parent-child relationship or not. URIs/URLs shouldn&#39;t be used to convey meaning from server to clients which the latter ones attempt to extract as the server is free to change its URIs/URLs anytime it sees fits. If so, link relation names should be used to convey the intention of the URI"},{"owner":{"account_id":5344327,"reputation":1074,"user_id":6771708,"accept_rate":71,"display_name":"namila007"},"score":0,"creation_date":1641118142,"post_id":70544365,"comment_id":124721833,"body_markdown":"@Toshimichi check about JWT tokens or session cookies. all you have to do is create a token or cookie and save userID or some unique user variable. once you visit the users/current read the cookie/token extract id and retrieve the data from ur apis","body":"@Toshimichi check about JWT tokens or session cookies. all you have to do is create a token or cookie and save userID or some unique user variable. once you visit the users/current read the cookie/token extract id and retrieve the data from ur apis"},{"owner":{"account_id":17480531,"reputation":56,"user_id":12674724,"display_name":"Toshimichi"},"score":0,"creation_date":1641134545,"post_id":70544365,"comment_id":124724950,"body_markdown":"Sorry but I think you are misunderstanding the question. My question is, how I can implement &quot;/users/current&quot; endpoint. Also, this is not Rest API. Please check this question: https://stackoverflow.com/questions/36520372/designing-uri-for-current-logged-in-user-in-rest-applications","body":"Sorry but I think you are misunderstanding the question. My question is, how I can implement &quot;/users/current&quot; endpoint. Also, this is not Rest API. Please check this question: <a href=\"https://stackoverflow.com/questions/36520372/designing-uri-for-current-logged-in-user-in-rest-applications\" title=\"designing uri for current logged in user in rest applications\">stackoverflow.com/questions/36520372/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":17480531,"reputation":56,"user_id":12674724,"display_name":"Toshimichi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1641304991,"creation_date":1641304991,"answer_id":70579970,"question_id":70544365,"body_markdown":"maybe custom annotation with AbstractNamedValueMethodArgumentResolver would be the best solution. Read P.S of the question for more details.","title":"Create RESTful web service for current logged user in Spring Boot","body":"<p>maybe custom annotation with AbstractNamedValueMethodArgumentResolver would be the best solution. Read P.S of the question for more details.</p>\n"}],"owner":{"account_id":17480531,"reputation":56,"user_id":12674724,"display_name":"Toshimichi"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":245,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70579970,"answer_count":1,"score":0,"last_activity_date":1641304991,"creation_date":1640971061,"question_id":70544365,"body_markdown":" I have URL for user dashboard(/users/{userId}).\r\n\r\n I wanted to support /users/current for current logged user, and I searched for ways to implement that, and I did that by the following code.\r\n\r\n However, I think it&#39;s too overwhelming and I wonder if there are better/simpler ways to do that.\r\n\r\n```java\r\n@Controller\r\n@RequestMapping(&quot;/users/{target}&quot;)\r\npublic class UserController {\r\n\r\n    @GetMapping\r\n    public String get(@PathVariable User target) {\r\n        return &quot;dashboard&quot;;\r\n    }\r\n\r\n    @PostMapping\r\n    public String put(@PathVariable User target, ...) {\r\n        ...\r\n    }\r\n\r\n    @GetMapping(&quot;licenses&quot;)\r\n    public String getLicenses(@PathVariable User target, ...) {\r\n        ...\r\n    }\r\n\r\n    ...\r\n}\r\n```\r\n\r\n```java\r\n\r\n@Configuration\r\n@RequiredArgsConstructor\r\npublic class MethodHandlersConfig {\r\n\r\n    private final RequestMappingHandlerAdapter adapter;\r\n\r\n    @PostConstruct\r\n    public void prioritizeCustomArgumentMethodHandlers() {\r\n        List&lt;HandlerMethodArgumentResolver&gt; argumentResolvers = new ArrayList&lt;&gt;(adapter.getArgumentResolvers());\r\n        List&lt;HandlerMethodArgumentResolver&gt; customResolvers = adapter.getCustomArgumentResolvers();\r\n        argumentResolvers.removeAll(customResolvers);\r\n        argumentResolvers.addAll(0, customResolvers);\r\n        adapter.setArgumentResolvers(argumentResolvers);\r\n    }\r\n}\r\n```\r\n\r\n```java\r\n\r\n@Component\r\n@RequiredArgsConstructor\r\npublic class UserResolver extends PathVariableMethodArgumentResolver {\r\n\r\n    private final UserService userService;\r\n\r\n    @Override\r\n    public boolean supportsParameter(MethodParameter parameter) {\r\n        return User.class.isAssignableFrom(parameter.getParameterType());\r\n    }\r\n\r\n    @Override\r\n    @SuppressWarnings(&quot;rawtypes&quot;)\r\n    protected Object resolveName(String name, MethodParameter parameter, NativeWebRequest request) throws Exception {\r\n        User user;\r\n        HttpServletRequest servletRequest = request.getNativeRequest(HttpServletRequest.class);\r\n        Map path = (Map) servletRequest.getAttribute(HandlerMapping.URI_TEMPLATE_VARIABLES_ATTRIBUTE);\r\n        String target = (String) path.get(name);\r\n        if (target.equals(&quot;current&quot;)) {\r\n            Authentication auth = SecurityContextHolder.getContext().getAuthentication();\r\n            if (auth == null) {\r\n                throw new InsufficientAuthenticationException(&quot;User is not authenticated&quot;);\r\n            }\r\n            user = (User) auth.getPrincipal();\r\n        } else {\r\n            user = userService.loadUserByUsername(target);\r\n        }\r\n        request.setAttribute(&quot;username&quot;, target, RequestAttributes.SCOPE_REQUEST);\r\n        request.setAttribute(&quot;user&quot;, user, RequestAttributes.SCOPE_REQUEST);\r\n        return user;\r\n    }\r\n}\r\n```\r\n\r\n\r\nP. S. I think I made a much better solution with custom annotation (@UserPath)\r\n```java\r\n\r\n@Component\r\n@RequiredArgsConstructor\r\npublic class UserResolver extends AbstractNamedValueMethodArgumentResolver implements UriComponentsContributor {\r\n\r\n    private final UserService userService;\r\n\r\n    @Override\r\n    public boolean supportsParameter(MethodParameter parameter) {\r\n        return parameter.hasParameterAnnotation(UserPath.class);\r\n    }\r\n\r\n    @Override\r\n    protected NamedValueInfo createNamedValueInfo(MethodParameter parameter) {\r\n        UserPath annotation = parameter.getParameterAnnotation(UserPath.class);\r\n        return new NamedValueInfo(annotation.name(), true, ValueConstants.DEFAULT_NONE);\r\n    }\r\n\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    protected String getValue(String name, WebRequest request) {\r\n        Map&lt;String, String&gt; vars = (Map&lt;String, String&gt;) request.getAttribute(\r\n                HandlerMapping.URI_TEMPLATE_VARIABLES_ATTRIBUTE, RequestAttributes.SCOPE_REQUEST);\r\n        return vars.get(name);\r\n    }\r\n\r\n    @Override\r\n    @Nullable\r\n    protected User resolveName(String name, MethodParameter parameter, NativeWebRequest request) throws Exception {\r\n        UserPath annotation = parameter.getParameterAnnotation(UserPath.class);\r\n\r\n        String userObj = getValue(name, request);\r\n        User current = (User) SecurityContextHolder.getContext().getAuthentication().getPrincipal();\r\n        if (userObj.equals(&quot;current&quot;)) {\r\n            return current;\r\n        } else {\r\n            User found = userService.loadUserByUsername(userObj);\r\n            if (annotation.admin() &amp;&amp;\r\n                    !current.getId().equals(found.getId()) &amp;&amp;\r\n                    !current.getAuthorities().contains(UserAuthority.ROLE_ADMIN)) {\r\n                throw new InsufficientAuthenticationException(&quot;Admin permission is required&quot;);\r\n            }\r\n            return found;\r\n        }\r\n    }\r\n\r\n    @Override\r\n    protected void handleResolvedValue(Object arg, String name, MethodParameter parameter, ModelAndViewContainer mavContainer, NativeWebRequest webRequest) {\r\n        User user = (User) arg;\r\n        String userObj = getValue(name, webRequest);\r\n        mavContainer.addAttribute(&quot;user&quot;, user);\r\n        mavContainer.addAttribute(&quot;username&quot;, userObj);\r\n    }\r\n\r\n    @Override\r\n    public void contributeMethodArgument(MethodParameter parameter, Object value,\r\n                                         UriComponentsBuilder builder, Map&lt;String, Object&gt; uriVariables, ConversionService conversionService) {\r\n        uriVariables.put(parameter.getParameterAnnotation(UserPath.class).value(), value.toString());\r\n    }\r\n}\r\n```\r\n\r\n","title":"Create RESTful web service for current logged user in Spring Boot","body":"<p>I have URL for user dashboard(/users/{userId}).</p>\n<p>I wanted to support /users/current for current logged user, and I searched for ways to implement that, and I did that by the following code.</p>\n<p>However, I think it's too overwhelming and I wonder if there are better/simpler ways to do that.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Controller\n@RequestMapping(&quot;/users/{target}&quot;)\npublic class UserController {\n\n    @GetMapping\n    public String get(@PathVariable User target) {\n        return &quot;dashboard&quot;;\n    }\n\n    @PostMapping\n    public String put(@PathVariable User target, ...) {\n        ...\n    }\n\n    @GetMapping(&quot;licenses&quot;)\n    public String getLicenses(@PathVariable User target, ...) {\n        ...\n    }\n\n    ...\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>\n@Configuration\n@RequiredArgsConstructor\npublic class MethodHandlersConfig {\n\n    private final RequestMappingHandlerAdapter adapter;\n\n    @PostConstruct\n    public void prioritizeCustomArgumentMethodHandlers() {\n        List&lt;HandlerMethodArgumentResolver&gt; argumentResolvers = new ArrayList&lt;&gt;(adapter.getArgumentResolvers());\n        List&lt;HandlerMethodArgumentResolver&gt; customResolvers = adapter.getCustomArgumentResolvers();\n        argumentResolvers.removeAll(customResolvers);\n        argumentResolvers.addAll(0, customResolvers);\n        adapter.setArgumentResolvers(argumentResolvers);\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>\n@Component\n@RequiredArgsConstructor\npublic class UserResolver extends PathVariableMethodArgumentResolver {\n\n    private final UserService userService;\n\n    @Override\n    public boolean supportsParameter(MethodParameter parameter) {\n        return User.class.isAssignableFrom(parameter.getParameterType());\n    }\n\n    @Override\n    @SuppressWarnings(&quot;rawtypes&quot;)\n    protected Object resolveName(String name, MethodParameter parameter, NativeWebRequest request) throws Exception {\n        User user;\n        HttpServletRequest servletRequest = request.getNativeRequest(HttpServletRequest.class);\n        Map path = (Map) servletRequest.getAttribute(HandlerMapping.URI_TEMPLATE_VARIABLES_ATTRIBUTE);\n        String target = (String) path.get(name);\n        if (target.equals(&quot;current&quot;)) {\n            Authentication auth = SecurityContextHolder.getContext().getAuthentication();\n            if (auth == null) {\n                throw new InsufficientAuthenticationException(&quot;User is not authenticated&quot;);\n            }\n            user = (User) auth.getPrincipal();\n        } else {\n            user = userService.loadUserByUsername(target);\n        }\n        request.setAttribute(&quot;username&quot;, target, RequestAttributes.SCOPE_REQUEST);\n        request.setAttribute(&quot;user&quot;, user, RequestAttributes.SCOPE_REQUEST);\n        return user;\n    }\n}\n</code></pre>\n<p>P. S. I think I made a much better solution with custom annotation (@UserPath)</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n@Component\n@RequiredArgsConstructor\npublic class UserResolver extends AbstractNamedValueMethodArgumentResolver implements UriComponentsContributor {\n\n    private final UserService userService;\n\n    @Override\n    public boolean supportsParameter(MethodParameter parameter) {\n        return parameter.hasParameterAnnotation(UserPath.class);\n    }\n\n    @Override\n    protected NamedValueInfo createNamedValueInfo(MethodParameter parameter) {\n        UserPath annotation = parameter.getParameterAnnotation(UserPath.class);\n        return new NamedValueInfo(annotation.name(), true, ValueConstants.DEFAULT_NONE);\n    }\n\n    @SuppressWarnings(&quot;unchecked&quot;)\n    protected String getValue(String name, WebRequest request) {\n        Map&lt;String, String&gt; vars = (Map&lt;String, String&gt;) request.getAttribute(\n                HandlerMapping.URI_TEMPLATE_VARIABLES_ATTRIBUTE, RequestAttributes.SCOPE_REQUEST);\n        return vars.get(name);\n    }\n\n    @Override\n    @Nullable\n    protected User resolveName(String name, MethodParameter parameter, NativeWebRequest request) throws Exception {\n        UserPath annotation = parameter.getParameterAnnotation(UserPath.class);\n\n        String userObj = getValue(name, request);\n        User current = (User) SecurityContextHolder.getContext().getAuthentication().getPrincipal();\n        if (userObj.equals(&quot;current&quot;)) {\n            return current;\n        } else {\n            User found = userService.loadUserByUsername(userObj);\n            if (annotation.admin() &amp;&amp;\n                    !current.getId().equals(found.getId()) &amp;&amp;\n                    !current.getAuthorities().contains(UserAuthority.ROLE_ADMIN)) {\n                throw new InsufficientAuthenticationException(&quot;Admin permission is required&quot;);\n            }\n            return found;\n        }\n    }\n\n    @Override\n    protected void handleResolvedValue(Object arg, String name, MethodParameter parameter, ModelAndViewContainer mavContainer, NativeWebRequest webRequest) {\n        User user = (User) arg;\n        String userObj = getValue(name, webRequest);\n        mavContainer.addAttribute(&quot;user&quot;, user);\n        mavContainer.addAttribute(&quot;username&quot;, userObj);\n    }\n\n    @Override\n    public void contributeMethodArgument(MethodParameter parameter, Object value,\n                                         UriComponentsBuilder builder, Map&lt;String, Object&gt; uriVariables, ConversionService conversionService) {\n        uriVariables.put(parameter.getParameterAnnotation(UserPath.class).value(), value.toString());\n    }\n}\n</code></pre>\n"},{"tags":["java","servlet-filters"],"comments":[{"owner":{"account_id":38309,"reputation":19501,"user_id":109880,"accept_rate":76,"display_name":"Fortega"},"score":1,"creation_date":1263395457,"post_id":2057607,"comment_id":1985319,"body_markdown":"http://java.sun.com/products/servlet/Filters.html","body":"<a href=\"http://java.sun.com/products/servlet/Filters.html\" rel=\"nofollow noreferrer\">java.sun.com/products/servlet/Filters.html</a>"}],"answers":[{"tags":[],"owner":{"account_id":58903,"reputation":8267,"user_id":176312,"display_name":"JaakkoK"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1263395385,"creation_date":1263395385,"answer_id":2057634,"question_id":2057607,"body_markdown":"It is calling the `doFilter` method of the `chain` object, not itself, so no, it won&#39;t be recursive.\r\n\r\nThe name `chain` suggests that you have a sequence of filters, with each filter doing some processing and then passing on to the next in sequence, so each object has a `chain` member to point to the next filter in the sequence, which gets called after the filter has performed its own processing. The last in the sequence will then probably have `null` as the `chain` value, or it knows on its own that it is the last one in the sequence.","title":"What is chain.doFilter doing in Filter.doFilter method?","body":"<p>It is calling the <code>doFilter</code> method of the <code>chain</code> object, not itself, so no, it won't be recursive.</p>\n\n<p>The name <code>chain</code> suggests that you have a sequence of filters, with each filter doing some processing and then passing on to the next in sequence, so each object has a <code>chain</code> member to point to the next filter in the sequence, which gets called after the filter has performed its own processing. The last in the sequence will then probably have <code>null</code> as the <code>chain</code> value, or it knows on its own that it is the last one in the sequence.</p>\n"},{"tags":[],"owner":{"account_id":36208,"reputation":240316,"user_id":103154,"display_name":"axtavt"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1263395441,"creation_date":1263395441,"answer_id":2057639,"question_id":2057607,"body_markdown":"Internally it invokes `doFilter` of the next filter in the filter chain, and, when chain is over, it invokes the target servlet.","title":"What is chain.doFilter doing in Filter.doFilter method?","body":"<p>Internally it invokes <code>doFilter</code> of the next filter in the filter chain, and, when chain is over, it invokes the target servlet.</p>\n"},{"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"down_vote_count":0,"up_vote_count":61,"is_accepted":true,"score":61,"last_activity_date":1377756554,"creation_date":1263395518,"answer_id":2057649,"question_id":2057607,"body_markdown":"Servlet Filters are an implementation of the &lt;a href=&quot;http://en.wikipedia.org/wiki/Chain-of-responsibility_pattern&quot;&gt;Chain of responsibility&lt;/a&gt; design pattern.\r\n\r\nAll filters are chained (in the order of their definition in web.xml). The `chain.doFilter()` is proceeding to the next element in the chain. The last element of the chain is the target resource/servlet.","title":"What is chain.doFilter doing in Filter.doFilter method?","body":"<p>Servlet Filters are an implementation of the <a href=\"http://en.wikipedia.org/wiki/Chain-of-responsibility_pattern\" rel=\"noreferrer\">Chain of responsibility</a> design pattern.</p>\n\n<p>All filters are chained (in the order of their definition in web.xml). The <code>chain.doFilter()</code> is proceeding to the next element in the chain. The last element of the chain is the target resource/servlet.</p>\n"},{"tags":[],"owner":{"account_id":90192,"reputation":989,"user_id":248368,"accept_rate":62,"display_name":"Kallin Nagelberg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1263395551,"creation_date":1263395551,"answer_id":2057653,"question_id":2057607,"body_markdown":"By calling chain.doFilter you are handing the request/response to the next filter in your filter chain. If you do not call it then the next filter (probably defined in your web.xml) will not be executed. \r\n\r\nIf you just called doFilter, then yes you would have endless recursion and a stackoverflow. However, you are calling the doFilter method of the filterChain object, which instructs it to execute the next filter.","title":"What is chain.doFilter doing in Filter.doFilter method?","body":"<p>By calling chain.doFilter you are handing the request/response to the next filter in your filter chain. If you do not call it then the next filter (probably defined in your web.xml) will not be executed. </p>\n\n<p>If you just called doFilter, then yes you would have endless recursion and a stackoverflow. However, you are calling the doFilter method of the filterChain object, which instructs it to execute the next filter.</p>\n"},{"tags":[],"owner":{"account_id":34514,"reputation":28046,"user_id":97627,"accept_rate":75,"display_name":"Paul Wagland"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1338464936,"creation_date":1263395874,"answer_id":2057706,"question_id":2057607,"body_markdown":"Not having any code that you are talking about, I can only assume that you something like:\r\n\r\n    class Filter implements FilterAPI {\r\n      private FilterAPI chain;\r\n      FilterAPI(FilterAPI chain) { this.chain = chain; }\r\n      @override void doFilter (Set setToFilter) {\r\n        // do some filtering on setToFilter\r\n        chain.doFilter(setToFilter);\r\n      }\r\n    }\r\n\r\nIf that is the case, then you are not calling anything recursively, you are calling doFilter() on a different object. As mentioned on an another answer, this is the well known Chain of Responsibility design pattern.","title":"What is chain.doFilter doing in Filter.doFilter method?","body":"<p>Not having any code that you are talking about, I can only assume that you something like:</p>\n\n<pre><code>class Filter implements FilterAPI {\n  private FilterAPI chain;\n  FilterAPI(FilterAPI chain) { this.chain = chain; }\n  @override void doFilter (Set setToFilter) {\n    // do some filtering on setToFilter\n    chain.doFilter(setToFilter);\n  }\n}\n</code></pre>\n\n<p>If that is the case, then you are not calling anything recursively, you are calling doFilter() on a different object. As mentioned on an another answer, this is the well known Chain of Responsibility design pattern.</p>\n"},{"tags":[],"owner":{"account_id":3349978,"reputation":21,"user_id":2814206,"display_name":"Vivek Parashar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1380097843,"creation_date":1380097843,"answer_id":18999909,"question_id":2057607,"body_markdown":" Causes the next filter in the chain to be invoked, or if the calling filter is the last filter in the chain, causes the resource at the end of the chain to be invoked.","title":"What is chain.doFilter doing in Filter.doFilter method?","body":"<p>Causes the next filter in the chain to be invoked, or if the calling filter is the last filter in the chain, causes the resource at the end of the chain to be invoked.</p>\n"},{"tags":[],"owner":{"account_id":19030167,"reputation":11,"user_id":13892443,"display_name":"user13892443"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641304733,"creation_date":1641228989,"answer_id":70569053,"question_id":2057607,"body_markdown":"Yes, it is a recursive call to be precise. If you have a filter set to a folder as such,\r\n\r\n    /javax.faces.resource/*\r\nthen all the resources in this folder will be called recursively. So if you want to do something with the resources you will write\r\n\r\n        @Override\r\n      public void doFilter(ServletRequest request, ServletResponse response,\r\n          FilterChain chain)\r\n          throws IOException, ServletException {\r\n        doSomething(request, response);\r\n        chain.doFilter(request, response);\r\n      }\r\n\r\nThe call to chain.doFilter(...) will process the current request/response and then call doFilter with the next resource until all the resources in url-pattern are processed by subsequent doFilter() calls.\r\n\r\nSay you could have a ImagesFilter and a SessionFilter implemantation.\r\nFor these Filter implementations you will define filter-mapping with URL-pattern.\r\n\r\n    &lt;filter-mapping&gt;\r\n        &lt;filter-name&gt;SessionFilter&lt;/filter-name&gt;\r\n        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n    &lt;/filter-mapping&gt;\r\n\r\nAll Resources in the path /* will end up being called by the doFilter(...) method in your filter implementation, but most interestingly the doFilter in the FilterChain will do the actual processing of the request/response.\r\nHence if you don&#39;t call chain.doFilter(...) then your response can get broken.\r\n","title":"What is chain.doFilter doing in Filter.doFilter method?","body":"<p>Yes, it is a recursive call to be precise. If you have a filter set to a folder as such,</p>\n<pre><code>/javax.faces.resource/*\n</code></pre>\n<p>then all the resources in this folder will be called recursively. So if you want to do something with the resources you will write</p>\n<pre><code>    @Override\n  public void doFilter(ServletRequest request, ServletResponse response,\n      FilterChain chain)\n      throws IOException, ServletException {\n    doSomething(request, response);\n    chain.doFilter(request, response);\n  }\n</code></pre>\n<p>The call to chain.doFilter(...) will process the current request/response and then call doFilter with the next resource until all the resources in url-pattern are processed by subsequent doFilter() calls.</p>\n<p>Say you could have a ImagesFilter and a SessionFilter implemantation.\nFor these Filter implementations you will define filter-mapping with URL-pattern.</p>\n<pre><code>&lt;filter-mapping&gt;\n    &lt;filter-name&gt;SessionFilter&lt;/filter-name&gt;\n    &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n&lt;/filter-mapping&gt;\n</code></pre>\n<p>All Resources in the path /* will end up being called by the doFilter(...) method in your filter implementation, but most interestingly the doFilter in the FilterChain will do the actual processing of the request/response.\nHence if you don't call chain.doFilter(...) then your response can get broken.</p>\n"}],"owner":{"account_id":86591,"reputation":26893,"user_id":240698,"accept_rate":62,"display_name":"giri"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89210,"favorite_count":0,"down_vote_count":1,"up_vote_count":47,"accepted_answer_id":2057649,"answer_count":7,"score":46,"last_activity_date":1641304733,"creation_date":1263395170,"question_id":2057607,"body_markdown":"In a [`Filter.doFilter`](https://docs.oracle.com/javaee/7/api/javax/servlet/Filter.html#doFilter-javax.servlet.ServletRequest-javax.servlet.ServletResponse-javax.servlet.FilterChain-) method I made this call [`chain.doFilter`](https://docs.oracle.com/javaee/7/api/javax/servlet/FilterChain.html#doFilter-javax.servlet.ServletRequest-javax.servlet.ServletResponse-).\r\n\r\nWhat is `doFilter` doing inside a `doFilter`? Isn&#39;t it a recursive call?","title":"What is chain.doFilter doing in Filter.doFilter method?","body":"<p>In a <a href=\"https://docs.oracle.com/javaee/7/api/javax/servlet/Filter.html#doFilter-javax.servlet.ServletRequest-javax.servlet.ServletResponse-javax.servlet.FilterChain-\" rel=\"noreferrer\"><code>Filter.doFilter</code></a> method I made this call <a href=\"https://docs.oracle.com/javaee/7/api/javax/servlet/FilterChain.html#doFilter-javax.servlet.ServletRequest-javax.servlet.ServletResponse-\" rel=\"noreferrer\"><code>chain.doFilter</code></a>.</p>\n\n<p>What is <code>doFilter</code> doing inside a <code>doFilter</code>? Isn't it a recursive call?</p>\n"},{"tags":["java","android","android-studio","mobile","webrtc"],"answers":[{"tags":[],"owner":{"account_id":20476509,"reputation":115,"user_id":15025727,"display_name":"moigamijunior"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641304598,"creation_date":1641304598,"answer_id":70579887,"question_id":70579013,"body_markdown":"The problem was that I haven&#39;t set uses-permission in the manifest.\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_PHONE_STATE&quot; /&gt;\r\n\r\nAnd of course, you have to ask the user to use the PHONE_STATE.\r\n\r\nReact-native way:\r\n\r\n         (async () =&gt; {\r\n            try {\r\n              const granted = await PermissionsAndroid.request(\r\n                PermissionsAndroid.PERMISSIONS.READ_PHONE_STATE,\r\n                {\r\n                  &#39;title&#39;: &#39;ReactNativeCode Location Permission&#39;,\r\n                  &#39;message&#39;: &#39;ReactNativeCode App needs access to your phone state &#39;\r\n                }\r\n              )\r\n              if (granted === PermissionsAndroid.RESULTS.GRANTED) {\r\n                Alert.alert(&quot;Location Permission Granted.&quot;);\r\n              }\r\n              else {\r\n                Alert.alert(&quot;Location Permission Not Granted&quot;);\r\n              }\r\n            } catch (err) {\r\n              console.warn(err)\r\n            }\r\n        })()","title":"W/System: A resource failed to call release. Broadcast receiver","body":"<p>The problem was that I haven't set uses-permission in the manifest.</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.READ_PHONE_STATE&quot; /&gt;\n</code></pre>\n<p>And of course, you have to ask the user to use the PHONE_STATE.</p>\n<p>React-native way:</p>\n<pre><code>     (async () =&gt; {\n        try {\n          const granted = await PermissionsAndroid.request(\n            PermissionsAndroid.PERMISSIONS.READ_PHONE_STATE,\n            {\n              'title': 'ReactNativeCode Location Permission',\n              'message': 'ReactNativeCode App needs access to your phone state '\n            }\n          )\n          if (granted === PermissionsAndroid.RESULTS.GRANTED) {\n            Alert.alert(&quot;Location Permission Granted.&quot;);\n          }\n          else {\n            Alert.alert(&quot;Location Permission Not Granted&quot;);\n          }\n        } catch (err) {\n          console.warn(err)\n        }\n    })()\n</code></pre>\n"}],"owner":{"account_id":20476509,"reputation":115,"user_id":15025727,"display_name":"moigamijunior"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3254,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1641304598,"creation_date":1641300236,"question_id":70579013,"body_markdown":"When I try to get broadcast for incomming call:\r\n\r\n        BroadcastReceiver br = new MyBroadcastReceiver();\r\n        IntentFilter filter = new IntentFilter(TelephonyManager.ACTION_PHONE_STATE_CHANGED);\r\n        filter.addAction(Intent.ACTION_SCREEN_OFF);\r\n        MainApplication.getAppContext().registerReceiver(br, filter);\r\n\r\nI got an error when doing or receiving a call:\r\n\r\n    W/System: A resource failed to call release.\r\n\r\nThe `ACTION_SCREEN_OFF` works fine, but `ACTION_PHONE_STATE_CHANGED` do not. My APP has a webRTC connection open. In other APP that dosen&#39;t work with webRTC, `ACTION_PHONE_STATE_CHANGED` works fine.\r\n\r\nI&#39;m trying to make the audio back to speaker after a incomming call.\r\n\r\nSome clue? Thanks!\r\n\r\n","title":"W/System: A resource failed to call release. Broadcast receiver","body":"<p>When I try to get broadcast for incomming call:</p>\n<pre><code>    BroadcastReceiver br = new MyBroadcastReceiver();\n    IntentFilter filter = new IntentFilter(TelephonyManager.ACTION_PHONE_STATE_CHANGED);\n    filter.addAction(Intent.ACTION_SCREEN_OFF);\n    MainApplication.getAppContext().registerReceiver(br, filter);\n</code></pre>\n<p>I got an error when doing or receiving a call:</p>\n<pre><code>W/System: A resource failed to call release.\n</code></pre>\n<p>The <code>ACTION_SCREEN_OFF</code> works fine, but <code>ACTION_PHONE_STATE_CHANGED</code> do not. My APP has a webRTC connection open. In other APP that dosen't work with webRTC, <code>ACTION_PHONE_STATE_CHANGED</code> works fine.</p>\n<p>I'm trying to make the audio back to speaker after a incomming call.</p>\n<p>Some clue? Thanks!</p>\n"},{"tags":["java","encryption","cryptography","keystore","keytool"],"comments":[{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":1,"creation_date":1512409245,"post_id":47638950,"comment_id":82236188,"body_markdown":"Could you try saving to a different file name and see what happens? If you&#39;re on a Unix system, could you also try `file &lt;keystore_name.ext&gt;` as well? Hmm, that last sentence was deprecated before I could type it with the update :)","body":"Could you try saving to a different file name and see what happens? If you&#39;re on a Unix system, could you also try <code>file &lt;keystore_name.ext&gt;</code> as well? Hmm, that last sentence was deprecated before I could type it with the update :)"},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":0,"creation_date":1512409411,"post_id":47638950,"comment_id":82236278,"body_markdown":"I&#39;d strongly recommend to use the `.jks` and `.p12` file name extensions, by the way.","body":"I&#39;d strongly recommend to use the <code>.jks</code> and <code>.p12</code> file name extensions, by the way."},{"owner":{"account_id":7683842,"reputation":738,"user_id":5822306,"accept_rate":33,"display_name":"Conner Dassen"},"score":0,"creation_date":1512409414,"post_id":47638950,"comment_id":82236283,"body_markdown":"@MaartenBodewes still listed as JKS, also when changing extension to p12","body":"@MaartenBodewes still listed as JKS, also when changing extension to p12"},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":0,"creation_date":1512409850,"post_id":47638950,"comment_id":82236529,"body_markdown":"OK, this is starting to look like a bug. Note that Java 9 uses .p12 as default, so it could be an issue backporting. But could you move your `-deststoretype` arguments to the start of the command, just to be sure? What kind of contents are in the keystore, anything maybe that Java 8 doesn&#39;t support such as private keys without certificates?","body":"OK, this is starting to look like a bug. Note that Java 9 uses .p12 as default, so it could be an issue backporting. But could you move your <code>-deststoretype</code> arguments to the start of the command, just to be sure? What kind of contents are in the keystore, anything maybe that Java 8 doesn&#39;t support such as private keys without certificates?"},{"owner":{"account_id":7683842,"reputation":738,"user_id":5822306,"accept_rate":33,"display_name":"Conner Dassen"},"score":0,"creation_date":1512410072,"post_id":47638950,"comment_id":82236622,"body_markdown":"New command is `keytool -deststoretype pkcs12 -importkeystore -srckeystore server.private -destkeystore newserver.p12`, running `keytool -list -keystore newserver.p12` still shows a JKS format.","body":"New command is <code>keytool -deststoretype pkcs12 -importkeystore -srckeystore server.private -destkeystore newserver.p12</code>, running <code>keytool -list -keystore newserver.p12</code> still shows a JKS format."},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":0,"creation_date":1512411356,"post_id":47638950,"comment_id":82237326,"body_markdown":"Did you add security / cryptography providers? Or are you using a vanilla Java SE environment?","body":"Did you add security / cryptography providers? Or are you using a vanilla Java SE environment?"},{"owner":{"account_id":7683842,"reputation":738,"user_id":5822306,"accept_rate":33,"display_name":"Conner Dassen"},"score":0,"creation_date":1512411495,"post_id":47638950,"comment_id":82237405,"body_markdown":"Completely vanilla","body":"Completely vanilla"},{"owner":{"account_id":7683842,"reputation":738,"user_id":5822306,"accept_rate":33,"display_name":"Conner Dassen"},"score":0,"creation_date":1512411760,"post_id":47638950,"comment_id":82237532,"body_markdown":"@MaartenBodewes Another weird thing; when generating the keystore without the -storetype parameter, it apparently defaults to JKS. It shows me the warning immediately after generating, _and when using `keytool -list -keystore server.private` it shows up at the bottom of the info_. But when generating it with -storetype PKCS12, it _doesn&#39;t_ show a warning, but the weird thing is _**it also doesn&#39;t show a warning at the bottom of the info**_.","body":"@MaartenBodewes Another weird thing; when generating the keystore without the -storetype parameter, it apparently defaults to JKS. It shows me the warning immediately after generating, <i>and when using <code>keytool -list -keystore server.private</code> it shows up at the bottom of the info</i>. But when generating it with -storetype PKCS12, it <i>doesn&#39;t</i> show a warning, but the weird thing is <i><b>it also doesn&#39;t show a warning at the bottom of the info</b></i>."},{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":1,"creation_date":1512412066,"post_id":47638950,"comment_id":82237698,"body_markdown":"The new keystore really is PKCS12. The bug is that keytool *says* it&#39;s jks. To verify this you can parse it with openssl: `openssl pkcs12 -in server.private`","body":"The new keystore really is PKCS12. The bug is that keytool <i>says</i> it&#39;s jks. To verify this you can parse it with openssl: <code>openssl pkcs12 -in server.private</code>"},{"owner":{"account_id":7683842,"reputation":738,"user_id":5822306,"accept_rate":33,"display_name":"Conner Dassen"},"score":0,"creation_date":1512412480,"post_id":47638950,"comment_id":82237889,"body_markdown":"@JamesKPolk But in java I can only use it as JKS format, pkcs12 throws an error","body":"@JamesKPolk But in java I can only use it as JKS format, pkcs12 throws an error"},{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1512412661,"post_id":47638950,"comment_id":82237982,"body_markdown":"Well, it works for me. Make sure you have the correct password supplied to `KeyStore.load(...)`.","body":"Well, it works for me. Make sure you have the correct password supplied to <code>KeyStore.load(...)</code>."},{"owner":{"account_id":9021005,"reputation":4164,"user_id":6722100,"accept_rate":67,"display_name":"achAmh&#225;in"},"score":1,"creation_date":1534860592,"post_id":47638950,"comment_id":90851253,"body_markdown":"From the [redhat](https://access.redhat.com/solutions/3388801) page: *Warning: The JCEKS keystore uses a proprietary format. It is recommended to migrate to PKCS12 ... message can be all and safely ignored. There will be no impact for not changing the JCEKS keystore format, and it is even not recommended to change or migrate it.*","body":"From the <a href=\"https://access.redhat.com/solutions/3388801\" rel=\"nofollow noreferrer\">redhat</a> page: <i>Warning: The JCEKS keystore uses a proprietary format. It is recommended to migrate to PKCS12 ... message can be all and safely ignored. There will be no impact for not changing the JCEKS keystore format, and it is even not recommended to change or migrate it.</i>"}],"answers":[{"tags":[],"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1512665177,"creation_date":1512413604,"answer_id":47640052,"question_id":47638950,"body_markdown":"It seems to be a bug in what keytool displays rather than what it does. Consider the following experiments.\r\n\r\n(EDIT: [bug report filed][1])\r\n\r\nFirst, my jdk version is 1.8.0_152:\r\n\r\n&lt;!-- language-all: lang-none --&gt;\r\n\r\n    excalibur:~ ronan$ java -version\r\n    java version &quot;1.8.0_152&quot;\r\n    Java(TM) SE Runtime Environment (build 1.8.0_152-b16)\r\n    Java HotSpot(TM) 64-Bit Server VM (build 25.152-b16, mixed mode)\r\n\r\nNow, create the keystore as you specified:\r\n\r\n    excalibur:~ ronan$ keytool -genkey -alias serverprivate -keystore server.private -keyalg rsa -storepass apassword -keypass apassword\r\n    What is your first and last name?\r\n      [Unknown]:  Art Vandelay\r\n    What is the name of your organizational unit?\r\n      [Unknown]:  Export/Import\r\n    What is the name of your organization?\r\n      [Unknown]:  Vandelay Industries\r\n    What is the name of your City or Locality?\r\n      [Unknown]:  New York\r\n    What is the name of your State or Province?\r\n      [Unknown]:  New York\r\n    What is the two-letter country code for this unit?\r\n      [Unknown]:  US\r\n    Is CN=Art Vandelay, OU=Export/Import, O=Vandelay Industries, L=New York, ST=New York, C=US correct?\r\n      [no]:  yes\r\n    \r\n    \r\n    Warning:\r\n    The JKS keystore uses a proprietary format. It is recommended to migrate to PKCS12 which is an industry standard format using &quot;keytool -importkeystore -srckeystore server.private -destkeystore server.private -deststoretype pkcs12&quot;.\r\n\r\nNow, following the instructions given:\r\n\r\n    excalibur:~ ronan$ keytool -importkeystore -srckeystore server.private -destkeystore server.private -deststoretype pkcs12\r\n    Enter source keystore password:  \r\n    Entry for alias serverprivate successfully imported.\r\n    Import command completed:  1 entries successfully imported, 0 entries failed or cancelled\r\n    \r\n    Warning:\r\n    Migrated &quot;server.private&quot; to Non JKS/JCEKS. The JKS keystore is backed up as &quot;server.private.old&quot;.\r\n\r\nBut when we list it with keytool it still says JKS.\r\n\r\n    excalibur:~ ronan$ keytool -list -keystore server.private\r\n    Enter keystore password:  \r\n    Keystore type: JKS\r\n    Keystore provider: SUN\r\n    \r\n    Your keystore contains 1 entry\r\n    \r\n    serverprivate, Dec 4, 2017, PrivateKeyEntry, \r\n    Certificate fingerprint (SHA1): 16:E8:C6:12:7A:F1:7A:B8:64:98:EC:12:C4:07:9E:67:06:BD:DD:BD\r\n\r\nHowever, openssl can parse it as pkcs12 just fine.\r\n\r\n    excalibur:~ ronan$ openssl pkcs12 -in server.private\r\n    Enter Import Password:\r\n    MAC verified OK\r\n    Bag Attributes\r\n        friendlyName: serverprivate\r\n        localKeyID: 54 69 6D 65 20 31 35 31 32 34 31 33 32 30 38 31 38 32 \r\n    Key Attributes: &lt;No Attributes&gt;\r\n    Enter PEM pass phrase:\r\n    Bag Attributes\r\n        friendlyName: serverprivate\r\n        localKeyID: 54 69 6D 65 20 31 35 31 32 34 31 33 32 30 38 31 38 32 \r\n    subject=/C=US/ST=New York/L=New York/O=Vandelay Industries/OU=Export/Import/CN=Art Vandelay\r\n    issuer=/C=US/ST=New York/L=New York/O=Vandelay Industries/OU=Export/Import/CN=Art Vandelay\r\n    -----BEGIN CERTIFICATE-----\r\n    MIIDoTCCAomgAwIBAgIEKSoRITANBgkqhkiG9w0BAQsFADCBgDELMAkGA1UEBhMC\r\n    VVMxETAPBgNVBAgTCE5ldyBZb3JrMREwDwYDVQQHEwhOZXcgWW9yazEcMBoGA1UE\r\n    ChMTVmFuZGVsYXkgSW5kdXN0cmllczEWMBQGA1UECxMNRXhwb3J0L0ltcG9ydDEV\r\n    MBMGA1UEAxMMQXJ0IFZhbmRlbGF5MB4XDTE3MTIwNDE4NDM1NVoXDTE4MDMwNDE4\r\n    NDM1NVowgYAxCzAJBgNVBAYTAlVTMREwDwYDVQQIEwhOZXcgWW9yazERMA8GA1UE\r\n    BxMITmV3IFlvcmsxHDAaBgNVBAoTE1ZhbmRlbGF5IEluZHVzdHJpZXMxFjAUBgNV\r\n    BAsTDUV4cG9ydC9JbXBvcnQxFTATBgNVBAMTDEFydCBWYW5kZWxheTCCASIwDQYJ\r\n    KoZIhvcNAQEBBQADggEPADCCAQoCggEBAIwVIy24Hws6ffaEQGhYEyaw2JC4UPLH\r\n    wtSXpJaZf3lrdtbktbLC+zKJ93fFVfoukX5vpnZKxv+f724duAszkVWN3bBrnAwb\r\n    6sh445tXiRhT2eS+z0rHtXwiPWUKOAPOxGUP1Lhfl5ZCPR4bmohyh/daSX1ppT3P\r\n    k6//lf1y2RdsS5hZ5Ltx9dr99/txsv4a1D8uuPDHIf8dvWfOqGb7ywIAlrbh5JsA\r\n    4IWjMVFMpDQ2WM/C+v48y2W7AdgxGD0J/nNC6t4QfAgwhvVyXbiu9IbAR+ivn59E\r\n    VqC83qv4bBkffB3yYk6WSHSl7YloJueWalVAoudf4uHeaNZBLCvbNsMCAwEAAaMh\r\n    MB8wHQYDVR0OBBYEFNOc6gJkUFCSgyHCDFGJmZwtPLgIMA0GCSqGSIb3DQEBCwUA\r\n    A4IBAQAVyc6j9U+va5U02MxsjDE6LWDPg+0FaqpTAQlU6xhVrZlKWuX+Dup4PF6S\r\n    s4oqhInb7XcGOjbLkVTnuEY5mwfHnyGqNhmyyUwJOVrWZJWBZADvhdcZi0w/jclg\r\n    jAb7dP1VssR4Ozgsd1XkGxnS7P8e344xpjQd1krPc1Od7qhFSF6FufTDvgEcrmx/\r\n    qrHpLpwoYPTyuv+NtD+7KlWINqWq5PT1olydd6ki8O+bTsgDuy8rnvqd/jJ7dsuv\r\n    VLNc+IDEEMO26hS8d1WkppTTuLrayE07LCV8df68WHv6KumDSc5Mb0zOUdLqZUDQ\r\n    Wmxbt0kEAAG6jgbpACBpGEqtAtTs\r\n    -----END CERTIFICATE-----\r\n\r\nand the following Java snippet can also parse it.\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    import java.io.FileInputStream;\r\n    import java.security.KeyStore;\r\n    import java.util.Collections;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) throws Exception {\r\n            KeyStore pkcs12 = KeyStore.getInstance(&quot;PKCS12&quot;);\r\n            pkcs12.load(new FileInputStream(&quot;../../../server.private&quot;), &quot;apassword&quot;.toCharArray());\r\n            for (String alias : Collections.list(pkcs12.aliases())) {\r\n                System.out.println(alias);\r\n            }\r\n        }\r\n    }\r\n\r\nand the output is\r\n\r\n&gt; serverprivate\r\n\r\n\r\n  [1]: http://bugs.java.com/bugdatabase/view_bug.do?bug_id=JDK-8193171","title":"Can&#39;t change the keystore format","body":"<p>It seems to be a bug in what keytool displays rather than what it does. Consider the following experiments.</p>\n\n<p>(EDIT: <a href=\"http://bugs.java.com/bugdatabase/view_bug.do?bug_id=JDK-8193171\" rel=\"noreferrer\">bug report filed</a>)</p>\n\n<p>First, my jdk version is 1.8.0_152:</p>\n\n\n\n<pre class=\"lang-none prettyprint-override\"><code>excalibur:~ ronan$ java -version\njava version \"1.8.0_152\"\nJava(TM) SE Runtime Environment (build 1.8.0_152-b16)\nJava HotSpot(TM) 64-Bit Server VM (build 25.152-b16, mixed mode)\n</code></pre>\n\n<p>Now, create the keystore as you specified:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>excalibur:~ ronan$ keytool -genkey -alias serverprivate -keystore server.private -keyalg rsa -storepass apassword -keypass apassword\nWhat is your first and last name?\n  [Unknown]:  Art Vandelay\nWhat is the name of your organizational unit?\n  [Unknown]:  Export/Import\nWhat is the name of your organization?\n  [Unknown]:  Vandelay Industries\nWhat is the name of your City or Locality?\n  [Unknown]:  New York\nWhat is the name of your State or Province?\n  [Unknown]:  New York\nWhat is the two-letter country code for this unit?\n  [Unknown]:  US\nIs CN=Art Vandelay, OU=Export/Import, O=Vandelay Industries, L=New York, ST=New York, C=US correct?\n  [no]:  yes\n\n\nWarning:\nThe JKS keystore uses a proprietary format. It is recommended to migrate to PKCS12 which is an industry standard format using \"keytool -importkeystore -srckeystore server.private -destkeystore server.private -deststoretype pkcs12\".\n</code></pre>\n\n<p>Now, following the instructions given:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>excalibur:~ ronan$ keytool -importkeystore -srckeystore server.private -destkeystore server.private -deststoretype pkcs12\nEnter source keystore password:  \nEntry for alias serverprivate successfully imported.\nImport command completed:  1 entries successfully imported, 0 entries failed or cancelled\n\nWarning:\nMigrated \"server.private\" to Non JKS/JCEKS. The JKS keystore is backed up as \"server.private.old\".\n</code></pre>\n\n<p>But when we list it with keytool it still says JKS.</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>excalibur:~ ronan$ keytool -list -keystore server.private\nEnter keystore password:  \nKeystore type: JKS\nKeystore provider: SUN\n\nYour keystore contains 1 entry\n\nserverprivate, Dec 4, 2017, PrivateKeyEntry, \nCertificate fingerprint (SHA1): 16:E8:C6:12:7A:F1:7A:B8:64:98:EC:12:C4:07:9E:67:06:BD:DD:BD\n</code></pre>\n\n<p>However, openssl can parse it as pkcs12 just fine.</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>excalibur:~ ronan$ openssl pkcs12 -in server.private\nEnter Import Password:\nMAC verified OK\nBag Attributes\n    friendlyName: serverprivate\n    localKeyID: 54 69 6D 65 20 31 35 31 32 34 31 33 32 30 38 31 38 32 \nKey Attributes: &lt;No Attributes&gt;\nEnter PEM pass phrase:\nBag Attributes\n    friendlyName: serverprivate\n    localKeyID: 54 69 6D 65 20 31 35 31 32 34 31 33 32 30 38 31 38 32 \nsubject=/C=US/ST=New York/L=New York/O=Vandelay Industries/OU=Export/Import/CN=Art Vandelay\nissuer=/C=US/ST=New York/L=New York/O=Vandelay Industries/OU=Export/Import/CN=Art Vandelay\n-----BEGIN CERTIFICATE-----\nMIIDoTCCAomgAwIBAgIEKSoRITANBgkqhkiG9w0BAQsFADCBgDELMAkGA1UEBhMC\nVVMxETAPBgNVBAgTCE5ldyBZb3JrMREwDwYDVQQHEwhOZXcgWW9yazEcMBoGA1UE\nChMTVmFuZGVsYXkgSW5kdXN0cmllczEWMBQGA1UECxMNRXhwb3J0L0ltcG9ydDEV\nMBMGA1UEAxMMQXJ0IFZhbmRlbGF5MB4XDTE3MTIwNDE4NDM1NVoXDTE4MDMwNDE4\nNDM1NVowgYAxCzAJBgNVBAYTAlVTMREwDwYDVQQIEwhOZXcgWW9yazERMA8GA1UE\nBxMITmV3IFlvcmsxHDAaBgNVBAoTE1ZhbmRlbGF5IEluZHVzdHJpZXMxFjAUBgNV\nBAsTDUV4cG9ydC9JbXBvcnQxFTATBgNVBAMTDEFydCBWYW5kZWxheTCCASIwDQYJ\nKoZIhvcNAQEBBQADggEPADCCAQoCggEBAIwVIy24Hws6ffaEQGhYEyaw2JC4UPLH\nwtSXpJaZf3lrdtbktbLC+zKJ93fFVfoukX5vpnZKxv+f724duAszkVWN3bBrnAwb\n6sh445tXiRhT2eS+z0rHtXwiPWUKOAPOxGUP1Lhfl5ZCPR4bmohyh/daSX1ppT3P\nk6//lf1y2RdsS5hZ5Ltx9dr99/txsv4a1D8uuPDHIf8dvWfOqGb7ywIAlrbh5JsA\n4IWjMVFMpDQ2WM/C+v48y2W7AdgxGD0J/nNC6t4QfAgwhvVyXbiu9IbAR+ivn59E\nVqC83qv4bBkffB3yYk6WSHSl7YloJueWalVAoudf4uHeaNZBLCvbNsMCAwEAAaMh\nMB8wHQYDVR0OBBYEFNOc6gJkUFCSgyHCDFGJmZwtPLgIMA0GCSqGSIb3DQEBCwUA\nA4IBAQAVyc6j9U+va5U02MxsjDE6LWDPg+0FaqpTAQlU6xhVrZlKWuX+Dup4PF6S\ns4oqhInb7XcGOjbLkVTnuEY5mwfHnyGqNhmyyUwJOVrWZJWBZADvhdcZi0w/jclg\njAb7dP1VssR4Ozgsd1XkGxnS7P8e344xpjQd1krPc1Od7qhFSF6FufTDvgEcrmx/\nqrHpLpwoYPTyuv+NtD+7KlWINqWq5PT1olydd6ki8O+bTsgDuy8rnvqd/jJ7dsuv\nVLNc+IDEEMO26hS8d1WkppTTuLrayE07LCV8df68WHv6KumDSc5Mb0zOUdLqZUDQ\nWmxbt0kEAAG6jgbpACBpGEqtAtTs\n-----END CERTIFICATE-----\n</code></pre>\n\n<p>and the following Java snippet can also parse it.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.FileInputStream;\nimport java.security.KeyStore;\nimport java.util.Collections;\n\npublic class Main {\n    public static void main(String[] args) throws Exception {\n        KeyStore pkcs12 = KeyStore.getInstance(\"PKCS12\");\n        pkcs12.load(new FileInputStream(\"../../../server.private\"), \"apassword\".toCharArray());\n        for (String alias : Collections.list(pkcs12.aliases())) {\n            System.out.println(alias);\n        }\n    }\n}\n</code></pre>\n\n<p>and the output is</p>\n\n<blockquote>\n  <p>serverprivate</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":18949227,"reputation":499,"user_id":13827340,"display_name":"Spsnamta"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641303827,"creation_date":1641303827,"answer_id":70579738,"question_id":47638950,"body_markdown":"The above problem is solved follow this link for the steps \r\n\r\nhttps://docs.flutter.dev/deployment/android#create-an-upload-keystore\r\n\r\nit contains the updated steps...\r\n\r\nAfter running the \r\n  \r\n    keytool -genkey -v -keystore c:\\Users\\USER_NAME\\upload-keystore.jks -storetype JKS -keyalg RSA -keysize 2048 -validity 10000 -alias upload\r\n\r\nI get this command as a part of warning message.\r\n\r\n    keytool -importkeystore -srckeystore c:\\Users\\USER_NAME\\upload-keystore.jks -destkeystore c:\\Users\\USER_NAME\\upload-keystore.jks -deststoretype pkcs12\r\n\r\nand this is the following output after running the above command.\r\n\r\n    Enter source keystore password:\r\n    Entry for alias upload successfully imported.\r\n    Import command completed:  1 entries successfully imported, 0 entries failed or cancelled\r\n    \r\n    Warning:\r\n    Migrated &quot;c:\\Users\\USER_NAME\\upload-keystore.jks&quot; to PKCS12. The JKS keystore is backed up as &quot;c:\\Users\\USER_NAME\\upload-keystore.jks.old&quot;.\r\n\r\n","title":"Can&#39;t change the keystore format","body":"<p>The above problem is solved follow this link for the steps</p>\n<p><a href=\"https://docs.flutter.dev/deployment/android#create-an-upload-keystore\" rel=\"nofollow noreferrer\">https://docs.flutter.dev/deployment/android#create-an-upload-keystore</a></p>\n<p>it contains the updated steps...</p>\n<p>After running the</p>\n<pre><code>keytool -genkey -v -keystore c:\\Users\\USER_NAME\\upload-keystore.jks -storetype JKS -keyalg RSA -keysize 2048 -validity 10000 -alias upload\n</code></pre>\n<p>I get this command as a part of warning message.</p>\n<pre><code>keytool -importkeystore -srckeystore c:\\Users\\USER_NAME\\upload-keystore.jks -destkeystore c:\\Users\\USER_NAME\\upload-keystore.jks -deststoretype pkcs12\n</code></pre>\n<p>and this is the following output after running the above command.</p>\n<pre><code>Enter source keystore password:\nEntry for alias upload successfully imported.\nImport command completed:  1 entries successfully imported, 0 entries failed or cancelled\n\nWarning:\nMigrated &quot;c:\\Users\\USER_NAME\\upload-keystore.jks&quot; to PKCS12. The JKS keystore is backed up as &quot;c:\\Users\\USER_NAME\\upload-keystore.jks.old&quot;.\n</code></pre>\n"}],"owner":{"account_id":7683842,"reputation":738,"user_id":5822306,"accept_rate":33,"display_name":"Conner Dassen"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45131,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"answer_count":2,"score":16,"last_activity_date":1641303827,"creation_date":1512409050,"question_id":47638950,"body_markdown":"I&#39;m trying to make some keystores using `keytool` from the latest JRE (version 1.8.0_151). When I create the keystore using this command `keytool -genkey -alias serverprivate -keystore server.private -keyalg rsa -storepass apassword -keypass apassword` it shows me this warning:\r\n\r\n    Warning:\r\n    The JKS keystore uses a proprietary format. It is recommended to migrate \r\n    to  PKCS12 which is an industry standard format using &quot;keytool \r\n    -importkeystore -srckeystore server.private -destkeystore server.private\r\n    -deststoretype pkcs12&quot;.\r\n\r\nSo I type the command, and it says it&#39;s done and the old keystore was saved in server.private_old. But when I run `keytool -list -keystore server.private` and type the password, it is still listed as JKS instead of PKCS12. Why is this?\r\n\r\n**update**                                                     \r\nIt&#39;s not silently changed to pkcs12 either, because when I use `KeyStore store = KeyStore.getInstance(&quot;pkcs12&quot;);` in java it throws an error, while it works fine when using `getInstance(&quot;JKS&quot;);`\r\n\r\n**update 2**             \r\nAnd when using `keytool -genkey -alias serverprivate -keystore server.private -storetype PKCS12 -keyalg rsa` it doesn&#39;t show me a warning, but still shows as a JKS keystore when using `keytool -list server.private`.","title":"Can&#39;t change the keystore format","body":"<p>I'm trying to make some keystores using <code>keytool</code> from the latest JRE (version 1.8.0_151). When I create the keystore using this command <code>keytool -genkey -alias serverprivate -keystore server.private -keyalg rsa -storepass apassword -keypass apassword</code> it shows me this warning:</p>\n\n<pre><code>Warning:\nThe JKS keystore uses a proprietary format. It is recommended to migrate \nto  PKCS12 which is an industry standard format using \"keytool \n-importkeystore -srckeystore server.private -destkeystore server.private\n-deststoretype pkcs12\".\n</code></pre>\n\n<p>So I type the command, and it says it's done and the old keystore was saved in server.private_old. But when I run <code>keytool -list -keystore server.private</code> and type the password, it is still listed as JKS instead of PKCS12. Why is this?</p>\n\n<p><strong>update</strong><br>\nIt's not silently changed to pkcs12 either, because when I use <code>KeyStore store = KeyStore.getInstance(\"pkcs12\");</code> in java it throws an error, while it works fine when using <code>getInstance(\"JKS\");</code></p>\n\n<p><strong>update 2</strong><br>\nAnd when using <code>keytool -genkey -alias serverprivate -keystore server.private -storetype PKCS12 -keyalg rsa</code> it doesn't show me a warning, but still shows as a JKS keystore when using <code>keytool -list server.private</code>.</p>\n"},{"tags":["java","android","sqlite","android-sqlite"],"comments":[{"owner":{"account_id":8870807,"reputation":117,"user_id":6624578,"display_name":"harish Padmanabh"},"score":0,"creation_date":1541838564,"post_id":53237255,"comment_id":93360603,"body_markdown":"all meetings are getting deleted","body":"all meetings are getting deleted"},{"owner":{"account_id":2716719,"reputation":2503,"user_id":2343935,"display_name":"grooveplex"},"score":0,"creation_date":1541838626,"post_id":53237255,"comment_id":93360614,"body_markdown":"Please update your answer by [edit]ing it, instead of using comments.","body":"Please update your answer by <a href=\"https://stackoverflow.com/posts/53237255/edit\">edit</a>ing it, instead of using comments."},{"owner":{"account_id":2716719,"reputation":2503,"user_id":2343935,"display_name":"grooveplex"},"score":0,"creation_date":1541838830,"post_id":53237255,"comment_id":93360643,"body_markdown":"Also, your code can be SQL injected.","body":"Also, your code can be SQL injected."}],"answers":[{"tags":[],"owner":{"account_id":14535244,"reputation":161554,"user_id":10498828,"display_name":"forpas"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1541847481,"creation_date":1541846341,"answer_id":53238107,"question_id":53237255,"body_markdown":"First I must say that it is wrong to store dates in `SQLite` in format `&quot;dd/MM/yyyy&quot;` because this is not a comparable format so it cannot be easily used to make selections when you want to get rows between dates. Also date functions of `SQLite` would not recognize this format so you would have each time to convert it.  &lt;br/&gt;\r\nBetter use this format: `&quot;yyyy-MM-dd&quot;`. &lt;br/&gt;  &lt;br/&gt;\r\nUse this code:\r\n\r\n    Calendar calendar = Calendar.getInstance();\r\n    \r\n    Date c = calendar.getTime();\r\n    SimpleDateFormat df = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;);\r\n    \r\n    String current_Date = df.format(c);\r\n    \r\n    calendar.add(Calendar.DAY_OF_YEAR, 1);\r\n    c = calendar.getTime();\r\n    String tomorrow_Date = df.format(c);\r\n    \r\n    db.execSQL(&quot;DELETE FROM SchedledMeetings WHERE (Meeting_Date=&#39;&quot; + current_Date + &quot;&#39;) OR (Meeting_Date=&#39;&quot; + tomorrow_Date + &quot;&#39;)&quot;);\r\n    db.close();\r\n\r\nNotice that your `DELETE` statement should look like this:\r\n\r\n    db.execSQL(&quot;DELETE FROM SchedledMeetings WHERE (Meeting_Date=&#39;&quot; + current_Date + &quot;&#39;) OR (Meeting_Date=&#39;&quot; + tomorrow_Date + &quot;&#39;)&quot;);\r\n\r\nthis way you pass the values of `current_Date` and `tomorrow_Date` and not the strings `&quot;current_Date&quot;` and `&quot;tomorrow_Date&quot;`.  &lt;br/&gt;\r\nThis will delete all rows containing current date and tomorrow&#39;s date.","title":"How to get tomorrow date as a string and date format in android for using in sqlite query?","body":"<p>First I must say that it is wrong to store dates in <code>SQLite</code> in format <code>\"dd/MM/yyyy\"</code> because this is not a comparable format so it cannot be easily used to make selections when you want to get rows between dates. Also date functions of <code>SQLite</code> would not recognize this format so you would have each time to convert it.  <br/>\nBetter use this format: <code>\"yyyy-MM-dd\"</code>. <br/>  <br/>\nUse this code:</p>\n\n<pre><code>Calendar calendar = Calendar.getInstance();\n\nDate c = calendar.getTime();\nSimpleDateFormat df = new SimpleDateFormat(\"dd/MM/yyyy\");\n\nString current_Date = df.format(c);\n\ncalendar.add(Calendar.DAY_OF_YEAR, 1);\nc = calendar.getTime();\nString tomorrow_Date = df.format(c);\n\ndb.execSQL(\"DELETE FROM SchedledMeetings WHERE (Meeting_Date='\" + current_Date + \"') OR (Meeting_Date='\" + tomorrow_Date + \"')\");\ndb.close();\n</code></pre>\n\n<p>Notice that your <code>DELETE</code> statement should look like this:</p>\n\n<pre><code>db.execSQL(\"DELETE FROM SchedledMeetings WHERE (Meeting_Date='\" + current_Date + \"') OR (Meeting_Date='\" + tomorrow_Date + \"')\");\n</code></pre>\n\n<p>this way you pass the values of <code>current_Date</code> and <code>tomorrow_Date</code> and not the strings <code>\"current_Date\"</code> and <code>\"tomorrow_Date\"</code>.  <br/>\nThis will delete all rows containing current date and tomorrow's date.</p>\n"}],"owner":{"account_id":8870807,"reputation":117,"user_id":6624578,"display_name":"harish Padmanabh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2433,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1641303721,"creation_date":1541838311,"question_id":53237255,"body_markdown":"I am trying to delete some records in s table where date is today&#39;s date and tomorrow&#39;s date\r\n \r\n    public void deleteAll()\r\n    {\r\n        // SQLiteDatabase db = this.getWritableDatabase();\r\n        // db.delete(TABLE_NAME,null,null);\r\n        SQLiteDatabase db = this.getWritableDatabase();\r\n\r\n        // db.execSQL(&quot;delete  from &quot;+ TABLE_NAME);\r\n        // db.execSQL(&quot;TRUNCATE table&quot; + TABLE_NAME);\r\n        Date c = Calendar.getInstance().getTime(); System.out.println(&quot;Current time =&gt; &quot; + c);\r\n        SimpleDateFormat df = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;);\r\n        String current_Date = df.format(c);\r\n\r\n        Log.e(&quot;Current_Date=&quot;, current_Date);\r\n\r\n        db.execSQL(&quot;DELETE FROM SchedledMeetings WHERE Meeting_Date = &#39;&#39;&#39;+current_Date+&#39;&#39;&#39; &quot;);\r\n        db.close();\r\n    }\r\n\r\nbut would like to get these as a string and date format using a Sqlite query.\r\n","title":"How to get tomorrow date as a string and date format in android for using in sqlite query?","body":"<p>I am trying to delete some records in s table where date is today's date and tomorrow's date</p>\n\n<pre><code>public void deleteAll()\n{\n    // SQLiteDatabase db = this.getWritableDatabase();\n    // db.delete(TABLE_NAME,null,null);\n    SQLiteDatabase db = this.getWritableDatabase();\n\n    // db.execSQL(\"delete  from \"+ TABLE_NAME);\n    // db.execSQL(\"TRUNCATE table\" + TABLE_NAME);\n    Date c = Calendar.getInstance().getTime(); System.out.println(\"Current time =&gt; \" + c);\n    SimpleDateFormat df = new SimpleDateFormat(\"dd/MM/yyyy\");\n    String current_Date = df.format(c);\n\n    Log.e(\"Current_Date=\", current_Date);\n\n    db.execSQL(\"DELETE FROM SchedledMeetings WHERE Meeting_Date = '''+current_Date+''' \");\n    db.close();\n}\n</code></pre>\n\n<p>but would like to get these as a string and date format using a Sqlite query.</p>\n"},{"tags":["java","android","arraylist"],"answers":[{"tags":[],"owner":{"account_id":5119929,"reputation":4274,"user_id":4103854,"display_name":"Logain"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1462128938,"creation_date":1462128938,"answer_id":36970645,"question_id":36970582,"body_markdown":"On this part:\r\n\r\n    for(int i =0;i&lt;allPPLlat.size();i++){\r\n               double Dist= Distance((double)allPPLlat.get(i),(double)allPPLlong.get(i),latitude,longitude);\r\n                Dist=Dist/1000;\r\n                if(Dist&lt;20){\r\n                    Donors.add(new DonorPerson(&quot;&quot;+allPPLNames.get(i)+&quot;&quot;, &quot;&quot;+allPPLEmails.get(i)+&quot;&quot; ,&quot;&quot;+allPPLNumbers.get(i)+&quot;&quot; ,&quot;&quot;+allPPLImages.get(i)+&quot;&quot;));\r\n                }\r\n            }\r\n\r\nYou are doing a `get` for the position `0` of an empty array, which does not exist and throws the error you are seeing. The stack trace is actually pointing you to the exact location.","title":"Java IndexOutOfBound exception Using arraylist in Android","body":"<p>On this part:</p>\n\n<pre><code>for(int i =0;i&lt;allPPLlat.size();i++){\n           double Dist= Distance((double)allPPLlat.get(i),(double)allPPLlong.get(i),latitude,longitude);\n            Dist=Dist/1000;\n            if(Dist&lt;20){\n                Donors.add(new DonorPerson(\"\"+allPPLNames.get(i)+\"\", \"\"+allPPLEmails.get(i)+\"\" ,\"\"+allPPLNumbers.get(i)+\"\" ,\"\"+allPPLImages.get(i)+\"\"));\n            }\n        }\n</code></pre>\n\n<p>You are doing a <code>get</code> for the position <code>0</code> of an empty array, which does not exist and throws the error you are seeing. The stack trace is actually pointing you to the exact location.</p>\n"}],"owner":{"account_id":6091671,"reputation":71,"user_id":4753742,"accept_rate":25,"display_name":"Yousaf Iqbal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"closed_date":1641303577,"accepted_answer_id":36970645,"answer_count":1,"score":-2,"last_activity_date":1641303566,"creation_date":1462128587,"question_id":36970582,"body_markdown":"I am new to android development. I am using a Userdefined Arraylist called Donors in this code but it gives me error. I saw the same error posted here many time but still i am not able to find my solution. Please Help. Thanks\r\n\r\n    05-01 23:45:10.855 1756-3399/com.donateblood.blooddonation E/AndroidRuntime: FATAL EXCEPTION: AsyncTask #2\r\n                                                                                 Process: com.donateblood.blooddonation, PID: 1756\r\n                                                                                 java.lang.RuntimeException: An error occured while executing doInBackground()\r\n                                                                                     at android.os.AsyncTask$3.done(AsyncTask.java:300)\r\n                                                                                     at java.util.concurrent.FutureTask.finishCompletion(FutureTask.java:355)\r\n                                                                                     at java.util.concurrent.FutureTask.setException(FutureTask.java:222)\r\n                                                                                     at java.util.concurrent.FutureTask.run(FutureTask.java:242)\r\n                                                                                     at android.os.AsyncTask$SerialExecutor$1.run(AsyncTask.java:231)\r\n                                                                                     at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1112)\r\n                                                                                     at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:587)\r\n                                                                                     at java.lang.Thread.run(Thread.java:818)\r\n                                                                                  Caused by: java.lang.IndexOutOfBoundsException: Invalid index 0, size is 0\r\n                                                                                     at java.util.ArrayList.throwIndexOutOfBoundsException(ArrayList.java:255)\r\n                                                                                     at java.util.ArrayList.get(ArrayList.java:308)\r\n                                                                                     at com.donateblood.blooddonation.MainGUI.getOtherLatLong(MainGUI.java:136)\r\n                                                                                     at com.donateblood.blooddonation.MainGUI$dbAsync.doInBackground(MainGUI.java:89)\r\n                                                                                     at com.donateblood.blooddonation.MainGUI$dbAsync.doInBackground(MainGUI.java:84)\r\n                                                                                     at android.os.AsyncTask$2.call(AsyncTask.java:288)\r\n                                                                                     at java.util.concurrent.FutureTask.run(FutureTask.java:237)\r\n                                                                                     at android.os.AsyncTask$SerialExecutor$1.run(AsyncTask.java:231)&#160;\r\n                                                                                     at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1112)&#160;\r\n                                                                                     at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:587)&#160;\r\n                                                                                     at java.lang.Thread.run(Thread.java:818)&#160;\r\n    05-01 23:45:11.525 1756-1756/com.donateblood.blooddonation E/WindowManager: android.view.WindowLeaked: Activity com.donateblood.blooddonation.MainGUI has leaked window com.android.internal.policy.impl.PhoneWindow$DecorView{28ea9195 V.E..... R......D 0,0-1026,348} that was originally added here\r\n                                                                                    at android.view.ViewRootImpl.&lt;init&gt;(ViewRootImpl.java:382)\r\n                                                                                    at android.view.WindowManagerGlobal.addView(WindowManagerGlobal.java:261)\r\n                                                                                    at android.view.WindowManagerImpl.addView(WindowManagerImpl.java:69)\r\n                                                                                    at android.app.Dialog.show(Dialog.java:298)\r\n                                                                                    at com.donateblood.blooddonation.MainGUI$dbAsync.onPreExecute(MainGUI.java:100)\r\n                                                                                    at android.os.AsyncTask.executeOnExecutor(AsyncTask.java:587)\r\n                                                                                    at android.os.AsyncTask.execute(AsyncTask.java:535)\r\n                                                                                    at com.donateblood.blooddonation.MainGUI$1.onClick(MainGUI.java:63)\r\n                                                                                    at android.view.View.performClick(View.java:4785)\r\n                                                                                    at android.view.View$PerformClick.run(View.java:19858)\r\n                                                                                    at android.os.Handler.handleCallback(Handler.java:739)\r\n                                                                                    at android.os.Handler.dispatchMessage(Handler.java:95)\r\n                                                                                    at android.os.Looper.loop(Looper.java:155)\r\n                                                                                    at android.app.ActivityThread.main(ActivityThread.java:5696)\r\n                                                                                    at java.lang.reflect.Method.invoke(Native Method)\r\n                                                                                    at java.lang.reflect.Method.invoke(Method.java:372)\r\n                                                                                    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1028)\r\n                                                                                    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:823)\r\n    05-01 23:45:47.083 1756-3399/com.donateblood.blooddonation D/Process: killProcess, pid=1756\r\n    05-01 23:45:47.083 1756-3399/com.donateblood.blooddonation D/Process: com.android.internal.os.RuntimeInit$UncaughtHandler.uncaughtException:138 java.lang.ThreadGroup.uncaughtException:693 java.lang.ThreadGroup.uncaughtException:690 \r\n\r\n&lt;!--  --&gt;\r\n\r\n    package com.donateblood.blooddonation;\r\n    import android.app.ProgressDialog;\r\n    import android.content.Intent;\r\n    import android.os.AsyncTask;\r\n    import android.os.Bundle;\r\n    import android.support.v7.app.AppCompatActivity;\r\n    import android.view.MenuItem;\r\n    import android.view.View;\r\n    import android.widget.ArrayAdapter;\r\n    import android.widget.Button;\r\n    import android.widget.EditText;\r\n    import android.widget.Spinner;\r\n    import android.widget.Toast;\r\n\r\n    import com.mongodb.DB;\r\n    import com.mongodb.DBCollection;\r\n    import com.mongodb.DBCursor;\r\n    import com.mongodb.DBObject;\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n\r\n    import butterknife.ButterKnife;\r\n    import butterknife.InjectView;\r\n\r\n    /**\r\n     * Created by YouCaf Iqbal on 4/6/2016.\r\n     */\r\n    public class MainGUI extends AppCompatActivity {\r\n        public static List&lt;DonorPerson&gt; Donors = new ArrayList&lt;DonorPerson&gt;();\r\n        @InjectView(R.id.findppl) Button _findButton;\r\n        GPSTracker gps;\r\n        private double latitude;\r\n        private double longitude;\r\n        DB db; String test=&quot;&quot;;\r\n        DBCursor cursor;\r\n        DBCollection collection;\r\n        Database dataobj = new Database();\r\n        ArrayList allPPLlat = new ArrayList();\r\n        ArrayList allPPLlong = new ArrayList();\r\n        ArrayList allPPLNumbers = new ArrayList();\r\n        ArrayList allPPLNames = new ArrayList();\r\n        ArrayList allPPLImages = new ArrayList();\r\n        ArrayList allPPLEmails = new ArrayList();\r\n        ArrayList SelectedPPLlat = new ArrayList();\r\n        ArrayList SelectedPPLlong = new ArrayList();\r\n        public Spinner mySpinner;\r\n        @Override\r\n        public void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.maingui);\r\n            ButterKnife.inject(this);\r\n            getSupportActionBar().setDisplayHomeAsUpEnabled(true);\r\n            Spinner spinner =(Spinner) findViewById(R.id.spinner);\r\n            String[] list = getResources().getStringArray(R.array.blood_type);\r\n            ArrayAdapter&lt;String&gt; adapter = new ArrayAdapter&lt;String&gt;(this,R.layout.spinner_layout,R.id.txt,list);\r\n            spinner.setAdapter(adapter);\r\n            _findButton.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    getCurrentLatLong();\r\n                    dbAsync thrd = new dbAsync();\r\n                    thrd.execute();\r\n                }\r\n                //distance=Distance(lablat, lablong, curlat, curlong);\r\n            });\r\n        }\r\n        public void getCurrentLatLong(){\r\n            gps = new GPSTracker(MainGUI.this);\r\n            if (gps.canGetLocation()) {\r\n                latitude = gps.getLatitude();\r\n                longitude = gps.getLongitude();\r\n            }\r\n        }\r\n        @Override\r\n        public boolean onOptionsItemSelected(MenuItem item) {\r\n            if(item.getItemId()==android.R.id.home){\r\n                finish();\r\n            }\r\n            return super.onOptionsItemSelected(item);\r\n        }\r\n\r\n\r\n        public class dbAsync extends AsyncTask&lt;Void,Void,Void&gt;{\r\n            private ProgressDialog pDialog;\r\n\r\n            @Override\r\n            protected Void doInBackground(Void... voids) {\r\n                getOtherLatLong();\r\n                return null;\r\n            }\r\n\r\n            @Override\r\n            protected void onPreExecute() {\r\n                super.onPreExecute();\r\n                pDialog = new ProgressDialog(MainGUI.this);\r\n                pDialog.setMessage(&quot;Searching people nearby...&quot;);\r\n                pDialog.setIndeterminate(false);\r\n                pDialog.setCancelable(true);\r\n                pDialog.show();\r\n            }\r\n\r\n            @Override\r\n            protected void onPostExecute(Void aVoid) {\r\n\r\n                super.onPostExecute(aVoid);\r\n                pDialog.dismiss();\r\n                Intent intent = new Intent(getApplicationContext(), PeopleList.class);\r\n                startActivity(intent);\r\n               // Toast.makeText(getBaseContext(), &quot;Near by latitudes &quot;+SelectedPPLlat, Toast.LENGTH_LONG).show();\r\n               // Toast.makeText(getBaseContext(), &quot;Near by longitudes &quot;+SelectedPPLlong, Toast.LENGTH_LONG).show();\r\n            }\r\n        }\r\n\r\n        public void getOtherLatLong() {\r\n            db = dataobj.getconnection();\r\n            collection = db.getCollection(&quot;UserDetails&quot;);\r\n            cursor = collection.find();\r\n            while (cursor.hasNext()) {\r\n                DBObject doc = cursor.next();\r\n                // Lats longs used in the next for Loop for calculation distances\r\n                allPPLlat.add(doc.get(&quot;lat&quot;));\r\n                allPPLlong.add(doc.get(&quot;long&quot;));\r\n                // All these other arraylists are used to store object of a donor person\r\n                allPPLEmails.add(doc.get(&quot;number&quot;).toString());\r\n                allPPLNames.add(doc.get(&quot;Name&quot;).toString());\r\n                allPPLImages.add(doc.get(&quot;image&quot;).toString());\r\n                allPPLEmails.add(doc.get(&quot;email&quot;).toString());\r\n\r\n            }\r\n\r\n            for(int i =0;i&lt;allPPLlat.size();i++){\r\n               double Dist= Distance((double)allPPLlat.get(i),(double)allPPLlong.get(i),latitude,longitude);\r\n                Dist=Dist/1000;\r\n                if(Dist&lt;20){\r\n                    Donors.add(new DonorPerson(&quot;&quot;+allPPLNames.get(i)+&quot;&quot;, &quot;&quot;+allPPLEmails.get(i)+&quot;&quot; ,&quot;&quot;+allPPLNumbers.get(i)+&quot;&quot; ,&quot;&quot;+allPPLImages.get(i)+&quot;&quot;));\r\n                }\r\n            }\r\n        }\r\n\r\n        public double Distance(double lat1, double lon1, double lat2, double lon2) {\r\n            double R = 6371.0; // km\r\n            double dLat = (lat2 - lat1) * Math.PI / 180.0;\r\n            double dLon = (lon2 - lon1) * Math.PI / 180.0;\r\n            lat1 = lat1 * Math.PI / 180.0;\r\n            lat2 = lat2 * Math.PI / 180.0;\r\n\r\n            double a = Math.sin(dLat / 2.0) * Math.sin(dLat / 2.0) +\r\n                    Math.sin(dLon / 2.0) * Math.sin(dLon / 2.0) * Math.cos(lat1) * Math.cos(lat2);\r\n            double c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\r\n            double d = R * c;\r\n            return d * 1000; // return distance in m\r\n        }\r\n    }\r\n\r\n\r\n","title":"Java IndexOutOfBound exception Using arraylist in Android","body":"<p>I am new to android development. I am using a Userdefined Arraylist called Donors in this code but it gives me error. I saw the same error posted here many time but still i am not able to find my solution. Please Help. Thanks</p>\n<pre><code>05-01 23:45:10.855 1756-3399/com.donateblood.blooddonation E/AndroidRuntime: FATAL EXCEPTION: AsyncTask #2\n                                                                             Process: com.donateblood.blooddonation, PID: 1756\n                                                                             java.lang.RuntimeException: An error occured while executing doInBackground()\n                                                                                 at android.os.AsyncTask$3.done(AsyncTask.java:300)\n                                                                                 at java.util.concurrent.FutureTask.finishCompletion(FutureTask.java:355)\n                                                                                 at java.util.concurrent.FutureTask.setException(FutureTask.java:222)\n                                                                                 at java.util.concurrent.FutureTask.run(FutureTask.java:242)\n                                                                                 at android.os.AsyncTask$SerialExecutor$1.run(AsyncTask.java:231)\n                                                                                 at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1112)\n                                                                                 at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:587)\n                                                                                 at java.lang.Thread.run(Thread.java:818)\n                                                                              Caused by: java.lang.IndexOutOfBoundsException: Invalid index 0, size is 0\n                                                                                 at java.util.ArrayList.throwIndexOutOfBoundsException(ArrayList.java:255)\n                                                                                 at java.util.ArrayList.get(ArrayList.java:308)\n                                                                                 at com.donateblood.blooddonation.MainGUI.getOtherLatLong(MainGUI.java:136)\n                                                                                 at com.donateblood.blooddonation.MainGUI$dbAsync.doInBackground(MainGUI.java:89)\n                                                                                 at com.donateblood.blooddonation.MainGUI$dbAsync.doInBackground(MainGUI.java:84)\n                                                                                 at android.os.AsyncTask$2.call(AsyncTask.java:288)\n                                                                                 at java.util.concurrent.FutureTask.run(FutureTask.java:237)\n                                                                                 at android.os.AsyncTask$SerialExecutor$1.run(AsyncTask.java:231) \n                                                                                 at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1112) \n                                                                                 at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:587) \n                                                                                 at java.lang.Thread.run(Thread.java:818) \n05-01 23:45:11.525 1756-1756/com.donateblood.blooddonation E/WindowManager: android.view.WindowLeaked: Activity com.donateblood.blooddonation.MainGUI has leaked window com.android.internal.policy.impl.PhoneWindow$DecorView{28ea9195 V.E..... R......D 0,0-1026,348} that was originally added here\n                                                                                at android.view.ViewRootImpl.&lt;init&gt;(ViewRootImpl.java:382)\n                                                                                at android.view.WindowManagerGlobal.addView(WindowManagerGlobal.java:261)\n                                                                                at android.view.WindowManagerImpl.addView(WindowManagerImpl.java:69)\n                                                                                at android.app.Dialog.show(Dialog.java:298)\n                                                                                at com.donateblood.blooddonation.MainGUI$dbAsync.onPreExecute(MainGUI.java:100)\n                                                                                at android.os.AsyncTask.executeOnExecutor(AsyncTask.java:587)\n                                                                                at android.os.AsyncTask.execute(AsyncTask.java:535)\n                                                                                at com.donateblood.blooddonation.MainGUI$1.onClick(MainGUI.java:63)\n                                                                                at android.view.View.performClick(View.java:4785)\n                                                                                at android.view.View$PerformClick.run(View.java:19858)\n                                                                                at android.os.Handler.handleCallback(Handler.java:739)\n                                                                                at android.os.Handler.dispatchMessage(Handler.java:95)\n                                                                                at android.os.Looper.loop(Looper.java:155)\n                                                                                at android.app.ActivityThread.main(ActivityThread.java:5696)\n                                                                                at java.lang.reflect.Method.invoke(Native Method)\n                                                                                at java.lang.reflect.Method.invoke(Method.java:372)\n                                                                                at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1028)\n                                                                                at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:823)\n05-01 23:45:47.083 1756-3399/com.donateblood.blooddonation D/Process: killProcess, pid=1756\n05-01 23:45:47.083 1756-3399/com.donateblood.blooddonation D/Process: com.android.internal.os.RuntimeInit$UncaughtHandler.uncaughtException:138 java.lang.ThreadGroup.uncaughtException:693 java.lang.ThreadGroup.uncaughtException:690 \n</code></pre>\n\n<pre><code>package com.donateblood.blooddonation;\nimport android.app.ProgressDialog;\nimport android.content.Intent;\nimport android.os.AsyncTask;\nimport android.os.Bundle;\nimport android.support.v7.app.AppCompatActivity;\nimport android.view.MenuItem;\nimport android.view.View;\nimport android.widget.ArrayAdapter;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.Spinner;\nimport android.widget.Toast;\n\nimport com.mongodb.DB;\nimport com.mongodb.DBCollection;\nimport com.mongodb.DBCursor;\nimport com.mongodb.DBObject;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport butterknife.ButterKnife;\nimport butterknife.InjectView;\n\n/**\n * Created by YouCaf Iqbal on 4/6/2016.\n */\npublic class MainGUI extends AppCompatActivity {\n    public static List&lt;DonorPerson&gt; Donors = new ArrayList&lt;DonorPerson&gt;();\n    @InjectView(R.id.findppl) Button _findButton;\n    GPSTracker gps;\n    private double latitude;\n    private double longitude;\n    DB db; String test=&quot;&quot;;\n    DBCursor cursor;\n    DBCollection collection;\n    Database dataobj = new Database();\n    ArrayList allPPLlat = new ArrayList();\n    ArrayList allPPLlong = new ArrayList();\n    ArrayList allPPLNumbers = new ArrayList();\n    ArrayList allPPLNames = new ArrayList();\n    ArrayList allPPLImages = new ArrayList();\n    ArrayList allPPLEmails = new ArrayList();\n    ArrayList SelectedPPLlat = new ArrayList();\n    ArrayList SelectedPPLlong = new ArrayList();\n    public Spinner mySpinner;\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.maingui);\n        ButterKnife.inject(this);\n        getSupportActionBar().setDisplayHomeAsUpEnabled(true);\n        Spinner spinner =(Spinner) findViewById(R.id.spinner);\n        String[] list = getResources().getStringArray(R.array.blood_type);\n        ArrayAdapter&lt;String&gt; adapter = new ArrayAdapter&lt;String&gt;(this,R.layout.spinner_layout,R.id.txt,list);\n        spinner.setAdapter(adapter);\n        _findButton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                getCurrentLatLong();\n                dbAsync thrd = new dbAsync();\n                thrd.execute();\n            }\n            //distance=Distance(lablat, lablong, curlat, curlong);\n        });\n    }\n    public void getCurrentLatLong(){\n        gps = new GPSTracker(MainGUI.this);\n        if (gps.canGetLocation()) {\n            latitude = gps.getLatitude();\n            longitude = gps.getLongitude();\n        }\n    }\n    @Override\n    public boolean onOptionsItemSelected(MenuItem item) {\n        if(item.getItemId()==android.R.id.home){\n            finish();\n        }\n        return super.onOptionsItemSelected(item);\n    }\n\n\n    public class dbAsync extends AsyncTask&lt;Void,Void,Void&gt;{\n        private ProgressDialog pDialog;\n\n        @Override\n        protected Void doInBackground(Void... voids) {\n            getOtherLatLong();\n            return null;\n        }\n\n        @Override\n        protected void onPreExecute() {\n            super.onPreExecute();\n            pDialog = new ProgressDialog(MainGUI.this);\n            pDialog.setMessage(&quot;Searching people nearby...&quot;);\n            pDialog.setIndeterminate(false);\n            pDialog.setCancelable(true);\n            pDialog.show();\n        }\n\n        @Override\n        protected void onPostExecute(Void aVoid) {\n\n            super.onPostExecute(aVoid);\n            pDialog.dismiss();\n            Intent intent = new Intent(getApplicationContext(), PeopleList.class);\n            startActivity(intent);\n           // Toast.makeText(getBaseContext(), &quot;Near by latitudes &quot;+SelectedPPLlat, Toast.LENGTH_LONG).show();\n           // Toast.makeText(getBaseContext(), &quot;Near by longitudes &quot;+SelectedPPLlong, Toast.LENGTH_LONG).show();\n        }\n    }\n\n    public void getOtherLatLong() {\n        db = dataobj.getconnection();\n        collection = db.getCollection(&quot;UserDetails&quot;);\n        cursor = collection.find();\n        while (cursor.hasNext()) {\n            DBObject doc = cursor.next();\n            // Lats longs used in the next for Loop for calculation distances\n            allPPLlat.add(doc.get(&quot;lat&quot;));\n            allPPLlong.add(doc.get(&quot;long&quot;));\n            // All these other arraylists are used to store object of a donor person\n            allPPLEmails.add(doc.get(&quot;number&quot;).toString());\n            allPPLNames.add(doc.get(&quot;Name&quot;).toString());\n            allPPLImages.add(doc.get(&quot;image&quot;).toString());\n            allPPLEmails.add(doc.get(&quot;email&quot;).toString());\n\n        }\n\n        for(int i =0;i&lt;allPPLlat.size();i++){\n           double Dist= Distance((double)allPPLlat.get(i),(double)allPPLlong.get(i),latitude,longitude);\n            Dist=Dist/1000;\n            if(Dist&lt;20){\n                Donors.add(new DonorPerson(&quot;&quot;+allPPLNames.get(i)+&quot;&quot;, &quot;&quot;+allPPLEmails.get(i)+&quot;&quot; ,&quot;&quot;+allPPLNumbers.get(i)+&quot;&quot; ,&quot;&quot;+allPPLImages.get(i)+&quot;&quot;));\n            }\n        }\n    }\n\n    public double Distance(double lat1, double lon1, double lat2, double lon2) {\n        double R = 6371.0; // km\n        double dLat = (lat2 - lat1) * Math.PI / 180.0;\n        double dLon = (lon2 - lon1) * Math.PI / 180.0;\n        lat1 = lat1 * Math.PI / 180.0;\n        lat2 = lat2 * Math.PI / 180.0;\n\n        double a = Math.sin(dLat / 2.0) * Math.sin(dLat / 2.0) +\n                Math.sin(dLon / 2.0) * Math.sin(dLon / 2.0) * Math.cos(lat1) * Math.cos(lat2);\n        double c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\n        double d = R * c;\n        return d * 1000; // return distance in m\n    }\n}\n</code></pre>\n"},{"tags":["java","android-studio","webview","swiperefreshlayout","pull-to-refresh"],"answers":[{"tags":[],"owner":{"account_id":15554419,"reputation":60,"user_id":11221269,"display_name":"Md. Imran Khan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1616918827,"creation_date":1616918827,"answer_id":66839494,"question_id":66831750,"body_markdown":"Add this code in onCreate method\r\n\r\n    refreshLayout.setOnRefreshListener(new SwipeRefreshLayout.OnRefreshListener() {\r\n        @Override\r\n        public void onRefresh() {\r\n            refreshLayout.setRefreshing(true);\r\n            new Handler().postDelayed(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    refreshLayout.setRefreshing(false);mywebView.reload();\r\n                }\r\n            },2000);\r\n        }\r\n    });\r\n    \r\n    refreshLayout.setColorSchemeColors(\r\n            getResources().getColor(android.R.color.holo_blue_dark),\r\n            getResources().getColor(android.R.color.holo_orange_dark),\r\n            getResources().getColor(android.R.color.holo_green_dark),\r\n            getResources().getColor(android.R.color.holo_red_dark)\r\n    \r\n    \r\n    );\r\n\r\n","title":"Pull to Refresh on Webview for Updating Content","body":"<p>Add this code in onCreate method</p>\n<pre><code>refreshLayout.setOnRefreshListener(new SwipeRefreshLayout.OnRefreshListener() {\n    @Override\n    public void onRefresh() {\n        refreshLayout.setRefreshing(true);\n        new Handler().postDelayed(new Runnable() {\n            @Override\n            public void run() {\n                refreshLayout.setRefreshing(false);mywebView.reload();\n            }\n        },2000);\n    }\n});\n\nrefreshLayout.setColorSchemeColors(\n        getResources().getColor(android.R.color.holo_blue_dark),\n        getResources().getColor(android.R.color.holo_orange_dark),\n        getResources().getColor(android.R.color.holo_green_dark),\n        getResources().getColor(android.R.color.holo_red_dark)\n\n\n);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23742557,"reputation":1,"user_id":17760431,"display_name":"Jimmy Michael"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641303538,"creation_date":1641142911,"answer_id":70557947,"question_id":66831750,"body_markdown":"During my research, when we searched for a sustainable pull-to-refresh approach in Android WebView, I found out that there are three easy ways that you can implement pull to refresh in your Android WebView app:\r\n\r\n- You can use a third-party library / SDKs (Java or Kotlin)\r\n\r\n**OR**\r\n- You can use your custom implementation (like with code snippets mentioned here). This option is more complicated but provides greater flexibility for customization (Java or Kotlin)\r\n\r\n**OR**\r\n- In Android WebViewGold, within `Config.java`, turn `ENABLE__PULL_REFRESH` to true (this does not work in Kotlin)\r\n","title":"Pull to Refresh on Webview for Updating Content","body":"<p>During my research, when we searched for a sustainable pull-to-refresh approach in Android WebView, I found out that there are three easy ways that you can implement pull to refresh in your Android WebView app:</p>\n<ul>\n<li>You can use a third-party library / SDKs (Java or Kotlin)</li>\n</ul>\n<p><strong>OR</strong></p>\n<ul>\n<li>You can use your custom implementation (like with code snippets mentioned here). This option is more complicated but provides greater flexibility for customization (Java or Kotlin)</li>\n</ul>\n<p><strong>OR</strong></p>\n<ul>\n<li>In Android WebViewGold, within <code>Config.java</code>, turn <code>ENABLE__PULL_REFRESH</code> to true (this does not work in Kotlin)</li>\n</ul>\n"}],"owner":{"account_id":20721152,"reputation":23,"user_id":15215536,"display_name":"chandra gedangrebus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2329,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":66839494,"answer_count":2,"score":2,"last_activity_date":1641303538,"creation_date":1616850905,"question_id":66831750,"body_markdown":"Probably this is only a simple matter but please bear with me. I just started to learn about coding and Android Studio.\r\n\r\nRight now I am building a WebView Android App and I want it to have pull to refresh feature to show new contents that just uploaded right away without having to close the app.\r\n\r\nHow to do that properly?\r\n\r\nI have saw and tried so many tutorials and still I can not fully implement this feature.\r\n\r\nAt most, I only able to show the refresh icon but still not able to update the contents.\r\n\r\nThis is the codes I use in case you would kindly help solve this matter of mine.\r\n\r\nactivity_main xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n    \r\n    &lt;androidx.swiperefreshlayout.widget.SwipeRefreshLayout\r\n        android:id=&quot;@+id/swiperefresh&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;&gt;\r\n    \r\n        &lt;WebView\r\n            android:id=&quot;@+id/webview&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot; /&gt;\r\n    \r\n    &lt;/androidx.swiperefreshlayout.widget.SwipeRefreshLayout&gt;\r\n    \r\n&lt;/RelativeLayout&gt;\r\n\r\nMainActivity Java\r\n\r\n    package com.chandragedanggoreng.bolanews;\r\n    \r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    import androidx.swiperefreshlayout.widget.SwipeRefreshLayout;\r\n    \r\n    import android.graphics.Bitmap;\r\n    import android.os.Bundle;\r\n    import android.view.WindowManager;\r\n    import android.webkit.WebSettings;\r\n    import android.webkit.WebView;\r\n    import android.webkit.WebViewClient;\r\n    \r\n    public class MainActivity extends AppCompatActivity implements SwipeRefreshLayout.OnRefreshListener{\r\n    private WebView mywebView;\r\n    private SwipeRefreshLayout refreshLayout;\r\n    \r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN, \r\n    WindowManager.LayoutParams.FLAG_FULLSCREEN);\r\n        setContentView(R.layout.activity_main);\r\n        mywebView=(WebView) findViewById(R.id.webview);\r\n        mywebView.setWebViewClient(new WebViewClient());\r\n        mywebView.loadUrl(&quot;https://xxxx.xxx/&quot;);\r\n        WebSettings webSettings=mywebView.getSettings();\r\n        webSettings.setJavaScriptEnabled(true);\r\n    \r\n        refreshLayout = (SwipeRefreshLayout) findViewById(R.id.swiperefresh);\r\n        refreshLayout.setOnRefreshListener(new SwipeRefreshLayout.OnRefreshListener() {\r\n            @Override\r\n            public void onRefresh () {\r\n                refreshLayout.setRefreshing(false);\r\n            }\r\n        });\r\n    }\r\n    \r\n    @Override\r\n    public void onRefresh () {\r\n    }\r\n    \r\n    public class mywebClient extends WebViewClient{\r\n        @Override\r\n        public void onPageStarted(WebView view, String url, Bitmap favicon){\r\n            super.onPageStarted(view,url,favicon);\r\n        }\r\n            @Override\r\n        public boolean shouldOverrideUrlLoading(WebView view,String url){\r\n            view.loadUrl(url);\r\n            return true;\r\n        }\r\n    }\r\n    @Override\r\n    public void onBackPressed(){\r\n        if(mywebView.canGoBack()) {\r\n            mywebView.goBack();\r\n        }\r\n        else{\r\n            super.onBackPressed();\r\n        }\r\n    }\r\n    }\r\n\r\nThank you.","title":"Pull to Refresh on Webview for Updating Content","body":"<p>Probably this is only a simple matter but please bear with me. I just started to learn about coding and Android Studio.</p>\n<p>Right now I am building a WebView Android App and I want it to have pull to refresh feature to show new contents that just uploaded right away without having to close the app.</p>\n<p>How to do that properly?</p>\n<p>I have saw and tried so many tutorials and still I can not fully implement this feature.</p>\n<p>At most, I only able to show the refresh icon but still not able to update the contents.</p>\n<p>This is the codes I use in case you would kindly help solve this matter of mine.</p>\n<p>activity_main xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nxmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\nxmlns:tools=&quot;http://schemas.android.com/tools&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;match_parent&quot;\ntools:context=&quot;.MainActivity&quot;&gt;\n\n&lt;androidx.swiperefreshlayout.widget.SwipeRefreshLayout\n    android:id=&quot;@+id/swiperefresh&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;&gt;\n\n    &lt;WebView\n        android:id=&quot;@+id/webview&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot; /&gt;\n\n&lt;/androidx.swiperefreshlayout.widget.SwipeRefreshLayout&gt;\n</code></pre>\n\n<p>MainActivity Java</p>\n<pre><code>package com.chandragedanggoreng.bolanews;\n\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.swiperefreshlayout.widget.SwipeRefreshLayout;\n\nimport android.graphics.Bitmap;\nimport android.os.Bundle;\nimport android.view.WindowManager;\nimport android.webkit.WebSettings;\nimport android.webkit.WebView;\nimport android.webkit.WebViewClient;\n\npublic class MainActivity extends AppCompatActivity implements SwipeRefreshLayout.OnRefreshListener{\nprivate WebView mywebView;\nprivate SwipeRefreshLayout refreshLayout;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN, \nWindowManager.LayoutParams.FLAG_FULLSCREEN);\n    setContentView(R.layout.activity_main);\n    mywebView=(WebView) findViewById(R.id.webview);\n    mywebView.setWebViewClient(new WebViewClient());\n    mywebView.loadUrl(&quot;https://xxxx.xxx/&quot;);\n    WebSettings webSettings=mywebView.getSettings();\n    webSettings.setJavaScriptEnabled(true);\n\n    refreshLayout = (SwipeRefreshLayout) findViewById(R.id.swiperefresh);\n    refreshLayout.setOnRefreshListener(new SwipeRefreshLayout.OnRefreshListener() {\n        @Override\n        public void onRefresh () {\n            refreshLayout.setRefreshing(false);\n        }\n    });\n}\n\n@Override\npublic void onRefresh () {\n}\n\npublic class mywebClient extends WebViewClient{\n    @Override\n    public void onPageStarted(WebView view, String url, Bitmap favicon){\n        super.onPageStarted(view,url,favicon);\n    }\n        @Override\n    public boolean shouldOverrideUrlLoading(WebView view,String url){\n        view.loadUrl(url);\n        return true;\n    }\n}\n@Override\npublic void onBackPressed(){\n    if(mywebView.canGoBack()) {\n        mywebView.goBack();\n    }\n    else{\n        super.onBackPressed();\n    }\n}\n}\n</code></pre>\n<p>Thank you.</p>\n"},{"tags":["java","awt","indexoutofboundsexception"],"comments":[{"owner":{"account_id":1064245,"reputation":85256,"user_id":1065197,"accept_rate":88,"display_name":"Luiggi Mendoza"},"score":1,"creation_date":1376666890,"post_id":18276890,"comment_id":26809344,"body_markdown":"`xPix + yPix * width` or `x + y * render.width` is greater or equal than `pixels.length`.","body":"<code>xPix + yPix * width</code> or <code>x + y * render.width</code> is greater or equal than <code>pixels.length</code>."},{"owner":{"account_id":1138604,"reputation":30992,"user_id":1123123,"accept_rate":75,"display_name":"Sam I am says Reinstate Monica"},"score":0,"creation_date":1376666967,"post_id":18276890,"comment_id":26809398,"body_markdown":"@LuiggiMendoza you don&#39;t say...","body":"@LuiggiMendoza you don&#39;t say..."},{"owner":{"account_id":2068338,"reputation":1277,"user_id":1843385,"accept_rate":60,"display_name":"Arnaldo Ignacio Gaspar V&#233;jar"},"score":0,"creation_date":1376667195,"post_id":18276890,"comment_id":26809564,"body_markdown":"As quotation. Ensure that always the size are in your WIDTH and HEIGHT i.e. pixels[(xPix + yPix * width) % WIDTH] if you are not pretty sure about your calculations over the indexs.","body":"As quotation. Ensure that always the size are in your WIDTH and HEIGHT i.e. pixels[(xPix + yPix * width) % WIDTH] if you are not pretty sure about your calculations over the indexs."}],"answers":[{"tags":[],"owner":{"account_id":2103622,"reputation":26956,"user_id":1870555,"accept_rate":75,"display_name":"christopher"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1376667002,"creation_date":1376667002,"answer_id":18276988,"question_id":18276890,"body_markdown":"Your `pixels` array of is of the size `width * height`. You&#39;re attempting to access `width + height * width`. As you may imagine, that&#39;s not going to go down well with Mr. Java.","title":"Java - IndexOutOfBoundsException","body":"<p>Your <code>pixels</code> array of is of the size <code>width * height</code>. You're attempting to access <code>width + height * width</code>. As you may imagine, that's not going to go down well with Mr. Java.</p>\n"},{"tags":[],"owner":{"account_id":1138604,"reputation":30992,"user_id":1123123,"accept_rate":75,"display_name":"Sam I am says Reinstate Monica"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1376667703,"creation_date":1376667338,"answer_id":18277118,"question_id":18276890,"body_markdown":"It looks to me like you&#39;re trying to super-impose a `render` of height and width\r\n\r\n    256, 256 (65536 pixels)\r\n\r\nonto a screen of height and width\r\n   \r\n    300, 190; (57000 pixels)\r\n\r\nand you&#39;re using the same indexes for both of them.\r\n\r\n---\r\n\r\nmaybe you want to make your render match your screen\r\n\r\n    render = new Render(this.width, this.height);\r\n\r\ninstead of hard-coding to 256x256 like you are\r\n\r\n","title":"Java - IndexOutOfBoundsException","body":"<p>It looks to me like you're trying to super-impose a <code>render</code> of height and width</p>\n\n<pre><code>256, 256 (65536 pixels)\n</code></pre>\n\n<p>onto a screen of height and width</p>\n\n<pre><code>300, 190; (57000 pixels)\n</code></pre>\n\n<p>and you're using the same indexes for both of them.</p>\n\n<hr>\n\n<p>maybe you want to make your render match your screen</p>\n\n<pre><code>render = new Render(this.width, this.height);\n</code></pre>\n\n<p>instead of hard-coding to 256x256 like you are</p>\n"},{"tags":[],"owner":{"account_id":333187,"reputation":6777,"user_id":658907,"accept_rate":67,"display_name":"matts"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1376667440,"creation_date":1376667440,"answer_id":18277139,"question_id":18276890,"body_markdown":"The `Screen` object is created with a height of 190 pixels, but the `Render` object created in the `Screen` constructor has a height of `256` pixels.  You need to make sure you don&#39;t overwrite the bounds of your `Screen`.\r\n\r\nNote that `WIDTH * HEIGHT = 300 * 190 = 57000`.  (From the `WIDTH` and `HEIGHT` defined in the `Display` class.)","title":"Java - IndexOutOfBoundsException","body":"<p>The <code>Screen</code> object is created with a height of 190 pixels, but the <code>Render</code> object created in the <code>Screen</code> constructor has a height of <code>256</code> pixels.  You need to make sure you don't overwrite the bounds of your <code>Screen</code>.</p>\n\n<p>Note that <code>WIDTH * HEIGHT = 300 * 190 = 57000</code>.  (From the <code>WIDTH</code> and <code>HEIGHT</code> defined in the <code>Display</code> class.)</p>\n"}],"owner":{"account_id":3079287,"reputation":11,"user_id":2607903,"display_name":"Miadric"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":439,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1641303458,"answer_count":3,"score":-1,"last_activity_date":1641303449,"creation_date":1376666735,"question_id":18276890,"body_markdown":"I&#39;m developing an application in Java, and I&#39;ve finished writing the three main class files - however I&#39;ve hit a confusing error. I&#39;m at the moment just &quot;attempting&quot; to draw pixels upon the screen but my pixels array doesn&#39;t work.\r\n\r\nI&#39;m getting the **IndexOutOfBoundsException** in my **Render.java** even though I&#39;m getting now warnings or errors in the code?\r\n\r\n**Display.java**\r\n\r\n```java\r\npublic class Display extends Canvas implements Runnable {\r\n\r\n\tprivate static final long serialVersionUID = 1L;\r\n\t\r\n\tpublic static final int WIDTH = 300;\r\n\tpublic static final int HEIGHT = 190;\r\n\tpublic static final int SCALE = 3;\r\n\t\r\n\tpublic static Dimension DIMENSION = new Dimension(WIDTH * SCALE, HEIGHT * SCALE);\r\n\t\r\n\tpublic static final String TITLE = &quot;Untitled Project&quot;;\r\n\t\r\n\tpublic int[] pixels;\r\n\r\n\tpublic boolean isRunning = false;\r\n\t\r\n\tpublic Thread thread;\r\n\tpublic Screen screen;\r\n\tpublic Render render;\r\n\t\r\n\tpublic BufferedImage img;\r\n\t\r\n\tpublic Display() {\r\n\t\tscreen = new Screen(WIDTH, HEIGHT);\r\n\t\timg = new BufferedImage(WIDTH, HEIGHT, BufferedImage.TYPE_INT_RGB);\r\n\t\tpixels = ((DataBufferInt) img.getRaster().getDataBuffer()).getData();\r\n\t}\r\n\t\r\n\tpublic void start(boolean isDebug) {\r\n\t\tif (isRunning)\r\n\t\t\treturn;\r\n\t\t\r\n\t\tisRunning = true;\r\n\t\t\r\n\t\tthread = new Thread(this);\r\n\t\tthread.start();\r\n\t}\r\n\t\r\n\tpublic void stop() {\r\n\t\tif (!isRunning)\r\n\t\t\treturn;\r\n\t\t\r\n\t\tisRunning = false;\r\n\t\t\r\n\t\ttry {\r\n\t\t\tthread.join();\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t\tSystem.exit(0);\r\n\t\t}\r\n\t}\r\n\t\r\n\tprivate void render() {\r\n\t\tBufferStrategy bs = this.getBufferStrategy();\r\n\t\t\r\n\t\tif (bs == null) {\r\n\t\t\tcreateBufferStrategy(3);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\t\tscreen.render();\r\n\t\t\r\n\t\tfor (int i = 0; i &lt; WIDTH * HEIGHT; i++)\r\n\t\t\tpixels[i] = screen.pixels[i];\r\n\t\t\r\n\t\tGraphics g = bs.getDrawGraphics();\r\n\t\t\r\n\t\tg.drawImage(img, 0, 0, WIDTH, HEIGHT, null);\r\n\t\tg.dispose();\r\n\t\tbs.show();\r\n\t}\r\n\t\r\n\tprivate void tick() {\r\n\t\t\r\n\t}\r\n\r\n\tpublic void run() {\r\n\t\twhile (isRunning) {\r\n\t\t\trender();\r\n\t\t\ttick();\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tDisplay display = new Display();\r\n\t\t\tdisplay.setMinimumSize(DIMENSION);\r\n\t\t\tdisplay.setMaximumSize(DIMENSION);\r\n\t\t\tdisplay.setPreferredSize(DIMENSION);\r\n\t\t\t\r\n\t\tJFrame frame = new JFrame();\r\n\t\t\tframe.setTitle(TITLE);\r\n\t\t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\t\tframe.setLayout(new BorderLayout());\r\n\t\t\tframe.add(display, BorderLayout.CENTER);\r\n\t\t\tframe.pack();\r\n\t\t\tframe.setLocationRelativeTo(null);\r\n\t\t\tframe.setResizable(false);\r\n\t\t\tframe.setVisible(true);\r\n\t\t\t\r\n\t\tdisplay.start(true);\r\n\t}\r\n}\r\n```\r\n\r\n**Render.java**\r\n\r\n```java\r\npublic class Render {\r\n\t\r\n\tpublic final int width;\r\n\tpublic final int height;\r\n\tpublic final int[] pixels;\r\n\t\r\n\tpublic Render(int width, int height) {\r\n\t\tthis.width = width;\r\n\t\tthis.height = height;\r\n\t\tpixels = new int[width * height];\r\n\t}\r\n\t\r\n\tpublic void draw(Render render, int xOffset, int yOffset) {\r\n\t\tfor (int y = 0; y &lt; render.height; y++) {\r\n\t\t\t\r\n\t\t\tint yPix = y + yOffset;\r\n\t\t\t\r\n\t\t\tfor (int x = 0; x &lt; render.width; x++) {\r\n\t\t\t\tint xPix = x + xOffset;\r\n\t\t\t\t\r\n\t\tERROR --&gt;\tpixels[xPix + yPix * width] = render.pixels[x + y * render.width];\r\n\t      }\r\n\t\t}\r\n\t  }\r\n    }\r\n```\r\n\r\n\r\n**Screen.java**\r\n\r\n```java\r\npublic class Screen extends Render {\r\n\t\r\n\tpublic Render render;\r\n\tpublic Random random;\r\n\r\n\tpublic Screen(int width, int height) {\r\n\t\tsuper(width, height);\r\n\t\trender = new Render(256, 256);\r\n\t\trandom = new Random();\r\n\t\t\r\n\t\tfor (int i = 0; i &lt; 256 * 256; i++) {\r\n\t\t\trender.pixels[i] = random.nextInt();\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic void render() {\r\n\t\tdraw(render, 0, 0);\r\n\t}\r\n}\r\n```\r\n\r\n**Error**\r\n\r\n    Exception in thread &quot;Thread-2&quot; java.lang.ArrayIndexOutOfBoundsException: 57000\r\n\tat com.willajhughes.java.graphics.Render.draw(Render.java:23)\r\n\tat com.willajhughes.java.graphics.Screen.render(Screen.java:21)\r\n\tat com.willajhughes.java.Display.render(Display.java:76)\r\n\tat com.willajhughes.java.Display.run(Display.java:94)\r\n\tat java.lang.Thread.run(Unknown Source)\r\n\r\n","title":"Java - IndexOutOfBoundsException","body":"<p>I'm developing an application in Java, and I've finished writing the three main class files - however I've hit a confusing error. I'm at the moment just &quot;attempting&quot; to draw pixels upon the screen but my pixels array doesn't work.</p>\n<p>I'm getting the <strong>IndexOutOfBoundsException</strong> in my <strong>Render.java</strong> even though I'm getting now warnings or errors in the code?</p>\n<p><strong>Display.java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Display extends Canvas implements Runnable {\n\n    private static final long serialVersionUID = 1L;\n    \n    public static final int WIDTH = 300;\n    public static final int HEIGHT = 190;\n    public static final int SCALE = 3;\n    \n    public static Dimension DIMENSION = new Dimension(WIDTH * SCALE, HEIGHT * SCALE);\n    \n    public static final String TITLE = &quot;Untitled Project&quot;;\n    \n    public int[] pixels;\n\n    public boolean isRunning = false;\n    \n    public Thread thread;\n    public Screen screen;\n    public Render render;\n    \n    public BufferedImage img;\n    \n    public Display() {\n        screen = new Screen(WIDTH, HEIGHT);\n        img = new BufferedImage(WIDTH, HEIGHT, BufferedImage.TYPE_INT_RGB);\n        pixels = ((DataBufferInt) img.getRaster().getDataBuffer()).getData();\n    }\n    \n    public void start(boolean isDebug) {\n        if (isRunning)\n            return;\n        \n        isRunning = true;\n        \n        thread = new Thread(this);\n        thread.start();\n    }\n    \n    public void stop() {\n        if (!isRunning)\n            return;\n        \n        isRunning = false;\n        \n        try {\n            thread.join();\n        } catch (Exception e) {\n            e.printStackTrace();\n            System.exit(0);\n        }\n    }\n    \n    private void render() {\n        BufferStrategy bs = this.getBufferStrategy();\n        \n        if (bs == null) {\n            createBufferStrategy(3);\n            return;\n        }\n        \n        screen.render();\n        \n        for (int i = 0; i &lt; WIDTH * HEIGHT; i++)\n            pixels[i] = screen.pixels[i];\n        \n        Graphics g = bs.getDrawGraphics();\n        \n        g.drawImage(img, 0, 0, WIDTH, HEIGHT, null);\n        g.dispose();\n        bs.show();\n    }\n    \n    private void tick() {\n        \n    }\n\n    public void run() {\n        while (isRunning) {\n            render();\n            tick();\n        }\n    }\n    \n    public static void main(String[] args) {\n        Display display = new Display();\n            display.setMinimumSize(DIMENSION);\n            display.setMaximumSize(DIMENSION);\n            display.setPreferredSize(DIMENSION);\n            \n        JFrame frame = new JFrame();\n            frame.setTitle(TITLE);\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n            frame.setLayout(new BorderLayout());\n            frame.add(display, BorderLayout.CENTER);\n            frame.pack();\n            frame.setLocationRelativeTo(null);\n            frame.setResizable(false);\n            frame.setVisible(true);\n            \n        display.start(true);\n    }\n}\n</code></pre>\n<p><strong>Render.java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Render {\n    \n    public final int width;\n    public final int height;\n    public final int[] pixels;\n    \n    public Render(int width, int height) {\n        this.width = width;\n        this.height = height;\n        pixels = new int[width * height];\n    }\n    \n    public void draw(Render render, int xOffset, int yOffset) {\n        for (int y = 0; y &lt; render.height; y++) {\n            \n            int yPix = y + yOffset;\n            \n            for (int x = 0; x &lt; render.width; x++) {\n                int xPix = x + xOffset;\n                \n        ERROR --&gt;   pixels[xPix + yPix * width] = render.pixels[x + y * render.width];\n          }\n        }\n      }\n    }\n</code></pre>\n<p><strong>Screen.java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Screen extends Render {\n    \n    public Render render;\n    public Random random;\n\n    public Screen(int width, int height) {\n        super(width, height);\n        render = new Render(256, 256);\n        random = new Random();\n        \n        for (int i = 0; i &lt; 256 * 256; i++) {\n            render.pixels[i] = random.nextInt();\n        }\n    }\n    \n    public void render() {\n        draw(render, 0, 0);\n    }\n}\n</code></pre>\n<p><strong>Error</strong></p>\n<pre><code>Exception in thread &quot;Thread-2&quot; java.lang.ArrayIndexOutOfBoundsException: 57000\nat com.willajhughes.java.graphics.Render.draw(Render.java:23)\nat com.willajhughes.java.graphics.Screen.render(Screen.java:21)\nat com.willajhughes.java.Display.render(Display.java:76)\nat com.willajhughes.java.Display.run(Display.java:94)\nat java.lang.Thread.run(Unknown Source)\n</code></pre>\n"},{"tags":["java","spring","http-headers","spring-webclient"],"answers":[{"tags":[],"owner":{"account_id":18535178,"reputation":340,"user_id":13505007,"display_name":"Spyros Palaiokostas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641302929,"creation_date":1641302929,"answer_id":70579555,"question_id":69873197,"body_markdown":"The `Content-Type` header must follow the format described on [RFC 2045 section 5.1][1]. It is stated that special characters must be in quoted-string, to use within parameter values.\r\n\r\nSpring parses the `Content-Type` header before executing the REST API call and [validates][2] the mimeType.\r\nIf we quote the value of `profile` attribute then the mimeType is valid.\r\nFor example:\r\n\r\n    webClient.post()\r\n        .uri(&quot;/dr/v1/receipts&quot;)\r\n        .attributes(clientRegistrationId(clientRegistrationId))\r\n        .header(&quot;Content-Type&quot;, &quot;application/json;profile=\\&quot;https://se.digitalreceipts.net/schemas/json/retail/v1.0\\&quot;&quot;)\r\n\r\n\r\n  [1]: https://www.rfc-editor.org/rfc/rfc2045#section-5.1\r\n  [2]: https://github.com/spring-projects/spring-framework/blob/main/spring-core/src/main/java/org/springframework/util/MimeTypeUtils.java#L201","title":"ContentType header with json schema URL parameter in Spring WebClient","body":"<p>The <code>Content-Type</code> header must follow the format described on <a href=\"https://www.rfc-editor.org/rfc/rfc2045#section-5.1\" rel=\"nofollow noreferrer\">RFC 2045 section 5.1</a>. It is stated that special characters must be in quoted-string, to use within parameter values.</p>\n<p>Spring parses the <code>Content-Type</code> header before executing the REST API call and <a href=\"https://github.com/spring-projects/spring-framework/blob/main/spring-core/src/main/java/org/springframework/util/MimeTypeUtils.java#L201\" rel=\"nofollow noreferrer\">validates</a> the mimeType.\nIf we quote the value of <code>profile</code> attribute then the mimeType is valid.\nFor example:</p>\n<pre><code>webClient.post()\n    .uri(&quot;/dr/v1/receipts&quot;)\n    .attributes(clientRegistrationId(clientRegistrationId))\n    .header(&quot;Content-Type&quot;, &quot;application/json;profile=\\&quot;https://se.digitalreceipts.net/schemas/json/retail/v1.0\\&quot;&quot;)\n</code></pre>\n"}],"owner":{"account_id":23264207,"reputation":11,"user_id":17350024,"display_name":"Kristoffer S"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":764,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1641302929,"creation_date":1636294233,"question_id":69873197,"body_markdown":"I&#39;m using Spring to integrate towards a third party API. This API validates the Content-Type header and requires it to be exactly\r\n```application/json;profile=https://se.digitalreceipts.net/schemas/json/retail/v1.0```\r\n\r\nThe code below is the relevant part of the POST call i make towards the API. \r\n\r\n        webClient.post()\r\n            .uri(&quot;/dr/v1/receipts&quot;)\r\n            .attributes(clientRegistrationId(clientRegistrationId))\r\n            .header(&quot;Content-Type&quot;, &quot;application/json;profile=https://se.digitalreceipts.net/schemas/json/retail/v1.0&quot;)\r\n\r\nWhen executing this request an exception is thrown:\r\n```\r\norg.springframework.http.InvalidMediaTypeException: Invalid mime type &quot;application/json;profile=https://se.digitalreceipts.net/schemas/json/retail/v1.0&quot;: Invalid token character &#39;:&#39; in token &quot;https://se.digitalreceipts.net/schemas/json/retail/v1.0&quot;\r\n\tat org.springframework.http.MediaType.parseMediaType(MediaType.java:620) ~[spring-web-5.3.10.jar:5.3.10]\r\n```\r\n\r\nSeems that spring does not allow colons in the Content-Type header. \r\nThis is an issue as the API I&#39;m integrating towards absolutely requires the content-type header to be exactly as previously specificated.\r\nI can&#39;t for instance write the value with quotation marks\r\n```application/json;profile=&quot;https://se.digitalreceipts.net/schemas/json/retail/v1.0&quot;```\r\n\r\nI&#39;m looking for a solution where I can enter the required Content-Type header using Spring WebClient.","title":"ContentType header with json schema URL parameter in Spring WebClient","body":"<p>I'm using Spring to integrate towards a third party API. This API validates the Content-Type header and requires it to be exactly\n<code>application/json;profile=https://se.digitalreceipts.net/schemas/json/retail/v1.0</code></p>\n<p>The code below is the relevant part of the POST call i make towards the API.</p>\n<pre><code>    webClient.post()\n        .uri(&quot;/dr/v1/receipts&quot;)\n        .attributes(clientRegistrationId(clientRegistrationId))\n        .header(&quot;Content-Type&quot;, &quot;application/json;profile=https://se.digitalreceipts.net/schemas/json/retail/v1.0&quot;)\n</code></pre>\n<p>When executing this request an exception is thrown:</p>\n<pre><code>org.springframework.http.InvalidMediaTypeException: Invalid mime type &quot;application/json;profile=https://se.digitalreceipts.net/schemas/json/retail/v1.0&quot;: Invalid token character ':' in token &quot;https://se.digitalreceipts.net/schemas/json/retail/v1.0&quot;\n    at org.springframework.http.MediaType.parseMediaType(MediaType.java:620) ~[spring-web-5.3.10.jar:5.3.10]\n</code></pre>\n<p>Seems that spring does not allow colons in the Content-Type header.\nThis is an issue as the API I'm integrating towards absolutely requires the content-type header to be exactly as previously specificated.\nI can't for instance write the value with quotation marks\n<code>application/json;profile=&quot;https://se.digitalreceipts.net/schemas/json/retail/v1.0&quot;</code></p>\n<p>I'm looking for a solution where I can enter the required Content-Type header using Spring WebClient.</p>\n"},{"tags":["java","eclipse","maven","nexus"],"answers":[{"tags":[],"owner":{"account_id":8156586,"reputation":21,"user_id":6141954,"display_name":"David Day"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641302713,"creation_date":1641302713,"answer_id":70579516,"question_id":70511099,"body_markdown":"Finally figured out the solution - it turns out I was NOT pointing to the external Maven deployment in the newer version of eclipse, but rather to the embedded one.  Once I made that correction, I was able to deploy the jar.\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/CkVTp.png","title":"new eclipse version fails to deploy jar to Nexus repo with 401 unauthorized","body":"<p>Finally figured out the solution - it turns out I was NOT pointing to the external Maven deployment in the newer version of eclipse, but rather to the embedded one.  Once I made that correction, I was able to deploy the jar.\n<a href=\"https://i.stack.imgur.com/CkVTp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CkVTp.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":8156586,"reputation":21,"user_id":6141954,"display_name":"David Day"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":415,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1641302713,"creation_date":1640716313,"question_id":70511099,"body_markdown":"I&#39;ve recently started using **eclipse 2021-12**.  When I tried deploying a jar to our Nexus repository, it failed, citing &quot;Failed to deploy artifacts: Could not transfer artifact...&quot;, and &quot;Access denied...&quot;, and &quot;Error code 401, Unauthorized&quot;.  My DevOps team and I double-checked all the settings, and everything looked fine (and we confirmed the credentials in settings.xml were correct).\r\n\r\nI tried deploying the same jar using **eclipse 2021-06**...and IT WORKED!  I checked all the Java &amp; Maven settings between both versions, and everything appeared to be exactly the same.  I redeployed the jar from both versions of eclipse using -X maven command to get details, and I found the following:\r\n\r\nThe maven output of the successful deploy had the following:\r\n\r\n[DEBUG] Using transporter WagonTransporter with priority -1.0 for http://nexus:8086/nexus/content/repositories/snapshots/\r\n\r\n[DEBUG] Using connector BasicRepositoryConnector with priority 0.0 for http://nexus:8086/nexus/content/repositories/snapshots/ with username=bla, password=***\r\n\r\nAt the same location in the failed deploy was the following:\r\n\r\n[DEBUG] Using connector AetherRepositoryConnector with priority 100.0 for http://nexus:8086/nexus/content/repositories/snapshots/ with username=bla, password=***\r\n\r\nThis difference above is probably the root cause for the different behavior between the eclipse versions, and I would like to try using an alternative to the **AetherRepositoryConnector** to confirm...but I have been unable to find out how to do that, and thought I would post the question here.  Does anyone know where this configuration exists, and/or how to use an alternate transporter/repository connector for maven within eclipse?  Or is this a bug in 2021-12?  Or is there some new/additional setting to get this to work?\r\n\r\nMore info:&lt;br&gt;\r\nProject (incl POM) is the same in both (pulled from SVN repo)&lt;br&gt;\r\nBoth eclipse installations:\r\n- use Amazon Corretto v11.0.13_8 for the build\r\n- point to external Maven install v3.8.1.  Eclipse points out that embedded runtime is used for dependency resolution. Both use internal 3.8.1, but actual JARs are slightly different.\r\n- use the same settings.xml","title":"new eclipse version fails to deploy jar to Nexus repo with 401 unauthorized","body":"<p>I've recently started using <strong>eclipse 2021-12</strong>.  When I tried deploying a jar to our Nexus repository, it failed, citing &quot;Failed to deploy artifacts: Could not transfer artifact...&quot;, and &quot;Access denied...&quot;, and &quot;Error code 401, Unauthorized&quot;.  My DevOps team and I double-checked all the settings, and everything looked fine (and we confirmed the credentials in settings.xml were correct).</p>\n<p>I tried deploying the same jar using <strong>eclipse 2021-06</strong>...and IT WORKED!  I checked all the Java &amp; Maven settings between both versions, and everything appeared to be exactly the same.  I redeployed the jar from both versions of eclipse using -X maven command to get details, and I found the following:</p>\n<p>The maven output of the successful deploy had the following:</p>\n<p>[DEBUG] Using transporter WagonTransporter with priority -1.0 for http://nexus:8086/nexus/content/repositories/snapshots/</p>\n<p>[DEBUG] Using connector BasicRepositoryConnector with priority 0.0 for http://nexus:8086/nexus/content/repositories/snapshots/ with username=bla, password=***</p>\n<p>At the same location in the failed deploy was the following:</p>\n<p>[DEBUG] Using connector AetherRepositoryConnector with priority 100.0 for http://nexus:8086/nexus/content/repositories/snapshots/ with username=bla, password=***</p>\n<p>This difference above is probably the root cause for the different behavior between the eclipse versions, and I would like to try using an alternative to the <strong>AetherRepositoryConnector</strong> to confirm...but I have been unable to find out how to do that, and thought I would post the question here.  Does anyone know where this configuration exists, and/or how to use an alternate transporter/repository connector for maven within eclipse?  Or is this a bug in 2021-12?  Or is there some new/additional setting to get this to work?</p>\n<p>More info:<br>\nProject (incl POM) is the same in both (pulled from SVN repo)<br>\nBoth eclipse installations:</p>\n<ul>\n<li>use Amazon Corretto v11.0.13_8 for the build</li>\n<li>point to external Maven install v3.8.1.  Eclipse points out that embedded runtime is used for dependency resolution. Both use internal 3.8.1, but actual JARs are slightly different.</li>\n<li>use the same settings.xml</li>\n</ul>\n"},{"tags":["java","junit","nio"],"comments":[{"owner":{"account_id":6875395,"reputation":1037,"user_id":5284011,"display_name":"JohnXF"},"score":0,"creation_date":1639667081,"post_id":70380884,"comment_id":124411912,"body_markdown":"Why don&#39;t you write the code you want to test in a way that it does not matter what the environment is? e.g. ``String commonPath(String pathA, String pathB, String pathSep)`` and then test that passing in windows paths and the windows separator and also with linux paths and the linux separator.","body":"Why don&#39;t you write the code you want to test in a way that it does not matter what the environment is? e.g. <code>String commonPath(String pathA, String pathB, String pathSep)</code> and then test that passing in windows paths and the windows separator and also with linux paths and the linux separator."},{"owner":{"account_id":2283420,"reputation":1081,"user_id":2021763,"accept_rate":25,"display_name":"gillesB"},"score":0,"creation_date":1639670911,"post_id":70380884,"comment_id":124413666,"body_markdown":"In general this would work if the method would use Strings. But in this case the method relies heavily on Path and it&#39;s methods. Which use different implementations depending on the OS.","body":"In general this would work if the method would use Strings. But in this case the method relies heavily on Path and it&#39;s methods. Which use different implementations depending on the OS."},{"owner":{"account_id":6875395,"reputation":1037,"user_id":5284011,"display_name":"JohnXF"},"score":0,"creation_date":1639671920,"post_id":70380884,"comment_id":124414159,"body_markdown":"The intention of Path objects and the like being platform specific is to isolate application code from the platform-specific stuff. So in theory you should be able to work with a Path in the same way irrespective of the platform you are on. If you are putting platform specific code into your application (or tests) then perhaps that is not the right approach. If you have no application specific code then you are trusting the Path class (and related stuff) to do things correctly (and to have been tested as such) so you do not need to have multi-platform tests in your code.","body":"The intention of Path objects and the like being platform specific is to isolate application code from the platform-specific stuff. So in theory you should be able to work with a Path in the same way irrespective of the platform you are on. If you are putting platform specific code into your application (or tests) then perhaps that is not the right approach. If you have no application specific code then you are trusting the Path class (and related stuff) to do things correctly (and to have been tested as such) so you do not need to have multi-platform tests in your code."}],"answers":[{"tags":[],"owner":{"account_id":2283420,"reputation":1081,"user_id":2021763,"accept_rate":25,"display_name":"gillesB"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1639665605,"creation_date":1639665605,"answer_id":70380885,"question_id":70380884,"body_markdown":"I do not think that it is possible as the JDK for Windows only contains the `WindowsPath` class.\r\nThe bare minimum for this to work is, that the classes `WindowsPath` and `UnixPath` are present.","title":"Explicitely use UnixPath or WindowsPath in JUnit test","body":"<p>I do not think that it is possible as the JDK for Windows only contains the <code>WindowsPath</code> class.\nThe bare minimum for this to work is, that the classes <code>WindowsPath</code> and <code>UnixPath</code> are present.</p>\n"},{"tags":[],"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1641302688,"creation_date":1639672691,"answer_id":70382589,"question_id":70380884,"body_markdown":"Write most of your test cases so that they work on both platforms. Windows `Path` handling is very tolerant to using Linux paths. If you carefully frame your test data so that you never convert a Path back to String your Linux Path tests should work on Windows because you can omit mentioning a Windows drive letter as a String value. \r\n\r\nFor example try these tests on both platforms. Windows Path handling automatically deals with the wrong style of path separators internally but this is never exposed unless you convert `Path` back to `String`:\r\n\r\n    @Test void testsCommonToAllPlatforms() {\r\n      Assertions.assertEquals(Path.of(&quot;/a/b&quot;), commonPath(Path.of(&quot;/a/b/c&quot;), Path.of(&quot;/a/b/d&quot;)));\r\n      Assertions.assertEquals(Path.of(&quot;a/b&quot;),  commonPath(Path.of(&quot;a/b/c&quot;),  Path.of(&quot;a/b/d&quot;)));\r\n      Assertions.assertEquals(Path.of(&quot;/&quot;),    commonPath(Path.of(&quot;/a/b/c&quot;), Path.of(&quot;/d/e/f&quot;)));\r\n      Assertions.assertEquals(        null,    commonPath(Path.of(&quot;a/b/c&quot;),  Path.of(&quot;d/e/f&quot;)));\r\n    }\r\n\r\nThis will leave you to setup a few extra Windows specific tests (in additional to above) which could include drive letters, and you&#39;ll need access to a Windows build machine now and then to verify no regressions:\r\n\r\n    @EnabledOnOs(OS.WINDOWS)\r\n    @Test void testJustForWindows() {\r\n      Assertions.assertEquals(Path.of(&quot;C:/Winnt&quot;), commonPath(Path.of(&quot;C:/Winnt/System32&quot;), Path.of(&quot;C:/Winnt/System64&quot;))));\r\n      Assertions.assertEquals(               null, commonPath(Path.of(&quot;C:/Winnt/System32&quot;), Path.of(&quot;F:/Winnt/System32&quot;)));\r\n    }\r\n ","title":"Explicitely use UnixPath or WindowsPath in JUnit test","body":"<p>Write most of your test cases so that they work on both platforms. Windows <code>Path</code> handling is very tolerant to using Linux paths. If you carefully frame your test data so that you never convert a Path back to String your Linux Path tests should work on Windows because you can omit mentioning a Windows drive letter as a String value.</p>\n<p>For example try these tests on both platforms. Windows Path handling automatically deals with the wrong style of path separators internally but this is never exposed unless you convert <code>Path</code> back to <code>String</code>:</p>\n<pre><code>@Test void testsCommonToAllPlatforms() {\n  Assertions.assertEquals(Path.of(&quot;/a/b&quot;), commonPath(Path.of(&quot;/a/b/c&quot;), Path.of(&quot;/a/b/d&quot;)));\n  Assertions.assertEquals(Path.of(&quot;a/b&quot;),  commonPath(Path.of(&quot;a/b/c&quot;),  Path.of(&quot;a/b/d&quot;)));\n  Assertions.assertEquals(Path.of(&quot;/&quot;),    commonPath(Path.of(&quot;/a/b/c&quot;), Path.of(&quot;/d/e/f&quot;)));\n  Assertions.assertEquals(        null,    commonPath(Path.of(&quot;a/b/c&quot;),  Path.of(&quot;d/e/f&quot;)));\n}\n</code></pre>\n<p>This will leave you to setup a few extra Windows specific tests (in additional to above) which could include drive letters, and you'll need access to a Windows build machine now and then to verify no regressions:</p>\n<pre><code>@EnabledOnOs(OS.WINDOWS)\n@Test void testJustForWindows() {\n  Assertions.assertEquals(Path.of(&quot;C:/Winnt&quot;), commonPath(Path.of(&quot;C:/Winnt/System32&quot;), Path.of(&quot;C:/Winnt/System64&quot;))));\n  Assertions.assertEquals(               null, commonPath(Path.of(&quot;C:/Winnt/System32&quot;), Path.of(&quot;F:/Winnt/System32&quot;)));\n}\n</code></pre>\n"}],"owner":{"account_id":2283420,"reputation":1081,"user_id":2021763,"accept_rate":25,"display_name":"gillesB"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":412,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70382589,"answer_count":2,"score":0,"last_activity_date":1641302688,"creation_date":1639665605,"question_id":70380884,"body_markdown":"I want to test a method with finds the longest, common subpath of two Paths ([found here][1]).\r\nAs the program should run under Windows and Linux, I want to create tests with Linux paths and other tests with Windows paths.\r\n\r\nThe problem is, that the Windows tests only pass in a Windows environment and fail in a Linux environment.\r\nFor the Linux tests it is the other way around.\r\n\r\nI can mitigate the problem by checking the OS before doing the actual test. e.g.: `org.junit.Assume.assumeTrue(isWindows());`\r\nBut then the tests always pass in our Jenkins instance, which is run on Linux.\r\nWhich is not ideal.\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/54596369/2021763","title":"Explicitely use UnixPath or WindowsPath in JUnit test","body":"<p>I want to test a method with finds the longest, common subpath of two Paths (<a href=\"https://stackoverflow.com/a/54596369/2021763\">found here</a>).\nAs the program should run under Windows and Linux, I want to create tests with Linux paths and other tests with Windows paths.</p>\n<p>The problem is, that the Windows tests only pass in a Windows environment and fail in a Linux environment.\nFor the Linux tests it is the other way around.</p>\n<p>I can mitigate the problem by checking the OS before doing the actual test. e.g.: <code>org.junit.Assume.assumeTrue(isWindows());</code>\nBut then the tests always pass in our Jenkins instance, which is run on Linux.\nWhich is not ideal.</p>\n"},{"tags":["java","eclipse","selenium-chromedriver"],"comments":[{"owner":{"account_id":12360572,"reputation":1730,"user_id":9014957,"accept_rate":17,"display_name":"pburgr"},"score":0,"creation_date":1641379018,"post_id":70579482,"comment_id":124787504,"body_markdown":"If you are sure that your driver fits on your chrome version, clean and rebuild your project.","body":"If you are sure that your driver fits on your chrome version, clean and rebuild your project."},{"owner":{"account_id":7783163,"reputation":1123,"user_id":5888946,"accept_rate":58,"display_name":"Tony"},"score":0,"creation_date":1641467124,"post_id":70579482,"comment_id":124813796,"body_markdown":"It gets completely rebuilt each run starting from the git checkout, mavening, etc, into a blank workspace","body":"It gets completely rebuilt each run starting from the git checkout, mavening, etc, into a blank workspace"},{"owner":{"account_id":12360572,"reputation":1730,"user_id":9014957,"accept_rate":17,"display_name":"pburgr"},"score":0,"creation_date":1641470246,"post_id":70579482,"comment_id":124814828,"body_markdown":"Do you run the test in docker image?","body":"Do you run the test in docker image?"},{"owner":{"account_id":12360572,"reputation":1730,"user_id":9014957,"accept_rate":17,"display_name":"pburgr"},"score":0,"creation_date":1641470528,"post_id":70579482,"comment_id":124814938,"body_markdown":"What type is `baseFrame`?","body":"What type is <code>baseFrame</code>?"}],"owner":{"account_id":7783163,"reputation":1123,"user_id":5888946,"accept_rate":58,"display_name":"Tony"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1641302522,"creation_date":1641302522,"question_id":70579482,"body_markdown":"There still seems to be a problem with Eclipse, Chrome, Chrome Driver, Java and Selenium.\r\nStill getting &quot;Timeout receiving message from renderer&quot;.\r\nThe solutions offered in Stack Overflow are that Chrome and Chrome Driver do not match (both using 96), or Selenium is old (we have the latest) or java is old (we have 8).\r\n\r\nIs anyone else still getting this error?  Most of the time it is just annoying, but sometimes it causes a timeout exception.  Any other suggestions.\r\n\r\nHere is one place it happens, switching to the frame:\r\n\r\n\tprivate void switchToBaseFrame() {\r\n\t\tdriver.switchTo().defaultContent();\r\n\t\tdriver.switchTo().frame(baseFrame);\r\n\t}\r\n\r\nCan I put a try/catch around it and ignore it?  Not sure that would help:\r\n\r\n\tprivate void switchToBaseFrame() {\r\n\t\tdriver.switchTo().defaultContent();\r\n        try {\r\n\t\t     driver.switchTo().frame(baseFrame);\r\n        } catch (TimeoutException ex) {\r\n             // ignore\r\n        }\r\n\t}\r\n\r\n\r\n","title":"Still timeout receiving message from renderer","body":"<p>There still seems to be a problem with Eclipse, Chrome, Chrome Driver, Java and Selenium.\nStill getting &quot;Timeout receiving message from renderer&quot;.\nThe solutions offered in Stack Overflow are that Chrome and Chrome Driver do not match (both using 96), or Selenium is old (we have the latest) or java is old (we have 8).</p>\n<p>Is anyone else still getting this error?  Most of the time it is just annoying, but sometimes it causes a timeout exception.  Any other suggestions.</p>\n<p>Here is one place it happens, switching to the frame:</p>\n<pre><code>private void switchToBaseFrame() {\n    driver.switchTo().defaultContent();\n    driver.switchTo().frame(baseFrame);\n}\n</code></pre>\n<p>Can I put a try/catch around it and ignore it?  Not sure that would help:</p>\n<pre><code>private void switchToBaseFrame() {\n    driver.switchTo().defaultContent();\n    try {\n         driver.switchTo().frame(baseFrame);\n    } catch (TimeoutException ex) {\n         // ignore\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","maven","java-11"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1641298142,"post_id":70578454,"comment_id":124763733,"body_markdown":"First why do you like to use modules? Furthermore the question is: If you are in spring boot why do you like to use module ? A spring boot application is in the end a single jar file which can contain only a single `modules-info.java` which means no real benefit ? And no you can not generated a modules-info.java based on your project....","body":"First why do you like to use modules? Furthermore the question is: If you are in spring boot why do you like to use module ? A spring boot application is in the end a single jar file which can contain only a single <code>modules-info.java</code> which means no real benefit ? And no you can not generated a modules-info.java based on your project...."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1641302213,"post_id":70578454,"comment_id":124765340,"body_markdown":"@khmarbaise at least the last sentence is not correct.","body":"@khmarbaise at least the last sentence is not correct."},{"owner":{"account_id":3618847,"reputation":867,"user_id":17695211,"display_name":"Alexey Veleshko"},"score":0,"creation_date":1641303277,"post_id":70578454,"comment_id":124765802,"body_markdown":"You can just not use modules. They are not required. Only very large codebases can benefit from them.","body":"You can just not use modules. They are not required. Only very large codebases can benefit from them."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1641303715,"post_id":70578454,"comment_id":124766020,"body_markdown":"@Holger As you wrote in your answer yourself ...it needs manual corrections which you can only do if you understand the implications of using modules (and how they work) and an automatically generated can never be 100% correct. So do it yourself and learn how it works...instead of using generating tools without understanding it...","body":"@Holger As you wrote in your answer yourself ...it needs manual corrections which you can only do if you understand the implications of using modules (and how they work) and an automatically generated can never be 100% correct. So do it yourself and learn how it works...instead of using generating tools without understanding it..."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1641305653,"post_id":70578454,"comment_id":124766892,"body_markdown":"@khmarbaise even when I know what a tool does, there is no reason to do everything manually when a tool can do the job. That’s not different to selecting “New Class” in an IDE and letting it fill in the well-know stub. Yes, I still have to fill in the actual code myself, but why should I repeatedly write the trivial stuff?","body":"@khmarbaise even when I know what a tool does, there is no reason to do everything manually when a tool can do the job. That’s not different to selecting “New Class” in an IDE and letting it fill in the well-know stub. Yes, I still have to fill in the actual code myself, but why should I repeatedly write the trivial stuff?"}],"answers":[{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1641302072,"creation_date":1641302072,"answer_id":70579400,"question_id":70578454,"body_markdown":"You can use [the `jdeps` command] to generate `module-info.java` files.\r\n\r\nThe syntax is\r\n\r\n```none\r\n[path to jdk’s bin]jdeps --generate-module-info &lt;path to source&gt; &lt;path to compiled jar&gt;\r\n```\r\n\r\nwhereas the jar file contains the compiled currently non-modular class files and the source directory is the target for the `module-info.java`.\r\n\r\n`jdeps` will analyze the dependencies and assume the name of the jar file (without the `.jar` suffix) as the module name and store a file `&lt;path to source&gt;\\&lt;module-name&gt;\\module-info.java` which is suitable for a directory layout having module directories inside the source folder rather than a single-module layout.\r\n\r\nOf course, this analysis has limitations and subsequent manual corrections might be necessary.\r\n\r\n[the `jdeps` command]: https://docs.oracle.com/en/java/javase/17/docs/specs/man/jdeps.html","title":"can we generate module-info.java file in existing maven project","body":"<p>You can use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/specs/man/jdeps.html\" rel=\"nofollow noreferrer\">the <code>jdeps</code> command</a> to generate <code>module-info.java</code> files.</p>\n<p>The syntax is</p>\n<pre class=\"lang-none prettyprint-override\"><code>[path to jdk’s bin]jdeps --generate-module-info &lt;path to source&gt; &lt;path to compiled jar&gt;\n</code></pre>\n<p>whereas the jar file contains the compiled currently non-modular class files and the source directory is the target for the <code>module-info.java</code>.</p>\n<p><code>jdeps</code> will analyze the dependencies and assume the name of the jar file (without the <code>.jar</code> suffix) as the module name and store a file <code>&lt;path to source&gt;\\&lt;module-name&gt;\\module-info.java</code> which is suitable for a directory layout having module directories inside the source folder rather than a single-module layout.</p>\n<p>Of course, this analysis has limitations and subsequent manual corrections might be necessary.</p>\n"}],"owner":{"account_id":23824071,"reputation":11,"user_id":17831386,"display_name":"Rajiv Sinha"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1723,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1641302072,"creation_date":1641297501,"question_id":70578454,"body_markdown":"We have existing java project with java 8 and spring boot. we are migrating to java 11 and as java 9 start using modules-info.java. i am wondering if there are ways to autogenerate modules-info.java based on existing project?","title":"can we generate module-info.java file in existing maven project","body":"<p>We have existing java project with java 8 and spring boot. we are migrating to java 11 and as java 9 start using modules-info.java. i am wondering if there are ways to autogenerate modules-info.java based on existing project?</p>\n"},{"tags":["java","generics","inheritance"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1641300851,"post_id":70579119,"comment_id":124764816,"body_markdown":"Counter-question: What benefit do we get by introducing the generic parameter in the 1st approach? I see none, hence I would default to the 2nd approach.","body":"Counter-question: What benefit do we get by introducing the generic parameter in the 1st approach? I see none, hence I would default to the 2nd approach."}],"answers":[{"tags":[],"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1641301505,"creation_date":1641301165,"answer_id":70579228,"question_id":70579119,"body_markdown":"As you said, it depends. You need to keep in mind that generics are a compile-time tool to help the compiler do some checks and spit out errors if you violate the constraints.\r\n\r\nIn your case you don&#39;t seem to have any constraints to violate apart from the upper bound for the parameter types (`Animal` and `Food`) so you don&#39;t gain anything from using generics - hence I&#39;d choose the plain inheritance based approach.\r\n\r\nHowever, consider you&#39;re changing your `Animal` interface to define the kind of food the animal needs (thus adding a constraint that inheritance can&#39;t help you enforce at compile time):\r\n\r\n    interface Animal&lt;F extends Food&gt; { ... }\r\n\r\n    class DogFood implements Food { ... }\r\n    class CatFood implements Food { ... }\r\n    class Whiskas extends CatFood { ... }\r\n\r\n    class Dog implements Animal&lt;DogFood&gt; { ... }\r\n    class Cat implements Animal&lt;CatFood&gt; { ... }\r\n\r\nNow `feed()` could use generics to let the compiler help you choose the right type of food:\r\n\r\n    &lt;F extends Food&gt; void feed(Animal&lt;F&gt; animal, F food) { ... }\r\n\r\n    //this should compile because Cat defines Food needs to be CatFood\r\n    feed(new Cat(), new CatFood());\r\n\r\n    //this should also compile because Whiskas is CatFood\r\n    feed(new Cat(), new Whiskas());\r\n\r\n    //this shouldn&#39;t compile because DogFood is not CatFood\r\n    feed(new Cat(), new DogFood());\r\n\r\n","title":"Generic method (bounded type) vs inheritance","body":"<p>As you said, it depends. You need to keep in mind that generics are a compile-time tool to help the compiler do some checks and spit out errors if you violate the constraints.</p>\n<p>In your case you don't seem to have any constraints to violate apart from the upper bound for the parameter types (<code>Animal</code> and <code>Food</code>) so you don't gain anything from using generics - hence I'd choose the plain inheritance based approach.</p>\n<p>However, consider you're changing your <code>Animal</code> interface to define the kind of food the animal needs (thus adding a constraint that inheritance can't help you enforce at compile time):</p>\n<pre><code>interface Animal&lt;F extends Food&gt; { ... }\n\nclass DogFood implements Food { ... }\nclass CatFood implements Food { ... }\nclass Whiskas extends CatFood { ... }\n\nclass Dog implements Animal&lt;DogFood&gt; { ... }\nclass Cat implements Animal&lt;CatFood&gt; { ... }\n</code></pre>\n<p>Now <code>feed()</code> could use generics to let the compiler help you choose the right type of food:</p>\n<pre><code>&lt;F extends Food&gt; void feed(Animal&lt;F&gt; animal, F food) { ... }\n\n//this should compile because Cat defines Food needs to be CatFood\nfeed(new Cat(), new CatFood());\n\n//this should also compile because Whiskas is CatFood\nfeed(new Cat(), new Whiskas());\n\n//this shouldn't compile because DogFood is not CatFood\nfeed(new Cat(), new DogFood());\n</code></pre>\n"}],"owner":{"account_id":11935386,"reputation":1273,"user_id":8734046,"display_name":"jwpol"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":260,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"closed_date":1641314787,"accepted_answer_id":70579228,"answer_count":1,"score":1,"last_activity_date":1641301505,"creation_date":1641300640,"question_id":70579119,"body_markdown":"I have a typical question what is better and I think as always the answer is it depends, but I&#39;d like to clarify it anyway. So there are two methods:\r\n\r\n```java\r\npublic static &lt;A extends Animal, F extends Food&gt; void feed(A animal, F food) {\r\n    animal.setFood(food);\r\n}\r\n\r\npublic static void feed(Animal animal, Food food) {\r\n    animal.setFood(food);\r\n}\r\n```\r\n\r\nAnd the logic:\r\n\r\n```java\r\nCat cat = new Cat(); // Cat is a child of Animal\r\nDog dog = new Dog(); // Dog is a child of Animal\r\n\r\nPork pork = new Pork(); // Pork is a child of Food\r\npork.setName(&quot;Whiskas&quot;);\r\nBeef beef = new Beef(); // Beef is a child of Food\r\nbeef.setName(&quot;Pedigree&quot;);\r\n\r\nAnimalService.feed(cat, beef);\r\nAnimalService.feed(dog, pork);\r\n\r\ncat.eat(); // prints I&#39;m eating Pedigree\r\ndog.eat(); // prints I&#39;m eating Whiskas\r\n```\r\n\r\nI understand that there is a conflict of method signatures due to the type erasure, so my question is not &quot;Why I can&#39;t have these two methods in the same time?&quot;, but rather &quot;Which method would you choose?&quot;.\r\n\r\n","title":"Generic method (bounded type) vs inheritance","body":"<p>I have a typical question what is better and I think as always the answer is it depends, but I'd like to clarify it anyway. So there are two methods:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static &lt;A extends Animal, F extends Food&gt; void feed(A animal, F food) {\n    animal.setFood(food);\n}\n\npublic static void feed(Animal animal, Food food) {\n    animal.setFood(food);\n}\n</code></pre>\n<p>And the logic:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Cat cat = new Cat(); // Cat is a child of Animal\nDog dog = new Dog(); // Dog is a child of Animal\n\nPork pork = new Pork(); // Pork is a child of Food\npork.setName(&quot;Whiskas&quot;);\nBeef beef = new Beef(); // Beef is a child of Food\nbeef.setName(&quot;Pedigree&quot;);\n\nAnimalService.feed(cat, beef);\nAnimalService.feed(dog, pork);\n\ncat.eat(); // prints I'm eating Pedigree\ndog.eat(); // prints I'm eating Whiskas\n</code></pre>\n<p>I understand that there is a conflict of method signatures due to the type erasure, so my question is not &quot;Why I can't have these two methods in the same time?&quot;, but rather &quot;Which method would you choose?&quot;.</p>\n"},{"tags":["javascript","java","graalvm","graaljs"],"answers":[{"tags":[],"owner":{"account_id":3674304,"reputation":927,"user_id":3060725,"accept_rate":67,"display_name":"BoriS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641301396,"creation_date":1641301396,"answer_id":70579278,"question_id":70491559,"body_markdown":"I&#39;m assuming you are missing the `--jvm` flag to run the `js` launcher in `jvm` mode which is required for Java interop.\r\n\r\n```\r\n$ ./graalvm-ee-java11-21.3.0/bin/js --eval &#39;new java.io.File(&quot;&quot;); console.log(&quot;OK!&quot;)&#39;\r\nTypeError: Access to host class java.io.File is not allowed or does not exist.\r\n        at &lt;js&gt; :program(Unknown)\r\n\r\n$ ./graalvm-ee-java11-21.3.0/bin/js --jvm --eval &#39;new java.io.File(&quot;&quot;); console.log(&quot;OK!&quot;)&#39;\r\nOK!\r\n\r\n```\r\n\r\nThis is documented [here][1]:\r\n\r\n&gt; To enable Java interoperability, the --jvm option has to be provided\r\n&gt; to the native launcher\r\n\r\n\r\n  [1]: https://www.graalvm.org/reference-manual/js/JavaInteroperability/","title":"GraalVM JavaScript suffers from &quot;host access&quot; issues","body":"<p>I'm assuming you are missing the <code>--jvm</code> flag to run the <code>js</code> launcher in <code>jvm</code> mode which is required for Java interop.</p>\n<pre><code>$ ./graalvm-ee-java11-21.3.0/bin/js --eval 'new java.io.File(&quot;&quot;); console.log(&quot;OK!&quot;)'\nTypeError: Access to host class java.io.File is not allowed or does not exist.\n        at &lt;js&gt; :program(Unknown)\n\n$ ./graalvm-ee-java11-21.3.0/bin/js --jvm --eval 'new java.io.File(&quot;&quot;); console.log(&quot;OK!&quot;)'\nOK!\n\n</code></pre>\n<p>This is documented <a href=\"https://www.graalvm.org/reference-manual/js/JavaInteroperability/\" rel=\"nofollow noreferrer\">here</a>:</p>\n<blockquote>\n<p>To enable Java interoperability, the --jvm option has to be provided\nto the native launcher</p>\n</blockquote>\n"}],"owner":{"account_id":1526514,"reputation":2614,"user_id":1953537,"accept_rate":0,"display_name":"Melab"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":289,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1641301396,"creation_date":1640577624,"question_id":70491559,"body_markdown":"This is done with JavaScrupt interpreter shell of GraalVM CE 21.3.0.\r\n\r\nAttempting to access some Java class, such as `java.io.File` results in this error:\r\n\r\n    TypeError: Access to host class java.io.File is not allowed or does not exist.\r\n\r\nWhen running the shell without any options this much is needed to get the error:\r\n\r\n    new java.io.File()\r\n\r\nWhen running the shell with `--js.java-package-globals=false` only this much is required:\r\n\r\n    Java.type(&quot;java.io.File&quot;)\r\n\r\nHow do I fix this problem? If these features are supposed to be provided, then why aren&#39;t they working right out of the box?","title":"GraalVM JavaScript suffers from &quot;host access&quot; issues","body":"<p>This is done with JavaScrupt interpreter shell of GraalVM CE 21.3.0.</p>\n<p>Attempting to access some Java class, such as <code>java.io.File</code> results in this error:</p>\n<pre><code>TypeError: Access to host class java.io.File is not allowed or does not exist.\n</code></pre>\n<p>When running the shell without any options this much is needed to get the error:</p>\n<pre><code>new java.io.File()\n</code></pre>\n<p>When running the shell with <code>--js.java-package-globals=false</code> only this much is required:</p>\n<pre><code>Java.type(&quot;java.io.File&quot;)\n</code></pre>\n<p>How do I fix this problem? If these features are supposed to be provided, then why aren't they working right out of the box?</p>\n"},{"tags":["java","eclipse","java-ee-8"],"comments":[{"owner":{"account_id":348827,"reputation":509,"user_id":683755,"display_name":"Brian Fernandes"},"score":0,"creation_date":1641321451,"post_id":70579182,"comment_id":124773636,"body_markdown":"Louay, mind sharing what version of Eclipse you are using and what language / editor you are working in? Does it fail even for Java for instance? The shortcuts seemed to work fine when we tested them.","body":"Louay, mind sharing what version of Eclipse you are using and what language / editor you are working in? Does it fail even for Java for instance? The shortcuts seemed to work fine when we tested them."},{"owner":{"account_id":8071076,"reputation":1,"user_id":6083829,"display_name":"Louay Belgasmy"},"score":0,"creation_date":1641322565,"post_id":70579182,"comment_id":124774003,"body_markdown":"eclipse-jee-2019-09-R-win32-x86_64. Am using it for java coding. I just tried the folding shortcuts on an XML editor and to my surprise, it worked. I went back to the java class I was editing but it didn&#39;t work. Then I opened other java classes from another project and this time it worked. So when I reopened the actual class I was working on the shortcuts finally folded the code properly. I just want to mention that before today I tried the code folding shortcuts on all Eclipse editors and none of them worked. I suspect that the **codeMix** plugin made some kind of conflict in the IDE.","body":"eclipse-jee-2019-09-R-win32-x86_64. Am using it for java coding. I just tried the folding shortcuts on an XML editor and to my surprise, it worked. I went back to the java class I was editing but it didn&#39;t work. Then I opened other java classes from another project and this time it worked. So when I reopened the actual class I was working on the shortcuts finally folded the code properly. I just want to mention that before today I tried the code folding shortcuts on all Eclipse editors and none of them worked. I suspect that the <b>codeMix</b> plugin made some kind of conflict in the IDE."}],"owner":{"account_id":8071076,"reputation":1,"user_id":6083829,"display_name":"Louay Belgasmy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1641300943,"creation_date":1641300943,"question_id":70579182,"body_markdown":"I was trying to get better control over my code by using eclipse folding shortcuts. Trouble is none of the shortcuts that I found were working even though they are bound to collapse and expand code in the eclipse keys section. I have folding enabled and I also have codeMix plugin installed. Any help with this issue would be much appreciated. Thanks!\r\n[key shortcuts commands][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/nMeuT.png","title":"Why Eclipse folding shortcuts are not working?","body":"<p>I was trying to get better control over my code by using eclipse folding shortcuts. Trouble is none of the shortcuts that I found were working even though they are bound to collapse and expand code in the eclipse keys section. I have folding enabled and I also have codeMix plugin installed. Any help with this issue would be much appreciated. Thanks!\n<a href=\"https://i.stack.imgur.com/nMeuT.png\" rel=\"nofollow noreferrer\">key shortcuts commands</a></p>\n"},{"tags":["java","intellij-idea","discord-jda","purge","mainclass"],"comments":[{"owner":{"account_id":19962129,"reputation":379,"user_id":14629458,"display_name":"Yasser CHENIK"},"score":0,"creation_date":1641303699,"post_id":70579143,"comment_id":124766012,"body_markdown":"If you did sett up your bot  correctly and you see it in green in your discord server , AND ,you don&#39;t see any exceptions/errors , it means simply all the &quot;if&quot; statements are false . So I suggest you debug your code, and you will see every line executing step by step, I assume you are using IntelIJ because you tagged it , so you can do it with one click .","body":"If you did sett up your bot  correctly and you see it in green in your discord server , AND ,you don&#39;t see any exceptions/errors , it means simply all the &quot;if&quot; statements are false . So I suggest you debug your code, and you will see every line executing step by step, I assume you are using IntelIJ because you tagged it , so you can do it with one click ."},{"owner":{"account_id":23630803,"reputation":11,"user_id":17831795,"display_name":"n1ckool"},"score":0,"creation_date":1641304876,"post_id":70579143,"comment_id":124766544,"body_markdown":"yep! i did debug the whole code at once and there was no error, and yeah I I did setup my bot correctly in the developer portal \nTHe only thing I cant understand that when I run the command &quot;-purge 5&quot;, it just doesn&#39;t work for some reason","body":"yep! i did debug the whole code at once and there was no error, and yeah I I did setup my bot correctly in the developer portal  THe only thing I cant understand that when I run the command &quot;-purge 5&quot;, it just doesn&#39;t work for some reason"},{"owner":{"account_id":19962129,"reputation":379,"user_id":14629458,"display_name":"Yasser CHENIK"},"score":0,"creation_date":1641307187,"post_id":70579143,"comment_id":124767657,"body_markdown":"debug is not for finding errors , its just a fancy word of a &quot;tool&quot; that helps us fix some code that **already works** but not the way we want . if you want an example to see the important of debugging or just how to do it … [here is a video](https://youtu.be/-_tVIgImb5c?t=142)","body":"debug is not for finding errors , its just a fancy word of a &quot;tool&quot; that helps us fix some code that <b>already works</b> but not the way we want . if you want an example to see the important of debugging or just how to do it … <a href=\"https://youtu.be/-_tVIgImb5c?t=142\" rel=\"nofollow noreferrer\">here is a video</a>"}],"owner":{"account_id":23630803,"reputation":11,"user_id":17831795,"display_name":"n1ckool"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":241,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1641300764,"creation_date":1641300764,"question_id":70579143,"body_markdown":"I am recently into discord.JDA and have been learning and trying to code my bot.\r\nI wanted to ask something about it as I was making the purge/delete command with the help of some source codes and my knowledge.\r\nMy code does not give any error but my bot won&#39;t respond at all and also am using the latest version of JDA.\r\nI have also registered it in the main class.\r\nWould appreciate it if you could help me in any of the ways possible :D\r\n\r\nhere is my code:-\r\n\r\n```package MAIN;\r\n\r\nimport net.dv8tion.jda.api.EmbedBuilder;\r\nimport net.dv8tion.jda.api.entities.Message;\r\nimport net.dv8tion.jda.api.events.message.MessageReceivedEvent;\r\nimport net.dv8tion.jda.api.hooks.ListenerAdapter;\r\n\r\nimport javax.annotation.Nonnull;\r\nimport java.util.List;\r\nimport java.util.concurrent.TimeUnit;\r\n\r\npublic class ClearCommand extends ListenerAdapter {\r\n    public String prefix = &quot;-&quot;;\r\n\r\n    public void onMessageReceived(@Nonnull MessageReceivedEvent event) {\r\n        String[] args = event.getMessage().getContentRaw().split(&quot;\\\\s+&quot;);\r\n        if (args[0].equalsIgnoreCase(prefix + &quot;purge&quot;)) {\r\n            if (args.length &lt; 2) {\r\n                EmbedBuilder error1 = new EmbedBuilder();\r\n                error1.setColor(0x95142A);\r\n                error1.setTitle(&quot;❌ You must specify # of messages to delete!&quot;);\r\n                error1.setDescription(&quot;Usage: &quot; + prefix + &quot;purge [# of messages]&quot;);\r\n                event.getChannel().sendTyping().queue();\r\n                event.getChannel().sendMessage((CharSequence) error1.build()).queue(m -&gt; m.delete().queueAfter(3, TimeUnit.SECONDS));\r\n            } else if (Integer.parseInt(args[0]) &gt; 100 || Integer.parseInt(args[1]) &lt; 1) {\r\n                EmbedBuilder error2 = new EmbedBuilder();\r\n                error2.setColor(0x95142A);\r\n                error2.setTitle(&quot;❌ Only upto 100 messages can be deleted!&quot;);\r\n                error2.setDescription(&quot;Usage : &quot; + prefix + &quot;purge [1-100]&quot;);\r\n                event.getChannel().sendMessage((CharSequence) error2.build()).queue(m -&gt; m.delete().queueAfter(3, TimeUnit.SECONDS));\r\n            } else if (Integer.parseInt(args[0]) &lt; 100 &amp;&amp; Integer.parseInt(args[1]) &gt; 1) {\r\n                int values = Integer.parseInt(args[1]);\r\n                event.getMessage().delete();\r\n                List&lt;Message&gt; messages = event.getChannel().getHistory().retrievePast(values).complete();\r\n                event.getTextChannel().deleteMessages(messages).queue();\r\n                event.getChannel().sendMessage(&quot;✅ &quot; + args[1].toString() + &quot; messages deleted!&quot;).queue(m -&gt; m.delete().queueAfter(3, TimeUnit.SECONDS));\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Discord.JDA query","body":"<p>I am recently into discord.JDA and have been learning and trying to code my bot.\nI wanted to ask something about it as I was making the purge/delete command with the help of some source codes and my knowledge.\nMy code does not give any error but my bot won't respond at all and also am using the latest version of JDA.\nI have also registered it in the main class.\nWould appreciate it if you could help me in any of the ways possible :D</p>\n<p>here is my code:-</p>\n<pre><code>\nimport net.dv8tion.jda.api.EmbedBuilder;\nimport net.dv8tion.jda.api.entities.Message;\nimport net.dv8tion.jda.api.events.message.MessageReceivedEvent;\nimport net.dv8tion.jda.api.hooks.ListenerAdapter;\n\nimport javax.annotation.Nonnull;\nimport java.util.List;\nimport java.util.concurrent.TimeUnit;\n\npublic class ClearCommand extends ListenerAdapter {\n    public String prefix = &quot;-&quot;;\n\n    public void onMessageReceived(@Nonnull MessageReceivedEvent event) {\n        String[] args = event.getMessage().getContentRaw().split(&quot;\\\\s+&quot;);\n        if (args[0].equalsIgnoreCase(prefix + &quot;purge&quot;)) {\n            if (args.length &lt; 2) {\n                EmbedBuilder error1 = new EmbedBuilder();\n                error1.setColor(0x95142A);\n                error1.setTitle(&quot;❌ You must specify # of messages to delete!&quot;);\n                error1.setDescription(&quot;Usage: &quot; + prefix + &quot;purge [# of messages]&quot;);\n                event.getChannel().sendTyping().queue();\n                event.getChannel().sendMessage((CharSequence) error1.build()).queue(m -&gt; m.delete().queueAfter(3, TimeUnit.SECONDS));\n            } else if (Integer.parseInt(args[0]) &gt; 100 || Integer.parseInt(args[1]) &lt; 1) {\n                EmbedBuilder error2 = new EmbedBuilder();\n                error2.setColor(0x95142A);\n                error2.setTitle(&quot;❌ Only upto 100 messages can be deleted!&quot;);\n                error2.setDescription(&quot;Usage : &quot; + prefix + &quot;purge [1-100]&quot;);\n                event.getChannel().sendMessage((CharSequence) error2.build()).queue(m -&gt; m.delete().queueAfter(3, TimeUnit.SECONDS));\n            } else if (Integer.parseInt(args[0]) &lt; 100 &amp;&amp; Integer.parseInt(args[1]) &gt; 1) {\n                int values = Integer.parseInt(args[1]);\n                event.getMessage().delete();\n                List&lt;Message&gt; messages = event.getChannel().getHistory().retrievePast(values).complete();\n                event.getTextChannel().deleteMessages(messages).queue();\n                event.getChannel().sendMessage(&quot;✅ &quot; + args[1].toString() + &quot; messages deleted!&quot;).queue(m -&gt; m.delete().queueAfter(3, TimeUnit.SECONDS));\n            }\n        }\n    }\n}\n\n\n\n\n\n\n\n\n\n\n\n</code></pre>\n"},{"tags":["java","optaplanner"],"comments":[{"owner":{"account_id":9133364,"reputation":4450,"user_id":6794063,"display_name":"Luk&#225;š Petrovick&#253;"},"score":2,"creation_date":1640185353,"post_id":70450791,"comment_id":124536314,"body_markdown":"Let&#39;s start with the obvious - do you have enough memory? You are using 4 move threads, with AUTO parallel benchmarks. That will be quite a few threads, (16?) each with its own solution.","body":"Let&#39;s start with the obvious - do you have enough memory? You are using 4 move threads, with AUTO parallel benchmarks. That will be quite a few threads, (16?) each with its own solution."},{"owner":{"account_id":4777867,"reputation":360,"user_id":3860494,"accept_rate":60,"display_name":"Cromm"},"score":0,"creation_date":1640249075,"post_id":70450791,"comment_id":124551406,"body_markdown":"Configuration is the same as the one used for solving the exact same solution. (4 threads) As noted in the doc : &quot;The parallelBenchmarkCount is always limited to the number of available processors. If it&#39;s higher, it will be automatically decreased.&quot; Also in the doc : &quot;AUTO: Let Planner decide how many benchmarks to run in parallel. This formula is based on experience. It&#39;s recommended to prefer this over the other parallel enabling options. &quot; So I assumed it was safe to use those parameters. Maybe it is not?\nFinally, I&#39;m running this on a  i9-8950HK CPU @ 2.90GHz processor, with 32Go memory.","body":"Configuration is the same as the one used for solving the exact same solution. (4 threads) As noted in the doc : &quot;The parallelBenchmarkCount is always limited to the number of available processors. If it&#39;s higher, it will be automatically decreased.&quot; Also in the doc : &quot;AUTO: Let Planner decide how many benchmarks to run in parallel. This formula is based on experience. It&#39;s recommended to prefer this over the other parallel enabling options. &quot; So I assumed it was safe to use those parameters. Maybe it is not? Finally, I&#39;m running this on a  i9-8950HK CPU @ 2.90GHz processor, with 32Go memory."}],"answers":[{"tags":[],"owner":{"account_id":216698,"reputation":26495,"user_id":472109,"accept_rate":85,"display_name":"Geoffrey De Smet"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640292204,"creation_date":1640292204,"answer_id":70467194,"question_id":70450791,"body_markdown":"Increase memory, for example with VM option `-Xmx4g`\r\n\r\nAlso note that parallelBenchmarkCount AUTO currently doesn&#39;t take into account that moveThreadCount is not NONE. So your benchmarks will not be accurate, because if you have 16 cores, parallelBenchmarkCount AUTO will resolve to 8. With moveThreadCount 4 (+ 1 solver thread), you&#39;ll be using 32+ cores but only have 16 cores. This probably should be reported as an issue in optaplanner&#39;s jira for parallelBenchmarkCount AUTO.","title":"Optaplanner&#39;s benchmark warm up - OutOfMemory","body":"<p>Increase memory, for example with VM option <code>-Xmx4g</code></p>\n<p>Also note that parallelBenchmarkCount AUTO currently doesn't take into account that moveThreadCount is not NONE. So your benchmarks will not be accurate, because if you have 16 cores, parallelBenchmarkCount AUTO will resolve to 8. With moveThreadCount 4 (+ 1 solver thread), you'll be using 32+ cores but only have 16 cores. This probably should be reported as an issue in optaplanner's jira for parallelBenchmarkCount AUTO.</p>\n"},{"tags":[],"owner":{"account_id":216698,"reputation":26495,"user_id":472109,"accept_rate":85,"display_name":"Geoffrey De Smet"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1641224026,"creation_date":1641224026,"answer_id":70568037,"question_id":70450791,"body_markdown":"**`MoveListFactory` scales badly, consuming a lot of memory and cpu.**\r\n\r\nSome kind of moves have billions of possible moves. For example a 3 swap on 10000 shifts has 1 trillion moves. That doesn&#39;t fit into a few GB RAM and it takes ages to generate.\r\n\r\nUse a `MoveIteratorFactory` instead and don&#39;t generate a list of moves, but generate them **Just In Time**, just like the default selectors do. See docs.","title":"Optaplanner&#39;s benchmark warm up - OutOfMemory","body":"<p><strong><code>MoveListFactory</code> scales badly, consuming a lot of memory and cpu.</strong></p>\n<p>Some kind of moves have billions of possible moves. For example a 3 swap on 10000 shifts has 1 trillion moves. That doesn't fit into a few GB RAM and it takes ages to generate.</p>\n<p>Use a <code>MoveIteratorFactory</code> instead and don't generate a list of moves, but generate them <strong>Just In Time</strong>, just like the default selectors do. See docs.</p>\n"}],"owner":{"account_id":4777867,"reputation":360,"user_id":3860494,"accept_rate":60,"display_name":"Cromm"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70568037,"answer_count":2,"score":0,"last_activity_date":1641300655,"creation_date":1640184120,"question_id":70450791,"body_markdown":"While trying to test the solution&#39;s solvers using a benchmark configuration, I encounter the follow exception :\r\n\r\n```\r\n2021-12-22 15:24:37.328  WARN 22684 --- [    Test worker] c.o.b.i.D.singleBenchmarkRunnerException : The warm up singleBenchmarkRunner (Problem_0_Currently used_0) with random seed (null) failed.\r\n\r\njava.lang.OutOfMemoryError: Java heap space\r\n\r\n2021-12-22 15:24:37.329  WARN 22684 --- [    Test worker] c.o.b.i.D.singleBenchmarkRunnerException : The warm up singleBenchmarkRunner (Problem_0_Currently used_0) with random seed (null) failed.\r\n\r\njava.lang.OutOfMemoryError: Java heap space\r\n\r\n2021-12-22 15:24:37.330  WARN 22684 --- [    Test worker] c.o.b.i.D.singleBenchmarkRunnerException : The warm up singleBenchmarkRunner (Problem_0_Currently used_0) with random seed (null) failed.\r\n\r\njava.lang.OutOfMemoryError: Java heap space\r\n\tat java.base/java.lang.Long.valueOf(Long.java:1207)\r\n\tat myrostering.solver.PEC.LambdaExtractorEC9F24820AB70C5865CE63ED29F967E9.apply(LambdaExtractorEC9F24820AB70C5865CE63ED29F967E9.java:69)\r\n\tat myrostering.solver.PEC.LambdaExtractorEC9F24820AB70C5865CE63ED29F967E9.apply(LambdaExtractorEC9F24820AB70C5865CE63ED29F967E9.java:1)\r\n\tat org.drools.model.functions.Function1$Impl.apply(Function1.java:35)\r\n\tat org.drools.modelcompiler.constraints.LambdaReadAccessor.getValue(LambdaReadAccessor.java:42)\r\n\tat org.drools.core.rule.Declaration.getValue(Declaration.java:258)\r\n\tat org.drools.core.rule.Declaration.getValue(Declaration.java:253)\r\n\tat org.drools.modelcompiler.constraints.BindingEvaluator.getArgument(BindingEvaluator.java:59)\r\n\tat org.drools.modelcompiler.constraints.ConstraintEvaluator$InnerEvaluator.getArgument(ConstraintEvaluator.java:242)\r\n\tat org.drools.modelcompiler.constraints.ConstraintEvaluator$InnerEvaluator$_2.evaluate(ConstraintEvaluator.java:309)\r\n\tat org.drools.modelcompiler.constraints.ConstraintEvaluator.evaluate(ConstraintEvaluator.java:124)\r\n\tat org.drools.modelcompiler.constraints.LambdaConstraint.isAllowedCachedLeft(LambdaConstraint.java:187)\r\n\tat org.drools.core.common.SingleBetaConstraints.isAllowedCachedLeft(SingleBetaConstraints.java:132)\r\n\tat org.drools.core.phreak.PhreakAccumulateNode.doLeftInserts(PhreakAccumulateNode.java:178)\r\n\tat org.drools.core.phreak.PhreakAccumulateNode.doNode(PhreakAccumulateNode.java:89)\r\n\tat org.drools.core.phreak.RuleNetworkEvaluator.switchOnDoBetaNode(RuleNetworkEvaluator.java:591)\r\n\tat org.drools.core.phreak.RuleNetworkEvaluator.evalBetaNode(RuleNetworkEvaluator.java:558)\r\n\tat org.drools.core.phreak.RuleNetworkEvaluator.evalNode(RuleNetworkEvaluator.java:385)\r\n\tat org.drools.core.phreak.RuleNetworkEvaluator.innerEval(RuleNetworkEvaluator.java:345)\r\n\tat org.drools.core.phreak.RuleNetworkEvaluator.outerEval(RuleNetworkEvaluator.java:181)\r\n\tat org.drools.core.phreak.RuleNetworkEvaluator.evaluateNetwork(RuleNetworkEvaluator.java:139)\r\n\tat org.drools.core.phreak.RuleExecutor.reEvaluateNetwork(RuleExecutor.java:235)\r\n\tat org.drools.core.phreak.RuleExecutor.evaluateNetworkAndFire(RuleExecutor.java:91)\r\n\tat org.drools.core.concurrent.AbstractRuleEvaluator.internalEvaluateAndFire(AbstractRuleEvaluator.java:33)\r\n\tat org.drools.core.concurrent.SequentialRuleEvaluator.evaluateAndFire(SequentialRuleEvaluator.java:43)\r\n\tat org.drools.core.common.DefaultAgenda.fireLoop(DefaultAgenda.java:753)\r\n\tat org.drools.core.common.DefaultAgenda.internalFireAllRules(DefaultAgenda.java:700)\r\n\tat org.drools.core.common.DefaultAgenda.fireAllRules(DefaultAgenda.java:692)\r\n\tat org.drools.core.impl.StatefulKnowledgeSessionImpl.internalFireAllRules(StatefulKnowledgeSessionImpl.java:1225)\r\n\tat org.drools.core.impl.StatefulKnowledgeSessionImpl.fireAllRules(StatefulKnowledgeSessionImpl.java:1216)\r\n\tat org.drools.core.impl.StatefulKnowledgeSessionImpl.fireAllRules(StatefulKnowledgeSessionImpl.java:1200)\r\n\tat org.optaplanner.core.impl.score.director.drools.DroolsScoreDirector.calculateScore(DroolsScoreDirector.java:105)\r\n```\r\n\r\nHere is the test class I ran:\r\n\r\n```\r\n@SpringBootTest(classes = MyApplication.class)\r\n@EnableConfigurationProperties({ApplicationProperties.class, MyRosterProperties.class})\r\npublic class SolverBenchmarkTest {\r\n\r\n    private PlannerBenchmarkFactory benchmarkFactory = PlannerBenchmarkFactory.createFromXmlResource(\r\n            &quot;myrostering/benchmark/benchmarkSolverConfig.xml&quot;);\r\n\r\n    @Autowired\r\n    MyRosterGenerator myRosterGenerator;\r\n\r\n    @Test\r\n    public void benchmarkBasicRostering() {\r\n        MyRoster mr = myRosterGenerator.createMyRoster();\r\n        PlannerBenchmark benchmark = benchmarkFactory.buildPlannerBenchmark(mr);\r\n        benchmark.benchmarkAndShowReportInBrowser();    \r\n    }\r\n\r\n}\r\n```\r\n\r\nHere is the benchmark configuration file :\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;plannerBenchmark xmlns=&quot;https://www.optaplanner.org/xsd/benchmark&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n                  xsi:schemaLocation=&quot;https://www.optaplanner.org/xsd/benchmark https://www.optaplanner.org/xsd/benchmark/benchmark.xsd&quot;&gt;\r\n\r\n    &lt;benchmarkDirectory&gt;local/benchmark/data/my-roster&lt;/benchmarkDirectory&gt;\r\n    &lt;parallelBenchmarkCount&gt;AUTO&lt;/parallelBenchmarkCount&gt;\r\n    &lt;warmUpSecondsSpentLimit&gt;30&lt;/warmUpSecondsSpentLimit&gt;\r\n\r\n    &lt;inheritedSolverBenchmark&gt;\r\n        &lt;solver&gt;\r\n            &lt;!-- This part of the solver configuration must be the same as the one used by the planner, otherwise, the benchmark test is pointless --&gt;\r\n            &lt;moveThreadCount&gt;4&lt;/moveThreadCount&gt;\r\n            &lt;solutionClass&gt;myrostering.domain.MyRoster&lt;/solutionClass&gt;\r\n            &lt;entityClass&gt;myrostering.domain.Assignment&lt;/entityClass&gt;\r\n            &lt;scoreDirectorFactory&gt;\r\n                &lt;scoreDrl&gt;myrostering/solver/myRosteringScoreRules.drl&lt;/scoreDrl&gt;\r\n            &lt;/scoreDirectorFactory&gt;\r\n            &lt;termination&gt;\r\n                &lt;!-- Adding this secondsSpentLimit (contrary to no limit set for the planner) to avoid the benchmark running for too long --&gt;\r\n                &lt;secondsSpentLimit&gt;60&lt;/secondsSpentLimit&gt;\r\n                &lt;bestScoreLimit&gt;0hard/0medium/0soft&lt;/bestScoreLimit&gt;\r\n            &lt;/termination&gt;\r\n            &lt;constructionHeuristic&gt;\r\n                &lt;constructionHeuristicType&gt;STRONGEST_FIT&lt;/constructionHeuristicType&gt;\r\n            &lt;/constructionHeuristic&gt;\r\n        &lt;/solver&gt;\r\n    &lt;/inheritedSolverBenchmark&gt;\r\n\r\n    &lt;solverBenchmark&gt;\r\n        &lt;name&gt;Currently used&lt;/name&gt;\r\n        &lt;solver&gt;\r\n            &lt;localSearch&gt;\r\n                &lt;unionMoveSelector&gt;\r\n                    &lt;moveListFactory&gt;\r\n                        &lt;cacheType&gt;PHASE&lt;/cacheType&gt;\r\n                        &lt;moveListFactoryClass&gt;\r\n                            myrostering.solver.move.factory.ChangeMoveFactory\r\n                        &lt;/moveListFactoryClass&gt;\r\n                    &lt;/moveListFactory&gt;\r\n                    &lt;moveListFactory&gt;\r\n                        &lt;cacheType&gt;PHASE&lt;/cacheType&gt;\r\n                        &lt;moveListFactoryClass&gt;\r\n                            myrostering.solver.move.factory.SwapMoveFactory\r\n                        &lt;/moveListFactoryClass&gt;\r\n                    &lt;/moveListFactory&gt;\r\n                &lt;/unionMoveSelector&gt;\r\n                &lt;acceptor&gt;\r\n                    &lt;entityTabuSize&gt;5&lt;/entityTabuSize&gt;\r\n                    &lt;simulatedAnnealingStartingTemperature&gt;15000hard/10medium/1000soft&lt;/simulatedAnnealingStartingTemperature&gt;\r\n                &lt;/acceptor&gt;\r\n                &lt;forager&gt;\r\n                    &lt;acceptedCountLimit&gt;4&lt;/acceptedCountLimit&gt;\r\n                &lt;/forager&gt;\r\n            &lt;/localSearch&gt;\r\n        &lt;/solver&gt;\r\n    &lt;/solverBenchmark&gt;\r\n&lt;/plannerBenchmark&gt;\r\n\r\n```\r\n\r\nAlso, I&#39;d like to add that we run the solver.solve() without an issue - even if the dataset is quite large (150 to 300 Mo for the file containing the solution when serialized). So I&#39;m a bit surprised when the benchmark fails on warm up...\r\n\r\nEDIT:  \r\n\r\nI&#39;ve changed the configuration for these two parameters :\r\n\r\n```\r\n&lt;parallelBenchmarkCount&gt;1&lt;/parallelBenchmarkCount&gt;\r\n...\r\n&lt;secondsSpentLimit&gt;600&lt;/secondsSpentLimit&gt;\r\n``` \r\n\r\nBut I still got the following exception : \r\n\r\n```\r\n2022-01-03 10:53:49.850  INFO 21696 --- [nchmarkThread-1] o.d.c.kie.builder.impl.KieContainerImpl  : Start creation of KieBase: defaultKieBase\r\n2022-01-03 10:53:49.909  INFO 21696 --- [nchmarkThread-1] o.d.c.kie.builder.impl.KieContainerImpl  : End creation of KieBase: defaultKieBase\r\n2022-01-03 10:54:32.585  INFO 21696 --- [nchmarkThread-1] o.o.core.impl.solver.DefaultSolver       : Solving started: time spent (41506), best score (-38295462hard/38260medium/3640soft), environment mode (REPRODUCIBLE), move thread count (4), random (JDK with seed 0).\r\n2022-01-03 10:54:33.611 ERROR 21696 --- [nchmarkThread-1] o.o.core.impl.solver.thread.ThreadUtils  : Multithreaded Local Search&#39;s ExecutorService didn&#39;t terminate within timeout (1 seconds).\r\n2022-01-03 10:54:33.611  INFO 21696 --- [nchmarkThread-1] o.o.c.i.h.thread.MoveThreadRunner        : Score calculation speed will be too low because move thread (0)&#39;s destroy wasn&#39;t processed soon enough.\r\n2022-01-03 10:54:33.611  INFO 21696 --- [nchmarkThread-1] o.o.c.i.h.thread.MoveThreadRunner        : Score calculation speed will be too low because move thread (1)&#39;s destroy wasn&#39;t processed soon enough.\r\n2022-01-03 10:54:33.611  INFO 21696 --- [nchmarkThread-1] o.o.c.i.h.thread.MoveThreadRunner        : Score calculation speed will be too low because move thread (2)&#39;s destroy wasn&#39;t processed soon enough.\r\n2022-01-03 10:54:33.611  INFO 21696 --- [nchmarkThread-1] o.o.c.i.h.thread.MoveThreadRunner        : Score calculation speed will be too low because move thread (3)&#39;s destroy wasn&#39;t processed soon enough.\r\n2022-01-03 10:54:33.612  INFO 21696 --- [nchmarkThread-1] .c.i.c.DefaultConstructionHeuristicPhase : Construction Heuristic phase (0) ended: time spent (42533), best score (-38295462hard/38260medium/3640soft), score calculation speed (0/sec), step total (0).\r\n2022-01-03 10:56:00.115  WARN 21696 --- [    Test worker] c.o.b.i.D.singleBenchmarkRunnerException : The subSingleBenchmarkRunner (Problem_0_Currently used_0) with random seed (null) failed.\r\n\r\njava.lang.OutOfMemoryError: Java heap space\r\n\tat java.base/java.util.Arrays.copyOf(Arrays.java:3480)\r\n\tat java.base/java.util.ArrayList.grow(ArrayList.java:237)\r\n\tat java.base/java.util.ArrayList.grow(ArrayList.java:244)\r\n\tat java.base/java.util.ArrayList.add(ArrayList.java:454)\r\n\tat java.base/java.util.ArrayList.add(ArrayList.java:467)\r\n\tat be.myrostering.solver.move.factory.MySwapMoveFactory.createMoveList(MySwapMoveFactory.java:50)\r\n\tat be.myrostering.solver.move.factory.MySwapMoveFactory.createMoveList(MySwapMoveFactory.java:30)\r\n\tat org.optaplanner.core.impl.heuristic.selector.move.factory.MoveListFactoryToMoveSelectorBridge.constructCache(MoveListFactoryToMoveSelectorBridge.java:72)\r\n\tat org.optaplanner.core.impl.heuristic.selector.common.SelectionCacheLifecycleBridge.phaseStarted(SelectionCacheLifecycleBridge.java:51)\r\n\tat org.optaplanner.core.impl.phase.event.PhaseLifecycleSupport.firePhaseStarted(PhaseLifecycleSupport.java:37)\r\n\tat org.optaplanner.core.impl.heuristic.selector.AbstractSelector.phaseStarted(AbstractSelector.java:50)\r\n\tat org.optaplanner.core.impl.phase.event.PhaseLifecycleSupport.firePhaseStarted(PhaseLifecycleSupport.java:37)\r\n\tat org.optaplanner.core.impl.heuristic.selector.AbstractSelector.phaseStarted(AbstractSelector.java:50)\r\n\tat org.optaplanner.core.impl.localsearch.decider.LocalSearchDecider.phaseStarted(LocalSearchDecider.java:94)\r\n\tat org.optaplanner.core.impl.localsearch.decider.MultiThreadedLocalSearchDecider.phaseStarted(MultiThreadedLocalSearchDecider.java:92)\r\n\tat org.optaplanner.core.impl.localsearch.DefaultLocalSearchPhase.phaseStarted(DefaultLocalSearchPhase.java:141)\r\n\tat org.optaplanner.core.impl.localsearch.DefaultLocalSearchPhase.solve(DefaultLocalSearchPhase.java:82)\r\n\tat org.optaplanner.core.impl.solver.AbstractSolver.runPhases(AbstractSolver.java:99)\r\n\tat org.optaplanner.core.impl.solver.DefaultSolver.solve(DefaultSolver.java:192)\r\n\tat org.optaplanner.benchmark.impl.SubSingleBenchmarkRunner.call(SubSingleBenchmarkRunner.java:122)\r\n\tat org.optaplanner.benchmark.impl.SubSingleBenchmarkRunner.call(SubSingleBenchmarkRunner.java:42)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630)\r\n\tat java.base/java.lang.Thread.run(Thread.java:832)\r\n\r\n2022-01-03 10:56:00.603  INFO 21696 --- [    Test worker] o.o.b.impl.report.BenchmarkReport        : Generating benchmark report...\r\n\r\nVERSION_2_3_31\r\njava.lang.NoSuchFieldError: VERSION_2_3_31\r\n\tat org.optaplanner.benchmark.impl.report.BenchmarkReport.writeHtmlOverviewFile(BenchmarkReport.java:828)\r\n\tat org.optaplanner.benchmark.impl.report.BenchmarkReport.writeReport(BenchmarkReport.java:318)\r\n\tat org.optaplanner.benchmark.impl.DefaultPlannerBenchmark.benchmarkingEnded(DefaultPlannerBenchmark.java:311)\r\n\tat org.optaplanner.benchmark.impl.DefaultPlannerBenchmark.benchmark(DefaultPlannerBenchmark.java:100)\r\n\tat org.optaplanner.benchmark.impl.DefaultPlannerBenchmark.benchmarkAndShowReportInBrowser(DefaultPlannerBenchmark.java:424)\r\n```\r\n\r\nOn a final note, it appears that the problem might not be linked to Optaplanner (because the out-of-memory is triggered in MySwapMoveFactory) - if so, I&#39;ll close this post. But it would be still odd that it works when running the solver but not the benchmark...","title":"Optaplanner&#39;s benchmark warm up - OutOfMemory","body":"<p>While trying to test the solution's solvers using a benchmark configuration, I encounter the follow exception :</p>\n<pre><code>2021-12-22 15:24:37.328  WARN 22684 --- [    Test worker] c.o.b.i.D.singleBenchmarkRunnerException : The warm up singleBenchmarkRunner (Problem_0_Currently used_0) with random seed (null) failed.\n\njava.lang.OutOfMemoryError: Java heap space\n\n2021-12-22 15:24:37.329  WARN 22684 --- [    Test worker] c.o.b.i.D.singleBenchmarkRunnerException : The warm up singleBenchmarkRunner (Problem_0_Currently used_0) with random seed (null) failed.\n\njava.lang.OutOfMemoryError: Java heap space\n\n2021-12-22 15:24:37.330  WARN 22684 --- [    Test worker] c.o.b.i.D.singleBenchmarkRunnerException : The warm up singleBenchmarkRunner (Problem_0_Currently used_0) with random seed (null) failed.\n\njava.lang.OutOfMemoryError: Java heap space\n    at java.base/java.lang.Long.valueOf(Long.java:1207)\n    at myrostering.solver.PEC.LambdaExtractorEC9F24820AB70C5865CE63ED29F967E9.apply(LambdaExtractorEC9F24820AB70C5865CE63ED29F967E9.java:69)\n    at myrostering.solver.PEC.LambdaExtractorEC9F24820AB70C5865CE63ED29F967E9.apply(LambdaExtractorEC9F24820AB70C5865CE63ED29F967E9.java:1)\n    at org.drools.model.functions.Function1$Impl.apply(Function1.java:35)\n    at org.drools.modelcompiler.constraints.LambdaReadAccessor.getValue(LambdaReadAccessor.java:42)\n    at org.drools.core.rule.Declaration.getValue(Declaration.java:258)\n    at org.drools.core.rule.Declaration.getValue(Declaration.java:253)\n    at org.drools.modelcompiler.constraints.BindingEvaluator.getArgument(BindingEvaluator.java:59)\n    at org.drools.modelcompiler.constraints.ConstraintEvaluator$InnerEvaluator.getArgument(ConstraintEvaluator.java:242)\n    at org.drools.modelcompiler.constraints.ConstraintEvaluator$InnerEvaluator$_2.evaluate(ConstraintEvaluator.java:309)\n    at org.drools.modelcompiler.constraints.ConstraintEvaluator.evaluate(ConstraintEvaluator.java:124)\n    at org.drools.modelcompiler.constraints.LambdaConstraint.isAllowedCachedLeft(LambdaConstraint.java:187)\n    at org.drools.core.common.SingleBetaConstraints.isAllowedCachedLeft(SingleBetaConstraints.java:132)\n    at org.drools.core.phreak.PhreakAccumulateNode.doLeftInserts(PhreakAccumulateNode.java:178)\n    at org.drools.core.phreak.PhreakAccumulateNode.doNode(PhreakAccumulateNode.java:89)\n    at org.drools.core.phreak.RuleNetworkEvaluator.switchOnDoBetaNode(RuleNetworkEvaluator.java:591)\n    at org.drools.core.phreak.RuleNetworkEvaluator.evalBetaNode(RuleNetworkEvaluator.java:558)\n    at org.drools.core.phreak.RuleNetworkEvaluator.evalNode(RuleNetworkEvaluator.java:385)\n    at org.drools.core.phreak.RuleNetworkEvaluator.innerEval(RuleNetworkEvaluator.java:345)\n    at org.drools.core.phreak.RuleNetworkEvaluator.outerEval(RuleNetworkEvaluator.java:181)\n    at org.drools.core.phreak.RuleNetworkEvaluator.evaluateNetwork(RuleNetworkEvaluator.java:139)\n    at org.drools.core.phreak.RuleExecutor.reEvaluateNetwork(RuleExecutor.java:235)\n    at org.drools.core.phreak.RuleExecutor.evaluateNetworkAndFire(RuleExecutor.java:91)\n    at org.drools.core.concurrent.AbstractRuleEvaluator.internalEvaluateAndFire(AbstractRuleEvaluator.java:33)\n    at org.drools.core.concurrent.SequentialRuleEvaluator.evaluateAndFire(SequentialRuleEvaluator.java:43)\n    at org.drools.core.common.DefaultAgenda.fireLoop(DefaultAgenda.java:753)\n    at org.drools.core.common.DefaultAgenda.internalFireAllRules(DefaultAgenda.java:700)\n    at org.drools.core.common.DefaultAgenda.fireAllRules(DefaultAgenda.java:692)\n    at org.drools.core.impl.StatefulKnowledgeSessionImpl.internalFireAllRules(StatefulKnowledgeSessionImpl.java:1225)\n    at org.drools.core.impl.StatefulKnowledgeSessionImpl.fireAllRules(StatefulKnowledgeSessionImpl.java:1216)\n    at org.drools.core.impl.StatefulKnowledgeSessionImpl.fireAllRules(StatefulKnowledgeSessionImpl.java:1200)\n    at org.optaplanner.core.impl.score.director.drools.DroolsScoreDirector.calculateScore(DroolsScoreDirector.java:105)\n</code></pre>\n<p>Here is the test class I ran:</p>\n<pre><code>@SpringBootTest(classes = MyApplication.class)\n@EnableConfigurationProperties({ApplicationProperties.class, MyRosterProperties.class})\npublic class SolverBenchmarkTest {\n\n    private PlannerBenchmarkFactory benchmarkFactory = PlannerBenchmarkFactory.createFromXmlResource(\n            &quot;myrostering/benchmark/benchmarkSolverConfig.xml&quot;);\n\n    @Autowired\n    MyRosterGenerator myRosterGenerator;\n\n    @Test\n    public void benchmarkBasicRostering() {\n        MyRoster mr = myRosterGenerator.createMyRoster();\n        PlannerBenchmark benchmark = benchmarkFactory.buildPlannerBenchmark(mr);\n        benchmark.benchmarkAndShowReportInBrowser();    \n    }\n\n}\n</code></pre>\n<p>Here is the benchmark configuration file :</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;plannerBenchmark xmlns=&quot;https://www.optaplanner.org/xsd/benchmark&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n                  xsi:schemaLocation=&quot;https://www.optaplanner.org/xsd/benchmark https://www.optaplanner.org/xsd/benchmark/benchmark.xsd&quot;&gt;\n\n    &lt;benchmarkDirectory&gt;local/benchmark/data/my-roster&lt;/benchmarkDirectory&gt;\n    &lt;parallelBenchmarkCount&gt;AUTO&lt;/parallelBenchmarkCount&gt;\n    &lt;warmUpSecondsSpentLimit&gt;30&lt;/warmUpSecondsSpentLimit&gt;\n\n    &lt;inheritedSolverBenchmark&gt;\n        &lt;solver&gt;\n            &lt;!-- This part of the solver configuration must be the same as the one used by the planner, otherwise, the benchmark test is pointless --&gt;\n            &lt;moveThreadCount&gt;4&lt;/moveThreadCount&gt;\n            &lt;solutionClass&gt;myrostering.domain.MyRoster&lt;/solutionClass&gt;\n            &lt;entityClass&gt;myrostering.domain.Assignment&lt;/entityClass&gt;\n            &lt;scoreDirectorFactory&gt;\n                &lt;scoreDrl&gt;myrostering/solver/myRosteringScoreRules.drl&lt;/scoreDrl&gt;\n            &lt;/scoreDirectorFactory&gt;\n            &lt;termination&gt;\n                &lt;!-- Adding this secondsSpentLimit (contrary to no limit set for the planner) to avoid the benchmark running for too long --&gt;\n                &lt;secondsSpentLimit&gt;60&lt;/secondsSpentLimit&gt;\n                &lt;bestScoreLimit&gt;0hard/0medium/0soft&lt;/bestScoreLimit&gt;\n            &lt;/termination&gt;\n            &lt;constructionHeuristic&gt;\n                &lt;constructionHeuristicType&gt;STRONGEST_FIT&lt;/constructionHeuristicType&gt;\n            &lt;/constructionHeuristic&gt;\n        &lt;/solver&gt;\n    &lt;/inheritedSolverBenchmark&gt;\n\n    &lt;solverBenchmark&gt;\n        &lt;name&gt;Currently used&lt;/name&gt;\n        &lt;solver&gt;\n            &lt;localSearch&gt;\n                &lt;unionMoveSelector&gt;\n                    &lt;moveListFactory&gt;\n                        &lt;cacheType&gt;PHASE&lt;/cacheType&gt;\n                        &lt;moveListFactoryClass&gt;\n                            myrostering.solver.move.factory.ChangeMoveFactory\n                        &lt;/moveListFactoryClass&gt;\n                    &lt;/moveListFactory&gt;\n                    &lt;moveListFactory&gt;\n                        &lt;cacheType&gt;PHASE&lt;/cacheType&gt;\n                        &lt;moveListFactoryClass&gt;\n                            myrostering.solver.move.factory.SwapMoveFactory\n                        &lt;/moveListFactoryClass&gt;\n                    &lt;/moveListFactory&gt;\n                &lt;/unionMoveSelector&gt;\n                &lt;acceptor&gt;\n                    &lt;entityTabuSize&gt;5&lt;/entityTabuSize&gt;\n                    &lt;simulatedAnnealingStartingTemperature&gt;15000hard/10medium/1000soft&lt;/simulatedAnnealingStartingTemperature&gt;\n                &lt;/acceptor&gt;\n                &lt;forager&gt;\n                    &lt;acceptedCountLimit&gt;4&lt;/acceptedCountLimit&gt;\n                &lt;/forager&gt;\n            &lt;/localSearch&gt;\n        &lt;/solver&gt;\n    &lt;/solverBenchmark&gt;\n&lt;/plannerBenchmark&gt;\n\n</code></pre>\n<p>Also, I'd like to add that we run the solver.solve() without an issue - even if the dataset is quite large (150 to 300 Mo for the file containing the solution when serialized). So I'm a bit surprised when the benchmark fails on warm up...</p>\n<p>EDIT:</p>\n<p>I've changed the configuration for these two parameters :</p>\n<pre><code>&lt;parallelBenchmarkCount&gt;1&lt;/parallelBenchmarkCount&gt;\n...\n&lt;secondsSpentLimit&gt;600&lt;/secondsSpentLimit&gt;\n</code></pre>\n<p>But I still got the following exception :</p>\n<pre><code>2022-01-03 10:53:49.850  INFO 21696 --- [nchmarkThread-1] o.d.c.kie.builder.impl.KieContainerImpl  : Start creation of KieBase: defaultKieBase\n2022-01-03 10:53:49.909  INFO 21696 --- [nchmarkThread-1] o.d.c.kie.builder.impl.KieContainerImpl  : End creation of KieBase: defaultKieBase\n2022-01-03 10:54:32.585  INFO 21696 --- [nchmarkThread-1] o.o.core.impl.solver.DefaultSolver       : Solving started: time spent (41506), best score (-38295462hard/38260medium/3640soft), environment mode (REPRODUCIBLE), move thread count (4), random (JDK with seed 0).\n2022-01-03 10:54:33.611 ERROR 21696 --- [nchmarkThread-1] o.o.core.impl.solver.thread.ThreadUtils  : Multithreaded Local Search's ExecutorService didn't terminate within timeout (1 seconds).\n2022-01-03 10:54:33.611  INFO 21696 --- [nchmarkThread-1] o.o.c.i.h.thread.MoveThreadRunner        : Score calculation speed will be too low because move thread (0)'s destroy wasn't processed soon enough.\n2022-01-03 10:54:33.611  INFO 21696 --- [nchmarkThread-1] o.o.c.i.h.thread.MoveThreadRunner        : Score calculation speed will be too low because move thread (1)'s destroy wasn't processed soon enough.\n2022-01-03 10:54:33.611  INFO 21696 --- [nchmarkThread-1] o.o.c.i.h.thread.MoveThreadRunner        : Score calculation speed will be too low because move thread (2)'s destroy wasn't processed soon enough.\n2022-01-03 10:54:33.611  INFO 21696 --- [nchmarkThread-1] o.o.c.i.h.thread.MoveThreadRunner        : Score calculation speed will be too low because move thread (3)'s destroy wasn't processed soon enough.\n2022-01-03 10:54:33.612  INFO 21696 --- [nchmarkThread-1] .c.i.c.DefaultConstructionHeuristicPhase : Construction Heuristic phase (0) ended: time spent (42533), best score (-38295462hard/38260medium/3640soft), score calculation speed (0/sec), step total (0).\n2022-01-03 10:56:00.115  WARN 21696 --- [    Test worker] c.o.b.i.D.singleBenchmarkRunnerException : The subSingleBenchmarkRunner (Problem_0_Currently used_0) with random seed (null) failed.\n\njava.lang.OutOfMemoryError: Java heap space\n    at java.base/java.util.Arrays.copyOf(Arrays.java:3480)\n    at java.base/java.util.ArrayList.grow(ArrayList.java:237)\n    at java.base/java.util.ArrayList.grow(ArrayList.java:244)\n    at java.base/java.util.ArrayList.add(ArrayList.java:454)\n    at java.base/java.util.ArrayList.add(ArrayList.java:467)\n    at be.myrostering.solver.move.factory.MySwapMoveFactory.createMoveList(MySwapMoveFactory.java:50)\n    at be.myrostering.solver.move.factory.MySwapMoveFactory.createMoveList(MySwapMoveFactory.java:30)\n    at org.optaplanner.core.impl.heuristic.selector.move.factory.MoveListFactoryToMoveSelectorBridge.constructCache(MoveListFactoryToMoveSelectorBridge.java:72)\n    at org.optaplanner.core.impl.heuristic.selector.common.SelectionCacheLifecycleBridge.phaseStarted(SelectionCacheLifecycleBridge.java:51)\n    at org.optaplanner.core.impl.phase.event.PhaseLifecycleSupport.firePhaseStarted(PhaseLifecycleSupport.java:37)\n    at org.optaplanner.core.impl.heuristic.selector.AbstractSelector.phaseStarted(AbstractSelector.java:50)\n    at org.optaplanner.core.impl.phase.event.PhaseLifecycleSupport.firePhaseStarted(PhaseLifecycleSupport.java:37)\n    at org.optaplanner.core.impl.heuristic.selector.AbstractSelector.phaseStarted(AbstractSelector.java:50)\n    at org.optaplanner.core.impl.localsearch.decider.LocalSearchDecider.phaseStarted(LocalSearchDecider.java:94)\n    at org.optaplanner.core.impl.localsearch.decider.MultiThreadedLocalSearchDecider.phaseStarted(MultiThreadedLocalSearchDecider.java:92)\n    at org.optaplanner.core.impl.localsearch.DefaultLocalSearchPhase.phaseStarted(DefaultLocalSearchPhase.java:141)\n    at org.optaplanner.core.impl.localsearch.DefaultLocalSearchPhase.solve(DefaultLocalSearchPhase.java:82)\n    at org.optaplanner.core.impl.solver.AbstractSolver.runPhases(AbstractSolver.java:99)\n    at org.optaplanner.core.impl.solver.DefaultSolver.solve(DefaultSolver.java:192)\n    at org.optaplanner.benchmark.impl.SubSingleBenchmarkRunner.call(SubSingleBenchmarkRunner.java:122)\n    at org.optaplanner.benchmark.impl.SubSingleBenchmarkRunner.call(SubSingleBenchmarkRunner.java:42)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630)\n    at java.base/java.lang.Thread.run(Thread.java:832)\n\n2022-01-03 10:56:00.603  INFO 21696 --- [    Test worker] o.o.b.impl.report.BenchmarkReport        : Generating benchmark report...\n\nVERSION_2_3_31\njava.lang.NoSuchFieldError: VERSION_2_3_31\n    at org.optaplanner.benchmark.impl.report.BenchmarkReport.writeHtmlOverviewFile(BenchmarkReport.java:828)\n    at org.optaplanner.benchmark.impl.report.BenchmarkReport.writeReport(BenchmarkReport.java:318)\n    at org.optaplanner.benchmark.impl.DefaultPlannerBenchmark.benchmarkingEnded(DefaultPlannerBenchmark.java:311)\n    at org.optaplanner.benchmark.impl.DefaultPlannerBenchmark.benchmark(DefaultPlannerBenchmark.java:100)\n    at org.optaplanner.benchmark.impl.DefaultPlannerBenchmark.benchmarkAndShowReportInBrowser(DefaultPlannerBenchmark.java:424)\n</code></pre>\n<p>On a final note, it appears that the problem might not be linked to Optaplanner (because the out-of-memory is triggered in MySwapMoveFactory) - if so, I'll close this post. But it would be still odd that it works when running the solver but not the benchmark...</p>\n"},{"tags":["java","android","authentication","sharedpreferences"],"comments":[{"owner":{"account_id":22616962,"reputation":3155,"user_id":16796366,"display_name":"Nitish"},"score":0,"creation_date":1641293271,"post_id":70577489,"comment_id":124761938,"body_markdown":"[Attach a debugger](https://developer.android.com/studio/debug) while saving and getting values to see what values are actually saving in shared prefences","body":"<a href=\"https://developer.android.com/studio/debug\" rel=\"nofollow noreferrer\">Attach a debugger</a> while saving and getting values to see what values are actually saving in shared prefences"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1641906614,"post_id":70577489,"comment_id":124925278,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":23823633,"reputation":51,"user_id":17830998,"display_name":"Umut Can"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641300050,"creation_date":1641300050,"answer_id":70578966,"question_id":70577489,"body_markdown":"firstly you can use mEditor.commit() once I think you should change this.\r\n \r\nAnd the other one, maybe your strings.xml file is faulty, you can try change these : \r\n\r\ngetString(R.string.name) -&gt; &quot;name&quot;\r\n        \r\ngetString(R.string.password) -&gt; &quot;pw&quot;\r\n\r\n","title":"SharedPreferences() Method: Password Appears as the Email/Username, as Well","body":"<p>firstly you can use mEditor.commit() once I think you should change this.</p>\n<p>And the other one, maybe your strings.xml file is faulty, you can try change these :</p>\n<p>getString(R.string.name) -&gt; &quot;name&quot;</p>\n<p>getString(R.string.password) -&gt; &quot;pw&quot;</p>\n"}],"owner":{"account_id":23813600,"reputation":1,"user_id":17822131,"display_name":"Michael S."},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1641300050,"creation_date":1641292839,"question_id":70577489,"body_markdown":"In Android, I used the SharedPreferences() method in my login activity. However, the password appears in both fields (password - and username/email). For example, when I ran the activity in an emulator - I inputted an email (ABC@GMAIL.COM) and a password (ABC123); when I exited and re-entered the activity (through the emulator), what has been saved is the password (email: ABC123; password: ABC123). \r\n\r\n\r\nThe code:\r\n```package com.example.tomatotime;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.content.Intent;\r\nimport android.content.SharedPreferences;\r\nimport android.os.Bundle;\r\nimport android.preference.PreferenceManager;\r\nimport android.util.Log;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.Toast;\r\n\r\nimport com.google.android.gms.tasks.OnCompleteListener;\r\nimport com.google.android.gms.tasks.Task;\r\nimport com.google.firebase.auth.AuthResult;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.auth.FirebaseUser;\r\n\r\npublic class Login extends AppCompatActivity {\r\n    EditText username;\r\n    EditText etPassword;\r\n    Button loginBtn;\r\n    Button registerBtn;\r\n    private SharedPreferences mPreferences;\r\n    private SharedPreferences.Editor mEditor;\r\n    private static String TAG = &quot;Michael&#39;s Tracking --&gt; &quot;;\r\n    private FirebaseAuth mAuth;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_login);\r\n\r\n        Log.d(TAG, &quot;Start onCreate&quot;);\r\n\r\n        username = findViewById(R.id.username);\r\n        etPassword = findViewById(R.id.etPassword);\r\n        loginBtn = findViewById(R.id.registerBtn);\r\n        registerBtn = findViewById(R.id.toLoginBtn);\r\n\r\n        mPreferences = PreferenceManager.getDefaultSharedPreferences(this);\r\n        mEditor = mPreferences.edit();\r\n\r\n        mAuth = FirebaseAuth.getInstance();\r\n\r\n        super.onStart();\r\n        // Check if user is signed in (non-null) and update UI accordingly.\r\n        FirebaseUser currentUser = mAuth.getCurrentUser();\r\n        if(currentUser != null){\r\n            currentUser.reload();\r\n        }\r\n\r\n        loginBtn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n\r\n                String email = username.getText().toString();\r\n                String pass = etPassword.getText().toString();\r\n\r\n                String stName = email;\r\n                mEditor.putString(getString(R.string.name), stName);\r\n                mEditor.commit();\r\n\r\n                String stPassword = pass;\r\n                mEditor.putString(getString(R.string.password), stPassword);\r\n                mEditor.commit();\r\n\r\n                mAuth.signInWithEmailAndPassword(email, pass)\r\n                        .addOnCompleteListener(Login.this, new OnCompleteListener&lt;AuthResult&gt;() {\r\n                            @Override\r\n                            public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\r\n                                if (task.isSuccessful()) {\r\n                                    // Sign in success, update UI with the signed-in user&#39;s information\r\n                                    Log.d(TAG, &quot;signInWithEmail:success&quot;);\r\n                                    FirebaseUser user = mAuth.getCurrentUser();\r\n                                    startActivity(new Intent(Login.this, MainPage.class));\r\n                                } else {\r\n                                    // If sign in fails, display a message to the user.\r\n                                    Log.w(TAG, &quot;signInWithEmail:failure&quot;, task.getException());\r\n                                    Toast.makeText(Login.this, &quot;Authentication failed.&quot;,\r\n                                            Toast.LENGTH_SHORT).show();\r\n                                }\r\n                            }\r\n                        });\r\n            }\r\n        });\r\n\r\n        registerBtn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n\r\n                Intent registerPage = new Intent(Login.this, Register.class);\r\n                startActivity(registerPage);\r\n\r\n            }\r\n        });\r\n\r\n        checkSharedPreferences();\r\n    }\r\n\r\n    private void checkSharedPreferences() {\r\n        String stName, stPassword;\r\n        stName = mPreferences.getString(getString(R.string.name), &quot;&quot;);\r\n        stPassword = mPreferences.getString(getString(R.string.password), &quot;&quot;);\r\n        username.setText(stName);\r\n        etPassword.setText(stPassword);\r\n    }\r\n\r\n}```","title":"SharedPreferences() Method: Password Appears as the Email/Username, as Well","body":"<p>In Android, I used the SharedPreferences() method in my login activity. However, the password appears in both fields (password - and username/email). For example, when I ran the activity in an emulator - I inputted an email (ABC@GMAIL.COM) and a password (ABC123); when I exited and re-entered the activity (through the emulator), what has been saved is the password (email: ABC123; password: ABC123).</p>\n<p>The code:</p>\n<pre><code>\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.content.Intent;\nimport android.content.SharedPreferences;\nimport android.os.Bundle;\nimport android.preference.PreferenceManager;\nimport android.util.Log;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.Toast;\n\nimport com.google.android.gms.tasks.OnCompleteListener;\nimport com.google.android.gms.tasks.Task;\nimport com.google.firebase.auth.AuthResult;\nimport com.google.firebase.auth.FirebaseAuth;\nimport com.google.firebase.auth.FirebaseUser;\n\npublic class Login extends AppCompatActivity {\n    EditText username;\n    EditText etPassword;\n    Button loginBtn;\n    Button registerBtn;\n    private SharedPreferences mPreferences;\n    private SharedPreferences.Editor mEditor;\n    private static String TAG = &quot;Michael's Tracking --&gt; &quot;;\n    private FirebaseAuth mAuth;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_login);\n\n        Log.d(TAG, &quot;Start onCreate&quot;);\n\n        username = findViewById(R.id.username);\n        etPassword = findViewById(R.id.etPassword);\n        loginBtn = findViewById(R.id.registerBtn);\n        registerBtn = findViewById(R.id.toLoginBtn);\n\n        mPreferences = PreferenceManager.getDefaultSharedPreferences(this);\n        mEditor = mPreferences.edit();\n\n        mAuth = FirebaseAuth.getInstance();\n\n        super.onStart();\n        // Check if user is signed in (non-null) and update UI accordingly.\n        FirebaseUser currentUser = mAuth.getCurrentUser();\n        if(currentUser != null){\n            currentUser.reload();\n        }\n\n        loginBtn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n\n                String email = username.getText().toString();\n                String pass = etPassword.getText().toString();\n\n                String stName = email;\n                mEditor.putString(getString(R.string.name), stName);\n                mEditor.commit();\n\n                String stPassword = pass;\n                mEditor.putString(getString(R.string.password), stPassword);\n                mEditor.commit();\n\n                mAuth.signInWithEmailAndPassword(email, pass)\n                        .addOnCompleteListener(Login.this, new OnCompleteListener&lt;AuthResult&gt;() {\n                            @Override\n                            public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\n                                if (task.isSuccessful()) {\n                                    // Sign in success, update UI with the signed-in user's information\n                                    Log.d(TAG, &quot;signInWithEmail:success&quot;);\n                                    FirebaseUser user = mAuth.getCurrentUser();\n                                    startActivity(new Intent(Login.this, MainPage.class));\n                                } else {\n                                    // If sign in fails, display a message to the user.\n                                    Log.w(TAG, &quot;signInWithEmail:failure&quot;, task.getException());\n                                    Toast.makeText(Login.this, &quot;Authentication failed.&quot;,\n                                            Toast.LENGTH_SHORT).show();\n                                }\n                            }\n                        });\n            }\n        });\n\n        registerBtn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n\n                Intent registerPage = new Intent(Login.this, Register.class);\n                startActivity(registerPage);\n\n            }\n        });\n\n        checkSharedPreferences();\n    }\n\n    private void checkSharedPreferences() {\n        String stName, stPassword;\n        stName = mPreferences.getString(getString(R.string.name), &quot;&quot;);\n        stPassword = mPreferences.getString(getString(R.string.password), &quot;&quot;);\n        username.setText(stName);\n        etPassword.setText(stPassword);\n    }\n\n}```\n</code></pre>\n"},{"tags":["java","multithreading","exception","concurrency"],"answers":[{"tags":[],"owner":{"account_id":435105,"reputation":6948,"user_id":821497,"accept_rate":60,"display_name":"ciamej"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641292942,"creation_date":1641292942,"answer_id":70577513,"question_id":70577347,"body_markdown":"This should work in your example. However, be sure to properly handle thread interruptions in your callables.\r\n\r\nNote that the other tasks will be cancelled on a best effort basis and only after you have noticed that one of the tasks have thrown an exception. E.g., if task no. 5 have thrown an exception, you have to wait for the completion of tasks 0-4, and only then you notice that task 5 has failed.\r\n\r\nAlternatively, you could subclass the ThreadPoolExecutor like [here][1], to detect the exception as early as possible.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/2248203/821497","title":"How to stop a Callable thread process after a exception in one thread?","body":"<p>This should work in your example. However, be sure to properly handle thread interruptions in your callables.</p>\n<p>Note that the other tasks will be cancelled on a best effort basis and only after you have noticed that one of the tasks have thrown an exception. E.g., if task no. 5 have thrown an exception, you have to wait for the completion of tasks 0-4, and only then you notice that task 5 has failed.</p>\n<p>Alternatively, you could subclass the ThreadPoolExecutor like <a href=\"https://stackoverflow.com/a/2248203/821497\">here</a>, to detect the exception as early as possible.</p>\n"},{"tags":[],"owner":{"account_id":13429972,"reputation":1807,"user_id":9690075,"display_name":"zysaaa"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1641300024,"creation_date":1641300024,"answer_id":70578959,"question_id":70577347,"body_markdown":"As ciamei said, if you want to detect the exception as early as possible, maybe you can use a [CountDownLatch][1]:\r\n\r\n```\r\n        CountDownLatch cdl = new CountDownLatch(1);\r\n        AtomicInteger successCount = new AtomicInteger();\r\n        AtomicBoolean fail = new AtomicBoolean();\r\n        int taskSize = 50;\r\n        for(int i=0; i&lt;taskSize;i++){\r\n            futureList.add(exSvc.submit(new Callable&lt;Integer&gt;() {\r\n                @Override\r\n                public Integer call() throws Exception {\r\n                    int num =  new Random().nextInt(1000);\r\n                    if(num == 500){\r\n                        fail.set(true);\r\n                        cdl.countDown();\r\n                        throw new Exception(&quot;Error&quot;);\r\n                    }\r\n                    if (successCount.incrementAndGet() == taskSize) {\r\n                        cdl.countDown();\r\n                    }\r\n                    return num;\r\n                }\r\n            }));\r\n        }\r\n        try {\r\n            cdl.await();\r\n        } catch (InterruptedException e) {\r\n            Thread.currentThread().interrupt();\r\n        }\r\n        if (fail.get()) {\r\n            exSvc.shutdownNow();\r\n            throw new Exception(&quot;Error&quot;);\r\n        }\r\n        //...\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/CountDownLatch.html","title":"How to stop a Callable thread process after a exception in one thread?","body":"<p>As ciamei said, if you want to detect the exception as early as possible, maybe you can use a <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/CountDownLatch.html\" rel=\"nofollow noreferrer\">CountDownLatch</a>:</p>\n<pre><code>        CountDownLatch cdl = new CountDownLatch(1);\n        AtomicInteger successCount = new AtomicInteger();\n        AtomicBoolean fail = new AtomicBoolean();\n        int taskSize = 50;\n        for(int i=0; i&lt;taskSize;i++){\n            futureList.add(exSvc.submit(new Callable&lt;Integer&gt;() {\n                @Override\n                public Integer call() throws Exception {\n                    int num =  new Random().nextInt(1000);\n                    if(num == 500){\n                        fail.set(true);\n                        cdl.countDown();\n                        throw new Exception(&quot;Error&quot;);\n                    }\n                    if (successCount.incrementAndGet() == taskSize) {\n                        cdl.countDown();\n                    }\n                    return num;\n                }\n            }));\n        }\n        try {\n            cdl.await();\n        } catch (InterruptedException e) {\n            Thread.currentThread().interrupt();\n        }\n        if (fail.get()) {\n            exSvc.shutdownNow();\n            throw new Exception(&quot;Error&quot;);\n        }\n        //...\n</code></pre>\n"}],"owner":{"account_id":16609354,"reputation":324,"user_id":12002856,"display_name":"DAK"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":509,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1641300024,"creation_date":1641292264,"question_id":70577347,"body_markdown":"I&#39;m using Callable and ExecutorService to use multi-threading in my application.\r\n\r\nIn case if any Exceptions are thrown from one thread need to stop all threads even though it&#39;s work completed and need to throw that exception to the calling class method. For this, I used a shutDownNow() method.\r\n\r\nIs this the right way? or any other effective ways there?\r\n\r\n```\r\n\t\t\r\nExecutorService exSvc = Executors.newFixedThreadPool(5);\r\nexSvc.setKeepAliveTime(60, TimeUnit.SECONDS);\r\n\r\nList&lt;Future&lt;Integer&gt;&gt; futureList = new LinkedList();\r\nfor(int i=0; i&lt;50;i++){\r\n    futureList.add(exSvc.submit(\r\n        new Callable&lt;Integer&gt;() {\r\n            public Integer call()  throws Exception{\r\n                int num =  new Random().nextInt(1000);\r\n                if(num==500){\r\n                    throw new Exception(&quot;Error&quot;);\r\n                }\r\n            return num;\r\n            }\r\n        }));\r\n}\r\n\r\nfor(int i=0; i&lt;50; i++){\r\n \r\n   try {\r\n    int value =  futureList.get(i).get();\r\n   } catch (Exception e) {\r\n        exSvc.shutdownNow();\r\n        throw new Exception(&quot;Error&quot;);\r\n   } \r\n}\r\n\r\n\r\n```\r\n","title":"How to stop a Callable thread process after a exception in one thread?","body":"<p>I'm using Callable and ExecutorService to use multi-threading in my application.</p>\n<p>In case if any Exceptions are thrown from one thread need to stop all threads even though it's work completed and need to throw that exception to the calling class method. For this, I used a shutDownNow() method.</p>\n<p>Is this the right way? or any other effective ways there?</p>\n<pre><code>        \nExecutorService exSvc = Executors.newFixedThreadPool(5);\nexSvc.setKeepAliveTime(60, TimeUnit.SECONDS);\n\nList&lt;Future&lt;Integer&gt;&gt; futureList = new LinkedList();\nfor(int i=0; i&lt;50;i++){\n    futureList.add(exSvc.submit(\n        new Callable&lt;Integer&gt;() {\n            public Integer call()  throws Exception{\n                int num =  new Random().nextInt(1000);\n                if(num==500){\n                    throw new Exception(&quot;Error&quot;);\n                }\n            return num;\n            }\n        }));\n}\n\nfor(int i=0; i&lt;50; i++){\n \n   try {\n    int value =  futureList.get(i).get();\n   } catch (Exception e) {\n        exSvc.shutdownNow();\n        throw new Exception(&quot;Error&quot;);\n   } \n}\n\n\n</code></pre>\n"},{"tags":["java","spring","caching","guava","feign"],"answers":[{"tags":[],"owner":{"account_id":4374476,"reputation":789,"user_id":3567855,"accept_rate":67,"display_name":"Bianca"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1523433152,"creation_date":1523433152,"answer_id":49769460,"question_id":49628666,"body_markdown":"Finally, I managed to solve my issue. \r\nWhat I did in the end is : \r\n\r\n-&gt; Create new @Service annotated class\r\n\r\n-&gt; Inject interface with @FeignClient annotation\r\n\r\n-&gt; Put all @Cache related annotations ( using @Caching annotation) on the method that calls methods from the interface.\r\n\r\nIt works! :) ","title":"Is it possible to use Spring @Cache* on Feign client?","body":"<p>Finally, I managed to solve my issue. \nWhat I did in the end is : </p>\n\n<p>-> Create new @Service annotated class</p>\n\n<p>-> Inject interface with @FeignClient annotation</p>\n\n<p>-> Put all @Cache related annotations ( using @Caching annotation) on the method that calls methods from the interface.</p>\n\n<p>It works! :) </p>\n"},{"tags":[],"owner":{"account_id":12202245,"reputation":75,"user_id":8906257,"display_name":"Francisco Prado"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1604487161,"creation_date":1604487161,"answer_id":64678650,"question_id":49628666,"body_markdown":"What Bianca supposed to do is to add a @Service annotated class to her project where she can use @cacheable annotation.\r\n\r\nThe traditional way to use FeignClient is to have only an interface annotated with @FeignClient, and then call these methods form other projects/classes. She has added a @Service annotated class, where she call her feignclients methods caching whatever she want.\r\n\r\nTraditional:\r\n---------------------\r\nFeignClient class:\r\n```\r\n@FeignClient(name=&quot;my_feign-client&quot;, url = &quot;http://myurl.com/&quot;)\r\npublic interface MyFeignClient {\r\n\t@GetMapping(&quot;/test&quot;)\r\n\tpublic ResponseEntity&lt;String&gt; test() throws FeignException;\r\n```\r\nClass where to call feign client method:\r\n```\r\npublic class TestClass {\r\n\t@Autowired\r\n\tprivate MyFeignClient myFeignClient ;\r\n\t\r\n\tpublic String callTest() {\r\n    ...\r\n\t\treturn myFeignClient.test();\r\n\t}\r\n```\r\n\r\nBianca&#39;s method:\r\n-------------------------\r\nFeign client class remains the same.\r\n\r\nService class with cache:\r\n```\r\n@Service\r\n@CacheConfig(cacheNames={&quot;test&quot;})\r\npublic class TestService {\r\n\t@Autowired\r\n\tprivate MyFeignClient myFeignClient ;\r\n\t\r\n\t@Cacheable\r\n\tpublic String callCachedTest() {\r\n    ...\r\n    return myFeignClient.test();\r\n}\r\n```\r\nAnd last, the class to call the cached method, that call feignClient:\r\n```\r\npublic class TestClass {\r\n\t@Autowired\r\n\tprivate TestService testService ;\r\n\t\r\n\tpublic String callTest() {\r\n    ...\r\n\t\treturn testService.callCachedTest();\r\n\t}\r\n```\r\n","title":"Is it possible to use Spring @Cache* on Feign client?","body":"<p>What Bianca supposed to do is to add a @Service annotated class to her project where she can use @cacheable annotation.</p>\n<p>The traditional way to use FeignClient is to have only an interface annotated with @FeignClient, and then call these methods form other projects/classes. She has added a @Service annotated class, where she call her feignclients methods caching whatever she want.</p>\n<h2>Traditional:</h2>\n<p>FeignClient class:</p>\n<pre><code>@FeignClient(name=&quot;my_feign-client&quot;, url = &quot;http://myurl.com/&quot;)\npublic interface MyFeignClient {\n    @GetMapping(&quot;/test&quot;)\n    public ResponseEntity&lt;String&gt; test() throws FeignException;\n</code></pre>\n<p>Class where to call feign client method:</p>\n<pre><code>public class TestClass {\n    @Autowired\n    private MyFeignClient myFeignClient ;\n    \n    public String callTest() {\n    ...\n        return myFeignClient.test();\n    }\n</code></pre>\n<h2>Bianca's method:</h2>\n<p>Feign client class remains the same.</p>\n<p>Service class with cache:</p>\n<pre><code>@Service\n@CacheConfig(cacheNames={&quot;test&quot;})\npublic class TestService {\n    @Autowired\n    private MyFeignClient myFeignClient ;\n    \n    @Cacheable\n    public String callCachedTest() {\n    ...\n    return myFeignClient.test();\n}\n</code></pre>\n<p>And last, the class to call the cached method, that call feignClient:</p>\n<pre><code>public class TestClass {\n    @Autowired\n    private TestService testService ;\n    \n    public String callTest() {\n    ...\n        return testService.callCachedTest();\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1641292868,"creation_date":1641292868,"answer_id":70577496,"question_id":49628666,"body_markdown":"Annotating Feign clients with `@Cacheable` now works out of the box with Spring Cloud OpenFeign, as per [the documentation][1], since [version 3.1.0][2] (as part of Spring Cloud 2021.0.0).\r\n\r\nYou only need to make sure that:\r\n\r\n* you have configured `@EnableCaching`\r\n* you are using `spring-cloud-starter-openfeign` 3.1.0+ in your dependencies, so this normally means importing [`spring-cloud-dependencies` version 2021.0.0][3]+ ([they switched to calver in 2020][4])\r\n* you are using Spring Boot 2.4.1+ (required for this version of Spring Cloud)\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-cloud-openfeign/docs/current/reference/html/#feign-caching\r\n  [2]: https://spring.io/blog/2021/12/02/spring-cloud-2021-0-0-codename-jubilee-has-been-released\r\n  [3]: https://mvnrepository.com/artifact/org.springframework.cloud/spring-cloud-dependencies/2021.0.0\r\n  [4]: https://spring.io/blog/2020/04/17/spring-cloud-2020-0-0-m1-released#notable-changes-in-the-2020-release-train","title":"Is it possible to use Spring @Cache* on Feign client?","body":"<p>Annotating Feign clients with <code>@Cacheable</code> now works out of the box with Spring Cloud OpenFeign, as per <a href=\"https://docs.spring.io/spring-cloud-openfeign/docs/current/reference/html/#feign-caching\" rel=\"noreferrer\">the documentation</a>, since <a href=\"https://spring.io/blog/2021/12/02/spring-cloud-2021-0-0-codename-jubilee-has-been-released\" rel=\"noreferrer\">version 3.1.0</a> (as part of Spring Cloud 2021.0.0).</p>\n<p>You only need to make sure that:</p>\n<ul>\n<li>you have configured <code>@EnableCaching</code></li>\n<li>you are using <code>spring-cloud-starter-openfeign</code> 3.1.0+ in your dependencies, so this normally means importing <a href=\"https://mvnrepository.com/artifact/org.springframework.cloud/spring-cloud-dependencies/2021.0.0\" rel=\"noreferrer\"><code>spring-cloud-dependencies</code> version 2021.0.0</a>+ (<a href=\"https://spring.io/blog/2020/04/17/spring-cloud-2020-0-0-m1-released#notable-changes-in-the-2020-release-train\" rel=\"noreferrer\">they switched to calver in 2020</a>)</li>\n<li>you are using Spring Boot 2.4.1+ (required for this version of Spring Cloud)</li>\n</ul>\n"}],"owner":{"account_id":4374476,"reputation":789,"user_id":3567855,"accept_rate":67,"display_name":"Bianca"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13155,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":3,"score":8,"last_activity_date":1641299901,"creation_date":1522754035,"question_id":49628666,"body_markdown":"I have a Feign client that requests a token from a microservice. \r\nSince I am making multiple calls, I would like to cache the responses received from the Feign client and use Spring Guava caching, but it doesn&#39;t seem to work. All I have is the configuration class and the annotation on the Feign client.\r\n\r\nI read somewhere on stack overflow that Feign might not support @Cacheable annotation. Is this true?","title":"Is it possible to use Spring @Cache* on Feign client?","body":"<p>I have a Feign client that requests a token from a microservice. \nSince I am making multiple calls, I would like to cache the responses received from the Feign client and use Spring Guava caching, but it doesn't seem to work. All I have is the configuration class and the annotation on the Feign client.</p>\n\n<p>I read somewhere on stack overflow that Feign might not support @Cacheable annotation. Is this true?</p>\n"},{"tags":["java","date","timezone","timezone-offset"],"answers":[{"tags":[],"owner":{"account_id":2817598,"reputation":6001,"user_id":2422224,"display_name":"Ma3x"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1640787666,"creation_date":1640783095,"answer_id":70519820,"question_id":70519121,"body_markdown":"Java runtime timezone information for each version is available here\r\nhttps://www.oracle.com/java/technologies/tzdata-versions.html\r\n\r\nInside the linked file (for a specific version) you can find links to the actual data used\r\n```\r\nhttps://www.iana.org/time-zones/repository/releases/tzcode2021a.tar.gz\r\nhttps://www.iana.org/time-zones/repository/releases/tzdata2021a.tar.gz\r\nhttps://www.iana.org/time-zones/repository/releases/tzdb-2021a.tar.lz\r\n```\r\nInside the `tzdata*.tar.gz` you can find a file called `asia` which contains the data for Bangkok as well.\r\n\r\nIt contains these entries\r\n```\r\n# Thailand\r\n# Zone\tNAME\t\t    STDOFF  RULES FORMAT [UNTIL]\r\nZone    Asia/Bangkok    6:42:04 -     LMT    1880\r\n\t\t\t            6:42:04 -\t  BMT    1920 Apr # Bangkok Mean Time \r\n                        7:00    -     +07\r\nLink Asia/Bangkok Asia/Phnom_Penh\t# Cambodia\r\nLink Asia/Bangkok Asia/Vientiane\t# Laos\r\n```\r\nSo the -402 timezone should be used for all dates before 1/4/1920, but it seems the implementation is using the -402 offset only from 1/1/1900 0:00:00.000 UTC (from 1/1/1900 6:42:04.000 in your timezone) and until 1/4/1920 in your timezone and -420 otherwise. I am not sure, if that is intended or a bug.\r\n\r\n&gt; How can I ignore different time offset in same Timezone.\r\n\r\nIf you are actually using timezones in your application, then you should not ignore them.\r\nHowever, if you are making an application that is intended to be used just in your local timezone, then you can use a DateTime class without timezone information, such as `java.time.LocalDateTime`.\r\nAlso worth noting: even if these timezones would be correct, the historical dates might still be inaccurate, due to modern time rules being applied for all time (see below). So in the end it depends on what your use case is.\r\n\r\n&gt; A date-time without a time-zone in the ISO-8601 calendar system. The ISO-8601 calendar system is the modern civil calendar system used today in most of the world. It is equivalent to the proleptic Gregorian calendar system, in which today&#39;s rules for leap years are applied for all time. For most applications written today, the ISO-8601 rules are entirely suitable. **However, any application that makes use of historical dates, and requires them to be accurate will find the ISO-8601 approach unsuitable.**","title":"Java different timezone offset in same timezone","body":"<p>Java runtime timezone information for each version is available here\n<a href=\"https://www.oracle.com/java/technologies/tzdata-versions.html\" rel=\"nofollow noreferrer\">https://www.oracle.com/java/technologies/tzdata-versions.html</a></p>\n<p>Inside the linked file (for a specific version) you can find links to the actual data used</p>\n<pre><code>https://www.iana.org/time-zones/repository/releases/tzcode2021a.tar.gz\nhttps://www.iana.org/time-zones/repository/releases/tzdata2021a.tar.gz\nhttps://www.iana.org/time-zones/repository/releases/tzdb-2021a.tar.lz\n</code></pre>\n<p>Inside the <code>tzdata*.tar.gz</code> you can find a file called <code>asia</code> which contains the data for Bangkok as well.</p>\n<p>It contains these entries</p>\n<pre><code># Thailand\n# Zone  NAME            STDOFF  RULES FORMAT [UNTIL]\nZone    Asia/Bangkok    6:42:04 -     LMT    1880\n                        6:42:04 -     BMT    1920 Apr # Bangkok Mean Time \n                        7:00    -     +07\nLink Asia/Bangkok Asia/Phnom_Penh   # Cambodia\nLink Asia/Bangkok Asia/Vientiane    # Laos\n</code></pre>\n<p>So the -402 timezone should be used for all dates before 1/4/1920, but it seems the implementation is using the -402 offset only from 1/1/1900 0:00:00.000 UTC (from 1/1/1900 6:42:04.000 in your timezone) and until 1/4/1920 in your timezone and -420 otherwise. I am not sure, if that is intended or a bug.</p>\n<blockquote>\n<p>How can I ignore different time offset in same Timezone.</p>\n</blockquote>\n<p>If you are actually using timezones in your application, then you should not ignore them.\nHowever, if you are making an application that is intended to be used just in your local timezone, then you can use a DateTime class without timezone information, such as <code>java.time.LocalDateTime</code>.\nAlso worth noting: even if these timezones would be correct, the historical dates might still be inaccurate, due to modern time rules being applied for all time (see below). So in the end it depends on what your use case is.</p>\n<blockquote>\n<p>A date-time without a time-zone in the ISO-8601 calendar system. The ISO-8601 calendar system is the modern civil calendar system used today in most of the world. It is equivalent to the proleptic Gregorian calendar system, in which today's rules for leap years are applied for all time. For most applications written today, the ISO-8601 rules are entirely suitable. <strong>However, any application that makes use of historical dates, and requires them to be accurate will find the ISO-8601 approach unsuitable.</strong></p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1641299844,"creation_date":1640790568,"answer_id":70521267,"question_id":70519121,"body_markdown":"java.util.Date and java.text.SimpleDateFormat are very old classes.  Although they mostly work, they are difficult to use properly, especially where timezones are concerned.\r\n\r\n[Date.getTimezoneOffset is deprecated.](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Date.html#getTimezoneOffset())  Do not use deprecated methods.\r\n\r\nThe proper way to work with timezone rules is using the [java.time](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/package-summary.html), [java.time.zone](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/zone/package-summary.html), and [java.time.format](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/format/package-summary.html) packages:\r\n\r\n    ZoneId zone = ZoneId.systemDefault();\r\n\r\n    DateTimeFormatter dateFormatter =\r\n        DateTimeFormatter.ofPattern(&quot;MM/dd/yyyy H:mm:ss.SSS&quot;);\r\n\r\n    LocalDateTime date =\r\n        LocalDateTime.parse(&quot;01/01/1900 7:00:00.000&quot;, dateFormatter);\r\n\r\n    System.out.println(date);\r\n    System.out.println(zone.getRules().getOffset(date));\r\n\r\n    LocalDateTime date2 =\r\n        LocalDateTime.parse(&quot;01/01/1900 6:00:00.000&quot;, dateFormatter);\r\n\r\n    System.out.println(date2);\r\n    System.out.println(zone.getRules().getOffset(date2));\r\n\r\nThe entire history of a timezone is in the [ZoneRules](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/ZoneId.html#getRules()):\r\n\r\n    System.out.println();\r\n    zone.getRules().getTransitions().forEach(System.out::println);\r\n    System.out.println();\r\n    zone.getRules().getTransitionRules().forEach(System.out::println);\r\n\r\nYou also asked:\r\n\r\n&gt;What is the best way to ignore offset and convert Date to LocalDateTime?\r\n\r\nYou can’t.  It is not possible to convert a Date to a LocalDateTime without assuming a timezone.\r\n\r\nA Date is a wrapper for the number of milliseconds since 1970-01-01 00:00:00 UTC.  You cannot generate a LocalDateTime from that without knowing which timezone to apply to that millisecond count.  For example, noon Eastern Time in the US is a different number of milliseconds since 1970 than noon Greenwich time.\r\n\r\nYou may not realize it, but when you use SimpleDateFormat, you **are** specifying a timezone.  Every SimpleDateFormat [has a timezone property](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/text/DateFormat.html#setTimeZone(java.util.TimeZone)).  Since your code never set that timezone explicitly, your date format used the system’s default timezone.\r\n\r\nThat is one reason to avoid DateFormat and SimpleDateFormat:  the implicit use of the default timezone leads to errors and confusing behavior (though it is predictable behavior).  When you use the java.time package and its subpackages, there is no ambiguity, and far less chance of confusion.\r\n","title":"Java different timezone offset in same timezone","body":"<p>java.util.Date and java.text.SimpleDateFormat are very old classes.  Although they mostly work, they are difficult to use properly, especially where timezones are concerned.</p>\n<p><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Date.html#getTimezoneOffset()\" rel=\"nofollow noreferrer\">Date.getTimezoneOffset is deprecated.</a>  Do not use deprecated methods.</p>\n<p>The proper way to work with timezone rules is using the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/package-summary.html\" rel=\"nofollow noreferrer\">java.time</a>, <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/zone/package-summary.html\" rel=\"nofollow noreferrer\">java.time.zone</a>, and <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/format/package-summary.html\" rel=\"nofollow noreferrer\">java.time.format</a> packages:</p>\n<pre><code>ZoneId zone = ZoneId.systemDefault();\n\nDateTimeFormatter dateFormatter =\n    DateTimeFormatter.ofPattern(&quot;MM/dd/yyyy H:mm:ss.SSS&quot;);\n\nLocalDateTime date =\n    LocalDateTime.parse(&quot;01/01/1900 7:00:00.000&quot;, dateFormatter);\n\nSystem.out.println(date);\nSystem.out.println(zone.getRules().getOffset(date));\n\nLocalDateTime date2 =\n    LocalDateTime.parse(&quot;01/01/1900 6:00:00.000&quot;, dateFormatter);\n\nSystem.out.println(date2);\nSystem.out.println(zone.getRules().getOffset(date2));\n</code></pre>\n<p>The entire history of a timezone is in the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/ZoneId.html#getRules()\" rel=\"nofollow noreferrer\">ZoneRules</a>:</p>\n<pre><code>System.out.println();\nzone.getRules().getTransitions().forEach(System.out::println);\nSystem.out.println();\nzone.getRules().getTransitionRules().forEach(System.out::println);\n</code></pre>\n<p>You also asked:</p>\n<blockquote>\n<p>What is the best way to ignore offset and convert Date to LocalDateTime?</p>\n</blockquote>\n<p>You can’t.  It is not possible to convert a Date to a LocalDateTime without assuming a timezone.</p>\n<p>A Date is a wrapper for the number of milliseconds since 1970-01-01 00:00:00 UTC.  You cannot generate a LocalDateTime from that without knowing which timezone to apply to that millisecond count.  For example, noon Eastern Time in the US is a different number of milliseconds since 1970 than noon Greenwich time.</p>\n<p>You may not realize it, but when you use SimpleDateFormat, you <strong>are</strong> specifying a timezone.  Every SimpleDateFormat <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/text/DateFormat.html#setTimeZone(java.util.TimeZone)\" rel=\"nofollow noreferrer\">has a timezone property</a>.  Since your code never set that timezone explicitly, your date format used the system’s default timezone.</p>\n<p>That is one reason to avoid DateFormat and SimpleDateFormat:  the implicit use of the default timezone leads to errors and confusing behavior (though it is predictable behavior).  When you use the java.time package and its subpackages, there is no ambiguity, and far less chance of confusion.</p>\n"}],"owner":{"account_id":23775050,"reputation":11,"user_id":17788628,"display_name":"tatata"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":743,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1641299844,"creation_date":1640779223,"question_id":70519121,"body_markdown":"I&#39;m using &quot;Asia/Bangkok&quot; zone id.\r\nThat offset is from GMT UTC+07:00.\r\n\r\nbut when I did followings, then it is not +7:00 when set &quot;01/01/1900 7:00:00.000&quot;\r\n\r\n``` java\r\nSimpleDateFormat dateFormat = new SimpleDateFormat(&quot;MM/dd/yyyy HH:mm:ss.SSS&quot;);\r\nDate date = dateFormat.parse(&quot;01/01/1900 7:00:00.000&quot;);\r\n\r\nSystem.out.println(date);\r\nSystem.out.println(date.getTimezoneOffset());\r\n\r\nDate date2 = dateFormat.parse(&quot;01/01/1900 6:00:00.000&quot;);\r\nSystem.out.println(date2);\r\nSystem.out.println(date2.getTimezoneOffset());\r\n```\r\nThe result is \r\n&gt; Mon Jan 01 07:00:00 ICT 1900  \r\n&gt; -402  \r\n&gt; Mon Jan 01 06:00:00 ICT 1900  \r\n&gt; -420\r\n\r\nI wondered if the offset had changed around 7:00 a.m. on January 1, 1900, so I looked it up on Wikipedia.\r\nhttps://en.wikipedia.org/wiki/Time_in_Thailand\r\n\r\nIt was UTC+6:42, but from 1880 to 1920.\r\n\r\nI have 3 questions.\r\n1. Why it happen different time offset between &quot;01/01/1900 7:00:00.000&quot; and &quot;01/01/1900 6:00:00.000&quot;\r\n2. Where can I see time zone history in Java.\r\n3. How can I ignore different time offset in same Timezone.\r\n\r\n\r\n-- additional question --\r\n\r\nI understand that I should use LocalDateTime.\r\n\r\nWhat is the best way to ignore offset and convert Date to LocalDateTime?\r\n\r\nFor example, in the following case, the value of convertedDate2 was converted based on an offset of -402.\r\n\r\n```java\r\nDateTimeFormatter dateFormatter = DateTimeFormatter.ofPattern(&quot;MM/dd/yyyy H:mm:ss.SSS&quot;);\r\nLocalDateTime originalLdate = LocalDateTime.parse(&quot;01/01/1900 7:00:00.000&quot;, dateFormatter);\r\nLocalDateTime originalLdate2 = LocalDateTime.parse(&quot;01/01/1900 6:00:00.000&quot;, dateFormatter);\r\n\r\nSystem.out.println(originalLdate);\r\nSystem.out.println(originalLdate2);\r\n\r\nSimpleDateFormat dateFormat = new SimpleDateFormat(&quot;MM/dd/yyyy HH:mm:ss.SSS&quot;);\r\nDate date = dateFormat.parse(&quot;01/01/1900 7:00:00.000&quot;);\r\nDate date2 = dateFormat.parse(&quot;01/01/1900 6:00:00.000&quot;);\r\nLocalDateTime convertedDate = date.toInstant().atZone(ZoneId.systemDefault()).toLocalDateTime();\r\nLocalDateTime convertedDate2 = date2.toInstant().atZone(ZoneId.systemDefault()).toLocalDateTime();\r\n\r\nSystem.out.println(convertedDate);\r\nSystem.out.println(convertedDate2);\r\n\r\nLocalDateTime convertedDate3 = LocalDateTime.parse(dateFormat.format(date), dateFormatter);\r\nLocalDateTime convertedDate4 = LocalDateTime.parse(dateFormat.format(date2), dateFormatter);\r\nSystem.out.println(convertedDate3);\r\nSystem.out.println(convertedDate4);\r\n```\r\nThe result is\r\n&gt; 1900-01-01T07:00  \r\n1900-01-01T06:00  \r\n1900-01-01T07:00  \r\n1900-01-01T05:42:04  \r\n1900-01-01T07:00  \r\n1900-01-01T06:00  \r\n\r\n\r\nIf I convert it once to String and then to LocalDateTime, as in convertedDate3 and convertedDate4, \r\nthen I could convert as my expectation, but I wonder this is the most efficient way or not?\r\n","title":"Java different timezone offset in same timezone","body":"<p>I'm using &quot;Asia/Bangkok&quot; zone id.\nThat offset is from GMT UTC+07:00.</p>\n<p>but when I did followings, then it is not +7:00 when set &quot;01/01/1900 7:00:00.000&quot;</p>\n<pre class=\"lang-java prettyprint-override\"><code>SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;MM/dd/yyyy HH:mm:ss.SSS&quot;);\nDate date = dateFormat.parse(&quot;01/01/1900 7:00:00.000&quot;);\n\nSystem.out.println(date);\nSystem.out.println(date.getTimezoneOffset());\n\nDate date2 = dateFormat.parse(&quot;01/01/1900 6:00:00.000&quot;);\nSystem.out.println(date2);\nSystem.out.println(date2.getTimezoneOffset());\n</code></pre>\n<p>The result is</p>\n<blockquote>\n<p>Mon Jan 01 07:00:00 ICT 1900<br />\n-402<br />\nMon Jan 01 06:00:00 ICT 1900<br />\n-420</p>\n</blockquote>\n<p>I wondered if the offset had changed around 7:00 a.m. on January 1, 1900, so I looked it up on Wikipedia.\n<a href=\"https://en.wikipedia.org/wiki/Time_in_Thailand\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Time_in_Thailand</a></p>\n<p>It was UTC+6:42, but from 1880 to 1920.</p>\n<p>I have 3 questions.</p>\n<ol>\n<li>Why it happen different time offset between &quot;01/01/1900 7:00:00.000&quot; and &quot;01/01/1900 6:00:00.000&quot;</li>\n<li>Where can I see time zone history in Java.</li>\n<li>How can I ignore different time offset in same Timezone.</li>\n</ol>\n<p>-- additional question --</p>\n<p>I understand that I should use LocalDateTime.</p>\n<p>What is the best way to ignore offset and convert Date to LocalDateTime?</p>\n<p>For example, in the following case, the value of convertedDate2 was converted based on an offset of -402.</p>\n<pre class=\"lang-java prettyprint-override\"><code>DateTimeFormatter dateFormatter = DateTimeFormatter.ofPattern(&quot;MM/dd/yyyy H:mm:ss.SSS&quot;);\nLocalDateTime originalLdate = LocalDateTime.parse(&quot;01/01/1900 7:00:00.000&quot;, dateFormatter);\nLocalDateTime originalLdate2 = LocalDateTime.parse(&quot;01/01/1900 6:00:00.000&quot;, dateFormatter);\n\nSystem.out.println(originalLdate);\nSystem.out.println(originalLdate2);\n\nSimpleDateFormat dateFormat = new SimpleDateFormat(&quot;MM/dd/yyyy HH:mm:ss.SSS&quot;);\nDate date = dateFormat.parse(&quot;01/01/1900 7:00:00.000&quot;);\nDate date2 = dateFormat.parse(&quot;01/01/1900 6:00:00.000&quot;);\nLocalDateTime convertedDate = date.toInstant().atZone(ZoneId.systemDefault()).toLocalDateTime();\nLocalDateTime convertedDate2 = date2.toInstant().atZone(ZoneId.systemDefault()).toLocalDateTime();\n\nSystem.out.println(convertedDate);\nSystem.out.println(convertedDate2);\n\nLocalDateTime convertedDate3 = LocalDateTime.parse(dateFormat.format(date), dateFormatter);\nLocalDateTime convertedDate4 = LocalDateTime.parse(dateFormat.format(date2), dateFormatter);\nSystem.out.println(convertedDate3);\nSystem.out.println(convertedDate4);\n</code></pre>\n<p>The result is</p>\n<blockquote>\n<p>1900-01-01T07:00<br />\n1900-01-01T06:00<br />\n1900-01-01T07:00<br />\n1900-01-01T05:42:04<br />\n1900-01-01T07:00<br />\n1900-01-01T06:00</p>\n</blockquote>\n<p>If I convert it once to String and then to LocalDateTime, as in convertedDate3 and convertedDate4,\nthen I could convert as my expectation, but I wonder this is the most efficient way or not?</p>\n"},{"tags":["java","ssl","httpurlconnection","sslhandshakeexception"],"answers":[{"tags":[],"owner":{"account_id":1465269,"reputation":10929,"user_id":1712294,"display_name":"Michal Trojanowski"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1641299646,"creation_date":1559634701,"answer_id":56439567,"question_id":56430190,"body_markdown":"Turns out it is a bug in Java 11.01. It is fixed since 11.02. After switching to 11.03. the behaviour I described above is gone. Each request gets a proper certificate.\r\n\r\nHere are the details of the bug: https://bugs.openjdk.java.net/browse/JDK-8211806","title":"Is it possible to force SSLHandshake to always use the hostname, not IP for HttpsUrlConnection","body":"<p>Turns out it is a bug in Java 11.01. It is fixed since 11.02. After switching to 11.03. the behaviour I described above is gone. Each request gets a proper certificate.</p>\n<p>Here are the details of the bug: <a href=\"https://bugs.openjdk.java.net/browse/JDK-8211806\" rel=\"nofollow noreferrer\">https://bugs.openjdk.java.net/browse/JDK-8211806</a></p>\n"}],"owner":{"account_id":1465269,"reputation":10929,"user_id":1712294,"display_name":"Michal Trojanowski"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":149,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":56439567,"answer_count":1,"score":1,"last_activity_date":1641299646,"creation_date":1559574841,"question_id":56430190,"body_markdown":"So I have this situation: I try to download an image from somedomain.com using HTTPS. The domain is probably misconfigured, but unfortunately I can&#39;t change that. What exactly is happening:\r\n\r\nWhen I browse to https://somedomain.com/animage.jpg I get a valid certificate issued for somedomain.com, which is perfect. But when I call the same site using it&#39;s IP address, say https://123.123.123.123 - I get a (also valid) certificate for *.hostingcompany.com - the certificate of the hosting company. \r\n\r\nNow, I try to download the contents of the file using Java&#39;s `HttpsUrlConnection`, nothing special:\r\n\r\n```java\r\nvar urlConnection = new URL(imageUrl).openConnection();\r\n((HttpURLConnection) urlConnection).getResponseCode();\r\n```\r\n*(I want to first check the response code, but it&#39;s not important here.)*\r\n\r\nThis code runs inside a Spring Boot App and is run on request. It works fine for the **first** request since booting the app. Each subsequent request fails with `java.security.cert.CertificateException: No subject alternative DNS name matching somedomain.com found`. It&#39;s because on each subsequent request the SSL Handshake is sent to the IP, not hostname, and get&#39;s the hosting company&#39;s certificate.\r\n\r\nI was trying to find different settings for the SSL classes, but to no avail. I know there is a workaround where I could supply my own `HostnameVerifier` which could just return true, but that won&#39;t be secure, so I don&#39;t want to do that.\r\n\r\nDid anyone encounter such problem? Maybe I&#39;m searching in the wrong places? Maybe it&#39;s something with DNSes? I will appreciate any help.","title":"Is it possible to force SSLHandshake to always use the hostname, not IP for HttpsUrlConnection","body":"<p>So I have this situation: I try to download an image from somedomain.com using HTTPS. The domain is probably misconfigured, but unfortunately I can't change that. What exactly is happening:</p>\n\n<p>When I browse to <a href=\"https://somedomain.com/animage.jpg\" rel=\"nofollow noreferrer\">https://somedomain.com/animage.jpg</a> I get a valid certificate issued for somedomain.com, which is perfect. But when I call the same site using it's IP address, say <a href=\"https://123.123.123.123\" rel=\"nofollow noreferrer\">https://123.123.123.123</a> - I get a (also valid) certificate for *.hostingcompany.com - the certificate of the hosting company. </p>\n\n<p>Now, I try to download the contents of the file using Java's <code>HttpsUrlConnection</code>, nothing special:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>var urlConnection = new URL(imageUrl).openConnection();\n((HttpURLConnection) urlConnection).getResponseCode();\n</code></pre>\n\n<p><em>(I want to first check the response code, but it's not important here.)</em></p>\n\n<p>This code runs inside a Spring Boot App and is run on request. It works fine for the <strong>first</strong> request since booting the app. Each subsequent request fails with <code>java.security.cert.CertificateException: No subject alternative DNS name matching somedomain.com found</code>. It's because on each subsequent request the SSL Handshake is sent to the IP, not hostname, and get's the hosting company's certificate.</p>\n\n<p>I was trying to find different settings for the SSL classes, but to no avail. I know there is a workaround where I could supply my own <code>HostnameVerifier</code> which could just return true, but that won't be secure, so I don't want to do that.</p>\n\n<p>Did anyone encounter such problem? Maybe I'm searching in the wrong places? Maybe it's something with DNSes? I will appreciate any help.</p>\n"},{"tags":["java","swing","jtextarea"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1641293829,"post_id":70577531,"comment_id":124762144,"body_markdown":"`JTextArea` doesn&#39;t support text &quot;markup&quot;, you&#39;d have to use something like `JTextPane` and `JEditorPane`, see [How to Use Editor Panes and Text Panes](https://docs.oracle.com/javase/tutorial/uiswing/components/editorpane.html) for more details","body":"<code>JTextArea</code> doesn&#39;t support text &quot;markup&quot;, you&#39;d have to use something like <code>JTextPane</code> and <code>JEditorPane</code>, see <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/editorpane.html\" rel=\"nofollow noreferrer\">How to Use Editor Panes and Text Panes</a> for more details"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1641293908,"post_id":70577531,"comment_id":124762180,"body_markdown":"You can read and write RTF (for [example](https://stackoverflow.com/questions/29524208/load-rtf-into-jtextpane)) and read (and possibly write) HTML","body":"You can read and write RTF (for <a href=\"https://stackoverflow.com/questions/29524208/load-rtf-into-jtextpane\">example</a>) and read (and possibly write) HTML"}],"owner":{"account_id":8631382,"reputation":99,"user_id":6462865,"display_name":"Eknath"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1641299595,"creation_date":1641293031,"question_id":70577531,"body_markdown":"`JTextArea` - saving and retrieving text with attributes such as **Bold**, *Italic* etc.. by using special characters. Have tried to store the index to map and then retrieve it but I prefer to save the text as **bold** _italic_ etc.. \r\n\r\nDo you have any idea to sort this problem?\r\n ","title":"JTextArea - saving &amp; retrieving formatted text by using special characters","body":"<p><code>JTextArea</code> - saving and retrieving text with attributes such as <strong>Bold</strong>, <em>Italic</em> etc.. by using special characters. Have tried to store the index to map and then retrieve it but I prefer to save the text as <strong>bold</strong> <em>italic</em> etc..</p>\n<p>Do you have any idea to sort this problem?</p>\n"},{"tags":["java","spring-boot","apache-camel","spring-camel"],"answers":[{"tags":[],"owner":{"account_id":121986,"reputation":362,"user_id":315486,"display_name":"Tom Donohue"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1641299231,"creation_date":1641299231,"answer_id":70578791,"question_id":70574616,"body_markdown":"Camel supports a couple of different JSON libraries, and it just so happens that Camel 3 changed its **default** JSON library from XStream to Jackson, which might be why the code isn&#39;t working here. (See [CAMEL-5836](https://issues.apache.org/jira/browse/CAMEL-5836) for info about the change). The default library is used whenever you use the `.json()` keyword on its own.\r\n\r\nSo if you want to use this code with Camel 2.x, or to customise the JSON marshalling/unmarshalling in any way, you can instantiate Jackson explicitly first, and then refer to it in the route, e.g.:\r\n\r\n```java\r\nJacksonDataFormat json = new JacksonDataFormat();\r\n// You can also set any Jackson options here\r\n\r\nfrom(&quot;file:files/input&quot;)\r\n    .log(&quot;Received file - ${body}&quot;)\r\n\t// transform JSON to CSV format, referring to the &quot;json&quot; object above\r\n\t.unmarshal(json)\r\n\r\n\t.marshal().csv()\r\n\t\r\n\t// Write to output file\r\n\t.log(&quot;Writing file - ${body}&quot;)\r\n\t.to(&quot;file:files/output&quot;);\r\n}\r\n```\r\n\r\nWorking with Jackson is a lot simpler than XStream, because it can unmarshal to a simple Java object like a Map, without much configuration.","title":"Getting com.thoughtworks.xstream.mapper.CannotResolveClassException while converting JSON to CSV using Apache Camel 2.25.0","body":"<p>Camel supports a couple of different JSON libraries, and it just so happens that Camel 3 changed its <strong>default</strong> JSON library from XStream to Jackson, which might be why the code isn't working here. (See <a href=\"https://issues.apache.org/jira/browse/CAMEL-5836\" rel=\"nofollow noreferrer\">CAMEL-5836</a> for info about the change). The default library is used whenever you use the <code>.json()</code> keyword on its own.</p>\n<p>So if you want to use this code with Camel 2.x, or to customise the JSON marshalling/unmarshalling in any way, you can instantiate Jackson explicitly first, and then refer to it in the route, e.g.:</p>\n<pre class=\"lang-java prettyprint-override\"><code>JacksonDataFormat json = new JacksonDataFormat();\n// You can also set any Jackson options here\n\nfrom(&quot;file:files/input&quot;)\n    .log(&quot;Received file - ${body}&quot;)\n    // transform JSON to CSV format, referring to the &quot;json&quot; object above\n    .unmarshal(json)\n\n    .marshal().csv()\n    \n    // Write to output file\n    .log(&quot;Writing file - ${body}&quot;)\n    .to(&quot;file:files/output&quot;);\n}\n</code></pre>\n<p>Working with Jackson is a lot simpler than XStream, because it can unmarshal to a simple Java object like a Map, without much configuration.</p>\n"}],"owner":{"account_id":2868622,"reputation":244,"user_id":2462401,"accept_rate":91,"display_name":"Debesh Nayak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":487,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70578791,"answer_count":1,"score":0,"last_activity_date":1641299231,"creation_date":1641276107,"question_id":70574616,"body_markdown":"I am converting JSON to CSV using Spring Boot 2.6.2, Apache Camel 2.25.0, JDK 1.8.\r\n\r\nBelow is the Camel Route code snippet that I am using for this:\r\n\r\n```\r\n@Override\r\npublic void configure() throws Exception {\r\n    // Receive from JSON file \r\n    from(&quot;file:files/input&quot;)\r\n            .log(&quot;Received file - ${body}&quot;)\r\n            // transform JSON to CSV format\r\n            .unmarshal().json()\r\n\r\n            .marshal().csv()\r\n    \r\n            // Write to output file\r\n            .log(&quot;Writing file - ${body}&quot;)\r\n            .to(&quot;file:files/output&quot;);\r\n}\r\n```\r\n\r\nSource Code: https://github.com/DebeshNayak/camel-json-to-csv\r\n\r\nThis application builds successfully, but during runtime, I am getting the below error:\r\n```\r\n2022-01-04 11:10:47.813  INFO 14788 --- [e://files/input] route1                                   : Received file - {\r\n  &quot;fname&quot;: &quot;debesh&quot;,\r\n  &quot;lname&quot;: &quot;nayak&quot;\r\n}\r\n2022-01-04 11:10:47.862 ERROR 14788 --- [e://files/input] o.a.camel.processor.DefaultErrorHandler  : Failed delivery for (MessageId: ID-Debesh-Lenovo-i5-1641274844914-0-2 on ExchangeId: ID-Debesh-Lenovo-i5-1641274844914-0-1). Exhausted after delivery attempt: 1 caught: com.thoughtworks.xstream.mapper.CannotResolveClassException: fname\r\n\r\nMessage History\r\n---------------------------------------------------------------------------------------------------------------------------------------\r\nRouteId              ProcessorId          Processor                                                                        Elapsed (ms)\r\n[route1            ] [route1            ] [file://files/input                                                            ] [        60]\r\n[route1            ] [log1              ] [log                                                                           ] [        20]\r\n[route1            ] [unmarshal1        ] [unmarshal[org.apache.camel.model.dataformat.JsonDataFormat@5bb0a7b2]          ] [        28]\r\n\r\nStacktrace\r\n---------------------------------------------------------------------------------------------------------------------------------------\r\n\r\ncom.thoughtworks.xstream.mapper.CannotResolveClassException: fname\r\n\tat com.thoughtworks.xstream.mapper.DefaultMapper.realClass(DefaultMapper.java:81) ~[xstream-1.4.11.1.jar:1.4.11.1]\r\n\tat com.thoughtworks.xstream.mapper.MapperWrapper.realClass(MapperWrapper.java:125) ~[xstream-1.4.11.1.jar:1.4.11.1]\r\n\tat com.thoughtworks.xstream.mapper.DynamicProxyMapper.realClass(DynamicProxyMapper.java:55) ~[xstream-1.4.11.1.jar:1.4.11.1]\r\n\tat com.thoughtworks.xstream.mapper.MapperWrapper.realClass(MapperWrapper.java:125) ~[xstream-1.4.11.1.jar:1.4.11.1]\r\n\tat com.thoughtworks.xstream.mapper.PackageAliasingMapper.realClass(PackageAliasingMapper.java:88) ~[xstream-1.4.11.1.jar:1.4.11.1]\r\n\tat com.thoughtworks.xstream.mapper.MapperWrapper.realClass(MapperWrapper.java:125) ~[xstream-1.4.11.1.jar:1.4.11.1]\r\n\tat com.thoughtworks.xstream.mapper.ClassAliasingMapper.realClass(ClassAliasingMapper.java:79) ~[xstream-1.4.11.1.jar:1.4.11.1]\r\n\tat com.thoughtworks.xstream.mapper.MapperWrapper.realClass(MapperWrapper.java:125) ~[xstream-1.4.11.1.jar:1.4.11.1]\r\n\tat com.thoughtworks.xstream.mapper.ArrayMapper.realClass(ArrayMapper.java:74) ~[xstream-1.4.11.1.jar:1.4.11.1]\r\n\tat com.thoughtworks.xstream.mapper.MapperWrapper.realClass(MapperWrapper.java:125) ~[xstream-1.4.11.1.jar:1.4.11.1]\r\n\tat com.thoughtworks.xstream.mapper.SecurityMapper.realClass(SecurityMapper.java:71) ~[xstream-1.4.11.1.jar:1.4.11.1]\r\n\tat com.thoughtworks.xstream.mapper.MapperWrapper.realClass(MapperWrapper.java:125) ~[xstream-1.4.11.1.jar:1.4.11.1]\r\n\tat com.thoughtworks.xstream.mapper.CachingMapper.realClass(CachingMapper.java:47) ~[xstream-1.4.11.1.jar:1.4.11.1]\r\n\tat com.thoughtworks.xstream.core.util.HierarchicalStreams.readClassType(HierarchicalStreams.java:29) ~[xstream-1.4.11.1.jar:1.4.11.1]\r\n\tat com.thoughtworks.xstream.core.TreeUnmarshaller.start(TreeUnmarshaller.java:133) ~[xstream-1.4.11.1.jar:1.4.11.1]\r\n\tat com.thoughtworks.xstream.core.AbstractTreeMarshallingStrategy.unmarshal(AbstractTreeMarshallingStrategy.java:32) ~[xstream-1.4.11.1.jar:1.4.11.1]\r\n\tat com.thoughtworks.xstream.XStream.unmarshal(XStream.java:1487) ~[xstream-1.4.11.1.jar:1.4.11.1]\r\n\tat com.thoughtworks.xstream.XStream.unmarshal(XStream.java:1455) ~[xstream-1.4.11.1.jar:1.4.11.1]\r\n\tat org.apache.camel.dataformat.xstream.AbstractXStreamWrapper.unmarshal(AbstractXStreamWrapper.java:374) ~[camel-xstream-2.25.0.jar:2.25.0]\r\n\tat org.apache.camel.processor.UnmarshalProcessor.process(UnmarshalProcessor.java:69) ~[camel-core-2.25.0.jar:2.25.0]\r\n\tat org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548) ~[camel-core-2.25.0.jar:2.25.0]\r\n\tat org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201) [camel-core-2.25.0.jar:2.25.0]\r\n\tat org.apache.camel.processor.Pipeline.process(Pipeline.java:138) [camel-core-2.25.0.jar:2.25.0]\r\n\tat org.apache.camel.processor.Pipeline.process(Pipeline.java:101) [camel-core-2.25.0.jar:2.25.0]\r\n\tat org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201) [camel-core-2.25.0.jar:2.25.0]\r\n\tat org.apache.camel.component.file.GenericFileConsumer.processExchange(GenericFileConsumer.java:454) [camel-core-2.25.0.jar:2.25.0]\r\n\tat org.apache.camel.component.file.GenericFileConsumer.processBatch(GenericFileConsumer.java:223) [camel-core-2.25.0.jar:2.25.0]\r\n\tat org.apache.camel.component.file.GenericFileConsumer.poll(GenericFileConsumer.java:187) [camel-core-2.25.0.jar:2.25.0]\r\n\tat org.apache.camel.impl.ScheduledPollConsumer.doRun(ScheduledPollConsumer.java:174) [camel-core-2.25.0.jar:2.25.0]\r\n\tat org.apache.camel.impl.ScheduledPollConsumer.run(ScheduledPollConsumer.java:101) [camel-core-2.25.0.jar:2.25.0]\r\n\tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [na:1.8.0_312]\r\n\tat java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308) [na:1.8.0_312]\r\n\tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180) [na:1.8.0_312]\r\n\tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294) [na:1.8.0_312]\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_312]\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_312]\r\n\tat java.lang.Thread.run(Thread.java:748) [na:1.8.0_312]\r\n```\r\n\r\nIn my project I am using below Maven dependency in the pom.xml:\r\n```\r\n&lt;properties&gt;\r\n    &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    &lt;camel.version&gt;2.25.0&lt;/camel.version&gt;\r\n&lt;/properties&gt;\r\n&lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\r\n        &lt;artifactId&gt;camel-spring-boot-starter&lt;/artifactId&gt;\r\n        &lt;version&gt;${camel.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\r\n        &lt;artifactId&gt;camel-stream-starter&lt;/artifactId&gt;\r\n        &lt;version&gt;${camel.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\r\n        &lt;artifactId&gt;camel-jackson&lt;/artifactId&gt;\r\n        &lt;version&gt;${camel.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\r\n        &lt;artifactId&gt;camel-xstream&lt;/artifactId&gt;\r\n        &lt;version&gt;${camel.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\r\n        &lt;artifactId&gt;camel-csv&lt;/artifactId&gt;\r\n        &lt;version&gt;${camel.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n```\r\n\r\nBut while using Apache Camel 3.4.2, it is working properly.","title":"Getting com.thoughtworks.xstream.mapper.CannotResolveClassException while converting JSON to CSV using Apache Camel 2.25.0","body":"<p>I am converting JSON to CSV using Spring Boot 2.6.2, Apache Camel 2.25.0, JDK 1.8.</p>\n<p>Below is the Camel Route code snippet that I am using for this:</p>\n<pre><code>@Override\npublic void configure() throws Exception {\n    // Receive from JSON file \n    from(&quot;file:files/input&quot;)\n            .log(&quot;Received file - ${body}&quot;)\n            // transform JSON to CSV format\n            .unmarshal().json()\n\n            .marshal().csv()\n    \n            // Write to output file\n            .log(&quot;Writing file - ${body}&quot;)\n            .to(&quot;file:files/output&quot;);\n}\n</code></pre>\n<p>Source Code: <a href=\"https://github.com/DebeshNayak/camel-json-to-csv\" rel=\"nofollow noreferrer\">https://github.com/DebeshNayak/camel-json-to-csv</a></p>\n<p>This application builds successfully, but during runtime, I am getting the below error:</p>\n<pre><code>2022-01-04 11:10:47.813  INFO 14788 --- [e://files/input] route1                                   : Received file - {\n  &quot;fname&quot;: &quot;debesh&quot;,\n  &quot;lname&quot;: &quot;nayak&quot;\n}\n2022-01-04 11:10:47.862 ERROR 14788 --- [e://files/input] o.a.camel.processor.DefaultErrorHandler  : Failed delivery for (MessageId: ID-Debesh-Lenovo-i5-1641274844914-0-2 on ExchangeId: ID-Debesh-Lenovo-i5-1641274844914-0-1). Exhausted after delivery attempt: 1 caught: com.thoughtworks.xstream.mapper.CannotResolveClassException: fname\n\nMessage History\n---------------------------------------------------------------------------------------------------------------------------------------\nRouteId              ProcessorId          Processor                                                                        Elapsed (ms)\n[route1            ] [route1            ] [file://files/input                                                            ] [        60]\n[route1            ] [log1              ] [log                                                                           ] [        20]\n[route1            ] [unmarshal1        ] [unmarshal[org.apache.camel.model.dataformat.JsonDataFormat@5bb0a7b2]          ] [        28]\n\nStacktrace\n---------------------------------------------------------------------------------------------------------------------------------------\n\ncom.thoughtworks.xstream.mapper.CannotResolveClassException: fname\n    at com.thoughtworks.xstream.mapper.DefaultMapper.realClass(DefaultMapper.java:81) ~[xstream-1.4.11.1.jar:1.4.11.1]\n    at com.thoughtworks.xstream.mapper.MapperWrapper.realClass(MapperWrapper.java:125) ~[xstream-1.4.11.1.jar:1.4.11.1]\n    at com.thoughtworks.xstream.mapper.DynamicProxyMapper.realClass(DynamicProxyMapper.java:55) ~[xstream-1.4.11.1.jar:1.4.11.1]\n    at com.thoughtworks.xstream.mapper.MapperWrapper.realClass(MapperWrapper.java:125) ~[xstream-1.4.11.1.jar:1.4.11.1]\n    at com.thoughtworks.xstream.mapper.PackageAliasingMapper.realClass(PackageAliasingMapper.java:88) ~[xstream-1.4.11.1.jar:1.4.11.1]\n    at com.thoughtworks.xstream.mapper.MapperWrapper.realClass(MapperWrapper.java:125) ~[xstream-1.4.11.1.jar:1.4.11.1]\n    at com.thoughtworks.xstream.mapper.ClassAliasingMapper.realClass(ClassAliasingMapper.java:79) ~[xstream-1.4.11.1.jar:1.4.11.1]\n    at com.thoughtworks.xstream.mapper.MapperWrapper.realClass(MapperWrapper.java:125) ~[xstream-1.4.11.1.jar:1.4.11.1]\n    at com.thoughtworks.xstream.mapper.ArrayMapper.realClass(ArrayMapper.java:74) ~[xstream-1.4.11.1.jar:1.4.11.1]\n    at com.thoughtworks.xstream.mapper.MapperWrapper.realClass(MapperWrapper.java:125) ~[xstream-1.4.11.1.jar:1.4.11.1]\n    at com.thoughtworks.xstream.mapper.SecurityMapper.realClass(SecurityMapper.java:71) ~[xstream-1.4.11.1.jar:1.4.11.1]\n    at com.thoughtworks.xstream.mapper.MapperWrapper.realClass(MapperWrapper.java:125) ~[xstream-1.4.11.1.jar:1.4.11.1]\n    at com.thoughtworks.xstream.mapper.CachingMapper.realClass(CachingMapper.java:47) ~[xstream-1.4.11.1.jar:1.4.11.1]\n    at com.thoughtworks.xstream.core.util.HierarchicalStreams.readClassType(HierarchicalStreams.java:29) ~[xstream-1.4.11.1.jar:1.4.11.1]\n    at com.thoughtworks.xstream.core.TreeUnmarshaller.start(TreeUnmarshaller.java:133) ~[xstream-1.4.11.1.jar:1.4.11.1]\n    at com.thoughtworks.xstream.core.AbstractTreeMarshallingStrategy.unmarshal(AbstractTreeMarshallingStrategy.java:32) ~[xstream-1.4.11.1.jar:1.4.11.1]\n    at com.thoughtworks.xstream.XStream.unmarshal(XStream.java:1487) ~[xstream-1.4.11.1.jar:1.4.11.1]\n    at com.thoughtworks.xstream.XStream.unmarshal(XStream.java:1455) ~[xstream-1.4.11.1.jar:1.4.11.1]\n    at org.apache.camel.dataformat.xstream.AbstractXStreamWrapper.unmarshal(AbstractXStreamWrapper.java:374) ~[camel-xstream-2.25.0.jar:2.25.0]\n    at org.apache.camel.processor.UnmarshalProcessor.process(UnmarshalProcessor.java:69) ~[camel-core-2.25.0.jar:2.25.0]\n    at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548) ~[camel-core-2.25.0.jar:2.25.0]\n    at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201) [camel-core-2.25.0.jar:2.25.0]\n    at org.apache.camel.processor.Pipeline.process(Pipeline.java:138) [camel-core-2.25.0.jar:2.25.0]\n    at org.apache.camel.processor.Pipeline.process(Pipeline.java:101) [camel-core-2.25.0.jar:2.25.0]\n    at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201) [camel-core-2.25.0.jar:2.25.0]\n    at org.apache.camel.component.file.GenericFileConsumer.processExchange(GenericFileConsumer.java:454) [camel-core-2.25.0.jar:2.25.0]\n    at org.apache.camel.component.file.GenericFileConsumer.processBatch(GenericFileConsumer.java:223) [camel-core-2.25.0.jar:2.25.0]\n    at org.apache.camel.component.file.GenericFileConsumer.poll(GenericFileConsumer.java:187) [camel-core-2.25.0.jar:2.25.0]\n    at org.apache.camel.impl.ScheduledPollConsumer.doRun(ScheduledPollConsumer.java:174) [camel-core-2.25.0.jar:2.25.0]\n    at org.apache.camel.impl.ScheduledPollConsumer.run(ScheduledPollConsumer.java:101) [camel-core-2.25.0.jar:2.25.0]\n    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [na:1.8.0_312]\n    at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308) [na:1.8.0_312]\n    at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180) [na:1.8.0_312]\n    at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294) [na:1.8.0_312]\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_312]\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_312]\n    at java.lang.Thread.run(Thread.java:748) [na:1.8.0_312]\n</code></pre>\n<p>In my project I am using below Maven dependency in the pom.xml:</p>\n<pre><code>&lt;properties&gt;\n    &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;camel.version&gt;2.25.0&lt;/camel.version&gt;\n&lt;/properties&gt;\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\n        &lt;artifactId&gt;camel-spring-boot-starter&lt;/artifactId&gt;\n        &lt;version&gt;${camel.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\n        &lt;artifactId&gt;camel-stream-starter&lt;/artifactId&gt;\n        &lt;version&gt;${camel.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\n        &lt;artifactId&gt;camel-jackson&lt;/artifactId&gt;\n        &lt;version&gt;${camel.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\n        &lt;artifactId&gt;camel-xstream&lt;/artifactId&gt;\n        &lt;version&gt;${camel.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\n        &lt;artifactId&gt;camel-csv&lt;/artifactId&gt;\n        &lt;version&gt;${camel.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>But while using Apache Camel 3.4.2, it is working properly.</p>\n"},{"tags":["java","testng"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1641298309,"post_id":70578574,"comment_id":124763792,"body_markdown":"Which part is supposed to do any choosing here? And is the result of the choice supposed to be saved somewhere?","body":"Which part is supposed to do any choosing here? And is the result of the choice supposed to be saved somewhere?"},{"owner":{"account_id":23824323,"reputation":1,"user_id":17831599,"display_name":"Micro"},"score":0,"creation_date":1641298372,"post_id":70578574,"comment_id":124763819,"body_markdown":"When I run a test, I&#39;m using assert to assert object and what I get from response","body":"When I run a test, I&#39;m using assert to assert object and what I get from response"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1641298378,"post_id":70578574,"comment_id":124763825,"body_markdown":"and what part are you having trouble with?","body":"and what part are you having trouble with?"},{"owner":{"account_id":23824323,"reputation":1,"user_id":17831599,"display_name":"Micro"},"score":0,"creation_date":1641298439,"post_id":70578574,"comment_id":124763854,"body_markdown":"I&#39;m using for example same model for different tests and in some test I have response stateCode and in some stateName, so I want to make condition, if in response is stateCode then choose stateCode","body":"I&#39;m using for example same model for different tests and in some test I have response stateCode and in some stateName, so I want to make condition, if in response is stateCode then choose stateCode"},{"owner":{"account_id":20123470,"reputation":418,"user_id":14757508,"display_name":"bluevulture"},"score":0,"creation_date":1641298738,"post_id":70578574,"comment_id":124763979,"body_markdown":"You&#39;re going to have to show your test code and clarify what exactly is your issue in the post.","body":"You&#39;re going to have to show your test code and clarify what exactly is your issue in the post."},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1641299194,"post_id":70578574,"comment_id":124764180,"body_markdown":"Then simply call the getters and check if they return null.","body":"Then simply call the getters and check if they return null."}],"answers":[{"tags":[],"owner":{"account_id":12934818,"reputation":37,"user_id":9352559,"display_name":"Arthur"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641299013,"creation_date":1641299013,"answer_id":70578750,"question_id":70578574,"body_markdown":"As the aim is creating a satisfactory condition you can cover the 4 possibilities:\r\n\r\n\r\n    public void checkForStateCodeOrName() {\r\n    \r\n                if (stateCode != null &amp;&amp; stateName != null) {\r\n                    // There&#39;s both stateCode and stateName\r\n                    return;\r\n                }\r\n    \r\n                if (stateCode != null || stateName != null) {\r\n                    // at least one has value\r\n                    if (stateCode == null) {\r\n                        // You got a stateName!\r\n    \r\n                    } else {\r\n                        // You got a stateCode\r\n                    }\r\n                } else {\r\n                    // both are empty!\r\n                }}","title":"Condtion between two json properties java","body":"<p>As the aim is creating a satisfactory condition you can cover the 4 possibilities:</p>\n<pre><code>public void checkForStateCodeOrName() {\n\n            if (stateCode != null &amp;&amp; stateName != null) {\n                // There's both stateCode and stateName\n                return;\n            }\n\n            if (stateCode != null || stateName != null) {\n                // at least one has value\n                if (stateCode == null) {\n                    // You got a stateName!\n\n                } else {\n                    // You got a stateCode\n                }\n            } else {\n                // both are empty!\n            }}\n</code></pre>\n"}],"owner":{"account_id":23824323,"reputation":1,"user_id":17831599,"display_name":"Micro"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":5,"up_vote_count":0,"closed_date":1641302514,"answer_count":1,"score":-5,"last_activity_date":1641299013,"creation_date":1641298166,"question_id":70578574,"body_markdown":"I want in object to make condition for example if in response we have stateCode, choose property stateCode, if we have stateName in response choose stateName, it that possible, do you have solution?\r\n\r\nThis is example of object:\r\n\r\n    public class AdminAddressModel implements Serializable {\r\n    \r\n        @SerializedName(&quot;secondary&quot;)\r\n        @ResponseRequiredField(canBeEmpty = true)\r\n        @Expose\r\n        private String secondary;\r\n    \r\n        @SerializedName(&quot;zipCode&quot;)\r\n        @ResponseRequiredField(canBeEmpty = false)\r\n        @Expose\r\n        private String zipCode;\r\n    \r\n        @SerializedName(&quot;city&quot;)\r\n        @ResponseRequiredField(canBeEmpty = false)\r\n        @Expose\r\n        private String city;\r\n    \r\n        @SerializedName(&quot;stateName&quot;)\r\n        @ResponseRequiredField(canBeEmpty = false)\r\n        @Expose\r\n        private String stateName;\r\n    \r\n        @SerializedName(&quot;state&quot;)\r\n        @ResponseRequiredField(canBeEmpty = false)\r\n        @Expose\r\n        private String state;\r\n    \r\n        @SerializedName(&quot;primary&quot;)\r\n        @ResponseRequiredField(canBeEmpty = false)\r\n        @Expose\r\n        private String primary;\r\n    \r\n        public void setSecondary(String secondary){\r\n            this.secondary = secondary;\r\n        }\r\n    \r\n        public String getSecondary(){\r\n            return secondary;\r\n        }\r\n    \r\n        public void setZipCode(String zipCode){\r\n            this.zipCode = zipCode;\r\n        }\r\n    \r\n        public String getZipCode(){\r\n            return zipCode;\r\n        }\r\n    \r\n        public void setCity(String city){\r\n            this.city = city;\r\n        }\r\n    \r\n        public String getCity(){\r\n            return city;\r\n        }\r\n    \r\n        public void setStateName(String stateName){\r\n            this.stateName = stateName;\r\n        }\r\n    \r\n        public String getStateName(){\r\n            return stateName;\r\n        }\r\n    \r\n        public void setState(String state){\r\n            this.state = state;\r\n        }\r\n    \r\n        public String getState(){\r\n            return state;\r\n        }\r\n    \r\n        public void setPrimary(String primary){\r\n            this.primary = primary;\r\n        }\r\n    \r\n        public String getPrimary(){\r\n            return primary;\r\n        }\r\n    \r\n        @Override\r\n        public String toString(){\r\n            return\r\n                    &quot;ShippingAddress{&quot; +\r\n                            &quot;secondary = &#39;&quot; + secondary + &#39;\\&#39;&#39; +\r\n                            &quot;,zipCode = &#39;&quot; + zipCode + &#39;\\&#39;&#39; +\r\n                            &quot;,city = &#39;&quot; + city + &#39;\\&#39;&#39; +\r\n                            &quot;,stateName = &#39;&quot; + stateName + &#39;\\&#39;&#39; +\r\n                            &quot;,state = &#39;&quot; + state + &#39;\\&#39;&#39; +\r\n                            &quot;,primary = &#39;&quot; + primary + &#39;\\&#39;&#39; +\r\n                            &quot;}&quot;;\r\n        }\r\n    }\r\n\r\nThis is stateCode that I want to include there and to make condition if in response that I verify we have stateCode, choose state code, if we have stateName, choose stateName, someone help?\r\n\r\n        @SerializedName(&quot;stateCode&quot;)\r\n        @ResponseRequiredField(canBeEmpty = false)\r\n        @Expose\r\n        private String stateCode;\r\n\r\n    public void setStateCode(String stateCode){\r\n        this.stateCode= stateCode;\r\n    }\r\n\r\n    public String getStateCode(){\r\n        return stateCode;\r\n    }\r\n\r\nAlso I&#39;m using common assert function to verify object model and response that I get\r\n\r\nAdminAddressModel does not contain property stateCode,\r\n\tRequired field stateName missing in response\r\n\r\nresponse that I get, that&#39;s why I want that condition, in EPs that have in response stateCOde choose stateCode property to verify, if they have stateName than choose stateName","title":"Condtion between two json properties java","body":"<p>I want in object to make condition for example if in response we have stateCode, choose property stateCode, if we have stateName in response choose stateName, it that possible, do you have solution?</p>\n<p>This is example of object:</p>\n<pre><code>public class AdminAddressModel implements Serializable {\n\n    @SerializedName(&quot;secondary&quot;)\n    @ResponseRequiredField(canBeEmpty = true)\n    @Expose\n    private String secondary;\n\n    @SerializedName(&quot;zipCode&quot;)\n    @ResponseRequiredField(canBeEmpty = false)\n    @Expose\n    private String zipCode;\n\n    @SerializedName(&quot;city&quot;)\n    @ResponseRequiredField(canBeEmpty = false)\n    @Expose\n    private String city;\n\n    @SerializedName(&quot;stateName&quot;)\n    @ResponseRequiredField(canBeEmpty = false)\n    @Expose\n    private String stateName;\n\n    @SerializedName(&quot;state&quot;)\n    @ResponseRequiredField(canBeEmpty = false)\n    @Expose\n    private String state;\n\n    @SerializedName(&quot;primary&quot;)\n    @ResponseRequiredField(canBeEmpty = false)\n    @Expose\n    private String primary;\n\n    public void setSecondary(String secondary){\n        this.secondary = secondary;\n    }\n\n    public String getSecondary(){\n        return secondary;\n    }\n\n    public void setZipCode(String zipCode){\n        this.zipCode = zipCode;\n    }\n\n    public String getZipCode(){\n        return zipCode;\n    }\n\n    public void setCity(String city){\n        this.city = city;\n    }\n\n    public String getCity(){\n        return city;\n    }\n\n    public void setStateName(String stateName){\n        this.stateName = stateName;\n    }\n\n    public String getStateName(){\n        return stateName;\n    }\n\n    public void setState(String state){\n        this.state = state;\n    }\n\n    public String getState(){\n        return state;\n    }\n\n    public void setPrimary(String primary){\n        this.primary = primary;\n    }\n\n    public String getPrimary(){\n        return primary;\n    }\n\n    @Override\n    public String toString(){\n        return\n                &quot;ShippingAddress{&quot; +\n                        &quot;secondary = '&quot; + secondary + '\\'' +\n                        &quot;,zipCode = '&quot; + zipCode + '\\'' +\n                        &quot;,city = '&quot; + city + '\\'' +\n                        &quot;,stateName = '&quot; + stateName + '\\'' +\n                        &quot;,state = '&quot; + state + '\\'' +\n                        &quot;,primary = '&quot; + primary + '\\'' +\n                        &quot;}&quot;;\n    }\n}\n</code></pre>\n<p>This is stateCode that I want to include there and to make condition if in response that I verify we have stateCode, choose state code, if we have stateName, choose stateName, someone help?</p>\n<pre><code>    @SerializedName(&quot;stateCode&quot;)\n    @ResponseRequiredField(canBeEmpty = false)\n    @Expose\n    private String stateCode;\n\npublic void setStateCode(String stateCode){\n    this.stateCode= stateCode;\n}\n\npublic String getStateCode(){\n    return stateCode;\n}\n</code></pre>\n<p>Also I'm using common assert function to verify object model and response that I get</p>\n<p>AdminAddressModel does not contain property stateCode,\nRequired field stateName missing in response</p>\n<p>response that I get, that's why I want that condition, in EPs that have in response stateCOde choose stateCode property to verify, if they have stateName than choose stateName</p>\n"},{"tags":["java","tomcat","log4j"],"answers":[{"tags":[],"owner":{"account_id":17308636,"reputation":34,"user_id":12536805,"display_name":"Fernando Vaz"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1641298904,"creation_date":1641298904,"answer_id":70578721,"question_id":70578511,"body_markdown":"You also need the log4j library along with the SLF4J.","title":"When starting tomcat I am getting - Failed to instantiate SLF4J LoggerFactory in the logs","body":"<p>You also need the log4j library along with the SLF4J.</p>\n"}],"owner":{"account_id":23362518,"reputation":1,"user_id":17434515,"display_name":"shubhendu shukla"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":213,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1641303242,"answer_count":1,"score":-1,"last_activity_date":1641298904,"creation_date":1641297828,"question_id":70578511,"body_markdown":"INFO [main] org.apache.jasper.servlet.TldScanner.scanJars At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.\r\nFailed to instantiate SLF4J LoggerFactory\r\nReported exception:\r\njava.lang.NoClassDefFoundError: org/apache/log4j/Level","title":"When starting tomcat I am getting - Failed to instantiate SLF4J LoggerFactory in the logs","body":"<p>INFO [main] org.apache.jasper.servlet.TldScanner.scanJars At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.\nFailed to instantiate SLF4J LoggerFactory\nReported exception:\njava.lang.NoClassDefFoundError: org/apache/log4j/Level</p>\n"},{"tags":["java","c#","encryption","aes-gcm"],"comments":[{"owner":{"account_id":6156307,"reputation":33584,"user_id":5015238,"display_name":"jdweng"},"score":1,"creation_date":1598694303,"post_id":63645554,"comment_id":112546430,"body_markdown":"The default padding option in java and c# are different.  So you have to specify the padding in c#.","body":"The default padding option in java and c# are different.  So you have to specify the padding in c#."},{"owner":{"account_id":17878859,"reputation":107,"user_id":12988185,"display_name":"Zeljko Marinkovic"},"score":0,"creation_date":1598694747,"post_id":63645554,"comment_id":112546518,"body_markdown":"ok, that maybe is another problem, but i cannot even finish encryption using AES256GCM algorithm","body":"ok, that maybe is another problem, but i cannot even finish encryption using AES256GCM algorithm"},{"owner":{"account_id":6156307,"reputation":33584,"user_id":5015238,"display_name":"jdweng"},"score":2,"creation_date":1598700024,"post_id":63645554,"comment_id":112547775,"body_markdown":"If the padding is wrong you will get an exception.  The encryption class is able to determine bad inputs (inputs that do not match the paramers settings).  See : https://stackoverflow.com/questions/21890805/encrypt-aes-with-c-sharp-to-match-java-encryption","body":"If the padding is wrong you will get an exception.  The encryption class is able to determine bad inputs (inputs that do not match the paramers settings).  See : <a href=\"https://stackoverflow.com/questions/21890805/encrypt-aes-with-c-sharp-to-match-java-encryption\" title=\"encrypt aes with c sharp to match java encryption\">stackoverflow.com/questions/21890805/&hellip;</a>"},{"owner":{"account_id":17878859,"reputation":107,"user_id":12988185,"display_name":"Zeljko Marinkovic"},"score":0,"creation_date":1598701198,"post_id":63645554,"comment_id":112548069,"body_markdown":"Probably is my broken English, put what does it have to do with padding. All methods are encryption methods, Java code is just example of how easy is to implement AES256GCM encryption algorithm while i cannot set it to AES256GCM in c# \n```\nvar outEncryptedStream = gen.Open(fileEncrypted, &quot;2.16.840.1.101.3.4.1.46&quot;);\n```\nwithout getting exception. So file contains un-encrypted string &quot;whatever&quot;, but im not able to encrypt it with c# using AES256GCM alg. This \t\n```\npublic Stream Open(\n\t\t\tStream\toutStream,\n\t\t\tstring\tencryptionOid)\n```\noutStream is ok, but if i understand Oid is problem","body":"Probably is my broken English, put what does it have to do with padding. All methods are encryption methods, Java code is just example of how easy is to implement AES256GCM encryption algorithm while i cannot set it to AES256GCM in c#  ``` var outEncryptedStream = gen.Open(fileEncrypted, &quot;2.16.840.1.101.3.4.1.46&quot;); ``` without getting exception. So file contains un-encrypted string &quot;whatever&quot;, but im not able to encrypt it with c# using AES256GCM alg. This \t ``` public Stream Open( \t\t\tStream\toutStream, \t\t\tstring\tencryptionOid) ``` outStream is ok, but if i understand Oid is problem"},{"owner":{"account_id":6156307,"reputation":33584,"user_id":5015238,"display_name":"jdweng"},"score":1,"creation_date":1598702357,"post_id":63645554,"comment_id":112548393,"body_markdown":"There are lots of different parameters setting for the encryption classes.  The exact same parameters need to be use for both encryption and decryption","body":"There are lots of different parameters setting for the encryption classes.  The exact same parameters need to be use for both encryption and decryption"},{"owner":{"account_id":11125108,"reputation":5965,"user_id":8166854,"display_name":"Michael Fehr"},"score":1,"creation_date":1598710230,"post_id":63645554,"comment_id":112550356,"body_markdown":"You are getting an exception when using AES256GCM - mhm let my think which of the 100+ exceptions it is... It&#39;s difficult to give help without the complete error stack trace and the point (the line of code) it is pointing to. So kindly edit your post and add the stacktrace, thanks.","body":"You are getting an exception when using AES256GCM - mhm let my think which of the 100+ exceptions it is... It&#39;s difficult to give help without the complete error stack trace and the point (the line of code) it is pointing to. So kindly edit your post and add the stacktrace, thanks."},{"owner":{"account_id":17878859,"reputation":107,"user_id":12988185,"display_name":"Zeljko Marinkovic"},"score":0,"creation_date":1598730324,"post_id":63645554,"comment_id":112556487,"body_markdown":"@MichaelFehr hope this helps, edited question. Sorry about stack trace, forgot to include it","body":"@MichaelFehr hope this helps, edited question. Sorry about stack trace, forgot to include it"}],"answers":[{"tags":[],"owner":{"account_id":11125108,"reputation":5965,"user_id":8166854,"display_name":"Michael Fehr"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1598807166,"creation_date":1598807166,"answer_id":63659982,"question_id":63645554,"body_markdown":"I&#39;m sorry, as per https://github.com/bcgit/bc-csharp/blob/5bd4c8c70f80f1e7ead8e3c73459b78eb93d0ef7/crypto/src/security/GeneratorUtilities.cs it seems to be that AES-256-GCM mode is not available even in actual C# Bouncy Castle: \r\n\r\n    static GeneratorUtilities()\r\n    ...\r\n    AddKgAlgorithm(&quot;AES256&quot;,\r\n      &quot;2.16.840.1.101.3.4.42&quot;,\r\n      NistObjectIdentifiers.IdAes256Cbc,\r\n      NistObjectIdentifiers.IdAes256Cfb,\r\n      NistObjectIdentifiers.IdAes256Ecb,\r\n      NistObjectIdentifiers.IdAes256Ofb,\r\n      NistObjectIdentifiers.IdAes256Wrap);\r\n    ...\r\n\r\n","title":"Problem with encrypt/decrypting files using aes256gcm algorithm in envelopedCms. What are mine options?","body":"<p>I'm sorry, as per <a href=\"https://github.com/bcgit/bc-csharp/blob/5bd4c8c70f80f1e7ead8e3c73459b78eb93d0ef7/crypto/src/security/GeneratorUtilities.cs\" rel=\"nofollow noreferrer\">https://github.com/bcgit/bc-csharp/blob/5bd4c8c70f80f1e7ead8e3c73459b78eb93d0ef7/crypto/src/security/GeneratorUtilities.cs</a> it seems to be that AES-256-GCM mode is not available even in actual C# Bouncy Castle:</p>\n<pre><code>static GeneratorUtilities()\n...\nAddKgAlgorithm(&quot;AES256&quot;,\n  &quot;2.16.840.1.101.3.4.42&quot;,\n  NistObjectIdentifiers.IdAes256Cbc,\n  NistObjectIdentifiers.IdAes256Cfb,\n  NistObjectIdentifiers.IdAes256Ecb,\n  NistObjectIdentifiers.IdAes256Ofb,\n  NistObjectIdentifiers.IdAes256Wrap);\n...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17878859,"reputation":107,"user_id":12988185,"display_name":"Zeljko Marinkovic"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641298588,"creation_date":1641298588,"answer_id":70578653,"question_id":63645554,"body_markdown":"As per [Michael Fehr][1] comment AES-256-GCM module is not available in C# Bouncy Castle so we made Java Api and called from our codebase\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/63659982/12988185","title":"Problem with encrypt/decrypting files using aes256gcm algorithm in envelopedCms. What are mine options?","body":"<p>As per <a href=\"https://stackoverflow.com/a/63659982/12988185\">Michael Fehr</a> comment AES-256-GCM module is not available in C# Bouncy Castle so we made Java Api and called from our codebase</p>\n"}],"owner":{"account_id":17878859,"reputation":107,"user_id":12988185,"display_name":"Zeljko Marinkovic"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":834,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1641298588,"creation_date":1598694078,"question_id":63645554,"body_markdown":"I&#39;m trying to replicate example from Java in c# with partial success\r\n\r\n```\r\n    CMSEnvelopedDataStreamGenerator gen = new CMSEnvelopedDataStreamGenerator();\r\n\r\n    // NOTE: Uses the RECEIVER&#39;s PUBLIC encryption key\r\n    gen.addRecipientInfoGenerator(new JceKeyTransRecipientInfoGenerator(remoteEncryptionCert, rsaesOaepIdentifier()));\r\n\r\n    OutputEncryptor encryptor = new JceCMSContentEncryptorBuilder(CMSAlgorithm.AES256_GCM).setProvider(BC).build();\r\n\r\n    try (FileOutputStream fileStream = new FileOutputStream(OUTPUT_FILE); OutputStream encryptingOutputStream = gen.open(fileStream, encryptor)) {\r\n                \r\n                //\r\n                // write file\r\n                //\r\n \r\n                encryptingOutputStream.flush();\r\n            }\r\n\r\n```\r\nI&#39;ve tried so far\r\n\r\n\r\n\r\nUsing System.Security.Cryptography.Pkcs \r\n\r\n```\r\npublic byte[] Encrypt(byte[] plainBytes, X509Certificate2 recipientCert)\r\n{\r\n    // create ContentInfo\r\n    ContentInfo plainContent = new ContentInfo(plainBytes);\r\n\r\n    // EnvelopedCms represents encrypted data\r\n    Oid encryptAlgoOid = new Oid(&quot;2.16.840.1.101.3.4.1.46&quot;); // AES-256-GCM, \r\n    //Oid encryptAlgoOid = new Oid(&quot;2.16.840.1.101.3.4.1.42&quot;); // AES-256-CBC\r\n    EnvelopedCms encryptedData = new EnvelopedCms(plainContent, new AlgorithmIdentifier(encryptAlgoOid));\r\n\r\n    // add a recipient\r\n    CmsRecipient recipient = new CmsRecipient(recipientCert);\r\n\r\n    // encrypt data with public key of recipient\r\n    encryptedData.Encrypt(recipient); //Throws &quot;Unknown cryptographic algorithm.&quot;\r\n\r\n    // create PKCS #7 byte array\r\n    byte[] encryptedBytes = encryptedData.Encode();\r\n\r\n    // return encrypted data\r\n    return encryptedBytes;\r\n}\r\n```\r\n\r\nerror stack trace \r\n```\r\nUnknown cryptographic algorithm.\r\n   at Internal.Cryptography.Pal.Windows.PkcsPalWindows.EncodeHelpers.CreateCryptMsgHandleToEncode(CmsRecipientCollection recipients, Oid innerContentType, AlgorithmIdentifier contentEncryptionAlgorithm, X509Certificate2Collection originatorCerts, CryptographicAttributeObjectCollection unprotectedAttributes)\r\n   at Internal.Cryptography.Pal.Windows.PkcsPalWindows.Encrypt(CmsRecipientCollection recipients, ContentInfo contentInfo, AlgorithmIdentifier contentEncryptionAlgorithm, X509Certificate2Collection originatorCerts, CryptographicAttributeObjectCollection unprotectedAttributes)\r\n   at System.Security.Cryptography.Pkcs.EnvelopedCms.Encrypt(CmsRecipientCollection recipients)\r\n   at System.Security.Cryptography.Pkcs.EnvelopedCms.Encrypt(CmsRecipient recipient)\r\n   at ConsoleApp1.Program.Encrypt() in Program.cs:line 91\r\n```\r\nUsing Org.BouncyCastle.Cms\r\n\r\n```\r\npublic byte[] Encrypt(X509Certificate2 recipientCert)\r\n{\r\n    // file stream\r\n    FileStream fileEncrypted = new FileStream(pathToFile)\r\n\r\n    CmsEnvelopedDataStreamGenerator gen = new CmsEnvelopedDataStreamGenerator();\r\n    gen.AddKeyTransRecipient(recipientCert);\r\n\r\n    var outEncryptedStream = gen.Open(fileEncrypted, &quot;2.16.840.1.101.3.4.1.46&quot;); \r\n    // Throws &quot;KeyGenerator 2.16.840.1.101.3.4.1.46 not recognised.&quot; CmsEnvelopedDataGenerator doesn&#39;t \r\n    // have named constant for aes256gcm \r\n\r\n    return outEncryptedStream\r\n}\r\n``` \r\n\r\nerror stack trace\r\n```\r\nKeyGenerator 2.16.840.1.101.3.4.1.46 not recognised.\r\n   at Org.BouncyCastle.Security.GeneratorUtilities.GetKeyGenerator(String algorithm)\r\n   at Org.BouncyCastle.Cms.CmsEnvelopedDataStreamGenerator.Open(Stream outStream, String encryptionOid)\r\n   at ConsoleApp1.Program.Encrypt() in Program.cs:line 128\r\n```\r\n\r\nI have to make it work in a way so i can encrypt files with c# code and decrypt with java and vice versa.\r\n\r\n\r\n\r\nWhat i noticed that i if i encrypt file in c# using Aes256CBC i can decrypt it in java, hows that possible? Does that mean that i implemented encryption wrong?\r\n\r\nSo what are mine options to make this work?","title":"Problem with encrypt/decrypting files using aes256gcm algorithm in envelopedCms. What are mine options?","body":"<p>I'm trying to replicate example from Java in c# with partial success</p>\n<pre><code>    CMSEnvelopedDataStreamGenerator gen = new CMSEnvelopedDataStreamGenerator();\n\n    // NOTE: Uses the RECEIVER's PUBLIC encryption key\n    gen.addRecipientInfoGenerator(new JceKeyTransRecipientInfoGenerator(remoteEncryptionCert, rsaesOaepIdentifier()));\n\n    OutputEncryptor encryptor = new JceCMSContentEncryptorBuilder(CMSAlgorithm.AES256_GCM).setProvider(BC).build();\n\n    try (FileOutputStream fileStream = new FileOutputStream(OUTPUT_FILE); OutputStream encryptingOutputStream = gen.open(fileStream, encryptor)) {\n                \n                //\n                // write file\n                //\n \n                encryptingOutputStream.flush();\n            }\n\n</code></pre>\n<p>I've tried so far</p>\n<p>Using System.Security.Cryptography.Pkcs</p>\n<pre><code>public byte[] Encrypt(byte[] plainBytes, X509Certificate2 recipientCert)\n{\n    // create ContentInfo\n    ContentInfo plainContent = new ContentInfo(plainBytes);\n\n    // EnvelopedCms represents encrypted data\n    Oid encryptAlgoOid = new Oid(&quot;2.16.840.1.101.3.4.1.46&quot;); // AES-256-GCM, \n    //Oid encryptAlgoOid = new Oid(&quot;2.16.840.1.101.3.4.1.42&quot;); // AES-256-CBC\n    EnvelopedCms encryptedData = new EnvelopedCms(plainContent, new AlgorithmIdentifier(encryptAlgoOid));\n\n    // add a recipient\n    CmsRecipient recipient = new CmsRecipient(recipientCert);\n\n    // encrypt data with public key of recipient\n    encryptedData.Encrypt(recipient); //Throws &quot;Unknown cryptographic algorithm.&quot;\n\n    // create PKCS #7 byte array\n    byte[] encryptedBytes = encryptedData.Encode();\n\n    // return encrypted data\n    return encryptedBytes;\n}\n</code></pre>\n<p>error stack trace</p>\n<pre><code>Unknown cryptographic algorithm.\n   at Internal.Cryptography.Pal.Windows.PkcsPalWindows.EncodeHelpers.CreateCryptMsgHandleToEncode(CmsRecipientCollection recipients, Oid innerContentType, AlgorithmIdentifier contentEncryptionAlgorithm, X509Certificate2Collection originatorCerts, CryptographicAttributeObjectCollection unprotectedAttributes)\n   at Internal.Cryptography.Pal.Windows.PkcsPalWindows.Encrypt(CmsRecipientCollection recipients, ContentInfo contentInfo, AlgorithmIdentifier contentEncryptionAlgorithm, X509Certificate2Collection originatorCerts, CryptographicAttributeObjectCollection unprotectedAttributes)\n   at System.Security.Cryptography.Pkcs.EnvelopedCms.Encrypt(CmsRecipientCollection recipients)\n   at System.Security.Cryptography.Pkcs.EnvelopedCms.Encrypt(CmsRecipient recipient)\n   at ConsoleApp1.Program.Encrypt() in Program.cs:line 91\n</code></pre>\n<p>Using Org.BouncyCastle.Cms</p>\n<pre><code>public byte[] Encrypt(X509Certificate2 recipientCert)\n{\n    // file stream\n    FileStream fileEncrypted = new FileStream(pathToFile)\n\n    CmsEnvelopedDataStreamGenerator gen = new CmsEnvelopedDataStreamGenerator();\n    gen.AddKeyTransRecipient(recipientCert);\n\n    var outEncryptedStream = gen.Open(fileEncrypted, &quot;2.16.840.1.101.3.4.1.46&quot;); \n    // Throws &quot;KeyGenerator 2.16.840.1.101.3.4.1.46 not recognised.&quot; CmsEnvelopedDataGenerator doesn't \n    // have named constant for aes256gcm \n\n    return outEncryptedStream\n}\n</code></pre>\n<p>error stack trace</p>\n<pre><code>KeyGenerator 2.16.840.1.101.3.4.1.46 not recognised.\n   at Org.BouncyCastle.Security.GeneratorUtilities.GetKeyGenerator(String algorithm)\n   at Org.BouncyCastle.Cms.CmsEnvelopedDataStreamGenerator.Open(Stream outStream, String encryptionOid)\n   at ConsoleApp1.Program.Encrypt() in Program.cs:line 128\n</code></pre>\n<p>I have to make it work in a way so i can encrypt files with c# code and decrypt with java and vice versa.</p>\n<p>What i noticed that i if i encrypt file in c# using Aes256CBC i can decrypt it in java, hows that possible? Does that mean that i implemented encryption wrong?</p>\n<p>So what are mine options to make this work?</p>\n"},{"tags":["java","minecraft","bukkit"],"answers":[{"tags":[],"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641298506,"creation_date":1641298506,"answer_id":70578631,"question_id":70568433,"body_markdown":"You seems to don&#39;t have declared the commands in your plugin.\r\n\r\nYou should declare commands in your `plugin.yml` file like that :\r\n```yml\r\ncommands:\r\n  fw:\r\n  f:\r\n  armor:\r\n  glow:\r\n  team:\r\n```\r\nThen, in your `onEnable()` method, do like that :\r\n```java\r\ngetCommand(&quot;fw&quot;).setExecutor(new FireworkCMD());\r\ngetCommand(&quot;armor&quot;).setExecutor(new LeatherarmorCMD());\r\ngetCommand(&quot;f&quot;).setExecutor(new FlyCMD());\r\ngetCommand(&quot;glow&quot;).setExecutor(new GlowCMD());\r\ngetCommand(&quot;team&quot;).setExecutor(new TeamCommand());\r\n```\r\n[Documentation](https://www.spigotmc.org/wiki/create-a-simple-command/)","title":"java.lang.NullPointerException: null | Bukkit.getPluginCommand Error, Spigot API 1.16 using","body":"<p>You seems to don't have declared the commands in your plugin.</p>\n<p>You should declare commands in your <code>plugin.yml</code> file like that :</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>commands:\n  fw:\n  f:\n  armor:\n  glow:\n  team:\n</code></pre>\n<p>Then, in your <code>onEnable()</code> method, do like that :</p>\n<pre class=\"lang-java prettyprint-override\"><code>getCommand(&quot;fw&quot;).setExecutor(new FireworkCMD());\ngetCommand(&quot;armor&quot;).setExecutor(new LeatherarmorCMD());\ngetCommand(&quot;f&quot;).setExecutor(new FlyCMD());\ngetCommand(&quot;glow&quot;).setExecutor(new GlowCMD());\ngetCommand(&quot;team&quot;).setExecutor(new TeamCommand());\n</code></pre>\n<p><a href=\"https://www.spigotmc.org/wiki/create-a-simple-command/\" rel=\"nofollow noreferrer\">Documentation</a></p>\n"}],"owner":{"account_id":23021709,"reputation":1,"user_id":17142652,"display_name":"lowtime"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":529,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1641298813,"answer_count":1,"score":-1,"last_activity_date":1641298562,"creation_date":1641225930,"question_id":70568433,"body_markdown":"Here I implemented my commands: \r\n\r\n    Bukkit.getPluginCommand(&quot;fw&quot;).setExecutor((CommandExecutor)new FireworkCMD());\r\n    Bukkit.getPluginCommand(&quot;armor&quot;).setExecutor((CommandExecutor)new LeatherarmorCMD());\r\n    Bukkit.getPluginCommand(&quot;f&quot;).setExecutor((CommandExecutor)new FlyCMD());\r\n    Bukkit.getPluginCommand(&quot;glow&quot;).setExecutor((CommandExecutor)new GlowCMD());\r\n    Bukkit.getPluginCommand(&quot;team&quot;).setExecutor((CommandExecutor)new TeamCommand());\r\n    Bukkit.getPluginManager().registerEvents((Listener)new MainListener(), (Plugin)this);\r\n    Bukkit.getPluginManager().registerEvents((Listener)new INventoryListener(), (Plugin)this);\r\n    Bukkit.getPluginCommand(&quot;gm&quot;).setExecutor((CommandExecutor)new GMCMD());\r\n\r\nBut it comes that error using Paper 1.16:\r\n\r\n    at de.universenetwork.vipfeatures.Vipfeatures.onEnable(Vipfeatures.java:19) ~[?:?]\r\n\tat org.bukkit.plugin.java.JavaPlugin.setEnabled(JavaPlugin.java:263) ~[patched_1.16.5.jar:git-Paper-794]\r\n\tat org.bukkit.plugin.java.JavaPluginLoader.enablePlugin(JavaPluginLoader.java:370) ~[patched_1.16.5.jar:git-Paper-794]\r\n\tat org.bukkit.plugin.SimplePluginManager.enablePlugin(SimplePluginManager.java:500) ~[patched_1.16.5.jar:git-Paper-794]\r\n\tat org.bukkit.craftbukkit.v1_16_R3.CraftServer.enablePlugin(CraftServer.java:518) ~[patched_1.16.5.jar:git-Paper-794]\r\n\tat org.bukkit.craftbukkit.v1_16_R3.CraftServer.enablePlugins(CraftServer.java:432) ~[patched_1.16.5.jar:git-Paper-794]\r\n\tat net.minecraft.server.v1_16_R3.MinecraftServer.loadWorld(MinecraftServer.java:599) ~[patched_1.16.5.jar:git-Paper-794]\r\n\tat net.minecraft.server.v1_16_R3.DedicatedServer.init(DedicatedServer.java:298) ~[patched_1.16.5.jar:git-Paper-794]\r\n\tat net.minecraft.server.v1_16_R3.MinecraftServer.w(MinecraftServer.java:1074) ~[patched_1.16.5.jar:git-Paper-794]\r\n\tat net.minecraft.server.v1_16_R3.MinecraftServer.lambda$a$0(MinecraftServer.java:291) ~[patched_1.16.5.jar:git-Paper-794]\r\n","title":"java.lang.NullPointerException: null | Bukkit.getPluginCommand Error, Spigot API 1.16 using","body":"<p>Here I implemented my commands:</p>\n<pre><code>Bukkit.getPluginCommand(&quot;fw&quot;).setExecutor((CommandExecutor)new FireworkCMD());\nBukkit.getPluginCommand(&quot;armor&quot;).setExecutor((CommandExecutor)new LeatherarmorCMD());\nBukkit.getPluginCommand(&quot;f&quot;).setExecutor((CommandExecutor)new FlyCMD());\nBukkit.getPluginCommand(&quot;glow&quot;).setExecutor((CommandExecutor)new GlowCMD());\nBukkit.getPluginCommand(&quot;team&quot;).setExecutor((CommandExecutor)new TeamCommand());\nBukkit.getPluginManager().registerEvents((Listener)new MainListener(), (Plugin)this);\nBukkit.getPluginManager().registerEvents((Listener)new INventoryListener(), (Plugin)this);\nBukkit.getPluginCommand(&quot;gm&quot;).setExecutor((CommandExecutor)new GMCMD());\n</code></pre>\n<p>But it comes that error using Paper 1.16:</p>\n<pre><code>at de.universenetwork.vipfeatures.Vipfeatures.onEnable(Vipfeatures.java:19) ~[?:?]\nat org.bukkit.plugin.java.JavaPlugin.setEnabled(JavaPlugin.java:263) ~[patched_1.16.5.jar:git-Paper-794]\nat org.bukkit.plugin.java.JavaPluginLoader.enablePlugin(JavaPluginLoader.java:370) ~[patched_1.16.5.jar:git-Paper-794]\nat org.bukkit.plugin.SimplePluginManager.enablePlugin(SimplePluginManager.java:500) ~[patched_1.16.5.jar:git-Paper-794]\nat org.bukkit.craftbukkit.v1_16_R3.CraftServer.enablePlugin(CraftServer.java:518) ~[patched_1.16.5.jar:git-Paper-794]\nat org.bukkit.craftbukkit.v1_16_R3.CraftServer.enablePlugins(CraftServer.java:432) ~[patched_1.16.5.jar:git-Paper-794]\nat net.minecraft.server.v1_16_R3.MinecraftServer.loadWorld(MinecraftServer.java:599) ~[patched_1.16.5.jar:git-Paper-794]\nat net.minecraft.server.v1_16_R3.DedicatedServer.init(DedicatedServer.java:298) ~[patched_1.16.5.jar:git-Paper-794]\nat net.minecraft.server.v1_16_R3.MinecraftServer.w(MinecraftServer.java:1074) ~[patched_1.16.5.jar:git-Paper-794]\nat net.minecraft.server.v1_16_R3.MinecraftServer.lambda$a$0(MinecraftServer.java:291) ~[patched_1.16.5.jar:git-Paper-794]\n</code></pre>\n"},{"tags":["java","spring-boot","spring-data-jpa","relationship"],"owner":{"account_id":23822589,"reputation":21,"user_id":17830082,"display_name":"Leo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":746,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":0,"score":1,"last_activity_date":1641298541,"creation_date":1641294291,"question_id":70577776,"body_markdown":"I have 2 models: Order and User. There are id, orderDate, totalPrice, totalDiscount, price and **userId** in Order model. I want to reference **id** from **User** to **userId** to **Order**. How can I do this with using Spring Boot, Spring Data Jpa and Hibernate? Then I use MySQL workbench.\r\n\r\nTechnologies which I used: Spring Boot, Spring Data Jpa, Hibernate, MySQL, Liquebase, Lombok, ModelMapper and Spring Boot Validation.\r\n\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    Order.java\r\n    @Data\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Entity\r\n    @Table(name=&quot;orders&quot;)\r\n    public class Order {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n\r\n        @JsonFormat(pattern = &quot;yyyy-MM-dd HH:mm:ss&quot;, shape = JsonFormat.Shape.STRING)\r\n        @ApiModelProperty(required = true, example = &quot;2021-08-20T00:00:00&quot;)\r\n        @NotNull(message = &quot;Created date cannot be null&quot;)\r\n        private LocalDateTime orderDate;\r\n\r\n        @NotNull(message = &quot;Total price cannot be null&quot;)\r\n        private BigDecimal totalPrice;\r\n\r\n        @NotNull(message = &quot;Total discount cannot be null&quot;)\r\n        private BigDecimal totalDiscount;\r\n\r\n        @NotNull(message = &quot;Price cannot be null&quot;)\r\n        private BigDecimal price;\r\n\r\n        @OneToOne(fetch = FetchType.EAGER)\r\n        @JoinColumn(name=&quot;id&quot;, referencedColumnName = &quot;id&quot;, insertable = false, updatable = false)\r\n    //    @NotNull(message = &quot;User ID cannot be null&quot;)\r\n        private User user;\r\n\r\n        @OneToMany\r\n        @JoinColumn(name=&quot;order_id&quot;)\r\n        private List&lt;OrderProduct&gt; orderProducts;\r\n    }\r\n\r\n\r\n    User.java\r\n    @Data\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Entity\r\n    @Table(name=&quot;users&quot;)\r\n    public class User {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n\r\n        @NotBlank(message = &quot;Name cannot be blank&quot;)\r\n        private String name;\r\n\r\n        @NotBlank(message = &quot;Email cannot be blank&quot;)\r\n        @Email(message = &quot;Email should be valid&quot;)\r\n        private String email;\r\n\r\n        @NotNull(message = &quot;Password cannot be null&quot;)\r\n        @Size(min = 8, message = &quot;Password should have at least 8 characters&quot;)\r\n        private String password;\r\n\r\n        @NotNull(message = &quot;Password cannot be null&quot;)\r\n        @Size(min = 8, message = &quot;Password should have at least 8 characters&quot;)\r\n        private String confirmPassword;\r\n\r\n        @OneToMany(mappedBy = &quot;id&quot;) // mappedBy added: 04.01.2022\r\n        @JoinColumn(name=&quot;order_id&quot;, nullable = false)\r\n        private List&lt;Order&gt; orders;\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;","title":"How to reference one model id to another model in Java (Spring Boot)?","body":"<p>I have 2 models: Order and User. There are id, orderDate, totalPrice, totalDiscount, price and <strong>userId</strong> in Order model. I want to reference <strong>id</strong> from <strong>User</strong> to <strong>userId</strong> to <strong>Order</strong>. How can I do this with using Spring Boot, Spring Data Jpa and Hibernate? Then I use MySQL workbench.</p>\n<p>Technologies which I used: Spring Boot, Spring Data Jpa, Hibernate, MySQL, Liquebase, Lombok, ModelMapper and Spring Boot Validation.</p>\n<pre class=\"lang-html prettyprint-override\"><code>Order.java\n@Data\n@NoArgsConstructor\n@AllArgsConstructor\n@Entity\n@Table(name=&quot;orders&quot;)\npublic class Order {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @JsonFormat(pattern = &quot;yyyy-MM-dd HH:mm:ss&quot;, shape = JsonFormat.Shape.STRING)\n    @ApiModelProperty(required = true, example = &quot;2021-08-20T00:00:00&quot;)\n    @NotNull(message = &quot;Created date cannot be null&quot;)\n    private LocalDateTime orderDate;\n\n    @NotNull(message = &quot;Total price cannot be null&quot;)\n    private BigDecimal totalPrice;\n\n    @NotNull(message = &quot;Total discount cannot be null&quot;)\n    private BigDecimal totalDiscount;\n\n    @NotNull(message = &quot;Price cannot be null&quot;)\n    private BigDecimal price;\n\n    @OneToOne(fetch = FetchType.EAGER)\n    @JoinColumn(name=&quot;id&quot;, referencedColumnName = &quot;id&quot;, insertable = false, updatable = false)\n//    @NotNull(message = &quot;User ID cannot be null&quot;)\n    private User user;\n\n    @OneToMany\n    @JoinColumn(name=&quot;order_id&quot;)\n    private List&lt;OrderProduct&gt; orderProducts;\n}\n\n\nUser.java\n@Data\n@NoArgsConstructor\n@AllArgsConstructor\n@Entity\n@Table(name=&quot;users&quot;)\npublic class User {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @NotBlank(message = &quot;Name cannot be blank&quot;)\n    private String name;\n\n    @NotBlank(message = &quot;Email cannot be blank&quot;)\n    @Email(message = &quot;Email should be valid&quot;)\n    private String email;\n\n    @NotNull(message = &quot;Password cannot be null&quot;)\n    @Size(min = 8, message = &quot;Password should have at least 8 characters&quot;)\n    private String password;\n\n    @NotNull(message = &quot;Password cannot be null&quot;)\n    @Size(min = 8, message = &quot;Password should have at least 8 characters&quot;)\n    private String confirmPassword;\n\n    @OneToMany(mappedBy = &quot;id&quot;) // mappedBy added: 04.01.2022\n    @JoinColumn(name=&quot;order_id&quot;, nullable = false)\n    private List&lt;Order&gt; orders;\n}\n</code></pre>\n\n"},{"tags":["java","netbeans","netflix"],"answers":[{"tags":[],"owner":{"account_id":19011833,"reputation":25,"user_id":13877613,"display_name":"Sylas Coker"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641298416,"creation_date":1623253899,"answer_id":67907625,"question_id":67907451,"body_markdown":"Change the action listener&#39;s access modifier to public and set &quot;this&quot; to public, like so...\r\n\r\n```\r\npublic void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {                                         \r\n    String Tarjeta = BTarjeta.getText();\r\n    String MesExpiracion = (String) BMes.getSelectedItem();\r\n    String A&#241;oExpiracion = (String) Ba&#241;o.getSelectedItem();\r\n    String Saldo = BSaldo.getText();\r\n    \r\n    \r\n    \r\n    try{\r\n        int SaldoInt = Integer.parseInt(Saldo);\r\n        System.out.println(Saldo + 25); // output = 25\r\n    }\r\n    catch (NumberFormatException ex){\r\n        ex.printStackTrace();\r\n    }\r\n            \r\n    \r\n    \r\n   \r\n    this.setVisible(true);\r\n    Opciones c = new Opciones();\r\n    c.setVisible(true);\r\n```\r\n\r\nIf you also want to use this action listener in another class you can do:\r\n\r\n```\r\nclassExample class = new classExample();\r\nclass.jButton1ActionPerformed();\r\n```\r\n","title":"Use variable from Private Button ActionListener to another jframe","body":"<p>Change the action listener's access modifier to public and set &quot;this&quot; to public, like so...</p>\n<pre><code>public void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {                                         \n    String Tarjeta = BTarjeta.getText();\n    String MesExpiracion = (String) BMes.getSelectedItem();\n    String AñoExpiracion = (String) Baño.getSelectedItem();\n    String Saldo = BSaldo.getText();\n    \n    \n    \n    try{\n        int SaldoInt = Integer.parseInt(Saldo);\n        System.out.println(Saldo + 25); // output = 25\n    }\n    catch (NumberFormatException ex){\n        ex.printStackTrace();\n    }\n            \n    \n    \n   \n    this.setVisible(true);\n    Opciones c = new Opciones();\n    c.setVisible(true);\n</code></pre>\n<p>If you also want to use this action listener in another class you can do:</p>\n<pre><code>classExample class = new classExample();\nclass.jButton1ActionPerformed();\n</code></pre>\n"}],"owner":{"account_id":21890362,"reputation":1,"user_id":16177422,"display_name":"Ali Kriem"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":141,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1641298416,"creation_date":1623253221,"question_id":67907451,"body_markdown":"I&#39;m pretty new to java and I am trying to create some sort of Netflix in java using NetBeans. The problem that I have is that when putting your payment method, you have to input the amount of money you have in the account so that I the program can do the payment and verify if you can even do it.\r\n\r\n[1]: https://i.stack.imgur.com/eqdYt.png\r\nThe problem now is that the input is done by clicking the &quot;Siguiente&quot; Button which means next in Spanish, and the ActionListener is in a private mode, so after that I can&#39;t use this variable in another frame where you choose your type of subscription and do the payment.\r\n\r\n    private void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {                                         \r\n        String Tarjeta = BTarjeta.getText();\r\n        String MesExpiracion = (String) BMes.getSelectedItem();\r\n        String A&#241;oExpiracion = (String) Ba&#241;o.getSelectedItem();\r\n        String Saldo = BSaldo.getText();\r\n        \r\n        \r\n        \r\n        try{\r\n            int SaldoInt = Integer.parseInt(Saldo);\r\n            System.out.println(Saldo + 25); // output = 25\r\n        }\r\n        catch (NumberFormatException ex){\r\n            ex.printStackTrace();\r\n        }\r\n                \r\n        \r\n        \r\n       \r\n        this.setVisible(false);\r\n        Opciones c = new Opciones();\r\n        c.setVisible(true);\r\n  \r\nThis is the private ActionListener that I have on the first frame. I tried changing the button&#39;s properties too by making it public but it didn&#39;t change the ActionListener&#39;s ones.","title":"Use variable from Private Button ActionListener to another jframe","body":"<p>I'm pretty new to java and I am trying to create some sort of Netflix in java using NetBeans. The problem that I have is that when putting your payment method, you have to input the amount of money you have in the account so that I the program can do the payment and verify if you can even do it.</p>\n<p>The problem now is that the input is done by clicking the &quot;Siguiente&quot; Button which means next in Spanish, and the ActionListener is in a private mode, so after that I can't use this variable in another frame where you choose your type of subscription and do the payment.</p>\n<pre><code>private void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {                                         \n    String Tarjeta = BTarjeta.getText();\n    String MesExpiracion = (String) BMes.getSelectedItem();\n    String AñoExpiracion = (String) Baño.getSelectedItem();\n    String Saldo = BSaldo.getText();\n    \n    \n    \n    try{\n        int SaldoInt = Integer.parseInt(Saldo);\n        System.out.println(Saldo + 25); // output = 25\n    }\n    catch (NumberFormatException ex){\n        ex.printStackTrace();\n    }\n            \n    \n    \n   \n    this.setVisible(false);\n    Opciones c = new Opciones();\n    c.setVisible(true);\n</code></pre>\n<p>This is the private ActionListener that I have on the first frame. I tried changing the button's properties too by making it public but it didn't change the ActionListener's ones.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1641292193,"post_id":70577290,"comment_id":124761527,"body_markdown":"`public static final DEFAULT = new A(0, 0.0);` this will not even compile... and what is `Color.RED`?","body":"<code>public static final DEFAULT = new A(0, 0.0);</code> this will not even compile... and what is <code>Color.RED</code>?"},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":1,"creation_date":1641295321,"post_id":70577290,"comment_id":124762639,"body_markdown":"Do you insist declaring `A` as nested class? Because I would suggest not to nest the class at all. Unless there is a strong relation between the nested class and its outer class, which I think there isn&#39;t.","body":"Do you insist declaring <code>A</code> as nested class? Because I would suggest not to nest the class at all. Unless there is a strong relation between the nested class and its outer class, which I think there isn&#39;t."}],"answers":[{"tags":[],"owner":{"account_id":8198,"reputation":176773,"user_id":14637,"accept_rate":88,"display_name":"Thomas"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1641293888,"creation_date":1641292274,"answer_id":70577350,"question_id":70577290,"body_markdown":"Apart from the obvious problem that you missed a type (`A`) on the definition of `DEFAULT`...\r\n\r\nThe problem isn&#39;t that &quot;the class has [not] been loaded&quot;. The problem is that, in Java, every instance of an inner class implicitly has a reference to the instance of the outer class that created it. Since there is no instance of the outer class when initializing the `static` field, you get an error:\r\n\r\n```\r\nMyApplication.java:5: error: non-static variable this cannot be referenced from a static context\r\n        public static final A DEFAULT = new A(0, 0.0);\r\n                                        ^\r\n```\r\n\r\nAnd in all but the most recent Java versions, even declaring a `static` field inside a non-static inner class is illegal, no matter what value you give it:\r\n\r\n```\r\nMyApplication.java:5: error: Illegal static declaration in inner class MyApplication.A\r\n        public static final A DEFAULT = new A(0, 0.0);\r\n                              ^\r\n  modifier &#39;static&#39; is only allowed in constant variable declarations\r\n```\r\n\r\nThe solution is to make the inner class _not_ have a reference to the outer class, which you do by declaring `A` as static:\r\n\r\n    class MyApplication {\r\n        static class A {\r\n        ^^^^^^","title":"How to initialize a static field as an object of the same class in Java?","body":"<p>Apart from the obvious problem that you missed a type (<code>A</code>) on the definition of <code>DEFAULT</code>...</p>\n<p>The problem isn't that &quot;the class has [not] been loaded&quot;. The problem is that, in Java, every instance of an inner class implicitly has a reference to the instance of the outer class that created it. Since there is no instance of the outer class when initializing the <code>static</code> field, you get an error:</p>\n<pre><code>MyApplication.java:5: error: non-static variable this cannot be referenced from a static context\n        public static final A DEFAULT = new A(0, 0.0);\n                                        ^\n</code></pre>\n<p>And in all but the most recent Java versions, even declaring a <code>static</code> field inside a non-static inner class is illegal, no matter what value you give it:</p>\n<pre><code>MyApplication.java:5: error: Illegal static declaration in inner class MyApplication.A\n        public static final A DEFAULT = new A(0, 0.0);\n                              ^\n  modifier 'static' is only allowed in constant variable declarations\n</code></pre>\n<p>The solution is to make the inner class <em>not</em> have a reference to the outer class, which you do by declaring <code>A</code> as static:</p>\n<pre><code>class MyApplication {\n    static class A {\n    ^^^^^^\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5681081,"reputation":5785,"user_id":10082297,"display_name":"Henry Twist"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1641295993,"creation_date":1641292305,"answer_id":70577365,"question_id":70577290,"body_markdown":"This has nothing to do with constructor calls, you&#39;ve just made a couple of simple mistakes.\r\n\r\nYou haven&#39;t specified a type for `DEFAULT`:\r\n```\r\npublic static final A DEFAULT\r\n```\r\n\r\nYou cannot instantiate an `A` without an instance of `MyApplication`, as `A` is an inner class:\r\n```\r\nnew MyApplication().new A(0, 0.0);\r\n```\r\n\r\nHowever you probably didn&#39;t intend to make `A` an inner class, so I would mark it as `static`. Without any extra context, it seems as if `A` has no relation to `MyApplication` so shouldn&#39;t depend on it.\r\n\r\n---\r\n\r\n*Note: In Java 15 and below, static declarations weren&#39;t even allowed in inner classes (as pointed out by [@Johannes Kuhn][1]).*\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/70577290/how-to-initialize-a-static-field-as-an-object-of-the-same-class-in-java/70577365#comment124761775_70577350","title":"How to initialize a static field as an object of the same class in Java?","body":"<p>This has nothing to do with constructor calls, you've just made a couple of simple mistakes.</p>\n<p>You haven't specified a type for <code>DEFAULT</code>:</p>\n<pre><code>public static final A DEFAULT\n</code></pre>\n<p>You cannot instantiate an <code>A</code> without an instance of <code>MyApplication</code>, as <code>A</code> is an inner class:</p>\n<pre><code>new MyApplication().new A(0, 0.0);\n</code></pre>\n<p>However you probably didn't intend to make <code>A</code> an inner class, so I would mark it as <code>static</code>. Without any extra context, it seems as if <code>A</code> has no relation to <code>MyApplication</code> so shouldn't depend on it.</p>\n<hr />\n<p><em>Note: In Java 15 and below, static declarations weren't even allowed in inner classes (as pointed out by <a href=\"https://stackoverflow.com/questions/70577290/how-to-initialize-a-static-field-as-an-object-of-the-same-class-in-java/70577365#comment124761775_70577350\">@Johannes Kuhn</a>).</em></p>\n"}],"owner":{"account_id":5652515,"reputation":353,"user_id":4542466,"display_name":"Leonard Michlmayr"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1641323522,"accepted_answer_id":70577350,"answer_count":2,"score":-2,"last_activity_date":1641298293,"creation_date":1641291992,"question_id":70577290,"body_markdown":"I have a simple nested class A. (In C I would use a struct.) I want to provide a default object A.DEFAULT of class A without having to call the constructor each time. So my idea was this:\r\n```\r\nclass MyApplication {\r\n   class A {\r\n        int x;\r\n        double y;\r\n        public static final A DEFAULT = new A(0, 0.0);\r\n\r\n        public A(int x, double y) {\r\n            this.x = x;\r\n            this.y = y;\r\n        }\r\n    }\r\n    …\r\n```\r\nObviously, this does not work, because the constructor cannot be called before the class has been loaded.\r\n\r\n**How to handle this?**\r\nHow does e. g. java.awt.Color.RED handle this?\r\n","title":"How to initialize a static field as an object of the same class in Java?","body":"<p>I have a simple nested class A. (In C I would use a struct.) I want to provide a default object A.DEFAULT of class A without having to call the constructor each time. So my idea was this:</p>\n<pre><code>class MyApplication {\n   class A {\n        int x;\n        double y;\n        public static final A DEFAULT = new A(0, 0.0);\n\n        public A(int x, double y) {\n            this.x = x;\n            this.y = y;\n        }\n    }\n    …\n</code></pre>\n<p>Obviously, this does not work, because the constructor cannot be called before the class has been loaded.</p>\n<p><strong>How to handle this?</strong>\nHow does e. g. java.awt.Color.RED handle this?</p>\n"},{"tags":["java","vaadin"],"comments":[{"owner":{"account_id":295383,"reputation":4686,"user_id":599765,"accept_rate":22,"display_name":"Andr&#233; Schild"},"score":1,"creation_date":1641293588,"post_id":70577306,"comment_id":124762052,"body_markdown":"Which vaadin version are you using? For v8 there exists such an addon","body":"Which vaadin version are you using? For v8 there exists such an addon"},{"owner":{"account_id":9464807,"reputation":132,"user_id":7037530,"display_name":"Anton Serdyuchenko"},"score":0,"creation_date":1642746627,"post_id":70577306,"comment_id":125158745,"body_markdown":"I am using v14.","body":"I am using v14."}],"answers":[{"tags":[],"owner":{"account_id":2759852,"reputation":7920,"user_id":2376954,"display_name":"Leif &#197;strand"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1641298241,"creation_date":1641298241,"answer_id":70578591,"question_id":70577306,"body_markdown":"If you change the value change mode of the text field to `ValueChangeMode.EAGER`, then there will be a server-side value change event every time the value is changed which means that you can do `getValue().length()` to find the length. This approach is really straightforward but it has the drawback that it causes some redundant network traffic since each change needs to be processed on the server.\r\n\r\nIf you want something that avoids sending all changes to the server, then a little bit of JavaScript would be needed, unless you can find an existing add-on that already integrates that JavaScript for you.","title":"Counter of entered characters for Vaadin Text Field (Without JS)","body":"<p>If you change the value change mode of the text field to <code>ValueChangeMode.EAGER</code>, then there will be a server-side value change event every time the value is changed which means that you can do <code>getValue().length()</code> to find the length. This approach is really straightforward but it has the drawback that it causes some redundant network traffic since each change needs to be processed on the server.</p>\n<p>If you want something that avoids sending all changes to the server, then a little bit of JavaScript would be needed, unless you can find an existing add-on that already integrates that JavaScript for you.</p>\n"}],"owner":{"account_id":9464807,"reputation":132,"user_id":7037530,"display_name":"Anton Serdyuchenko"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":150,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70578591,"answer_count":1,"score":0,"last_activity_date":1641298241,"creation_date":1641292061,"question_id":70577306,"body_markdown":"I need to add counter inside Vaadin Text Field&#39;s helper text:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QVTfR.jpg\r\n\r\nEntered characters / Maximum possible number of characters \r\n\r\n**Question**:\r\nHow can I get the current number of characters entered by the user, without using JS?","title":"Counter of entered characters for Vaadin Text Field (Without JS)","body":"<p>I need to add counter inside Vaadin Text Field's helper text:</p>\n<p><a href=\"https://i.stack.imgur.com/QVTfR.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QVTfR.jpg\" alt=\"enter image description here\" /></a></p>\n<p>Entered characters / Maximum possible number of characters</p>\n<p><strong>Question</strong>:\nHow can I get the current number of characters entered by the user, without using JS?</p>\n"},{"tags":["java","dynamic-linking","raspberry-pi4"],"comments":[{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":1,"creation_date":1641291900,"post_id":70577153,"comment_id":124761437,"body_markdown":"What is the output of `file /usr/lib/jvm/jdk-17.0.1/bin/java`?","body":"What is the output of <code>file &#47;usr&#47;lib&#47;jvm&#47;jdk-17.0.1&#47;bin&#47;java</code>?"},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1641293563,"post_id":70577153,"comment_id":124762044,"body_markdown":"@MBizm Please do not post code or console output to comments. Edit your question instead and add the output formatted as code there.","body":"@MBizm Please do not post code or console output to comments. Edit your question instead and add the output formatted as code there."},{"owner":{"account_id":16665736,"reputation":141,"user_id":12044450,"display_name":"MBizm"},"score":0,"creation_date":1641293842,"post_id":70577153,"comment_id":124762155,"body_markdown":"I have added file output above. It also contains the ouput for JDK1.8 version (original Oracle 32bit) for comparison.","body":"I have added file output above. It also contains the ouput for JDK1.8 version (original Oracle 32bit) for comparison."},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":1,"creation_date":1641294387,"post_id":70577153,"comment_id":124762343,"body_markdown":"Does `/lib/ld-linux-aarch64.so.1` exist?","body":"Does <code>&#47;lib&#47;ld-linux-aarch64.so.1</code> exist?"},{"owner":{"account_id":16665736,"reputation":141,"user_id":12044450,"display_name":"MBizm"},"score":0,"creation_date":1641295172,"post_id":70577153,"comment_id":124762584,"body_markdown":"You are right, it is missing. What is the best way for adding it? Any rerefence, how best to install/compile it?","body":"You are right, it is missing. What is the best way for adding it? Any rerefence, how best to install/compile it?"}],"answers":[{"tags":[],"owner":{"account_id":263656,"reputation":1,"user_id":549372,"accept_rate":100,"display_name":"Martin Zeitler"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641292122,"creation_date":1641292122,"answer_id":70577315,"question_id":70577153,"body_markdown":"One defintely &quot;can&#39;t execute 64bit libs&quot; in `/usr/lib` - as the path may suggest.\r\n\r\nI&#39;d assume this should rather be `/usr/lib64` for `ARM64` architecture.\r\n","title":"Can&#39;t execute 64bit libs on Raspi PI4","body":"<p>One defintely &quot;can't execute 64bit libs&quot; in <code>/usr/lib</code> - as the path may suggest.</p>\n<p>I'd assume this should rather be <code>/usr/lib64</code> for <code>ARM64</code> architecture.</p>\n"},{"tags":[],"owner":{"account_id":146317,"reputation":1317,"user_id":356691,"accept_rate":100,"display_name":"Stijn Leenknegt"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1641298153,"creation_date":1641298153,"answer_id":70578571,"question_id":70577153,"body_markdown":"I&#39;m using a custom Raspberry image for 64-bit. I also ran into this problem. I&#39;m using Raspios: https://downloads.raspberrypi.org/raspios_lite_arm64/images/\r\n\r\nWith the next image, you can install java 17 on the PI. So far no problems with running Java jar&#39;s.\r\n\r\n[![Install java 17 on Raspberry PI4][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/KannE.png","title":"Can&#39;t execute 64bit libs on Raspi PI4","body":"<p>I'm using a custom Raspberry image for 64-bit. I also ran into this problem. I'm using Raspios: <a href=\"https://downloads.raspberrypi.org/raspios_lite_arm64/images/\" rel=\"nofollow noreferrer\">https://downloads.raspberrypi.org/raspios_lite_arm64/images/</a></p>\n<p>With the next image, you can install java 17 on the PI. So far no problems with running Java jar's.</p>\n<p><a href=\"https://i.stack.imgur.com/KannE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KannE.png\" alt=\"Install java 17 on Raspberry PI4\" /></a></p>\n"}],"owner":{"account_id":16665736,"reputation":141,"user_id":12044450,"display_name":"MBizm"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":414,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":70578571,"answer_count":2,"score":0,"last_activity_date":1641298153,"creation_date":1641291260,"question_id":70577153,"body_markdown":"I have activate 64bit kernel on my Raspi4:\r\n```\r\npi@pc:~ $ uname -a\r\nLinux pc 5.10.63-v8+ #1496 SMP PREEMPT Wed Dec 1 15:59:46 GMT 2021 aarch64 GNU/Linux\r\npi@pc:~ $ lsb_release -a\r\nNo LSB modules are available.\r\nDistributor ID:\tRaspbian\r\nDescription:\tRaspbian GNU/Linux 10 (buster)\r\nRelease:\t10\r\nCodename:\tbuster\r\n```\r\n\r\nI&#39;m trying to run latest java version (original Oracle Arm 64-bit version) on my machine. Though, running the binary results in a file not found error despite the file being present and executable:\r\n```\r\npi@pc:~ $ /usr/lib/jvm/jdk-17.0.1/bin/java -version\r\nbash: /usr/lib/jvm/jdk-17.0.1/bin/java: Datei oder Verzeichnis nicht gefunden\r\npi@pc:~ $ ls -la /usr/lib/jvm/jdk-17.0.1/bin/java\r\n-rwxr-xr-x 1 root root 70856 Sep 27 19:45 /usr/lib/jvm/jdk-17.0.1/bin/java\r\n```\r\n\r\nOnly ldd command giving an indication, program not dynamically linked:\r\n```\r\npi@pc:~ $ ldd /usr/lib/jvm/jdk-17.0.1/bin/java\r\n\tdas Programm ist nicht dynamisch gelinkt\r\n```\r\n\r\nfile command showing the following output:\r\n```\r\npi@pc:~ $ file /usr/lib/jvm/jdk-17.0.1/bin/java\r\n/usr/lib/jvm/jdk-17.0.1/bin/java: ELF 64-bit LSB shared object, ARM aarch64, version 1 (SYSV), dynamically linked, interpreter /lib/ld-linux-aarch64.so.1, for GNU/Linux 3.7.0, not stripped\r\npi@pc:~ $ file /usr/lib/jvm/jdk1.8-oracle-ARM32/bin/java\r\n/usr/lib/jvm/jdk1.8-oracle-ARM32/bin/java: ELF 32-bit LSB executable, ARM, EABI5 version 1 (SYSV), dynamically linked, interpreter /lib/ld-linux-armhf.so.3, for GNU/Linux 2.6.26, BuildID[sha1]=c61f921ef55f64705b9f360005fb2b77e4a81ac3, not stripped\r\n```\r\n\r\nI&#39;m not an expert in C/C++ programming. Is there any way, the executable can be run on my Raspi?","title":"Can&#39;t execute 64bit libs on Raspi PI4","body":"<p>I have activate 64bit kernel on my Raspi4:</p>\n<pre><code>pi@pc:~ $ uname -a\nLinux pc 5.10.63-v8+ #1496 SMP PREEMPT Wed Dec 1 15:59:46 GMT 2021 aarch64 GNU/Linux\npi@pc:~ $ lsb_release -a\nNo LSB modules are available.\nDistributor ID: Raspbian\nDescription:    Raspbian GNU/Linux 10 (buster)\nRelease:    10\nCodename:   buster\n</code></pre>\n<p>I'm trying to run latest java version (original Oracle Arm 64-bit version) on my machine. Though, running the binary results in a file not found error despite the file being present and executable:</p>\n<pre><code>pi@pc:~ $ /usr/lib/jvm/jdk-17.0.1/bin/java -version\nbash: /usr/lib/jvm/jdk-17.0.1/bin/java: Datei oder Verzeichnis nicht gefunden\npi@pc:~ $ ls -la /usr/lib/jvm/jdk-17.0.1/bin/java\n-rwxr-xr-x 1 root root 70856 Sep 27 19:45 /usr/lib/jvm/jdk-17.0.1/bin/java\n</code></pre>\n<p>Only ldd command giving an indication, program not dynamically linked:</p>\n<pre><code>pi@pc:~ $ ldd /usr/lib/jvm/jdk-17.0.1/bin/java\n    das Programm ist nicht dynamisch gelinkt\n</code></pre>\n<p>file command showing the following output:</p>\n<pre><code>pi@pc:~ $ file /usr/lib/jvm/jdk-17.0.1/bin/java\n/usr/lib/jvm/jdk-17.0.1/bin/java: ELF 64-bit LSB shared object, ARM aarch64, version 1 (SYSV), dynamically linked, interpreter /lib/ld-linux-aarch64.so.1, for GNU/Linux 3.7.0, not stripped\npi@pc:~ $ file /usr/lib/jvm/jdk1.8-oracle-ARM32/bin/java\n/usr/lib/jvm/jdk1.8-oracle-ARM32/bin/java: ELF 32-bit LSB executable, ARM, EABI5 version 1 (SYSV), dynamically linked, interpreter /lib/ld-linux-armhf.so.3, for GNU/Linux 2.6.26, BuildID[sha1]=c61f921ef55f64705b9f360005fb2b77e4a81ac3, not stripped\n</code></pre>\n<p>I'm not an expert in C/C++ programming. Is there any way, the executable can be run on my Raspi?</p>\n"},{"tags":["java","android","android-intent","android-activity"],"comments":[{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":2,"creation_date":1641298217,"post_id":70577559,"comment_id":124763754,"body_markdown":"There is no standard `Intent` action for &quot;play several videos&quot;, sorry. Also, when you are supplying content to other apps, please use concrete MIME types, not wildcards like `video/*`.","body":"There is no standard <code>Intent</code> action for &quot;play several videos&quot;, sorry. Also, when you are supplying content to other apps, please use concrete MIME types, not wildcards like <code>video&#47;*</code>."},{"owner":{"account_id":23823403,"reputation":43,"user_id":17830797,"display_name":"Vitaliy Martynyuk"},"score":0,"creation_date":1641303209,"post_id":70577559,"comment_id":124765762,"body_markdown":"@CommonsWare Give me an example please.","body":"@CommonsWare Give me an example please."},{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":1,"creation_date":1641303845,"post_id":70577559,"comment_id":124766087,"body_markdown":"`intent.setDataAndType(video_url, &quot;video/mp4&quot;);` would be an example of using a concrete MIME type, if the `video_url` points to an MP4 video.","body":"<code>intent.setDataAndType(video_url, &quot;video&#47;mp4&quot;);</code> would be an example of using a concrete MIME type, if the <code>video_url</code> points to an MP4 video."},{"owner":{"account_id":23823403,"reputation":43,"user_id":17830797,"display_name":"Vitaliy Martynyuk"},"score":0,"creation_date":1641304602,"post_id":70577559,"comment_id":124766436,"body_markdown":"@CommonsWare No, this example is for playing one video. I want to play a playlist with videos. Is it possible?","body":"@CommonsWare No, this example is for playing one video. I want to play a playlist with videos. Is it possible?"},{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":1,"creation_date":1641305595,"post_id":70577559,"comment_id":124766867,"body_markdown":"As I wrote, there is no standard `Intent` action to play several videos, sorry.","body":"As I wrote, there is no standard <code>Intent</code> action to play several videos, sorry."},{"owner":{"account_id":23823403,"reputation":43,"user_id":17830797,"display_name":"Vitaliy Martynyuk"},"score":0,"creation_date":1641306566,"post_id":70577559,"comment_id":124767362,"body_markdown":"@CommonsWare Maybe there is non-standart `Intent` action to play several videos?","body":"@CommonsWare Maybe there is non-standart <code>Intent</code> action to play several videos?"}],"owner":{"account_id":23823403,"reputation":43,"user_id":17830797,"display_name":"Vitaliy Martynyuk"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1641297941,"creation_date":1641293173,"question_id":70577559,"body_markdown":"I want to play several videos in player that user will select, like playlist. But I only know how to play one video. Here is my code\r\n\r\n                    Intent intent = new Intent(Intent.ACTION_VIEW);\r\n                    intent.setDataAndType(video_url, &quot;video/*&quot;);\r\n\r\n                    context.startActivity(intent);","title":"Intent for playing several videos","body":"<p>I want to play several videos in player that user will select, like playlist. But I only know how to play one video. Here is my code</p>\n<pre><code>                Intent intent = new Intent(Intent.ACTION_VIEW);\n                intent.setDataAndType(video_url, &quot;video/*&quot;);\n\n                context.startActivity(intent);\n</code></pre>\n"},{"tags":["java","type-conversion"],"comments":[{"owner":{"account_id":14028682,"reputation":716,"user_id":10133114,"display_name":"Hasan Aga"},"score":0,"creation_date":1641297535,"post_id":70578408,"comment_id":124763474,"body_markdown":"I assume that you forgot to add `;` at the end of each line in the second statement?!","body":"I assume that you forgot to add <code>;</code> at the end of each line in the second statement?!"},{"owner":{"account_id":6736013,"reputation":327,"user_id":5483179,"display_name":"Nemanja Ranković"},"score":1,"creation_date":1641297694,"post_id":70578408,"comment_id":124763541,"body_markdown":"Reason is implicit casting. Mentioned here https://stackoverflow.com/questions/8710619/why-dont-javas-compound-assignment-operators-require-casting.","body":"Reason is implicit casting. Mentioned here <a href=\"https://stackoverflow.com/questions/8710619/why-dont-javas-compound-assignment-operators-require-casting\" title=\"why dont javas compound assignment operators require casting\">stackoverflow.com/questions/8710619/&hellip;</a>."}],"answers":[{"tags":[],"owner":{"account_id":23191669,"reputation":614,"user_id":17287940,"display_name":"Keivan Soleimani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641297696,"creation_date":1641297696,"answer_id":70578491,"question_id":70578408,"body_markdown":"The problem is due to the method signature for Math.pow;. It returns the result as a double. You then attempte to return the double as an int, and that is a lossy conversion.","title":"What is the difference between these two java statement?","body":"<p>The problem is due to the method signature for Math.pow;. It returns the result as a double. You then attempte to return the double as an int, and that is a lossy conversion.</p>\n"}],"owner":{"account_id":23756464,"reputation":1,"user_id":17772532,"display_name":"Niraj Singh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1641297392,"answer_count":1,"score":-1,"last_activity_date":1641297696,"creation_date":1641297282,"question_id":70578408,"body_markdown":"    int s=0;\r\n    s+=Math.pow(2,3);\r\n\r\nthis line does not show possible lossy conversion whereas\r\n\r\n    int s=0\r\n    s=s+Math.pow(2,3)\r\n\r\nthe above line shows error.\r\nAny reason for this?\r\n\r\n","title":"What is the difference between these two java statement?","body":"<pre><code>int s=0;\ns+=Math.pow(2,3);\n</code></pre>\n<p>this line does not show possible lossy conversion whereas</p>\n<pre><code>int s=0\ns=s+Math.pow(2,3)\n</code></pre>\n<p>the above line shows error.\nAny reason for this?</p>\n"},{"tags":["java","spring","spring-security","bcrypt"],"comments":[{"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"score":0,"creation_date":1410775606,"post_id":25844419,"comment_id":40438252,"body_markdown":"Why do you need the passwords to have the same hash?","body":"Why do you need the passwords to have the same hash?"},{"owner":{"account_id":31617,"reputation":52341,"user_id":86967,"accept_rate":56,"display_name":"Brent Bradburn"},"score":1,"creation_date":1518156684,"post_id":25844419,"comment_id":84398001,"body_markdown":"The best answer to this question is here: [How can bcrypt have built-in salts?](https://stackoverflow.com/questions/6832445/how-can-bcrypt-have-built-in-salts)","body":"The best answer to this question is here: <a href=\"https://stackoverflow.com/questions/6832445/how-can-bcrypt-have-built-in-salts\">How can bcrypt have built-in salts?</a>"}],"answers":[{"tags":[],"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1410772266,"creation_date":1410772266,"answer_id":25844497,"question_id":25844419,"body_markdown":"That is perfectly normal because [BCryptPasswordEncoder][1] uses a salt to generate the password. You can read about the idea behind &quot;salting&quot; a password [here][2] and [here][3].\r\n\r\nThis is what the documentation says for the `encode` method\r\n\r\n&gt; Encode the raw password. Generally, a good encoding algorithm applies a SHA-1 or greater hash combined with an 8-byte or greater randomly generated salt.\r\n\r\n\r\n  [1]: http://docs.spring.io/autorepo/docs/spring-security/current/apidocs/org/springframework/security/crypto/bcrypt/BCryptPasswordEncoder.html\r\n  [2]: http://en.wikipedia.org/wiki/Salt_%28cryptography%29\r\n  [3]: https://crypto.stackexchange.com/a/2010","title":"Why BCryptPasswordEncoder from Spring generate different outputs for same input?","body":"<p>That is perfectly normal because <a href=\"http://docs.spring.io/autorepo/docs/spring-security/current/apidocs/org/springframework/security/crypto/bcrypt/BCryptPasswordEncoder.html\" rel=\"noreferrer\">BCryptPasswordEncoder</a> uses a salt to generate the password. You can read about the idea behind \"salting\" a password <a href=\"http://en.wikipedia.org/wiki/Salt_%28cryptography%29\" rel=\"noreferrer\">here</a> and <a href=\"https://crypto.stackexchange.com/a/2010\">here</a>.</p>\n\n<p>This is what the documentation says for the <code>encode</code> method</p>\n\n<blockquote>\n  <p>Encode the raw password. Generally, a good encoding algorithm applies a SHA-1 or greater hash combined with an 8-byte or greater randomly generated salt.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":2029491,"reputation":9823,"user_id":1813616,"display_name":"Uwe Plonus"},"down_vote_count":1,"up_vote_count":27,"is_accepted":false,"score":26,"last_activity_date":1410772313,"creation_date":1410772313,"answer_id":25844513,"question_id":25844419,"body_markdown":"The generated password are salted and therefore different.\r\n\r\nPlease read the documentation for the [encode()](http://docs.spring.io/spring-security/site/docs/3.2.5.RELEASE/apidocs/org/springframework/security/crypto/bcrypt/BCryptPasswordEncoder.html#encode(java.lang.CharSequence)) method where it clearly states the the password is salted.","title":"Why BCryptPasswordEncoder from Spring generate different outputs for same input?","body":"<p>The generated password are salted and therefore different.</p>\n\n<p>Please read the documentation for the <a href=\"http://docs.spring.io/spring-security/site/docs/3.2.5.RELEASE/apidocs/org/springframework/security/crypto/bcrypt/BCryptPasswordEncoder.html#encode(java.lang.CharSequence)\">encode()</a> method where it clearly states the the password is salted.</p>\n"},{"tags":[],"owner":{"account_id":3672667,"reputation":3747,"user_id":3059453,"display_name":"blueberry0xff"},"down_vote_count":9,"up_vote_count":58,"is_accepted":true,"score":49,"last_activity_date":1449777279,"creation_date":1449777279,"answer_id":34210582,"question_id":25844419,"body_markdown":"    public static void main(String[] args) {\r\n      // spring 4.0.0\r\n      org.springframework.security.crypto.password.PasswordEncoder encoder\r\n       = new org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder();\r\n    \r\n       // $2a$10$lB6/PKg2/JC4XgdMDXyjs.dLC9jFNAuuNbFkL9udcXe/EBjxSyqxW\r\n       // true\r\n       // $2a$10$KbQiHKTa1WIsQFTQWQKCiujoTJJB7MCMSaSgG/imVkKRicMPwgN5i\r\n       // true\r\n       // $2a$10$5WfW4uxVb4SIdzcTJI9U7eU4ZwaocrvP.2CKkWJkBDKz1dmCh50J2\r\n       // true\r\n       // $2a$10$0wR/6uaPxU7kGyUIsx/JS.krbAA9429fwsuCyTlEFJG54HgdR10nK\r\n       // true\r\n       // $2a$10$gfmnyiTlf8MDmwG7oqKJG.W8rrag8jt6dNW.31ukgr0.quwGujUuO\r\n       // true\r\n    \r\n        for (int i = 0; i &lt; 5; i++) {\r\n          // &quot;123456&quot; - plain text - user input from user interface\r\n          String passwd = encoder.encode(&quot;123456&quot;);\r\n\r\n          // passwd - password from database\r\n          System.out.println(passwd); // print hash\r\n\r\n          // true for all 5 iteration\r\n          System.out.println(encoder.matches(&quot;123456&quot;, passwd));\r\n        }\r\n    }","title":"Why BCryptPasswordEncoder from Spring generate different outputs for same input?","body":"<pre><code>public static void main(String[] args) {\n  // spring 4.0.0\n  org.springframework.security.crypto.password.PasswordEncoder encoder\n   = new org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder();\n\n   // $2a$10$lB6/PKg2/JC4XgdMDXyjs.dLC9jFNAuuNbFkL9udcXe/EBjxSyqxW\n   // true\n   // $2a$10$KbQiHKTa1WIsQFTQWQKCiujoTJJB7MCMSaSgG/imVkKRicMPwgN5i\n   // true\n   // $2a$10$5WfW4uxVb4SIdzcTJI9U7eU4ZwaocrvP.2CKkWJkBDKz1dmCh50J2\n   // true\n   // $2a$10$0wR/6uaPxU7kGyUIsx/JS.krbAA9429fwsuCyTlEFJG54HgdR10nK\n   // true\n   // $2a$10$gfmnyiTlf8MDmwG7oqKJG.W8rrag8jt6dNW.31ukgr0.quwGujUuO\n   // true\n\n    for (int i = 0; i &lt; 5; i++) {\n      // \"123456\" - plain text - user input from user interface\n      String passwd = encoder.encode(\"123456\");\n\n      // passwd - password from database\n      System.out.println(passwd); // print hash\n\n      // true for all 5 iteration\n      System.out.println(encoder.matches(\"123456\", passwd));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1445843,"reputation":1494,"user_id":1364368,"accept_rate":100,"display_name":"user1364368"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1641297370,"creation_date":1542957195,"answer_id":53442119,"question_id":25844419,"body_markdown":"The 22 characters directly after the 3rd $ represent the salt value, see https://en.wikipedia.org/wiki/Bcrypt#Description . &quot;Salt&quot; is some random data added to the password before hashing, so a given hash algorithm with given parameters will in most cases produce different hash values for the same password (protection against so called rainbow attacks). \r\n\r\nLet&#39;s dissect the first output shown in the original question: \r\n`$2a$10$cYLM.qoXpeAzcZhJ3oXRLu9Slkb61LHyWW5qJ4QKvHEMhaxZ5qCPi`\r\n\r\n - `$2a` : Identifier for BCrypt algorithm\r\n - `$10` : Parameter for number of rounds, here 2^10 rounds\r\n - `cYLM.qoXpeAzcZhJ3oXRLu` : Salt (128 bits)\r\n - `9Slkb61LHyWW5qJ4QKvHEMhaxZ5qCPi` : Actual hash value (184 bits)\r\n\r\nThe salt and the hash value are both encoded using Radix-64. \r\n\r\n","title":"Why BCryptPasswordEncoder from Spring generate different outputs for same input?","body":"<p>The 22 characters directly after the 3rd $ represent the salt value, see <a href=\"https://en.wikipedia.org/wiki/Bcrypt#Description\" rel=\"noreferrer\">https://en.wikipedia.org/wiki/Bcrypt#Description</a> . &quot;Salt&quot; is some random data added to the password before hashing, so a given hash algorithm with given parameters will in most cases produce different hash values for the same password (protection against so called rainbow attacks).</p>\n<p>Let's dissect the first output shown in the original question:\n<code>$2a$10$cYLM.qoXpeAzcZhJ3oXRLu9Slkb61LHyWW5qJ4QKvHEMhaxZ5qCPi</code></p>\n<ul>\n<li><code>$2a</code> : Identifier for BCrypt algorithm</li>\n<li><code>$10</code> : Parameter for number of rounds, here 2^10 rounds</li>\n<li><code>cYLM.qoXpeAzcZhJ3oXRLu</code> : Salt (128 bits)</li>\n<li><code>9Slkb61LHyWW5qJ4QKvHEMhaxZ5qCPi</code> : Actual hash value (184 bits)</li>\n</ul>\n<p>The salt and the hash value are both encoded using Radix-64.</p>\n"},{"tags":[],"owner":{"account_id":11881327,"reputation":21,"user_id":8694974,"display_name":"patjing"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1609986287,"creation_date":1609986287,"answer_id":65605843,"question_id":25844419,"body_markdown":"The BCrypt output is:\r\n$2a$10$cYLM.qoXpeAzcZhJ3oXRLu9Slkb61LHyWW5qJ4QKvHEMhaxZ5qCPi\r\n\r\n\r\n\r\n$2a$ means the hash algorithm\r\n\r\n10$ is the log rounds\r\n\r\nfollowing is the salt and hashed password\r\n\r\nsince the Spring will generate the salt will different on each time, so your output is not same. the BCrypt syntax you can reference https://en.wikipedia.org/wiki/Bcrypt#Description\r\n","title":"Why BCryptPasswordEncoder from Spring generate different outputs for same input?","body":"<p>The BCrypt output is:\n$2a$10$cYLM.qoXpeAzcZhJ3oXRLu9Slkb61LHyWW5qJ4QKvHEMhaxZ5qCPi</p>\n<p>$2a$ means the hash algorithm</p>\n<p>10$ is the log rounds</p>\n<p>following is the salt and hashed password</p>\n<p>since the Spring will generate the salt will different on each time, so your output is not same. the BCrypt syntax you can reference <a href=\"https://en.wikipedia.org/wiki/Bcrypt#Description\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Bcrypt#Description</a></p>\n"}],"owner":{"account_id":2806336,"reputation":899,"user_id":2413506,"accept_rate":67,"display_name":"Bhavesh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66045,"favorite_count":0,"down_vote_count":1,"up_vote_count":46,"accepted_answer_id":34210582,"answer_count":5,"score":45,"last_activity_date":1641297370,"creation_date":1410771990,"question_id":25844419,"body_markdown":"I am using [BCryptPasswordEncoder][1] with Spring security. My expectation was that for the same input I will always get the same output. But for the same input I get different output. You could test it with the code snippet below:\r\n\r\n    String password = &quot;123456&quot;; \r\n    PasswordEncoder passwordEncoder = new BCryptPasswordEncoder(); \r\n    String encodedPassword = passwordEncoder.encode(password);\r\n    System.out.print(encodedPassword);\r\n\r\n&gt;output: $2a$10$cYLM.qoXpeAzcZhJ3oXRLu9Slkb61LHyWW5qJ4QKvHEMhaxZ5qCPi\r\n\r\n&gt;output2: $2a$10$KEvYX9yjj0f1X3Wl8S.KPuWzSWGyGM9ubI71NOm3ZNbJcwWN6agvW\r\n\r\n&gt;output3: $2a$10$nCmrPtUaOLn5EI73VZ4Ouu1TmkSWDUxxD4N6A.8hPBWg43Vl.RLDC\r\n\r\nCould someone explain, why BCryptPasswordEncoder behave like this?\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/crypto/bcrypt/BCryptPasswordEncoder.html","title":"Why BCryptPasswordEncoder from Spring generate different outputs for same input?","body":"<p>I am using <a href=\"https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/crypto/bcrypt/BCryptPasswordEncoder.html\" rel=\"noreferrer\">BCryptPasswordEncoder</a> with Spring security. My expectation was that for the same input I will always get the same output. But for the same input I get different output. You could test it with the code snippet below:</p>\n\n<pre><code>String password = \"123456\"; \nPasswordEncoder passwordEncoder = new BCryptPasswordEncoder(); \nString encodedPassword = passwordEncoder.encode(password);\nSystem.out.print(encodedPassword);\n</code></pre>\n\n<blockquote>\n  <p>output: $2a$10$cYLM.qoXpeAzcZhJ3oXRLu9Slkb61LHyWW5qJ4QKvHEMhaxZ5qCPi</p>\n  \n  <p>output2: $2a$10$KEvYX9yjj0f1X3Wl8S.KPuWzSWGyGM9ubI71NOm3ZNbJcwWN6agvW</p>\n  \n  <p>output3: $2a$10$nCmrPtUaOLn5EI73VZ4Ouu1TmkSWDUxxD4N6A.8hPBWg43Vl.RLDC</p>\n</blockquote>\n\n<p>Could someone explain, why BCryptPasswordEncoder behave like this?</p>\n"},{"tags":["java","spring","macos","rabbitmq"],"comments":[{"owner":{"account_id":45934,"reputation":203669,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":0,"creation_date":1574888570,"post_id":59078203,"comment_id":104393870,"body_markdown":"The management interface is on port 15762, not 5672. Port 5672 is used for accessing RabbitMQ via AMQP (the message queueing protocol). Try starting the server and pointing your browser to `localhost:15672`.","body":"The management interface is on port 15762, not 5672. Port 5672 is used for accessing RabbitMQ via AMQP (the message queueing protocol). Try starting the server and pointing your browser to <code>localhost:15672</code>."},{"owner":{"account_id":14260083,"reputation":43,"user_id":10301154,"display_name":"mrm95"},"score":0,"creation_date":1574888767,"post_id":59078203,"comment_id":104393962,"body_markdown":"@Jesper Oh I see, I&#39;ve been using Port 5672 and it stopped working all of a sudden. Still, I&#39;m getting a similar connection refused error on Port 15672 and none of my Java applications that use RabbitMQ are working.","body":"@Jesper Oh I see, I&#39;ve been using Port 5672 and it stopped working all of a sudden. Still, I&#39;m getting a similar connection refused error on Port 15672 and none of my Java applications that use RabbitMQ are working."},{"owner":{"account_id":45934,"reputation":203669,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":0,"creation_date":1574888974,"post_id":59078203,"comment_id":104394040,"body_markdown":"Do you have / know Docker? Because it&#39;s super-easy to run RabbitMQ in Docker, and then you don&#39;t need to (re)install it on your computer. See [RabbitMQ docker image](https://hub.docker.com/_/rabbitmq).","body":"Do you have / know Docker? Because it&#39;s super-easy to run RabbitMQ in Docker, and then you don&#39;t need to (re)install it on your computer. See <a href=\"https://hub.docker.com/_/rabbitmq\" rel=\"nofollow noreferrer\">RabbitMQ docker image</a>."},{"owner":{"account_id":45934,"reputation":203669,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":0,"creation_date":1574889050,"post_id":59078203,"comment_id":104394065,"body_markdown":"Starting it in Docker can be done with a command like this: `docker run -d -h rabbitmq --name rabbitmq -p 5672:5672 -p 15672:15672 rabbitmq:3.8.1-management`","body":"Starting it in Docker can be done with a command like this: <code>docker run -d -h rabbitmq --name rabbitmq -p 5672:5672 -p 15672:15672 rabbitmq:3.8.1-management</code>"}],"answers":[{"tags":[],"owner":{"account_id":12792992,"reputation":136,"user_id":9256916,"display_name":"Sahil M."},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1574952064,"creation_date":1574952064,"answer_id":59091304,"question_id":59078203,"body_markdown":"I think you should have to enable management plugin as stated in rabbitmq documention:\n\n&gt; The management plugin is included in the RabbitMQ distribution. Like any other&#160;plugin, it must be enabled before it can be used.\n\nJust go to your rabbitmq installation directory (example path `/usr/save/rabbitmq_server-x.x.x/sbin`) and run following command:\n\n    rabbitmq-plugins enable rabbitmq_management\n\nAfter this if rabbitmq management still not accessible try to  `stop` and `restart` rabbitmq server.\n\n\nHere are reference link:\n\n[Rabbitmq documention on management plugin][1]\n\n[Rabbitmq different networking ports information][2]\n\n\n  [1]: https://www.rabbitmq.com/management.html\n  [2]: https://www.rabbitmq.com/networking.html#ports","title":"Still cant access localhost:5762 after starting RabbitMQ server","body":"<p>I think you should have to enable management plugin as stated in rabbitmq documention:</p>\n\n<blockquote>\n  <p>The management plugin is included in the RabbitMQ distribution. Like any other plugin, it must be enabled before it can be used.</p>\n</blockquote>\n\n<p>Just go to your rabbitmq installation directory (example path <code>/usr/save/rabbitmq_server-x.x.x/sbin</code>) and run following command:</p>\n\n<pre><code>rabbitmq-plugins enable rabbitmq_management\n</code></pre>\n\n<p>After this if rabbitmq management still not accessible try to  <code>stop</code> and <code>restart</code> rabbitmq server.</p>\n\n<p>Here are reference link:</p>\n\n<p><a href=\"https://www.rabbitmq.com/management.html\" rel=\"nofollow noreferrer\">Rabbitmq documention on management plugin</a></p>\n\n<p><a href=\"https://www.rabbitmq.com/networking.html#ports\" rel=\"nofollow noreferrer\">Rabbitmq different networking ports information</a></p>\n"},{"tags":[],"owner":{"account_id":22334857,"reputation":101,"user_id":16555620,"display_name":"basecamp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641297153,"creation_date":1641297153,"answer_id":70578388,"question_id":59078203,"body_markdown":"To answer these: \r\n\r\n&gt; Not sure why I cant access the management page via the default port.\r\n&gt; \r\n&gt; Still cant access localhost:5762 after starting RabbitMQ server\r\n\r\nIf the `rabbitmqctl status` / `rabbitmq-diagnostics status` command shows a listener like this: \r\n\r\n    Interface: [::], port: 15672, protocol: http, purpose: HTTP API\r\n\r\nthen RabbitMQ [might][1] be setup correctly. \r\n\r\nProbable cause: Http redirection\r\n--------------------------------\r\n\r\nThe issue might rather be with the URL that&#39;s visited. Chrome could be set to redirect HTTP to HTTPS. If this is so, and you don&#39;t have an HTTPS listener setup, you&#39;d see a `ERR_SSL_PROTOCOL_ERROR`. \r\nTo get around this, you can disable redirection on Chrome only for `localhost`. By doing so, http://localhost:15672 will no longer be redirected to https://localhost:15672 and the management web client will therefore be visible. \r\n\r\n[How][2] to disable HTTP redirection for a domain in Chrome\r\n-----------------------------------------------------------\r\n\r\n 1. Visit `chrome://net-internals/#hsts`\r\n 2. Delete domain security policies for the domain (in this case simply enter `localhost`) \r\n 3. Click the `Delete` button\r\n\r\n\r\n  [1]: https://www.rabbitmq.com/troubleshooting-networking.html\r\n  [2]: https://howchoo.com/chrome/stop-chrome-from-automatically-redirecting-https","title":"Still cant access localhost:5762 after starting RabbitMQ server","body":"<p>To answer these:</p>\n<blockquote>\n<p>Not sure why I cant access the management page via the default port.</p>\n<p>Still cant access localhost:5762 after starting RabbitMQ server</p>\n</blockquote>\n<p>If the <code>rabbitmqctl status</code> / <code>rabbitmq-diagnostics status</code> command shows a listener like this:</p>\n<pre><code>Interface: [::], port: 15672, protocol: http, purpose: HTTP API\n</code></pre>\n<p>then RabbitMQ <a href=\"https://www.rabbitmq.com/troubleshooting-networking.html\" rel=\"nofollow noreferrer\">might</a> be setup correctly.</p>\n<h2>Probable cause: Http redirection</h2>\n<p>The issue might rather be with the URL that's visited. Chrome could be set to redirect HTTP to HTTPS. If this is so, and you don't have an HTTPS listener setup, you'd see a <code>ERR_SSL_PROTOCOL_ERROR</code>.\nTo get around this, you can disable redirection on Chrome only for <code>localhost</code>. By doing so, http://localhost:15672 will no longer be redirected to https://localhost:15672 and the management web client will therefore be visible.</p>\n<h2><a href=\"https://howchoo.com/chrome/stop-chrome-from-automatically-redirecting-https\" rel=\"nofollow noreferrer\">How</a> to disable HTTP redirection for a domain in Chrome</h2>\n<ol>\n<li>Visit <code>chrome://net-internals/#hsts</code></li>\n<li>Delete domain security policies for the domain (in this case simply enter <code>localhost</code>)</li>\n<li>Click the <code>Delete</code> button</li>\n</ol>\n"}],"owner":{"account_id":14260083,"reputation":43,"user_id":10301154,"display_name":"mrm95"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7676,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1641297153,"creation_date":1574887660,"question_id":59078203,"body_markdown":"Tried accessing the RabbitMQ management page on localhost:5672 and the connection is being refused. I have reinstalled RabbitMQ via Homebrew and still running into the same problem. I ran `rabbitmq-server` after the reinstallation and got back this prompt:\r\n\r\n    ##  ##      RabbitMQ 3.8.1\r\n      ##  ##\r\n      ##########  Copyright (c) 2007-2019 Pivotal Software, Inc.\r\n      ######  ##\r\n      ##########  Licensed under the MPL 1.1. Website: https://rabbitmq.com\r\n    \r\n      Doc guides: https://rabbitmq.com/documentation.html\r\n      Support:    https://rabbitmq.com/contact.html\r\n      Tutorials:  https://rabbitmq.com/getstarted.html\r\n      Monitoring: https://rabbitmq.com/monitoring.html\r\n    \r\n      Logs: /usr/local/var/log/rabbitmq/rabbit@localhost.log\r\n            /usr/local/var/log/rabbitmq/rabbit@localhost_upgrade.log\r\n    \r\n      Config file(s): (none)\r\n    \r\n      Starting broker... completed with 6 plugins.\r\n\r\nNot sure why I cant access the management page via the default port. I had a few applications using RabbitMQ running and none of them are working now. What is the best way to completely uninstall RabbitMQ from a Mac so that I can run a clean install?","title":"Still cant access localhost:5762 after starting RabbitMQ server","body":"<p>Tried accessing the RabbitMQ management page on localhost:5672 and the connection is being refused. I have reinstalled RabbitMQ via Homebrew and still running into the same problem. I ran <code>rabbitmq-server</code> after the reinstallation and got back this prompt:</p>\n\n<pre><code>##  ##      RabbitMQ 3.8.1\n  ##  ##\n  ##########  Copyright (c) 2007-2019 Pivotal Software, Inc.\n  ######  ##\n  ##########  Licensed under the MPL 1.1. Website: https://rabbitmq.com\n\n  Doc guides: https://rabbitmq.com/documentation.html\n  Support:    https://rabbitmq.com/contact.html\n  Tutorials:  https://rabbitmq.com/getstarted.html\n  Monitoring: https://rabbitmq.com/monitoring.html\n\n  Logs: /usr/local/var/log/rabbitmq/rabbit@localhost.log\n        /usr/local/var/log/rabbitmq/rabbit@localhost_upgrade.log\n\n  Config file(s): (none)\n\n  Starting broker... completed with 6 plugins.\n</code></pre>\n\n<p>Not sure why I cant access the management page via the default port. I had a few applications using RabbitMQ running and none of them are working now. What is the best way to completely uninstall RabbitMQ from a Mac so that I can run a clean install?</p>\n"},{"tags":["java","list","dataframe","object","hashmap"],"comments":[{"owner":{"account_id":19309260,"reputation":218,"user_id":14115415,"display_name":"AkSh"},"score":1,"creation_date":1641294212,"post_id":70577137,"comment_id":124762286,"body_markdown":"In my opinion, if you are certain that the files are containing only a single type of data (String, Integer, or Boolean, etc) then passing them through a filter and storing them in different types of ArrayList would be a better approach since you&#39;ll be processing them. And if you are not certain then just to avoid any runtime exc I would suggest you use simply List&lt;String&gt;.","body":"In my opinion, if you are certain that the files are containing only a single type of data (String, Integer, or Boolean, etc) then passing them through a filter and storing them in different types of ArrayList would be a better approach since you&#39;ll be processing them. And if you are not certain then just to avoid any runtime exc I would suggest you use simply List&lt;String&gt;."},{"owner":{"account_id":17792957,"reputation":76,"user_id":12921492,"display_name":"Deividgp"},"score":0,"creation_date":1641294488,"post_id":70577137,"comment_id":124762379,"body_markdown":"Every column can contain a different data type. I&#39;m editing the post with an example.","body":"Every column can contain a different data type. I&#39;m editing the post with an example."},{"owner":{"account_id":19309260,"reputation":218,"user_id":14115415,"display_name":"AkSh"},"score":1,"creation_date":1641295331,"post_id":70577137,"comment_id":124762642,"body_markdown":"Yes of course. I meant whether each column has the same data type or not. But anyway It is really a question of design choice. Either way is fine as long as you are able to process the data further. I&#39;d wait for answers coming from a bit more experienced persons.","body":"Yes of course. I meant whether each column has the same data type or not. But anyway It is really a question of design choice. Either way is fine as long as you are able to process the data further. I&#39;d wait for answers coming from a bit more experienced persons."},{"owner":{"account_id":17792957,"reputation":76,"user_id":12921492,"display_name":"Deividgp"},"score":0,"creation_date":1641295589,"post_id":70577137,"comment_id":124762736,"body_markdown":"Appreciated. You don&#39;t think using List&lt;Object&gt; would be a good approach? Asking because I&#39;m still not too sure about the operations part:\n\nsort: return the values of a column in the DataFrame following a certain order\ndf.sort(column, comparator)\nquery: return all elements where a label value fulfills a certain condition.","body":"Appreciated. You don&#39;t think using List&lt;Object&gt; would be a good approach? Asking because I&#39;m still not too sure about the operations part:  sort: return the values of a column in the DataFrame following a certain order df.sort(column, comparator) query: return all elements where a label value fulfills a certain condition."},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":1,"creation_date":1641296922,"post_id":70577137,"comment_id":124763225,"body_markdown":"The assignment document helps a lot.  For anyone not wanting to read the assignment, their assignment is basically to create a spreadsheet data store.  Each cell can be a `String`, value (`int` or `double`), date, timestamp, or anything else I&#39;m forgetting.  Sorting will be interesting to implement as you have to determine first that all the cells involved have the same cell data type, determine the data type sort, perform the sort, and write the cells back to the spreadsheet.  I&#39;d say use `List&lt;Object&gt;` and be prepared to write lots and lots of `instanceof` code.","body":"The assignment document helps a lot.  For anyone not wanting to read the assignment, their assignment is basically to create a spreadsheet data store.  Each cell can be a <code>String</code>, value (<code>int</code> or <code>double</code>), date, timestamp, or anything else I&#39;m forgetting.  Sorting will be interesting to implement as you have to determine first that all the cells involved have the same cell data type, determine the data type sort, perform the sort, and write the cells back to the spreadsheet.  I&#39;d say use <code>List&lt;Object&gt;</code> and be prepared to write lots and lots of <code>instanceof</code> code."},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":1,"creation_date":1641297326,"post_id":70577137,"comment_id":124763385,"body_markdown":"Thinking a bit more about your assignment, I&#39;d consider creating a `Cell` class that specifies the value, type, and format of a spreadsheet cell, along with the `int` column and `int` row of the location of that cell in the spreadsheet.  Then I&#39;d create a `Sheet` class that contains a `Map` of coordinate, `Cell` instances.  Finally, I&#39;d create a `Spreadsheet` class that contains a `List` of `Sheet` instances.","body":"Thinking a bit more about your assignment, I&#39;d consider creating a <code>Cell</code> class that specifies the value, type, and format of a spreadsheet cell, along with the <code>int</code> column and <code>int</code> row of the location of that cell in the spreadsheet.  Then I&#39;d create a <code>Sheet</code> class that contains a <code>Map</code> of coordinate, <code>Cell</code> instances.  Finally, I&#39;d create a <code>Spreadsheet</code> class that contains a <code>List</code> of <code>Sheet</code> instances."},{"owner":{"account_id":17792957,"reputation":76,"user_id":12921492,"display_name":"Deividgp"},"score":0,"creation_date":1641299402,"post_id":70577137,"comment_id":124764269,"body_markdown":"Much appreciated but I would rather go for the `List&lt;Object&gt;` solution cause I have +50% of the assignment done already (was still pretty unsure about which data structure to use that&#39;s why I came here). On the other hand I will definitely mention your solution during the assignment interview (with credit ofc) since seems like a really good approach but from what I gathered the teacher emphasizes a lot on using column labels as identifiers. One more thing... Would you filter while storing the data in the `List&lt;Object&gt;` so every column has the proper data type elements after importing the file?","body":"Much appreciated but I would rather go for the <code>List&lt;Object&gt;</code> solution cause I have +50% of the assignment done already (was still pretty unsure about which data structure to use that&#39;s why I came here). On the other hand I will definitely mention your solution during the assignment interview (with credit ofc) since seems like a really good approach but from what I gathered the teacher emphasizes a lot on using column labels as identifiers. One more thing... Would you filter while storing the data in the <code>List&lt;Object&gt;</code> so every column has the proper data type elements after importing the file?"},{"owner":{"account_id":17792957,"reputation":76,"user_id":12921492,"display_name":"Deividgp"},"score":0,"creation_date":1641306958,"post_id":70577137,"comment_id":124767568,"body_markdown":"@GilbertLeBlanc (I forgot to mention you)","body":"@GilbertLeBlanc (I forgot to mention you)"},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":1,"creation_date":1641311458,"post_id":70577137,"comment_id":124769638,"body_markdown":"Based on my reading of the assignment, you have to translate the column headers to `int` values and vice versa.  The advantage of using a `Cell` structure is you create a sparse matrix.  Saves on storage.  I&#39;d identify the object value type when reading the input files.","body":"Based on my reading of the assignment, you have to translate the column headers to <code>int</code> values and vice versa.  The advantage of using a <code>Cell</code> structure is you create a sparse matrix.  Saves on storage.  I&#39;d identify the object value type when reading the input files."}],"answers":[{"tags":[],"owner":{"account_id":14624090,"reputation":116,"user_id":10561893,"display_name":"Mariusz W."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641295876,"creation_date":1641295876,"answer_id":70578119,"question_id":70577137,"body_markdown":"I&#39;d try using [Guava&#39;s Multimap][1] instead of constructing Map with List values yourself.\r\n\r\nOn the other hand I would think about the design. Is the number of columns always the same and you know upfront what values are there? If the answer is yes, how about creating your custom value object with named fields of concrete types? Something like this sample below and implement some Comparators etc if required.\r\n\r\n    public class ValueRow {\r\n        private Integer LatD;\r\n        ...\r\n        private String City;\r\n        private String State;\r\n        ...\r\n    }\r\n\r\n\r\n  [1]: https://www.baeldung.com/guava-multimap","title":"What is the best way to store a generic List in a Map value?","body":"<p>I'd try using <a href=\"https://www.baeldung.com/guava-multimap\" rel=\"nofollow noreferrer\">Guava's Multimap</a> instead of constructing Map with List values yourself.</p>\n<p>On the other hand I would think about the design. Is the number of columns always the same and you know upfront what values are there? If the answer is yes, how about creating your custom value object with named fields of concrete types? Something like this sample below and implement some Comparators etc if required.</p>\n<pre><code>public class ValueRow {\n    private Integer LatD;\n    ...\n    private String City;\n    private String State;\n    ...\n}\n</code></pre>\n"}],"owner":{"account_id":17792957,"reputation":76,"user_id":12921492,"display_name":"Deividgp"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1641296252,"creation_date":1641291218,"question_id":70577137,"body_markdown":"I am doing a University assignment about developing a Dataframe library (we are supposed to import the data from files such as csv, json and txt). The data structure I chose is `HashMap&lt;String, ArrayList&lt;Object&gt;&gt;` where the key represents a column label and the value (List) is the column values storage. When the program reads a file the first row goes through a filter which determines which kind of Object it is (Integer, String...) in order to add the data in that way (`list.add(new Integer(2))` for example) but I&#39;m not sure if it is the best way to proceed because the program is supposed to make some operations as well such as sort values (comparator), query (predicate)... Take into account every column can contain a different data type.\r\n\r\nI also thought about using `ArrayList&lt;String&gt;` instead and transforming the values when necessary but would not be too optimal and I prefer asking you first.\r\n\r\nThanks a lot in advance.\r\n\r\nExample:\r\n\r\nLatD\tLatM\tLatS\tNS\tLonD\tLonM\tLonS\tEW\tCity\tState\r\n\r\n41\t    5\t   59\t    N\t80\t39\t0\tW\tYoungstown\t OH\r\n\r\nAssignment document: [https://drive.google.com/file/d/1Saqiw23vQk7Yoh2csmuH2adcktNzDmjP/view?usp=sharing][1]\r\n\r\n\r\n  [1]: https://drive.google.com/file/d/1Saqiw23vQk7Yoh2csmuH2adcktNzDmjP/view?usp=sharing","title":"What is the best way to store a generic List in a Map value?","body":"<p>I am doing a University assignment about developing a Dataframe library (we are supposed to import the data from files such as csv, json and txt). The data structure I chose is <code>HashMap&lt;String, ArrayList&lt;Object&gt;&gt;</code> where the key represents a column label and the value (List) is the column values storage. When the program reads a file the first row goes through a filter which determines which kind of Object it is (Integer, String...) in order to add the data in that way (<code>list.add(new Integer(2))</code> for example) but I'm not sure if it is the best way to proceed because the program is supposed to make some operations as well such as sort values (comparator), query (predicate)... Take into account every column can contain a different data type.</p>\n<p>I also thought about using <code>ArrayList&lt;String&gt;</code> instead and transforming the values when necessary but would not be too optimal and I prefer asking you first.</p>\n<p>Thanks a lot in advance.</p>\n<p>Example:</p>\n<p>LatD    LatM    LatS    NS  LonD    LonM    LonS    EW  City    State</p>\n<p>41      5      59       N   80  39  0   W   Youngstown   OH</p>\n<p>Assignment document: <a href=\"https://drive.google.com/file/d/1Saqiw23vQk7Yoh2csmuH2adcktNzDmjP/view?usp=sharing\" rel=\"nofollow noreferrer\">https://drive.google.com/file/d/1Saqiw23vQk7Yoh2csmuH2adcktNzDmjP/view?usp=sharing</a></p>\n"},{"tags":["java","spring","spring-boot","java-8","spring-data-jpa"],"comments":[{"owner":{"account_id":1292822,"reputation":114,"user_id":1244566,"accept_rate":38,"display_name":"ParthPatel"},"score":1,"creation_date":1641296357,"post_id":70578057,"comment_id":124763012,"body_markdown":"Hope this can help you.\nhttps://stackoverflow.com/questions/68032129/how-do-i-write-in-two-different-databases-in-spring-boot\n\nhttps://stackoverflow.com/questions/56968464/configuring-multiple-databases-in-spring-boot","body":"Hope this can help you. <a href=\"https://stackoverflow.com/questions/68032129/how-do-i-write-in-two-different-databases-in-spring-boot\" title=\"how do i write in two different databases in spring boot\">stackoverflow.com/questions/68032129/&hellip;</a>  <a href=\"https://stackoverflow.com/questions/56968464/configuring-multiple-databases-in-spring-boot\" title=\"configuring multiple databases in spring boot\">stackoverflow.com/questions/56968464/&hellip;</a>"},{"owner":{"account_id":7227680,"reputation":356,"user_id":5515691,"accept_rate":80,"display_name":"Gitesh"},"score":0,"creation_date":1641299030,"post_id":70578057,"comment_id":124764096,"body_markdown":"I don&#39;t have any JPARepository to enable , nor any entities created.I am just using native SQL Query ,in such case what should i give in packages()","body":"I don&#39;t have any JPARepository to enable , nor any entities created.I am just using native SQL Query ,in such case what should i give in packages()"},{"owner":{"account_id":1292822,"reputation":114,"user_id":1244566,"accept_rate":38,"display_name":"ParthPatel"},"score":0,"creation_date":1641300447,"post_id":70578057,"comment_id":124764641,"body_markdown":"This can help you.\nhttps://stackoverflow.com/questions/43509145/spring-boot-multiple-data-sources-using-entitymanager","body":"This can help you. <a href=\"https://stackoverflow.com/questions/43509145/spring-boot-multiple-data-sources-using-entitymanager\" title=\"spring boot multiple data sources using entitymanager\">stackoverflow.com/questions/43509145/&hellip;</a>"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1641301646,"post_id":70578057,"comment_id":124765112,"body_markdown":"You cannot use JPA without entities. If you just need to execute a query use plain JDBC, through a `JdbcTemplate`.","body":"You cannot use JPA without entities. If you just need to execute a query use plain JDBC, through a <code>JdbcTemplate</code>."}],"owner":{"account_id":7227680,"reputation":356,"user_id":5515691,"accept_rate":80,"display_name":"Gitesh"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":576,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1641296225,"creation_date":1641295541,"question_id":70578057,"body_markdown":"I want to execute the same query on different database based on the request mapping url in controller .\r\n\r\nBelow is code snippet from my service impl class.\r\n\r\n\r\n    @Service(&quot;metricsService&quot;)\r\n    public class MetricsServiceImpl implements MetricsService {\r\n    \t\r\n        @PersistenceContext\r\n        private EntityManager entityManager;\r\n        \r\n       String sql_query = &quot;Select count(*) from user_details&quot;;\r\n    \r\n        public int countWPReqRaisedWithinDateRange(Date fromDate,Date toDate) {\r\n        \tQuery query = entityManager.createNativeQuery(sql_query);\r\n        \tquery.setParameter(&quot;fromDate&quot;, fromDate);\r\n        \tquery.setParameter(&quot;toDate&quot;,toDate);\r\n        \tint count = ((Number) query.getSingleResult()).intValue();\r\n        \treturn count;\r\n        }\r\n    \r\n    }\r\n\r\nI want to execute the same sql_query on different database based on the request mapping url.How can i customise this injected entity manager to execute on different database??\r\n","title":"how to use different entity manager for different data source","body":"<p>I want to execute the same query on different database based on the request mapping url in controller .</p>\n<p>Below is code snippet from my service impl class.</p>\n<pre><code>@Service(&quot;metricsService&quot;)\npublic class MetricsServiceImpl implements MetricsService {\n    \n    @PersistenceContext\n    private EntityManager entityManager;\n    \n   String sql_query = &quot;Select count(*) from user_details&quot;;\n\n    public int countWPReqRaisedWithinDateRange(Date fromDate,Date toDate) {\n        Query query = entityManager.createNativeQuery(sql_query);\n        query.setParameter(&quot;fromDate&quot;, fromDate);\n        query.setParameter(&quot;toDate&quot;,toDate);\n        int count = ((Number) query.getSingleResult()).intValue();\n        return count;\n    }\n\n}\n</code></pre>\n<p>I want to execute the same sql_query on different database based on the request mapping url.How can i customise this injected entity manager to execute on different database??</p>\n"},{"tags":["java","spring","spring-ws"],"answers":[{"tags":[],"owner":{"account_id":10003,"reputation":2499,"user_id":18716,"accept_rate":62,"display_name":"Vineet Bhatia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1356496745,"creation_date":1356496745,"answer_id":14036056,"question_id":14035970,"body_markdown":"The javax.xml.stream.XMLStreamException could be happening due to invalid XML. Print the XML and see if it validates against the DTD or XSD.","title":"Sometime I get Stream Closed sometimes i don&#39;t. Why do i get this?","body":"<p>The javax.xml.stream.XMLStreamException could be happening due to invalid XML. Print the XML and see if it validates against the DTD or XSD.</p>\n"}],"owner":{"account_id":2179125,"reputation":679,"user_id":1929013,"accept_rate":73,"display_name":"cannot_mutably_borrow"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":943,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1641296017,"creation_date":1356495715,"question_id":14035970,"body_markdown":"I have a chunk of code like this:\r\n\r\n    AxiomSoapMessage message = (AxiomSoapMessage)webServiceMessage;\t\r\n\r\n    SoapHeader soapHeader = message.getSoapHeader();\r\n    SOAPMessage soapMessage = message.getAxiomMessage();\r\n\t\t\r\n    TransportContext transContext = TransportContextHolder.getTransportContext();\r\n\r\n    HttpServletConnection connection = (HttpServletConnection)transContext.getConnection();\r\n    HttpServletRequest httpRequest = connection.getHttpServletRequest();\r\n\t\t\r\n    InputStream inputStream = httpRequest.getInputStream();\r\n\r\n    SniffedXmlInputStream sniffedXmlInputStream = new SniffedXmlInputStream(inputStream);\r\n\r\n    String encoding = sniffedXmlInputStream.getXmlEncoding();\r\n    sniffedXmlInputStream.close();\r\n\t\t\r\n    String soapVersion = message.getVersion().toString();\t\t\r\n\t\t\r\n    ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n\t\t\r\n    **soapMessage.serialize(baos);** //THIS LINE\r\n\r\n\r\n\r\n\r\n\r\nThis is a part of a class which receives a Spring ws&#39;s **WebServiceMessage** from which I extract the **SOAPMessage** as shown above.\r\n\r\nAt the line in bold, marked with &quot;THIS LINE&quot; in the above code, I &quot;sometimes&quot; get the following exception \r\n\r\n     org.springframework.integration.MessageHandlingException: \r\n        org.apache.axiom.om.OMException: \r\n           javax.xml.stream.XMLStreamException: \r\n              ParseError at [row,col]:[1,4090] Message: Stream closed\r\n\r\nAny solutions?\r\n","title":"Sometime I get Stream Closed sometimes i don&#39;t. Why do i get this?","body":"<p>I have a chunk of code like this:</p>\n<pre><code>AxiomSoapMessage message = (AxiomSoapMessage)webServiceMessage; \n\nSoapHeader soapHeader = message.getSoapHeader();\nSOAPMessage soapMessage = message.getAxiomMessage();\n    \nTransportContext transContext = TransportContextHolder.getTransportContext();\n\nHttpServletConnection connection = (HttpServletConnection)transContext.getConnection();\nHttpServletRequest httpRequest = connection.getHttpServletRequest();\n    \nInputStream inputStream = httpRequest.getInputStream();\n\nSniffedXmlInputStream sniffedXmlInputStream = new SniffedXmlInputStream(inputStream);\n\nString encoding = sniffedXmlInputStream.getXmlEncoding();\nsniffedXmlInputStream.close();\n    \nString soapVersion = message.getVersion().toString();       \n    \nByteArrayOutputStream baos = new ByteArrayOutputStream();\n    \n**soapMessage.serialize(baos);** //THIS LINE\n</code></pre>\n<p>This is a part of a class which receives a Spring ws's <strong>WebServiceMessage</strong> from which I extract the <strong>SOAPMessage</strong> as shown above.</p>\n<p>At the line in bold, marked with &quot;THIS LINE&quot; in the above code, I &quot;sometimes&quot; get the following exception</p>\n<pre><code> org.springframework.integration.MessageHandlingException: \n    org.apache.axiom.om.OMException: \n       javax.xml.stream.XMLStreamException: \n          ParseError at [row,col]:[1,4090] Message: Stream closed\n</code></pre>\n<p>Any solutions?</p>\n"},{"tags":["java","android","broadcastreceiver","android-service","android-broadcast"],"comments":[{"owner":{"account_id":402229,"reputation":93994,"user_id":769265,"display_name":"David Wasser"},"score":0,"creation_date":1641388583,"post_id":70578098,"comment_id":124791196,"body_markdown":"Is your `BroadcastReceiver` getting called on device boot? Are your sure?","body":"Is your <code>BroadcastReceiver</code> getting called on device boot? Are your sure?"},{"owner":{"account_id":402229,"reputation":93994,"user_id":769265,"display_name":"David Wasser"},"score":0,"creation_date":1641388722,"post_id":70578098,"comment_id":124791258,"body_markdown":"Also, what version of Android is your test device running?","body":"Also, what version of Android is your test device running?"},{"owner":{"account_id":12986267,"reputation":455,"user_id":14310836,"display_name":"Pro"},"score":0,"creation_date":1641448170,"post_id":70578098,"comment_id":124808523,"body_markdown":"Android 10...and how can I know if the broadcast receiver is getting called? The notification I intend it to push doesn&#39;t get pushed so maybe it isn&#39;t!","body":"Android 10...and how can I know if the broadcast receiver is getting called? The notification I intend it to push doesn&#39;t get pushed so maybe it isn&#39;t!"},{"owner":{"account_id":402229,"reputation":93994,"user_id":769265,"display_name":"David Wasser"},"score":0,"creation_date":1641493909,"post_id":70578098,"comment_id":124824394,"body_markdown":"add debug logging in `onReceive()` that writes to logcat or something similar.","body":"add debug logging in <code>onReceive()</code> that writes to logcat or something similar."},{"owner":{"account_id":402229,"reputation":93994,"user_id":769265,"display_name":"David Wasser"},"score":0,"creation_date":1641494021,"post_id":70578098,"comment_id":124824441,"body_markdown":"Also, what is in `onCreate()` of `MainApplication`? Because that will get called **before** your `BroadcastReceiver` is instantiated. Maybe that has some issues during the boot process. You could also add debug logging there.","body":"Also, what is in <code>onCreate()</code> of <code>MainApplication</code>? Because that will get called <b>before</b> your <code>BroadcastReceiver</code> is instantiated. Maybe that has some issues during the boot process. You could also add debug logging there."}],"owner":{"account_id":12986267,"reputation":455,"user_id":14310836,"display_name":"Pro"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1641295756,"creation_date":1641295756,"question_id":70578098,"body_markdown":"I have set up a broadcast receiver in my app and I expect it to start a service when my device restarts...This service should push a notification...But the service isn&#39;t getting triggered..Please tell me where I am going wrong..This is my code:\r\n\r\nAndroidManifest.xml\r\n\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        package=&quot;com.conquer_app&quot;&gt;\r\n    \r\n        &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.FOREGROUND_SERVICE&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.RECEIVE_BOOT_COMPLETED&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.WAKE_LOCK&quot; /&gt;\r\n    \r\n        &lt;application\r\n            android:name=&quot;.MainApplication&quot;\r\n            android:allowBackup=&quot;false&quot;\r\n            android:icon=&quot;@mipmap/conquer_icon&quot;\r\n            android:label=&quot;@string/app_name&quot;\r\n            android:roundIcon=&quot;@mipmap/conquer_icon&quot;\r\n            android:theme=&quot;@style/AppTheme&quot;&gt;\r\n            &lt;meta-data\r\n                android:name=&quot;com.google.firebase.messaging.default_notification_icon&quot;\r\n                android:resource=&quot;@drawable/notification_icon&quot; /&gt;\r\n            &lt;meta-data\r\n                android:name=&quot;com.google.firebase.messaging.default_notification_color&quot;\r\n                android:resource=&quot;@color/conquerBackgroundColor&quot; /&gt;\r\n    \r\n            &lt;receiver\r\n                android:name=&quot;.RebootBroadcastReceiver&quot;\r\n                android:enabled=&quot;true&quot;\r\n                android:exported=&quot;true&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.BOOT_COMPLETED&quot; /&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.QUICKBOOT_POWERON&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/receiver&gt;\r\n            &lt;service\r\n                android:name=&quot;.AlarmHandlerService&quot;\r\n                android:enabled=&quot;true&quot;\r\n                android:exported=&quot;true&quot; /&gt;\r\n            &lt;service\r\n                android:name=&quot;.DemoService&quot;\r\n                android:enabled=&quot;true&quot;\r\n                android:exported=&quot;true&quot; /&gt;\r\n            &lt;activity\r\n                android:name=&quot;.MainActivity&quot;\r\n                android:configChanges=&quot;keyboard|keyboardHidden|orientation|screenSize|uiMode&quot;\r\n                android:label=&quot;@string/app_name&quot;\r\n                android:launchMode=&quot;singleTask&quot;\r\n                android:windowSoftInputMode=&quot;adjustResize&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n                    &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/activity&gt;\r\n        &lt;/application&gt;\r\n    &lt;/manifest&gt;\r\n\r\nRebootBroadcastReceiver.java\r\n\r\n    package com.conquer_app;\r\n    \r\n    \r\n    import android.content.BroadcastReceiver;\r\n    import android.content.Context;\r\n    import android.content.Intent;\r\n    \r\n    public class RebootBroadcastReceiver extends BroadcastReceiver {\r\n    \r\n        @Override\r\n        public void onReceive(Context context, Intent intent) {\r\n            String action = intent.getAction();\r\n            if (Intent.ACTION_BOOT_COMPLETED.equals(action)) {\r\n                Intent newIntent = new Intent(context, DemoService.class);\r\n                context.startService(newIntent);\r\n            }\r\n        }\r\n    }\r\n\r\nDemoService.java\r\n\r\n    package com.conquer_app;\r\n    \r\n    import android.app.Service;\r\n    import android.content.Intent;\r\n    import android.os.IBinder;\r\n    \r\n    import androidx.core.app.NotificationCompat;\r\n    \r\n    public class DemoService extends Service {\r\n    \r\n    \r\n        public NotificationCompat.Builder createNotification(String title, String content) {\r\n    \r\n            NotificationCompat.Builder builder = new NotificationCompat.Builder(getApplicationContext(), &quot;task_reminders&quot;)\r\n                    .setSmallIcon(R.drawable.notification_icon)\r\n                    .setContentTitle(title)\r\n                    .setContentText(content)\r\n                    .setPriority(NotificationCompat.PRIORITY_MAX);\r\n            return builder;\r\n        }\r\n    \r\n        @Override\r\n        public void onCreate() {\r\n            super.onCreate();\r\n            createNotification(&quot;service is started&quot;, &quot;&quot;).build();\r\n        }\r\n    \r\n    \r\n        @Override\r\n        public int onStartCommand(Intent intent, int flags, int startId) {\r\n            createNotification(&quot;Demo Service works&quot;, &quot;can add my DB now...&quot;).build();\r\n            return START_NOT_STICKY;\r\n        }\r\n    \r\n        @Override\r\n        public IBinder onBind(Intent intent) {\r\n            return null;\r\n        }\r\n    }\r\n\r\n","title":"Broadcast receiver isn&#39;t starting the intended service on device restart","body":"<p>I have set up a broadcast receiver in my app and I expect it to start a service when my device restarts...This service should push a notification...But the service isn't getting triggered..Please tell me where I am going wrong..This is my code:</p>\n<p>AndroidManifest.xml</p>\n<pre><code>&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    package=&quot;com.conquer_app&quot;&gt;\n\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.FOREGROUND_SERVICE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.RECEIVE_BOOT_COMPLETED&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.WAKE_LOCK&quot; /&gt;\n\n    &lt;application\n        android:name=&quot;.MainApplication&quot;\n        android:allowBackup=&quot;false&quot;\n        android:icon=&quot;@mipmap/conquer_icon&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/conquer_icon&quot;\n        android:theme=&quot;@style/AppTheme&quot;&gt;\n        &lt;meta-data\n            android:name=&quot;com.google.firebase.messaging.default_notification_icon&quot;\n            android:resource=&quot;@drawable/notification_icon&quot; /&gt;\n        &lt;meta-data\n            android:name=&quot;com.google.firebase.messaging.default_notification_color&quot;\n            android:resource=&quot;@color/conquerBackgroundColor&quot; /&gt;\n\n        &lt;receiver\n            android:name=&quot;.RebootBroadcastReceiver&quot;\n            android:enabled=&quot;true&quot;\n            android:exported=&quot;true&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.BOOT_COMPLETED&quot; /&gt;\n                &lt;action android:name=&quot;android.intent.action.QUICKBOOT_POWERON&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/receiver&gt;\n        &lt;service\n            android:name=&quot;.AlarmHandlerService&quot;\n            android:enabled=&quot;true&quot;\n            android:exported=&quot;true&quot; /&gt;\n        &lt;service\n            android:name=&quot;.DemoService&quot;\n            android:enabled=&quot;true&quot;\n            android:exported=&quot;true&quot; /&gt;\n        &lt;activity\n            android:name=&quot;.MainActivity&quot;\n            android:configChanges=&quot;keyboard|keyboardHidden|orientation|screenSize|uiMode&quot;\n            android:label=&quot;@string/app_name&quot;\n            android:launchMode=&quot;singleTask&quot;\n            android:windowSoftInputMode=&quot;adjustResize&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n&lt;/manifest&gt;\n</code></pre>\n<p>RebootBroadcastReceiver.java</p>\n<pre><code>package com.conquer_app;\n\n\nimport android.content.BroadcastReceiver;\nimport android.content.Context;\nimport android.content.Intent;\n\npublic class RebootBroadcastReceiver extends BroadcastReceiver {\n\n    @Override\n    public void onReceive(Context context, Intent intent) {\n        String action = intent.getAction();\n        if (Intent.ACTION_BOOT_COMPLETED.equals(action)) {\n            Intent newIntent = new Intent(context, DemoService.class);\n            context.startService(newIntent);\n        }\n    }\n}\n</code></pre>\n<p>DemoService.java</p>\n<pre><code>package com.conquer_app;\n\nimport android.app.Service;\nimport android.content.Intent;\nimport android.os.IBinder;\n\nimport androidx.core.app.NotificationCompat;\n\npublic class DemoService extends Service {\n\n\n    public NotificationCompat.Builder createNotification(String title, String content) {\n\n        NotificationCompat.Builder builder = new NotificationCompat.Builder(getApplicationContext(), &quot;task_reminders&quot;)\n                .setSmallIcon(R.drawable.notification_icon)\n                .setContentTitle(title)\n                .setContentText(content)\n                .setPriority(NotificationCompat.PRIORITY_MAX);\n        return builder;\n    }\n\n    @Override\n    public void onCreate() {\n        super.onCreate();\n        createNotification(&quot;service is started&quot;, &quot;&quot;).build();\n    }\n\n\n    @Override\n    public int onStartCommand(Intent intent, int flags, int startId) {\n        createNotification(&quot;Demo Service works&quot;, &quot;can add my DB now...&quot;).build();\n        return START_NOT_STICKY;\n    }\n\n    @Override\n    public IBinder onBind(Intent intent) {\n        return null;\n    }\n}\n</code></pre>\n"},{"tags":["java","jgit"],"answers":[{"tags":[],"owner":{"account_id":404578,"reputation":2475,"user_id":772992,"accept_rate":80,"display_name":"hradecek"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1641295714,"creation_date":1641295714,"answer_id":70578087,"question_id":70575763,"body_markdown":"# Ex1\r\nI think, this is not supported by `git` itself, so **no**. (I might be wrong though)\r\n\r\nAs a workaround, one might use `CloneCommand#setNoCheckout(boolean)` [1], which prevents downloading any branch (clone command should be pretty quick). The cloned repository (cloned into some temp directory), might be removed immediately, if call succeeded.\r\n\r\n# Ex2\r\nFor push, `dry-run` can be used. Supported by JGit [2].\r\n\r\nMost of the commands have some form of `dry-run` option.\r\n\r\nSee: https://stackoverflow.com/questions/2573905/do-all-git-commands-have-a-dry-run-option\r\n\r\n--\r\n\r\n[1] https://javadoc.io/doc/org.eclipse.jgit/org.eclipse.jgit/latest/org.eclipse.jgit/org/eclipse/jgit/api/CloneCommand.html\r\n\r\n[2] https://javadoc.io/doc/org.eclipse.jgit/org.eclipse.jgit/latest/org.eclipse.jgit/org/eclipse/jgit/api/PushCommand.html","title":"JGit Check Permissions","body":"<h1>Ex1</h1>\n<p>I think, this is not supported by <code>git</code> itself, so <strong>no</strong>. (I might be wrong though)</p>\n<p>As a workaround, one might use <code>CloneCommand#setNoCheckout(boolean)</code> [1], which prevents downloading any branch (clone command should be pretty quick). The cloned repository (cloned into some temp directory), might be removed immediately, if call succeeded.</p>\n<h1>Ex2</h1>\n<p>For push, <code>dry-run</code> can be used. Supported by JGit [2].</p>\n<p>Most of the commands have some form of <code>dry-run</code> option.</p>\n<p>See: <a href=\"https://stackoverflow.com/questions/2573905/do-all-git-commands-have-a-dry-run-option\">Do all git commands have a dry-run option?</a></p>\n<p>--</p>\n<p>[1] <a href=\"https://javadoc.io/doc/org.eclipse.jgit/org.eclipse.jgit/latest/org.eclipse.jgit/org/eclipse/jgit/api/CloneCommand.html\" rel=\"nofollow noreferrer\">https://javadoc.io/doc/org.eclipse.jgit/org.eclipse.jgit/latest/org.eclipse.jgit/org/eclipse/jgit/api/CloneCommand.html</a></p>\n<p>[2] <a href=\"https://javadoc.io/doc/org.eclipse.jgit/org.eclipse.jgit/latest/org.eclipse.jgit/org/eclipse/jgit/api/PushCommand.html\" rel=\"nofollow noreferrer\">https://javadoc.io/doc/org.eclipse.jgit/org.eclipse.jgit/latest/org.eclipse.jgit/org/eclipse/jgit/api/PushCommand.html</a></p>\n"}],"owner":{"account_id":22259865,"reputation":139,"user_id":16491467,"display_name":"Akcore"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":165,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70578087,"answer_count":1,"score":2,"last_activity_date":1641295714,"creation_date":1641283920,"question_id":70575763,"body_markdown":"In JGit, is it possible to check developer permissions without doing the actions (provided username and password)?\r\n\r\nEx: Is it possible to check if a user can clone a repository without cloning it?\r\n\r\nEx2: Is it possible to check if a user can push to a repository without pushing to it?","title":"JGit Check Permissions","body":"<p>In JGit, is it possible to check developer permissions without doing the actions (provided username and password)?</p>\n<p>Ex: Is it possible to check if a user can clone a repository without cloning it?</p>\n<p>Ex2: Is it possible to check if a user can push to a repository without pushing to it?</p>\n"},{"tags":["java","antlr4"],"comments":[{"owner":{"account_id":23822236,"reputation":21,"user_id":17829765,"display_name":"Huanqing Cheng"},"score":0,"creation_date":1641352521,"post_id":70576192,"comment_id":124781040,"body_markdown":"I have solved it myself. tks all","body":"I have solved it myself. tks all"}],"owner":{"account_id":23822236,"reputation":21,"user_id":17829765,"display_name":"Huanqing Cheng"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1641295709,"creation_date":1641286244,"question_id":70576192,"body_markdown":"My input and output are as follows\r\n\r\ninput：\r\n```sql\r\nSELECT *,\r\n       grass_date,\r\n       grass_region AS region\r\nFROM   (SELECT DISTINCT userid AS user_id,\r\n                        username,\r\n                        email,\r\n                        email_verified,\r\n                        edm_flag, Datediff(CURRENT_DATE(), last_login) AS\r\n       days_since_last_login, Datediff(CURRENT_DATE(),\r\n       last_valid_checkout_time_sgt) AS\r\n       days_since_last_checkout, Datediff(CURRENT_DATE(), last_purchase_time) AS\r\n       days_since_last_purchase, Datediff(CURRENT_DATE(), registration_time) AS\r\n       days_since_registration, churn_score, is_life_cycle, grass_date,\r\n       grass_region\r\n        FROM   shopee_reg_mkt_anlys.crm_buyer_lifecycle\r\n        WHERE  grass_region = &#39;PH&#39; AND is_life_cycle = 1 AND\r\n       total_valid_checkout = 0\r\n       AND status = 1 AND shopee_reg_mkt_anlys.crm_buyer_lifecycle.grass_date =\r\n       Date_sub(CURRENT_DATE(), 2)) TBLA\r\nWHERE  ( TBLA.days_since_registration &gt;= 22\r\n         AND TBLA.days_since_registration &lt;= 90 )\r\n        OR ( TBLA.days_since_registration &gt; 90\r\n             AND TBLA.days_since_last_login &lt; 15 )  \r\n```\r\n\r\noutput:\r\n```json\r\n{\r\n  &quot;code&quot;: 0,\r\n  &quot;msg&quot;: &quot;success&quot;,\r\n  &quot;tid&quot;: &quot;425a67a283d04705bbd69898d0015e65&quot;,\r\n  &quot;result&quot;: {\r\n    &quot;inPutTableAndFields&quot;: {\r\n      &quot;shopee_reg_mkt_anlys.crm_buyer_lifecycle&quot;: [\r\n        &quot;datediff(current_date(),last_login)&quot;,\r\n        &quot;email_verified&quot;,\r\n        &quot;datediff(current_date(),registration_time)&quot;,\r\n        &quot;datediff(current_date(),last_valid_checkout_time_sgt)&quot;,\r\n        &quot;edm_flag&quot;,\r\n        &quot;userid&quot;,\r\n        &quot;is_life_cycle&quot;,\r\n        &quot;datediff(current_date(),last_purchase_time)&quot;,\r\n        &quot;grass_date&quot;,\r\n        &quot;email&quot;,\r\n        &quot;churn_score&quot;,\r\n        &quot;grass_region&quot;,\r\n        &quot;username&quot;\r\n      ]\r\n    },\r\n    &quot;outPutTable&quot;: &quot;&quot;,\r\n    &quot;outPutFields&quot;: [\r\n      &quot;*&quot;,\r\n      &quot;grass_date&quot;,\r\n      &quot;grass_region&quot;\r\n    ]\r\n  }\r\n}\r\n```\r\n\r\nNow, I want to remove the function part in `inPutTableAndFields` and only show the fields such as: \r\n\r\n```\r\ndatediff(current_date(),registration_time) -&gt; registration_time\r\n```\r\n\r\nBelow is my code to get the dependent fields and tables in the parse tree：\r\n```java\r\npublic class GetInputTableAndFieldsLinstener extends SqlBaseBaseListener {\r\n\r\n    LinkedBlockingDeque&lt;String&gt; dependTableAndFieldsQueue;\r\n\r\n    public GetInputTableAndFieldsLinstener(LinkedBlockingDeque&lt;String&gt; dependTableAndFieldsQueue) {\r\n        this.dependTableAndFieldsQueue = dependTableAndFieldsQueue;\r\n    }\r\n\r\n    @Override\r\n    public void enterRelation(SqlBaseParser.RelationContext ctx) {\r\n        if (ctx.getChild(0).getText().contains(&quot;(&quot;)) { //判断是否为子查询\r\n            dependTableAndFieldsQueue.removeLast();\r\n        }\r\n        //log.info(&quot;队列中元素有&quot; + dependTableAndFieldsQueue.toString());\r\n    }\r\n\r\n    //若重写enterExpression,队列需要add多次，达不到遇到自查询后及时清除队列中上一元素效果\r\n    @SneakyThrows\r\n    @Override\r\n    public void enterNamedExpressionSeq(SqlBaseParser.NamedExpressionSeqContext ctx) {\r\n        //遍历namedEXpressionSeq子树，剔除as别名、函数个别字符临时替换\r\n        String tmp = &quot;&quot;;\r\n        String fields = &quot;&quot;;\r\n        for (ParseTree tree : ctx.children) {\r\n            //判断是否为标准namedExression子树(孩子数目为1或者3)还是null(值为&#39;,&#39;)子树(孩子数目为0)或异常情况;\r\n            //判断孩子数目为0时需额外考虑select字段出现两次&#39;,&#39;符号仍提取成功的情况\r\n            if ((tree.getChildCount() != 0 &amp;&amp; tree.getChild(0).getChild(0).getChildCount() == 1) || tree.getChildCount() == 3) {\r\n                //如果是非函数部分直接获取函数体，否则临时需要临时对`,`字符进行替换\r\n                if (!tree.getChild(0).getText().contains(&quot;(&quot;)) {\r\n                    fields += tmp.concat(tree.getChild(0).getText());\r\n                } else {\r\n                    fields += tree.getChild(0).getText().replace(&quot;,&quot;, &quot;/&quot;);\r\n                }\r\n            } else if (tree.getChildCount() == 0) { //\r\n                fields += tmp.concat(&quot;,&quot;);  //添加字段分隔符&#39;,&#39;\r\n            } else {\r\n                //sql语法错误，抛出异常，解析失败\r\n                log.error(&quot;血缘提取sql语法有误&quot;);\r\n                throw new RuntimeException();\r\n            }\r\n        }\r\n\r\n        dependTableAndFieldsQueue.add(fields);\r\n    }\r\n\r\n    @Override\r\n    public void enterTableName(SqlBaseParser.TableNameContext ctx) {\r\n        dependTableAndFieldsQueue.add(&quot;table.&quot; + ctx.multipartIdentifier().getText());\r\n    }\r\n\r\n}\r\n```","title":"How to accurately extract dependent fields in select type sql","body":"<p>My input and output are as follows</p>\n<p>input：</p>\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT *,\n       grass_date,\n       grass_region AS region\nFROM   (SELECT DISTINCT userid AS user_id,\n                        username,\n                        email,\n                        email_verified,\n                        edm_flag, Datediff(CURRENT_DATE(), last_login) AS\n       days_since_last_login, Datediff(CURRENT_DATE(),\n       last_valid_checkout_time_sgt) AS\n       days_since_last_checkout, Datediff(CURRENT_DATE(), last_purchase_time) AS\n       days_since_last_purchase, Datediff(CURRENT_DATE(), registration_time) AS\n       days_since_registration, churn_score, is_life_cycle, grass_date,\n       grass_region\n        FROM   shopee_reg_mkt_anlys.crm_buyer_lifecycle\n        WHERE  grass_region = 'PH' AND is_life_cycle = 1 AND\n       total_valid_checkout = 0\n       AND status = 1 AND shopee_reg_mkt_anlys.crm_buyer_lifecycle.grass_date =\n       Date_sub(CURRENT_DATE(), 2)) TBLA\nWHERE  ( TBLA.days_since_registration &gt;= 22\n         AND TBLA.days_since_registration &lt;= 90 )\n        OR ( TBLA.days_since_registration &gt; 90\n             AND TBLA.days_since_last_login &lt; 15 )  \n</code></pre>\n<p>output:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;code&quot;: 0,\n  &quot;msg&quot;: &quot;success&quot;,\n  &quot;tid&quot;: &quot;425a67a283d04705bbd69898d0015e65&quot;,\n  &quot;result&quot;: {\n    &quot;inPutTableAndFields&quot;: {\n      &quot;shopee_reg_mkt_anlys.crm_buyer_lifecycle&quot;: [\n        &quot;datediff(current_date(),last_login)&quot;,\n        &quot;email_verified&quot;,\n        &quot;datediff(current_date(),registration_time)&quot;,\n        &quot;datediff(current_date(),last_valid_checkout_time_sgt)&quot;,\n        &quot;edm_flag&quot;,\n        &quot;userid&quot;,\n        &quot;is_life_cycle&quot;,\n        &quot;datediff(current_date(),last_purchase_time)&quot;,\n        &quot;grass_date&quot;,\n        &quot;email&quot;,\n        &quot;churn_score&quot;,\n        &quot;grass_region&quot;,\n        &quot;username&quot;\n      ]\n    },\n    &quot;outPutTable&quot;: &quot;&quot;,\n    &quot;outPutFields&quot;: [\n      &quot;*&quot;,\n      &quot;grass_date&quot;,\n      &quot;grass_region&quot;\n    ]\n  }\n}\n</code></pre>\n<p>Now, I want to remove the function part in <code>inPutTableAndFields</code> and only show the fields such as:</p>\n<pre><code>datediff(current_date(),registration_time) -&gt; registration_time\n</code></pre>\n<p>Below is my code to get the dependent fields and tables in the parse tree：</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class GetInputTableAndFieldsLinstener extends SqlBaseBaseListener {\n\n    LinkedBlockingDeque&lt;String&gt; dependTableAndFieldsQueue;\n\n    public GetInputTableAndFieldsLinstener(LinkedBlockingDeque&lt;String&gt; dependTableAndFieldsQueue) {\n        this.dependTableAndFieldsQueue = dependTableAndFieldsQueue;\n    }\n\n    @Override\n    public void enterRelation(SqlBaseParser.RelationContext ctx) {\n        if (ctx.getChild(0).getText().contains(&quot;(&quot;)) { //判断是否为子查询\n            dependTableAndFieldsQueue.removeLast();\n        }\n        //log.info(&quot;队列中元素有&quot; + dependTableAndFieldsQueue.toString());\n    }\n\n    //若重写enterExpression,队列需要add多次，达不到遇到自查询后及时清除队列中上一元素效果\n    @SneakyThrows\n    @Override\n    public void enterNamedExpressionSeq(SqlBaseParser.NamedExpressionSeqContext ctx) {\n        //遍历namedEXpressionSeq子树，剔除as别名、函数个别字符临时替换\n        String tmp = &quot;&quot;;\n        String fields = &quot;&quot;;\n        for (ParseTree tree : ctx.children) {\n            //判断是否为标准namedExression子树(孩子数目为1或者3)还是null(值为',')子树(孩子数目为0)或异常情况;\n            //判断孩子数目为0时需额外考虑select字段出现两次','符号仍提取成功的情况\n            if ((tree.getChildCount() != 0 &amp;&amp; tree.getChild(0).getChild(0).getChildCount() == 1) || tree.getChildCount() == 3) {\n                //如果是非函数部分直接获取函数体，否则临时需要临时对`,`字符进行替换\n                if (!tree.getChild(0).getText().contains(&quot;(&quot;)) {\n                    fields += tmp.concat(tree.getChild(0).getText());\n                } else {\n                    fields += tree.getChild(0).getText().replace(&quot;,&quot;, &quot;/&quot;);\n                }\n            } else if (tree.getChildCount() == 0) { //\n                fields += tmp.concat(&quot;,&quot;);  //添加字段分隔符','\n            } else {\n                //sql语法错误，抛出异常，解析失败\n                log.error(&quot;血缘提取sql语法有误&quot;);\n                throw new RuntimeException();\n            }\n        }\n\n        dependTableAndFieldsQueue.add(fields);\n    }\n\n    @Override\n    public void enterTableName(SqlBaseParser.TableNameContext ctx) {\n        dependTableAndFieldsQueue.add(&quot;table.&quot; + ctx.multipartIdentifier().getText());\n    }\n\n}\n</code></pre>\n"},{"tags":["java","multithreading"],"answers":[{"tags":[],"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1641295671,"creation_date":1641295160,"answer_id":70577981,"question_id":70577798,"body_markdown":"If we use [`CountdownLatch::countDown`][CountdownLatchCountDownApi] and then want to wait until the latch releases, we would use [`CountdownLatch::await`][CountDownLatchAwaitApi]. I recommend reading the [full documentation of `CountdownLatch`][CountDownLatchApi].\r\n\r\nCalling [`Thread::interrupt`][ThreadInterruptApi] on the current thread has no apparent effect since the thread is not blocking right now. It would have an effect if the thread was blocked, e.g. by an I/O operation. But then again, if the current thread is blocked, it cannot interrupt itself. It can be used to keep the state. See [this question][HeseyQuestion] by [Hesey][Hesey] and its answers for details.\r\n\r\nIf we use `return`, we return from the current method. This is a totally different construct than blocking.\r\n\r\n[CountDownLatchCountDownApi]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/CountDownLatch.html#countDown()\r\n\r\n[CountDownLatchAwaitApi]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/CountDownLatch.html#await()\r\n\r\n[CountDownLatchApi]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/CountDownLatch.html\r\n\r\n[ThreadInterruptApi]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Thread.html#interrupt()\r\n\r\n[HeseyQuestion]: https://stackoverflow.com/questions/4906799/why-invoke-thread-currentthread-interrupt-in-a-catch-interruptexception-block\r\n\r\n[Hesey]: https://stackoverflow.com/users/590091/hesey","title":"Can I use &quot;Thread.currentThread().interrupt()&quot; when I want to stop execution inside a thread?","body":"<p>If we use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/CountDownLatch.html#countDown()\" rel=\"nofollow noreferrer\"><code>CountdownLatch::countDown</code></a> and then want to wait until the latch releases, we would use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/CountDownLatch.html#await()\" rel=\"nofollow noreferrer\"><code>CountdownLatch::await</code></a>. I recommend reading the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/CountDownLatch.html\" rel=\"nofollow noreferrer\">full documentation of <code>CountdownLatch</code></a>.</p>\n<p>Calling <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Thread.html#interrupt()\" rel=\"nofollow noreferrer\"><code>Thread::interrupt</code></a> on the current thread has no apparent effect since the thread is not blocking right now. It would have an effect if the thread was blocked, e.g. by an I/O operation. But then again, if the current thread is blocked, it cannot interrupt itself. It can be used to keep the state. See <a href=\"https://stackoverflow.com/questions/4906799/why-invoke-thread-currentthread-interrupt-in-a-catch-interruptexception-block\">this question</a> by <a href=\"https://stackoverflow.com/users/590091/hesey\">Hesey</a> and its answers for details.</p>\n<p>If we use <code>return</code>, we return from the current method. This is a totally different construct than blocking.</p>\n"}],"owner":{"account_id":23823636,"reputation":23,"user_id":17831002,"display_name":"ant76050391"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70577981,"answer_count":1,"score":1,"last_activity_date":1641295671,"creation_date":1641294362,"question_id":70577798,"body_markdown":"Used for thread control\r\nYou are using &quot;CountDownLatch&quot;, and at the end you are using &quot;latch.countDown()&quot; to control the thread.\r\nBut if I use &quot;return&quot; to detach a thread during execution like below code,\r\nSince &quot;latch.countDown()&quot; cannot be called, the thread remains waiting. So I want to use &quot;latch.countDown()&quot; and &quot;Thread.currentThread().interrupt()&quot; instead of &quot;return&quot;, but I&#39;m wondering if this is the correct way to do it. I&#39;d like some help on what to do if I&#39;m wrong.\r\n\r\n\r\n\r\n```\r\nCountDownLatch latch = new CountDownLatch();\r\n\r\npublic void run() {\r\n  //....\r\n  if (isNotExist) {\r\n    retrun; //-&gt; instead of &quot;return&quot; Can I use &quot;latch.countDown()&quot; and &quot;Thread.currentThread().interrupt()&quot; together?\r\n  }\r\n  //...\r\n  latch.countDown()\r\n}\r\n```\r\n\r\n","title":"Can I use &quot;Thread.currentThread().interrupt()&quot; when I want to stop execution inside a thread?","body":"<p>Used for thread control\nYou are using &quot;CountDownLatch&quot;, and at the end you are using &quot;latch.countDown()&quot; to control the thread.\nBut if I use &quot;return&quot; to detach a thread during execution like below code,\nSince &quot;latch.countDown()&quot; cannot be called, the thread remains waiting. So I want to use &quot;latch.countDown()&quot; and &quot;Thread.currentThread().interrupt()&quot; instead of &quot;return&quot;, but I'm wondering if this is the correct way to do it. I'd like some help on what to do if I'm wrong.</p>\n<pre><code>CountDownLatch latch = new CountDownLatch();\n\npublic void run() {\n  //....\n  if (isNotExist) {\n    retrun; //-&gt; instead of &quot;return&quot; Can I use &quot;latch.countDown()&quot; and &quot;Thread.currentThread().interrupt()&quot; together?\n  }\n  //...\n  latch.countDown()\n}\n</code></pre>\n"},{"tags":["java","android","android-studio","adapter"],"comments":[{"owner":{"account_id":1298553,"reputation":505,"user_id":1248938,"accept_rate":57,"display_name":"hanut"},"score":0,"creation_date":1641295462,"post_id":70578013,"comment_id":124762686,"body_markdown":"You should really take a look at https://stackoverflow.com/questions/2736389/how-to-pass-an-object-from-one-activity-to-another-on-android","body":"You should really take a look at <a href=\"https://stackoverflow.com/questions/2736389/how-to-pass-an-object-from-one-activity-to-another-on-android\" title=\"how to pass an object from one activity to another on android\">stackoverflow.com/questions/2736389/&hellip;</a>"},{"owner":{"account_id":23034452,"reputation":13,"user_id":17153417,"display_name":"ilay"},"score":0,"creation_date":1641295621,"post_id":70578013,"comment_id":124762751,"body_markdown":"@hanut I tried looking at it already but it seems to not work for me. I thought it might have something to do with the object&#39;s type being an Adapter but I am not sure how to fix it","body":"@hanut I tried looking at it already but it seems to not work for me. I thought it might have something to do with the object&#39;s type being an Adapter but I am not sure how to fix it"},{"owner":{"account_id":12044851,"reputation":735,"user_id":8810290,"display_name":"Mobin Yardim"},"score":0,"creation_date":1641298519,"post_id":70578013,"comment_id":124763893,"body_markdown":"Is this a recycler view adapter that you want to pass between activities?","body":"Is this a recycler view adapter that you want to pass between activities?"}],"owner":{"account_id":23034452,"reputation":13,"user_id":17153417,"display_name":"ilay"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1641295269,"creation_date":1641295269,"question_id":70578013,"body_markdown":"I want to move an adapter object from one activity to another.\r\n\r\nMy main activity:\r\n```\r\n\r\n                Intent intent = new Intent(MainActivity.this, ActivityTest.class);\r\n                intent.putExtra(&quot;Key1&quot;, position);\r\n                intent.putExtra(&quot;key2&quot;, toyAdapter);\r\n                startActivity(intent);\r\n```\r\n\r\nMy second activity:\r\n\r\n```\r\nIntent intent = getIntent();\r\n                int position = intent.getIntExtra(&quot;Key1&quot;, 0);\r\n                ToyAdapter toyAdapter = (ToyAdapter) intent.getSerializableExtra(&quot;Key2&quot;);\r\n```\r\n\r\nI know something&#39;s wrong but I am pretty new to this and therefore I am not sure what&#39;s the right way to move that Adapter Object to my second activity. Thanks","title":"Moving an Adapter Object from one activity to another","body":"<p>I want to move an adapter object from one activity to another.</p>\n<p>My main activity:</p>\n<pre><code>\n                Intent intent = new Intent(MainActivity.this, ActivityTest.class);\n                intent.putExtra(&quot;Key1&quot;, position);\n                intent.putExtra(&quot;key2&quot;, toyAdapter);\n                startActivity(intent);\n</code></pre>\n<p>My second activity:</p>\n<pre><code>Intent intent = getIntent();\n                int position = intent.getIntExtra(&quot;Key1&quot;, 0);\n                ToyAdapter toyAdapter = (ToyAdapter) intent.getSerializableExtra(&quot;Key2&quot;);\n</code></pre>\n<p>I know something's wrong but I am pretty new to this and therefore I am not sure what's the right way to move that Adapter Object to my second activity. Thanks</p>\n"},{"tags":["java","android","firebase","google-play","google-play-console"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1595847727,"post_id":63113840,"comment_id":111606021,"body_markdown":"Please check the duplicate to see how you can check if a user is new. And to check if &quot;now&quot; is within those first 24 hours, add a Timestamp property. Here is for [Firebase Realtime Database](https://stackoverflow.com/questions/43584244/how-to-save-the-current-date-time-when-i-add-new-value-to-firebase-realtime-data) and here is for [Cloud Firestore](https://stackoverflow.com/questions/48474957/servertimestamp-is-allways-null-on-firebase-firestore/48475027).","body":"Please check the duplicate to see how you can check if a user is new. And to check if &quot;now&quot; is within those first 24 hours, add a Timestamp property. Here is for <a href=\"https://stackoverflow.com/questions/43584244/how-to-save-the-current-date-time-when-i-add-new-value-to-firebase-realtime-data\">Firebase Realtime Database</a> and here is for <a href=\"https://stackoverflow.com/questions/48474957/servertimestamp-is-allways-null-on-firebase-firestore/48475027\">Cloud Firestore</a>."},{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":1,"creation_date":1595860823,"post_id":63113840,"comment_id":111613275,"body_markdown":"@AlexMamo While your links may be a good approach to detect new users, it is not a duplicate. I&#39;d in cases like this recommend posting an answer explaining how you&#39;d apply the information in the links to this problem.","body":"@AlexMamo While your links may be a good approach to detect new users, it is not a duplicate. I&#39;d in cases like this recommend posting an answer explaining how you&#39;d apply the information in the links to this problem."}],"answers":[{"tags":[],"owner":{"account_id":5882013,"reputation":205,"user_id":4631078,"display_name":"Ragesh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1595847493,"creation_date":1595847493,"answer_id":63113888,"question_id":63113840,"body_markdown":"There is unique id for every Android device.\r\n\r\nPlease check this post \r\n\r\nhttps://stackoverflow.com/questions/4468248/unique-id-of-android-device","title":"Android Java: Find out if user is new to the app or if the app was previously installed","body":"<p>There is unique id for every Android device.</p>\n<p>Please check this post</p>\n<p><a href=\"https://stackoverflow.com/questions/4468248/unique-id-of-android-device\">Unique ID of Android device</a></p>\n"},{"tags":[],"owner":{"account_id":15765416,"reputation":3,"user_id":11375945,"display_name":"Jussi Tamminen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641294487,"creation_date":1641292269,"answer_id":70577349,"question_id":63113840,"body_markdown":"I&#39;m trying to implement the same feature for my own app right now, and I am going to try this approach first, where I save the timestamp of the first app opened to sharadpreferences. I&#39;m going to do it this way because I don&#39;t want to use cloud databases and device ID:s right now. The only drawback would be, information of first app opened would disappear when app is uninstalled. However, I think that would not be very big issue for me at least.\r\n\r\n    \r\n    SharedPreferences sharedPreferences = PreferenceManager.getDefaultSharedPreferences(getApplicationContext());\r\n    boolean userLoginTime = sharedPreferences.contains(getString(R.string.userLoginTime));\r\n    if (!userLoginTime){\r\n       //save the current time to SharedPreferences if the field userLoginTime is missing\r\n       SimpleDateFormat sdf = new SimpleDateFormat(&quot;dd/MM/yyyy HH:mm:ss&quot;);\r\n       Date currentTime = Calendar.getInstance().getTime();\r\n       String stringCurrentTime = dateFormat.format(currentTime);//parser need try and catch. These are only for getting the idea\r\n       sharedPreferences.edit().putString(getString(R.string.userLoginTime),stringCurrentTime).apply();\r\n\r\n    }\r\n\r\nand after this I would check within the showAd function that the user has used the app long enough. You can use the SimpleDateFormat for easier use of the date objects and calculate the time between current time and userLoginTime when you want to show the ad. \r\n\r\n    //time between two Date objects. Unit mils\r\n    Long diff = userLoginTime.getTime() - currentTime.getTime()\r\n\r\nto make this more &quot;efficient&quot; you can save adsEnabled boolean to SharedPreferences after the time you choose. Then you only need to check if adsEnabled is true.\r\n\r\nI know that this will disappear when user deletes and reinstalls the app, but I think that few user will actually do that. As you mentioned, if they like the app, they would not mind the ads (if the ads are cleverly placed). Moreover, in my opinion, this approach is much easier to implement and it almost do everything you want, so it would be worth of a try.\r\n\r\n\r\n\r\n\r\n-Jussi\r\n\r\n \r\n","title":"Android Java: Find out if user is new to the app or if the app was previously installed","body":"<p>I'm trying to implement the same feature for my own app right now, and I am going to try this approach first, where I save the timestamp of the first app opened to sharadpreferences. I'm going to do it this way because I don't want to use cloud databases and device ID:s right now. The only drawback would be, information of first app opened would disappear when app is uninstalled. However, I think that would not be very big issue for me at least.</p>\n<pre><code>SharedPreferences sharedPreferences = PreferenceManager.getDefaultSharedPreferences(getApplicationContext());\nboolean userLoginTime = sharedPreferences.contains(getString(R.string.userLoginTime));\nif (!userLoginTime){\n   //save the current time to SharedPreferences if the field userLoginTime is missing\n   SimpleDateFormat sdf = new SimpleDateFormat(&quot;dd/MM/yyyy HH:mm:ss&quot;);\n   Date currentTime = Calendar.getInstance().getTime();\n   String stringCurrentTime = dateFormat.format(currentTime);//parser need try and catch. These are only for getting the idea\n   sharedPreferences.edit().putString(getString(R.string.userLoginTime),stringCurrentTime).apply();\n\n}\n</code></pre>\n<p>and after this I would check within the showAd function that the user has used the app long enough. You can use the SimpleDateFormat for easier use of the date objects and calculate the time between current time and userLoginTime when you want to show the ad.</p>\n<pre><code>//time between two Date objects. Unit mils\nLong diff = userLoginTime.getTime() - currentTime.getTime()\n</code></pre>\n<p>to make this more &quot;efficient&quot; you can save adsEnabled boolean to SharedPreferences after the time you choose. Then you only need to check if adsEnabled is true.</p>\n<p>I know that this will disappear when user deletes and reinstalls the app, but I think that few user will actually do that. As you mentioned, if they like the app, they would not mind the ads (if the ads are cleverly placed). Moreover, in my opinion, this approach is much easier to implement and it almost do everything you want, so it would be worth of a try.</p>\n<p>-Jussi</p>\n"}],"owner":{"account_id":10662565,"reputation":89,"user_id":7850133,"display_name":"Manuel Maurer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1641294487,"creation_date":1595847320,"question_id":63113840,"body_markdown":"I&#39;d like to publish a free Android app which is monetized by ads. I do not want to show ads within the first 24 hours, because if the user doesn&#39;t like the app, why should he/she be bothered by ads. If he likes the app and keeps it, there will be ads or a pro-version.\r\n\r\nHow could I find out if &quot;now&quot; is within those first 24 hours of app usage (could start from the time the app was installed or the time the app was first opened, that doesn&#39;t matter). I don&#39;t want the user to be able to just uninstall the app, then reinstall it and suddenly there are no ads anymore.\r\n\r\nIs there some kind of a unique ID that does not change and that can be used to be looked up in a user database (Device-ID, Firebase-ID, ...)? Is there any better way to achieve this behavior?\r\n\r\nThank you!","title":"Android Java: Find out if user is new to the app or if the app was previously installed","body":"<p>I'd like to publish a free Android app which is monetized by ads. I do not want to show ads within the first 24 hours, because if the user doesn't like the app, why should he/she be bothered by ads. If he likes the app and keeps it, there will be ads or a pro-version.</p>\n<p>How could I find out if &quot;now&quot; is within those first 24 hours of app usage (could start from the time the app was installed or the time the app was first opened, that doesn't matter). I don't want the user to be able to just uninstall the app, then reinstall it and suddenly there are no ads anymore.</p>\n<p>Is there some kind of a unique ID that does not change and that can be used to be looked up in a user database (Device-ID, Firebase-ID, ...)? Is there any better way to achieve this behavior?</p>\n<p>Thank you!</p>\n"},{"tags":["java","google-cloud-dataflow","apache-beam"],"comments":[{"owner":{"account_id":15391180,"reputation":492,"user_id":11103856,"display_name":"Latra"},"score":0,"creation_date":1639585596,"post_id":70352836,"comment_id":124387882,"body_markdown":"This `String bucketPath = &quot;gs://mybucketpath/&quot;;` Is a dummy path that you changed in order to send the question to StackOverflow? Be sure that the bucket that you are indicating should exist on your project or give the required permission to your service account on the bucket project. Regarding this topic, you can find more info [here](https://cloud.google.com/dataflow/docs/concepts/security-and-permissions#service_account)","body":"This <code>String bucketPath = &quot;gs:&#47;&#47;mybucketpath&#47;&quot;;</code> Is a dummy path that you changed in order to send the question to StackOverflow? Be sure that the bucket that you are indicating should exist on your project or give the required permission to your service account on the bucket project. Regarding this topic, you can find more info <a href=\"https://cloud.google.com/dataflow/docs/concepts/security-and-permissions#service_account\" rel=\"nofollow noreferrer\">here</a>"}],"answers":[{"tags":[],"owner":{"account_id":11541592,"reputation":310,"user_id":8462928,"display_name":"Isura Nimalasiri"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1639592585,"creation_date":1639592585,"answer_id":70368568,"question_id":70352836,"body_markdown":"I faced the same issue. Then I  updated Service Account permissions, try it may work for you.\r\n\r\n```\r\nstorage.objects.create\r\nstorage.objects.delete\r\nstorage.objects.get\r\nstorage.objects.getIamPolicy\r\nstorage.objects.list\r\n\r\n```\r\n","title":"Dataflow job fails because it&#39;s unable to delete temporary file","body":"<p>I faced the same issue. Then I  updated Service Account permissions, try it may work for you.</p>\n<pre><code>storage.objects.create\nstorage.objects.delete\nstorage.objects.get\nstorage.objects.getIamPolicy\nstorage.objects.list\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15391180,"reputation":492,"user_id":11103856,"display_name":"Latra"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1641294356,"creation_date":1641294356,"answer_id":70577794,"question_id":70352836,"body_markdown":"It seems to be a bucket object permission error. Check the [Service Account][1] and verify that you are using the right permissions.\r\n\r\nIf your bucket is on the same project as your Dataflow Job, you will need to grant the following [permissions][2] to your service account:\r\n```\r\nstorage.objects.create\r\nstorage.objects.delete\r\nstorage.objects.get\r\nstorage.objects.getIamPolicy\r\nstorage.objects.list\r\n```\r\n\r\nOtherwise you will need to grant the object access permissions to your service account on the bucket project. This process is detailed [here][3].\r\n\r\nIn order to grant the permissions, you can define the permissions as a role and assign the role to the service account:\r\n```\r\ngcloud iam roles create objectEditor \\\r\n    --project={PROJECT_ID} \\\r\n    --permissions=storage.objects.create,storage.objects.delete,storage.objects.get,storage.objects.getIamPolicy,storage.objects.list\r\n```\r\n```\r\ngcloud projects add-iam-policy-binding {PROJECT_ID} \\\r\n    --member=serviceAccount:{SERVICE_ACC_EMAIL} \\\r\n    --role=objectEditor\r\n```\r\n[1]: https://cloud.google.com/iam/docs/understanding-service-accounts\r\n[2]:https://cloud.google.com/storage/docs/access-control/iam-permissions#object_permissions\r\n[3]: https://cloud.google.com/dataflow/docs/concepts/security-and-permissions#accessing_buckets_across_projects\r\n\r\n","title":"Dataflow job fails because it&#39;s unable to delete temporary file","body":"<p>It seems to be a bucket object permission error. Check the <a href=\"https://cloud.google.com/iam/docs/understanding-service-accounts\" rel=\"nofollow noreferrer\">Service Account</a> and verify that you are using the right permissions.</p>\n<p>If your bucket is on the same project as your Dataflow Job, you will need to grant the following <a href=\"https://cloud.google.com/storage/docs/access-control/iam-permissions#object_permissions\" rel=\"nofollow noreferrer\">permissions</a> to your service account:</p>\n<pre><code>storage.objects.create\nstorage.objects.delete\nstorage.objects.get\nstorage.objects.getIamPolicy\nstorage.objects.list\n</code></pre>\n<p>Otherwise you will need to grant the object access permissions to your service account on the bucket project. This process is detailed <a href=\"https://cloud.google.com/dataflow/docs/concepts/security-and-permissions#accessing_buckets_across_projects\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>In order to grant the permissions, you can define the permissions as a role and assign the role to the service account:</p>\n<pre><code>gcloud iam roles create objectEditor \\\n    --project={PROJECT_ID} \\\n    --permissions=storage.objects.create,storage.objects.delete,storage.objects.get,storage.objects.getIamPolicy,storage.objects.list\n</code></pre>\n<pre><code>gcloud projects add-iam-policy-binding {PROJECT_ID} \\\n    --member=serviceAccount:{SERVICE_ACC_EMAIL} \\\n    --role=objectEditor\n</code></pre>\n"}],"owner":{"account_id":19099222,"reputation":327,"user_id":13947848,"display_name":"Laura"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1201,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1641294356,"creation_date":1639501618,"question_id":70352836,"body_markdown":"DirectRunner gets the job done without issue, but Dataflow consistently fails because it is unable to delete, and then unable to rename temporary files.\r\n\r\nThis is the exact same code, exact same bucket, I only changed the runners: \r\n\r\n    public static DataflowPipelineOptions setOptions() {\r\n      List&lt;String&gt; experiments = new ArrayList&lt;String&gt;(); // experiments must be a MUTABLE list\r\n      experiments.add(&quot;use_runner_v2&quot;);\r\n\r\n      DataflowPipelineOptions options = PipelineOptionsFactory.as(DataflowPipelineOptions.class);\r\n\r\n      options.setRunner(DataflowRunner.class);\r\n      options.setProject(&quot;{PROJECT ID}&quot;);\r\n      options.setJobName(&quot;takt-dataflow-test&quot;);\r\n      options.setTempLocation(bucketPath + &quot;temp/&quot;);\r\n      options.setStagingLocation(bucketpath + &quot;staging/&quot;);\r\n      options.setRegion(region);\r\n      options.setServiceAccount(serviceAccountEmail);\r\n      options.setExperiments(experiments);\r\n      options.setSubnetwork(subNetwork);\r\n\r\n      return options;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n\r\n      String bucketPath = &quot;gs://mybucketpath/&quot;;\r\n      DataflowPipelineOptions options = setOptions();\r\n      Pipeline p = Pipeline.create(options);\r\n      String inputPath = bucketPath + &quot;input/test.csv&quot;;\r\n      String outputPath = bucketPath + &quot;output/&quot;;\r\n      PCollection&lt;String&gt; lines = p.apply(&quot;ReadMyFile&quot;, TextIO.read().from(inputPath));\r\n      lines.apply(&quot;WriteMyFile&quot;, TextIO.write().to(outputPath + &quot;test.txt&quot;));\r\n\r\n      p.run().waitUntilFinish();\r\n    }\r\n    \r\nThe undeclared variables here are me anonymizing things that are actually strings. I just write bucketpath straight out in setOptions, which is why I don&#39;t bother to pass it.\r\n\r\nThe difference between DirectRunner and DataflowRunner is I comment out the setRunner line. DirectRunner works perfect, Dataflow fails because it can&#39;t delete temp files from the bucket.\r\n\r\nThanks!\r\n\r\n  ","title":"Dataflow job fails because it&#39;s unable to delete temporary file","body":"<p>DirectRunner gets the job done without issue, but Dataflow consistently fails because it is unable to delete, and then unable to rename temporary files.</p>\n<p>This is the exact same code, exact same bucket, I only changed the runners:</p>\n<pre><code>public static DataflowPipelineOptions setOptions() {\n  List&lt;String&gt; experiments = new ArrayList&lt;String&gt;(); // experiments must be a MUTABLE list\n  experiments.add(&quot;use_runner_v2&quot;);\n\n  DataflowPipelineOptions options = PipelineOptionsFactory.as(DataflowPipelineOptions.class);\n\n  options.setRunner(DataflowRunner.class);\n  options.setProject(&quot;{PROJECT ID}&quot;);\n  options.setJobName(&quot;takt-dataflow-test&quot;);\n  options.setTempLocation(bucketPath + &quot;temp/&quot;);\n  options.setStagingLocation(bucketpath + &quot;staging/&quot;);\n  options.setRegion(region);\n  options.setServiceAccount(serviceAccountEmail);\n  options.setExperiments(experiments);\n  options.setSubnetwork(subNetwork);\n\n  return options;\n}\n\npublic static void main(String[] args) {\n\n  String bucketPath = &quot;gs://mybucketpath/&quot;;\n  DataflowPipelineOptions options = setOptions();\n  Pipeline p = Pipeline.create(options);\n  String inputPath = bucketPath + &quot;input/test.csv&quot;;\n  String outputPath = bucketPath + &quot;output/&quot;;\n  PCollection&lt;String&gt; lines = p.apply(&quot;ReadMyFile&quot;, TextIO.read().from(inputPath));\n  lines.apply(&quot;WriteMyFile&quot;, TextIO.write().to(outputPath + &quot;test.txt&quot;));\n\n  p.run().waitUntilFinish();\n}\n</code></pre>\n<p>The undeclared variables here are me anonymizing things that are actually strings. I just write bucketpath straight out in setOptions, which is why I don't bother to pass it.</p>\n<p>The difference between DirectRunner and DataflowRunner is I comment out the setRunner line. DirectRunner works perfect, Dataflow fails because it can't delete temp files from the bucket.</p>\n<p>Thanks!</p>\n"},{"tags":["java","multithreading","concurrency","project-loom"],"comments":[{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":1,"creation_date":1641294139,"post_id":70577333,"comment_id":124762267,"body_markdown":"Too many questions at once.","body":"Too many questions at once."},{"owner":{"account_id":17033694,"reputation":4572,"user_id":12323248,"display_name":"akuzminykh"},"score":0,"creation_date":1641302244,"post_id":70577333,"comment_id":124765350,"body_markdown":"You can have more than n kernel threads with a n-core processor.","body":"You can have more than n kernel threads with a n-core processor."},{"owner":{"account_id":10326,"reputation":9293,"user_id":19450,"display_name":"Ben Manes"},"score":0,"creation_date":1641319183,"post_id":70577333,"comment_id":124772849,"body_markdown":"When the VT blocks it registers itself with the blocking subsystem (e.g. async I/O), unwinds the stack, and returns back to the carrier thread pool. When resuming the subsystem submits the VT to the thread pool with the results, which restores the stack when executing. The carrier thread pool is a regular ForkJoinPool. A native call cannot be descheduled so it pins the carrier thread, but this is only concerning for long-running calls like custom JNI.","body":"When the VT blocks it registers itself with the blocking subsystem (e.g. async I/O), unwinds the stack, and returns back to the carrier thread pool. When resuming the subsystem submits the VT to the thread pool with the results, which restores the stack when executing. The carrier thread pool is a regular ForkJoinPool. A native call cannot be descheduled so it pins the carrier thread, but this is only concerning for long-running calls like custom JNI."}],"answers":[{"tags":[],"owner":{"account_id":374094,"reputation":6654,"user_id":724109,"accept_rate":100,"display_name":"Avishek Bhattacharya"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641294342,"creation_date":1641294342,"answer_id":70577788,"question_id":70577333,"body_markdown":"1. Mapping of virtual threads and kernel threads is done by the thread model. There are 3 kinds of thread models available\r\n\r\n   1. many to one\r\n\r\n[![enter image description here][1]][1]\r\n\r\n   2. one to one \r\n\r\n[![enter image description here][2]][2]\r\n\r\n   3. Many to Many\r\n\r\n[![enter image description here][3]][3]\r\n\r\nEssentially, the thread library keeps a mapping between the user threads/ virtual threads to kernel threads. \r\n\r\n\r\n2. The blocking of user thread is easy because all the kernel threads need to do is save the state of the user thread inside the kernel thread or process itself, and pick up the other user thread. On the other hand, if the kernel thread needs to be context switched a large set of registers require to evicted and stored in memory. This process is expensive.  \r\n\r\nAdditionally, creating a kernel thread requires creating a complete thread control block so that kernel can manage those threads. This process is again slow. \r\n\r\n3. You always work at the user thread level. So any call you make needs to be on the user thread itself. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/jOhuD.png\r\n  [2]: https://i.stack.imgur.com/lQ4dr.png\r\n  [3]: https://i.stack.imgur.com/7PAg5.png","title":"How Virtual Threads are mapped to Actual thread","body":"<ol>\n<li><p>Mapping of virtual threads and kernel threads is done by the thread model. There are 3 kinds of thread models available</p>\n<ol>\n<li>many to one</li>\n</ol>\n</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/jOhuD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jOhuD.png\" alt=\"enter image description here\" /></a></p>\n<ol start=\"2\">\n<li>one to one</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/lQ4dr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lQ4dr.png\" alt=\"enter image description here\" /></a></p>\n<ol start=\"3\">\n<li>Many to Many</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/7PAg5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7PAg5.png\" alt=\"enter image description here\" /></a></p>\n<p>Essentially, the thread library keeps a mapping between the user threads/ virtual threads to kernel threads.</p>\n<ol start=\"2\">\n<li>The blocking of user thread is easy because all the kernel threads need to do is save the state of the user thread inside the kernel thread or process itself, and pick up the other user thread. On the other hand, if the kernel thread needs to be context switched a large set of registers require to evicted and stored in memory. This process is expensive.</li>\n</ol>\n<p>Additionally, creating a kernel thread requires creating a complete thread control block so that kernel can manage those threads. This process is again slow.</p>\n<ol start=\"3\">\n<li>You always work at the user thread level. So any call you make needs to be on the user thread itself.</li>\n</ol>\n"}],"owner":{"account_id":2521751,"reputation":1991,"user_id":2191979,"accept_rate":37,"display_name":"Pakira"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":534,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"closed_date":1641783732,"answer_count":1,"score":1,"last_activity_date":1641294342,"creation_date":1641292234,"question_id":70577333,"body_markdown":"As written, virtual threads are eventually mapped to actual threads. \r\nLet&#39;s say there are 1 million virtual threads that are created. In a 8 core processor, I assume there will be 8 kernel threads.\r\nSo, my questions are \r\n1. how 1 million virtual threads are mapped to 8 kernel threads? What is the algorithm behind this?\r\n2. Why blocking is cheap in the virtual threads? As I understood this is because it does not block Carrier (Kernel) thread. But\r\n kernel thread uses context switch, so why it is still cheap?\r\n3. Is the virtual thread a good fit for use cases where code needs to call native method ( public native String getSystemTime();)","title":"How Virtual Threads are mapped to Actual thread","body":"<p>As written, virtual threads are eventually mapped to actual threads.\nLet's say there are 1 million virtual threads that are created. In a 8 core processor, I assume there will be 8 kernel threads.\nSo, my questions are</p>\n<ol>\n<li>how 1 million virtual threads are mapped to 8 kernel threads? What is the algorithm behind this?</li>\n<li>Why blocking is cheap in the virtual threads? As I understood this is because it does not block Carrier (Kernel) thread. But\nkernel thread uses context switch, so why it is still cheap?</li>\n<li>Is the virtual thread a good fit for use cases where code needs to call native method ( public native String getSystemTime();)</li>\n</ol>\n"},{"tags":["java","mapstruct"],"answers":[{"tags":[],"owner":{"account_id":23191137,"reputation":1266,"user_id":17287498,"display_name":"Ben Zegveld"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641294063,"creation_date":1641294063,"answer_id":70577718,"question_id":70497855,"body_markdown":"# Cause\r\n\r\nMapStruct can not know whether you want to convert all Foo.bar objects into separate objects or just map an explicit one.\r\n\r\nFor example:\r\n```\r\nList&lt;Foobar&gt; convert(Foo[] foos);\r\n```\r\nWill attempt to use a mapping method `Foobar convert(Foo foo)` and not `Foobar convert(Foo foo, Foo.Bar bar)`.\r\n\r\nFor collections you can expect that the input size equals the output size with mapstruct. So 5 Foo objects should result into 5 FooBar objects, if you want it to increase you will have to write some manual code for this, see below.\r\n\r\n# Solution\r\n\r\nWhat mapstruct does support is setting up the mapping at the detailed level, and then you need to manually call it.\r\n\r\nFor example:\r\n\r\n```\r\n@Mapping(target = &quot;a&quot;, source = &quot;foo.a&quot;)\r\n@Mapping(target = &quot;b&quot;, source = &quot;bar.b&quot;)\r\nFoobar convert( Foo foo, Foo.Bar bar );\r\n\r\ndefault List&lt;Foobar&gt; convert( Foo[] foos ) {\r\n  List&lt;Foobar&gt; result = new ArrayList&lt;&gt;();\r\n  for ( Foo foo : foos ) {\r\n    for ( Foo.Bar bar : foo.bar ) {\r\n      result.add( convert( foo, bar ) );\r\n    }\r\n  }\r\n  return result;\r\n}\r\n```\r\n\r\nusing the more complex example:\r\n```\r\n@Mapping(target = &quot;id&quot;, source = &quot;a.id&quot;)\r\n@Mapping(target = &quot;date&quot;, source = &quot;b.d&quot;)\r\n@Mapping(target = &quot;number&quot;, source = &quot;c.i&quot;)\r\n@Mapping(target = &quot;text&quot;, source = &quot;d.s&quot;)\r\nResult convert( A a, B b, C c, D d );\r\n\r\ndefault List&lt;Result&gt; convert( A[] as ) {\r\n  List&lt;Result&gt; result = new ArrayList&lt;&gt;();\r\n  for ( A a : as ) {\r\n    for ( A.B b : a.b ) {\r\n      for ( A.C c : b.c ) {\r\n        for ( A.D d : c.d ) {\r\n          result.add( convert( a, b, c, d ) );\r\n        }\r\n      }\r\n    }\r\n  }\r\n  return result;\r\n}\r\n```\r\n","title":"How to convert tree structure into list using MapStruct (in easy way)?","body":"<h1>Cause</h1>\n<p>MapStruct can not know whether you want to convert all Foo.bar objects into separate objects or just map an explicit one.</p>\n<p>For example:</p>\n<pre><code>List&lt;Foobar&gt; convert(Foo[] foos);\n</code></pre>\n<p>Will attempt to use a mapping method <code>Foobar convert(Foo foo)</code> and not <code>Foobar convert(Foo foo, Foo.Bar bar)</code>.</p>\n<p>For collections you can expect that the input size equals the output size with mapstruct. So 5 Foo objects should result into 5 FooBar objects, if you want it to increase you will have to write some manual code for this, see below.</p>\n<h1>Solution</h1>\n<p>What mapstruct does support is setting up the mapping at the detailed level, and then you need to manually call it.</p>\n<p>For example:</p>\n<pre><code>@Mapping(target = &quot;a&quot;, source = &quot;foo.a&quot;)\n@Mapping(target = &quot;b&quot;, source = &quot;bar.b&quot;)\nFoobar convert( Foo foo, Foo.Bar bar );\n\ndefault List&lt;Foobar&gt; convert( Foo[] foos ) {\n  List&lt;Foobar&gt; result = new ArrayList&lt;&gt;();\n  for ( Foo foo : foos ) {\n    for ( Foo.Bar bar : foo.bar ) {\n      result.add( convert( foo, bar ) );\n    }\n  }\n  return result;\n}\n</code></pre>\n<p>using the more complex example:</p>\n<pre><code>@Mapping(target = &quot;id&quot;, source = &quot;a.id&quot;)\n@Mapping(target = &quot;date&quot;, source = &quot;b.d&quot;)\n@Mapping(target = &quot;number&quot;, source = &quot;c.i&quot;)\n@Mapping(target = &quot;text&quot;, source = &quot;d.s&quot;)\nResult convert( A a, B b, C c, D d );\n\ndefault List&lt;Result&gt; convert( A[] as ) {\n  List&lt;Result&gt; result = new ArrayList&lt;&gt;();\n  for ( A a : as ) {\n    for ( A.B b : a.b ) {\n      for ( A.C c : b.c ) {\n        for ( A.D d : c.d ) {\n          result.add( convert( a, b, c, d ) );\n        }\n      }\n    }\n  }\n  return result;\n}\n</code></pre>\n"}],"owner":{"account_id":517968,"reputation":619,"user_id":2881548,"accept_rate":0,"display_name":"THM"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":378,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1641294063,"creation_date":1640621576,"question_id":70497855,"body_markdown":"How to convert tree structure into list using MapStruct (in easy way)?\r\n\r\nGiven class `Foo`\r\n\r\n\r\n    import lombok.Getter;\r\n    import lombok.Setter;\r\n    \r\n    @Getter\r\n    @Setter\r\n    public class Foo {\r\n    \r\n        String a;\r\n    \r\n        Bar[] bar;\r\n    \r\n        @Getter\r\n        @Setter\r\n        public static class Bar {\r\n            String b;\r\n        }\r\n    \r\n    }\r\n\r\nand class `Foobar`\r\n\r\n    @Getter\r\n    @Setter\r\n    public class Foobar {\r\n        String a;\r\n        String b;\r\n    }\r\n\r\n\r\nLet&#39;s define conversion:\r\n\r\n    @Mapping(target = &quot;a&quot;, source = &quot;foo.a&quot;)\r\n    @Mapping(target = &quot;b&quot;, source = &quot;bar.b&quot;)\r\n    Foobar convert(Foo foo, Foo.Bar bar);\r\n\r\n\r\n## QUESTION: ##\r\n**How to define conversion from Foo[] into List\\&lt;Foobar\\&gt;**\r\n\r\n\r\n    List&lt;Foobar&gt; convert(Foo[] foos); // &lt;-- this is not working\r\n\r\nI got:\r\n\r\n&gt; java: Unmapped target property: &quot;b&quot;. Mapping from Collection element\r\n&gt; &quot;Foo foo&quot; to &quot;Foobar foobar&quot;.\r\n\r\n// edited\r\n\r\nI reality my case is more complicated and it is something like:\r\n\r\n    class A {\r\n      long id;\r\n      B[] b;\r\n    \r\n      class B {\r\n         LocalDate d;\r\n         C[] c;\r\n      }\r\n    \r\n      class C {\r\n        int i;\r\n        D[] d;\r\n      }\r\n\r\n      class D {\r\n        String s;\r\n      }\r\n    }","title":"How to convert tree structure into list using MapStruct (in easy way)?","body":"<p>How to convert tree structure into list using MapStruct (in easy way)?</p>\n<p>Given class <code>Foo</code></p>\n<pre><code>import lombok.Getter;\nimport lombok.Setter;\n\n@Getter\n@Setter\npublic class Foo {\n\n    String a;\n\n    Bar[] bar;\n\n    @Getter\n    @Setter\n    public static class Bar {\n        String b;\n    }\n\n}\n</code></pre>\n<p>and class <code>Foobar</code></p>\n<pre><code>@Getter\n@Setter\npublic class Foobar {\n    String a;\n    String b;\n}\n</code></pre>\n<p>Let's define conversion:</p>\n<pre><code>@Mapping(target = &quot;a&quot;, source = &quot;foo.a&quot;)\n@Mapping(target = &quot;b&quot;, source = &quot;bar.b&quot;)\nFoobar convert(Foo foo, Foo.Bar bar);\n</code></pre>\n<h2>QUESTION:</h2>\n<p><strong>How to define conversion from Foo[] into List&lt;Foobar&gt;</strong></p>\n<pre><code>List&lt;Foobar&gt; convert(Foo[] foos); // &lt;-- this is not working\n</code></pre>\n<p>I got:</p>\n<blockquote>\n<p>java: Unmapped target property: &quot;b&quot;. Mapping from Collection element\n&quot;Foo foo&quot; to &quot;Foobar foobar&quot;.</p>\n</blockquote>\n<p>// edited</p>\n<p>I reality my case is more complicated and it is something like:</p>\n<pre><code>class A {\n  long id;\n  B[] b;\n\n  class B {\n     LocalDate d;\n     C[] c;\n  }\n\n  class C {\n    int i;\n    D[] d;\n  }\n\n  class D {\n    String s;\n  }\n}\n</code></pre>\n"},{"tags":["java","turtle-rdf","rdf4j"],"comments":[{"owner":{"account_id":379763,"reputation":29886,"user_id":733345,"display_name":"Joe"},"score":0,"creation_date":1641295867,"post_id":70463007,"comment_id":124762848,"body_markdown":"As [per the spec](https://www.w3.org/TR/turtle/#abbrev), this is simply an abbreviated syntax, and parsing will include the datatype. Why do you want to avoid this syntax?","body":"As <a href=\"https://www.w3.org/TR/turtle/#abbrev\" rel=\"nofollow noreferrer\">per the spec</a>, this is simply an abbreviated syntax, and parsing will include the datatype. Why do you want to avoid this syntax?"},{"owner":{"account_id":251839,"reputation":389,"user_id":529488,"accept_rate":85,"display_name":"Alessio Palmero Aprosio"},"score":1,"creation_date":1641308861,"post_id":70463007,"comment_id":124768491,"body_markdown":"The problem arises because I need to load that dataset on a Python tool (that probably does not use a standard library) and it gives me an error if I inject a TTL with the extended syntax.","body":"The problem arises because I need to load that dataset on a Python tool (that probably does not use a standard library) and it gives me an error if I inject a TTL with the extended syntax."}],"answers":[{"tags":[],"owner":{"account_id":251839,"reputation":389,"user_id":529488,"accept_rate":85,"display_name":"Alessio Palmero Aprosio"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1640269666,"creation_date":1640269666,"answer_id":70463453,"question_id":70463007,"body_markdown":"There is a configuration setting called `ABBREVIATE_NUMBERS` that works like a charm (and it needs to be used only when `PRETTY_PRINT` is true, which is the default value).\r\n\r\n```\r\nfinal WriterConfig config = writer.getWriterConfig();\r\nconfig.set(BasicWriterSettings.PRETTY_PRINT, true);\r\nconfig.set(BasicWriterSettings.XSD_STRING_TO_PLAIN_LITERAL, false);\r\nconfig.set(TurtleWriterSettings.ABBREVIATE_NUMBERS, false);\r\n```\r\n\r\n","title":"How to configure RDFWriter to explicit write data type in literals?","body":"<p>There is a configuration setting called <code>ABBREVIATE_NUMBERS</code> that works like a charm (and it needs to be used only when <code>PRETTY_PRINT</code> is true, which is the default value).</p>\n<pre><code>final WriterConfig config = writer.getWriterConfig();\nconfig.set(BasicWriterSettings.PRETTY_PRINT, true);\nconfig.set(BasicWriterSettings.XSD_STRING_TO_PLAIN_LITERAL, false);\nconfig.set(TurtleWriterSettings.ABBREVIATE_NUMBERS, false);\n</code></pre>\n"}],"owner":{"account_id":251839,"reputation":389,"user_id":529488,"accept_rate":85,"display_name":"Alessio Palmero Aprosio"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70463453,"answer_count":1,"score":2,"last_activity_date":1641293897,"creation_date":1640267205,"question_id":70463007,"body_markdown":"I&#39;m saving a TTL file using `RDFWriter`.\r\nHow can I explicitly save literals with their data type?\r\n\r\nFor example, I want `&quot;5.36289&quot;^^xsd:float` but I get `5.36289E0` instead.\r\n\r\nI had the same problem with strings, but I found the `BasicWriterSettings.XSD_STRING_TO_PLAIN_LITERAL` property that solved. I cannot find any similar configuration for other data types.\r\n\r\nI am creating the literals using the method `Values.literal`.\r\n\r\nThis is the source code:\r\n```\r\nFileOutputStream out = new FileOutputStream(ttlOutputFile);\r\nRDFWriter writer = Rio.createWriter(RDFFormat.TURTLE, out);\r\n\r\nfinal WriterConfig config = writer.getWriterConfig();\r\nconfig.set(BasicWriterSettings.XSD_STRING_TO_PLAIN_LITERAL, false);\r\n\r\nwriter.startRDF();\r\n\r\nfor (Statement st : model) {\r\n    writer.handleStatement(st);\r\n}\r\nwriter.endRDF();\r\n```\r\n","title":"How to configure RDFWriter to explicit write data type in literals?","body":"<p>I'm saving a TTL file using <code>RDFWriter</code>.\nHow can I explicitly save literals with their data type?</p>\n<p>For example, I want <code>&quot;5.36289&quot;^^xsd:float</code> but I get <code>5.36289E0</code> instead.</p>\n<p>I had the same problem with strings, but I found the <code>BasicWriterSettings.XSD_STRING_TO_PLAIN_LITERAL</code> property that solved. I cannot find any similar configuration for other data types.</p>\n<p>I am creating the literals using the method <code>Values.literal</code>.</p>\n<p>This is the source code:</p>\n<pre><code>FileOutputStream out = new FileOutputStream(ttlOutputFile);\nRDFWriter writer = Rio.createWriter(RDFFormat.TURTLE, out);\n\nfinal WriterConfig config = writer.getWriterConfig();\nconfig.set(BasicWriterSettings.XSD_STRING_TO_PLAIN_LITERAL, false);\n\nwriter.startRDF();\n\nfor (Statement st : model) {\n    writer.handleStatement(st);\n}\nwriter.endRDF();\n</code></pre>\n"},{"tags":["java","annotation-processing"],"comments":[{"owner":{"account_id":3208812,"reputation":340,"user_id":2709248,"accept_rate":50,"display_name":"Michal Fudala"},"score":0,"creation_date":1490737512,"post_id":43079927,"comment_id":73244148,"body_markdown":"Share some code","body":"Share some code"}],"answers":[{"tags":[],"owner":{"account_id":4054328,"reputation":957,"user_id":3332838,"accept_rate":46,"display_name":"miskohut"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1620481835,"creation_date":1490737696,"answer_id":43080551,"question_id":43079927,"body_markdown":"I just found out that in order to run the `process` method. At least one element must be annotated with an annotation that was set in `getSupportedAnnotationTypes`.","title":"Java - Annotation processor - method process not called","body":"<p>I just found out that in order to run the <code>process</code> method. At least one element must be annotated with an annotation that was set in <code>getSupportedAnnotationTypes</code>.</p>\n"}],"owner":{"account_id":4054328,"reputation":957,"user_id":3332838,"accept_rate":46,"display_name":"miskohut"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2438,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":43080551,"answer_count":1,"score":3,"last_activity_date":1641293838,"creation_date":1490735103,"question_id":43079927,"body_markdown":"I am trying to implement `AnnotationProcessor`. I am following [this tutorial][1].\r\n\r\nI am able to debug the annotation processor, and the debugger goes to methods: `init`, `getSupportedAnnotationTypes`, `getSupportedOptions` ,`getSupportedSourceVersion` but it does not go to `process` method.\r\n\r\nI was unable to find something useful on the internet. Could you please tell me why is this happening and how to fix it?\r\n\r\nThank you.\r\n\r\n\r\n  [1]: http://hannesdorfmann.com/annotation-processing/annotationprocessing101","title":"Java - Annotation processor - method process not called","body":"<p>I am trying to implement <code>AnnotationProcessor</code>. I am following <a href=\"http://hannesdorfmann.com/annotation-processing/annotationprocessing101\" rel=\"nofollow noreferrer\">this tutorial</a>.</p>\n\n<p>I am able to debug the annotation processor, and the debugger goes to methods: <code>init</code>, <code>getSupportedAnnotationTypes</code>, <code>getSupportedOptions</code> ,<code>getSupportedSourceVersion</code> but it does not go to <code>process</code> method.</p>\n\n<p>I was unable to find something useful on the internet. Could you please tell me why is this happening and how to fix it?</p>\n\n<p>Thank you.</p>\n"},{"tags":["java","gatling"],"answers":[{"tags":[],"owner":{"account_id":23823432,"reputation":1,"user_id":17830825,"display_name":"pangda"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641293348,"creation_date":1641292305,"answer_id":70577364,"question_id":68439296,"body_markdown":"    session(&quot;scrollId&quot;).asOption[String].isDefined","title":"Check if a value from session is null in gatling","body":"<pre><code>session(&quot;scrollId&quot;).asOption[String].isDefined\n</code></pre>\n"}],"owner":{"account_id":7444003,"reputation":175,"user_id":5660845,"display_name":"isanma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":696,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1641293348,"creation_date":1626692042,"question_id":68439296,"body_markdown":"how can I check whether a value is present in the response and save it in that case? Also, I am trying to check if an optional value from session is null in gatling before doing the get, but I am getting a problem when doing the doIf, this is my code:\r\n\r\n        builder\r\n      .doWhile(&quot;${scrollId.exists()}&quot;) {\r\n        exec(http(s&quot;$title&quot;)\r\n          .post(endpoint)\r\n          .headers(headers)\r\n          .body(ElFileBody(requestBodyFilePath))\r\n          .check(jsonPath(&quot;$.scrollId&quot;).saveAs(&quot;scrollId&quot;)) //how can I check if exists before saving it?\r\n          .check(status.is(200)))\r\n          .pause(1)\r\n          //save value from response\r\n          .exec(session =&gt; {\r\n            //.doIf(session(&quot;scrollId&quot;).asOption[String].isEmpty) here is the problem\r\n          val scrollId = session(&quot;scrollId&quot;).asOption[String].get\r\n          session.set(&quot;scrollId&quot;, scrollId)\r\n        })\r\n      }\r\n    }","title":"Check if a value from session is null in gatling","body":"<p>how can I check whether a value is present in the response and save it in that case? Also, I am trying to check if an optional value from session is null in gatling before doing the get, but I am getting a problem when doing the doIf, this is my code:</p>\n<pre><code>    builder\n  .doWhile(&quot;${scrollId.exists()}&quot;) {\n    exec(http(s&quot;$title&quot;)\n      .post(endpoint)\n      .headers(headers)\n      .body(ElFileBody(requestBodyFilePath))\n      .check(jsonPath(&quot;$.scrollId&quot;).saveAs(&quot;scrollId&quot;)) //how can I check if exists before saving it?\n      .check(status.is(200)))\n      .pause(1)\n      //save value from response\n      .exec(session =&gt; {\n        //.doIf(session(&quot;scrollId&quot;).asOption[String].isEmpty) here is the problem\n      val scrollId = session(&quot;scrollId&quot;).asOption[String].get\n      session.set(&quot;scrollId&quot;, scrollId)\n    })\n  }\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":183966,"reputation":14606,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"score":5,"creation_date":1641141146,"post_id":70557718,"comment_id":124726487,"body_markdown":"The variables are final so you must set them in the constructor. If you want them to be optional, remove the `final` keyword and check for null values. (Also prefixing with `_` isn&#39;t done in Java.)","body":"The variables are final so you must set them in the constructor. If you want them to be optional, remove the <code>final</code> keyword and check for null values. (Also prefixing with <code>_</code> isn&#39;t done in Java.)"},{"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"score":2,"creation_date":1641141198,"post_id":70557718,"comment_id":124726504,"body_markdown":"If I call `Tts(someContext)`, what is the value of `_mediaPlayer`? You haven&#39;t given it a value in that constructor.","body":"If I call <code>Tts(someContext)</code>, what is the value of <code>_mediaPlayer</code>? You haven&#39;t given it a value in that constructor."},{"owner":{"account_id":17113839,"reputation":641,"user_id":12383916,"display_name":"xRay"},"score":0,"creation_date":1641141635,"post_id":70557718,"comment_id":124726603,"body_markdown":"@RoddyoftheFrozenPeas yes, removing `final` worked for me. Thank you!","body":"@RoddyoftheFrozenPeas yes, removing <code>final</code> worked for me. Thank you!"},{"owner":{"account_id":17113839,"reputation":641,"user_id":12383916,"display_name":"xRay"},"score":0,"creation_date":1641141679,"post_id":70557718,"comment_id":124726619,"body_markdown":"I will define the other properties in another method. That&#39;s why they are not defined in the constructor.","body":"I will define the other properties in another method. That&#39;s why they are not defined in the constructor."}],"answers":[{"tags":[],"owner":{"account_id":9066455,"reputation":726,"user_id":6751083,"display_name":"Mohammad Reza Khahani"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1641152745,"creation_date":1641152745,"answer_id":70559203,"question_id":70557718,"body_markdown":"If you want to solve the error problem, you can fix it with the code below; however, when the constructor initializes final fields, you can&#39;t change them, so probably it&#39;s better to remove the final keyword.\r\n\r\n    public class Tts {\r\n        public Context context;\r\n        private final MediaPlayer _mediaPlayer; \r\n        private final CopyBarVisualizer _barTop; \r\n        private final CopyBarVisualizer _barBottom; \r\n    \r\n        public Tts(Context context) {\r\n            this(context, null, null, null); // to solve the error problem\r\n        }\r\n    \r\n        public Tts(Context context, MediaPlayer _mediaPlayer, BarVisualizer _barTop, BarVisualizer _barBottom) {\r\n            this.context = context;\r\n            this._mediaPlayer = _mediaPlayer;\r\n            this._barTop = (CopyBarVisualizer) _barTop;\r\n            this._barBottom = (CopyBarVisualizer) _barBottom;\r\n        }\r\n    }","title":"Optional parameters: Multiple constructors cause errors","body":"<p>If you want to solve the error problem, you can fix it with the code below; however, when the constructor initializes final fields, you can't change them, so probably it's better to remove the final keyword.</p>\n<pre><code>public class Tts {\n    public Context context;\n    private final MediaPlayer _mediaPlayer; \n    private final CopyBarVisualizer _barTop; \n    private final CopyBarVisualizer _barBottom; \n\n    public Tts(Context context) {\n        this(context, null, null, null); // to solve the error problem\n    }\n\n    public Tts(Context context, MediaPlayer _mediaPlayer, BarVisualizer _barTop, BarVisualizer _barBottom) {\n        this.context = context;\n        this._mediaPlayer = _mediaPlayer;\n        this._barTop = (CopyBarVisualizer) _barTop;\n        this._barBottom = (CopyBarVisualizer) _barBottom;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20683611,"reputation":1177,"user_id":15186569,"display_name":"ThrowsError"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641293013,"creation_date":1641159893,"answer_id":70559997,"question_id":70557718,"body_markdown":"## To resolve the error, you can:\r\n\r\n### Delete *final* keyword in attributes\r\n\r\n```java\r\npublic class Tts {\r\n    public Context context;\r\n    private MediaPlayer _mediaPlayer;\r\n    private CopyBarVisualizer _barTop;\r\n    private CopyBarVisualizer _barBottom;\r\n\r\n    public Tts(Context context) {\r\n        this.context = context;\r\n    }\r\n\r\n    public Tts(Context context, MediaPlayer _mediaPlayer, BarVisualizer _barTop, BarVisualizer _barBottom) {\r\n        this.context = context;\r\n        this._mediaPlayer = _mediaPlayer;\r\n        this._barTop = (CopyBarVisualizer) _barTop;\r\n        this._barBottom = (CopyBarVisualizer) _barBottom;\r\n    }\r\n}\r\n```\r\n### Give *null* value to your *final* attributes\r\n```java\r\npublic class Tts {\r\n    public Context context;\r\n    private final MediaPlayer _mediaPlayer; \r\n    private final CopyBarVisualizer _barTop; \r\n    private final CopyBarVisualizer _barBottom; \r\n\r\n    public Tts(Context context) {\r\n        this(context, null, null, null); // to solve the error problem\r\n    }\r\n\r\n    public Tts(Context context, MediaPlayer _mediaPlayer, BarVisualizer _barTop, BarVisualizer _barBottom) {\r\n        this.context = context;\r\n        this._mediaPlayer = _mediaPlayer;\r\n        this._barTop = (CopyBarVisualizer) _barTop;\r\n        this._barBottom = (CopyBarVisualizer) _barBottom;\r\n    }\r\n}\r\n```\r\n*[This code is from @Khahani][1]*\r\n____\r\n\r\n## For optional attributes in your class you can use *Builder pattern* :\r\n\r\n\r\n```java\r\npublic class TtsBuilder{\r\n    public Context context;\r\n    private MediaPlayer _mediaPlayer = null;\r\n    private BarVisualizer _barTop = null;\r\n    private BarVisualizer _barBottom = null;\r\n\r\n    public TtsBuilder(Context context) {\r\n        this.context = context;\r\n    }\r\n\r\n    public TtsBuilder withMediaPlayer(MediaPlayer _mediaPlayer) {\r\n        this._mediaPlayer = _mediaPlayer;\r\n        return this;\r\n    }\r\n\r\n    public TtsBuilder withBarTop(BarVisualizer _barTop) {\r\n        this._barTop = _barTop;\r\n        return this;\r\n    }\r\n\r\n    public TtsBuilder withBarBottom(BarVisualizer _barBottom) {\r\n        this._barBottom = _barBottom;\r\n        return this;\r\n    }\r\n\r\n    public Tts build() {\r\n        return new Tts(context, _mediaPlayer, _barTop, _barBottom);\r\n    }\r\n}\r\n```\r\n\r\n### Example :\r\n\r\n```java\r\npublic static void main(String[] args){\r\n    Tts ttsMedia = new Tts(aContext).withMediaPlayer(aMediaPlayer).build();\r\n    Tts ttsBarTopBottom = new Tts(aContext)\r\n            .withBarTop(aBarTop)\r\n            .withBarBottom(aBarBottom)\r\n            .build();\r\n}\r\n```\r\n____\r\n\r\n## Note\r\n\r\nThe naming convention in Java recommends:\r\n\r\n&gt; Variable names should not start with underscore _ or dollar sign $ characters, even though both are allowed.\r\n\r\nFor more details you can check [Oracle documentation][2].\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/70559203/15186569\r\n  [2]: https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html","title":"Optional parameters: Multiple constructors cause errors","body":"<h2>To resolve the error, you can:</h2>\n<h3>Delete <em>final</em> keyword in attributes</h3>\n<pre class=\"lang-java prettyprint-override\"><code>public class Tts {\n    public Context context;\n    private MediaPlayer _mediaPlayer;\n    private CopyBarVisualizer _barTop;\n    private CopyBarVisualizer _barBottom;\n\n    public Tts(Context context) {\n        this.context = context;\n    }\n\n    public Tts(Context context, MediaPlayer _mediaPlayer, BarVisualizer _barTop, BarVisualizer _barBottom) {\n        this.context = context;\n        this._mediaPlayer = _mediaPlayer;\n        this._barTop = (CopyBarVisualizer) _barTop;\n        this._barBottom = (CopyBarVisualizer) _barBottom;\n    }\n}\n</code></pre>\n<h3>Give <em>null</em> value to your <em>final</em> attributes</h3>\n<pre class=\"lang-java prettyprint-override\"><code>public class Tts {\n    public Context context;\n    private final MediaPlayer _mediaPlayer; \n    private final CopyBarVisualizer _barTop; \n    private final CopyBarVisualizer _barBottom; \n\n    public Tts(Context context) {\n        this(context, null, null, null); // to solve the error problem\n    }\n\n    public Tts(Context context, MediaPlayer _mediaPlayer, BarVisualizer _barTop, BarVisualizer _barBottom) {\n        this.context = context;\n        this._mediaPlayer = _mediaPlayer;\n        this._barTop = (CopyBarVisualizer) _barTop;\n        this._barBottom = (CopyBarVisualizer) _barBottom;\n    }\n}\n</code></pre>\n<p><em><a href=\"https://stackoverflow.com/a/70559203/15186569\">This code is from @Khahani</a></em></p>\n<hr />\n<h2>For optional attributes in your class you can use <em>Builder pattern</em> :</h2>\n<pre class=\"lang-java prettyprint-override\"><code>public class TtsBuilder{\n    public Context context;\n    private MediaPlayer _mediaPlayer = null;\n    private BarVisualizer _barTop = null;\n    private BarVisualizer _barBottom = null;\n\n    public TtsBuilder(Context context) {\n        this.context = context;\n    }\n\n    public TtsBuilder withMediaPlayer(MediaPlayer _mediaPlayer) {\n        this._mediaPlayer = _mediaPlayer;\n        return this;\n    }\n\n    public TtsBuilder withBarTop(BarVisualizer _barTop) {\n        this._barTop = _barTop;\n        return this;\n    }\n\n    public TtsBuilder withBarBottom(BarVisualizer _barBottom) {\n        this._barBottom = _barBottom;\n        return this;\n    }\n\n    public Tts build() {\n        return new Tts(context, _mediaPlayer, _barTop, _barBottom);\n    }\n}\n</code></pre>\n<h3>Example :</h3>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args){\n    Tts ttsMedia = new Tts(aContext).withMediaPlayer(aMediaPlayer).build();\n    Tts ttsBarTopBottom = new Tts(aContext)\n            .withBarTop(aBarTop)\n            .withBarBottom(aBarBottom)\n            .build();\n}\n</code></pre>\n<hr />\n<h2>Note</h2>\n<p>The naming convention in Java recommends:</p>\n<blockquote>\n<p>Variable names should not start with underscore _ or dollar sign $ characters, even though both are allowed.</p>\n</blockquote>\n<p>For more details you can check <a href=\"https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html\" rel=\"nofollow noreferrer\">Oracle documentation</a>.</p>\n"}],"owner":{"account_id":17113839,"reputation":641,"user_id":12383916,"display_name":"xRay"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":70559203,"answer_count":2,"score":0,"last_activity_date":1641293013,"creation_date":1641141057,"question_id":70557718,"body_markdown":"Since in Java optional parameters are not possible, I tried to create 2 constructors. \r\n\r\n```java\r\npublic class Tts {\r\n    public Context context;\r\n    private final MediaPlayer _mediaPlayer;\r\n    private final CopyBarVisualizer _barTop;\r\n    private final CopyBarVisualizer _barBottom;\r\n\r\n    public Tts(Context context) {\r\n        this.context = context;\r\n    }\r\n\r\n    public Tts(Context context, MediaPlayer _mediaPlayer, BarVisualizer _barTop, BarVisualizer _barBottom) {\r\n        this.context = context;\r\n        this._mediaPlayer = _mediaPlayer;\r\n        this._barTop = (CopyBarVisualizer) _barTop;\r\n        this._barBottom = (CopyBarVisualizer) _barBottom;\r\n    }\r\n}\r\n```\r\nNow my problems are the private properties. There I get the error\r\n\r\n&gt; Variable &#39;_mediaPlayer&#39; might not have been initialized\r\n\r\nIn another method, I want to check if the properties are set. But how can I avoid these errors?","title":"Optional parameters: Multiple constructors cause errors","body":"<p>Since in Java optional parameters are not possible, I tried to create 2 constructors.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Tts {\n    public Context context;\n    private final MediaPlayer _mediaPlayer;\n    private final CopyBarVisualizer _barTop;\n    private final CopyBarVisualizer _barBottom;\n\n    public Tts(Context context) {\n        this.context = context;\n    }\n\n    public Tts(Context context, MediaPlayer _mediaPlayer, BarVisualizer _barTop, BarVisualizer _barBottom) {\n        this.context = context;\n        this._mediaPlayer = _mediaPlayer;\n        this._barTop = (CopyBarVisualizer) _barTop;\n        this._barBottom = (CopyBarVisualizer) _barBottom;\n    }\n}\n</code></pre>\n<p>Now my problems are the private properties. There I get the error</p>\n<blockquote>\n<p>Variable '_mediaPlayer' might not have been initialized</p>\n</blockquote>\n<p>In another method, I want to check if the properties are set. But how can I avoid these errors?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8280,"page":1712,"page_size":100}
